function kz(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function _0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Pv={exports:{}},Kt={};var WA;function Cz(){if(WA)return Kt;WA=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),g=Symbol.iterator;function y(V){return V===null||typeof V!="object"?null:(V=g&&V[g]||V["@@iterator"],typeof V=="function"?V:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,_={};function b(V,W,le){this.props=V,this.context=W,this.refs=_,this.updater=le||v}b.prototype.isReactComponent={},b.prototype.setState=function(V,W){if(typeof V!="object"&&typeof V!="function"&&V!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,V,W,"setState")},b.prototype.forceUpdate=function(V){this.updater.enqueueForceUpdate(this,V,"forceUpdate")};function N(){}N.prototype=b.prototype;function k(V,W,le){this.props=V,this.context=W,this.refs=_,this.updater=le||v}var S=k.prototype=new N;S.constructor=k,w(S,b.prototype),S.isPureReactComponent=!0;var C=Array.isArray;function I(){}var E={H:null,A:null,T:null,S:null},U=Object.prototype.hasOwnProperty;function T(V,W,le){var oe=le.ref;return{$$typeof:t,type:V,key:W,ref:oe!==void 0?oe:null,props:le}}function ne(V,W){return T(V.type,W,V.props)}function q(V){return typeof V=="object"&&V!==null&&V.$$typeof===t}function F(V){var W={"=":"=0",":":"=2"};return"$"+V.replace(/[=:]/g,function(le){return W[le]})}var Y=/\/+/g;function O(V,W){return typeof V=="object"&&V!==null&&V.key!=null?F(""+V.key):W.toString(36)}function se(V){switch(V.status){case"fulfilled":return V.value;case"rejected":throw V.reason;default:switch(typeof V.status=="string"?V.then(I,I):(V.status="pending",V.then(function(W){V.status==="pending"&&(V.status="fulfilled",V.value=W)},function(W){V.status==="pending"&&(V.status="rejected",V.reason=W)})),V.status){case"fulfilled":return V.value;case"rejected":throw V.reason}}throw V}function X(V,W,le,oe,ve){var me=typeof V;(me==="undefined"||me==="boolean")&&(V=null);var $=!1;if(V===null)$=!0;else switch(me){case"bigint":case"string":case"number":$=!0;break;case"object":switch(V.$$typeof){case t:case e:$=!0;break;case m:return $=V._init,X($(V._payload),W,le,oe,ve)}}if($)return ve=ve(V),$=oe===""?"."+O(V,0):oe,C(ve)?(le="",$!=null&&(le=$.replace(Y,"$&/")+"/"),X(ve,W,le,"",function(Z){return Z})):ve!=null&&(q(ve)&&(ve=ne(ve,le+(ve.key==null||V&&V.key===ve.key?"":(""+ve.key).replace(Y,"$&/")+"/")+$)),W.push(ve)),1;$=0;var H=oe===""?".":oe+":";if(C(V))for(var fe=0;fe<V.length;fe++)oe=V[fe],me=H+O(oe,fe),$+=X(oe,W,le,me,ve);else if(fe=y(V),typeof fe=="function")for(V=fe.call(V),fe=0;!(oe=V.next()).done;)oe=oe.value,me=H+O(oe,fe++),$+=X(oe,W,le,me,ve);else if(me==="object"){if(typeof V.then=="function")return X(se(V),W,le,oe,ve);throw W=String(V),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(V).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return $}function M(V,W,le){if(V==null)return V;var oe=[],ve=0;return X(V,oe,"","",function(me){return W.call(le,me,ve++)}),oe}function K(V){if(V._status===-1){var W=V._result;W=W(),W.then(function(le){(V._status===0||V._status===-1)&&(V._status=1,V._result=le)},function(le){(V._status===0||V._status===-1)&&(V._status=2,V._result=le)}),V._status===-1&&(V._status=0,V._result=W)}if(V._status===1)return V._result.default;throw V._result}var z=typeof reportError=="function"?reportError:function(V){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof V=="object"&&V!==null&&typeof V.message=="string"?String(V.message):String(V),error:V});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",V);return}console.error(V)},he={map:M,forEach:function(V,W,le){M(V,function(){W.apply(this,arguments)},le)},count:function(V){var W=0;return M(V,function(){W++}),W},toArray:function(V){return M(V,function(W){return W})||[]},only:function(V){if(!q(V))throw Error("React.Children.only expected to receive a single React element child.");return V}};return Kt.Activity=f,Kt.Children=he,Kt.Component=b,Kt.Fragment=r,Kt.Profiler=a,Kt.PureComponent=k,Kt.StrictMode=n,Kt.Suspense=d,Kt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,Kt.__COMPILER_RUNTIME={__proto__:null,c:function(V){return E.H.useMemoCache(V)}},Kt.cache=function(V){return function(){return V.apply(null,arguments)}},Kt.cacheSignal=function(){return null},Kt.cloneElement=function(V,W,le){if(V==null)throw Error("The argument must be a React element, but you passed "+V+".");var oe=w({},V.props),ve=V.key;if(W!=null)for(me in W.key!==void 0&&(ve=""+W.key),W)!U.call(W,me)||me==="key"||me==="__self"||me==="__source"||me==="ref"&&W.ref===void 0||(oe[me]=W[me]);var me=arguments.length-2;if(me===1)oe.children=le;else if(1<me){for(var $=Array(me),H=0;H<me;H++)$[H]=arguments[H+2];oe.children=$}return T(V.type,ve,oe)},Kt.createContext=function(V){return V={$$typeof:o,_currentValue:V,_currentValue2:V,_threadCount:0,Provider:null,Consumer:null},V.Provider=V,V.Consumer={$$typeof:i,_context:V},V},Kt.createElement=function(V,W,le){var oe,ve={},me=null;if(W!=null)for(oe in W.key!==void 0&&(me=""+W.key),W)U.call(W,oe)&&oe!=="key"&&oe!=="__self"&&oe!=="__source"&&(ve[oe]=W[oe]);var $=arguments.length-2;if($===1)ve.children=le;else if(1<$){for(var H=Array($),fe=0;fe<$;fe++)H[fe]=arguments[fe+2];ve.children=H}if(V&&V.defaultProps)for(oe in $=V.defaultProps,$)ve[oe]===void 0&&(ve[oe]=$[oe]);return T(V,me,ve)},Kt.createRef=function(){return{current:null}},Kt.forwardRef=function(V){return{$$typeof:c,render:V}},Kt.isValidElement=q,Kt.lazy=function(V){return{$$typeof:m,_payload:{_status:-1,_result:V},_init:K}},Kt.memo=function(V,W){return{$$typeof:h,type:V,compare:W===void 0?null:W}},Kt.startTransition=function(V){var W=E.T,le={};E.T=le;try{var oe=V(),ve=E.S;ve!==null&&ve(le,oe),typeof oe=="object"&&oe!==null&&typeof oe.then=="function"&&oe.then(I,z)}catch(me){z(me)}finally{W!==null&&le.types!==null&&(W.types=le.types),E.T=W}},Kt.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},Kt.use=function(V){return E.H.use(V)},Kt.useActionState=function(V,W,le){return E.H.useActionState(V,W,le)},Kt.useCallback=function(V,W){return E.H.useCallback(V,W)},Kt.useContext=function(V){return E.H.useContext(V)},Kt.useDebugValue=function(){},Kt.useDeferredValue=function(V,W){return E.H.useDeferredValue(V,W)},Kt.useEffect=function(V,W){return E.H.useEffect(V,W)},Kt.useEffectEvent=function(V){return E.H.useEffectEvent(V)},Kt.useId=function(){return E.H.useId()},Kt.useImperativeHandle=function(V,W,le){return E.H.useImperativeHandle(V,W,le)},Kt.useInsertionEffect=function(V,W){return E.H.useInsertionEffect(V,W)},Kt.useLayoutEffect=function(V,W){return E.H.useLayoutEffect(V,W)},Kt.useMemo=function(V,W){return E.H.useMemo(V,W)},Kt.useOptimistic=function(V,W){return E.H.useOptimistic(V,W)},Kt.useReducer=function(V,W,le){return E.H.useReducer(V,W,le)},Kt.useRef=function(V){return E.H.useRef(V)},Kt.useState=function(V){return E.H.useState(V)},Kt.useSyncExternalStore=function(V,W,le){return E.H.useSyncExternalStore(V,W,le)},Kt.useTransition=function(){return E.H.useTransition()},Kt.version="19.2.1",Kt}var GA;function N0(){return GA||(GA=1,Pv.exports=Cz()),Pv.exports}var j=N0();const ot=_0(j),mN=kz({__proto__:null,default:ot},[j]);var Ov={exports:{}},yf={},Lv={exports:{}},Fv={};var YA;function Az(){return YA||(YA=1,(function(t){function e(X,M){var K=X.length;X.push(M);e:for(;0<K;){var z=K-1>>>1,he=X[z];if(0<a(he,M))X[z]=M,X[K]=he,K=z;else break e}}function r(X){return X.length===0?null:X[0]}function n(X){if(X.length===0)return null;var M=X[0],K=X.pop();if(K!==M){X[0]=K;e:for(var z=0,he=X.length,V=he>>>1;z<V;){var W=2*(z+1)-1,le=X[W],oe=W+1,ve=X[oe];if(0>a(le,K))oe<he&&0>a(ve,le)?(X[z]=ve,X[oe]=K,z=oe):(X[z]=le,X[W]=K,z=W);else if(oe<he&&0>a(ve,K))X[z]=ve,X[oe]=K,z=oe;else break e}}return M}function a(X,M){var K=X.sortIndex-M.sortIndex;return K!==0?K:X.id-M.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var d=[],h=[],m=1,f=null,g=3,y=!1,v=!1,w=!1,_=!1,b=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function S(X){for(var M=r(h);M!==null;){if(M.callback===null)n(h);else if(M.startTime<=X)n(h),M.sortIndex=M.expirationTime,e(d,M);else break;M=r(h)}}function C(X){if(w=!1,S(X),!v)if(r(d)!==null)v=!0,I||(I=!0,F());else{var M=r(h);M!==null&&se(C,M.startTime-X)}}var I=!1,E=-1,U=5,T=-1;function ne(){return _?!0:!(t.unstable_now()-T<U)}function q(){if(_=!1,I){var X=t.unstable_now();T=X;var M=!0;try{e:{v=!1,w&&(w=!1,N(E),E=-1),y=!0;var K=g;try{t:{for(S(X),f=r(d);f!==null&&!(f.expirationTime>X&&ne());){var z=f.callback;if(typeof z=="function"){f.callback=null,g=f.priorityLevel;var he=z(f.expirationTime<=X);if(X=t.unstable_now(),typeof he=="function"){f.callback=he,S(X),M=!0;break t}f===r(d)&&n(d),S(X)}else n(d);f=r(d)}if(f!==null)M=!0;else{var V=r(h);V!==null&&se(C,V.startTime-X),M=!1}}break e}finally{f=null,g=K,y=!1}M=void 0}}finally{M?F():I=!1}}}var F;if(typeof k=="function")F=function(){k(q)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,O=Y.port2;Y.port1.onmessage=q,F=function(){O.postMessage(null)}}else F=function(){b(q,0)};function se(X,M){E=b(function(){X(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(X){switch(g){case 1:case 2:case 3:var M=3;break;default:M=g}var K=g;g=M;try{return X()}finally{g=K}},t.unstable_requestPaint=function(){_=!0},t.unstable_runWithPriority=function(X,M){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var K=g;g=X;try{return M()}finally{g=K}},t.unstable_scheduleCallback=function(X,M,K){var z=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?z+K:z):K=z,X){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=K+he,X={id:m++,callback:M,priorityLevel:X,startTime:K,expirationTime:he,sortIndex:-1},K>z?(X.sortIndex=K,e(h,X),r(d)===null&&X===r(h)&&(w?(N(E),E=-1):w=!0,se(C,K-z))):(X.sortIndex=he,e(d,X),v||y||(v=!0,I||(I=!0,F()))),X},t.unstable_shouldYield=ne,t.unstable_wrapCallback=function(X){var M=g;return function(){var K=g;g=M;try{return X.apply(this,arguments)}finally{g=K}}}})(Fv)),Fv}var KA;function Ez(){return KA||(KA=1,Lv.exports=Az()),Lv.exports}var Bv={exports:{}},cn={};var XA;function Tz(){if(XA)return cn;XA=1;var t=N0();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(d,h,m){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:f==null?null:""+f,children:d,containerInfo:h,implementation:m}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return cn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,cn.createPortal=function(d,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return i(d,h,null,m)},cn.flushSync=function(d){var h=o.T,m=n.p;try{if(o.T=null,n.p=2,d)return d()}finally{o.T=h,n.p=m,n.d.f()}},cn.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(d,h))},cn.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},cn.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var m=h.as,f=c(m,h.crossOrigin),g=typeof h.integrity=="string"?h.integrity:void 0,y=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?n.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:f,integrity:g,fetchPriority:y}):m==="script"&&n.d.X(d,{crossOrigin:f,integrity:g,fetchPriority:y,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},cn.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=c(h.as,h.crossOrigin);n.d.M(d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(d)},cn.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,f=c(m,h.crossOrigin);n.d.L(d,m,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},cn.preloadModule=function(d,h){if(typeof d=="string")if(h){var m=c(h.as,h.crossOrigin);n.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(d)},cn.requestFormReset=function(d){n.d.r(d)},cn.unstable_batchedUpdates=function(d,h){return d(h)},cn.useFormState=function(d,h,m){return o.H.useFormState(d,h,m)},cn.useFormStatus=function(){return o.H.useHostTransitionStatus()},cn.version="19.2.1",cn}var ZA;function t6(){if(ZA)return Bv.exports;ZA=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Bv.exports=Tz(),Bv.exports}var QA;function Rz(){if(QA)return yf;QA=1;var t=Ez(),e=N0(),r=t6();function n(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function i(l){var u=l,p=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(p=u.return),l=u.return;while(l)}return u.tag===3?p:null}function o(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function c(l){if(l.tag===31){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function d(l){if(i(l)!==l)throw Error(n(188))}function h(l){var u=l.alternate;if(!u){if(u=i(l),u===null)throw Error(n(188));return u!==l?null:l}for(var p=l,x=u;;){var A=p.return;if(A===null)break;var D=A.alternate;if(D===null){if(x=A.return,x!==null){p=x;continue}break}if(A.child===D.child){for(D=A.child;D;){if(D===p)return d(A),l;if(D===x)return d(A),u;D=D.sibling}throw Error(n(188))}if(p.return!==x.return)p=A,x=D;else{for(var te=!1,we=A.child;we;){if(we===p){te=!0,p=A,x=D;break}if(we===x){te=!0,x=A,p=D;break}we=we.sibling}if(!te){for(we=D.child;we;){if(we===p){te=!0,p=D,x=A;break}if(we===x){te=!0,x=D,p=A;break}we=we.sibling}if(!te)throw Error(n(189))}}if(p.alternate!==x)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?l:u}function m(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l;for(l=l.child;l!==null;){if(u=m(l),u!==null)return u;l=l.sibling}return null}var f=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),k=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),I=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),U=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),ne=Symbol.for("react.memo_cache_sentinel"),q=Symbol.iterator;function F(l){return l===null||typeof l!="object"?null:(l=q&&l[q]||l["@@iterator"],typeof l=="function"?l:null)}var Y=Symbol.for("react.client.reference");function O(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===Y?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case w:return"Fragment";case b:return"Profiler";case _:return"StrictMode";case C:return"Suspense";case I:return"SuspenseList";case T:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case v:return"Portal";case k:return l.displayName||"Context";case N:return(l._context.displayName||"Context")+".Consumer";case S:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case E:return u=l.displayName||null,u!==null?u:O(l.type)||"Memo";case U:u=l._payload,l=l._init;try{return O(l(u))}catch{}}return null}var se=Array.isArray,X=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,K={pending:!1,data:null,method:null,action:null},z=[],he=-1;function V(l){return{current:l}}function W(l){0>he||(l.current=z[he],z[he]=null,he--)}function le(l,u){he++,z[he]=l.current,l.current=u}var oe=V(null),ve=V(null),me=V(null),$=V(null);function H(l,u){switch(le(me,u),le(ve,l),le(oe,null),u.nodeType){case 9:case 11:l=(l=u.documentElement)&&(l=l.namespaceURI)?pA(l):0;break;default:if(l=u.tagName,u=u.namespaceURI)u=pA(u),l=gA(u,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}W(oe),le(oe,l)}function fe(){W(oe),W(ve),W(me)}function Z(l){l.memoizedState!==null&&le($,l);var u=oe.current,p=gA(u,l.type);u!==p&&(le(ve,l),le(oe,p))}function ee(l){ve.current===l&&(W(oe),W(ve)),$.current===l&&(W($),mf._currentValue=K)}var J,ke;function L(l){if(J===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);J=u&&u[1]||"",ke=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+J+l+ke}var Te=!1;function Q(l,u){if(!l||Te)return"";Te=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(u){var Je=function(){throw Error()};if(Object.defineProperty(Je.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Je,[])}catch(He){var ze=He}Reflect.construct(l,[],Je)}else{try{Je.call()}catch(He){ze=He}l.call(Je.prototype)}}else{try{throw Error()}catch(He){ze=He}(Je=l())&&typeof Je.catch=="function"&&Je.catch(function(){})}}catch(He){if(He&&ze&&typeof He.stack=="string")return[He.stack,ze.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var D=x.DetermineComponentFrameRoot(),te=D[0],we=D[1];if(te&&we){var Me=te.split(`
`),Ie=we.split(`
`);for(A=x=0;x<Me.length&&!Me[x].includes("DetermineComponentFrameRoot");)x++;for(;A<Ie.length&&!Ie[A].includes("DetermineComponentFrameRoot");)A++;if(x===Me.length||A===Ie.length)for(x=Me.length-1,A=Ie.length-1;1<=x&&0<=A&&Me[x]!==Ie[A];)A--;for(;1<=x&&0<=A;x--,A--)if(Me[x]!==Ie[A]){if(x!==1||A!==1)do if(x--,A--,0>A||Me[x]!==Ie[A]){var Ye=`
`+Me[x].replace(" at new "," at ");return l.displayName&&Ye.includes("<anonymous>")&&(Ye=Ye.replace("<anonymous>",l.displayName)),Ye}while(1<=x&&0<=A);break}}}finally{Te=!1,Error.prepareStackTrace=p}return(p=l?l.displayName||l.name:"")?L(p):""}function R(l,u){switch(l.tag){case 26:case 27:case 5:return L(l.type);case 16:return L("Lazy");case 13:return l.child!==u&&u!==null?L("Suspense Fallback"):L("Suspense");case 19:return L("SuspenseList");case 0:case 15:return Q(l.type,!1);case 11:return Q(l.type.render,!1);case 1:return Q(l.type,!0);case 31:return L("Activity");default:return""}}function P(l){try{var u="",p=null;do u+=R(l,p),p=l,l=l.return;while(l);return u}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}var G=Object.prototype.hasOwnProperty,ye=t.unstable_scheduleCallback,ce=t.unstable_cancelCallback,ue=t.unstable_shouldYield,De=t.unstable_requestPaint,je=t.unstable_now,Ae=t.unstable_getCurrentPriorityLevel,Be=t.unstable_ImmediatePriority,et=t.unstable_UserBlockingPriority,lt=t.unstable_NormalPriority,gt=t.unstable_LowPriority,_t=t.unstable_IdlePriority,Ht=t.log,Yt=t.unstable_setDisableYieldValue,Ct=null,us=null;function Ge(l){if(typeof Ht=="function"&&Yt(l),us&&typeof us.setStrictMode=="function")try{us.setStrictMode(Ct,l)}catch{}}var Ze=Math.clz32?Math.clz32:Es,Ke=Math.log,hs=Math.LN2;function Es(l){return l>>>=0,l===0?32:31-(Ke(l)/hs|0)|0}var Cs=256,jn=262144,$s=4194304;function vr(l){var u=l&42;if(u!==0)return u;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function Ot(l,u,p){var x=l.pendingLanes;if(x===0)return 0;var A=0,D=l.suspendedLanes,te=l.pingedLanes;l=l.warmLanes;var we=x&134217727;return we!==0?(x=we&~D,x!==0?A=vr(x):(te&=we,te!==0?A=vr(te):p||(p=we&~l,p!==0&&(A=vr(p))))):(we=x&~D,we!==0?A=vr(we):te!==0?A=vr(te):p||(p=x&~l,p!==0&&(A=vr(p)))),A===0?0:u!==0&&u!==A&&(u&D)===0&&(D=A&-A,p=u&-u,D>=p||D===32&&(p&4194048)!==0)?u:A}function xe(l,u){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&u)===0}function At(l,u){switch(l){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Qs(){var l=$s;return $s<<=1,($s&62914560)===0&&($s=4194304),l}function kt(l){for(var u=[],p=0;31>p;p++)u.push(l);return u}function it(l,u){l.pendingLanes|=u,u!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function bs(l,u,p,x,A,D){var te=l.pendingLanes;l.pendingLanes=p,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=p,l.entangledLanes&=p,l.errorRecoveryDisabledLanes&=p,l.shellSuspendCounter=0;var we=l.entanglements,Me=l.expirationTimes,Ie=l.hiddenUpdates;for(p=te&~p;0<p;){var Ye=31-Ze(p),Je=1<<Ye;we[Ye]=0,Me[Ye]=-1;var ze=Ie[Ye];if(ze!==null)for(Ie[Ye]=null,Ye=0;Ye<ze.length;Ye++){var He=ze[Ye];He!==null&&(He.lane&=-536870913)}p&=~Je}x!==0&&lr(l,x,0),D!==0&&A===0&&l.tag!==0&&(l.suspendedLanes|=D&~(te&~u))}function lr(l,u,p){l.pendingLanes|=u,l.suspendedLanes&=~u;var x=31-Ze(u);l.entangledLanes|=u,l.entanglements[x]=l.entanglements[x]|1073741824|p&261930}function qs(l,u){var p=l.entangledLanes|=u;for(l=l.entanglements;p;){var x=31-Ze(p),A=1<<x;A&u|l[x]&u&&(l[x]|=u),p&=~A}}function $r(l,u){var p=u&-u;return p=(p&42)!==0?1:Rn(p),(p&(l.suspendedLanes|u))!==0?0:p}function Rn(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function _n(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function pi(){var l=M.p;return l!==0?l:(l=window.event,l===void 0?32:IA(l.type))}function Dd(l,u){var p=M.p;try{return M.p=l,u()}finally{M.p=p}}var Nn=Math.random().toString(36).slice(2),wr="__reactFiber$"+Nn,ur="__reactProps$"+Nn,Ar="__reactContainer$"+Nn,eo="__reactEvents$"+Nn,to="__reactListeners$"+Nn,Qo="__reactHandles$"+Nn,wa="__reactResources$"+Nn,Wa="__reactMarker$"+Nn;function hc(l){delete l[wr],delete l[ur],delete l[eo],delete l[to],delete l[Qo]}function gi(l){var u=l[wr];if(u)return u;for(var p=l.parentNode;p;){if(u=p[Ar]||p[wr]){if(p=u.alternate,u.child!==null||p!==null&&p.child!==null)for(l=_A(l);l!==null;){if(p=l[wr])return p;l=_A(l)}return u}l=p,p=l.parentNode}return null}function Jn(l){if(l=l[wr]||l[Ar]){var u=l.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return l}return null}function xi(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l.stateNode;throw Error(n(33))}function ea(l){var u=l[wa];return u||(u=l[wa]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Os(l){l[Wa]=!0}var Jo=new Set,fc={};function ja(l,u){Sn(l,u),Sn(l+"Capture",u)}function Sn(l,u){for(fc[l]=u,l=0;l<u.length;l++)Jo.add(u[l])}var Dn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),el={},ta={};function sa(l){return G.call(ta,l)?!0:G.call(el,l)?!1:Dn.test(l)?ta[l]=!0:(el[l]=!0,!1)}function so(l,u,p){if(sa(u))if(p===null)l.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":l.removeAttribute(u);return;case"boolean":var x=u.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){l.removeAttribute(u);return}}l.setAttribute(u,""+p)}}function ro(l,u,p){if(p===null)l.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(u);return}l.setAttribute(u,""+p)}}function Mn(l,u,p,x){if(x===null)l.removeAttribute(p);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(p);return}l.setAttributeNS(u,p,""+x)}}function Xr(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function no(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function jh(l,u,p){var x=Object.getOwnPropertyDescriptor(l.constructor.prototype,u);if(!l.hasOwnProperty(u)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var A=x.get,D=x.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return A.call(this)},set:function(te){p=""+te,D.call(this,te)}}),Object.defineProperty(l,u,{enumerable:x.enumerable}),{getValue:function(){return p},setValue:function(te){p=""+te},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function mc(l){if(!l._valueTracker){var u=no(l)?"checked":"value";l._valueTracker=jh(l,u,""+l[u])}}function tl(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var p=u.getValue(),x="";return l&&(x=no(l)?l.checked?"true":"false":l.value),l=x,l!==p?(u.setValue(l),!0):!1}function Ga(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var yi=/[\n"\\]/g;function Er(l){return l.replace(yi,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Ya(l,u,p,x,A,D,te,we){l.name="",te!=null&&typeof te!="function"&&typeof te!="symbol"&&typeof te!="boolean"?l.type=te:l.removeAttribute("type"),u!=null?te==="number"?(u===0&&l.value===""||l.value!=u)&&(l.value=""+Xr(u)):l.value!==""+Xr(u)&&(l.value=""+Xr(u)):te!=="submit"&&te!=="reset"||l.removeAttribute("value"),u!=null?gc(l,te,Xr(u)):p!=null?gc(l,te,Xr(p)):x!=null&&l.removeAttribute("value"),A==null&&D!=null&&(l.defaultChecked=!!D),A!=null&&(l.checked=A&&typeof A!="function"&&typeof A!="symbol"),we!=null&&typeof we!="function"&&typeof we!="symbol"&&typeof we!="boolean"?l.name=""+Xr(we):l.removeAttribute("name")}function pc(l,u,p,x,A,D,te,we){if(D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(l.type=D),u!=null||p!=null){if(!(D!=="submit"&&D!=="reset"||u!=null)){mc(l);return}p=p!=null?""+Xr(p):"",u=u!=null?""+Xr(u):p,we||u===l.value||(l.value=u),l.defaultValue=u}x=x??A,x=typeof x!="function"&&typeof x!="symbol"&&!!x,l.checked=we?l.checked:!!x,l.defaultChecked=!!x,te!=null&&typeof te!="function"&&typeof te!="symbol"&&typeof te!="boolean"&&(l.name=te),mc(l)}function gc(l,u,p){u==="number"&&Ga(l.ownerDocument)===l||l.defaultValue===""+p||(l.defaultValue=""+p)}function bi(l,u,p,x){if(l=l.options,u){u={};for(var A=0;A<p.length;A++)u["$"+p[A]]=!0;for(p=0;p<l.length;p++)A=u.hasOwnProperty("$"+l[p].value),l[p].selected!==A&&(l[p].selected=A),A&&x&&(l[p].defaultSelected=!0)}else{for(p=""+Xr(p),u=null,A=0;A<l.length;A++){if(l[A].value===p){l[A].selected=!0,x&&(l[A].defaultSelected=!0);return}u!==null||l[A].disabled||(u=l[A])}u!==null&&(u.selected=!0)}}function Md(l,u,p){if(u!=null&&(u=""+Xr(u),u!==l.value&&(l.value=u),p==null)){l.defaultValue!==u&&(l.defaultValue=u);return}l.defaultValue=p!=null?""+Xr(p):""}function Pd(l,u,p,x){if(u==null){if(x!=null){if(p!=null)throw Error(n(92));if(se(x)){if(1<x.length)throw Error(n(93));x=x[0]}p=x}p==null&&(p=""),u=p}p=Xr(u),l.defaultValue=p,x=l.textContent,x===p&&x!==""&&x!==null&&(l.value=x),mc(l)}function vi(l,u){if(u){var p=l.firstChild;if(p&&p===l.lastChild&&p.nodeType===3){p.nodeValue=u;return}}l.textContent=u}var _h=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sl(l,u,p){var x=u.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?x?l.setProperty(u,""):u==="float"?l.cssFloat="":l[u]="":x?l.setProperty(u,p):typeof p!="number"||p===0||_h.has(u)?u==="float"?l.cssFloat=p:l[u]=(""+p).trim():l[u]=p+"px"}function _a(l,u,p){if(u!=null&&typeof u!="object")throw Error(n(62));if(l=l.style,p!=null){for(var x in p)!p.hasOwnProperty(x)||u!=null&&u.hasOwnProperty(x)||(x.indexOf("--")===0?l.setProperty(x,""):x==="float"?l.cssFloat="":l[x]="");for(var A in u)x=u[A],u.hasOwnProperty(A)&&p[A]!==x&&sl(l,A,x)}else for(var D in u)u.hasOwnProperty(D)&&sl(l,D,u[D])}function xc(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Nh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Sh=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rl(l){return Sh.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}function Pn(){}var yc=null;function nl(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Ka=null,wi=null;function Od(l){var u=Jn(l);if(u&&(l=u.stateNode)){var p=l[ur]||null;e:switch(l=u.stateNode,u.type){case"input":if(Ya(l,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),u=p.name,p.type==="radio"&&u!=null){for(p=l;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+Er(""+u)+'"][type="radio"]'),u=0;u<p.length;u++){var x=p[u];if(x!==l&&x.form===l.form){var A=x[ur]||null;if(!A)throw Error(n(90));Ya(x,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(u=0;u<p.length;u++)x=p[u],x.form===l.form&&tl(x)}break e;case"textarea":Md(l,p.value,p.defaultValue);break e;case"select":u=p.value,u!=null&&bi(l,!!p.multiple,u,!1)}}}var ji=!1;function ao(l,u,p){if(ji)return l(u,p);ji=!0;try{var x=l(u);return x}finally{if(ji=!1,(Ka!==null||wi!==null)&&(Xp(),Ka&&(u=Ka,l=wi,wi=Ka=null,Od(u),l)))for(u=0;u<l.length;u++)Od(l[u])}}function _i(l,u){var p=l.stateNode;if(p===null)return null;var x=p[ur]||null;if(x===null)return null;p=x[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(l=l.type,x=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!x;break e;default:l=!1}if(l)return null;if(p&&typeof p!="function")throw Error(n(231,u,typeof p));return p}var ra=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bc=!1;if(ra)try{var io={};Object.defineProperty(io,"passive",{get:function(){bc=!0}}),window.addEventListener("test",io,io),window.removeEventListener("test",io,io)}catch{bc=!1}var On=null,al=null,il=null;function Lt(){if(il)return il;var l,u=al,p=u.length,x,A="value"in On?On.value:On.textContent,D=A.length;for(l=0;l<p&&u[l]===A[l];l++);var te=p-l;for(x=1;x<=te&&u[p-x]===A[D-x];x++);return il=A.slice(l,1<x?1-x:void 0)}function Ln(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function Na(){return!0}function Ld(){return!1}function Zr(l){function u(p,x,A,D,te){this._reactName=p,this._targetInst=A,this.type=x,this.nativeEvent=D,this.target=te,this.currentTarget=null;for(var we in l)l.hasOwnProperty(we)&&(p=l[we],this[we]=p?p(D):D[we]);return this.isDefaultPrevented=(D.defaultPrevented!=null?D.defaultPrevented:D.returnValue===!1)?Na:Ld,this.isPropagationStopped=Ld,this}return f(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Na)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Na)},persist:function(){},isPersistent:Na}),u}var Sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ae=Zr(Sa),Ee=f({},Sa,{view:0,detail:0}),xt=Zr(Ee),ws,Tr,Qr,Xa=f({},Ee,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ch,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Qr&&(Qr&&l.type==="mousemove"?(ws=l.screenX-Qr.screenX,Tr=l.screenY-Qr.screenY):Tr=ws=0,Qr=l),ws)},movementY:function(l){return"movementY"in l?l.movementY:Tr}}),ka=Zr(Xa),ol=f({},Xa,{dataTransfer:0}),ll=Zr(ol),Ty=f({},Ee,{relatedTarget:0}),kh=Zr(Ty),Ry=f({},Sa,{animationName:0,elapsedTime:0,pseudoElement:0}),Dy=Zr(Ry),My=f({},Sa,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),Py=Zr(My),Oy=f({},Sa,{data:0}),cp=Zr(Oy),Ly={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Fy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},By={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Iy(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=By[l])?!!u[l]:!1}function Ch(){return Iy}var zy=f({},Ee,{key:function(l){if(l.key){var u=Ly[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=Ln(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Fy[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ch,charCode:function(l){return l.type==="keypress"?Ln(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Ln(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Vr=Zr(zy),Ah=f({},Xa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),dp=Zr(Ah),ie=f({},Ee,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ch}),B=Zr(ie),re=f({},Sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ne=Zr(re),Re=f({},Xa,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Xe=Zr(Re),dt=f({},Sa,{newState:0,oldState:0}),wt=Zr(dt),Wt=[9,13,27,32],is=ra&&"CompositionEvent"in window,fs=null;ra&&"documentMode"in document&&(fs=document.documentMode);var hr=ra&&"TextEvent"in window&&!fs,vc=ra&&(!is||fs&&8<fs&&11>=fs),up=" ",Eh=!1;function hp(l,u){switch(l){case"keyup":return Wt.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Th(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var cl=!1;function fp(l,u){switch(l){case"compositionend":return Th(u);case"keypress":return u.which!==32?null:(Eh=!0,up);case"textInput":return l=u.data,l===up&&Eh?null:l;default:return null}}function Uy(l,u){if(cl)return l==="compositionend"||!is&&hp(l,u)?(l=Lt(),il=al=On=null,cl=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return vc&&u.locale!=="ko"?null:u.data;default:return null}}var $y={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Rh(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!$y[l.type]:u==="textarea"}function Dh(l,u,p,x){Ka?wi?wi.push(x):wi=[x]:Ka=x,u=rg(u,"onChange"),0<u.length&&(p=new ae("onChange","change",null,p,x),l.push({event:p,listeners:u}))}var dl=null,oo=null;function Mh(l){cA(l,0)}function wc(l){var u=xi(l);if(tl(u))return l}function mp(l,u){if(l==="change")return u}var pp=!1;if(ra){var Ph;if(ra){var Oh="oninput"in document;if(!Oh){var Lh=document.createElement("div");Lh.setAttribute("oninput","return;"),Oh=typeof Lh.oninput=="function"}Ph=Oh}else Ph=!1;pp=Ph&&(!document.documentMode||9<document.documentMode)}function RS(){dl&&(dl.detachEvent("onpropertychange",DS),oo=dl=null)}function DS(l){if(l.propertyName==="value"&&wc(oo)){var u=[];Dh(u,oo,l,nl(l)),ao(Mh,u)}}function e7(l,u,p){l==="focusin"?(RS(),dl=u,oo=p,dl.attachEvent("onpropertychange",DS)):l==="focusout"&&RS()}function t7(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return wc(oo)}function s7(l,u){if(l==="click")return wc(u)}function r7(l,u){if(l==="input"||l==="change")return wc(u)}function n7(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var na=typeof Object.is=="function"?Object.is:n7;function Fh(l,u){if(na(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var p=Object.keys(l),x=Object.keys(u);if(p.length!==x.length)return!1;for(x=0;x<p.length;x++){var A=p[x];if(!G.call(u,A)||!na(l[A],u[A]))return!1}return!0}function MS(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function PS(l,u){var p=MS(l);l=0;for(var x;p;){if(p.nodeType===3){if(x=l+p.textContent.length,l<=u&&x>=u)return{node:p,offset:u-l};l=x}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=MS(p)}}function OS(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?OS(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function LS(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var u=Ga(l.document);u instanceof l.HTMLIFrameElement;){try{var p=typeof u.contentWindow.location.href=="string"}catch{p=!1}if(p)l=u.contentWindow;else break;u=Ga(l.document)}return u}function Vy(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}var a7=ra&&"documentMode"in document&&11>=document.documentMode,Fd=null,Hy=null,Bh=null,qy=!1;function FS(l,u,p){var x=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;qy||Fd==null||Fd!==Ga(x)||(x=Fd,"selectionStart"in x&&Vy(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Bh&&Fh(Bh,x)||(Bh=x,x=rg(Hy,"onSelect"),0<x.length&&(u=new ae("onSelect","select",null,u,p),l.push({event:u,listeners:x}),u.target=Fd)))}function jc(l,u){var p={};return p[l.toLowerCase()]=u.toLowerCase(),p["Webkit"+l]="webkit"+u,p["Moz"+l]="moz"+u,p}var Bd={animationend:jc("Animation","AnimationEnd"),animationiteration:jc("Animation","AnimationIteration"),animationstart:jc("Animation","AnimationStart"),transitionrun:jc("Transition","TransitionRun"),transitionstart:jc("Transition","TransitionStart"),transitioncancel:jc("Transition","TransitionCancel"),transitionend:jc("Transition","TransitionEnd")},Wy={},BS={};ra&&(BS=document.createElement("div").style,"AnimationEvent"in window||(delete Bd.animationend.animation,delete Bd.animationiteration.animation,delete Bd.animationstart.animation),"TransitionEvent"in window||delete Bd.transitionend.transition);function _c(l){if(Wy[l])return Wy[l];if(!Bd[l])return l;var u=Bd[l],p;for(p in u)if(u.hasOwnProperty(p)&&p in BS)return Wy[l]=u[p];return l}var IS=_c("animationend"),zS=_c("animationiteration"),US=_c("animationstart"),i7=_c("transitionrun"),o7=_c("transitionstart"),l7=_c("transitioncancel"),$S=_c("transitionend"),VS=new Map,Gy="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Gy.push("scrollEnd");function Za(l,u){VS.set(l,u),ja(u,[l])}var gp=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},Ca=[],Id=0,Yy=0;function xp(){for(var l=Id,u=Yy=Id=0;u<l;){var p=Ca[u];Ca[u++]=null;var x=Ca[u];Ca[u++]=null;var A=Ca[u];Ca[u++]=null;var D=Ca[u];if(Ca[u++]=null,x!==null&&A!==null){var te=x.pending;te===null?A.next=A:(A.next=te.next,te.next=A),x.pending=A}D!==0&&HS(p,A,D)}}function yp(l,u,p,x){Ca[Id++]=l,Ca[Id++]=u,Ca[Id++]=p,Ca[Id++]=x,Yy|=x,l.lanes|=x,l=l.alternate,l!==null&&(l.lanes|=x)}function Ky(l,u,p,x){return yp(l,u,p,x),bp(l)}function Nc(l,u){return yp(l,null,null,u),bp(l)}function HS(l,u,p){l.lanes|=p;var x=l.alternate;x!==null&&(x.lanes|=p);for(var A=!1,D=l.return;D!==null;)D.childLanes|=p,x=D.alternate,x!==null&&(x.childLanes|=p),D.tag===22&&(l=D.stateNode,l===null||l._visibility&1||(A=!0)),l=D,D=D.return;return l.tag===3?(D=l.stateNode,A&&u!==null&&(A=31-Ze(p),l=D.hiddenUpdates,x=l[A],x===null?l[A]=[u]:x.push(u),u.lane=p|536870912),D):null}function bp(l){if(50<of)throw of=0,nv=null,Error(n(185));for(var u=l.return;u!==null;)l=u,u=l.return;return l.tag===3?l.stateNode:null}var zd={};function c7(l,u,p,x){this.tag=l,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function aa(l,u,p,x){return new c7(l,u,p,x)}function Xy(l){return l=l.prototype,!(!l||!l.isReactComponent)}function lo(l,u){var p=l.alternate;return p===null?(p=aa(l.tag,u,l.key,l.mode),p.elementType=l.elementType,p.type=l.type,p.stateNode=l.stateNode,p.alternate=l,l.alternate=p):(p.pendingProps=u,p.type=l.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=l.flags&65011712,p.childLanes=l.childLanes,p.lanes=l.lanes,p.child=l.child,p.memoizedProps=l.memoizedProps,p.memoizedState=l.memoizedState,p.updateQueue=l.updateQueue,u=l.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=l.sibling,p.index=l.index,p.ref=l.ref,p.refCleanup=l.refCleanup,p}function qS(l,u){l.flags&=65011714;var p=l.alternate;return p===null?(l.childLanes=0,l.lanes=u,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=p.childLanes,l.lanes=p.lanes,l.child=p.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=p.memoizedProps,l.memoizedState=p.memoizedState,l.updateQueue=p.updateQueue,l.type=p.type,u=p.dependencies,l.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),l}function vp(l,u,p,x,A,D){var te=0;if(x=l,typeof l=="function")Xy(l)&&(te=1);else if(typeof l=="string")te=mz(l,p,oe.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case T:return l=aa(31,p,u,A),l.elementType=T,l.lanes=D,l;case w:return Sc(p.children,A,D,u);case _:te=8,A|=24;break;case b:return l=aa(12,p,u,A|2),l.elementType=b,l.lanes=D,l;case C:return l=aa(13,p,u,A),l.elementType=C,l.lanes=D,l;case I:return l=aa(19,p,u,A),l.elementType=I,l.lanes=D,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case k:te=10;break e;case N:te=9;break e;case S:te=11;break e;case E:te=14;break e;case U:te=16,x=null;break e}te=29,p=Error(n(130,l===null?"null":typeof l,"")),x=null}return u=aa(te,p,u,A),u.elementType=l,u.type=x,u.lanes=D,u}function Sc(l,u,p,x){return l=aa(7,l,x,u),l.lanes=p,l}function Zy(l,u,p){return l=aa(6,l,null,u),l.lanes=p,l}function WS(l){var u=aa(18,null,null,0);return u.stateNode=l,u}function Qy(l,u,p){return u=aa(4,l.children!==null?l.children:[],l.key,u),u.lanes=p,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}var GS=new WeakMap;function Aa(l,u){if(typeof l=="object"&&l!==null){var p=GS.get(l);return p!==void 0?p:(u={value:l,source:u,stack:P(u)},GS.set(l,u),u)}return{value:l,source:u,stack:P(u)}}var Ud=[],$d=0,wp=null,Ih=0,Ea=[],Ta=0,ul=null,Ni=1,Si="";function co(l,u){Ud[$d++]=Ih,Ud[$d++]=wp,wp=l,Ih=u}function YS(l,u,p){Ea[Ta++]=Ni,Ea[Ta++]=Si,Ea[Ta++]=ul,ul=l;var x=Ni;l=Si;var A=32-Ze(x)-1;x&=~(1<<A),p+=1;var D=32-Ze(u)+A;if(30<D){var te=A-A%5;D=(x&(1<<te)-1).toString(32),x>>=te,A-=te,Ni=1<<32-Ze(u)+A|p<<A|x,Si=D+l}else Ni=1<<D|p<<A|x,Si=l}function Jy(l){l.return!==null&&(co(l,1),YS(l,1,0))}function eb(l){for(;l===wp;)wp=Ud[--$d],Ud[$d]=null,Ih=Ud[--$d],Ud[$d]=null;for(;l===ul;)ul=Ea[--Ta],Ea[Ta]=null,Si=Ea[--Ta],Ea[Ta]=null,Ni=Ea[--Ta],Ea[Ta]=null}function KS(l,u){Ea[Ta++]=Ni,Ea[Ta++]=Si,Ea[Ta++]=ul,Ni=u.id,Si=u.overflow,ul=l}var sn=null,Ys=null,ms=!1,hl=null,Ra=!1,tb=Error(n(519));function fl(l){var u=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw zh(Aa(u,l)),tb}function XS(l){var u=l.stateNode,p=l.type,x=l.memoizedProps;switch(u[wr]=l,u[ur]=x,p){case"dialog":ns("cancel",u),ns("close",u);break;case"iframe":case"object":case"embed":ns("load",u);break;case"video":case"audio":for(p=0;p<cf.length;p++)ns(cf[p],u);break;case"source":ns("error",u);break;case"img":case"image":case"link":ns("error",u),ns("load",u);break;case"details":ns("toggle",u);break;case"input":ns("invalid",u),pc(u,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0);break;case"select":ns("invalid",u);break;case"textarea":ns("invalid",u),Pd(u,x.value,x.defaultValue,x.children)}p=x.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||u.textContent===""+p||x.suppressHydrationWarning===!0||fA(u.textContent,p)?(x.popover!=null&&(ns("beforetoggle",u),ns("toggle",u)),x.onScroll!=null&&ns("scroll",u),x.onScrollEnd!=null&&ns("scrollend",u),x.onClick!=null&&(u.onclick=Pn),u=!0):u=!1,u||fl(l,!0)}function ZS(l){for(sn=l.return;sn;)switch(sn.tag){case 5:case 31:case 13:Ra=!1;return;case 27:case 3:Ra=!0;return;default:sn=sn.return}}function Vd(l){if(l!==sn)return!1;if(!ms)return ZS(l),ms=!0,!1;var u=l.tag,p;if((p=u!==3&&u!==27)&&((p=u===5)&&(p=l.type,p=!(p!=="form"&&p!=="button")||bv(l.type,l.memoizedProps)),p=!p),p&&Ys&&fl(l),ZS(l),u===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));Ys=jA(l)}else if(u===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));Ys=jA(l)}else u===27?(u=Ys,Cl(l.type)?(l=Nv,Nv=null,Ys=l):Ys=u):Ys=sn?Ma(l.stateNode.nextSibling):null;return!0}function kc(){Ys=sn=null,ms=!1}function sb(){var l=hl;return l!==null&&(zn===null?zn=l:zn.push.apply(zn,l),hl=null),l}function zh(l){hl===null?hl=[l]:hl.push(l)}var rb=V(null),Cc=null,uo=null;function ml(l,u,p){le(rb,u._currentValue),u._currentValue=p}function ho(l){l._currentValue=rb.current,W(rb)}function nb(l,u,p){for(;l!==null;){var x=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,x!==null&&(x.childLanes|=u)):x!==null&&(x.childLanes&u)!==u&&(x.childLanes|=u),l===p)break;l=l.return}}function ab(l,u,p,x){var A=l.child;for(A!==null&&(A.return=l);A!==null;){var D=A.dependencies;if(D!==null){var te=A.child;D=D.firstContext;e:for(;D!==null;){var we=D;D=A;for(var Me=0;Me<u.length;Me++)if(we.context===u[Me]){D.lanes|=p,we=D.alternate,we!==null&&(we.lanes|=p),nb(D.return,p,l),x||(te=null);break e}D=we.next}}else if(A.tag===18){if(te=A.return,te===null)throw Error(n(341));te.lanes|=p,D=te.alternate,D!==null&&(D.lanes|=p),nb(te,p,l),te=null}else te=A.child;if(te!==null)te.return=A;else for(te=A;te!==null;){if(te===l){te=null;break}if(A=te.sibling,A!==null){A.return=te.return,te=A;break}te=te.return}A=te}}function Hd(l,u,p,x){l=null;for(var A=u,D=!1;A!==null;){if(!D){if((A.flags&524288)!==0)D=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var te=A.alternate;if(te===null)throw Error(n(387));if(te=te.memoizedProps,te!==null){var we=A.type;na(A.pendingProps.value,te.value)||(l!==null?l.push(we):l=[we])}}else if(A===$.current){if(te=A.alternate,te===null)throw Error(n(387));te.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(l!==null?l.push(mf):l=[mf])}A=A.return}l!==null&&ab(u,l,p,x),u.flags|=262144}function jp(l){for(l=l.firstContext;l!==null;){if(!na(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Ac(l){Cc=l,uo=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function rn(l){return QS(Cc,l)}function _p(l,u){return Cc===null&&Ac(l),QS(l,u)}function QS(l,u){var p=u._currentValue;if(u={context:u,memoizedValue:p,next:null},uo===null){if(l===null)throw Error(n(308));uo=u,l.dependencies={lanes:0,firstContext:u},l.flags|=524288}else uo=uo.next=u;return p}var d7=typeof AbortController<"u"?AbortController:function(){var l=[],u=this.signal={aborted:!1,addEventListener:function(p,x){l.push(x)}};this.abort=function(){u.aborted=!0,l.forEach(function(p){return p()})}},u7=t.unstable_scheduleCallback,h7=t.unstable_NormalPriority,Rr={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function ib(){return{controller:new d7,data:new Map,refCount:0}}function Uh(l){l.refCount--,l.refCount===0&&u7(h7,function(){l.controller.abort()})}var $h=null,ob=0,qd=0,Wd=null;function f7(l,u){if($h===null){var p=$h=[];ob=0,qd=dv(),Wd={status:"pending",value:void 0,then:function(x){p.push(x)}}}return ob++,u.then(JS,JS),u}function JS(){if(--ob===0&&$h!==null){Wd!==null&&(Wd.status="fulfilled");var l=$h;$h=null,qd=0,Wd=null;for(var u=0;u<l.length;u++)(0,l[u])()}}function m7(l,u){var p=[],x={status:"pending",value:null,reason:null,then:function(A){p.push(A)}};return l.then(function(){x.status="fulfilled",x.value=u;for(var A=0;A<p.length;A++)(0,p[A])(u)},function(A){for(x.status="rejected",x.reason=A,A=0;A<p.length;A++)(0,p[A])(void 0)}),x}var ek=X.S;X.S=function(l,u){FC=je(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&f7(l,u),ek!==null&&ek(l,u)};var Ec=V(null);function lb(){var l=Ec.current;return l!==null?l:Vs.pooledCache}function Np(l,u){u===null?le(Ec,Ec.current):le(Ec,u.pool)}function tk(){var l=lb();return l===null?null:{parent:Rr._currentValue,pool:l}}var Gd=Error(n(460)),cb=Error(n(474)),Sp=Error(n(542)),kp={then:function(){}};function sk(l){return l=l.status,l==="fulfilled"||l==="rejected"}function rk(l,u,p){switch(p=l[p],p===void 0?l.push(u):p!==u&&(u.then(Pn,Pn),u=p),u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,ak(l),l;default:if(typeof u.status=="string")u.then(Pn,Pn);else{if(l=Vs,l!==null&&100<l.shellSuspendCounter)throw Error(n(482));l=u,l.status="pending",l.then(function(x){if(u.status==="pending"){var A=u;A.status="fulfilled",A.value=x}},function(x){if(u.status==="pending"){var A=u;A.status="rejected",A.reason=x}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,ak(l),l}throw Rc=u,Gd}}function Tc(l){try{var u=l._init;return u(l._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(Rc=p,Gd):p}}var Rc=null;function nk(){if(Rc===null)throw Error(n(459));var l=Rc;return Rc=null,l}function ak(l){if(l===Gd||l===Sp)throw Error(n(483))}var Yd=null,Vh=0;function Cp(l){var u=Vh;return Vh+=1,Yd===null&&(Yd=[]),rk(Yd,l,u)}function Hh(l,u){u=u.props.ref,l.ref=u!==void 0?u:null}function Ap(l,u){throw u.$$typeof===g?Error(n(525)):(l=Object.prototype.toString.call(u),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l)))}function ik(l){function u(Le,Pe){if(l){var Fe=Le.deletions;Fe===null?(Le.deletions=[Pe],Le.flags|=16):Fe.push(Pe)}}function p(Le,Pe){if(!l)return null;for(;Pe!==null;)u(Le,Pe),Pe=Pe.sibling;return null}function x(Le){for(var Pe=new Map;Le!==null;)Le.key!==null?Pe.set(Le.key,Le):Pe.set(Le.index,Le),Le=Le.sibling;return Pe}function A(Le,Pe){return Le=lo(Le,Pe),Le.index=0,Le.sibling=null,Le}function D(Le,Pe,Fe){return Le.index=Fe,l?(Fe=Le.alternate,Fe!==null?(Fe=Fe.index,Fe<Pe?(Le.flags|=67108866,Pe):Fe):(Le.flags|=67108866,Pe)):(Le.flags|=1048576,Pe)}function te(Le){return l&&Le.alternate===null&&(Le.flags|=67108866),Le}function we(Le,Pe,Fe,Qe){return Pe===null||Pe.tag!==6?(Pe=Zy(Fe,Le.mode,Qe),Pe.return=Le,Pe):(Pe=A(Pe,Fe),Pe.return=Le,Pe)}function Me(Le,Pe,Fe,Qe){var Et=Fe.type;return Et===w?Ye(Le,Pe,Fe.props.children,Qe,Fe.key):Pe!==null&&(Pe.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===U&&Tc(Et)===Pe.type)?(Pe=A(Pe,Fe.props),Hh(Pe,Fe),Pe.return=Le,Pe):(Pe=vp(Fe.type,Fe.key,Fe.props,null,Le.mode,Qe),Hh(Pe,Fe),Pe.return=Le,Pe)}function Ie(Le,Pe,Fe,Qe){return Pe===null||Pe.tag!==4||Pe.stateNode.containerInfo!==Fe.containerInfo||Pe.stateNode.implementation!==Fe.implementation?(Pe=Qy(Fe,Le.mode,Qe),Pe.return=Le,Pe):(Pe=A(Pe,Fe.children||[]),Pe.return=Le,Pe)}function Ye(Le,Pe,Fe,Qe,Et){return Pe===null||Pe.tag!==7?(Pe=Sc(Fe,Le.mode,Qe,Et),Pe.return=Le,Pe):(Pe=A(Pe,Fe),Pe.return=Le,Pe)}function Je(Le,Pe,Fe){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint")return Pe=Zy(""+Pe,Le.mode,Fe),Pe.return=Le,Pe;if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case y:return Fe=vp(Pe.type,Pe.key,Pe.props,null,Le.mode,Fe),Hh(Fe,Pe),Fe.return=Le,Fe;case v:return Pe=Qy(Pe,Le.mode,Fe),Pe.return=Le,Pe;case U:return Pe=Tc(Pe),Je(Le,Pe,Fe)}if(se(Pe)||F(Pe))return Pe=Sc(Pe,Le.mode,Fe,null),Pe.return=Le,Pe;if(typeof Pe.then=="function")return Je(Le,Cp(Pe),Fe);if(Pe.$$typeof===k)return Je(Le,_p(Le,Pe),Fe);Ap(Le,Pe)}return null}function ze(Le,Pe,Fe,Qe){var Et=Pe!==null?Pe.key:null;if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint")return Et!==null?null:we(Le,Pe,""+Fe,Qe);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case y:return Fe.key===Et?Me(Le,Pe,Fe,Qe):null;case v:return Fe.key===Et?Ie(Le,Pe,Fe,Qe):null;case U:return Fe=Tc(Fe),ze(Le,Pe,Fe,Qe)}if(se(Fe)||F(Fe))return Et!==null?null:Ye(Le,Pe,Fe,Qe,null);if(typeof Fe.then=="function")return ze(Le,Pe,Cp(Fe),Qe);if(Fe.$$typeof===k)return ze(Le,Pe,_p(Le,Fe),Qe);Ap(Le,Fe)}return null}function He(Le,Pe,Fe,Qe,Et){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number"||typeof Qe=="bigint")return Le=Le.get(Fe)||null,we(Pe,Le,""+Qe,Et);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case y:return Le=Le.get(Qe.key===null?Fe:Qe.key)||null,Me(Pe,Le,Qe,Et);case v:return Le=Le.get(Qe.key===null?Fe:Qe.key)||null,Ie(Pe,Le,Qe,Et);case U:return Qe=Tc(Qe),He(Le,Pe,Fe,Qe,Et)}if(se(Qe)||F(Qe))return Le=Le.get(Fe)||null,Ye(Pe,Le,Qe,Et,null);if(typeof Qe.then=="function")return He(Le,Pe,Fe,Cp(Qe),Et);if(Qe.$$typeof===k)return He(Le,Pe,Fe,_p(Pe,Qe),Et);Ap(Pe,Qe)}return null}function yt(Le,Pe,Fe,Qe){for(var Et=null,js=null,Nt=Pe,Jt=Pe=0,ls=null;Nt!==null&&Jt<Fe.length;Jt++){Nt.index>Jt?(ls=Nt,Nt=null):ls=Nt.sibling;var _s=ze(Le,Nt,Fe[Jt],Qe);if(_s===null){Nt===null&&(Nt=ls);break}l&&Nt&&_s.alternate===null&&u(Le,Nt),Pe=D(_s,Pe,Jt),js===null?Et=_s:js.sibling=_s,js=_s,Nt=ls}if(Jt===Fe.length)return p(Le,Nt),ms&&co(Le,Jt),Et;if(Nt===null){for(;Jt<Fe.length;Jt++)Nt=Je(Le,Fe[Jt],Qe),Nt!==null&&(Pe=D(Nt,Pe,Jt),js===null?Et=Nt:js.sibling=Nt,js=Nt);return ms&&co(Le,Jt),Et}for(Nt=x(Nt);Jt<Fe.length;Jt++)ls=He(Nt,Le,Jt,Fe[Jt],Qe),ls!==null&&(l&&ls.alternate!==null&&Nt.delete(ls.key===null?Jt:ls.key),Pe=D(ls,Pe,Jt),js===null?Et=ls:js.sibling=ls,js=ls);return l&&Nt.forEach(function(Dl){return u(Le,Dl)}),ms&&co(Le,Jt),Et}function Rt(Le,Pe,Fe,Qe){if(Fe==null)throw Error(n(151));for(var Et=null,js=null,Nt=Pe,Jt=Pe=0,ls=null,_s=Fe.next();Nt!==null&&!_s.done;Jt++,_s=Fe.next()){Nt.index>Jt?(ls=Nt,Nt=null):ls=Nt.sibling;var Dl=ze(Le,Nt,_s.value,Qe);if(Dl===null){Nt===null&&(Nt=ls);break}l&&Nt&&Dl.alternate===null&&u(Le,Nt),Pe=D(Dl,Pe,Jt),js===null?Et=Dl:js.sibling=Dl,js=Dl,Nt=ls}if(_s.done)return p(Le,Nt),ms&&co(Le,Jt),Et;if(Nt===null){for(;!_s.done;Jt++,_s=Fe.next())_s=Je(Le,_s.value,Qe),_s!==null&&(Pe=D(_s,Pe,Jt),js===null?Et=_s:js.sibling=_s,js=_s);return ms&&co(Le,Jt),Et}for(Nt=x(Nt);!_s.done;Jt++,_s=Fe.next())_s=He(Nt,Le,Jt,_s.value,Qe),_s!==null&&(l&&_s.alternate!==null&&Nt.delete(_s.key===null?Jt:_s.key),Pe=D(_s,Pe,Jt),js===null?Et=_s:js.sibling=_s,js=_s);return l&&Nt.forEach(function(Sz){return u(Le,Sz)}),ms&&co(Le,Jt),Et}function Bs(Le,Pe,Fe,Qe){if(typeof Fe=="object"&&Fe!==null&&Fe.type===w&&Fe.key===null&&(Fe=Fe.props.children),typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case y:e:{for(var Et=Fe.key;Pe!==null;){if(Pe.key===Et){if(Et=Fe.type,Et===w){if(Pe.tag===7){p(Le,Pe.sibling),Qe=A(Pe,Fe.props.children),Qe.return=Le,Le=Qe;break e}}else if(Pe.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===U&&Tc(Et)===Pe.type){p(Le,Pe.sibling),Qe=A(Pe,Fe.props),Hh(Qe,Fe),Qe.return=Le,Le=Qe;break e}p(Le,Pe);break}else u(Le,Pe);Pe=Pe.sibling}Fe.type===w?(Qe=Sc(Fe.props.children,Le.mode,Qe,Fe.key),Qe.return=Le,Le=Qe):(Qe=vp(Fe.type,Fe.key,Fe.props,null,Le.mode,Qe),Hh(Qe,Fe),Qe.return=Le,Le=Qe)}return te(Le);case v:e:{for(Et=Fe.key;Pe!==null;){if(Pe.key===Et)if(Pe.tag===4&&Pe.stateNode.containerInfo===Fe.containerInfo&&Pe.stateNode.implementation===Fe.implementation){p(Le,Pe.sibling),Qe=A(Pe,Fe.children||[]),Qe.return=Le,Le=Qe;break e}else{p(Le,Pe);break}else u(Le,Pe);Pe=Pe.sibling}Qe=Qy(Fe,Le.mode,Qe),Qe.return=Le,Le=Qe}return te(Le);case U:return Fe=Tc(Fe),Bs(Le,Pe,Fe,Qe)}if(se(Fe))return yt(Le,Pe,Fe,Qe);if(F(Fe)){if(Et=F(Fe),typeof Et!="function")throw Error(n(150));return Fe=Et.call(Fe),Rt(Le,Pe,Fe,Qe)}if(typeof Fe.then=="function")return Bs(Le,Pe,Cp(Fe),Qe);if(Fe.$$typeof===k)return Bs(Le,Pe,_p(Le,Fe),Qe);Ap(Le,Fe)}return typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint"?(Fe=""+Fe,Pe!==null&&Pe.tag===6?(p(Le,Pe.sibling),Qe=A(Pe,Fe),Qe.return=Le,Le=Qe):(p(Le,Pe),Qe=Zy(Fe,Le.mode,Qe),Qe.return=Le,Le=Qe),te(Le)):p(Le,Pe)}return function(Le,Pe,Fe,Qe){try{Vh=0;var Et=Bs(Le,Pe,Fe,Qe);return Yd=null,Et}catch(Nt){if(Nt===Gd||Nt===Sp)throw Nt;var js=aa(29,Nt,null,Le.mode);return js.lanes=Qe,js.return=Le,js}finally{}}}var Dc=ik(!0),ok=ik(!1),pl=!1;function db(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function ub(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function gl(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function xl(l,u,p){var x=l.updateQueue;if(x===null)return null;if(x=x.shared,(As&2)!==0){var A=x.pending;return A===null?u.next=u:(u.next=A.next,A.next=u),x.pending=u,u=bp(l),HS(l,null,p),u}return yp(l,x,u,p),bp(l)}function qh(l,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194048)!==0)){var x=u.lanes;x&=l.pendingLanes,p|=x,u.lanes=p,qs(l,p)}}function hb(l,u){var p=l.updateQueue,x=l.alternate;if(x!==null&&(x=x.updateQueue,p===x)){var A=null,D=null;if(p=p.firstBaseUpdate,p!==null){do{var te={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};D===null?A=D=te:D=D.next=te,p=p.next}while(p!==null);D===null?A=D=u:D=D.next=u}else A=D=u;p={baseState:x.baseState,firstBaseUpdate:A,lastBaseUpdate:D,shared:x.shared,callbacks:x.callbacks},l.updateQueue=p;return}l=p.lastBaseUpdate,l===null?p.firstBaseUpdate=u:l.next=u,p.lastBaseUpdate=u}var fb=!1;function Wh(){if(fb){var l=Wd;if(l!==null)throw l}}function Gh(l,u,p,x){fb=!1;var A=l.updateQueue;pl=!1;var D=A.firstBaseUpdate,te=A.lastBaseUpdate,we=A.shared.pending;if(we!==null){A.shared.pending=null;var Me=we,Ie=Me.next;Me.next=null,te===null?D=Ie:te.next=Ie,te=Me;var Ye=l.alternate;Ye!==null&&(Ye=Ye.updateQueue,we=Ye.lastBaseUpdate,we!==te&&(we===null?Ye.firstBaseUpdate=Ie:we.next=Ie,Ye.lastBaseUpdate=Me))}if(D!==null){var Je=A.baseState;te=0,Ye=Ie=Me=null,we=D;do{var ze=we.lane&-536870913,He=ze!==we.lane;if(He?(os&ze)===ze:(x&ze)===ze){ze!==0&&ze===qd&&(fb=!0),Ye!==null&&(Ye=Ye.next={lane:0,tag:we.tag,payload:we.payload,callback:null,next:null});e:{var yt=l,Rt=we;ze=u;var Bs=p;switch(Rt.tag){case 1:if(yt=Rt.payload,typeof yt=="function"){Je=yt.call(Bs,Je,ze);break e}Je=yt;break e;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=Rt.payload,ze=typeof yt=="function"?yt.call(Bs,Je,ze):yt,ze==null)break e;Je=f({},Je,ze);break e;case 2:pl=!0}}ze=we.callback,ze!==null&&(l.flags|=64,He&&(l.flags|=8192),He=A.callbacks,He===null?A.callbacks=[ze]:He.push(ze))}else He={lane:ze,tag:we.tag,payload:we.payload,callback:we.callback,next:null},Ye===null?(Ie=Ye=He,Me=Je):Ye=Ye.next=He,te|=ze;if(we=we.next,we===null){if(we=A.shared.pending,we===null)break;He=we,we=He.next,He.next=null,A.lastBaseUpdate=He,A.shared.pending=null}}while(!0);Ye===null&&(Me=Je),A.baseState=Me,A.firstBaseUpdate=Ie,A.lastBaseUpdate=Ye,D===null&&(A.shared.lanes=0),jl|=te,l.lanes=te,l.memoizedState=Je}}function lk(l,u){if(typeof l!="function")throw Error(n(191,l));l.call(u)}function ck(l,u){var p=l.callbacks;if(p!==null)for(l.callbacks=null,l=0;l<p.length;l++)lk(p[l],u)}var Kd=V(null),Ep=V(0);function dk(l,u){l=wo,le(Ep,l),le(Kd,u),wo=l|u.baseLanes}function mb(){le(Ep,wo),le(Kd,Kd.current)}function pb(){wo=Ep.current,W(Kd),W(Ep)}var ia=V(null),Da=null;function yl(l){var u=l.alternate;le(jr,jr.current&1),le(ia,l),Da===null&&(u===null||Kd.current!==null||u.memoizedState!==null)&&(Da=l)}function gb(l){le(jr,jr.current),le(ia,l),Da===null&&(Da=l)}function uk(l){l.tag===22?(le(jr,jr.current),le(ia,l),Da===null&&(Da=l)):bl()}function bl(){le(jr,jr.current),le(ia,ia.current)}function oa(l){W(ia),Da===l&&(Da=null),W(jr)}var jr=V(0);function Tp(l){for(var u=l;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||jv(p)||_v(p)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var fo=0,Zt=null,Ls=null,Dr=null,Rp=!1,Xd=!1,Mc=!1,Dp=0,Yh=0,Zd=null,p7=0;function fr(){throw Error(n(321))}function xb(l,u){if(u===null)return!1;for(var p=0;p<u.length&&p<l.length;p++)if(!na(l[p],u[p]))return!1;return!0}function yb(l,u,p,x,A,D){return fo=D,Zt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,X.H=l===null||l.memoizedState===null?Yk:Mb,Mc=!1,D=p(x,A),Mc=!1,Xd&&(D=fk(u,p,x,A)),hk(l),D}function hk(l){X.H=Zh;var u=Ls!==null&&Ls.next!==null;if(fo=0,Dr=Ls=Zt=null,Rp=!1,Yh=0,Zd=null,u)throw Error(n(300));l===null||Mr||(l=l.dependencies,l!==null&&jp(l)&&(Mr=!0))}function fk(l,u,p,x){Zt=l;var A=0;do{if(Xd&&(Zd=null),Yh=0,Xd=!1,25<=A)throw Error(n(301));if(A+=1,Dr=Ls=null,l.updateQueue!=null){var D=l.updateQueue;D.lastEffect=null,D.events=null,D.stores=null,D.memoCache!=null&&(D.memoCache.index=0)}X.H=Kk,D=u(p,x)}while(Xd);return D}function g7(){var l=X.H,u=l.useState()[0];return u=typeof u.then=="function"?Kh(u):u,l=l.useState()[0],(Ls!==null?Ls.memoizedState:null)!==l&&(Zt.flags|=1024),u}function bb(){var l=Dp!==0;return Dp=0,l}function vb(l,u,p){u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~p}function wb(l){if(Rp){for(l=l.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}Rp=!1}fo=0,Dr=Ls=Zt=null,Xd=!1,Yh=Dp=0,Zd=null}function kn(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dr===null?Zt.memoizedState=Dr=l:Dr=Dr.next=l,Dr}function _r(){if(Ls===null){var l=Zt.alternate;l=l!==null?l.memoizedState:null}else l=Ls.next;var u=Dr===null?Zt.memoizedState:Dr.next;if(u!==null)Dr=u,Ls=l;else{if(l===null)throw Zt.alternate===null?Error(n(467)):Error(n(310));Ls=l,l={memoizedState:Ls.memoizedState,baseState:Ls.baseState,baseQueue:Ls.baseQueue,queue:Ls.queue,next:null},Dr===null?Zt.memoizedState=Dr=l:Dr=Dr.next=l}return Dr}function Mp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Kh(l){var u=Yh;return Yh+=1,Zd===null&&(Zd=[]),l=rk(Zd,l,u),u=Zt,(Dr===null?u.memoizedState:Dr.next)===null&&(u=u.alternate,X.H=u===null||u.memoizedState===null?Yk:Mb),l}function Pp(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Kh(l);if(l.$$typeof===k)return rn(l)}throw Error(n(438,String(l)))}function jb(l){var u=null,p=Zt.updateQueue;if(p!==null&&(u=p.memoCache),u==null){var x=Zt.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(u={data:x.data.map(function(A){return A.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),p===null&&(p=Mp(),Zt.updateQueue=p),p.memoCache=u,p=u.data[u.index],p===void 0)for(p=u.data[u.index]=Array(l),x=0;x<l;x++)p[x]=ne;return u.index++,p}function mo(l,u){return typeof u=="function"?u(l):u}function Op(l){var u=_r();return _b(u,Ls,l)}function _b(l,u,p){var x=l.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=p;var A=l.baseQueue,D=x.pending;if(D!==null){if(A!==null){var te=A.next;A.next=D.next,D.next=te}u.baseQueue=A=D,x.pending=null}if(D=l.baseState,A===null)l.memoizedState=D;else{u=A.next;var we=te=null,Me=null,Ie=u,Ye=!1;do{var Je=Ie.lane&-536870913;if(Je!==Ie.lane?(os&Je)===Je:(fo&Je)===Je){var ze=Ie.revertLane;if(ze===0)Me!==null&&(Me=Me.next={lane:0,revertLane:0,gesture:null,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null}),Je===qd&&(Ye=!0);else if((fo&ze)===ze){Ie=Ie.next,ze===qd&&(Ye=!0);continue}else Je={lane:0,revertLane:Ie.revertLane,gesture:null,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null},Me===null?(we=Me=Je,te=D):Me=Me.next=Je,Zt.lanes|=ze,jl|=ze;Je=Ie.action,Mc&&p(D,Je),D=Ie.hasEagerState?Ie.eagerState:p(D,Je)}else ze={lane:Je,revertLane:Ie.revertLane,gesture:Ie.gesture,action:Ie.action,hasEagerState:Ie.hasEagerState,eagerState:Ie.eagerState,next:null},Me===null?(we=Me=ze,te=D):Me=Me.next=ze,Zt.lanes|=Je,jl|=Je;Ie=Ie.next}while(Ie!==null&&Ie!==u);if(Me===null?te=D:Me.next=we,!na(D,l.memoizedState)&&(Mr=!0,Ye&&(p=Wd,p!==null)))throw p;l.memoizedState=D,l.baseState=te,l.baseQueue=Me,x.lastRenderedState=D}return A===null&&(x.lanes=0),[l.memoizedState,x.dispatch]}function Nb(l){var u=_r(),p=u.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=l;var x=p.dispatch,A=p.pending,D=u.memoizedState;if(A!==null){p.pending=null;var te=A=A.next;do D=l(D,te.action),te=te.next;while(te!==A);na(D,u.memoizedState)||(Mr=!0),u.memoizedState=D,u.baseQueue===null&&(u.baseState=D),p.lastRenderedState=D}return[D,x]}function mk(l,u,p){var x=Zt,A=_r(),D=ms;if(D){if(p===void 0)throw Error(n(407));p=p()}else p=u();var te=!na((Ls||A).memoizedState,p);if(te&&(A.memoizedState=p,Mr=!0),A=A.queue,Cb(xk.bind(null,x,A,l),[l]),A.getSnapshot!==u||te||Dr!==null&&Dr.memoizedState.tag&1){if(x.flags|=2048,Qd(9,{destroy:void 0},gk.bind(null,x,A,p,u),null),Vs===null)throw Error(n(349));D||(fo&127)!==0||pk(x,u,p)}return p}function pk(l,u,p){l.flags|=16384,l={getSnapshot:u,value:p},u=Zt.updateQueue,u===null?(u=Mp(),Zt.updateQueue=u,u.stores=[l]):(p=u.stores,p===null?u.stores=[l]:p.push(l))}function gk(l,u,p,x){u.value=p,u.getSnapshot=x,yk(u)&&bk(l)}function xk(l,u,p){return p(function(){yk(u)&&bk(l)})}function yk(l){var u=l.getSnapshot;l=l.value;try{var p=u();return!na(l,p)}catch{return!0}}function bk(l){var u=Nc(l,2);u!==null&&Un(u,l,2)}function Sb(l){var u=kn();if(typeof l=="function"){var p=l;if(l=p(),Mc){Ge(!0);try{p()}finally{Ge(!1)}}}return u.memoizedState=u.baseState=l,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mo,lastRenderedState:l},u}function vk(l,u,p,x){return l.baseState=p,_b(l,Ls,typeof x=="function"?x:mo)}function x7(l,u,p,x,A){if(Bp(l))throw Error(n(485));if(l=u.action,l!==null){var D={payload:A,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(te){D.listeners.push(te)}};X.T!==null?p(!0):D.isTransition=!1,x(D),p=u.pending,p===null?(D.next=u.pending=D,wk(u,D)):(D.next=p.next,u.pending=p.next=D)}}function wk(l,u){var p=u.action,x=u.payload,A=l.state;if(u.isTransition){var D=X.T,te={};X.T=te;try{var we=p(A,x),Me=X.S;Me!==null&&Me(te,we),jk(l,u,we)}catch(Ie){kb(l,u,Ie)}finally{D!==null&&te.types!==null&&(D.types=te.types),X.T=D}}else try{D=p(A,x),jk(l,u,D)}catch(Ie){kb(l,u,Ie)}}function jk(l,u,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(x){_k(l,u,x)},function(x){return kb(l,u,x)}):_k(l,u,p)}function _k(l,u,p){u.status="fulfilled",u.value=p,Nk(u),l.state=p,u=l.pending,u!==null&&(p=u.next,p===u?l.pending=null:(p=p.next,u.next=p,wk(l,p)))}function kb(l,u,p){var x=l.pending;if(l.pending=null,x!==null){x=x.next;do u.status="rejected",u.reason=p,Nk(u),u=u.next;while(u!==x)}l.action=null}function Nk(l){l=l.listeners;for(var u=0;u<l.length;u++)(0,l[u])()}function Sk(l,u){return u}function kk(l,u){if(ms){var p=Vs.formState;if(p!==null){e:{var x=Zt;if(ms){if(Ys){t:{for(var A=Ys,D=Ra;A.nodeType!==8;){if(!D){A=null;break t}if(A=Ma(A.nextSibling),A===null){A=null;break t}}D=A.data,A=D==="F!"||D==="F"?A:null}if(A){Ys=Ma(A.nextSibling),x=A.data==="F!";break e}}fl(x)}x=!1}x&&(u=p[0])}}return p=kn(),p.memoizedState=p.baseState=u,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sk,lastRenderedState:u},p.queue=x,p=qk.bind(null,Zt,x),x.dispatch=p,x=Sb(!1),D=Db.bind(null,Zt,!1,x.queue),x=kn(),A={state:u,dispatch:null,action:l,pending:null},x.queue=A,p=x7.bind(null,Zt,A,D,p),A.dispatch=p,x.memoizedState=l,[u,p,!1]}function Ck(l){var u=_r();return Ak(u,Ls,l)}function Ak(l,u,p){if(u=_b(l,u,Sk)[0],l=Op(mo)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var x=Kh(u)}catch(te){throw te===Gd?Sp:te}else x=u;u=_r();var A=u.queue,D=A.dispatch;return p!==u.memoizedState&&(Zt.flags|=2048,Qd(9,{destroy:void 0},y7.bind(null,A,p),null)),[x,D,l]}function y7(l,u){l.action=u}function Ek(l){var u=_r(),p=Ls;if(p!==null)return Ak(u,p,l);_r(),u=u.memoizedState,p=_r();var x=p.queue.dispatch;return p.memoizedState=l,[u,x,!1]}function Qd(l,u,p,x){return l={tag:l,create:p,deps:x,inst:u,next:null},u=Zt.updateQueue,u===null&&(u=Mp(),Zt.updateQueue=u),p=u.lastEffect,p===null?u.lastEffect=l.next=l:(x=p.next,p.next=l,l.next=x,u.lastEffect=l),l}function Tk(){return _r().memoizedState}function Lp(l,u,p,x){var A=kn();Zt.flags|=l,A.memoizedState=Qd(1|u,{destroy:void 0},p,x===void 0?null:x)}function Fp(l,u,p,x){var A=_r();x=x===void 0?null:x;var D=A.memoizedState.inst;Ls!==null&&x!==null&&xb(x,Ls.memoizedState.deps)?A.memoizedState=Qd(u,D,p,x):(Zt.flags|=l,A.memoizedState=Qd(1|u,D,p,x))}function Rk(l,u){Lp(8390656,8,l,u)}function Cb(l,u){Fp(2048,8,l,u)}function b7(l){Zt.flags|=4;var u=Zt.updateQueue;if(u===null)u=Mp(),Zt.updateQueue=u,u.events=[l];else{var p=u.events;p===null?u.events=[l]:p.push(l)}}function Dk(l){var u=_r().memoizedState;return b7({ref:u,nextImpl:l}),function(){if((As&2)!==0)throw Error(n(440));return u.impl.apply(void 0,arguments)}}function Mk(l,u){return Fp(4,2,l,u)}function Pk(l,u){return Fp(4,4,l,u)}function Ok(l,u){if(typeof u=="function"){l=l();var p=u(l);return function(){typeof p=="function"?p():u(null)}}if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function Lk(l,u,p){p=p!=null?p.concat([l]):null,Fp(4,4,Ok.bind(null,u,l),p)}function Ab(){}function Fk(l,u){var p=_r();u=u===void 0?null:u;var x=p.memoizedState;return u!==null&&xb(u,x[1])?x[0]:(p.memoizedState=[l,u],l)}function Bk(l,u){var p=_r();u=u===void 0?null:u;var x=p.memoizedState;if(u!==null&&xb(u,x[1]))return x[0];if(x=l(),Mc){Ge(!0);try{l()}finally{Ge(!1)}}return p.memoizedState=[x,u],x}function Eb(l,u,p){return p===void 0||(fo&1073741824)!==0&&(os&261930)===0?l.memoizedState=u:(l.memoizedState=p,l=IC(),Zt.lanes|=l,jl|=l,p)}function Ik(l,u,p,x){return na(p,u)?p:Kd.current!==null?(l=Eb(l,p,x),na(l,u)||(Mr=!0),l):(fo&42)===0||(fo&1073741824)!==0&&(os&261930)===0?(Mr=!0,l.memoizedState=p):(l=IC(),Zt.lanes|=l,jl|=l,u)}function zk(l,u,p,x,A){var D=M.p;M.p=D!==0&&8>D?D:8;var te=X.T,we={};X.T=we,Db(l,!1,u,p);try{var Me=A(),Ie=X.S;if(Ie!==null&&Ie(we,Me),Me!==null&&typeof Me=="object"&&typeof Me.then=="function"){var Ye=m7(Me,x);Xh(l,u,Ye,da(l))}else Xh(l,u,x,da(l))}catch(Je){Xh(l,u,{then:function(){},status:"rejected",reason:Je},da())}finally{M.p=D,te!==null&&we.types!==null&&(te.types=we.types),X.T=te}}function v7(){}function Tb(l,u,p,x){if(l.tag!==5)throw Error(n(476));var A=Uk(l).queue;zk(l,A,u,K,p===null?v7:function(){return $k(l),p(x)})}function Uk(l){var u=l.memoizedState;if(u!==null)return u;u={memoizedState:K,baseState:K,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mo,lastRenderedState:K},next:null};var p={};return u.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mo,lastRenderedState:p},next:null},l.memoizedState=u,l=l.alternate,l!==null&&(l.memoizedState=u),u}function $k(l){var u=Uk(l);u.next===null&&(u=l.alternate.memoizedState),Xh(l,u.next.queue,{},da())}function Rb(){return rn(mf)}function Vk(){return _r().memoizedState}function Hk(){return _r().memoizedState}function w7(l){for(var u=l.return;u!==null;){switch(u.tag){case 24:case 3:var p=da();l=gl(p);var x=xl(u,l,p);x!==null&&(Un(x,u,p),qh(x,u,p)),u={cache:ib()},l.payload=u;return}u=u.return}}function j7(l,u,p){var x=da();p={lane:x,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Bp(l)?Wk(u,p):(p=Ky(l,u,p,x),p!==null&&(Un(p,l,x),Gk(p,u,x)))}function qk(l,u,p){var x=da();Xh(l,u,p,x)}function Xh(l,u,p,x){var A={lane:x,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(Bp(l))Wk(u,A);else{var D=l.alternate;if(l.lanes===0&&(D===null||D.lanes===0)&&(D=u.lastRenderedReducer,D!==null))try{var te=u.lastRenderedState,we=D(te,p);if(A.hasEagerState=!0,A.eagerState=we,na(we,te))return yp(l,u,A,0),Vs===null&&xp(),!1}catch{}finally{}if(p=Ky(l,u,A,x),p!==null)return Un(p,l,x),Gk(p,u,x),!0}return!1}function Db(l,u,p,x){if(x={lane:2,revertLane:dv(),gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},Bp(l)){if(u)throw Error(n(479))}else u=Ky(l,p,x,2),u!==null&&Un(u,l,2)}function Bp(l){var u=l.alternate;return l===Zt||u!==null&&u===Zt}function Wk(l,u){Xd=Rp=!0;var p=l.pending;p===null?u.next=u:(u.next=p.next,p.next=u),l.pending=u}function Gk(l,u,p){if((p&4194048)!==0){var x=u.lanes;x&=l.pendingLanes,p|=x,u.lanes=p,qs(l,p)}}var Zh={readContext:rn,use:Pp,useCallback:fr,useContext:fr,useEffect:fr,useImperativeHandle:fr,useLayoutEffect:fr,useInsertionEffect:fr,useMemo:fr,useReducer:fr,useRef:fr,useState:fr,useDebugValue:fr,useDeferredValue:fr,useTransition:fr,useSyncExternalStore:fr,useId:fr,useHostTransitionStatus:fr,useFormState:fr,useActionState:fr,useOptimistic:fr,useMemoCache:fr,useCacheRefresh:fr};Zh.useEffectEvent=fr;var Yk={readContext:rn,use:Pp,useCallback:function(l,u){return kn().memoizedState=[l,u===void 0?null:u],l},useContext:rn,useEffect:Rk,useImperativeHandle:function(l,u,p){p=p!=null?p.concat([l]):null,Lp(4194308,4,Ok.bind(null,u,l),p)},useLayoutEffect:function(l,u){return Lp(4194308,4,l,u)},useInsertionEffect:function(l,u){Lp(4,2,l,u)},useMemo:function(l,u){var p=kn();u=u===void 0?null:u;var x=l();if(Mc){Ge(!0);try{l()}finally{Ge(!1)}}return p.memoizedState=[x,u],x},useReducer:function(l,u,p){var x=kn();if(p!==void 0){var A=p(u);if(Mc){Ge(!0);try{p(u)}finally{Ge(!1)}}}else A=u;return x.memoizedState=x.baseState=A,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:A},x.queue=l,l=l.dispatch=j7.bind(null,Zt,l),[x.memoizedState,l]},useRef:function(l){var u=kn();return l={current:l},u.memoizedState=l},useState:function(l){l=Sb(l);var u=l.queue,p=qk.bind(null,Zt,u);return u.dispatch=p,[l.memoizedState,p]},useDebugValue:Ab,useDeferredValue:function(l,u){var p=kn();return Eb(p,l,u)},useTransition:function(){var l=Sb(!1);return l=zk.bind(null,Zt,l.queue,!0,!1),kn().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,u,p){var x=Zt,A=kn();if(ms){if(p===void 0)throw Error(n(407));p=p()}else{if(p=u(),Vs===null)throw Error(n(349));(os&127)!==0||pk(x,u,p)}A.memoizedState=p;var D={value:p,getSnapshot:u};return A.queue=D,Rk(xk.bind(null,x,D,l),[l]),x.flags|=2048,Qd(9,{destroy:void 0},gk.bind(null,x,D,p,u),null),p},useId:function(){var l=kn(),u=Vs.identifierPrefix;if(ms){var p=Si,x=Ni;p=(x&~(1<<32-Ze(x)-1)).toString(32)+p,u="_"+u+"R_"+p,p=Dp++,0<p&&(u+="H"+p.toString(32)),u+="_"}else p=p7++,u="_"+u+"r_"+p.toString(32)+"_";return l.memoizedState=u},useHostTransitionStatus:Rb,useFormState:kk,useActionState:kk,useOptimistic:function(l){var u=kn();u.memoizedState=u.baseState=l;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=p,u=Db.bind(null,Zt,!0,p),p.dispatch=u,[l,u]},useMemoCache:jb,useCacheRefresh:function(){return kn().memoizedState=w7.bind(null,Zt)},useEffectEvent:function(l){var u=kn(),p={impl:l};return u.memoizedState=p,function(){if((As&2)!==0)throw Error(n(440));return p.impl.apply(void 0,arguments)}}},Mb={readContext:rn,use:Pp,useCallback:Fk,useContext:rn,useEffect:Cb,useImperativeHandle:Lk,useInsertionEffect:Mk,useLayoutEffect:Pk,useMemo:Bk,useReducer:Op,useRef:Tk,useState:function(){return Op(mo)},useDebugValue:Ab,useDeferredValue:function(l,u){var p=_r();return Ik(p,Ls.memoizedState,l,u)},useTransition:function(){var l=Op(mo)[0],u=_r().memoizedState;return[typeof l=="boolean"?l:Kh(l),u]},useSyncExternalStore:mk,useId:Vk,useHostTransitionStatus:Rb,useFormState:Ck,useActionState:Ck,useOptimistic:function(l,u){var p=_r();return vk(p,Ls,l,u)},useMemoCache:jb,useCacheRefresh:Hk};Mb.useEffectEvent=Dk;var Kk={readContext:rn,use:Pp,useCallback:Fk,useContext:rn,useEffect:Cb,useImperativeHandle:Lk,useInsertionEffect:Mk,useLayoutEffect:Pk,useMemo:Bk,useReducer:Nb,useRef:Tk,useState:function(){return Nb(mo)},useDebugValue:Ab,useDeferredValue:function(l,u){var p=_r();return Ls===null?Eb(p,l,u):Ik(p,Ls.memoizedState,l,u)},useTransition:function(){var l=Nb(mo)[0],u=_r().memoizedState;return[typeof l=="boolean"?l:Kh(l),u]},useSyncExternalStore:mk,useId:Vk,useHostTransitionStatus:Rb,useFormState:Ek,useActionState:Ek,useOptimistic:function(l,u){var p=_r();return Ls!==null?vk(p,Ls,l,u):(p.baseState=l,[l,p.queue.dispatch])},useMemoCache:jb,useCacheRefresh:Hk};Kk.useEffectEvent=Dk;function Pb(l,u,p,x){u=l.memoizedState,p=p(x,u),p=p==null?u:f({},u,p),l.memoizedState=p,l.lanes===0&&(l.updateQueue.baseState=p)}var Ob={enqueueSetState:function(l,u,p){l=l._reactInternals;var x=da(),A=gl(x);A.payload=u,p!=null&&(A.callback=p),u=xl(l,A,x),u!==null&&(Un(u,l,x),qh(u,l,x))},enqueueReplaceState:function(l,u,p){l=l._reactInternals;var x=da(),A=gl(x);A.tag=1,A.payload=u,p!=null&&(A.callback=p),u=xl(l,A,x),u!==null&&(Un(u,l,x),qh(u,l,x))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var p=da(),x=gl(p);x.tag=2,u!=null&&(x.callback=u),u=xl(l,x,p),u!==null&&(Un(u,l,p),qh(u,l,p))}};function Xk(l,u,p,x,A,D,te){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(x,D,te):u.prototype&&u.prototype.isPureReactComponent?!Fh(p,x)||!Fh(A,D):!0}function Zk(l,u,p,x){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,x),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,x),u.state!==l&&Ob.enqueueReplaceState(u,u.state,null)}function Pc(l,u){var p=u;if("ref"in u){p={};for(var x in u)x!=="ref"&&(p[x]=u[x])}if(l=l.defaultProps){p===u&&(p=f({},p));for(var A in l)p[A]===void 0&&(p[A]=l[A])}return p}function Qk(l){gp(l)}function Jk(l){console.error(l)}function eC(l){gp(l)}function Ip(l,u){try{var p=l.onUncaughtError;p(u.value,{componentStack:u.stack})}catch(x){setTimeout(function(){throw x})}}function tC(l,u,p){try{var x=l.onCaughtError;x(p.value,{componentStack:p.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function Lb(l,u,p){return p=gl(p),p.tag=3,p.payload={element:null},p.callback=function(){Ip(l,u)},p}function sC(l){return l=gl(l),l.tag=3,l}function rC(l,u,p,x){var A=p.type.getDerivedStateFromError;if(typeof A=="function"){var D=x.value;l.payload=function(){return A(D)},l.callback=function(){tC(u,p,x)}}var te=p.stateNode;te!==null&&typeof te.componentDidCatch=="function"&&(l.callback=function(){tC(u,p,x),typeof A!="function"&&(_l===null?_l=new Set([this]):_l.add(this));var we=x.stack;this.componentDidCatch(x.value,{componentStack:we!==null?we:""})})}function _7(l,u,p,x,A){if(p.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(u=p.alternate,u!==null&&Hd(u,p,A,!0),p=ia.current,p!==null){switch(p.tag){case 31:case 13:return Da===null?Zp():p.alternate===null&&mr===0&&(mr=3),p.flags&=-257,p.flags|=65536,p.lanes=A,x===kp?p.flags|=16384:(u=p.updateQueue,u===null?p.updateQueue=new Set([x]):u.add(x),ov(l,x,A)),!1;case 22:return p.flags|=65536,x===kp?p.flags|=16384:(u=p.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([x])},p.updateQueue=u):(p=u.retryQueue,p===null?u.retryQueue=new Set([x]):p.add(x)),ov(l,x,A)),!1}throw Error(n(435,p.tag))}return ov(l,x,A),Zp(),!1}if(ms)return u=ia.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=A,x!==tb&&(l=Error(n(422),{cause:x}),zh(Aa(l,p)))):(x!==tb&&(u=Error(n(423),{cause:x}),zh(Aa(u,p))),l=l.current.alternate,l.flags|=65536,A&=-A,l.lanes|=A,x=Aa(x,p),A=Lb(l.stateNode,x,A),hb(l,A),mr!==4&&(mr=2)),!1;var D=Error(n(520),{cause:x});if(D=Aa(D,p),af===null?af=[D]:af.push(D),mr!==4&&(mr=2),u===null)return!0;x=Aa(x,p),p=u;do{switch(p.tag){case 3:return p.flags|=65536,l=A&-A,p.lanes|=l,l=Lb(p.stateNode,x,l),hb(p,l),!1;case 1:if(u=p.type,D=p.stateNode,(p.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(_l===null||!_l.has(D))))return p.flags|=65536,A&=-A,p.lanes|=A,A=sC(A),rC(A,l,p,x),hb(p,A),!1}p=p.return}while(p!==null);return!1}var Fb=Error(n(461)),Mr=!1;function nn(l,u,p,x){u.child=l===null?ok(u,null,p,x):Dc(u,l.child,p,x)}function nC(l,u,p,x,A){p=p.render;var D=u.ref;if("ref"in x){var te={};for(var we in x)we!=="ref"&&(te[we]=x[we])}else te=x;return Ac(u),x=yb(l,u,p,te,D,A),we=bb(),l!==null&&!Mr?(vb(l,u,A),po(l,u,A)):(ms&&we&&Jy(u),u.flags|=1,nn(l,u,x,A),u.child)}function aC(l,u,p,x,A){if(l===null){var D=p.type;return typeof D=="function"&&!Xy(D)&&D.defaultProps===void 0&&p.compare===null?(u.tag=15,u.type=D,iC(l,u,D,x,A)):(l=vp(p.type,null,x,u,u.mode,A),l.ref=u.ref,l.return=u,u.child=l)}if(D=l.child,!qb(l,A)){var te=D.memoizedProps;if(p=p.compare,p=p!==null?p:Fh,p(te,x)&&l.ref===u.ref)return po(l,u,A)}return u.flags|=1,l=lo(D,x),l.ref=u.ref,l.return=u,u.child=l}function iC(l,u,p,x,A){if(l!==null){var D=l.memoizedProps;if(Fh(D,x)&&l.ref===u.ref)if(Mr=!1,u.pendingProps=x=D,qb(l,A))(l.flags&131072)!==0&&(Mr=!0);else return u.lanes=l.lanes,po(l,u,A)}return Bb(l,u,p,x,A)}function oC(l,u,p,x){var A=x.children,D=l!==null?l.memoizedState:null;if(l===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),x.mode==="hidden"){if((u.flags&128)!==0){if(D=D!==null?D.baseLanes|p:p,l!==null){for(x=u.child=l.child,A=0;x!==null;)A=A|x.lanes|x.childLanes,x=x.sibling;x=A&~D}else x=0,u.child=null;return lC(l,u,D,p,x)}if((p&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},l!==null&&Np(u,D!==null?D.cachePool:null),D!==null?dk(u,D):mb(),uk(u);else return x=u.lanes=536870912,lC(l,u,D!==null?D.baseLanes|p:p,p,x)}else D!==null?(Np(u,D.cachePool),dk(u,D),bl(),u.memoizedState=null):(l!==null&&Np(u,null),mb(),bl());return nn(l,u,A,p),u.child}function Qh(l,u){return l!==null&&l.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function lC(l,u,p,x,A){var D=lb();return D=D===null?null:{parent:Rr._currentValue,pool:D},u.memoizedState={baseLanes:p,cachePool:D},l!==null&&Np(u,null),mb(),uk(u),l!==null&&Hd(l,u,x,!0),u.childLanes=A,null}function zp(l,u){return u=$p({mode:u.mode,children:u.children},l.mode),u.ref=l.ref,l.child=u,u.return=l,u}function cC(l,u,p){return Dc(u,l.child,null,p),l=zp(u,u.pendingProps),l.flags|=2,oa(u),u.memoizedState=null,l}function N7(l,u,p){var x=u.pendingProps,A=(u.flags&128)!==0;if(u.flags&=-129,l===null){if(ms){if(x.mode==="hidden")return l=zp(u,x),u.lanes=536870912,Qh(null,l);if(gb(u),(l=Ys)?(l=wA(l,Ra),l=l!==null&&l.data==="&"?l:null,l!==null&&(u.memoizedState={dehydrated:l,treeContext:ul!==null?{id:Ni,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},p=WS(l),p.return=u,u.child=p,sn=u,Ys=null)):l=null,l===null)throw fl(u);return u.lanes=536870912,null}return zp(u,x)}var D=l.memoizedState;if(D!==null){var te=D.dehydrated;if(gb(u),A)if(u.flags&256)u.flags&=-257,u=cC(l,u,p);else if(u.memoizedState!==null)u.child=l.child,u.flags|=128,u=null;else throw Error(n(558));else if(Mr||Hd(l,u,p,!1),A=(p&l.childLanes)!==0,Mr||A){if(x=Vs,x!==null&&(te=$r(x,p),te!==0&&te!==D.retryLane))throw D.retryLane=te,Nc(l,te),Un(x,l,te),Fb;Zp(),u=cC(l,u,p)}else l=D.treeContext,Ys=Ma(te.nextSibling),sn=u,ms=!0,hl=null,Ra=!1,l!==null&&KS(u,l),u=zp(u,x),u.flags|=4096;return u}return l=lo(l.child,{mode:x.mode,children:x.children}),l.ref=u.ref,u.child=l,l.return=u,l}function Up(l,u){var p=u.ref;if(p===null)l!==null&&l.ref!==null&&(u.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(n(284));(l===null||l.ref!==p)&&(u.flags|=4194816)}}function Bb(l,u,p,x,A){return Ac(u),p=yb(l,u,p,x,void 0,A),x=bb(),l!==null&&!Mr?(vb(l,u,A),po(l,u,A)):(ms&&x&&Jy(u),u.flags|=1,nn(l,u,p,A),u.child)}function dC(l,u,p,x,A,D){return Ac(u),u.updateQueue=null,p=fk(u,x,p,A),hk(l),x=bb(),l!==null&&!Mr?(vb(l,u,D),po(l,u,D)):(ms&&x&&Jy(u),u.flags|=1,nn(l,u,p,D),u.child)}function uC(l,u,p,x,A){if(Ac(u),u.stateNode===null){var D=zd,te=p.contextType;typeof te=="object"&&te!==null&&(D=rn(te)),D=new p(x,D),u.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,D.updater=Ob,u.stateNode=D,D._reactInternals=u,D=u.stateNode,D.props=x,D.state=u.memoizedState,D.refs={},db(u),te=p.contextType,D.context=typeof te=="object"&&te!==null?rn(te):zd,D.state=u.memoizedState,te=p.getDerivedStateFromProps,typeof te=="function"&&(Pb(u,p,te,x),D.state=u.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(te=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),te!==D.state&&Ob.enqueueReplaceState(D,D.state,null),Gh(u,x,D,A),Wh(),D.state=u.memoizedState),typeof D.componentDidMount=="function"&&(u.flags|=4194308),x=!0}else if(l===null){D=u.stateNode;var we=u.memoizedProps,Me=Pc(p,we);D.props=Me;var Ie=D.context,Ye=p.contextType;te=zd,typeof Ye=="object"&&Ye!==null&&(te=rn(Ye));var Je=p.getDerivedStateFromProps;Ye=typeof Je=="function"||typeof D.getSnapshotBeforeUpdate=="function",we=u.pendingProps!==we,Ye||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(we||Ie!==te)&&Zk(u,D,x,te),pl=!1;var ze=u.memoizedState;D.state=ze,Gh(u,x,D,A),Wh(),Ie=u.memoizedState,we||ze!==Ie||pl?(typeof Je=="function"&&(Pb(u,p,Je,x),Ie=u.memoizedState),(Me=pl||Xk(u,p,Me,x,ze,Ie,te))?(Ye||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(u.flags|=4194308)):(typeof D.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=x,u.memoizedState=Ie),D.props=x,D.state=Ie,D.context=te,x=Me):(typeof D.componentDidMount=="function"&&(u.flags|=4194308),x=!1)}else{D=u.stateNode,ub(l,u),te=u.memoizedProps,Ye=Pc(p,te),D.props=Ye,Je=u.pendingProps,ze=D.context,Ie=p.contextType,Me=zd,typeof Ie=="object"&&Ie!==null&&(Me=rn(Ie)),we=p.getDerivedStateFromProps,(Ie=typeof we=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(te!==Je||ze!==Me)&&Zk(u,D,x,Me),pl=!1,ze=u.memoizedState,D.state=ze,Gh(u,x,D,A),Wh();var He=u.memoizedState;te!==Je||ze!==He||pl||l!==null&&l.dependencies!==null&&jp(l.dependencies)?(typeof we=="function"&&(Pb(u,p,we,x),He=u.memoizedState),(Ye=pl||Xk(u,p,Ye,x,ze,He,Me)||l!==null&&l.dependencies!==null&&jp(l.dependencies))?(Ie||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(x,He,Me),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(x,He,Me)),typeof D.componentDidUpdate=="function"&&(u.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof D.componentDidUpdate!="function"||te===l.memoizedProps&&ze===l.memoizedState||(u.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||te===l.memoizedProps&&ze===l.memoizedState||(u.flags|=1024),u.memoizedProps=x,u.memoizedState=He),D.props=x,D.state=He,D.context=Me,x=Ye):(typeof D.componentDidUpdate!="function"||te===l.memoizedProps&&ze===l.memoizedState||(u.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||te===l.memoizedProps&&ze===l.memoizedState||(u.flags|=1024),x=!1)}return D=x,Up(l,u),x=(u.flags&128)!==0,D||x?(D=u.stateNode,p=x&&typeof p.getDerivedStateFromError!="function"?null:D.render(),u.flags|=1,l!==null&&x?(u.child=Dc(u,l.child,null,A),u.child=Dc(u,null,p,A)):nn(l,u,p,A),u.memoizedState=D.state,l=u.child):l=po(l,u,A),l}function hC(l,u,p,x){return kc(),u.flags|=256,nn(l,u,p,x),u.child}var Ib={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function zb(l){return{baseLanes:l,cachePool:tk()}}function Ub(l,u,p){return l=l!==null?l.childLanes&~p:0,u&&(l|=ca),l}function fC(l,u,p){var x=u.pendingProps,A=!1,D=(u.flags&128)!==0,te;if((te=D)||(te=l!==null&&l.memoizedState===null?!1:(jr.current&2)!==0),te&&(A=!0,u.flags&=-129),te=(u.flags&32)!==0,u.flags&=-33,l===null){if(ms){if(A?yl(u):bl(),(l=Ys)?(l=wA(l,Ra),l=l!==null&&l.data!=="&"?l:null,l!==null&&(u.memoizedState={dehydrated:l,treeContext:ul!==null?{id:Ni,overflow:Si}:null,retryLane:536870912,hydrationErrors:null},p=WS(l),p.return=u,u.child=p,sn=u,Ys=null)):l=null,l===null)throw fl(u);return _v(l)?u.lanes=32:u.lanes=536870912,null}var we=x.children;return x=x.fallback,A?(bl(),A=u.mode,we=$p({mode:"hidden",children:we},A),x=Sc(x,A,p,null),we.return=u,x.return=u,we.sibling=x,u.child=we,x=u.child,x.memoizedState=zb(p),x.childLanes=Ub(l,te,p),u.memoizedState=Ib,Qh(null,x)):(yl(u),$b(u,we))}var Me=l.memoizedState;if(Me!==null&&(we=Me.dehydrated,we!==null)){if(D)u.flags&256?(yl(u),u.flags&=-257,u=Vb(l,u,p)):u.memoizedState!==null?(bl(),u.child=l.child,u.flags|=128,u=null):(bl(),we=x.fallback,A=u.mode,x=$p({mode:"visible",children:x.children},A),we=Sc(we,A,p,null),we.flags|=2,x.return=u,we.return=u,x.sibling=we,u.child=x,Dc(u,l.child,null,p),x=u.child,x.memoizedState=zb(p),x.childLanes=Ub(l,te,p),u.memoizedState=Ib,u=Qh(null,x));else if(yl(u),_v(we)){if(te=we.nextSibling&&we.nextSibling.dataset,te)var Ie=te.dgst;te=Ie,x=Error(n(419)),x.stack="",x.digest=te,zh({value:x,source:null,stack:null}),u=Vb(l,u,p)}else if(Mr||Hd(l,u,p,!1),te=(p&l.childLanes)!==0,Mr||te){if(te=Vs,te!==null&&(x=$r(te,p),x!==0&&x!==Me.retryLane))throw Me.retryLane=x,Nc(l,x),Un(te,l,x),Fb;jv(we)||Zp(),u=Vb(l,u,p)}else jv(we)?(u.flags|=192,u.child=l.child,u=null):(l=Me.treeContext,Ys=Ma(we.nextSibling),sn=u,ms=!0,hl=null,Ra=!1,l!==null&&KS(u,l),u=$b(u,x.children),u.flags|=4096);return u}return A?(bl(),we=x.fallback,A=u.mode,Me=l.child,Ie=Me.sibling,x=lo(Me,{mode:"hidden",children:x.children}),x.subtreeFlags=Me.subtreeFlags&65011712,Ie!==null?we=lo(Ie,we):(we=Sc(we,A,p,null),we.flags|=2),we.return=u,x.return=u,x.sibling=we,u.child=x,Qh(null,x),x=u.child,we=l.child.memoizedState,we===null?we=zb(p):(A=we.cachePool,A!==null?(Me=Rr._currentValue,A=A.parent!==Me?{parent:Me,pool:Me}:A):A=tk(),we={baseLanes:we.baseLanes|p,cachePool:A}),x.memoizedState=we,x.childLanes=Ub(l,te,p),u.memoizedState=Ib,Qh(l.child,x)):(yl(u),p=l.child,l=p.sibling,p=lo(p,{mode:"visible",children:x.children}),p.return=u,p.sibling=null,l!==null&&(te=u.deletions,te===null?(u.deletions=[l],u.flags|=16):te.push(l)),u.child=p,u.memoizedState=null,p)}function $b(l,u){return u=$p({mode:"visible",children:u},l.mode),u.return=l,l.child=u}function $p(l,u){return l=aa(22,l,null,u),l.lanes=0,l}function Vb(l,u,p){return Dc(u,l.child,null,p),l=$b(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function mC(l,u,p){l.lanes|=u;var x=l.alternate;x!==null&&(x.lanes|=u),nb(l.return,u,p)}function Hb(l,u,p,x,A,D){var te=l.memoizedState;te===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:x,tail:p,tailMode:A,treeForkCount:D}:(te.isBackwards=u,te.rendering=null,te.renderingStartTime=0,te.last=x,te.tail=p,te.tailMode=A,te.treeForkCount=D)}function pC(l,u,p){var x=u.pendingProps,A=x.revealOrder,D=x.tail;x=x.children;var te=jr.current,we=(te&2)!==0;if(we?(te=te&1|2,u.flags|=128):te&=1,le(jr,te),nn(l,u,x,p),x=ms?Ih:0,!we&&l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&mC(l,p,u);else if(l.tag===19)mC(l,p,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(A){case"forwards":for(p=u.child,A=null;p!==null;)l=p.alternate,l!==null&&Tp(l)===null&&(A=p),p=p.sibling;p=A,p===null?(A=u.child,u.child=null):(A=p.sibling,p.sibling=null),Hb(u,!1,A,p,D,x);break;case"backwards":case"unstable_legacy-backwards":for(p=null,A=u.child,u.child=null;A!==null;){if(l=A.alternate,l!==null&&Tp(l)===null){u.child=A;break}l=A.sibling,A.sibling=p,p=A,A=l}Hb(u,!0,p,null,D,x);break;case"together":Hb(u,!1,null,null,void 0,x);break;default:u.memoizedState=null}return u.child}function po(l,u,p){if(l!==null&&(u.dependencies=l.dependencies),jl|=u.lanes,(p&u.childLanes)===0)if(l!==null){if(Hd(l,u,p,!1),(p&u.childLanes)===0)return null}else return null;if(l!==null&&u.child!==l.child)throw Error(n(153));if(u.child!==null){for(l=u.child,p=lo(l,l.pendingProps),u.child=p,p.return=u;l.sibling!==null;)l=l.sibling,p=p.sibling=lo(l,l.pendingProps),p.return=u;p.sibling=null}return u.child}function qb(l,u){return(l.lanes&u)!==0?!0:(l=l.dependencies,!!(l!==null&&jp(l)))}function S7(l,u,p){switch(u.tag){case 3:H(u,u.stateNode.containerInfo),ml(u,Rr,l.memoizedState.cache),kc();break;case 27:case 5:Z(u);break;case 4:H(u,u.stateNode.containerInfo);break;case 10:ml(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,gb(u),null;break;case 13:var x=u.memoizedState;if(x!==null)return x.dehydrated!==null?(yl(u),u.flags|=128,null):(p&u.child.childLanes)!==0?fC(l,u,p):(yl(u),l=po(l,u,p),l!==null?l.sibling:null);yl(u);break;case 19:var A=(l.flags&128)!==0;if(x=(p&u.childLanes)!==0,x||(Hd(l,u,p,!1),x=(p&u.childLanes)!==0),A){if(x)return pC(l,u,p);u.flags|=128}if(A=u.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),le(jr,jr.current),x)break;return null;case 22:return u.lanes=0,oC(l,u,p,u.pendingProps);case 24:ml(u,Rr,l.memoizedState.cache)}return po(l,u,p)}function gC(l,u,p){if(l!==null)if(l.memoizedProps!==u.pendingProps)Mr=!0;else{if(!qb(l,p)&&(u.flags&128)===0)return Mr=!1,S7(l,u,p);Mr=(l.flags&131072)!==0}else Mr=!1,ms&&(u.flags&1048576)!==0&&YS(u,Ih,u.index);switch(u.lanes=0,u.tag){case 16:e:{var x=u.pendingProps;if(l=Tc(u.elementType),u.type=l,typeof l=="function")Xy(l)?(x=Pc(l,x),u.tag=1,u=uC(null,u,l,x,p)):(u.tag=0,u=Bb(null,u,l,x,p));else{if(l!=null){var A=l.$$typeof;if(A===S){u.tag=11,u=nC(null,u,l,x,p);break e}else if(A===E){u.tag=14,u=aC(null,u,l,x,p);break e}}throw u=O(l)||l,Error(n(306,u,""))}}return u;case 0:return Bb(l,u,u.type,u.pendingProps,p);case 1:return x=u.type,A=Pc(x,u.pendingProps),uC(l,u,x,A,p);case 3:e:{if(H(u,u.stateNode.containerInfo),l===null)throw Error(n(387));x=u.pendingProps;var D=u.memoizedState;A=D.element,ub(l,u),Gh(u,x,null,p);var te=u.memoizedState;if(x=te.cache,ml(u,Rr,x),x!==D.cache&&ab(u,[Rr],p,!0),Wh(),x=te.element,D.isDehydrated)if(D={element:x,isDehydrated:!1,cache:te.cache},u.updateQueue.baseState=D,u.memoizedState=D,u.flags&256){u=hC(l,u,x,p);break e}else if(x!==A){A=Aa(Error(n(424)),u),zh(A),u=hC(l,u,x,p);break e}else{switch(l=u.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(Ys=Ma(l.firstChild),sn=u,ms=!0,hl=null,Ra=!0,p=ok(u,null,x,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(kc(),x===A){u=po(l,u,p);break e}nn(l,u,x,p)}u=u.child}return u;case 26:return Up(l,u),l===null?(p=CA(u.type,null,u.pendingProps,null))?u.memoizedState=p:ms||(p=u.type,l=u.pendingProps,x=ng(me.current).createElement(p),x[wr]=u,x[ur]=l,an(x,p,l),Os(x),u.stateNode=x):u.memoizedState=CA(u.type,l.memoizedProps,u.pendingProps,l.memoizedState),null;case 27:return Z(u),l===null&&ms&&(x=u.stateNode=NA(u.type,u.pendingProps,me.current),sn=u,Ra=!0,A=Ys,Cl(u.type)?(Nv=A,Ys=Ma(x.firstChild)):Ys=A),nn(l,u,u.pendingProps.children,p),Up(l,u),l===null&&(u.flags|=4194304),u.child;case 5:return l===null&&ms&&((A=x=Ys)&&(x=tz(x,u.type,u.pendingProps,Ra),x!==null?(u.stateNode=x,sn=u,Ys=Ma(x.firstChild),Ra=!1,A=!0):A=!1),A||fl(u)),Z(u),A=u.type,D=u.pendingProps,te=l!==null?l.memoizedProps:null,x=D.children,bv(A,D)?x=null:te!==null&&bv(A,te)&&(u.flags|=32),u.memoizedState!==null&&(A=yb(l,u,g7,null,null,p),mf._currentValue=A),Up(l,u),nn(l,u,x,p),u.child;case 6:return l===null&&ms&&((l=p=Ys)&&(p=sz(p,u.pendingProps,Ra),p!==null?(u.stateNode=p,sn=u,Ys=null,l=!0):l=!1),l||fl(u)),null;case 13:return fC(l,u,p);case 4:return H(u,u.stateNode.containerInfo),x=u.pendingProps,l===null?u.child=Dc(u,null,x,p):nn(l,u,x,p),u.child;case 11:return nC(l,u,u.type,u.pendingProps,p);case 7:return nn(l,u,u.pendingProps,p),u.child;case 8:return nn(l,u,u.pendingProps.children,p),u.child;case 12:return nn(l,u,u.pendingProps.children,p),u.child;case 10:return x=u.pendingProps,ml(u,u.type,x.value),nn(l,u,x.children,p),u.child;case 9:return A=u.type._context,x=u.pendingProps.children,Ac(u),A=rn(A),x=x(A),u.flags|=1,nn(l,u,x,p),u.child;case 14:return aC(l,u,u.type,u.pendingProps,p);case 15:return iC(l,u,u.type,u.pendingProps,p);case 19:return pC(l,u,p);case 31:return N7(l,u,p);case 22:return oC(l,u,p,u.pendingProps);case 24:return Ac(u),x=rn(Rr),l===null?(A=lb(),A===null&&(A=Vs,D=ib(),A.pooledCache=D,D.refCount++,D!==null&&(A.pooledCacheLanes|=p),A=D),u.memoizedState={parent:x,cache:A},db(u),ml(u,Rr,A)):((l.lanes&p)!==0&&(ub(l,u),Gh(u,null,null,p),Wh()),A=l.memoizedState,D=u.memoizedState,A.parent!==x?(A={parent:x,cache:x},u.memoizedState=A,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=A),ml(u,Rr,x)):(x=D.cache,ml(u,Rr,x),x!==A.cache&&ab(u,[Rr],p,!0))),nn(l,u,u.pendingProps.children,p),u.child;case 29:throw u.pendingProps}throw Error(n(156,u.tag))}function go(l){l.flags|=4}function Wb(l,u,p,x,A){if((u=(l.mode&32)!==0)&&(u=!1),u){if(l.flags|=16777216,(A&335544128)===A)if(l.stateNode.complete)l.flags|=8192;else if(VC())l.flags|=8192;else throw Rc=kp,cb}else l.flags&=-16777217}function xC(l,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!DA(u))if(VC())l.flags|=8192;else throw Rc=kp,cb}function Vp(l,u){u!==null&&(l.flags|=4),l.flags&16384&&(u=l.tag!==22?Qs():536870912,l.lanes|=u,su|=u)}function Jh(l,u){if(!ms)switch(l.tailMode){case"hidden":u=l.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?l.tail=null:p.sibling=null;break;case"collapsed":p=l.tail;for(var x=null;p!==null;)p.alternate!==null&&(x=p),p=p.sibling;x===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:x.sibling=null}}function Ks(l){var u=l.alternate!==null&&l.alternate.child===l.child,p=0,x=0;if(u)for(var A=l.child;A!==null;)p|=A.lanes|A.childLanes,x|=A.subtreeFlags&65011712,x|=A.flags&65011712,A.return=l,A=A.sibling;else for(A=l.child;A!==null;)p|=A.lanes|A.childLanes,x|=A.subtreeFlags,x|=A.flags,A.return=l,A=A.sibling;return l.subtreeFlags|=x,l.childLanes=p,u}function k7(l,u,p){var x=u.pendingProps;switch(eb(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ks(u),null;case 1:return Ks(u),null;case 3:return p=u.stateNode,x=null,l!==null&&(x=l.memoizedState.cache),u.memoizedState.cache!==x&&(u.flags|=2048),ho(Rr),fe(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(l===null||l.child===null)&&(Vd(u)?go(u):l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,sb())),Ks(u),null;case 26:var A=u.type,D=u.memoizedState;return l===null?(go(u),D!==null?(Ks(u),xC(u,D)):(Ks(u),Wb(u,A,null,x,p))):D?D!==l.memoizedState?(go(u),Ks(u),xC(u,D)):(Ks(u),u.flags&=-16777217):(l=l.memoizedProps,l!==x&&go(u),Ks(u),Wb(u,A,l,x,p)),null;case 27:if(ee(u),p=me.current,A=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==x&&go(u);else{if(!x){if(u.stateNode===null)throw Error(n(166));return Ks(u),null}l=oe.current,Vd(u)?XS(u):(l=NA(A,x,p),u.stateNode=l,go(u))}return Ks(u),null;case 5:if(ee(u),A=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==x&&go(u);else{if(!x){if(u.stateNode===null)throw Error(n(166));return Ks(u),null}if(D=oe.current,Vd(u))XS(u);else{var te=ng(me.current);switch(D){case 1:D=te.createElementNS("http://www.w3.org/2000/svg",A);break;case 2:D=te.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;default:switch(A){case"svg":D=te.createElementNS("http://www.w3.org/2000/svg",A);break;case"math":D=te.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;case"script":D=te.createElement("div"),D.innerHTML="<script><\/script>",D=D.removeChild(D.firstChild);break;case"select":D=typeof x.is=="string"?te.createElement("select",{is:x.is}):te.createElement("select"),x.multiple?D.multiple=!0:x.size&&(D.size=x.size);break;default:D=typeof x.is=="string"?te.createElement(A,{is:x.is}):te.createElement(A)}}D[wr]=u,D[ur]=x;e:for(te=u.child;te!==null;){if(te.tag===5||te.tag===6)D.appendChild(te.stateNode);else if(te.tag!==4&&te.tag!==27&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===u)break e;for(;te.sibling===null;){if(te.return===null||te.return===u)break e;te=te.return}te.sibling.return=te.return,te=te.sibling}u.stateNode=D;e:switch(an(D,A,x),A){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}x&&go(u)}}return Ks(u),Wb(u,u.type,l===null?null:l.memoizedProps,u.pendingProps,p),null;case 6:if(l&&u.stateNode!=null)l.memoizedProps!==x&&go(u);else{if(typeof x!="string"&&u.stateNode===null)throw Error(n(166));if(l=me.current,Vd(u)){if(l=u.stateNode,p=u.memoizedProps,x=null,A=sn,A!==null)switch(A.tag){case 27:case 5:x=A.memoizedProps}l[wr]=u,l=!!(l.nodeValue===p||x!==null&&x.suppressHydrationWarning===!0||fA(l.nodeValue,p)),l||fl(u,!0)}else l=ng(l).createTextNode(x),l[wr]=u,u.stateNode=l}return Ks(u),null;case 31:if(p=u.memoizedState,l===null||l.memoizedState!==null){if(x=Vd(u),p!==null){if(l===null){if(!x)throw Error(n(318));if(l=u.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(557));l[wr]=u}else kc(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Ks(u),l=!1}else p=sb(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=p),l=!0;if(!l)return u.flags&256?(oa(u),u):(oa(u),null);if((u.flags&128)!==0)throw Error(n(558))}return Ks(u),null;case 13:if(x=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(A=Vd(u),x!==null&&x.dehydrated!==null){if(l===null){if(!A)throw Error(n(318));if(A=u.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(317));A[wr]=u}else kc(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Ks(u),A=!1}else A=sb(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=A),A=!0;if(!A)return u.flags&256?(oa(u),u):(oa(u),null)}return oa(u),(u.flags&128)!==0?(u.lanes=p,u):(p=x!==null,l=l!==null&&l.memoizedState!==null,p&&(x=u.child,A=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(A=x.alternate.memoizedState.cachePool.pool),D=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(D=x.memoizedState.cachePool.pool),D!==A&&(x.flags|=2048)),p!==l&&p&&(u.child.flags|=8192),Vp(u,u.updateQueue),Ks(u),null);case 4:return fe(),l===null&&mv(u.stateNode.containerInfo),Ks(u),null;case 10:return ho(u.type),Ks(u),null;case 19:if(W(jr),x=u.memoizedState,x===null)return Ks(u),null;if(A=(u.flags&128)!==0,D=x.rendering,D===null)if(A)Jh(x,!1);else{if(mr!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(D=Tp(l),D!==null){for(u.flags|=128,Jh(x,!1),l=D.updateQueue,u.updateQueue=l,Vp(u,l),u.subtreeFlags=0,l=p,p=u.child;p!==null;)qS(p,l),p=p.sibling;return le(jr,jr.current&1|2),ms&&co(u,x.treeForkCount),u.child}l=l.sibling}x.tail!==null&&je()>Yp&&(u.flags|=128,A=!0,Jh(x,!1),u.lanes=4194304)}else{if(!A)if(l=Tp(D),l!==null){if(u.flags|=128,A=!0,l=l.updateQueue,u.updateQueue=l,Vp(u,l),Jh(x,!0),x.tail===null&&x.tailMode==="hidden"&&!D.alternate&&!ms)return Ks(u),null}else 2*je()-x.renderingStartTime>Yp&&p!==536870912&&(u.flags|=128,A=!0,Jh(x,!1),u.lanes=4194304);x.isBackwards?(D.sibling=u.child,u.child=D):(l=x.last,l!==null?l.sibling=D:u.child=D,x.last=D)}return x.tail!==null?(l=x.tail,x.rendering=l,x.tail=l.sibling,x.renderingStartTime=je(),l.sibling=null,p=jr.current,le(jr,A?p&1|2:p&1),ms&&co(u,x.treeForkCount),l):(Ks(u),null);case 22:case 23:return oa(u),pb(),x=u.memoizedState!==null,l!==null?l.memoizedState!==null!==x&&(u.flags|=8192):x&&(u.flags|=8192),x?(p&536870912)!==0&&(u.flags&128)===0&&(Ks(u),u.subtreeFlags&6&&(u.flags|=8192)):Ks(u),p=u.updateQueue,p!==null&&Vp(u,p.retryQueue),p=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),x=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),x!==p&&(u.flags|=2048),l!==null&&W(Ec),null;case 24:return p=null,l!==null&&(p=l.memoizedState.cache),u.memoizedState.cache!==p&&(u.flags|=2048),ho(Rr),Ks(u),null;case 25:return null;case 30:return null}throw Error(n(156,u.tag))}function C7(l,u){switch(eb(u),u.tag){case 1:return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return ho(Rr),fe(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 26:case 27:case 5:return ee(u),null;case 31:if(u.memoizedState!==null){if(oa(u),u.alternate===null)throw Error(n(340));kc()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 13:if(oa(u),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(n(340));kc()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return W(jr),null;case 4:return fe(),null;case 10:return ho(u.type),null;case 22:case 23:return oa(u),pb(),l!==null&&W(Ec),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 24:return ho(Rr),null;case 25:return null;default:return null}}function yC(l,u){switch(eb(u),u.tag){case 3:ho(Rr),fe();break;case 26:case 27:case 5:ee(u);break;case 4:fe();break;case 31:u.memoizedState!==null&&oa(u);break;case 13:oa(u);break;case 19:W(jr);break;case 10:ho(u.type);break;case 22:case 23:oa(u),pb(),l!==null&&W(Ec);break;case 24:ho(Rr)}}function ef(l,u){try{var p=u.updateQueue,x=p!==null?p.lastEffect:null;if(x!==null){var A=x.next;p=A;do{if((p.tag&l)===l){x=void 0;var D=p.create,te=p.inst;x=D(),te.destroy=x}p=p.next}while(p!==A)}}catch(we){Rs(u,u.return,we)}}function vl(l,u,p){try{var x=u.updateQueue,A=x!==null?x.lastEffect:null;if(A!==null){var D=A.next;x=D;do{if((x.tag&l)===l){var te=x.inst,we=te.destroy;if(we!==void 0){te.destroy=void 0,A=u;var Me=p,Ie=we;try{Ie()}catch(Ye){Rs(A,Me,Ye)}}}x=x.next}while(x!==D)}}catch(Ye){Rs(u,u.return,Ye)}}function bC(l){var u=l.updateQueue;if(u!==null){var p=l.stateNode;try{ck(u,p)}catch(x){Rs(l,l.return,x)}}}function vC(l,u,p){p.props=Pc(l.type,l.memoizedProps),p.state=l.memoizedState;try{p.componentWillUnmount()}catch(x){Rs(l,u,x)}}function tf(l,u){try{var p=l.ref;if(p!==null){switch(l.tag){case 26:case 27:case 5:var x=l.stateNode;break;case 30:x=l.stateNode;break;default:x=l.stateNode}typeof p=="function"?l.refCleanup=p(x):p.current=x}}catch(A){Rs(l,u,A)}}function ki(l,u){var p=l.ref,x=l.refCleanup;if(p!==null)if(typeof x=="function")try{x()}catch(A){Rs(l,u,A)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(A){Rs(l,u,A)}else p.current=null}function wC(l){var u=l.type,p=l.memoizedProps,x=l.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":p.autoFocus&&x.focus();break e;case"img":p.src?x.src=p.src:p.srcSet&&(x.srcset=p.srcSet)}}catch(A){Rs(l,l.return,A)}}function Gb(l,u,p){try{var x=l.stateNode;K7(x,l.type,p,u),x[ur]=u}catch(A){Rs(l,l.return,A)}}function jC(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&Cl(l.type)||l.tag===4}function Yb(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||jC(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&Cl(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Kb(l,u,p){var x=l.tag;if(x===5||x===6)l=l.stateNode,u?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(l,u):(u=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,u.appendChild(l),p=p._reactRootContainer,p!=null||u.onclick!==null||(u.onclick=Pn));else if(x!==4&&(x===27&&Cl(l.type)&&(p=l.stateNode,u=null),l=l.child,l!==null))for(Kb(l,u,p),l=l.sibling;l!==null;)Kb(l,u,p),l=l.sibling}function Hp(l,u,p){var x=l.tag;if(x===5||x===6)l=l.stateNode,u?p.insertBefore(l,u):p.appendChild(l);else if(x!==4&&(x===27&&Cl(l.type)&&(p=l.stateNode),l=l.child,l!==null))for(Hp(l,u,p),l=l.sibling;l!==null;)Hp(l,u,p),l=l.sibling}function _C(l){var u=l.stateNode,p=l.memoizedProps;try{for(var x=l.type,A=u.attributes;A.length;)u.removeAttributeNode(A[0]);an(u,x,p),u[wr]=l,u[ur]=p}catch(D){Rs(l,l.return,D)}}var xo=!1,Pr=!1,Xb=!1,NC=typeof WeakSet=="function"?WeakSet:Set,Jr=null;function A7(l,u){if(l=l.containerInfo,xv=ug,l=LS(l),Vy(l)){if("selectionStart"in l)var p={start:l.selectionStart,end:l.selectionEnd};else e:{p=(p=l.ownerDocument)&&p.defaultView||window;var x=p.getSelection&&p.getSelection();if(x&&x.rangeCount!==0){p=x.anchorNode;var A=x.anchorOffset,D=x.focusNode;x=x.focusOffset;try{p.nodeType,D.nodeType}catch{p=null;break e}var te=0,we=-1,Me=-1,Ie=0,Ye=0,Je=l,ze=null;t:for(;;){for(var He;Je!==p||A!==0&&Je.nodeType!==3||(we=te+A),Je!==D||x!==0&&Je.nodeType!==3||(Me=te+x),Je.nodeType===3&&(te+=Je.nodeValue.length),(He=Je.firstChild)!==null;)ze=Je,Je=He;for(;;){if(Je===l)break t;if(ze===p&&++Ie===A&&(we=te),ze===D&&++Ye===x&&(Me=te),(He=Je.nextSibling)!==null)break;Je=ze,ze=Je.parentNode}Je=He}p=we===-1||Me===-1?null:{start:we,end:Me}}else p=null}p=p||{start:0,end:0}}else p=null;for(yv={focusedElem:l,selectionRange:p},ug=!1,Jr=u;Jr!==null;)if(u=Jr,l=u.child,(u.subtreeFlags&1028)!==0&&l!==null)l.return=u,Jr=l;else for(;Jr!==null;){switch(u=Jr,D=u.alternate,l=u.flags,u.tag){case 0:if((l&4)!==0&&(l=u.updateQueue,l=l!==null?l.events:null,l!==null))for(p=0;p<l.length;p++)A=l[p],A.ref.impl=A.nextImpl;break;case 11:case 15:break;case 1:if((l&1024)!==0&&D!==null){l=void 0,p=u,A=D.memoizedProps,D=D.memoizedState,x=p.stateNode;try{var yt=Pc(p.type,A);l=x.getSnapshotBeforeUpdate(yt,D),x.__reactInternalSnapshotBeforeUpdate=l}catch(Rt){Rs(p,p.return,Rt)}}break;case 3:if((l&1024)!==0){if(l=u.stateNode.containerInfo,p=l.nodeType,p===9)wv(l);else if(p===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":wv(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(n(163))}if(l=u.sibling,l!==null){l.return=u.return,Jr=l;break}Jr=u.return}}function SC(l,u,p){var x=p.flags;switch(p.tag){case 0:case 11:case 15:bo(l,p),x&4&&ef(5,p);break;case 1:if(bo(l,p),x&4)if(l=p.stateNode,u===null)try{l.componentDidMount()}catch(te){Rs(p,p.return,te)}else{var A=Pc(p.type,u.memoizedProps);u=u.memoizedState;try{l.componentDidUpdate(A,u,l.__reactInternalSnapshotBeforeUpdate)}catch(te){Rs(p,p.return,te)}}x&64&&bC(p),x&512&&tf(p,p.return);break;case 3:if(bo(l,p),x&64&&(l=p.updateQueue,l!==null)){if(u=null,p.child!==null)switch(p.child.tag){case 27:case 5:u=p.child.stateNode;break;case 1:u=p.child.stateNode}try{ck(l,u)}catch(te){Rs(p,p.return,te)}}break;case 27:u===null&&x&4&&_C(p);case 26:case 5:bo(l,p),u===null&&x&4&&wC(p),x&512&&tf(p,p.return);break;case 12:bo(l,p);break;case 31:bo(l,p),x&4&&AC(l,p);break;case 13:bo(l,p),x&4&&EC(l,p),x&64&&(l=p.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(p=F7.bind(null,p),rz(l,p))));break;case 22:if(x=p.memoizedState!==null||xo,!x){u=u!==null&&u.memoizedState!==null||Pr,A=xo;var D=Pr;xo=x,(Pr=u)&&!D?vo(l,p,(p.subtreeFlags&8772)!==0):bo(l,p),xo=A,Pr=D}break;case 30:break;default:bo(l,p)}}function kC(l){var u=l.alternate;u!==null&&(l.alternate=null,kC(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&hc(u)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var Js=null,Fn=!1;function yo(l,u,p){for(p=p.child;p!==null;)CC(l,u,p),p=p.sibling}function CC(l,u,p){if(us&&typeof us.onCommitFiberUnmount=="function")try{us.onCommitFiberUnmount(Ct,p)}catch{}switch(p.tag){case 26:Pr||ki(p,u),yo(l,u,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Pr||ki(p,u);var x=Js,A=Fn;Cl(p.type)&&(Js=p.stateNode,Fn=!1),yo(l,u,p),uf(p.stateNode),Js=x,Fn=A;break;case 5:Pr||ki(p,u);case 6:if(x=Js,A=Fn,Js=null,yo(l,u,p),Js=x,Fn=A,Js!==null)if(Fn)try{(Js.nodeType===9?Js.body:Js.nodeName==="HTML"?Js.ownerDocument.body:Js).removeChild(p.stateNode)}catch(D){Rs(p,u,D)}else try{Js.removeChild(p.stateNode)}catch(D){Rs(p,u,D)}break;case 18:Js!==null&&(Fn?(l=Js,bA(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,p.stateNode),du(l)):bA(Js,p.stateNode));break;case 4:x=Js,A=Fn,Js=p.stateNode.containerInfo,Fn=!0,yo(l,u,p),Js=x,Fn=A;break;case 0:case 11:case 14:case 15:vl(2,p,u),Pr||vl(4,p,u),yo(l,u,p);break;case 1:Pr||(ki(p,u),x=p.stateNode,typeof x.componentWillUnmount=="function"&&vC(p,u,x)),yo(l,u,p);break;case 21:yo(l,u,p);break;case 22:Pr=(x=Pr)||p.memoizedState!==null,yo(l,u,p),Pr=x;break;default:yo(l,u,p)}}function AC(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{du(l)}catch(p){Rs(u,u.return,p)}}}function EC(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{du(l)}catch(p){Rs(u,u.return,p)}}function E7(l){switch(l.tag){case 31:case 13:case 19:var u=l.stateNode;return u===null&&(u=l.stateNode=new NC),u;case 22:return l=l.stateNode,u=l._retryCache,u===null&&(u=l._retryCache=new NC),u;default:throw Error(n(435,l.tag))}}function qp(l,u){var p=E7(l);u.forEach(function(x){if(!p.has(x)){p.add(x);var A=B7.bind(null,l,x);x.then(A,A)}})}function Bn(l,u){var p=u.deletions;if(p!==null)for(var x=0;x<p.length;x++){var A=p[x],D=l,te=u,we=te;e:for(;we!==null;){switch(we.tag){case 27:if(Cl(we.type)){Js=we.stateNode,Fn=!1;break e}break;case 5:Js=we.stateNode,Fn=!1;break e;case 3:case 4:Js=we.stateNode.containerInfo,Fn=!0;break e}we=we.return}if(Js===null)throw Error(n(160));CC(D,te,A),Js=null,Fn=!1,D=A.alternate,D!==null&&(D.return=null),A.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)TC(u,l),u=u.sibling}var Qa=null;function TC(l,u){var p=l.alternate,x=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:Bn(u,l),In(l),x&4&&(vl(3,l,l.return),ef(3,l),vl(5,l,l.return));break;case 1:Bn(u,l),In(l),x&512&&(Pr||p===null||ki(p,p.return)),x&64&&xo&&(l=l.updateQueue,l!==null&&(x=l.callbacks,x!==null&&(p=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=p===null?x:p.concat(x))));break;case 26:var A=Qa;if(Bn(u,l),In(l),x&512&&(Pr||p===null||ki(p,p.return)),x&4){var D=p!==null?p.memoizedState:null;if(x=l.memoizedState,p===null)if(x===null)if(l.stateNode===null){e:{x=l.type,p=l.memoizedProps,A=A.ownerDocument||A;t:switch(x){case"title":D=A.getElementsByTagName("title")[0],(!D||D[Wa]||D[wr]||D.namespaceURI==="http://www.w3.org/2000/svg"||D.hasAttribute("itemprop"))&&(D=A.createElement(x),A.head.insertBefore(D,A.querySelector("head > title"))),an(D,x,p),D[wr]=l,Os(D),x=D;break e;case"link":var te=TA("link","href",A).get(x+(p.href||""));if(te){for(var we=0;we<te.length;we++)if(D=te[we],D.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&D.getAttribute("rel")===(p.rel==null?null:p.rel)&&D.getAttribute("title")===(p.title==null?null:p.title)&&D.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){te.splice(we,1);break t}}D=A.createElement(x),an(D,x,p),A.head.appendChild(D);break;case"meta":if(te=TA("meta","content",A).get(x+(p.content||""))){for(we=0;we<te.length;we++)if(D=te[we],D.getAttribute("content")===(p.content==null?null:""+p.content)&&D.getAttribute("name")===(p.name==null?null:p.name)&&D.getAttribute("property")===(p.property==null?null:p.property)&&D.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&D.getAttribute("charset")===(p.charSet==null?null:p.charSet)){te.splice(we,1);break t}}D=A.createElement(x),an(D,x,p),A.head.appendChild(D);break;default:throw Error(n(468,x))}D[wr]=l,Os(D),x=D}l.stateNode=x}else RA(A,l.type,l.stateNode);else l.stateNode=EA(A,x,l.memoizedProps);else D!==x?(D===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):D.count--,x===null?RA(A,l.type,l.stateNode):EA(A,x,l.memoizedProps)):x===null&&l.stateNode!==null&&Gb(l,l.memoizedProps,p.memoizedProps)}break;case 27:Bn(u,l),In(l),x&512&&(Pr||p===null||ki(p,p.return)),p!==null&&x&4&&Gb(l,l.memoizedProps,p.memoizedProps);break;case 5:if(Bn(u,l),In(l),x&512&&(Pr||p===null||ki(p,p.return)),l.flags&32){A=l.stateNode;try{vi(A,"")}catch(yt){Rs(l,l.return,yt)}}x&4&&l.stateNode!=null&&(A=l.memoizedProps,Gb(l,A,p!==null?p.memoizedProps:A)),x&1024&&(Xb=!0);break;case 6:if(Bn(u,l),In(l),x&4){if(l.stateNode===null)throw Error(n(162));x=l.memoizedProps,p=l.stateNode;try{p.nodeValue=x}catch(yt){Rs(l,l.return,yt)}}break;case 3:if(og=null,A=Qa,Qa=ag(u.containerInfo),Bn(u,l),Qa=A,In(l),x&4&&p!==null&&p.memoizedState.isDehydrated)try{du(u.containerInfo)}catch(yt){Rs(l,l.return,yt)}Xb&&(Xb=!1,RC(l));break;case 4:x=Qa,Qa=ag(l.stateNode.containerInfo),Bn(u,l),In(l),Qa=x;break;case 12:Bn(u,l),In(l);break;case 31:Bn(u,l),In(l),x&4&&(x=l.updateQueue,x!==null&&(l.updateQueue=null,qp(l,x)));break;case 13:Bn(u,l),In(l),l.child.flags&8192&&l.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(Gp=je()),x&4&&(x=l.updateQueue,x!==null&&(l.updateQueue=null,qp(l,x)));break;case 22:A=l.memoizedState!==null;var Me=p!==null&&p.memoizedState!==null,Ie=xo,Ye=Pr;if(xo=Ie||A,Pr=Ye||Me,Bn(u,l),Pr=Ye,xo=Ie,In(l),x&8192)e:for(u=l.stateNode,u._visibility=A?u._visibility&-2:u._visibility|1,A&&(p===null||Me||xo||Pr||Oc(l)),p=null,u=l;;){if(u.tag===5||u.tag===26){if(p===null){Me=p=u;try{if(D=Me.stateNode,A)te=D.style,typeof te.setProperty=="function"?te.setProperty("display","none","important"):te.display="none";else{we=Me.stateNode;var Je=Me.memoizedProps.style,ze=Je!=null&&Je.hasOwnProperty("display")?Je.display:null;we.style.display=ze==null||typeof ze=="boolean"?"":(""+ze).trim()}}catch(yt){Rs(Me,Me.return,yt)}}}else if(u.tag===6){if(p===null){Me=u;try{Me.stateNode.nodeValue=A?"":Me.memoizedProps}catch(yt){Rs(Me,Me.return,yt)}}}else if(u.tag===18){if(p===null){Me=u;try{var He=Me.stateNode;A?vA(He,!0):vA(Me.stateNode,!1)}catch(yt){Rs(Me,Me.return,yt)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;p===u&&(p=null),u=u.return}p===u&&(p=null),u.sibling.return=u.return,u=u.sibling}x&4&&(x=l.updateQueue,x!==null&&(p=x.retryQueue,p!==null&&(x.retryQueue=null,qp(l,p))));break;case 19:Bn(u,l),In(l),x&4&&(x=l.updateQueue,x!==null&&(l.updateQueue=null,qp(l,x)));break;case 30:break;case 21:break;default:Bn(u,l),In(l)}}function In(l){var u=l.flags;if(u&2){try{for(var p,x=l.return;x!==null;){if(jC(x)){p=x;break}x=x.return}if(p==null)throw Error(n(160));switch(p.tag){case 27:var A=p.stateNode,D=Yb(l);Hp(l,D,A);break;case 5:var te=p.stateNode;p.flags&32&&(vi(te,""),p.flags&=-33);var we=Yb(l);Hp(l,we,te);break;case 3:case 4:var Me=p.stateNode.containerInfo,Ie=Yb(l);Kb(l,Ie,Me);break;default:throw Error(n(161))}}catch(Ye){Rs(l,l.return,Ye)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function RC(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var u=l;RC(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),l=l.sibling}}function bo(l,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)SC(l,u.alternate,u),u=u.sibling}function Oc(l){for(l=l.child;l!==null;){var u=l;switch(u.tag){case 0:case 11:case 14:case 15:vl(4,u,u.return),Oc(u);break;case 1:ki(u,u.return);var p=u.stateNode;typeof p.componentWillUnmount=="function"&&vC(u,u.return,p),Oc(u);break;case 27:uf(u.stateNode);case 26:case 5:ki(u,u.return),Oc(u);break;case 22:u.memoizedState===null&&Oc(u);break;case 30:Oc(u);break;default:Oc(u)}l=l.sibling}}function vo(l,u,p){for(p=p&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var x=u.alternate,A=l,D=u,te=D.flags;switch(D.tag){case 0:case 11:case 15:vo(A,D,p),ef(4,D);break;case 1:if(vo(A,D,p),x=D,A=x.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(Ie){Rs(x,x.return,Ie)}if(x=D,A=x.updateQueue,A!==null){var we=x.stateNode;try{var Me=A.shared.hiddenCallbacks;if(Me!==null)for(A.shared.hiddenCallbacks=null,A=0;A<Me.length;A++)lk(Me[A],we)}catch(Ie){Rs(x,x.return,Ie)}}p&&te&64&&bC(D),tf(D,D.return);break;case 27:_C(D);case 26:case 5:vo(A,D,p),p&&x===null&&te&4&&wC(D),tf(D,D.return);break;case 12:vo(A,D,p);break;case 31:vo(A,D,p),p&&te&4&&AC(A,D);break;case 13:vo(A,D,p),p&&te&4&&EC(A,D);break;case 22:D.memoizedState===null&&vo(A,D,p),tf(D,D.return);break;case 30:break;default:vo(A,D,p)}u=u.sibling}}function Zb(l,u){var p=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),l=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(l=u.memoizedState.cachePool.pool),l!==p&&(l!=null&&l.refCount++,p!=null&&Uh(p))}function Qb(l,u){l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&Uh(l))}function Ja(l,u,p,x){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)DC(l,u,p,x),u=u.sibling}function DC(l,u,p,x){var A=u.flags;switch(u.tag){case 0:case 11:case 15:Ja(l,u,p,x),A&2048&&ef(9,u);break;case 1:Ja(l,u,p,x);break;case 3:Ja(l,u,p,x),A&2048&&(l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&Uh(l)));break;case 12:if(A&2048){Ja(l,u,p,x),l=u.stateNode;try{var D=u.memoizedProps,te=D.id,we=D.onPostCommit;typeof we=="function"&&we(te,u.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(Me){Rs(u,u.return,Me)}}else Ja(l,u,p,x);break;case 31:Ja(l,u,p,x);break;case 13:Ja(l,u,p,x);break;case 23:break;case 22:D=u.stateNode,te=u.alternate,u.memoizedState!==null?D._visibility&2?Ja(l,u,p,x):sf(l,u):D._visibility&2?Ja(l,u,p,x):(D._visibility|=2,Jd(l,u,p,x,(u.subtreeFlags&10256)!==0||!1)),A&2048&&Zb(te,u);break;case 24:Ja(l,u,p,x),A&2048&&Qb(u.alternate,u);break;default:Ja(l,u,p,x)}}function Jd(l,u,p,x,A){for(A=A&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var D=l,te=u,we=p,Me=x,Ie=te.flags;switch(te.tag){case 0:case 11:case 15:Jd(D,te,we,Me,A),ef(8,te);break;case 23:break;case 22:var Ye=te.stateNode;te.memoizedState!==null?Ye._visibility&2?Jd(D,te,we,Me,A):sf(D,te):(Ye._visibility|=2,Jd(D,te,we,Me,A)),A&&Ie&2048&&Zb(te.alternate,te);break;case 24:Jd(D,te,we,Me,A),A&&Ie&2048&&Qb(te.alternate,te);break;default:Jd(D,te,we,Me,A)}u=u.sibling}}function sf(l,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var p=l,x=u,A=x.flags;switch(x.tag){case 22:sf(p,x),A&2048&&Zb(x.alternate,x);break;case 24:sf(p,x),A&2048&&Qb(x.alternate,x);break;default:sf(p,x)}u=u.sibling}}var rf=8192;function eu(l,u,p){if(l.subtreeFlags&rf)for(l=l.child;l!==null;)MC(l,u,p),l=l.sibling}function MC(l,u,p){switch(l.tag){case 26:eu(l,u,p),l.flags&rf&&l.memoizedState!==null&&pz(p,Qa,l.memoizedState,l.memoizedProps);break;case 5:eu(l,u,p);break;case 3:case 4:var x=Qa;Qa=ag(l.stateNode.containerInfo),eu(l,u,p),Qa=x;break;case 22:l.memoizedState===null&&(x=l.alternate,x!==null&&x.memoizedState!==null?(x=rf,rf=16777216,eu(l,u,p),rf=x):eu(l,u,p));break;default:eu(l,u,p)}}function PC(l){var u=l.alternate;if(u!==null&&(l=u.child,l!==null)){u.child=null;do u=l.sibling,l.sibling=null,l=u;while(l!==null)}}function nf(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var x=u[p];Jr=x,LC(x,l)}PC(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)OC(l),l=l.sibling}function OC(l){switch(l.tag){case 0:case 11:case 15:nf(l),l.flags&2048&&vl(9,l,l.return);break;case 3:nf(l);break;case 12:nf(l);break;case 22:var u=l.stateNode;l.memoizedState!==null&&u._visibility&2&&(l.return===null||l.return.tag!==13)?(u._visibility&=-3,Wp(l)):nf(l);break;default:nf(l)}}function Wp(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var x=u[p];Jr=x,LC(x,l)}PC(l)}for(l=l.child;l!==null;){switch(u=l,u.tag){case 0:case 11:case 15:vl(8,u,u.return),Wp(u);break;case 22:p=u.stateNode,p._visibility&2&&(p._visibility&=-3,Wp(u));break;default:Wp(u)}l=l.sibling}}function LC(l,u){for(;Jr!==null;){var p=Jr;switch(p.tag){case 0:case 11:case 15:vl(8,p,u);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var x=p.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:Uh(p.memoizedState.cache)}if(x=p.child,x!==null)x.return=p,Jr=x;else e:for(p=l;Jr!==null;){x=Jr;var A=x.sibling,D=x.return;if(kC(x),x===p){Jr=null;break e}if(A!==null){A.return=D,Jr=A;break e}Jr=D}}}var T7={getCacheForType:function(l){var u=rn(Rr),p=u.data.get(l);return p===void 0&&(p=l(),u.data.set(l,p)),p},cacheSignal:function(){return rn(Rr).controller.signal}},R7=typeof WeakMap=="function"?WeakMap:Map,As=0,Vs=null,rs=null,os=0,Ts=0,la=null,wl=!1,tu=!1,Jb=!1,wo=0,mr=0,jl=0,Lc=0,ev=0,ca=0,su=0,af=null,zn=null,tv=!1,Gp=0,FC=0,Yp=1/0,Kp=null,_l=null,Hr=0,Nl=null,ru=null,jo=0,sv=0,rv=null,BC=null,of=0,nv=null;function da(){return(As&2)!==0&&os!==0?os&-os:X.T!==null?dv():pi()}function IC(){if(ca===0)if((os&536870912)===0||ms){var l=jn;jn<<=1,(jn&3932160)===0&&(jn=262144),ca=l}else ca=536870912;return l=ia.current,l!==null&&(l.flags|=32),ca}function Un(l,u,p){(l===Vs&&(Ts===2||Ts===9)||l.cancelPendingCommit!==null)&&(nu(l,0),Sl(l,os,ca,!1)),it(l,p),((As&2)===0||l!==Vs)&&(l===Vs&&((As&2)===0&&(Lc|=p),mr===4&&Sl(l,os,ca,!1)),Ci(l))}function zC(l,u,p){if((As&6)!==0)throw Error(n(327));var x=!p&&(u&127)===0&&(u&l.expiredLanes)===0||xe(l,u),A=x?P7(l,u):iv(l,u,!0),D=x;do{if(A===0){tu&&!x&&Sl(l,u,0,!1);break}else{if(p=l.current.alternate,D&&!D7(p)){A=iv(l,u,!1),D=!1;continue}if(A===2){if(D=u,l.errorRecoveryDisabledLanes&D)var te=0;else te=l.pendingLanes&-536870913,te=te!==0?te:te&536870912?536870912:0;if(te!==0){u=te;e:{var we=l;A=af;var Me=we.current.memoizedState.isDehydrated;if(Me&&(nu(we,te).flags|=256),te=iv(we,te,!1),te!==2){if(Jb&&!Me){we.errorRecoveryDisabledLanes|=D,Lc|=D,A=4;break e}D=zn,zn=A,D!==null&&(zn===null?zn=D:zn.push.apply(zn,D))}A=te}if(D=!1,A!==2)continue}}if(A===1){nu(l,0),Sl(l,u,0,!0);break}e:{switch(x=l,D=A,D){case 0:case 1:throw Error(n(345));case 4:if((u&4194048)!==u)break;case 6:Sl(x,u,ca,!wl);break e;case 2:zn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((u&62914560)===u&&(A=Gp+300-je(),10<A)){if(Sl(x,u,ca,!wl),Ot(x,0,!0)!==0)break e;jo=u,x.timeoutHandle=xA(UC.bind(null,x,p,zn,Kp,tv,u,ca,Lc,su,wl,D,"Throttled",-0,0),A);break e}UC(x,p,zn,Kp,tv,u,ca,Lc,su,wl,D,null,-0,0)}}break}while(!0);Ci(l)}function UC(l,u,p,x,A,D,te,we,Me,Ie,Ye,Je,ze,He){if(l.timeoutHandle=-1,Je=u.subtreeFlags,Je&8192||(Je&16785408)===16785408){Je={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Pn},MC(u,D,Je);var yt=(D&62914560)===D?Gp-je():(D&4194048)===D?FC-je():0;if(yt=gz(Je,yt),yt!==null){jo=D,l.cancelPendingCommit=yt(KC.bind(null,l,u,D,p,x,A,te,we,Me,Ye,Je,null,ze,He)),Sl(l,D,te,!Ie);return}}KC(l,u,D,p,x,A,te,we,Me)}function D7(l){for(var u=l;;){var p=u.tag;if((p===0||p===11||p===15)&&u.flags&16384&&(p=u.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var x=0;x<p.length;x++){var A=p[x],D=A.getSnapshot;A=A.value;try{if(!na(D(),A))return!1}catch{return!1}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Sl(l,u,p,x){u&=~ev,u&=~Lc,l.suspendedLanes|=u,l.pingedLanes&=~u,x&&(l.warmLanes|=u),x=l.expirationTimes;for(var A=u;0<A;){var D=31-Ze(A),te=1<<D;x[D]=-1,A&=~te}p!==0&&lr(l,p,u)}function Xp(){return(As&6)===0?(lf(0),!1):!0}function av(){if(rs!==null){if(Ts===0)var l=rs.return;else l=rs,uo=Cc=null,wb(l),Yd=null,Vh=0,l=rs;for(;l!==null;)yC(l.alternate,l),l=l.return;rs=null}}function nu(l,u){var p=l.timeoutHandle;p!==-1&&(l.timeoutHandle=-1,Q7(p)),p=l.cancelPendingCommit,p!==null&&(l.cancelPendingCommit=null,p()),jo=0,av(),Vs=l,rs=p=lo(l.current,null),os=u,Ts=0,la=null,wl=!1,tu=xe(l,u),Jb=!1,su=ca=ev=Lc=jl=mr=0,zn=af=null,tv=!1,(u&8)!==0&&(u|=u&32);var x=l.entangledLanes;if(x!==0)for(l=l.entanglements,x&=u;0<x;){var A=31-Ze(x),D=1<<A;u|=l[A],x&=~D}return wo=u,xp(),p}function $C(l,u){Zt=null,X.H=Zh,u===Gd||u===Sp?(u=nk(),Ts=3):u===cb?(u=nk(),Ts=4):Ts=u===Fb?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,la=u,rs===null&&(mr=1,Ip(l,Aa(u,l.current)))}function VC(){var l=ia.current;return l===null?!0:(os&4194048)===os?Da===null:(os&62914560)===os||(os&536870912)!==0?l===Da:!1}function HC(){var l=X.H;return X.H=Zh,l===null?Zh:l}function qC(){var l=X.A;return X.A=T7,l}function Zp(){mr=4,wl||(os&4194048)!==os&&ia.current!==null||(tu=!0),(jl&134217727)===0&&(Lc&134217727)===0||Vs===null||Sl(Vs,os,ca,!1)}function iv(l,u,p){var x=As;As|=2;var A=HC(),D=qC();(Vs!==l||os!==u)&&(Kp=null,nu(l,u)),u=!1;var te=mr;e:do try{if(Ts!==0&&rs!==null){var we=rs,Me=la;switch(Ts){case 8:av(),te=6;break e;case 3:case 2:case 9:case 6:ia.current===null&&(u=!0);var Ie=Ts;if(Ts=0,la=null,au(l,we,Me,Ie),p&&tu){te=0;break e}break;default:Ie=Ts,Ts=0,la=null,au(l,we,Me,Ie)}}M7(),te=mr;break}catch(Ye){$C(l,Ye)}while(!0);return u&&l.shellSuspendCounter++,uo=Cc=null,As=x,X.H=A,X.A=D,rs===null&&(Vs=null,os=0,xp()),te}function M7(){for(;rs!==null;)WC(rs)}function P7(l,u){var p=As;As|=2;var x=HC(),A=qC();Vs!==l||os!==u?(Kp=null,Yp=je()+500,nu(l,u)):tu=xe(l,u);e:do try{if(Ts!==0&&rs!==null){u=rs;var D=la;t:switch(Ts){case 1:Ts=0,la=null,au(l,u,D,1);break;case 2:case 9:if(sk(D)){Ts=0,la=null,GC(u);break}u=function(){Ts!==2&&Ts!==9||Vs!==l||(Ts=7),Ci(l)},D.then(u,u);break e;case 3:Ts=7;break e;case 4:Ts=5;break e;case 7:sk(D)?(Ts=0,la=null,GC(u)):(Ts=0,la=null,au(l,u,D,7));break;case 5:var te=null;switch(rs.tag){case 26:te=rs.memoizedState;case 5:case 27:var we=rs;if(te?DA(te):we.stateNode.complete){Ts=0,la=null;var Me=we.sibling;if(Me!==null)rs=Me;else{var Ie=we.return;Ie!==null?(rs=Ie,Qp(Ie)):rs=null}break t}}Ts=0,la=null,au(l,u,D,5);break;case 6:Ts=0,la=null,au(l,u,D,6);break;case 8:av(),mr=6;break e;default:throw Error(n(462))}}O7();break}catch(Ye){$C(l,Ye)}while(!0);return uo=Cc=null,X.H=x,X.A=A,As=p,rs!==null?0:(Vs=null,os=0,xp(),mr)}function O7(){for(;rs!==null&&!ue();)WC(rs)}function WC(l){var u=gC(l.alternate,l,wo);l.memoizedProps=l.pendingProps,u===null?Qp(l):rs=u}function GC(l){var u=l,p=u.alternate;switch(u.tag){case 15:case 0:u=dC(p,u,u.pendingProps,u.type,void 0,os);break;case 11:u=dC(p,u,u.pendingProps,u.type.render,u.ref,os);break;case 5:wb(u);default:yC(p,u),u=rs=qS(u,wo),u=gC(p,u,wo)}l.memoizedProps=l.pendingProps,u===null?Qp(l):rs=u}function au(l,u,p,x){uo=Cc=null,wb(u),Yd=null,Vh=0;var A=u.return;try{if(_7(l,A,u,p,os)){mr=1,Ip(l,Aa(p,l.current)),rs=null;return}}catch(D){if(A!==null)throw rs=A,D;mr=1,Ip(l,Aa(p,l.current)),rs=null;return}u.flags&32768?(ms||x===1?l=!0:tu||(os&536870912)!==0?l=!1:(wl=l=!0,(x===2||x===9||x===3||x===6)&&(x=ia.current,x!==null&&x.tag===13&&(x.flags|=16384))),YC(u,l)):Qp(u)}function Qp(l){var u=l;do{if((u.flags&32768)!==0){YC(u,wl);return}l=u.return;var p=k7(u.alternate,u,wo);if(p!==null){rs=p;return}if(u=u.sibling,u!==null){rs=u;return}rs=u=l}while(u!==null);mr===0&&(mr=5)}function YC(l,u){do{var p=C7(l.alternate,l);if(p!==null){p.flags&=32767,rs=p;return}if(p=l.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!u&&(l=l.sibling,l!==null)){rs=l;return}rs=l=p}while(l!==null);mr=6,rs=null}function KC(l,u,p,x,A,D,te,we,Me){l.cancelPendingCommit=null;do Jp();while(Hr!==0);if((As&6)!==0)throw Error(n(327));if(u!==null){if(u===l.current)throw Error(n(177));if(D=u.lanes|u.childLanes,D|=Yy,bs(l,p,D,te,we,Me),l===Vs&&(rs=Vs=null,os=0),ru=u,Nl=l,jo=p,sv=D,rv=A,BC=x,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,I7(lt,function(){return eA(),null})):(l.callbackNode=null,l.callbackPriority=0),x=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||x){x=X.T,X.T=null,A=M.p,M.p=2,te=As,As|=4;try{A7(l,u,p)}finally{As=te,M.p=A,X.T=x}}Hr=1,XC(),ZC(),QC()}}function XC(){if(Hr===1){Hr=0;var l=Nl,u=ru,p=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||p){p=X.T,X.T=null;var x=M.p;M.p=2;var A=As;As|=4;try{TC(u,l);var D=yv,te=LS(l.containerInfo),we=D.focusedElem,Me=D.selectionRange;if(te!==we&&we&&we.ownerDocument&&OS(we.ownerDocument.documentElement,we)){if(Me!==null&&Vy(we)){var Ie=Me.start,Ye=Me.end;if(Ye===void 0&&(Ye=Ie),"selectionStart"in we)we.selectionStart=Ie,we.selectionEnd=Math.min(Ye,we.value.length);else{var Je=we.ownerDocument||document,ze=Je&&Je.defaultView||window;if(ze.getSelection){var He=ze.getSelection(),yt=we.textContent.length,Rt=Math.min(Me.start,yt),Bs=Me.end===void 0?Rt:Math.min(Me.end,yt);!He.extend&&Rt>Bs&&(te=Bs,Bs=Rt,Rt=te);var Le=PS(we,Rt),Pe=PS(we,Bs);if(Le&&Pe&&(He.rangeCount!==1||He.anchorNode!==Le.node||He.anchorOffset!==Le.offset||He.focusNode!==Pe.node||He.focusOffset!==Pe.offset)){var Fe=Je.createRange();Fe.setStart(Le.node,Le.offset),He.removeAllRanges(),Rt>Bs?(He.addRange(Fe),He.extend(Pe.node,Pe.offset)):(Fe.setEnd(Pe.node,Pe.offset),He.addRange(Fe))}}}}for(Je=[],He=we;He=He.parentNode;)He.nodeType===1&&Je.push({element:He,left:He.scrollLeft,top:He.scrollTop});for(typeof we.focus=="function"&&we.focus(),we=0;we<Je.length;we++){var Qe=Je[we];Qe.element.scrollLeft=Qe.left,Qe.element.scrollTop=Qe.top}}ug=!!xv,yv=xv=null}finally{As=A,M.p=x,X.T=p}}l.current=u,Hr=2}}function ZC(){if(Hr===2){Hr=0;var l=Nl,u=ru,p=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||p){p=X.T,X.T=null;var x=M.p;M.p=2;var A=As;As|=4;try{SC(l,u.alternate,u)}finally{As=A,M.p=x,X.T=p}}Hr=3}}function QC(){if(Hr===4||Hr===3){Hr=0,De();var l=Nl,u=ru,p=jo,x=BC;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Hr=5:(Hr=0,ru=Nl=null,JC(l,l.pendingLanes));var A=l.pendingLanes;if(A===0&&(_l=null),_n(p),u=u.stateNode,us&&typeof us.onCommitFiberRoot=="function")try{us.onCommitFiberRoot(Ct,u,void 0,(u.current.flags&128)===128)}catch{}if(x!==null){u=X.T,A=M.p,M.p=2,X.T=null;try{for(var D=l.onRecoverableError,te=0;te<x.length;te++){var we=x[te];D(we.value,{componentStack:we.stack})}}finally{X.T=u,M.p=A}}(jo&3)!==0&&Jp(),Ci(l),A=l.pendingLanes,(p&261930)!==0&&(A&42)!==0?l===nv?of++:(of=0,nv=l):of=0,lf(0)}}function JC(l,u){(l.pooledCacheLanes&=u)===0&&(u=l.pooledCache,u!=null&&(l.pooledCache=null,Uh(u)))}function Jp(){return XC(),ZC(),QC(),eA()}function eA(){if(Hr!==5)return!1;var l=Nl,u=sv;sv=0;var p=_n(jo),x=X.T,A=M.p;try{M.p=32>p?32:p,X.T=null,p=rv,rv=null;var D=Nl,te=jo;if(Hr=0,ru=Nl=null,jo=0,(As&6)!==0)throw Error(n(331));var we=As;if(As|=4,OC(D.current),DC(D,D.current,te,p),As=we,lf(0,!1),us&&typeof us.onPostCommitFiberRoot=="function")try{us.onPostCommitFiberRoot(Ct,D)}catch{}return!0}finally{M.p=A,X.T=x,JC(l,u)}}function tA(l,u,p){u=Aa(p,u),u=Lb(l.stateNode,u,2),l=xl(l,u,2),l!==null&&(it(l,2),Ci(l))}function Rs(l,u,p){if(l.tag===3)tA(l,l,p);else for(;u!==null;){if(u.tag===3){tA(u,l,p);break}else if(u.tag===1){var x=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(_l===null||!_l.has(x))){l=Aa(p,l),p=sC(2),x=xl(u,p,2),x!==null&&(rC(p,x,u,l),it(x,2),Ci(x));break}}u=u.return}}function ov(l,u,p){var x=l.pingCache;if(x===null){x=l.pingCache=new R7;var A=new Set;x.set(u,A)}else A=x.get(u),A===void 0&&(A=new Set,x.set(u,A));A.has(p)||(Jb=!0,A.add(p),l=L7.bind(null,l,u,p),u.then(l,l))}function L7(l,u,p){var x=l.pingCache;x!==null&&x.delete(u),l.pingedLanes|=l.suspendedLanes&p,l.warmLanes&=~p,Vs===l&&(os&p)===p&&(mr===4||mr===3&&(os&62914560)===os&&300>je()-Gp?(As&2)===0&&nu(l,0):ev|=p,su===os&&(su=0)),Ci(l)}function sA(l,u){u===0&&(u=Qs()),l=Nc(l,u),l!==null&&(it(l,u),Ci(l))}function F7(l){var u=l.memoizedState,p=0;u!==null&&(p=u.retryLane),sA(l,p)}function B7(l,u){var p=0;switch(l.tag){case 31:case 13:var x=l.stateNode,A=l.memoizedState;A!==null&&(p=A.retryLane);break;case 19:x=l.stateNode;break;case 22:x=l.stateNode._retryCache;break;default:throw Error(n(314))}x!==null&&x.delete(u),sA(l,p)}function I7(l,u){return ye(l,u)}var eg=null,iu=null,lv=!1,tg=!1,cv=!1,kl=0;function Ci(l){l!==iu&&l.next===null&&(iu===null?eg=iu=l:iu=iu.next=l),tg=!0,lv||(lv=!0,U7())}function lf(l,u){if(!cv&&tg){cv=!0;do for(var p=!1,x=eg;x!==null;){if(l!==0){var A=x.pendingLanes;if(A===0)var D=0;else{var te=x.suspendedLanes,we=x.pingedLanes;D=(1<<31-Ze(42|l)+1)-1,D&=A&~(te&~we),D=D&201326741?D&201326741|1:D?D|2:0}D!==0&&(p=!0,iA(x,D))}else D=os,D=Ot(x,x===Vs?D:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(D&3)===0||xe(x,D)||(p=!0,iA(x,D));x=x.next}while(p);cv=!1}}function z7(){rA()}function rA(){tg=lv=!1;var l=0;kl!==0&&Z7()&&(l=kl);for(var u=je(),p=null,x=eg;x!==null;){var A=x.next,D=nA(x,u);D===0?(x.next=null,p===null?eg=A:p.next=A,A===null&&(iu=p)):(p=x,(l!==0||(D&3)!==0)&&(tg=!0)),x=A}Hr!==0&&Hr!==5||lf(l),kl!==0&&(kl=0)}function nA(l,u){for(var p=l.suspendedLanes,x=l.pingedLanes,A=l.expirationTimes,D=l.pendingLanes&-62914561;0<D;){var te=31-Ze(D),we=1<<te,Me=A[te];Me===-1?((we&p)===0||(we&x)!==0)&&(A[te]=At(we,u)):Me<=u&&(l.expiredLanes|=we),D&=~we}if(u=Vs,p=os,p=Ot(l,l===u?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),x=l.callbackNode,p===0||l===u&&(Ts===2||Ts===9)||l.cancelPendingCommit!==null)return x!==null&&x!==null&&ce(x),l.callbackNode=null,l.callbackPriority=0;if((p&3)===0||xe(l,p)){if(u=p&-p,u===l.callbackPriority)return u;switch(x!==null&&ce(x),_n(p)){case 2:case 8:p=et;break;case 32:p=lt;break;case 268435456:p=_t;break;default:p=lt}return x=aA.bind(null,l),p=ye(p,x),l.callbackPriority=u,l.callbackNode=p,u}return x!==null&&x!==null&&ce(x),l.callbackPriority=2,l.callbackNode=null,2}function aA(l,u){if(Hr!==0&&Hr!==5)return l.callbackNode=null,l.callbackPriority=0,null;var p=l.callbackNode;if(Jp()&&l.callbackNode!==p)return null;var x=os;return x=Ot(l,l===Vs?x:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),x===0?null:(zC(l,x,u),nA(l,je()),l.callbackNode!=null&&l.callbackNode===p?aA.bind(null,l):null)}function iA(l,u){if(Jp())return null;zC(l,u,!0)}function U7(){J7(function(){(As&6)!==0?ye(Be,z7):rA()})}function dv(){if(kl===0){var l=qd;l===0&&(l=Cs,Cs<<=1,(Cs&261888)===0&&(Cs=256)),kl=l}return kl}function oA(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:rl(""+l)}function lA(l,u){var p=u.ownerDocument.createElement("input");return p.name=u.name,p.value=u.value,l.id&&p.setAttribute("form",l.id),u.parentNode.insertBefore(p,u),l=new FormData(l),p.parentNode.removeChild(p),l}function $7(l,u,p,x,A){if(u==="submit"&&p&&p.stateNode===A){var D=oA((A[ur]||null).action),te=x.submitter;te&&(u=(u=te[ur]||null)?oA(u.formAction):te.getAttribute("formAction"),u!==null&&(D=u,te=null));var we=new ae("action","action",null,x,A);l.push({event:we,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(kl!==0){var Me=te?lA(A,te):new FormData(A);Tb(p,{pending:!0,data:Me,method:A.method,action:D},null,Me)}}else typeof D=="function"&&(we.preventDefault(),Me=te?lA(A,te):new FormData(A),Tb(p,{pending:!0,data:Me,method:A.method,action:D},D,Me))},currentTarget:A}]})}}for(var uv=0;uv<Gy.length;uv++){var hv=Gy[uv],V7=hv.toLowerCase(),H7=hv[0].toUpperCase()+hv.slice(1);Za(V7,"on"+H7)}Za(IS,"onAnimationEnd"),Za(zS,"onAnimationIteration"),Za(US,"onAnimationStart"),Za("dblclick","onDoubleClick"),Za("focusin","onFocus"),Za("focusout","onBlur"),Za(i7,"onTransitionRun"),Za(o7,"onTransitionStart"),Za(l7,"onTransitionCancel"),Za($S,"onTransitionEnd"),Sn("onMouseEnter",["mouseout","mouseover"]),Sn("onMouseLeave",["mouseout","mouseover"]),Sn("onPointerEnter",["pointerout","pointerover"]),Sn("onPointerLeave",["pointerout","pointerover"]),ja("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ja("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ja("onBeforeInput",["compositionend","keypress","textInput","paste"]),ja("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ja("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ja("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var cf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),q7=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(cf));function cA(l,u){u=(u&4)!==0;for(var p=0;p<l.length;p++){var x=l[p],A=x.event;x=x.listeners;e:{var D=void 0;if(u)for(var te=x.length-1;0<=te;te--){var we=x[te],Me=we.instance,Ie=we.currentTarget;if(we=we.listener,Me!==D&&A.isPropagationStopped())break e;D=we,A.currentTarget=Ie;try{D(A)}catch(Ye){gp(Ye)}A.currentTarget=null,D=Me}else for(te=0;te<x.length;te++){if(we=x[te],Me=we.instance,Ie=we.currentTarget,we=we.listener,Me!==D&&A.isPropagationStopped())break e;D=we,A.currentTarget=Ie;try{D(A)}catch(Ye){gp(Ye)}A.currentTarget=null,D=Me}}}}function ns(l,u){var p=u[eo];p===void 0&&(p=u[eo]=new Set);var x=l+"__bubble";p.has(x)||(dA(u,l,2,!1),p.add(x))}function fv(l,u,p){var x=0;u&&(x|=4),dA(p,l,x,u)}var sg="_reactListening"+Math.random().toString(36).slice(2);function mv(l){if(!l[sg]){l[sg]=!0,Jo.forEach(function(p){p!=="selectionchange"&&(q7.has(p)||fv(p,!1,l),fv(p,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[sg]||(u[sg]=!0,fv("selectionchange",!1,u))}}function dA(l,u,p,x){switch(IA(u)){case 2:var A=bz;break;case 8:A=vz;break;default:A=Ev}p=A.bind(null,u,p,l),A=void 0,!bc||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(A=!0),x?A!==void 0?l.addEventListener(u,p,{capture:!0,passive:A}):l.addEventListener(u,p,!0):A!==void 0?l.addEventListener(u,p,{passive:A}):l.addEventListener(u,p,!1)}function pv(l,u,p,x,A){var D=x;if((u&1)===0&&(u&2)===0&&x!==null)e:for(;;){if(x===null)return;var te=x.tag;if(te===3||te===4){var we=x.stateNode.containerInfo;if(we===A)break;if(te===4)for(te=x.return;te!==null;){var Me=te.tag;if((Me===3||Me===4)&&te.stateNode.containerInfo===A)return;te=te.return}for(;we!==null;){if(te=gi(we),te===null)return;if(Me=te.tag,Me===5||Me===6||Me===26||Me===27){x=D=te;continue e}we=we.parentNode}}x=x.return}ao(function(){var Ie=D,Ye=nl(p),Je=[];e:{var ze=VS.get(l);if(ze!==void 0){var He=ae,yt=l;switch(l){case"keypress":if(Ln(p)===0)break e;case"keydown":case"keyup":He=Vr;break;case"focusin":yt="focus",He=kh;break;case"focusout":yt="blur",He=kh;break;case"beforeblur":case"afterblur":He=kh;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":He=ka;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":He=ll;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":He=B;break;case IS:case zS:case US:He=Dy;break;case $S:He=Ne;break;case"scroll":case"scrollend":He=xt;break;case"wheel":He=Xe;break;case"copy":case"cut":case"paste":He=Py;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":He=dp;break;case"toggle":case"beforetoggle":He=wt}var Rt=(u&4)!==0,Bs=!Rt&&(l==="scroll"||l==="scrollend"),Le=Rt?ze!==null?ze+"Capture":null:ze;Rt=[];for(var Pe=Ie,Fe;Pe!==null;){var Qe=Pe;if(Fe=Qe.stateNode,Qe=Qe.tag,Qe!==5&&Qe!==26&&Qe!==27||Fe===null||Le===null||(Qe=_i(Pe,Le),Qe!=null&&Rt.push(df(Pe,Qe,Fe))),Bs)break;Pe=Pe.return}0<Rt.length&&(ze=new He(ze,yt,null,p,Ye),Je.push({event:ze,listeners:Rt}))}}if((u&7)===0){e:{if(ze=l==="mouseover"||l==="pointerover",He=l==="mouseout"||l==="pointerout",ze&&p!==yc&&(yt=p.relatedTarget||p.fromElement)&&(gi(yt)||yt[Ar]))break e;if((He||ze)&&(ze=Ye.window===Ye?Ye:(ze=Ye.ownerDocument)?ze.defaultView||ze.parentWindow:window,He?(yt=p.relatedTarget||p.toElement,He=Ie,yt=yt?gi(yt):null,yt!==null&&(Bs=i(yt),Rt=yt.tag,yt!==Bs||Rt!==5&&Rt!==27&&Rt!==6)&&(yt=null)):(He=null,yt=Ie),He!==yt)){if(Rt=ka,Qe="onMouseLeave",Le="onMouseEnter",Pe="mouse",(l==="pointerout"||l==="pointerover")&&(Rt=dp,Qe="onPointerLeave",Le="onPointerEnter",Pe="pointer"),Bs=He==null?ze:xi(He),Fe=yt==null?ze:xi(yt),ze=new Rt(Qe,Pe+"leave",He,p,Ye),ze.target=Bs,ze.relatedTarget=Fe,Qe=null,gi(Ye)===Ie&&(Rt=new Rt(Le,Pe+"enter",yt,p,Ye),Rt.target=Fe,Rt.relatedTarget=Bs,Qe=Rt),Bs=Qe,He&&yt)t:{for(Rt=W7,Le=He,Pe=yt,Fe=0,Qe=Le;Qe;Qe=Rt(Qe))Fe++;Qe=0;for(var Et=Pe;Et;Et=Rt(Et))Qe++;for(;0<Fe-Qe;)Le=Rt(Le),Fe--;for(;0<Qe-Fe;)Pe=Rt(Pe),Qe--;for(;Fe--;){if(Le===Pe||Pe!==null&&Le===Pe.alternate){Rt=Le;break t}Le=Rt(Le),Pe=Rt(Pe)}Rt=null}else Rt=null;He!==null&&uA(Je,ze,He,Rt,!1),yt!==null&&Bs!==null&&uA(Je,Bs,yt,Rt,!0)}}e:{if(ze=Ie?xi(Ie):window,He=ze.nodeName&&ze.nodeName.toLowerCase(),He==="select"||He==="input"&&ze.type==="file")var js=mp;else if(Rh(ze))if(pp)js=r7;else{js=t7;var Nt=e7}else He=ze.nodeName,!He||He.toLowerCase()!=="input"||ze.type!=="checkbox"&&ze.type!=="radio"?Ie&&xc(Ie.elementType)&&(js=mp):js=s7;if(js&&(js=js(l,Ie))){Dh(Je,js,p,Ye);break e}Nt&&Nt(l,ze,Ie),l==="focusout"&&Ie&&ze.type==="number"&&Ie.memoizedProps.value!=null&&gc(ze,"number",ze.value)}switch(Nt=Ie?xi(Ie):window,l){case"focusin":(Rh(Nt)||Nt.contentEditable==="true")&&(Fd=Nt,Hy=Ie,Bh=null);break;case"focusout":Bh=Hy=Fd=null;break;case"mousedown":qy=!0;break;case"contextmenu":case"mouseup":case"dragend":qy=!1,FS(Je,p,Ye);break;case"selectionchange":if(a7)break;case"keydown":case"keyup":FS(Je,p,Ye)}var Jt;if(is)e:{switch(l){case"compositionstart":var ls="onCompositionStart";break e;case"compositionend":ls="onCompositionEnd";break e;case"compositionupdate":ls="onCompositionUpdate";break e}ls=void 0}else cl?hp(l,p)&&(ls="onCompositionEnd"):l==="keydown"&&p.keyCode===229&&(ls="onCompositionStart");ls&&(vc&&p.locale!=="ko"&&(cl||ls!=="onCompositionStart"?ls==="onCompositionEnd"&&cl&&(Jt=Lt()):(On=Ye,al="value"in On?On.value:On.textContent,cl=!0)),Nt=rg(Ie,ls),0<Nt.length&&(ls=new cp(ls,l,null,p,Ye),Je.push({event:ls,listeners:Nt}),Jt?ls.data=Jt:(Jt=Th(p),Jt!==null&&(ls.data=Jt)))),(Jt=hr?fp(l,p):Uy(l,p))&&(ls=rg(Ie,"onBeforeInput"),0<ls.length&&(Nt=new cp("onBeforeInput","beforeinput",null,p,Ye),Je.push({event:Nt,listeners:ls}),Nt.data=Jt)),$7(Je,l,Ie,p,Ye)}cA(Je,u)})}function df(l,u,p){return{instance:l,listener:u,currentTarget:p}}function rg(l,u){for(var p=u+"Capture",x=[];l!==null;){var A=l,D=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||D===null||(A=_i(l,p),A!=null&&x.unshift(df(l,A,D)),A=_i(l,u),A!=null&&x.push(df(l,A,D))),l.tag===3)return x;l=l.return}return[]}function W7(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function uA(l,u,p,x,A){for(var D=u._reactName,te=[];p!==null&&p!==x;){var we=p,Me=we.alternate,Ie=we.stateNode;if(we=we.tag,Me!==null&&Me===x)break;we!==5&&we!==26&&we!==27||Ie===null||(Me=Ie,A?(Ie=_i(p,D),Ie!=null&&te.unshift(df(p,Ie,Me))):A||(Ie=_i(p,D),Ie!=null&&te.push(df(p,Ie,Me)))),p=p.return}te.length!==0&&l.push({event:u,listeners:te})}var G7=/\r\n?/g,Y7=/\u0000|\uFFFD/g;function hA(l){return(typeof l=="string"?l:""+l).replace(G7,`
`).replace(Y7,"")}function fA(l,u){return u=hA(u),hA(l)===u}function Fs(l,u,p,x,A,D){switch(p){case"children":typeof x=="string"?u==="body"||u==="textarea"&&x===""||vi(l,x):(typeof x=="number"||typeof x=="bigint")&&u!=="body"&&vi(l,""+x);break;case"className":ro(l,"class",x);break;case"tabIndex":ro(l,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":ro(l,p,x);break;case"style":_a(l,x,D);break;case"data":if(u!=="object"){ro(l,"data",x);break}case"src":case"href":if(x===""&&(u!=="a"||p!=="href")){l.removeAttribute(p);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){l.removeAttribute(p);break}x=rl(""+x),l.setAttribute(p,x);break;case"action":case"formAction":if(typeof x=="function"){l.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof D=="function"&&(p==="formAction"?(u!=="input"&&Fs(l,u,"name",A.name,A,null),Fs(l,u,"formEncType",A.formEncType,A,null),Fs(l,u,"formMethod",A.formMethod,A,null),Fs(l,u,"formTarget",A.formTarget,A,null)):(Fs(l,u,"encType",A.encType,A,null),Fs(l,u,"method",A.method,A,null),Fs(l,u,"target",A.target,A,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){l.removeAttribute(p);break}x=rl(""+x),l.setAttribute(p,x);break;case"onClick":x!=null&&(l.onclick=Pn);break;case"onScroll":x!=null&&ns("scroll",l);break;case"onScrollEnd":x!=null&&ns("scrollend",l);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(n(61));if(p=x.__html,p!=null){if(A.children!=null)throw Error(n(60));l.innerHTML=p}}break;case"multiple":l.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":l.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){l.removeAttribute("xlink:href");break}p=rl(""+x),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?l.setAttribute(p,""+x):l.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?l.setAttribute(p,""):l.removeAttribute(p);break;case"capture":case"download":x===!0?l.setAttribute(p,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?l.setAttribute(p,x):l.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?l.setAttribute(p,x):l.removeAttribute(p);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?l.removeAttribute(p):l.setAttribute(p,x);break;case"popover":ns("beforetoggle",l),ns("toggle",l),so(l,"popover",x);break;case"xlinkActuate":Mn(l,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":Mn(l,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":Mn(l,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":Mn(l,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":Mn(l,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":Mn(l,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":Mn(l,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":Mn(l,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":Mn(l,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":so(l,"is",x);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=Nh.get(p)||p,so(l,p,x))}}function gv(l,u,p,x,A,D){switch(p){case"style":_a(l,x,D);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(n(61));if(p=x.__html,p!=null){if(A.children!=null)throw Error(n(60));l.innerHTML=p}}break;case"children":typeof x=="string"?vi(l,x):(typeof x=="number"||typeof x=="bigint")&&vi(l,""+x);break;case"onScroll":x!=null&&ns("scroll",l);break;case"onScrollEnd":x!=null&&ns("scrollend",l);break;case"onClick":x!=null&&(l.onclick=Pn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!fc.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(A=p.endsWith("Capture"),u=p.slice(2,A?p.length-7:void 0),D=l[ur]||null,D=D!=null?D[p]:null,typeof D=="function"&&l.removeEventListener(u,D,A),typeof x=="function")){typeof D!="function"&&D!==null&&(p in l?l[p]=null:l.hasAttribute(p)&&l.removeAttribute(p)),l.addEventListener(u,x,A);break e}p in l?l[p]=x:x===!0?l.setAttribute(p,""):so(l,p,x)}}}function an(l,u,p){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":ns("error",l),ns("load",l);var x=!1,A=!1,D;for(D in p)if(p.hasOwnProperty(D)){var te=p[D];if(te!=null)switch(D){case"src":x=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,u));default:Fs(l,u,D,te,p,null)}}A&&Fs(l,u,"srcSet",p.srcSet,p,null),x&&Fs(l,u,"src",p.src,p,null);return;case"input":ns("invalid",l);var we=D=te=A=null,Me=null,Ie=null;for(x in p)if(p.hasOwnProperty(x)){var Ye=p[x];if(Ye!=null)switch(x){case"name":A=Ye;break;case"type":te=Ye;break;case"checked":Me=Ye;break;case"defaultChecked":Ie=Ye;break;case"value":D=Ye;break;case"defaultValue":we=Ye;break;case"children":case"dangerouslySetInnerHTML":if(Ye!=null)throw Error(n(137,u));break;default:Fs(l,u,x,Ye,p,null)}}pc(l,D,we,Me,Ie,te,A,!1);return;case"select":ns("invalid",l),x=te=D=null;for(A in p)if(p.hasOwnProperty(A)&&(we=p[A],we!=null))switch(A){case"value":D=we;break;case"defaultValue":te=we;break;case"multiple":x=we;default:Fs(l,u,A,we,p,null)}u=D,p=te,l.multiple=!!x,u!=null?bi(l,!!x,u,!1):p!=null&&bi(l,!!x,p,!0);return;case"textarea":ns("invalid",l),D=A=x=null;for(te in p)if(p.hasOwnProperty(te)&&(we=p[te],we!=null))switch(te){case"value":x=we;break;case"defaultValue":A=we;break;case"children":D=we;break;case"dangerouslySetInnerHTML":if(we!=null)throw Error(n(91));break;default:Fs(l,u,te,we,p,null)}Pd(l,x,A,D);return;case"option":for(Me in p)if(p.hasOwnProperty(Me)&&(x=p[Me],x!=null))switch(Me){case"selected":l.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:Fs(l,u,Me,x,p,null)}return;case"dialog":ns("beforetoggle",l),ns("toggle",l),ns("cancel",l),ns("close",l);break;case"iframe":case"object":ns("load",l);break;case"video":case"audio":for(x=0;x<cf.length;x++)ns(cf[x],l);break;case"image":ns("error",l),ns("load",l);break;case"details":ns("toggle",l);break;case"embed":case"source":case"link":ns("error",l),ns("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ie in p)if(p.hasOwnProperty(Ie)&&(x=p[Ie],x!=null))switch(Ie){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,u));default:Fs(l,u,Ie,x,p,null)}return;default:if(xc(u)){for(Ye in p)p.hasOwnProperty(Ye)&&(x=p[Ye],x!==void 0&&gv(l,u,Ye,x,p,void 0));return}}for(we in p)p.hasOwnProperty(we)&&(x=p[we],x!=null&&Fs(l,u,we,x,p,null))}function K7(l,u,p,x){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,D=null,te=null,we=null,Me=null,Ie=null,Ye=null;for(He in p){var Je=p[He];if(p.hasOwnProperty(He)&&Je!=null)switch(He){case"checked":break;case"value":break;case"defaultValue":Me=Je;default:x.hasOwnProperty(He)||Fs(l,u,He,null,x,Je)}}for(var ze in x){var He=x[ze];if(Je=p[ze],x.hasOwnProperty(ze)&&(He!=null||Je!=null))switch(ze){case"type":D=He;break;case"name":A=He;break;case"checked":Ie=He;break;case"defaultChecked":Ye=He;break;case"value":te=He;break;case"defaultValue":we=He;break;case"children":case"dangerouslySetInnerHTML":if(He!=null)throw Error(n(137,u));break;default:He!==Je&&Fs(l,u,ze,He,x,Je)}}Ya(l,te,we,Me,Ie,Ye,D,A);return;case"select":He=te=we=ze=null;for(D in p)if(Me=p[D],p.hasOwnProperty(D)&&Me!=null)switch(D){case"value":break;case"multiple":He=Me;default:x.hasOwnProperty(D)||Fs(l,u,D,null,x,Me)}for(A in x)if(D=x[A],Me=p[A],x.hasOwnProperty(A)&&(D!=null||Me!=null))switch(A){case"value":ze=D;break;case"defaultValue":we=D;break;case"multiple":te=D;default:D!==Me&&Fs(l,u,A,D,x,Me)}u=we,p=te,x=He,ze!=null?bi(l,!!p,ze,!1):!!x!=!!p&&(u!=null?bi(l,!!p,u,!0):bi(l,!!p,p?[]:"",!1));return;case"textarea":He=ze=null;for(we in p)if(A=p[we],p.hasOwnProperty(we)&&A!=null&&!x.hasOwnProperty(we))switch(we){case"value":break;case"children":break;default:Fs(l,u,we,null,x,A)}for(te in x)if(A=x[te],D=p[te],x.hasOwnProperty(te)&&(A!=null||D!=null))switch(te){case"value":ze=A;break;case"defaultValue":He=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(n(91));break;default:A!==D&&Fs(l,u,te,A,x,D)}Md(l,ze,He);return;case"option":for(var yt in p)if(ze=p[yt],p.hasOwnProperty(yt)&&ze!=null&&!x.hasOwnProperty(yt))switch(yt){case"selected":l.selected=!1;break;default:Fs(l,u,yt,null,x,ze)}for(Me in x)if(ze=x[Me],He=p[Me],x.hasOwnProperty(Me)&&ze!==He&&(ze!=null||He!=null))switch(Me){case"selected":l.selected=ze&&typeof ze!="function"&&typeof ze!="symbol";break;default:Fs(l,u,Me,ze,x,He)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Rt in p)ze=p[Rt],p.hasOwnProperty(Rt)&&ze!=null&&!x.hasOwnProperty(Rt)&&Fs(l,u,Rt,null,x,ze);for(Ie in x)if(ze=x[Ie],He=p[Ie],x.hasOwnProperty(Ie)&&ze!==He&&(ze!=null||He!=null))switch(Ie){case"children":case"dangerouslySetInnerHTML":if(ze!=null)throw Error(n(137,u));break;default:Fs(l,u,Ie,ze,x,He)}return;default:if(xc(u)){for(var Bs in p)ze=p[Bs],p.hasOwnProperty(Bs)&&ze!==void 0&&!x.hasOwnProperty(Bs)&&gv(l,u,Bs,void 0,x,ze);for(Ye in x)ze=x[Ye],He=p[Ye],!x.hasOwnProperty(Ye)||ze===He||ze===void 0&&He===void 0||gv(l,u,Ye,ze,x,He);return}}for(var Le in p)ze=p[Le],p.hasOwnProperty(Le)&&ze!=null&&!x.hasOwnProperty(Le)&&Fs(l,u,Le,null,x,ze);for(Je in x)ze=x[Je],He=p[Je],!x.hasOwnProperty(Je)||ze===He||ze==null&&He==null||Fs(l,u,Je,ze,x,He)}function mA(l){switch(l){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function X7(){if(typeof performance.getEntriesByType=="function"){for(var l=0,u=0,p=performance.getEntriesByType("resource"),x=0;x<p.length;x++){var A=p[x],D=A.transferSize,te=A.initiatorType,we=A.duration;if(D&&we&&mA(te)){for(te=0,we=A.responseEnd,x+=1;x<p.length;x++){var Me=p[x],Ie=Me.startTime;if(Ie>we)break;var Ye=Me.transferSize,Je=Me.initiatorType;Ye&&mA(Je)&&(Me=Me.responseEnd,te+=Ye*(Me<we?1:(we-Ie)/(Me-Ie)))}if(--x,u+=8*(D+te)/(A.duration/1e3),l++,10<l)break}}if(0<l)return u/l/1e6}return navigator.connection&&(l=navigator.connection.downlink,typeof l=="number")?l:5}var xv=null,yv=null;function ng(l){return l.nodeType===9?l:l.ownerDocument}function pA(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function gA(l,u){if(l===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&u==="foreignObject"?0:l}function bv(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var vv=null;function Z7(){var l=window.event;return l&&l.type==="popstate"?l===vv?!1:(vv=l,!0):(vv=null,!1)}var xA=typeof setTimeout=="function"?setTimeout:void 0,Q7=typeof clearTimeout=="function"?clearTimeout:void 0,yA=typeof Promise=="function"?Promise:void 0,J7=typeof queueMicrotask=="function"?queueMicrotask:typeof yA<"u"?function(l){return yA.resolve(null).then(l).catch(ez)}:xA;function ez(l){setTimeout(function(){throw l})}function Cl(l){return l==="head"}function bA(l,u){var p=u,x=0;do{var A=p.nextSibling;if(l.removeChild(p),A&&A.nodeType===8)if(p=A.data,p==="/$"||p==="/&"){if(x===0){l.removeChild(A),du(u);return}x--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")x++;else if(p==="html")uf(l.ownerDocument.documentElement);else if(p==="head"){p=l.ownerDocument.head,uf(p);for(var D=p.firstChild;D;){var te=D.nextSibling,we=D.nodeName;D[Wa]||we==="SCRIPT"||we==="STYLE"||we==="LINK"&&D.rel.toLowerCase()==="stylesheet"||p.removeChild(D),D=te}}else p==="body"&&uf(l.ownerDocument.body);p=A}while(p);du(u)}function vA(l,u){var p=l;l=0;do{var x=p.nextSibling;if(p.nodeType===1?u?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(u?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),x&&x.nodeType===8)if(p=x.data,p==="/$"){if(l===0)break;l--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||l++;p=x}while(p)}function wv(l){var u=l.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var p=u;switch(u=u.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":wv(p),hc(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}l.removeChild(p)}}function tz(l,u,p,x){for(;l.nodeType===1;){var A=p;if(l.nodeName.toLowerCase()!==u.toLowerCase()){if(!x&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(x){if(!l[Wa])switch(u){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(D=l.getAttribute("rel"),D==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(D!==A.rel||l.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||l.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||l.getAttribute("title")!==(A.title==null?null:A.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(D=l.getAttribute("src"),(D!==(A.src==null?null:A.src)||l.getAttribute("type")!==(A.type==null?null:A.type)||l.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&D&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(u==="input"&&l.type==="hidden"){var D=A.name==null?null:""+A.name;if(A.type==="hidden"&&l.getAttribute("name")===D)return l}else return l;if(l=Ma(l.nextSibling),l===null)break}return null}function sz(l,u,p){if(u==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!p||(l=Ma(l.nextSibling),l===null))return null;return l}function wA(l,u){for(;l.nodeType!==8;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!u||(l=Ma(l.nextSibling),l===null))return null;return l}function jv(l){return l.data==="$?"||l.data==="$~"}function _v(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState!=="loading"}function rz(l,u){var p=l.ownerDocument;if(l.data==="$~")l._reactRetry=u;else if(l.data!=="$?"||p.readyState!=="loading")u();else{var x=function(){u(),p.removeEventListener("DOMContentLoaded",x)};p.addEventListener("DOMContentLoaded",x),l._reactRetry=x}}function Ma(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return l}var Nv=null;function jA(l){l=l.nextSibling;for(var u=0;l;){if(l.nodeType===8){var p=l.data;if(p==="/$"||p==="/&"){if(u===0)return Ma(l.nextSibling);u--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||u++}l=l.nextSibling}return null}function _A(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var p=l.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(u===0)return l;u--}else p!=="/$"&&p!=="/&"||u++}l=l.previousSibling}return null}function NA(l,u,p){switch(u=ng(p),l){case"html":if(l=u.documentElement,!l)throw Error(n(452));return l;case"head":if(l=u.head,!l)throw Error(n(453));return l;case"body":if(l=u.body,!l)throw Error(n(454));return l;default:throw Error(n(451))}}function uf(l){for(var u=l.attributes;u.length;)l.removeAttributeNode(u[0]);hc(l)}var Pa=new Map,SA=new Set;function ag(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var _o=M.d;M.d={f:nz,r:az,D:iz,C:oz,L:lz,m:cz,X:uz,S:dz,M:hz};function nz(){var l=_o.f(),u=Xp();return l||u}function az(l){var u=Jn(l);u!==null&&u.tag===5&&u.type==="form"?$k(u):_o.r(l)}var ou=typeof document>"u"?null:document;function kA(l,u,p){var x=ou;if(x&&typeof u=="string"&&u){var A=Er(u);A='link[rel="'+l+'"][href="'+A+'"]',typeof p=="string"&&(A+='[crossorigin="'+p+'"]'),SA.has(A)||(SA.add(A),l={rel:l,crossOrigin:p,href:u},x.querySelector(A)===null&&(u=x.createElement("link"),an(u,"link",l),Os(u),x.head.appendChild(u)))}}function iz(l){_o.D(l),kA("dns-prefetch",l,null)}function oz(l,u){_o.C(l,u),kA("preconnect",l,u)}function lz(l,u,p){_o.L(l,u,p);var x=ou;if(x&&l&&u){var A='link[rel="preload"][as="'+Er(u)+'"]';u==="image"&&p&&p.imageSrcSet?(A+='[imagesrcset="'+Er(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(A+='[imagesizes="'+Er(p.imageSizes)+'"]')):A+='[href="'+Er(l)+'"]';var D=A;switch(u){case"style":D=lu(l);break;case"script":D=cu(l)}Pa.has(D)||(l=f({rel:"preload",href:u==="image"&&p&&p.imageSrcSet?void 0:l,as:u},p),Pa.set(D,l),x.querySelector(A)!==null||u==="style"&&x.querySelector(hf(D))||u==="script"&&x.querySelector(ff(D))||(u=x.createElement("link"),an(u,"link",l),Os(u),x.head.appendChild(u)))}}function cz(l,u){_o.m(l,u);var p=ou;if(p&&l){var x=u&&typeof u.as=="string"?u.as:"script",A='link[rel="modulepreload"][as="'+Er(x)+'"][href="'+Er(l)+'"]',D=A;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":D=cu(l)}if(!Pa.has(D)&&(l=f({rel:"modulepreload",href:l},u),Pa.set(D,l),p.querySelector(A)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(ff(D)))return}x=p.createElement("link"),an(x,"link",l),Os(x),p.head.appendChild(x)}}}function dz(l,u,p){_o.S(l,u,p);var x=ou;if(x&&l){var A=ea(x).hoistableStyles,D=lu(l);u=u||"default";var te=A.get(D);if(!te){var we={loading:0,preload:null};if(te=x.querySelector(hf(D)))we.loading=5;else{l=f({rel:"stylesheet",href:l,"data-precedence":u},p),(p=Pa.get(D))&&Sv(l,p);var Me=te=x.createElement("link");Os(Me),an(Me,"link",l),Me._p=new Promise(function(Ie,Ye){Me.onload=Ie,Me.onerror=Ye}),Me.addEventListener("load",function(){we.loading|=1}),Me.addEventListener("error",function(){we.loading|=2}),we.loading|=4,ig(te,u,x)}te={type:"stylesheet",instance:te,count:1,state:we},A.set(D,te)}}}function uz(l,u){_o.X(l,u);var p=ou;if(p&&l){var x=ea(p).hoistableScripts,A=cu(l),D=x.get(A);D||(D=p.querySelector(ff(A)),D||(l=f({src:l,async:!0},u),(u=Pa.get(A))&&kv(l,u),D=p.createElement("script"),Os(D),an(D,"link",l),p.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},x.set(A,D))}}function hz(l,u){_o.M(l,u);var p=ou;if(p&&l){var x=ea(p).hoistableScripts,A=cu(l),D=x.get(A);D||(D=p.querySelector(ff(A)),D||(l=f({src:l,async:!0,type:"module"},u),(u=Pa.get(A))&&kv(l,u),D=p.createElement("script"),Os(D),an(D,"link",l),p.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},x.set(A,D))}}function CA(l,u,p,x){var A=(A=me.current)?ag(A):null;if(!A)throw Error(n(446));switch(l){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(u=lu(p.href),p=ea(A).hoistableStyles,x=p.get(u),x||(x={type:"style",instance:null,count:0,state:null},p.set(u,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){l=lu(p.href);var D=ea(A).hoistableStyles,te=D.get(l);if(te||(A=A.ownerDocument||A,te={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},D.set(l,te),(D=A.querySelector(hf(l)))&&!D._p&&(te.instance=D,te.state.loading=5),Pa.has(l)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Pa.set(l,p),D||fz(A,l,p,te.state))),u&&x===null)throw Error(n(528,""));return te}if(u&&x!==null)throw Error(n(529,""));return null;case"script":return u=p.async,p=p.src,typeof p=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=cu(p),p=ea(A).hoistableScripts,x=p.get(u),x||(x={type:"script",instance:null,count:0,state:null},p.set(u,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,l))}}function lu(l){return'href="'+Er(l)+'"'}function hf(l){return'link[rel="stylesheet"]['+l+"]"}function AA(l){return f({},l,{"data-precedence":l.precedence,precedence:null})}function fz(l,u,p,x){l.querySelector('link[rel="preload"][as="style"]['+u+"]")?x.loading=1:(u=l.createElement("link"),x.preload=u,u.addEventListener("load",function(){return x.loading|=1}),u.addEventListener("error",function(){return x.loading|=2}),an(u,"link",p),Os(u),l.head.appendChild(u))}function cu(l){return'[src="'+Er(l)+'"]'}function ff(l){return"script[async]"+l}function EA(l,u,p){if(u.count++,u.instance===null)switch(u.type){case"style":var x=l.querySelector('style[data-href~="'+Er(p.href)+'"]');if(x)return u.instance=x,Os(x),x;var A=f({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return x=(l.ownerDocument||l).createElement("style"),Os(x),an(x,"style",A),ig(x,p.precedence,l),u.instance=x;case"stylesheet":A=lu(p.href);var D=l.querySelector(hf(A));if(D)return u.state.loading|=4,u.instance=D,Os(D),D;x=AA(p),(A=Pa.get(A))&&Sv(x,A),D=(l.ownerDocument||l).createElement("link"),Os(D);var te=D;return te._p=new Promise(function(we,Me){te.onload=we,te.onerror=Me}),an(D,"link",x),u.state.loading|=4,ig(D,p.precedence,l),u.instance=D;case"script":return D=cu(p.src),(A=l.querySelector(ff(D)))?(u.instance=A,Os(A),A):(x=p,(A=Pa.get(D))&&(x=f({},p),kv(x,A)),l=l.ownerDocument||l,A=l.createElement("script"),Os(A),an(A,"link",x),l.head.appendChild(A),u.instance=A);case"void":return null;default:throw Error(n(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(x=u.instance,u.state.loading|=4,ig(x,p.precedence,l));return u.instance}function ig(l,u,p){for(var x=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=x.length?x[x.length-1]:null,D=A,te=0;te<x.length;te++){var we=x[te];if(we.dataset.precedence===u)D=we;else if(D!==A)break}D?D.parentNode.insertBefore(l,D.nextSibling):(u=p.nodeType===9?p.head:p,u.insertBefore(l,u.firstChild))}function Sv(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.title==null&&(l.title=u.title)}function kv(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.integrity==null&&(l.integrity=u.integrity)}var og=null;function TA(l,u,p){if(og===null){var x=new Map,A=og=new Map;A.set(p,x)}else A=og,x=A.get(p),x||(x=new Map,A.set(p,x));if(x.has(l))return x;for(x.set(l,null),p=p.getElementsByTagName(l),A=0;A<p.length;A++){var D=p[A];if(!(D[Wa]||D[wr]||l==="link"&&D.getAttribute("rel")==="stylesheet")&&D.namespaceURI!=="http://www.w3.org/2000/svg"){var te=D.getAttribute(u)||"";te=l+te;var we=x.get(te);we?we.push(D):x.set(te,[D])}}return x}function RA(l,u,p){l=l.ownerDocument||l,l.head.insertBefore(p,u==="title"?l.querySelector("head > title"):null)}function mz(l,u,p){if(p===1||u.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return l=u.disabled,typeof u.precedence=="string"&&l==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function DA(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}function pz(l,u,p,x){if(p.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var A=lu(x.href),D=u.querySelector(hf(A));if(D){u=D._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(l.count++,l=lg.bind(l),u.then(l,l)),p.state.loading|=4,p.instance=D,Os(D);return}D=u.ownerDocument||u,x=AA(x),(A=Pa.get(A))&&Sv(x,A),D=D.createElement("link"),Os(D);var te=D;te._p=new Promise(function(we,Me){te.onload=we,te.onerror=Me}),an(D,"link",x),p.instance=D}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(p,u),(u=p.state.preload)&&(p.state.loading&3)===0&&(l.count++,p=lg.bind(l),u.addEventListener("load",p),u.addEventListener("error",p))}}var Cv=0;function gz(l,u){return l.stylesheets&&l.count===0&&dg(l,l.stylesheets),0<l.count||0<l.imgCount?function(p){var x=setTimeout(function(){if(l.stylesheets&&dg(l,l.stylesheets),l.unsuspend){var D=l.unsuspend;l.unsuspend=null,D()}},6e4+u);0<l.imgBytes&&Cv===0&&(Cv=62500*X7());var A=setTimeout(function(){if(l.waitingForImages=!1,l.count===0&&(l.stylesheets&&dg(l,l.stylesheets),l.unsuspend)){var D=l.unsuspend;l.unsuspend=null,D()}},(l.imgBytes>Cv?50:800)+u);return l.unsuspend=p,function(){l.unsuspend=null,clearTimeout(x),clearTimeout(A)}}:null}function lg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)dg(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var cg=null;function dg(l,u){l.stylesheets=null,l.unsuspend!==null&&(l.count++,cg=new Map,u.forEach(xz,l),cg=null,lg.call(l))}function xz(l,u){if(!(u.state.loading&4)){var p=cg.get(l);if(p)var x=p.get(null);else{p=new Map,cg.set(l,p);for(var A=l.querySelectorAll("link[data-precedence],style[data-precedence]"),D=0;D<A.length;D++){var te=A[D];(te.nodeName==="LINK"||te.getAttribute("media")!=="not all")&&(p.set(te.dataset.precedence,te),x=te)}x&&p.set(null,x)}A=u.instance,te=A.getAttribute("data-precedence"),D=p.get(te)||x,D===x&&p.set(null,A),p.set(te,A),this.count++,x=lg.bind(this),A.addEventListener("load",x),A.addEventListener("error",x),D?D.parentNode.insertBefore(A,D.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(A,l.firstChild)),u.state.loading|=4}}var mf={$$typeof:k,Provider:null,Consumer:null,_currentValue:K,_currentValue2:K,_threadCount:0};function yz(l,u,p,x,A,D,te,we,Me){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kt(0),this.hiddenUpdates=kt(null),this.identifierPrefix=x,this.onUncaughtError=A,this.onCaughtError=D,this.onRecoverableError=te,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=Me,this.incompleteTransitions=new Map}function MA(l,u,p,x,A,D,te,we,Me,Ie,Ye,Je){return l=new yz(l,u,p,te,Me,Ie,Ye,Je,we),u=1,D===!0&&(u|=24),D=aa(3,null,null,u),l.current=D,D.stateNode=l,u=ib(),u.refCount++,l.pooledCache=u,u.refCount++,D.memoizedState={element:x,isDehydrated:p,cache:u},db(D),l}function PA(l){return l?(l=zd,l):zd}function OA(l,u,p,x,A,D){A=PA(A),x.context===null?x.context=A:x.pendingContext=A,x=gl(u),x.payload={element:p},D=D===void 0?null:D,D!==null&&(x.callback=D),p=xl(l,x,u),p!==null&&(Un(p,l,u),qh(p,l,u))}function LA(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var p=l.retryLane;l.retryLane=p!==0&&p<u?p:u}}function Av(l,u){LA(l,u),(l=l.alternate)&&LA(l,u)}function FA(l){if(l.tag===13||l.tag===31){var u=Nc(l,67108864);u!==null&&Un(u,l,67108864),Av(l,67108864)}}function BA(l){if(l.tag===13||l.tag===31){var u=da();u=Rn(u);var p=Nc(l,u);p!==null&&Un(p,l,u),Av(l,u)}}var ug=!0;function bz(l,u,p,x){var A=X.T;X.T=null;var D=M.p;try{M.p=2,Ev(l,u,p,x)}finally{M.p=D,X.T=A}}function vz(l,u,p,x){var A=X.T;X.T=null;var D=M.p;try{M.p=8,Ev(l,u,p,x)}finally{M.p=D,X.T=A}}function Ev(l,u,p,x){if(ug){var A=Tv(x);if(A===null)pv(l,u,x,hg,p),zA(l,x);else if(jz(A,l,u,p,x))x.stopPropagation();else if(zA(l,x),u&4&&-1<wz.indexOf(l)){for(;A!==null;){var D=Jn(A);if(D!==null)switch(D.tag){case 3:if(D=D.stateNode,D.current.memoizedState.isDehydrated){var te=vr(D.pendingLanes);if(te!==0){var we=D;for(we.pendingLanes|=2,we.entangledLanes|=2;te;){var Me=1<<31-Ze(te);we.entanglements[1]|=Me,te&=~Me}Ci(D),(As&6)===0&&(Yp=je()+500,lf(0))}}break;case 31:case 13:we=Nc(D,2),we!==null&&Un(we,D,2),Xp(),Av(D,2)}if(D=Tv(x),D===null&&pv(l,u,x,hg,p),D===A)break;A=D}A!==null&&x.stopPropagation()}else pv(l,u,x,null,p)}}function Tv(l){return l=nl(l),Rv(l)}var hg=null;function Rv(l){if(hg=null,l=gi(l),l!==null){var u=i(l);if(u===null)l=null;else{var p=u.tag;if(p===13){if(l=o(u),l!==null)return l;l=null}else if(p===31){if(l=c(u),l!==null)return l;l=null}else if(p===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null)}}return hg=l,null}function IA(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ae()){case Be:return 2;case et:return 8;case lt:case gt:return 32;case _t:return 268435456;default:return 32}default:return 32}}var Dv=!1,Al=null,El=null,Tl=null,pf=new Map,gf=new Map,Rl=[],wz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zA(l,u){switch(l){case"focusin":case"focusout":Al=null;break;case"dragenter":case"dragleave":El=null;break;case"mouseover":case"mouseout":Tl=null;break;case"pointerover":case"pointerout":pf.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":gf.delete(u.pointerId)}}function xf(l,u,p,x,A,D){return l===null||l.nativeEvent!==D?(l={blockedOn:u,domEventName:p,eventSystemFlags:x,nativeEvent:D,targetContainers:[A]},u!==null&&(u=Jn(u),u!==null&&FA(u)),l):(l.eventSystemFlags|=x,u=l.targetContainers,A!==null&&u.indexOf(A)===-1&&u.push(A),l)}function jz(l,u,p,x,A){switch(u){case"focusin":return Al=xf(Al,l,u,p,x,A),!0;case"dragenter":return El=xf(El,l,u,p,x,A),!0;case"mouseover":return Tl=xf(Tl,l,u,p,x,A),!0;case"pointerover":var D=A.pointerId;return pf.set(D,xf(pf.get(D)||null,l,u,p,x,A)),!0;case"gotpointercapture":return D=A.pointerId,gf.set(D,xf(gf.get(D)||null,l,u,p,x,A)),!0}return!1}function UA(l){var u=gi(l.target);if(u!==null){var p=i(u);if(p!==null){if(u=p.tag,u===13){if(u=o(p),u!==null){l.blockedOn=u,Dd(l.priority,function(){BA(p)});return}}else if(u===31){if(u=c(p),u!==null){l.blockedOn=u,Dd(l.priority,function(){BA(p)});return}}else if(u===3&&p.stateNode.current.memoizedState.isDehydrated){l.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}l.blockedOn=null}function fg(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var p=Tv(l.nativeEvent);if(p===null){p=l.nativeEvent;var x=new p.constructor(p.type,p);yc=x,p.target.dispatchEvent(x),yc=null}else return u=Jn(p),u!==null&&FA(u),l.blockedOn=p,!1;u.shift()}return!0}function $A(l,u,p){fg(l)&&p.delete(u)}function _z(){Dv=!1,Al!==null&&fg(Al)&&(Al=null),El!==null&&fg(El)&&(El=null),Tl!==null&&fg(Tl)&&(Tl=null),pf.forEach($A),gf.forEach($A)}function mg(l,u){l.blockedOn===u&&(l.blockedOn=null,Dv||(Dv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,_z)))}var pg=null;function VA(l){pg!==l&&(pg=l,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){pg===l&&(pg=null);for(var u=0;u<l.length;u+=3){var p=l[u],x=l[u+1],A=l[u+2];if(typeof x!="function"){if(Rv(x||p)===null)continue;break}var D=Jn(p);D!==null&&(l.splice(u,3),u-=3,Tb(D,{pending:!0,data:A,method:p.method,action:x},x,A))}}))}function du(l){function u(Me){return mg(Me,l)}Al!==null&&mg(Al,l),El!==null&&mg(El,l),Tl!==null&&mg(Tl,l),pf.forEach(u),gf.forEach(u);for(var p=0;p<Rl.length;p++){var x=Rl[p];x.blockedOn===l&&(x.blockedOn=null)}for(;0<Rl.length&&(p=Rl[0],p.blockedOn===null);)UA(p),p.blockedOn===null&&Rl.shift();if(p=(l.ownerDocument||l).$$reactFormReplay,p!=null)for(x=0;x<p.length;x+=3){var A=p[x],D=p[x+1],te=A[ur]||null;if(typeof D=="function")te||VA(p);else if(te){var we=null;if(D&&D.hasAttribute("formAction")){if(A=D,te=D[ur]||null)we=te.formAction;else if(Rv(A)!==null)continue}else we=te.action;typeof we=="function"?p[x+1]=we:(p.splice(x,3),x-=3),VA(p)}}}function HA(){function l(D){D.canIntercept&&D.info==="react-transition"&&D.intercept({handler:function(){return new Promise(function(te){return A=te})},focusReset:"manual",scroll:"manual"})}function u(){A!==null&&(A(),A=null),x||setTimeout(p,20)}function p(){if(!x&&!navigation.transition){var D=navigation.currentEntry;D&&D.url!=null&&navigation.navigate(D.url,{state:D.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var x=!1,A=null;return navigation.addEventListener("navigate",l),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(p,100),function(){x=!0,navigation.removeEventListener("navigate",l),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),A!==null&&(A(),A=null)}}}function Mv(l){this._internalRoot=l}gg.prototype.render=Mv.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(n(409));var p=u.current,x=da();OA(p,x,l,u,null,null)},gg.prototype.unmount=Mv.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;OA(l.current,2,null,l,null,null),Xp(),u[Ar]=null}};function gg(l){this._internalRoot=l}gg.prototype.unstable_scheduleHydration=function(l){if(l){var u=pi();l={blockedOn:null,target:l,priority:u};for(var p=0;p<Rl.length&&u!==0&&u<Rl[p].priority;p++);Rl.splice(p,0,l),p===0&&UA(l)}};var qA=e.version;if(qA!=="19.2.1")throw Error(n(527,qA,"19.2.1"));M.findDOMNode=function(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=h(u),l=l!==null?m(l):null,l=l===null?null:l.stateNode,l};var Nz={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:X,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var xg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!xg.isDisabled&&xg.supportsFiber)try{Ct=xg.inject(Nz),us=xg}catch{}}return yf.createRoot=function(l,u){if(!a(l))throw Error(n(299));var p=!1,x="",A=Qk,D=Jk,te=eC;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(x=u.identifierPrefix),u.onUncaughtError!==void 0&&(A=u.onUncaughtError),u.onCaughtError!==void 0&&(D=u.onCaughtError),u.onRecoverableError!==void 0&&(te=u.onRecoverableError)),u=MA(l,1,!1,null,null,p,x,null,A,D,te,HA),l[Ar]=u.current,mv(l),new Mv(u)},yf.hydrateRoot=function(l,u,p){if(!a(l))throw Error(n(299));var x=!1,A="",D=Qk,te=Jk,we=eC,Me=null;return p!=null&&(p.unstable_strictMode===!0&&(x=!0),p.identifierPrefix!==void 0&&(A=p.identifierPrefix),p.onUncaughtError!==void 0&&(D=p.onUncaughtError),p.onCaughtError!==void 0&&(te=p.onCaughtError),p.onRecoverableError!==void 0&&(we=p.onRecoverableError),p.formState!==void 0&&(Me=p.formState)),u=MA(l,1,!0,u,p??null,x,A,Me,D,te,we,HA),u.context=PA(null),p=u.current,x=da(),x=Rn(x),A=gl(x),A.callback=null,xl(p,A,x),p=x,u.current.lanes=p,it(u,p),Ci(u),l[Ar]=u.current,mv(l),new gg(u)},yf.version="19.2.1",yf}var JA;function Dz(){if(JA)return Ov.exports;JA=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Ov.exports=Rz(),Ov.exports}var Mz=Dz();const Pz=_0(Mz);var Iv={exports:{}},bf={};var eE;function Oz(){if(eE)return bf;eE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,a,i){var o=null;if(i!==void 0&&(o=""+i),a.key!==void 0&&(o=""+a.key),"key"in a){i={};for(var c in a)c!=="key"&&(i[c]=a[c])}else i=a;return a=i.ref,{$$typeof:t,type:n,key:o,ref:a!==void 0?a:null,props:i}}return bf.Fragment=e,bf.jsx=r,bf.jsxs=r,bf}var tE;function Lz(){return tE||(tE=1,Iv.exports=Oz()),Iv.exports}var s=Lz();const qt=t=>typeof t=="string",vf=()=>{let t,e;const r=new Promise((n,a)=>{t=n,e=a});return r.resolve=t,r.reject=e,r},sE=t=>t==null?"":""+t,Fz=(t,e,r)=>{t.forEach(n=>{e[n]&&(r[n]=e[n])})},Bz=/###/g,rE=t=>t&&t.indexOf("###")>-1?t.replace(Bz,"."):t,nE=t=>!t||qt(t),Yf=(t,e,r)=>{const n=qt(e)?e.split("."):e;let a=0;for(;a<n.length-1;){if(nE(t))return{};const i=rE(n[a]);!t[i]&&r&&(t[i]=new r),Object.prototype.hasOwnProperty.call(t,i)?t=t[i]:t={},++a}return nE(t)?{}:{obj:t,k:rE(n[a])}},aE=(t,e,r)=>{const{obj:n,k:a}=Yf(t,e,Object);if(n!==void 0||e.length===1){n[a]=r;return}let i=e[e.length-1],o=e.slice(0,e.length-1),c=Yf(t,o,Object);for(;c.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),c=Yf(t,o,Object),c?.obj&&typeof c.obj[`${c.k}.${i}`]<"u"&&(c.obj=void 0);c.obj[`${c.k}.${i}`]=r},Iz=(t,e,r,n)=>{const{obj:a,k:i}=Yf(t,e,Object);a[i]=a[i]||[],a[i].push(r)},Tx=(t,e)=>{const{obj:r,k:n}=Yf(t,e);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},zz=(t,e,r)=>{const n=Tx(t,r);return n!==void 0?n:Tx(e,r)},s6=(t,e,r)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?qt(t[n])||t[n]instanceof String||qt(e[n])||e[n]instanceof String?r&&(t[n]=e[n]):s6(t[n],e[n],r):t[n]=e[n]);return t},uu=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Uz={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const $z=t=>qt(t)?t.replace(/[&<>"'\/]/g,e=>Uz[e]):t;class Vz{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const r=this.regExpMap.get(e);if(r!==void 0)return r;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const Hz=[" ",",","?","!",";"],qz=new Vz(20),Wz=(t,e,r)=>{e=e||"",r=r||"";const n=Hz.filter(o=>e.indexOf(o)<0&&r.indexOf(o)<0);if(n.length===0)return!0;const a=qz.getRegExp(`(${n.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!a.test(t);if(!i){const o=t.indexOf(r);o>0&&!a.test(t.substring(0,o))&&(i=!0)}return i},G1=(t,e,r=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const n=e.split(r);let a=t;for(let i=0;i<n.length;){if(!a||typeof a!="object")return;let o,c="";for(let d=i;d<n.length;++d)if(d!==i&&(c+=r),c+=n[d],o=a[c],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&d<n.length-1)continue;i+=d-i+1;break}a=o}return a},im=t=>t?.replace("_","-"),Gz={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}};class Rx{constructor(e,r={}){this.init(e,r)}init(e,r={}){this.prefix=r.prefix||"i18next:",this.logger=e||Gz,this.options=r,this.debug=r.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,n,a){return a&&!this.debug?null:(qt(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new Rx(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Rx(this.logger,e)}}var Li=new Rx;class S0{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const a=this.observers[n].get(r)||0;this.observers[n].set(r,a+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e,...r){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([a,i])=>{for(let o=0;o<i;o++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,i])=>{for(let o=0;o<i;o++)a.apply(a,[e,...r])})}}class iE extends S0{constructor(e,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,n,a={}){const i=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,o=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let c;e.indexOf(".")>-1?c=e.split("."):(c=[e,r],n&&(Array.isArray(n)?c.push(...n):qt(n)&&i?c.push(...n.split(i)):c.push(n)));const d=Tx(this.data,c);return!d&&!r&&!n&&e.indexOf(".")>-1&&(e=c[0],r=c[1],n=c.slice(2).join(".")),d||!o||!qt(n)?d:G1(this.data?.[e]?.[r],n,i)}addResource(e,r,n,a,i={silent:!1}){const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let c=[e,r];n&&(c=c.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(c=e.split("."),a=r,r=c[1]),this.addNamespaces(r),aE(this.data,c,a),i.silent||this.emit("added",e,r,n,a)}addResources(e,r,n,a={silent:!1}){for(const i in n)(qt(n[i])||Array.isArray(n[i]))&&this.addResource(e,r,i,n[i],{silent:!0});a.silent||this.emit("added",e,r,n)}addResourceBundle(e,r,n,a,i,o={silent:!1,skipCopy:!1}){let c=[e,r];e.indexOf(".")>-1&&(c=e.split("."),a=n,n=r,r=c[1]),this.addNamespaces(r);let d=Tx(this.data,c)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),a?s6(d,n,i):d={...d,...n},aE(this.data,c,d),o.silent||this.emit("added",e,r,n)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(a=>r[a]&&Object.keys(r[a]).length>0)}toJSON(){return this.data}}var r6={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,r,n,a){return t.forEach(i=>{e=this.processors[i]?.process(e,r,n,a)??e}),e}};const n6=Symbol("i18next/PATH_KEY");function Yz(){const t=[],e=Object.create(null);let r;return e.get=(n,a)=>(r?.revoke?.(),a===n6?t:(t.push(a),r=Proxy.revocable(n,e),r.proxy)),Proxy.revocable(Object.create(null),e).proxy}function Y1(t,e){const{[n6]:r}=t(Yz());return r.join(e?.keySeparator??".")}const oE={},zv=t=>!qt(t)&&typeof t!="boolean"&&typeof t!="number";class Dx extends S0{constructor(e,r={}){super(),Fz(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Li.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,r={interpolation:{}}){const n={...r};if(e==null)return!1;const a=this.resolve(e,n);if(a?.res===void 0)return!1;const i=zv(a.res);return!(n.returnObjects===!1&&i)}extractFromKey(e,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let i=r.ns||this.options.defaultNS||[];const o=n&&e.indexOf(n)>-1,c=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!Wz(e,n,a);if(o&&!c){const d=e.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:e,namespaces:qt(i)?[i]:i};const h=e.split(n);(n!==a||n===a&&this.options.ns.indexOf(h[0])>-1)&&(i=h.shift()),e=h.join(a)}return{key:e,namespaces:qt(i)?[i]:i}}translate(e,r,n){let a=typeof r=="object"?{...r}:r;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a={...a}),a||(a={}),e==null)return"";typeof e=="function"&&(e=Y1(e,{...this.options,...a})),Array.isArray(e)||(e=[String(e)]);const i=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:c,namespaces:d}=this.extractFromKey(e[e.length-1],a),h=d[d.length-1];let m=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;m===void 0&&(m=":");const f=a.lng||this.language,g=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(f?.toLowerCase()==="cimode")return g?i?{res:`${h}${m}${c}`,usedKey:c,exactUsedKey:c,usedLng:f,usedNS:h,usedParams:this.getUsedParamsDetails(a)}:`${h}${m}${c}`:i?{res:c,usedKey:c,exactUsedKey:c,usedLng:f,usedNS:h,usedParams:this.getUsedParamsDetails(a)}:c;const y=this.resolve(e,a);let v=y?.res;const w=y?.usedKey||c,_=y?.exactUsedKey||c,b=["[object Number]","[object Function]","[object RegExp]"],N=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,k=!this.i18nFormat||this.i18nFormat.handleAsObject,S=a.count!==void 0&&!qt(a.count),C=Dx.hasDefaultValue(a),I=S?this.pluralResolver.getSuffix(f,a.count,a):"",E=a.ordinal&&S?this.pluralResolver.getSuffix(f,a.count,{ordinal:!1}):"",U=S&&!a.ordinal&&a.count===0,T=U&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${I}`]||a[`defaultValue${E}`]||a.defaultValue;let ne=v;k&&!v&&C&&(ne=T);const q=zv(ne),F=Object.prototype.toString.apply(ne);if(k&&ne&&q&&b.indexOf(F)<0&&!(qt(N)&&Array.isArray(ne))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const Y=this.options.returnedObjectHandler?this.options.returnedObjectHandler(w,ne,{...a,ns:d}):`key '${c} (${this.language})' returned an object instead of string.`;return i?(y.res=Y,y.usedParams=this.getUsedParamsDetails(a),y):Y}if(o){const Y=Array.isArray(ne),O=Y?[]:{},se=Y?_:w;for(const X in ne)if(Object.prototype.hasOwnProperty.call(ne,X)){const M=`${se}${o}${X}`;C&&!v?O[X]=this.translate(M,{...a,defaultValue:zv(T)?T[X]:void 0,joinArrays:!1,ns:d}):O[X]=this.translate(M,{...a,joinArrays:!1,ns:d}),O[X]===M&&(O[X]=ne[X])}v=O}}else if(k&&qt(N)&&Array.isArray(v))v=v.join(N),v&&(v=this.extendTranslation(v,e,a,n));else{let Y=!1,O=!1;!this.isValidLookup(v)&&C&&(Y=!0,v=T),this.isValidLookup(v)||(O=!0,v=c);const X=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&O?void 0:v,M=C&&T!==v&&this.options.updateMissing;if(O||Y||M){if(this.logger.log(M?"updateKey":"missingKey",f,h,c,M?T:v),o){const V=this.resolve(c,{...a,keySeparator:!1});V&&V.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let K=[];const z=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&z&&z[0])for(let V=0;V<z.length;V++)K.push(z[V]);else this.options.saveMissingTo==="all"?K=this.languageUtils.toResolveHierarchy(a.lng||this.language):K.push(a.lng||this.language);const he=(V,W,le)=>{const oe=C&&le!==v?le:X;this.options.missingKeyHandler?this.options.missingKeyHandler(V,h,W,oe,M,a):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(V,h,W,oe,M,a),this.emit("missingKey",V,h,W,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&S?K.forEach(V=>{const W=this.pluralResolver.getSuffixes(V,a);U&&a[`defaultValue${this.options.pluralSeparator}zero`]&&W.indexOf(`${this.options.pluralSeparator}zero`)<0&&W.push(`${this.options.pluralSeparator}zero`),W.forEach(le=>{he([V],c+le,a[`defaultValue${le}`]||T)})}):he(K,c,T))}v=this.extendTranslation(v,e,a,y,n),O&&v===c&&this.options.appendNamespaceToMissingKey&&(v=`${h}${m}${c}`),(O||Y)&&this.options.parseMissingKeyHandler&&(v=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}${m}${c}`:c,Y?v:void 0,a))}return i?(y.res=v,y.usedParams=this.getUsedParamsDetails(a),y):v}extendTranslation(e,r,n,a,i){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const d=qt(e)&&(n?.interpolation?.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(d){const f=e.match(this.interpolator.nestingRegexp);h=f&&f.length}let m=n.replace&&!qt(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(m={...this.options.interpolation.defaultVariables,...m}),e=this.interpolator.interpolate(e,m,n.lng||this.language||a.usedLng,n),d){const f=e.match(this.interpolator.nestingRegexp),g=f&&f.length;h<g&&(n.nest=!1)}!n.lng&&a&&a.res&&(n.lng=this.language||a.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,(...f)=>i?.[0]===f[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${f[0]} in key: ${r[0]}`),null):this.translate(...f,r),n)),n.interpolation&&this.interpolator.reset()}const o=n.postProcess||this.options.postProcess,c=qt(o)?[o]:o;return e!=null&&c?.length&&n.applyPostProcessor!==!1&&(e=r6.handle(c,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e,r={}){let n,a,i,o,c;return qt(e)&&(e=[e]),e.forEach(d=>{if(this.isValidLookup(n))return;const h=this.extractFromKey(d,r),m=h.key;a=m;let f=h.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const g=r.count!==void 0&&!qt(r.count),y=g&&!r.ordinal&&r.count===0,v=r.context!==void 0&&(qt(r.context)||typeof r.context=="number")&&r.context!=="",w=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);f.forEach(_=>{this.isValidLookup(n)||(c=_,!oE[`${w[0]}-${_}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(c)&&(oE[`${w[0]}-${_}`]=!0,this.logger.warn(`key "${a}" for languages "${w.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),w.forEach(b=>{if(this.isValidLookup(n))return;o=b;const N=[m];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(N,m,b,_,r);else{let S;g&&(S=this.pluralResolver.getSuffix(b,r.count,r));const C=`${this.options.pluralSeparator}zero`,I=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(g&&(r.ordinal&&S.indexOf(I)===0&&N.push(m+S.replace(I,this.options.pluralSeparator)),N.push(m+S),y&&N.push(m+C)),v){const E=`${m}${this.options.contextSeparator||"_"}${r.context}`;N.push(E),g&&(r.ordinal&&S.indexOf(I)===0&&N.push(E+S.replace(I,this.options.pluralSeparator)),N.push(E+S),y&&N.push(E+C))}}let k;for(;k=N.pop();)this.isValidLookup(n)||(i=k,n=this.getResource(b,_,k,r))}))})}),{res:n,usedKey:a,exactUsedKey:i,usedLng:o,usedNS:c}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,n,a={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,r,n,a):this.resourceStore.getResource(e,r,n,a)}getUsedParamsDetails(e={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!qt(e.replace);let a=n?e.replace:e;if(n&&typeof e.count<"u"&&(a.count=e.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!n){a={...a};for(const i of r)delete a[i]}return a}static hasDefaultValue(e){const r="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r===n.substring(0,r.length)&&e[n]!==void 0)return!0;return!1}}class lE{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Li.create("languageUtils")}getScriptPartFromCode(e){if(e=im(e),!e||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=im(e),!e||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(qt(e)&&e.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(e)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(n=>{if(r)return;const a=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(a))&&(r=a)}),!r&&this.options.supportedLngs&&e.forEach(n=>{if(r)return;const a=this.getScriptPartFromCode(n);if(this.isSupportedCode(a))return r=a;const i=this.getLanguagePartFromCode(n);if(this.isSupportedCode(i))return r=i;r=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),qt(e)&&(e=[e]),Array.isArray(e))return e;if(!r)return e.default||[];let n=e[r];return n||(n=e[this.getScriptPartFromCode(r)]),n||(n=e[this.formatLanguageCode(r)]),n||(n=e[this.getLanguagePartFromCode(r)]),n||(n=e.default),n||[]}toResolveHierarchy(e,r){const n=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],e),a=[],i=o=>{o&&(this.isSupportedCode(o)?a.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return qt(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):qt(e)&&i(this.formatLanguageCode(e)),n.forEach(o=>{a.indexOf(o)<0&&i(this.formatLanguageCode(o))}),a}}const cE={zero:0,one:1,two:2,few:3,many:4,other:5},dE={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Kz{constructor(e,r={}){this.languageUtils=e,this.options=r,this.logger=Li.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,r){this.rules[e]=r}clearCache(){this.pluralRulesCache={}}getRule(e,r={}){const n=im(e==="dev"?"en":e),a=r.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:n,type:a});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(n,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),dE;if(!e.match(/-|_/))return dE;const d=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(d,r)}return this.pluralRulesCache[i]=o,o}needsPlural(e,r={}){let n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),n?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,r,n={}){return this.getSuffixes(e,n).map(a=>`${r}${a}`)}getSuffixes(e,r={}){let n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),n?n.resolvedOptions().pluralCategories.sort((a,i)=>cE[a]-cE[i]).map(a=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(e,r,n={}){const a=this.getRule(e,n);return a?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a.select(r)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",r,n))}}const uE=(t,e,r,n=".",a=!0)=>{let i=zz(t,e,r);return!i&&a&&qt(r)&&(i=G1(t,r,n),i===void 0&&(i=G1(e,r,n))),i},Uv=t=>t.replace(/\$/g,"$$$$");class hE{constructor(e={}){this.logger=Li.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:a,prefix:i,prefixEscaped:o,suffix:c,suffixEscaped:d,formatSeparator:h,unescapeSuffix:m,unescapePrefix:f,nestingPrefix:g,nestingPrefixEscaped:y,nestingSuffix:v,nestingSuffixEscaped:w,nestingOptionsSeparator:_,maxReplaces:b,alwaysFormat:N}=e.interpolation;this.escape=r!==void 0?r:$z,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=i?uu(i):o||"{{",this.suffix=c?uu(c):d||"}}",this.formatSeparator=h||",",this.unescapePrefix=m?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":m||"",this.nestingPrefix=g?uu(g):y||uu("$t("),this.nestingSuffix=v?uu(v):w||uu(")"),this.nestingOptionsSeparator=_||",",this.maxReplaces=b||1e3,this.alwaysFormat=N!==void 0?N:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(r,n)=>r?.source===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,r,n,a){let i,o,c;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=y=>{if(y.indexOf(this.formatSeparator)<0){const b=uE(r,d,y,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(b,void 0,n,{...a,...r,interpolationkey:y}):b}const v=y.split(this.formatSeparator),w=v.shift().trim(),_=v.join(this.formatSeparator).trim();return this.format(uE(r,d,w,this.options.keySeparator,this.options.ignoreJSONStructure),_,n,{...a,...r,interpolationkey:w})};this.resetRegExp();const m=a?.missingInterpolationHandler||this.options.missingInterpolationHandler,f=a?.interpolation?.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:y=>Uv(y)},{regex:this.regexp,safeValue:y=>this.escapeValue?Uv(this.escape(y)):Uv(y)}].forEach(y=>{for(c=0;i=y.regex.exec(e);){const v=i[1].trim();if(o=h(v),o===void 0)if(typeof m=="function"){const _=m(e,i,a);o=qt(_)?_:""}else if(a&&Object.prototype.hasOwnProperty.call(a,v))o="";else if(f){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${v} for interpolating ${e}`),o="";else!qt(o)&&!this.useRawValueToEscape&&(o=sE(o));const w=y.safeValue(o);if(e=e.replace(i[0],w),f?(y.regex.lastIndex+=o.length,y.regex.lastIndex-=i[0].length):y.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),e}nest(e,r,n={}){let a,i,o;const c=(d,h)=>{const m=this.nestingOptionsSeparator;if(d.indexOf(m)<0)return d;const f=d.split(new RegExp(`${m}[ ]*{`));let g=`{${f[1]}`;d=f[0],g=this.interpolate(g,o);const y=g.match(/'/g),v=g.match(/"/g);((y?.length??0)%2===0&&!v||v.length%2!==0)&&(g=g.replace(/'/g,'"'));try{o=JSON.parse(g),h&&(o={...h,...o})}catch(w){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,w),`${d}${m}${g}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,d};for(;a=this.nestingRegexp.exec(e);){let d=[];o={...n},o=o.replace&&!qt(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const h=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(h!==-1&&(d=a[1].slice(h).split(this.formatSeparator).map(m=>m.trim()).filter(Boolean),a[1]=a[1].slice(0,h)),i=r(c.call(this,a[1].trim(),o),o),i&&a[0]===e&&!qt(i))return i;qt(i)||(i=sE(i)),i||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${e}`),i=""),d.length&&(i=d.reduce((m,f)=>this.format(m,f,n.lng,{...n,interpolationkey:a[1].trim()}),i.trim())),e=e.replace(a[0],i),this.regexp.lastIndex=0}return e}}const Xz=t=>{let e=t.toLowerCase().trim();const r={};if(t.indexOf("(")>-1){const n=t.split("(");e=n[0].toLowerCase().trim();const a=n[1].substring(0,n[1].length-1);e==="currency"&&a.indexOf(":")<0?r.currency||(r.currency=a.trim()):e==="relativetime"&&a.indexOf(":")<0?r.range||(r.range=a.trim()):a.split(";").forEach(o=>{if(o){const[c,...d]=o.split(":"),h=d.join(":").trim().replace(/^'+|'+$/g,""),m=c.trim();r[m]||(r[m]=h),h==="false"&&(r[m]=!1),h==="true"&&(r[m]=!0),isNaN(h)||(r[m]=parseInt(h,10))}})}return{formatName:e,formatOptions:r}},fE=t=>{const e={};return(r,n,a)=>{let i=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(i={...i,[a.interpolationkey]:void 0});const o=n+JSON.stringify(i);let c=e[o];return c||(c=t(im(n),a),e[o]=c),c(r)}},Zz=t=>(e,r,n)=>t(im(r),n)(e);let Qz=class{constructor(e={}){this.logger=Li.create("formatter"),this.options=e,this.init(e)}init(e,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const n=r.cacheInBuiltFormats?fE:Zz;this.formats={number:n((a,i)=>{const o=new Intl.NumberFormat(a,{...i});return c=>o.format(c)}),currency:n((a,i)=>{const o=new Intl.NumberFormat(a,{...i,style:"currency"});return c=>o.format(c)}),datetime:n((a,i)=>{const o=new Intl.DateTimeFormat(a,{...i});return c=>o.format(c)}),relativetime:n((a,i)=>{const o=new Intl.RelativeTimeFormat(a,{...i});return c=>o.format(c,i.range||"day")}),list:n((a,i)=>{const o=new Intl.ListFormat(a,{...i});return c=>o.format(c)})}}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=fE(r)}format(e,r,n,a={}){const i=r.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(c=>c.indexOf(")")>-1)){const c=i.findIndex(d=>d.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,c)].join(this.formatSeparator)}return i.reduce((c,d)=>{const{formatName:h,formatOptions:m}=Xz(d);if(this.formats[h]){let f=c;try{const g=a?.formatParams?.[a.interpolationkey]||{},y=g.locale||g.lng||a.locale||a.lng||n;f=this.formats[h](c,y,{...m,...a,...g})}catch(g){this.logger.warn(g)}return f}else this.logger.warn(`there was no format function for ${h}`);return c},e)}};const Jz=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class eU extends S0{constructor(e,r,n,a={}){super(),this.backend=e,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=a,this.logger=Li.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(n,a.backend,a)}queueLoad(e,r,n,a){const i={},o={},c={},d={};return e.forEach(h=>{let m=!0;r.forEach(f=>{const g=`${h}|${f}`;!n.reload&&this.store.hasResourceBundle(h,f)?this.state[g]=2:this.state[g]<0||(this.state[g]===1?o[g]===void 0&&(o[g]=!0):(this.state[g]=1,m=!1,o[g]===void 0&&(o[g]=!0),i[g]===void 0&&(i[g]=!0),d[f]===void 0&&(d[f]=!0)))}),m||(c[h]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(d)}}loaded(e,r,n){const a=e.split("|"),i=a[0],o=a[1];r&&this.emit("failedLoading",i,o,r),!r&&n&&this.store.addResourceBundle(i,o,n,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2,r&&n&&(this.state[e]=0);const c={};this.queue.forEach(d=>{Iz(d.loaded,[i],o),Jz(d,e),r&&d.errors.push(r),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(h=>{c[h]||(c[h]={});const m=d.loaded[h];m.length&&m.forEach(f=>{c[h][f]===void 0&&(c[h][f]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(d=>!d.done)}read(e,r,n,a=0,i=this.retryTimeout,o){if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:n,tried:a,wait:i,callback:o});return}this.readingCalls++;const c=(h,m)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(h&&m&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,n,a+1,i*2,o)},i);return}o(h,m)},d=this.backend[n].bind(this.backend);if(d.length===2){try{const h=d(e,r);h&&typeof h.then=="function"?h.then(m=>c(null,m)).catch(c):c(null,h)}catch(h){c(h)}return}return d(e,r,c)}prepareLoading(e,r,n={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();qt(e)&&(e=this.languageUtils.toResolveHierarchy(e)),qt(r)&&(r=[r]);const i=this.queueLoad(e,r,n,a);if(!i.toLoad.length)return i.pending.length||a(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(e,r,n){this.prepareLoading(e,r,{},n)}reload(e,r,n){this.prepareLoading(e,r,{reload:!0},n)}loadOne(e,r=""){const n=e.split("|"),a=n[0],i=n[1];this.read(a,i,"read",void 0,void 0,(o,c)=>{o&&this.logger.warn(`${r}loading namespace ${i} for language ${a} failed`,o),!o&&c&&this.logger.log(`${r}loaded namespace ${i} for language ${a}`,c),this.loaded(e,o,c)})}saveMissing(e,r,n,a,i,o={},c=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend?.create){const d={...o,isUpdate:i},h=this.backend.create.bind(this.backend);if(h.length<6)try{let m;h.length===5?m=h(e,r,n,a,d):m=h(e,r,n,a),m&&typeof m.then=="function"?m.then(f=>c(null,f)).catch(c):c(null,m)}catch(m){c(m)}else h(e,r,n,a,c,d)}!e||!e[0]||this.store.addResource(e[0],r,n,a)}}}const mE=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),qt(t[1])&&(e.defaultValue=t[1]),qt(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const r=t[3]||t[2];Object.keys(r).forEach(n=>{e[n]=r[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),pE=t=>(qt(t.ns)&&(t.ns=[t.ns]),qt(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),qt(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),yg=()=>{},tU=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(r=>{typeof t[r]=="function"&&(t[r]=t[r].bind(t))})};class Kf extends S0{constructor(e={},r){if(super(),this.options=pE(e),this.services={},this.logger=Li,this.modules={external:[]},tU(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(e={},r){this.isInitializing=!0,typeof e=="function"&&(r=e,e={}),e.defaultNS==null&&e.ns&&(qt(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const n=mE();this.options={...n,...this.options,...pE(e)},this.options.interpolation={...n.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const a=h=>h?typeof h=="function"?new h:h:null;if(!this.options.isClone){this.modules.logger?Li.init(a(this.modules.logger),this.options):Li.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:h=Qz;const m=new lE(this.options);this.store=new iE(this.options.resources,this.options);const f=this.services;f.logger=Li,f.resourceStore=this.store,f.languageUtils=m,f.pluralResolver=new Kz(m,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),h&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(f.formatter=a(h),f.formatter.init&&f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new hE(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new eU(a(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",(y,...v)=>{this.emit(y,...v)}),this.modules.languageDetector&&(f.languageDetector=a(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=a(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new Dx(this.services,this.options),this.translator.on("*",(y,...v)=>{this.emit(y,...v)}),this.modules.external.forEach(y=>{y.init&&y.init(this)})}if(this.format=this.options.interpolation.format,r||(r=yg),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=(...m)=>this.store[h](...m)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=(...m)=>(this.store[h](...m),this)});const c=vf(),d=()=>{const h=(m,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(f),r(m,f)};if(this.languages&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),c}loadResources(e,r=yg){let n=r;const a=qt(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(a?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const i=[],o=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(h=>{h!=="cimode"&&i.indexOf(h)<0&&i.push(h)})};a?o(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>o(d)),this.options.preload?.forEach?.(c=>o(c)),this.services.backendConnector.load(i,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(c)})}else n(null)}reloadResources(e,r,n){const a=vf();return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r=void 0),e||(e=this.languages),r||(r=this.options.ns),n||(n=yg),this.services.backendConnector.reload(e,r,i=>{a.resolve(),n(i)}),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&r6.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,r){this.isLanguageChangingTo=e;const n=vf();this.emit("languageChanging",e);const a=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},i=(c,d)=>{d?this.isLanguageChangingTo===e&&(a(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,n.resolve((...h)=>this.t(...h)),r&&r(c,(...h)=>this.t(...h))},o=c=>{!e&&!c&&this.services.languageDetector&&(c=[]);const d=qt(c)?c:c&&c[0],h=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(qt(c)?[c]:c);h&&(this.language||a(h),this.translator.language||this.translator.changeLanguage(h),this.services.languageDetector?.cacheUserLanguage?.(h)),this.loadResources(h,m=>{i(m,h)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),n}getFixedT(e,r,n){const a=(i,o,...c)=>{let d;typeof o!="object"?d=this.options.overloadTranslationOptionHandler([i,o].concat(c)):d={...o},d.lng=d.lng||a.lng,d.lngs=d.lngs||a.lngs,d.ns=d.ns||a.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||n||a.keyPrefix);const h=this.options.keySeparator||".";let m;return d.keyPrefix&&Array.isArray(i)?m=i.map(f=>(typeof f=="function"&&(f=Y1(f,{...this.options,...o})),`${d.keyPrefix}${h}${f}`)):(typeof i=="function"&&(i=Y1(i,{...this.options,...o})),m=d.keyPrefix?`${d.keyPrefix}${h}${i}`:i),this.t(m,d)};return qt(e)?a.lng=e:a.lngs=e,a.ns=r,a.keyPrefix=n,a}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const o=(c,d)=>{const h=this.services.backendConnector.state[`${c}|${d}`];return h===-1||h===0||h===2};if(r.precheck){const c=r.precheck(this,o);if(c!==void 0)return c}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(n,e)&&(!a||o(i,e)))}loadNamespaces(e,r){const n=vf();return this.options.ns?(qt(e)&&(e=[e]),e.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{n.resolve(),r&&r(a)}),n):(r&&r(),Promise.resolve())}loadLanguages(e,r){const n=vf();qt(e)&&(e=[e]);const a=this.options.preload||[],i=e.filter(o=>a.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=a.concat(i),this.loadResources(o=>{n.resolve(),r&&r(o)}),n):(r&&r(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const a=new Intl.Locale(e);if(a&&a.getTextInfo){const i=a.getTextInfo();if(i&&i.direction)return i.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services?.languageUtils||new lE(mE());return e.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},r){const n=new Kf(e,r);return n.createInstance=Kf.createInstance,n}cloneInstance(e={},r=yg){const n=e.forkResourceStore;n&&delete e.forkResourceStore;const a={...this.options,...e,isClone:!0},i=new Kf(a);if((e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(c=>{i[c]=this[c]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},n){const c=Object.keys(this.store.data).reduce((d,h)=>(d[h]={...this.store.data[h]},d[h]=Object.keys(d[h]).reduce((m,f)=>(m[f]={...d[h][f]},m),d[h]),d),{});i.store=new iE(c,a),i.services.resourceStore=i.store}return e.interpolation&&(i.services.interpolator=new hE(a)),i.translator=new Dx(i.services,a),i.translator.on("*",(c,...d)=>{i.emit(c,...d)}),i.init(a,r),i.translator.options=a,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const En=Kf.createInstance();En.createInstance;En.dir;En.init;En.loadResources;En.reloadResources;En.use;En.changeLanguage;En.getFixedT;En.t;En.exists;En.setDefaultNamespace;En.hasLoadedNamespace;En.loadNamespaces;En.loadLanguages;const sU=(t,e,r,n)=>{const a=[r,{code:e,...n||{}}];if(t?.services?.logger?.forward)return t.services.logger.forward(a,"warn","react-i18next::",!0);gd(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),t?.services?.logger?.warn?t.services.logger.warn(...a):console?.warn&&console.warn(...a)},gE={},a6=(t,e,r,n)=>{gd(r)&&gE[r]||(gd(r)&&(gE[r]=new Date),sU(t,e,r,n))},i6=(t,e)=>()=>{if(t.isInitialized)e();else{const r=()=>{setTimeout(()=>{t.off("initialized",r)},0),e()};t.on("initialized",r)}},K1=(t,e,r)=>{t.loadNamespaces(e,i6(t,r))},xE=(t,e,r,n)=>{if(gd(r)&&(r=[r]),t.options.preload&&t.options.preload.indexOf(e)>-1)return K1(t,r,n);r.forEach(a=>{t.options.ns.indexOf(a)<0&&t.options.ns.push(a)}),t.loadLanguages(e,i6(t,n))},rU=(t,e,r={})=>!e.languages||!e.languages.length?(a6(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:r.lng,precheck:(n,a)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!a(n.isLanguageChangingTo,t))return!1}}),gd=t=>typeof t=="string",nU=t=>typeof t=="object"&&t!==null,aU=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,iU={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},oU=t=>iU[t],lU=t=>t.replace(aU,oU);let X1={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:lU};const cU=(t={})=>{X1={...X1,...t}},dU=()=>X1;let o6;const uU=t=>{o6=t},hU=()=>o6,fU={type:"3rdParty",init(t){cU(t.options.react),uU(t)}},mU=j.createContext();class pU{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var $v={exports:{}},Vv={};var yE;function gU(){if(yE)return Vv;yE=1;var t=N0();function e(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,a=t.useEffect,i=t.useLayoutEffect,o=t.useDebugValue;function c(f,g){var y=g(),v=n({inst:{value:y,getSnapshot:g}}),w=v[0].inst,_=v[1];return i(function(){w.value=y,w.getSnapshot=g,d(w)&&_({inst:w})},[f,y,g]),a(function(){return d(w)&&_({inst:w}),f(function(){d(w)&&_({inst:w})})},[f]),o(y),y}function d(f){var g=f.getSnapshot;f=f.value;try{var y=g();return!r(f,y)}catch{return!0}}function h(f,g){return g()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return Vv.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,Vv}var bE;function xU(){return bE||(bE=1,$v.exports=gU()),$v.exports}var yU=xU();const bU=(t,e)=>gd(e)?e:nU(e)&&gd(e.defaultValue)?e.defaultValue:Array.isArray(t)?t[t.length-1]:t,vU={t:bU,ready:!1},wU=()=>()=>{},jU=(t,e={})=>{const{i18n:r}=e,{i18n:n,defaultNS:a}=j.useContext(mU)||{},i=r||n||hU();i&&!i.reportNamespaces&&(i.reportNamespaces=new pU),i||a6(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const o=j.useMemo(()=>({...dU(),...i?.options?.react,...e}),[i,e]),{useSuspense:c,keyPrefix:d}=o,h=a||i?.options?.defaultNS,m=gd(h)?[h]:h||["translation"],f=j.useMemo(()=>m,m);i?.reportNamespaces?.addUsedNamespaces?.(f);const g=j.useRef(0),y=j.useCallback(T=>{if(!i)return wU;const{bindI18n:ne,bindI18nStore:q}=o,F=()=>{g.current+=1,T()};return ne&&i.on(ne,F),q&&i.store.on(q,F),()=>{ne&&ne.split(" ").forEach(Y=>i.off(Y,F)),q&&q.split(" ").forEach(Y=>i.store.off(Y,F))}},[i,o]),v=j.useRef(),w=j.useCallback(()=>{if(!i)return vU;const T=!!(i.isInitialized||i.initializedStoreOnce)&&f.every(se=>rU(se,i,o)),ne=e.lng||i.language,q=g.current,F=v.current;if(F&&F.ready===T&&F.lng===ne&&F.keyPrefix===d&&F.revision===q)return F;const O={t:i.getFixedT(ne,o.nsMode==="fallback"?f:f[0],d),ready:T,lng:ne,keyPrefix:d,revision:q};return v.current=O,O},[i,f,d,o,e.lng]),[_,b]=j.useState(0),{t:N,ready:k}=yU.useSyncExternalStore(y,w,w);j.useEffect(()=>{if(i&&!k&&!c){const T=()=>b(ne=>ne+1);e.lng?xE(i,e.lng,f,T):K1(i,f,T)}},[i,e.lng,f,k,c,_]);const S=i||{},C=j.useRef(null),I=j.useRef(),E=T=>{const ne=Object.getOwnPropertyDescriptors(T);ne.__original&&delete ne.__original;const q=Object.create(Object.getPrototypeOf(T),ne);if(!Object.prototype.hasOwnProperty.call(q,"__original"))try{Object.defineProperty(q,"__original",{value:T,writable:!1,enumerable:!1,configurable:!1})}catch{}return q},U=j.useMemo(()=>{const T=S,ne=T?.language;let q=T;T&&(C.current&&C.current.__original===T?I.current!==ne?(q=E(T),C.current=q,I.current=ne):q=C.current:(q=E(T),C.current=q,I.current=ne));const F=[N,q,k];return F.t=N,F.i18n=q,F.ready=k,F},[N,S,k,S.resolvedLanguage,S.language,S.languages]);if(i&&c&&!k)throw new Promise(T=>{const ne=()=>T();e.lng?xE(i,e.lng,f,ne):K1(i,f,ne)});return U},{slice:_U,forEach:NU}=[];function SU(t){return NU.call(_U.call(arguments,1),e=>{if(e)for(const r in e)t[r]===void 0&&(t[r]=e[r])}),t}function kU(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(r=>r.test(t))}const vE=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,CU=function(t,e){const n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},a=encodeURIComponent(e);let i=`${t}=${a}`;if(n.maxAge>0){const o=n.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");i+=`; Max-Age=${Math.floor(o)}`}if(n.domain){if(!vE.test(n.domain))throw new TypeError("option domain is invalid");i+=`; Domain=${n.domain}`}if(n.path){if(!vE.test(n.path))throw new TypeError("option path is invalid");i+=`; Path=${n.path}`}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");i+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(i+="; HttpOnly"),n.secure&&(i+="; Secure"),n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(i+="; Partitioned"),i},wE={create(t,e,r,n){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+r*60*1e3)),n&&(a.domain=n),document.cookie=CU(t,e,a)},read(t){const e=`${t}=`,r=document.cookie.split(";");for(let n=0;n<r.length;n++){let a=r[n];for(;a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(e)===0)return a.substring(e.length,a.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var AU={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return wE.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:r,cookieMinutes:n,cookieDomain:a,cookieOptions:i}=e;r&&typeof document<"u"&&wE.create(r,t,n,a,i)}},EU={name:"querystring",lookup(t){let{lookupQuerystring:e}=t,r;if(typeof window<"u"){let{search:n}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));const i=n.substring(1).split("&");for(let o=0;o<i.length;o++){const c=i[o].indexOf("=");c>0&&i[o].substring(0,c)===e&&(r=i[o].substring(c+1))}}return r}},TU={name:"hash",lookup(t){let{lookupHash:e,lookupFromHashIndex:r}=t,n;if(typeof window<"u"){const{hash:a}=window.location;if(a&&a.length>2){const i=a.substring(1);if(e){const o=i.split("&");for(let c=0;c<o.length;c++){const d=o[c].indexOf("=");d>0&&o[c].substring(0,d)===e&&(n=o[c].substring(d+1))}}if(n)return n;if(!n&&r>-1){const o=a.match(/\/([a-zA-Z-]*)/g);return Array.isArray(o)?o[typeof r=="number"?r:0]?.replace("/",""):void 0}}}return n}};let hu=null;const jE=()=>{if(hu!==null)return hu;try{if(hu=typeof window<"u"&&window.localStorage!==null,!hu)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{hu=!1}return hu};var RU={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&jE())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:r}=e;r&&jE()&&window.localStorage.setItem(r,t)}};let fu=null;const _E=()=>{if(fu!==null)return fu;try{if(fu=typeof window<"u"&&window.sessionStorage!==null,!fu)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{fu=!1}return fu};var DU={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&_E())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:r}=e;r&&_E()&&window.sessionStorage.setItem(r,t)}},MU={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:r,userLanguage:n,language:a}=navigator;if(r)for(let i=0;i<r.length;i++)e.push(r[i]);n&&e.push(n),a&&e.push(a)}return e.length>0?e:void 0}},PU={name:"htmlTag",lookup(t){let{htmlTag:e}=t,r;const n=e||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(r=n.getAttribute("lang")),r}},OU={name:"path",lookup(t){let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(r)?r[typeof e=="number"?e:0]?.replace("/",""):void 0}},LU={name:"subdomain",lookup(t){let{lookupFromSubdomainIndex:e}=t;const r=typeof e=="number"?e+1:1,n=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[r]}};let l6=!1;try{document.cookie,l6=!0}catch{}const c6=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];l6||c6.splice(1,1);const FU=()=>({order:c6,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class d6{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,r)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=SU(r,this.options||{},FU()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=a=>a.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(AU),this.addDetector(EU),this.addDetector(RU),this.addDetector(DU),this.addDetector(MU),this.addDetector(PU),this.addDetector(OU),this.addDetector(LU),this.addDetector(TU)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,r=[];return e.forEach(n=>{if(this.detectors[n]){let a=this.detectors[n].lookup(this.options);a&&typeof a=="string"&&(a=[a]),a&&(r=r.concat(a))}}),r=r.filter(n=>n!=null&&!kU(n)).map(n=>this.options.convertDetectedLanguage(n)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?r:r.length>0?r[0]:null}cacheUserLanguage(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||r.forEach(n=>{this.detectors[n]&&this.detectors[n].cacheUserLanguage(e,this.options)}))}}d6.type="languageDetector";const BU={name:"RENTO",tagline:"Your premium car rental experience"},IU={home:"Home",browseCars:"Browse Cars",about:"About",contact:"Contact",favorites:"Favorites",logout:"Logout",lightMode:"Light Mode",darkMode:"Dark Mode",myAccount:"My Account"},zU={badge:"Premium Car Rental Service",title:"Experience Luxury",titleAccent:"On Every Journey",description:"Discover Lebanons 10,000+ premium cars  the only platform with full search and filters.",searchBtn:"Search Available Cars",location:"Location",pickupDate:"Pickup Date",returnDate:"Return Date"},UU={customers:"Happy Customers",vehicles:"Luxury Vehicles",experience:"Years Experience",satisfaction:"Satisfaction Rate"},$U={badge:"Our Fleet",title:"Featured Luxury Vehicles",description:"Explore our handpicked selection of premium vehicles, ready to elevate your driving experience",viewAll:"View All Vehicles"},VU={badge:"Why Choose Us",title:"Premium Service, Unforgettable Experience",description:"We're committed to providing exceptional service and the finest vehicles for your journey",insurance:{title:"Premium Insurance",description:"Comprehensive coverage included with every rental for your peace of mind"},support:{title:"24/7 Support",description:"Round-the-clock customer service to assist you whenever you need"},price:{title:"Best Price Guarantee",description:"Competitive rates with no hidden fees or surprises"},fleet:{title:"Premium Fleet",description:"Exclusive selection of luxury and high-performance vehicles"}},HU={badge:"Testimonials",title:"What Our Customers Say",description:"Real experiences from our valued customers who trust us for their luxury car needs"},qU={title:"Ready to Experience Luxury?",description:"Book your dream car today and enjoy an unforgettable driving experience",browseFleet:"Browse Our Fleet",contactUs:"Contact Us"},WU={badge:"Browse Fleet",title:"Discover Your Perfect Ride",description:"Explore our premium collection of {{count}} luxury vehicles",showing:"Showing",vehicles:"vehicles",sortBy:"Sort by:",featured:"Featured",priceLow:"Price: Low to High",priceHigh:"Price: High to Low",rating:"Highest Rated",popular:"Most Popular",filters:"Filters",reset:"Reset",search:"Search",brand:"Brand",vehicleType:"Vehicle Type",transmission:"Transmission",priceRange:"Price Range",allBrands:"All Brands",allTypes:"All Types",all:"All",perDay:"/day",viewDetails:"View Details",noResults:"No vehicles found",tryAdjusting:"Try adjusting your filters to see more results",resetFilters:"Reset Filters"},GU={backToCars:"Back to Cars",rentalPrice:"Rental Price",bookNow:"Book Now",specifications:"Specifications",seats:"Seats",people:"People",fuelType:"Fuel Type",features:"Features & Amenities",reviews:"reviews"},YU={title:"Book {{car}}",description:"Fill in your details to complete the booking. We'll contact you to confirm.",fullName:"Full Name",email:"Email",phone:"Phone Number",pickupLocation:"Pickup Location",pickupDate:"Pickup Date",returnDate:"Return Date",dailyRate:"Daily Rate",duration:"Duration",day:"day",days:"days",totalPrice:"Total Price",confirmBooking:"Confirm Booking",success:"Booking confirmed for {{car}}! We'll contact you shortly."},KU={badge:"Favorites",title:"Your Favorite Vehicles",count:"You have {{count}} vehicle in your favorites",count_plural:"You have {{count}} vehicles in your favorites",empty:"No favorites yet. Start exploring our fleet!",emptyTitle:"No Favorites Yet",emptyDescription:"Start adding vehicles to your favorites to keep track of the cars you love. Click the heart icon on any vehicle card to add it here.",browseCars:"Browse Our Fleet"},XU={badge:"About Us",title:"Redefining Luxury Car Rental",description:"For over 15 years, RENTO has been the trusted name in premium vehicle rentals, providing discerning customers with access to the world's finest automobiles.",stats:{years:"Years in Business",customers:"Happy Customers",vehicles:"Premium Vehicles",cities:"Cities Covered"},story:{badge:"Our Story",title:"Passion for Automotive Excellence",p1:"RENTO was born from a simple vision: to make the world's most prestigious vehicles accessible to those who appreciate the finer things in life. Founded in 2008 by automotive enthusiasts, we've grown from a small boutique operation to a leading name in luxury car rentals.",p2:"Every vehicle in our fleet is carefully selected and maintained to the highest standards. We believe that driving a premium vehicle isn't just about transportationit's about experiencing craftsmanship, performance, and luxury in their purest forms.",p3:"Today, we're proud to serve thousands of satisfied customers across 25 cities, offering everything from exotic sports cars to elegant luxury sedans. Our commitment to excellence and customer satisfaction remains as strong as ever."},values:{badge:"Our Values",title:"What Drives Us Forward",description:"Our core values guide every decision we make and every service we provide",customer:{title:"Customer First",description:"Your satisfaction and experience are at the heart of everything we do"},trust:{title:"Trust & Safety",description:"Every vehicle is meticulously maintained and fully insured for your protection"},excellence:{title:"Excellence",description:"We strive for perfection in service quality and vehicle condition"},accessibility:{title:"Accessibility",description:"Premium vehicles available across multiple locations for your convenience"}},team:{badge:"Meet Our Team",title:"The People Behind the Wheels",description:"Our passionate team of automotive experts is dedicated to making your experience exceptional"},cta:{title:"Experience the RENTO Difference",description:"Join thousands of satisfied customers who trust us for their luxury vehicle needs"}},ZU={badge:"Contact Us",title:"Get in Touch",description:"Have questions? We're here to help. Reach out to our team for any inquiries about our vehicles or services.",visitUs:"Visit Us",callUs:"Call Us",emailUs:"Email Us",businessHours:"Business Hours",sendMessage:"Send Us a Message",name:"Full Name",email:"Email Address",phone:"Phone Number",subject:"Subject",message:"Message",send:"Send Message",success:"Message sent successfully! We'll get back to you soon.",locations:"Our Locations",faq:{badge:"FAQ",title:"Frequently Asked Questions",description:"Find quick answers to common questions about our services"}},QU={welcome:"Welcome",description:"Sign in to your account or create a new one",login:"Login",register:"Register",email:"Email",password:"Password",confirmPassword:"Confirm Password",fullName:"Full Name",phone:"Phone Number",rememberMe:"Remember me",forgotPassword:"Forgot password?",signIn:"Sign In",createAccount:"Create Account",orContinueWith:"OR CONTINUE WITH",google:"Google",apple:"Apple",continueAsGuest:"Continue as guest",terms:"By continuing, you agree to our",termsOfService:"Terms of Service",and:"and",privacyPolicy:"Privacy Policy",back:"Back",loginSuccess:"Welcome back! Login successful.",registerSuccess:"Account created successfully! Welcome to RENTO.",fillFields:"Please fill in all required fields",passwordMatch:"Passwords do not match",passwordLength:"Password must be at least 6 characters",logoutSuccess:"Logged out successfully"},JU={skip:"Skip",next:"Next",getStarted:"Get Started",of:"of",slides:{fleet:{title:"Premium Luxury Fleet",description:"Access the world's finest vehicles. From sports cars to luxury SUVs, find your perfect ride for any occasion."},safe:{title:"Safe & Secure",description:"Every vehicle is fully insured with comprehensive coverage. Drive with complete peace of mind."},support:{title:"24/7 Support",description:"Our dedicated team is always here to help. Book instantly and get support whenever you need it."},price:{title:"Best Price Guarantee",description:"Competitive rates with no hidden fees. Experience luxury without breaking the bank."}}},e$={from:"From",to:"to",popular:"Popular",sports:"Sports",luxury:"Luxury",electric:"Electric",suv:"SUV",sedan:"Sedan",convertible:"Convertible",automatic:"Automatic",manual:"Manual",petrol:"Petrol",diesel:"Diesel",hybrid:"Hybrid"},t$={brand:BU,nav:IU,hero:zU,stats:UU,featured:$U,features:VU,testimonials:HU,cta:qU,cars:WU,carDetail:GU,booking:YU,favorites:KU,about:XU,contact:ZU,auth:QU,intro:JU,common:e$},s$={name:"",tagline:"   "},r$={home:"",browseCars:" ",about:" ",contact:" ",favorites:"",logout:" ",lightMode:" ",darkMode:" ",myAccount:""},n$={badge:"   ",title:" ",titleAccent:"  ",description:"    .              .",searchBtn:"   ",location:"",pickupDate:" ",returnDate:" "},a$={customers:" ",vehicles:" ",experience:"  ",satisfaction:" "},i$={badge:"",title:"  ",description:"             ",viewAll:"  "},o$={badge:" ",title:"    ",description:"       ",insurance:{title:" ",description:"       "},support:{title:" 24/7",description:"       "},price:{title:"  ",description:"      "},fleet:{title:" ",description:"      "}},l$={badge:" ",title:"  ",description:"           "},c$={title:"    ",description:"        ",browseFleet:" ",contactUs:" "},d$={badge:" ",title:"  ",description:"    {{count}}  ",showing:"",vehicles:"",sortBy:" :",featured:"",priceLow:":   ",priceHigh:":   ",rating:" ",popular:" ",filters:"",reset:" ",search:"",brand:"",vehicleType:" ",transmission:" ",priceRange:" ",allBrands:" ",allTypes:" ",all:"",perDay:"/",viewDetails:" ",noResults:"    ",tryAdjusting:"      ",resetFilters:"  "},u$={backToCars:" ",rentalPrice:" ",bookNow:" ",specifications:"",seats:"",people:"",fuelType:" ",features:" ",reviews:""},h$={title:" {{car}}",description:"   .   .",fullName:" ",email:" ",phone:" ",pickupLocation:" ",pickupDate:" ",returnDate:" ",dailyRate:" ",duration:"",day:"",days:"",totalPrice:" ",confirmBooking:" ",success:"   {{car}}!   ."},f$={badge:"",title:" ",count:" {{count}}   ",count_plural:" {{count}}   ",empty:"   .   !",emptyTitle:"   ",emptyDescription:"        .          .",browseCars:" "},m$={badge:" ",title:"    ",description:"  15                    .",stats:{years:"  ",customers:" ",vehicles:" ",cities:" "},story:{badge:"",title:"    ",p1:"    :               .    2008               .",p2:"          .          -        .",p3:"        25            .          ."},values:{badge:"",title:"  ",description:"        ",customer:{title:" ",description:"       "},trust:{title:" ",description:"       "},excellence:{title:"",description:"      "},accessibility:{title:" ",description:"      "}},team:{badge:"  ",title:"  ",description:"        "},cta:{title:"  ",description:"           "}},p$={badge:" ",title:"  ",description:"     .         .",visitUs:" ",callUs:" ",emailUs:"",businessHours:" ",sendMessage:"  ",name:" ",email:" ",phone:" ",subject:"",message:"",send:" ",success:"   !   .",locations:"",faq:{badge:" ",title:" ",description:"       "}},g$={welcome:"",description:"       ",login:" ",register:" ",email:" ",password:" ",confirmPassword:"  ",fullName:" ",phone:" ",rememberMe:"",forgotPassword:"  ",signIn:" ",createAccount:" ",orContinueWith:"  ",google:"",apple:"",continueAsGuest:" ",terms:"   ",termsOfService:" ",and:"",privacyPolicy:" ",back:"",loginSuccess:" !    .",registerSuccess:"   !    .",fillFields:"    ",passwordMatch:"   ",passwordLength:"     6   ",logoutSuccess:"   "},x$={skip:"",next:"",getStarted:" ",of:"",slides:{fleet:{title:"  ",description:"     .              ."},safe:{title:" ",description:"      .     ."},support:{title:" 24/7",description:"    .       ."},price:{title:"  ",description:"    .     ."}}},y$={from:"",to:"",popular:"",sports:"",luxury:"",electric:"",suv:" ",sedan:"",convertible:" ",automatic:"",manual:"",petrol:"",diesel:"",hybrid:""},b$={brand:s$,nav:r$,hero:n$,stats:a$,featured:i$,features:o$,testimonials:l$,cta:c$,cars:d$,carDetail:u$,booking:h$,favorites:f$,about:m$,contact:p$,auth:g$,intro:x$,common:y$},v$={en:{translation:t$},ar:{translation:b$}};En.use(d6).use(fU).init({resources:v$,fallbackLng:"en",lng:localStorage.getItem("language")||"en",interpolation:{escapeValue:!1},react:{useSuspense:!1}});var NE="popstate";function w$(t={}){function e(n,a){let{pathname:i,search:o,hash:c}=n.location;return Z1("",{pathname:i,search:o,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:om(a)}return _$(e,r,null,t)}function ir(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function ga(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function j$(){return Math.random().toString(36).substring(2,10)}function SE(t,e){return{usr:t.state,key:t.key,idx:e}}function Z1(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?nh(e):e,state:r,key:e&&e.key||n||j$()}}function om({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function nh(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function _$(t,e,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,c="POP",d=null,h=m();h==null&&(h=0,o.replaceState({...o.state,idx:h},""));function m(){return(o.state||{idx:null}).idx}function f(){c="POP";let _=m(),b=_==null?null:_-h;h=_,d&&d({action:c,location:w.location,delta:b})}function g(_,b){c="PUSH";let N=Z1(w.location,_,b);h=m()+1;let k=SE(N,h),S=w.createHref(N);try{o.pushState(k,"",S)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(S)}i&&d&&d({action:c,location:w.location,delta:1})}function y(_,b){c="REPLACE";let N=Z1(w.location,_,b);h=m();let k=SE(N,h),S=w.createHref(N);o.replaceState(k,"",S),i&&d&&d({action:c,location:w.location,delta:0})}function v(_){return N$(_)}let w={get action(){return c},get location(){return t(a,o)},listen(_){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(NE,f),d=_,()=>{a.removeEventListener(NE,f),d=null}},createHref(_){return e(a,_)},createURL:v,encodeLocation(_){let b=v(_);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:g,replace:y,go(_){return o.go(_)}};return w}function N$(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),ir(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:om(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function u6(t,e,r="/"){return S$(t,e,r,!1)}function S$(t,e,r,n){let a=typeof e=="string"?nh(e):e,i=Bo(a.pathname||"/",r);if(i==null)return null;let o=h6(t);k$(o);let c=null;for(let d=0;c==null&&d<o.length;++d){let h=F$(i);c=O$(o[d],h,n)}return c}function h6(t,e=[],r=[],n="",a=!1){let i=(o,c,d=a,h)=>{let m={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(n)&&d)return;ir(m.relativePath.startsWith(n),`Absolute route path "${m.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(n.length)}let f=Lo([n,m.relativePath]),g=r.concat(m);o.children&&o.children.length>0&&(ir(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),h6(o.children,e,g,f,d)),!(o.path==null&&!o.index)&&e.push({path:f,score:M$(f,o.index),routesMeta:g})};return t.forEach((o,c)=>{if(o.path===""||!o.path?.includes("?"))i(o,c);else for(let d of f6(o.path))i(o,c,!0,d)}),e}function f6(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=f6(n.join("/")),c=[];return c.push(...o.map(d=>d===""?i:[i,d].join("/"))),a&&c.push(...o),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function k$(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:P$(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var C$=/^:[\w-]+$/,A$=3,E$=2,T$=1,R$=10,D$=-2,kE=t=>t==="*";function M$(t,e){let r=t.split("/"),n=r.length;return r.some(kE)&&(n+=D$),e&&(n+=E$),r.filter(a=>!kE(a)).reduce((a,i)=>a+(C$.test(i)?A$:i===""?T$:R$),n)}function P$(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function O$(t,e,r=!1){let{routesMeta:n}=t,a={},i="/",o=[];for(let c=0;c<n.length;++c){let d=n[c],h=c===n.length-1,m=i==="/"?e:e.slice(i.length)||"/",f=Mx({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},m),g=d.route;if(!f&&h&&r&&!n[n.length-1].route.index&&(f=Mx({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Lo([i,f.pathname]),pathnameBase:U$(Lo([i,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(i=Lo([i,f.pathnameBase]))}return o}function Mx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=L$(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:n.reduce((h,{paramName:m,isOptional:f},g)=>{if(m==="*"){let v=c[g]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const y=c[g];return f&&!y?h[m]=void 0:h[m]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:o,pattern:t}}function L$(t,e=!1,r=!0){ga(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,d)=>(n.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function F$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return ga(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Bo(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}var m6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,B$=t=>m6.test(t);function I$(t,e="/"){let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?nh(t):t,i;if(r)if(B$(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),ga(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${r}`)}r.startsWith("/")?i=CE(r.substring(1),"/"):i=CE(r,e)}else i=e;return{pathname:i,search:$$(n),hash:V$(a)}}function CE(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Hv(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function z$(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function pN(t){let e=z$(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function gN(t,e,r,n=!1){let a;typeof t=="string"?a=nh(t):(a={...t},ir(!a.pathname||!a.pathname.includes("?"),Hv("?","pathname","search",a)),ir(!a.pathname||!a.pathname.includes("#"),Hv("#","pathname","hash",a)),ir(!a.search||!a.search.includes("#"),Hv("#","search","hash",a)));let i=t===""||a.pathname==="",o=i?"/":a.pathname,c;if(o==null)c=r;else{let f=e.length-1;if(!n&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),f-=1;a.pathname=g.join("/")}c=f>=0?e[f]:"/"}let d=I$(a,c),h=o&&o!=="/"&&o.endsWith("/"),m=(i||o===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(h||m)&&(d.pathname+="/"),d}var Lo=t=>t.join("/").replace(/\/\/+/g,"/"),U$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),$$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,V$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,H$=class{constructor(t,e,r,n=!1){this.status=t,this.statusText=e||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function q$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function W$(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var p6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function g6(t,e){let r=t;if(typeof r!="string"||!m6.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,a=!1;if(p6)try{let i=new URL(window.location.href),o=r.startsWith("//")?new URL(i.protocol+r):new URL(r),c=Bo(o.pathname,e);o.origin===i.origin&&c!=null?r=c+o.search+o.hash:a=!0}catch{ga(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:a,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var x6=["POST","PUT","PATCH","DELETE"];new Set(x6);var G$=["GET",...x6];new Set(G$);var ah=j.createContext(null);ah.displayName="DataRouter";var k0=j.createContext(null);k0.displayName="DataRouterState";var Y$=j.createContext(!1),y6=j.createContext({isTransitioning:!1});y6.displayName="ViewTransition";var K$=j.createContext(new Map);K$.displayName="Fetchers";var X$=j.createContext(null);X$.displayName="Await";var ya=j.createContext(null);ya.displayName="Navigation";var Am=j.createContext(null);Am.displayName="Location";var Ha=j.createContext({outlet:null,matches:[],isDataRoute:!1});Ha.displayName="Route";var xN=j.createContext(null);xN.displayName="RouteError";var b6="REACT_ROUTER_ERROR",Z$="REDIRECT",Q$="ROUTE_ERROR_RESPONSE";function J$(t){if(t.startsWith(`${b6}:${Z$}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function eV(t){if(t.startsWith(`${b6}:${Q$}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new H$(e.status,e.statusText,e.data)}catch{}}function tV(t,{relative:e}={}){ir(ih(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=j.useContext(ya),{hash:a,pathname:i,search:o}=Em(t,{relative:e}),c=i;return r!=="/"&&(c=i==="/"?r:Lo([r,i])),n.createHref({pathname:c,search:o,hash:a})}function ih(){return j.useContext(Am)!=null}function ba(){return ir(ih(),"useLocation() may be used only in the context of a <Router> component."),j.useContext(Am).location}var v6="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function w6(t){j.useContext(ya).static||j.useLayoutEffect(t)}function Ur(){let{isDataRoute:t}=j.useContext(Ha);return t?xV():sV()}function sV(){ir(ih(),"useNavigate() may be used only in the context of a <Router> component.");let t=j.useContext(ah),{basename:e,navigator:r}=j.useContext(ya),{matches:n}=j.useContext(Ha),{pathname:a}=ba(),i=JSON.stringify(pN(n)),o=j.useRef(!1);return w6(()=>{o.current=!0}),j.useCallback((d,h={})=>{if(ga(o.current,v6),!o.current)return;if(typeof d=="number"){r.go(d);return}let m=gN(d,JSON.parse(i),a,h.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Lo([e,m.pathname])),(h.replace?r.replace:r.push)(m,h.state,h)},[e,r,i,a,t])}var rV=j.createContext(null);function nV(t){let e=j.useContext(Ha).outlet;return j.useMemo(()=>e&&j.createElement(rV.Provider,{value:t},e),[e,t])}function aV(){let{matches:t}=j.useContext(Ha),e=t[t.length-1];return e?e.params:{}}function Em(t,{relative:e}={}){let{matches:r}=j.useContext(Ha),{pathname:n}=ba(),a=JSON.stringify(pN(r));return j.useMemo(()=>gN(t,JSON.parse(a),n,e==="path"),[t,a,n,e])}function iV(t,e){return j6(t,e)}function j6(t,e,r,n,a){ir(ih(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=j.useContext(ya),{matches:o}=j.useContext(Ha),c=o[o.length-1],d=c?c.params:{},h=c?c.pathname:"/",m=c?c.pathnameBase:"/",f=c&&c.route;{let N=f&&f.path||"";N6(h,!f||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let g=ba(),y;if(e){let N=typeof e=="string"?nh(e):e;ir(m==="/"||N.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${N.pathname}" was given in the \`location\` prop.`),y=N}else y=g;let v=y.pathname||"/",w=v;if(m!=="/"){let N=m.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(N.length).join("/")}let _=u6(t,{pathname:w});ga(f||_!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),ga(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=uV(_&&_.map(N=>Object.assign({},N,{params:Object.assign({},d,N.params),pathname:Lo([m,i.encodeLocation?i.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?m:Lo([m,i.encodeLocation?i.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),o,r,n,a);return e&&b?j.createElement(Am.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},b):b}function oV(){let t=gV(),e=q$(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=j.createElement(j.Fragment,null,j.createElement("p",null," Hey developer "),j.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",j.createElement("code",{style:i},"ErrorBoundary")," or"," ",j.createElement("code",{style:i},"errorElement")," prop on your route.")),j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),r?j.createElement("pre",{style:a},r):null,o)}var lV=j.createElement(oV,null),_6=class extends j.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const r=eV(t.digest);r&&(t=r)}let e=t!==void 0?j.createElement(Ha.Provider,{value:this.props.routeContext},j.createElement(xN.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?j.createElement(cV,{error:t},e):e}};_6.contextType=Y$;var qv=new WeakMap;function cV({children:t,error:e}){let{basename:r}=j.useContext(ya);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let n=J$(e.digest);if(n){let a=qv.get(e);if(a)throw a;let i=g6(n.location,r);if(p6&&!qv.get(e))if(i.isExternal||n.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:n.replace}));throw qv.set(e,o),o}return j.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return t}function dV({routeContext:t,match:e,children:r}){let n=j.useContext(ah);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),j.createElement(Ha.Provider,{value:t},r)}function uV(t,e=[],r=null,n=null,a=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,o=r?.errors;if(o!=null){let m=i.findIndex(f=>f.route.id&&o?.[f.route.id]!==void 0);ir(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,m+1))}let c=!1,d=-1;if(r)for(let m=0;m<i.length;m++){let f=i[m];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=m),f.route.id){let{loaderData:g,errors:y}=r,v=f.route.loader&&!g.hasOwnProperty(f.route.id)&&(!y||y[f.route.id]===void 0);if(f.route.lazy||v){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}let h=r&&n?(m,f)=>{n(m,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:W$(r.matches),errorInfo:f})}:void 0;return i.reduceRight((m,f,g)=>{let y,v=!1,w=null,_=null;r&&(y=o&&f.route.id?o[f.route.id]:void 0,w=f.route.errorElement||lV,c&&(d<0&&g===0?(N6("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,_=null):d===g&&(v=!0,_=f.route.hydrateFallbackElement||null)));let b=e.concat(i.slice(0,g+1)),N=()=>{let k;return y?k=w:v?k=_:f.route.Component?k=j.createElement(f.route.Component,null):f.route.element?k=f.route.element:k=m,j.createElement(dV,{match:f,routeContext:{outlet:m,matches:b,isDataRoute:r!=null},children:k})};return r&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?j.createElement(_6,{location:r.location,revalidation:r.revalidation,component:w,error:y,children:N(),routeContext:{outlet:null,matches:b,isDataRoute:!0},onError:h}):N()},null)}function yN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function hV(t){let e=j.useContext(ah);return ir(e,yN(t)),e}function fV(t){let e=j.useContext(k0);return ir(e,yN(t)),e}function mV(t){let e=j.useContext(Ha);return ir(e,yN(t)),e}function bN(t){let e=mV(t),r=e.matches[e.matches.length-1];return ir(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function pV(){return bN("useRouteId")}function gV(){let t=j.useContext(xN),e=fV("useRouteError"),r=bN("useRouteError");return t!==void 0?t:e.errors?.[r]}function xV(){let{router:t}=hV("useNavigate"),e=bN("useNavigate"),r=j.useRef(!1);return w6(()=>{r.current=!0}),j.useCallback(async(a,i={})=>{ga(r.current,v6),r.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...i}))},[t,e])}var AE={};function N6(t,e,r){!e&&!AE[t]&&(AE[t]=!0,ga(!1,r))}j.memo(yV);function yV({routes:t,future:e,state:r,onError:n}){return j6(t,void 0,r,n,e)}function Fo({to:t,replace:e,state:r,relative:n}){ir(ih(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=j.useContext(ya);ga(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=j.useContext(Ha),{pathname:o}=ba(),c=Ur(),d=gN(t,pN(i),o,n==="path"),h=JSON.stringify(d);return j.useEffect(()=>{c(JSON.parse(h),{replace:e,state:r,relative:n})},[c,h,n,e,r]),null}function bV(t){return nV(t.context)}function It(t){ir(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function vV({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:a,static:i=!1,unstable_useTransitions:o}){ir(!ih(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=j.useMemo(()=>({basename:c,navigator:a,static:i,unstable_useTransitions:o,future:{}}),[c,a,i,o]);typeof r=="string"&&(r=nh(r));let{pathname:h="/",search:m="",hash:f="",state:g=null,key:y="default"}=r,v=j.useMemo(()=>{let w=Bo(h,c);return w==null?null:{location:{pathname:w,search:m,hash:f,state:g,key:y},navigationType:n}},[c,h,m,f,g,y,n]);return ga(v!=null,`<Router basename="${c}"> is not able to match the URL "${h}${m}${f}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:j.createElement(ya.Provider,{value:d},j.createElement(Am.Provider,{children:e,value:v}))}function wV({children:t,location:e}){return iV(Q1(t),e)}function Q1(t,e=[]){let r=[];return j.Children.forEach(t,(n,a)=>{if(!j.isValidElement(n))return;let i=[...e,a];if(n.type===j.Fragment){r.push.apply(r,Q1(n.props.children,i));return}ir(n.type===It,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ir(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=Q1(n.props.children,i)),r.push(o)}),r}var fx="get",mx="application/x-www-form-urlencoded";function C0(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function jV(t){return C0(t)&&t.tagName.toLowerCase()==="button"}function _V(t){return C0(t)&&t.tagName.toLowerCase()==="form"}function NV(t){return C0(t)&&t.tagName.toLowerCase()==="input"}function SV(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function kV(t,e){return t.button===0&&(!e||e==="_self")&&!SV(t)}function J1(t=""){return new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(a=>[r,a]):[[r,n]])},[]))}function CV(t,e){let r=J1(t);return e&&e.forEach((n,a)=>{r.has(a)||e.getAll(a).forEach(i=>{r.append(a,i)})}),r}var bg=null;function AV(){if(bg===null)try{new FormData(document.createElement("form"),0),bg=!1}catch{bg=!0}return bg}var EV=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Wv(t){return t!=null&&!EV.has(t)?(ga(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${mx}"`),null):t}function TV(t,e){let r,n,a,i,o;if(_V(t)){let c=t.getAttribute("action");n=c?Bo(c,e):null,r=t.getAttribute("method")||fx,a=Wv(t.getAttribute("enctype"))||mx,i=new FormData(t)}else if(jV(t)||NV(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(n=d?Bo(d,e):null,r=t.getAttribute("formmethod")||c.getAttribute("method")||fx,a=Wv(t.getAttribute("formenctype"))||Wv(c.getAttribute("enctype"))||mx,i=new FormData(c,t),!AV()){let{name:h,type:m,value:f}=t;if(m==="image"){let g=h?`${h}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else h&&i.append(h,f)}}else{if(C0(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=fx,n=null,a=mx,o=t}return i&&a==="text/plain"&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function vN(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function RV(t,e,r,n){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${n}`:a.pathname=`${a.pathname}.${n}`:a.pathname==="/"?a.pathname=`_root.${n}`:e&&Bo(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function DV(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function MV(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function PV(t,e,r){let n=await Promise.all(t.map(async a=>{let i=e.routes[a.route.id];if(i){let o=await DV(i,r);return o.links?o.links():[]}return[]}));return BV(n.flat(1).filter(MV).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function EE(t,e,r,n,a,i){let o=(d,h)=>r[h]?d.route.id!==r[h].route.id:!0,c=(d,h)=>r[h].pathname!==d.pathname||r[h].route.path?.endsWith("*")&&r[h].params["*"]!==d.params["*"];return i==="assets"?e.filter((d,h)=>o(d,h)||c(d,h)):i==="data"?e.filter((d,h)=>{let m=n.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(o(d,h)||c(d,h))return!0;if(d.route.shouldRevalidate){let f=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function OV(t,e,{includeHydrateFallback:r}={}){return LV(t.map(n=>{let a=e.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function LV(t){return[...new Set(t)]}function FV(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function BV(t,e){let r=new Set;return new Set(e),t.reduce((n,a)=>{let i=JSON.stringify(FV(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}function S6(){let t=j.useContext(ah);return vN(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function IV(){let t=j.useContext(k0);return vN(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var wN=j.createContext(void 0);wN.displayName="FrameworkContext";function k6(){let t=j.useContext(wN);return vN(t,"You must render this element inside a <HydratedRouter> element"),t}function zV(t,e){let r=j.useContext(wN),[n,a]=j.useState(!1),[i,o]=j.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:h,onMouseLeave:m,onTouchStart:f}=e,g=j.useRef(null);j.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let w=b=>{b.forEach(N=>{o(N.isIntersecting)})},_=new IntersectionObserver(w,{threshold:.5});return g.current&&_.observe(g.current),()=>{_.disconnect()}}},[t]),j.useEffect(()=>{if(n){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[n]);let y=()=>{a(!0)},v=()=>{a(!1),o(!1)};return r?t!=="intent"?[i,g,{}]:[i,g,{onFocus:wf(c,y),onBlur:wf(d,v),onMouseEnter:wf(h,y),onMouseLeave:wf(m,v),onTouchStart:wf(f,y)}]:[!1,g,{}]}function wf(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function UV({page:t,...e}){let{router:r}=S6(),n=j.useMemo(()=>u6(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?j.createElement(VV,{page:t,matches:n,...e}):null}function $V(t){let{manifest:e,routeModules:r}=k6(),[n,a]=j.useState([]);return j.useEffect(()=>{let i=!1;return PV(t,e,r).then(o=>{i||a(o)}),()=>{i=!0}},[t,e,r]),n}function VV({page:t,matches:e,...r}){let n=ba(),{future:a,manifest:i,routeModules:o}=k6(),{basename:c}=S6(),{loaderData:d,matches:h}=IV(),m=j.useMemo(()=>EE(t,e,h,i,n,"data"),[t,e,h,i,n]),f=j.useMemo(()=>EE(t,e,h,i,n,"assets"),[t,e,h,i,n]),g=j.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let w=new Set,_=!1;if(e.forEach(N=>{let k=i.routes[N.route.id];!k||!k.hasLoader||(!m.some(S=>S.route.id===N.route.id)&&N.route.id in d&&o[N.route.id]?.shouldRevalidate||k.hasClientLoader?_=!0:w.add(N.route.id))}),w.size===0)return[];let b=RV(t,c,a.unstable_trailingSlashAwareDataRequests,"data");return _&&w.size>0&&b.searchParams.set("_routes",e.filter(N=>w.has(N.route.id)).map(N=>N.route.id).join(",")),[b.pathname+b.search]},[c,a.unstable_trailingSlashAwareDataRequests,d,n,i,m,e,t,o]),y=j.useMemo(()=>OV(f,i),[f,i]),v=$V(f);return j.createElement(j.Fragment,null,g.map(w=>j.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),y.map(w=>j.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),v.map(({key:w,link:_})=>j.createElement("link",{key:w,nonce:r.nonce,..._})))}function HV(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var qV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{qV&&(window.__reactRouterVersion="7.12.0")}catch{}function WV({basename:t,children:e,unstable_useTransitions:r,window:n}){let a=j.useRef();a.current==null&&(a.current=w$({window:n,v5Compat:!0}));let i=a.current,[o,c]=j.useState({action:i.action,location:i.location}),d=j.useCallback(h=>{r===!1?c(h):j.startTransition(()=>c(h))},[r]);return j.useLayoutEffect(()=>i.listen(d),[i,d]),j.createElement(vV,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i,unstable_useTransitions:r})}var C6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Us=j.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:o,state:c,target:d,to:h,preventScrollReset:m,viewTransition:f,unstable_defaultShouldRevalidate:g,...y},v){let{basename:w,unstable_useTransitions:_}=j.useContext(ya),b=typeof h=="string"&&C6.test(h),N=g6(h,w);h=N.to;let k=tV(h,{relative:a}),[S,C,I]=zV(n,y),E=KV(h,{replace:o,state:c,target:d,preventScrollReset:m,relative:a,viewTransition:f,unstable_defaultShouldRevalidate:g,unstable_useTransitions:_});function U(ne){e&&e(ne),ne.defaultPrevented||E(ne)}let T=j.createElement("a",{...y,...I,href:N.absoluteURL||k,onClick:N.isExternal||i?e:U,ref:HV(v,C),target:d,"data-discover":!b&&r==="render"?"true":void 0});return S&&!b?j.createElement(j.Fragment,null,T,j.createElement(UV,{page:k})):T});Us.displayName="Link";var A6=j.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:o,viewTransition:c,children:d,...h},m){let f=Em(o,{relative:h.relative}),g=ba(),y=j.useContext(k0),{navigator:v,basename:w}=j.useContext(ya),_=y!=null&&tH(f)&&c===!0,b=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,N=g.pathname,k=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(N=N.toLowerCase(),k=k?k.toLowerCase():null,b=b.toLowerCase()),k&&w&&(k=Bo(k,w)||k);const S=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let C=N===b||!a&&N.startsWith(b)&&N.charAt(S)==="/",I=k!=null&&(k===b||!a&&k.startsWith(b)&&k.charAt(b.length)==="/"),E={isActive:C,isPending:I,isTransitioning:_},U=C?e:void 0,T;typeof n=="function"?T=n(E):T=[n,C?"active":null,I?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let ne=typeof i=="function"?i(E):i;return j.createElement(Us,{...h,"aria-current":U,className:T,ref:m,style:ne,to:o,viewTransition:c},typeof d=="function"?d(E):d)});A6.displayName="NavLink";var GV=j.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:a,state:i,method:o=fx,action:c,onSubmit:d,relative:h,preventScrollReset:m,viewTransition:f,unstable_defaultShouldRevalidate:g,...y},v)=>{let{unstable_useTransitions:w}=j.useContext(ya),_=JV(),b=eH(c,{relative:h}),N=o.toLowerCase()==="get"?"get":"post",k=typeof c=="string"&&C6.test(c),S=C=>{if(d&&d(C),C.defaultPrevented)return;C.preventDefault();let I=C.nativeEvent.submitter,E=I?.getAttribute("formmethod")||o,U=()=>_(I||C.currentTarget,{fetcherKey:e,method:E,navigate:r,replace:a,state:i,relative:h,preventScrollReset:m,viewTransition:f,unstable_defaultShouldRevalidate:g});w&&r!==!1?j.startTransition(()=>U()):U()};return j.createElement("form",{ref:v,method:N,action:b,onSubmit:n?d:S,...y,"data-discover":!k&&t==="render"?"true":void 0})});GV.displayName="Form";function YV(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function E6(t){let e=j.useContext(ah);return ir(e,YV(t)),e}function KV(t,{target:e,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:c,unstable_useTransitions:d}={}){let h=Ur(),m=ba(),f=Em(t,{relative:i});return j.useCallback(g=>{if(kV(g,e)){g.preventDefault();let y=r!==void 0?r:om(m)===om(f),v=()=>h(t,{replace:y,state:n,preventScrollReset:a,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:c});d?j.startTransition(()=>v()):v()}},[m,h,f,r,n,e,t,a,i,o,c,d])}function XV(t){ga(typeof URLSearchParams<"u","You cannot use the `useSearchParams` hook in a browser that does not support the URLSearchParams API. If you need to support Internet Explorer 11, we recommend you load a polyfill such as https://github.com/ungap/url-search-params.");let e=j.useRef(J1(t)),r=j.useRef(!1),n=ba(),a=j.useMemo(()=>CV(n.search,r.current?null:e.current),[n.search]),i=Ur(),o=j.useCallback((c,d)=>{const h=J1(typeof c=="function"?c(new URLSearchParams(a)):c);r.current=!0,i("?"+h,d)},[i,a]);return[a,o]}var ZV=0,QV=()=>`__${String(++ZV)}__`;function JV(){let{router:t}=E6("useSubmit"),{basename:e}=j.useContext(ya),r=pV(),n=t.fetch,a=t.navigate;return j.useCallback(async(i,o={})=>{let{action:c,method:d,encType:h,formData:m,body:f}=TV(i,e);if(o.navigate===!1){let g=o.fetcherKey||QV();await n(g,r,o.action||c,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:m,body:f,formMethod:o.method||d,formEncType:o.encType||h,flushSync:o.flushSync})}else await a(o.action||c,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:m,body:f,formMethod:o.method||d,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,a,e,r])}function eH(t,{relative:e}={}){let{basename:r}=j.useContext(ya),n=j.useContext(Ha);ir(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...Em(t||".",{relative:e})},o=ba();if(t==null){i.search=o.search;let c=new URLSearchParams(i.search),d=c.getAll("index");if(d.some(m=>m==="")){c.delete("index"),d.filter(f=>f).forEach(f=>c.append("index",f));let m=c.toString();i.search=m?`?${m}`:""}}return(!t||t===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:Lo([r,i.pathname])),om(i)}function tH(t,{relative:e}={}){let r=j.useContext(y6);ir(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=E6("useViewTransitionState"),a=Em(t,{relative:e});if(!r.isTransitioning)return!1;let i=Bo(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Bo(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Mx(a.pathname,o)!=null||Mx(a.pathname,i)!=null}var Tm=t6();const T6=_0(Tm);var sH=(t,e,r,n,a,i,o,c)=>{let d=document.documentElement,h=["light","dark"];function m(y){(Array.isArray(t)?t:[t]).forEach(v=>{let w=v==="class",_=w&&i?a.map(b=>i[b]||b):a;w?(d.classList.remove(..._),d.classList.add(i&&i[y]?i[y]:y)):d.setAttribute(v,y)}),f(y)}function f(y){c&&h.includes(y)&&(d.style.colorScheme=y)}function g(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)m(n);else try{let y=localStorage.getItem(e)||r,v=o&&y==="system"?g():y;m(v)}catch{}},rH=j.createContext(void 0),nH={setTheme:t=>{},themes:[]},aH=()=>{var t;return(t=j.useContext(rH))!=null?t:nH};j.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:o,themes:c,nonce:d,scriptProps:h})=>{let m=JSON.stringify([r,e,i,t,c,o,n,a]).slice(1,-1);return j.createElement("script",{...h,suppressHydrationWarning:!0,nonce:typeof window>"u"?d:"",dangerouslySetInnerHTML:{__html:`(${sH.toString()})(${m})`}})});function iH(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}const oH=t=>{switch(t){case"success":return dH;case"info":return hH;case"warning":return uH;case"error":return fH;default:return null}},lH=Array(12).fill(0),cH=({visible:t,className:e})=>ot.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ot.createElement("div",{className:"sonner-spinner"},lH.map((r,n)=>ot.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),dH=ot.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ot.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),uH=ot.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ot.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),hH=ot.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ot.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),fH=ot.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ot.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),mH=ot.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ot.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ot.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),pH=()=>{const[t,e]=ot.useState(document.hidden);return ot.useEffect(()=>{const r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t};let e_=1;class gH{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:n,...a}=e,i=typeof e?.id=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:e_++,o=this.toasts.find(d=>d.id===i),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(d=>d.id===i?(this.publish({...d,...e,id:i,title:n}),{...d,...e,id:i,dismissible:c,title:n}):d):this.addToast({title:n,...a,dismissible:c,id:i}),i},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const a=Promise.resolve(e instanceof Function?e():e);let i=n!==void 0,o;const c=a.then(async h=>{if(o=["resolve",h],ot.isValidElement(h))i=!1,this.create({id:n,type:"default",message:h});else if(yH(h)&&!h.ok){i=!1;const f=typeof r.error=="function"?await r.error(`HTTP error! status: ${h.status}`):r.error,g=typeof r.description=="function"?await r.description(`HTTP error! status: ${h.status}`):r.description,v=typeof f=="object"&&!ot.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:g,...v})}else if(h instanceof Error){i=!1;const f=typeof r.error=="function"?await r.error(h):r.error,g=typeof r.description=="function"?await r.description(h):r.description,v=typeof f=="object"&&!ot.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:g,...v})}else if(r.success!==void 0){i=!1;const f=typeof r.success=="function"?await r.success(h):r.success,g=typeof r.description=="function"?await r.description(h):r.description,v=typeof f=="object"&&!ot.isValidElement(f)?f:{message:f};this.create({id:n,type:"success",description:g,...v})}}).catch(async h=>{if(o=["reject",h],r.error!==void 0){i=!1;const m=typeof r.error=="function"?await r.error(h):r.error,f=typeof r.description=="function"?await r.description(h):r.description,y=typeof m=="object"&&!ot.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:f,...y})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),d=()=>new Promise((h,m)=>c.then(()=>o[0]==="reject"?m(o[1]):h(o[1])).catch(m));return typeof n!="string"&&typeof n!="number"?{unwrap:d}:Object.assign(n,{unwrap:d})},this.custom=(e,r)=>{const n=r?.id||e_++;return this.create({jsx:e(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Hn=new gH,xH=(t,e)=>{const r=e?.id||e_++;return Hn.addToast({title:t,...e,id:r}),r},yH=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",bH=xH,vH=()=>Hn.toasts,wH=()=>Hn.getActiveToasts(),be=Object.assign(bH,{success:Hn.success,info:Hn.info,warning:Hn.warning,error:Hn.error,custom:Hn.custom,message:Hn.message,promise:Hn.promise,dismiss:Hn.dismiss,loading:Hn.loading},{getHistory:vH,getToasts:wH});iH("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function vg(t){return t.label!==void 0}const jH=3,_H="24px",NH="16px",TE=4e3,SH=356,kH=14,CH=45,AH=200;function Ai(...t){return t.filter(Boolean).join(" ")}function EH(t){const[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}const TH=t=>{var e,r,n,a,i,o,c,d,h;const{invert:m,toast:f,unstyled:g,interacting:y,setHeights:v,visibleToasts:w,heights:_,index:b,toasts:N,expanded:k,removeToast:S,defaultRichColors:C,closeButton:I,style:E,cancelButtonStyle:U,actionButtonStyle:T,className:ne="",descriptionClassName:q="",duration:F,position:Y,gap:O,expandByDefault:se,classNames:X,icons:M,closeButtonAriaLabel:K="Close toast"}=t,[z,he]=ot.useState(null),[V,W]=ot.useState(null),[le,oe]=ot.useState(!1),[ve,me]=ot.useState(!1),[$,H]=ot.useState(!1),[fe,Z]=ot.useState(!1),[ee,J]=ot.useState(!1),[ke,L]=ot.useState(0),[Te,Q]=ot.useState(0),R=ot.useRef(f.duration||F||TE),P=ot.useRef(null),G=ot.useRef(null),ye=b===0,ce=b+1<=w,ue=f.type,De=f.dismissible!==!1,je=f.className||"",Ae=f.descriptionClassName||"",Be=ot.useMemo(()=>_.findIndex(Ot=>Ot.toastId===f.id)||0,[_,f.id]),et=ot.useMemo(()=>{var Ot;return(Ot=f.closeButton)!=null?Ot:I},[f.closeButton,I]),lt=ot.useMemo(()=>f.duration||F||TE,[f.duration,F]),gt=ot.useRef(0),_t=ot.useRef(0),Ht=ot.useRef(0),Yt=ot.useRef(null),[Ct,us]=Y.split("-"),Ge=ot.useMemo(()=>_.reduce((Ot,xe,At)=>At>=Be?Ot:Ot+xe.height,0),[_,Be]),Ze=pH(),Ke=f.invert||m,hs=ue==="loading";_t.current=ot.useMemo(()=>Be*O+Ge,[Be,Ge]),ot.useEffect(()=>{R.current=lt},[lt]),ot.useEffect(()=>{oe(!0)},[]),ot.useEffect(()=>{const Ot=G.current;if(Ot){const xe=Ot.getBoundingClientRect().height;return Q(xe),v(At=>[{toastId:f.id,height:xe,position:f.position},...At]),()=>v(At=>At.filter(Qs=>Qs.toastId!==f.id))}},[v,f.id]),ot.useLayoutEffect(()=>{if(!le)return;const Ot=G.current,xe=Ot.style.height;Ot.style.height="auto";const At=Ot.getBoundingClientRect().height;Ot.style.height=xe,Q(At),v(Qs=>Qs.find(it=>it.toastId===f.id)?Qs.map(it=>it.toastId===f.id?{...it,height:At}:it):[{toastId:f.id,height:At,position:f.position},...Qs])},[le,f.title,f.description,v,f.id,f.jsx,f.action,f.cancel]);const Es=ot.useCallback(()=>{me(!0),L(_t.current),v(Ot=>Ot.filter(xe=>xe.toastId!==f.id)),setTimeout(()=>{S(f)},AH)},[f,S,v,_t]);ot.useEffect(()=>{if(f.promise&&ue==="loading"||f.duration===1/0||f.type==="loading")return;let Ot;return k||y||Ze?(()=>{if(Ht.current<gt.current){const Qs=new Date().getTime()-gt.current;R.current=R.current-Qs}Ht.current=new Date().getTime()})():(()=>{R.current!==1/0&&(gt.current=new Date().getTime(),Ot=setTimeout(()=>{f.onAutoClose==null||f.onAutoClose.call(f,f),Es()},R.current))})(),()=>clearTimeout(Ot)},[k,y,f,ue,Ze,Es]),ot.useEffect(()=>{f.delete&&(Es(),f.onDismiss==null||f.onDismiss.call(f,f))},[Es,f.delete]);function Cs(){var Ot;if(M?.loading){var xe;return ot.createElement("div",{className:Ai(X?.loader,f==null||(xe=f.classNames)==null?void 0:xe.loader,"sonner-loader"),"data-visible":ue==="loading"},M.loading)}return ot.createElement(cH,{className:Ai(X?.loader,f==null||(Ot=f.classNames)==null?void 0:Ot.loader),visible:ue==="loading"})}const jn=f.icon||M?.[ue]||oH(ue);var $s,vr;return ot.createElement("li",{tabIndex:0,ref:G,className:Ai(ne,je,X?.toast,f==null||(e=f.classNames)==null?void 0:e.toast,X?.default,X?.[ue],f==null||(r=f.classNames)==null?void 0:r[ue]),"data-sonner-toast":"","data-rich-colors":($s=f.richColors)!=null?$s:C,"data-styled":!(f.jsx||f.unstyled||g),"data-mounted":le,"data-promise":!!f.promise,"data-swiped":ee,"data-removed":ve,"data-visible":ce,"data-y-position":Ct,"data-x-position":us,"data-index":b,"data-front":ye,"data-swiping":$,"data-dismissible":De,"data-type":ue,"data-invert":Ke,"data-swipe-out":fe,"data-swipe-direction":V,"data-expanded":!!(k||se&&le),"data-testid":f.testId,style:{"--index":b,"--toasts-before":b,"--z-index":N.length-b,"--offset":`${ve?ke:_t.current}px`,"--initial-height":se?"auto":`${Te}px`,...E,...f.style},onDragEnd:()=>{H(!1),he(null),Yt.current=null},onPointerDown:Ot=>{Ot.button!==2&&(hs||!De||(P.current=new Date,L(_t.current),Ot.target.setPointerCapture(Ot.pointerId),Ot.target.tagName!=="BUTTON"&&(H(!0),Yt.current={x:Ot.clientX,y:Ot.clientY})))},onPointerUp:()=>{var Ot,xe,At;if(fe||!De)return;Yt.current=null;const Qs=Number(((Ot=G.current)==null?void 0:Ot.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),kt=Number(((xe=G.current)==null?void 0:xe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),it=new Date().getTime()-((At=P.current)==null?void 0:At.getTime()),bs=z==="x"?Qs:kt,lr=Math.abs(bs)/it;if(Math.abs(bs)>=CH||lr>.11){L(_t.current),f.onDismiss==null||f.onDismiss.call(f,f),W(z==="x"?Qs>0?"right":"left":kt>0?"down":"up"),Es(),Z(!0);return}else{var qs,$r;(qs=G.current)==null||qs.style.setProperty("--swipe-amount-x","0px"),($r=G.current)==null||$r.style.setProperty("--swipe-amount-y","0px")}J(!1),H(!1),he(null)},onPointerMove:Ot=>{var xe,At,Qs;if(!Yt.current||!De||((xe=window.getSelection())==null?void 0:xe.toString().length)>0)return;const it=Ot.clientY-Yt.current.y,bs=Ot.clientX-Yt.current.x;var lr;const qs=(lr=t.swipeDirections)!=null?lr:EH(Y);!z&&(Math.abs(bs)>1||Math.abs(it)>1)&&he(Math.abs(bs)>Math.abs(it)?"x":"y");let $r={x:0,y:0};const Rn=_n=>1/(1.5+Math.abs(_n)/20);if(z==="y"){if(qs.includes("top")||qs.includes("bottom"))if(qs.includes("top")&&it<0||qs.includes("bottom")&&it>0)$r.y=it;else{const _n=it*Rn(it);$r.y=Math.abs(_n)<Math.abs(it)?_n:it}}else if(z==="x"&&(qs.includes("left")||qs.includes("right")))if(qs.includes("left")&&bs<0||qs.includes("right")&&bs>0)$r.x=bs;else{const _n=bs*Rn(bs);$r.x=Math.abs(_n)<Math.abs(bs)?_n:bs}(Math.abs($r.x)>0||Math.abs($r.y)>0)&&J(!0),(At=G.current)==null||At.style.setProperty("--swipe-amount-x",`${$r.x}px`),(Qs=G.current)==null||Qs.style.setProperty("--swipe-amount-y",`${$r.y}px`)}},et&&!f.jsx&&ue!=="loading"?ot.createElement("button",{"aria-label":K,"data-disabled":hs,"data-close-button":!0,onClick:hs||!De?()=>{}:()=>{Es(),f.onDismiss==null||f.onDismiss.call(f,f)},className:Ai(X?.closeButton,f==null||(n=f.classNames)==null?void 0:n.closeButton)},(vr=M?.close)!=null?vr:mH):null,(ue||f.icon||f.promise)&&f.icon!==null&&(M?.[ue]!==null||f.icon)?ot.createElement("div",{"data-icon":"",className:Ai(X?.icon,f==null||(a=f.classNames)==null?void 0:a.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Cs():null,f.type!=="loading"?jn:null):null,ot.createElement("div",{"data-content":"",className:Ai(X?.content,f==null||(i=f.classNames)==null?void 0:i.content)},ot.createElement("div",{"data-title":"",className:Ai(X?.title,f==null||(o=f.classNames)==null?void 0:o.title)},f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title),f.description?ot.createElement("div",{"data-description":"",className:Ai(q,Ae,X?.description,f==null||(c=f.classNames)==null?void 0:c.description)},typeof f.description=="function"?f.description():f.description):null),ot.isValidElement(f.cancel)?f.cancel:f.cancel&&vg(f.cancel)?ot.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||U,onClick:Ot=>{vg(f.cancel)&&De&&(f.cancel.onClick==null||f.cancel.onClick.call(f.cancel,Ot),Es())},className:Ai(X?.cancelButton,f==null||(d=f.classNames)==null?void 0:d.cancelButton)},f.cancel.label):null,ot.isValidElement(f.action)?f.action:f.action&&vg(f.action)?ot.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||T,onClick:Ot=>{vg(f.action)&&(f.action.onClick==null||f.action.onClick.call(f.action,Ot),!Ot.defaultPrevented&&Es())},className:Ai(X?.actionButton,f==null||(h=f.classNames)==null?void 0:h.actionButton)},f.action.label):null)};function RE(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function RH(t,e){const r={};return[t,e].forEach((n,a)=>{const i=a===1,o=i?"--mobile-offset":"--offset",c=i?NH:_H;function d(h){["top","right","bottom","left"].forEach(m=>{r[`${o}-${m}`]=typeof h=="number"?`${h}px`:h})}typeof n=="number"||typeof n=="string"?d(n):typeof n=="object"?["top","right","bottom","left"].forEach(h=>{n[h]===void 0?r[`${o}-${h}`]=c:r[`${o}-${h}`]=typeof n[h]=="number"?`${n[h]}px`:n[h]}):d(c)}),r}const DH=ot.forwardRef(function(e,r){const{id:n,invert:a,position:i="bottom-right",hotkey:o=["altKey","KeyT"],expand:c,closeButton:d,className:h,offset:m,mobileOffset:f,theme:g="light",richColors:y,duration:v,style:w,visibleToasts:_=jH,toastOptions:b,dir:N=RE(),gap:k=kH,icons:S,containerAriaLabel:C="Notifications"}=e,[I,E]=ot.useState([]),U=ot.useMemo(()=>n?I.filter(le=>le.toasterId===n):I.filter(le=>!le.toasterId),[I,n]),T=ot.useMemo(()=>Array.from(new Set([i].concat(U.filter(le=>le.position).map(le=>le.position)))),[U,i]),[ne,q]=ot.useState([]),[F,Y]=ot.useState(!1),[O,se]=ot.useState(!1),[X,M]=ot.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),K=ot.useRef(null),z=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),he=ot.useRef(null),V=ot.useRef(!1),W=ot.useCallback(le=>{E(oe=>{var ve;return(ve=oe.find(me=>me.id===le.id))!=null&&ve.delete||Hn.dismiss(le.id),oe.filter(({id:me})=>me!==le.id)})},[]);return ot.useEffect(()=>Hn.subscribe(le=>{if(le.dismiss){requestAnimationFrame(()=>{E(oe=>oe.map(ve=>ve.id===le.id?{...ve,delete:!0}:ve))});return}setTimeout(()=>{T6.flushSync(()=>{E(oe=>{const ve=oe.findIndex(me=>me.id===le.id);return ve!==-1?[...oe.slice(0,ve),{...oe[ve],...le},...oe.slice(ve+1)]:[le,...oe]})})})}),[I]),ot.useEffect(()=>{if(g!=="system"){M(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?M("dark"):M("light")),typeof window>"u")return;const le=window.matchMedia("(prefers-color-scheme: dark)");try{le.addEventListener("change",({matches:oe})=>{M(oe?"dark":"light")})}catch{le.addListener(({matches:ve})=>{try{M(ve?"dark":"light")}catch(me){console.error(me)}})}},[g]),ot.useEffect(()=>{I.length<=1&&Y(!1)},[I]),ot.useEffect(()=>{const le=oe=>{var ve;if(o.every(H=>oe[H]||oe.code===H)){var $;Y(!0),($=K.current)==null||$.focus()}oe.code==="Escape"&&(document.activeElement===K.current||(ve=K.current)!=null&&ve.contains(document.activeElement))&&Y(!1)};return document.addEventListener("keydown",le),()=>document.removeEventListener("keydown",le)},[o]),ot.useEffect(()=>{if(K.current)return()=>{he.current&&(he.current.focus({preventScroll:!0}),he.current=null,V.current=!1)}},[K.current]),ot.createElement("section",{ref:r,"aria-label":`${C} ${z}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((le,oe)=>{var ve;const[me,$]=le.split("-");return U.length?ot.createElement("ol",{key:le,dir:N==="auto"?RE():N,tabIndex:-1,ref:K,className:h,"data-sonner-toaster":!0,"data-sonner-theme":X,"data-y-position":me,"data-x-position":$,style:{"--front-toast-height":`${((ve=ne[0])==null?void 0:ve.height)||0}px`,"--width":`${SH}px`,"--gap":`${k}px`,...w,...RH(m,f)},onBlur:H=>{V.current&&!H.currentTarget.contains(H.relatedTarget)&&(V.current=!1,he.current&&(he.current.focus({preventScroll:!0}),he.current=null))},onFocus:H=>{H.target instanceof HTMLElement&&H.target.dataset.dismissible==="false"||V.current||(V.current=!0,he.current=H.relatedTarget)},onMouseEnter:()=>Y(!0),onMouseMove:()=>Y(!0),onMouseLeave:()=>{O||Y(!1)},onDragEnd:()=>Y(!1),onPointerDown:H=>{H.target instanceof HTMLElement&&H.target.dataset.dismissible==="false"||se(!0)},onPointerUp:()=>se(!1)},U.filter(H=>!H.position&&oe===0||H.position===le).map((H,fe)=>{var Z,ee;return ot.createElement(TH,{key:H.id,icons:S,index:fe,toast:H,defaultRichColors:y,duration:(Z=b?.duration)!=null?Z:v,className:b?.className,descriptionClassName:b?.descriptionClassName,invert:a,visibleToasts:_,closeButton:(ee=b?.closeButton)!=null?ee:d,interacting:O,position:le,style:b?.style,unstyled:b?.unstyled,classNames:b?.classNames,cancelButtonStyle:b?.cancelButtonStyle,actionButtonStyle:b?.actionButtonStyle,closeButtonAriaLabel:b?.closeButtonAriaLabel,removeToast:W,toasts:U.filter(J=>J.position==H.position),heights:ne.filter(J=>J.position==H.position),setHeights:q,expandByDefault:c,gap:k,expanded:F,swipeDirections:e.swipeDirections})})):null}))}),MH=({...t})=>{const{theme:e="system"}=aH();return s.jsx(DH,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};function DE(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Go(...t){return e=>{let r=!1;const n=t.map(a=>{const i=DE(a,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():DE(t[a],null)}}}}function es(...t){return j.useCallback(Go(...t),t)}var PH=Symbol.for("react.lazy"),Px=mN[" use ".trim().toString()];function OH(t){return typeof t=="object"&&t!==null&&"then"in t}function R6(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===PH&&"_payload"in t&&OH(t._payload)}function jN(t){const e=FH(t),r=j.forwardRef((n,a)=>{let{children:i,...o}=n;R6(i)&&typeof Px=="function"&&(i=Px(i._payload));const c=j.Children.toArray(i),d=c.find(IH);if(d){const h=d.props.children,m=c.map(f=>f===d?j.Children.count(h)>1?j.Children.only(null):j.isValidElement(h)?h.props.children:null:f);return s.jsx(e,{...o,ref:a,children:j.isValidElement(h)?j.cloneElement(h,void 0,m):null})}return s.jsx(e,{...o,ref:a,children:i})});return r.displayName=`${t}.Slot`,r}var LH=jN("Slot");function FH(t){const e=j.forwardRef((r,n)=>{let{children:a,...i}=r;if(R6(a)&&typeof Px=="function"&&(a=Px(a._payload)),j.isValidElement(a)){const o=UH(a),c=zH(i,a.props);return a.type!==j.Fragment&&(c.ref=n?Go(n,o):o),j.cloneElement(a,c)}return j.Children.count(a)>1?j.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var BH=Symbol("radix.slottable");function IH(t){return j.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===BH}function zH(t,e){const r={...e};for(const n in e){const a=t[n],i=e[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...t,...r}}function UH(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function D6(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=D6(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function M6(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=D6(t))&&(n&&(n+=" "),n+=e);return n}const ME=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,PE=M6,_N=(t,e)=>r=>{var n;if(e?.variants==null)return PE(t,r?.class,r?.className);const{variants:a,defaultVariants:i}=e,o=Object.keys(a).map(h=>{const m=r?.[h],f=i?.[h];if(m===null)return null;const g=ME(m)||ME(f);return a[h][g]}),c=r&&Object.entries(r).reduce((h,m)=>{let[f,g]=m;return g===void 0||(h[f]=g),h},{}),d=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((h,m)=>{let{class:f,className:g,...y}=m;return Object.entries(y).every(v=>{let[w,_]=v;return Array.isArray(_)?_.includes({...i,...c}[w]):{...i,...c}[w]===_})?[...h,f,g]:h},[]);return PE(t,o,d,r?.class,r?.className)},$H=(t,e)=>{const r=new Array(t.length+e.length);for(let n=0;n<t.length;n++)r[n]=t[n];for(let n=0;n<e.length;n++)r[t.length+n]=e[n];return r},VH=(t,e)=>({classGroupId:t,validator:e}),P6=(t=new Map,e=null,r)=>({nextPart:t,validators:e,classGroupId:r}),Ox="-",OE=[],HH="arbitrary..",qH=t=>{const e=GH(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return WH(o);const c=o.split(Ox),d=c[0]===""&&c.length>1?1:0;return O6(c,d,e)},getConflictingClassGroupIds:(o,c)=>{if(c){const d=n[o],h=r[o];return d?h?$H(h,d):d:h||OE}return r[o]||OE}}},O6=(t,e,r)=>{if(t.length-e===0)return r.classGroupId;const a=t[e],i=r.nextPart.get(a);if(i){const h=O6(t,e+1,i);if(h)return h}const o=r.validators;if(o===null)return;const c=e===0?t.join(Ox):t.slice(e).join(Ox),d=o.length;for(let h=0;h<d;h++){const m=o[h];if(m.validator(c))return m.classGroupId}},WH=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),r=e.indexOf(":"),n=e.slice(0,r);return n?HH+n:void 0})(),GH=t=>{const{theme:e,classGroups:r}=t;return YH(r,e)},YH=(t,e)=>{const r=P6();for(const n in t){const a=t[n];NN(a,r,n,e)}return r},NN=(t,e,r,n)=>{const a=t.length;for(let i=0;i<a;i++){const o=t[i];KH(o,e,r,n)}},KH=(t,e,r,n)=>{if(typeof t=="string"){XH(t,e,r);return}if(typeof t=="function"){ZH(t,e,r,n);return}QH(t,e,r,n)},XH=(t,e,r)=>{const n=t===""?e:L6(e,t);n.classGroupId=r},ZH=(t,e,r,n)=>{if(JH(t)){NN(t(n),e,r,n);return}e.validators===null&&(e.validators=[]),e.validators.push(VH(r,t))},QH=(t,e,r,n)=>{const a=Object.entries(t),i=a.length;for(let o=0;o<i;o++){const[c,d]=a[o];NN(d,L6(e,c),r,n)}},L6=(t,e)=>{let r=t;const n=e.split(Ox),a=n.length;for(let i=0;i<a;i++){const o=n[i];let c=r.nextPart.get(o);c||(c=P6(),r.nextPart.set(o,c)),r=c}return r},JH=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,eq=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=Object.create(null),n=Object.create(null);const a=(i,o)=>{r[i]=o,e++,e>t&&(e=0,n=r,r=Object.create(null))};return{get(i){let o=r[i];if(o!==void 0)return o;if((o=n[i])!==void 0)return a(i,o),o},set(i,o){i in r?r[i]=o:a(i,o)}}},t_="!",LE=":",tq=[],FE=(t,e,r,n,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:r,maybePostfixModifierPosition:n,isExternal:a}),sq=t=>{const{prefix:e,experimentalParseClassName:r}=t;let n=a=>{const i=[];let o=0,c=0,d=0,h;const m=a.length;for(let w=0;w<m;w++){const _=a[w];if(o===0&&c===0){if(_===LE){i.push(a.slice(d,w)),d=w+1;continue}if(_==="/"){h=w;continue}}_==="["?o++:_==="]"?o--:_==="("?c++:_===")"&&c--}const f=i.length===0?a:a.slice(d);let g=f,y=!1;f.endsWith(t_)?(g=f.slice(0,-1),y=!0):f.startsWith(t_)&&(g=f.slice(1),y=!0);const v=h&&h>d?h-d:void 0;return FE(i,y,g,v)};if(e){const a=e+LE,i=n;n=o=>o.startsWith(a)?i(o.slice(a.length)):FE(tq,!1,o,void 0,!0)}if(r){const a=n;n=i=>r({className:i,parseClassName:a})}return n},rq=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((r,n)=>{e.set(r,1e6+n)}),r=>{const n=[];let a=[];for(let i=0;i<r.length;i++){const o=r[i],c=o[0]==="[",d=e.has(o);c||d?(a.length>0&&(a.sort(),n.push(...a),a=[]),n.push(o)):a.push(o)}return a.length>0&&(a.sort(),n.push(...a)),n}},nq=t=>({cache:eq(t.cacheSize),parseClassName:sq(t),sortModifiers:rq(t),...qH(t)}),aq=/\s+/,iq=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:i}=e,o=[],c=t.trim().split(aq);let d="";for(let h=c.length-1;h>=0;h-=1){const m=c[h],{isExternal:f,modifiers:g,hasImportantModifier:y,baseClassName:v,maybePostfixModifierPosition:w}=r(m);if(f){d=m+(d.length>0?" "+d:d);continue}let _=!!w,b=n(_?v.substring(0,w):v);if(!b){if(!_){d=m+(d.length>0?" "+d:d);continue}if(b=n(v),!b){d=m+(d.length>0?" "+d:d);continue}_=!1}const N=g.length===0?"":g.length===1?g[0]:i(g).join(":"),k=y?N+t_:N,S=k+b;if(o.indexOf(S)>-1)continue;o.push(S);const C=a(b,_);for(let I=0;I<C.length;++I){const E=C[I];o.push(k+E)}d=m+(d.length>0?" "+d:d)}return d},oq=(...t)=>{let e=0,r,n,a="";for(;e<t.length;)(r=t[e++])&&(n=F6(r))&&(a&&(a+=" "),a+=n);return a},F6=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=F6(t[n]))&&(r&&(r+=" "),r+=e);return r},lq=(t,...e)=>{let r,n,a,i;const o=d=>{const h=e.reduce((m,f)=>f(m),t());return r=nq(h),n=r.cache.get,a=r.cache.set,i=c,c(d)},c=d=>{const h=n(d);if(h)return h;const m=iq(d,r);return a(d,m),m};return i=o,(...d)=>i(oq(...d))},cq=[],qr=t=>{const e=r=>r[t]||cq;return e.isThemeGetter=!0,e},B6=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,I6=/^\((?:(\w[\w-]*):)?(.+)\)$/i,dq=/^\d+\/\d+$/,uq=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,hq=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,fq=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,mq=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,pq=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,mu=t=>dq.test(t),ts=t=>!!t&&!Number.isNaN(Number(t)),Ml=t=>!!t&&Number.isInteger(Number(t)),Gv=t=>t.endsWith("%")&&ts(t.slice(0,-1)),No=t=>uq.test(t),gq=()=>!0,xq=t=>hq.test(t)&&!fq.test(t),z6=()=>!1,yq=t=>mq.test(t),bq=t=>pq.test(t),vq=t=>!bt(t)&&!vt(t),wq=t=>oh(t,V6,z6),bt=t=>B6.test(t),Fc=t=>oh(t,H6,xq),Yv=t=>oh(t,kq,ts),BE=t=>oh(t,U6,z6),jq=t=>oh(t,$6,bq),wg=t=>oh(t,q6,yq),vt=t=>I6.test(t),jf=t=>lh(t,H6),_q=t=>lh(t,Cq),IE=t=>lh(t,U6),Nq=t=>lh(t,V6),Sq=t=>lh(t,$6),jg=t=>lh(t,q6,!0),oh=(t,e,r)=>{const n=B6.exec(t);return n?n[1]?e(n[1]):r(n[2]):!1},lh=(t,e,r=!1)=>{const n=I6.exec(t);return n?n[1]?e(n[1]):r:!1},U6=t=>t==="position"||t==="percentage",$6=t=>t==="image"||t==="url",V6=t=>t==="length"||t==="size"||t==="bg-size",H6=t=>t==="length",kq=t=>t==="number",Cq=t=>t==="family-name",q6=t=>t==="shadow",Aq=()=>{const t=qr("color"),e=qr("font"),r=qr("text"),n=qr("font-weight"),a=qr("tracking"),i=qr("leading"),o=qr("breakpoint"),c=qr("container"),d=qr("spacing"),h=qr("radius"),m=qr("shadow"),f=qr("inset-shadow"),g=qr("text-shadow"),y=qr("drop-shadow"),v=qr("blur"),w=qr("perspective"),_=qr("aspect"),b=qr("ease"),N=qr("animate"),k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],S=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],C=()=>[...S(),vt,bt],I=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto","contain","none"],U=()=>[vt,bt,d],T=()=>[mu,"full","auto",...U()],ne=()=>[Ml,"none","subgrid",vt,bt],q=()=>["auto",{span:["full",Ml,vt,bt]},Ml,vt,bt],F=()=>[Ml,"auto",vt,bt],Y=()=>["auto","min","max","fr",vt,bt],O=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],se=()=>["start","end","center","stretch","center-safe","end-safe"],X=()=>["auto",...U()],M=()=>[mu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...U()],K=()=>[t,vt,bt],z=()=>[...S(),IE,BE,{position:[vt,bt]}],he=()=>["no-repeat",{repeat:["","x","y","space","round"]}],V=()=>["auto","cover","contain",Nq,wq,{size:[vt,bt]}],W=()=>[Gv,jf,Fc],le=()=>["","none","full",h,vt,bt],oe=()=>["",ts,jf,Fc],ve=()=>["solid","dashed","dotted","double"],me=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],$=()=>[ts,Gv,IE,BE],H=()=>["","none",v,vt,bt],fe=()=>["none",ts,vt,bt],Z=()=>["none",ts,vt,bt],ee=()=>[ts,vt,bt],J=()=>[mu,"full",...U()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[No],breakpoint:[No],color:[gq],container:[No],"drop-shadow":[No],ease:["in","out","in-out"],font:[vq],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[No],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[No],shadow:[No],spacing:["px",ts],text:[No],"text-shadow":[No],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",mu,bt,vt,_]}],container:["container"],columns:[{columns:[ts,bt,vt,c]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:C()}],overflow:[{overflow:I()}],"overflow-x":[{"overflow-x":I()}],"overflow-y":[{"overflow-y":I()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:T()}],"inset-x":[{"inset-x":T()}],"inset-y":[{"inset-y":T()}],start:[{start:T()}],end:[{end:T()}],top:[{top:T()}],right:[{right:T()}],bottom:[{bottom:T()}],left:[{left:T()}],visibility:["visible","invisible","collapse"],z:[{z:[Ml,"auto",vt,bt]}],basis:[{basis:[mu,"full","auto",c,...U()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[ts,mu,"auto","initial","none",bt]}],grow:[{grow:["",ts,vt,bt]}],shrink:[{shrink:["",ts,vt,bt]}],order:[{order:[Ml,"first","last","none",vt,bt]}],"grid-cols":[{"grid-cols":ne()}],"col-start-end":[{col:q()}],"col-start":[{"col-start":F()}],"col-end":[{"col-end":F()}],"grid-rows":[{"grid-rows":ne()}],"row-start-end":[{row:q()}],"row-start":[{"row-start":F()}],"row-end":[{"row-end":F()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Y()}],"auto-rows":[{"auto-rows":Y()}],gap:[{gap:U()}],"gap-x":[{"gap-x":U()}],"gap-y":[{"gap-y":U()}],"justify-content":[{justify:[...O(),"normal"]}],"justify-items":[{"justify-items":[...se(),"normal"]}],"justify-self":[{"justify-self":["auto",...se()]}],"align-content":[{content:["normal",...O()]}],"align-items":[{items:[...se(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...se(),{baseline:["","last"]}]}],"place-content":[{"place-content":O()}],"place-items":[{"place-items":[...se(),"baseline"]}],"place-self":[{"place-self":["auto",...se()]}],p:[{p:U()}],px:[{px:U()}],py:[{py:U()}],ps:[{ps:U()}],pe:[{pe:U()}],pt:[{pt:U()}],pr:[{pr:U()}],pb:[{pb:U()}],pl:[{pl:U()}],m:[{m:X()}],mx:[{mx:X()}],my:[{my:X()}],ms:[{ms:X()}],me:[{me:X()}],mt:[{mt:X()}],mr:[{mr:X()}],mb:[{mb:X()}],ml:[{ml:X()}],"space-x":[{"space-x":U()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":U()}],"space-y-reverse":["space-y-reverse"],size:[{size:M()}],w:[{w:[c,"screen",...M()]}],"min-w":[{"min-w":[c,"screen","none",...M()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[o]},...M()]}],h:[{h:["screen","lh",...M()]}],"min-h":[{"min-h":["screen","lh","none",...M()]}],"max-h":[{"max-h":["screen","lh",...M()]}],"font-size":[{text:["base",r,jf,Fc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,vt,Yv]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Gv,bt]}],"font-family":[{font:[_q,bt,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,vt,bt]}],"line-clamp":[{"line-clamp":[ts,"none",vt,Yv]}],leading:[{leading:[i,...U()]}],"list-image":[{"list-image":["none",vt,bt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",vt,bt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:K()}],"text-color":[{text:K()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ve(),"wavy"]}],"text-decoration-thickness":[{decoration:[ts,"from-font","auto",vt,Fc]}],"text-decoration-color":[{decoration:K()}],"underline-offset":[{"underline-offset":[ts,"auto",vt,bt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:U()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",vt,bt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",vt,bt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:z()}],"bg-repeat":[{bg:he()}],"bg-size":[{bg:V()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ml,vt,bt],radial:["",vt,bt],conic:[Ml,vt,bt]},Sq,jq]}],"bg-color":[{bg:K()}],"gradient-from-pos":[{from:W()}],"gradient-via-pos":[{via:W()}],"gradient-to-pos":[{to:W()}],"gradient-from":[{from:K()}],"gradient-via":[{via:K()}],"gradient-to":[{to:K()}],rounded:[{rounded:le()}],"rounded-s":[{"rounded-s":le()}],"rounded-e":[{"rounded-e":le()}],"rounded-t":[{"rounded-t":le()}],"rounded-r":[{"rounded-r":le()}],"rounded-b":[{"rounded-b":le()}],"rounded-l":[{"rounded-l":le()}],"rounded-ss":[{"rounded-ss":le()}],"rounded-se":[{"rounded-se":le()}],"rounded-ee":[{"rounded-ee":le()}],"rounded-es":[{"rounded-es":le()}],"rounded-tl":[{"rounded-tl":le()}],"rounded-tr":[{"rounded-tr":le()}],"rounded-br":[{"rounded-br":le()}],"rounded-bl":[{"rounded-bl":le()}],"border-w":[{border:oe()}],"border-w-x":[{"border-x":oe()}],"border-w-y":[{"border-y":oe()}],"border-w-s":[{"border-s":oe()}],"border-w-e":[{"border-e":oe()}],"border-w-t":[{"border-t":oe()}],"border-w-r":[{"border-r":oe()}],"border-w-b":[{"border-b":oe()}],"border-w-l":[{"border-l":oe()}],"divide-x":[{"divide-x":oe()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":oe()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...ve(),"hidden","none"]}],"divide-style":[{divide:[...ve(),"hidden","none"]}],"border-color":[{border:K()}],"border-color-x":[{"border-x":K()}],"border-color-y":[{"border-y":K()}],"border-color-s":[{"border-s":K()}],"border-color-e":[{"border-e":K()}],"border-color-t":[{"border-t":K()}],"border-color-r":[{"border-r":K()}],"border-color-b":[{"border-b":K()}],"border-color-l":[{"border-l":K()}],"divide-color":[{divide:K()}],"outline-style":[{outline:[...ve(),"none","hidden"]}],"outline-offset":[{"outline-offset":[ts,vt,bt]}],"outline-w":[{outline:["",ts,jf,Fc]}],"outline-color":[{outline:K()}],shadow:[{shadow:["","none",m,jg,wg]}],"shadow-color":[{shadow:K()}],"inset-shadow":[{"inset-shadow":["none",f,jg,wg]}],"inset-shadow-color":[{"inset-shadow":K()}],"ring-w":[{ring:oe()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:K()}],"ring-offset-w":[{"ring-offset":[ts,Fc]}],"ring-offset-color":[{"ring-offset":K()}],"inset-ring-w":[{"inset-ring":oe()}],"inset-ring-color":[{"inset-ring":K()}],"text-shadow":[{"text-shadow":["none",g,jg,wg]}],"text-shadow-color":[{"text-shadow":K()}],opacity:[{opacity:[ts,vt,bt]}],"mix-blend":[{"mix-blend":[...me(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":me()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[ts]}],"mask-image-linear-from-pos":[{"mask-linear-from":$()}],"mask-image-linear-to-pos":[{"mask-linear-to":$()}],"mask-image-linear-from-color":[{"mask-linear-from":K()}],"mask-image-linear-to-color":[{"mask-linear-to":K()}],"mask-image-t-from-pos":[{"mask-t-from":$()}],"mask-image-t-to-pos":[{"mask-t-to":$()}],"mask-image-t-from-color":[{"mask-t-from":K()}],"mask-image-t-to-color":[{"mask-t-to":K()}],"mask-image-r-from-pos":[{"mask-r-from":$()}],"mask-image-r-to-pos":[{"mask-r-to":$()}],"mask-image-r-from-color":[{"mask-r-from":K()}],"mask-image-r-to-color":[{"mask-r-to":K()}],"mask-image-b-from-pos":[{"mask-b-from":$()}],"mask-image-b-to-pos":[{"mask-b-to":$()}],"mask-image-b-from-color":[{"mask-b-from":K()}],"mask-image-b-to-color":[{"mask-b-to":K()}],"mask-image-l-from-pos":[{"mask-l-from":$()}],"mask-image-l-to-pos":[{"mask-l-to":$()}],"mask-image-l-from-color":[{"mask-l-from":K()}],"mask-image-l-to-color":[{"mask-l-to":K()}],"mask-image-x-from-pos":[{"mask-x-from":$()}],"mask-image-x-to-pos":[{"mask-x-to":$()}],"mask-image-x-from-color":[{"mask-x-from":K()}],"mask-image-x-to-color":[{"mask-x-to":K()}],"mask-image-y-from-pos":[{"mask-y-from":$()}],"mask-image-y-to-pos":[{"mask-y-to":$()}],"mask-image-y-from-color":[{"mask-y-from":K()}],"mask-image-y-to-color":[{"mask-y-to":K()}],"mask-image-radial":[{"mask-radial":[vt,bt]}],"mask-image-radial-from-pos":[{"mask-radial-from":$()}],"mask-image-radial-to-pos":[{"mask-radial-to":$()}],"mask-image-radial-from-color":[{"mask-radial-from":K()}],"mask-image-radial-to-color":[{"mask-radial-to":K()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":S()}],"mask-image-conic-pos":[{"mask-conic":[ts]}],"mask-image-conic-from-pos":[{"mask-conic-from":$()}],"mask-image-conic-to-pos":[{"mask-conic-to":$()}],"mask-image-conic-from-color":[{"mask-conic-from":K()}],"mask-image-conic-to-color":[{"mask-conic-to":K()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:z()}],"mask-repeat":[{mask:he()}],"mask-size":[{mask:V()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",vt,bt]}],filter:[{filter:["","none",vt,bt]}],blur:[{blur:H()}],brightness:[{brightness:[ts,vt,bt]}],contrast:[{contrast:[ts,vt,bt]}],"drop-shadow":[{"drop-shadow":["","none",y,jg,wg]}],"drop-shadow-color":[{"drop-shadow":K()}],grayscale:[{grayscale:["",ts,vt,bt]}],"hue-rotate":[{"hue-rotate":[ts,vt,bt]}],invert:[{invert:["",ts,vt,bt]}],saturate:[{saturate:[ts,vt,bt]}],sepia:[{sepia:["",ts,vt,bt]}],"backdrop-filter":[{"backdrop-filter":["","none",vt,bt]}],"backdrop-blur":[{"backdrop-blur":H()}],"backdrop-brightness":[{"backdrop-brightness":[ts,vt,bt]}],"backdrop-contrast":[{"backdrop-contrast":[ts,vt,bt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",ts,vt,bt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[ts,vt,bt]}],"backdrop-invert":[{"backdrop-invert":["",ts,vt,bt]}],"backdrop-opacity":[{"backdrop-opacity":[ts,vt,bt]}],"backdrop-saturate":[{"backdrop-saturate":[ts,vt,bt]}],"backdrop-sepia":[{"backdrop-sepia":["",ts,vt,bt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":U()}],"border-spacing-x":[{"border-spacing-x":U()}],"border-spacing-y":[{"border-spacing-y":U()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",vt,bt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[ts,"initial",vt,bt]}],ease:[{ease:["linear","initial",b,vt,bt]}],delay:[{delay:[ts,vt,bt]}],animate:[{animate:["none",N,vt,bt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,vt,bt]}],"perspective-origin":[{"perspective-origin":C()}],rotate:[{rotate:fe()}],"rotate-x":[{"rotate-x":fe()}],"rotate-y":[{"rotate-y":fe()}],"rotate-z":[{"rotate-z":fe()}],scale:[{scale:Z()}],"scale-x":[{"scale-x":Z()}],"scale-y":[{"scale-y":Z()}],"scale-z":[{"scale-z":Z()}],"scale-3d":["scale-3d"],skew:[{skew:ee()}],"skew-x":[{"skew-x":ee()}],"skew-y":[{"skew-y":ee()}],transform:[{transform:[vt,bt,"","none","gpu","cpu"]}],"transform-origin":[{origin:C()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:J()}],"translate-x":[{"translate-x":J()}],"translate-y":[{"translate-y":J()}],"translate-z":[{"translate-z":J()}],"translate-none":["translate-none"],accent:[{accent:K()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:K()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",vt,bt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":U()}],"scroll-mx":[{"scroll-mx":U()}],"scroll-my":[{"scroll-my":U()}],"scroll-ms":[{"scroll-ms":U()}],"scroll-me":[{"scroll-me":U()}],"scroll-mt":[{"scroll-mt":U()}],"scroll-mr":[{"scroll-mr":U()}],"scroll-mb":[{"scroll-mb":U()}],"scroll-ml":[{"scroll-ml":U()}],"scroll-p":[{"scroll-p":U()}],"scroll-px":[{"scroll-px":U()}],"scroll-py":[{"scroll-py":U()}],"scroll-ps":[{"scroll-ps":U()}],"scroll-pe":[{"scroll-pe":U()}],"scroll-pt":[{"scroll-pt":U()}],"scroll-pr":[{"scroll-pr":U()}],"scroll-pb":[{"scroll-pb":U()}],"scroll-pl":[{"scroll-pl":U()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",vt,bt]}],fill:[{fill:["none",...K()]}],"stroke-w":[{stroke:[ts,jf,Fc,Yv]}],stroke:[{stroke:["none",...K()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Eq=lq(Aq);function St(...t){return Eq(M6(t))}const SN=_N("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),pe=j.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,children:a,"aria-label":i,"aria-labelledby":o,...c},d)=>{const h=n?LH:"button";return j.useEffect(()=>{},[a,i,o,c.title,r]),s.jsx(h,{className:St(SN({variant:e,size:r,className:t})),ref:d,"aria-label":i,"aria-labelledby":o,...c,children:a})});pe.displayName="Button";const Tq=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Rq=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),zE=t=>{const e=Rq(t);return e.charAt(0).toUpperCase()+e.slice(1)},W6=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),Dq=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var Mq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Pq=j.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...c},d)=>j.createElement("svg",{ref:d,...Mq,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:W6("lucide",a),...!i&&!Dq(c)&&{"aria-hidden":"true"},...c},[...o.map(([h,m])=>j.createElement(h,m)),...Array.isArray(i)?i:[i]]));const rt=(t,e)=>{const r=j.forwardRef(({className:n,...a},i)=>j.createElement(Pq,{ref:i,iconNode:e,className:W6(`lucide-${Tq(zE(t))}`,`lucide-${t}`,n),...a}));return r.displayName=zE(t),r};const Oq=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],lm=rt("activity",Oq);const Lq=[["path",{d:"M12 22V8",key:"qkxhtm"}],["path",{d:"M5 12H2a10 10 0 0 0 20 0h-3",key:"1hv3nh"}],["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}]],Fq=rt("anchor",Lq);const Bq=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],zi=rt("arrow-left",Bq);const Iq=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],xd=rt("arrow-right",Iq);const zq=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],Uq=rt("arrow-up-down",zq);const $q=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],s_=rt("award",$q);const Vq=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],UE=rt("badge-check",Vq);const Hq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],G6=rt("ban",Hq);const qq=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Lx=rt("bell",qq);const Wq=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],$E=rt("bookmark",Wq);const Gq=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],yd=rt("briefcase",Gq);const Yq=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Pi=rt("building-2",Yq);const Kq=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],kN=rt("calendar-check",Kq);const Xq=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Fx=rt("calendar-days",Xq);const Zq=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Hs=rt("calendar",Zq);const Qq=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],Gt=rt("car",Qq);const Jq=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Vu=rt("chart-column",Jq);const eW=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],Y6=rt("check-check",eW);const tW=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ci=rt("check",tW);const sW=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],K6=rt("chevron-down",sW);const rW=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Yo=rt("chevron-left",rW);const nW=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],pn=rt("chevron-right",nW);const aW=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],iW=rt("chevron-up",aW);const oW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Yl=rt("circle-alert",oW);const lW=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],qn=rt("circle-check-big",lW);const cW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Gr=rt("circle-check",cW);const dW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Xn=rt("circle-x",dW);const uW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],hW=rt("circle",uW);const fW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],mW=rt("clock-4",fW);const pW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],ch=rt("clock",pW);const gW=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],VE=rt("credit-card",gW);const xW=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],or=rt("dollar-sign",xW);const yW=[["path",{d:"M10 12h.01",key:"1kxr2c"}],["path",{d:"M18 20V6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14",key:"36qu9e"}],["path",{d:"M2 20h20",key:"owomy5"}]],bW=rt("door-closed",yW);const vW=[["path",{d:"M11 20H2",key:"nlcfvz"}],["path",{d:"M11 4.562v16.157a1 1 0 0 0 1.242.97L19 20V5.562a2 2 0 0 0-1.515-1.94l-4-1A2 2 0 0 0 11 4.561z",key:"au4z13"}],["path",{d:"M11 4H8a2 2 0 0 0-2 2v14",key:"74r1mk"}],["path",{d:"M14 12h.01",key:"1jfl7z"}],["path",{d:"M22 20h-3",key:"vhrsz"}]],wW=rt("door-open",vW);const jW=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Bx=rt("download",jW);const _W=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Ix=rt("external-link",_W);const NW=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],sr=rt("eye",NW);const SW=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],X6=rt("facebook",SW);const kW=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],Z6=rt("file-check",kW);const CW=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],AW=rt("file-down",CW);const EW=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],Io=rt("file-text",EW);const TW=[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"7cu91f"}]],A0=rt("fuel",TW);const RW=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],DW=rt("funnel",RW);const MW=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],zl=rt("gauge",MW);const PW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],OW=rt("globe",PW);const LW=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Kl=rt("heart",LW);const FW=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],Q6=rt("house",FW);const BW=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Zc=rt("image",BW);const IW=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],J6=rt("instagram",IW);const zW=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],eM=rt("key-round",zW);const UW=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],CN=rt("layout-dashboard",UW);const $W=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],VW=rt("lightbulb",$W);const HW=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],tM=rt("linkedin",HW);const qW=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],zx=rt("loader-circle",qW);const WW=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Il=rt("lock",WW);const GW=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Xl=rt("log-out",GW);const YW=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],HE=rt("log-in",YW);const KW=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],za=rt("mail",KW);const XW=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ps=rt("map-pin",XW);const ZW=[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]],sM=rt("megaphone",ZW);const QW=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],rM=rt("menu",QW);const JW=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],ii=rt("message-circle",JW);const eG=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],E0=rt("message-square",eG);const tG=[["path",{d:"M5 12h14",key:"1ays0h"}]],sG=rt("minus",tG);const rG=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Ux=rt("moon",rG);const nG=[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]],dd=rt("mouse-pointer-click",nG);const aG=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],nM=rt("navigation",aG);const iG=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Fi=rt("package",iG);const oG=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],lG=rt("palette",oG);const cG=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],aM=rt("paperclip",cG);const dG=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],qE=rt("pen",dG);const uG=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],WE=rt("percent",uG);const hG=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],di=rt("phone",hG);const fG=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],er=rt("plus",fG);const mG=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],pG=rt("receipt",mG);const gG=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],dh=rt("refresh-ccw",gG);const xG=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Tt=rt("refresh-cw",xG);const yG=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],bG=rt("save",yG);const vG=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],iM=rt("scale",vG);const wG=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Fr=rt("search",wG);const jG=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],T0=rt("send",jG);const _G=[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],GE=rt("settings-2",_G);const NG=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Rm=rt("settings",NG);const SG=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],kG=rt("shield-check",SG);const CG=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Zn=rt("shield",CG);const AG=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],EG=rt("sliders-horizontal",AG);const TG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],oM=rt("smile",TG);const RG=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Ul=rt("sparkles",RG);const DG=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],br=rt("square-pen",DG);const MG=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],rr=rt("star",MG);const PG=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],OG=rt("store",PG);const LG=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],$x=rt("sun",LG);const FG=[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]],BG=rt("table-2",FG);const IG=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Vx=rt("tag",IG);const zG=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],r_=rt("timer",zG);const UG=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Xs=rt("trash-2",UG);const $G=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],Dm=rt("trash",$G);const VG=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Zl=rt("trending-up",VG);const HG=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Pu=rt("triangle-alert",HG);const qG=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],lM=rt("twitter",qG);const WG=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],YE=rt("upload",WG);const GG=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],Hx=rt("user-check",GG);const YG=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],KG=rt("user-plus",YG);const XG=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Gi=rt("user",XG);const ZG=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],ks=rt("users",ZG);const QG=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],qx=rt("wallet",QG);const JG=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],gr=rt("x",JG);const eY=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],tY=rt("youtube",eY);const sY=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Wx=rt("zap",sY);function cM(t,e){return function(){return t.apply(e,arguments)}}const{toString:rY}=Object.prototype,{getPrototypeOf:AN}=Object,{iterator:R0,toStringTag:dM}=Symbol,D0=(t=>e=>{const r=rY.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),fi=t=>(t=t.toLowerCase(),e=>D0(e)===t),M0=t=>e=>typeof e===t,{isArray:uh}=Array,Hu=M0("undefined");function Mm(t){return t!==null&&!Hu(t)&&t.constructor!==null&&!Hu(t.constructor)&&Yn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const uM=fi("ArrayBuffer");function nY(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&uM(t.buffer),e}const aY=M0("string"),Yn=M0("function"),hM=M0("number"),Pm=t=>t!==null&&typeof t=="object",iY=t=>t===!0||t===!1,px=t=>{if(D0(t)!=="object")return!1;const e=AN(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(dM in t)&&!(R0 in t)},oY=t=>{if(!Pm(t)||Mm(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},lY=fi("Date"),cY=fi("File"),dY=fi("Blob"),uY=fi("FileList"),hY=t=>Pm(t)&&Yn(t.pipe),fY=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Yn(t.append)&&((e=D0(t))==="formdata"||e==="object"&&Yn(t.toString)&&t.toString()==="[object FormData]"))},mY=fi("URLSearchParams"),[pY,gY,xY,yY]=["ReadableStream","Request","Response","Headers"].map(fi),bY=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Om(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,a;if(typeof t!="object"&&(t=[t]),uh(t))for(n=0,a=t.length;n<a;n++)e.call(null,t[n],n,t);else{if(Mm(t))return;const i=r?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let c;for(n=0;n<o;n++)c=i[n],e.call(null,t[c],c,t)}}function fM(t,e){if(Mm(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,a;for(;n-- >0;)if(a=r[n],e===a.toLowerCase())return a;return null}const nd=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,mM=t=>!Hu(t)&&t!==nd;function n_(){const{caseless:t,skipUndefined:e}=mM(this)&&this||{},r={},n=(a,i)=>{if(i==="__proto__"||i==="constructor"||i==="prototype")return;const o=t&&fM(r,i)||i;px(r[o])&&px(a)?r[o]=n_(r[o],a):px(a)?r[o]=n_({},a):uh(a)?r[o]=a.slice():(!e||!Hu(a))&&(r[o]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&Om(arguments[a],n);return r}const vY=(t,e,r,{allOwnKeys:n}={})=>(Om(e,(a,i)=>{r&&Yn(a)?Object.defineProperty(t,i,{value:cM(a,r),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(t,i,{value:a,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:n}),t),wY=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),jY=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},_Y=(t,e,r,n)=>{let a,i,o;const c={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),i=a.length;i-- >0;)o=a[i],(!n||n(o,t,e))&&!c[o]&&(e[o]=t[o],c[o]=!0);t=r!==!1&&AN(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},NY=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},SY=t=>{if(!t)return null;if(uh(t))return t;let e=t.length;if(!hM(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},kY=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&AN(Uint8Array)),CY=(t,e)=>{const n=(t&&t[R0]).call(t);let a;for(;(a=n.next())&&!a.done;){const i=a.value;e.call(t,i[0],i[1])}},AY=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},EY=fi("HTMLFormElement"),TY=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),KE=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),RY=fi("RegExp"),pM=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Om(r,(a,i)=>{let o;(o=e(a,i,t))!==!1&&(n[i]=o||a)}),Object.defineProperties(t,n)},DY=t=>{pM(t,(e,r)=>{if(Yn(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Yn(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},MY=(t,e)=>{const r={},n=a=>{a.forEach(i=>{r[i]=!0})};return uh(t)?n(t):n(String(t).split(e)),r},PY=()=>{},OY=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function LY(t){return!!(t&&Yn(t.append)&&t[dM]==="FormData"&&t[R0])}const FY=t=>{const e=new Array(10),r=(n,a)=>{if(Pm(n)){if(e.indexOf(n)>=0)return;if(Mm(n))return n;if(!("toJSON"in n)){e[a]=n;const i=uh(n)?[]:{};return Om(n,(o,c)=>{const d=r(o,a+1);!Hu(d)&&(i[c]=d)}),e[a]=void 0,i}}return n};return r(t,0)},BY=fi("AsyncFunction"),IY=t=>t&&(Pm(t)||Yn(t))&&Yn(t.then)&&Yn(t.catch),gM=((t,e)=>t?setImmediate:e?((r,n)=>(nd.addEventListener("message",({source:a,data:i})=>{a===nd&&i===r&&n.length&&n.shift()()},!1),a=>{n.push(a),nd.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Yn(nd.postMessage)),zY=typeof queueMicrotask<"u"?queueMicrotask.bind(nd):typeof process<"u"&&process.nextTick||gM,UY=t=>t!=null&&Yn(t[R0]),$e={isArray:uh,isArrayBuffer:uM,isBuffer:Mm,isFormData:fY,isArrayBufferView:nY,isString:aY,isNumber:hM,isBoolean:iY,isObject:Pm,isPlainObject:px,isEmptyObject:oY,isReadableStream:pY,isRequest:gY,isResponse:xY,isHeaders:yY,isUndefined:Hu,isDate:lY,isFile:cY,isBlob:dY,isRegExp:RY,isFunction:Yn,isStream:hY,isURLSearchParams:mY,isTypedArray:kY,isFileList:uY,forEach:Om,merge:n_,extend:vY,trim:bY,stripBOM:wY,inherits:jY,toFlatObject:_Y,kindOf:D0,kindOfTest:fi,endsWith:NY,toArray:SY,forEachEntry:CY,matchAll:AY,isHTMLForm:EY,hasOwnProperty:KE,hasOwnProp:KE,reduceDescriptors:pM,freezeMethods:DY,toObjectSet:MY,toCamelCase:TY,noop:PY,toFiniteNumber:OY,findKey:fM,global:nd,isContextDefined:mM,isSpecCompliantForm:LY,toJSONObject:FY,isAsyncFn:BY,isThenable:IY,setImmediate:gM,asap:zY,isIterable:UY};let Ut=class xM extends Error{static from(e,r,n,a,i,o){const c=new xM(e.message,r||e.code,n,a,i);return c.cause=e,c.name=e.name,o&&Object.assign(c,o),c}constructor(e,r,n,a,i){super(e),this.name="AxiosError",this.isAxiosError=!0,r&&(this.code=r),n&&(this.config=n),a&&(this.request=a),i&&(this.response=i,this.status=i.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:$e.toJSONObject(this.config),code:this.code,status:this.status}}};Ut.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Ut.ERR_BAD_OPTION="ERR_BAD_OPTION";Ut.ECONNABORTED="ECONNABORTED";Ut.ETIMEDOUT="ETIMEDOUT";Ut.ERR_NETWORK="ERR_NETWORK";Ut.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Ut.ERR_DEPRECATED="ERR_DEPRECATED";Ut.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Ut.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Ut.ERR_CANCELED="ERR_CANCELED";Ut.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Ut.ERR_INVALID_URL="ERR_INVALID_URL";const $Y=null;function a_(t){return $e.isPlainObject(t)||$e.isArray(t)}function yM(t){return $e.endsWith(t,"[]")?t.slice(0,-2):t}function XE(t,e,r){return t?t.concat(e).map(function(a,i){return a=yM(a),!r&&i?"["+a+"]":a}).join(r?".":""):e}function VY(t){return $e.isArray(t)&&!t.some(a_)}const HY=$e.toFlatObject($e,{},null,function(e){return/^is[A-Z]/.test(e)});function P0(t,e,r){if(!$e.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=$e.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,_){return!$e.isUndefined(_[w])});const n=r.metaTokens,a=r.visitor||m,i=r.dots,o=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&$e.isSpecCompliantForm(e);if(!$e.isFunction(a))throw new TypeError("visitor must be a function");function h(v){if(v===null)return"";if($e.isDate(v))return v.toISOString();if($e.isBoolean(v))return v.toString();if(!d&&$e.isBlob(v))throw new Ut("Blob is not supported. Use a Buffer instead.");return $e.isArrayBuffer(v)||$e.isTypedArray(v)?d&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function m(v,w,_){let b=v;if(v&&!_&&typeof v=="object"){if($e.endsWith(w,"{}"))w=n?w:w.slice(0,-2),v=JSON.stringify(v);else if($e.isArray(v)&&VY(v)||($e.isFileList(v)||$e.endsWith(w,"[]"))&&(b=$e.toArray(v)))return w=yM(w),b.forEach(function(k,S){!($e.isUndefined(k)||k===null)&&e.append(o===!0?XE([w],S,i):o===null?w:w+"[]",h(k))}),!1}return a_(v)?!0:(e.append(XE(_,w,i),h(v)),!1)}const f=[],g=Object.assign(HY,{defaultVisitor:m,convertValue:h,isVisitable:a_});function y(v,w){if(!$e.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+w.join("."));f.push(v),$e.forEach(v,function(b,N){(!($e.isUndefined(b)||b===null)&&a.call(e,b,$e.isString(N)?N.trim():N,w,g))===!0&&y(b,w?w.concat(N):[N])}),f.pop()}}if(!$e.isObject(t))throw new TypeError("data must be an object");return y(t),e}function ZE(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function EN(t,e){this._pairs=[],t&&P0(t,this,e)}const bM=EN.prototype;bM.append=function(e,r){this._pairs.push([e,r])};bM.toString=function(e){const r=e?function(n){return e.call(this,n,ZE)}:ZE;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function qY(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function vM(t,e,r){if(!e)return t;const n=r&&r.encode||qY,a=$e.isFunction(r)?{serialize:r}:r,i=a&&a.serialize;let o;if(i?o=i(e,a):o=$e.isURLSearchParams(e)?e.toString():new EN(e,a).toString(n),o){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class QE{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){$e.forEach(this.handlers,function(n){n!==null&&e(n)})}}const TN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},WY=typeof URLSearchParams<"u"?URLSearchParams:EN,GY=typeof FormData<"u"?FormData:null,YY=typeof Blob<"u"?Blob:null,KY={isBrowser:!0,classes:{URLSearchParams:WY,FormData:GY,Blob:YY},protocols:["http","https","file","blob","url","data"]},RN=typeof window<"u"&&typeof document<"u",i_=typeof navigator=="object"&&navigator||void 0,XY=RN&&(!i_||["ReactNative","NativeScript","NS"].indexOf(i_.product)<0),ZY=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",QY=RN&&window.location.href||"http://localhost",JY=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:RN,hasStandardBrowserEnv:XY,hasStandardBrowserWebWorkerEnv:ZY,navigator:i_,origin:QY},Symbol.toStringTag,{value:"Module"})),fn={...JY,...KY};function eK(t,e){return P0(t,new fn.classes.URLSearchParams,{visitor:function(r,n,a,i){return fn.isNode&&$e.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function tK(t){return $e.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function sK(t){const e={},r=Object.keys(t);let n;const a=r.length;let i;for(n=0;n<a;n++)i=r[n],e[i]=t[i];return e}function wM(t){function e(r,n,a,i){let o=r[i++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),d=i>=r.length;return o=!o&&$e.isArray(a)?a.length:o,d?($e.hasOwnProp(a,o)?a[o]=[a[o],n]:a[o]=n,!c):((!a[o]||!$e.isObject(a[o]))&&(a[o]=[]),e(r,n,a[o],i)&&$e.isArray(a[o])&&(a[o]=sK(a[o])),!c)}if($e.isFormData(t)&&$e.isFunction(t.entries)){const r={};return $e.forEachEntry(t,(n,a)=>{e(tK(n),a,r,0)}),r}return null}function rK(t,e,r){if($e.isString(t))try{return(e||JSON.parse)(t),$e.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Lm={transitional:TN,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,i=$e.isObject(e);if(i&&$e.isHTMLForm(e)&&(e=new FormData(e)),$e.isFormData(e))return a?JSON.stringify(wM(e)):e;if($e.isArrayBuffer(e)||$e.isBuffer(e)||$e.isStream(e)||$e.isFile(e)||$e.isBlob(e)||$e.isReadableStream(e))return e;if($e.isArrayBufferView(e))return e.buffer;if($e.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return eK(e,this.formSerializer).toString();if((c=$e.isFileList(e))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return P0(c?{"files[]":e}:e,d&&new d,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),rK(e)):e}],transformResponse:[function(e){const r=this.transitional||Lm.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if($e.isResponse(e)||$e.isReadableStream(e))return e;if(e&&$e.isString(e)&&(n&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(e,this.parseReviver)}catch(c){if(o)throw c.name==="SyntaxError"?Ut.from(c,Ut.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:fn.classes.FormData,Blob:fn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};$e.forEach(["delete","get","head","post","put","patch"],t=>{Lm.headers[t]={}});const nK=$e.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),aK=t=>{const e={};let r,n,a;return t&&t.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),n=o.substring(a+1).trim(),!(!r||e[r]&&nK[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},JE=Symbol("internals");function _f(t){return t&&String(t).trim().toLowerCase()}function gx(t){return t===!1||t==null?t:$e.isArray(t)?t.map(gx):String(t)}function iK(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const oK=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Kv(t,e,r,n,a){if($e.isFunction(n))return n.call(this,e,r);if(a&&(e=r),!!$e.isString(e)){if($e.isString(n))return e.indexOf(n)!==-1;if($e.isRegExp(n))return n.test(e)}}function lK(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function cK(t,e){const r=$e.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(a,i,o){return this[n].call(this,e,a,i,o)},configurable:!0})})}let Kn=class{constructor(e){e&&this.set(e)}set(e,r,n){const a=this;function i(c,d,h){const m=_f(d);if(!m)throw new Error("header name must be a non-empty string");const f=$e.findKey(a,m);(!f||a[f]===void 0||h===!0||h===void 0&&a[f]!==!1)&&(a[f||d]=gx(c))}const o=(c,d)=>$e.forEach(c,(h,m)=>i(h,m,d));if($e.isPlainObject(e)||e instanceof this.constructor)o(e,r);else if($e.isString(e)&&(e=e.trim())&&!oK(e))o(aK(e),r);else if($e.isObject(e)&&$e.isIterable(e)){let c={},d,h;for(const m of e){if(!$e.isArray(m))throw TypeError("Object iterator must return a key-value pair");c[h=m[0]]=(d=c[h])?$e.isArray(d)?[...d,m[1]]:[d,m[1]]:m[1]}o(c,r)}else e!=null&&i(r,e,n);return this}get(e,r){if(e=_f(e),e){const n=$e.findKey(this,e);if(n){const a=this[n];if(!r)return a;if(r===!0)return iK(a);if($e.isFunction(r))return r.call(this,a,n);if($e.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=_f(e),e){const n=$e.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||Kv(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let a=!1;function i(o){if(o=_f(o),o){const c=$e.findKey(n,o);c&&(!r||Kv(n,n[c],c,r))&&(delete n[c],a=!0)}}return $e.isArray(e)?e.forEach(i):i(e),a}clear(e){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const i=r[n];(!e||Kv(this,this[i],i,e,!0))&&(delete this[i],a=!0)}return a}normalize(e){const r=this,n={};return $e.forEach(this,(a,i)=>{const o=$e.findKey(n,i);if(o){r[o]=gx(a),delete r[i];return}const c=e?lK(i):String(i).trim();c!==i&&delete r[i],r[c]=gx(a),n[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return $e.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=e&&$e.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(a=>n.set(a)),n}static accessor(e){const n=(this[JE]=this[JE]={accessors:{}}).accessors,a=this.prototype;function i(o){const c=_f(o);n[c]||(cK(a,o),n[c]=!0)}return $e.isArray(e)?e.forEach(i):i(e),this}};Kn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);$e.reduceDescriptors(Kn.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});$e.freezeMethods(Kn);function Xv(t,e){const r=this||Lm,n=e||r,a=Kn.from(n.headers);let i=n.data;return $e.forEach(t,function(c){i=c.call(r,i,a.normalize(),e?e.status:void 0)}),a.normalize(),i}function jM(t){return!!(t&&t.__CANCEL__)}let Fm=class extends Ut{constructor(e,r,n){super(e??"canceled",Ut.ERR_CANCELED,r,n),this.name="CanceledError",this.__CANCEL__=!0}};function _M(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Ut("Request failed with status code "+r.status,[Ut.ERR_BAD_REQUEST,Ut.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function dK(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function uK(t,e){t=t||10;const r=new Array(t),n=new Array(t);let a=0,i=0,o;return e=e!==void 0?e:1e3,function(d){const h=Date.now(),m=n[i];o||(o=h),r[a]=d,n[a]=h;let f=i,g=0;for(;f!==a;)g+=r[f++],f=f%t;if(a=(a+1)%t,a===i&&(i=(i+1)%t),h-o<e)return;const y=m&&h-m;return y?Math.round(g*1e3/y):void 0}}function hK(t,e){let r=0,n=1e3/e,a,i;const o=(h,m=Date.now())=>{r=m,a=null,i&&(clearTimeout(i),i=null),t(...h)};return[(...h)=>{const m=Date.now(),f=m-r;f>=n?o(h,m):(a=h,i||(i=setTimeout(()=>{i=null,o(a)},n-f)))},()=>a&&o(a)]}const Gx=(t,e,r=3)=>{let n=0;const a=uK(50,250);return hK(i=>{const o=i.loaded,c=i.lengthComputable?i.total:void 0,d=o-n,h=a(d),m=o<=c;n=o;const f={loaded:o,total:c,progress:c?o/c:void 0,bytes:d,rate:h||void 0,estimated:h&&c&&m?(c-o)/h:void 0,event:i,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(f)},r)},eT=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},tT=t=>(...e)=>$e.asap(()=>t(...e)),fK=fn.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,fn.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(fn.origin),fn.navigator&&/(msie|trident)/i.test(fn.navigator.userAgent)):()=>!0,mK=fn.hasStandardBrowserEnv?{write(t,e,r,n,a,i,o){if(typeof document>"u")return;const c=[`${t}=${encodeURIComponent(e)}`];$e.isNumber(r)&&c.push(`expires=${new Date(r).toUTCString()}`),$e.isString(n)&&c.push(`path=${n}`),$e.isString(a)&&c.push(`domain=${a}`),i===!0&&c.push("secure"),$e.isString(o)&&c.push(`SameSite=${o}`),document.cookie=c.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function pK(t){return typeof t!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function gK(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function NM(t,e,r){let n=!pK(e);return t&&(n||r==!1)?gK(t,e):e}const sT=t=>t instanceof Kn?{...t}:t;function bd(t,e){e=e||{};const r={};function n(h,m,f,g){return $e.isPlainObject(h)&&$e.isPlainObject(m)?$e.merge.call({caseless:g},h,m):$e.isPlainObject(m)?$e.merge({},m):$e.isArray(m)?m.slice():m}function a(h,m,f,g){if($e.isUndefined(m)){if(!$e.isUndefined(h))return n(void 0,h,f,g)}else return n(h,m,f,g)}function i(h,m){if(!$e.isUndefined(m))return n(void 0,m)}function o(h,m){if($e.isUndefined(m)){if(!$e.isUndefined(h))return n(void 0,h)}else return n(void 0,m)}function c(h,m,f){if(f in e)return n(h,m);if(f in t)return n(void 0,h)}const d={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(h,m,f)=>a(sT(h),sT(m),f,!0)};return $e.forEach(Object.keys({...t,...e}),function(m){if(m==="__proto__"||m==="constructor"||m==="prototype")return;const f=$e.hasOwnProp(d,m)?d[m]:a,g=f(t[m],e[m],m);$e.isUndefined(g)&&f!==c||(r[m]=g)}),r}const SM=t=>{const e=bd({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:c}=e;if(e.headers=o=Kn.from(o),e.url=vM(NM(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),$e.isFormData(r)){if(fn.hasStandardBrowserEnv||fn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if($e.isFunction(r.getHeaders)){const d=r.getHeaders(),h=["content-type","content-length"];Object.entries(d).forEach(([m,f])=>{h.includes(m.toLowerCase())&&o.set(m,f)})}}if(fn.hasStandardBrowserEnv&&(n&&$e.isFunction(n)&&(n=n(e)),n||n!==!1&&fK(e.url))){const d=a&&i&&mK.read(i);d&&o.set(a,d)}return e},xK=typeof XMLHttpRequest<"u",yK=xK&&function(t){return new Promise(function(r,n){const a=SM(t);let i=a.data;const o=Kn.from(a.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:h}=a,m,f,g,y,v;function w(){y&&y(),v&&v(),a.cancelToken&&a.cancelToken.unsubscribe(m),a.signal&&a.signal.removeEventListener("abort",m)}let _=new XMLHttpRequest;_.open(a.method.toUpperCase(),a.url,!0),_.timeout=a.timeout;function b(){if(!_)return;const k=Kn.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),C={data:!c||c==="text"||c==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:k,config:t,request:_};_M(function(E){r(E),w()},function(E){n(E),w()},C),_=null}"onloadend"in _?_.onloadend=b:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(b)},_.onabort=function(){_&&(n(new Ut("Request aborted",Ut.ECONNABORTED,t,_)),_=null)},_.onerror=function(S){const C=S&&S.message?S.message:"Network Error",I=new Ut(C,Ut.ERR_NETWORK,t,_);I.event=S||null,n(I),_=null},_.ontimeout=function(){let S=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const C=a.transitional||TN;a.timeoutErrorMessage&&(S=a.timeoutErrorMessage),n(new Ut(S,C.clarifyTimeoutError?Ut.ETIMEDOUT:Ut.ECONNABORTED,t,_)),_=null},i===void 0&&o.setContentType(null),"setRequestHeader"in _&&$e.forEach(o.toJSON(),function(S,C){_.setRequestHeader(C,S)}),$e.isUndefined(a.withCredentials)||(_.withCredentials=!!a.withCredentials),c&&c!=="json"&&(_.responseType=a.responseType),h&&([g,v]=Gx(h,!0),_.addEventListener("progress",g)),d&&_.upload&&([f,y]=Gx(d),_.upload.addEventListener("progress",f),_.upload.addEventListener("loadend",y)),(a.cancelToken||a.signal)&&(m=k=>{_&&(n(!k||k.type?new Fm(null,t,_):k),_.abort(),_=null)},a.cancelToken&&a.cancelToken.subscribe(m),a.signal&&(a.signal.aborted?m():a.signal.addEventListener("abort",m)));const N=dK(a.url);if(N&&fn.protocols.indexOf(N)===-1){n(new Ut("Unsupported protocol "+N+":",Ut.ERR_BAD_REQUEST,t));return}_.send(i||null)})},bK=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,a;const i=function(h){if(!a){a=!0,c();const m=h instanceof Error?h:this.reason;n.abort(m instanceof Ut?m:new Fm(m instanceof Error?m.message:m))}};let o=e&&setTimeout(()=>{o=null,i(new Ut(`timeout of ${e}ms exceeded`,Ut.ETIMEDOUT))},e);const c=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(i):h.removeEventListener("abort",i)}),t=null)};t.forEach(h=>h.addEventListener("abort",i));const{signal:d}=n;return d.unsubscribe=()=>$e.asap(c),d}},vK=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,a;for(;n<r;)a=n+e,yield t.slice(n,a),n=a},wK=async function*(t,e){for await(const r of jK(t))yield*vK(r,e)},jK=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},rT=(t,e,r,n)=>{const a=wK(t,e);let i=0,o,c=d=>{o||(o=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:h,value:m}=await a.next();if(h){c(),d.close();return}let f=m.byteLength;if(r){let g=i+=f;r(g)}d.enqueue(new Uint8Array(m))}catch(h){throw c(h),h}},cancel(d){return c(d),a.return()}},{highWaterMark:2})},nT=64*1024,{isFunction:_g}=$e,_K=(({Request:t,Response:e})=>({Request:t,Response:e}))($e.global),{ReadableStream:aT,TextEncoder:iT}=$e.global,oT=(t,...e)=>{try{return!!t(...e)}catch{return!1}},NK=t=>{t=$e.merge.call({skipUndefined:!0},_K,t);const{fetch:e,Request:r,Response:n}=t,a=e?_g(e):typeof fetch=="function",i=_g(r),o=_g(n);if(!a)return!1;const c=a&&_g(aT),d=a&&(typeof iT=="function"?(v=>w=>v.encode(w))(new iT):async v=>new Uint8Array(await new r(v).arrayBuffer())),h=i&&c&&oT(()=>{let v=!1;const w=new r(fn.origin,{body:new aT,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!w}),m=o&&c&&oT(()=>$e.isReadableStream(new n("").body)),f={stream:m&&(v=>v.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!f[v]&&(f[v]=(w,_)=>{let b=w&&w[v];if(b)return b.call(w);throw new Ut(`Response type '${v}' is not supported`,Ut.ERR_NOT_SUPPORT,_)})});const g=async v=>{if(v==null)return 0;if($e.isBlob(v))return v.size;if($e.isSpecCompliantForm(v))return(await new r(fn.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if($e.isArrayBufferView(v)||$e.isArrayBuffer(v))return v.byteLength;if($e.isURLSearchParams(v)&&(v=v+""),$e.isString(v))return(await d(v)).byteLength},y=async(v,w)=>{const _=$e.toFiniteNumber(v.getContentLength());return _??g(w)};return async v=>{let{url:w,method:_,data:b,signal:N,cancelToken:k,timeout:S,onDownloadProgress:C,onUploadProgress:I,responseType:E,headers:U,withCredentials:T="same-origin",fetchOptions:ne}=SM(v),q=e||fetch;E=E?(E+"").toLowerCase():"text";let F=bK([N,k&&k.toAbortSignal()],S),Y=null;const O=F&&F.unsubscribe&&(()=>{F.unsubscribe()});let se;try{if(I&&h&&_!=="get"&&_!=="head"&&(se=await y(U,b))!==0){let V=new r(w,{method:"POST",body:b,duplex:"half"}),W;if($e.isFormData(b)&&(W=V.headers.get("content-type"))&&U.setContentType(W),V.body){const[le,oe]=eT(se,Gx(tT(I)));b=rT(V.body,nT,le,oe)}}$e.isString(T)||(T=T?"include":"omit");const X=i&&"credentials"in r.prototype,M={...ne,signal:F,method:_.toUpperCase(),headers:U.normalize().toJSON(),body:b,duplex:"half",credentials:X?T:void 0};Y=i&&new r(w,M);let K=await(i?q(Y,ne):q(w,M));const z=m&&(E==="stream"||E==="response");if(m&&(C||z&&O)){const V={};["status","statusText","headers"].forEach(ve=>{V[ve]=K[ve]});const W=$e.toFiniteNumber(K.headers.get("content-length")),[le,oe]=C&&eT(W,Gx(tT(C),!0))||[];K=new n(rT(K.body,nT,le,()=>{oe&&oe(),O&&O()}),V)}E=E||"text";let he=await f[$e.findKey(f,E)||"text"](K,v);return!z&&O&&O(),await new Promise((V,W)=>{_M(V,W,{data:he,headers:Kn.from(K.headers),status:K.status,statusText:K.statusText,config:v,request:Y})})}catch(X){throw O&&O(),X&&X.name==="TypeError"&&/Load failed|fetch/i.test(X.message)?Object.assign(new Ut("Network Error",Ut.ERR_NETWORK,v,Y,X&&X.response),{cause:X.cause||X}):Ut.from(X,X&&X.code,v,Y,X&&X.response)}}},SK=new Map,kM=t=>{let e=t&&t.env||{};const{fetch:r,Request:n,Response:a}=e,i=[n,a,r];let o=i.length,c=o,d,h,m=SK;for(;c--;)d=i[c],h=m.get(d),h===void 0&&m.set(d,h=c?new Map:NK(e)),m=h;return h};kM();const DN={http:$Y,xhr:yK,fetch:{get:kM}};$e.forEach(DN,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const lT=t=>`- ${t}`,kK=t=>$e.isFunction(t)||t===null||t===!1;function CK(t,e){t=$e.isArray(t)?t:[t];const{length:r}=t;let n,a;const i={};for(let o=0;o<r;o++){n=t[o];let c;if(a=n,!kK(n)&&(a=DN[(c=String(n)).toLowerCase()],a===void 0))throw new Ut(`Unknown adapter '${c}'`);if(a&&($e.isFunction(a)||(a=a.get(e))))break;i[c||"#"+o]=a}if(!a){const o=Object.entries(i).map(([d,h])=>`adapter ${d} `+(h===!1?"is not supported by the environment":"is not available in the build"));let c=r?o.length>1?`since :
`+o.map(lT).join(`
`):" "+lT(o[0]):"as no adapter specified";throw new Ut("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return a}const CM={getAdapter:CK,adapters:DN};function Zv(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Fm(null,t)}function cT(t){return Zv(t),t.headers=Kn.from(t.headers),t.data=Xv.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),CM.getAdapter(t.adapter||Lm.adapter,t)(t).then(function(n){return Zv(t),n.data=Xv.call(t,t.transformResponse,n),n.headers=Kn.from(n.headers),n},function(n){return jM(n)||(Zv(t),n&&n.response&&(n.response.data=Xv.call(t,t.transformResponse,n.response),n.response.headers=Kn.from(n.response.headers))),Promise.reject(n)})}const AM="1.13.5",O0={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{O0[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const dT={};O0.transitional=function(e,r,n){function a(i,o){return"[Axios v"+AM+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,c)=>{if(e===!1)throw new Ut(a(o," has been removed"+(r?" in "+r:"")),Ut.ERR_DEPRECATED);return r&&!dT[o]&&(dT[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(i,o,c):!0}};O0.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function AK(t,e,r){if(typeof t!="object")throw new Ut("options must be an object",Ut.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let a=n.length;for(;a-- >0;){const i=n[a],o=e[i];if(o){const c=t[i],d=c===void 0||o(c,i,t);if(d!==!0)throw new Ut("option "+i+" must be "+d,Ut.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ut("Unknown option "+i,Ut.ERR_BAD_OPTION)}}const xx={assertOptions:AK,validators:O0},Oa=xx.validators;let ud=class{constructor(e){this.defaults=e||{},this.interceptors={request:new QE,response:new QE}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=bd(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:i}=r;n!==void 0&&xx.assertOptions(n,{silentJSONParsing:Oa.transitional(Oa.boolean),forcedJSONParsing:Oa.transitional(Oa.boolean),clarifyTimeoutError:Oa.transitional(Oa.boolean),legacyInterceptorReqResOrdering:Oa.transitional(Oa.boolean)},!1),a!=null&&($e.isFunction(a)?r.paramsSerializer={serialize:a}:xx.assertOptions(a,{encode:Oa.function,serialize:Oa.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),xx.assertOptions(r,{baseUrl:Oa.spelling("baseURL"),withXsrfToken:Oa.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&$e.merge(i.common,i[r.method]);i&&$e.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),r.headers=Kn.concat(o,i);const c=[];let d=!0;this.interceptors.request.forEach(function(w){if(typeof w.runWhen=="function"&&w.runWhen(r)===!1)return;d=d&&w.synchronous;const _=r.transitional||TN;_&&_.legacyInterceptorReqResOrdering?c.unshift(w.fulfilled,w.rejected):c.push(w.fulfilled,w.rejected)});const h=[];this.interceptors.response.forEach(function(w){h.push(w.fulfilled,w.rejected)});let m,f=0,g;if(!d){const v=[cT.bind(this),void 0];for(v.unshift(...c),v.push(...h),g=v.length,m=Promise.resolve(r);f<g;)m=m.then(v[f++],v[f++]);return m}g=c.length;let y=r;for(;f<g;){const v=c[f++],w=c[f++];try{y=v(y)}catch(_){w.call(this,_);break}}try{m=cT.call(this,y)}catch(v){return Promise.reject(v)}for(f=0,g=h.length;f<g;)m=m.then(h[f++],h[f++]);return m}getUri(e){e=bd(this.defaults,e);const r=NM(e.baseURL,e.url,e.allowAbsoluteUrls);return vM(r,e.params,e.paramsSerializer)}};$e.forEach(["delete","get","head","options"],function(e){ud.prototype[e]=function(r,n){return this.request(bd(n||{},{method:e,url:r,data:(n||{}).data}))}});$e.forEach(["post","put","patch"],function(e){function r(n){return function(i,o,c){return this.request(bd(c||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}ud.prototype[e]=r(),ud.prototype[e+"Form"]=r(!0)});let EK=class EM{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(c=>{n.subscribe(c),i=c}).then(a);return o.cancel=function(){n.unsubscribe(i)},o},e(function(i,o,c){n.reason||(n.reason=new Fm(i,o,c),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new EM(function(a){e=a}),cancel:e}}};function TK(t){return function(r){return t.apply(null,r)}}function RK(t){return $e.isObject(t)&&t.isAxiosError===!0}const o_={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(o_).forEach(([t,e])=>{o_[e]=t});function TM(t){const e=new ud(t),r=cM(ud.prototype.request,e);return $e.extend(r,ud.prototype,e,{allOwnKeys:!0}),$e.extend(r,e,null,{allOwnKeys:!0}),r.create=function(a){return TM(bd(t,a))},r}const Sr=TM(Lm);Sr.Axios=ud;Sr.CanceledError=Fm;Sr.CancelToken=EK;Sr.isCancel=jM;Sr.VERSION=AM;Sr.toFormData=P0;Sr.AxiosError=Ut;Sr.Cancel=Sr.CanceledError;Sr.all=function(e){return Promise.all(e)};Sr.spread=TK;Sr.isAxiosError=RK;Sr.mergeConfig=bd;Sr.AxiosHeaders=Kn;Sr.formToJSON=t=>wM($e.isHTMLForm(t)?new FormData(t):t);Sr.getAdapter=CM.getAdapter;Sr.HttpStatusCode=o_;Sr.default=Sr;const{Axios:Nwe,AxiosError:Swe,CanceledError:kwe,isCancel:Cwe,CancelToken:Awe,VERSION:Ewe,all:Twe,Cancel:Rwe,isAxiosError:Dwe,spread:Mwe,toFormData:Pwe,AxiosHeaders:Owe,HttpStatusCode:Lwe,formToJSON:Fwe,getAdapter:Bwe,mergeConfig:Iwe}=Sr;let l_="https://rento-lb.com/api/api";l_=l_.trim().replace(/\/+$/,"");const Oe=Sr.create({baseURL:l_,headers:{Accept:"application/json","Content-Type":"application/json"}});Oe.interceptors.request.use(t=>{const e=localStorage.getItem("token")||localStorage.getItem("authToken");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));Oe.interceptors.response.use(t=>t,t=>(t.response?.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("authToken"),localStorage.removeItem("user")),Promise.reject(t)));const hh=()=>{const[t,e]=j.useState(null),[r,n]=j.useState(!1),[a,i]=j.useState(!0);j.useEffect(()=>{const w=()=>{try{const b=localStorage.getItem("token")||localStorage.getItem("authToken"),N=localStorage.getItem("user");if(b&&N){const k=JSON.parse(N);e(k),n(!0)}else e(null),n(!1)}catch(b){console.error("Error loading user:",b),e(null),n(!1)}finally{i(!1)}};w();const _=b=>{(b.key==="user"||b.key==="token"||b.key==="authToken")&&w()};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)},[]);const o=w=>{w?(localStorage.setItem("user",JSON.stringify(w)),e(w),n(!0)):(localStorage.removeItem("user"),e(null),n(!1))},c=()=>{localStorage.removeItem("token"),localStorage.removeItem("authToken"),localStorage.removeItem("user"),e(null),n(!1)},d=t?.role==="client",h=t?.role==="agency"||t?.role==="agent",m=t?.role==="agency",f=t?.role==="agent",g=t?.role==="admin";return{user:t,isAuthenticated:r,loading:a,updateUser:o,logout:c,isClient:d,isAgent:h,isAgency:m,isAgentRole:f,isAdmin:g,hasRole:w=>t?Array.isArray(w)?w.includes(t.role):t.role===w:!1,hasPermission:w=>t?({client:["view_cars","book_cars","view_own_bookings","manage_own_profile","view_favorites"],agency:["view_cars","manage_cars","view_all_bookings","manage_bookings","view_dashboard","view_statistics","manage_own_profile"],agent:["view_cars","manage_cars","view_all_bookings","manage_bookings","view_dashboard","view_statistics","manage_own_profile"]}[t.role]||[]).includes(w):!1}},DK=()=>{const[t,e]=j.useState(!1),[r,n]=j.useState(!0),[a,i]=j.useState(0),[o,c]=j.useState(!1),d=ba(),h=Ur(),{isAuthenticated:m,isClient:f,isAgent:g,user:y,logout:v}=hh();j.useEffect(()=>{const E=localStorage.getItem("theme"),U=window.matchMedia("(prefers-color-scheme: dark)").matches,T=E==="dark"||!E&&U;n(T),T&&document.documentElement.classList.add("dark")},[]);const w=j.useCallback(async()=>{try{const E=await Oe.get("/cars/favorites/list",{params:{page:1,per_page:1}}),U=Number(E.data?.favorites?.total??0);i(Number.isFinite(U)?U:0)}catch(E){console.error("Fav count fetch error:",E),i(0)}},[]);j.useEffect(()=>{if(!m){i(0);return}w();const E=()=>w();return window.addEventListener("favoritesUpdated",E),()=>window.removeEventListener("favoritesUpdated",E)},[m,w,d.pathname]),j.useEffect(()=>{const E=()=>c(window.scrollY>20);return window.addEventListener("scroll",E),()=>window.removeEventListener("scroll",E)},[]);const _=()=>{const E=!r;n(E),E?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},b=async()=>{try{await Oe.post("/logout")}catch(E){console.error("Logout error:",E)}v(),be.success("Logged out successfully"),h("/"),e(!1)},N=[{to:"/",label:"Home"},{to:"/luxury-car-rental-lebanon",label:"Browse Cars"},{to:"/socialmedia",label:"About"},{to:"/contact",label:"Contact"}],k=f?[{to:"/ClientBookings",label:"My Bookings",icon:Hs}]:[],S=g?[{to:"/Dashboard",label:"Dashboard",icon:CN},{to:"/Mycars",label:"My Cars",icon:Gt},{to:"/Mycars-bookings",label:"Bookings",icon:Hs}]:[],C=[...N],I=E=>d.pathname===E;return s.jsx("nav",{className:`fixed top-0 left-0 right-0 z-50 glass-strong shadow-lg transition-all duration-300 ${o?"backdrop-blur":""}`,children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"flex items-center justify-between h-16 md:h-12",children:[s.jsxs(Us,{to:"/",className:"flex items-center space-x-2 group",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-transparent flex items-center justify-center hover-glow",children:s.jsx("img",{src:"/rentologo.png",alt:"Rento Logo",className:"rounded-lg w-10 h-10 object-contain"})}),s.jsx("span",{className:"text-xl md:text-2xl text-primary-foreground font-bold gradient-text hidden sm:block",children:"RENTO LB"})]}),s.jsxs("div",{className:"hidden md:flex text-primary-foreground items-center space-x-1",children:[C.map(E=>s.jsx(Us,{to:E.to,className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${I(E.to)?"bg-primary text-primary-foreground":"text-foreground/80 hover:text-foreground hover:bg-muted"}`,children:E.label},E.to)),g&&S.map(E=>s.jsxs(Us,{to:E.to,className:`px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-1.5 ${I(E.to)?"bg-primary text-primary-foreground":"text-foreground/80 hover:text-foreground hover:bg-muted"}`,children:[E.icon&&s.jsx(E.icon,{className:"w-4 h-4"}),E.label]},E.to)),f&&k.map(E=>s.jsxs(Us,{to:E.to,className:`px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-1.5 ${I(E.to)?"bg-primary text-primary-foreground":"text-foreground/80 hover:text-foreground hover:bg-muted"}`,children:[E.icon&&s.jsx(E.icon,{className:"w-4 h-4"}),E.label]},E.to))]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[m&&s.jsx(Us,{to:"/favorites",children:s.jsxs(pe,{variant:"ghost",size:"icon",className:"relative hover-glow","aria-label":"Open favorites",children:[s.jsx(Kl,{className:`w-5 h-5 ${a>0?"fill-accent text-accent":""}`,"aria-hidden":"true"}),a>0&&s.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-accent text-accent-foreground text-xs font-bold rounded-full flex items-center justify-center",children:a})]})}),m?s.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-primary/10 text-primary-foreground",children:[s.jsx(Gi,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:y?.username||"User"})]}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:b,className:"hover-glow hover:bg-red-500/10 hover:text-red-500","aria-label":"Logout",children:s.jsx(Xl,{className:"w-5 h-5"})})]}):s.jsx(Us,{to:"/auth",className:"hidden md:block",children:s.jsxs(pe,{variant:"default",size:"sm",className:"hover-glow",children:[s.jsx(HE,{className:"w-4 h-4 mr-2"}),"Login"]})}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:_,className:"hover-glow hidden sm:flex","aria-label":r?"Switch to light mode":"Switch to dark mode",children:r?s.jsx($x,{className:"w-5 h-5","aria-hidden":"true"}):s.jsx(Ux,{className:"w-5 h-5","aria-hidden":"true"})}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>e(!t),className:"md:hidden","aria-label":t?"Close menu":"Open menu","aria-expanded":t,"aria-controls":"mobile-nav",children:t?s.jsx(gr,{className:"w-6 h-6","aria-hidden":"true"}):s.jsx(rM,{className:"w-6 h-6","aria-hidden":"true"})})]})]}),t&&s.jsxs("div",{id:"mobile-nav",className:"md:hidden pb-4 space-y-2",children:[C.map(E=>s.jsx(Us,{to:E.to,onClick:()=>e(!1),className:`block px-4 py-3 rounded-lg text-sm font-medium transition-all ${I(E.to)?"bg-primary text-primary-foreground":"text-foreground/80 hover:bg-muted"}`,children:E.label},E.to)),g&&S.map(E=>s.jsxs(Us,{to:E.to,onClick:()=>e(!1),className:`block px-4 py-3 rounded-lg text-sm font-medium transition-all flex items-center gap-2 ${I(E.to)?"bg-primary text-primary-foreground":"text-foreground/80 hover:bg-muted"}`,children:[E.icon&&s.jsx(E.icon,{className:"w-4 h-4"}),E.label]},E.to)),f&&k.map(E=>s.jsxs(Us,{to:E.to,onClick:()=>e(!1),className:`block px-4 py-3 rounded-lg text-sm font-medium transition-all flex items-center gap-2 ${I(E.to)?"bg-primary text-primary-foreground":"text-foreground/80 hover:bg-muted"}`,children:[E.icon&&s.jsx(E.icon,{className:"w-4 h-4"}),E.label]},E.to)),m?s.jsx(s.Fragment,{children:s.jsxs("div",{className:"px-4 py-2 border-t border-gray-200 dark:border-gray-700 mt-2 pt-2",children:[s.jsxs("div",{className:"flex items-center gap-2 px-2 py-2 rounded-lg bg-primary/10 text-primary-foreground mb-2",children:[s.jsx(Gi,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:y?.username||"User"})]}),s.jsxs("button",{onClick:b,className:"w-full px-4 py-3 rounded-lg text-sm font-medium text-red-600 dark:text-red-400 hover:bg-red-500/10 text-left flex items-center gap-2",children:[s.jsx(Xl,{className:"w-4 h-4"}),"Logout"]})]})}):s.jsxs(Us,{to:"/auth",onClick:()=>e(!1),className:"block px-4 py-3 rounded-lg text-sm font-medium bg-primary text-primary-foreground hover:opacity-90 transition-all flex items-center gap-2",children:[s.jsx(HE,{className:"w-4 h-4"}),"Login / Register"]}),s.jsxs("button",{onClick:()=>{_(),e(!1)},className:"w-full px-4 py-3 rounded-lg text-sm font-medium text-foreground hover:bg-muted text-left flex items-center justify-between","aria-label":r?"Switch to light mode":"Switch to dark mode",children:[s.jsx("span",{children:r?"Light Mode":"Dark Mode"}),r?s.jsx($x,{className:"w-5 h-5","aria-hidden":"true"}):s.jsx(Ux,{className:"w-5 h-5","aria-hidden":"true"})]})]})]})})},Or={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640"},MK=()=>{const t=new Date().getFullYear(),e={company:[{label:"About Us",to:"/about"},{label:"Our Fleet",to:"/luxury-car-rental-lebanon"},{label:"Contact",to:"/contact"},{label:"Careers",to:"#"}],support:[{label:"Help Center",to:"#"},{label:"Safety",to:"#"},{label:"Terms of Service",to:"/Terms-and-Conditions"},{label:"Privacy Policy",to:"/Privacy-Policy"}],services:[{label:"Airport Pickup",to:"#"},{label:"Long-term Rental",to:"#"},{label:"Chauffeur Service",to:"#"},{label:"Corporate Plans",to:"#"}]},r=[{icon:X6,href:"https://www.facebook.com/profile.php?id=61585450048575",label:"Facebook",color:Or.darkBlue},{icon:lM,href:"https://x.com/RENTO_lb",label:"Twitter",color:Or.teal},{icon:J6,href:"https://www.instagram.com/rentolebanon/?hl=en",label:"Instagram",color:Or.limeGreen},{icon:tM,href:"https://www.linkedin.com/company/rento-lb/about/",label:"LinkedIn",color:Or.darkBlue}];return j.useEffect(()=>{const n="https://images.dmca.com/Badges/DMCABadgeHelper.min.js";if(document.querySelector(`script[src="${n}"]`))return;const i=document.createElement("script");i.src=n,i.async=!0,document.body.appendChild(i)},[]),s.jsx("footer",{className:"bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800 mt-12",children:s.jsxs("div",{className:"container mx-auto px-4 py-8 sm:py-10",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-6 lg:gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 mb-4 sm:mb-0",children:[s.jsxs(Us,{to:"/",className:"flex items-center space-x-2 mb-4",children:[s.jsx("img",{src:"/rentologo.png",alt:"Rento Logo",className:"rounded-lg w-10 h-10 object-contain"}),s.jsx("span",{className:"text-2xl font-bold bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(135deg, ${Or.darkBlue}, ${Or.teal}, ${Or.limeGreen})`},children:"RENTO LB"})]}),s.jsxs("div",{className:"space-y-2.5 text-sm",children:[s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(Ps,{className:"w-4 h-4 mt-0.5 flex-shrink-0",style:{color:Or.teal}}),s.jsx("div",{className:"flex-1",children:s.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-snug",children:"124-128 City Road, London, England, EC1V 2NX"})})]}),s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(Ps,{className:"w-4 h-4 mt-0.5 flex-shrink-0",style:{color:Or.teal}}),s.jsx("div",{className:"flex-1",children:s.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-snug",children:"Mount Lebanon, Baouchrieh, Lebanon"})})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(di,{className:"w-4 h-4 flex-shrink-0",style:{color:Or.darkBlue}}),s.jsx("a",{href:"tel:+96181001301",className:"text-gray-700 dark:text-gray-300 hover:underline",style:{color:Or.darkBlue},children:"+961 (81) 001-301"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(za,{className:"w-4 h-4 flex-shrink-0",style:{color:Or.limeGreen}}),s.jsx("a",{href:"mailto:social@rento-lb.com",className:"text-gray-700 dark:text-gray-300 hover:underline",style:{color:Or.limeGreen},children:"social@rento-lb.com"})]})]})]}),s.jsxs("div",{className:"mb-4 sm:mb-0",children:[s.jsx("h3",{className:"font-bold mb-3 text-base text-gray-900 dark:text-white",style:{color:Or.darkBlue},children:"Company"}),s.jsx("ul",{className:"space-y-2",children:e.company.map(n=>s.jsx("li",{children:s.jsx(Us,{to:n.to,className:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:n.label})},n.label))})]}),s.jsxs("div",{className:"mb-4 sm:mb-0",children:[s.jsx("h3",{className:"font-bold mb-3 text-base text-gray-900 dark:text-white",style:{color:Or.teal},children:"Support"}),s.jsx("ul",{className:"space-y-2",children:e.support.map(n=>s.jsx("li",{children:s.jsx(Us,{to:n.to,className:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:n.label})},n.label))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold mb-3 text-base text-gray-900 dark:text-white",style:{color:Or.limeGreen},children:"Services"}),s.jsx("ul",{className:"space-y-2",children:e.services.map(n=>s.jsx("li",{children:s.jsx(Us,{to:n.to,className:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:n.label})},n.label))})]})]}),s.jsx("div",{className:"my-8 border-t border-gray-200 dark:border-gray-800"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-3 text-center sm:text-left",children:"Follow Us"}),s.jsx("div",{className:"flex justify-center sm:justify-start items-center gap-3",children:r.map(n=>s.jsx("a",{href:n.href,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full flex items-center justify-center transition-all hover:scale-110 shadow-md hover:shadow-lg",style:{background:n.color},"aria-label":n.label,children:s.jsx(n.icon,{className:"w-5 h-5 text-white","aria-hidden":"true"})},n.label))})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-3 text-center sm:text-left",children:"Trust & Security"}),s.jsxs("div",{className:"flex flex-wrap justify-center sm:justify-start items-center gap-3",children:[s.jsx("a",{href:"https://www.dmca.com/r/em2gpk5",title:"DMCA.com Protection Status",className:"dmca-badge",target:"_blank",rel:"noopener noreferrer",children:s.jsx("img",{src:"https://images.dmca.com/Badges/DMCA_logo-std-btn120w.png?ID=25eee832-1169-46e9-9a63-19f82b7e1b01",alt:"DMCA.com Protection Status",className:"h-8 w-auto"})}),s.jsx("a",{href:"https://www.trustpilot.com/evaluate/rento-lb.com",target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 rounded-lg text-white text-xs font-semibold shadow-md hover:shadow-lg transition-all hover:scale-105",style:{background:Or.teal},children:" Trustpilot Review"}),s.jsx("span",{className:"px-4 py-2 rounded-lg text-white text-xs font-semibold shadow-md",style:{background:Or.limeGreen},children:" Google Verified"}),s.jsx("a",{href:"https://find-and-update.company-information.service.gov.uk/company/16292007",target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 rounded-lg text-white text-xs font-semibold shadow-md hover:shadow-lg transition-all hover:scale-105",style:{background:Or.darkBlue},children:" UK Registered"})]})]}),s.jsx("div",{className:"pt-6 border-t border-gray-200 dark:border-gray-800",children:s.jsxs("div",{className:"flex flex-col items-center text-center space-y-3",children:[s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[" ",t," ",s.jsx("span",{className:"font-semibold",style:{color:Or.teal},children:"RENTO LB"}),". All rights reserved."]}),s.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-4 text-xs text-gray-500 dark:text-gray-500",children:[s.jsx(Us,{to:"#",className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"Privacy Policy"}),s.jsx("span",{className:"text-gray-300 dark:text-gray-700",children:""}),s.jsx(Us,{to:"#",className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"Terms of Service"}),s.jsx("span",{className:"text-gray-300 dark:text-gray-700",children:""}),s.jsx(Us,{to:"#",className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"Cookie Policy"})]}),s.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:["Made with ",s.jsx("span",{className:"text-red-500",children:""})," in Lebanon & UK"]})]})})]})})},PK=()=>{const t=ba(),e=Ur(),{user:r,logout:n}=hh(),[a,i]=j.useState(!1),[o,c]=j.useState(!1);j.useEffect(()=>{const f=()=>i(window.scrollY>20);return window.addEventListener("scroll",f),()=>window.removeEventListener("scroll",f)},[]);const d=async()=>{try{await Oe.post("/logout")}catch(f){console.error("Logout error:",f)}n(),be.success("Logged out successfully"),e("/")},h=[{to:"/Dashboard",label:"Dashboard",icon:CN},{to:"/Statistic",label:"Statistics",icon:Vu},{to:"/Mycars",label:"My Cars",icon:Gt},{to:"/Mycars-bookings",label:"Bookings",icon:Hs},{to:"/Balance",label:"Balance",icon:qx},{to:"/add-car",label:"Add Car",icon:er},{to:"/Add/car/qualification",label:"Qualifications",icon:Z6}],m=f=>f==="/Dashboard"?t.pathname==="/Dashboard":t.pathname.startsWith(f);return s.jsx("nav",{className:`fixed top-0 left-0 right-0 z-50 glass-strong shadow-lg transition-all duration-300 ${a?"backdrop-blur":""}`,children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"flex items-center justify-between h-16 md:h-12",children:[s.jsxs(Us,{to:"/",className:"flex items-center space-x-2 group",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-transparent flex items-center justify-center hover-glow",children:s.jsx("img",{src:"/rentologo.png",alt:"Rento Logo",className:"rounded-lg w-10 h-10 object-contain"})}),s.jsx("span",{className:"text-xl md:text-2xl text-primary-foreground font-bold gradient-text hidden sm:block",children:"RENTO LB"})]}),s.jsx("div",{className:"hidden md:flex text-primary-foreground items-center space-x-1 flex-1 justify-center",children:h.map(f=>s.jsxs(Us,{to:f.to,className:`px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-1.5 ${m(f.to)?"bg-primary text-primary-foreground":"text-foreground/80 hover:text-foreground hover:bg-muted"}`,children:[f.icon&&s.jsx(f.icon,{className:"w-4 h-4"}),f.label]},f.to))}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Us,{to:"/",children:s.jsx(pe,{variant:"ghost",size:"icon",className:"hover-glow","aria-label":"Go to home",children:s.jsx(Q6,{className:"w-5 h-5"})})}),s.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-primary/10 text-primary-foreground",children:[s.jsx(Gi,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:r?.username||"Agent"})]}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:d,className:"hover-glow hover:bg-red-500/10 hover:text-red-500","aria-label":"Logout",children:s.jsx(Xl,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"md:hidden",children:s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>c(!o),className:"hover-glow","aria-label":"Menu",children:o?s.jsx("svg",{className:"w-6 h-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{d:"M6 18L18 6M6 6l12 12"})}):s.jsx("svg",{className:"w-6 h-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{d:"M4 6h16M4 12h16M4 18h16"})})})})]})]}),o&&s.jsx("div",{className:"md:hidden pb-4 border-t border-border/40 mt-2 pt-4",children:s.jsxs("div",{className:"flex flex-col space-y-2",children:[h.map(f=>s.jsxs(Us,{to:f.to,onClick:()=>c(!1),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-2 ${m(f.to)?"bg-primary text-primary-foreground":"text-foreground/80 hover:text-foreground hover:bg-muted"}`,children:[f.icon&&s.jsx(f.icon,{className:"w-4 h-4"}),f.label]},f.to)),s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 mt-2",children:[s.jsx(Gi,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:r?.username||"Agent"})]}),s.jsxs(pe,{variant:"ghost",onClick:()=>{c(!1),d()},className:"w-full justify-start hover:bg-red-500/10 hover:text-red-500",children:[s.jsx(Xl,{className:"w-4 h-4 mr-2"}),"Logout"]})]})})]})})},Bc=({children:t,noIndex:e=!1})=>s.jsxs(s.Fragment,{children:[s.jsx(PK,{}),s.jsx("main",{className:"pt-16 md:pt-12 min-h-screen",children:t})]}),uT="rento_device_id",Bf=64;function hT(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function RM(){try{let t=typeof localStorage<"u"?localStorage.getItem(uT):null;return(!t||t.length>Bf)&&(t=hT(),t.length>Bf&&(t=t.slice(0,Bf)),typeof localStorage<"u"&&localStorage.setItem(uT,t)),t}catch{return hT().slice(0,Bf)}}const DM=async(t,e)=>{const r=typeof t=="string"&&t.trim()?t.trim().startsWith("+")?t.trim():`+${t.trim()}`:"",n=e&&String(e).slice(0,Bf)||RM();return(await Oe.post("/auth/send-otp",{phone_number:r,device_id:n})).data},OK=async t=>{const e=t.trim().startsWith("+")?t.trim():`+${t.trim()}`;return(await Oe.post("/auth/forgot-password",{phone_number:e})).data},MM=async(t,e)=>{const r=t.replace(/^\+/,"");return(await Oe.post("/auth/verify-otp",{phone_number:r,otp_code:e})).data},Se=j.forwardRef(({className:t,type:e,...r},n)=>s.jsx("input",{type:e,className:St("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));Se.displayName="Input";var LK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],FK=LK.reduce((t,e)=>{const r=jN(`Primitive.${e}`),n=j.forwardRef((a,i)=>{const{asChild:o,...c}=a,d=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...c,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),BK="Label",PM=j.forwardRef((t,e)=>s.jsx(FK.label,{...t,ref:e,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));PM.displayName=BK;var OM=PM;const IK=_N("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),de=j.forwardRef(({className:t,...e},r)=>s.jsx(OM,{ref:r,className:St(IK(),t),...e}));de.displayName=OM.displayName;const Ue=j.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:St("rounded-xl border bg-card text-card-foreground shadow",t),...e}));Ue.displayName="Card";const gs=j.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:St("flex flex-col space-y-1.5 p-6",t),...e}));gs.displayName="CardHeader";const xs=j.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:St("font-semibold leading-none tracking-tight",t),...e}));xs.displayName="CardTitle";const cm=j.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:St("text-sm text-muted-foreground",t),...e}));cm.displayName="CardDescription";const qe=j.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:St("p-6 pt-0",t),...e}));qe.displayName="CardContent";const zK=j.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:St("flex items-center p-6 pt-0",t),...e}));zK.displayName="CardFooter";function pt(t,e,{checkForDefaultPrevented:r=!0}={}){return function(a){if(t?.(a),r===!1||!a.defaultPrevented)return e?.(a)}}function UK(t,e){const r=j.createContext(e),n=i=>{const{children:o,...c}=i,d=j.useMemo(()=>c,Object.values(c));return s.jsx(r.Provider,{value:d,children:o})};n.displayName=t+"Provider";function a(i){const o=j.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[n,a]}function va(t,e=[]){let r=[];function n(i,o){const c=j.createContext(o),d=r.length;r=[...r,o];const h=f=>{const{scope:g,children:y,...v}=f,w=g?.[t]?.[d]||c,_=j.useMemo(()=>v,Object.values(v));return s.jsx(w.Provider,{value:_,children:y})};h.displayName=i+"Provider";function m(f,g){const y=g?.[t]?.[d]||c,v=j.useContext(y);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[h,m]}const a=()=>{const i=r.map(o=>j.createContext(o));return function(c){const d=c?.[t]||i;return j.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return a.scopeName=t,[n,$K(a,...e)]}function $K(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((c,{useScope:d,scopeName:h})=>{const f=d(i)[`__scope${h}`];return{...c,...f}},{});return j.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function fT(t){const e=VK(t),r=j.forwardRef((n,a)=>{const{children:i,...o}=n,c=j.Children.toArray(i),d=c.find(qK);if(d){const h=d.props.children,m=c.map(f=>f===d?j.Children.count(h)>1?j.Children.only(null):j.isValidElement(h)?h.props.children:null:f);return s.jsx(e,{...o,ref:a,children:j.isValidElement(h)?j.cloneElement(h,void 0,m):null})}return s.jsx(e,{...o,ref:a,children:i})});return r.displayName=`${t}.Slot`,r}function VK(t){const e=j.forwardRef((r,n)=>{const{children:a,...i}=r;if(j.isValidElement(a)){const o=GK(a),c=WK(i,a.props);return a.type!==j.Fragment&&(c.ref=n?Go(n,o):o),j.cloneElement(a,c)}return j.Children.count(a)>1?j.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var HK=Symbol("radix.slottable");function qK(t){return j.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===HK}function WK(t,e){const r={...e};for(const n in e){const a=t[n],i=e[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...t,...r}}function GK(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function L0(t){const e=t+"CollectionProvider",[r,n]=va(e),[a,i]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:_,children:b}=w,N=ot.useRef(null),k=ot.useRef(new Map).current;return s.jsx(a,{scope:_,itemMap:k,collectionRef:N,children:b})};o.displayName=e;const c=t+"CollectionSlot",d=fT(c),h=ot.forwardRef((w,_)=>{const{scope:b,children:N}=w,k=i(c,b),S=es(_,k.collectionRef);return s.jsx(d,{ref:S,children:N})});h.displayName=c;const m=t+"CollectionItemSlot",f="data-radix-collection-item",g=fT(m),y=ot.forwardRef((w,_)=>{const{scope:b,children:N,...k}=w,S=ot.useRef(null),C=es(_,S),I=i(m,b);return ot.useEffect(()=>(I.itemMap.set(S,{ref:S,...k}),()=>void I.itemMap.delete(S))),s.jsx(g,{[f]:"",ref:C,children:N})});y.displayName=m;function v(w){const _=i(t+"CollectionConsumer",w);return ot.useCallback(()=>{const N=_.collectionRef.current;if(!N)return[];const k=Array.from(N.querySelectorAll(`[${f}]`));return Array.from(_.itemMap.values()).sort((I,E)=>k.indexOf(I.ref.current)-k.indexOf(E.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:o,Slot:h,ItemSlot:y},v,n]}var bn=globalThis?.document?j.useLayoutEffect:()=>{},YK=mN[" useId ".trim().toString()]||(()=>{}),KK=0;function Ui(t){const[e,r]=j.useState(YK());return bn(()=>{r(n=>n??String(KK++))},[t]),e?`radix-${e}`:""}function XK(t){const e=ZK(t),r=j.forwardRef((n,a)=>{const{children:i,...o}=n,c=j.Children.toArray(i),d=c.find(JK);if(d){const h=d.props.children,m=c.map(f=>f===d?j.Children.count(h)>1?j.Children.only(null):j.isValidElement(h)?h.props.children:null:f);return s.jsx(e,{...o,ref:a,children:j.isValidElement(h)?j.cloneElement(h,void 0,m):null})}return s.jsx(e,{...o,ref:a,children:i})});return r.displayName=`${t}.Slot`,r}function ZK(t){const e=j.forwardRef((r,n)=>{const{children:a,...i}=r;if(j.isValidElement(a)){const o=tX(a),c=eX(i,a.props);return a.type!==j.Fragment&&(c.ref=n?Go(n,o):o),j.cloneElement(a,c)}return j.Children.count(a)>1?j.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var QK=Symbol("radix.slottable");function JK(t){return j.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===QK}function eX(t,e){const r={...e};for(const n in e){const a=t[n],i=e[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...t,...r}}function tX(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var sX=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Bt=sX.reduce((t,e)=>{const r=XK(`Primitive.${e}`),n=j.forwardRef((a,i)=>{const{asChild:o,...c}=a,d=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...c,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function LM(t,e){t&&Tm.flushSync(()=>t.dispatchEvent(e))}function Yi(t){const e=j.useRef(t);return j.useEffect(()=>{e.current=t}),j.useMemo(()=>(...r)=>e.current?.(...r),[])}var rX=mN[" useInsertionEffect ".trim().toString()]||bn;function zo({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[a,i,o]=nX({defaultProp:e,onChange:r}),c=t!==void 0,d=c?t:a;{const m=j.useRef(t!==void 0);j.useEffect(()=>{const f=m.current;f!==c&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,n])}const h=j.useCallback(m=>{if(c){const f=aX(m)?m(t):m;f!==t&&o.current?.(f)}else i(m)},[c,t,i,o]);return[d,h]}function nX({defaultProp:t,onChange:e}){const[r,n]=j.useState(t),a=j.useRef(r),i=j.useRef(e);return rX(()=>{i.current=e},[e]),j.useEffect(()=>{a.current!==r&&(i.current?.(r),a.current=r)},[r,a]),[r,n,i]}function aX(t){return typeof t=="function"}var iX=j.createContext(void 0);function Bm(t){const e=j.useContext(iX);return t||e||"ltr"}var Qv="rovingFocusGroup.onEntryFocus",oX={bubbles:!1,cancelable:!0},Im="RovingFocusGroup",[c_,FM,lX]=L0(Im),[cX,F0]=va(Im,[lX]),[dX,uX]=cX(Im),BM=j.forwardRef((t,e)=>s.jsx(c_.Provider,{scope:t.__scopeRovingFocusGroup,children:s.jsx(c_.Slot,{scope:t.__scopeRovingFocusGroup,children:s.jsx(hX,{...t,ref:e})})}));BM.displayName=Im;var hX=j.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:h,preventScrollOnEntryFocus:m=!1,...f}=t,g=j.useRef(null),y=es(e,g),v=Bm(i),[w,_]=zo({prop:o,defaultProp:c??null,onChange:d,caller:Im}),[b,N]=j.useState(!1),k=Yi(h),S=FM(r),C=j.useRef(!1),[I,E]=j.useState(0);return j.useEffect(()=>{const U=g.current;if(U)return U.addEventListener(Qv,k),()=>U.removeEventListener(Qv,k)},[k]),s.jsx(dX,{scope:r,orientation:n,dir:v,loop:a,currentTabStopId:w,onItemFocus:j.useCallback(U=>_(U),[_]),onItemShiftTab:j.useCallback(()=>N(!0),[]),onFocusableItemAdd:j.useCallback(()=>E(U=>U+1),[]),onFocusableItemRemove:j.useCallback(()=>E(U=>U-1),[]),children:s.jsx(Bt.div,{tabIndex:b||I===0?-1:0,"data-orientation":n,...f,ref:y,style:{outline:"none",...t.style},onMouseDown:pt(t.onMouseDown,()=>{C.current=!0}),onFocus:pt(t.onFocus,U=>{const T=!C.current;if(U.target===U.currentTarget&&T&&!b){const ne=new CustomEvent(Qv,oX);if(U.currentTarget.dispatchEvent(ne),!ne.defaultPrevented){const q=S().filter(X=>X.focusable),F=q.find(X=>X.active),Y=q.find(X=>X.id===w),se=[F,Y,...q].filter(Boolean).map(X=>X.ref.current);UM(se,m)}}C.current=!1}),onBlur:pt(t.onBlur,()=>N(!1))})})}),IM="RovingFocusGroupItem",zM=j.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...c}=t,d=Ui(),h=i||d,m=uX(IM,r),f=m.currentTabStopId===h,g=FM(r),{onFocusableItemAdd:y,onFocusableItemRemove:v,currentTabStopId:w}=m;return j.useEffect(()=>{if(n)return y(),()=>v()},[n,y,v]),s.jsx(c_.ItemSlot,{scope:r,id:h,focusable:n,active:a,children:s.jsx(Bt.span,{tabIndex:f?0:-1,"data-orientation":m.orientation,...c,ref:e,onMouseDown:pt(t.onMouseDown,_=>{n?m.onItemFocus(h):_.preventDefault()}),onFocus:pt(t.onFocus,()=>m.onItemFocus(h)),onKeyDown:pt(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){m.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const b=pX(_,m.orientation,m.dir);if(b!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let k=g().filter(S=>S.focusable).map(S=>S.ref.current);if(b==="last")k.reverse();else if(b==="prev"||b==="next"){b==="prev"&&k.reverse();const S=k.indexOf(_.currentTarget);k=m.loop?gX(k,S+1):k.slice(S+1)}setTimeout(()=>UM(k))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:w!=null}):o})})});zM.displayName=IM;var fX={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function mX(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function pX(t,e,r){const n=mX(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return fX[n]}function UM(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function gX(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var $M=BM,VM=zM;function xX(t,e){return j.useReducer((r,n)=>e[r][n]??r,t)}var qa=t=>{const{present:e,children:r}=t,n=yX(e),a=typeof r=="function"?r({present:n.isPresent}):j.Children.only(r),i=es(n.ref,bX(a));return typeof r=="function"||n.isPresent?j.cloneElement(a,{ref:i}):null};qa.displayName="Presence";function yX(t){const[e,r]=j.useState(),n=j.useRef(null),a=j.useRef(t),i=j.useRef("none"),o=t?"mounted":"unmounted",[c,d]=xX(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return j.useEffect(()=>{const h=Ng(n.current);i.current=c==="mounted"?h:"none"},[c]),bn(()=>{const h=n.current,m=a.current;if(m!==t){const g=i.current,y=Ng(h);t?d("MOUNT"):y==="none"||h?.display==="none"?d("UNMOUNT"):d(m&&g!==y?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,d]),bn(()=>{if(e){let h;const m=e.ownerDocument.defaultView??window,f=y=>{const w=Ng(n.current).includes(CSS.escape(y.animationName));if(y.target===e&&w&&(d("ANIMATION_END"),!a.current)){const _=e.style.animationFillMode;e.style.animationFillMode="forwards",h=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=_)})}},g=y=>{y.target===e&&(i.current=Ng(n.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{m.clearTimeout(h),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:j.useCallback(h=>{n.current=h?getComputedStyle(h):null,r(h)},[])}}function Ng(t){return t?.animationName||"none"}function bX(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var B0="Tabs",[vX]=va(B0,[F0]),HM=F0(),[wX,MN]=vX(B0),qM=j.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:c,activationMode:d="automatic",...h}=t,m=Bm(c),[f,g]=zo({prop:n,onChange:a,defaultProp:i??"",caller:B0});return s.jsx(wX,{scope:r,baseId:Ui(),value:f,onValueChange:g,orientation:o,dir:m,activationMode:d,children:s.jsx(Bt.div,{dir:m,"data-orientation":o,...h,ref:e})})});qM.displayName=B0;var WM="TabsList",GM=j.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...a}=t,i=MN(WM,r),o=HM(r);return s.jsx($M,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(Bt.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:e})})});GM.displayName=WM;var YM="TabsTrigger",KM=j.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=t,o=MN(YM,r),c=HM(r),d=QM(o.baseId,n),h=JM(o.baseId,n),m=n===o.value;return s.jsx(VM,{asChild:!0,...c,focusable:!a,active:m,children:s.jsx(Bt.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":h,"data-state":m?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:d,...i,ref:e,onMouseDown:pt(t.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:pt(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:pt(t.onFocus,()=>{const f=o.activationMode!=="manual";!m&&!a&&f&&o.onValueChange(n)})})})});KM.displayName=YM;var XM="TabsContent",ZM=j.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=t,c=MN(XM,r),d=QM(c.baseId,n),h=JM(c.baseId,n),m=n===c.value,f=j.useRef(m);return j.useEffect(()=>{const g=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(g)},[]),s.jsx(qa,{present:a||m,children:({present:g})=>s.jsx(Bt.div,{"data-state":m?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!g,id:h,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:g&&i})})});ZM.displayName=XM;function QM(t,e){return`${t}-trigger-${e}`}function JM(t,e){return`${t}-content-${e}`}var jX=qM,eP=GM,tP=KM,sP=ZM;const Uo=jX,Ki=j.forwardRef(({className:t,...e},r)=>s.jsx(eP,{ref:r,className:St("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",t),...e}));Ki.displayName=eP.displayName;const $t=j.forwardRef(({className:t,...e},r)=>s.jsx(tP,{ref:r,className:St("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t),...e}));$t.displayName=tP.displayName;const Qt=j.forwardRef(({className:t,...e},r)=>s.jsx(sP,{ref:r,className:St("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Qt.displayName=sP.displayName;function Yx(t,[e,r]){return Math.min(r,Math.max(e,t))}function _X(t,e=globalThis?.document){const r=Yi(t);j.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var NX="DismissableLayer",d_="dismissableLayer.update",SX="dismissableLayer.pointerDownOutside",kX="dismissableLayer.focusOutside",mT,rP=j.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),zm=j.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:c,...d}=t,h=j.useContext(rP),[m,f]=j.useState(null),g=m?.ownerDocument??globalThis?.document,[,y]=j.useState({}),v=es(e,E=>f(E)),w=Array.from(h.layers),[_]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),b=w.indexOf(_),N=m?w.indexOf(m):-1,k=h.layersWithOutsidePointerEventsDisabled.size>0,S=N>=b,C=EX(E=>{const U=E.target,T=[...h.branches].some(ne=>ne.contains(U));!S||T||(a?.(E),o?.(E),E.defaultPrevented||c?.())},g),I=TX(E=>{const U=E.target;[...h.branches].some(ne=>ne.contains(U))||(i?.(E),o?.(E),E.defaultPrevented||c?.())},g);return _X(E=>{N===h.layers.size-1&&(n?.(E),!E.defaultPrevented&&c&&(E.preventDefault(),c()))},g),j.useEffect(()=>{if(m)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(mT=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),pT(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=mT)}},[m,g,r,h]),j.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),pT())},[m,h]),j.useEffect(()=>{const E=()=>y({});return document.addEventListener(d_,E),()=>document.removeEventListener(d_,E)},[]),s.jsx(Bt.div,{...d,ref:v,style:{pointerEvents:k?S?"auto":"none":void 0,...t.style},onFocusCapture:pt(t.onFocusCapture,I.onFocusCapture),onBlurCapture:pt(t.onBlurCapture,I.onBlurCapture),onPointerDownCapture:pt(t.onPointerDownCapture,C.onPointerDownCapture)})});zm.displayName=NX;var CX="DismissableLayerBranch",AX=j.forwardRef((t,e)=>{const r=j.useContext(rP),n=j.useRef(null),a=es(e,n);return j.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(Bt.div,{...t,ref:a})});AX.displayName=CX;function EX(t,e=globalThis?.document){const r=Yi(t),n=j.useRef(!1),a=j.useRef(()=>{});return j.useEffect(()=>{const i=c=>{if(c.target&&!n.current){let d=function(){nP(SX,r,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=d,e.addEventListener("click",a.current,{once:!0})):d()}else e.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",a.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function TX(t,e=globalThis?.document){const r=Yi(t),n=j.useRef(!1);return j.useEffect(()=>{const a=i=>{i.target&&!n.current&&nP(kX,r,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function pT(){const t=new CustomEvent(d_);document.dispatchEvent(t)}function nP(t,e,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&a.addEventListener(t,e,{once:!0}),n?LM(a,i):a.dispatchEvent(i)}var Jv=0;function PN(){j.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??gT()),document.body.insertAdjacentElement("beforeend",t[1]??gT()),Jv++,()=>{Jv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),Jv--}},[])}function gT(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var ew="focusScope.autoFocusOnMount",tw="focusScope.autoFocusOnUnmount",xT={bubbles:!1,cancelable:!0},RX="FocusScope",I0=j.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=t,[c,d]=j.useState(null),h=Yi(a),m=Yi(i),f=j.useRef(null),g=es(e,w=>d(w)),y=j.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;j.useEffect(()=>{if(n){let w=function(k){if(y.paused||!c)return;const S=k.target;c.contains(S)?f.current=S:Fl(f.current,{select:!0})},_=function(k){if(y.paused||!c)return;const S=k.relatedTarget;S!==null&&(c.contains(S)||Fl(f.current,{select:!0}))},b=function(k){if(document.activeElement===document.body)for(const C of k)C.removedNodes.length>0&&Fl(c)};document.addEventListener("focusin",w),document.addEventListener("focusout",_);const N=new MutationObserver(b);return c&&N.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",_),N.disconnect()}}},[n,c,y.paused]),j.useEffect(()=>{if(c){bT.add(y);const w=document.activeElement;if(!c.contains(w)){const b=new CustomEvent(ew,xT);c.addEventListener(ew,h),c.dispatchEvent(b),b.defaultPrevented||(DX(FX(aP(c)),{select:!0}),document.activeElement===w&&Fl(c))}return()=>{c.removeEventListener(ew,h),setTimeout(()=>{const b=new CustomEvent(tw,xT);c.addEventListener(tw,m),c.dispatchEvent(b),b.defaultPrevented||Fl(w??document.body,{select:!0}),c.removeEventListener(tw,m),bT.remove(y)},0)}}},[c,h,m,y]);const v=j.useCallback(w=>{if(!r&&!n||y.paused)return;const _=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,b=document.activeElement;if(_&&b){const N=w.currentTarget,[k,S]=MX(N);k&&S?!w.shiftKey&&b===S?(w.preventDefault(),r&&Fl(k,{select:!0})):w.shiftKey&&b===k&&(w.preventDefault(),r&&Fl(S,{select:!0})):b===N&&w.preventDefault()}},[r,n,y.paused]);return s.jsx(Bt.div,{tabIndex:-1,...o,ref:g,onKeyDown:v})});I0.displayName=RX;function DX(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Fl(n,{select:e}),document.activeElement!==r)return}function MX(t){const e=aP(t),r=yT(e,t),n=yT(e.reverse(),t);return[r,n]}function aP(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function yT(t,e){for(const r of t)if(!PX(r,{upTo:e}))return r}function PX(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function OX(t){return t instanceof HTMLInputElement&&"select"in t}function Fl(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&OX(t)&&e&&t.select()}}var bT=LX();function LX(){let t=[];return{add(e){const r=t[0];e!==r&&r?.pause(),t=vT(t,e),t.unshift(e)},remove(e){t=vT(t,e),t[0]?.resume()}}}function vT(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function FX(t){return t.filter(e=>e.tagName!=="A")}const BX=["top","right","bottom","left"],Ql=Math.min,ma=Math.max,Kx=Math.round,Sg=Math.floor,$i=t=>({x:t,y:t}),IX={left:"right",right:"left",bottom:"top",top:"bottom"},zX={start:"end",end:"start"};function u_(t,e,r){return ma(t,Ql(e,r))}function $o(t,e){return typeof t=="function"?t(e):t}function Vo(t){return t.split("-")[0]}function fh(t){return t.split("-")[1]}function ON(t){return t==="x"?"y":"x"}function LN(t){return t==="y"?"height":"width"}const UX=new Set(["top","bottom"]);function Bi(t){return UX.has(Vo(t))?"y":"x"}function FN(t){return ON(Bi(t))}function $X(t,e,r){r===void 0&&(r=!1);const n=fh(t),a=FN(t),i=LN(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Xx(o)),[o,Xx(o)]}function VX(t){const e=Xx(t);return[h_(t),e,h_(e)]}function h_(t){return t.replace(/start|end/g,e=>zX[e])}const wT=["left","right"],jT=["right","left"],HX=["top","bottom"],qX=["bottom","top"];function WX(t,e,r){switch(t){case"top":case"bottom":return r?e?jT:wT:e?wT:jT;case"left":case"right":return e?HX:qX;default:return[]}}function GX(t,e,r,n){const a=fh(t);let i=WX(Vo(t),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),e&&(i=i.concat(i.map(h_)))),i}function Xx(t){return t.replace(/left|right|bottom|top/g,e=>IX[e])}function YX(t){return{top:0,right:0,bottom:0,left:0,...t}}function iP(t){return typeof t!="number"?YX(t):{top:t,right:t,bottom:t,left:t}}function Zx(t){const{x:e,y:r,width:n,height:a}=t;return{width:n,height:a,top:r,left:e,right:e+n,bottom:r+a,x:e,y:r}}function _T(t,e,r){let{reference:n,floating:a}=t;const i=Bi(e),o=FN(e),c=LN(o),d=Vo(e),h=i==="y",m=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,g=n[c]/2-a[c]/2;let y;switch(d){case"top":y={x:m,y:n.y-a.height};break;case"bottom":y={x:m,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:f};break;case"left":y={x:n.x-a.width,y:f};break;default:y={x:n.x,y:n.y}}switch(fh(e)){case"start":y[o]-=g*(r&&h?-1:1);break;case"end":y[o]+=g*(r&&h?-1:1);break}return y}const KX=async(t,e,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,c=i.filter(Boolean),d=await(o.isRTL==null?void 0:o.isRTL(e));let h=await o.getElementRects({reference:t,floating:e,strategy:a}),{x:m,y:f}=_T(h,n,d),g=n,y={},v=0;for(let w=0;w<c.length;w++){const{name:_,fn:b}=c[w],{x:N,y:k,data:S,reset:C}=await b({x:m,y:f,initialPlacement:n,placement:g,strategy:a,middlewareData:y,rects:h,platform:o,elements:{reference:t,floating:e}});m=N??m,f=k??f,y={...y,[_]:{...y[_],...S}},C&&v<=50&&(v++,typeof C=="object"&&(C.placement&&(g=C.placement),C.rects&&(h=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:a}):C.rects),{x:m,y:f}=_T(h,g,d)),w=-1)}return{x:m,y:f,placement:g,strategy:a,middlewareData:y}};async function dm(t,e){var r;e===void 0&&(e={});const{x:n,y:a,platform:i,rects:o,elements:c,strategy:d}=t,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:f="floating",altBoundary:g=!1,padding:y=0}=$o(e,t),v=iP(y),_=c[g?f==="floating"?"reference":"floating":f],b=Zx(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(_)))==null||r?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:h,rootBoundary:m,strategy:d})),N=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,k=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),S=await(i.isElement==null?void 0:i.isElement(k))?await(i.getScale==null?void 0:i.getScale(k))||{x:1,y:1}:{x:1,y:1},C=Zx(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:N,offsetParent:k,strategy:d}):N);return{top:(b.top-C.top+v.top)/S.y,bottom:(C.bottom-b.bottom+v.bottom)/S.y,left:(b.left-C.left+v.left)/S.x,right:(C.right-b.right+v.right)/S.x}}const XX=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:a,rects:i,platform:o,elements:c,middlewareData:d}=e,{element:h,padding:m=0}=$o(t,e)||{};if(h==null)return{};const f=iP(m),g={x:r,y:n},y=FN(a),v=LN(y),w=await o.getDimensions(h),_=y==="y",b=_?"top":"left",N=_?"bottom":"right",k=_?"clientHeight":"clientWidth",S=i.reference[v]+i.reference[y]-g[y]-i.floating[v],C=g[y]-i.reference[y],I=await(o.getOffsetParent==null?void 0:o.getOffsetParent(h));let E=I?I[k]:0;(!E||!await(o.isElement==null?void 0:o.isElement(I)))&&(E=c.floating[k]||i.floating[v]);const U=S/2-C/2,T=E/2-w[v]/2-1,ne=Ql(f[b],T),q=Ql(f[N],T),F=ne,Y=E-w[v]-q,O=E/2-w[v]/2+U,se=u_(F,O,Y),X=!d.arrow&&fh(a)!=null&&O!==se&&i.reference[v]/2-(O<F?ne:q)-w[v]/2<0,M=X?O<F?O-F:O-Y:0;return{[y]:g[y]+M,data:{[y]:se,centerOffset:O-se-M,...X&&{alignmentOffset:M}},reset:X}}}),ZX=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:c,platform:d,elements:h}=e,{mainAxis:m=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:w=!0,..._}=$o(t,e);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const b=Vo(a),N=Bi(c),k=Vo(c)===c,S=await(d.isRTL==null?void 0:d.isRTL(h.floating)),C=g||(k||!w?[Xx(c)]:VX(c)),I=v!=="none";!g&&I&&C.push(...GX(c,w,v,S));const E=[c,...C],U=await dm(e,_),T=[];let ne=((n=i.flip)==null?void 0:n.overflows)||[];if(m&&T.push(U[b]),f){const O=$X(a,o,S);T.push(U[O[0]],U[O[1]])}if(ne=[...ne,{placement:a,overflows:T}],!T.every(O=>O<=0)){var q,F;const O=(((q=i.flip)==null?void 0:q.index)||0)+1,se=E[O];if(se&&(!(f==="alignment"?N!==Bi(se):!1)||ne.every(K=>Bi(K.placement)===N?K.overflows[0]>0:!0)))return{data:{index:O,overflows:ne},reset:{placement:se}};let X=(F=ne.filter(M=>M.overflows[0]<=0).sort((M,K)=>M.overflows[1]-K.overflows[1])[0])==null?void 0:F.placement;if(!X)switch(y){case"bestFit":{var Y;const M=(Y=ne.filter(K=>{if(I){const z=Bi(K.placement);return z===N||z==="y"}return!0}).map(K=>[K.placement,K.overflows.filter(z=>z>0).reduce((z,he)=>z+he,0)]).sort((K,z)=>K[1]-z[1])[0])==null?void 0:Y[0];M&&(X=M);break}case"initialPlacement":X=c;break}if(a!==X)return{reset:{placement:X}}}return{}}}};function NT(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function ST(t){return BX.some(e=>t[e]>=0)}const QX=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...a}=$o(t,e);switch(n){case"referenceHidden":{const i=await dm(e,{...a,elementContext:"reference"}),o=NT(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:ST(o)}}}case"escaped":{const i=await dm(e,{...a,altBoundary:!0}),o=NT(i,r.floating);return{data:{escapedOffsets:o,escaped:ST(o)}}}default:return{}}}}},oP=new Set(["left","top"]);async function JX(t,e){const{placement:r,platform:n,elements:a}=t,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=Vo(r),c=fh(r),d=Bi(r)==="y",h=oP.has(o)?-1:1,m=i&&d?-1:1,f=$o(e,t);let{mainAxis:g,crossAxis:y,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return c&&typeof v=="number"&&(y=c==="end"?v*-1:v),d?{x:y*m,y:g*h}:{x:g*h,y:y*m}}const eZ=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:a,y:i,placement:o,middlewareData:c}=e,d=await JX(e,t);return o===((r=c.offset)==null?void 0:r.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:a+d.x,y:i+d.y,data:{...d,placement:o}}}}},tZ=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:a}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:c={fn:_=>{let{x:b,y:N}=_;return{x:b,y:N}}},...d}=$o(t,e),h={x:r,y:n},m=await dm(e,d),f=Bi(Vo(a)),g=ON(f);let y=h[g],v=h[f];if(i){const _=g==="y"?"top":"left",b=g==="y"?"bottom":"right",N=y+m[_],k=y-m[b];y=u_(N,y,k)}if(o){const _=f==="y"?"top":"left",b=f==="y"?"bottom":"right",N=v+m[_],k=v-m[b];v=u_(N,v,k)}const w=c.fn({...e,[g]:y,[f]:v});return{...w,data:{x:w.x-r,y:w.y-n,enabled:{[g]:i,[f]:o}}}}}},sZ=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=e,{offset:c=0,mainAxis:d=!0,crossAxis:h=!0}=$o(t,e),m={x:r,y:n},f=Bi(a),g=ON(f);let y=m[g],v=m[f];const w=$o(c,e),_=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(d){const k=g==="y"?"height":"width",S=i.reference[g]-i.floating[k]+_.mainAxis,C=i.reference[g]+i.reference[k]-_.mainAxis;y<S?y=S:y>C&&(y=C)}if(h){var b,N;const k=g==="y"?"width":"height",S=oP.has(Vo(a)),C=i.reference[f]-i.floating[k]+(S&&((b=o.offset)==null?void 0:b[f])||0)+(S?0:_.crossAxis),I=i.reference[f]+i.reference[k]+(S?0:((N=o.offset)==null?void 0:N[f])||0)-(S?_.crossAxis:0);v<C?v=C:v>I&&(v=I)}return{[g]:y,[f]:v}}}},rZ=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:a,rects:i,platform:o,elements:c}=e,{apply:d=()=>{},...h}=$o(t,e),m=await dm(e,h),f=Vo(a),g=fh(a),y=Bi(a)==="y",{width:v,height:w}=i.floating;let _,b;f==="top"||f==="bottom"?(_=f,b=g===(await(o.isRTL==null?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(b=f,_=g==="end"?"top":"bottom");const N=w-m.top-m.bottom,k=v-m.left-m.right,S=Ql(w-m[_],N),C=Ql(v-m[b],k),I=!e.middlewareData.shift;let E=S,U=C;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(U=k),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(E=N),I&&!g){const ne=ma(m.left,0),q=ma(m.right,0),F=ma(m.top,0),Y=ma(m.bottom,0);y?U=v-2*(ne!==0||q!==0?ne+q:ma(m.left,m.right)):E=w-2*(F!==0||Y!==0?F+Y:ma(m.top,m.bottom))}await d({...e,availableWidth:U,availableHeight:E});const T=await o.getDimensions(c.floating);return v!==T.width||w!==T.height?{reset:{rects:!0}}:{}}}};function z0(){return typeof window<"u"}function mh(t){return lP(t)?(t.nodeName||"").toLowerCase():"#document"}function pa(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Qi(t){var e;return(e=(lP(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function lP(t){return z0()?t instanceof Node||t instanceof pa(t).Node:!1}function ui(t){return z0()?t instanceof Element||t instanceof pa(t).Element:!1}function Xi(t){return z0()?t instanceof HTMLElement||t instanceof pa(t).HTMLElement:!1}function kT(t){return!z0()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof pa(t).ShadowRoot}const nZ=new Set(["inline","contents"]);function Um(t){const{overflow:e,overflowX:r,overflowY:n,display:a}=hi(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!nZ.has(a)}const aZ=new Set(["table","td","th"]);function iZ(t){return aZ.has(mh(t))}const oZ=[":popover-open",":modal"];function U0(t){return oZ.some(e=>{try{return t.matches(e)}catch{return!1}})}const lZ=["transform","translate","scale","rotate","perspective"],cZ=["transform","translate","scale","rotate","perspective","filter"],dZ=["paint","layout","strict","content"];function BN(t){const e=IN(),r=ui(t)?hi(t):t;return lZ.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||cZ.some(n=>(r.willChange||"").includes(n))||dZ.some(n=>(r.contain||"").includes(n))}function uZ(t){let e=Jl(t);for(;Xi(e)&&!qu(e);){if(BN(e))return e;if(U0(e))return null;e=Jl(e)}return null}function IN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const hZ=new Set(["html","body","#document"]);function qu(t){return hZ.has(mh(t))}function hi(t){return pa(t).getComputedStyle(t)}function $0(t){return ui(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Jl(t){if(mh(t)==="html")return t;const e=t.assignedSlot||t.parentNode||kT(t)&&t.host||Qi(t);return kT(e)?e.host:e}function cP(t){const e=Jl(t);return qu(e)?t.ownerDocument?t.ownerDocument.body:t.body:Xi(e)&&Um(e)?e:cP(e)}function um(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const a=cP(t),i=a===((n=t.ownerDocument)==null?void 0:n.body),o=pa(a);if(i){const c=f_(o);return e.concat(o,o.visualViewport||[],Um(a)?a:[],c&&r?um(c):[])}return e.concat(a,um(a,[],r))}function f_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function dP(t){const e=hi(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const a=Xi(t),i=a?t.offsetWidth:r,o=a?t.offsetHeight:n,c=Kx(r)!==i||Kx(n)!==o;return c&&(r=i,n=o),{width:r,height:n,$:c}}function zN(t){return ui(t)?t:t.contextElement}function Ou(t){const e=zN(t);if(!Xi(e))return $i(1);const r=e.getBoundingClientRect(),{width:n,height:a,$:i}=dP(e);let o=(i?Kx(r.width):r.width)/n,c=(i?Kx(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const fZ=$i(0);function uP(t){const e=pa(t);return!IN()||!e.visualViewport?fZ:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function mZ(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==pa(t)?!1:e}function vd(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const a=t.getBoundingClientRect(),i=zN(t);let o=$i(1);e&&(n?ui(n)&&(o=Ou(n)):o=Ou(t));const c=mZ(i,r,n)?uP(i):$i(0);let d=(a.left+c.x)/o.x,h=(a.top+c.y)/o.y,m=a.width/o.x,f=a.height/o.y;if(i){const g=pa(i),y=n&&ui(n)?pa(n):n;let v=g,w=f_(v);for(;w&&n&&y!==v;){const _=Ou(w),b=w.getBoundingClientRect(),N=hi(w),k=b.left+(w.clientLeft+parseFloat(N.paddingLeft))*_.x,S=b.top+(w.clientTop+parseFloat(N.paddingTop))*_.y;d*=_.x,h*=_.y,m*=_.x,f*=_.y,d+=k,h+=S,v=pa(w),w=f_(v)}}return Zx({width:m,height:f,x:d,y:h})}function V0(t,e){const r=$0(t).scrollLeft;return e?e.left+r:vd(Qi(t)).left+r}function hP(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-V0(t,r),a=r.top+e.scrollTop;return{x:n,y:a}}function pZ(t){let{elements:e,rect:r,offsetParent:n,strategy:a}=t;const i=a==="fixed",o=Qi(n),c=e?U0(e.floating):!1;if(n===o||c&&i)return r;let d={scrollLeft:0,scrollTop:0},h=$i(1);const m=$i(0),f=Xi(n);if((f||!f&&!i)&&((mh(n)!=="body"||Um(o))&&(d=$0(n)),Xi(n))){const y=vd(n);h=Ou(n),m.x=y.x+n.clientLeft,m.y=y.y+n.clientTop}const g=o&&!f&&!i?hP(o,d):$i(0);return{width:r.width*h.x,height:r.height*h.y,x:r.x*h.x-d.scrollLeft*h.x+m.x+g.x,y:r.y*h.y-d.scrollTop*h.y+m.y+g.y}}function gZ(t){return Array.from(t.getClientRects())}function xZ(t){const e=Qi(t),r=$0(t),n=t.ownerDocument.body,a=ma(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),i=ma(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+V0(t);const c=-r.scrollTop;return hi(n).direction==="rtl"&&(o+=ma(e.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:c}}const CT=25;function yZ(t,e){const r=pa(t),n=Qi(t),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,c=0,d=0;if(a){i=a.width,o=a.height;const m=IN();(!m||m&&e==="fixed")&&(c=a.offsetLeft,d=a.offsetTop)}const h=V0(n);if(h<=0){const m=n.ownerDocument,f=m.body,g=getComputedStyle(f),y=m.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,v=Math.abs(n.clientWidth-f.clientWidth-y);v<=CT&&(i-=v)}else h<=CT&&(i+=h);return{width:i,height:o,x:c,y:d}}const bZ=new Set(["absolute","fixed"]);function vZ(t,e){const r=vd(t,!0,e==="fixed"),n=r.top+t.clientTop,a=r.left+t.clientLeft,i=Xi(t)?Ou(t):$i(1),o=t.clientWidth*i.x,c=t.clientHeight*i.y,d=a*i.x,h=n*i.y;return{width:o,height:c,x:d,y:h}}function AT(t,e,r){let n;if(e==="viewport")n=yZ(t,r);else if(e==="document")n=xZ(Qi(t));else if(ui(e))n=vZ(e,r);else{const a=uP(t);n={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return Zx(n)}function fP(t,e){const r=Jl(t);return r===e||!ui(r)||qu(r)?!1:hi(r).position==="fixed"||fP(r,e)}function wZ(t,e){const r=e.get(t);if(r)return r;let n=um(t,[],!1).filter(c=>ui(c)&&mh(c)!=="body"),a=null;const i=hi(t).position==="fixed";let o=i?Jl(t):t;for(;ui(o)&&!qu(o);){const c=hi(o),d=BN(o);!d&&c.position==="fixed"&&(a=null),(i?!d&&!a:!d&&c.position==="static"&&!!a&&bZ.has(a.position)||Um(o)&&!d&&fP(t,o))?n=n.filter(m=>m!==o):a=c,o=Jl(o)}return e.set(t,n),n}function jZ(t){let{element:e,boundary:r,rootBoundary:n,strategy:a}=t;const o=[...r==="clippingAncestors"?U0(e)?[]:wZ(e,this._c):[].concat(r),n],c=o[0],d=o.reduce((h,m)=>{const f=AT(e,m,a);return h.top=ma(f.top,h.top),h.right=Ql(f.right,h.right),h.bottom=Ql(f.bottom,h.bottom),h.left=ma(f.left,h.left),h},AT(e,c,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function _Z(t){const{width:e,height:r}=dP(t);return{width:e,height:r}}function NZ(t,e,r){const n=Xi(e),a=Qi(e),i=r==="fixed",o=vd(t,!0,i,e);let c={scrollLeft:0,scrollTop:0};const d=$i(0);function h(){d.x=V0(a)}if(n||!n&&!i)if((mh(e)!=="body"||Um(a))&&(c=$0(e)),n){const y=vd(e,!0,i,e);d.x=y.x+e.clientLeft,d.y=y.y+e.clientTop}else a&&h();i&&!n&&a&&h();const m=a&&!n&&!i?hP(a,c):$i(0),f=o.left+c.scrollLeft-d.x-m.x,g=o.top+c.scrollTop-d.y-m.y;return{x:f,y:g,width:o.width,height:o.height}}function sw(t){return hi(t).position==="static"}function ET(t,e){if(!Xi(t)||hi(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Qi(t)===r&&(r=r.ownerDocument.body),r}function mP(t,e){const r=pa(t);if(U0(t))return r;if(!Xi(t)){let a=Jl(t);for(;a&&!qu(a);){if(ui(a)&&!sw(a))return a;a=Jl(a)}return r}let n=ET(t,e);for(;n&&iZ(n)&&sw(n);)n=ET(n,e);return n&&qu(n)&&sw(n)&&!BN(n)?r:n||uZ(t)||r}const SZ=async function(t){const e=this.getOffsetParent||mP,r=this.getDimensions,n=await r(t.floating);return{reference:NZ(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function kZ(t){return hi(t).direction==="rtl"}const CZ={convertOffsetParentRelativeRectToViewportRelativeRect:pZ,getDocumentElement:Qi,getClippingRect:jZ,getOffsetParent:mP,getElementRects:SZ,getClientRects:gZ,getDimensions:_Z,getScale:Ou,isElement:ui,isRTL:kZ};function pP(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function AZ(t,e){let r=null,n;const a=Qi(t);function i(){var c;clearTimeout(n),(c=r)==null||c.disconnect(),r=null}function o(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),i();const h=t.getBoundingClientRect(),{left:m,top:f,width:g,height:y}=h;if(c||e(),!g||!y)return;const v=Sg(f),w=Sg(a.clientWidth-(m+g)),_=Sg(a.clientHeight-(f+y)),b=Sg(m),k={rootMargin:-v+"px "+-w+"px "+-_+"px "+-b+"px",threshold:ma(0,Ql(1,d))||1};let S=!0;function C(I){const E=I[0].intersectionRatio;if(E!==d){if(!S)return o();E?o(!1,E):n=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!pP(h,t.getBoundingClientRect())&&o(),S=!1}try{r=new IntersectionObserver(C,{...k,root:a.ownerDocument})}catch{r=new IntersectionObserver(C,k)}r.observe(t)}return o(!0),i}function EZ(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,h=zN(t),m=a||i?[...h?um(h):[],...um(e)]:[];m.forEach(b=>{a&&b.addEventListener("scroll",r,{passive:!0}),i&&b.addEventListener("resize",r)});const f=h&&c?AZ(h,r):null;let g=-1,y=null;o&&(y=new ResizeObserver(b=>{let[N]=b;N&&N.target===h&&y&&(y.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var k;(k=y)==null||k.observe(e)})),r()}),h&&!d&&y.observe(h),y.observe(e));let v,w=d?vd(t):null;d&&_();function _(){const b=vd(t);w&&!pP(w,b)&&r(),w=b,v=requestAnimationFrame(_)}return r(),()=>{var b;m.forEach(N=>{a&&N.removeEventListener("scroll",r),i&&N.removeEventListener("resize",r)}),f?.(),(b=y)==null||b.disconnect(),y=null,d&&cancelAnimationFrame(v)}}const TZ=eZ,RZ=tZ,DZ=ZX,MZ=rZ,PZ=QX,TT=XX,OZ=sZ,LZ=(t,e,r)=>{const n=new Map,a={platform:CZ,...r},i={...a.platform,_c:n};return KX(t,e,{...a,platform:i})};var FZ=typeof document<"u",BZ=function(){},yx=FZ?j.useLayoutEffect:BZ;function Qx(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,a;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!Qx(t[n],e[n]))return!1;return!0}if(a=Object.keys(t),r=a.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&t.$$typeof)&&!Qx(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function gP(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function RT(t,e){const r=gP(t);return Math.round(e*r)/r}function rw(t){const e=j.useRef(t);return yx(()=>{e.current=t}),e}function IZ(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:c=!0,whileElementsMounted:d,open:h}=t,[m,f]=j.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[g,y]=j.useState(n);Qx(g,n)||y(n);const[v,w]=j.useState(null),[_,b]=j.useState(null),N=j.useCallback(K=>{K!==I.current&&(I.current=K,w(K))},[]),k=j.useCallback(K=>{K!==E.current&&(E.current=K,b(K))},[]),S=i||v,C=o||_,I=j.useRef(null),E=j.useRef(null),U=j.useRef(m),T=d!=null,ne=rw(d),q=rw(a),F=rw(h),Y=j.useCallback(()=>{if(!I.current||!E.current)return;const K={placement:e,strategy:r,middleware:g};q.current&&(K.platform=q.current),LZ(I.current,E.current,K).then(z=>{const he={...z,isPositioned:F.current!==!1};O.current&&!Qx(U.current,he)&&(U.current=he,Tm.flushSync(()=>{f(he)}))})},[g,e,r,q,F]);yx(()=>{h===!1&&U.current.isPositioned&&(U.current.isPositioned=!1,f(K=>({...K,isPositioned:!1})))},[h]);const O=j.useRef(!1);yx(()=>(O.current=!0,()=>{O.current=!1}),[]),yx(()=>{if(S&&(I.current=S),C&&(E.current=C),S&&C){if(ne.current)return ne.current(S,C,Y);Y()}},[S,C,Y,ne,T]);const se=j.useMemo(()=>({reference:I,floating:E,setReference:N,setFloating:k}),[N,k]),X=j.useMemo(()=>({reference:S,floating:C}),[S,C]),M=j.useMemo(()=>{const K={position:r,left:0,top:0};if(!X.floating)return K;const z=RT(X.floating,m.x),he=RT(X.floating,m.y);return c?{...K,transform:"translate("+z+"px, "+he+"px)",...gP(X.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:z,top:he}},[r,c,X.floating,m.x,m.y]);return j.useMemo(()=>({...m,update:Y,refs:se,elements:X,floatingStyles:M}),[m,Y,se,X,M])}const zZ=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:a}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?TT({element:n.current,padding:a}).fn(r):{}:n?TT({element:n,padding:a}).fn(r):{}}}},UZ=(t,e)=>({...TZ(t),options:[t,e]}),$Z=(t,e)=>({...RZ(t),options:[t,e]}),VZ=(t,e)=>({...OZ(t),options:[t,e]}),HZ=(t,e)=>({...DZ(t),options:[t,e]}),qZ=(t,e)=>({...MZ(t),options:[t,e]}),WZ=(t,e)=>({...PZ(t),options:[t,e]}),GZ=(t,e)=>({...zZ(t),options:[t,e]});var YZ="Arrow",xP=j.forwardRef((t,e)=>{const{children:r,width:n=10,height:a=5,...i}=t;return s.jsx(Bt.svg,{...i,ref:e,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});xP.displayName=YZ;var KZ=xP;function H0(t){const[e,r]=j.useState(void 0);return bn(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,c;if("borderBoxSize"in i){const d=i.borderBoxSize,h=Array.isArray(d)?d[0]:d;o=h.inlineSize,c=h.blockSize}else o=t.offsetWidth,c=t.offsetHeight;r({width:o,height:c})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var UN="Popper",[yP,ph]=va(UN),[XZ,bP]=yP(UN),vP=t=>{const{__scopePopper:e,children:r}=t,[n,a]=j.useState(null);return s.jsx(XZ,{scope:e,anchor:n,onAnchorChange:a,children:r})};vP.displayName=UN;var wP="PopperAnchor",jP=j.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...a}=t,i=bP(wP,r),o=j.useRef(null),c=es(e,o),d=j.useRef(null);return j.useEffect(()=>{const h=d.current;d.current=n?.current||o.current,h!==d.current&&i.onAnchorChange(d.current)}),n?null:s.jsx(Bt.div,{...a,ref:c})});jP.displayName=wP;var $N="PopperContent",[ZZ,QZ]=yP($N),_P=j.forwardRef((t,e)=>{const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:f="partial",hideWhenDetached:g=!1,updatePositionStrategy:y="optimized",onPlaced:v,...w}=t,_=bP($N,r),[b,N]=j.useState(null),k=es(e,$=>N($)),[S,C]=j.useState(null),I=H0(S),E=I?.width??0,U=I?.height??0,T=n+(i!=="center"?"-"+i:""),ne=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},q=Array.isArray(h)?h:[h],F=q.length>0,Y={padding:ne,boundary:q.filter(eQ),altBoundary:F},{refs:O,floatingStyles:se,placement:X,isPositioned:M,middlewareData:K}=IZ({strategy:"fixed",placement:T,whileElementsMounted:(...$)=>EZ(...$,{animationFrame:y==="always"}),elements:{reference:_.anchor},middleware:[UZ({mainAxis:a+U,alignmentAxis:o}),d&&$Z({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?VZ():void 0,...Y}),d&&HZ({...Y}),qZ({...Y,apply:({elements:$,rects:H,availableWidth:fe,availableHeight:Z})=>{const{width:ee,height:J}=H.reference,ke=$.floating.style;ke.setProperty("--radix-popper-available-width",`${fe}px`),ke.setProperty("--radix-popper-available-height",`${Z}px`),ke.setProperty("--radix-popper-anchor-width",`${ee}px`),ke.setProperty("--radix-popper-anchor-height",`${J}px`)}}),S&&GZ({element:S,padding:c}),tQ({arrowWidth:E,arrowHeight:U}),g&&WZ({strategy:"referenceHidden",...Y})]}),[z,he]=kP(X),V=Yi(v);bn(()=>{M&&V?.()},[M,V]);const W=K.arrow?.x,le=K.arrow?.y,oe=K.arrow?.centerOffset!==0,[ve,me]=j.useState();return bn(()=>{b&&me(window.getComputedStyle(b).zIndex)},[b]),s.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...se,transform:M?se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ve,"--radix-popper-transform-origin":[K.transformOrigin?.x,K.transformOrigin?.y].join(" "),...K.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:s.jsx(ZZ,{scope:r,placedSide:z,onArrowChange:C,arrowX:W,arrowY:le,shouldHideArrow:oe,children:s.jsx(Bt.div,{"data-side":z,"data-align":he,...w,ref:k,style:{...w.style,animation:M?void 0:"none"}})})})});_P.displayName=$N;var NP="PopperArrow",JZ={top:"bottom",right:"left",bottom:"top",left:"right"},SP=j.forwardRef(function(e,r){const{__scopePopper:n,...a}=e,i=QZ(NP,n),o=JZ[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(KZ,{...a,ref:r,style:{...a.style,display:"block"}})})});SP.displayName=NP;function eQ(t){return t!==null}var tQ=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:n,middlewareData:a}=e,o=a.arrow?.centerOffset!==0,c=o?0:t.arrowWidth,d=o?0:t.arrowHeight,[h,m]=kP(r),f={start:"0%",center:"50%",end:"100%"}[m],g=(a.arrow?.x??0)+c/2,y=(a.arrow?.y??0)+d/2;let v="",w="";return h==="bottom"?(v=o?f:`${g}px`,w=`${-d}px`):h==="top"?(v=o?f:`${g}px`,w=`${n.floating.height+d}px`):h==="right"?(v=`${-d}px`,w=o?f:`${y}px`):h==="left"&&(v=`${n.floating.width+d}px`,w=o?f:`${y}px`),{data:{x:v,y:w}}}});function kP(t){const[e,r="center"]=t.split("-");return[e,r]}var CP=vP,VN=jP,HN=_P,qN=SP,sQ="Portal",$m=j.forwardRef((t,e)=>{const{container:r,...n}=t,[a,i]=j.useState(!1);bn(()=>i(!0),[]);const o=r||a&&globalThis?.document?.body;return o?T6.createPortal(s.jsx(Bt.div,{...n,ref:e}),o):null});$m.displayName=sQ;function rQ(t){const e=nQ(t),r=j.forwardRef((n,a)=>{const{children:i,...o}=n,c=j.Children.toArray(i),d=c.find(iQ);if(d){const h=d.props.children,m=c.map(f=>f===d?j.Children.count(h)>1?j.Children.only(null):j.isValidElement(h)?h.props.children:null:f);return s.jsx(e,{...o,ref:a,children:j.isValidElement(h)?j.cloneElement(h,void 0,m):null})}return s.jsx(e,{...o,ref:a,children:i})});return r.displayName=`${t}.Slot`,r}function nQ(t){const e=j.forwardRef((r,n)=>{const{children:a,...i}=r;if(j.isValidElement(a)){const o=lQ(a),c=oQ(i,a.props);return a.type!==j.Fragment&&(c.ref=n?Go(n,o):o),j.cloneElement(a,c)}return j.Children.count(a)>1?j.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var aQ=Symbol("radix.slottable");function iQ(t){return j.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===aQ}function oQ(t,e){const r={...e};for(const n in e){const a=t[n],i=e[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...t,...r}}function lQ(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function q0(t){const e=j.useRef({value:t,previous:t});return j.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var AP=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),cQ="VisuallyHidden",EP=j.forwardRef((t,e)=>s.jsx(Bt.span,{...t,ref:e,style:{...AP,...t.style}}));EP.displayName=cQ;var dQ=EP,uQ=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},pu=new WeakMap,kg=new WeakMap,Cg={},nw=0,TP=function(t){return t&&(t.host||TP(t.parentNode))},hQ=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=TP(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},fQ=function(t,e,r,n){var a=hQ(e,Array.isArray(t)?t:[t]);Cg[r]||(Cg[r]=new WeakMap);var i=Cg[r],o=[],c=new Set,d=new Set(a),h=function(f){!f||c.has(f)||(c.add(f),h(f.parentNode))};a.forEach(h);var m=function(f){!f||d.has(f)||Array.prototype.forEach.call(f.children,function(g){if(c.has(g))m(g);else try{var y=g.getAttribute(n),v=y!==null&&y!=="false",w=(pu.get(g)||0)+1,_=(i.get(g)||0)+1;pu.set(g,w),i.set(g,_),o.push(g),w===1&&v&&kg.set(g,!0),_===1&&g.setAttribute(r,"true"),v||g.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",g,b)}})};return m(e),c.clear(),nw++,function(){o.forEach(function(f){var g=pu.get(f)-1,y=i.get(f)-1;pu.set(f,g),i.set(f,y),g||(kg.has(f)||f.removeAttribute(n),kg.delete(f)),y||f.removeAttribute(r)}),nw--,nw||(pu=new WeakMap,pu=new WeakMap,kg=new WeakMap,Cg={})}},WN=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),a=uQ(t);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),fQ(n,a,r,"aria-hidden")):function(){return null}},Oi=function(){return Oi=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Oi.apply(this,arguments)};function RP(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function mQ(t,e,r){if(r||arguments.length===2)for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}var bx="right-scroll-bar-position",vx="width-before-scroll-bar",pQ="with-scroll-bars-hidden",gQ="--removed-body-scroll-bar-size";function aw(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function xQ(t,e){var r=j.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=e,r.facade}var yQ=typeof window<"u"?j.useLayoutEffect:j.useEffect,DT=new WeakMap;function bQ(t,e){var r=xQ(null,function(n){return t.forEach(function(a){return aw(a,n)})});return yQ(function(){var n=DT.get(r);if(n){var a=new Set(n),i=new Set(t),o=r.current;a.forEach(function(c){i.has(c)||aw(c,null)}),i.forEach(function(c){a.has(c)||aw(c,o)})}DT.set(r,t)},[t]),r}function vQ(t){return t}function wQ(t,e){e===void 0&&(e=vQ);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(i){var o=e(i,n);return r.push(o),function(){r=r.filter(function(c){return c!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(c){return i(c)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var c=r;r=[],c.forEach(i),o=r}var d=function(){var m=o;o=[],m.forEach(i)},h=function(){return Promise.resolve().then(d)};h(),r={push:function(m){o.push(m),h()},filter:function(m){return o=o.filter(m),r}}}};return a}function jQ(t){t===void 0&&(t={});var e=wQ(null);return e.options=Oi({async:!0,ssr:!1},t),e}var DP=function(t){var e=t.sideCar,r=RP(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return j.createElement(n,Oi({},r))};DP.isSideCarExport=!0;function _Q(t,e){return t.useMedium(e),DP}var MP=jQ(),iw=function(){},W0=j.forwardRef(function(t,e){var r=j.useRef(null),n=j.useState({onScrollCapture:iw,onWheelCapture:iw,onTouchMoveCapture:iw}),a=n[0],i=n[1],o=t.forwardProps,c=t.children,d=t.className,h=t.removeScrollBar,m=t.enabled,f=t.shards,g=t.sideCar,y=t.noRelative,v=t.noIsolation,w=t.inert,_=t.allowPinchZoom,b=t.as,N=b===void 0?"div":b,k=t.gapMode,S=RP(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=g,I=bQ([r,e]),E=Oi(Oi({},S),a);return j.createElement(j.Fragment,null,m&&j.createElement(C,{sideCar:MP,removeScrollBar:h,shards:f,noRelative:y,noIsolation:v,inert:w,setCallbacks:i,allowPinchZoom:!!_,lockRef:r,gapMode:k}),o?j.cloneElement(j.Children.only(c),Oi(Oi({},E),{ref:I})):j.createElement(N,Oi({},E,{className:d,ref:I}),c))});W0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};W0.classNames={fullWidth:vx,zeroRight:bx};var NQ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function SQ(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=NQ();return e&&t.setAttribute("nonce",e),t}function kQ(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function CQ(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var AQ=function(){var t=0,e=null;return{add:function(r){t==0&&(e=SQ())&&(kQ(e,r),CQ(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},EQ=function(){var t=AQ();return function(e,r){j.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},PP=function(){var t=EQ(),e=function(r){var n=r.styles,a=r.dynamic;return t(n,a),null};return e},TQ={left:0,top:0,right:0,gap:0},ow=function(t){return parseInt(t||"",10)||0},RQ=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],a=e[t==="padding"?"paddingRight":"marginRight"];return[ow(r),ow(n),ow(a)]},DQ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return TQ;var e=RQ(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},MQ=PP(),Lu="data-scroll-locked",PQ=function(t,e,r,n){var a=t.left,i=t.top,o=t.right,c=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(pQ,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(Lu,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(bx,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(vx,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(bx," .").concat(bx,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(vx," .").concat(vx,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Lu,`] {
    `).concat(gQ,": ").concat(c,`px;
  }
`)},MT=function(){var t=parseInt(document.body.getAttribute(Lu)||"0",10);return isFinite(t)?t:0},OQ=function(){j.useEffect(function(){return document.body.setAttribute(Lu,(MT()+1).toString()),function(){var t=MT()-1;t<=0?document.body.removeAttribute(Lu):document.body.setAttribute(Lu,t.toString())}},[])},LQ=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,a=n===void 0?"margin":n;OQ();var i=j.useMemo(function(){return DQ(a)},[a]);return j.createElement(MQ,{styles:PQ(i,!e,a,r?"":"!important")})},m_=!1;if(typeof window<"u")try{var Ag=Object.defineProperty({},"passive",{get:function(){return m_=!0,!0}});window.addEventListener("test",Ag,Ag),window.removeEventListener("test",Ag,Ag)}catch{m_=!1}var gu=m_?{passive:!1}:!1,FQ=function(t){return t.tagName==="TEXTAREA"},OP=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!FQ(t)&&r[e]==="visible")},BQ=function(t){return OP(t,"overflowY")},IQ=function(t){return OP(t,"overflowX")},PT=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=LP(t,n);if(a){var i=FP(t,n),o=i[1],c=i[2];if(o>c)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},zQ=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},UQ=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},LP=function(t,e){return t==="v"?BQ(e):IQ(e)},FP=function(t,e){return t==="v"?zQ(e):UQ(e)},$Q=function(t,e){return t==="h"&&e==="rtl"?-1:1},VQ=function(t,e,r,n,a){var i=$Q(t,window.getComputedStyle(e).direction),o=i*n,c=r.target,d=e.contains(c),h=!1,m=o>0,f=0,g=0;do{if(!c)break;var y=FP(t,c),v=y[0],w=y[1],_=y[2],b=w-_-i*v;(v||b)&&LP(t,c)&&(f+=b,g+=v);var N=c.parentNode;c=N&&N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?N.host:N}while(!d&&c!==document.body||d&&(e.contains(c)||e===c));return(m&&Math.abs(f)<1||!m&&Math.abs(g)<1)&&(h=!0),h},Eg=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},OT=function(t){return[t.deltaX,t.deltaY]},LT=function(t){return t&&"current"in t?t.current:t},HQ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},qQ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},WQ=0,xu=[];function GQ(t){var e=j.useRef([]),r=j.useRef([0,0]),n=j.useRef(),a=j.useState(WQ++)[0],i=j.useState(PP)[0],o=j.useRef(t);j.useEffect(function(){o.current=t},[t]),j.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var w=mQ([t.lockRef.current],(t.shards||[]).map(LT),!0).filter(Boolean);return w.forEach(function(_){return _.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),w.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var c=j.useCallback(function(w,_){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var b=Eg(w),N=r.current,k="deltaX"in w?w.deltaX:N[0]-b[0],S="deltaY"in w?w.deltaY:N[1]-b[1],C,I=w.target,E=Math.abs(k)>Math.abs(S)?"h":"v";if("touches"in w&&E==="h"&&I.type==="range")return!1;var U=window.getSelection(),T=U&&U.anchorNode,ne=T?T===I||T.contains(I):!1;if(ne)return!1;var q=PT(E,I);if(!q)return!0;if(q?C=E:(C=E==="v"?"h":"v",q=PT(E,I)),!q)return!1;if(!n.current&&"changedTouches"in w&&(k||S)&&(n.current=C),!C)return!0;var F=n.current||C;return VQ(F,_,w,F==="h"?k:S)},[]),d=j.useCallback(function(w){var _=w;if(!(!xu.length||xu[xu.length-1]!==i)){var b="deltaY"in _?OT(_):Eg(_),N=e.current.filter(function(C){return C.name===_.type&&(C.target===_.target||_.target===C.shadowParent)&&HQ(C.delta,b)})[0];if(N&&N.should){_.cancelable&&_.preventDefault();return}if(!N){var k=(o.current.shards||[]).map(LT).filter(Boolean).filter(function(C){return C.contains(_.target)}),S=k.length>0?c(_,k[0]):!o.current.noIsolation;S&&_.cancelable&&_.preventDefault()}}},[]),h=j.useCallback(function(w,_,b,N){var k={name:w,delta:_,target:b,should:N,shadowParent:YQ(b)};e.current.push(k),setTimeout(function(){e.current=e.current.filter(function(S){return S!==k})},1)},[]),m=j.useCallback(function(w){r.current=Eg(w),n.current=void 0},[]),f=j.useCallback(function(w){h(w.type,OT(w),w.target,c(w,t.lockRef.current))},[]),g=j.useCallback(function(w){h(w.type,Eg(w),w.target,c(w,t.lockRef.current))},[]);j.useEffect(function(){return xu.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:g}),document.addEventListener("wheel",d,gu),document.addEventListener("touchmove",d,gu),document.addEventListener("touchstart",m,gu),function(){xu=xu.filter(function(w){return w!==i}),document.removeEventListener("wheel",d,gu),document.removeEventListener("touchmove",d,gu),document.removeEventListener("touchstart",m,gu)}},[]);var y=t.removeScrollBar,v=t.inert;return j.createElement(j.Fragment,null,v?j.createElement(i,{styles:qQ(a)}):null,y?j.createElement(LQ,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function YQ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const KQ=_Q(MP,GQ);var G0=j.forwardRef(function(t,e){return j.createElement(W0,Oi({},t,{ref:e,sideCar:KQ}))});G0.classNames=W0.classNames;var XQ=[" ","Enter","ArrowUp","ArrowDown"],ZQ=[" ","Enter"],wd="Select",[Y0,K0,QQ]=L0(wd),[gh]=va(wd,[QQ,ph]),X0=ph(),[JQ,ac]=gh(wd),[eJ,tJ]=gh(wd),BP=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:c,onValueChange:d,dir:h,name:m,autoComplete:f,disabled:g,required:y,form:v}=t,w=X0(e),[_,b]=j.useState(null),[N,k]=j.useState(null),[S,C]=j.useState(!1),I=Bm(h),[E,U]=zo({prop:n,defaultProp:a??!1,onChange:i,caller:wd}),[T,ne]=zo({prop:o,defaultProp:c,onChange:d,caller:wd}),q=j.useRef(null),F=_?v||!!_.closest("form"):!0,[Y,O]=j.useState(new Set),se=Array.from(Y).map(X=>X.props.value).join(";");return s.jsx(CP,{...w,children:s.jsxs(JQ,{required:y,scope:e,trigger:_,onTriggerChange:b,valueNode:N,onValueNodeChange:k,valueNodeHasChildren:S,onValueNodeHasChildrenChange:C,contentId:Ui(),value:T,onValueChange:ne,open:E,onOpenChange:U,dir:I,triggerPointerDownPosRef:q,disabled:g,children:[s.jsx(Y0.Provider,{scope:e,children:s.jsx(eJ,{scope:t.__scopeSelect,onNativeOptionAdd:j.useCallback(X=>{O(M=>new Set(M).add(X))},[]),onNativeOptionRemove:j.useCallback(X=>{O(M=>{const K=new Set(M);return K.delete(X),K})},[]),children:r})}),F?s.jsxs(lO,{"aria-hidden":!0,required:y,tabIndex:-1,name:m,autoComplete:f,value:T,onChange:X=>ne(X.target.value),disabled:g,form:v,children:[T===void 0?s.jsx("option",{value:""}):null,Array.from(Y)]},se):null]})})};BP.displayName=wd;var IP="SelectTrigger",zP=j.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...a}=t,i=X0(r),o=ac(IP,r),c=o.disabled||n,d=es(e,o.onTriggerChange),h=K0(r),m=j.useRef("touch"),[f,g,y]=dO(w=>{const _=h().filter(k=>!k.disabled),b=_.find(k=>k.value===o.value),N=uO(_,w,b);N!==void 0&&o.onValueChange(N.value)}),v=w=>{c||(o.onOpenChange(!0),y()),w&&(o.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return s.jsx(VN,{asChild:!0,...i,children:s.jsx(Bt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":cO(o.value)?"":void 0,...a,ref:d,onClick:pt(a.onClick,w=>{w.currentTarget.focus(),m.current!=="mouse"&&v(w)}),onPointerDown:pt(a.onPointerDown,w=>{m.current=w.pointerType;const _=w.target;_.hasPointerCapture(w.pointerId)&&_.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(v(w),w.preventDefault())}),onKeyDown:pt(a.onKeyDown,w=>{const _=f.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&g(w.key),!(_&&w.key===" ")&&XQ.includes(w.key)&&(v(),w.preventDefault())})})})});zP.displayName=IP;var UP="SelectValue",$P=j.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...c}=t,d=ac(UP,r),{onValueNodeHasChildrenChange:h}=d,m=i!==void 0,f=es(e,d.onValueNodeChange);return bn(()=>{h(m)},[h,m]),s.jsx(Bt.span,{...c,ref:f,style:{pointerEvents:"none"},children:cO(d.value)?s.jsx(s.Fragment,{children:o}):i})});$P.displayName=UP;var sJ="SelectIcon",VP=j.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...a}=t;return s.jsx(Bt.span,{"aria-hidden":!0,...a,ref:e,children:n||""})});VP.displayName=sJ;var rJ="SelectPortal",HP=t=>s.jsx($m,{asChild:!0,...t});HP.displayName=rJ;var jd="SelectContent",qP=j.forwardRef((t,e)=>{const r=ac(jd,t.__scopeSelect),[n,a]=j.useState();if(bn(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?Tm.createPortal(s.jsx(WP,{scope:t.__scopeSelect,children:s.jsx(Y0.Slot,{scope:t.__scopeSelect,children:s.jsx("div",{children:t.children})})}),i):null}return s.jsx(GP,{...t,ref:e})});qP.displayName=jd;var ri=10,[WP,ic]=gh(jd),nJ="SelectContentImpl",aJ=rQ("SelectContent.RemoveScroll"),GP=j.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:c,sideOffset:d,align:h,alignOffset:m,arrowPadding:f,collisionBoundary:g,collisionPadding:y,sticky:v,hideWhenDetached:w,avoidCollisions:_,...b}=t,N=ac(jd,r),[k,S]=j.useState(null),[C,I]=j.useState(null),E=es(e,$=>S($)),[U,T]=j.useState(null),[ne,q]=j.useState(null),F=K0(r),[Y,O]=j.useState(!1),se=j.useRef(!1);j.useEffect(()=>{if(k)return WN(k)},[k]),PN();const X=j.useCallback($=>{const[H,...fe]=F().map(J=>J.ref.current),[Z]=fe.slice(-1),ee=document.activeElement;for(const J of $)if(J===ee||(J?.scrollIntoView({block:"nearest"}),J===H&&C&&(C.scrollTop=0),J===Z&&C&&(C.scrollTop=C.scrollHeight),J?.focus(),document.activeElement!==ee))return},[F,C]),M=j.useCallback(()=>X([U,k]),[X,U,k]);j.useEffect(()=>{Y&&M()},[Y,M]);const{onOpenChange:K,triggerPointerDownPosRef:z}=N;j.useEffect(()=>{if(k){let $={x:0,y:0};const H=Z=>{$={x:Math.abs(Math.round(Z.pageX)-(z.current?.x??0)),y:Math.abs(Math.round(Z.pageY)-(z.current?.y??0))}},fe=Z=>{$.x<=10&&$.y<=10?Z.preventDefault():k.contains(Z.target)||K(!1),document.removeEventListener("pointermove",H),z.current=null};return z.current!==null&&(document.addEventListener("pointermove",H),document.addEventListener("pointerup",fe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",H),document.removeEventListener("pointerup",fe,{capture:!0})}}},[k,K,z]),j.useEffect(()=>{const $=()=>K(!1);return window.addEventListener("blur",$),window.addEventListener("resize",$),()=>{window.removeEventListener("blur",$),window.removeEventListener("resize",$)}},[K]);const[he,V]=dO($=>{const H=F().filter(ee=>!ee.disabled),fe=H.find(ee=>ee.ref.current===document.activeElement),Z=uO(H,$,fe);Z&&setTimeout(()=>Z.ref.current.focus())}),W=j.useCallback(($,H,fe)=>{const Z=!se.current&&!fe;(N.value!==void 0&&N.value===H||Z)&&(T($),Z&&(se.current=!0))},[N.value]),le=j.useCallback(()=>k?.focus(),[k]),oe=j.useCallback(($,H,fe)=>{const Z=!se.current&&!fe;(N.value!==void 0&&N.value===H||Z)&&q($)},[N.value]),ve=n==="popper"?p_:YP,me=ve===p_?{side:c,sideOffset:d,align:h,alignOffset:m,arrowPadding:f,collisionBoundary:g,collisionPadding:y,sticky:v,hideWhenDetached:w,avoidCollisions:_}:{};return s.jsx(WP,{scope:r,content:k,viewport:C,onViewportChange:I,itemRefCallback:W,selectedItem:U,onItemLeave:le,itemTextRefCallback:oe,focusSelectedItem:M,selectedItemText:ne,position:n,isPositioned:Y,searchRef:he,children:s.jsx(G0,{as:aJ,allowPinchZoom:!0,children:s.jsx(I0,{asChild:!0,trapped:N.open,onMountAutoFocus:$=>{$.preventDefault()},onUnmountAutoFocus:pt(a,$=>{N.trigger?.focus({preventScroll:!0}),$.preventDefault()}),children:s.jsx(zm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:$=>$.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:s.jsx(ve,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:$=>$.preventDefault(),...b,...me,onPlaced:()=>O(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:pt(b.onKeyDown,$=>{const H=$.ctrlKey||$.altKey||$.metaKey;if($.key==="Tab"&&$.preventDefault(),!H&&$.key.length===1&&V($.key),["ArrowUp","ArrowDown","Home","End"].includes($.key)){let Z=F().filter(ee=>!ee.disabled).map(ee=>ee.ref.current);if(["ArrowUp","End"].includes($.key)&&(Z=Z.slice().reverse()),["ArrowUp","ArrowDown"].includes($.key)){const ee=$.target,J=Z.indexOf(ee);Z=Z.slice(J+1)}setTimeout(()=>X(Z)),$.preventDefault()}})})})})})})});GP.displayName=nJ;var iJ="SelectItemAlignedPosition",YP=j.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...a}=t,i=ac(jd,r),o=ic(jd,r),[c,d]=j.useState(null),[h,m]=j.useState(null),f=es(e,E=>m(E)),g=K0(r),y=j.useRef(!1),v=j.useRef(!0),{viewport:w,selectedItem:_,selectedItemText:b,focusSelectedItem:N}=o,k=j.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&h&&w&&_&&b){const E=i.trigger.getBoundingClientRect(),U=h.getBoundingClientRect(),T=i.valueNode.getBoundingClientRect(),ne=b.getBoundingClientRect();if(i.dir!=="rtl"){const ee=ne.left-U.left,J=T.left-ee,ke=E.left-J,L=E.width+ke,Te=Math.max(L,U.width),Q=window.innerWidth-ri,R=Yx(J,[ri,Math.max(ri,Q-Te)]);c.style.minWidth=L+"px",c.style.left=R+"px"}else{const ee=U.right-ne.right,J=window.innerWidth-T.right-ee,ke=window.innerWidth-E.right-J,L=E.width+ke,Te=Math.max(L,U.width),Q=window.innerWidth-ri,R=Yx(J,[ri,Math.max(ri,Q-Te)]);c.style.minWidth=L+"px",c.style.right=R+"px"}const q=g(),F=window.innerHeight-ri*2,Y=w.scrollHeight,O=window.getComputedStyle(h),se=parseInt(O.borderTopWidth,10),X=parseInt(O.paddingTop,10),M=parseInt(O.borderBottomWidth,10),K=parseInt(O.paddingBottom,10),z=se+X+Y+K+M,he=Math.min(_.offsetHeight*5,z),V=window.getComputedStyle(w),W=parseInt(V.paddingTop,10),le=parseInt(V.paddingBottom,10),oe=E.top+E.height/2-ri,ve=F-oe,me=_.offsetHeight/2,$=_.offsetTop+me,H=se+X+$,fe=z-H;if(H<=oe){const ee=q.length>0&&_===q[q.length-1].ref.current;c.style.bottom="0px";const J=h.clientHeight-w.offsetTop-w.offsetHeight,ke=Math.max(ve,me+(ee?le:0)+J+M),L=H+ke;c.style.height=L+"px"}else{const ee=q.length>0&&_===q[0].ref.current;c.style.top="0px";const ke=Math.max(oe,se+w.offsetTop+(ee?W:0)+me)+fe;c.style.height=ke+"px",w.scrollTop=H-oe+w.offsetTop}c.style.margin=`${ri}px 0`,c.style.minHeight=he+"px",c.style.maxHeight=F+"px",n?.(),requestAnimationFrame(()=>y.current=!0)}},[g,i.trigger,i.valueNode,c,h,w,_,b,i.dir,n]);bn(()=>k(),[k]);const[S,C]=j.useState();bn(()=>{h&&C(window.getComputedStyle(h).zIndex)},[h]);const I=j.useCallback(E=>{E&&v.current===!0&&(k(),N?.(),v.current=!1)},[k,N]);return s.jsx(lJ,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:y,onScrollButtonChange:I,children:s.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:s.jsx(Bt.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});YP.displayName=iJ;var oJ="SelectPopperPosition",p_=j.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=ri,...i}=t,o=X0(r);return s.jsx(HN,{...o,...i,ref:e,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});p_.displayName=oJ;var[lJ,GN]=gh(jd,{}),g_="SelectViewport",KP=j.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...a}=t,i=ic(g_,r),o=GN(g_,r),c=es(e,i.onViewportChange),d=j.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(Y0.Slot,{scope:r,children:s.jsx(Bt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:pt(a.onScroll,h=>{const m=h.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:g}=o;if(g?.current&&f){const y=Math.abs(d.current-m.scrollTop);if(y>0){const v=window.innerHeight-ri*2,w=parseFloat(f.style.minHeight),_=parseFloat(f.style.height),b=Math.max(w,_);if(b<v){const N=b+y,k=Math.min(v,N),S=N-k;f.style.height=k+"px",f.style.bottom==="0px"&&(m.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}d.current=m.scrollTop})})})]})});KP.displayName=g_;var XP="SelectGroup",[cJ,dJ]=gh(XP),uJ=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=Ui();return s.jsx(cJ,{scope:r,id:a,children:s.jsx(Bt.div,{role:"group","aria-labelledby":a,...n,ref:e})})});uJ.displayName=XP;var ZP="SelectLabel",QP=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=dJ(ZP,r);return s.jsx(Bt.div,{id:a.id,...n,ref:e})});QP.displayName=ZP;var Jx="SelectItem",[hJ,JP]=gh(Jx),eO=j.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=t,c=ac(Jx,r),d=ic(Jx,r),h=c.value===n,[m,f]=j.useState(i??""),[g,y]=j.useState(!1),v=es(e,N=>d.itemRefCallback?.(N,n,a)),w=Ui(),_=j.useRef("touch"),b=()=>{a||(c.onValueChange(n),c.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(hJ,{scope:r,value:n,disabled:a,textId:w,isSelected:h,onItemTextChange:j.useCallback(N=>{f(k=>k||(N?.textContent??"").trim())},[]),children:s.jsx(Y0.ItemSlot,{scope:r,value:n,disabled:a,textValue:m,children:s.jsx(Bt.div,{role:"option","aria-labelledby":w,"data-highlighted":g?"":void 0,"aria-selected":h&&g,"data-state":h?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:v,onFocus:pt(o.onFocus,()=>y(!0)),onBlur:pt(o.onBlur,()=>y(!1)),onClick:pt(o.onClick,()=>{_.current!=="mouse"&&b()}),onPointerUp:pt(o.onPointerUp,()=>{_.current==="mouse"&&b()}),onPointerDown:pt(o.onPointerDown,N=>{_.current=N.pointerType}),onPointerMove:pt(o.onPointerMove,N=>{_.current=N.pointerType,a?d.onItemLeave?.():_.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:pt(o.onPointerLeave,N=>{N.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:pt(o.onKeyDown,N=>{d.searchRef?.current!==""&&N.key===" "||(ZQ.includes(N.key)&&b(),N.key===" "&&N.preventDefault())})})})})});eO.displayName=Jx;var If="SelectItemText",tO=j.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:a,...i}=t,o=ac(If,r),c=ic(If,r),d=JP(If,r),h=tJ(If,r),[m,f]=j.useState(null),g=es(e,b=>f(b),d.onItemTextChange,b=>c.itemTextRefCallback?.(b,d.value,d.disabled)),y=m?.textContent,v=j.useMemo(()=>s.jsx("option",{value:d.value,disabled:d.disabled,children:y},d.value),[d.disabled,d.value,y]),{onNativeOptionAdd:w,onNativeOptionRemove:_}=h;return bn(()=>(w(v),()=>_(v)),[w,_,v]),s.jsxs(s.Fragment,{children:[s.jsx(Bt.span,{id:d.textId,...i,ref:g}),d.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Tm.createPortal(i.children,o.valueNode):null]})});tO.displayName=If;var sO="SelectItemIndicator",rO=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return JP(sO,r).isSelected?s.jsx(Bt.span,{"aria-hidden":!0,...n,ref:e}):null});rO.displayName=sO;var x_="SelectScrollUpButton",nO=j.forwardRef((t,e)=>{const r=ic(x_,t.__scopeSelect),n=GN(x_,t.__scopeSelect),[a,i]=j.useState(!1),o=es(e,n.onScrollButtonChange);return bn(()=>{if(r.viewport&&r.isPositioned){let c=function(){const h=d.scrollTop>0;i(h)};const d=r.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),a?s.jsx(iO,{...t,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=r;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});nO.displayName=x_;var y_="SelectScrollDownButton",aO=j.forwardRef((t,e)=>{const r=ic(y_,t.__scopeSelect),n=GN(y_,t.__scopeSelect),[a,i]=j.useState(!1),o=es(e,n.onScrollButtonChange);return bn(()=>{if(r.viewport&&r.isPositioned){let c=function(){const h=d.scrollHeight-d.clientHeight,m=Math.ceil(d.scrollTop)<h;i(m)};const d=r.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),a?s.jsx(iO,{...t,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=r;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});aO.displayName=y_;var iO=j.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=t,i=ic("SelectScrollButton",r),o=j.useRef(null),c=K0(r),d=j.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return j.useEffect(()=>()=>d(),[d]),bn(()=>{c().find(m=>m.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),s.jsx(Bt.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:pt(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:pt(a.onPointerMove,()=>{i.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:pt(a.onPointerLeave,()=>{d()})})}),fJ="SelectSeparator",oO=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return s.jsx(Bt.div,{"aria-hidden":!0,...n,ref:e})});oO.displayName=fJ;var b_="SelectArrow",mJ=j.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=X0(r),i=ac(b_,r),o=ic(b_,r);return i.open&&o.position==="popper"?s.jsx(qN,{...a,...n,ref:e}):null});mJ.displayName=b_;var pJ="SelectBubbleInput",lO=j.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const a=j.useRef(null),i=es(n,a),o=q0(e);return j.useEffect(()=>{const c=a.current;if(!c)return;const d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==e&&m){const f=new Event("change",{bubbles:!0});m.call(c,e),c.dispatchEvent(f)}},[o,e]),s.jsx(Bt.select,{...r,style:{...AP,...r.style},ref:i,defaultValue:e})});lO.displayName=pJ;function cO(t){return t===""||t===void 0}function dO(t){const e=Yi(t),r=j.useRef(""),n=j.useRef(0),a=j.useCallback(o=>{const c=r.current+o;e(c),(function d(h){r.current=h,window.clearTimeout(n.current),h!==""&&(n.current=window.setTimeout(()=>d(""),1e3))})(c)},[e]),i=j.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return j.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function uO(t,e,r){const a=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let o=gJ(t,Math.max(i,0));a.length===1&&(o=o.filter(h=>h!==r));const d=o.find(h=>h.textValue.toLowerCase().startsWith(a.toLowerCase()));return d!==r?d:void 0}function gJ(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var xJ=BP,hO=zP,yJ=$P,bJ=VP,vJ=HP,fO=qP,wJ=KP,mO=QP,pO=eO,jJ=tO,_J=rO,gO=nO,xO=aO,yO=oO;const ft=xJ,mt=yJ,ut=j.forwardRef(({className:t,children:e,...r},n)=>s.jsxs(hO,{ref:n,className:St("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,s.jsx(bJ,{asChild:!0,children:s.jsx(K6,{className:"h-4 w-4 opacity-50"})})]}));ut.displayName=hO.displayName;const bO=j.forwardRef(({className:t,...e},r)=>s.jsx(gO,{ref:r,className:St("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(iW,{className:"h-4 w-4"})}));bO.displayName=gO.displayName;const vO=j.forwardRef(({className:t,...e},r)=>s.jsx(xO,{ref:r,className:St("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(K6,{className:"h-4 w-4"})}));vO.displayName=xO.displayName;const ht=j.forwardRef(({className:t,children:e,position:r="popper",...n},a)=>s.jsx(vJ,{children:s.jsxs(fO,{ref:a,className:St("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[s.jsx(bO,{}),s.jsx(wJ,{className:St("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),s.jsx(vO,{})]})}));ht.displayName=fO.displayName;const NJ=j.forwardRef(({className:t,...e},r)=>s.jsx(mO,{ref:r,className:St("px-2 py-1.5 text-sm font-semibold",t),...e}));NJ.displayName=mO.displayName;const Ce=j.forwardRef(({className:t,children:e,...r},n)=>s.jsxs(pO,{ref:n,className:St("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[s.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(_J,{children:s.jsx(ci,{className:"h-4 w-4"})})}),s.jsx(jJ,{children:e})]}));Ce.displayName=pO.displayName;const SJ=j.forwardRef(({className:t,...e},r)=>s.jsx(yO,{ref:r,className:St("-mx-1 my-1 h-px bg-muted",t),...e}));SJ.displayName=yO.displayName;const wO=JSON.parse('[{"name":"Afghanistan","iso2":"AF","dialCode":"+93"},{"name":"Albania","iso2":"AL","dialCode":"+355"},{"name":"Algeria","iso2":"DZ","dialCode":"+213"},{"name":"American Samoa","iso2":"AS","dialCode":"+1684"},{"name":"Andorra","iso2":"AD","dialCode":"+376"},{"name":"Angola","iso2":"AO","dialCode":"+244"},{"name":"Anguilla","iso2":"AI","dialCode":"+1264"},{"name":"Antarctica","iso2":"AQ","dialCode":"+672"},{"name":"Antigua and Barbuda","iso2":"AG","dialCode":"+1268"},{"name":"Argentina","iso2":"AR","dialCode":"+54"},{"name":"Armenia","iso2":"AM","dialCode":"+374"},{"name":"Aruba","iso2":"AW","dialCode":"+297"},{"name":"Australia","iso2":"AU","dialCode":"+61"},{"name":"Austria","iso2":"AT","dialCode":"+43"},{"name":"Azerbaijan","iso2":"AZ","dialCode":"+994"},{"name":"Bahamas","iso2":"BS","dialCode":"+1242"},{"name":"Bahrain","iso2":"BH","dialCode":"+973"},{"name":"Bangladesh","iso2":"BD","dialCode":"+880"},{"name":"Barbados","iso2":"BB","dialCode":"+1246"},{"name":"Belarus","iso2":"BY","dialCode":"+375"},{"name":"Belgium","iso2":"BE","dialCode":"+32"},{"name":"Belize","iso2":"BZ","dialCode":"+501"},{"name":"Benin","iso2":"BJ","dialCode":"+229"},{"name":"Bermuda","iso2":"BM","dialCode":"+1441"},{"name":"Bhutan","iso2":"BT","dialCode":"+975"},{"name":"Bolivia","iso2":"BO","dialCode":"+591"},{"name":"Bosnia and Herzegovina","iso2":"BA","dialCode":"+387"},{"name":"Botswana","iso2":"BW","dialCode":"+267"},{"name":"Brazil","iso2":"BR","dialCode":"+55"},{"name":"British Indian Ocean Territory","iso2":"IO","dialCode":"+246"},{"name":"Brunei Darussalam","iso2":"BN","dialCode":"+673"},{"name":"Bulgaria","iso2":"BG","dialCode":"+359"},{"name":"Burkina Faso","iso2":"BF","dialCode":"+226"},{"name":"Burundi","iso2":"BI","dialCode":"+257"},{"name":"Cambodia","iso2":"KH","dialCode":"+855"},{"name":"Cameroon","iso2":"CM","dialCode":"+237"},{"name":"Canada","iso2":"CA","dialCode":"+1"},{"name":"Cape Verde","iso2":"CV","dialCode":"+238"},{"name":"Cayman Islands","iso2":"KY","dialCode":"+1345"},{"name":"Central African Republic","iso2":"CF","dialCode":"+236"},{"name":"Chad","iso2":"TD","dialCode":"+235"},{"name":"Chile","iso2":"CL","dialCode":"+56"},{"name":"China","iso2":"CN","dialCode":"+86"},{"name":"Colombia","iso2":"CO","dialCode":"+57"},{"name":"Comoros","iso2":"KM","dialCode":"+269"},{"name":"Congo","iso2":"CG","dialCode":"+242"},{"name":"Costa Rica","iso2":"CR","dialCode":"+506"},{"name":"Croatia","iso2":"HR","dialCode":"+385"},{"name":"Cuba","iso2":"CU","dialCode":"+53"},{"name":"Cyprus","iso2":"CY","dialCode":"+357"},{"name":"Czech Republic","iso2":"CZ","dialCode":"+420"},{"name":"Denmark","iso2":"DK","dialCode":"+45"},{"name":"Djibouti","iso2":"DJ","dialCode":"+253"},{"name":"Dominica","iso2":"DM","dialCode":"+1767"},{"name":"Dominican Republic","iso2":"DO","dialCode":"+1849"},{"name":"Ecuador","iso2":"EC","dialCode":"+593"},{"name":"Egypt","iso2":"EG","dialCode":"+20"},{"name":"El Salvador","iso2":"SV","dialCode":"+503"},{"name":"Equatorial Guinea","iso2":"GQ","dialCode":"+240"},{"name":"Eritrea","iso2":"ER","dialCode":"+291"},{"name":"Estonia","iso2":"EE","dialCode":"+372"},{"name":"Ethiopia","iso2":"ET","dialCode":"+251"},{"name":"Fiji","iso2":"FJ","dialCode":"+679"},{"name":"Finland","iso2":"FI","dialCode":"+358"},{"name":"France","iso2":"FR","dialCode":"+33"},{"name":"Gabon","iso2":"GA","dialCode":"+241"},{"name":"Gambia","iso2":"GM","dialCode":"+220"},{"name":"Georgia","iso2":"GE","dialCode":"+995"},{"name":"Germany","iso2":"DE","dialCode":"+49"},{"name":"Ghana","iso2":"GH","dialCode":"+233"},{"name":"Greece","iso2":"GR","dialCode":"+30"},{"name":"Greenland","iso2":"GL","dialCode":"+299"},{"name":"Guatemala","iso2":"GT","dialCode":"+502"},{"name":"Guinea","iso2":"GN","dialCode":"+224"},{"name":"GuineaBissau","iso2":"GW","dialCode":"+245"},{"name":"Guyana","iso2":"GY","dialCode":"+592"},{"name":"Haiti","iso2":"HT","dialCode":"+509"},{"name":"Honduras","iso2":"HN","dialCode":"+504"},{"name":"Hungary","iso2":"HU","dialCode":"+36"},{"name":"Iceland","iso2":"IS","dialCode":"+354"},{"name":"India","iso2":"IN","dialCode":"+91"},{"name":"Indonesia","iso2":"ID","dialCode":"+62"},{"name":"Iran","iso2":"IR","dialCode":"+98"},{"name":"Iraq","iso2":"IQ","dialCode":"+964"},{"name":"Ireland","iso2":"IE","dialCode":"+353"},{"name":"Israel","iso2":"IL","dialCode":"+972"},{"name":"Italy","iso2":"IT","dialCode":"+39"},{"name":"Jamaica","iso2":"JM","dialCode":"+1876"},{"name":"Japan","iso2":"JP","dialCode":"+81"},{"name":"Jordan","iso2":"JO","dialCode":"+962"},{"name":"Kazakhstan","iso2":"KZ","dialCode":"+7"},{"name":"Kenya","iso2":"KE","dialCode":"+254"},{"name":"Kiribati","iso2":"KI","dialCode":"+686"},{"name":"Kuwait","iso2":"KW","dialCode":"+965"},{"name":"Kyrgyzstan","iso2":"KG","dialCode":"+996"},{"name":"Laos","iso2":"LA","dialCode":"+856"},{"name":"Latvia","iso2":"LV","dialCode":"+371"},{"name":"Lebanon","iso2":"LB","dialCode":"+961"},{"name":"Lesotho","iso2":"LS","dialCode":"+266"},{"name":"Liberia","iso2":"LR","dialCode":"+231"},{"name":"Libya","iso2":"LY","dialCode":"+218"},{"name":"Liechtenstein","iso2":"LI","dialCode":"+423"},{"name":"Lithuania","iso2":"LT","dialCode":"+370"},{"name":"Luxembourg","iso2":"LU","dialCode":"+352"},{"name":"Madagascar","iso2":"MG","dialCode":"+261"},{"name":"Malawi","iso2":"MW","dialCode":"+265"},{"name":"Malaysia","iso2":"MY","dialCode":"+60"},{"name":"Maldives","iso2":"MV","dialCode":"+960"},{"name":"Mali","iso2":"ML","dialCode":"+223"},{"name":"Malta","iso2":"MT","dialCode":"+356"},{"name":"Marshall Islands","iso2":"MH","dialCode":"+692"},{"name":"Mauritania","iso2":"MR","dialCode":"+222"},{"name":"Mauritius","iso2":"MU","dialCode":"+230"},{"name":"Mexico","iso2":"MX","dialCode":"+52"},{"name":"Micronesia","iso2":"FM","dialCode":"+691"},{"name":"Moldova","iso2":"MD","dialCode":"+373"},{"name":"Monaco","iso2":"MC","dialCode":"+377"},{"name":"Mongolia","iso2":"MN","dialCode":"+976"},{"name":"Montenegro","iso2":"ME","dialCode":"+382"},{"name":"Morocco","iso2":"MA","dialCode":"+212"},{"name":"Mozambique","iso2":"MZ","dialCode":"+258"},{"name":"Myanmar","iso2":"MM","dialCode":"+95"},{"name":"Namibia","iso2":"NA","dialCode":"+264"},{"name":"Nauru","iso2":"NR","dialCode":"+674"},{"name":"Nepal","iso2":"NP","dialCode":"+977"},{"name":"Netherlands","iso2":"NL","dialCode":"+31"},{"name":"New Zealand","iso2":"NZ","dialCode":"+64"},{"name":"Nicaragua","iso2":"NI","dialCode":"+505"},{"name":"Niger","iso2":"NE","dialCode":"+227"},{"name":"Nigeria","iso2":"NG","dialCode":"+234"},{"name":"North Korea","iso2":"KP","dialCode":"+850"},{"name":"North Macedonia","iso2":"MK","dialCode":"+389"},{"name":"Norway","iso2":"NO","dialCode":"+47"},{"name":"Oman","iso2":"OM","dialCode":"+968"},{"name":"Pakistan","iso2":"PK","dialCode":"+92"},{"name":"Palau","iso2":"PW","dialCode":"+680"},{"name":"Palestine","iso2":"PS","dialCode":"+970"},{"name":"Panama","iso2":"PA","dialCode":"+507"},{"name":"Papua New Guinea","iso2":"PG","dialCode":"+675"},{"name":"Paraguay","iso2":"PY","dialCode":"+595"},{"name":"Peru","iso2":"PE","dialCode":"+51"},{"name":"Philippines","iso2":"PH","dialCode":"+63"},{"name":"Poland","iso2":"PL","dialCode":"+48"},{"name":"Portugal","iso2":"PT","dialCode":"+351"},{"name":"Puerto Rico","iso2":"PR","dialCode":"+1"},{"name":"Qatar","iso2":"QA","dialCode":"+974"},{"name":"Romania","iso2":"RO","dialCode":"+40"},{"name":"Russia","iso2":"RU","dialCode":"+7"},{"name":"Rwanda","iso2":"RW","dialCode":"+250"},{"name":"Saint Kitts and Nevis","iso2":"KN","dialCode":"+1869"},{"name":"Saint Lucia","iso2":"LC","dialCode":"+1758"},{"name":"Saint Vincent and the Grenadines","iso2":"VC","dialCode":"+1784"},{"name":"Samoa","iso2":"WS","dialCode":"+685"},{"name":"San Marino","iso2":"SM","dialCode":"+378"},{"name":"Sao Tome and Principe","iso2":"ST","dialCode":"+239"},{"name":"Saudi Arabia","iso2":"SA","dialCode":"+966"},{"name":"Senegal","iso2":"SN","dialCode":"+221"},{"name":"Serbia","iso2":"RS","dialCode":"+381"},{"name":"Seychelles","iso2":"SC","dialCode":"+248"},{"name":"Sierra Leone","iso2":"SL","dialCode":"+232"},{"name":"Singapore","iso2":"SG","dialCode":"+65"},{"name":"Slovakia","iso2":"SK","dialCode":"+421"},{"name":"Slovenia","iso2":"SI","dialCode":"+386"},{"name":"Solomon Islands","iso2":"SB","dialCode":"+677"},{"name":"Somalia","iso2":"SO","dialCode":"+252"},{"name":"South Africa","iso2":"ZA","dialCode":"+27"},{"name":"South Korea","iso2":"KR","dialCode":"+82"},{"name":"South Sudan","iso2":"SS","dialCode":"+211"},{"name":"Spain","iso2":"ES","dialCode":"+34"},{"name":"Sri Lanka","iso2":"LK","dialCode":"+94"},{"name":"Sudan","iso2":"SD","dialCode":"+249"},{"name":"Suriname","iso2":"SR","dialCode":"+597"},{"name":"Sweden","iso2":"SE","dialCode":"+46"},{"name":"Switzerland","iso2":"CH","dialCode":"+41"},{"name":"Syria","iso2":"SY","dialCode":"+963"},{"name":"Taiwan","iso2":"TW","dialCode":"+886"},{"name":"Tajikistan","iso2":"TJ","dialCode":"+992"},{"name":"Tanzania","iso2":"TZ","dialCode":"+255"},{"name":"Thailand","iso2":"TH","dialCode":"+66"},{"name":"Timor-Leste","iso2":"TL","dialCode":"+670"},{"name":"Togo","iso2":"TG","dialCode":"+228"},{"name":"Tonga","iso2":"TO","dialCode":"+676"},{"name":"Trinidad and Tobago","iso2":"TT","dialCode":"+1868"},{"name":"Tunisia","iso2":"TN","dialCode":"+216"},{"name":"Turkey","iso2":"TR","dialCode":"+90"},{"name":"Turkmenistan","iso2":"TM","dialCode":"+993"},{"name":"Tuvalu","iso2":"TV","dialCode":"+688"},{"name":"Uganda","iso2":"UG","dialCode":"+256"},{"name":"Ukraine","iso2":"UA","dialCode":"+380"},{"name":"United Arab Emirates","iso2":"AE","dialCode":"+971"},{"name":"United Kingdom","iso2":"GB","dialCode":"+44"},{"name":"United States","iso2":"US","dialCode":"+1"},{"name":"Uruguay","iso2":"UY","dialCode":"+598"},{"name":"Uzbekistan","iso2":"UZ","dialCode":"+998"},{"name":"Vanuatu","iso2":"VU","dialCode":"+678"},{"name":"Vatican City","iso2":"VA","dialCode":"+379"},{"name":"Venezuela","iso2":"VE","dialCode":"+58"},{"name":"Vietnam","iso2":"VN","dialCode":"+84"},{"name":"Yemen","iso2":"YE","dialCode":"+967"},{"name":"Zambia","iso2":"ZM","dialCode":"+260"},{"name":"Zimbabwe","iso2":"ZW","dialCode":"+263"}]'),kJ=t=>t.replace(/\D/g,""),lw=({countries:t,iso2:e,setIso2:r,phone:n,setPhone:a,disabledPhone:i})=>s.jsxs("div",{className:"flex gap-2 w-full",children:[s.jsx("select",{value:e,onChange:o=>r(o.target.value),className:"w-[100px] sm:w-[120px] shrink-0 bg-white dark:bg-gray-800 text-gray-900 dark:text-white p-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm focus:ring-2 focus:ring-[#00A19C] focus:border-transparent transition-all",disabled:i,children:t.map(o=>s.jsxs("option",{value:o.iso2,children:[o.iso2," (",o.dialCode,")"]},o.iso2))}),s.jsx("input",{type:"tel",inputMode:"numeric",value:n,onChange:o=>a(kJ(o.target.value)),placeholder:"70123456",className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-800 text-sm focus:ring-2 focus:ring-[#00A19C] focus:border-transparent transition-all",disabled:i})]});function CJ(){const t=Ur(),[e,r]=j.useState("login"),[n,a]=j.useState(!1),[i,o]=j.useState(!1),c=j.useMemo(()=>wO.map(Ge=>({name:Ge.name,iso2:Ge.iso2,dialCode:Ge.dialCode.startsWith("+")?Ge.dialCode:`+${Ge.dialCode}`})).sort((Ge,Ze)=>Ge.name.localeCompare(Ze.name)),[]),d=j.useMemo(()=>{const Ge=new Map;for(const Ze of c)Ge.set(Ze.iso2,Ze.dialCode);return Ge},[c]),h=Ge=>d.get(Ge)||"+961",[m,f]=j.useState(""),[g,y]=j.useState("LB"),[v,w]=j.useState(""),_=async()=>{const Ge=`${h(g)}${m.replace(/^0+/,"")}`;if(!m||!v)return be.error("Please fill all fields");if(!/^\+\d{8,15}$/.test(Ge))return be.error("Invalid phone number.");try{a(!0);const Ze=await Oe.post("/auth/login",{phone_number:Ge,password:v});if(localStorage.setItem("authToken",Ze.data.token),localStorage.setItem("token",Ze.data.token),localStorage.setItem("user",JSON.stringify(Ze.data.user)),be.success("Login successful!"),!Ze.data.user.profile_complete){t("/Complete-Profile");return}Ze.data.user.role==="agency"||Ze.data.user.role==="agency"?t("/Dashboard"):t("/")}catch(Ze){be.error(Ze.response?.data?.message||"Login failed.")}finally{a(!1)}},[b,N]=j.useState(""),[k,S]=j.useState("LB"),[C,I]=j.useState(!1),[E,U]=j.useState(""),[T,ne]=j.useState(!1),[q,F]=j.useState(!1),[Y,O]=j.useState(0),[se,X]=j.useState({username:"",first_name:"",last_name:"",license_number:"",password:"",password_confirmation:"",role:"client",business_type:""}),[M,K]=j.useState({username:!1,first_name:!1,last_name:!1,license_number:!1,password:!1,password_confirmation:!1,role:!1,business_type:!1,terms:!1}),[z,he]=j.useState(!1),V=j.useRef(null),W=j.useRef(null),le=j.useRef(null),oe=j.useRef(null),ve=j.useRef(null),me=j.useRef(null),$=j.useRef(null);j.useEffect(()=>{let Ge;return Y>0&&(Ge=setInterval(()=>{O(Ze=>Ze<=1?(F(!0),0):Ze-1)},1e3)),()=>clearInterval(Ge)},[Y]);const H=()=>{N(""),I(!1),U(""),ne(!1),F(!1),O(0),he(!1),X({username:"",first_name:"",last_name:"",license_number:"",password:"",password_confirmation:"",role:"client",business_type:""}),K({username:!1,first_name:!1,last_name:!1,license_number:!1,password:!1,password_confirmation:!1,role:!1,business_type:!1,terms:!1})},fe=()=>{I(!1),U(""),ne(!1),F(!1),O(0),N("")},Z=async()=>{if(!b)return be.error("Please enter a phone number.");const Ge=`${h(k)}${b.replace(/^0+/,"")}`;if(!/^\+\d{8,15}$/.test(Ge))return be.error("Please enter a valid phone number with country code.");try{a(!0);const Ze=RM(),Ke=await DM(Ge,Ze);Ke.message&&be.success(Ke.message),Ke.warning&&be.warning(Ke.warning),I(!0),F(!1),O(60)}catch(Ze){if(Ze.response?.status===429){const Ke=Ze.response?.headers?.["retry-after"],hs=Ke?parseInt(Ke,10):60;!Number.isNaN(hs)&&hs>0?be.error(`Too many attempts. Try again in ${hs} second${hs!==1?"s":""}.`):be.error("Too many attempts. Try again in a minute.")}else if(Ze.response?.status===422&&Ze.response?.data?.errors){const Ke=Ze.response.data.errors;Object.keys(Ke).forEach(hs=>{(Ke[hs]||[]).forEach(Es=>be.error(Es))})}else Ze.response?.data?.error?be.error(Ze.response.data.error):be.error(Ze.response?.data?.message||"Failed to send OTP. Please try again.")}finally{a(!1)}},ee=async()=>{q&&await Z()},J=async()=>{if(!E)return be.error("Please enter the OTP code.");if(E.length!==6)return be.error("OTP code must be 6 digits.");const Ge=`${h(k)}${b.replace(/^0+/,"")}`;try{a(!0);const Ze=await MM(Ge,E);Ze.message?be.success(Ze.message):be.success("OTP verified! Complete your registration."),ne(!0)}catch(Ze){Ze.response?.data?.error?be.error(Ze.response.data.error):be.error(Ze.response?.data?.message||"Invalid or expired OTP.")}finally{a(!1)}},ke=async()=>{let Ge=!1;const Ze={username:!1,first_name:!1,last_name:!1,license_number:!1,password:!1,password_confirmation:!1,role:!1,business_type:!1,terms:!1};if(se.username.trim()||(Ze.username=!0,Ge=!0),se.first_name.trim()||(Ze.first_name=!0,Ge=!0),se.last_name.trim()||(Ze.last_name=!0,Ge=!0),se.role==="client"&&!se.license_number.trim()&&(Ze.license_number=!0,Ge=!0),se.password||(Ze.password=!0,Ge=!0),se.password!==se.password_confirmation&&(Ze.password=!0,Ze.password_confirmation=!0,Ge=!0),se.password.length<6&&(Ze.password=!0,Ge=!0),se.password_confirmation||(Ze.password_confirmation=!0,Ge=!0),z||(Ze.terms=!0,Ge=!0),Ge){K(Ze);const hs=["username","first_name","last_name","license_number","password","password_confirmation","terms"],Es={username:V,first_name:W,last_name:le,license_number:oe,password:ve,password_confirmation:me,terms:$},Cs=hs.find(jn=>Ze[jn]);if(Cs){const $s=Es[Cs]?.current;$s&&(typeof $s.focus=="function"&&$s.focus(),$s.scrollIntoView({behavior:"smooth",block:"center"}))}be.error("Please fill in the required fields highlighted in red.");return}const Ke=`${h(k)}${b.replace(/^0+/,"")}`;try{a(!0);const Es={phone_number:Ke.replace(/^\+/,""),otp_code:E,...se,role:"client"},Cs=await Oe.post("/auth/register",Es);localStorage.setItem("authToken",Cs.data.token),localStorage.setItem("token",Cs.data.token),localStorage.setItem("user",JSON.stringify(Cs.data.user)),be.success("Registration successful! Please complete your profile."),t("/Complete-Profile")}catch(hs){hs.response?.data?.errors?Object.keys(hs.response.data.errors).forEach(Es=>{hs.response.data.errors[Es].forEach(Cs=>be.error(Cs))}):be.error(hs.response?.data?.message||"Registration failed.")}finally{a(!1)}},[L,Te]=j.useState(""),[Q,R]=j.useState("LB"),[P,G]=j.useState(!1),[ye,ce]=j.useState(""),[ue,De]=j.useState(""),[je,Ae]=j.useState(""),[Be,et]=j.useState(!1),[lt,gt]=j.useState(0);j.useEffect(()=>{let Ge;return lt>0&&(Ge=setInterval(()=>{gt(Ze=>Ze<=1?(et(!0),0):Ze-1)},1e3)),()=>clearInterval(Ge)},[lt]);const _t=()=>{o(!1),Te(""),G(!1),ce(""),De(""),Ae(""),et(!1),gt(0)},Ht=()=>{Te(""),G(!1),ce(""),De(""),Ae(""),et(!1),gt(0)},Yt=async()=>{if(!L)return be.error("Please enter your phone number.");const Ge=`${h(Q)}${L.replace(/^0+/,"")}`;if(!/^\+\d{8,15}$/.test(Ge))return be.error("Please enter a valid phone number with country code.");try{a(!0);const Ze=await OK(Ge);Ze.message&&be.success(Ze.message),Ze.warning&&be.warning(Ze.warning),G(!0),et(!1),gt(60)}catch(Ze){if(Ze.response?.status===429)be.error("Too many requests. Please try again in a minute.");else if(Ze.response?.data?.error)be.error(Ze.response.data.error);else if(Ze.response?.data?.errors){const Ke=Ze.response.data.errors;Object.keys(Ke).forEach(hs=>{Ke[hs].forEach(Es=>be.error(Es))})}else be.error(Ze.response?.data?.message||"Failed to send OTP.")}finally{a(!1)}},Ct=async()=>{Be&&await Yt()},us=async()=>{if(!ye)return be.error("Please enter the OTP code.");if(ye.length!==6)return be.error("OTP code must be 6 digits.");if(!ue||!je)return be.error("Please enter your new password.");if(ue!==je)return be.error("Passwords do not match!");if(ue.length<6)return be.error("Password must be at least 6 characters long.");const Ge=`${h(Q)}${L.replace(/^0+/,"")}`,Ze=Ge.trim().startsWith("+")?Ge:`+${Ge}`;try{a(!0);const Ke=await Oe.post("/auth/reset-password",{phone_number:Ze,otp_code:ye,new_password:ue,new_password_confirmation:je});be.success(Ke.data?.message||"Password reset successfully! You can now login."),_t(),r("login")}catch(Ke){if(Ke.response?.data?.error)be.error(Ke.response.data.error);else if(Ke.response?.data?.errors){const hs=Ke.response.data.errors;Object.keys(hs).forEach(Es=>{hs[Es].forEach(Cs=>be.error(Cs))})}else be.error(Ke.response?.data?.message||"Failed to reset password.")}finally{a(!1)}};return i?s.jsxs("div",{className:"min-h-screen flex items-center justify-center px-4 py-8 bg-gradient-to-br from-gray-50 via-white to-[#8EDC81]/10 dark:from-gray-950 dark:via-gray-900 dark:to-gray-800 relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-[#1e5f7a]/10 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-[#00A19C]/10 rounded-full blur-3xl animate-pulse animation-delay-700"}),s.jsx("div",{className:"absolute top-1/2 left-1/2 w-96 h-96 bg-[#8EDC81]/10 rounded-full blur-3xl animate-pulse animation-delay-1400"})]}),s.jsxs("div",{className:"w-full max-w-md relative z-10 animate-fade-in-up",children:[s.jsxs(pe,{variant:"ghost",onClick:_t,className:"mb-6 hover:bg-[#00A19C]/10 transition-all hover:scale-105",children:[s.jsx(zi,{className:"w-4 h-4 mr-2"}),"Back to Login"]}),s.jsxs("div",{className:"flex flex-col items-center mb-8 animate-fade-in",children:[s.jsx("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] flex items-center justify-center shadow-xl shadow-[#00A19C]/30 mb-4 animate-float",children:s.jsx(Gt,{className:"w-10 h-10 text-white"})}),s.jsx("h1",{className:"text-4xl font-black bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] bg-clip-text text-transparent",children:"Rento LB"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2 font-medium",children:"Reset Your Password"})]}),s.jsxs(Ue,{className:"border-2 border-gray-200 dark:border-gray-700 hover:border-[#00A19C] transition-all duration-500 hover:shadow-2xl hover:shadow-[#00A19C]/20 bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm",children:[s.jsxs(gs,{children:[s.jsx(xs,{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Reset Password"}),s.jsx(cm,{children:"Enter your phone number to receive an OTP"})]}),s.jsx(qe,{children:s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Phone Number"}),s.jsx(lw,{countries:c,iso2:Q,setIso2:R,phone:L,setPhone:Te,disabledPhone:!1}),P&&s.jsx(pe,{type:"button",variant:"link",size:"sm",onClick:Ht,className:"px-0 text-[#00A19C] hover:text-[#8EDC81] transition-colors",children:"Change number"})]}),P&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2 animate-fade-in-up",children:[s.jsx(de,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"OTP Code"}),s.jsx(Se,{type:"text",inputMode:"numeric",value:ye,onChange:Ge=>{const Ze=Ge.target.value.replace(/\D/g,"");Ze.length<=6&&ce(Ze)},placeholder:"Enter 6-digit OTP",maxLength:6,className:"border-2 border-gray-300 dark:border-gray-600 focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all"}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Check your phone"}),lt>0?s.jsxs("p",{className:"text-xs text-[#00A19C] font-semibold",children:["Resend in ",lt,"s"]}):s.jsxs(pe,{type:"button",variant:"link",size:"sm",onClick:Ct,disabled:!Be||n,className:"h-auto p-0 text-xs text-[#00A19C] hover:text-[#8EDC81] transition-colors",children:[s.jsx(Tt,{className:"w-3 h-3 mr-1"}),"Resend OTP"]})]})]}),s.jsxs("div",{className:"space-y-2 animate-fade-in-up animation-delay-200",children:[s.jsx(de,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Il,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx(Se,{type:"password",value:ue,onChange:Ge=>De(Ge.target.value),className:"pl-10 border-2 border-gray-300 dark:border-gray-600 focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all",minLength:6,placeholder:"At least 6 characters"})]})]}),s.jsxs("div",{className:"space-y-2 animate-fade-in-up animation-delay-300",children:[s.jsx(de,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Confirm New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Il,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx(Se,{type:"password",value:je,onChange:Ge=>Ae(Ge.target.value),className:"pl-10 border-2 border-gray-300 dark:border-gray-600 focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all",placeholder:"Re-enter password"})]})]})]}),P?s.jsx(pe,{onClick:us,className:"w-full bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] hover:from-[#184a5e] hover:via-[#008c88] hover:to-[#7bc876] text-white font-bold py-6 rounded-xl shadow-lg shadow-[#00A19C]/30 hover:shadow-xl hover:shadow-[#00A19C]/40 transition-all duration-300 hover:scale-105",disabled:n,children:n?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Tt,{className:"w-4 h-4 animate-spin"}),"Resetting..."]}):"Reset Password"}):s.jsx(pe,{onClick:Yt,className:"w-full bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] hover:from-[#184a5e] hover:via-[#008c88] hover:to-[#7bc876] text-white font-bold py-6 rounded-xl shadow-lg shadow-[#00A19C]/30 hover:shadow-xl hover:shadow-[#00A19C]/40 transition-all duration-300 hover:scale-105",disabled:n,children:n?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Tt,{className:"w-4 h-4 animate-spin"}),"Sending..."]}):"Send OTP"})]})})]})]})]}):s.jsxs("div",{className:"min-h-screen flex items-center justify-center px-4 py-8 bg-gradient-to-br from-gray-50 via-white to-[#8EDC81]/10 dark:from-gray-950 dark:via-gray-900 dark:to-gray-800 relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-[#1e5f7a]/10 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-[#00A19C]/10 rounded-full blur-3xl animate-pulse animation-delay-700"}),s.jsx("div",{className:"absolute top-1/2 left-1/2 w-96 h-96 bg-[#8EDC81]/10 rounded-full blur-3xl animate-pulse animation-delay-1400"}),s.jsx("div",{className:"absolute top-[10%] left-[15%] w-3 h-3 bg-[#00A19C] rounded-full animate-float animation-delay-500 opacity-20"}),s.jsx("div",{className:"absolute top-[60%] left-[80%] w-4 h-4 bg-[#8EDC81] rounded-full animate-float animation-delay-1000 opacity-20"}),s.jsx("div",{className:"absolute top-[80%] left-[20%] w-2 h-2 bg-[#1e5f7a] rounded-full animate-float animation-delay-1500 opacity-20"}),s.jsx("div",{className:"absolute top-[30%] left-[70%] w-3 h-3 bg-[#00A19C] rounded-full animate-float animation-delay-2000 opacity-20"})]}),s.jsxs("div",{className:"w-full max-w-md relative z-10 animate-fade-in-up",children:[s.jsxs(pe,{variant:"ghost",onClick:()=>t("/"),className:"mb-6 hover:bg-[#00A19C]/10 transition-all hover:scale-105 group",children:[s.jsx(zi,{className:"w-4 h-4 mr-2 group-hover:-translate-x-1 transition-transform"}),"Back to Home"]}),s.jsxs("div",{className:"flex flex-col items-center mb-8 animate-fade-in",children:[s.jsx("div",{className:"w-24 h-24 rounded-2xl flex items-center justify-center mb-4 animate-float hover:scale-110 transition-transform duration-300 cursor-pointer shadow-md shadow-gray-400/20",children:s.jsx("img",{src:"/rentologo.png",alt:"Rento LB Logo",className:"w-24 h-24 object-contain"})}),s.jsx("h1",{className:"text-4xl font-black bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] bg-clip-text text-transparent mb-2",children:"Rento LB"}),s.jsxs("p",{className:"text-gray-600 dark:text-gray-400 font-medium flex items-center gap-2",children:[s.jsx(Ul,{className:"w-4 h-4 text-[#00A19C]"}),"Lebanon's Premier Car Rental",s.jsx(Ul,{className:"w-4 h-4 text-[#8EDC81]"})]})]}),s.jsxs(Ue,{className:"border-2 border-gray-200 dark:border-gray-700 hover:border-[#00A19C] transition-all duration-500 hover:shadow-2xl hover:shadow-[#00A19C]/20 bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm",children:[s.jsxs(gs,{className:"text-center",children:[s.jsx(xs,{className:"text-3xl font-black text-gray-900 dark:text-white",children:"Welcome Back"}),s.jsx(cm,{className:"text-base",children:"Login or register to access your account"})]}),s.jsxs(qe,{children:[s.jsxs(Uo,{value:e,onValueChange:Ge=>{r(Ge),Ge==="register"&&H()},className:"w-full",children:[s.jsxs(Ki,{className:"grid w-full grid-cols-2 mb-6 bg-gray-100 dark:bg-gray-700 p-1 rounded-xl",children:[s.jsx($t,{value:"login",className:"rounded-lg data-[state=active]:bg-gradient-to-r data-[state=active]:from-[#1e5f7a] data-[state=active]:via-[#00A19C] data-[state=active]:to-[#8EDC81] data-[state=active]:text-white font-semibold transition-all",children:"Login"}),s.jsx($t,{value:"register",className:"rounded-lg data-[state=active]:bg-gradient-to-r data-[state=active]:from-[#1e5f7a] data-[state=active]:via-[#00A19C] data-[state=active]:to-[#8EDC81] data-[state=active]:text-white font-semibold transition-all",children:"Register"})]}),s.jsx(Qt,{value:"login",className:"animate-fade-in",children:s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(de,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[s.jsx(di,{className:"w-4 h-4 text-[#00A19C]"}),"Phone Number"]}),s.jsx(lw,{countries:c,iso2:g,setIso2:y,phone:m,setPhone:f,disabledPhone:!1})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(de,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[s.jsx(Il,{className:"w-4 h-4 text-[#00A19C]"}),"Password"]}),s.jsxs("div",{className:"relative",children:[s.jsx(Il,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx(Se,{type:"password",value:v,onChange:Ge=>w(Ge.target.value),className:"pl-10 border-2 border-gray-300 dark:border-gray-600 focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all",placeholder:"Enter your password",onKeyPress:Ge=>Ge.key==="Enter"&&_()})]})]}),s.jsx(pe,{type:"button",variant:"link",className:"w-full text-sm p-0 h-auto text-[#00A19C] hover:text-[#8EDC81] font-semibold transition-colors",onClick:()=>o(!0),children:"Forgot Password?"}),s.jsx(pe,{onClick:_,disabled:n,className:"w-full bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] hover:from-[#184a5e] hover:via-[#008c88] hover:to-[#7bc876] text-white font-bold py-6 rounded-xl shadow-lg shadow-[#00A19C]/30 hover:shadow-xl hover:shadow-[#00A19C]/40 transition-all duration-300 hover:scale-105 group",children:n?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Tt,{className:"w-5 h-5 animate-spin"}),"Logging in..."]}):s.jsxs("span",{className:"flex items-center gap-2",children:["Login",s.jsx(zi,{className:"w-5 h-5 rotate-180 group-hover:translate-x-1 transition-transform"})]})})]})}),s.jsx(Qt,{value:"register",className:"animate-fade-in",children:T?s.jsxs("div",{className:"space-y-5 animate-fade-in",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(de,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[s.jsx(Gi,{className:"w-4 h-4 text-[#00A19C]"}),"Username"]}),s.jsxs("div",{className:"relative",children:[s.jsx(Gi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx(Se,{type:"text",ref:V,value:se.username,onChange:Ge=>{X({...se,username:Ge.target.value}),K(Ze=>({...Ze,username:!1}))},className:`pl-10 border-2 ${M.username?"border-red-500":"border-gray-300 dark:border-gray-600"} focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all`,placeholder:"Choose a username"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"First Name"}),s.jsx(Se,{type:"text",ref:W,value:se.first_name,onChange:Ge=>{X({...se,first_name:Ge.target.value}),K(Ze=>({...Ze,first_name:!1}))},className:`border-2 ${M.first_name?"border-red-500":"border-gray-300 dark:border-gray-600"} focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all`,placeholder:"First name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Last Name"}),s.jsx(Se,{type:"text",ref:le,value:se.last_name,onChange:Ge=>{X({...se,last_name:Ge.target.value}),K(Ze=>({...Ze,last_name:!1}))},className:`border-2 ${M.last_name?"border-red-500":"border-gray-300 dark:border-gray-600"} focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all`,placeholder:"Last name"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Driver's License Number"}),s.jsx(Se,{type:"text",ref:oe,value:se.license_number,onChange:Ge=>{X({...se,license_number:Ge.target.value}),K(Ze=>({...Ze,license_number:!1}))},className:`border-2 ${M.license_number?"border-red-500":"border-gray-300 dark:border-gray-600"} focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all`,placeholder:"License number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(de,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[s.jsx(Il,{className:"w-4 h-4 text-[#00A19C]"}),"Password"]}),s.jsx(Se,{type:"password",ref:ve,value:se.password,onChange:Ge=>{X({...se,password:Ge.target.value}),K(Ze=>({...Ze,password:!1}))},minLength:6,className:`border-2 ${M.password?"border-red-500":"border-gray-300 dark:border-gray-600"} focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all`,placeholder:"At least 6 characters"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Minimum 6 characters"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Confirm Password"}),s.jsx(Se,{type:"password",ref:me,value:se.password_confirmation,onChange:Ge=>{X({...se,password_confirmation:Ge.target.value}),K(Ze=>({...Ze,password_confirmation:!1}))},className:`border-2 ${M.password_confirmation?"border-red-500":"border-gray-300 dark:border-gray-600"} focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all`,placeholder:"Re-enter password"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("input",{type:"checkbox",id:"terms-accept",ref:$,checked:z,onChange:Ge=>{he(Ge.target.checked),K(Ze=>({...Ze,terms:!1}))},className:`mt-1 h-4 w-4 rounded ${M.terms?"border-red-500":"border-gray-300"} text-[#00A19C] focus:ring-[#00A19C]`}),s.jsxs(de,{htmlFor:"terms-accept",className:"text-sm text-gray-600 dark:text-gray-400 cursor-pointer leading-tight",children:["I accept the"," ",s.jsx("a",{href:"/Terms-and-Conditions",target:"_blank",rel:"noopener noreferrer",className:"text-[#00A19C] hover:underline font-medium",children:"Terms of Use"})," ","and"," ",s.jsx("a",{href:"/Privacy-Policy",target:"_blank",rel:"noopener noreferrer",className:"text-[#00A19C] hover:underline font-medium",children:"Privacy Policy"}),s.jsx("span",{className:"text-red-500",children:" *"})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(pe,{variant:"outline",onClick:()=>ne(!1),className:"w-1/3 border-2 border-gray-300 hover:border-[#00A19C] hover:bg-[#00A19C]/10 transition-all",disabled:n,children:"Back"}),s.jsx(pe,{onClick:ke,className:"w-2/3 bg-gradient-to-r from-[#00A19C] to-[#8EDC81] hover:from-[#008c88] hover:to-[#7bc876] text-white font-bold py-6 rounded-xl shadow-lg shadow-[#00A19C]/30 hover:shadow-xl hover:shadow-[#00A19C]/40 transition-all duration-300 hover:scale-105",disabled:n,children:n?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Tt,{className:"w-5 h-5 animate-spin"}),"Registering..."]}):"Complete Registration"})]})]}):s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(de,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[s.jsx(di,{className:"w-4 h-4 text-[#00A19C]"}),"Phone Number"]}),s.jsx(lw,{countries:c,iso2:k,setIso2:S,phone:b,setPhone:N,disabledPhone:C})]}),C&&s.jsxs("div",{className:"space-y-2 animate-fade-in-up",children:[s.jsx(de,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"OTP Code"}),s.jsx(Se,{type:"text",inputMode:"numeric",value:E,onChange:Ge=>{const Ze=Ge.target.value.replace(/\D/g,"");Ze.length<=6&&U(Ze)},placeholder:"Enter 6-digit OTP",maxLength:6,className:"border-2 border-gray-300 dark:border-gray-600 focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all text-center text-2xl font-bold tracking-widest"}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Check your phone"}),Y>0?s.jsxs("p",{className:"text-xs text-[#00A19C] font-semibold",children:["Resend in ",Y,"s"]}):s.jsxs(pe,{type:"button",variant:"link",size:"sm",onClick:ee,disabled:!q||n,className:"h-auto p-0 text-xs text-[#00A19C] hover:text-[#8EDC81] transition-colors",children:[s.jsx(Tt,{className:"w-3 h-3 mr-1"}),"Resend OTP"]})]})]}),s.jsx("div",{className:"flex gap-2",children:C?s.jsxs(s.Fragment,{children:[s.jsx(pe,{variant:"outline",onClick:fe,className:"w-1/3 border-2 border-gray-300 hover:border-[#00A19C] hover:bg-[#00A19C]/10 transition-all",disabled:n,children:"Change"}),s.jsx(pe,{onClick:J,className:"w-2/3 bg-gradient-to-r from-[#00A19C] to-[#8EDC81] hover:from-[#008c88] hover:to-[#7bc876] text-white font-bold py-6 rounded-xl shadow-lg shadow-[#00A19C]/30 hover:shadow-xl hover:shadow-[#00A19C]/40 transition-all duration-300 hover:scale-105",disabled:n,children:n?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Tt,{className:"w-5 h-5 animate-spin"}),"Verifying..."]}):"Verify OTP"})]}):s.jsx(pe,{onClick:Z,className:"w-full bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] hover:from-[#184a5e] hover:via-[#008c88] hover:to-[#7bc876] text-white font-bold py-6 rounded-xl shadow-lg shadow-[#00A19C]/30 hover:shadow-xl hover:shadow-[#00A19C]/40 transition-all duration-300 hover:scale-105",disabled:n,children:n?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Tt,{className:"w-5 h-5 animate-spin"}),"Sending..."]}):"Send OTP"})})]})})]}),s.jsx("div",{className:"mt-6 text-center border-t border-gray-200 dark:border-gray-700 pt-6",children:s.jsxs("button",{onClick:()=>t("/"),className:"text-sm text-gray-600 dark:text-gray-400 hover:text-[#00A19C] dark:hover:text-[#8EDC81] transition-colors font-medium flex items-center gap-2 mx-auto group",children:[s.jsx(Ul,{className:"w-4 h-4 group-hover:animate-pulse"}),"Continue as Guest",s.jsx(Ul,{className:"w-4 h-4 group-hover:animate-pulse"})]})})]})]}),s.jsx("div",{className:"mt-6 text-center text-xs text-gray-500 dark:text-gray-400",children:s.jsx("p",{children:" 2024 Rento LB. All rights reserved."})})]})]})}const AJ=_N("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function We({className:t,variant:e,...r}){return s.jsx("div",{className:St(AJ({variant:e}),t),...r})}const EJ=({feedbacks:t,onClose:e})=>s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",onClick:e,children:s.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 max-w-md w-full max-h-[80vh] overflow-y-auto shadow-2xl border border-gray-200 dark:border-gray-700 animate-scale-in",onClick:r=>r.stopPropagation(),children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[s.jsx(E0,{className:"w-5 h-5 text-[#00A19C]"}),"Customer Feedback"]}),s.jsx("button",{onClick:e,className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors hover:scale-110 w-8 h-8 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 flex items-center justify-center","aria-label":"Close feedbacks",children:""})]}),t&&t.length>0?s.jsx("ul",{className:"space-y-4",children:t.map((r,n)=>s.jsxs("li",{className:"border-b border-gray-200 dark:border-gray-700 pb-4 last:border-0 animate-fade-in-up",style:{animationDelay:`${n*.1}s`},children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(rr,{className:"w-4 h-4 text-[#8EDC81] fill-[#8EDC81]"}),s.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:r.rating?`${r.rating}/5`:"N/A"})]}),s.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:r.comments||"No comment provided."})]},n))}):s.jsx("p",{className:"text-gray-500 dark:text-gray-400 italic text-center py-8",children:"No feedback yet. Be the first to review!"})]})}),TJ=({car:t,forceFavorite:e=!1,onToggleFavoriteApi:r})=>{const[n,a]=j.useState(!1),[i,o]=j.useState(!1),[c,d]=j.useState(!1),[h,m]=j.useState(!1),{isAuthenticated:f}=hh();j.useEffect(()=>{if(e){a(!0);return}a(!1)},[t?.id,e]);const g=async v=>{if(v.preventDefault(),v.stopPropagation(),!t?.id||i)return;if(!f){be.error("Please log in to save favorites.");return}if(r)return r();const w=!n;a(w),o(!0);try{await Oe.post(`/cars/${t.id}/favorite`),window.dispatchEvent(new Event("favoritesUpdated"))}catch(_){console.error("Favorite toggle error:",_),a(!w)}finally{o(!1)}},y={id:t.id,image:t.main_image_url||t.image||"/placeholder.png",brand:t.make||t.brand||"Car",model:t.model||"Model",year:t.year||"N/A",category:t.car_category||t.type||t.category||"Standard",seats:t.seats||4,transmission:t.transmission||"Auto",fuelType:t.fuel_type||t.fuelType||"Petrol",price:t.daily_rate||t.price||0,holidayRate:t.holiday_rate||null,deposit:t.deposit||null,isDeposit:t.is_deposit||!1,feedbacks:t.feedbacks||[],popular:t.popular||!1,location:t.live_location?.address||t.location||null};return s.jsxs(s.Fragment,{children:[s.jsx(Us,{to:`/cars/${y.id}`,className:"block group",children:s.jsxs(Ue,{className:"relative overflow-hidden h-full flex flex-col bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 hover:border-[#00A19C] transition-all duration-300 hover:shadow-lg hover:shadow-[#00A19C]/20 hover:-translate-y-1",children:[s.jsxs("div",{className:"relative overflow-hidden aspect-square bg-gray-100 dark:bg-gray-700",children:[!c&&s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 dark:from-gray-700 dark:via-gray-600 dark:to-gray-700 animate-pulse"}),s.jsx("img",{src:`/api/storage/${y.image}`,alt:`${y.brand} ${y.model}`,onLoad:()=>d(!0),className:`w-full h-full object-cover transition-transform duration-500 group-hover:scale-105 ${c?"opacity-100":"opacity-0"}`}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/10 to-transparent opacity-50 group-hover:opacity-70 transition-opacity duration-300"}),s.jsx("button",{onClick:g,disabled:i,"aria-label":n?"Remove from favorites":"Add to favorites",className:`absolute top-2 right-2 w-8 h-8 rounded-full backdrop-blur-sm flex items-center justify-center transition-all duration-300 z-20 ${n?"bg-red-500 shadow-md":"bg-white/90 dark:bg-gray-800/90 hover:scale-110"} ${i?"opacity-70 cursor-not-allowed":""}`,children:s.jsx(Kl,{className:`w-4 h-4 transition-all ${n?"fill-white text-white":"text-gray-700 dark:text-gray-300"}`})}),s.jsx("div",{className:"absolute top-2 left-2 z-10",children:s.jsx(We,{className:"bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm text-[#00A19C] dark:text-[#8EDC81] border border-[#00A19C]/30 dark:border-[#8EDC81]/30 text-xs font-semibold px-2 py-0.5",children:y.category})}),y.popular&&s.jsx("div",{className:"absolute bottom-2 left-2 z-10",children:s.jsxs(We,{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white text-xs font-bold border-0 px-2 py-0.5 flex items-center gap-1",children:[s.jsx(rr,{className:"w-3 h-3 fill-white"}),"Popular"]})}),s.jsx("div",{className:"absolute bottom-2 right-2 z-10",children:s.jsxs(We,{className:"bg-gradient-to-r from-[#00A19C] to-[#8EDC81] text-white text-xs font-bold px-2 py-1",children:["$",y.price,"/day"]})})]}),s.jsxs(qe,{className:"p-2.5 flex-grow",children:[s.jsxs("div",{className:"mb-1.5",children:[s.jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[s.jsx("p",{className:"text-xs font-semibold text-[#00A19C] dark:text-[#8EDC81] uppercase tracking-wide",children:y.brand}),s.jsxs("div",{className:"flex flex-col items-end",children:[s.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:y.year}),y.location&&s.jsxs("div",{className:"flex items-center gap-0.5 mt-0.5",children:[s.jsx(Ps,{className:"w-2.5 h-2.5 text-gray-400 dark:text-gray-500"}),s.jsx("p",{className:"text-[9px] text-gray-500 dark:text-gray-400 line-clamp-1",children:y.location})]})]})]}),s.jsx("h3",{className:"text-sm font-bold text-gray-900 dark:text-white line-clamp-1 group-hover:text-[#00A19C] dark:group-hover:text-[#8EDC81] transition-colors",children:y.model})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-1 mb-1.5",children:[s.jsxs("div",{className:"flex flex-col items-center p-1 rounded bg-gray-50 dark:bg-gray-700/50 group-hover:bg-[#00A19C]/10 dark:group-hover:bg-[#00A19C]/20 transition-colors",children:[s.jsx(ks,{className:"w-3 h-3 text-[#00A19C] dark:text-[#8EDC81] mb-0.5"}),s.jsx("span",{className:"text-[10px] font-semibold text-gray-700 dark:text-gray-300",children:y.seats})]}),s.jsxs("div",{className:"flex flex-col items-center p-1 rounded bg-gray-50 dark:bg-gray-700/50 group-hover:bg-[#00A19C]/10 dark:group-hover:bg-[#00A19C]/20 transition-colors",children:[s.jsx(Rm,{className:"w-3 h-3 text-[#00A19C] dark:text-[#8EDC81] mb-0.5"}),s.jsx("span",{className:"text-[10px] font-semibold text-gray-700 dark:text-gray-300 truncate w-full text-center",children:y.transmission.slice(0,4)})]}),s.jsxs("div",{className:"flex flex-col items-center p-1 rounded bg-gray-50 dark:bg-gray-700/50 group-hover:bg-[#00A19C]/10 dark:group-hover:bg-[#00A19C]/20 transition-colors",children:[s.jsx(A0,{className:"w-3 h-3 text-[#00A19C] dark:text-[#8EDC81] mb-0.5"}),s.jsx("span",{className:"text-[10px] font-semibold text-gray-700 dark:text-gray-300 truncate w-full text-center",children:y.fuelType.slice(0,4)})]})]}),(y.holidayRate||y.isDeposit)&&s.jsxs("div",{className:"flex items-center gap-1 mb-1.5 text-[10px]",children:[y.holidayRate&&s.jsxs("div",{className:"flex-1 text-center p-1 bg-gradient-to-br from-[#00A19C]/10 to-[#8EDC81]/10 dark:from-[#1e5f7a]/20 dark:to-[#00A19C]/20 rounded border border-[#00A19C]/20",children:[s.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium text-[9px] leading-tight",children:"Holiday"}),s.jsxs("p",{className:"font-bold text-[#1e5f7a] dark:text-[#8EDC81] text-xs leading-tight",children:["$",y.holidayRate]})]}),y.isDeposit&&s.jsxs("div",{className:"flex-1 text-center p-1 bg-amber-50 dark:bg-amber-900/20 rounded border border-amber-200 dark:border-amber-800",children:[s.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium text-[9px] leading-tight",children:"Deposit"}),s.jsxs("p",{className:"font-bold text-amber-600 dark:text-amber-400 text-xs leading-tight",children:["$",y.deposit]})]})]}),s.jsxs("button",{onClick:v=>{v.preventDefault(),v.stopPropagation(),m(!0)},className:"w-full flex items-center justify-between p-1 rounded bg-gray-50 dark:bg-gray-700/50 hover:bg-[#00A19C]/10 dark:hover:bg-[#00A19C]/20 transition-all border border-gray-200 dark:border-gray-700 hover:border-[#00A19C] group/feedback mb-1.5","aria-label":"Open customer feedback",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(E0,{className:"w-3 h-3 text-[#00A19C] dark:text-[#8EDC81]"}),s.jsx("span",{className:"text-[10px] font-semibold text-gray-900 dark:text-white",children:"Reviews"})]}),s.jsx(We,{className:"bg-gradient-to-r from-[#00A19C] to-[#8EDC81] text-white text-[10px] font-bold px-1.5 py-0",children:y.feedbacks.length})]}),s.jsx(pe,{className:"w-full bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] hover:from-[#184a5e] hover:via-[#008c88] hover:to-[#7bc876] text-white font-bold py-2 text-xs rounded-lg shadow-md hover:shadow-lg transition-all duration-300 hover:scale-[1.02] group/btn",children:s.jsxs("span",{className:"flex items-center justify-center gap-1",children:[s.jsx(sr,{className:"w-3 h-3"}),"View Details",s.jsx(xd,{className:"w-3 h-3 group-hover/btn:translate-x-0.5 transition-transform"})]})})]})]})}),h&&s.jsx(EJ,{feedbacks:y.feedbacks,onClose:()=>m(!1)})]})},RJ=()=>{const[t,e]=j.useState({location:"",pickupDate:"",returnDate:""}),[r,n]=j.useState([]),[a,i]=j.useState(!0),[o,c]=j.useState("");j.useEffect(()=>{(async()=>{try{const g=await Oe.get("/guest-cars");if(!g.data||!g.data.cars)throw new Error("Invalid response from server");n(g.data.cars)}catch(g){console.error("Error fetching cars:",g.response?.data||g.message),c("Failed to load cars. Please try again later.")}finally{i(!1)}})()},[]);const d=f=>{f.preventDefault(),window.location.href="/luxury-car-rental-lebanon"},h=[{icon:Zn,title:"Premium Insurance",description:"Comprehensive coverage with every rental",gradient:"from-[#1e5f7a] to-[#00A19C]"},{icon:ch,title:"24/7 Support",description:"Round-the-clock customer service",gradient:"from-[#00A19C] to-[#8EDC81]"},{icon:or,title:"Best Price Guarantee",description:"Competitive rates, no hidden fees",gradient:"from-[#1e5f7a] to-[#8EDC81]"},{icon:s_,title:"Premium Fleet",description:"Luxury and high-performance vehicles",gradient:"from-[#8EDC81] to-[#00A19C]"}],m=[{value:"10K+",label:"Happy Customers",icon:ks,color:"from-[#1e5f7a] to-[#00A19C]"},{value:"50+",label:"Luxury Vehicles",icon:Gt,color:"from-[#00A19C] to-[#8EDC81]"},{value:"15",label:"Years Experience",icon:Zl,color:"from-[#1e5f7a] to-[#8EDC81]"},{value:"99%",label:"Satisfaction Rate",icon:rr,color:"from-[#8EDC81] to-[#00A19C]"}];return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-[#8EDC81]/10 dark:from-gray-950 dark:via-gray-900 dark:to-gray-800",children:[s.jsxs("section",{className:"relative min-h-[85vh] sm:min-h-[80vh] flex items-center justify-center overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute top-1/4 left-1/4 w-72 h-72 md:w-96 md:h-96 bg-[#1e5f7a]/10 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-72 h-72 md:w-96 md:h-96 bg-[#00A19C]/10 rounded-full blur-3xl animate-pulse animation-delay-700"}),s.jsx("div",{className:"absolute top-1/2 left-1/2 w-72 h-72 md:w-96 md:h-96 bg-[#8EDC81]/10 rounded-full blur-3xl animate-pulse animation-delay-1400"})]}),s.jsxs("div",{className:"absolute inset-0 z-0",children:[s.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover opacity-90",poster:"https://images.unsplash.com/photo-1492144534655-ae79c964c9d7?w=1920&q=80",children:s.jsx("source",{src:"/hero.mp4",type:"video/mp4"})}),s.jsx("div",{className:"absolute inset-0 bg-transparent"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900/10 via-transparent to-transparent"})]}),s.jsx("div",{className:"container mx-auto px-4 relative z-10 pt-24 pb-16 sm:pt-32 sm:pb-20",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center mb-8 sm:mb-12 animate-fade-in-up",children:[s.jsxs(We,{className:"mb-4 sm:mb-6 bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8fdc81bf] text-white border-0 px-4 sm:px-6 py-2 sm:py-2.5 text-xs sm:text-sm font-bold shadow-lg shadow-[#00A19C]/30 hover:shadow-xl hover:scale-105 transition-all animate-pulse-glow",children:[s.jsx(Ul,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 mr-1.5 sm:mr-2 inline"}),"Premium Car Rental Service"]}),s.jsxs("h1",{className:"text-3xl sm:text-5xl md:text-6xl lg:text-7xl font-black text-white mb-4 sm:mb-6 leading-tight drop-shadow-2xl",children:["Rent a Car in Lebanon",s.jsx("span",{className:"block mt-2 bg-gradient-to-r from-[#8EDC81] via-[#00A19C] to-[#1e5f7a] bg-clip-text text-transparent",children:"10,000+ Luxury & Premium Vehicles"})]}),s.jsx("p",{className:"text-base sm:text-xl md:text-2xl text-gray-100 mb-6 sm:mb-12 max-w-2xl mx-auto font-medium drop-shadow-lg px-4",children:"All you need in one place  the only platform with full search and filters"}),s.jsx(Ue,{className:"bg-white/95 dark:bg-gray-800/95 backdrop-blur-xl border-0 shadow-2xl shadow-black/20 p-4 sm:p-6 md:p-8 rounded-2xl animate-scale-in",children:s.jsxs("form",{onSubmit:d,children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 mb-3 sm:mb-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ps,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 text-[#00A19C] pointer-events-none"}),s.jsx(Se,{type:"text",placeholder:"Location",value:t.location,onChange:f=>e({...t,location:f.target.value}),className:"pl-10 sm:pl-12 h-12 sm:h-14 border-2 border-gray-300 dark:border-gray-600 focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 rounded-xl text-sm sm:text-base transition-all"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Hs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 text-[#00A19C] pointer-events-none"}),s.jsx(Se,{type:"date",value:t.pickupDate,onChange:f=>e({...t,pickupDate:f.target.value}),className:"pl-10 sm:pl-12 h-12 sm:h-14 border-2 border-gray-300 dark:border-gray-600 focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 rounded-xl text-sm sm:text-base transition-all"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Hs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 text-[#00A19C] pointer-events-none"}),s.jsx(Se,{type:"date",value:t.returnDate,onChange:f=>e({...t,returnDate:f.target.value}),className:"pl-10 sm:pl-12 h-12 sm:h-14 border-2 border-gray-300 dark:border-gray-600 focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 rounded-xl text-sm sm:text-base transition-all"})]})]}),s.jsxs(pe,{type:"submit",size:"lg",className:"w-full h-14 sm:h-16 bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] hover:from-[#184a5e] hover:via-[#008c88] hover:to-[#7bc876] text-white font-bold text-base sm:text-lg rounded-xl shadow-lg shadow-[#00A19C]/30 hover:shadow-xl hover:shadow-[#00A19C]/40 transition-all duration-300 hover:scale-[1.02] group",children:[s.jsx(Fr,{className:"w-5 h-5 sm:w-6 sm:h-6 mr-2 sm:mr-3 group-hover:rotate-90 transition-transform duration-300"}),"Search Available Cars",s.jsx(xd,{className:"w-5 h-5 sm:w-6 sm:h-6 ml-2 sm:ml-3 group-hover:translate-x-1 transition-transform"})]})]})})]})})]}),s.jsx("section",{className:"py-16 sm:py-24 bg-gradient-to-br from-gray-50 to-[#8EDC81]/10 dark:from-gray-950 dark:to-gray-900",children:s.jsx("div",{className:"container mx-auto px-4",children:a?s.jsxs("div",{className:"flex flex-col justify-center items-center py-16 sm:py-20",children:[s.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 border-4 border-[#00A19C] border-t-transparent rounded-full animate-spin mb-4"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium text-sm sm:text-base",children:"Loading premium vehicles..."})]}):o?s.jsxs("div",{className:"text-center py-16 sm:py-20 px-4",children:[s.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Gt,{className:"w-8 h-8 sm:w-10 sm:h-10 text-red-500"})}),s.jsx("p",{className:"text-lg sm:text-xl text-red-500 font-semibold mb-2",children:o}),s.jsx(pe,{onClick:()=>window.location.reload(),variant:"outline",className:"mt-4 border-red-300 text-red-600 hover:bg-red-50",children:"Try Again"})]}):r.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-10 sm:mb-12",children:r.slice(0,4).map((f,g)=>s.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:`${g*.1}s`},children:s.jsx(TJ,{car:f})},f.id))}),s.jsx("div",{className:"text-center",children:s.jsx(Us,{to:"/luxury-car-rental-lebanon",children:s.jsxs(pe,{size:"lg",className:"bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] hover:from-[#184a5e] hover:via-[#008c88] hover:to-[#7bc876] text-white font-bold px-8 sm:px-10 py-6 sm:py-7 rounded-xl shadow-lg shadow-[#00A19C]/30 hover:shadow-xl hover:shadow-[#00A19C]/40 transition-all duration-300 hover:scale-105 text-base sm:text-lg group",children:["View All Vehicles",s.jsx(xd,{className:"w-4 h-4 sm:w-5 sm:h-5 ml-2 group-hover:translate-x-1 transition-transform"})]})})})]}):s.jsxs("div",{className:"text-center py-16 sm:py-20 px-4",children:[s.jsx(Gt,{className:"w-12 h-12 sm:w-16 sm:h-16 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-lg sm:text-xl text-gray-500 dark:text-gray-400",children:"No cars available at the moment."})]})})}),s.jsxs("section",{className:"py-12 sm:py-20 bg-white dark:bg-gray-900 relative overflow-hidden border-y border-gray-200 dark:border-gray-800",children:[s.jsx("div",{className:"absolute inset-0 opacity-5",children:s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81]"})}),s.jsx("div",{className:"container mx-auto px-4 relative z-10",children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 sm:gap-8",children:m.map((f,g)=>s.jsxs("div",{className:"text-center group cursor-default animate-fade-in-up",style:{animationDelay:`${g*.1}s`},children:[s.jsx("div",{className:`w-14 h-14 sm:w-20 sm:h-20 rounded-2xl bg-gradient-to-br ${f.color} flex items-center justify-center mx-auto mb-3 sm:mb-4 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300 shadow-lg shadow-[#00A19C]/20`,children:s.jsx(f.icon,{className:"w-7 h-7 sm:w-10 sm:h-10 text-white"})}),s.jsx("p",{className:"text-3xl sm:text-4xl md:text-5xl font-black bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] bg-clip-text text-transparent mb-1 sm:mb-2 group-hover:scale-105 transition-transform",children:f.value}),s.jsx("p",{className:"text-xs sm:text-sm md:text-base text-gray-600 dark:text-gray-400 font-semibold",children:f.label})]},g))})})]}),s.jsx("section",{className:"py-16 sm:py-24 bg-white dark:bg-gray-900",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12 sm:mb-16 animate-fade-in",children:[s.jsxs(We,{className:"mb-3 sm:mb-4 bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] text-white border-0 px-4 sm:px-5 py-1.5 sm:py-2 font-bold shadow-lg shadow-[#00A19C]/20 text-xs sm:text-sm",children:[s.jsx(s_,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 inline mr-1.5 sm:mr-2"}),"Why Choose Us"]}),s.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-black text-gray-900 dark:text-white mb-3 sm:mb-4 px-4",children:"All Cars, All Options"}),s.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-600 dark:text-gray-400 max-w-3xl mx-auto px-4",children:"Connecting you with the perfect car for every journey"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 lg:gap-8",children:h.map((f,g)=>s.jsx(Ue,{className:"text-center border-2 border-gray-200 dark:border-gray-700 hover:border-[#00A19C] dark:hover:border-[#8EDC81] transition-all duration-500 hover:shadow-2xl hover:shadow-[#00A19C]/20 hover:-translate-y-2 bg-white dark:bg-gray-800 group/card animate-fade-in-up",style:{animationDelay:`${g*.1}s`},children:s.jsxs(qe,{className:"pt-8 sm:pt-10 pb-8 sm:pb-10 px-4",children:[s.jsx("div",{className:`w-16 h-16 sm:w-20 sm:h-20 rounded-2xl bg-gradient-to-br ${f.gradient} flex items-center justify-center mx-auto mb-4 sm:mb-6 shadow-lg shadow-[#00A19C]/20 group-hover/card:scale-110 group-hover/card:rotate-3 transition-all duration-300`,children:s.jsx(f.icon,{className:"w-8 h-8 sm:w-10 sm:h-10 text-white"})}),s.jsx("h3",{className:"text-lg sm:text-xl font-bold mb-3 sm:mb-4 text-gray-900 dark:text-white group-hover/card:text-[#00A19C] dark:group-hover/card:text-[#8EDC81] transition-colors",children:f.title}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 leading-relaxed",children:f.description})]})},g))})]})})]})};var Z0="Checkbox",[DJ]=va(Z0),[MJ,YN]=DJ(Z0);function PJ(t){const{__scopeCheckbox:e,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:c,onCheckedChange:d,required:h,value:m="on",internal_do_not_use_render:f}=t,[g,y]=zo({prop:r,defaultProp:a??!1,onChange:d,caller:Z0}),[v,w]=j.useState(null),[_,b]=j.useState(null),N=j.useRef(!1),k=v?!!o||!!v.closest("form"):!0,S={checked:g,disabled:i,setChecked:y,control:v,setControl:w,name:c,form:o,value:m,hasConsumerStoppedPropagationRef:N,required:h,defaultChecked:Wl(a)?!1:a,isFormControl:k,bubbleInput:_,setBubbleInput:b};return s.jsx(MJ,{scope:e,...S,children:OJ(f)?f(S):n})}var jO="CheckboxTrigger",_O=j.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...n},a)=>{const{control:i,value:o,disabled:c,checked:d,required:h,setControl:m,setChecked:f,hasConsumerStoppedPropagationRef:g,isFormControl:y,bubbleInput:v}=YN(jO,t),w=es(a,m),_=j.useRef(d);return j.useEffect(()=>{const b=i?.form;if(b){const N=()=>f(_.current);return b.addEventListener("reset",N),()=>b.removeEventListener("reset",N)}},[i,f]),s.jsx(Bt.button,{type:"button",role:"checkbox","aria-checked":Wl(d)?"mixed":d,"aria-required":h,"data-state":AO(d),"data-disabled":c?"":void 0,disabled:c,value:o,...n,ref:w,onKeyDown:pt(e,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:pt(r,b=>{f(N=>Wl(N)?!0:!N),v&&y&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})})});_O.displayName=jO;var KN=j.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:c,value:d,onCheckedChange:h,form:m,...f}=t;return s.jsx(PJ,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:c,required:o,onCheckedChange:h,name:n,form:m,value:d,internal_do_not_use_render:({isFormControl:g})=>s.jsxs(s.Fragment,{children:[s.jsx(_O,{...f,ref:e,__scopeCheckbox:r}),g&&s.jsx(CO,{__scopeCheckbox:r})]})})});KN.displayName=Z0;var NO="CheckboxIndicator",SO=j.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...a}=t,i=YN(NO,r);return s.jsx(qa,{present:n||Wl(i.checked)||i.checked===!0,children:s.jsx(Bt.span,{"data-state":AO(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:e,style:{pointerEvents:"none",...t.style}})})});SO.displayName=NO;var kO="CheckboxBubbleInput",CO=j.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:c,disabled:d,name:h,value:m,form:f,bubbleInput:g,setBubbleInput:y}=YN(kO,t),v=es(r,y),w=q0(i),_=H0(n);j.useEffect(()=>{const N=g;if(!N)return;const k=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(k,"checked").set,I=!a.current;if(w!==i&&C){const E=new Event("click",{bubbles:I});N.indeterminate=Wl(i),C.call(N,Wl(i)?!1:i),N.dispatchEvent(E)}},[g,w,i,a]);const b=j.useRef(Wl(i)?!1:i);return s.jsx(Bt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:c,disabled:d,name:h,value:m,form:f,...e,tabIndex:-1,ref:v,style:{...e.style,..._,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});CO.displayName=kO;function OJ(t){return typeof t=="function"}function Wl(t){return t==="indeterminate"}function AO(t){return Wl(t)?"indeterminate":t?"checked":"unchecked"}const zf=j.forwardRef(({className:t,...e},r)=>s.jsx(KN,{ref:r,className:St("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:s.jsx(SO,{className:St("flex items-center justify-center text-current"),children:s.jsx(ci,{className:"h-4 w-4"})})}));zf.displayName=KN.displayName;function LJ(t){const e=FJ(t),r=j.forwardRef((n,a)=>{const{children:i,...o}=n,c=j.Children.toArray(i),d=c.find(IJ);if(d){const h=d.props.children,m=c.map(f=>f===d?j.Children.count(h)>1?j.Children.only(null):j.isValidElement(h)?h.props.children:null:f);return s.jsx(e,{...o,ref:a,children:j.isValidElement(h)?j.cloneElement(h,void 0,m):null})}return s.jsx(e,{...o,ref:a,children:i})});return r.displayName=`${t}.Slot`,r}function FJ(t){const e=j.forwardRef((r,n)=>{const{children:a,...i}=r;if(j.isValidElement(a)){const o=UJ(a),c=zJ(i,a.props);return a.type!==j.Fragment&&(c.ref=n?Go(n,o):o),j.cloneElement(a,c)}return j.Children.count(a)>1?j.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var BJ=Symbol("radix.slottable");function IJ(t){return j.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===BJ}function zJ(t,e){const r={...e};for(const n in e){const a=t[n],i=e[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...t,...r}}function UJ(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var Q0="Dialog",[EO,TO]=va(Q0),[$J,mi]=EO(Q0),RO=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=t,c=j.useRef(null),d=j.useRef(null),[h,m]=zo({prop:n,defaultProp:a??!1,onChange:i,caller:Q0});return s.jsx($J,{scope:e,triggerRef:c,contentRef:d,contentId:Ui(),titleId:Ui(),descriptionId:Ui(),open:h,onOpenChange:m,onOpenToggle:j.useCallback(()=>m(f=>!f),[m]),modal:o,children:r})};RO.displayName=Q0;var DO="DialogTrigger",MO=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=mi(DO,r),i=es(e,a.triggerRef);return s.jsx(Bt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":QN(a.open),...n,ref:i,onClick:pt(t.onClick,a.onOpenToggle)})});MO.displayName=DO;var XN="DialogPortal",[VJ,PO]=EO(XN,{forceMount:void 0}),OO=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:a}=t,i=mi(XN,e);return s.jsx(VJ,{scope:e,forceMount:r,children:j.Children.map(n,o=>s.jsx(qa,{present:r||i.open,children:s.jsx($m,{asChild:!0,container:a,children:o})}))})};OO.displayName=XN;var e0="DialogOverlay",LO=j.forwardRef((t,e)=>{const r=PO(e0,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,i=mi(e0,t.__scopeDialog);return i.modal?s.jsx(qa,{present:n||i.open,children:s.jsx(qJ,{...a,ref:e})}):null});LO.displayName=e0;var HJ=LJ("DialogOverlay.RemoveScroll"),qJ=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=mi(e0,r);return s.jsx(G0,{as:HJ,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Bt.div,{"data-state":QN(a.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),_d="DialogContent",FO=j.forwardRef((t,e)=>{const r=PO(_d,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,i=mi(_d,t.__scopeDialog);return s.jsx(qa,{present:n||i.open,children:i.modal?s.jsx(WJ,{...a,ref:e}):s.jsx(GJ,{...a,ref:e})})});FO.displayName=_d;var WJ=j.forwardRef((t,e)=>{const r=mi(_d,t.__scopeDialog),n=j.useRef(null),a=es(e,r.contentRef,n);return j.useEffect(()=>{const i=n.current;if(i)return WN(i)},[]),s.jsx(BO,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pt(t.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:pt(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0;(o.button===2||c)&&i.preventDefault()}),onFocusOutside:pt(t.onFocusOutside,i=>i.preventDefault())})}),GJ=j.forwardRef((t,e)=>{const r=mi(_d,t.__scopeDialog),n=j.useRef(!1),a=j.useRef(!1);return s.jsx(BO,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{t.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{t.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),BO=j.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=t,c=mi(_d,r),d=j.useRef(null),h=es(e,d);return PN(),s.jsxs(s.Fragment,{children:[s.jsx(I0,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(zm,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":QN(c.open),...o,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(KJ,{titleId:c.titleId}),s.jsx(ZJ,{contentRef:d,descriptionId:c.descriptionId})]})]})}),ZN="DialogTitle",IO=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=mi(ZN,r);return s.jsx(Bt.h2,{id:a.titleId,...n,ref:e})});IO.displayName=ZN;var zO="DialogDescription",UO=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=mi(zO,r);return s.jsx(Bt.p,{id:a.descriptionId,...n,ref:e})});UO.displayName=zO;var $O="DialogClose",VO=j.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=mi($O,r);return s.jsx(Bt.button,{type:"button",...n,ref:e,onClick:pt(t.onClick,()=>a.onOpenChange(!1))})});VO.displayName=$O;function QN(t){return t?"open":"closed"}var HO="DialogTitleWarning",[YJ,qO]=UK(HO,{contentName:_d,titleName:ZN,docsSlug:"dialog"}),KJ=({titleId:t})=>{const e=qO(HO),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return j.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},XJ="DialogDescriptionWarning",ZJ=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${qO(XJ).contentName}}.`;return j.useEffect(()=>{const a=t.current?.getAttribute("aria-describedby");e&&a&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},WO=RO,GO=MO,YO=OO,JN=LO,e2=FO,t2=IO,s2=UO,r2=VO;const Kr=WO,QJ=GO,JJ=YO,KO=j.forwardRef(({className:t,...e},r)=>s.jsx(JN,{ref:r,className:St("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));KO.displayName=JN.displayName;const Br=j.forwardRef(({className:t,children:e,...r},n)=>s.jsxs(JJ,{children:[s.jsx(KO,{}),s.jsxs(e2,{ref:n,className:St("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,s.jsxs(r2,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(gr,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Br.displayName=e2.displayName;const Ir=({className:t,...e})=>s.jsx("div",{className:St("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Ir.displayName="DialogHeader";const XO=({className:t,...e})=>s.jsx("div",{className:St("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});XO.displayName="DialogFooter";const zr=j.forwardRef(({className:t,...e},r)=>s.jsx(t2,{ref:r,className:St("text-lg font-semibold leading-none tracking-tight",t),...e}));zr.displayName=t2.displayName;const Vi=j.forwardRef(({className:t,...e},r)=>s.jsx(s2,{ref:r,className:St("text-sm text-muted-foreground",t),...e}));Vi.displayName=s2.displayName;var ZO=["PageUp","PageDown"],QO=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],JO={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},xh="Slider",[v_,eee,tee]=L0(xh),[e8]=va(xh,[tee]),[see,J0]=e8(xh),t8=j.forwardRef((t,e)=>{const{name:r,min:n=0,max:a=100,step:i=1,orientation:o="horizontal",disabled:c=!1,minStepsBetweenThumbs:d=0,defaultValue:h=[n],value:m,onValueChange:f=()=>{},onValueCommit:g=()=>{},inverted:y=!1,form:v,...w}=t,_=j.useRef(new Set),b=j.useRef(0),k=o==="horizontal"?ree:nee,[S=[],C]=zo({prop:m,defaultProp:h,onChange:q=>{[..._.current][b.current]?.focus(),f(q)}}),I=j.useRef(S);function E(q){const F=cee(S,q);ne(q,F)}function U(q){ne(q,b.current)}function T(){const q=I.current[b.current];S[b.current]!==q&&g(S)}function ne(q,F,{commit:Y}={commit:!1}){const O=fee(i),se=mee(Math.round((q-n)/i)*i+n,O),X=Yx(se,[n,a]);C((M=[])=>{const K=oee(M,X,F);if(hee(K,d*i)){b.current=K.indexOf(X);const z=String(K)!==String(M);return z&&Y&&g(K),z?K:M}else return M})}return s.jsx(see,{scope:t.__scopeSlider,name:r,disabled:c,min:n,max:a,valueIndexToChangeRef:b,thumbs:_.current,values:S,orientation:o,form:v,children:s.jsx(v_.Provider,{scope:t.__scopeSlider,children:s.jsx(v_.Slot,{scope:t.__scopeSlider,children:s.jsx(k,{"aria-disabled":c,"data-disabled":c?"":void 0,...w,ref:e,onPointerDown:pt(w.onPointerDown,()=>{c||(I.current=S)}),min:n,max:a,inverted:y,onSlideStart:c?void 0:E,onSlideMove:c?void 0:U,onSlideEnd:c?void 0:T,onHomeKeyDown:()=>!c&&ne(n,0,{commit:!0}),onEndKeyDown:()=>!c&&ne(a,S.length-1,{commit:!0}),onStepKeyDown:({event:q,direction:F})=>{if(!c){const se=ZO.includes(q.key)||q.shiftKey&&QO.includes(q.key)?10:1,X=b.current,M=S[X],K=i*se*F;ne(M+K,X,{commit:!0})}}})})})})});t8.displayName=xh;var[s8,r8]=e8(xh,{startEdge:"left",endEdge:"right",size:"width",direction:1}),ree=j.forwardRef((t,e)=>{const{min:r,max:n,dir:a,inverted:i,onSlideStart:o,onSlideMove:c,onSlideEnd:d,onStepKeyDown:h,...m}=t,[f,g]=j.useState(null),y=es(e,k=>g(k)),v=j.useRef(void 0),w=Bm(a),_=w==="ltr",b=_&&!i||!_&&i;function N(k){const S=v.current||f.getBoundingClientRect(),C=[0,S.width],E=n2(C,b?[r,n]:[n,r]);return v.current=S,E(k-S.left)}return s.jsx(s8,{scope:t.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:s.jsx(n8,{dir:w,"data-orientation":"horizontal",...m,ref:y,style:{...m.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:k=>{const S=N(k.clientX);o?.(S)},onSlideMove:k=>{const S=N(k.clientX);c?.(S)},onSlideEnd:()=>{v.current=void 0,d?.()},onStepKeyDown:k=>{const C=JO[b?"from-left":"from-right"].includes(k.key);h?.({event:k,direction:C?-1:1})}})})}),nee=j.forwardRef((t,e)=>{const{min:r,max:n,inverted:a,onSlideStart:i,onSlideMove:o,onSlideEnd:c,onStepKeyDown:d,...h}=t,m=j.useRef(null),f=es(e,m),g=j.useRef(void 0),y=!a;function v(w){const _=g.current||m.current.getBoundingClientRect(),b=[0,_.height],k=n2(b,y?[n,r]:[r,n]);return g.current=_,k(w-_.top)}return s.jsx(s8,{scope:t.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:s.jsx(n8,{"data-orientation":"vertical",...h,ref:f,style:{...h.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:w=>{const _=v(w.clientY);i?.(_)},onSlideMove:w=>{const _=v(w.clientY);o?.(_)},onSlideEnd:()=>{g.current=void 0,c?.()},onStepKeyDown:w=>{const b=JO[y?"from-bottom":"from-top"].includes(w.key);d?.({event:w,direction:b?-1:1})}})})}),n8=j.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:c,onStepKeyDown:d,...h}=t,m=J0(xh,r);return s.jsx(Bt.span,{...h,ref:e,onKeyDown:pt(t.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(c(f),f.preventDefault()):ZO.concat(QO).includes(f.key)&&(d(f),f.preventDefault())}),onPointerDown:pt(t.onPointerDown,f=>{const g=f.target;g.setPointerCapture(f.pointerId),f.preventDefault(),m.thumbs.has(g)?g.focus():n(f)}),onPointerMove:pt(t.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&a(f)}),onPointerUp:pt(t.onPointerUp,f=>{const g=f.target;g.hasPointerCapture(f.pointerId)&&(g.releasePointerCapture(f.pointerId),i(f))})})}),a8="SliderTrack",i8=j.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,a=J0(a8,r);return s.jsx(Bt.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:e})});i8.displayName=a8;var w_="SliderRange",o8=j.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,a=J0(w_,r),i=r8(w_,r),o=j.useRef(null),c=es(e,o),d=a.values.length,h=a.values.map(g=>d8(g,a.min,a.max)),m=d>1?Math.min(...h):0,f=100-Math.max(...h);return s.jsx(Bt.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:c,style:{...t.style,[i.startEdge]:m+"%",[i.endEdge]:f+"%"}})});o8.displayName=w_;var j_="SliderThumb",l8=j.forwardRef((t,e)=>{const r=eee(t.__scopeSlider),[n,a]=j.useState(null),i=es(e,c=>a(c)),o=j.useMemo(()=>n?r().findIndex(c=>c.ref.current===n):-1,[r,n]);return s.jsx(aee,{...t,ref:i,index:o})}),aee=j.forwardRef((t,e)=>{const{__scopeSlider:r,index:n,name:a,...i}=t,o=J0(j_,r),c=r8(j_,r),[d,h]=j.useState(null),m=es(e,N=>h(N)),f=d?o.form||!!d.closest("form"):!0,g=H0(d),y=o.values[n],v=y===void 0?0:d8(y,o.min,o.max),w=lee(n,o.values.length),_=g?.[c.size],b=_?dee(_,v,c.direction):0;return j.useEffect(()=>{if(d)return o.thumbs.add(d),()=>{o.thumbs.delete(d)}},[d,o.thumbs]),s.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${v}% + ${b}px)`},children:[s.jsx(v_.ItemSlot,{scope:t.__scopeSlider,children:s.jsx(Bt.span,{role:"slider","aria-label":t["aria-label"]||w,"aria-valuemin":o.min,"aria-valuenow":y,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:m,style:y===void 0?{display:"none"}:t.style,onFocus:pt(t.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),f&&s.jsx(c8,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:y},n)]})});l8.displayName=j_;var iee="RadioBubbleInput",c8=j.forwardRef(({__scopeSlider:t,value:e,...r},n)=>{const a=j.useRef(null),i=es(a,n),o=q0(e);return j.useEffect(()=>{const c=a.current;if(!c)return;const d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==e&&m){const f=new Event("input",{bubbles:!0});m.call(c,e),c.dispatchEvent(f)}},[o,e]),s.jsx(Bt.input,{style:{display:"none"},...r,ref:i,defaultValue:e})});c8.displayName=iee;function oee(t=[],e,r){const n=[...t];return n[r]=e,n.sort((a,i)=>a-i)}function d8(t,e,r){const i=100/(r-e)*(t-e);return Yx(i,[0,100])}function lee(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function cee(t,e){if(t.length===1)return 0;const r=t.map(a=>Math.abs(a-e)),n=Math.min(...r);return r.indexOf(n)}function dee(t,e,r){const n=t/2,i=n2([0,50],[0,n]);return(n-i(e)*r)*r}function uee(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function hee(t,e){if(e>0){const r=uee(t);return Math.min(...r)>=e}return!0}function n2(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function fee(t){return(String(t).split(".")[1]||"").length}function mee(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var u8=t8,pee=i8,gee=o8,xee=l8;const h8=j.forwardRef(({className:t,...e},r)=>s.jsxs(u8,{ref:r,className:St("relative flex w-full touch-none select-none items-center",t),...e,children:[s.jsx(pee,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:s.jsx(gee,{className:"absolute h-full bg-primary"})}),s.jsx(xee,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));h8.displayName=u8.displayName;const yee=({feedbacks:t,onClose:e})=>s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl p-6 max-w-md w-full max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Customer Feedback"}),s.jsx("button",{onClick:e,className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200","aria-label":"Close feedbacks",children:""})]}),t&&t.length>0?s.jsx("ul",{className:"space-y-4",children:t.map((r,n)=>s.jsxs("li",{className:"border-b border-gray-200 dark:border-gray-700 pb-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(rr,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}),s.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:r.rating?`${r.rating}/5`:"N/A"})]}),s.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:r.comments||"No comment provided."})]},n))}):s.jsx("p",{className:"text-gray-500 dark:text-gray-400 italic",children:"No feedback yet."})]})}),a2=({car:t,forceFavorite:e=!1,onToggleFavoriteApi:r})=>{const[n,a]=j.useState(!1),[i,o]=j.useState(!1),[c,d]=j.useState(!1),[h,m]=j.useState(!1),{isAuthenticated:f}=hh();j.useEffect(()=>{if(e){a(!0);return}a(!1)},[t?.id,e]);const g=async _=>{if(_.preventDefault(),_.stopPropagation(),!t?.id||i)return;if(!f){be.error("Please log in to save favorites.");return}if(r)return r();const b=!n;a(b),o(!0);try{await Oe.post(`/cars/${t.id}/favorite`),be.success(b?"Added to favorites":"Removed from favorites"),window.dispatchEvent(new Event("favoritesUpdated"))}catch(N){console.error("Favorite toggle error:",N),a(!b),be.error("Failed to update favorite. Please try again.")}finally{o(!1)}},y={id:t.id,image:t.main_image_url||t.image||"/placeholder.png",brand:t.make||t.brand||"Car",model:t.model||"Model",year:t.year||"N/A",category:t.car_category||t.type||t.category||"Standard",seats:t.seats||4,transmission:t.transmission||"Auto",fuelType:t.fuel_type||t.fuelType||"Petrol",price:t.daily_rate||t.price||0,holidayRate:t.holiday_rate||null,deposit:t.deposit||null,isDeposit:t.is_deposit||!1,feedbacks:t.feedbacks||[],popular:t.popular||!1,location:t.live_location?.address||t.location||null},w=(_=>_.startsWith("data:")||/^https?:\/\//i.test(_)||_.startsWith("/api/")?_:_.startsWith("/storage/")?`/api${_}`:`/api/storage/${_.replace(/^storage\//i,"")}`)(y.image);return s.jsxs(Us,{to:`/cars/${y.id}`,className:"block group",children:[s.jsxs(Ue,{className:"relative overflow-hidden h-full flex flex-col bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 hover:border-[#00A19C] transition-all duration-300 hover:shadow-lg hover:shadow-[#00A19C]/20 hover:-translate-y-1 aspect-[2/3]",children:[s.jsxs("div",{className:"relative overflow-hidden bg-gray-100 dark:bg-gray-700",style:{height:"60%"},children:[!c&&s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 dark:from-gray-700 dark:via-gray-600 dark:to-gray-700 animate-pulse"}),s.jsx("img",{src:w,alt:`${y.brand} ${y.model}`,onLoad:()=>d(!0),onError:_=>{_.currentTarget.src.endsWith("/placeholder.png")||(_.currentTarget.onerror=null,_.currentTarget.src="/placeholder.png",d(!0))},className:`w-full h-full object-cover transition-transform duration-500 group-hover:scale-105 ${c?"opacity-100":"opacity-0"}`}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/10 to-transparent opacity-50 group-hover:opacity-70 transition-opacity duration-300"}),s.jsx("button",{onClick:g,disabled:i,"aria-label":n?"Remove from favorites":"Add to favorites",className:`absolute top-1.5 right-1.5 w-7 h-7 rounded-full backdrop-blur-sm flex items-center justify-center transition-all duration-300 z-20 ${n?"bg-red-500 shadow-md":"bg-white/90 dark:bg-gray-800/90 hover:scale-110"} ${i?"opacity-70 cursor-not-allowed":""}`,children:s.jsx(Kl,{className:`w-3.5 h-3.5 transition-all ${n?"fill-white text-white":"text-gray-700 dark:text-gray-300"}`})}),s.jsx("div",{className:"absolute top-1.5 left-1.5 z-10",children:s.jsx(We,{className:"bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm text-[#00A19C] dark:text-[#8EDC81] border border-[#00A19C]/30 dark:border-[#8EDC81]/30 text-[10px] font-semibold px-1.5 py-0.5",children:y.category})}),y.popular&&s.jsx("div",{className:"absolute bottom-1.5 left-1.5 z-10",children:s.jsxs(We,{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white text-[10px] font-bold border-0 px-1.5 py-0.5 flex items-center gap-0.5",children:[s.jsx(rr,{className:"w-2.5 h-2.5 fill-white"}),"Popular"]})}),s.jsx("div",{className:"absolute bottom-1.5 right-1.5 z-10",children:s.jsxs(We,{className:"bg-gradient-to-r from-[#00A19C] to-[#8EDC81] text-white text-[10px] font-bold px-1.5 py-0.5",children:["$",y.price,"/day"]})})]}),s.jsxs(qe,{className:"p-2 flex-grow flex flex-col",style:{height:"40%"},children:[s.jsx("div",{className:"mb-1",children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-[10px] font-semibold text-[#00A19C] dark:text-[#8EDC81] uppercase tracking-wide",children:y.brand}),s.jsx("h3",{className:"text-xs font-bold text-gray-900 dark:text-white line-clamp-1 group-hover:text-[#00A19C] dark:group-hover:text-[#8EDC81] transition-colors",children:y.model})]}),s.jsxs("div",{className:"flex flex-col items-end gap-0.5",children:[s.jsx("p",{className:"text-[9px] text-gray-500 dark:text-gray-400",children:y.year}),y.location&&y.location.trim()!==""&&s.jsxs("div",{className:"flex items-center gap-0.5",children:[s.jsx(Ps,{className:"w-2.5 h-2.5 text-gray-400 dark:text-gray-500"}),s.jsx("p",{className:"text-[9px] text-gray-500 dark:text-gray-400 line-clamp-1",children:y.location.trim()})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-3 gap-1 mb-1",children:[s.jsxs("div",{className:"flex flex-col items-center p-1 rounded bg-gray-50 dark:bg-gray-700/50 group-hover:bg-[#00A19C]/10 dark:group-hover:bg-[#00A19C]/20 transition-colors",children:[s.jsx(ks,{className:"w-2.5 h-2.5 text-[#00A19C] dark:text-[#8EDC81] mb-0.5"}),s.jsx("span",{className:"text-[9px] font-semibold text-gray-700 dark:text-gray-300",children:y.seats})]}),s.jsxs("div",{className:"flex flex-col items-center p-1 rounded bg-gray-50 dark:bg-gray-700/50 group-hover:bg-[#00A19C]/10 dark:group-hover:bg-[#00A19C]/20 transition-colors",children:[s.jsx(Rm,{className:"w-2.5 h-2.5 text-[#00A19C] dark:text-[#8EDC81] mb-0.5"}),s.jsx("span",{className:"text-[9px] font-semibold text-gray-700 dark:text-gray-300 truncate w-full text-center",children:y.transmission.slice(0,4)})]}),s.jsxs("div",{className:"flex flex-col items-center p-1 rounded bg-gray-50 dark:bg-gray-700/50 group-hover:bg-[#00A19C]/10 dark:group-hover:bg-[#00A19C]/20 transition-colors",children:[s.jsx(A0,{className:"w-2.5 h-2.5 text-[#00A19C] dark:text-[#8EDC81] mb-0.5"}),s.jsx("span",{className:"text-[9px] font-semibold text-gray-700 dark:text-gray-300 truncate w-full text-center",children:y.fuelType.slice(0,4)})]})]}),(y.holidayRate||y.isDeposit)&&s.jsxs("div",{className:"flex items-center gap-1 mb-1 text-[9px]",children:[y.holidayRate&&s.jsxs("div",{className:"flex-1 text-center p-1 bg-gradient-to-br from-[#00A19C]/10 to-[#8EDC81]/10 dark:from-[#1e5f7a]/20 dark:to-[#00A19C]/20 rounded border border-[#00A19C]/20",children:[s.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium text-[8px] leading-tight",children:"Holiday"}),s.jsxs("p",{className:"font-bold text-[#1e5f7a] dark:text-[#8EDC81] text-[10px] leading-tight",children:["$",y.holidayRate]})]}),y.isDeposit&&s.jsxs("div",{className:"flex-1 text-center p-1 bg-amber-50 dark:bg-amber-900/20 rounded border border-amber-200 dark:border-amber-800",children:[s.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium text-[8px] leading-tight",children:"Deposit"}),s.jsxs("p",{className:"font-bold text-amber-600 dark:text-amber-400 text-[10px] leading-tight",children:["$",y.deposit]})]})]}),s.jsxs("button",{onClick:_=>{_.preventDefault(),_.stopPropagation(),m(!0)},className:"w-full flex items-center justify-between p-1 rounded bg-gray-50 dark:bg-gray-700/50 hover:bg-[#00A19C]/10 dark:hover:bg-[#00A19C]/20 transition-all border border-gray-200 dark:border-gray-700 hover:border-[#00A19C] group/feedback mb-1","aria-label":"Open customer feedback",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(E0,{className:"w-2.5 h-2.5 text-[#00A19C] dark:text-[#8EDC81]"}),s.jsx("span",{className:"text-[9px] font-semibold text-gray-900 dark:text-white",children:"Reviews"})]}),s.jsx(We,{className:"bg-gradient-to-r from-[#00A19C] to-[#8EDC81] text-white text-[9px] font-bold px-1 py-0",children:y.feedbacks.length})]}),s.jsx(pe,{className:"w-full bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] hover:from-[#184a5e] hover:via-[#008c88] hover:to-[#7bc876] text-white font-bold py-1.5 text-[10px] rounded-lg shadow-md hover:shadow-lg transition-all duration-300 hover:scale-[1.02] group/btn",children:s.jsxs("span",{className:"flex items-center justify-center gap-1",children:[s.jsx(sr,{className:"w-2.5 h-2.5"}),"View Details",s.jsx(xd,{className:"w-2.5 h-2.5 group-hover/btn:translate-x-0.5 transition-transform"})]})})]})]}),h&&s.jsx(yee,{feedbacks:t.feedbacks||[],onClose:()=>m(!1)})]})},bee=["All Brands","BMW","Mercedes","Audi","Tesla","Porsche","Lexus","Range Rover","Jaguar"],vee=["All Types","Sedan","SUV","Sports","Luxury","Electric","Convertible"],wee=["All","Automatic","Manual"],jee=[{id:1,brand:"BMW",model:"M5 Competition",type:"Sports",transmission:"Automatic",fuelType:"Petrol",seats:5,price:299,rating:4.8,reviews:127,image:"/ali1.jpg",images:["/ali2.jpg","/ali3.jpg","/ali4.jpg"],description:"Experience the perfect blend of luxury and performance with the BMW M5 Competition. This high-performance sedan delivers 617 horsepower and can accelerate from 0-60 mph in just 3.1 seconds.",features:["Sport Mode","Leather Interior","Premium Sound","Navigation","Adaptive Cruise Control","Parking Assist"],popular:!0},{id:2,brand:"Mercedes",model:"S-Class",type:"Luxury",transmission:"Automatic",fuelType:"Hybrid",seats:5,price:349,rating:4.9,reviews:203,image:"/ali6.jpg",images:["https://images.unsplash.com/photo-1618843479313-40f8afb4b4d8?w=800&q=80","https://images.unsplash.com/photo-1617531653520-bd788a65c79a?w=800&q=80","https://images.unsplash.com/photo-1609521263047-f8f205293f24?w=800&q=80"],description:"The epitome of luxury and innovation. The Mercedes S-Class offers unparalleled comfort with cutting-edge technology and a supremely refined driving experience.",features:["Massage Seats","Ambient Lighting","Executive Rear Seats","Burmester Sound","Active Safety","Night Vision"],popular:!0},{id:3,brand:"Tesla",model:"Model S Plaid",type:"Electric",transmission:"Automatic",fuelType:"Electric",seats:5,price:279,rating:4.7,reviews:189,image:"https://images.unsplash.com/photo-1617788138017-80ad40651399?w=800&q=80",images:["https://images.unsplash.com/photo-1617788138017-80ad40651399?w=800&q=80","https://images.unsplash.com/photo-1560958089-b8a1929cea89?w=800&q=80","https://images.unsplash.com/photo-1536700503339-1e4b06520771?w=800&q=80"],description:"The quickest accelerating production car ever made. The Tesla Model S Plaid reaches 0-60 mph in under 2 seconds with a top speed of 200 mph.",features:["Autopilot","Premium Connectivity","Supercharging","Glass Roof","HEPA Air Filter","Gaming Computer"],popular:!0},{id:4,brand:"Range Rover",model:"Sport HSE",type:"SUV",transmission:"Automatic",fuelType:"Diesel",seats:7,price:329,rating:4.6,reviews:145,image:"https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=800&q=80",images:["https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=800&q=80","https://images.unsplash.com/photo-1519641471654-76ce0107ad1b?w=800&q=80","https://images.unsplash.com/photo-1533473359331-0135ef1b58bf?w=800&q=80"],description:"Commanding presence meets refined luxury. The Range Rover Sport HSE delivers exceptional off-road capability while maintaining an elegant and comfortable ride.",features:["Terrain Response","Air Suspension","Panoramic Roof","Meridian Sound","Wade Sensing","7-Seater"],popular:!1},{id:5,brand:"Porsche",model:"911 Carrera",type:"Sports",transmission:"Manual",fuelType:"Petrol",seats:2,price:399,rating:4.9,reviews:167,image:"https://images.unsplash.com/photo-1503376780353-7e6692767b70?w=800&q=80",images:["https://images.unsplash.com/photo-1503376780353-7e6692767b70?w=800&q=80","https://images.unsplash.com/photo-1614200187524-dc4b892acf16?w=800&q=80","https://images.unsplash.com/photo-1611651149758-ab7796b5e5ec?w=800&q=80"],description:"The iconic sports car that defines performance excellence. The Porsche 911 Carrera combines timeless design with cutting-edge engineering for an unforgettable driving experience.",features:["Sport Chrono","PASM Suspension","Sport Exhaust","Porsche Track Precision","Carbon Fiber","Launch Control"],popular:!0},{id:6,brand:"Audi",model:"e-tron GT",type:"Electric",transmission:"Automatic",fuelType:"Electric",seats:4,price:289,rating:4.7,reviews:134,image:"https://images.unsplash.com/photo-1614162692292-7ac56d7f8f8c?w=800&q=80",images:["https://images.unsplash.com/photo-1614162692292-7ac56d7f8f8c?w=800&q=80","https://images.unsplash.com/photo-1610768764270-790fbec18178?w=800&q=80","https://images.unsplash.com/photo-1606152421802-db97b9c7a11b?w=800&q=80"],description:"Electric performance redefined. The Audi e-tron GT delivers exhilarating acceleration and exceptional range in a stunning grand tourer package.",features:["Quattro AWD","Matrix LED","Virtual Cockpit","Fast Charging","Adaptive Air Suspension","Bang & Olufsen"],popular:!1},{id:7,brand:"Lexus",model:"LC 500",type:"Luxury",transmission:"Automatic",fuelType:"Petrol",seats:2,price:319,rating:4.8,reviews:98,image:"https://images.unsplash.com/photo-1621939514649-280e2ee25f60?w=800&q=80",images:["https://images.unsplash.com/photo-1621939514649-280e2ee25f60?w=800&q=80","https://images.unsplash.com/photo-1563720360172-67b8f3dce741?w=800&q=80","https://images.unsplash.com/photo-1552519507-da3b142c6e3d?w=800&q=80"],description:"A masterpiece of Japanese craftsmanship. The Lexus LC 500 combines breathtaking design with a naturally aspirated V8 engine for an unforgettable grand touring experience.",features:["Mark Levinson Audio","Adaptive Variable Suspension","Head-Up Display","Handcrafted Interior","Sport Mode","Active Rear Steering"],popular:!1},{id:8,brand:"BMW",model:"X7 M50i",type:"SUV",transmission:"Automatic",fuelType:"Petrol",seats:7,price:359,rating:4.7,reviews:112,image:"https://images.unsplash.com/photo-1617814076367-b759c7d7e738?w=800&q=80",images:["https://images.unsplash.com/photo-1617814076367-b759c7d7e738?w=800&q=80","https://images.unsplash.com/photo-1552519507-da3b142c6e3d?w=800&q=80","https://images.unsplash.com/photo-1606220945770-b5b6c2c55bf1?w=800&q=80"],description:"The ultimate luxury SUV for families who demand both space and performance. The BMW X7 M50i offers seating for seven without compromising on power or prestige.",features:["Sky Lounge Panoramic","Executive Lounge Seating","Gesture Control","Harman Kardon","Wireless Charging","Trailer Assist"],popular:!1},{id:9,brand:"Mercedes",model:"AMG GT",type:"Sports",transmission:"Automatic",fuelType:"Petrol",seats:2,price:429,rating:4.9,reviews:156,image:"https://images.unsplash.com/photo-1618843479313-40f8afb4b4d8?w=800&q=80",images:["https://images.unsplash.com/photo-1618843479313-40f8afb4b4d8?w=800&q=80","https://images.unsplash.com/photo-1614200187524-dc4b892acf16?w=800&q=80","https://images.unsplash.com/photo-1611651149758-ab7796b5e5ec?w=800&q=80"],description:"Pure automotive passion. The Mercedes-AMG GT combines race-bred performance with everyday usability, delivering an exhilarating driving experience on any road.",features:["AMG Performance Exhaust","AMG Ride Control","Race Mode","Carbon Fiber Package","Performance Seats","AMG Track Pace"],popular:!0},{id:10,brand:"Jaguar",model:"F-Type R",type:"Convertible",transmission:"Automatic",fuelType:"Petrol",seats:2,price:339,rating:4.6,reviews:87,image:"https://images.unsplash.com/photo-1580414057167-d31b2f96f6c8?w=800&q=80",images:["https://images.unsplash.com/photo-1580414057167-d31b2f96f6c8?w=800&q=80","https://images.unsplash.com/photo-1552519507-da3b142c6e3d?w=800&q=80","https://images.unsplash.com/photo-1567818735868-e71b99932e29?w=800&q=80"],description:"British sports car excellence. The Jaguar F-Type R delivers supercharged V8 performance with stunning design and an exhaust note that will make your heart race.",features:["Configurable Dynamics","Active Exhaust","Convertible Top","Meridian Sound","Performance Brakes","Torque Vectoring"],popular:!1},{id:11,brand:"Audi",model:"RS Q8",type:"SUV",transmission:"Automatic",fuelType:"Petrol",seats:5,price:369,rating:4.8,reviews:143,image:"https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=800&q=80",images:["https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=800&q=80","https://images.unsplash.com/photo-1519641471654-76ce0107ad1b?w=800&q=80","https://images.unsplash.com/photo-1533473359331-0135ef1b58bf?w=800&q=80"],description:"The pinnacle of performance SUVs. The Audi RS Q8 combines brutal acceleration with sophisticated handling and luxurious comfort for the ultimate all-weather sports car.",features:["Sport Differential","Dynamic All-Wheel Steering","Carbon Ceramic Brakes","RS Sport Exhaust","Matrix LED","Virtual Cockpit Plus"],popular:!1},{id:12,brand:"Tesla",model:"Model X",type:"SUV",transmission:"Automatic",fuelType:"Electric",seats:7,price:299,rating:4.7,reviews:201,image:"https://images.unsplash.com/photo-1560958089-b8a1929cea89?w=800&q=80",images:["https://images.unsplash.com/photo-1560958089-b8a1929cea89?w=800&q=80","https://images.unsplash.com/photo-1536700503339-1e4b06520771?w=800&q=80","https://images.unsplash.com/photo-1617788138017-80ad40651399?w=800&q=80"],description:"The future of family transportation. The Tesla Model X offers falcon-wing doors, seating for seven, and acceleration that rivals sports cars, all with zero emissions.",features:["Falcon Wing Doors","Full Self-Driving","HEPA Filter","Bioweapon Defense Mode",'17" Touchscreen',"Dog Mode"],popular:!0}];jee.filter(t=>t.popular);const _ee=["GPS Navigation","Bluetooth","Backup Camera","Sunroof","Leather Seats","Heated Seats","Apple CarPlay","Android Auto","Parking Sensors","Cruise Control","Lane Assist","Collision Warning","Blind Spot Monitor","Keyless Entry","Push Start","Climate Control","USB Charging","Premium Sound"],Nee=[{value:"all",label:"All Fuel Types"},{value:"benz",label:"Gasoline"},{value:"diesel",label:"Diesel"},{value:"electric",label:"Electric"},{value:"hybrid",label:"Hybrid"}],See=[{value:"all",label:"All Drive Types"},{value:"4x4",label:"4x4 / AWD"},{value:"2_front",label:"Front Wheel Drive"},{value:"2_back",label:"Rear Wheel Drive"},{value:"autoblock",label:"Autoblock"}],kee=["Black","White","Silver","Gray","Red","Blue","Green","Yellow","Orange","Brown"],Cee=[{value:"all",label:"All Cylinders"},{value:"4",label:"4 Cylinder"},{value:"6",label:"6 Cylinder"},{value:"8",label:"8 Cylinder"},{value:"10",label:"10 Cylinder"},{value:"12",label:"12 Cylinder"}],FT=()=>{const[t,e]=j.useState([]),[r,n]=j.useState([]),[a,i]=j.useState(!0),[o,c]=j.useState({brand:"All Brands",type:"All Types",transmission:"All",priceRange:[0,1500],search:"",startDate:"",endDate:""}),[d,h]=j.useState({yearMin:"",yearMax:"",cylinderNumber:"all",color:"all",mileageMax:"",fuelType:"all",wheelsDrive:"all",seatsMin:"",doorsMin:"",features:[],withDriver:!1,isDelivered:!1,requiresDeposit:!1,holidayRateMax:""}),[m,f]=j.useState("featured"),[g,y]=j.useState(!1),[v,w]=j.useState(!1),_=j.useRef(!1),b=j.useRef(null),N=j.useRef(null),k=j.useCallback(q=>{_.current=!0,c(F=>({...F,...q}))},[]),S=j.useCallback(q=>{_.current=!0,h(F=>({...F,...q}))},[]);j.useEffect(()=>{(async()=>{try{i(!0);const O=((await Oe.get("/cars")).data.cars??[]).map(se=>{const X=se.feedbacks??[],M=X.length>0?(X.reduce((K,z)=>K+(Number(z.rating)||0),0)/X.length).toFixed(1):null;return{id:se.id,brand:se.make,make:se.make,model:se.model,year:se.year,type:se.car_category,category:se.car_category,transmission:se.transmission,price:Number(se.daily_rate),holidayRate:Number(se.holiday_rate||se.daily_rate),image:se.main_image_url,rating:M,reviews:X.length,popular:(se.views_count??0)>20,seats:se.seats,doors:se.doors,fuel_type:se.fuel_type,fuelType:se.fuel_type,wheelsDrive:se.wheels_drive,cylinderNumber:se.cylinder_number,color:se.color,mileage:se.mileage,features:se.features||[],withDriver:se.with_driver,isDelivered:se.is_delivered,feedbacks:X}});n(O),e(O)}catch(F){console.error("Cars fetch error:",F)}finally{i(!1)}})()},[]),j.useEffect(()=>{let q=[...r];switch(o.search&&(q=q.filter(F=>`${F.brand} ${F.model}`.toLowerCase().includes(o.search.toLowerCase()))),o.brand!=="All Brands"&&(q=q.filter(F=>F.brand===o.brand)),o.type!=="All Types"&&(q=q.filter(F=>F.type===o.type)),o.transmission!=="All"&&(q=q.filter(F=>F.transmission===o.transmission)),q=q.filter(F=>F.price>=o.priceRange[0]&&F.price<=o.priceRange[1]),d.yearMin&&(q=q.filter(F=>F.year>=Number(d.yearMin))),d.yearMax&&(q=q.filter(F=>F.year<=Number(d.yearMax))),d.cylinderNumber!=="all"&&(q=q.filter(F=>F.cylinderNumber===d.cylinderNumber)),d.color!=="all"&&(q=q.filter(F=>F.color?.toLowerCase()===d.color.toLowerCase())),d.mileageMax&&(q=q.filter(F=>(F.mileage||0)<=Number(d.mileageMax))),d.fuelType!=="all"&&(q=q.filter(F=>F.fuelType===d.fuelType)),d.wheelsDrive!=="all"&&(q=q.filter(F=>F.wheelsDrive===d.wheelsDrive)),d.seatsMin&&(q=q.filter(F=>(F.seats||0)>=Number(d.seatsMin))),d.doorsMin&&(q=q.filter(F=>(F.doors||0)>=Number(d.doorsMin))),d.holidayRateMax&&(q=q.filter(F=>(F.holidayRate||F.price)<=Number(d.holidayRateMax))),d.withDriver&&(q=q.filter(F=>F.withDriver)),d.isDelivered&&(q=q.filter(F=>F.isDelivered)),d.features.length>0&&(q=q.filter(F=>{const Y=F.features||[];return d.features.every(O=>Y.includes(O))})),m){case"price-low":q.sort((F,Y)=>F.price-Y.price);break;case"price-high":q.sort((F,Y)=>Y.price-F.price);break;case"rating":q.sort((F,Y)=>(Number(Y.rating)||0)-(Number(F.rating)||0));break;case"popular":q.sort((F,Y)=>(Y.reviews??0)-(F.reviews??0));break;case"year-new":q.sort((F,Y)=>(Y.year||0)-(F.year||0));break;case"year-old":q.sort((F,Y)=>(F.year||0)-(Y.year||0));break;default:q.sort((F,Y)=>(Y.popular?1:0)-(F.popular?1:0))}e(q)},[o,d,m,r]);const C=q=>({Sedan:"normal",SUV:"normal",Hatchback:"normal",Coupe:"sport",Convertible:"sport","Sports Car":"sport",Luxury:"luxury","Luxury Sedan":"luxury",Van:"commercial",Minivan:"commercial",Truck:"commercial",Pickup:"commercial",Bus:"commercial",Commercial:"commercial",Industrial:"industrial",Event:"event",Boat:"sea",Yacht:"sea","Jet Ski":"sea"})[q]||"normal",I=j.useCallback(()=>{const q={},F=(o.brand||"").trim(),Y=(o.type||"").trim(),O=(o.transmission||"").trim(),se=(o.search||"").trim();if(F&&F!=="All Brands")q.make=F,se&&(q.model=se);else if(se){const K=se.split(/\s+/).filter(Boolean);K.length>=2?(q.make=K[0],q.model=K.slice(1).join(" ")):K.length===1&&(q.model=se)}Y&&Y!=="All Types"&&(q.car_category=C(Y)),O&&O!=="All"&&(q.transmission=O.toLowerCase());const[X,M]=o.priceRange;return X>0&&(q.daily_rate_min=X),M<1500&&(q.daily_rate_max=M),d.yearMin&&(q.year_min=Number(d.yearMin)),d.yearMax&&(q.year_max=Number(d.yearMax)),d.cylinderNumber&&d.cylinderNumber!=="all"&&(q.cylinder_number=d.cylinderNumber),d.color&&d.color!=="all"&&(q.color=d.color),d.mileageMax&&(q.mileage=Number(d.mileageMax)),d.fuelType&&d.fuelType!=="all"&&(q.fuel_type=d.fuelType),d.wheelsDrive&&d.wheelsDrive!=="all"&&(q.wheels_drive=d.wheelsDrive),d.seatsMin&&(q.seats=Number(d.seatsMin)),d.doorsMin&&(q.doors=Number(d.doorsMin)),d.features.length>0&&(q.features=d.features),d.withDriver&&(q.with_driver=1),d.isDelivered&&(q.is_delivered=1),d.requiresDeposit&&(q.is_deposit=1),d.holidayRateMax&&(q.holiday_rate=Number(d.holidayRateMax)),q},[o,d]),E=j.useMemo(()=>{const q=[o.brand!=="All Brands",o.type!=="All Types",o.transmission!=="All",o.priceRange[0]!==0||o.priceRange[1]!==1500,o.search.trim()!=="",o.startDate!=="",o.endDate!==""].filter(Boolean).length,F=[d.yearMin!=="",d.yearMax!=="",d.cylinderNumber!=="all",d.color!=="all",d.mileageMax!=="",d.fuelType!=="all",d.wheelsDrive!=="all",d.seatsMin!=="",d.doorsMin!=="",d.features.length>0,d.withDriver,d.isDelivered,d.requiresDeposit,d.holidayRateMax!==""].filter(Boolean).length;return q+F},[o,d]),U=j.useCallback(async q=>{if(Object.keys(q).length===0)return;const F=JSON.stringify(q);if(N.current===F)return;let Y,O;if(o.startDate&&o.endDate){const X=M=>M?M.replace("T"," ")+":00":"";Y=X(o.startDate),O=X(o.endDate)}else{const X=new Date,M=new Date;M.setDate(X.getDate()+7);const K=z=>{const he=z.getFullYear(),V=String(z.getMonth()+1).padStart(2,"0"),W=String(z.getDate()).padStart(2,"0"),le=String(z.getHours()).padStart(2,"0"),oe=String(z.getMinutes()).padStart(2,"0"),ve=String(z.getSeconds()).padStart(2,"0");return`${he}-${V}-${W} ${le}:${oe}:${ve}`};Y=K(X),O=K(M)}const se={...q,start_datetime:Y,end_datetime:O};try{await Oe.get("/cars/search",{params:se}),N.current=F,console.log(" Search saved to frequent searches")}catch(X){X.response?.status===422&&console.error(" Validation error details:",X.response?.data?.errors),console.warn("Could not save frequent search:",X.response?.data?.message||X.message)}},[o]);j.useEffect(()=>{if(_.current&&E!==0)return b.current&&clearTimeout(b.current),b.current=setTimeout(()=>{const q=I();U(q)},1500),()=>{b.current&&clearTimeout(b.current)}},[o,d,E,I,U]);const T=j.useCallback(()=>{_.current=!0,c({brand:"All Brands",type:"All Types",transmission:"All",priceRange:[0,1500],search:"",startDate:"",endDate:""}),h({yearMin:"",yearMax:"",cylinderNumber:"all",color:"all",mileageMax:"",fuelType:"all",wheelsDrive:"all",seatsMin:"",doorsMin:"",features:[],withDriver:!1,isDelivered:!1,requiresDeposit:!1,holidayRateMax:""}),f("featured")},[]),ne=j.useCallback(q=>{h(F=>({...F,features:F.features.includes(q)?F.features.filter(Y=>Y!==q):[...F.features,q]}))},[]);return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-cyan-50/30 dark:from-gray-950 dark:via-gray-900 dark:to-cyan-950/30",children:[s.jsxs("section",{className:"relative bg-gradient-to-r from-cyan-700 via-teal-600 to-cyan-800 dark:from-cyan-900 dark:via-teal-800 dark:to-cyan-950 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-grid-white/[0.05] bg-[size:20px_20px]"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/10 to-transparent"}),s.jsx("div",{className:"container mx-auto px-4 py-12 relative",children:s.jsxs("div",{className:"max-w-4xl",children:[s.jsx("p",{className:"text-cyan-50 text-lg md:text-xl mb-6 max-w-2xl"}),s.jsxs("p",{className:"text-cyan-50 text-lg md:text-xl mb-6 max-w-2xl",children:["Explore our premium collection of"," ",s.jsx("span",{className:"font-bold text-white bg-white/20 px-2 py-0.5 rounded",children:r.length})," ","vehicles from top brands"]})]})})]}),s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsx("div",{className:"lg:hidden mb-6",children:s.jsxs(pe,{onClick:()=>y(!g),variant:"outline",className:"w-full h-12 border-2 border-cyan-700 hover:bg-cyan-50 dark:hover:bg-cyan-900/30 transition-all rounded-xl font-semibold text-cyan-700 shadow-sm",children:[s.jsx(DW,{className:"w-5 h-5 mr-2"}),g?"Hide Filters":"Show Filters",E>0&&s.jsx(We,{className:"ml-auto bg-cyan-700 text-white h-6 px-2",children:E})]})}),s.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[s.jsx("aside",{className:`lg:w-80 flex-shrink-0 ${g?"block":"hidden lg:block"}`,children:s.jsxs("div",{className:"sticky top-24 space-y-4",children:[s.jsxs(Ue,{className:"border-0 shadow-lg bg-white dark:bg-gray-900 overflow-hidden",children:[s.jsx(gs,{className:"pb-4 bg-gradient-to-r from-cyan-50 to-teal-50 dark:from-cyan-900/20 dark:to-teal-900/20 border-b border-gray-200 dark:border-gray-800",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(xs,{className:"flex items-center gap-2 text-lg",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-cyan-700 to-teal-600 flex items-center justify-center",children:s.jsx(EG,{className:"w-4 h-4 text-white"})}),s.jsx("span",{children:"Search Filters"})]}),E>0&&s.jsx(pe,{variant:"ghost",size:"sm",onClick:T,className:"text-xs text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/30 h-8 px-3 font-semibold",children:"Clear All"})]})}),s.jsxs(qe,{className:"space-y-5 pt-5 pb-6",children:[s.jsxs("div",{children:[s.jsxs(de,{htmlFor:"search",className:"mb-2.5 text-sm font-semibold flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[s.jsx(Fr,{className:"w-4 h-4 text-cyan-700"}),"Quick Search"]}),s.jsxs("div",{className:"relative",children:[s.jsx(Fr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx(Se,{id:"search",placeholder:"e.g., BMW X5, Mercedes...",value:o.search,onChange:q=>k({search:q.target.value}),className:"h-11 text-sm pl-10 pr-10 border-gray-300 focus:border-cyan-500 focus:ring-cyan-500"}),o.search&&s.jsx("button",{onClick:()=>k({search:""}),className:"absolute right-3 top-1/2 -translate-y-1/2 hover:bg-gray-100 dark:hover:bg-gray-800 p-1.5 rounded-full transition-colors","aria-label":"Clear search",children:s.jsx(gr,{className:"w-4 h-4 text-gray-500"})})]})]}),s.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-gray-300 dark:via-gray-700 to-transparent"}),s.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-amber-50 dark:from-yellow-900/20 dark:to-amber-900/20 border-2 border-yellow-300 dark:border-yellow-800 rounded-xl p-4 shadow-sm",children:[s.jsxs(de,{className:"mb-3 text-sm font-bold flex items-center gap-2 text-yellow-900 dark:text-yellow-200",children:[s.jsx(Fx,{className:"w-4 h-4"}),"Rental Period"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"startDate",className:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-1.5 block",children:"Pick-up"}),s.jsx(Se,{id:"startDate",type:"datetime-local",value:o.startDate,onChange:q=>k({startDate:q.target.value}),className:"h-10 text-sm bg-white dark:bg-gray-800 border-yellow-200 dark:border-yellow-800",min:new Date().toISOString().slice(0,16)})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"endDate",className:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-1.5 block",children:"Return"}),s.jsx(Se,{id:"endDate",type:"datetime-local",value:o.endDate,onChange:q=>k({endDate:q.target.value}),className:"h-10 text-sm bg-white dark:bg-gray-800 border-yellow-200 dark:border-yellow-800",min:o.startDate||new Date().toISOString().slice(0,16)})]}),o.startDate&&o.endDate&&s.jsxs("div",{className:"flex items-center gap-2 text-xs text-yellow-900 dark:text-yellow-200 bg-yellow-100 dark:bg-yellow-900/40 p-2.5 rounded-lg font-semibold",children:[s.jsx(Hs,{className:"w-3.5 h-3.5"}),s.jsxs("span",{children:["Duration: ",(()=>{const q=new Date(o.startDate),F=new Date(o.endDate),Y=Math.ceil((F-q)/(1e3*60*60*24));return`${Y} day${Y!==1?"s":""}`})()]})]})]})]}),s.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-gray-300 dark:via-gray-700 to-transparent"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx(de,{className:"mb-2 text-xs font-semibold block text-gray-700 dark:text-gray-300",children:"Brand"}),s.jsxs(ft,{value:o.brand,onValueChange:q=>k({brand:q}),children:[s.jsx(ut,{className:"h-10 text-sm border-gray-300",children:s.jsx(mt,{})}),s.jsx(ht,{children:bee.map(q=>s.jsx(Ce,{value:q,className:"text-sm",children:q},q))})]})]}),s.jsxs("div",{children:[s.jsx(de,{className:"mb-2 text-xs font-semibold block text-gray-700 dark:text-gray-300",children:"Type"}),s.jsxs(ft,{value:o.type,onValueChange:q=>k({type:q}),children:[s.jsx(ut,{className:"h-10 text-sm border-gray-300",children:s.jsx(mt,{})}),s.jsx(ht,{children:vee.map(q=>s.jsx(Ce,{value:q,className:"text-sm",children:q},q))})]})]})]}),s.jsxs("div",{children:[s.jsx(de,{className:"mb-2 text-xs font-semibold block text-gray-700 dark:text-gray-300",children:"Transmission"}),s.jsxs(ft,{value:o.transmission,onValueChange:q=>k({transmission:q}),children:[s.jsx(ut,{className:"h-10 text-sm border-gray-300",children:s.jsx(mt,{})}),s.jsx(ht,{children:wee.map(q=>s.jsx(Ce,{value:q,className:"text-sm",children:q},q))})]})]}),s.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-gray-300 dark:via-gray-700 to-transparent"}),s.jsxs("div",{className:"bg-gradient-to-br from-cyan-50 to-teal-50 dark:from-cyan-900/20 dark:to-teal-900/20 rounded-xl p-4 border border-cyan-200 dark:border-cyan-800",children:[s.jsxs(de,{className:"mb-4 text-sm font-bold flex items-center justify-between text-gray-900 dark:text-white",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(or,{className:"w-4 h-4 text-cyan-700"}),"Daily Rate"]}),s.jsxs("span",{className:"text-cyan-700 dark:text-cyan-300 font-bold text-lg",children:["$",o.priceRange[0]," - $",o.priceRange[1]]})]}),s.jsx(h8,{value:o.priceRange,onValueChange:q=>k({priceRange:q}),min:0,max:1500,step:10,className:"mt-2"}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-600 dark:text-gray-400 mt-2 font-semibold",children:[s.jsx("span",{children:"$0"}),s.jsx("span",{children:"$1500+"})]})]}),s.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-gray-300 dark:via-gray-700 to-transparent"}),s.jsxs(Kr,{open:v,onOpenChange:w,children:[s.jsx(QJ,{asChild:!0,children:s.jsxs(pe,{variant:"outline",className:"w-full h-11 border-2 border-cyan-700 text-cyan-700 hover:bg-gradient-to-r hover:from-cyan-700 hover:to-teal-600 hover:text-white transition-all font-semibold shadow-sm",children:[s.jsx(GE,{className:"w-4 h-4 mr-2"}),"Advanced Filters",E-[o.brand!=="All Brands",o.type!=="All Types",o.transmission!=="All",o.priceRange[0]!==0||o.priceRange[1]!==1500,o.search.trim()!=="",o.startDate!=="",o.endDate!==""].filter(Boolean).length>0&&s.jsxs(We,{className:"ml-auto bg-cyan-700 text-white h-5 px-2 text-xs",children:["+",E-[o.brand!=="All Brands",o.type!=="All Types",o.transmission!=="All",o.priceRange[0]!==0||o.priceRange[1]!==1500,o.search.trim()!=="",o.startDate!=="",o.endDate!==""].filter(Boolean).length]})]})}),s.jsxs(Br,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Ir,{children:[s.jsxs(zr,{className:"flex items-center gap-2 text-xl",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-cyan-700 to-teal-600 flex items-center justify-center",children:s.jsx(GE,{className:"w-5 h-5 text-white"})}),"Advanced Search Filters"]}),s.jsx(Vi,{className:"text-base",children:"Fine-tune your search with detailed criteria to find the perfect vehicle"})]}),s.jsxs("div",{className:"space-y-6 py-6",children:[s.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700",children:[s.jsxs(de,{className:"text-sm font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[s.jsx(Hs,{className:"w-5 h-5 text-cyan-700"}),"Year Range"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"yearMin",className:"text-xs text-gray-600 dark:text-gray-400 font-semibold",children:"From Year"}),s.jsx(Se,{id:"yearMin",type:"number",placeholder:"2015",value:d.yearMin,onChange:q=>S({yearMin:q.target.value}),className:"h-10 text-sm mt-1.5",min:"1900",max:new Date().getFullYear()+1})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"yearMax",className:"text-xs text-gray-600 dark:text-gray-400 font-semibold",children:"To Year"}),s.jsx(Se,{id:"yearMax",type:"number",placeholder:"2024",value:d.yearMax,onChange:q=>S({yearMax:q.target.value}),className:"h-10 text-sm mt-1.5",min:"1900",max:new Date().getFullYear()+1})]})]})]}),s.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700",children:[s.jsxs(de,{className:"text-sm font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[s.jsx(zl,{className:"w-5 h-5 text-cyan-700"}),"Engine & Performance"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"cylinder",className:"text-xs text-gray-600 dark:text-gray-400 font-semibold",children:"Cylinders"}),s.jsxs(ft,{value:d.cylinderNumber,onValueChange:q=>S({cylinderNumber:q}),children:[s.jsx(ut,{id:"cylinder",className:"h-10 text-sm mt-1.5",children:s.jsx(mt,{})}),s.jsx(ht,{children:Cee.map(q=>s.jsx(Ce,{value:q.value,className:"text-sm",children:q.label},q.value))})]})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"mileage",className:"text-xs text-gray-600 dark:text-gray-400 font-semibold",children:"Max Mileage"}),s.jsx(Se,{id:"mileage",type:"number",placeholder:"100000",value:d.mileageMax,onChange:q=>S({mileageMax:q.target.value}),className:"h-10 text-sm mt-1.5",min:"0"})]})]})]}),s.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700",children:[s.jsxs(de,{className:"text-sm font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[s.jsx(A0,{className:"w-5 h-5 text-cyan-700"}),"Fuel & Drive Type"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"fuelType",className:"text-xs text-gray-600 dark:text-gray-400 font-semibold",children:"Fuel Type"}),s.jsxs(ft,{value:d.fuelType,onValueChange:q=>S({fuelType:q}),children:[s.jsx(ut,{id:"fuelType",className:"h-10 text-sm mt-1.5",children:s.jsx(mt,{})}),s.jsx(ht,{children:Nee.map(q=>s.jsx(Ce,{value:q.value,className:"text-sm",children:q.label},q.value))})]})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"wheelsDrive",className:"text-xs text-gray-600 dark:text-gray-400 font-semibold",children:"Drive Type"}),s.jsxs(ft,{value:d.wheelsDrive,onValueChange:q=>S({wheelsDrive:q}),children:[s.jsx(ut,{id:"wheelsDrive",className:"h-10 text-sm mt-1.5",children:s.jsx(mt,{})}),s.jsx(ht,{children:See.map(q=>s.jsx(Ce,{value:q.value,className:"text-sm",children:q.label},q.value))})]})]})]})]}),s.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700",children:[s.jsxs(de,{className:"text-sm font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[s.jsx(lG,{className:"w-5 h-5 text-cyan-700"}),"Color Preference"]}),s.jsxs(ft,{value:d.color,onValueChange:q=>S({color:q}),children:[s.jsx(ut,{className:"h-10 text-sm",children:s.jsx(mt,{placeholder:"Select color"})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"all",className:"text-sm font-semibold",children:"All Colors"}),kee.map(q=>s.jsx(Ce,{value:q,className:"text-sm",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-300",style:{backgroundColor:q.toLowerCase()}}),q]})},q))]})]})]}),s.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700",children:[s.jsxs(de,{className:"text-sm font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[s.jsx(ks,{className:"w-5 h-5 text-cyan-700"}),"Capacity Requirements"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"seats",className:"text-xs text-gray-600 dark:text-gray-400 font-semibold",children:"Min Seats"}),s.jsx(Se,{id:"seats",type:"number",placeholder:"5",value:d.seatsMin,onChange:q=>S({seatsMin:q.target.value}),className:"h-10 text-sm mt-1.5",min:"1",max:"50"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"doors",className:"text-xs text-gray-600 dark:text-gray-400 font-semibold",children:"Min Doors"}),s.jsx(Se,{id:"doors",type:"number",placeholder:"4",value:d.doorsMin,onChange:q=>S({doorsMin:q.target.value}),className:"h-10 text-sm mt-1.5",min:"1",max:"10"})]})]})]}),s.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700",children:[s.jsxs(de,{className:"text-sm font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[s.jsx(or,{className:"w-5 h-5 text-cyan-700"}),"Holiday Pricing"]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"holidayRate",className:"text-xs text-gray-600 dark:text-gray-400 font-semibold",children:"Max Holiday Rate"}),s.jsx(Se,{id:"holidayRate",type:"number",placeholder:"200",value:d.holidayRateMax,onChange:q=>S({holidayRateMax:q.target.value}),className:"h-10 text-sm mt-1.5",min:"0"})]})]}),s.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700",children:[s.jsxs(de,{className:"text-sm font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[s.jsx(Ps,{className:"w-5 h-5 text-cyan-700"}),"Additional Services"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 hover:border-cyan-500 transition-colors",children:[s.jsx(zf,{id:"withDriver",checked:d.withDriver,onCheckedChange:q=>S({withDriver:q}),className:"data-[state=checked]:bg-cyan-700 data-[state=checked]:border-cyan-700"}),s.jsx(de,{htmlFor:"withDriver",className:"text-sm cursor-pointer font-medium flex-1",children:"Available with driver"})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 hover:border-cyan-500 transition-colors",children:[s.jsx(zf,{id:"isDelivered",checked:d.isDelivered,onCheckedChange:q=>S({isDelivered:q}),className:"data-[state=checked]:bg-cyan-700 data-[state=checked]:border-cyan-700"}),s.jsx(de,{htmlFor:"isDelivered",className:"text-sm cursor-pointer font-medium flex-1",children:"Delivery available"})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 hover:border-cyan-500 transition-colors",children:[s.jsx(zf,{id:"requiresDeposit",checked:d.requiresDeposit,onCheckedChange:q=>S({requiresDeposit:q}),className:"data-[state=checked]:bg-cyan-700 data-[state=checked]:border-cyan-700"}),s.jsx(de,{htmlFor:"requiresDeposit",className:"text-sm cursor-pointer font-medium flex-1",children:"Requires deposit"})]})]})]}),s.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700",children:[s.jsxs(de,{className:"text-sm font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[s.jsx(wW,{className:"w-5 h-5 text-cyan-700"}),"Features & Amenities"]}),s.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-80 overflow-y-auto p-3 bg-white dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700",children:_ee.map(q=>s.jsxs("div",{className:"flex items-center space-x-2 p-2 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md transition-colors",children:[s.jsx(zf,{id:`feature-${q}`,checked:d.features.includes(q),onCheckedChange:()=>ne(q),className:"data-[state=checked]:bg-cyan-700 data-[state=checked]:border-cyan-700"}),s.jsx(de,{htmlFor:`feature-${q}`,className:"text-xs cursor-pointer font-medium",children:q})]},q))}),d.features.length>0&&s.jsxs("p",{className:"text-sm text-cyan-700 dark:text-cyan-300 font-semibold bg-cyan-50 dark:bg-cyan-900/30 p-2 rounded-lg text-center",children:[" ",d.features.length," feature",d.features.length!==1?"s":""," selected"]})]})]}),s.jsxs("div",{className:"flex justify-between gap-3 pt-6 border-t-2 border-gray-200 dark:border-gray-700",children:[s.jsx(pe,{variant:"outline",onClick:()=>{h({yearMin:"",yearMax:"",cylinderNumber:"all",color:"all",mileageMax:"",fuelType:"all",wheelsDrive:"all",seatsMin:"",doorsMin:"",features:[],withDriver:!1,isDelivered:!1,requiresDeposit:!1,holidayRateMax:""})},className:"h-11 px-6 border-2 font-semibold",children:"Clear Advanced"}),s.jsx(pe,{onClick:()=>w(!1),className:"h-11 px-8 bg-gradient-to-r from-cyan-700 to-teal-600 hover:from-cyan-800 hover:to-teal-700 text-white font-semibold shadow-lg",children:"Apply Filters"})]})]})]})]})]}),s.jsx(Ue,{className:"border-0 shadow-md bg-gradient-to-br from-cyan-50 to-teal-50 dark:from-cyan-900/20 dark:to-teal-900/20",children:s.jsx(qe,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-cyan-700 to-teal-600 flex items-center justify-center flex-shrink-0",children:s.jsx(Gt,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-sm text-gray-900 dark:text-white mb-1",children:"Need Help Choosing?"}),s.jsx("p",{className:"text-xs text-gray-700 dark:text-gray-300 leading-relaxed",children:"Use filters to narrow down your search and find the perfect vehicle for your needs."})]})]})})})]})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl p-5 mb-6 border-0 shadow-md",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-cyan-700 to-teal-600 rounded-xl flex items-center justify-center shadow-md",children:s.jsx(Gt,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium uppercase tracking-wide",children:"Available Now"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[t.length," ",t.length===1?"Vehicle":"Vehicles"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:[s.jsx(de,{htmlFor:"sort",className:"text-sm font-bold text-gray-700 dark:text-gray-300 whitespace-nowrap",children:"Sort by:"}),s.jsxs(ft,{value:m,onValueChange:f,children:[s.jsx(ut,{id:"sort",className:"w-full sm:w-[200px] h-10 text-sm border-gray-300 font-medium",children:s.jsx(mt,{})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"featured",className:"text-sm font-medium",children:" Featured"}),s.jsx(Ce,{value:"price-low",className:"text-sm font-medium",children:" Price: Low to High"}),s.jsx(Ce,{value:"price-high",className:"text-sm font-medium",children:" Price: High to Low"}),s.jsx(Ce,{value:"rating",className:"text-sm font-medium",children:" Highest Rated"}),s.jsx(Ce,{value:"popular",className:"text-sm font-medium",children:" Most Popular"}),s.jsx(Ce,{value:"year-new",className:"text-sm font-medium",children:" Newest First"}),s.jsx(Ce,{value:"year-old",className:"text-sm font-medium",children:" Oldest First"})]})]})]})]}),E>0&&s.jsxs("div",{className:"mt-5 pt-5 border-t border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("p",{className:"text-sm font-bold text-gray-700 dark:text-gray-300",children:["Active Filters (",E,")"]}),s.jsx(pe,{variant:"ghost",size:"sm",onClick:T,className:"h-7 text-xs text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/30 font-semibold",children:"Clear All "})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.startDate&&s.jsxs(We,{variant:"secondary",className:"text-xs bg-yellow-100 dark:bg-yellow-900/30 border border-yellow-300 dark:border-yellow-700 px-3 py-1.5 font-medium",children:[" ",new Date(o.startDate).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),s.jsx("button",{onClick:()=>k({startDate:""}),className:"ml-2 hover:text-red-600",children:s.jsx(gr,{className:"w-3 h-3"})})]}),o.endDate&&s.jsxs(We,{variant:"secondary",className:"text-xs bg-yellow-100 dark:bg-yellow-900/30 border border-yellow-300 dark:border-yellow-700 px-3 py-1.5 font-medium",children:[" ",new Date(o.endDate).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),s.jsx("button",{onClick:()=>k({endDate:""}),className:"ml-2 hover:text-red-600",children:s.jsx(gr,{className:"w-3 h-3"})})]}),o.brand!=="All Brands"&&s.jsxs(We,{variant:"secondary",className:"text-xs bg-cyan-100 dark:bg-cyan-900/30 border border-cyan-300 dark:border-cyan-700 px-3 py-1.5 font-medium",children:[" ",o.brand,s.jsx("button",{onClick:()=>k({brand:"All Brands"}),className:"ml-2 hover:text-red-600",children:s.jsx(gr,{className:"w-3 h-3"})})]}),o.type!=="All Types"&&s.jsxs(We,{variant:"secondary",className:"text-xs bg-purple-100 dark:bg-purple-900/30 border border-purple-300 dark:border-purple-700 px-3 py-1.5 font-medium",children:[" ",o.type,s.jsx("button",{onClick:()=>k({type:"All Types"}),className:"ml-2 hover:text-red-600",children:s.jsx(gr,{className:"w-3 h-3"})})]}),o.transmission!=="All"&&s.jsxs(We,{variant:"secondary",className:"text-xs bg-green-100 dark:bg-green-900/30 border border-green-300 dark:border-green-700 px-3 py-1.5 font-medium",children:[" ",o.transmission,s.jsx("button",{onClick:()=>k({transmission:"All"}),className:"ml-2 hover:text-red-600",children:s.jsx(gr,{className:"w-3 h-3"})})]}),(o.priceRange[0]!==0||o.priceRange[1]!==1500)&&s.jsxs(We,{variant:"secondary",className:"text-xs bg-emerald-100 dark:bg-emerald-900/30 border border-emerald-300 dark:border-emerald-700 px-3 py-1.5 font-medium",children:[" $",o.priceRange[0]," - $",o.priceRange[1],s.jsx("button",{onClick:()=>k({priceRange:[0,1500]}),className:"ml-2 hover:text-red-600",children:s.jsx(gr,{className:"w-3 h-3"})})]}),d.yearMin&&s.jsxs(We,{variant:"secondary",className:"text-xs bg-blue-100 dark:bg-blue-900/30 border border-blue-300 dark:border-blue-700 px-3 py-1.5 font-medium",children:[" Year  ",d.yearMin,s.jsx("button",{onClick:()=>S({yearMin:""}),className:"ml-2 hover:text-red-600",children:s.jsx(gr,{className:"w-3 h-3"})})]}),d.yearMax&&s.jsxs(We,{variant:"secondary",className:"text-xs bg-blue-100 dark:bg-blue-900/30 border border-blue-300 dark:border-blue-700 px-3 py-1.5 font-medium",children:[" Year  ",d.yearMax,s.jsx("button",{onClick:()=>S({yearMax:""}),className:"ml-2 hover:text-red-600",children:s.jsx(gr,{className:"w-3 h-3"})})]}),d.features.length>0&&s.jsxs(We,{variant:"secondary",className:"text-xs bg-indigo-100 dark:bg-indigo-900/30 border border-indigo-300 dark:border-indigo-700 px-3 py-1.5 font-medium",children:[" ",d.features.length," Feature",d.features.length!==1?"s":"",s.jsx("button",{onClick:()=>S({features:[]}),className:"ml-2 hover:text-red-600",children:s.jsx(gr,{className:"w-3 h-3"})})]})]})]})]}),a?s.jsx("div",{className:"flex items-center justify-center py-32",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-20 h-20 border-4 border-cyan-700 border-t-transparent rounded-full animate-spin mx-auto mb-6"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Loading Vehicles"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Please wait while we fetch the best options..."})]})}):t.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6 sm:gap-8",children:t.map(q=>s.jsx(a2,{car:q},q.id))}):s.jsx(Ue,{className:"p-16 text-center border-2 border-dashed border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50 rounded-2xl",children:s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-700 mx-auto mb-6 flex items-center justify-center shadow-inner",children:s.jsx(Fr,{className:"w-10 h-10 text-gray-400 dark:text-gray-500"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-3",children:"No Vehicles Found"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-8 leading-relaxed",children:"We couldn't find any vehicles matching your criteria. Try adjusting your filters or broadening your search."}),s.jsxs(pe,{onClick:T,className:"bg-gradient-to-r from-cyan-700 to-teal-600 hover:from-cyan-800 hover:to-teal-700 text-white font-bold px-8 py-6 rounded-xl shadow-lg hover:shadow-xl transition-all",children:[s.jsx(gr,{className:"w-5 h-5 mr-2"}),"Reset All Filters"]})]})})]})]})]})]})};var Aee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Eee=Aee.reduce((t,e)=>{const r=jN(`Primitive.${e}`),n=j.forwardRef((a,i)=>{const{asChild:o,...c}=a,d=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...c,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),Tee="Separator",BT="horizontal",Ree=["horizontal","vertical"],f8=j.forwardRef((t,e)=>{const{decorative:r,orientation:n=BT,...a}=t,i=Dee(n)?n:BT,c=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(Eee.div,{"data-orientation":i,...c,...a,ref:e})});f8.displayName=Tee;function Dee(t){return Ree.includes(t)}var m8=f8;const ad=j.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},a)=>s.jsx(m8,{ref:a,decorative:r,orientation:e,className:St("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));ad.displayName=m8.displayName;const Mee=()=>{const{id:t}=aV(),e=Ur();hh();const[r,n]=j.useState(null),[a,i]=j.useState(!0),[o,c]=j.useState(!1),[d,h]=j.useState(0),[m,f]=j.useState(!1),[g,y]=j.useState({pickupDate:"",returnDate:"",location:"",reason:""}),[v,w]=j.useState(!1),[_,b]=j.useState(!1),[N,k]=j.useState([]),S=j.useMemo(()=>new Date().toISOString().slice(0,16),[]),C=j.useMemo(()=>r?.images?.length?r.images[Math.min(d,r.images.length-1)]:"",[r,d]),I=O=>Array.isArray(O)?O:Array.isArray(O?.cars)?O.cars:Array.isArray(O?.favorites)?O.favorites:Array.isArray(O?.data)?O.data:[],E=(O,se)=>{const X=String(se);return O.some(M=>M==null?!1:typeof M=="string"||typeof M=="number"?String(M)===X:String(M.id??M.car_id??M.car?.id)===X)};j.useEffect(()=>{let O=!0;return(async()=>{i(!0);try{const M=(await Oe.get(`/cars/${t}`)).data.car,K=M.feedbacks??[],z=K.length>0?(K.reduce((W,le)=>W+le.rating,0)/K.length).toFixed(1):null,he={id:M.id,brand:M.make,model:M.model,year:M.year,type:M.car_category,seats:M.seats,doors:M.doors,transmission:M.transmission,fuelType:M.fuel_type,mileage:M.mileage,drive:M.wheels_drive,location:M.live_location?.address??"N/A",price:Number(M.daily_rate),holidayRate:Number(M.holiday_rate),rating:z,reviews:K.length,features:M.features??[],description:M.notes??"",images:[M.main_image_url,M.front_image_url,M.back_image_url,M.left_image_url,M.right_image_url].filter(Boolean),deliveryAvailable:!!M.delivery_available};if(!O)return;if(n(he),h(0),localStorage.getItem("authToken")||localStorage.getItem("token")){b(!0);try{const W=await Oe.get("/cars/favorites/list"),le=I(W.data);if(!O)return;c(E(le,he.id))}catch{if(!O)return;c(!1)}finally{O&&b(!1)}}else b(!1);try{const W=await Oe.get("/cars"),le=W.data?.cars??W.data?.data??[],oe=(Array.isArray(le)?le:[]).filter(ve=>String(ve.id)!==String(M.id)).slice(0,3).map(ve=>{const me=ve.feedbacks??[],$=me.length>0?(me.reduce((H,fe)=>H+(Number(fe.rating)||0),0)/me.length).toFixed(1):null;return{id:ve.id,brand:ve.make,make:ve.make,model:ve.model,year:ve.year,type:ve.car_category,category:ve.car_category,price:Number(ve.daily_rate),image:ve.main_image_url,rating:$,reviews:me.length,seats:ve.seats,doors:ve.doors,fuel_type:ve.fuel_type,fuelType:ve.fuel_type}});O&&k(oe)}catch{O&&k([])}}catch(X){console.error("Car fetch error:",X),be.error("Failed to load car details."),O&&n(null)}finally{O&&i(!1)}})(),window.scrollTo(0,0),()=>{O=!1}},[t]),j.useEffect(()=>{!m||!r||r.deliveryAvailable||y(O=>({...O,location:r.location||"N/A"}))},[m,r]);const T=(()=>{if(!g.pickupDate||!g.returnDate)return 0;const O=new Date(g.pickupDate),se=new Date(g.returnDate),X=Math.ceil((se-O)/(1e3*60*60*24));return X>0?X:0})(),ne=r?T*r.price:0,q=async()=>{if(!r||_)return;if(!(localStorage.getItem("authToken")||localStorage.getItem("token"))){be.error("Please log in to save favorites.");return}const se=!o;c(se),window.dispatchEvent(new Event("favoritesUpdated"));try{await Oe.post(`/cars/${r.id}/favorite`),be.success(se?"Added to favorites":"Removed from favorites")}catch(X){console.error("Favorite toggle error:",X),c(!se),window.dispatchEvent(new Event("favoritesUpdated")),be.error("Failed to update favorite. Please try again.")}},F=()=>{if(!r)return!1;if(r.deliveryAvailable&&!g.location.trim())return be.error("Please enter pickup location."),!1;if(!g.pickupDate)return be.error("Please select pickup date/time."),!1;if(!g.returnDate)return be.error("Please select return date/time."),!1;const O=new Date(g.pickupDate);return new Date(g.returnDate)<=O?(be.error("Return date must be after pickup date."),!1):!0},Y=async O=>{if(O.preventDefault(),!!F()){w(!0);try{const se={car_id:r.id,start_datetime:g.pickupDate,end_datetime:g.returnDate,pickup_location:r.deliveryAvailable?g.location:r.location,reason_of_booking:g.reason};(await Oe.post("/bookings",se)).status===201?(be.success("Booking request submitted successfully! We'll contact you shortly.",{duration:5e3}),f(!1),y({pickupDate:"",returnDate:"",location:"",reason:""})):be.error("Unexpected response from server. Please try again.")}catch(se){console.error("Booking error:",se);let X="Failed to submit booking request. Please try again.";if(se.response){if(se.response.status===400)X=se.response.data.message||X;else if(se.response.status===422){const M=se.response.data.errors;X=Object.values(M).flat().join(`
`)}}be.error(X,{duration:5e3})}finally{w(!1)}}};return a?s.jsx("div",{className:"min-h-screen pt-20 flex items-center justify-center bg-background",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-10 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-3"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading car details..."})]})}):r?s.jsxs("div",{className:"min-h-screen pt-20 bg-background",children:[s.jsx("div",{className:"sticky top-16 z-40 border-b bg-background/80 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:s.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between gap-3",children:[s.jsxs(pe,{variant:"ghost",onClick:()=>e("/cars"),"aria-label":"Back to cars",children:[s.jsx(zi,{className:"w-5 h-5 mr-2","aria-hidden":"true"}),"Back"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(pe,{variant:o?"secondary":"outline",onClick:q,"aria-label":o?"Remove from favorites":"Add to favorites",disabled:_,children:[s.jsx(Kl,{className:`w-4 h-4 mr-2 ${o?"fill-primary text-primary":""}`,"aria-hidden":"true"}),o?"Saved":"Save"]}),s.jsx(pe,{onClick:()=>f(!0),className:"bg-gradient-to-r from-teal-600 to-cyan-600 text-white",children:"Book Now"})]})]})}),s.jsxs("div",{className:"container mx-auto px-4 py-6 grid lg:grid-cols-12 gap-6",children:[s.jsxs("div",{className:"lg:col-span-8 space-y-6",children:[s.jsx(Ue,{className:"overflow-hidden",children:s.jsxs(qe,{className:"p-0",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"aspect-[16/9] bg-muted",children:C?s.jsx("img",{src:`/api/storage/${C}`,alt:`${r.brand} ${r.model}`,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-sm text-muted-foreground",children:"No images available"})}),r.type&&s.jsx("div",{className:"absolute left-4 top-4",children:s.jsx(We,{className:"rounded-full",children:r.type})}),r.rating&&s.jsxs("div",{className:"absolute right-4 top-4 rounded-full bg-background/80 backdrop-blur px-3 py-1 flex items-center gap-2 border",children:[s.jsx(rr,{className:"w-4 h-4 fill-yellow-500 text-yellow-500","aria-hidden":"true"}),s.jsx("span",{className:"text-sm font-semibold",children:r.rating}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",r.reviews,")"]})]})]}),r.images?.length>1&&s.jsx("div",{className:"p-4 border-t",children:s.jsx("div",{className:"grid grid-cols-5 sm:grid-cols-6 md:grid-cols-7 gap-2",children:r.images.map((O,se)=>s.jsx("button",{onClick:()=>h(se),className:`relative rounded-lg overflow-hidden border transition ${d===se?"ring-2 ring-primary border-transparent":"hover:border-primary/40"}`,"aria-label":`View image ${se+1}`,children:s.jsx("img",{src:`/api/storage/${O}`,alt:`Thumbnail ${se+1}`,className:"h-14 w-full object-cover",loading:"lazy"})},`${O}-${se}`))})})]})}),s.jsx(Ue,{children:s.jsxs(qe,{className:"p-5 space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight",children:[r.brand," ",r.model," ",s.jsxs("span",{className:"text-muted-foreground font-semibold",children:["(",r.year,")"]})]}),s.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[s.jsx(Pee,{icon:s.jsx(Ps,{className:"w-4 h-4"}),label:r.location}),s.jsx(We,{variant:"secondary",className:"rounded-full",children:r.deliveryAvailable?"Delivery available":"Pickup only"})]})]}),s.jsxs("div",{className:"text-left sm:text-right",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Starting from"}),s.jsxs("p",{className:"text-3xl font-bold",children:["$",r.price,s.jsx("span",{className:"text-sm font-semibold text-muted-foreground",children:"/day"})]}),Number.isFinite(r.holidayRate)&&r.holidayRate>0&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Holiday: ",s.jsxs("span",{className:"font-semibold",children:["$",r.holidayRate]})]})]})]}),s.jsx(ad,{}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[s.jsx(yu,{icon:ks,label:"Seats",value:r.seats??"N/A"}),s.jsx(yu,{icon:bW,label:"Doors",value:r.doors??"N/A"}),s.jsx(yu,{icon:A0,label:"Fuel",value:r.fuelType??"N/A"}),s.jsx(yu,{icon:Rm,label:"Transmission",value:r.transmission??"N/A"}),s.jsx(yu,{icon:zl,label:"Mileage",value:r.mileage?`${r.mileage} km`:"N/A"}),s.jsx(yu,{icon:Gt,label:"Drive",value:r.drive??"N/A"})]})]})}),s.jsx(Ue,{children:s.jsxs(qe,{className:"p-5 space-y-3",children:[s.jsx("h3",{className:"text-base font-semibold",children:"Description"}),s.jsx("p",{className:"text-sm leading-relaxed text-muted-foreground",children:r.description?.trim()?r.description:"No description provided."})]})}),r.features?.length>0&&s.jsx(Ue,{children:s.jsxs(qe,{className:"p-5 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-base font-semibold",children:"Features"}),s.jsxs(We,{variant:"secondary",className:"rounded-full",children:[r.features.length," included"]})]}),s.jsx("div",{className:"grid sm:grid-cols-2 gap-3",children:r.features.map((O,se)=>s.jsxs("div",{className:"flex items-start gap-2 rounded-lg border p-3",children:[s.jsx(Gr,{className:"w-4 h-4 text-primary mt-0.5","aria-hidden":"true"}),s.jsx("span",{className:"text-sm",children:O})]},`${O}-${se}`))})]})})]}),s.jsx("div",{className:"lg:col-span-4",children:s.jsx(Ue,{className:"sticky top-28",children:s.jsxs(qe,{className:"p-5 space-y-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(We,{className:"rounded-full w-fit",children:r.type||"Car"}),s.jsxs("h2",{className:"text-lg font-semibold leading-tight",children:[r.brand," ",r.model]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Price: ",s.jsxs("span",{className:"font-semibold",children:["$",r.price,"/day"]})]})]}),r.rating&&s.jsxs("div",{className:"rounded-xl border px-3 py-2 text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx(rr,{className:"w-4 h-4 fill-yellow-500 text-yellow-500","aria-hidden":"true"}),s.jsx("span",{className:"font-semibold",children:r.rating})]}),s.jsxs("p",{className:"text-[11px] text-muted-foreground",children:[r.reviews," reviews"]})]})]}),s.jsx(ad,{}),s.jsxs("div",{className:"rounded-xl border bg-muted/30 p-4 space-y-2",children:[s.jsx(Tg,{label:"Pickup type",value:r.deliveryAvailable?"Delivery":"Pickup only"}),s.jsx(Tg,{label:"Car location",value:r.location}),s.jsx(Tg,{label:"Fuel",value:r.fuelType??"N/A"}),s.jsx(Tg,{label:"Transmission",value:r.transmission??"N/A"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(pe,{className:"flex-1 bg-gradient-to-r from-teal-600 to-cyan-600 text-white",onClick:()=>f(!0),children:"Book Now"}),s.jsx(pe,{variant:"outline",onClick:q,"aria-label":o?"Remove from favorites":"Add to favorites",disabled:_,children:s.jsx(Kl,{className:`w-4 h-4 ${o?"fill-primary text-primary":""}`,"aria-hidden":"true"})})]}),s.jsx("p",{className:"text-[11px] text-muted-foreground leading-relaxed",children:"Submit a booking request and our team will confirm availability with you."})]})})})]}),N.length>0&&s.jsxs("div",{className:"container mx-auto px-4 py-6 border-t",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"You might also like"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:N.map(O=>s.jsx(a2,{car:O},O.id))}),s.jsx("div",{className:"mt-4 text-center",children:s.jsx(pe,{variant:"outline",asChild:!0,children:s.jsx(Us,{to:"/cars",children:"View all cars"})})})]}),s.jsx(Kr,{open:m,onOpenChange:f,children:s.jsxs(Br,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[s.jsxs(Ir,{children:[s.jsxs(zr,{className:"text-xl",children:["Book ",r.brand," ",r.model]}),s.jsx(Vi,{className:"text-sm",children:r.deliveryAvailable?"Choose pickup location and rental dates.":"Delivery is not available for this car. Pickup is at the car location."})]}),s.jsxs("form",{onSubmit:Y,className:"space-y-4 mt-2",children:[r.deliveryAvailable?s.jsxs("div",{children:[s.jsx(de,{htmlFor:"location",className:"text-xs",children:"Pickup Location *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ps,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-muted-foreground"}),s.jsx(Se,{id:"location",required:!0,value:g.location,onChange:O=>y({...g,location:O.target.value}),placeholder:"City, Airport, or Address",className:"pl-8 h-9 text-sm"})]})]}):s.jsxs("div",{className:"rounded-lg border bg-muted/30 p-4",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Pickup location"}),s.jsx("p",{className:"text-sm font-semibold",children:r.location||"N/A"}),s.jsx("p",{className:"text-[11px] text-muted-foreground mt-1",children:"Pickup is at the car location."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"pickupDate",className:"text-xs",children:"Start Date *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Hs,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-muted-foreground"}),s.jsx(Se,{id:"pickupDate",type:"datetime-local",required:!0,value:g.pickupDate,onChange:O=>y(se=>({...se,pickupDate:O.target.value,returnDate:se.returnDate&&new Date(se.returnDate)<=new Date(O.target.value)?"":se.returnDate})),min:S,className:"pl-8 h-9 text-sm"})]})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"returnDate",className:"text-xs",children:"End Date *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Hs,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-muted-foreground"}),s.jsx(Se,{id:"returnDate",type:"datetime-local",required:!0,value:g.returnDate,onChange:O=>y({...g,returnDate:O.target.value}),min:g.pickupDate||S,className:"pl-8 h-9 text-sm"})]})]})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"reason",className:"text-xs",children:"Reason (optional)"}),s.jsx(Se,{id:"reason",value:g.reason,onChange:O=>y({...g,reason:O.target.value}),placeholder:"Vacation, business trip, wedding...",className:"h-9 text-sm"})]}),s.jsx(ad,{}),s.jsxs("div",{className:"rounded-lg border bg-muted/30 p-4 space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Daily rate"}),s.jsxs("span",{className:"font-medium",children:["$",r.price,"/day"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Days"}),s.jsx("span",{className:"font-medium",children:T>0?T:"--"})]}),s.jsx(ad,{}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"font-semibold",children:"Estimated total"}),s.jsx("span",{className:"text-2xl font-bold text-teal-600 dark:text-teal-400",children:T>0?`$${ne}`:"--"})]}),s.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Final confirmation depends on availability and terms."})]}),s.jsx(pe,{type:"submit",className:"w-full bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 font-semibold h-10 text-sm",disabled:v,children:v?"Submitting...":"Confirm Booking Request"})]})]})})]}):s.jsx("div",{className:"min-h-screen pt-20 flex items-center justify-center p-4 bg-background",children:s.jsx(Ue,{className:"max-w-md w-full",children:s.jsxs(qe,{className:"p-6 text-center space-y-4",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Car not found"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"The vehicle you're looking for doesn't exist or was removed."}),s.jsxs(pe,{onClick:()=>e("/cars"),className:"w-full",children:[s.jsx(zi,{className:"w-4 h-4 mr-2"}),"Back to Cars"]})]})})})},Pee=({icon:t,label:e})=>s.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border bg-background px-3 py-1 text-xs text-muted-foreground",children:[s.jsx("span",{"aria-hidden":"true",children:t}),s.jsx("span",{className:"truncate max-w-[260px]",children:e})]}),yu=({icon:t,label:e,value:r})=>s.jsx("div",{className:"rounded-xl border p-4 bg-background hover:bg-muted/30 transition",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center",children:s.jsx(t,{className:"w-5 h-5","aria-hidden":"true"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:e}),s.jsx("p",{className:"font-semibold",children:r})]})]})}),Tg=({label:t,value:e})=>s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:t}),s.jsx("span",{className:"text-xs font-medium text-right",children:e})]}),Oee=()=>{const[t,e]=j.useState([]),[r,n]=j.useState(!0),[a,i]=j.useState(1),[o,c]=j.useState({current_page:1,last_page:1,per_page:20,total:0,next_page_url:null,prev_page_url:null}),d=v=>{const w=v.feedbacks??[],_=w.length>0?(w.reduce((b,N)=>b+(Number(N.rating)||0),0)/w.length).toFixed(1):null;return{id:v.id,make:v.make,brand:v.make,model:v.model,year:v.year,type:v.car_category,category:v.car_category,seats:v.seats,doors:v.doors,transmission:v.transmission,fuelType:v.fuel_type,fuel_type:v.fuel_type,drive:v.wheels_drive,cylinders:v.cylinder_number,mileage:v.mileage,color:v.color,dailyRate:Number(v.daily_rate),holidayRate:Number(v.holiday_rate),price:Number(v.daily_rate),hasDeposit:!!v.is_deposit,deposit:Number(v.deposit),maxMileage:v.max_driving_mileage,minDays:v.min_rental_days,withDriver:!!v.with_driver,driverFees:Number(v.driver_fees),location:v.live_location?.address??"N/A",isDelivered:!!v.is_delivered,deliveryFees:Number(v.delivery_fees),description:v.notes??"",features:v.features??[],addons:v.car_add_on??[],rating:_,reviews:w.length,feedbacks:w,images:[v.main_image_url,v.front_image_url,v.back_image_url,v.left_image_url,v.right_image_url].filter(Boolean),image:v.main_image_url||v.front_image_url||""}},h=j.useCallback(async(v=1)=>{n(!0);try{const _=(await Oe.get("/cars/favorites/list",{params:{page:v}})).data?.favorites,b=(_?.data??[]).map(d);e(b),c({current_page:_?.current_page??v,last_page:_?.last_page??1,per_page:_?.per_page??20,total:_?.total??b.length,next_page_url:_?.next_page_url??null,prev_page_url:_?.prev_page_url??null}),i(_?.current_page??v)}catch(w){console.error("Favorites fetch error:",w),be.error("Failed to load favorites. Please try again."),e([])}finally{n(!1)}},[]),m=j.useCallback(async v=>{const w=t;e(_=>_.filter(b=>b.id!==v));try{await Oe.post(`/cars/${v}/favorite`),be.success("Removed from favorites"),window.dispatchEvent(new Event("favoritesUpdated")),h(a)}catch(_){console.error("Toggle favorite error:",_),be.error("Failed to update favorite. Please try again."),e(w)}},[t,h,a]);j.useEffect(()=>{h(1);const v=()=>h(a);return window.addEventListener("favoritesUpdated",v),()=>window.removeEventListener("favoritesUpdated",v)},[h,a]);const f=j.useMemo(()=>r?"Loading your favorites...":o.total===0?"No favorites yet. Start exploring our fleet!":`You have ${o.total} vehicle${o.total>1?"s":""} in your favorites`,[r,o.total]),g=o.prev_page_url&&a>1,y=o.next_page_url&&a<o.last_page;return s.jsxs("div",{className:"min-h-screen pt-20",children:[s.jsx("section",{className:"bg-gradient-to-br from-accent/5 via-secondary/5 to-primary/5 py-12",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"max-w-3xl",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsxs(We,{className:"mb-2 bg-accent/10 text-accent-foreground border-accent/20",children:[s.jsx(Kl,{className:"w-3 h-3 mr-1 fill-current"}),"Favorites"]}),s.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>h(a),disabled:r,"aria-label":"Refresh favorites",className:"mb-2",children:[s.jsx(Tt,{className:`w-4 h-4 mr-2 ${r?"animate-spin":""}`}),"Refresh"]})]}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Your Favorite Vehicles"}),s.jsx("p",{className:"text-lg text-muted-foreground",children:f}),!r&&o.total>0&&s.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Page ",o.current_page," of ",o.last_page]})]})})}),s.jsx("div",{className:"container mx-auto px-4 py-12",children:r?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6",children:Array.from({length:6}).map((v,w)=>s.jsxs(Ue,{className:"p-6",children:[s.jsx("div",{className:"h-40 rounded-xl bg-muted animate-pulse mb-4"}),s.jsx("div",{className:"h-4 bg-muted rounded animate-pulse w-2/3 mb-2"}),s.jsx("div",{className:"h-4 bg-muted rounded animate-pulse w-1/2"})]},w))}):t.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6",children:t.map(v=>s.jsx(a2,{car:v,forceFavorite:!0,onToggleFavoriteApi:()=>m(v.id)},v.id))}),(o.last_page??1)>1&&s.jsxs("div",{className:"flex items-center justify-center gap-3 mt-10",children:[s.jsxs(pe,{variant:"outline",onClick:()=>h(a-1),disabled:!g||r,"aria-label":"Previous page",children:[s.jsx(Yo,{className:"w-4 h-4 mr-2"}),"Prev"]}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",s.jsx("span",{className:"font-semibold",children:o.current_page})," /"," ",s.jsx("span",{className:"font-semibold",children:o.last_page})]}),s.jsxs(pe,{variant:"outline",onClick:()=>h(a+1),disabled:!y||r,"aria-label":"Next page",children:["Next",s.jsx(pn,{className:"w-4 h-4 ml-2"})]})]})]}):s.jsxs(Ue,{className:"p-12 text-center max-w-2xl mx-auto",children:[s.jsx("div",{className:"w-24 h-24 rounded-full bg-muted mx-auto mb-6 flex items-center justify-center",children:s.jsx(Kl,{className:"w-12 h-12 text-muted-foreground"})}),s.jsx("h2",{className:"text-3xl font-bold mb-4",children:"No Favorites Yet"}),s.jsx("p",{className:"text-muted-foreground mb-8 max-w-md mx-auto",children:"Start adding vehicles to your favorites to keep track of the cars you love. Click the heart icon on any vehicle card to add it here."}),s.jsx(Us,{to:"/cars",children:s.jsxs(pe,{size:"lg",className:"bg-primary hover:bg-primary-light text-primary-foreground",children:["Browse Our Fleet",s.jsx(xd,{className:"w-5 h-5 ml-2"})]})})]})})]})},Lee=()=>{const t=[{icon:Kl,title:"Customer First",description:"Your satisfaction and experience are at the heart of everything we do."},{icon:Zn,title:"Trust & Safety",description:"All vehicles are fully insured and professionally maintained for maximum safety."},{icon:s_,title:"Excellence",description:"We provide premium-quality cars and top-tier customer service across Lebanon."},{icon:OW,title:"Accessibility",description:"Car rental services available across Beirut, airport, and major Lebanese cities."}],e=[{value:"15+",label:"Years in Car Rental in Lebanon"},{value:"10,000+",label:"Happy Clients"},{value:"50+",label:"Premium Rental Cars"},{value:"25",label:"Lebanese Cities Covered"}],r=[{name:"Rami Z.",role:"Co-Founder",image:"https://media.licdn.com/dms/image/v2/D4D03AQE-SI2RbsIKJg/profile-displayphoto-scale_400_400/B4DZkR13KuIEAw-/0/1756940957455?e=1766620800&v=beta&t=zeHYUyUBfpn25qt5t5noPx63zsRssAtxFJfix_St0u8",bio:"Expert in the Lebanese car rental industry for over 15 years."},{name:"Ali Z.",role:"Operations Director",image:"https://i.pravatar.cc/200?img=1",bio:"Specialist in fleet management and customer satisfaction."},{name:"Dib Bailoun",role:"Fleet Manager",image:"https://media.licdn.com/dms/image/v2/D4E03AQG5-k6KT0xAkQ/profile-displayphoto-shrink_800_800/profile-displayphoto-shrink_800_800/0/1676234982153?e=1766620800&v=beta&t=9DRUyjBNMmfBBksjIy_xP0VADrIcR6ikoHK2R8bUPjM",bio:"Ensures all cars meet the highest maintenance and safety standards."},{name:"Ahmad",role:"Customer Relations",image:"https://i.pravatar.cc/200?img=1",bio:"Dedicated to providing fast and friendly rental service."}];return s.jsxs("div",{className:"min-h-screen pt-20",children:[s.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"CarRental",name:"Rento LB",url:"https://rento-lb.com",address:{"@type":"PostalAddress",addressCountry:"LB",addressLocality:"Beirut",streetAddress:"Beirut, Lebanon"},description:"Rent a car in Lebanon  luxury, SUV, sedan, economy cars. Beirut airport delivery. Affordable daily and monthly prices.",openingHours:"Mo-Su 00:00-23:59",telephone:"+961 81 001301",image:"https://rento-lb.com/og-image.jpg"})}),s.jsx("section",{className:"relative py-20 bg-gradient-to-br from-primary/5 via-secondary/5 to-accent/5",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[s.jsx(We,{className:"mb-4 bg-secondary/10 text-secondary border-secondary/20",children:"About Rento LB"}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"The #1 Car Rental Company in Lebanon"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"RENTO LB provides premium, affordable, and reliable car rental services across Lebanon. With 15+ years of experience, we offer luxury, SUV, and economy cars with airport pickup, 24/7 support, and delivery anywhere in Beirut and surrounding cities."})]})})}),s.jsx("section",{className:"py-12 bg-card border-y border-border",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:e.map((n,a)=>s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-3xl md:text-4xl font-bold gradient-text-accent mb-2",children:n.value}),s.jsx("p",{className:"text-muted-foreground",children:n.label})]},a))})})}),s.jsx("section",{className:"py-20",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[s.jsxs("div",{children:[s.jsx(We,{className:"mb-4 bg-primary/10 text-primary border-primary/20",children:"Our Story"}),s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Leading the Car Rental Industry in Lebanon"}),s.jsxs("div",{className:"space-y-4 text-muted-foreground leading-relaxed",children:[s.jsx("p",{children:"Rento LB started with a mission to offer safe, reliable, and affordable car rental services in Lebanon. Since 2008, weve grown into one of the leading rental companies in Beirut, serving thousands of happy clients every year."}),s.jsx("p",{children:"We offer a full range of vehiclesfrom economic cars for everyday use, to SUVs for families, to luxury cars for special occasions."}),s.jsx("p",{children:"Whether you're a tourist or a resident, our goal is to deliver the best car rental experience with transparent pricing, clean vehicles, and fast service."})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx("img",{src:"https://images.unsplash.com/photo-1492144534655-ae79c964c9d7?w=600&q=80",alt:"Affordable luxury car rental in Beirut Lebanon - Rento LB",className:"rounded-2xl w-full h-64 object-cover hover-glow"}),s.jsx("img",{src:"https://images.unsplash.com/photo-1555215695-3004980ad54e?w=600&q=80",alt:"Rent a BMW in Beirut Lebanon - Cheap car rental",className:"rounded-2xl w-full h-64 object-cover hover-glow mt-8"}),s.jsx("img",{src:"https://images.unsplash.com/photo-1503376780353-7e6692767b70?w=600&q=80",alt:"Best car rental company in Lebanon - Rento LB",className:"rounded-2xl w-full h-64 object-cover hover-glow"}),s.jsx("img",{src:"https://images.unsplash.com/photo-1618843479313-40f8afb4b4d8?w=600&q=80",alt:"SUV rental in Beirut Lebanon",className:"rounded-2xl w-full h-64 object-cover hover-glow mt-8"})]})]})})}),s.jsx("section",{className:"py-20 bg-muted/30",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx(We,{className:"mb-4 bg-accent/10 text-accent-foreground border-accent/20",children:"Our Values"}),s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Why Customers Choose Rento LB"}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"We focus on reliability, transparency, and exceptional service across Lebanon."})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((n,a)=>s.jsx(Ue,{className:"text-center hover-glow transition-all",children:s.jsxs(qe,{className:"pt-8 pb-8",children:[s.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-primary to-secondary flex items-center justify-center mx-auto mb-4",children:s.jsx(n.icon,{className:"w-8 h-8 text-primary-foreground"})}),s.jsx("h3",{className:"text-xl font-bold mb-3",children:n.title}),s.jsx("p",{className:"text-muted-foreground",children:n.description})]})},a))})]})}),s.jsx("section",{className:"py-20",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx(We,{className:"mb-4 bg-secondary/10 text-secondary border-secondary/20",children:"Our Lebanese Team"}),s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Meet the People Behind Rento LB"}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Our experienced team ensures the highest level of service in the Lebanese car rental industry."})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:r.map((n,a)=>s.jsxs(Ue,{className:"overflow-hidden hover-glow transition-all",children:[s.jsx("div",{className:"aspect-square overflow-hidden",children:s.jsx("img",{src:n.image,alt:`${n.name} - Rento LB Car Rental Lebanon`,className:"w-full h-full object-cover"})}),s.jsxs(qe,{className:"p-6 text-center",children:[s.jsx("h3",{className:"text-xl font-bold mb-1",children:n.name}),s.jsx("p",{className:"text-secondary font-medium mb-2",children:n.role}),s.jsx("p",{className:"text-sm text-muted-foreground",children:n.bio})]})]},a))})]})}),s.jsxs("section",{className:"py-20 bg-gradient-to-br from-primary via-primary-light to-secondary relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-white rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-accent rounded-full blur-3xl"})]}),s.jsxs("div",{className:"container mx-auto px-4 relative z-10 text-center",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Book Your Car Rental in Lebanon Today"}),s.jsx("p",{className:"text-lg text-white/90 mb-8 max-w-2xl mx-auto",children:"Select your car and enjoy fast delivery anywhere in Lebanon."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx("a",{href:"/cars",children:s.jsx("button",{className:"px-8 py-3 bg-white text-primary hover:bg-white/90 font-semibold rounded-lg transition-smooth",children:"View Available Cars"})}),s.jsx("a",{href:"/contact",children:s.jsx("button",{className:"px-8 py-3 border-2 border-white text-white hover:bg-white/10 font-semibold rounded-lg transition-smooth",children:"Contact Rento LB"})})]})]})]})]})},mn=j.forwardRef(({className:t,...e},r)=>s.jsx("textarea",{className:St("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...e}));mn.displayName="Textarea";const Fee=()=>{const[t,e]=j.useState({name:"",email:"",phone:"",subject:"",message:""}),r=i=>{i.preventDefault(),be.success("Message sent successfully! We'll get back to you soon.",{duration:5e3}),e({name:"",email:"",phone:"",subject:"",message:""})},n=[{icon:Ps,title:"Visit Us",details:["Mount Liban","Baouchrieh, Lebanon"],color:"from-primary to-primary-light"},{icon:di,title:"Call Us",details:["+961 (81) 001-301"],color:"from-secondary to-secondary-light"},{icon:za,title:"Email Us",details:["social@rento-lb.com"],color:"from-accent to-accent-light"},{icon:ch,title:"Business Hours",details:["24/7"],color:"from-primary-dark to-secondary"}],a=[{city:"London",address:"124-128 City Road, London, England, EC1V 2NX",phone:"Not available"},{city:"Mount Liban",address:"Baouchrieh, Lebanon",phone:"+961 (81) 001-301"}];return s.jsxs("div",{className:"min-h-screen pt-20",children:[s.jsx("section",{className:"bg-gradient-to-br from-primary/5 via-secondary/5 to-accent/5 py-12",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[s.jsx(We,{className:"mb-4 bg-secondary/10 text-secondary border-secondary/20",children:"Contact Us"}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Get in Touch"}),s.jsx("p",{className:"text-lg text-muted-foreground",children:"Have questions? We're here to help. Reach out to our team for any inquiries about our vehicles or services."})]})})}),s.jsxs("div",{className:"container mx-auto px-4 py-12",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:n.map((i,o)=>s.jsx(Ue,{className:"hover-glow transition-all",children:s.jsxs(qe,{className:"pt-6 text-center",children:[s.jsx("div",{className:`w-16 h-16 rounded-2xl bg-gradient-to-br ${i.color} flex items-center justify-center mx-auto mb-4`,children:s.jsx(i.icon,{className:"w-8 h-8 text-white"})}),s.jsx("h3",{className:"font-bold text-lg mb-3",children:i.title}),i.details.map((c,d)=>s.jsx("p",{className:"text-muted-foreground text-sm",children:c},d))]})},o))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[s.jsx(Ue,{children:s.jsxs(qe,{className:"p-8",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Send Us a Message"}),s.jsxs("form",{onSubmit:r,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(de,{htmlFor:"name",children:"Full Name *"}),s.jsx(Se,{id:"name",required:!0,value:t.name,onChange:i=>e({...t,name:i.target.value}),placeholder:"John Doe"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"email",children:"Email Address *"}),s.jsx(Se,{id:"email",type:"email",required:!0,value:t.email,onChange:i=>e({...t,email:i.target.value}),placeholder:"john@example.com"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"phone",children:"Phone Number"}),s.jsx(Se,{id:"phone",type:"tel",value:t.phone,onChange:i=>e({...t,phone:i.target.value}),placeholder:"+96181001301"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"subject",children:"Subject *"}),s.jsx(Se,{id:"subject",required:!0,value:t.subject,onChange:i=>e({...t,subject:i.target.value}),placeholder:"How can we help you?"})]}),s.jsxs("div",{children:[s.jsx(de,{htmlFor:"message",children:"Message *"}),s.jsx(mn,{id:"message",required:!0,value:t.message,onChange:i=>e({...t,message:i.target.value}),placeholder:"Tell us more about your inquiry...",rows:6})]}),s.jsxs(pe,{type:"submit",size:"lg",className:"w-full bg-secondary hover:bg-secondary-light text-secondary-foreground font-semibold",children:[s.jsx(T0,{className:"w-5 h-5 mr-2"}),"Send Message"]})]})]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ue,{className:"overflow-hidden",children:s.jsx("a",{href:"https://www.google.com/maps?q=33.8861985,35.5591084",target:"_blank",rel:"noopener noreferrer",children:s.jsxs("div",{className:"aspect-video bg-muted relative cursor-pointer",children:[s.jsx("img",{src:"https://www.mountain-forecast.com/locationmaps/Mount-Lebanon.10.gif",alt:"Map Location",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),s.jsxs("div",{className:"absolute bottom-4 left-4 text-white",children:[s.jsx("p",{className:"font-bold text-lg",children:"Main Office"}),s.jsx("p",{className:"text-sm",children:"Mount Liban, Baouchrieh, Lebanon"})]})]})})}),s.jsx(Ue,{children:s.jsxs(qe,{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:"Our Locations"}),s.jsx("div",{className:"space-y-4",children:a.map((i,o)=>s.jsxs("div",{className:"pb-4 border-b border-border last:border-0 last:pb-0",children:[s.jsx("h4",{className:"font-semibold text-lg mb-1",children:i.city}),s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:i.address}),s.jsx("p",{className:"text-sm text-secondary font-medium",children:i.phone})]},o))})]})})]})]}),s.jsxs("section",{className:"mt-20",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx(We,{className:"mb-4 bg-accent/10 text-accent-foreground border-accent/20",children:"FAQ"}),s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Frequently Asked Questions"}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Find quick answers to common questions about our services"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-5xl mx-auto",children:[s.jsx(Ue,{children:s.jsxs(qe,{className:"p-6",children:[s.jsx("h3",{className:"font-bold text-lg mb-2",children:"What documents do I need to rent?"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"You'll need a valid driver's license, a major credit card in your name, and proof of insurance. International customers may need additional documentation."})]})}),s.jsx(Ue,{children:s.jsxs(qe,{className:"p-6",children:[s.jsx("h3",{className:"font-bold text-lg mb-2",children:"What's your cancellation policy?"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Free cancellation up to 48 hours before pickup. Cancellations within 48 hours may incur a fee. Please contact us for specific details."})]})}),s.jsx(Ue,{children:s.jsxs(qe,{className:"p-6",children:[s.jsx("h3",{className:"font-bold text-lg mb-2",children:"Is insurance included?"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Basic insurance is included with all rentals. Additional coverage options are available for purchase during booking."})]})}),s.jsx(Ue,{children:s.jsxs(qe,{className:"p-6",children:[s.jsx("h3",{className:"font-bold text-lg mb-2",children:"Can I extend my rental period?"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Yes! Contact us at least 24 hours before your scheduled return to extend your rental, subject to vehicle availability."})]})}),s.jsx(Ue,{children:s.jsxs(qe,{className:"p-6",children:[s.jsx("h3",{className:"font-bold text-lg mb-2",children:"Do you offer airport pickup?"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Absolutely! We offer complimentary airport pickup and drop-off at major airports. Please specify this when booking."})]})}),s.jsx(Ue,{children:s.jsxs(qe,{className:"p-6",children:[s.jsx("h3",{className:"font-bold text-lg mb-2",children:"What's the minimum rental period?"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Our minimum rental period is 24 hours. We also offer attractive rates for weekly and monthly rentals."})]})})]})]})]})]})};function xa(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Nd(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const p8=6048e5,Bee=864e5;let Iee={};function ey(){return Iee}function hm(t,e){const r=ey(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=xa(t),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function t0(t){return hm(t,{weekStartsOn:1})}function g8(t){const e=xa(t),r=e.getFullYear(),n=Nd(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=t0(n),i=Nd(t,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=t0(i);return e.getTime()>=a.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function IT(t){const e=xa(t);return e.setHours(0,0,0,0),e}function zT(t){const e=xa(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function x8(t,e){const r=IT(t),n=IT(e),a=+r-zT(r),i=+n-zT(n);return Math.round((a-i)/Bee)}function zee(t){const e=g8(t),r=Nd(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),t0(r)}function Uee(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function $ee(t){if(!Uee(t)&&typeof t!="number")return!1;const e=xa(t);return!isNaN(Number(e))}function Vee(t,e){const r=xa(t),n=xa(e),a=UT(r,n),i=Math.abs(x8(r,n));r.setDate(r.getDate()-a*i);const o=+(UT(r,n)===-a),c=a*(i-o);return c===0?0:c}function UT(t,e){const r=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return r<0?-1:r>0?1:r}function Hee(t){const e=xa(t),r=Nd(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const qee={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Wee=(t,e,r)=>{let n;const a=qee[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function cw(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const Gee={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Yee={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Kee={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Xee={date:cw({formats:Gee,defaultWidth:"full"}),time:cw({formats:Yee,defaultWidth:"full"}),dateTime:cw({formats:Kee,defaultWidth:"full"})},Zee={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Qee=(t,e,r,n)=>Zee[t];function Nf(t){return(e,r)=>{const n=r?.context?String(r.context):"standalone";let a;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,c=r?.width?String(r.width):o;a=t.formattingValues[c]||t.formattingValues[o]}else{const o=t.defaultWidth,c=r?.width?String(r.width):t.defaultWidth;a=t.values[c]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return a[i]}}const Jee={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ete={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},tte={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},ste={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},rte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},nte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ate=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},ite={ordinalNumber:ate,era:Nf({values:Jee,defaultWidth:"wide"}),quarter:Nf({values:ete,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Nf({values:tte,defaultWidth:"wide"}),day:Nf({values:ste,defaultWidth:"wide"}),dayPeriod:Nf({values:rte,defaultWidth:"wide",formattingValues:nte,defaultFormattingWidth:"wide"})};function Sf(t){return(e,r={})=>{const n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(a);if(!i)return null;const o=i[0],c=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(c)?lte(c,f=>f.test(o)):ote(c,f=>f.test(o));let h;h=t.valueCallback?t.valueCallback(d):d,h=r.valueCallback?r.valueCallback(h):h;const m=e.slice(o.length);return{value:h,rest:m}}}function ote(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function lte(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function cte(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const a=n[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const c=e.slice(a.length);return{value:o,rest:c}}}const dte=/^(\d+)(th|st|nd|rd)?/i,ute=/\d+/i,hte={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},fte={any:[/^b/i,/^(a|c)/i]},mte={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},pte={any:[/1/i,/2/i,/3/i,/4/i]},gte={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},xte={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},yte={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},bte={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},vte={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},wte={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},jte={ordinalNumber:cte({matchPattern:dte,parsePattern:ute,valueCallback:t=>parseInt(t,10)}),era:Sf({matchPatterns:hte,defaultMatchWidth:"wide",parsePatterns:fte,defaultParseWidth:"any"}),quarter:Sf({matchPatterns:mte,defaultMatchWidth:"wide",parsePatterns:pte,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Sf({matchPatterns:gte,defaultMatchWidth:"wide",parsePatterns:xte,defaultParseWidth:"any"}),day:Sf({matchPatterns:yte,defaultMatchWidth:"wide",parsePatterns:bte,defaultParseWidth:"any"}),dayPeriod:Sf({matchPatterns:vte,defaultMatchWidth:"any",parsePatterns:wte,defaultParseWidth:"any"})},_te={code:"en-US",formatDistance:Wee,formatLong:Xee,formatRelative:Qee,localize:ite,match:jte,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Nte(t){const e=xa(t);return x8(e,Hee(e))+1}function Ste(t){const e=xa(t),r=+t0(e)-+zee(e);return Math.round(r/p8)+1}function y8(t,e){const r=xa(t),n=r.getFullYear(),a=ey(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,o=Nd(t,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const c=hm(o,e),d=Nd(t,0);d.setFullYear(n,0,i),d.setHours(0,0,0,0);const h=hm(d,e);return r.getTime()>=c.getTime()?n+1:r.getTime()>=h.getTime()?n:n-1}function kte(t,e){const r=ey(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=y8(t,e),i=Nd(t,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),hm(i,e)}function Cte(t,e){const r=xa(t),n=+hm(r,e)-+kte(r,e);return Math.round(n/p8)+1}function Ds(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Pl={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Ds(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Ds(r+1,2)},d(t,e){return Ds(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Ds(t.getHours()%12||12,e.length)},H(t,e){return Ds(t.getHours(),e.length)},m(t,e){return Ds(t.getMinutes(),e.length)},s(t,e){return Ds(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Ds(a,e.length)}},bu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},$T={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Pl.y(t,e)},Y:function(t,e,r,n){const a=y8(t,n),i=a>0?a:1-a;if(e==="YY"){const o=i%100;return Ds(o,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):Ds(i,e.length)},R:function(t,e){const r=g8(t);return Ds(r,e.length)},u:function(t,e){const r=t.getFullYear();return Ds(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Ds(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Ds(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Pl.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Ds(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const a=Cte(t,n);return e==="wo"?r.ordinalNumber(a,{unit:"week"}):Ds(a,e.length)},I:function(t,e,r){const n=Ste(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Ds(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Pl.d(t,e)},D:function(t,e,r){const n=Nte(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ds(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Ds(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Ds(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return Ds(a,e.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let a;switch(n===12?a=bu.noon:n===0?a=bu.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let a;switch(n>=17?a=bu.evening:n>=12?a=bu.afternoon:n>=4?a=bu.morning:a=bu.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Pl.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Pl.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ds(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ds(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Pl.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Pl.s(t,e)},S:function(t,e){return Pl.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return HT(n);case"XXXX":case"XX":return Qc(n);case"XXXXX":case"XXX":default:return Qc(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return HT(n);case"xxxx":case"xx":return Qc(n);case"xxxxx":case"xxx":default:return Qc(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+VT(n,":");case"OOOO":default:return"GMT"+Qc(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+VT(n,":");case"zzzz":default:return"GMT"+Qc(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return Ds(n,e.length)},T:function(t,e,r){const n=t.getTime();return Ds(n,e.length)}};function VT(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+e+Ds(i,2)}function HT(t,e){return t%60===0?(t>0?"-":"+")+Ds(Math.abs(t)/60,2):Qc(t,e)}function Qc(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Ds(Math.trunc(n/60),2),i=Ds(n%60,2);return r+a+e+i}const qT=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},b8=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Ate=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return qT(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",qT(n,e)).replace("{{time}}",b8(a,e))},Ete={p:b8,P:Ate},Tte=/^D+$/,Rte=/^Y+$/,Dte=["D","DD","YY","YYYY"];function Mte(t){return Tte.test(t)}function Pte(t){return Rte.test(t)}function Ote(t,e,r){const n=Lte(t,e,r);if(console.warn(n),Dte.includes(t))throw new RangeError(n)}function Lte(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Fte=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Bte=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Ite=/^'([^]*?)'?$/,zte=/''/g,Ute=/[a-zA-Z]/;function WT(t,e,r){const n=ey(),a=n.locale??_te,i=n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,c=xa(t);if(!$ee(c))throw new RangeError("Invalid time value");let d=e.match(Bte).map(m=>{const f=m[0];if(f==="p"||f==="P"){const g=Ete[f];return g(m,a.formatLong)}return m}).join("").match(Fte).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const f=m[0];if(f==="'")return{isToken:!1,value:$te(m)};if($T[f])return{isToken:!0,value:m};if(f.match(Ute))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:m}});a.localize.preprocessor&&(d=a.localize.preprocessor(c,d));const h={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return d.map(m=>{if(!m.isToken)return m.value;const f=m.value;(Pte(f)||Mte(f))&&Ote(f,e,String(t));const g=$T[f[0]];return g(c,f,a.localize,h)}).join("")}function $te(t){const e=t.match(Ite);return e?e[1].replace(zte,"'"):t}const Vte=()=>{const t=Ur(),[e,r]=j.useState([]),[n,a]=j.useState([]),[i,o]=j.useState("all"),[c,d]=j.useState(!0),[h,m]=j.useState(null);j.useEffect(()=>{(async()=>{try{const N=(await Oe.get("/driver/bookings/client")).data.bookings.data;r(N),a(N)}catch(b){console.error("Error fetching bookings:",b),m("Failed to load bookings"),be.error("Could not load your bookings")}finally{d(!1)}})()},[]),j.useEffect(()=>{a(i==="all"?e:e.filter(_=>_.booking_request_status===i))},[i,e]);const f=_=>{const b={pending:{text:"Pending",icon:s.jsx(mW,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),color:"bg-gradient-to-r from-yellow-100 to-amber-100 text-yellow-800 border-yellow-200 dark:from-yellow-900/30 dark:to-amber-900/30 dark:text-yellow-300 dark:border-yellow-700",badgeClass:"bg-yellow-500"},confirmed:{text:"Confirmed",icon:s.jsx(qn,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),color:"bg-gradient-to-r from-green-100 to-emerald-100 text-green-800 border-green-200 dark:from-green-900/30 dark:to-emerald-900/30 dark:text-green-300 dark:border-green-700",badgeClass:"bg-green-500"},cancelled:{text:"Cancelled",icon:s.jsx(Xn,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),color:"bg-gradient-to-r from-gray-100 to-slate-100 text-gray-800 border-gray-200 dark:from-gray-800/30 dark:to-slate-800/30 dark:text-gray-300 dark:border-gray-700",badgeClass:"bg-gray-500"},rejected:{text:"Rejected",icon:s.jsx(Yl,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),color:"bg-gradient-to-r from-red-100 to-rose-100 text-red-800 border-red-200 dark:from-red-900/30 dark:to-rose-900/30 dark:text-red-300 dark:border-red-700",badgeClass:"bg-red-500"},completed:{text:"Completed",icon:s.jsx(qn,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),color:"bg-gradient-to-r from-blue-100 to-cyan-100 text-blue-800 border-blue-200 dark:from-blue-900/30 dark:to-cyan-900/30 dark:text-blue-300 dark:border-blue-700",badgeClass:"bg-blue-500"}};return b[_]||b.pending},g=(_,b,N)=>{!_||!b||_===0||b===0||window.open(`https://www.google.com/maps?q=${_},${b}`,"_blank")},y=_=>WT(new Date(_),"MMM dd, yyyy"),v=_=>WT(new Date(_),"h:mm a"),w=({car:_})=>{const[b,N]=j.useState(0),k=[_.main_image_url,_.front_image_url,_.back_image_url,_.left_image_url,_.right_image_url].filter(Boolean),S=()=>N(I=>(I+1)%k.length),C=()=>N(I=>(I-1+k.length)%k.length);return k.length?s.jsxs("div",{className:"relative group aspect-[16/10] rounded-t-xl overflow-hidden bg-gray-900",children:[s.jsx("img",{src:`/api/storage/${k[b]}`,alt:"Car",className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),k.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:C,className:"absolute left-2 sm:left-3 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white text-gray-900 p-1.5 sm:p-2 rounded-full opacity-0 group-hover:opacity-100 transition-all duration-300 shadow-lg hover:scale-110 active:scale-95",children:s.jsx(Yo,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),s.jsx("button",{onClick:S,className:"absolute right-2 sm:right-3 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white text-gray-900 p-1.5 sm:p-2 rounded-full opacity-0 group-hover:opacity-100 transition-all duration-300 shadow-lg hover:scale-110 active:scale-95",children:s.jsx(pn,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),s.jsx("div",{className:"absolute bottom-3 sm:bottom-4 left-1/2 -translate-x-1/2 flex gap-1.5 sm:gap-2",children:k.map((I,E)=>s.jsx("button",{onClick:()=>N(E),className:`transition-all duration-300 rounded-full ${E===b?"bg-white w-6 sm:w-8 h-1.5 sm:h-2":"bg-white/60 hover:bg-white/80 w-1.5 sm:w-2 h-1.5 sm:h-2"}`},E))})]})]}):s.jsx("div",{className:"aspect-[16/10] bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900 border-2 border-dashed rounded-t-xl flex items-center justify-center",children:s.jsx(Gt,{className:"w-12 h-12 sm:w-16 sm:h-16 text-gray-400"})})};return c?s.jsx("div",{className:"min-h-screen pt-16 sm:pt-20 flex items-center justify-center bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-900 dark:via-gray-900 dark:to-gray-800 px-4",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsxs("div",{className:"relative w-16 h-16 sm:w-20 sm:h-20 mx-auto",children:[s.jsx("div",{className:"absolute inset-0 border-4 border-teal-200 dark:border-teal-900 rounded-full"}),s.jsx("div",{className:"absolute inset-0 border-4 border-teal-600 border-t-transparent rounded-full animate-spin"})]}),s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground font-medium",children:"Loading your bookings..."})]})}):h?s.jsx("div",{className:"min-h-screen pt-16 sm:pt-20 bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-900 dark:via-gray-900 dark:to-gray-800 px-4",children:s.jsx("div",{className:"container mx-auto py-8 sm:py-12 max-w-2xl",children:s.jsxs(Ue,{className:"p-8 sm:p-12 text-center border-2 shadow-xl",children:[s.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6",children:s.jsx(Yl,{className:"w-8 h-8 sm:w-10 sm:h-10 text-red-600 dark:text-red-400"})}),s.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-3",children:"Oops! Something went wrong"}),s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mb-6 sm:mb-8",children:h}),s.jsx(pe,{onClick:()=>window.location.reload(),size:"lg",className:"bg-teal-600 hover:bg-teal-700 w-full sm:w-auto",children:"Try Again"})]})})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-900 dark:via-gray-900 dark:to-gray-800 pt-16 sm:pt-20",children:s.jsxs("div",{className:"container mx-auto px-3 sm:px-4 py-4 sm:py-8 max-w-7xl",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 sm:gap-4 mb-6 sm:mb-8",children:[s.jsxs(pe,{variant:"ghost",onClick:()=>t(-1),className:"hover:bg-teal-50 dark:hover:bg-teal-900/20 transition-colors -ml-2 sm:ml-0 h-9 sm:h-10 px-2 sm:px-4",size:"sm",children:[s.jsx(zi,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-1 sm:mr-2"}),s.jsx("span",{className:"text-sm sm:text-base",children:"Back"})]}),s.jsxs("div",{className:"text-left sm:text-center flex-1 w-full sm:w-auto",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent mb-1 sm:mb-2",children:"My Bookings"}),s.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground",children:[e.length," ",e.length===1?"booking":"bookings"," total"]})]}),s.jsx("div",{className:"hidden sm:block w-[100px]"})," "]}),s.jsx("div",{className:"mb-6 sm:mb-8 -mx-3 sm:mx-0 px-3 sm:px-0 overflow-x-auto scrollbar-hide",children:s.jsx(Uo,{value:i,onValueChange:o,children:s.jsxs(Ki,{className:"inline-flex sm:grid w-auto sm:w-full min-w-full sm:max-w-3xl sm:mx-auto grid-cols-6 h-11 sm:h-14 bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm border shadow-lg gap-0.5 sm:gap-1 p-1",children:[s.jsx($t,{value:"all",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-teal-500 data-[state=active]:to-cyan-500 data-[state=active]:text-white font-medium text-xs sm:text-sm px-2 sm:px-4 whitespace-nowrap",children:"All"}),s.jsxs($t,{value:"confirmed",className:"data-[state=active]:bg-green-500 data-[state=active]:text-white font-medium text-xs sm:text-sm px-2 sm:px-4 whitespace-nowrap",children:[s.jsx("span",{className:"hidden sm:inline",children:"Confirmed"}),s.jsx("span",{className:"sm:hidden",children:"Confirm"})]}),s.jsx($t,{value:"pending",className:"data-[state=active]:bg-yellow-500 data-[state=active]:text-white font-medium text-xs sm:text-sm px-2 sm:px-4 whitespace-nowrap",children:"Pending"}),s.jsxs($t,{value:"cancelled",className:"data-[state=active]:bg-gray-500 data-[state=active]:text-white font-medium text-xs sm:text-sm px-2 sm:px-4 whitespace-nowrap",children:[s.jsx("span",{className:"hidden sm:inline",children:"Cancelled"}),s.jsx("span",{className:"sm:hidden",children:"Cancel"})]}),s.jsx($t,{value:"rejected",className:"data-[state=active]:bg-red-500 data-[state=active]:text-white font-medium text-xs sm:text-sm px-2 sm:px-4 whitespace-nowrap",children:"Rejected"}),s.jsxs($t,{value:"completed",className:"data-[state=active]:bg-blue-500 data-[state=active]:text-white font-medium text-xs sm:text-sm px-2 sm:px-4 whitespace-nowrap",children:[s.jsx("span",{className:"hidden sm:inline",children:"Completed"}),s.jsx("span",{className:"sm:hidden",children:"Done"})]})]})})}),n.length===0?s.jsxs(Ue,{className:"p-8 sm:p-16 text-center max-w-2xl mx-auto border-2 shadow-xl bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm",children:[s.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 bg-gradient-to-br from-teal-100 to-cyan-100 dark:from-teal-900/30 dark:to-cyan-900/30 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6",children:s.jsx(Gt,{className:"w-10 h-10 sm:w-12 sm:h-12 text-teal-600 dark:text-teal-400"})}),s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-3 sm:mb-4",children:i==="all"?"No Bookings Yet":`No ${i.charAt(0).toUpperCase()+i.slice(1)} Bookings`}),s.jsx("p",{className:"text-sm sm:text-base lg:text-lg text-muted-foreground mb-6 sm:mb-8",children:i==="all"?"Ready to hit the road? Browse our amazing fleet!":"You have no bookings in this category."}),i==="all"&&s.jsx(pe,{onClick:()=>t("/cars"),size:"lg",className:"bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white shadow-lg w-full sm:w-auto",children:"Browse Cars"})]}):s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-2 gap-4 sm:gap-6",children:n.map(_=>{const b=f(_.booking_request_status),N=Vee(new Date(_.end_datetime),new Date(_.start_datetime))+1,k=_.pickup_location||_.car.delivery_location||{},S=_.dropoff_location||_.car.return_location||{},C=k.address||"To be confirmed",I=k.latitude,E=k.longitude,U=S.address||"To be confirmed",T=S.latitude,ne=S.longitude,q=parseFloat(_.car.deposit||0),F=q>0,Y=I&&E&&I!==0&&E!==0,O=T&&ne&&T!==0&&ne!==0;return s.jsxs(Ue,{className:"overflow-hidden hover:shadow-2xl transition-all duration-500 flex flex-col h-full border-2 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm hover:-translate-y-1 group",children:[s.jsxs("div",{className:"relative",children:[s.jsx(w,{car:_.car}),s.jsx("div",{className:"absolute top-2 sm:top-4 right-2 sm:right-4 z-10",children:s.jsxs(We,{className:`${b.color} shadow-xl font-semibold px-2 py-1 sm:px-3 sm:py-1.5 border backdrop-blur-sm text-xs sm:text-sm`,children:[b.icon," ",s.jsx("span",{className:"ml-1",children:b.text})]})}),_.payment_status==="pending"&&s.jsxs(We,{className:"absolute top-2 sm:top-4 left-2 sm:left-4 bg-orange-500 text-white shadow-xl border-0 backdrop-blur-sm px-2 py-1 sm:px-3 sm:py-1.5 font-semibold text-xs sm:text-sm",children:[s.jsx(or,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 mr-1"}),s.jsx("span",{className:"hidden xs:inline",children:"Payment Due"}),s.jsx("span",{className:"xs:hidden",children:"Due"})]}),s.jsxs("div",{className:"absolute bottom-2 sm:bottom-4 left-2 sm:left-4 bg-black/70 backdrop-blur-md text-white px-3 py-1.5 sm:px-4 sm:py-2 rounded-full text-xs sm:text-sm font-semibold shadow-lg flex items-center gap-1.5 sm:gap-2",children:[s.jsx(ch,{className:"w-3 h-3 sm:w-4 sm:h-4"}),N," day",N>1?"s":""]})]}),s.jsxs(gs,{className:"pb-3 sm:pb-4 pt-4 sm:pt-6 px-4 sm:px-6",children:[s.jsxs(xs,{className:"text-lg sm:text-xl lg:text-2xl font-bold flex items-start sm:items-center justify-between gap-2 flex-col xs:flex-row",children:[s.jsxs("span",{className:"truncate",children:[_.car.make," ",_.car.model]}),s.jsx(We,{variant:"outline",className:"font-mono text-xs shrink-0 self-start xs:self-auto",children:_.car.year})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 text-xs sm:text-sm text-muted-foreground pt-2",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Fi,{className:"w-3 h-3 sm:w-4 sm:h-4"}),s.jsx("span",{className:"truncate",children:_.car.car_category})]}),s.jsx(ad,{orientation:"vertical",className:"h-3 sm:h-4"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ks,{className:"w-3 h-3 sm:w-4 sm:h-4"}),_.car.seats]})]})]}),s.jsxs(qe,{className:"flex-1 space-y-4 sm:space-y-6 pt-0 px-4 sm:px-6 pb-4 sm:pb-6",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:gap-4",children:[s.jsxs("div",{className:"relative pl-5 sm:pl-6 pb-4 sm:pb-6 border-l-2 border-teal-200 dark:border-teal-800",children:[s.jsx("div",{className:"absolute -left-1.5 sm:-left-2 top-0 w-3 h-3 sm:w-4 sm:h-4 rounded-full bg-teal-500 ring-2 sm:ring-4 ring-teal-100 dark:ring-teal-900"}),s.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 font-semibold text-xs sm:text-sm text-teal-700 dark:text-teal-400",children:[s.jsx(Hs,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Pickup"]}),s.jsx("p",{className:"text-xs sm:text-sm font-medium",children:y(_.start_datetime)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:v(_.start_datetime)}),s.jsxs("button",{onClick:()=>g(I,E),disabled:!Y,className:`flex items-start gap-1.5 sm:gap-2 text-xs transition-all mt-1.5 sm:mt-2 group/btn ${Y?"text-gray-700 dark:text-gray-300 hover:text-teal-600 dark:hover:text-teal-400 active:text-teal-700":"text-gray-400 cursor-not-allowed"}`,children:[s.jsx(Ps,{className:"w-3 h-3 sm:w-4 sm:h-4 mt-0.5 flex-shrink-0"}),s.jsx("span",{className:"flex-1 text-left line-clamp-2",children:C}),Y&&s.jsx(Ix,{className:"w-3 h-3 opacity-60 group-hover/btn:opacity-100 transition-opacity flex-shrink-0 mt-0.5"})]})]})]}),s.jsxs("div",{className:"relative pl-5 sm:pl-6",children:[s.jsx("div",{className:"absolute -left-1.5 sm:-left-2 top-0 w-3 h-3 sm:w-4 sm:h-4 rounded-full bg-cyan-500 ring-2 sm:ring-4 ring-cyan-100 dark:ring-cyan-900"}),s.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 font-semibold text-xs sm:text-sm text-cyan-700 dark:text-cyan-400",children:[s.jsx(Hs,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Return"]}),s.jsx("p",{className:"text-xs sm:text-sm font-medium",children:y(_.end_datetime)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:v(_.end_datetime)}),s.jsxs("button",{onClick:()=>g(T,ne),disabled:!O,className:`flex items-start gap-1.5 sm:gap-2 text-xs transition-all mt-1.5 sm:mt-2 group/btn ${O?"text-gray-700 dark:text-gray-300 hover:text-cyan-600 dark:hover:text-cyan-400 active:text-cyan-700":"text-gray-400 cursor-not-allowed"}`,children:[s.jsx(Ps,{className:"w-3 h-3 sm:w-4 sm:h-4 mt-0.5 flex-shrink-0"}),s.jsx("span",{className:"flex-1 text-left line-clamp-2",children:U}),O&&s.jsx(Ix,{className:"w-3 h-3 opacity-60 group-hover/btn:opacity-100 transition-opacity flex-shrink-0 mt-0.5"})]})]})]})]}),_.reason_of_booking&&s.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800/50 dark:to-gray-700/50 rounded-lg p-3 sm:p-4 border",children:s.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[s.jsx(rr,{className:"w-3 h-3 sm:w-4 sm:h-4 text-amber-500 mt-0.5 flex-shrink-0"}),s.jsxs("p",{className:"text-xs sm:text-sm text-gray-700 dark:text-gray-300 italic leading-relaxed",children:['"',_.reason_of_booking,'"']})]})}),s.jsx(ad,{}),s.jsxs("div",{className:`rounded-xl p-3 sm:p-4 border-2 transition-all ${F?"bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200 dark:from-amber-900/20 dark:to-orange-900/20 dark:border-amber-700":"bg-gradient-to-br from-green-50 to-emerald-50 border-green-200 dark:from-green-900/20 dark:to-emerald-900/20 dark:border-green-700"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-1.5 sm:mb-2",children:[s.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[s.jsx("div",{className:`p-1 sm:p-1.5 rounded-lg ${F?"bg-amber-200 dark:bg-amber-800":"bg-green-200 dark:bg-green-800"}`,children:s.jsx(kG,{className:`w-4 h-4 sm:w-5 sm:h-5 ${F?"text-amber-700 dark:text-amber-300":"text-green-700 dark:text-green-300"}`})}),s.jsx("span",{className:`text-xs sm:text-sm font-semibold ${F?"text-amber-900 dark:text-amber-200":"text-green-900 dark:text-green-200"}`,children:"Deposit"})]}),s.jsx("span",{className:`text-base sm:text-lg font-bold ${F?"text-amber-900 dark:text-amber-200":"text-green-900 dark:text-green-200"}`,children:F?`$${q.toFixed(2)}`:"$0.00"})]}),s.jsx("p",{className:`text-xs ${F?"text-amber-700 dark:text-amber-400":"text-green-700 dark:text-green-400"}`,children:F?"Refundable upon safe return":"No deposit required"})]}),s.jsxs("div",{className:"flex items-end justify-between pt-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase tracking-wide mb-0.5 sm:mb-1 text-muted-foreground",children:"Total"}),s.jsxs("p",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent",children:["$",parseFloat(_.total_booking_price).toFixed(2)]})]}),s.jsxs(pe,{size:"default",onClick:()=>t(`/booking/${_.id}`),className:"bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white shadow-lg hover:shadow-xl transition-all group h-10 sm:h-11 px-4 sm:px-6 text-sm sm:text-base",children:[s.jsx("span",{className:"hidden xs:inline",children:"View Details"}),s.jsx("span",{className:"xs:hidden",children:"Details"}),s.jsx(pn,{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform"})]})]})]})]},_.id)})})]})})};var Hte=Object.defineProperty,qte=Object.defineProperties,Wte=Object.getOwnPropertyDescriptors,GT=Object.getOwnPropertySymbols,Gte=Object.prototype.hasOwnProperty,Yte=Object.prototype.propertyIsEnumerable,__=(t,e,r)=>e in t?Hte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ys=(t,e)=>{for(var r in e||(e={}))Gte.call(e,r)&&__(t,r,e[r]);if(GT)for(var r of GT(e))Yte.call(e,r)&&__(t,r,e[r]);return t},Wu=(t,e)=>qte(t,Wte(e)),tt=(t,e,r)=>__(t,typeof e!="symbol"?e+"":e,r),Kte=(t,e,r)=>new Promise((n,a)=>{var i=d=>{try{c(r.next(d))}catch(h){a(h)}},o=d=>{try{c(r.throw(d))}catch(h){a(h)}},c=d=>d.done?n(d.value):Promise.resolve(d.value).then(i,o);c((r=r.apply(t,e)).next())});class s0{constructor(e){tt(this,"rootKey"),this.rootKey=e}}const Xte=Object.seal({});class nt extends s0{constructor(e){super(e),tt(this,"root"),this.root=new Array}prepForXml(e){var r;e.stack.push(this);const n=this.root.map(a=>a instanceof s0?a.prepForXml(e):a).filter(a=>a!==void 0);return e.stack.pop(),{[this.rootKey]:n.length?n.length===1&&((r=n[0])!=null&&r._attr)?n[0]:n:Xte}}addChildElement(e){return this.root.push(e),this}}class ty extends nt{prepForXml(e){const r=super.prepForXml(e);if(r&&(typeof r[this.rootKey]!="object"||Object.keys(r[this.rootKey]).length))return r}}class Vt extends s0{constructor(e){super("_attr"),tt(this,"xmlKeys"),this.root=e}prepForXml(e){const r={};return Object.entries(this.root).forEach(([n,a])=>{if(a!==void 0){const i=this.xmlKeys&&this.xmlKeys[n]||n;r[i]=a}}),{_attr:r}}}class sy extends s0{constructor(e){super("_attr"),this.root=e}prepForXml(e){return{_attr:Object.values(this.root).filter(({value:n})=>n!==void 0).reduce((n,{key:a,value:i})=>Wu(ys({},n),{[a]:i}),{})}}}class kr extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var Ii=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function v8(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var dw={},Rg={exports:{}},YT;function i2(){if(YT)return Rg.exports;YT=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(C,I,E){return Function.prototype.apply.call(C,I,E)},r;t&&typeof t.ownKeys=="function"?r=t.ownKeys:Object.getOwnPropertySymbols?r=function(C){return Object.getOwnPropertyNames(C).concat(Object.getOwnPropertySymbols(C))}:r=function(C){return Object.getOwnPropertyNames(C)};function n(S){console&&console.warn&&console.warn(S)}var a=Number.isNaN||function(C){return C!==C};function i(){i.init.call(this)}Rg.exports=i,Rg.exports.once=b,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var o=10;function c(S){if(typeof S!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof S)}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(S){if(typeof S!="number"||S<0||a(S))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+S+".");o=S}}),i.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(C){if(typeof C!="number"||C<0||a(C))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+C+".");return this._maxListeners=C,this};function d(S){return S._maxListeners===void 0?i.defaultMaxListeners:S._maxListeners}i.prototype.getMaxListeners=function(){return d(this)},i.prototype.emit=function(C){for(var I=[],E=1;E<arguments.length;E++)I.push(arguments[E]);var U=C==="error",T=this._events;if(T!==void 0)U=U&&T.error===void 0;else if(!U)return!1;if(U){var ne;if(I.length>0&&(ne=I[0]),ne instanceof Error)throw ne;var q=new Error("Unhandled error."+(ne?" ("+ne.message+")":""));throw q.context=ne,q}var F=T[C];if(F===void 0)return!1;if(typeof F=="function")e(F,this,I);else for(var Y=F.length,O=v(F,Y),E=0;E<Y;++E)e(O[E],this,I);return!0};function h(S,C,I,E){var U,T,ne;if(c(I),T=S._events,T===void 0?(T=S._events=Object.create(null),S._eventsCount=0):(T.newListener!==void 0&&(S.emit("newListener",C,I.listener?I.listener:I),T=S._events),ne=T[C]),ne===void 0)ne=T[C]=I,++S._eventsCount;else if(typeof ne=="function"?ne=T[C]=E?[I,ne]:[ne,I]:E?ne.unshift(I):ne.push(I),U=d(S),U>0&&ne.length>U&&!ne.warned){ne.warned=!0;var q=new Error("Possible EventEmitter memory leak detected. "+ne.length+" "+String(C)+" listeners added. Use emitter.setMaxListeners() to increase limit");q.name="MaxListenersExceededWarning",q.emitter=S,q.type=C,q.count=ne.length,n(q)}return S}i.prototype.addListener=function(C,I){return h(this,C,I,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(C,I){return h(this,C,I,!0)};function m(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(S,C,I){var E={fired:!1,wrapFn:void 0,target:S,type:C,listener:I},U=m.bind(E);return U.listener=I,E.wrapFn=U,U}i.prototype.once=function(C,I){return c(I),this.on(C,f(this,C,I)),this},i.prototype.prependOnceListener=function(C,I){return c(I),this.prependListener(C,f(this,C,I)),this},i.prototype.removeListener=function(C,I){var E,U,T,ne,q;if(c(I),U=this._events,U===void 0)return this;if(E=U[C],E===void 0)return this;if(E===I||E.listener===I)--this._eventsCount===0?this._events=Object.create(null):(delete U[C],U.removeListener&&this.emit("removeListener",C,E.listener||I));else if(typeof E!="function"){for(T=-1,ne=E.length-1;ne>=0;ne--)if(E[ne]===I||E[ne].listener===I){q=E[ne].listener,T=ne;break}if(T<0)return this;T===0?E.shift():w(E,T),E.length===1&&(U[C]=E[0]),U.removeListener!==void 0&&this.emit("removeListener",C,q||I)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(C){var I,E,U;if(E=this._events,E===void 0)return this;if(E.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):E[C]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete E[C]),this;if(arguments.length===0){var T=Object.keys(E),ne;for(U=0;U<T.length;++U)ne=T[U],ne!=="removeListener"&&this.removeAllListeners(ne);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(I=E[C],typeof I=="function")this.removeListener(C,I);else if(I!==void 0)for(U=I.length-1;U>=0;U--)this.removeListener(C,I[U]);return this};function g(S,C,I){var E=S._events;if(E===void 0)return[];var U=E[C];return U===void 0?[]:typeof U=="function"?I?[U.listener||U]:[U]:I?_(U):v(U,U.length)}i.prototype.listeners=function(C){return g(this,C,!0)},i.prototype.rawListeners=function(C){return g(this,C,!1)},i.listenerCount=function(S,C){return typeof S.listenerCount=="function"?S.listenerCount(C):y.call(S,C)},i.prototype.listenerCount=y;function y(S){var C=this._events;if(C!==void 0){var I=C[S];if(typeof I=="function")return 1;if(I!==void 0)return I.length}return 0}i.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function v(S,C){for(var I=new Array(C),E=0;E<C;++E)I[E]=S[E];return I}function w(S,C){for(;C+1<S.length;C++)S[C]=S[C+1];S.pop()}function _(S){for(var C=new Array(S.length),I=0;I<C.length;++I)C[I]=S[I].listener||S[I];return C}function b(S,C){return new Promise(function(I,E){function U(ne){S.removeListener(C,T),E(ne)}function T(){typeof S.removeListener=="function"&&S.removeListener("error",U),I([].slice.call(arguments))}k(S,C,T,{once:!0}),C!=="error"&&N(S,U,{once:!0})})}function N(S,C,I){typeof S.on=="function"&&k(S,"error",C,I)}function k(S,C,I,E){if(typeof S.on=="function")E.once?S.once(C,I):S.on(C,I);else if(typeof S.addEventListener=="function")S.addEventListener(C,function U(T){E.once&&S.removeEventListener(C,U),I(T)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof S)}return Rg.exports}var Dg={exports:{}},KT;function oc(){return KT||(KT=1,typeof Object.create=="function"?Dg.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Dg.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}),Dg.exports}function Zte(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var w8={exports:{}},Cr=w8.exports={},Di,Mi;function N_(){throw new Error("setTimeout has not been defined")}function S_(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Di=setTimeout:Di=N_}catch{Di=N_}try{typeof clearTimeout=="function"?Mi=clearTimeout:Mi=S_}catch{Mi=S_}})();function j8(t){if(Di===setTimeout)return setTimeout(t,0);if((Di===N_||!Di)&&setTimeout)return Di=setTimeout,setTimeout(t,0);try{return Di(t,0)}catch{try{return Di.call(null,t,0)}catch{return Di.call(this,t,0)}}}function Qte(t){if(Mi===clearTimeout)return clearTimeout(t);if((Mi===S_||!Mi)&&clearTimeout)return Mi=clearTimeout,clearTimeout(t);try{return Mi(t)}catch{try{return Mi.call(null,t)}catch{return Mi.call(this,t)}}}var Do=[],Fu=!1,id,wx=-1;function Jte(){!Fu||!id||(Fu=!1,id.length?Do=id.concat(Do):wx=-1,Do.length&&_8())}function _8(){if(!Fu){var t=j8(Jte);Fu=!0;for(var e=Do.length;e;){for(id=Do,Do=[];++wx<e;)id&&id[wx].run();wx=-1,e=Do.length}id=null,Fu=!1,Qte(t)}}Cr.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Do.push(new N8(t,e)),Do.length===1&&!Fu&&j8(_8)};function N8(t,e){this.fun=t,this.array=e}N8.prototype.run=function(){this.fun.apply(null,this.array)};Cr.title="browser";Cr.browser=!0;Cr.env={};Cr.argv=[];Cr.version="";Cr.versions={};function Ko(){}Cr.on=Ko;Cr.addListener=Ko;Cr.once=Ko;Cr.off=Ko;Cr.removeListener=Ko;Cr.removeAllListeners=Ko;Cr.emit=Ko;Cr.prependListener=Ko;Cr.prependOnceListener=Ko;Cr.listeners=function(t){return[]};Cr.binding=function(t){throw new Error("process.binding is not supported")};Cr.cwd=function(){return"/"};Cr.chdir=function(t){throw new Error("process.chdir is not supported")};Cr.umask=function(){return 0};var ese=w8.exports;const ss=Zte(ese);var uw,XT;function S8(){return XT||(XT=1,uw=i2().EventEmitter),uw}var hw={},kf={},ZT;function tse(){if(ZT)return kf;ZT=1,kf.byteLength=c,kf.toByteArray=h,kf.fromByteArray=g;for(var t=[],e=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,i=n.length;a<i;++a)t[a]=n[a],e[n.charCodeAt(a)]=a;e[45]=62,e[95]=63;function o(y){var v=y.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var w=y.indexOf("=");w===-1&&(w=v);var _=w===v?0:4-w%4;return[w,_]}function c(y){var v=o(y),w=v[0],_=v[1];return(w+_)*3/4-_}function d(y,v,w){return(v+w)*3/4-w}function h(y){var v,w=o(y),_=w[0],b=w[1],N=new r(d(y,_,b)),k=0,S=b>0?_-4:_,C;for(C=0;C<S;C+=4)v=e[y.charCodeAt(C)]<<18|e[y.charCodeAt(C+1)]<<12|e[y.charCodeAt(C+2)]<<6|e[y.charCodeAt(C+3)],N[k++]=v>>16&255,N[k++]=v>>8&255,N[k++]=v&255;return b===2&&(v=e[y.charCodeAt(C)]<<2|e[y.charCodeAt(C+1)]>>4,N[k++]=v&255),b===1&&(v=e[y.charCodeAt(C)]<<10|e[y.charCodeAt(C+1)]<<4|e[y.charCodeAt(C+2)]>>2,N[k++]=v>>8&255,N[k++]=v&255),N}function m(y){return t[y>>18&63]+t[y>>12&63]+t[y>>6&63]+t[y&63]}function f(y,v,w){for(var _,b=[],N=v;N<w;N+=3)_=(y[N]<<16&16711680)+(y[N+1]<<8&65280)+(y[N+2]&255),b.push(m(_));return b.join("")}function g(y){for(var v,w=y.length,_=w%3,b=[],N=16383,k=0,S=w-_;k<S;k+=N)b.push(f(y,k,k+N>S?S:k+N));return _===1?(v=y[w-1],b.push(t[v>>2]+t[v<<4&63]+"==")):_===2&&(v=(y[w-2]<<8)+y[w-1],b.push(t[v>>10]+t[v>>4&63]+t[v<<2&63]+"=")),b.join("")}return kf}var Mg={};var QT;function sse(){return QT||(QT=1,Mg.read=function(t,e,r,n,a){var i,o,c=a*8-n-1,d=(1<<c)-1,h=d>>1,m=-7,f=r?a-1:0,g=r?-1:1,y=t[e+f];for(f+=g,i=y&(1<<-m)-1,y>>=-m,m+=c;m>0;i=i*256+t[e+f],f+=g,m-=8);for(o=i&(1<<-m)-1,i>>=-m,m+=n;m>0;o=o*256+t[e+f],f+=g,m-=8);if(i===0)i=1-h;else{if(i===d)return o?NaN:(y?-1:1)*(1/0);o=o+Math.pow(2,n),i=i-h}return(y?-1:1)*o*Math.pow(2,i-n)},Mg.write=function(t,e,r,n,a,i){var o,c,d,h=i*8-a-1,m=(1<<h)-1,f=m>>1,g=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=n?0:i-1,v=n?1:-1,w=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,o=m):(o=Math.floor(Math.log(e)/Math.LN2),e*(d=Math.pow(2,-o))<1&&(o--,d*=2),o+f>=1?e+=g/d:e+=g*Math.pow(2,1-f),e*d>=2&&(o++,d/=2),o+f>=m?(c=0,o=m):o+f>=1?(c=(e*d-1)*Math.pow(2,a),o=o+f):(c=e*Math.pow(2,f-1)*Math.pow(2,a),o=0));a>=8;t[r+y]=c&255,y+=v,c/=256,a-=8);for(o=o<<a|c,h+=a;h>0;t[r+y]=o&255,y+=v,o/=256,h-=8);t[r+y-v]|=w*128}),Mg}var JT;function ry(){return JT||(JT=1,(function(t){var e=tse(),r=sse(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=N,t.INSPECT_MAX_BYTES=50;var a=2147483647;t.kMaxLength=a,c.TYPED_ARRAY_SUPPORT=i(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{var Q=new Uint8Array(1),R={foo:function(){return 42}};return Object.setPrototypeOf(R,Uint8Array.prototype),Object.setPrototypeOf(Q,R),Q.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}});function o(Q){if(Q>a)throw new RangeError('The value "'+Q+'" is invalid for option "size"');var R=new Uint8Array(Q);return Object.setPrototypeOf(R,c.prototype),R}function c(Q,R,P){if(typeof Q=="number"){if(typeof R=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(Q)}return d(Q,R,P)}c.poolSize=8192;function d(Q,R,P){if(typeof Q=="string")return g(Q,R);if(ArrayBuffer.isView(Q))return v(Q);if(Q==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Q);if(ke(Q,ArrayBuffer)||Q&&ke(Q.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(ke(Q,SharedArrayBuffer)||Q&&ke(Q.buffer,SharedArrayBuffer)))return w(Q,R,P);if(typeof Q=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var G=Q.valueOf&&Q.valueOf();if(G!=null&&G!==Q)return c.from(G,R,P);var ye=_(Q);if(ye)return ye;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof Q[Symbol.toPrimitive]=="function")return c.from(Q[Symbol.toPrimitive]("string"),R,P);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof Q)}c.from=function(Q,R,P){return d(Q,R,P)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function h(Q){if(typeof Q!="number")throw new TypeError('"size" argument must be of type number');if(Q<0)throw new RangeError('The value "'+Q+'" is invalid for option "size"')}function m(Q,R,P){return h(Q),Q<=0?o(Q):R!==void 0?typeof P=="string"?o(Q).fill(R,P):o(Q).fill(R):o(Q)}c.alloc=function(Q,R,P){return m(Q,R,P)};function f(Q){return h(Q),o(Q<0?0:b(Q)|0)}c.allocUnsafe=function(Q){return f(Q)},c.allocUnsafeSlow=function(Q){return f(Q)};function g(Q,R){if((typeof R!="string"||R==="")&&(R="utf8"),!c.isEncoding(R))throw new TypeError("Unknown encoding: "+R);var P=k(Q,R)|0,G=o(P),ye=G.write(Q,R);return ye!==P&&(G=G.slice(0,ye)),G}function y(Q){for(var R=Q.length<0?0:b(Q.length)|0,P=o(R),G=0;G<R;G+=1)P[G]=Q[G]&255;return P}function v(Q){if(ke(Q,Uint8Array)){var R=new Uint8Array(Q);return w(R.buffer,R.byteOffset,R.byteLength)}return y(Q)}function w(Q,R,P){if(R<0||Q.byteLength<R)throw new RangeError('"offset" is outside of buffer bounds');if(Q.byteLength<R+(P||0))throw new RangeError('"length" is outside of buffer bounds');var G;return R===void 0&&P===void 0?G=new Uint8Array(Q):P===void 0?G=new Uint8Array(Q,R):G=new Uint8Array(Q,R,P),Object.setPrototypeOf(G,c.prototype),G}function _(Q){if(c.isBuffer(Q)){var R=b(Q.length)|0,P=o(R);return P.length===0||Q.copy(P,0,0,R),P}if(Q.length!==void 0)return typeof Q.length!="number"||L(Q.length)?o(0):y(Q);if(Q.type==="Buffer"&&Array.isArray(Q.data))return y(Q.data)}function b(Q){if(Q>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return Q|0}function N(Q){return+Q!=Q&&(Q=0),c.alloc(+Q)}c.isBuffer=function(R){return R!=null&&R._isBuffer===!0&&R!==c.prototype},c.compare=function(R,P){if(ke(R,Uint8Array)&&(R=c.from(R,R.offset,R.byteLength)),ke(P,Uint8Array)&&(P=c.from(P,P.offset,P.byteLength)),!c.isBuffer(R)||!c.isBuffer(P))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(R===P)return 0;for(var G=R.length,ye=P.length,ce=0,ue=Math.min(G,ye);ce<ue;++ce)if(R[ce]!==P[ce]){G=R[ce],ye=P[ce];break}return G<ye?-1:ye<G?1:0},c.isEncoding=function(R){switch(String(R).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(R,P){if(!Array.isArray(R))throw new TypeError('"list" argument must be an Array of Buffers');if(R.length===0)return c.alloc(0);var G;if(P===void 0)for(P=0,G=0;G<R.length;++G)P+=R[G].length;var ye=c.allocUnsafe(P),ce=0;for(G=0;G<R.length;++G){var ue=R[G];if(ke(ue,Uint8Array))ce+ue.length>ye.length?c.from(ue).copy(ye,ce):Uint8Array.prototype.set.call(ye,ue,ce);else if(c.isBuffer(ue))ue.copy(ye,ce);else throw new TypeError('"list" argument must be an Array of Buffers');ce+=ue.length}return ye};function k(Q,R){if(c.isBuffer(Q))return Q.length;if(ArrayBuffer.isView(Q)||ke(Q,ArrayBuffer))return Q.byteLength;if(typeof Q!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof Q);var P=Q.length,G=arguments.length>2&&arguments[2]===!0;if(!G&&P===0)return 0;for(var ye=!1;;)switch(R){case"ascii":case"latin1":case"binary":return P;case"utf8":case"utf-8":return H(Q).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P*2;case"hex":return P>>>1;case"base64":return ee(Q).length;default:if(ye)return G?-1:H(Q).length;R=(""+R).toLowerCase(),ye=!0}}c.byteLength=k;function S(Q,R,P){var G=!1;if((R===void 0||R<0)&&(R=0),R>this.length||((P===void 0||P>this.length)&&(P=this.length),P<=0)||(P>>>=0,R>>>=0,P<=R))return"";for(Q||(Q="utf8");;)switch(Q){case"hex":return z(this,R,P);case"utf8":case"utf-8":return O(this,R,P);case"ascii":return M(this,R,P);case"latin1":case"binary":return K(this,R,P);case"base64":return Y(this,R,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return he(this,R,P);default:if(G)throw new TypeError("Unknown encoding: "+Q);Q=(Q+"").toLowerCase(),G=!0}}c.prototype._isBuffer=!0;function C(Q,R,P){var G=Q[R];Q[R]=Q[P],Q[P]=G}c.prototype.swap16=function(){var R=this.length;if(R%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var P=0;P<R;P+=2)C(this,P,P+1);return this},c.prototype.swap32=function(){var R=this.length;if(R%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var P=0;P<R;P+=4)C(this,P,P+3),C(this,P+1,P+2);return this},c.prototype.swap64=function(){var R=this.length;if(R%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var P=0;P<R;P+=8)C(this,P,P+7),C(this,P+1,P+6),C(this,P+2,P+5),C(this,P+3,P+4);return this},c.prototype.toString=function(){var R=this.length;return R===0?"":arguments.length===0?O(this,0,R):S.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(R){if(!c.isBuffer(R))throw new TypeError("Argument must be a Buffer");return this===R?!0:c.compare(this,R)===0},c.prototype.inspect=function(){var R="",P=t.INSPECT_MAX_BYTES;return R=this.toString("hex",0,P).replace(/(.{2})/g,"$1 ").trim(),this.length>P&&(R+=" ... "),"<Buffer "+R+">"},n&&(c.prototype[n]=c.prototype.inspect),c.prototype.compare=function(R,P,G,ye,ce){if(ke(R,Uint8Array)&&(R=c.from(R,R.offset,R.byteLength)),!c.isBuffer(R))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof R);if(P===void 0&&(P=0),G===void 0&&(G=R?R.length:0),ye===void 0&&(ye=0),ce===void 0&&(ce=this.length),P<0||G>R.length||ye<0||ce>this.length)throw new RangeError("out of range index");if(ye>=ce&&P>=G)return 0;if(ye>=ce)return-1;if(P>=G)return 1;if(P>>>=0,G>>>=0,ye>>>=0,ce>>>=0,this===R)return 0;for(var ue=ce-ye,De=G-P,je=Math.min(ue,De),Ae=this.slice(ye,ce),Be=R.slice(P,G),et=0;et<je;++et)if(Ae[et]!==Be[et]){ue=Ae[et],De=Be[et];break}return ue<De?-1:De<ue?1:0};function I(Q,R,P,G,ye){if(Q.length===0)return-1;if(typeof P=="string"?(G=P,P=0):P>2147483647?P=2147483647:P<-2147483648&&(P=-2147483648),P=+P,L(P)&&(P=ye?0:Q.length-1),P<0&&(P=Q.length+P),P>=Q.length){if(ye)return-1;P=Q.length-1}else if(P<0)if(ye)P=0;else return-1;if(typeof R=="string"&&(R=c.from(R,G)),c.isBuffer(R))return R.length===0?-1:E(Q,R,P,G,ye);if(typeof R=="number")return R=R&255,typeof Uint8Array.prototype.indexOf=="function"?ye?Uint8Array.prototype.indexOf.call(Q,R,P):Uint8Array.prototype.lastIndexOf.call(Q,R,P):E(Q,[R],P,G,ye);throw new TypeError("val must be string, number or Buffer")}function E(Q,R,P,G,ye){var ce=1,ue=Q.length,De=R.length;if(G!==void 0&&(G=String(G).toLowerCase(),G==="ucs2"||G==="ucs-2"||G==="utf16le"||G==="utf-16le")){if(Q.length<2||R.length<2)return-1;ce=2,ue/=2,De/=2,P/=2}function je(gt,_t){return ce===1?gt[_t]:gt.readUInt16BE(_t*ce)}var Ae;if(ye){var Be=-1;for(Ae=P;Ae<ue;Ae++)if(je(Q,Ae)===je(R,Be===-1?0:Ae-Be)){if(Be===-1&&(Be=Ae),Ae-Be+1===De)return Be*ce}else Be!==-1&&(Ae-=Ae-Be),Be=-1}else for(P+De>ue&&(P=ue-De),Ae=P;Ae>=0;Ae--){for(var et=!0,lt=0;lt<De;lt++)if(je(Q,Ae+lt)!==je(R,lt)){et=!1;break}if(et)return Ae}return-1}c.prototype.includes=function(R,P,G){return this.indexOf(R,P,G)!==-1},c.prototype.indexOf=function(R,P,G){return I(this,R,P,G,!0)},c.prototype.lastIndexOf=function(R,P,G){return I(this,R,P,G,!1)};function U(Q,R,P,G){P=Number(P)||0;var ye=Q.length-P;G?(G=Number(G),G>ye&&(G=ye)):G=ye;var ce=R.length;G>ce/2&&(G=ce/2);for(var ue=0;ue<G;++ue){var De=parseInt(R.substr(ue*2,2),16);if(L(De))return ue;Q[P+ue]=De}return ue}function T(Q,R,P,G){return J(H(R,Q.length-P),Q,P,G)}function ne(Q,R,P,G){return J(fe(R),Q,P,G)}function q(Q,R,P,G){return J(ee(R),Q,P,G)}function F(Q,R,P,G){return J(Z(R,Q.length-P),Q,P,G)}c.prototype.write=function(R,P,G,ye){if(P===void 0)ye="utf8",G=this.length,P=0;else if(G===void 0&&typeof P=="string")ye=P,G=this.length,P=0;else if(isFinite(P))P=P>>>0,isFinite(G)?(G=G>>>0,ye===void 0&&(ye="utf8")):(ye=G,G=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ce=this.length-P;if((G===void 0||G>ce)&&(G=ce),R.length>0&&(G<0||P<0)||P>this.length)throw new RangeError("Attempt to write outside buffer bounds");ye||(ye="utf8");for(var ue=!1;;)switch(ye){case"hex":return U(this,R,P,G);case"utf8":case"utf-8":return T(this,R,P,G);case"ascii":case"latin1":case"binary":return ne(this,R,P,G);case"base64":return q(this,R,P,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return F(this,R,P,G);default:if(ue)throw new TypeError("Unknown encoding: "+ye);ye=(""+ye).toLowerCase(),ue=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Y(Q,R,P){return R===0&&P===Q.length?e.fromByteArray(Q):e.fromByteArray(Q.slice(R,P))}function O(Q,R,P){P=Math.min(Q.length,P);for(var G=[],ye=R;ye<P;){var ce=Q[ye],ue=null,De=ce>239?4:ce>223?3:ce>191?2:1;if(ye+De<=P){var je,Ae,Be,et;switch(De){case 1:ce<128&&(ue=ce);break;case 2:je=Q[ye+1],(je&192)===128&&(et=(ce&31)<<6|je&63,et>127&&(ue=et));break;case 3:je=Q[ye+1],Ae=Q[ye+2],(je&192)===128&&(Ae&192)===128&&(et=(ce&15)<<12|(je&63)<<6|Ae&63,et>2047&&(et<55296||et>57343)&&(ue=et));break;case 4:je=Q[ye+1],Ae=Q[ye+2],Be=Q[ye+3],(je&192)===128&&(Ae&192)===128&&(Be&192)===128&&(et=(ce&15)<<18|(je&63)<<12|(Ae&63)<<6|Be&63,et>65535&&et<1114112&&(ue=et))}}ue===null?(ue=65533,De=1):ue>65535&&(ue-=65536,G.push(ue>>>10&1023|55296),ue=56320|ue&1023),G.push(ue),ye+=De}return X(G)}var se=4096;function X(Q){var R=Q.length;if(R<=se)return String.fromCharCode.apply(String,Q);for(var P="",G=0;G<R;)P+=String.fromCharCode.apply(String,Q.slice(G,G+=se));return P}function M(Q,R,P){var G="";P=Math.min(Q.length,P);for(var ye=R;ye<P;++ye)G+=String.fromCharCode(Q[ye]&127);return G}function K(Q,R,P){var G="";P=Math.min(Q.length,P);for(var ye=R;ye<P;++ye)G+=String.fromCharCode(Q[ye]);return G}function z(Q,R,P){var G=Q.length;(!R||R<0)&&(R=0),(!P||P<0||P>G)&&(P=G);for(var ye="",ce=R;ce<P;++ce)ye+=Te[Q[ce]];return ye}function he(Q,R,P){for(var G=Q.slice(R,P),ye="",ce=0;ce<G.length-1;ce+=2)ye+=String.fromCharCode(G[ce]+G[ce+1]*256);return ye}c.prototype.slice=function(R,P){var G=this.length;R=~~R,P=P===void 0?G:~~P,R<0?(R+=G,R<0&&(R=0)):R>G&&(R=G),P<0?(P+=G,P<0&&(P=0)):P>G&&(P=G),P<R&&(P=R);var ye=this.subarray(R,P);return Object.setPrototypeOf(ye,c.prototype),ye};function V(Q,R,P){if(Q%1!==0||Q<0)throw new RangeError("offset is not uint");if(Q+R>P)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(R,P,G){R=R>>>0,P=P>>>0,G||V(R,P,this.length);for(var ye=this[R],ce=1,ue=0;++ue<P&&(ce*=256);)ye+=this[R+ue]*ce;return ye},c.prototype.readUintBE=c.prototype.readUIntBE=function(R,P,G){R=R>>>0,P=P>>>0,G||V(R,P,this.length);for(var ye=this[R+--P],ce=1;P>0&&(ce*=256);)ye+=this[R+--P]*ce;return ye},c.prototype.readUint8=c.prototype.readUInt8=function(R,P){return R=R>>>0,P||V(R,1,this.length),this[R]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(R,P){return R=R>>>0,P||V(R,2,this.length),this[R]|this[R+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(R,P){return R=R>>>0,P||V(R,2,this.length),this[R]<<8|this[R+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(R,P){return R=R>>>0,P||V(R,4,this.length),(this[R]|this[R+1]<<8|this[R+2]<<16)+this[R+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(R,P){return R=R>>>0,P||V(R,4,this.length),this[R]*16777216+(this[R+1]<<16|this[R+2]<<8|this[R+3])},c.prototype.readIntLE=function(R,P,G){R=R>>>0,P=P>>>0,G||V(R,P,this.length);for(var ye=this[R],ce=1,ue=0;++ue<P&&(ce*=256);)ye+=this[R+ue]*ce;return ce*=128,ye>=ce&&(ye-=Math.pow(2,8*P)),ye},c.prototype.readIntBE=function(R,P,G){R=R>>>0,P=P>>>0,G||V(R,P,this.length);for(var ye=P,ce=1,ue=this[R+--ye];ye>0&&(ce*=256);)ue+=this[R+--ye]*ce;return ce*=128,ue>=ce&&(ue-=Math.pow(2,8*P)),ue},c.prototype.readInt8=function(R,P){return R=R>>>0,P||V(R,1,this.length),this[R]&128?(255-this[R]+1)*-1:this[R]},c.prototype.readInt16LE=function(R,P){R=R>>>0,P||V(R,2,this.length);var G=this[R]|this[R+1]<<8;return G&32768?G|4294901760:G},c.prototype.readInt16BE=function(R,P){R=R>>>0,P||V(R,2,this.length);var G=this[R+1]|this[R]<<8;return G&32768?G|4294901760:G},c.prototype.readInt32LE=function(R,P){return R=R>>>0,P||V(R,4,this.length),this[R]|this[R+1]<<8|this[R+2]<<16|this[R+3]<<24},c.prototype.readInt32BE=function(R,P){return R=R>>>0,P||V(R,4,this.length),this[R]<<24|this[R+1]<<16|this[R+2]<<8|this[R+3]},c.prototype.readFloatLE=function(R,P){return R=R>>>0,P||V(R,4,this.length),r.read(this,R,!0,23,4)},c.prototype.readFloatBE=function(R,P){return R=R>>>0,P||V(R,4,this.length),r.read(this,R,!1,23,4)},c.prototype.readDoubleLE=function(R,P){return R=R>>>0,P||V(R,8,this.length),r.read(this,R,!0,52,8)},c.prototype.readDoubleBE=function(R,P){return R=R>>>0,P||V(R,8,this.length),r.read(this,R,!1,52,8)};function W(Q,R,P,G,ye,ce){if(!c.isBuffer(Q))throw new TypeError('"buffer" argument must be a Buffer instance');if(R>ye||R<ce)throw new RangeError('"value" argument is out of bounds');if(P+G>Q.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(R,P,G,ye){if(R=+R,P=P>>>0,G=G>>>0,!ye){var ce=Math.pow(2,8*G)-1;W(this,R,P,G,ce,0)}var ue=1,De=0;for(this[P]=R&255;++De<G&&(ue*=256);)this[P+De]=R/ue&255;return P+G},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(R,P,G,ye){if(R=+R,P=P>>>0,G=G>>>0,!ye){var ce=Math.pow(2,8*G)-1;W(this,R,P,G,ce,0)}var ue=G-1,De=1;for(this[P+ue]=R&255;--ue>=0&&(De*=256);)this[P+ue]=R/De&255;return P+G},c.prototype.writeUint8=c.prototype.writeUInt8=function(R,P,G){return R=+R,P=P>>>0,G||W(this,R,P,1,255,0),this[P]=R&255,P+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(R,P,G){return R=+R,P=P>>>0,G||W(this,R,P,2,65535,0),this[P]=R&255,this[P+1]=R>>>8,P+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(R,P,G){return R=+R,P=P>>>0,G||W(this,R,P,2,65535,0),this[P]=R>>>8,this[P+1]=R&255,P+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(R,P,G){return R=+R,P=P>>>0,G||W(this,R,P,4,4294967295,0),this[P+3]=R>>>24,this[P+2]=R>>>16,this[P+1]=R>>>8,this[P]=R&255,P+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(R,P,G){return R=+R,P=P>>>0,G||W(this,R,P,4,4294967295,0),this[P]=R>>>24,this[P+1]=R>>>16,this[P+2]=R>>>8,this[P+3]=R&255,P+4},c.prototype.writeIntLE=function(R,P,G,ye){if(R=+R,P=P>>>0,!ye){var ce=Math.pow(2,8*G-1);W(this,R,P,G,ce-1,-ce)}var ue=0,De=1,je=0;for(this[P]=R&255;++ue<G&&(De*=256);)R<0&&je===0&&this[P+ue-1]!==0&&(je=1),this[P+ue]=(R/De>>0)-je&255;return P+G},c.prototype.writeIntBE=function(R,P,G,ye){if(R=+R,P=P>>>0,!ye){var ce=Math.pow(2,8*G-1);W(this,R,P,G,ce-1,-ce)}var ue=G-1,De=1,je=0;for(this[P+ue]=R&255;--ue>=0&&(De*=256);)R<0&&je===0&&this[P+ue+1]!==0&&(je=1),this[P+ue]=(R/De>>0)-je&255;return P+G},c.prototype.writeInt8=function(R,P,G){return R=+R,P=P>>>0,G||W(this,R,P,1,127,-128),R<0&&(R=255+R+1),this[P]=R&255,P+1},c.prototype.writeInt16LE=function(R,P,G){return R=+R,P=P>>>0,G||W(this,R,P,2,32767,-32768),this[P]=R&255,this[P+1]=R>>>8,P+2},c.prototype.writeInt16BE=function(R,P,G){return R=+R,P=P>>>0,G||W(this,R,P,2,32767,-32768),this[P]=R>>>8,this[P+1]=R&255,P+2},c.prototype.writeInt32LE=function(R,P,G){return R=+R,P=P>>>0,G||W(this,R,P,4,2147483647,-2147483648),this[P]=R&255,this[P+1]=R>>>8,this[P+2]=R>>>16,this[P+3]=R>>>24,P+4},c.prototype.writeInt32BE=function(R,P,G){return R=+R,P=P>>>0,G||W(this,R,P,4,2147483647,-2147483648),R<0&&(R=4294967295+R+1),this[P]=R>>>24,this[P+1]=R>>>16,this[P+2]=R>>>8,this[P+3]=R&255,P+4};function le(Q,R,P,G,ye,ce){if(P+G>Q.length)throw new RangeError("Index out of range");if(P<0)throw new RangeError("Index out of range")}function oe(Q,R,P,G,ye){return R=+R,P=P>>>0,ye||le(Q,R,P,4),r.write(Q,R,P,G,23,4),P+4}c.prototype.writeFloatLE=function(R,P,G){return oe(this,R,P,!0,G)},c.prototype.writeFloatBE=function(R,P,G){return oe(this,R,P,!1,G)};function ve(Q,R,P,G,ye){return R=+R,P=P>>>0,ye||le(Q,R,P,8),r.write(Q,R,P,G,52,8),P+8}c.prototype.writeDoubleLE=function(R,P,G){return ve(this,R,P,!0,G)},c.prototype.writeDoubleBE=function(R,P,G){return ve(this,R,P,!1,G)},c.prototype.copy=function(R,P,G,ye){if(!c.isBuffer(R))throw new TypeError("argument should be a Buffer");if(G||(G=0),!ye&&ye!==0&&(ye=this.length),P>=R.length&&(P=R.length),P||(P=0),ye>0&&ye<G&&(ye=G),ye===G||R.length===0||this.length===0)return 0;if(P<0)throw new RangeError("targetStart out of bounds");if(G<0||G>=this.length)throw new RangeError("Index out of range");if(ye<0)throw new RangeError("sourceEnd out of bounds");ye>this.length&&(ye=this.length),R.length-P<ye-G&&(ye=R.length-P+G);var ce=ye-G;return this===R&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(P,G,ye):Uint8Array.prototype.set.call(R,this.subarray(G,ye),P),ce},c.prototype.fill=function(R,P,G,ye){if(typeof R=="string"){if(typeof P=="string"?(ye=P,P=0,G=this.length):typeof G=="string"&&(ye=G,G=this.length),ye!==void 0&&typeof ye!="string")throw new TypeError("encoding must be a string");if(typeof ye=="string"&&!c.isEncoding(ye))throw new TypeError("Unknown encoding: "+ye);if(R.length===1){var ce=R.charCodeAt(0);(ye==="utf8"&&ce<128||ye==="latin1")&&(R=ce)}}else typeof R=="number"?R=R&255:typeof R=="boolean"&&(R=Number(R));if(P<0||this.length<P||this.length<G)throw new RangeError("Out of range index");if(G<=P)return this;P=P>>>0,G=G===void 0?this.length:G>>>0,R||(R=0);var ue;if(typeof R=="number")for(ue=P;ue<G;++ue)this[ue]=R;else{var De=c.isBuffer(R)?R:c.from(R,ye),je=De.length;if(je===0)throw new TypeError('The value "'+R+'" is invalid for argument "value"');for(ue=0;ue<G-P;++ue)this[ue+P]=De[ue%je]}return this};var me=/[^+/0-9A-Za-z-_]/g;function $(Q){if(Q=Q.split("=")[0],Q=Q.trim().replace(me,""),Q.length<2)return"";for(;Q.length%4!==0;)Q=Q+"=";return Q}function H(Q,R){R=R||1/0;for(var P,G=Q.length,ye=null,ce=[],ue=0;ue<G;++ue){if(P=Q.charCodeAt(ue),P>55295&&P<57344){if(!ye){if(P>56319){(R-=3)>-1&&ce.push(239,191,189);continue}else if(ue+1===G){(R-=3)>-1&&ce.push(239,191,189);continue}ye=P;continue}if(P<56320){(R-=3)>-1&&ce.push(239,191,189),ye=P;continue}P=(ye-55296<<10|P-56320)+65536}else ye&&(R-=3)>-1&&ce.push(239,191,189);if(ye=null,P<128){if((R-=1)<0)break;ce.push(P)}else if(P<2048){if((R-=2)<0)break;ce.push(P>>6|192,P&63|128)}else if(P<65536){if((R-=3)<0)break;ce.push(P>>12|224,P>>6&63|128,P&63|128)}else if(P<1114112){if((R-=4)<0)break;ce.push(P>>18|240,P>>12&63|128,P>>6&63|128,P&63|128)}else throw new Error("Invalid code point")}return ce}function fe(Q){for(var R=[],P=0;P<Q.length;++P)R.push(Q.charCodeAt(P)&255);return R}function Z(Q,R){for(var P,G,ye,ce=[],ue=0;ue<Q.length&&!((R-=2)<0);++ue)P=Q.charCodeAt(ue),G=P>>8,ye=P%256,ce.push(ye),ce.push(G);return ce}function ee(Q){return e.toByteArray($(Q))}function J(Q,R,P,G){for(var ye=0;ye<G&&!(ye+P>=R.length||ye>=Q.length);++ye)R[ye+P]=Q[ye];return ye}function ke(Q,R){return Q instanceof R||Q!=null&&Q.constructor!=null&&Q.constructor.name!=null&&Q.constructor.name===R.name}function L(Q){return Q!==Q}var Te=(function(){for(var Q="0123456789abcdef",R=new Array(256),P=0;P<16;++P)for(var G=P*16,ye=0;ye<16;++ye)R[G+ye]=Q[P]+Q[ye];return R})()})(hw)),hw}var fw={},mw={},pw,e4;function k8(){return e4||(e4=1,pw=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var a=42;e[r]=a;for(var i in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var c=Object.getOwnPropertyDescriptor(e,r);if(c.value!==a||c.enumerable!==!0)return!1}return!0}),pw}var gw,t4;function o2(){if(t4)return gw;t4=1;var t=k8();return gw=function(){return t()&&!!Symbol.toStringTag},gw}var xw,s4;function C8(){return s4||(s4=1,xw=Object),xw}var yw,r4;function rse(){return r4||(r4=1,yw=Error),yw}var bw,n4;function nse(){return n4||(n4=1,bw=EvalError),bw}var vw,a4;function ase(){return a4||(a4=1,vw=RangeError),vw}var ww,i4;function ise(){return i4||(i4=1,ww=ReferenceError),ww}var jw,o4;function A8(){return o4||(o4=1,jw=SyntaxError),jw}var _w,l4;function ny(){return l4||(l4=1,_w=TypeError),_w}var Nw,c4;function ose(){return c4||(c4=1,Nw=URIError),Nw}var Sw,d4;function lse(){return d4||(d4=1,Sw=Math.abs),Sw}var kw,u4;function cse(){return u4||(u4=1,kw=Math.floor),kw}var Cw,h4;function dse(){return h4||(h4=1,Cw=Math.max),Cw}var Aw,f4;function use(){return f4||(f4=1,Aw=Math.min),Aw}var Ew,m4;function hse(){return m4||(m4=1,Ew=Math.pow),Ew}var Tw,p4;function fse(){return p4||(p4=1,Tw=Math.round),Tw}var Rw,g4;function mse(){return g4||(g4=1,Rw=Number.isNaN||function(e){return e!==e}),Rw}var Dw,x4;function pse(){if(x4)return Dw;x4=1;var t=mse();return Dw=function(r){return t(r)||r===0?r:r<0?-1:1},Dw}var Mw,y4;function gse(){return y4||(y4=1,Mw=Object.getOwnPropertyDescriptor),Mw}var Pw,b4;function Vm(){if(b4)return Pw;b4=1;var t=gse();if(t)try{t([],"length")}catch{t=null}return Pw=t,Pw}var Ow,v4;function ay(){if(v4)return Ow;v4=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return Ow=t,Ow}var Lw,w4;function xse(){if(w4)return Lw;w4=1;var t=typeof Symbol<"u"&&Symbol,e=k8();return Lw=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Lw}var Fw,j4;function E8(){return j4||(j4=1,Fw=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Fw}var Bw,_4;function T8(){if(_4)return Bw;_4=1;var t=C8();return Bw=t.getPrototypeOf||null,Bw}var Iw,N4;function yse(){if(N4)return Iw;N4=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,n="[object Function]",a=function(d,h){for(var m=[],f=0;f<d.length;f+=1)m[f]=d[f];for(var g=0;g<h.length;g+=1)m[g+d.length]=h[g];return m},i=function(d,h){for(var m=[],f=h,g=0;f<d.length;f+=1,g+=1)m[g]=d[f];return m},o=function(c,d){for(var h="",m=0;m<c.length;m+=1)h+=c[m],m+1<c.length&&(h+=d);return h};return Iw=function(d){var h=this;if(typeof h!="function"||e.apply(h)!==n)throw new TypeError(t+h);for(var m=i(arguments,1),f,g=function(){if(this instanceof f){var b=h.apply(this,a(m,arguments));return Object(b)===b?b:this}return h.apply(d,a(m,arguments))},y=r(0,h.length-m.length),v=[],w=0;w<y;w++)v[w]="$"+w;if(f=Function("binder","return function ("+o(v,",")+"){ return binder.apply(this,arguments); }")(g),h.prototype){var _=function(){};_.prototype=h.prototype,f.prototype=new _,_.prototype=null}return f},Iw}var zw,S4;function Hm(){if(S4)return zw;S4=1;var t=yse();return zw=Function.prototype.bind||t,zw}var Uw,k4;function l2(){return k4||(k4=1,Uw=Function.prototype.call),Uw}var $w,C4;function c2(){return C4||(C4=1,$w=Function.prototype.apply),$w}var Vw,A4;function bse(){return A4||(A4=1,Vw=typeof Reflect<"u"&&Reflect&&Reflect.apply),Vw}var Hw,E4;function R8(){if(E4)return Hw;E4=1;var t=Hm(),e=c2(),r=l2(),n=bse();return Hw=n||t.call(r,e),Hw}var qw,T4;function d2(){if(T4)return qw;T4=1;var t=Hm(),e=ny(),r=l2(),n=R8();return qw=function(i){if(i.length<1||typeof i[0]!="function")throw new e("a function is required");return n(t,r,i)},qw}var Ww,R4;function vse(){if(R4)return Ww;R4=1;var t=d2(),e=Vm(),r;try{r=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var n=!!r&&e&&e(Object.prototype,"__proto__"),a=Object,i=a.getPrototypeOf;return Ww=n&&typeof n.get=="function"?t([n.get]):typeof i=="function"?(function(c){return i(c==null?c:a(c))}):!1,Ww}var Gw,D4;function D8(){if(D4)return Gw;D4=1;var t=E8(),e=T8(),r=vse();return Gw=t?function(a){return t(a)}:e?function(a){if(!a||typeof a!="object"&&typeof a!="function")throw new TypeError("getProto: not an object");return e(a)}:r?function(a){return r(a)}:null,Gw}var Yw,M4;function wse(){if(M4)return Yw;M4=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=Hm();return Yw=r.call(t,e),Yw}var Kw,P4;function u2(){if(P4)return Kw;P4=1;var t,e=C8(),r=rse(),n=nse(),a=ase(),i=ise(),o=A8(),c=ny(),d=ose(),h=lse(),m=cse(),f=dse(),g=use(),y=hse(),v=fse(),w=pse(),_=Function,b=function(fe){try{return _('"use strict"; return ('+fe+").constructor;")()}catch{}},N=Vm(),k=ay(),S=function(){throw new c},C=N?(function(){try{return arguments.callee,S}catch{try{return N(arguments,"callee").get}catch{return S}}})():S,I=xse()(),E=D8(),U=T8(),T=E8(),ne=c2(),q=l2(),F={},Y=typeof Uint8Array>"u"||!E?t:E(Uint8Array),O={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":I&&E?E([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":F,"%AsyncGenerator%":F,"%AsyncGeneratorFunction%":F,"%AsyncIteratorPrototype%":F,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":n,"%Float16Array%":typeof Float16Array>"u"?t:Float16Array,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":_,"%GeneratorFunction%":F,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":I&&E?E(E([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!I||!E?t:E(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":N,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":a,"%ReferenceError%":i,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!I||!E?t:E(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":I&&E?E(""[Symbol.iterator]()):t,"%Symbol%":I?Symbol:t,"%SyntaxError%":o,"%ThrowTypeError%":C,"%TypedArray%":Y,"%TypeError%":c,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":d,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet,"%Function.prototype.call%":q,"%Function.prototype.apply%":ne,"%Object.defineProperty%":k,"%Object.getPrototypeOf%":U,"%Math.abs%":h,"%Math.floor%":m,"%Math.max%":f,"%Math.min%":g,"%Math.pow%":y,"%Math.round%":v,"%Math.sign%":w,"%Reflect.getPrototypeOf%":T};if(E)try{null.error}catch(fe){var se=E(E(fe));O["%Error.prototype%"]=se}var X=function fe(Z){var ee;if(Z==="%AsyncFunction%")ee=b("async function () {}");else if(Z==="%GeneratorFunction%")ee=b("function* () {}");else if(Z==="%AsyncGeneratorFunction%")ee=b("async function* () {}");else if(Z==="%AsyncGenerator%"){var J=fe("%AsyncGeneratorFunction%");J&&(ee=J.prototype)}else if(Z==="%AsyncIteratorPrototype%"){var ke=fe("%AsyncGenerator%");ke&&E&&(ee=E(ke.prototype))}return O[Z]=ee,ee},M={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},K=Hm(),z=wse(),he=K.call(q,Array.prototype.concat),V=K.call(ne,Array.prototype.splice),W=K.call(q,String.prototype.replace),le=K.call(q,String.prototype.slice),oe=K.call(q,RegExp.prototype.exec),ve=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,me=/\\(\\)?/g,$=function(Z){var ee=le(Z,0,1),J=le(Z,-1);if(ee==="%"&&J!=="%")throw new o("invalid intrinsic syntax, expected closing `%`");if(J==="%"&&ee!=="%")throw new o("invalid intrinsic syntax, expected opening `%`");var ke=[];return W(Z,ve,function(L,Te,Q,R){ke[ke.length]=Q?W(R,me,"$1"):Te||L}),ke},H=function(Z,ee){var J=Z,ke;if(z(M,J)&&(ke=M[J],J="%"+ke[0]+"%"),z(O,J)){var L=O[J];if(L===F&&(L=X(J)),typeof L>"u"&&!ee)throw new c("intrinsic "+Z+" exists, but is not available. Please file an issue!");return{alias:ke,name:J,value:L}}throw new o("intrinsic "+Z+" does not exist!")};return Kw=function(Z,ee){if(typeof Z!="string"||Z.length===0)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof ee!="boolean")throw new c('"allowMissing" argument must be a boolean');if(oe(/^%?[^%]*%?$/,Z)===null)throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var J=$(Z),ke=J.length>0?J[0]:"",L=H("%"+ke+"%",ee),Te=L.name,Q=L.value,R=!1,P=L.alias;P&&(ke=P[0],V(J,he([0,1],P)));for(var G=1,ye=!0;G<J.length;G+=1){var ce=J[G],ue=le(ce,0,1),De=le(ce,-1);if((ue==='"'||ue==="'"||ue==="`"||De==='"'||De==="'"||De==="`")&&ue!==De)throw new o("property names with quotes must have matching quotes");if((ce==="constructor"||!ye)&&(R=!0),ke+="."+ce,Te="%"+ke+"%",z(O,Te))Q=O[Te];else if(Q!=null){if(!(ce in Q)){if(!ee)throw new c("base intrinsic for "+Z+" exists, but the property is not available.");return}if(N&&G+1>=J.length){var je=N(Q,ce);ye=!!je,ye&&"get"in je&&!("originalValue"in je.get)?Q=je.get:Q=Q[ce]}else ye=z(Q,ce),Q=Q[ce];ye&&!R&&(O[Te]=Q)}}return Q},Kw}var Xw={exports:{}},Zw,O4;function jse(){if(O4)return Zw;O4=1;var t=ay(),e=A8(),r=ny(),n=Vm();return Zw=function(i,o,c){if(!i||typeof i!="object"&&typeof i!="function")throw new r("`obj` must be an object or a function`");if(typeof o!="string"&&typeof o!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var d=arguments.length>3?arguments[3]:null,h=arguments.length>4?arguments[4]:null,m=arguments.length>5?arguments[5]:null,f=arguments.length>6?arguments[6]:!1,g=!!n&&n(i,o);if(t)t(i,o,{configurable:m===null&&g?g.configurable:!m,enumerable:d===null&&g?g.enumerable:!d,value:c,writable:h===null&&g?g.writable:!h});else if(f||!d&&!h&&!m)i[o]=c;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Zw}var Qw,L4;function _se(){if(L4)return Qw;L4=1;var t=ay(),e=function(){return!!t};return e.hasArrayLengthDefineBug=function(){if(!t)return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},Qw=e,Qw}var Jw,F4;function Nse(){if(F4)return Jw;F4=1;var t=u2(),e=jse(),r=_se()(),n=Vm(),a=ny(),i=t("%Math.floor%");return Jw=function(c,d){if(typeof c!="function")throw new a("`fn` is not a function");if(typeof d!="number"||d<0||d>4294967295||i(d)!==d)throw new a("`length` must be a positive 32-bit integer");var h=arguments.length>2&&!!arguments[2],m=!0,f=!0;if("length"in c&&n){var g=n(c,"length");g&&!g.configurable&&(m=!1),g&&!g.writable&&(f=!1)}return(m||f||!h)&&(r?e(c,"length",d,!0,!0):e(c,"length",d)),c},Jw}var ej,B4;function Sse(){if(B4)return ej;B4=1;var t=Hm(),e=c2(),r=R8();return ej=function(){return r(t,e,arguments)},ej}var I4;function M8(){return I4||(I4=1,(function(t){var e=Nse(),r=ay(),n=d2(),a=Sse();t.exports=function(o){var c=n(arguments),d=o.length-(arguments.length-1);return e(c,1+(d>0?d:0),!0)},r?r(t.exports,"apply",{value:a}):t.exports.apply=a})(Xw)),Xw.exports}var tj,z4;function kse(){if(z4)return tj;z4=1;var t=u2(),e=M8(),r=e(t("String.prototype.indexOf"));return tj=function(a,i){var o=t(a,!!i);return typeof o=="function"&&r(a,".prototype.")>-1?e(o):o},tj}var sj,U4;function Cse(){if(U4)return sj;U4=1;var t=o2()(),e=kse(),r=e("Object.prototype.toString"),n=function(c){return t&&c&&typeof c=="object"&&Symbol.toStringTag in c?!1:r(c)==="[object Arguments]"},a=function(c){return n(c)?!0:c!==null&&typeof c=="object"&&typeof c.length=="number"&&c.length>=0&&r(c)!=="[object Array]"&&r(c.callee)==="[object Function]"},i=(function(){return n(arguments)})();return n.isLegacyArguments=a,sj=i?n:a,sj}var rj,$4;function Ase(){if($4)return rj;$4=1;var t=Object.prototype.toString,e=Function.prototype.toString,r=/^\s*(?:function)?\*/,n=o2()(),a=Object.getPrototypeOf,i=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},o;return rj=function(d){if(typeof d!="function")return!1;if(r.test(e.call(d)))return!0;if(!n){var h=t.call(d);return h==="[object GeneratorFunction]"}if(!a)return!1;if(typeof o>"u"){var m=i();o=m?a(m):!1}return a(d)===o},rj}var nj,V4;function Ese(){if(V4)return nj;V4=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},e(function(){throw 42},null,r)}catch(N){N!==n&&(e=null)}else e=null;var a=/^\s*class\b/,i=function(k){try{var S=t.call(k);return a.test(S)}catch{return!1}},o=function(k){try{return i(k)?!1:(t.call(k),!0)}catch{return!1}},c=Object.prototype.toString,d="[object Object]",h="[object Function]",m="[object GeneratorFunction]",f="[object HTMLAllCollection]",g="[object HTML document.all class]",y="[object HTMLCollection]",v=typeof Symbol=="function"&&!!Symbol.toStringTag,w=!(0 in[,]),_=function(){return!1};if(typeof document=="object"){var b=document.all;c.call(b)===c.call(document.all)&&(_=function(k){if((w||!k)&&(typeof k>"u"||typeof k=="object"))try{var S=c.call(k);return(S===f||S===g||S===y||S===d)&&k("")==null}catch{}return!1})}return nj=e?function(k){if(_(k))return!0;if(!k||typeof k!="function"&&typeof k!="object")return!1;try{e(k,null,r)}catch(S){if(S!==n)return!1}return!i(k)&&o(k)}:function(k){if(_(k))return!0;if(!k||typeof k!="function"&&typeof k!="object")return!1;if(v)return o(k);if(i(k))return!1;var S=c.call(k);return S!==h&&S!==m&&!/^\[object HTML/.test(S)?!1:o(k)},nj}var aj,H4;function Tse(){if(H4)return aj;H4=1;var t=Ese(),e=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(d,h,m){for(var f=0,g=d.length;f<g;f++)r.call(d,f)&&(m==null?h(d[f],f,d):h.call(m,d[f],f,d))},a=function(d,h,m){for(var f=0,g=d.length;f<g;f++)m==null?h(d.charAt(f),f,d):h.call(m,d.charAt(f),f,d)},i=function(d,h,m){for(var f in d)r.call(d,f)&&(m==null?h(d[f],f,d):h.call(m,d[f],f,d))};function o(c){return e.call(c)==="[object Array]"}return aj=function(d,h,m){if(!t(h))throw new TypeError("iterator must be a function");var f;arguments.length>=3&&(f=m),o(d)?n(d,h,f):typeof d=="string"?a(d,h,f):i(d,h,f)},aj}var ij,q4;function Rse(){return q4||(q4=1,ij=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),ij}var oj,W4;function Dse(){if(W4)return oj;W4=1;var t=Rse(),e=typeof globalThis>"u"?Ii:globalThis;return oj=function(){for(var n=[],a=0;a<t.length;a++)typeof e[t[a]]=="function"&&(n[n.length]=t[a]);return n},oj}var lj,G4;function Mse(){if(G4)return lj;G4=1;var t=u2(),e=d2(),r=e([t("%String.prototype.indexOf%")]);return lj=function(a,i){var o=t(a,!!i);return typeof o=="function"&&r(a,".prototype.")>-1?e([o]):o},lj}var cj,Y4;function P8(){if(Y4)return cj;Y4=1;var t=Tse(),e=Dse(),r=M8(),n=Mse(),a=Vm(),i=D8(),o=n("Object.prototype.toString"),c=o2()(),d=typeof globalThis>"u"?Ii:globalThis,h=e(),m=n("String.prototype.slice"),f=n("Array.prototype.indexOf",!0)||function(_,b){for(var N=0;N<_.length;N+=1)if(_[N]===b)return N;return-1},g={__proto__:null};c&&a&&i?t(h,function(w){var _=new d[w];if(Symbol.toStringTag in _&&i){var b=i(_),N=a(b,Symbol.toStringTag);if(!N&&b){var k=i(b);N=a(k,Symbol.toStringTag)}g["$"+w]=r(N.get)}}):t(h,function(w){var _=new d[w],b=_.slice||_.set;b&&(g["$"+w]=r(b))});var y=function(_){var b=!1;return t(g,function(N,k){if(!b)try{"$"+N(_)===k&&(b=m(k,1))}catch{}}),b},v=function(_){var b=!1;return t(g,function(N,k){if(!b)try{N(_),b=m(k,1)}catch{}}),b};return cj=function(_){if(!_||typeof _!="object")return!1;if(!c){var b=m(o(_),8,-1);return f(h,b)>-1?b:b!=="Object"?!1:v(_)}return a?y(_):null},cj}var dj,K4;function Pse(){if(K4)return dj;K4=1;var t=P8();return dj=function(r){return!!t(r)},dj}var X4;function Ose(){return X4||(X4=1,(function(t){var e=Cse(),r=Ase(),n=P8(),a=Pse();function i(G){return G.call.bind(G)}var o=typeof BigInt<"u",c=typeof Symbol<"u",d=i(Object.prototype.toString),h=i(Number.prototype.valueOf),m=i(String.prototype.valueOf),f=i(Boolean.prototype.valueOf);if(o)var g=i(BigInt.prototype.valueOf);if(c)var y=i(Symbol.prototype.valueOf);function v(G,ye){if(typeof G!="object")return!1;try{return ye(G),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=a;function w(G){return typeof Promise<"u"&&G instanceof Promise||G!==null&&typeof G=="object"&&typeof G.then=="function"&&typeof G.catch=="function"}t.isPromise=w;function _(G){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(G):a(G)||le(G)}t.isArrayBufferView=_;function b(G){return n(G)==="Uint8Array"}t.isUint8Array=b;function N(G){return n(G)==="Uint8ClampedArray"}t.isUint8ClampedArray=N;function k(G){return n(G)==="Uint16Array"}t.isUint16Array=k;function S(G){return n(G)==="Uint32Array"}t.isUint32Array=S;function C(G){return n(G)==="Int8Array"}t.isInt8Array=C;function I(G){return n(G)==="Int16Array"}t.isInt16Array=I;function E(G){return n(G)==="Int32Array"}t.isInt32Array=E;function U(G){return n(G)==="Float32Array"}t.isFloat32Array=U;function T(G){return n(G)==="Float64Array"}t.isFloat64Array=T;function ne(G){return n(G)==="BigInt64Array"}t.isBigInt64Array=ne;function q(G){return n(G)==="BigUint64Array"}t.isBigUint64Array=q;function F(G){return d(G)==="[object Map]"}F.working=typeof Map<"u"&&F(new Map);function Y(G){return typeof Map>"u"?!1:F.working?F(G):G instanceof Map}t.isMap=Y;function O(G){return d(G)==="[object Set]"}O.working=typeof Set<"u"&&O(new Set);function se(G){return typeof Set>"u"?!1:O.working?O(G):G instanceof Set}t.isSet=se;function X(G){return d(G)==="[object WeakMap]"}X.working=typeof WeakMap<"u"&&X(new WeakMap);function M(G){return typeof WeakMap>"u"?!1:X.working?X(G):G instanceof WeakMap}t.isWeakMap=M;function K(G){return d(G)==="[object WeakSet]"}K.working=typeof WeakSet<"u"&&K(new WeakSet);function z(G){return K(G)}t.isWeakSet=z;function he(G){return d(G)==="[object ArrayBuffer]"}he.working=typeof ArrayBuffer<"u"&&he(new ArrayBuffer);function V(G){return typeof ArrayBuffer>"u"?!1:he.working?he(G):G instanceof ArrayBuffer}t.isArrayBuffer=V;function W(G){return d(G)==="[object DataView]"}W.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&W(new DataView(new ArrayBuffer(1),0,1));function le(G){return typeof DataView>"u"?!1:W.working?W(G):G instanceof DataView}t.isDataView=le;var oe=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function ve(G){return d(G)==="[object SharedArrayBuffer]"}function me(G){return typeof oe>"u"?!1:(typeof ve.working>"u"&&(ve.working=ve(new oe)),ve.working?ve(G):G instanceof oe)}t.isSharedArrayBuffer=me;function $(G){return d(G)==="[object AsyncFunction]"}t.isAsyncFunction=$;function H(G){return d(G)==="[object Map Iterator]"}t.isMapIterator=H;function fe(G){return d(G)==="[object Set Iterator]"}t.isSetIterator=fe;function Z(G){return d(G)==="[object Generator]"}t.isGeneratorObject=Z;function ee(G){return d(G)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=ee;function J(G){return v(G,h)}t.isNumberObject=J;function ke(G){return v(G,m)}t.isStringObject=ke;function L(G){return v(G,f)}t.isBooleanObject=L;function Te(G){return o&&v(G,g)}t.isBigIntObject=Te;function Q(G){return c&&v(G,y)}t.isSymbolObject=Q;function R(G){return J(G)||ke(G)||L(G)||Te(G)||Q(G)}t.isBoxedPrimitive=R;function P(G){return typeof Uint8Array<"u"&&(V(G)||me(G))}t.isAnyArrayBuffer=P,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(G){Object.defineProperty(t,G,{enumerable:!1,value:function(){throw new Error(G+" is not supported in userland")}})})})(mw)),mw}var uj,Z4;function Lse(){return Z4||(Z4=1,uj=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),uj}var Q4;function O8(){return Q4||(Q4=1,(function(t){var e=Object.getOwnPropertyDescriptors||function(le){for(var oe=Object.keys(le),ve={},me=0;me<oe.length;me++)ve[oe[me]]=Object.getOwnPropertyDescriptor(le,oe[me]);return ve},r=/%[sdj%]/g;t.format=function(W){if(!C(W)){for(var le=[],oe=0;oe<arguments.length;oe++)le.push(o(arguments[oe]));return le.join(" ")}for(var oe=1,ve=arguments,me=ve.length,$=String(W).replace(r,function(fe){if(fe==="%%")return"%";if(oe>=me)return fe;switch(fe){case"%s":return String(ve[oe++]);case"%d":return Number(ve[oe++]);case"%j":try{return JSON.stringify(ve[oe++])}catch{return"[Circular]"}default:return fe}}),H=ve[oe];oe<me;H=ve[++oe])N(H)||!T(H)?$+=" "+H:$+=" "+o(H);return $},t.deprecate=function(W,le){if(typeof ss<"u"&&ss.noDeprecation===!0)return W;if(typeof ss>"u")return function(){return t.deprecate(W,le).apply(this,arguments)};var oe=!1;function ve(){if(!oe){if(ss.throwDeprecation)throw new Error(le);ss.traceDeprecation?console.trace(le):console.error(le),oe=!0}return W.apply(this,arguments)}return ve};var n={},a=/^$/;if(ss.env.NODE_DEBUG){var i=ss.env.NODE_DEBUG;i=i.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),a=new RegExp("^"+i+"$","i")}t.debuglog=function(W){if(W=W.toUpperCase(),!n[W])if(a.test(W)){var le=ss.pid;n[W]=function(){var oe=t.format.apply(t,arguments);console.error("%s %d: %s",W,le,oe)}}else n[W]=function(){};return n[W]};function o(W,le){var oe={seen:[],stylize:d};return arguments.length>=3&&(oe.depth=arguments[2]),arguments.length>=4&&(oe.colors=arguments[3]),b(le)?oe.showHidden=le:le&&t._extend(oe,le),E(oe.showHidden)&&(oe.showHidden=!1),E(oe.depth)&&(oe.depth=2),E(oe.colors)&&(oe.colors=!1),E(oe.customInspect)&&(oe.customInspect=!0),oe.colors&&(oe.stylize=c),m(oe,W,oe.depth)}t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function c(W,le){var oe=o.styles[le];return oe?"\x1B["+o.colors[oe][0]+"m"+W+"\x1B["+o.colors[oe][1]+"m":W}function d(W,le){return W}function h(W){var le={};return W.forEach(function(oe,ve){le[oe]=!0}),le}function m(W,le,oe){if(W.customInspect&&le&&F(le.inspect)&&le.inspect!==t.inspect&&!(le.constructor&&le.constructor.prototype===le)){var ve=le.inspect(oe,W);return C(ve)||(ve=m(W,ve,oe)),ve}var me=f(W,le);if(me)return me;var $=Object.keys(le),H=h($);if(W.showHidden&&($=Object.getOwnPropertyNames(le)),q(le)&&($.indexOf("message")>=0||$.indexOf("description")>=0))return g(le);if($.length===0){if(F(le)){var fe=le.name?": "+le.name:"";return W.stylize("[Function"+fe+"]","special")}if(U(le))return W.stylize(RegExp.prototype.toString.call(le),"regexp");if(ne(le))return W.stylize(Date.prototype.toString.call(le),"date");if(q(le))return g(le)}var Z="",ee=!1,J=["{","}"];if(_(le)&&(ee=!0,J=["[","]"]),F(le)){var ke=le.name?": "+le.name:"";Z=" [Function"+ke+"]"}if(U(le)&&(Z=" "+RegExp.prototype.toString.call(le)),ne(le)&&(Z=" "+Date.prototype.toUTCString.call(le)),q(le)&&(Z=" "+g(le)),$.length===0&&(!ee||le.length==0))return J[0]+Z+J[1];if(oe<0)return U(le)?W.stylize(RegExp.prototype.toString.call(le),"regexp"):W.stylize("[Object]","special");W.seen.push(le);var L;return ee?L=y(W,le,oe,H,$):L=$.map(function(Te){return v(W,le,oe,H,Te,ee)}),W.seen.pop(),w(L,Z,J)}function f(W,le){if(E(le))return W.stylize("undefined","undefined");if(C(le)){var oe="'"+JSON.stringify(le).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return W.stylize(oe,"string")}if(S(le))return W.stylize(""+le,"number");if(b(le))return W.stylize(""+le,"boolean");if(N(le))return W.stylize("null","null")}function g(W){return"["+Error.prototype.toString.call(W)+"]"}function y(W,le,oe,ve,me){for(var $=[],H=0,fe=le.length;H<fe;++H)K(le,String(H))?$.push(v(W,le,oe,ve,String(H),!0)):$.push("");return me.forEach(function(Z){Z.match(/^\d+$/)||$.push(v(W,le,oe,ve,Z,!0))}),$}function v(W,le,oe,ve,me,$){var H,fe,Z;if(Z=Object.getOwnPropertyDescriptor(le,me)||{value:le[me]},Z.get?Z.set?fe=W.stylize("[Getter/Setter]","special"):fe=W.stylize("[Getter]","special"):Z.set&&(fe=W.stylize("[Setter]","special")),K(ve,me)||(H="["+me+"]"),fe||(W.seen.indexOf(Z.value)<0?(N(oe)?fe=m(W,Z.value,null):fe=m(W,Z.value,oe-1),fe.indexOf(`
`)>-1&&($?fe=fe.split(`
`).map(function(ee){return"  "+ee}).join(`
`).slice(2):fe=`
`+fe.split(`
`).map(function(ee){return"   "+ee}).join(`
`))):fe=W.stylize("[Circular]","special")),E(H)){if($&&me.match(/^\d+$/))return fe;H=JSON.stringify(""+me),H.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(H=H.slice(1,-1),H=W.stylize(H,"name")):(H=H.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),H=W.stylize(H,"string"))}return H+": "+fe}function w(W,le,oe){var ve=W.reduce(function(me,$){return $.indexOf(`
`)>=0,me+$.replace(/\u001b\[\d\d?m/g,"").length+1},0);return ve>60?oe[0]+(le===""?"":le+`
 `)+" "+W.join(`,
  `)+" "+oe[1]:oe[0]+le+" "+W.join(", ")+" "+oe[1]}t.types=Ose();function _(W){return Array.isArray(W)}t.isArray=_;function b(W){return typeof W=="boolean"}t.isBoolean=b;function N(W){return W===null}t.isNull=N;function k(W){return W==null}t.isNullOrUndefined=k;function S(W){return typeof W=="number"}t.isNumber=S;function C(W){return typeof W=="string"}t.isString=C;function I(W){return typeof W=="symbol"}t.isSymbol=I;function E(W){return W===void 0}t.isUndefined=E;function U(W){return T(W)&&O(W)==="[object RegExp]"}t.isRegExp=U,t.types.isRegExp=U;function T(W){return typeof W=="object"&&W!==null}t.isObject=T;function ne(W){return T(W)&&O(W)==="[object Date]"}t.isDate=ne,t.types.isDate=ne;function q(W){return T(W)&&(O(W)==="[object Error]"||W instanceof Error)}t.isError=q,t.types.isNativeError=q;function F(W){return typeof W=="function"}t.isFunction=F;function Y(W){return W===null||typeof W=="boolean"||typeof W=="number"||typeof W=="string"||typeof W=="symbol"||typeof W>"u"}t.isPrimitive=Y,t.isBuffer=Lse();function O(W){return Object.prototype.toString.call(W)}function se(W){return W<10?"0"+W.toString(10):W.toString(10)}var X=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function M(){var W=new Date,le=[se(W.getHours()),se(W.getMinutes()),se(W.getSeconds())].join(":");return[W.getDate(),X[W.getMonth()],le].join(" ")}t.log=function(){console.log("%s - %s",M(),t.format.apply(t,arguments))},t.inherits=oc(),t._extend=function(W,le){if(!le||!T(le))return W;for(var oe=Object.keys(le),ve=oe.length;ve--;)W[oe[ve]]=le[oe[ve]];return W};function K(W,le){return Object.prototype.hasOwnProperty.call(W,le)}var z=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(le){if(typeof le!="function")throw new TypeError('The "original" argument must be of type Function');if(z&&le[z]){var oe=le[z];if(typeof oe!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(oe,z,{value:oe,enumerable:!1,writable:!1,configurable:!0}),oe}function oe(){for(var ve,me,$=new Promise(function(Z,ee){ve=Z,me=ee}),H=[],fe=0;fe<arguments.length;fe++)H.push(arguments[fe]);H.push(function(Z,ee){Z?me(Z):ve(ee)});try{le.apply(this,H)}catch(Z){me(Z)}return $}return Object.setPrototypeOf(oe,Object.getPrototypeOf(le)),z&&Object.defineProperty(oe,z,{value:oe,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(oe,e(le))},t.promisify.custom=z;function he(W,le){if(!W){var oe=new Error("Promise was rejected with a falsy value");oe.reason=W,W=oe}return le(W)}function V(W){if(typeof W!="function")throw new TypeError('The "original" argument must be of type Function');function le(){for(var oe=[],ve=0;ve<arguments.length;ve++)oe.push(arguments[ve]);var me=oe.pop();if(typeof me!="function")throw new TypeError("The last argument must be of type Function");var $=this,H=function(){return me.apply($,arguments)};W.apply(this,oe).then(function(fe){ss.nextTick(H.bind(null,null,fe))},function(fe){ss.nextTick(he.bind(null,fe,H))})}return Object.setPrototypeOf(le,Object.getPrototypeOf(W)),Object.defineProperties(le,e(W)),le}t.callbackify=V})(fw)),fw}var hj,J4;function Fse(){if(J4)return hj;J4=1;function t(g,y){var v=Object.keys(g);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(g);y&&(w=w.filter(function(_){return Object.getOwnPropertyDescriptor(g,_).enumerable})),v.push.apply(v,w)}return v}function e(g){for(var y=1;y<arguments.length;y++){var v=arguments[y]!=null?arguments[y]:{};y%2?t(Object(v),!0).forEach(function(w){r(g,w,v[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(v)):t(Object(v)).forEach(function(w){Object.defineProperty(g,w,Object.getOwnPropertyDescriptor(v,w))})}return g}function r(g,y,v){return y in g?Object.defineProperty(g,y,{value:v,enumerable:!0,configurable:!0,writable:!0}):g[y]=v,g}function n(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function a(g,y){for(var v=0;v<y.length;v++){var w=y[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}function i(g,y,v){return y&&a(g.prototype,y),g}var o=ry(),c=o.Buffer,d=O8(),h=d.inspect,m=h&&h.custom||"inspect";function f(g,y,v){c.prototype.copy.call(g,y,v)}return hj=(function(){function g(){n(this,g),this.head=null,this.tail=null,this.length=0}return i(g,[{key:"push",value:function(v){var w={data:v,next:null};this.length>0?this.tail.next=w:this.head=w,this.tail=w,++this.length}},{key:"unshift",value:function(v){var w={data:v,next:this.head};this.length===0&&(this.tail=w),this.head=w,++this.length}},{key:"shift",value:function(){if(this.length!==0){var v=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,v}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(v){if(this.length===0)return"";for(var w=this.head,_=""+w.data;w=w.next;)_+=v+w.data;return _}},{key:"concat",value:function(v){if(this.length===0)return c.alloc(0);for(var w=c.allocUnsafe(v>>>0),_=this.head,b=0;_;)f(_.data,w,b),b+=_.data.length,_=_.next;return w}},{key:"consume",value:function(v,w){var _;return v<this.head.data.length?(_=this.head.data.slice(0,v),this.head.data=this.head.data.slice(v)):v===this.head.data.length?_=this.shift():_=w?this._getString(v):this._getBuffer(v),_}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(v){var w=this.head,_=1,b=w.data;for(v-=b.length;w=w.next;){var N=w.data,k=v>N.length?N.length:v;if(k===N.length?b+=N:b+=N.slice(0,v),v-=k,v===0){k===N.length?(++_,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=N.slice(k));break}++_}return this.length-=_,b}},{key:"_getBuffer",value:function(v){var w=c.allocUnsafe(v),_=this.head,b=1;for(_.data.copy(w),v-=_.data.length;_=_.next;){var N=_.data,k=v>N.length?N.length:v;if(N.copy(w,w.length-v,0,k),v-=k,v===0){k===N.length?(++b,_.next?this.head=_.next:this.head=this.tail=null):(this.head=_,_.data=N.slice(k));break}++b}return this.length-=b,w}},{key:m,value:function(v,w){return h(this,e({},w,{depth:0,customInspect:!1}))}}]),g})(),hj}var fj,e5;function L8(){if(e5)return fj;e5=1;function t(o,c){var d=this,h=this._readableState&&this._readableState.destroyed,m=this._writableState&&this._writableState.destroyed;return h||m?(c?c(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,ss.nextTick(a,this,o)):ss.nextTick(a,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(f){!c&&f?d._writableState?d._writableState.errorEmitted?ss.nextTick(r,d):(d._writableState.errorEmitted=!0,ss.nextTick(e,d,f)):ss.nextTick(e,d,f):c?(ss.nextTick(r,d),c(f)):ss.nextTick(r,d)}),this)}function e(o,c){a(o,c),r(o)}function r(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function a(o,c){o.emit("error",c)}function i(o,c){var d=o._readableState,h=o._writableState;d&&d.autoDestroy||h&&h.autoDestroy?o.destroy(c):o.emit("error",c)}return fj={destroy:t,undestroy:n,errorOrDestroy:i},fj}var mj={},t5;function yh(){if(t5)return mj;t5=1;function t(c,d){c.prototype=Object.create(d.prototype),c.prototype.constructor=c,c.__proto__=d}var e={};function r(c,d,h){h||(h=Error);function m(g,y,v){return typeof d=="string"?d:d(g,y,v)}var f=(function(g){t(y,g);function y(v,w,_){return g.call(this,m(v,w,_))||this}return y})(h);f.prototype.name=h.name,f.prototype.code=c,e[c]=f}function n(c,d){if(Array.isArray(c)){var h=c.length;return c=c.map(function(m){return String(m)}),h>2?"one of ".concat(d," ").concat(c.slice(0,h-1).join(", "),", or ")+c[h-1]:h===2?"one of ".concat(d," ").concat(c[0]," or ").concat(c[1]):"of ".concat(d," ").concat(c[0])}else return"of ".concat(d," ").concat(String(c))}function a(c,d,h){return c.substr(0,d.length)===d}function i(c,d,h){return(h===void 0||h>c.length)&&(h=c.length),c.substring(h-d.length,h)===d}function o(c,d,h){return typeof h!="number"&&(h=0),h+d.length>c.length?!1:c.indexOf(d,h)!==-1}return r("ERR_INVALID_OPT_VALUE",function(c,d){return'The value "'+d+'" is invalid for option "'+c+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(c,d,h){var m;typeof d=="string"&&a(d,"not ")?(m="must not be",d=d.replace(/^not /,"")):m="must be";var f;if(i(c," argument"))f="The ".concat(c," ").concat(m," ").concat(n(d,"type"));else{var g=o(c,".")?"property":"argument";f='The "'.concat(c,'" ').concat(g," ").concat(m," ").concat(n(d,"type"))}return f+=". Received type ".concat(typeof h),f},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(c){return"The "+c+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(c){return"Cannot call "+c+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(c){return"Unknown encoding: "+c},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),mj.codes=e,mj}var pj,s5;function F8(){if(s5)return pj;s5=1;var t=yh().codes.ERR_INVALID_OPT_VALUE;function e(n,a,i){return n.highWaterMark!=null?n.highWaterMark:a?n[i]:null}function r(n,a,i,o){var c=e(a,o,i);if(c!=null){if(!(isFinite(c)&&Math.floor(c)===c)||c<0){var d=o?i:"highWaterMark";throw new t(d,c)}return Math.floor(c)}return n.objectMode?16:16*1024}return pj={getHighWaterMark:r},pj}var gj,r5;function Bse(){if(r5)return gj;r5=1,gj=t;function t(r,n){if(e("noDeprecation"))return r;var a=!1;function i(){if(!a){if(e("throwDeprecation"))throw new Error(n);e("traceDeprecation")?console.trace(n):console.warn(n),a=!0}return r.apply(this,arguments)}return i}function e(r){try{if(!Ii.localStorage)return!1}catch{return!1}var n=Ii.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return gj}var xj,n5;function B8(){if(n5)return xj;n5=1,xj=U;function t(me){var $=this;this.next=null,this.entry=null,this.finish=function(){ve($,me)}}var e;U.WritableState=I;var r={deprecate:Bse()},n=S8(),a=ry().Buffer,i=Ii.Uint8Array||function(){};function o(me){return a.from(me)}function c(me){return a.isBuffer(me)||me instanceof i}var d=L8(),h=F8(),m=h.getHighWaterMark,f=yh().codes,g=f.ERR_INVALID_ARG_TYPE,y=f.ERR_METHOD_NOT_IMPLEMENTED,v=f.ERR_MULTIPLE_CALLBACK,w=f.ERR_STREAM_CANNOT_PIPE,_=f.ERR_STREAM_DESTROYED,b=f.ERR_STREAM_NULL_VALUES,N=f.ERR_STREAM_WRITE_AFTER_END,k=f.ERR_UNKNOWN_ENCODING,S=d.errorOrDestroy;oc()(U,n);function C(){}function I(me,$,H){e=e||Gu(),me=me||{},typeof H!="boolean"&&(H=$ instanceof e),this.objectMode=!!me.objectMode,H&&(this.objectMode=this.objectMode||!!me.writableObjectMode),this.highWaterMark=m(this,me,"writableHighWaterMark",H),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var fe=me.decodeStrings===!1;this.decodeStrings=!fe,this.defaultEncoding=me.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Z){X($,Z)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=me.emitClose!==!1,this.autoDestroy=!!me.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}I.prototype.getBuffer=function(){for(var $=this.bufferedRequest,H=[];$;)H.push($),$=$.next;return H},(function(){try{Object.defineProperty(I.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var E;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(E=Function.prototype[Symbol.hasInstance],Object.defineProperty(U,Symbol.hasInstance,{value:function($){return E.call(this,$)?!0:this!==U?!1:$&&$._writableState instanceof I}})):E=function($){return $ instanceof this};function U(me){e=e||Gu();var $=this instanceof e;if(!$&&!E.call(U,this))return new U(me);this._writableState=new I(me,this,$),this.writable=!0,me&&(typeof me.write=="function"&&(this._write=me.write),typeof me.writev=="function"&&(this._writev=me.writev),typeof me.destroy=="function"&&(this._destroy=me.destroy),typeof me.final=="function"&&(this._final=me.final)),n.call(this)}U.prototype.pipe=function(){S(this,new w)};function T(me,$){var H=new N;S(me,H),ss.nextTick($,H)}function ne(me,$,H,fe){var Z;return H===null?Z=new b:typeof H!="string"&&!$.objectMode&&(Z=new g("chunk",["string","Buffer"],H)),Z?(S(me,Z),ss.nextTick(fe,Z),!1):!0}U.prototype.write=function(me,$,H){var fe=this._writableState,Z=!1,ee=!fe.objectMode&&c(me);return ee&&!a.isBuffer(me)&&(me=o(me)),typeof $=="function"&&(H=$,$=null),ee?$="buffer":$||($=fe.defaultEncoding),typeof H!="function"&&(H=C),fe.ending?T(this,H):(ee||ne(this,fe,me,H))&&(fe.pendingcb++,Z=F(this,fe,ee,me,$,H)),Z},U.prototype.cork=function(){this._writableState.corked++},U.prototype.uncork=function(){var me=this._writableState;me.corked&&(me.corked--,!me.writing&&!me.corked&&!me.bufferProcessing&&me.bufferedRequest&&z(this,me))},U.prototype.setDefaultEncoding=function($){if(typeof $=="string"&&($=$.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf(($+"").toLowerCase())>-1))throw new k($);return this._writableState.defaultEncoding=$,this},Object.defineProperty(U.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function q(me,$,H){return!me.objectMode&&me.decodeStrings!==!1&&typeof $=="string"&&($=a.from($,H)),$}Object.defineProperty(U.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function F(me,$,H,fe,Z,ee){if(!H){var J=q($,fe,Z);fe!==J&&(H=!0,Z="buffer",fe=J)}var ke=$.objectMode?1:fe.length;$.length+=ke;var L=$.length<$.highWaterMark;if(L||($.needDrain=!0),$.writing||$.corked){var Te=$.lastBufferedRequest;$.lastBufferedRequest={chunk:fe,encoding:Z,isBuf:H,callback:ee,next:null},Te?Te.next=$.lastBufferedRequest:$.bufferedRequest=$.lastBufferedRequest,$.bufferedRequestCount+=1}else Y(me,$,!1,ke,fe,Z,ee);return L}function Y(me,$,H,fe,Z,ee,J){$.writelen=fe,$.writecb=J,$.writing=!0,$.sync=!0,$.destroyed?$.onwrite(new _("write")):H?me._writev(Z,$.onwrite):me._write(Z,ee,$.onwrite),$.sync=!1}function O(me,$,H,fe,Z){--$.pendingcb,H?(ss.nextTick(Z,fe),ss.nextTick(le,me,$),me._writableState.errorEmitted=!0,S(me,fe)):(Z(fe),me._writableState.errorEmitted=!0,S(me,fe),le(me,$))}function se(me){me.writing=!1,me.writecb=null,me.length-=me.writelen,me.writelen=0}function X(me,$){var H=me._writableState,fe=H.sync,Z=H.writecb;if(typeof Z!="function")throw new v;if(se(H),$)O(me,H,fe,$,Z);else{var ee=he(H)||me.destroyed;!ee&&!H.corked&&!H.bufferProcessing&&H.bufferedRequest&&z(me,H),fe?ss.nextTick(M,me,H,ee,Z):M(me,H,ee,Z)}}function M(me,$,H,fe){H||K(me,$),$.pendingcb--,fe(),le(me,$)}function K(me,$){$.length===0&&$.needDrain&&($.needDrain=!1,me.emit("drain"))}function z(me,$){$.bufferProcessing=!0;var H=$.bufferedRequest;if(me._writev&&H&&H.next){var fe=$.bufferedRequestCount,Z=new Array(fe),ee=$.corkedRequestsFree;ee.entry=H;for(var J=0,ke=!0;H;)Z[J]=H,H.isBuf||(ke=!1),H=H.next,J+=1;Z.allBuffers=ke,Y(me,$,!0,$.length,Z,"",ee.finish),$.pendingcb++,$.lastBufferedRequest=null,ee.next?($.corkedRequestsFree=ee.next,ee.next=null):$.corkedRequestsFree=new t($),$.bufferedRequestCount=0}else{for(;H;){var L=H.chunk,Te=H.encoding,Q=H.callback,R=$.objectMode?1:L.length;if(Y(me,$,!1,R,L,Te,Q),H=H.next,$.bufferedRequestCount--,$.writing)break}H===null&&($.lastBufferedRequest=null)}$.bufferedRequest=H,$.bufferProcessing=!1}U.prototype._write=function(me,$,H){H(new y("_write()"))},U.prototype._writev=null,U.prototype.end=function(me,$,H){var fe=this._writableState;return typeof me=="function"?(H=me,me=null,$=null):typeof $=="function"&&(H=$,$=null),me!=null&&this.write(me,$),fe.corked&&(fe.corked=1,this.uncork()),fe.ending||oe(this,fe,H),this},Object.defineProperty(U.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function he(me){return me.ending&&me.length===0&&me.bufferedRequest===null&&!me.finished&&!me.writing}function V(me,$){me._final(function(H){$.pendingcb--,H&&S(me,H),$.prefinished=!0,me.emit("prefinish"),le(me,$)})}function W(me,$){!$.prefinished&&!$.finalCalled&&(typeof me._final=="function"&&!$.destroyed?($.pendingcb++,$.finalCalled=!0,ss.nextTick(V,me,$)):($.prefinished=!0,me.emit("prefinish")))}function le(me,$){var H=he($);if(H&&(W(me,$),$.pendingcb===0&&($.finished=!0,me.emit("finish"),$.autoDestroy))){var fe=me._readableState;(!fe||fe.autoDestroy&&fe.endEmitted)&&me.destroy()}return H}function oe(me,$,H){$.ending=!0,le(me,$),H&&($.finished?ss.nextTick(H):me.once("finish",H)),$.ended=!0,me.writable=!1}function ve(me,$,H){var fe=me.entry;for(me.entry=null;fe;){var Z=fe.callback;$.pendingcb--,Z(H),fe=fe.next}$.corkedRequestsFree.next=me}return Object.defineProperty(U.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function($){this._writableState&&(this._writableState.destroyed=$)}}),U.prototype.destroy=d.destroy,U.prototype._undestroy=d.undestroy,U.prototype._destroy=function(me,$){$(me)},xj}var yj,a5;function Gu(){if(a5)return yj;a5=1;var t=Object.keys||function(h){var m=[];for(var f in h)m.push(f);return m};yj=o;var e=I8(),r=B8();oc()(o,e);for(var n=t(r.prototype),a=0;a<n.length;a++){var i=n[a];o.prototype[i]||(o.prototype[i]=r.prototype[i])}function o(h){if(!(this instanceof o))return new o(h);e.call(this,h),r.call(this,h),this.allowHalfOpen=!0,h&&(h.readable===!1&&(this.readable=!1),h.writable===!1&&(this.writable=!1),h.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",c)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function c(){this._writableState.ended||ss.nextTick(d,this)}function d(h){h.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(m){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=m,this._writableState.destroyed=m)}}),yj}var bj={},Pg={exports:{}},i5;function Ise(){return i5||(i5=1,(function(t,e){var r=ry(),n=r.Buffer;function a(o,c){for(var d in o)c[d]=o[d]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(a(r,e),e.Buffer=i);function i(o,c,d){return n(o,c,d)}a(n,i),i.from=function(o,c,d){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,c,d)},i.alloc=function(o,c,d){if(typeof o!="number")throw new TypeError("Argument must be a number");var h=n(o);return c!==void 0?typeof d=="string"?h.fill(c,d):h.fill(c):h.fill(0),h},i.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},i.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(Pg,Pg.exports)),Pg.exports}var o5;function k_(){if(o5)return bj;o5=1;var t=Ise().Buffer,e=t.isEncoding||function(b){switch(b=""+b,b&&b.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(b){if(!b)return"utf8";for(var N;;)switch(b){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return b;default:if(N)return;b=(""+b).toLowerCase(),N=!0}}function n(b){var N=r(b);if(typeof N!="string"&&(t.isEncoding===e||!e(b)))throw new Error("Unknown encoding: "+b);return N||b}bj.StringDecoder=a;function a(b){this.encoding=n(b);var N;switch(this.encoding){case"utf16le":this.text=f,this.end=g,N=4;break;case"utf8":this.fillLast=d,N=4;break;case"base64":this.text=y,this.end=v,N=3;break;default:this.write=w,this.end=_;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(N)}a.prototype.write=function(b){if(b.length===0)return"";var N,k;if(this.lastNeed){if(N=this.fillLast(b),N===void 0)return"";k=this.lastNeed,this.lastNeed=0}else k=0;return k<b.length?N?N+this.text(b,k):this.text(b,k):N||""},a.prototype.end=m,a.prototype.text=h,a.prototype.fillLast=function(b){if(this.lastNeed<=b.length)return b.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);b.copy(this.lastChar,this.lastTotal-this.lastNeed,0,b.length),this.lastNeed-=b.length};function i(b){return b<=127?0:b>>5===6?2:b>>4===14?3:b>>3===30?4:b>>6===2?-1:-2}function o(b,N,k){var S=N.length-1;if(S<k)return 0;var C=i(N[S]);return C>=0?(C>0&&(b.lastNeed=C-1),C):--S<k||C===-2?0:(C=i(N[S]),C>=0?(C>0&&(b.lastNeed=C-2),C):--S<k||C===-2?0:(C=i(N[S]),C>=0?(C>0&&(C===2?C=0:b.lastNeed=C-3),C):0))}function c(b,N,k){if((N[0]&192)!==128)return b.lastNeed=0,"";if(b.lastNeed>1&&N.length>1){if((N[1]&192)!==128)return b.lastNeed=1,"";if(b.lastNeed>2&&N.length>2&&(N[2]&192)!==128)return b.lastNeed=2,""}}function d(b){var N=this.lastTotal-this.lastNeed,k=c(this,b);if(k!==void 0)return k;if(this.lastNeed<=b.length)return b.copy(this.lastChar,N,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);b.copy(this.lastChar,N,0,b.length),this.lastNeed-=b.length}function h(b,N){var k=o(this,b,N);if(!this.lastNeed)return b.toString("utf8",N);this.lastTotal=k;var S=b.length-(k-this.lastNeed);return b.copy(this.lastChar,0,S),b.toString("utf8",N,S)}function m(b){var N=b&&b.length?this.write(b):"";return this.lastNeed?N+"":N}function f(b,N){if((b.length-N)%2===0){var k=b.toString("utf16le",N);if(k){var S=k.charCodeAt(k.length-1);if(S>=55296&&S<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=b[b.length-2],this.lastChar[1]=b[b.length-1],k.slice(0,-1)}return k}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=b[b.length-1],b.toString("utf16le",N,b.length-1)}function g(b){var N=b&&b.length?this.write(b):"";if(this.lastNeed){var k=this.lastTotal-this.lastNeed;return N+this.lastChar.toString("utf16le",0,k)}return N}function y(b,N){var k=(b.length-N)%3;return k===0?b.toString("base64",N):(this.lastNeed=3-k,this.lastTotal=3,k===1?this.lastChar[0]=b[b.length-1]:(this.lastChar[0]=b[b.length-2],this.lastChar[1]=b[b.length-1]),b.toString("base64",N,b.length-k))}function v(b){var N=b&&b.length?this.write(b):"";return this.lastNeed?N+this.lastChar.toString("base64",0,3-this.lastNeed):N}function w(b){return b.toString(this.encoding)}function _(b){return b&&b.length?this.write(b):""}return bj}var vj,l5;function h2(){if(l5)return vj;l5=1;var t=yh().codes.ERR_STREAM_PREMATURE_CLOSE;function e(i){var o=!1;return function(){if(!o){o=!0;for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];i.apply(this,d)}}}function r(){}function n(i){return i.setHeader&&typeof i.abort=="function"}function a(i,o,c){if(typeof o=="function")return a(i,null,o);o||(o={}),c=e(c||r);var d=o.readable||o.readable!==!1&&i.readable,h=o.writable||o.writable!==!1&&i.writable,m=function(){i.writable||g()},f=i._writableState&&i._writableState.finished,g=function(){h=!1,f=!0,d||c.call(i)},y=i._readableState&&i._readableState.endEmitted,v=function(){d=!1,y=!0,h||c.call(i)},w=function(k){c.call(i,k)},_=function(){var k;if(d&&!y)return(!i._readableState||!i._readableState.ended)&&(k=new t),c.call(i,k);if(h&&!f)return(!i._writableState||!i._writableState.ended)&&(k=new t),c.call(i,k)},b=function(){i.req.on("finish",g)};return n(i)?(i.on("complete",g),i.on("abort",_),i.req?b():i.on("request",b)):h&&!i._writableState&&(i.on("end",m),i.on("close",m)),i.on("end",v),i.on("finish",g),o.error!==!1&&i.on("error",w),i.on("close",_),function(){i.removeListener("complete",g),i.removeListener("abort",_),i.removeListener("request",b),i.req&&i.req.removeListener("finish",g),i.removeListener("end",m),i.removeListener("close",m),i.removeListener("finish",g),i.removeListener("end",v),i.removeListener("error",w),i.removeListener("close",_)}}return vj=a,vj}var wj,c5;function zse(){if(c5)return wj;c5=1;var t;function e(b,N,k){return N in b?Object.defineProperty(b,N,{value:k,enumerable:!0,configurable:!0,writable:!0}):b[N]=k,b}var r=h2(),n=Symbol("lastResolve"),a=Symbol("lastReject"),i=Symbol("error"),o=Symbol("ended"),c=Symbol("lastPromise"),d=Symbol("handlePromise"),h=Symbol("stream");function m(b,N){return{value:b,done:N}}function f(b){var N=b[n];if(N!==null){var k=b[h].read();k!==null&&(b[c]=null,b[n]=null,b[a]=null,N(m(k,!1)))}}function g(b){ss.nextTick(f,b)}function y(b,N){return function(k,S){b.then(function(){if(N[o]){k(m(void 0,!0));return}N[d](k,S)},S)}}var v=Object.getPrototypeOf(function(){}),w=Object.setPrototypeOf((t={get stream(){return this[h]},next:function(){var N=this,k=this[i];if(k!==null)return Promise.reject(k);if(this[o])return Promise.resolve(m(void 0,!0));if(this[h].destroyed)return new Promise(function(E,U){ss.nextTick(function(){N[i]?U(N[i]):E(m(void 0,!0))})});var S=this[c],C;if(S)C=new Promise(y(S,this));else{var I=this[h].read();if(I!==null)return Promise.resolve(m(I,!1));C=new Promise(this[d])}return this[c]=C,C}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var N=this;return new Promise(function(k,S){N[h].destroy(null,function(C){if(C){S(C);return}k(m(void 0,!0))})})}),t),v),_=function(N){var k,S=Object.create(w,(k={},e(k,h,{value:N,writable:!0}),e(k,n,{value:null,writable:!0}),e(k,a,{value:null,writable:!0}),e(k,i,{value:null,writable:!0}),e(k,o,{value:N._readableState.endEmitted,writable:!0}),e(k,d,{value:function(I,E){var U=S[h].read();U?(S[c]=null,S[n]=null,S[a]=null,I(m(U,!1))):(S[n]=I,S[a]=E)},writable:!0}),k));return S[c]=null,r(N,function(C){if(C&&C.code!=="ERR_STREAM_PREMATURE_CLOSE"){var I=S[a];I!==null&&(S[c]=null,S[n]=null,S[a]=null,I(C)),S[i]=C;return}var E=S[n];E!==null&&(S[c]=null,S[n]=null,S[a]=null,E(m(void 0,!0))),S[o]=!0}),N.on("readable",g.bind(null,S)),S};return wj=_,wj}var jj,d5;function Use(){return d5||(d5=1,jj=function(){throw new Error("Readable.from is not available in the browser")}),jj}var _j,u5;function I8(){if(u5)return _j;u5=1,_j=T;var t;T.ReadableState=U,i2().EventEmitter;var e=function(J,ke){return J.listeners(ke).length},r=S8(),n=ry().Buffer,a=Ii.Uint8Array||function(){};function i(ee){return n.from(ee)}function o(ee){return n.isBuffer(ee)||ee instanceof a}var c=O8(),d;c&&c.debuglog?d=c.debuglog("stream"):d=function(){};var h=Fse(),m=L8(),f=F8(),g=f.getHighWaterMark,y=yh().codes,v=y.ERR_INVALID_ARG_TYPE,w=y.ERR_STREAM_PUSH_AFTER_EOF,_=y.ERR_METHOD_NOT_IMPLEMENTED,b=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,N,k,S;oc()(T,r);var C=m.errorOrDestroy,I=["error","close","destroy","pause","resume"];function E(ee,J,ke){if(typeof ee.prependListener=="function")return ee.prependListener(J,ke);!ee._events||!ee._events[J]?ee.on(J,ke):Array.isArray(ee._events[J])?ee._events[J].unshift(ke):ee._events[J]=[ke,ee._events[J]]}function U(ee,J,ke){t=t||Gu(),ee=ee||{},typeof ke!="boolean"&&(ke=J instanceof t),this.objectMode=!!ee.objectMode,ke&&(this.objectMode=this.objectMode||!!ee.readableObjectMode),this.highWaterMark=g(this,ee,"readableHighWaterMark",ke),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=ee.emitClose!==!1,this.autoDestroy=!!ee.autoDestroy,this.destroyed=!1,this.defaultEncoding=ee.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,ee.encoding&&(N||(N=k_().StringDecoder),this.decoder=new N(ee.encoding),this.encoding=ee.encoding)}function T(ee){if(t=t||Gu(),!(this instanceof T))return new T(ee);var J=this instanceof t;this._readableState=new U(ee,this,J),this.readable=!0,ee&&(typeof ee.read=="function"&&(this._read=ee.read),typeof ee.destroy=="function"&&(this._destroy=ee.destroy)),r.call(this)}Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(J){this._readableState&&(this._readableState.destroyed=J)}}),T.prototype.destroy=m.destroy,T.prototype._undestroy=m.undestroy,T.prototype._destroy=function(ee,J){J(ee)},T.prototype.push=function(ee,J){var ke=this._readableState,L;return ke.objectMode?L=!0:typeof ee=="string"&&(J=J||ke.defaultEncoding,J!==ke.encoding&&(ee=n.from(ee,J),J=""),L=!0),ne(this,ee,J,!1,L)},T.prototype.unshift=function(ee){return ne(this,ee,null,!0,!1)};function ne(ee,J,ke,L,Te){d("readableAddChunk",J);var Q=ee._readableState;if(J===null)Q.reading=!1,X(ee,Q);else{var R;if(Te||(R=F(Q,J)),R)C(ee,R);else if(Q.objectMode||J&&J.length>0)if(typeof J!="string"&&!Q.objectMode&&Object.getPrototypeOf(J)!==n.prototype&&(J=i(J)),L)Q.endEmitted?C(ee,new b):q(ee,Q,J,!0);else if(Q.ended)C(ee,new w);else{if(Q.destroyed)return!1;Q.reading=!1,Q.decoder&&!ke?(J=Q.decoder.write(J),Q.objectMode||J.length!==0?q(ee,Q,J,!1):z(ee,Q)):q(ee,Q,J,!1)}else L||(Q.reading=!1,z(ee,Q))}return!Q.ended&&(Q.length<Q.highWaterMark||Q.length===0)}function q(ee,J,ke,L){J.flowing&&J.length===0&&!J.sync?(J.awaitDrain=0,ee.emit("data",ke)):(J.length+=J.objectMode?1:ke.length,L?J.buffer.unshift(ke):J.buffer.push(ke),J.needReadable&&M(ee)),z(ee,J)}function F(ee,J){var ke;return!o(J)&&typeof J!="string"&&J!==void 0&&!ee.objectMode&&(ke=new v("chunk",["string","Buffer","Uint8Array"],J)),ke}T.prototype.isPaused=function(){return this._readableState.flowing===!1},T.prototype.setEncoding=function(ee){N||(N=k_().StringDecoder);var J=new N(ee);this._readableState.decoder=J,this._readableState.encoding=this._readableState.decoder.encoding;for(var ke=this._readableState.buffer.head,L="";ke!==null;)L+=J.write(ke.data),ke=ke.next;return this._readableState.buffer.clear(),L!==""&&this._readableState.buffer.push(L),this._readableState.length=L.length,this};var Y=1073741824;function O(ee){return ee>=Y?ee=Y:(ee--,ee|=ee>>>1,ee|=ee>>>2,ee|=ee>>>4,ee|=ee>>>8,ee|=ee>>>16,ee++),ee}function se(ee,J){return ee<=0||J.length===0&&J.ended?0:J.objectMode?1:ee!==ee?J.flowing&&J.length?J.buffer.head.data.length:J.length:(ee>J.highWaterMark&&(J.highWaterMark=O(ee)),ee<=J.length?ee:J.ended?J.length:(J.needReadable=!0,0))}T.prototype.read=function(ee){d("read",ee),ee=parseInt(ee,10);var J=this._readableState,ke=ee;if(ee!==0&&(J.emittedReadable=!1),ee===0&&J.needReadable&&((J.highWaterMark!==0?J.length>=J.highWaterMark:J.length>0)||J.ended))return d("read: emitReadable",J.length,J.ended),J.length===0&&J.ended?H(this):M(this),null;if(ee=se(ee,J),ee===0&&J.ended)return J.length===0&&H(this),null;var L=J.needReadable;d("need readable",L),(J.length===0||J.length-ee<J.highWaterMark)&&(L=!0,d("length less than watermark",L)),J.ended||J.reading?(L=!1,d("reading or ended",L)):L&&(d("do read"),J.reading=!0,J.sync=!0,J.length===0&&(J.needReadable=!0),this._read(J.highWaterMark),J.sync=!1,J.reading||(ee=se(ke,J)));var Te;return ee>0?Te=$(ee,J):Te=null,Te===null?(J.needReadable=J.length<=J.highWaterMark,ee=0):(J.length-=ee,J.awaitDrain=0),J.length===0&&(J.ended||(J.needReadable=!0),ke!==ee&&J.ended&&H(this)),Te!==null&&this.emit("data",Te),Te};function X(ee,J){if(d("onEofChunk"),!J.ended){if(J.decoder){var ke=J.decoder.end();ke&&ke.length&&(J.buffer.push(ke),J.length+=J.objectMode?1:ke.length)}J.ended=!0,J.sync?M(ee):(J.needReadable=!1,J.emittedReadable||(J.emittedReadable=!0,K(ee)))}}function M(ee){var J=ee._readableState;d("emitReadable",J.needReadable,J.emittedReadable),J.needReadable=!1,J.emittedReadable||(d("emitReadable",J.flowing),J.emittedReadable=!0,ss.nextTick(K,ee))}function K(ee){var J=ee._readableState;d("emitReadable_",J.destroyed,J.length,J.ended),!J.destroyed&&(J.length||J.ended)&&(ee.emit("readable"),J.emittedReadable=!1),J.needReadable=!J.flowing&&!J.ended&&J.length<=J.highWaterMark,me(ee)}function z(ee,J){J.readingMore||(J.readingMore=!0,ss.nextTick(he,ee,J))}function he(ee,J){for(;!J.reading&&!J.ended&&(J.length<J.highWaterMark||J.flowing&&J.length===0);){var ke=J.length;if(d("maybeReadMore read 0"),ee.read(0),ke===J.length)break}J.readingMore=!1}T.prototype._read=function(ee){C(this,new _("_read()"))},T.prototype.pipe=function(ee,J){var ke=this,L=this._readableState;switch(L.pipesCount){case 0:L.pipes=ee;break;case 1:L.pipes=[L.pipes,ee];break;default:L.pipes.push(ee);break}L.pipesCount+=1,d("pipe count=%d opts=%j",L.pipesCount,J);var Te=(!J||J.end!==!1)&&ee!==ss.stdout&&ee!==ss.stderr,Q=Te?P:Be;L.endEmitted?ss.nextTick(Q):ke.once("end",Q),ee.on("unpipe",R);function R(et,lt){d("onunpipe"),et===ke&&lt&&lt.hasUnpiped===!1&&(lt.hasUnpiped=!0,ce())}function P(){d("onend"),ee.end()}var G=V(ke);ee.on("drain",G);var ye=!1;function ce(){d("cleanup"),ee.removeListener("close",je),ee.removeListener("finish",Ae),ee.removeListener("drain",G),ee.removeListener("error",De),ee.removeListener("unpipe",R),ke.removeListener("end",P),ke.removeListener("end",Be),ke.removeListener("data",ue),ye=!0,L.awaitDrain&&(!ee._writableState||ee._writableState.needDrain)&&G()}ke.on("data",ue);function ue(et){d("ondata");var lt=ee.write(et);d("dest.write",lt),lt===!1&&((L.pipesCount===1&&L.pipes===ee||L.pipesCount>1&&Z(L.pipes,ee)!==-1)&&!ye&&(d("false write response, pause",L.awaitDrain),L.awaitDrain++),ke.pause())}function De(et){d("onerror",et),Be(),ee.removeListener("error",De),e(ee,"error")===0&&C(ee,et)}E(ee,"error",De);function je(){ee.removeListener("finish",Ae),Be()}ee.once("close",je);function Ae(){d("onfinish"),ee.removeListener("close",je),Be()}ee.once("finish",Ae);function Be(){d("unpipe"),ke.unpipe(ee)}return ee.emit("pipe",ke),L.flowing||(d("pipe resume"),ke.resume()),ee};function V(ee){return function(){var ke=ee._readableState;d("pipeOnDrain",ke.awaitDrain),ke.awaitDrain&&ke.awaitDrain--,ke.awaitDrain===0&&e(ee,"data")&&(ke.flowing=!0,me(ee))}}T.prototype.unpipe=function(ee){var J=this._readableState,ke={hasUnpiped:!1};if(J.pipesCount===0)return this;if(J.pipesCount===1)return ee&&ee!==J.pipes?this:(ee||(ee=J.pipes),J.pipes=null,J.pipesCount=0,J.flowing=!1,ee&&ee.emit("unpipe",this,ke),this);if(!ee){var L=J.pipes,Te=J.pipesCount;J.pipes=null,J.pipesCount=0,J.flowing=!1;for(var Q=0;Q<Te;Q++)L[Q].emit("unpipe",this,{hasUnpiped:!1});return this}var R=Z(J.pipes,ee);return R===-1?this:(J.pipes.splice(R,1),J.pipesCount-=1,J.pipesCount===1&&(J.pipes=J.pipes[0]),ee.emit("unpipe",this,ke),this)},T.prototype.on=function(ee,J){var ke=r.prototype.on.call(this,ee,J),L=this._readableState;return ee==="data"?(L.readableListening=this.listenerCount("readable")>0,L.flowing!==!1&&this.resume()):ee==="readable"&&!L.endEmitted&&!L.readableListening&&(L.readableListening=L.needReadable=!0,L.flowing=!1,L.emittedReadable=!1,d("on readable",L.length,L.reading),L.length?M(this):L.reading||ss.nextTick(le,this)),ke},T.prototype.addListener=T.prototype.on,T.prototype.removeListener=function(ee,J){var ke=r.prototype.removeListener.call(this,ee,J);return ee==="readable"&&ss.nextTick(W,this),ke},T.prototype.removeAllListeners=function(ee){var J=r.prototype.removeAllListeners.apply(this,arguments);return(ee==="readable"||ee===void 0)&&ss.nextTick(W,this),J};function W(ee){var J=ee._readableState;J.readableListening=ee.listenerCount("readable")>0,J.resumeScheduled&&!J.paused?J.flowing=!0:ee.listenerCount("data")>0&&ee.resume()}function le(ee){d("readable nexttick read 0"),ee.read(0)}T.prototype.resume=function(){var ee=this._readableState;return ee.flowing||(d("resume"),ee.flowing=!ee.readableListening,oe(this,ee)),ee.paused=!1,this};function oe(ee,J){J.resumeScheduled||(J.resumeScheduled=!0,ss.nextTick(ve,ee,J))}function ve(ee,J){d("resume",J.reading),J.reading||ee.read(0),J.resumeScheduled=!1,ee.emit("resume"),me(ee),J.flowing&&!J.reading&&ee.read(0)}T.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function me(ee){var J=ee._readableState;for(d("flow",J.flowing);J.flowing&&ee.read()!==null;);}T.prototype.wrap=function(ee){var J=this,ke=this._readableState,L=!1;ee.on("end",function(){if(d("wrapped end"),ke.decoder&&!ke.ended){var R=ke.decoder.end();R&&R.length&&J.push(R)}J.push(null)}),ee.on("data",function(R){if(d("wrapped data"),ke.decoder&&(R=ke.decoder.write(R)),!(ke.objectMode&&R==null)&&!(!ke.objectMode&&(!R||!R.length))){var P=J.push(R);P||(L=!0,ee.pause())}});for(var Te in ee)this[Te]===void 0&&typeof ee[Te]=="function"&&(this[Te]=(function(P){return function(){return ee[P].apply(ee,arguments)}})(Te));for(var Q=0;Q<I.length;Q++)ee.on(I[Q],this.emit.bind(this,I[Q]));return this._read=function(R){d("wrapped _read",R),L&&(L=!1,ee.resume())},this},typeof Symbol=="function"&&(T.prototype[Symbol.asyncIterator]=function(){return k===void 0&&(k=zse()),k(this)}),Object.defineProperty(T.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(T.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(T.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(J){this._readableState&&(this._readableState.flowing=J)}}),T._fromList=$,Object.defineProperty(T.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function $(ee,J){if(J.length===0)return null;var ke;return J.objectMode?ke=J.buffer.shift():!ee||ee>=J.length?(J.decoder?ke=J.buffer.join(""):J.buffer.length===1?ke=J.buffer.first():ke=J.buffer.concat(J.length),J.buffer.clear()):ke=J.buffer.consume(ee,J.decoder),ke}function H(ee){var J=ee._readableState;d("endReadable",J.endEmitted),J.endEmitted||(J.ended=!0,ss.nextTick(fe,J,ee))}function fe(ee,J){if(d("endReadableNT",ee.endEmitted,ee.length),!ee.endEmitted&&ee.length===0&&(ee.endEmitted=!0,J.readable=!1,J.emit("end"),ee.autoDestroy)){var ke=J._writableState;(!ke||ke.autoDestroy&&ke.finished)&&J.destroy()}}typeof Symbol=="function"&&(T.from=function(ee,J){return S===void 0&&(S=Use()),S(T,ee,J)});function Z(ee,J){for(var ke=0,L=ee.length;ke<L;ke++)if(ee[ke]===J)return ke;return-1}return _j}var Nj,h5;function z8(){if(h5)return Nj;h5=1,Nj=c;var t=yh().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,r=t.ERR_MULTIPLE_CALLBACK,n=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=t.ERR_TRANSFORM_WITH_LENGTH_0,i=Gu();oc()(c,i);function o(m,f){var g=this._transformState;g.transforming=!1;var y=g.writecb;if(y===null)return this.emit("error",new r);g.writechunk=null,g.writecb=null,f!=null&&this.push(f),y(m);var v=this._readableState;v.reading=!1,(v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}function c(m){if(!(this instanceof c))return new c(m);i.call(this,m),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,m&&(typeof m.transform=="function"&&(this._transform=m.transform),typeof m.flush=="function"&&(this._flush=m.flush)),this.on("prefinish",d)}function d(){var m=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(f,g){h(m,f,g)}):h(this,null,null)}c.prototype.push=function(m,f){return this._transformState.needTransform=!1,i.prototype.push.call(this,m,f)},c.prototype._transform=function(m,f,g){g(new e("_transform()"))},c.prototype._write=function(m,f,g){var y=this._transformState;if(y.writecb=g,y.writechunk=m,y.writeencoding=f,!y.transforming){var v=this._readableState;(y.needTransform||v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}},c.prototype._read=function(m){var f=this._transformState;f.writechunk!==null&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},c.prototype._destroy=function(m,f){i.prototype._destroy.call(this,m,function(g){f(g)})};function h(m,f,g){if(f)return m.emit("error",f);if(g!=null&&m.push(g),m._writableState.length)throw new a;if(m._transformState.transforming)throw new n;return m.push(null)}return Nj}var Sj,f5;function $se(){if(f5)return Sj;f5=1,Sj=e;var t=z8();oc()(e,t);function e(r){if(!(this instanceof e))return new e(r);t.call(this,r)}return e.prototype._transform=function(r,n,a){a(null,r)},Sj}var kj,m5;function Vse(){if(m5)return kj;m5=1;var t;function e(g){var y=!1;return function(){y||(y=!0,g.apply(void 0,arguments))}}var r=yh().codes,n=r.ERR_MISSING_ARGS,a=r.ERR_STREAM_DESTROYED;function i(g){if(g)throw g}function o(g){return g.setHeader&&typeof g.abort=="function"}function c(g,y,v,w){w=e(w);var _=!1;g.on("close",function(){_=!0}),t===void 0&&(t=h2()),t(g,{readable:y,writable:v},function(N){if(N)return w(N);_=!0,w()});var b=!1;return function(N){if(!_&&!b){if(b=!0,o(g))return g.abort();if(typeof g.destroy=="function")return g.destroy();w(N||new a("pipe"))}}}function d(g){g()}function h(g,y){return g.pipe(y)}function m(g){return!g.length||typeof g[g.length-1]!="function"?i:g.pop()}function f(){for(var g=arguments.length,y=new Array(g),v=0;v<g;v++)y[v]=arguments[v];var w=m(y);if(Array.isArray(y[0])&&(y=y[0]),y.length<2)throw new n("streams");var _,b=y.map(function(N,k){var S=k<y.length-1,C=k>0;return c(N,S,C,function(I){_||(_=I),I&&b.forEach(d),!S&&(b.forEach(d),w(_))})});return y.reduce(h)}return kj=f,kj}var Cj,p5;function f2(){if(p5)return Cj;p5=1,Cj=r;var t=i2().EventEmitter,e=oc();e(r,t),r.Readable=I8(),r.Writable=B8(),r.Duplex=Gu(),r.Transform=z8(),r.PassThrough=$se(),r.finished=h2(),r.pipeline=Vse(),r.Stream=r;function r(){t.call(this)}return r.prototype.pipe=function(n,a){var i=this;function o(y){n.writable&&n.write(y)===!1&&i.pause&&i.pause()}i.on("data",o);function c(){i.readable&&i.resume&&i.resume()}n.on("drain",c),!n._isStdio&&(!a||a.end!==!1)&&(i.on("end",h),i.on("close",m));var d=!1;function h(){d||(d=!0,n.end())}function m(){d||(d=!0,typeof n.destroy=="function"&&n.destroy())}function f(y){if(g(),t.listenerCount(this,"error")===0)throw y}i.on("error",f),n.on("error",f);function g(){i.removeListener("data",o),n.removeListener("drain",c),i.removeListener("end",h),i.removeListener("close",m),i.removeListener("error",f),n.removeListener("error",f),i.removeListener("end",g),i.removeListener("close",g),n.removeListener("close",g)}return i.on("end",g),i.on("close",g),n.on("close",g),n.emit("pipe",i),n},Cj}var g5;function Hse(){return g5||(g5=1,(function(t){(function(e){e.parser=function($,H){return new n($,H)},e.SAXParser=n,e.SAXStream=m,e.createStream=h,e.MAX_BUFFER_LENGTH=64*1024;var r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n($,H){if(!(this instanceof n))return new n($,H);var fe=this;i(fe),fe.q=fe.c="",fe.bufferCheckPosition=e.MAX_BUFFER_LENGTH,fe.opt=H||{},fe.opt.lowercase=fe.opt.lowercase||fe.opt.lowercasetags,fe.looseCase=fe.opt.lowercase?"toLowerCase":"toUpperCase",fe.tags=[],fe.closed=fe.closedRoot=fe.sawRoot=!1,fe.tag=fe.error=null,fe.strict=!!$,fe.noscript=!!($||fe.opt.noscript),fe.state=T.BEGIN,fe.strictEntities=fe.opt.strictEntities,fe.ENTITIES=fe.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),fe.attribList=[],fe.opt.xmlns&&(fe.ns=Object.create(w)),fe.trackPosition=fe.opt.position!==!1,fe.trackPosition&&(fe.position=fe.line=fe.column=0),q(fe,"onready")}Object.create||(Object.create=function($){function H(){}H.prototype=$;var fe=new H;return fe}),Object.keys||(Object.keys=function($){var H=[];for(var fe in $)$.hasOwnProperty(fe)&&H.push(fe);return H});function a($){for(var H=Math.max(e.MAX_BUFFER_LENGTH,10),fe=0,Z=0,ee=r.length;Z<ee;Z++){var J=$[r[Z]].length;if(J>H)switch(r[Z]){case"textNode":Y($);break;case"cdata":F($,"oncdata",$.cdata),$.cdata="";break;case"script":F($,"onscript",$.script),$.script="";break;default:se($,"Max buffer length exceeded: "+r[Z])}fe=Math.max(fe,J)}var ke=e.MAX_BUFFER_LENGTH-fe;$.bufferCheckPosition=ke+$.position}function i($){for(var H=0,fe=r.length;H<fe;H++)$[r[H]]=""}function o($){Y($),$.cdata!==""&&(F($,"oncdata",$.cdata),$.cdata=""),$.script!==""&&(F($,"onscript",$.script),$.script="")}n.prototype={end:function(){X(this)},write:me,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){o(this)}};var c;try{c=f2().Stream}catch{c=function(){}}var d=e.EVENTS.filter(function($){return $!=="error"&&$!=="end"});function h($,H){return new m($,H)}function m($,H){if(!(this instanceof m))return new m($,H);c.apply(this),this._parser=new n($,H),this.writable=!0,this.readable=!0;var fe=this;this._parser.onend=function(){fe.emit("end")},this._parser.onerror=function(Z){fe.emit("error",Z),fe._parser.error=null},this._decoder=null,d.forEach(function(Z){Object.defineProperty(fe,"on"+Z,{get:function(){return fe._parser["on"+Z]},set:function(ee){if(!ee)return fe.removeAllListeners(Z),fe._parser["on"+Z]=ee,ee;fe.on(Z,ee)},enumerable:!0,configurable:!1})})}m.prototype=Object.create(c.prototype,{constructor:{value:m}}),m.prototype.write=function($){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer($)){if(!this._decoder){var H=k_().StringDecoder;this._decoder=new H("utf8")}$=this._decoder.write($)}return this._parser.write($.toString()),this.emit("data",$),!0},m.prototype.end=function($){return $&&$.length&&this.write($),this._parser.end(),!0},m.prototype.on=function($,H){var fe=this;return!fe._parser["on"+$]&&d.indexOf($)!==-1&&(fe._parser["on"+$]=function(){var Z=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);Z.splice(0,0,$),fe.emit.apply(fe,Z)}),c.prototype.on.call(fe,$,H)};var f="[CDATA[",g="DOCTYPE",y="http://www.w3.org/XML/1998/namespace",v="http://www.w3.org/2000/xmlns/",w={xml:y,xmlns:v},_=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,b=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,N=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,k=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function S($){return $===" "||$===`
`||$==="\r"||$==="	"}function C($){return $==='"'||$==="'"}function I($){return $===">"||S($)}function E($,H){return $.test(H)}function U($,H){return!E($,H)}var T=0;e.STATE={BEGIN:T++,BEGIN_WHITESPACE:T++,TEXT:T++,TEXT_ENTITY:T++,OPEN_WAKA:T++,SGML_DECL:T++,SGML_DECL_QUOTED:T++,DOCTYPE:T++,DOCTYPE_QUOTED:T++,DOCTYPE_DTD:T++,DOCTYPE_DTD_QUOTED:T++,COMMENT_STARTING:T++,COMMENT:T++,COMMENT_ENDING:T++,COMMENT_ENDED:T++,CDATA:T++,CDATA_ENDING:T++,CDATA_ENDING_2:T++,PROC_INST:T++,PROC_INST_BODY:T++,PROC_INST_ENDING:T++,OPEN_TAG:T++,OPEN_TAG_SLASH:T++,ATTRIB:T++,ATTRIB_NAME:T++,ATTRIB_NAME_SAW_WHITE:T++,ATTRIB_VALUE:T++,ATTRIB_VALUE_QUOTED:T++,ATTRIB_VALUE_CLOSED:T++,ATTRIB_VALUE_UNQUOTED:T++,ATTRIB_VALUE_ENTITY_Q:T++,ATTRIB_VALUE_ENTITY_U:T++,CLOSE_TAG:T++,CLOSE_TAG_SAW_WHITE:T++,SCRIPT:T++,SCRIPT_ENDING:T++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function($){var H=e.ENTITIES[$],fe=typeof H=="number"?String.fromCharCode(H):H;e.ENTITIES[$]=fe});for(var ne in e.STATE)e.STATE[e.STATE[ne]]=ne;T=e.STATE;function q($,H,fe){$[H]&&$[H](fe)}function F($,H,fe){$.textNode&&Y($),q($,H,fe)}function Y($){$.textNode=O($.opt,$.textNode),$.textNode&&q($,"ontext",$.textNode),$.textNode=""}function O($,H){return $.trim&&(H=H.trim()),$.normalize&&(H=H.replace(/\s+/g," ")),H}function se($,H){return Y($),$.trackPosition&&(H+=`
Line: `+$.line+`
Column: `+$.column+`
Char: `+$.c),H=new Error(H),$.error=H,q($,"onerror",H),$}function X($){return $.sawRoot&&!$.closedRoot&&M($,"Unclosed root tag"),$.state!==T.BEGIN&&$.state!==T.BEGIN_WHITESPACE&&$.state!==T.TEXT&&se($,"Unexpected end"),Y($),$.c="",$.closed=!0,q($,"onend"),n.call($,$.strict,$.opt),$}function M($,H){if(typeof $!="object"||!($ instanceof n))throw new Error("bad call to strictFail");$.strict&&se($,H)}function K($){$.strict||($.tagName=$.tagName[$.looseCase]());var H=$.tags[$.tags.length-1]||$,fe=$.tag={name:$.tagName,attributes:{}};$.opt.xmlns&&(fe.ns=H.ns),$.attribList.length=0,F($,"onopentagstart",fe)}function z($,H){var fe=$.indexOf(":"),Z=fe<0?["",$]:$.split(":"),ee=Z[0],J=Z[1];return H&&$==="xmlns"&&(ee="xmlns",J=""),{prefix:ee,local:J}}function he($){if($.strict||($.attribName=$.attribName[$.looseCase]()),$.attribList.indexOf($.attribName)!==-1||$.tag.attributes.hasOwnProperty($.attribName)){$.attribName=$.attribValue="";return}if($.opt.xmlns){var H=z($.attribName,!0),fe=H.prefix,Z=H.local;if(fe==="xmlns")if(Z==="xml"&&$.attribValue!==y)M($,"xml: prefix must be bound to "+y+`
Actual: `+$.attribValue);else if(Z==="xmlns"&&$.attribValue!==v)M($,"xmlns: prefix must be bound to "+v+`
Actual: `+$.attribValue);else{var ee=$.tag,J=$.tags[$.tags.length-1]||$;ee.ns===J.ns&&(ee.ns=Object.create(J.ns)),ee.ns[Z]=$.attribValue}$.attribList.push([$.attribName,$.attribValue])}else $.tag.attributes[$.attribName]=$.attribValue,F($,"onattribute",{name:$.attribName,value:$.attribValue});$.attribName=$.attribValue=""}function V($,H){if($.opt.xmlns){var fe=$.tag,Z=z($.tagName);fe.prefix=Z.prefix,fe.local=Z.local,fe.uri=fe.ns[Z.prefix]||"",fe.prefix&&!fe.uri&&(M($,"Unbound namespace prefix: "+JSON.stringify($.tagName)),fe.uri=Z.prefix);var ee=$.tags[$.tags.length-1]||$;fe.ns&&ee.ns!==fe.ns&&Object.keys(fe.ns).forEach(function(ue){F($,"onopennamespace",{prefix:ue,uri:fe.ns[ue]})});for(var J=0,ke=$.attribList.length;J<ke;J++){var L=$.attribList[J],Te=L[0],Q=L[1],R=z(Te,!0),P=R.prefix,G=R.local,ye=P===""?"":fe.ns[P]||"",ce={name:Te,value:Q,prefix:P,local:G,uri:ye};P&&P!=="xmlns"&&!ye&&(M($,"Unbound namespace prefix: "+JSON.stringify(P)),ce.uri=P),$.tag.attributes[Te]=ce,F($,"onattribute",ce)}$.attribList.length=0}$.tag.isSelfClosing=!!H,$.sawRoot=!0,$.tags.push($.tag),F($,"onopentag",$.tag),H||(!$.noscript&&$.tagName.toLowerCase()==="script"?$.state=T.SCRIPT:$.state=T.TEXT,$.tag=null,$.tagName=""),$.attribName=$.attribValue="",$.attribList.length=0}function W($){if(!$.tagName){M($,"Weird empty close tag."),$.textNode+="</>",$.state=T.TEXT;return}if($.script){if($.tagName!=="script"){$.script+="</"+$.tagName+">",$.tagName="",$.state=T.SCRIPT;return}F($,"onscript",$.script),$.script=""}var H=$.tags.length,fe=$.tagName;$.strict||(fe=fe[$.looseCase]());for(var Z=fe;H--;){var ee=$.tags[H];if(ee.name!==Z)M($,"Unexpected close tag");else break}if(H<0){M($,"Unmatched closing tag: "+$.tagName),$.textNode+="</"+$.tagName+">",$.state=T.TEXT;return}$.tagName=fe;for(var J=$.tags.length;J-- >H;){var ke=$.tag=$.tags.pop();$.tagName=$.tag.name,F($,"onclosetag",$.tagName);var L={};for(var Te in ke.ns)L[Te]=ke.ns[Te];var Q=$.tags[$.tags.length-1]||$;$.opt.xmlns&&ke.ns!==Q.ns&&Object.keys(ke.ns).forEach(function(R){var P=ke.ns[R];F($,"onclosenamespace",{prefix:R,uri:P})})}H===0&&($.closedRoot=!0),$.tagName=$.attribValue=$.attribName="",$.attribList.length=0,$.state=T.TEXT}function le($){var H=$.entity,fe=H.toLowerCase(),Z,ee="";return $.ENTITIES[H]?$.ENTITIES[H]:$.ENTITIES[fe]?$.ENTITIES[fe]:(H=fe,H.charAt(0)==="#"&&(H.charAt(1)==="x"?(H=H.slice(2),Z=parseInt(H,16),ee=Z.toString(16)):(H=H.slice(1),Z=parseInt(H,10),ee=Z.toString(10))),H=H.replace(/^0+/,""),isNaN(Z)||ee.toLowerCase()!==H?(M($,"Invalid character entity"),"&"+$.entity+";"):String.fromCodePoint(Z))}function oe($,H){H==="<"?($.state=T.OPEN_WAKA,$.startTagPosition=$.position):S(H)||(M($,"Non-whitespace before first tag."),$.textNode=H,$.state=T.TEXT)}function ve($,H){var fe="";return H<$.length&&(fe=$.charAt(H)),fe}function me($){var H=this;if(this.error)throw this.error;if(H.closed)return se(H,"Cannot write after close. Assign an onready handler.");if($===null)return X(H);typeof $=="object"&&($=$.toString());for(var fe=0,Z="";Z=ve($,fe++),H.c=Z,!!Z;)switch(H.trackPosition&&(H.position++,Z===`
`?(H.line++,H.column=0):H.column++),H.state){case T.BEGIN:if(H.state=T.BEGIN_WHITESPACE,Z==="\uFEFF")continue;oe(H,Z);continue;case T.BEGIN_WHITESPACE:oe(H,Z);continue;case T.TEXT:if(H.sawRoot&&!H.closedRoot){for(var ee=fe-1;Z&&Z!=="<"&&Z!=="&";)Z=ve($,fe++),Z&&H.trackPosition&&(H.position++,Z===`
`?(H.line++,H.column=0):H.column++);H.textNode+=$.substring(ee,fe-1)}Z==="<"&&!(H.sawRoot&&H.closedRoot&&!H.strict)?(H.state=T.OPEN_WAKA,H.startTagPosition=H.position):(!S(Z)&&(!H.sawRoot||H.closedRoot)&&M(H,"Text data outside of root node."),Z==="&"?H.state=T.TEXT_ENTITY:H.textNode+=Z);continue;case T.SCRIPT:Z==="<"?H.state=T.SCRIPT_ENDING:H.script+=Z;continue;case T.SCRIPT_ENDING:Z==="/"?H.state=T.CLOSE_TAG:(H.script+="<"+Z,H.state=T.SCRIPT);continue;case T.OPEN_WAKA:if(Z==="!")H.state=T.SGML_DECL,H.sgmlDecl="";else if(!S(Z))if(E(_,Z))H.state=T.OPEN_TAG,H.tagName=Z;else if(Z==="/")H.state=T.CLOSE_TAG,H.tagName="";else if(Z==="?")H.state=T.PROC_INST,H.procInstName=H.procInstBody="";else{if(M(H,"Unencoded <"),H.startTagPosition+1<H.position){var J=H.position-H.startTagPosition;Z=new Array(J).join(" ")+Z}H.textNode+="<"+Z,H.state=T.TEXT}continue;case T.SGML_DECL:(H.sgmlDecl+Z).toUpperCase()===f?(F(H,"onopencdata"),H.state=T.CDATA,H.sgmlDecl="",H.cdata=""):H.sgmlDecl+Z==="--"?(H.state=T.COMMENT,H.comment="",H.sgmlDecl=""):(H.sgmlDecl+Z).toUpperCase()===g?(H.state=T.DOCTYPE,(H.doctype||H.sawRoot)&&M(H,"Inappropriately located doctype declaration"),H.doctype="",H.sgmlDecl=""):Z===">"?(F(H,"onsgmldeclaration",H.sgmlDecl),H.sgmlDecl="",H.state=T.TEXT):(C(Z)&&(H.state=T.SGML_DECL_QUOTED),H.sgmlDecl+=Z);continue;case T.SGML_DECL_QUOTED:Z===H.q&&(H.state=T.SGML_DECL,H.q=""),H.sgmlDecl+=Z;continue;case T.DOCTYPE:Z===">"?(H.state=T.TEXT,F(H,"ondoctype",H.doctype),H.doctype=!0):(H.doctype+=Z,Z==="["?H.state=T.DOCTYPE_DTD:C(Z)&&(H.state=T.DOCTYPE_QUOTED,H.q=Z));continue;case T.DOCTYPE_QUOTED:H.doctype+=Z,Z===H.q&&(H.q="",H.state=T.DOCTYPE);continue;case T.DOCTYPE_DTD:H.doctype+=Z,Z==="]"?H.state=T.DOCTYPE:C(Z)&&(H.state=T.DOCTYPE_DTD_QUOTED,H.q=Z);continue;case T.DOCTYPE_DTD_QUOTED:H.doctype+=Z,Z===H.q&&(H.state=T.DOCTYPE_DTD,H.q="");continue;case T.COMMENT:Z==="-"?H.state=T.COMMENT_ENDING:H.comment+=Z;continue;case T.COMMENT_ENDING:Z==="-"?(H.state=T.COMMENT_ENDED,H.comment=O(H.opt,H.comment),H.comment&&F(H,"oncomment",H.comment),H.comment=""):(H.comment+="-"+Z,H.state=T.COMMENT);continue;case T.COMMENT_ENDED:Z!==">"?(M(H,"Malformed comment"),H.comment+="--"+Z,H.state=T.COMMENT):H.state=T.TEXT;continue;case T.CDATA:Z==="]"?H.state=T.CDATA_ENDING:H.cdata+=Z;continue;case T.CDATA_ENDING:Z==="]"?H.state=T.CDATA_ENDING_2:(H.cdata+="]"+Z,H.state=T.CDATA);continue;case T.CDATA_ENDING_2:Z===">"?(H.cdata&&F(H,"oncdata",H.cdata),F(H,"onclosecdata"),H.cdata="",H.state=T.TEXT):Z==="]"?H.cdata+="]":(H.cdata+="]]"+Z,H.state=T.CDATA);continue;case T.PROC_INST:Z==="?"?H.state=T.PROC_INST_ENDING:S(Z)?H.state=T.PROC_INST_BODY:H.procInstName+=Z;continue;case T.PROC_INST_BODY:if(!H.procInstBody&&S(Z))continue;Z==="?"?H.state=T.PROC_INST_ENDING:H.procInstBody+=Z;continue;case T.PROC_INST_ENDING:Z===">"?(F(H,"onprocessinginstruction",{name:H.procInstName,body:H.procInstBody}),H.procInstName=H.procInstBody="",H.state=T.TEXT):(H.procInstBody+="?"+Z,H.state=T.PROC_INST_BODY);continue;case T.OPEN_TAG:E(b,Z)?H.tagName+=Z:(K(H),Z===">"?V(H):Z==="/"?H.state=T.OPEN_TAG_SLASH:(S(Z)||M(H,"Invalid character in tag name"),H.state=T.ATTRIB));continue;case T.OPEN_TAG_SLASH:Z===">"?(V(H,!0),W(H)):(M(H,"Forward-slash in opening tag not followed by >"),H.state=T.ATTRIB);continue;case T.ATTRIB:if(S(Z))continue;Z===">"?V(H):Z==="/"?H.state=T.OPEN_TAG_SLASH:E(_,Z)?(H.attribName=Z,H.attribValue="",H.state=T.ATTRIB_NAME):M(H,"Invalid attribute name");continue;case T.ATTRIB_NAME:Z==="="?H.state=T.ATTRIB_VALUE:Z===">"?(M(H,"Attribute without value"),H.attribValue=H.attribName,he(H),V(H)):S(Z)?H.state=T.ATTRIB_NAME_SAW_WHITE:E(b,Z)?H.attribName+=Z:M(H,"Invalid attribute name");continue;case T.ATTRIB_NAME_SAW_WHITE:if(Z==="=")H.state=T.ATTRIB_VALUE;else{if(S(Z))continue;M(H,"Attribute without value"),H.tag.attributes[H.attribName]="",H.attribValue="",F(H,"onattribute",{name:H.attribName,value:""}),H.attribName="",Z===">"?V(H):E(_,Z)?(H.attribName=Z,H.state=T.ATTRIB_NAME):(M(H,"Invalid attribute name"),H.state=T.ATTRIB)}continue;case T.ATTRIB_VALUE:if(S(Z))continue;C(Z)?(H.q=Z,H.state=T.ATTRIB_VALUE_QUOTED):(M(H,"Unquoted attribute value"),H.state=T.ATTRIB_VALUE_UNQUOTED,H.attribValue=Z);continue;case T.ATTRIB_VALUE_QUOTED:if(Z!==H.q){Z==="&"?H.state=T.ATTRIB_VALUE_ENTITY_Q:H.attribValue+=Z;continue}he(H),H.q="",H.state=T.ATTRIB_VALUE_CLOSED;continue;case T.ATTRIB_VALUE_CLOSED:S(Z)?H.state=T.ATTRIB:Z===">"?V(H):Z==="/"?H.state=T.OPEN_TAG_SLASH:E(_,Z)?(M(H,"No whitespace between attributes"),H.attribName=Z,H.attribValue="",H.state=T.ATTRIB_NAME):M(H,"Invalid attribute name");continue;case T.ATTRIB_VALUE_UNQUOTED:if(!I(Z)){Z==="&"?H.state=T.ATTRIB_VALUE_ENTITY_U:H.attribValue+=Z;continue}he(H),Z===">"?V(H):H.state=T.ATTRIB;continue;case T.CLOSE_TAG:if(H.tagName)Z===">"?W(H):E(b,Z)?H.tagName+=Z:H.script?(H.script+="</"+H.tagName,H.tagName="",H.state=T.SCRIPT):(S(Z)||M(H,"Invalid tagname in closing tag"),H.state=T.CLOSE_TAG_SAW_WHITE);else{if(S(Z))continue;U(_,Z)?H.script?(H.script+="</"+Z,H.state=T.SCRIPT):M(H,"Invalid tagname in closing tag."):H.tagName=Z}continue;case T.CLOSE_TAG_SAW_WHITE:if(S(Z))continue;Z===">"?W(H):M(H,"Invalid characters in closing tag");continue;case T.TEXT_ENTITY:case T.ATTRIB_VALUE_ENTITY_Q:case T.ATTRIB_VALUE_ENTITY_U:var ke,L;switch(H.state){case T.TEXT_ENTITY:ke=T.TEXT,L="textNode";break;case T.ATTRIB_VALUE_ENTITY_Q:ke=T.ATTRIB_VALUE_QUOTED,L="attribValue";break;case T.ATTRIB_VALUE_ENTITY_U:ke=T.ATTRIB_VALUE_UNQUOTED,L="attribValue";break}Z===";"?(H[L]+=le(H),H.entity="",H.state=ke):E(H.entity.length?k:N,Z)?H.entity+=Z:(M(H,"Invalid character in entity name"),H[L]+="&"+H.entity+Z,H.entity="",H.state=ke);continue;default:throw new Error(H,"Unknown state: "+H.state)}return H.position>=H.bufferCheckPosition&&a(H),H}String.fromCodePoint||(function(){var $=String.fromCharCode,H=Math.floor,fe=function(){var Z=16384,ee=[],J,ke,L=-1,Te=arguments.length;if(!Te)return"";for(var Q="";++L<Te;){var R=Number(arguments[L]);if(!isFinite(R)||R<0||R>1114111||H(R)!==R)throw RangeError("Invalid code point: "+R);R<=65535?ee.push(R):(R-=65536,J=(R>>10)+55296,ke=R%1024+56320,ee.push(J,ke)),(L+1===Te||ee.length>Z)&&(Q+=$.apply(null,ee),ee.length=0)}return Q};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:fe,configurable:!0,writable:!0}):String.fromCodePoint=fe})()})(t)})(dw)),dw}var Aj,x5;function m2(){return x5||(x5=1,Aj={isArray:function(t){return Array.isArray?Array.isArray(t):Object.prototype.toString.call(t)==="[object Array]"}}),Aj}var Ej,y5;function p2(){if(y5)return Ej;y5=1;var t=m2().isArray;return Ej={copyOptions:function(e){var r,n={};for(r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n},ensureFlagExists:function(e,r){(!(e in r)||typeof r[e]!="boolean")&&(r[e]=!1)},ensureSpacesExists:function(e){(!("spaces"in e)||typeof e.spaces!="number"&&typeof e.spaces!="string")&&(e.spaces=0)},ensureAlwaysArrayExists:function(e){(!("alwaysArray"in e)||typeof e.alwaysArray!="boolean"&&!t(e.alwaysArray))&&(e.alwaysArray=!1)},ensureKeyExists:function(e,r){(!(e+"Key"in r)||typeof r[e+"Key"]!="string")&&(r[e+"Key"]=r.compact?"_"+e:e)},checkFnExists:function(e,r){return e+"Fn"in r}},Ej}var Tj,b5;function U8(){if(b5)return Tj;b5=1;var t=Hse(),e=p2(),r=m2().isArray,n,a;function i(b){return n=e.copyOptions(b),e.ensureFlagExists("ignoreDeclaration",n),e.ensureFlagExists("ignoreInstruction",n),e.ensureFlagExists("ignoreAttributes",n),e.ensureFlagExists("ignoreText",n),e.ensureFlagExists("ignoreComment",n),e.ensureFlagExists("ignoreCdata",n),e.ensureFlagExists("ignoreDoctype",n),e.ensureFlagExists("compact",n),e.ensureFlagExists("alwaysChildren",n),e.ensureFlagExists("addParent",n),e.ensureFlagExists("trim",n),e.ensureFlagExists("nativeType",n),e.ensureFlagExists("nativeTypeAttributes",n),e.ensureFlagExists("sanitize",n),e.ensureFlagExists("instructionHasAttributes",n),e.ensureFlagExists("captureSpacesBetweenElements",n),e.ensureAlwaysArrayExists(n),e.ensureKeyExists("declaration",n),e.ensureKeyExists("instruction",n),e.ensureKeyExists("attributes",n),e.ensureKeyExists("text",n),e.ensureKeyExists("comment",n),e.ensureKeyExists("cdata",n),e.ensureKeyExists("doctype",n),e.ensureKeyExists("type",n),e.ensureKeyExists("name",n),e.ensureKeyExists("elements",n),e.ensureKeyExists("parent",n),e.checkFnExists("doctype",n),e.checkFnExists("instruction",n),e.checkFnExists("cdata",n),e.checkFnExists("comment",n),e.checkFnExists("text",n),e.checkFnExists("instructionName",n),e.checkFnExists("elementName",n),e.checkFnExists("attributeName",n),e.checkFnExists("attributeValue",n),e.checkFnExists("attributes",n),n}function o(b){var N=Number(b);if(!isNaN(N))return N;var k=b.toLowerCase();return k==="true"?!0:k==="false"?!1:b}function c(b,N){var k;if(n.compact){if(!a[n[b+"Key"]]&&(r(n.alwaysArray)?n.alwaysArray.indexOf(n[b+"Key"])!==-1:n.alwaysArray)&&(a[n[b+"Key"]]=[]),a[n[b+"Key"]]&&!r(a[n[b+"Key"]])&&(a[n[b+"Key"]]=[a[n[b+"Key"]]]),b+"Fn"in n&&typeof N=="string"&&(N=n[b+"Fn"](N,a)),b==="instruction"&&("instructionFn"in n||"instructionNameFn"in n)){for(k in N)if(N.hasOwnProperty(k))if("instructionFn"in n)N[k]=n.instructionFn(N[k],k,a);else{var S=N[k];delete N[k],N[n.instructionNameFn(k,S,a)]=S}}r(a[n[b+"Key"]])?a[n[b+"Key"]].push(N):a[n[b+"Key"]]=N}else{a[n.elementsKey]||(a[n.elementsKey]=[]);var C={};if(C[n.typeKey]=b,b==="instruction"){for(k in N)if(N.hasOwnProperty(k))break;C[n.nameKey]="instructionNameFn"in n?n.instructionNameFn(k,N,a):k,n.instructionHasAttributes?(C[n.attributesKey]=N[k][n.attributesKey],"instructionFn"in n&&(C[n.attributesKey]=n.instructionFn(C[n.attributesKey],k,a))):("instructionFn"in n&&(N[k]=n.instructionFn(N[k],k,a)),C[n.instructionKey]=N[k])}else b+"Fn"in n&&(N=n[b+"Fn"](N,a)),C[n[b+"Key"]]=N;n.addParent&&(C[n.parentKey]=a),a[n.elementsKey].push(C)}}function d(b){if("attributesFn"in n&&b&&(b=n.attributesFn(b,a)),(n.trim||"attributeValueFn"in n||"attributeNameFn"in n||n.nativeTypeAttributes)&&b){var N;for(N in b)if(b.hasOwnProperty(N)&&(n.trim&&(b[N]=b[N].trim()),n.nativeTypeAttributes&&(b[N]=o(b[N])),"attributeValueFn"in n&&(b[N]=n.attributeValueFn(b[N],N,a)),"attributeNameFn"in n)){var k=b[N];delete b[N],b[n.attributeNameFn(N,b[N],a)]=k}}return b}function h(b){var N={};if(b.body&&(b.name.toLowerCase()==="xml"||n.instructionHasAttributes)){for(var k=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,S;(S=k.exec(b.body))!==null;)N[S[1]]=S[2]||S[3]||S[4];N=d(N)}if(b.name.toLowerCase()==="xml"){if(n.ignoreDeclaration)return;a[n.declarationKey]={},Object.keys(N).length&&(a[n.declarationKey][n.attributesKey]=N),n.addParent&&(a[n.declarationKey][n.parentKey]=a)}else{if(n.ignoreInstruction)return;n.trim&&(b.body=b.body.trim());var C={};n.instructionHasAttributes&&Object.keys(N).length?(C[b.name]={},C[b.name][n.attributesKey]=N):C[b.name]=b.body,c("instruction",C)}}function m(b,N){var k;if(typeof b=="object"&&(N=b.attributes,b=b.name),N=d(N),"elementNameFn"in n&&(b=n.elementNameFn(b,a)),n.compact){if(k={},!n.ignoreAttributes&&N&&Object.keys(N).length){k[n.attributesKey]={};var S;for(S in N)N.hasOwnProperty(S)&&(k[n.attributesKey][S]=N[S])}!(b in a)&&(r(n.alwaysArray)?n.alwaysArray.indexOf(b)!==-1:n.alwaysArray)&&(a[b]=[]),a[b]&&!r(a[b])&&(a[b]=[a[b]]),r(a[b])?a[b].push(k):a[b]=k}else a[n.elementsKey]||(a[n.elementsKey]=[]),k={},k[n.typeKey]="element",k[n.nameKey]=b,!n.ignoreAttributes&&N&&Object.keys(N).length&&(k[n.attributesKey]=N),n.alwaysChildren&&(k[n.elementsKey]=[]),a[n.elementsKey].push(k);k[n.parentKey]=a,a=k}function f(b){n.ignoreText||!b.trim()&&!n.captureSpacesBetweenElements||(n.trim&&(b=b.trim()),n.nativeType&&(b=o(b)),n.sanitize&&(b=b.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),c("text",b))}function g(b){n.ignoreComment||(n.trim&&(b=b.trim()),c("comment",b))}function y(b){var N=a[n.parentKey];n.addParent||delete a[n.parentKey],a=N}function v(b){n.ignoreCdata||(n.trim&&(b=b.trim()),c("cdata",b))}function w(b){n.ignoreDoctype||(b=b.replace(/^ /,""),n.trim&&(b=b.trim()),c("doctype",b))}function _(b){b.note=b}return Tj=function(b,N){var k=t.parser(!0,{}),S={};if(a=S,n=i(N),k.opt={strictEntities:!0},k.onopentag=m,k.ontext=f,k.oncomment=g,k.onclosetag=y,k.onerror=_,k.oncdata=v,k.ondoctype=w,k.onprocessinginstruction=h,k.write(b).close(),S[n.elementsKey]){var C=S[n.elementsKey];delete S[n.elementsKey],S[n.elementsKey]=C,delete S.text}return S},Tj}var Rj,v5;function qse(){if(v5)return Rj;v5=1;var t=p2(),e=U8();function r(n){var a=t.copyOptions(n);return t.ensureSpacesExists(a),a}return Rj=function(n,a){var i,o,c,d;return i=r(a),o=e(n,i),d="compact"in i&&i.compact?"_parent":"parent","addParent"in i&&i.addParent?c=JSON.stringify(o,function(h,m){return h===d?"_":m},i.spaces):c=JSON.stringify(o,null,i.spaces),c.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},Rj}var Dj,w5;function $8(){if(w5)return Dj;w5=1;var t=p2(),e=m2().isArray,r,n;function a(k){var S=t.copyOptions(k);return t.ensureFlagExists("ignoreDeclaration",S),t.ensureFlagExists("ignoreInstruction",S),t.ensureFlagExists("ignoreAttributes",S),t.ensureFlagExists("ignoreText",S),t.ensureFlagExists("ignoreComment",S),t.ensureFlagExists("ignoreCdata",S),t.ensureFlagExists("ignoreDoctype",S),t.ensureFlagExists("compact",S),t.ensureFlagExists("indentText",S),t.ensureFlagExists("indentCdata",S),t.ensureFlagExists("indentAttributes",S),t.ensureFlagExists("indentInstruction",S),t.ensureFlagExists("fullTagEmptyElement",S),t.ensureFlagExists("noQuotesForNativeAttributes",S),t.ensureSpacesExists(S),typeof S.spaces=="number"&&(S.spaces=Array(S.spaces+1).join(" ")),t.ensureKeyExists("declaration",S),t.ensureKeyExists("instruction",S),t.ensureKeyExists("attributes",S),t.ensureKeyExists("text",S),t.ensureKeyExists("comment",S),t.ensureKeyExists("cdata",S),t.ensureKeyExists("doctype",S),t.ensureKeyExists("type",S),t.ensureKeyExists("name",S),t.ensureKeyExists("elements",S),t.checkFnExists("doctype",S),t.checkFnExists("instruction",S),t.checkFnExists("cdata",S),t.checkFnExists("comment",S),t.checkFnExists("text",S),t.checkFnExists("instructionName",S),t.checkFnExists("elementName",S),t.checkFnExists("attributeName",S),t.checkFnExists("attributeValue",S),t.checkFnExists("attributes",S),t.checkFnExists("fullTagEmptyElement",S),S}function i(k,S,C){return(!C&&k.spaces?`
`:"")+Array(S+1).join(k.spaces)}function o(k,S,C){if(S.ignoreAttributes)return"";"attributesFn"in S&&(k=S.attributesFn(k,n,r));var I,E,U,T,ne=[];for(I in k)k.hasOwnProperty(I)&&k[I]!==null&&k[I]!==void 0&&(T=S.noQuotesForNativeAttributes&&typeof k[I]!="string"?"":'"',E=""+k[I],E=E.replace(/"/g,"&quot;"),U="attributeNameFn"in S?S.attributeNameFn(I,E,n,r):I,ne.push(S.spaces&&S.indentAttributes?i(S,C+1,!1):" "),ne.push(U+"="+T+("attributeValueFn"in S?S.attributeValueFn(E,I,n,r):E)+T));return k&&Object.keys(k).length&&S.spaces&&S.indentAttributes&&ne.push(i(S,C,!1)),ne.join("")}function c(k,S,C){return r=k,n="xml",S.ignoreDeclaration?"":"<?xml"+o(k[S.attributesKey],S,C)+"?>"}function d(k,S,C){if(S.ignoreInstruction)return"";var I;for(I in k)if(k.hasOwnProperty(I))break;var E="instructionNameFn"in S?S.instructionNameFn(I,k[I],n,r):I;if(typeof k[I]=="object")return r=k,n=E,"<?"+E+o(k[I][S.attributesKey],S,C)+"?>";var U=k[I]?k[I]:"";return"instructionFn"in S&&(U=S.instructionFn(U,I,n,r)),"<?"+E+(U?" "+U:"")+"?>"}function h(k,S){return S.ignoreComment?"":"<!--"+("commentFn"in S?S.commentFn(k,n,r):k)+"-->"}function m(k,S){return S.ignoreCdata?"":"<![CDATA["+("cdataFn"in S?S.cdataFn(k,n,r):k.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function f(k,S){return S.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in S?S.doctypeFn(k,n,r):k)+">"}function g(k,S){return S.ignoreText?"":(k=""+k,k=k.replace(/&amp;/g,"&"),k=k.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in S?S.textFn(k,n,r):k)}function y(k,S){var C;if(k.elements&&k.elements.length)for(C=0;C<k.elements.length;++C)switch(k.elements[C][S.typeKey]){case"text":if(S.indentText)return!0;break;case"cdata":if(S.indentCdata)return!0;break;case"instruction":if(S.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function v(k,S,C){r=k,n=k.name;var I=[],E="elementNameFn"in S?S.elementNameFn(k.name,k):k.name;I.push("<"+E),k[S.attributesKey]&&I.push(o(k[S.attributesKey],S,C));var U=k[S.elementsKey]&&k[S.elementsKey].length||k[S.attributesKey]&&k[S.attributesKey]["xml:space"]==="preserve";return U||("fullTagEmptyElementFn"in S?U=S.fullTagEmptyElementFn(k.name,k):U=S.fullTagEmptyElement),U?(I.push(">"),k[S.elementsKey]&&k[S.elementsKey].length&&(I.push(w(k[S.elementsKey],S,C+1)),r=k,n=k.name),I.push(S.spaces&&y(k,S)?`
`+Array(C+1).join(S.spaces):""),I.push("</"+E+">")):I.push("/>"),I.join("")}function w(k,S,C,I){return k.reduce(function(E,U){var T=i(S,C,I&&!E);switch(U.type){case"element":return E+T+v(U,S,C);case"comment":return E+T+h(U[S.commentKey],S);case"doctype":return E+T+f(U[S.doctypeKey],S);case"cdata":return E+(S.indentCdata?T:"")+m(U[S.cdataKey],S);case"text":return E+(S.indentText?T:"")+g(U[S.textKey],S);case"instruction":var ne={};return ne[U[S.nameKey]]=U[S.attributesKey]?U:U[S.instructionKey],E+(S.indentInstruction?T:"")+d(ne,S,C)}},"")}function _(k,S,C){var I;for(I in k)if(k.hasOwnProperty(I))switch(I){case S.parentKey:case S.attributesKey:break;case S.textKey:if(S.indentText||C)return!0;break;case S.cdataKey:if(S.indentCdata||C)return!0;break;case S.instructionKey:if(S.indentInstruction||C)return!0;break;case S.doctypeKey:case S.commentKey:return!0;default:return!0}return!1}function b(k,S,C,I,E){r=k,n=S;var U="elementNameFn"in C?C.elementNameFn(S,k):S;if(typeof k>"u"||k===null||k==="")return"fullTagEmptyElementFn"in C&&C.fullTagEmptyElementFn(S,k)||C.fullTagEmptyElement?"<"+U+"></"+U+">":"<"+U+"/>";var T=[];if(S){if(T.push("<"+U),typeof k!="object")return T.push(">"+g(k,C)+"</"+U+">"),T.join("");k[C.attributesKey]&&T.push(o(k[C.attributesKey],C,I));var ne=_(k,C,!0)||k[C.attributesKey]&&k[C.attributesKey]["xml:space"]==="preserve";if(ne||("fullTagEmptyElementFn"in C?ne=C.fullTagEmptyElementFn(S,k):ne=C.fullTagEmptyElement),ne)T.push(">");else return T.push("/>"),T.join("")}return T.push(N(k,C,I+1,!1)),r=k,n=S,S&&T.push((E?i(C,I,!1):"")+"</"+U+">"),T.join("")}function N(k,S,C,I){var E,U,T,ne=[];for(U in k)if(k.hasOwnProperty(U))for(T=e(k[U])?k[U]:[k[U]],E=0;E<T.length;++E){switch(U){case S.declarationKey:ne.push(c(T[E],S,C));break;case S.instructionKey:ne.push((S.indentInstruction?i(S,C,I):"")+d(T[E],S,C));break;case S.attributesKey:case S.parentKey:break;case S.textKey:ne.push((S.indentText?i(S,C,I):"")+g(T[E],S));break;case S.cdataKey:ne.push((S.indentCdata?i(S,C,I):"")+m(T[E],S));break;case S.doctypeKey:ne.push(i(S,C,I)+f(T[E],S));break;case S.commentKey:ne.push(i(S,C,I)+h(T[E],S));break;default:ne.push(i(S,C,I)+b(T[E],U,S,C,_(T[E],S)))}I=I&&!ne.length}return ne.join("")}return Dj=function(k,S){S=a(S);var C=[];return r=k,n="_root_",S.compact?C.push(N(k,S,0,!0)):(k[S.declarationKey]&&C.push(c(k[S.declarationKey],S,0)),k[S.elementsKey]&&k[S.elementsKey].length&&C.push(w(k[S.elementsKey],S,0,!C.length))),C.join("")},Dj}var Mj,j5;function Wse(){if(j5)return Mj;j5=1;var t=$8();return Mj=function(e,r){e instanceof Buffer&&(e=e.toString());var n=null;if(typeof e=="string")try{n=JSON.parse(e)}catch{throw new Error("The JSON structure is invalid")}else n=e;return t(n,r)},Mj}var Pj,_5;function Gse(){if(_5)return Pj;_5=1;var t=U8(),e=qse(),r=$8(),n=Wse();return Pj={xml2js:t,xml2json:e,js2xml:r,json2xml:n},Pj}var V8=Gse();const g2=t=>{switch(t.type){case void 0:case"element":const e=new Kse(t.name,t.attributes),r=t.elements||[];for(const n of r){const a=g2(n);a!==void 0&&e.push(a)}return e;case"text":return t.text;default:return}};class Yse extends Vt{}class Kse extends nt{static fromXmlString(e){const r=V8.xml2js(e,{compact:!1});return g2(r)}constructor(e,r){super(e),r&&this.root.push(new Yse(r))}push(e){this.root.push(e)}}class Xse extends nt{constructor(e){super(""),this._attr=e}prepForXml(e){return{_attr:this._attr}}}class H8 extends nt{constructor(e,r){super(e),r&&(this.root=r.root)}}const Qn=t=>{if(isNaN(t))throw new Error(`Invalid value '${t}' specified. Must be an integer.`);return Math.floor(t)},iy=t=>{const e=Qn(t);if(e<0)throw new Error(`Invalid value '${t}' specified. Must be a positive integer.`);return e},q8=(t,e)=>{const r=e*2;if(t.length!==r||isNaN(+`0x${t}`))throw new Error(`Invalid hex value '${t}'. Expected ${r} digit hex value`);return t},N5=t=>q8(t,1),W8=t=>{const e=t.slice(-2),r=t.substring(0,t.length-2);return`${Number(r)}${e}`},G8=t=>{const e=W8(t);if(parseFloat(e)<0)throw new Error(`Invalid value '${e}' specified. Expected a positive number.`);return e},Yu=t=>{if(t==="auto")return t;const e=t.charAt(0)==="#"?t.substring(1):t;return q8(e,3)},od=t=>typeof t=="string"?W8(t):Qn(t),Zse=t=>typeof t=="string"?G8(t):iy(t),ai=t=>typeof t=="string"?G8(t):iy(t),Qse=iy,Jse=iy,ere=t=>t.toISOString();class at extends nt{constructor(e,r=!0){super(e),r!==!0&&this.root.push(new kr({val:r}))}}class Oj extends nt{constructor(e,r){super(e),this.root.push(new kr({val:Zse(r)}))}}class Bu extends nt{constructor(e,r){super(e),this.root.push(new kr({val:r}))}}const Cf=(t,e)=>new Zi({name:t,attributes:{value:{key:"w:val",value:e}}});class Xf extends nt{constructor(e,r){super(e),this.root.push(new kr({val:r}))}}class Ic extends nt{constructor(e,r){super(e),this.root.push(r)}}class Zi extends nt{constructor({name:e,attributes:r,children:n}){super(e),r&&this.root.push(new sy(r)),n&&this.root.push(...n)}}const fa={START:"start",CENTER:"center",LEFT:"left"};class tre extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{val:"w:val"})}}class sre extends nt{constructor(e){super("w:jc"),this.root.push(new tre({val:e}))}}class cr extends nt{constructor(e,{color:r,size:n,space:a,style:i}){super(e),this.root.push(new rre({style:i,color:r===void 0?void 0:Yu(r),size:n===void 0?void 0:Qse(n),space:a===void 0?void 0:Jse(a)}))}}class rre extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const x2={SINGLE:"single",NONE:"none"};class nre extends ty{constructor(e){super("w:pBdr"),e.top&&this.root.push(new cr("w:top",e.top)),e.bottom&&this.root.push(new cr("w:bottom",e.bottom)),e.left&&this.root.push(new cr("w:left",e.left)),e.right&&this.root.push(new cr("w:right",e.right)),e.between&&this.root.push(new cr("w:between",e.between))}}class are extends nt{constructor(){super("w:pBdr");const e=new cr("w:bottom",{color:"auto",space:1,style:x2.SINGLE,size:6});this.root.push(e)}}class ire extends nt{constructor({start:e,end:r,left:n,right:a,hanging:i,firstLine:o}){super("w:ind"),this.root.push(new sy({start:{key:"w:start",value:e===void 0?void 0:od(e)},end:{key:"w:end",value:r===void 0?void 0:od(r)},left:{key:"w:left",value:n===void 0?void 0:od(n)},right:{key:"w:right",value:a===void 0?void 0:od(a)},hanging:{key:"w:hanging",value:i===void 0?void 0:ai(i)},firstLine:{key:"w:firstLine",value:o===void 0?void 0:ai(o)}}))}}let ore=class extends nt{constructor(){super("w:br")}};const y2={BEGIN:"begin",END:"end",SEPARATE:"separate"};class b2 extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class Og extends nt{constructor(e){super("w:fldChar"),this.root.push(new b2({type:y2.BEGIN,dirty:e}))}}class Lg extends nt{constructor(e){super("w:fldChar"),this.root.push(new b2({type:y2.SEPARATE,dirty:e}))}}class Fg extends nt{constructor(e){super("w:fldChar"),this.root.push(new b2({type:y2.END,dirty:e}))}}const Ku={DEFAULT:"default",PRESERVE:"preserve"};class Xu extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{space:"xml:space"})}}class lre extends nt{constructor(){super("w:instrText"),this.root.push(new Xu({space:Ku.PRESERVE})),this.root.push("PAGE")}}class cre extends nt{constructor(){super("w:instrText"),this.root.push(new Xu({space:Ku.PRESERVE})),this.root.push("NUMPAGES")}}class dre extends nt{constructor(){super("w:instrText"),this.root.push(new Xu({space:Ku.PRESERVE})),this.root.push("SECTIONPAGES")}}class ure extends nt{constructor(){super("w:instrText"),this.root.push(new Xu({space:Ku.PRESERVE})),this.root.push("SECTION")}}class hre extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class Y8 extends nt{constructor({fill:e,color:r,type:n}){super("w:shd"),this.root.push(new hre({fill:e===void 0?void 0:Yu(e),color:r===void 0?void 0:Yu(r),type:n}))}}class fre extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const mre={DOT:"dot"};class pre extends nt{constructor(e){super("w:em"),this.root.push(new kr({val:e}))}}class gre extends pre{constructor(e=mre.DOT){super(e)}}class xre extends nt{constructor(e){super("w:spacing"),this.root.push(new kr({val:od(e)}))}}let yre=class extends nt{constructor(e){super("w:color"),this.root.push(new kr({val:Yu(e)}))}};class bre extends nt{constructor(e){super("w:highlight"),this.root.push(new kr({val:e}))}}class vre extends nt{constructor(e){super("w:highlightCs"),this.root.push(new kr({val:e}))}}const wre=t=>new Zi({name:"w:lang",attributes:{value:{key:"w:val",value:t.value},eastAsia:{key:"w:eastAsia",value:t.eastAsia},bidirectional:{key:"w:bidi",value:t.bidirectional}}});class S5 extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class Lj extends nt{constructor(e,r){if(super("w:rFonts"),typeof e=="string"){const n=e;this.root.push(new S5({ascii:n,cs:n,eastAsia:n,hAnsi:n,hint:r}))}else{const n=e;this.root.push(new S5(n))}}}let K8=class extends nt{constructor(e){super("w:vertAlign"),this.root.push(new kr({val:e}))}};class jre extends K8{constructor(){super("superscript")}}class _re extends K8{constructor(){super("subscript")}}const X8={SINGLE:"single"};class Nre extends nt{constructor(e=X8.SINGLE,r){super("w:u"),this.root.push(new kr({val:e,color:r===void 0?void 0:Yu(r)}))}}class Cd extends ty{constructor(e){var r,n;if(super("w:rPr"),!e)return;e.style&&this.push(new Bu("w:rStyle",e.style)),e.font&&(typeof e.font=="string"?this.push(new Lj(e.font)):"name"in e.font?this.push(new Lj(e.font.name,e.font.hint)):this.push(new Lj(e.font))),e.bold!==void 0&&this.push(new at("w:b",e.bold)),(e.boldComplexScript===void 0&&e.bold!==void 0||e.boldComplexScript)&&this.push(new at("w:bCs",(r=e.boldComplexScript)!=null?r:e.bold)),e.italics!==void 0&&this.push(new at("w:i",e.italics)),(e.italicsComplexScript===void 0&&e.italics!==void 0||e.italicsComplexScript)&&this.push(new at("w:iCs",(n=e.italicsComplexScript)!=null?n:e.italics)),e.smallCaps!==void 0?this.push(new at("w:smallCaps",e.smallCaps)):e.allCaps!==void 0&&this.push(new at("w:caps",e.allCaps)),e.strike!==void 0&&this.push(new at("w:strike",e.strike)),e.doubleStrike!==void 0&&this.push(new at("w:dstrike",e.doubleStrike)),e.emboss!==void 0&&this.push(new at("w:emboss",e.emboss)),e.imprint!==void 0&&this.push(new at("w:imprint",e.imprint)),e.noProof!==void 0&&this.push(new at("w:noProof",e.noProof)),e.snapToGrid!==void 0&&this.push(new at("w:snapToGrid",e.snapToGrid)),e.vanish&&this.push(new at("w:vanish",e.vanish)),e.color&&this.push(new yre(e.color)),e.characterSpacing&&this.push(new xre(e.characterSpacing)),e.scale!==void 0&&this.push(new Xf("w:w",e.scale)),e.kern&&this.push(new Oj("w:kern",e.kern)),e.position&&this.push(new Bu("w:position",e.position)),e.size!==void 0&&this.push(new Oj("w:sz",e.size));const a=e.sizeComplexScript===void 0||e.sizeComplexScript===!0?e.size:e.sizeComplexScript;a&&this.push(new Oj("w:szCs",a)),e.highlight&&this.push(new bre(e.highlight));const i=e.highlightComplexScript===void 0||e.highlightComplexScript===!0?e.highlight:e.highlightComplexScript;i&&this.push(new vre(i)),e.underline&&this.push(new Nre(e.underline.type,e.underline.color)),e.effect&&this.push(new Bu("w:effect",e.effect)),e.border&&this.push(new cr("w:bdr",e.border)),e.shading&&this.push(new Y8(e.shading)),e.subScript&&this.push(new _re),e.superScript&&this.push(new jre),e.rightToLeft!==void 0&&this.push(new at("w:rtl",e.rightToLeft)),e.emphasisMark&&this.push(new gre(e.emphasisMark.type)),e.language&&this.push(wre(e.language)),e.specVanish&&this.push(new at("w:specVanish",e.vanish)),e.math&&this.push(new at("w:oMath",e.math)),e.revision&&this.push(new Sre(e.revision))}push(e){this.root.push(e)}}class Sre extends nt{constructor(e){super("w:rPrChange"),this.root.push(new fre({id:e.id,author:e.author,date:e.date})),this.addChildElement(new Cd(e))}}class k5 extends nt{constructor(e){var r;super("w:t"),typeof e=="string"?(this.root.push(new Xu({space:Ku.PRESERVE})),this.root.push(e)):(this.root.push(new Xu({space:(r=e.space)!=null?r:Ku.DEFAULT})),this.root.push(e.text))}}const Bg={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class oy extends nt{constructor(e){if(super("w:r"),tt(this,"properties"),this.properties=new Cd(e),this.root.push(this.properties),e.break)for(let r=0;r<e.break;r++)this.root.push(new ore);if(e.children)for(const r of e.children){if(typeof r=="string"){switch(r){case Bg.CURRENT:this.root.push(new Og),this.root.push(new lre),this.root.push(new Lg),this.root.push(new Fg);break;case Bg.TOTAL_PAGES:this.root.push(new Og),this.root.push(new cre),this.root.push(new Lg),this.root.push(new Fg);break;case Bg.TOTAL_PAGES_IN_SECTION:this.root.push(new Og),this.root.push(new dre),this.root.push(new Lg),this.root.push(new Fg);break;case Bg.CURRENT_SECTION:this.root.push(new Og),this.root.push(new ure),this.root.push(new Lg),this.root.push(new Fg);break;default:this.root.push(new k5(r));break}continue}this.root.push(r)}else e.text!==void 0&&this.root.push(new k5(e.text))}}class r0 extends oy{constructor(e){super(typeof e=="string"?{text:e}:e)}}var Fj={},Is={},Bj,C5;function qm(){if(C5)return Bj;C5=1,Bj=t;function t(e,r){if(!e)throw new Error(r||"Assertion failed")}return t.equal=function(r,n,a){if(r!=n)throw new Error(a||"Assertion failed: "+r+" != "+n)},Bj}var A5;function Ji(){if(A5)return Is;A5=1;var t=qm(),e=oc();Is.inherits=e;function r(F,Y){return(F.charCodeAt(Y)&64512)!==55296||Y<0||Y+1>=F.length?!1:(F.charCodeAt(Y+1)&64512)===56320}function n(F,Y){if(Array.isArray(F))return F.slice();if(!F)return[];var O=[];if(typeof F=="string")if(Y){if(Y==="hex")for(F=F.replace(/[^a-z0-9]+/ig,""),F.length%2!==0&&(F="0"+F),X=0;X<F.length;X+=2)O.push(parseInt(F[X]+F[X+1],16))}else for(var se=0,X=0;X<F.length;X++){var M=F.charCodeAt(X);M<128?O[se++]=M:M<2048?(O[se++]=M>>6|192,O[se++]=M&63|128):r(F,X)?(M=65536+((M&1023)<<10)+(F.charCodeAt(++X)&1023),O[se++]=M>>18|240,O[se++]=M>>12&63|128,O[se++]=M>>6&63|128,O[se++]=M&63|128):(O[se++]=M>>12|224,O[se++]=M>>6&63|128,O[se++]=M&63|128)}else for(X=0;X<F.length;X++)O[X]=F[X]|0;return O}Is.toArray=n;function a(F){for(var Y="",O=0;O<F.length;O++)Y+=c(F[O].toString(16));return Y}Is.toHex=a;function i(F){var Y=F>>>24|F>>>8&65280|F<<8&16711680|(F&255)<<24;return Y>>>0}Is.htonl=i;function o(F,Y){for(var O="",se=0;se<F.length;se++){var X=F[se];Y==="little"&&(X=i(X)),O+=d(X.toString(16))}return O}Is.toHex32=o;function c(F){return F.length===1?"0"+F:F}Is.zero2=c;function d(F){return F.length===7?"0"+F:F.length===6?"00"+F:F.length===5?"000"+F:F.length===4?"0000"+F:F.length===3?"00000"+F:F.length===2?"000000"+F:F.length===1?"0000000"+F:F}Is.zero8=d;function h(F,Y,O,se){var X=O-Y;t(X%4===0);for(var M=new Array(X/4),K=0,z=Y;K<M.length;K++,z+=4){var he;se==="big"?he=F[z]<<24|F[z+1]<<16|F[z+2]<<8|F[z+3]:he=F[z+3]<<24|F[z+2]<<16|F[z+1]<<8|F[z],M[K]=he>>>0}return M}Is.join32=h;function m(F,Y){for(var O=new Array(F.length*4),se=0,X=0;se<F.length;se++,X+=4){var M=F[se];Y==="big"?(O[X]=M>>>24,O[X+1]=M>>>16&255,O[X+2]=M>>>8&255,O[X+3]=M&255):(O[X+3]=M>>>24,O[X+2]=M>>>16&255,O[X+1]=M>>>8&255,O[X]=M&255)}return O}Is.split32=m;function f(F,Y){return F>>>Y|F<<32-Y}Is.rotr32=f;function g(F,Y){return F<<Y|F>>>32-Y}Is.rotl32=g;function y(F,Y){return F+Y>>>0}Is.sum32=y;function v(F,Y,O){return F+Y+O>>>0}Is.sum32_3=v;function w(F,Y,O,se){return F+Y+O+se>>>0}Is.sum32_4=w;function _(F,Y,O,se,X){return F+Y+O+se+X>>>0}Is.sum32_5=_;function b(F,Y,O,se){var X=F[Y],M=F[Y+1],K=se+M>>>0,z=(K<se?1:0)+O+X;F[Y]=z>>>0,F[Y+1]=K}Is.sum64=b;function N(F,Y,O,se){var X=Y+se>>>0,M=(X<Y?1:0)+F+O;return M>>>0}Is.sum64_hi=N;function k(F,Y,O,se){var X=Y+se;return X>>>0}Is.sum64_lo=k;function S(F,Y,O,se,X,M,K,z){var he=0,V=Y;V=V+se>>>0,he+=V<Y?1:0,V=V+M>>>0,he+=V<M?1:0,V=V+z>>>0,he+=V<z?1:0;var W=F+O+X+K+he;return W>>>0}Is.sum64_4_hi=S;function C(F,Y,O,se,X,M,K,z){var he=Y+se+M+z;return he>>>0}Is.sum64_4_lo=C;function I(F,Y,O,se,X,M,K,z,he,V){var W=0,le=Y;le=le+se>>>0,W+=le<Y?1:0,le=le+M>>>0,W+=le<M?1:0,le=le+z>>>0,W+=le<z?1:0,le=le+V>>>0,W+=le<V?1:0;var oe=F+O+X+K+he+W;return oe>>>0}Is.sum64_5_hi=I;function E(F,Y,O,se,X,M,K,z,he,V){var W=Y+se+M+z+V;return W>>>0}Is.sum64_5_lo=E;function U(F,Y,O){var se=Y<<32-O|F>>>O;return se>>>0}Is.rotr64_hi=U;function T(F,Y,O){var se=F<<32-O|Y>>>O;return se>>>0}Is.rotr64_lo=T;function ne(F,Y,O){return F>>>O}Is.shr64_hi=ne;function q(F,Y,O){var se=F<<32-O|Y>>>O;return se>>>0}return Is.shr64_lo=q,Is}var Ij={},E5;function Wm(){if(E5)return Ij;E5=1;var t=Ji(),e=qm();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return Ij.BlockHash=r,r.prototype.update=function(a,i){if(a=t.toArray(a,i),this.pending?this.pending=this.pending.concat(a):this.pending=a,this.pendingTotal+=a.length,this.pending.length>=this._delta8){a=this.pending;var o=a.length%this._delta8;this.pending=a.slice(a.length-o,a.length),this.pending.length===0&&(this.pending=null),a=t.join32(a,0,a.length-o,this.endian);for(var c=0;c<a.length;c+=this._delta32)this._update(a,c,c+this._delta32)}return this},r.prototype.digest=function(a){return this.update(this._pad()),e(this.pending===null),this._digest(a)},r.prototype._pad=function(){var a=this.pendingTotal,i=this._delta8,o=i-(a+this.padLength)%i,c=new Array(o+this.padLength);c[0]=128;for(var d=1;d<o;d++)c[d]=0;if(a<<=3,this.endian==="big"){for(var h=8;h<this.padLength;h++)c[d++]=0;c[d++]=0,c[d++]=0,c[d++]=0,c[d++]=0,c[d++]=a>>>24&255,c[d++]=a>>>16&255,c[d++]=a>>>8&255,c[d++]=a&255}else for(c[d++]=a&255,c[d++]=a>>>8&255,c[d++]=a>>>16&255,c[d++]=a>>>24&255,c[d++]=0,c[d++]=0,c[d++]=0,c[d++]=0,h=8;h<this.padLength;h++)c[d++]=0;return c},Ij}var zc={},Ei={},T5;function Z8(){if(T5)return Ei;T5=1;var t=Ji(),e=t.rotr32;function r(m,f,g,y){if(m===0)return n(f,g,y);if(m===1||m===3)return i(f,g,y);if(m===2)return a(f,g,y)}Ei.ft_1=r;function n(m,f,g){return m&f^~m&g}Ei.ch32=n;function a(m,f,g){return m&f^m&g^f&g}Ei.maj32=a;function i(m,f,g){return m^f^g}Ei.p32=i;function o(m){return e(m,2)^e(m,13)^e(m,22)}Ei.s0_256=o;function c(m){return e(m,6)^e(m,11)^e(m,25)}Ei.s1_256=c;function d(m){return e(m,7)^e(m,18)^m>>>3}Ei.g0_256=d;function h(m){return e(m,17)^e(m,19)^m>>>10}return Ei.g1_256=h,Ei}var zj,R5;function kre(){if(R5)return zj;R5=1;var t=Ji(),e=Wm(),r=Z8(),n=t.rotl32,a=t.sum32,i=t.sum32_5,o=r.ft_1,c=e.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function h(){if(!(this instanceof h))return new h;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return t.inherits(h,c),zj=h,h.blockSize=512,h.outSize=160,h.hmacStrength=80,h.padLength=64,h.prototype._update=function(f,g){for(var y=this.W,v=0;v<16;v++)y[v]=f[g+v];for(;v<y.length;v++)y[v]=n(y[v-3]^y[v-8]^y[v-14]^y[v-16],1);var w=this.h[0],_=this.h[1],b=this.h[2],N=this.h[3],k=this.h[4];for(v=0;v<y.length;v++){var S=~~(v/20),C=i(n(w,5),o(S,_,b,N),k,y[v],d[S]);k=N,N=b,b=n(_,30),_=w,w=C}this.h[0]=a(this.h[0],w),this.h[1]=a(this.h[1],_),this.h[2]=a(this.h[2],b),this.h[3]=a(this.h[3],N),this.h[4]=a(this.h[4],k)},h.prototype._digest=function(f){return f==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},zj}var Uj,D5;function Q8(){if(D5)return Uj;D5=1;var t=Ji(),e=Wm(),r=Z8(),n=qm(),a=t.sum32,i=t.sum32_4,o=t.sum32_5,c=r.ch32,d=r.maj32,h=r.s0_256,m=r.s1_256,f=r.g0_256,g=r.g1_256,y=e.BlockHash,v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function w(){if(!(this instanceof w))return new w;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=v,this.W=new Array(64)}return t.inherits(w,y),Uj=w,w.blockSize=512,w.outSize=256,w.hmacStrength=192,w.padLength=64,w.prototype._update=function(b,N){for(var k=this.W,S=0;S<16;S++)k[S]=b[N+S];for(;S<k.length;S++)k[S]=i(g(k[S-2]),k[S-7],f(k[S-15]),k[S-16]);var C=this.h[0],I=this.h[1],E=this.h[2],U=this.h[3],T=this.h[4],ne=this.h[5],q=this.h[6],F=this.h[7];for(n(this.k.length===k.length),S=0;S<k.length;S++){var Y=o(F,m(T),c(T,ne,q),this.k[S],k[S]),O=a(h(C),d(C,I,E));F=q,q=ne,ne=T,T=a(U,Y),U=E,E=I,I=C,C=a(Y,O)}this.h[0]=a(this.h[0],C),this.h[1]=a(this.h[1],I),this.h[2]=a(this.h[2],E),this.h[3]=a(this.h[3],U),this.h[4]=a(this.h[4],T),this.h[5]=a(this.h[5],ne),this.h[6]=a(this.h[6],q),this.h[7]=a(this.h[7],F)},w.prototype._digest=function(b){return b==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},Uj}var $j,M5;function Cre(){if(M5)return $j;M5=1;var t=Ji(),e=Q8();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return t.inherits(r,e),$j=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(a){return a==="hex"?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")},$j}var Vj,P5;function J8(){if(P5)return Vj;P5=1;var t=Ji(),e=Wm(),r=qm(),n=t.rotr64_hi,a=t.rotr64_lo,i=t.shr64_hi,o=t.shr64_lo,c=t.sum64,d=t.sum64_hi,h=t.sum64_lo,m=t.sum64_4_hi,f=t.sum64_4_lo,g=t.sum64_5_hi,y=t.sum64_5_lo,v=e.BlockHash,w=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function _(){if(!(this instanceof _))return new _;v.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=w,this.W=new Array(160)}t.inherits(_,v),Vj=_,_.blockSize=1024,_.outSize=512,_.hmacStrength=192,_.padLength=128,_.prototype._prepareBlock=function(O,se){for(var X=this.W,M=0;M<32;M++)X[M]=O[se+M];for(;M<X.length;M+=2){var K=q(X[M-4],X[M-3]),z=F(X[M-4],X[M-3]),he=X[M-14],V=X[M-13],W=T(X[M-30],X[M-29]),le=ne(X[M-30],X[M-29]),oe=X[M-32],ve=X[M-31];X[M]=m(K,z,he,V,W,le,oe,ve),X[M+1]=f(K,z,he,V,W,le,oe,ve)}},_.prototype._update=function(O,se){this._prepareBlock(O,se);var X=this.W,M=this.h[0],K=this.h[1],z=this.h[2],he=this.h[3],V=this.h[4],W=this.h[5],le=this.h[6],oe=this.h[7],ve=this.h[8],me=this.h[9],$=this.h[10],H=this.h[11],fe=this.h[12],Z=this.h[13],ee=this.h[14],J=this.h[15];r(this.k.length===X.length);for(var ke=0;ke<X.length;ke+=2){var L=ee,Te=J,Q=E(ve,me),R=U(ve,me),P=b(ve,me,$,H,fe),G=N(ve,me,$,H,fe,Z),ye=this.k[ke],ce=this.k[ke+1],ue=X[ke],De=X[ke+1],je=g(L,Te,Q,R,P,G,ye,ce,ue,De),Ae=y(L,Te,Q,R,P,G,ye,ce,ue,De);L=C(M,K),Te=I(M,K),Q=k(M,K,z,he,V),R=S(M,K,z,he,V,W);var Be=d(L,Te,Q,R),et=h(L,Te,Q,R);ee=fe,J=Z,fe=$,Z=H,$=ve,H=me,ve=d(le,oe,je,Ae),me=h(oe,oe,je,Ae),le=V,oe=W,V=z,W=he,z=M,he=K,M=d(je,Ae,Be,et),K=h(je,Ae,Be,et)}c(this.h,0,M,K),c(this.h,2,z,he),c(this.h,4,V,W),c(this.h,6,le,oe),c(this.h,8,ve,me),c(this.h,10,$,H),c(this.h,12,fe,Z),c(this.h,14,ee,J)},_.prototype._digest=function(O){return O==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")};function b(Y,O,se,X,M){var K=Y&se^~Y&M;return K<0&&(K+=4294967296),K}function N(Y,O,se,X,M,K){var z=O&X^~O&K;return z<0&&(z+=4294967296),z}function k(Y,O,se,X,M){var K=Y&se^Y&M^se&M;return K<0&&(K+=4294967296),K}function S(Y,O,se,X,M,K){var z=O&X^O&K^X&K;return z<0&&(z+=4294967296),z}function C(Y,O){var se=n(Y,O,28),X=n(O,Y,2),M=n(O,Y,7),K=se^X^M;return K<0&&(K+=4294967296),K}function I(Y,O){var se=a(Y,O,28),X=a(O,Y,2),M=a(O,Y,7),K=se^X^M;return K<0&&(K+=4294967296),K}function E(Y,O){var se=n(Y,O,14),X=n(Y,O,18),M=n(O,Y,9),K=se^X^M;return K<0&&(K+=4294967296),K}function U(Y,O){var se=a(Y,O,14),X=a(Y,O,18),M=a(O,Y,9),K=se^X^M;return K<0&&(K+=4294967296),K}function T(Y,O){var se=n(Y,O,1),X=n(Y,O,8),M=i(Y,O,7),K=se^X^M;return K<0&&(K+=4294967296),K}function ne(Y,O){var se=a(Y,O,1),X=a(Y,O,8),M=o(Y,O,7),K=se^X^M;return K<0&&(K+=4294967296),K}function q(Y,O){var se=n(Y,O,19),X=n(O,Y,29),M=i(Y,O,6),K=se^X^M;return K<0&&(K+=4294967296),K}function F(Y,O){var se=a(Y,O,19),X=a(O,Y,29),M=o(Y,O,6),K=se^X^M;return K<0&&(K+=4294967296),K}return Vj}var Hj,O5;function Are(){if(O5)return Hj;O5=1;var t=Ji(),e=J8();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return t.inherits(r,e),Hj=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(a){return a==="hex"?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")},Hj}var L5;function Ere(){return L5||(L5=1,zc.sha1=kre(),zc.sha224=Cre(),zc.sha256=Q8(),zc.sha384=Are(),zc.sha512=J8()),zc}var qj={},F5;function Tre(){if(F5)return qj;F5=1;var t=Ji(),e=Wm(),r=t.rotl32,n=t.sum32,a=t.sum32_3,i=t.sum32_4,o=e.BlockHash;function c(){if(!(this instanceof c))return new c;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}t.inherits(c,o),qj.ripemd160=c,c.blockSize=512,c.outSize=160,c.hmacStrength=192,c.padLength=64,c.prototype._update=function(_,b){for(var N=this.h[0],k=this.h[1],S=this.h[2],C=this.h[3],I=this.h[4],E=N,U=k,T=S,ne=C,q=I,F=0;F<80;F++){var Y=n(r(i(N,d(F,k,S,C),_[f[F]+b],h(F)),y[F]),I);N=I,I=C,C=r(S,10),S=k,k=Y,Y=n(r(i(E,d(79-F,U,T,ne),_[g[F]+b],m(F)),v[F]),q),E=q,q=ne,ne=r(T,10),T=U,U=Y}Y=a(this.h[1],S,ne),this.h[1]=a(this.h[2],C,q),this.h[2]=a(this.h[3],I,E),this.h[3]=a(this.h[4],N,U),this.h[4]=a(this.h[0],k,T),this.h[0]=Y},c.prototype._digest=function(_){return _==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function d(w,_,b,N){return w<=15?_^b^N:w<=31?_&b|~_&N:w<=47?(_|~b)^N:w<=63?_&N|b&~N:_^(b|~N)}function h(w){return w<=15?0:w<=31?1518500249:w<=47?1859775393:w<=63?2400959708:2840853838}function m(w){return w<=15?1352829926:w<=31?1548603684:w<=47?1836072691:w<=63?2053994217:0}var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return qj}var Wj,B5;function Rre(){if(B5)return Wj;B5=1;var t=Ji(),e=qm();function r(n,a,i){if(!(this instanceof r))return new r(n,a,i);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(a,i))}return Wj=r,r.prototype._init=function(a){a.length>this.blockSize&&(a=new this.Hash().update(a).digest()),e(a.length<=this.blockSize);for(var i=a.length;i<this.blockSize;i++)a.push(0);for(i=0;i<a.length;i++)a[i]^=54;for(this.inner=new this.Hash().update(a),i=0;i<a.length;i++)a[i]^=106;this.outer=new this.Hash().update(a)},r.prototype.update=function(a,i){return this.inner.update(a,i),this},r.prototype.digest=function(a){return this.outer.update(this.inner.digest()),this.outer.digest(a)},Wj}var I5;function Dre(){return I5||(I5=1,(function(t){var e=t;e.utils=Ji(),e.common=Wm(),e.sha=Ere(),e.ripemd=Tre(),e.hmac=Rre(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(Fj)),Fj}Dre();let Mre="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Pre=(t,e=21)=>(r=e)=>{let n="",a=r|0;for(;a--;)n+=t[Math.random()*t.length|0];return n},Ore=(t=21)=>{let e="",r=t|0;for(;r--;)e+=Mre[Math.random()*64|0];return e};const ei=t=>Math.floor(t*72*20),v2=(t=0)=>{let e=t;return()=>++e},Lre=()=>v2(),Fre=()=>v2(1),Bre=()=>v2(),Ire=()=>Ore().toLowerCase(),Af=t=>Pre("1234567890abcdef",t)(),zre=()=>`${Af(8)}-${Af(4)}-${Af(4)}-${Af(4)}-${Af(12)}`;class Ure extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{xmlns:"xmlns"})}}class $re extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const Vre={EXTERNAL:"External"};class Hre extends nt{constructor(e,r,n,a){super("Relationship"),this.root.push(new $re({id:e,type:r,target:n,targetMode:a}))}}class Ad extends nt{constructor(){super("Relationships"),this.root.push(new Ure({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(e,r,n,a){const i=new Hre(`rId${e}`,r,n,a);return this.root.push(i),i}get RelationshipCount(){return this.root.length-1}}class qre extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class Wre extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class Gre extends nt{constructor({id:e,initials:r,author:n,date:a=new Date,children:i}){super("w:comment"),this.root.push(new qre({id:e,initials:r,author:n,date:a.toISOString()}));for(const o of i)this.root.push(o)}}class Yre extends nt{constructor({children:e}){super("w:comments"),tt(this,"relationships"),this.root.push(new Wre({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const r of e)this.root.push(new Gre(r));this.relationships=new Ad}get Relationships(){return this.relationships}}class Kre extends nt{constructor(){super("w:pageBreakBefore")}}const C_={AUTO:"auto"};class Xre extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule",beforeAutoSpacing:"w:beforeAutospacing",afterAutoSpacing:"w:afterAutospacing"})}}class Zre extends nt{constructor(e){super("w:spacing"),this.root.push(new Xre(e))}}const eL={HEADING_2:"Heading2",TITLE:"Title"};let Ig=class extends nt{constructor(e){super("w:pStyle"),this.root.push(new kr({val:e}))}};class Qre extends nt{constructor(e){super("w:tabs");for(const r of e)this.root.push(new ene(r))}}const z5={LEFT:"left",RIGHT:"right"};class Jre extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class ene extends nt{constructor({type:e,position:r,leader:n}){super("w:tab"),this.root.push(new Jre({val:e,pos:r,leader:n}))}}class Gj extends nt{constructor(e,r){super("w:numPr"),this.root.push(new tne(r)),this.root.push(new sne(e))}}class tne extends nt{constructor(e){if(super("w:ilvl"),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new kr({val:e}))}}class sne extends nt{constructor(e){super("w:numId"),this.root.push(new kr({val:typeof e=="string"?`{${e}}`:e}))}}class rne extends nt{constructor(){super(...arguments),tt(this,"fileChild",Symbol())}}class nne extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class ane extends nt{constructor(e,r,n){super("w:hyperlink"),tt(this,"linkId"),this.linkId=r;const a={history:1,anchor:n||void 0,id:n?void 0:`rId${this.linkId}`},i=new nne(a);this.root.push(i),e.forEach(o=>{this.root.push(o)})}}class ine extends nt{constructor(e){super("w:externalHyperlink"),this.options=e}}class one extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class lne extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{id:"w:id"})}}class cne{constructor(e){tt(this,"bookmarkUniqueNumericId",Bre()),tt(this,"start"),tt(this,"children"),tt(this,"end");const r=this.bookmarkUniqueNumericId();this.start=new dne(e.id,r),this.children=e.children,this.end=new une(r)}}class dne extends nt{constructor(e,r){super("w:bookmarkStart");const n=new one({name:e,id:r});this.root.push(n)}}class une extends nt{constructor(e){super("w:bookmarkEnd");const r=new lne({id:e});this.root.push(r)}}class hne extends nt{constructor(e){super("w:outlineLvl"),this.level=e,this.root.push(new kr({val:e}))}}const fne={TOP:"top",CENTER:"center",BOTTOM:"bottom"};Wu(ys({},fne),{BOTH:"both"});class mne extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{verticalAlign:"w:val"})}}class pne extends nt{constructor(e){super("w:vAlign"),this.root.push(new mne({verticalAlign:e}))}}class gne extends nt{constructor({space:e,count:r,separate:n,equalWidth:a,children:i}){super("w:cols"),this.root.push(new sy({space:{key:"w:space",value:e===void 0?void 0:ai(e)},count:{key:"w:num",value:r===void 0?void 0:Qn(r)},separate:{key:"w:sep",value:n},equalWidth:{key:"w:equalWidth",value:a}})),!a&&i&&i.forEach(o=>this.addChildElement(o))}}const xne=({type:t,linePitch:e,charSpace:r})=>new Zi({name:"w:docGrid",attributes:{type:{key:"w:type",value:t},linePitch:{key:"w:linePitch",value:Qn(e)},charSpace:{key:"w:charSpace",value:r?Qn(r):void 0}}}),Iu={DEFAULT:"default",FIRST:"first",EVEN:"even"};class yne extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const U5={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class Yj extends nt{constructor(e,r){super(e),this.root.push(new yne({type:r.type||Iu.DEFAULT,id:`rId${r.id}`}))}}const bne=({countBy:t,start:e,restart:r,distance:n})=>new Zi({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:t===void 0?void 0:Qn(t)},start:{key:"w:start",value:e===void 0?void 0:Qn(e)},restart:{key:"w:restart",value:r},distance:{key:"w:distance",value:n===void 0?void 0:ai(n)}}});class $5 extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class vne extends ty{constructor(e){if(super("w:pgBorders"),!e)return this;e.pageBorders?this.root.push(new $5({display:e.pageBorders.display,offsetFrom:e.pageBorders.offsetFrom,zOrder:e.pageBorders.zOrder})):this.root.push(new $5({})),e.pageBorderTop&&this.root.push(new cr("w:top",e.pageBorderTop)),e.pageBorderLeft&&this.root.push(new cr("w:left",e.pageBorderLeft)),e.pageBorderBottom&&this.root.push(new cr("w:bottom",e.pageBorderBottom)),e.pageBorderRight&&this.root.push(new cr("w:right",e.pageBorderRight))}}class wne extends nt{constructor(e,r,n,a,i,o,c){super("w:pgMar"),this.root.push(new sy({top:{key:"w:top",value:od(e)},right:{key:"w:right",value:ai(r)},bottom:{key:"w:bottom",value:od(n)},left:{key:"w:left",value:ai(a)},header:{key:"w:header",value:ai(i)},footer:{key:"w:footer",value:ai(o)},gutter:{key:"w:gutter",value:ai(c)}}))}}class jne extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class _ne extends nt{constructor({start:e,formatType:r,separator:n}){super("w:pgNumType"),this.root.push(new jne({start:e===void 0?void 0:Qn(e),formatType:r,separator:n}))}}const A_={PORTRAIT:"portrait",LANDSCAPE:"landscape"},Nne=({width:t,height:e,orientation:r,code:n})=>{const a=ai(t),i=ai(e);return new Zi({name:"w:pgSz",attributes:{width:{key:"w:w",value:r===A_.LANDSCAPE?i:a},height:{key:"w:h",value:r===A_.LANDSCAPE?a:i},orientation:{key:"w:orient",value:r},code:{key:"w:code",value:n}}})};class Sne extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{val:"w:val"})}}class kne extends nt{constructor(e){super("w:textDirection"),this.root.push(new Sne({val:e}))}}class Cne extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{val:"w:val"})}}class Ane extends nt{constructor(e){super("w:type"),this.root.push(new Cne({val:e}))}}const Uc={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},Kj={WIDTH:11906,HEIGHT:16838,ORIENTATION:A_.PORTRAIT};class Ene extends nt{constructor({page:{size:{width:e=Kj.WIDTH,height:r=Kj.HEIGHT,orientation:n=Kj.ORIENTATION}={},margin:{top:a=Uc.TOP,right:i=Uc.RIGHT,bottom:o=Uc.BOTTOM,left:c=Uc.LEFT,header:d=Uc.HEADER,footer:h=Uc.FOOTER,gutter:m=Uc.GUTTER}={},pageNumbers:f={},borders:g,textDirection:y}={},grid:{linePitch:v=360,charSpace:w,type:_}={},headerWrapperGroup:b={},footerWrapperGroup:N={},lineNumbers:k,titlePage:S,verticalAlign:C,column:I,type:E}={}){super("w:sectPr"),this.addHeaderFooterGroup(U5.HEADER,b),this.addHeaderFooterGroup(U5.FOOTER,N),E&&this.root.push(new Ane(E)),this.root.push(Nne({width:e,height:r,orientation:n})),this.root.push(new wne(a,i,o,c,d,h,m)),g&&this.root.push(new vne(g)),k&&this.root.push(bne(k)),this.root.push(new _ne(f)),I&&this.root.push(new gne(I)),C&&this.root.push(new pne(C)),S!==void 0&&this.root.push(new at("w:titlePg",S)),y&&this.root.push(new kne(y)),this.root.push(xne({linePitch:v,charSpace:w,type:_}))}addHeaderFooterGroup(e,r){r.default&&this.root.push(new Yj(e,{type:Iu.DEFAULT,id:r.default.View.ReferenceId})),r.first&&this.root.push(new Yj(e,{type:Iu.FIRST,id:r.first.View.ReferenceId})),r.even&&this.root.push(new Yj(e,{type:Iu.EVEN,id:r.even.View.ReferenceId}))}}class Tne extends nt{constructor(){super("w:body"),tt(this,"sections",[])}addSection(e){const r=this.sections.pop();this.root.push(this.createSectionParagraph(r)),this.sections.push(new Ene(e))}prepForXml(e){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(e)}push(e){this.root.push(e)}createSectionParagraph(e){const r=new zs({}),n=new Zu({});return n.push(e),r.addChildElement(n),r}}const V5={wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"};class ly extends Vt{constructor(e,r){super(ys({Ignorable:r},Object.fromEntries(e.map(n=>[n,V5[n]])))),tt(this,"xmlKeys",ys({Ignorable:"mc:Ignorable"},Object.fromEntries(Object.keys(V5).map(n=>[n,`xmlns:${n}`]))))}}class Rne extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class Dne extends nt{constructor(e){super("w:background"),this.root.push(new Rne({color:e.color===void 0?void 0:Yu(e.color),themeColor:e.themeColor,themeShade:e.themeShade===void 0?void 0:N5(e.themeShade),themeTint:e.themeTint===void 0?void 0:N5(e.themeTint)}))}}class Mne extends nt{constructor(e){super("w:document"),tt(this,"body"),this.root.push(new ly(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps","cx","cx1","cx2","cx3","cx4","cx5","cx6","cx7","cx8","aink","am3d","w16cex","w16cid","w16","w16sdtdh","w16se"],"w14 w15 wp14")),this.body=new Tne,e.background&&this.root.push(new Dne(e.background)),this.root.push(this.body)}add(e){return this.body.push(e),this}get Body(){return this.body}}class tL{constructor(e){tt(this,"document"),tt(this,"relationships"),this.document=new Mne(e),this.relationships=new Ad}get View(){return this.document}get Relationships(){return this.relationships}}class Pne extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{val:"w:val"})}}class One extends nt{constructor(){super("w:wordWrap"),this.root.push(new Pne({val:0}))}}const Lne=t=>{var e,r;return new Zi({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:t.anchorLock},dropCap:{key:"w:dropCap",value:t.dropCap},width:{key:"w:w",value:t.width},height:{key:"w:h",value:t.height},x:{key:"w:x",value:t.position?t.position.x:void 0},y:{key:"w:y",value:t.position?t.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:t.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:t.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(e=t.space)==null?void 0:e.horizontal},spaceVertical:{key:"w:vSpace",value:(r=t.space)==null?void 0:r.vertical},rule:{key:"w:hRule",value:t.rule},alignmentX:{key:"w:xAlign",value:t.alignment?t.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:t.alignment?t.alignment.y:void 0},lines:{key:"w:lines",value:t.lines},wrap:{key:"w:wrap",value:t.wrap}}})};class Zu extends ty{constructor(e){var r,n;if(super("w:pPr"),tt(this,"numberingReferences",[]),!e)return this;e.heading&&this.push(new Ig(e.heading)),e.bullet&&this.push(new Ig("ListParagraph")),e.numbering&&!e.style&&!e.heading&&(e.numbering.custom||this.push(new Ig("ListParagraph"))),e.style&&this.push(new Ig(e.style)),e.keepNext!==void 0&&this.push(new at("w:keepNext",e.keepNext)),e.keepLines!==void 0&&this.push(new at("w:keepLines",e.keepLines)),e.pageBreakBefore&&this.push(new Kre),e.frame&&this.push(Lne(e.frame)),e.widowControl!==void 0&&this.push(new at("w:widowControl",e.widowControl)),e.bullet&&this.push(new Gj(1,e.bullet.level)),e.numbering?(this.numberingReferences.push({reference:e.numbering.reference,instance:(r=e.numbering.instance)!=null?r:0}),this.push(new Gj(`${e.numbering.reference}-${(n=e.numbering.instance)!=null?n:0}`,e.numbering.level))):e.numbering===!1&&this.push(new Gj(0,0)),e.border&&this.push(new nre(e.border)),e.thematicBreak&&this.push(new are),e.shading&&this.push(new Y8(e.shading)),e.wordWrap&&this.push(new One),e.overflowPunctuation&&this.push(new at("w:overflowPunct",e.overflowPunctuation));const a=[...e.rightTabStop!==void 0?[{type:z5.RIGHT,position:e.rightTabStop}]:[],...e.tabStops?e.tabStops:[],...e.leftTabStop!==void 0?[{type:z5.LEFT,position:e.leftTabStop}]:[]];a.length>0&&this.push(new Qre(a)),e.bidirectional!==void 0&&this.push(new at("w:bidi",e.bidirectional)),e.spacing&&this.push(new Zre(e.spacing)),e.indent&&this.push(new ire(e.indent)),e.contextualSpacing!==void 0&&this.push(new at("w:contextualSpacing",e.contextualSpacing)),e.alignment&&this.push(new sre(e.alignment)),e.outlineLevel!==void 0&&this.push(new hne(e.outlineLevel)),e.suppressLineNumbers!==void 0&&this.push(new at("w:suppressLineNumbers",e.suppressLineNumbers)),e.autoSpaceEastAsianText!==void 0&&this.push(new at("w:autoSpaceDN",e.autoSpaceEastAsianText)),e.run&&this.push(new Cd(e.run))}push(e){this.root.push(e)}prepForXml(e){if(e.viewWrapper instanceof tL)for(const r of this.numberingReferences)e.file.Numbering.createConcreteNumberingInstance(r.reference,r.instance);return super.prepForXml(e)}}class zs extends rne{constructor(e){if(super("w:p"),tt(this,"properties"),typeof e=="string")return this.properties=new Zu({}),this.root.push(this.properties),this.root.push(new r0(e)),this;if(this.properties=new Zu(e),this.root.push(this.properties),e.text&&this.root.push(new r0(e.text)),e.children)for(const r of e.children){if(r instanceof cne){this.root.push(r.start);for(const n of r.children)this.root.push(n);this.root.push(r.end);continue}this.root.push(r)}}prepForXml(e){for(const r of this.root)if(r instanceof ine){const n=this.root.indexOf(r),a=new ane(r.options.children,Ire());e.viewWrapper.Relationships.createRelationship(a.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",r.options.link,Vre.EXTERNAL),this.root[n]=a}return super.prepForXml(e)}addRunToFront(e){return this.root.splice(1,0,e),this}}const vu={style:x2.NONE,size:0,color:"auto"},wu={style:x2.SINGLE,size:4,color:"auto"};class Fne extends nt{constructor(e){super("w:tblBorders"),e.top?this.root.push(new cr("w:top",e.top)):this.root.push(new cr("w:top",wu)),e.left?this.root.push(new cr("w:left",e.left)):this.root.push(new cr("w:left",wu)),e.bottom?this.root.push(new cr("w:bottom",e.bottom)):this.root.push(new cr("w:bottom",wu)),e.right?this.root.push(new cr("w:right",e.right)):this.root.push(new cr("w:right",wu)),e.insideHorizontal?this.root.push(new cr("w:insideH",e.insideHorizontal)):this.root.push(new cr("w:insideH",wu)),e.insideVertical?this.root.push(new cr("w:insideV",e.insideVertical)):this.root.push(new cr("w:insideV",wu))}}tt(Fne,"NONE",{top:vu,bottom:vu,left:vu,right:vu,insideHorizontal:vu,insideVertical:vu});class Bne extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class Ine extends nt{constructor(){super("Properties"),this.root.push(new Bne({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class zne extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{xmlns:"xmlns"})}}class Une extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class So extends nt{constructor(e,r){super("Default"),this.root.push(new Une({contentType:e,extension:r}))}}class $ne extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class La extends nt{constructor(e,r){super("Override"),this.root.push(new $ne({contentType:e,partName:r}))}}class Vne extends nt{constructor(){super("Types"),this.root.push(new zne({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new So("image/png","png")),this.root.push(new So("image/jpeg","jpeg")),this.root.push(new So("image/jpeg","jpg")),this.root.push(new So("image/bmp","bmp")),this.root.push(new So("image/gif","gif")),this.root.push(new So("image/svg+xml","svg")),this.root.push(new So("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new So("application/xml","xml")),this.root.push(new So("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new La("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new La("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new La("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new La("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new La("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new La("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new La("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new La("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new La("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new La("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(e){this.root.push(new La("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${e}.xml`))}addHeader(e){this.root.push(new La("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${e}.xml`))}}class Hne extends nt{constructor(e){super("cp:coreProperties"),this.root.push(new ly(["cp","dc","dcterms","dcmitype","xsi"])),e.title&&this.root.push(new Ic("dc:title",e.title)),e.subject&&this.root.push(new Ic("dc:subject",e.subject)),e.creator&&this.root.push(new Ic("dc:creator",e.creator)),e.keywords&&this.root.push(new Ic("cp:keywords",e.keywords)),e.description&&this.root.push(new Ic("dc:description",e.description)),e.lastModifiedBy&&this.root.push(new Ic("cp:lastModifiedBy",e.lastModifiedBy)),e.revision&&this.root.push(new Ic("cp:revision",String(e.revision))),this.root.push(new H5("dcterms:created")),this.root.push(new H5("dcterms:modified"))}}class qne extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{type:"xsi:type"})}}class H5 extends nt{constructor(e){super(e),this.root.push(new qne({type:"dcterms:W3CDTF"})),this.root.push(ere(new Date))}}class Wne extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class Gne extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class Yne extends nt{constructor(e,r){super("property"),this.root.push(new Gne({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e.toString(),name:r.name})),this.root.push(new Kne(r.value))}}class Kne extends nt{constructor(e){super("vt:lpwstr"),this.root.push(e)}}class Xne extends nt{constructor(e){super("Properties"),tt(this,"nextId"),tt(this,"properties",[]),this.root.push(new Wne({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const r of e)this.addCustomProperty(r)}prepForXml(e){return this.properties.forEach(r=>this.root.push(r)),super.prepForXml(e)}addCustomProperty(e){this.properties.push(new Yne(this.nextId++,e))}}const zg=({id:t,fontKey:e,subsetted:r},n)=>new Zi({name:n,attributes:ys({id:{key:"r:id",value:t}},e?{fontKey:{key:"w:fontKey",value:`{${e}}`}}:{}),children:[...r?[new at("w:subsetted",r)]:[]]}),Zne=({name:t,altName:e,panose1:r,charset:n,family:a,notTrueType:i,pitch:o,sig:c,embedRegular:d,embedBold:h,embedItalic:m,embedBoldItalic:f})=>new Zi({name:"w:font",attributes:{name:{key:"w:name",value:t}},children:[...e?[Cf("w:altName",e)]:[],...r?[Cf("w:panose1",r)]:[],...n?[Cf("w:charset",n)]:[],Cf("w:family",a),...i?[new at("w:notTrueType",i)]:[],Cf("w:pitch",o),...c?[new Zi({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:c.usb0},usb1:{key:"w:usb1",value:c.usb1},usb2:{key:"w:usb2",value:c.usb2},usb3:{key:"w:usb3",value:c.usb3},csb0:{key:"w:csb0",value:c.csb0},csb1:{key:"w:csb1",value:c.csb1}}})]:[],...d?[zg(d,"w:embedRegular")]:[],...h?[zg(h,"w:embedBold")]:[],...m?[zg(m,"w:embedItalic")]:[],...f?[zg(f,"w:embedBoldItalic")]:[]]}),Qne=({name:t,index:e,fontKey:r,characterSet:n})=>Zne({name:t,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:n,family:"auto",pitch:"variable",embedRegular:{fontKey:r,id:`rId${e}`}}),Jne=t=>new Zi({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:t.map((e,r)=>Qne({name:e.name,index:r+1,fontKey:e.fontKey}))});class eae{constructor(e){tt(this,"fontTable"),tt(this,"relationships"),tt(this,"fontOptionsWithKey",[]),this.options=e,this.fontOptionsWithKey=e.map(r=>Wu(ys({},r),{fontKey:zre()})),this.fontTable=Jne(this.fontOptionsWithKey),this.relationships=new Ad;for(let r=0;r<e.length;r++)this.relationships.createRelationship(r+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${e[r].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}class tae extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let sae=class extends H8{constructor(e,r){super("w:ftr",r),tt(this,"refId"),this.refId=e,r||this.root.push(new tae({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class rae{constructor(e,r,n){tt(this,"footer"),tt(this,"relationships"),this.media=e,this.footer=new sae(r,n),this.relationships=new Ad}add(e){this.footer.add(e)}addChildElement(e){this.footer.addChildElement(e)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class nae extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class aae extends nt{constructor(){super("w:footnoteRef")}}class iae extends oy{constructor(){super({style:"FootnoteReference"}),this.root.push(new aae)}}const q5={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class Xj extends nt{constructor(e){super("w:footnote"),this.root.push(new nae({type:e.type,id:e.id}));for(let r=0;r<e.children.length;r++){const n=e.children[r];r===0&&n.addRunToFront(new iae),this.root.push(n)}}}class oae extends nt{constructor(){super("w:continuationSeparator")}}class lae extends oy{constructor(){super({}),this.root.push(new oae)}}class cae extends nt{constructor(){super("w:separator")}}class dae extends oy{constructor(){super({}),this.root.push(new cae)}}class uae extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class hae extends nt{constructor(){super("w:footnotes"),this.root.push(new uae({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const e=new Xj({id:-1,type:q5.SEPERATOR,children:[new zs({spacing:{after:0,line:240,lineRule:C_.AUTO},children:[new dae]})]});this.root.push(e);const r=new Xj({id:0,type:q5.CONTINUATION_SEPERATOR,children:[new zs({spacing:{after:0,line:240,lineRule:C_.AUTO},children:[new lae]})]});this.root.push(r)}createFootNote(e,r){const n=new Xj({id:e,children:r});this.root.push(n)}}class fae{constructor(){tt(this,"footnotess"),tt(this,"relationships"),this.footnotess=new hae,this.relationships=new Ad}get View(){return this.footnotess}get Relationships(){return this.relationships}}class mae extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let pae=class extends H8{constructor(e,r){super("w:hdr",r),tt(this,"refId"),this.refId=e,r||this.root.push(new mae({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class gae{constructor(e,r,n){tt(this,"header"),tt(this,"relationships"),this.media=e,this.header=new pae(r,n),this.relationships=new Ad}add(e){return this.header.add(e),this}addChildElement(e){this.header.addChildElement(e)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class xae{constructor(){tt(this,"map"),this.map=new Map}addImage(e,r){this.map.set(e,r)}get Array(){return Array.from(this.map.values())}}const ko={BULLET:"bullet"};class yae extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class bae extends nt{constructor(e){super("w:numFmt"),this.root.push(new kr({val:e}))}}class vae extends nt{constructor(e){super("w:lvlText"),this.root.push(new kr({val:e}))}}class wae extends nt{constructor(e){super("w:lvlJc"),this.root.push(new kr({val:e}))}}class jae extends nt{constructor(e){super("w:suff"),this.root.push(new kr({val:e}))}}class _ae extends nt{constructor(){super("w:isLgl")}}class Nae extends nt{constructor({level:e,format:r,text:n,alignment:a=fa.START,start:i=1,style:o,suffix:c,isLegalNumberingStyle:d}){if(super("w:lvl"),tt(this,"paragraphProperties"),tt(this,"runProperties"),this.root.push(new Xf("w:start",Qn(i))),r&&this.root.push(new bae(r)),c&&this.root.push(new jae(c)),d&&this.root.push(new _ae),n&&this.root.push(new vae(n)),this.root.push(new wae(a)),this.paragraphProperties=new Zu(o&&o.paragraph),this.runProperties=new Cd(o&&o.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new yae({ilvl:Qn(e),tentative:1}))}}class Sae extends Nae{}class kae extends nt{constructor(e){super("w:multiLevelType"),this.root.push(new kr({val:e}))}}class Cae extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class W5 extends nt{constructor(e,r){super("w:abstractNum"),tt(this,"id"),this.root.push(new Cae({abstractNumId:Qn(e),restartNumberingAfterBreak:0})),this.root.push(new kae("hybridMultilevel")),this.id=e;for(const n of r)this.root.push(new Sae(n))}}class Aae extends nt{constructor(e){super("w:abstractNumId"),this.root.push(new kr({val:e}))}}class Eae extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{numId:"w:numId"})}}class G5 extends nt{constructor(e){if(super("w:num"),tt(this,"numId"),tt(this,"reference"),tt(this,"instance"),this.numId=e.numId,this.reference=e.reference,this.instance=e.instance,this.root.push(new Eae({numId:Qn(e.numId)})),this.root.push(new Aae(Qn(e.abstractNumId))),e.overrideLevels&&e.overrideLevels.length)for(const r of e.overrideLevels)this.root.push(new Rae(r.num,r.start))}}class Tae extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{ilvl:"w:ilvl"})}}class Rae extends nt{constructor(e,r){super("w:lvlOverride"),this.root.push(new Tae({ilvl:e})),r!==void 0&&this.root.push(new Mae(r))}}class Dae extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{val:"w:val"})}}class Mae extends nt{constructor(e){super("w:startOverride"),this.root.push(new Dae({val:e}))}}class Pae extends nt{constructor(e){super("w:numbering"),tt(this,"abstractNumberingMap",new Map),tt(this,"concreteNumberingMap",new Map),tt(this,"referenceConfigMap",new Map),tt(this,"abstractNumUniqueNumericId",Lre()),tt(this,"concreteNumUniqueNumericId",Fre()),this.root.push(new ly(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps"],"w14 w15 wp14"));const r=new W5(this.abstractNumUniqueNumericId(),[{level:0,format:ko.BULLET,text:"",alignment:fa.LEFT,style:{paragraph:{indent:{left:ei(.5),hanging:ei(.25)}}}},{level:1,format:ko.BULLET,text:"",alignment:fa.LEFT,style:{paragraph:{indent:{left:ei(1),hanging:ei(.25)}}}},{level:2,format:ko.BULLET,text:"",alignment:fa.LEFT,style:{paragraph:{indent:{left:2160,hanging:ei(.25)}}}},{level:3,format:ko.BULLET,text:"",alignment:fa.LEFT,style:{paragraph:{indent:{left:2880,hanging:ei(.25)}}}},{level:4,format:ko.BULLET,text:"",alignment:fa.LEFT,style:{paragraph:{indent:{left:3600,hanging:ei(.25)}}}},{level:5,format:ko.BULLET,text:"",alignment:fa.LEFT,style:{paragraph:{indent:{left:4320,hanging:ei(.25)}}}},{level:6,format:ko.BULLET,text:"",alignment:fa.LEFT,style:{paragraph:{indent:{left:5040,hanging:ei(.25)}}}},{level:7,format:ko.BULLET,text:"",alignment:fa.LEFT,style:{paragraph:{indent:{left:5760,hanging:ei(.25)}}}},{level:8,format:ko.BULLET,text:"",alignment:fa.LEFT,style:{paragraph:{indent:{left:6480,hanging:ei(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new G5({numId:1,abstractNumId:r.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",r);for(const n of e.config)this.abstractNumberingMap.set(n.reference,new W5(this.abstractNumUniqueNumericId(),n.levels)),this.referenceConfigMap.set(n.reference,n.levels)}prepForXml(e){for(const r of this.abstractNumberingMap.values())this.root.push(r);for(const r of this.concreteNumberingMap.values())this.root.push(r);return super.prepForXml(e)}createConcreteNumberingInstance(e,r){const n=this.abstractNumberingMap.get(e);if(!n)return;const a=`${e}-${r}`;if(this.concreteNumberingMap.has(a))return;const i=this.referenceConfigMap.get(e),o=i&&i[0].start,c={numId:this.concreteNumUniqueNumericId(),abstractNumId:n.id,reference:e,instance:r,overrideLevels:[o&&Number.isInteger(o)?{num:0,start:o}:{num:0,start:1}]};this.concreteNumberingMap.set(a,new G5(c))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class Oae extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class Lae extends nt{constructor(e){super("w:compatSetting"),this.root.push(new Oae({version:e,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class Fae extends nt{constructor(e){super("w:compat"),e.version&&this.root.push(new Lae(e.version)),e.useSingleBorderforContiguousCells&&this.root.push(new at("w:useSingleBorderforContiguousCells",e.useSingleBorderforContiguousCells)),e.wordPerfectJustification&&this.root.push(new at("w:wpJustification",e.wordPerfectJustification)),e.noTabStopForHangingIndent&&this.root.push(new at("w:noTabHangInd",e.noTabStopForHangingIndent)),e.noLeading&&this.root.push(new at("w:noLeading",e.noLeading)),e.spaceForUnderline&&this.root.push(new at("w:spaceForUL",e.spaceForUnderline)),e.noColumnBalance&&this.root.push(new at("w:noColumnBalance",e.noColumnBalance)),e.balanceSingleByteDoubleByteWidth&&this.root.push(new at("w:balanceSingleByteDoubleByteWidth",e.balanceSingleByteDoubleByteWidth)),e.noExtraLineSpacing&&this.root.push(new at("w:noExtraLineSpacing",e.noExtraLineSpacing)),e.doNotLeaveBackslashAlone&&this.root.push(new at("w:doNotLeaveBackslashAlone",e.doNotLeaveBackslashAlone)),e.underlineTrailingSpaces&&this.root.push(new at("w:ulTrailSpace",e.underlineTrailingSpaces)),e.doNotExpandShiftReturn&&this.root.push(new at("w:doNotExpandShiftReturn",e.doNotExpandShiftReturn)),e.spacingInWholePoints&&this.root.push(new at("w:spacingInWholePoints",e.spacingInWholePoints)),e.lineWrapLikeWord6&&this.root.push(new at("w:lineWrapLikeWord6",e.lineWrapLikeWord6)),e.printBodyTextBeforeHeader&&this.root.push(new at("w:printBodyTextBeforeHeader",e.printBodyTextBeforeHeader)),e.printColorsBlack&&this.root.push(new at("w:printColBlack",e.printColorsBlack)),e.spaceWidth&&this.root.push(new at("w:wpSpaceWidth",e.spaceWidth)),e.showBreaksInFrames&&this.root.push(new at("w:showBreaksInFrames",e.showBreaksInFrames)),e.subFontBySize&&this.root.push(new at("w:subFontBySize",e.subFontBySize)),e.suppressBottomSpacing&&this.root.push(new at("w:suppressBottomSpacing",e.suppressBottomSpacing)),e.suppressTopSpacing&&this.root.push(new at("w:suppressTopSpacing",e.suppressTopSpacing)),e.suppressSpacingAtTopOfPage&&this.root.push(new at("w:suppressSpacingAtTopOfPage",e.suppressSpacingAtTopOfPage)),e.suppressTopSpacingWP&&this.root.push(new at("w:suppressTopSpacingWP",e.suppressTopSpacingWP)),e.suppressSpBfAfterPgBrk&&this.root.push(new at("w:suppressSpBfAfterPgBrk",e.suppressSpBfAfterPgBrk)),e.swapBordersFacingPages&&this.root.push(new at("w:swapBordersFacingPages",e.swapBordersFacingPages)),e.convertMailMergeEsc&&this.root.push(new at("w:convMailMergeEsc",e.convertMailMergeEsc)),e.truncateFontHeightsLikeWP6&&this.root.push(new at("w:truncateFontHeightsLikeWP6",e.truncateFontHeightsLikeWP6)),e.macWordSmallCaps&&this.root.push(new at("w:mwSmallCaps",e.macWordSmallCaps)),e.usePrinterMetrics&&this.root.push(new at("w:usePrinterMetrics",e.usePrinterMetrics)),e.doNotSuppressParagraphBorders&&this.root.push(new at("w:doNotSuppressParagraphBorders",e.doNotSuppressParagraphBorders)),e.wrapTrailSpaces&&this.root.push(new at("w:wrapTrailSpaces",e.wrapTrailSpaces)),e.footnoteLayoutLikeWW8&&this.root.push(new at("w:footnoteLayoutLikeWW8",e.footnoteLayoutLikeWW8)),e.shapeLayoutLikeWW8&&this.root.push(new at("w:shapeLayoutLikeWW8",e.shapeLayoutLikeWW8)),e.alignTablesRowByRow&&this.root.push(new at("w:alignTablesRowByRow",e.alignTablesRowByRow)),e.forgetLastTabAlignment&&this.root.push(new at("w:forgetLastTabAlignment",e.forgetLastTabAlignment)),e.adjustLineHeightInTable&&this.root.push(new at("w:adjustLineHeightInTable",e.adjustLineHeightInTable)),e.autoSpaceLikeWord95&&this.root.push(new at("w:autoSpaceLikeWord95",e.autoSpaceLikeWord95)),e.noSpaceRaiseLower&&this.root.push(new at("w:noSpaceRaiseLower",e.noSpaceRaiseLower)),e.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new at("w:doNotUseHTMLParagraphAutoSpacing",e.doNotUseHTMLParagraphAutoSpacing)),e.layoutRawTableWidth&&this.root.push(new at("w:layoutRawTableWidth",e.layoutRawTableWidth)),e.layoutTableRowsApart&&this.root.push(new at("w:layoutTableRowsApart",e.layoutTableRowsApart)),e.useWord97LineBreakRules&&this.root.push(new at("w:useWord97LineBreakRules",e.useWord97LineBreakRules)),e.doNotBreakWrappedTables&&this.root.push(new at("w:doNotBreakWrappedTables",e.doNotBreakWrappedTables)),e.doNotSnapToGridInCell&&this.root.push(new at("w:doNotSnapToGridInCell",e.doNotSnapToGridInCell)),e.selectFieldWithFirstOrLastCharacter&&this.root.push(new at("w:selectFldWithFirstOrLastChar",e.selectFieldWithFirstOrLastCharacter)),e.applyBreakingRules&&this.root.push(new at("w:applyBreakingRules",e.applyBreakingRules)),e.doNotWrapTextWithPunctuation&&this.root.push(new at("w:doNotWrapTextWithPunct",e.doNotWrapTextWithPunctuation)),e.doNotUseEastAsianBreakRules&&this.root.push(new at("w:doNotUseEastAsianBreakRules",e.doNotUseEastAsianBreakRules)),e.useWord2002TableStyleRules&&this.root.push(new at("w:useWord2002TableStyleRules",e.useWord2002TableStyleRules)),e.growAutofit&&this.root.push(new at("w:growAutofit",e.growAutofit)),e.useFELayout&&this.root.push(new at("w:useFELayout",e.useFELayout)),e.useNormalStyleForList&&this.root.push(new at("w:useNormalStyleForList",e.useNormalStyleForList)),e.doNotUseIndentAsNumberingTabStop&&this.root.push(new at("w:doNotUseIndentAsNumberingTabStop",e.doNotUseIndentAsNumberingTabStop)),e.useAlternateEastAsianLineBreakRules&&this.root.push(new at("w:useAltKinsokuLineBreakRules",e.useAlternateEastAsianLineBreakRules)),e.allowSpaceOfSameStyleInTable&&this.root.push(new at("w:allowSpaceOfSameStyleInTable",e.allowSpaceOfSameStyleInTable)),e.doNotSuppressIndentation&&this.root.push(new at("w:doNotSuppressIndentation",e.doNotSuppressIndentation)),e.doNotAutofitConstrainedTables&&this.root.push(new at("w:doNotAutofitConstrainedTables",e.doNotAutofitConstrainedTables)),e.autofitToFirstFixedWidthCell&&this.root.push(new at("w:autofitToFirstFixedWidthCell",e.autofitToFirstFixedWidthCell)),e.underlineTabInNumberingList&&this.root.push(new at("w:underlineTabInNumList",e.underlineTabInNumberingList)),e.displayHangulFixedWidth&&this.root.push(new at("w:displayHangulFixedWidth",e.displayHangulFixedWidth)),e.splitPgBreakAndParaMark&&this.root.push(new at("w:splitPgBreakAndParaMark",e.splitPgBreakAndParaMark)),e.doNotVerticallyAlignCellWithSp&&this.root.push(new at("w:doNotVertAlignCellWithSp",e.doNotVerticallyAlignCellWithSp)),e.doNotBreakConstrainedForcedTable&&this.root.push(new at("w:doNotBreakConstrainedForcedTable",e.doNotBreakConstrainedForcedTable)),e.ignoreVerticalAlignmentInTextboxes&&this.root.push(new at("w:doNotVertAlignInTxbx",e.ignoreVerticalAlignmentInTextboxes)),e.useAnsiKerningPairs&&this.root.push(new at("w:useAnsiKerningPairs",e.useAnsiKerningPairs)),e.cachedColumnBalance&&this.root.push(new at("w:cachedColBalance",e.cachedColumnBalance))}}class Bae extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class Iae extends nt{constructor(e){var r,n,a,i,o,c,d,h;super("w:settings"),this.root.push(new Bae({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new at("w:displayBackgroundShape",!0)),e.trackRevisions!==void 0&&this.root.push(new at("w:trackRevisions",e.trackRevisions)),e.evenAndOddHeaders!==void 0&&this.root.push(new at("w:evenAndOddHeaders",e.evenAndOddHeaders)),e.updateFields!==void 0&&this.root.push(new at("w:updateFields",e.updateFields)),e.defaultTabStop!==void 0&&this.root.push(new Xf("w:defaultTabStop",e.defaultTabStop)),((r=e.hyphenation)==null?void 0:r.autoHyphenation)!==void 0&&this.root.push(new at("w:autoHyphenation",e.hyphenation.autoHyphenation)),((n=e.hyphenation)==null?void 0:n.hyphenationZone)!==void 0&&this.root.push(new Xf("w:hyphenationZone",e.hyphenation.hyphenationZone)),((a=e.hyphenation)==null?void 0:a.consecutiveHyphenLimit)!==void 0&&this.root.push(new Xf("w:consecutiveHyphenLimit",e.hyphenation.consecutiveHyphenLimit)),((i=e.hyphenation)==null?void 0:i.doNotHyphenateCaps)!==void 0&&this.root.push(new at("w:doNotHyphenateCaps",e.hyphenation.doNotHyphenateCaps)),this.root.push(new Fae(Wu(ys({},(o=e.compatibility)!=null?o:{}),{version:(h=(d=(c=e.compatibility)==null?void 0:c.version)!=null?d:e.compatibilityModeVersion)!=null?h:15})))}}class sL extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{val:"w:val"})}}class zae extends nt{constructor(e){super("w:name"),this.root.push(new sL({val:e}))}}class Uae extends nt{constructor(e){super("w:uiPriority"),this.root.push(new sL({val:Qn(e)}))}}class $ae extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class rL extends nt{constructor(e,r){super("w:style"),this.root.push(new $ae(e)),r.name&&this.root.push(new zae(r.name)),r.basedOn&&this.root.push(new Bu("w:basedOn",r.basedOn)),r.next&&this.root.push(new Bu("w:next",r.next)),r.link&&this.root.push(new Bu("w:link",r.link)),r.uiPriority!==void 0&&this.root.push(new Uae(r.uiPriority)),r.semiHidden!==void 0&&this.root.push(new at("w:semiHidden",r.semiHidden)),r.unhideWhenUsed!==void 0&&this.root.push(new at("w:unhideWhenUsed",r.unhideWhenUsed)),r.quickFormat!==void 0&&this.root.push(new at("w:qFormat",r.quickFormat))}}class cy extends rL{constructor(e){super({type:"paragraph",styleId:e.id},e),tt(this,"paragraphProperties"),tt(this,"runProperties"),this.paragraphProperties=new Zu(e.paragraph),this.runProperties=new Cd(e.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class dy extends rL{constructor(e){super({type:"character",styleId:e.id},ys({uiPriority:99,unhideWhenUsed:!0},e)),tt(this,"runProperties"),this.runProperties=new Cd(e.run),this.root.push(this.runProperties)}}class lc extends cy{constructor(e){super(ys({basedOn:"Normal",next:"Normal",quickFormat:!0},e))}}class Vae extends lc{constructor(e){super(ys({id:"Title",name:"Title"},e))}}class Hae extends lc{constructor(e){super(ys({id:"Heading1",name:"Heading 1"},e))}}class qae extends lc{constructor(e){super(ys({id:"Heading2",name:"Heading 2"},e))}}class Wae extends lc{constructor(e){super(ys({id:"Heading3",name:"Heading 3"},e))}}class Gae extends lc{constructor(e){super(ys({id:"Heading4",name:"Heading 4"},e))}}class Yae extends lc{constructor(e){super(ys({id:"Heading5",name:"Heading 5"},e))}}class Kae extends lc{constructor(e){super(ys({id:"Heading6",name:"Heading 6"},e))}}class Xae extends lc{constructor(e){super(ys({id:"Strong",name:"Strong"},e))}}class Zae extends cy{constructor(e){super(ys({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},e))}}class Qae extends cy{constructor(e){super(ys({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:C_.AUTO}},run:{size:20}},e))}}class Jae extends dy{constructor(e){super(ys({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},e))}}class eie extends dy{constructor(e){super(ys({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},e))}}class tie extends dy{constructor(e){super(ys({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:X8.SINGLE}}},e))}}class E_ extends nt{constructor(e){if(super("w:styles"),e.initialStyles&&this.root.push(e.initialStyles),e.importedStyles)for(const r of e.importedStyles)this.root.push(r);if(e.paragraphStyles)for(const r of e.paragraphStyles)this.root.push(new cy(r));if(e.characterStyles)for(const r of e.characterStyles)this.root.push(new dy(r))}}class sie extends nt{constructor(e){super("w:pPrDefault"),this.root.push(new Zu(e))}}class rie extends nt{constructor(e){super("w:rPrDefault"),this.root.push(new Cd(e))}}class nie extends nt{constructor(e){super("w:docDefaults"),tt(this,"runPropertiesDefaults"),tt(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new rie(e.run),this.paragraphPropertiesDefaults=new sie(e.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class aie{newInstance(e){const r=V8.xml2js(e,{compact:!1});let n;for(const o of r.elements||[])o.name==="w:styles"&&(n=o);if(n===void 0)throw new Error("can not find styles element");const a=n.elements||[];return new E_({initialStyles:new Xse(n.attributes),importedStyles:a.map(o=>g2(o))})}}class Y5{newInstance(e={}){var r;return{initialStyles:new ly(["mc","r","w","w14","w15"],"w14 w15"),importedStyles:[new nie((r=e.document)!=null?r:{}),new Vae(ys({run:{size:56}},e.title)),new Hae(ys({run:{color:"2E74B5",size:32}},e.heading1)),new qae(ys({run:{color:"2E74B5",size:26}},e.heading2)),new Wae(ys({run:{color:"1F4D78",size:24}},e.heading3)),new Gae(ys({run:{color:"2E74B5",italics:!0}},e.heading4)),new Yae(ys({run:{color:"2E74B5"}},e.heading5)),new Kae(ys({run:{color:"1F4D78"}},e.heading6)),new Xae(ys({run:{bold:!0}},e.strong)),new Zae(e.listParagraph||{}),new tie(e.hyperlink||{}),new Jae(e.footnoteReference||{}),new Qae(e.footnoteText||{}),new eie(e.footnoteTextChar||{})]}}}let iie=class{constructor(e){tt(this,"currentRelationshipId",1),tt(this,"documentWrapper"),tt(this,"headers",[]),tt(this,"footers",[]),tt(this,"coreProperties"),tt(this,"numbering"),tt(this,"media"),tt(this,"fileRelationships"),tt(this,"footnotesWrapper"),tt(this,"settings"),tt(this,"contentTypes"),tt(this,"customProperties"),tt(this,"appProperties"),tt(this,"styles"),tt(this,"comments"),tt(this,"fontWrapper");var r,n,a,i,o,c,d,h,m,f,g,y;if(this.coreProperties=new Hne(Wu(ys({},e),{creator:(r=e.creator)!=null?r:"Un-named",revision:(n=e.revision)!=null?n:1,lastModifiedBy:(a=e.lastModifiedBy)!=null?a:"Un-named"})),this.numbering=new Pae(e.numbering?e.numbering:{config:[]}),this.comments=new Yre((i=e.comments)!=null?i:{children:[]}),this.fileRelationships=new Ad,this.customProperties=new Xne((o=e.customProperties)!=null?o:[]),this.appProperties=new Ine,this.footnotesWrapper=new fae,this.contentTypes=new Vne,this.documentWrapper=new tL({background:e.background}),this.settings=new Iae({compatibilityModeVersion:e.compatabilityModeVersion,compatibility:e.compatibility,evenAndOddHeaders:!!e.evenAndOddHeaderAndFooters,trackRevisions:(c=e.features)==null?void 0:c.trackRevisions,updateFields:(d=e.features)==null?void 0:d.updateFields,defaultTabStop:e.defaultTabStop,hyphenation:{autoHyphenation:(h=e.hyphenation)==null?void 0:h.autoHyphenation,hyphenationZone:(m=e.hyphenation)==null?void 0:m.hyphenationZone,consecutiveHyphenLimit:(f=e.hyphenation)==null?void 0:f.consecutiveHyphenLimit,doNotHyphenateCaps:(g=e.hyphenation)==null?void 0:g.doNotHyphenateCaps}}),this.media=new xae,e.externalStyles!==void 0){const v=new aie;this.styles=v.newInstance(e.externalStyles)}else if(e.styles){const w=new Y5().newInstance(e.styles.default);this.styles=new E_(ys(ys({},w),e.styles))}else{const v=new Y5;this.styles=new E_(v.newInstance())}this.addDefaultRelationships();for(const v of e.sections)this.addSection(v);if(e.footnotes)for(const v in e.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(v),e.footnotes[v].children);this.fontWrapper=new eae((y=e.fonts)!=null?y:[])}addSection({headers:e={},footers:r={},children:n,properties:a}){this.documentWrapper.View.Body.addSection(Wu(ys({},a),{headerWrapperGroup:{default:e.default?this.createHeader(e.default):void 0,first:e.first?this.createHeader(e.first):void 0,even:e.even?this.createHeader(e.even):void 0},footerWrapperGroup:{default:r.default?this.createFooter(r.default):void 0,first:r.first?this.createFooter(r.first):void 0,even:r.even?this.createFooter(r.even):void 0}}));for(const i of n)this.documentWrapper.View.add(i)}createHeader(e){const r=new gae(this.media,this.currentRelationshipId++);for(const n of e.options.children)r.add(n);return this.addHeaderToDocument(r),r}createFooter(e){const r=new rae(this.media,this.currentRelationshipId++);for(const n of e.options.children)r.add(n);return this.addFooterToDocument(r),r}addHeaderToDocument(e,r=Iu.DEFAULT){this.headers.push({header:e,type:r}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(e,r=Iu.DEFAULT){this.footers.push({footer:e,type:r}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(e=>e.header)}get Footers(){return this.footers.map(e=>e.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}};var oie=f2();function Ug(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Zj={exports:{}},K5;function lie(){return K5||(K5=1,(function(t,e){(function(r){t.exports=r()})(function(){return(function r(n,a,i){function o(h,m){if(!a[h]){if(!n[h]){var f=typeof Ug=="function"&&Ug;if(!m&&f)return f(h,!0);if(c)return c(h,!0);var g=new Error("Cannot find module '"+h+"'");throw g.code="MODULE_NOT_FOUND",g}var y=a[h]={exports:{}};n[h][0].call(y.exports,function(v){var w=n[h][1][v];return o(w||v)},y,y.exports,r,n,a,i)}return a[h].exports}for(var c=typeof Ug=="function"&&Ug,d=0;d<i.length;d++)o(i[d]);return o})({1:[function(r,n,a){var i=r("./utils"),o=r("./support"),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(d){for(var h,m,f,g,y,v,w,_=[],b=0,N=d.length,k=N,S=i.getTypeOf(d)!=="string";b<d.length;)k=N-b,f=S?(h=d[b++],m=b<N?d[b++]:0,b<N?d[b++]:0):(h=d.charCodeAt(b++),m=b<N?d.charCodeAt(b++):0,b<N?d.charCodeAt(b++):0),g=h>>2,y=(3&h)<<4|m>>4,v=1<k?(15&m)<<2|f>>6:64,w=2<k?63&f:64,_.push(c.charAt(g)+c.charAt(y)+c.charAt(v)+c.charAt(w));return _.join("")},a.decode=function(d){var h,m,f,g,y,v,w=0,_=0,b="data:";if(d.substr(0,b.length)===b)throw new Error("Invalid base64 input, it looks like a data url.");var N,k=3*(d=d.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(d.charAt(d.length-1)===c.charAt(64)&&k--,d.charAt(d.length-2)===c.charAt(64)&&k--,k%1!=0)throw new Error("Invalid base64 input, bad content length.");for(N=o.uint8array?new Uint8Array(0|k):new Array(0|k);w<d.length;)h=c.indexOf(d.charAt(w++))<<2|(g=c.indexOf(d.charAt(w++)))>>4,m=(15&g)<<4|(y=c.indexOf(d.charAt(w++)))>>2,f=(3&y)<<6|(v=c.indexOf(d.charAt(w++))),N[_++]=h,y!==64&&(N[_++]=m),v!==64&&(N[_++]=f);return N}},{"./support":30,"./utils":32}],2:[function(r,n,a){var i=r("./external"),o=r("./stream/DataWorker"),c=r("./stream/Crc32Probe"),d=r("./stream/DataLengthProbe");function h(m,f,g,y,v){this.compressedSize=m,this.uncompressedSize=f,this.crc32=g,this.compression=y,this.compressedContent=v}h.prototype={getContentWorker:function(){var m=new o(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),f=this;return m.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),m},getCompressedWorker:function(){return new o(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},h.createWorkerFrom=function(m,f,g){return m.pipe(new c).pipe(new d("uncompressedSize")).pipe(f.compressWorker(g)).pipe(new d("compressedSize")).withStreamInfo("compression",f)},n.exports=h},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,a){var i=r("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},a.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,a){var i=r("./utils"),o=(function(){for(var c,d=[],h=0;h<256;h++){c=h;for(var m=0;m<8;m++)c=1&c?3988292384^c>>>1:c>>>1;d[h]=c}return d})();n.exports=function(c,d){return c!==void 0&&c.length?i.getTypeOf(c)!=="string"?(function(h,m,f,g){var y=o,v=g+f;h^=-1;for(var w=g;w<v;w++)h=h>>>8^y[255&(h^m[w])];return-1^h})(0|d,c,c.length,0):(function(h,m,f,g){var y=o,v=g+f;h^=-1;for(var w=g;w<v;w++)h=h>>>8^y[255&(h^m.charCodeAt(w))];return-1^h})(0|d,c,c.length,0):0}},{"./utils":32}],5:[function(r,n,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(r,n,a){var i=null;i=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:i}},{lie:37}],7:[function(r,n,a){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=r("pako"),c=r("./utils"),d=r("./stream/GenericWorker"),h=i?"uint8array":"array";function m(f,g){d.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=g,this.meta={}}a.magic="\b\0",c.inherits(m,d),m.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(c.transformTo(h,f.data),!1)},m.prototype.flush=function(){d.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},m.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null},m.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(g){f.push({data:g,meta:f.meta})}},a.compressWorker=function(f){return new m("Deflate",f)},a.uncompressWorker=function(){return new m("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,a){function i(y,v){var w,_="";for(w=0;w<v;w++)_+=String.fromCharCode(255&y),y>>>=8;return _}function o(y,v,w,_,b,N){var k,S,C=y.file,I=y.compression,E=N!==h.utf8encode,U=c.transformTo("string",N(C.name)),T=c.transformTo("string",h.utf8encode(C.name)),ne=C.comment,q=c.transformTo("string",N(ne)),F=c.transformTo("string",h.utf8encode(ne)),Y=T.length!==C.name.length,O=F.length!==ne.length,se="",X="",M="",K=C.dir,z=C.date,he={crc32:0,compressedSize:0,uncompressedSize:0};v&&!w||(he.crc32=y.crc32,he.compressedSize=y.compressedSize,he.uncompressedSize=y.uncompressedSize);var V=0;v&&(V|=8),E||!Y&&!O||(V|=2048);var W=0,le=0;K&&(W|=16),b==="UNIX"?(le=798,W|=(function(ve,me){var $=ve;return ve||($=me?16893:33204),(65535&$)<<16})(C.unixPermissions,K)):(le=20,W|=(function(ve){return 63&(ve||0)})(C.dosPermissions)),k=z.getUTCHours(),k<<=6,k|=z.getUTCMinutes(),k<<=5,k|=z.getUTCSeconds()/2,S=z.getUTCFullYear()-1980,S<<=4,S|=z.getUTCMonth()+1,S<<=5,S|=z.getUTCDate(),Y&&(X=i(1,1)+i(m(U),4)+T,se+="up"+i(X.length,2)+X),O&&(M=i(1,1)+i(m(q),4)+F,se+="uc"+i(M.length,2)+M);var oe="";return oe+=`
\0`,oe+=i(V,2),oe+=I.magic,oe+=i(k,2),oe+=i(S,2),oe+=i(he.crc32,4),oe+=i(he.compressedSize,4),oe+=i(he.uncompressedSize,4),oe+=i(U.length,2),oe+=i(se.length,2),{fileRecord:f.LOCAL_FILE_HEADER+oe+U+se,dirRecord:f.CENTRAL_FILE_HEADER+i(le,2)+oe+i(q.length,2)+"\0\0\0\0"+i(W,4)+i(_,4)+U+se+q}}var c=r("../utils"),d=r("../stream/GenericWorker"),h=r("../utf8"),m=r("../crc32"),f=r("../signature");function g(y,v,w,_){d.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=v,this.zipPlatform=w,this.encodeFileName=_,this.streamFiles=y,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}c.inherits(g,d),g.prototype.push=function(y){var v=y.meta.percent||0,w=this.entriesCount,_=this._sources.length;this.accumulate?this.contentBuffer.push(y):(this.bytesWritten+=y.data.length,d.prototype.push.call(this,{data:y.data,meta:{currentFile:this.currentFile,percent:w?(v+100*(w-_-1))/w:100}}))},g.prototype.openedSource=function(y){this.currentSourceOffset=this.bytesWritten,this.currentFile=y.file.name;var v=this.streamFiles&&!y.file.dir;if(v){var w=o(y,v,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:w.fileRecord,meta:{percent:0}})}else this.accumulate=!0},g.prototype.closedSource=function(y){this.accumulate=!1;var v=this.streamFiles&&!y.file.dir,w=o(y,v,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(w.dirRecord),v)this.push({data:(function(_){return f.DATA_DESCRIPTOR+i(_.crc32,4)+i(_.compressedSize,4)+i(_.uncompressedSize,4)})(y),meta:{percent:100}});else for(this.push({data:w.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},g.prototype.flush=function(){for(var y=this.bytesWritten,v=0;v<this.dirRecords.length;v++)this.push({data:this.dirRecords[v],meta:{percent:100}});var w=this.bytesWritten-y,_=(function(b,N,k,S,C){var I=c.transformTo("string",C(S));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(b,2)+i(b,2)+i(N,4)+i(k,4)+i(I.length,2)+I})(this.dirRecords.length,w,y,this.zipComment,this.encodeFileName);this.push({data:_,meta:{percent:100}})},g.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},g.prototype.registerPrevious=function(y){this._sources.push(y);var v=this;return y.on("data",function(w){v.processChunk(w)}),y.on("end",function(){v.closedSource(v.previous.streamInfo),v._sources.length?v.prepareNextSource():v.end()}),y.on("error",function(w){v.error(w)}),this},g.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},g.prototype.error=function(y){var v=this._sources;if(!d.prototype.error.call(this,y))return!1;for(var w=0;w<v.length;w++)try{v[w].error(y)}catch{}return!0},g.prototype.lock=function(){d.prototype.lock.call(this);for(var y=this._sources,v=0;v<y.length;v++)y[v].lock()},n.exports=g},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,a){var i=r("../compressions"),o=r("./ZipFileWorker");a.generateWorker=function(c,d,h){var m=new o(d.streamFiles,h,d.platform,d.encodeFileName),f=0;try{c.forEach(function(g,y){f++;var v=(function(N,k){var S=N||k,C=i[S];if(!C)throw new Error(S+" is not a valid compression method !");return C})(y.options.compression,d.compression),w=y.options.compressionOptions||d.compressionOptions||{},_=y.dir,b=y.date;y._compressWorker(v,w).withStreamInfo("file",{name:g,dir:_,date:b,comment:y.comment||"",unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions}).pipe(m)}),m.entriesCount=f}catch(g){m.error(g)}return m}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,a){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new i;for(var c in this)typeof this[c]!="function"&&(o[c]=this[c]);return o}}(i.prototype=r("./object")).loadAsync=r("./load"),i.support=r("./support"),i.defaults=r("./defaults"),i.version="3.10.1",i.loadAsync=function(o,c){return new i().loadAsync(o,c)},i.external=r("./external"),n.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,a){var i=r("./utils"),o=r("./external"),c=r("./utf8"),d=r("./zipEntries"),h=r("./stream/Crc32Probe"),m=r("./nodejsUtils");function f(g){return new o.Promise(function(y,v){var w=g.decompressed.getContentWorker().pipe(new h);w.on("error",function(_){v(_)}).on("end",function(){w.streamInfo.crc32!==g.decompressed.crc32?v(new Error("Corrupted zip : CRC32 mismatch")):y()}).resume()})}n.exports=function(g,y){var v=this;return y=i.extend(y||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:c.utf8decode}),m.isNode&&m.isStream(g)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",g,!0,y.optimizedBinaryString,y.base64).then(function(w){var _=new d(y);return _.load(w),_}).then(function(w){var _=[o.Promise.resolve(w)],b=w.files;if(y.checkCRC32)for(var N=0;N<b.length;N++)_.push(f(b[N]));return o.Promise.all(_)}).then(function(w){for(var _=w.shift(),b=_.files,N=0;N<b.length;N++){var k=b[N],S=k.fileNameStr,C=i.resolve(k.fileNameStr);v.file(C,k.decompressed,{binary:!0,optimizedBinaryString:!0,date:k.date,dir:k.dir,comment:k.fileCommentStr.length?k.fileCommentStr:null,unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions,createFolders:y.createFolders}),k.dir||(v.file(C).unsafeOriginalName=S)}return _.zipComment.length&&(v.comment=_.zipComment),v})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,a){var i=r("../utils"),o=r("../stream/GenericWorker");function c(d,h){o.call(this,"Nodejs stream input adapter for "+d),this._upstreamEnded=!1,this._bindStream(h)}i.inherits(c,o),c.prototype._bindStream=function(d){var h=this;(this._stream=d).pause(),d.on("data",function(m){h.push({data:m,meta:{percent:0}})}).on("error",function(m){h.isPaused?this.generatedError=m:h.error(m)}).on("end",function(){h.isPaused?h._upstreamEnded=!0:h.end()})},c.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},c.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=c},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,a){var i=r("readable-stream").Readable;function o(c,d,h){i.call(this,d),this._helper=c;var m=this;c.on("data",function(f,g){m.push(f)||m._helper.pause(),h&&h(g)}).on("error",function(f){m.emit("error",f)}).on("end",function(){m.push(null)})}r("../utils").inherits(o,i),o.prototype._read=function(){this._helper.resume()},n.exports=o},{"../utils":32,"readable-stream":16}],14:[function(r,n,a){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,o);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,o)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var o=new Buffer(i);return o.fill(0),o},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(r,n,a){function i(C,I,E){var U,T=c.getTypeOf(I),ne=c.extend(E||{},m);ne.date=ne.date||new Date,ne.compression!==null&&(ne.compression=ne.compression.toUpperCase()),typeof ne.unixPermissions=="string"&&(ne.unixPermissions=parseInt(ne.unixPermissions,8)),ne.unixPermissions&&16384&ne.unixPermissions&&(ne.dir=!0),ne.dosPermissions&&16&ne.dosPermissions&&(ne.dir=!0),ne.dir&&(C=b(C)),ne.createFolders&&(U=_(C))&&N.call(this,U,!0);var q=T==="string"&&ne.binary===!1&&ne.base64===!1;E&&E.binary!==void 0||(ne.binary=!q),(I instanceof f&&I.uncompressedSize===0||ne.dir||!I||I.length===0)&&(ne.base64=!1,ne.binary=!0,I="",ne.compression="STORE",T="string");var F=null;F=I instanceof f||I instanceof d?I:v.isNode&&v.isStream(I)?new w(C,I):c.prepareContent(C,I,ne.binary,ne.optimizedBinaryString,ne.base64);var Y=new g(C,F,ne);this.files[C]=Y}var o=r("./utf8"),c=r("./utils"),d=r("./stream/GenericWorker"),h=r("./stream/StreamHelper"),m=r("./defaults"),f=r("./compressedObject"),g=r("./zipObject"),y=r("./generate"),v=r("./nodejsUtils"),w=r("./nodejs/NodejsStreamInputAdapter"),_=function(C){C.slice(-1)==="/"&&(C=C.substring(0,C.length-1));var I=C.lastIndexOf("/");return 0<I?C.substring(0,I):""},b=function(C){return C.slice(-1)!=="/"&&(C+="/"),C},N=function(C,I){return I=I!==void 0?I:m.createFolders,C=b(C),this.files[C]||i.call(this,C,null,{dir:!0,createFolders:I}),this.files[C]};function k(C){return Object.prototype.toString.call(C)==="[object RegExp]"}var S={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(C){var I,E,U;for(I in this.files)U=this.files[I],(E=I.slice(this.root.length,I.length))&&I.slice(0,this.root.length)===this.root&&C(E,U)},filter:function(C){var I=[];return this.forEach(function(E,U){C(E,U)&&I.push(U)}),I},file:function(C,I,E){if(arguments.length!==1)return C=this.root+C,i.call(this,C,I,E),this;if(k(C)){var U=C;return this.filter(function(ne,q){return!q.dir&&U.test(ne)})}var T=this.files[this.root+C];return T&&!T.dir?T:null},folder:function(C){if(!C)return this;if(k(C))return this.filter(function(T,ne){return ne.dir&&C.test(T)});var I=this.root+C,E=N.call(this,I),U=this.clone();return U.root=E.name,U},remove:function(C){C=this.root+C;var I=this.files[C];if(I||(C.slice(-1)!=="/"&&(C+="/"),I=this.files[C]),I&&!I.dir)delete this.files[C];else for(var E=this.filter(function(T,ne){return ne.name.slice(0,C.length)===C}),U=0;U<E.length;U++)delete this.files[E[U].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(C){var I,E={};try{if((E=c.extend(C||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=E.type.toLowerCase(),E.compression=E.compression.toUpperCase(),E.type==="binarystring"&&(E.type="string"),!E.type)throw new Error("No output type specified.");c.checkSupport(E.type),E.platform!=="darwin"&&E.platform!=="freebsd"&&E.platform!=="linux"&&E.platform!=="sunos"||(E.platform="UNIX"),E.platform==="win32"&&(E.platform="DOS");var U=E.comment||this.comment||"";I=y.generateWorker(this,E,U)}catch(T){(I=new d("error")).error(T)}return new h(I,E.type||"string",E.mimeType)},generateAsync:function(C,I){return this.generateInternalStream(C).accumulate(I)},generateNodeStream:function(C,I){return(C=C||{}).type||(C.type="nodebuffer"),this.generateInternalStream(C).toNodejsStream(I)}};n.exports=S},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,a){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,a){var i=r("./DataReader");function o(c){i.call(this,c);for(var d=0;d<this.data.length;d++)c[d]=255&c[d]}r("../utils").inherits(o,i),o.prototype.byteAt=function(c){return this.data[this.zero+c]},o.prototype.lastIndexOfSignature=function(c){for(var d=c.charCodeAt(0),h=c.charCodeAt(1),m=c.charCodeAt(2),f=c.charCodeAt(3),g=this.length-4;0<=g;--g)if(this.data[g]===d&&this.data[g+1]===h&&this.data[g+2]===m&&this.data[g+3]===f)return g-this.zero;return-1},o.prototype.readAndCheckSignature=function(c){var d=c.charCodeAt(0),h=c.charCodeAt(1),m=c.charCodeAt(2),f=c.charCodeAt(3),g=this.readData(4);return d===g[0]&&h===g[1]&&m===g[2]&&f===g[3]},o.prototype.readData=function(c){if(this.checkOffset(c),c===0)return[];var d=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},n.exports=o},{"../utils":32,"./DataReader":18}],18:[function(r,n,a){var i=r("../utils");function o(c){this.data=c,this.length=c.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(c){this.checkIndex(this.index+c)},checkIndex:function(c){if(this.length<this.zero+c||c<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+c+"). Corrupted zip ?")},setIndex:function(c){this.checkIndex(c),this.index=c},skip:function(c){this.setIndex(this.index+c)},byteAt:function(){},readInt:function(c){var d,h=0;for(this.checkOffset(c),d=this.index+c-1;d>=this.index;d--)h=(h<<8)+this.byteAt(d);return this.index+=c,h},readString:function(c){return i.transformTo("string",this.readData(c))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var c=this.readInt(4);return new Date(Date.UTC(1980+(c>>25&127),(c>>21&15)-1,c>>16&31,c>>11&31,c>>5&63,(31&c)<<1))}},n.exports=o},{"../utils":32}],19:[function(r,n,a){var i=r("./Uint8ArrayReader");function o(c){i.call(this,c)}r("../utils").inherits(o,i),o.prototype.readData=function(c){this.checkOffset(c);var d=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},n.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,a){var i=r("./DataReader");function o(c){i.call(this,c)}r("../utils").inherits(o,i),o.prototype.byteAt=function(c){return this.data.charCodeAt(this.zero+c)},o.prototype.lastIndexOfSignature=function(c){return this.data.lastIndexOf(c)-this.zero},o.prototype.readAndCheckSignature=function(c){return c===this.readData(4)},o.prototype.readData=function(c){this.checkOffset(c);var d=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},n.exports=o},{"../utils":32,"./DataReader":18}],21:[function(r,n,a){var i=r("./ArrayReader");function o(c){i.call(this,c)}r("../utils").inherits(o,i),o.prototype.readData=function(c){if(this.checkOffset(c),c===0)return new Uint8Array(0);var d=this.data.subarray(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},n.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,a){var i=r("../utils"),o=r("../support"),c=r("./ArrayReader"),d=r("./StringReader"),h=r("./NodeBufferReader"),m=r("./Uint8ArrayReader");n.exports=function(f){var g=i.getTypeOf(f);return i.checkSupport(g),g!=="string"||o.uint8array?g==="nodebuffer"?new h(f):o.uint8array?new m(i.transformTo("uint8array",f)):new c(i.transformTo("array",f)):new d(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,a){var i=r("./GenericWorker"),o=r("../utils");function c(d){i.call(this,"ConvertWorker to "+d),this.destType=d}o.inherits(c,i),c.prototype.processChunk=function(d){this.push({data:o.transformTo(this.destType,d.data),meta:d.meta})},n.exports=c},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,a){var i=r("./GenericWorker"),o=r("../crc32");function c(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(c,i),c.prototype.processChunk=function(d){this.streamInfo.crc32=o(d.data,this.streamInfo.crc32||0),this.push(d)},n.exports=c},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,a){var i=r("../utils"),o=r("./GenericWorker");function c(d){o.call(this,"DataLengthProbe for "+d),this.propName=d,this.withStreamInfo(d,0)}i.inherits(c,o),c.prototype.processChunk=function(d){if(d){var h=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=h+d.data.length}o.prototype.processChunk.call(this,d)},n.exports=c},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,a){var i=r("../utils"),o=r("./GenericWorker");function c(d){o.call(this,"DataWorker");var h=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,d.then(function(m){h.dataIsReady=!0,h.data=m,h.max=m&&m.length||0,h.type=i.getTypeOf(m),h.isPaused||h._tickAndRepeat()},function(m){h.error(m)})}i.inherits(c,o),c.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},c.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},c.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},c.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var d=null,h=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":d=this.data.substring(this.index,h);break;case"uint8array":d=this.data.subarray(this.index,h);break;case"array":case"nodebuffer":d=this.data.slice(this.index,h)}return this.index=h,this.push({data:d,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=c},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,a){function i(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,c){return this._listeners[o].push(c),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,c){if(this._listeners[o])for(var d=0;d<this._listeners[o].length;d++)this._listeners[o][d].call(this,c)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var c=this;return o.on("data",function(d){c.processChunk(d)}),o.on("end",function(){c.end()}),o.on("error",function(d){c.error(d)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,c){return this.extraStreamInfo[o]=c,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},n.exports=i},{}],29:[function(r,n,a){var i=r("../utils"),o=r("./ConvertWorker"),c=r("./GenericWorker"),d=r("../base64"),h=r("../support"),m=r("../external"),f=null;if(h.nodestream)try{f=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function g(v,w){return new m.Promise(function(_,b){var N=[],k=v._internalType,S=v._outputType,C=v._mimeType;v.on("data",function(I,E){N.push(I),w&&w(E)}).on("error",function(I){N=[],b(I)}).on("end",function(){try{var I=(function(E,U,T){switch(E){case"blob":return i.newBlob(i.transformTo("arraybuffer",U),T);case"base64":return d.encode(U);default:return i.transformTo(E,U)}})(S,(function(E,U){var T,ne=0,q=null,F=0;for(T=0;T<U.length;T++)F+=U[T].length;switch(E){case"string":return U.join("");case"array":return Array.prototype.concat.apply([],U);case"uint8array":for(q=new Uint8Array(F),T=0;T<U.length;T++)q.set(U[T],ne),ne+=U[T].length;return q;case"nodebuffer":return Buffer.concat(U);default:throw new Error("concat : unsupported type '"+E+"'")}})(k,N),C);_(I)}catch(E){b(E)}N=[]}).resume()})}function y(v,w,_){var b=w;switch(w){case"blob":case"arraybuffer":b="uint8array";break;case"base64":b="string"}try{this._internalType=b,this._outputType=w,this._mimeType=_,i.checkSupport(b),this._worker=v.pipe(new o(b)),v.lock()}catch(N){this._worker=new c("error"),this._worker.error(N)}}y.prototype={accumulate:function(v){return g(this,v)},on:function(v,w){var _=this;return v==="data"?this._worker.on(v,function(b){w.call(_,b.data,b.meta)}):this._worker.on(v,function(){i.delay(w,arguments,_)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(v){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},v)}},n.exports=y},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var i=new ArrayBuffer(0);try{a.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(i),a.blob=o.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!r("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,a){for(var i=r("./utils"),o=r("./support"),c=r("./nodejsUtils"),d=r("./stream/GenericWorker"),h=new Array(256),m=0;m<256;m++)h[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;h[254]=h[254]=1;function f(){d.call(this,"utf-8 decode"),this.leftOver=null}function g(){d.call(this,"utf-8 encode")}a.utf8encode=function(y){return o.nodebuffer?c.newBufferFrom(y,"utf-8"):(function(v){var w,_,b,N,k,S=v.length,C=0;for(N=0;N<S;N++)(64512&(_=v.charCodeAt(N)))==55296&&N+1<S&&(64512&(b=v.charCodeAt(N+1)))==56320&&(_=65536+(_-55296<<10)+(b-56320),N++),C+=_<128?1:_<2048?2:_<65536?3:4;for(w=o.uint8array?new Uint8Array(C):new Array(C),N=k=0;k<C;N++)(64512&(_=v.charCodeAt(N)))==55296&&N+1<S&&(64512&(b=v.charCodeAt(N+1)))==56320&&(_=65536+(_-55296<<10)+(b-56320),N++),_<128?w[k++]=_:(_<2048?w[k++]=192|_>>>6:(_<65536?w[k++]=224|_>>>12:(w[k++]=240|_>>>18,w[k++]=128|_>>>12&63),w[k++]=128|_>>>6&63),w[k++]=128|63&_);return w})(y)},a.utf8decode=function(y){return o.nodebuffer?i.transformTo("nodebuffer",y).toString("utf-8"):(function(v){var w,_,b,N,k=v.length,S=new Array(2*k);for(w=_=0;w<k;)if((b=v[w++])<128)S[_++]=b;else if(4<(N=h[b]))S[_++]=65533,w+=N-1;else{for(b&=N===2?31:N===3?15:7;1<N&&w<k;)b=b<<6|63&v[w++],N--;1<N?S[_++]=65533:b<65536?S[_++]=b:(b-=65536,S[_++]=55296|b>>10&1023,S[_++]=56320|1023&b)}return S.length!==_&&(S.subarray?S=S.subarray(0,_):S.length=_),i.applyFromCharCode(S)})(y=i.transformTo(o.uint8array?"uint8array":"array",y))},i.inherits(f,d),f.prototype.processChunk=function(y){var v=i.transformTo(o.uint8array?"uint8array":"array",y.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var w=v;(v=new Uint8Array(w.length+this.leftOver.length)).set(this.leftOver,0),v.set(w,this.leftOver.length)}else v=this.leftOver.concat(v);this.leftOver=null}var _=(function(N,k){var S;for((k=k||N.length)>N.length&&(k=N.length),S=k-1;0<=S&&(192&N[S])==128;)S--;return S<0||S===0?k:S+h[N[S]]>k?S:k})(v),b=v;_!==v.length&&(o.uint8array?(b=v.subarray(0,_),this.leftOver=v.subarray(_,v.length)):(b=v.slice(0,_),this.leftOver=v.slice(_,v.length))),this.push({data:a.utf8decode(b),meta:y.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=f,i.inherits(g,d),g.prototype.processChunk=function(y){this.push({data:a.utf8encode(y.data),meta:y.meta})},a.Utf8EncodeWorker=g},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,a){var i=r("./support"),o=r("./base64"),c=r("./nodejsUtils"),d=r("./external");function h(w){return w}function m(w,_){for(var b=0;b<w.length;++b)_[b]=255&w.charCodeAt(b);return _}r("setimmediate"),a.newBlob=function(w,_){a.checkSupport("blob");try{return new Blob([w],{type:_})}catch{try{var b=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return b.append(w),b.getBlob(_)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(w,_,b){var N=[],k=0,S=w.length;if(S<=b)return String.fromCharCode.apply(null,w);for(;k<S;)_==="array"||_==="nodebuffer"?N.push(String.fromCharCode.apply(null,w.slice(k,Math.min(k+b,S)))):N.push(String.fromCharCode.apply(null,w.subarray(k,Math.min(k+b,S)))),k+=b;return N.join("")},stringifyByChar:function(w){for(var _="",b=0;b<w.length;b++)_+=String.fromCharCode(w[b]);return _},applyCanBeUsed:{uint8array:(function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,c.allocBuffer(1)).length===1}catch{return!1}})()}};function g(w){var _=65536,b=a.getTypeOf(w),N=!0;if(b==="uint8array"?N=f.applyCanBeUsed.uint8array:b==="nodebuffer"&&(N=f.applyCanBeUsed.nodebuffer),N)for(;1<_;)try{return f.stringifyByChunk(w,b,_)}catch{_=Math.floor(_/2)}return f.stringifyByChar(w)}function y(w,_){for(var b=0;b<w.length;b++)_[b]=w[b];return _}a.applyFromCharCode=g;var v={};v.string={string:h,array:function(w){return m(w,new Array(w.length))},arraybuffer:function(w){return v.string.uint8array(w).buffer},uint8array:function(w){return m(w,new Uint8Array(w.length))},nodebuffer:function(w){return m(w,c.allocBuffer(w.length))}},v.array={string:g,array:h,arraybuffer:function(w){return new Uint8Array(w).buffer},uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return c.newBufferFrom(w)}},v.arraybuffer={string:function(w){return g(new Uint8Array(w))},array:function(w){return y(new Uint8Array(w),new Array(w.byteLength))},arraybuffer:h,uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return c.newBufferFrom(new Uint8Array(w))}},v.uint8array={string:g,array:function(w){return y(w,new Array(w.length))},arraybuffer:function(w){return w.buffer},uint8array:h,nodebuffer:function(w){return c.newBufferFrom(w)}},v.nodebuffer={string:g,array:function(w){return y(w,new Array(w.length))},arraybuffer:function(w){return v.nodebuffer.uint8array(w).buffer},uint8array:function(w){return y(w,new Uint8Array(w.length))},nodebuffer:h},a.transformTo=function(w,_){if(_=_||"",!w)return _;a.checkSupport(w);var b=a.getTypeOf(_);return v[b][w](_)},a.resolve=function(w){for(var _=w.split("/"),b=[],N=0;N<_.length;N++){var k=_[N];k==="."||k===""&&N!==0&&N!==_.length-1||(k===".."?b.pop():b.push(k))}return b.join("/")},a.getTypeOf=function(w){return typeof w=="string"?"string":Object.prototype.toString.call(w)==="[object Array]"?"array":i.nodebuffer&&c.isBuffer(w)?"nodebuffer":i.uint8array&&w instanceof Uint8Array?"uint8array":i.arraybuffer&&w instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(w){if(!i[w.toLowerCase()])throw new Error(w+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(w){var _,b,N="";for(b=0;b<(w||"").length;b++)N+="\\x"+((_=w.charCodeAt(b))<16?"0":"")+_.toString(16).toUpperCase();return N},a.delay=function(w,_,b){setImmediate(function(){w.apply(b||null,_||[])})},a.inherits=function(w,_){function b(){}b.prototype=_.prototype,w.prototype=new b},a.extend=function(){var w,_,b={};for(w=0;w<arguments.length;w++)for(_ in arguments[w])Object.prototype.hasOwnProperty.call(arguments[w],_)&&b[_]===void 0&&(b[_]=arguments[w][_]);return b},a.prepareContent=function(w,_,b,N,k){return d.Promise.resolve(_).then(function(S){return i.blob&&(S instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(S))!==-1)&&typeof FileReader<"u"?new d.Promise(function(C,I){var E=new FileReader;E.onload=function(U){C(U.target.result)},E.onerror=function(U){I(U.target.error)},E.readAsArrayBuffer(S)}):S}).then(function(S){var C=a.getTypeOf(S);return C?(C==="arraybuffer"?S=a.transformTo("uint8array",S):C==="string"&&(k?S=o.decode(S):b&&N!==!0&&(S=(function(I){return m(I,i.uint8array?new Uint8Array(I.length):new Array(I.length))})(S))),S):d.Promise.reject(new Error("Can't read the data of '"+w+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,a){var i=r("./reader/readerFor"),o=r("./utils"),c=r("./signature"),d=r("./zipEntry"),h=r("./support");function m(f){this.files=[],this.loadOptions=f}m.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var g=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(g)+", expected "+o.pretty(f)+")")}},isSignature:function(f,g){var y=this.reader.index;this.reader.setIndex(f);var v=this.reader.readString(4)===g;return this.reader.setIndex(y),v},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),g=h.uint8array?"uint8array":"array",y=o.transformTo(g,f);this.zipComment=this.loadOptions.decodeFileName(y)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,g,y,v=this.zip64EndOfCentralSize-44;0<v;)f=this.reader.readInt(2),g=this.reader.readInt(4),y=this.reader.readData(g),this.zip64ExtensibleData[f]={id:f,length:g,value:y}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,g;for(f=0;f<this.files.length;f++)g=this.files[f],this.reader.setIndex(g.localHeaderOffset),this.checkSignature(c.LOCAL_FILE_HEADER),g.readLocalPart(this.reader),g.handleUTF8(),g.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(c.CENTRAL_FILE_HEADER);)(f=new d({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(c.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,c.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var g=f;if(this.checkSignature(c.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,c.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var y=this.centralDirOffset+this.centralDirSize;this.zip64&&(y+=20,y+=12+this.zip64EndOfCentralSize);var v=g-y;if(0<v)this.isSignature(g,c.CENTRAL_FILE_HEADER)||(this.reader.zero=v);else if(v<0)throw new Error("Corrupted zip: missing "+Math.abs(v)+" bytes.")},prepareReader:function(f){this.reader=i(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=m},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,a){var i=r("./reader/readerFor"),o=r("./utils"),c=r("./compressedObject"),d=r("./crc32"),h=r("./utf8"),m=r("./compressions"),f=r("./support");function g(y,v){this.options=y,this.loadOptions=v}g.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(y){var v,w;if(y.skip(22),this.fileNameLength=y.readInt(2),w=y.readInt(2),this.fileName=y.readData(this.fileNameLength),y.skip(w),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((v=(function(_){for(var b in m)if(Object.prototype.hasOwnProperty.call(m,b)&&m[b].magic===_)return m[b];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new c(this.compressedSize,this.uncompressedSize,this.crc32,v,y.readData(this.compressedSize))},readCentralPart:function(y){this.versionMadeBy=y.readInt(2),y.skip(2),this.bitFlag=y.readInt(2),this.compressionMethod=y.readString(2),this.date=y.readDate(),this.crc32=y.readInt(4),this.compressedSize=y.readInt(4),this.uncompressedSize=y.readInt(4);var v=y.readInt(2);if(this.extraFieldsLength=y.readInt(2),this.fileCommentLength=y.readInt(2),this.diskNumberStart=y.readInt(2),this.internalFileAttributes=y.readInt(2),this.externalFileAttributes=y.readInt(4),this.localHeaderOffset=y.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");y.skip(v),this.readExtraFields(y),this.parseZIP64ExtraField(y),this.fileComment=y.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var y=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),y==0&&(this.dosPermissions=63&this.externalFileAttributes),y==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var y=i(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=y.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=y.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=y.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=y.readInt(4))}},readExtraFields:function(y){var v,w,_,b=y.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});y.index+4<b;)v=y.readInt(2),w=y.readInt(2),_=y.readData(w),this.extraFields[v]={id:v,length:w,value:_};y.setIndex(b)},handleUTF8:function(){var y=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var v=this.findExtraFieldUnicodePath();if(v!==null)this.fileNameStr=v;else{var w=o.transformTo(y,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(w)}var _=this.findExtraFieldUnicodeComment();if(_!==null)this.fileCommentStr=_;else{var b=o.transformTo(y,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(b)}}},findExtraFieldUnicodePath:function(){var y=this.extraFields[28789];if(y){var v=i(y.value);return v.readInt(1)!==1||d(this.fileName)!==v.readInt(4)?null:h.utf8decode(v.readData(y.length-5))}return null},findExtraFieldUnicodeComment:function(){var y=this.extraFields[25461];if(y){var v=i(y.value);return v.readInt(1)!==1||d(this.fileComment)!==v.readInt(4)?null:h.utf8decode(v.readData(y.length-5))}return null}},n.exports=g},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,a){function i(v,w,_){this.name=v,this.dir=_.dir,this.date=_.date,this.comment=_.comment,this.unixPermissions=_.unixPermissions,this.dosPermissions=_.dosPermissions,this._data=w,this._dataBinary=_.binary,this.options={compression:_.compression,compressionOptions:_.compressionOptions}}var o=r("./stream/StreamHelper"),c=r("./stream/DataWorker"),d=r("./utf8"),h=r("./compressedObject"),m=r("./stream/GenericWorker");i.prototype={internalStream:function(v){var w=null,_="string";try{if(!v)throw new Error("No output type specified.");var b=(_=v.toLowerCase())==="string"||_==="text";_!=="binarystring"&&_!=="text"||(_="string"),w=this._decompressWorker();var N=!this._dataBinary;N&&!b&&(w=w.pipe(new d.Utf8EncodeWorker)),!N&&b&&(w=w.pipe(new d.Utf8DecodeWorker))}catch(k){(w=new m("error")).error(k)}return new o(w,_,"")},async:function(v,w){return this.internalStream(v).accumulate(w)},nodeStream:function(v,w){return this.internalStream(v||"nodebuffer").toNodejsStream(w)},_compressWorker:function(v,w){if(this._data instanceof h&&this._data.compression.magic===v.magic)return this._data.getCompressedWorker();var _=this._decompressWorker();return this._dataBinary||(_=_.pipe(new d.Utf8EncodeWorker)),h.createWorkerFrom(_,v,w)},_decompressWorker:function(){return this._data instanceof h?this._data.getContentWorker():this._data instanceof m?this._data:new c(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],g=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},y=0;y<f.length;y++)i.prototype[f[y]]=g;n.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,a){(function(i){var o,c,d=i.MutationObserver||i.WebKitMutationObserver;if(d){var h=0,m=new d(v),f=i.document.createTextNode("");m.observe(f,{characterData:!0}),o=function(){f.data=h=++h%2}}else if(i.setImmediate||i.MessageChannel===void 0)o="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var w=i.document.createElement("script");w.onreadystatechange=function(){v(),w.onreadystatechange=null,w.parentNode.removeChild(w),w=null},i.document.documentElement.appendChild(w)}:function(){setTimeout(v,0)};else{var g=new i.MessageChannel;g.port1.onmessage=v,o=function(){g.port2.postMessage(0)}}var y=[];function v(){var w,_;c=!0;for(var b=y.length;b;){for(_=y,y=[],w=-1;++w<b;)_[w]();b=y.length}c=!1}n.exports=function(w){y.push(w)!==1||c||o()}}).call(this,typeof Ii<"u"?Ii:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,a){var i=r("immediate");function o(){}var c={},d=["REJECTED"],h=["FULFILLED"],m=["PENDING"];function f(b){if(typeof b!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,b!==o&&w(this,b)}function g(b,N,k){this.promise=b,typeof N=="function"&&(this.onFulfilled=N,this.callFulfilled=this.otherCallFulfilled),typeof k=="function"&&(this.onRejected=k,this.callRejected=this.otherCallRejected)}function y(b,N,k){i(function(){var S;try{S=N(k)}catch(C){return c.reject(b,C)}S===b?c.reject(b,new TypeError("Cannot resolve promise with itself")):c.resolve(b,S)})}function v(b){var N=b&&b.then;if(b&&(typeof b=="object"||typeof b=="function")&&typeof N=="function")return function(){N.apply(b,arguments)}}function w(b,N){var k=!1;function S(E){k||(k=!0,c.reject(b,E))}function C(E){k||(k=!0,c.resolve(b,E))}var I=_(function(){N(C,S)});I.status==="error"&&S(I.value)}function _(b,N){var k={};try{k.value=b(N),k.status="success"}catch(S){k.status="error",k.value=S}return k}(n.exports=f).prototype.finally=function(b){if(typeof b!="function")return this;var N=this.constructor;return this.then(function(k){return N.resolve(b()).then(function(){return k})},function(k){return N.resolve(b()).then(function(){throw k})})},f.prototype.catch=function(b){return this.then(null,b)},f.prototype.then=function(b,N){if(typeof b!="function"&&this.state===h||typeof N!="function"&&this.state===d)return this;var k=new this.constructor(o);return this.state!==m?y(k,this.state===h?b:N,this.outcome):this.queue.push(new g(k,b,N)),k},g.prototype.callFulfilled=function(b){c.resolve(this.promise,b)},g.prototype.otherCallFulfilled=function(b){y(this.promise,this.onFulfilled,b)},g.prototype.callRejected=function(b){c.reject(this.promise,b)},g.prototype.otherCallRejected=function(b){y(this.promise,this.onRejected,b)},c.resolve=function(b,N){var k=_(v,N);if(k.status==="error")return c.reject(b,k.value);var S=k.value;if(S)w(b,S);else{b.state=h,b.outcome=N;for(var C=-1,I=b.queue.length;++C<I;)b.queue[C].callFulfilled(N)}return b},c.reject=function(b,N){b.state=d,b.outcome=N;for(var k=-1,S=b.queue.length;++k<S;)b.queue[k].callRejected(N);return b},f.resolve=function(b){return b instanceof this?b:c.resolve(new this(o),b)},f.reject=function(b){var N=new this(o);return c.reject(N,b)},f.all=function(b){var N=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=b.length,S=!1;if(!k)return this.resolve([]);for(var C=new Array(k),I=0,E=-1,U=new this(o);++E<k;)T(b[E],E);return U;function T(ne,q){N.resolve(ne).then(function(F){C[q]=F,++I!==k||S||(S=!0,c.resolve(U,C))},function(F){S||(S=!0,c.reject(U,F))})}},f.race=function(b){var N=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=b.length,S=!1;if(!k)return this.resolve([]);for(var C=-1,I=new this(o);++C<k;)E=b[C],N.resolve(E).then(function(U){S||(S=!0,c.resolve(I,U))},function(U){S||(S=!0,c.reject(I,U))});var E;return I}},{immediate:36}],38:[function(r,n,a){var i={};(0,r("./lib/utils/common").assign)(i,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,a){var i=r("./zlib/deflate"),o=r("./utils/common"),c=r("./utils/strings"),d=r("./zlib/messages"),h=r("./zlib/zstream"),m=Object.prototype.toString,f=0,g=-1,y=0,v=8;function w(b){if(!(this instanceof w))return new w(b);this.options=o.assign({level:g,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:y,to:""},b||{});var N=this.options;N.raw&&0<N.windowBits?N.windowBits=-N.windowBits:N.gzip&&0<N.windowBits&&N.windowBits<16&&(N.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var k=i.deflateInit2(this.strm,N.level,N.method,N.windowBits,N.memLevel,N.strategy);if(k!==f)throw new Error(d[k]);if(N.header&&i.deflateSetHeader(this.strm,N.header),N.dictionary){var S;if(S=typeof N.dictionary=="string"?c.string2buf(N.dictionary):m.call(N.dictionary)==="[object ArrayBuffer]"?new Uint8Array(N.dictionary):N.dictionary,(k=i.deflateSetDictionary(this.strm,S))!==f)throw new Error(d[k]);this._dict_set=!0}}function _(b,N){var k=new w(N);if(k.push(b,!0),k.err)throw k.msg||d[k.err];return k.result}w.prototype.push=function(b,N){var k,S,C=this.strm,I=this.options.chunkSize;if(this.ended)return!1;S=N===~~N?N:N===!0?4:0,typeof b=="string"?C.input=c.string2buf(b):m.call(b)==="[object ArrayBuffer]"?C.input=new Uint8Array(b):C.input=b,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new o.Buf8(I),C.next_out=0,C.avail_out=I),(k=i.deflate(C,S))!==1&&k!==f)return this.onEnd(k),!(this.ended=!0);C.avail_out!==0&&(C.avail_in!==0||S!==4&&S!==2)||(this.options.to==="string"?this.onData(c.buf2binstring(o.shrinkBuf(C.output,C.next_out))):this.onData(o.shrinkBuf(C.output,C.next_out)))}while((0<C.avail_in||C.avail_out===0)&&k!==1);return S===4?(k=i.deflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===f):S!==2||(this.onEnd(f),!(C.avail_out=0))},w.prototype.onData=function(b){this.chunks.push(b)},w.prototype.onEnd=function(b){b===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},a.Deflate=w,a.deflate=_,a.deflateRaw=function(b,N){return(N=N||{}).raw=!0,_(b,N)},a.gzip=function(b,N){return(N=N||{}).gzip=!0,_(b,N)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,a){var i=r("./zlib/inflate"),o=r("./utils/common"),c=r("./utils/strings"),d=r("./zlib/constants"),h=r("./zlib/messages"),m=r("./zlib/zstream"),f=r("./zlib/gzheader"),g=Object.prototype.toString;function y(w){if(!(this instanceof y))return new y(w);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},w||{});var _=this.options;_.raw&&0<=_.windowBits&&_.windowBits<16&&(_.windowBits=-_.windowBits,_.windowBits===0&&(_.windowBits=-15)),!(0<=_.windowBits&&_.windowBits<16)||w&&w.windowBits||(_.windowBits+=32),15<_.windowBits&&_.windowBits<48&&(15&_.windowBits)==0&&(_.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var b=i.inflateInit2(this.strm,_.windowBits);if(b!==d.Z_OK)throw new Error(h[b]);this.header=new f,i.inflateGetHeader(this.strm,this.header)}function v(w,_){var b=new y(_);if(b.push(w,!0),b.err)throw b.msg||h[b.err];return b.result}y.prototype.push=function(w,_){var b,N,k,S,C,I,E=this.strm,U=this.options.chunkSize,T=this.options.dictionary,ne=!1;if(this.ended)return!1;N=_===~~_?_:_===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof w=="string"?E.input=c.binstring2buf(w):g.call(w)==="[object ArrayBuffer]"?E.input=new Uint8Array(w):E.input=w,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new o.Buf8(U),E.next_out=0,E.avail_out=U),(b=i.inflate(E,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&T&&(I=typeof T=="string"?c.string2buf(T):g.call(T)==="[object ArrayBuffer]"?new Uint8Array(T):T,b=i.inflateSetDictionary(this.strm,I)),b===d.Z_BUF_ERROR&&ne===!0&&(b=d.Z_OK,ne=!1),b!==d.Z_STREAM_END&&b!==d.Z_OK)return this.onEnd(b),!(this.ended=!0);E.next_out&&(E.avail_out!==0&&b!==d.Z_STREAM_END&&(E.avail_in!==0||N!==d.Z_FINISH&&N!==d.Z_SYNC_FLUSH)||(this.options.to==="string"?(k=c.utf8border(E.output,E.next_out),S=E.next_out-k,C=c.buf2string(E.output,k),E.next_out=S,E.avail_out=U-S,S&&o.arraySet(E.output,E.output,k,S,0),this.onData(C)):this.onData(o.shrinkBuf(E.output,E.next_out)))),E.avail_in===0&&E.avail_out===0&&(ne=!0)}while((0<E.avail_in||E.avail_out===0)&&b!==d.Z_STREAM_END);return b===d.Z_STREAM_END&&(N=d.Z_FINISH),N===d.Z_FINISH?(b=i.inflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===d.Z_OK):N!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),!(E.avail_out=0))},y.prototype.onData=function(w){this.chunks.push(w)},y.prototype.onEnd=function(w){w===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},a.Inflate=y,a.inflate=v,a.inflateRaw=function(w,_){return(_=_||{}).raw=!0,v(w,_)},a.ungzip=v},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,a){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(d){for(var h=Array.prototype.slice.call(arguments,1);h.length;){var m=h.shift();if(m){if(typeof m!="object")throw new TypeError(m+"must be non-object");for(var f in m)m.hasOwnProperty(f)&&(d[f]=m[f])}}return d},a.shrinkBuf=function(d,h){return d.length===h?d:d.subarray?d.subarray(0,h):(d.length=h,d)};var o={arraySet:function(d,h,m,f,g){if(h.subarray&&d.subarray)d.set(h.subarray(m,m+f),g);else for(var y=0;y<f;y++)d[g+y]=h[m+y]},flattenChunks:function(d){var h,m,f,g,y,v;for(h=f=0,m=d.length;h<m;h++)f+=d[h].length;for(v=new Uint8Array(f),h=g=0,m=d.length;h<m;h++)y=d[h],v.set(y,g),g+=y.length;return v}},c={arraySet:function(d,h,m,f,g){for(var y=0;y<f;y++)d[g+y]=h[m+y]},flattenChunks:function(d){return[].concat.apply([],d)}};a.setTyped=function(d){d?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,o)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,c))},a.setTyped(i)},{}],42:[function(r,n,a){var i=r("./common"),o=!0,c=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{c=!1}for(var d=new i.Buf8(256),h=0;h<256;h++)d[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;function m(f,g){if(g<65537&&(f.subarray&&c||!f.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(f,g));for(var y="",v=0;v<g;v++)y+=String.fromCharCode(f[v]);return y}d[254]=d[254]=1,a.string2buf=function(f){var g,y,v,w,_,b=f.length,N=0;for(w=0;w<b;w++)(64512&(y=f.charCodeAt(w)))==55296&&w+1<b&&(64512&(v=f.charCodeAt(w+1)))==56320&&(y=65536+(y-55296<<10)+(v-56320),w++),N+=y<128?1:y<2048?2:y<65536?3:4;for(g=new i.Buf8(N),w=_=0;_<N;w++)(64512&(y=f.charCodeAt(w)))==55296&&w+1<b&&(64512&(v=f.charCodeAt(w+1)))==56320&&(y=65536+(y-55296<<10)+(v-56320),w++),y<128?g[_++]=y:(y<2048?g[_++]=192|y>>>6:(y<65536?g[_++]=224|y>>>12:(g[_++]=240|y>>>18,g[_++]=128|y>>>12&63),g[_++]=128|y>>>6&63),g[_++]=128|63&y);return g},a.buf2binstring=function(f){return m(f,f.length)},a.binstring2buf=function(f){for(var g=new i.Buf8(f.length),y=0,v=g.length;y<v;y++)g[y]=f.charCodeAt(y);return g},a.buf2string=function(f,g){var y,v,w,_,b=g||f.length,N=new Array(2*b);for(y=v=0;y<b;)if((w=f[y++])<128)N[v++]=w;else if(4<(_=d[w]))N[v++]=65533,y+=_-1;else{for(w&=_===2?31:_===3?15:7;1<_&&y<b;)w=w<<6|63&f[y++],_--;1<_?N[v++]=65533:w<65536?N[v++]=w:(w-=65536,N[v++]=55296|w>>10&1023,N[v++]=56320|1023&w)}return m(N,v)},a.utf8border=function(f,g){var y;for((g=g||f.length)>f.length&&(g=f.length),y=g-1;0<=y&&(192&f[y])==128;)y--;return y<0||y===0?g:y+d[f[y]]>g?y:g}},{"./common":41}],43:[function(r,n,a){n.exports=function(i,o,c,d){for(var h=65535&i|0,m=i>>>16&65535|0,f=0;c!==0;){for(c-=f=2e3<c?2e3:c;m=m+(h=h+o[d++]|0)|0,--f;);h%=65521,m%=65521}return h|m<<16|0}},{}],44:[function(r,n,a){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,a){var i=(function(){for(var o,c=[],d=0;d<256;d++){o=d;for(var h=0;h<8;h++)o=1&o?3988292384^o>>>1:o>>>1;c[d]=o}return c})();n.exports=function(o,c,d,h){var m=i,f=h+d;o^=-1;for(var g=h;g<f;g++)o=o>>>8^m[255&(o^c[g])];return-1^o}},{}],46:[function(r,n,a){var i,o=r("../utils/common"),c=r("./trees"),d=r("./adler32"),h=r("./crc32"),m=r("./messages"),f=0,g=4,y=0,v=-2,w=-1,_=4,b=2,N=8,k=9,S=286,C=30,I=19,E=2*S+1,U=15,T=3,ne=258,q=ne+T+1,F=42,Y=113,O=1,se=2,X=3,M=4;function K(L,Te){return L.msg=m[Te],Te}function z(L){return(L<<1)-(4<L?9:0)}function he(L){for(var Te=L.length;0<=--Te;)L[Te]=0}function V(L){var Te=L.state,Q=Te.pending;Q>L.avail_out&&(Q=L.avail_out),Q!==0&&(o.arraySet(L.output,Te.pending_buf,Te.pending_out,Q,L.next_out),L.next_out+=Q,Te.pending_out+=Q,L.total_out+=Q,L.avail_out-=Q,Te.pending-=Q,Te.pending===0&&(Te.pending_out=0))}function W(L,Te){c._tr_flush_block(L,0<=L.block_start?L.block_start:-1,L.strstart-L.block_start,Te),L.block_start=L.strstart,V(L.strm)}function le(L,Te){L.pending_buf[L.pending++]=Te}function oe(L,Te){L.pending_buf[L.pending++]=Te>>>8&255,L.pending_buf[L.pending++]=255&Te}function ve(L,Te){var Q,R,P=L.max_chain_length,G=L.strstart,ye=L.prev_length,ce=L.nice_match,ue=L.strstart>L.w_size-q?L.strstart-(L.w_size-q):0,De=L.window,je=L.w_mask,Ae=L.prev,Be=L.strstart+ne,et=De[G+ye-1],lt=De[G+ye];L.prev_length>=L.good_match&&(P>>=2),ce>L.lookahead&&(ce=L.lookahead);do if(De[(Q=Te)+ye]===lt&&De[Q+ye-1]===et&&De[Q]===De[G]&&De[++Q]===De[G+1]){G+=2,Q++;do;while(De[++G]===De[++Q]&&De[++G]===De[++Q]&&De[++G]===De[++Q]&&De[++G]===De[++Q]&&De[++G]===De[++Q]&&De[++G]===De[++Q]&&De[++G]===De[++Q]&&De[++G]===De[++Q]&&G<Be);if(R=ne-(Be-G),G=Be-ne,ye<R){if(L.match_start=Te,ce<=(ye=R))break;et=De[G+ye-1],lt=De[G+ye]}}while((Te=Ae[Te&je])>ue&&--P!=0);return ye<=L.lookahead?ye:L.lookahead}function me(L){var Te,Q,R,P,G,ye,ce,ue,De,je,Ae=L.w_size;do{if(P=L.window_size-L.lookahead-L.strstart,L.strstart>=Ae+(Ae-q)){for(o.arraySet(L.window,L.window,Ae,Ae,0),L.match_start-=Ae,L.strstart-=Ae,L.block_start-=Ae,Te=Q=L.hash_size;R=L.head[--Te],L.head[Te]=Ae<=R?R-Ae:0,--Q;);for(Te=Q=Ae;R=L.prev[--Te],L.prev[Te]=Ae<=R?R-Ae:0,--Q;);P+=Ae}if(L.strm.avail_in===0)break;if(ye=L.strm,ce=L.window,ue=L.strstart+L.lookahead,De=P,je=void 0,je=ye.avail_in,De<je&&(je=De),Q=je===0?0:(ye.avail_in-=je,o.arraySet(ce,ye.input,ye.next_in,je,ue),ye.state.wrap===1?ye.adler=d(ye.adler,ce,je,ue):ye.state.wrap===2&&(ye.adler=h(ye.adler,ce,je,ue)),ye.next_in+=je,ye.total_in+=je,je),L.lookahead+=Q,L.lookahead+L.insert>=T)for(G=L.strstart-L.insert,L.ins_h=L.window[G],L.ins_h=(L.ins_h<<L.hash_shift^L.window[G+1])&L.hash_mask;L.insert&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[G+T-1])&L.hash_mask,L.prev[G&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=G,G++,L.insert--,!(L.lookahead+L.insert<T)););}while(L.lookahead<q&&L.strm.avail_in!==0)}function $(L,Te){for(var Q,R;;){if(L.lookahead<q){if(me(L),L.lookahead<q&&Te===f)return O;if(L.lookahead===0)break}if(Q=0,L.lookahead>=T&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+T-1])&L.hash_mask,Q=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),Q!==0&&L.strstart-Q<=L.w_size-q&&(L.match_length=ve(L,Q)),L.match_length>=T)if(R=c._tr_tally(L,L.strstart-L.match_start,L.match_length-T),L.lookahead-=L.match_length,L.match_length<=L.max_lazy_match&&L.lookahead>=T){for(L.match_length--;L.strstart++,L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+T-1])&L.hash_mask,Q=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart,--L.match_length!=0;);L.strstart++}else L.strstart+=L.match_length,L.match_length=0,L.ins_h=L.window[L.strstart],L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+1])&L.hash_mask;else R=c._tr_tally(L,0,L.window[L.strstart]),L.lookahead--,L.strstart++;if(R&&(W(L,!1),L.strm.avail_out===0))return O}return L.insert=L.strstart<T-1?L.strstart:T-1,Te===g?(W(L,!0),L.strm.avail_out===0?X:M):L.last_lit&&(W(L,!1),L.strm.avail_out===0)?O:se}function H(L,Te){for(var Q,R,P;;){if(L.lookahead<q){if(me(L),L.lookahead<q&&Te===f)return O;if(L.lookahead===0)break}if(Q=0,L.lookahead>=T&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+T-1])&L.hash_mask,Q=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),L.prev_length=L.match_length,L.prev_match=L.match_start,L.match_length=T-1,Q!==0&&L.prev_length<L.max_lazy_match&&L.strstart-Q<=L.w_size-q&&(L.match_length=ve(L,Q),L.match_length<=5&&(L.strategy===1||L.match_length===T&&4096<L.strstart-L.match_start)&&(L.match_length=T-1)),L.prev_length>=T&&L.match_length<=L.prev_length){for(P=L.strstart+L.lookahead-T,R=c._tr_tally(L,L.strstart-1-L.prev_match,L.prev_length-T),L.lookahead-=L.prev_length-1,L.prev_length-=2;++L.strstart<=P&&(L.ins_h=(L.ins_h<<L.hash_shift^L.window[L.strstart+T-1])&L.hash_mask,Q=L.prev[L.strstart&L.w_mask]=L.head[L.ins_h],L.head[L.ins_h]=L.strstart),--L.prev_length!=0;);if(L.match_available=0,L.match_length=T-1,L.strstart++,R&&(W(L,!1),L.strm.avail_out===0))return O}else if(L.match_available){if((R=c._tr_tally(L,0,L.window[L.strstart-1]))&&W(L,!1),L.strstart++,L.lookahead--,L.strm.avail_out===0)return O}else L.match_available=1,L.strstart++,L.lookahead--}return L.match_available&&(R=c._tr_tally(L,0,L.window[L.strstart-1]),L.match_available=0),L.insert=L.strstart<T-1?L.strstart:T-1,Te===g?(W(L,!0),L.strm.avail_out===0?X:M):L.last_lit&&(W(L,!1),L.strm.avail_out===0)?O:se}function fe(L,Te,Q,R,P){this.good_length=L,this.max_lazy=Te,this.nice_length=Q,this.max_chain=R,this.func=P}function Z(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=N,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*E),this.dyn_dtree=new o.Buf16(2*(2*C+1)),this.bl_tree=new o.Buf16(2*(2*I+1)),he(this.dyn_ltree),he(this.dyn_dtree),he(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(U+1),this.heap=new o.Buf16(2*S+1),he(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*S+1),he(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function ee(L){var Te;return L&&L.state?(L.total_in=L.total_out=0,L.data_type=b,(Te=L.state).pending=0,Te.pending_out=0,Te.wrap<0&&(Te.wrap=-Te.wrap),Te.status=Te.wrap?F:Y,L.adler=Te.wrap===2?0:1,Te.last_flush=f,c._tr_init(Te),y):K(L,v)}function J(L){var Te=ee(L);return Te===y&&(function(Q){Q.window_size=2*Q.w_size,he(Q.head),Q.max_lazy_match=i[Q.level].max_lazy,Q.good_match=i[Q.level].good_length,Q.nice_match=i[Q.level].nice_length,Q.max_chain_length=i[Q.level].max_chain,Q.strstart=0,Q.block_start=0,Q.lookahead=0,Q.insert=0,Q.match_length=Q.prev_length=T-1,Q.match_available=0,Q.ins_h=0})(L.state),Te}function ke(L,Te,Q,R,P,G){if(!L)return v;var ye=1;if(Te===w&&(Te=6),R<0?(ye=0,R=-R):15<R&&(ye=2,R-=16),P<1||k<P||Q!==N||R<8||15<R||Te<0||9<Te||G<0||_<G)return K(L,v);R===8&&(R=9);var ce=new Z;return(L.state=ce).strm=L,ce.wrap=ye,ce.gzhead=null,ce.w_bits=R,ce.w_size=1<<ce.w_bits,ce.w_mask=ce.w_size-1,ce.hash_bits=P+7,ce.hash_size=1<<ce.hash_bits,ce.hash_mask=ce.hash_size-1,ce.hash_shift=~~((ce.hash_bits+T-1)/T),ce.window=new o.Buf8(2*ce.w_size),ce.head=new o.Buf16(ce.hash_size),ce.prev=new o.Buf16(ce.w_size),ce.lit_bufsize=1<<P+6,ce.pending_buf_size=4*ce.lit_bufsize,ce.pending_buf=new o.Buf8(ce.pending_buf_size),ce.d_buf=1*ce.lit_bufsize,ce.l_buf=3*ce.lit_bufsize,ce.level=Te,ce.strategy=G,ce.method=Q,J(L)}i=[new fe(0,0,0,0,function(L,Te){var Q=65535;for(Q>L.pending_buf_size-5&&(Q=L.pending_buf_size-5);;){if(L.lookahead<=1){if(me(L),L.lookahead===0&&Te===f)return O;if(L.lookahead===0)break}L.strstart+=L.lookahead,L.lookahead=0;var R=L.block_start+Q;if((L.strstart===0||L.strstart>=R)&&(L.lookahead=L.strstart-R,L.strstart=R,W(L,!1),L.strm.avail_out===0)||L.strstart-L.block_start>=L.w_size-q&&(W(L,!1),L.strm.avail_out===0))return O}return L.insert=0,Te===g?(W(L,!0),L.strm.avail_out===0?X:M):(L.strstart>L.block_start&&(W(L,!1),L.strm.avail_out),O)}),new fe(4,4,8,4,$),new fe(4,5,16,8,$),new fe(4,6,32,32,$),new fe(4,4,16,16,H),new fe(8,16,32,32,H),new fe(8,16,128,128,H),new fe(8,32,128,256,H),new fe(32,128,258,1024,H),new fe(32,258,258,4096,H)],a.deflateInit=function(L,Te){return ke(L,Te,N,15,8,0)},a.deflateInit2=ke,a.deflateReset=J,a.deflateResetKeep=ee,a.deflateSetHeader=function(L,Te){return L&&L.state?L.state.wrap!==2?v:(L.state.gzhead=Te,y):v},a.deflate=function(L,Te){var Q,R,P,G;if(!L||!L.state||5<Te||Te<0)return L?K(L,v):v;if(R=L.state,!L.output||!L.input&&L.avail_in!==0||R.status===666&&Te!==g)return K(L,L.avail_out===0?-5:v);if(R.strm=L,Q=R.last_flush,R.last_flush=Te,R.status===F)if(R.wrap===2)L.adler=0,le(R,31),le(R,139),le(R,8),R.gzhead?(le(R,(R.gzhead.text?1:0)+(R.gzhead.hcrc?2:0)+(R.gzhead.extra?4:0)+(R.gzhead.name?8:0)+(R.gzhead.comment?16:0)),le(R,255&R.gzhead.time),le(R,R.gzhead.time>>8&255),le(R,R.gzhead.time>>16&255),le(R,R.gzhead.time>>24&255),le(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),le(R,255&R.gzhead.os),R.gzhead.extra&&R.gzhead.extra.length&&(le(R,255&R.gzhead.extra.length),le(R,R.gzhead.extra.length>>8&255)),R.gzhead.hcrc&&(L.adler=h(L.adler,R.pending_buf,R.pending,0)),R.gzindex=0,R.status=69):(le(R,0),le(R,0),le(R,0),le(R,0),le(R,0),le(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),le(R,3),R.status=Y);else{var ye=N+(R.w_bits-8<<4)<<8;ye|=(2<=R.strategy||R.level<2?0:R.level<6?1:R.level===6?2:3)<<6,R.strstart!==0&&(ye|=32),ye+=31-ye%31,R.status=Y,oe(R,ye),R.strstart!==0&&(oe(R,L.adler>>>16),oe(R,65535&L.adler)),L.adler=1}if(R.status===69)if(R.gzhead.extra){for(P=R.pending;R.gzindex<(65535&R.gzhead.extra.length)&&(R.pending!==R.pending_buf_size||(R.gzhead.hcrc&&R.pending>P&&(L.adler=h(L.adler,R.pending_buf,R.pending-P,P)),V(L),P=R.pending,R.pending!==R.pending_buf_size));)le(R,255&R.gzhead.extra[R.gzindex]),R.gzindex++;R.gzhead.hcrc&&R.pending>P&&(L.adler=h(L.adler,R.pending_buf,R.pending-P,P)),R.gzindex===R.gzhead.extra.length&&(R.gzindex=0,R.status=73)}else R.status=73;if(R.status===73)if(R.gzhead.name){P=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>P&&(L.adler=h(L.adler,R.pending_buf,R.pending-P,P)),V(L),P=R.pending,R.pending===R.pending_buf_size)){G=1;break}G=R.gzindex<R.gzhead.name.length?255&R.gzhead.name.charCodeAt(R.gzindex++):0,le(R,G)}while(G!==0);R.gzhead.hcrc&&R.pending>P&&(L.adler=h(L.adler,R.pending_buf,R.pending-P,P)),G===0&&(R.gzindex=0,R.status=91)}else R.status=91;if(R.status===91)if(R.gzhead.comment){P=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>P&&(L.adler=h(L.adler,R.pending_buf,R.pending-P,P)),V(L),P=R.pending,R.pending===R.pending_buf_size)){G=1;break}G=R.gzindex<R.gzhead.comment.length?255&R.gzhead.comment.charCodeAt(R.gzindex++):0,le(R,G)}while(G!==0);R.gzhead.hcrc&&R.pending>P&&(L.adler=h(L.adler,R.pending_buf,R.pending-P,P)),G===0&&(R.status=103)}else R.status=103;if(R.status===103&&(R.gzhead.hcrc?(R.pending+2>R.pending_buf_size&&V(L),R.pending+2<=R.pending_buf_size&&(le(R,255&L.adler),le(R,L.adler>>8&255),L.adler=0,R.status=Y)):R.status=Y),R.pending!==0){if(V(L),L.avail_out===0)return R.last_flush=-1,y}else if(L.avail_in===0&&z(Te)<=z(Q)&&Te!==g)return K(L,-5);if(R.status===666&&L.avail_in!==0)return K(L,-5);if(L.avail_in!==0||R.lookahead!==0||Te!==f&&R.status!==666){var ce=R.strategy===2?(function(ue,De){for(var je;;){if(ue.lookahead===0&&(me(ue),ue.lookahead===0)){if(De===f)return O;break}if(ue.match_length=0,je=c._tr_tally(ue,0,ue.window[ue.strstart]),ue.lookahead--,ue.strstart++,je&&(W(ue,!1),ue.strm.avail_out===0))return O}return ue.insert=0,De===g?(W(ue,!0),ue.strm.avail_out===0?X:M):ue.last_lit&&(W(ue,!1),ue.strm.avail_out===0)?O:se})(R,Te):R.strategy===3?(function(ue,De){for(var je,Ae,Be,et,lt=ue.window;;){if(ue.lookahead<=ne){if(me(ue),ue.lookahead<=ne&&De===f)return O;if(ue.lookahead===0)break}if(ue.match_length=0,ue.lookahead>=T&&0<ue.strstart&&(Ae=lt[Be=ue.strstart-1])===lt[++Be]&&Ae===lt[++Be]&&Ae===lt[++Be]){et=ue.strstart+ne;do;while(Ae===lt[++Be]&&Ae===lt[++Be]&&Ae===lt[++Be]&&Ae===lt[++Be]&&Ae===lt[++Be]&&Ae===lt[++Be]&&Ae===lt[++Be]&&Ae===lt[++Be]&&Be<et);ue.match_length=ne-(et-Be),ue.match_length>ue.lookahead&&(ue.match_length=ue.lookahead)}if(ue.match_length>=T?(je=c._tr_tally(ue,1,ue.match_length-T),ue.lookahead-=ue.match_length,ue.strstart+=ue.match_length,ue.match_length=0):(je=c._tr_tally(ue,0,ue.window[ue.strstart]),ue.lookahead--,ue.strstart++),je&&(W(ue,!1),ue.strm.avail_out===0))return O}return ue.insert=0,De===g?(W(ue,!0),ue.strm.avail_out===0?X:M):ue.last_lit&&(W(ue,!1),ue.strm.avail_out===0)?O:se})(R,Te):i[R.level].func(R,Te);if(ce!==X&&ce!==M||(R.status=666),ce===O||ce===X)return L.avail_out===0&&(R.last_flush=-1),y;if(ce===se&&(Te===1?c._tr_align(R):Te!==5&&(c._tr_stored_block(R,0,0,!1),Te===3&&(he(R.head),R.lookahead===0&&(R.strstart=0,R.block_start=0,R.insert=0))),V(L),L.avail_out===0))return R.last_flush=-1,y}return Te!==g?y:R.wrap<=0?1:(R.wrap===2?(le(R,255&L.adler),le(R,L.adler>>8&255),le(R,L.adler>>16&255),le(R,L.adler>>24&255),le(R,255&L.total_in),le(R,L.total_in>>8&255),le(R,L.total_in>>16&255),le(R,L.total_in>>24&255)):(oe(R,L.adler>>>16),oe(R,65535&L.adler)),V(L),0<R.wrap&&(R.wrap=-R.wrap),R.pending!==0?y:1)},a.deflateEnd=function(L){var Te;return L&&L.state?(Te=L.state.status)!==F&&Te!==69&&Te!==73&&Te!==91&&Te!==103&&Te!==Y&&Te!==666?K(L,v):(L.state=null,Te===Y?K(L,-3):y):v},a.deflateSetDictionary=function(L,Te){var Q,R,P,G,ye,ce,ue,De,je=Te.length;if(!L||!L.state||(G=(Q=L.state).wrap)===2||G===1&&Q.status!==F||Q.lookahead)return v;for(G===1&&(L.adler=d(L.adler,Te,je,0)),Q.wrap=0,je>=Q.w_size&&(G===0&&(he(Q.head),Q.strstart=0,Q.block_start=0,Q.insert=0),De=new o.Buf8(Q.w_size),o.arraySet(De,Te,je-Q.w_size,Q.w_size,0),Te=De,je=Q.w_size),ye=L.avail_in,ce=L.next_in,ue=L.input,L.avail_in=je,L.next_in=0,L.input=Te,me(Q);Q.lookahead>=T;){for(R=Q.strstart,P=Q.lookahead-(T-1);Q.ins_h=(Q.ins_h<<Q.hash_shift^Q.window[R+T-1])&Q.hash_mask,Q.prev[R&Q.w_mask]=Q.head[Q.ins_h],Q.head[Q.ins_h]=R,R++,--P;);Q.strstart=R,Q.lookahead=T-1,me(Q)}return Q.strstart+=Q.lookahead,Q.block_start=Q.strstart,Q.insert=Q.lookahead,Q.lookahead=0,Q.match_length=Q.prev_length=T-1,Q.match_available=0,L.next_in=ce,L.input=ue,L.avail_in=ye,Q.wrap=G,y},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,a){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,a){n.exports=function(i,o){var c,d,h,m,f,g,y,v,w,_,b,N,k,S,C,I,E,U,T,ne,q,F,Y,O,se;c=i.state,d=i.next_in,O=i.input,h=d+(i.avail_in-5),m=i.next_out,se=i.output,f=m-(o-i.avail_out),g=m+(i.avail_out-257),y=c.dmax,v=c.wsize,w=c.whave,_=c.wnext,b=c.window,N=c.hold,k=c.bits,S=c.lencode,C=c.distcode,I=(1<<c.lenbits)-1,E=(1<<c.distbits)-1;e:do{k<15&&(N+=O[d++]<<k,k+=8,N+=O[d++]<<k,k+=8),U=S[N&I];t:for(;;){if(N>>>=T=U>>>24,k-=T,(T=U>>>16&255)===0)se[m++]=65535&U;else{if(!(16&T)){if((64&T)==0){U=S[(65535&U)+(N&(1<<T)-1)];continue t}if(32&T){c.mode=12;break e}i.msg="invalid literal/length code",c.mode=30;break e}ne=65535&U,(T&=15)&&(k<T&&(N+=O[d++]<<k,k+=8),ne+=N&(1<<T)-1,N>>>=T,k-=T),k<15&&(N+=O[d++]<<k,k+=8,N+=O[d++]<<k,k+=8),U=C[N&E];s:for(;;){if(N>>>=T=U>>>24,k-=T,!(16&(T=U>>>16&255))){if((64&T)==0){U=C[(65535&U)+(N&(1<<T)-1)];continue s}i.msg="invalid distance code",c.mode=30;break e}if(q=65535&U,k<(T&=15)&&(N+=O[d++]<<k,(k+=8)<T&&(N+=O[d++]<<k,k+=8)),y<(q+=N&(1<<T)-1)){i.msg="invalid distance too far back",c.mode=30;break e}if(N>>>=T,k-=T,(T=m-f)<q){if(w<(T=q-T)&&c.sane){i.msg="invalid distance too far back",c.mode=30;break e}if(Y=b,(F=0)===_){if(F+=v-T,T<ne){for(ne-=T;se[m++]=b[F++],--T;);F=m-q,Y=se}}else if(_<T){if(F+=v+_-T,(T-=_)<ne){for(ne-=T;se[m++]=b[F++],--T;);if(F=0,_<ne){for(ne-=T=_;se[m++]=b[F++],--T;);F=m-q,Y=se}}}else if(F+=_-T,T<ne){for(ne-=T;se[m++]=b[F++],--T;);F=m-q,Y=se}for(;2<ne;)se[m++]=Y[F++],se[m++]=Y[F++],se[m++]=Y[F++],ne-=3;ne&&(se[m++]=Y[F++],1<ne&&(se[m++]=Y[F++]))}else{for(F=m-q;se[m++]=se[F++],se[m++]=se[F++],se[m++]=se[F++],2<(ne-=3););ne&&(se[m++]=se[F++],1<ne&&(se[m++]=se[F++]))}break}}break}}while(d<h&&m<g);d-=ne=k>>3,N&=(1<<(k-=ne<<3))-1,i.next_in=d,i.next_out=m,i.avail_in=d<h?h-d+5:5-(d-h),i.avail_out=m<g?g-m+257:257-(m-g),c.hold=N,c.bits=k}},{}],49:[function(r,n,a){var i=r("../utils/common"),o=r("./adler32"),c=r("./crc32"),d=r("./inffast"),h=r("./inftrees"),m=1,f=2,g=0,y=-2,v=1,w=852,_=592;function b(F){return(F>>>24&255)+(F>>>8&65280)+((65280&F)<<8)+((255&F)<<24)}function N(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function k(F){var Y;return F&&F.state?(Y=F.state,F.total_in=F.total_out=Y.total=0,F.msg="",Y.wrap&&(F.adler=1&Y.wrap),Y.mode=v,Y.last=0,Y.havedict=0,Y.dmax=32768,Y.head=null,Y.hold=0,Y.bits=0,Y.lencode=Y.lendyn=new i.Buf32(w),Y.distcode=Y.distdyn=new i.Buf32(_),Y.sane=1,Y.back=-1,g):y}function S(F){var Y;return F&&F.state?((Y=F.state).wsize=0,Y.whave=0,Y.wnext=0,k(F)):y}function C(F,Y){var O,se;return F&&F.state?(se=F.state,Y<0?(O=0,Y=-Y):(O=1+(Y>>4),Y<48&&(Y&=15)),Y&&(Y<8||15<Y)?y:(se.window!==null&&se.wbits!==Y&&(se.window=null),se.wrap=O,se.wbits=Y,S(F))):y}function I(F,Y){var O,se;return F?(se=new N,(F.state=se).window=null,(O=C(F,Y))!==g&&(F.state=null),O):y}var E,U,T=!0;function ne(F){if(T){var Y;for(E=new i.Buf32(512),U=new i.Buf32(32),Y=0;Y<144;)F.lens[Y++]=8;for(;Y<256;)F.lens[Y++]=9;for(;Y<280;)F.lens[Y++]=7;for(;Y<288;)F.lens[Y++]=8;for(h(m,F.lens,0,288,E,0,F.work,{bits:9}),Y=0;Y<32;)F.lens[Y++]=5;h(f,F.lens,0,32,U,0,F.work,{bits:5}),T=!1}F.lencode=E,F.lenbits=9,F.distcode=U,F.distbits=5}function q(F,Y,O,se){var X,M=F.state;return M.window===null&&(M.wsize=1<<M.wbits,M.wnext=0,M.whave=0,M.window=new i.Buf8(M.wsize)),se>=M.wsize?(i.arraySet(M.window,Y,O-M.wsize,M.wsize,0),M.wnext=0,M.whave=M.wsize):(se<(X=M.wsize-M.wnext)&&(X=se),i.arraySet(M.window,Y,O-se,X,M.wnext),(se-=X)?(i.arraySet(M.window,Y,O-se,se,0),M.wnext=se,M.whave=M.wsize):(M.wnext+=X,M.wnext===M.wsize&&(M.wnext=0),M.whave<M.wsize&&(M.whave+=X))),0}a.inflateReset=S,a.inflateReset2=C,a.inflateResetKeep=k,a.inflateInit=function(F){return I(F,15)},a.inflateInit2=I,a.inflate=function(F,Y){var O,se,X,M,K,z,he,V,W,le,oe,ve,me,$,H,fe,Z,ee,J,ke,L,Te,Q,R,P=0,G=new i.Buf8(4),ye=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!F||!F.state||!F.output||!F.input&&F.avail_in!==0)return y;(O=F.state).mode===12&&(O.mode=13),K=F.next_out,X=F.output,he=F.avail_out,M=F.next_in,se=F.input,z=F.avail_in,V=O.hold,W=O.bits,le=z,oe=he,Te=g;e:for(;;)switch(O.mode){case v:if(O.wrap===0){O.mode=13;break}for(;W<16;){if(z===0)break e;z--,V+=se[M++]<<W,W+=8}if(2&O.wrap&&V===35615){G[O.check=0]=255&V,G[1]=V>>>8&255,O.check=c(O.check,G,2,0),W=V=0,O.mode=2;break}if(O.flags=0,O.head&&(O.head.done=!1),!(1&O.wrap)||(((255&V)<<8)+(V>>8))%31){F.msg="incorrect header check",O.mode=30;break}if((15&V)!=8){F.msg="unknown compression method",O.mode=30;break}if(W-=4,L=8+(15&(V>>>=4)),O.wbits===0)O.wbits=L;else if(L>O.wbits){F.msg="invalid window size",O.mode=30;break}O.dmax=1<<L,F.adler=O.check=1,O.mode=512&V?10:12,W=V=0;break;case 2:for(;W<16;){if(z===0)break e;z--,V+=se[M++]<<W,W+=8}if(O.flags=V,(255&O.flags)!=8){F.msg="unknown compression method",O.mode=30;break}if(57344&O.flags){F.msg="unknown header flags set",O.mode=30;break}O.head&&(O.head.text=V>>8&1),512&O.flags&&(G[0]=255&V,G[1]=V>>>8&255,O.check=c(O.check,G,2,0)),W=V=0,O.mode=3;case 3:for(;W<32;){if(z===0)break e;z--,V+=se[M++]<<W,W+=8}O.head&&(O.head.time=V),512&O.flags&&(G[0]=255&V,G[1]=V>>>8&255,G[2]=V>>>16&255,G[3]=V>>>24&255,O.check=c(O.check,G,4,0)),W=V=0,O.mode=4;case 4:for(;W<16;){if(z===0)break e;z--,V+=se[M++]<<W,W+=8}O.head&&(O.head.xflags=255&V,O.head.os=V>>8),512&O.flags&&(G[0]=255&V,G[1]=V>>>8&255,O.check=c(O.check,G,2,0)),W=V=0,O.mode=5;case 5:if(1024&O.flags){for(;W<16;){if(z===0)break e;z--,V+=se[M++]<<W,W+=8}O.length=V,O.head&&(O.head.extra_len=V),512&O.flags&&(G[0]=255&V,G[1]=V>>>8&255,O.check=c(O.check,G,2,0)),W=V=0}else O.head&&(O.head.extra=null);O.mode=6;case 6:if(1024&O.flags&&(z<(ve=O.length)&&(ve=z),ve&&(O.head&&(L=O.head.extra_len-O.length,O.head.extra||(O.head.extra=new Array(O.head.extra_len)),i.arraySet(O.head.extra,se,M,ve,L)),512&O.flags&&(O.check=c(O.check,se,ve,M)),z-=ve,M+=ve,O.length-=ve),O.length))break e;O.length=0,O.mode=7;case 7:if(2048&O.flags){if(z===0)break e;for(ve=0;L=se[M+ve++],O.head&&L&&O.length<65536&&(O.head.name+=String.fromCharCode(L)),L&&ve<z;);if(512&O.flags&&(O.check=c(O.check,se,ve,M)),z-=ve,M+=ve,L)break e}else O.head&&(O.head.name=null);O.length=0,O.mode=8;case 8:if(4096&O.flags){if(z===0)break e;for(ve=0;L=se[M+ve++],O.head&&L&&O.length<65536&&(O.head.comment+=String.fromCharCode(L)),L&&ve<z;);if(512&O.flags&&(O.check=c(O.check,se,ve,M)),z-=ve,M+=ve,L)break e}else O.head&&(O.head.comment=null);O.mode=9;case 9:if(512&O.flags){for(;W<16;){if(z===0)break e;z--,V+=se[M++]<<W,W+=8}if(V!==(65535&O.check)){F.msg="header crc mismatch",O.mode=30;break}W=V=0}O.head&&(O.head.hcrc=O.flags>>9&1,O.head.done=!0),F.adler=O.check=0,O.mode=12;break;case 10:for(;W<32;){if(z===0)break e;z--,V+=se[M++]<<W,W+=8}F.adler=O.check=b(V),W=V=0,O.mode=11;case 11:if(O.havedict===0)return F.next_out=K,F.avail_out=he,F.next_in=M,F.avail_in=z,O.hold=V,O.bits=W,2;F.adler=O.check=1,O.mode=12;case 12:if(Y===5||Y===6)break e;case 13:if(O.last){V>>>=7&W,W-=7&W,O.mode=27;break}for(;W<3;){if(z===0)break e;z--,V+=se[M++]<<W,W+=8}switch(O.last=1&V,W-=1,3&(V>>>=1)){case 0:O.mode=14;break;case 1:if(ne(O),O.mode=20,Y!==6)break;V>>>=2,W-=2;break e;case 2:O.mode=17;break;case 3:F.msg="invalid block type",O.mode=30}V>>>=2,W-=2;break;case 14:for(V>>>=7&W,W-=7&W;W<32;){if(z===0)break e;z--,V+=se[M++]<<W,W+=8}if((65535&V)!=(V>>>16^65535)){F.msg="invalid stored block lengths",O.mode=30;break}if(O.length=65535&V,W=V=0,O.mode=15,Y===6)break e;case 15:O.mode=16;case 16:if(ve=O.length){if(z<ve&&(ve=z),he<ve&&(ve=he),ve===0)break e;i.arraySet(X,se,M,ve,K),z-=ve,M+=ve,he-=ve,K+=ve,O.length-=ve;break}O.mode=12;break;case 17:for(;W<14;){if(z===0)break e;z--,V+=se[M++]<<W,W+=8}if(O.nlen=257+(31&V),V>>>=5,W-=5,O.ndist=1+(31&V),V>>>=5,W-=5,O.ncode=4+(15&V),V>>>=4,W-=4,286<O.nlen||30<O.ndist){F.msg="too many length or distance symbols",O.mode=30;break}O.have=0,O.mode=18;case 18:for(;O.have<O.ncode;){for(;W<3;){if(z===0)break e;z--,V+=se[M++]<<W,W+=8}O.lens[ye[O.have++]]=7&V,V>>>=3,W-=3}for(;O.have<19;)O.lens[ye[O.have++]]=0;if(O.lencode=O.lendyn,O.lenbits=7,Q={bits:O.lenbits},Te=h(0,O.lens,0,19,O.lencode,0,O.work,Q),O.lenbits=Q.bits,Te){F.msg="invalid code lengths set",O.mode=30;break}O.have=0,O.mode=19;case 19:for(;O.have<O.nlen+O.ndist;){for(;fe=(P=O.lencode[V&(1<<O.lenbits)-1])>>>16&255,Z=65535&P,!((H=P>>>24)<=W);){if(z===0)break e;z--,V+=se[M++]<<W,W+=8}if(Z<16)V>>>=H,W-=H,O.lens[O.have++]=Z;else{if(Z===16){for(R=H+2;W<R;){if(z===0)break e;z--,V+=se[M++]<<W,W+=8}if(V>>>=H,W-=H,O.have===0){F.msg="invalid bit length repeat",O.mode=30;break}L=O.lens[O.have-1],ve=3+(3&V),V>>>=2,W-=2}else if(Z===17){for(R=H+3;W<R;){if(z===0)break e;z--,V+=se[M++]<<W,W+=8}W-=H,L=0,ve=3+(7&(V>>>=H)),V>>>=3,W-=3}else{for(R=H+7;W<R;){if(z===0)break e;z--,V+=se[M++]<<W,W+=8}W-=H,L=0,ve=11+(127&(V>>>=H)),V>>>=7,W-=7}if(O.have+ve>O.nlen+O.ndist){F.msg="invalid bit length repeat",O.mode=30;break}for(;ve--;)O.lens[O.have++]=L}}if(O.mode===30)break;if(O.lens[256]===0){F.msg="invalid code -- missing end-of-block",O.mode=30;break}if(O.lenbits=9,Q={bits:O.lenbits},Te=h(m,O.lens,0,O.nlen,O.lencode,0,O.work,Q),O.lenbits=Q.bits,Te){F.msg="invalid literal/lengths set",O.mode=30;break}if(O.distbits=6,O.distcode=O.distdyn,Q={bits:O.distbits},Te=h(f,O.lens,O.nlen,O.ndist,O.distcode,0,O.work,Q),O.distbits=Q.bits,Te){F.msg="invalid distances set",O.mode=30;break}if(O.mode=20,Y===6)break e;case 20:O.mode=21;case 21:if(6<=z&&258<=he){F.next_out=K,F.avail_out=he,F.next_in=M,F.avail_in=z,O.hold=V,O.bits=W,d(F,oe),K=F.next_out,X=F.output,he=F.avail_out,M=F.next_in,se=F.input,z=F.avail_in,V=O.hold,W=O.bits,O.mode===12&&(O.back=-1);break}for(O.back=0;fe=(P=O.lencode[V&(1<<O.lenbits)-1])>>>16&255,Z=65535&P,!((H=P>>>24)<=W);){if(z===0)break e;z--,V+=se[M++]<<W,W+=8}if(fe&&(240&fe)==0){for(ee=H,J=fe,ke=Z;fe=(P=O.lencode[ke+((V&(1<<ee+J)-1)>>ee)])>>>16&255,Z=65535&P,!(ee+(H=P>>>24)<=W);){if(z===0)break e;z--,V+=se[M++]<<W,W+=8}V>>>=ee,W-=ee,O.back+=ee}if(V>>>=H,W-=H,O.back+=H,O.length=Z,fe===0){O.mode=26;break}if(32&fe){O.back=-1,O.mode=12;break}if(64&fe){F.msg="invalid literal/length code",O.mode=30;break}O.extra=15&fe,O.mode=22;case 22:if(O.extra){for(R=O.extra;W<R;){if(z===0)break e;z--,V+=se[M++]<<W,W+=8}O.length+=V&(1<<O.extra)-1,V>>>=O.extra,W-=O.extra,O.back+=O.extra}O.was=O.length,O.mode=23;case 23:for(;fe=(P=O.distcode[V&(1<<O.distbits)-1])>>>16&255,Z=65535&P,!((H=P>>>24)<=W);){if(z===0)break e;z--,V+=se[M++]<<W,W+=8}if((240&fe)==0){for(ee=H,J=fe,ke=Z;fe=(P=O.distcode[ke+((V&(1<<ee+J)-1)>>ee)])>>>16&255,Z=65535&P,!(ee+(H=P>>>24)<=W);){if(z===0)break e;z--,V+=se[M++]<<W,W+=8}V>>>=ee,W-=ee,O.back+=ee}if(V>>>=H,W-=H,O.back+=H,64&fe){F.msg="invalid distance code",O.mode=30;break}O.offset=Z,O.extra=15&fe,O.mode=24;case 24:if(O.extra){for(R=O.extra;W<R;){if(z===0)break e;z--,V+=se[M++]<<W,W+=8}O.offset+=V&(1<<O.extra)-1,V>>>=O.extra,W-=O.extra,O.back+=O.extra}if(O.offset>O.dmax){F.msg="invalid distance too far back",O.mode=30;break}O.mode=25;case 25:if(he===0)break e;if(ve=oe-he,O.offset>ve){if((ve=O.offset-ve)>O.whave&&O.sane){F.msg="invalid distance too far back",O.mode=30;break}me=ve>O.wnext?(ve-=O.wnext,O.wsize-ve):O.wnext-ve,ve>O.length&&(ve=O.length),$=O.window}else $=X,me=K-O.offset,ve=O.length;for(he<ve&&(ve=he),he-=ve,O.length-=ve;X[K++]=$[me++],--ve;);O.length===0&&(O.mode=21);break;case 26:if(he===0)break e;X[K++]=O.length,he--,O.mode=21;break;case 27:if(O.wrap){for(;W<32;){if(z===0)break e;z--,V|=se[M++]<<W,W+=8}if(oe-=he,F.total_out+=oe,O.total+=oe,oe&&(F.adler=O.check=O.flags?c(O.check,X,oe,K-oe):o(O.check,X,oe,K-oe)),oe=he,(O.flags?V:b(V))!==O.check){F.msg="incorrect data check",O.mode=30;break}W=V=0}O.mode=28;case 28:if(O.wrap&&O.flags){for(;W<32;){if(z===0)break e;z--,V+=se[M++]<<W,W+=8}if(V!==(4294967295&O.total)){F.msg="incorrect length check",O.mode=30;break}W=V=0}O.mode=29;case 29:Te=1;break e;case 30:Te=-3;break e;case 31:return-4;case 32:default:return y}return F.next_out=K,F.avail_out=he,F.next_in=M,F.avail_in=z,O.hold=V,O.bits=W,(O.wsize||oe!==F.avail_out&&O.mode<30&&(O.mode<27||Y!==4))&&q(F,F.output,F.next_out,oe-F.avail_out)?(O.mode=31,-4):(le-=F.avail_in,oe-=F.avail_out,F.total_in+=le,F.total_out+=oe,O.total+=oe,O.wrap&&oe&&(F.adler=O.check=O.flags?c(O.check,X,oe,F.next_out-oe):o(O.check,X,oe,F.next_out-oe)),F.data_type=O.bits+(O.last?64:0)+(O.mode===12?128:0)+(O.mode===20||O.mode===15?256:0),(le==0&&oe===0||Y===4)&&Te===g&&(Te=-5),Te)},a.inflateEnd=function(F){if(!F||!F.state)return y;var Y=F.state;return Y.window&&(Y.window=null),F.state=null,g},a.inflateGetHeader=function(F,Y){var O;return F&&F.state?(2&(O=F.state).wrap)==0?y:((O.head=Y).done=!1,g):y},a.inflateSetDictionary=function(F,Y){var O,se=Y.length;return F&&F.state?(O=F.state).wrap!==0&&O.mode!==11?y:O.mode===11&&o(1,Y,se,0)!==O.check?-3:q(F,Y,se,se)?(O.mode=31,-4):(O.havedict=1,g):y},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,a){var i=r("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(m,f,g,y,v,w,_,b){var N,k,S,C,I,E,U,T,ne,q=b.bits,F=0,Y=0,O=0,se=0,X=0,M=0,K=0,z=0,he=0,V=0,W=null,le=0,oe=new i.Buf16(16),ve=new i.Buf16(16),me=null,$=0;for(F=0;F<=15;F++)oe[F]=0;for(Y=0;Y<y;Y++)oe[f[g+Y]]++;for(X=q,se=15;1<=se&&oe[se]===0;se--);if(se<X&&(X=se),se===0)return v[w++]=20971520,v[w++]=20971520,b.bits=1,0;for(O=1;O<se&&oe[O]===0;O++);for(X<O&&(X=O),F=z=1;F<=15;F++)if(z<<=1,(z-=oe[F])<0)return-1;if(0<z&&(m===0||se!==1))return-1;for(ve[1]=0,F=1;F<15;F++)ve[F+1]=ve[F]+oe[F];for(Y=0;Y<y;Y++)f[g+Y]!==0&&(_[ve[f[g+Y]]++]=Y);if(E=m===0?(W=me=_,19):m===1?(W=o,le-=257,me=c,$-=257,256):(W=d,me=h,-1),F=O,I=w,K=Y=V=0,S=-1,C=(he=1<<(M=X))-1,m===1&&852<he||m===2&&592<he)return 1;for(;;){for(U=F-K,ne=_[Y]<E?(T=0,_[Y]):_[Y]>E?(T=me[$+_[Y]],W[le+_[Y]]):(T=96,0),N=1<<F-K,O=k=1<<M;v[I+(V>>K)+(k-=N)]=U<<24|T<<16|ne|0,k!==0;);for(N=1<<F-1;V&N;)N>>=1;if(N!==0?(V&=N-1,V+=N):V=0,Y++,--oe[F]==0){if(F===se)break;F=f[g+_[Y]]}if(X<F&&(V&C)!==S){for(K===0&&(K=X),I+=O,z=1<<(M=F-K);M+K<se&&!((z-=oe[M+K])<=0);)M++,z<<=1;if(he+=1<<M,m===1&&852<he||m===2&&592<he)return 1;v[S=V&C]=X<<24|M<<16|I-w|0}}return V!==0&&(v[I+V]=F-K<<24|64<<16|0),b.bits=X,0}},{"../utils/common":41}],51:[function(r,n,a){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,a){var i=r("../utils/common"),o=0,c=1;function d(P){for(var G=P.length;0<=--G;)P[G]=0}var h=0,m=29,f=256,g=f+1+m,y=30,v=19,w=2*g+1,_=15,b=16,N=7,k=256,S=16,C=17,I=18,E=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],U=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ne=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],q=new Array(2*(g+2));d(q);var F=new Array(2*y);d(F);var Y=new Array(512);d(Y);var O=new Array(256);d(O);var se=new Array(m);d(se);var X,M,K,z=new Array(y);function he(P,G,ye,ce,ue){this.static_tree=P,this.extra_bits=G,this.extra_base=ye,this.elems=ce,this.max_length=ue,this.has_stree=P&&P.length}function V(P,G){this.dyn_tree=P,this.max_code=0,this.stat_desc=G}function W(P){return P<256?Y[P]:Y[256+(P>>>7)]}function le(P,G){P.pending_buf[P.pending++]=255&G,P.pending_buf[P.pending++]=G>>>8&255}function oe(P,G,ye){P.bi_valid>b-ye?(P.bi_buf|=G<<P.bi_valid&65535,le(P,P.bi_buf),P.bi_buf=G>>b-P.bi_valid,P.bi_valid+=ye-b):(P.bi_buf|=G<<P.bi_valid&65535,P.bi_valid+=ye)}function ve(P,G,ye){oe(P,ye[2*G],ye[2*G+1])}function me(P,G){for(var ye=0;ye|=1&P,P>>>=1,ye<<=1,0<--G;);return ye>>>1}function $(P,G,ye){var ce,ue,De=new Array(_+1),je=0;for(ce=1;ce<=_;ce++)De[ce]=je=je+ye[ce-1]<<1;for(ue=0;ue<=G;ue++){var Ae=P[2*ue+1];Ae!==0&&(P[2*ue]=me(De[Ae]++,Ae))}}function H(P){var G;for(G=0;G<g;G++)P.dyn_ltree[2*G]=0;for(G=0;G<y;G++)P.dyn_dtree[2*G]=0;for(G=0;G<v;G++)P.bl_tree[2*G]=0;P.dyn_ltree[2*k]=1,P.opt_len=P.static_len=0,P.last_lit=P.matches=0}function fe(P){8<P.bi_valid?le(P,P.bi_buf):0<P.bi_valid&&(P.pending_buf[P.pending++]=P.bi_buf),P.bi_buf=0,P.bi_valid=0}function Z(P,G,ye,ce){var ue=2*G,De=2*ye;return P[ue]<P[De]||P[ue]===P[De]&&ce[G]<=ce[ye]}function ee(P,G,ye){for(var ce=P.heap[ye],ue=ye<<1;ue<=P.heap_len&&(ue<P.heap_len&&Z(G,P.heap[ue+1],P.heap[ue],P.depth)&&ue++,!Z(G,ce,P.heap[ue],P.depth));)P.heap[ye]=P.heap[ue],ye=ue,ue<<=1;P.heap[ye]=ce}function J(P,G,ye){var ce,ue,De,je,Ae=0;if(P.last_lit!==0)for(;ce=P.pending_buf[P.d_buf+2*Ae]<<8|P.pending_buf[P.d_buf+2*Ae+1],ue=P.pending_buf[P.l_buf+Ae],Ae++,ce===0?ve(P,ue,G):(ve(P,(De=O[ue])+f+1,G),(je=E[De])!==0&&oe(P,ue-=se[De],je),ve(P,De=W(--ce),ye),(je=U[De])!==0&&oe(P,ce-=z[De],je)),Ae<P.last_lit;);ve(P,k,G)}function ke(P,G){var ye,ce,ue,De=G.dyn_tree,je=G.stat_desc.static_tree,Ae=G.stat_desc.has_stree,Be=G.stat_desc.elems,et=-1;for(P.heap_len=0,P.heap_max=w,ye=0;ye<Be;ye++)De[2*ye]!==0?(P.heap[++P.heap_len]=et=ye,P.depth[ye]=0):De[2*ye+1]=0;for(;P.heap_len<2;)De[2*(ue=P.heap[++P.heap_len]=et<2?++et:0)]=1,P.depth[ue]=0,P.opt_len--,Ae&&(P.static_len-=je[2*ue+1]);for(G.max_code=et,ye=P.heap_len>>1;1<=ye;ye--)ee(P,De,ye);for(ue=Be;ye=P.heap[1],P.heap[1]=P.heap[P.heap_len--],ee(P,De,1),ce=P.heap[1],P.heap[--P.heap_max]=ye,P.heap[--P.heap_max]=ce,De[2*ue]=De[2*ye]+De[2*ce],P.depth[ue]=(P.depth[ye]>=P.depth[ce]?P.depth[ye]:P.depth[ce])+1,De[2*ye+1]=De[2*ce+1]=ue,P.heap[1]=ue++,ee(P,De,1),2<=P.heap_len;);P.heap[--P.heap_max]=P.heap[1],(function(lt,gt){var _t,Ht,Yt,Ct,us,Ge,Ze=gt.dyn_tree,Ke=gt.max_code,hs=gt.stat_desc.static_tree,Es=gt.stat_desc.has_stree,Cs=gt.stat_desc.extra_bits,jn=gt.stat_desc.extra_base,$s=gt.stat_desc.max_length,vr=0;for(Ct=0;Ct<=_;Ct++)lt.bl_count[Ct]=0;for(Ze[2*lt.heap[lt.heap_max]+1]=0,_t=lt.heap_max+1;_t<w;_t++)$s<(Ct=Ze[2*Ze[2*(Ht=lt.heap[_t])+1]+1]+1)&&(Ct=$s,vr++),Ze[2*Ht+1]=Ct,Ke<Ht||(lt.bl_count[Ct]++,us=0,jn<=Ht&&(us=Cs[Ht-jn]),Ge=Ze[2*Ht],lt.opt_len+=Ge*(Ct+us),Es&&(lt.static_len+=Ge*(hs[2*Ht+1]+us)));if(vr!==0){do{for(Ct=$s-1;lt.bl_count[Ct]===0;)Ct--;lt.bl_count[Ct]--,lt.bl_count[Ct+1]+=2,lt.bl_count[$s]--,vr-=2}while(0<vr);for(Ct=$s;Ct!==0;Ct--)for(Ht=lt.bl_count[Ct];Ht!==0;)Ke<(Yt=lt.heap[--_t])||(Ze[2*Yt+1]!==Ct&&(lt.opt_len+=(Ct-Ze[2*Yt+1])*Ze[2*Yt],Ze[2*Yt+1]=Ct),Ht--)}})(P,G),$(De,et,P.bl_count)}function L(P,G,ye){var ce,ue,De=-1,je=G[1],Ae=0,Be=7,et=4;for(je===0&&(Be=138,et=3),G[2*(ye+1)+1]=65535,ce=0;ce<=ye;ce++)ue=je,je=G[2*(ce+1)+1],++Ae<Be&&ue===je||(Ae<et?P.bl_tree[2*ue]+=Ae:ue!==0?(ue!==De&&P.bl_tree[2*ue]++,P.bl_tree[2*S]++):Ae<=10?P.bl_tree[2*C]++:P.bl_tree[2*I]++,De=ue,et=(Ae=0)===je?(Be=138,3):ue===je?(Be=6,3):(Be=7,4))}function Te(P,G,ye){var ce,ue,De=-1,je=G[1],Ae=0,Be=7,et=4;for(je===0&&(Be=138,et=3),ce=0;ce<=ye;ce++)if(ue=je,je=G[2*(ce+1)+1],!(++Ae<Be&&ue===je)){if(Ae<et)for(;ve(P,ue,P.bl_tree),--Ae!=0;);else ue!==0?(ue!==De&&(ve(P,ue,P.bl_tree),Ae--),ve(P,S,P.bl_tree),oe(P,Ae-3,2)):Ae<=10?(ve(P,C,P.bl_tree),oe(P,Ae-3,3)):(ve(P,I,P.bl_tree),oe(P,Ae-11,7));De=ue,et=(Ae=0)===je?(Be=138,3):ue===je?(Be=6,3):(Be=7,4)}}d(z);var Q=!1;function R(P,G,ye,ce){oe(P,(h<<1)+(ce?1:0),3),(function(ue,De,je,Ae){fe(ue),le(ue,je),le(ue,~je),i.arraySet(ue.pending_buf,ue.window,De,je,ue.pending),ue.pending+=je})(P,G,ye)}a._tr_init=function(P){Q||((function(){var G,ye,ce,ue,De,je=new Array(_+1);for(ue=ce=0;ue<m-1;ue++)for(se[ue]=ce,G=0;G<1<<E[ue];G++)O[ce++]=ue;for(O[ce-1]=ue,ue=De=0;ue<16;ue++)for(z[ue]=De,G=0;G<1<<U[ue];G++)Y[De++]=ue;for(De>>=7;ue<y;ue++)for(z[ue]=De<<7,G=0;G<1<<U[ue]-7;G++)Y[256+De++]=ue;for(ye=0;ye<=_;ye++)je[ye]=0;for(G=0;G<=143;)q[2*G+1]=8,G++,je[8]++;for(;G<=255;)q[2*G+1]=9,G++,je[9]++;for(;G<=279;)q[2*G+1]=7,G++,je[7]++;for(;G<=287;)q[2*G+1]=8,G++,je[8]++;for($(q,g+1,je),G=0;G<y;G++)F[2*G+1]=5,F[2*G]=me(G,5);X=new he(q,E,f+1,g,_),M=new he(F,U,0,y,_),K=new he(new Array(0),T,0,v,N)})(),Q=!0),P.l_desc=new V(P.dyn_ltree,X),P.d_desc=new V(P.dyn_dtree,M),P.bl_desc=new V(P.bl_tree,K),P.bi_buf=0,P.bi_valid=0,H(P)},a._tr_stored_block=R,a._tr_flush_block=function(P,G,ye,ce){var ue,De,je=0;0<P.level?(P.strm.data_type===2&&(P.strm.data_type=(function(Ae){var Be,et=4093624447;for(Be=0;Be<=31;Be++,et>>>=1)if(1&et&&Ae.dyn_ltree[2*Be]!==0)return o;if(Ae.dyn_ltree[18]!==0||Ae.dyn_ltree[20]!==0||Ae.dyn_ltree[26]!==0)return c;for(Be=32;Be<f;Be++)if(Ae.dyn_ltree[2*Be]!==0)return c;return o})(P)),ke(P,P.l_desc),ke(P,P.d_desc),je=(function(Ae){var Be;for(L(Ae,Ae.dyn_ltree,Ae.l_desc.max_code),L(Ae,Ae.dyn_dtree,Ae.d_desc.max_code),ke(Ae,Ae.bl_desc),Be=v-1;3<=Be&&Ae.bl_tree[2*ne[Be]+1]===0;Be--);return Ae.opt_len+=3*(Be+1)+5+5+4,Be})(P),ue=P.opt_len+3+7>>>3,(De=P.static_len+3+7>>>3)<=ue&&(ue=De)):ue=De=ye+5,ye+4<=ue&&G!==-1?R(P,G,ye,ce):P.strategy===4||De===ue?(oe(P,2+(ce?1:0),3),J(P,q,F)):(oe(P,4+(ce?1:0),3),(function(Ae,Be,et,lt){var gt;for(oe(Ae,Be-257,5),oe(Ae,et-1,5),oe(Ae,lt-4,4),gt=0;gt<lt;gt++)oe(Ae,Ae.bl_tree[2*ne[gt]+1],3);Te(Ae,Ae.dyn_ltree,Be-1),Te(Ae,Ae.dyn_dtree,et-1)})(P,P.l_desc.max_code+1,P.d_desc.max_code+1,je+1),J(P,P.dyn_ltree,P.dyn_dtree)),H(P),ce&&fe(P)},a._tr_tally=function(P,G,ye){return P.pending_buf[P.d_buf+2*P.last_lit]=G>>>8&255,P.pending_buf[P.d_buf+2*P.last_lit+1]=255&G,P.pending_buf[P.l_buf+P.last_lit]=255&ye,P.last_lit++,G===0?P.dyn_ltree[2*ye]++:(P.matches++,G--,P.dyn_ltree[2*(O[ye]+f+1)]++,P.dyn_dtree[2*W(G)]++),P.last_lit===P.lit_bufsize-1},a._tr_align=function(P){oe(P,2,3),ve(P,k,q),(function(G){G.bi_valid===16?(le(G,G.bi_buf),G.bi_buf=0,G.bi_valid=0):8<=G.bi_valid&&(G.pending_buf[G.pending++]=255&G.bi_buf,G.bi_buf>>=8,G.bi_valid-=8)})(P)}},{"../utils/common":41}],53:[function(r,n,a){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,a){(function(i){(function(o,c){if(!o.setImmediate){var d,h,m,f,g=1,y={},v=!1,w=o.document,_=Object.getPrototypeOf&&Object.getPrototypeOf(o);_=_&&_.setTimeout?_:o,d={}.toString.call(o.process)==="[object process]"?function(S){ss.nextTick(function(){N(S)})}:(function(){if(o.postMessage&&!o.importScripts){var S=!0,C=o.onmessage;return o.onmessage=function(){S=!1},o.postMessage("","*"),o.onmessage=C,S}})()?(f="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",k,!1):o.attachEvent("onmessage",k),function(S){o.postMessage(f+S,"*")}):o.MessageChannel?((m=new MessageChannel).port1.onmessage=function(S){N(S.data)},function(S){m.port2.postMessage(S)}):w&&"onreadystatechange"in w.createElement("script")?(h=w.documentElement,function(S){var C=w.createElement("script");C.onreadystatechange=function(){N(S),C.onreadystatechange=null,h.removeChild(C),C=null},h.appendChild(C)}):function(S){setTimeout(N,0,S)},_.setImmediate=function(S){typeof S!="function"&&(S=new Function(""+S));for(var C=new Array(arguments.length-1),I=0;I<C.length;I++)C[I]=arguments[I+1];var E={callback:S,args:C};return y[g]=E,d(g),g++},_.clearImmediate=b}function b(S){delete y[S]}function N(S){if(v)setTimeout(N,0,S);else{var C=y[S];if(C){v=!0;try{(function(I){var E=I.callback,U=I.args;switch(U.length){case 0:E();break;case 1:E(U[0]);break;case 2:E(U[0],U[1]);break;case 3:E(U[0],U[1],U[2]);break;default:E.apply(c,U)}})(C)}finally{b(S),v=!1}}}}function k(S){S.source===o&&typeof S.data=="string"&&S.data.indexOf(f)===0&&N(+S.data.slice(f.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof Ii<"u"?Ii:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Zj)),Zj.exports}var cie=lie();const die=v8(cie);var Ef={exports:{}},Qj,X5;function uie(){if(X5)return Qj;X5=1;var t={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function e(r){return r&&r.replace?r.replace(/([&"<>'])/g,function(n,a){return t[a]}):r}return Qj=e,Qj}var Z5;function hie(){if(Z5)return Ef.exports;Z5=1;var t=uie(),e=f2().Stream,r="    ";function n(h,m){typeof m!="object"&&(m={indent:m});var f=m.stream?new e:null,g="",y=!1,v=m.indent?m.indent===!0?r:m.indent:"",w=!0;function _(C){w?ss.nextTick(C):C()}function b(C,I){if(I!==void 0&&(g+=I),C&&!y&&(f=f||new e,y=!0),C&&y){var E=g;_(function(){f.emit("data",E)}),g=""}}function N(C,I){c(b,o(C,v,v?1:0),I)}function k(){if(f){var C=g;_(function(){f.emit("data",C),f.emit("end"),f.readable=!1,f.emit("close")})}}function S(C){var I=C.encoding||"UTF-8",E={version:"1.0",encoding:I};C.standalone&&(E.standalone=C.standalone),N({"?xml":{_attr:E}}),g=g.replace("/>","?>")}return _(function(){w=!1}),m.declaration&&S(m.declaration),h&&h.forEach?h.forEach(function(C,I){var E;I+1===h.length&&(E=k),N(C,E)}):N(h,k),f?(f.readable=!0,f):g}function a(){var h=Array.prototype.slice.call(arguments),m={_elem:o(h)};return m.push=function(f){if(!this.append)throw new Error("not assigned to a parent!");var g=this,y=this._elem.indent;c(this.append,o(f,y,this._elem.icount+(y?1:0)),function(){g.append(!0)})},m.close=function(f){f!==void 0&&this.push(f),this.end&&this.end()},m}function i(h,m){return new Array(m||0).join(h||"")}function o(h,m,f){f=f||0;var g=i(m,f),y,v=h,w=!1;if(typeof h=="object"){var _=Object.keys(h);if(y=_[0],v=h[y],v&&v._elem)return v._elem.name=y,v._elem.icount=f,v._elem.indent=m,v._elem.indents=g,v._elem.interrupt=v,v._elem}var b=[],N=[],k;function S(C){var I=Object.keys(C);I.forEach(function(E){b.push(d(E,C[E]))})}switch(typeof v){case"object":if(v===null)break;v._attr&&S(v._attr),v._cdata&&N.push(("<![CDATA["+v._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),v.forEach&&(k=!1,N.push(""),v.forEach(function(C){if(typeof C=="object"){var I=Object.keys(C)[0];I=="_attr"?S(C._attr):N.push(o(C,m,f+1))}else N.pop(),k=!0,N.push(t(C))}),k||N.push(""));break;default:N.push(t(v))}return{name:y,interrupt:w,attributes:b,content:N,icount:f,indents:g,indent:m}}function c(h,m,f){if(typeof m!="object")return h(!1,m);var g=m.interrupt?1:m.content.length;function y(){for(;m.content.length;){var w=m.content.shift();if(w!==void 0){if(v(w))return;c(h,w)}}h(!1,(g>1?m.indents:"")+(m.name?"</"+m.name+">":"")+(m.indent&&!f?`
`:"")),f&&f()}function v(w){return w.interrupt?(w.interrupt.append=h,w.interrupt.end=y,w.interrupt=!1,h(!0),!0):!1}if(h(!1,m.indents+(m.name?"<"+m.name:"")+(m.attributes.length?" "+m.attributes.join(" "):"")+(g?m.name?">":"":m.name?"/>":"")+(m.indent&&g>1?`
`:"")),!g)return h(!1,m.indent?`
`:"");v(m)||y()}function d(h,m){return h+'="'+t(m)+'"'}return Ef.exports=n,Ef.exports.element=Ef.exports.Element=a,Ef.exports}var fie=hie();const pr=v8(fie),Tf=0,Jj=32,mie=32,pie=(t,e)=>{const r=e.replace(/-/g,"");if(r.length!==mie)throw new Error(`Error: Cannot extract GUID from font filename: ${e}`);const a=r.replace(/(..)/g,"$1 ").trim().split(" ").map(d=>parseInt(d,16));a.reverse();const o=t.slice(Tf,Jj).map((d,h)=>d^a[h%a.length]),c=new Uint8Array(Tf+o.length+Math.max(0,t.length-Jj));return c.set(t.slice(0,Tf)),c.set(o,Tf),c.set(t.slice(Jj),Tf+o.length),c};class gie{format(e,r={stack:[]}){const n=e.prepForXml(r);if(n)return n;throw Error("XMLComponent did not format correctly")}}class xie{replace(e,r,n){let a=e;return r.forEach((i,o)=>{a=a.replace(new RegExp(`{${i.fileName}}`,"g"),(n+o).toString())}),a}getMediaData(e,r){return r.Array.filter(n=>e.search(`{${n.fileName}}`)>0)}}class yie{replace(e,r){let n=e;for(const a of r)n=n.replace(new RegExp(`{${a.reference}-${a.instance}}`,"g"),a.numId.toString());return n}}class bie{constructor(){tt(this,"formatter"),tt(this,"imageReplacer"),tt(this,"numberingReplacer"),this.formatter=new gie,this.imageReplacer=new xie,this.numberingReplacer=new yie}compile(e,r,n=[]){const a=new die,i=this.xmlifyFile(e,r),o=new Map(Object.entries(i));for(const[,c]of o)if(Array.isArray(c))for(const d of c)a.file(d.path,d.data);else a.file(c.path,c.data);for(const c of n)a.file(c.path,c.data);for(const c of e.Media.Array)c.type!=="svg"?a.file(`word/media/${c.fileName}`,c.data):(a.file(`word/media/${c.fileName}`,c.data),a.file(`word/media/${c.fallback.fileName}`,c.fallback.data));for(const{data:c,name:d,fontKey:h}of e.FontTable.fontOptionsWithKey){const[m]=d.split(".");a.file(`word/fonts/${m}.odttf`,pie(c,h))}return a}xmlifyFile(e,r){const n=e.Document.Relationships.RelationshipCount+1,a=pr(this.formatter.format(e.Document.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),i=e.Comments.Relationships.RelationshipCount+1,o=pr(this.formatter.format(e.Comments,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),c=this.imageReplacer.getMediaData(a,e.Media),d=this.imageReplacer.getMediaData(o,e.Media);return{Relationships:{data:(c.forEach((h,m)=>{e.Document.Relationships.createRelationship(n+m,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${h.fileName}`)}),e.Document.Relationships.createRelationship(e.Document.Relationships.RelationshipCount+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable","fontTable.xml"),pr(this.formatter.format(e.Document.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const h=this.imageReplacer.replace(a,c,n);return this.numberingReplacer.replace(h,e.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const h=pr(this.formatter.format(e.Styles,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(h,e.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:pr(this.formatter.format(e.CoreProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:pr(this.formatter.format(e.Numbering,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:pr(this.formatter.format(e.FileRelationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:e.Headers.map((h,m)=>{const f=pr(this.formatter.format(h.View,{viewWrapper:h,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(f,e.Media).forEach((y,v)=>{h.Relationships.createRelationship(v,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${y.fileName}`)}),{data:pr(this.formatter.format(h.Relationships,{viewWrapper:h,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${m+1}.xml.rels`}}),FooterRelationships:e.Footers.map((h,m)=>{const f=pr(this.formatter.format(h.View,{viewWrapper:h,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(f,e.Media).forEach((y,v)=>{h.Relationships.createRelationship(v,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${y.fileName}`)}),{data:pr(this.formatter.format(h.Relationships,{viewWrapper:h,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${m+1}.xml.rels`}}),Headers:e.Headers.map((h,m)=>{const f=pr(this.formatter.format(h.View,{viewWrapper:h,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),g=this.imageReplacer.getMediaData(f,e.Media),y=this.imageReplacer.replace(f,g,0);return{data:this.numberingReplacer.replace(y,e.Numbering.ConcreteNumbering),path:`word/header${m+1}.xml`}}),Footers:e.Footers.map((h,m)=>{const f=pr(this.formatter.format(h.View,{viewWrapper:h,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),g=this.imageReplacer.getMediaData(f,e.Media),y=this.imageReplacer.replace(f,g,0);return{data:this.numberingReplacer.replace(y,e.Numbering.ConcreteNumbering),path:`word/footer${m+1}.xml`}}),ContentTypes:{data:pr(this.formatter.format(e.ContentTypes,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:pr(this.formatter.format(e.CustomProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:pr(this.formatter.format(e.AppProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:pr(this.formatter.format(e.FootNotes.View,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:pr(this.formatter.format(e.FootNotes.Relationships,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:pr(this.formatter.format(e.Settings,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:(()=>{const h=this.imageReplacer.replace(o,d,i);return this.numberingReplacer.replace(h,e.Numbering.ConcreteNumbering)})(),path:"word/comments.xml"},CommentsRelationships:{data:(d.forEach((h,m)=>{e.Comments.Relationships.createRelationship(i+m,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${h.fileName}`)}),pr(this.formatter.format(e.Comments.Relationships,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/comments.xml.rels"},FontTable:{data:pr(this.formatter.format(e.FontTable.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:pr(this.formatter.format(e.FontTable.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const vie={WITH_2_BLANKS:"  "},Q5=t=>t===!0?vie.WITH_2_BLANKS:t===!1?void 0:t,nL=class Cu{static pack(e,r,n){return Kte(this,arguments,function*(a,i,o,c=[]){return this.compiler.compile(a,Q5(o),c).generateAsync({type:i,mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toString(e,r,n=[]){return Cu.pack(e,"string",r,n)}static toBuffer(e,r,n=[]){return Cu.pack(e,"nodebuffer",r,n)}static toBase64String(e,r,n=[]){return Cu.pack(e,"base64",r,n)}static toBlob(e,r,n=[]){return Cu.pack(e,"blob",r,n)}static toArrayBuffer(e,r,n=[]){return Cu.pack(e,"arraybuffer",r,n)}static toStream(e,r,n=[]){const a=new oie.Stream;return this.compiler.compile(e,Q5(r),n).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(o=>{a.emit("data",o),a.emit("end")}),a}};tt(nL,"compiler",new bie);let wie=nL;const Ao="________________________________________________________________";function dn(t,e=!1){return new zs({children:[new r0({text:`${t}${e?" *":""}: `,bold:!0}),new r0(Ao)],spacing:{after:120}})}function $c(t){return new zs({text:t,heading:eL.HEADING_2,spacing:{before:240,after:120}})}async function jie(){const t=[new zs({text:"Create Car  Agency Form",heading:eL.TITLE,alignment:fa.CENTER,spacing:{after:120}}),new zs({text:"Print this form and fill it by hand with a pen. You can then enter the same information online or hand the form to the office.",alignment:fa.CENTER,spacing:{after:360}}),$c("Basic Information"),dn("Make",!0),dn("Model",!0),dn("Year",!0),dn("License Plate",!0),dn("Color"),dn("Mileage (km)"),$c("Technical Specifications"),dn("Fuel Type (Petrol / Diesel / Electric / Hybrid)",!0),dn("Transmission (Automatic / Manual)",!0),dn("Wheels Drive (4x4 / Front / Rear / Autoblock)"),dn("Seats",!0),dn("Doors",!0),dn("Category (Luxury / Sport / Commercial / Industrial / Normal / Event / Sea)",!0),$c("Features & Add-ons"),new zs({text:"Features (tick as applicable): GPS, Bluetooth, Backup Camera, Sunroof, Leather Seats, Apple CarPlay, Android Auto, Heated Seats, Cruise Control, Parking Sensors",spacing:{after:120}}),new zs({text:Ao,spacing:{after:120}}),new zs({text:"Add-ons (tick as applicable): Child Seat, GPS Device, Phone Holder, WiFi Hotspot, Roof Rack",spacing:{after:120}}),new zs({text:Ao,spacing:{after:120}}),new zs({text:"Reason of rent (tick as applicable): Vacation, Business Trip, Wedding, Daily Use, Long Trip, Airport Transfer",spacing:{after:120}}),new zs({text:Ao,spacing:{after:240}}),$c("Pricing & Rental Terms"),dn("Daily Rate ($)",!0),dn("Holiday Rate ($)"),dn("Min Rental Days"),dn("Max Driving Mileage per day (km)"),new zs({text:" Require Deposit    If yes, Deposit Amount ($): ____________",spacing:{after:120}}),new zs({text:" Delivery Available    If yes, Delivery Fee ($): ____________",spacing:{after:120}}),new zs({text:" Driver Available    If yes, Driver Fee per day ($): ____________",spacing:{after:240}}),$c("Delivery & Driver Options"),new zs({text:"Delivery / driver options are listed above.",spacing:{after:240}}),$c("Car Images"),new zs({text:"Attach or upload: Main image *, Front, Back, Left, Right (as per online form).",spacing:{after:240}}),$c("Location Information"),new zs({text:"Live Location  Address (region):",spacing:{after:60}}),new zs({text:"Governorate: ________________    Coordinates / Google Maps link: "+Ao,spacing:{after:120}}),new zs({text:"Delivery Location  Address (region):",spacing:{after:60}}),new zs({text:"Governorate: ________________    Coordinates: "+Ao,spacing:{after:120}}),new zs({text:"Return Location  Address (region):",spacing:{after:60}}),new zs({text:"Governorate: ________________    Coordinates: "+Ao,spacing:{after:240}}),new zs({text:"Notes (optional):",spacing:{before:120,after:60}}),new zs({text:Ao,spacing:{after:120}}),new zs({text:Ao,spacing:{after:120}}),new zs({text:" End of form ",alignment:fa.CENTER,spacing:{before:240}})],e=new iie({sections:[{properties:{},children:t}]});return wie.toBlob(e)}async function _ie(t="create-car-form.docx"){const e=await jie(),r=URL.createObjectURL(e),n=document.createElement("a");n.href=r,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}const Vc={BMW:["1 Series","3 Series","5 Series","7 Series","X1","X3","X5","X7","M3","M5","Z4","i4","i7","iX"],"Mercedes-Benz":["A-Class","C-Class","E-Class","S-Class","GLA","GLC","GLE","GLS","G-Class","AMG GT","Maybach","EQE","EQS"],Audi:["A3","A4","A6","A8","Q3","Q5","Q7","Q8","TT","R8","e-tron"],Porsche:["911","Cayenne","Macan","Panamera","Taycan","Boxster","Cayman"],Volkswagen:["Polo","Golf","Jetta","Passat","Tiguan","Touareg","Arteon","ID.4","ID.7"],Opel:["Corsa","Astra","Insignia","Mokka","Grandland"],Smart:["Fortwo","Forfour"],Ferrari:["Roma","Portofino","F8","812","SF90","Purosangue"],Lamborghini:["Huracan","Aventador","Urus","Revuelto"],Maserati:["Ghibli","Quattroporte","Levante","Grecale","MC20"],"Alfa Romeo":["Giulia","Stelvio","Tonale","Giulietta"],Fiat:["500","Panda","Tipo","Doblo"],Pagani:["Huayra","Zonda"],"Rolls-Royce":["Phantom","Ghost","Wraith","Cullinan","Spectre"],Bentley:["Continental GT","Flying Spur","Bentayga"],"Aston Martin":["Vantage","DB11","DB12","DBX","Valhalla"],Jaguar:["XE","XF","XJ","F-Type","E-Pace","F-Pace"],"Land Rover":["Range Rover","Range Rover Sport","Velar","Evoque","Defender","Discovery"],McLaren:["720S","750S","Artura","GT"],Mini:["Cooper","Countryman","Clubman"],Lotus:["Emira","Evija","Eletre"],Tesla:["Model 3","Model S","Model X","Model Y","Cybertruck","Roadster"],Ford:["Fiesta","Focus","Mustang","Explorer","Escape","Edge","F-150","Bronco"],Chevrolet:["Spark","Malibu","Camaro","Corvette","Tahoe","Suburban","Silverado"],Dodge:["Charger","Challenger","Durango"],Jeep:["Wrangler","Grand Cherokee","Compass","Renegade","Gladiator"],Cadillac:["CT4","CT5","Escalade","Lyriq"],Chrysler:["300","Pacifica"],GMC:["Sierra","Yukon","Acadia"],Rivian:["R1T","R1S"],Lucid:["Air","Gravity"],Toyota:["Corolla","Camry","Yaris","Prius","RAV4","Highlander","Land Cruiser","Supra","Hilux"],Lexus:["IS","ES","GS","LS","NX","RX","GX","LX","LC"],Honda:["Civic","Accord","City","CR-V","HR-V","Pilot","Odyssey"],Nissan:["Micra","Sentra","Altima","Maxima","Qashqai","X-Trail","GT-R","370Z"],Infiniti:["Q50","Q60","QX50","QX60","QX80"],Mazda:["Mazda2","Mazda3","Mazda6","CX-5","CX-9","MX-5"],Subaru:["Impreza","Legacy","Outback","Forester","WRX","BRZ"],Mitsubishi:["Mirage","Lancer","ASX","Outlander","Pajero"],Suzuki:["Swift","Vitara","Jimny","Baleno"],Isuzu:["D-Max","MU-X"],Hyundai:["Accent","Elantra","Sonata","Kona","Tucson","Santa Fe","Palisade","Ioniq 5"],Kia:["Rio","Cerato","K5","Soul","Sportage","Sorento","Telluride","EV6"],Genesis:["G70","G80","G90","GV70","GV80"],Peugeot:["208","308","508","2008","3008","5008"],Renault:["Clio","Megane","Talisman","Captur","Kadjar","Koleos"],Citron:["C3","C4","C5","C5 Aircross"],Bugatti:["Chiron","Mistral","Tourbillon"],"DS Automobiles":["DS3","DS4","DS7"],BYD:["Atto 3","Han","Tang","Seal"],Geely:["Coolray","Emgrand","Tugella"],Chery:["Tiggo 7","Tiggo 8"],"Great Wall":["Haval H6","Tank 300"],NIO:["ES6","ES8","ET5","ET7"],XPeng:["P7","G6","G9"],MG:["ZS","HS","MG4","MG5"],Zeekr:["001","X"],Volvo:["S60","S90","V60","XC40","XC60","XC90"],Polestar:["Polestar 2","Polestar 3","Polestar 4"],Koenigsegg:["Jesko","Regera","Gemera"],Rimac:["Nevera"],Hennessey:["Venom F5"],SSC:["Tuatara"],Mahindra:["Scorpio","XUV700"],Tata:["Nexon","Harrier","Safari"]},Nie=["White","Black","Silver","Gray","Red","Blue","Green","Yellow","Orange","Brown","Beige","Gold","Purple","Pink","Pearl White","Metallic Gray","Metallic Blue","Dark Blue","Light Blue","Burgundy"],Sie=["GPS","Bluetooth","Backup Camera","Sunroof","Leather Seats","Apple CarPlay","Android Auto","Heated Seats","Cruise Control","Parking Sensors"],kie=["Child Seat","GPS Device","Phone Holder","WiFi Hotspot","Roof Rack"],Cie=["Vacation","Business Trip","Wedding","Daily Use","Long Trip","Airport Transfer"],Aie=["Beirut","Mount Lebanon","North","South","Bekaa","Baalbek","Keserwan","Nabatieh","Akkar"];function Eie(t){if(!t||typeof t!="string")return null;const e=t.trim(),r=e.match(/@(-?\d+\.?\d*),(-?\d+\.?\d*)/);if(r)return{lat:parseFloat(r[1]),lng:parseFloat(r[2])};const n=e.match(/[?&]q=(-?\d+\.?\d*),(-?\d+\.?\d*)/);if(n)return{lat:parseFloat(n[1]),lng:parseFloat(n[2])};const a=e.match(/(?:!3d|!4d|!1d)(-?\d+\.?\d*)/g);if(a&&a.length>=2){const i=parseFloat(a[0].replace(/\D/g,"")),o=parseFloat(a[1].replace(/\D/g,""));if(!isNaN(i)&&!isNaN(o))return{lat:i,lng:o}}return null}function e1(){try{const t=localStorage.getItem("user");if(!t)return null;let r=JSON.parse(t)?.agent?.location;if(!r)return null;typeof r=="string"&&(r=JSON.parse(r),typeof r=="string"&&(r=JSON.parse(r)));const n=r?.lat??r?.latitude,a=r?.lng??r?.longitude;return n!=null&&a!=null?{latitude:String(Number(n)),longitude:String(Number(a))}:null}catch{return null}}function Tie({center:t,selectedLocation:e,onLocationSelect:r}){const n=j.useRef(null),a=j.useRef(null);j.useEffect(()=>{if(typeof window<"u"&&!window.L){const o=document.createElement("link");o.rel="stylesheet",o.href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",document.head.appendChild(o);const c=document.createElement("script");c.src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js",c.onload=()=>i(),document.head.appendChild(c)}else window.L&&i()},[]),j.useEffect(()=>{if(n.current&&window.L&&t?.latitude!=null&&t?.longitude!=null){const o=parseFloat(t.latitude),c=parseFloat(t.longitude);n.current.setView([o,c],13)}},[t?.latitude,t?.longitude]),j.useEffect(()=>{e&&a.current&&window.L&&a.current.setLatLng([parseFloat(e.latitude),parseFloat(e.longitude)])},[e]);const i=()=>{if(!window.L||n.current)return;const o=parseFloat(t?.latitude)||33.8547,c=parseFloat(t?.longitude)||35.8623,d=window.L.map("map-container").setView([o,c],13);window.L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap contributors"}).addTo(d);const h=window.L.marker([o,c],{draggable:!0}).addTo(d);h.on("dragend",m=>{const f=m.target.getLatLng();r(f.lat,f.lng)}),d.on("click",m=>{h.setLatLng(m.latlng),r(m.latlng.lat,m.latlng.lng)}),n.current=d,a.current=h};return s.jsx("div",{id:"map-container",className:"w-full h-full"})}const Rie=()=>{const t=Ur(),[e,r]=j.useState(!1),[n,a]=j.useState([]),[i,o]=j.useState(!1),[c,d]=j.useState(null),[h,m]=j.useState(null),[f,g]=j.useState(""),[y,v]=j.useState(!1),[w,_]=j.useState({liveLocation:"",deliveryLocation:"",returnLocation:""}),[b,N]=j.useState({make:"",model:"",customMake:"",customModel:"",year:new Date().getFullYear(),licensePlate:"",color:"",mileage:0,fuelType:"",transmission:"",wheelsDrive:"",carCategory:"",seats:5,doors:4,dailyRate:"",holidayRate:"",notes:"",requireDeposit:!1,depositAmount:0,deliveryAvailable:!1,deliveryFees:0,driverAvailable:!1,driverFees:0,maxDrivingMileage:"",minRentalDays:1,selectedFeatures:[],selectedAddons:[],selectedReasons:[],liveLocation:{address:"",latitude:0,longitude:0},deliveryLocation:{address:"",latitude:0,longitude:0},returnLocation:{address:"",latitude:0,longitude:0}}),[k,S]=j.useState({main:null,front:null,back:null,left:null,right:null}),[C,I]=j.useState({main:null,front:null,back:null,left:null,right:null});j.useEffect(()=>{b.make&&Vc[b.make]?(a(Vc[b.make]),!Vc[b.make].includes(b.model)&&b.model!=="Other"&&N(Z=>({...Z,model:""}))):(a([]),b.make&&b.make!=="Other"&&b.model&&N(Z=>({...Z,model:""})))},[b.make]);const E=(Z,ee,J)=>{ee.includes(Z)?J(ee.filter(ke=>ke!==Z)):J([...ee,Z])},U=(Z,ee)=>{if(ee){if(!ee.type.startsWith("image/")){be.error("Please select an image file (e.g. JPG, PNG)");return}S(J=>({...J,[Z]:ee})),I(J=>{const ke=J[Z];return ke&&URL.revokeObjectURL(ke),{...J,[Z]:URL.createObjectURL(ee)}})}},[T,ne]=j.useState(null),q=(Z,ee)=>{Z.preventDefault(),Z.stopPropagation(),ne(ee)},F=(Z,ee)=>{Z.preventDefault(),Z.stopPropagation(),ne(J=>J===ee?null:J)},Y=(Z,ee)=>{Z.preventDefault(),Z.stopPropagation(),ne(null);const J=Z.dataTransfer?.files?.[0];J&&U(ee,J)},O=Z=>{S(ee=>({...ee,[Z]:null})),I(ee=>({...ee,[Z]:null}))},se=Z=>{if(!navigator.geolocation){be.error("Geolocation is not supported by your browser");return}be.info("Getting your location..."),navigator.geolocation.getCurrentPosition(ee=>{const J={address:b[Z].address||"",latitude:ee.coords.latitude.toFixed(6),longitude:ee.coords.longitude.toFixed(6)};N(ke=>({...ke,[Z]:J})),be.success("Location detected successfully!")},ee=>{console.error("Geolocation error:",ee),be.error("Could not get your location. Please select manually.")})},X=Z=>{d(Z);const ee=b[Z];m({latitude:ee.latitude||33.8547,longitude:ee.longitude||35.8623}),o(!0)},M=(Z,ee)=>{m({latitude:Z.toFixed(6),longitude:ee.toFixed(6)})},K=()=>{h&&c?(N(Z=>({...Z,[c]:{address:Z[c].address||"",latitude:h.latitude,longitude:h.longitude}})),be.success("Location selected!"),o(!1),d(null)):be.error("Please select a location on the map")},z=(Z,ee)=>{N(J=>({...J,[Z]:{...J[Z],address:ee}}))},he=(Z,ee)=>{const J=Eie(ee);J?(N(ke=>({...ke,[Z]:{...ke[Z],latitude:J.lat.toFixed(6),longitude:J.lng.toFixed(6),address:ke[Z].address||""}})),be.success("Location set from Google Maps link.")):be.error("Could not read coordinates from this link. Use a link with lat,lng (e.g. @33.89,35.50 or ?q=33.89,35.50).")},V=async()=>{const Z=f.trim();if(Z){v(!0);try{const J=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(Z)}&limit=1`,{headers:{Accept:"application/json"}})).json();if(J&&J[0]){const ke=parseFloat(J[0].lat),L=parseFloat(J[0].lon);m({latitude:ke.toFixed(6),longitude:L.toFixed(6)}),be.success("Location found. Adjust marker if needed.")}else be.error("No results found. Try another search.")}catch{be.error("Search failed. Try again.")}finally{v(!1)}}},W=()=>{const Z=e1();Z?(m(Z),be.success("Office location set. Confirm to use it.")):be.error("Office location not found. Complete your agency profile with a location first.")},le=Z=>{const ee=e1();ee?(N(J=>({...J,[Z]:{...J[Z],latitude:ee.latitude,longitude:ee.longitude,address:J[Z].address||""}})),be.success("Location set to your agency office.")):be.error("Office location not found. Complete your agency profile with a location first.")},[oe,ve]=j.useState(""),[me,$]=j.useState(!1),H=async()=>{const Z=oe.trim();if(!Z){be.error("Please enter a short description of the car.");return}if(Z.length>2e3){be.error("Description must be at most 2000 characters.");return}$(!0);try{const{data:ee}=await Oe.post("/ai/car-fill/parse",{description:Z});if(!ee.success||!ee.form){be.error(ee.message||"Could not parse description.");return}const J=ee.form,ke=J.use_office_location===!0,L={...J};delete L.use_office_location;const Te=ye=>{if(!ye||typeof ye!="object")return{address:"",latitude:0,longitude:0};const ce=ye.latitude??ye.lat??0,ue=ye.longitude??ye.lng??0;return{address:ye.address??"",latitude:typeof ce=="number"?ce:parseFloat(ce)||0,longitude:typeof ue=="number"?ue:parseFloat(ue)||0}};let Q=L.make??"",R=L.model??"",P="",G="";if(Q&&!Object.prototype.hasOwnProperty.call(Vc,Q)&&(P=Q,Q="Other"),Q&&Q!=="Other"&&R&&Vc[Q]&&!Vc[Q].includes(R)&&(G=R,R="Other"),N(ye=>({...ye,make:Q||ye.make,model:R||ye.model,customMake:P||ye.customMake,customModel:G||ye.customModel,year:L.year??ye.year,licensePlate:L.licensePlate??ye.licensePlate,color:L.color??ye.color,mileage:L.mileage!=null?L.mileage:ye.mileage,fuelType:L.fuelType??ye.fuelType,transmission:L.transmission??ye.transmission,wheelsDrive:L.wheelsDrive??ye.wheelsDrive,carCategory:L.carCategory??ye.carCategory,seats:L.seats??ye.seats,doors:L.doors??ye.doors,dailyRate:L.dailyRate!=null?L.dailyRate:ye.dailyRate,holidayRate:L.holidayRate!=null?L.holidayRate:ye.holidayRate,notes:L.notes??ye.notes,requireDeposit:L.requireDeposit??ye.requireDeposit,depositAmount:L.depositAmount??ye.depositAmount,deliveryAvailable:L.deliveryAvailable??ye.deliveryAvailable,deliveryFees:L.deliveryFees??ye.deliveryFees,driverAvailable:L.driverAvailable??ye.driverAvailable,driverFees:L.driverFees??ye.driverFees,maxDrivingMileage:L.maxDrivingMileage!=null?L.maxDrivingMileage:ye.maxDrivingMileage,minRentalDays:L.minRentalDays??ye.minRentalDays,selectedFeatures:Array.isArray(L.selectedFeatures)?L.selectedFeatures:ye.selectedFeatures,selectedAddons:Array.isArray(L.selectedAddons)?L.selectedAddons:ye.selectedAddons,selectedReasons:Array.isArray(L.selectedReasons)?L.selectedReasons:ye.selectedReasons,liveLocation:Te(L.liveLocation),deliveryLocation:Te(L.deliveryLocation),returnLocation:Te(L.returnLocation)})),ke){const ye=e1();ye?(N(ce=>({...ce,liveLocation:{...ce.liveLocation,address:ce.liveLocation?.address||"",latitude:ye.latitude,longitude:ye.longitude},deliveryLocation:{...ce.deliveryLocation,address:ce.deliveryLocation?.address||"",latitude:ye.latitude,longitude:ye.longitude},returnLocation:{...ce.returnLocation,address:ce.returnLocation?.address||"",latitude:ye.latitude,longitude:ye.longitude}})),be.success("Form filled from description. Office location applied for Live, Delivery, and Return.")):be.success("Form filled from description. Set your agency office location in profile to use it next time.")}else be.success("Form filled from description. Review, add license plate and photos, then submit.")}catch(ee){const J=ee.response?.status,ke=ee.response?.data;J===403?be.error(ke?.message||"Only agencies can use AI car fill."):J===422&&ke?.errors?.description?ke.errors.description.forEach(L=>be.error(L)):J===500||ke?.message?be.error(ke?.message||"AI parsing failed. Please fill the form manually."):be.error("Could not parse description. Please fill the form manually.")}finally{$(!1)}},fe=async Z=>{Z.preventDefault(),r(!0);const ee=new FormData,J=b.make==="Other",ke=b.model==="Other",L=J?b.customMake.trim():b.make,Te=J||ke?b.customModel.trim():b.model;if(!L){be.error("Please enter the car make"),r(!1);return}if(!Te){be.error("Please enter the car model"),r(!1);return}ee.append("make",L),ee.append("model",Te),ee.append("year",b.year),ee.append("license_plate",b.licensePlate.toUpperCase());const Q={Petrol:"benz",Diesel:"diesel",Electric:"electric",Hybrid:"hybrid"};ee.append("fuel_type",Q[b.fuelType]||b.fuelType.toLowerCase()),ee.append("transmission",b.transmission.toLowerCase()),ee.append("car_category",b.carCategory.toLowerCase()),ee.append("daily_rate",b.dailyRate),ee.append("seats",b.seats),ee.append("doors",b.doors),b.color&&ee.append("color",b.color),b.mileage&&ee.append("mileage",b.mileage),b.wheelsDrive&&ee.append("wheels_drive",b.wheelsDrive.toLowerCase()),b.holidayRate&&ee.append("holiday_rate",b.holidayRate),b.notes&&ee.append("notes",b.notes),b.maxDrivingMileage&&ee.append("max_driving_mileage",b.maxDrivingMileage),b.minRentalDays&&ee.append("min_rental_days",b.minRentalDays),b.selectedFeatures.forEach(R=>ee.append("features[]",R)),b.selectedAddons.forEach(R=>ee.append("car_add_on[]",R)),b.selectedReasons.forEach(R=>ee.append("reason_of_rent[]",R)),ee.append("is_deposit",b.requireDeposit?"1":"0"),b.requireDeposit&&b.depositAmount>0&&ee.append("deposit",b.depositAmount),ee.append("is_delivered",b.deliveryAvailable?"1":"0"),b.deliveryAvailable&&b.deliveryFees>0&&ee.append("delivery_fees",b.deliveryFees),ee.append("with_driver",b.driverAvailable?"1":"0"),b.driverAvailable&&b.driverFees>0&&ee.append("driver_fees",b.driverFees),ee.append("live_location",JSON.stringify(b.liveLocation)),ee.append("delivery_location",JSON.stringify(b.deliveryLocation)),ee.append("return_location",JSON.stringify(b.returnLocation)),k.main&&ee.append("main_image_url",k.main),k.front&&ee.append("front_image_url",k.front),k.back&&ee.append("back_image_url",k.back),k.left&&ee.append("left_image_url",k.left),k.right&&ee.append("right_image_url",k.right);try{const R=await Oe.post("/cars",ee,{headers:{"Content-Type":"multipart/form-data"}});console.log("Car created successfully:",R.data),be.success("Car created successfully! Waiting for admin approval."),t("/agent/cars")}catch(R){console.error("Create car error:",R.response?.data);const P=R.response?.data?.errors;if(P)Object.entries(P).forEach(([G,ye])=>{ye.forEach(ce=>be.error(`${G}: ${ce}`))});else{const G=R.response?.data?.error||R.response?.data?.message||"Failed to create car";be.error(G)}}finally{r(!1)}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-teal-50/30 to-cyan-50/30 dark:from-gray-950 dark:via-teal-950/20 dark:to-cyan-950/20 pt-20",children:[s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-teal-500/10 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-cyan-500/10 rounded-full blur-3xl animate-pulse delay-700"})]}),s.jsxs("div",{className:"container mx-auto px-4 py-8 relative z-10",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsxs(pe,{variant:"ghost",className:"text-gray-600 dark:text-gray-400 hover:text-teal-600 dark:hover:text-teal-400 transition-colors",onClick:()=>t(-1),children:[s.jsx(zi,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),s.jsxs(pe,{variant:"secondary",className:"text-gray-600 dark:text-gray-400 hover:text-teal-600 dark:hover:text-teal-400 transition-colors",onClick:()=>t("/agent/cars"),children:[s.jsx(Gt,{className:"w-4 h-4 mr-2"}),"Go to Cars Page"]}),s.jsxs(pe,{variant:"outline",className:"text-gray-600 dark:text-gray-400 hover:text-teal-600 dark:hover:text-teal-400 transition-colors border-2 border-dashed",onClick:async()=>{try{await _ie("create-car-form-agency.docx"),be.success("Form downloaded. Print and fill by hand if needed.")}catch(Z){console.error(Z),be.error("Failed to download form.")}},children:[s.jsx(AW,{className:"w-4 h-4 mr-2"}),"Download form (print & fill by hand)"]})]}),s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-teal-500 to-cyan-500 flex items-center justify-center shadow-lg",children:s.jsx(Gt,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-black text-gray-900 dark:text-white",children:"Create New Car"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Add a premium vehicle to your fleet"})]})]})]}),s.jsxs("form",{onSubmit:fe,className:"space-y-6",children:[s.jsx(Ue,{className:"border-2 border-teal-500/30 bg-teal-50/50 dark:bg-teal-950/30 transition-all duration-300 shadow-lg",children:s.jsxs(qe,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-amber-500 to-orange-500 flex items-center justify-center",children:s.jsx(Ul,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Fill with AI"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Describe your car in one line; we'll pre-fill the form."})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsx("textarea",{placeholder:"e.g. bmw serie 5 2025 auto 4 seats 4 doors sport address beirut, location office",value:oe,onChange:Z=>ve(Z.target.value.slice(0,2e3)),maxLength:2e3,rows:2,className:"flex-1 min-w-0 h-auto resize-y rounded-xl border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 px-4 py-3 bg-white dark:bg-gray-900 text-gray-900 dark:text-white placeholder:text-gray-500"}),s.jsx(pe,{type:"button",onClick:H,disabled:me||!oe.trim(),className:"shrink-0 bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 text-white border-0 h-12 px-6 rounded-xl font-semibold",children:me?s.jsx(s.Fragment,{children:s.jsx("span",{className:"animate-pulse",children:"Parsing"})}):s.jsxs(s.Fragment,{children:[s.jsx(Ul,{className:"w-4 h-4 mr-2 inline"}),"Fill with AI"]})})]}),s.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:[oe.length,"/2000"]})]})}),s.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:s.jsxs(qe,{className:"p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-teal-500 to-cyan-500 flex items-center justify-center",children:s.jsx(Io,{className:"w-6 h-6 text-white"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Basic Information"})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Make ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{required:!0,value:b.make,onChange:Z=>{const ee=Z.target.value;N(J=>({...J,make:ee,...ee!=="Other"?{customMake:""}:{}}))},className:"w-full h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl px-4 bg-white dark:bg-gray-900",children:[s.jsx("option",{value:"",children:"Select Make..."}),Object.keys(Vc).sort().map(Z=>s.jsx("option",{value:Z,children:Z},Z)),s.jsx("option",{value:"Other",children:"Other"})]})]}),b.make==="Other"&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Custom Make ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Se,{required:!0,placeholder:"Type the make",value:b.customMake,onChange:Z=>N({...b,customMake:Z.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Model ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{required:b.make!=="Other",value:b.model,onChange:Z=>{const ee=Z.target.value;N(J=>({...J,model:ee,...ee!=="Other"?{customModel:""}:{}}))},disabled:!b.make||b.make==="Other",className:"w-full h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl px-4 bg-white dark:bg-gray-900 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx("option",{value:"",children:"Select Model..."}),n.map(Z=>s.jsx("option",{value:Z,children:Z},Z)),b.make&&b.make!=="Other"&&s.jsx("option",{value:"Other",children:"Other"})]}),!b.make&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Please select a make first"}),b.make==="Other"&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select a custom make above to enter a model."})]}),(b.make==="Other"||b.model==="Other")&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Custom Model ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Se,{required:!0,placeholder:"Type the model",value:b.customModel,onChange:Z=>N({...b,customModel:Z.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Year ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Se,{required:!0,type:"number",placeholder:"e.g., 2024",value:b.year,onChange:Z=>N({...b,year:Z.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["License Plate ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Se,{required:!0,placeholder:"e.g., ABC-1234",value:b.licensePlate,onChange:Z=>N({...b,licensePlate:Z.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Color"}),s.jsxs("select",{value:b.color,onChange:Z=>N({...b,color:Z.target.value}),className:"w-full h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl px-4 bg-white dark:bg-gray-900",children:[s.jsx("option",{value:"",children:"Select Color..."}),Nie.map(Z=>s.jsx("option",{value:Z,children:Z},Z))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Mileage (km)"}),s.jsx(Se,{type:"number",placeholder:"e.g., 15000",value:b.mileage,onChange:Z=>N({...b,mileage:Z.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]})]})]})}),s.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:s.jsxs(qe,{className:"p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-cyan-500 to-blue-500 flex items-center justify-center",children:s.jsx(Rm,{className:"w-6 h-6 text-white"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Technical Specifications"})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Fuel Type ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{required:!0,value:b.fuelType,onChange:Z=>N({...b,fuelType:Z.target.value}),className:"w-full h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl px-4 bg-white dark:bg-gray-900",children:[s.jsx("option",{value:"",children:"Select..."}),s.jsx("option",{value:"Petrol",children:"Petrol"}),s.jsx("option",{value:"Diesel",children:"Diesel"}),s.jsx("option",{value:"Electric",children:"Electric"}),s.jsx("option",{value:"Hybrid",children:"Hybrid"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Transmission ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{required:!0,value:b.transmission,onChange:Z=>N({...b,transmission:Z.target.value}),className:"w-full h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl px-4 bg-white dark:bg-gray-900",children:[s.jsx("option",{value:"",children:"Select..."}),s.jsx("option",{value:"Automatic",children:"Automatic"}),s.jsx("option",{value:"Manual",children:"Manual"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Wheels Drive"}),s.jsxs("select",{value:b.wheelsDrive,onChange:Z=>N({...b,wheelsDrive:Z.target.value}),className:"w-full h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl px-4 bg-white dark:bg-gray-900",children:[s.jsx("option",{value:"",children:"Select..."}),s.jsx("option",{value:"4x4",children:"4x4"}),s.jsx("option",{value:"Front",children:"Front"}),s.jsx("option",{value:"Rear",children:"Rear"}),s.jsx("option",{value:"Autoblock",children:"Autoblock"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Seats ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Se,{required:!0,type:"number",placeholder:"e.g., 5",value:b.seats,onChange:Z=>N({...b,seats:Z.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Doors ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Se,{required:!0,type:"number",placeholder:"e.g., 4",value:b.doors,onChange:Z=>N({...b,doors:Z.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Category ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{required:!0,value:b.carCategory,onChange:Z=>N({...b,carCategory:Z.target.value}),className:"w-full h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl px-4 bg-white dark:bg-gray-900",children:[s.jsx("option",{value:"",children:"Select..."}),s.jsx("option",{value:"Luxury",children:"Luxury"}),s.jsx("option",{value:"Sport",children:"Sport"}),s.jsx("option",{value:"Commercial",children:"Commercial"}),s.jsx("option",{value:"Industrial",children:"Industrial"}),s.jsx("option",{value:"Normal",children:"Normal"}),s.jsx("option",{value:"Event",children:"Event"}),s.jsx("option",{value:"Sea",children:"Sea"})]})]})]})]})}),s.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:s.jsxs(qe,{className:"p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-teal-600 to-teal-400 flex items-center justify-center",children:s.jsx(Ul,{className:"w-6 h-6 text-white"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Features & Add-ons"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Features (Click to select)"}),s.jsx("div",{className:"flex flex-wrap gap-3",children:Sie.map(Z=>s.jsxs(We,{onClick:()=>E(Z,b.selectedFeatures,ee=>N({...b,selectedFeatures:ee})),className:`cursor-pointer px-4 py-2 text-sm transition-all duration-300 ${b.selectedFeatures.includes(Z)?"bg-gradient-to-r from-teal-600 to-cyan-600 text-white hover:from-teal-700 hover:to-cyan-700":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[b.selectedFeatures.includes(Z)&&s.jsx(ci,{className:"w-3 h-3 mr-1"}),Z]},Z))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Add-ons (Click to select)"}),s.jsx("div",{className:"flex flex-wrap gap-3",children:kie.map(Z=>s.jsxs(We,{onClick:()=>E(Z,b.selectedAddons,ee=>N({...b,selectedAddons:ee})),className:`cursor-pointer px-4 py-2 text-sm transition-all duration-300 ${b.selectedAddons.includes(Z)?"bg-gradient-to-r from-cyan-600 to-blue-600 text-white hover:from-cyan-700 hover:to-blue-700":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[b.selectedAddons.includes(Z)&&s.jsx(ci,{className:"w-3 h-3 mr-1"}),Z]},Z))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Reason of Rent (Click to select)"}),s.jsx("div",{className:"flex flex-wrap gap-3",children:Cie.map(Z=>s.jsxs(We,{onClick:()=>E(Z,b.selectedReasons,ee=>N({...b,selectedReasons:ee})),className:`cursor-pointer px-4 py-2 text-sm transition-all duration-300 ${b.selectedReasons.includes(Z)?"bg-gradient-to-r from-teal-500 to-cyan-500 text-white hover:from-teal-600 hover:to-cyan-600":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[b.selectedReasons.includes(Z)&&s.jsx(ci,{className:"w-3 h-3 mr-1"}),Z]},Z))})]})]})]})}),s.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:s.jsxs(qe,{className:"p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-amber-500 to-yellow-500 flex items-center justify-center",children:s.jsx(or,{className:"w-6 h-6 text-white"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Pricing & Rental Terms"})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 xl:grid-cols-8 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Daily Rate ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),s.jsx(Se,{required:!0,type:"number",placeholder:"100",value:b.dailyRate,onChange:Z=>N({...b,dailyRate:Z.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl pl-8"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Holiday Rate"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),s.jsx(Se,{type:"number",placeholder:"150",value:b.holidayRate,onChange:Z=>N({...b,holidayRate:Z.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl pl-8"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Min Rental Days"}),s.jsx(Se,{type:"number",placeholder:"e.g., 1",value:b.minRentalDays,onChange:Z=>N({...b,minRentalDays:Z.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Max Driving Mileage/Day (km)"}),s.jsx(Se,{type:"number",placeholder:"e.g., 200",value:b.maxDrivingMileage,onChange:Z=>N({...b,maxDrivingMileage:Z.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]}),s.jsxs("div",{className:"flex items-center space-x-3 pt-8",children:[s.jsx("input",{type:"checkbox",id:"requireDeposit",checked:b.requireDeposit,onChange:Z=>N({...b,requireDeposit:Z.target.checked}),className:"w-5 h-5 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500"}),s.jsx("label",{htmlFor:"requireDeposit",className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Require Deposit"})]}),b.requireDeposit&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Deposit Amount"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),s.jsx(Se,{type:"number",placeholder:"500",value:b.depositAmount,onChange:Z=>N({...b,depositAmount:Z.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl pl-8"})]})]})]})]})}),s.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:s.jsxs(qe,{className:"p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-teal-500 to-cyan-500 flex items-center justify-center",children:s.jsx(Gt,{className:"w-6 h-6 text-white"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Delivery & Driver Options"})]}),s.jsxs("div",{className:"flex flex-wrap gap-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",id:"deliveryAvailable",checked:b.deliveryAvailable,onChange:Z=>N({...b,deliveryAvailable:Z.target.checked}),className:"w-5 h-5 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500"}),s.jsx("label",{htmlFor:"deliveryAvailable",className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Delivery Available"})]}),b.deliveryAvailable&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Delivery Fee"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),s.jsx(Se,{type:"number",placeholder:"50",value:b.deliveryFees,onChange:Z=>N({...b,deliveryFees:Z.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl pl-8"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",id:"driverAvailable",checked:b.driverAvailable,onChange:Z=>N({...b,driverAvailable:Z.target.checked}),className:"w-5 h-5 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500"}),s.jsx("label",{htmlFor:"driverAvailable",className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Driver Available"})]}),b.driverAvailable&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Driver Fee Per Day"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),s.jsx(Se,{type:"number",placeholder:"50",value:b.driverFees,onChange:Z=>N({...b,driverFees:Z.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl pl-8"})]})]})]})]})}),s.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:s.jsxs(qe,{className:"p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-cyan-600 to-blue-500 flex items-center justify-center",children:s.jsx(Zc,{className:"w-6 h-6 text-white"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Car Images"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:["main","front","back","left","right"].map(Z=>s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:Z==="main"?"Main Image *":`${Z.charAt(0).toUpperCase()+Z.slice(1)} Image`}),s.jsx("div",{className:"relative",onDragOver:ee=>q(ee,Z),onDragLeave:ee=>F(ee,Z),onDrop:ee=>Y(ee,Z),children:C[Z]?s.jsxs("div",{className:`relative aspect-square rounded-xl overflow-hidden border-2 bg-gray-100 dark:bg-gray-800 select-none ${T===Z?"border-teal-500 ring-2 ring-teal-500/30":"border-gray-300"}`,onClick:ee=>ee.preventDefault(),role:"presentation",children:[s.jsx("img",{src:C[Z],alt:"",className:"w-full h-full object-cover pointer-events-none",draggable:!1}),T===Z&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-teal-500/20 pointer-events-none",children:s.jsx("span",{className:"text-sm font-semibold text-teal-700 dark:text-teal-200",children:"Drop to replace"})}),s.jsx("button",{type:"button",onClick:ee=>{ee.preventDefault(),ee.stopPropagation(),O(Z)},className:"absolute top-2 right-2 bg-red-500 text-white p-1.5 rounded-full hover:bg-red-600 z-10",children:s.jsx(gr,{className:"w-4 h-4"})})]}):s.jsxs("label",{className:"block cursor-pointer",children:[s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:ee=>{const J=ee.target.files?.[0];J&&U(Z,J),ee.target.value=""}}),s.jsxs("div",{className:`aspect-square border-2 border-dashed rounded-xl flex flex-col items-center justify-center transition bg-gray-50 dark:bg-gray-800/50 ${T===Z?"border-teal-500 bg-teal-50/50 dark:bg-teal-950/30":"hover:border-teal-500"}`,children:[s.jsx(YE,{className:"w-10 h-10 text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-500 mt-2",children:"Click or drag & drop"})]})]})})]},Z))})]})}),s.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:s.jsxs(qe,{className:"p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-teal-600 to-cyan-600 flex items-center justify-center",children:s.jsx(Ps,{className:"w-6 h-6 text-white"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Location Information"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["liveLocation","deliveryLocation","returnLocation"].map(Z=>{const ee=Z==="liveLocation"?"Live Location":Z==="deliveryLocation"?"Delivery Location":"Return Location",J=b[Z],ke=J.latitude&&J.longitude&&J.latitude!==0&&J.longitude!==0;return s.jsxs("div",{className:"p-5 border-2 rounded-lg bg-gray-50 dark:bg-gray-800",children:[s.jsx("h4",{className:"font-semibold mb-4 text-lg",children:ee}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Address (region)"}),s.jsxs("select",{value:J.address||"",onChange:L=>z(Z,L.target.value),className:"w-full h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl px-4 bg-white dark:bg-gray-900",children:[s.jsx("option",{value:"",children:"Select region..."}),Aie.map(L=>s.jsx("option",{value:L,children:L},L))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Paste Google Maps link (to set coordinates)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Se,{placeholder:"e.g. https://www.google.com/maps/@33.8938,35.5018,17z",value:w[Z]||"",onChange:L=>_(Te=>({...Te,[Z]:L.target.value})),onBlur:L=>{const Te=L.target.value?.trim();Te&&he(Z,Te)},className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl flex-1"}),s.jsx(pe,{type:"button",variant:"outline",onClick:()=>{const L=w[Z];L?.trim()&&he(Z,L)},className:"h-12 shrink-0",children:"Apply"})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Paste a link with coordinates to fill the pin location if missing."})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(pe,{type:"button",variant:"outline",className:"flex-1 min-w-[140px]",onClick:()=>se(Z),children:[s.jsx(nM,{className:"w-4 h-4 mr-2"}),"Use Current Location"]}),s.jsxs(pe,{type:"button",variant:"outline",className:"flex-1 min-w-[140px]",onClick:()=>X(Z),children:[s.jsx(Ps,{className:"w-4 h-4 mr-2"}),"Select on Map"]}),s.jsxs(pe,{type:"button",variant:"outline",className:"flex-1 min-w-[140px]",onClick:()=>le(Z),children:[s.jsx(Pi,{className:"w-4 h-4 mr-2"}),"Office location"]})]}),ke?s.jsx("div",{className:"p-4 bg-primary/10 border-2 border-primary/20 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center flex-shrink-0",children:s.jsx(Ps,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold text-sm mb-1",children:"Location Selected"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Latitude: ",J.latitude]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Longitude: ",J.longitude]})]})]})}):s.jsxs("div",{className:"p-4 bg-muted/30 border-2 border-dashed rounded-lg text-center",children:[s.jsx(Ps,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No location selected yet"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Click one of the buttons above to set location"})]})]})]},Z)})})]})}),s.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:s.jsxs(qe,{className:"p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-teal-500 to-cyan-500 flex items-center justify-center",children:s.jsx(Io,{className:"w-6 h-6 text-white"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Additional Information"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Notes"}),s.jsx("textarea",{placeholder:"Any additional information about the vehicle...",value:b.notes,onChange:Z=>N({...b,notes:Z.target.value}),rows:5,className:"w-full border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl p-4 bg-white dark:bg-gray-900 resize-none"})]})]})}),s.jsxs("div",{className:"flex gap-4 justify-end",children:[s.jsx(pe,{type:"button",variant:"outline",size:"lg",className:"px-8 py-6 rounded-xl border-2 border-gray-300 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-800",onClick:()=>t(-1),children:"Cancel"}),s.jsxs(pe,{type:"submit",size:"lg",disabled:e||!k.main,className:"px-8 py-6 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-bold rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[s.jsx(YE,{className:"w-5 h-5 mr-2"}),e?"Creating Car...":"Create Car Listing"]})]})]})]})]}),s.jsx(Kr,{open:i,onOpenChange:Z=>{o(Z),Z||g("")},children:s.jsxs(Br,{className:"max-w-4xl max-h-[90vh]",children:[s.jsxs(Ir,{children:[s.jsx(zr,{children:"Select Location"}),s.jsx(Vi,{children:"Search or click on the map, or use your office location. Drag the marker to adjust."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs("div",{className:"flex flex-1 min-w-[200px] rounded-lg overflow-hidden border-2 border-gray-200 dark:border-gray-700",children:[s.jsx(Se,{placeholder:"Search address or place...",value:f,onChange:Z=>g(Z.target.value),onKeyDown:Z=>{Z.key==="Enter"&&(Z.preventDefault(),V())},className:"rounded-r-none border-0 h-11 focus-visible:ring-0"}),s.jsx(pe,{type:"button",variant:"secondary",onClick:V,disabled:y,className:"rounded-l-none h-11 px-4",children:s.jsx(Fr,{className:"w-4 h-4"})})]}),s.jsxs(pe,{type:"button",variant:"outline",onClick:W,className:"h-11 shrink-0",children:[s.jsx(Pi,{className:"w-4 h-4 mr-2"}),"Office location"]})]}),s.jsx("div",{className:"w-full h-[500px] bg-muted rounded-lg overflow-hidden",children:h&&s.jsx(Tie,{center:h,selectedLocation:h,onLocationSelect:M})}),h&&s.jsx("div",{className:"p-3 bg-muted/50 rounded-md",children:s.jsxs("p",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:"Selected:"})," ",h.latitude,", ",h.longitude]})}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(pe,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),s.jsx(pe,{onClick:K,children:"Confirm Location"})]})]})]})})]})},w2=j.createContext({});function j2(t){const e=j.useRef(null);return e.current===null&&(e.current=t()),e.current}const _2=typeof window<"u",aL=_2?j.useLayoutEffect:j.useEffect,uy=j.createContext(null);function N2(t,e){t.indexOf(e)===-1&&t.push(e)}function S2(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const Ho=(t,e,r)=>r>e?e:r<t?t:r;let k2=()=>{};const qo={},iL=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function oL(t){return typeof t=="object"&&t!==null}const lL=t=>/^0[^.\s]+$/u.test(t);function C2(t){let e;return()=>(e===void 0&&(e=t()),e)}const $a=t=>t,Die=(t,e)=>r=>e(t(r)),Gm=(...t)=>t.reduce(Die),fm=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class A2{constructor(){this.subscriptions=[]}add(e){return N2(this.subscriptions,e),()=>S2(this.subscriptions,e)}notify(e,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,r,n);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Hi=t=>t*1e3,Ua=t=>t/1e3;function cL(t,e){return e?t*(1e3/e):0}const dL=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,Mie=1e-7,Pie=12;function Oie(t,e,r,n,a){let i,o,c=0;do o=e+(r-e)/2,i=dL(o,n,a)-t,i>0?r=o:e=o;while(Math.abs(i)>Mie&&++c<Pie);return o}function Ym(t,e,r,n){if(t===e&&r===n)return $a;const a=i=>Oie(i,0,1,t,r);return i=>i===0||i===1?i:dL(a(i),e,n)}const uL=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,hL=t=>e=>1-t(1-e),fL=Ym(.33,1.53,.69,.99),E2=hL(fL),mL=uL(E2),pL=t=>(t*=2)<1?.5*E2(t):.5*(2-Math.pow(2,-10*(t-1))),T2=t=>1-Math.sin(Math.acos(t)),gL=hL(T2),xL=uL(T2),Lie=Ym(.42,0,1,1),Fie=Ym(0,0,.58,1),yL=Ym(.42,0,.58,1),Bie=t=>Array.isArray(t)&&typeof t[0]!="number",bL=t=>Array.isArray(t)&&typeof t[0]=="number",Iie={linear:$a,easeIn:Lie,easeInOut:yL,easeOut:Fie,circIn:T2,circInOut:xL,circOut:gL,backIn:E2,backInOut:mL,backOut:fL,anticipate:pL},zie=t=>typeof t=="string",J5=t=>{if(bL(t)){k2(t.length===4);const[e,r,n,a]=t;return Ym(e,r,n,a)}else if(zie(t))return Iie[t];return t},$g=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Uie(t,e){let r=new Set,n=new Set,a=!1,i=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(m){o.has(m)&&(h.schedule(m),t()),m(c)}const h={schedule:(m,f=!1,g=!1)=>{const v=g&&a?r:n;return f&&o.add(m),v.has(m)||v.add(m),m},cancel:m=>{n.delete(m),o.delete(m)},process:m=>{if(c=m,a){i=!0;return}a=!0,[r,n]=[n,r],r.forEach(d),r.clear(),a=!1,i&&(i=!1,h.process(m))}};return h}const $ie=40;function vL(t,e){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=$g.reduce((k,S)=>(k[S]=Uie(i),k),{}),{setup:c,read:d,resolveKeyframes:h,preUpdate:m,update:f,preRender:g,render:y,postRender:v}=o,w=()=>{const k=qo.useManualTiming?a.timestamp:performance.now();r=!1,qo.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(k-a.timestamp,$ie),1)),a.timestamp=k,a.isProcessing=!0,c.process(a),d.process(a),h.process(a),m.process(a),f.process(a),g.process(a),y.process(a),v.process(a),a.isProcessing=!1,r&&e&&(n=!1,t(w))},_=()=>{r=!0,n=!0,a.isProcessing||t(w)};return{schedule:$g.reduce((k,S)=>{const C=o[S];return k[S]=(I,E=!1,U=!1)=>(r||_(),C.schedule(I,E,U)),k},{}),cancel:k=>{for(let S=0;S<$g.length;S++)o[$g[S]].cancel(k)},state:a,steps:o}}const{schedule:nr,cancel:ec,state:ln,steps:t1}=vL(typeof requestAnimationFrame<"u"?requestAnimationFrame:$a,!0);let jx;function Vie(){jx=void 0}const Gn={now:()=>(jx===void 0&&Gn.set(ln.isProcessing||qo.useManualTiming?ln.timestamp:performance.now()),jx),set:t=>{jx=t,queueMicrotask(Vie)}},wL=t=>e=>typeof e=="string"&&e.startsWith(t),jL=wL("--"),Hie=wL("var(--"),R2=t=>Hie(t)?qie.test(t.split("/*")[0].trim()):!1,qie=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,bh={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},mm={...bh,transform:t=>Ho(0,1,t)},Vg={...bh,default:1},Zf=t=>Math.round(t*1e5)/1e5,D2=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Wie(t){return t==null}const Gie=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,M2=(t,e)=>r=>!!(typeof r=="string"&&Gie.test(r)&&r.startsWith(t)||e&&!Wie(r)&&Object.prototype.hasOwnProperty.call(r,e)),_L=(t,e,r)=>n=>{if(typeof n!="string")return n;const[a,i,o,c]=n.match(D2);return{[t]:parseFloat(a),[e]:parseFloat(i),[r]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},Yie=t=>Ho(0,255,t),s1={...bh,transform:t=>Math.round(Yie(t))},ld={test:M2("rgb","red"),parse:_L("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+s1.transform(t)+", "+s1.transform(e)+", "+s1.transform(r)+", "+Zf(mm.transform(n))+")"};function Kie(t){let e="",r="",n="",a="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),a=t.substring(4,5),e+=e,r+=r,n+=n,a+=a),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const T_={test:M2("#"),parse:Kie,transform:ld.transform},Km=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Bl=Km("deg"),qi=Km("%"),zt=Km("px"),Xie=Km("vh"),Zie=Km("vw"),eR={...qi,parse:t=>qi.parse(t)/100,transform:t=>qi.transform(t*100)},Au={test:M2("hsl","hue"),parse:_L("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+qi.transform(Zf(e))+", "+qi.transform(Zf(r))+", "+Zf(mm.transform(n))+")"},Lr={test:t=>ld.test(t)||T_.test(t)||Au.test(t),parse:t=>ld.test(t)?ld.parse(t):Au.test(t)?Au.parse(t):T_.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?ld.transform(t):Au.transform(t),getAnimatableNone:t=>{const e=Lr.parse(t);return e.alpha=0,Lr.transform(e)}},Qie=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Jie(t){return isNaN(t)&&typeof t=="string"&&(t.match(D2)?.length||0)+(t.match(Qie)?.length||0)>0}const NL="number",SL="color",eoe="var",toe="var(",tR="${}",soe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function pm(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const c=e.replace(soe,d=>(Lr.test(d)?(n.color.push(i),a.push(SL),r.push(Lr.parse(d))):d.startsWith(toe)?(n.var.push(i),a.push(eoe),r.push(d)):(n.number.push(i),a.push(NL),r.push(parseFloat(d))),++i,tR)).split(tR);return{values:r,split:c,indexes:n,types:a}}function kL(t){return pm(t).values}function CL(t){const{split:e,types:r}=pm(t),n=e.length;return a=>{let i="";for(let o=0;o<n;o++)if(i+=e[o],a[o]!==void 0){const c=r[o];c===NL?i+=Zf(a[o]):c===SL?i+=Lr.transform(a[o]):i+=a[o]}return i}}const roe=t=>typeof t=="number"?0:Lr.test(t)?Lr.getAnimatableNone(t):t;function noe(t){const e=kL(t);return CL(t)(e.map(roe))}const tc={test:Jie,parse:kL,createTransformer:CL,getAnimatableNone:noe};function r1(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function aoe({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let a=0,i=0,o=0;if(!e)a=i=o=r;else{const c=r<.5?r*(1+e):r+e-r*e,d=2*r-c;a=r1(d,c,t+1/3),i=r1(d,c,t),o=r1(d,c,t-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function n0(t,e){return r=>r>0?e:t}const dr=(t,e,r)=>t+(e-t)*r,n1=(t,e,r)=>{const n=t*t,a=r*(e*e-n)+n;return a<0?0:Math.sqrt(a)},ioe=[T_,ld,Au],ooe=t=>ioe.find(e=>e.test(t));function sR(t){const e=ooe(t);if(!e)return!1;let r=e.parse(t);return e===Au&&(r=aoe(r)),r}const rR=(t,e)=>{const r=sR(t),n=sR(e);if(!r||!n)return n0(t,e);const a={...r};return i=>(a.red=n1(r.red,n.red,i),a.green=n1(r.green,n.green,i),a.blue=n1(r.blue,n.blue,i),a.alpha=dr(r.alpha,n.alpha,i),ld.transform(a))},R_=new Set(["none","hidden"]);function loe(t,e){return R_.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function coe(t,e){return r=>dr(t,e,r)}function P2(t){return typeof t=="number"?coe:typeof t=="string"?R2(t)?n0:Lr.test(t)?rR:hoe:Array.isArray(t)?AL:typeof t=="object"?Lr.test(t)?rR:doe:n0}function AL(t,e){const r=[...t],n=r.length,a=t.map((i,o)=>P2(i)(i,e[o]));return i=>{for(let o=0;o<n;o++)r[o]=a[o](i);return r}}function doe(t,e){const r={...t,...e},n={};for(const a in r)t[a]!==void 0&&e[a]!==void 0&&(n[a]=P2(t[a])(t[a],e[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function uoe(t,e){const r=[],n={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const i=e.types[a],o=t.indexes[i][n[i]],c=t.values[o]??0;r[a]=c,n[i]++}return r}const hoe=(t,e)=>{const r=tc.createTransformer(e),n=pm(t),a=pm(e);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?R_.has(t)&&!a.values.length||R_.has(e)&&!n.values.length?loe(t,e):Gm(AL(uoe(n,a),a.values),r):n0(t,e)};function EL(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?dr(t,e,r):P2(t)(t,e)}const foe=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>nr.update(e,r),stop:()=>ec(e),now:()=>ln.isProcessing?ln.timestamp:Gn.now()}},TL=(t,e,r=10)=>{let n="";const a=Math.max(Math.round(e/r),2);for(let i=0;i<a;i++)n+=Math.round(t(i/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},a0=2e4;function O2(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<a0;)e+=r,n=t.next(e);return e>=a0?1/0:e}function moe(t,e=100,r){const n=r({...t,keyframes:[0,e]}),a=Math.min(O2(n),a0);return{type:"keyframes",ease:i=>n.next(a*i).value/e,duration:Ua(a)}}const poe=5;function RL(t,e,r){const n=Math.max(e-poe,0);return cL(r-t(n),e-n)}const xr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},a1=.001;function goe({duration:t=xr.duration,bounce:e=xr.bounce,velocity:r=xr.velocity,mass:n=xr.mass}){let a,i,o=1-e;o=Ho(xr.minDamping,xr.maxDamping,o),t=Ho(xr.minDuration,xr.maxDuration,Ua(t)),o<1?(a=h=>{const m=h*o,f=m*t,g=m-r,y=D_(h,o),v=Math.exp(-f);return a1-g/y*v},i=h=>{const f=h*o*t,g=f*r+r,y=Math.pow(o,2)*Math.pow(h,2)*t,v=Math.exp(-f),w=D_(Math.pow(h,2),o);return(-a(h)+a1>0?-1:1)*((g-y)*v)/w}):(a=h=>{const m=Math.exp(-h*t),f=(h-r)*t+1;return-a1+m*f},i=h=>{const m=Math.exp(-h*t),f=(r-h)*(t*t);return m*f});const c=5/t,d=yoe(a,i,c);if(t=Hi(t),isNaN(d))return{stiffness:xr.stiffness,damping:xr.damping,duration:t};{const h=Math.pow(d,2)*n;return{stiffness:h,damping:o*2*Math.sqrt(n*h),duration:t}}}const xoe=12;function yoe(t,e,r){let n=r;for(let a=1;a<xoe;a++)n=n-t(n)/e(n);return n}function D_(t,e){return t*Math.sqrt(1-e*e)}const boe=["duration","bounce"],voe=["stiffness","damping","mass"];function nR(t,e){return e.some(r=>t[r]!==void 0)}function woe(t){let e={velocity:xr.velocity,stiffness:xr.stiffness,damping:xr.damping,mass:xr.mass,isResolvedFromDuration:!1,...t};if(!nR(t,voe)&&nR(t,boe))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*Ho(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:xr.mass,stiffness:a,damping:i}}else{const r=goe(t);e={...e,...r,mass:xr.mass},e.isResolvedFromDuration=!0}return e}function i0(t=xr.visualDuration,e=xr.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],c={done:!1,value:i},{stiffness:d,damping:h,mass:m,duration:f,velocity:g,isResolvedFromDuration:y}=woe({...r,velocity:-Ua(r.velocity||0)}),v=g||0,w=h/(2*Math.sqrt(d*m)),_=o-i,b=Ua(Math.sqrt(d/m)),N=Math.abs(_)<5;n||(n=N?xr.restSpeed.granular:xr.restSpeed.default),a||(a=N?xr.restDelta.granular:xr.restDelta.default);let k;if(w<1){const C=D_(b,w);k=I=>{const E=Math.exp(-w*b*I);return o-E*((v+w*b*_)/C*Math.sin(C*I)+_*Math.cos(C*I))}}else if(w===1)k=C=>o-Math.exp(-b*C)*(_+(v+b*_)*C);else{const C=b*Math.sqrt(w*w-1);k=I=>{const E=Math.exp(-w*b*I),U=Math.min(C*I,300);return o-E*((v+w*b*_)*Math.sinh(U)+C*_*Math.cosh(U))/C}}const S={calculatedDuration:y&&f||null,next:C=>{const I=k(C);if(y)c.done=C>=f;else{let E=C===0?v:0;w<1&&(E=C===0?Hi(v):RL(k,C,I));const U=Math.abs(E)<=n,T=Math.abs(o-I)<=a;c.done=U&&T}return c.value=c.done?o:I,c},toString:()=>{const C=Math.min(O2(S),a0),I=TL(E=>S.next(C*E).value,C,30);return C+"ms "+I},toTransition:()=>{}};return S}i0.applyToOptions=t=>{const e=moe(t,100,i0);return t.ease=e.ease,t.duration=Hi(e.duration),t.type="keyframes",t};function M_({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:c,max:d,restDelta:h=.5,restSpeed:m}){const f=t[0],g={done:!1,value:f},y=U=>c!==void 0&&U<c||d!==void 0&&U>d,v=U=>c===void 0?d:d===void 0||Math.abs(c-U)<Math.abs(d-U)?c:d;let w=r*e;const _=f+w,b=o===void 0?_:o(_);b!==_&&(w=b-f);const N=U=>-w*Math.exp(-U/n),k=U=>b+N(U),S=U=>{const T=N(U),ne=k(U);g.done=Math.abs(T)<=h,g.value=g.done?b:ne};let C,I;const E=U=>{y(g.value)&&(C=U,I=i0({keyframes:[g.value,v(g.value)],velocity:RL(k,U,g.value),damping:a,stiffness:i,restDelta:h,restSpeed:m}))};return E(0),{calculatedDuration:null,next:U=>{let T=!1;return!I&&C===void 0&&(T=!0,S(U),E(U)),C!==void 0&&U>=C?I.next(U-C):(!T&&S(U),g)}}}function joe(t,e,r){const n=[],a=r||qo.mix||EL,i=t.length-1;for(let o=0;o<i;o++){let c=a(t[o],t[o+1]);if(e){const d=Array.isArray(e)?e[o]||$a:e;c=Gm(d,c)}n.push(c)}return n}function _oe(t,e,{clamp:r=!0,ease:n,mixer:a}={}){const i=t.length;if(k2(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=joe(e,n,a),d=c.length,h=m=>{if(o&&m<t[0])return e[0];let f=0;if(d>1)for(;f<t.length-2&&!(m<t[f+1]);f++);const g=fm(t[f],t[f+1],m);return c[f](g)};return r?m=>h(Ho(t[0],t[i-1],m)):h}function Noe(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const a=fm(0,e,n);t.push(dr(r,1,a))}}function Soe(t){const e=[0];return Noe(e,t.length-1),e}function koe(t,e){return t.map(r=>r*e)}function Coe(t,e){return t.map(()=>e||yL).splice(0,t.length-1)}function Qf({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const a=Bie(n)?n.map(J5):J5(n),i={done:!1,value:e[0]},o=koe(r&&r.length===e.length?r:Soe(e),t),c=_oe(o,e,{ease:Array.isArray(a)?a:Coe(e,a)});return{calculatedDuration:t,next:d=>(i.value=c(d),i.done=d>=t,i)}}const Aoe=t=>t!==null;function L2(t,{repeat:e,repeatType:r="loop"},n,a=1){const i=t.filter(Aoe),c=a<0||e&&r!=="loop"&&e%2===1?0:i.length-1;return!c||n===void 0?i[c]:n}const Eoe={decay:M_,inertia:M_,tween:Qf,keyframes:Qf,spring:i0};function DL(t){typeof t.type=="string"&&(t.type=Eoe[t.type])}class F2{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const Toe=t=>t/100;class B2 extends F2{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==Gn.now()&&this.tick(Gn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;DL(e);const{type:r=Qf,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=e;let{keyframes:c}=e;const d=r||Qf;d!==Qf&&typeof c[0]!="number"&&(this.mixKeyframes=Gm(Toe,EL(c[0],c[1])),c=[0,100]);const h=d({...e,keyframes:c});i==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...c].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=O2(h));const{calculatedDuration:m}=h;this.calculatedDuration=m,this.resolvedDuration=m+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=h}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return n.next(0);const{delay:h=0,keyframes:m,repeat:f,repeatType:g,repeatDelay:y,type:v,onUpdate:w,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const b=this.currentTime-h*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?b<0:b>a;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let k=this.currentTime,S=n;if(f){const U=Math.min(this.currentTime,a)/c;let T=Math.floor(U),ne=U%1;!ne&&U>=1&&(ne=1),ne===1&&T--,T=Math.min(T,f+1),!!(T%2)&&(g==="reverse"?(ne=1-ne,y&&(ne-=y/c)):g==="mirror"&&(S=o)),k=Ho(0,1,ne)*c}const C=N?{done:!1,value:m[0]}:S.next(k);i&&(C.value=i(C.value));let{done:I}=C;!N&&d!==null&&(I=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&I);return E&&v!==M_&&(C.value=L2(m,this.options,_,this.speed)),w&&w(C.value),E&&this.finish(),C}then(e,r){return this.finished.then(e,r)}get duration(){return Ua(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ua(e)}get time(){return Ua(this.currentTime)}set time(e){e=Hi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Gn.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Ua(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=foe,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Gn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function Roe(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const cd=t=>t*180/Math.PI,P_=t=>{const e=cd(Math.atan2(t[1],t[0]));return O_(e)},Doe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:P_,rotateZ:P_,skewX:t=>cd(Math.atan(t[1])),skewY:t=>cd(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},O_=t=>(t=t%360,t<0&&(t+=360),t),aR=P_,iR=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),oR=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Moe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:iR,scaleY:oR,scale:t=>(iR(t)+oR(t))/2,rotateX:t=>O_(cd(Math.atan2(t[6],t[5]))),rotateY:t=>O_(cd(Math.atan2(-t[2],t[0]))),rotateZ:aR,rotate:aR,skewX:t=>cd(Math.atan(t[4])),skewY:t=>cd(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function L_(t){return t.includes("scale")?1:0}function F_(t,e){if(!t||t==="none")return L_(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=Moe,a=r;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Doe,a=c}if(!a)return L_(e);const i=n[e],o=a[1].split(",").map(Ooe);return typeof i=="function"?i(o):o[i]}const Poe=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return F_(r,e)};function Ooe(t){return parseFloat(t.trim())}const vh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],wh=new Set(vh),lR=t=>t===bh||t===zt,Loe=new Set(["x","y","z"]),Foe=vh.filter(t=>!Loe.has(t));function Boe(t){const e=[];return Foe.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const hd={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>F_(e,"x"),y:(t,{transform:e})=>F_(e,"y")};hd.translateX=hd.x;hd.translateY=hd.y;const fd=new Set;let B_=!1,I_=!1,z_=!1;function ML(){if(I_){const t=Array.from(fd).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const a=Boe(n);a.length&&(r.set(n,a),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,o])=>{n.getValue(i)?.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}I_=!1,B_=!1,fd.forEach(t=>t.complete(z_)),fd.clear()}function PL(){fd.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(I_=!0)})}function Ioe(){z_=!0,PL(),ML(),z_=!1}class I2{constructor(e,r,n,a,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(fd.add(this),B_||(B_=!0,nr.read(PL),nr.resolveKeyframes(ML))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:a}=this;if(e[0]===null){const i=a?.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(n&&r){const c=n.readValue(r,o);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=o),a&&i===void 0&&a.set(e[0])}Roe(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),fd.delete(this)}cancel(){this.state==="scheduled"&&(fd.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const zoe=t=>t.startsWith("--");function Uoe(t,e,r){zoe(e)?t.style.setProperty(e,r):t.style[e]=r}const $oe=C2(()=>window.ScrollTimeline!==void 0),Voe={};function Hoe(t,e){const r=C2(t);return()=>Voe[e]??r()}const OL=Hoe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Uf=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,cR={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Uf([0,.65,.55,1]),circOut:Uf([.55,0,1,.45]),backIn:Uf([.31,.01,.66,-.59]),backOut:Uf([.33,1.53,.69,.99])};function LL(t,e){if(t)return typeof t=="function"?OL()?TL(t,e):"ease-out":bL(t)?Uf(t):Array.isArray(t)?t.map(r=>LL(r,e)||cR.easeOut):cR[t]}function qoe(t,e,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:c="easeOut",times:d}={},h=void 0){const m={[e]:r};d&&(m.offset=d);const f=LL(c,a);Array.isArray(f)&&(m.easing=f);const g={delay:n,duration:a,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return h&&(g.pseudoElement=h),t.animate(m,g)}function FL(t){return typeof t=="function"&&"applyToOptions"in t}function Woe({type:t,...e}){return FL(t)&&OL()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Goe extends F2{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:a,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:c,onComplete:d}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,k2(typeof e.type!="string");const h=Woe(e);this.animation=qoe(r,n,a,h,i),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const m=L2(a,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(m):Uoe(r,n,m),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Ua(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ua(e)}get time(){return Ua(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Hi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&$oe()?(this.animation.timeline=e,$a):r(this)}}const BL={anticipate:pL,backInOut:mL,circInOut:xL};function Yoe(t){return t in BL}function Koe(t){typeof t.ease=="string"&&Yoe(t.ease)&&(t.ease=BL[t.ease])}const dR=10;class Xoe extends Goe{constructor(e){Koe(e),DL(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:a,element:i,...o}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const c=new B2({...o,autoplay:!1}),d=Hi(this.finishedTime??this.time);r.setWithVelocity(c.sample(d-dR).value,c.sample(d).value,dR),c.stop()}}const uR=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(tc.test(t)||t==="0")&&!t.startsWith("url("));function Zoe(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function Qoe(t,e,r,n){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=uR(a,e),c=uR(i,e);return!o||!c?!1:Zoe(t)||(r==="spring"||FL(r))&&n}function U_(t){t.duration=0,t.type="keyframes"}const Joe=new Set(["opacity","clipPath","filter","transform"]),ele=C2(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function tle(t){const{motionValue:e,name:r,repeatDelay:n,repeatType:a,damping:i,type:o}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:h}=e.owner.getProps();return ele()&&r&&Joe.has(r)&&(r!=="transform"||!h)&&!d&&!n&&a!=="mirror"&&i!==0&&o!=="inertia"}const sle=40;class rle extends F2{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:c,name:d,motionValue:h,element:m,...f}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Gn.now();const g={autoplay:e,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:o,name:d,motionValue:h,element:m,...f},y=m?.KeyframeResolver||I2;this.keyframeResolver=new y(c,(v,w,_)=>this.onKeyframesResolved(v,w,g,!_),d,h,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,r,n,a){this.keyframeResolver=void 0;const{name:i,type:o,velocity:c,delay:d,isHandoff:h,onUpdate:m}=n;this.resolvedAt=Gn.now(),Qoe(e,i,o,c)||((qo.instantAnimations||!d)&&m?.(L2(e,n,r)),e[0]=e[e.length-1],U_(n),n.repeat=0);const g={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>sle?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},y=!h&&tle(g)?new Xoe({...g,element:g.motionValue.owner.current}):new B2(g);y.finished.then(()=>this.notifyFinished()).catch($a),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),Ioe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const nle=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ale(t){const e=nle.exec(t);if(!e)return[,];const[,r,n,a]=e;return[`--${r??n}`,a]}function IL(t,e,r=1){const[n,a]=ale(t);if(!n)return;const i=window.getComputedStyle(e).getPropertyValue(n);if(i){const o=i.trim();return iL(o)?parseFloat(o):o}return R2(a)?IL(a,e,r+1):a}function z2(t,e){return t?.[e]??t?.default??t}const zL=new Set(["width","height","top","left","right","bottom",...vh]),ile={test:t=>t==="auto",parse:t=>t},UL=t=>e=>e.test(t),$L=[bh,zt,qi,Bl,Zie,Xie,ile],hR=t=>$L.find(UL(t));function ole(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||lL(t):!0}const lle=new Set(["brightness","contrast","saturate","opacity"]);function cle(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(D2)||[];if(!n)return t;const a=r.replace(n,"");let i=lle.has(e)?1:0;return n!==r&&(i*=100),e+"("+i+a+")"}const dle=/\b([a-z-]*)\(.*?\)/gu,$_={...tc,getAnimatableNone:t=>{const e=t.match(dle);return e?e.map(cle).join(" "):t}},fR={...bh,transform:Math.round},ule={rotate:Bl,rotateX:Bl,rotateY:Bl,rotateZ:Bl,scale:Vg,scaleX:Vg,scaleY:Vg,scaleZ:Vg,skew:Bl,skewX:Bl,skewY:Bl,distance:zt,translateX:zt,translateY:zt,translateZ:zt,x:zt,y:zt,z:zt,perspective:zt,transformPerspective:zt,opacity:mm,originX:eR,originY:eR,originZ:zt},U2={borderWidth:zt,borderTopWidth:zt,borderRightWidth:zt,borderBottomWidth:zt,borderLeftWidth:zt,borderRadius:zt,radius:zt,borderTopLeftRadius:zt,borderTopRightRadius:zt,borderBottomRightRadius:zt,borderBottomLeftRadius:zt,width:zt,maxWidth:zt,height:zt,maxHeight:zt,top:zt,right:zt,bottom:zt,left:zt,padding:zt,paddingTop:zt,paddingRight:zt,paddingBottom:zt,paddingLeft:zt,margin:zt,marginTop:zt,marginRight:zt,marginBottom:zt,marginLeft:zt,backgroundPositionX:zt,backgroundPositionY:zt,...ule,zIndex:fR,fillOpacity:mm,strokeOpacity:mm,numOctaves:fR},hle={...U2,color:Lr,backgroundColor:Lr,outlineColor:Lr,fill:Lr,stroke:Lr,borderColor:Lr,borderTopColor:Lr,borderRightColor:Lr,borderBottomColor:Lr,borderLeftColor:Lr,filter:$_,WebkitFilter:$_},VL=t=>hle[t];function HL(t,e){let r=VL(t);return r!==$_&&(r=tc),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const fle=new Set(["auto","none","0"]);function mle(t,e,r){let n=0,a;for(;n<t.length&&!a;){const i=t[n];typeof i=="string"&&!fle.has(i)&&pm(i).values.length&&(a=t[n]),n++}if(a&&r)for(const i of e)t[i]=HL(r,a)}class ple extends I2{constructor(e,r,n,a,i){super(e,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let h=e[d];if(typeof h=="string"&&(h=h.trim(),R2(h))){const m=IL(h,r.current);m!==void 0&&(e[d]=m),d===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!zL.has(n)||e.length!==2)return;const[a,i]=e,o=hR(a),c=hR(i);if(o!==c)if(lR(o)&&lR(c))for(let d=0;d<e.length;d++){const h=e[d];typeof h=="string"&&(e[d]=parseFloat(h))}else hd[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let a=0;a<e.length;a++)(e[a]===null||ole(e[a]))&&n.push(a);n.length&&mle(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=hd[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&e.getValue(n,a).jump(a,!1)}measureEndState(){const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const a=e.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,o=n[i];n[i]=hd[r](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function gle(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const a=r?.[t]??n.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const qL=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function WL(t){return oL(t)&&"offsetHeight"in t}const mR=30,xle=t=>!isNaN(parseFloat(t));class yle{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const a=Gn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Gn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=xle(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new A2);const n=this.events[e].add(r);return e==="change"?()=>{n(),nr.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Gn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>mR)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,mR);return cL(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Qu(t,e){return new yle(t,e)}const{schedule:$2}=vL(queueMicrotask,!1),ni={x:!1,y:!1};function GL(){return ni.x||ni.y}function ble(t){return t==="x"||t==="y"?ni[t]?null:(ni[t]=!0,()=>{ni[t]=!1}):ni.x||ni.y?null:(ni.x=ni.y=!0,()=>{ni.x=ni.y=!1})}function YL(t,e){const r=gle(t),n=new AbortController,a={passive:!0,...e,signal:n.signal};return[r,a,()=>n.abort()]}function pR(t){return!(t.pointerType==="touch"||GL())}function vle(t,e,r={}){const[n,a,i]=YL(t,r),o=c=>{if(!pR(c))return;const{target:d}=c,h=e(d,c);if(typeof h!="function"||!d)return;const m=f=>{pR(f)&&(h(f),d.removeEventListener("pointerleave",m))};d.addEventListener("pointerleave",m,a)};return n.forEach(c=>{c.addEventListener("pointerenter",o,a)}),i}const KL=(t,e)=>e?t===e?!0:KL(t,e.parentElement):!1,V2=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,wle=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function jle(t){return wle.has(t.tagName)||t.tabIndex!==-1}const _x=new WeakSet;function gR(t){return e=>{e.key==="Enter"&&t(e)}}function i1(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const _le=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=gR(()=>{if(_x.has(r))return;i1(r,"down");const a=gR(()=>{i1(r,"up")}),i=()=>i1(r,"cancel");r.addEventListener("keyup",a,e),r.addEventListener("blur",i,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function xR(t){return V2(t)&&!GL()}function Nle(t,e,r={}){const[n,a,i]=YL(t,r),o=c=>{const d=c.currentTarget;if(!xR(c))return;_x.add(d);const h=e(d,c),m=(y,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",g),_x.has(d)&&_x.delete(d),xR(y)&&typeof h=="function"&&h(y,{success:v})},f=y=>{m(y,d===window||d===document||r.useGlobalTarget||KL(d,y.target))},g=y=>{m(y,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",g,a)};return n.forEach(c=>{(r.useGlobalTarget?window:c).addEventListener("pointerdown",o,a),WL(c)&&(c.addEventListener("focus",h=>_le(h,a)),!jle(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),i}function XL(t){return oL(t)&&"ownerSVGElement"in t}function Sle(t){return XL(t)&&t.tagName==="svg"}const gn=t=>!!(t&&t.getVelocity),kle=[...$L,Lr,tc],Cle=t=>kle.find(UL(t)),H2=j.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function yR(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Ale(...t){return e=>{let r=!1;const n=t.map(a=>{const i=yR(a,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():yR(t[a],null)}}}}function Ele(...t){return j.useCallback(Ale(...t),t)}class Tle extends j.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=WL(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Rle({children:t,isPresent:e,anchorX:r,root:n}){const a=j.useId(),i=j.useRef(null),o=j.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=j.useContext(H2),d=Ele(i,t?.ref);return j.useInsertionEffect(()=>{const{width:h,height:m,top:f,left:g,right:y}=o.current;if(e||!i.current||!h||!m)return;const v=r==="left"?`left: ${g}`:`right: ${y}`;i.current.dataset.motionPopId=a;const w=document.createElement("style");c&&(w.nonce=c);const _=n??document.head;return _.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${m}px !important;
            ${v}px !important;
            top: ${f}px !important;
          }
        `),()=>{_.contains(w)&&_.removeChild(w)}},[e]),s.jsx(Tle,{isPresent:e,childRef:i,sizeRef:o,children:j.cloneElement(t,{ref:d})})}const Dle=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:o,anchorX:c,root:d})=>{const h=j2(Mle),m=j.useId();let f=!0,g=j.useMemo(()=>(f=!1,{id:m,initial:e,isPresent:r,custom:a,onExitComplete:y=>{h.set(y,!0);for(const v of h.values())if(!v)return;n&&n()},register:y=>(h.set(y,!1),()=>h.delete(y))}),[r,h,n]);return i&&f&&(g={...g}),j.useMemo(()=>{h.forEach((y,v)=>h.set(v,!1))},[r]),j.useEffect(()=>{!r&&!h.size&&n&&n()},[r]),o==="popLayout"&&(t=s.jsx(Rle,{isPresent:r,anchorX:c,root:d,children:t})),s.jsx(uy.Provider,{value:g,children:t})};function Mle(){return new Map}function ZL(t=!0){const e=j.useContext(uy);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=e,i=j.useId();j.useEffect(()=>{if(t)return a(i)},[t]);const o=j.useCallback(()=>t&&n&&n(i),[i,n,t]);return!r&&n?[!1,o]:[!0]}const Hg=t=>t.key||"";function bR(t){const e=[];return j.Children.forEach(t,r=>{j.isValidElement(r)&&e.push(r)}),e}const Wo=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:o=!1,anchorX:c="left",root:d})=>{const[h,m]=ZL(o),f=j.useMemo(()=>bR(t),[t]),g=o&&!h?[]:f.map(Hg),y=j.useRef(!0),v=j.useRef(f),w=j2(()=>new Map),[_,b]=j.useState(f),[N,k]=j.useState(f);aL(()=>{y.current=!1,v.current=f;for(let I=0;I<N.length;I++){const E=Hg(N[I]);g.includes(E)?w.delete(E):w.get(E)!==!0&&w.set(E,!1)}},[N,g.length,g.join("-")]);const S=[];if(f!==_){let I=[...f];for(let E=0;E<N.length;E++){const U=N[E],T=Hg(U);g.includes(T)||(I.splice(E,0,U),S.push(U))}return i==="wait"&&S.length&&(I=S),k(bR(I)),b(f),null}const{forceRender:C}=j.useContext(w2);return s.jsx(s.Fragment,{children:N.map(I=>{const E=Hg(I),U=o&&!h?!1:f===N||g.includes(E),T=()=>{if(w.has(E))w.set(E,!0);else return;let ne=!0;w.forEach(q=>{q||(ne=!1)}),ne&&(C?.(),k(v.current),o&&m?.(),n&&n())};return s.jsx(Dle,{isPresent:U,initial:!y.current||r?void 0:!1,custom:e,presenceAffectsLayout:a,mode:i,root:d,onExitComplete:U?void 0:T,anchorX:c,children:I},E)})})},QL=j.createContext({strict:!1}),vR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Ju={};for(const t in vR)Ju[t]={isEnabled:e=>vR[t].some(r=>!!e[r])};function Ple(t){for(const e in t)Ju[e]={...Ju[e],...t[e]}}const Ole=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function o0(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Ole.has(t)}let JL=t=>!o0(t);function Lle(t){typeof t=="function"&&(JL=e=>e.startsWith("on")?!o0(e):t(e))}try{Lle(require("@emotion/is-prop-valid").default)}catch{}function Fle(t,e,r){const n={};for(const a in t)a==="values"&&typeof t.values=="object"||(JL(a)||r===!0&&o0(a)||!e&&!o0(a)||t.draggable&&a.startsWith("onDrag"))&&(n[a]=t[a]);return n}const hy=j.createContext({});function fy(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function gm(t){return typeof t=="string"||Array.isArray(t)}const q2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],W2=["initial",...q2];function my(t){return fy(t.animate)||W2.some(e=>gm(t[e]))}function eF(t){return!!(my(t)||t.variants)}function Ble(t,e){if(my(t)){const{initial:r,animate:n}=t;return{initial:r===!1||gm(r)?r:void 0,animate:gm(n)?n:void 0}}return t.inherit!==!1?e:{}}function Ile(t){const{initial:e,animate:r}=Ble(t,j.useContext(hy));return j.useMemo(()=>({initial:e,animate:r}),[wR(e),wR(r)])}function wR(t){return Array.isArray(t)?t.join(" "):t}function jR(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Rf={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(zt.test(t))t=parseFloat(t);else return t;const r=jR(t,e.target.x),n=jR(t,e.target.y);return`${r}% ${n}%`}},zle={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,a=tc.parse(t);if(a.length>5)return n;const i=tc.createTransformer(t),o=typeof a[0]!="number"?1:0,c=r.x.scale*e.x,d=r.y.scale*e.y;a[0+o]/=c,a[1+o]/=d;const h=dr(c,d,.5);return typeof a[2+o]=="number"&&(a[2+o]/=h),typeof a[3+o]=="number"&&(a[3+o]/=h),i(a)}},V_={borderRadius:{...Rf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Rf,borderTopRightRadius:Rf,borderBottomLeftRadius:Rf,borderBottomRightRadius:Rf,boxShadow:zle};function tF(t,{layout:e,layoutId:r}){return wh.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!V_[t]||t==="opacity")}const Ule={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},$le=vh.length;function Vle(t,e,r){let n="",a=!0;for(let i=0;i<$le;i++){const o=vh[i],c=t[o];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(o.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||r){const h=qL(c,U2[o]);if(!d){a=!1;const m=Ule[o]||o;n+=`${m}(${h}) `}r&&(e[o]=h)}}return n=n.trim(),r?n=r(e,a?"":n):a&&(n="none"),n}function G2(t,e,r){const{style:n,vars:a,transformOrigin:i}=t;let o=!1,c=!1;for(const d in e){const h=e[d];if(wh.has(d)){o=!0;continue}else if(jL(d)){a[d]=h;continue}else{const m=qL(h,U2[d]);d.startsWith("origin")?(c=!0,i[d]=m):n[d]=m}}if(e.transform||(o||r?n.transform=Vle(e,t.transform,r):n.transform&&(n.transform="none")),c){const{originX:d="50%",originY:h="50%",originZ:m=0}=i;n.transformOrigin=`${d} ${h} ${m}`}}const Y2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function sF(t,e,r){for(const n in e)!gn(e[n])&&!tF(n,r)&&(t[n]=e[n])}function Hle({transformTemplate:t},e){return j.useMemo(()=>{const r=Y2();return G2(r,e,t),Object.assign({},r.vars,r.style)},[e])}function qle(t,e){const r=t.style||{},n={};return sF(n,r,t),Object.assign(n,Hle(t,e)),n}function Wle(t,e){const r={},n=qle(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const Gle={offset:"stroke-dashoffset",array:"stroke-dasharray"},Yle={offset:"strokeDashoffset",array:"strokeDasharray"};function Kle(t,e,r=1,n=0,a=!0){t.pathLength=1;const i=a?Gle:Yle;t[i.offset]=zt.transform(-n);const o=zt.transform(e),c=zt.transform(r);t[i.array]=`${o} ${c}`}function rF(t,{attrX:e,attrY:r,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:o=0,...c},d,h,m){if(G2(t,c,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:g}=t;f.transform&&(g.transform=f.transform,delete f.transform),(g.transform||f.transformOrigin)&&(g.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),g.transform&&(g.transformBox=m?.transformBox??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),a!==void 0&&Kle(f,a,i,o,!1)}const nF=()=>({...Y2(),attrs:{}}),aF=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Xle(t,e,r,n){const a=j.useMemo(()=>{const i=nF();return rF(i,e,aF(n),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};sF(i,t.style,t),a.style={...i,...a.style}}return a}const Zle=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function K2(t){return typeof t!="string"||t.includes("-")?!1:!!(Zle.indexOf(t)>-1||/[A-Z]/u.test(t))}function Qle(t,e,r,{latestValues:n},a,i=!1){const c=(K2(t)?Xle:Wle)(e,n,a,t),d=Fle(e,typeof t=="string",i),h=t!==j.Fragment?{...d,...c,ref:r}:{},{children:m}=e,f=j.useMemo(()=>gn(m)?m.get():m,[m]);return j.createElement(t,{...h,children:f})}function _R(t){const e=[{},{}];return t?.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function X2(t,e,r,n){if(typeof e=="function"){const[a,i]=_R(n);e=e(r!==void 0?r:t.custom,a,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,i]=_R(n);e=e(r!==void 0?r:t.custom,a,i)}return e}function Nx(t){return gn(t)?t.get():t}function Jle({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,a){return{latestValues:ece(r,n,a,t),renderState:e()}}function ece(t,e,r,n){const a={},i=n(t,{});for(const g in i)a[g]=Nx(i[g]);let{initial:o,animate:c}=t;const d=my(t),h=eF(t);e&&h&&!d&&t.inherit!==!1&&(o===void 0&&(o=e.initial),c===void 0&&(c=e.animate));let m=r?r.initial===!1:!1;m=m||o===!1;const f=m?c:o;if(f&&typeof f!="boolean"&&!fy(f)){const g=Array.isArray(f)?f:[f];for(let y=0;y<g.length;y++){const v=X2(t,g[y]);if(v){const{transitionEnd:w,transition:_,...b}=v;for(const N in b){let k=b[N];if(Array.isArray(k)){const S=m?k.length-1:0;k=k[S]}k!==null&&(a[N]=k)}for(const N in w)a[N]=w[N]}}}return a}const iF=t=>(e,r)=>{const n=j.useContext(hy),a=j.useContext(uy),i=()=>Jle(t,e,n,a);return r?i():j2(i)};function Z2(t,e,r){const{style:n}=t,a={};for(const i in n)(gn(n[i])||e.style&&gn(e.style[i])||tF(i,t)||r?.getValue(i)?.liveStyle!==void 0)&&(a[i]=n[i]);return a}const tce=iF({scrapeMotionValuesFromProps:Z2,createRenderState:Y2});function oF(t,e,r){const n=Z2(t,e,r);for(const a in t)if(gn(t[a])||gn(e[a])){const i=vh.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=t[a]}return n}const sce=iF({scrapeMotionValuesFromProps:oF,createRenderState:nF}),rce=Symbol.for("motionComponentSymbol");function Eu(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function nce(t,e,r){return j.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):Eu(r)&&(r.current=n))},[e])}const Q2=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ace="framerAppearId",lF="data-"+Q2(ace),cF=j.createContext({});function ice(t,e,r,n,a){const{visualElement:i}=j.useContext(hy),o=j.useContext(QL),c=j.useContext(uy),d=j.useContext(H2).reducedMotion,h=j.useRef(null);n=n||o.renderer,!h.current&&n&&(h.current=n(t,{visualState:e,parent:i,props:r,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const m=h.current,f=j.useContext(cF);m&&!m.projection&&a&&(m.type==="html"||m.type==="svg")&&oce(h.current,r,a,f);const g=j.useRef(!1);j.useInsertionEffect(()=>{m&&g.current&&m.update(r,c)});const y=r[lF],v=j.useRef(!!y&&!window.MotionHandoffIsComplete?.(y)&&window.MotionHasOptimisedAnimation?.(y));return aL(()=>{m&&(g.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),v.current&&m.animationState&&m.animationState.animateChanges())}),j.useEffect(()=>{m&&(!v.current&&m.animationState&&m.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(y)}),v.current=!1),m.enteringChildren=void 0)}),m}function oce(t,e,r,n){const{layoutId:a,layout:i,drag:o,dragConstraints:c,layoutScroll:d,layoutRoot:h,layoutCrossfade:m}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:dF(t.parent)),t.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||c&&Eu(c),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:m,layoutScroll:d,layoutRoot:h})}function dF(t){if(t)return t.options.allowProjection!==!1?t.projection:dF(t.parent)}function o1(t,{forwardMotionProps:e=!1}={},r,n){r&&Ple(r);const a=K2(t)?sce:tce;function i(c,d){let h;const m={...j.useContext(H2),...c,layoutId:lce(c)},{isStatic:f}=m,g=Ile(c),y=a(c,f);if(!f&&_2){cce();const v=dce(m);h=v.MeasureLayout,g.visualElement=ice(t,y,m,n,v.ProjectionNode)}return s.jsxs(hy.Provider,{value:g,children:[h&&g.visualElement?s.jsx(h,{visualElement:g.visualElement,...m}):null,Qle(t,c,nce(y,g.visualElement,d),y,f,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=j.forwardRef(i);return o[rce]=t,o}function lce({layoutId:t}){const e=j.useContext(w2).id;return e&&t!==void 0?e+"-"+t:t}function cce(t,e){j.useContext(QL).strict}function dce(t){const{drag:e,layout:r}=Ju;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e?.isEnabled(t)||r?.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function uce(t,e){if(typeof Proxy>"u")return o1;const r=new Map,n=(i,o)=>o1(i,o,t,e),a=(i,o)=>n(i,o);return new Proxy(a,{get:(i,o)=>o==="create"?n:(r.has(o)||r.set(o,o1(o,void 0,t,e)),r.get(o))})}function uF({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function hce({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function fce(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function l1(t){return t===void 0||t===1}function H_({scale:t,scaleX:e,scaleY:r}){return!l1(t)||!l1(e)||!l1(r)}function Jc(t){return H_(t)||hF(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function hF(t){return NR(t.x)||NR(t.y)}function NR(t){return t&&t!=="0%"}function l0(t,e,r){const n=t-r,a=e*n;return r+a}function SR(t,e,r,n,a){return a!==void 0&&(t=l0(t,a,n)),l0(t,r,n)+e}function q_(t,e=0,r=1,n,a){t.min=SR(t.min,e,r,n,a),t.max=SR(t.max,e,r,n,a)}function fF(t,{x:e,y:r}){q_(t.x,e.translate,e.scale,e.originPoint),q_(t.y,r.translate,r.scale,r.originPoint)}const kR=.999999999999,CR=1.0000000000001;function mce(t,e,r,n=!1){const a=r.length;if(!a)return;e.x=e.y=1;let i,o;for(let c=0;c<a;c++){i=r[c],o=i.projectionDelta;const{visualElement:d}=i.options;d&&d.props.style&&d.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Ru(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,fF(t,o)),n&&Jc(i.latestValues)&&Ru(t,i.latestValues))}e.x<CR&&e.x>kR&&(e.x=1),e.y<CR&&e.y>kR&&(e.y=1)}function Tu(t,e){t.min=t.min+e,t.max=t.max+e}function AR(t,e,r,n,a=.5){const i=dr(t.min,t.max,a);q_(t,e,r,i,n)}function Ru(t,e){AR(t.x,e.x,e.scaleX,e.scale,e.originX),AR(t.y,e.y,e.scaleY,e.scale,e.originY)}function mF(t,e){return uF(fce(t.getBoundingClientRect(),e))}function pce(t,e,r){const n=mF(t,r),{scroll:a}=e;return a&&(Tu(n.x,a.offset.x),Tu(n.y,a.offset.y)),n}const ER=()=>({translate:0,scale:1,origin:0,originPoint:0}),Du=()=>({x:ER(),y:ER()}),TR=()=>({min:0,max:0}),Wr=()=>({x:TR(),y:TR()}),W_={current:null},pF={current:!1};function gce(){if(pF.current=!0,!!_2)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>W_.current=t.matches;t.addEventListener("change",e),e()}else W_.current=!1}const xce=new WeakMap;function yce(t,e,r){for(const n in e){const a=e[n],i=r[n];if(gn(a))t.addValue(n,a);else if(gn(i))t.addValue(n,Qu(a,{owner:t}));else if(i!==a)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=t.getStaticValue(n);t.addValue(n,Qu(o!==void 0?o:a,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const RR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class bce{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=I2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Gn.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,nr.render(this.render,!1,!0))};const{latestValues:d,renderState:h}=o;this.latestValues=d,this.baseTarget={...d},this.initialValues=r.initial?{...d}:{},this.renderState=h,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=c,this.blockInitialAnimation=!!i,this.isControllingVariants=my(r),this.isVariantNode=eF(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const g in f){const y=f[g];d[g]!==void 0&&gn(y)&&y.set(d[g])}}mount(e){this.current=e,xce.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),pF.current||gce(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:W_.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ec(this.notifyUpdate),ec(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=wh.has(e);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&nr.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{a(),i&&i(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Ju){const r=Ju[e];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[e]&&a&&n(this.props)&&(this.features[e]=new a(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Wr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<RR.length;n++){const a=RR[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=e[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=yce(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=Qu(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(iL(n)||lL(n))?n=parseFloat(n):!Cle(n)&&tc.test(r)&&(n=HL(e,r)),this.setBaseTarget(e,gn(n)?n.get():n)),gn(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const i=X2(this.props,r,this.presenceContext?.custom);i&&(n=i[e])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!gn(a)?a:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new A2),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){$2.render(this.render)}}class gF extends bce{constructor(){super(...arguments),this.KeyframeResolver=ple}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;gn(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function xF(t,{style:e,vars:r},n,a){const i=t.style;let o;for(o in e)i[o]=e[o];a?.applyProjectionStyles(i,n);for(o in r)i.setProperty(o,r[o])}function vce(t){return window.getComputedStyle(t)}class wce extends gF{constructor(){super(...arguments),this.type="html",this.renderInstance=xF}readValueFromInstance(e,r){if(wh.has(r))return this.projection?.isProjecting?L_(r):Poe(e,r);{const n=vce(e),a=(jL(r)?n.getPropertyValue(r):n[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:r}){return mF(e,r)}build(e,r,n){G2(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return Z2(e,r,n)}}const yF=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function jce(t,e,r,n){xF(t,e,void 0,n);for(const a in e.attrs)t.setAttribute(yF.has(a)?a:Q2(a),e.attrs[a])}class _ce extends gF{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Wr}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(wh.has(r)){const n=VL(r);return n&&n.default||0}return r=yF.has(r)?r:Q2(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return oF(e,r,n)}build(e,r,n){rF(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,a){jce(e,r,n,a)}mount(e){this.isSVGTag=aF(e.tagName),super.mount(e)}}const Nce=(t,e)=>K2(t)?new _ce(e):new wce(e,{allowProjection:t!==j.Fragment});function zu(t,e,r){const n=t.getProps();return X2(n,e,r!==void 0?r:n.custom,t)}const G_=t=>Array.isArray(t);function Sce(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Qu(r))}function kce(t){return G_(t)?t[t.length-1]||0:t}function Cce(t,e){const r=zu(t,e);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const o in i){const c=kce(i[o]);Sce(t,o,c)}}function Ace(t){return!!(gn(t)&&t.add)}function Y_(t,e){const r=t.getValue("willChange");if(Ace(r))return r.add(e);if(!r&&qo.WillChange){const n=new qo.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function bF(t){return t.props[lF]}const Ece=t=>t!==null;function Tce(t,{repeat:e,repeatType:r="loop"},n){const a=t.filter(Ece),i=e&&r!=="loop"&&e%2===1?0:a.length-1;return a[i]}const Rce={type:"spring",stiffness:500,damping:25,restSpeed:10},Dce=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Mce={type:"keyframes",duration:.8},Pce={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Oce=(t,{keyframes:e})=>e.length>2?Mce:wh.has(t)?t.startsWith("scale")?Dce(e[1]):Rce:Pce;function Lce({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:c,from:d,elapsed:h,...m}){return!!Object.keys(m).length}const J2=(t,e,r,n={},a,i)=>o=>{const c=z2(n,t)||{},d=c.delay||n.delay||0;let{elapsed:h=0}=n;h=h-Hi(d);const m={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-h,onUpdate:g=>{e.set(g),c.onUpdate&&c.onUpdate(g)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:i?void 0:a};Lce(c)||Object.assign(m,Oce(t,m)),m.duration&&(m.duration=Hi(m.duration)),m.repeatDelay&&(m.repeatDelay=Hi(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let f=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&(U_(m),m.delay===0&&(f=!0)),(qo.instantAnimations||qo.skipAnimations)&&(f=!0,U_(m),m.delay=0),m.allowFlatten=!c.type&&!c.ease,f&&!i&&e.get()!==void 0){const g=Tce(m.keyframes,c);if(g!==void 0){nr.update(()=>{m.onUpdate(g),m.onComplete()});return}}return c.isSync?new B2(m):new rle(m)};function Fce({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function vF(t,e,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...c}=e;n&&(i=n);const d=[],h=a&&t.animationState&&t.animationState.getState()[a];for(const m in c){const f=t.getValue(m,t.latestValues[m]??null),g=c[m];if(g===void 0||h&&Fce(h,m))continue;const y={delay:r,...z2(i||{},m)},v=f.get();if(v!==void 0&&!f.isAnimating&&!Array.isArray(g)&&g===v&&!y.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const b=bF(t);if(b){const N=window.MotionHandoffAnimation(b,m,nr);N!==null&&(y.startTime=N,w=!0)}}Y_(t,m),f.start(J2(m,f,g,t.shouldReduceMotion&&zL.has(m)?{type:!1}:y,t,w));const _=f.animation;_&&d.push(_)}return o&&Promise.all(d).then(()=>{nr.update(()=>{o&&Cce(t,o)})}),d}function wF(t,e,r,n=0,a=1){const i=Array.from(t).sort((h,m)=>h.sortNodePosition(m)).indexOf(e),o=t.size,c=(o-1)*n;return typeof r=="function"?r(i,o):a===1?i*n:c-i*n}function K_(t,e,r={}){const n=zu(t,e,r.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(vF(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:m,staggerDirection:f}=a;return Bce(t,e,d,h,m,f,r)}:()=>Promise.resolve(),{when:c}=a;if(c){const[d,h]=c==="beforeChildren"?[i,o]:[o,i];return d().then(()=>h())}else return Promise.all([i(),o(r.delay)])}function Bce(t,e,r=0,n=0,a=0,i=1,o){const c=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),c.push(K_(d,e,{...o,delay:r+(typeof n=="function"?0:n)+wF(t.variantChildren,d,n,a,i)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(c)}function Ice(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const a=e.map(i=>K_(t,i,r));n=Promise.all(a)}else if(typeof e=="string")n=K_(t,e,r);else{const a=typeof e=="function"?zu(t,e,r.custom):e;n=Promise.all(vF(t,a,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function jF(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const zce=W2.length;function _F(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?_F(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<zce;r++){const n=W2[r],a=t.props[n];(gm(a)||a===!1)&&(e[n]=a)}return e}const Uce=[...q2].reverse(),$ce=q2.length;function Vce(t){return e=>Promise.all(e.map(({animation:r,options:n})=>Ice(t,r,n)))}function Hce(t){let e=Vce(t),r=DR(),n=!0;const a=d=>(h,m)=>{const f=zu(t,m,d==="exit"?t.presenceContext?.custom:void 0);if(f){const{transition:g,transitionEnd:y,...v}=f;h={...h,...v,...y}}return h};function i(d){e=d(t)}function o(d){const{props:h}=t,m=_F(t.parent)||{},f=[],g=new Set;let y={},v=1/0;for(let _=0;_<$ce;_++){const b=Uce[_],N=r[b],k=h[b]!==void 0?h[b]:m[b],S=gm(k),C=b===d?N.isActive:null;C===!1&&(v=_);let I=k===m[b]&&k!==h[b]&&S;if(I&&n&&t.manuallyAnimateOnMount&&(I=!1),N.protectedKeys={...y},!N.isActive&&C===null||!k&&!N.prevProp||fy(k)||typeof k=="boolean")continue;const E=qce(N.prevProp,k);let U=E||b===d&&N.isActive&&!I&&S||_>v&&S,T=!1;const ne=Array.isArray(k)?k:[k];let q=ne.reduce(a(b),{});C===!1&&(q={});const{prevResolvedValues:F={}}=N,Y={...F,...q},O=M=>{U=!0,g.has(M)&&(T=!0,g.delete(M)),N.needsAnimating[M]=!0;const K=t.getValue(M);K&&(K.liveStyle=!1)};for(const M in Y){const K=q[M],z=F[M];if(y.hasOwnProperty(M))continue;let he=!1;G_(K)&&G_(z)?he=!jF(K,z):he=K!==z,he?K!=null?O(M):g.add(M):K!==void 0&&g.has(M)?O(M):N.protectedKeys[M]=!0}N.prevProp=k,N.prevResolvedValues=q,N.isActive&&(y={...y,...q}),n&&t.blockInitialAnimation&&(U=!1);const se=I&&E;U&&(!se||T)&&f.push(...ne.map(M=>{const K={type:b};if(typeof M=="string"&&n&&!se&&t.manuallyAnimateOnMount&&t.parent){const{parent:z}=t,he=zu(z,M);if(z.enteringChildren&&he){const{delayChildren:V}=he.transition||{};K.delay=wF(z.enteringChildren,t,V)}}return{animation:M,options:K}}))}if(g.size){const _={};if(typeof h.initial!="boolean"){const b=zu(t,Array.isArray(h.initial)?h.initial[0]:h.initial);b&&b.transition&&(_.transition=b.transition)}g.forEach(b=>{const N=t.getBaseTarget(b),k=t.getValue(b);k&&(k.liveStyle=!0),_[b]=N??null}),f.push({animation:_})}let w=!!f.length;return n&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(w=!1),n=!1,w?e(f):Promise.resolve()}function c(d,h){if(r[d].isActive===h)return Promise.resolve();t.variantChildren?.forEach(f=>f.animationState?.setActive(d,h)),r[d].isActive=h;const m=o(d);for(const f in r)r[f].protectedKeys={};return m}return{animateChanges:o,setActive:c,setAnimateFunction:i,getState:()=>r,reset:()=>{r=DR()}}}function qce(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!jF(e,t):!1}function Hc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function DR(){return{animate:Hc(!0),whileInView:Hc(),whileHover:Hc(),whileTap:Hc(),whileDrag:Hc(),whileFocus:Hc(),exit:Hc()}}class cc{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Wce extends cc{constructor(e){super(e),e.animationState||(e.animationState=Hce(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();fy(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Gce=0;class Yce extends cc{constructor(){super(...arguments),this.id=Gce++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const a=this.node.animationState.setActive("exit",!e);r&&!e&&a.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Kce={animation:{Feature:Wce},exit:{Feature:Yce}};function xm(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function Xm(t){return{point:{x:t.pageX,y:t.pageY}}}const Xce=t=>e=>V2(e)&&t(e,Xm(e));function Jf(t,e,r,n){return xm(t,e,Xce(r),n)}const NF=1e-4,Zce=1-NF,Qce=1+NF,SF=.01,Jce=0-SF,ede=0+SF;function An(t){return t.max-t.min}function tde(t,e,r){return Math.abs(t-e)<=r}function MR(t,e,r,n=.5){t.origin=n,t.originPoint=dr(e.min,e.max,t.origin),t.scale=An(r)/An(e),t.translate=dr(r.min,r.max,t.origin)-t.originPoint,(t.scale>=Zce&&t.scale<=Qce||isNaN(t.scale))&&(t.scale=1),(t.translate>=Jce&&t.translate<=ede||isNaN(t.translate))&&(t.translate=0)}function em(t,e,r,n){MR(t.x,e.x,r.x,n?n.originX:void 0),MR(t.y,e.y,r.y,n?n.originY:void 0)}function PR(t,e,r){t.min=r.min+e.min,t.max=t.min+An(e)}function sde(t,e,r){PR(t.x,e.x,r.x),PR(t.y,e.y,r.y)}function OR(t,e,r){t.min=e.min-r.min,t.max=t.min+An(e)}function c0(t,e,r){OR(t.x,e.x,r.x),OR(t.y,e.y,r.y)}function Ia(t){return[t("x"),t("y")]}const kF=({current:t})=>t?t.ownerDocument.defaultView:null,LR=(t,e)=>Math.abs(t-e);function rde(t,e){const r=LR(t.x,e.x),n=LR(t.y,e.y);return Math.sqrt(r**2+n**2)}class CF{constructor(e,r,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=d1(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,v=rde(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!v)return;const{point:w}=g,{timestamp:_}=ln;this.history.push({...w,timestamp:_});const{onStart:b,onMove:N}=this.handlers;y||(b&&b(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,g)},this.handlePointerMove=(g,y)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=c1(y,this.transformPagePoint),nr.update(this.updatePoint,!0)},this.handlePointerUp=(g,y)=>{this.end();const{onEnd:v,onSessionEnd:w,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=d1(g.type==="pointercancel"?this.lastMoveEventInfo:c1(y,this.transformPagePoint),this.history);this.startEvent&&v&&v(g,b),w&&w(g,b)},!V2(e))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=a||window;const c=Xm(e),d=c1(c,this.transformPagePoint),{point:h}=d,{timestamp:m}=ln;this.history=[{...h,timestamp:m}];const{onSessionStart:f}=r;f&&f(e,d1(d,this.history)),this.removeListeners=Gm(Jf(this.contextWindow,"pointermove",this.handlePointerMove),Jf(this.contextWindow,"pointerup",this.handlePointerUp),Jf(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ec(this.updatePoint)}}function c1(t,e){return e?{point:e(t.point)}:t}function FR(t,e){return{x:t.x-e.x,y:t.y-e.y}}function d1({point:t},e){return{point:t,delta:FR(t,AF(e)),offset:FR(t,nde(e)),velocity:ade(e,.1)}}function nde(t){return t[0]}function AF(t){return t[t.length-1]}function ade(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const a=AF(t);for(;r>=0&&(n=t[r],!(a.timestamp-n.timestamp>Hi(e)));)r--;if(!n)return{x:0,y:0};const i=Ua(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function ide(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?dr(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?dr(r,t,n.max):Math.min(t,r)),t}function BR(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function ode(t,{top:e,left:r,bottom:n,right:a}){return{x:BR(t.x,r,a),y:BR(t.y,e,n)}}function IR(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function lde(t,e){return{x:IR(t.x,e.x),y:IR(t.y,e.y)}}function cde(t,e){let r=.5;const n=An(t),a=An(e);return a>n?r=fm(e.min,e.max-n,t.min):n>a&&(r=fm(t.min,t.max-a,e.min)),Ho(0,1,r)}function dde(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const X_=.35;function ude(t=X_){return t===!1?t=0:t===!0&&(t=X_),{x:zR(t,"left","right"),y:zR(t,"top","bottom")}}function zR(t,e,r){return{min:UR(t,e),max:UR(t,r)}}function UR(t,e){return typeof t=="number"?t:t[e]||0}const hde=new WeakMap;class fde{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Wr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Xm(f).point)},o=(f,g)=>{const{drag:y,dragPropagation:v,onDragStart:w}=this.getProps();if(y&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ble(y),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ia(b=>{let N=this.getAxisMotionValue(b).get()||0;if(qi.test(N)){const{projection:k}=this.visualElement;if(k&&k.layout){const S=k.layout.layoutBox[b];S&&(N=An(S)*(parseFloat(N)/100))}}this.originPoint[b]=N}),w&&nr.postRender(()=>w(f,g)),Y_(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},c=(f,g)=>{this.latestPointerEvent=f,this.latestPanInfo=g;const{dragPropagation:y,dragDirectionLock:v,onDirectionLock:w,onDrag:_}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:b}=g;if(v&&this.currentDirection===null){this.currentDirection=mde(b),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",g.point,b),this.updateAxis("y",g.point,b),this.visualElement.render(),_&&_(f,g)},d=(f,g)=>{this.latestPointerEvent=f,this.latestPanInfo=g,this.stop(f,g),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Ia(f=>this.getAnimationState(f)==="paused"&&this.getAxisMotionValue(f).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new CF(e,{onSessionStart:i,onStart:o,onMove:c,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:n,contextWindow:kF(this.visualElement)})}stop(e,r){const n=e||this.latestPointerEvent,a=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!n)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:c}=this.getProps();c&&nr.postRender(()=>c(n,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:a}=this.getProps();if(!n||!qg(e,a,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=ide(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Eu(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=ode(n.layoutBox,e):this.constraints=!1,this.elastic=ude(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Ia(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=dde(n.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Eu(e))return!1;const n=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=pce(n,a.root,this.visualElement.getTransformPagePoint());let o=lde(a.layout.layoutBox,i);if(r){const c=r(hce(o));this.hasMutatedConstraints=!!c,c&&(o=uF(c))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},h=Ia(m=>{if(!qg(m,r,this.currentDirection))return;let f=d&&d[m]||{};o&&(f={min:0,max:0});const g=a?200:1e6,y=a?40:1e7,v={type:"inertia",velocity:n?e[m]:0,bounceStiffness:g,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(m,v)});return Promise.all(h).then(c)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return Y_(this.visualElement,e),n.start(J2(e,n,0,r,this.visualElement,!1))}stopAnimation(){Ia(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ia(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Ia(r=>{const{drag:n}=this.getProps();if(!qg(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:c}=a.layout.layoutBox[r];i.set(e[r]-dr(o,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Eu(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Ia(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const d=c.get();a[o]=cde({min:d,max:d},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ia(o=>{if(!qg(o,e,null))return;const c=this.getAxisMotionValue(o),{min:d,max:h}=this.constraints[o];c.set(dr(d,h,a[o]))})}addListeners(){if(!this.visualElement.current)return;hde.set(this.visualElement,this);const e=this.visualElement.current,r=Jf(e,"pointerdown",d=>{const{drag:h,dragListener:m=!0}=this.getProps();h&&m&&this.start(d)}),n=()=>{const{dragConstraints:d}=this.getProps();Eu(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),nr.read(n);const o=xm(window,"resize",()=>this.scalePositionWithinConstraints()),c=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(Ia(m=>{const f=this.getAxisMotionValue(m);f&&(this.originPoint[m]+=d[m].translate,f.set(f.get()+d[m].translate))}),this.visualElement.render())}));return()=>{o(),r(),i(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=X_,dragMomentum:c=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:c}}}function qg(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function mde(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class pde extends cc{constructor(e){super(e),this.removeGroupControls=$a,this.removeListeners=$a,this.controls=new fde(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$a}unmount(){this.removeGroupControls(),this.removeListeners()}}const $R=t=>(e,r)=>{t&&nr.postRender(()=>t(e,r))};class gde extends cc{constructor(){super(...arguments),this.removePointerDownListener=$a}onPointerDown(e){this.session=new CF(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:kF(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:$R(e),onStart:$R(r),onMove:n,onEnd:(i,o)=>{delete this.session,a&&nr.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=Jf(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Sx={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let u1=!1;class xde extends j.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=e;i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),u1&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Sx.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,{projection:o}=n;return o&&(o.isPresent=i,u1=!0,a||e.layoutDependency!==r||r===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||nr.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),$2.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=e;u1=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function EF(t){const[e,r]=ZL(),n=j.useContext(w2);return s.jsx(xde,{...t,layoutGroup:n,switchLayoutGroup:j.useContext(cF),isPresent:e,safeToRemove:r})}function yde(t,e,r){const n=gn(t)?t:Qu(t);return n.start(J2("",n,e,r)),n.animation}const bde=(t,e)=>t.depth-e.depth;class vde{constructor(){this.children=[],this.isDirty=!1}add(e){N2(this.children,e),this.isDirty=!0}remove(e){S2(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(bde),this.isDirty=!1,this.children.forEach(e)}}function wde(t,e){const r=Gn.now(),n=({timestamp:a})=>{const i=a-r;i>=e&&(ec(n),t(i-e))};return nr.setup(n,!0),()=>ec(n)}const TF=["TopLeft","TopRight","BottomLeft","BottomRight"],jde=TF.length,VR=t=>typeof t=="string"?parseFloat(t):t,HR=t=>typeof t=="number"||zt.test(t);function _de(t,e,r,n,a,i){a?(t.opacity=dr(0,r.opacity??1,Nde(n)),t.opacityExit=dr(e.opacity??1,0,Sde(n))):i&&(t.opacity=dr(e.opacity??1,r.opacity??1,n));for(let o=0;o<jde;o++){const c=`border${TF[o]}Radius`;let d=qR(e,c),h=qR(r,c);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||HR(d)===HR(h)?(t[c]=Math.max(dr(VR(d),VR(h),n),0),(qi.test(h)||qi.test(d))&&(t[c]+="%")):t[c]=h}(e.rotate||r.rotate)&&(t.rotate=dr(e.rotate||0,r.rotate||0,n))}function qR(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Nde=RF(0,.5,gL),Sde=RF(.5,.95,$a);function RF(t,e,r){return n=>n<t?0:n>e?1:r(fm(t,e,n))}function WR(t,e){t.min=e.min,t.max=e.max}function ti(t,e){WR(t.x,e.x),WR(t.y,e.y)}function GR(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function YR(t,e,r,n,a){return t-=e,t=l0(t,1/r,n),a!==void 0&&(t=l0(t,1/a,n)),t}function kde(t,e=0,r=1,n=.5,a,i=t,o=t){if(qi.test(e)&&(e=parseFloat(e),e=dr(o.min,o.max,e/100)-o.min),typeof e!="number")return;let c=dr(i.min,i.max,n);t===i&&(c-=e),t.min=YR(t.min,e,r,c,a),t.max=YR(t.max,e,r,c,a)}function KR(t,e,[r,n,a],i,o){kde(t,e[r],e[n],e[a],e.scale,i,o)}const Cde=["x","scaleX","originX"],Ade=["y","scaleY","originY"];function XR(t,e,r,n){KR(t.x,e,Cde,r?r.x:void 0,n?n.x:void 0),KR(t.y,e,Ade,r?r.y:void 0,n?n.y:void 0)}function ZR(t){return t.translate===0&&t.scale===1}function DF(t){return ZR(t.x)&&ZR(t.y)}function QR(t,e){return t.min===e.min&&t.max===e.max}function Ede(t,e){return QR(t.x,e.x)&&QR(t.y,e.y)}function JR(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function MF(t,e){return JR(t.x,e.x)&&JR(t.y,e.y)}function eD(t){return An(t.x)/An(t.y)}function tD(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Tde{constructor(){this.members=[]}add(e){N2(this.members,e),e.scheduleRender()}remove(e){if(S2(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(a=>e===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Rde(t,e,r){let n="";const a=t.x.translate/e.x,i=t.y.translate/e.y,o=r?.z||0;if((a||i||o)&&(n=`translate3d(${a}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:h,rotate:m,rotateX:f,rotateY:g,skewX:y,skewY:v}=r;h&&(n=`perspective(${h}px) ${n}`),m&&(n+=`rotate(${m}deg) `),f&&(n+=`rotateX(${f}deg) `),g&&(n+=`rotateY(${g}deg) `),y&&(n+=`skewX(${y}deg) `),v&&(n+=`skewY(${v}deg) `)}const c=t.x.scale*e.x,d=t.y.scale*e.y;return(c!==1||d!==1)&&(n+=`scale(${c}, ${d})`),n||"none"}const h1=["","X","Y","Z"],Dde=1e3;let Mde=0;function f1(t,e,r,n){const{latestValues:a}=e;a[t]&&(r[t]=a[t],e.setStaticValue(t,0),n&&(n[t]=0))}function PF(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=bF(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",nr,!(a||i))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&PF(n)}function OF({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},c=e?.()){this.id=Mde++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Lde),this.nodes.forEach(zde),this.nodes.forEach(Ude),this.nodes.forEach(Fde)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new vde)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new A2),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const d=this.eventHandlers.get(o);d&&d.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=XL(o)&&!Sle(o),this.instance=o;const{layoutId:c,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),t){let m,f=0;const g=()=>this.root.updateBlockedByResize=!1;nr.read(()=>{f=window.innerWidth}),t(o,()=>{const y=window.innerWidth;y!==f&&(f=y,this.root.updateBlockedByResize=!0,m&&m(),m=wde(g,250),Sx.hasAnimatedSinceResize&&(Sx.hasAnimatedSinceResize=!1,this.nodes.forEach(nD)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:f,hasRelativeLayoutChanged:g,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||h.getDefaultTransition()||Wde,{onLayoutAnimationStart:w,onLayoutAnimationComplete:_}=h.getProps(),b=!this.targetLayout||!MF(this.targetLayout,y),N=!f&&g;if(this.options.layoutRoot||this.resumeFrom||N||f&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...z2(v,"layout"),onPlay:w,onComplete:_};(h.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(m,N)}else f||nD(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ec(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach($de),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&PF(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const f=this.path[m];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(sD);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(rD);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Ide),this.nodes.forEach(Pde),this.nodes.forEach(Ode)):this.nodes.forEach(rD),this.clearAllSnapshots();const c=Gn.now();ln.delta=Ho(0,1e3/60,c-ln.timestamp),ln.timestamp=c,ln.isProcessing=!0,t1.update.process(ln),t1.preRender.process(ln),t1.render.process(ln),ln.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,$2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Bde),this.sharedNodes.forEach(Vde)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,nr.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){nr.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!An(this.snapshot.measuredBox.x)&&!An(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Wr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c&&this.instance){const d=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:d,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!DF(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;o&&this.instance&&(c||Jc(this.latestValues)||m)&&(a(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return o&&(d=this.removeTransform(d)),Gde(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Wr();const c=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Yde))){const{scroll:h}=this.root;h&&(Tu(c.x,h.offset.x),Tu(c.y,h.offset.y))}return c}removeElementScroll(o){const c=Wr();if(ti(c,o),this.scroll?.wasRoot)return c;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:m,options:f}=h;h!==this.root&&m&&f.layoutScroll&&(m.wasRoot&&ti(c,o),Tu(c.x,m.offset.x),Tu(c.y,m.offset.y))}return c}applyTransform(o,c=!1){const d=Wr();ti(d,o);for(let h=0;h<this.path.length;h++){const m=this.path[h];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Ru(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),Jc(m.latestValues)&&Ru(d,m.latestValues)}return Jc(this.latestValues)&&Ru(d,this.latestValues),d}removeTransform(o){const c=Wr();ti(c,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!Jc(h.latestValues))continue;H_(h.latestValues)&&h.updateSnapshot();const m=Wr(),f=h.measurePageBox();ti(m,f),XR(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return Jc(this.latestValues)&&XR(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ln.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:f}=this.options;if(!this.layout||!(m||f))return;this.resolvedRelativeTargetAt=ln.timestamp;const g=this.getClosestProjectingParent();g&&this.linkedParentVersion!==g.layoutVersion&&!g.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(g&&g.layout?this.createRelativeTarget(g,this.layout.layoutBox,g.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Wr(),this.targetWithTransforms=Wr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),sde(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ti(this.target,this.layout.layoutBox),fF(this.target,this.targetDelta)):ti(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?this.createRelativeTarget(g,this.target,g.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||H_(this.parent.latestValues)||hF(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,c,d){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wr(),this.relativeTargetOrigin=Wr(),c0(this.relativeTargetOrigin,c,d),ti(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const o=this.getLead(),c=!!this.resumingFrom||this!==o;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===ln.timestamp&&(d=!1),d)return;const{layout:h,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||m))return;ti(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,g=this.treeScale.y;mce(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Wr());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(GR(this.prevProjectionDelta.x,this.projectionDelta.x),GR(this.prevProjectionDelta.y,this.projectionDelta.y)),em(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==g||!tD(this.projectionDelta.x,this.prevProjectionDelta.x)||!tD(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Du(),this.projectionDelta=Du(),this.projectionDeltaWithTransform=Du()}setAnimationOrigin(o,c=!1){const d=this.snapshot,h=d?d.latestValues:{},m={...this.latestValues},f=Du();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const g=Wr(),y=d?d.source:void 0,v=this.layout?this.layout.source:void 0,w=y!==v,_=this.getStack(),b=!_||_.members.length<=1,N=!!(w&&!b&&this.options.crossfade===!0&&!this.path.some(qde));this.animationProgress=0;let k;this.mixTargetDelta=S=>{const C=S/1e3;aD(f.x,o.x,C),aD(f.y,o.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(c0(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Hde(this.relativeTarget,this.relativeTargetOrigin,g,C),k&&Ede(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=Wr()),ti(k,this.relativeTarget)),w&&(this.animationValues=m,_de(m,h,this.latestValues,C,N,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ec(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=nr.update(()=>{Sx.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Qu(0)),this.currentAnimation=yde(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Dde),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:d,layout:h,latestValues:m}=o;if(!(!c||!d||!h)){if(this!==o&&this.layout&&h&&LF(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||Wr();const f=An(this.layout.layoutBox.x);d.x.min=o.target.x.min,d.x.max=d.x.min+f;const g=An(this.layout.layoutBox.y);d.y.min=o.target.y.min,d.y.max=d.y.min+g}ti(c,d),Ru(c,m),em(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Tde),this.sharedNodes.get(o).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:d}=o;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const h={};d.z&&f1("z",o,h,this.animationValues);for(let m=0;m<h1.length;m++)f1(`rotate${h1[m]}`,o,h,this.animationValues),f1(`skew${h1[m]}`,o,h,this.animationValues);o.render();for(const m in h)o.setStaticValue(m,h[m]),this.animationValues&&(this.animationValues[m]=h[m]);o.scheduleRender()}applyProjectionStyles(o,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Nx(c?.pointerEvents)||"",o.transform=d?d(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Nx(c?.pointerEvents)||""),this.hasProjected&&!Jc(this.latestValues)&&(o.transform=d?d({},""):"none",this.hasProjected=!1);return}o.visibility="";const m=h.animationValues||h.latestValues;this.applyTransformsToTarget();let f=Rde(this.projectionDeltaWithTransform,this.treeScale,m);d&&(f=d(m,f)),o.transform=f;const{x:g,y}=this.projectionDelta;o.transformOrigin=`${g.origin*100}% ${y.origin*100}% 0`,h.animationValues?o.opacity=h===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:o.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const v in V_){if(m[v]===void 0)continue;const{correct:w,applyTo:_,isCSSVariable:b}=V_[v],N=f==="none"?m[v]:w(m[v],h);if(_){const k=_.length;for(let S=0;S<k;S++)o[_[S]]=N}else b?this.options.visualElement.renderState.vars[v]=N:o[v]=N}this.options.layoutId&&(o.pointerEvents=h===this?Nx(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(sD),this.root.sharedNodes.clear()}}}function Pde(t){t.updateLayout()}function Ode(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=t.layout,{animationType:a}=t.options,i=e.source!==t.layout.source;a==="size"?Ia(m=>{const f=i?e.measuredBox[m]:e.layoutBox[m],g=An(f);f.min=r[m].min,f.max=f.min+g}):LF(a,e.layoutBox,r)&&Ia(m=>{const f=i?e.measuredBox[m]:e.layoutBox[m],g=An(r[m]);f.max=f.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+g)});const o=Du();em(o,r,e.layoutBox);const c=Du();i?em(c,t.applyTransform(n,!0),e.measuredBox):em(c,r,e.layoutBox);const d=!DF(o);let h=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:f,layout:g}=m;if(f&&g){const y=Wr();c0(y,e.layoutBox,f.layoutBox);const v=Wr();c0(v,r,g.layoutBox),MF(y,v)||(h=!0),m.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=y,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:c,layoutDelta:o,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Lde(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Fde(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Bde(t){t.clearSnapshot()}function sD(t){t.clearMeasurements()}function rD(t){t.isLayoutDirty=!1}function Ide(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function nD(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function zde(t){t.resolveTargetDelta()}function Ude(t){t.calcProjection()}function $de(t){t.resetSkewAndRotation()}function Vde(t){t.removeLeadSnapshot()}function aD(t,e,r){t.translate=dr(e.translate,0,r),t.scale=dr(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function iD(t,e,r,n){t.min=dr(e.min,r.min,n),t.max=dr(e.max,r.max,n)}function Hde(t,e,r,n){iD(t.x,e.x,r.x,n),iD(t.y,e.y,r.y,n)}function qde(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Wde={duration:.45,ease:[.4,0,.1,1]},oD=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),lD=oD("applewebkit/")&&!oD("chrome/")?Math.round:$a;function cD(t){t.min=lD(t.min),t.max=lD(t.max)}function Gde(t){cD(t.x),cD(t.y)}function LF(t,e,r){return t==="position"||t==="preserve-aspect"&&!tde(eD(e),eD(r),.2)}function Yde(t){return t!==t.root&&t.scroll?.wasRoot}const Kde=OF({attachResizeListener:(t,e)=>xm(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),m1={current:void 0},FF=OF({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!m1.current){const t=new Kde({});t.mount(window),t.setOptions({layoutScroll:!0}),m1.current=t}return m1.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Xde={pan:{Feature:gde},drag:{Feature:pde,ProjectionNode:FF,MeasureLayout:EF}};function dD(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&nr.postRender(()=>i(e,Xm(e)))}class Zde extends cc{mount(){const{current:e}=this.node;e&&(this.unmount=vle(e,(r,n)=>(dD(this.node,n,"Start"),a=>dD(this.node,a,"End"))))}unmount(){}}class Qde extends cc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Gm(xm(this.node.current,"focus",()=>this.onFocus()),xm(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function uD(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&nr.postRender(()=>i(e,Xm(e)))}class Jde extends cc{mount(){const{current:e}=this.node;e&&(this.unmount=Nle(e,(r,n)=>(uD(this.node,n,"Start"),(a,{success:i})=>uD(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Z_=new WeakMap,p1=new WeakMap,eue=t=>{const e=Z_.get(t.target);e&&e(t)},tue=t=>{t.forEach(eue)};function sue({root:t,...e}){const r=t||document;p1.has(r)||p1.set(r,{});const n=p1.get(r),a=JSON.stringify(e);return n[a]||(n[a]=new IntersectionObserver(tue,{root:t,...e})),n[a]}function rue(t,e,r){const n=sue(e);return Z_.set(t,r),n.observe(t),()=>{Z_.delete(t),n.unobserve(t)}}const nue={some:0,all:1};class aue extends cc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:nue[a]},c=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,i&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:f}=this.node.getProps(),g=h?m:f;g&&g(d)};return rue(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(iue(e,r))&&this.startObserver()}unmount(){}}function iue({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const oue={inView:{Feature:aue},tap:{Feature:Jde},focus:{Feature:Qde},hover:{Feature:Zde}},lue={layout:{ProjectionNode:FF,MeasureLayout:EF}},cue={...Kce,...oue,...Xde,...lue},st=uce(cue,Nce),hD=new Date().getFullYear(),fD=["available","not_available","rented","maintenance"],mD=["automatic","manual"],jt={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640",darkBlueDim:"rgba(14, 76, 129, 0.1)",tealDim:"rgba(0, 140, 149, 0.1)",limeGreenDim:"rgba(138, 198, 64, 0.1)"},$f={BMW:["1 Series","3 Series","5 Series","7 Series","X1","X3","X5","X7","M3","M5","Z4","i4","i7","iX"],"Mercedes-Benz":["A-Class","C-Class","E-Class","S-Class","GLA","GLC","GLE","GLS","G-Class","AMG GT","Maybach","EQE","EQS"],Audi:["A3","A4","A6","A8","Q3","Q5","Q7","Q8","TT","R8","e-tron"],Porsche:["911","Cayenne","Macan","Panamera","Taycan","Boxster","Cayman"],Volkswagen:["Polo","Golf","Jetta","Passat","Tiguan","Touareg","Arteon","ID.4","ID.7"],Opel:["Corsa","Astra","Insignia","Mokka","Grandland"],Smart:["Fortwo","Forfour"],Ferrari:["Roma","Portofino","F8","812","SF90","Purosangue"],Lamborghini:["Huracan","Aventador","Urus","Revuelto"],Maserati:["Ghibli","Quattroporte","Levante","Grecale","MC20"],"Alfa Romeo":["Giulia","Stelvio","Tonale","Giulietta"],Fiat:["500","Panda","Tipo","Doblo"],Pagani:["Huayra","Zonda"],"Rolls-Royce":["Phantom","Ghost","Wraith","Cullinan","Spectre"],Bentley:["Continental GT","Flying Spur","Bentayga"],"Aston Martin":["Vantage","DB11","DB12","DBX","Valhalla"],Jaguar:["XE","XF","XJ","F-Type","E-Pace","F-Pace"],"Land Rover":["Range Rover","Range Rover Sport","Velar","Evoque","Defender","Discovery"],McLaren:["720S","750S","Artura","GT"],Mini:["Cooper","Countryman","Clubman"],Lotus:["Emira","Evija","Eletre"],Tesla:["Model 3","Model S","Model X","Model Y","Cybertruck","Roadster"],Ford:["Fiesta","Focus","Mustang","Explorer","Escape","Edge","F-150","Bronco"],Chevrolet:["Spark","Malibu","Camaro","Corvette","Tahoe","Suburban","Silverado"],Dodge:["Charger","Challenger","Durango"],Jeep:["Wrangler","Grand Cherokee","Compass","Renegade","Gladiator"],Cadillac:["CT4","CT5","Escalade","Lyriq"],Chrysler:["300","Pacifica"],GMC:["Sierra","Yukon","Acadia"],Rivian:["R1T","R1S"],Lucid:["Air","Gravity"],Toyota:["Corolla","Camry","Yaris","Prius","RAV4","Highlander","Land Cruiser","Supra","Hilux"],Lexus:["IS","ES","GS","LS","NX","RX","GX","LX","LC"],Honda:["Civic","Accord","City","CR-V","HR-V","Pilot","Odyssey"],Nissan:["Micra","Sentra","Altima","Maxima","Qashqai","X-Trail","GT-R","370Z"],Infiniti:["Q50","Q60","QX50","QX60","QX80"],Mazda:["Mazda2","Mazda3","Mazda6","CX-5","CX-9","MX-5"],Subaru:["Impreza","Legacy","Outback","Forester","WRX","BRZ"],Mitsubishi:["Mirage","Lancer","ASX","Outlander","Pajero"],Suzuki:["Swift","Vitara","Jimny","Baleno"],Isuzu:["D-Max","MU-X"],Hyundai:["Accent","Elantra","Sonata","Kona","Tucson","Santa Fe","Palisade","Ioniq 5"],Kia:["Rio","Cerato","K5","Soul","Sportage","Sorento","Telluride","EV6"],Genesis:["G70","G80","G90","GV70","GV80"],Peugeot:["208","308","508","2008","3008","5008"],Renault:["Clio","Megane","Talisman","Captur","Kadjar","Koleos"],Citron:["C3","C4","C5","C5 Aircross"],Bugatti:["Chiron","Mistral","Tourbillon"],"DS Automobiles":["DS3","DS4","DS7"],BYD:["Atto 3","Han","Tang","Seal"],Geely:["Coolray","Emgrand","Tugella"],Chery:["Tiggo 7","Tiggo 8"],"Great Wall":["Haval H6","Tank 300"],NIO:["ES6","ES8","ET5","ET7"],XPeng:["P7","G6","G9"],MG:["ZS","HS","MG4","MG5"],Zeekr:["001","X"],Volvo:["S60","S90","V60","XC40","XC60","XC90"],Polestar:["Polestar 2","Polestar 3","Polestar 4"],Koenigsegg:["Jesko","Regera","Gemera"],Rimac:["Nevera"],Hennessey:["Venom F5"],SSC:["Tuatara"],Mahindra:["Scorpio","XUV700"],Tata:["Nexon","Harrier","Safari"]},due=["Other",...Object.keys($f).sort()],g1=["White","Black","Silver","Gray","Red","Blue","Green","Yellow","Orange","Brown","Beige","Gold","Purple","Pink","Pearl White","Metallic Gray","Metallic Blue","Dark Blue","Light Blue","Burgundy"],uue=[{value:"all",label:"All Categories"},{value:"luxury",label:"Luxury"},{value:"sport",label:"Sport"},{value:"normal",label:"Normal"},{value:"commercial",label:"Commercial"},{value:"industrial",label:"Industrial"},{value:"event",label:"Event"},{value:"sea",label:"Sea"}],hue=[{value:"all",label:"All Statuses"},{value:"pending",label:"Pending"},{value:"approved",label:"Approved"},{value:"rejected",label:"Rejected"}],fue=t=>{switch(t){case"approved":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"rejected":default:return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}},mue=t=>{switch(t){case"luxury":return jt.darkBlue;case"sport":return jt.limeGreen;default:return jt.teal}},pue=({car:t,onClose:e})=>{if(!t)return null;const r=n=>Array.isArray(n)?n:[];return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:s.jsxs(st.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-4xl p-6 relative overflow-y-auto max-h-[90vh]",children:[s.jsx("button",{className:"absolute top-4 right-4 w-8 h-8 rounded-full flex items-center justify-center transition-all hover:scale-110",style:{background:jt.tealDim},onClick:e,children:s.jsx(gr,{className:"w-5 h-5",style:{color:jt.teal}})}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{background:`linear-gradient(135deg, ${jt.teal}, ${jt.darkBlue})`},children:s.jsx(Gt,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[t.make," ",t.model]}),s.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[t.year,"  ",t.license_plate]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mt-4",children:[s.jsxs("div",{className:"bg-gradient-to-br p-3 rounded-xl",style:{background:jt.tealDim},children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(sr,{className:"w-4 h-4",style:{color:jt.teal}}),s.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Views"})]}),s.jsx("p",{className:"text-xl font-bold",style:{color:jt.teal},children:t.views_count||0})]}),s.jsxs("div",{className:"bg-gradient-to-br p-3 rounded-xl",style:{background:jt.darkBlueDim},children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(dd,{className:"w-4 h-4",style:{color:jt.darkBlue}}),s.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Clicks"})]}),s.jsx("p",{className:"text-xl font-bold",style:{color:jt.darkBlue},children:t.clicks_count??0})]}),s.jsxs("div",{className:"bg-gradient-to-br p-3 rounded-xl",style:{background:jt.limeGreenDim},children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(or,{className:"w-4 h-4",style:{color:jt.limeGreen}}),s.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Daily Rate"})]}),s.jsxs("p",{className:"text-xl font-bold",style:{color:jt.limeGreen},children:["$",t.daily_rate]})]}),s.jsxs("div",{className:"bg-gradient-to-br p-3 rounded-xl",style:{background:jt.tealDim},children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Hs,{className:"w-4 h-4",style:{color:jt.teal}}),s.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Status"})]}),s.jsx(We,{className:`text-xs ${fue(t.status)}`,children:t.status})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"relative rounded-xl overflow-hidden shadow-lg",style:{height:"240px"},children:t.main_image_url?s.jsx("img",{src:`/api/storage/${t.main_image_url}`,alt:"Main",className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{background:jt.tealDim},children:s.jsx(Gt,{className:"w-16 h-16",style:{color:jt.teal,opacity:.3}})})}),s.jsx("div",{className:"grid grid-cols-4 gap-2",children:["front","back","left","right"].map(n=>t[`${n}_image_url`]?s.jsx("div",{className:"relative rounded-lg overflow-hidden shadow",style:{height:"70px"},children:s.jsx("img",{src:`/api/storage/${t[`${n}_image_url`]}`,alt:n,className:"w-full h-full object-cover"})},n):s.jsx("div",{className:"rounded-lg flex items-center justify-center",style:{height:"70px",background:jt.tealDim},children:s.jsx(Gt,{className:"w-6 h-6",style:{color:jt.teal,opacity:.3}})},n))})]}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsx(en,{icon:Gt,label:"Category",value:t.car_category}),s.jsx(en,{icon:or,label:"Holiday Rate",value:`$${t.holiday_rate}/day`}),s.jsx(en,{icon:zl,label:"Mileage",value:`${t.mileage?.toLocaleString()} km`}),s.jsx(en,{label:"Color",value:t.color}),s.jsx(en,{label:"Fuel Type",value:t.fuel_type}),s.jsx(en,{label:"Transmission",value:t.transmission}),s.jsx(en,{label:"Wheel Drive",value:t.wheels_drive}),s.jsx(en,{label:"Seats",value:t.seats}),s.jsx(en,{label:"Doors",value:t.doors}),s.jsx(en,{label:"Max Driving Mileage",value:`${t.max_driving_mileage} km`}),s.jsx(en,{label:"Min Rental Days",value:t.min_rental_days}),s.jsx(en,{label:"Add-Ons",value:r(t.car_add_on).join(", ")||"N/A"}),s.jsx(en,{label:"Features",value:r(t.features).join(", ")||"N/A"}),s.jsx(en,{label:"Reason for Rent",value:r(t.reason_of_rent).join(", ")||"N/A"}),t.notes&&s.jsx(en,{label:"Notes",value:t.notes}),s.jsx(en,{icon:Ps,label:"Delivery Location",value:t.delivery_location?.address||"N/A"}),s.jsx(en,{icon:Ps,label:"Return Location",value:t.return_location?.address||"N/A"}),t.live_location&&s.jsx(en,{icon:Ps,label:"Current Location",value:t.live_location.address,badge:!0})]})]})]})})},en=({icon:t,label:e,value:r,badge:n})=>s.jsxs("div",{className:"flex items-start gap-2 py-2 border-b border-gray-100 dark:border-gray-800",children:[t&&s.jsx(t,{className:"w-4 h-4 mt-0.5",style:{color:jt.teal}}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:[e,":"]}),n?s.jsx(We,{className:"ml-2 text-xs",style:{background:jt.teal,color:"white"},children:r}):s.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:r})]})]}),gue=()=>{const t=Ur(),[e,r]=j.useState([]),[n,a]=j.useState(!0),[i,o]=j.useState({search:"",category:"all",status:"all"}),[c,d]=j.useState(null),[h,m]=j.useState(!1),[f,g]=j.useState({}),y=async()=>{a(!0);try{const{data:M}=await Oe.get("/cars/agent/Mycars",{params:{per_page:1e3}}),K=M.cars?.data??M.cars??M?.data??[];r(Array.isArray(K)?K:[])}catch{be.error("Failed to fetch cars.")}finally{a(!1)}};j.useEffect(()=>{y()},[]);const v=(M,K)=>{o(z=>({...z,[M]:K}))},w=()=>o({search:"",category:"all",status:"all"}),[_,b]=j.useState(null),[N,k]=j.useState(""),S=M=>{b(M),k("")},C=()=>{b(null),k("")},I=async()=>{if(!(!_||N.toLowerCase()!=="delete"))try{await Oe.delete(`/cars/${_.id}`),be.success("Car deleted successfully."),r(M=>M.filter(K=>K.id!==_.id)),C()}catch(M){be.error(M.response?.data?.error||"Failed to delete car.")}},E=M=>{d(M);const K=(M.transmission||"").toLowerCase(),z=M.make&&$f[M.make],he=z?$f[M.make]:[],V=M.model&&he.includes(M.model);g({make:z?M.make:"Other",customMake:z?"":M.make||"",model:V?M.model:"Other",customModel:V?"":M.model||"",year:M.year||new Date().getFullYear(),color:M.color||"",transmission:K==="automatic"||K==="manual"?K:"automatic",daily_rate:M.daily_rate??"",holiday_rate:M.holiday_rate??"",status:fD.includes(M.status)?M.status:"available",mileage:M.mileage??"",notes:M.notes||"",is_deposit:!!M.is_deposit,deposit:M.deposit??"",is_delivered:!!M.is_delivered,delivery_fees:M.delivery_fees??"",with_driver:!!M.with_driver,driver_fees:M.driver_fees??"",min_rental_days:M.min_rental_days??1}),m(!0)},U=()=>{const M=f.make??"";return M==="Other"?String(f.customMake??"").trim():M},T=()=>{const M=f.make??"",K=f.model??"";return M==="Other"||K==="Other"?String(f.customModel??"").trim():K},ne=()=>{const M=U(),K=T();if(!M)return be.error("Make is required."),!1;if(M.length>100)return be.error("Make must be at most 100 characters."),!1;if(!K)return be.error("Model is required."),!1;if(K.length>100)return be.error("Model must be at most 100 characters."),!1;const z=f.year!==void 0&&f.year!==""?Number(f.year):null;if(z!==null&&(isNaN(z)||z<1900||z>hD+1))return be.error(`Year must be between 1900 and ${hD+1}.`),!1;const he=(f.transmission||"").toLowerCase();if(he&&!mD.includes(he))return be.error("Transmission must be Automatic or Manual."),!1;const V=f.status||"available";if(!fD.includes(V))return be.error("Invalid status."),!1;const W=f.daily_rate;if(W==null||W==="")return be.error("Daily rate is required."),!1;const le=Number(W);if(isNaN(le)||le<0)return be.error("Daily rate must be 0 or greater."),!1;const oe=f.holiday_rate!==void 0&&f.holiday_rate!==""?Number(f.holiday_rate):null;if(oe!==null&&(isNaN(oe)||oe<0))return be.error("Holiday rate must be 0 or greater."),!1;if(f.is_deposit){const $=Number(f.deposit);if(isNaN($)||$<0)return be.error("Deposit amount must be 0 or greater."),!1}if(f.is_delivered){const $=Number(f.delivery_fees);if(isNaN($)||$<0)return be.error("Delivery fees must be 0 or greater."),!1}if(f.with_driver){const $=Number(f.driver_fees);if(isNaN($)||$<0)return be.error("Driver fees must be 0 or greater."),!1}const ve=f.min_rental_days!==void 0&&f.min_rental_days!==""?Number(f.min_rental_days):1;if(isNaN(ve)||ve<1)return be.error("Minimum rental days must be at least 1."),!1;const me=f.mileage!==void 0&&f.mileage!==""?Number(f.mileage):null;return me!==null&&(isNaN(me)||me<0)?(be.error("Mileage must be 0 or greater."),!1):!0},q=(M,K)=>{g(z=>{const he={...z,[M]:K};return M==="make"&&(he.model="",he.customModel=""),he})},F=async()=>{if(!c||!ne())return;const M={},K=U(),z=T();K&&(M.make=K),z&&(M.model=z),f.year!==void 0&&f.year!==""&&(M.year=Number(f.year)),f.color!==void 0&&(M.color=f.color),f.daily_rate!==void 0&&f.daily_rate!==""&&(M.daily_rate=Number(f.daily_rate)),f.holiday_rate!==void 0&&f.holiday_rate!==""&&(M.holiday_rate=Number(f.holiday_rate)),f.status!==void 0&&(M.status=f.status);const he=(f.transmission||"").toLowerCase();he&&mD.includes(he)&&(M.transmission=he),f.mileage!==void 0&&f.mileage!==""&&(M.mileage=Number(f.mileage)),f.notes!==void 0&&(M.notes=f.notes),M.is_deposit=!!f.is_deposit,f.is_deposit&&f.deposit!==void 0&&f.deposit!==""&&(M.deposit=Number(f.deposit)),M.is_delivered=!!f.is_delivered,f.is_delivered&&f.delivery_fees!==void 0&&f.delivery_fees!==""&&(M.delivery_fees=Number(f.delivery_fees)),M.with_driver=!!f.with_driver,f.with_driver&&f.driver_fees!==void 0&&f.driver_fees!==""&&(M.driver_fees=Number(f.driver_fees)),f.min_rental_days!==void 0&&f.min_rental_days!==""&&(M.min_rental_days=Math.max(1,Number(f.min_rental_days)));try{const{data:V}=await Oe.put(`/cars/${c.id}`,M,{headers:{"Content-Type":"application/json"}});be.success("Car updated successfully"),r(W=>W.map(le=>le.id===c.id?{...le,...V.car}:le)),m(!1)}catch(V){const W=V.response?.data?.errors?Object.values(V.response.data.errors).flat().join(", "):V.response?.data?.error||V.response?.data?.message||"Failed to update car";be.error(W)}},Y=j.useMemo(()=>e.filter(M=>{const K=i.category==="all"||M.car_category===i.category,z=i.status==="all"||M.status===i.status,he=[M.make,M.model,M.license_plate].some(V=>V?.toLowerCase().includes(i.search.toLowerCase()));return K&&z&&he}),[e,i]),O=e.reduce((M,K)=>M+(K.views_count||0),0),se=e.reduce((M,K)=>M+(K.clicks_count||0),0),X=e.filter(M=>M.status==="approved").length;return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-black dark:via-gray-900 dark:to-gray-950 pt-20",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-xl flex items-center justify-center shadow-lg",style:{background:`linear-gradient(135deg, ${jt.teal}, ${jt.darkBlue})`},children:s.jsx(Gt,{className:"w-7 h-7 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"My Cars"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Manage your listed vehicles"})]})]}),s.jsxs(pe,{onClick:()=>t("/add-car"),className:"h-11 rounded-xl text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",style:{background:`linear-gradient(135deg, ${jt.teal}, ${jt.darkBlue})`},children:[s.jsx(er,{className:"w-5 h-5 mr-2"}),"Add New Car"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsx(Wg,{icon:Gt,label:"Total Cars",value:e.length,gradient:`linear-gradient(135deg, ${jt.teal}, ${jt.darkBlue})`}),s.jsx(Wg,{icon:sr,label:"Total Views",value:O,gradient:`linear-gradient(135deg, ${jt.darkBlue}, ${jt.teal})`}),s.jsx(Wg,{icon:dd,label:"Total Clicks",value:se,gradient:`linear-gradient(135deg, ${jt.teal}, ${jt.limeGreen})`}),s.jsx(Wg,{icon:Zl,label:"Approved",value:X,gradient:`linear-gradient(135deg, ${jt.limeGreen}, ${jt.teal})`})]}),s.jsx(Ue,{className:"mb-6 border-2 border-transparent shadow-lg rounded-xl",children:s.jsx(qe,{className:"p-5",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-end",children:[s.jsxs("div",{className:"md:col-span-1",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Fr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx(Se,{placeholder:"Search cars...",value:i.search,onChange:M=>v("search",M.target.value),className:"pl-9 h-10 border-2 rounded-xl transition-all duration-200",style:{borderColor:i.search?jt.teal:void 0}})]})]}),s.jsxs("div",{className:"md:col-span-1",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),s.jsxs(ft,{value:i.category,onValueChange:M=>v("category",M),children:[s.jsx(ut,{className:"h-10 border-2 rounded-xl",children:s.jsx(mt,{placeholder:"Select category"})}),s.jsx(ht,{children:uue.map(M=>s.jsx(Ce,{value:M.value,children:M.label},M.value))})]})]}),s.jsxs("div",{className:"md:col-span-1",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),s.jsxs(ft,{value:i.status,onValueChange:M=>v("status",M),children:[s.jsx(ut,{className:"h-10 border-2 rounded-xl",children:s.jsx(mt,{placeholder:"Select status"})}),s.jsx(ht,{children:hue.map(M=>s.jsx(Ce,{value:M.value,children:M.label},M.value))})]})]}),s.jsx("div",{className:"md:col-span-1 flex justify-end",children:(i.search||i.category!=="all"||i.status!=="all")&&s.jsx(pe,{variant:"outline",className:"h-10 rounded-xl border-2",style:{borderColor:jt.teal,color:jt.teal},onClick:w,children:"Clear Filters"})})]})})}),s.jsxs(Ue,{className:"border-2 border-transparent shadow-lg rounded-xl",children:[s.jsx(gs,{className:"pb-4",children:s.jsxs(xs,{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Your Listed Cars (",Y.length,")"]})}),s.jsx(qe,{children:n?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-t-transparent",style:{borderColor:jt.teal,borderTopColor:"transparent"}})}):Y.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 gap-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center",style:{background:jt.tealDim},children:s.jsx(Gt,{className:"w-8 h-8",style:{color:jt.teal}})}),s.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["No cars found."," ",s.jsx(pe,{variant:"link",className:"p-0 h-auto",style:{color:jt.teal},onClick:()=>t("/Add/car"),children:"Add your first car"})]})]}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:Y.map((M,K)=>{const z=M.car_accepted===!1||M.status==="pending";return s.jsxs(st.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:K*.03},className:`rounded-xl border-2 overflow-hidden bg-white dark:bg-gray-900 shadow-md hover:shadow-lg transition-shadow duration-200 ${z?"border-red-200 dark:border-red-900/50":"border-transparent"}`,children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"aspect-[4/3] w-full overflow-hidden bg-gray-100 dark:bg-gray-800",children:M.main_image_url?s.jsx("img",{src:M.main_image_url.startsWith("http")?M.main_image_url:`/api/storage/${M.main_image_url}`,alt:`${M.make} ${M.model}`,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{background:jt.tealDim},children:s.jsx(Gt,{className:"w-12 h-12",style:{color:jt.teal,opacity:.5}})})}),z&&s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx("span",{className:"px-2 py-1 rounded-md text-xs font-semibold text-red-600 dark:text-red-400 bg-red-100 dark:bg-red-900/40 shadow",children:"Pending"})})]}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"font-semibold text-gray-900 dark:text-white truncate",children:[M.make," ",M.model]}),s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[M.year,"  ",s.jsx("span",{className:"font-mono",children:M.license_plate})]}),s.jsxs("div",{className:"mt-2 flex items-center justify-between gap-2",children:[s.jsx(We,{className:"px-2 py-0.5 text-xs text-white font-semibold shrink-0",style:{background:mue(M.car_category)},children:M.car_category}),s.jsxs("span",{className:"text-sm font-bold",style:{color:jt.teal},children:["$",M.daily_rate,s.jsx("span",{className:"text-xs font-normal text-gray-500",children:"/day"})]})]}),s.jsxs("div",{className:"mt-2 flex items-center gap-3 text-xs text-gray-600 dark:text-gray-400",children:[s.jsxs("span",{className:"flex items-center gap-1",title:"Views",children:[s.jsx(sr,{className:"w-3.5 h-3.5",style:{color:jt.darkBlue}}),M.views_count??0]}),s.jsxs("span",{className:"flex items-center gap-1",title:"Clicks",children:[s.jsx(dd,{className:"w-3.5 h-3.5",style:{color:jt.teal}}),M.clicks_count??0]})]}),s.jsxs("div",{className:"mt-3 flex gap-1",children:[s.jsx(pe,{variant:"ghost",size:"sm",className:"h-8 flex-1 p-0 hover:scale-105 transition-transform",style:{color:jt.teal},onClick:()=>d(M),children:s.jsx(sr,{className:"w-4 h-4"})}),s.jsx(pe,{variant:"ghost",size:"sm",className:"h-8 flex-1 p-0 hover:scale-105 transition-transform",style:{color:jt.darkBlue},onClick:()=>E(M),children:s.jsx(qE,{className:"w-4 h-4"})}),s.jsx(pe,{variant:"ghost",size:"sm",className:"h-8 flex-1 p-0 text-red-600 hover:text-red-700 hover:scale-105 transition-transform",onClick:()=>S(M),children:s.jsx(Xs,{className:"w-4 h-4"})})]})]})]},M.id)})})})]}),!n&&Y.length>0&&s.jsxs("p",{className:"mt-4 text-sm text-gray-600 dark:text-gray-400",children:["Showing all ",Y.length," car",Y.length!==1?"s":""]}),c&&s.jsx(pue,{car:c,onClose:()=>d(null)}),_&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:s.jsxs(st.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-md p-6 relative",children:[s.jsx("button",{type:"button",className:"absolute top-4 right-4 w-8 h-8 rounded-full flex items-center justify-center transition-all hover:scale-110",style:{background:jt.tealDim},onClick:C,children:s.jsx(gr,{className:"w-5 h-5",style:{color:jt.teal}})}),s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center bg-red-100 dark:bg-red-900/30",children:s.jsx(Xs,{className:"w-6 h-6 text-red-600 dark:text-red-400"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Delete car"}),s.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[_.make," ",_.model," (",_.license_plate,")"]})]})]}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:["This action cannot be undone. Type ",s.jsx("strong",{className:"text-gray-900 dark:text-white",children:"delete"})," below to confirm."]}),s.jsx(Se,{type:"text",value:N,onChange:M=>k(M.target.value),placeholder:"Type delete to confirm",className:"h-10 border-2 rounded-xl mb-6",autoComplete:"off"}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(pe,{variant:"outline",onClick:C,className:"h-10 rounded-xl",children:"Cancel"}),s.jsx(pe,{onClick:I,disabled:N.toLowerCase()!=="delete",className:"h-10 rounded-xl text-white font-semibold bg-red-600 hover:bg-red-700 disabled:opacity-50 disabled:pointer-events-none",children:"Delete car"})]})]})}),h&&c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:s.jsxs(st.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto p-6 relative",children:[s.jsx("button",{className:"absolute top-4 right-4 w-8 h-8 rounded-full flex items-center justify-center transition-all hover:scale-110",style:{background:jt.tealDim},onClick:()=>m(!1),children:s.jsx(gr,{className:"w-5 h-5",style:{color:jt.teal}})}),s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{background:`linear-gradient(135deg, ${jt.darkBlue}, ${jt.teal})`},children:s.jsx(qE,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Edit Car"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:c.license_plate})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 mb-3 uppercase tracking-wider",children:"Basic info"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Make ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs(ft,{value:f.make??"",onValueChange:M=>q("make",M),children:[s.jsx(ut,{className:"h-10 border-2 rounded-xl",children:s.jsx(mt,{placeholder:"Select make"})}),s.jsx(ht,{children:due.map(M=>s.jsx(Ce,{value:M,children:M},M))})]})]}),f.make==="Other"&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Custom Make ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Se,{value:f.customMake??"",onChange:M=>q("customMake",M.target.value),placeholder:"Type make",className:"h-10 border-2 rounded-xl"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Model ",s.jsx("span",{className:"text-red-500",children:"*"})]}),f.make&&f.make!=="Other"?s.jsxs(ft,{value:f.model&&$f[f.make]?.includes(f.model)?f.model:f.model==="Other"?"Other":"_",onValueChange:M=>q("model",M==="_"?"":M),children:[s.jsx(ut,{className:"h-10 border-2 rounded-xl",children:s.jsx(mt,{placeholder:"Select model"})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"_",children:"Select model..."}),($f[f.make]||[]).map(M=>s.jsx(Ce,{value:M,children:M},M)),s.jsx(Ce,{value:"Other",children:"Other"})]})]}):s.jsx(Se,{value:f.customModel??"",onChange:M=>q("customModel",M.target.value),placeholder:"Type model",className:"h-10 border-2 rounded-xl"})]}),f.make&&f.make!=="Other"&&f.model==="Other"&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Custom Model ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Se,{value:f.customModel??"",onChange:M=>q("customModel",M.target.value),placeholder:"Type model",className:"h-10 border-2 rounded-xl"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Year"}),s.jsx(Se,{type:"number",value:f.year??"",onChange:M=>q("year",M.target.value),placeholder:"e.g. 2023",className:"h-10 border-2 rounded-xl"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Color"}),s.jsxs(ft,{value:f.color||"_",onValueChange:M=>q("color",M==="_"?"":M),children:[s.jsx(ut,{className:"h-10 border-2 rounded-xl",children:s.jsx(mt,{placeholder:"Select color"})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"_",children:""}),(()=>{const M=f.color??"";return(M&&!g1.includes(M)?[M,...g1]:g1).map(he=>s.jsx(Ce,{value:he,children:he},he))})()]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 mb-3 uppercase tracking-wider",children:"Transmission"}),s.jsxs(ft,{value:(f.transmission||"automatic").toLowerCase(),onValueChange:M=>q("transmission",M),children:[s.jsx(ut,{className:"h-10 border-2 rounded-xl",children:s.jsx(mt,{placeholder:"Transmission"})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"automatic",children:"Automatic"}),s.jsx(Ce,{value:"manual",children:"Manual"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 mb-3 uppercase tracking-wider",children:"Status"}),s.jsxs(ft,{value:f.status??"available",onValueChange:M=>q("status",M),children:[s.jsx(ut,{className:"h-10 border-2 rounded-xl",children:s.jsx(mt,{placeholder:"Car status"})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"available",children:"Available"}),s.jsx(Ce,{value:"not_available",children:"Not available"}),s.jsx(Ce,{value:"rented",children:"Rented"}),s.jsx(Ce,{value:"maintenance",children:"Maintenance"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 mb-3 uppercase tracking-wider",children:"Pricing & costs"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Daily rate ($) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Se,{type:"number",min:0,value:f.daily_rate??"",onChange:M=>q("daily_rate",M.target.value),placeholder:"0",className:"h-10 border-2 rounded-xl"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Holiday rate ($)"}),s.jsx(Se,{type:"number",min:0,value:f.holiday_rate??"",onChange:M=>q("holiday_rate",M.target.value),placeholder:"0",className:"h-10 border-2 rounded-xl"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Min rental days"}),s.jsx(Se,{type:"number",min:1,value:f.min_rental_days??1,onChange:M=>q("min_rental_days",M.target.value),className:"h-10 border-2 rounded-xl"})]})]}),s.jsxs("div",{className:"mt-4 space-y-4",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:!!f.is_deposit,onChange:M=>q("is_deposit",M.target.checked),className:"w-4 h-4 rounded border-2",style:{accentColor:jt.teal}}),s.jsx("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Require deposit"})]}),f.is_deposit&&s.jsxs("div",{className:"pl-6",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Deposit amount ($)"}),s.jsx(Se,{type:"number",min:0,value:f.deposit??"",onChange:M=>q("deposit",M.target.value),placeholder:"0",className:"h-10 border-2 rounded-xl max-w-xs"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:!!f.is_delivered,onChange:M=>q("is_delivered",M.target.checked),className:"w-4 h-4 rounded border-2",style:{accentColor:jt.teal}}),s.jsx("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Delivery available"})]}),f.is_delivered&&s.jsxs("div",{className:"pl-6",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Delivery fees ($)"}),s.jsx(Se,{type:"number",min:0,value:f.delivery_fees??"",onChange:M=>q("delivery_fees",M.target.value),placeholder:"0",className:"h-10 border-2 rounded-xl max-w-xs"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:!!f.with_driver,onChange:M=>q("with_driver",M.target.checked),className:"w-4 h-4 rounded border-2",style:{accentColor:jt.teal}}),s.jsx("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Driver available"})]}),f.with_driver&&s.jsxs("div",{className:"pl-6",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Driver fees per day ($)"}),s.jsx(Se,{type:"number",min:0,value:f.driver_fees??"",onChange:M=>q("driver_fees",M.target.value),placeholder:"0",className:"h-10 border-2 rounded-xl max-w-xs"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 mb-3 uppercase tracking-wider",children:"Other"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:[s.jsx(zl,{className:"w-4 h-4 inline mr-1",style:{color:jt.teal}}),"Mileage (km)"]}),s.jsx(Se,{type:"number",min:0,value:f.mileage??"",onChange:M=>q("mileage",M.target.value),placeholder:"0",className:"h-10 border-2 rounded-xl"})]})}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Notes"}),s.jsx("textarea",{value:f.notes??"",onChange:M=>q("notes",M.target.value),placeholder:"Optional notes about the vehicle",rows:3,className:"w-full border-2 rounded-xl p-3 bg-white dark:bg-gray-900 resize-none"})]})]})]}),s.jsxs("div",{className:"mt-6 flex justify-end gap-3 sticky bottom-0 bg-white dark:bg-gray-900 pt-4 -mb-6",children:[s.jsx(pe,{variant:"outline",onClick:()=>m(!1),className:"h-10 rounded-xl",children:"Cancel"}),s.jsx(pe,{onClick:F,className:"h-10 rounded-xl text-white font-semibold",style:{background:`linear-gradient(135deg, ${jt.teal}, ${jt.darkBlue})`},children:"Save Changes"})]})]})})]})})},Wg=({icon:t,label:e,value:r,gradient:n})=>s.jsx(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:s.jsx(Ue,{className:"border-2 border-transparent hover:shadow-lg transition-all duration-300 rounded-xl",children:s.jsx(qe,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-11 h-11 rounded-xl flex items-center justify-center shadow-md",style:{background:n},children:s.jsx(t,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 font-medium",children:e}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r})]})]})})})});class eS{constructor(){this.notificationCreatedEvent=".Illuminate\\Notifications\\Events\\BroadcastNotificationCreated"}listenForWhisper(e,r){return this.listen(".client-"+e,r)}notification(e){return this.listen(this.notificationCreatedEvent,e)}stopListeningForNotification(e){return this.stopListening(this.notificationCreatedEvent,e)}stopListeningForWhisper(e,r){return this.stopListening(".client-"+e,r)}}class BF{constructor(e){this.namespace=e}format(e){return[".","\\"].includes(e.charAt(0))?e.substring(1):(this.namespace&&(e=this.namespace+"."+e),e.replace(/\./g,"\\"))}setNamespace(e){this.namespace=e}}function xue(t){try{new t}catch(e){if(e instanceof Error&&e.message.includes("is not a constructor"))return!1}return!0}class tS extends eS{constructor(e,r,n){super(),this.name=r,this.pusher=e,this.options=n,this.eventFormatter=new BF(this.options.namespace),this.subscribe()}subscribe(){this.subscription=this.pusher.subscribe(this.name)}unsubscribe(){this.pusher.unsubscribe(this.name)}listen(e,r){return this.on(this.eventFormatter.format(e),r),this}listenToAll(e){return this.subscription.bind_global((r,n)=>{if(r.startsWith("pusher:"))return;let a=String(this.options.namespace??"").replace(/\./g,"\\"),i=r.startsWith(a)?r.substring(a.length+1):"."+r;e(i,n)}),this}stopListening(e,r){return r?this.subscription.unbind(this.eventFormatter.format(e),r):this.subscription.unbind(this.eventFormatter.format(e)),this}stopListeningToAll(e){return e?this.subscription.unbind_global(e):this.subscription.unbind_global(),this}subscribed(e){return this.on("pusher:subscription_succeeded",()=>{e()}),this}error(e){return this.on("pusher:subscription_error",r=>{e(r)}),this}on(e,r){return this.subscription.bind(e,r),this}}class IF extends tS{whisper(e,r){return this.pusher.channels.channels[this.name].trigger(`client-${e}`,r),this}}class yue extends tS{whisper(e,r){return this.pusher.channels.channels[this.name].trigger(`client-${e}`,r),this}}class bue extends IF{here(e){return this.on("pusher:subscription_succeeded",r=>{e(Object.keys(r.members).map(n=>r.members[n]))}),this}joining(e){return this.on("pusher:member_added",r=>{e(r.info)}),this}whisper(e,r){return this.pusher.channels.channels[this.name].trigger(`client-${e}`,r),this}leaving(e){return this.on("pusher:member_removed",r=>{e(r.info)}),this}}class zF extends eS{constructor(e,r,n){super(),this.events={},this.listeners={},this.name=r,this.socket=e,this.options=n,this.eventFormatter=new BF(this.options.namespace),this.subscribe()}subscribe(){this.socket.emit("subscribe",{channel:this.name,auth:this.options.auth||{}})}unsubscribe(){this.unbind(),this.socket.emit("unsubscribe",{channel:this.name,auth:this.options.auth||{}})}listen(e,r){return this.on(this.eventFormatter.format(e),r),this}stopListening(e,r){return this.unbindEvent(this.eventFormatter.format(e),r),this}subscribed(e){return this.on("connect",r=>{e(r)}),this}error(e){return this}on(e,r){return this.listeners[e]=this.listeners[e]||[],this.events[e]||(this.events[e]=(n,a)=>{this.name===n&&this.listeners[e]&&this.listeners[e].forEach(i=>i(a))},this.socket.on(e,this.events[e])),this.listeners[e].push(r),this}unbind(){Object.keys(this.events).forEach(e=>{this.unbindEvent(e)})}unbindEvent(e,r){this.listeners[e]=this.listeners[e]||[],r&&(this.listeners[e]=this.listeners[e].filter(n=>n!==r)),(!r||this.listeners[e].length===0)&&(this.events[e]&&(this.socket.removeListener(e,this.events[e]),delete this.events[e]),delete this.listeners[e])}}class UF extends zF{whisper(e,r){return this.socket.emit("client event",{channel:this.name,event:`client-${e}`,data:r}),this}}class vue extends UF{here(e){return this.on("presence:subscribed",r=>{e(r.map(n=>n.user_info))}),this}joining(e){return this.on("presence:joining",r=>e(r.user_info)),this}whisper(e,r){return this.socket.emit("client event",{channel:this.name,event:`client-${e}`,data:r}),this}leaving(e){return this.on("presence:leaving",r=>e(r.user_info)),this}}class d0 extends eS{subscribe(){}unsubscribe(){}listen(e,r){return this}listenToAll(e){return this}stopListening(e,r){return this}subscribed(e){return this}error(e){return this}on(e,r){return this}}class $F extends d0{whisper(e,r){return this}}class wue extends d0{whisper(e,r){return this}}class jue extends $F{here(e){return this}joining(e){return this}whisper(e,r){return this}leaving(e){return this}}const VF=class HF{constructor(e){this.setOptions(e),this.connect()}setOptions(e){this.options={...HF._defaultOptions,...e,broadcaster:e.broadcaster};let r=this.csrfToken();r&&(this.options.auth.headers["X-CSRF-TOKEN"]=r,this.options.userAuthentication.headers["X-CSRF-TOKEN"]=r),r=this.options.bearerToken,r&&(this.options.auth.headers.Authorization="Bearer "+r,this.options.userAuthentication.headers.Authorization="Bearer "+r)}csrfToken(){var e,r;return typeof window<"u"&&(e=window.Laravel)!=null&&e.csrfToken?window.Laravel.csrfToken:this.options.csrfToken?this.options.csrfToken:typeof document<"u"&&typeof document.querySelector=="function"?((r=document.querySelector('meta[name="csrf-token"]'))==null?void 0:r.getAttribute("content"))??null:null}};VF._defaultOptions={auth:{headers:{}},authEndpoint:"/broadcasting/auth",userAuthentication:{endpoint:"/broadcasting/user-auth",headers:{}},csrfToken:null,bearerToken:null,host:null,key:null,namespace:"App.Events"};let sS=VF;class Gg extends sS{constructor(){super(...arguments),this.channels={}}connect(){if(typeof this.options.client<"u")this.pusher=this.options.client;else if(this.options.Pusher)this.pusher=new this.options.Pusher(this.options.key,this.options);else if(typeof window<"u"&&typeof window.Pusher<"u")this.pusher=new window.Pusher(this.options.key,this.options);else throw new Error("Pusher client not found. Should be globally available or passed via options.client")}signin(){this.pusher.signin()}listen(e,r,n){return this.channel(e).listen(r,n)}channel(e){return this.channels[e]||(this.channels[e]=new tS(this.pusher,e,this.options)),this.channels[e]}privateChannel(e){return this.channels["private-"+e]||(this.channels["private-"+e]=new IF(this.pusher,"private-"+e,this.options)),this.channels["private-"+e]}encryptedPrivateChannel(e){return this.channels["private-encrypted-"+e]||(this.channels["private-encrypted-"+e]=new yue(this.pusher,"private-encrypted-"+e,this.options)),this.channels["private-encrypted-"+e]}presenceChannel(e){return this.channels["presence-"+e]||(this.channels["presence-"+e]=new bue(this.pusher,"presence-"+e,this.options)),this.channels["presence-"+e]}leave(e){[e,"private-"+e,"private-encrypted-"+e,"presence-"+e].forEach(r=>{this.leaveChannel(r)})}leaveChannel(e){this.channels[e]&&(this.channels[e].unsubscribe(),delete this.channels[e])}socketId(){return this.pusher.connection.socket_id}disconnect(){this.pusher.disconnect()}}class _ue extends sS{constructor(){super(...arguments),this.channels={}}connect(){let e=this.getSocketIO();this.socket=e(this.options.host??void 0,this.options),this.socket.io.on("reconnect",()=>{Object.values(this.channels).forEach(r=>{r.subscribe()})})}getSocketIO(){if(typeof this.options.client<"u")return this.options.client;if(typeof window<"u"&&typeof window.io<"u")return window.io;throw new Error("Socket.io client not found. Should be globally available or passed via options.client")}listen(e,r,n){return this.channel(e).listen(r,n)}channel(e){return this.channels[e]||(this.channels[e]=new zF(this.socket,e,this.options)),this.channels[e]}privateChannel(e){return this.channels["private-"+e]||(this.channels["private-"+e]=new UF(this.socket,"private-"+e,this.options)),this.channels["private-"+e]}presenceChannel(e){return this.channels["presence-"+e]||(this.channels["presence-"+e]=new vue(this.socket,"presence-"+e,this.options)),this.channels["presence-"+e]}leave(e){[e,"private-"+e,"presence-"+e].forEach(r=>{this.leaveChannel(r)})}leaveChannel(e){this.channels[e]&&(this.channels[e].unsubscribe(),delete this.channels[e])}socketId(){return this.socket.id}disconnect(){this.socket.disconnect()}}class pD extends sS{constructor(){super(...arguments),this.channels={}}connect(){}listen(e,r,n){return new d0}channel(e){return new d0}privateChannel(e){return new $F}encryptedPrivateChannel(e){return new wue}presenceChannel(e){return new jue}leave(e){}leaveChannel(e){}socketId(){return"fake-socket-id"}disconnect(){}}class qF{constructor(e){this.options=e,this.connect(),this.options.withoutInterceptors||this.registerInterceptors()}channel(e){return this.connector.channel(e)}connect(){if(this.options.broadcaster==="reverb")this.connector=new Gg({...this.options,cluster:""});else if(this.options.broadcaster==="pusher")this.connector=new Gg(this.options);else if(this.options.broadcaster==="ably")this.connector=new Gg({...this.options,cluster:"",broadcaster:"pusher"});else if(this.options.broadcaster==="socket.io")this.connector=new _ue(this.options);else if(this.options.broadcaster==="null")this.connector=new pD(this.options);else if(typeof this.options.broadcaster=="function"&&xue(this.options.broadcaster))this.connector=new this.options.broadcaster(this.options);else throw new Error(`Broadcaster ${typeof this.options.broadcaster} ${String(this.options.broadcaster)} is not supported.`)}disconnect(){this.connector.disconnect()}join(e){return this.connector.presenceChannel(e)}leave(e){this.connector.leave(e)}leaveChannel(e){this.connector.leaveChannel(e)}leaveAllChannels(){for(const e in this.connector.channels)this.leaveChannel(e)}listen(e,r,n){return this.connector.listen(e,r,n)}private(e){return this.connector.privateChannel(e)}encryptedPrivate(e){if(this.connectorSupportsEncryptedPrivateChannels(this.connector))return this.connector.encryptedPrivateChannel(e);throw new Error(`Broadcaster ${typeof this.options.broadcaster} ${String(this.options.broadcaster)} does not support encrypted private channels.`)}connectorSupportsEncryptedPrivateChannels(e){return e instanceof Gg||e instanceof pD}socketId(){return this.connector.socketId()}registerInterceptors(){typeof Vue<"u"&&Vue!=null&&Vue.http&&this.registerVueRequestInterceptor(),typeof axios=="function"&&this.registerAxiosRequestInterceptor(),typeof jQuery=="function"&&this.registerjQueryAjaxSetup(),typeof Turbo=="object"&&this.registerTurboRequestInterceptor()}registerVueRequestInterceptor(){Vue.http.interceptors.push((e,r)=>{this.socketId()&&e.headers.set("X-Socket-ID",this.socketId()),r()})}registerAxiosRequestInterceptor(){axios.interceptors.request.use(e=>(this.socketId()&&(e.headers["X-Socket-Id"]=this.socketId()),e))}registerjQueryAjaxSetup(){typeof jQuery.ajax<"u"&&jQuery.ajaxPrefilter((e,r,n)=>{this.socketId()&&n.setRequestHeader("X-Socket-Id",this.socketId())})}registerTurboRequestInterceptor(){document.addEventListener("turbo:before-fetch-request",e=>{e.detail.fetchOptions.headers["X-Socket-Id"]=this.socketId()})}}var x1={exports:{}};var gD;function Nue(){return gD||(gD=1,(function(t,e){(function(n,a){t.exports=a()})(window,function(){return(function(r){var n={};function a(i){if(n[i])return n[i].exports;var o=n[i]={i,l:!1,exports:{}};return r[i].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=r,a.c=n,a.d=function(i,o,c){a.o(i,o)||Object.defineProperty(i,o,{enumerable:!0,get:c})},a.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},a.t=function(i,o){if(o&1&&(i=a(i)),o&8||o&4&&typeof i=="object"&&i&&i.__esModule)return i;var c=Object.create(null);if(a.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:i}),o&2&&typeof i!="string")for(var d in i)a.d(c,d,(function(h){return i[h]}).bind(null,d));return c},a.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return a.d(o,"a",o),o},a.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},a.p="",a(a.s=2)})([(function(r,n,a){var i=this&&this.__extends||(function(){var w=function(_,b){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,k){N.__proto__=k}||function(N,k){for(var S in k)k.hasOwnProperty(S)&&(N[S]=k[S])},w(_,b)};return function(_,b){w(_,b);function N(){this.constructor=_}_.prototype=b===null?Object.create(b):(N.prototype=b.prototype,new N)}})();Object.defineProperty(n,"__esModule",{value:!0});var o=256,c=(function(){function w(_){_===void 0&&(_="="),this._paddingCharacter=_}return w.prototype.encodedLength=function(_){return this._paddingCharacter?(_+2)/3*4|0:(_*8+5)/6|0},w.prototype.encode=function(_){for(var b="",N=0;N<_.length-2;N+=3){var k=_[N]<<16|_[N+1]<<8|_[N+2];b+=this._encodeByte(k>>>18&63),b+=this._encodeByte(k>>>12&63),b+=this._encodeByte(k>>>6&63),b+=this._encodeByte(k>>>0&63)}var S=_.length-N;if(S>0){var k=_[N]<<16|(S===2?_[N+1]<<8:0);b+=this._encodeByte(k>>>18&63),b+=this._encodeByte(k>>>12&63),S===2?b+=this._encodeByte(k>>>6&63):b+=this._paddingCharacter||"",b+=this._paddingCharacter||""}return b},w.prototype.maxDecodedLength=function(_){return this._paddingCharacter?_/4*3|0:(_*6+7)/8|0},w.prototype.decodedLength=function(_){return this.maxDecodedLength(_.length-this._getPaddingLength(_))},w.prototype.decode=function(_){if(_.length===0)return new Uint8Array(0);for(var b=this._getPaddingLength(_),N=_.length-b,k=new Uint8Array(this.maxDecodedLength(N)),S=0,C=0,I=0,E=0,U=0,T=0,ne=0;C<N-4;C+=4)E=this._decodeChar(_.charCodeAt(C+0)),U=this._decodeChar(_.charCodeAt(C+1)),T=this._decodeChar(_.charCodeAt(C+2)),ne=this._decodeChar(_.charCodeAt(C+3)),k[S++]=E<<2|U>>>4,k[S++]=U<<4|T>>>2,k[S++]=T<<6|ne,I|=E&o,I|=U&o,I|=T&o,I|=ne&o;if(C<N-1&&(E=this._decodeChar(_.charCodeAt(C)),U=this._decodeChar(_.charCodeAt(C+1)),k[S++]=E<<2|U>>>4,I|=E&o,I|=U&o),C<N-2&&(T=this._decodeChar(_.charCodeAt(C+2)),k[S++]=U<<4|T>>>2,I|=T&o),C<N-3&&(ne=this._decodeChar(_.charCodeAt(C+3)),k[S++]=T<<6|ne,I|=ne&o),I!==0)throw new Error("Base64Coder: incorrect characters for decoding");return k},w.prototype._encodeByte=function(_){var b=_;return b+=65,b+=25-_>>>8&6,b+=51-_>>>8&-75,b+=61-_>>>8&-15,b+=62-_>>>8&3,String.fromCharCode(b)},w.prototype._decodeChar=function(_){var b=o;return b+=(42-_&_-44)>>>8&-o+_-43+62,b+=(46-_&_-48)>>>8&-o+_-47+63,b+=(47-_&_-58)>>>8&-o+_-48+52,b+=(64-_&_-91)>>>8&-o+_-65+0,b+=(96-_&_-123)>>>8&-o+_-97+26,b},w.prototype._getPaddingLength=function(_){var b=0;if(this._paddingCharacter){for(var N=_.length-1;N>=0&&_[N]===this._paddingCharacter;N--)b++;if(_.length<4||b>2)throw new Error("Base64Coder: incorrect padding")}return b},w})();n.Coder=c;var d=new c;function h(w){return d.encode(w)}n.encode=h;function m(w){return d.decode(w)}n.decode=m;var f=(function(w){i(_,w);function _(){return w!==null&&w.apply(this,arguments)||this}return _.prototype._encodeByte=function(b){var N=b;return N+=65,N+=25-b>>>8&6,N+=51-b>>>8&-75,N+=61-b>>>8&-13,N+=62-b>>>8&49,String.fromCharCode(N)},_.prototype._decodeChar=function(b){var N=o;return N+=(44-b&b-46)>>>8&-o+b-45+62,N+=(94-b&b-96)>>>8&-o+b-95+63,N+=(47-b&b-58)>>>8&-o+b-48+52,N+=(64-b&b-91)>>>8&-o+b-65+0,N+=(96-b&b-123)>>>8&-o+b-97+26,N},_})(c);n.URLSafeCoder=f;var g=new f;function y(w){return g.encode(w)}n.encodeURLSafe=y;function v(w){return g.decode(w)}n.decodeURLSafe=v,n.encodedLength=function(w){return d.encodedLength(w)},n.maxDecodedLength=function(w){return d.maxDecodedLength(w)},n.decodedLength=function(w){return d.decodedLength(w)}}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i="utf8: invalid string",o="utf8: invalid source encoding";function c(m){for(var f=new Uint8Array(d(m)),g=0,y=0;y<m.length;y++){var v=m.charCodeAt(y);v<128?f[g++]=v:v<2048?(f[g++]=192|v>>6,f[g++]=128|v&63):v<55296?(f[g++]=224|v>>12,f[g++]=128|v>>6&63,f[g++]=128|v&63):(y++,v=(v&1023)<<10,v|=m.charCodeAt(y)&1023,v+=65536,f[g++]=240|v>>18,f[g++]=128|v>>12&63,f[g++]=128|v>>6&63,f[g++]=128|v&63)}return f}n.encode=c;function d(m){for(var f=0,g=0;g<m.length;g++){var y=m.charCodeAt(g);if(y<128)f+=1;else if(y<2048)f+=2;else if(y<55296)f+=3;else if(y<=57343){if(g>=m.length-1)throw new Error(i);g++,f+=4}else throw new Error(i)}return f}n.encodedLength=d;function h(m){for(var f=[],g=0;g<m.length;g++){var y=m[g];if(y&128){var v=void 0;if(y<224){if(g>=m.length)throw new Error(o);var w=m[++g];if((w&192)!==128)throw new Error(o);y=(y&31)<<6|w&63,v=128}else if(y<240){if(g>=m.length-1)throw new Error(o);var w=m[++g],_=m[++g];if((w&192)!==128||(_&192)!==128)throw new Error(o);y=(y&15)<<12|(w&63)<<6|_&63,v=2048}else if(y<248){if(g>=m.length-2)throw new Error(o);var w=m[++g],_=m[++g],b=m[++g];if((w&192)!==128||(_&192)!==128||(b&192)!==128)throw new Error(o);y=(y&15)<<18|(w&63)<<12|(_&63)<<6|b&63,v=65536}else throw new Error(o);if(y<v||y>=55296&&y<=57343)throw new Error(o);if(y>=65536){if(y>1114111)throw new Error(o);y-=65536,f.push(String.fromCharCode(55296|y>>10)),y=56320|y&1023}}f.push(String.fromCharCode(y))}return f.join("")}n.decode=h}),(function(r,n,a){r.exports=a(3).default}),(function(r,n,a){a.r(n);class i{constructor(B,re){this.lastId=0,this.prefix=B,this.name=re}create(B){this.lastId++;var re=this.lastId,Ne=this.prefix+re,Re=this.name+"["+re+"]",Xe=!1,dt=function(){Xe||(B.apply(null,arguments),Xe=!0)};return this[re]=dt,{number:re,id:Ne,name:Re,callback:dt}}remove(B){delete this[B.number]}}var o=new i("_pusher_script_","Pusher.ScriptReceivers"),c={VERSION:"8.4.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},d=c;class h{constructor(B){this.options=B,this.receivers=B.receivers||o,this.loading={}}load(B,re,Ne){var Re=this;if(Re.loading[B]&&Re.loading[B].length>0)Re.loading[B].push(Ne);else{Re.loading[B]=[Ne];var Xe=Lt.createScriptRequest(Re.getPath(B,re)),dt=Re.receivers.create(function(wt){if(Re.receivers.remove(dt),Re.loading[B]){var Wt=Re.loading[B];delete Re.loading[B];for(var is=function(hr){hr||Xe.cleanup()},fs=0;fs<Wt.length;fs++)Wt[fs](wt,is)}});Xe.send(dt)}}getRoot(B){var re,Ne=Lt.getDocument().location.protocol;return B&&B.useTLS||Ne==="https:"?re=this.options.cdn_https:re=this.options.cdn_http,re.replace(/\/*$/,"")+"/"+this.options.version}getPath(B,re){return this.getRoot(re)+"/"+B+this.options.suffix+".js"}}var m=new i("_pusher_dependencies","Pusher.DependenciesReceivers"),f=new h({cdn_http:d.cdn_http,cdn_https:d.cdn_https,version:d.VERSION,suffix:d.dependency_suffix,receivers:m});const g={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}};var v={buildLogSuffix:function(ie){const B="See:",re=g.urls[ie];if(!re)return"";let Ne;return re.fullUrl?Ne=re.fullUrl:re.path&&(Ne=g.baseUrl+re.path),Ne?`${B} ${Ne}`:""}},w;(function(ie){ie.UserAuthentication="user-authentication",ie.ChannelAuthorization="channel-authorization"})(w||(w={}));class _ extends Error{constructor(B){super(B),Object.setPrototypeOf(this,new.target.prototype)}}class b extends Error{constructor(B){super(B),Object.setPrototypeOf(this,new.target.prototype)}}class N extends Error{constructor(B){super(B),Object.setPrototypeOf(this,new.target.prototype)}}class k extends Error{constructor(B){super(B),Object.setPrototypeOf(this,new.target.prototype)}}class S extends Error{constructor(B){super(B),Object.setPrototypeOf(this,new.target.prototype)}}class C extends Error{constructor(B){super(B),Object.setPrototypeOf(this,new.target.prototype)}}class I extends Error{constructor(B){super(B),Object.setPrototypeOf(this,new.target.prototype)}}class E extends Error{constructor(B){super(B),Object.setPrototypeOf(this,new.target.prototype)}}class U extends Error{constructor(B,re){super(re),this.status=B,Object.setPrototypeOf(this,new.target.prototype)}}var ne=function(ie,B,re,Ne,Re){const Xe=Lt.createXHR();Xe.open("POST",re.endpoint,!0),Xe.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var dt in re.headers)Xe.setRequestHeader(dt,re.headers[dt]);if(re.headersProvider!=null){let wt=re.headersProvider();for(var dt in wt)Xe.setRequestHeader(dt,wt[dt])}return Xe.onreadystatechange=function(){if(Xe.readyState===4)if(Xe.status===200){let wt,Wt=!1;try{wt=JSON.parse(Xe.responseText),Wt=!0}catch{Re(new U(200,`JSON returned from ${Ne.toString()} endpoint was invalid, yet status code was 200. Data was: ${Xe.responseText}`),null)}Wt&&Re(null,wt)}else{let wt="";switch(Ne){case w.UserAuthentication:wt=v.buildLogSuffix("authenticationEndpoint");break;case w.ChannelAuthorization:wt=`Clients must be authorized to join private or presence channels. ${v.buildLogSuffix("authorizationEndpoint")}`;break}Re(new U(Xe.status,`Unable to retrieve auth string from ${Ne.toString()} endpoint - received status: ${Xe.status} from ${re.endpoint}. ${wt}`),null)}},Xe.send(B),Xe};function q(ie){return M(se(ie))}var F=String.fromCharCode,Y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",O=function(ie){var B=ie.charCodeAt(0);return B<128?ie:B<2048?F(192|B>>>6)+F(128|B&63):F(224|B>>>12&15)+F(128|B>>>6&63)+F(128|B&63)},se=function(ie){return ie.replace(/[^\x00-\x7F]/g,O)},X=function(ie){var B=[0,2,1][ie.length%3],re=ie.charCodeAt(0)<<16|(ie.length>1?ie.charCodeAt(1):0)<<8|(ie.length>2?ie.charCodeAt(2):0),Ne=[Y.charAt(re>>>18),Y.charAt(re>>>12&63),B>=2?"=":Y.charAt(re>>>6&63),B>=1?"=":Y.charAt(re&63)];return Ne.join("")},M=window.btoa||function(ie){return ie.replace(/[\s\S]{1,3}/g,X)};class K{constructor(B,re,Ne,Re){this.clear=re,this.timer=B(()=>{this.timer&&(this.timer=Re(this.timer))},Ne)}isRunning(){return this.timer!==null}ensureAborted(){this.timer&&(this.clear(this.timer),this.timer=null)}}var z=K;function he(ie){window.clearTimeout(ie)}function V(ie){window.clearInterval(ie)}class W extends z{constructor(B,re){super(setTimeout,he,B,function(Ne){return re(),null})}}class le extends z{constructor(B,re){super(setInterval,V,B,function(Ne){return re(),Ne})}}var oe={now(){return Date.now?Date.now():new Date().valueOf()},defer(ie){return new W(0,ie)},method(ie,...B){var re=Array.prototype.slice.call(arguments,1);return function(Ne){return Ne[ie].apply(Ne,re.concat(arguments))}}},ve=oe;function me(ie,...B){for(var re=0;re<B.length;re++){var Ne=B[re];for(var Re in Ne)Ne[Re]&&Ne[Re].constructor&&Ne[Re].constructor===Object?ie[Re]=me(ie[Re]||{},Ne[Re]):ie[Re]=Ne[Re]}return ie}function $(){for(var ie=["Pusher"],B=0;B<arguments.length;B++)typeof arguments[B]=="string"?ie.push(arguments[B]):ie.push(De(arguments[B]));return ie.join(" : ")}function H(ie,B){var re=Array.prototype.indexOf;if(ie===null)return-1;if(re&&ie.indexOf===re)return ie.indexOf(B);for(var Ne=0,Re=ie.length;Ne<Re;Ne++)if(ie[Ne]===B)return Ne;return-1}function fe(ie,B){for(var re in ie)Object.prototype.hasOwnProperty.call(ie,re)&&B(ie[re],re,ie)}function Z(ie){var B=[];return fe(ie,function(re,Ne){B.push(Ne)}),B}function ee(ie){var B=[];return fe(ie,function(re){B.push(re)}),B}function J(ie,B,re){for(var Ne=0;Ne<ie.length;Ne++)B.call(re||window,ie[Ne],Ne,ie)}function ke(ie,B){for(var re=[],Ne=0;Ne<ie.length;Ne++)re.push(B(ie[Ne],Ne,ie,re));return re}function L(ie,B){var re={};return fe(ie,function(Ne,Re){re[Re]=B(Ne)}),re}function Te(ie,B){B=B||function(Re){return!!Re};for(var re=[],Ne=0;Ne<ie.length;Ne++)B(ie[Ne],Ne,ie,re)&&re.push(ie[Ne]);return re}function Q(ie,B){var re={};return fe(ie,function(Ne,Re){(B&&B(Ne,Re,ie,re)||Ne)&&(re[Re]=Ne)}),re}function R(ie){var B=[];return fe(ie,function(re,Ne){B.push([Ne,re])}),B}function P(ie,B){for(var re=0;re<ie.length;re++)if(B(ie[re],re,ie))return!0;return!1}function G(ie,B){for(var re=0;re<ie.length;re++)if(!B(ie[re],re,ie))return!1;return!0}function ye(ie){return L(ie,function(B){return typeof B=="object"&&(B=De(B)),encodeURIComponent(q(B.toString()))})}function ce(ie){var B=Q(ie,function(Ne){return Ne!==void 0}),re=ke(R(ye(B)),ve.method("join","=")).join("&");return re}function ue(ie){var B=[],re=[];return(function Ne(Re,Xe){var dt,wt,Wt;switch(typeof Re){case"object":if(!Re)return null;for(dt=0;dt<B.length;dt+=1)if(B[dt]===Re)return{$ref:re[dt]};if(B.push(Re),re.push(Xe),Object.prototype.toString.apply(Re)==="[object Array]")for(Wt=[],dt=0;dt<Re.length;dt+=1)Wt[dt]=Ne(Re[dt],Xe+"["+dt+"]");else{Wt={};for(wt in Re)Object.prototype.hasOwnProperty.call(Re,wt)&&(Wt[wt]=Ne(Re[wt],Xe+"["+JSON.stringify(wt)+"]"))}return Wt;case"number":case"string":case"boolean":return Re}})(ie,"$")}function De(ie){try{return JSON.stringify(ie)}catch{return JSON.stringify(ue(ie))}}class je{constructor(){this.globalLog=B=>{window.console&&window.console.log&&window.console.log(B)}}debug(...B){this.log(this.globalLog,B)}warn(...B){this.log(this.globalLogWarn,B)}error(...B){this.log(this.globalLogError,B)}globalLogWarn(B){window.console&&window.console.warn?window.console.warn(B):this.globalLog(B)}globalLogError(B){window.console&&window.console.error?window.console.error(B):this.globalLogWarn(B)}log(B,...re){var Ne=$.apply(this,arguments);Ah.log?Ah.log(Ne):Ah.logToConsole&&B.bind(this)(Ne)}}var Ae=new je,Be=function(ie,B,re,Ne,Re){(re.headers!==void 0||re.headersProvider!=null)&&Ae.warn(`To send headers with the ${Ne.toString()} request, you must use AJAX, rather than JSONP.`);var Xe=ie.nextAuthCallbackID.toString();ie.nextAuthCallbackID++;var dt=ie.getDocument(),wt=dt.createElement("script");ie.auth_callbacks[Xe]=function(fs){Re(null,fs)};var Wt="Pusher.auth_callbacks['"+Xe+"']";wt.src=re.endpoint+"?callback="+encodeURIComponent(Wt)+"&"+B;var is=dt.getElementsByTagName("head")[0]||dt.documentElement;is.insertBefore(wt,is.firstChild)},et=Be;class lt{constructor(B){this.src=B}send(B){var re=this,Ne="Error loading "+re.src;re.script=document.createElement("script"),re.script.id=B.id,re.script.src=re.src,re.script.type="text/javascript",re.script.charset="UTF-8",re.script.addEventListener?(re.script.onerror=function(){B.callback(Ne)},re.script.onload=function(){B.callback(null)}):re.script.onreadystatechange=function(){(re.script.readyState==="loaded"||re.script.readyState==="complete")&&B.callback(null)},re.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(re.errorScript=document.createElement("script"),re.errorScript.id=B.id+"_error",re.errorScript.text=B.name+"('"+Ne+"');",re.script.async=re.errorScript.async=!1):re.script.async=!0;var Re=document.getElementsByTagName("head")[0];Re.insertBefore(re.script,Re.firstChild),re.errorScript&&Re.insertBefore(re.errorScript,re.script.nextSibling)}cleanup(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null}}class gt{constructor(B,re){this.url=B,this.data=re}send(B){if(!this.request){var re=ce(this.data),Ne=this.url+"/"+B.number+"?"+re;this.request=Lt.createScriptRequest(Ne),this.request.send(B)}}cleanup(){this.request&&this.request.cleanup()}}var _t=function(ie,B){return function(re,Ne){var Re="http"+(B?"s":"")+"://",Xe=Re+(ie.host||ie.options.host)+ie.options.path,dt=Lt.createJSONPRequest(Xe,re),wt=Lt.ScriptReceivers.create(function(Wt,is){o.remove(wt),dt.cleanup(),is&&is.host&&(ie.host=is.host),Ne&&Ne(Wt,is)});dt.send(wt)}},Ht={name:"jsonp",getAgent:_t},Yt=Ht;function Ct(ie,B,re){var Ne=ie+(B.useTLS?"s":""),Re=B.useTLS?B.hostTLS:B.hostNonTLS;return Ne+"://"+Re+re}function us(ie,B){var re="/app/"+ie,Ne="?protocol="+d.PROTOCOL+"&client=js&version="+d.VERSION+(B?"&"+B:"");return re+Ne}var Ge={getInitial:function(ie,B){var re=(B.httpPath||"")+us(ie,"flash=false");return Ct("ws",B,re)}},Ze={getInitial:function(ie,B){var re=(B.httpPath||"/pusher")+us(ie);return Ct("http",B,re)}},Ke={getInitial:function(ie,B){return Ct("http",B,B.httpPath||"/pusher")},getPath:function(ie,B){return us(ie)}};class hs{constructor(){this._callbacks={}}get(B){return this._callbacks[Es(B)]}add(B,re,Ne){var Re=Es(B);this._callbacks[Re]=this._callbacks[Re]||[],this._callbacks[Re].push({fn:re,context:Ne})}remove(B,re,Ne){if(!B&&!re&&!Ne){this._callbacks={};return}var Re=B?[Es(B)]:Z(this._callbacks);re||Ne?this.removeCallback(Re,re,Ne):this.removeAllCallbacks(Re)}removeCallback(B,re,Ne){J(B,function(Re){this._callbacks[Re]=Te(this._callbacks[Re]||[],function(Xe){return re&&re!==Xe.fn||Ne&&Ne!==Xe.context}),this._callbacks[Re].length===0&&delete this._callbacks[Re]},this)}removeAllCallbacks(B){J(B,function(re){delete this._callbacks[re]},this)}}function Es(ie){return"_"+ie}class Cs{constructor(B){this.callbacks=new hs,this.global_callbacks=[],this.failThrough=B}bind(B,re,Ne){return this.callbacks.add(B,re,Ne),this}bind_global(B){return this.global_callbacks.push(B),this}unbind(B,re,Ne){return this.callbacks.remove(B,re,Ne),this}unbind_global(B){return B?(this.global_callbacks=Te(this.global_callbacks||[],re=>re!==B),this):(this.global_callbacks=[],this)}unbind_all(){return this.unbind(),this.unbind_global(),this}emit(B,re,Ne){for(var Re=0;Re<this.global_callbacks.length;Re++)this.global_callbacks[Re](B,re);var Xe=this.callbacks.get(B),dt=[];if(Ne?dt.push(re,Ne):re&&dt.push(re),Xe&&Xe.length>0)for(var Re=0;Re<Xe.length;Re++)Xe[Re].fn.apply(Xe[Re].context||window,dt);else this.failThrough&&this.failThrough(B,re);return this}}class jn extends Cs{constructor(B,re,Ne,Re,Xe){super(),this.initialize=Lt.transportConnectionInitializer,this.hooks=B,this.name=re,this.priority=Ne,this.key=Re,this.options=Xe,this.state="new",this.timeline=Xe.timeline,this.activityTimeout=Xe.activityTimeout,this.id=this.timeline.generateUniqueID()}handlesActivityChecks(){return!!this.hooks.handlesActivityChecks}supportsPing(){return!!this.hooks.supportsPing}connect(){if(this.socket||this.state!=="initialized")return!1;var B=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(B,this.options)}catch(re){return ve.defer(()=>{this.onError(re),this.changeState("closed")}),!1}return this.bindListeners(),Ae.debug("Connecting",{transport:this.name,url:B}),this.changeState("connecting"),!0}close(){return this.socket?(this.socket.close(),!0):!1}send(B){return this.state==="open"?(ve.defer(()=>{this.socket&&this.socket.send(B)}),!0):!1}ping(){this.state==="open"&&this.supportsPing()&&this.socket.ping()}onOpen(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0}onError(B){this.emit("error",{type:"WebSocketError",error:B}),this.timeline.error(this.buildTimelineMessage({error:B.toString()}))}onClose(B){B?this.changeState("closed",{code:B.code,reason:B.reason,wasClean:B.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0}onMessage(B){this.emit("message",B)}onActivity(){this.emit("activity")}bindListeners(){this.socket.onopen=()=>{this.onOpen()},this.socket.onerror=B=>{this.onError(B)},this.socket.onclose=B=>{this.onClose(B)},this.socket.onmessage=B=>{this.onMessage(B)},this.supportsPing()&&(this.socket.onactivity=()=>{this.onActivity()})}unbindListeners(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))}changeState(B,re){this.state=B,this.timeline.info(this.buildTimelineMessage({state:B,params:re})),this.emit(B,re)}buildTimelineMessage(B){return me({cid:this.id},B)}}class $s{constructor(B){this.hooks=B}isSupported(B){return this.hooks.isSupported(B)}createConnection(B,re,Ne,Re){return new jn(this.hooks,B,re,Ne,Re)}}var vr=new $s({urls:Ge,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!Lt.getWebSocketAPI()},isSupported:function(){return!!Lt.getWebSocketAPI()},getSocket:function(ie){return Lt.createWebSocket(ie)}}),Ot={urls:Ze,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},xe=me({getSocket:function(ie){return Lt.HTTPFactory.createStreamingSocket(ie)}},Ot),At=me({getSocket:function(ie){return Lt.HTTPFactory.createPollingSocket(ie)}},Ot),Qs={isSupported:function(){return Lt.isXHRSupported()}},kt=new $s(me({},xe,Qs)),it=new $s(me({},At,Qs)),bs={ws:vr,xhr_streaming:kt,xhr_polling:it},lr=bs,qs=new $s({file:"sockjs",urls:Ke,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(ie,B){return new window.SockJS(ie,null,{js_path:f.getPath("sockjs",{useTLS:B.useTLS}),ignore_null_origin:B.ignoreNullOrigin})},beforeOpen:function(ie,B){ie.send(JSON.stringify({path:B}))}}),$r={isSupported:function(ie){var B=Lt.isXDRSupported(ie.useTLS);return B}},Rn=new $s(me({},xe,$r)),_n=new $s(me({},At,$r));lr.xdr_streaming=Rn,lr.xdr_polling=_n,lr.sockjs=qs;var pi=lr;class Dd extends Cs{constructor(){super();var B=this;window.addEventListener!==void 0&&(window.addEventListener("online",function(){B.emit("online")},!1),window.addEventListener("offline",function(){B.emit("offline")},!1))}isOnline(){return window.navigator.onLine===void 0?!0:window.navigator.onLine}}var Nn=new Dd;class wr{constructor(B,re,Ne){this.manager=B,this.transport=re,this.minPingDelay=Ne.minPingDelay,this.maxPingDelay=Ne.maxPingDelay,this.pingDelay=void 0}createConnection(B,re,Ne,Re){Re=me({},Re,{activityTimeout:this.pingDelay});var Xe=this.transport.createConnection(B,re,Ne,Re),dt=null,wt=function(){Xe.unbind("open",wt),Xe.bind("closed",Wt),dt=ve.now()},Wt=is=>{if(Xe.unbind("closed",Wt),is.code===1002||is.code===1003)this.manager.reportDeath();else if(!is.wasClean&&dt){var fs=ve.now()-dt;fs<2*this.maxPingDelay&&(this.manager.reportDeath(),this.pingDelay=Math.max(fs/2,this.minPingDelay))}};return Xe.bind("open",wt),Xe}isSupported(B){return this.manager.isAlive()&&this.transport.isSupported(B)}}const ur={decodeMessage:function(ie){try{var B=JSON.parse(ie.data),re=B.data;if(typeof re=="string")try{re=JSON.parse(B.data)}catch{}var Ne={event:B.event,channel:B.channel,data:re};return B.user_id&&(Ne.user_id=B.user_id),Ne}catch(Re){throw{type:"MessageParseError",error:Re,data:ie.data}}},encodeMessage:function(ie){return JSON.stringify(ie)},processHandshake:function(ie){var B=ur.decodeMessage(ie);if(B.event==="pusher:connection_established"){if(!B.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:B.data.socket_id,activityTimeout:B.data.activity_timeout*1e3}}else{if(B.event==="pusher:error")return{action:this.getCloseAction(B.data),error:this.getCloseError(B.data)};throw"Invalid handshake"}},getCloseAction:function(ie){return ie.code<4e3?ie.code>=1002&&ie.code<=1004?"backoff":null:ie.code===4e3?"tls_only":ie.code<4100?"refused":ie.code<4200?"backoff":ie.code<4300?"retry":"refused"},getCloseError:function(ie){return ie.code!==1e3&&ie.code!==1001?{type:"PusherError",data:{code:ie.code,message:ie.reason||ie.message}}:null}};var Ar=ur;class eo extends Cs{constructor(B,re){super(),this.id=B,this.transport=re,this.activityTimeout=re.activityTimeout,this.bindListeners()}handlesActivityChecks(){return this.transport.handlesActivityChecks()}send(B){return this.transport.send(B)}send_event(B,re,Ne){var Re={event:B,data:re};return Ne&&(Re.channel=Ne),Ae.debug("Event sent",Re),this.send(Ar.encodeMessage(Re))}ping(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})}close(){this.transport.close()}bindListeners(){var B={message:Ne=>{var Re;try{Re=Ar.decodeMessage(Ne)}catch(Xe){this.emit("error",{type:"MessageParseError",error:Xe,data:Ne.data})}if(Re!==void 0){switch(Ae.debug("Event recd",Re),Re.event){case"pusher:error":this.emit("error",{type:"PusherError",data:Re.data});break;case"pusher:ping":this.emit("ping");break;case"pusher:pong":this.emit("pong");break}this.emit("message",Re)}},activity:()=>{this.emit("activity")},error:Ne=>{this.emit("error",Ne)},closed:Ne=>{re(),Ne&&Ne.code&&this.handleCloseEvent(Ne),this.transport=null,this.emit("closed")}},re=()=>{fe(B,(Ne,Re)=>{this.transport.unbind(Re,Ne)})};fe(B,(Ne,Re)=>{this.transport.bind(Re,Ne)})}handleCloseEvent(B){var re=Ar.getCloseAction(B),Ne=Ar.getCloseError(B);Ne&&this.emit("error",Ne),re&&this.emit(re,{action:re,error:Ne})}}class to{constructor(B,re){this.transport=B,this.callback=re,this.bindListeners()}close(){this.unbindListeners(),this.transport.close()}bindListeners(){this.onMessage=B=>{this.unbindListeners();var re;try{re=Ar.processHandshake(B)}catch(Ne){this.finish("error",{error:Ne}),this.transport.close();return}re.action==="connected"?this.finish("connected",{connection:new eo(re.id,this.transport),activityTimeout:re.activityTimeout}):(this.finish(re.action,{error:re.error}),this.transport.close())},this.onClosed=B=>{this.unbindListeners();var re=Ar.getCloseAction(B)||"backoff",Ne=Ar.getCloseError(B);this.finish(re,{error:Ne})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)}unbindListeners(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)}finish(B,re){this.callback(me({transport:this.transport,action:B},re))}}class Qo{constructor(B,re){this.timeline=B,this.options=re||{}}send(B,re){this.timeline.isEmpty()||this.timeline.send(Lt.TimelineTransport.getAgent(this,B),re)}}class wa extends Cs{constructor(B,re){super(function(Ne,Re){Ae.debug("No callbacks on "+B+" for "+Ne)}),this.name=B,this.pusher=re,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}authorize(B,re){return re(null,{auth:""})}trigger(B,re){if(B.indexOf("client-")!==0)throw new _("Event '"+B+"' does not start with 'client-'");if(!this.subscribed){var Ne=v.buildLogSuffix("triggeringClientEvents");Ae.warn(`Client event triggered before channel 'subscription_succeeded' event . ${Ne}`)}return this.pusher.send_event(B,re,this.name)}disconnect(){this.subscribed=!1,this.subscriptionPending=!1}handleEvent(B){var re=B.event,Ne=B.data;if(re==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(B);else if(re==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(B);else if(re.indexOf("pusher_internal:")!==0){var Re={};this.emit(re,Ne,Re)}}handleSubscriptionSucceededEvent(B){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",B.data)}handleSubscriptionCountEvent(B){B.data.subscription_count&&(this.subscriptionCount=B.data.subscription_count),this.emit("pusher:subscription_count",B.data)}subscribe(){this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(B,re)=>{B?(this.subscriptionPending=!1,Ae.error(B.toString()),this.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:B.message},B instanceof U?{status:B.status}:{}))):this.pusher.send_event("pusher:subscribe",{auth:re.auth,channel_data:re.channel_data,channel:this.name})}))}unsubscribe(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})}cancelSubscription(){this.subscriptionCancelled=!0}reinstateSubscription(){this.subscriptionCancelled=!1}}class Wa extends wa{authorize(B,re){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:B},re)}}class hc{constructor(){this.reset()}get(B){return Object.prototype.hasOwnProperty.call(this.members,B)?{id:B,info:this.members[B]}:null}each(B){fe(this.members,(re,Ne)=>{B(this.get(Ne))})}setMyID(B){this.myID=B}onSubscription(B){this.members=B.presence.hash,this.count=B.presence.count,this.me=this.get(this.myID)}addMember(B){return this.get(B.user_id)===null&&this.count++,this.members[B.user_id]=B.user_info,this.get(B.user_id)}removeMember(B){var re=this.get(B.user_id);return re&&(delete this.members[B.user_id],this.count--),re}reset(){this.members={},this.count=0,this.myID=null,this.me=null}}var gi=function(ie,B,re,Ne){function Re(Xe){return Xe instanceof re?Xe:new re(function(dt){dt(Xe)})}return new(re||(re=Promise))(function(Xe,dt){function wt(fs){try{is(Ne.next(fs))}catch(hr){dt(hr)}}function Wt(fs){try{is(Ne.throw(fs))}catch(hr){dt(hr)}}function is(fs){fs.done?Xe(fs.value):Re(fs.value).then(wt,Wt)}is((Ne=Ne.apply(ie,B||[])).next())})};class Jn extends Wa{constructor(B,re){super(B,re),this.members=new hc}authorize(B,re){super.authorize(B,(Ne,Re)=>gi(this,void 0,void 0,function*(){if(!Ne)if(Re=Re,Re.channel_data!=null){var Xe=JSON.parse(Re.channel_data);this.members.setMyID(Xe.user_id)}else if(yield this.pusher.user.signinDonePromise,this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else{let dt=v.buildLogSuffix("authorizationEndpoint");Ae.error(`Invalid auth response for channel '${this.name}', expected 'channel_data' field. ${dt}, or the user should be signed in.`),re("Invalid auth response");return}re(Ne,Re)}))}handleEvent(B){var re=B.event;if(re.indexOf("pusher_internal:")===0)this.handleInternalEvent(B);else{var Ne=B.data,Re={};B.user_id&&(Re.user_id=B.user_id),this.emit(re,Ne,Re)}}handleInternalEvent(B){var re=B.event,Ne=B.data;switch(re){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(B);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(B);break;case"pusher_internal:member_added":var Re=this.members.addMember(Ne);this.emit("pusher:member_added",Re);break;case"pusher_internal:member_removed":var Xe=this.members.removeMember(Ne);Xe&&this.emit("pusher:member_removed",Xe);break}}handleSubscriptionSucceededEvent(B){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(B.data),this.emit("pusher:subscription_succeeded",this.members))}disconnect(){this.members.reset(),super.disconnect()}}var xi=a(1),ea=a(0);class Os extends Wa{constructor(B,re,Ne){super(B,re),this.key=null,this.nacl=Ne}authorize(B,re){super.authorize(B,(Ne,Re)=>{if(Ne){re(Ne,Re);return}let Xe=Re.shared_secret;if(!Xe){re(new Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`),null);return}this.key=Object(ea.decode)(Xe),delete Re.shared_secret,re(null,Re)})}trigger(B,re){throw new C("Client events are not currently supported for encrypted channels")}handleEvent(B){var re=B.event,Ne=B.data;if(re.indexOf("pusher_internal:")===0||re.indexOf("pusher:")===0){super.handleEvent(B);return}this.handleEncryptedEvent(re,Ne)}handleEncryptedEvent(B,re){if(!this.key){Ae.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!re.ciphertext||!re.nonce){Ae.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+re);return}let Ne=Object(ea.decode)(re.ciphertext);if(Ne.length<this.nacl.secretbox.overheadLength){Ae.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${Ne.length}`);return}let Re=Object(ea.decode)(re.nonce);if(Re.length<this.nacl.secretbox.nonceLength){Ae.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${Re.length}`);return}let Xe=this.nacl.secretbox.open(Ne,Re,this.key);if(Xe===null){Ae.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,(dt,wt)=>{if(dt){Ae.error(`Failed to make a request to the authEndpoint: ${wt}. Unable to fetch new key, so dropping encrypted event`);return}if(Xe=this.nacl.secretbox.open(Ne,Re,this.key),Xe===null){Ae.error("Failed to decrypt event with new key. Dropping encrypted event");return}this.emit(B,this.getDataToEmit(Xe))});return}this.emit(B,this.getDataToEmit(Xe))}getDataToEmit(B){let re=Object(xi.decode)(B);try{return JSON.parse(re)}catch{return re}}}class Jo extends Cs{constructor(B,re){super(),this.state="initialized",this.connection=null,this.key=B,this.options=re,this.timeline=this.options.timeline,this.usingTLS=this.options.useTLS,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var Ne=Lt.getNetwork();Ne.bind("online",()=>{this.timeline.info({netinfo:"online"}),(this.state==="connecting"||this.state==="unavailable")&&this.retryIn(0)}),Ne.bind("offline",()=>{this.timeline.info({netinfo:"offline"}),this.connection&&this.sendActivityCheck()}),this.updateStrategy()}connect(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}}send(B){return this.connection?this.connection.send(B):!1}send_event(B,re,Ne){return this.connection?this.connection.send_event(B,re,Ne):!1}disconnect(){this.disconnectInternally(),this.updateState("disconnected")}isUsingTLS(){return this.usingTLS}startConnecting(){var B=(re,Ne)=>{re?this.runner=this.strategy.connect(0,B):Ne.action==="error"?(this.emit("error",{type:"HandshakeError",error:Ne.error}),this.timeline.error({handshakeError:Ne.error})):(this.abortConnecting(),this.handshakeCallbacks[Ne.action](Ne))};this.runner=this.strategy.connect(0,B)}abortConnecting(){this.runner&&(this.runner.abort(),this.runner=null)}disconnectInternally(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var B=this.abandonConnection();B.close()}}updateStrategy(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})}retryIn(B){this.timeline.info({action:"retry",delay:B}),B>0&&this.emit("connecting_in",Math.round(B/1e3)),this.retryTimer=new W(B||0,()=>{this.disconnectInternally(),this.connect()})}clearRetryTimer(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)}setUnavailableTimer(){this.unavailableTimer=new W(this.options.unavailableTimeout,()=>{this.updateState("unavailable")})}clearUnavailableTimer(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()}sendActivityCheck(){this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new W(this.options.pongTimeout,()=>{this.timeline.error({pong_timed_out:this.options.pongTimeout}),this.retryIn(0)})}resetActivityCheck(){this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new W(this.activityTimeout,()=>{this.sendActivityCheck()}))}stopActivityCheck(){this.activityTimer&&this.activityTimer.ensureAborted()}buildConnectionCallbacks(B){return me({},B,{message:re=>{this.resetActivityCheck(),this.emit("message",re)},ping:()=>{this.send_event("pusher:pong",{})},activity:()=>{this.resetActivityCheck()},error:re=>{this.emit("error",re)},closed:()=>{this.abandonConnection(),this.shouldRetry()&&this.retryIn(1e3)}})}buildHandshakeCallbacks(B){return me({},B,{connected:re=>{this.activityTimeout=Math.min(this.options.activityTimeout,re.activityTimeout,re.connection.activityTimeout||1/0),this.clearUnavailableTimer(),this.setConnection(re.connection),this.socket_id=this.connection.id,this.updateState("connected",{socket_id:this.socket_id})}})}buildErrorCallbacks(){let B=re=>Ne=>{Ne.error&&this.emit("error",{type:"WebSocketError",error:Ne.error}),re(Ne)};return{tls_only:B(()=>{this.usingTLS=!0,this.updateStrategy(),this.retryIn(0)}),refused:B(()=>{this.disconnect()}),backoff:B(()=>{this.retryIn(1e3)}),retry:B(()=>{this.retryIn(0)})}}setConnection(B){this.connection=B;for(var re in this.connectionCallbacks)this.connection.bind(re,this.connectionCallbacks[re]);this.resetActivityCheck()}abandonConnection(){if(this.connection){this.stopActivityCheck();for(var B in this.connectionCallbacks)this.connection.unbind(B,this.connectionCallbacks[B]);var re=this.connection;return this.connection=null,re}}updateState(B,re){var Ne=this.state;if(this.state=B,Ne!==B){var Re=B;Re==="connected"&&(Re+=" with new socket ID "+re.socket_id),Ae.debug("State changed",Ne+" -> "+Re),this.timeline.info({state:B,params:re}),this.emit("state_change",{previous:Ne,current:B}),this.emit(B,re)}}shouldRetry(){return this.state==="connecting"||this.state==="connected"}}class fc{constructor(){this.channels={}}add(B,re){return this.channels[B]||(this.channels[B]=ja(B,re)),this.channels[B]}all(){return ee(this.channels)}find(B){return this.channels[B]}remove(B){var re=this.channels[B];return delete this.channels[B],re}disconnect(){fe(this.channels,function(B){B.disconnect()})}}function ja(ie,B){if(ie.indexOf("private-encrypted-")===0){if(B.config.nacl)return Dn.createEncryptedChannel(ie,B,B.config.nacl);let re="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",Ne=v.buildLogSuffix("encryptedChannelSupport");throw new C(`${re}. ${Ne}`)}else{if(ie.indexOf("private-")===0)return Dn.createPrivateChannel(ie,B);if(ie.indexOf("presence-")===0)return Dn.createPresenceChannel(ie,B);if(ie.indexOf("#")===0)throw new b('Cannot create a channel with name "'+ie+'".');return Dn.createChannel(ie,B)}}var Sn={createChannels(){return new fc},createConnectionManager(ie,B){return new Jo(ie,B)},createChannel(ie,B){return new wa(ie,B)},createPrivateChannel(ie,B){return new Wa(ie,B)},createPresenceChannel(ie,B){return new Jn(ie,B)},createEncryptedChannel(ie,B,re){return new Os(ie,B,re)},createTimelineSender(ie,B){return new Qo(ie,B)},createHandshake(ie,B){return new to(ie,B)},createAssistantToTheTransportManager(ie,B,re){return new wr(ie,B,re)}},Dn=Sn;class el{constructor(B){this.options=B||{},this.livesLeft=this.options.lives||1/0}getAssistant(B){return Dn.createAssistantToTheTransportManager(this,B,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})}isAlive(){return this.livesLeft>0}reportDeath(){this.livesLeft-=1}}class ta{constructor(B,re){this.strategies=B,this.loop=!!re.loop,this.failFast=!!re.failFast,this.timeout=re.timeout,this.timeoutLimit=re.timeoutLimit}isSupported(){return P(this.strategies,ve.method("isSupported"))}connect(B,re){var Ne=this.strategies,Re=0,Xe=this.timeout,dt=null,wt=(Wt,is)=>{is?re(null,is):(Re=Re+1,this.loop&&(Re=Re%Ne.length),Re<Ne.length?(Xe&&(Xe=Xe*2,this.timeoutLimit&&(Xe=Math.min(Xe,this.timeoutLimit))),dt=this.tryStrategy(Ne[Re],B,{timeout:Xe,failFast:this.failFast},wt)):re(!0))};return dt=this.tryStrategy(Ne[Re],B,{timeout:Xe,failFast:this.failFast},wt),{abort:function(){dt.abort()},forceMinPriority:function(Wt){B=Wt,dt&&dt.forceMinPriority(Wt)}}}tryStrategy(B,re,Ne,Re){var Xe=null,dt=null;return Ne.timeout>0&&(Xe=new W(Ne.timeout,function(){dt.abort(),Re(!0)})),dt=B.connect(re,function(wt,Wt){wt&&Xe&&Xe.isRunning()&&!Ne.failFast||(Xe&&Xe.ensureAborted(),Re(wt,Wt))}),{abort:function(){Xe&&Xe.ensureAborted(),dt.abort()},forceMinPriority:function(wt){dt.forceMinPriority(wt)}}}}class sa{constructor(B){this.strategies=B}isSupported(){return P(this.strategies,ve.method("isSupported"))}connect(B,re){return so(this.strategies,B,function(Ne,Re){return function(Xe,dt){if(Re[Ne].error=Xe,Xe){ro(Re)&&re(!0);return}J(Re,function(wt){wt.forceMinPriority(dt.transport.priority)}),re(null,dt)}})}}function so(ie,B,re){var Ne=ke(ie,function(Re,Xe,dt,wt){return Re.connect(B,re(Xe,wt))});return{abort:function(){J(Ne,Mn)},forceMinPriority:function(Re){J(Ne,function(Xe){Xe.forceMinPriority(Re)})}}}function ro(ie){return G(ie,function(B){return!!B.error})}function Mn(ie){!ie.error&&!ie.aborted&&(ie.abort(),ie.aborted=!0)}class Xr{constructor(B,re,Ne){this.strategy=B,this.transports=re,this.ttl=Ne.ttl||1800*1e3,this.usingTLS=Ne.useTLS,this.timeline=Ne.timeline}isSupported(){return this.strategy.isSupported()}connect(B,re){var Ne=this.usingTLS,Re=jh(Ne),Xe=Re&&Re.cacheSkipCount?Re.cacheSkipCount:0,dt=[this.strategy];if(Re&&Re.timestamp+this.ttl>=ve.now()){var wt=this.transports[Re.transport];wt&&(["ws","wss"].includes(Re.transport)||Xe>3?(this.timeline.info({cached:!0,transport:Re.transport,latency:Re.latency}),dt.push(new ta([wt],{timeout:Re.latency*2+1e3,failFast:!0}))):Xe++)}var Wt=ve.now(),is=dt.pop().connect(B,function fs(hr,vc){hr?(tl(Ne),dt.length>0?(Wt=ve.now(),is=dt.pop().connect(B,fs)):re(hr)):(mc(Ne,vc.transport.name,ve.now()-Wt,Xe),re(null,vc))});return{abort:function(){is.abort()},forceMinPriority:function(fs){B=fs,is&&is.forceMinPriority(fs)}}}}function no(ie){return"pusherTransport"+(ie?"TLS":"NonTLS")}function jh(ie){var B=Lt.getLocalStorage();if(B)try{var re=B[no(ie)];if(re)return JSON.parse(re)}catch{tl(ie)}return null}function mc(ie,B,re,Ne){var Re=Lt.getLocalStorage();if(Re)try{Re[no(ie)]=De({timestamp:ve.now(),transport:B,latency:re,cacheSkipCount:Ne})}catch{}}function tl(ie){var B=Lt.getLocalStorage();if(B)try{delete B[no(ie)]}catch{}}class Ga{constructor(B,{delay:re}){this.strategy=B,this.options={delay:re}}isSupported(){return this.strategy.isSupported()}connect(B,re){var Ne=this.strategy,Re,Xe=new W(this.options.delay,function(){Re=Ne.connect(B,re)});return{abort:function(){Xe.ensureAborted(),Re&&Re.abort()},forceMinPriority:function(dt){B=dt,Re&&Re.forceMinPriority(dt)}}}}class yi{constructor(B,re,Ne){this.test=B,this.trueBranch=re,this.falseBranch=Ne}isSupported(){var B=this.test()?this.trueBranch:this.falseBranch;return B.isSupported()}connect(B,re){var Ne=this.test()?this.trueBranch:this.falseBranch;return Ne.connect(B,re)}}class Er{constructor(B){this.strategy=B}isSupported(){return this.strategy.isSupported()}connect(B,re){var Ne=this.strategy.connect(B,function(Re,Xe){Xe&&Ne.abort(),re(Re,Xe)});return Ne}}function Ya(ie){return function(){return ie.isSupported()}}var pc=function(ie,B,re){var Ne={};function Re(wc,mp,pp,Ph,Oh){var Lh=re(ie,wc,mp,pp,Ph,Oh);return Ne[wc]=Lh,Lh}var Xe=Object.assign({},B,{hostNonTLS:ie.wsHost+":"+ie.wsPort,hostTLS:ie.wsHost+":"+ie.wssPort,httpPath:ie.wsPath}),dt=Object.assign({},Xe,{useTLS:!0}),wt=Object.assign({},B,{hostNonTLS:ie.httpHost+":"+ie.httpPort,hostTLS:ie.httpHost+":"+ie.httpsPort,httpPath:ie.httpPath}),Wt={loop:!0,timeout:15e3,timeoutLimit:6e4},is=new el({minPingDelay:1e4,maxPingDelay:ie.activityTimeout}),fs=new el({lives:2,minPingDelay:1e4,maxPingDelay:ie.activityTimeout}),hr=Re("ws","ws",3,Xe,is),vc=Re("wss","ws",3,dt,is),up=Re("sockjs","sockjs",1,wt),Eh=Re("xhr_streaming","xhr_streaming",1,wt,fs),hp=Re("xdr_streaming","xdr_streaming",1,wt,fs),Th=Re("xhr_polling","xhr_polling",1,wt),cl=Re("xdr_polling","xdr_polling",1,wt),fp=new ta([hr],Wt),Uy=new ta([vc],Wt),$y=new ta([up],Wt),Rh=new ta([new yi(Ya(Eh),Eh,hp)],Wt),Dh=new ta([new yi(Ya(Th),Th,cl)],Wt),dl=new ta([new yi(Ya(Rh),new sa([Rh,new Ga(Dh,{delay:4e3})]),Dh)],Wt),oo=new yi(Ya(dl),dl,$y),Mh;return B.useTLS?Mh=new sa([fp,new Ga(oo,{delay:2e3})]):Mh=new sa([fp,new Ga(Uy,{delay:2e3}),new Ga(oo,{delay:5e3})]),new Xr(new Er(new yi(Ya(hr),Mh,oo)),Ne,{ttl:18e5,timeline:B.timeline,useTLS:B.useTLS})},gc=pc,bi=(function(){var ie=this;ie.timeline.info(ie.buildTimelineMessage({transport:ie.name+(ie.options.useTLS?"s":"")})),ie.hooks.isInitialized()?ie.changeState("initialized"):ie.hooks.file?(ie.changeState("initializing"),f.load(ie.hooks.file,{useTLS:ie.options.useTLS},function(B,re){ie.hooks.isInitialized()?(ie.changeState("initialized"),re(!0)):(B&&ie.onError(B),ie.onClose(),re(!1))})):ie.onClose()}),Md={getRequest:function(ie){var B=new window.XDomainRequest;return B.ontimeout=function(){ie.emit("error",new N),ie.close()},B.onerror=function(re){ie.emit("error",re),ie.close()},B.onprogress=function(){B.responseText&&B.responseText.length>0&&ie.onChunk(200,B.responseText)},B.onload=function(){B.responseText&&B.responseText.length>0&&ie.onChunk(200,B.responseText),ie.emit("finished",200),ie.close()},B},abortRequest:function(ie){ie.ontimeout=ie.onerror=ie.onprogress=ie.onload=null,ie.abort()}},Pd=Md;const vi=256*1024;class _h extends Cs{constructor(B,re,Ne){super(),this.hooks=B,this.method=re,this.url=Ne}start(B){this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=()=>{this.close()},Lt.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(B)}close(){this.unloader&&(Lt.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)}onChunk(B,re){for(;;){var Ne=this.advanceBuffer(re);if(Ne)this.emit("chunk",{status:B,data:Ne});else break}this.isBufferTooLong(re)&&this.emit("buffer_too_long")}advanceBuffer(B){var re=B.slice(this.position),Ne=re.indexOf(`
`);return Ne!==-1?(this.position+=Ne+1,re.slice(0,Ne)):null}isBufferTooLong(B){return this.position===B.length&&B.length>vi}}var sl;(function(ie){ie[ie.CONNECTING=0]="CONNECTING",ie[ie.OPEN=1]="OPEN",ie[ie.CLOSED=3]="CLOSED"})(sl||(sl={}));var _a=sl,xc=1;class Nh{constructor(B,re){this.hooks=B,this.session=nl(1e3)+"/"+Ka(8),this.location=Sh(re),this.readyState=_a.CONNECTING,this.openStream()}send(B){return this.sendRaw(JSON.stringify([B]))}ping(){this.hooks.sendHeartbeat(this)}close(B,re){this.onClose(B,re,!0)}sendRaw(B){if(this.readyState===_a.OPEN)try{return Lt.createSocketRequest("POST",Pn(rl(this.location,this.session))).start(B),!0}catch{return!1}else return!1}reconnect(){this.closeStream(),this.openStream()}onClose(B,re,Ne){this.closeStream(),this.readyState=_a.CLOSED,this.onclose&&this.onclose({code:B,reason:re,wasClean:Ne})}onChunk(B){if(B.status===200){this.readyState===_a.OPEN&&this.onActivity();var re,Ne=B.data.slice(0,1);switch(Ne){case"o":re=JSON.parse(B.data.slice(1)||"{}"),this.onOpen(re);break;case"a":re=JSON.parse(B.data.slice(1)||"[]");for(var Re=0;Re<re.length;Re++)this.onEvent(re[Re]);break;case"m":re=JSON.parse(B.data.slice(1)||"null"),this.onEvent(re);break;case"h":this.hooks.onHeartbeat(this);break;case"c":re=JSON.parse(B.data.slice(1)||"[]"),this.onClose(re[0],re[1],!0);break}}}onOpen(B){this.readyState===_a.CONNECTING?(B&&B.hostname&&(this.location.base=yc(this.location.base,B.hostname)),this.readyState=_a.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)}onEvent(B){this.readyState===_a.OPEN&&this.onmessage&&this.onmessage({data:B})}onActivity(){this.onactivity&&this.onactivity()}onError(B){this.onerror&&this.onerror(B)}openStream(){this.stream=Lt.createSocketRequest("POST",Pn(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",B=>{this.onChunk(B)}),this.stream.bind("finished",B=>{this.hooks.onFinished(this,B)}),this.stream.bind("buffer_too_long",()=>{this.reconnect()});try{this.stream.start()}catch(B){ve.defer(()=>{this.onError(B),this.onClose(1006,"Could not start streaming",!1)})}}closeStream(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)}}function Sh(ie){var B=/([^\?]*)\/*(\??.*)/.exec(ie);return{base:B[1],queryString:B[2]}}function rl(ie,B){return ie.base+"/"+B+"/xhr_send"}function Pn(ie){var B=ie.indexOf("?")===-1?"?":"&";return ie+B+"t="+ +new Date+"&n="+xc++}function yc(ie,B){var re=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(ie);return re[1]+B+re[3]}function nl(ie){return Lt.randomInt(ie)}function Ka(ie){for(var B=[],re=0;re<ie;re++)B.push(nl(32).toString(32));return B.join("")}var wi=Nh,Od={getReceiveURL:function(ie,B){return ie.base+"/"+B+"/xhr_streaming"+ie.queryString},onHeartbeat:function(ie){ie.sendRaw("[]")},sendHeartbeat:function(ie){ie.sendRaw("[]")},onFinished:function(ie,B){ie.onClose(1006,"Connection interrupted ("+B+")",!1)}},ji=Od,ao={getReceiveURL:function(ie,B){return ie.base+"/"+B+"/xhr"+ie.queryString},onHeartbeat:function(){},sendHeartbeat:function(ie){ie.sendRaw("[]")},onFinished:function(ie,B){B===200?ie.reconnect():ie.onClose(1006,"Connection interrupted ("+B+")",!1)}},_i=ao,ra={getRequest:function(ie){var B=Lt.getXHRAPI(),re=new B;return re.onreadystatechange=re.onprogress=function(){switch(re.readyState){case 3:re.responseText&&re.responseText.length>0&&ie.onChunk(re.status,re.responseText);break;case 4:re.responseText&&re.responseText.length>0&&ie.onChunk(re.status,re.responseText),ie.emit("finished",re.status),ie.close();break}},re},abortRequest:function(ie){ie.onreadystatechange=null,ie.abort()}},bc=ra,io={createStreamingSocket(ie){return this.createSocket(ji,ie)},createPollingSocket(ie){return this.createSocket(_i,ie)},createSocket(ie,B){return new wi(ie,B)},createXHR(ie,B){return this.createRequest(bc,ie,B)},createRequest(ie,B,re){return new _h(ie,B,re)}},On=io;On.createXDR=function(ie,B){return this.createRequest(Pd,ie,B)};var al=On,il={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:o,DependenciesReceivers:m,getDefaultStrategy:gc,Transports:pi,transportConnectionInitializer:bi,HTTPFactory:al,TimelineTransport:Yt,getXHRAPI(){return window.XMLHttpRequest},getWebSocketAPI(){return window.WebSocket||window.MozWebSocket},setup(ie){window.Pusher=ie;var B=()=>{this.onDocumentBody(ie.ready)};window.JSON?B():f.load("json2",{},B)},getDocument(){return document},getProtocol(){return this.getDocument().location.protocol},getAuthorizers(){return{ajax:ne,jsonp:et}},onDocumentBody(ie){document.body?ie():setTimeout(()=>{this.onDocumentBody(ie)},0)},createJSONPRequest(ie,B){return new gt(ie,B)},createScriptRequest(ie){return new lt(ie)},getLocalStorage(){try{return window.localStorage}catch{return}},createXHR(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest(){var ie=this.getXHRAPI();return new ie},createMicrosoftXHR(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork(){return Nn},createWebSocket(ie){var B=this.getWebSocketAPI();return new B(ie)},createSocketRequest(ie,B){if(this.isXHRSupported())return this.HTTPFactory.createXHR(ie,B);if(this.isXDRSupported(B.indexOf("https:")===0))return this.HTTPFactory.createXDR(ie,B);throw"Cross-origin HTTP requests are not supported"},isXHRSupported(){var ie=this.getXHRAPI();return!!ie&&new ie().withCredentials!==void 0},isXDRSupported(ie){var B=ie?"https:":"http:",re=this.getProtocol();return!!window.XDomainRequest&&re===B},addUnloadListener(ie){window.addEventListener!==void 0?window.addEventListener("unload",ie,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",ie)},removeUnloadListener(ie){window.addEventListener!==void 0?window.removeEventListener("unload",ie,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",ie)},randomInt(ie){return Math.floor(function(){return(window.crypto||window.msCrypto).getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32)}()*ie)}},Lt=il,Ln;(function(ie){ie[ie.ERROR=3]="ERROR",ie[ie.INFO=6]="INFO",ie[ie.DEBUG=7]="DEBUG"})(Ln||(Ln={}));var Na=Ln;class Ld{constructor(B,re,Ne){this.key=B,this.session=re,this.events=[],this.options=Ne||{},this.sent=0,this.uniqueID=0}log(B,re){B<=this.options.level&&(this.events.push(me({},re,{timestamp:ve.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())}error(B){this.log(Na.ERROR,B)}info(B){this.log(Na.INFO,B)}debug(B){this.log(Na.DEBUG,B)}isEmpty(){return this.events.length===0}send(B,re){var Ne=me({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],B(Ne,(Re,Xe)=>{Re||this.sent++,re&&re(Re,Xe)}),!0}generateUniqueID(){return this.uniqueID++,this.uniqueID}}class Zr{constructor(B,re,Ne,Re){this.name=B,this.priority=re,this.transport=Ne,this.options=Re||{}}isSupported(){return this.transport.isSupported({useTLS:this.options.useTLS})}connect(B,re){if(this.isSupported()){if(this.priority<B)return Sa(new k,re)}else return Sa(new E,re);var Ne=!1,Re=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),Xe=null,dt=function(){Re.unbind("initialized",dt),Re.connect()},wt=function(){Xe=Dn.createHandshake(Re,function(hr){Ne=!0,fs(),re(null,hr)})},Wt=function(hr){fs(),re(hr)},is=function(){fs();var hr;hr=De(Re),re(new S(hr))},fs=function(){Re.unbind("initialized",dt),Re.unbind("open",wt),Re.unbind("error",Wt),Re.unbind("closed",is)};return Re.bind("initialized",dt),Re.bind("open",wt),Re.bind("error",Wt),Re.bind("closed",is),Re.initialize(),{abort:()=>{Ne||(fs(),Xe?Xe.close():Re.close())},forceMinPriority:hr=>{Ne||this.priority<hr&&(Xe?Xe.close():Re.close())}}}}function Sa(ie,B){return ve.defer(function(){B(ie)}),{abort:function(){},forceMinPriority:function(){}}}const{Transports:ae}=Lt;var Ee=function(ie,B,re,Ne,Re,Xe){var dt=ae[re];if(!dt)throw new I(re);var wt=(!ie.enabledTransports||H(ie.enabledTransports,B)!==-1)&&(!ie.disabledTransports||H(ie.disabledTransports,B)===-1),Wt;return wt?(Re=Object.assign({ignoreNullOrigin:ie.ignoreNullOrigin},Re),Wt=new Zr(B,Ne,Xe?Xe.getAssistant(dt):dt,Re)):Wt=xt,Wt},xt={isSupported:function(){return!1},connect:function(ie,B){var re=ve.defer(function(){B(new E)});return{abort:function(){re.ensureAborted()},forceMinPriority:function(){}}}};function ws(ie){if(ie==null)throw"You must pass an options object";if(ie.cluster==null)throw"Options object must provide a cluster";"disableStats"in ie&&Ae.warn("The disableStats option is deprecated in favor of enableStats")}const Tr=(ie,B)=>{var re="socket_id="+encodeURIComponent(ie.socketId);for(var Ne in B.params)re+="&"+encodeURIComponent(Ne)+"="+encodeURIComponent(B.params[Ne]);if(B.paramsProvider!=null){let Re=B.paramsProvider();for(var Ne in Re)re+="&"+encodeURIComponent(Ne)+"="+encodeURIComponent(Re[Ne])}return re};var Xa=ie=>{if(typeof Lt.getAuthorizers()[ie.transport]>"u")throw`'${ie.transport}' is not a recognized auth transport`;return(B,re)=>{const Ne=Tr(B,ie);Lt.getAuthorizers()[ie.transport](Lt,Ne,ie,w.UserAuthentication,re)}};const ka=(ie,B)=>{var re="socket_id="+encodeURIComponent(ie.socketId);re+="&channel_name="+encodeURIComponent(ie.channelName);for(var Ne in B.params)re+="&"+encodeURIComponent(Ne)+"="+encodeURIComponent(B.params[Ne]);if(B.paramsProvider!=null){let Re=B.paramsProvider();for(var Ne in Re)re+="&"+encodeURIComponent(Ne)+"="+encodeURIComponent(Re[Ne])}return re};var ll=ie=>{if(typeof Lt.getAuthorizers()[ie.transport]>"u")throw`'${ie.transport}' is not a recognized auth transport`;return(B,re)=>{const Ne=ka(B,ie);Lt.getAuthorizers()[ie.transport](Lt,Ne,ie,w.ChannelAuthorization,re)}};const Ty=(ie,B,re)=>{const Ne={authTransport:B.transport,authEndpoint:B.endpoint,auth:{params:B.params,headers:B.headers}};return(Re,Xe)=>{const dt=ie.channel(Re.channelName);re(dt,Ne).authorize(Re.socketId,Xe)}};function kh(ie,B){let re={activityTimeout:ie.activityTimeout||d.activityTimeout,cluster:ie.cluster,httpPath:ie.httpPath||d.httpPath,httpPort:ie.httpPort||d.httpPort,httpsPort:ie.httpsPort||d.httpsPort,pongTimeout:ie.pongTimeout||d.pongTimeout,statsHost:ie.statsHost||d.stats_host,unavailableTimeout:ie.unavailableTimeout||d.unavailableTimeout,wsPath:ie.wsPath||d.wsPath,wsPort:ie.wsPort||d.wsPort,wssPort:ie.wssPort||d.wssPort,enableStats:Oy(ie),httpHost:Ry(ie),useTLS:Py(ie),wsHost:Dy(ie),userAuthenticator:cp(ie),channelAuthorizer:Fy(ie,B)};return"disabledTransports"in ie&&(re.disabledTransports=ie.disabledTransports),"enabledTransports"in ie&&(re.enabledTransports=ie.enabledTransports),"ignoreNullOrigin"in ie&&(re.ignoreNullOrigin=ie.ignoreNullOrigin),"timelineParams"in ie&&(re.timelineParams=ie.timelineParams),"nacl"in ie&&(re.nacl=ie.nacl),re}function Ry(ie){return ie.httpHost?ie.httpHost:ie.cluster?`sockjs-${ie.cluster}.pusher.com`:d.httpHost}function Dy(ie){return ie.wsHost?ie.wsHost:My(ie.cluster)}function My(ie){return`ws-${ie}.pusher.com`}function Py(ie){return Lt.getProtocol()==="https:"?!0:ie.forceTLS!==!1}function Oy(ie){return"enableStats"in ie?ie.enableStats:"disableStats"in ie?!ie.disableStats:!1}function cp(ie){const B=Object.assign(Object.assign({},d.userAuthentication),ie.userAuthentication);return"customHandler"in B&&B.customHandler!=null?B.customHandler:Xa(B)}function Ly(ie,B){let re;return"channelAuthorization"in ie?re=Object.assign(Object.assign({},d.channelAuthorization),ie.channelAuthorization):(re={transport:ie.authTransport||d.authTransport,endpoint:ie.authEndpoint||d.authEndpoint},"auth"in ie&&("params"in ie.auth&&(re.params=ie.auth.params),"headers"in ie.auth&&(re.headers=ie.auth.headers)),"authorizer"in ie&&(re.customHandler=Ty(B,re,ie.authorizer))),re}function Fy(ie,B){const re=Ly(ie,B);return"customHandler"in re&&re.customHandler!=null?re.customHandler:ll(re)}class By extends Cs{constructor(B){super(function(re,Ne){Ae.debug(`No callbacks on watchlist events for ${re}`)}),this.pusher=B,this.bindWatchlistInternalEvent()}handleEvent(B){B.data.events.forEach(re=>{this.emit(re.name,re)})}bindWatchlistInternalEvent(){this.pusher.connection.bind("message",B=>{var re=B.event;re==="pusher_internal:watchlist_events"&&this.handleEvent(B)})}}function Iy(){let ie,B;return{promise:new Promise((Ne,Re)=>{ie=Ne,B=Re}),resolve:ie,reject:B}}var Ch=Iy;class zy extends Cs{constructor(B){super(function(re,Ne){Ae.debug("No callbacks on user for "+re)}),this.signin_requested=!1,this.user_data=null,this.serverToUserChannel=null,this.signinDonePromise=null,this._signinDoneResolve=null,this._onAuthorize=(re,Ne)=>{if(re){Ae.warn(`Error during signin: ${re}`),this._cleanup();return}this.pusher.send_event("pusher:signin",{auth:Ne.auth,user_data:Ne.user_data})},this.pusher=B,this.pusher.connection.bind("state_change",({previous:re,current:Ne})=>{re!=="connected"&&Ne==="connected"&&this._signin(),re==="connected"&&Ne!=="connected"&&(this._cleanup(),this._newSigninPromiseIfNeeded())}),this.watchlist=new By(B),this.pusher.connection.bind("message",re=>{var Ne=re.event;Ne==="pusher:signin_success"&&this._onSigninSuccess(re.data),this.serverToUserChannel&&this.serverToUserChannel.name===re.channel&&this.serverToUserChannel.handleEvent(re)})}signin(){this.signin_requested||(this.signin_requested=!0,this._signin())}_signin(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))}_onSigninSuccess(B){try{this.user_data=JSON.parse(B.user_data)}catch{Ae.error(`Failed parsing user data after signin: ${B.user_data}`),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){Ae.error(`user_data doesn't contain an id. user_data: ${this.user_data}`),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()}_subscribeChannels(){const B=re=>{re.subscriptionPending&&re.subscriptionCancelled?re.reinstateSubscription():!re.subscriptionPending&&this.pusher.connection.state==="connected"&&re.subscribe()};this.serverToUserChannel=new wa(`#server-to-user-${this.user_data.id}`,this.pusher),this.serverToUserChannel.bind_global((re,Ne)=>{re.indexOf("pusher_internal:")===0||re.indexOf("pusher:")===0||this.emit(re,Ne)}),B(this.serverToUserChannel)}_cleanup(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()}_newSigninPromiseIfNeeded(){if(!this.signin_requested||this.signinDonePromise&&!this.signinDonePromise.done)return;const{promise:B,resolve:re}=Ch();B.done=!1;const Ne=()=>{B.done=!0};B.then(Ne).catch(Ne),this.signinDonePromise=B,this._signinDoneResolve=re}}class Vr{static ready(){Vr.isReady=!0;for(var B=0,re=Vr.instances.length;B<re;B++)Vr.instances[B].connect()}static getClientFeatures(){return Z(Q({ws:Lt.Transports.ws},function(B){return B.isSupported({})}))}constructor(B,re){dp(B),ws(re),this.key=B,this.config=kh(re,this),this.channels=Dn.createChannels(),this.global_emitter=new Cs,this.sessionID=Lt.randomInt(1e9),this.timeline=new Ld(this.key,this.sessionID,{cluster:this.config.cluster,features:Vr.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:Na.INFO,version:d.VERSION}),this.config.enableStats&&(this.timelineSender=Dn.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+Lt.TimelineTransport.name}));var Ne=Re=>Lt.getDefaultStrategy(this.config,Re,Ee);this.connection=Dn.createConnectionManager(this.key,{getStrategy:Ne,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS}),this.connection.bind("connected",()=>{this.subscribeAll(),this.timelineSender&&this.timelineSender.send(this.connection.isUsingTLS())}),this.connection.bind("message",Re=>{var Xe=Re.event,dt=Xe.indexOf("pusher_internal:")===0;if(Re.channel){var wt=this.channel(Re.channel);wt&&wt.handleEvent(Re)}dt||this.global_emitter.emit(Re.event,Re.data)}),this.connection.bind("connecting",()=>{this.channels.disconnect()}),this.connection.bind("disconnected",()=>{this.channels.disconnect()}),this.connection.bind("error",Re=>{Ae.warn(Re)}),Vr.instances.push(this),this.timeline.info({instances:Vr.instances.length}),this.user=new zy(this),Vr.isReady&&this.connect()}channel(B){return this.channels.find(B)}allChannels(){return this.channels.all()}connect(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var B=this.connection.isUsingTLS(),re=this.timelineSender;this.timelineSenderTimer=new le(6e4,function(){re.send(B)})}}disconnect(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)}bind(B,re,Ne){return this.global_emitter.bind(B,re,Ne),this}unbind(B,re,Ne){return this.global_emitter.unbind(B,re,Ne),this}bind_global(B){return this.global_emitter.bind_global(B),this}unbind_global(B){return this.global_emitter.unbind_global(B),this}unbind_all(B){return this.global_emitter.unbind_all(),this}subscribeAll(){var B;for(B in this.channels.channels)this.channels.channels.hasOwnProperty(B)&&this.subscribe(B)}subscribe(B){var re=this.channels.add(B,this);return re.subscriptionPending&&re.subscriptionCancelled?re.reinstateSubscription():!re.subscriptionPending&&this.connection.state==="connected"&&re.subscribe(),re}unsubscribe(B){var re=this.channels.find(B);re&&re.subscriptionPending?re.cancelSubscription():(re=this.channels.remove(B),re&&re.subscribed&&re.unsubscribe())}send_event(B,re,Ne){return this.connection.send_event(B,re,Ne)}shouldUseTLS(){return this.config.useTLS}signin(){this.user.signin()}}Vr.instances=[],Vr.isReady=!1,Vr.logToConsole=!1,Vr.Runtime=Lt,Vr.ScriptReceivers=Lt.ScriptReceivers,Vr.DependenciesReceivers=Lt.DependenciesReceivers,Vr.auth_callbacks=Lt.auth_callbacks;var Ah=n.default=Vr;function dp(ie){if(ie==null)throw"You must pass your app key when you instantiate Pusher."}Lt.setup(Vr)})])})})(x1)),x1.exports}var Sue=Nue();const WF=_0(Sue),ps={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640",tealDim:"rgba(0, 140, 149, 0.1)",limeGreenDim:"rgba(138, 198, 64, 0.1)"};function kue(){const[t,e]=j.useState([]),[r,n]=j.useState(null),[a,i]=j.useState([]),[o,c]=j.useState(""),[d,h]=j.useState(!1),[m,f]=j.useState(!0),[g,y]=j.useState(!1),[v,w]=j.useState(null),[_,b]=j.useState(""),N=j.useRef(null),k=j.useRef(null),S=j.useRef(null),C=j.useRef(null),[I]=j.useState(()=>localStorage.getItem("token"));j.useEffect(()=>{console.log("Token:",I),console.log("API Base:","https://rento-lb.com/api/api")},[]);const E=M=>{const K=M?.created_at??M?.createdAt??M?.data?.created_at??null;return{id:M?.id??M?.data?.id??`rt-${Date.now()}`,booking_id:M?.booking_id??M?.data?.booking_id??r?.id,sender_id:M?.sender_id??M?.data?.sender_id??M?.sender?.id,receiver_id:M?.receiver_id??M?.data?.receiver_id??null,message:M?.message??M?.data?.message??"",read_at:M?.read_at??M?.data?.read_at??null,created_at:K,sender:M?.sender??M?.data?.sender??null}};j.useEffect(()=>{if(!I){console.error("No token found in localStorage"),w("Authentication required. Please log in.");return}window.Pusher=WF,S.current=new qF({broadcaster:"pusher",key:"316e84fa5f5bf1a94b26",cluster:"ap1",forceTLS:!0,encrypted:!0,enabledTransports:["ws","wss"],authEndpoint:"https://rento-lb.com/api/api/broadcasting/auth",auth:{headers:{Authorization:`Bearer ${I}`,Accept:"application/json"}}});const M=S.current.connector.pusher;return M.connection.bind("initialized",()=>console.log("[PUSHER] initialized")),M.connection.bind("connecting",()=>console.log("[PUSHER] connecting...")),M.connection.bind("connected",()=>console.log("[PUSHER]  connected")),M.connection.bind("disconnected",()=>console.log("[PUSHER] disconnected")),M.connection.bind("unavailable",()=>console.log("[PUSHER] unavailable")),M.connection.bind("failed",()=>console.log("[PUSHER]  failed")),M.connection.bind("error",K=>console.error("[PUSHER] error:",K)),console.log("[ECHO] authEndpoint:","https://rento-lb.com/api/api/broadcasting/auth"),console.log("[ECHO] cluster:","ap1"),console.log("[ECHO] key:","316e84fa5f5bf1a94b26"),Oe.get("/profile").then(({data:K})=>{C.current=K.user?.id,console.log("Current user ID:",C.current)}).catch(K=>{console.error("Failed to fetch profile:",K),w("Failed to load user profile")}),()=>{S.current?.disconnect()}},[I]),j.useEffect(()=>{I&&U()},[I]);const U=async()=>{f(!0),w(null);try{const{data:M}=await Oe.get("/driver/bookings");console.log("Bookings response:",M);const z=(M.data||[]).filter(he=>he.booking_request_status==="confirmed"||he.booking_request_status==="accepted");e(z)}catch(M){console.error("Failed to fetch bookings:",M),w("Failed to load bookings"),e([])}finally{f(!1)}},T=()=>{const M=N.current;M&&(M.scrollTop=M.scrollHeight)};j.useEffect(()=>{T()},[a]);const ne=async M=>{h(!0),w(null);try{const{data:K}=await Oe.get(`/bookings/${M}/chat`),z=K.data?.data||K.data?.messages||[];i(z),z.forEach(he=>{!he.read_at&&he.sender_id!==C.current&&F(he.id)})}catch(K){console.error("Failed to load messages:",K),w("Failed to load messages"),i([])}finally{h(!1)}};j.useEffect(()=>{if(!r?.id||!S.current)return;const M=r.id,K=`private-booking.${M}`;console.log("[ECHO] subscribing to:",K);const z=S.current.connector.pusher,he=z.subscribe(K);he.bind("pusher:subscription_succeeded",()=>{console.log("[PUSHER]  subscription_succeeded:",K)}),he.bind("pusher:subscription_error",le=>{console.error("[PUSHER]  subscription_error:",K,"status:",le),console.error("-> If status=403, your /broadcasting/auth or channels.php auth is rejecting the user.")});const V=S.current.private(`booking.${M}`),W=le=>{const oe=E(le);i(ve=>ve.some($=>String($.id)===String(oe.id))?ve:[...ve,oe]),oe.sender_id&&oe.sender_id!==C.current&&F(M,oe.id)};return V.listen(".message.sent",W),V.listen("message.sent",W),V.listen(".message.read",le=>console.log("[ECHO] message.read:",le)),ne(M),()=>{console.log("[ECHO] leaving:",K),S.current?.leave(`booking.${M}`),z.unsubscribe(K)}},[r?.id]);const q=async M=>{if(M.preventDefault(),!o.trim()||!r)return;const K=o.trim();c("");try{const{data:z}=await Oe.post(`/bookings/${r.id}/chat`,{booking_id:r.id,message:K});z.data&&i(he=>[...he,z.data])}catch(z){console.error("Failed to send message:",z),w("Failed to send message"),c(K)}},F=async M=>{try{await Oe.post(`/bookings/${r?.id}/chat/mark-read`,{message_id:M})}catch(K){console.error("Failed to mark message as read:",K)}},Y=async()=>{try{if(!t?.length)return;const M=await Promise.all(t.map(async z=>{try{const{data:he}=await Oe.get(`/bookings/${z.id}/chat/unread-count`),V=he?.data?.unread_count??he?.data??he?.unread_count??0;return{id:z.id,count:Number(V)||0}}catch(he){return console.error(`Failed unread count for booking ${z.id}:`,he),{id:z.id,count:0}}})),K=Object.fromEntries(M.map(z=>[z.id,z.count]));e(z=>z.map(he=>({...he,unread_count:K[he.id]??0})))}catch(M){console.error("Failed to fetch unread counts:",M)}};j.useEffect(()=>{if(I){Y();const M=setInterval(Y,1e4);return()=>clearInterval(M)}},[I]),j.useRef(null);const O=M=>{if(!M)return"";const K=new Date(M);if(Number.isNaN(K.getTime()))return"";const he=Math.floor((new Date-K)/6e4);if(he<1)return"Just now";if(he<60)return`${he}m ago`;const V=Math.floor(he/60);if(V<24)return`${V}h ago`;const W=Math.floor(V/24);return W<7?`${W}d ago`:K.toLocaleDateString("en-US",{month:"short",day:"numeric"})},se=M=>{if(!M)return"";const K=new Date(M);return Number.isNaN(K.getTime())?"":K.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},X=t.filter(M=>{if(!_)return!0;const K=_.toLowerCase(),z=`${M.client?.first_name||""} ${M.client?.last_name||""}`.toLowerCase(),he=`${M.car?.make||""} ${M.car?.model||""}`.toLowerCase();return z.includes(K)||he.includes(K)});return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-black dark:via-gray-900 dark:to-gray-950 pt-20",children:s.jsxs("div",{className:"container mx-auto px-4 py-6",children:[s.jsx(st.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6",children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center shadow-lg",style:{background:`linear-gradient(135deg, ${ps.teal}, ${ps.darkBlue})`},children:s.jsx(ii,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(135deg, ${ps.darkBlue}, ${ps.teal}, ${ps.limeGreen})`},children:"Booking Messages"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Stay connected with your clients"})]})]})}),s.jsx(Wo,{children:v&&s.jsx(st.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-4 p-4 rounded-xl border-2",style:{background:"rgba(220, 38, 38, 0.1)",borderColor:"#DC2626"},children:s.jsxs("p",{className:"text-red-800 dark:text-red-200 flex items-center gap-2",children:[s.jsx(gr,{className:"w-5 h-5"}),v]})})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 h-[calc(100vh-180px)]",children:[s.jsxs("div",{className:"lg:col-span-1 bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden flex flex-col border border-gray-200 dark:border-gray-700",children:[s.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"relative",children:[s.jsx(Fr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search conversations...",value:_,onChange:M=>b(M.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 dark:text-white text-sm",style:{focusRing:ps.teal}})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:m?s.jsx("div",{className:"flex justify-center items-center h-full",children:s.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-t-transparent",style:{borderColor:ps.tealDim,borderTopColor:"transparent"}})}):X.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-gray-400",children:[s.jsx(ii,{className:"w-16 h-16 mb-3",style:{color:ps.teal,opacity:.3}}),s.jsx("p",{className:"text-center font-medium",children:"No bookings found"}),s.jsx("p",{className:"text-xs text-center mt-1",children:"Try adjusting your search"})]}):X.map(M=>s.jsx(st.div,{whileHover:{x:5},onClick:()=>n(M),className:`p-4 border-b border-gray-200 dark:border-gray-700 cursor-pointer transition-all ${r?.id===M.id?"border-l-4":"hover:bg-gray-50 dark:hover:bg-gray-700"}`,style:r?.id===M.id?{background:ps.tealDim,borderLeftColor:ps.teal}:{},children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:M.client?.profile_picture?`/api/storage/${M.client.profile_picture}`:"/default-avatar.png",alt:M.client?.first_name||"Client",className:"w-12 h-12 rounded-full object-cover ring-2 ring-white dark:ring-gray-700"}),M.unread_count>0&&s.jsx(st.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},className:"absolute -top-1 -right-1 w-5 h-5 rounded-full flex items-center justify-center shadow-lg",style:{background:ps.limeGreen},children:s.jsx("span",{className:"text-xs text-white font-bold",children:M.unread_count})})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white truncate flex items-center gap-1",children:[M.client?.first_name||"N/A"," ",M.client?.last_name||"",M.client?.verified_by_admin&&s.jsx(Zn,{className:"w-3 h-3",style:{color:ps.teal}})]}),M.unread_count>0&&s.jsx(pn,{className:"w-4 h-4",style:{color:ps.teal}})]}),s.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate flex items-center gap-1",children:[s.jsx(Gt,{className:"w-3 h-3"}),M.car?.make||"N/A"," ",M.car?.model||""]})]})]})},M.id))})]}),s.jsx("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden flex flex-col border border-gray-200 dark:border-gray-700",children:r?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-4 text-white relative overflow-hidden",style:{background:`linear-gradient(135deg, ${ps.darkBlue}, ${ps.teal}, ${ps.limeGreen})`},children:[s.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-white/10 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-white/10 rounded-full blur-2xl"}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:r.client?.profile_picture?`/api/storage/${r.client.profile_picture}`:"/default-avatar.png",alt:r.client?.first_name||"Client",className:"w-12 h-12 rounded-full object-cover border-2 border-white shadow-lg"}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",children:[r.client?.first_name||"N/A"," ",r.client?.last_name||"",r.client?.verified_by_admin&&s.jsx(Zn,{className:"w-4 h-4"})]}),s.jsxs("p",{className:"text-xs opacity-90",children:["@",r.client?.username||"unknown"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[r.client?.phone_number&&s.jsx(st.a,{whileHover:{scale:1.1},whileTap:{scale:.9},href:`tel:${r.client.phone_number}`,className:"p-2 bg-white/20 backdrop-blur-sm rounded-xl hover:bg-white/30 transition-colors",children:s.jsx(di,{className:"w-4 h-4"})}),r.client?.email&&s.jsx(st.a,{whileHover:{scale:1.1},whileTap:{scale:.9},href:`mailto:${r.client.email}`,className:"p-2 bg-white/20 backdrop-blur-sm rounded-xl hover:bg-white/30 transition-colors",children:s.jsx(za,{className:"w-4 h-4"})})]})]}),s.jsx("div",{className:"p-3 bg-white/10 backdrop-blur-sm rounded-xl",children:s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gt,{className:"w-4 h-4"}),s.jsxs("span",{className:"truncate",children:[r.car?.make||"N/A"," ",r.car?.model||""]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Hs,{className:"w-4 h-4"}),s.jsx("span",{className:"truncate",children:r.start_datetime?se(r.start_datetime):"N/A"})]})]})})]})]}),s.jsxs("div",{ref:N,className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gradient-to-b from-gray-50/50 to-white dark:from-gray-900/50 dark:to-gray-800",style:{maxHeight:"calc(100vh - 450px)"},children:[d?s.jsx("div",{className:"flex justify-center items-center h-full",children:s.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-t-transparent",style:{borderColor:ps.tealDim,borderTopColor:"transparent"}})}):a.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[s.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mb-4",style:{background:ps.tealDim},children:s.jsx(ii,{className:"w-10 h-10",style:{color:ps.teal}})}),s.jsx("p",{className:"text-lg font-medium",children:"No messages yet"}),s.jsx("p",{className:"text-sm",children:"Start the conversation!"})]}):s.jsxs(s.Fragment,{children:[a.map((M,K)=>{const z=M.sender_id===C.current||M.sender?.id===C.current,he=K===0||a[K-1].sender_id!==M.sender_id;return s.jsxs(st.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex items-end gap-2 ${z?"justify-end":"justify-start"}`,children:[!z&&he&&s.jsx("img",{src:M.sender?.profile_picture?`/api/storage/${M.sender.profile_picture}`:"/default-avatar.png",alt:M.sender?.first_name||"User",className:"w-8 h-8 rounded-full object-cover ring-2 ring-white dark:ring-gray-700"}),!z&&!he&&s.jsx("div",{className:"w-8"}),s.jsxs("div",{className:`flex flex-col ${z?"items-end":"items-start"} max-w-[70%]`,children:[s.jsx(st.div,{whileHover:{scale:1.02},className:`rounded-2xl px-4 py-2 shadow-md ${z?"text-white rounded-br-none":"bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-bl-none border border-gray-200 dark:border-gray-600"}`,style:z?{background:`linear-gradient(135deg, ${ps.teal}, ${ps.darkBlue})`}:{},children:s.jsx("p",{className:"text-sm whitespace-pre-wrap break-words leading-relaxed",children:M.message})}),s.jsxs("div",{className:"flex items-center gap-1 mt-1 px-1",children:[s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:O(M.created_at)}),z&&s.jsx("span",{children:M.read_at?s.jsx(Y6,{className:"w-3 h-3",style:{color:ps.teal}}):s.jsx(ci,{className:"w-3 h-3 text-gray-400"})})]})]}),z&&he&&s.jsx("img",{src:M.sender?.profile_picture?`/api/storage/${M.sender.profile_picture}`:"/default-avatar.png",alt:M.sender?.first_name||"You",className:"w-8 h-8 rounded-full object-cover ring-2 ring-white dark:ring-gray-700"}),z&&!he&&s.jsx("div",{className:"w-8"})]},M.id)}),s.jsx("div",{ref:k})]}),s.jsx(Wo,{children:g&&s.jsxs(st.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"flex items-center gap-2",children:[s.jsx("img",{src:r.client?.profile_picture?`/api/storage/${r.client.profile_picture}`:"/default-avatar.png",alt:r.client?.first_name||"Client",className:"w-8 h-8 rounded-full object-cover ring-2 ring-white dark:ring-gray-700"}),s.jsx("div",{className:"bg-white dark:bg-gray-700 rounded-2xl rounded-bl-none px-4 py-3 border border-gray-200 dark:border-gray-600",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{background:ps.teal,animationDelay:"0ms"}}),s.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{background:ps.darkBlue,animationDelay:"150ms"}}),s.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{background:ps.limeGreen,animationDelay:"300ms"}})]})})]})})]}),s.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsx(st.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>console.log("Attach file"),className:"p-2 rounded-xl transition-colors",style:{background:ps.tealDim,color:ps.teal},children:s.jsx(aM,{className:"w-5 h-5"})}),s.jsx(st.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>console.log("Send emoji"),className:"p-2 rounded-xl transition-colors",style:{background:ps.limeGreenDim,color:ps.limeGreen},children:s.jsx(oM,{className:"w-5 h-5"})}),s.jsx("div",{className:"flex-1 relative",children:s.jsx("textarea",{value:o,onChange:M=>{c(M.target.value)},onKeyPress:M=>{M.key==="Enter"&&!M.shiftKey&&(M.preventDefault(),q(M))},placeholder:"Type your message...",rows:1,className:"w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 dark:bg-gray-700 dark:text-white resize-none",style:{focusRing:ps.teal}})}),s.jsx(st.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:q,disabled:!o.trim(),className:"p-3 rounded-xl text-white font-semibold disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg hover:shadow-xl",style:{background:`linear-gradient(135deg, ${ps.teal}, ${ps.darkBlue})`},children:s.jsx(T0,{className:"w-5 h-5"})})]})})]}):s.jsx("div",{className:"flex-1 flex flex-col items-center justify-center",children:s.jsxs(st.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"text-center",children:[s.jsx("div",{className:"w-24 h-24 rounded-full flex items-center justify-center mb-6 mx-auto",style:{background:`linear-gradient(135deg, ${ps.tealDim}, ${ps.limeGreenDim})`},children:s.jsx(ii,{className:"w-12 h-12",style:{color:ps.teal}})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Select a Booking"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Choose a conversation to start chatting"})]})})})]})]})})}const Cue=()=>Oe.get("/bookings/feedback-templates"),Aue=(t,e)=>Oe.post(`/bookings/${t}/client-rating`,{rating:e.rating,template_selections:e.template_selections||[],comment:(e.comment||"").slice(0,1e3)}),Eue=async()=>{const r=((await Oe.get("/driver/bookings")).data?.data||[]).filter(o=>o.booking_request_status==="confirmed"||o.booking_request_status==="completed"),n=r.reduce((o,c)=>o+parseFloat(c.total_booking_price||0),0),a=r.reduce((o,c)=>o+(Number(c.app_fees_amount)||0),0);let i=null;try{const o=await Oe.get("/profile");i=o.data?.user?.agent?.app_fees??o.data?.agent?.app_fees??null}catch{}return{total_amount:n,app_fees_amount:a,net_earnings:n-a,bookings_count:r.length,app_fees_percentage:i}},GF=async()=>{try{return await Oe.get("/owner/earnings")}catch(t){if(t.response?.status===404)return{data:await Eue()};throw t}},Tue=(t={})=>Oe.get("/frequent-searches/statistics",{params:t}),Dt=j.forwardRef(({className:t,...e},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:St("w-full caption-bottom text-sm",t),...e})}));Dt.displayName="Table";const Mt=j.forwardRef(({className:t,...e},r)=>s.jsx("thead",{ref:r,className:St("[&_tr]:border-b",t),...e}));Mt.displayName="TableHeader";const Pt=j.forwardRef(({className:t,...e},r)=>s.jsx("tbody",{ref:r,className:St("[&_tr:last-child]:border-0",t),...e}));Pt.displayName="TableBody";const Rue=j.forwardRef(({className:t,...e},r)=>s.jsx("tfoot",{ref:r,className:St("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));Rue.displayName="TableFooter";const Ve=j.forwardRef(({className:t,...e},r)=>s.jsx("tr",{ref:r,className:St("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Ve.displayName="TableRow";const _e=j.forwardRef(({className:t,...e},r)=>s.jsx("th",{ref:r,className:St("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e}));_e.displayName="TableHead";const ge=j.forwardRef(({className:t,...e},r)=>s.jsx("td",{ref:r,className:St("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e}));ge.displayName="TableCell";const Due=j.forwardRef(({className:t,...e},r)=>s.jsx("caption",{ref:r,className:St("mt-4 text-sm text-muted-foreground",t),...e}));Due.displayName="TableCaption";const ct={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640",darkBlueDim:"rgba(14, 76, 129, 0.1)",tealDim:"rgba(0, 140, 149, 0.1)",limeGreenDim:"rgba(138, 198, 64, 0.1)"};function Mue(){const[t,e]=j.useState([]),[r,n]=j.useState(!0),[a,i]=j.useState(null),[o,c]=j.useState(!1),[d,h]=j.useState(null),[m,f]=j.useState("list"),[g,y]=j.useState(new Date),[v,w]=j.useState(0),[_,b]=j.useState("all"),[N,k]=j.useState(""),[S,C]=j.useState([]),[I,E]=j.useState(null),[U,T]=j.useState({rating:0,template_selections:[],comment:""}),[ne,q]=j.useState(!1),F=async()=>{n(!0);try{const{data:ce}=await Oe.get("/driver/bookings");e(ce.data||[])}catch(ce){console.error("Error fetching bookings:",ce),e([]),be.error("Failed to fetch bookings")}finally{n(!1)}};j.useEffect(()=>{F()},[]),j.useEffect(()=>{(async()=>{try{const{data:ue}=await Cue();C(ue?.agent_rates_client||[])}catch(ue){console.error("Failed to load feedback templates:",ue)}})()},[]),j.useEffect(()=>{const ce=H();if(ce.length>1){const ue=setInterval(()=>{w(De=>(De+1)%ce.length)},5e3);return()=>clearInterval(ue)}},[t]);const Y=t.reduce((ce,ue)=>{const De=ue.car?.id;return De&&(ce[De]||(ce[De]={car:ue.car,bookings:[]}),ce[De].bookings.push(ue)),ce},{}),O=async ce=>{h(ce);try{if(await Oe.post(`/driver/bookings/${ce}/accept`),await F(),a){const ue=t.filter(De=>De.car?.id===a.car?.id);i({...a,bookings:ue})}be.success(" Booking accepted successfully!")}catch(ue){console.error("Error accepting booking:",ue),be.error("Failed to accept booking")}finally{h(null)}},se=async ce=>{if(confirm("Are you sure you want to reject this booking?")){h(ce);try{if(await Oe.post(`/driver/bookings/${ce}/decline`),await F(),a){const ue=t.filter(De=>De.car?.id===a.car?.id&&De.id!==ce);ue.length===0?M():i({...a,bookings:ue})}be.success("Booking rejected successfully")}catch(ue){console.error("Error rejecting booking:",ue),be.error("Failed to reject booking")}finally{h(null)}}},X=ce=>{i(ce),c(!0)},M=()=>{i(null),c(!1)},K=ce=>{const ue=ce?.booking_request_status,De=ue==="confirmed"||ue==="accepted",je=ce?.end_datetime&&new Date(ce.end_datetime)<new Date,Ae=!ce?.client_rating;return!!(De&&je&&Ae)},z=ce=>{E(ce),T({rating:0,template_selections:[],comment:""})},he=()=>{E(null),T({rating:0,template_selections:[],comment:""})},V=ce=>{T(ue=>({...ue,template_selections:ue.template_selections.includes(ce)?ue.template_selections.filter(De=>De!==ce):[...ue.template_selections,ce]}))},W=async()=>{if(!I||U.rating<1||U.rating>5){be.error("Please select a rating (15 stars).");return}q(!0);try{if(await Aue(I.id,{rating:U.rating,template_selections:U.template_selections,comment:U.comment.slice(0,1e3)}),be.success("Rating submitted successfully."),he(),await F(),a?.bookings?.length){const ce=a.bookings.map(ue=>ue.id===I.id?{...ue,client_rating:!0}:ue);i({...a,bookings:ce})}}catch(ce){const ue=ce.response?.data?.message||ce.response?.data?.error||ce.response?.data?.errors&&Object.values(ce.response.data.errors).flat().join(" ")||"Failed to submit rating.";be.error(ue)}finally{q(!1)}},le=ce=>{const ue={pending:{label:"Pending",color:ct.teal,bgColor:ct.tealDim,textColor:ct.teal,icon:r_},confirmed:{label:"Confirmed",color:ct.limeGreen,bgColor:ct.limeGreenDim,textColor:ct.limeGreen,icon:Gr},accepted:{label:"Accepted",color:ct.darkBlue,bgColor:ct.darkBlueDim,textColor:ct.darkBlue,icon:ci},rejected:{label:"Rejected",color:"#DC2626",bgColor:"rgba(220, 38, 38, 0.1)",textColor:"#DC2626",icon:Xn},completed:{label:"Completed",color:ct.limeGreen,bgColor:ct.limeGreenDim,textColor:ct.limeGreen,icon:Gr}};return ue[ce]||ue.pending},oe=(ce,ue)=>{const De=new Date(ce),je=new Date(ue),Ae=Math.abs(je-De);return Math.ceil(Ae/(1e3*60*60*24))},ve=ce=>new Date(ce).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),me=ce=>new Date(ce).toLocaleDateString("en-US",{month:"short",day:"numeric"}),$=ce=>{const ue=new Date(ce),De=new Date;return ue.toDateString()===De.toDateString()},H=()=>t.filter(ce=>$(ce.start_datetime)||$(ce.end_datetime)),Z=(()=>{const ce=t.length,ue=t.filter(Be=>Be.booking_request_status==="pending").length,De=t.filter(Be=>Be.booking_request_status==="confirmed"||Be.booking_request_status==="accepted").length,je=t.filter(Be=>Be.booking_request_status==="rejected").length,Ae=t.filter(Be=>Be.booking_request_status==="confirmed"||Be.booking_request_status==="accepted").reduce((Be,et)=>Be+parseFloat(et.total_booking_price||0),0);return{total:ce,pending:ue,confirmed:De,rejected:je,totalRevenue:Ae}})(),ee=Object.entries(Y).reduce((ce,[ue,De])=>{let je=De.bookings;return _!=="all"&&(je=je.filter(Ae=>Ae.booking_request_status===_)),N&&(je=je.filter(Ae=>{const Be=N.toLowerCase(),et=`${Ae.car?.make} ${Ae.car?.model}`.toLowerCase().includes(Be),lt=`${Ae.client?.first_name} ${Ae.client?.last_name}`.toLowerCase().includes(Be),gt=Ae.client?.email?.toLowerCase().includes(Be);return et||lt||gt})),je.length>0&&(ce[ue]={...De,bookings:je}),ce},{}),J=ce=>{const ue=ce.getFullYear(),De=ce.getMonth(),je=new Date(ue,De,1),Be=new Date(ue,De+1,0).getDate(),et=je.getDay();return{daysInMonth:Be,startingDayOfWeek:et,year:ue,month:De}},ke=ce=>t.filter(ue=>{const De=new Date(ue.start_datetime),je=new Date(ue.end_datetime);return De.setHours(0,0,0,0),je.setHours(0,0,0,0),ce.setHours(0,0,0,0),ce.getTime()===De.getTime()||ce.getTime()===je.getTime()}),L=()=>{const{daysInMonth:ce,startingDayOfWeek:ue,year:De,month:je}=J(g),Ae=["January","February","March","April","May","June","July","August","September","October","November","December"],Be=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],et=()=>{y(new Date(g.getFullYear(),g.getMonth()-1))},lt=()=>{y(new Date(g.getFullYear(),g.getMonth()+1))},gt=[];for(let _t=0;_t<ue;_t++)gt.push(s.jsx("div",{className:"aspect-square"},`empty-${_t}`));for(let _t=1;_t<=ce;_t++){const Ht=new Date(De,je,_t),Yt=ke(Ht),Ct=$(Ht.toISOString());gt.push(s.jsxs(st.div,{whileHover:{scale:1.05},className:`aspect-square border rounded-xl p-2 transition-all cursor-pointer ${Ct?"border-2 shadow-lg":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:shadow-md"}`,style:Ct?{background:`linear-gradient(135deg, ${ct.tealDim}, ${ct.limeGreenDim})`,borderColor:ct.teal}:{},onClick:()=>{if(Yt.length>0){const us=Yt.reduce((Ge,Ze)=>{const Ke=Ze.car?.id;return Ge[Ke]||(Ge[Ke]={car:Ze.car,bookings:[]}),Ge[Ke].bookings.push(Ze),Ge},{});X(Object.values(us)[0])}},children:[s.jsx("div",{className:`text-sm font-bold mb-1 ${Ct?"dark:text-gray-800":"text-gray-700 dark:text-gray-300"}`,style:Ct?{color:ct.teal}:{},children:_t}),Yt.length>0&&s.jsxs("div",{className:"space-y-1",children:[Yt.slice(0,2).map(us=>{const Ge=le(us.booking_request_status);return s.jsx("div",{className:"text-xs px-1.5 py-0.5 rounded-md truncate font-medium shadow-sm",style:{background:Ge.bgColor,color:Ge.textColor},children:us.car?.make},us.id)}),Yt.length>2&&s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:["+",Yt.length-2," more"]})]})]},_t))}return s.jsxs(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-5 border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex justify-between items-center mb-5",children:[s.jsxs("h2",{className:"text-2xl font-bold bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(135deg, ${ct.teal}, ${ct.darkBlue})`},children:[Ae[je]," ",De]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(st.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:et,className:"p-2 rounded-xl transition-colors",style:{background:ct.tealDim,color:ct.teal},children:s.jsx(Yo,{className:"w-5 h-5"})}),s.jsx(st.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:lt,className:"p-2 rounded-xl transition-colors",style:{background:ct.tealDim,color:ct.teal},children:s.jsx(pn,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[Be.map(_t=>s.jsx("div",{className:"text-center font-bold text-sm text-gray-600 dark:text-gray-400 py-2",children:_t},_t)),gt]}),s.jsx("div",{className:"flex justify-center gap-6 mt-5 pt-5 border-t border-gray-200 dark:border-gray-700",children:["pending","confirmed","rejected"].map(_t=>{const Ht=le(_t);return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded-md shadow-sm",style:{background:Ht.color}}),s.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:Ht.label})]},_t)})})]})},Te=ce=>{if(!ce.length)return{start:new Date,end:new Date};const ue=ce.flatMap(Ae=>[new Date(Ae.start_datetime),new Date(Ae.end_datetime)]),De=new Date(Math.min(...ue.map(Ae=>Ae.getTime()))),je=new Date(Math.max(...ue.map(Ae=>Ae.getTime())));return De.setDate(De.getDate()-2),je.setDate(je.getDate()+2),{start:De,end:je}},Q=({startDate:ce,endDate:ue})=>{const De=[],je=new Date(ce);for(;je<=ue;){const Ae=$(je.toISOString());De.push({date:je.toLocaleDateString("en-US",{day:"numeric",month:"short"}),day:je.toLocaleDateString("en-US",{weekday:"short"}),isToday:Ae}),je.setDate(je.getDate()+1)}return s.jsx("div",{className:"flex border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50",children:De.map((Ae,Be)=>s.jsxs("div",{className:`px-4 py-3 text-sm font-semibold text-center ${Ae.isToday,""}`,style:Ae.isToday?{background:ct.tealDim,color:ct.teal}:{},children:[s.jsx("div",{className:"font-bold",children:Ae.day}),s.jsx("div",{className:"text-xs opacity-80",children:Ae.date})]},Be))})},R=({car:ce,bookings:ue,dateRange:De,onBookingClick:je})=>{const{start:Ae,end:Be}=De,et=Math.ceil((Be-Ae)/(1e3*60*60*24));return s.jsxs(st.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center border-b border-gray-200 dark:border-gray-700 py-3 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[s.jsxs("div",{className:"w-56 flex items-center gap-3 px-4",children:[s.jsx("img",{src:ce.main_image_url?`/api/storage/${ce.main_image_url}`:"/placeholder.png",alt:ce.model,className:"w-14 h-10 object-cover rounded-lg shadow-md"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"font-bold text-gray-900 dark:text-white",children:[ce.make," ",ce.model]}),s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center gap-1",children:[s.jsx(Hs,{className:"w-3 h-3"}),ue.length," booking",ue.length!==1?"s":""]})]})]}),s.jsx("div",{className:"relative flex-1 h-14 px-2",children:ue.map(lt=>{const gt=new Date(lt.start_datetime),_t=new Date(lt.end_datetime),Ht=Math.max(0,Math.floor((gt-Ae)/(1e3*60*60*24))),Yt=Math.max(1,Math.ceil((_t-gt)/(1e3*60*60*24))),Ct=le(lt.booking_request_status);return s.jsx(st.div,{whileHover:{scale:1.05,zIndex:10},className:"absolute h-10 rounded-xl cursor-pointer shadow-lg hover:shadow-xl transition-all flex items-center justify-center text-white text-xs font-semibold",style:{left:`${Ht/et*100}%`,width:`${Yt/et*100}%`,background:Ct.color},title:`${lt.client?.first_name} ${lt.client?.last_name}
${ve(lt.start_datetime)} - ${ve(lt.end_datetime)}
Total: $${lt.total_booking_price}`,onClick:()=>je({car:ce,bookings:[lt]}),children:s.jsx("span",{className:"truncate px-2",children:lt.client?.first_name})},lt.id)})})]})},P=()=>{const ce=Te(t);return s.jsxs(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden border border-gray-200 dark:border-gray-700",children:[s.jsx(Q,{startDate:ce.start,endDate:ce.end}),s.jsx("div",{className:"max-h-[600px] overflow-y-auto",children:Object.values(Y).map(({car:ue,bookings:De})=>s.jsx(R,{car:ue,bookings:De,dateRange:ce,onBookingClick:X},ue.id))}),s.jsx("div",{className:"flex justify-center gap-6 p-4 bg-gray-50 dark:bg-gray-900/50 border-t border-gray-200 dark:border-gray-700",children:["pending","confirmed","rejected"].map(ue=>{const De=le(ue);return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded-md shadow-sm",style:{background:De.color}}),s.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:De.label})]},ue)})})]})},G=()=>{const ce=H();if(ce.length===0)return null;const ue=ce[v],De=$(ue.start_datetime),je=$(ue.end_datetime);return s.jsxs(st.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-5 rounded-2xl shadow-2xl p-5 text-white overflow-hidden relative",style:{background:`linear-gradient(135deg, ${ct.darkBlue}, ${ct.teal}, ${ct.limeGreen})`},children:[s.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/5 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white/5 rounded-full blur-3xl"}),s.jsx("div",{className:"relative z-10",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(st.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,repeatDelay:3},className:"p-3 bg-white/20 backdrop-blur-sm rounded-2xl",children:s.jsx(Wx,{className:"w-7 h-7"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"text-xl font-bold",children:"Today's Action Required!"}),ce.length>1&&s.jsxs("span",{className:"text-xs bg-white/30 backdrop-blur-sm px-3 py-1 rounded-full font-semibold",children:[v+1," of ",ce.length]})]}),s.jsx("p",{className:"text-sm opacity-90 mb-4 flex items-center gap-2",children:De&&je?s.jsxs(s.Fragment,{children:[s.jsx(lm,{className:"w-4 h-4"}),"Booking starts AND ends today"]}):De?s.jsxs(s.Fragment,{children:[s.jsx(Fx,{className:"w-4 h-4"}),"Booking starts today"]}):s.jsxs(s.Fragment,{children:[s.jsx(Gr,{className:"w-4 h-4"}),"Booking ends today"]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3 border border-white/20",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:ue.car?.main_image_url?`/api/storage/${ue.car.main_image_url}`:"/placeholder.png",alt:ue.car?.model,className:"w-12 h-12 rounded-lg object-cover border-2 border-white/30 shadow-lg"}),s.jsxs("div",{children:[s.jsxs("div",{className:"font-bold text-lg",children:[ue.car?.make," ",ue.car?.model]}),s.jsxs("div",{className:"text-xs opacity-80 flex items-center gap-1",children:[s.jsx(Gt,{className:"w-3 h-3"}),ue.car?.year,"  ",ue.car?.car_category]})]})]})}),s.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3 border border-white/20",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:ue.client?.profile_picture?`/api/storage/${ue.client.profile_picture}`:"/default-avatar.png",alt:ue.client?.username,className:"w-12 h-12 rounded-full object-cover border-2 border-white/30 shadow-lg"}),s.jsxs("div",{children:[s.jsxs("div",{className:"font-bold text-lg flex items-center gap-1",children:[ue.client?.first_name," ",ue.client?.last_name,ue.client?.verified_by_admin&&s.jsx(UE,{className:"w-4 h-4"})]}),s.jsxs("div",{className:"text-xs opacity-80",children:["@",ue.client?.username]})]})]})})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-sm px-3 py-2 rounded-lg",children:[s.jsx(ch,{className:"w-4 h-4"}),s.jsx("span",{className:"font-medium",children:ve(ue.start_datetime)})]}),s.jsxs("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-sm px-3 py-2 rounded-lg",children:[s.jsx(or,{className:"w-4 h-4"}),s.jsxs("span",{className:"font-bold",children:["$",ue.total_booking_price]})]}),ue.app_fees_amount!=null&&s.jsxs("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-sm px-3 py-2 rounded-lg",children:[s.jsx("span",{className:"opacity-90",children:"App fee:"}),s.jsxs("span",{children:["$",ue.app_fees_amount]})]}),s.jsx("div",{className:"px-3 py-1.5 rounded-lg font-semibold text-xs bg-white/20",children:ue.booking_request_status.toUpperCase()})]})]})]})}),ce.length>1&&s.jsx("div",{className:"absolute bottom-4 right-6 flex gap-2",children:ce.map((Ae,Be)=>s.jsx(st.div,{animate:{scale:Be===v?1.2:1},className:`h-2 rounded-full transition-all ${Be===v?"bg-white w-8":"bg-white/40 w-2"}`},Be))})]})},ye=()=>{const ce=[{title:"Total Bookings",value:Z.total,icon:Hs,gradient:`linear-gradient(135deg, ${ct.teal}, ${ct.darkBlue})`,change:"+12%"},{title:"Pending Review",value:Z.pending,icon:r_,gradient:`linear-gradient(135deg, ${ct.darkBlue}, ${ct.teal})`,change:"Needs action",alert:Z.pending>0},{title:"Confirmed",value:Z.confirmed,icon:Gr,gradient:`linear-gradient(135deg, ${ct.limeGreen}, ${ct.teal})`,change:"+8%"},{title:"Total Revenue",value:`$${Z.totalRevenue.toFixed(2)}`,icon:or,gradient:`linear-gradient(135deg, ${ct.teal}, ${ct.limeGreen})`,change:"+15%"}];return s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-5",children:ce.map((ue,De)=>s.jsx(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:De*.1},whileHover:{y:-5},className:"relative",children:s.jsxs("div",{className:"relative z-10 bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-4 border border-gray-200 dark:border-gray-700 group",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl p-2.5 shadow-lg",style:{background:ue.gradient},children:s.jsx(ue.icon,{className:"w-full h-full text-white"})}),ue.alert&&s.jsx(st.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},className:"w-3 h-3 rounded-full",style:{background:ct.teal}})]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:ue.title}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:ue.value}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:ue.change})]})},De))})};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 dark:from-gray-950 dark:via-gray-900 dark:to-black pt-20",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsx("div",{className:"mb-5",children:s.jsx(st.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:s.jsx("h1",{className:"text-4xl font-bold bg-clip-text text-transparent mb-2",style:{backgroundImage:`linear-gradient(135deg, ${ct.darkBlue}, ${ct.teal}, ${ct.limeGreen})`},children:"Booking Management"})})}),s.jsx(G,{}),s.jsx(ye,{}),s.jsx(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-4 mb-4 border border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Fr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search by car, client, or email...",value:N,onChange:ce=>k(ce.target.value),className:"w-full pl-11 pr-4 py-2.5 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 dark:text-white",style:{focusRing:ct.teal}})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("select",{value:_,onChange:ce=>b(ce.target.value),className:"px-4 py-2.5 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 dark:text-white",style:{focusRing:ct.teal},children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"confirmed",children:"Confirmed"}),s.jsx("option",{value:"accepted",children:"Accepted"}),s.jsx("option",{value:"rejected",children:"Rejected"})]}),s.jsx(st.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:F,className:"p-2.5 rounded-xl transition-colors",style:{background:ct.tealDim,color:ct.teal},children:s.jsx(Tt,{className:"w-5 h-5"})})]})]})}),s.jsx("div",{className:"flex gap-2 mb-5 overflow-x-auto pb-2",children:[{id:"list",label:"List View",icon:Io},{id:"table",label:"Table",icon:BG},{id:"timeline",label:"Timeline",icon:lm},{id:"calendar",label:"Calendar",icon:Hs}].map(ce=>s.jsxs(st.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:`flex items-center gap-2 px-5 py-2.5 rounded-xl font-medium whitespace-nowrap transition-all ${m===ce.id?"text-white shadow-lg":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 border border-gray-200 dark:border-gray-700"}`,style:m===ce.id?{background:`linear-gradient(135deg, ${ct.teal}, ${ct.darkBlue})`}:{},onClick:()=>f(ce.id),children:[s.jsx(ce.icon,{className:"w-5 h-5"}),ce.label]},ce.id))}),r?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx(st.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-16 h-16 border-4 border-t-4 rounded-full",style:{borderColor:ct.tealDim,borderTopColor:ct.teal}})}):Object.keys(ee).length===0?s.jsxs(st.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-20 bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700",children:[s.jsx(ks,{className:"w-20 h-20 mx-auto mb-4",style:{color:ct.teal,opacity:.3}}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg font-medium mb-2",children:"No bookings found"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-500 text-sm",children:"Try adjusting your filters or search query"})]}):m==="calendar"?s.jsx(L,{}):m==="timeline"?s.jsx(P,{}):m==="table"?s.jsx(st.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden border border-gray-200 dark:border-gray-700",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{className:"border-gray-200 dark:border-gray-700",children:[s.jsx(_e,{className:"text-gray-700 dark:text-gray-300",children:"Car"}),s.jsx(_e,{className:"text-gray-700 dark:text-gray-300",children:"Client"}),s.jsx(_e,{className:"text-gray-700 dark:text-gray-300",children:"Dates"}),s.jsx(_e,{className:"text-gray-700 dark:text-gray-300",children:"Status"}),s.jsx(_e,{className:"text-gray-700 dark:text-gray-300 text-right",children:"Amount"}),s.jsx(_e,{className:"text-gray-700 dark:text-gray-300 text-right",children:"App Fee"}),s.jsx(_e,{className:"text-gray-700 dark:text-gray-300 text-right",children:"Net"})]})}),s.jsx(Pt,{children:Object.values(ee).flatMap(ce=>ce.bookings).map(ce=>{const ue=le(ce.booking_request_status),De=parseFloat(ce.total_booking_price||0),je=Number(ce.app_fees_amount)||0,Ae=De-je;return s.jsxs(Ve,{className:"cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50 border-gray-200 dark:border-gray-700",onClick:()=>X({car:ce.car,bookings:[ce]}),children:[s.jsxs(ge,{className:"font-medium text-gray-900 dark:text-white",children:[ce.car?.make," ",ce.car?.model]}),s.jsxs(ge,{className:"text-gray-600 dark:text-gray-400",children:[ce.client?.first_name," ",ce.client?.last_name]}),s.jsxs(ge,{className:"text-gray-600 dark:text-gray-400 text-sm",children:[me(ce.start_datetime),"  ",me(ce.end_datetime)]}),s.jsx(ge,{children:s.jsx("span",{className:"px-2 py-1 rounded-lg text-xs font-semibold",style:{background:ue.bgColor,color:ue.textColor},children:ue.label})}),s.jsxs(ge,{className:"text-right font-semibold",style:{color:ct.limeGreen},children:["$",De.toFixed(2)]}),s.jsxs(ge,{className:"text-right text-gray-600 dark:text-gray-400",children:["$",je.toFixed(2)]}),s.jsxs(ge,{className:"text-right font-bold",style:{color:ct.teal},children:["$",Ae.toFixed(2)]})]},ce.id)})})]})})}):s.jsx(st.div,{initial:{opacity:0},animate:{opacity:1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-5",children:Object.values(ee).map(({car:ce,bookings:ue},De)=>{const je=ue.filter(Be=>Be.booking_request_status==="pending").length,Ae=ue.filter(Be=>Be.booking_request_status==="confirmed"||Be.booking_request_status==="accepted").length;return s.jsxs(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:De*.1},whileHover:{y:-8,scale:1.02},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden cursor-pointer border border-gray-200 dark:border-gray-700 group",onClick:()=>X({car:ce,bookings:ue}),children:[s.jsxs("div",{className:"relative overflow-hidden",children:[s.jsx("img",{src:ce?.main_image_url?`/api/storage/${ce.main_image_url}`:"/placeholder.png",alt:ce?.model||"Car",className:"w-full h-48 object-cover group-hover:scale-110 transition-transform duration-500"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),s.jsx("div",{className:"absolute top-3 right-3 bg-white/90 dark:bg-gray-900/90 backdrop-blur-sm rounded-full px-3 py-1.5 shadow-lg",children:s.jsxs("span",{className:"text-sm font-bold text-gray-900 dark:text-white flex items-center gap-1",children:[s.jsx(Hs,{className:"w-4 h-4"}),ue.length]})})]}),s.jsxs("div",{className:"p-5",children:[s.jsxs("h2",{className:"font-bold text-xl text-gray-900 dark:text-white mb-1",children:[ce?.make||"Unknown"," ",ce?.model||""]}),s.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-3 flex items-center gap-2",children:[s.jsx(Gt,{className:"w-4 h-4"}),ce?.year||"N/A","  ",ce?.car_category||"N/A"]}),ce?.notes&&s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-3 line-clamp-2",children:ce.notes}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[je>0&&s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg border",style:{background:ct.tealDim,borderColor:ct.teal},children:[s.jsx(st.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},className:"w-2 h-2 rounded-full",style:{background:ct.teal}}),s.jsxs("span",{className:"text-xs font-semibold",style:{color:ct.teal},children:[je," Pending"]})]}),Ae>0&&s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg border",style:{background:ct.limeGreenDim,borderColor:ct.limeGreen},children:[s.jsx(Gr,{className:"w-4 h-4",style:{color:ct.limeGreen}}),s.jsxs("span",{className:"text-xs font-semibold",style:{color:ct.limeGreen},children:[Ae," Confirmed"]})]})]})]})]},ce.id)})}),s.jsx(Wo,{children:o&&a&&s.jsx(st.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",onClick:M,children:s.jsxs(st.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white dark:bg-gray-800 rounded-2xl w-full max-w-4xl mx-4 shadow-2xl overflow-hidden border border-gray-200 dark:border-gray-700",style:{maxHeight:"90vh"},onClick:ce=>ce.stopPropagation(),children:[s.jsxs("div",{className:"p-5 text-white relative overflow-hidden",style:{background:`linear-gradient(135deg, ${ct.teal}, ${ct.darkBlue})`},children:[s.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full blur-3xl"}),s.jsxs("div",{className:"relative z-10 flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-2.5 bg-white/20 backdrop-blur-sm rounded-2xl",children:s.jsx(Gt,{className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold",children:[a.car?.make," ",a.car?.model]}),s.jsxs("p",{className:"text-sm opacity-90 flex items-center gap-2 mt-1",children:[s.jsx(Hs,{className:"w-4 h-4"}),a.bookings?.length||0," booking request",a.bookings?.length!==1?"s":""]})]})]}),s.jsx(st.button,{whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},onClick:M,className:"p-2 rounded-full hover:bg-white/20 transition-colors",children:s.jsx(gr,{className:"w-6 h-6"})})]})]}),s.jsx("div",{className:"overflow-y-auto p-5",style:{maxHeight:"calc(90vh - 120px)"},children:a.bookings?.length===0?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(ks,{className:"w-16 h-16 mx-auto mb-4",style:{color:ct.teal,opacity:.3}}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:"No bookings for this car yet."})]}):s.jsx("div",{className:"space-y-5",children:a.bookings?.map((ce,ue)=>{const De=ce.client,je=De?.profile||{},Ae=le(ce.booking_request_status),Be=Ae.icon;return s.jsxs(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:ue*.1},className:"bg-gradient-to-br from-gray-50 to-white dark:from-gray-900 dark:to-gray-800 rounded-2xl p-5 shadow-lg border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex justify-between items-start mb-5",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:De?.profile_picture?`/api/storage/${De.profile_picture}`:"/default-avatar.png",alt:De?.username||"Client",className:"w-14 h-14 rounded-2xl object-cover border-4 border-white dark:border-gray-700 shadow-lg"}),je?.trusted_by_app&&s.jsx("div",{className:"absolute -bottom-2 -right-2 w-6 h-6 rounded-full border-4 border-white dark:border-gray-700 flex items-center justify-center shadow-lg",style:{background:ct.darkBlue},children:s.jsx(Zn,{className:"w-3 h-3 text-white"})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center gap-2 mb-1",children:s.jsxs("h3",{className:"font-bold text-xl text-gray-900 dark:text-white flex items-center gap-2",children:[De?.first_name||"N/A"," ",De?.last_name||"",De?.verified_by_admin&&s.jsx(UE,{className:"w-5 h-5",style:{color:ct.teal}})]})}),s.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["@",De?.username||"Unknown","  Booked ",me(ce.created_at)]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-xl border-2",style:{background:Ae.bgColor,borderColor:Ae.color},children:[s.jsx(Be,{className:"w-5 h-5",style:{color:Ae.textColor}}),s.jsx("span",{className:"font-bold text-sm",style:{color:Ae.textColor},children:Ae.label})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-4",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-3 border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"p-2 rounded-lg",style:{background:ct.tealDim},children:s.jsx(Fx,{className:"w-4 h-4",style:{color:ct.teal}})}),s.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:"Rental Period"})]}),s.jsxs("div",{className:"space-y-1.5 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Start:"}),s.jsx("span",{className:"font-semibold",children:ve(ce.start_datetime)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"End:"}),s.jsx("span",{className:"font-semibold",children:ve(ce.end_datetime)})]}),s.jsxs("div",{className:"flex justify-between pt-1.5 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),s.jsxs("span",{className:"font-bold",style:{color:ct.teal},children:[oe(ce.start_datetime,ce.end_datetime)," days"]})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-3 border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"p-2 rounded-lg",style:{background:ct.limeGreenDim},children:s.jsx(or,{className:"w-4 h-4",style:{color:ct.limeGreen}})}),s.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:"Payment Details"})]}),s.jsxs("div",{className:"space-y-1.5 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total (client paid):"}),s.jsxs("span",{className:"font-bold text-lg",style:{color:ct.limeGreen},children:["$",ce.total_booking_price??"0.00"]})]}),ce.app_fees_amount!=null&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"App fee:"}),s.jsxs("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:["$",ce.app_fees_amount]})]}),s.jsxs("div",{className:"flex justify-between pt-1.5 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Your net:"}),s.jsxs("span",{className:"font-bold",style:{color:ct.teal},children:["$",(parseFloat(ce.total_booking_price||0)-(ce.app_fees_amount||0)).toFixed(2)]})]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Pickup:"}),s.jsx("span",{className:"font-semibold text-right truncate max-w-[160px]",children:ce.pickup_location||"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Dropoff:"}),s.jsx("span",{className:"font-semibold text-right truncate max-w-[160px]",children:ce.dropoff_location||"N/A"})]})]})]})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 mb-4",children:[{label:"Email",value:De?.email,icon:za},{label:"Phone",value:De?.phone_number,icon:di},{label:"City",value:De?.city,icon:Ps},{label:"Profession",value:je?.profession,icon:yd}].map((et,lt)=>s.jsxs("div",{className:"bg-white dark:bg-gray-700 p-2.5 rounded-xl shadow-sm border border-gray-200 dark:border-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[s.jsx(et.icon,{className:"w-3 h-3 text-gray-400"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:et.label})]}),s.jsx("p",{className:"font-semibold text-sm truncate text-gray-800 dark:text-gray-200",children:et.value||"N/A"})]},lt))}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 mb-4",children:[{label:"Age",value:je?.age},{label:"Gender",value:De?.gender},{label:"Salary",value:je?.avg_salary},{label:"License",value:je?.license_number}].map((et,lt)=>s.jsxs("div",{className:"bg-white dark:bg-gray-700 p-2.5 rounded-xl shadow-sm border border-gray-200 dark:border-gray-600",children:[s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:et.label}),s.jsx("p",{className:"font-semibold text-sm truncate text-gray-800 dark:text-gray-200",children:et.value||"N/A"})]},lt))}),je?.average_rating&&s.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-2 rounded-xl mb-4 border",style:{background:ct.limeGreenDim,borderColor:ct.limeGreen},children:[s.jsx(rr,{className:"w-5 h-5 fill-current",style:{color:ct.limeGreen}}),s.jsxs("span",{className:"font-bold",style:{color:ct.limeGreen},children:[je.average_rating," Average Rating"]})]}),ce.client_rating&&s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-xl mb-4 border",style:{background:ct.limeGreenDim,borderColor:ct.limeGreen},children:[s.jsx(Gr,{className:"w-5 h-5",style:{color:ct.limeGreen}}),s.jsx("span",{className:"font-semibold",style:{color:ct.limeGreen},children:"Rating submitted"})]}),!ce.client_rating&&K(ce)&&s.jsx("div",{className:"pt-3 border-t border-gray-200 dark:border-gray-700 mb-4",children:s.jsxs(st.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:et=>{et.stopPropagation(),z(ce)},className:"flex items-center justify-center gap-2 py-2.5 px-4 rounded-xl font-bold text-white shadow-lg hover:shadow-xl transition-all w-full sm:w-auto",style:{background:`linear-gradient(135deg, ${ct.teal}, ${ct.darkBlue})`},children:[s.jsx(rr,{className:"w-5 h-5"}),"Rate client"]})}),ce.booking_request_status==="pending"&&s.jsxs("div",{className:"flex gap-2.5 pt-3 border-t border-gray-200 dark:border-gray-700",children:[s.jsxs(st.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:et=>{et.stopPropagation(),O(ce.id)},disabled:d===ce.id,className:"flex-1 py-2.5 px-4 rounded-xl font-bold flex items-center justify-center gap-2 transition-all text-white shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",style:{background:`linear-gradient(135deg, ${ct.limeGreen}, ${ct.teal})`},children:[s.jsx(ci,{className:"w-5 h-5"}),d===ce.id?"Processing...":"Accept Booking"]}),s.jsxs(st.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:et=>{et.stopPropagation(),se(ce.id)},disabled:d===ce.id,className:"flex-1 py-2.5 px-4 rounded-xl font-bold flex items-center justify-center gap-2 transition-all bg-gradient-to-r from-red-500 to-rose-500 hover:from-red-600 hover:to-rose-600 text-white shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(Xn,{className:"w-5 h-5"}),d===ce.id?"Processing...":"Reject Booking"]})]})]},ce.id)})})})]})})}),s.jsx(Kr,{open:!!I,onOpenChange:ce=>!ce&&he(),children:s.jsxs(Br,{className:"sm:max-w-md bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700",children:[s.jsx(Ir,{children:s.jsxs(zr,{className:"flex items-center gap-2",style:{color:ct.darkBlue},children:[s.jsx(rr,{className:"w-5 h-5",style:{color:ct.teal}}),"Rate client",I?.client&&s.jsxs("span",{className:"font-normal text-gray-600 dark:text-gray-400",children:[" ",I.client.first_name," ",I.client.last_name]})]})}),s.jsxs("div",{className:"space-y-4 pt-2",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Rating ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(ce=>s.jsx(st.button,{type:"button",whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>T(ue=>({...ue,rating:ce})),className:`p-2 rounded-lg border-2 transition-colors ${U.rating>=ce?"border-amber-400 bg-amber-50 dark:bg-amber-900/20":"border-gray-200 dark:border-gray-600 hover:border-amber-300"}`,children:s.jsx(rr,{className:`w-6 h-6 ${U.rating>=ce?"fill-amber-400 text-amber-400":"text-gray-400"}`})},ce))})]}),S.length>0&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Tags (optional)"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:S.map(ce=>s.jsx("button",{type:"button",onClick:()=>V(ce.id),className:`px-3 py-1.5 rounded-full text-sm font-medium border-2 transition-colors ${U.template_selections.includes(ce.id)?"border-teal-500 bg-teal-50 dark:bg-teal-900/30 text-teal-700 dark:text-teal-300":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`,style:U.template_selections.includes(ce.id)?{borderColor:ct.teal,background:ct.tealDim,color:ct.teal}:{},children:ce.label},ce.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Comment (optional, max 1000 characters)"}),s.jsx("textarea",{value:U.comment,onChange:ce=>T(ue=>({...ue,comment:ce.target.value.slice(0,1e3)})),placeholder:"e.g. Very good renter. Would rent to again.",rows:3,className:"w-full px-3 py-2 rounded-xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-teal-500 focus:border-teal-500"}),s.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[U.comment.length,"/1000"]})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsx(st.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:he,className:"flex-1 py-2.5 px-4 rounded-xl font-semibold border-2 border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancel"}),s.jsx(st.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:W,disabled:ne||U.rating<1,className:"flex-1 py-2.5 px-4 rounded-xl font-bold text-white shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",style:{background:`linear-gradient(135deg, ${ct.teal}, ${ct.darkBlue})`},children:ne?"Submitting":"Submit rating"})]})]})]})})]})})}const Pue=[{name:"Instagram",url:"https://www.instagram.com/rentolebanon/?hl=en",icon:J6,gradient:"from-pink-500 to-purple-500"},{name:"Facebook",url:"https://www.facebook.com/profile.php?id=61585450048575",icon:X6,gradient:"from-pink-500 to-purple-500"},{name:"Twitter / X",url:"https://x.com/RENTO_lb",icon:lM,gradient:"from-blue-500 to-cyan-500"},{name:"LinkedIn",url:"https://www.linkedin.com/company/rento-lb/about/",icon:tM,gradient:"from-blue-700 to-blue-500"},{name:"Pinterest",url:"https://www.pinterest.com/rento1065/",icon:$E,gradient:"from-red-500 to-rose-500"},{name:"Tiktok",url:"https://www.tiktok.com/@rentolebanon",icon:$E,gradient:"from-black-500 to-white-500"},{name:"YouTube",url:"https://www.youtube.com/channel/UCW1dt_Y0qq0oczELUoGDI7Q",icon:tY,gradient:"from-red-600 to-red-400"}];function Oue(){return s.jsxs("div",{className:"min-h-screen bg-white dark:bg-gradient-to-br dark:from-gray-950 dark:via-gray-900 dark:to-teal-950 py-20 px-4",children:[s.jsxs("div",{className:"container mx-auto max-w-4xl text-center mb-16",children:[s.jsx(We,{className:"mb-6 bg-gradient-to-r from-teal-500 to-cyan-500 text-white border-0 px-6 py-2 text-sm font-bold shadow-lg",children:"Official Rento LB Social Media"}),s.jsxs("h1",{className:"text-5xl font-black text-gray-900 dark:text-white mb-6",children:["Stay Connected With",s.jsx("span",{className:"block bg-gradient-to-r from-teal-400 via-cyan-400 to-blue-400 bg-clip-text text-transparent",children:"Rento Lebanon"})]}),s.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Follow us on all platforms for updates, new car listings, offers, and more."})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-10 container mx-auto max-w-5xl",children:Pue.map((t,e)=>s.jsx(Ue,{className:"group border border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-900 hover:border-teal-500 transition-all duration-300 hover:shadow-xl hover:-translate-y-1",children:s.jsxs(qe,{className:"p-6 text-center",children:[s.jsx("div",{className:`w-24 h-24 mx-auto mb-6 rounded-2xl bg-gradient-to-br ${t.gradient} flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300`,children:s.jsx(t.icon,{className:"w-12 h-12 text-white"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-3",children:t.name}),s.jsx("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",children:s.jsxs(pe,{className:"w-full bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-bold py-3 rounded-xl shadow-md hover:shadow-lg transition-all duration-300",children:["Visit Page",s.jsx(xd,{className:"w-5 h-5 ml-2"})]})})]})},e))})]})}const Lue=["Beirut","Tripoli","Sidon","Tyre","Other"],Fue=["Employee","Freelancer","Business Owner","Student","Other"],Bue=["Male","Female","Other","Any"],Iue=()=>{const t=Ur(),[e,r]=j.useState(!1),[n,a]=j.useState(!1),[i,o]=j.useState([]),[c,d]=j.useState(null),[h,m]=j.useState(null),[f,g]=j.useState({enableAge:!1,minAge:25,maxAge:65,enableGender:!1,selectedGenders:[],enableCities:!1,selectedCities:[],enableProfessions:!1,selectedProfessions:[],enableSalary:!1,minSalary:1e3,enableRating:!1,minRating:4,verifiedByAdmin:!1,trustedByApp:!1,hasDeposit:!1});j.useEffect(()=>{y()},[]);const y=async()=>{try{const C=await Oe.get("/cars"),I=C.data.cars?.data||C.data.cars||[];o(I)}catch(C){console.error("Error loading cars:",C),be.error("Failed to load cars")}},v=async C=>{try{const I=await Oe.get(`/cars/${C}/qualifications`);if(I.data.qualifications){const E=I.data.qualifications,U=F=>F.charAt(0).toUpperCase()+F.slice(1).toLowerCase(),T=F=>!F||!F.length?[]:F.map(Y=>U(Y)),ne=F=>!F||!F.length?[]:F.map(Y=>U(Y)),q=F=>!F||!F.length?[]:F.map(Y=>Y.split("_").map(O=>U(O)).join(" "));g({enableAge:!!(E.min_age||E.max_age),minAge:E.min_age||25,maxAge:E.max_age||65,enableGender:!!(E.gender&&E.gender.length),selectedGenders:T(E.gender),enableCities:!!(E.required_cities&&E.required_cities.length),selectedCities:ne(E.required_cities),enableProfessions:!!(E.professions&&E.professions.length),selectedProfessions:q(E.professions),enableSalary:!!E.min_salary,minSalary:E.min_salary||1e3,enableRating:!!E.min_rating,minRating:E.min_rating||4,verifiedByAdmin:E.verified_by_admin||!1,trustedByApp:E.trusted_by_app||!1,hasDeposit:E.has_deposit||!1}),setTimeout(()=>N(),100)}}catch(I){console.error("Error loading qualifications:",I),I.response?.status===404&&console.info("Qualifications endpoint not available for this car")}},w=C=>{const I=i.find(E=>E.id===parseInt(C));d(I),m(null),I?v(I.id):g({enableAge:!1,minAge:25,maxAge:65,enableGender:!1,selectedGenders:[],enableCities:!1,selectedCities:[],enableProfessions:!1,selectedProfessions:[],enableSalary:!1,minSalary:1e3,enableRating:!1,minRating:4,verifiedByAdmin:!1,trustedByApp:!1,hasDeposit:!1})},_=(C,I)=>{g(E=>{const U=E[I];return U.includes(C)?{...E,[I]:U.filter(T=>T!==C)}:{...E,[I]:[...U,C]}})},b=()=>{const C={};return f.enableAge&&(f.minAge&&(C.min_age=parseInt(f.minAge)),f.maxAge&&(C.max_age=parseInt(f.maxAge))),f.enableGender&&f.selectedGenders.length&&(C.gender=f.selectedGenders.map(I=>I.toLowerCase())),f.enableCities&&f.selectedCities.length&&(C.required_cities=f.selectedCities.map(I=>I.toLowerCase())),f.enableProfessions&&f.selectedProfessions.length&&(C.professions=f.selectedProfessions.map(I=>I.toLowerCase().replace(/ /g,"_"))),f.enableSalary&&f.minSalary&&(C.min_salary=parseInt(f.minSalary)),f.enableRating&&f.minRating&&(C.min_rating=parseFloat(f.minRating)),f.verifiedByAdmin&&(C.verified_by_admin=!0),f.trustedByApp&&(C.trusted_by_app=!0),f.hasDeposit&&(C.has_deposit=!0),C},N=async()=>{const C=b();a(!0);try{const I=await Oe.post("/cars/qualifications/preview",C);m(I.data)}catch(I){console.error("Preview error:",I),be.error("Failed to preview qualifications")}finally{a(!1)}},k=async C=>{if(C.preventDefault(),!c){be.error("Please select a car first");return}const I=b();r(!0);try{await Oe.post(`/cars/${c.id}/qualifications`,I),be.success("Qualifications saved successfully!")}catch(E){console.error("Save error:",E);const U=E.response?.data?.message||"Failed to save qualifications";be.error(U)}finally{r(!1)}},S=async()=>{if(!c){be.error("Please select a car first");return}if(confirm("Clear all qualifications for this car? It will be visible to all clients."))try{await Oe.delete(`/cars/${c.id}/qualifications`),be.success("Qualifications cleared successfully!"),g({enableAge:!1,minAge:25,maxAge:65,enableGender:!1,selectedGenders:[],enableCities:!1,selectedCities:[],enableProfessions:!1,selectedProfessions:[],enableSalary:!1,minSalary:1e3,enableRating:!1,minRating:4,verifiedByAdmin:!1,trustedByApp:!1,hasDeposit:!1}),m(null)}catch(C){console.error("Clear error:",C),be.error("Failed to clear qualifications")}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-teal-50/30 to-cyan-50/30 dark:from-gray-950 dark:via-teal-950/20 dark:to-cyan-950/20 pt-20",children:[s.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-teal-500/10 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-cyan-500/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"700ms"}})]}),s.jsxs("div",{className:"container mx-auto px-4 py-8 relative z-10",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsxs(pe,{variant:"ghost",className:"text-gray-600 dark:text-gray-400 hover:text-teal-600 dark:hover:text-teal-400 transition-colors",onClick:()=>t(-1),children:[s.jsx(zi,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),s.jsxs(pe,{variant:"secondary",className:"text-gray-600 dark:text-gray-400 hover:text-teal-600 dark:hover:text-teal-400 transition-colors",onClick:()=>t("/agent/cars"),children:[s.jsx(Gt,{className:"w-4 h-4 mr-2"}),"Go to Cars Page"]})]}),s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-teal-500 to-cyan-500 flex items-center justify-center shadow-lg",children:s.jsx(Zn,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-black text-gray-900 dark:text-white",children:"Set Car Qualifications"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Control who can see and book your vehicles"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:s.jsxs(qe,{className:"p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center",children:s.jsx(Gt,{className:"w-6 h-6 text-white"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Select Car"})]}),s.jsxs("select",{value:c?.id||"",onChange:C=>w(C.target.value),className:"w-full h-14 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl px-4 bg-white dark:bg-gray-900 text-lg font-medium transition-colors",children:[s.jsx("option",{value:"",children:"-- Select a car --"}),i.map(C=>s.jsxs("option",{value:C.id,children:[C.make," ",C.model," (",C.year,") - ",C.license_plate]},C.id))]}),c&&s.jsx("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:s.jsxs("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:["Selected: ",c.make," ",c.model," - Daily Rate: $",c.daily_rate]})})]})}),s.jsxs("form",{onSubmit:k,className:"space-y-6",children:[s.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:s.jsxs(qe,{className:"p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("input",{type:"checkbox",id:"enableAge",checked:f.enableAge,onChange:C=>g({...f,enableAge:C.target.checked}),className:"w-6 h-6 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500 cursor-pointer"}),s.jsx(Hs,{className:"w-6 h-6 text-teal-600"}),s.jsx("label",{htmlFor:"enableAge",className:"text-xl font-bold text-gray-900 dark:text-white cursor-pointer",children:"Age Requirement"})]}),f.enableAge&&s.jsxs("div",{className:"grid grid-cols-2 gap-6 ml-9",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Minimum Age"}),s.jsx(Se,{type:"number",min:"18",max:"100",placeholder:"e.g., 25",value:f.minAge,onChange:C=>g({...f,minAge:C.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Maximum Age"}),s.jsx(Se,{type:"number",min:"18",max:"100",placeholder:"e.g., 65",value:f.maxAge,onChange:C=>g({...f,maxAge:C.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]})]})]})}),s.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:s.jsxs(qe,{className:"p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("input",{type:"checkbox",id:"enableGender",checked:f.enableGender,onChange:C=>g({...f,enableGender:C.target.checked}),className:"w-6 h-6 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500 cursor-pointer"}),s.jsx(ks,{className:"w-6 h-6 text-teal-600"}),s.jsx("label",{htmlFor:"enableGender",className:"text-xl font-bold text-gray-900 dark:text-white cursor-pointer",children:"Gender Restriction"})]}),f.enableGender&&s.jsx("div",{className:"flex flex-wrap gap-3 ml-9",children:Bue.map(C=>s.jsxs(We,{onClick:()=>_(C,"selectedGenders"),className:`cursor-pointer px-4 py-2 text-sm transition-all duration-300 ${f.selectedGenders.includes(C)?"bg-gradient-to-r from-teal-600 to-cyan-600 text-white hover:from-teal-700 hover:to-cyan-700":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[f.selectedGenders.includes(C)&&s.jsx(qn,{className:"w-3 h-3 mr-1"}),C]},C))})]})}),s.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:s.jsxs(qe,{className:"p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("input",{type:"checkbox",id:"enableCities",checked:f.enableCities,onChange:C=>g({...f,enableCities:C.target.checked}),className:"w-6 h-6 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500 cursor-pointer"}),s.jsx(Ps,{className:"w-6 h-6 text-teal-600"}),s.jsx("label",{htmlFor:"enableCities",className:"text-xl font-bold text-gray-900 dark:text-white cursor-pointer",children:"City Restriction"})]}),f.enableCities&&s.jsx("div",{className:"flex flex-wrap gap-3 ml-9",children:Lue.map(C=>s.jsxs(We,{onClick:()=>_(C,"selectedCities"),className:`cursor-pointer px-4 py-2 text-sm transition-all duration-300 ${f.selectedCities.includes(C)?"bg-gradient-to-r from-cyan-600 to-blue-600 text-white hover:from-cyan-700 hover:to-blue-700":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[f.selectedCities.includes(C)&&s.jsx(qn,{className:"w-3 h-3 mr-1"}),C]},C))})]})}),s.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:s.jsxs(qe,{className:"p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("input",{type:"checkbox",id:"enableProfessions",checked:f.enableProfessions,onChange:C=>g({...f,enableProfessions:C.target.checked}),className:"w-6 h-6 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500 cursor-pointer"}),s.jsx(yd,{className:"w-6 h-6 text-teal-600"}),s.jsx("label",{htmlFor:"enableProfessions",className:"text-xl font-bold text-gray-900 dark:text-white cursor-pointer",children:"Profession Restriction"})]}),f.enableProfessions&&s.jsx("div",{className:"flex flex-wrap gap-3 ml-9",children:Fue.map(C=>s.jsxs(We,{onClick:()=>_(C,"selectedProfessions"),className:`cursor-pointer px-4 py-2 text-sm transition-all duration-300 ${f.selectedProfessions.includes(C)?"bg-gradient-to-r from-teal-500 to-cyan-500 text-white hover:from-teal-600 hover:to-cyan-600":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[f.selectedProfessions.includes(C)&&s.jsx(qn,{className:"w-3 h-3 mr-1"}),C]},C))})]})}),s.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:s.jsxs(qe,{className:"p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("input",{type:"checkbox",id:"enableSalary",checked:f.enableSalary,onChange:C=>g({...f,enableSalary:C.target.checked}),className:"w-6 h-6 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500 cursor-pointer"}),s.jsx(or,{className:"w-6 h-6 text-amber-600"}),s.jsx("label",{htmlFor:"enableSalary",className:"text-xl font-bold text-gray-900 dark:text-white cursor-pointer",children:"Minimum Salary"})]}),f.enableSalary&&s.jsxs("div",{className:"ml-9",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Monthly Salary (USD)"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 font-bold",children:"$"}),s.jsx(Se,{type:"number",min:"0",step:"100",placeholder:"e.g., 1000",value:f.minSalary,onChange:C=>g({...f,minSalary:C.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl pl-8"})]})]})]})}),s.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:s.jsxs(qe,{className:"p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("input",{type:"checkbox",id:"enableRating",checked:f.enableRating,onChange:C=>g({...f,enableRating:C.target.checked}),className:"w-6 h-6 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500 cursor-pointer"}),s.jsx(rr,{className:"w-6 h-6 text-yellow-500"}),s.jsx("label",{htmlFor:"enableRating",className:"text-xl font-bold text-gray-900 dark:text-white cursor-pointer",children:"Minimum Rating"})]}),f.enableRating&&s.jsxs("div",{className:"ml-9",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Rating (0 to 5 stars)"}),s.jsx(Se,{type:"number",min:"0",max:"5",step:"0.1",placeholder:"e.g., 4.0",value:f.minRating,onChange:C=>g({...f,minRating:C.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]})]})}),s.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:s.jsxs(qe,{className:"p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(Zn,{className:"w-6 h-6 text-green-600"}),s.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Verification Requirements"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("label",{className:"flex items-center gap-3 p-4 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:f.verifiedByAdmin,onChange:C=>g({...f,verifiedByAdmin:C.target.checked}),className:"w-5 h-5 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500"}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Must be verified by admin"})]}),s.jsxs("label",{className:"flex items-center gap-3 p-4 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:f.trustedByApp,onChange:C=>g({...f,trustedByApp:C.target.checked}),className:"w-5 h-5 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500"}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Must be trusted by app"})]}),s.jsxs("label",{className:"flex items-center gap-3 p-4 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:f.hasDeposit,onChange:C=>g({...f,hasDeposit:C.target.checked}),className:"w-5 h-5 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500"}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Must have deposit on account"})]})]})]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs(pe,{type:"button",variant:"outline",size:"lg",onClick:N,disabled:!c||n,className:"flex-1 px-8 py-6 rounded-xl border-2 border-teal-500 text-teal-600 hover:bg-teal-50 dark:hover:bg-teal-950",children:[s.jsx(sr,{className:"w-5 h-5 mr-2"}),n?"Loading...":"Preview Results"]}),s.jsxs(pe,{type:"submit",size:"lg",disabled:!c||e,className:"flex-1 px-8 py-6 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-bold rounded-xl shadow-lg hover:shadow-xl transition-all duration-300",children:[s.jsx(qn,{className:"w-5 h-5 mr-2"}),e?"Saving...":"Save Qualifications"]})]}),s.jsxs(pe,{type:"button",variant:"outline",size:"lg",onClick:S,disabled:!c,className:"w-full px-8 py-6 rounded-xl border-2 border-red-300 dark:border-red-700 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-950",children:[s.jsx(Xn,{className:"w-5 h-5 mr-2"}),"Clear All Requirements"]})]})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg sticky top-6",children:s.jsxs(qe,{className:"p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-teal-500 to-cyan-500 flex items-center justify-center",children:s.jsx(ks,{className:"w-6 h-6 text-white"})}),s.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Qualified Clients"})]}),n&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-teal-500 border-t-transparent"}),s.jsx("p",{className:"mt-4 text-sm text-gray-600 dark:text-gray-400",children:"Calculating..."})]}),!n&&!h&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(ks,{className:"w-20 h-20 mx-auto text-gray-300 dark:text-gray-700 mb-4"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:'Set requirements and click "Preview Results" to see how many clients qualify'})]}),!n&&h&&s.jsxs("div",{children:[s.jsxs("div",{className:"text-center mb-6 p-8 bg-gradient-to-br from-teal-50 to-cyan-50 dark:from-teal-950/30 dark:to-cyan-950/30 rounded-2xl border-2 border-teal-200 dark:border-teal-800",children:[s.jsxs("div",{className:"text-6xl font-black bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent mb-2",children:[h.percentage,"%"]}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2 font-medium",children:"of clients qualify"}),s.jsxs("div",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:[h.qualified_clients," / ",h.total_clients]})]}),h.breakdown&&Object.keys(h.breakdown).length>0&&s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsx("h3",{className:"text-sm font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wide mb-3",children:"Breakdown by Requirement"}),Object.entries(h.breakdown).map(([C,I])=>{const E=C.replace(/_/g," ").replace(/\b\w/g,U=>U.toUpperCase());return s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[E,":"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:I.qualified}),s.jsxs(We,{className:"bg-teal-100 dark:bg-teal-900 text-teal-700 dark:text-teal-300",children:[I.percentage,"%"]})]})]},C)})]}),h.percentage<10&&s.jsx("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 border-2 border-yellow-200 dark:border-yellow-800 rounded-xl",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Pu,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-bold text-yellow-800 dark:text-yellow-200 mb-1",children:"Warning: Very Restrictive"}),s.jsx("p",{className:"text-xs text-yellow-700 dark:text-yellow-300",children:"Very few clients qualify. Consider relaxing some requirements to increase visibility."})]})]})}),h.percentage>=10&&h.percentage<30&&s.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 border-2 border-blue-200 dark:border-blue-800 rounded-xl",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Pu,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-bold text-blue-800 dark:text-blue-200 mb-1",children:"Selective Requirements"}),s.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:"Your requirements are quite selective. This can help ensure quality bookings."})]})]})}),h.percentage>=30&&s.jsx("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 border-2 border-green-200 dark:border-green-800 rounded-xl",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(qn,{className:"w-5 h-5 text-green-600 dark:text-green-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-bold text-green-800 dark:text-green-200 mb-1",children:"Good Balance"}),s.jsx("p",{className:"text-xs text-green-700 dark:text-green-300",children:"Your requirements allow good visibility while maintaining quality standards."})]})]})})]})]})})})]})]})]})},cs={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640"};function zue(){const t=Ur(),[e,r]=j.useState(null),[n,a]=j.useState({totalCars:0,activeBookings:0,pendingBookings:0,confirmedBookings:0,totalRevenue:0,totalViews:0,totalClicks:0,totalSearches:0,avgViewsPerCar:0,topViewedCar:null,topClickedCar:null,topSearchedCar:null}),[i,o]=j.useState([]),[c,d]=j.useState([]),[h,m]=j.useState(null),[f,g]=j.useState(!0),[y,v]=j.useState(!1),[w,_]=j.useState(!1),[b,N]=j.useState(!1);j.useEffect(()=>{const q=localStorage.getItem("theme"),F=window.matchMedia("(prefers-color-scheme: dark)").matches,Y=q==="dark"||!q&&F;N(Y),document.documentElement.classList.toggle("dark",Y)},[]);const k=()=>{const q=!b;N(q),document.documentElement.classList.toggle("dark",q),localStorage.setItem("theme",q?"dark":"light")},S=async()=>{g(!0),v(!1);try{const[q,F,Y]=await Promise.all([Oe.get("/cars/agent/Mycars"),Oe.get("/driver/bookings"),GF().catch(()=>({data:null}))]),O=q.data.cars?.data||[],se=F.data.data||[];m(Y?.data??null);const X=O.reduce((fe,Z)=>fe+(Z.views_count||0),0),M=O.reduce((fe,Z)=>fe+(Z.clicks_count||0),0),K=O.reduce((fe,Z)=>fe+(Z.search_count||0),0),z=O.length>0?Math.round(X/O.length):0,he=O.length?O.reduce((fe,Z)=>(Z.views_count||0)>(fe?.views_count||0)?Z:fe,O[0]):null,V=O.length?O.reduce((fe,Z)=>(Z.clicks_count||0)>(fe?.clicks_count||0)?Z:fe,O[0]):null,W=O.length?O.reduce((fe,Z)=>(Z.search_count||0)>(fe?.search_count||0)?Z:fe,O[0]):null,le=se.filter(fe=>["pending","confirmed","arrived","started"].includes(fe.booking_request_status)),oe=se.filter(fe=>fe.booking_request_status==="pending"),ve=se.filter(fe=>fe.booking_request_status==="confirmed"),me=se.filter(fe=>fe.booking_request_status==="confirmed").reduce((fe,Z)=>fe+parseFloat(Z.total_booking_price||0),0);a({totalCars:q.data.cars?.total||O.length,activeBookings:le.length,pendingBookings:oe.length,confirmedBookings:ve.length,totalRevenue:me,totalViews:X,totalClicks:M,totalSearches:K,avgViewsPerCar:z,topViewedCar:he,topClickedCar:V,topSearchedCar:W});const $=[...O].sort((fe,Z)=>(Z.views_count||0)+(Z.clicks_count||0)*2+(Z.search_count||0)-((fe.views_count||0)+(fe.clicks_count||0)*2+(fe.search_count||0))).slice(0,3).map(fe=>({id:fe.id,name:`${fe.make} ${fe.model}`,image:fe.main_image_url,views:fe.views_count||0,clicks:fe.clicks_count||0,searches:fe.search_count||0,dailyRate:fe.daily_rate,category:fe.car_category}));d($);const H=se.sort((fe,Z)=>new Date(Z.created_at)-new Date(fe.created_at)).slice(0,8).map(fe=>{const Z={pending:"New booking request received",confirmed:"Booking confirmed",cancelled:"Booking cancelled",completed:"Trip completed successfully",arrived:"Driver arrived",started:"Ride in progress"},ee=fe.car?`${fe.car.make} ${fe.car.model}`:"Unknown Car",J=fe.client?`${fe.client.first_name} ${fe.client.last_name}`:"Unknown Client";return{message:Z[fe.booking_request_status]||"Status updated",car:ee,client:J,time:new Date(fe.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),date:new Date(fe.created_at).toLocaleDateString([],{month:"short",day:"numeric"}),status:fe.booking_request_status,amount:fe.total_booking_price,location:fe.pickup_location||"N/A"}});o(H.length?H:[{message:"No recent activity",time:"",isEmpty:!0}])}catch(q){console.error("Dashboard error:",q),v(!0),be.error("Failed to load dashboard data.")}finally{g(!1)}};j.useEffect(()=>{const q=JSON.parse(localStorage.getItem("user"));q&&r(q),S()},[]);const C=async()=>{try{await Oe.post("/logout")}catch{}localStorage.clear(),t("/auth")},I=[{title:"Add New Car",icon:er,href:"/add-car",color:cs.teal,description:"List a new vehicle"},{title:"My Fleet",icon:Gt,href:"/Mycars",color:cs.darkBlue,description:"Manage your cars"},{title:"Bookings",icon:kN,href:"/Mycars-bookings",color:cs.limeGreen,description:"View all bookings"},{title:"Analytics",icon:Zl,href:"/statistic",color:cs.teal,description:"View statistics"},{title:"Balance",icon:qx,href:"/Balance",color:cs.limeGreen,description:"Earnings & app fees"}],E=q=>{const F={pending:{color:"bg-amber-500",icon:r_,label:"Pending",bgColor:"bg-amber-500/10",textColor:"text-amber-600 dark:text-amber-400"},confirmed:{color:"bg-blue-500",icon:Gr,label:"Confirmed",bgColor:"bg-blue-500/10",textColor:"text-blue-600 dark:text-blue-400"},cancelled:{color:"bg-gray-500",icon:Xn,label:"Cancelled",bgColor:"bg-gray-500/10",textColor:"text-gray-600 dark:text-gray-400"},completed:{color:"bg-emerald-500",icon:Gr,label:"Completed",bgColor:"bg-emerald-500/10",textColor:"text-emerald-600 dark:text-emerald-400"},arrived:{color:"bg-cyan-500",icon:Ps,label:"Arrived",bgColor:"bg-cyan-500/10",textColor:"text-cyan-600 dark:text-cyan-400"},started:{color:"bg-purple-500",icon:Wx,label:"In Progress",bgColor:"bg-purple-500/10",textColor:"text-purple-600 dark:text-purple-400"}};return F[q]||F.pending},U={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.08}}},T={hidden:{opacity:0,y:15},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:12}}},ne=[{title:"Total Fleet",value:n.totalCars,icon:Gt,color:cs.darkBlue,change:`${n.totalCars} vehicles`,changeType:"neutral",description:"Active listings"},{title:"Total Views",value:n.totalViews.toLocaleString(),icon:sr,color:cs.teal,change:`${n.avgViewsPerCar} avg/car`,changeType:"neutral",description:"All time views"},{title:"Total Clicks",value:n.totalClicks.toLocaleString(),icon:dd,color:cs.limeGreen,change:"Detail opens",changeType:"neutral",description:"Car detail page opens"},{title:"Active Bookings",value:n.activeBookings,icon:lm,color:cs.teal,change:`${n.confirmedBookings} confirmed`,changeType:"neutral",description:"Ongoing rentals"}];return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900",children:[s.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:[s.jsx(st.div,{animate:{scale:[1,1.1,1],opacity:[.06,.1,.06]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute -top-1/4 -left-1/4 w-1/3 h-1/3 rounded-full blur-3xl",style:{backgroundColor:`${cs.darkBlue}30`}}),s.jsx(st.div,{animate:{scale:[1,1.15,1],opacity:[.05,.08,.05]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:2},className:"absolute top-1/2 -right-1/4 w-1/3 h-1/3 rounded-full blur-3xl",style:{backgroundColor:`${cs.teal}30`}})]}),s.jsx("header",{className:"sticky top-0 z-50 backdrop-blur-xl bg-white/80 dark:bg-gray-900/80 border-b border-gray-200/50 dark:border-gray-800/50 shadow-sm",children:s.jsx("div",{className:"container mx-auto px-4 sm:px-6 py-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(st.div,{whileHover:{rotate:90},transition:{duration:.3},children:s.jsx(pe,{variant:"ghost",size:"icon",className:"lg:hidden h-8 w-8",children:s.jsx(rM,{className:"w-4 h-4"})})}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-lg sm:text-xl md:text-2xl font-bold bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(to right, ${cs.darkBlue}, ${cs.teal}, ${cs.limeGreen})`},children:["Welcome back",e?.username?`, ${e.username}`:"","!"]}),s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 hidden sm:block",children:"Your fleet performance dashboard"})]})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsxs("div",{className:"relative",children:[s.jsx(st.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:s.jsxs(pe,{variant:"ghost",size:"icon",className:"relative h-8 w-8",onClick:()=>_(!w),children:[s.jsx(Lx,{className:"w-4 h-4"}),n.pendingBookings>0&&s.jsx(st.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-0.5 -right-0.5 text-white text-[10px] font-bold rounded-full w-4 h-4 flex items-center justify-center shadow-lg",style:{backgroundColor:cs.teal},children:n.pendingBookings})]})}),s.jsx(Wo,{children:w&&s.jsxs(st.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"absolute right-0 mt-2 w-80 bg-white dark:bg-gray-900 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-800 overflow-hidden",children:[s.jsxs("div",{className:"p-3 text-white",style:{background:`linear-gradient(to right, ${cs.darkBlue}, ${cs.teal})`},children:[s.jsx("h3",{className:"font-bold text-base",children:"Notifications"}),s.jsxs("p",{className:"text-xs opacity-90",children:[n.pendingBookings," pending actions"]})]}),s.jsx("div",{className:"max-h-80 overflow-y-auto",children:i.slice(0,5).map((q,F)=>{const Y=E(q.status);return s.jsx("div",{className:"p-3 border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:`w-7 h-7 rounded-full ${Y.color} flex items-center justify-center flex-shrink-0`,children:s.jsx(Y.icon,{className:"w-3 h-3 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs font-medium text-gray-900 dark:text-gray-100",children:q.message}),s.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 truncate",children:q.car}),q.amount&&s.jsxs("p",{className:"text-[10px] font-semibold",style:{color:cs.teal},children:["$",q.amount]}),s.jsxs("p",{className:"text-[10px] text-gray-400 dark:text-gray-500 mt-0.5",children:[q.date," at ",q.time]})]})]})},F)})}),s.jsx("div",{className:"p-2 bg-gray-50 dark:bg-gray-800/50",children:s.jsxs(pe,{variant:"ghost",className:"w-full text-xs h-8",style:{color:cs.teal},onClick:()=>t("/Mycars-bookings"),children:["View All Bookings",s.jsx(pn,{className:"w-3 h-3 ml-1"})]})})]})})]}),s.jsx(st.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:s.jsx(pe,{variant:"ghost",size:"icon",onClick:k,className:"h-8 w-8",children:b?s.jsx($x,{className:"w-4 h-4"}):s.jsx(Ux,{className:"w-4 h-4"})})}),s.jsx(st.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:s.jsx(pe,{variant:"ghost",size:"icon",className:"h-8 w-8 hidden sm:flex",children:s.jsx(Rm,{className:"w-4 h-4"})})}),s.jsx(st.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:s.jsx(pe,{variant:"ghost",size:"icon",onClick:C,className:"h-8 w-8 hover:bg-red-50 dark:hover:bg-red-950/30 text-red-600 dark:text-red-400",children:s.jsx(Xl,{className:"w-4 h-4"})})})]})]})})}),s.jsxs("main",{className:"container mx-auto px-4 sm:px-6 py-6 max-w-7xl relative z-10",children:[f&&s.jsx(st.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",children:s.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4",children:[1,2,3,4].map(q=>s.jsx(Ue,{className:"overflow-hidden",children:s.jsx(qe,{className:"p-3 md:p-4",children:s.jsxs("div",{className:"animate-pulse space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("div",{className:"h-9 w-9 bg-gray-200 dark:bg-gray-700 rounded-lg"}),s.jsx("div",{className:"h-4 w-12 bg-gray-200 dark:bg-gray-700 rounded-full"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"h-3 w-20 bg-gray-200 dark:bg-gray-700 rounded"}),s.jsx("div",{className:"h-6 w-14 bg-gray-300 dark:bg-gray-600 rounded"})]})]})})},q))})}),!f&&y&&s.jsxs(st.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-16",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-red-100 dark:bg-red-900/20 mb-4",children:s.jsx(Yl,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Unable to Load Dashboard"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Please try again."}),s.jsxs(pe,{onClick:S,className:"text-white",style:{background:`linear-gradient(to right, ${cs.darkBlue}, ${cs.teal})`},children:[s.jsx(lm,{className:"w-4 h-4 mr-2"}),"Retry"]})]}),!f&&!y&&s.jsxs(st.div,{variants:U,initial:"hidden",animate:"visible",className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-3 md:gap-4",children:[ne.map((q,F)=>s.jsx(st.div,{variants:T,whileHover:{y:-4,transition:{duration:.2}},children:s.jsxs(Ue,{className:"relative overflow-hidden group hover:shadow-xl transition-all duration-300 border-0 bg-white dark:bg-gray-900",children:[s.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-10 transition-opacity duration-300",style:{backgroundColor:q.color}}),s.jsxs(qe,{className:"p-3 md:p-4 relative",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("div",{className:"w-9 h-9 md:w-10 md:h-10 rounded-lg p-2 shadow-md group-hover:scale-110 transition-transform duration-300",style:{backgroundColor:q.color},children:s.jsx(q.icon,{className:"w-full h-full text-white"})}),s.jsx("div",{className:`flex items-center gap-0.5 px-1.5 py-0.5 rounded-full text-[10px] font-semibold
                          ${q.changeType==="up"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":""}
                          ${q.changeType==="neutral"?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":""}
                        `,children:q.change})]}),s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("p",{className:"text-[10px] md:text-xs font-medium text-gray-600 dark:text-gray-400",children:q.title}),s.jsx("p",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-white tracking-tight",children:q.value}),s.jsx("p",{className:"text-[9px] md:text-[10px] text-gray-500 dark:text-gray-500",children:q.description})]}),s.jsx("div",{className:"absolute -bottom-2 -right-2 w-20 h-20 rounded-full blur-2xl opacity-5 group-hover:opacity-20 transition-opacity duration-300",style:{backgroundColor:q.color}})]})]})},F)),h!=null&&s.jsx(st.div,{variants:T,children:s.jsxs(Ue,{className:"relative overflow-hidden group hover:shadow-xl transition-all duration-300 border-0 bg-white dark:bg-gray-900 cursor-pointer",onClick:()=>t("/Balance"),children:[s.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-10 transition-opacity duration-300",style:{backgroundColor:cs.limeGreen}}),s.jsxs(qe,{className:"p-3 md:p-4 relative",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("div",{className:"w-9 h-9 md:w-10 md:h-10 rounded-lg p-2 shadow-md group-hover:scale-110 transition-transform duration-300",style:{backgroundColor:cs.limeGreen},children:s.jsx(qx,{className:"w-full h-full text-white"})}),s.jsx("span",{className:"text-[10px] font-semibold bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400 px-1.5 py-0.5 rounded-full",children:"Net earnings"})]}),s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("p",{className:"text-[10px] md:text-xs font-medium text-gray-600 dark:text-gray-400",children:"Your earnings"}),s.jsxs("p",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-white tracking-tight",children:["$",(parseFloat(h?.net_earnings)||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),s.jsx("p",{className:"text-[9px] md:text-[10px] text-gray-500 dark:text-gray-500",children:"View balance "})]})]})]})})]}),s.jsxs(st.div,{variants:T,children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-white",children:"Quick Actions"}),s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-0.5",children:"Manage your fleet"})]})}),s.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-3 md:gap-4",children:I.map((q,F)=>s.jsx(st.div,{variants:T,whileHover:{scale:1.02,y:-3},whileTap:{scale:.98},children:s.jsx("a",{href:q.href,className:"block group",children:s.jsxs(Ue,{className:"relative overflow-hidden hover:shadow-xl transition-all duration-300 border-0 h-full",children:[s.jsx("div",{className:"absolute inset-0 opacity-5 group-hover:opacity-15 transition-opacity duration-300",style:{backgroundColor:q.color}}),s.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"})}),s.jsxs(qe,{className:"p-4 md:p-6 text-center relative",children:[s.jsxs("div",{className:"relative mb-3 inline-block",children:[s.jsx("div",{className:"w-12 h-12 md:w-14 md:h-14 rounded-xl p-3 shadow-lg group-hover:shadow-xl group-hover:scale-110 transition-all duration-300",style:{backgroundColor:q.color},children:s.jsx(q.icon,{className:"w-full h-full text-white"})}),s.jsx("div",{className:"absolute inset-0 rounded-xl blur-lg opacity-0 group-hover:opacity-50 transition-opacity duration-300",style:{backgroundColor:q.color}})]}),s.jsx("h4",{className:"text-sm md:text-base font-bold text-gray-900 dark:text-white mb-1",children:q.title}),s.jsx("p",{className:"text-[10px] md:text-xs text-gray-600 dark:text-gray-400",children:q.description}),s.jsxs("div",{className:"mt-2 flex items-center justify-center gap-1 opacity-0 group-hover:opacity-100 transition-all duration-300 transform translate-y-1 group-hover:translate-y-0",style:{color:q.color},children:[s.jsx("span",{className:"text-xs font-semibold",children:"Go"}),s.jsx(pn,{className:"w-3 h-3"})]})]})]})})},F))})]}),c.length>0&&s.jsxs(st.div,{variants:T,children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-white",children:"Top Performing Cars"}),s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-0.5",children:"Views, clicks & search count"})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-3 md:gap-4",children:c.map((q,F)=>s.jsx(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*F},whileHover:{y:-4},children:s.jsx(Ue,{className:"overflow-hidden hover:shadow-xl transition-all duration-300 border-0",children:s.jsxs(qe,{className:"p-0",children:[s.jsxs("div",{className:"relative h-32 bg-gray-100 dark:bg-gray-800",children:[s.jsx("img",{src:`/api/storage/${q.image}`,alt:q.name,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),s.jsx(We,{className:"absolute top-2 right-2 text-white border-0",style:{backgroundColor:cs.teal},children:q.category})]}),s.jsxs("div",{className:"p-3",children:[s.jsx("h4",{className:"font-bold text-sm mb-2 text-gray-900 dark:text-white truncate",children:q.name}),s.jsxs("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1.5 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-1",style:{color:cs.teal},title:"Views (impressions)",children:[s.jsx(sr,{className:"w-3 h-3 shrink-0"}),s.jsx("span",{className:"font-semibold",children:q.views})]}),s.jsxs("div",{className:"flex items-center gap-1",style:{color:cs.limeGreen},title:"Clicks (detail opens)",children:[s.jsx(dd,{className:"w-3 h-3 shrink-0"}),s.jsx("span",{className:"font-semibold",children:q.clicks})]}),s.jsxs("div",{className:"flex items-center gap-1",style:{color:cs.darkBlue},title:"Search count",children:[s.jsx(Fr,{className:"w-3 h-3 shrink-0"}),s.jsx("span",{className:"font-semibold",children:q.searches})]}),s.jsxs("div",{className:"font-bold ml-auto",style:{color:cs.darkBlue},children:["$",q.dailyRate,"/day"]})]})]})]})})},q.id))})]}),h!=null&&s.jsx(st.div,{variants:T,children:s.jsx(Ue,{className:"overflow-hidden border-0 shadow-lg cursor-pointer hover:shadow-xl transition-all",style:{background:`linear-gradient(to bottom right, ${cs.darkBlue}, ${cs.teal})`},onClick:()=>t("/Balance"),children:s.jsxs(qe,{className:"p-4 md:p-6 text-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-bold",children:"Earnings & Balance"}),s.jsx("span",{className:"text-xs opacity-90",children:"View details "})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium opacity-90",children:"Total booking amount"}),s.jsxs("p",{className:"text-xl md:text-2xl font-bold",children:["$",(parseFloat(h.total_amount)||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium opacity-90",children:"App fees"}),s.jsxs("p",{className:"text-xl md:text-2xl font-bold",children:["$",(parseFloat(h.app_fees_amount)||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium opacity-90",children:"Your net earnings"}),s.jsxs("p",{className:"text-xl md:text-2xl font-bold",style:{color:cs.limeGreen},children:["$",(parseFloat(h.net_earnings)||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium opacity-90",children:"From bookings"}),s.jsx("p",{className:"text-xl md:text-2xl font-bold",children:h.bookings_count??0})]})]}),h.app_fees_percentage!=null&&s.jsxs("p",{className:"text-xs mt-3 opacity-90",children:["Fee: ",h.app_fees_percentage,"%"]})]})})}),s.jsx(st.div,{variants:T,children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:[s.jsx(Ue,{className:"overflow-hidden border-0 shadow-lg text-white",style:{background:`linear-gradient(to bottom right, ${cs.teal}, ${cs.limeGreen})`},children:s.jsxs(qe,{className:"p-4 md:p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium mb-1 opacity-90",children:"Total Revenue"}),s.jsxs("h3",{className:"text-3xl md:text-4xl font-bold",children:["$",h!=null?(parseFloat(h.total_amount)||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):n.totalRevenue.toFixed(2)]})]}),s.jsx("div",{className:"w-11 h-11 md:w-12 md:h-12 rounded-lg bg-white/20 backdrop-blur-sm p-2.5",children:s.jsx(or,{className:"w-full h-full"})})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-full bg-white/20 backdrop-blur-sm text-[10px] font-semibold",children:[s.jsx(Zl,{className:"w-2.5 h-2.5"}),h!=null?`${h.bookings_count??0} confirmed + completed`:`${n.confirmedBookings} confirmed`," bookings"]})}),s.jsx("div",{className:"mt-4 pt-4 border-t border-white/20",children:s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"opacity-90",children:"Pending bookings"}),s.jsx("span",{className:"font-bold",children:n.pendingBookings})]})})]})}),s.jsx(Ue,{className:"overflow-hidden border-0 shadow-lg text-white",style:{background:`linear-gradient(to bottom right, ${cs.darkBlue}, ${cs.teal})`},children:s.jsxs(qe,{className:"p-4 md:p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium mb-1 opacity-90",children:"Fleet Visibility"}),s.jsx("h3",{className:"text-3xl md:text-4xl font-bold",children:n.totalViews.toLocaleString()}),s.jsx("p",{className:"text-xs opacity-90 mt-0.5",children:"Total views (impressions)"})]}),s.jsx("div",{className:"w-11 h-11 md:w-12 md:h-12 rounded-lg bg-white/20 backdrop-blur-sm p-2.5",children:s.jsx(sr,{className:"w-full h-full"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"opacity-90",children:"Total clicks (detail opens)"}),s.jsx("span",{className:"font-bold",children:n.totalClicks.toLocaleString()})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"opacity-90",children:"Total searches"}),s.jsx("span",{className:"font-bold",children:n.totalSearches.toLocaleString()})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"opacity-90",children:"Avg per vehicle"}),s.jsxs("span",{className:"font-bold",children:[n.avgViewsPerCar," views"]})]})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-white/20 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-full bg-white/20 backdrop-blur-sm text-[10px] font-semibold w-fit",children:[s.jsx(sr,{className:"w-2.5 h-2.5"}),"Most viewed: ",n.topViewedCar?.make," ",n.topViewedCar?.model]}),s.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-full bg-white/20 backdrop-blur-sm text-[10px] font-semibold w-fit",children:[s.jsx(dd,{className:"w-2.5 h-2.5"}),"Most clicked: ",n.topClickedCar?.make," ",n.topClickedCar?.model]}),s.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-full bg-white/20 backdrop-blur-sm text-[10px] font-semibold w-fit",children:[s.jsx(Fr,{className:"w-2.5 h-2.5"}),"Most searched: ",n.topSearchedCar?.make," ",n.topSearchedCar?.model]})]})]})})]})})]}),s.jsxs(st.div,{variants:T,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-white",children:"Recent Activity"}),s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-0.5",children:"Latest bookings"})]}),s.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>t("/Mycars-bookings"),className:"hidden sm:flex text-xs h-8",children:["View All",s.jsx(pn,{className:"w-3 h-3 ml-1"})]})]}),s.jsx(Ue,{className:"overflow-hidden border-0 shadow-lg bg-white dark:bg-gray-900",children:s.jsx(qe,{className:"p-0",children:i.map((q,F)=>{const Y=E(q.status),O=Y.icon;return s.jsx(st.div,{initial:{opacity:0,x:-15},animate:{opacity:1,x:0},transition:{delay:F*.04},className:"group hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-all duration-200 border-b border-gray-100 dark:border-gray-800 last:border-b-0",children:s.jsxs("div",{className:"p-3 md:p-4 flex items-center gap-3",children:[s.jsx("div",{className:`flex-shrink-0 w-9 h-9 md:w-10 md:h-10 rounded-lg ${Y.bgColor} flex items-center justify-center group-hover:scale-110 transition-transform duration-200`,children:s.jsx(O,{className:`w-4 h-4 md:w-5 md:h-5 ${Y.textColor}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2 mb-0.5",children:[s.jsx("p",{className:`text-xs md:text-sm font-semibold ${q.isEmpty?"italic text-gray-500":"text-gray-900 dark:text-gray-100"}`,children:q.message}),s.jsx(We,{className:`${Y.bgColor} ${Y.textColor} border-0 flex-shrink-0 text-[10px] px-2 py-0.5`,children:Y.label})]}),s.jsx("div",{className:"flex items-center gap-2 md:gap-3 text-[10px] md:text-xs text-gray-500 dark:text-gray-400 flex-wrap",children:!q.isEmpty&&s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Gt,{className:"w-2.5 h-2.5 md:w-3 md:h-3"}),s.jsx("span",{className:"truncate max-w-[100px]",children:q.car})]}),q.amount&&s.jsxs("span",{className:"font-bold",style:{color:cs.teal},children:["$",q.amount]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(ch,{className:"w-2.5 h-2.5 md:w-3 md:h-3"}),q.date," ",q.time]})]})})]}),!q.isEmpty&&s.jsx(pn,{className:"w-4 h-4 text-gray-400 opacity-0 group-hover:opacity-100 group-hover:translate-x-0.5 transition-all duration-200 hidden md:block"})]})},F)})})})]})]})]})}const Ws={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640",darkBlueDim:"rgba(14, 76, 129, 0.1)",tealDim:"rgba(0, 140, 149, 0.1)",limeGreenDim:"rgba(138, 198, 64, 0.1)"},y1=t=>{if(t==null||t==="")return"0.00";const e=parseFloat(t);return Number.isNaN(e)?"0.00":e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})};function Uue(){const t=Ur(),[e,r]=j.useState(!0),[n,a]=j.useState(!1),[i,o]=j.useState(null),c=async()=>{r(!0),a(!1);try{const{data:d}=await GF();o(d)}catch(d){console.error("Failed to load earnings:",d),a(!0),be.error("Failed to load earnings. Please try again.")}finally{r(!1)}};return j.useEffect(()=>{c()},[]),e&&!i?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900 pt-20 flex items-center justify-center",children:s.jsx(st.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-14 h-14 rounded-full border-4 border-t-transparent",style:{borderColor:Ws.tealDim,borderTopColor:Ws.teal}})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900 pt-20",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx(st.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-xl flex items-center justify-center shadow-lg",style:{background:`linear-gradient(135deg, ${Ws.teal}, ${Ws.darkBlue})`},children:s.jsx(qx,{className:"w-7 h-7 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(135deg, ${Ws.darkBlue}, ${Ws.teal})`},children:"Balance & Earnings"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Total amount, app fees, and your net earnings"})]})]}),s.jsxs(st.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:c,disabled:e,className:"flex items-center gap-2 px-4 py-2.5 rounded-xl font-medium border-2 transition-colors",style:{borderColor:Ws.teal,color:Ws.teal},children:[s.jsx(Tt,{className:`w-5 h-5 ${e?"animate-spin":""}`}),"Refresh"]})]})}),n&&!i?s.jsxs(Ue,{className:"border-2 rounded-2xl p-8 text-center",children:[s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Could not load earnings."}),s.jsx(st.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:c,className:"px-5 py-2.5 rounded-xl text-white font-semibold",style:{background:`linear-gradient(135deg, ${Ws.teal}, ${Ws.darkBlue})`},children:"Try again"})]}):i?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsx(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:s.jsx(Ue,{className:"border-2 rounded-2xl overflow-hidden shadow-lg h-full",style:{borderColor:Ws.tealDim},children:s.jsxs(qe,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-2.5 rounded-xl",style:{background:Ws.tealDim},children:s.jsx(or,{className:"w-6 h-6",style:{color:Ws.teal}})}),s.jsx("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Total booking amount"})]}),s.jsxs("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:["$",y1(i.total_amount)]}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"What clients paid (confirmed + completed)"})]})})}),s.jsx(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:s.jsx(Ue,{className:"border-2 rounded-2xl overflow-hidden shadow-lg h-full",style:{borderColor:Ws.darkBlueDim},children:s.jsxs(qe,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-2.5 rounded-xl",style:{background:Ws.darkBlueDim},children:s.jsx(WE,{className:"w-6 h-6",style:{color:Ws.darkBlue}})}),s.jsx("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:"App fees (platform)"})]}),s.jsxs("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:["$",y1(i.app_fees_amount)]}),s.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Deducted from you  Fee: ",i.app_fees_percentage!=null?`${i.app_fees_percentage}%`:""]})]})})}),s.jsx(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:s.jsx(Ue,{className:"border-2 rounded-2xl overflow-hidden shadow-lg h-full",style:{borderColor:Ws.limeGreenDim},children:s.jsxs(qe,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-2.5 rounded-xl",style:{background:Ws.limeGreenDim},children:s.jsx(Zl,{className:"w-6 h-6",style:{color:Ws.limeGreen}})}),s.jsx("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Your net earnings"})]}),s.jsxs("p",{className:"text-3xl font-bold",style:{color:Ws.limeGreen},children:["$",y1(i.net_earnings)]}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Total amount  app fees"})]})})})]}),s.jsxs(st.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"flex flex-wrap items-center gap-6 p-4 rounded-2xl border-2 bg-white dark:bg-gray-800/50",style:{borderColor:Ws.tealDim},children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pG,{className:"w-5 h-5",style:{color:Ws.teal}}),s.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["From ",s.jsx("strong",{children:i.bookings_count??0})," bookings"]})]}),i.app_fees_percentage!=null&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(WE,{className:"w-5 h-5",style:{color:Ws.darkBlue}}),s.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Your app fee: ",s.jsxs("strong",{children:[i.app_fees_percentage,"%"]})]})]})]}),s.jsx(st.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-8",children:s.jsx(Ue,{className:"border-2 rounded-2xl overflow-hidden cursor-pointer hover:shadow-xl transition-all",style:{borderColor:Ws.tealDim},onClick:()=>t("/Mycars-bookings"),children:s.jsxs(qe,{className:"p-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-xl",style:{background:Ws.tealDim},children:s.jsx(Hs,{className:"w-5 h-5",style:{color:Ws.teal}})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:"View bookings"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"See amount and app fee per booking"})]})]}),s.jsx(pn,{className:"w-5 h-5 text-gray-400"})]})})})]}):null]})})}const $ue=({noIndex:t=!1})=>{j.useEffect(()=>{document.title="Rento LB | Rent & Compare Cars in Lebanon";let c=document.querySelector('meta[name="robots"]');c||(c=document.createElement("meta"),c.setAttribute("name","robots"),document.head.appendChild(c)),c.setAttribute("content",t?"noindex,nofollow":"index,follow")},[t]);const e=!1,r={en:[{question:"How do I rent a car on Rento LB?",answer:"Rento LB makes car rental easy. Simply browse our selection of vehicles from trusted agencies and private owners, choose your rental dates, and complete your booking online."}],fr:[{question:"Comment louer une voiture sur Rento LB ?",answer:"Rento LB simplifie la location de voitures en vous connectant directement avec des agences et propritaires."}],ar:[{question:"    Rento LB",answer:"         ."}]},n={"@context":"https://schema.org","@type":"RentalCarAgency","@id":"https://rento-lb.com/#organization",name:"Rento LB",alternateName:"Rento Lebanon",url:"https://rento-lb.com/",logo:{"@type":"ImageObject","@id":"https://rento-lb.com/#logo",url:"https://rento-lb.com/rento-512.png",contentUrl:"https://rento-lb.com/rento-512.png",width:512,height:512},image:"https://rento-lb.com/rento-512.png",telephone:"+96181001301",email:"social@rento-lb.com",address:{"@type":"PostalAddress",streetAddress:"City Center",addressLocality:"Beirut",addressCountry:"LB"},areaServed:{"@type":"Country",name:"Lebanon"},description:"Car rental marketplace in Lebanon connecting renters with private owners and agencies. Transparent pricing and direct communication.",priceRange:"$$",currenciesAccepted:"USD, LBP",paymentAccepted:["Cash"],founder:{"@type":"Person",name:"Rami Zeaiter"},contactPoint:[{"@type":"ContactPoint",telephone:"+96181001301",contactType:"customer support",areaServed:"LB",availableLanguage:["English","French","Arabic"]}],sameAs:["https://www.facebook.com/profile.php?id=61585450048575","https://www.instagram.com/rentolebanon","https://www.tiktok.com/@rentolebanon","https://x.com/RENTO_lb","https://www.linkedin.com/company/rento-lb/about/"],...e},a={"@context":"https://schema.org","@type":"WebSite","@id":"https://rento-lb.com/#website",name:"Rento LB",url:"https://rento-lb.com/",publisher:{"@id":"https://rento-lb.com/#organization"},potentialAction:{"@type":"SearchAction",target:"https://rento-lb.com/search?query={search_term_string}","query-input":"required name=search_term_string"},inLanguage:["en","fr","ar"]},i={"@context":"https://schema.org","@type":"FAQPage","@id":"https://rento-lb.com/#faq",mainEntity:Object.values(r).flat().map(c=>({"@type":"Question",name:c.question,acceptedAnswer:{"@type":"Answer",text:c.answer}}))},o={"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"Home",item:"https://rento-lb.com/"}]};return s.jsxs(s.Fragment,{children:[s.jsx("meta",{name:"trustpilot-one-time-domain-verification-id",content:"2ddec9a3-46a7-4ab8-a397-7482d145e508"}),s.jsx("meta",{name:"description",content:"Compare rental cars in Lebanon from agencies and private owners. Book easily and communicate directly."}),s.jsx("meta",{name:"keywords",content:"car rental Lebanon, rent a car Beirut, private car rental Lebanon"}),s.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),s.jsx("meta",{name:"theme-color",content:"#0d9488"}),s.jsx("meta",{name:"author",content:"Rento LB"}),s.jsx("link",{rel:"canonical",href:"https://rento-lb.com"}),s.jsx("meta",{property:"og:type",content:"website"}),s.jsx("meta",{property:"og:url",content:"https://rento-lb.com"}),s.jsx("meta",{property:"og:title",content:"Rento LB | Car Rental in Lebanon"}),s.jsx("meta",{property:"og:description",content:"Find rental cars across Lebanon."}),s.jsx("meta",{property:"og:image",content:"https://rento-lb.com/og-cover.png"}),s.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(n)}}),s.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(a)}}),s.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(i)}}),s.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(o)}})]})},Hue=[{label:"Beirut",value:"beirut"},{label:"Mount Lebanon",value:"mount-liban"},{label:"North",value:"north"},{label:"South",value:"south"},{label:"Bekaa",value:"bekaa"},{label:"Baalbek",value:"baalbek"},{label:"Keserwan",value:"keserwan"},{label:"Nabatieh",value:"nabatieh"},{label:"Akkar",value:"akkar"}];function que(t){if(!t||typeof t!="string")return null;const e=t.trim(),r=e.match(/@(-?\d+\.?\d*),(-?\d+\.?\d*)/);if(r)return{lat:parseFloat(r[1]),lng:parseFloat(r[2])};const n=e.match(/[?&]q=(-?\d+\.?\d*),(-?\d+\.?\d*)/);if(n)return{lat:parseFloat(n[1]),lng:parseFloat(n[2])};const a=e.match(/(?:!3d|!4d|!1d)(-?\d+\.?\d*)/g);if(a&&a.length>=2){const i=parseFloat(String(a[0]).replace(/\D/g,"")),o=parseFloat(String(a[1]).replace(/\D/g,""));if(!isNaN(i)&&!isNaN(o))return{lat:i,lng:o}}return null}function Wue(){const t=Ur(),e=j.useMemo(()=>`cp_${Date.now()}_${Math.random().toString(16).slice(2)}`,[]),r=(...J)=>{console.log(`[CompleteProfile ${e}]`,...J)},n=()=>{try{r("axios.baseURL =",Oe?.defaults?.baseURL),r("axios.withCredentials =",Oe?.defaults?.withCredentials),r("axios.headers.Authorization =",Oe?.defaults?.headers?.common?.Authorization)}catch(J){r("Failed to read axios defaults",J)}},a=J=>{try{const ke=[];for(const[L,Te]of J.entries())Te instanceof File?ke.push({key:L,type:"File",name:Te.name,size:Te.size,mime:Te.type}):ke.push({key:L,type:typeof Te,value:Te});return r("FormData entries =>",ke),ke}catch(ke){return r("Failed to dump FormData",ke),null}},[i,o]=j.useState(null),[c,d]=j.useState(!1),[h,m]=j.useState(null),[f,g]=j.useState({first_name:"",last_name:"",gender:"",birth_date:"",city:"",bio:"",profile_picture:null,id_card_front:null,id_card_back:null,license_number:"",driver_license:null,profession:"",avg_salary:"",promo_code:"",business_type:"",company_number:"",business_doc:null,location:"",app_fees:"",contract_form:"",policies:"",website:""}),[y,v]=j.useState(!1),[w,_]=j.useState(!1),[b,N]=j.useState(null),[k,S]=j.useState({lat:33.8547,lng:35.8623}),[C,I]=j.useState(""),[E,U]=j.useState(""),[T,ne]=j.useState(!1),[q,F]=j.useState(""),[Y,O]=j.useState(!1),se=i?.role==="client",X=i?.role==="agency"||i?.role==="agency",M=J=>J?String(J).slice(0,10):"",K=J=>{const ke=J?.user||{},L=J?.client||ke?.client||{},Te=J?.agency||ke?.agency||J?.agency||{};g(R=>({...R,first_name:ke.first_name??R.first_name??"",last_name:ke.last_name??R.last_name??"",gender:ke.gender??R.gender??"",birth_date:M(ke.birth_date)||R.birth_date||"",city:ke.city??R.city??"",bio:ke.bio??R.bio??"",license_number:L.license_number??R.license_number??"",profession:L.profession??R.profession??"",avg_salary:L.avg_salary??R.avg_salary??"",promo_code:L.promo_code??R.promo_code??"",business_type:Te.business_type??R.business_type??"",company_number:Te.company_number??R.company_number??"",location:Te.location?typeof Te.location=="string"?Te.location:JSON.stringify(Te.location):R.location??"",app_fees:Te.app_fees??R.app_fees??"",contract_form:Te.contract_form??R.contract_form??"",policies:Te.policies??R.policies??"",website:Te.website??R.website??""}));const Q=(Te.business_type||"").toString();if(v(Q==="company"),Te.location)try{const R=typeof Te.location=="string"?JSON.parse(Te.location):Te.location;R.latitude&&R.longitude&&(N({lat:R.latitude,lng:R.longitude}),S({lat:R.latitude,lng:R.longitude}))}catch(R){r("Failed to parse existing location",R)}},z=()=>{if(!navigator.geolocation){be.error("Geolocation is not supported by your browser"),he();return}be.info("Getting your location...");const J={enableHighAccuracy:!0,timeout:15e3,maximumAge:6e4};navigator.geolocation.getCurrentPosition(ke=>{const L={lat:parseFloat(ke.coords.latitude.toFixed(6)),lng:parseFloat(ke.coords.longitude.toFixed(6))};N(L),S(L);const Te={latitude:L.lat,longitude:L.lng,country:"Lebanon"};g(Q=>({...Q,location:JSON.stringify(Te)})),be.success("Location detected successfully!"),r("Current location:",Te)},ke=>{r("Geolocation error:",ke),be.info("Location could not be detected. Select your location on the map."),_(!0)},J)},he=()=>{_(!0)},V=(J,ke)=>{const L={lat:parseFloat(J.toFixed(6)),lng:parseFloat(ke.toFixed(6))};N(L),r("Map clicked location:",L)},W=()=>{if(b){const J={latitude:b.lat,longitude:b.lng,country:"Lebanon"};g(ke=>({...ke,location:JSON.stringify(J)})),be.success("Location selected!"),_(!1)}else be.error("Please select a location on the map")},le=J=>{const ke=que(J);if(ke){const L={lat:parseFloat(ke.lat.toFixed(6)),lng:parseFloat(ke.lng.toFixed(6))};N(L),S(L);const Te={latitude:L.lat,longitude:L.lng,country:"Lebanon"};g(Q=>({...Q,location:JSON.stringify(Te)})),be.success("Location set from Google Maps link.")}else be.error("Could not read coordinates. Use a link with lat,lng (e.g. @33.89,35.50 or ?q=33.89,35.50).")},oe=async(J,ke)=>{const L=J.trim();if(L){ke?O(!0):ne(!0);try{const Q=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(L)}&limit=1`,{headers:{Accept:"application/json"}})).json();if(Q&&Q[0]){const R=parseFloat(Q[0].lat),P=parseFloat(Q[0].lon),G={lat:R,lng:P};N(G),S(G);const ye={latitude:R,longitude:P,country:"Lebanon"};g(ce=>({...ce,location:JSON.stringify(ye)})),be.success("Location found. Confirm in the modal if needed.")}else be.error("No results found. Try another search.")}catch{be.error("Search failed. Try again.")}finally{ke?O(!1):ne(!1)}}},ve=()=>oe(E,!1),me=()=>oe(q,!0),$=async()=>{try{n(),r("GET /profile/status starting...");const J=await Oe.get("/profile/status",{headers:{"X-Debug-Id":e}});if(r("GET /profile/status success:",J.status,J.data),m(J.data),K(J.data),J.data?.is_complete){const ke=J.data.user;r("Profile already complete. Redirecting. role =",ke?.role),ke?.role==="agency"||ke?.role==="agency"?t("/Dashboard"):t("/")}}catch(J){r("GET /profile/status FAILED",J),J?.response&&r("Status error response:",J.response.status,J.response.data)}};j.useEffect(()=>{const J=JSON.parse(localStorage.getItem("user"));if(!J){be.error("Please login first"),t("/auth");return}o(J),r("Loaded user from localStorage:",J),$()},[t]);const H=J=>{const{name:ke,value:L,files:Te}=J.target;if(Te){const Q=Te[0]||null;g(R=>({...R,[ke]:Q})),r("File changed:",ke,Q?{name:Q.name,size:Q.size,type:Q.type}:null);return}g(Q=>({...Q,[ke]:L})),r("Field changed:",ke,L),ke==="business_type"&&v(L==="company")},fe=(J,ke)=>{g(L=>({...L,[J]:ke})),r("Select changed:",J,ke),J==="business_type"&&v(ke==="company")},Z=()=>{if(!f.first_name||!f.last_name||!f.gender||!f.birth_date||!f.city)return be.error("Please fill all required base fields"),!1;if(!f.id_card_front||!f.id_card_back)return be.error("Please upload both ID card photos"),!1;if(se){if(!f.license_number||!f.driver_license||!f.profession||!f.avg_salary)return be.error("Please fill all required client fields"),!1;if(!["employee","freelancer","business","student","other"].includes(f.profession))return be.error("Please select a valid profession"),!1;if(!["200-500","500-1000","1000-2000","2000+"].includes(f.avg_salary))return be.error("Please select a valid salary range"),!1}if(X){if(console.log("[CompleteProfile Validate]","Agency validation started",{business_type:f.business_type,profession:f.profession,hasLocation:!!f.location,locationLength:f.location?.length}),!f.business_type||!f.profession)return console.log("[CompleteProfile Validate]","Failed: missing business_type or profession"),be.error("Please fill all required agency fields"),!1;if(!f.location)return console.log("[CompleteProfile Validate]","Failed: no location"),be.error("Please select your agency location. Opening map..."),_(!0),setTimeout(()=>document.getElementById("agency-location-section")?.scrollIntoView({behavior:"smooth"}),100),!1;if(!["rental","private","company","marina"].includes(f.business_type))return console.log("[CompleteProfile Validate]","Failed: invalid business_type",f.business_type),be.error("Please select a valid business type"),!1;if(!["owner","manager"].includes(f.profession))return console.log("[CompleteProfile Validate]","Failed: invalid profession",f.profession),be.error("Please select a valid profession"),!1;try{const L=JSON.parse(f.location);if(!L.latitude||!L.longitude)return console.log("[CompleteProfile Validate]","Failed: location missing lat/lng",L),be.error("Invalid location data. Please select your location again"),!1;console.log("[CompleteProfile Validate]","Location OK",L)}catch(L){return console.log("[CompleteProfile Validate]","Failed: location parse error",L,"raw:",f.location),be.error("Invalid location format. Please select your location again"),!1}if(f.business_type==="company"&&(!f.company_number||!f.business_doc))return console.log("[CompleteProfile Validate]","Failed: company fields",{company_number:f.company_number,business_doc:!!f.business_doc}),be.error("Please fill company number and upload business document"),!1;console.log("[CompleteProfile Validate]","Agency validation passed")}return!0},ee=async J=>{J.preventDefault();const ke="[CompleteProfile Submit]";if(console.log(ke,"Submit clicked",{role:i?.role,isClient:se,isAgency:X,formKeys:Object.keys(f)}),(i?.role==="agency"||i?.role==="agency")&&console.log(ke,"Agency form state",{business_type:f.business_type,profession:f.profession,location:f.location,locationParsed:(()=>{try{return f.location?JSON.parse(f.location):null}catch(L){return{parseError:String(L.message)}}})(),company_number:f.company_number,business_doc:f.business_doc?.name??f.business_doc,app_fees:f.app_fees,contract_form:f.contract_form,policies:f.policies,website:f.website}),r("Submit clicked. role =",i?.role,"isClient =",se,"isAgency =",X),n(),!Z()){console.log(ke,"Validation failed on client side."),r("Validation failed on client side.");return}try{d(!0);const L=new FormData;if(L.append("first_name",f.first_name),L.append("last_name",f.last_name),L.append("gender",f.gender.toLowerCase()),L.append("birth_date",f.birth_date),L.append("city",f.city.toLowerCase()),L.append("bio",f.bio||""),f.id_card_front&&L.append("id_card_front",f.id_card_front),f.id_card_back&&L.append("id_card_back",f.id_card_back),f.profile_picture&&L.append("profile_picture",f.profile_picture),se)L.append("license_number",f.license_number),f.driver_license&&L.append("driver_license",f.driver_license),L.append("profession",f.profession.toLowerCase()),L.append("avg_salary",f.avg_salary),f.promo_code?.trim()&&L.append("promo_code",f.promo_code.trim());else if(X){console.log("[CompleteProfile Submit]","Building agency FormData..."),L.append("business_type",f.business_type.toLowerCase()),L.append("profession",f.profession.toLowerCase());let ye;try{ye=JSON.parse(f.location);const ue=JSON.stringify({latitude:parseFloat(ye.latitude),longitude:parseFloat(ye.longitude),country:ye.country||"Lebanon"});L.append("location",ue),console.log("[CompleteProfile Submit]","Location appended",{cleanedLocation:ue,locationData:ye})}catch(ue){throw console.error("[CompleteProfile Submit]","Location parse/append error",ue),console.log("[CompleteProfile Submit]","form.location raw:",f.location),ue}f.app_fees?.trim()&&L.append("app_fees",f.app_fees.trim()),f.contract_form?.trim()&&L.append("contract_form",f.contract_form.trim()),f.policies?.trim()&&L.append("policies",f.policies.trim()),f.website?.trim()&&L.append("website",f.website.trim()),f.business_type==="company"&&(L.append("company_number",f.company_number),f.business_doc&&L.append("business_doc",f.business_doc),console.log("[CompleteProfile Submit]","Company fields appended",{company_number:f.company_number,business_doc:f.business_doc?.name??(f.business_doc?"present":"missing")}));const ce=[];L.forEach((ue,De)=>{ce.push({key:De,value:ue instanceof File?`File: ${ue.name}`:ue})}),console.log("[CompleteProfile Submit]","FormData entries (agency)",ce)}a(L);const Te=Oe.defaults?.baseURL?`${Oe.defaults.baseURL}/profile/complete`:"/profile/complete";console.log("[CompleteProfile Submit]","POST /profile/complete",{apiUrl:Te,contentType:"multipart/form-data"}),r("POST /profile/complete starting...");const Q=await Oe.post("/profile/complete",L,{headers:{"Content-Type":"multipart/form-data","X-Debug-Id":e}});console.log("[CompleteProfile Submit]","POST /profile/complete success",Q.status,Q.data),r("POST /profile/complete success:",Q.status,Q.data);const R=Q.data.user;localStorage.setItem("user",JSON.stringify(R)),o(R),be.success("Profile completed successfully!"),r("Refreshing status...");const P=await Oe.get("/profile/status",{headers:{"X-Debug-Id":e}});r("GET /profile/status after submit:",P.status,P.data),m(P.data);const G=P.data.is_complete;setTimeout(()=>{G?R.role==="agency"||R.role==="agency"?t("/Dashboard"):t("/"):be.warning("Please complete all required fields")},500)}catch(L){if(console.error("[CompleteProfile Submit]","Request failed",L),console.log("[CompleteProfile Submit]","Error name:",L?.name,"message:",L?.message),r("POST /profile/complete FAILED:",L),L?.response){if(console.log("[CompleteProfile Submit]","Response status:",L.response.status),console.log("[CompleteProfile Submit]","Response data:",L.response.data),console.log("[CompleteProfile Submit]","Response headers:",JSON.stringify(L.response.headers,null,2)),r("Error response status:",L.response.status),r("Error response data:",L.response.data),r("Error response headers:",L.response.headers),L.response.status===403){const Te=L.response?.data?.message||L.response?.data?.error||"You do not have permission to update your profile. Please contact administrator.";be.error(Te);return}typeof L.response.data=="string"&&r("Error response (string, first 500 chars):",L.response.data.slice(0,500)),L.response?.data?.errors?(console.log("[CompleteProfile Submit]","Validation errors (422)",L.response.data.errors),Object.values(L.response.data.errors).flat().forEach(Q=>be.error(Q))):(console.log("[CompleteProfile Submit]","Error message:",L.response?.data?.message),be.error(L.response?.data?.message||"Failed to complete profile"))}else L?.request?(console.log("[CompleteProfile Submit]","No response received (network/CORS)",L.request),r("No response received. Request:",L.request),be.error("No response from server. Check network/CORS/auth.")):(r("Unknown error:",L?.message||L),be.error("Unexpected error occurred."));r("If you see https://.../api/api/... then your axios baseURL already contains /api and your proxy/route also adds /api."),r("Fix by adjusting api.defaults.baseURL OR Vite proxy OR route prefix so it becomes /api/profile/complete only once.")}finally{d(!1)}};return i?s.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-background via-primary/5 to-secondary/5",children:[s.jsxs("div",{className:"w-full max-w-3xl",children:[s.jsxs("div",{className:"flex flex-col items-center mb-8",children:[s.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-primary to-secondary flex items-center justify-center shadow-lg mb-4",children:s.jsx(Gt,{className:"w-8 h-8 text-primary-foreground"})}),s.jsx("h1",{className:"text-3xl font-bold gradient-text",children:"Complete Your Profile"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:i?.role==="client"?"Client Profile":"Agency Profile"}),h&&s.jsxs("div",{className:"mt-4 w-full max-w-md",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Profile Completion"}),s.jsxs("span",{className:"text-sm font-semibold",children:[h.completion_percentage,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-teal-500 to-cyan-500 h-2 rounded-full transition-all",style:{width:`${h.completion_percentage}%`}})})]})]}),s.jsxs(Ue,{className:"hover-glow shadow-xl",children:[s.jsxs(gs,{children:[s.jsxs(xs,{className:"text-2xl",children:["Complete Your ",i?.role==="client"?"Client":"agency"," Profile"]}),s.jsx(cm,{children:"Please fill all required fields to continue"})]}),s.jsx(qe,{children:s.jsxs("form",{onSubmit:ee,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Basic Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{children:"First Name *"}),s.jsx(Se,{type:"text",name:"first_name",value:f.first_name,onChange:H,required:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Last Name *"}),s.jsx(Se,{type:"text",name:"last_name",value:f.last_name,onChange:H,required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{children:"Gender *"}),s.jsxs(ft,{value:f.gender,onValueChange:J=>fe("gender",J),children:[s.jsx(ut,{children:s.jsx(mt,{placeholder:"Select"})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"male",children:"Male"}),s.jsx(Ce,{value:"female",children:"Female"}),s.jsx(Ce,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Birth Date *"}),s.jsx(Se,{type:"date",name:"birth_date",value:f.birth_date,onChange:H,max:new Date().toISOString().split("T")[0],required:!0})]})]}),s.jsxs("div",{children:[s.jsx(de,{children:"City *"}),s.jsxs(ft,{value:f.city,onValueChange:J=>fe("city",J),children:[s.jsx(ut,{children:s.jsx(mt,{placeholder:"Select your city"})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"beirut",children:"Beirut"}),s.jsx(Ce,{value:"mount-liban",children:"Mount Liban"}),s.jsx(Ce,{value:"south",children:"South"}),s.jsx(Ce,{value:"north",children:"North"}),s.jsx(Ce,{value:"bekaa",children:"Bekaa"}),s.jsx(Ce,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Bio (optional)"}),s.jsx("textarea",{name:"bio",value:f.bio,onChange:H,rows:3,className:"w-full px-3 py-2 rounded-md border border-input bg-background",placeholder:"Tell us about yourself..."})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Profile Picture (optional)"}),s.jsx(Se,{type:"file",name:"profile_picture",onChange:H,accept:"image/jpeg,image/jpg,image/png"}),f.profile_picture&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:f.profile_picture.name})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{children:"ID Card - Front *"}),s.jsx(Se,{type:"file",name:"id_card_front",onChange:H,accept:"image/jpeg,image/jpg,image/png,application/pdf",required:!0}),f.id_card_front&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:f.id_card_front.name})]}),s.jsxs("div",{children:[s.jsx(de,{children:"ID Card - Back *"}),s.jsx(Se,{type:"file",name:"id_card_back",onChange:H,accept:"image/jpeg,image/jpg,image/png,application/pdf",required:!0}),f.id_card_back&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:f.id_card_back.name})]})]})]}),s.jsx("hr",{className:"my-6"}),i?.role==="client"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Client Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{children:"License Number *"}),s.jsx(Se,{type:"text",name:"license_number",value:f.license_number,onChange:H,required:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Driver License *"}),s.jsx(Se,{type:"file",name:"driver_license",onChange:H,accept:"image/jpeg,image/jpg,image/png,application/pdf",required:!0}),f.driver_license&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:f.driver_license.name})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{children:"Profession *"}),s.jsxs(ft,{value:f.profession,onValueChange:J=>fe("profession",J),children:[s.jsx(ut,{children:s.jsx(mt,{placeholder:"Choose..."})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"employee",children:"Employee"}),s.jsx(Ce,{value:"freelancer",children:"Freelancer"}),s.jsx(Ce,{value:"business",children:"Business"}),s.jsx(Ce,{value:"student",children:"Student"}),s.jsx(Ce,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Average Salary *"}),s.jsxs(ft,{value:f.avg_salary,onValueChange:J=>fe("avg_salary",J),children:[s.jsx(ut,{children:s.jsx(mt,{placeholder:"Select..."})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"200-500",children:"$200-500"}),s.jsx(Ce,{value:"500-1000",children:"$500-1000"}),s.jsx(Ce,{value:"1000-2000",children:"$1000-2000"}),s.jsx(Ce,{value:"2000+",children:"$2000+"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Promo Code (optional)"}),s.jsx(Se,{type:"text",name:"promo_code",value:f.promo_code,onChange:H})]})]}),(i?.role==="agency"||i?.role==="agency")&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Agency Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{children:"Business Type *"}),s.jsxs(ft,{value:f.business_type,onValueChange:J=>{fe("business_type",J),v(J==="company")},children:[s.jsx(ut,{children:s.jsx(mt,{placeholder:"Select"})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"rental",children:"Rental"}),s.jsx(Ce,{value:"private",children:"Private"}),s.jsx(Ce,{value:"company",children:"Company"}),s.jsx(Ce,{value:"marina",children:"Marina"})]})]})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Profession *"}),s.jsxs(ft,{value:f.profession,onValueChange:J=>fe("profession",J),children:[s.jsx(ut,{children:s.jsx(mt,{placeholder:"Choose..."})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"manager",children:"Manager"}),s.jsx(Ce,{value:"owner",children:"Owner"})]})]})]})]}),y&&s.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/30",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Yl,{className:"w-4 h-4"}),s.jsx("p",{children:"Company Details (Required)"})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Company Number *"}),s.jsx(Se,{type:"text",name:"company_number",value:f.company_number,onChange:H,required:y})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Business Document *"}),s.jsx(Se,{type:"file",name:"business_doc",onChange:H,accept:"image/jpeg,image/jpg,image/png,application/pdf",required:y}),f.business_doc&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:f.business_doc.name})]})]}),s.jsxs("div",{id:"agency-location-section",children:[s.jsx(de,{children:"Address (region) *"}),s.jsxs(ft,{value:f.city||"",onValueChange:J=>fe("city",J),children:[s.jsx(ut,{className:"mb-3",children:s.jsx(mt,{placeholder:"Select your region"})}),s.jsx(ht,{children:Hue.map(J=>s.jsx(Ce,{value:J.value,children:J.label},J.value))})]}),s.jsx(de,{children:"Location *"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(de,{className:"text-muted-foreground text-xs",children:"Paste Google Maps link"}),s.jsxs("div",{className:"flex gap-2 mt-1",children:[s.jsx(Se,{placeholder:"e.g. https://www.google.com/maps/@33.8938,35.5018,17z",value:C,onChange:J=>I(J.target.value),onBlur:J=>{const ke=J.target.value?.trim();ke&&le(ke)},className:"flex-1"}),s.jsx(pe,{type:"button",variant:"outline",onClick:()=>C.trim()&&le(C),children:"Apply"})]})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-muted-foreground text-xs",children:"Search address"}),s.jsxs("div",{className:"flex gap-2 mt-1",children:[s.jsx(Se,{placeholder:"Search address or place...",value:E,onChange:J=>U(J.target.value),onKeyDown:J=>J.key==="Enter"&&(J.preventDefault(),ve()),className:"flex-1"}),s.jsx(pe,{type:"button",variant:"outline",onClick:ve,disabled:T,children:s.jsx(Fr,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsxs(pe,{type:"button",variant:"outline",className:"flex-1 min-w-[140px]",onClick:z,children:[s.jsx(nM,{className:"w-4 h-4 mr-2"}),"Use Current Location"]}),s.jsxs(pe,{type:"button",variant:"outline",className:"flex-1 min-w-[140px]",onClick:he,children:[s.jsx(Ps,{className:"w-4 h-4 mr-2"}),"Select on Map"]})]}),b?s.jsx("div",{className:"p-4 bg-primary/10 border-2 border-primary/20 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center flex-shrink-0",children:s.jsx(Ps,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold text-sm mb-1",children:"Location Selected"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Latitude: ",b.lat]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Longitude: ",b.lng]})]})]})}):s.jsxs("div",{className:"p-4 bg-muted/30 border-2 border-dashed rounded-lg text-center",children:[s.jsx(Ps,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No location selected yet"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Click one of the buttons above to set your location"})]}),s.jsx("input",{type:"hidden",name:"location",value:f.location,required:!0})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4",children:s.jsxs("div",{children:[s.jsx(de,{children:"Website (optional)"}),s.jsx(Se,{type:"url",name:"website",value:f.website,onChange:H,placeholder:"https://example.com"})]})}),s.jsxs("div",{children:[s.jsx(de,{children:"Contract Form (optional)"}),s.jsx("textarea",{name:"contract_form",value:f.contract_form,onChange:H,rows:2,className:"w-full px-3 py-2 rounded-md border border-input bg-background"})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Policies (optional)"}),s.jsx("textarea",{name:"policies",value:f.policies,onChange:H,rows:2,className:"w-full px-3 py-2 rounded-md border border-input bg-background"})]})]}),s.jsx(pe,{type:"submit",className:"w-full bg-gradient-to-r from-secondary to-accent font-semibold text-lg py-6",disabled:c,children:c?"Saving...":"Save Profile"})]})})]})]}),s.jsx(Kr,{open:w,onOpenChange:J=>{_(J),J||F("")},children:s.jsxs(Br,{className:"max-w-4xl max-h-[90vh]",children:[s.jsxs(Ir,{children:[s.jsx(zr,{children:"Select Your Location"}),s.jsx(Vi,{children:"Search for a place or click on the map to select your business location"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex gap-2 flex-wrap",children:s.jsxs("div",{className:"flex flex-1 min-w-[200px] rounded-md overflow-hidden border border-input",children:[s.jsx(Se,{placeholder:"Search address or place...",value:q,onChange:J=>F(J.target.value),onKeyDown:J=>J.key==="Enter"&&(J.preventDefault(),me()),className:"rounded-r-none border-0 h-10 focus-visible:ring-0"}),s.jsx(pe,{type:"button",variant:"secondary",onClick:me,disabled:Y,className:"rounded-l-none h-10 px-4",children:s.jsx(Fr,{className:"w-4 h-4"})})]})}),s.jsx("div",{className:"w-full h-[500px] bg-muted rounded-lg overflow-hidden",children:s.jsx(Gue,{center:k,selectedLocation:b,onLocationSelect:V})}),b&&s.jsx("div",{className:"p-3 bg-muted/50 rounded-md",children:s.jsxs("p",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:"Selected:"})," ",b.lat,", ",b.lng]})}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(pe,{variant:"outline",onClick:()=>_(!1),children:"Cancel"}),s.jsx(pe,{onClick:W,children:"Confirm Location"})]})]})]})})]}):null}function Gue({center:t,selectedLocation:e,onLocationSelect:r}){const n=ot.useRef(null),a=ot.useRef(null);j.useEffect(()=>{if(typeof window<"u"&&!window.L){const o=document.createElement("link");o.rel="stylesheet",o.href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",document.head.appendChild(o);const c=document.createElement("script");c.src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js",c.onload=()=>i(),document.head.appendChild(c)}else window.L&&i()},[]),j.useEffect(()=>{n.current&&window.L&&n.current.setView([parseFloat(t.lat),parseFloat(t.lng)],13)},[t]),j.useEffect(()=>{e&&a.current&&window.L&&a.current.setLatLng([parseFloat(e.lat),parseFloat(e.lng)])},[e]);const i=()=>{if(!window.L||n.current)return;const o=window.L.map("map-container").setView([parseFloat(t.lat),parseFloat(t.lng)],13);window.L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap contributors"}).addTo(o);const c=window.L.marker([parseFloat(t.lat),parseFloat(t.lng)],{draggable:!0}).addTo(o);c.on("dragend",d=>{const h=d.target.getLatLng();r(h.lat,h.lng)}),o.on("click",d=>{c.setLatLng(d.latlng),r(d.latlng.lat,d.latlng.lng)}),n.current=o,a.current=c};return s.jsx("div",{id:"map-container",className:"w-full h-full"})}const vs={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640",tealDim:"rgba(0, 140, 149, 0.1)",limeGreenDim:"rgba(138, 198, 64, 0.1)"};function Yue(){const[t,e]=j.useState([]),[r,n]=j.useState(null),[a,i]=j.useState([]),[o,c]=j.useState(""),[d,h]=j.useState(!1),[m,f]=j.useState(!0),[g,y]=j.useState(!1),[v,w]=j.useState(null),[_,b]=j.useState(""),N=j.useRef(null),k=j.useRef(null),S=j.useRef(null),C=j.useRef(null),I=j.useRef(null),[E]=j.useState(()=>localStorage.getItem("token")),U=(K,z)=>{const he=K?.created_at??K?.createdAt??K?.data?.created_at??null,V=K?.read_at??K?.data?.read_at??(K?.is_read?he:null);return{id:K?.id??K?.data?.id??`rt-${Date.now()}`,booking_id:K?.booking_id??K?.data?.booking_id??z,sender_id:K?.sender_id??K?.data?.sender_id??K?.sender?.id,receiver_id:K?.receiver_id??K?.data?.receiver_id??null,message:K?.message??K?.data?.message??"",read_at:V,created_at:he,sender:K?.sender??K?.data?.sender??null}};j.useEffect(()=>{if(!E){w("Authentication required. Please log in.");return}window.Pusher=WF,S.current=new qF({broadcaster:"pusher",key:"316e84fa5f5bf1a94b26",cluster:"ap1",forceTLS:!0,encrypted:!0,enabledTransports:["ws","wss"],authEndpoint:"https://rento-lb.com/api/api/broadcasting/auth",auth:{headers:{Authorization:`Bearer ${E}`,Accept:"application/json"}}});const K=S.current.connector.pusher;K.connection.bind("initialized",()=>console.log("[PUSHER] initialized")),K.connection.bind("connecting",()=>console.log("[PUSHER] connecting...")),K.connection.bind("connected",()=>console.log("[PUSHER]  connected")),K.connection.bind("disconnected",()=>console.log("[PUSHER] disconnected")),K.connection.bind("unavailable",()=>console.log("[PUSHER] unavailable")),K.connection.bind("failed",()=>console.log("[PUSHER]  failed")),K.connection.bind("error",z=>console.error("[PUSHER] error:",z)),console.log("[ECHO] authEndpoint:","https://rento-lb.com/api/api/broadcasting/auth"),console.log("[ECHO] cluster:","ap1"),console.log("[ECHO] key:","316e84fa5f5bf1a94b26");try{S.current.connector?.pusher?.connection?.bind("error",z=>{console.error("Pusher connection error:",z)})}catch{}return Oe.get("/profile").then(({data:z})=>{C.current=z.user?.id,console.log("Current user ID:",C.current)}).catch(z=>{console.error("Failed to fetch profile:",z),w("Failed to load user profile")}),()=>{S.current?.disconnect()}},[E]),j.useEffect(()=>{E&&T()},[E]);const T=async()=>{f(!0),w(null);try{const{data:K}=await Oe.get("/bookings"),he=(K?.bookings?.data??[]).filter(V=>V.booking_request_status==="confirmed"||V.booking_request_status==="accepted");e(he)}catch(K){console.error("Failed to fetch bookings:",K),w("Failed to load bookings"),e([])}finally{f(!1)}},ne=()=>{const K=N.current;K&&(K.scrollTop=K.scrollHeight)};j.useEffect(()=>{ne()},[a]);const q=async K=>{h(!0),w(null);try{const{data:z}=await Oe.get(`/bookings/${K}/chat`),he=z?.data?.data??z?.data?.messages??z?.messages??[];i(he),he.forEach(V=>{!V.read_at&&V.sender_id!==C.current&&Y(K,V.id)})}catch(z){console.error("Failed to load messages:",z),w("Failed to load messages"),i([])}finally{h(!1)}};j.useEffect(()=>{if(!r?.id||!S.current)return;const K=r.id,z=`private-booking.${K}`;console.log("[ECHO] subscribing to:",z);const he=S.current.connector.pusher,V=he.subscribe(z);V.bind("pusher:subscription_succeeded",()=>{console.log("[PUSHER]  subscription_succeeded:",z)}),V.bind("pusher:subscription_error",oe=>{console.error("[PUSHER]  subscription_error:",z,"status:",oe),console.error("-> If status=403, your /broadcasting/auth or channels.php auth is rejecting the user.")});const W=S.current.private(`booking.${K}`),le=oe=>{const ve=U(oe,K);i(me=>me.some(H=>String(H.id)===String(ve.id))?me:[...me,ve]),ve.sender_id&&ve.sender_id!==C.current&&Y(K,ve.id)};return W.listen(".message.sent",le),W.listen("message.sent",le),W.listenForWhisper("typing",oe=>{oe?.user_id&&oe.user_id!==C.current&&(y(!0),I.current&&clearTimeout(I.current),I.current=setTimeout(()=>y(!1),3e3))}),W.listen(".message.read",oe=>console.log("[ECHO] message.read:",oe)),q(K),()=>{console.log("[ECHO] leaving:",z),S.current?.leave(`booking.${K}`),he.unsubscribe(z)}},[r?.id]);const F=async K=>{if(K.preventDefault(),!o.trim()||!r?.id)return;const z=r.id,he=o.trim();c("");try{const{data:V}=await Oe.post(`/bookings/${z}/chat`,{booking_id:z,message:he}),W=V?.data??V?.message;W&&i(le=>[...le,W])}catch(V){console.error("Failed to send message:",V),w("Failed to send message"),c(he)}},Y=async(K,z)=>{try{await Oe.post(`/bookings/${K}/chat/mark-read`,{message_id:z})}catch(he){console.error("Failed to mark message as read:",he)}},O=async()=>{try{if(!t?.length)return;const K=await Promise.all(t.map(async he=>{try{const{data:V}=await Oe.get(`/bookings/${he.id}/chat/unread-count`),W=V?.data?.unread_count??V?.data??V?.unread_count??0;return{id:he.id,count:Number(W)||0}}catch(V){return console.error(`Failed unread count for booking ${he.id}:`,V),{id:he.id,count:0}}})),z=Object.fromEntries(K.map(he=>[he.id,he.count]));e(he=>he.map(V=>({...V,unread_count:z[V.id]??0})))}catch(K){console.error("Failed to fetch unread counts:",K)}};j.useEffect(()=>{if(!E)return;t.length&&O();const K=setInterval(O,1e4);return()=>clearInterval(K)},[E,t.length]);const se=K=>{if(!K)return"";const z=new Date(K);if(Number.isNaN(z.getTime()))return"";const V=Math.floor((new Date-z)/6e4);if(V<1)return"Just now";if(V<60)return`${V}m ago`;const W=Math.floor(V/60);if(W<24)return`${W}h ago`;const le=Math.floor(W/24);return le<7?`${le}d ago`:z.toLocaleDateString("en-US",{month:"short",day:"numeric"})},X=K=>{if(!K)return"";const z=new Date(K);return Number.isNaN(z.getTime())?"":z.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},M=t.filter(K=>{if(!_)return!0;const z=_.toLowerCase(),he=`${K.car?.agent?.first_name||""} ${K.car?.agent?.last_name||""}`.toLowerCase(),V=`${K.car?.make||""} ${K.car?.model||""}`.toLowerCase();return he.includes(z)||V.includes(z)});return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-black dark:via-gray-900 dark:to-gray-950 pt-20",children:s.jsxs("div",{className:"container mx-auto px-4 py-6",children:[s.jsx(st.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6",children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center shadow-lg",style:{background:`linear-gradient(135deg, ${vs.teal}, ${vs.darkBlue})`},children:s.jsx(ii,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(135deg, ${vs.darkBlue}, ${vs.teal}, ${vs.limeGreen})`},children:"My Bookings Chat"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Message your car agent"})]})]})}),s.jsx(Wo,{children:v&&s.jsx(st.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-4 p-4 rounded-xl border-2",style:{background:"rgba(220, 38, 38, 0.1)",borderColor:"#DC2626"},children:s.jsxs("p",{className:"text-red-800 dark:text-red-200 flex items-center gap-2",children:[s.jsx(gr,{className:"w-5 h-5"}),v]})})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 h-[calc(100vh-180px)]",children:[s.jsxs("div",{className:"lg:col-span-1 bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden flex flex-col border border-gray-200 dark:border-gray-700",children:[s.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"relative",children:[s.jsx(Fr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search conversations...",value:_,onChange:K=>b(K.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 dark:text-white text-sm"})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:m?s.jsx("div",{className:"flex justify-center items-center h-full",children:s.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-t-transparent",style:{borderColor:vs.tealDim,borderTopColor:"transparent"}})}):M.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-gray-400",children:[s.jsx(ii,{className:"w-16 h-16 mb-3",style:{color:vs.teal,opacity:.3}}),s.jsx("p",{className:"text-center font-medium",children:"No bookings found"}),s.jsx("p",{className:"text-xs text-center mt-1",children:"Book a car to start chatting"})]}):M.map(K=>{const z=K.car?.agent,he=z?.profile_picture?`/api/storage/${z.profile_picture}`:"/default-avatar.png";return s.jsx(st.div,{whileHover:{x:5},onClick:()=>n(K),className:`p-4 border-b border-gray-200 dark:border-gray-700 cursor-pointer transition-all ${r?.id===K.id?"border-l-4":"hover:bg-gray-50 dark:hover:bg-gray-700"}`,style:r?.id===K.id?{background:vs.tealDim,borderLeftColor:vs.teal}:{},children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:he,alt:z?.first_name||"Agent",className:"w-12 h-12 rounded-full object-cover ring-2 ring-white dark:ring-gray-700"}),(K.unread_count??0)>0&&s.jsx(st.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},className:"absolute -top-1 -right-1 w-5 h-5 rounded-full flex items-center justify-center shadow-lg",style:{background:vs.limeGreen},children:s.jsx("span",{className:"text-xs text-white font-bold",children:K.unread_count})})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white truncate flex items-center gap-1",children:[z?.first_name||"N/A"," ",z?.last_name||"",z?.verified_by_admin&&s.jsx(Zn,{className:"w-3 h-3",style:{color:vs.teal}})]}),(K.unread_count??0)>0&&s.jsx(pn,{className:"w-4 h-4",style:{color:vs.teal}})]}),s.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate flex items-center gap-1",children:[s.jsx(Gt,{className:"w-3 h-3"}),K.car?.make||"N/A"," ",K.car?.model||""]})]})]})},K.id)})})]}),s.jsx("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden flex flex-col border border-gray-200 dark:border-gray-700",children:r?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-4 text-white relative overflow-hidden",style:{background:`linear-gradient(135deg, ${vs.darkBlue}, ${vs.teal}, ${vs.limeGreen})`},children:[s.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-white/10 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-white/10 rounded-full blur-2xl"}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:r.car?.agent?.profile_picture?`/api/storage/${r.car.agent.profile_picture}`:"/default-avatar.png",alt:r.car?.agent?.first_name||"Agent",className:"w-12 h-12 rounded-full object-cover border-2 border-white shadow-lg"}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",children:[r.car?.agent?.first_name||"N/A"," ",r.car?.agent?.last_name||"",r.car?.agent?.verified_by_admin&&s.jsx(Zn,{className:"w-4 h-4"})]}),s.jsx("p",{className:"text-xs opacity-90",children:"Car Agent"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[r.car?.agent?.phone_number&&s.jsx(st.a,{whileHover:{scale:1.1},whileTap:{scale:.9},href:`tel:${r.car.agent.phone_number}`,className:"p-2 bg-white/20 backdrop-blur-sm rounded-xl hover:bg-white/30 transition-colors",children:s.jsx(di,{className:"w-4 h-4"})}),r.car?.agent?.email&&s.jsx(st.a,{whileHover:{scale:1.1},whileTap:{scale:.9},href:`mailto:${r.car.agent.email}`,className:"p-2 bg-white/20 backdrop-blur-sm rounded-xl hover:bg-white/30 transition-colors",children:s.jsx(za,{className:"w-4 h-4"})})]})]}),s.jsx("div",{className:"p-3 bg-white/10 backdrop-blur-sm rounded-xl",children:s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Gt,{className:"w-4 h-4"}),s.jsxs("span",{className:"truncate",children:[r.car?.make||"N/A"," ",r.car?.model||""]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Hs,{className:"w-4 h-4"}),s.jsx("span",{className:"truncate",children:r.start_datetime?X(r.start_datetime):"N/A"})]})]})})]})]}),s.jsxs("div",{ref:N,className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gradient-to-b from-gray-50/50 to-white dark:from-gray-900/50 dark:to-gray-800",style:{maxHeight:"calc(100vh - 450px)"},children:[d?s.jsx("div",{className:"flex justify-center items-center h-full",children:s.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-t-transparent",style:{borderColor:vs.tealDim,borderTopColor:"transparent"}})}):a.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[s.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mb-4",style:{background:vs.tealDim},children:s.jsx(ii,{className:"w-10 h-10",style:{color:vs.teal}})}),s.jsx("p",{className:"text-lg font-medium",children:"No messages yet"}),s.jsx("p",{className:"text-sm",children:"Start the conversation!"})]}):s.jsxs(s.Fragment,{children:[a.map((K,z)=>{const he=K.sender_id===C.current||K.sender?.id===C.current,V=a[z-1],W=z===0||V?.sender_id!==K.sender_id;return s.jsxs(st.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex items-end gap-2 ${he?"justify-end":"justify-start"}`,children:[!he&&W&&s.jsx("img",{src:K.sender?.profile_picture?`/api/storage/${K.sender.profile_picture}`:"/default-avatar.png",alt:K.sender?.first_name||"User",className:"w-8 h-8 rounded-full object-cover ring-2 ring-white dark:ring-gray-700"}),!he&&!W&&s.jsx("div",{className:"w-8"}),s.jsxs("div",{className:`flex flex-col ${he?"items-end":"items-start"} max-w-[70%]`,children:[s.jsx(st.div,{whileHover:{scale:1.02},className:`rounded-2xl px-4 py-2 shadow-md ${he?"text-white rounded-br-none":"bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-bl-none border border-gray-200 dark:border-gray-600"}`,style:he?{background:`linear-gradient(135deg, ${vs.teal}, ${vs.darkBlue})`}:{},children:s.jsx("p",{className:"text-sm whitespace-pre-wrap break-words leading-relaxed",children:K.message})}),s.jsxs("div",{className:"flex items-center gap-1 mt-1 px-1",children:[s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:se(K.created_at)}),he&&s.jsx("span",{children:K.read_at?s.jsx(Y6,{className:"w-3 h-3",style:{color:vs.teal}}):s.jsx(ci,{className:"w-3 h-3 text-gray-400"})})]})]}),he&&W&&s.jsx("img",{src:K.sender?.profile_picture?`/api/storage/${K.sender.profile_picture}`:"/default-avatar.png",alt:K.sender?.first_name||"You",className:"w-8 h-8 rounded-full object-cover ring-2 ring-white dark:ring-gray-700"}),he&&!W&&s.jsx("div",{className:"w-8"})]},K.id)}),s.jsx("div",{ref:k})]}),s.jsx(Wo,{children:g&&s.jsxs(st.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"flex items-center gap-2",children:[s.jsx("img",{src:r.car?.agent?.profile_picture?`/api/storage/${r.car.agent.profile_picture}`:"/default-avatar.png",alt:r.car?.agent?.first_name||"Agent",className:"w-8 h-8 rounded-full object-cover ring-2 ring-white dark:ring-gray-700"}),s.jsx("div",{className:"bg-white dark:bg-gray-700 rounded-2xl rounded-bl-none px-4 py-3 border border-gray-200 dark:border-gray-600",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{background:vs.teal,animationDelay:"0ms"}}),s.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{background:vs.darkBlue,animationDelay:"150ms"}}),s.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{background:vs.limeGreen,animationDelay:"300ms"}})]})})]})})]}),s.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsx(st.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 rounded-xl transition-colors",style:{background:vs.tealDim,color:vs.teal},type:"button",children:s.jsx(aM,{className:"w-5 h-5"})}),s.jsx(st.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 rounded-xl transition-colors",style:{background:vs.limeGreenDim,color:vs.limeGreen},type:"button",children:s.jsx(oM,{className:"w-5 h-5"})}),s.jsx("div",{className:"flex-1 relative",children:s.jsx("textarea",{value:o,onChange:K=>{c(K.target.value)},onKeyDown:K=>{K.key==="Enter"&&!K.shiftKey&&(K.preventDefault(),F(K))},placeholder:"Type your message...",rows:1,className:"w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 dark:bg-gray-700 dark:text-white resize-none"})}),s.jsx(st.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:F,disabled:!o.trim(),className:"p-3 rounded-xl text-white font-semibold disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg hover:shadow-xl",style:{background:`linear-gradient(135deg, ${vs.teal}, ${vs.darkBlue})`},type:"button",children:s.jsx(T0,{className:"w-5 h-5"})})]})})]}):s.jsx("div",{className:"flex-1 flex flex-col items-center justify-center",children:s.jsxs(st.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"text-center",children:[s.jsx("div",{className:"w-24 h-24 rounded-full flex items-center justify-center mb-6 mx-auto",style:{background:`linear-gradient(135deg, ${vs.tealDim}, ${vs.limeGreenDim})`},children:s.jsx(ii,{className:"w-12 h-12",style:{color:vs.teal}})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Select a Booking"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Choose a conversation to start chatting"})]})})})]})]})})}function Zm(t){return t+.5|0}const $l=(t,e,r)=>Math.max(Math.min(t,r),e);function Vf(t){return $l(Zm(t*2.55),0,255)}function Gl(t){return $l(Zm(t*255),0,255)}function Ro(t){return $l(Zm(t/2.55)/100,0,1)}function xD(t){return $l(Zm(t*100),0,100)}const Fa={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Q_=[..."0123456789ABCDEF"],Kue=t=>Q_[t&15],Xue=t=>Q_[(t&240)>>4]+Q_[t&15],Yg=t=>(t&240)>>4===(t&15),Zue=t=>Yg(t.r)&&Yg(t.g)&&Yg(t.b)&&Yg(t.a);function Que(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&Fa[t[1]]*17,g:255&Fa[t[2]]*17,b:255&Fa[t[3]]*17,a:e===5?Fa[t[4]]*17:255}:(e===7||e===9)&&(r={r:Fa[t[1]]<<4|Fa[t[2]],g:Fa[t[3]]<<4|Fa[t[4]],b:Fa[t[5]]<<4|Fa[t[6]],a:e===9?Fa[t[7]]<<4|Fa[t[8]]:255})),r}const Jue=(t,e)=>t<255?e(t):"";function ehe(t){var e=Zue(t)?Kue:Xue;return t?"#"+e(t.r)+e(t.g)+e(t.b)+Jue(t.a,e):void 0}const the=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function YF(t,e,r){const n=e*Math.min(r,1-r),a=(i,o=(i+t/30)%12)=>r-n*Math.max(Math.min(o-3,9-o,1),-1);return[a(0),a(8),a(4)]}function she(t,e,r){const n=(a,i=(a+t/60)%6)=>r-r*e*Math.max(Math.min(i,4-i,1),0);return[n(5),n(3),n(1)]}function rhe(t,e,r){const n=YF(t,1,.5);let a;for(e+r>1&&(a=1/(e+r),e*=a,r*=a),a=0;a<3;a++)n[a]*=1-e-r,n[a]+=e;return n}function nhe(t,e,r,n,a){return t===a?(e-r)/n+(e<r?6:0):e===a?(r-t)/n+2:(t-e)/n+4}function rS(t){const r=t.r/255,n=t.g/255,a=t.b/255,i=Math.max(r,n,a),o=Math.min(r,n,a),c=(i+o)/2;let d,h,m;return i!==o&&(m=i-o,h=c>.5?m/(2-i-o):m/(i+o),d=nhe(r,n,a,m,i),d=d*60+.5),[d|0,h||0,c]}function nS(t,e,r,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,n)).map(Gl)}function aS(t,e,r){return nS(YF,t,e,r)}function ahe(t,e,r){return nS(rhe,t,e,r)}function ihe(t,e,r){return nS(she,t,e,r)}function KF(t){return(t%360+360)%360}function ohe(t){const e=the.exec(t);let r=255,n;if(!e)return;e[5]!==n&&(r=e[6]?Vf(+e[5]):Gl(+e[5]));const a=KF(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?n=ahe(a,i,o):e[1]==="hsv"?n=ihe(a,i,o):n=aS(a,i,o),{r:n[0],g:n[1],b:n[2],a:r}}function lhe(t,e){var r=rS(t);r[0]=KF(r[0]+e),r=aS(r),t.r=r[0],t.g=r[1],t.b=r[2]}function che(t){if(!t)return;const e=rS(t),r=e[0],n=xD(e[1]),a=xD(e[2]);return t.a<255?`hsla(${r}, ${n}%, ${a}%, ${Ro(t.a)})`:`hsl(${r}, ${n}%, ${a}%)`}const yD={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},bD={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function dhe(){const t={},e=Object.keys(bD),r=Object.keys(yD);let n,a,i,o,c;for(n=0;n<e.length;n++){for(o=c=e[n],a=0;a<r.length;a++)i=r[a],c=c.replace(i,yD[i]);i=parseInt(bD[o],16),t[c]=[i>>16&255,i>>8&255,i&255]}return t}let Kg;function uhe(t){Kg||(Kg=dhe(),Kg.transparent=[0,0,0,0]);const e=Kg[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const hhe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function fhe(t){const e=hhe.exec(t);let r=255,n,a,i;if(e){if(e[7]!==n){const o=+e[7];r=e[8]?Vf(o):$l(o*255,0,255)}return n=+e[1],a=+e[3],i=+e[5],n=255&(e[2]?Vf(n):$l(n,0,255)),a=255&(e[4]?Vf(a):$l(a,0,255)),i=255&(e[6]?Vf(i):$l(i,0,255)),{r:n,g:a,b:i,a:r}}}function mhe(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Ro(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const b1=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,ju=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function phe(t,e,r){const n=ju(Ro(t.r)),a=ju(Ro(t.g)),i=ju(Ro(t.b));return{r:Gl(b1(n+r*(ju(Ro(e.r))-n))),g:Gl(b1(a+r*(ju(Ro(e.g))-a))),b:Gl(b1(i+r*(ju(Ro(e.b))-i))),a:t.a+r*(e.a-t.a)}}function Xg(t,e,r){if(t){let n=rS(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*r,e===0?360:1)),n=aS(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function XF(t,e){return t&&Object.assign(e||{},t)}function vD(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Gl(t[3]))):(e=XF(t,{r:0,g:0,b:0,a:1}),e.a=Gl(e.a)),e}function ghe(t){return t.charAt(0)==="r"?fhe(t):ohe(t)}class ym{constructor(e){if(e instanceof ym)return e;const r=typeof e;let n;r==="object"?n=vD(e):r==="string"&&(n=Que(e)||uhe(e)||ghe(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=XF(this._rgb);return e&&(e.a=Ro(e.a)),e}set rgb(e){this._rgb=vD(e)}rgbString(){return this._valid?mhe(this._rgb):void 0}hexString(){return this._valid?ehe(this._rgb):void 0}hslString(){return this._valid?che(this._rgb):void 0}mix(e,r){if(e){const n=this.rgb,a=e.rgb;let i;const o=r===i?.5:r,c=2*o-1,d=n.a-a.a,h=((c*d===-1?c:(c+d)/(1+c*d))+1)/2;i=1-h,n.r=255&h*n.r+i*a.r+.5,n.g=255&h*n.g+i*a.g+.5,n.b=255&h*n.b+i*a.b+.5,n.a=o*n.a+(1-o)*a.a,this.rgb=n}return this}interpolate(e,r){return e&&(this._rgb=phe(this._rgb,e._rgb,r)),this}clone(){return new ym(this.rgb)}alpha(e){return this._rgb.a=Gl(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=Zm(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return Xg(this._rgb,2,e),this}darken(e){return Xg(this._rgb,2,-e),this}saturate(e){return Xg(this._rgb,1,e),this}desaturate(e){return Xg(this._rgb,1,-e),this}rotate(e){return lhe(this._rgb,e),this}}function Co(){}const xhe=(()=>{let t=0;return()=>t++})();function as(t){return t==null}function tr(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function ds(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function yr(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function ha(t,e){return yr(t)?t:e}function Xt(t,e){return typeof t>"u"?e:t}const yhe=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,ZF=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Gs(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function Ms(t,e,r,n){let a,i,o;if(tr(t))for(i=t.length,a=0;a<i;a++)e.call(r,t[a],a);else if(ds(t))for(o=Object.keys(t),i=o.length,a=0;a<i;a++)e.call(r,t[o[a]],o[a])}function u0(t,e){let r,n,a,i;if(!t||!e||t.length!==e.length)return!1;for(r=0,n=t.length;r<n;++r)if(a=t[r],i=e[r],a.datasetIndex!==i.datasetIndex||a.index!==i.index)return!1;return!0}function h0(t){if(tr(t))return t.map(h0);if(ds(t)){const e=Object.create(null),r=Object.keys(t),n=r.length;let a=0;for(;a<n;++a)e[r[a]]=h0(t[r[a]]);return e}return t}function QF(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function bhe(t,e,r,n){if(!QF(t))return;const a=e[t],i=r[t];ds(a)&&ds(i)?bm(a,i,n):e[t]=h0(i)}function bm(t,e,r){const n=tr(e)?e:[e],a=n.length;if(!ds(t))return t;r=r||{};const i=r.merger||bhe;let o;for(let c=0;c<a;++c){if(o=n[c],!ds(o))continue;const d=Object.keys(o);for(let h=0,m=d.length;h<m;++h)i(d[h],t,o,r)}return t}function tm(t,e){return bm(t,e,{merger:vhe})}function vhe(t,e,r){if(!QF(t))return;const n=e[t],a=r[t];ds(n)&&ds(a)?tm(n,a):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=h0(a))}const wD={"":t=>t,x:t=>t.x,y:t=>t.y};function whe(t){const e=t.split("."),r=[];let n="";for(const a of e)n+=a,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function jhe(t){const e=whe(t);return r=>{for(const n of e){if(n==="")break;r=r&&r[n]}return r}}function sc(t,e){return(wD[e]||(wD[e]=jhe(e)))(t)}function iS(t){return t.charAt(0).toUpperCase()+t.slice(1)}const vm=t=>typeof t<"u",rc=t=>typeof t=="function",jD=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function _he(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Ss=Math.PI,Zs=2*Ss,Nhe=Zs+Ss,f0=Number.POSITIVE_INFINITY,She=Ss/180,Nr=Ss/2,qc=Ss/4,_D=Ss*2/3,Vl=Math.log10,Wi=Math.sign;function sm(t,e,r){return Math.abs(t-e)<r}function ND(t){const e=Math.round(t);t=sm(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(Vl(t))),n=t/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function khe(t){const e=[],r=Math.sqrt(t);let n;for(n=1;n<r;n++)t%n===0&&(e.push(n),e.push(t/n));return r===(r|0)&&e.push(r),e.sort((a,i)=>a-i).pop(),e}function Che(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function eh(t){return!Che(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function Ahe(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function JF(t,e,r){let n,a,i;for(n=0,a=t.length;n<a;n++)i=t[n][r],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function oi(t){return t*(Ss/180)}function oS(t){return t*(180/Ss)}function SD(t){if(!yr(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function eB(t,e){const r=e.x-t.x,n=e.y-t.y,a=Math.sqrt(r*r+n*n);let i=Math.atan2(n,r);return i<-.5*Ss&&(i+=Zs),{angle:i,distance:a}}function J_(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function Ehe(t,e){return(t-e+Nhe)%Zs-Ss}function hn(t){return(t%Zs+Zs)%Zs}function wm(t,e,r,n){const a=hn(t),i=hn(e),o=hn(r),c=hn(i-a),d=hn(o-a),h=hn(a-i),m=hn(a-o);return a===i||a===o||n&&i===o||c>d&&h<m}function tn(t,e,r){return Math.max(e,Math.min(r,t))}function The(t){return tn(t,-32768,32767)}function Mo(t,e,r,n=1e-6){return t>=Math.min(e,r)-n&&t<=Math.max(e,r)+n}function lS(t,e,r){r=r||(o=>t[o]<e);let n=t.length-1,a=0,i;for(;n-a>1;)i=a+n>>1,r(i)?a=i:n=i;return{lo:a,hi:n}}const Po=(t,e,r,n)=>lS(t,r,n?a=>{const i=t[a][e];return i<r||i===r&&t[a+1][e]===r}:a=>t[a][e]<r),Rhe=(t,e,r)=>lS(t,r,n=>t[n][e]>=r);function Dhe(t,e,r){let n=0,a=t.length;for(;n<a&&t[n]<e;)n++;for(;a>n&&t[a-1]>r;)a--;return n>0||a<t.length?t.slice(n,a):t}const tB=["push","pop","shift","splice","unshift"];function Mhe(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),tB.forEach(r=>{const n="_onData"+iS(r),a=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...i){const o=a.apply(this,i);return t._chartjs.listeners.forEach(c=>{typeof c[n]=="function"&&c[n](...i)}),o}})})}function kD(t,e){const r=t._chartjs;if(!r)return;const n=r.listeners,a=n.indexOf(e);a!==-1&&n.splice(a,1),!(n.length>0)&&(tB.forEach(i=>{delete t[i]}),delete t._chartjs)}function sB(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const rB=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function nB(t,e){let r=[],n=!1;return function(...a){r=a,n||(n=!0,rB.call(window,()=>{n=!1,t.apply(e,r)}))}}function Phe(t,e){let r;return function(...n){return e?(clearTimeout(r),r=setTimeout(t,e,n)):t.apply(this,n),e}}const cS=t=>t==="start"?"left":t==="end"?"right":"center",un=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,Ohe=(t,e,r,n)=>t===(n?"left":"right")?r:t==="center"?(e+r)/2:e;function aB(t,e,r){const n=e.length;let a=0,i=n;if(t._sorted){const{iScale:o,vScale:c,_parsed:d}=t,h=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,m=o.axis,{min:f,max:g,minDefined:y,maxDefined:v}=o.getUserBounds();if(y){if(a=Math.min(Po(d,m,f).lo,r?n:Po(e,m,o.getPixelForValue(f)).lo),h){const w=d.slice(0,a+1).reverse().findIndex(_=>!as(_[c.axis]));a-=Math.max(0,w)}a=tn(a,0,n-1)}if(v){let w=Math.max(Po(d,o.axis,g,!0).hi+1,r?0:Po(e,m,o.getPixelForValue(g),!0).hi+1);if(h){const _=d.slice(w-1).findIndex(b=>!as(b[c.axis]));w+=Math.max(0,_)}i=tn(w,a,n)-a}else i=n-a}return{start:a,count:i}}function iB(t){const{xScale:e,yScale:r,_scaleRanges:n}=t,a={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!n)return t._scaleRanges=a,!0;const i=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,a),i}const Zg=t=>t===0||t===1,CD=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Zs/r)),AD=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*Zs/r)+1,rm={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Nr)+1,easeOutSine:t=>Math.sin(t*Nr),easeInOutSine:t=>-.5*(Math.cos(Ss*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Zg(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Zg(t)?t:CD(t,.075,.3),easeOutElastic:t=>Zg(t)?t:AD(t,.075,.3),easeInOutElastic(t){return Zg(t)?t:t<.5?.5*CD(t*2,.1125,.45):.5+.5*AD(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-rm.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?rm.easeInBounce(t*2)*.5:rm.easeOutBounce(t*2-1)*.5+.5};function dS(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function ED(t){return dS(t)?t:new ym(t)}function v1(t){return dS(t)?t:new ym(t).saturate(.5).darken(.1).hexString()}const Lhe=["x","y","borderWidth","radius","tension"],Fhe=["color","borderColor","backgroundColor"];function Bhe(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:Fhe},numbers:{type:"number",properties:Lhe}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function Ihe(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const TD=new Map;function zhe(t,e){e=e||{};const r=t+JSON.stringify(e);let n=TD.get(r);return n||(n=new Intl.NumberFormat(t,e),TD.set(r,n)),n}function Qm(t,e,r){return zhe(e,r).format(t)}const oB={values(t){return tr(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const n=this.chart.options.locale;let a,i=t;if(r.length>1){const h=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(h<1e-4||h>1e15)&&(a="scientific"),i=Uhe(t,r)}const o=Vl(Math.abs(i)),c=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),d={notation:a,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(d,this.options.ticks.format),Qm(t,n,d)},logarithmic(t,e,r){if(t===0)return"0";const n=r[e].significand||t/Math.pow(10,Math.floor(Vl(t)));return[1,2,3,5,10,15].includes(n)||e>.8*r.length?oB.numeric.call(this,t,e,r):""}};function Uhe(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var py={formatters:oB};function $he(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:py.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const Sd=Object.create(null),eN=Object.create(null);function nm(t,e){if(!e)return t;const r=e.split(".");for(let n=0,a=r.length;n<a;++n){const i=r[n];t=t[i]||(t[i]=Object.create(null))}return t}function w1(t,e,r){return typeof e=="string"?bm(nm(t,e),r):bm(nm(t,""),e)}class Vhe{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,a)=>v1(a.backgroundColor),this.hoverBorderColor=(n,a)=>v1(a.borderColor),this.hoverColor=(n,a)=>v1(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return w1(this,e,r)}get(e){return nm(this,e)}describe(e,r){return w1(eN,e,r)}override(e,r){return w1(Sd,e,r)}route(e,r,n,a){const i=nm(this,e),o=nm(this,n),c="_"+r;Object.defineProperties(i,{[c]:{value:i[r],writable:!0},[r]:{enumerable:!0,get(){const d=this[c],h=o[a];return ds(d)?Object.assign({},h,d):Xt(d,h)},set(d){this[c]=d}}})}apply(e){e.forEach(r=>r(this))}}var ar=new Vhe({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Bhe,Ihe,$he]);function Hhe(t){return!t||as(t.size)||as(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function m0(t,e,r,n,a){let i=e[a];return i||(i=e[a]=t.measureText(a).width,r.push(a)),i>n&&(n=i),n}function qhe(t,e,r,n){n=n||{};let a=n.data=n.data||{},i=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(a=n.data={},i=n.garbageCollect=[],n.font=e),t.save(),t.font=e;let o=0;const c=r.length;let d,h,m,f,g;for(d=0;d<c;d++)if(f=r[d],f!=null&&!tr(f))o=m0(t,a,i,o,f);else if(tr(f))for(h=0,m=f.length;h<m;h++)g=f[h],g!=null&&!tr(g)&&(o=m0(t,a,i,o,g));t.restore();const y=i.length/2;if(y>r.length){for(d=0;d<y;d++)delete a[i[d]];i.splice(0,y)}return o}function Wc(t,e,r){const n=t.currentDevicePixelRatio,a=r!==0?Math.max(r/2,.5):0;return Math.round((e-a)*n)/n+a}function RD(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function tN(t,e,r,n){lB(t,e,r,n,null)}function lB(t,e,r,n,a){let i,o,c,d,h,m,f,g;const y=e.pointStyle,v=e.rotation,w=e.radius;let _=(v||0)*She;if(y&&typeof y=="object"&&(i=y.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(r,n),t.rotate(_),t.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),t.restore();return}if(!(isNaN(w)||w<=0)){switch(t.beginPath(),y){default:a?t.ellipse(r,n,a/2,w,0,0,Zs):t.arc(r,n,w,0,Zs),t.closePath();break;case"triangle":m=a?a/2:w,t.moveTo(r+Math.sin(_)*m,n-Math.cos(_)*w),_+=_D,t.lineTo(r+Math.sin(_)*m,n-Math.cos(_)*w),_+=_D,t.lineTo(r+Math.sin(_)*m,n-Math.cos(_)*w),t.closePath();break;case"rectRounded":h=w*.516,d=w-h,o=Math.cos(_+qc)*d,f=Math.cos(_+qc)*(a?a/2-h:d),c=Math.sin(_+qc)*d,g=Math.sin(_+qc)*(a?a/2-h:d),t.arc(r-f,n-c,h,_-Ss,_-Nr),t.arc(r+g,n-o,h,_-Nr,_),t.arc(r+f,n+c,h,_,_+Nr),t.arc(r-g,n+o,h,_+Nr,_+Ss),t.closePath();break;case"rect":if(!v){d=Math.SQRT1_2*w,m=a?a/2:d,t.rect(r-m,n-d,2*m,2*d);break}_+=qc;case"rectRot":f=Math.cos(_)*(a?a/2:w),o=Math.cos(_)*w,c=Math.sin(_)*w,g=Math.sin(_)*(a?a/2:w),t.moveTo(r-f,n-c),t.lineTo(r+g,n-o),t.lineTo(r+f,n+c),t.lineTo(r-g,n+o),t.closePath();break;case"crossRot":_+=qc;case"cross":f=Math.cos(_)*(a?a/2:w),o=Math.cos(_)*w,c=Math.sin(_)*w,g=Math.sin(_)*(a?a/2:w),t.moveTo(r-f,n-c),t.lineTo(r+f,n+c),t.moveTo(r+g,n-o),t.lineTo(r-g,n+o);break;case"star":f=Math.cos(_)*(a?a/2:w),o=Math.cos(_)*w,c=Math.sin(_)*w,g=Math.sin(_)*(a?a/2:w),t.moveTo(r-f,n-c),t.lineTo(r+f,n+c),t.moveTo(r+g,n-o),t.lineTo(r-g,n+o),_+=qc,f=Math.cos(_)*(a?a/2:w),o=Math.cos(_)*w,c=Math.sin(_)*w,g=Math.sin(_)*(a?a/2:w),t.moveTo(r-f,n-c),t.lineTo(r+f,n+c),t.moveTo(r+g,n-o),t.lineTo(r-g,n+o);break;case"line":o=a?a/2:Math.cos(_)*w,c=Math.sin(_)*w,t.moveTo(r-o,n-c),t.lineTo(r+o,n+c);break;case"dash":t.moveTo(r,n),t.lineTo(r+Math.cos(_)*(a?a/2:w),n+Math.sin(_)*w);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Oo(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function gy(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function xy(t){t.restore()}function Whe(t,e,r,n,a){if(!e)return t.lineTo(r.x,r.y);if(a==="middle"){const i=(e.x+r.x)/2;t.lineTo(i,e.y),t.lineTo(i,r.y)}else a==="after"!=!!n?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function Ghe(t,e,r,n){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function Yhe(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),as(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Khe(t,e,r,n,a){if(a.strikethrough||a.underline){const i=t.measureText(n),o=e-i.actualBoundingBoxLeft,c=e+i.actualBoundingBoxRight,d=r-i.actualBoundingBoxAscent,h=r+i.actualBoundingBoxDescent,m=a.strikethrough?(d+h)/2:h;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=a.decorationWidth||2,t.moveTo(o,m),t.lineTo(c,m),t.stroke()}}function Xhe(t,e){const r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function kd(t,e,r,n,a,i={}){const o=tr(e)?e:[e],c=i.strokeWidth>0&&i.strokeColor!=="";let d,h;for(t.save(),t.font=a.string,Yhe(t,i),d=0;d<o.length;++d)h=o[d],i.backdrop&&Xhe(t,i.backdrop),c&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),as(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(h,r,n,i.maxWidth)),t.fillText(h,r,n,i.maxWidth),Khe(t,r,n,h,i),n+=Number(a.lineHeight);t.restore()}function jm(t,e){const{x:r,y:n,w:a,h:i,radius:o}=e;t.arc(r+o.topLeft,n+o.topLeft,o.topLeft,1.5*Ss,Ss,!0),t.lineTo(r,n+i-o.bottomLeft),t.arc(r+o.bottomLeft,n+i-o.bottomLeft,o.bottomLeft,Ss,Nr,!0),t.lineTo(r+a-o.bottomRight,n+i),t.arc(r+a-o.bottomRight,n+i-o.bottomRight,o.bottomRight,Nr,0,!0),t.lineTo(r+a,n+o.topRight),t.arc(r+a-o.topRight,n+o.topRight,o.topRight,0,-Nr,!0),t.lineTo(r+o.topLeft,n)}const Zhe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Qhe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Jhe(t,e){const r=(""+t).match(Zhe);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const efe=t=>+t||0;function uS(t,e){const r={},n=ds(e),a=n?Object.keys(e):e,i=ds(t)?n?o=>Xt(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of a)r[o]=efe(i(o));return r}function cB(t){return uS(t,{top:"y",right:"x",bottom:"y",left:"x"})}function md(t){return uS(t,["topLeft","topRight","bottomLeft","bottomRight"])}function vn(t){const e=cB(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Yr(t,e){t=t||{},e=e||ar.font;let r=Xt(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let n=Xt(t.style,e.style);n&&!(""+n).match(Qhe)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const a={family:Xt(t.family,e.family),lineHeight:Jhe(Xt(t.lineHeight,e.lineHeight),r),size:r,style:n,weight:Xt(t.weight,e.weight),string:""};return a.string=Hhe(a),a}function Hf(t,e,r,n){let a,i,o;for(a=0,i=t.length;a<i;++a)if(o=t[a],o!==void 0&&o!==void 0)return o}function tfe(t,e,r){const{min:n,max:a}=t,i=ZF(e,(a-n)/2),o=(c,d)=>r&&c===0?0:c+d;return{min:o(n,-Math.abs(i)),max:o(a,i)}}function dc(t,e){return Object.assign(Object.create(t),e)}function hS(t,e=[""],r,n,a=()=>t[0]){const i=r||t;typeof n>"u"&&(n=fB("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:n,_getTarget:a,override:c=>hS([c,...t],e,i,n)};return new Proxy(o,{deleteProperty(c,d){return delete c[d],delete c._keys,delete t[0][d],!0},get(c,d){return uB(c,d,()=>cfe(d,e,t,c))},getOwnPropertyDescriptor(c,d){return Reflect.getOwnPropertyDescriptor(c._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(c,d){return MD(c).includes(d)},ownKeys(c){return MD(c)},set(c,d,h){const m=c._storage||(c._storage=a());return c[d]=m[d]=h,delete c._keys,!0}})}function th(t,e,r,n){const a={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:dB(t,n),setContext:i=>th(t,i,r,n),override:i=>th(t.override(i),e,r,n)};return new Proxy(a,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,c){return uB(i,o,()=>rfe(i,o,c))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,c){return t[o]=c,delete i[o],!0}})}function dB(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:n=e.indexable,_allKeys:a=e.allKeys}=t;return{allKeys:a,scriptable:r,indexable:n,isScriptable:rc(r)?r:()=>r,isIndexable:rc(n)?n:()=>n}}const sfe=(t,e)=>t?t+iS(e):e,fS=(t,e)=>ds(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function uB(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=r();return t[e]=n,n}function rfe(t,e,r){const{_proxy:n,_context:a,_subProxy:i,_descriptors:o}=t;let c=n[e];return rc(c)&&o.isScriptable(e)&&(c=nfe(e,c,t,r)),tr(c)&&c.length&&(c=afe(e,c,t,o.isIndexable)),fS(e,c)&&(c=th(c,a,i&&i[e],o)),c}function nfe(t,e,r,n){const{_proxy:a,_context:i,_subProxy:o,_stack:c}=r;if(c.has(t))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+t);c.add(t);let d=e(i,o||n);return c.delete(t),fS(t,d)&&(d=mS(a._scopes,a,t,d)),d}function afe(t,e,r,n){const{_proxy:a,_context:i,_subProxy:o,_descriptors:c}=r;if(typeof i.index<"u"&&n(t))return e[i.index%e.length];if(ds(e[0])){const d=e,h=a._scopes.filter(m=>m!==d);e=[];for(const m of d){const f=mS(h,a,t,m);e.push(th(f,i,o&&o[t],c))}}return e}function hB(t,e,r){return rc(t)?t(e,r):t}const ife=(t,e)=>t===!0?e:typeof t=="string"?sc(e,t):void 0;function ofe(t,e,r,n,a){for(const i of e){const o=ife(r,i);if(o){t.add(o);const c=hB(o._fallback,r,a);if(typeof c<"u"&&c!==r&&c!==n)return c}else if(o===!1&&typeof n<"u"&&r!==n)return null}return!1}function mS(t,e,r,n){const a=e._rootScopes,i=hB(e._fallback,r,n),o=[...t,...a],c=new Set;c.add(n);let d=DD(c,o,r,i||r,n);return d===null||typeof i<"u"&&i!==r&&(d=DD(c,o,i,d,n),d===null)?!1:hS(Array.from(c),[""],a,i,()=>lfe(e,r,n))}function DD(t,e,r,n,a){for(;r;)r=ofe(t,e,r,n,a);return r}function lfe(t,e,r){const n=t._getTarget();e in n||(n[e]={});const a=n[e];return tr(a)&&ds(r)?r:a||{}}function cfe(t,e,r,n){let a;for(const i of e)if(a=fB(sfe(i,t),r),typeof a<"u")return fS(t,a)?mS(r,n,t,a):a}function fB(t,e){for(const r of e){if(!r)continue;const n=r[t];if(typeof n<"u")return n}}function MD(t){let e=t._keys;return e||(e=t._keys=dfe(t._scopes)),e}function dfe(t){const e=new Set;for(const r of t)for(const n of Object.keys(r).filter(a=>!a.startsWith("_")))e.add(n);return Array.from(e)}function mB(t,e,r,n){const{iScale:a}=t,{key:i="r"}=this._parsing,o=new Array(n);let c,d,h,m;for(c=0,d=n;c<d;++c)h=c+r,m=e[h],o[c]={r:a.parse(sc(m,i),h)};return o}const ufe=Number.EPSILON||1e-14,sh=(t,e)=>e<t.length&&!t[e].skip&&t[e],pB=t=>t==="x"?"y":"x";function hfe(t,e,r,n){const a=t.skip?e:t,i=e,o=r.skip?e:r,c=J_(i,a),d=J_(o,i);let h=c/(c+d),m=d/(c+d);h=isNaN(h)?0:h,m=isNaN(m)?0:m;const f=n*h,g=n*m;return{previous:{x:i.x-f*(o.x-a.x),y:i.y-f*(o.y-a.y)},next:{x:i.x+g*(o.x-a.x),y:i.y+g*(o.y-a.y)}}}function ffe(t,e,r){const n=t.length;let a,i,o,c,d,h=sh(t,0);for(let m=0;m<n-1;++m)if(d=h,h=sh(t,m+1),!(!d||!h)){if(sm(e[m],0,ufe)){r[m]=r[m+1]=0;continue}a=r[m]/e[m],i=r[m+1]/e[m],c=Math.pow(a,2)+Math.pow(i,2),!(c<=9)&&(o=3/Math.sqrt(c),r[m]=a*o*e[m],r[m+1]=i*o*e[m])}}function mfe(t,e,r="x"){const n=pB(r),a=t.length;let i,o,c,d=sh(t,0);for(let h=0;h<a;++h){if(o=c,c=d,d=sh(t,h+1),!c)continue;const m=c[r],f=c[n];o&&(i=(m-o[r])/3,c[`cp1${r}`]=m-i,c[`cp1${n}`]=f-i*e[h]),d&&(i=(d[r]-m)/3,c[`cp2${r}`]=m+i,c[`cp2${n}`]=f+i*e[h])}}function pfe(t,e="x"){const r=pB(e),n=t.length,a=Array(n).fill(0),i=Array(n);let o,c,d,h=sh(t,0);for(o=0;o<n;++o)if(c=d,d=h,h=sh(t,o+1),!!d){if(h){const m=h[e]-d[e];a[o]=m!==0?(h[r]-d[r])/m:0}i[o]=c?h?Wi(a[o-1])!==Wi(a[o])?0:(a[o-1]+a[o])/2:a[o-1]:a[o]}ffe(t,a,i),mfe(t,i,e)}function Qg(t,e,r){return Math.max(Math.min(t,r),e)}function gfe(t,e){let r,n,a,i,o,c=Oo(t[0],e);for(r=0,n=t.length;r<n;++r)o=i,i=c,c=r<n-1&&Oo(t[r+1],e),i&&(a=t[r],o&&(a.cp1x=Qg(a.cp1x,e.left,e.right),a.cp1y=Qg(a.cp1y,e.top,e.bottom)),c&&(a.cp2x=Qg(a.cp2x,e.left,e.right),a.cp2y=Qg(a.cp2y,e.top,e.bottom)))}function xfe(t,e,r,n,a){let i,o,c,d;if(e.spanGaps&&(t=t.filter(h=>!h.skip)),e.cubicInterpolationMode==="monotone")pfe(t,a);else{let h=n?t[t.length-1]:t[0];for(i=0,o=t.length;i<o;++i)c=t[i],d=hfe(h,c,t[Math.min(i+1,o-(n?0:1))%o],e.tension),c.cp1x=d.previous.x,c.cp1y=d.previous.y,c.cp2x=d.next.x,c.cp2y=d.next.y,h=c}e.capBezierPoints&&gfe(t,r)}function pS(){return typeof window<"u"&&typeof document<"u"}function gS(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function p0(t,e,r){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[r])):n=t,n}const yy=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function yfe(t,e){return yy(t).getPropertyValue(e)}const bfe=["top","right","bottom","left"];function pd(t,e,r){const n={};r=r?"-"+r:"";for(let a=0;a<4;a++){const i=bfe[a];n[i]=parseFloat(t[e+"-"+i+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const vfe=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function wfe(t,e){const r=t.touches,n=r&&r.length?r[0]:t,{offsetX:a,offsetY:i}=n;let o=!1,c,d;if(vfe(a,i,t.target))c=a,d=i;else{const h=e.getBoundingClientRect();c=n.clientX-h.left,d=n.clientY-h.top,o=!0}return{x:c,y:d,box:o}}function ed(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:n}=e,a=yy(r),i=a.boxSizing==="border-box",o=pd(a,"padding"),c=pd(a,"border","width"),{x:d,y:h,box:m}=wfe(t,r),f=o.left+(m&&c.left),g=o.top+(m&&c.top);let{width:y,height:v}=e;return i&&(y-=o.width+c.width,v-=o.height+c.height),{x:Math.round((d-f)/y*r.width/n),y:Math.round((h-g)/v*r.height/n)}}function jfe(t,e,r){let n,a;if(e===void 0||r===void 0){const i=t&&gS(t);if(!i)e=t.clientWidth,r=t.clientHeight;else{const o=i.getBoundingClientRect(),c=yy(i),d=pd(c,"border","width"),h=pd(c,"padding");e=o.width-h.width-d.width,r=o.height-h.height-d.height,n=p0(c.maxWidth,i,"clientWidth"),a=p0(c.maxHeight,i,"clientHeight")}}return{width:e,height:r,maxWidth:n||f0,maxHeight:a||f0}}const Hl=t=>Math.round(t*10)/10;function _fe(t,e,r,n){const a=yy(t),i=pd(a,"margin"),o=p0(a.maxWidth,t,"clientWidth")||f0,c=p0(a.maxHeight,t,"clientHeight")||f0,d=jfe(t,e,r);let{width:h,height:m}=d;if(a.boxSizing==="content-box"){const g=pd(a,"border","width"),y=pd(a,"padding");h-=y.width+g.width,m-=y.height+g.height}return h=Math.max(0,h-i.width),m=Math.max(0,n?h/n:m-i.height),h=Hl(Math.min(h,o,d.maxWidth)),m=Hl(Math.min(m,c,d.maxHeight)),h&&!m&&(m=Hl(h/2)),(e!==void 0||r!==void 0)&&n&&d.height&&m>d.height&&(m=d.height,h=Hl(Math.floor(m*n))),{width:h,height:m}}function PD(t,e,r){const n=e||1,a=Hl(t.height*n),i=Hl(t.width*n);t.height=Hl(t.height),t.width=Hl(t.width);const o=t.canvas;return o.style&&(r||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||o.height!==a||o.width!==i?(t.currentDevicePixelRatio=n,o.height=a,o.width=i,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const Nfe=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};pS()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function OD(t,e){const r=yfe(t,e),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function td(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function Sfe(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:n==="middle"?r<.5?t.y:e.y:n==="after"?r<1?t.y:e.y:r>0?e.y:t.y}}function kfe(t,e,r,n){const a={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},o=td(t,a,r),c=td(a,i,r),d=td(i,e,r),h=td(o,c,r),m=td(c,d,r);return td(h,m,r)}const Cfe=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},Afe=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Uu(t,e,r){return t?Cfe(e,r):Afe()}function gB(t,e){let r,n;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=n)}function xB(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function yB(t){return t==="angle"?{between:wm,compare:Ehe,normalize:hn}:{between:Mo,compare:(e,r)=>e-r,normalize:e=>e}}function LD({start:t,end:e,count:r,loop:n,style:a}){return{start:t%r,end:e%r,loop:n&&(e-t+1)%r===0,style:a}}function Efe(t,e,r){const{property:n,start:a,end:i}=r,{between:o,normalize:c}=yB(n),d=e.length;let{start:h,end:m,loop:f}=t,g,y;if(f){for(h+=d,m+=d,g=0,y=d;g<y&&o(c(e[h%d][n]),a,i);++g)h--,m--;h%=d,m%=d}return m<h&&(m+=d),{start:h,end:m,loop:f,style:t.style}}function bB(t,e,r){if(!r)return[t];const{property:n,start:a,end:i}=r,o=e.length,{compare:c,between:d,normalize:h}=yB(n),{start:m,end:f,loop:g,style:y}=Efe(t,e,r),v=[];let w=!1,_=null,b,N,k;const S=()=>d(a,k,b)&&c(a,k)!==0,C=()=>c(i,b)===0||d(i,k,b),I=()=>w||S(),E=()=>!w||C();for(let U=m,T=m;U<=f;++U)N=e[U%o],!N.skip&&(b=h(N[n]),b!==k&&(w=d(b,a,i),_===null&&I()&&(_=c(b,a)===0?U:T),_!==null&&E()&&(v.push(LD({start:_,end:U,loop:g,count:o,style:y})),_=null),T=U,k=b));return _!==null&&v.push(LD({start:_,end:f,loop:g,count:o,style:y})),v}function vB(t,e){const r=[],n=t.segments;for(let a=0;a<n.length;a++){const i=bB(n[a],t.points,e);i.length&&r.push(...i)}return r}function Tfe(t,e,r,n){let a=0,i=e-1;if(r&&!n)for(;a<e&&!t[a].skip;)a++;for(;a<e&&t[a].skip;)a++;for(a%=e,r&&(i+=a);i>a&&t[i%e].skip;)i--;return i%=e,{start:a,end:i}}function Rfe(t,e,r,n){const a=t.length,i=[];let o=e,c=t[e],d;for(d=e+1;d<=r;++d){const h=t[d%a];h.skip||h.stop?c.skip||(n=!1,i.push({start:e%a,end:(d-1)%a,loop:n}),e=o=h.stop?d:null):(o=d,c.skip&&(e=d)),c=h}return o!==null&&i.push({start:e%a,end:o%a,loop:n}),i}function Dfe(t,e){const r=t.points,n=t.options.spanGaps,a=r.length;if(!a)return[];const i=!!t._loop,{start:o,end:c}=Tfe(r,a,i,n);if(n===!0)return FD(t,[{start:o,end:c,loop:i}],r,e);const d=c<o?c+a:c,h=!!t._fullLoop&&o===0&&c===a-1;return FD(t,Rfe(r,o,d,h),r,e)}function FD(t,e,r,n){return!n||!n.setContext||!r?e:Mfe(t,e,r,n)}function Mfe(t,e,r,n){const a=t._chart.getContext(),i=BD(t.options),{_datasetIndex:o,options:{spanGaps:c}}=t,d=r.length,h=[];let m=i,f=e[0].start,g=f;function y(v,w,_,b){const N=c?-1:1;if(v!==w){for(v+=d;r[v%d].skip;)v-=N;for(;r[w%d].skip;)w+=N;v%d!==w%d&&(h.push({start:v%d,end:w%d,loop:_,style:b}),m=b,f=w%d)}}for(const v of e){f=c?f:v.start;let w=r[f%d],_;for(g=f+1;g<=v.end;g++){const b=r[g%d];_=BD(n.setContext(dc(a,{type:"segment",p0:w,p1:b,p0DataIndex:(g-1)%d,p1DataIndex:g%d,datasetIndex:o}))),Pfe(_,m)&&y(f,g-1,v.loop,m),w=b,m=_}f<g-1&&y(f,g-1,v.loop,m)}return h}function BD(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Pfe(t,e){if(!e)return!1;const r=[],n=function(a,i){return dS(i)?(r.includes(i)||r.push(i),r.indexOf(i)):i};return JSON.stringify(t,n)!==JSON.stringify(e,n)}function Jg(t,e,r){return t.options.clip?t[r]:e[r]}function Ofe(t,e){const{xScale:r,yScale:n}=t;return r&&n?{left:Jg(r,e,"left"),right:Jg(r,e,"right"),top:Jg(n,e,"top"),bottom:Jg(n,e,"bottom")}:e}function wB(t,e){const r=e._clip;if(r.disabled)return!1;const n=Ofe(e,t.chartArea);return{left:r.left===!1?0:n.left-(r.left===!0?0:r.left),right:r.right===!1?t.width:n.right+(r.right===!0?0:r.right),top:r.top===!1?0:n.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?t.height:n.bottom+(r.bottom===!0?0:r.bottom)}}class Lfe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,n,a){const i=r.listeners[a],o=r.duration;i.forEach(c=>c({chart:e,initial:r.initial,numSteps:o,currentStep:Math.min(n-r.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=rB.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((n,a)=>{if(!n.running||!n.items.length)return;const i=n.items;let o=i.length-1,c=!1,d;for(;o>=0;--o)d=i[o],d._active?(d._total>n.duration&&(n.duration=d._total),d.tick(e),c=!0):(i[o]=i[i.length-1],i.pop());c&&(a.draw(),this._notify(a,n,e,"progress")),i.length||(n.running=!1,this._notify(a,n,e,"complete"),n.initial=!1),r+=i.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let n=r.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,n)),n}listen(e,r,n){this._getAnims(e).listeners[r].push(n)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,a)=>Math.max(n,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const n=r.items;let a=n.length-1;for(;a>=0;--a)n[a].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var Eo=new Lfe;const ID="transparent",Ffe={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const n=ED(t||ID),a=n.valid&&ED(e||ID);return a&&a.valid?a.mix(n,r).hexString():e},number(t,e,r){return t+(e-t)*r}};class Bfe{constructor(e,r,n,a){const i=r[n];a=Hf([e.to,a,i,e.from]);const o=Hf([e.from,i,a]);this._active=!0,this._fn=e.fn||Ffe[e.type||typeof o],this._easing=rm[e.easing]||rm.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=n,this._from=o,this._to=a,this._promises=void 0}active(){return this._active}update(e,r,n){if(this._active){this._notify(!1);const a=this._target[this._prop],i=n-this._start,o=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Hf([e.to,r,a,e.from]),this._from=Hf([e.from,a,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,n=this._duration,a=this._prop,i=this._from,o=this._loop,c=this._to;let d;if(this._active=i!==c&&(o||r<n),!this._active){this._target[a]=c,this._notify(!0);return}if(r<0){this._target[a]=i;return}d=r/n%2,d=o&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[a]=this._fn(i,c,d)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,n)=>{e.push({res:r,rej:n})})}_notify(e){const r=e?"res":"rej",n=this._promises||[];for(let a=0;a<n.length;a++)n[a][r]()}}class jB{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!ds(e))return;const r=Object.keys(ar.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const i=e[a];if(!ds(i))return;const o={};for(const c of r)o[c]=i[c];(tr(i.properties)&&i.properties||[a]).forEach(c=>{(c===a||!n.has(c))&&n.set(c,o)})})}_animateOptions(e,r){const n=r.options,a=zfe(e,n);if(!a)return[];const i=this._createAnimations(a,n);return n.$shared&&Ife(e.options.$animations,n).then(()=>{e.options=n},()=>{}),i}_createAnimations(e,r){const n=this._properties,a=[],i=e.$animations||(e.$animations={}),o=Object.keys(r),c=Date.now();let d;for(d=o.length-1;d>=0;--d){const h=o[d];if(h.charAt(0)==="$")continue;if(h==="options"){a.push(...this._animateOptions(e,r));continue}const m=r[h];let f=i[h];const g=n.get(h);if(f)if(g&&f.active()){f.update(g,m,c);continue}else f.cancel();if(!g||!g.duration){e[h]=m;continue}i[h]=f=new Bfe(g,e,h,m),a.push(f)}return a}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const n=this._createAnimations(e,r);if(n.length)return Eo.add(this._chart,n),!0}}function Ife(t,e){const r=[],n=Object.keys(e);for(let a=0;a<n.length;a++){const i=t[n[a]];i&&i.active()&&r.push(i.wait())}return Promise.all(r)}function zfe(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function zD(t,e){const r=t&&t.options||{},n=r.reverse,a=r.min===void 0?e:0,i=r.max===void 0?e:0;return{start:n?i:a,end:n?a:i}}function Ufe(t,e,r){if(r===!1)return!1;const n=zD(t,r),a=zD(e,r);return{top:a.end,right:n.end,bottom:a.start,left:n.start}}function $fe(t){let e,r,n,a;return ds(t)?(e=t.top,r=t.right,n=t.bottom,a=t.left):e=r=n=a=t,{top:e,right:r,bottom:n,left:a,disabled:t===!1}}function _B(t,e){const r=[],n=t._getSortedDatasetMetas(e);let a,i;for(a=0,i=n.length;a<i;++a)r.push(n[a].index);return r}function UD(t,e,r,n={}){const a=t.keys,i=n.mode==="single";let o,c,d,h;if(e===null)return;let m=!1;for(o=0,c=a.length;o<c;++o){if(d=+a[o],d===r){if(m=!0,n.all)continue;break}h=t.values[d],yr(h)&&(i||e===0||Wi(e)===Wi(h))&&(e+=h)}return!m&&!n.all?0:e}function Vfe(t,e){const{iScale:r,vScale:n}=e,a=r.axis==="x"?"x":"y",i=n.axis==="x"?"x":"y",o=Object.keys(t),c=new Array(o.length);let d,h,m;for(d=0,h=o.length;d<h;++d)m=o[d],c[d]={[a]:m,[i]:t[m]};return c}function j1(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function Hfe(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function qfe(t){const{min:e,max:r,minDefined:n,maxDefined:a}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:a?r:Number.POSITIVE_INFINITY}}function Wfe(t,e,r){const n=t[e]||(t[e]={});return n[r]||(n[r]={})}function $D(t,e,r,n){for(const a of e.getMatchingVisibleMetas(n).reverse()){const i=t[a.index];if(r&&i>0||!r&&i<0)return a.index}return null}function VD(t,e){const{chart:r,_cachedMeta:n}=t,a=r._stacks||(r._stacks={}),{iScale:i,vScale:o,index:c}=n,d=i.axis,h=o.axis,m=Hfe(i,o,n),f=e.length;let g;for(let y=0;y<f;++y){const v=e[y],{[d]:w,[h]:_}=v,b=v._stacks||(v._stacks={});g=b[h]=Wfe(a,m,w),g[c]=_,g._top=$D(g,o,!0,n.type),g._bottom=$D(g,o,!1,n.type);const N=g._visualValues||(g._visualValues={});N[c]=_}}function _1(t,e){const r=t.scales;return Object.keys(r).filter(n=>r[n].axis===e).shift()}function Gfe(t,e){return dc(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Yfe(t,e,r){return dc(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function Df(t,e){const r=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const a of e){const i=a._stacks;if(!i||i[n]===void 0||i[n][r]===void 0)return;delete i[n][r],i[n]._visualValues!==void 0&&i[n]._visualValues[r]!==void 0&&delete i[n]._visualValues[r]}}}const N1=t=>t==="reset"||t==="none",HD=(t,e)=>e?t:Object.assign({},t),Kfe=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:_B(r,!0),values:null};class uc{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=j1(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Df(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,n=this.getDataset(),a=(f,g,y,v)=>f==="x"?g:f==="r"?v:y,i=r.xAxisID=Xt(n.xAxisID,_1(e,"x")),o=r.yAxisID=Xt(n.yAxisID,_1(e,"y")),c=r.rAxisID=Xt(n.rAxisID,_1(e,"r")),d=r.indexAxis,h=r.iAxisID=a(d,i,o,c),m=r.vAxisID=a(d,o,i,c);r.xScale=this.getScaleForId(i),r.yScale=this.getScaleForId(o),r.rScale=this.getScaleForId(c),r.iScale=this.getScaleForId(h),r.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&kD(this._data,this),e._stacked&&Df(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),n=this._data;if(ds(r)){const a=this._cachedMeta;this._data=Vfe(r,a)}else if(n!==r){if(n){kD(n,this);const a=this._cachedMeta;Df(a),a._parsed=[]}r&&Object.isExtensible(r)&&Mhe(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,n=this.getDataset();let a=!1;this._dataCheck();const i=r._stacked;r._stacked=j1(r.vScale,r),r.stack!==n.stack&&(a=!0,Df(r),r.stack=n.stack),this._resyncElements(e),(a||i!==r._stacked)&&(VD(this,r._parsed),r._stacked=j1(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:n,_data:a}=this,{iScale:i,_stacked:o}=n,c=i.axis;let d=e===0&&r===a.length?!0:n._sorted,h=e>0&&n._parsed[e-1],m,f,g;if(this._parsing===!1)n._parsed=a,n._sorted=!0,g=a;else{tr(a[e])?g=this.parseArrayData(n,a,e,r):ds(a[e])?g=this.parseObjectData(n,a,e,r):g=this.parsePrimitiveData(n,a,e,r);const y=()=>f[c]===null||h&&f[c]<h[c];for(m=0;m<r;++m)n._parsed[m+e]=f=g[m],d&&(y()&&(d=!1),h=f);n._sorted=d}o&&VD(this,g)}parsePrimitiveData(e,r,n,a){const{iScale:i,vScale:o}=e,c=i.axis,d=o.axis,h=i.getLabels(),m=i===o,f=new Array(a);let g,y,v;for(g=0,y=a;g<y;++g)v=g+n,f[g]={[c]:m||i.parse(h[v],v),[d]:o.parse(r[v],v)};return f}parseArrayData(e,r,n,a){const{xScale:i,yScale:o}=e,c=new Array(a);let d,h,m,f;for(d=0,h=a;d<h;++d)m=d+n,f=r[m],c[d]={x:i.parse(f[0],m),y:o.parse(f[1],m)};return c}parseObjectData(e,r,n,a){const{xScale:i,yScale:o}=e,{xAxisKey:c="x",yAxisKey:d="y"}=this._parsing,h=new Array(a);let m,f,g,y;for(m=0,f=a;m<f;++m)g=m+n,y=r[g],h[m]={x:i.parse(sc(y,c),g),y:o.parse(sc(y,d),g)};return h}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,n){const a=this.chart,i=this._cachedMeta,o=r[e.axis],c={keys:_B(a,!0),values:r._stacks[e.axis]._visualValues};return UD(c,o,i.index,{mode:n})}updateRangeFromParsed(e,r,n,a){const i=n[r.axis];let o=i===null?NaN:i;const c=a&&n._stacks[r.axis];a&&c&&(a.values=c,o=UD(a,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,r){const n=this._cachedMeta,a=n._parsed,i=n._sorted&&e===n.iScale,o=a.length,c=this._getOtherScale(e),d=Kfe(r,n,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:f}=qfe(c);let g,y;function v(){y=a[g];const w=y[c.axis];return!yr(y[e.axis])||m>w||f<w}for(g=0;g<o&&!(!v()&&(this.updateRangeFromParsed(h,e,y,d),i));++g);if(i){for(g=o-1;g>=0;--g)if(!v()){this.updateRangeFromParsed(h,e,y,d);break}}return h}getAllParsedValues(e){const r=this._cachedMeta._parsed,n=[];let a,i,o;for(a=0,i=r.length;a<i;++a)o=r[a][e.axis],yr(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,n=r.iScale,a=r.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:a?""+a.getLabelForValue(i[a.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=$fe(Xt(this.options.clip,Ufe(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,n=this._cachedMeta,a=n.data||[],i=r.chartArea,o=[],c=this._drawStart||0,d=this._drawCount||a.length-c,h=this.options.drawActiveElementsOnTop;let m;for(n.dataset&&n.dataset.draw(e,i,c,d),m=c;m<c+d;++m){const f=a[m];f.hidden||(f.active&&h?o.push(f):f.draw(e,i))}for(m=0;m<o.length;++m)o[m].draw(e,i)}getStyle(e,r){const n=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,r,n){const a=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=Yfe(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=a.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=Gfe(this.chart.getContext(),this.index)),i.dataset=a,i.index=i.datasetIndex=this.index;return i.active=!!r,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",n){const a=r==="active",i=this._cachedDataOpts,o=e+"-"+r,c=i[o],d=this.enableOptionSharing&&vm(n);if(c)return HD(c,d);const h=this.chart.config,m=h.datasetElementScopeKeys(this._type,e),f=a?[`${e}Hover`,"hover",e,""]:[e,""],g=h.getOptionScopes(this.getDataset(),m),y=Object.keys(ar.elements[e]),v=()=>this.getContext(n,a,r),w=h.resolveNamedOptions(g,y,v,f);return w.$shared&&(w.$shared=d,i[o]=Object.freeze(HD(w,d))),w}_resolveAnimations(e,r,n){const a=this.chart,i=this._cachedDataOpts,o=`animation-${r}`,c=i[o];if(c)return c;let d;if(a.options.animation!==!1){const m=this.chart.config,f=m.datasetAnimationScopeKeys(this._type,r),g=m.getOptionScopes(this.getDataset(),f);d=m.createResolver(g,this.getContext(e,n,r))}const h=new jB(a,d&&d.animations);return d&&d._cacheable&&(i[o]=Object.freeze(h)),h}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||N1(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const n=this.resolveDataElementOptions(e,r),a=this._sharedOptions,i=this.getSharedOptions(n),o=this.includeOptions(r,i)||i!==a;return this.updateSharedOptions(i,r,n),{sharedOptions:i,includeOptions:o}}updateElement(e,r,n,a){N1(a)?Object.assign(e,n):this._resolveAnimations(r,a).update(e,n)}updateSharedOptions(e,r,n){e&&!N1(r)&&this._resolveAnimations(void 0,r).update(e,n)}_setStyle(e,r,n,a){e.active=a;const i=this.getStyle(r,a);this._resolveAnimations(r,n,a).update(e,{options:!a&&this.getSharedOptions(i)||i})}removeHoverStyle(e,r,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,r,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,n=this._cachedMeta.data;for(const[c,d,h]of this._syncList)this[c](d,h);this._syncList=[];const a=n.length,i=r.length,o=Math.min(i,a);o&&this.parse(0,o),i>a?this._insertElements(a,i-a,e):i<a&&this._removeElements(i,a-i)}_insertElements(e,r,n=!0){const a=this._cachedMeta,i=a.data,o=e+r;let c;const d=h=>{for(h.length+=r,c=h.length-1;c>=o;c--)h[c]=h[c-r]};for(d(i),c=e;c<o;++c)i[c]=new this.dataElementType;this._parsing&&d(a._parsed),this.parse(e,r),n&&this.updateElements(i,e,r,"reset")}updateElements(e,r,n,a){}_removeElements(e,r){const n=this._cachedMeta;if(this._parsing){const a=n._parsed.splice(e,r);n._stacked&&Df(n,a)}n.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,n,a]=e;this[r](n,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Xfe(t,e){if(!t._cache.$bar){const r=t.getMatchingVisibleMetas(e);let n=[];for(let a=0,i=r.length;a<i;a++)n=n.concat(r[a].controller.getAllParsedValues(t));t._cache.$bar=sB(n.sort((a,i)=>a-i))}return t._cache.$bar}function Zfe(t){const e=t.iScale,r=Xfe(e,t.type);let n=e._length,a,i,o,c;const d=()=>{o===32767||o===-32768||(vm(c)&&(n=Math.min(n,Math.abs(o-c)||n)),c=o)};for(a=0,i=r.length;a<i;++a)o=e.getPixelForValue(r[a]),d();for(c=void 0,a=0,i=e.ticks.length;a<i;++a)o=e.getPixelForTick(a),d();return n}function Qfe(t,e,r,n){const a=r.barThickness;let i,o;return as(a)?(i=e.min*r.categoryPercentage,o=r.barPercentage):(i=a*n,o=1),{chunk:i/n,ratio:o,start:e.pixels[t]-i/2}}function Jfe(t,e,r,n){const a=e.pixels,i=a[t];let o=t>0?a[t-1]:null,c=t<a.length-1?a[t+1]:null;const d=r.categoryPercentage;o===null&&(o=i-(c===null?e.end-e.start:c-i)),c===null&&(c=i+i-o);const h=i-(i-Math.min(o,c))/2*d;return{chunk:Math.abs(c-o)/2*d/n,ratio:r.barPercentage,start:h}}function eme(t,e,r,n){const a=r.parse(t[0],n),i=r.parse(t[1],n),o=Math.min(a,i),c=Math.max(a,i);let d=o,h=c;Math.abs(o)>Math.abs(c)&&(d=c,h=o),e[r.axis]=h,e._custom={barStart:d,barEnd:h,start:a,end:i,min:o,max:c}}function NB(t,e,r,n){return tr(t)?eme(t,e,r,n):e[r.axis]=r.parse(t,n),e}function qD(t,e,r,n){const a=t.iScale,i=t.vScale,o=a.getLabels(),c=a===i,d=[];let h,m,f,g;for(h=r,m=r+n;h<m;++h)g=e[h],f={},f[a.axis]=c||a.parse(o[h],h),d.push(NB(g,f,i,h));return d}function S1(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function tme(t,e,r){return t!==0?Wi(t):(e.isHorizontal()?1:-1)*(e.min>=r?1:-1)}function sme(t){let e,r,n,a,i;return t.horizontal?(e=t.base>t.x,r="left",n="right"):(e=t.base<t.y,r="bottom",n="top"),e?(a="end",i="start"):(a="start",i="end"),{start:r,end:n,reverse:e,top:a,bottom:i}}function rme(t,e,r,n){let a=e.borderSkipped;const i={};if(!a){t.borderSkipped=i;return}if(a===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:c,reverse:d,top:h,bottom:m}=sme(t);a==="middle"&&r&&(t.enableBorderRadius=!0,(r._top||0)===n?a=h:(r._bottom||0)===n?a=m:(i[WD(m,o,c,d)]=!0,a=h)),i[WD(a,o,c,d)]=!0,t.borderSkipped=i}function WD(t,e,r,n){return n?(t=nme(t,e,r),t=GD(t,r,e)):t=GD(t,e,r),t}function nme(t,e,r){return t===e?r:t===r?e:t}function GD(t,e,r){return t==="start"?e:t==="end"?r:t}function ame(t,{inflateAmount:e},r){t.inflateAmount=e==="auto"?r===1?.33:0:e}class ime extends uc{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,r,n,a){return qD(e,r,n,a)}parseArrayData(e,r,n,a){return qD(e,r,n,a)}parseObjectData(e,r,n,a){const{iScale:i,vScale:o}=e,{xAxisKey:c="x",yAxisKey:d="y"}=this._parsing,h=i.axis==="x"?c:d,m=o.axis==="x"?c:d,f=[];let g,y,v,w;for(g=n,y=n+a;g<y;++g)w=r[g],v={},v[i.axis]=i.parse(sc(w,h),g),f.push(NB(sc(w,m),v,o,g));return f}updateRangeFromParsed(e,r,n,a){super.updateRangeFromParsed(e,r,n,a);const i=n._custom;i&&r===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const r=this._cachedMeta,{iScale:n,vScale:a}=r,i=this.getParsed(e),o=i._custom,c=S1(o)?"["+o.start+", "+o.end+"]":""+a.getLabelForValue(i[a.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,e)}updateElements(e,r,n,a){const i=a==="reset",{index:o,_cachedMeta:{vScale:c}}=this,d=c.getBasePixel(),h=c.isHorizontal(),m=this._getRuler(),{sharedOptions:f,includeOptions:g}=this._getSharedOptions(r,a);for(let y=r;y<r+n;y++){const v=this.getParsed(y),w=i||as(v[c.axis])?{base:d,head:d}:this._calculateBarValuePixels(y),_=this._calculateBarIndexPixels(y,m),b=(v._stacks||{})[c.axis],N={horizontal:h,base:w.base,enableBorderRadius:!b||S1(v._custom)||o===b._top||o===b._bottom,x:h?w.head:_.center,y:h?_.center:w.head,height:h?_.size:Math.abs(w.size),width:h?Math.abs(w.size):_.size};g&&(N.options=f||this.resolveDataElementOptions(y,e[y].active?"active":a));const k=N.options||e[y].options;rme(N,k,b,o),ame(N,k,m.ratio),this.updateElement(e[y],y,N,a)}}_getStacks(e,r){const{iScale:n}=this._cachedMeta,a=n.getMatchingVisibleMetas(this._type).filter(m=>m.controller.options.grouped),i=n.options.stacked,o=[],c=this._cachedMeta.controller.getParsed(r),d=c&&c[n.axis],h=m=>{const f=m._parsed.find(y=>y[n.axis]===d),g=f&&f[m.vScale.axis];if(as(g)||isNaN(g))return!0};for(const m of a)if(!(r!==void 0&&h(m))&&((i===!1||o.indexOf(m.stack)===-1||i===void 0&&m.stack===void 0)&&o.push(m.stack),m.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,r=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===r).shift()}_getAxis(){const e={},r=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[Xt(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,r)]=!0;return Object.keys(e)}_getStackIndex(e,r,n){const a=this._getStacks(e,n),i=r!==void 0?a.indexOf(r):-1;return i===-1?a.length-1:i}_getRuler(){const e=this.options,r=this._cachedMeta,n=r.iScale,a=[];let i,o;for(i=0,o=r.data.length;i<o;++i)a.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const c=e.barThickness;return{min:c||Zfe(r),pixels:a,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:r,_stacked:n,index:a},options:{base:i,minBarLength:o}}=this,c=i||0,d=this.getParsed(e),h=d._custom,m=S1(h);let f=d[r.axis],g=0,y=n?this.applyStack(r,d,n):f,v,w;y!==f&&(g=y-f,y=f),m&&(f=h.barStart,y=h.barEnd-h.barStart,f!==0&&Wi(f)!==Wi(h.barEnd)&&(g=0),g+=f);const _=!as(i)&&!m?i:g;let b=r.getPixelForValue(_);if(this.chart.getDataVisibility(e)?v=r.getPixelForValue(g+y):v=b,w=v-b,Math.abs(w)<o){w=tme(w,r,c)*o,f===c&&(b-=w/2);const N=r.getPixelForDecimal(0),k=r.getPixelForDecimal(1),S=Math.min(N,k),C=Math.max(N,k);b=Math.max(Math.min(b,C),S),v=b+w,n&&!m&&(d._stacks[r.axis]._visualValues[a]=r.getValueForPixel(v)-r.getValueForPixel(b))}if(b===r.getPixelForValue(c)){const N=Wi(w)*r.getLineWidthForValue(c)/2;b+=N,w-=N}return{size:w,base:b,head:v,center:v+w/2}}_calculateBarIndexPixels(e,r){const n=r.scale,a=this.options,i=a.skipNull,o=Xt(a.maxBarThickness,1/0);let c,d;const h=this._getAxisCount();if(r.grouped){const m=i?this._getStackCount(e):r.stackCount,f=a.barThickness==="flex"?Jfe(e,r,a,m*h):Qfe(e,r,a,m*h),g=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,y=this._getAxis().indexOf(Xt(g,this.getFirstScaleIdForIndexAxis())),v=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+y;c=f.start+f.chunk*v+f.chunk/2,d=Math.min(o,f.chunk*f.ratio)}else c=n.getPixelForValue(this.getParsed(e)[n.axis],e),d=Math.min(o,r.min*r.ratio);return{base:c-d/2,head:c+d/2,center:c,size:d}}draw(){const e=this._cachedMeta,r=e.vScale,n=e.data,a=n.length;let i=0;for(;i<a;++i)this.getParsed(i)[r.axis]!==null&&!n[i].hidden&&n[i].draw(this._ctx)}}class ome extends uc{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,r,n,a){const i=super.parsePrimitiveData(e,r,n,a);for(let o=0;o<i.length;o++)i[o]._custom=this.resolveDataElementOptions(o+n).radius;return i}parseArrayData(e,r,n,a){const i=super.parseArrayData(e,r,n,a);for(let o=0;o<i.length;o++){const c=r[n+o];i[o]._custom=Xt(c[2],this.resolveDataElementOptions(o+n).radius)}return i}parseObjectData(e,r,n,a){const i=super.parseObjectData(e,r,n,a);for(let o=0;o<i.length;o++){const c=r[n+o];i[o]._custom=Xt(c&&c.r&&+c.r,this.resolveDataElementOptions(o+n).radius)}return i}getMaxOverflow(){const e=this._cachedMeta.data;let r=0;for(let n=e.length-1;n>=0;--n)r=Math.max(r,e[n].size(this.resolveDataElementOptions(n))/2);return r>0&&r}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:i}=r,o=this.getParsed(e),c=a.getLabelForValue(o.x),d=i.getLabelForValue(o.y),h=o._custom;return{label:n[e]||"",value:"("+c+", "+d+(h?", "+h:"")+")"}}update(e){const r=this._cachedMeta.data;this.updateElements(r,0,r.length,e)}updateElements(e,r,n,a){const i=a==="reset",{iScale:o,vScale:c}=this._cachedMeta,{sharedOptions:d,includeOptions:h}=this._getSharedOptions(r,a),m=o.axis,f=c.axis;for(let g=r;g<r+n;g++){const y=e[g],v=!i&&this.getParsed(g),w={},_=w[m]=i?o.getPixelForDecimal(.5):o.getPixelForValue(v[m]),b=w[f]=i?c.getBasePixel():c.getPixelForValue(v[f]);w.skip=isNaN(_)||isNaN(b),h&&(w.options=d||this.resolveDataElementOptions(g,y.active?"active":a),i&&(w.options.radius=0)),this.updateElement(y,g,w,a)}}resolveDataElementOptions(e,r){const n=this.getParsed(e);let a=super.resolveDataElementOptions(e,r);a.$shared&&(a=Object.assign({},a,{$shared:!1}));const i=a.radius;return r!=="active"&&(a.radius=0),a.radius+=Xt(n&&n._custom,i),a}}function lme(t,e,r){let n=1,a=1,i=0,o=0;if(e<Zs){const c=t,d=c+e,h=Math.cos(c),m=Math.sin(c),f=Math.cos(d),g=Math.sin(d),y=(k,S,C)=>wm(k,c,d,!0)?1:Math.max(S,S*r,C,C*r),v=(k,S,C)=>wm(k,c,d,!0)?-1:Math.min(S,S*r,C,C*r),w=y(0,h,f),_=y(Nr,m,g),b=v(Ss,h,f),N=v(Ss+Nr,m,g);n=(w-b)/2,a=(_-N)/2,i=-(w+b)/2,o=-(_+N)/2}return{ratioX:n,ratioY:a,offsetX:i,offsetY:o}}class xS extends uc{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data,{labels:{pointStyle:n,textAlign:a,color:i,useBorderRadius:o,borderRadius:c}}=e.legend.options;return r.labels.length&&r.datasets.length?r.labels.map((d,h)=>{const f=e.getDatasetMeta(0).controller.getStyle(h);return{text:d,fillStyle:f.backgroundColor,fontColor:i,hidden:!e.getDataVisibility(h),lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:f.borderWidth,strokeStyle:f.borderColor,textAlign:a,pointStyle:n,borderRadius:o&&(c||f.borderRadius),index:h}}):[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}}};constructor(e,r){super(e,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){const n=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=n;else{let i=d=>+n[d];if(ds(n[e])){const{key:d="value"}=this._parsing;i=h=>+sc(n[h],d)}let o,c;for(o=e,c=e+r;o<c;++o)a._parsed[o]=i(o)}}_getRotation(){return oi(this.options.rotation-90)}_getCircumference(){return oi(this.options.circumference)}_getRotationExtents(){let e=Zs,r=-Zs;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const a=this.chart.getDatasetMeta(n).controller,i=a._getRotation(),o=a._getCircumference();e=Math.min(e,i),r=Math.max(r,i+o)}return{rotation:e,circumference:r-e}}update(e){const r=this.chart,{chartArea:n}=r,a=this._cachedMeta,i=a.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,c=Math.max((Math.min(n.width,n.height)-o)/2,0),d=Math.min(yhe(this.options.cutout,c),1),h=this._getRingWeight(this.index),{circumference:m,rotation:f}=this._getRotationExtents(),{ratioX:g,ratioY:y,offsetX:v,offsetY:w}=lme(f,m,d),_=(n.width-o)/g,b=(n.height-o)/y,N=Math.max(Math.min(_,b)/2,0),k=ZF(this.options.radius,N),S=Math.max(k*d,0),C=(k-S)/this._getVisibleDatasetWeightTotal();this.offsetX=v*k,this.offsetY=w*k,a.total=this.calculateTotal(),this.outerRadius=k-C*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-C*h,0),this.updateElements(i,0,i.length,e)}_circumference(e,r){const n=this.options,a=this._cachedMeta,i=this._getCircumference();return r&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*i/Zs)}updateElements(e,r,n,a){const i=a==="reset",o=this.chart,c=o.chartArea,h=o.options.animation,m=(c.left+c.right)/2,f=(c.top+c.bottom)/2,g=i&&h.animateScale,y=g?0:this.innerRadius,v=g?0:this.outerRadius,{sharedOptions:w,includeOptions:_}=this._getSharedOptions(r,a);let b=this._getRotation(),N;for(N=0;N<r;++N)b+=this._circumference(N,i);for(N=r;N<r+n;++N){const k=this._circumference(N,i),S=e[N],C={x:m+this.offsetX,y:f+this.offsetY,startAngle:b,endAngle:b+k,circumference:k,outerRadius:v,innerRadius:y};_&&(C.options=w||this.resolveDataElementOptions(N,S.active?"active":a)),b+=k,this.updateElement(S,N,C,a)}}calculateTotal(){const e=this._cachedMeta,r=e.data;let n=0,a;for(a=0;a<r.length;a++){const i=e._parsed[a];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(a)&&!r[a].hidden&&(n+=Math.abs(i))}return n}calculateCircumference(e){const r=this._cachedMeta.total;return r>0&&!isNaN(e)?Zs*(Math.abs(e)/r):0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,a=n.data.labels||[],i=Qm(r._parsed[e],n.options.locale);return{label:a[e]||"",value:i}}getMaxBorderWidth(e){let r=0;const n=this.chart;let a,i,o,c,d;if(!e){for(a=0,i=n.data.datasets.length;a<i;++a)if(n.isDatasetVisible(a)){o=n.getDatasetMeta(a),e=o.data,c=o.controller;break}}if(!e)return 0;for(a=0,i=e.length;a<i;++a)d=c.resolveDataElementOptions(a),d.borderAlign!=="inner"&&(r=Math.max(r,d.borderWidth||0,d.hoverBorderWidth||0));return r}getMaxOffset(e){let r=0;for(let n=0,a=e.length;n<a;++n){const i=this.resolveDataElementOptions(n);r=Math.max(r,i.offset||0,i.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(r+=this._getRingWeight(n));return r}_getRingWeight(e){return Math.max(Xt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class cme extends uc{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const r=this._cachedMeta,{dataset:n,data:a=[],_dataset:i}=r,o=this.chart._animationsDisabled;let{start:c,count:d}=aB(r,a,o);this._drawStart=c,this._drawCount=d,iB(r)&&(c=0,d=a.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=a;const h=this.resolveDatasetElementOptions(e);this.options.showLine||(h.borderWidth=0),h.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:h},e),this.updateElements(a,c,d,e)}updateElements(e,r,n,a){const i=a==="reset",{iScale:o,vScale:c,_stacked:d,_dataset:h}=this._cachedMeta,{sharedOptions:m,includeOptions:f}=this._getSharedOptions(r,a),g=o.axis,y=c.axis,{spanGaps:v,segment:w}=this.options,_=eh(v)?v:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||i||a==="none",N=r+n,k=e.length;let S=r>0&&this.getParsed(r-1);for(let C=0;C<k;++C){const I=e[C],E=b?I:{};if(C<r||C>=N){E.skip=!0;continue}const U=this.getParsed(C),T=as(U[y]),ne=E[g]=o.getPixelForValue(U[g],C),q=E[y]=i||T?c.getBasePixel():c.getPixelForValue(d?this.applyStack(c,U,d):U[y],C);E.skip=isNaN(ne)||isNaN(q)||T,E.stop=C>0&&Math.abs(U[g]-S[g])>_,w&&(E.parsed=U,E.raw=h.data[C]),f&&(E.options=m||this.resolveDataElementOptions(C,I.active?"active":a)),b||this.updateElement(I,C,E,a),S=U}}getMaxOverflow(){const e=this._cachedMeta,r=e.dataset,n=r.options&&r.options.borderWidth||0,a=e.data||[];if(!a.length)return n;const i=a[0].size(this.resolveDataElementOptions(0)),o=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(n,i,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class SB extends uc{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:n,color:a}}=e.legend.options;return r.labels.map((i,o)=>{const d=e.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,fontColor:a,lineWidth:d.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,r){super(e,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,a=n.data.labels||[],i=Qm(r._parsed[e].r,n.options.locale);return{label:a[e]||"",value:i}}parseObjectData(e,r,n,a){return mB.bind(this)(e,r,n,a)}update(e){const r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,e)}getMinMax(){const e=this._cachedMeta,r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((n,a)=>{const i=this.getParsed(a).r;!isNaN(i)&&this.chart.getDataVisibility(a)&&(i<r.min&&(r.min=i),i>r.max&&(r.max=i))}),r}_updateRadius(){const e=this.chart,r=e.chartArea,n=e.options,a=Math.min(r.right-r.left,r.bottom-r.top),i=Math.max(a/2,0),o=Math.max(n.cutoutPercentage?i/100*n.cutoutPercentage:1,0),c=(i-o)/e.getVisibleDatasetCount();this.outerRadius=i-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(e,r,n,a){const i=a==="reset",o=this.chart,d=o.options.animation,h=this._cachedMeta.rScale,m=h.xCenter,f=h.yCenter,g=h.getIndexAngle(0)-.5*Ss;let y=g,v;const w=360/this.countVisibleElements();for(v=0;v<r;++v)y+=this._computeAngle(v,a,w);for(v=r;v<r+n;v++){const _=e[v];let b=y,N=y+this._computeAngle(v,a,w),k=o.getDataVisibility(v)?h.getDistanceFromCenterForValue(this.getParsed(v).r):0;y=N,i&&(d.animateScale&&(k=0),d.animateRotate&&(b=N=g));const S={x:m,y:f,innerRadius:0,outerRadius:k,startAngle:b,endAngle:N,options:this.resolveDataElementOptions(v,_.active?"active":a)};this.updateElement(_,v,S,a)}}countVisibleElements(){const e=this._cachedMeta;let r=0;return e.data.forEach((n,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&r++}),r}_computeAngle(e,r,n){return this.chart.getDataVisibility(e)?oi(this.resolveDataElementOptions(e,r).angle||n):0}}class dme extends xS{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class ume extends uc{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const r=this._cachedMeta.vScale,n=this.getParsed(e);return{label:r.getLabels()[e],value:""+r.getLabelForValue(n[r.axis])}}parseObjectData(e,r,n,a){return mB.bind(this)(e,r,n,a)}update(e){const r=this._cachedMeta,n=r.dataset,a=r.data||[],i=r.iScale.getLabels();if(n.points=a,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const c={_loop:!0,_fullLoop:i.length===a.length,options:o};this.updateElement(n,void 0,c,e)}this.updateElements(a,0,a.length,e)}updateElements(e,r,n,a){const i=this._cachedMeta.rScale,o=a==="reset";for(let c=r;c<r+n;c++){const d=e[c],h=this.resolveDataElementOptions(c,d.active?"active":a),m=i.getPointPositionForValue(c,this.getParsed(c).r),f=o?i.xCenter:m.x,g=o?i.yCenter:m.y,y={x:f,y:g,angle:m.angle,skip:isNaN(f)||isNaN(g),options:h};this.updateElement(d,c,y,a)}}}class hme extends uc{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const r=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:i}=r,o=this.getParsed(e),c=a.getLabelForValue(o.x),d=i.getLabelForValue(o.y);return{label:n[e]||"",value:"("+c+", "+d+")"}}update(e){const r=this._cachedMeta,{data:n=[]}=r,a=this.chart._animationsDisabled;let{start:i,count:o}=aB(r,n,a);if(this._drawStart=i,this._drawCount=o,iB(r)&&(i=0,o=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:c,_dataset:d}=r;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!d._decimated,c.points=n;const h=this.resolveDatasetElementOptions(e);h.segment=this.options.segment,this.updateElement(c,void 0,{animated:!a,options:h},e)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(n,i,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,r,n,a){const i=a==="reset",{iScale:o,vScale:c,_stacked:d,_dataset:h}=this._cachedMeta,m=this.resolveDataElementOptions(r,a),f=this.getSharedOptions(m),g=this.includeOptions(a,f),y=o.axis,v=c.axis,{spanGaps:w,segment:_}=this.options,b=eh(w)?w:Number.POSITIVE_INFINITY,N=this.chart._animationsDisabled||i||a==="none";let k=r>0&&this.getParsed(r-1);for(let S=r;S<r+n;++S){const C=e[S],I=this.getParsed(S),E=N?C:{},U=as(I[v]),T=E[y]=o.getPixelForValue(I[y],S),ne=E[v]=i||U?c.getBasePixel():c.getPixelForValue(d?this.applyStack(c,I,d):I[v],S);E.skip=isNaN(T)||isNaN(ne)||U,E.stop=S>0&&Math.abs(I[y]-k[y])>b,_&&(E.parsed=I,E.raw=h.data[S]),g&&(E.options=f||this.resolveDataElementOptions(S,C.active?"active":a)),N||this.updateElement(C,S,E,a),k=I}this.updateSharedOptions(f,a,m)}getMaxOverflow(){const e=this._cachedMeta,r=e.data||[];if(!this.options.showLine){let c=0;for(let d=r.length-1;d>=0;--d)c=Math.max(c,r[d].size(this.resolveDataElementOptions(d))/2);return c>0&&c}const n=e.dataset,a=n.options&&n.options.borderWidth||0;if(!r.length)return a;const i=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(a,i,o)/2}}var fme=Object.freeze({__proto__:null,BarController:ime,BubbleController:ome,DoughnutController:xS,LineController:cme,PieController:dme,PolarAreaController:SB,RadarController:ume,ScatterController:hme});function Gc(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class yS{static override(e){Object.assign(yS.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Gc()}parse(){return Gc()}format(){return Gc()}add(){return Gc()}diff(){return Gc()}startOf(){return Gc()}endOf(){return Gc()}}var mme={_date:yS};function pme(t,e,r,n){const{controller:a,data:i,_sorted:o}=t,c=a._cachedMeta.iScale,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(c&&e===c.axis&&e!=="r"&&o&&i.length){const h=c._reversePixels?Rhe:Po;if(n){if(a._sharedOptions){const m=i[0],f=typeof m.getRange=="function"&&m.getRange(e);if(f){const g=h(i,e,r-f),y=h(i,e,r+f);return{lo:g.lo,hi:y.hi}}}}else{const m=h(i,e,r);if(d){const{vScale:f}=a._cachedMeta,{_parsed:g}=t,y=g.slice(0,m.lo+1).reverse().findIndex(w=>!as(w[f.axis]));m.lo-=Math.max(0,y);const v=g.slice(m.hi).findIndex(w=>!as(w[f.axis]));m.hi+=Math.max(0,v)}return m}}return{lo:0,hi:i.length-1}}function by(t,e,r,n,a){const i=t.getSortedVisibleDatasetMetas(),o=r[e];for(let c=0,d=i.length;c<d;++c){const{index:h,data:m}=i[c],{lo:f,hi:g}=pme(i[c],e,o,a);for(let y=f;y<=g;++y){const v=m[y];v.skip||n(v,h,y)}}}function gme(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(n,a){const i=e?Math.abs(n.x-a.x):0,o=r?Math.abs(n.y-a.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function k1(t,e,r,n,a){const i=[];return!a&&!t.isPointInArea(e)||by(t,r,e,function(c,d,h){!a&&!Oo(c,t.chartArea,0)||c.inRange(e.x,e.y,n)&&i.push({element:c,datasetIndex:d,index:h})},!0),i}function xme(t,e,r,n){let a=[];function i(o,c,d){const{startAngle:h,endAngle:m}=o.getProps(["startAngle","endAngle"],n),{angle:f}=eB(o,{x:e.x,y:e.y});wm(f,h,m)&&a.push({element:o,datasetIndex:c,index:d})}return by(t,r,e,i),a}function yme(t,e,r,n,a,i){let o=[];const c=gme(r);let d=Number.POSITIVE_INFINITY;function h(m,f,g){const y=m.inRange(e.x,e.y,a);if(n&&!y)return;const v=m.getCenterPoint(a);if(!(!!i||t.isPointInArea(v))&&!y)return;const _=c(e,v);_<d?(o=[{element:m,datasetIndex:f,index:g}],d=_):_===d&&o.push({element:m,datasetIndex:f,index:g})}return by(t,r,e,h),o}function C1(t,e,r,n,a,i){return!i&&!t.isPointInArea(e)?[]:r==="r"&&!n?xme(t,e,r,a):yme(t,e,r,n,a,i)}function YD(t,e,r,n,a){const i=[],o=r==="x"?"inXRange":"inYRange";let c=!1;return by(t,r,e,(d,h,m)=>{d[o]&&d[o](e[r],a)&&(i.push({element:d,datasetIndex:h,index:m}),c=c||d.inRange(e.x,e.y,a))}),n&&!c?[]:i}var bme={modes:{index(t,e,r,n){const a=ed(e,t),i=r.axis||"x",o=r.includeInvisible||!1,c=r.intersect?k1(t,a,i,n,o):C1(t,a,i,!1,n,o),d=[];return c.length?(t.getSortedVisibleDatasetMetas().forEach(h=>{const m=c[0].index,f=h.data[m];f&&!f.skip&&d.push({element:f,datasetIndex:h.index,index:m})}),d):[]},dataset(t,e,r,n){const a=ed(e,t),i=r.axis||"xy",o=r.includeInvisible||!1;let c=r.intersect?k1(t,a,i,n,o):C1(t,a,i,!1,n,o);if(c.length>0){const d=c[0].datasetIndex,h=t.getDatasetMeta(d).data;c=[];for(let m=0;m<h.length;++m)c.push({element:h[m],datasetIndex:d,index:m})}return c},point(t,e,r,n){const a=ed(e,t),i=r.axis||"xy",o=r.includeInvisible||!1;return k1(t,a,i,n,o)},nearest(t,e,r,n){const a=ed(e,t),i=r.axis||"xy",o=r.includeInvisible||!1;return C1(t,a,i,r.intersect,n,o)},x(t,e,r,n){const a=ed(e,t);return YD(t,a,"x",r.intersect,n)},y(t,e,r,n){const a=ed(e,t);return YD(t,a,"y",r.intersect,n)}}};const kB=["left","top","right","bottom"];function Mf(t,e){return t.filter(r=>r.pos===e)}function KD(t,e){return t.filter(r=>kB.indexOf(r.pos)===-1&&r.box.axis===e)}function Pf(t,e){return t.sort((r,n)=>{const a=e?n:r,i=e?r:n;return a.weight===i.weight?a.index-i.index:a.weight-i.weight})}function vme(t){const e=[];let r,n,a,i,o,c;for(r=0,n=(t||[]).length;r<n;++r)a=t[r],{position:i,options:{stack:o,stackWeight:c=1}}=a,e.push({index:r,box:a,pos:i,horizontal:a.isHorizontal(),weight:a.weight,stack:o&&i+o,stackWeight:c});return e}function wme(t){const e={};for(const r of t){const{stack:n,pos:a,stackWeight:i}=r;if(!n||!kB.includes(a))continue;const o=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function jme(t,e){const r=wme(t),{vBoxMaxWidth:n,hBoxMaxHeight:a}=e;let i,o,c;for(i=0,o=t.length;i<o;++i){c=t[i];const{fullSize:d}=c.box,h=r[c.stack],m=h&&c.stackWeight/h.weight;c.horizontal?(c.width=m?m*n:d&&e.availableWidth,c.height=a):(c.width=n,c.height=m?m*a:d&&e.availableHeight)}return r}function _me(t){const e=vme(t),r=Pf(e.filter(h=>h.box.fullSize),!0),n=Pf(Mf(e,"left"),!0),a=Pf(Mf(e,"right")),i=Pf(Mf(e,"top"),!0),o=Pf(Mf(e,"bottom")),c=KD(e,"x"),d=KD(e,"y");return{fullSize:r,leftAndTop:n.concat(i),rightAndBottom:a.concat(d).concat(o).concat(c),chartArea:Mf(e,"chartArea"),vertical:n.concat(a).concat(d),horizontal:i.concat(o).concat(c)}}function XD(t,e,r,n){return Math.max(t[r],e[r])+Math.max(t[n],e[n])}function CB(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Nme(t,e,r,n){const{pos:a,box:i}=r,o=t.maxPadding;if(!ds(a)){r.size&&(t[a]-=r.size);const f=n[r.stack]||{size:0,count:1};f.size=Math.max(f.size,r.horizontal?i.height:i.width),r.size=f.size/f.count,t[a]+=r.size}i.getPadding&&CB(o,i.getPadding());const c=Math.max(0,e.outerWidth-XD(o,t,"left","right")),d=Math.max(0,e.outerHeight-XD(o,t,"top","bottom")),h=c!==t.w,m=d!==t.h;return t.w=c,t.h=d,r.horizontal?{same:h,other:m}:{same:m,other:h}}function Sme(t){const e=t.maxPadding;function r(n){const a=Math.max(e[n]-t[n],0);return t[n]+=a,a}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function kme(t,e){const r=e.maxPadding;function n(a){const i={left:0,top:0,right:0,bottom:0};return a.forEach(o=>{i[o]=Math.max(e[o],r[o])}),i}return n(t?["left","right"]:["top","bottom"])}function qf(t,e,r,n){const a=[];let i,o,c,d,h,m;for(i=0,o=t.length,h=0;i<o;++i){c=t[i],d=c.box,d.update(c.width||e.w,c.height||e.h,kme(c.horizontal,e));const{same:f,other:g}=Nme(e,r,c,n);h|=f&&a.length,m=m||g,d.fullSize||a.push(c)}return h&&qf(a,e,r,n)||m}function ex(t,e,r,n,a){t.top=r,t.left=e,t.right=e+n,t.bottom=r+a,t.width=n,t.height=a}function ZD(t,e,r,n){const a=r.padding;let{x:i,y:o}=e;for(const c of t){const d=c.box,h=n[c.stack]||{placed:0,weight:1},m=c.stackWeight/h.weight||1;if(c.horizontal){const f=e.w*m,g=h.size||d.height;vm(h.start)&&(o=h.start),d.fullSize?ex(d,a.left,o,r.outerWidth-a.right-a.left,g):ex(d,e.left+h.placed,o,f,g),h.start=o,h.placed+=f,o=d.bottom}else{const f=e.h*m,g=h.size||d.width;vm(h.start)&&(i=h.start),d.fullSize?ex(d,i,a.top,g,r.outerHeight-a.bottom-a.top):ex(d,i,e.top+h.placed,g,f),h.start=i,h.placed+=f,i=d.right}}e.x=i,e.y=o}var xn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,n){if(!t)return;const a=vn(t.options.layout.padding),i=Math.max(e-a.width,0),o=Math.max(r-a.height,0),c=_me(t.boxes),d=c.vertical,h=c.horizontal;Ms(t.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const m=d.reduce((w,_)=>_.box.options&&_.box.options.display===!1?w:w+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:r,padding:a,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/m,hBoxMaxHeight:o/2}),g=Object.assign({},a);CB(g,vn(n));const y=Object.assign({maxPadding:g,w:i,h:o,x:a.left,y:a.top},a),v=jme(d.concat(h),f);qf(c.fullSize,y,f,v),qf(d,y,f,v),qf(h,y,f,v)&&qf(d,y,f,v),Sme(y),ZD(c.leftAndTop,y,f,v),y.x+=y.w,y.y+=y.h,ZD(c.rightAndBottom,y,f,v),t.chartArea={left:y.left,top:y.top,right:y.left+y.w,bottom:y.top+y.h,height:y.h,width:y.w},Ms(c.chartArea,w=>{const _=w.box;Object.assign(_,t.chartArea),_.update(y.w,y.h,{left:0,top:0,right:0,bottom:0})})}};class AB{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,n){}removeEventListener(e,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,n,a){return r=Math.max(0,r||e.width),n=n||e.height,{width:r,height:Math.max(0,a?Math.floor(r/a):n)}}isAttached(e){return!0}updateConfig(e){}}class Cme extends AB{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const kx="$chartjs",Ame={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},QD=t=>t===null||t==="";function Eme(t,e){const r=t.style,n=t.getAttribute("height"),a=t.getAttribute("width");if(t[kx]={initial:{height:n,width:a,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",QD(a)){const i=OD(t,"width");i!==void 0&&(t.width=i)}if(QD(n))if(t.style.height==="")t.height=t.width/(e||2);else{const i=OD(t,"height");i!==void 0&&(t.height=i)}return t}const EB=Nfe?{passive:!0}:!1;function Tme(t,e,r){t&&t.addEventListener(e,r,EB)}function Rme(t,e,r){t&&t.canvas&&t.canvas.removeEventListener(e,r,EB)}function Dme(t,e){const r=Ame[t.type]||t.type,{x:n,y:a}=ed(t,e);return{type:r,chart:e,native:t,x:n!==void 0?n:null,y:a!==void 0?a:null}}function g0(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function Mme(t,e,r){const n=t.canvas,a=new MutationObserver(i=>{let o=!1;for(const c of i)o=o||g0(c.addedNodes,n),o=o&&!g0(c.removedNodes,n);o&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}function Pme(t,e,r){const n=t.canvas,a=new MutationObserver(i=>{let o=!1;for(const c of i)o=o||g0(c.removedNodes,n),o=o&&!g0(c.addedNodes,n);o&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}const _m=new Map;let JD=0;function TB(){const t=window.devicePixelRatio;t!==JD&&(JD=t,_m.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function Ome(t,e){_m.size||window.addEventListener("resize",TB),_m.set(t,e)}function Lme(t){_m.delete(t),_m.size||window.removeEventListener("resize",TB)}function Fme(t,e,r){const n=t.canvas,a=n&&gS(n);if(!a)return;const i=nB((c,d)=>{const h=a.clientWidth;r(c,d),h<a.clientWidth&&r()},window),o=new ResizeObserver(c=>{const d=c[0],h=d.contentRect.width,m=d.contentRect.height;h===0&&m===0||i(h,m)});return o.observe(a),Ome(t,i),o}function A1(t,e,r){r&&r.disconnect(),e==="resize"&&Lme(t)}function Bme(t,e,r){const n=t.canvas,a=nB(i=>{t.ctx!==null&&r(Dme(i,t))},t);return Tme(n,e,a),a}class Ime extends AB{acquireContext(e,r){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(Eme(e,r),n):null}releaseContext(e){const r=e.canvas;if(!r[kx])return!1;const n=r[kx].initial;["height","width"].forEach(i=>{const o=n[i];as(o)?r.removeAttribute(i):r.setAttribute(i,o)});const a=n.style||{};return Object.keys(a).forEach(i=>{r.style[i]=a[i]}),r.width=r.width,delete r[kx],!0}addEventListener(e,r,n){this.removeEventListener(e,r);const a=e.$proxies||(e.$proxies={}),o={attach:Mme,detach:Pme,resize:Fme}[r]||Bme;a[r]=o(e,r,n)}removeEventListener(e,r){const n=e.$proxies||(e.$proxies={}),a=n[r];if(!a)return;({attach:A1,detach:A1,resize:A1}[r]||Rme)(e,r,a),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,n,a){return _fe(e,r,n,a)}isAttached(e){const r=e&&gS(e);return!!(r&&r.isConnected)}}function zme(t){return!pS()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Cme:Ime}let Xo=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}hasValue(){return eh(this.x)&&eh(this.y)}getProps(e,r){const n=this.$animations;if(!r||!n)return this;const a={};return e.forEach(i=>{a[i]=n[i]&&n[i].active()?n[i]._to:this[i]}),a}};function Ume(t,e){const r=t.options.ticks,n=$me(t),a=Math.min(r.maxTicksLimit||n,n),i=r.major.enabled?Hme(e):[],o=i.length,c=i[0],d=i[o-1],h=[];if(o>a)return qme(e,h,i,o/a),h;const m=Vme(i,e,a);if(o>0){let f,g;const y=o>1?Math.round((d-c)/(o-1)):null;for(tx(e,h,m,as(y)?0:c-y,c),f=0,g=o-1;f<g;f++)tx(e,h,m,i[f],i[f+1]);return tx(e,h,m,d,as(y)?e.length:d+y),h}return tx(e,h,m),h}function $me(t){const e=t.options.offset,r=t._tickSize(),n=t._length/r+(e?0:1),a=t._maxLength/r;return Math.floor(Math.min(n,a))}function Vme(t,e,r){const n=Wme(t),a=e.length/r;if(!n)return Math.max(a,1);const i=khe(n);for(let o=0,c=i.length-1;o<c;o++){const d=i[o];if(d>a)return d}return Math.max(a,1)}function Hme(t){const e=[];let r,n;for(r=0,n=t.length;r<n;r++)t[r].major&&e.push(r);return e}function qme(t,e,r,n){let a=0,i=r[0],o;for(n=Math.ceil(n),o=0;o<t.length;o++)o===i&&(e.push(t[o]),a++,i=r[a*n])}function tx(t,e,r,n,a){const i=Xt(n,0),o=Math.min(Xt(a,t.length),t.length);let c=0,d,h,m;for(r=Math.ceil(r),a&&(d=a-n,r=d/Math.floor(d/r)),m=i;m<0;)c++,m=Math.round(i+c*r);for(h=Math.max(i,0);h<o;h++)h===m&&(e.push(t[h]),c++,m=Math.round(i+c*r))}function Wme(t){const e=t.length;let r,n;if(e<2)return!1;for(n=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==n)return!1;return n}const Gme=t=>t==="left"?"right":t==="right"?"left":t,e3=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r,t3=(t,e)=>Math.min(e||t,t);function s3(t,e){const r=[],n=t.length/e,a=t.length;let i=0;for(;i<a;i+=n)r.push(t[Math.floor(i)]);return r}function Yme(t,e,r){const n=t.ticks.length,a=Math.min(e,n-1),i=t._startPixel,o=t._endPixel,c=1e-6;let d=t.getPixelForTick(a),h;if(!(r&&(n===1?h=Math.max(d-i,o-d):e===0?h=(t.getPixelForTick(1)-d)/2:h=(d-t.getPixelForTick(a-1))/2,d+=a<e?h:-h,d<i-c||d>o+c)))return d}function Kme(t,e){Ms(t,r=>{const n=r.gc,a=n.length/2;let i;if(a>e){for(i=0;i<a;++i)delete r.data[n[i]];n.splice(0,a)}})}function Of(t){return t.drawTicks?t.tickLength:0}function r3(t,e){if(!t.display)return 0;const r=Yr(t.font,e),n=vn(t.padding);return(tr(t.text)?t.text.length:1)*r.lineHeight+n.height}function Xme(t,e){return dc(t,{scale:e,type:"scale"})}function Zme(t,e,r){return dc(t,{tick:r,index:e,type:"tick"})}function Qme(t,e,r){let n=cS(t);return(r&&e!=="right"||!r&&e==="right")&&(n=Gme(n)),n}function Jme(t,e,r,n){const{top:a,left:i,bottom:o,right:c,chart:d}=t,{chartArea:h,scales:m}=d;let f=0,g,y,v;const w=o-a,_=c-i;if(t.isHorizontal()){if(y=un(n,i,c),ds(r)){const b=Object.keys(r)[0],N=r[b];v=m[b].getPixelForValue(N)+w-e}else r==="center"?v=(h.bottom+h.top)/2+w-e:v=e3(t,r,e);g=c-i}else{if(ds(r)){const b=Object.keys(r)[0],N=r[b];y=m[b].getPixelForValue(N)-_+e}else r==="center"?y=(h.left+h.right)/2-_+e:y=e3(t,r,e);v=un(n,o,a),f=r==="left"?-Nr:Nr}return{titleX:y,titleY:v,maxWidth:g,rotation:f}}class Ed extends Xo{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:n,_suggestedMax:a}=this;return e=ha(e,Number.POSITIVE_INFINITY),r=ha(r,Number.NEGATIVE_INFINITY),n=ha(n,Number.POSITIVE_INFINITY),a=ha(a,Number.NEGATIVE_INFINITY),{min:ha(e,n),max:ha(r,a),minDefined:yr(e),maxDefined:yr(r)}}getMinMax(e){let{min:r,max:n,minDefined:a,maxDefined:i}=this.getUserBounds(),o;if(a&&i)return{min:r,max:n};const c=this.getMatchingVisibleMetas();for(let d=0,h=c.length;d<h;++d)o=c[d].controller.getMinMax(this,e),a||(r=Math.min(r,o.min)),i||(n=Math.max(n,o.max));return r=i&&r>n?n:r,n=a&&r>n?r:n,{min:ha(r,ha(n,r)),max:ha(n,ha(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Gs(this.options.beforeUpdate,[this])}update(e,r,n){const{beginAtZero:a,grace:i,ticks:o}=this.options,c=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=tfe(this,i,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=c<this.ticks.length;this._convertTicksToLabels(d?s3(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=Ume(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,e=!e),this._startPixel=r,this._endPixel=n,this._reversePixels=e,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Gs(this.options.afterUpdate,[this])}beforeSetDimensions(){Gs(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Gs(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Gs(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Gs(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let n,a,i;for(n=0,a=e.length;n<a;n++)i=e[n],i.label=Gs(r.callback,[i.value,n,e],this)}afterTickToLabelConversion(){Gs(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Gs(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,n=t3(this.ticks.length,e.ticks.maxTicksLimit),a=r.minRotation||0,i=r.maxRotation;let o=a,c,d,h;if(!this._isVisible()||!r.display||a>=i||n<=1||!this.isHorizontal()){this.labelRotation=a;return}const m=this._getLabelSizes(),f=m.widest.width,g=m.highest.height,y=tn(this.chart.width-f,0,this.maxWidth);c=e.offset?this.maxWidth/n:y/(n-1),f+6>c&&(c=y/(n-(e.offset?.5:1)),d=this.maxHeight-Of(e.grid)-r.padding-r3(e.title,this.chart.options.font),h=Math.sqrt(f*f+g*g),o=oS(Math.min(Math.asin(tn((m.highest.height+6)/c,-1,1)),Math.asin(tn(d/h,-1,1))-Math.asin(tn(g/h,-1,1)))),o=Math.max(a,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){Gs(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Gs(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:n,title:a,grid:i}}=this,o=this._isVisible(),c=this.isHorizontal();if(o){const d=r3(a,r.options.font);if(c?(e.width=this.maxWidth,e.height=Of(i)+d):(e.height=this.maxHeight,e.width=Of(i)+d),n.display&&this.ticks.length){const{first:h,last:m,widest:f,highest:g}=this._getLabelSizes(),y=n.padding*2,v=oi(this.labelRotation),w=Math.cos(v),_=Math.sin(v);if(c){const b=n.mirror?0:_*f.width+w*g.height;e.height=Math.min(this.maxHeight,e.height+b+y)}else{const b=n.mirror?0:w*f.width+_*g.height;e.width=Math.min(this.maxWidth,e.width+b+y)}this._calculatePadding(h,m,_,w)}}this._handleMargins(),c?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,n,a){const{ticks:{align:i,padding:o},position:c}=this.options,d=this.labelRotation!==0,h=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,y=0;d?h?(g=a*e.width,y=n*r.height):(g=n*e.height,y=a*r.width):i==="start"?y=r.width:i==="end"?g=e.width:i!=="inner"&&(g=e.width/2,y=r.width/2),this.paddingLeft=Math.max((g-m+o)*this.width/(this.width-m),0),this.paddingRight=Math.max((y-f+o)*this.width/(this.width-f),0)}else{let m=r.height/2,f=e.height/2;i==="start"?(m=0,f=e.height):i==="end"&&(m=r.height,f=0),this.paddingTop=m+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Gs(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,n;for(r=0,n=e.length;r<n;r++)as(e[r].label)&&(e.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=s3(n,r)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,n){const{ctx:a,_longestTextCache:i}=this,o=[],c=[],d=Math.floor(r/t3(r,n));let h=0,m=0,f,g,y,v,w,_,b,N,k,S,C;for(f=0;f<r;f+=d){if(v=e[f].label,w=this._resolveTickFontOptions(f),a.font=_=w.string,b=i[_]=i[_]||{data:{},gc:[]},N=w.lineHeight,k=S=0,!as(v)&&!tr(v))k=m0(a,b.data,b.gc,k,v),S=N;else if(tr(v))for(g=0,y=v.length;g<y;++g)C=v[g],!as(C)&&!tr(C)&&(k=m0(a,b.data,b.gc,k,C),S+=N);o.push(k),c.push(S),h=Math.max(k,h),m=Math.max(S,m)}Kme(i,r);const I=o.indexOf(h),E=c.indexOf(m),U=T=>({width:o[T]||0,height:c[T]||0});return{first:U(0),last:U(r-1),widest:U(I),highest:U(E),widths:o,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return The(this._alignToPixels?Wc(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const n=r[e];return n.$context||(n.$context=Zme(this.getContext(),e,n))}return this.$context||(this.$context=Xme(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=oi(this.labelRotation),n=Math.abs(Math.cos(r)),a=Math.abs(Math.sin(r)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,c=i?i.widest.width+o:0,d=i?i.highest.height+o:0;return this.isHorizontal()?d*n>c*a?c/n:d/a:d*a<c*n?d/n:c/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,n=this.chart,a=this.options,{grid:i,position:o,border:c}=a,d=i.offset,h=this.isHorizontal(),f=this.ticks.length+(d?1:0),g=Of(i),y=[],v=c.setContext(this.getContext()),w=v.display?v.width:0,_=w/2,b=function(X){return Wc(n,X,w)};let N,k,S,C,I,E,U,T,ne,q,F,Y;if(o==="top")N=b(this.bottom),E=this.bottom-g,T=N-_,q=b(e.top)+_,Y=e.bottom;else if(o==="bottom")N=b(this.top),q=e.top,Y=b(e.bottom)-_,E=N+_,T=this.top+g;else if(o==="left")N=b(this.right),I=this.right-g,U=N-_,ne=b(e.left)+_,F=e.right;else if(o==="right")N=b(this.left),ne=e.left,F=b(e.right)-_,I=N+_,U=this.left+g;else if(r==="x"){if(o==="center")N=b((e.top+e.bottom)/2+.5);else if(ds(o)){const X=Object.keys(o)[0],M=o[X];N=b(this.chart.scales[X].getPixelForValue(M))}q=e.top,Y=e.bottom,E=N+_,T=E+g}else if(r==="y"){if(o==="center")N=b((e.left+e.right)/2);else if(ds(o)){const X=Object.keys(o)[0],M=o[X];N=b(this.chart.scales[X].getPixelForValue(M))}I=N-_,U=I-g,ne=e.left,F=e.right}const O=Xt(a.ticks.maxTicksLimit,f),se=Math.max(1,Math.ceil(f/O));for(k=0;k<f;k+=se){const X=this.getContext(k),M=i.setContext(X),K=c.setContext(X),z=M.lineWidth,he=M.color,V=K.dash||[],W=K.dashOffset,le=M.tickWidth,oe=M.tickColor,ve=M.tickBorderDash||[],me=M.tickBorderDashOffset;S=Yme(this,k,d),S!==void 0&&(C=Wc(n,S,z),h?I=U=ne=F=C:E=T=q=Y=C,y.push({tx1:I,ty1:E,tx2:U,ty2:T,x1:ne,y1:q,x2:F,y2:Y,width:z,color:he,borderDash:V,borderDashOffset:W,tickWidth:le,tickColor:oe,tickBorderDash:ve,tickBorderDashOffset:me}))}return this._ticksLength=f,this._borderValue=N,y}_computeLabelItems(e){const r=this.axis,n=this.options,{position:a,ticks:i}=n,o=this.isHorizontal(),c=this.ticks,{align:d,crossAlign:h,padding:m,mirror:f}=i,g=Of(n.grid),y=g+m,v=f?-m:y,w=-oi(this.labelRotation),_=[];let b,N,k,S,C,I,E,U,T,ne,q,F,Y="middle";if(a==="top")I=this.bottom-v,E=this._getXAxisLabelAlignment();else if(a==="bottom")I=this.top+v,E=this._getXAxisLabelAlignment();else if(a==="left"){const se=this._getYAxisLabelAlignment(g);E=se.textAlign,C=se.x}else if(a==="right"){const se=this._getYAxisLabelAlignment(g);E=se.textAlign,C=se.x}else if(r==="x"){if(a==="center")I=(e.top+e.bottom)/2+y;else if(ds(a)){const se=Object.keys(a)[0],X=a[se];I=this.chart.scales[se].getPixelForValue(X)+y}E=this._getXAxisLabelAlignment()}else if(r==="y"){if(a==="center")C=(e.left+e.right)/2-y;else if(ds(a)){const se=Object.keys(a)[0],X=a[se];C=this.chart.scales[se].getPixelForValue(X)}E=this._getYAxisLabelAlignment(g).textAlign}r==="y"&&(d==="start"?Y="top":d==="end"&&(Y="bottom"));const O=this._getLabelSizes();for(b=0,N=c.length;b<N;++b){k=c[b],S=k.label;const se=i.setContext(this.getContext(b));U=this.getPixelForTick(b)+i.labelOffset,T=this._resolveTickFontOptions(b),ne=T.lineHeight,q=tr(S)?S.length:1;const X=q/2,M=se.color,K=se.textStrokeColor,z=se.textStrokeWidth;let he=E;o?(C=U,E==="inner"&&(b===N-1?he=this.options.reverse?"left":"right":b===0?he=this.options.reverse?"right":"left":he="center"),a==="top"?h==="near"||w!==0?F=-q*ne+ne/2:h==="center"?F=-O.highest.height/2-X*ne+ne:F=-O.highest.height+ne/2:h==="near"||w!==0?F=ne/2:h==="center"?F=O.highest.height/2-X*ne:F=O.highest.height-q*ne,f&&(F*=-1),w!==0&&!se.showLabelBackdrop&&(C+=ne/2*Math.sin(w))):(I=U,F=(1-q)*ne/2);let V;if(se.showLabelBackdrop){const W=vn(se.backdropPadding),le=O.heights[b],oe=O.widths[b];let ve=F-W.top,me=0-W.left;switch(Y){case"middle":ve-=le/2;break;case"bottom":ve-=le;break}switch(E){case"center":me-=oe/2;break;case"right":me-=oe;break;case"inner":b===N-1?me-=oe:b>0&&(me-=oe/2);break}V={left:me,top:ve,width:oe+W.width,height:le+W.height,color:se.backdropColor}}_.push({label:S,font:T,textOffset:F,options:{rotation:w,color:M,strokeColor:K,strokeWidth:z,textAlign:he,textBaseline:Y,translation:[C,I],backdrop:V}})}return _}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-oi(this.labelRotation))return e==="top"?"left":"right";let a="center";return r.align==="start"?a="left":r.align==="end"?a="right":r.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:n,mirror:a,padding:i}}=this.options,o=this._getLabelSizes(),c=e+i,d=o.widest.width;let h,m;return r==="left"?a?(m=this.right+i,n==="near"?h="left":n==="center"?(h="center",m+=d/2):(h="right",m+=d)):(m=this.right-c,n==="near"?h="right":n==="center"?(h="center",m-=d/2):(h="left",m=this.left)):r==="right"?a?(m=this.left+i,n==="near"?h="right":n==="center"?(h="center",m-=d/2):(h="left",m-=d)):(m=this.left+c,n==="near"?h="left":n==="center"?(h="center",m+=d/2):(h="right",m=this.right)):h="right",{textAlign:h,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:n,top:a,width:i,height:o}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(n,a,i,o),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const a=this.ticks.findIndex(i=>i.value===e);return a>=0?r.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const r=this.options.grid,n=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const c=(d,h,m)=>{!m.width||!m.color||(n.save(),n.lineWidth=m.width,n.strokeStyle=m.color,n.setLineDash(m.borderDash||[]),n.lineDashOffset=m.borderDashOffset,n.beginPath(),n.moveTo(d.x,d.y),n.lineTo(h.x,h.y),n.stroke(),n.restore())};if(r.display)for(i=0,o=a.length;i<o;++i){const d=a[i];r.drawOnChartArea&&c({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),r.drawTicks&&c({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:n,grid:a}}=this,i=n.setContext(this.getContext()),o=n.display?i.width:0;if(!o)return;const c=a.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let h,m,f,g;this.isHorizontal()?(h=Wc(e,this.left,o)-o/2,m=Wc(e,this.right,c)+c/2,f=g=d):(f=Wc(e,this.top,o)-o/2,g=Wc(e,this.bottom,c)+c/2,h=m=d),r.save(),r.lineWidth=i.width,r.strokeStyle=i.color,r.beginPath(),r.moveTo(h,f),r.lineTo(m,g),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,a=this._computeLabelArea();a&&gy(n,a);const i=this.getLabelItems(e);for(const o of i){const c=o.options,d=o.font,h=o.label,m=o.textOffset;kd(n,h,0,m,d,c)}a&&xy(n)}drawTitle(){const{ctx:e,options:{position:r,title:n,reverse:a}}=this;if(!n.display)return;const i=Yr(n.font),o=vn(n.padding),c=n.align;let d=i.lineHeight/2;r==="bottom"||r==="center"||ds(r)?(d+=o.bottom,tr(n.text)&&(d+=i.lineHeight*(n.text.length-1))):d+=o.top;const{titleX:h,titleY:m,maxWidth:f,rotation:g}=Jme(this,d,r,c);kd(e,n.text,0,0,i,{color:n.color,maxWidth:f,rotation:g,textAlign:Qme(c,r,a),textBaseline:"middle",translation:[h,m]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,n=Xt(e.grid&&e.grid.z,-1),a=Xt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Ed.prototype.draw?[{z:r,draw:i=>{this.draw(i)}}]:[{z:n,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:r,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",a=[];let i,o;for(i=0,o=r.length;i<o;++i){const c=r[i];c[n]===this.id&&(!e||c.type===e)&&a.push(c)}return a}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return Yr(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class sx{constructor(e,r,n){this.type=e,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let n;spe(r)&&(n=this.register(r));const a=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in a||(a[i]=e,epe(e,o,n),this.override&&ar.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const r=this.items,n=e.id,a=this.scope;n in r&&delete r[n],a&&n in ar[a]&&(delete ar[a][n],this.override&&delete Sd[n])}}function epe(t,e,r){const n=bm(Object.create(null),[r?ar.get(r):{},ar.get(e),t.defaults]);ar.set(e,n),t.defaultRoutes&&tpe(e,t.defaultRoutes),t.descriptors&&ar.describe(e,t.descriptors)}function tpe(t,e){Object.keys(e).forEach(r=>{const n=r.split("."),a=n.pop(),i=[t].concat(n).join("."),o=e[r].split("."),c=o.pop(),d=o.join(".");ar.route(i,a,d,c)})}function spe(t){return"id"in t&&"defaults"in t}class rpe{constructor(){this.controllers=new sx(uc,"datasets",!0),this.elements=new sx(Xo,"elements"),this.plugins=new sx(Object,"plugins"),this.scales=new sx(Ed,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,n){[...r].forEach(a=>{const i=n||this._getRegistryForType(a);n||i.isForType(a)||i===this.plugins&&a.id?this._exec(e,i,a):Ms(a,o=>{const c=n||this._getRegistryForType(o);this._exec(e,c,o)})})}_exec(e,r,n){const a=iS(e);Gs(n["before"+a],[],n),r[e](n),Gs(n["after"+a],[],n)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(e))return n}return this.plugins}_get(e,r,n){const a=r.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return a}}var Ri=new rpe;class npe{constructor(){this._init=void 0}notify(e,r,n,a){if(r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const i=a?this._descriptors(e).filter(a):this._descriptors(e),o=this._notify(i,e,r,n);return r==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,r,n,a){a=a||{};for(const i of e){const o=i.plugin,c=o[n],d=[r,a,i.options];if(Gs(c,d,o)===!1&&a.cancelable)return!1}return!0}invalidate(){as(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const n=e&&e.config,a=Xt(n.options&&n.options.plugins,{}),i=ape(n);return a===!1&&!r?[]:ope(e,i,a,r)}_notifyStateChanges(e){const r=this._oldCache||[],n=this._cache,a=(i,o)=>i.filter(c=>!o.some(d=>c.plugin.id===d.plugin.id));this._notify(a(r,n),e,"stop"),this._notify(a(n,r),e,"start")}}function ape(t){const e={},r=[],n=Object.keys(Ri.plugins.items);for(let i=0;i<n.length;i++)r.push(Ri.getPlugin(n[i]));const a=t.plugins||[];for(let i=0;i<a.length;i++){const o=a[i];r.indexOf(o)===-1&&(r.push(o),e[o.id]=!0)}return{plugins:r,localIds:e}}function ipe(t,e){return!e&&t===!1?null:t===!0?{}:t}function ope(t,{plugins:e,localIds:r},n,a){const i=[],o=t.getContext();for(const c of e){const d=c.id,h=ipe(n[d],a);h!==null&&i.push({plugin:c,options:lpe(t.config,{plugin:c,local:r[d]},h,o)})}return i}function lpe(t,{plugin:e,local:r},n,a){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(n,i);return r&&e.defaults&&o.push(e.defaults),t.createResolver(o,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function sN(t,e){const r=ar.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function cpe(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function dpe(t,e){return t===e?"_index_":"_value_"}function n3(t){if(t==="x"||t==="y"||t==="r")return t}function upe(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function rN(t,...e){if(n3(t))return t;for(const r of e){const n=r.axis||upe(r.position)||t.length>1&&n3(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function a3(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function hpe(t,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(r.length)return a3(t,"x",r[0])||a3(t,"y",r[0])}return{}}function fpe(t,e){const r=Sd[t.type]||{scales:{}},n=e.scales||{},a=sN(t.type,e),i=Object.create(null);return Object.keys(n).forEach(o=>{const c=n[o];if(!ds(c))return console.error(`Invalid scale configuration for scale: ${o}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const d=rN(o,c,hpe(o,t),ar.scales[c.type]),h=dpe(d,a),m=r.scales||{};i[o]=tm(Object.create(null),[{axis:d},c,m[d],m[h]])}),t.data.datasets.forEach(o=>{const c=o.type||t.type,d=o.indexAxis||sN(c,e),m=(Sd[c]||{}).scales||{};Object.keys(m).forEach(f=>{const g=cpe(f,d),y=o[g+"AxisID"]||g;i[y]=i[y]||Object.create(null),tm(i[y],[{axis:g},n[y],m[f]])})}),Object.keys(i).forEach(o=>{const c=i[o];tm(c,[ar.scales[c.type],ar.scale])}),i}function RB(t){const e=t.options||(t.options={});e.plugins=Xt(e.plugins,{}),e.scales=fpe(t,e)}function DB(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function mpe(t){return t=t||{},t.data=DB(t.data),RB(t),t}const i3=new Map,MB=new Set;function rx(t,e){let r=i3.get(t);return r||(r=e(),i3.set(t,r),MB.add(r)),r}const Lf=(t,e,r)=>{const n=sc(e,r);n!==void 0&&t.add(n)};class ppe{constructor(e){this._config=mpe(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=DB(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),RB(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return rx(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return rx(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return rx(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,n=this.type;return rx(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const n=this._scopeCache;let a=n.get(e);return(!a||r)&&(a=new Map,n.set(e,a)),a}getOptionScopes(e,r,n){const{options:a,type:i}=this,o=this._cachedScopes(e,n),c=o.get(r);if(c)return c;const d=new Set;r.forEach(m=>{e&&(d.add(e),m.forEach(f=>Lf(d,e,f))),m.forEach(f=>Lf(d,a,f)),m.forEach(f=>Lf(d,Sd[i]||{},f)),m.forEach(f=>Lf(d,ar,f)),m.forEach(f=>Lf(d,eN,f))});const h=Array.from(d);return h.length===0&&h.push(Object.create(null)),MB.has(r)&&o.set(r,h),h}chartOptionScopes(){const{options:e,type:r}=this;return[e,Sd[r]||{},ar.datasets[r]||{},{type:r},ar,eN]}resolveNamedOptions(e,r,n,a=[""]){const i={$shared:!0},{resolver:o,subPrefixes:c}=o3(this._resolverCache,e,a);let d=o;if(xpe(o,r)){i.$shared=!1,n=rc(n)?n():n;const h=this.createResolver(e,n,c);d=th(o,n,h)}for(const h of r)i[h]=d[h];return i}createResolver(e,r,n=[""],a){const{resolver:i}=o3(this._resolverCache,e,n);return ds(r)?th(i,r,void 0,a):i}}function o3(t,e,r){let n=t.get(e);n||(n=new Map,t.set(e,n));const a=r.join();let i=n.get(a);return i||(i={resolver:hS(e,r),subPrefixes:r.filter(c=>!c.toLowerCase().includes("hover"))},n.set(a,i)),i}const gpe=t=>ds(t)&&Object.getOwnPropertyNames(t).some(e=>rc(t[e]));function xpe(t,e){const{isScriptable:r,isIndexable:n}=dB(t);for(const a of e){const i=r(a),o=n(a),c=(o||i)&&t[a];if(i&&(rc(c)||gpe(c))||o&&tr(c))return!0}return!1}var ype="4.5.1";const bpe=["top","bottom","left","right","chartArea"];function l3(t,e){return t==="top"||t==="bottom"||bpe.indexOf(t)===-1&&e==="x"}function c3(t,e){return function(r,n){return r[t]===n[t]?r[e]-n[e]:r[t]-n[t]}}function d3(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),Gs(r&&r.onComplete,[t],e)}function vpe(t){const e=t.chart,r=e.options.animation;Gs(r&&r.onProgress,[t],e)}function PB(t){return pS()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Cx={},u3=t=>{const e=PB(t);return Object.values(Cx).filter(r=>r.canvas===e).pop()};function wpe(t,e,r){const n=Object.keys(t);for(const a of n){const i=+a;if(i>=e){const o=t[a];delete t[a],(r>0||i>e)&&(t[i+r]=o)}}}function jpe(t,e,r,n){return!r||t.type==="mouseout"?null:n?e:t}class nc{static defaults=ar;static instances=Cx;static overrides=Sd;static registry=Ri;static version=ype;static getChart=u3;static register(...e){Ri.add(...e),h3()}static unregister(...e){Ri.remove(...e),h3()}constructor(e,r){const n=this.config=new ppe(r),a=PB(e),i=u3(a);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||zme(a)),this.platform.updateConfig(n);const c=this.platform.acquireContext(a,o.aspectRatio),d=c&&c.canvas,h=d&&d.height,m=d&&d.width;if(this.id=xhe(),this.ctx=c,this.canvas=d,this.width=m,this.height=h,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new npe,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Phe(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],Cx[this.id]=this,!c||!d){console.error("Failed to create chart: can't acquire context from the given item");return}Eo.listen(this,"complete",d3),Eo.listen(this,"progress",vpe),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:n,height:a,_aspectRatio:i}=this;return as(e)?r&&i?i:a?n/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Ri}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():PD(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return RD(this.canvas,this.ctx),this}stop(){return Eo.stop(this),this}resize(e,r){Eo.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const n=this.options,a=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(a,e,r,i),c=n.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,PD(this,c,!0)&&(this.notifyPlugins("resize",{size:o}),Gs(n.onResize,[this,o],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};Ms(r,(n,a)=>{n.id=a})}buildOrUpdateScales(){const e=this.options,r=e.scales,n=this.scales,a=Object.keys(n).reduce((o,c)=>(o[c]=!1,o),{});let i=[];r&&(i=i.concat(Object.keys(r).map(o=>{const c=r[o],d=rN(o,c),h=d==="r",m=d==="x";return{options:c,dposition:h?"chartArea":m?"bottom":"left",dtype:h?"radialLinear":m?"category":"linear"}}))),Ms(i,o=>{const c=o.options,d=c.id,h=rN(d,c),m=Xt(c.type,o.dtype);(c.position===void 0||l3(c.position,h)!==l3(o.dposition))&&(c.position=o.dposition),a[d]=!0;let f=null;if(d in n&&n[d].type===m)f=n[d];else{const g=Ri.getScale(m);f=new g({id:d,type:m,ctx:this.ctx,chart:this}),n[f.id]=f}f.init(c,e)}),Ms(a,(o,c)=>{o||delete n[c]}),Ms(n,o=>{xn.configure(this,o,o.options),xn.addBox(this,o)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,n=e.length;if(e.sort((a,i)=>a.index-i.index),n>r){for(let a=r;a<n;++a)this._destroyDatasetMeta(a);e.splice(r,n-r)}this._sortedMetasets=e.slice(0).sort(c3("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((n,a)=>{r.filter(i=>i===n._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let n,a;for(this._removeUnreferencedMetasets(),n=0,a=r.length;n<a;n++){const i=r[n];let o=this.getDatasetMeta(n);const c=i.type||this.config.type;if(o.type&&o.type!==c&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=c,o.indexAxis=i.indexAxis||sN(c,this.options),o.order=i.order||0,o.index=n,o.label=""+i.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const d=Ri.getController(c),{datasetElementType:h,dataElementType:m}=ar.datasets[c];Object.assign(d,{dataElementType:Ri.getElement(m),datasetElementType:h&&Ri.getElement(h)}),o.controller=new d(this,n),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Ms(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let h=0,m=this.data.datasets.length;h<m;h++){const{controller:f}=this.getDatasetMeta(h),g=!a&&i.indexOf(f)===-1;f.buildOrUpdateElements(g),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),a||Ms(i,h=>{h.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(c3("z","_idx"));const{_active:c,_lastEvent:d}=this;d?this._eventHandler(d,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Ms(this.scales,e=>{xn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!jD(r,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:a,count:i}of r){const o=n==="_removeElements"?-i:i;wpe(e,a,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=i=>new Set(e.filter(o=>o[0]===i).map((o,c)=>c+","+o.splice(1).join(","))),a=n(0);for(let i=1;i<r;i++)if(!jD(a,n(i)))return;return Array.from(a).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;xn.update(this,this.width,this.height,e);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],Ms(this.boxes,a=>{n&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,i)=>{a._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,rc(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const n=this.getDatasetMeta(e),a={meta:n,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(n.controller._update(r),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(Eo.has(this)?this.attached&&!Eo.running(this)&&Eo.start(this):(this.draw(),d3({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,n=[];let a,i;for(a=0,i=r.length;a<i;++a){const o=r[a];(!e||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,n={meta:e,index:e.index,cancelable:!0},a=wB(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(a&&gy(r,a),e.controller.draw(),a&&xy(r),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return Oo(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,n,a){const i=bme.modes[r];return typeof i=="function"?i(this,e,n,a):[]}getDatasetMeta(e){const r=this.data.datasets[e],n=this._metasets;let a=n.filter(i=>i&&i._dataset===r).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},n.push(a)),a}getContext(){return this.$context||(this.$context=dc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(e,r){const n=this.getDatasetMeta(e);n.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,n){const a=n?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,a);vm(r)?(i.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),o.update(i,{visible:n}),this.update(c=>c.datasetIndex===e?a:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),Eo.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),RD(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete Cx[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,n=(i,o)=>{r.addEventListener(this,i,o),e[i]=o},a=(i,o,c)=>{i.offsetX=o,i.offsetY=c,this._eventHandler(i)};Ms(this.options.events,i=>n(i,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,n=(d,h)=>{r.addEventListener(this,d,h),e[d]=h},a=(d,h)=>{e[d]&&(r.removeEventListener(this,d,h),delete e[d])},i=(d,h)=>{this.canvas&&this.resize(d,h)};let o;const c=()=>{a("attach",c),this.attached=!0,this.resize(),n("resize",i),n("detach",o)};o=()=>{this.attached=!1,a("resize",i),this._stop(),this._resize(0,0),n("attach",c)},r.isAttached(this.canvas)?c():o()}unbindEvents(){Ms(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},Ms(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,n){const a=n?"set":"remove";let i,o,c,d;for(r==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+a+"DatasetHoverStyle"]()),c=0,d=e.length;c<d;++c){o=e[c];const h=o&&this.getDatasetMeta(o.datasetIndex).controller;h&&h[a+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],n=e.map(({datasetIndex:i,index:o})=>{const c=this.getDatasetMeta(i);if(!c)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:c.data[o],index:o}});!u0(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(e,r,n){return this._plugins.notify(this,e,r,n)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,n){const a=this.options.hover,i=(d,h)=>d.filter(m=>!h.some(f=>m.datasetIndex===f.datasetIndex&&m.index===f.index)),o=i(r,e),c=n?e:i(e,r);o.length&&this.updateHoverStyle(o,a.mode,!1),c.length&&a.mode&&this.updateHoverStyle(c,a.mode,!0)}_eventHandler(e,r){const n={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},a=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,a)===!1)return;const i=this._handleEvent(e,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,a),(i||n.changed)&&this.render(),this}_handleEvent(e,r,n){const{_active:a=[],options:i}=this,o=r,c=this._getActiveElements(e,a,n,o),d=_he(e),h=jpe(e,this._lastEvent,n,d);n&&(this._lastEvent=null,Gs(i.onHover,[e,c,this],this),d&&Gs(i.onClick,[e,c,this],this));const m=!u0(c,a);return(m||r)&&(this._active=c,this._updateHoverStyles(c,a,r)),this._lastEvent=h,m}_getActiveElements(e,r,n,a){if(e.type==="mouseout")return[];if(!n)return r;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,a)}}function h3(){return Ms(nc.instances,t=>t._plugins.invalidate())}function _pe(t,e,r){const{startAngle:n,x:a,y:i,outerRadius:o,innerRadius:c,options:d}=e,{borderWidth:h,borderJoinStyle:m}=d,f=Math.min(h/o,hn(n-r));if(t.beginPath(),t.arc(a,i,o-h/2,n+f/2,r-f/2),c>0){const g=Math.min(h/c,hn(n-r));t.arc(a,i,c+h/2,r-g/2,n+g/2,!0)}else{const g=Math.min(h/2,o*hn(n-r));if(m==="round")t.arc(a,i,g,r-Ss/2,n+Ss/2,!0);else if(m==="bevel"){const y=2*g*g,v=-y*Math.cos(r+Ss/2)+a,w=-y*Math.sin(r+Ss/2)+i,_=y*Math.cos(n+Ss/2)+a,b=y*Math.sin(n+Ss/2)+i;t.lineTo(v,w),t.lineTo(_,b)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function Npe(t,e,r){const{startAngle:n,pixelMargin:a,x:i,y:o,outerRadius:c,innerRadius:d}=e;let h=a/c;t.beginPath(),t.arc(i,o,c,n-h,r+h),d>a?(h=a/d,t.arc(i,o,d,r+h,n-h,!0)):t.arc(i,o,a,r+Nr,n-Nr),t.closePath(),t.clip()}function Spe(t){return uS(t,["outerStart","outerEnd","innerStart","innerEnd"])}function kpe(t,e,r,n){const a=Spe(t.options.borderRadius),i=(r-e)/2,o=Math.min(i,n*e/2),c=d=>{const h=(r-Math.min(i,d))*n/2;return tn(d,0,Math.min(i,h))};return{outerStart:c(a.outerStart),outerEnd:c(a.outerEnd),innerStart:tn(a.innerStart,0,o),innerEnd:tn(a.innerEnd,0,o)}}function _u(t,e,r,n){return{x:r+t*Math.cos(e),y:n+t*Math.sin(e)}}function x0(t,e,r,n,a,i){const{x:o,y:c,startAngle:d,pixelMargin:h,innerRadius:m}=e,f=Math.max(e.outerRadius+n+r-h,0),g=m>0?m+n+r+h:0;let y=0;const v=a-d;if(n){const se=m>0?m-n:0,X=f>0?f-n:0,M=(se+X)/2,K=M!==0?v*M/(M+n):v;y=(v-K)/2}const w=Math.max(.001,v*f-r/Ss)/f,_=(v-w)/2,b=d+_+y,N=a-_-y,{outerStart:k,outerEnd:S,innerStart:C,innerEnd:I}=kpe(e,g,f,N-b),E=f-k,U=f-S,T=b+k/E,ne=N-S/U,q=g+C,F=g+I,Y=b+C/q,O=N-I/F;if(t.beginPath(),i){const se=(T+ne)/2;if(t.arc(o,c,f,T,se),t.arc(o,c,f,se,ne),S>0){const z=_u(U,ne,o,c);t.arc(z.x,z.y,S,ne,N+Nr)}const X=_u(F,N,o,c);if(t.lineTo(X.x,X.y),I>0){const z=_u(F,O,o,c);t.arc(z.x,z.y,I,N+Nr,O+Math.PI)}const M=(N-I/g+(b+C/g))/2;if(t.arc(o,c,g,N-I/g,M,!0),t.arc(o,c,g,M,b+C/g,!0),C>0){const z=_u(q,Y,o,c);t.arc(z.x,z.y,C,Y+Math.PI,b-Nr)}const K=_u(E,b,o,c);if(t.lineTo(K.x,K.y),k>0){const z=_u(E,T,o,c);t.arc(z.x,z.y,k,b-Nr,T)}}else{t.moveTo(o,c);const se=Math.cos(T)*f+o,X=Math.sin(T)*f+c;t.lineTo(se,X);const M=Math.cos(ne)*f+o,K=Math.sin(ne)*f+c;t.lineTo(M,K)}t.closePath()}function Cpe(t,e,r,n,a){const{fullCircles:i,startAngle:o,circumference:c}=e;let d=e.endAngle;if(i){x0(t,e,r,n,d,a);for(let h=0;h<i;++h)t.fill();isNaN(c)||(d=o+(c%Zs||Zs))}return x0(t,e,r,n,d,a),t.fill(),d}function Ape(t,e,r,n,a){const{fullCircles:i,startAngle:o,circumference:c,options:d}=e,{borderWidth:h,borderJoinStyle:m,borderDash:f,borderDashOffset:g,borderRadius:y}=d,v=d.borderAlign==="inner";if(!h)return;t.setLineDash(f||[]),t.lineDashOffset=g,v?(t.lineWidth=h*2,t.lineJoin=m||"round"):(t.lineWidth=h,t.lineJoin=m||"bevel");let w=e.endAngle;if(i){x0(t,e,r,n,w,a);for(let _=0;_<i;++_)t.stroke();isNaN(c)||(w=o+(c%Zs||Zs))}v&&Npe(t,e,w),d.selfJoin&&w-o>=Ss&&y===0&&m!=="miter"&&_pe(t,e,w),i||(x0(t,e,r,n,w,a),t.stroke())}class Epe extends Xo{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,r,n){const a=this.getProps(["x","y"],n),{angle:i,distance:o}=eB(a,{x:e,y:r}),{startAngle:c,endAngle:d,innerRadius:h,outerRadius:m,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),g=(this.options.spacing+this.options.borderWidth)/2,y=Xt(f,d-c),v=wm(i,c,d)&&c!==d,w=y>=Zs||v,_=Mo(o,h+g,m+g);return w&&_}getCenterPoint(e){const{x:r,y:n,startAngle:a,endAngle:i,innerRadius:o,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:d,spacing:h}=this.options,m=(a+i)/2,f=(o+c+h+d)/2;return{x:r+Math.cos(m)*f,y:n+Math.sin(m)*f}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:r,circumference:n}=this,a=(r.offset||0)/4,i=(r.spacing||0)/2,o=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=n>Zs?Math.floor(n/Zs):0,n===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const c=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(c)*a,Math.sin(c)*a);const d=1-Math.sin(Math.min(Ss,n||0)),h=a*d;e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,Cpe(e,this,h,i,o),Ape(e,this,h,i,o),e.restore()}}function OB(t,e,r=e){t.lineCap=Xt(r.borderCapStyle,e.borderCapStyle),t.setLineDash(Xt(r.borderDash,e.borderDash)),t.lineDashOffset=Xt(r.borderDashOffset,e.borderDashOffset),t.lineJoin=Xt(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Xt(r.borderWidth,e.borderWidth),t.strokeStyle=Xt(r.borderColor,e.borderColor)}function Tpe(t,e,r){t.lineTo(r.x,r.y)}function Rpe(t){return t.stepped?Whe:t.tension||t.cubicInterpolationMode==="monotone"?Ghe:Tpe}function LB(t,e,r={}){const n=t.length,{start:a=0,end:i=n-1}=r,{start:o,end:c}=e,d=Math.max(a,o),h=Math.min(i,c),m=a<o&&i<o||a>c&&i>c;return{count:n,start:d,loop:e.loop,ilen:h<d&&!m?n+h-d:h-d}}function Dpe(t,e,r,n){const{points:a,options:i}=e,{count:o,start:c,loop:d,ilen:h}=LB(a,r,n),m=Rpe(i);let{move:f=!0,reverse:g}=n||{},y,v,w;for(y=0;y<=h;++y)v=a[(c+(g?h-y:y))%o],!v.skip&&(f?(t.moveTo(v.x,v.y),f=!1):m(t,w,v,g,i.stepped),w=v);return d&&(v=a[(c+(g?h:0))%o],m(t,w,v,g,i.stepped)),!!d}function Mpe(t,e,r,n){const a=e.points,{count:i,start:o,ilen:c}=LB(a,r,n),{move:d=!0,reverse:h}=n||{};let m=0,f=0,g,y,v,w,_,b;const N=S=>(o+(h?c-S:S))%i,k=()=>{w!==_&&(t.lineTo(m,_),t.lineTo(m,w),t.lineTo(m,b))};for(d&&(y=a[N(0)],t.moveTo(y.x,y.y)),g=0;g<=c;++g){if(y=a[N(g)],y.skip)continue;const S=y.x,C=y.y,I=S|0;I===v?(C<w?w=C:C>_&&(_=C),m=(f*m+S)/++f):(k(),t.lineTo(S,C),v=I,f=0,w=_=C),b=C}k()}function nN(t){const e=t.options,r=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?Mpe:Dpe}function Ppe(t){return t.stepped?Sfe:t.tension||t.cubicInterpolationMode==="monotone"?kfe:td}function Ope(t,e,r,n){let a=e._path;a||(a=e._path=new Path2D,e.path(a,r,n)&&a.closePath()),OB(t,e.options),t.stroke(a)}function Lpe(t,e,r,n){const{segments:a,options:i}=e,o=nN(e);for(const c of a)OB(t,i,c.style),t.beginPath(),o(t,e,c,{start:r,end:r+n-1})&&t.closePath(),t.stroke()}const Fpe=typeof Path2D=="function";function Bpe(t,e,r,n){Fpe&&!e.options.segment?Ope(t,e,r,n):Lpe(t,e,r,n)}class vy extends Xo{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const a=n.spanGaps?this._loop:this._fullLoop;xfe(this._points,n,e,a,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Dfe(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,n=e.length;return n&&r[e[n-1].end]}interpolate(e,r){const n=this.options,a=e[r],i=this.points,o=vB(this,{property:r,start:a,end:a});if(!o.length)return;const c=[],d=Ppe(n);let h,m;for(h=0,m=o.length;h<m;++h){const{start:f,end:g}=o[h],y=i[f],v=i[g];if(y===v){c.push(y);continue}const w=Math.abs((a-y[r])/(v[r]-y[r])),_=d(y,v,w,n.stepped);_[r]=e[r],c.push(_)}return c.length===1?c[0]:c}pathSegment(e,r,n){return nN(this)(e,this,r,n)}path(e,r,n){const a=this.segments,i=nN(this);let o=this._loop;r=r||0,n=n||this.points.length-r;for(const c of a)o&=i(e,this,c,{start:r,end:r+n-1});return!!o}draw(e,r,n,a){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),Bpe(e,this,n,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function f3(t,e,r,n){const a=t.options,{[r]:i}=t.getProps([r],n);return Math.abs(e-i)<a.radius+a.hitRadius}class Ipe extends Xo{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,r,n){const a=this.options,{x:i,y:o}=this.getProps(["x","y"],n);return Math.pow(e-i,2)+Math.pow(r-o,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(e,r){return f3(this,e,"x",r)}inYRange(e,r){return f3(this,e,"y",r)}getCenterPoint(e){const{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}size(e){e=e||this.options||{};let r=e.radius||0;r=Math.max(r,r&&e.hoverRadius||0);const n=r&&e.borderWidth||0;return(r+n)*2}draw(e,r){const n=this.options;this.skip||n.radius<.1||!Oo(this,r,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,tN(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function FB(t,e){const{x:r,y:n,base:a,width:i,height:o}=t.getProps(["x","y","base","width","height"],e);let c,d,h,m,f;return t.horizontal?(f=o/2,c=Math.min(r,a),d=Math.max(r,a),h=n-f,m=n+f):(f=i/2,c=r-f,d=r+f,h=Math.min(n,a),m=Math.max(n,a)),{left:c,top:h,right:d,bottom:m}}function ql(t,e,r,n){return t?0:tn(e,r,n)}function zpe(t,e,r){const n=t.options.borderWidth,a=t.borderSkipped,i=cB(n);return{t:ql(a.top,i.top,0,r),r:ql(a.right,i.right,0,e),b:ql(a.bottom,i.bottom,0,r),l:ql(a.left,i.left,0,e)}}function Upe(t,e,r){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),a=t.options.borderRadius,i=md(a),o=Math.min(e,r),c=t.borderSkipped,d=n||ds(a);return{topLeft:ql(!d||c.top||c.left,i.topLeft,0,o),topRight:ql(!d||c.top||c.right,i.topRight,0,o),bottomLeft:ql(!d||c.bottom||c.left,i.bottomLeft,0,o),bottomRight:ql(!d||c.bottom||c.right,i.bottomRight,0,o)}}function $pe(t){const e=FB(t),r=e.right-e.left,n=e.bottom-e.top,a=zpe(t,r/2,n/2),i=Upe(t,r/2,n/2);return{outer:{x:e.left,y:e.top,w:r,h:n,radius:i},inner:{x:e.left+a.l,y:e.top+a.t,w:r-a.l-a.r,h:n-a.t-a.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,i.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(a.b,a.r))}}}}function E1(t,e,r,n){const a=e===null,i=r===null,c=t&&!(a&&i)&&FB(t,n);return c&&(a||Mo(e,c.left,c.right))&&(i||Mo(r,c.top,c.bottom))}function Vpe(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function Hpe(t,e){t.rect(e.x,e.y,e.w,e.h)}function T1(t,e,r={}){const n=t.x!==r.x?-e:0,a=t.y!==r.y?-e:0,i=(t.x+t.w!==r.x+r.w?e:0)-n,o=(t.y+t.h!==r.y+r.h?e:0)-a;return{x:t.x+n,y:t.y+a,w:t.w+i,h:t.h+o,radius:t.radius}}class qpe extends Xo{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:r,options:{borderColor:n,backgroundColor:a}}=this,{inner:i,outer:o}=$pe(this),c=Vpe(o.radius)?jm:Hpe;e.save(),(o.w!==i.w||o.h!==i.h)&&(e.beginPath(),c(e,T1(o,r,i)),e.clip(),c(e,T1(i,-r,o)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),c(e,T1(i,r)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,r,n){return E1(this,e,r,n)}inXRange(e,r){return E1(this,e,null,r)}inYRange(e,r){return E1(this,null,e,r)}getCenterPoint(e){const{x:r,y:n,base:a,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(r+a)/2:r,y:i?n:(n+a)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}var Wpe=Object.freeze({__proto__:null,ArcElement:Epe,BarElement:qpe,LineElement:vy,PointElement:Ipe});const aN=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],m3=aN.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function BB(t){return aN[t%aN.length]}function IB(t){return m3[t%m3.length]}function Gpe(t,e){return t.borderColor=BB(e),t.backgroundColor=IB(e),++e}function Ype(t,e){return t.backgroundColor=t.data.map(()=>BB(e++)),e}function Kpe(t,e){return t.backgroundColor=t.data.map(()=>IB(e++)),e}function Xpe(t){let e=0;return(r,n)=>{const a=t.getDatasetMeta(n).controller;a instanceof xS?e=Ype(r,e):a instanceof SB?e=Kpe(r,e):a&&(e=Gpe(r,e))}}function p3(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function Zpe(t){return t&&(t.borderColor||t.backgroundColor)}function Qpe(){return ar.borderColor!=="rgba(0,0,0,0.1)"||ar.backgroundColor!=="rgba(0,0,0,0.1)"}var Jpe={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,r){if(!r.enabled)return;const{data:{datasets:n},options:a}=t.config,{elements:i}=a,o=p3(n)||Zpe(a)||i&&p3(i)||Qpe();if(!r.forceOverride&&o)return;const c=Xpe(t);n.forEach(c)}};function ege(t,e,r,n,a){const i=a.samples||n;if(i>=r)return t.slice(e,e+r);const o=[],c=(r-2)/(i-2);let d=0;const h=e+r-1;let m=e,f,g,y,v,w;for(o[d++]=t[m],f=0;f<i-2;f++){let _=0,b=0,N;const k=Math.floor((f+1)*c)+1+e,S=Math.min(Math.floor((f+2)*c)+1,r)+e,C=S-k;for(N=k;N<S;N++)_+=t[N].x,b+=t[N].y;_/=C,b/=C;const I=Math.floor(f*c)+1+e,E=Math.min(Math.floor((f+1)*c)+1,r)+e,{x:U,y:T}=t[m];for(y=v=-1,N=I;N<E;N++)v=.5*Math.abs((U-_)*(t[N].y-T)-(U-t[N].x)*(b-T)),v>y&&(y=v,g=t[N],w=N);o[d++]=g,m=w}return o[d++]=t[h],o}function tge(t,e,r,n){let a=0,i=0,o,c,d,h,m,f,g,y,v,w;const _=[],b=e+r-1,N=t[e].x,S=t[b].x-N;for(o=e;o<e+r;++o){c=t[o],d=(c.x-N)/S*n,h=c.y;const C=d|0;if(C===m)h<v?(v=h,f=o):h>w&&(w=h,g=o),a=(i*a+c.x)/++i;else{const I=o-1;if(!as(f)&&!as(g)){const E=Math.min(f,g),U=Math.max(f,g);E!==y&&E!==I&&_.push({...t[E],x:a}),U!==y&&U!==I&&_.push({...t[U],x:a})}o>0&&I!==y&&_.push(t[I]),_.push(c),m=C,i=0,v=w=h,f=g=y=o}}return _}function zB(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function g3(t){t.data.datasets.forEach(e=>{zB(e)})}function sge(t,e){const r=e.length;let n=0,a;const{iScale:i}=t,{min:o,max:c,minDefined:d,maxDefined:h}=i.getUserBounds();return d&&(n=tn(Po(e,i.axis,o).lo,0,r-1)),h?a=tn(Po(e,i.axis,c).hi+1,n,r)-n:a=r-n,{start:n,count:a}}var rge={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,r)=>{if(!r.enabled){g3(t);return}const n=t.width;t.data.datasets.forEach((a,i)=>{const{_data:o,indexAxis:c}=a,d=t.getDatasetMeta(i),h=o||a.data;if(Hf([c,t.options.indexAxis])==="y"||!d.controller.supportsDecimation)return;const m=t.scales[d.xAxisID];if(m.type!=="linear"&&m.type!=="time"||t.options.parsing)return;let{start:f,count:g}=sge(d,h);const y=r.threshold||4*n;if(g<=y){zB(a);return}as(o)&&(a._data=h,delete a.data,Object.defineProperty(a,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(w){this._data=w}}));let v;switch(r.algorithm){case"lttb":v=ege(h,f,g,n,r);break;case"min-max":v=tge(h,f,g,n);break;default:throw new Error(`Unsupported decimation algorithm '${r.algorithm}'`)}a._decimated=v})},destroy(t){g3(t)}};function nge(t,e,r){const n=t.segments,a=t.points,i=e.points,o=[];for(const c of n){let{start:d,end:h}=c;h=wy(d,h,a);const m=iN(r,a[d],a[h],c.loop);if(!e.segments){o.push({source:c,target:m,start:a[d],end:a[h]});continue}const f=vB(e,m);for(const g of f){const y=iN(r,i[g.start],i[g.end],g.loop),v=bB(c,a,y);for(const w of v)o.push({source:w,target:g,start:{[r]:x3(m,y,"start",Math.max)},end:{[r]:x3(m,y,"end",Math.min)}})}}return o}function iN(t,e,r,n){if(n)return;let a=e[t],i=r[t];return t==="angle"&&(a=hn(a),i=hn(i)),{property:t,start:a,end:i}}function age(t,e){const{x:r=null,y:n=null}=t||{},a=e.points,i=[];return e.segments.forEach(({start:o,end:c})=>{c=wy(o,c,a);const d=a[o],h=a[c];n!==null?(i.push({x:d.x,y:n}),i.push({x:h.x,y:n})):r!==null&&(i.push({x:r,y:d.y}),i.push({x:r,y:h.y}))}),i}function wy(t,e,r){for(;e>t;e--){const n=r[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function x3(t,e,r,n){return t&&e?n(t[r],e[r]):t?t[r]:e?e[r]:0}function UB(t,e){let r=[],n=!1;return tr(t)?(n=!0,r=t):r=age(t,e),r.length?new vy({points:r,options:{tension:0},_loop:n,_fullLoop:n}):null}function y3(t){return t&&t.fill!==!1}function ige(t,e,r){let a=t[e].fill;const i=[e];let o;if(!r)return a;for(;a!==!1&&i.indexOf(a)===-1;){if(!yr(a))return a;if(o=t[a],!o)return!1;if(o.visible)return a;i.push(a),a=o.fill}return!1}function oge(t,e,r){const n=uge(t);if(ds(n))return isNaN(n.value)?!1:n;let a=parseFloat(n);return yr(a)&&Math.floor(a)===a?lge(n[0],e,a,r):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function lge(t,e,r,n){return(t==="-"||t==="+")&&(r=e+r),r===e||r<0||r>=n?!1:r}function cge(t,e){let r=null;return t==="start"?r=e.bottom:t==="end"?r=e.top:ds(t)?r=e.getPixelForValue(t.value):e.getBasePixel&&(r=e.getBasePixel()),r}function dge(t,e,r){let n;return t==="start"?n=r:t==="end"?n=e.options.reverse?e.min:e.max:ds(t)?n=t.value:n=e.getBaseValue(),n}function uge(t){const e=t.options,r=e.fill;let n=Xt(r&&r.target,r);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function hge(t){const{scale:e,index:r,line:n}=t,a=[],i=n.segments,o=n.points,c=fge(e,r);c.push(UB({x:null,y:e.bottom},n));for(let d=0;d<i.length;d++){const h=i[d];for(let m=h.start;m<=h.end;m++)mge(a,o[m],c)}return new vy({points:a,options:{}})}function fge(t,e){const r=[],n=t.getMatchingVisibleMetas("line");for(let a=0;a<n.length;a++){const i=n[a];if(i.index===e)break;i.hidden||r.unshift(i.dataset)}return r}function mge(t,e,r){const n=[];for(let a=0;a<r.length;a++){const i=r[a],{first:o,last:c,point:d}=pge(i,e,"x");if(!(!d||o&&c)){if(o)n.unshift(d);else if(t.push(d),!c)break}}t.push(...n)}function pge(t,e,r){const n=t.interpolate(e,r);if(!n)return{};const a=n[r],i=t.segments,o=t.points;let c=!1,d=!1;for(let h=0;h<i.length;h++){const m=i[h],f=o[m.start][r],g=o[m.end][r];if(Mo(a,f,g)){c=a===f,d=a===g;break}}return{first:c,last:d,point:n}}class $B{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,r,n){const{x:a,y:i,radius:o}=this;return r=r||{start:0,end:Zs},e.arc(a,i,o,r.end,r.start,!0),!n.bounds}interpolate(e){const{x:r,y:n,radius:a}=this,i=e.angle;return{x:r+Math.cos(i)*a,y:n+Math.sin(i)*a,angle:i}}}function gge(t){const{chart:e,fill:r,line:n}=t;if(yr(r))return xge(e,r);if(r==="stack")return hge(t);if(r==="shape")return!0;const a=yge(t);return a instanceof $B?a:UB(a,n)}function xge(t,e){const r=t.getDatasetMeta(e);return r&&t.isDatasetVisible(e)?r.dataset:null}function yge(t){return(t.scale||{}).getPointPositionForValue?vge(t):bge(t)}function bge(t){const{scale:e={},fill:r}=t,n=cge(r,e);if(yr(n)){const a=e.isHorizontal();return{x:a?n:null,y:a?null:n}}return null}function vge(t){const{scale:e,fill:r}=t,n=e.options,a=e.getLabels().length,i=n.reverse?e.max:e.min,o=dge(r,e,i),c=[];if(n.grid.circular){const d=e.getPointPositionForValue(0,i);return new $B({x:d.x,y:d.y,radius:e.getDistanceFromCenterForValue(o)})}for(let d=0;d<a;++d)c.push(e.getPointPositionForValue(d,o));return c}function R1(t,e,r){const n=gge(e),{chart:a,index:i,line:o,scale:c,axis:d}=e,h=o.options,m=h.fill,f=h.backgroundColor,{above:g=f,below:y=f}=m||{},v=a.getDatasetMeta(i),w=wB(a,v);n&&o.points.length&&(gy(t,r),wge(t,{line:o,target:n,above:g,below:y,area:r,scale:c,axis:d,clip:w}),xy(t))}function wge(t,e){const{line:r,target:n,above:a,below:i,area:o,scale:c,clip:d}=e,h=r._loop?"angle":e.axis;t.save();let m=i;i!==a&&(h==="x"?(b3(t,n,o.top),D1(t,{line:r,target:n,color:a,scale:c,property:h,clip:d}),t.restore(),t.save(),b3(t,n,o.bottom)):h==="y"&&(v3(t,n,o.left),D1(t,{line:r,target:n,color:i,scale:c,property:h,clip:d}),t.restore(),t.save(),v3(t,n,o.right),m=a)),D1(t,{line:r,target:n,color:m,scale:c,property:h,clip:d}),t.restore()}function b3(t,e,r){const{segments:n,points:a}=e;let i=!0,o=!1;t.beginPath();for(const c of n){const{start:d,end:h}=c,m=a[d],f=a[wy(d,h,a)];i?(t.moveTo(m.x,m.y),i=!1):(t.lineTo(m.x,r),t.lineTo(m.x,m.y)),o=!!e.pathSegment(t,c,{move:o}),o?t.closePath():t.lineTo(f.x,r)}t.lineTo(e.first().x,r),t.closePath(),t.clip()}function v3(t,e,r){const{segments:n,points:a}=e;let i=!0,o=!1;t.beginPath();for(const c of n){const{start:d,end:h}=c,m=a[d],f=a[wy(d,h,a)];i?(t.moveTo(m.x,m.y),i=!1):(t.lineTo(r,m.y),t.lineTo(m.x,m.y)),o=!!e.pathSegment(t,c,{move:o}),o?t.closePath():t.lineTo(r,f.y)}t.lineTo(r,e.first().y),t.closePath(),t.clip()}function D1(t,e){const{line:r,target:n,property:a,color:i,scale:o,clip:c}=e,d=nge(r,n,a);for(const{source:h,target:m,start:f,end:g}of d){const{style:{backgroundColor:y=i}={}}=h,v=n!==!0;t.save(),t.fillStyle=y,jge(t,o,c,v&&iN(a,f,g)),t.beginPath();const w=!!r.pathSegment(t,h);let _;if(v){w?t.closePath():w3(t,n,g,a);const b=!!n.pathSegment(t,m,{move:w,reverse:!0});_=w&&b,_||w3(t,n,f,a)}t.closePath(),t.fill(_?"evenodd":"nonzero"),t.restore()}}function jge(t,e,r,n){const a=e.chart.chartArea,{property:i,start:o,end:c}=n||{};if(i==="x"||i==="y"){let d,h,m,f;i==="x"?(d=o,h=a.top,m=c,f=a.bottom):(d=a.left,h=o,m=a.right,f=c),t.beginPath(),r&&(d=Math.max(d,r.left),m=Math.min(m,r.right),h=Math.max(h,r.top),f=Math.min(f,r.bottom)),t.rect(d,h,m-d,f-h),t.clip()}}function w3(t,e,r,n){const a=e.interpolate(r,n);a&&t.lineTo(a.x,a.y)}var _ge={id:"filler",afterDatasetsUpdate(t,e,r){const n=(t.data.datasets||[]).length,a=[];let i,o,c,d;for(o=0;o<n;++o)i=t.getDatasetMeta(o),c=i.dataset,d=null,c&&c.options&&c instanceof vy&&(d={visible:t.isDatasetVisible(o),index:o,fill:oge(c,o,n),chart:t,axis:i.controller.options.indexAxis,scale:i.vScale,line:c}),i.$filler=d,a.push(d);for(o=0;o<n;++o)d=a[o],!(!d||d.fill===!1)&&(d.fill=ige(a,o,r.propagate))},beforeDraw(t,e,r){const n=r.drawTime==="beforeDraw",a=t.getSortedVisibleDatasetMetas(),i=t.chartArea;for(let o=a.length-1;o>=0;--o){const c=a[o].$filler;c&&(c.line.updateControlPoints(i,c.axis),n&&c.fill&&R1(t.ctx,c,i))}},beforeDatasetsDraw(t,e,r){if(r.drawTime!=="beforeDatasetsDraw")return;const n=t.getSortedVisibleDatasetMetas();for(let a=n.length-1;a>=0;--a){const i=n[a].$filler;y3(i)&&R1(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,r){const n=e.meta.$filler;!y3(n)||r.drawTime!=="beforeDatasetDraw"||R1(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const j3=(t,e)=>{let{boxHeight:r=e,boxWidth:n=e}=t;return t.usePointStyle&&(r=Math.min(r,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(e,r)}},Nge=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class _3 extends Xo{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,n){this.maxWidth=e,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=Gs(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(n=>e.filter(n,this.chart.data))),e.sort&&(r=r.sort((n,a)=>e.sort(n,a,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,a=Yr(n.font),i=a.size,o=this._computeTitleHeight(),{boxWidth:c,itemHeight:d}=j3(n,i);let h,m;r.font=a.string,this.isHorizontal()?(h=this.maxWidth,m=this._fitRows(o,i,c,d)+10):(m=this.maxHeight,h=this._fitCols(o,a,c,d)+10),this.width=Math.min(h,e.maxWidth||this.maxWidth),this.height=Math.min(m,e.maxHeight||this.maxHeight)}_fitRows(e,r,n,a){const{ctx:i,maxWidth:o,options:{labels:{padding:c}}}=this,d=this.legendHitBoxes=[],h=this.lineWidths=[0],m=a+c;let f=e;i.textAlign="left",i.textBaseline="middle";let g=-1,y=-m;return this.legendItems.forEach((v,w)=>{const _=n+r/2+i.measureText(v.text).width;(w===0||h[h.length-1]+_+2*c>o)&&(f+=m,h[h.length-(w>0?0:1)]=0,y+=m,g++),d[w]={left:0,top:y,row:g,width:_,height:a},h[h.length-1]+=_+c}),f}_fitCols(e,r,n,a){const{ctx:i,maxHeight:o,options:{labels:{padding:c}}}=this,d=this.legendHitBoxes=[],h=this.columnSizes=[],m=o-e;let f=c,g=0,y=0,v=0,w=0;return this.legendItems.forEach((_,b)=>{const{itemWidth:N,itemHeight:k}=Sge(n,r,i,_,a);b>0&&y+k+2*c>m&&(f+=g+c,h.push({width:g,height:y}),v+=g+c,w++,g=y=0),d[b]={left:v,top:y,col:w,width:N,height:k},g=Math.max(g,N),y+=k+c}),f+=g,h.push({width:g,height:y}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:a},rtl:i}}=this,o=Uu(i,this.left,this.width);if(this.isHorizontal()){let c=0,d=un(n,this.left+a,this.right-this.lineWidths[c]);for(const h of r)c!==h.row&&(c=h.row,d=un(n,this.left+a,this.right-this.lineWidths[c])),h.top+=this.top+e+a,h.left=o.leftForLtr(o.x(d),h.width),d+=h.width+a}else{let c=0,d=un(n,this.top+e+a,this.bottom-this.columnSizes[c].height);for(const h of r)h.col!==c&&(c=h.col,d=un(n,this.top+e+a,this.bottom-this.columnSizes[c].height)),h.top=d,h.left+=this.left+a,h.left=o.leftForLtr(o.x(h.left),h.width),d+=h.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;gy(e,this),this._draw(),xy(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:n,ctx:a}=this,{align:i,labels:o}=e,c=ar.color,d=Uu(e.rtl,this.left,this.width),h=Yr(o.font),{padding:m}=o,f=h.size,g=f/2;let y;this.drawTitle(),a.textAlign=d.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=h.string;const{boxWidth:v,boxHeight:w,itemHeight:_}=j3(o,f),b=function(I,E,U){if(isNaN(v)||v<=0||isNaN(w)||w<0)return;a.save();const T=Xt(U.lineWidth,1);if(a.fillStyle=Xt(U.fillStyle,c),a.lineCap=Xt(U.lineCap,"butt"),a.lineDashOffset=Xt(U.lineDashOffset,0),a.lineJoin=Xt(U.lineJoin,"miter"),a.lineWidth=T,a.strokeStyle=Xt(U.strokeStyle,c),a.setLineDash(Xt(U.lineDash,[])),o.usePointStyle){const ne={radius:w*Math.SQRT2/2,pointStyle:U.pointStyle,rotation:U.rotation,borderWidth:T},q=d.xPlus(I,v/2),F=E+g;lB(a,ne,q,F,o.pointStyleWidth&&v)}else{const ne=E+Math.max((f-w)/2,0),q=d.leftForLtr(I,v),F=md(U.borderRadius);a.beginPath(),Object.values(F).some(Y=>Y!==0)?jm(a,{x:q,y:ne,w:v,h:w,radius:F}):a.rect(q,ne,v,w),a.fill(),T!==0&&a.stroke()}a.restore()},N=function(I,E,U){kd(a,U.text,I,E+_/2,h,{strikethrough:U.hidden,textAlign:d.textAlign(U.textAlign)})},k=this.isHorizontal(),S=this._computeTitleHeight();k?y={x:un(i,this.left+m,this.right-n[0]),y:this.top+m+S,line:0}:y={x:this.left+m,y:un(i,this.top+S+m,this.bottom-r[0].height),line:0},gB(this.ctx,e.textDirection);const C=_+m;this.legendItems.forEach((I,E)=>{a.strokeStyle=I.fontColor,a.fillStyle=I.fontColor;const U=a.measureText(I.text).width,T=d.textAlign(I.textAlign||(I.textAlign=o.textAlign)),ne=v+g+U;let q=y.x,F=y.y;d.setWidth(this.width),k?E>0&&q+ne+m>this.right&&(F=y.y+=C,y.line++,q=y.x=un(i,this.left+m,this.right-n[y.line])):E>0&&F+C>this.bottom&&(q=y.x=q+r[y.line].width+m,y.line++,F=y.y=un(i,this.top+S+m,this.bottom-r[y.line].height));const Y=d.x(q);if(b(Y,F,I),q=Ohe(T,q+v+g,k?q+ne:this.right,e.rtl),N(d.x(q),F,I),k)y.x+=ne+m;else if(typeof I.text!="string"){const O=h.lineHeight;y.y+=VB(I,O)+m}else y.y+=C}),xB(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,n=Yr(r.font),a=vn(r.padding);if(!r.display)return;const i=Uu(e.rtl,this.left,this.width),o=this.ctx,c=r.position,d=n.size/2,h=a.top+d;let m,f=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),m=this.top+h,f=un(e.align,f,this.right-g);else{const v=this.columnSizes.reduce((w,_)=>Math.max(w,_.height),0);m=h+un(e.align,this.top,this.bottom-v-e.labels.padding-this._computeTitleHeight())}const y=un(c,f,f+g);o.textAlign=i.textAlign(cS(c)),o.textBaseline="middle",o.strokeStyle=r.color,o.fillStyle=r.color,o.font=n.string,kd(o,r.text,y,m,n)}_computeTitleHeight(){const e=this.options.title,r=Yr(e.font),n=vn(e.padding);return e.display?r.lineHeight+n.height:0}_getLegendItemAt(e,r){let n,a,i;if(Mo(e,this.left,this.right)&&Mo(r,this.top,this.bottom)){for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(a=i[n],Mo(e,a.left,a.left+a.width)&&Mo(r,a.top,a.top+a.height))return this.legendItems[n]}return null}handleEvent(e){const r=this.options;if(!Age(e.type,r))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const a=this._hoveredItem,i=Nge(a,n);a&&!i&&Gs(r.onLeave,[e,a,this],this),this._hoveredItem=n,n&&!i&&Gs(r.onHover,[e,n,this],this)}else n&&Gs(r.onClick,[e,n,this],this)}}function Sge(t,e,r,n,a){const i=kge(n,t,e,r),o=Cge(a,n,e.lineHeight);return{itemWidth:i,itemHeight:o}}function kge(t,e,r,n){let a=t.text;return a&&typeof a!="string"&&(a=a.reduce((i,o)=>i.length>o.length?i:o)),e+r.size/2+n.measureText(a).width}function Cge(t,e,r){let n=t;return typeof e.text!="string"&&(n=VB(e,r)),n}function VB(t,e){const r=t.text?t.text.length:0;return e*r}function Age(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Ege={id:"legend",_element:_3,start(t,e,r){const n=t.legend=new _3({ctx:t.ctx,options:r,chart:t});xn.configure(t,n,r),xn.addBox(t,n)},stop(t){xn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const n=t.legend;xn.configure(t,n,r),n.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const n=e.datasetIndex,a=r.chart;a.isDatasetVisible(n)?(a.hide(n),e.hidden=!0):(a.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:a,color:i,useBorderRadius:o,borderRadius:c}}=t.legend.options;return t._getSortedDatasetMetas().map(d=>{const h=d.controller.getStyle(r?0:void 0),m=vn(h.borderWidth);return{text:e[d.index].label,fillStyle:h.backgroundColor,fontColor:i,hidden:!d.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:h.borderColor,pointStyle:n||h.pointStyle,rotation:h.rotation,textAlign:a||h.textAlign,borderRadius:o&&(c||h.borderRadius),datasetIndex:d.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class bS extends Xo{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=r;const a=tr(n.text)?n.text.length:1;this._padding=vn(n.padding);const i=a*Yr(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:r,left:n,bottom:a,right:i,options:o}=this,c=o.align;let d=0,h,m,f;return this.isHorizontal()?(m=un(c,n,i),f=r+e,h=i-n):(o.position==="left"?(m=n+e,f=un(c,a,r),d=Ss*-.5):(m=i-e,f=un(c,r,a),d=Ss*.5),h=a-r),{titleX:m,titleY:f,maxWidth:h,rotation:d}}draw(){const e=this.ctx,r=this.options;if(!r.display)return;const n=Yr(r.font),i=n.lineHeight/2+this._padding.top,{titleX:o,titleY:c,maxWidth:d,rotation:h}=this._drawArgs(i);kd(e,r.text,0,0,n,{color:r.color,maxWidth:d,rotation:h,textAlign:cS(r.align),textBaseline:"middle",translation:[o,c]})}}function Tge(t,e){const r=new bS({ctx:t.ctx,options:e,chart:t});xn.configure(t,r,e),xn.addBox(t,r),t.titleBlock=r}var Rge={id:"title",_element:bS,start(t,e,r){Tge(t,r)},stop(t){const e=t.titleBlock;xn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,r){const n=t.titleBlock;xn.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const nx=new WeakMap;var Dge={id:"subtitle",start(t,e,r){const n=new bS({ctx:t.ctx,options:r,chart:t});xn.configure(t,n,r),xn.addBox(t,n),nx.set(t,n)},stop(t){xn.removeBox(t,nx.get(t)),nx.delete(t)},beforeUpdate(t,e,r){const n=nx.get(t);xn.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Wf={average(t){if(!t.length)return!1;let e,r,n=new Set,a=0,i=0;for(e=0,r=t.length;e<r;++e){const c=t[e].element;if(c&&c.hasValue()){const d=c.tooltipPosition();n.add(d.x),a+=d.y,++i}}return i===0||n.size===0?!1:{x:[...n].reduce((c,d)=>c+d)/n.size,y:a/i}},nearest(t,e){if(!t.length)return!1;let r=e.x,n=e.y,a=Number.POSITIVE_INFINITY,i,o,c;for(i=0,o=t.length;i<o;++i){const d=t[i].element;if(d&&d.hasValue()){const h=d.getCenterPoint(),m=J_(e,h);m<a&&(a=m,c=d)}}if(c){const d=c.tooltipPosition();r=d.x,n=d.y}return{x:r,y:n}}};function Ti(t,e){return e&&(tr(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function To(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Mge(t,e){const{element:r,datasetIndex:n,index:a}=e,i=t.getDatasetMeta(n).controller,{label:o,value:c}=i.getLabelAndValue(a);return{chart:t,label:o,parsed:i.getParsed(a),raw:t.data.datasets[n].data[a],formattedValue:c,dataset:i.getDataset(),dataIndex:a,datasetIndex:n,element:r}}function N3(t,e){const r=t.chart.ctx,{body:n,footer:a,title:i}=t,{boxWidth:o,boxHeight:c}=e,d=Yr(e.bodyFont),h=Yr(e.titleFont),m=Yr(e.footerFont),f=i.length,g=a.length,y=n.length,v=vn(e.padding);let w=v.height,_=0,b=n.reduce((S,C)=>S+C.before.length+C.lines.length+C.after.length,0);if(b+=t.beforeBody.length+t.afterBody.length,f&&(w+=f*h.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),b){const S=e.displayColors?Math.max(c,d.lineHeight):d.lineHeight;w+=y*S+(b-y)*d.lineHeight+(b-1)*e.bodySpacing}g&&(w+=e.footerMarginTop+g*m.lineHeight+(g-1)*e.footerSpacing);let N=0;const k=function(S){_=Math.max(_,r.measureText(S).width+N)};return r.save(),r.font=h.string,Ms(t.title,k),r.font=d.string,Ms(t.beforeBody.concat(t.afterBody),k),N=e.displayColors?o+2+e.boxPadding:0,Ms(n,S=>{Ms(S.before,k),Ms(S.lines,k),Ms(S.after,k)}),N=0,r.font=m.string,Ms(t.footer,k),r.restore(),_+=v.width,{width:_,height:w}}function Pge(t,e){const{y:r,height:n}=e;return r<n/2?"top":r>t.height-n/2?"bottom":"center"}function Oge(t,e,r,n){const{x:a,width:i}=n,o=r.caretSize+r.caretPadding;if(t==="left"&&a+i+o>e.width||t==="right"&&a-i-o<0)return!0}function Lge(t,e,r,n){const{x:a,width:i}=r,{width:o,chartArea:{left:c,right:d}}=t;let h="center";return n==="center"?h=a<=(c+d)/2?"left":"right":a<=i/2?h="left":a>=o-i/2&&(h="right"),Oge(h,t,e,r)&&(h="center"),h}function S3(t,e,r){const n=r.yAlign||e.yAlign||Pge(t,r);return{xAlign:r.xAlign||e.xAlign||Lge(t,e,r,n),yAlign:n}}function Fge(t,e){let{x:r,width:n}=t;return e==="right"?r-=n:e==="center"&&(r-=n/2),r}function Bge(t,e,r){let{y:n,height:a}=t;return e==="top"?n+=r:e==="bottom"?n-=a+r:n-=a/2,n}function k3(t,e,r,n){const{caretSize:a,caretPadding:i,cornerRadius:o}=t,{xAlign:c,yAlign:d}=r,h=a+i,{topLeft:m,topRight:f,bottomLeft:g,bottomRight:y}=md(o);let v=Fge(e,c);const w=Bge(e,d,h);return d==="center"?c==="left"?v+=h:c==="right"&&(v-=h):c==="left"?v-=Math.max(m,g)+a:c==="right"&&(v+=Math.max(f,y)+a),{x:tn(v,0,n.width-e.width),y:tn(w,0,n.height-e.height)}}function ax(t,e,r){const n=vn(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function C3(t){return Ti([],To(t))}function Ige(t,e,r){return dc(t,{tooltip:e,tooltipItems:r,type:"tooltip"})}function A3(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}const HB={beforeTitle:Co,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return r[e.dataIndex]}return""},afterTitle:Co,beforeBody:Co,beforeLabel:Co,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return as(r)||(e+=r),e},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:Co,afterBody:Co,beforeFooter:Co,footer:Co,afterFooter:Co};function $n(t,e,r,n){const a=t[e].call(r,n);return typeof a>"u"?HB[e].call(r,n):a}class E3 extends Xo{static positioners=Wf;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,n=this.options.setContext(this.getContext()),a=n.enabled&&r.options.animation&&n.animations,i=new jB(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=Ige(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:n}=r,a=$n(n,"beforeTitle",this,e),i=$n(n,"title",this,e),o=$n(n,"afterTitle",this,e);let c=[];return c=Ti(c,To(a)),c=Ti(c,To(i)),c=Ti(c,To(o)),c}getBeforeBody(e,r){return C3($n(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:n}=r,a=[];return Ms(e,i=>{const o={before:[],lines:[],after:[]},c=A3(n,i);Ti(o.before,To($n(c,"beforeLabel",this,i))),Ti(o.lines,$n(c,"label",this,i)),Ti(o.after,To($n(c,"afterLabel",this,i))),a.push(o)}),a}getAfterBody(e,r){return C3($n(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:n}=r,a=$n(n,"beforeFooter",this,e),i=$n(n,"footer",this,e),o=$n(n,"afterFooter",this,e);let c=[];return c=Ti(c,To(a)),c=Ti(c,To(i)),c=Ti(c,To(o)),c}_createItems(e){const r=this._active,n=this.chart.data,a=[],i=[],o=[];let c=[],d,h;for(d=0,h=r.length;d<h;++d)c.push(Mge(this.chart,r[d]));return e.filter&&(c=c.filter((m,f,g)=>e.filter(m,f,g,n))),e.itemSort&&(c=c.sort((m,f)=>e.itemSort(m,f,n))),Ms(c,m=>{const f=A3(e.callbacks,m);a.push($n(f,"labelColor",this,m)),i.push($n(f,"labelPointStyle",this,m)),o.push($n(f,"labelTextColor",this,m))}),this.labelColors=a,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=c,c}update(e,r){const n=this.options.setContext(this.getContext()),a=this._active;let i,o=[];if(!a.length)this.opacity!==0&&(i={opacity:0});else{const c=Wf[n.position].call(this,a,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const d=this._size=N3(this,n),h=Object.assign({},c,d),m=S3(this.chart,n,h),f=k3(n,h,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,i={opacity:1,x:f.x,y:f.y,width:d.width,height:d.height,caretX:c.x,caretY:c.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,n,a){const i=this.getCaretPosition(e,n,a);r.lineTo(i.x1,i.y1),r.lineTo(i.x2,i.y2),r.lineTo(i.x3,i.y3)}getCaretPosition(e,r,n){const{xAlign:a,yAlign:i}=this,{caretSize:o,cornerRadius:c}=n,{topLeft:d,topRight:h,bottomLeft:m,bottomRight:f}=md(c),{x:g,y}=e,{width:v,height:w}=r;let _,b,N,k,S,C;return i==="center"?(S=y+w/2,a==="left"?(_=g,b=_-o,k=S+o,C=S-o):(_=g+v,b=_+o,k=S-o,C=S+o),N=_):(a==="left"?b=g+Math.max(d,m)+o:a==="right"?b=g+v-Math.max(h,f)-o:b=this.caretX,i==="top"?(k=y,S=k-o,_=b-o,N=b+o):(k=y+w,S=k+o,_=b+o,N=b-o),C=k),{x1:_,x2:b,x3:N,y1:k,y2:S,y3:C}}drawTitle(e,r,n){const a=this.title,i=a.length;let o,c,d;if(i){const h=Uu(n.rtl,this.x,this.width);for(e.x=ax(this,n.titleAlign,n),r.textAlign=h.textAlign(n.titleAlign),r.textBaseline="middle",o=Yr(n.titleFont),c=n.titleSpacing,r.fillStyle=n.titleColor,r.font=o.string,d=0;d<i;++d)r.fillText(a[d],h.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+c,d+1===i&&(e.y+=n.titleMarginBottom-c)}}_drawColorBox(e,r,n,a,i){const o=this.labelColors[n],c=this.labelPointStyles[n],{boxHeight:d,boxWidth:h}=i,m=Yr(i.bodyFont),f=ax(this,"left",i),g=a.x(f),y=d<m.lineHeight?(m.lineHeight-d)/2:0,v=r.y+y;if(i.usePointStyle){const w={radius:Math.min(h,d)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},_=a.leftForLtr(g,h)+h/2,b=v+d/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,tN(e,w,_,b),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,tN(e,w,_,b)}else{e.lineWidth=ds(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const w=a.leftForLtr(g,h),_=a.leftForLtr(a.xPlus(g,1),h-2),b=md(o.borderRadius);Object.values(b).some(N=>N!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,jm(e,{x:w,y:v,w:h,h:d,radius:b}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),jm(e,{x:_,y:v+1,w:h-2,h:d-2,radius:b}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(w,v,h,d),e.strokeRect(w,v,h,d),e.fillStyle=o.backgroundColor,e.fillRect(_,v+1,h-2,d-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,r,n){const{body:a}=this,{bodySpacing:i,bodyAlign:o,displayColors:c,boxHeight:d,boxWidth:h,boxPadding:m}=n,f=Yr(n.bodyFont);let g=f.lineHeight,y=0;const v=Uu(n.rtl,this.x,this.width),w=function(U){r.fillText(U,v.x(e.x+y),e.y+g/2),e.y+=g+i},_=v.textAlign(o);let b,N,k,S,C,I,E;for(r.textAlign=o,r.textBaseline="middle",r.font=f.string,e.x=ax(this,_,n),r.fillStyle=n.bodyColor,Ms(this.beforeBody,w),y=c&&_!=="right"?o==="center"?h/2+m:h+2+m:0,S=0,I=a.length;S<I;++S){for(b=a[S],N=this.labelTextColors[S],r.fillStyle=N,Ms(b.before,w),k=b.lines,c&&k.length&&(this._drawColorBox(r,e,S,v,n),g=Math.max(f.lineHeight,d)),C=0,E=k.length;C<E;++C)w(k[C]),g=f.lineHeight;Ms(b.after,w)}y=0,g=f.lineHeight,Ms(this.afterBody,w),e.y-=i}drawFooter(e,r,n){const a=this.footer,i=a.length;let o,c;if(i){const d=Uu(n.rtl,this.x,this.width);for(e.x=ax(this,n.footerAlign,n),e.y+=n.footerMarginTop,r.textAlign=d.textAlign(n.footerAlign),r.textBaseline="middle",o=Yr(n.footerFont),r.fillStyle=n.footerColor,r.font=o.string,c=0;c<i;++c)r.fillText(a[c],d.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+n.footerSpacing}}drawBackground(e,r,n,a){const{xAlign:i,yAlign:o}=this,{x:c,y:d}=e,{width:h,height:m}=n,{topLeft:f,topRight:g,bottomLeft:y,bottomRight:v}=md(a.cornerRadius);r.fillStyle=a.backgroundColor,r.strokeStyle=a.borderColor,r.lineWidth=a.borderWidth,r.beginPath(),r.moveTo(c+f,d),o==="top"&&this.drawCaret(e,r,n,a),r.lineTo(c+h-g,d),r.quadraticCurveTo(c+h,d,c+h,d+g),o==="center"&&i==="right"&&this.drawCaret(e,r,n,a),r.lineTo(c+h,d+m-v),r.quadraticCurveTo(c+h,d+m,c+h-v,d+m),o==="bottom"&&this.drawCaret(e,r,n,a),r.lineTo(c+y,d+m),r.quadraticCurveTo(c,d+m,c,d+m-y),o==="center"&&i==="left"&&this.drawCaret(e,r,n,a),r.lineTo(c,d+f),r.quadraticCurveTo(c,d,c+f,d),r.closePath(),r.fill(),a.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,n=this.$animations,a=n&&n.x,i=n&&n.y;if(a||i){const o=Wf[e.position].call(this,this._active,this._eventPosition);if(!o)return;const c=this._size=N3(this,e),d=Object.assign({},o,this._size),h=S3(r,e,d),m=k3(e,d,h,r);(a._to!==m.x||i._to!==m.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=c.width,this.height=c.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const a={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=vn(r.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&c&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,a,r),gB(e,r.textDirection),i.y+=o.top,this.drawTitle(i,e,r),this.drawBody(i,e,r),this.drawFooter(i,e,r),xB(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const n=this._active,a=e.map(({datasetIndex:c,index:d})=>{const h=this.chart.getDatasetMeta(c);if(!h)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:h.data[d],index:d}}),i=!u0(n,a),o=this._positionChanged(a,r);(i||o)&&(this._active=a,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,i=this._active||[],o=this._getActiveElements(e,i,r,n),c=this._positionChanged(o,e),d=r||!u0(o,i)||c;return d&&(this._active=o,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),d}_getActiveElements(e,r,n,a){const i=this.options;if(e.type==="mouseout")return[];if(!a)return r.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&o.reverse(),o}_positionChanged(e,r){const{caretX:n,caretY:a,options:i}=this,o=Wf[i.position].call(this,e,r);return o!==!1&&(n!==o.x||a!==o.y)}}var zge={id:"tooltip",_element:E3,positioners:Wf,afterInit(t,e,r){r&&(t.tooltip=new E3({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:HB},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Uge=Object.freeze({__proto__:null,Colors:Jpe,Decimation:rge,Filler:_ge,Legend:Ege,SubTitle:Dge,Title:Rge,Tooltip:zge});const $ge=(t,e,r,n)=>(typeof e=="string"?(r=t.push(e)-1,n.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function Vge(t,e,r,n){const a=t.indexOf(e);if(a===-1)return $ge(t,e,r,n);const i=t.lastIndexOf(e);return a!==i?r:a}const Hge=(t,e)=>t===null?null:tn(Math.round(t),0,e);function T3(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class qge extends Ed{static id="category";static defaults={ticks:{callback:T3}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:a,label:i}of r)n[a]===i&&n.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(as(e))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===e?r:Vge(n,e,Xt(r,e),this._addedLabels),Hge(r,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:n,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),r||(a=this.getLabels().length-1)),this.min=n,this.max=a}buildTicks(){const e=this.min,r=this.max,n=this.options.offset,a=[];let i=this.getLabels();i=e===0&&r===i.length-1?i:i.slice(e,r+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=e;o<=r;o++)a.push({value:o});return a}getLabelForValue(e){return T3.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function Wge(t,e){const r=[],{bounds:a,step:i,min:o,max:c,precision:d,count:h,maxTicks:m,maxDigits:f,includeBounds:g}=t,y=i||1,v=m-1,{min:w,max:_}=e,b=!as(o),N=!as(c),k=!as(h),S=(_-w)/(f+1);let C=ND((_-w)/v/y)*y,I,E,U,T;if(C<1e-14&&!b&&!N)return[{value:w},{value:_}];T=Math.ceil(_/C)-Math.floor(w/C),T>v&&(C=ND(T*C/v/y)*y),as(d)||(I=Math.pow(10,d),C=Math.ceil(C*I)/I),a==="ticks"?(E=Math.floor(w/C)*C,U=Math.ceil(_/C)*C):(E=w,U=_),b&&N&&i&&Ahe((c-o)/i,C/1e3)?(T=Math.round(Math.min((c-o)/C,m)),C=(c-o)/T,E=o,U=c):k?(E=b?o:E,U=N?c:U,T=h-1,C=(U-E)/T):(T=(U-E)/C,sm(T,Math.round(T),C/1e3)?T=Math.round(T):T=Math.ceil(T));const ne=Math.max(SD(C),SD(E));I=Math.pow(10,as(d)?ne:d),E=Math.round(E*I)/I,U=Math.round(U*I)/I;let q=0;for(b&&(g&&E!==o?(r.push({value:o}),E<o&&q++,sm(Math.round((E+q*C)*I)/I,o,R3(o,S,t))&&q++):E<o&&q++);q<T;++q){const F=Math.round((E+q*C)*I)/I;if(N&&F>c)break;r.push({value:F})}return N&&g&&U!==c?r.length&&sm(r[r.length-1].value,c,R3(c,S,t))?r[r.length-1].value=c:r.push({value:c}):(!N||U===c)&&r.push({value:U}),r}function R3(t,e,{horizontal:r,minRotation:n}){const a=oi(n),i=(r?Math.sin(a):Math.cos(a))||.001,o=.75*e*(""+t).length;return Math.min(e/i,o)}class y0 extends Ed{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return as(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:a,max:i}=this;const o=d=>a=r?a:d,c=d=>i=n?i:d;if(e){const d=Wi(a),h=Wi(i);d<0&&h<0?c(0):d>0&&h>0&&o(0)}if(a===i){let d=i===0?1:Math.abs(i*.05);c(i+d),e||o(a-d)}this.min=a,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=e,a;return n?(a=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),r=r||11),r&&(a=Math.min(r,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const a={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},i=this._range||this,o=Wge(a,i);return e.bounds==="ticks"&&JF(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const a=(n-r)/Math.max(e.length-1,1)/2;r-=a,n+=a}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(e){return Qm(e,this.chart.options.locale,this.options.ticks.format)}}class Gge extends y0{static id="linear";static defaults={ticks:{callback:py.formatters.numeric}};determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=yr(e)?e:0,this.max=yr(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,n=oi(this.options.ticks.minRotation),a=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,i.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const Nm=t=>Math.floor(Vl(t)),Yc=(t,e)=>Math.pow(10,Nm(t)+e);function D3(t){return t/Math.pow(10,Nm(t))===1}function M3(t,e,r){const n=Math.pow(10,r),a=Math.floor(t/n);return Math.ceil(e/n)-a}function Yge(t,e){const r=e-t;let n=Nm(r);for(;M3(t,e,n)>10;)n++;for(;M3(t,e,n)<10;)n--;return Math.min(n,Nm(t))}function Kge(t,{min:e,max:r}){e=ha(t.min,e);const n=[],a=Nm(e);let i=Yge(e,r),o=i<0?Math.pow(10,Math.abs(i)):1;const c=Math.pow(10,i),d=a>i?Math.pow(10,a):0,h=Math.round((e-d)*o)/o,m=Math.floor((e-d)/c/10)*c*10;let f=Math.floor((h-m)/Math.pow(10,i)),g=ha(t.min,Math.round((d+m+f*Math.pow(10,i))*o)/o);for(;g<r;)n.push({value:g,major:D3(g),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(i++,f=2,o=i>=0?1:o),g=Math.round((d+m+f*Math.pow(10,i))*o)/o;const y=ha(t.max,g);return n.push({value:y,major:D3(y),significand:f}),n}class Xge extends Ed{static id="logarithmic";static defaults={ticks:{callback:py.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,r){const n=y0.prototype.parse.apply(this,[e,r]);if(n===0){this._zero=!0;return}return yr(n)&&n>0?n:null}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=yr(e)?Math.max(0,e):null,this.max=yr(r)?Math.max(0,r):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!yr(this._userMin)&&(this.min=e===Yc(this.min,0)?Yc(this.min,-1):Yc(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let n=this.min,a=this.max;const i=c=>n=e?n:c,o=c=>a=r?a:c;n===a&&(n<=0?(i(1),o(10)):(i(Yc(n,-1)),o(Yc(a,1)))),n<=0&&i(Yc(a,-1)),a<=0&&o(Yc(n,1)),this.min=n,this.max=a}buildTicks(){const e=this.options,r={min:this._userMin,max:this._userMax},n=Kge(r,this);return e.bounds==="ticks"&&JF(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":Qm(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Vl(e),this._valueRange=Vl(this.max)-Vl(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Vl(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const r=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+r*this._valueRange)}}function oN(t){const e=t.ticks;if(e.display&&t.display){const r=vn(e.backdropPadding);return Xt(e.font&&e.font.size,ar.font.size)+r.height}return 0}function Zge(t,e,r){return r=tr(r)?r:[r],{w:qhe(t,e.string,r),h:r.length*e.lineHeight}}function P3(t,e,r,n,a){return t===n||t===a?{start:e-r/2,end:e+r/2}:t<n||t>a?{start:e-r,end:e}:{start:e,end:e+r}}function Qge(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},r=Object.assign({},e),n=[],a=[],i=t._pointLabels.length,o=t.options.pointLabels,c=o.centerPointLabels?Ss/i:0;for(let d=0;d<i;d++){const h=o.setContext(t.getPointLabelContext(d));a[d]=h.padding;const m=t.getPointPosition(d,t.drawingArea+a[d],c),f=Yr(h.font),g=Zge(t.ctx,f,t._pointLabels[d]);n[d]=g;const y=hn(t.getIndexAngle(d)+c),v=Math.round(oS(y)),w=P3(v,m.x,g.w,0,180),_=P3(v,m.y,g.h,90,270);Jge(r,e,y,w,_)}t.setCenterPoint(e.l-r.l,r.r-e.r,e.t-r.t,r.b-e.b),t._pointLabelItems=sxe(t,n,a)}function Jge(t,e,r,n,a){const i=Math.abs(Math.sin(r)),o=Math.abs(Math.cos(r));let c=0,d=0;n.start<e.l?(c=(e.l-n.start)/i,t.l=Math.min(t.l,e.l-c)):n.end>e.r&&(c=(n.end-e.r)/i,t.r=Math.max(t.r,e.r+c)),a.start<e.t?(d=(e.t-a.start)/o,t.t=Math.min(t.t,e.t-d)):a.end>e.b&&(d=(a.end-e.b)/o,t.b=Math.max(t.b,e.b+d))}function exe(t,e,r){const n=t.drawingArea,{extra:a,additionalAngle:i,padding:o,size:c}=r,d=t.getPointPosition(e,n+a+o,i),h=Math.round(oS(hn(d.angle+Nr))),m=axe(d.y,c.h,h),f=rxe(h),g=nxe(d.x,c.w,f);return{visible:!0,x:d.x,y:m,textAlign:f,left:g,top:m,right:g+c.w,bottom:m+c.h}}function txe(t,e){if(!e)return!0;const{left:r,top:n,right:a,bottom:i}=t;return!(Oo({x:r,y:n},e)||Oo({x:r,y:i},e)||Oo({x:a,y:n},e)||Oo({x:a,y:i},e))}function sxe(t,e,r){const n=[],a=t._pointLabels.length,i=t.options,{centerPointLabels:o,display:c}=i.pointLabels,d={extra:oN(i)/2,additionalAngle:o?Ss/a:0};let h;for(let m=0;m<a;m++){d.padding=r[m],d.size=e[m];const f=exe(t,m,d);n.push(f),c==="auto"&&(f.visible=txe(f,h),f.visible&&(h=f))}return n}function rxe(t){return t===0||t===180?"center":t<180?"left":"right"}function nxe(t,e,r){return r==="right"?t-=e:r==="center"&&(t-=e/2),t}function axe(t,e,r){return r===90||r===270?t-=e/2:(r>270||r<90)&&(t-=e),t}function ixe(t,e,r){const{left:n,top:a,right:i,bottom:o}=r,{backdropColor:c}=e;if(!as(c)){const d=md(e.borderRadius),h=vn(e.backdropPadding);t.fillStyle=c;const m=n-h.left,f=a-h.top,g=i-n+h.width,y=o-a+h.height;Object.values(d).some(v=>v!==0)?(t.beginPath(),jm(t,{x:m,y:f,w:g,h:y,radius:d}),t.fill()):t.fillRect(m,f,g,y)}}function oxe(t,e){const{ctx:r,options:{pointLabels:n}}=t;for(let a=e-1;a>=0;a--){const i=t._pointLabelItems[a];if(!i.visible)continue;const o=n.setContext(t.getPointLabelContext(a));ixe(r,o,i);const c=Yr(o.font),{x:d,y:h,textAlign:m}=i;kd(r,t._pointLabels[a],d,h+c.lineHeight/2,c,{color:o.color,textAlign:m,textBaseline:"middle"})}}function qB(t,e,r,n){const{ctx:a}=t;if(r)a.arc(t.xCenter,t.yCenter,e,0,Zs);else{let i=t.getPointPosition(0,e);a.moveTo(i.x,i.y);for(let o=1;o<n;o++)i=t.getPointPosition(o,e),a.lineTo(i.x,i.y)}}function lxe(t,e,r,n,a){const i=t.ctx,o=e.circular,{color:c,lineWidth:d}=e;!o&&!n||!c||!d||r<0||(i.save(),i.strokeStyle=c,i.lineWidth=d,i.setLineDash(a.dash||[]),i.lineDashOffset=a.dashOffset,i.beginPath(),qB(t,r,o,n),i.closePath(),i.stroke(),i.restore())}function cxe(t,e,r){return dc(t,{label:r,index:e,type:"pointLabel"})}class dxe extends y0{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:py.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=vn(oN(this.options)/2),r=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+r/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(r,n)/2)}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!1);this.min=yr(e)&&!isNaN(e)?e:0,this.max=yr(r)&&!isNaN(r)?r:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/oN(this.options))}generateTickLabels(e){y0.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((r,n)=>{const a=Gs(this.options.pointLabels.callback,[r,n],this);return a||a===0?a:""}).filter((r,n)=>this.chart.getDataVisibility(n))}fit(){const e=this.options;e.display&&e.pointLabels.display?Qge(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,r,n,a){this.xCenter+=Math.floor((e-r)/2),this.yCenter+=Math.floor((n-a)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,r,n,a))}getIndexAngle(e){const r=Zs/(this._pointLabels.length||1),n=this.options.startAngle||0;return hn(e*r+oi(n))}getDistanceFromCenterForValue(e){if(as(e))return NaN;const r=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*r:(e-this.min)*r}getValueForDistanceFromCenter(e){if(as(e))return NaN;const r=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-r:this.min+r}getPointLabelContext(e){const r=this._pointLabels||[];if(e>=0&&e<r.length){const n=r[e];return cxe(this.getContext(),e,n)}}getPointPosition(e,r,n=0){const a=this.getIndexAngle(e)-Nr+n;return{x:Math.cos(a)*r+this.xCenter,y:Math.sin(a)*r+this.yCenter,angle:a}}getPointPositionForValue(e,r){return this.getPointPosition(e,this.getDistanceFromCenterForValue(r))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:r,top:n,right:a,bottom:i}=this._pointLabelItems[e];return{left:r,top:n,right:a,bottom:i}}drawBackground(){const{backgroundColor:e,grid:{circular:r}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),qB(this,this.getDistanceFromCenterForValue(this._endValue),r,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,r=this.options,{angleLines:n,grid:a,border:i}=r,o=this._pointLabels.length;let c,d,h;if(r.pointLabels.display&&oxe(this,o),a.display&&this.ticks.forEach((m,f)=>{if(f!==0||f===0&&this.min<0){d=this.getDistanceFromCenterForValue(m.value);const g=this.getContext(f),y=a.setContext(g),v=i.setContext(g);lxe(this,y,d,o,v)}}),n.display){for(e.save(),c=o-1;c>=0;c--){const m=n.setContext(this.getPointLabelContext(c)),{color:f,lineWidth:g}=m;!g||!f||(e.lineWidth=g,e.strokeStyle=f,e.setLineDash(m.borderDash),e.lineDashOffset=m.borderDashOffset,d=this.getDistanceFromCenterForValue(r.reverse?this.min:this.max),h=this.getPointPosition(c,d),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(h.x,h.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,r=this.options,n=r.ticks;if(!n.display)return;const a=this.getIndexAngle(0);let i,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(a),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((c,d)=>{if(d===0&&this.min>=0&&!r.reverse)return;const h=n.setContext(this.getContext(d)),m=Yr(h.font);if(i=this.getDistanceFromCenterForValue(this.ticks[d].value),h.showLabelBackdrop){e.font=m.string,o=e.measureText(c.label).width,e.fillStyle=h.backdropColor;const f=vn(h.backdropPadding);e.fillRect(-o/2-f.left,-i-m.size/2-f.top,o+f.width,m.size+f.height)}kd(e,c.label,0,-i,m,{color:h.color,strokeColor:h.textStrokeColor,strokeWidth:h.textStrokeWidth})}),e.restore()}drawTitle(){}}const jy={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Wn=Object.keys(jy);function O3(t,e){return t-e}function L3(t,e){if(as(e))return null;const r=t._adapter,{parser:n,round:a,isoWeekday:i}=t._parseOpts;let o=e;return typeof n=="function"&&(o=n(o)),yr(o)||(o=typeof n=="string"?r.parse(o,n):r.parse(o)),o===null?null:(a&&(o=a==="week"&&(eh(i)||i===!0)?r.startOf(o,"isoWeek",i):r.startOf(o,a)),+o)}function F3(t,e,r,n){const a=Wn.length;for(let i=Wn.indexOf(t);i<a-1;++i){const o=jy[Wn[i]],c=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((r-e)/(c*o.size))<=n)return Wn[i]}return Wn[a-1]}function uxe(t,e,r,n,a){for(let i=Wn.length-1;i>=Wn.indexOf(r);i--){const o=Wn[i];if(jy[o].common&&t._adapter.diff(a,n,o)>=e-1)return o}return Wn[r?Wn.indexOf(r):0]}function hxe(t){for(let e=Wn.indexOf(t)+1,r=Wn.length;e<r;++e)if(jy[Wn[e]].common)return Wn[e]}function B3(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:n,hi:a}=lS(r,e),i=r[n]>=e?r[n]:r[a];t[i]=!0}}function fxe(t,e,r,n){const a=t._adapter,i=+a.startOf(e[0].value,n),o=e[e.length-1].value;let c,d;for(c=i;c<=o;c=+a.add(c,1,n))d=r[c],d>=0&&(e[d].major=!0);return e}function I3(t,e,r){const n=[],a={},i=e.length;let o,c;for(o=0;o<i;++o)c=e[o],a[c]=o,n.push({value:c,major:!1});return i===0||!r?n:fxe(t,n,a,r)}class lN extends Ed{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const n=e.time||(e.time={}),a=this._adapter=new mme._date(e.adapters.date);a.init(r),tm(n.displayFormats,a.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:L3(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,n=e.time.unit||"day";let{min:a,max:i,minDefined:o,maxDefined:c}=this.getUserBounds();function d(h){!o&&!isNaN(h.min)&&(a=Math.min(a,h.min)),!c&&!isNaN(h.max)&&(i=Math.max(i,h.max))}(!o||!c)&&(d(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&d(this.getMinMax(!1))),a=yr(a)&&!isNaN(a)?a:+r.startOf(Date.now(),n),i=yr(i)&&!isNaN(i)?i:+r.endOf(Date.now(),n)+1,this.min=Math.min(a,i-1),this.max=Math.max(a+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],n=e[e.length-1]),{min:r,max:n}}buildTicks(){const e=this.options,r=e.time,n=e.ticks,a=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const i=this.min,o=this.max,c=Dhe(a,i,o);return this._unit=r.unit||(n.autoSkip?F3(r.minUnit,this.min,this.max,this._getLabelCapacity(i)):uxe(this,c.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:hxe(this._unit),this.initOffsets(a),e.reverse&&c.reverse(),I3(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,n=0,a,i;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?r=1-a:r=(this.getDecimalForValue(e[1])-a)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?n=i:n=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;r=tn(r,0,o),n=tn(n,0,o),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const e=this._adapter,r=this.min,n=this.max,a=this.options,i=a.time,o=i.unit||F3(i.minUnit,r,n,this._getLabelCapacity(r)),c=Xt(a.ticks.stepSize,1),d=o==="week"?i.isoWeekday:!1,h=eh(d)||d===!0,m={};let f=r,g,y;if(h&&(f=+e.startOf(f,"isoWeek",d)),f=+e.startOf(f,h?"day":o),e.diff(n,r,o)>1e5*c)throw new Error(r+" and "+n+" are too far apart with stepSize of "+c+" "+o);const v=a.ticks.source==="data"&&this.getDataTimestamps();for(g=f,y=0;g<n;g=+e.add(g,c,o),y++)B3(m,g,v);return(g===n||a.bounds==="ticks"||y===1)&&B3(m,g,v),Object.keys(m).sort(O3).map(w=>+w)}getLabelForValue(e){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(e,n.tooltipFormat):r.format(e,n.displayFormats.datetime)}format(e,r){const a=this.options.time.displayFormats,i=this._unit,o=r||a[i];return this._adapter.format(e,o)}_tickFormatFunction(e,r,n,a){const i=this.options,o=i.ticks.callback;if(o)return Gs(o,[e,r,n],this);const c=i.time.displayFormats,d=this._unit,h=this._majorUnit,m=d&&c[d],f=h&&c[h],g=n[r],y=h&&f&&g&&g.major;return this._adapter.format(e,a||(y?f:m))}generateTickLabels(e){let r,n,a;for(r=0,n=e.length;r<n;++r)a=e[r],a.label=this._tickFormatFunction(a.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,n=this.ctx.measureText(e).width,a=oi(this.isHorizontal()?r.maxRotation:r.minRotation),i=Math.cos(a),o=Math.sin(a),c=this._resolveTickFontOptions(0).size;return{w:n*i+c*o,h:n*o+c*i}}_getLabelCapacity(e){const r=this.options.time,n=r.displayFormats,a=n[r.unit]||n.millisecond,i=this._tickFormatFunction(e,0,I3(this,[e],this._majorUnit),a),o=this._getLabelSize(i),c=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],r,n;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(r=0,n=a.length;r<n;++r)e=e.concat(a[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,n;if(e.length)return e;const a=this.getLabels();for(r=0,n=a.length;r<n;++r)e.push(L3(this,a[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return sB(e.sort(O3))}}function ix(t,e,r){let n=0,a=t.length-1,i,o,c,d;r?(e>=t[n].pos&&e<=t[a].pos&&({lo:n,hi:a}=Po(t,"pos",e)),{pos:i,time:c}=t[n],{pos:o,time:d}=t[a]):(e>=t[n].time&&e<=t[a].time&&({lo:n,hi:a}=Po(t,"time",e)),{time:i,pos:c}=t[n],{time:o,pos:d}=t[a]);const h=o-i;return h?c+(d-c)*(e-i)/h:c}class mxe extends lN{static id="timeseries";static defaults=lN.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=ix(r,this.min),this._tableRange=ix(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:n}=this,a=[],i=[];let o,c,d,h,m;for(o=0,c=e.length;o<c;++o)h=e[o],h>=r&&h<=n&&a.push(h);if(a.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(o=0,c=a.length;o<c;++o)m=a[o+1],d=a[o-1],h=a[o],Math.round((m+d)/2)!==h&&i.push({time:h,pos:o/(c-1)});return i}_generate(){const e=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((a,i)=>a-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?e=this.normalize(r.concat(n)):e=r.length?r:n,e=this._cache.all=e,e}getDecimalForValue(e){return(ix(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return ix(this._table,n*this._tableRange+this._minPos,!0)}}var pxe=Object.freeze({__proto__:null,CategoryScale:qge,LinearScale:Gge,LogarithmicScale:Xge,RadialLinearScale:dxe,TimeScale:lN,TimeSeriesScale:mxe});const vS=[fme,Wpe,Uge,pxe];nc.register(...vS);const gxe={normal:"Normal",sport:"Sport",luxury:"Luxury",commercial:"Commercial",industrial:"Industrial",event:"Event",sea:"Sea"},xxe={"4x4":"4x4 / AWD","2_front":"Front Wheel","2_back":"Rear Wheel",autoblock:"Autoblock"},yxe={automatic:"Automatic",manual:"Manual"},bxe={benz:"Gasoline",diesel:"Diesel",electric:"Electric",hybrid:"Hybrid"},Ft={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640"},WB=[{key:"7d",label:"Last 7 days",period:"days",period_value:7},{key:"30d",label:"Last 30 days",period:"days",period_value:30},{key:"3m",label:"Last 3 months",period:"months",period_value:3},{key:"12m",label:"Last 12 months",period:"months",period_value:12},{key:"all",label:"All time",period:null,period_value:null}];function vxe(t,e,r){if(t==="custom"&&e&&r)return{date_from:e,date_to:r};const n=WB.find(a=>a.key===t);return!n||n.key==="all"||!n.period?{}:{period:n.period,period_value:n.period_value}}function wxe(t){if(!t)return"";if(t.length===10)return new Date(t+"T12:00:00").toLocaleDateString("en-US",{month:"short",day:"numeric"});if(t.length===7){const[e,r]=t.split("-");return new Date(parseInt(e,10),parseInt(r,10)-1).toLocaleDateString("en-US",{month:"short",year:"numeric"})}if(t.match(/^\d{4}-\d{1,2}$/)){const[e,r]=t.split("-");return`Week ${r}, ${e}`}return t}const jxe=()=>{const[t,e]=j.useState(!1),[r,n]=j.useState(null),[a,i]=j.useState(null),[o,c]=j.useState(null),[d,h]=j.useState(!0),[m,f]=j.useState(null),[g,y]=j.useState("30d"),[v,w]=j.useState(""),[_,b]=j.useState(""),N=j.useRef({});j.useEffect(()=>{const E=localStorage.getItem("theme"),U=window.matchMedia("(prefers-color-scheme: dark)").matches,T=E==="dark"||!E&&U;e(T),document.documentElement.classList.toggle("dark",T)},[]);const k=()=>{const E=!t;e(E),document.documentElement.classList.toggle("dark",E),localStorage.setItem("theme",E?"dark":"light")};j.useEffect(()=>{const E=JSON.parse(localStorage.getItem("user"));E&&n(E)},[]);const S=j.useCallback(async()=>{try{h(!0),f(null);const E=vxe(g,v,_),U=await Tue(E);if(U.data?.success)i(U.data.data??null),c(U.data.filter_applied??null);else throw new Error("Invalid response format")}catch(E){console.error("Statistics fetch error:",E);const U=E.response?.data?.message||E.message||"Failed to load statistics";f(U),be.error(U),E.response?.status===401&&be.error("Please log in to view statistics")}finally{h(!1)}},[g,v,_]);j.useEffect(()=>{S()},[S]);const C={darkBlue:`${Ft.darkBlue}CC`,teal:`${Ft.teal}CC`,limeGreen:`${Ft.limeGreen}CC`,tealSolid:Ft.teal,limeGreenSolid:Ft.limeGreen,tealLight:`${Ft.teal}44`};j.useEffect(()=>{if(!a)return;const E=()=>{Object.values(N.current).forEach(T=>{T&&typeof T.destroy=="function"&&T.destroy()}),N.current={}},U=(T,ne,q,F,Y,O={})=>{const se=document.getElementById(T);if(!se)return;const X=Array.isArray(Y)?Y:[Y],M=new nc(se,{type:ne,data:{labels:q,datasets:[{label:O.label||"Count",data:F,backgroundColor:X,borderColor:X.map(K=>K.replace(/CC$/,"FF").replace(/44$/,"FF")),borderWidth:3,borderRadius:ne==="bar"?12:0,hoverOffset:ne==="doughnut"||ne==="pie"?20:0,fill:O.fill!==void 0?O.fill:!1,tension:O.tension||0,pointRadius:O.pointRadius||3,pointBackgroundColor:O.pointColor||C.limeGreenSolid,pointBorderColor:"#fff",pointBorderWidth:2,pointHoverRadius:O.pointHoverRadius||5}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:ne==="bar"||ne==="line"?"top":"bottom",labels:{color:t?"#9ca3af":"#4b5563",padding:15,font:{size:12,weight:"600"},usePointStyle:!0,pointStyle:"circle"}},tooltip:{backgroundColor:t?"rgba(0,0,0,0.9)":"rgba(255,255,255,0.95)",titleColor:t?"#fff":"#000",bodyColor:t?"#e5e7eb":"#374151",borderColor:C.tealSolid,borderWidth:1,padding:12,titleFont:{size:13,weight:"bold"},bodyFont:{size:12},cornerRadius:8}},animation:{duration:1200,easing:"easeOutQuart"},scales:ne==="bar"||ne==="line"?{y:{beginAtZero:!0,grid:{color:t?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.05)"},ticks:{color:t?"#9ca3af":"#6b7280",font:{size:11,weight:"600"}}},x:{grid:{display:!1},ticks:{color:t?"#9ca3af":"#6b7280",font:{size:11,weight:"600"}}}}:{}}});N.current[T]=M};if(E(),a.by_category?.length>0&&U("catChart","doughnut",a.by_category.map(T=>gxe[T.category]||T.category),a.by_category.map(T=>T.total),[C.darkBlue,C.teal,C.limeGreen]),a.by_make?.length>0){const T=a.by_make.slice(0,6);U("makeChart","bar",T.map(ne=>ne.make),T.map(ne=>ne.total),C.teal)}if(a.by_transmission?.length>0&&U("transChart","pie",a.by_transmission.map(T=>yxe[T.transmission]||T.transmission),a.by_transmission.map(T=>T.total),[C.darkBlue,C.limeGreen]),a.by_fuel_type?.length>0&&U("fuelChart","doughnut",a.by_fuel_type.map(T=>bxe[T.fuel_type]||T.fuel_type),a.by_fuel_type.map(T=>T.total),[C.teal,C.limeGreen]),a.by_drive_type?.length>0&&U("driveChart","doughnut",a.by_drive_type.map(T=>xxe[T.drive_type]||T.drive_type),a.by_drive_type.map(T=>T.total),[C.darkBlue,C.teal,C.limeGreen]),a.by_city?.length>0){const T=a.by_city.slice(0,10);U("cityChart","bar",T.map(ne=>ne.city),T.map(ne=>ne.total),C.teal)}if(a.search_trends?.length>0){const T=document.getElementById("trendsChart");if(T){const ne=T.getContext("2d").createLinearGradient(0,0,0,300);ne.addColorStop(0,C.tealLight),ne.addColorStop(1,"rgba(255,255,255,0)");const q=new nc(T,{type:"line",data:{labels:a.search_trends.map(F=>wxe(F.date)),datasets:[{label:"Daily Searches",data:a.search_trends.map(F=>F.total),backgroundColor:ne,borderColor:C.tealSolid,borderWidth:3,fill:!0,tension:.4,pointRadius:6,pointBackgroundColor:C.limeGreenSolid,pointBorderColor:"#fff",pointBorderWidth:2,pointHoverRadius:8}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:t?"rgba(0,0,0,0.9)":"rgba(255,255,255,0.95)",titleColor:t?"#fff":"#000",bodyColor:t?"#e5e7eb":"#374151",borderColor:C.tealSolid,borderWidth:1,padding:12,cornerRadius:8}},animation:{duration:1200,easing:"easeOutQuart"},scales:{y:{beginAtZero:!0,grid:{color:t?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.05)"},ticks:{color:t?"#9ca3af":"#6b7280",font:{size:11,weight:"600"}}},x:{grid:{display:!1},ticks:{color:t?"#9ca3af":"#6b7280",font:{size:11,weight:"600"}}}}}});N.current.trendsChart=q}}return()=>E()},[t,a]);const I=()=>{localStorage.clear(),window.location.href="/auth"};return d?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-t-transparent rounded-full animate-spin mx-auto mb-4",style:{borderColor:Ft.teal,borderTopColor:"transparent"}}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading statistics..."})]})}):m?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-red-100 dark:bg-red-900/20 flex items-center justify-center mx-auto mb-4",children:s.jsx("span",{className:"text-3xl",children:""})}),s.jsx("p",{className:"text-red-600 dark:text-red-400 mb-4",children:m}),s.jsx(pe,{onClick:()=>window.location.reload(),style:{backgroundColor:Ft.teal},children:"Retry"})]})}):a?s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900",children:[s.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:[s.jsx(st.div,{animate:{scale:[1,1.15,1],opacity:[.08,.12,.08]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute -top-1/4 -left-1/4 w-1/3 h-1/3 rounded-full blur-3xl",style:{backgroundColor:`${Ft.darkBlue}30`}}),s.jsx(st.div,{animate:{scale:[1,1.2,1],opacity:[.06,.1,.06]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:2},className:"absolute top-1/2 -right-1/4 w-1/3 h-1/3 rounded-full blur-3xl",style:{backgroundColor:`${Ft.teal}30`}})]}),s.jsx("header",{className:"border-b border-gray-200 dark:border-gray-800 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl sticky top-0 z-50 shadow-sm",children:s.jsx("div",{className:"container mx-auto px-4 md:px-6 py-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(Vu,{className:"w-6 h-6 md:w-7 md:h-7",style:{color:Ft.teal}}),s.jsx("div",{children:s.jsx("h1",{className:"text-lg md:text-2xl font-bold bg-gradient-to-r from-[#0E4C81] via-[#008C95] to-[#8AC640] bg-clip-text text-transparent",children:"Search Analytics"})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[r&&s.jsxs(We,{variant:"outline",className:"hidden md:flex items-center gap-2 px-3 py-1",style:{borderColor:Ft.teal},children:[s.jsx(ks,{className:"w-3 h-3",style:{color:Ft.teal}}),s.jsx("span",{className:"text-sm font-semibold",children:r?.username||"User"})]}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:k,className:"hover:bg-gray-100 dark:hover:bg-gray-800 h-9 w-9","aria-label":"Toggle dark mode",children:t?s.jsx($x,{className:"w-4 h-4"}):s.jsx(Ux,{className:"w-4 h-4"})}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:I,className:"hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-600 h-9 w-9","aria-label":"Log out",children:s.jsx(Xl,{className:"w-4 h-4"})})]})]})})}),s.jsxs("main",{className:"container mx-auto px-4 md:px-6 py-6 md:py-8 max-w-7xl relative z-10",children:[s.jsxs(st.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[WB.map(E=>s.jsx(pe,{variant:g===E.key?"default":"outline",size:"sm",onClick:()=>y(E.key),style:g===E.key?{backgroundColor:Ft.teal}:{},children:E.label},E.key)),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Custom:"}),s.jsx("input",{type:"date",value:v,onChange:E=>w(E.target.value),className:"rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm px-2 py-1.5"}),s.jsx("span",{className:"text-gray-500",children:""}),s.jsx("input",{type:"date",value:_,onChange:E=>b(E.target.value),className:"rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm px-2 py-1.5"}),s.jsx(pe,{size:"sm",onClick:()=>y("custom"),disabled:!v||!_,style:{backgroundColor:Ft.darkBlue},children:"Apply"})]})]}),s.jsx("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:o?.label??"All time"})]}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4 mb-6 md:mb-8",children:[s.jsx(ox,{icon:lm,title:"Total Searches",value:a.total_searches?.toLocaleString()??"0",gradient:`linear-gradient(135deg, ${Ft.darkBlue}, ${Ft.teal})`,delay:0}),s.jsx(ox,{icon:ks,title:"Active Users",value:a.total_users?.toString()??"0",subtitle:Number(a.total_users)>0?`~${Math.round(Number(a.total_searches)/Number(a.total_users))} avg searches`:void 0,gradient:`linear-gradient(135deg, ${Ft.teal}, ${Ft.limeGreen})`,delay:.1}),s.jsx(ox,{icon:Zl,title:"Top Make",value:a.by_make?.[0]?.make||"",subtitle:`${a.by_make?.[0]?.total||0} searches`,gradient:`linear-gradient(135deg, ${Ft.limeGreen}, ${Ft.teal})`,delay:.2}),s.jsx(ox,{icon:zl,title:"Popular Category",value:a.by_category?.[0]?.category||"",subtitle:`${a.by_category?.[0]?.total||0} searches`,gradient:`linear-gradient(135deg, ${Ft.darkBlue}, ${Ft.limeGreen})`,delay:.3})]}),a.search_trends?.length>0&&s.jsx(st.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"mb-6 md:mb-8",children:s.jsx(Ue,{className:"bg-white/90 dark:bg-gray-900/90 backdrop-blur shadow-xl rounded-xl border hover:shadow-2xl transition-all duration-300",style:{borderColor:`${Ft.teal}40`},children:s.jsxs(qe,{className:"p-4 md:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-9 h-9 md:w-10 md:h-10 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${Ft.darkBlue}, ${Ft.teal})`},children:s.jsx(Zl,{className:"w-4 h-4 md:w-5 md:h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-base md:text-lg font-bold dark:text-white",children:"Search Trends"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Daily activity"})]})]}),s.jsx(We,{className:"text-xs px-2 py-1",style:{backgroundColor:`${Ft.limeGreen}30`,color:Ft.limeGreen},children:o?.label??(a.search_trends.length?`${a.search_trends.length} points`:"")})]}),s.jsx("div",{className:"h-48 md:h-56",children:s.jsx("canvas",{id:"trendsChart"})})]})})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6 mb-6 md:mb-8",children:[a.by_category?.length>0&&s.jsx(Nu,{title:"By Category",subtitle:"Distribution",icon:Gt,id:"catChart",delay:.5}),a.by_make?.length>0&&s.jsx(Nu,{title:"Top Makes",subtitle:"Most searched",icon:rr,id:"makeChart",delay:.6}),a.by_transmission?.length>0&&s.jsx(Nu,{title:"Transmission",subtitle:"Preferences",icon:zl,id:"transChart",delay:.7}),a.by_fuel_type?.length>0&&s.jsx(Nu,{title:"Fuel Type",subtitle:"Distribution",icon:Wx,id:"fuelChart",delay:.8}),a.by_drive_type?.length>0&&s.jsx(Nu,{title:"Drive Type",subtitle:"Distribution",icon:zl,id:"driveChart",delay:.85}),a.by_city?.length>0&&s.jsx(Nu,{title:"Top Cities",subtitle:"Most searched",icon:Ps,id:"cityChart",delay:.9})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6 mb-6 md:mb-8",children:[a.by_price_range?.length>0&&s.jsx(st.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:.95},children:s.jsx(Ue,{className:"bg-white/90 dark:bg-gray-900/90 backdrop-blur shadow-xl rounded-xl border",style:{borderColor:`${Ft.teal}40`},children:s.jsxs(qe,{className:"p-4 md:p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${Ft.darkBlue}, ${Ft.teal})`},children:s.jsx(or,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-base font-bold dark:text-white",children:"By Price Range"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Daily rate ranges"})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[s.jsx("th",{className:"text-left py-2 font-semibold dark:text-white",children:"Range"}),s.jsx("th",{className:"text-right py-2 font-semibold dark:text-white",children:"Searches"})]})}),s.jsx("tbody",{children:a.by_price_range.map((E,U)=>s.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800",children:[s.jsx("td",{className:"py-2 text-gray-700 dark:text-gray-300",children:E.daily_rate_min!=null||E.daily_rate_max!=null?`${E.daily_rate_min??""}  ${E.daily_rate_max??""}`:"Any"}),s.jsx("td",{className:"py-2 text-right font-medium dark:text-white",children:E.total})]},U))})]})})]})})}),a.top_features?.length>0&&s.jsx(st.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:1},children:s.jsx(Ue,{className:"bg-white/90 dark:bg-gray-900/90 backdrop-blur shadow-xl rounded-xl border",style:{borderColor:`${Ft.darkBlue}40`},children:s.jsxs(qe,{className:"p-4 md:p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${Ft.teal}, ${Ft.limeGreen})`},children:s.jsx(Vx,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-base font-bold dark:text-white",children:"Top Features"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Popular options"})]})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:a.top_features.map((E,U)=>s.jsxs(We,{variant:"secondary",className:"text-xs px-3 py-1",style:{backgroundColor:`${Ft.teal}20`,color:Ft.darkBlue},children:[E.feature," (",E.count,")"]},U))})]})})})]}),a.most_active_users?.length>0&&s.jsx(st.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:1.05},className:"mb-6 md:mb-8",children:s.jsx(Ue,{className:"bg-white/90 dark:bg-gray-900/90 backdrop-blur shadow-xl rounded-xl border",style:{borderColor:`${Ft.limeGreen}40`},children:s.jsxs(qe,{className:"p-4 md:p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${Ft.limeGreen}, ${Ft.teal})`},children:s.jsx(Hx,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-base font-bold dark:text-white",children:"Most Active Users"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Top searchers"})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[s.jsx("th",{className:"text-left py-2 font-semibold dark:text-white",children:"User"}),s.jsx("th",{className:"text-right py-2 font-semibold dark:text-white",children:"Searches"})]})}),s.jsx("tbody",{children:a.most_active_users.map(E=>s.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800",children:[s.jsx("td",{className:"py-2 text-gray-700 dark:text-gray-300",children:E.user_name??`User #${E.user_id}`}),s.jsx("td",{className:"py-2 text-right font-medium dark:text-white",children:E.total_searches})]},E.user_id))})]})})]})})}),s.jsx(st.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:.9},children:s.jsx(Ue,{className:"bg-white/90 dark:bg-gray-900/90 backdrop-blur shadow-xl rounded-xl border",style:{borderColor:`${Ft.darkBlue}40`},children:s.jsxs(qe,{className:"p-4 md:p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"w-9 h-9 md:w-10 md:h-10 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${Ft.darkBlue}, ${Ft.teal})`},children:s.jsx(ch,{className:"w-4 h-4 md:w-5 md:h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-base md:text-lg font-bold dark:text-white",children:"Recent Searches"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Latest queries"})]})]}),a.recent_searches?.length>0?s.jsx("div",{className:"space-y-2",children:a.recent_searches.map((E,U)=>s.jsxs(st.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:1+U*.1},className:"flex flex-col md:flex-row md:items-center justify-between p-3 rounded-lg bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-700 hover:shadow-md transition-all duration-300 gap-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-1",children:[s.jsxs("p",{className:"font-bold text-sm md:text-base dark:text-white truncate",children:[E.make||"Any Make"," ",E.model||""]}),E.year_min!=null&&s.jsxs(We,{variant:"secondary",className:"text-xs px-2 py-0.5",children:[E.year_min,"",E.year_max??""]}),E.user_name&&s.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["by ",E.user_name]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400 flex-wrap",children:[E.city&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ps,{className:"w-3 h-3",style:{color:Ft.teal}}),E.city]}),(E.daily_rate_min!=null||E.daily_rate_max!=null)&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(or,{className:"w-3 h-3"}),E.daily_rate_min??"","  ",E.daily_rate_max??""]}),E.transmission&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(zl,{className:"w-3 h-3",style:{color:Ft.teal}}),E.transmission]}),E.fuel_type&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Wx,{className:"w-3 h-3",style:{color:Ft.limeGreen}}),E.fuel_type]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Hs,{className:"w-3 h-3"}),E.last_searched_at?new Date(E.last_searched_at).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):""]})]})]}),s.jsxs(We,{className:"self-start md:self-center text-xs md:text-sm px-3 py-1 font-bold",style:{backgroundColor:`${Ft.teal}30`,color:Ft.teal},children:[E.search_count,""]})]},E.id))}):s.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 italic py-8 text-sm",children:"No recent searches"})]})})})]})]}):null},ox=({icon:t,title:e,value:r,subtitle:n,gradient:a,delay:i})=>s.jsx(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:i},whileHover:{scale:1.02,y:-3},children:s.jsx(Ue,{className:"bg-white/90 dark:bg-gray-900/90 backdrop-blur shadow-lg rounded-xl border-0 hover:shadow-xl transition-all duration-300 h-full",children:s.jsxs(qe,{className:"p-3 md:p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("div",{className:"w-9 h-9 md:w-11 md:h-11 rounded-xl flex items-center justify-center shadow-md",style:{background:a},children:s.jsx(t,{className:"w-4 h-4 md:w-5 md:h-5 text-white"})}),s.jsx(We,{variant:"secondary",className:"text-[9px] md:text-[10px] px-1.5 py-0.5",children:"Live"})]}),s.jsx("p",{className:"text-[10px] md:text-xs text-gray-600 dark:text-gray-400 font-medium mb-1",children:e}),s.jsx("p",{className:"text-xl md:text-3xl font-black dark:text-white mb-0.5",children:r}),n&&s.jsx("p",{className:"text-[9px] md:text-xs text-gray-500 dark:text-gray-500",children:n})]})})}),Nu=({title:t,subtitle:e,icon:r,id:n,delay:a})=>s.jsx(st.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:a},whileHover:{scale:1.01},children:s.jsx(Ue,{className:"bg-white/90 dark:bg-gray-900/90 backdrop-blur shadow-xl rounded-xl border hover:shadow-2xl transition-all duration-300",style:{borderColor:`${Ft.teal}40`},children:s.jsxs(qe,{className:"p-4 md:p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"w-9 h-9 md:w-10 md:h-10 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${Ft.darkBlue}, ${Ft.teal})`},children:s.jsx(r,{className:"w-4 h-4 md:w-5 md:h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm md:text-base font-bold dark:text-white",children:t}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e})]})]}),s.jsx("div",{className:"h-48 md:h-56",children:s.jsx("canvas",{id:n})})]})})});function _xe(){return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[s.jsx("div",{className:"bg-gradient-to-r from-teal-600 to-cyan-700 text-white py-12 px-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(Zn,{className:"w-12 h-12"}),s.jsx("h1",{className:"text-4xl font-bold",children:"Privacy Policy"})]}),s.jsx("p",{className:"text-blue-100 text-lg",children:"Rento LB - Car Rental Marketplace"}),s.jsx("p",{className:"text-blue-200 text-sm mt-2",children:"Last updated: December 2025"})]})}),s.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[s.jsx("div",{className:"bg-white rounded-2xl shadow-sm p-8 mb-6",children:s.jsx("p",{className:"text-gray-700 leading-relaxed",children:'Rento LB ("Rento", "we", "us", or "our") operates a mobile application that enables users to search, book, and connect with car rental providers in Lebanon. The application is operated by Rami Zeaiter as an individual developer on behalf of the Rento LB service. We are committed to protecting your privacy and handling your data in a transparent and secure manner.'})}),s.jsxs(Vn,{icon:s.jsx(Gi,{}),title:"1. Who We Are (Data Controller)",color:"blue",children:[s.jsxs(Nxe,{children:[s.jsx(Su,{label:"Operator",value:"Rami Zeaiter"}),s.jsx(Su,{label:"Service Name",value:"Rento LB"}),s.jsx(Su,{label:"Official App Email",value:"social@rento-lb.com",icon:s.jsx(za,{className:"w-4 h-4"})}),s.jsx(Su,{label:"Support Email",value:"ramizaiter1989@gmail.com",icon:s.jsx(za,{className:"w-4 h-4"})}),s.jsx(Su,{label:"Phone",value:"+961 81 001 301",icon:s.jsx(di,{className:"w-4 h-4"})}),s.jsx(Su,{label:"Service Area",value:"Lebanon",icon:s.jsx(Ps,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"mt-4 text-gray-600 italic",children:"Rento LB acts as a digital marketplace that facilitates search and booking between renters and car owners or rental agencies."})]}),s.jsxs(Vn,{icon:s.jsx(Io,{}),title:"2. Information We Collect",color:"purple",children:[s.jsxs(M1,{title:"A. Information You Provide",children:[s.jsx("p",{className:"text-gray-600 mb-3",children:"We may collect the following data when you use the app:"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx(Ns,{children:"Full name"}),s.jsx(Ns,{children:"Phone number"}),s.jsx(Ns,{children:"Email address"}),s.jsx(Ns,{children:"Government-issued ID (passport or national ID)"}),s.jsx(Ns,{children:"Driver's license"}),s.jsx(Ns,{children:"Booking requests and history"}),s.jsx(Ns,{children:"Messages, feedback, support tickets, and appeals"})]}),s.jsx("div",{className:"mt-4 bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded",children:s.jsxs("p",{className:"text-yellow-800 font-medium flex items-center gap-2",children:[s.jsx(Yl,{className:"w-5 h-5"}),"We do not collect selfie or facial verification data."]})})]}),s.jsxs(M1,{title:"B. Car Owner Information",children:[s.jsx("p",{className:"text-gray-600 mb-3",children:"If you list a vehicle (private owner or agency), we may collect:"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx(Ns,{children:"Identity and contact information"}),s.jsx(Ns,{children:"Vehicle details and registration documents"}),s.jsx(Ns,{children:"Uploaded images and legal documentation"})]}),s.jsx("p",{className:"mt-3 text-gray-600 text-sm",children:"Each submission is reviewed, and we reserve the right to approve or reject any listing if documents are missing, incomplete, or not legally valid."})]}),s.jsx(M1,{title:"C. Automatically Collected Data",children:s.jsxs("ul",{className:"space-y-2",children:[s.jsx(Ns,{children:"App usage data (non-sensitive)"}),s.jsx(Ns,{children:"Device and technical information (for app functionality and security)"})]})})]}),s.jsx(Vn,{icon:s.jsx(Ps,{}),title:"3. Location Data",color:"green",children:s.jsx("p",{className:"text-gray-600",children:"We may use location data only to display available cars within Lebanon and improve search results. We do not track users continuously or in the background."})}),s.jsx(Vn,{icon:s.jsx(or,{}),title:"4. Payments",color:"emerald",children:s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs(Ns,{color:"green",children:["Payments are currently ",s.jsx("strong",{children:"cash only"})]}),s.jsx(Ns,{color:"green",children:"All payments are made directly between renter and car owner"}),s.jsx(Ns,{color:"green",children:"Rento LB does not process, store, or collect payment information"}),s.jsx(Ns,{color:"green",children:"A commission model may be introduced in the future, and users will be informed in advance"})]})})}),s.jsxs(Vn,{icon:s.jsx(qn,{}),title:"5. Purpose of Data Collection",color:"indigo",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"We collect and use data to:"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx(Ns,{children:"Enable car search and booking"}),s.jsx(Ns,{children:"Verify eligibility to rent vehicles"}),s.jsx(Ns,{children:"Connect renters with car owners or agencies"}),s.jsx(Ns,{children:"Ensure safety, legality, and transparency"}),s.jsx(Ns,{children:"Manage ratings, reviews, feedback, and disputes"}),s.jsx(Ns,{children:"Provide customer support and communication"}),s.jsx(Ns,{children:"Improve app functionality and user experience"})]})]}),s.jsx(Vn,{icon:s.jsx(Yl,{}),title:"6. Marketplace Responsibility Disclaimer",color:"orange",children:s.jsxs("div",{className:"bg-orange-50 border-l-4 border-orange-400 p-6 rounded",children:[s.jsx("p",{className:"text-orange-900 font-semibold mb-3",children:"Rento LB acts only as an intermediary platform."}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx(Ns,{color:"orange",children:"We facilitate search, booking, and connection"}),s.jsx(Ns,{color:"orange",children:"We are not responsible for future actions, disputes, damages, or agreements between renters and owners"}),s.jsx(Ns,{color:"orange",children:"Any rental agreement is strictly between the two parties"})]})]})}),s.jsx(Vn,{icon:s.jsx(ks,{}),title:"7. Data Sharing & Disclosure",color:"red",children:s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[s.jsx("p",{className:"text-red-900 font-semibold mb-4",children:"We do not sell or share personal data with third parties."}),s.jsx("p",{className:"text-gray-600 mb-3",children:"Data may only be disclosed if:"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx(Ns,{children:"Required by Lebanese law"}),s.jsx(Ns,{children:"Ordered by a court or legal authority"}),s.jsx(Ns,{children:"Necessary to protect users, legal rights, or public safety"})]})]})}),s.jsxs(Vn,{icon:s.jsx(Zn,{}),title:"8. User Rights & Control",color:"cyan",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"Both renters and owners have the right to:"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[s.jsx(Ff,{children:"Accept or reject booking requests"}),s.jsx(Ff,{children:"Delete their listings or accounts"}),s.jsx(Ff,{children:"Request correction or deletion of personal data"}),s.jsx(Ff,{children:"Submit feedback, appeals, or support tickets"}),s.jsx(Ff,{children:"Rate and review each other"})]}),s.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("p",{className:"text-gray-700",children:["To request data deletion, contact:"," ",s.jsx("a",{href:"mailto:social@rento-lb.com",className:"text-blue-600 font-semibold hover:underline",children:"social@rento-lb.com"})]})})]}),s.jsxs(Vn,{icon:s.jsx(Il,{}),title:"9. Data Security",color:"slate",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"We apply reasonable administrative and technical measures to protect your data from:"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsx(P1,{children:"Unauthorized access"}),s.jsx(P1,{children:"Loss or misuse"}),s.jsx(P1,{children:"Alteration or disclosure"})]}),s.jsx("p",{className:"mt-4 text-gray-600 italic",children:"Access to data is strictly limited to authorized personnel."})]}),s.jsxs(Vn,{icon:s.jsx(Hs,{}),title:"10. Data Retention",color:"violet",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"We retain personal data only as long as necessary to:"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx(Ns,{children:"Operate the service"}),s.jsx(Ns,{children:"Comply with legal obligations"}),s.jsx(Ns,{children:"Resolve disputes"})]}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Users may request deletion at any time unless retention is legally required."})]}),s.jsx(Vn,{icon:s.jsx(Gi,{}),title:"11. Minimum Age Requirement",color:"pink",children:s.jsx("div",{className:"bg-pink-50 border-l-4 border-pink-400 p-6 rounded",children:s.jsx("p",{className:"text-pink-900 font-semibold text-lg",children:"You must be at least 18 years old to use Rento LB."})})}),s.jsxs(Vn,{icon:s.jsx(qn,{}),title:"12. Transparency & Legal Compliance",color:"teal",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"All vehicles listed on Rento LB must be:"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsx(O1,{children:"Fully legal"}),s.jsx(O1,{children:"Properly documented"}),s.jsx(O1,{children:"Approved by our review team"})]}),s.jsx("p",{className:"mt-4 text-gray-600",children:"We reserve the right to reject or remove any content or listing that does not meet legal or platform standards."})]}),s.jsx(Vn,{icon:s.jsx(Io,{}),title:"13. Changes to This Policy",color:"gray",children:s.jsx("p",{className:"text-gray-600",children:"We may update this Privacy Policy from time to time. Any changes will be published inside the app and become effective immediately."})}),s.jsxs(Vn,{icon:s.jsx(za,{}),title:"14. Contact Us",color:"blue",children:[s.jsx("p",{className:"text-gray-600 mb-6",children:"If you have any questions or requests regarding this Privacy Policy:"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsx(L1,{icon:s.jsx(za,{className:"w-5 h-5"}),value:"social@rento-lb.com",href:"mailto:social@rento-lb.com"}),s.jsx(L1,{icon:s.jsx(za,{className:"w-5 h-5"}),value:"ramizaiter1989@gmail.com",href:"mailto:ramizaiter1989@gmail.com"}),s.jsx(L1,{icon:s.jsx(di,{className:"w-5 h-5"}),value:"+961 81 001 301",href:"tel:+96181001301"})]})]})]}),s.jsx("div",{className:"bg-slate-800 text-slate-300 py-8 px-6 mt-12",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[s.jsx("p",{className:"text-sm",children:" 2025 Rento LB. Operated by Rami Zeaiter. All rights reserved."}),s.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"This privacy policy is effective as of December 2025"})]})})]})}function Vn({icon:t,title:e,children:r,color:n="blue"}){const a={blue:"text-blue-600 bg-blue-50",purple:"text-purple-600 bg-purple-50",green:"text-green-600 bg-green-50",emerald:"text-emerald-600 bg-emerald-50",indigo:"text-indigo-600 bg-indigo-50",orange:"text-orange-600 bg-orange-50",red:"text-red-600 bg-red-50",cyan:"text-cyan-600 bg-cyan-50",slate:"text-slate-600 bg-slate-50",violet:"text-violet-600 bg-violet-50",pink:"text-pink-600 bg-pink-50",teal:"text-teal-600 bg-teal-50",gray:"text-gray-600 bg-gray-50"};return s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-8 mb-6",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-6",children:[s.jsx("div",{className:`${a[n]} p-2 rounded-lg`,children:ot.cloneElement(t,{className:"w-6 h-6"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 flex-1",children:e})]}),r]})}function M1({title:t,children:e}){return s.jsxs("div",{className:"mb-6 last:mb-0",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:t}),e]})}function Ns({children:t,color:e="blue"}){const r={blue:"bg-blue-500",green:"bg-green-500",orange:"bg-orange-500"};return s.jsxs("li",{className:"flex items-start gap-3 text-gray-700",children:[s.jsx("span",{className:`${r[e]} w-1.5 h-1.5 rounded-full mt-2 flex-shrink-0`}),s.jsx("span",{children:t})]})}function Nxe({children:t}){return s.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:t})}function Su({label:t,value:e,icon:r}){return s.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-gray-500 mb-1",children:t}),s.jsxs("p",{className:"text-gray-900 font-medium flex items-center gap-2",children:[r&&s.jsx("span",{className:"text-blue-600",children:r}),e]})]})}function Ff({children:t}){return s.jsxs("div",{className:"bg-cyan-50 border border-cyan-200 rounded-lg p-4 flex items-center gap-3",children:[s.jsx(qn,{className:"w-5 h-5 text-cyan-600 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:t})]})}function P1({children:t}){return s.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4 flex items-center gap-3",children:[s.jsx(Il,{className:"w-5 h-5 text-slate-600 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:t})]})}function O1({children:t}){return s.jsxs("div",{className:"bg-teal-50 border border-teal-200 rounded-lg p-4 text-center",children:[s.jsx(qn,{className:"w-6 h-6 text-teal-600 mx-auto mb-2"}),s.jsx("span",{className:"text-gray-700 font-medium",children:t})]})}function L1({icon:t,value:e,href:r}){return s.jsxs("a",{href:r,className:"bg-blue-50 hover:bg-blue-100 transition-colors border border-blue-200 rounded-lg p-4 flex flex-col items-center gap-2 text-center",children:[s.jsx("div",{className:"text-blue-600",children:t}),s.jsx("span",{className:"text-gray-700 font-medium text-sm break-all",children:e})]})}function Sxe(){return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[s.jsx("div",{className:"bg-gradient-to-r from-cyan-700 to-teal-700 text-white py-12 px-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(Io,{className:"w-12 h-12"}),s.jsx("h1",{className:"text-4xl font-bold",children:"Terms & Conditions"})]}),s.jsx("p",{className:"text-emerald-100 text-lg",children:"Rento LB - Car Rental Marketplace"}),s.jsx("p",{className:"text-emerald-200 text-sm mt-2",children:"Last updated: December 2025"})]})}),s.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[s.jsx("div",{className:"bg-white rounded-2xl shadow-sm p-8 mb-6",children:s.jsx("p",{className:"text-gray-700 leading-relaxed",children:'Welcome to Rento LB ("Rento", "we", "us", "our"). By accessing or using the Rento LB mobile application, you agree to these Terms & Conditions.'})}),s.jsxs(Ba,{icon:s.jsx(Zn,{}),title:"1. Service Description",color:"blue",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"Rento LB is a digital marketplace that allows users to:"}),s.jsxs("ul",{className:"space-y-3",children:[s.jsx(si,{children:"Search and book rental cars"}),s.jsx(si,{children:"Connect directly with private car owners or rental agencies"})]}),s.jsx("div",{className:"mt-6 bg-blue-50 border-l-4 border-blue-400 p-4 rounded",children:s.jsxs("p",{className:"text-blue-900 font-semibold flex items-center gap-2",children:[s.jsx(Pu,{className:"w-5 h-5"}),"Rento does not own vehicles and does not act as a rental company."]})})]}),s.jsx(Ba,{icon:s.jsx(ks,{}),title:"2. Eligibility",color:"purple",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(F1,{icon:s.jsx(qn,{}),color:"green",children:"Users must be at least 18 years old"}),s.jsx(F1,{icon:s.jsx(qn,{}),color:"green",children:"Users must provide valid identification and a driver's license"}),s.jsx(F1,{icon:s.jsx(Xn,{}),color:"red",children:"False or misleading information may result in account suspension"})]})}),s.jsxs(Ba,{icon:s.jsx(ks,{}),title:"3. User Accounts",color:"indigo",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"You agree to:"}),s.jsx("div",{className:"bg-indigo-50 rounded-lg p-6 mb-4",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsx(si,{children:"Provide accurate and legal information"}),s.jsx(si,{children:"Keep your account secure"}),s.jsx(si,{children:"Accept responsibility for activity under your account"})]})}),s.jsx("div",{className:"bg-orange-50 border-l-4 border-orange-400 p-4 rounded",children:s.jsx("p",{className:"text-orange-900 font-medium",children:"Rento reserves the right to suspend or terminate accounts that violate these terms."})})]}),s.jsxs(Ba,{icon:s.jsx(Gt,{}),title:"4. Car Owners & Listings",color:"cyan",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"Car owners and agencies:"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[s.jsx(B1,{children:"Must upload legal vehicle documents"}),s.jsx(B1,{children:"Must ensure vehicles are road-legal and insured"}),s.jsx(B1,{children:"Have full right to accept or reject booking requests"})]}),s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsx("p",{className:"text-red-900 font-medium",children:"Rento may review, approve, reject, or remove any listing at its sole discretion."})})]}),s.jsx(Ba,{icon:s.jsx(VE,{}),title:"5. Bookings & Payments",color:"green",children:s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(lx,{icon:s.jsx(VE,{}),children:"Payments are currently cash only"}),s.jsx(lx,{icon:s.jsx(ks,{}),children:"Payments are made directly to the car owner"}),s.jsx(lx,{icon:s.jsx(Xn,{}),children:"Rento does not handle or store payments"}),s.jsx(lx,{icon:s.jsx(Pu,{}),children:"A commission model may be introduced in the future with prior notice"})]})})}),s.jsx(Ba,{icon:s.jsx(Pu,{}),title:"6. Marketplace Disclaimer",color:"orange",children:s.jsxs("div",{className:"bg-orange-50 border-l-4 border-orange-500 p-6 rounded",children:[s.jsx("h3",{className:"font-bold text-orange-900 text-lg mb-4",children:"Rento:"}),s.jsxs("ul",{className:"space-y-3 mb-4",children:[s.jsx(si,{color:"orange",children:"Only facilitates search, booking, and connection"}),s.jsx(si,{color:"orange",children:"Is not responsible for disputes, damages, accidents, delays, or agreements"}),s.jsx(si,{color:"orange",children:"Is not a party to rental contracts"})]}),s.jsx("div",{className:"bg-orange-100 border border-orange-300 rounded p-4",children:s.jsx("p",{className:"text-orange-900 font-bold text-center",children:"All agreements are strictly between renter and owner."})})]})}),s.jsxs(Ba,{icon:s.jsx(rr,{}),title:"7. Ratings, Reviews & Feedback",color:"yellow",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"Users may:"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-4",children:[s.jsx(I1,{children:"Rate and review each other"}),s.jsx(I1,{children:"Submit feedback"}),s.jsx(I1,{children:"File support tickets or appeals"})]}),s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsx("p",{className:"text-red-900 font-medium",children:"Abusive, false, or misleading content may be removed."})})]}),s.jsxs(Ba,{icon:s.jsx(iM,{}),title:"8. Legal Compliance",color:"red",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"Users must comply with:"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(z3,{children:"Lebanese laws and regulations"}),s.jsx(z3,{children:"Traffic, insurance, and rental requirements"})]}),s.jsx("div",{className:"mt-6 bg-red-50 border-l-4 border-red-500 p-4 rounded",children:s.jsx("p",{className:"text-red-900 font-bold",children:"Illegal behavior will result in immediate suspension."})})]}),s.jsxs(Ba,{icon:s.jsx(G6,{}),title:"9. Account Termination",color:"slate",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"We reserve the right to suspend or terminate accounts for:"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsx(z1,{children:"Fraud"}),s.jsx(z1,{children:"Legal violations"}),s.jsx(z1,{children:"Abuse of the platform"})]})]}),s.jsx(Ba,{icon:s.jsx(Zn,{}),title:"10. Limitation of Liability",color:"violet",children:s.jsxs("div",{className:"bg-violet-50 border border-violet-200 rounded-lg p-6",children:[s.jsx("p",{className:"text-violet-900 font-bold mb-4",children:"Rento shall not be liable for:"}),s.jsxs("ul",{className:"space-y-3",children:[s.jsx(si,{color:"violet",children:"Losses or damages between users"}),s.jsx(si,{color:"violet",children:"Vehicle condition or availability"}),s.jsx(si,{color:"violet",children:"Third-party actions"})]})]})}),s.jsx(Ba,{icon:s.jsx(Io,{}),title:"11. Changes to Terms",color:"teal",children:s.jsx("div",{className:"bg-teal-50 border border-teal-200 rounded-lg p-6",children:s.jsxs("p",{className:"text-gray-700",children:["Terms may be updated at any time."," ",s.jsx("span",{className:"font-bold text-teal-900",children:"Continued use means acceptance."})]})})}),s.jsxs(Ba,{icon:s.jsx(za,{}),title:"12. Contact",color:"blue",children:[s.jsx("p",{className:"text-gray-600 mb-6",children:"If you have questions about these Terms & Conditions:"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsx(U3,{icon:s.jsx(za,{className:"w-5 h-5"}),value:"social@rento-lb.com",href:"mailto:social@rento-lb.com"}),s.jsx(U3,{icon:s.jsx(di,{className:"w-5 h-5"}),value:"+961 81 001 301",href:"tel:+96181001301"})]})]})]}),s.jsx("div",{className:"bg-slate-800 text-slate-300 py-8 px-6 mt-12",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[s.jsx("p",{className:"text-sm",children:" 2025 Rento LB. Operated by Rami Zeaiter. All rights reserved."}),s.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"These terms are effective as of December 2025"})]})})]})}function Ba({icon:t,title:e,children:r,color:n="blue"}){const a={blue:"text-blue-600 bg-blue-50",purple:"text-purple-600 bg-purple-50",indigo:"text-indigo-600 bg-indigo-50",cyan:"text-cyan-600 bg-cyan-50",green:"text-green-600 bg-green-50",yellow:"text-yellow-600 bg-yellow-50",orange:"text-orange-600 bg-orange-50",red:"text-red-600 bg-red-50",slate:"text-slate-600 bg-slate-50",violet:"text-violet-600 bg-violet-50",teal:"text-teal-600 bg-teal-50"};return s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-8 mb-6",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-6",children:[s.jsx("div",{className:`${a[n]} p-2 rounded-lg`,children:ot.cloneElement(t,{className:"w-6 h-6"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 flex-1",children:e})]}),r]})}function si({children:t,color:e="blue"}){const r={blue:"bg-blue-500",orange:"bg-orange-500",violet:"bg-violet-500"};return s.jsxs("li",{className:"flex items-start gap-3 text-gray-700",children:[s.jsx("span",{className:`${r[e]} w-1.5 h-1.5 rounded-full mt-2 flex-shrink-0`}),s.jsx("span",{children:t})]})}function F1({icon:t,color:e,children:r}){const n={green:"bg-green-50 border-green-200 text-green-900",red:"bg-red-50 border-red-200 text-red-900"};return s.jsxs("div",{className:`${n[e]} border rounded-lg p-4 flex items-center gap-3`,children:[ot.cloneElement(t,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"font-medium",children:r})]})}function B1({children:t}){return s.jsxs("div",{className:"bg-cyan-50 border border-cyan-200 rounded-lg p-4 flex items-center gap-3",children:[s.jsx(qn,{className:"w-5 h-5 text-cyan-600 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:t})]})}function lx({icon:t,children:e}){return s.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[s.jsx("div",{className:"text-green-600 mt-1",children:ot.cloneElement(t,{className:"w-5 h-5"})}),s.jsx("span",{className:"font-medium",children:e})]})}function I1({children:t}){return s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 text-center",children:[s.jsx(rr,{className:"w-6 h-6 text-yellow-600 mx-auto mb-2"}),s.jsx("span",{className:"text-gray-700 font-medium",children:t})]})}function z3({children:t}){return s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-3",children:[s.jsx(iM,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700 font-medium",children:t})]})}function z1({children:t}){return s.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4 text-center",children:[s.jsx(G6,{className:"w-6 h-6 text-slate-600 mx-auto mb-2"}),s.jsx("span",{className:"text-gray-700 font-medium",children:t})]})}function U3({icon:t,value:e,href:r}){return s.jsxs("a",{href:r,className:"bg-blue-50 hover:bg-blue-100 transition-colors border border-blue-200 rounded-lg p-6 flex flex-col items-center gap-3 text-center",children:[s.jsx("div",{className:"text-blue-600",children:t}),s.jsx("span",{className:"text-gray-700 font-medium break-all",children:e})]})}const kxe="https://play.google.com/store/apps/details?id=com.rentolb.app&pcampaignid=web_share",Cxe="https://apps.apple.com/us/app/rento-lb/id6756906813?l=en-GB";function Axe(){return s.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-12",children:s.jsxs("div",{className:"w-full max-w-5xl mx-auto space-y-10",children:[s.jsxs("div",{className:"text-center space-y-3",children:[s.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold tracking-tight text-gray-900 dark:text-white",children:"Rento LB Mobile App"}),s.jsxs("p",{className:"text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:["Book cars on the go with our mobile app on both"," ",s.jsx("span",{className:"font-semibold",children:"Google Play"})," and"," ",s.jsx("span",{className:"font-semibold",children:"Apple App Store"}),"."]})]}),s.jsxs("div",{className:"grid gap-8 md:grid-cols-2",children:[s.jsxs("a",{href:kxe,target:"_blank",rel:"noopener noreferrer",className:"group flex flex-col items-center gap-6 p-4",children:[s.jsx("div",{className:"w-full flex justify-center mobile-phone-3d",children:s.jsx("img",{src:"/mobileapp.png",alt:"Rento LB mobile app preview for Google Play"})}),s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsx("p",{className:"text-sm font-medium uppercase tracking-[0.2em] text-emerald-600 dark:text-emerald-400",children:"Get it on"}),s.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/7/78/Google_Play_Store_badge_EN.svg",alt:"Get it on Google Play",className:"h-10 sm:h-12"})]})]}),s.jsxs("a",{href:Cxe,target:"_blank",rel:"noopener noreferrer",className:"group flex flex-col items-center gap-6 p-4",children:[s.jsx("div",{className:"w-full flex justify-center mobile-phone-3d",children:s.jsx("img",{src:"/mobileapp.png",alt:"Rento LB mobile app preview for App Store"})}),s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsx("p",{className:"text-sm font-medium uppercase tracking-[0.2em] text-sky-700 dark:text-sky-400",children:"Download on the"}),s.jsx("img",{src:"https://developer.apple.com/assets/elements/badges/download-on-the-app-store.svg",alt:"Download on the App Store",className:"h-10 sm:h-12"})]})]})]}),s.jsxs("p",{className:"text-xs text-center text-gray-500 dark:text-gray-400",children:["Note: Make sure the image file is available at ",s.jsx("code",{children:"/mobile-app.png"})," in your"," ",s.jsx("code",{children:"public"})," folder so that the preview renders correctly."]})]})})}var Exe=Symbol("radix.slottable");function Txe(t){const e=({children:r})=>s.jsx(s.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=Exe,e}var GB="AlertDialog",[Rxe]=va(GB,[TO]),Zo=TO(),YB=t=>{const{__scopeAlertDialog:e,...r}=t,n=Zo(e);return s.jsx(WO,{...n,...r,modal:!0})};YB.displayName=GB;var Dxe="AlertDialogTrigger",Mxe=j.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=Zo(r);return s.jsx(GO,{...a,...n,ref:e})});Mxe.displayName=Dxe;var Pxe="AlertDialogPortal",KB=t=>{const{__scopeAlertDialog:e,...r}=t,n=Zo(e);return s.jsx(YO,{...n,...r})};KB.displayName=Pxe;var Oxe="AlertDialogOverlay",XB=j.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=Zo(r);return s.jsx(JN,{...a,...n,ref:e})});XB.displayName=Oxe;var $u="AlertDialogContent",[Lxe,Fxe]=Rxe($u),Bxe=Txe("AlertDialogContent"),ZB=j.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...a}=t,i=Zo(r),o=j.useRef(null),c=es(e,o),d=j.useRef(null);return s.jsx(YJ,{contentName:$u,titleName:QB,docsSlug:"alert-dialog",children:s.jsx(Lxe,{scope:r,cancelRef:d,children:s.jsxs(e2,{role:"alertdialog",...i,...a,ref:c,onOpenAutoFocus:pt(a.onOpenAutoFocus,h=>{h.preventDefault(),d.current?.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[s.jsx(Bxe,{children:n}),s.jsx(zxe,{contentRef:o})]})})})});ZB.displayName=$u;var QB="AlertDialogTitle",JB=j.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=Zo(r);return s.jsx(t2,{...a,...n,ref:e})});JB.displayName=QB;var eI="AlertDialogDescription",tI=j.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=Zo(r);return s.jsx(s2,{...a,...n,ref:e})});tI.displayName=eI;var Ixe="AlertDialogAction",sI=j.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=Zo(r);return s.jsx(r2,{...a,...n,ref:e})});sI.displayName=Ixe;var rI="AlertDialogCancel",nI=j.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:a}=Fxe(rI,r),i=Zo(r),o=es(e,a);return s.jsx(r2,{...i,...n,ref:o})});nI.displayName=rI;var zxe=({contentRef:t})=>{const e=`\`${$u}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${$u}\` by passing a \`${eI}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${$u}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return j.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},Uxe=YB,$xe=KB,aI=XB,iI=ZB,oI=sI,lI=nI,cI=JB,dI=tI;const _y=Uxe,Vxe=$xe,uI=j.forwardRef(({className:t,...e},r)=>s.jsx(aI,{className:St("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));uI.displayName=aI.displayName;const Jm=j.forwardRef(({className:t,...e},r)=>s.jsxs(Vxe,{children:[s.jsx(uI,{}),s.jsx(iI,{ref:r,className:St("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));Jm.displayName=iI.displayName;const ep=({className:t,...e})=>s.jsx("div",{className:St("flex flex-col space-y-2 text-center sm:text-left",t),...e});ep.displayName="AlertDialogHeader";const tp=({className:t,...e})=>s.jsx("div",{className:St("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});tp.displayName="AlertDialogFooter";const sp=j.forwardRef(({className:t,...e},r)=>s.jsx(cI,{ref:r,className:St("text-lg font-semibold",t),...e}));sp.displayName=cI.displayName;const rp=j.forwardRef(({className:t,...e},r)=>s.jsx(dI,{ref:r,className:St("text-sm text-muted-foreground",t),...e}));rp.displayName=dI.displayName;const np=j.forwardRef(({className:t,...e},r)=>s.jsx(oI,{ref:r,className:St(SN(),t),...e}));np.displayName=oI.displayName;const ap=j.forwardRef(({className:t,...e},r)=>s.jsx(lI,{ref:r,className:St(SN({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));ap.displayName=lI.displayName;var Ny="Switch",[Hxe]=va(Ny),[qxe,Wxe]=Hxe(Ny),hI=j.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:c,value:d="on",onCheckedChange:h,form:m,...f}=t,[g,y]=j.useState(null),v=es(e,k=>y(k)),w=j.useRef(!1),_=g?m||!!g.closest("form"):!0,[b,N]=zo({prop:a,defaultProp:i??!1,onChange:h,caller:Ny});return s.jsxs(qxe,{scope:r,checked:b,disabled:c,children:[s.jsx(Bt.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":gI(b),"data-disabled":c?"":void 0,disabled:c,value:d,...f,ref:v,onClick:pt(t.onClick,k=>{N(S=>!S),_&&(w.current=k.isPropagationStopped(),w.current||k.stopPropagation())})}),_&&s.jsx(pI,{control:g,bubbles:!w.current,name:n,value:d,checked:b,required:o,disabled:c,form:m,style:{transform:"translateX(-100%)"}})]})});hI.displayName=Ny;var fI="SwitchThumb",mI=j.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,a=Wxe(fI,r);return s.jsx(Bt.span,{"data-state":gI(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:e})});mI.displayName=fI;var Gxe="SwitchBubbleInput",pI=j.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...a},i)=>{const o=j.useRef(null),c=es(o,i),d=q0(r),h=H0(e);return j.useEffect(()=>{const m=o.current;if(!m)return;const f=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(f,"checked").set;if(d!==r&&y){const v=new Event("click",{bubbles:n});y.call(m,r),m.dispatchEvent(v)}},[d,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:c,style:{...a.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});pI.displayName=Gxe;function gI(t){return t?"checked":"unchecked"}var xI=hI,Yxe=mI;const Cn=j.forwardRef(({className:t,...e},r)=>s.jsx(xI,{className:St("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:r,children:s.jsx(Yxe,{className:St("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));Cn.displayName=xI.displayName;const Sm=(t={})=>Oe.get("/admin/users",{params:t}),Kxe=t=>Oe.get(`/admin/users/${t}`),yI=(t={})=>Oe.get("/admin/cars",{params:t}),Xxe=t=>Oe.get(`/admin/cars/${t}`),bI=(t,e)=>{const r=["main_image","front_image","back_image","left_image","right_image"];if(Object.keys(e).some(i=>r.includes(i)&&e[i]instanceof File)){const i=new FormData;Object.keys(e).forEach(c=>{const d=e[c];d!=null&&(d instanceof File?i.append(c,d):Array.isArray(d)||typeof d=="object"&&d!==null?i.append(c,JSON.stringify(d)):i.append(c,d))});const o={headers:{...Oe.defaults.headers.common,...Oe.defaults.headers.put||{}}};return delete o.headers["Content-Type"],Oe.put(`/admin/cars/${t}`,i,o)}const a={};return Object.keys(e).forEach(i=>{const o=e[i];o!=null&&(a[i]=o)}),Oe.put(`/admin/cars/${t}`,a,{headers:{"Content-Type":"application/json"}})},$3=(t,e)=>Oe.put(`/admin/cars/${t}`,{car_accepted:e},{headers:{"Content-Type":"application/json"}}),Zxe=t=>Oe.delete(`/admin/cars/${t}`),Qxe=(t,e,r)=>{const n=new FormData;n.append("image",e);const a=String(r??"").trim().toLowerCase();return n.append("type",a),Oe.post(`/admin/cars/${t}/photo`,n,{transformRequest:[(i,o)=>(typeof FormData<"u"&&i instanceof FormData&&delete o["Content-Type"],i)]})},Jxe=(t={})=>Oe.get("/admin/agencies",{params:t}),e0e=t=>Oe.get(`/admin/agencies/${t}`),t0e=(t={})=>Oe.get("/admin/payments",{params:t}),s0e=t=>Oe.post("/admin/payments/issue",t),r0e=t=>Oe.get(`/admin/agents/${t}/fee-summary`),n0e=t=>Oe.get(`/admin/agents/${t}/fee-percentage`),a0e=(t,e)=>Oe.put(`/admin/agents/${t}/fee-percentage`,e),i0e=(t={})=>Oe.get("/admin/announcements",{params:t}),o0e=t=>Oe.delete(`/admin/announcements/${t}`),l0e=(t={})=>Oe.get("/admin/appeals",{params:t}),c0e=(t,e)=>Oe.put(`/admin/appeals/${t}`,e),d0e=(t={})=>Oe.get("/admin/ads",{params:t}),u0e=t=>Oe.post("/admin/ads",t),h0e=t=>Oe.delete(`/admin/ads/${t}`),f0e=(t={})=>Oe.get("/admin/featured-cars",{params:t}),m0e=t=>Oe.post("/admin/featured-cars",t),p0e=t=>Oe.delete(`/admin/featured-cars/${t}`),g0e=(t={})=>Oe.get("/admin/holidays",{params:t}),x0e=t=>Oe.post("/admin/holidays",t),y0e=t=>Oe.delete(`/admin/holidays/${t}`),b0e=t=>Oe.get(`/admin/real-user-data/${t}`),v0e=(t,e)=>Oe.post(`/admin/real-user-data/${t}`,e),w0e=(t,e)=>Oe.patch(`/admin/real-user-data/${t}/status`,e),j0e=t=>Oe.delete(`/admin/real-user-data/${t}`),vI=(t={})=>Oe.get("/admin/promo-codes",{params:t}),wI=t=>Oe.post("/admin/promo-codes",t),jI=(t,e)=>Oe.put(`/admin/promo-codes/${t}`,e),_I=t=>Oe.delete(`/admin/promo-codes/${t}`),_0e=(t,e={})=>Oe.get(`/admin/promo-codes/${t}/users`,{params:e}),cN=(t,e={})=>Oe.get(`/admin/brokers/${t}/referrals`,{params:e}),wS=t=>Oe.post("/admin/users",{...t,role:"broker"}),NI=t=>Oe.get(`/admin/brokers/${t}/balance`),SI=(t,e={})=>Oe.get(`/admin/brokers/${t}/payouts`,{params:e}),b0=(t,e={})=>Oe.get(`/admin/brokers/${t}/commissions`,{params:e}),kI=t=>Oe.post("/admin/broker-payouts",t),CI=(t={})=>Oe.get("/admin/broker-commissions",{params:t}),AI=t=>Oe.put(`/admin/broker-commissions/${t}/cancel`),EI=t=>Oe.delete(`/admin/broker-referrals/${t}`),N0e=t=>Oe.post("/admin/notifications/send-to-all",t),S0e=(t={})=>Oe.get("/admin/otps",{params:t}),TI=(t={})=>Oe.get("/services",{params:t}),k0e=(t,e)=>{const r=new FormData;return Object.entries(e).forEach(([n,a])=>{a!=null&&(Array.isArray(a)?a.forEach(i=>{r.append(n,i)}):r.append(n,a))}),Oe.post(`/admin/third-parties/${t}/services`,r,{headers:{"Content-Type":"multipart/form-data"}})},C0e=(t,e)=>Oe.put(`/admin/services/${t}`,e),RI=t=>Oe.delete(`/admin/services/${t}`),DI=t=>Oe.get(`/services/${t}/items`),A0e=(t,e)=>Oe.post(`/admin/services/${t}/items`,e),E0e=(t,e)=>Oe.put(`/admin/services/items/${t}`,e),MI=t=>Oe.delete(`/admin/services/items/${t}`),PI=(t={})=>Oe.get("/admin/third-parties",{params:t}),T0e=t=>Oe.post("/admin/third-parties",t),R0e=(t,e)=>Oe.put(`/admin/third-parties/${t}`,e),OI=t=>Oe.delete(`/admin/third-parties/${t}`),LI=(t={})=>Oe.get("/admin/feedbacks",{params:t}),FI=t=>Oe.delete(`/admin/feedbacks/${t}`),BI=(t,e,r="export")=>{const n=e.map(m=>m.label||m.key).join(","),a=t.map(m=>e.map(f=>{let g=m[f.key];if(f.transform&&typeof f.transform=="function"&&(g=f.transform(m)),g==null)return"";const y=String(g);return y.includes(",")||y.includes('"')||y.includes(`
`)?`"${y.replace(/"/g,'""')}"`:y}).join(",")),i=[n,...a].join(`
`),o="\uFEFF",c=new Blob([o+i],{type:"text/csv;charset=utf-8;"}),d=document.createElement("a"),h=URL.createObjectURL(c);d.setAttribute("href",h),d.setAttribute("download",`${r}.csv`),d.style.visibility="hidden",document.body.appendChild(d),d.click(),document.body.removeChild(d)},II=(t,e,r="Export",n="export")=>{const a=`
    <div>
      <h1>${r}</h1>
      <p>Generated on: ${new Date().toLocaleString()}</p>
      <table>
        <thead>
          <tr>
            ${e.map(o=>`<th>${o.label||o.key}</th>`).join("")}
          </tr>
        </thead>
        <tbody>
          ${t.map(o=>`
            <tr>
              ${e.map(c=>`<td>${o[c.key]??""}</td>`).join("")}
            </tr>
          `).join("")}
        </tbody>
      </table>
    </div>
  `,i=window.open("","_blank");i.document.write(`
    <html>
      <head>
        <title>${n}</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 20px; }
          h1 { color: #333; }
          table { border-collapse: collapse; width: 100%; margin-top: 20px; }
          th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
          th { background-color: #f2f2f2; font-weight: bold; }
          @media print {
            body { margin: 0; }
            @page { margin: 1cm; }
          }
        </style>
      </head>
      <body>
        ${a}
      </body>
    </html>
  `),i.document.close(),i.focus(),setTimeout(()=>{i.print(),i.close()},250)};function zI({onSubmit:t,loading:e=!1}){const[r,n]=j.useState({user_id:"",website:"",company_type:"",image_url:"",target_url:"",ads_text:"",amount_cost:"",start_at:"",expire_at:"",online:!1}),a=o=>{const{name:c,value:d,type:h,checked:m}=o.target;n(f=>({...f,[c]:h==="checkbox"?m:d}))},i=o=>{o.preventDefault();const c={...r,user_id:parseInt(r.user_id),amount_cost:r.amount_cost?parseFloat(r.amount_cost):0,start_at:r.start_at||new Date().toISOString().slice(0,19).replace("T"," "),expire_at:r.expire_at||new Date(Date.now()+720*60*60*1e3).toISOString().slice(0,19).replace("T"," ")};t(c)};return s.jsxs("form",{onSubmit:i,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(de,{children:"User ID *"}),s.jsx(Se,{type:"number",name:"user_id",value:r.user_id,onChange:a,required:!0,placeholder:"Enter user ID"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{children:"Start Date/Time *"}),s.jsx(Se,{type:"datetime-local",name:"start_at",value:r.start_at,onChange:a,required:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Expire Date/Time *"}),s.jsx(Se,{type:"datetime-local",name:"expire_at",value:r.expire_at,onChange:a,required:!0})]})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Website"}),s.jsx(Se,{type:"text",name:"website",value:r.website,onChange:a,placeholder:"example.com"})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Company Type"}),s.jsx(Se,{type:"text",name:"company_type",value:r.company_type,onChange:a,placeholder:"rental"})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Image URL"}),s.jsx(Se,{type:"text",name:"image_url",value:r.image_url,onChange:a,placeholder:"https://example.com/image.jpg or /path/to/image.jpg"})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Target URL"}),s.jsx(Se,{type:"text",name:"target_url",value:r.target_url,onChange:a,placeholder:"https://example.com"})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Ad Text"}),s.jsx(mn,{name:"ads_text",value:r.ads_text,onChange:a,placeholder:"Advertisement text content"})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Amount Cost"}),s.jsx(Se,{type:"number",step:"0.01",name:"amount_cost",value:r.amount_cost,onChange:a,placeholder:"0.00"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(de,{children:"Online"}),s.jsx(Cn,{checked:r.online,onCheckedChange:o=>n(c=>({...c,online:o}))})]}),s.jsx("div",{className:"flex gap-2 pt-4",children:s.jsx(pe,{type:"submit",disabled:e,className:"flex-1",children:e?"Creating...":"Create Ad"})})]})}function D0e({onSubmit:t,loading:e=!1}){const[r,n]=j.useState({user_id:"",name:"",amount:"",source:"bank",type:"income",status:"pending",due_date:"",description:"",metadata:""}),a=c=>{const{name:d,value:h}=c.target;n(m=>({...m,[d]:h}))},i=(c,d)=>{n(h=>({...h,[c]:d}))},o=c=>{c.preventDefault();const d={...r,user_id:parseInt(r.user_id),amount:parseFloat(r.amount),due_date:r.due_date||new Date().toISOString().slice(0,19).replace("T"," "),...r.metadata&&{metadata:JSON.parse(r.metadata)}};t(d)};return s.jsxs("form",{onSubmit:o,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(de,{children:"User ID *"}),s.jsx(Se,{type:"number",name:"user_id",value:r.user_id,onChange:a,required:!0,placeholder:"Enter user ID"})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Name/Description *"}),s.jsx(Se,{type:"text",name:"name",value:r.name,onChange:a,required:!0,placeholder:"Payment name",maxLength:100})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Amount *"}),s.jsx(Se,{type:"number",step:"0.01",name:"amount",value:r.amount,onChange:a,required:!0,placeholder:"99.99"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{children:"Source *"}),s.jsxs(ft,{value:r.source,onValueChange:c=>i("source",c),children:[s.jsx(ut,{children:s.jsx(mt,{})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"wish",children:"Wish"}),s.jsx(Ce,{value:"omt",children:"OMT"}),s.jsx(Ce,{value:"bank",children:"Bank"}),s.jsx(Ce,{value:"cash",children:"Cash"}),s.jsx(Ce,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Type *"}),s.jsxs(ft,{value:r.type,onValueChange:c=>i("type",c),children:[s.jsx(ut,{children:s.jsx(mt,{})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"income",children:"Income"}),s.jsx(Ce,{value:"expense",children:"Expense"}),s.jsx(Ce,{value:"debit",children:"Debit"}),s.jsx(Ce,{value:"upcoming_income",children:"Upcoming Income"}),s.jsx(Ce,{value:"credit",children:"Credit"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{children:"Status"}),s.jsxs(ft,{value:r.status,onValueChange:c=>i("status",c),children:[s.jsx(ut,{children:s.jsx(mt,{})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"pending",children:"Pending"}),s.jsx(Ce,{value:"paid",children:"Paid"}),s.jsx(Ce,{value:"overdue",children:"Overdue"}),s.jsx(Ce,{value:"cancelled",children:"Cancelled"})]})]})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Due Date"}),s.jsx(Se,{type:"datetime-local",name:"due_date",value:r.due_date,onChange:a})]})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Description"}),s.jsx(mn,{name:"description",value:r.description,onChange:a,placeholder:"Additional description"})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Metadata (JSON)"}),s.jsx(mn,{name:"metadata",value:r.metadata,onChange:a,placeholder:'{"key": "value"}'})]}),s.jsx("div",{className:"flex gap-2 pt-4",children:s.jsx(pe,{type:"submit",disabled:e,className:"flex-1",children:e?"Issuing...":"Issue Payment/Invoice"})})]})}function UI({onSubmit:t,loading:e=!1}){const[r,n]=j.useState({car_id:"",duration:"",start_at:""}),a=o=>{const{name:c,value:d}=o.target;n(h=>({...h,[c]:d}))},i=o=>{o.preventDefault();const c={...r,car_id:parseInt(r.car_id),duration:parseInt(r.duration),start_at:r.start_at||new Date().toISOString().slice(0,19).replace("T"," ")};t(c)};return s.jsxs("form",{onSubmit:i,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(de,{children:"Car ID *"}),s.jsx(Se,{type:"number",name:"car_id",value:r.car_id,onChange:a,required:!0,placeholder:"Enter car ID"})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Duration (Days) *"}),s.jsx(Se,{type:"number",name:"duration",value:r.duration,onChange:a,required:!0,min:"1",max:"365",placeholder:"30"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Number of days to feature (1-365)"})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Start Date/Time"}),s.jsx(Se,{type:"datetime-local",name:"start_at",value:r.start_at,onChange:a,placeholder:"Leave empty to start now"})]}),s.jsx("div",{className:"flex gap-2 pt-4",children:s.jsx(pe,{type:"submit",disabled:e,className:"flex-1",children:e?"Creating...":"Create Featured Car"})})]})}const $I=j.createContext(null);function wn(){const t=j.useContext($I);if(!t)throw new Error("useAdmin must be used within AdminProvider");return t}const li={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640"};function M0e(){const{summary:t}=wn();return s.jsx("div",{className:"space-y-6",children:t&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(Ue,{children:[s.jsxs(gs,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(xs,{className:"text-sm font-medium",children:"Total Users"}),s.jsx(ks,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(qe,{children:[s.jsx("div",{className:"text-2xl font-bold",children:t.total_users}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.active_users," active"]})]})]}),s.jsxs(Ue,{children:[s.jsxs(gs,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(xs,{className:"text-sm font-medium",children:"Total Bookings"}),s.jsx(Hs,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(qe,{children:[s.jsx("div",{className:"text-2xl font-bold",children:t.total_bookings}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.pending_bookings," pending"]})]})]}),s.jsxs(Ue,{children:[s.jsxs(gs,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(xs,{className:"text-sm font-medium",children:"Total Revenue"}),s.jsx(or,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(qe,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",t.total_revenue?.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["$",t.total_refunds?.toLocaleString()," refunds"]})]})]}),s.jsxs(Ue,{children:[s.jsxs(gs,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(xs,{className:"text-sm font-medium",children:"Total Cars"}),s.jsx(Gt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(qe,{children:[s.jsx("div",{className:"text-2xl font-bold",children:t.total_cars}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.available_cars," available"]})]})]})]})})}function P0e(){const{users:t,filters:e,setFilters:r,navigate:n,fetchUsers:a,fetchUserDetails:i,setSelectedItem:o,setModalType:c,setModalOpen:d,showConfirmDialog:h,deleteUser:m}=wn(),f=t?.data??(Array.isArray(t)?t:[]);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Se,{placeholder:"Search users...",className:"w-64"}),s.jsxs(ft,{value:e.users.role,onValueChange:g=>r(y=>({...y,users:{...y.users,role:g}})),children:[s.jsx(ut,{className:"w-32",children:s.jsx(mt,{placeholder:"Role"})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"all",children:"All Roles"}),s.jsx(Ce,{value:"client",children:"Client"}),s.jsx(Ce,{value:"agency",children:"Agency"}),s.jsx(Ce,{value:"admin",children:"Admin"})]})]}),s.jsx(pe,{variant:"outline",size:"icon",onClick:a,children:s.jsx(Tt,{className:"w-4 h-4"})})]}),s.jsxs(pe,{onClick:()=>n("/admin/real-user-data"),style:{background:`linear-gradient(to right, ${li.darkBlue}, ${li.teal})`},className:"text-white flex items-center gap-2",children:[s.jsx(Hx,{className:"w-4 h-4"}),"Manage Real User Data"]})]}),s.jsx(Ue,{children:s.jsx(qe,{className:"p-0",children:s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Name"}),s.jsx(_e,{children:"Email"}),s.jsx(_e,{children:"Role"}),s.jsx(_e,{children:"Status"}),s.jsx(_e,{children:"Verified"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Pt,{children:(Array.isArray(f)?f:[]).map(g=>s.jsxs(Ve,{children:[s.jsx(ge,{children:g.id}),s.jsx(ge,{children:g.first_name&&g.last_name?`${g.first_name} ${g.last_name}`:g.username||"N/A"}),s.jsx(ge,{children:g.email||g.phone_number||"N/A"}),s.jsx(ge,{children:s.jsx(We,{variant:"outline",children:g.role})}),s.jsx(ge,{children:s.jsx(We,{variant:g.status?"default":"secondary",children:g.status?"Active":"Inactive"})}),s.jsx(ge,{children:g.verified_by_admin?s.jsx(Gr,{className:"w-4 h-4 text-green-500"}):s.jsx(Xn,{className:"w-4 h-4 text-gray-400"})}),s.jsx(ge,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pe,{variant:"ghost",size:"icon",onClick:async()=>{const y=await i(g.id);y&&(o(y),c("view-user"),d(!0))},title:"View Details",children:s.jsx(sr,{className:"w-4 h-4"})}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:async()=>{const y=await i(g.id);y&&(o(y),c("edit-user"),d(!0))},children:s.jsx(br,{className:"w-4 h-4"})}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>h("Delete User","Are you sure you want to delete this user?",()=>m(g.id)),children:s.jsx(Xs,{className:"w-4 h-4 text-red-500"})})]})})]},g.id))})]})})})]})}function O0e(){const{cars:t,filters:e,setFilters:r,fetchCars:n,fetchCarDetails:a,setSelectedItem:i,setModalType:o,setModalOpen:c,showConfirmDialog:d,deleteCar:h}=wn(),m=t?.data??(Array.isArray(t)?t:[]);return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ft,{value:e.cars.status,onValueChange:f=>r(g=>({...g,cars:{...g.cars,status:f}})),children:[s.jsx(ut,{className:"w-40",children:s.jsx(mt,{placeholder:"Status"})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"all",children:"All Statuses"}),s.jsx(Ce,{value:"available",children:"Available"}),s.jsx(Ce,{value:"not_available",children:"Not Available"}),s.jsx(Ce,{value:"rented",children:"Rented"}),s.jsx(Ce,{value:"maintenance",children:"Maintenance"})]})]}),s.jsx(pe,{variant:"outline",size:"icon",onClick:n,children:s.jsx(Tt,{className:"w-4 h-4"})})]})}),s.jsx(Ue,{children:s.jsx(qe,{className:"p-0",children:s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Make/Model"}),s.jsx(_e,{children:"Year"}),s.jsx(_e,{children:"Status"}),s.jsx(_e,{children:"Approved"}),s.jsx(_e,{children:"Daily Rate"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Pt,{children:(Array.isArray(m)?m:[]).map(f=>s.jsxs(Ve,{children:[s.jsx(ge,{children:f.id}),s.jsxs(ge,{children:[f.make," ",f.model]}),s.jsx(ge,{children:f.year}),s.jsx(ge,{children:s.jsx(We,{variant:"outline",children:f.status})}),s.jsx(ge,{children:f.car_accepted?s.jsx(Gr,{className:"w-4 h-4 text-green-500"}):s.jsx(Xn,{className:"w-4 h-4 text-gray-400"})}),s.jsxs(ge,{children:["$",f.daily_rate]}),s.jsx(ge,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pe,{variant:"ghost",size:"icon",onClick:async()=>{const g=await a(f.id);g&&(i(g),o("view-car"),c(!0))},title:"View Details",children:s.jsx(sr,{className:"w-4 h-4"})}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:async()=>{const g=await a(f.id);g&&(i(g),o("edit-car"),c(!0))},children:s.jsx(br,{className:"w-4 h-4"})}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>d("Delete Car","Are you sure you want to delete this car?",()=>h(f.id)),children:s.jsx(Xs,{className:"w-4 h-4 text-red-500"})})]})})]},f.id))})]})})})]})}function L0e(){const{bookings:t,filters:e,setFilters:r,fetchBookings:n,fetchBookingDetails:a,setSelectedItem:i,setModalType:o,setModalOpen:c,forceCompleteBooking:d}=wn(),h=t?.data??(Array.isArray(t)?t:[]);return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ft,{value:e.bookings.status,onValueChange:m=>r(f=>({...f,bookings:{...f.bookings,status:m}})),children:[s.jsx(ut,{className:"w-40",children:s.jsx(mt,{placeholder:"Status"})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"all",children:"All Statuses"}),s.jsx(Ce,{value:"pending",children:"Pending"}),s.jsx(Ce,{value:"confirmed",children:"Confirmed"}),s.jsx(Ce,{value:"cancelled",children:"Cancelled"}),s.jsx(Ce,{value:"completed",children:"Completed"}),s.jsx(Ce,{value:"rejected",children:"Rejected"})]})]}),s.jsx(pe,{variant:"outline",size:"icon",onClick:n,children:s.jsx(Tt,{className:"w-4 h-4"})})]})}),s.jsx(Ue,{children:s.jsx(qe,{className:"p-0",children:s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Client"}),s.jsx(_e,{children:"Car"}),s.jsx(_e,{children:"Status"}),s.jsx(_e,{children:"Payment"}),s.jsx(_e,{children:"Total Price"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Pt,{children:(Array.isArray(h)?h:[]).map(m=>s.jsxs(Ve,{children:[s.jsx(ge,{children:m.id}),s.jsx(ge,{children:m.client?.first_name&&m.client?.last_name?`${m.client.first_name} ${m.client.last_name}`:m.client?.username||"N/A"}),s.jsxs(ge,{children:[m.car?.make," ",m.car?.model]}),s.jsx(ge,{children:s.jsx(We,{variant:"outline",children:m.booking_request_status})}),s.jsx(ge,{children:s.jsx(We,{variant:m.payment_status==="paid"?"default":"secondary",children:m.payment_status})}),s.jsxs(ge,{children:["$",m.total_booking_price]}),s.jsx(ge,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pe,{variant:"ghost",size:"icon",onClick:async()=>{const f=await a(m.id);f&&(i(f),o("view-booking"),c(!0))},title:"View Details",children:s.jsx(sr,{className:"w-4 h-4"})}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:async()=>{const f=await a(m.id);f&&(i(f),o("edit-booking"),c(!0))},children:s.jsx(br,{className:"w-4 h-4"})}),m.booking_request_status==="confirmed"&&s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>d(m.id),title:"Force Complete","aria-label":"Force complete booking",children:s.jsx(Gr,{className:"w-4 h-4 text-green-500"})})]})})]},m.id))})]})})})]})}function F0e(){const{payments:t,setSelectedItem:e,setModalType:r,setModalOpen:n,fetchPayments:a,processRefund:i}=wn(),o=t?.data??(Array.isArray(t)?t:[]),c=[{key:"id",label:"ID"},{key:"user",label:"User",transform:d=>d.user?.name||"N/A"},{key:"amount",label:"Amount",transform:d=>`$${d.amount}`},{key:"type",label:"Type"},{key:"status",label:"Status"},{key:"source",label:"Source"},{key:"name",label:"Name"},{key:"created_at",label:"Created At",transform:d=>new Date(d.created_at).toLocaleString()}];return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(pe,{onClick:()=>{e(null),r("create-payment"),n(!0)},children:[s.jsx(er,{className:"w-4 h-4 mr-2"}),"Issue Payment/Invoice"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(pe,{variant:"outline",onClick:()=>{const d=(Array.isArray(o)?o:[]).map(h=>({...h,user:h.user?.name||"N/A",amount:`$${h.amount}`,created_at:new Date(h.created_at).toLocaleString()}));BI(d,c,"invoices")},children:[s.jsx(Bx,{className:"w-4 h-4 mr-2"}),"Export Excel"]}),s.jsxs(pe,{variant:"outline",onClick:()=>{const d=(Array.isArray(o)?o:[]).map(h=>({...h,user:h.user?.name||"N/A",amount:`$${h.amount}`,created_at:new Date(h.created_at).toLocaleString()}));II(d,c,"Invoices Report","invoices")},children:[s.jsx(Bx,{className:"w-4 h-4 mr-2"}),"Export PDF"]}),s.jsx(pe,{variant:"outline",size:"icon",onClick:a,"aria-label":"Refresh payments",children:s.jsx(Tt,{className:"w-4 h-4"})})]})]}),s.jsx(Ue,{children:s.jsx(qe,{className:"p-0",children:s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"User"}),s.jsx(_e,{children:"Amount"}),s.jsx(_e,{children:"Type"}),s.jsx(_e,{children:"Status"}),s.jsx(_e,{children:"Source"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Pt,{children:(Array.isArray(o)?o:[]).map(d=>s.jsxs(Ve,{children:[s.jsx(ge,{children:d.id}),s.jsx(ge,{children:d.user?.name||"N/A"}),s.jsxs(ge,{children:["$",d.amount]}),s.jsx(ge,{children:s.jsx(We,{variant:"outline",children:d.type})}),s.jsx(ge,{children:s.jsx(We,{variant:d.status==="paid"?"default":"secondary",children:d.status})}),s.jsx(ge,{children:d.source}),s.jsx(ge,{children:d.type==="refund"&&d.status!=="processed"&&s.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>{const h=d.reference_id||d.id;i(h)},children:"Process Refund"})})]},d.id))})]})})})]})}function B0e(){const{announcements:t,setSelectedItem:e,setModalType:r,setModalOpen:n,fetchAnnouncements:a,showConfirmDialog:i,deleteAnnouncement:o}=wn(),c=t?.data??(Array.isArray(t)?t:[]);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(pe,{onClick:()=>{e(null),r("create-announcement"),n(!0)},children:[s.jsx(er,{className:"w-4 h-4 mr-2"}),"Create Announcement"]}),s.jsx(pe,{variant:"outline",size:"icon",onClick:a,children:s.jsx(Tt,{className:"w-4 h-4"})})]}),s.jsx(Ue,{children:s.jsx(qe,{className:"p-0",children:s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Title"}),s.jsx(_e,{children:"Status"}),s.jsx(_e,{children:"Priority"}),s.jsx(_e,{children:"Target Audience"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Pt,{children:(Array.isArray(c)?c:[]).map(d=>s.jsxs(Ve,{children:[s.jsx(ge,{children:d.id}),s.jsx(ge,{children:d.title}),s.jsx(ge,{children:s.jsx(We,{variant:"outline",children:d.status})}),s.jsx(ge,{children:s.jsx(We,{variant:"outline",children:d.priority})}),s.jsx(ge,{children:d.target_audience?.join(", ")||"All"}),s.jsx(ge,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>{e(d),r("edit-announcement"),n(!0)},"aria-label":"Edit announcement",children:s.jsx(br,{className:"w-4 h-4"})}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>i("Delete Announcement","Are you sure you want to delete this announcement?",()=>o(d.id)),children:s.jsx(Xs,{className:"w-4 h-4 text-red-500"})})]})})]},d.id))})]})})})]})}function I0e(){const{appeals:t,filters:e,setFilters:r,setSelectedItem:n,setModalType:a,setModalOpen:i,fetchAppeals:o}=wn(),c=t?.data??(Array.isArray(t)?t:[]);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ft,{value:e.appeals.status,onValueChange:d=>r(h=>({...h,appeals:{...h.appeals,status:d}})),children:[s.jsx(ut,{className:"w-40",children:s.jsx(mt,{placeholder:"Status"})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"all",children:"All Statuses"}),s.jsx(Ce,{value:"submitted",children:"Submitted"}),s.jsx(Ce,{value:"under_review",children:"Under Review"}),s.jsx(Ce,{value:"resolved",children:"Resolved"}),s.jsx(Ce,{value:"rejected",children:"Rejected"}),s.jsx(Ce,{value:"escalated",children:"Escalated"})]})]}),s.jsx(pe,{variant:"outline",size:"icon",onClick:o,children:s.jsx(Tt,{className:"w-4 h-4"})})]}),s.jsx(Ue,{children:s.jsx(qe,{className:"p-0",children:s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"User"}),s.jsx(_e,{children:"Type"}),s.jsx(_e,{children:"Status"}),s.jsx(_e,{children:"Priority"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Pt,{children:(Array.isArray(c)?c:[]).map(d=>s.jsxs(Ve,{children:[s.jsx(ge,{children:d.id}),s.jsx(ge,{children:d.user?.username||d.user?.email||"N/A"}),s.jsx(ge,{children:d.type||"N/A"}),s.jsx(ge,{children:s.jsx(We,{variant:"outline",children:d.status})}),s.jsx(ge,{children:s.jsx(We,{variant:"outline",children:d.priority||"N/A"})}),s.jsx(ge,{children:s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>{n(d),a("edit-appeal"),i(!0)},children:s.jsx(br,{className:"w-4 h-4"})})})]},d.id))})]})})})]})}function z0e(){const{ads:t,navigate:e,setSelectedItem:r,setModalType:n,setModalOpen:a,fetchAds:i,showConfirmDialog:o,deleteAd:c}=wn(),d=t?.data??(Array.isArray(t)?t:[]);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(pe,{onClick:()=>{r(null),n("create-ad"),a(!0)},children:[s.jsx(er,{className:"w-4 h-4 mr-2"}),"Create Ad"]}),s.jsxs(pe,{variant:"outline",onClick:()=>e("/admin/ads-analytics"),children:[s.jsx(Vu,{className:"w-4 h-4 mr-2"}),"View Analytics"]})]}),s.jsx(pe,{variant:"outline",size:"icon",onClick:i,"aria-label":"Refresh ads",children:s.jsx(Tt,{className:"w-4 h-4"})})]}),s.jsx(Ue,{children:s.jsx(qe,{className:"p-0",children:s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Website"}),s.jsx(_e,{children:"Company Type"}),s.jsx(_e,{children:"Online"}),s.jsx(_e,{children:"Views"}),s.jsx(_e,{children:"Clicks"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Pt,{children:(Array.isArray(d)?d:[]).map(h=>s.jsxs(Ve,{children:[s.jsx(ge,{children:h.id}),s.jsx(ge,{children:h.website}),s.jsx(ge,{children:h.company_type}),s.jsx(ge,{children:h.online?s.jsx(Gr,{className:"w-4 h-4 text-green-500"}):s.jsx(Xn,{className:"w-4 h-4 text-gray-400"})}),s.jsx(ge,{children:h.nb_views}),s.jsx(ge,{children:h.nb_clicks}),s.jsx(ge,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>{r(h),n("edit-ad"),a(!0)},children:s.jsx(br,{className:"w-4 h-4"})}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>o("Delete Ad","Are you sure you want to delete this ad?",()=>c(h.id)),children:s.jsx(Xs,{className:"w-4 h-4 text-red-500"})})]})})]},h.id))})]})})})]})}function U0e(){const{promoCodes:t,brokers:e,filters:r,setFilters:n,setBrokerForm:a,setSelectedItem:i,setModalType:o,setModalOpen:c,fetchPromoCodes:d,fetchPromoCodeUsers:h,fetchBrokerReferrals:m,showConfirmDialog:f,handleDeletePromoCode:g}=wn(),y=t?.data??(Array.isArray(t)?t:[]);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(pe,{onClick:()=>{i(null),o("create-promo-code"),c(!0)},children:[s.jsx(er,{className:"w-4 h-4 mr-2"}),"Create Promo Code"]}),s.jsxs(pe,{variant:"outline",onClick:()=>{a({username:"",phone_number:"",email:"",password:"",password_confirmation:"",first_name:"",last_name:""}),o("create-broker"),c(!0)},children:[s.jsx(ks,{className:"w-4 h-4 mr-2"}),"Create Broker"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ft,{value:r.promoCodes.broker_id||"all",onValueChange:v=>n(w=>({...w,promoCodes:{...w.promoCodes,broker_id:v}})),children:[s.jsx(ut,{className:"w-[180px]",children:s.jsx(mt,{placeholder:"Filter by broker"})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"all",children:"All brokers"}),(Array.isArray(e)?e:[]).map(v=>s.jsx(Ce,{value:String(v.id),children:v.username||`${v.first_name||""} ${v.last_name||""}`||`Broker #${v.id}`},v.id))]})]}),s.jsxs(ft,{value:r.promoCodes.is_active,onValueChange:v=>n(w=>({...w,promoCodes:{...w.promoCodes,is_active:v}})),children:[s.jsx(ut,{className:"w-[150px]",children:s.jsx(mt,{placeholder:"Status"})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"all",children:"All status"}),s.jsx(Ce,{value:"true",children:"Active"}),s.jsx(Ce,{value:"false",children:"Inactive"})]})]})]})]}),s.jsx(pe,{variant:"outline",size:"icon",onClick:d,"aria-label":"Refresh promo codes",children:s.jsx(Tt,{className:"w-4 h-4"})})]}),s.jsx(Ue,{children:s.jsx(qe,{className:"p-0",children:s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"Code"}),s.jsx(_e,{children:"Broker"}),s.jsx(_e,{children:"Description"}),s.jsx(_e,{children:"Uses"}),s.jsx(_e,{children:"Commission %"}),s.jsx(_e,{children:"Status"}),s.jsx(_e,{children:"Expires At"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Pt,{children:(Array.isArray(y)?y:[]).map(v=>s.jsxs(Ve,{children:[s.jsx(ge,{className:"font-mono font-semibold",children:v.code}),s.jsx(ge,{children:v.broker?v.broker.username||`${v.broker.first_name||""} ${v.broker.last_name||""}`:"N/A"}),s.jsx(ge,{className:"max-w-xs truncate",children:v.description||""}),s.jsxs(ge,{children:[v.current_uses," / ",v.max_uses??""]}),s.jsxs(ge,{children:[v.commission_percentage??0,"%"]}),s.jsx(ge,{children:s.jsx(We,{variant:v.is_active?"default":"secondary",children:v.is_active?"Active":"Inactive"})}),s.jsx(ge,{children:v.expires_at?new Date(v.expires_at).toLocaleDateString():"No expiry"}),s.jsx(ge,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>{i(v),o("edit-promo-code"),c(!0)},children:s.jsx(br,{className:"w-4 h-4"})}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>{i(v),h(v.id),m(v.broker_id),o("view-promo-users"),c(!0)},children:s.jsx(ks,{className:"w-4 h-4"})}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>f("Delete Promo Code","Are you sure you want to delete this promo code?",()=>g(v.id)),children:s.jsx(Xs,{className:"w-4 h-4 text-red-500"})})]})})]},v.id))})]})})})]})}function $0e(){const{brokers:t,selectedBroker:e,brokerDetailTab:r,setBrokerDetailTab:n,brokerBalance:a,brokerCommissions:i,brokerPayouts:o,brokerReferrals:c,brokerCommissionsList:d,commissionStatusFilter:h,setCommissionStatusFilter:m,setBrokerCommissions:f,setBrokerForm:g,setPayoutForm:y,setSelectedBroker:v,setModalType:w,setModalOpen:_,fetchBrokers:b,fetchBrokerCommissionsList:N,openBrokerDetail:k,closeBrokerDetail:S,showConfirmDialog:C,handleCancelCommission:I,handleDeleteBrokerReferral:E}=wn(),U=async T=>{if(e?.id){m(T);try{const ne=await b0(e.id,{status:T==="all"?void 0:T}),q=ne.data?.commissions?.data??ne.data?.commissions;f({data:Array.isArray(q)?q:[],statistics:ne.data?.statistics||{}})}catch(ne){console.error("Failed to fetch broker commissions:",ne)}}};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(pe,{variant:"outline",onClick:()=>{g({username:"",phone_number:"",email:"",password:"",password_confirmation:"",first_name:"",last_name:""}),w("create-broker"),_(!0)},children:[s.jsx(ks,{className:"w-4 h-4 mr-2"}),"Create Broker"]}),s.jsxs(pe,{onClick:()=>{y({broker_id:e?.id?String(e.id):"select",amount:e?.id&&a?.balance!=null?String(a.balance):"",reference:"",notes:""}),w("create-broker-payout"),_(!0)},children:[s.jsx(or,{className:"w-4 h-4 mr-2"}),"Create Payout"]})]}),s.jsx(pe,{variant:"outline",size:"icon",onClick:()=>{b(),N()},children:s.jsx(Tt,{className:"w-4 h-4"})})]}),e?s.jsxs(Ue,{children:[s.jsxs(gs,{className:"flex flex-row items-center justify-between",children:[s.jsxs(xs,{className:"flex items-center gap-2",children:[s.jsx(ks,{className:"w-5 h-5"}),e.username||`${e.first_name||""} ${e.last_name||""}`.trim()||`Broker #${e.id}`]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>{y({broker_id:String(e.id),amount:a?.balance?String(a.balance):"",reference:"",notes:""}),w("create-broker-payout"),_(!0)},children:[s.jsx(or,{className:"w-4 h-4 mr-1"}),"Pay broker"]}),s.jsx(pe,{variant:"ghost",size:"sm",onClick:S,children:"Close"})]})]}),s.jsx(qe,{children:s.jsxs(Uo,{value:r,onValueChange:n,className:"w-full",children:[s.jsxs(Ki,{className:"grid w-full grid-cols-4",children:[s.jsx($t,{value:"overview",children:"Overview"}),s.jsx($t,{value:"commissions",children:"Commissions"}),s.jsx($t,{value:"payouts",children:"Payouts"}),s.jsx($t,{value:"referrals",children:"Referrals"})]}),s.jsx(Qt,{value:"overview",className:"space-y-4 mt-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(Ue,{children:s.jsxs(qe,{className:"pt-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Balance"}),s.jsxs("p",{className:"text-2xl font-bold",style:{color:li.limeGreen},children:["$",(a?.balance??0).toFixed(2)]})]})}),s.jsx(Ue,{children:s.jsxs(qe,{className:"pt-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total commissions"}),s.jsxs("p",{className:"text-2xl font-bold",children:["$",(a?.total_commissions??i.statistics?.total_commissions??0).toFixed(2)]})]})}),s.jsx(Ue,{children:s.jsxs(qe,{className:"pt-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total payouts"}),s.jsxs("p",{className:"text-2xl font-bold",children:["$",(a?.total_payouts??i.statistics?.total_payouts??0).toFixed(2)]})]})})]})}),s.jsxs(Qt,{value:"commissions",className:"mt-4",children:[s.jsx("div",{className:"flex gap-2 mb-4",children:["all","pending","paid","cancelled"].map(T=>s.jsx(pe,{variant:h===T?"default":"outline",size:"sm",onClick:()=>U(T),children:T.charAt(0).toUpperCase()+T.slice(1)},T))}),s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Referred user"}),s.jsx(_e,{children:"Promo code"}),s.jsx(_e,{children:"Booking amount"}),s.jsx(_e,{children:"Commission"}),s.jsx(_e,{children:"Status"}),s.jsx(_e,{children:"Completed at"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Pt,{children:(Array.isArray(i.data)?i.data:[]).map(T=>s.jsxs(Ve,{children:[s.jsx(ge,{children:T.id}),s.jsx(ge,{children:T.referredUser?`${T.referredUser.first_name||""} ${T.referredUser.last_name||""}`.trim()||T.referredUser.username:T.referred_user_id}),s.jsx(ge,{children:T.promoCode?.code||""}),s.jsxs(ge,{children:["$",Number(T.booking_amount||0).toFixed(2)]}),s.jsxs(ge,{children:["$",Number(T.commission_amount||0).toFixed(2)," (",T.commission_percentage,"%)"]}),s.jsx(ge,{children:s.jsx(We,{variant:T.status==="paid"?"default":T.status==="cancelled"?"secondary":"outline",children:T.status})}),s.jsx(ge,{children:T.booking_completed_at?new Date(T.booking_completed_at).toLocaleDateString():""}),s.jsx(ge,{children:T.status==="pending"&&s.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>C("Cancel commission","Are you sure? This cannot be undone.",()=>I(T.id)),children:"Cancel"})})]},T.id))})]})]}),s.jsx(Qt,{value:"payouts",className:"mt-4",children:s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"Reference ID"}),s.jsx(_e,{children:"Amount"}),s.jsx(_e,{children:"Paid at"}),s.jsx(_e,{children:"Description"})]})}),s.jsx(Pt,{children:(Array.isArray(o.data)?o.data:[]).map(T=>s.jsxs(Ve,{children:[s.jsx(ge,{className:"font-mono text-xs",children:T.reference_id||T.id}),s.jsxs(ge,{children:["$",((T.amount||0)/100).toFixed(2)]}),s.jsx(ge,{children:T.paid_at?new Date(T.paid_at).toLocaleString():""}),s.jsx(ge,{children:T.description||T.metadata?.reference||""})]},T.id))})]})}),s.jsx(Qt,{value:"referrals",className:"mt-4",children:s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Referred user"}),s.jsx(_e,{children:"Promo code"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Pt,{children:(Array.isArray(c)?c:[]).map(T=>s.jsxs(Ve,{children:[s.jsx(ge,{children:T.id}),s.jsx(ge,{children:T.referredUser?`${T.referredUser.first_name||""} ${T.referredUser.last_name||""}`.trim()||T.referredUser.username:T.referred_user_id}),s.jsx(ge,{children:T.promoCode?.code||""}),s.jsx(ge,{children:s.jsx(pe,{variant:"ghost",size:"sm",className:"text-red-500",onClick:()=>C("Delete referral","Remove this referral link? This cannot be undone.",()=>E(T.id)),children:"Delete"})})]},T.id))})]})})]})})]}):s.jsxs(s.Fragment,{children:[s.jsxs(Ue,{children:[s.jsxs(gs,{children:[s.jsx(xs,{children:"Brokers"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Click Manage to view balance, commissions, payouts, and referrals."})]}),s.jsx(qe,{className:"p-0",children:s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Username"}),s.jsx(_e,{children:"Name"}),s.jsx(_e,{children:"Phone"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Pt,{children:(Array.isArray(t)?t:[]).map(T=>s.jsxs(Ve,{children:[s.jsx(ge,{children:T.id}),s.jsx(ge,{children:T.username}),s.jsx(ge,{children:[T.first_name,T.last_name].filter(Boolean).join(" ")||""}),s.jsx(ge,{children:T.phone_number||""}),s.jsx(ge,{children:s.jsx(pe,{variant:"outline",size:"sm",onClick:()=>k(T),children:"Manage"})})]},T.id))})]})})]}),s.jsxs(Ue,{children:[s.jsx(gs,{children:s.jsx(xs,{children:"All broker commissions"})}),s.jsx(qe,{className:"p-0",children:s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Broker"}),s.jsx(_e,{children:"Referred user"}),s.jsx(_e,{children:"Promo"}),s.jsx(_e,{children:"Amount"}),s.jsx(_e,{children:"Status"})]})}),s.jsx(Pt,{children:(Array.isArray(d?.data)?d.data:[]).map(T=>s.jsxs(Ve,{children:[s.jsx(ge,{children:T.id}),s.jsx(ge,{children:T.broker?T.broker.username||`${T.broker.first_name||""} ${T.broker.last_name||""}`:T.broker_id}),s.jsx(ge,{children:T.referredUser?`${T.referredUser.first_name||""} ${T.referredUser.last_name||""}`.trim()||T.referredUser.username:""}),s.jsx(ge,{children:T.promoCode?.code||""}),s.jsxs(ge,{children:["$",Number(T.commission_amount||0).toFixed(2)]}),s.jsx(ge,{children:s.jsx(We,{variant:T.status==="paid"?"default":T.status==="cancelled"?"secondary":"outline",children:T.status})})]},T.id))})]})})]})]})]})}function V0e(){const{featuredCars:t,setSelectedItem:e,setModalType:r,setModalOpen:n,fetchFeaturedCars:a,showConfirmDialog:i,deleteFeaturedCar:o}=wn(),c=t?.data??(Array.isArray(t)?t:[]);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(pe,{onClick:()=>{e(null),r("create-featured-car"),n(!0)},children:[s.jsx(er,{className:"w-4 h-4 mr-2"}),"Create Featured Car"]}),s.jsx(pe,{variant:"outline",size:"icon",onClick:a,children:s.jsx(Tt,{className:"w-4 h-4"})})]}),s.jsx(Ue,{children:s.jsx(qe,{className:"p-0",children:s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Car"}),s.jsx(_e,{children:"Duration"}),s.jsx(_e,{children:"Start Date"}),s.jsx(_e,{children:"Expire Date"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Pt,{children:(Array.isArray(c)?c:[]).map(d=>s.jsxs(Ve,{children:[s.jsx(ge,{children:d.id}),s.jsxs(ge,{children:[d.car?.make," ",d.car?.model]}),s.jsxs(ge,{children:[d.duration," days"]}),s.jsx(ge,{children:new Date(d.start_at).toLocaleDateString()}),s.jsx(ge,{children:new Date(d.expire_at).toLocaleDateString()}),s.jsx(ge,{children:s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>i("Remove Featured Car","Are you sure?",()=>o(d.id)),children:s.jsx(Xs,{className:"w-4 h-4 text-red-500"})})})]},d.id))})]})})})]})}function H0e(){const{holidays:t,setSelectedItem:e,setModalType:r,setModalOpen:n,fetchHolidays:a,showConfirmDialog:i,deleteHoliday:o}=wn(),c=t?.data??(Array.isArray(t)?t:[]);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(pe,{onClick:()=>{e(null),r("create-holiday"),n(!0)},children:[s.jsx(er,{className:"w-4 h-4 mr-2"}),"Create Holiday"]}),s.jsx(pe,{variant:"outline",size:"icon",onClick:a,children:s.jsx(Tt,{className:"w-4 h-4"})})]}),s.jsx(Ue,{children:s.jsx(qe,{className:"p-0",children:s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Car"}),s.jsx(_e,{children:"Holiday Name"}),s.jsx(_e,{children:"Dates"}),s.jsx(_e,{children:"Increase %"}),s.jsx(_e,{children:"Active"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Pt,{children:(Array.isArray(c)?c:[]).map(d=>s.jsxs(Ve,{children:[s.jsx(ge,{children:d.id}),s.jsxs(ge,{children:[d.car?.make," ",d.car?.model]}),s.jsx(ge,{children:d.holiday_name}),s.jsxs(ge,{children:[d.holiday_dates?.start," - ",d.holiday_dates?.end]}),s.jsxs(ge,{children:[d.percentage_increase,"%"]}),s.jsx(ge,{children:d.is_active?s.jsx(Gr,{className:"w-4 h-4 text-green-500"}):s.jsx(Xn,{className:"w-4 h-4 text-gray-400"})}),s.jsx(ge,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>{e(d),r("edit-holiday"),n(!0)},children:s.jsx(br,{className:"w-4 h-4"})}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>i("Delete Holiday","Are you sure you want to delete this holiday?",()=>o(d.id)),children:s.jsx(Xs,{className:"w-4 h-4 text-red-500"})})]})})]},d.id))})]})})})]})}function q0e(){const{suggestions:t,setSelectedItem:e,setModalType:r,setModalOpen:n,fetchSuggestions:a,showConfirmDialog:i,deleteSuggestion:o}=wn(),c=t?.data??(Array.isArray(t)?t:[]);return s.jsxs("div",{className:"space-y-4",children:[s.jsx(pe,{variant:"outline",size:"icon",onClick:a,"aria-label":"Refresh suggestions",children:s.jsx(Tt,{className:"w-4 h-4"})}),s.jsx(Ue,{children:s.jsx(qe,{className:"p-0",children:s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"User"}),s.jsx(_e,{children:"Title"}),s.jsx(_e,{children:"Status"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Pt,{children:(Array.isArray(c)?c:[]).map(d=>s.jsxs(Ve,{children:[s.jsx(ge,{children:d.id}),s.jsx(ge,{children:d.user?.name||"N/A"}),s.jsx(ge,{children:d.title}),s.jsx(ge,{children:s.jsx(We,{variant:"outline",children:d.status})}),s.jsx(ge,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>{e(d),r("edit-suggestion"),n(!0)},children:s.jsx(br,{className:"w-4 h-4"})}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>i("Delete Suggestion","Are you sure you want to delete this suggestion?",()=>o(d.id)),children:s.jsx(Xs,{className:"w-4 h-4 text-red-500"})})]})})]},d.id))})]})})})]})}function W0e(){const{notifications:t,setSelectedItem:e,setModalType:r,setModalOpen:n,fetchNotifications:a}=wn(),i=t?.data??(Array.isArray(t)?t:[]);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(pe,{onClick:()=>{e(null),r("send-notification"),n(!0)},children:[s.jsx(er,{className:"w-4 h-4 mr-2"}),"Send to All Users"]}),s.jsx(pe,{variant:"outline",size:"icon",onClick:a,children:s.jsx(Tt,{className:"w-4 h-4"})})]}),s.jsx(Ue,{children:s.jsx(qe,{className:"p-0",children:s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Title"}),s.jsx(_e,{children:"Type"}),s.jsx(_e,{children:"Read"}),s.jsx(_e,{children:"Sent"}),s.jsx(_e,{children:"Created"})]})}),s.jsx(Pt,{children:(Array.isArray(i)?i:[]).map(o=>s.jsxs(Ve,{children:[s.jsx(ge,{children:o.id}),s.jsx(ge,{children:o.title}),s.jsx(ge,{children:s.jsx(We,{variant:"outline",children:o.type})}),s.jsx(ge,{children:o.is_read?s.jsx(Gr,{className:"w-4 h-4 text-green-500"}):s.jsx(Xn,{className:"w-4 h-4 text-gray-400"})}),s.jsx(ge,{children:o.is_sent?s.jsx(Gr,{className:"w-4 h-4 text-green-500"}):s.jsx(Xn,{className:"w-4 h-4 text-gray-400"})}),s.jsx(ge,{children:new Date(o.created_at).toLocaleDateString()})]},o.id))})]})})})]})}function G0e(){const{otps:t,loading:e,filters:r,setFilters:n,fetchOtps:a}=wn(),i=t?.data??(Array.isArray(t)?t:[]);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Se,{placeholder:"Search by phone number...",className:"w-64",value:r.otps.phone_number,onChange:o=>n(c=>({...c,otps:{...c.otps,phone_number:o.target.value}}))}),s.jsxs(ft,{value:r.otps.expired,onValueChange:o=>n(c=>({...c,otps:{...c.otps,expired:o}})),children:[s.jsx(ut,{className:"w-40",children:s.jsx(mt,{placeholder:"Expired"})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"all",children:"All OTPs"}),s.jsx(Ce,{value:"false",children:"Active"}),s.jsx(Ce,{value:"true",children:"Expired"})]})]})]}),s.jsx(pe,{variant:"outline",size:"icon",onClick:a,children:s.jsx(Tt,{className:"w-4 h-4"})})]}),s.jsx(Ue,{children:s.jsx(qe,{className:"p-0",children:s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Phone Number"}),s.jsx(_e,{children:"OTP Code"}),s.jsx(_e,{children:"Created At"}),s.jsx(_e,{children:"Expires At"}),s.jsx(_e,{children:"Status"})]})}),s.jsx(Pt,{children:e&&(Array.isArray(i)?i:[]).length===0?s.jsx(Ve,{children:s.jsxs(ge,{colSpan:6,className:"text-center py-8",children:[s.jsx(Tt,{className:"w-6 h-6 animate-spin mx-auto mb-2"}),"Loading OTPs..."]})}):(Array.isArray(i)?i:[]).length===0?s.jsx(Ve,{children:s.jsx(ge,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"No OTPs found"})}):(Array.isArray(i)?i:[]).map(o=>{const c=new Date(o.expired_at)<new Date;return s.jsxs(Ve,{children:[s.jsx(ge,{children:o.id}),s.jsx(ge,{children:o.phone_number}),s.jsx(ge,{className:"font-mono font-bold",children:o.code}),s.jsx(ge,{children:new Date(o.created_at).toLocaleString()}),s.jsx(ge,{children:new Date(o.expired_at).toLocaleString()}),s.jsx(ge,{children:c?s.jsx(We,{variant:"destructive",children:"Expired"}):s.jsx(We,{variant:"default",children:"Active"})})]},o.id)})})]})})})]})}function Y0e(){const t=wn(),{services:e,thirdParties:r,serviceItems:n,serviceFeedbacks:a,loading:i,filters:o,setFilters:c,selectedServiceId:d,setSelectedItem:h,setModalType:m,setModalOpen:f,setConfirmDialog:g,fetchServices:y,fetchThirdParties:v,fetchServiceItems:w,fetchServiceFeedbacks:_,handleDeleteService:b,handleDeleteFeedback:N,handleDeleteServiceItem:k}=t;return s.jsx("div",{className:"space-y-6",children:s.jsxs(Uo,{defaultValue:"services-list",className:"w-full",children:[s.jsxs(Ki,{className:"grid w-full grid-cols-4 mb-4",children:[s.jsxs($t,{value:"services-list",className:"text-xs",children:[s.jsx(yd,{className:"w-4 h-4 mr-1"}),"Services"]}),s.jsxs($t,{value:"third-parties",className:"text-xs",children:[s.jsx(Pi,{className:"w-4 h-4 mr-1"}),"Third Parties"]}),s.jsxs($t,{value:"service-items",className:"text-xs",children:[s.jsx(Fi,{className:"w-4 h-4 mr-1"}),"Service Items"]}),s.jsxs($t,{value:"service-feedbacks",className:"text-xs",children:[s.jsx(ii,{className:"w-4 h-4 mr-1"}),"Feedbacks"]})]}),s.jsxs(Qt,{value:"services-list",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(pe,{onClick:()=>{h(null),m("create-service"),f(!0)},children:[s.jsx(er,{className:"w-4 h-4 mr-1"}),"Create Service"]}),s.jsx(pe,{variant:"outline",size:"icon",onClick:y,"aria-label":"Refresh services",children:s.jsx(Tt,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Se,{placeholder:"Search services...",value:o.services.search,onChange:S=>c({...o,services:{...o.services,search:S.target.value}}),className:"w-48"}),s.jsxs(ft,{value:o.services.category,onValueChange:S=>c({...o,services:{...o.services,category:S}}),children:[s.jsx(ut,{className:"w-40",children:s.jsx(mt,{placeholder:"Category"})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"all",children:"All"}),s.jsx(Ce,{value:"transport",children:"Transport"}),s.jsx(Ce,{value:"accommodation",children:"Accommodation"}),s.jsx(Ce,{value:"food",children:"Food"}),s.jsx(Ce,{value:"entertainment",children:"Entertainment"}),s.jsx(Ce,{value:"other",children:"Other"})]})]}),s.jsx(pe,{onClick:y,children:s.jsx(Fr,{className:"w-4 h-4"})})]})]}),s.jsx(Ue,{children:s.jsx(qe,{className:"p-0",children:s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Name"}),s.jsx(_e,{children:"Owner"}),s.jsx(_e,{children:"Category"}),s.jsx(_e,{children:"Price"}),s.jsx(_e,{children:"Rating"}),s.jsx(_e,{children:"Featured"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Pt,{children:i?s.jsx(Ve,{children:s.jsx(ge,{colSpan:8,className:"text-center py-8",children:"Loading..."})}):(Array.isArray(e)?e:[]).length===0?s.jsx(Ve,{children:s.jsx(ge,{colSpan:8,className:"text-center py-8",children:"No services found"})}):(Array.isArray(e)?e:[]).map(S=>s.jsxs(Ve,{children:[s.jsx(ge,{children:S.id}),s.jsx(ge,{className:"font-medium",children:S.name}),s.jsx(ge,{children:S.third_party?s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium",children:S.third_party.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:S.third_party.email})]}):S.third_party_id?s.jsxs("span",{className:"text-muted-foreground",children:["ID: ",S.third_party_id]}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx(ge,{children:s.jsx(We,{variant:"outline",children:S.category})}),s.jsxs(ge,{children:["$",(parseFloat(S.price)||0).toFixed(2)]}),s.jsx(ge,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(rr,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}),S.rating?(parseFloat(S.rating)||0).toFixed(1):"N/A"]})}),s.jsx(ge,{children:s.jsx(We,{variant:S.featured?"default":"secondary",children:S.featured?"Yes":"No"})}),s.jsx(ge,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(pe,{size:"sm",variant:"ghost",onClick:()=>{h(S),m("view-service"),f(!0)},children:s.jsx(sr,{className:"w-4 h-4"})}),s.jsx(pe,{size:"sm",variant:"ghost",onClick:()=>{h(S),m("edit-service"),f(!0)},children:s.jsx(br,{className:"w-4 h-4"})}),s.jsx(pe,{size:"sm",variant:"ghost",onClick:()=>t.fetchServiceItems(S.id),children:s.jsx(Fi,{className:"w-4 h-4"})}),s.jsx(pe,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>g({open:!0,title:"Delete Service",message:`Are you sure you want to delete "${S.name}"?`,onConfirm:()=>b(S.id)}),children:s.jsx(Xs,{className:"w-4 h-4"})})]})})]},S.id))})]})})})]}),s.jsxs(Qt,{value:"third-parties",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(pe,{onClick:()=>{h(null),m("create-third-party"),f(!0)},children:[s.jsx(er,{className:"w-4 h-4 mr-1"}),"Create Third Party"]}),s.jsx(pe,{variant:"outline",size:"icon",onClick:v,children:s.jsx(Tt,{className:"w-4 h-4"})})]}),s.jsx(Se,{placeholder:"Search third parties...",value:o.thirdParties.search,onChange:S=>c({...o,thirdParties:{...o.thirdParties,search:S.target.value}}),className:"w-64"})]}),s.jsx(Ue,{children:s.jsx(qe,{className:"p-0",children:s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Name"}),s.jsx(_e,{children:"Contact"}),s.jsx(_e,{children:"Category"}),s.jsx(_e,{children:"City"}),s.jsx(_e,{children:"Subscription"}),s.jsx(_e,{children:"Created At"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Pt,{children:i?s.jsx(Ve,{children:s.jsx(ge,{colSpan:8,className:"text-center py-8",children:"Loading..."})}):(Array.isArray(r)?r:[]).length===0?s.jsx(Ve,{children:s.jsx(ge,{colSpan:8,className:"text-center py-8",children:"No third parties found"})}):(Array.isArray(r)?r:[]).map(S=>s.jsxs(Ve,{children:[s.jsx(ge,{children:S.id}),s.jsx(ge,{children:s.jsx("p",{className:"font-medium",children:S.name})}),s.jsx(ge,{children:S.email||S.phone||"-"}),s.jsx(ge,{children:s.jsx(We,{variant:"outline",children:S.category||"-"})}),s.jsx(ge,{children:S.city||"-"}),s.jsx(ge,{children:S.subscription_status||"-"}),s.jsx(ge,{children:S.created_at?new Date(S.created_at).toLocaleDateString():"-"}),s.jsx(ge,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(pe,{size:"sm",variant:"ghost",onClick:()=>{h(S),m("view-third-party"),f(!0)},children:s.jsx(sr,{className:"w-4 h-4"})}),s.jsx(pe,{size:"sm",variant:"ghost",onClick:()=>{h(S),m("edit-third-party"),f(!0)},children:s.jsx(br,{className:"w-4 h-4"})}),s.jsx(pe,{size:"sm",variant:"ghost",onClick:()=>{h(S),m("create-service-for-tp"),f(!0)},children:s.jsx(er,{className:"w-4 h-4"})}),s.jsx(pe,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>g({open:!0,title:"Delete Third Party",message:"Are you sure?",onConfirm:()=>t.handleDeleteThirdParty(S.id)}),children:s.jsx(Xs,{className:"w-4 h-4"})})]})})]},S.id))})]})})})]}),s.jsxs(Qt,{value:"service-items",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center gap-2",children:d&&s.jsxs(s.Fragment,{children:[s.jsxs(pe,{onClick:()=>{h(null),m("create-service-item"),f(!0)},children:[s.jsx(er,{className:"w-4 h-4 mr-1"}),"Add Item"]}),s.jsx(pe,{variant:"outline",size:"icon",onClick:()=>w(d),children:s.jsx(Tt,{className:"w-4 h-4"})})]})}),s.jsxs(ft,{value:d?.toString()||"",onValueChange:S=>S&&t.fetchServiceItems(parseInt(S)),children:[s.jsx(ut,{className:"w-64",children:s.jsx(mt,{placeholder:"Select a service to view items"})}),s.jsx(ht,{children:(Array.isArray(e)?e:[]).map(S=>s.jsx(Ce,{value:String(S.id),children:S.name},S.id))})]})]}),d?s.jsxs(Ue,{children:[s.jsx(gs,{children:s.jsxs(xs,{children:["Items for Service #",d]})}),s.jsx(qe,{className:"p-0",children:s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Name"}),s.jsx(_e,{children:"Description"}),s.jsx(_e,{children:"Price"}),s.jsx(_e,{children:"Image"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Pt,{children:i?s.jsx(Ve,{children:s.jsx(ge,{colSpan:6,className:"text-center py-8",children:"Loading..."})}):(Array.isArray(n)?n:[]).length===0?s.jsx(Ve,{children:s.jsx(ge,{colSpan:6,className:"text-center py-8",children:"No items found"})}):(Array.isArray(n)?n:[]).map(S=>s.jsxs(Ve,{children:[s.jsx(ge,{children:S.id}),s.jsx(ge,{className:"font-medium",children:S.name}),s.jsx(ge,{className:"max-w-xs truncate",children:S.description||"N/A"}),s.jsxs(ge,{children:["$",(parseFloat(S.price)||0).toFixed(2)]}),s.jsx(ge,{children:S.image?s.jsx("img",{src:S.image,alt:S.name,className:"w-10 h-10 object-cover rounded"}):s.jsx("span",{className:"text-muted-foreground",children:"No image"})}),s.jsx(ge,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(pe,{size:"sm",variant:"ghost",onClick:()=>{h(S),m("edit-service-item"),f(!0)},children:s.jsx(br,{className:"w-4 h-4"})}),s.jsx(pe,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>g({open:!0,title:"Delete Item",message:`Delete "${S.name}"?`,onConfirm:()=>k(S.id)}),children:s.jsx(Xs,{className:"w-4 h-4"})})]})})]},S.id))})]})})]}):s.jsx(Ue,{children:s.jsxs(qe,{className:"py-12 text-center text-muted-foreground",children:[s.jsx(Fi,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Select a service from the dropdown above"})]})})]}),s.jsxs(Qt,{value:"service-feedbacks",className:"space-y-4",children:[s.jsx(pe,{variant:"outline",size:"icon",onClick:_,children:s.jsx(Tt,{className:"w-4 h-4"})}),s.jsx(Ue,{children:s.jsx(qe,{className:"p-0",children:s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Service"}),s.jsx(_e,{children:"User"}),s.jsx(_e,{children:"Rating"}),s.jsx(_e,{children:"Comment"}),s.jsx(_e,{children:"Helpful"}),s.jsx(_e,{children:"Created At"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Pt,{children:i?s.jsx(Ve,{children:s.jsx(ge,{colSpan:8,className:"text-center py-8",children:"Loading..."})}):(Array.isArray(a)?a:[]).length===0?s.jsx(Ve,{children:s.jsx(ge,{colSpan:8,className:"text-center py-8",children:"No feedbacks found"})}):(Array.isArray(a)?a:[]).map(S=>s.jsxs(Ve,{children:[s.jsx(ge,{children:S.id}),s.jsx(ge,{children:S.service?.name||S.service_id}),s.jsx(ge,{children:S.user?.name||S.user_id}),s.jsx(ge,{children:s.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((C,I)=>s.jsx(rr,{className:`w-4 h-4 ${I<S.rating?"text-yellow-500 fill-yellow-500":"text-gray-300"}`},I))})}),s.jsx(ge,{className:"max-w-xs truncate",children:S.comment||"N/A"}),s.jsx(ge,{children:S.helpful_count||0}),s.jsx(ge,{children:new Date(S.created_at).toLocaleDateString()}),s.jsx(ge,{children:s.jsx(pe,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>g({open:!0,title:"Delete Feedback",message:"Are you sure?",onConfirm:()=>N(S.id)}),children:s.jsx(Xs,{className:"w-4 h-4"})})})]},S.id))})]})})})]})]})})}function K0e(){const t=Ur(),[e,r]=j.useState("dashboard"),[n,a]=j.useState(!1),[i,o]=j.useState(null),[c,d]=j.useState([]),[h,m]=j.useState([]),[f,g]=j.useState([]),[y,v]=j.useState([]),[w,_]=j.useState([]),[b,N]=j.useState([]),[k,S]=j.useState([]),[C,I]=j.useState([]),[E,U]=j.useState([]),[T,ne]=j.useState([]),[q,F]=j.useState([]),[Y,O]=j.useState([]),[se,X]=j.useState([]),[M,K]=j.useState([]),[z,he]=j.useState([]),[V,W]=j.useState([]),[le,oe]=j.useState({username:"",phone_number:"",email:"",password:"",password_confirmation:"",first_name:"",last_name:""}),[ve,me]=j.useState(null),[$,H]=j.useState("overview"),[fe,Z]=j.useState(null),[ee,J]=j.useState({data:[],statistics:{}}),[ke,L]=j.useState({data:[]}),[Te,Q]=j.useState({data:[]}),[R,P]=j.useState({broker_id:"",amount:"",reference:"",notes:""}),[G,ye]=j.useState("all"),[ce,ue]=j.useState({}),[De,je]=j.useState({}),[Ae,Be]=j.useState([]),[et,lt]=j.useState([]),[gt,_t]=j.useState([]),[Ht,Yt]=j.useState([]),[Ct,us]=j.useState(null),[Ge,Ze]=j.useState({users:{page:1,per_page:50},cars:{page:1,per_page:50},bookings:{page:1,per_page:50},payments:{page:1,per_page:50},announcements:{page:1,per_page:50},appeals:{page:1,per_page:50},ads:{page:1,per_page:50},featuredCars:{page:1,per_page:50},holidays:{page:1,per_page:50},suggestions:{page:1,per_page:50},notifications:{page:1,per_page:50},otps:{page:1,per_page:50},services:{page:1,per_page:50},thirdParties:{page:1,per_page:50},serviceFeedbacks:{page:1,per_page:50},promoCodes:{page:1,per_page:50}}),[Ke,hs]=j.useState({users:{role:"all",status:"all"},cars:{status:"all",car_accepted:"all",agent_id:""},bookings:{status:"all"},payments:{type:"all"},announcements:{status:"all"},appeals:{status:"all",priority:"all"},ads:{status:"all"},featuredCars:{status:"all"},holidays:{car_id:"",active:"all"},suggestions:{status:"all"},notifications:{type:"all",is_read:"all"},otps:{phone_number:"",expired:"all"},services:{category:"all",city:"",featured:"all",search:""},thirdParties:{search:""},promoCodes:{broker_id:"all",is_active:"all"}}),[Es,Cs]=j.useState(null),[jn,$s]=j.useState(null),[vr,Ot]=j.useState("month"),[xe,At]=j.useState(null),[Qs,kt]=j.useState(!1),[it,bs]=j.useState(""),[lr,qs]=j.useState({open:!1,title:"",message:"",onConfirm:null}),$r=async()=>{try{const{data:ae}=await Oe.get("/admin/reports/summary");o(ae.summary)}catch(ae){console.error("Error fetching summary:",ae),be.error("Failed to load dashboard summary")}},Rn=async()=>{a(!0);try{const ae={page:Ge.users.page,per_page:Ge.users.per_page};Ke.users.role&&Ke.users.role!=="all"&&(ae.role=Ke.users.role),Ke.users.status&&Ke.users.status!=="all"&&(ae.status=Ke.users.status==="active"||Ke.users.status==="true");const Ee=await Sm(ae);d(Ee.data.users)}catch{be.error("Failed to fetch users")}finally{a(!1)}},_n=async ae=>{try{const{data:Ee}=await Oe.get(`/admin/users/${ae}`);return Ee.user}catch{return be.error("Failed to fetch user details"),null}},pi=async()=>{a(!0);try{const ae={page:Ge.cars.page,per_page:Ge.cars.per_page,with_images:!0};Ke.cars.status&&Ke.cars.status!=="all"&&(ae.status=Ke.cars.status),Ke.cars.car_accepted&&Ke.cars.car_accepted!=="all"&&(ae.car_accepted=Ke.cars.car_accepted),Ke.cars.agent_id&&Ke.cars.agent_id!=="all"&&(ae.agent_id=Ke.cars.agent_id);const Ee=await yI(ae);m(Ee.data.cars)}catch{be.error("Failed to fetch cars")}finally{a(!1)}},Dd=async ae=>{try{const{data:Ee}=await Oe.get(`/admin/cars/${ae}`);return Ee.car}catch{return be.error("Failed to fetch car details"),null}},Nn=async()=>{a(!0);try{const ae=new URLSearchParams;Ke.bookings.status&&Ke.bookings.status!=="all"&&ae.append("status",Ke.bookings.status),ae.append("page",Ge.bookings.page),ae.append("per_page",Ge.bookings.per_page);const{data:Ee}=await Oe.get(`/admin/bookings?${ae}`);g(Ee.bookings)}catch{be.error("Failed to fetch bookings")}finally{a(!1)}},wr=async ae=>{try{const{data:Ee}=await Oe.get(`/admin/bookings/${ae}`);return Ee.booking}catch{return be.error("Failed to fetch booking details"),null}},ur=async()=>{a(!0);try{const ae={page:Ge.payments.page,per_page:Ge.payments.per_page};Ke.payments.type&&Ke.payments.type!=="all"&&(ae.type=Ke.payments.type);const Ee=await t0e(ae);v(Ee.data.payments)}catch{be.error("Failed to fetch payments")}finally{a(!1)}},Ar=async()=>{a(!0);try{const ae=new URLSearchParams;Ke.announcements.status&&Ke.announcements.status!=="all"&&ae.append("status",Ke.announcements.status),ae.append("page",Ge.announcements.page),ae.append("per_page",Ge.announcements.per_page);const{data:Ee}=await Oe.get(`/admin/announcements?${ae}`);_(Ee.announcements)}catch{be.error("Failed to fetch announcements")}finally{a(!1)}},eo=async()=>{a(!0);try{const ae=new URLSearchParams;Ke.appeals.status&&Ke.appeals.status!=="all"&&ae.append("status",Ke.appeals.status),Ke.appeals.priority&&Ke.appeals.priority!=="all"&&ae.append("priority",Ke.appeals.priority),ae.append("page",Ge.appeals.page),ae.append("per_page",Ge.appeals.per_page);const{data:Ee}=await Oe.get(`/admin/appeals?${ae}`);N(Ee.appeals)}catch{be.error("Failed to fetch appeals")}finally{a(!1)}},to=async()=>{a(!0);try{const ae=new URLSearchParams;Ke.ads.status&&Ke.ads.status!=="all"&&ae.append("status",Ke.ads.status),ae.append("page",Ge.ads.page),ae.append("per_page",Ge.ads.per_page);const{data:Ee}=await Oe.get(`/admin/ads?${ae}`);S(Ee.ads)}catch{be.error("Failed to fetch ads")}finally{a(!1)}},Qo=async()=>{a(!0);try{const ae=new URLSearchParams;Ke.featuredCars.status&&Ke.featuredCars.status!=="all"&&ae.append("status",Ke.featuredCars.status),ae.append("page",Ge.featuredCars.page),ae.append("per_page",Ge.featuredCars.per_page);const{data:Ee}=await Oe.get(`/admin/featured-cars?${ae}`);I(Ee.featured_cars)}catch{be.error("Failed to fetch featured cars")}finally{a(!1)}},wa=async()=>{a(!0);try{const ae=new URLSearchParams;Ke.holidays.car_id&&Ke.holidays.car_id!=="all"&&ae.append("car_id",Ke.holidays.car_id),Ke.holidays.active&&Ke.holidays.active!=="all"&&ae.append("active",Ke.holidays.active),ae.append("page",Ge.holidays.page),ae.append("per_page",Ge.holidays.per_page);const{data:Ee}=await Oe.get(`/admin/holidays?${ae}`);U(Ee.holidays)}catch{be.error("Failed to fetch holidays")}finally{a(!1)}},Wa=async ae=>{try{await Oe.post("/admin/holidays",ae),be.success("Holiday created successfully"),wa(),kt(!1)}catch(Ee){be.error(Ee.response?.data?.message||"Failed to create holiday")}},hc=async(ae,Ee)=>{try{await Oe.put(`/admin/holidays/${ae}`,Ee),be.success("Holiday updated successfully"),wa(),kt(!1)}catch{be.error("Failed to update holiday")}},gi=async ae=>{try{await Oe.delete(`/admin/holidays/${ae}`),be.success("Holiday deleted successfully"),wa()}catch{be.error("Failed to delete holiday")}},Jn=async()=>{a(!0);try{const ae=new URLSearchParams;Ke.suggestions.status&&Ke.suggestions.status!=="all"&&ae.append("status",Ke.suggestions.status),ae.append("page",Ge.suggestions.page),ae.append("per_page",Ge.suggestions.per_page);const{data:Ee}=await Oe.get(`/admin/suggestions?${ae}`);ne(Ee.suggestions)}catch{be.error("Failed to fetch suggestions")}finally{a(!1)}},xi=async()=>{a(!0);try{const ae=new URLSearchParams;Ke.notifications.type&&Ke.notifications.type!=="all"&&ae.append("type",Ke.notifications.type),Ke.notifications.is_read&&Ke.notifications.is_read!=="all"&&ae.append("is_read",Ke.notifications.is_read),ae.append("page",Ge.notifications.page),ae.append("per_page",Ge.notifications.per_page);const{data:Ee}=await Oe.get(`/admin/notifications?${ae}`);F(Ee.notifications)}catch{be.error("Failed to fetch notifications")}finally{a(!1)}},ea=async()=>{a(!0);try{const ae={};Ke.otps.phone_number&&(ae.phone_number=Ke.otps.phone_number),Ke.otps.expired&&Ke.otps.expired!=="all"&&(ae.expired=Ke.otps.expired),ae.per_page=Ge.otps.per_page,ae.page=Ge.otps.page;const Ee=await S0e(ae);O(Ee.data.otps)}catch(ae){be.error(ae.response?.data?.message||"Failed to fetch OTPs")}finally{a(!1)}},Os=async()=>{a(!0);try{const ae={per_page:Ge.services.per_page,page:Ge.services.page};Ke.services.category&&Ke.services.category!=="all"&&(ae.category=Ke.services.category),Ke.services.city&&(ae.city=Ke.services.city),Ke.services.featured&&Ke.services.featured!=="all"&&(ae.featured=Ke.services.featured==="true"),Ke.services.search&&(ae.search=Ke.services.search);const Ee=await TI(ae);Be(Ee.data.services?.data||Ee.data.services||[])}catch(ae){be.error(ae.response?.data?.message||"Failed to fetch services")}finally{a(!1)}},Jo=async ae=>{try{const{third_party_id:Ee,...xt}=ae;if(!Ee){be.error("Please select a third party owner for this service");return}const ws={category:xt.category,name:xt.name,description:xt.description||void 0,tagline:xt.tagline||void 0,city:xt.city||void 0,contact_phone:xt.contact_phone||xt.phone||void 0,contact_email:xt.contact_email||void 0,min_price:xt.price??void 0,max_price:xt.price??void 0,currency:"USD"};console.log("Creating service for third party",Ee,"with payload:",ws),await k0e(Ee,ws),be.success("Service created successfully"),Os(),kt(!1)}catch(Ee){console.error("Create service failed:",{status:Ee.response?.status,data:Ee.response?.data});const xt=Ee.response?.data?.message||(typeof Ee.response?.data=="string"?Ee.response.data:null);be.error(xt||"Failed to create service")}},fc=async(ae,Ee)=>{try{await C0e(ae,Ee),be.success("Service updated successfully"),Os(),kt(!1)}catch(xt){be.error(xt.response?.data?.message||"Failed to update service")}},ja=async ae=>{try{await RI(ae),be.success("Service deleted successfully"),Os()}catch(Ee){be.error(Ee.response?.data?.message||"Failed to delete service")}},Sn=async()=>{a(!0);try{const ae={per_page:Ge.thirdParties.per_page,page:Ge.thirdParties.page},Ee=await PI(ae);lt(Ee.data.third_parties?.data||Ee.data.third_parties||[])}catch(ae){be.error(ae.response?.data?.message||"Failed to fetch third parties")}finally{a(!1)}},Dn=async ae=>{const Ee={business_name:ae.name,username:ae.username,email:ae.email,password:ae.password,phone_number:ae.phone,subscription:ae.subscription||void 0,permissions:ae.permissions||[]};console.log("Creating third party with payload:",Ee);try{await T0e(Ee),be.success("Third party created successfully"),Sn(),kt(!1)}catch(xt){console.error("Create third party failed:",{payload:Ee,status:xt.response?.status,data:xt.response?.data});const ws=xt.response?.data?.message||(typeof xt.response?.data=="string"?xt.response.data:null);be.error(ws||"Failed to create third party")}},el=async(ae,Ee)=>{try{const xt={business_name:Ee.name,username:Ee.username,email:Ee.email,phone_number:Ee.phone,subscription:Ee.subscription||void 0,permissions:Ee.permissions||[]};Ee.password&&(xt.password=Ee.password),await R0e(ae,xt),be.success("Third party updated successfully"),Sn(),kt(!1)}catch(xt){be.error(xt.response?.data?.message||"Failed to update third party")}},ta=async ae=>{try{await OI(ae),be.success("Third party deleted successfully"),Sn()}catch(Ee){be.error(Ee.response?.data?.message||"Failed to delete third party")}},sa=async ae=>{if(ae){a(!0);try{const Ee=await DI(ae);_t(Ee.data.items||[]),us(ae)}catch(Ee){be.error(Ee.response?.data?.message||"Failed to fetch service items")}finally{a(!1)}}},so=async(ae,Ee)=>{try{await A0e(ae,Ee),be.success("Service item created successfully"),sa(ae),kt(!1)}catch(xt){be.error(xt.response?.data?.message||"Failed to create service item")}},ro=async(ae,Ee)=>{try{await E0e(ae,Ee),be.success("Service item updated successfully"),Ct&&sa(Ct),kt(!1)}catch(xt){be.error(xt.response?.data?.message||"Failed to update service item")}},Mn=async ae=>{try{await MI(ae),be.success("Service item deleted successfully"),Ct&&sa(Ct)}catch(Ee){be.error(Ee.response?.data?.message||"Failed to delete service item")}},Xr=async()=>{a(!0);try{const ae={per_page:Ge.serviceFeedbacks.per_page,page:Ge.serviceFeedbacks.page},Ee=await LI(ae);Yt(Ee.data.feedbacks?.data||Ee.data.feedbacks||[])}catch(ae){be.error(ae.response?.data?.message||"Failed to fetch feedbacks")}finally{a(!1)}},no=async ae=>{try{await FI(ae),be.success("Feedback deleted successfully"),Xr()}catch(Ee){be.error(Ee.response?.data?.message||"Failed to delete feedback")}},jh=async(ae="month")=>{try{const{data:Ee}=await Oe.get(`/admin/reports/statistics?period=${ae}`);Cs(Ee.statistics)}catch{be.error("Failed to fetch statistics")}},mc=async(ae="month")=>{try{const{data:Ee}=await Oe.get(`/admin/reports/chart-data?period=${ae}`);$s(Ee)}catch{be.error("Failed to fetch chart data")}},tl=async(ae,Ee)=>{try{await Oe.put(`/admin/users/${ae}`,Ee),be.success("User updated successfully"),Rn(),kt(!1)}catch(xt){be.error(xt.response?.data?.message||"Failed to update user")}},Ga=async(ae,Ee=!1)=>{try{await Oe.delete(`/admin/users/${ae}${Ee?"/force":""}`),be.success(Ee?"User permanently deleted":"User deactivated"),Rn()}catch{be.error("Failed to delete user")}},yi=async(ae,Ee)=>{try{const xt={...Ee};["main_image","front_image","back_image","left_image","right_image"].forEach(Tr=>{De[ae]&&De[ae][Tr]&&(xt[Tr]=De[ae][Tr])}),await bI(ae,xt),be.success("Car updated successfully"),je(Tr=>{const Qr={...Tr};return delete Qr[ae],Qr}),pi(),kt(!1)}catch{be.error("Failed to update car")}},Er=(ae,Ee,xt)=>{xt&&je(ws=>({...ws,[ae]:{...ws[ae],[Ee]:xt}}))},Ya=async ae=>{try{await Oe.delete(`/admin/cars/${ae}`),be.success("Car deleted successfully"),pi()}catch{be.error("Failed to delete car")}},pc=async(ae,Ee)=>{try{await Oe.put(`/admin/bookings/${ae}`,Ee),be.success("Booking updated successfully"),Nn(),kt(!1)}catch{be.error("Failed to update booking")}},gc=async ae=>{try{await Oe.post(`/admin/bookings/${ae}/force-complete`),be.success("Booking force completed"),Nn()}catch{be.error("Failed to force complete booking")}},bi=async(ae,Ee="")=>{try{await Oe.post(`/admin/refunds/${ae}`,{description:Ee}),be.success("Refund processed successfully"),ur()}catch(xt){be.error(xt.response?.data?.message||"Failed to process refund")}},Md=async ae=>{try{const Ee={title:ae.title,message:ae.message,priority:ae.priority||"medium",target_audience:ae.target_audience||[],status:ae.status||"draft"};ae.scheduled_at&&(Ee.scheduled_at=ae.scheduled_at),ae.expires_at&&(Ee.expires_at=ae.expires_at),ae.categories&&ae.categories.length>0&&(Ee.categories=ae.categories),ae.media&&ae.media.length>0&&(Ee.media=ae.media),await Oe.post("/admin/announcements",Ee),be.success("Announcement created successfully"),Ar(),kt(!1)}catch(Ee){be.error(Ee.response?.data?.message||"Failed to create announcement")}},Pd=async(ae,Ee)=>{try{await Oe.put(`/admin/announcements/${ae}`,Ee),be.success("Announcement updated successfully"),Ar(),kt(!1)}catch{be.error("Failed to update announcement")}},vi=async ae=>{try{await Oe.delete(`/admin/announcements/${ae}`),be.success("Announcement deleted successfully"),Ar()}catch{be.error("Failed to delete announcement")}},_h=async(ae,Ee)=>{try{await Oe.put(`/admin/appeals/${ae}`,Ee),be.success("Appeal updated successfully"),eo(),kt(!1)}catch{be.error("Failed to update appeal")}},sl=async(ae,Ee)=>{try{await Oe.put(`/admin/ads/${ae}`,Ee),be.success("Ad updated successfully"),to(),kt(!1)}catch{be.error("Failed to update ad")}},_a=async ae=>{try{await u0e(ae),be.success("Ad created successfully"),to(),kt(!1)}catch(Ee){be.error(Ee.response?.data?.message||"Failed to create ad")}},xc=async ae=>{try{await Oe.delete(`/admin/ads/${ae}`),be.success("Ad deleted successfully"),to()}catch{be.error("Failed to delete ad")}},Nh=async ae=>{try{await s0e(ae),be.success("Payment/Invoice issued successfully"),ur(),kt(!1)}catch(Ee){be.error(Ee.response?.data?.message||"Failed to issue payment")}},Sh=async ae=>{try{await m0e(ae),be.success("Featured car created successfully"),Qo(),kt(!1)}catch(Ee){be.error(Ee.response?.data?.message||"Failed to create featured car")}},rl=async ae=>{try{await Oe.delete(`/admin/featured-cars/${ae}`),be.success("Featured car removed successfully"),Qo()}catch{be.error("Failed to remove featured car")}},Pn=async(ae,Ee)=>{try{await Oe.put(`/admin/suggestions/${ae}`,Ee),be.success("Suggestion updated successfully"),Jn(),kt(!1)}catch{be.error("Failed to update suggestion")}},yc=async ae=>{try{await Oe.delete(`/admin/suggestions/${ae}`),be.success("Suggestion deleted successfully"),Jn()}catch{be.error("Failed to delete suggestion")}},nl=async ae=>{try{await Oe.post("/admin/notifications/send-to-all",ae),be.success("Notification sent to all users successfully"),kt(!1)}catch{be.error("Failed to send notification")}},Ka=async ae=>{try{const Ee=await r0e(ae),xt=await n0e(ae);return ue(ws=>({...ws,[ae]:{...Ee.data,app_fees_percentage:xt.data.fee_percentage||0}})),Ee.data}catch(Ee){return be.error(Ee.response?.data?.message||"Failed to fetch agent fee data"),null}},wi=async(ae,Ee)=>{try{await a0e(ae,{app_fees:Ee}),be.success("Agent fee percentage updated successfully"),await Ka(ae),Rn()}catch(xt){be.error(xt.response?.data?.message||"Failed to update agent fee percentage")}},Od=(ae,Ee,xt)=>{qs({open:!0,title:ae,message:Ee,onConfirm:xt})},ji=async()=>{try{const ae=await Sm({role:"broker",per_page:200}),Ee=ae.data?.users?.data??ae.data?.users??ae.data?.data;W(Array.isArray(Ee)?Ee:[])}catch(ae){console.error("Failed to fetch brokers:",ae)}},ao=async()=>{a(!0);try{const ae={page:Ge.promoCodes.page,per_page:Ge.promoCodes.per_page};Ke.promoCodes.broker_id&&Ke.promoCodes.broker_id!=="all"&&(ae.broker_id=Ke.promoCodes.broker_id),Ke.promoCodes.is_active!=="all"&&(ae.is_active=Ke.promoCodes.is_active);const Ee=await vI(ae);X(Ee.data?.promo_codes||Ee.data?.promoCodes||Ee.data||[])}catch(ae){console.error("Failed to fetch promo codes:",ae),be.error("Failed to load promo codes")}finally{a(!1)}},_i=async(ae,Ee)=>{a(!0);try{Ee?(await jI(Ee.id,ae),be.success("Promo code updated successfully")):(await wI(ae),be.success("Promo code created successfully")),kt(!1),At(null),await ao()}catch(xt){console.error("Failed to save promo code:",xt);const ws=xt.response?.data?.message||"Failed to save promo code";be.error(ws)}finally{a(!1)}},ra=async ae=>{a(!0);try{await _I(ae),be.success("Promo code deleted successfully"),await ao()}catch(Ee){console.error("Failed to delete promo code:",Ee),be.error("Failed to delete promo code")}finally{a(!1)}},bc=async ae=>{try{const Ee=await _0e(ae,{per_page:50});K(Ee.data?.users||[])}catch(Ee){console.error("Failed to fetch promo code users:",Ee),be.error("Failed to load users for this promo code")}},io=async ae=>{try{const Ee=await cN(ae,{per_page:50});he(Ee.data?.referrals||[])}catch(Ee){console.error("Failed to fetch broker referrals:",Ee),be.error("Failed to load broker referrals")}},On=async()=>{const{username:ae,phone_number:Ee,email:xt,password:ws,password_confirmation:Tr,first_name:Qr,last_name:Xa}=le;if(!ae?.trim()){be.error("Username is required");return}if(!Ee?.trim()){be.error("Phone number is required");return}if(!Qr?.trim()){be.error("First name is required");return}if(!Xa?.trim()){be.error("Last name is required");return}if(!ws){be.error("Password is required");return}if(ws.length<6){be.error("Password must be at least 6 characters");return}if(ws!==Tr){be.error("Password and confirmation do not match");return}a(!0);try{await wS({username:ae.trim(),phone_number:Ee.trim().replace(/^\+?/,""),email:xt?.trim()||void 0,password:ws,password_confirmation:Tr||ws,first_name:Qr.trim(),last_name:Xa.trim()}),be.success("Broker created successfully"),kt(!1),oe({username:"",phone_number:"",email:"",password:"",password_confirmation:"",first_name:"",last_name:""}),await ji()}catch(ka){console.error("Failed to create broker:",ka);const ol=ka.response?.data,ll=ol?.message||(ol?.errors?Object.values(ol.errors).flat().join(" "):null)||"Failed to create broker";be.error(ll)}finally{a(!1)}};j.useEffect(()=>{e==="dashboard"?($r(),jh(vr),mc(vr)):e==="users"?Rn():e==="cars"?pi():e==="bookings"?Nn():e==="payments"?ur():e==="announcements"?Ar():e==="appeals"?eo():e==="ads"?to():e==="featured-cars"?Qo():e==="holidays"?wa():e==="suggestions"?Jn():e==="notifications"?xi():e==="otps"?ea():e==="services"?(Os(),Sn()):e==="promo-codes"?(ao(),V.length||ji()):e==="brokers"&&(ji(),Ln())},[e,vr]);const al=async ae=>{if(me(ae),H("overview"),ae?.id)try{const[Ee,xt,ws,Tr]=await Promise.all([NI(ae.id).catch(()=>({data:null})),b0(ae.id).catch(()=>({data:{data:[],statistics:{}}})),SI(ae.id).catch(()=>({data:{payouts:{data:[]},summary:{}}})),cN(ae.id).catch(()=>({data:{referrals:[]}}))]);Z(Ee.data);const Qr=xt.data?.commissions?.data??xt.data?.commissions,Xa=Array.isArray(Qr)?Qr:[];J({data:Xa,statistics:xt.data?.statistics||{}});const ka=ws.data?.payouts||ws.data,ol=Array.isArray(ka)?ka:Array.isArray(ka?.data)?ka.data:[];L({data:ol});const ll=Tr.data?.referrals??Tr.data?.data;he(Array.isArray(ll)?ll:[])}catch(Ee){console.error("Failed to load broker detail:",Ee)}},il=()=>{me(null),Z(null),J({data:[],statistics:{}}),L({data:[]})},Lt=async()=>{ve?.id&&(await al(ve),await Ln())},Ln=async()=>{try{const ae=await CI({per_page:50}),Ee=ae.data?.commissions?.data??ae.data?.commissions;Q({data:Array.isArray(Ee)?Ee:[]})}catch(ae){console.error("Failed to fetch broker commissions:",ae)}},Na=async()=>{const ae=R.broker_id?Number(R.broker_id):ve?.id,Ee=parseFloat(R.amount);if(!ae||!Ee||Ee<.01){be.error("Select a broker and enter amount (min 0.01)");return}a(!0);try{await kI({broker_id:ae,amount:Ee,reference:R.reference?.trim()||void 0,notes:R.notes?.trim()||void 0}),be.success("Broker payout created successfully"),kt(!1),P({broker_id:"",amount:"",reference:"",notes:""}),await Lt(),await Ln()}catch(xt){const ws=xt.response?.data,Tr=ws?.message||(ws?.errors?Object.values(ws.errors).flat().join(" "):null)||"Failed to create payout",Qr=ws?.pending_balance;be.error(Qr!=null?`${Tr} (Max: $${Number(Qr).toFixed(2)})`:Tr)}finally{a(!1)}},Ld=async ae=>{try{await AI(ae),be.success("Commission cancelled"),await Lt(),await Ln()}catch(Ee){be.error(Ee.response?.data?.message||"Failed to cancel commission")}},Zr=async ae=>{try{await EI(ae),be.success("Referral deleted"),await Lt()}catch(Ee){be.error(Ee.response?.data?.message||"Failed to delete referral")}},Sa=j.useMemo(()=>({COLORS:li,loading:n,summary:i,users:c,cars:h,bookings:f,payments:y,announcements:w,appeals:b,ads:k,featuredCars:C,holidays:E,suggestions:T,notifications:q,otps:Y,promoCodes:se,promoCodeUsers:M,brokerReferrals:z,brokers:V,brokerForm:le,setBrokerForm:oe,selectedBroker:ve,setSelectedBroker:me,brokerDetailTab:$,setBrokerDetailTab:H,brokerBalance:fe,brokerCommissions:ee,setBrokerCommissions:J,brokerPayouts:ke,brokerCommissionsList:Te,payoutForm:R,setPayoutForm:P,commissionStatusFilter:G,setCommissionStatusFilter:ye,filters:Ke,setFilters:hs,pagination:Ge,setPagination:Ze,selectedItem:xe,setSelectedItem:At,modalOpen:Qs,setModalOpen:kt,modalType:it,setModalType:bs,confirmDialog:lr,setConfirmDialog:qs,navigate:t,fetchUsers:Rn,fetchUserDetails:_n,fetchCars:pi,fetchCarDetails:Dd,fetchBookings:Nn,fetchBookingDetails:wr,fetchPayments:ur,fetchAnnouncements:Ar,fetchAppeals:eo,fetchAds:to,fetchFeaturedCars:Qo,fetchHolidays:wa,fetchSuggestions:Jn,fetchNotifications:xi,fetchOtps:ea,updateUser:tl,deleteUser:Ga,updateCar:yi,deleteCar:Ya,updateBooking:pc,forceCompleteBooking:gc,processRefund:bi,deleteAnnouncement:vi,deleteAd:xc,deleteFeaturedCar:rl,deleteHoliday:gi,deleteSuggestion:yc,showConfirmDialog:Od,fetchPromoCodes:ao,fetchPromoCodeUsers:bc,fetchBrokerReferrals:io,fetchBrokers:ji,handleCreateOrUpdatePromoCode:_i,handleDeletePromoCode:ra,handleCreateBroker:On,openBrokerDetail:al,closeBrokerDetail:il,refreshBrokerDetail:Lt,fetchBrokerCommissionsList:Ln,handleCreateBrokerPayout:Na,handleCancelCommission:Ld,handleDeleteBrokerReferral:Zr,services:Ae,thirdParties:et,serviceItems:gt,serviceFeedbacks:Ht,selectedServiceId:Ct,setSelectedServiceId:us,fetchServices:Os,fetchThirdParties:Sn,fetchServiceItems:sa,fetchServiceFeedbacks:Xr,handleCreateService:Jo,handleUpdateService:fc,handleDeleteService:ja,handleCreateThirdParty:Dn,handleUpdateThirdParty:el,handleDeleteThirdParty:ta,handleCreateServiceItem:so,handleUpdateServiceItem:ro,handleDeleteServiceItem:Mn,handleDeleteFeedback:no}),[n,i,c,h,f,y,w,b,k,C,E,T,q,Y,se,M,z,V,le,ve,$,fe,ee,ke,Te,R,G,Ke,Ge,xe,Qs,it,lr,Ae,et,gt,Ht,Ct]);return s.jsx($I.Provider,{value:Sa,children:s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900",children:[s.jsx("header",{className:"sticky top-0 z-50 backdrop-blur-xl bg-white/80 dark:bg-gray-900/80 border-b border-gray-200/50 dark:border-gray-800/50 shadow-sm",children:s.jsx("div",{className:"container mx-auto px-4 sm:px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>t("/"),className:"h-9 w-9","aria-label":"Go to home page",children:s.jsx(Q6,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(to right, ${li.darkBlue}, ${li.teal}, ${li.limeGreen})`},children:"Admin Dashboard"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Manage your platform"})]})]}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>{localStorage.clear(),t("/auth")},className:"h-9 w-9","aria-label":"Logout",children:s.jsx(Xl,{className:"w-5 h-5"})})]})})}),s.jsx("main",{className:"container mx-auto px-4 sm:px-6 py-6 max-w-7xl",children:s.jsxs(Uo,{value:e,onValueChange:r,className:"w-full",children:[s.jsxs(Ki,{className:"grid w-full grid-cols-8 lg:grid-cols-16 mb-6 h-auto p-1 bg-gray-100 dark:bg-gray-800",children:[s.jsxs($t,{value:"dashboard",className:"text-xs",children:[s.jsx(Vu,{className:"w-4 h-4 mr-1"}),"Dashboard"]}),s.jsxs($t,{value:"users",className:"text-xs",children:[s.jsx(ks,{className:"w-4 h-4 mr-1"}),"Users"]}),s.jsxs($t,{value:"cars",className:"text-xs",children:[s.jsx(Gt,{className:"w-4 h-4 mr-1"}),"Cars"]}),s.jsxs($t,{value:"bookings",className:"text-xs",children:[s.jsx(Hs,{className:"w-4 h-4 mr-1"}),"Bookings"]}),s.jsxs($t,{value:"payments",className:"text-xs",children:[s.jsx(or,{className:"w-4 h-4 mr-1"}),"Payments"]}),s.jsxs($t,{value:"promo-codes",className:"text-xs",children:[s.jsx(Vx,{className:"w-4 h-4 mr-1"}),"Promo Codes"]}),s.jsxs($t,{value:"brokers",className:"text-xs",children:[s.jsx(ks,{className:"w-4 h-4 mr-1"}),"Brokers"]}),s.jsxs($t,{value:"announcements",className:"text-xs",children:[s.jsx(sM,{className:"w-4 h-4 mr-1"}),"Announcements"]}),s.jsxs($t,{value:"appeals",className:"text-xs",children:[s.jsx(Yl,{className:"w-4 h-4 mr-1"}),"Appeals"]}),s.jsxs($t,{value:"ads",className:"text-xs",children:[s.jsx(Io,{className:"w-4 h-4 mr-1"}),"Ads"]}),s.jsxs($t,{value:"featured-cars",className:"text-xs",children:[s.jsx(rr,{className:"w-4 h-4 mr-1"}),"Featured"]}),s.jsxs($t,{value:"holidays",className:"text-xs",children:[s.jsx(Fx,{className:"w-4 h-4 mr-1"}),"Holidays"]}),s.jsxs($t,{value:"suggestions",className:"text-xs",children:[s.jsx(VW,{className:"w-4 h-4 mr-1"}),"Suggestions"]}),s.jsxs($t,{value:"notifications",className:"text-xs",children:[s.jsx(Lx,{className:"w-4 h-4 mr-1"}),"Notifications"]}),s.jsxs($t,{value:"otps",className:"text-xs",children:[s.jsx(eM,{className:"w-4 h-4 mr-1"}),"OTPs"]}),s.jsxs($t,{value:"services",className:"text-xs",children:[s.jsx(yd,{className:"w-4 h-4 mr-1"}),"Services"]})]}),s.jsx(Qt,{value:"dashboard",className:"space-y-6",children:s.jsx(M0e,{})}),s.jsx(Qt,{value:"users",className:"space-y-4",children:s.jsx(P0e,{})}),s.jsx(Qt,{value:"cars",className:"space-y-4",children:s.jsx(O0e,{})}),s.jsx(Qt,{value:"bookings",className:"space-y-4",children:s.jsx(L0e,{})}),s.jsx(Qt,{value:"payments",className:"space-y-4",children:s.jsx(F0e,{})}),s.jsx(Qt,{value:"announcements",className:"space-y-4",children:s.jsx(B0e,{})}),s.jsx(Qt,{value:"appeals",className:"space-y-4",children:s.jsx(I0e,{})}),s.jsx(Qt,{value:"ads",className:"space-y-4",children:s.jsx(z0e,{})}),s.jsx(Qt,{value:"promo-codes",className:"space-y-4",children:s.jsx(U0e,{})}),s.jsx(Qt,{value:"brokers",className:"space-y-4",children:s.jsx($0e,{})}),s.jsx(Qt,{value:"featured-cars",className:"space-y-4",children:s.jsx(V0e,{})}),s.jsx(Qt,{value:"holidays",className:"space-y-4",children:s.jsx(H0e,{})}),s.jsx(Qt,{value:"suggestions",className:"space-y-4",children:s.jsx(q0e,{})}),s.jsx(Qt,{value:"notifications",className:"space-y-4",children:s.jsx(W0e,{})}),s.jsx(Qt,{value:"otps",className:"space-y-4",children:s.jsx(G0e,{})}),s.jsx(Qt,{value:"services",className:"space-y-6",children:s.jsx(Y0e,{})}),s.jsx(Qt,{value:"services-legacy",style:{display:"none"},children:s.jsxs(Uo,{defaultValue:"services-list",className:"w-full",children:[s.jsxs(Ki,{className:"grid w-full grid-cols-4 mb-4",children:[s.jsxs($t,{value:"services-list",className:"text-xs",children:[s.jsx(yd,{className:"w-4 h-4 mr-1"}),"Services"]}),s.jsxs($t,{value:"third-parties",className:"text-xs",children:[s.jsx(Pi,{className:"w-4 h-4 mr-1"}),"Third Parties"]}),s.jsxs($t,{value:"service-items",className:"text-xs",children:[s.jsx(Fi,{className:"w-4 h-4 mr-1"}),"Service Items"]}),s.jsxs($t,{value:"service-feedbacks",className:"text-xs",children:[s.jsx(ii,{className:"w-4 h-4 mr-1"}),"Feedbacks"]})]}),s.jsxs(Qt,{value:"services-list",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(pe,{onClick:()=>{At(null),bs("create-service"),kt(!0)},children:[s.jsx(er,{className:"w-4 h-4 mr-1"}),"Create Service"]}),s.jsx(pe,{variant:"outline",size:"icon",onClick:Os,"aria-label":"Refresh services",children:s.jsx(Tt,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Se,{placeholder:"Search services...",value:Ke.services.search,onChange:ae=>hs({...Ke,services:{...Ke.services,search:ae.target.value}}),className:"w-48"}),s.jsxs(ft,{value:Ke.services.category,onValueChange:ae=>hs({...Ke,services:{...Ke.services,category:ae}}),children:[s.jsx(ut,{className:"w-40",children:s.jsx(mt,{placeholder:"Category"})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"all",children:"All Categories"}),s.jsx(Ce,{value:"transport",children:"Transport"}),s.jsx(Ce,{value:"accommodation",children:"Accommodation"}),s.jsx(Ce,{value:"food",children:"Food & Dining"}),s.jsx(Ce,{value:"entertainment",children:"Entertainment"}),s.jsx(Ce,{value:"other",children:"Other"})]})]}),s.jsxs(ft,{value:Ke.services.featured,onValueChange:ae=>hs({...Ke,services:{...Ke.services,featured:ae}}),children:[s.jsx(ut,{className:"w-32",children:s.jsx(mt,{placeholder:"Featured"})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"all",children:"All"}),s.jsx(Ce,{value:"true",children:"Featured"}),s.jsx(Ce,{value:"false",children:"Not Featured"})]})]}),s.jsx(pe,{onClick:Os,children:s.jsx(Fr,{className:"w-4 h-4"})})]})]}),s.jsx(Ue,{children:s.jsx(qe,{className:"p-0",children:s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Name"}),s.jsx(_e,{children:"Owner"}),s.jsx(_e,{children:"Category"}),s.jsx(_e,{children:"Price"}),s.jsx(_e,{children:"Rating"}),s.jsx(_e,{children:"Featured"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Pt,{children:n?s.jsx(Ve,{children:s.jsx(ge,{colSpan:8,className:"text-center py-8",children:"Loading..."})}):Ae.length===0?s.jsx(Ve,{children:s.jsx(ge,{colSpan:8,className:"text-center py-8",children:"No services found"})}):Ae.map(ae=>s.jsxs(Ve,{children:[s.jsx(ge,{children:ae.id}),s.jsx(ge,{className:"font-medium",children:ae.name}),s.jsx(ge,{children:ae.third_party?s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium",children:ae.third_party.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:ae.third_party.email})]}):ae.third_party_id?s.jsxs("span",{className:"text-muted-foreground",children:["ID: ",ae.third_party_id]}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx(ge,{children:s.jsx(We,{variant:"outline",children:ae.category})}),s.jsxs(ge,{children:["$",(parseFloat(ae.price)||0).toFixed(2)]}),s.jsx(ge,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(rr,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}),ae.rating?(parseFloat(ae.rating)||0).toFixed(1):"N/A"]})}),s.jsx(ge,{children:s.jsx(We,{variant:ae.featured?"default":"secondary",children:ae.featured?"Yes":"No"})}),s.jsx(ge,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(pe,{size:"sm",variant:"ghost",onClick:()=>{At(ae),bs("view-service"),kt(!0)},children:s.jsx(sr,{className:"w-4 h-4"})}),s.jsx(pe,{size:"sm",variant:"ghost",onClick:()=>{At(ae),bs("edit-service"),kt(!0)},children:s.jsx(br,{className:"w-4 h-4"})}),s.jsx(pe,{size:"sm",variant:"ghost",onClick:()=>sa(ae.id),children:s.jsx(Fi,{className:"w-4 h-4"})}),s.jsx(pe,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>qs({open:!0,title:"Delete Service",message:`Are you sure you want to delete "${ae.name}"?`,onConfirm:()=>ja(ae.id)}),children:s.jsx(Xs,{className:"w-4 h-4"})})]})})]},ae.id))})]})})})]}),s.jsxs(Qt,{value:"third-parties",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(pe,{onClick:()=>{At(null),bs("create-third-party"),kt(!0)},children:[s.jsx(er,{className:"w-4 h-4 mr-1"}),"Create Third Party"]}),s.jsx(pe,{variant:"outline",size:"icon",onClick:Sn,"aria-label":"Refresh third parties",children:s.jsx(Tt,{className:"w-4 h-4"})})]}),s.jsx(Se,{placeholder:"Search third parties...",value:Ke.thirdParties.search,onChange:ae=>hs({...Ke,thirdParties:{...Ke.thirdParties,search:ae.target.value}}),className:"w-64"})]}),s.jsx(Ue,{children:s.jsx(qe,{className:"p-0",children:s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Name"}),s.jsx(_e,{children:"Contact"}),s.jsx(_e,{children:"Category"}),s.jsx(_e,{children:"City"}),s.jsx(_e,{children:"Subscription"}),s.jsx(_e,{children:"Created At"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Pt,{children:n?s.jsx(Ve,{children:s.jsx(ge,{colSpan:8,className:"text-center py-8",children:"Loading..."})}):et.length===0?s.jsx(Ve,{children:s.jsx(ge,{colSpan:8,className:"text-center py-8",children:"No third parties found"})}):et.map(ae=>s.jsxs(Ve,{children:[s.jsx(ge,{children:ae.id}),s.jsx(ge,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:ae.name}),ae.description&&s.jsx("p",{className:"text-xs text-muted-foreground truncate max-w-[200px]",children:ae.description})]})}),s.jsx(ge,{children:s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{children:ae.email}),ae.phone&&s.jsx("p",{className:"text-muted-foreground",children:ae.phone})]})}),s.jsx(ge,{children:s.jsx(We,{variant:"outline",children:ae.category||"N/A"})}),s.jsx(ge,{children:ae.city||"N/A"}),s.jsx(ge,{children:s.jsx(We,{variant:ae.subscription==="premium"||ae.subscription==="enterprise"?"default":"secondary",children:ae.subscription||"Free"})}),s.jsx(ge,{children:new Date(ae.created_at).toLocaleDateString()}),s.jsx(ge,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(pe,{size:"sm",variant:"ghost",title:"View Details",onClick:()=>{At(ae),bs("view-third-party"),kt(!0)},children:s.jsx(sr,{className:"w-4 h-4"})}),s.jsx(pe,{size:"sm",variant:"ghost",title:"Edit",onClick:()=>{At(ae),bs("edit-third-party"),kt(!0)},children:s.jsx(br,{className:"w-4 h-4"})}),s.jsx(pe,{size:"sm",variant:"ghost",title:"Add Service for this Third Party",onClick:()=>{At({third_party_id:ae.id,third_party_name:ae.name}),bs("create-service-for-tp"),kt(!0)},children:s.jsx(er,{className:"w-4 h-4"})}),s.jsx(pe,{size:"sm",variant:"ghost",className:"text-destructive",title:"Delete",onClick:()=>qs({open:!0,title:"Delete Third Party",message:`Are you sure you want to delete "${ae.name}"?`,onConfirm:()=>ta(ae.id)}),children:s.jsx(Xs,{className:"w-4 h-4"})})]})})]},ae.id))})]})})})]}),s.jsxs(Qt,{value:"service-items",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center gap-2",children:Ct&&s.jsxs(s.Fragment,{children:[s.jsxs(pe,{onClick:()=>{At(null),bs("create-service-item"),kt(!0)},children:[s.jsx(er,{className:"w-4 h-4 mr-1"}),"Add Item"]}),s.jsx(pe,{variant:"outline",size:"icon",onClick:()=>sa(Ct),"aria-label":"Refresh service items",children:s.jsx(Tt,{className:"w-4 h-4"})})]})}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(ft,{value:Ct?.toString()||"",onValueChange:ae=>{ae&&sa(parseInt(ae))},children:[s.jsx(ut,{className:"w-64",children:s.jsx(mt,{placeholder:"Select a service to view items"})}),s.jsx(ht,{children:Ae.map(ae=>s.jsx(Ce,{value:ae.id.toString(),children:ae.name},ae.id))})]})})]}),Ct?s.jsxs(Ue,{children:[s.jsx(gs,{children:s.jsxs(xs,{className:"text-lg",children:["Items for Service #",Ct]})}),s.jsx(qe,{className:"p-0",children:s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Name"}),s.jsx(_e,{children:"Description"}),s.jsx(_e,{children:"Price"}),s.jsx(_e,{children:"Image"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Pt,{children:n?s.jsx(Ve,{children:s.jsx(ge,{colSpan:6,className:"text-center py-8",children:"Loading..."})}):gt.length===0?s.jsx(Ve,{children:s.jsx(ge,{colSpan:6,className:"text-center py-8",children:"No items found for this service"})}):gt.map(ae=>s.jsxs(Ve,{children:[s.jsx(ge,{children:ae.id}),s.jsx(ge,{className:"font-medium",children:ae.name}),s.jsx(ge,{className:"max-w-xs truncate",children:ae.description||"N/A"}),s.jsxs(ge,{children:["$",(parseFloat(ae.price)||0).toFixed(2)]}),s.jsx(ge,{children:ae.image?s.jsx("img",{src:ae.image,alt:ae.name,className:"w-10 h-10 object-cover rounded"}):s.jsx("span",{className:"text-muted-foreground",children:"No image"})}),s.jsx(ge,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(pe,{size:"sm",variant:"ghost",onClick:()=>{At(ae),bs("edit-service-item"),kt(!0)},children:s.jsx(br,{className:"w-4 h-4"})}),s.jsx(pe,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>qs({open:!0,title:"Delete Item",message:`Are you sure you want to delete "${ae.name}"?`,onConfirm:()=>Mn(ae.id)}),children:s.jsx(Xs,{className:"w-4 h-4"})})]})})]},ae.id))})]})})]}):s.jsx(Ue,{children:s.jsxs(qe,{className:"py-12 text-center text-muted-foreground",children:[s.jsx(Fi,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Select a service from the dropdown above to view its items"}),s.jsxs("p",{className:"text-sm mt-2",children:["Or click the ",s.jsx(Fi,{className:"w-4 h-4 inline"})," icon on a service in the Services tab"]})]})})]}),s.jsxs(Qt,{value:"service-feedbacks",className:"space-y-4",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(pe,{variant:"outline",size:"icon",onClick:Xr,"aria-label":"Refresh service feedbacks",children:s.jsx(Tt,{className:"w-4 h-4"})})}),s.jsx(Ue,{children:s.jsx(qe,{className:"p-0",children:s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Service"}),s.jsx(_e,{children:"User"}),s.jsx(_e,{children:"Rating"}),s.jsx(_e,{children:"Comment"}),s.jsx(_e,{children:"Helpful"}),s.jsx(_e,{children:"Created At"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Pt,{children:n?s.jsx(Ve,{children:s.jsx(ge,{colSpan:8,className:"text-center py-8",children:"Loading..."})}):Ht.length===0?s.jsx(Ve,{children:s.jsx(ge,{colSpan:8,className:"text-center py-8",children:"No feedbacks found"})}):Ht.map(ae=>s.jsxs(Ve,{children:[s.jsx(ge,{children:ae.id}),s.jsx(ge,{children:ae.service?.name||ae.service_id}),s.jsx(ge,{children:ae.user?.name||ae.user_id}),s.jsx(ge,{children:s.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((Ee,xt)=>s.jsx(rr,{className:`w-4 h-4 ${xt<ae.rating?"text-yellow-500 fill-yellow-500":"text-gray-300"}`},xt))})}),s.jsx(ge,{className:"max-w-xs truncate",children:ae.comment||"N/A"}),s.jsx(ge,{children:ae.helpful_count||0}),s.jsx(ge,{children:new Date(ae.created_at).toLocaleDateString()}),s.jsx(ge,{children:s.jsx(pe,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>qs({open:!0,title:"Delete Feedback",message:"Are you sure you want to delete this feedback?",onConfirm:()=>no(ae.id)}),children:s.jsx(Xs,{className:"w-4 h-4"})})})]},ae.id))})]})})})]})]})})]})}),s.jsx(_y,{open:lr.open,onOpenChange:ae=>qs({...lr,open:ae}),children:s.jsxs(Jm,{children:[s.jsxs(ep,{children:[s.jsx(sp,{children:lr.title}),s.jsx(rp,{children:lr.message})]}),s.jsxs(tp,{children:[s.jsx(ap,{onClick:()=>qs({...lr,open:!1}),children:"Cancel"}),s.jsx(np,{onClick:()=>{lr.onConfirm&&lr.onConfirm(),qs({...lr,open:!1})},children:"Confirm"})]})]})}),s.jsx(Wo,{children:Qs&&s.jsx(Kr,{open:Qs,onOpenChange:kt,children:s.jsxs(Br,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Ir,{children:s.jsxs(zr,{children:[it==="view-user"&&"User Details",it==="edit-user"&&"Edit User",it==="view-car"&&"Car Details",it==="edit-car"&&"Edit Car",it==="view-booking"&&"Booking Details",it==="edit-booking"&&"Edit Booking",it==="create-announcement"&&"Create Announcement",it==="edit-announcement"&&"Edit Announcement",it==="edit-appeal"&&"Edit Appeal",it==="edit-ad"&&"Edit Ad",it==="edit-suggestion"&&"Edit Suggestion",it==="send-notification"&&"Send Notification to All Users",it==="create-holiday"&&"Create Holiday",it==="edit-holiday"&&"Edit Holiday",it==="create-ad"&&"Create Ad",it==="create-payment"&&"Issue Payment/Invoice",it==="create-featured-car"&&"Create Featured Car",it==="create-service"&&"Create Service",it==="view-service"&&"Service Details",it==="edit-service"&&"Edit Service",it==="create-third-party"&&"Create Third Party",it==="view-third-party"&&"Third Party Details",it==="edit-third-party"&&"Edit Third Party",it==="create-service-for-tp"&&`Add Service for ${xe?.third_party_name||"Third Party"}`,it==="create-service-item"&&"Create Service Item",it==="edit-service-item"&&"Edit Service Item",it==="create-promo-code"&&"Create Promo Code",it==="edit-promo-code"&&"Edit Promo Code",it==="create-broker"&&"Create Broker",it==="create-broker-payout"&&"Create Broker Payout",it==="view-promo-users"&&"Promo Code Users"]})}),it==="view-user"&&xe&&s.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"ID"}),s.jsx("p",{className:"text-sm",children:xe.id})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Username"}),s.jsx("p",{className:"text-sm",children:xe.username||"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Email"}),s.jsx("p",{className:"text-sm",children:xe.email||"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Phone Number"}),s.jsx("p",{className:"text-sm",children:xe.phone_number||"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"First Name"}),s.jsx("p",{className:"text-sm",children:xe.first_name||"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Last Name"}),s.jsx("p",{className:"text-sm",children:xe.last_name||"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Gender"}),s.jsx("p",{className:"text-sm",children:xe.gender||"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Birth Date"}),s.jsx("p",{className:"text-sm",children:xe.birth_date?new Date(xe.birth_date).toLocaleDateString():"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"City"}),s.jsx("p",{className:"text-sm",children:xe.city||"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Role"}),s.jsx("p",{className:"text-sm",children:xe.role||"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Status"}),s.jsx(We,{variant:xe.status?"default":"secondary",children:xe.status?"Active":"Inactive"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Verified by Admin"}),s.jsx(We,{variant:xe.verified_by_admin?"default":"secondary",children:xe.verified_by_admin?"Yes":"No"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Is Locked"}),s.jsx(We,{variant:xe.is_locked?"destructive":"default",children:xe.is_locked?"Locked":"Unlocked"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Created At"}),s.jsx("p",{className:"text-sm",children:new Date(xe.created_at).toLocaleString()})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Updated At"}),s.jsx("p",{className:"text-sm",children:new Date(xe.updated_at).toLocaleString()})]})]}),xe.bio&&s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Bio"}),s.jsx("p",{className:"text-sm",children:xe.bio})]}),xe.client&&s.jsxs("div",{className:"border-t pt-4",children:[s.jsx(de,{className:"text-sm font-semibold mb-2 block",children:"Client Details"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{className:"text-xs",children:"License Number"}),s.jsx("p",{className:"text-sm",children:xe.client.license_number||"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-xs",children:"Profession"}),s.jsx("p",{className:"text-sm",children:xe.client.profession||"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-xs",children:"Average Salary"}),s.jsx("p",{className:"text-sm",children:xe.client.avg_salary||"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-xs",children:"Promo Code"}),s.jsx("p",{className:"text-sm",children:xe.client.promo_code||"N/A"})]})]})]}),xe.agent&&s.jsxs("div",{className:"border-t pt-4",children:[s.jsx(de,{className:"text-sm font-semibold mb-2 block",children:"Agent/Agency Details"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{className:"text-xs",children:"Business Type"}),s.jsx("p",{className:"text-sm",children:xe.agent.business_type||"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-xs",children:"Company Number"}),s.jsx("p",{className:"text-sm",children:xe.agent.company_number||"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-xs",children:"Profession"}),s.jsx("p",{className:"text-sm",children:xe.agent.profession||"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-xs",children:"Website"}),s.jsx("p",{className:"text-sm",children:xe.agent.website||"N/A"})]})]})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(pe,{onClick:()=>{bs("edit-user")},className:"flex-1",children:"Edit User"}),s.jsx(pe,{variant:"outline",onClick:()=>kt(!1),children:"Close"})]})]}),it==="edit-user"&&xe&&s.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{children:"ID"}),s.jsx(Se,{value:xe.id||"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Username"}),s.jsx(Se,{value:xe.username||"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Email"}),s.jsx(Se,{type:"email",value:xe.email||"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Phone Number"}),s.jsx(Se,{value:xe.phone_number||"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"First Name"}),s.jsx(Se,{value:xe.first_name||"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Last Name"}),s.jsx(Se,{value:xe.last_name||"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Gender"}),s.jsx(Se,{value:xe.gender||"N/A",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Birth Date"}),s.jsx(Se,{type:"date",value:xe.birth_date?new Date(xe.birth_date).toISOString().split("T")[0]:"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"City"}),s.jsx(Se,{value:xe.city||"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Role"}),s.jsx(Se,{value:xe.role||"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Created At"}),s.jsx(Se,{value:new Date(xe.created_at).toLocaleString(),disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Updated At"}),s.jsx(Se,{value:new Date(xe.updated_at).toLocaleString(),disabled:!0})]})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Bio"}),s.jsx(mn,{value:xe.bio||"",disabled:!0})]}),xe.client&&s.jsxs("div",{className:"border-t pt-4",children:[s.jsx(de,{className:"text-sm font-semibold mb-2 block",children:"Client Details (Read-only)"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{className:"text-xs",children:"License Number"}),s.jsx(Se,{value:xe.client.license_number||"N/A",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-xs",children:"Profession"}),s.jsx(Se,{value:xe.client.profession||"N/A",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-xs",children:"Average Salary"}),s.jsx(Se,{value:xe.client.avg_salary||"N/A",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-xs",children:"Promo Code"}),s.jsx(Se,{value:xe.client.promo_code||"N/A",disabled:!0})]})]})]}),xe.agent&&s.jsxs("div",{className:"border-t pt-4",children:[s.jsx(de,{className:"text-sm font-semibold mb-2 block",children:"Agent/Agency Details (Read-only)"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{className:"text-xs",children:"Business Type"}),s.jsx(Se,{value:xe.agent.business_type||"N/A",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-xs",children:"Company Number"}),s.jsx(Se,{value:xe.agent.company_number||"N/A",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-xs",children:"Profession"}),s.jsx(Se,{value:xe.agent.profession||"N/A",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-xs",children:"Website"}),s.jsx(Se,{value:xe.agent.website||"N/A",disabled:!0})]})]})]}),s.jsxs("div",{className:"border-t pt-4 space-y-3",children:[s.jsx(de,{className:"text-sm font-semibold block",children:"Editable Fields"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(de,{children:"Verified by Admin"}),s.jsx(Cn,{checked:xe.verified_by_admin||!1,onCheckedChange:ae=>At({...xe,verified_by_admin:ae})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(de,{children:"Status (Active)"}),s.jsx(Cn,{checked:xe.status!==void 0?xe.status:!0,onCheckedChange:ae=>At({...xe,status:ae})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(de,{children:"Is Locked"}),s.jsx(Cn,{checked:xe.is_locked||!1,onCheckedChange:ae=>At({...xe,is_locked:ae})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(de,{children:"Update Access (Allow Profile Updates)"}),s.jsx(Cn,{checked:xe.update_access!==void 0?xe.update_access:!0,onCheckedChange:ae=>At({...xe,update_access:ae})})]})]}),(xe.role==="agency"||xe.role==="agent")&&s.jsxs("div",{className:"border-t pt-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(de,{className:"text-sm font-semibold",children:"App Fees Management"}),s.jsxs(pe,{variant:"outline",size:"sm",onClick:async()=>{await Ka(xe.id)},children:[s.jsx(Tt,{className:"w-4 h-4 mr-1"}),"Refresh Balance"]})]}),ce[xe.id]?s.jsxs("div",{className:"space-y-2 p-3 bg-gray-50 dark:bg-gray-800 rounded-md",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm",children:"Current App Fees %:"}),s.jsxs("span",{className:"font-semibold",children:[ce[xe.id].app_fees_percentage||0,"%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm",children:"Total Balance:"}),s.jsxs("span",{className:"font-semibold",children:["$",ce[xe.id].total_balance||0]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm",children:"Paid Amount:"}),s.jsxs("span",{className:"text-green-600",children:["$",ce[xe.id].breakdown?.paid_amount||0]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm",children:"Remaining Balance:"}),s.jsxs("span",{className:"text-orange-600",children:["$",ce[xe.id].breakdown?.remaining_balance||0]})]})]}):s.jsx("p",{className:"text-sm text-gray-500",children:'Click "Refresh Balance" to load app fees data'}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{children:"Update App Fees Percentage"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Se,{type:"number",step:"0.01",min:"0",max:"100",placeholder:"e.g., 10.00",defaultValue:ce[xe.id]?.app_fees_percentage||"",onChange:ae=>{const Ee=parseFloat(ae.target.value);!isNaN(Ee)&&Ee>=0&&Ee<=100&&At({...xe,app_fees_percentage:Ee})}}),s.jsx(pe,{onClick:()=>{xe.app_fees_percentage!==void 0?wi(xe.id,xe.app_fees_percentage):be.error("Please enter a valid app fees percentage")},variant:"outline",children:"Update %"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Enter percentage (0-100), e.g., 10.00 for 10%"})]})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(pe,{onClick:()=>tl(xe.id,{verified_by_admin:xe.verified_by_admin,status:xe.status,is_locked:xe.is_locked,update_access:xe.update_access!==void 0?xe.update_access:!0}),className:"flex-1",children:"Update User"}),s.jsx(pe,{variant:"outline",onClick:()=>kt(!1),children:"Cancel"})]})]}),it==="view-car"&&xe&&s.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"ID"}),s.jsx("p",{className:"text-sm",children:xe.id})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Make"}),s.jsx("p",{className:"text-sm",children:xe.make||"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Model"}),s.jsx("p",{className:"text-sm",children:xe.model||"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Year"}),s.jsx("p",{className:"text-sm",children:xe.year||"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"License Plate"}),s.jsx("p",{className:"text-sm",children:xe.license_plate||"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Color"}),s.jsx("p",{className:"text-sm",children:xe.color||"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Mileage"}),s.jsx("p",{className:"text-sm",children:xe.mileage?.toLocaleString()||"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Fuel Type"}),s.jsx("p",{className:"text-sm",children:xe.fuel_type||"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Transmission"}),s.jsx("p",{className:"text-sm",children:xe.transmission||"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Wheels Drive"}),s.jsx("p",{className:"text-sm",children:xe.wheels_drive||"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Category"}),s.jsx("p",{className:"text-sm",children:xe.car_category||"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Seats"}),s.jsx("p",{className:"text-sm",children:xe.seats||"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Doors"}),s.jsx("p",{className:"text-sm",children:xe.doors||"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Daily Rate"}),s.jsxs("p",{className:"text-sm",children:["$",xe.daily_rate||"0.00"]})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Holiday Rate"}),s.jsxs("p",{className:"text-sm",children:["$",xe.holiday_rate||"N/A"]})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Status"}),s.jsx(We,{variant:"outline",children:xe.status||"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Car Accepted"}),s.jsx(We,{variant:xe.car_accepted?"default":"secondary",children:xe.car_accepted?"Yes":"No"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"With Driver"}),s.jsx(We,{variant:xe.with_driver?"default":"secondary",children:xe.with_driver?"Yes":"No"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Is Delivered"}),s.jsx(We,{variant:xe.is_delivered?"default":"secondary",children:xe.is_delivered?"Yes":"No"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Min Rental Days"}),s.jsx("p",{className:"text-sm",children:xe.min_rental_days||"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Views Count"}),s.jsx("p",{className:"text-sm",children:xe.views_count||0})]})]}),xe.features&&xe.features.length>0&&s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Features"}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:xe.features.map((ae,Ee)=>s.jsx(We,{variant:"outline",children:ae},Ee))})]}),xe.car_add_on&&xe.car_add_on.length>0&&s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Add-ons"}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:xe.car_add_on.map((ae,Ee)=>s.jsx(We,{variant:"outline",children:ae},Ee))})]}),xe.notes&&s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Notes"}),s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:xe.notes})]}),xe.agent&&s.jsxs("div",{className:"border-t pt-4",children:[s.jsx(de,{className:"text-sm font-semibold mb-2 block",children:"Agent"}),s.jsxs("p",{className:"text-sm",children:[xe.agent.username||xe.agent.first_name," ",xe.agent.last_name]}),s.jsx("p",{className:"text-xs text-gray-500",children:xe.agent.phone_number})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(pe,{onClick:()=>{bs("edit-car")},className:"flex-1",children:"Edit Car"}),s.jsx(pe,{variant:"outline",onClick:()=>kt(!1),children:"Close"})]})]}),it==="edit-car"&&xe&&s.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{children:"ID"}),s.jsx(Se,{value:xe.id||"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Make"}),s.jsx(Se,{value:xe.make||"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Model"}),s.jsx(Se,{value:xe.model||"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Year"}),s.jsx(Se,{value:xe.year||"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"License Plate"}),s.jsx(Se,{value:xe.license_plate||"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Color"}),s.jsx(Se,{value:xe.color||"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Mileage"}),s.jsx(Se,{value:xe.mileage?.toLocaleString()||"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Fuel Type"}),s.jsx(Se,{value:xe.fuel_type||"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Transmission"}),s.jsx(Se,{value:xe.transmission||"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Wheels Drive"}),s.jsx(Se,{value:xe.wheels_drive||"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Category"}),s.jsx(Se,{value:xe.car_category||"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Seats"}),s.jsx(Se,{value:xe.seats||"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Doors"}),s.jsx(Se,{value:xe.doors||"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Daily Rate"}),s.jsx(Se,{value:`$${xe.daily_rate||"0.00"}`,disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Holiday Rate"}),s.jsx(Se,{value:`$${xe.holiday_rate||"N/A"}`,disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Min Rental Days"}),s.jsx(Se,{value:xe.min_rental_days||"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Views Count"}),s.jsx(Se,{value:xe.views_count||0,disabled:!0})]})]}),xe.features&&xe.features.length>0&&s.jsxs("div",{children:[s.jsx(de,{children:"Features"}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:xe.features.map((ae,Ee)=>s.jsx(We,{variant:"outline",children:ae},Ee))})]}),xe.car_add_on&&xe.car_add_on.length>0&&s.jsxs("div",{children:[s.jsx(de,{children:"Add-ons"}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:xe.car_add_on.map((ae,Ee)=>s.jsx(We,{variant:"outline",children:ae},Ee))})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx(de,{className:"text-sm font-semibold block mb-3",children:"Car Images"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{children:"Main Image"}),xe.main_image_url&&s.jsx("div",{className:"mb-2",children:s.jsx("img",{src:`/api/storage/${xe.main_image_url}`,alt:"Main",className:"w-full h-32 object-cover rounded-lg border"})}),s.jsx(Se,{type:"file",accept:"image/*",onChange:ae=>Er(xe.id,"main_image",ae.target.files[0]),className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Front Image"}),xe.front_image_url&&s.jsx("div",{className:"mb-2",children:s.jsx("img",{src:`/api/storage/${xe.front_image_url}`,alt:"Front",className:"w-full h-32 object-cover rounded-lg border"})}),s.jsx(Se,{type:"file",accept:"image/*",onChange:ae=>Er(xe.id,"front_image",ae.target.files[0]),className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Back Image"}),xe.back_image_url&&s.jsx("div",{className:"mb-2",children:s.jsx("img",{src:`/api/storage/${xe.back_image_url}`,alt:"Back",className:"w-full h-32 object-cover rounded-lg border"})}),s.jsx(Se,{type:"file",accept:"image/*",onChange:ae=>Er(xe.id,"back_image",ae.target.files[0]),className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Left Image"}),xe.left_image_url&&s.jsx("div",{className:"mb-2",children:s.jsx("img",{src:`/api/storage/${xe.left_image_url}`,alt:"Left",className:"w-full h-32 object-cover rounded-lg border"})}),s.jsx(Se,{type:"file",accept:"image/*",onChange:ae=>Er(xe.id,"left_image",ae.target.files[0]),className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Right Image"}),xe.right_image_url&&s.jsx("div",{className:"mb-2",children:s.jsx("img",{src:`/api/storage/${xe.right_image_url}`,alt:"Right",className:"w-full h-32 object-cover rounded-lg border"})}),s.jsx(Se,{type:"file",accept:"image/*",onChange:ae=>Er(xe.id,"right_image",ae.target.files[0]),className:"mt-1"})]})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx(de,{className:"text-sm font-semibold block mb-3",children:"Editable Fields"}),s.jsxs("div",{children:[s.jsx(de,{children:"Status"}),s.jsxs(ft,{value:xe.status||"",onValueChange:ae=>At({...xe,status:ae}),children:[s.jsx(ut,{children:s.jsx(mt,{})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"available",children:"Available"}),s.jsx(Ce,{value:"rented",children:"Rented"}),s.jsx(Ce,{value:"maintenance",children:"Maintenance"}),s.jsx(Ce,{value:"unavailable",children:"Unavailable"})]})]})]}),s.jsxs("div",{className:"mt-3",children:[s.jsx(de,{children:"Notes"}),s.jsx(mn,{value:xe.notes||"",onChange:ae=>At({...xe,notes:ae.target.value}),rows:4})]}),s.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[s.jsx(de,{children:"Car Accepted"}),s.jsx(Cn,{checked:xe.car_accepted||!1,onCheckedChange:ae=>At({...xe,car_accepted:ae})})]})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(pe,{onClick:()=>yi(xe.id,{status:xe.status,car_accepted:xe.car_accepted,notes:xe.notes}),className:"flex-1",disabled:n,children:"Update Car"}),s.jsx(pe,{variant:"outline",onClick:()=>kt(!1),children:"Cancel"})]})]}),it==="view-booking"&&xe&&s.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Booking ID"}),s.jsx("p",{className:"text-sm",children:xe.id})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Client"}),s.jsx("p",{className:"text-sm",children:xe.client?.first_name&&xe.client?.last_name?`${xe.client.first_name} ${xe.client.last_name}`:xe.client?.username||"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Car"}),s.jsxs("p",{className:"text-sm",children:[xe.car?.make," ",xe.car?.model," (",xe.car?.year,")"]})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Agent"}),s.jsx("p",{className:"text-sm",children:xe.car?.agent?.username||xe.car?.agent?.first_name||"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Start Date"}),s.jsx("p",{className:"text-sm",children:new Date(xe.start_datetime).toLocaleString()})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"End Date"}),s.jsx("p",{className:"text-sm",children:new Date(xe.end_datetime).toLocaleString()})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Total Price"}),s.jsxs("p",{className:"text-sm font-semibold",children:["$",xe.total_booking_price||"0.00"]})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Booking Status"}),s.jsx(We,{variant:"outline",children:xe.booking_request_status||"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Payment Status"}),s.jsx(We,{variant:xe.payment_status==="paid"?"default":"secondary",children:xe.payment_status||"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Payment Method"}),s.jsx("p",{className:"text-sm",children:xe.payment_method||"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Is Paid Online"}),s.jsx(We,{variant:xe.is_paid_online?"default":"secondary",children:xe.is_paid_online?"Yes":"No"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Is Delivered"}),s.jsx(We,{variant:xe.is_delivered?"default":"secondary",children:xe.is_delivered?"Yes":"No"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Pickup Location"}),s.jsx("p",{className:"text-sm",children:xe.pickup_location||"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Dropoff Location"}),s.jsx("p",{className:"text-sm",children:xe.dropoff_location||"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Reason of Booking"}),s.jsx("p",{className:"text-sm",children:xe.reason_of_booking||"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Extra Charge"}),s.jsxs("p",{className:"text-sm",children:["$",xe.extra_charge||"0.00"]})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Cancellation Date"}),s.jsx("p",{className:"text-sm",children:xe.cancelation_date?new Date(xe.cancelation_date).toLocaleString():"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Cancellation Reason"}),s.jsx("p",{className:"text-sm",children:xe.cancelation_reason||"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Created At"}),s.jsx("p",{className:"text-sm",children:new Date(xe.created_at).toLocaleString()})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Updated At"}),s.jsx("p",{className:"text-sm",children:new Date(xe.updated_at).toLocaleString()})]})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(pe,{onClick:()=>{bs("edit-booking")},className:"flex-1",children:"Edit Booking"}),s.jsx(pe,{variant:"outline",onClick:()=>kt(!1),children:"Close"})]})]}),it==="edit-booking"&&xe&&s.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{children:"Booking ID"}),s.jsx(Se,{value:xe.id||"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Client"}),s.jsx(Se,{value:xe.client?.first_name&&xe.client?.last_name?`${xe.client.first_name} ${xe.client.last_name}`:xe.client?.username||"N/A",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Car"}),s.jsx(Se,{value:`${xe.car?.make||""} ${xe.car?.model||""} (${xe.car?.year||""})`,disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Start Date & Time"}),s.jsx(Se,{value:new Date(xe.start_datetime).toLocaleString(),disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"End Date & Time"}),s.jsx(Se,{value:new Date(xe.end_datetime).toLocaleString(),disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Payment Status"}),s.jsx(Se,{value:xe.payment_status||"N/A",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Payment Method"}),s.jsx(Se,{value:xe.payment_method||"N/A",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Is Paid Online"}),s.jsx(Se,{value:xe.is_paid_online?"Yes":"No",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Is Delivered"}),s.jsx(Se,{value:xe.is_delivered?"Yes":"No",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Pickup Location"}),s.jsx(Se,{value:xe.pickup_location||"N/A",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Dropoff Location"}),s.jsx(Se,{value:xe.dropoff_location||"N/A",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Reason of Booking"}),s.jsx(Se,{value:xe.reason_of_booking||"N/A",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Extra Charge"}),s.jsx(Se,{value:`$${xe.extra_charge||"0.00"}`,disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Cancellation Date"}),s.jsx(Se,{value:xe.cancelation_date?new Date(xe.cancelation_date).toLocaleString():"N/A",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Cancellation Reason"}),s.jsx(Se,{value:xe.cancelation_reason||"N/A",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Created At"}),s.jsx(Se,{value:new Date(xe.created_at).toLocaleString(),disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Updated At"}),s.jsx(Se,{value:new Date(xe.updated_at).toLocaleString(),disabled:!0})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx(de,{className:"text-sm font-semibold block mb-3",children:"Editable Fields"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{children:"Booking Status"}),s.jsxs(ft,{value:xe.booking_request_status||"",onValueChange:ae=>At({...xe,booking_request_status:ae}),children:[s.jsx(ut,{children:s.jsx(mt,{})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"pending",children:"Pending"}),s.jsx(Ce,{value:"confirmed",children:"Confirmed"}),s.jsx(Ce,{value:"cancelled",children:"Cancelled"}),s.jsx(Ce,{value:"completed",children:"Completed"}),s.jsx(Ce,{value:"rejected",children:"Rejected"})]})]})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Total Booking Price"}),s.jsx(Se,{type:"number",step:"0.01",value:xe.total_booking_price||"",onChange:ae=>At({...xe,total_booking_price:ae.target.value})})]})]})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(pe,{onClick:()=>pc(xe.id,{booking_request_status:xe.booking_request_status,total_booking_price:xe.total_booking_price}),className:"flex-1",children:"Update Booking"}),s.jsx(pe,{variant:"outline",onClick:()=>kt(!1),children:"Cancel"})]})]}),(it==="create-announcement"||it==="edit-announcement")&&s.jsx(Z0e,{announcement:xe,onSubmit:ae=>{it==="create-announcement"?Md(ae):Pd(xe.id,ae)}}),it==="edit-appeal"&&xe&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(de,{children:"Status"}),s.jsxs(ft,{value:xe.status,onValueChange:ae=>At({...xe,status:ae}),children:[s.jsx(ut,{children:s.jsx(mt,{})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"submitted",children:"Submitted"}),s.jsx(Ce,{value:"under_review",children:"Under Review"}),s.jsx(Ce,{value:"resolved",children:"Resolved"}),s.jsx(Ce,{value:"rejected",children:"Rejected"}),s.jsx(Ce,{value:"escalated",children:"Escalated"})]})]})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Priority"}),s.jsxs(ft,{value:xe.priority,onValueChange:ae=>At({...xe,priority:ae}),children:[s.jsx(ut,{children:s.jsx(mt,{})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"low",children:"Low"}),s.jsx(Ce,{value:"medium",children:"Medium"}),s.jsx(Ce,{value:"high",children:"High"}),s.jsx(Ce,{value:"urgent",children:"Urgent"})]})]})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Response"}),s.jsx(mn,{value:xe.response||"",onChange:ae=>At({...xe,response:ae.target.value})})]}),s.jsx(pe,{onClick:()=>_h(xe.id,{status:xe.status,priority:xe.priority,response:xe.response}),children:"Update Appeal"})]}),it==="edit-ad"&&xe&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(de,{children:"Online"}),s.jsx(Cn,{checked:xe.online,onCheckedChange:ae=>At({...xe,online:ae})})]}),s.jsx(pe,{onClick:()=>sl(xe.id,{online:xe.online}),children:"Update Ad"})]}),it==="edit-suggestion"&&xe&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(de,{children:"Status"}),s.jsxs(ft,{value:xe.status,onValueChange:ae=>At({...xe,status:ae}),children:[s.jsx(ut,{children:s.jsx(mt,{})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"pending",children:"Pending"}),s.jsx(Ce,{value:"received",children:"Received"}),s.jsx(Ce,{value:"implemented",children:"Implemented"}),s.jsx(Ce,{value:"rejected",children:"Rejected"})]})]})]}),s.jsx(pe,{onClick:()=>Pn(xe.id,{status:xe.status}),children:"Update Suggestion"})]}),it==="send-notification"&&s.jsx(Q0e,{onSubmit:ae=>nl(ae)}),(it==="create-holiday"||it==="edit-holiday")&&s.jsx(X0e,{holiday:xe,onSubmit:ae=>{it==="create-holiday"?Wa(ae):hc(xe.id,ae)}}),it==="create-ad"&&s.jsx(zI,{onSubmit:_a,loading:n}),it==="create-payment"&&s.jsx(D0e,{onSubmit:Nh,loading:n}),it==="create-featured-car"&&s.jsx(UI,{onSubmit:Sh,loading:n}),it==="view-service"&&xe&&s.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"ID"}),s.jsx("p",{className:"text-sm",children:xe.id})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Name"}),s.jsx("p",{className:"text-sm",children:xe.name||"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Category"}),s.jsx("p",{className:"text-sm",children:xe.category||"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Price"}),s.jsxs("p",{className:"text-sm",children:["$",xe.price?.toFixed(2)||"0.00"]})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Rating"}),s.jsx("p",{className:"text-sm",children:xe.rating?.toFixed(1)||"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Featured"}),s.jsx(We,{variant:xe.featured?"default":"secondary",children:xe.featured?"Yes":"No"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"City"}),s.jsx("p",{className:"text-sm",children:xe.city||"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Clicks"}),s.jsx("p",{className:"text-sm",children:xe.clicks||0})]})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Description"}),s.jsx("p",{className:"text-sm",children:xe.description||"N/A"})]}),xe.images&&xe.images.length>0&&s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Images"}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:xe.images.map((ae,Ee)=>s.jsx("img",{src:ae,alt:`Service ${Ee+1}`,className:"w-20 h-20 object-cover rounded"},Ee))})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(pe,{onClick:()=>bs("edit-service"),className:"flex-1",children:"Edit Service"}),s.jsx(pe,{variant:"outline",onClick:()=>kt(!1),children:"Close"})]})]}),(it==="create-service"||it==="edit-service")&&s.jsx(J0e,{service:it==="edit-service"?xe:null,thirdParties:et,onSubmit:ae=>{it==="edit-service"&&xe?fc(xe.id,ae):Jo(ae)}}),it==="create-broker-payout"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Record a payment to a broker. Amount will be allocated to pending commissions (FIFO)."}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{children:"Broker *"}),s.jsxs(ft,{value:R.broker_id||"select",onValueChange:ae=>P(Ee=>({...Ee,broker_id:ae})),disabled:!!ve?.id,children:[s.jsx(ut,{children:s.jsx(mt,{placeholder:"Select broker"})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"select",children:"Select broker"}),(Array.isArray(V)?V:[]).map(ae=>s.jsx(Ce,{value:String(ae.id),children:ae.username||`${ae.first_name||""} ${ae.last_name||""}`||`Broker #${ae.id}`},ae.id))]})]})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Amount *"}),s.jsx(Se,{type:"number",min:.01,step:.01,value:R.amount,onChange:ae=>P(Ee=>({...Ee,amount:ae.target.value})),placeholder:"e.g. 300.00"}),fe?.balance!=null&&ve&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Balance: $",Number(fe.balance).toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Reference"}),s.jsx(Se,{value:R.reference,onChange:ae=>P(Ee=>({...Ee,reference:ae.target.value})),placeholder:"e.g. BANK-REF-123",maxLength:255})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Notes"}),s.jsx(mn,{value:R.notes,onChange:ae=>P(Ee=>({...Ee,notes:ae.target.value.slice(0,1e3)})),placeholder:"Optional notes",rows:3})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[s.jsx(pe,{variant:"outline",onClick:()=>kt(!1),children:"Cancel"}),s.jsx(pe,{onClick:Na,disabled:n||!R.broker_id||R.broker_id==="select"||!R.amount||parseFloat(R.amount)<.01,children:n?"Creating...":"Create Payout"})]})]}),it==="create-broker"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a new broker user (role: broker). Brokers can be assigned promo codes for the referral program."}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{children:"Username *"}),s.jsx(Se,{value:le.username,onChange:ae=>oe(Ee=>({...Ee,username:ae.target.value})),placeholder:"broker_john",maxLength:100})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Phone number *"}),s.jsx(Se,{value:le.phone_number,onChange:ae=>oe(Ee=>({...Ee,phone_number:ae.target.value})),placeholder:"9613123456",maxLength:20})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(de,{children:"Email"}),s.jsx(Se,{type:"email",value:le.email,onChange:ae=>oe(Ee=>({...Ee,email:ae.target.value})),placeholder:"john@example.com (optional)"})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Password *"}),s.jsx(Se,{type:"password",value:le.password,onChange:ae=>oe(Ee=>({...Ee,password:ae.target.value})),placeholder:"Min 6 characters"})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Confirm password *"}),s.jsx(Se,{type:"password",value:le.password_confirmation,onChange:ae=>oe(Ee=>({...Ee,password_confirmation:ae.target.value})),placeholder:"Repeat password"})]}),s.jsxs("div",{children:[s.jsx(de,{children:"First name *"}),s.jsx(Se,{value:le.first_name,onChange:ae=>oe(Ee=>({...Ee,first_name:ae.target.value})),placeholder:"John",maxLength:100})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Last name *"}),s.jsx(Se,{value:le.last_name,onChange:ae=>oe(Ee=>({...Ee,last_name:ae.target.value})),placeholder:"Doe",maxLength:100})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[s.jsx(pe,{variant:"outline",onClick:()=>kt(!1),children:"Cancel"}),s.jsx(pe,{onClick:On,disabled:n||!le.username?.trim()||!le.phone_number?.trim()||!le.first_name?.trim()||!le.last_name?.trim()||!le.password||le.password.length<6||le.password!==le.password_confirmation,children:n?"Creating...":"Create Broker"})]})]}),(it==="create-promo-code"||it==="edit-promo-code")&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{children:"Code"}),s.jsx(Se,{value:xe?.code||"",onChange:ae=>At(Ee=>({...Ee||{},code:ae.target.value})),placeholder:"SAVE20"})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Broker *"}),s.jsxs(ft,{value:xe?.broker_id?String(xe.broker_id):"select",onValueChange:ae=>At(Ee=>({...Ee||{},broker_id:ae&&ae!=="select"?Number(ae):null})),children:[s.jsx(ut,{children:s.jsx(mt,{placeholder:"Select broker"})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"select",children:"Select broker"}),(Array.isArray(V)?V:[]).map(ae=>s.jsx(Ce,{value:String(ae.id),children:ae.username||`${ae.first_name||""} ${ae.last_name||""}`||`Broker #${ae.id}`},ae.id))]})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(de,{children:"Description"}),s.jsx(mn,{value:xe?.description||"",onChange:ae=>At(Ee=>({...Ee||{},description:ae.target.value})),placeholder:"Optional description"})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Max Uses"}),s.jsx(Se,{type:"number",min:1,value:xe?.max_uses??"",onChange:ae=>At(Ee=>({...Ee||{},max_uses:ae.target.value?Number(ae.target.value):null})),placeholder:"Leave empty for unlimited"})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Expires At"}),s.jsx(Se,{type:"date",value:xe?.expires_at||"",onChange:ae=>At(Ee=>({...Ee||{},expires_at:ae.target.value}))})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Commission %"}),s.jsx(Se,{type:"number",min:0,max:100,step:.1,value:xe?.commission_percentage??"",onChange:ae=>At(Ee=>({...Ee||{},commission_percentage:ae.target.value?Number(ae.target.value):null})),placeholder:"e.g. 5"})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-6",children:[s.jsx(Cn,{checked:xe?.is_active??!0,onCheckedChange:ae=>At(Ee=>({...Ee||{},is_active:ae}))}),s.jsx("span",{className:"text-sm",children:"Active"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[s.jsx(pe,{variant:"outline",onClick:()=>kt(!1),children:"Cancel"}),s.jsx(pe,{onClick:()=>{if(it==="create-promo-code"&&(!xe?.code?.trim()||!xe?.broker_id)){be.error("Code and Broker are required");return}const ae={code:xe?.code?.trim(),broker_id:xe?.broker_id||void 0,description:xe?.description?.trim()||void 0,is_active:xe?.is_active??!0,max_uses:xe?.max_uses||void 0,expires_at:xe?.expires_at||void 0,commission_percentage:xe?.commission_percentage};_i(ae,it==="edit-promo-code"?xe:null)},disabled:n,children:n?"Saving...":"Save"})]})]}),it==="view-promo-users"&&xe&&s.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(Vx,{className:"w-4 h-4"}),"Promo Code: ",s.jsx("span",{className:"font-mono",children:xe.code})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Broker:"," ",xe.broker?xe.broker.username||`${xe.broker.first_name||""} ${xe.broker.last_name||""}`:"N/A"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-semibold text-sm",children:"Users who used this code"}),s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Username"}),s.jsx(_e,{children:"Name"}),s.jsx(_e,{children:"Phone"}),s.jsx(_e,{children:"Email"}),s.jsx(_e,{children:"Referred At"})]})}),s.jsx(Pt,{children:M.map(ae=>s.jsxs(Ve,{children:[s.jsx(ge,{children:ae.id}),s.jsx(ge,{children:ae.username}),s.jsx(ge,{children:ae.first_name||ae.last_name?`${ae.first_name||""} ${ae.last_name||""}`:"N/A"}),s.jsx(ge,{children:ae.phone_number||"N/A"}),s.jsx(ge,{children:ae.email||"N/A"}),s.jsx(ge,{children:ae.referred_at?new Date(ae.referred_at).toLocaleString():"N/A"})]},ae.id))})]})]}),Array.isArray(z)&&z.length>0&&s.jsxs("div",{className:"space-y-2 pt-2",children:[s.jsx("h4",{className:"font-semibold text-sm",children:"Broker referrals (all codes)"}),s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Referred User"}),s.jsx(_e,{children:"Promo Code"})]})}),s.jsx(Pt,{children:(Array.isArray(z)?z:[]).map(ae=>s.jsxs(Ve,{children:[s.jsx(ge,{children:ae.id}),s.jsx(ge,{children:ae.referredUser?ae.referredUser.username||`${ae.referredUser.first_name||""} ${ae.referredUser.last_name||""}`:ae.referred_user_id}),s.jsx(ge,{children:ae.promoCode?.code||"N/A"})]},ae.id))})]})]}),s.jsx("div",{className:"flex justify-end pt-3",children:s.jsx(pe,{variant:"outline",onClick:()=>kt(!1),children:"Close"})})]}),it==="view-third-party"&&xe&&s.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"ID"}),s.jsx("p",{className:"text-sm",children:xe.id})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Name"}),s.jsx("p",{className:"text-sm",children:xe.name||"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Email"}),s.jsx("p",{className:"text-sm",children:xe.email||"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Phone"}),s.jsx("p",{className:"text-sm",children:xe.phone||"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Contact Email"}),s.jsx("p",{className:"text-sm",children:xe.contact_email||"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Category"}),s.jsx(We,{variant:"outline",children:xe.category||"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"City"}),s.jsx("p",{className:"text-sm",children:xe.city||"N/A"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Subscription"}),s.jsx(We,{variant:xe.subscription==="premium"||xe.subscription==="enterprise"?"default":"secondary",children:xe.subscription||"Free"})]}),s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Created At"}),s.jsx("p",{className:"text-sm",children:new Date(xe.created_at).toLocaleString()})]})]}),xe.description&&s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Description"}),s.jsx("p",{className:"text-sm",children:xe.description})]}),xe.permissions&&xe.permissions.length>0&&s.jsxs("div",{children:[s.jsx(de,{className:"text-sm font-semibold",children:"Permissions"}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:xe.permissions.map((ae,Ee)=>s.jsx(We,{variant:"secondary",className:"text-xs",children:ae},Ee))})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(pe,{onClick:()=>bs("edit-third-party"),className:"flex-1",children:"Edit Third Party"}),s.jsxs(pe,{variant:"outline",onClick:()=>{At({third_party_id:xe.id,third_party_name:xe.name}),bs("create-service-for-tp")},children:[s.jsx(er,{className:"w-4 h-4 mr-1"}),"Add Service"]}),s.jsx(pe,{variant:"outline",onClick:()=>kt(!1),children:"Close"})]})]}),(it==="create-third-party"||it==="edit-third-party")&&s.jsx(eye,{thirdParty:it==="edit-third-party"?xe:null,onSubmit:ae=>{it==="edit-third-party"&&xe?el(xe.id,ae):Dn(ae)}}),it==="create-service-for-tp"&&xe&&s.jsx(sye,{thirdPartyId:xe.third_party_id,thirdPartyName:xe.third_party_name,onSubmit:ae=>{Jo({...ae,third_party_id:xe.third_party_id})}}),(it==="create-service-item"||it==="edit-service-item")&&s.jsx(tye,{item:it==="edit-service-item"?xe:null,onSubmit:ae=>{it==="edit-service-item"&&xe?ro(xe.id,ae):Ct&&so(Ct,ae)}})]})})})]})})}function X0e({holiday:t,onSubmit:e}){const[r,n]=j.useState({car_id:t?.car_id||"",holiday_name:t?.holiday_name||"",holiday_dates:{start:t?.holiday_dates?.start||"",end:t?.holiday_dates?.end||""},percentage_increase:t?.percentage_increase||"",is_active:t?.is_active!==void 0?t.is_active:!0});return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(de,{children:"Car ID *"}),s.jsx(Se,{type:"number",value:r.car_id,onChange:a=>n({...r,car_id:a.target.value}),placeholder:"Enter car ID",required:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Holiday Name *"}),s.jsx(Se,{value:r.holiday_name,onChange:a=>n({...r,holiday_name:a.target.value}),placeholder:"e.g., New Year",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{children:"Start Date *"}),s.jsx(Se,{type:"date",value:r.holiday_dates.start,onChange:a=>n({...r,holiday_dates:{...r.holiday_dates,start:a.target.value}}),required:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"End Date *"}),s.jsx(Se,{type:"date",value:r.holiday_dates.end,onChange:a=>n({...r,holiday_dates:{...r.holiday_dates,end:a.target.value}}),required:!0})]})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Percentage Increase *"}),s.jsx(Se,{type:"number",step:"0.01",min:"0",max:"100",value:r.percentage_increase,onChange:a=>n({...r,percentage_increase:a.target.value}),placeholder:"20.00",required:!0})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Cn,{id:"is_active",checked:r.is_active,onCheckedChange:a=>n({...r,is_active:a})}),s.jsx(de,{htmlFor:"is_active",children:"Active"})]}),s.jsxs(pe,{onClick:()=>e(r),children:[t?"Update":"Create"," Holiday"]})]})}function Z0e({announcement:t,onSubmit:e}){const r=d=>{if(!d)return"";const h=new Date(d),m=h.getFullYear(),f=String(h.getMonth()+1).padStart(2,"0"),g=String(h.getDate()).padStart(2,"0"),y=String(h.getHours()).padStart(2,"0"),v=String(h.getMinutes()).padStart(2,"0"),w=String(h.getSeconds()).padStart(2,"0");return`${m}-${f}-${g} ${y}:${v}:${w}`},n=d=>d?d.includes(" ")?d.replace(" ","T"):new Date(d).toISOString().slice(0,16):"",[a,i]=j.useState({title:t?.title||"",message:t?.message||"",scheduled_at:n(t?.scheduled_at)||"",expires_at:n(t?.expires_at)||"",priority:t?.priority||"medium",target_audience:t?.target_audience||[],status:t?.status||"draft",categories:t?.categories||[],media:t?.media||[]}),o=(d,h)=>{i(m=>{const f=m.target_audience||[];return h?{...m,target_audience:[...f,d]}:{...m,target_audience:f.filter(g=>g!==d)}})},c=()=>{const d={...a,scheduled_at:a.scheduled_at?r(a.scheduled_at):void 0,expires_at:a.expires_at?r(a.expires_at):void 0,categories:a.categories.length>0?a.categories:void 0,media:a.media.length>0?a.media:void 0};e(d)};return s.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[s.jsxs("div",{children:[s.jsx(de,{children:"Title *"}),s.jsx(Se,{required:!0,value:a.title,onChange:d=>i({...a,title:d.target.value}),placeholder:"Enter announcement title"})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Message *"}),s.jsx(mn,{required:!0,value:a.message,onChange:d=>i({...a,message:d.target.value}),placeholder:"Enter announcement message",rows:5})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{children:"Scheduled At"}),s.jsx(Se,{type:"datetime-local",value:a.scheduled_at,onChange:d=>i({...a,scheduled_at:d.target.value})})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Expires At"}),s.jsx(Se,{type:"datetime-local",value:a.expires_at,onChange:d=>i({...a,expires_at:d.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{children:"Priority"}),s.jsxs(ft,{value:a.priority,onValueChange:d=>i({...a,priority:d}),children:[s.jsx(ut,{children:s.jsx(mt,{})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"low",children:"Low"}),s.jsx(Ce,{value:"medium",children:"Medium"}),s.jsx(Ce,{value:"high",children:"High"})]})]})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Status"}),s.jsxs(ft,{value:a.status,onValueChange:d=>i({...a,status:d}),children:[s.jsx(ut,{children:s.jsx(mt,{})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"draft",children:"Draft"}),s.jsx(Ce,{value:"published",children:"Published"}),s.jsx(Ce,{value:"archived",children:"Archived"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Target Audience"}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:["client","agency","agent","admin"].map(d=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:`target-${d}`,checked:a.target_audience.includes(d),onChange:h=>o(d,h.target.checked),className:"rounded"}),s.jsx(de,{htmlFor:`target-${d}`,className:"text-sm font-normal cursor-pointer",children:d.charAt(0).toUpperCase()+d.slice(1)})]},d))})]}),s.jsx("div",{className:"flex gap-2 pt-4",children:s.jsxs(pe,{onClick:c,className:"flex-1",children:[t?"Update":"Create"," Announcement"]})})]})}function Q0e({onSubmit:t}){const[e,r]=j.useState({title:"",message:"",type:"general",data:{}});return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(de,{children:"Title"}),s.jsx(Se,{value:e.title,onChange:n=>r({...e,title:n.target.value})})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Message"}),s.jsx(mn,{value:e.message,onChange:n=>r({...e,message:n.target.value})})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Type"}),s.jsxs(ft,{value:e.type,onValueChange:n=>r({...e,type:n}),children:[s.jsx(ut,{children:s.jsx(mt,{})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"general",children:"General"}),s.jsx(Ce,{value:"booking",children:"Booking"}),s.jsx(Ce,{value:"payment",children:"Payment"}),s.jsx(Ce,{value:"system",children:"System"})]})]})]}),s.jsx(pe,{onClick:()=>t(e),children:"Send Notification"})]})}function J0e({service:t,onSubmit:e,thirdParties:r=[]}){const[n,a]=j.useState({name:t?.name||"",description:t?.description||"",category:t?.category||"",price:t?.price||"",featured:t?.featured||!1,images:t?.images||[],third_party_id:t?.third_party_id||"",city:t?.city||"",availability:t?.availability!==!1}),[i,o]=j.useState(""),c=()=>{i.trim()&&(a({...n,images:[...n.images,i.trim()]}),o(""))},d=h=>{a({...n,images:n.images.filter((m,f)=>f!==h)})};return s.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[r.length>0&&s.jsxs("div",{children:[s.jsx(de,{children:"Service Owner (Third Party) *"}),s.jsxs(ft,{value:n.third_party_id?.toString()||"",onValueChange:h=>a({...n,third_party_id:parseInt(h)}),children:[s.jsx(ut,{children:s.jsx(mt,{placeholder:"Select third party owner"})}),s.jsx(ht,{children:r.map(h=>s.jsxs(Ce,{value:h.id.toString(),children:[h.name," (",h.email,")"]},h.id))})]})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Name *"}),s.jsx(Se,{required:!0,value:n.name,onChange:h=>a({...n,name:h.target.value}),placeholder:"Enter service name"})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Description *"}),s.jsx(mn,{required:!0,value:n.description,onChange:h=>a({...n,description:h.target.value}),placeholder:"Enter service description",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{children:"Category *"}),s.jsxs(ft,{value:n.category,onValueChange:h=>a({...n,category:h}),children:[s.jsx(ut,{children:s.jsx(mt,{placeholder:"Select category"})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"hotel",children:"Hotel"}),s.jsx(Ce,{value:"restaurant",children:"Restaurant"}),s.jsx(Ce,{value:"spa",children:"Spa"}),s.jsx(Ce,{value:"nightclub",children:"Nightclub"}),s.jsx(Ce,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Price *"}),s.jsx(Se,{type:"number",step:"0.01",min:"0",required:!0,value:n.price,onChange:h=>a({...n,price:parseFloat(h.target.value)||""}),placeholder:"0.00"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{children:"City"}),s.jsx(Se,{value:n.city,onChange:h=>a({...n,city:h.target.value}),placeholder:"Enter city"})]}),s.jsxs("div",{className:"flex items-center justify-between pt-6",children:[s.jsx(de,{children:"Availability"}),s.jsx(Cn,{checked:n.availability,onCheckedChange:h=>a({...n,availability:h})})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(de,{children:"Featured"}),s.jsx(Cn,{checked:n.featured,onCheckedChange:h=>a({...n,featured:h})})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Images"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(Se,{value:i,onChange:h=>o(h.target.value),placeholder:"Enter image URL",className:"flex-1"}),s.jsx(pe,{type:"button",variant:"outline",onClick:c,children:"Add"})]}),n.images.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.images.map((h,m)=>s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:h,alt:`Image ${m+1}`,className:"w-16 h-16 object-cover rounded"}),s.jsx("button",{type:"button",onClick:()=>d(m),className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-4 h-4 text-xs",children:""})]},m))})]}),s.jsx("div",{className:"flex gap-2 pt-4",children:s.jsxs(pe,{onClick:()=>e(n),className:"flex-1",children:[t?"Update":"Create"," Service"]})})]})}function eye({thirdParty:t,onSubmit:e}){const[r,n]=j.useState({name:t?.business_name||t?.name||"",username:t?.username||"",email:t?.email||"",password:"",subscription:t?.subscription||"",permissions:t?.permissions||[],description:t?.description||"",category:t?.category||"",city:t?.city||"",contact_email:t?.contact_email||"",phone:t?.phone||""}),a=["services:read","services:write","items:read","items:write","feedbacks:read","feedbacks:respond"],i=o=>{r.permissions.includes(o)?n({...r,permissions:r.permissions.filter(c=>c!==o)}):n({...r,permissions:[...r.permissions,o]})};return s.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[s.jsx("div",{className:"border-b pb-2 mb-2",children:s.jsx("h3",{className:"font-semibold text-sm text-muted-foreground",children:"Account Information"})}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{children:"Business Name *"}),s.jsx(Se,{required:!0,value:r.name,onChange:o=>n({...r,name:o.target.value}),placeholder:"Enter business/company name"})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Username *"}),s.jsx(Se,{required:!0,value:r.username,onChange:o=>n({...r,username:o.target.value}),placeholder:"Unique username for login"})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Email *"}),s.jsx(Se,{type:"email",required:!0,value:r.email,onChange:o=>n({...r,email:o.target.value}),placeholder:"Enter login email"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{children:t?"Password (leave blank to keep current)":"Password *"}),s.jsx(Se,{type:"password",required:!t,value:r.password,onChange:o=>n({...r,password:o.target.value}),placeholder:"Enter password"})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Subscription"}),s.jsxs(ft,{value:r.subscription,onValueChange:o=>n({...r,subscription:o}),children:[s.jsx(ut,{children:s.jsx(mt,{placeholder:"Select subscription"})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"free",children:"Free"}),s.jsx(Ce,{value:"basic",children:"Basic"}),s.jsx(Ce,{value:"premium",children:"Premium"}),s.jsx(Ce,{value:"enterprise",children:"Enterprise"})]})]})]})]}),s.jsx("div",{className:"border-b pb-2 mb-2 mt-4",children:s.jsx("h3",{className:"font-semibold text-sm text-muted-foreground",children:"Profile Information"})}),s.jsxs("div",{children:[s.jsx(de,{children:"Description"}),s.jsx(mn,{value:r.description,onChange:o=>n({...r,description:o.target.value}),placeholder:"Enter business description",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{children:"Category"}),s.jsxs(ft,{value:r.category,onValueChange:o=>n({...r,category:o}),children:[s.jsx(ut,{children:s.jsx(mt,{placeholder:"Select category"})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"transport",children:"Transport"}),s.jsx(Ce,{value:"accommodation",children:"Accommodation"}),s.jsx(Ce,{value:"food",children:"Food & Dining"}),s.jsx(Ce,{value:"entertainment",children:"Entertainment"}),s.jsx(Ce,{value:"tourism",children:"Tourism"}),s.jsx(Ce,{value:"rental",children:"Rental Services"}),s.jsx(Ce,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx(de,{children:"City"}),s.jsx(Se,{value:r.city,onChange:o=>n({...r,city:o.target.value}),placeholder:"Enter city"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{children:"Contact Email"}),s.jsx(Se,{type:"email",value:r.contact_email,onChange:o=>n({...r,contact_email:o.target.value}),placeholder:"Enter public contact email"})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Phone"}),s.jsx(Se,{value:r.phone,onChange:o=>n({...r,phone:o.target.value}),placeholder:"Enter phone number"})]})]}),s.jsx("div",{className:"border-b pb-2 mb-2 mt-4",children:s.jsx("h3",{className:"font-semibold text-sm text-muted-foreground",children:"Permissions"})}),s.jsx("div",{className:"flex flex-wrap gap-3",children:a.map(o=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:`perm-${o}`,checked:r.permissions.includes(o),onChange:()=>i(o),className:"rounded"}),s.jsx(de,{htmlFor:`perm-${o}`,className:"text-sm font-normal cursor-pointer",children:o})]},o))}),s.jsx("div",{className:"flex gap-2 pt-4",children:s.jsxs(pe,{onClick:()=>{const o={...r};t&&!o.password&&delete o.password,e(o)},className:"flex-1",children:[t?"Update":"Create"," Third Party"]})})]})}function tye({item:t,onSubmit:e}){const[r,n]=j.useState({name:t?.name||"",description:t?.description||"",price:t?.price||"",image:t?.image||""});return s.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[s.jsxs("div",{children:[s.jsx(de,{children:"Name *"}),s.jsx(Se,{required:!0,value:r.name,onChange:a=>n({...r,name:a.target.value}),placeholder:"Enter item name"})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Description"}),s.jsx(mn,{value:r.description,onChange:a=>n({...r,description:a.target.value}),placeholder:"Enter item description",rows:3})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Price *"}),s.jsx(Se,{type:"number",step:"0.01",min:"0",required:!0,value:r.price,onChange:a=>n({...r,price:parseFloat(a.target.value)||""}),placeholder:"0.00"})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Image URL"}),s.jsx(Se,{value:r.image,onChange:a=>n({...r,image:a.target.value}),placeholder:"Enter image URL"}),r.image&&s.jsx("img",{src:r.image,alt:"Preview",className:"w-20 h-20 object-cover rounded mt-2"})]}),s.jsx("div",{className:"flex gap-2 pt-4",children:s.jsxs(pe,{onClick:()=>e(r),className:"flex-1",children:[t?"Update":"Create"," Item"]})})]})}function sye({thirdPartyId:t,thirdPartyName:e,onSubmit:r}){const[n,a]=j.useState({name:"",description:"",category:"",price:"",featured:!1,images:[],city:"",availability:!0}),[i,o]=j.useState(""),c=()=>{i.trim()&&(a({...n,images:[...n.images,i.trim()]}),o(""))},d=h=>{a({...n,images:n.images.filter((m,f)=>f!==h)})};return s.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[s.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg border border-blue-200 dark:border-blue-800",children:s.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[s.jsx("strong",{children:"Owner:"})," ",e," (ID: ",t,")"]})}),s.jsxs("div",{children:[s.jsx(de,{children:"Service Name *"}),s.jsx(Se,{required:!0,value:n.name,onChange:h=>a({...n,name:h.target.value}),placeholder:"Enter service name"})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Description *"}),s.jsx(mn,{required:!0,value:n.description,onChange:h=>a({...n,description:h.target.value}),placeholder:"Enter service description",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{children:"Category *"}),s.jsxs(ft,{value:n.category,onValueChange:h=>a({...n,category:h}),children:[s.jsx(ut,{children:s.jsx(mt,{placeholder:"Select category"})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"hotel",children:"Hotel"}),s.jsx(Ce,{value:"restaurant",children:"Restaurant"}),s.jsx(Ce,{value:"spa",children:"Spa"}),s.jsx(Ce,{value:"nightclub",children:"Nightclub"}),s.jsx(Ce,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Price *"}),s.jsx(Se,{type:"number",step:"0.01",min:"0",required:!0,value:n.price,onChange:h=>a({...n,price:parseFloat(h.target.value)||""}),placeholder:"0.00"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{children:"City"}),s.jsx(Se,{value:n.city,onChange:h=>a({...n,city:h.target.value}),placeholder:"Enter city"})]}),s.jsxs("div",{className:"flex items-center justify-between pt-6",children:[s.jsx(de,{children:"Availability"}),s.jsx(Cn,{checked:n.availability,onCheckedChange:h=>a({...n,availability:h})})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(de,{children:"Featured"}),s.jsx(Cn,{checked:n.featured,onCheckedChange:h=>a({...n,featured:h})})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Images"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(Se,{value:i,onChange:h=>o(h.target.value),placeholder:"Enter image URL",className:"flex-1"}),s.jsx(pe,{type:"button",variant:"outline",onClick:c,children:"Add"})]}),n.images.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.images.map((h,m)=>s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:h,alt:`Image ${m+1}`,className:"w-16 h-16 object-cover rounded"}),s.jsx("button",{type:"button",onClick:()=>d(m),className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-4 h-4 text-xs",children:""})]},m))})]}),s.jsx("div",{className:"flex gap-2 pt-4",children:s.jsx(pe,{onClick:()=>r(n),className:"flex-1",children:"Create Service"})})]})}const rye=t=>t.replace(/\D/g,""),nye=({countries:t,iso2:e,setIso2:r,phone:n,setPhone:a,disabledPhone:i})=>s.jsxs("div",{className:"flex gap-2 w-full",children:[s.jsx("select",{value:e,onChange:o=>r(o.target.value),className:"w-[100px] sm:w-[120px] shrink-0 bg-white dark:bg-gray-800 text-gray-900 dark:text-white p-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm focus:ring-2 focus:ring-[#008C95] focus:border-transparent",disabled:i,children:t.map(o=>s.jsxs("option",{value:o.iso2,children:[o.iso2," (",o.dialCode,")"]},o.iso2))}),s.jsx("input",{type:"tel",inputMode:"numeric",value:n,onChange:o=>a(rye(o.target.value)),placeholder:"70123456",className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-800 text-sm focus:ring-2 focus:ring-[#008C95] focus:border-transparent",disabled:i})]}),ua={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640"};function aye(){const t=Ur(),[e,r]=j.useState("login"),[n,a]=j.useState(!1),[i,o]=j.useState(""),[c,d]=j.useState(""),[h,m]=j.useState(""),[f,g]=j.useState("LB"),[y,v]=j.useState(!1),[w,_]=j.useState(""),[b,N]=j.useState(!1),[k,S]=j.useState(!1),[C,I]=j.useState(0),[E,U]=j.useState({username:"",email:"",first_name:"",last_name:"",password:"",password_confirmation:"",role:"admin",business_type:""}),T=j.useMemo(()=>wO.map(z=>({name:z.name,iso2:z.iso2,dialCode:z.dialCode.startsWith("+")?z.dialCode:`+${z.dialCode}`})).sort((z,he)=>z.name.localeCompare(he.name)),[]),ne=j.useMemo(()=>{const z=new Map;for(const he of T)z.set(he.iso2,he.dialCode);return z},[T]),q=z=>ne.get(z)||"+961";j.useEffect(()=>{let z;return C>0&&(z=setInterval(()=>{I(he=>he<=1?(S(!0),0):he-1)},1e3)),()=>clearInterval(z)},[C]);const F=()=>{m(""),v(!1),_(""),N(!1),S(!1),I(0),U({username:"",email:"",first_name:"",last_name:"",password:"",password_confirmation:"",role:"admin",business_type:""})},Y=()=>{v(!1),_(""),N(!1),S(!1),I(0),m("")},O=async()=>{if(!h)return be.error("Please enter a phone number.");const z=`${q(f)}${h.replace(/^0+/,"")}`;if(!/^\+\d{8,15}$/.test(z))return be.error("Please enter a valid phone number with country code.");try{a(!0);const he=await DM(z);he.message&&be.success(he.message),he.warning&&be.warning(he.warning),v(!0),S(!1),I(60)}catch(he){he.response?.data?.errors?Object.values(he.response.data.errors).flat().forEach(V=>be.error(V)):be.error(he.response?.data?.message||"Failed to send OTP.")}finally{a(!1)}},se=async()=>{k&&await O()},X=async()=>{if(!w)return be.error("Please enter the OTP code.");if(w.length!==6)return be.error("OTP code must be 6 digits.");const z=`${q(f)}${h.replace(/^0+/,"")}`;try{a(!0);const he=await MM(z,w);he.message?be.success(he.message):be.success("OTP verified! Complete your registration."),N(!0)}catch(he){be.error(he.response?.data?.message||he.response?.data?.error||"Invalid or expired OTP.")}finally{a(!1)}},M=async z=>{if(z.preventDefault(),!i||!c)return be.error("Please fill all fields");try{a(!0);let he={password:c};i.includes("@")?he.email=i:he.phone_number=i;const V=await Oe.post("/auth/login",he),W=V.data.user;if(W.role!=="admin"){be.error("Access denied. Admin privileges required."),localStorage.removeItem("authToken"),localStorage.removeItem("token"),localStorage.removeItem("user");return}localStorage.setItem("authToken",V.data.token),localStorage.setItem("token",V.data.token),localStorage.setItem("user",JSON.stringify(W)),be.success("Login successful!"),t("/admin")}catch(he){const V=he.response?.data?.message||he.response?.data?.error||"Login failed.";be.error(V)}finally{a(!1)}},K=async z=>{z.preventDefault();const{username:he,email:V,first_name:W,last_name:le,password:oe,password_confirmation:ve,role:me,business_type:$}=E;if(!he?.trim()||!W?.trim()||!le?.trim()||!oe||!ve)return be.error("Please fill all required fields");if(me==="agency"&&!$?.trim())return be.error("Business type is required for agency");if(oe.length<6)return be.error("Password must be at least 6 characters");if(oe!==ve)return be.error("Passwords do not match");const fe=`${q(f)}${h.replace(/^0+/,"")}`.replace(/^\+/,"");try{a(!0);const Z={phone_number:fe,otp_code:w,username:he.trim(),first_name:W.trim(),last_name:le.trim(),password:oe,password_confirmation:ve,role:me||"admin"};V?.trim()&&(Z.email=V.trim()),me==="agency"&&$?.trim()&&(Z.business_type=$.trim());const ee=await Oe.post("/auth/register",Z),J=ee.data?.user,ke=J?.role||me||"admin";localStorage.setItem("authToken",ee.data.token),localStorage.setItem("token",ee.data.token),localStorage.setItem("user",JSON.stringify(J||ee.data.user)),be.success("Account created!"),t(ke==="admin"?"/admin":"/Complete-Profile")}catch(Z){const ee=Z.response?.data?.message||Z.response?.data?.error||"Registration failed.";Z.response?.data?.errors?Object.values(Z.response.data.errors).flat().forEach(J=>be.error(J)):be.error(ee)}finally{a(!1)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900 flex items-center justify-center p-4",children:s.jsx(st.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:s.jsxs(Ue,{className:"border-0 shadow-2xl",children:[s.jsxs(gs,{className:"text-center space-y-4 pb-8",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center",style:{background:`linear-gradient(to right, ${ua.darkBlue}, ${ua.teal})`},children:s.jsx(Zn,{className:"w-8 h-8 text-white"})})}),s.jsxs("div",{children:[s.jsx(xs,{className:"text-2xl font-bold bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(to right, ${ua.darkBlue}, ${ua.teal}, ${ua.limeGreen})`},children:"Admin Login"}),s.jsx(cm,{className:"mt-2",children:"Sign in to access the admin dashboard"})]})]}),s.jsxs(qe,{children:[s.jsxs(Uo,{value:e,onValueChange:r,children:[s.jsxs(Ki,{className:"grid w-full grid-cols-2 mb-6",children:[s.jsx($t,{value:"login",children:"Login"}),s.jsx($t,{value:"register",children:"Register"})]}),s.jsx(Qt,{value:"login",children:s.jsxs("form",{onSubmit:M,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{htmlFor:"email",children:"Email or Phone"}),s.jsxs("div",{className:"relative",children:[s.jsx(Gi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx(Se,{id:"email",type:"text",placeholder:"admin@example.com or +96170123456",value:i,onChange:z=>o(z.target.value),className:"pl-10",disabled:n,required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{htmlFor:"password",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Il,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx(Se,{id:"password",type:"password",placeholder:"Enter your password",value:c,onChange:z=>d(z.target.value),className:"pl-10",disabled:n,required:!0})]})]}),s.jsx(pe,{type:"submit",className:"w-full text-white",style:{background:`linear-gradient(to right, ${ua.darkBlue}, ${ua.teal})`},disabled:n,children:n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Signing in..."]}):s.jsxs(s.Fragment,{children:["Sign In",s.jsx(xd,{className:"w-4 h-4 ml-2"})]})})]})}),s.jsx(Qt,{value:"register",children:b?s.jsxs("form",{onSubmit:K,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{children:"Username *"}),s.jsx(Se,{value:E.username,onChange:z=>U(he=>({...he,username:z.target.value})),placeholder:"admin_username",disabled:n,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{children:"Email"}),s.jsx(Se,{type:"email",value:E.email,onChange:z=>U(he=>({...he,email:z.target.value})),placeholder:"admin@example.com",disabled:n})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{children:"Role *"}),s.jsxs(ft,{value:E.role||"admin",onValueChange:z=>U(he=>({...he,role:z})),children:[s.jsx(ut,{children:s.jsx(mt,{placeholder:"Select role"})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"client",children:"Client"}),s.jsx(Ce,{value:"agency",children:"Agency"}),s.jsx(Ce,{value:"admin",children:"Admin"})]})]})]}),E.role==="agency"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{children:"Business Type *"}),s.jsx(Se,{value:E.business_type,onChange:z=>U(he=>({...he,business_type:z.target.value})),placeholder:"e.g. Car Rental Agency",disabled:n})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{children:"First Name *"}),s.jsx(Se,{value:E.first_name,onChange:z=>U(he=>({...he,first_name:z.target.value})),placeholder:"First",disabled:n,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{children:"Last Name *"}),s.jsx(Se,{value:E.last_name,onChange:z=>U(he=>({...he,last_name:z.target.value})),placeholder:"Last",disabled:n,required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{children:"Password *"}),s.jsx(Se,{type:"password",value:E.password,onChange:z=>U(he=>({...he,password:z.target.value})),placeholder:"Min 6 characters",disabled:n,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{children:"Confirm Password *"}),s.jsx(Se,{type:"password",value:E.password_confirmation,onChange:z=>U(he=>({...he,password_confirmation:z.target.value})),placeholder:"Repeat password",disabled:n,required:!0})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(pe,{type:"button",variant:"outline",onClick:F,disabled:n,children:"Back"}),s.jsx(pe,{type:"submit",className:"flex-1 text-white",style:{background:`linear-gradient(to right, ${ua.darkBlue}, ${ua.teal})`},disabled:n,children:n?s.jsxs(s.Fragment,{children:[s.jsx(Tt,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(KG,{className:"w-4 h-4 mr-2"}),"Create Admin Account"]})})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(de,{className:"flex items-center gap-2",children:[s.jsx(di,{className:"w-4 h-4"}),"Phone Number"]}),s.jsx(nye,{countries:T,iso2:f,setIso2:g,phone:h,setPhone:m,disabledPhone:y})]}),y&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{children:"OTP Code"}),s.jsx(Se,{type:"text",inputMode:"numeric",value:w,onChange:z=>{const he=z.target.value.replace(/\D/g,"");he.length<=6&&_(he)},placeholder:"Enter 6-digit OTP",maxLength:6,className:"text-center text-xl font-bold tracking-widest"}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"Check your phone"}),C>0?s.jsxs("span",{children:["Resend in ",C,"s"]}):s.jsxs(pe,{type:"button",variant:"link",size:"sm",className:"h-auto p-0 text-xs",onClick:se,disabled:!k||n,children:[s.jsx(Tt,{className:"w-3 h-3 mr-1"}),"Resend OTP"]})]})]}),s.jsx("div",{className:"flex gap-2",children:y?s.jsxs(s.Fragment,{children:[s.jsx(pe,{type:"button",variant:"outline",onClick:Y,disabled:n,children:"Change"}),s.jsx(pe,{type:"button",onClick:X,className:"flex-1 text-white",style:{background:`linear-gradient(to right, ${ua.darkBlue}, ${ua.teal})`},disabled:n,children:n?s.jsxs(s.Fragment,{children:[s.jsx(Tt,{className:"w-4 h-4 mr-2 animate-spin"}),"Verifying..."]}):"Verify OTP"})]}):s.jsx(pe,{type:"button",onClick:O,className:"w-full text-white",style:{background:`linear-gradient(to right, ${ua.darkBlue}, ${ua.teal})`},disabled:n,children:n?s.jsxs(s.Fragment,{children:[s.jsx(Tt,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):"Send OTP"})})]})})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx(pe,{variant:"ghost",onClick:()=>t("/"),className:"text-sm text-gray-600 dark:text-gray-400",children:" Back to Home"})})]})]})})})}var iye=Symbol("radix.slottable");function oye(t){const e=({children:r})=>s.jsx(s.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=iye,e}var[Sy]=va("Tooltip",[ph]),jS=ph(),VI="TooltipProvider",lye=700,V3="tooltip.open",[cye,HI]=Sy(VI),qI=t=>{const{__scopeTooltip:e,delayDuration:r=lye,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=t,o=j.useRef(!0),c=j.useRef(!1),d=j.useRef(0);return j.useEffect(()=>{const h=d.current;return()=>window.clearTimeout(h)},[]),s.jsx(cye,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:j.useCallback(()=>{window.clearTimeout(d.current),o.current=!1},[]),onClose:j.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:j.useCallback(h=>{c.current=h},[]),disableHoverableContent:a,children:i})};qI.displayName=VI;var WI="Tooltip",[Kwe,ip]=Sy(WI),dN="TooltipTrigger",dye=j.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,a=ip(dN,r),i=HI(dN,r),o=jS(r),c=j.useRef(null),d=es(e,c,a.onTriggerChange),h=j.useRef(!1),m=j.useRef(!1),f=j.useCallback(()=>h.current=!1,[]);return j.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),s.jsx(VN,{asChild:!0,...o,children:s.jsx(Bt.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:d,onPointerMove:pt(t.onPointerMove,g=>{g.pointerType!=="touch"&&!m.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),m.current=!0)}),onPointerLeave:pt(t.onPointerLeave,()=>{a.onTriggerLeave(),m.current=!1}),onPointerDown:pt(t.onPointerDown,()=>{a.open&&a.onClose(),h.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:pt(t.onFocus,()=>{h.current||a.onOpen()}),onBlur:pt(t.onBlur,a.onClose),onClick:pt(t.onClick,a.onClose)})})});dye.displayName=dN;var _S="TooltipPortal",[uye,hye]=Sy(_S,{forceMount:void 0}),GI=t=>{const{__scopeTooltip:e,forceMount:r,children:n,container:a}=t,i=ip(_S,e);return s.jsx(uye,{scope:e,forceMount:r,children:s.jsx(qa,{present:r||i.open,children:s.jsx($m,{asChild:!0,container:a,children:n})})})};GI.displayName=_S;var rh="TooltipContent",YI=j.forwardRef((t,e)=>{const r=hye(rh,t.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=t,o=ip(rh,t.__scopeTooltip);return s.jsx(qa,{present:n||o.open,children:o.disableHoverableContent?s.jsx(KI,{side:a,...i,ref:e}):s.jsx(fye,{side:a,...i,ref:e})})}),fye=j.forwardRef((t,e)=>{const r=ip(rh,t.__scopeTooltip),n=HI(rh,t.__scopeTooltip),a=j.useRef(null),i=es(e,a),[o,c]=j.useState(null),{trigger:d,onClose:h}=r,m=a.current,{onPointerInTransitChange:f}=n,g=j.useCallback(()=>{c(null),f(!1)},[f]),y=j.useCallback((v,w)=>{const _=v.currentTarget,b={x:v.clientX,y:v.clientY},N=yye(b,_.getBoundingClientRect()),k=bye(b,N),S=vye(w.getBoundingClientRect()),C=jye([...k,...S]);c(C),f(!0)},[f]);return j.useEffect(()=>()=>g(),[g]),j.useEffect(()=>{if(d&&m){const v=_=>y(_,m),w=_=>y(_,d);return d.addEventListener("pointerleave",v),m.addEventListener("pointerleave",w),()=>{d.removeEventListener("pointerleave",v),m.removeEventListener("pointerleave",w)}}},[d,m,y,g]),j.useEffect(()=>{if(o){const v=w=>{const _=w.target,b={x:w.clientX,y:w.clientY},N=d?.contains(_)||m?.contains(_),k=!wye(b,o);N?g():k&&(g(),h())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[d,m,o,h,g]),s.jsx(KI,{...t,ref:i})}),[mye,pye]=Sy(WI,{isInside:!1}),gye=oye("TooltipContent"),KI=j.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...c}=t,d=ip(rh,r),h=jS(r),{onClose:m}=d;return j.useEffect(()=>(document.addEventListener(V3,m),()=>document.removeEventListener(V3,m)),[m]),j.useEffect(()=>{if(d.trigger){const f=g=>{g.target?.contains(d.trigger)&&m()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[d.trigger,m]),s.jsx(zm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:m,children:s.jsxs(HN,{"data-state":d.stateAttribute,...h,...c,ref:e,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(gye,{children:n}),s.jsx(mye,{scope:r,isInside:!0,children:s.jsx(dQ,{id:d.contentId,role:"tooltip",children:a||n})})]})})});YI.displayName=rh;var XI="TooltipArrow",xye=j.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,a=jS(r);return pye(XI,r).isInside?null:s.jsx(qN,{...a,...n,ref:e})});xye.displayName=XI;function yye(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),a=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function bye(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function vye(t){const{top:e,right:r,bottom:n,left:a}=t;return[{x:a,y:e},{x:r,y:e},{x:r,y:n},{x:a,y:n}]}function wye(t,e){const{x:r,y:n}=t;let a=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const c=e[i],d=e[o],h=c.x,m=c.y,f=d.x,g=d.y;m>n!=g>n&&r<(f-h)*(n-m)/(g-m)+h&&(a=!a)}return a}function jye(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),_ye(e)}function _ye(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const a=t[n];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))e.pop();else break}e.push(a)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const a=t[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var Nye=qI,Sye=GI,ZI=YI;const kye=Nye,Cye=j.forwardRef(({className:t,sideOffset:e=4,...r},n)=>s.jsx(Sye,{children:s.jsx(ZI,{ref:n,sideOffset:e,className:St("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...r})}));Cye.displayName=ZI.displayName;function Aye(t){const e=Eye(t),r=j.forwardRef((n,a)=>{const{children:i,...o}=n,c=j.Children.toArray(i),d=c.find(Rye);if(d){const h=d.props.children,m=c.map(f=>f===d?j.Children.count(h)>1?j.Children.only(null):j.isValidElement(h)?h.props.children:null:f);return s.jsx(e,{...o,ref:a,children:j.isValidElement(h)?j.cloneElement(h,void 0,m):null})}return s.jsx(e,{...o,ref:a,children:i})});return r.displayName=`${t}.Slot`,r}function Eye(t){const e=j.forwardRef((r,n)=>{const{children:a,...i}=r;if(j.isValidElement(a)){const o=Mye(a),c=Dye(i,a.props);return a.type!==j.Fragment&&(c.ref=n?Go(n,o):o),j.cloneElement(a,c)}return j.Children.count(a)>1?j.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Tye=Symbol("radix.slottable");function Rye(t){return j.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Tye}function Dye(t,e){const r={...e};for(const n in e){const a=t[n],i=e[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...t,...r}}function Mye(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var uN=["Enter"," "],Pye=["ArrowDown","PageUp","Home"],QI=["ArrowUp","PageDown","End"],Oye=[...Pye,...QI],Lye={ltr:[...uN,"ArrowRight"],rtl:[...uN,"ArrowLeft"]},Fye={ltr:["ArrowLeft"],rtl:["ArrowRight"]},op="Menu",[km,Bye,Iye]=L0(op),[Td,JI]=va(op,[Iye,ph,F0]),ky=ph(),e9=F0(),[zye,Rd]=Td(op),[Uye,lp]=Td(op),t9=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=t,c=ky(e),[d,h]=j.useState(null),m=j.useRef(!1),f=Yi(i),g=Bm(a);return j.useEffect(()=>{const y=()=>{m.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>m.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),s.jsx(CP,{...c,children:s.jsx(zye,{scope:e,open:r,onOpenChange:f,content:d,onContentChange:h,children:s.jsx(Uye,{scope:e,onClose:j.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:m,dir:g,modal:o,children:n})})})};t9.displayName=op;var $ye="MenuAnchor",NS=j.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,a=ky(r);return s.jsx(VN,{...a,...n,ref:e})});NS.displayName=$ye;var SS="MenuPortal",[Vye,s9]=Td(SS,{forceMount:void 0}),r9=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:a}=t,i=Rd(SS,e);return s.jsx(Vye,{scope:e,forceMount:r,children:s.jsx(qa,{present:r||i.open,children:s.jsx($m,{asChild:!0,container:a,children:n})})})};r9.displayName=SS;var Va="MenuContent",[Hye,kS]=Td(Va),n9=j.forwardRef((t,e)=>{const r=s9(Va,t.__scopeMenu),{forceMount:n=r.forceMount,...a}=t,i=Rd(Va,t.__scopeMenu),o=lp(Va,t.__scopeMenu);return s.jsx(km.Provider,{scope:t.__scopeMenu,children:s.jsx(qa,{present:n||i.open,children:s.jsx(km.Slot,{scope:t.__scopeMenu,children:o.modal?s.jsx(qye,{...a,ref:e}):s.jsx(Wye,{...a,ref:e})})})})}),qye=j.forwardRef((t,e)=>{const r=Rd(Va,t.__scopeMenu),n=j.useRef(null),a=es(e,n);return j.useEffect(()=>{const i=n.current;if(i)return WN(i)},[]),s.jsx(CS,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:pt(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Wye=j.forwardRef((t,e)=>{const r=Rd(Va,t.__scopeMenu);return s.jsx(CS,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Gye=Aye("MenuContent.ScrollLock"),CS=j.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:f,onInteractOutside:g,onDismiss:y,disableOutsideScroll:v,...w}=t,_=Rd(Va,r),b=lp(Va,r),N=ky(r),k=e9(r),S=Bye(r),[C,I]=j.useState(null),E=j.useRef(null),U=es(e,E,_.onContentChange),T=j.useRef(0),ne=j.useRef(""),q=j.useRef(0),F=j.useRef(null),Y=j.useRef("right"),O=j.useRef(0),se=v?G0:j.Fragment,X=v?{as:Gye,allowPinchZoom:!0}:void 0,M=z=>{const he=ne.current+z,V=S().filter($=>!$.disabled),W=document.activeElement,le=V.find($=>$.ref.current===W)?.textValue,oe=V.map($=>$.textValue),ve=abe(oe,he,le),me=V.find($=>$.textValue===ve)?.ref.current;(function $(H){ne.current=H,window.clearTimeout(T.current),H!==""&&(T.current=window.setTimeout(()=>$(""),1e3))})(he),me&&setTimeout(()=>me.focus())};j.useEffect(()=>()=>window.clearTimeout(T.current),[]),PN();const K=j.useCallback(z=>Y.current===F.current?.side&&obe(z,F.current?.area),[]);return s.jsx(Hye,{scope:r,searchRef:ne,onItemEnter:j.useCallback(z=>{K(z)&&z.preventDefault()},[K]),onItemLeave:j.useCallback(z=>{K(z)||(E.current?.focus(),I(null))},[K]),onTriggerLeave:j.useCallback(z=>{K(z)&&z.preventDefault()},[K]),pointerGraceTimerRef:q,onPointerGraceIntentChange:j.useCallback(z=>{F.current=z},[]),children:s.jsx(se,{...X,children:s.jsx(I0,{asChild:!0,trapped:a,onMountAutoFocus:pt(i,z=>{z.preventDefault(),E.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(zm,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:f,onInteractOutside:g,onDismiss:y,children:s.jsx($M,{asChild:!0,...k,dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:C,onCurrentTabStopIdChange:I,onEntryFocus:pt(d,z=>{b.isUsingKeyboardRef.current||z.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(HN,{role:"menu","aria-orientation":"vertical","data-state":v9(_.open),"data-radix-menu-content":"",dir:b.dir,...N,...w,ref:U,style:{outline:"none",...w.style},onKeyDown:pt(w.onKeyDown,z=>{const V=z.target.closest("[data-radix-menu-content]")===z.currentTarget,W=z.ctrlKey||z.altKey||z.metaKey,le=z.key.length===1;V&&(z.key==="Tab"&&z.preventDefault(),!W&&le&&M(z.key));const oe=E.current;if(z.target!==oe||!Oye.includes(z.key))return;z.preventDefault();const me=S().filter($=>!$.disabled).map($=>$.ref.current);QI.includes(z.key)&&me.reverse(),rbe(me)}),onBlur:pt(t.onBlur,z=>{z.currentTarget.contains(z.target)||(window.clearTimeout(T.current),ne.current="")}),onPointerMove:pt(t.onPointerMove,Cm(z=>{const he=z.target,V=O.current!==z.clientX;if(z.currentTarget.contains(he)&&V){const W=z.clientX>O.current?"right":"left";Y.current=W,O.current=z.clientX}}))})})})})})})});n9.displayName=Va;var Yye="MenuGroup",AS=j.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return s.jsx(Bt.div,{role:"group",...n,ref:e})});AS.displayName=Yye;var Kye="MenuLabel",a9=j.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return s.jsx(Bt.div,{...n,ref:e})});a9.displayName=Kye;var v0="MenuItem",H3="menu.itemSelect",Cy=j.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...a}=t,i=j.useRef(null),o=lp(v0,t.__scopeMenu),c=kS(v0,t.__scopeMenu),d=es(e,i),h=j.useRef(!1),m=()=>{const f=i.current;if(!r&&f){const g=new CustomEvent(H3,{bubbles:!0,cancelable:!0});f.addEventListener(H3,y=>n?.(y),{once:!0}),LM(f,g),g.defaultPrevented?h.current=!1:o.onClose()}};return s.jsx(i9,{...a,ref:d,disabled:r,onClick:pt(t.onClick,m),onPointerDown:f=>{t.onPointerDown?.(f),h.current=!0},onPointerUp:pt(t.onPointerUp,f=>{h.current||f.currentTarget?.click()}),onKeyDown:pt(t.onKeyDown,f=>{const g=c.searchRef.current!=="";r||g&&f.key===" "||uN.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Cy.displayName=v0;var i9=j.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=t,o=kS(v0,r),c=e9(r),d=j.useRef(null),h=es(e,d),[m,f]=j.useState(!1),[g,y]=j.useState("");return j.useEffect(()=>{const v=d.current;v&&y((v.textContent??"").trim())},[i.children]),s.jsx(km.ItemSlot,{scope:r,disabled:n,textValue:a??g,children:s.jsx(VM,{asChild:!0,...c,focusable:!n,children:s.jsx(Bt.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:h,onPointerMove:pt(t.onPointerMove,Cm(v=>{n?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:pt(t.onPointerLeave,Cm(v=>o.onItemLeave(v))),onFocus:pt(t.onFocus,()=>f(!0)),onBlur:pt(t.onBlur,()=>f(!1))})})})}),Xye="MenuCheckboxItem",o9=j.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...a}=t;return s.jsx(h9,{scope:t.__scopeMenu,checked:r,children:s.jsx(Cy,{role:"menuitemcheckbox","aria-checked":w0(r)?"mixed":r,...a,ref:e,"data-state":TS(r),onSelect:pt(a.onSelect,()=>n?.(w0(r)?!0:!r),{checkForDefaultPrevented:!1})})})});o9.displayName=Xye;var l9="MenuRadioGroup",[Zye,Qye]=Td(l9,{value:void 0,onValueChange:()=>{}}),c9=j.forwardRef((t,e)=>{const{value:r,onValueChange:n,...a}=t,i=Yi(n);return s.jsx(Zye,{scope:t.__scopeMenu,value:r,onValueChange:i,children:s.jsx(AS,{...a,ref:e})})});c9.displayName=l9;var d9="MenuRadioItem",u9=j.forwardRef((t,e)=>{const{value:r,...n}=t,a=Qye(d9,t.__scopeMenu),i=r===a.value;return s.jsx(h9,{scope:t.__scopeMenu,checked:i,children:s.jsx(Cy,{role:"menuitemradio","aria-checked":i,...n,ref:e,"data-state":TS(i),onSelect:pt(n.onSelect,()=>a.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});u9.displayName=d9;var ES="MenuItemIndicator",[h9,Jye]=Td(ES,{checked:!1}),f9=j.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...a}=t,i=Jye(ES,r);return s.jsx(qa,{present:n||w0(i.checked)||i.checked===!0,children:s.jsx(Bt.span,{...a,ref:e,"data-state":TS(i.checked)})})});f9.displayName=ES;var ebe="MenuSeparator",m9=j.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return s.jsx(Bt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});m9.displayName=ebe;var tbe="MenuArrow",p9=j.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,a=ky(r);return s.jsx(qN,{...a,...n,ref:e})});p9.displayName=tbe;var sbe="MenuSub",[Xwe,g9]=Td(sbe),Gf="MenuSubTrigger",x9=j.forwardRef((t,e)=>{const r=Rd(Gf,t.__scopeMenu),n=lp(Gf,t.__scopeMenu),a=g9(Gf,t.__scopeMenu),i=kS(Gf,t.__scopeMenu),o=j.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=i,h={__scopeMenu:t.__scopeMenu},m=j.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return j.useEffect(()=>m,[m]),j.useEffect(()=>{const f=c.current;return()=>{window.clearTimeout(f),d(null)}},[c,d]),s.jsx(NS,{asChild:!0,...h,children:s.jsx(i9,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":v9(r.open),...t,ref:Go(e,a.onTriggerChange),onClick:f=>{t.onClick?.(f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:pt(t.onPointerMove,Cm(f=>{i.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),m()},100))})),onPointerLeave:pt(t.onPointerLeave,Cm(f=>{m();const g=r.content?.getBoundingClientRect();if(g){const y=r.content?.dataset.side,v=y==="right",w=v?-5:5,_=g[v?"left":"right"],b=g[v?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+w,y:f.clientY},{x:_,y:g.top},{x:b,y:g.top},{x:b,y:g.bottom},{x:_,y:g.bottom}],side:y}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:pt(t.onKeyDown,f=>{const g=i.searchRef.current!=="";t.disabled||g&&f.key===" "||Lye[n.dir].includes(f.key)&&(r.onOpenChange(!0),r.content?.focus(),f.preventDefault())})})})});x9.displayName=Gf;var y9="MenuSubContent",b9=j.forwardRef((t,e)=>{const r=s9(Va,t.__scopeMenu),{forceMount:n=r.forceMount,...a}=t,i=Rd(Va,t.__scopeMenu),o=lp(Va,t.__scopeMenu),c=g9(y9,t.__scopeMenu),d=j.useRef(null),h=es(e,d);return s.jsx(km.Provider,{scope:t.__scopeMenu,children:s.jsx(qa,{present:n||i.open,children:s.jsx(km.Slot,{scope:t.__scopeMenu,children:s.jsx(CS,{id:c.contentId,"aria-labelledby":c.triggerId,...a,ref:h,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{o.isUsingKeyboardRef.current&&d.current?.focus(),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:pt(t.onFocusOutside,m=>{m.target!==c.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:pt(t.onEscapeKeyDown,m=>{o.onClose(),m.preventDefault()}),onKeyDown:pt(t.onKeyDown,m=>{const f=m.currentTarget.contains(m.target),g=Fye[o.dir].includes(m.key);f&&g&&(i.onOpenChange(!1),c.trigger?.focus(),m.preventDefault())})})})})})});b9.displayName=y9;function v9(t){return t?"open":"closed"}function w0(t){return t==="indeterminate"}function TS(t){return w0(t)?"indeterminate":t?"checked":"unchecked"}function rbe(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function nbe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function abe(t,e,r){const a=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let o=nbe(t,Math.max(i,0));a.length===1&&(o=o.filter(h=>h!==r));const d=o.find(h=>h.toLowerCase().startsWith(a.toLowerCase()));return d!==r?d:void 0}function ibe(t,e){const{x:r,y:n}=t;let a=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const c=e[i],d=e[o],h=c.x,m=c.y,f=d.x,g=d.y;m>n!=g>n&&r<(f-h)*(n-m)/(g-m)+h&&(a=!a)}return a}function obe(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return ibe(r,e)}function Cm(t){return e=>e.pointerType==="mouse"?t(e):void 0}var lbe=t9,cbe=NS,dbe=r9,ube=n9,hbe=AS,fbe=a9,mbe=Cy,pbe=o9,gbe=c9,xbe=u9,ybe=f9,bbe=m9,vbe=p9,wbe=x9,jbe=b9,Ay="DropdownMenu",[_be]=va(Ay,[JI]),Tn=JI(),[Nbe,w9]=_be(Ay),j9=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:c=!0}=t,d=Tn(e),h=j.useRef(null),[m,f]=zo({prop:a,defaultProp:i??!1,onChange:o,caller:Ay});return s.jsx(Nbe,{scope:e,triggerId:Ui(),triggerRef:h,contentId:Ui(),open:m,onOpenChange:f,onOpenToggle:j.useCallback(()=>f(g=>!g),[f]),modal:c,children:s.jsx(lbe,{...d,open:m,onOpenChange:f,dir:n,modal:c,children:r})})};j9.displayName=Ay;var _9="DropdownMenuTrigger",N9=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=t,i=w9(_9,r),o=Tn(r);return s.jsx(cbe,{asChild:!0,...o,children:s.jsx(Bt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:Go(e,i.triggerRef),onPointerDown:pt(t.onPointerDown,c=>{!n&&c.button===0&&c.ctrlKey===!1&&(i.onOpenToggle(),i.open||c.preventDefault())}),onKeyDown:pt(t.onKeyDown,c=>{n||(["Enter"," "].includes(c.key)&&i.onOpenToggle(),c.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});N9.displayName=_9;var Sbe="DropdownMenuPortal",S9=t=>{const{__scopeDropdownMenu:e,...r}=t,n=Tn(e);return s.jsx(dbe,{...n,...r})};S9.displayName=Sbe;var k9="DropdownMenuContent",C9=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=w9(k9,r),i=Tn(r),o=j.useRef(!1);return s.jsx(ube,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:e,onCloseAutoFocus:pt(t.onCloseAutoFocus,c=>{o.current||a.triggerRef.current?.focus(),o.current=!1,c.preventDefault()}),onInteractOutside:pt(t.onInteractOutside,c=>{const d=c.detail.originalEvent,h=d.button===0&&d.ctrlKey===!0,m=d.button===2||h;(!a.modal||m)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});C9.displayName=k9;var kbe="DropdownMenuGroup",Cbe=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Tn(r);return s.jsx(hbe,{...a,...n,ref:e})});Cbe.displayName=kbe;var Abe="DropdownMenuLabel",A9=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Tn(r);return s.jsx(fbe,{...a,...n,ref:e})});A9.displayName=Abe;var Ebe="DropdownMenuItem",E9=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Tn(r);return s.jsx(mbe,{...a,...n,ref:e})});E9.displayName=Ebe;var Tbe="DropdownMenuCheckboxItem",T9=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Tn(r);return s.jsx(pbe,{...a,...n,ref:e})});T9.displayName=Tbe;var Rbe="DropdownMenuRadioGroup",Dbe=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Tn(r);return s.jsx(gbe,{...a,...n,ref:e})});Dbe.displayName=Rbe;var Mbe="DropdownMenuRadioItem",R9=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Tn(r);return s.jsx(xbe,{...a,...n,ref:e})});R9.displayName=Mbe;var Pbe="DropdownMenuItemIndicator",D9=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Tn(r);return s.jsx(ybe,{...a,...n,ref:e})});D9.displayName=Pbe;var Obe="DropdownMenuSeparator",M9=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Tn(r);return s.jsx(bbe,{...a,...n,ref:e})});M9.displayName=Obe;var Lbe="DropdownMenuArrow",Fbe=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Tn(r);return s.jsx(vbe,{...a,...n,ref:e})});Fbe.displayName=Lbe;var Bbe="DropdownMenuSubTrigger",P9=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Tn(r);return s.jsx(wbe,{...a,...n,ref:e})});P9.displayName=Bbe;var Ibe="DropdownMenuSubContent",O9=j.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Tn(r);return s.jsx(jbe,{...a,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});O9.displayName=Ibe;var zbe=j9,Ube=N9,$be=S9,L9=C9,F9=A9,B9=E9,I9=T9,z9=R9,U9=D9,$9=M9,V9=P9,H9=O9;const Vbe=zbe,Hbe=Ube,qbe=j.forwardRef(({className:t,inset:e,children:r,...n},a)=>s.jsxs(V9,{ref:a,className:St("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n,children:[r,s.jsx(pn,{className:"ml-auto"})]}));qbe.displayName=V9.displayName;const Wbe=j.forwardRef(({className:t,...e},r)=>s.jsx(H9,{ref:r,className:St("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));Wbe.displayName=H9.displayName;const q9=j.forwardRef(({className:t,sideOffset:e=4,...r},n)=>s.jsx($be,{children:s.jsx(L9,{ref:n,sideOffset:e,className:St("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...r})}));q9.displayName=L9.displayName;const hN=j.forwardRef(({className:t,inset:e,...r},n)=>s.jsx(B9,{ref:n,className:St("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...r}));hN.displayName=B9.displayName;const Gbe=j.forwardRef(({className:t,children:e,checked:r,...n},a)=>s.jsxs(I9,{ref:a,className:St("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(U9,{children:s.jsx(ci,{className:"h-4 w-4"})})}),e]}));Gbe.displayName=I9.displayName;const Ybe=j.forwardRef(({className:t,children:e,...r},n)=>s.jsxs(z9,{ref:n,className:St("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(U9,{children:s.jsx(hW,{className:"h-2 w-2 fill-current"})})}),e]}));Ybe.displayName=z9.displayName;const Kbe=j.forwardRef(({className:t,inset:e,...r},n)=>s.jsx(F9,{ref:n,className:St("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));Kbe.displayName=F9.displayName;const W9=j.forwardRef(({className:t,...e},r)=>s.jsx($9,{ref:r,className:St("-mx-1 my-1 h-px bg-muted",t),...e}));W9.displayName=$9.displayName;const q3=[{id:"main",title:"MAIN",items:[{to:"/admin",label:"Dashboard",icon:CN}]},{id:"management",title:"MANAGEMENT",items:[{to:"/admin/users",label:"Users",icon:ks},{to:"/admin/agencies",label:"Agencies",icon:OG},{to:"/admin/real-user-data",label:"Real User Data",icon:Z6},{to:"/admin/cars",label:"Cars",icon:Gt},{to:"/admin/bookings",label:"Bookings",icon:kN},{to:"/admin/payments",label:"Payments",icon:or},{to:"/admin/promo-codes",label:"Promo Codes",icon:Vx},{to:"/admin/brokers",label:"Brokers",icon:ks},{to:"/admin/ads",label:"Ads",icon:sM},{to:"/admin/featured",label:"Featured",icon:rr},{to:"/admin/holidays",label:"Holidays",icon:Hs}]},{id:"system",title:"SYSTEM",items:[{to:"/admin/services",label:"Services",icon:yd},{to:"/admin/announcements",label:"Announcements",icon:Lx},{to:"/admin/appeals",label:"Appeals",icon:Yl},{to:"/admin/suggestions",label:"Suggestions",icon:E0},{to:"/admin/notifications",label:"Notifications",icon:Lx,badge:3},{to:"/admin/otps",label:"OTPs",icon:eM}]}],Xbe=()=>{const t=ba(),{logout:e}=hh(),[r,n]=j.useState(localStorage.getItem("admin_sidebar")==="true"),[a,i]=j.useState(""),[o,c]=j.useState(!1);j.useEffect(()=>{localStorage.setItem("admin_sidebar",r)},[r]),j.useEffect(()=>{window.innerWidth<768&&n(!0)},[]);const d=j.useMemo(()=>a?q3.map(m=>({...m,items:m.items.filter(f=>f.label.toLowerCase().includes(a.toLowerCase()))})).filter(m=>m.items.length>0):q3,[a]),h=t.pathname.replace("/admin","").split("/").filter(Boolean).map(m=>m[0].toUpperCase()+m.slice(1)).join(" / ")||"Dashboard";return s.jsx(kye,{delayDuration:0,children:s.jsxs("div",{className:"flex min-h-screen bg-background",children:[s.jsx(Wo,{children:s.jsxs(st.aside,{initial:{width:r?88:256},animate:{width:r?88:256},transition:{type:"spring",stiffness:260,damping:30},className:"relative border-r bg-card/95 backdrop-blur p-4 flex flex-col",children:[s.jsx("button",{onClick:()=>n(!r),className:"absolute -right-3 top-6 bg-card border rounded-full p-1 shadow hover:bg-muted",children:s.jsx(Yo,{className:St("w-4 h-4 transition-transform",r&&"rotate-180")})}),s.jsxs(Vbe,{children:[s.jsx(Hbe,{asChild:!0,children:s.jsxs("button",{className:"flex items-center gap-3 mb-4 rounded-xl px-2 py-2 hover:bg-muted",children:[s.jsx("img",{src:"/rento-512.png",className:"w-10 h-10 rounded-full"}),!r&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold",children:"Abbas Nemer"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Lead Developer"})]})]})}),s.jsxs(q9,{children:[s.jsxs(hN,{children:[s.jsx(Gi,{className:"w-4 h-4 mr-2"})," Profile"]}),s.jsx(W9,{}),s.jsxs(hN,{onClick:e,className:"text-red-600",children:[s.jsx(Xl,{className:"w-4 h-4 mr-2"})," Logout"]})]})]}),!r&&s.jsxs("div",{className:"mb-4 relative",children:[s.jsx(Fr,{className:"absolute left-3 top-2.5 w-4 h-4 text-muted-foreground"}),s.jsx(Se,{value:a,onChange:m=>i(m.target.value),placeholder:"Search...",className:"pl-9"})]}),s.jsx("nav",{className:"flex-1 space-y-6 overflow-y-auto",children:d.map(m=>s.jsxs("div",{children:[!r&&s.jsx("p",{className:"px-3 mb-2 text-xs font-semibold text-muted-foreground",children:m.title}),s.jsx("div",{className:"space-y-1",children:m.items.map(({to:f,label:g,icon:y,badge:v})=>s.jsx("div",{children:s.jsxs(A6,{to:f,end:!0,className:({isActive:w})=>St("group relative flex items-center gap-3 rounded-xl px-3 py-2.5 text-sm font-medium","transition-all duration-200","hover:scale-[1.05]",w?"bg-primary/10 text-primary shadow-sm":"text-muted-foreground hover:bg-muted"),children:[s.jsx("span",{className:"absolute inset-0 rounded-xl bg-primary/10 opacity-0 group-[.active]:opacity-100 blur-sm"}),s.jsx(y,{className:"relative w-4 h-4"}),!r&&s.jsx("span",{children:g}),v&&!r&&s.jsx(st.span,{animate:{scale:[1,1.15,1]},transition:{repeat:1/0,duration:1.8},className:"ml-auto bg-primary text-white text-xs px-2 py-0.5 rounded-full",children:v})]})},f))})]},m.id))})]})}),s.jsxs("main",{className:"flex-1 p-6 overflow-y-auto",children:[s.jsxs("div",{className:"mb-4 text-sm text-muted-foreground",children:["Admin / ",h]}),s.jsx(st.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.25},children:s.jsx(bV,{})},t.pathname)]})]})})};nc.register(...vS);const Zbe=({data:t})=>{const e=j.useRef(null),r=j.useRef(null);return j.useEffect(()=>{if(!t?.length||!e.current)return;const n=e.current.getContext("2d");r.current&&(r.current.destroy(),r.current=null);const a=t.map(o=>o.label),i=[{key:"pending",label:"Pending",color:"#facc15"},{key:"completed",label:"Completed",color:"#22c55e"},{key:"cancelled",label:"Cancelled",color:"#ef4444"},{key:"total",label:"Total",color:"#3b82f6"}];return r.current=new nc(n,{type:"line",data:{labels:a,datasets:i.map(({key:o,label:c,color:d})=>({label:c,data:t.map(h=>h[o]??0),borderColor:d,backgroundColor:`${d}20`,fill:!1,tension:.2}))},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top"},tooltip:{mode:"index",intersect:!1}},scales:{x:{grid:{display:!1},ticks:{maxRotation:45,font:{size:11}}},y:{beginAtZero:!0,ticks:{stepSize:1,font:{size:11}},grid:{color:"rgba(0,0,0,0.06)"}}},animation:{duration:400}}}),()=>{r.current&&(r.current.destroy(),r.current=null)}},[t]),!t||t.length===0?null:s.jsx("div",{className:"w-full h-[320px]",children:s.jsx("canvas",{ref:e})})};nc.register(...vS);const Qbe="#00A19C",Jbe=({data:t})=>{const e=j.useRef(null),r=j.useRef(null);return j.useEffect(()=>{if(!t?.length||!e.current)return;const n=e.current.getContext("2d");return r.current&&(r.current.destroy(),r.current=null),r.current=new nc(n,{type:"bar",data:{labels:t.map(a=>a.label),datasets:[{label:"Cars",data:t.map(a=>a.count),backgroundColor:Qbe,borderRadius:6}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:a=>"Cars: "+a.raw}}},scales:{x:{grid:{display:!1},ticks:{maxRotation:45,minRotation:0,font:{size:12}}},y:{beginAtZero:!0,ticks:{stepSize:1,font:{size:12}},grid:{color:"rgba(0,0,0,0.06)"}}},animation:{duration:600}}}),()=>{r.current&&(r.current.destroy(),r.current=null)}},[t]),t?.length?s.jsx("div",{className:"w-full h-full min-h-[280px]",children:s.jsx("canvas",{ref:e})}):null},Mu=t=>t.toISOString().split("T")[0],eve=(t,e,r)=>{const n={},a=new Date,i=(o,c)=>{o[c]||(o[c]=0),o[c]++};if(e==="day"){const o=new Date(r.from),c=new Date(r.to);for(;o<=c;){const d=Mu(o);n[d]={label:o.toLocaleDateString("en-US",{month:"short",day:"numeric"}),total:0,pending:0,completed:0,cancelled:0},o.setDate(o.getDate()+1)}return t.forEach(d=>{if(!d.start_datetime)return;const h=Mu(new Date(d.start_datetime));n[h]&&(n[h].total++,i(n[h],d.booking_request_status))}),Object.values(n)}if(e==="week"){for(let o=6;o>=0;o--){const c=new Date;c.setDate(a.getDate()-o);const d=Mu(c);n[d]={label:c.toLocaleDateString("en-US",{weekday:"short"}),total:0,pending:0,completed:0,cancelled:0}}return t.forEach(o=>{if(!o.start_datetime)return;const c=Mu(new Date(o.start_datetime));n[c]&&(n[c].total++,i(n[c],o.booking_request_status))}),Object.values(n)}if(e==="month"){const o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return o.forEach(c=>{n[c]={label:c,total:0,pending:0,completed:0,cancelled:0}}),t.forEach(c=>{if(!c.start_datetime)return;const d=new Date(c.start_datetime);if(d.getFullYear()!==a.getFullYear())return;const h=d.toLocaleString("en-US",{month:"short"});n[h].total++,i(n[h],c.booking_request_status)}),o.map(c=>n[c])}return t.forEach(o=>{if(!o.start_datetime)return;const c=new Date(o.start_datetime).getFullYear();n[c]||(n[c]={label:String(c),total:0,pending:0,completed:0,cancelled:0}),n[c].total++,i(n[c],o.booking_request_status)}),Object.values(n).sort((o,c)=>Number(o.label)-Number(c.label))},tve=()=>{const[t,e]=j.useState({users:0,cars:0,bookings:0,revenue:0}),[r,n]=j.useState(!0),a=new Date,i=new Date;i.setDate(a.getDate()-29);const[o,c]=j.useState("day"),[d,h]=j.useState({from:i,to:a}),[m,f]=j.useState([]),[g,y]=j.useState(!0);j.useEffect(()=>{(async()=>{try{n(!0);const q=await Oe.get("/admin/users"),F=await Oe.get("/cars"),Y=await Oe.get("/admin/bookings"),O=await Oe.get("/admin/payments");e({users:q.data?.users?.total??0,cars:F.data?.cars?.total??F.data?.total??0,bookings:Y.data?.bookings?.total??Y.data?.total??0,revenue:O.data?.total_revenue??O.data?.revenue??0})}catch(q){console.error("Dashboard stats error:",q)}finally{n(!1)}})()},[]),j.useEffect(()=>{(async()=>{try{y(!0);const F=(await Oe.get("/admin/bookings"))?.data?.bookings?.data||[],Y=eve(F,o,d);f(Y)}catch(q){console.error("Chart error:",q),f([])}finally{y(!1)}})()},[o,d]);const v=({title:ne,value:q,icon:F,color:Y})=>s.jsx(Ue,{children:s.jsxs(qe,{className:"p-6 flex items-center gap-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl ${Y} flex items-center justify-center`,children:s.jsx(F,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:ne}),s.jsx("h2",{className:"text-2xl font-bold",children:r?"":q})]})]})}),[w,_]=j.useState([]),[b,N]=j.useState(""),[k,S]=j.useState(""),[C,I]=j.useState([]);j.useEffect(()=>{(async()=>{try{const q=await Oe.get("admin/cars");_(q.data?.cars?.data||q.data?.cars||[])}catch(q){console.error("Cars fetch error",q)}})()},[]);const E=ne=>[...new Set(ne.map(q=>q.make).filter(Boolean))].sort(),U=(ne,q,F)=>{let Y=[...ne];F&&(Y=Y.filter(se=>se.model===F)),q&&(Y=Y.filter(se=>se.make===q));const O={};return Y.forEach(se=>{let X;F&&q?X=`${se.make} ${se.model}`:F?X=se.make:q?X=se.model:X=se.make,X&&(O[X]=(O[X]||0)+1)}),Object.entries(O).map(([se,X])=>({label:se,count:X}))},T=(ne,q)=>{const F=q?ne.filter(Y=>Y.make===q):ne;return[...new Set(F.map(Y=>Y.model).filter(Boolean))].sort()};return j.useEffect(()=>{S("")},[b]),j.useEffect(()=>{const ne=U(w,b,k);I(ne)},[w,b,k]),s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Dashboard"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(v,{title:"Total Users",value:t.users,icon:ks,color:"bg-blue-500"}),s.jsx(v,{title:"Total Cars",value:t.cars,icon:Gt,color:"bg-[#00A19C]"}),s.jsx(v,{title:"Total Bookings",value:t.bookings,icon:kN,color:"bg-purple-500"}),s.jsx(v,{title:"Total Revenue",value:`$${t.revenue}`,icon:or,color:"bg-green-500"})]}),s.jsx(Ue,{children:s.jsxs(qe,{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Booking Overview"}),s.jsxs("div",{className:"flex flex-col gap-3 min-w-[160px]",children:[s.jsxs("select",{value:o,onChange:ne=>c(ne.target.value),className:"border rounded-md px-3 py-1 text-sm bg-background",children:[s.jsx("option",{value:"day",children:"Daily"}),s.jsx("option",{value:"week",children:"Week"}),s.jsx("option",{value:"month",children:"Month"}),s.jsx("option",{value:"year",children:"Year"})]}),o==="day"&&s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:"From"}),s.jsx("input",{type:"date",value:Mu(d.from),onChange:ne=>h(q=>({...q,from:new Date(ne.target.value)})),className:"border rounded-md px-2 py-1 text-sm w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:"To"}),s.jsx("input",{type:"date",value:Mu(d.to),onChange:ne=>h(q=>({...q,to:new Date(ne.target.value)})),className:"border rounded-md px-2 py-1 text-sm w-full"})]})]})]})]}),s.jsx("div",{className:"w-full h-[320px]",children:g?s.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"Loading chart data..."}):m.length===0?s.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"No booking data"}):s.jsx(Zbe,{data:m})})]})}),s.jsx(Ue,{children:s.jsxs(qe,{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Cars Distribution"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs("select",{value:b,onChange:ne=>N(ne.target.value),className:"border rounded-md px-3 py-1 text-sm bg-background",children:[s.jsx("option",{value:"",children:"All Makes"}),E(w).map(ne=>s.jsx("option",{value:ne,children:ne},ne))]}),s.jsxs("select",{value:k,onChange:ne=>S(ne.target.value),className:"border rounded-md px-3 py-1 text-sm bg-background",disabled:!w.length,children:[s.jsx("option",{value:"",children:"All Models"}),T(w,b).map(ne=>s.jsx("option",{value:ne,children:ne},ne))]})]})]}),s.jsx("div",{className:"h-[300px] w-full",children:C.length===0?s.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"No car data"}):s.jsx(Jbe,{data:C})})]})})]})},sve=1,rve=1e6;let U1=0;function nve(){return U1=(U1+1)%Number.MAX_SAFE_INTEGER,U1.toString()}const $1=new Map,W3=t=>{if($1.has(t))return;const e=setTimeout(()=>{$1.delete(t),am({type:"REMOVE_TOAST",toastId:t})},rve);$1.set(t,e)},ave=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,sve)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?W3(r):t.toasts.forEach(n=>{W3(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},Ax=[];let Ex={toasts:[]};function am(t){Ex=ave(Ex,t),Ax.forEach(e=>{e(Ex)})}function yn({...t}){const e=nve(),r=a=>am({type:"UPDATE_TOAST",toast:{...a,id:e}}),n=()=>am({type:"DISMISS_TOAST",toastId:e});return am({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:a=>{a||n()}}}),{id:e,dismiss:n,update:r}}function Ey(){const[t,e]=j.useState(Ex);return j.useEffect(()=>(Ax.push(e),()=>{const r=Ax.indexOf(e);r>-1&&Ax.splice(r,1)}),[t]),{...t,toast:yn,dismiss:r=>am({type:"DISMISS_TOAST",toastId:r})}}const ive=()=>{Ur();const{toast:t}=Ey(),[e,r]=j.useState([]),[n,a]=j.useState(0),[i,o]=j.useState(!0),[c,d]=j.useState(null),[h,m]=j.useState(!1),[f,g]=j.useState(""),[y,v]=j.useState(null),[w,_]=j.useState(""),[b,N]=j.useState([]),[k,S]=j.useState("newest"),[C,I]=j.useState("all"),[E,U]=j.useState(!1);j.useEffect(()=>{(async()=>{try{const X=await Oe.get("/admin/users");r(X.data?.users?.data||[]),a(X.data?.users?.total||0)}catch{t({title:"Error",description:"Failed to load users",variant:"destructive"})}finally{o(!1)}})()},[t]);const T=async se=>{try{const{data:X}=await Oe.get(`/admin/users/${se}`);return X.user}catch{return t({title:"Error",description:"Failed to fetch user details",variant:"destructive"}),null}},ne="/avatar.png",q="https://rento-lb.com/api/storage/",F=se=>{const X=se?.profile_picture;if(!X)return ne;if(X.startsWith("http"))return X;const M=X.startsWith("/")?X.slice(1):X;return q+M},Y=j.useMemo(()=>{let se=[...e];if(w){const X=w.toLowerCase();se=se.filter(M=>M.username?.toLowerCase().includes(X)||M.phone_number?.includes(X)||M.role?.toLowerCase().includes(X))}if(b.length>0&&(se=se.filter(X=>b.includes(X.role))),C!=="all"){const X=C==="active";se=se.filter(M=>!!M.update_access===X)}return k==="az"&&se.sort((X,M)=>X.username.localeCompare(M.username)),k==="za"&&se.sort((X,M)=>M.username.localeCompare(X.username)),k==="newest"&&se.sort((X,M)=>new Date(M.created_at)-new Date(X.created_at)),se},[e,w,b,C,k]),O=async se=>{if(confirm("Delete this user?"))try{await Oe.delete(`/admin/users/${se}`),r(X=>X.filter(M=>M.id!==se)),t({title:"User deleted"})}catch{t({title:"Error",description:"Delete failed",variant:"destructive"})}};return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Kr,{open:h,onOpenChange:m,children:s.jsxs(Br,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsx(Ir,{children:s.jsx(zr,{children:f==="edit-user"?"Edit User":"User Details"})}),f==="view-user"&&c&&s.jsx(hve,{user:c,onEdit:()=>{v({...c}),g("edit-user")},onClose:()=>m(!1)}),f==="edit-user"&&y&&s.jsx(fve,{user:y,setUser:v,onClose:()=>{m(!1),g("view-user")},onSaved:se=>{d(se),v({...se}),g("view-user")}})]})}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h1",{className:"text-2xl font-bold",children:"Users"})}),s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[s.jsxs("div",{className:"relative w-full sm:w-72",children:[s.jsx(Fr,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(Se,{placeholder:"Search user...",className:"pl-9",value:w,onChange:se=>_(se.target.value)})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(ks,{className:"h-4 w-4"}),s.jsx("span",{children:"Total:"}),s.jsx("span",{className:"font-semibold text-foreground",children:Y.length})]}),s.jsx(pe,{variant:"outline",size:"sm",onClick:()=>U(se=>!se),children:"Filters"})]})]}),E&&s.jsxs("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-3 gap-4 rounded-lg border p-4 bg-background",children:[s.jsxs(ft,{value:k,onValueChange:S,children:[s.jsx(ut,{children:s.jsx(mt,{placeholder:"Sort by"})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"newest",children:"Newest"}),s.jsx(Ce,{value:"az",children:"AZ"}),s.jsx(Ce,{value:"za",children:"ZA"})]})]}),s.jsxs(ft,{value:C,onValueChange:I,children:[s.jsx(ut,{children:s.jsx(mt,{placeholder:"Status"})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"all",children:"All"}),s.jsx(Ce,{value:"active",children:"Active"}),s.jsx(Ce,{value:"blocked",children:"Blocked"})]})]}),s.jsx("div",{className:"flex flex-wrap gap-3 text-sm",children:["client","agency","admin"].map(se=>s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:b.includes(se),onChange:X=>{const M=X.target.checked;N(K=>M?[...K,se]:K.filter(z=>z!==se))}}),s.jsx("span",{className:"capitalize",children:se})]},se))})]}),s.jsx(Ue,{children:s.jsx(qe,{className:"p-4",children:i?s.jsx("p",{className:"p-6 text-muted-foreground text-center",children:"Loading users..."}):Y.length===0?s.jsx("p",{className:"p-6 text-muted-foreground text-center",children:"No users found"}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:Y.map(se=>s.jsx(Ue,{className:"overflow-hidden border-2 hover:shadow-md transition-shadow",children:s.jsxs(qe,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3 cursor-pointer",title:ove(se),role:"button",tabIndex:0,onClick:()=>G3(se.id,T,d,g,m),onKeyDown:X=>X.key==="Enter"&&G3(se.id,T,d,g,m),children:[s.jsx("img",{src:F(se),alt:se.username||"User",className:"h-12 w-12 rounded-full object-cover ring-2 ring-muted",onError:X=>{X.currentTarget.onerror=null,X.currentTarget.src="/avatar.png"}}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"font-semibold truncate",children:se.first_name&&se.last_name?`${se.first_name} ${se.last_name}`:se.username||`User #${se.id}`}),s.jsx("p",{className:"text-sm text-muted-foreground truncate",children:se.phone_number||""})]})]}),s.jsxs("div",{className:"flex flex-wrap gap-1.5 mb-3",children:[s.jsx(We,{variant:"outline",className:"capitalize",children:se.role}),se.update_access?s.jsx(We,{className:"bg-green-500",children:"Active"}):s.jsx(We,{variant:"destructive",children:"Blocked"})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-2 border-t",children:[s.jsx(pe,{variant:"ghost",size:"icon",onClick:async()=>{const X=await T(se.id);X&&(d(X),g("view-user"),m(!0))},title:"View Details",children:s.jsx(sr,{className:"w-4 h-4"})}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:async()=>{const X=await T(se.id);X&&(d(X),v({...X}),g("edit-user"),m(!0))},title:"Edit User",children:s.jsx(br,{className:"w-4 h-4"})}),s.jsx(pe,{size:"icon",variant:"ghost","aria-label":"Delete user",className:"text-red-500 hover:text-red-600",onClick:()=>O(se.id),title:"Remove User",children:s.jsx(Xs,{className:"h-4 w-4"})})]})]})},se.id))})})})]})};function ove(t){if(!t)return"";const e=t.client||{},r=e.qualification_code||{};return[`User ID : ${t.id??"N/A"}`,`Age : ${r.age??"N/A"}`,`Gender : ${t.gender??"N/A"}`,`City : ${t.city??"N/A"}`,`Bio : ${t.bio??"N/A"}`,`Profession : ${e.profession??"N/A"}`,`Email : ${t.email??"N/A"}`,`License number : ${e.license_number??"N/A"}`,`Average rating : ${e.average_rating??"N/A"}`,`OTP verification : ${t.otp_verification??"N/A"}`].join(`
`)}async function G3(t,e,r,n,a){const i=await e(t);i&&(r(i),n("view-user"),a(!0))}function G9(t){if(!t)return"N/A";const e=new Date(t);return Number.isNaN(e.getTime())?String(t):e.toLocaleDateString("en-US",{month:"numeric",day:"numeric",year:"numeric"})}function j0(t){if(!t)return"N/A";const e=new Date(t);return Number.isNaN(e.getTime())?String(t):e.toLocaleString("en-US",{timeZone:"Asia/Beirut",month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit",hour12:!0})}const lve="https://rento-lb.com/api/storage/",cve="/avatar.png";function dve(t,e=null){if(!t)return e;if(t.startsWith("http"))return t;const r=t.startsWith("/")?t.slice(1):t;return lve+r}function uve(t){return t?String(t).toLowerCase().split("?")[0].endsWith(".pdf"):!1}function cx({title:t,path:e,fallback:r=null}){const n=dve(e,r);if(!n)return s.jsx("div",{className:"text-sm text-muted-foreground",children:"N/A"});if(uve(n)){const a=`${n}#toolbar=0&navpanes=0&scrollbar=0`;return s.jsx("iframe",{title:t,src:a,className:"w-full max-w-[260px] h-[180px] rounded-md border bg-white"})}return s.jsx("img",{src:n,alt:t,className:"w-full max-w-[260px] h-[180px] object-cover rounded-md border",onError:a=>{r&&(a.currentTarget.onerror=null,a.currentTarget.src=r)}})}function hve({user:t,onEdit:e,onClose:r}){const n=t?.client||{};function a({label:c,value:d}){return s.jsxs("div",{className:"flex items-center gap-2 test-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:[c," :"]}),s.jsx("span",{className:"text-foreground",children:d??"N/A"})]})}const i=({label:c,value:d,tone:h="neutral"})=>{const m=h==="teal"?"bg-teal-600 text-white":h==="red"?"bg-red-600 text-white":"bg-muted text-foreground";return s.jsxs("div",{className:"flex items-center gap-2 whitespace-nowrap",children:[s.jsx("span",{className:" text-muted-foreground",children:c}),s.jsx("span",{className:`inline-flex items-center justify-center px-2 h-5 rounded text-xs font-semibold leading-none ${m}`,children:d})]})},o=t?.status?"Active":"Inactive";return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-x-10 gap-y-3",children:[s.jsx(a,{label:"ID",value:t?.id}),s.jsx(a,{label:"Username",value:t?.username}),s.jsx(a,{label:"Email",value:t?.email}),s.jsx(a,{label:"Phone Number",value:t?.phone_number}),s.jsx(a,{label:"First Name",value:t?.first_name}),s.jsx(a,{label:"Last Name",value:t?.last_name}),s.jsx(a,{label:"Gender",value:t?.gender}),s.jsx(a,{label:"Birth Date",value:G9(t?.birth_date)}),s.jsx(a,{label:"City",value:t?.city}),s.jsx(a,{label:"Role",value:t?.role}),s.jsx("div",{className:"flex flex-wrap items-center gap-8 pt-1",children:s.jsx(i,{label:"Status:",value:o,tone:t?.status?"teal":"red"})}),s.jsx("div",{className:"flex flex-wrap items-center gap-8 pt-1",children:s.jsx(i,{label:"Verified by Admin:",value:t?.verified_by_admin?"Yes":"No",tone:t?.verified_by_admin?"teal":"red"})}),s.jsx("div",{className:"flex flex-wrap items-center gap-8 pt-1",children:s.jsx(i,{label:"Is Locked:",value:t?.is_locked?"Locked":"Unlocked",tone:t?.is_locked?"red":"teal"})}),s.jsx(a,{label:"Created At",value:j0(t?.created_at)}),s.jsx(a,{label:"Updated At",value:j0(t?.updated_at)})]}),s.jsx("div",{className:"grid grid-cols-2 gap-x-10 gap-y-3",children:s.jsx(a,{label:"Bio",value:t?.bio})}),s.jsx("div",{className:"border-t pt-3"}),s.jsx("div",{className:"text-sm font-semibold",children:"Client Details"}),s.jsxs("div",{className:"grid grid-cols-2 gap-x-10 gap-y-3",children:[s.jsx(a,{label:"License Number",value:n?.license_number}),s.jsx(a,{label:"Profession",value:n?.profession}),s.jsx(a,{label:"Average Salary",value:n?.avg_salary}),s.jsx(a,{label:"Promo Code",value:n?.promo_code})]}),s.jsx("div",{className:"border-t pt-3"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"text-sm font-semibold",children:"Documents"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"Profile Picture"}),s.jsx(cx,{title:"Profile Picture",path:t?.profile_picture,fallback:cve})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"Driver License"}),s.jsx(cx,{title:"Driver License",path:n?.driver_license})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"ID Card Front"}),s.jsx(cx,{title:"ID Card Front",path:t?.id_card_front})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"ID Card Back"}),s.jsx(cx,{title:"ID Card Back",path:t?.id_card_back})]})]})]}),s.jsxs("div",{className:"pt-3 flex gap-2",children:[s.jsx(pe,{className:"flex-1",onClick:e,children:"Edit User"}),s.jsx(pe,{variant:"outline",className:"w-28",onClick:r,children:"Close"})]})]})}function fve({user:t,setUser:e,onClose:r,onSaved:n}){const{toast:a}=Ey(),i=(h,m)=>e(f=>({...f,[h]:m})),o=t?.client||{},c=async()=>{try{const h={verified_by_admin:!!t?.verified_by_admin,status:!!t?.status,is_locked:!!t?.is_locked,update_access:!!t?.update_access},{data:m}=await Oe.put(`/admin/users/${t.id}`,h),f=m.user??m.data??t;a({title:"Saved",description:"User updated successfully"}),n?.(f)}catch{a({title:"Error",description:"Failed to update user",variant:"destructive"})}},d=({label:h,value:m,onChange:f})=>s.jsxs("div",{className:"flex items-center justify-between gap-3 py-2",children:[s.jsx("div",{className:"text-sm",children:h}),s.jsx("button",{type:"button",role:"switch","aria-checked":!!m,onClick:()=>f(!m),className:["relative inline-flex h-5 w-10 items-center rounded-full transition-colors",m?"bg-teal-600":"bg-muted","focus:outline-none focus:ring-2 focus:ring-teal-500/40"].join(" "),children:s.jsx("span",{className:["inline-block h-4 w-4 transform rounded-full bg-white transition-transform",m?"translate-x-5":"translate-x-1","shadow"].join(" ")})})]});return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-x-10 gap-y-3",children:[s.jsxs("div",{children:[s.jsx(de,{children:"ID"}),s.jsx(Se,{value:t?.id??"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Username"}),s.jsx(Se,{value:t?.username??"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Email"}),s.jsx(Se,{value:t?.email??"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Phone Number"}),s.jsx(Se,{value:t?.phone_number??"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"First Name"}),s.jsx(Se,{value:t?.first_name??"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Last Name"}),s.jsx(Se,{value:t?.last_name??"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Gender"}),s.jsx(Se,{value:t?.gender??"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Birth Date"}),s.jsx(Se,{value:G9(t?.birth_date),disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"City"}),s.jsx(Se,{value:t?.city??"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Role"}),s.jsx(Se,{value:t?.role??"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Created At"}),s.jsx(Se,{value:j0(t?.created_at),disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Updated At"}),s.jsx(Se,{value:j0(t?.updated_at),disabled:!0})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx(de,{children:"Bio"}),s.jsx("textarea",{className:"w-full border rounded-md p-2 min-h-[90px]",value:t?.bio??"",disabled:!0})]})]}),s.jsx("div",{className:"border-t pt-3"}),s.jsx("div",{className:"text-sm font-semibold",children:"Client Details (Read-only)"}),s.jsxs("div",{className:"grid grid-cols-2 gap-x-10 gap-y-3",children:[s.jsxs("div",{children:[s.jsx(de,{children:"License Number"}),s.jsx(Se,{value:o?.license_number??"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Profession"}),s.jsx(Se,{value:o?.profession??"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Average Salary"}),s.jsx(Se,{value:o?.avg_salary??"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Promo Code"}),s.jsx(Se,{value:o?.promo_code??"",disabled:!0})]})]}),s.jsx("div",{className:"border-t pt-3"}),s.jsx("div",{className:"text-sm font-semibold",children:"Editable Fields"}),s.jsxs("div",{className:"rounded-md border p-3 space-y-1",children:[s.jsx(d,{label:"Verified by Admin",value:t?.verified_by_admin,onChange:h=>i("verified_by_admin",h)}),s.jsx(d,{label:"Status (Active)",value:t?.status,onChange:h=>i("status",h)}),s.jsx(d,{label:"Is Locked",value:t?.is_locked,onChange:h=>i("is_locked",h)}),s.jsx(d,{label:"Update Access Allow Profile Updates",value:t?.update_access,onChange:h=>i("update_access",h)})]}),s.jsxs("div",{className:"pt-3 flex gap-2 justify-end",children:[s.jsx(pe,{className:"w-36",onClick:c,children:"Update User"}),s.jsx(pe,{variant:"outline",className:"w-28",onClick:r,children:"Cancel"})]})]})}const dx=20,mve=[{value:"all",label:"All Status"},{value:"available",label:"Available"},{value:"not_available",label:"Not Available"},{value:"rented",label:"Rented"},{value:"maintenance",label:"Maintenance"}],pve=[{value:"all",label:"All"},{value:"true",label:"Accepted"},{value:"false",label:"Not Accepted"}],gve=[{value:"all",label:"All"},{value:"true",label:"Private"},{value:"false",label:"Public"}],xve=()=>{const[t]=XV(),[e,r]=j.useState([]),[n,a]=j.useState({current_page:1,last_page:1,per_page:dx,total:0}),[i,o]=j.useState(!0),[c,d]=j.useState(1),[h,m]=j.useState("all"),[f,g]=j.useState("all"),[y,v]=j.useState("all"),[w,_]=j.useState(""),[b,N]=j.useState("");j.useEffect(()=>{const je=t.get("agent_id");je!=null&&je!==""&&_(je)},[t]);const[k,S]=j.useState([]),[C,I]=j.useState([]),[E,U]=j.useState("newest"),[T,ne]=j.useState(!1),[q,F]=j.useState(null),[Y,O]=j.useState(!1),[se,X]=j.useState(""),{toast:M}=Ey(),[K,z]=j.useState(null),[he,V]=j.useState({open:!1,title:"",message:"",onConfirm:null}),[W,le]=j.useState(""),[oe,ve]=j.useState(""),[me,$]=j.useState(""),[H,fe]=j.useState(""),Z=j.useCallback(async()=>{o(!0);try{const je={per_page:dx,page:c,...h&&h!=="all"&&{status:h},...f&&f!=="all"&&{car_accepted:f},...y&&y!=="all"&&{is_private:y},...w&&{agent_id:Number(w)}},Ae=await yI(je),Be=Ae.data||Ae,et=Array.isArray(Be.cars)?Be.cars:Be.cars?.data??[],lt=Be.meta||Be.cars&&{total:Be.cars.total,current_page:Be.cars.current_page??c,last_page:Be.cars.last_page??1,per_page:Be.cars.per_page??dx}||n;r(et),a(gt=>({...gt,...lt,total:lt.total??gt.total,current_page:lt.current_page??c,last_page:lt.last_page??gt.last_page,per_page:lt.per_page??dx}))}catch(je){je.response?.status===403?M({title:"Access denied",description:"Super admin access required",variant:"destructive"}):je.response?.status===401?M({title:"Unauthorized",description:"Please log in again",variant:"destructive"}):(console.error("Failed to load cars",je),M({title:"Error",description:"Failed to load cars",variant:"destructive"}))}finally{o(!1)}},[c,h,f,y,w,b]);j.useEffect(()=>{Z()},[Z]);const ee=async je=>{try{const Ae=await Xxe(je),Be=Ae.data||Ae;return Be?.car??Be??null}catch(Ae){return Ae.response?.status===403?M({title:"Access denied",description:"Super admin access required",variant:"destructive"}):Ae.response?.status===404?M({title:"Full details unavailable",description:"Showing list data (GET /admin/cars/{id} returned 404).",variant:"destructive"}):M({title:"Error",description:"Failed to fetch car details",variant:"destructive"}),null}},J=je=>{F(je),X("view-car"),O(!0),ee(je.id).then(Ae=>{Ae&&F(Ae)})},ke=je=>{F(je),z({...je}),X("edit-car"),O(!0),ee(je.id).then(Ae=>{Ae&&(F(Ae),z({...Ae}))})},L="/car-avatar.png",Te=j.useMemo(()=>`${"https://rento-lb.com/api/api".trim().replace(/\/+$/,"").replace(/\/api\/api\/?$/,"")}/api/storage/`,[]),Q=je=>{if(!je)return null;if(je.startsWith("http"))return je;const Ae=je.startsWith("/")?je.slice(1):je;return`${Te}${Ae}`},R=je=>Q(je)||L,P=(je,Ae,Be)=>{V({open:!0,title:je,message:Ae,onConfirm:Be})},G=async je=>{try{const Ae=await $3(je.id,!0),Be=Ae.data||Ae,et=Be?.car??Be??{...je,car_accepted:!0};r(lt=>lt.map(gt=>gt.id===je.id?{...gt,car_accepted:!0}:gt)),q?.id===je.id&&F(et),K?.id===je.id&&z(et),M({title:"Success",description:"Car accepted successfully"})}catch(Ae){Ae.response?.status===403?M({title:"Access denied",description:"Super admin access required",variant:"destructive"}):M({title:"Error",description:Ae.response?.data?.message||"Failed to accept car",variant:"destructive"})}},ye=async je=>{try{const Ae=await $3(je.id,!1),Be=Ae.data||Ae,et=Be?.car??Be??{...je,car_accepted:!1};r(lt=>lt.map(gt=>gt.id===je.id?{...gt,car_accepted:!1}:gt)),q?.id===je.id&&F(et),K?.id===je.id&&z(et),M({title:"Success",description:"Car rejected successfully"})}catch(Ae){Ae.response?.status===403?M({title:"Access denied",description:"Super admin access required",variant:"destructive"}):M({title:"Error",description:Ae.response?.data?.message||"Failed to reject car",variant:"destructive"})}},ce=async je=>{try{await Zxe(je),M({title:"Success",description:"Car deleted successfully"}),Z(),O(!1)}catch{M({title:"Error",description:"Failed to delete car",variant:"destructive"})}},ue=je=>{if(je==null||je==="")return NaN;if(typeof je=="number")return je;const Ae=String(je).replace(/[^0-9.]/g,""),Be=Number(Ae);return Number.isNaN(Be)?NaN:Be},De=j.useMemo(()=>{let je=[...e];if(b&&b.trim()){const gt=b.toLowerCase().trim();je=je.filter(_t=>JSON.stringify(_t).toLowerCase().includes(gt))}k.length>0&&(je=je.filter(gt=>k.includes(gt.car_category))),C.length>0&&(je=je.filter(gt=>C.includes(gt.status)));const Ae=W?Number(W):null,Be=oe?Number(oe):null;(Ae!==null||Be!==null)&&(je=je.filter(gt=>{const _t=Number(gt.year);return!(Number.isNaN(_t)||Ae!==null&&_t<Ae||Be!==null&&_t>Be)}));const et=me!==""?ue(me):null,lt=H!==""?ue(H):null;return(et!==null||lt!==null)&&(je=je.filter(gt=>{const _t=ue(gt.daily_rate);return!(Number.isNaN(_t)||et!==null&&!Number.isNaN(et)&&_t<et||lt!==null&&!Number.isNaN(lt)&&_t>lt)})),E==="newest"&&je.sort((gt,_t)=>new Date(_t.created_at)-new Date(gt.created_at)),E==="price"&&je.sort((gt,_t)=>{const Ht=ue(gt.daily_rate),Yt=ue(_t.daily_rate);return Number.isNaN(Ht)&&Number.isNaN(Yt)?0:Number.isNaN(Ht)?1:Number.isNaN(Yt)?-1:Ht-Yt}),(E==="year_asc"||E==="year_desc")&&je.sort((gt,_t)=>{const Ht=Number(gt.year),Yt=Number(_t.year);return Number.isNaN(Ht)&&Number.isNaN(Yt)?0:Number.isNaN(Ht)?1:Number.isNaN(Yt)?-1:E==="year_asc"?Ht-Yt:Yt-Ht}),(E==="views_asc"||E==="views_desc")&&je.sort((gt,_t)=>{const Ht=Number(gt.views_count),Yt=Number(_t.views_count);return Number.isNaN(Ht)&&Number.isNaN(Yt)?0:Number.isNaN(Ht)?1:Number.isNaN(Yt)?-1:E==="views_asc"?Ht-Yt:Yt-Ht}),je},[e,b,k,C,E,W,oe,me,H]);return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h1",{className:"text-2xl font-bold",children:"Cars"})}),s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsxs("div",{className:"relative w-full sm:w-72",children:[s.jsx(Fr,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(Se,{placeholder:"Search make, model, plate, color...",className:"pl-9 h-9",value:b,onChange:je=>{N(je.target.value),d(1)}})]}),s.jsx(Se,{type:"number",placeholder:"Agent ID",className:"h-9 w-[100px]",value:w,onChange:je=>{_(je.target.value),d(1)},min:1}),s.jsxs(ft,{value:h,onValueChange:je=>{m(je),d(1)},children:[s.jsx(ut,{className:"h-9 w-[140px]",children:s.jsx(mt,{placeholder:"Status"})}),s.jsx(ht,{children:mve.map(je=>s.jsx(Ce,{value:je.value,children:je.label},je.value))})]}),s.jsxs(ft,{value:f,onValueChange:je=>{g(je),d(1)},children:[s.jsx(ut,{className:"h-9 w-[130px]",children:s.jsx(mt,{placeholder:"Accepted"})}),s.jsx(ht,{children:pve.map(je=>s.jsx(Ce,{value:je.value,children:je.label},je.value))})]}),s.jsxs(ft,{value:y,onValueChange:je=>{v(je),d(1)},children:[s.jsx(ut,{className:"h-9 w-[110px]",children:s.jsx(mt,{placeholder:"Visibility"})}),s.jsx(ht,{children:gve.map(je=>s.jsx(Ce,{value:je.value,children:je.label},je.value))})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Gt,{className:"h-4 w-4"}),s.jsx("span",{className:"font-semibold text-foreground",children:n.total}),s.jsx("span",{children:"cars"})]}),s.jsx(pe,{variant:"outline",size:"sm",onClick:()=>ne(je=>!je),children:"More filters"})]})]}),T&&s.jsx("div",{className:"mt-3 rounded-lg border bg-background p-3",children:s.jsxs("div",{className:"flex flex-wrap gap-3 items-end",children:[s.jsxs(ft,{value:E,onValueChange:U,children:[s.jsx(ut,{className:"h-9 w-[180px]",children:s.jsx(mt,{placeholder:"Sort"})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"newest",children:"Newest"}),s.jsx(Ce,{value:"price",children:"Price "}),s.jsx(Ce,{value:"year_asc",children:"Year "}),s.jsx(Ce,{value:"year_desc",children:"Year "}),s.jsx(Ce,{value:"views_asc",children:"Views "}),s.jsx(Ce,{value:"views_desc",children:"Views "})]})]}),s.jsxs(ft,{value:k[0]??"all",onValueChange:je=>S(je==="all"?[]:[je]),children:[s.jsx(ut,{className:"h-9 w-[160px]",children:s.jsx(mt,{placeholder:"Category"})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"all",children:"All Categories"}),s.jsx(Ce,{value:"normal",children:"Normal"}),s.jsx(Ce,{value:"luxury",children:"Luxury"}),s.jsx(Ce,{value:"sport",children:"Sport"})]})]}),s.jsxs(ft,{value:C[0]??"all",onValueChange:je=>I(je==="all"?[]:[je]),children:[s.jsx(ut,{className:"h-9 w-[150px]",children:s.jsx(mt,{placeholder:"Status"})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"all",children:"All Status"}),s.jsx(Ce,{value:"available",children:"Available"}),s.jsx(Ce,{value:"reserved",children:"Reserved"})]})]}),s.jsx(Se,{type:"number",placeholder:"Year from",className:"h-9 w-[120px]",value:W,onChange:je=>le(je.target.value)}),s.jsx(Se,{type:"number",placeholder:"Year to",className:"h-9 w-[120px]",value:oe,onChange:je=>ve(je.target.value)}),s.jsx(Se,{type:"number",placeholder:"Rate from",className:"h-9 w-[120px]",value:me,onChange:je=>$(je.target.value)}),s.jsx(Se,{type:"number",placeholder:"Rate to",className:"h-9 w-[120px]",value:H,onChange:je=>fe(je.target.value)})]})}),i?s.jsx("p",{className:"text-muted-foreground",children:"Loading cars..."}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-5 gap-4",children:De.map(je=>s.jsxs("div",{className:`
  border rounded-lg p-3 transition-all duration-300
  ${je.car_accepted?"bg-green-500/10 border-green-500/40 hover:bg-green-500/20 shadow-[0_0_10px_rgba(34,197,94,0.4)]":"bg-red-500/10 border-red-500/40 hover:bg-red-500/20 shadow-[0_0_10px_rgba(239,68,68,0.4)]"}
`,children:[s.jsxs("div",{className:"relative h-36 mb-2 overflow-hidden rounded-md",children:[s.jsx("img",{src:R(je.main_image_url),alt:je.make,className:"w-full h-full object-cover"}),s.jsxs("div",{className:"absolute bottom-2 right-2 z-20 flex flex-col items-end gap-0.5",children:[je.agent?.profile_picture?s.jsx("img",{src:je.agent.profile_picture.startsWith("http")?je.agent.profile_picture:`https://rento-lb.com/api/storage/${je.agent.profile_picture.replace(/^\/?storage\//,"")}`,alt:je.agent?.username,className:"w-8 h-8 rounded-full border-2 border-white shadow-md bg-white object-cover",onError:Ae=>{Ae.currentTarget.onerror=null,Ae.currentTarget.src="/avatar.png"}}):s.jsx("div",{className:"w-8 h-8 rounded-full border-2 border-white shadow-md bg-muted flex items-center justify-center",children:s.jsx(Gt,{className:"w-4 h-4 text-muted-foreground"})}),je.agent?.username!=null&&je.agent.username!==""&&s.jsxs("span",{className:"text-[10px] font-medium text-white drop-shadow-[0_1px_2px_rgba(0,0,0,0.8)] bg-black/50 px-1.5 py-0.5 rounded max-w-[80px] truncate",title:je.agent.username,children:["@",je.agent.username]})]})]}),s.jsxs("h3",{className:"font-semibold text-sm",children:[je.make," ",je.model]}),s.jsxs("div",{className:"text-xs text-muted-foreground mt-1 space-y-1",children:[s.jsxs("div",{children:["Year: ",je.year]}),s.jsxs("div",{children:["Rate: $",je.daily_rate]}),s.jsxs("div",{children:["Agent: ",je.agent?.username||""]}),s.jsxs("div",{children:["Views: ",je.views_count]})]}),s.jsxs("div",{className:"mt-2 flex flex-wrap gap-1",children:[s.jsx(We,{variant:"outline",children:je.car_category}),je.status==="available"&&s.jsx(We,{className:"bg-green-600",children:"Available"}),je.car_accepted?s.jsx(We,{className:"bg-green-500/20 text-green-700 border-green-500/40",children:"Accepted"}):s.jsx(We,{className:"bg-red-500/20 text-red-700 border-red-500/40",children:"Rejected"})]}),s.jsxs("div",{className:"flex items-center justify-between mt-3",children:[s.jsxs("div",{className:"flex gap-1",children:[s.jsx(pe,{size:"icon",variant:"ghost",onClick:()=>J(je),children:s.jsx(sr,{className:"w-4 h-4"})}),s.jsx(pe,{size:"icon",variant:"ghost",onClick:()=>ke(je),children:s.jsx(br,{className:"w-4 h-4"})}),s.jsx(pe,{size:"icon",variant:"ghost",onClick:()=>P("Delete Car","Are you sure you want to delete this car?",()=>ce(je.id)),children:s.jsx(Xs,{className:"w-4 h-4 text-red-500"})})]}),je.car_accepted?s.jsx(pe,{size:"sm",variant:"outline",className:"h-7 text-xs",onClick:()=>ye(je),children:"Reject"}):s.jsx(pe,{size:"sm",className:"h-7 text-xs",onClick:()=>G(je),children:"Accept"})]})]},je.id))}),De.length===0&&s.jsx("div",{className:"text-center text-muted-foreground mt-10",children:"No cars found"}),n.last_page>1&&s.jsxs("div",{className:"flex flex-col items-center gap-3 mt-10",children:[s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing page ",s.jsx("span",{className:"font-semibold text-foreground",children:n.current_page})," ","of ",s.jsx("span",{className:"font-semibold text-foreground",children:n.last_page})," ","(",n.total," cars)"]}),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap justify-center",children:[s.jsx(pe,{variant:"outline",size:"sm",disabled:n.current_page<=1,onClick:()=>d(je=>je-1),children:s.jsx(Yo,{size:16})}),Array.from({length:n.last_page},(je,Ae)=>Ae+1).filter(je=>je===1||je===n.last_page||Math.abs(je-n.current_page)<=2).map((je,Ae,Be)=>s.jsx(pe,{size:"sm",variant:je===n.current_page?"default":"outline",onClick:()=>d(je),children:je},je)),s.jsx(pe,{variant:"outline",size:"sm",disabled:n.current_page>=n.last_page,onClick:()=>d(je=>je+1),children:s.jsx(pn,{size:16})})]})]})]}),s.jsx(Kr,{open:Y,onOpenChange:O,children:s.jsxs(Br,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[s.jsx(Ir,{children:s.jsx(zr,{children:se==="view-car"?"Car Details":"Edit Car"})}),q?se==="view-car"?s.jsx(yve,{car:q,imgUrl:R,getStorageUrl:Q,onEdit:()=>{z({...q}),X("edit-car")},onClose:()=>O(!1),onAccept:()=>G(q),onReject:()=>ye(q)}):K&&s.jsx(vve,{car:K,setCar:z,imgUrl:R,onClose:()=>X("view-car"),onSaved:je=>{F(je),z({...je}),X("view-car")}}):s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})})]})};function yve({car:t,imgUrl:e,getStorageUrl:r,onEdit:n,onClose:a,onAccept:i,onReject:o}){const c=t?.agent||null,d=f=>{if(!f)return"N/A";const g=Number(f);return Number.isNaN(g)?f:`$${g.toFixed(2)}`},h=({label:f,value:g})=>s.jsxs("div",{className:"flex flex-col",children:[s.jsx("span",{className:"text-xs text-muted-foreground uppercase tracking-wide",children:f}),s.jsx("span",{className:"text-sm font-medium text-foreground",children:g??"N/A"})]}),m=({value:f})=>f?s.jsx(We,{className:"bg-green-500/20 text-green-700 border-green-500/40",children:"Yes"}):s.jsx(We,{className:"bg-red-500/20 text-red-700 border-red-500/40",children:"No"});return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"relative rounded-xl overflow-hidden border",children:[s.jsx("img",{src:e(t.main_image_url),alt:t.make,className:"w-full h-[260px] object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),s.jsxs("div",{className:"absolute bottom-4 left-6 text-white",children:[s.jsxs("h2",{className:"text-2xl font-bold",children:[t.make," ",t.model]}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(We,{className:"bg-white/20 backdrop-blur text-white",children:t.car_category}),t.car_accepted?s.jsx(We,{className:"bg-green-600",children:"Accepted"}):s.jsx(We,{className:"bg-red-600",children:"Rejected"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-6 p-4 rounded-xl border bg-background shadow-sm",children:[s.jsx(h,{label:"Year",value:t.year}),s.jsx(h,{label:"Color",value:t.color}),s.jsx(h,{label:"Transmission",value:t.transmission}),s.jsx(h,{label:"Fuel Type",value:t.fuel_type}),s.jsx(h,{label:"Seats",value:t.seats}),s.jsx(h,{label:"Doors",value:t.doors}),s.jsx(h,{label:"Daily Rate",value:d(t.daily_rate)}),s.jsx(h,{label:"Status",value:t.status})]}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"rounded-xl border p-4 space-y-3 bg-background shadow-sm",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Car Information"}),s.jsx(h,{label:"License Plate",value:t.license_plate}),s.jsx(h,{label:"Mileage",value:t.mileage}),s.jsx(h,{label:"Cylinder",value:t.cylinder_number}),s.jsx(h,{label:"Min Rental Days",value:t.min_rental_days}),s.jsxs("div",{className:"flex gap-4 pt-2",children:[s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Accepted"}),s.jsx(m,{value:t.car_accepted})]}),s.jsxs("div",{children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:"Private"}),s.jsx(m,{value:t.is_private})]})]})]}),s.jsxs("div",{className:"rounded-xl border p-4 space-y-3 bg-background shadow-sm",children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Agent"}),s.jsx(h,{label:"Username",value:c?.username}),s.jsx(h,{label:"Phone",value:c?.phone_number}),s.jsx(h,{label:"Email",value:c?.email}),s.jsx(h,{label:"City",value:c?.city})]})]}),t.features?.length>0&&s.jsxs("div",{className:"rounded-xl border p-4 bg-background shadow-sm",children:[s.jsx("h3",{className:"font-semibold mb-3",children:"Features"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:t.features.map((f,g)=>s.jsx(We,{variant:"outline",children:typeof f=="string"?f:f.name},g))})]}),t.notes&&s.jsxs("div",{className:"rounded-xl border p-4 bg-background shadow-sm",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"Notes"}),s.jsx("p",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:t.notes})]}),s.jsxs("div",{className:"flex gap-3 pt-4",children:[!t.car_accepted&&s.jsx(pe,{className:"bg-green-600 hover:bg-green-700",onClick:i,children:"Accept Car"}),t.car_accepted&&s.jsx(pe,{variant:"destructive",onClick:o,children:"Reject Car"}),s.jsx(pe,{className:"flex-1",onClick:n,children:"Edit Car"}),s.jsx(pe,{variant:"outline",onClick:a,children:"Close"})]})]})}const bve=[{type:"main",label:"Main",fullKey:"main_image_full_url",pathKey:"main_image_url"},{type:"front",label:"Front",fullKey:"front_image_full_url",pathKey:"front_image_url"},{type:"back",label:"Back",fullKey:"back_image_full_url",pathKey:"back_image_url"},{type:"left",label:"Left",fullKey:"left_image_full_url",pathKey:"left_image_url"},{type:"right",label:"Right",fullKey:"right_image_full_url",pathKey:"right_image_url"}];function vve({car:t,setCar:e,imgUrl:r,onClose:n,onSaved:a}){const{toast:i}=Ey(),[o,c]=j.useState(null),d=ot.useRef({}),h=(N,k)=>e(S=>({...S,[N]:k})),m=(N,k)=>{const S=t?.[N];return S||r(t?.[k])},f=async(N,k)=>{if(!(!k||!t?.id)){c(N);try{const S=await Qxe(t.id,k,N),C=S.data||S,I=C?.car??C??t;e(I),i({title:"Image updated",description:`${N} image replaced successfully`})}catch(S){const C=S.response?.data?.errors?.image?.[0]||S.response?.data?.message||"Failed to replace image";i({title:"Error",description:C,variant:"destructive"})}finally{c(null),d.current[N]&&(d.current[N].value="")}}},g=N=>{if(N==null||N==="")return"";const k=Number(N);return Number.isNaN(k)?N:k},y=N=>!Array.isArray(N)||N.length===0?s.jsx("div",{className:"text-sm text-muted-foreground",children:"N/A"}):s.jsx("div",{className:"flex flex-wrap gap-2",children:N.map((k,S)=>s.jsx(We,{variant:"outline",children:typeof k=="string"?k:k?.name??JSON.stringify(k)},S))}),v=({label:N,value:k,onChange:S})=>s.jsxs("div",{className:"flex items-center justify-between gap-3 py-2",children:[s.jsx("div",{className:"text-sm",children:N}),s.jsx("button",{type:"button",role:"switch","aria-checked":!!k,onClick:()=>S(!k),className:["relative inline-flex h-5 w-10 items-center rounded-full transition-colors",k?"bg-teal-600":"bg-muted","focus:outline-none focus:ring-2 focus:ring-teal-500/40"].join(" "),children:s.jsx("span",{className:["inline-block h-4 w-4 transform rounded-full bg-white transition-transform",k?"translate-x-5":"translate-x-1","shadow"].join(" ")})})]});function w({label:N,field:k,type:S="text",disabled:C=!1}){return s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:N}),s.jsx(Se,{type:S,value:t?.[k]??"",onChange:I=>h(k,S==="number"?I.target.value===""?"":Number(I.target.value):I.target.value),disabled:C})]})}function _({label:N,field:k,options:S,emptySentinel:C}){const I=t?.[k],E=C?(I??"")||C:String(I??""),U=T=>h(k,C&&T===C?"":T);return s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:N}),s.jsxs(ft,{value:E,onValueChange:U,children:[s.jsx(ut,{children:s.jsx(mt,{placeholder:"Select..."})}),s.jsx(ht,{children:S.map(T=>{const ne=T.value===""||T.value==null?C||"__none__":String(T.value);return s.jsx(Ce,{value:ne,children:T.label},ne)})})]})]})}const b=async()=>{try{const N={make:t.make,model:t.model,year:t.year,cylinder_number:t.cylinder_number==="__none__"||t.cylinder_number===""?void 0:t.cylinder_number,license_plate:t.license_plate,color:t.color,mileage:t.mileage,fuel_type:t.fuel_type,transmission:t.transmission,wheels_drive:t.wheels_drive,car_category:t.car_category,seats:t.seats,doors:t.doors,daily_rate:g(t.daily_rate),holiday_rate:g(t.holiday_rate),is_deposit:!!t.is_deposit,deposit:g(t.deposit),status:t.status,car_accepted:!!t.car_accepted,is_private:!!t.is_private,is_delivered:!!t.is_delivered,delivery_fees:g(t.delivery_fees),with_driver:!!t.with_driver,driver_fees:g(t.driver_fees),max_driving_mileage:t.max_driving_mileage!=null&&t.max_driving_mileage!==""?Number(t.max_driving_mileage):void 0,min_rental_days:t.min_rental_days,notes:t.notes,agent_id:t.agent_id!=null&&t.agent_id!==""?Number(t.agent_id):void 0,insurance_expiry:t.insurance_expiry||void 0,registration_expiry:t.registration_expiry||void 0,views_count:t.views_count!=null&&t.views_count!==""?Number(t.views_count):void 0,clicks_count:t.clicks_count!=null&&t.clicks_count!==""?Number(t.clicks_count):void 0,search_count:t.search_count!=null&&t.search_count!==""?Number(t.search_count):void 0},k=await bI(t.id,N),S=k.data||k,C=S?.car??S??t;i({title:"Saved",description:"Car updated successfully"}),a?.(C)}catch(N){if(N.response?.status===422&&N.response?.data?.errors){const k=Object.entries(N.response.data.errors).map(([S,C])=>`${S}: ${(C||[]).join(", ")}`).join("; ");i({title:"Validation Error",description:k||"Invalid data",variant:"destructive"})}else i({title:"Error",description:"Failed to update car",variant:"destructive"})}};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-10 gap-y-3",children:[s.jsx(w,{label:"ID",field:"id",disabled:!0}),s.jsx(w,{label:"Make",field:"make"}),s.jsx(w,{label:"Model",field:"model"}),s.jsx(w,{label:"Year",field:"year",type:"number"}),s.jsx(_,{label:"Cylinder",field:"cylinder_number",emptySentinel:"__none__",options:[{label:"",value:""},{label:"4",value:"4"},{label:"6",value:"6"},{label:"8",value:"8"},{label:"10",value:"10"},{label:"12",value:"12"}]}),s.jsx(w,{label:"License Plate",field:"license_plate"}),s.jsx(w,{label:"Color",field:"color"}),s.jsx(w,{label:"Mileage",field:"mileage",type:"number"}),s.jsx(w,{label:"Fuel Type",field:"fuel_type"}),s.jsx(w,{label:"Transmission",field:"transmission"}),s.jsx(w,{label:"Wheels Drive",field:"wheels_drive"}),s.jsx(w,{label:"Category",field:"car_category"}),s.jsx(w,{label:"Seats",field:"seats",type:"number"}),s.jsx(w,{label:"Doors",field:"doors",type:"number"}),s.jsx(w,{label:"Daily Rate",field:"daily_rate",type:"number"}),s.jsx(w,{label:"Holiday Rate",field:"holiday_rate",type:"number"}),s.jsx(w,{label:"Deposit",field:"deposit",type:"number"}),s.jsx(w,{label:"Delivery Fees",field:"delivery_fees",type:"number"}),s.jsx(w,{label:"Driver Fees",field:"driver_fees",type:"number"}),s.jsx(w,{label:"Min Rental Days",field:"min_rental_days",type:"number"}),s.jsx(w,{label:"Max Driving Mileage",field:"max_driving_mileage",type:"number"}),s.jsx(w,{label:"Agent ID (reassign owner)",field:"agent_id",type:"number"}),s.jsx(w,{label:"Insurance Expiry",field:"insurance_expiry",type:"date"}),s.jsx(w,{label:"Registration Expiry",field:"registration_expiry",type:"date"}),s.jsx(w,{label:"Views Count",field:"views_count",type:"number"}),s.jsx(w,{label:"Clicks Count",field:"clicks_count",type:"number"}),s.jsx(w,{label:"Search Count",field:"search_count",type:"number"})]}),s.jsx("div",{className:"border-t pt-3"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-sm font-semibold",children:"Features"}),y(t?.features)]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-sm font-semibold",children:"Add-ons"}),y(t?.add_ons)]}),s.jsx("div",{className:"border-t pt-3"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"text-sm font-semibold",children:"Car Images"}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"Main"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx("input",{ref:N=>d.current.main=N,type:"file",accept:"image/jpeg,image/jpg,image/png",className:"hidden",onChange:N=>{const k=N.target.files?.[0];k&&f("main",k)}}),s.jsx(pe,{type:"button",variant:"outline",size:"sm",disabled:o==="main",onClick:()=>d.current.main?.click(),children:o==="main"?"Uploading":"Replace"})]})]}),s.jsx("a",{href:m("main_image_full_url","main_image_url"),target:"_blank",rel:"noreferrer",children:s.jsx("img",{src:m("main_image_full_url","main_image_url"),alt:"Main",className:"w-full max-h-[260px] object-cover rounded-md border"})})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:bve.filter(N=>N.type!=="main").map(({type:N,label:k,fullKey:S,pathKey:C})=>s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between gap-1",children:[s.jsx("span",{className:"text-muted-foreground",children:k}),s.jsx("input",{ref:I=>d.current[N]=I,type:"file",accept:"image/jpeg,image/jpg,image/png",className:"hidden",onChange:I=>{const E=I.target.files?.[0];E&&f(N,E)}}),s.jsx(pe,{type:"button",variant:"outline",size:"sm",className:"h-7 px-1",disabled:o===N,onClick:()=>d.current[N]?.click(),children:o===N?"":"Replace"})]}),s.jsx("a",{href:m(S,C),target:"_blank",rel:"noreferrer",children:s.jsx("img",{src:m(S,C),alt:k,className:"h-[120px] w-full object-cover rounded-md border"})})]},N))})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(_,{label:"Status",field:"status",options:[{label:"Available",value:"available"},{label:"Not Available",value:"not_available"},{label:"Rented",value:"rented"},{label:"Maintenance",value:"maintenance"}]}),s.jsx("div",{className:"text-sm font-semibold",children:"Notes"}),s.jsx("textarea",{className:"w-full border rounded-md p-2 min-h-[90px]",value:t?.notes??"",onChange:N=>h("notes",N.target.value)})]}),s.jsx(v,{label:"Car Accepted",value:t?.car_accepted,onChange:N=>h("car_accepted",N?1:0)}),s.jsx(v,{label:"Is Private",value:t?.is_private,onChange:N=>h("is_private",N?1:0)}),s.jsx(v,{label:"Is Deposit",value:t?.is_deposit,onChange:N=>h("is_deposit",N?1:0)}),s.jsx(v,{label:"With Driver",value:t?.with_driver,onChange:N=>h("with_driver",N?1:0)}),s.jsx(v,{label:"Is Delivered",value:t?.is_delivered,onChange:N=>h("is_delivered",N?1:0)}),s.jsxs("div",{className:"pt-3 flex gap-2",children:[s.jsx(pe,{className:"flex-1",onClick:b,children:"Update Car"}),s.jsx(pe,{variant:"outline",className:"w-28",onClick:n,children:"Cancel"})]})]})}const wve={pending:"bg-yellow-100 text-yellow-700",confirmed:"bg-green-100 text-green-700",cancelled:"bg-red-100 text-red-700",completed:"bg-blue-100 text-blue-700",rejected:"bg-gray-200 text-gray-700"};function jve(t,e=14){return t?t.length>e?`${t.slice(0,e)}...`:t:"N/A"}function _ve(){const[t,e]=j.useState([]),[r,n]=j.useState({}),[a,i]=j.useState(!1),[o,c]=j.useState(""),[d,h]=j.useState([]),[m,f]=j.useState("newest"),[g,y]=j.useState("all"),[v,w]=j.useState(!1),[_,b]=j.useState(null),[N,k]=j.useState(!1),[S,C]=j.useState(null),[I,E]=j.useState(null),[U,T]=j.useState(!1),[ne,q]=j.useState(""),F=async()=>{i(!0);try{const oe={page:1,per_page:50},{data:ve}=await Oe.get("/admin/bookings",{params:oe}),me=ve.bookings?.data||[];e(me),me.forEach($=>{r[$.client_id]||Y($.client_id)})}catch(oe){console.error(oe)}finally{i(!1)}},Y=async oe=>{try{const{data:ve}=await Oe.get(`/admin/users/${oe}`),me=ve.user?.first_name&&ve.user?.last_name?`${ve.user.first_name} ${ve.user.last_name}`:ve.user?.username||`User #${oe}`;n($=>({...$,[oe]:me}))}catch{n(ve=>({...ve,[oe]:`User #${oe}`}))}};j.useEffect(()=>{F()},[]);const O=async oe=>{try{const{data:ve}=await Oe.get(`/admin/bookings/${oe}`);return ve.booking??ve.data??ve}catch{return be({title:"Error",description:"Failed to fetch booking details",variant:"destructive"}),null}},se=j.useMemo(()=>{let oe=[...t];if(o){const ve=o.toLowerCase().trim();oe=oe.filter(me=>{const $=(r[me.client_id]??"").toLowerCase(),H=(me.car?.make??"").toLowerCase(),fe=(me.car?.model??"").toLowerCase(),Z=`${H} ${fe}`.trim(),ee=(me.car?.agent?.username??"").toLowerCase();return[me.id,me.client_id,me.car_id,$,H,fe,Z,ee].join(" ").toLowerCase().includes(ve)})}return d.length>0&&(oe=oe.filter(ve=>d.includes(ve.booking_request_status))),g!=="all"&&(oe=oe.filter(ve=>(ve.payment_status??"").toLowerCase()===g)),oe.sort((ve,me)=>{if(m==="newest"){const $=new Date(ve.created_at??0).getTime(),H=new Date(me.created_at??0).getTime();return H!==$?H-$:Number(me.id)-Number(ve.id)}if(m==="client_az"||m==="client_za"){const $=(r[ve.client_id]??"").toLowerCase(),H=(r[me.client_id]??"").toLowerCase();return $<H?m==="client_az"?-1:1:$>H?m==="client_az"?1:-1:Number(me.id)-Number(ve.id)}return m==="total_high"?Number(me.total_booking_price||0)-Number(ve.total_booking_price||0):m==="total_low"?Number(ve.total_booking_price||0)-Number(me.total_booking_price||0):0}),oe},[t,o,r,d,g,m]),X=j.useMemo(()=>se.reduce((oe,ve)=>oe+Number(ve.total_booking_price||0),0),[se]),M=j.useMemo(()=>{const oe={pending:0,confirmed:0,cancelled:0,completed:0,rejected:0};for(const ve of t){const me=(ve.booking_request_status??"").toLowerCase();oe[me]!==void 0&&(oe[me]+=1)}return oe},[t]),K=oe=>{C({...oe}),k(!0)},z=async()=>{try{const oe={booking_request_status:S.booking_request_status,payment_status:S.payment_status,payment_method:S.payment_method,total_booking_price:S.total_booking_price,extra_charge:S.extra_charge,with_driver:S.with_driver,is_delivered:S.is_delivered,start_datetime:S.start_datetime,end_datetime:S.end_datetime,pickup_location:S.pickup_location,dropoff_location:S.dropoff_location,reason_of_booking:S.reason_of_booking};await Oe.put(`/admin/bookings/${S.id}`,oe),be.success("Booking updated successfully"),k(!1),F()}catch{be.error("Failed to update booking")}},he=async oe=>{await Oe.post(`/admin/bookings/${oe}/force-complete`),F()},V="/avatar.png",W="https://rento-lb.com/api/storage/",le=oe=>{const ve=oe?.client.profile_picture;if(!ve)return V;if(ve.startsWith("http"))return ve;const me=ve.startsWith("/")?ve.slice(1):ve;return W+me};return s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-xl font-semibold",children:"Bookings"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"px-3 py-1.5 rounded-lg border bg-muted text-sm font-semibold",children:[s.jsxs("p",{children:["Total Bookings : ",se.length," "]}),s.jsxs("p",{children:["Total : $",X.toLocaleString()]})]}),s.jsx(Se,{placeholder:"Search client / car / agent  ",className:"h-8 w-44 text-xs",value:o,onChange:oe=>c(oe.target.value)}),s.jsxs(Ue,{className:"p-3",children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:"Status"}),s.jsx("div",{className:"flex flex-wrap gap-4",children:["pending","confirmed","cancelled","completed","rejected"].map(oe=>{const ve=d.includes(oe);return s.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:ve,onChange:me=>{const $=me.target.checked;h(H=>$?[...H,oe]:H.filter(fe=>fe!==oe))}}),s.jsxs("span",{className:"capitalize flex items-center gap-2",children:[oe,s.jsx("span",{className:"inline-flex items-center justify-center h-5 min-w-6 px-2 rounded-full text-[11px] font-semibold bg-muted text-foreground",children:M?.[oe]??0})]})]},oe)})}),d.length>0&&s.jsx("button",{type:"button",className:"mt-2 text-xs text-muted-foreground underline",onClick:()=>h([]),children:"Clear status filter"})]}),s.jsx("div",{className:"w-44",children:s.jsxs(ft,{value:g,onValueChange:y,children:[s.jsx(ut,{className:"h-8 text-xs",children:s.jsx(mt,{placeholder:"Payment status"})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"all",children:"All Payments"}),s.jsx(Ce,{value:"pending",children:"Pending"}),s.jsx(Ce,{value:"paid",children:"Paid"})]})]})}),s.jsx("div",{className:"w-44",children:s.jsxs(ft,{value:m,onValueChange:f,children:[s.jsx(ut,{className:"h-8 text-xs",children:s.jsx(mt,{placeholder:"Sort by"})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"newest",children:"Newest"}),s.jsx(Ce,{value:"client_az",children:"Client A - Z"}),s.jsx(Ce,{value:"client_za",children:"Client Z - A"}),s.jsx(Ce,{value:"total_high",children:"Total High  Low"}),s.jsx(Ce,{value:"total_low",children:"Total Low  High"})]})]})}),s.jsx(pe,{size:"icon",variant:"ghost","aria-label":"Refresh",onClick:F,children:s.jsx(Tt,{size:16})})]})]}),s.jsx("div",{className:"rounded-xl border",children:s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Client"}),s.jsx(_e,{children:"Car"}),s.jsx(_e,{children:"Agent"}),s.jsx(_e,{children:"Status"}),s.jsx(_e,{children:"Payment"}),s.jsx(_e,{children:"Total"}),s.jsx(_e,{className:"text-right",children:"Actions"})]})}),s.jsxs(Pt,{children:[se.map(oe=>s.jsxs(Ve,{children:[s.jsx(ge,{children:s.jsxs("span",{className:"item-name-hover inline-flex items-center gap-2 cursor-pointer",title:kve(oe),onClick:()=>Y3(oe.id,O,E,q,T),children:[oe.id," "]})}),s.jsx(ge,{children:s.jsxs("span",{className:"item-name-hover inline-flex items-center gap-2 cursor-pointer",title:Nve(oe),children:[s.jsx("img",{src:le(oe),alt:oe.client.username||"User",className:"h-7 w-7 rounded-full object-cover",onError:ve=>{ve.currentTarget.onerror=null,ve.currentTarget.src="/avatar.png"}}),jve(r[oe.client_id]||`User #${oe.client_id}`,14)]})}),s.jsx(ge,{children:s.jsx("span",{className:"item-name-hover inline-flex items-center gap-2 cursor-pointer",title:Sve(oe),children:oe.car?`${oe.car.make} ${oe.car.model}`:`#${oe.car_id}`})}),s.jsx(ge,{children:s.jsx("span",{className:"item-name-hover inline-flex items-center gap-2 cursor-pointer",title:Cve(oe),children:oe.car?.agent?.username??""})}),s.jsxs(ge,{className:"flex items-center gap-2",children:[s.jsx(We,{className:wve[oe.booking_request_status],children:oe.booking_request_status}),oe.booking_request_status==="confirmed"?s.jsx(Gr,{className:"w-4 h-4 text-green-600"}):s.jsx(Pu,{className:"w-4 h-4 text-red-500"})]}),s.jsx(ge,{children:s.jsx(We,{variant:oe.payment_status==="paid"?"default":"secondary",children:oe.payment_status})}),s.jsxs(ge,{children:["$",oe.total_booking_price]}),s.jsxs(ge,{className:"flex justify-end gap-1",children:[s.jsx(pe,{size:"icon",variant:"ghost","aria-label":"View",onClick:()=>Y3(oe.id,O,E,q,T),title:"View Details",children:s.jsx(sr,{size:16})}),s.jsx(pe,{size:"icon",variant:"ghost","aria-label":"Edit",onClick:()=>K(oe),title:"Edit Details",children:s.jsx(br,{size:16})}),oe.booking_request_status==="confirmed"?s.jsx(pe,{size:"icon",variant:"ghost","aria-label":"Force complete",title:"Confirmed",onClick:()=>he(oe.id),children:s.jsx(Gr,{size:16,className:"text-green-600"})}):s.jsx(pe,{size:"icon",variant:"ghost","aria-label":"Disabled",disabled:!0,children:s.jsx(sG,{size:16})})]})]},oe.id)),!a&&se.length===0&&s.jsx(Ve,{children:s.jsx(ge,{colSpan:7,className:"text-center py-10 text-muted-foreground",children:"No bookings found"})})]})]})}),s.jsx(Kr,{open:U,onOpenChange:T,children:s.jsxs(Br,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Ir,{children:[s.jsx(zr,{children:"Booking Details"}),s.jsx(Vi,{children:"Complete booking information (read-only)."})]}),ne==="view-booking"&&I&&s.jsx("div",{className:"space-y-6 text-sm",children:s.jsx(Ave,{booking:I,clients:r,onClose:()=>T(!1)})})]})}),s.jsx(Kr,{open:N,onOpenChange:k,children:s.jsxs(Br,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(Ir,{children:[s.jsx(zr,{children:"Edit Booking"}),s.jsx(Vi,{children:"All fields below are editable"})]}),S&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{children:"Status"}),s.jsxs(ft,{value:S.booking_request_status,onValueChange:oe=>C({...S,booking_request_status:oe}),children:[s.jsx(ut,{children:s.jsx(mt,{})}),s.jsx(ht,{children:["pending","confirmed","cancelled","completed","rejected"].map(oe=>s.jsx(Ce,{value:oe,children:oe},oe))})]})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Payment Status"}),s.jsxs(ft,{value:S.payment_status,onValueChange:oe=>C({...S,payment_status:oe}),children:[s.jsx(ut,{children:s.jsx(mt,{})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"pending",children:"Pending"}),s.jsx(Ce,{value:"paid",children:"Paid"}),s.jsx(Ce,{value:"failed",children:"Failed"})]})]})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Total Price"}),s.jsx(Se,{type:"number",value:S.total_booking_price,onChange:oe=>C({...S,total_booking_price:oe.target.value})})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Extra Charge"}),s.jsx(Se,{type:"number",value:S.extra_charge||0,onChange:oe=>C({...S,extra_charge:oe.target.value})})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Pickup Location"}),s.jsx(Se,{value:S.pickup_location||"",onChange:oe=>C({...S,pickup_location:oe.target.value})})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Dropoff Location"}),s.jsx(Se,{value:S.dropoff_location||"",onChange:oe=>C({...S,dropoff_location:oe.target.value})})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Start"}),s.jsx(Se,{type:"datetime-local",value:S.start_datetime?.slice(0,16),onChange:oe=>C({...S,start_datetime:oe.target.value})})]}),s.jsxs("div",{children:[s.jsx(de,{children:"End"}),s.jsx(Se,{type:"datetime-local",value:S.end_datetime?.slice(0,16),onChange:oe=>C({...S,end_datetime:oe.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Reason / Notes"}),s.jsx("textarea",{className:"w-full border rounded-md p-2",rows:3,value:S.reason_of_booking||"",onChange:oe=>C({...S,reason_of_booking:oe.target.value})})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(pe,{variant:"outline",onClick:()=>k(!1),children:"Cancel"}),s.jsx(pe,{onClick:z,children:"Save Changes"})]})]})]})})]})}async function Y3(t,e,r,n,a){const i=await e(t);i&&(r(i),n("view-booking"),a(!0))}function Nve(t){return t?[`User ID : ${t.client.id??"N/A"}`,`username : ${t.client.username??"N/A"}`,`Phone Number : ${t.client.phone_number??"N/A"}`,`Email : ${t.client.email??"N/A"}`,`verified By Admin : ${t.client.verified_by_admin??"N/A"}`,`Gender : ${t.client.gender??"N/A"}`,`Birth Date : ${Y9(t.client.birth_date??"N/A")}`,`city : ${t.client.city??"N/A"}`,`bio : ${t.client.bio??"N/A"}`].join(`
`):""}function Sve(t){return t?[`Car ID : ${t.car.id??"N/A"}`,`Agent ID : ${t.car.agent_id??"N/A"}`,`Year : ${t.car.year??"N/A"}`,`Cylinder Number : ${t.car.cylinder_number??"N/A"}`,`License Plate : ${t.car.license_plate??"N/A"}`,`Color : ${t.car.color??"N/A"}`,`Mileage : ${t.car.mileage??"N/A"}`,`Transmission : ${t.car.transmission??"N/A"}`,`Wheels Drive : ${t.car.wheels_drive??"N/A"}`,`Category : ${t.car.car_category??"N/A"}`,`Seats : ${t.car.seats??"N/A"}`,`Doors : ${t.car.doors??"N/A"}`,`Daily_rate : ${t.car.daily_rate??"N/A"}`,`hHliday Rate : ${t.car.holiday_rate??"N/A"}`,`Status : ${t.car.status??"N/A"}`].join(`
`):""}function kve(t){return t?[`Client Id : ${t.client_id??"N/A"}`,`Car Id : ${t.car_id??"N/A"}`,`Reason Of Booking : ${t.reason_of_booking??"N/A"}`,`Total Booking Price : ${t.total_booking_price??"N/A"}`,`Is Paid Online : ${t.is_paid_online??"N/A"}`,`Is Delivered : ${t.is_delivered??"N/A"}`,`Pickup Location : ${t.pickup_location??"N/A"}`,`Dropoff Location : ${t.dropoff_location??"N/A"}`].join(`
`):""}function Cve(t){return t?[`ID : ${t.car?.agent?.id??"N/A"}`,`Username : ${t.car?.agent?.username??"N/A"}`,`First Name : ${t.car?.agent?.first_name??"N/A"}`,`Last Name : ${t.car?.agent?.last_name??"N/A"}`,`Real User Id : ${t.car?.agent?.real_user_id??"N/A"}`,`Email : ${t.car?.agent?.email??"N/A"}`,`Verified_by_admin : ${t.car?.agent?.verified_by_admin??"N/A"}`,`Gender : ${t.car?.agent?.gender??"N/A"}`,`Birth date : ${Y9(t.car?.agent?.birth_date??"N/A")}`,`City : ${t.car?.agent?.city??"N/A"}`,`Bio : ${t.car?.agent?.bio??"N/A"}`].join(`
`):""}function K3(t){if(!t)return"N/A";const e=new Date(t);return Number.isNaN(e.getTime())?String(t):e.toLocaleString("en-US",{timeZone:"Asia/Beirut",month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit",hour12:!0})}function Y9(t){if(!t)return"N/A";const e=new Date(t);return Number.isNaN(e.getTime())?String(t):e.toLocaleString("en-US",{timeZone:"Asia/Beirut",month:"numeric",day:"numeric",year:"numeric"})}function V1(t){if(t==null||t==="")return"N/A";const e=Number(t);return Number.isNaN(e)?String(t):`$${e.toLocaleString("en-US")}`}function Ave({booking:t,clients:e,onClose:r}){const n=t?.client||{},a=t?.car||{};function i({label:g,value:y}){return s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:[g," :"]}),s.jsx("span",{className:"text-foreground break-words",children:y??"N/A"})]})}const o=({label:g,value:y,tone:v="neutral"})=>{const w=v==="teal"?"bg-teal-600 text-white":v==="red"?"bg-red-600 text-white":v==="yellow"?"bg-yellow-500 text-white":"bg-muted text-foreground";return s.jsxs("div",{className:"flex items-center gap-2 whitespace-nowrap",children:[s.jsx("span",{className:"text-muted-foreground",children:g}),s.jsx("span",{className:`inline-flex items-center justify-center px-2 h-5 rounded text-xs font-semibold leading-none ${w}`,children:y??"N/A"})]})},c=t?.booking_request_status??"N/A",d=c==="completed"?"teal":c==="pending"?"yellow":c==="cancelled"||c==="rejected"?"red":"neutral",h=t?.payment_status??"N/A",m=h==="paid"?"teal":h==="pending"?"yellow":h==="failed"?"red":"neutral",f=(n?.first_name&&n?.last_name?`${n.first_name} ${n.last_name}`:n?.username)||e?.[t?.client_id]||`User #${t?.client_id??"N/A"}`;return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"text-sm font-semibold",children:"Booking"}),s.jsxs("div",{className:"grid grid-cols-2 gap-x-10 gap-y-3",children:[s.jsx(i,{label:"Booking ID",value:t?.id}),s.jsx(i,{label:"Car ID",value:t?.car_id??a?.id}),s.jsx(i,{label:"Start",value:K3(t?.start_datetime)}),s.jsx(i,{label:"End",value:K3(t?.end_datetime)}),s.jsx("div",{className:"flex flex-wrap items-center gap-8 pt-1",children:s.jsx(o,{label:"Status:",value:c,tone:d})}),s.jsx("div",{className:"flex flex-wrap items-center gap-8 pt-1",children:s.jsx(o,{label:"Payment:",value:h,tone:m})}),s.jsx(i,{label:"Total",value:V1(t?.total_booking_price)}),s.jsx(i,{label:"Extra Charge",value:V1(t?.extra_charge??0)}),s.jsx(i,{label:"Deposit",value:V1(t?.deposit??0)}),s.jsx(i,{label:"Paid Online",value:t?.is_paid_online?"Yes":"No"}),s.jsx(i,{label:"Payment Method",value:t?.payment_method??"N/A"}),s.jsx(i,{label:"With Driver",value:t?.with_driver?"Yes":"No"})]}),s.jsx("div",{className:"border-t pt-3"}),s.jsx("div",{className:"text-sm font-semibold",children:"Client"}),s.jsxs("div",{className:"grid grid-cols-2 gap-x-10 gap-y-3",children:[s.jsx(i,{label:"Client Name",value:f}),s.jsx(i,{label:"Client ID",value:t?.client_id??n?.id}),s.jsx(i,{label:"Email",value:n?.email??"N/A"}),s.jsx(i,{label:"Phone",value:n?.phone_number??"N/A"})]}),s.jsx("div",{className:"border-t pt-3"}),t?.car&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-sm font-semibold",children:"Car"}),s.jsxs("div",{className:"grid grid-cols-2 gap-x-10 gap-y-3",children:[s.jsx(i,{label:"Make",value:a?.make}),s.jsx(i,{label:"Model",value:a?.model}),s.jsx(i,{label:"Year",value:a?.year}),s.jsx(i,{label:"Plate",value:a?.license_plate}),s.jsx(i,{label:"Color",value:a?.color}),s.jsx(i,{label:"Transmission",value:a?.transmission}),s.jsx(i,{label:"Fuel",value:a?.fuel_type})]}),s.jsx("div",{className:"border-t pt-3"})]}),s.jsx("div",{className:"text-sm font-semibold",children:"Locations"}),s.jsxs("div",{className:"grid grid-cols-2 gap-x-10 gap-y-3",children:[s.jsx(i,{label:"Pickup",value:t?.pickup_location??"N/A"}),s.jsx(i,{label:"Dropoff",value:t?.dropoff_location??"N/A"}),s.jsx(i,{label:"Delivery Address",value:t?.delivery_location?.address??"N/A"}),s.jsx(i,{label:"Return Address",value:t?.return_location?.address??"N/A"})]}),t?.reason_of_booking&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"border-t pt-3"}),s.jsx("div",{className:"text-sm font-semibold",children:"Reason / Notes"}),s.jsx("div",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:t?.reason_of_booking})]}),s.jsx("div",{className:"pt-3 flex gap-2 justify-end",children:s.jsx(pe,{variant:"outline",className:"w-28",onClick:r,children:"Close"})})]})}const Eve={paid:"bg-green-100 text-green-700",pending:"bg-yellow-100 text-yellow-700",cancelled:"bg-red-100 text-red-700"},Tve={income:"bg-blue-100 text-blue-700",expense:"bg-purple-100 text-purple-700"};function Rve(t,e=14){return t?t.length>e?`${t.slice(0,e)}...`:t:"N/A"}function Dve(){const[t,e]=j.useState([]),[r,n]=j.useState(!1),[a,i]=j.useState(""),[o,c]=j.useState(!1),[d,h]=j.useState(!1),[m,f]=j.useState(null),[g,y]=j.useState(!1),[v,w]=j.useState(null),[_,b]=j.useState(!1),[N,k]=j.useState({user_id:"",amount:"",source:"cash",type:"income",status:"pending",due_date:"",description:""}),S=async()=>{n(!0);try{const{data:Y}=await Oe.get("/admin/payments",{params:{per_page:50}});e(Y.payments?.data||[])}catch{be.error("Failed to load payments")}finally{n(!1)}};j.useEffect(()=>{S()},[]);const C=j.useMemo(()=>{let Y=[...t];return a&&(Y=Y.filter(O=>`${O.id} ${O.reference_id} ${O.user?.first_name??""} ${O.user?.last_name??""}`.toLowerCase().includes(a.toLowerCase()))),Y.sort((O,se)=>o?O.amount-se.amount:se.amount-O.amount),Y},[t,a,o]),I=Y=>{f(Y),h(!0)},E=Y=>{w({...Y}),y(!0)},U=async()=>{try{const Y={status:v.status,source:v.source,due_date:v.due_date,description:v.description};await Oe.put(`/admin/payments/${v.id}`,Y),be.success("Payment updated"),y(!1),S()}catch{be.error("Failed to update payment")}},T=async()=>{try{const Y={user_id:Number(N.user_id),amount:Number(N.amount),source:N.source,type:N.type,status:N.status,due_date:N.due_date,description:N.description};await Oe.post("/admin/payments",Y),be.success("Payment created"),b(!1),k({user_id:"",amount:"",source:"cash",type:"income",status:"pending",due_date:"",description:""}),S()}catch{be.error("Failed to create payment")}},ne="/avatar.png",q="https://rento-lb.com/api/storage/",F=Y=>{const O=Y?.user.profile_picture;if(!O)return ne;if(O.startsWith("http"))return O;const se=O.startsWith("/")?O.slice(1):O;return q+se};return s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-xl font-semibold",children:"Payments"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(pe,{size:"sm",onClick:()=>b(!0),children:[s.jsx(er,{size:16,className:"mr-1"}),"Add Payment"]}),s.jsx(Se,{placeholder:"Search",className:"h-8 w-48 text-xs",value:a,onChange:Y=>i(Y.target.value)}),s.jsx(pe,{size:"icon",variant:"ghost","aria-label":"Sort amount",onClick:()=>c(!o),children:s.jsx(Uq,{size:16})}),s.jsx(pe,{size:"icon",variant:"ghost","aria-label":"Refresh payments",onClick:S,children:s.jsx(Tt,{size:16})})]})]}),s.jsx("div",{className:"rounded-xl border bg-background",children:s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"User"}),s.jsx(_e,{children:"Type"}),s.jsx(_e,{children:"Status"}),s.jsx(_e,{children:"Source"}),s.jsx(_e,{children:"Amount"}),s.jsx(_e,{className:"text-right",children:"Actions"})]})}),s.jsxs(Pt,{children:[C.map(Y=>s.jsxs(Ve,{children:[s.jsx(ge,{children:s.jsx("span",{className:"item-name-hover inline-flex items-center gap-2 cursor-pointer",title:Pve(Y),role:"button",tabIndex:0,onClick:()=>I(Y),children:Y.id})}),s.jsx(ge,{children:s.jsxs("span",{className:"item-name-hover inline-flex items-center gap-2 cursor-pointer",title:Mve(Y),children:[s.jsx("img",{src:F(Y),alt:Y.user.username||"User",className:"h-7 w-7 rounded-full object-cover",onError:O=>{O.currentTarget.onerror=null,O.currentTarget.src="/avatar.png"}}),Rve(Y.user?`${Y.user.first_name} ${Y.user.last_name}`:"",14)]})}),s.jsx(ge,{children:s.jsx(We,{className:Tve[Y.type],children:Y.type})}),s.jsx(ge,{children:s.jsx(We,{className:Eve[Y.status],children:Y.status})}),s.jsx(ge,{children:Y.source}),s.jsxs(ge,{children:["$",Y.amount]}),s.jsxs(ge,{className:"flex justify-end gap-1",children:[s.jsx(pe,{size:"icon",variant:"ghost","aria-label":"View payment",onClick:()=>I(Y),children:s.jsx(sr,{size:16})}),s.jsx(pe,{size:"icon",variant:"ghost","aria-label":"Edit payment",onClick:()=>E(Y),children:s.jsx(br,{size:16})})]})]},Y.id)),!r&&C.length===0&&s.jsx(Ve,{children:s.jsx(ge,{colSpan:7,className:"text-center py-10 text-muted-foreground",children:"No payments found"})})]})]})}),s.jsx(Kr,{open:d,onOpenChange:h,children:s.jsxs(Br,{className:"max-w-3xl",children:[s.jsxs(Ir,{children:[s.jsx(zr,{children:"Payment Details"}),s.jsx(Vi,{children:"Read-only"})]}),m&&s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("b",{children:"ID:"})," ",m.id]}),s.jsxs("div",{children:[s.jsx("b",{children:"Reference:"})," ",m.reference_id]}),s.jsxs("div",{children:[s.jsx("b",{children:"User:"})," ",m.user?.first_name," ",m.user?.last_name]}),s.jsxs("div",{children:[s.jsx("b",{children:"Type:"})," ",m.type]}),s.jsxs("div",{children:[s.jsx("b",{children:"Status:"})," ",m.status]}),s.jsxs("div",{children:[s.jsx("b",{children:"Source:"})," ",m.source]}),s.jsxs("div",{children:[s.jsx("b",{children:"Amount:"})," $",m.amount]}),s.jsxs("div",{children:[s.jsx("b",{children:"Due:"})," ",new Date(m.due_date).toLocaleString()]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("b",{children:"Description:"})," ",m.description||""]})]})]})}),s.jsx(Kr,{open:g,onOpenChange:y,children:s.jsxs(Br,{className:"max-w-xl",children:[s.jsxs(Ir,{children:[s.jsx(zr,{children:"Edit Payment"}),s.jsx(Vi,{children:"Editable fields only"})]}),v&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(de,{children:"Status"}),s.jsxs(ft,{value:v.status,onValueChange:Y=>w({...v,status:Y}),children:[s.jsx(ut,{children:s.jsx(mt,{})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"pending",children:"Pending"}),s.jsx(Ce,{value:"paid",children:"Paid"}),s.jsx(Ce,{value:"cancelled",children:"Cancelled"})]})]})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Source"}),s.jsx(Se,{value:v.source,onChange:Y=>w({...v,source:Y.target.value})})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Due Date"}),s.jsx(Se,{type:"datetime-local",value:v.due_date?.slice(0,16),onChange:Y=>w({...v,due_date:Y.target.value})})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Description"}),s.jsx(Se,{value:v.description||"",onChange:Y=>w({...v,description:Y.target.value})})]}),s.jsx(pe,{className:"w-full",onClick:U,children:"Save Changes"})]})]})}),s.jsx(Kr,{open:_,onOpenChange:b,children:s.jsxs(Br,{className:"max-w-xl",children:[s.jsxs(Ir,{children:[s.jsx(zr,{children:"Add Payment"}),s.jsx(Vi,{children:"Create a new payment"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Se,{type:"number",placeholder:"User ID",value:N.user_id,onChange:Y=>k({...N,user_id:Y.target.value})}),s.jsx(Se,{type:"number",placeholder:"Amount",value:N.amount,onChange:Y=>k({...N,amount:Y.target.value})}),s.jsxs(ft,{value:N.type,onValueChange:Y=>k({...N,type:Y}),children:[s.jsx(ut,{children:s.jsx(mt,{})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"income",children:"Income"}),s.jsx(Ce,{value:"expense",children:"Expense"})]})]}),s.jsxs(ft,{value:N.status,onValueChange:Y=>k({...N,status:Y}),children:[s.jsx(ut,{children:s.jsx(mt,{})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"pending",children:"Pending"}),s.jsx(Ce,{value:"paid",children:"Paid"}),s.jsx(Ce,{value:"cancelled",children:"Cancelled"})]})]}),s.jsxs(ft,{value:N.source,onValueChange:Y=>k({...N,source:Y}),children:[s.jsx(ut,{children:s.jsx(mt,{})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"cash",children:"Cash"}),s.jsx(Ce,{value:"bank",children:"Bank"})]})]}),s.jsx(Se,{type:"datetime-local",value:N.due_date,onChange:Y=>k({...N,due_date:Y.target.value})}),s.jsx(Se,{placeholder:"Description",value:N.description,onChange:Y=>k({...N,description:Y.target.value})}),s.jsx(pe,{className:"w-full",onClick:T,children:"Create Payment"})]})]})})]})}function Mve(t){if(!t)return"";const e=t.user||{};return[`User ID : ${e.id??"N/A"}`,`Real User ID : ${e.real_user_id??"N/A"}`,`Username : ${e.username??"N/A"}`,`Phone Number : ${e.phone_number??"N/A"}`,`Email : ${e.email??"N/A"}`,`Verified ByAadmin : ${e.verified_by_admin??"N/A"}`,`Gender : ${e.gender??"N/A"}`,`Birth Date : ${Ove(e.birth_date??"N/A")}`,`City : ${e.city??"N/A"}`,`Bio : ${e.bio??"N/A"}`,`Role : ${e.role??"N/A"}`].join(`
`)}function Pve(t){return t?[`User ID : ${t.user_id??"N/A"}`,`Name : ${t.name??"N/A"}`,`Issue Date : ${X3(t.issue_date??"N/A")}`,`Due Date : ${X3(t.due_date??"N/A")}`,`Reference ID : ${t.reference_id??"N/A"}`,`Description : ${t.description??"N/A"}`].join(`
`):""}function Ove(t){if(!t)return"N/A";const e=new Date(t);return Number.isNaN(e.getTime())?String(t):e.toLocaleDateString("en-US",{month:"numeric",day:"numeric",year:"numeric"})}function X3(t){if(!t)return"N/A";const e=new Date(t);return Number.isNaN(e.getTime())?String(t):e.toLocaleString("en-US",{timeZone:"Asia/Beirut",month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit",hour12:!0})}const Lve=()=>{const[t,e]=j.useState([]),[r,n]=j.useState(!1),[a,i]=j.useState(!1),o=async()=>{i(!0);try{const{data:d}=await d0e();e(d.ads.data)}finally{i(!1)}};j.useEffect(()=>{o()},[]);const c=async d=>{if(confirm("Delete this ad?"))try{await h0e(d),yn({title:"Ad deleted"}),o()}catch{yn({title:"Failed to delete ad",variant:"destructive"})}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Ads"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(pe,{size:"sm","aria-label":"Create new ad",onClick:()=>n(d=>!d),children:[s.jsx(er,{className:"h-4 w-4 mr-1"}),"Create Ad"]}),s.jsx(pe,{size:"icon","aria-label":"refresh data",variant:"outline",onClick:o,children:s.jsx(Tt,{className:"h-4 w-4"})})]})]}),r&&s.jsxs(Ue,{children:[s.jsx(gs,{children:s.jsx(xs,{children:"Create Advertisement"})}),s.jsx(qe,{children:s.jsx(zI,{onSuccess:()=>{n(!1),o()}})})]}),s.jsx(Ue,{children:s.jsxs(qe,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Website"}),s.jsx(_e,{children:"Company"}),s.jsx(_e,{children:"User"}),s.jsx(_e,{children:"Online"}),s.jsx(_e,{children:"Views"}),s.jsx(_e,{children:"Clicks"}),s.jsx(_e,{children:"Cost"}),s.jsx(_e,{className:"text-right",children:"Actions"})]})}),s.jsx(Pt,{children:t.map(d=>s.jsxs(Ve,{children:[s.jsx(ge,{children:d.id}),s.jsx(ge,{className:"max-w-[160px] truncate",children:s.jsx("a",{href:d.website,target:"_blank",className:"text-blue-400 hover:underline",children:d.website})}),s.jsx(ge,{children:d.company_type}),s.jsx(ge,{children:d.user?.username??""}),s.jsx(ge,{children:s.jsx(We,{variant:d.online?"success":"secondary",children:d.online?"Online":"Offline"})}),s.jsx(ge,{children:d.nb_views}),s.jsx(ge,{children:d.nb_clicks}),s.jsxs(ge,{children:["$",Number(d.amount_cost).toFixed(2)]}),s.jsx(ge,{className:"text-right",children:s.jsx(pe,{size:"sm",variant:"destructive","aria-label":"Delete ad",onClick:()=>c(d.id),children:s.jsx(Dm,{className:"h-3 w-3"})})})]},d.id))})]})}),!a&&t.length===0&&s.jsx("p",{className:"text-center text-muted-foreground py-6",children:"No ads found"})]})})]})},Fve=()=>{const[t,e]=j.useState([]),[r,n]=j.useState(!1),[a,i]=j.useState(!1),o=async()=>{i(!0);try{const{data:h}=await f0e();e(h.featured_cars.data)}finally{i(!1)}};j.useEffect(()=>{o()},[]);const c=async h=>{if(confirm("Delete this featured car?"))try{await p0e(h),yn({title:"Featured car removed"}),o()}catch{yn({title:"Failed to delete featured car",variant:"destructive"})}},d=(h,m)=>{const f=new Date(h),g=new Date(m);return`${Math.ceil((g-f)/(1e3*60*60*24))||0} days`};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Featured Cars"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(pe,{size:"sm","aria-label":"Create new featured car",onClick:()=>n(h=>!h),children:[s.jsx(er,{className:"h-4 w-4 mr-1"}),"Create Featured Car"]}),s.jsx(pe,{size:"icon","aria-label":"refresh data",variant:"outline",onClick:o,children:s.jsx(Tt,{className:"h-4 w-4"})})]})]}),r&&s.jsxs(Ue,{children:[s.jsx(gs,{children:s.jsx(xs,{children:"Create Featured Car"})}),s.jsx(qe,{children:s.jsx(UI,{onSuccess:()=>{n(!1),o()}})})]}),s.jsx(Ue,{children:s.jsxs(qe,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Car"}),s.jsx(_e,{children:"Duration"}),s.jsx(_e,{children:"Start Date"}),s.jsx(_e,{children:"Expire Date"}),s.jsx(_e,{className:"text-right",children:"Actions"})]})}),s.jsx(Pt,{children:t.map(h=>s.jsxs(Ve,{children:[s.jsx(ge,{children:h.id}),s.jsxs(ge,{children:[h.car?.make," ",h.car?.model]}),s.jsx(ge,{children:d(h.start_at,h.expire_at)}),s.jsx(ge,{children:new Date(h.start_at).toLocaleDateString()}),s.jsx(ge,{children:new Date(h.expire_at).toLocaleDateString()}),s.jsx(ge,{className:"text-right",children:s.jsx(pe,{size:"icon","aria-label":"Delete featured car",variant:"destructive",onClick:()=>c(h.id),children:s.jsx(Dm,{className:"h-3 w-3"})})})]},h.id))})]})}),!a&&t.length===0&&s.jsx("p",{className:"text-center text-muted-foreground py-6",children:"No featured cars found"})]})})]})},Bve=({onSuccess:t})=>{const[e,r]=j.useState(!1),[n,a]=j.useState({car_id:"",holiday_name:"",start:"",end:"",percentage_increase:"",is_active:!0}),i=(c,d)=>a(h=>({...h,[c]:d})),o=async c=>{c.preventDefault(),r(!0);try{await x0e({car_id:Number(n.car_id),holiday_name:n.holiday_name,holiday_dates:{start:n.start,end:n.end},percentage_increase:Number(n.percentage_increase),is_active:n.is_active}),yn({title:"Holiday created"}),t?.()}catch{yn({title:"Failed to create holiday",variant:"destructive"})}finally{r(!1)}};return s.jsxs("form",{onSubmit:o,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{children:"Car ID"}),s.jsx(Se,{value:n.car_id,onChange:c=>i("car_id",c.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Holiday Name"}),s.jsx(Se,{value:n.holiday_name,onChange:c=>i("holiday_name",c.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Start Date"}),s.jsx(Se,{type:"date",value:n.start,onChange:c=>i("start",c.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"End Date"}),s.jsx(Se,{type:"date",value:n.end,onChange:c=>i("end",c.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Increase %"}),s.jsx(Se,{type:"number",step:"0.01",value:n.percentage_increase,onChange:c=>i("percentage_increase",c.target.value),required:!0})]}),s.jsxs("div",{className:"flex items-center gap-3 mt-6",children:[s.jsx(Cn,{checked:n.is_active,onCheckedChange:c=>i("is_active",c)}),s.jsx(de,{children:"Active"})]}),s.jsx("div",{className:"md:col-span-2 flex justify-end gap-2",children:s.jsx(pe,{type:"submit",disabled:e,children:e?"Saving...":"Create Holiday"})})]})},Ive=()=>{const[t,e]=j.useState([]),[r,n]=j.useState(!1),[a,i]=j.useState(!0),o=async()=>{i(!0);try{const d=await g0e();console.log("HOLIDAYS API RESPONSE:",d.data),e(d.data.holidays.data)}catch(d){console.error(d),yn({title:"Failed to load holidays",variant:"destructive"})}finally{i(!1)}};j.useEffect(()=>{o()},[]);const c=async d=>{if(confirm("Delete this holiday?"))try{await y0e(d),yn({title:"Holiday deleted"}),o()}catch{yn({title:"Failed to delete holiday",variant:"destructive"})}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Holidays"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(pe,{size:"sm","aria-label":"Create new holiday",onClick:()=>n(d=>!d),children:[s.jsx(er,{className:"h-4 w-4 mr-1"}),"Create Holiday"]}),s.jsx(pe,{size:"icon","aria-label":"refresh data",variant:"outline",onClick:o,children:s.jsx(Tt,{className:"h-4 w-4"})})]})]}),r&&s.jsxs(Ue,{children:[s.jsx(gs,{children:s.jsx(xs,{children:"Create Holiday"})}),s.jsx(qe,{children:s.jsx(Bve,{onSuccess:()=>{n(!1),o()}})})]}),s.jsx(Ue,{children:s.jsx(qe,{children:a?s.jsx("p",{className:"text-center py-6 text-muted-foreground",children:"Loading holidays..."}):t.length===0?s.jsx("p",{className:"text-center py-6 text-muted-foreground",children:"No holidays found"}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Car"}),s.jsx(_e,{children:"Holiday Name"}),s.jsx(_e,{children:"Dates"}),s.jsx(_e,{children:"Increase %"}),s.jsx(_e,{children:"Active"}),s.jsx(_e,{className:"text-right",children:"Actions"})]})}),s.jsx(Pt,{children:t.map(d=>s.jsxs(Ve,{children:[s.jsx(ge,{children:d.id}),s.jsxs(ge,{children:[d.car?.make," ",d.car?.model]}),s.jsx(ge,{children:d.holiday_name}),s.jsxs(ge,{className:"text-xs",children:[d.holiday_dates.start," "," ",d.holiday_dates.end]}),s.jsxs(ge,{children:[d.percentage_increase,"%"]}),s.jsx(ge,{children:s.jsx(We,{variant:d.is_active?"success":"secondary",children:d.is_active?"Yes":"No"})}),s.jsx(ge,{className:"text-right",children:s.jsx(pe,{size:"icon","aria-label":"Delete holiday",variant:"destructive",onClick:()=>c(d.id),children:s.jsx(Dm,{className:"h-3 w-3"})})})]},d.id))})]})})})})]})};function zve(){const[t,e]=j.useState([]),[r,n]=j.useState(null),[a,i]=j.useState(!0),[o,c]=j.useState({search:"",status:"",page:1}),d=j.useCallback(async()=>{i(!0);try{const f=await i0e({search:o.search||void 0,status:o.status||void 0,page:o.page});console.log("ANNOUNCEMENTS API RESPONSE:",f.data),e(f.data.announcements.data),n(f.data.announcements)}catch(f){console.error(f),yn({title:"Failed to load announcements",variant:"destructive"})}finally{i(!1)}},[o]);return j.useEffect(()=>{d()},[d]),{announcements:t,meta:r,loading:a,filters:o,setFilters:c,refresh:()=>{d()},removeAnnouncement:async f=>{if(confirm("Delete this announcement?"))try{await o0e(f),yn({title:"Announcement deleted"}),d()}catch{yn({title:"Failed to delete announcement",variant:"destructive"})}}}}function Uve(){const{announcements:t,meta:e,loading:r,filters:n,setFilters:a,refresh:i,removeAnnouncement:o}=zve();return console.log("ANNOUNCEMENTS IN PAGE:",t),s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-xl font-semibold",children:"Announcements"}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx(Se,{className:"w-56",placeholder:"Search...",value:n.search,onChange:c=>a({...n,search:c.target.value,page:1})}),s.jsxs(ft,{value:n.status,onValueChange:c=>a({...n,status:c,page:1}),children:[s.jsx(ut,{className:"w-36",children:s.jsx(mt,{placeholder:"Status"})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"draft",children:"Draft"}),s.jsx(Ce,{value:"published",children:"Published"})]})]}),s.jsx(pe,{variant:"outline",onClick:i,children:s.jsx(dh,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"border rounded-xl bg-card",children:s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Title"}),s.jsx(_e,{children:"Status"}),s.jsx(_e,{children:"Priority"}),s.jsx(_e,{children:"Audience"}),s.jsx(_e,{className:"text-right",children:"Actions"})]})}),s.jsxs(Pt,{children:[t.map(c=>s.jsxs(Ve,{children:[s.jsx(ge,{children:c.id}),s.jsx(ge,{className:"font-medium",children:c.title}),s.jsx(ge,{children:s.jsx(We,{children:c.status})}),s.jsx(ge,{children:c.priority}),s.jsx(ge,{children:c.target_audience?.length?c.target_audience.join(", "):"All"}),s.jsx(ge,{className:"text-right",children:s.jsx(pe,{size:"icon","aria-label":"Delete announcement",variant:"destructive",onClick:()=>o(c.id),children:s.jsx(Dm,{className:"w-3 h-3"})})})]},c.id)),!r&&t.length===0&&s.jsx(Ve,{children:s.jsx(ge,{colSpan:6,className:"text-center py-6 text-muted-foreground",children:"No announcements found"})})]})]})}),e&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",e.from,"",e.to," of ",e.total]})]})}function $ve(){const[t,e]=j.useState([]),[r,n]=j.useState(null),[a,i]=j.useState(!0),[o,c]=j.useState({search:"",status:"",page:1}),d=j.useCallback(async()=>{i(!0);try{const f=await l0e({search:o.search||void 0,status:o.status||void 0,page:o.page});console.log("APPEALS API RESPONSE:",f.data),e(f.data.appeals.data),n(f.data.appeals)}catch(f){console.error(f),yn({title:"Failed to load appeals",variant:"destructive"})}finally{i(!1)}},[o]);return j.useEffect(()=>{d()},[d]),{appeals:t,meta:r,loading:a,filters:o,setFilters:c,refresh:()=>d(),updateStatus:async(f,g)=>{try{await c0e(f,g),yn({title:"Appeal updated"}),d()}catch{yn({title:"Failed to update appeal",variant:"destructive"})}}}}function Vve(){const{appeals:t,meta:e,loading:r,filters:n,setFilters:a,refresh:i,updateStatus:o}=$ve();return s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-xl font-semibold",children:"Appeals"}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx(Se,{className:"w-56",placeholder:"Search...",value:n.search,onChange:c=>a({...n,search:c.target.value,page:1})}),s.jsxs(ft,{value:n.status||"all",onValueChange:c=>a({...n,status:c==="all"?"":c,page:1}),children:[s.jsx(ut,{className:"w-36",children:s.jsx(mt,{placeholder:"Status"})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"all",children:"All"}),s.jsx(Ce,{value:"submitted",children:"Submitted"}),s.jsx(Ce,{value:"under_review",children:"Under Review"}),s.jsx(Ce,{value:"resolved",children:"Resolved"}),s.jsx(Ce,{value:"rejected",children:"Rejected"})]})]}),s.jsx(pe,{variant:"outline",onClick:i,children:s.jsx(dh,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"border rounded-xl bg-card",children:s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"User"}),s.jsx(_e,{children:"Message"}),s.jsx(_e,{children:"Status"}),s.jsx(_e,{className:"text-right",children:"Actions"})]})}),s.jsxs(Pt,{children:[t.map(c=>s.jsxs(Ve,{children:[s.jsx(ge,{children:c.id}),s.jsx(ge,{children:c.user?.username??""}),s.jsx(ge,{className:"max-w-xs truncate",children:c.message}),s.jsx(ge,{children:s.jsx(We,{children:c.status})}),s.jsx(ge,{className:"text-right",children:s.jsx(pe,{size:"sm",onClick:()=>o(c.id,{status:"resolved"}),children:"Resolve"})})]},c.id)),!r&&t.length===0&&s.jsx(Ve,{children:s.jsx(ge,{colSpan:5,className:"text-center py-6 text-muted-foreground",children:"No appeals found"})})]})]})}),e&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",e.from,"",e.to," of ",e.total]})]})}function Hve(){const[t,e]=j.useState([]),[r,n]=j.useState(null),[a,i]=j.useState(!1),[o,c]=j.useState({page:1}),d=j.useCallback(async()=>{try{i(!0);const m=(await Oe.get("/admin/suggestions",{params:{page:o.page}})).data?.suggestions;e(m?.data||[]),n({current_page:m?.current_page,last_page:m?.last_page,from:m?.from,to:m?.to,total:m?.total})}catch(h){console.error("Failed to fetch suggestions:",h),e([]),n(null)}finally{i(!1)}},[o.page]);return j.useEffect(()=>{d()},[d]),{suggestions:t,meta:r,loading:a,filters:o,setFilters:c,refresh:d}}function qve(){const{suggestions:t,meta:e,loading:r,filters:n,setFilters:a,refresh:i}=Hve();return s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-xl font-semibold",children:"Suggestions"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs(pe,{variant:"outline",onClick:i,children:[s.jsx(dh,{className:"w-4 h-4 mr-2"}),"Refresh"]}),e&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pe,{size:"icon",variant:"outline","aria-label":"Previous Page",disabled:e.current_page===1,onClick:()=>a({...n,page:e.current_page-1}),children:s.jsx(Yo,{className:"w-4 h-4"})}),s.jsxs("span",{className:"text-sm",children:["Page ",e.current_page," of ",e.last_page]}),s.jsx(pe,{size:"icon",variant:"outline","aria-label":"Next Page",disabled:e.current_page===e.last_page,onClick:()=>a({...n,page:e.current_page+1}),children:s.jsx(pn,{className:"w-4 h-4"})})]})]}),s.jsx("div",{className:"border rounded-xl bg-card",children:s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"User"}),s.jsx(_e,{children:"Message"}),s.jsx(_e,{children:"Created At"})]})}),s.jsxs(Pt,{children:[t.map(o=>s.jsxs(Ve,{children:[s.jsx(ge,{children:o.id}),s.jsx(ge,{children:o.user?.username||""}),s.jsx(ge,{className:"max-w-[400px] truncate",children:o.message||o.suggestion||""}),s.jsx(ge,{children:new Date(o.created_at).toLocaleString()})]},o.id)),!r&&t.length===0&&s.jsx(Ve,{children:s.jsx(ge,{colSpan:4,className:"text-center py-6 text-muted-foreground",children:"No suggestions found"})}),r&&s.jsx(Ve,{children:s.jsx(ge,{colSpan:4,className:"text-center py-6 text-muted-foreground",children:"Loading..."})})]})]})}),e&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",e.from,"",e.to," of ",e.total]})]})}function Wve(){const[t,e]=j.useState([]),[r,n]=j.useState(null),[a,i]=j.useState(!1),[o,c]=j.useState({page:1}),d=j.useCallback(async()=>{try{i(!0);const g=(await Oe.get("/admin/notifications",{params:{page:o.page}})).data?.notifications;e(g?.data||[]),n({current_page:g?.current_page,last_page:g?.last_page,from:g?.from,to:g?.to,total:g?.total})}catch(f){console.error("Failed to fetch notifications:",f),e([]),n(null)}finally{i(!1)}},[o.page]);return j.useEffect(()=>{d()},[d]),{notifications:t,meta:r,loading:a,filters:o,setFilters:c,refresh:d,deleteNotification:async f=>{if(confirm("Delete this notification?"))try{await Oe.delete(`/admin/notifications/${f}`),d()}catch(g){console.error("Delete failed:",g)}},sendToAll:async()=>{const f=prompt("Notification title:");if(!f)return;const g=prompt("Notification message:");if(g)try{await N0e({title:f,message:g,type:"general"}),alert("Notification sent to all users"),d()}catch(y){console.error("Send failed:",y),alert("Failed to send notification")}}}}function Gve(){const{notifications:t,meta:e,loading:r,filters:n,setFilters:a,refresh:i,deleteNotification:o,sendToAll:c}=Wve();return s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-xl font-semibold",children:"Notifications"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(pe,{variant:"outline",onClick:i,children:[s.jsx(dh,{className:"w-4 h-4 mr-2"}),"Refresh"]}),s.jsxs(pe,{onClick:c,children:[s.jsx(T0,{className:"w-4 h-4 mr-2"}),"Send to All"]})]}),e&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pe,{size:"icon",variant:"outline","aria-label":"Previous Page",disabled:e.current_page===1,onClick:()=>a({...n,page:e.current_page-1}),children:s.jsx(Yo,{className:"w-4 h-4"})}),s.jsxs("span",{className:"text-sm",children:["Page ",e.current_page," of ",e.last_page]}),s.jsx(pe,{size:"icon",variant:"outline","aria-label":"Next Page",disabled:e.current_page===e.last_page,onClick:()=>a({...n,page:e.current_page+1}),children:s.jsx(pn,{className:"w-4 h-4"})})]})]}),s.jsx("div",{className:"border rounded-xl bg-card",children:s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Title"}),s.jsx(_e,{children:"Type"}),s.jsx(_e,{children:"Read"}),s.jsx(_e,{children:"Sent"}),s.jsx(_e,{children:"Created"}),s.jsx(_e,{className:"text-right",children:"Actions"})]})}),s.jsxs(Pt,{children:[t.map(d=>s.jsxs(Ve,{children:[s.jsx(ge,{children:d.id}),s.jsx(ge,{className:"font-medium",children:d.title||""}),s.jsx(ge,{children:s.jsx(We,{variant:"outline",children:d.type||"general"})}),s.jsx(ge,{children:s.jsx(We,{variant:d.is_read?"success":"secondary",children:d.is_read?"Yes":"No"})}),s.jsx(ge,{children:s.jsx(We,{variant:d.sent?"success":"secondary",children:d.sent?"Yes":"No"})}),s.jsx(ge,{children:new Date(d.created_at).toLocaleString()}),s.jsx(ge,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(pe,{size:"icon","aria-label":"Edit",variant:"ghost",children:s.jsx(br,{className:"w-3 h-3"})}),s.jsx(pe,{size:"icon",variant:"ghost","aria-label":"Delete",onClick:()=>o(d.id),children:s.jsx(Dm,{className:"w-3 h-3 text-red-500"})})]})})]},d.id)),!r&&t.length===0&&s.jsx(Ve,{children:s.jsx(ge,{colSpan:7,className:"text-center py-6 text-muted-foreground",children:"No notifications found"})}),r&&s.jsx(Ve,{children:s.jsx(ge,{colSpan:7,className:"text-center py-6 text-muted-foreground",children:"Loading..."})})]})]})}),e&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",e.from,"",e.to," of ",e.total]})]})}function Yve(){const[t,e]=j.useState([]),[r,n]=j.useState(null),[a,i]=j.useState(!1),[o,c]=j.useState({page:1}),d=j.useCallback(async()=>{try{i(!0);const m=(await Oe.get("/admin/otps",{params:{page:o.page}})).data?.otps;e(m?.data||[]),n({current_page:m?.current_page,last_page:m?.last_page,from:m?.from,to:m?.to,total:m?.total})}catch(h){console.error("Failed to fetch OTPs:",h),e([]),n(null)}finally{i(!1)}},[o.page]);return j.useEffect(()=>{d()},[d]),{otps:t,meta:r,loading:a,filters:o,setFilters:c,refresh:d}}function Kve(){const{otps:t,meta:e,loading:r,filters:n,setFilters:a,refresh:i}=Yve(),o=c=>new Date(c)<new Date;return s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-xl font-semibold",children:"OTPs"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs(pe,{variant:"outline",onClick:i,children:[s.jsx(dh,{className:"w-4 h-4 mr-2"}),"Refresh"]}),e&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pe,{size:"icon",variant:"outline","aria-label":"Previous Page",disabled:e.current_page===1,onClick:()=>a({...n,page:e.current_page-1}),children:s.jsx(Yo,{className:"w-4 h-4"})}),s.jsxs("span",{className:"text-sm",children:["Page ",e.current_page," of ",e.last_page]}),s.jsx(pe,{size:"icon",variant:"outline","aria-label":"Next Page",disabled:e.current_page===e.last_page,onClick:()=>a({...n,page:e.current_page+1}),children:s.jsx(pn,{className:"w-4 h-4"})})]})]}),s.jsx("div",{className:"border rounded-xl bg-card",children:s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Phone Number"}),s.jsx(_e,{children:"OTP Code"}),s.jsx(_e,{children:"Created At"}),s.jsx(_e,{children:"Expires At"}),s.jsx(_e,{children:"Status"})]})}),s.jsxs(Pt,{children:[t.map(c=>{const d=o(c.expires_at);return s.jsxs(Ve,{children:[s.jsx(ge,{children:c.id}),s.jsx(ge,{children:c.phone_number}),s.jsx(ge,{className:"font-mono",children:c.code}),s.jsx(ge,{children:new Date(c.created_at).toLocaleString()}),s.jsx(ge,{children:new Date(c.expires_at).toLocaleString()}),s.jsx(ge,{children:s.jsx(We,{variant:d?"destructive":"default",children:d?"Expired":"Active"})})]},c.id)}),!r&&t.length===0&&s.jsx(Ve,{children:s.jsx(ge,{colSpan:6,className:"text-center py-6 text-muted-foreground",children:"No OTPs found"})}),r&&s.jsx(Ve,{children:s.jsx(ge,{colSpan:6,className:"text-center py-6 text-muted-foreground",children:"Loading..."})})]})]})}),e&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",e.from,"",e.to," of ",e.total]})]})}function Xve(){const[t,e]=j.useState([]),[r,n]=j.useState([]),[a,i]=j.useState(!0),[o,c]=j.useState({broker_id:"all",is_active:"all"}),[d,h]=j.useState({open:!1,title:"",message:"",onConfirm:null}),[m,f]=j.useState({open:!1,type:null,item:null}),[g,y]=j.useState({code:"",broker_id:"",description:"",max_uses:"",commission_percentage:"",is_active:!0,expires_at:"",username:"",phone_number:"",email:"",password:"",password_confirmation:"",first_name:"",last_name:""}),v=j.useCallback(async()=>{i(!0);try{const E={per_page:100};o.broker_id!=="all"&&(E.broker_id=o.broker_id),o.is_active!=="all"&&(E.is_active=o.is_active);const U=await vI(E),T=U.data?.data??U.data?.promo_codes??U.data;e(Array.isArray(T)?T:[])}catch(E){console.error(E),be.error("Failed to load promo codes"),e([])}finally{i(!1)}},[o.broker_id,o.is_active]),w=j.useCallback(async()=>{try{const E=await Sm({role:"broker",per_page:200}),U=E.data?.users?.data??E.data?.users??E.data?.data;n(Array.isArray(U)?U:[])}catch(E){console.error(E),n([])}},[]);j.useEffect(()=>{v()},[v]),j.useEffect(()=>{w()},[w]);const _=E=>{h({open:!0,title:"Delete Promo Code",message:`Are you sure you want to delete "${E.code}"?`,onConfirm:async()=>{try{await _I(E.id),be.success("Promo code deleted"),v()}catch(U){be.error(U.response?.data?.message||"Delete failed")}}})},b=E=>{y({code:E.code??"",broker_id:E.broker_id?String(E.broker_id):"",description:E.description??"",max_uses:E.max_uses??"",commission_percentage:E.commission_percentage??"",is_active:E.is_active!==!1,expires_at:E.expires_at?E.expires_at.slice(0,10):""}),f({open:!0,type:"edit",item:E})},N=()=>{y({code:"",broker_id:"",description:"",max_uses:"",commission_percentage:"",is_active:!0,expires_at:""}),f({open:!0,type:"create",item:null})},k=()=>{y({username:"",phone_number:"",email:"",password:"",password_confirmation:"",first_name:"",last_name:""}),f({open:!0,type:"create-broker",item:null})},S=async()=>{try{const E={code:g.code.trim(),broker_id:g.broker_id?parseInt(g.broker_id,10):null,description:g.description.trim()||null,max_uses:g.max_uses?parseInt(g.max_uses,10):null,commission_percentage:g.commission_percentage?parseFloat(g.commission_percentage):0,is_active:g.is_active,expires_at:g.expires_at||null};m.type==="edit"?(await jI(m.item.id,E),be.success("Promo code updated")):(await wI(E),be.success("Promo code created")),f({open:!1,type:null,item:null}),v()}catch(E){const U=E.response?.data?.message||E.response?.data?.errors&&Object.values(E.response.data.errors).flat().join(" ")||"Failed";be.error(U)}},C=async()=>{try{await wS({username:g.username.trim(),phone_number:g.phone_number.trim(),email:g.email.trim()||void 0,password:g.password,password_confirmation:g.password_confirmation,first_name:g.first_name.trim(),last_name:g.last_name.trim()}),be.success("Broker created"),f({open:!1,type:null,item:null}),w(),v()}catch(E){const U=E.response?.data?.message||E.response?.data?.errors&&Object.values(E.response.data.errors).flat().join(" ")||"Failed";be.error(U)}},I=Array.isArray(t)?t:[];return s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-xl font-semibold",children:"Promo Codes"}),s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsxs(pe,{onClick:N,children:[s.jsx(er,{className:"w-4 h-4 mr-2"}),"Create Promo Code"]}),s.jsxs(pe,{variant:"outline",onClick:k,children:[s.jsx(ks,{className:"w-4 h-4 mr-2"}),"Create Broker"]}),s.jsxs(ft,{value:o.broker_id,onValueChange:E=>c(U=>({...U,broker_id:E})),children:[s.jsx(ut,{className:"w-[180px]",children:s.jsx(mt,{placeholder:"Broker"})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"all",children:"All brokers"}),r.map(E=>s.jsx(Ce,{value:String(E.id),children:E.username||[E.first_name,E.last_name].filter(Boolean).join(" ")||`#${E.id}`},E.id))]})]}),s.jsxs(ft,{value:o.is_active,onValueChange:E=>c(U=>({...U,is_active:E})),children:[s.jsx(ut,{className:"w-[130px]",children:s.jsx(mt,{placeholder:"Status"})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"all",children:"All"}),s.jsx(Ce,{value:"true",children:"Active"}),s.jsx(Ce,{value:"false",children:"Inactive"})]})]})]}),s.jsx(pe,{variant:"outline",size:"icon",onClick:v,"aria-label":"Refresh",children:s.jsx(Tt,{className:"w-4 h-4"})})]}),s.jsx(Ue,{children:s.jsx(qe,{className:"p-0",children:s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"Code"}),s.jsx(_e,{children:"Broker"}),s.jsx(_e,{children:"Description"}),s.jsx(_e,{children:"Uses"}),s.jsx(_e,{children:"Commission %"}),s.jsx(_e,{children:"Status"}),s.jsx(_e,{children:"Expires"}),s.jsx(_e,{className:"w-[100px]",children:"Actions"})]})}),s.jsx(Pt,{children:a?s.jsx(Ve,{children:s.jsx(ge,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:"Loading..."})}):I.length===0?s.jsx(Ve,{children:s.jsx(ge,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:"No promo codes found"})}):I.map(E=>s.jsxs(Ve,{children:[s.jsx(ge,{className:"font-mono font-semibold",children:E.code}),s.jsx(ge,{children:E.broker?E.broker.username||[E.broker.first_name,E.broker.last_name].filter(Boolean).join(" ")||"":"N/A"}),s.jsx(ge,{className:"max-w-[200px] truncate",children:E.description||""}),s.jsxs(ge,{children:[E.current_uses??0," / ",E.max_uses??""]}),s.jsxs(ge,{children:[E.commission_percentage??0,"%"]}),s.jsx(ge,{children:s.jsx(We,{variant:E.is_active?"default":"secondary",children:E.is_active?"Active":"Inactive"})}),s.jsx(ge,{children:E.expires_at?new Date(E.expires_at).toLocaleDateString():"No expiry"}),s.jsx(ge,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>b(E),"aria-label":"Edit",children:s.jsx(br,{className:"w-4 h-4"})}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>_(E),"aria-label":"Delete",className:"text-destructive",children:s.jsx(Xs,{className:"w-4 h-4"})})]})})]},E.id))})]})})}),s.jsx(Kr,{open:m.open&&(m.type==="create"||m.type==="edit"),onOpenChange:E=>!E&&f({open:!1,type:null,item:null}),children:s.jsxs(Br,{className:"max-w-md",children:[s.jsx(Ir,{children:s.jsx(zr,{children:m.type==="edit"?"Edit Promo Code":"Create Promo Code"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(de,{children:"Code"}),s.jsx(Se,{value:g.code,onChange:E=>y(U=>({...U,code:E.target.value})),placeholder:"PROMO20",disabled:m.type==="edit"})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Broker"}),s.jsxs(ft,{value:g.broker_id,onValueChange:E=>y(U=>({...U,broker_id:E})),children:[s.jsx(ut,{children:s.jsx(mt,{placeholder:"Select broker"})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"",children:"None"}),r.map(E=>s.jsx(Ce,{value:String(E.id),children:E.username||`#${E.id}`},E.id))]})]})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Description (optional)"}),s.jsx(Se,{value:g.description,onChange:E=>y(U=>({...U,description:E.target.value})),placeholder:"Description"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(de,{children:"Max uses (optional)"}),s.jsx(Se,{type:"number",min:0,value:g.max_uses,onChange:E=>y(U=>({...U,max_uses:E.target.value})),placeholder:""})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Commission %"}),s.jsx(Se,{type:"number",min:0,step:.01,value:g.commission_percentage,onChange:E=>y(U=>({...U,commission_percentage:E.target.value}))})]})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Expires at (optional)"}),s.jsx(Se,{type:"date",value:g.expires_at,onChange:E=>y(U=>({...U,expires_at:E.target.value}))})]}),m.type==="edit"&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"active",checked:g.is_active,onChange:E=>y(U=>({...U,is_active:E.target.checked}))}),s.jsx(de,{htmlFor:"active",children:"Active"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(pe,{variant:"outline",onClick:()=>f({open:!1,type:null,item:null}),children:"Cancel"}),s.jsx(pe,{onClick:S,children:m.type==="edit"?"Update":"Create"})]})]})]})}),s.jsx(Kr,{open:m.open&&m.type==="create-broker",onOpenChange:E=>!E&&f({open:!1,type:null,item:null}),children:s.jsxs(Br,{className:"max-w-md",children:[s.jsx(Ir,{children:s.jsx(zr,{children:"Create Broker"})}),s.jsxs("div",{className:"space-y-4",children:[["username","first_name","last_name","phone_number","email","password","password_confirmation"].map(E=>s.jsxs("div",{children:[s.jsx(de,{children:E.replace(/_/g," ")}),s.jsx(Se,{type:E.includes("password")?"password":"text",value:g[E],onChange:U=>y(T=>({...T,[E]:U.target.value})),placeholder:E,required:["username","first_name","last_name","phone_number","password","password_confirmation"].includes(E)})]},E)),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(pe,{variant:"outline",onClick:()=>f({open:!1,type:null,item:null}),children:"Cancel"}),s.jsx(pe,{onClick:C,children:"Create Broker"})]})]})]})}),s.jsx(_y,{open:d.open,onOpenChange:E=>h(U=>({...U,open:E})),children:s.jsxs(Jm,{children:[s.jsxs(ep,{children:[s.jsx(sp,{children:d.title}),s.jsx(rp,{children:d.message})]}),s.jsxs(tp,{children:[s.jsx(ap,{children:"Cancel"}),s.jsx(np,{onClick:d.onConfirm,children:"Confirm"})]})]})})]})}function ku(t){return t?.username||[t?.first_name,t?.last_name].filter(Boolean).join(" ")||`Broker #${t?.id}`}function Zve(){const[t,e]=j.useState([]),[r,n]=j.useState({data:[]}),[a,i]=j.useState(!0),[o,c]=j.useState(null),[d,h]=j.useState("overview"),[m,f]=j.useState(null),[g,y]=j.useState({data:[],statistics:{}}),[v,w]=j.useState({data:[]}),[_,b]=j.useState([]),[N,k]=j.useState("all"),[S,C]=j.useState({open:!1,title:"",message:"",onConfirm:null}),[I,E]=j.useState({open:!1,type:null}),[U,T]=j.useState({username:"",phone_number:"",email:"",password:"",password_confirmation:"",first_name:"",last_name:"",broker_id:"",amount:"",reference:"",notes:""}),ne=j.useCallback(async()=>{i(!0);try{const z=await Sm({role:"broker",per_page:200}),he=z.data?.users?.data??z.data?.users??z.data?.data;e(Array.isArray(he)?he:[])}catch(z){console.error(z),be.error("Failed to load brokers"),e([])}finally{i(!1)}},[]),q=j.useCallback(async()=>{try{const z=await CI({per_page:100}),he=z.data?.data??z.data?.commissions??z.data;n({data:Array.isArray(he)?he:[]})}catch{n({data:[]})}},[]),F=j.useCallback(async z=>{if(c(z),h("overview"),!!z?.id)try{const[he,V,W,le]=await Promise.all([NI(z.id).catch(()=>({data:null})),b0(z.id).catch(()=>({data:{data:[],statistics:{}}})),SI(z.id).catch(()=>({data:{payouts:{data:[]}}})),cN(z.id).catch(()=>({data:{referrals:[]}}))]);f(he.data);const oe=V.data?.commissions?.data??V.data?.commissions;y({data:Array.isArray(oe)?oe:[],statistics:V.data?.statistics||{}});const ve=W.data?.payouts?.data??W.data?.data??W.data;w({data:Array.isArray(ve)?ve:[]});const me=le.data?.referrals??le.data?.data??le.data;b(Array.isArray(me)?me:[])}catch{be.error("Failed to load broker detail")}},[]),Y=()=>{c(null),f(null),y({data:[],statistics:{}}),w({data:[]}),b([])},O=async z=>{if(o?.id){k(z);try{const he=await b0(o.id,{status:z==="all"?void 0:z}),V=he.data?.commissions?.data??he.data?.commissions;y({data:Array.isArray(V)?V:[],statistics:he.data?.statistics||{}})}catch(he){console.error(he)}}};j.useEffect(()=>{ne(),q()},[ne,q]);const se=async()=>{try{await wS({username:U.username.trim(),phone_number:U.phone_number.trim(),email:U.email.trim()||void 0,password:U.password,password_confirmation:U.password_confirmation,first_name:U.first_name.trim(),last_name:U.last_name.trim()}),be.success("Broker created"),E({open:!1,type:null}),ne()}catch(z){be.error(z.response?.data?.message||"Failed")}},X=async()=>{try{await kI({broker_id:parseInt(U.broker_id,10),amount:parseFloat(U.amount)*100,reference:U.reference.trim()||void 0,notes:U.notes.trim()||void 0}),be.success("Payout created"),E({open:!1,type:null}),o?.id&&F(o),q()}catch(z){be.error(z.response?.data?.message||"Payout failed")}},M=z=>{C({open:!0,title:"Cancel commission",message:"Are you sure?",onConfirm:async()=>{try{await AI(z.id),be.success("Commission cancelled"),o?.id&&O(N),q()}catch(he){be.error(he.response?.data?.message||"Failed")}}})},K=z=>{C({open:!0,title:"Delete referral",message:"Remove this referral?",onConfirm:async()=>{try{await EI(z.id),be.success("Referral deleted"),o?.id&&F(o)}catch(he){be.error(he.response?.data?.message||"Failed")}}})};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-xl font-semibold",children:"Brokers"}),s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(pe,{variant:"outline",onClick:()=>{T({username:"",phone_number:"",email:"",password:"",password_confirmation:"",first_name:"",last_name:""}),E({open:!0,type:"create-broker"})},children:[s.jsx(ks,{className:"w-4 h-4 mr-2"})," Create Broker"]}),s.jsxs(pe,{onClick:()=>{T({broker_id:o?.id?String(o.id):"",amount:m?.balance!=null?String(m.balance):"",reference:"",notes:""}),E({open:!0,type:"create-payout"})},children:[s.jsx(or,{className:"w-4 h-4 mr-2"})," Create Payout"]})]}),s.jsx(pe,{variant:"outline",size:"icon",onClick:()=>{ne(),q()},"aria-label":"Refresh",children:s.jsx(Tt,{className:"w-4 h-4"})})]}),o?s.jsxs(Ue,{children:[s.jsxs(gs,{className:"flex flex-row items-center justify-between",children:[s.jsxs(xs,{className:"flex items-center gap-2",children:[s.jsx(ks,{className:"w-5 h-5"}),ku(o)]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>{T({broker_id:String(o.id),amount:m?.balance?String(m.balance):"",reference:"",notes:""}),E({open:!0,type:"create-payout"})},children:[s.jsx(or,{className:"w-4 h-4 mr-1"})," Pay broker"]}),s.jsxs(pe,{variant:"ghost",size:"sm",onClick:Y,children:[s.jsx(Yo,{className:"w-4 h-4 mr-1"})," Close"]})]})]}),s.jsx(qe,{children:s.jsxs(Uo,{value:d,onValueChange:h,children:[s.jsxs(Ki,{className:"grid w-full grid-cols-4",children:[s.jsx($t,{value:"overview",children:"Overview"}),s.jsx($t,{value:"commissions",children:"Commissions"}),s.jsx($t,{value:"payouts",children:"Payouts"}),s.jsx($t,{value:"referrals",children:"Referrals"})]}),s.jsx(Qt,{value:"overview",className:"space-y-4 mt-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(Ue,{children:s.jsxs(qe,{className:"pt-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Balance"}),s.jsxs("p",{className:"text-2xl font-bold text-primary",children:["$",(m?.balance??0).toFixed(2)]})]})}),s.jsx(Ue,{children:s.jsxs(qe,{className:"pt-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total commissions"}),s.jsxs("p",{className:"text-2xl font-bold",children:["$",(m?.total_commissions??g.statistics?.total_commissions??0).toFixed(2)]})]})}),s.jsx(Ue,{children:s.jsxs(qe,{className:"pt-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total payouts"}),s.jsxs("p",{className:"text-2xl font-bold",children:["$",(m?.total_payouts??g.statistics?.total_payouts??0).toFixed(2)]})]})})]})}),s.jsxs(Qt,{value:"commissions",className:"mt-4",children:[s.jsx("div",{className:"flex gap-2 mb-4",children:["all","pending","paid","cancelled"].map(z=>s.jsx(pe,{variant:N===z?"default":"outline",size:"sm",onClick:()=>O(z),children:z.charAt(0).toUpperCase()+z.slice(1)},z))}),s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Referred user"}),s.jsx(_e,{children:"Promo"}),s.jsx(_e,{children:"Amount"}),s.jsx(_e,{children:"Commission"}),s.jsx(_e,{children:"Status"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Pt,{children:(g.data||[]).map(z=>s.jsxs(Ve,{children:[s.jsx(ge,{children:z.id}),s.jsx(ge,{children:z.referredUser?ku(z.referredUser):z.referred_user_id}),s.jsx(ge,{children:z.promoCode?.code||""}),s.jsxs(ge,{children:["$",Number(z.booking_amount||0).toFixed(2)]}),s.jsxs(ge,{children:["$",Number(z.commission_amount||0).toFixed(2)," (",z.commission_percentage,"%)"]}),s.jsx(ge,{children:s.jsx(We,{variant:z.status==="paid"?"default":z.status==="cancelled"?"secondary":"outline",children:z.status})}),s.jsx(ge,{children:z.status==="pending"&&s.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>M(z),children:"Cancel"})})]},z.id))})]})]}),s.jsx(Qt,{value:"payouts",className:"mt-4",children:s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"Reference"}),s.jsx(_e,{children:"Amount"}),s.jsx(_e,{children:"Paid at"}),s.jsx(_e,{children:"Description"})]})}),s.jsx(Pt,{children:(v.data||[]).map(z=>s.jsxs(Ve,{children:[s.jsx(ge,{className:"font-mono text-xs",children:z.reference_id||z.id}),s.jsxs(ge,{children:["$",((z.amount||0)/100).toFixed(2)]}),s.jsx(ge,{children:z.paid_at?new Date(z.paid_at).toLocaleString():""}),s.jsx(ge,{children:z.description||z.metadata?.reference||""})]},z.id))})]})}),s.jsx(Qt,{value:"referrals",className:"mt-4",children:s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Referred user"}),s.jsx(_e,{children:"Promo"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Pt,{children:(_||[]).map(z=>s.jsxs(Ve,{children:[s.jsx(ge,{children:z.id}),s.jsx(ge,{children:z.referredUser?ku(z.referredUser):z.referred_user_id}),s.jsx(ge,{children:z.promoCode?.code||""}),s.jsx(ge,{children:s.jsx(pe,{variant:"ghost",size:"sm",className:"text-destructive",onClick:()=>K(z),children:"Delete"})})]},z.id))})]})})]})})]}):s.jsxs(s.Fragment,{children:[s.jsxs(Ue,{children:[s.jsxs(gs,{children:[s.jsx(xs,{children:"Brokers"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Click Manage to view balance, commissions, payouts, and referrals."})]}),s.jsx(qe,{className:"p-0",children:s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Username"}),s.jsx(_e,{children:"Name"}),s.jsx(_e,{children:"Phone"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Pt,{children:a?s.jsx(Ve,{children:s.jsx(ge,{colSpan:5,className:"text-center py-8",children:"Loading..."})}):t.length===0?s.jsx(Ve,{children:s.jsx(ge,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"No brokers found"})}):t.map(z=>s.jsxs(Ve,{children:[s.jsx(ge,{children:z.id}),s.jsx(ge,{children:z.username}),s.jsx(ge,{children:[z.first_name,z.last_name].filter(Boolean).join(" ")||""}),s.jsx(ge,{children:z.phone_number||""}),s.jsx(ge,{children:s.jsx(pe,{variant:"outline",size:"sm",onClick:()=>F(z),children:"Manage"})})]},z.id))})]})})]}),s.jsxs(Ue,{children:[s.jsx(gs,{children:s.jsx(xs,{children:"All broker commissions"})}),s.jsx(qe,{className:"p-0",children:s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Broker"}),s.jsx(_e,{children:"Referred user"}),s.jsx(_e,{children:"Promo"}),s.jsx(_e,{children:"Amount"}),s.jsx(_e,{children:"Status"})]})}),s.jsx(Pt,{children:(r.data||[]).map(z=>s.jsxs(Ve,{children:[s.jsx(ge,{children:z.id}),s.jsx(ge,{children:z.broker?ku(z.broker):z.broker_id}),s.jsx(ge,{children:z.referredUser?ku(z.referredUser):""}),s.jsx(ge,{children:z.promoCode?.code||""}),s.jsxs(ge,{children:["$",Number(z.commission_amount||0).toFixed(2)]}),s.jsx(ge,{children:s.jsx(We,{variant:z.status==="paid"?"default":z.status==="cancelled"?"secondary":"outline",children:z.status})})]},z.id))})]})})]})]}),s.jsx(Kr,{open:I.open&&I.type==="create-broker",onOpenChange:z=>!z&&E({open:!1,type:null}),children:s.jsxs(Br,{className:"max-w-md",children:[s.jsx(Ir,{children:s.jsx(zr,{children:"Create Broker"})}),s.jsxs("div",{className:"space-y-4",children:[["username","first_name","last_name","phone_number","email","password","password_confirmation"].map(z=>s.jsxs("div",{children:[s.jsx(de,{children:z.replace(/_/g," ")}),s.jsx(Se,{type:z.includes("password")?"password":"text",value:U[z],onChange:he=>T(V=>({...V,[z]:he.target.value}))})]},z)),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(pe,{variant:"outline",onClick:()=>E({open:!1,type:null}),children:"Cancel"}),s.jsx(pe,{onClick:se,children:"Create"})]})]})]})}),s.jsx(Kr,{open:I.open&&I.type==="create-payout",onOpenChange:z=>!z&&E({open:!1,type:null}),children:s.jsxs(Br,{className:"max-w-md",children:[s.jsx(Ir,{children:s.jsx(zr,{children:"Create Payout"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(de,{children:"Broker"}),s.jsxs("select",{className:"w-full border rounded-md px-3 py-2",value:U.broker_id,onChange:z=>T(he=>({...he,broker_id:z.target.value})),children:[s.jsx("option",{value:"",children:"Select broker"}),t.map(z=>s.jsx("option",{value:z.id,children:ku(z)},z.id))]})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Amount ($)"}),s.jsx(Se,{type:"number",step:.01,value:U.amount,onChange:z=>T(he=>({...he,amount:z.target.value}))})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Reference (optional)"}),s.jsx(Se,{value:U.reference,onChange:z=>T(he=>({...he,reference:z.target.value}))})]}),s.jsxs("div",{children:[s.jsx(de,{children:"Notes (optional)"}),s.jsx(Se,{value:U.notes,onChange:z=>T(he=>({...he,notes:z.target.value}))})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(pe,{variant:"outline",onClick:()=>E({open:!1,type:null}),children:"Cancel"}),s.jsx(pe,{onClick:X,children:"Create Payout"})]})]})]})}),s.jsx(_y,{open:S.open,onOpenChange:z=>C(he=>({...he,open:z})),children:s.jsxs(Jm,{children:[s.jsxs(ep,{children:[s.jsx(sp,{children:S.title}),s.jsx(rp,{children:S.message})]}),s.jsxs(tp,{children:[s.jsx(ap,{children:"Cancel"}),s.jsx(np,{onClick:S.onConfirm,children:"Confirm"})]})]})})]})}const K9="https://rento-lb.com/api/storage/",fN="/avatar.png",Qve=["Beirut","Mount Lebanon","North","South","Bekaa","Baalbek","Keserwan","Nabatieh","Akkar"],Jve=[{value:"",label:"All types"},{value:"rental",label:"Rental"},{value:"private",label:"Private"},{value:"company",label:"Company"},{value:"marina",label:"Marina"}],ewe=[{value:"created_at",label:"Created at"},{value:"username",label:"Username"},{value:"first_name",label:"First name"},{value:"last_name",label:"Last name"}];function Z3(t){const e=t?.profile_picture;if(!e)return fN;if(e.startsWith("http"))return e;const r=e.startsWith("/")?e.slice(1):e;return K9+r}function Q3(t){return t?.first_name&&t?.last_name?`${t.first_name} ${t.last_name}`:t?.username||`Agency #${t?.id}`}const J3={rental:"border-l-4 border-l-teal-500 bg-gradient-to-br from-teal-50/80 to-white dark:from-teal-950/30 dark:to-card shadow-md hover:shadow-lg",private:"border-l-4 border-l-blue-500 bg-gradient-to-br from-blue-50/80 to-white dark:from-blue-950/30 dark:to-card shadow-md hover:shadow-lg",company:"border-l-4 border-l-violet-500 bg-gradient-to-br from-violet-50/80 to-white dark:from-violet-950/30 dark:to-card shadow-md hover:shadow-lg",marina:"border-l-4 border-l-cyan-500 bg-gradient-to-br from-cyan-50/80 to-white dark:from-cyan-950/30 dark:to-card shadow-md hover:shadow-lg",default:"border-l-4 border-l-primary bg-gradient-to-br from-primary/5 to-white dark:from-primary/10 dark:to-card shadow-md hover:shadow-lg"};function twe(t){return J3[t]||J3.default}function swe(){const t=Ur(),[e,r]=j.useState([]),[n,a]=j.useState({current_page:1,last_page:1,per_page:20,total:0}),[i,o]=j.useState(!0),[c,d]=j.useState(!1),[h,m]=j.useState(1),[f,g]=j.useState(20),[y,v]=j.useState(""),[w,_]=j.useState(!1),[b,N]=j.useState(""),[k,S]=j.useState(""),[C,I]=j.useState("created_at"),[E,U]=j.useState("desc"),[T,ne]=j.useState(!1),[q,F]=j.useState(null),[Y,O]=j.useState(null),[se,X]=j.useState(!1),M=j.useCallback(async()=>{o(!0),d(!1);try{const V={page:h,per_page:f,sort_by:C,sort_order:E};w&&(V.verified_only=!0),b&&(V.business_type=b),k&&(V.address=k),y.trim()&&(V.search=y.trim());const W=await Jxe(V),le=W.data?.agencies??W.data,oe=le?.data??[];r(Array.isArray(oe)?oe:[]),a({current_page:le.current_page??1,last_page:le.last_page??1,per_page:le.per_page??f,total:le.total??0})}catch(V){V.response?.status===403?(d(!0),r([]),be.error("Super admin access required")):(be.error(V.response?.data?.message||V.response?.data?.error||"Failed to load agencies"),r([]))}finally{o(!1)}},[h,f,y,w,b,k,C,E]);j.useEffect(()=>{M()},[M]);const K=async V=>{F(V),O(null),ne(!0),X(!0);try{const W=await e0e(V.id);O(W.data?.agency??W.data)}catch(W){W.response?.status===403?be.error("Super admin access required"):W.response?.status===404?be.error("Agency not found"):be.error(W.response?.data?.error||"Failed to load agency")}finally{X(!1)}},z=()=>{ne(!1),F(null),O(null)},he=()=>{m(1),M()};return c?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(Pi,{className:"w-6 h-6"}),"Agencies"]}),s.jsx(Ue,{children:s.jsxs(qe,{className:"py-12 text-center",children:[s.jsx(Xn,{className:"w-12 h-12 mx-auto text-destructive mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"This section is available only to Super Admin users."}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"If you believe you should have access, please contact your administrator."})]})})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(Pi,{className:"w-6 h-6"}),"Agencies"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Car rental companies and agents who list vehicles on the platform. Super Admin only."}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsxs("div",{className:"relative flex-1 min-w-[180px] max-w-sm",children:[s.jsx(Fr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Se,{placeholder:"Search username, first name, last name...",value:y,onChange:V=>v(V.target.value),onKeyDown:V=>V.key==="Enter"&&he(),className:"pl-9"})]}),s.jsxs(ft,{value:b||"all",onValueChange:V=>{N(V==="all"?"":V),m(1)},children:[s.jsx(ut,{className:"w-36",children:s.jsx(mt,{placeholder:"Business type"})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"all",children:"All types"}),Jve.filter(V=>V.value).map(V=>s.jsx(Ce,{value:V.value,children:V.label},V.value))]})]}),s.jsxs(ft,{value:k||"all",onValueChange:V=>{S(V==="all"?"":V),m(1)},children:[s.jsx(ut,{className:"w-40",children:s.jsx(mt,{placeholder:"Governorate"})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"all",children:"All governorates"}),Qve.map(V=>s.jsx(Ce,{value:V,children:V},V))]})]}),s.jsxs(ft,{value:w?"yes":"no",onValueChange:V=>{_(V==="yes"),m(1)},children:[s.jsx(ut,{className:"w-32",children:s.jsx(mt,{placeholder:"Verified"})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"no",children:"All"}),s.jsx(Ce,{value:"yes",children:"Verified only"})]})]}),s.jsxs(ft,{value:C,onValueChange:V=>{I(V),m(1)},children:[s.jsx(ut,{className:"w-36",children:s.jsx(mt,{placeholder:"Sort by"})}),s.jsx(ht,{children:ewe.map(V=>s.jsx(Ce,{value:V.value,children:V.label},V.value))})]}),s.jsxs(ft,{value:E,onValueChange:V=>{U(V),m(1)},children:[s.jsx(ut,{className:"w-28",children:s.jsx(mt,{})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"asc",children:"Asc"}),s.jsx(Ce,{value:"desc",children:"Desc"})]})]}),s.jsxs(ft,{value:String(f),onValueChange:V=>{g(Number(V)),m(1)},children:[s.jsx(ut,{className:"w-24",children:s.jsx(mt,{})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"10",children:"10"}),s.jsx(Ce,{value:"20",children:"20"}),s.jsx(Ce,{value:"50",children:"50"})]})]}),s.jsx(pe,{variant:"outline",onClick:he,children:"Search"}),s.jsx(pe,{variant:"outline",size:"icon",onClick:M,children:s.jsx(Tt,{className:"h-4 w-4"})})]}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[s.jsx(Pi,{className:"w-5 h-5"}),"Agencies (",n.total,")"]}),i?s.jsx("div",{className:"flex items-center justify-center py-16",children:s.jsx(zx,{className:"h-10 w-10 animate-spin text-muted-foreground"})}):e.length===0?s.jsxs(Ue,{className:"py-12 text-center text-muted-foreground",children:[s.jsx(Pi,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),"No agencies found"]}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:e.map(V=>s.jsxs(Ue,{role:"button",tabIndex:0,onClick:()=>t(`/admin/cars?agent_id=${V.id}`),onKeyDown:W=>W.key==="Enter"&&t(`/admin/cars?agent_id=${V.id}`),className:`overflow-hidden transition-all duration-200 cursor-pointer hover:shadow-lg ${twe(V.business_type)}`,children:[s.jsxs(gs,{className:"pb-2",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[s.jsx("img",{src:Z3(V),alt:"",className:"h-12 w-12 rounded-full object-cover shrink-0 ring-2 ring-white dark:ring-card shadow",onError:W=>{W.currentTarget.onerror=null,W.currentTarget.src=fN}}),s.jsxs("div",{className:"min-w-0",children:[s.jsx(xs,{className:"text-base truncate",children:Q3(V)}),s.jsxs("p",{className:"text-xs text-muted-foreground truncate",children:["@",V.username||""]})]})]}),V.verified_by_admin&&s.jsx(Gr,{className:"h-5 w-5 text-green-600 shrink-0",title:"Verified"})]}),s.jsxs("div",{className:"flex flex-wrap gap-1.5 mt-2",children:[s.jsx(We,{variant:"secondary",className:"text-xs capitalize",children:V.business_type||""}),V.address&&s.jsxs(We,{variant:"outline",className:"text-xs flex items-center gap-1",children:[s.jsx(Ps,{className:"w-3 h-3"}),V.address]})]})]}),s.jsxs(qe,{className:"pt-0 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("span",{className:"flex items-center gap-1.5 text-muted-foreground",children:[s.jsx(Gt,{className:"w-4 h-4"}),"Cars"]}),s.jsxs("span",{className:"font-medium",children:[V.cars_count??0," ",s.jsxs("span",{className:"text-muted-foreground font-normal text-xs",children:["(",V.cars_accepted_count??0," accepted, ",V.cars_not_accepted_count??0," pending)"]})]})]}),(V.sea_vehicles_count??0)>0&&s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("span",{className:"flex items-center gap-1.5 text-muted-foreground",children:[s.jsx(Fq,{className:"w-4 h-4"}),"Sea vehicles"]}),s.jsx("span",{className:"font-medium",children:V.sea_vehicles_count})]}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsxs(pe,{size:"sm",className:"flex-1",onClick:W=>{W.stopPropagation(),K(V)},children:[s.jsx(sr,{className:"w-4 h-4 mr-2"}),"View details"]}),s.jsxs(pe,{size:"sm",variant:"outline",onClick:W=>{W.stopPropagation(),t(`/admin/cars?agent_id=${V.id}`)},children:[s.jsx(Gt,{className:"w-4 h-4 mr-2"}),"View cars"]})]})]})]},V.id))})]}),n.last_page>1&&s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Page ",n.current_page," of ",n.last_page,"  Total ",n.total]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(pe,{variant:"outline",size:"sm",disabled:h<=1,onClick:()=>m(V=>V-1),children:"Previous"}),s.jsx(pe,{variant:"outline",size:"sm",disabled:h>=n.last_page,onClick:()=>m(V=>V+1),children:"Next"})]})]}),s.jsx(Kr,{open:T,onOpenChange:V=>!V&&z(),children:s.jsxs(Br,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Ir,{children:s.jsxs(zr,{className:"flex items-center gap-2",children:[s.jsx(Pi,{className:"w-5 h-5"}),"Agency  ",q?Q3(q):""," (ID:"," ",q?.id,")"]})}),se?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(zx,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):Y?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("img",{src:Z3(Y),alt:"",className:"h-16 w-16 rounded-full object-cover",onError:V=>{V.currentTarget.onerror=null,V.currentTarget.src=fN}}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-semibold",children:[Y.first_name," ",Y.last_name]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["@",Y.username]}),Y.verified_by_admin&&s.jsx(We,{className:"mt-1 bg-green-600",children:"Verified"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[s.jsx(Ol,{label:"Business type",value:Y.business_type}),s.jsx(Ol,{label:"Address",value:Y.address}),s.jsx(Ol,{label:"Profession",value:Y.profession}),s.jsx(Ol,{label:"Company number",value:Y.company_number}),s.jsx(Ol,{label:"Cars total",value:Y.cars_count}),s.jsx(Ol,{label:"Cars accepted",value:Y.cars_accepted_count}),s.jsx(Ol,{label:"Cars not accepted",value:Y.cars_not_accepted_count}),s.jsx(Ol,{label:"Sea vehicles",value:Y.sea_vehicles_count})]}),Y.website&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Website:"}),s.jsxs("a",{href:Y.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline flex items-center gap-1",children:[Y.website,s.jsx(Ix,{className:"w-3 h-3"})]})]}),Y.location&&s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Location: "}),Y.location.city||"",Y.location.lat!=null&&Y.location.lng!=null?` (${Y.location.lat}, ${Y.location.lng})`:""]}),Y.policies&&s.jsxs("div",{className:"rounded-md border p-3 bg-muted/30",children:[s.jsxs("p",{className:"text-xs font-medium text-muted-foreground flex items-center gap-1 mb-2",children:[s.jsx(Io,{className:"w-3 h-3"})," Policies"]}),s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:Y.policies})]}),Y.business_doc&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Business document"}),s.jsxs("a",{href:Y.business_doc.startsWith("http")?Y.business_doc:K9+(Y.business_doc.startsWith("/")?Y.business_doc.slice(1):Y.business_doc),target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline text-sm flex items-center gap-1",children:["View document",s.jsx(Ix,{className:"w-3 h-3"})]})]})]}):s.jsx("p",{className:"text-muted-foreground py-4",children:"No details available."})]})})]})}function Ol({label:t,value:e}){const r=e??"";return s.jsxs("div",{children:[s.jsxs("span",{className:"text-muted-foreground",children:[t,": "]}),s.jsx("span",{children:typeof r=="object"?JSON.stringify(r):String(r)})]})}function rwe(){const[t,e]=j.useState([]),[r,n]=j.useState([]),[a,i]=j.useState([]),[o,c]=j.useState([]),[d,h]=j.useState(!1),[m,f]=j.useState(""),[g,y]=j.useState({services:{search:"",category:"all"},thirdParties:{search:""}}),[v,w]=j.useState({open:!1,title:"",message:"",onConfirm:null}),_=j.useCallback(async()=>{h(!0);try{const T={};g.services.search&&(T.search=g.services.search),g.services.category!=="all"&&(T.category=g.services.category);const ne=await TI({...T,per_page:100}),q=ne.data?.data??ne.data?.services??ne.data;e(Array.isArray(q)?q:[])}catch(T){console.error(T),be.error("Failed to load services"),e([])}finally{h(!1)}},[g.services.search,g.services.category]),b=j.useCallback(async()=>{h(!0);try{const T=await PI({per_page:100}),ne=T.data?.data??T.data?.third_parties??T.data;n(Array.isArray(ne)?ne:[])}catch(T){console.error(T),be.error("Failed to load third parties"),n([])}finally{h(!1)}},[]),N=j.useCallback(async T=>{if(!T){i([]);return}h(!0);try{const ne=await DI(parseInt(T,10)),q=ne.data?.data??ne.data?.items??ne.data;i(Array.isArray(q)?q:[])}catch(ne){console.error(ne),i([])}finally{h(!1)}},[]),k=j.useCallback(async()=>{h(!0);try{const T=await LI({per_page:100}),ne=T.data?.data??T.data?.feedbacks??T.data;c(Array.isArray(ne)?ne:[])}catch(T){console.error(T),be.error("Failed to load feedbacks"),c([])}finally{h(!1)}},[]);j.useEffect(()=>{_()},[_]),j.useEffect(()=>{m?N(m):i([])},[m,N]);const S=(T,ne,q)=>{w({open:!0,title:T,message:ne,onConfirm:q})},C=T=>{S("Delete Service",`Delete "${T.name}"?`,async()=>{try{await RI(T.id),be.success("Service deleted"),_()}catch(ne){be.error(ne.response?.data?.message||"Failed")}})},I=T=>{S("Delete Third Party","Are you sure?",async()=>{try{await OI(T.id),be.success("Third party deleted"),b()}catch(ne){be.error(ne.response?.data?.message||"Failed")}})},E=T=>{S("Delete Item",`Delete "${T.name}"?`,async()=>{try{await MI(T.id),be.success("Item deleted"),m&&N(m)}catch(ne){be.error(ne.response?.data?.message||"Failed")}})},U=T=>{S("Delete Feedback","Are you sure?",async()=>{try{await FI(T.id),be.success("Feedback deleted"),k()}catch(ne){be.error(ne.response?.data?.message||"Failed")}})};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-xl font-semibold",children:"Services"}),s.jsxs(Uo,{defaultValue:"services-list",className:"w-full",children:[s.jsxs(Ki,{className:"grid w-full grid-cols-4 mb-4",children:[s.jsxs($t,{value:"services-list",children:[s.jsx(yd,{className:"w-4 h-4 mr-1"})," Services"]}),s.jsxs($t,{value:"third-parties",onClick:()=>b(),children:[s.jsx(Pi,{className:"w-4 h-4 mr-1"})," Third Parties"]}),s.jsxs($t,{value:"service-items",children:[s.jsx(Fi,{className:"w-4 h-4 mr-1"})," Service Items"]}),s.jsxs($t,{value:"service-feedbacks",onClick:()=>k(),children:[s.jsx(ii,{className:"w-4 h-4 mr-1"})," Feedbacks"]})]}),s.jsxs(Qt,{value:"services-list",className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx(Se,{placeholder:"Search services...",value:g.services.search,onChange:T=>y(ne=>({...ne,services:{...ne.services,search:T.target.value}})),className:"w-48"}),s.jsxs(ft,{value:g.services.category,onValueChange:T=>y(ne=>({...ne,services:{...ne.services,category:T}})),children:[s.jsx(ut,{className:"w-40",children:s.jsx(mt,{placeholder:"Category"})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"all",children:"All"}),s.jsx(Ce,{value:"transport",children:"Transport"}),s.jsx(Ce,{value:"accommodation",children:"Accommodation"}),s.jsx(Ce,{value:"food",children:"Food"}),s.jsx(Ce,{value:"entertainment",children:"Entertainment"}),s.jsx(Ce,{value:"other",children:"Other"})]})]}),s.jsx(pe,{variant:"outline",size:"icon",onClick:_,"aria-label":"Refresh",children:s.jsx(Tt,{className:"w-4 h-4"})})]}),s.jsx(Ue,{children:s.jsx(qe,{className:"p-0",children:s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Name"}),s.jsx(_e,{children:"Owner"}),s.jsx(_e,{children:"Category"}),s.jsx(_e,{children:"Price"}),s.jsx(_e,{children:"Rating"}),s.jsx(_e,{children:"Featured"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Pt,{children:d?s.jsx(Ve,{children:s.jsx(ge,{colSpan:8,className:"text-center py-8",children:"Loading..."})}):t.length===0?s.jsx(Ve,{children:s.jsx(ge,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:"No services found"})}):t.map(T=>s.jsxs(Ve,{children:[s.jsx(ge,{children:T.id}),s.jsx(ge,{className:"font-medium",children:T.name}),s.jsx(ge,{children:T.third_party?T.third_party.name||T.third_party.email:T.third_party_id||""}),s.jsx(ge,{children:s.jsx(We,{variant:"outline",children:T.category||""})}),s.jsxs(ge,{children:["$",(parseFloat(T.price)||0).toFixed(2)]}),s.jsx(ge,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(rr,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}),T.rating?Number(T.rating).toFixed(1):"N/A"]})}),s.jsx(ge,{children:s.jsx(We,{variant:T.featured?"default":"secondary",children:T.featured?"Yes":"No"})}),s.jsx(ge,{children:s.jsx(pe,{variant:"ghost",size:"sm",className:"text-destructive",onClick:()=>C(T),children:s.jsx(Xs,{className:"w-4 h-4"})})})]},T.id))})]})})})]}),s.jsxs(Qt,{value:"third-parties",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Se,{placeholder:"Search third parties...",value:g.thirdParties.search,onChange:T=>y(ne=>({...ne,thirdParties:{...ne.thirdParties,search:T.target.value}})),className:"w-64"}),s.jsx(pe,{variant:"outline",size:"icon",onClick:b,"aria-label":"Refresh",children:s.jsx(Tt,{className:"w-4 h-4"})})]}),s.jsx(Ue,{children:s.jsx(qe,{className:"p-0",children:s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Name"}),s.jsx(_e,{children:"Contact"}),s.jsx(_e,{children:"Category"}),s.jsx(_e,{children:"City"}),s.jsx(_e,{children:"Subscription"}),s.jsx(_e,{children:"Created"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Pt,{children:d?s.jsx(Ve,{children:s.jsx(ge,{colSpan:8,className:"text-center py-8",children:"Loading..."})}):r.length===0?s.jsx(Ve,{children:s.jsx(ge,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:"No third parties found"})}):r.map(T=>s.jsxs(Ve,{children:[s.jsx(ge,{children:T.id}),s.jsx(ge,{className:"font-medium",children:T.name}),s.jsx(ge,{children:T.email||T.phone||""}),s.jsx(ge,{children:s.jsx(We,{variant:"outline",children:T.category||""})}),s.jsx(ge,{children:T.city||""}),s.jsx(ge,{children:T.subscription_status||""}),s.jsx(ge,{children:T.created_at?new Date(T.created_at).toLocaleDateString():""}),s.jsx(ge,{children:s.jsx(pe,{variant:"ghost",size:"sm",className:"text-destructive",onClick:()=>I(T),children:s.jsx(Xs,{className:"w-4 h-4"})})})]},T.id))})]})})})]}),s.jsxs(Qt,{value:"service-items",className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsxs(ft,{value:m,onValueChange:T=>f(T),children:[s.jsx(ut,{className:"w-64",children:s.jsx(mt,{placeholder:"Select a service to view items"})}),s.jsx(ht,{children:t.map(T=>s.jsx(Ce,{value:String(T.id),children:T.name},T.id))})]}),m&&s.jsx(pe,{variant:"outline",size:"icon",onClick:()=>N(m),"aria-label":"Refresh",children:s.jsx(Tt,{className:"w-4 h-4"})})]}),m?s.jsxs(Ue,{children:[s.jsx(gs,{children:s.jsxs(xs,{children:["Items for Service #",m]})}),s.jsx(qe,{className:"p-0",children:s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Name"}),s.jsx(_e,{children:"Description"}),s.jsx(_e,{children:"Price"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Pt,{children:d?s.jsx(Ve,{children:s.jsx(ge,{colSpan:5,className:"text-center py-8",children:"Loading..."})}):a.length===0?s.jsx(Ve,{children:s.jsx(ge,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"No items found"})}):a.map(T=>s.jsxs(Ve,{children:[s.jsx(ge,{children:T.id}),s.jsx(ge,{className:"font-medium",children:T.name}),s.jsx(ge,{className:"max-w-xs truncate",children:T.description||"N/A"}),s.jsxs(ge,{children:["$",(parseFloat(T.price)||0).toFixed(2)]}),s.jsx(ge,{children:s.jsx(pe,{variant:"ghost",size:"sm",className:"text-destructive",onClick:()=>E(T),children:s.jsx(Xs,{className:"w-4 h-4"})})})]},T.id))})]})})]}):s.jsx(Ue,{children:s.jsxs(qe,{className:"py-12 text-center text-muted-foreground",children:[s.jsx(Fi,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Select a service from the dropdown above"})]})})]}),s.jsxs(Qt,{value:"service-feedbacks",className:"space-y-4",children:[s.jsx(pe,{variant:"outline",size:"icon",onClick:k,"aria-label":"Refresh",children:s.jsx(Tt,{className:"w-4 h-4"})}),s.jsx(Ue,{children:s.jsx(qe,{className:"p-0",children:s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Service"}),s.jsx(_e,{children:"User"}),s.jsx(_e,{children:"Rating"}),s.jsx(_e,{children:"Comment"}),s.jsx(_e,{children:"Created"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Pt,{children:d?s.jsx(Ve,{children:s.jsx(ge,{colSpan:7,className:"text-center py-8",children:"Loading..."})}):o.length===0?s.jsx(Ve,{children:s.jsx(ge,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"No feedbacks found"})}):o.map(T=>s.jsxs(Ve,{children:[s.jsx(ge,{children:T.id}),s.jsx(ge,{children:T.service?.name||T.service_id}),s.jsx(ge,{children:T.user?.name||T.user_id}),s.jsx(ge,{children:s.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((ne,q)=>s.jsx(rr,{className:`w-4 h-4 ${q<(T.rating||0)?"text-yellow-500 fill-yellow-500":"text-gray-300"}`},q))})}),s.jsx(ge,{className:"max-w-xs truncate",children:T.comment||"N/A"}),s.jsx(ge,{children:T.created_at?new Date(T.created_at).toLocaleDateString():""}),s.jsx(ge,{children:s.jsx(pe,{variant:"ghost",size:"sm",className:"text-destructive",onClick:()=>U(T),children:s.jsx(Xs,{className:"w-4 h-4"})})})]},T.id))})]})})})]})]}),s.jsx(_y,{open:v.open,onOpenChange:T=>w(ne=>({...ne,open:T})),children:s.jsxs(Jm,{children:[s.jsxs(ep,{children:[s.jsx(sp,{children:v.title}),s.jsx(rp,{children:v.message})]}),s.jsxs(tp,{children:[s.jsx(ap,{children:"Cancel"}),s.jsx(np,{onClick:v.onConfirm,children:"Confirm"})]})]})})]})}const X9="https://rento-lb.com/api/storage/",Z9="/avatar.png",nwe=20;function awe(t,e=null){if(!t)return e;if(t.startsWith("http"))return t;const r=t.startsWith("/")?t.slice(1):t;return X9+r}function iwe(t){return t?String(t).toLowerCase().split("?")[0].endsWith(".pdf"):!1}const sd=360,rd=260,Ll=120,ux=2.5;function owe({src:t,alt:e,className:r=""}){const[n,a]=j.useState(!1),[i,o]=j.useState({x:0,y:0}),c=j.useRef(null),d=w=>{if(!c.current)return;const _=c.current.getBoundingClientRect(),b=(w.clientX-_.left)/_.width,N=(w.clientY-_.top)/_.height;o({x:Math.max(0,Math.min(1,b)),y:Math.max(0,Math.min(1,N))})},h=i.x*sd,m=i.y*rd,f=-(h*ux-Ll/2),g=-(m*ux-Ll/2),y=Math.max(0,Math.min(sd-Ll,i.x*sd-Ll/2)),v=Math.max(0,Math.min(rd-Ll,i.y*rd-Ll/2));return s.jsxs("div",{ref:c,className:`relative overflow-hidden rounded-md border cursor-crosshair ${r}`,style:{width:sd,height:rd},onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),onMouseMove:d,children:[s.jsx("img",{src:t,alt:e,className:"w-full h-full object-contain",style:{width:sd,height:rd},draggable:!1,onError:w=>{w.currentTarget.onerror=null,w.currentTarget.src="/avatar.png"}}),n&&s.jsx("div",{className:"absolute pointer-events-none rounded-full border-2 border-white shadow-xl bg-no-repeat",style:{width:Ll,height:Ll,left:y,top:v,backgroundImage:`url(${t})`,backgroundSize:`${sd*ux}px ${rd*ux}px`,backgroundPosition:`${f}px ${g}px`}})]})}function H1({title:t,path:e,fallback:r=null}){const n=awe(e,r);if(!n)return s.jsx("div",{className:"text-sm text-muted-foreground",children:"N/A"});if(iwe(n)){const a=`${n}#toolbar=0&navpanes=0&scrollbar=0`;return s.jsx("iframe",{title:t,src:a,className:"w-full rounded-md border bg-white",style:{width:sd,height:rd}})}return s.jsx(owe,{src:n,alt:t})}function lwe(t){const e=t?.profile_picture;if(!e)return Z9;if(e.startsWith("http"))return e;const r=e.startsWith("/")?e.slice(1):e;return X9+r}function cwe(){const[t,e]=j.useState([]),[r,n]=j.useState({current_page:1,last_page:1,total:0}),[a,i]=j.useState(!0),[o,c]=j.useState(1),[d,h]=j.useState(""),[m,f]=j.useState("all"),[g,y]=j.useState(!1),[v,w]=j.useState(null),[_,b]=j.useState(null),[N,k]=j.useState({first_name:"",middle_name:"",last_name:"",id_number:"",passport_number:"",driver_license_number:"",gender:"",date_of_birth:"",mother_name:"",place_of_birth:""}),[S,C]=j.useState(null),[I,E]=j.useState(!1),U=async()=>{i(!0);try{const z={page:o,per_page:nwe};m&&m!=="all"&&(z.role=m),d?.trim()&&(z.search=d.trim());const he=await Sm(z),V=he.data?.users||he.data,W=V?.data||[];e(W),n({current_page:V.current_page??1,last_page:V.last_page??1,total:V.total??0})}catch(z){be.error(z.response?.data?.message||"Failed to load users"),e([])}finally{i(!1)}};j.useEffect(()=>{U()},[o,m]);const T=()=>{c(1),U()},ne=async z=>{w(z),y(!0),b(null),C(null),k({first_name:"",middle_name:"",last_name:"",id_number:"",passport_number:"",driver_license_number:"",gender:"",date_of_birth:"",mother_name:"",place_of_birth:""});try{const he=await Kxe(z.id),V=he.data?.user||he.data;b(V);try{const W=await b0e(z.id),le=W.data?.data??W.data?.real_user_data;le&&(C(le),k({first_name:le.first_name||"",middle_name:le.middle_name||"",last_name:le.last_name||"",id_number:le.id_number||"",passport_number:le.passport_number||"",driver_license_number:le.driver_license_number||"",gender:le.gender||"",date_of_birth:le.date_of_birth||"",mother_name:le.mother_name||"",place_of_birth:le.place_of_birth||""}))}catch(W){W.response?.status!==404&&console.warn("Real user data fetch:",W.response?.data?.message||W.message)}}catch{be.error("Failed to load user details")}},q=()=>{y(!1),w(null),b(null),C(null)},F=z=>{const{name:he,value:V}=z.target;k(W=>({...W,[he]:V}))},Y=(z,he)=>{k(V=>({...V,[z]:he}))},O=async z=>{if(z.preventDefault(),!v)return;const he={...N};if(!he.first_name||!he.last_name||!he.gender){be.error("First name, last name, and gender are required");return}if(!!!(he.id_number||he.passport_number||he.driver_license_number)){be.error("At least one of ID number, passport number, or driver license number is required");return}E(!0);try{await v0e(v.id,he),be.success("Real user data saved. User is now verified."),q(),U()}catch(W){be.error(W.response?.data?.message||"Failed to save")}finally{E(!1)}},se=async z=>{if(S?.id)try{await w0e(S.id,{status:z}),be.success(z==="approved"?"User verified.":"Status updated."),q(),U()}catch(he){be.error(he.response?.data?.message||"Failed to update status")}},X=async()=>{if(v&&confirm("Delete real user data for this user?"))try{await j0e(v.id),be.success("Real user data deleted."),q(),U()}catch(z){be.error(z.response?.data?.message||"Failed to delete")}},M=t,K=z=>z?.first_name&&z?.last_name?`${z.first_name} ${z.last_name}`:z?.username||z?.name||`User #${z?.id}`;return s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Real User Data"}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsxs("div",{className:"relative flex-1 min-w-[200px] max-w-sm",children:[s.jsx(Fr,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Se,{placeholder:"Search by name, email, phone, username...",value:d,onChange:z=>h(z.target.value),onKeyDown:z=>z.key==="Enter"&&T(),className:"pl-9"})]}),s.jsxs(ft,{value:m,onValueChange:z=>{f(z),c(1)},children:[s.jsx(ut,{className:"w-36",children:s.jsx(mt,{placeholder:"Role"})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"all",children:"All Roles"}),s.jsx(Ce,{value:"client",children:"Client"}),s.jsx(Ce,{value:"agency",children:"Agency"}),s.jsx(Ce,{value:"admin",children:"Admin"})]})]}),s.jsx(pe,{variant:"outline",onClick:T,children:"Search"}),s.jsx(pe,{variant:"outline",size:"icon",onClick:U,children:s.jsx(dh,{className:"h-4 w-4"})})]}),s.jsxs(Ue,{children:[s.jsx(gs,{children:s.jsxs(xs,{className:"flex items-center gap-2",children:[s.jsx(ks,{className:"w-5 h-5"}),"Users  select one to fill real user data"]})}),s.jsx(qe,{className:"p-4",children:a?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(zx,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):M.length===0?s.jsx("p",{className:"text-center py-8 text-muted-foreground",children:"No users found"}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:M.map(z=>s.jsx(Ue,{className:"overflow-hidden border-2 hover:shadow-md transition-shadow",children:s.jsxs(qe,{className:"p-4",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("img",{src:lwe(z),alt:"",className:"h-12 w-12 rounded-full object-cover ring-2 ring-muted",onError:he=>{he.currentTarget.onerror=null,he.currentTarget.src=Z9}}),s.jsxs("div",{className:"min-w-0 flex-1",children:[s.jsx("p",{className:"font-semibold truncate",children:K(z)}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["ID: ",z.id]})]})]}),s.jsxs("div",{className:"space-y-1 text-sm mb-3",children:[s.jsxs("p",{className:"truncate",children:[s.jsx("span",{className:"text-muted-foreground",children:"Name: "}),z.first_name&&z.last_name?`${z.first_name} ${z.last_name}`:""]}),s.jsxs("p",{className:"truncate",children:[s.jsx("span",{className:"text-muted-foreground",children:"Phone: "}),z.phone_number||""]}),s.jsxs("p",{className:"truncate",children:[s.jsx("span",{className:"text-muted-foreground",children:"Username: "}),z.username||""]})]}),s.jsxs("div",{className:"flex items-center justify-between pt-2 border-t",children:[s.jsx("span",{children:z.verified_by_admin?s.jsxs("span",{className:"inline-flex items-center gap-1 text-green-600 text-sm",children:[s.jsx(Hx,{className:"h-4 w-4"})," Verified"]}):s.jsx("span",{className:"text-muted-foreground text-sm",children:"Not verified"})}),s.jsxs(pe,{size:"sm",onClick:()=>ne(z),style:{background:`linear-gradient(to right, ${li.darkBlue}, ${li.teal})`},className:"text-white",children:[s.jsx(br,{className:"w-4 h-4 mr-2"}),"Fill Real Data"]})]})]})},z.id))})})]}),r.last_page>1&&s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Page ",r.current_page," of ",r.last_page,"  Total ",r.total]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(pe,{variant:"outline",size:"sm",disabled:o<=1,onClick:()=>c(z=>z-1),children:"Previous"}),s.jsx(pe,{variant:"outline",size:"sm",disabled:o>=r.last_page,onClick:()=>c(z=>z+1),children:"Next"})]})]}),s.jsx(Wo,{children:g&&v&&s.jsx(Kr,{open:g,onOpenChange:z=>!z&&q(),children:s.jsxs(Br,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(Ir,{children:s.jsxs(zr,{className:"flex items-center gap-2",children:[s.jsx(Hx,{className:"w-5 h-5"}),"Real User Data  ",K(v)," (ID: ",v.id,")"]})}),s.jsxs("form",{onSubmit:O,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Hover over images to magnify and see details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(Ue,{children:[s.jsx(gs,{children:s.jsxs(xs,{className:"text-sm flex items-center gap-2",children:[s.jsx(Zc,{className:"w-4 h-4"}),"ID Card  Front"]})}),s.jsx(qe,{children:s.jsx("div",{className:"w-full bg-muted rounded-lg flex items-center justify-center overflow-hidden border-2 border-dashed min-h-[260px]",children:_?.id_card_front?s.jsx(H1,{title:"ID Card Front",path:_.id_card_front}):s.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[s.jsx(Zc,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No Front ID"})]})})})]}),s.jsxs(Ue,{children:[s.jsx(gs,{children:s.jsxs(xs,{className:"text-sm flex items-center gap-2",children:[s.jsx(Zc,{className:"w-4 h-4"}),"ID Card  Back"]})}),s.jsx(qe,{children:s.jsx("div",{className:"w-full bg-muted rounded-lg flex items-center justify-center overflow-hidden border-2 border-dashed min-h-[260px]",children:_?.id_card_back?s.jsx(H1,{title:"ID Card Back",path:_.id_card_back}):s.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[s.jsx(Zc,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No Back ID"})]})})})]}),s.jsxs(Ue,{children:[s.jsx(gs,{children:s.jsxs(xs,{className:"text-sm flex items-center gap-2",children:[s.jsx(Zc,{className:"w-4 h-4"}),"Driver License"]})}),s.jsx(qe,{children:s.jsx("div",{className:"w-full bg-muted rounded-lg flex items-center justify-center overflow-hidden border-2 border-dashed min-h-[260px]",children:_?.client?.driver_license?s.jsx(H1,{title:"Driver License",path:_.client.driver_license}):s.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[s.jsx(Zc,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No License"})]})})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{htmlFor:"first_name",children:"First Name *"}),s.jsx(Se,{id:"first_name",name:"first_name",value:N.first_name,onChange:F,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{htmlFor:"middle_name",children:"Middle Name"}),s.jsx(Se,{id:"middle_name",name:"middle_name",value:N.middle_name,onChange:F})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{htmlFor:"last_name",children:"Last Name *"}),s.jsx(Se,{id:"last_name",name:"last_name",value:N.last_name,onChange:F,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{htmlFor:"id_number",children:"ID Number"}),s.jsx(Se,{id:"id_number",name:"id_number",value:N.id_number,onChange:F})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{htmlFor:"passport_number",children:"Passport Number"}),s.jsx(Se,{id:"passport_number",name:"passport_number",value:N.passport_number,onChange:F})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{htmlFor:"driver_license_number",children:"Driver License Number"}),s.jsx(Se,{id:"driver_license_number",name:"driver_license_number",value:N.driver_license_number,onChange:F})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{htmlFor:"gender",children:"Gender *"}),s.jsxs(ft,{value:N.gender,onValueChange:z=>Y("gender",z),children:[s.jsx(ut,{children:s.jsx(mt,{placeholder:"Select"})}),s.jsxs(ht,{children:[s.jsx(Ce,{value:"male",children:"Male"}),s.jsx(Ce,{value:"female",children:"Female"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{htmlFor:"date_of_birth",children:"Date of Birth"}),s.jsx(Se,{id:"date_of_birth",name:"date_of_birth",type:"date",value:N.date_of_birth,onChange:F})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{htmlFor:"mother_name",children:"Mother's Name"}),s.jsx(Se,{id:"mother_name",name:"mother_name",value:N.mother_name,onChange:F})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(de,{htmlFor:"place_of_birth",children:"Place of Birth"}),s.jsx(Se,{id:"place_of_birth",name:"place_of_birth",value:N.place_of_birth,onChange:F})]})]}),s.jsxs(XO,{className:"flex-wrap gap-2",children:[S&&s.jsxs(s.Fragment,{children:[S.status!=="approved"&&s.jsxs(pe,{type:"button",onClick:()=>se("approved"),className:"bg-green-600 hover:bg-green-700",children:[s.jsx(ci,{className:"h-4 w-4 mr-2"}),"Approve"]}),S.status!=="not_approved"&&s.jsxs(pe,{type:"button",variant:"destructive",onClick:()=>se("not_approved"),children:[s.jsx(gr,{className:"h-4 w-4 mr-2"}),"Reject"]}),s.jsx(pe,{type:"button",variant:"outline",onClick:X,className:"text-red-500",children:"Delete Real Data"})]}),s.jsx(pe,{type:"button",variant:"outline",onClick:q,disabled:I,children:"Cancel"}),s.jsx(pe,{type:"submit",disabled:I,style:{background:`linear-gradient(to right, ${li.darkBlue}, ${li.teal})`},className:"text-white",children:I?s.jsxs(s.Fragment,{children:[s.jsx(zx,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(bG,{className:"w-4 h-4 mr-2"}),"Save Real Data"]})})]})]})]})})})]})}const hx={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640"};function dwe(){const t=Ur(),[e,r]=j.useState(!1),[n,a]=j.useState([]),[i,o]=j.useState({totalAds:0,activeAds:0,totalViews:0,totalClicks:0,averageCTR:0});j.useEffect(()=>{c()},[]);const c=async()=>{r(!0);try{const f=(await Oe.get("/admin/ads?per_page=100")).data?.ads||[];a(f);const g=f.filter(_=>{if(!_.online)return!1;const b=new Date,N=new Date(_.start_at),k=new Date(_.expire_at);return b>=N&&b<=k}),y=f.reduce((_,b)=>_+(b.nb_views||0),0),v=f.reduce((_,b)=>_+(b.nb_clicks||0),0),w=y>0?(v/y*100).toFixed(2):0;o({totalAds:f.length,activeAds:g.length,totalViews:y,totalClicks:v,averageCTR:parseFloat(w)})}catch(m){be.error(m.response?.data?.message||"Failed to fetch ads")}finally{r(!1)}},d=()=>{const m=[{key:"id",label:"ID"},{key:"website",label:"Website"},{key:"company_type",label:"Company Type"},{key:"nb_views",label:"Views"},{key:"nb_clicks",label:"Clicks"},{key:"ctr",label:"CTR (%)",transform:g=>{const y=g.nb_views||0,v=g.nb_clicks||0;return y>0?(v/y*100).toFixed(2):"0.00"}},{key:"online",label:"Status",transform:g=>g.online?"Online":"Offline"},{key:"start_at",label:"Start Date",transform:g=>new Date(g.start_at).toLocaleString()},{key:"expire_at",label:"Expire Date",transform:g=>new Date(g.expire_at).toLocaleString()}],f=n.map(g=>({...g,ctr:m.find(y=>y.key==="ctr")?.transform?.(g),online:m.find(y=>y.key==="online")?.transform?.(g),start_at:m.find(y=>y.key==="start_at")?.transform?.(g),expire_at:m.find(y=>y.key==="expire_at")?.transform?.(g)}));BI(f,m,"ads-analytics")},h=()=>{const m=[{key:"id",label:"ID"},{key:"website",label:"Website"},{key:"company_type",label:"Company Type"},{key:"nb_views",label:"Views"},{key:"nb_clicks",label:"Clicks"},{key:"ctr",label:"CTR (%)",transform:g=>{const y=g.nb_views||0,v=g.nb_clicks||0;return y>0?(v/y*100).toFixed(2):"0.00"}},{key:"online",label:"Status",transform:g=>g.online?"Online":"Offline"}],f=n.map(g=>({...g,ctr:m.find(y=>y.key==="ctr")?.transform?.(g),online:m.find(y=>y.key==="online")?.transform?.(g)}));II(f,m,"Ads Analytics Report","ads-analytics")};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900 p-4 sm:p-6 lg:p-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(to right, ${hx.darkBlue}, ${hx.teal}, ${hx.limeGreen})`},children:"Ads Analytics"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Track views, clicks, and performance metrics for all ads"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(pe,{variant:"outline",onClick:d,children:[s.jsx(Bx,{className:"w-4 h-4 mr-2"}),"Export Excel"]}),s.jsxs(pe,{variant:"outline",onClick:h,children:[s.jsx(Bx,{className:"w-4 h-4 mr-2"}),"Export PDF"]}),s.jsxs(pe,{variant:"outline",onClick:()=>t("/admin-panel-page"),className:"flex items-center gap-2",children:[s.jsx(zi,{className:"w-4 h-4"}),"Back to Admin Panel"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-6",children:[s.jsxs(Ue,{children:[s.jsxs(gs,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(xs,{className:"text-sm font-medium",children:"Total Ads"}),s.jsx(Vu,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(qe,{children:s.jsx("div",{className:"text-2xl font-bold",children:i.totalAds})})]}),s.jsxs(Ue,{children:[s.jsxs(gs,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(xs,{className:"text-sm font-medium",children:"Active Ads"}),s.jsx(Hs,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(qe,{children:s.jsx("div",{className:"text-2xl font-bold",children:i.activeAds})})]}),s.jsxs(Ue,{children:[s.jsxs(gs,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(xs,{className:"text-sm font-medium",children:"Total Views"}),s.jsx(sr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(qe,{children:s.jsx("div",{className:"text-2xl font-bold",children:i.totalViews.toLocaleString()})})]}),s.jsxs(Ue,{children:[s.jsxs(gs,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(xs,{className:"text-sm font-medium",children:"Total Clicks"}),s.jsx(dd,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(qe,{children:s.jsx("div",{className:"text-2xl font-bold",children:i.totalClicks.toLocaleString()})})]}),s.jsxs(Ue,{children:[s.jsxs(gs,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(xs,{className:"text-sm font-medium",children:"Avg CTR"}),s.jsx(Zl,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(qe,{children:s.jsxs("div",{className:"text-2xl font-bold",children:[i.averageCTR,"%"]})})]})]}),s.jsxs(Ue,{children:[s.jsx(gs,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(xs,{children:"Ads Performance"}),s.jsx(pe,{variant:"outline",size:"icon",onClick:c,disabled:e,children:s.jsx(Tt,{className:`w-4 h-4 ${e?"animate-spin":""}`})})]})}),s.jsx(qe,{children:e?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Tt,{className:"w-8 h-8 animate-spin",style:{color:hx.teal}})}):n.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(Vu,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No ads found"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Dt,{children:[s.jsx(Mt,{children:s.jsxs(Ve,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Website"}),s.jsx(_e,{children:"Company Type"}),s.jsx(_e,{children:"Views"}),s.jsx(_e,{children:"Clicks"}),s.jsx(_e,{children:"CTR (%)"}),s.jsx(_e,{children:"Status"}),s.jsx(_e,{children:"Start Date"}),s.jsx(_e,{children:"Expire Date"})]})}),s.jsx(Pt,{children:n.map(m=>{const f=m.nb_views||0,g=m.nb_clicks||0,y=f>0?(g/f*100).toFixed(2):"0.00",v=m.online&&new Date>=new Date(m.start_at)&&new Date<=new Date(m.expire_at);return s.jsxs(Ve,{children:[s.jsx(ge,{className:"font-medium",children:m.id}),s.jsx(ge,{children:m.website||"N/A"}),s.jsx(ge,{children:m.company_type||"N/A"}),s.jsx(ge,{children:f.toLocaleString()}),s.jsx(ge,{children:g.toLocaleString()}),s.jsx(ge,{children:s.jsxs("span",{className:`font-semibold ${parseFloat(y)>2?"text-green-600":parseFloat(y)>1?"text-yellow-600":"text-gray-600"}`,children:[y,"%"]})}),s.jsx(ge,{children:v?s.jsx(We,{variant:"default",children:"Active"}):s.jsx(We,{variant:"secondary",children:"Inactive"})}),s.jsx(ge,{children:new Date(m.start_at).toLocaleDateString()}),s.jsx(ge,{children:new Date(m.expire_at).toLocaleDateString()})]},m.id)})})]})})})]})]})})}const uwe=async()=>{try{return(await Oe.get("/ads")).data?.ads||[]}catch(t){return console.error("Error fetching active ads:",t),[]}},hwe=async t=>{try{await Oe.post(`/ads/${t}/view`)}catch(e){console.error("Error tracking ad view:",e)}},fwe=async t=>{try{await Oe.post(`/ads/${t}/click`)}catch(e){console.error("Error tracking ad click:",e)}};function q1(){const[t,e]=j.useState(!1),[r,n]=j.useState(null);j.useEffect(()=>{if(sessionStorage.getItem("adsPopupShown"))return;const c=async()=>{try{const h=await uwe();if(h.length>0){const m=h[Math.floor(Math.random()*h.length)];n(m),e(!0),m.id&&await hwe(m.id)}}catch(h){console.error("Error fetching ads:",h)}},d=setTimeout(()=>{c()},2e4);return()=>clearTimeout(d)},[]);const a=()=>{e(!1),sessionStorage.setItem("adsPopupShown","true")},i=async()=>{if(r?.id)try{await fwe(r.id)}catch(o){console.error("Error tracking ad click:",o)}finally{r.target_url&&window.open(r.target_url,"_blank")}};return!t||!r?null:s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-fade-in",children:s.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-lg shadow-2xl max-w-2xl w-full mx-4 animate-scale-in",children:[s.jsx(pe,{variant:"ghost",size:"icon",onClick:a,className:"absolute top-2 right-2 z-10",children:s.jsx(gr,{className:"w-5 h-5"})}),s.jsxs("div",{className:"p-6",children:[r.image_url&&s.jsx("div",{className:"cursor-pointer mb-4 rounded-lg overflow-hidden",onClick:i,children:s.jsx("img",{src:r.image_url.startsWith("http")?r.image_url:`/api/storage/${r.image_url}`,alt:r.ads_text||"Advertisement",className:"w-full h-auto object-contain max-h-96"})}),r.ads_text&&s.jsx("div",{className:"text-center cursor-pointer",onClick:i,children:s.jsx("p",{className:"text-lg font-semibold mb-2",children:r.ads_text})}),r.target_url&&s.jsx("div",{className:"mt-4 text-center",children:s.jsx(pe,{onClick:i,className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white",children:"Visit Website"})})]})]})})}const e6="https://rento-lb.com/watch",mwe="https://rento-lb.com/hero.mp4",Q9="https://images.unsplash.com/photo-1492144534655-ae79c964c9d7?w=1280&q=80",pwe={"@context":"https://schema.org","@type":"VideoObject","@id":`${e6}#video`,name:"Rento LB  Rent a Car in Lebanon",description:"Premium car rental in Lebanon. Compare and book from agencies and private owners.",thumbnailUrl:Q9,uploadDate:"2024-01-01T00:00:00Z",contentUrl:mwe,embedUrl:e6,publisher:{"@id":"https://rento-lb.com/#organization"}};function gwe(){const t=Ur();return j.useEffect(()=>{document.title="Watch  Rento LB | Car Rental Lebanon";const e=document.createElement("script");return e.type="application/ld+json",e.setAttribute("data-watch-page-schema","true"),e.textContent=JSON.stringify(pwe),document.head.appendChild(e),()=>{const r=document.querySelector('script[data-watch-page-schema="true"]');r&&document.head.removeChild(r)}},[]),s.jsxs("div",{className:"min-h-screen bg-black",children:[s.jsx("div",{className:"absolute top-4 left-4 z-10",children:s.jsxs(pe,{variant:"secondary",size:"sm",onClick:()=>t("/"),className:"gap-2",children:[s.jsx(zi,{className:"w-4 h-4"}),"Back to Home"]})}),s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:[s.jsx("h1",{className:"sr-only",children:"Rento LB  Rent a Car in Lebanon"}),s.jsxs("video",{className:"w-full max-w-4xl rounded-lg shadow-2xl",controls:!0,autoPlay:!0,playsInline:!0,poster:Q9,src:"/hero.mp4",children:[s.jsx("source",{src:"/hero.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]}),s.jsx("p",{className:"mt-4 text-white/80 text-sm text-center max-w-lg",children:"Premium car rental in Lebanon. Compare and book from trusted agencies and private owners."})]})]})}const J9=async()=>{try{return(await Oe.get("/profile/status")).data.is_complete}catch(t){return console.error("Profile status check failed:",t),!1}},xwe=({children:t})=>!localStorage.getItem("authToken")?s.jsx(Fo,{to:"/auth",replace:!0}):t,Kc=({children:t})=>{const[e,r]=j.useState(!0),[n,a]=j.useState(!1),i=!!localStorage.getItem("authToken");return j.useEffect(()=>{(async()=>{if(!i){r(!1);return}const c=await J9();a(c),r(!1)})()},[i]),i?e?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n?t:s.jsx(Fo,{to:"/Complete-Profile",replace:!0}):s.jsx(Fo,{to:"/auth",replace:!0})},Xc=({children:t})=>{const[e,r]=j.useState(!0),[n,a]=j.useState(!1),i=!!localStorage.getItem("authToken"),o=JSON.parse(localStorage.getItem("user")||"{}");return j.useEffect(()=>{(async()=>{if(!i){r(!1);return}const d=await J9();a(d),r(!1)})()},[i]),i?o.role!=="agency"&&o.role!=="agent"?s.jsx(Fo,{to:"/",replace:!0}):e?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n?t:s.jsx(Fo,{to:"/Complete-Profile",replace:!0}):s.jsx(Fo,{to:"/auth",replace:!0})},W1=({children:t})=>{const e=!!localStorage.getItem("authToken"),r=JSON.parse(localStorage.getItem("user")||"{}");return e?r.role!=="admin"?s.jsx(Fo,{to:"/admin-auth",replace:!0}):t:s.jsx(Fo,{to:"/admin-auth",replace:!0})},on=({children:t,noIndex:e=!1})=>s.jsxs(s.Fragment,{children:[s.jsx($ue,{noIndex:e}),s.jsx(DK,{}),t,s.jsx(MK,{})]});function ywe(){const{i18n:t}=jU(),e=ba();return j.useEffect(()=>{const r=localStorage.getItem("language")||"en";document.documentElement.lang=r,document.documentElement.dir=r==="ar"?"rtl":"ltr"},[]),j.useEffect(()=>{typeof window.fbq=="function"&&window.fbq("track","PageView")},[e.pathname]),s.jsxs("div",{className:"min-h-screen",children:[s.jsxs(wV,{children:[s.jsx(It,{path:"/",element:s.jsxs(s.Fragment,{children:[s.jsx(on,{children:s.jsx(RJ,{})}),s.jsx(q1,{})]})}),s.jsx(It,{path:"/auth",element:s.jsx(on,{noIndex:!0,children:s.jsx(CJ,{})})}),s.jsx(It,{path:"/about",element:s.jsx(on,{children:s.jsx(Lee,{})})}),s.jsx(It,{path:"/contact",element:s.jsx(on,{children:s.jsx(Fee,{})})}),s.jsx(It,{path:"/watch",element:s.jsx(gwe,{})}),s.jsx(It,{path:"/mobile-app",element:s.jsx(on,{children:s.jsx(Axe,{})})}),s.jsx(It,{path:"/Privacy-Policy",element:s.jsx(_xe,{})}),s.jsx(It,{path:"/Terms-and-Conditions",element:s.jsx(Sxe,{})}),s.jsx(It,{path:"/admin-auth",element:s.jsx(on,{noIndex:!0,children:s.jsx(aye,{})})}),s.jsx(It,{path:"/admin-panel-page",element:s.jsx(W1,{children:s.jsx(on,{noIndex:!0,children:s.jsx(K0e,{})})})}),s.jsx(It,{path:"/admin/ads-analytics",element:s.jsx(W1,{children:s.jsx(on,{noIndex:!0,children:s.jsx(dwe,{})})})}),s.jsxs(It,{path:"/admin",element:s.jsx(W1,{children:s.jsx(Xbe,{})}),children:[s.jsx(It,{index:!0,element:s.jsx(tve,{})}),s.jsx(It,{path:"users",element:s.jsx(ive,{})}),s.jsx(It,{path:"agencies",element:s.jsx(swe,{})}),s.jsx(It,{path:"cars",element:s.jsx(xve,{})}),s.jsx(It,{path:"bookings",element:s.jsx(_ve,{})}),s.jsx(It,{path:"real-user-data",element:s.jsx(cwe,{})}),s.jsx(It,{path:"payments",element:s.jsx(Dve,{})}),s.jsx(It,{path:"promo-codes",element:s.jsx(Xve,{})}),s.jsx(It,{path:"brokers",element:s.jsx(Zve,{})}),s.jsx(It,{path:"ads",element:s.jsx(Lve,{})}),s.jsx(It,{path:"featured",element:s.jsx(Fve,{})}),s.jsx(It,{path:"holidays",element:s.jsx(Ive,{})}),s.jsx(It,{path:"announcements",element:s.jsx(Uve,{})}),s.jsx(It,{path:"appeals",element:s.jsx(Vve,{})}),s.jsx(It,{path:"suggestions",element:s.jsx(qve,{})}),s.jsx(It,{path:"services",element:s.jsx(rwe,{})}),s.jsx(It,{path:"notifications",element:s.jsx(Gve,{})}),s.jsx(It,{path:"otps",element:s.jsx(Kve,{})})]}),s.jsx(It,{path:"/Complete-Profile",element:s.jsx(xwe,{children:s.jsx(on,{noIndex:!0,children:s.jsx(Wue,{})})})}),s.jsx(It,{path:"/Dashboard",element:s.jsx(Xc,{children:s.jsx(Bc,{children:s.jsx(zue,{})})})}),s.jsx(It,{path:"/Statistic",element:s.jsx(Xc,{children:s.jsx(Bc,{children:s.jsx(jxe,{})})})}),s.jsx(It,{path:"/Mycars",element:s.jsx(Xc,{children:s.jsx(Bc,{children:s.jsx(gue,{})})})}),s.jsx(It,{path:"/Mycars-bookings",element:s.jsx(Xc,{children:s.jsx(Bc,{children:s.jsx(Mue,{})})})}),s.jsx(It,{path:"/Balance",element:s.jsx(Xc,{children:s.jsx(Bc,{children:s.jsx(Uue,{})})})}),s.jsx(It,{path:"/add-car",element:s.jsx(Xc,{children:s.jsx(Bc,{children:s.jsx(Rie,{})})})}),s.jsx(It,{path:"/Add/car/qualification",element:s.jsx(Xc,{children:s.jsx(Bc,{children:s.jsx(Iue,{})})})}),s.jsx(It,{path:"/BookingChat",element:s.jsx(Kc,{children:s.jsx(on,{children:s.jsx(kue,{})})})}),s.jsx(It,{path:"/client-Chat",element:s.jsx(Kc,{children:s.jsx(on,{children:s.jsx(Yue,{})})})}),s.jsx(It,{path:"/socialmedia",element:s.jsx(on,{children:s.jsx(Oue,{})})}),s.jsx(It,{path:"/cars",element:s.jsxs(s.Fragment,{children:[s.jsx(Kc,{children:s.jsx(on,{children:s.jsx(FT,{})})}),s.jsx(q1,{})]})}),s.jsx(It,{path:"/ClientBookings",element:s.jsx(Kc,{children:s.jsx(on,{children:s.jsx(Vte,{})})})}),s.jsx(It,{path:"/luxury-car-rental-lebanon",element:s.jsxs(s.Fragment,{children:[s.jsx(Kc,{children:s.jsx(on,{children:s.jsx(FT,{})})}),s.jsx(q1,{})]})}),s.jsx(It,{path:"/cars/:id",element:s.jsx(Kc,{children:s.jsx(on,{children:s.jsx(Mee,{})})})}),s.jsx(It,{path:"/favorites",element:s.jsx(Kc,{children:s.jsx(on,{children:s.jsx(Oee,{})})})}),s.jsx(It,{path:"*",element:s.jsx(Fo,{to:"/",replace:!0})})]}),s.jsx(MH,{position:"top-right",richColors:!0})]})}function bwe(){return s.jsx("div",{className:"App",children:s.jsx(WV,{children:s.jsx(ywe,{})})})}Pz.createRoot(document.getElementById("root")).render(ot.createElement(ot.StrictMode,null,ot.createElement(bwe)));
