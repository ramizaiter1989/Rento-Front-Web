import{r as i,j as e,B as l}from"./index-DbvXYXc0.js";import{A as b}from"./AdForm-BCF9f2W_.js";import{C as o,b as w,c as C,a as x}from"./card-6tZ6FSP9.js";import{T as N,a as v,b as m,c as a,d as y,e as r}from"./table-Cdzf11jr.js";import{B as A}from"./badge-De3gxj8m.js";import{V as g,W as T}from"./adminApi-C-vdNBvN.js";import{t as h}from"./use-toast-BTZLQfF-.js";import{P as k}from"./plus-CKnT-f47.js";import{R as B}from"./refresh-cw-BkItMj0z.js";import{T as F}from"./trash-wdzd2LuX.js";import"./label-DMFTECDG.js";import"./input-Bf8YvsU0.js";import"./textarea-BN8r6i6x.js";import"./switch-D3Ete2KM.js";import"./index-UZKPKpE4.js";import"./index-ddclwrTJ.js";import"./index-D66kppzp.js";const J=()=>{const[n,j]=i.useState([]),[f,c]=i.useState(!1),[p,d]=i.useState(!1),t=async()=>{d(!0);try{const{data:s}=await g();j(s.ads.data)}finally{d(!1)}};i.useEffect(()=>{t()},[]);const u=async s=>{if(confirm("Delete this ad?"))try{await T(s),h({title:"Ad deleted"}),t()}catch{h({title:"Failed to delete ad",variant:"destructive"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Ads"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(l,{size:"sm","aria-label":"Create new ad",onClick:()=>c(s=>!s),children:[e.jsx(k,{className:"h-4 w-4 mr-1"}),"Create Ad"]}),e.jsx(l,{size:"icon","aria-label":"refresh data",variant:"outline",onClick:t,children:e.jsx(B,{className:"h-4 w-4"})})]})]}),f&&e.jsxs(o,{children:[e.jsx(w,{children:e.jsx(C,{children:"Create Advertisement"})}),e.jsx(x,{children:e.jsx(b,{onSuccess:()=>{c(!1),t()}})})]}),e.jsx(o,{children:e.jsxs(x,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(N,{children:[e.jsx(v,{children:e.jsxs(m,{children:[e.jsx(a,{children:"ID"}),e.jsx(a,{children:"Website"}),e.jsx(a,{children:"Company"}),e.jsx(a,{children:"User"}),e.jsx(a,{children:"Online"}),e.jsx(a,{children:"Views"}),e.jsx(a,{children:"Clicks"}),e.jsx(a,{children:"Cost"}),e.jsx(a,{className:"text-right",children:"Actions"})]})}),e.jsx(y,{children:n.map(s=>e.jsxs(m,{children:[e.jsx(r,{children:s.id}),e.jsx(r,{className:"max-w-[160px] truncate",children:e.jsx("a",{href:s.website,target:"_blank",className:"text-blue-400 hover:underline",children:s.website})}),e.jsx(r,{children:s.company_type}),e.jsx(r,{children:s.user?.username??"â€”"}),e.jsx(r,{children:e.jsx(A,{variant:s.online?"success":"secondary",children:s.online?"Online":"Offline"})}),e.jsx(r,{children:s.nb_views}),e.jsx(r,{children:s.nb_clicks}),e.jsxs(r,{children:["$",Number(s.amount_cost).toFixed(2)]}),e.jsx(r,{className:"text-right",children:e.jsx(l,{size:"sm",variant:"destructive","aria-label":"Delete ad",onClick:()=>u(s.id),children:e.jsx(F,{className:"h-3 w-3"})})})]},s.id))})]})}),!p&&n.length===0&&e.jsx("p",{className:"text-center text-muted-foreground py-6",children:"No ads found"})]})})]})};export{J as default};
