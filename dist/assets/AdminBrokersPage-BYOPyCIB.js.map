{"version":3,"file":"AdminBrokersPage-BYOPyCIB.js","sources":["../../src/pages/admin/AdminBrokersPage.jsx"],"sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\nimport {\n  getUsers,\n  createBroker,\n  getBrokerBalance,\n  getBrokerCommissions,\n  getBrokerPayouts,\n  getBrokerReferrals,\n  getBrokerCommissionsList,\n  createBrokerPayout,\n  cancelBrokerCommission,\n  deleteBrokerReferral,\n} from \"@/lib/adminApi\";\nimport { Card, CardContent, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from \"@/components/ui/table\";\nimport { Dialog, DialogContent, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\nimport {\n  AlertDialog,\n  AlertDialogAction,\n  AlertDialogCancel,\n  AlertDialogContent,\n  AlertDialogDescription,\n  AlertDialogFooter,\n  AlertDialogHeader,\n  AlertDialogTitle,\n} from \"@/components/ui/alert-dialog\";\nimport { Users, DollarSign, RefreshCw, ChevronLeft } from \"lucide-react\";\nimport { toast } from \"sonner\";\n\nfunction brokerName(b) {\n  return b?.username || [b?.first_name, b?.last_name].filter(Boolean).join(\" \") || `Broker #${b?.id}`;\n}\n\nexport default function AdminBrokersPage() {\n  const [brokers, setBrokers] = useState([]);\n  const [commissionsList, setCommissionsList] = useState({ data: [] });\n  const [loading, setLoading] = useState(true);\n  const [selectedBroker, setSelectedBroker] = useState(null);\n  const [brokerDetailTab, setBrokerDetailTab] = useState(\"overview\");\n  const [balance, setBalance] = useState(null);\n  const [commissions, setCommissions] = useState({ data: [], statistics: {} });\n  const [payouts, setPayouts] = useState({ data: [] });\n  const [referrals, setReferrals] = useState([]);\n  const [commissionStatusFilter, setCommissionStatusFilter] = useState(\"all\");\n  const [confirm, setConfirm] = useState({ open: false, title: \"\", message: \"\", onConfirm: null });\n  const [modal, setModal] = useState({ open: false, type: null });\n  const [form, setForm] = useState({\n    username: \"\", phone_number: \"\", email: \"\", password: \"\", password_confirmation: \"\",\n    first_name: \"\", last_name: \"\", broker_id: \"\", amount: \"\", reference: \"\", notes: \"\",\n  });\n\n  const fetchBrokers = useCallback(async () => {\n    setLoading(true);\n    try {\n      const res = await getUsers({ role: \"broker\", per_page: 200 });\n      const raw = res.data?.users?.data ?? res.data?.users ?? res.data?.data;\n      setBrokers(Array.isArray(raw) ? raw : []);\n    } catch (e) {\n      console.error(e);\n      toast.error(\"Failed to load brokers\");\n      setBrokers([]);\n    } finally {\n      setLoading(false);\n    }\n  }, []);\n\n  const fetchCommissionsList = useCallback(async () => {\n    try {\n      const res = await getBrokerCommissionsList({ per_page: 100 });\n      const raw = res.data?.data ?? res.data?.commissions ?? res.data;\n      setCommissionsList({ data: Array.isArray(raw) ? raw : [] });\n    } catch (e) {\n      setCommissionsList({ data: [] });\n    }\n  }, []);\n\n  const openBrokerDetail = useCallback(async (broker) => {\n    setSelectedBroker(broker);\n    setBrokerDetailTab(\"overview\");\n    if (!broker?.id) return;\n    try {\n      const [balanceRes, commRes, payRes, refRes] = await Promise.all([\n        getBrokerBalance(broker.id).catch(() => ({ data: null })),\n        getBrokerCommissions(broker.id).catch(() => ({ data: { data: [], statistics: {} } })),\n        getBrokerPayouts(broker.id).catch(() => ({ data: { payouts: { data: [] } } })),\n        getBrokerReferrals(broker.id).catch(() => ({ data: { referrals: [] } })),\n      ]);\n      setBalance(balanceRes.data);\n      const commRaw = commRes.data?.commissions?.data ?? commRes.data?.commissions;\n      setCommissions({ data: Array.isArray(commRaw) ? commRaw : [], statistics: commRes.data?.statistics || {} });\n      const payRaw = payRes.data?.payouts?.data ?? payRes.data?.data ?? payRes.data;\n      setPayouts({ data: Array.isArray(payRaw) ? payRaw : [] });\n      const refRaw = refRes.data?.referrals ?? refRes.data?.data ?? refRes.data;\n      setReferrals(Array.isArray(refRaw) ? refRaw : []);\n    } catch (e) {\n      toast.error(\"Failed to load broker detail\");\n    }\n  }, []);\n\n  const closeBrokerDetail = () => {\n    setSelectedBroker(null);\n    setBalance(null);\n    setCommissions({ data: [], statistics: {} });\n    setPayouts({ data: [] });\n    setReferrals([]);\n  };\n\n  const refreshCommissionsByStatus = async (status) => {\n    if (!selectedBroker?.id) return;\n    setCommissionStatusFilter(status);\n    try {\n      const res = await getBrokerCommissions(selectedBroker.id, { status: status === \"all\" ? undefined : status });\n      const raw = res.data?.commissions?.data ?? res.data?.commissions;\n      setCommissions({ data: Array.isArray(raw) ? raw : [], statistics: res.data?.statistics || {} });\n    } catch (e) {\n      console.error(e);\n    }\n  };\n\n  useEffect(() => {\n    fetchBrokers();\n    fetchCommissionsList();\n  }, [fetchBrokers, fetchCommissionsList]);\n\n  const handleCreateBroker = async () => {\n    try {\n      await createBroker({\n        username: form.username.trim(),\n        phone_number: form.phone_number.trim(),\n        email: form.email.trim() || undefined,\n        password: form.password,\n        password_confirmation: form.password_confirmation,\n        first_name: form.first_name.trim(),\n        last_name: form.last_name.trim(),\n      });\n      toast.success(\"Broker created\");\n      setModal({ open: false, type: null });\n      fetchBrokers();\n    } catch (e) {\n      toast.error(e.response?.data?.message || \"Failed\");\n    }\n  };\n\n  const handleCreatePayout = async () => {\n    try {\n      await createBrokerPayout({\n        broker_id: parseInt(form.broker_id, 10),\n        amount: parseFloat(form.amount) * 100,\n        reference: form.reference.trim() || undefined,\n        notes: form.notes.trim() || undefined,\n      });\n      toast.success(\"Payout created\");\n      setModal({ open: false, type: null });\n      if (selectedBroker?.id) openBrokerDetail(selectedBroker);\n      fetchCommissionsList();\n    } catch (e) {\n      toast.error(e.response?.data?.message || \"Payout failed\");\n    }\n  };\n\n  const handleCancelCommission = (c) => {\n    setConfirm({ open: true, title: \"Cancel commission\", message: \"Are you sure?\", onConfirm: async () => {\n      try {\n        await cancelBrokerCommission(c.id);\n        toast.success(\"Commission cancelled\");\n        if (selectedBroker?.id) refreshCommissionsByStatus(commissionStatusFilter);\n        fetchCommissionsList();\n      } catch (e) {\n        toast.error(e.response?.data?.message || \"Failed\");\n      }\n    } });\n  };\n\n  const handleDeleteReferral = (r) => {\n    setConfirm({ open: true, title: \"Delete referral\", message: \"Remove this referral?\", onConfirm: async () => {\n      try {\n        await deleteBrokerReferral(r.id);\n        toast.success(\"Referral deleted\");\n        if (selectedBroker?.id) openBrokerDetail(selectedBroker);\n      } catch (e) {\n        toast.error(e.response?.data?.message || \"Failed\");\n      }\n    } });\n  };\n\n  return (\n    <div className=\"space-y-6\">\n      <h1 className=\"text-xl font-semibold\">Brokers</h1>\n      <div className=\"flex flex-wrap items-center justify-between gap-4\">\n        <div className=\"flex gap-2\">\n          <Button variant=\"outline\" onClick={() => { setForm({ username: \"\", phone_number: \"\", email: \"\", password: \"\", password_confirmation: \"\", first_name: \"\", last_name: \"\" }); setModal({ open: true, type: \"create-broker\" }); }}>\n            <Users className=\"w-4 h-4 mr-2\" /> Create Broker\n          </Button>\n          <Button onClick={() => { setForm({ broker_id: selectedBroker?.id ? String(selectedBroker.id) : \"\", amount: balance?.balance != null ? String(balance.balance) : \"\", reference: \"\", notes: \"\" }); setModal({ open: true, type: \"create-payout\" }); }}>\n            <DollarSign className=\"w-4 h-4 mr-2\" /> Create Payout\n          </Button>\n        </div>\n        <Button variant=\"outline\" size=\"icon\" onClick={() => { fetchBrokers(); fetchCommissionsList(); }} aria-label=\"Refresh\"><RefreshCw className=\"w-4 h-4\" /></Button>\n      </div>\n\n      {selectedBroker ? (\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between\">\n            <CardTitle className=\"flex items-center gap-2\"><Users className=\"w-5 h-5\" />{brokerName(selectedBroker)}</CardTitle>\n            <div className=\"flex gap-2\">\n              <Button variant=\"outline\" size=\"sm\" onClick={() => { setForm({ broker_id: String(selectedBroker.id), amount: balance?.balance ? String(balance.balance) : \"\", reference: \"\", notes: \"\" }); setModal({ open: true, type: \"create-payout\" }); }}>\n                <DollarSign className=\"w-4 h-4 mr-1\" /> Pay broker\n              </Button>\n              <Button variant=\"ghost\" size=\"sm\" onClick={closeBrokerDetail}><ChevronLeft className=\"w-4 h-4 mr-1\" /> Close</Button>\n            </div>\n          </CardHeader>\n          <CardContent>\n            <Tabs value={brokerDetailTab} onValueChange={setBrokerDetailTab}>\n              <TabsList className=\"grid w-full grid-cols-4\">\n                <TabsTrigger value=\"overview\">Overview</TabsTrigger>\n                <TabsTrigger value=\"commissions\">Commissions</TabsTrigger>\n                <TabsTrigger value=\"payouts\">Payouts</TabsTrigger>\n                <TabsTrigger value=\"referrals\">Referrals</TabsTrigger>\n              </TabsList>\n              <TabsContent value=\"overview\" className=\"space-y-4 mt-4\">\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                  <Card><CardContent className=\"pt-4\"><p className=\"text-sm text-muted-foreground\">Balance</p><p className=\"text-2xl font-bold text-primary\">${(balance?.balance ?? 0).toFixed(2)}</p></CardContent></Card>\n                  <Card><CardContent className=\"pt-4\"><p className=\"text-sm text-muted-foreground\">Total commissions</p><p className=\"text-2xl font-bold\">${(balance?.total_commissions ?? commissions.statistics?.total_commissions ?? 0).toFixed(2)}</p></CardContent></Card>\n                  <Card><CardContent className=\"pt-4\"><p className=\"text-sm text-muted-foreground\">Total payouts</p><p className=\"text-2xl font-bold\">${(balance?.total_payouts ?? commissions.statistics?.total_payouts ?? 0).toFixed(2)}</p></CardContent></Card>\n                </div>\n              </TabsContent>\n              <TabsContent value=\"commissions\" className=\"mt-4\">\n                <div className=\"flex gap-2 mb-4\">\n                  {[\"all\", \"pending\", \"paid\", \"cancelled\"].map((s) => (\n                    <Button key={s} variant={commissionStatusFilter === s ? \"default\" : \"outline\"} size=\"sm\" onClick={() => refreshCommissionsByStatus(s)}>{s.charAt(0).toUpperCase() + s.slice(1)}</Button>\n                  ))}\n                </div>\n                <Table>\n                  <TableHeader>\n                    <TableRow>\n                      <TableHead>ID</TableHead><TableHead>Referred user</TableHead><TableHead>Promo</TableHead><TableHead>Amount</TableHead><TableHead>Commission</TableHead><TableHead>Status</TableHead><TableHead>Actions</TableHead>\n                    </TableRow>\n                  </TableHeader>\n                  <TableBody>\n                    {(commissions.data || []).map((c) => (\n                      <TableRow key={c.id}>\n                        <TableCell>{c.id}</TableCell>\n                        <TableCell>{c.referredUser ? brokerName(c.referredUser) : c.referred_user_id}</TableCell>\n                        <TableCell>{c.promoCode?.code || \"—\"}</TableCell>\n                        <TableCell>${Number(c.booking_amount || 0).toFixed(2)}</TableCell>\n                        <TableCell>${Number(c.commission_amount || 0).toFixed(2)} ({c.commission_percentage}%)</TableCell>\n                        <TableCell><Badge variant={c.status === \"paid\" ? \"default\" : c.status === \"cancelled\" ? \"secondary\" : \"outline\"}>{c.status}</Badge></TableCell>\n                        <TableCell>{c.status === \"pending\" && <Button variant=\"ghost\" size=\"sm\" onClick={() => handleCancelCommission(c)}>Cancel</Button>}</TableCell>\n                      </TableRow>\n                    ))}\n                  </TableBody>\n                </Table>\n              </TabsContent>\n              <TabsContent value=\"payouts\" className=\"mt-4\">\n                <Table>\n                  <TableHeader><TableRow><TableHead>Reference</TableHead><TableHead>Amount</TableHead><TableHead>Paid at</TableHead><TableHead>Description</TableHead></TableRow></TableHeader>\n                  <TableBody>\n                    {(payouts.data || []).map((p) => (\n                      <TableRow key={p.id}>\n                        <TableCell className=\"font-mono text-xs\">{p.reference_id || p.id}</TableCell>\n                        <TableCell>${((p.amount || 0) / 100).toFixed(2)}</TableCell>\n                        <TableCell>{p.paid_at ? new Date(p.paid_at).toLocaleString() : \"—\"}</TableCell>\n                        <TableCell>{p.description || p.metadata?.reference || \"—\"}</TableCell>\n                      </TableRow>\n                    ))}\n                  </TableBody>\n                </Table>\n              </TabsContent>\n              <TabsContent value=\"referrals\" className=\"mt-4\">\n                <Table>\n                  <TableHeader><TableRow><TableHead>ID</TableHead><TableHead>Referred user</TableHead><TableHead>Promo</TableHead><TableHead>Actions</TableHead></TableRow></TableHeader>\n                  <TableBody>\n                    {(referrals || []).map((r) => (\n                      <TableRow key={r.id}>\n                        <TableCell>{r.id}</TableCell>\n                        <TableCell>{r.referredUser ? brokerName(r.referredUser) : r.referred_user_id}</TableCell>\n                        <TableCell>{r.promoCode?.code || \"—\"}</TableCell>\n                        <TableCell><Button variant=\"ghost\" size=\"sm\" className=\"text-destructive\" onClick={() => handleDeleteReferral(r)}>Delete</Button></TableCell>\n                      </TableRow>\n                    ))}\n                  </TableBody>\n                </Table>\n              </TabsContent>\n            </Tabs>\n          </CardContent>\n        </Card>\n      ) : (\n        <>\n          <Card>\n            <CardHeader><CardTitle>Brokers</CardTitle><p className=\"text-sm text-muted-foreground\">Click Manage to view balance, commissions, payouts, and referrals.</p></CardHeader>\n            <CardContent className=\"p-0\">\n              <Table>\n                <TableHeader><TableRow><TableHead>ID</TableHead><TableHead>Username</TableHead><TableHead>Name</TableHead><TableHead>Phone</TableHead><TableHead>Actions</TableHead></TableRow></TableHeader>\n                <TableBody>\n                  {loading ? <TableRow><TableCell colSpan={5} className=\"text-center py-8\">Loading...</TableCell></TableRow> : brokers.length === 0 ? <TableRow><TableCell colSpan={5} className=\"text-center py-8 text-muted-foreground\">No brokers found</TableCell></TableRow> : brokers.map((b) => (\n                    <TableRow key={b.id}>\n                      <TableCell>{b.id}</TableCell><TableCell>{b.username}</TableCell><TableCell>{[b.first_name, b.last_name].filter(Boolean).join(\" \") || \"—\"}</TableCell><TableCell>{b.phone_number || \"—\"}</TableCell>\n                      <TableCell><Button variant=\"outline\" size=\"sm\" onClick={() => openBrokerDetail(b)}>Manage</Button></TableCell>\n                    </TableRow>\n                  ))}\n                </TableBody>\n              </Table>\n            </CardContent>\n          </Card>\n          <Card>\n            <CardHeader><CardTitle>All broker commissions</CardTitle></CardHeader>\n            <CardContent className=\"p-0\">\n              <Table>\n                <TableHeader><TableRow><TableHead>ID</TableHead><TableHead>Broker</TableHead><TableHead>Referred user</TableHead><TableHead>Promo</TableHead><TableHead>Amount</TableHead><TableHead>Status</TableHead></TableRow></TableHeader>\n                <TableBody>\n                  {(commissionsList.data || []).map((c) => (\n                    <TableRow key={c.id}>\n                      <TableCell>{c.id}</TableCell><TableCell>{c.broker ? brokerName(c.broker) : c.broker_id}</TableCell><TableCell>{c.referredUser ? brokerName(c.referredUser) : \"—\"}</TableCell><TableCell>{c.promoCode?.code || \"—\"}</TableCell><TableCell>${Number(c.commission_amount || 0).toFixed(2)}</TableCell><TableCell><Badge variant={c.status === \"paid\" ? \"default\" : c.status === \"cancelled\" ? \"secondary\" : \"outline\"}>{c.status}</Badge></TableCell>\n                    </TableRow>\n                  ))}\n                </TableBody>\n              </Table>\n            </CardContent>\n          </Card>\n        </>\n      )}\n\n      <Dialog open={modal.open && modal.type === \"create-broker\"} onOpenChange={(open) => !open && setModal({ open: false, type: null })}>\n        <DialogContent className=\"max-w-md\">\n          <DialogHeader><DialogTitle>Create Broker</DialogTitle></DialogHeader>\n          <div className=\"space-y-4\">\n            {[\"username\", \"first_name\", \"last_name\", \"phone_number\", \"email\", \"password\", \"password_confirmation\"].map((key) => (\n              <div key={key}><Label>{key.replace(/_/g, \" \")}</Label><Input type={key.includes(\"password\") ? \"password\" : \"text\"} value={form[key]} onChange={(e) => setForm((p) => ({ ...p, [key]: e.target.value }))} /></div>\n            ))}\n            <div className=\"flex justify-end gap-2\"><Button variant=\"outline\" onClick={() => setModal({ open: false, type: null })}>Cancel</Button><Button onClick={handleCreateBroker}>Create</Button></div>\n          </div>\n        </DialogContent>\n      </Dialog>\n\n      <Dialog open={modal.open && modal.type === \"create-payout\"} onOpenChange={(open) => !open && setModal({ open: false, type: null })}>\n        <DialogContent className=\"max-w-md\">\n          <DialogHeader><DialogTitle>Create Payout</DialogTitle></DialogHeader>\n          <div className=\"space-y-4\">\n            <div><Label>Broker</Label><select className=\"w-full border rounded-md px-3 py-2\" value={form.broker_id} onChange={(e) => setForm((p) => ({ ...p, broker_id: e.target.value }))}><option value=\"\">Select broker</option>{brokers.map((b) => <option key={b.id} value={b.id}>{brokerName(b)}</option>)}</select></div>\n            <div><Label>Amount ($)</Label><Input type=\"number\" step={0.01} value={form.amount} onChange={(e) => setForm((p) => ({ ...p, amount: e.target.value }))} /></div>\n            <div><Label>Reference (optional)</Label><Input value={form.reference} onChange={(e) => setForm((p) => ({ ...p, reference: e.target.value }))} /></div>\n            <div><Label>Notes (optional)</Label><Input value={form.notes} onChange={(e) => setForm((p) => ({ ...p, notes: e.target.value }))} /></div>\n            <div className=\"flex justify-end gap-2\"><Button variant=\"outline\" onClick={() => setModal({ open: false, type: null })}>Cancel</Button><Button onClick={handleCreatePayout}>Create Payout</Button></div>\n          </div>\n        </DialogContent>\n      </Dialog>\n\n      <AlertDialog open={confirm.open} onOpenChange={(open) => setConfirm((p) => ({ ...p, open }))}>\n        <AlertDialogContent><AlertDialogHeader><AlertDialogTitle>{confirm.title}</AlertDialogTitle><AlertDialogDescription>{confirm.message}</AlertDialogDescription></AlertDialogHeader><AlertDialogFooter><AlertDialogCancel>Cancel</AlertDialogCancel><AlertDialogAction onClick={confirm.onConfirm}>Confirm</AlertDialogAction></AlertDialogFooter></AlertDialogContent>\n      </AlertDialog>\n    </div>\n  );\n}\n"],"names":["brokerName","b","AdminBrokersPage","brokers","setBrokers","useState","commissionsList","setCommissionsList","loading","setLoading","selectedBroker","setSelectedBroker","brokerDetailTab","setBrokerDetailTab","balance","setBalance","commissions","setCommissions","payouts","setPayouts","referrals","setReferrals","commissionStatusFilter","setCommissionStatusFilter","confirm","setConfirm","modal","setModal","form","setForm","fetchBrokers","useCallback","res","getUsers","raw","e","toast","fetchCommissionsList","getBrokerCommissionsList","openBrokerDetail","broker","balanceRes","commRes","payRes","refRes","getBrokerBalance","getBrokerCommissions","getBrokerPayouts","getBrokerReferrals","commRaw","payRaw","refRaw","closeBrokerDetail","refreshCommissionsByStatus","status","useEffect","handleCreateBroker","createBroker","handleCreatePayout","createBrokerPayout","handleCancelCommission","c","cancelBrokerCommission","handleDeleteReferral","r","deleteBrokerReferral","jsxs","jsx","Button","Users","DollarSign","RefreshCw","Card","CardHeader","CardTitle","ChevronLeft","CardContent","Tabs","TabsList","TabsTrigger","TabsContent","Table","TableHeader","TableRow","TableHead","TableBody","TableCell","Badge","p","Fragment","Dialog","open","DialogContent","DialogHeader","DialogTitle","key","Label","Input","AlertDialog","AlertDialogContent","AlertDialogHeader","AlertDialogTitle","AlertDialogDescription","AlertDialogFooter","AlertDialogCancel","AlertDialogAction"],"mappings":"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"}