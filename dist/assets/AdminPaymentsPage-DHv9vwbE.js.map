{"version":3,"file":"AdminPaymentsPage-DHv9vwbE.js","sources":["../../node_modules/lucide-react/dist/esm/icons/arrow-up-down.js","../../src/pages/admin/AdminPaymentsPage.jsx"],"sourcesContent":["/**\n * @license lucide-react v0.507.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"m21 16-4 4-4-4\", key: \"f6ql7i\" }],\n  [\"path\", { d: \"M17 20V4\", key: \"1ejh1v\" }],\n  [\"path\", { d: \"m3 8 4-4 4 4\", key: \"11wl7u\" }],\n  [\"path\", { d: \"M7 4v16\", key: \"1glfcx\" }]\n];\nconst ArrowUpDown = createLucideIcon(\"arrow-up-down\", __iconNode);\n\nexport { __iconNode, ArrowUpDown as default };\n//# sourceMappingURL=arrow-up-down.js.map\n","import { useEffect, useMemo, useState } from \"react\";\r\nimport api from \"@/lib/axios\";\r\nimport { toast } from \"sonner\";\r\n\r\nimport {\r\n  Table,\r\n  TableBody,\r\n  TableCell,\r\n  TableHead,\r\n  TableHeader,\r\n  TableRow,\r\n} from \"@/components/ui/table\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from \"@/components/ui/select\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogTitle,\r\n  DialogDescription,\r\n} from \"@/components/ui/dialog\";\r\nimport { Label } from \"@/components/ui/label\";\r\n\r\nimport { Eye, Edit, RefreshCw, ArrowUpDown, Plus } from \"lucide-react\";\r\n\r\n/* ================= STYLES ================= */\r\n\r\nconst statusColor = {\r\n  paid: \"bg-green-100 text-green-700\",\r\n  pending: \"bg-yellow-100 text-yellow-700\",\r\n  cancelled: \"bg-red-100 text-red-700\",\r\n};\r\n\r\nconst typeColor = {\r\n  income: \"bg-blue-100 text-blue-700\",\r\n  expense: \"bg-purple-100 text-purple-700\",\r\n};\r\n// Start Update Tony\r\nfunction truncate(text, max = 14) {\r\n  if (!text) return \"N/A\";\r\n  return text.length > max ? `${text.slice(0, max)}...` : text;\r\n}\r\n// End Update Tony\r\n/* ================= PAGE ================= */\r\n\r\nexport default function AdminPaymentsPage() {\r\n  /* ---------- DATA ---------- */\r\n  const [payments, setPayments] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  /* ---------- FILTER ---------- */\r\n  const [search, setSearch] = useState(\"\");\r\n  const [sortAsc, setSortAsc] = useState(false);\r\n\r\n  /* ---------- VIEW ---------- */\r\n  const [viewOpen, setViewOpen] = useState(false);\r\n  const [selectedPayment, setSelectedPayment] = useState(null);\r\n\r\n  /* ---------- EDIT ---------- */\r\n  const [editOpen, setEditOpen] = useState(false);\r\n  const [editingPayment, setEditingPayment] = useState(null);\r\n\r\n  /* ---------- CREATE ---------- */\r\n  const [createOpen, setCreateOpen] = useState(false);\r\n  const [newPayment, setNewPayment] = useState({\r\n    user_id: \"\",\r\n    amount: \"\",\r\n    source: \"cash\",\r\n    type: \"income\",\r\n    status: \"pending\",\r\n    due_date: \"\",\r\n    description: \"\",\r\n  });\r\n\r\n  /* ================= FETCH ================= */\r\n\r\n  const fetchPayments = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const { data } = await api.get(\"/admin/payments\", {\r\n        params: { per_page: 50 },\r\n      });\r\n      setPayments(data.payments?.data || []);\r\n    } catch (err) {\r\n      toast.error(\"Failed to load payments\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    fetchPayments();\r\n  }, []);\r\n\r\n  /* ================= FILTER & SORT ================= */\r\n\r\n  const filteredPayments = useMemo(() => {\r\n    let data = [...payments];\r\n\r\n    if (search) {\r\n      data = data.filter((p) =>\r\n        `${p.id} ${p.reference_id} ${p.user?.first_name ?? \"\"} ${p.user?.last_name ?? \"\"}`\r\n          .toLowerCase()\r\n          .includes(search.toLowerCase()),\r\n      );\r\n    }\r\n\r\n    data.sort((a, b) => (sortAsc ? a.amount - b.amount : b.amount - a.amount));\r\n\r\n    return data;\r\n  }, [payments, search, sortAsc]);\r\n\r\n  /* ================= ACTIONS ================= */\r\n\r\n  const viewPayment = (payment) => {\r\n    setSelectedPayment(payment);\r\n    setViewOpen(true);\r\n  };\r\n\r\n  const openEditPayment = (payment) => {\r\n    setEditingPayment({ ...payment });\r\n    setEditOpen(true);\r\n  };\r\n\r\n  const updatePayment = async () => {\r\n    try {\r\n      const payload = {\r\n        status: editingPayment.status,\r\n        source: editingPayment.source,\r\n        due_date: editingPayment.due_date,\r\n        description: editingPayment.description,\r\n      };\r\n\r\n      await api.put(`/admin/payments/${editingPayment.id}`, payload);\r\n      toast.success(\"Payment updated\");\r\n      setEditOpen(false);\r\n      fetchPayments();\r\n    } catch {\r\n      toast.error(\"Failed to update payment\");\r\n    }\r\n  };\r\n\r\n  const createPayment = async () => {\r\n    try {\r\n      const payload = {\r\n        user_id: Number(newPayment.user_id),\r\n        amount: Number(newPayment.amount),\r\n        source: newPayment.source,\r\n        type: newPayment.type,\r\n        status: newPayment.status,\r\n        due_date: newPayment.due_date,\r\n        description: newPayment.description,\r\n      };\r\n\r\n      await api.post(\"/admin/payments\", payload);\r\n      toast.success(\"Payment created\");\r\n\r\n      setCreateOpen(false);\r\n      setNewPayment({\r\n        user_id: \"\",\r\n        amount: \"\",\r\n        source: \"cash\",\r\n        type: \"income\",\r\n        status: \"pending\",\r\n        due_date: \"\",\r\n        description: \"\",\r\n      });\r\n\r\n      fetchPayments();\r\n    } catch {\r\n      toast.error(\"Failed to create payment\");\r\n    }\r\n  };\r\n  /* ============================\r\n     Fetch user Profile picture tony \r\n  ============================ */\r\n  const DEFAULT_AVATAR = \"/avatar.png\";\r\n  const ASSET_BASE = \"https://rento-lb.com/api/storage/\";\r\n  const getProfileImg = (u) => {\r\n    const p = u?.user.profile_picture;\r\n    if (!p) return DEFAULT_AVATAR;\r\n\r\n    if (p.startsWith(\"http\")) return p;\r\n    const cleaned = p.startsWith(\"/\") ? p.slice(1) : p;\r\n\r\n    return ASSET_BASE + cleaned;\r\n  };\r\n\r\n  //End Tony Update\r\n  /* ================= RENDER ================= */\r\n\r\n  return (\r\n    <div className=\"p-6 space-y-4\">\r\n      {/* HEADER */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <h1 className=\"text-xl font-semibold\">Payments</h1>\r\n\r\n        <div className=\"flex items-center gap-2\">\r\n          <Button size=\"sm\" onClick={() => setCreateOpen(true)}>\r\n            <Plus size={16} className=\"mr-1\" />\r\n            Add Payment\r\n          </Button>\r\n\r\n          <Input\r\n            placeholder=\"Search…\"\r\n            className=\"h-8 w-48 text-xs\"\r\n            value={search}\r\n            onChange={(e) => setSearch(e.target.value)}\r\n          />\r\n\r\n          <Button\r\n            size=\"icon\"\r\n            variant=\"ghost\"\r\n            aria-label=\"Sort amount\"\r\n            onClick={() => setSortAsc(!sortAsc)}\r\n          >\r\n            <ArrowUpDown size={16} />\r\n          </Button>\r\n\r\n          <Button\r\n            size=\"icon\"\r\n            variant=\"ghost\"\r\n            aria-label=\"Refresh payments\"\r\n            onClick={fetchPayments}\r\n          >\r\n            <RefreshCw size={16} />\r\n          </Button>\r\n        </div>\r\n      </div>\r\n\r\n      {/* TABLE */}\r\n      <div className=\"rounded-xl border bg-background\">\r\n        <Table>\r\n          <TableHeader>\r\n            <TableRow>\r\n              <TableHead>ID</TableHead>\r\n              <TableHead>User</TableHead>\r\n              <TableHead>Type</TableHead>\r\n              <TableHead>Status</TableHead>\r\n              <TableHead>Source</TableHead>\r\n              <TableHead>Amount</TableHead>\r\n              <TableHead className=\"text-right\">Actions</TableHead>\r\n            </TableRow>\r\n          </TableHeader>\r\n\r\n          <TableBody>\r\n            {filteredPayments.map((p) => (\r\n              <TableRow key={p.id}>\r\n                <TableCell>\r\n                  <span\r\n                    className=\"item-name-hover inline-flex items-center gap-2 cursor-pointer\"\r\n                    title={paymentTooltip(p)}\r\n                    role=\"button\"\r\n                    tabIndex={0}\r\n                    onClick={() => viewPayment(p)}\r\n                  >\r\n                    {p.id}\r\n                  </span>\r\n                </TableCell>\r\n                <TableCell>\r\n                  <span\r\n                    className=\"item-name-hover inline-flex items-center gap-2 cursor-pointer\"\r\n                    title={userTooltip(p)}\r\n                  >\r\n                    <img\r\n                      src={getProfileImg(p)}\r\n                      alt={p.user.username || \"User\"}\r\n                      className=\"h-7 w-7 rounded-full object-cover\"\r\n                      onError={(e) => {\r\n                        e.currentTarget.onerror = null;\r\n                        e.currentTarget.src = \"/avatar.png\";\r\n                      }}\r\n                    />\r\n                    {truncate(\r\n                      p.user ? `${p.user.first_name} ${p.user.last_name}` : \"—\",\r\n                      14,\r\n                    )}\r\n                  </span>\r\n                </TableCell>\r\n\r\n                <TableCell>\r\n                  <Badge className={typeColor[p.type]}>{p.type}</Badge>\r\n                </TableCell>\r\n\r\n                <TableCell>\r\n                  <Badge className={statusColor[p.status]}>{p.status}</Badge>\r\n                </TableCell>\r\n\r\n                <TableCell>{p.source}</TableCell>\r\n                <TableCell>${p.amount}</TableCell>\r\n\r\n                <TableCell className=\"flex justify-end gap-1\">\r\n                  <Button\r\n                    size=\"icon\"\r\n                    variant=\"ghost\"\r\n                    aria-label=\"View payment\"\r\n                    onClick={() => viewPayment(p)}\r\n                  >\r\n                    <Eye size={16} />\r\n                  </Button>\r\n\r\n                  <Button\r\n                    size=\"icon\"\r\n                    variant=\"ghost\"\r\n                    aria-label=\"Edit payment\"\r\n                    onClick={() => openEditPayment(p)}\r\n                  >\r\n                    <Edit size={16} />\r\n                  </Button>\r\n                </TableCell>\r\n              </TableRow>\r\n            ))}\r\n\r\n            {!loading && filteredPayments.length === 0 && (\r\n              <TableRow>\r\n                <TableCell\r\n                  colSpan={7}\r\n                  className=\"text-center py-10 text-muted-foreground\"\r\n                >\r\n                  No payments found\r\n                </TableCell>\r\n              </TableRow>\r\n            )}\r\n          </TableBody>\r\n        </Table>\r\n      </div>\r\n\r\n      {/* VIEW MODAL */}\r\n      <Dialog open={viewOpen} onOpenChange={setViewOpen}>\r\n        <DialogContent className=\"max-w-3xl\">\r\n          <DialogHeader>\r\n            <DialogTitle>Payment Details</DialogTitle>\r\n            <DialogDescription>Read-only</DialogDescription>\r\n          </DialogHeader>\r\n\r\n          {selectedPayment && (\r\n            <div className=\"grid grid-cols-2 gap-4 text-sm\">\r\n              <div>\r\n                <b>ID:</b> {selectedPayment.id}\r\n              </div>\r\n              <div>\r\n                <b>Reference:</b> {selectedPayment.reference_id}\r\n              </div>\r\n              <div>\r\n                <b>User:</b> {selectedPayment.user?.first_name}{\" \"}\r\n                {selectedPayment.user?.last_name}\r\n              </div>\r\n              <div>\r\n                <b>Type:</b> {selectedPayment.type}\r\n              </div>\r\n              <div>\r\n                <b>Status:</b> {selectedPayment.status}\r\n              </div>\r\n              <div>\r\n                <b>Source:</b> {selectedPayment.source}\r\n              </div>\r\n              <div>\r\n                <b>Amount:</b> ${selectedPayment.amount}\r\n              </div>\r\n              <div>\r\n                <b>Due:</b>{\" \"}\r\n                {new Date(selectedPayment.due_date).toLocaleString()}\r\n              </div>\r\n              <div className=\"col-span-2\">\r\n                <b>Description:</b> {selectedPayment.description || \"—\"}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* EDIT MODAL */}\r\n      <Dialog open={editOpen} onOpenChange={setEditOpen}>\r\n        <DialogContent className=\"max-w-xl\">\r\n          <DialogHeader>\r\n            <DialogTitle>Edit Payment</DialogTitle>\r\n            <DialogDescription>Editable fields only</DialogDescription>\r\n          </DialogHeader>\r\n\r\n          {editingPayment && (\r\n            <div className=\"space-y-4\">\r\n              <div>\r\n                <Label>Status</Label>\r\n                <Select\r\n                  value={editingPayment.status}\r\n                  onValueChange={(v) =>\r\n                    setEditingPayment({ ...editingPayment, status: v })\r\n                  }\r\n                >\r\n                  <SelectTrigger>\r\n                    <SelectValue />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    <SelectItem value=\"pending\">Pending</SelectItem>\r\n                    <SelectItem value=\"paid\">Paid</SelectItem>\r\n                    <SelectItem value=\"cancelled\">Cancelled</SelectItem>\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n\r\n              <div>\r\n                <Label>Source</Label>\r\n                <Input\r\n                  value={editingPayment.source}\r\n                  onChange={(e) =>\r\n                    setEditingPayment({\r\n                      ...editingPayment,\r\n                      source: e.target.value,\r\n                    })\r\n                  }\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <Label>Due Date</Label>\r\n                <Input\r\n                  type=\"datetime-local\"\r\n                  value={editingPayment.due_date?.slice(0, 16)}\r\n                  onChange={(e) =>\r\n                    setEditingPayment({\r\n                      ...editingPayment,\r\n                      due_date: e.target.value,\r\n                    })\r\n                  }\r\n                />\r\n              </div>\r\n\r\n              <div>\r\n                <Label>Description</Label>\r\n                <Input\r\n                  value={editingPayment.description || \"\"}\r\n                  onChange={(e) =>\r\n                    setEditingPayment({\r\n                      ...editingPayment,\r\n                      description: e.target.value,\r\n                    })\r\n                  }\r\n                />\r\n              </div>\r\n\r\n              <Button className=\"w-full\" onClick={updatePayment}>\r\n                Save Changes\r\n              </Button>\r\n            </div>\r\n          )}\r\n        </DialogContent>\r\n      </Dialog>\r\n\r\n      {/* CREATE MODAL */}\r\n      <Dialog open={createOpen} onOpenChange={setCreateOpen}>\r\n        <DialogContent className=\"max-w-xl\">\r\n          <DialogHeader>\r\n            <DialogTitle>Add Payment</DialogTitle>\r\n            <DialogDescription>Create a new payment</DialogDescription>\r\n          </DialogHeader>\r\n\r\n          <div className=\"space-y-4\">\r\n            <Input\r\n              type=\"number\"\r\n              placeholder=\"User ID\"\r\n              value={newPayment.user_id}\r\n              onChange={(e) =>\r\n                setNewPayment({ ...newPayment, user_id: e.target.value })\r\n              }\r\n            />\r\n\r\n            <Input\r\n              type=\"number\"\r\n              placeholder=\"Amount\"\r\n              value={newPayment.amount}\r\n              onChange={(e) =>\r\n                setNewPayment({ ...newPayment, amount: e.target.value })\r\n              }\r\n            />\r\n\r\n            <Select\r\n              value={newPayment.type}\r\n              onValueChange={(v) => setNewPayment({ ...newPayment, type: v })}\r\n            >\r\n              <SelectTrigger>\r\n                <SelectValue />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                <SelectItem value=\"income\">Income</SelectItem>\r\n                <SelectItem value=\"expense\">Expense</SelectItem>\r\n              </SelectContent>\r\n            </Select>\r\n\r\n            <Select\r\n              value={newPayment.status}\r\n              onValueChange={(v) => setNewPayment({ ...newPayment, status: v })}\r\n            >\r\n              <SelectTrigger>\r\n                <SelectValue />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                <SelectItem value=\"pending\">Pending</SelectItem>\r\n                <SelectItem value=\"paid\">Paid</SelectItem>\r\n                <SelectItem value=\"cancelled\">Cancelled</SelectItem>\r\n              </SelectContent>\r\n            </Select>\r\n\r\n            <Select\r\n              value={newPayment.source}\r\n              onValueChange={(v) => setNewPayment({ ...newPayment, source: v })}\r\n            >\r\n              <SelectTrigger>\r\n                <SelectValue />\r\n              </SelectTrigger>\r\n              <SelectContent>\r\n                <SelectItem value=\"cash\">Cash</SelectItem>\r\n                <SelectItem value=\"bank\">Bank</SelectItem>\r\n              </SelectContent>\r\n            </Select>\r\n\r\n            <Input\r\n              type=\"datetime-local\"\r\n              value={newPayment.due_date}\r\n              onChange={(e) =>\r\n                setNewPayment({ ...newPayment, due_date: e.target.value })\r\n              }\r\n            />\r\n\r\n            <Input\r\n              placeholder=\"Description\"\r\n              value={newPayment.description}\r\n              onChange={(e) =>\r\n                setNewPayment({ ...newPayment, description: e.target.value })\r\n              }\r\n            />\r\n\r\n            <Button className=\"w-full\" onClick={createPayment}>\r\n              Create Payment\r\n            </Button>\r\n          </div>\r\n        </DialogContent>\r\n      </Dialog>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Start Update Tony\r\nfunction userTooltip(p) {\r\n  if (!p) return \"\";\r\n\r\n  const user = p.user || {};\r\n\r\n  return [\r\n    `User ID : ${user.id ?? \"N/A\"}`,\r\n    `Real User ID : ${user.real_user_id ?? \"N/A\"}`,\r\n    `Username : ${user.username ?? \"N/A\"}`,\r\n    `Phone Number : ${user.phone_number ?? \"N/A\"}`,\r\n    `Email : ${user.email ?? \"N/A\"}`,\r\n    `Verified ByAadmin : ${user.verified_by_admin ?? \"N/A\"}`,\r\n    `Gender : ${user.gender ?? \"N/A\"}`,\r\n    `Birth Date : ${formatDateOnly(user.birth_date ?? \"N/A\")}`,\r\n    `City : ${user.city ?? \"N/A\"}`,\r\n    `Bio : ${user.bio ?? \"N/A\"}`,\r\n    `Role : ${user.role ?? \"N/A\"}`,\r\n  ].join(\"\\n\");\r\n}\r\n\r\nfunction paymentTooltip(p) {\r\n  if (!p) return \"\";\r\n\r\n  return [\r\n    `User ID : ${p.user_id ?? \"N/A\"}`,\r\n    `Name : ${p.name ?? \"N/A\"}`,\r\n    `Issue Date : ${formatDateTime(p.issue_date ?? \"N/A\")}`,\r\n    `Due Date : ${formatDateTime(p.due_date ?? \"N/A\")}`,\r\n    `Reference ID : ${p.reference_id ?? \"N/A\"}`,\r\n    `Description : ${p.description ?? \"N/A\"}`,\r\n  ].join(\"\\n\");\r\n}\r\n\r\nfunction formatDateOnly(value) {\r\n  if (!value) return \"N/A\";\r\n  const d = new Date(value);\r\n  if (Number.isNaN(d.getTime())) return String(value);\r\n  return d.toLocaleDateString(\"en-US\", {\r\n    month: \"numeric\",\r\n    day: \"numeric\",\r\n    year: \"numeric\",\r\n  });\r\n}\r\n\r\nfunction formatDateTime(value) {\r\n  if (!value) return \"N/A\";\r\n  const d = new Date(value);\r\n  if (Number.isNaN(d.getTime())) return String(value);\r\n\r\n  return d.toLocaleString(\"en-US\", {\r\n    timeZone: \"Asia/Beirut\",\r\n    month: \"numeric\",\r\n    day: \"numeric\",\r\n    year: \"numeric\",\r\n    hour: \"numeric\",\r\n    minute: \"2-digit\",\r\n    second: \"2-digit\",\r\n    hour12: true,\r\n  });\r\n}\r\n\r\n// End Update Tony\r\n"],"names":["__iconNode","ArrowUpDown","createLucideIcon","statusColor","typeColor","truncate","text","max","AdminPaymentsPage","payments","setPayments","useState","loading","setLoading","search","setSearch","sortAsc","setSortAsc","viewOpen","setViewOpen","selectedPayment","setSelectedPayment","editOpen","setEditOpen","editingPayment","setEditingPayment","createOpen","setCreateOpen","newPayment","setNewPayment","fetchPayments","data","api","toast","useEffect","filteredPayments","useMemo","p","a","b","viewPayment","payment","openEditPayment","updatePayment","payload","createPayment","DEFAULT_AVATAR","ASSET_BASE","getProfileImg","u","cleaned","jsxs","jsx","Button","Plus","Input","e","RefreshCw","Table","TableHeader","TableRow","TableHead","TableBody","TableCell","paymentTooltip","userTooltip","Badge","Eye","Edit","Dialog","DialogContent","DialogHeader","DialogTitle","DialogDescription","Label","Select","v","SelectTrigger","SelectValue","SelectContent","SelectItem","user","formatDateOnly","formatDateTime","value","d"],"mappings":"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","x_google_ignoreList":[0]}