{"version":3,"file":"AuthPage-CT_a4azD.js","sources":["../../src/pages/AuthPage.jsx"],"sourcesContent":["import '../styles/auth-animations.css';\r\nimport React, { useState, useEffect, useMemo, useRef } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport api from \"@/lib/axios\";\r\nimport { getOrCreateDeviceId, sendOtp, sendForgotPasswordOtp, verifyOtp } from \"@/lib/otpApi\";\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport { Label } from \"@/components/ui/label\";\r\nimport { Card, CardContent, CardHeader, CardTitle, CardDescription } from \"@/components/ui/card\";\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from \"@/components/ui/tabs\";\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\r\nimport { Phone, Lock, User, RefreshCw, ArrowLeft, Car, Sparkles } from \"lucide-react\";\r\nimport { toast } from \"sonner\";\r\nimport countriesData from \"@/lib/countries.json\";\r\n\r\n// ===================\r\n// Feature flags\r\n// ===================\r\n// Web registration: OTP enabled; only client role can register from /auth\r\nconst OTP_PAUSED = false;\r\n\r\n// ===================\r\n// PhoneRow Component\r\n// ===================\r\nconst onlyDigits = (v) => v.replace(/\\D/g, \"\");\r\n\r\nconst PhoneRow = ({ countries, iso2, setIso2, phone, setPhone, disabledPhone }) => (\r\n  <div className=\"flex gap-2 w-full\">\r\n    <select\r\n      value={iso2}\r\n      onChange={(e) => setIso2(e.target.value)}\r\n      className=\"w-[100px] sm:w-[120px] shrink-0 bg-white dark:bg-gray-800 text-gray-900 dark:text-white p-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm focus:ring-2 focus:ring-[#007A76] focus:border-transparent transition-all\"\r\n      disabled={disabledPhone}\r\n    >\r\n      {countries.map((c) => (\r\n        <option key={c.iso2} value={c.iso2}>\r\n          {c.iso2} ({c.dialCode})\r\n        </option>\r\n      ))}\r\n    </select>\r\n\r\n    <input\r\n      type=\"tel\"\r\n      inputMode=\"numeric\"\r\n      value={phone}\r\n      onChange={(e) => setPhone(onlyDigits(e.target.value))}\r\n      placeholder=\"70123456\"\r\n      className=\"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-800 text-sm focus:ring-2 focus:ring-[#007A76] focus:border-transparent transition-all\"\r\n      disabled={disabledPhone}\r\n    />\r\n  </div>\r\n);\r\n\r\nexport function AuthPage() {\r\n  const navigate = useNavigate();\r\n  const [activeTab, setActiveTab] = useState(\"login\");\r\n  const [loading, setLoading] = useState(false);\r\n  const [showForgotPassword, setShowForgotPassword] = useState(false);\r\n\r\n  // =============================\r\n  // Countries\r\n  // =============================\r\n  const countries = useMemo(() => {\r\n    return countriesData\r\n      .map((c) => ({\r\n        name: c.name,\r\n        iso2: c.iso2,\r\n        dialCode: c.dialCode.startsWith(\"+\") ? c.dialCode : `+${c.dialCode}`,\r\n      }))\r\n      .sort((a, b) => a.name.localeCompare(b.name));\r\n  }, []);\r\n\r\n  const dialCodeByIso2 = useMemo(() => {\r\n    const map = new Map();\r\n    for (const c of countries) map.set(c.iso2, c.dialCode);\r\n    return map;\r\n  }, [countries]);\r\n\r\n  const getDialCode = (iso2) => dialCodeByIso2.get(iso2) || \"+961\";\r\n\r\n  // =============================\r\n  // LOGIN STATE\r\n  // =============================\r\n  const [loginPhone, setLoginPhone] = useState(\"\");\r\n  const [loginCountryIso2, setLoginCountryIso2] = useState(\"LB\");\r\n  const [loginPassword, setLoginPassword] = useState(\"\");\r\n\r\n  const handleLogin = async () => {\r\n    const fullPhone = `${getDialCode(loginCountryIso2)}${loginPhone.replace(/^0+/, \"\")}`;\r\n    if (!loginPhone || !loginPassword) {\r\n      return toast.error(\"Please fill all fields\");\r\n    }\r\n    if (!/^\\+\\d{8,15}$/.test(fullPhone)) {\r\n      return toast.error(\"Invalid phone number.\");\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      const res = await api.post(\"/auth/login\", {\r\n        phone_number: fullPhone,\r\n        password: loginPassword,\r\n      });\r\n\r\n      localStorage.setItem(\"authToken\", res.data.token);\r\n      localStorage.setItem(\"token\", res.data.token);\r\n      localStorage.setItem(\"user\", JSON.stringify(res.data.user));\r\n\r\n      toast.success(\"Login successful!\");\r\n\r\n      if (!res.data.user.profile_complete) {\r\n        navigate(\"/Complete-Profile\");\r\n        return;\r\n      }\r\n\r\n      if (res.data.user.role === \"agency\" || res.data.user.role === \"agency\") {\r\n        navigate(\"/Dashboard\");\r\n      } else {\r\n        navigate(\"/\");\r\n      }\r\n    } catch (err) {\r\n      toast.error(err.response?.data?.message || \"Login failed.\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // =============================\r\n  // REGISTRATION STATE & FLOW\r\n  // =============================\r\n  const [regPhone, setRegPhone] = useState(\"\");\r\n  const [regCountryIso2, setRegCountryIso2] = useState(\"LB\");\r\n  const [otpSent, setOtpSent] = useState(false);\r\n  const [otpCode, setOtpCode] = useState(\"\");\r\n  const [otpVerified, setOtpVerified] = useState(false);\r\n  const [canResend, setCanResend] = useState(false);\r\n  const [resendTimer, setResendTimer] = useState(0);\r\n\r\n  const [registerData, setRegisterData] = useState({\r\n    username: \"\",\r\n    first_name: \"\",\r\n    last_name: \"\",\r\n    license_number: \"\",\r\n    password: \"\",\r\n    password_confirmation: \"\",\r\n    role: \"client\",\r\n    business_type: \"\",\r\n  });\r\n  const [registerErrors, setRegisterErrors] = useState({\r\n    username: false,\r\n    first_name: false,\r\n    last_name: false,\r\n    license_number: false,\r\n    password: false,\r\n    password_confirmation: false,\r\n    role: false,\r\n    business_type: false,\r\n    terms: false,\r\n  });\r\n  const [termsAccepted, setTermsAccepted] = useState(false);\r\n\r\n  // Refs for scrolling/focusing first invalid field\r\n  const usernameRef = useRef(null);\r\n  const firstNameRef = useRef(null);\r\n  const lastNameRef = useRef(null);\r\n  const licenseNumberRef = useRef(null);\r\n  const passwordRef = useRef(null);\r\n  const passwordConfirmRef = useRef(null);\r\n  const termsRef = useRef(null);\r\n\r\n  // Timer for resend OTP\r\n  useEffect(() => {\r\n    let interval;\r\n    if (resendTimer > 0) {\r\n      interval = setInterval(() => {\r\n        setResendTimer((prev) => {\r\n          if (prev <= 1) {\r\n            setCanResend(true);\r\n            return 0;\r\n          }\r\n          return prev - 1;\r\n        });\r\n      }, 1000);\r\n    }\r\n    return () => clearInterval(interval);\r\n  }, [resendTimer]);\r\n\r\n  const resetRegistrationFlow = () => {\r\n    setRegPhone(\"\");\r\n    setOtpSent(false);\r\n    setOtpCode(\"\");\r\n    setOtpVerified(false);\r\n    setCanResend(false);\r\n    setResendTimer(0);\r\n    setTermsAccepted(false);\r\n    setRegisterData({\r\n      username: \"\",\r\n      first_name: \"\",\r\n      last_name: \"\",\r\n      license_number: \"\",\r\n      password: \"\",\r\n      password_confirmation: \"\",\r\n      role: \"client\",\r\n      business_type: \"\",\r\n    });\r\n    setRegisterErrors({\r\n      username: false,\r\n      first_name: false,\r\n      last_name: false,\r\n      license_number: false,\r\n      password: false,\r\n      password_confirmation: false,\r\n      role: false,\r\n      business_type: false,\r\n      terms: false,\r\n    });\r\n  };\r\n\r\n  const changeRegisterNumber = () => {\r\n    setOtpSent(false);\r\n    setOtpCode(\"\");\r\n    setOtpVerified(false);\r\n    setCanResend(false);\r\n    setResendTimer(0);\r\n    setRegPhone(\"\");\r\n  };\r\n\r\n  const handleSendOtp = async () => {\r\n    if (OTP_PAUSED) {\r\n      toast.info(\r\n        \"Web OTP registration is temporarily disabled. Please use our mobile app at https://rento-lb.com/mobile-app.\"\r\n      );\r\n      return;\r\n    }\r\n    if (!regPhone) return toast.error(\"Please enter a phone number.\");\r\n    const fullPhone = `${getDialCode(regCountryIso2)}${regPhone.replace(/^0+/, \"\")}`;\r\n    if (!/^\\+\\d{8,15}$/.test(fullPhone)) {\r\n      return toast.error(\"Please enter a valid phone number with country code.\");\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      const deviceId = getOrCreateDeviceId();\r\n      const response = await sendOtp(fullPhone, deviceId);\r\n\r\n      if (response.message) toast.success(response.message);\r\n      if (response.warning) toast.warning(response.warning);\r\n\r\n      setOtpSent(true);\r\n      setCanResend(false);\r\n      setResendTimer(60);\r\n    } catch (err) {\r\n      if (err.response?.status === 429) {\r\n        const retryAfter = err.response?.headers?.[\"retry-after\"];\r\n        const sec = retryAfter ? parseInt(retryAfter, 10) : 60;\r\n        if (!Number.isNaN(sec) && sec > 0) {\r\n          toast.error(`Too many attempts. Try again in ${sec} second${sec !== 1 ? \"s\" : \"\"}.`);\r\n        } else {\r\n          toast.error(\"Too many attempts. Try again in a minute.\");\r\n        }\r\n      } else if (err.response?.status === 422 && err.response?.data?.errors) {\r\n        const errors = err.response.data.errors;\r\n        Object.keys(errors).forEach((key) => {\r\n          (errors[key] || []).forEach((msg) => toast.error(msg));\r\n        });\r\n      } else if (err.response?.data?.error) {\r\n        toast.error(err.response.data.error);\r\n      } else {\r\n        toast.error(err.response?.data?.message || \"Failed to send OTP. Please try again.\");\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleResendOtp = async () => {\r\n    if (!canResend) return;\r\n    await handleSendOtp();\r\n  };\r\n\r\n  const handleVerifyOtp = async () => {\r\n    if (!otpCode) return toast.error(\"Please enter the OTP code.\");\r\n    if (otpCode.length !== 6) return toast.error(\"OTP code must be 6 digits.\");\r\n    const fullPhone = `${getDialCode(regCountryIso2)}${regPhone.replace(/^0+/, \"\")}`;\r\n\r\n    try {\r\n      setLoading(true);\r\n      const response = await verifyOtp(fullPhone, otpCode);\r\n      \r\n      if (response.message) {\r\n        toast.success(response.message);\r\n      } else {\r\n        toast.success(\"OTP verified! Complete your registration.\");\r\n      }\r\n      \r\n      setOtpVerified(true);\r\n    } catch (err) {\r\n      // Handle error response\r\n      if (err.response?.data?.error) {\r\n        toast.error(err.response.data.error);\r\n      } else {\r\n        toast.error(err.response?.data?.message || \"Invalid or expired OTP.\");\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleRegister = async () => {\r\n    // Reset errors\r\n    let hasError = false;\r\n    const nextErrors = {\r\n      username: false,\r\n      first_name: false,\r\n      last_name: false,\r\n      license_number: false,\r\n      password: false,\r\n      password_confirmation: false,\r\n      role: false,\r\n      business_type: false,\r\n      terms: false,\r\n    };\r\n\r\n    if (!registerData.username.trim()) {\r\n      nextErrors.username = true;\r\n      hasError = true;\r\n    }\r\n    if (!registerData.first_name.trim()) {\r\n      nextErrors.first_name = true;\r\n      hasError = true;\r\n    }\r\n    if (!registerData.last_name.trim()) {\r\n      nextErrors.last_name = true;\r\n      hasError = true;\r\n    }\r\n    if (registerData.role === \"client\" && !registerData.license_number.trim()) {\r\n      nextErrors.license_number = true;\r\n      hasError = true;\r\n    }\r\n    if (!registerData.password) {\r\n      nextErrors.password = true;\r\n      hasError = true;\r\n    }\r\n    if (registerData.password !== registerData.password_confirmation) {\r\n      nextErrors.password = true;\r\n      nextErrors.password_confirmation = true;\r\n      hasError = true;\r\n    }\r\n    if (registerData.password.length < 6) {\r\n      nextErrors.password = true;\r\n      hasError = true;\r\n    }\r\n    if (!registerData.password_confirmation) {\r\n      nextErrors.password_confirmation = true;\r\n      hasError = true;\r\n    }\r\n    // Home /auth registration is client-only; no role selector\r\n    if (!termsAccepted) {\r\n      nextErrors.terms = true;\r\n      hasError = true;\r\n    }\r\n\r\n    if (hasError) {\r\n      setRegisterErrors(nextErrors);\r\n\r\n      // Scroll/focus first invalid field\r\n      const fieldOrder = [\r\n        \"username\",\r\n        \"first_name\",\r\n        \"last_name\",\r\n        \"license_number\",\r\n        \"password\",\r\n        \"password_confirmation\",\r\n        \"terms\",\r\n      ];\r\n      const fieldRefs = {\r\n        username: usernameRef,\r\n        first_name: firstNameRef,\r\n        last_name: lastNameRef,\r\n        license_number: licenseNumberRef,\r\n        password: passwordRef,\r\n        password_confirmation: passwordConfirmRef,\r\n        terms: termsRef,\r\n      };\r\n\r\n      const firstInvalidKey = fieldOrder.find((key) => nextErrors[key]);\r\n      if (firstInvalidKey) {\r\n        const ref = fieldRefs[firstInvalidKey];\r\n        const el = ref?.current;\r\n        if (el) {\r\n          if (typeof el.focus === \"function\") {\r\n            el.focus();\r\n          }\r\n          el.scrollIntoView({ behavior: \"smooth\", block: \"center\" });\r\n        }\r\n      }\r\n\r\n      toast.error(\"Please fill in the required fields highlighted in red.\");\r\n      return;\r\n    }\r\n\r\n    const fullPhone = `${getDialCode(regCountryIso2)}${regPhone.replace(/^0+/, \"\")}`;\r\n\r\n    try {\r\n      setLoading(true);\r\n      // Remove + sign from phone number for API (as per API documentation)\r\n      const cleanPhone = fullPhone.replace(/^\\+/, '');\r\n      \r\n      const payload = {\r\n        phone_number: cleanPhone,\r\n        otp_code: otpCode,\r\n        ...registerData,\r\n        role: \"client\",\r\n      };\r\n\r\n      const res = await api.post(\"/auth/register\", payload);\r\n\r\n      localStorage.setItem(\"authToken\", res.data.token);\r\n      localStorage.setItem(\"token\", res.data.token);\r\n      localStorage.setItem(\"user\", JSON.stringify(res.data.user));\r\n\r\n      toast.success(\"Registration successful! Please complete your profile.\");\r\n\r\n      navigate(\"/Complete-Profile\");\r\n    } catch (err) {\r\n      if (err.response?.data?.errors) {\r\n        Object.keys(err.response.data.errors).forEach((key) => {\r\n          err.response.data.errors[key].forEach((error) => toast.error(error));\r\n        });\r\n      } else {\r\n        toast.error(err.response?.data?.message || \"Registration failed.\");\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // =============================\r\n  // FORGOT PASSWORD STATE\r\n  // =============================\r\n  const [forgotPhone, setForgotPhone] = useState(\"\");\r\n  const [forgotCountryIso2, setForgotCountryIso2] = useState(\"LB\");\r\n  const [forgotOtpSent, setForgotOtpSent] = useState(false);\r\n  const [forgotOtpCode, setForgotOtpCode] = useState(\"\");\r\n  const [newPassword, setNewPassword] = useState(\"\");\r\n  const [confirmNewPassword, setConfirmNewPassword] = useState(\"\");\r\n  const [forgotCanResend, setForgotCanResend] = useState(false);\r\n  const [forgotResendTimer, setForgotResendTimer] = useState(0);\r\n\r\n  useEffect(() => {\r\n    let interval;\r\n    if (forgotResendTimer > 0) {\r\n      interval = setInterval(() => {\r\n        setForgotResendTimer((prev) => {\r\n          if (prev <= 1) {\r\n            setForgotCanResend(true);\r\n            return 0;\r\n          }\r\n          return prev - 1;\r\n        });\r\n      }, 1000);\r\n    }\r\n    return () => clearInterval(interval);\r\n  }, [forgotResendTimer]);\r\n\r\n  const resetForgotPasswordFlow = () => {\r\n    setShowForgotPassword(false);\r\n    setForgotPhone(\"\");\r\n    setForgotOtpSent(false);\r\n    setForgotOtpCode(\"\");\r\n    setNewPassword(\"\");\r\n    setConfirmNewPassword(\"\");\r\n    setForgotCanResend(false);\r\n    setForgotResendTimer(0);\r\n  };\r\n\r\n  const changeForgotNumber = () => {\r\n    setForgotPhone(\"\");\r\n    setForgotOtpSent(false);\r\n    setForgotOtpCode(\"\");\r\n    setNewPassword(\"\");\r\n    setConfirmNewPassword(\"\");\r\n    setForgotCanResend(false);\r\n    setForgotResendTimer(0);\r\n  };\r\n\r\n  const handleSendForgotOtp = async () => {\r\n    if (OTP_PAUSED) {\r\n      toast.info(\r\n        \"Web password reset via OTP is temporarily disabled. Please use our mobile app at https://rento-lb.com/mobile-app.\"\r\n      );\r\n      return;\r\n    }\r\n    if (!forgotPhone) return toast.error(\"Please enter your phone number.\");\r\n    const fullPhone = `${getDialCode(forgotCountryIso2)}${forgotPhone.replace(/^0+/, \"\")}`;\r\n    if (!/^\\+\\d{8,15}$/.test(fullPhone)) {\r\n      return toast.error(\"Please enter a valid phone number with country code.\");\r\n    }\r\n\r\n    try {\r\n      setLoading(true);\r\n      const response = await sendForgotPasswordOtp(fullPhone);\r\n\r\n      if (response.message) toast.success(response.message);\r\n      if (response.warning) toast.warning(response.warning);\r\n\r\n      setForgotOtpSent(true);\r\n      setForgotCanResend(false);\r\n      setForgotResendTimer(60);\r\n    } catch (err) {\r\n      if (err.response?.status === 429) {\r\n        toast.error(\"Too many requests. Please try again in a minute.\");\r\n      } else if (err.response?.data?.error) {\r\n        toast.error(err.response.data.error);\r\n      } else if (err.response?.data?.errors) {\r\n        const errors = err.response.data.errors;\r\n        Object.keys(errors).forEach((key) => {\r\n          errors[key].forEach((error) => toast.error(error));\r\n        });\r\n      } else {\r\n        toast.error(err.response?.data?.message || \"Failed to send OTP.\");\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleResendForgotOtp = async () => {\r\n    if (!forgotCanResend) return;\r\n    await handleSendForgotOtp();\r\n  };\r\n\r\n  const handleResetPassword = async () => {\r\n    if (!forgotOtpCode) return toast.error(\"Please enter the OTP code.\");\r\n    if (forgotOtpCode.length !== 6) return toast.error(\"OTP code must be 6 digits.\");\r\n    if (!newPassword || !confirmNewPassword) {\r\n      return toast.error(\"Please enter your new password.\");\r\n    }\r\n    if (newPassword !== confirmNewPassword) {\r\n      return toast.error(\"Passwords do not match!\");\r\n    }\r\n    if (newPassword.length < 6) {\r\n      return toast.error(\"Password must be at least 6 characters long.\");\r\n    }\r\n    const fullPhone = `${getDialCode(forgotCountryIso2)}${forgotPhone.replace(/^0+/, \"\")}`;\r\n    // Same format as forgot-password: phone with + (backend normalizes)\r\n    const phoneForApi = fullPhone.trim().startsWith(\"+\") ? fullPhone : `+${fullPhone}`;\r\n\r\n    try {\r\n      setLoading(true);\r\n      const res = await api.post(\"/auth/reset-password\", {\r\n        phone_number: phoneForApi,\r\n        otp_code: forgotOtpCode,\r\n        new_password: newPassword,\r\n        new_password_confirmation: confirmNewPassword,\r\n      });\r\n      toast.success(res.data?.message || \"Password reset successfully! You can now login.\");\r\n      resetForgotPasswordFlow();\r\n      setActiveTab(\"login\");\r\n    } catch (err) {\r\n      if (err.response?.data?.error) {\r\n        toast.error(err.response.data.error);\r\n      } else if (err.response?.data?.errors) {\r\n        const errors = err.response.data.errors;\r\n        Object.keys(errors).forEach((key) => {\r\n          errors[key].forEach((error) => toast.error(error));\r\n        });\r\n      } else {\r\n        toast.error(err.response?.data?.message || \"Failed to reset password.\");\r\n      }\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // =============================\r\n  // FORGOT PASSWORD VIEW\r\n  // =============================\r\n  if (showForgotPassword) {\r\n    return (\r\n      <div className=\"min-h-screen flex items-center justify-center px-4 py-8 bg-gradient-to-br from-gray-50 via-white to-[#8EDC81]/10 dark:from-gray-950 dark:via-gray-900 dark:to-gray-800 relative overflow-hidden\">\r\n        {/* Animated Background Orbs */}\r\n        <div className=\"absolute inset-0 overflow-hidden pointer-events-none\">\r\n          <div className=\"absolute top-1/4 left-1/4 w-96 h-96 bg-[#1e5f7a]/10 rounded-full blur-3xl animate-pulse\" />\r\n          <div className=\"absolute bottom-1/4 right-1/4 w-96 h-96 bg-[#007A76]/10 rounded-full blur-3xl animate-pulse animation-delay-700\" />\r\n          <div className=\"absolute top-1/2 left-1/2 w-96 h-96 bg-[#8EDC81]/10 rounded-full blur-3xl animate-pulse animation-delay-1400\" />\r\n        </div>\r\n\r\n        <div className=\"w-full max-w-md relative z-10 animate-fade-in-up\">\r\n          <Button\r\n            variant=\"ghost\"\r\n            onClick={resetForgotPasswordFlow}\r\n            className=\"mb-6 hover:bg-[#007A76]/10 transition-all hover:scale-105\"\r\n          >\r\n            <ArrowLeft className=\"w-4 h-4 mr-2\" />\r\n            Back to Login\r\n          </Button>\r\n\r\n          <div className=\"flex flex-col items-center mb-8 animate-fade-in\">\r\n            <div className=\"w-20 h-20 rounded-2xl bg-gradient-to-br from-[#1e5f7a] via-[#007A76] to-[#8EDC81] flex items-center justify-center shadow-xl shadow-[#007A76]/30 mb-4 animate-float\">\r\n              <Car className=\"w-10 h-10 text-white\" />\r\n            </div>\r\n            <h1 className=\"text-4xl font-black bg-gradient-to-r from-[#1e5f7a] via-[#007A76] to-[#8EDC81] bg-clip-text text-transparent\">\r\n              Rento LB\r\n            </h1>\r\n            <p className=\"text-gray-600 dark:text-gray-400 mt-2 font-medium\">Reset Your Password</p>\r\n          </div>\r\n\r\n          <Card className=\"border-2 border-gray-200 dark:border-gray-700 hover:border-[#007A76] transition-all duration-500 hover:shadow-2xl hover:shadow-[#007A76]/20 bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm\">\r\n            <CardHeader>\r\n              <CardTitle className=\"text-2xl font-bold text-gray-900 dark:text-white\">Reset Password</CardTitle>\r\n              <CardDescription>Enter your phone number to receive an OTP</CardDescription>\r\n            </CardHeader>\r\n            <CardContent>\r\n              <div className=\"space-y-5\">\r\n                <div className=\"space-y-2\">\r\n                  <Label className=\"text-sm font-semibold text-gray-700 dark:text-gray-300\">Phone Number</Label>\r\n                  <PhoneRow\r\n                    countries={countries}\r\n                    iso2={forgotCountryIso2}\r\n                    setIso2={setForgotCountryIso2}\r\n                    phone={forgotPhone}\r\n                    setPhone={setForgotPhone}\r\n                    disabledPhone={false}\r\n                  />\r\n                  {forgotOtpSent && (\r\n                    <Button \r\n                      type=\"button\" \r\n                      variant=\"link\" \r\n                      size=\"sm\" \r\n                      onClick={changeForgotNumber} \r\n                      className=\"px-0 text-[#007A76] hover:text-[#8EDC81] transition-colors\"\r\n                    >\r\n                      Change number\r\n                    </Button>\r\n                  )}\r\n                </div>\r\n\r\n                {forgotOtpSent && (\r\n                  <>\r\n                    <div className=\"space-y-2 animate-fade-in-up\">\r\n                      <Label className=\"text-sm font-semibold text-gray-700 dark:text-gray-300\">OTP Code</Label>\r\n                      <Input\r\n                        type=\"text\"\r\n                        inputMode=\"numeric\"\r\n                        value={forgotOtpCode}\r\n                        onChange={(e) => {\r\n                          const value = e.target.value.replace(/\\D/g, ''); // Only digits\r\n                          if (value.length <= 6) setForgotOtpCode(value);\r\n                        }}\r\n                        placeholder=\"Enter 6-digit OTP\"\r\n                        maxLength={6}\r\n                        className=\"border-2 border-gray-300 dark:border-gray-600 focus:border-[#007A76] focus:ring-2 focus:ring-[#007A76]/20 transition-all\"\r\n                      />\r\n                      <div className=\"flex items-center justify-between mt-2\">\r\n                        <p className=\"text-xs text-gray-500 dark:text-gray-400\">Check your phone</p>\r\n                        {forgotResendTimer > 0 ? (\r\n                          <p className=\"text-xs text-[#007A76] font-semibold\">Resend in {forgotResendTimer}s</p>\r\n                        ) : (\r\n                          <Button\r\n                            type=\"button\"\r\n                            variant=\"link\"\r\n                            size=\"sm\"\r\n                            onClick={handleResendForgotOtp}\r\n                            disabled={!forgotCanResend || loading}\r\n                            className=\"h-auto p-0 text-xs text-[#007A76] hover:text-[#8EDC81] transition-colors\"\r\n                          >\r\n                            <RefreshCw className=\"w-3 h-3 mr-1\" />\r\n                            Resend OTP\r\n                          </Button>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"space-y-2 animate-fade-in-up animation-delay-200\">\r\n                      <Label className=\"text-sm font-semibold text-gray-700 dark:text-gray-300\">New Password</Label>\r\n                      <div className=\"relative\">\r\n                        <Lock className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n                        <Input\r\n                          type=\"password\"\r\n                          value={newPassword}\r\n                          onChange={(e) => setNewPassword(e.target.value)}\r\n                          className=\"pl-10 border-2 border-gray-300 dark:border-gray-600 focus:border-[#007A76] focus:ring-2 focus:ring-[#007A76]/20 transition-all\"\r\n                          minLength={6}\r\n                          placeholder=\"At least 6 characters\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"space-y-2 animate-fade-in-up animation-delay-300\">\r\n                      <Label className=\"text-sm font-semibold text-gray-700 dark:text-gray-300\">Confirm New Password</Label>\r\n                      <div className=\"relative\">\r\n                        <Lock className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n                        <Input\r\n                          type=\"password\"\r\n                          value={confirmNewPassword}\r\n                          onChange={(e) => setConfirmNewPassword(e.target.value)}\r\n                          className=\"pl-10 border-2 border-gray-300 dark:border-gray-600 focus:border-[#007A76] focus:ring-2 focus:ring-[#007A76]/20 transition-all\"\r\n                          placeholder=\"Re-enter password\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </>\r\n                )}\r\n\r\n                {!forgotOtpSent ? (\r\n                  <Button\r\n                    onClick={handleSendForgotOtp}\r\n                    className=\"w-full bg-gradient-to-r from-[#1e5f7a] via-[#007A76] to-[#8EDC81] hover:from-[#184a5e] hover:via-[#008c88] hover:to-[#7bc876] text-white font-bold py-6 rounded-xl shadow-lg shadow-[#007A76]/30 hover:shadow-xl hover:shadow-[#007A76]/40 transition-all duration-300 hover:scale-105\"\r\n                    disabled={loading}\r\n                  >\r\n                    {loading ? (\r\n                      <span className=\"flex items-center gap-2\">\r\n                        <RefreshCw className=\"w-4 h-4 animate-spin\" />\r\n                        Sending...\r\n                      </span>\r\n                    ) : (\r\n                      \"Send OTP\"\r\n                    )}\r\n                  </Button>\r\n                ) : (\r\n                  <Button\r\n                    onClick={handleResetPassword}\r\n                    className=\"w-full bg-gradient-to-r from-[#1e5f7a] via-[#007A76] to-[#8EDC81] hover:from-[#184a5e] hover:via-[#008c88] hover:to-[#7bc876] text-white font-bold py-6 rounded-xl shadow-lg shadow-[#007A76]/30 hover:shadow-xl hover:shadow-[#007A76]/40 transition-all duration-300 hover:scale-105\"\r\n                    disabled={loading}\r\n                  >\r\n                    {loading ? (\r\n                      <span className=\"flex items-center gap-2\">\r\n                        <RefreshCw className=\"w-4 h-4 animate-spin\" />\r\n                        Resetting...\r\n                      </span>\r\n                    ) : (\r\n                      \"Reset Password\"\r\n                    )}\r\n                  </Button>\r\n                )}\r\n              </div>\r\n            </CardContent>\r\n          </Card>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // =============================\r\n  // MAIN AUTH VIEW\r\n  // =============================\r\n  return (\r\n    <div className=\"min-h-screen flex items-center justify-center px-4 py-8 bg-gradient-to-br from-gray-50 via-white to-[#8EDC81]/10 dark:from-gray-950 dark:via-gray-900 dark:to-gray-800 relative overflow-hidden\">\r\n      {/* Animated Background Orbs */}\r\n      <div className=\"absolute inset-0 overflow-hidden pointer-events-none\">\r\n        <div className=\"absolute top-1/4 left-1/4 w-96 h-96 bg-[#1e5f7a]/10 rounded-full blur-3xl animate-pulse\" />\r\n        <div className=\"absolute bottom-1/4 right-1/4 w-96 h-96 bg-[#007A76]/10 rounded-full blur-3xl animate-pulse animation-delay-700\" />\r\n        <div className=\"absolute top-1/2 left-1/2 w-96 h-96 bg-[#8EDC81]/10 rounded-full blur-3xl animate-pulse animation-delay-1400\" />\r\n        \r\n        {/* Floating Particles */}\r\n        <div className=\"absolute top-[10%] left-[15%] w-3 h-3 bg-[#007A76] rounded-full animate-float animation-delay-500 opacity-20\" />\r\n        <div className=\"absolute top-[60%] left-[80%] w-4 h-4 bg-[#8EDC81] rounded-full animate-float animation-delay-1000 opacity-20\" />\r\n        <div className=\"absolute top-[80%] left-[20%] w-2 h-2 bg-[#1e5f7a] rounded-full animate-float animation-delay-1500 opacity-20\" />\r\n        <div className=\"absolute top-[30%] left-[70%] w-3 h-3 bg-[#007A76] rounded-full animate-float animation-delay-2000 opacity-20\" />\r\n      </div>\r\n\r\n      <div className=\"w-full max-w-md relative z-10 animate-fade-in-up\">\r\n        <Button\r\n          variant=\"ghost\"\r\n          onClick={() => navigate(\"/\")}\r\n          className=\"mb-6 hover:bg-[#007A76]/10 transition-all hover:scale-105 group\"\r\n        >\r\n          <ArrowLeft className=\"w-4 h-4 mr-2 group-hover:-translate-x-1 transition-transform\" />\r\n          Back to Home\r\n        </Button>\r\n\r\n        <div className=\"flex flex-col items-center mb-8 animate-fade-in\">\r\n          <div className=\"w-24 h-24 rounded-2xl flex items-center justify-center mb-4 animate-float hover:scale-110 transition-transform duration-300 cursor-pointer shadow-md shadow-gray-400/20\">\r\n            <img\r\n              src=\"/rentologo.png\"\r\n              alt=\"Rento LB Logo\"\r\n              width=\"96\"\r\n              height=\"96\"\r\n              className=\"w-24 h-24 object-contain\"\r\n            />\r\n          </div>\r\n\r\n          <h1 className=\"text-4xl font-black bg-gradient-to-r from-[#1e5f7a] via-[#007A76] to-[#8EDC81] bg-clip-text text-transparent mb-2\">\r\n            Rento LB\r\n          </h1>\r\n          <p className=\"text-gray-600 dark:text-gray-400 font-medium flex items-center gap-2\">\r\n            <Sparkles className=\"w-4 h-4 text-[#007A76]\" />\r\n            Lebanon's Premier Car Rental\r\n            <Sparkles className=\"w-4 h-4 text-[#8EDC81]\" />\r\n          </p>\r\n        </div>\r\n\r\n        <Card className=\"border-2 border-gray-200 dark:border-gray-700 hover:border-[#007A76] transition-all duration-500 hover:shadow-2xl hover:shadow-[#007A76]/20 bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm\">\r\n          <CardHeader className=\"text-center\">\r\n            <CardTitle className=\"text-3xl font-black text-gray-900 dark:text-white\">Welcome Back</CardTitle>\r\n            <CardDescription className=\"text-base\">\r\n              Login or register to access your account\r\n            </CardDescription>\r\n          </CardHeader>\r\n\r\n          <CardContent>\r\n            <Tabs\r\n              value={activeTab}\r\n              onValueChange={(val) => {\r\n                setActiveTab(val);\r\n                if (val === \"register\") resetRegistrationFlow();\r\n              }}\r\n              className=\"w-full\"\r\n            >\r\n              <TabsList className=\"grid w-full grid-cols-2 mb-6 bg-gray-100 dark:bg-gray-700 p-1 rounded-xl\">\r\n                <TabsTrigger \r\n                  value=\"login\" \r\n                  className=\"rounded-lg data-[state=active]:bg-gradient-to-r data-[state=active]:from-[#1e5f7a] data-[state=active]:via-[#007A76] data-[state=active]:to-[#8EDC81] data-[state=active]:text-white font-semibold transition-all\"\r\n                >\r\n                  Login\r\n                </TabsTrigger>\r\n                <TabsTrigger \r\n                  value=\"register\"\r\n                  className=\"rounded-lg data-[state=active]:bg-gradient-to-r data-[state=active]:from-[#1e5f7a] data-[state=active]:via-[#007A76] data-[state=active]:to-[#8EDC81] data-[state=active]:text-white font-semibold transition-all\"\r\n                >\r\n                  Register\r\n                </TabsTrigger>\r\n              </TabsList>\r\n\r\n              {/* ========== LOGIN TAB ========== */}\r\n              <TabsContent value=\"login\" className=\"animate-fade-in\">\r\n                <div className=\"space-y-5\">\r\n                  <div className=\"space-y-2\">\r\n                    <Label className=\"text-sm font-semibold text-gray-700 dark:text-gray-300 flex items-center gap-2\">\r\n                      <Phone className=\"w-4 h-4 text-[#007A76]\" />\r\n                      Phone Number\r\n                    </Label>\r\n                    <PhoneRow\r\n                      countries={countries}\r\n                      iso2={loginCountryIso2}\r\n                      setIso2={setLoginCountryIso2}\r\n                      phone={loginPhone}\r\n                      setPhone={setLoginPhone}\r\n                      disabledPhone={false}\r\n                    />\r\n                  </div>\r\n\r\n                  <div className=\"space-y-2\">\r\n                    <Label className=\"text-sm font-semibold text-gray-700 dark:text-gray-300 flex items-center gap-2\">\r\n                      <Lock className=\"w-4 h-4 text-[#007A76]\" />\r\n                      Password\r\n                    </Label>\r\n                    <div className=\"relative\">\r\n                      <Lock className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n                      <Input\r\n                        type=\"password\"\r\n                        value={loginPassword}\r\n                        onChange={(e) => setLoginPassword(e.target.value)}\r\n                        className=\"pl-10 border-2 border-gray-300 dark:border-gray-600 focus:border-[#007A76] focus:ring-2 focus:ring-[#007A76]/20 transition-all\"\r\n                        placeholder=\"Enter your password\"\r\n                        onKeyPress={(e) => e.key === 'Enter' && handleLogin()}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n\r\n                  <Button\r\n                    type=\"button\"\r\n                    variant=\"link\"\r\n                    className=\"w-full text-sm p-0 h-auto text-[#007A76] hover:text-[#8EDC81] font-semibold transition-colors\"\r\n                    onClick={() => setShowForgotPassword(true)}\r\n                  >\r\n                    Forgot Password?\r\n                  </Button>\r\n\r\n                  <Button\r\n                    onClick={handleLogin}\r\n                    disabled={loading}\r\n                    className=\"w-full bg-gradient-to-r from-[#1e5f7a] via-[#007A76] to-[#8EDC81] hover:from-[#184a5e] hover:via-[#008c88] hover:to-[#7bc876] text-white font-bold py-6 rounded-xl shadow-lg shadow-[#007A76]/30 hover:shadow-xl hover:shadow-[#007A76]/40 transition-all duration-300 hover:scale-105 group\"\r\n                  >\r\n                    {loading ? (\r\n                      <span className=\"flex items-center gap-2\">\r\n                        <RefreshCw className=\"w-5 h-5 animate-spin\" />\r\n                        Logging in...\r\n                      </span>\r\n                    ) : (\r\n                      <span className=\"flex items-center gap-2\">\r\n                        Login\r\n                        <ArrowLeft className=\"w-5 h-5 rotate-180 group-hover:translate-x-1 transition-transform\" />\r\n                      </span>\r\n                    )}\r\n                  </Button>\r\n                </div>\r\n              </TabsContent>\r\n\r\n              {/* ========== REGISTER TAB ========== */}\r\n              <TabsContent value=\"register\" className=\"animate-fade-in\">\r\n                {!otpVerified ? (\r\n                  <div className=\"space-y-5\">\r\n                    <div className=\"space-y-2\">\r\n                      <Label className=\"text-sm font-semibold text-gray-700 dark:text-gray-300 flex items-center gap-2\">\r\n                        <Phone className=\"w-4 h-4 text-[#007A76]\" />\r\n                        Phone Number\r\n                      </Label>\r\n                      <PhoneRow\r\n                        countries={countries}\r\n                        iso2={regCountryIso2}\r\n                        setIso2={setRegCountryIso2}\r\n                        phone={regPhone}\r\n                        setPhone={setRegPhone}\r\n                        disabledPhone={otpSent}\r\n                      />\r\n                    </div>\r\n\r\n                    {otpSent && (\r\n                      <div className=\"space-y-2 animate-fade-in-up\">\r\n                        <Label className=\"text-sm font-semibold text-gray-700 dark:text-gray-300\">OTP Code</Label>\r\n                        <Input\r\n                          type=\"text\"\r\n                          inputMode=\"numeric\"\r\n                          value={otpCode}\r\n                          onChange={(e) => {\r\n                            const value = e.target.value.replace(/\\D/g, ''); // Only digits\r\n                            if (value.length <= 6) setOtpCode(value);\r\n                          }}\r\n                          placeholder=\"Enter 6-digit OTP\"\r\n                          maxLength={6}\r\n                          className=\"border-2 border-gray-300 dark:border-gray-600 focus:border-[#007A76] focus:ring-2 focus:ring-[#007A76]/20 transition-all text-center text-2xl font-bold tracking-widest\"\r\n                        />\r\n                        <div className=\"flex items-center justify-between mt-2\">\r\n                          <p className=\"text-xs text-gray-500 dark:text-gray-400\">Check your phone</p>\r\n                          {resendTimer > 0 ? (\r\n                            <p className=\"text-xs text-[#007A76] font-semibold\">\r\n                              Resend in {resendTimer}s\r\n                            </p>\r\n                          ) : (\r\n                            <Button\r\n                              type=\"button\"\r\n                              variant=\"link\"\r\n                              size=\"sm\"\r\n                              onClick={handleResendOtp}\r\n                              disabled={!canResend || loading}\r\n                              className=\"h-auto p-0 text-xs text-[#007A76] hover:text-[#8EDC81] transition-colors\"\r\n                            >\r\n                              <RefreshCw className=\"w-3 h-3 mr-1\" />\r\n                              Resend OTP\r\n                            </Button>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n\r\n                    <div className=\"flex gap-2\">\r\n                      {!otpSent ? (\r\n                        <Button\r\n                          onClick={handleSendOtp}\r\n                          className=\"w-full bg-gradient-to-r from-[#1e5f7a] via-[#007A76] to-[#8EDC81] hover:from-[#184a5e] hover:via-[#008c88] hover:to-[#7bc876] text-white font-bold py-6 rounded-xl shadow-lg shadow-[#007A76]/30 hover:shadow-xl hover:shadow-[#007A76]/40 transition-all duration-300 hover:scale-105\"\r\n                          disabled={loading}\r\n                        >\r\n                          {loading ? (\r\n                            <span className=\"flex items-center gap-2\">\r\n                              <RefreshCw className=\"w-5 h-5 animate-spin\" />\r\n                              Sending...\r\n                            </span>\r\n                          ) : (\r\n                            \"Send OTP\"\r\n                          )}\r\n                        </Button>\r\n                      ) : (\r\n                        <>\r\n                          <Button\r\n                            variant=\"outline\"\r\n                            onClick={changeRegisterNumber}\r\n                            className=\"w-1/3 border-2 border-gray-300 hover:border-[#007A76] hover:bg-[#007A76]/10 transition-all\"\r\n                            disabled={loading}\r\n                          >\r\n                            Change\r\n                          </Button>\r\n                          <Button\r\n                            onClick={handleVerifyOtp}\r\n                            className=\"w-2/3 bg-gradient-to-r from-[#007A76] to-[#8EDC81] hover:from-[#008c88] hover:to-[#7bc876] text-white font-bold py-6 rounded-xl shadow-lg shadow-[#007A76]/30 hover:shadow-xl hover:shadow-[#007A76]/40 transition-all duration-300 hover:scale-105\"\r\n                            disabled={loading}\r\n                          >\r\n                            {loading ? (\r\n                              <span className=\"flex items-center gap-2\">\r\n                                <RefreshCw className=\"w-5 h-5 animate-spin\" />\r\n                                Verifying...\r\n                              </span>\r\n                            ) : (\r\n                              \"Verify OTP\"\r\n                            )}\r\n                          </Button>\r\n                        </>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"space-y-5 animate-fade-in\">\r\n                    <div className=\"space-y-2\">\r\n                      <Label className=\"text-sm font-semibold text-gray-700 dark:text-gray-300 flex items-center gap-2\">\r\n                        <User className=\"w-4 h-4 text-[#007A76]\" />\r\n                        Username\r\n                      </Label>\r\n                      <div className=\"relative\">\r\n                        <User className=\"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n                        <Input\r\n                          type=\"text\"\r\n                          ref={usernameRef}\r\n                          value={registerData.username}\r\n                          onChange={(e) =>\r\n                            {\r\n                              setRegisterData({ ...registerData, username: e.target.value });\r\n                              setRegisterErrors((prev) => ({ ...prev, username: false }));\r\n                            }\r\n                          }\r\n                          className={`pl-10 border-2 ${\r\n                            registerErrors.username ? \"border-red-500\" : \"border-gray-300 dark:border-gray-600\"\r\n                          } focus:border-[#007A76] focus:ring-2 focus:ring-[#007A76]/20 transition-all`}\r\n                          placeholder=\"Choose a username\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"grid grid-cols-2 gap-3\">\r\n                      <div className=\"space-y-2\">\r\n                        <Label className=\"text-sm font-semibold text-gray-700 dark:text-gray-300\">First Name</Label>\r\n                        <Input\r\n                          type=\"text\"\r\n                          ref={firstNameRef}\r\n                          value={registerData.first_name}\r\n                          onChange={(e) =>\r\n                            {\r\n                              setRegisterData({ ...registerData, first_name: e.target.value });\r\n                              setRegisterErrors((prev) => ({ ...prev, first_name: false }));\r\n                            }\r\n                          }\r\n                          className={`border-2 ${\r\n                            registerErrors.first_name ? \"border-red-500\" : \"border-gray-300 dark:border-gray-600\"\r\n                          } focus:border-[#007A76] focus:ring-2 focus:ring-[#007A76]/20 transition-all`}\r\n                          placeholder=\"First name\"\r\n                        />\r\n                      </div>\r\n                      <div className=\"space-y-2\">\r\n                        <Label className=\"text-sm font-semibold text-gray-700 dark:text-gray-300\">Last Name</Label>\r\n                        <Input\r\n                          type=\"text\"\r\n                          ref={lastNameRef}\r\n                          value={registerData.last_name}\r\n                          onChange={(e) =>\r\n                            {\r\n                              setRegisterData({ ...registerData, last_name: e.target.value });\r\n                              setRegisterErrors((prev) => ({ ...prev, last_name: false }));\r\n                            }\r\n                          }\r\n                          className={`border-2 ${\r\n                            registerErrors.last_name ? \"border-red-500\" : \"border-gray-300 dark:border-gray-600\"\r\n                          } focus:border-[#007A76] focus:ring-2 focus:ring-[#007A76]/20 transition-all`}\r\n                          placeholder=\"Last name\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n\r\n                    <div className=\"space-y-2\">\r\n                      <Label className=\"text-sm font-semibold text-gray-700 dark:text-gray-300\">Driver's License Number</Label>\r\n                      <Input\r\n                        type=\"text\"\r\n                        ref={licenseNumberRef}\r\n                        value={registerData.license_number}\r\n                        onChange={(e) =>\r\n                          {\r\n                            setRegisterData({ ...registerData, license_number: e.target.value });\r\n                            setRegisterErrors((prev) => ({ ...prev, license_number: false }));\r\n                          }\r\n                        }\r\n                        className={`border-2 ${\r\n                          registerErrors.license_number ? \"border-red-500\" : \"border-gray-300 dark:border-gray-600\"\r\n                        } focus:border-[#007A76] focus:ring-2 focus:ring-[#007A76]/20 transition-all`}\r\n                        placeholder=\"License number\"\r\n                      />\r\n                    </div>\r\n\r\n                    <div className=\"space-y-2\">\r\n                      <Label className=\"text-sm font-semibold text-gray-700 dark:text-gray-300 flex items-center gap-2\">\r\n                        <Lock className=\"w-4 h-4 text-[#007A76]\" />\r\n                        Password\r\n                      </Label>\r\n                      <Input\r\n                        type=\"password\"\r\n                        ref={passwordRef}\r\n                        value={registerData.password}\r\n                        onChange={(e) =>\r\n                          {\r\n                            setRegisterData({ ...registerData, password: e.target.value });\r\n                            setRegisterErrors((prev) => ({ ...prev, password: false }));\r\n                          }\r\n                        }\r\n                        minLength={6}\r\n                        className={`border-2 ${\r\n                          registerErrors.password ? \"border-red-500\" : \"border-gray-300 dark:border-gray-600\"\r\n                        } focus:border-[#007A76] focus:ring-2 focus:ring-[#007A76]/20 transition-all`}\r\n                        placeholder=\"At least 6 characters\"\r\n                      />\r\n                      <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">Minimum 6 characters</p>\r\n                    </div>\r\n\r\n                    <div className=\"space-y-2\">\r\n                      <Label className=\"text-sm font-semibold text-gray-700 dark:text-gray-300\">Confirm Password</Label>\r\n                      <Input\r\n                        type=\"password\"\r\n                        ref={passwordConfirmRef}\r\n                        value={registerData.password_confirmation}\r\n                        onChange={(e) =>\r\n                          {\r\n                            setRegisterData({\r\n                              ...registerData,\r\n                              password_confirmation: e.target.value,\r\n                            });\r\n                            setRegisterErrors((prev) => ({ ...prev, password_confirmation: false }));\r\n                          }\r\n                        }\r\n                        className={`border-2 ${\r\n                          registerErrors.password_confirmation\r\n                            ? \"border-red-500\"\r\n                            : \"border-gray-300 dark:border-gray-600\"\r\n                        } focus:border-[#007A76] focus:ring-2 focus:ring-[#007A76]/20 transition-all`}\r\n                        placeholder=\"Re-enter password\"\r\n                      />\r\n                    </div>\r\n\r\n                    <div className=\"flex items-start gap-2\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        id=\"terms-accept\"\r\n                        ref={termsRef}\r\n                        checked={termsAccepted}\r\n                        onChange={(e) => {\r\n                          setTermsAccepted(e.target.checked);\r\n                          setRegisterErrors((prev) => ({ ...prev, terms: false }));\r\n                        }}\r\n                        className={`mt-1 h-4 w-4 rounded ${\r\n                          registerErrors.terms ? \"border-red-500\" : \"border-gray-300\"\r\n                        } text-[#007A76] focus:ring-[#007A76]`}\r\n                      />\r\n                      <Label htmlFor=\"terms-accept\" className=\"text-sm text-gray-600 dark:text-gray-400 cursor-pointer leading-tight\">\r\n                        I accept the{\" \"}\r\n                        <a href=\"/Terms-and-Conditions\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-[#007A76] hover:underline font-medium\">\r\n                          Terms of Use\r\n                        </a>{\" \"}\r\n                        and{\" \"}\r\n                        <a href=\"/Privacy-Policy\" target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-[#007A76] hover:underline font-medium\">\r\n                          Privacy Policy\r\n                        </a>\r\n                        <span className=\"text-red-500\"> *</span>\r\n                      </Label>\r\n                    </div>\r\n\r\n                    <div className=\"flex gap-3\">\r\n                      <Button\r\n                        variant=\"outline\"\r\n                        onClick={() => setOtpVerified(false)}\r\n                        className=\"w-1/3 border-2 border-gray-300 hover:border-[#007A76] hover:bg-[#007A76]/10 transition-all\"\r\n                        disabled={loading}\r\n                      >\r\n                        Back\r\n                      </Button>\r\n                      <Button\r\n                        onClick={handleRegister}\r\n                        className=\"w-2/3 bg-gradient-to-r from-[#007A76] to-[#8EDC81] hover:from-[#008c88] hover:to-[#7bc876] text-white font-bold py-6 rounded-xl shadow-lg shadow-[#007A76]/30 hover:shadow-xl hover:shadow-[#007A76]/40 transition-all duration-300 hover:scale-105\"\r\n                        disabled={loading}\r\n                      >\r\n                        {loading ? (\r\n                          <span className=\"flex items-center gap-2\">\r\n                            <RefreshCw className=\"w-5 h-5 animate-spin\" />\r\n                            Registering...\r\n                          </span>\r\n                        ) : (\r\n                          \"Complete Registration\"\r\n                        )}\r\n                      </Button>\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </TabsContent>\r\n            </Tabs>\r\n\r\n            <div className=\"mt-6 text-center border-t border-gray-200 dark:border-gray-700 pt-6\">\r\n              <button\r\n                onClick={() => navigate(\"/\")}\r\n                className=\"text-sm text-gray-600 dark:text-gray-400 hover:text-[#007A76] dark:hover:text-[#8EDC81] transition-colors font-medium flex items-center gap-2 mx-auto group\"\r\n              >\r\n                <Sparkles className=\"w-4 h-4 group-hover:animate-pulse\" />\r\n                Continue as Guest\r\n                <Sparkles className=\"w-4 h-4 group-hover:animate-pulse\" />\r\n              </button>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* Decorative Footer */}\r\n        <div className=\"mt-6 text-center text-xs text-gray-500 dark:text-gray-400\">\r\n          <p> 2024 Rento LB. All rights reserved.</p>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":["onlyDigits","v","PhoneRow","countries","iso2","setIso2","phone","setPhone","disabledPhone","jsxs","jsx","e","c","AuthPage","navigate","useNavigate","activeTab","setActiveTab","useState","loading","setLoading","showForgotPassword","setShowForgotPassword","useMemo","countriesData","b","dialCodeByIso2","map","getDialCode","loginPhone","setLoginPhone","loginCountryIso2","setLoginCountryIso2","loginPassword","setLoginPassword","handleLogin","fullPhone","toast","res","api","err","regPhone","setRegPhone","regCountryIso2","setRegCountryIso2","otpSent","setOtpSent","otpCode","setOtpCode","otpVerified","setOtpVerified","canResend","setCanResend","resendTimer","setResendTimer","registerData","setRegisterData","registerErrors","setRegisterErrors","termsAccepted","setTermsAccepted","usernameRef","useRef","firstNameRef","lastNameRef","licenseNumberRef","passwordRef","passwordConfirmRef","termsRef","useEffect","interval","prev","resetRegistrationFlow","changeRegisterNumber","handleSendOtp","deviceId","getOrCreateDeviceId","response","sendOtp","retryAfter","sec","errors","key","msg","handleResendOtp","handleVerifyOtp","verifyOtp","handleRegister","hasError","nextErrors","fieldOrder","fieldRefs","firstInvalidKey","el","payload","error","forgotPhone","setForgotPhone","forgotCountryIso2","setForgotCountryIso2","forgotOtpSent","setForgotOtpSent","forgotOtpCode","setForgotOtpCode","newPassword","setNewPassword","confirmNewPassword","setConfirmNewPassword","forgotCanResend","setForgotCanResend","forgotResendTimer","setForgotResendTimer","resetForgotPasswordFlow","changeForgotNumber","handleSendForgotOtp","sendForgotPasswordOtp","handleResendForgotOtp","handleResetPassword","phoneForApi","Button","ArrowLeft","Car","Card","CardHeader","CardTitle","CardDescription","CardContent","Label","Fragment","Input","value","RefreshCw","Lock","Sparkles","Tabs","val","TabsList","TabsTrigger","TabsContent","Phone","User"],"mappings":"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"}