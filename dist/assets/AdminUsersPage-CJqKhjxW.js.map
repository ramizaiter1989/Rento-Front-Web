{"version":3,"file":"AdminUsersPage-CJqKhjxW.js","sources":["../../src/pages/admin/AdminUsersPage.jsx"],"sourcesContent":["import React, { useCallback, useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport api from \"@/lib/axios\";\r\nimport { getOnlineUsers, getUsers } from \"@/lib/adminApi\";\r\nimport { Eye, Pencil, Trash2, Search, Edit, Users, Circle, ChevronLeft, ChevronRight } from \"lucide-react\";\r\n\r\nimport { Button } from \"@/components/ui/button\";\r\nimport { Card, CardContent } from \"@/components/ui/card\";\r\nimport { Input } from \"@/components/ui/input\";\r\nimport {\r\n  Select,\r\n  SelectContent,\r\n  SelectItem,\r\n  SelectTrigger,\r\n  SelectValue,\r\n} from \"@/components/ui/select\";\r\nimport { Badge } from \"@/components/ui/badge\";\r\n\r\nimport { useToast } from \"@/hooks/use-toast\";\r\n\r\n// Start Tony Update\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from \"@/components/ui/dialog\";\r\n\r\nimport { Label } from \"@/components/ui/label\";\r\n\r\nfunction truncate(text, max = 14) {\r\n  if (!text) return \"N/A\";\r\n  return text.length > max ? `${text.slice(0, max)}...` : text;\r\n}\r\n// End Tony Update\r\nconst AdminUsersPage = () => {\r\n  const navigate = useNavigate();\r\n  const { toast } = useToast();\r\n\r\n  const PER_PAGE = 20;\r\n  const [users, setUsers] = useState([]);\r\n  const [meta, setMeta] = useState({ current_page: 1, last_page: 1, per_page: PER_PAGE, total: 0 });\r\n  const [page, setPage] = useState(1);\r\n  const [onlineCount, setOnlineCount] = useState(null);\r\n  const [loading, setLoading] = useState(true);\r\n\r\n  //Start tony update\r\n  // Modal states\r\n  const [selectedItem, setSelectedItem] = useState(null);\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n  const [modalType, setModalType] = useState(\"\");\r\n\r\n  const [editingUser, setEditingUser] = useState(null);\r\n  //End tony update\r\n\r\n  /* filters */\r\n  const [search, setSearch] = useState(\"\");\r\n  const [roles, setRoles] = useState([]);\r\n  const [statusFilter, setStatusFilter] = useState(\"all\");\r\n  const [showFilters, setShowFilters] = useState(false);\r\n\r\n  /* ============================\r\n     Fetch users (paginated, always sorted by newest)\r\n  ============================ */\r\n  const fetchUsers = useCallback(async () => {\r\n    setLoading(true);\r\n    try {\r\n      const params = {\r\n        page,\r\n        per_page: PER_PAGE,\r\n        sort_by: \"created_at\",\r\n        sort_order: \"desc\",\r\n      };\r\n      if (search.trim()) params.search = search.trim();\r\n      if (roles.length === 1) params.role = roles[0];\r\n      else if (roles.length > 1) params.role = roles.join(\",\");\r\n      if (statusFilter === \"active\") params.status = true;\r\n      else if (statusFilter === \"blocked\") params.status = false;\r\n\r\n      const res = await getUsers(params);\r\n      const payload = res.data?.users ?? res.data;\r\n      const list = Array.isArray(payload) ? payload : payload?.data ?? [];\r\n      setUsers(Array.isArray(list) ? list : []);\r\n\r\n      const pagination = payload?.current_page != null\r\n        ? { current_page: payload.current_page, last_page: payload.last_page ?? 1, per_page: payload.per_page ?? PER_PAGE, total: payload.total ?? 0 }\r\n        : { current_page: page, last_page: 1, per_page: PER_PAGE, total: 0 };\r\n      setMeta((m) => ({\r\n        ...m,\r\n        current_page: pagination.current_page ?? page,\r\n        last_page: pagination.last_page ?? 1,\r\n        per_page: pagination.per_page ?? PER_PAGE,\r\n        total: pagination.total ?? 0,\r\n      }));\r\n    } catch (err) {\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Failed to load users\",\r\n        variant: \"destructive\",\r\n      });\r\n      setUsers([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [page, search, roles, statusFilter]);\r\n\r\n  useEffect(() => {\r\n    fetchUsers();\r\n  }, [fetchUsers]);\r\n\r\n  // Reset to page 1 when filters change\r\n  useEffect(() => {\r\n    setPage(1);\r\n  }, [search, roles, statusFilter]);\r\n\r\n  useEffect(() => {\r\n    const fetchOnline = async () => {\r\n      try {\r\n        const res = await getOnlineUsers({ minutes: 30 });\r\n        const data = res.data ?? res;\r\n        const list = data?.online_users ?? data?.users ?? data?.data ?? [];\r\n        setOnlineCount(data?.online_users_count ?? (Array.isArray(list) ? list.length : 0));\r\n      } catch {\r\n        setOnlineCount(0);\r\n      }\r\n    };\r\n    fetchOnline();\r\n  }, []);\r\n\r\n  /* ============================\r\n     Fetch user details tony \r\n  ============================ */\r\n  const fetchUserDetails = async (id) => {\r\n    try {\r\n      const { data } = await api.get(`/admin/users/${id}`);\r\n      return data.user;\r\n    } catch (error) {\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Failed to fetch user details\",\r\n        variant: \"destructive\",\r\n      });\r\n      return null;\r\n    }\r\n  };\r\n  /* ============================\r\n     Fetch user Profile picture tony \r\n  ============================ */\r\n  const DEFAULT_AVATAR = \"/avatar.png\";\r\n  const ASSET_BASE = \"https://rento-lb.com/api/storage/\";\r\n  const getProfileImg = (u) => {\r\n    const p = u?.profile_picture;\r\n    if (!p) return DEFAULT_AVATAR;\r\n\r\n    if (p.startsWith(\"http\")) return p;\r\n    const cleaned = p.startsWith(\"/\") ? p.slice(1) : p;\r\n\r\n    return ASSET_BASE + cleaned;\r\n  };\r\n\r\n  //End Tony Update\r\n  /* Display users with newest first (client-side fallback if backend ignores sort) */\r\n  const filteredUsers = [...users].sort(\r\n    (a, b) => new Date(b.created_at || 0) - new Date(a.created_at || 0)\r\n  );\r\n\r\n  /* ============================\r\n     Actions\r\n  ============================ */\r\n\r\n  const handleDeleteUser = async (id) => {\r\n    if (!confirm(\"Delete this user?\")) return;\r\n\r\n    try {\r\n      await api.delete(`/admin/users/${id}`);\r\n      setUsers((prev) => prev.filter((u) => u.id !== id));\r\n      setMeta((m) => ({ ...m, total: Math.max(0, (m.total ?? 0) - 1) }));\r\n      toast({ title: \"User deleted\" });\r\n    } catch {\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Delete failed\",\r\n        variant: \"destructive\",\r\n      });\r\n    }\r\n  };\r\n\r\n  /* ============================\r\n     Render\r\n  ============================ */\r\n  return (\r\n    <div className=\"space-y-6\">\r\n      {/* Start Tony Update  */}\r\n      <Dialog open={modalOpen} onOpenChange={setModalOpen}>\r\n        <DialogContent className=\"max-w-2xl max-h-[80vh] overflow-y-auto\">\r\n          <DialogHeader>\r\n            <DialogTitle>\r\n              {modalType === \"edit-user\" ? \"Edit User\" : \"User Details\"}\r\n            </DialogTitle>\r\n          </DialogHeader>\r\n\r\n          {modalType === \"view-user\" && selectedItem && (\r\n            <UserDetailsView\r\n              user={selectedItem}\r\n              onEdit={() => {\r\n                setEditingUser({ ...selectedItem });\r\n                setModalType(\"edit-user\");\r\n              }}\r\n              onClose={() => setModalOpen(false)}\r\n            />\r\n          )}\r\n          {modalType === \"edit-user\" && editingUser && (\r\n            <EditUserView\r\n              user={editingUser}\r\n              setUser={setEditingUser}\r\n              onClose={() => {\r\n                setModalOpen(false);\r\n                setModalType(\"view-user\");\r\n              }}\r\n              onSaved={(updated) => {\r\n                setSelectedItem(updated);\r\n                setEditingUser({ ...updated });\r\n                setModalType(\"view-user\");\r\n              }}\r\n            />\r\n          )}\r\n        </DialogContent>\r\n      </Dialog>\r\n      {/* End Tony Update */}\r\n      {/* HEADER */}\r\n      <div className=\"flex items-center justify-between\">\r\n        <h1 className=\"text-2xl font-bold\">Users</h1>\r\n      </div>\r\n\r\n      {/* FILTER BAR */}\r\n      {/* TOP BAR */}\r\n<div className=\"flex flex-wrap items-center justify-between gap-3\">\r\n  {/* Left: Search */}\r\n  <div className=\"relative w-full sm:w-72\">\r\n    <Search className=\"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground\" />\r\n    <Input\r\n      placeholder=\"Search user...\"\r\n      className=\"pl-9\"\r\n      value={search}\r\n      onChange={(e) => setSearch(e.target.value)}\r\n    />\r\n  </div>\r\n  \r\n\r\n  {/* Right actions */}\r\n  <div className=\"flex items-center gap-3\">\r\n    {/* Total users & Online */}\r\n    <div className=\"flex flex-wrap items-center gap-4 text-sm text-muted-foreground\">\r\n      <div className=\"flex items-center gap-2\">\r\n        <Users className=\"h-4 w-4\" />\r\n        <span>Total:</span>\r\n        <span className=\"font-semibold text-foreground\">{meta.total}</span>\r\n      </div>\r\n      {onlineCount !== null && (\r\n        <div className=\"flex items-center gap-2\">\r\n          <Circle className=\"w-2.5 h-2.5 fill-green-500 text-green-500\" />\r\n          <span>Online now:</span>\r\n          <span className=\"font-semibold text-foreground\">{onlineCount}</span>\r\n        </div>\r\n      )}\r\n    </div>\r\n\r\n    {/* Toggle filters */}\r\n    <Button\r\n      variant=\"outline\"\r\n      size=\"sm\"\r\n      onClick={() => setShowFilters((p) => !p)}\r\n    >\r\n      Filters\r\n    </Button>\r\n  </div>\r\n</div>\r\n\r\n{showFilters && (\r\n  <div className=\"mt-3 grid grid-cols-1 md:grid-cols-3 gap-4 rounded-lg border p-4 bg-background\">\r\n    {/* Status */}\r\n    <Select value={statusFilter} onValueChange={setStatusFilter}>\r\n      <SelectTrigger>\r\n        <SelectValue placeholder=\"Status\" />\r\n      </SelectTrigger>\r\n      <SelectContent>\r\n        <SelectItem value=\"all\">All</SelectItem>\r\n        <SelectItem value=\"active\">Active</SelectItem>\r\n        <SelectItem value=\"blocked\">Blocked</SelectItem>\r\n      </SelectContent>\r\n    </Select>\r\n\r\n    {/* Roles */}\r\n    <div className=\"flex flex-wrap gap-3 text-sm\">\r\n      {[\"client\", \"agency\", \"admin\"].map((r) => (\r\n        <label key={r} className=\"flex items-center gap-2\">\r\n          <input\r\n            type=\"checkbox\"\r\n            checked={roles.includes(r)}\r\n            onChange={(e) => {\r\n              const checked = e.target.checked;\r\n              setRoles((prev) =>\r\n                checked ? [...prev, r] : prev.filter((x) => x !== r)\r\n              );\r\n            }}\r\n          />\r\n          <span className=\"capitalize\">{r}</span>\r\n        </label>\r\n      ))}\r\n    </div>\r\n  </div>\r\n)}\r\n\r\n\r\n      {/* USER CARDS */}\r\n      <Card>\r\n        <CardContent className=\"p-4\">\r\n          {loading ? (\r\n            <p className=\"p-6 text-muted-foreground text-center\">Loading users...</p>\r\n          ) : filteredUsers.length === 0 ? (\r\n            <p className=\"p-6 text-muted-foreground text-center\">No users found</p>\r\n          ) : (\r\n            <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4\">\r\n              {filteredUsers.map((user) => (\r\n                <Card key={user.id} className=\"overflow-hidden border-2 hover:shadow-md transition-shadow\">\r\n                  <CardContent className=\"p-4\">\r\n                    <div\r\n                      className=\"flex items-center gap-3 mb-3 cursor-pointer\"\r\n                      title={userTooltip(user)}\r\n                      role=\"button\"\r\n                      tabIndex={0}\r\n                      onClick={() =>\r\n                        openUserView(\r\n                          user.id,\r\n                          fetchUserDetails,\r\n                          setSelectedItem,\r\n                          setModalType,\r\n                          setModalOpen,\r\n                        )\r\n                      }\r\n                      onKeyDown={(e) => e.key === \"Enter\" && openUserView(user.id, fetchUserDetails, setSelectedItem, setModalType, setModalOpen)}\r\n                    >\r\n                      <img\r\n                        src={getProfileImg(user)}\r\n                        alt={user.username || \"User\"}\r\n                        className=\"h-12 w-12 rounded-full object-cover ring-2 ring-muted\"\r\n                        onError={(e) => {\r\n                          e.currentTarget.onerror = null;\r\n                          e.currentTarget.src = \"/avatar.png\";\r\n                        }}\r\n                      />\r\n                      <div className=\"min-w-0 flex-1\">\r\n                        <p className=\"font-semibold truncate\">\r\n                          {user.first_name && user.last_name\r\n                            ? `${user.first_name} ${user.last_name}`\r\n                            : user.username || `User #${user.id}`}\r\n                        </p>\r\n                        <p className=\"text-sm text-muted-foreground truncate\">{user.phone_number || \"—\"}</p>\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"flex flex-wrap gap-1.5 mb-3\">\r\n                      <Badge variant=\"outline\" className=\"capitalize\">{user.role}</Badge>\r\n                      {user.update_access ? (\r\n                        <Badge className=\"bg-green-500\">Active</Badge>\r\n                      ) : (\r\n                        <Badge variant=\"destructive\">Blocked</Badge>\r\n                      )}\r\n                    </div>\r\n                    <div className=\"flex justify-end gap-2 pt-2 border-t\">\r\n                      <Button\r\n                        variant=\"ghost\"\r\n                        size=\"icon\"\r\n                        onClick={async () => {\r\n                          const fullDetails = await fetchUserDetails(user.id);\r\n                          if (fullDetails) {\r\n                            setSelectedItem(fullDetails);\r\n                            setModalType(\"view-user\");\r\n                            setModalOpen(true);\r\n                          }\r\n                        }}\r\n                        title=\"View Details\"\r\n                      >\r\n                        <Eye className=\"w-4 h-4\" />\r\n                      </Button>\r\n                      <Button\r\n                        variant=\"ghost\"\r\n                        size=\"icon\"\r\n                        onClick={async () => {\r\n                          const fullDetails = await fetchUserDetails(user.id);\r\n                          if (fullDetails) {\r\n                            setSelectedItem(fullDetails);\r\n                            setEditingUser({ ...fullDetails });\r\n                            setModalType(\"edit-user\");\r\n                            setModalOpen(true);\r\n                          }\r\n                        }}\r\n                        title=\"Edit User\"\r\n                      >\r\n                        <Edit className=\"w-4 h-4\" />\r\n                      </Button>\r\n                      <Button\r\n                        size=\"icon\"\r\n                        variant=\"ghost\"\r\n                        aria-label=\"Delete user\"\r\n                        className=\"text-red-500 hover:text-red-600\"\r\n                        onClick={() => handleDeleteUser(user.id)}\r\n                        title=\"Remove User\"\r\n                      >\r\n                        <Trash2 className=\"h-4 w-4\" />\r\n                      </Button>\r\n                    </div>\r\n                  </CardContent>\r\n                </Card>\r\n              ))}\r\n            </div>\r\n          )}\r\n\r\n          {/* Pagination */}\r\n          {meta.last_page > 1 && !loading && filteredUsers.length > 0 && (\r\n            <div className=\"flex flex-col items-center gap-3 mt-6 pt-4 border-t\">\r\n              <div className=\"text-sm text-muted-foreground\">\r\n                Page <span className=\"font-semibold text-foreground\">{meta.current_page}</span> of{\" \"}\r\n                <span className=\"font-semibold text-foreground\">{meta.last_page}</span> ({meta.total} users)\r\n              </div>\r\n              <div className=\"flex items-center gap-2 flex-wrap justify-center\">\r\n                <Button\r\n                  variant=\"outline\"\r\n                  size=\"sm\"\r\n                  disabled={meta.current_page <= 1}\r\n                  onClick={() => setPage((p) => p - 1)}\r\n                >\r\n                  <ChevronLeft size={16} />\r\n                </Button>\r\n                {Array.from({ length: meta.last_page }, (_, i) => i + 1)\r\n                  .filter((p) => p === 1 || p === meta.last_page || Math.abs(p - meta.current_page) <= 2)\r\n                  .map((p) => (\r\n                    <Button\r\n                      key={p}\r\n                      size=\"sm\"\r\n                      variant={p === meta.current_page ? \"default\" : \"outline\"}\r\n                      onClick={() => setPage(p)}\r\n                    >\r\n                      {p}\r\n                    </Button>\r\n                  ))}\r\n                <Button\r\n                  variant=\"outline\"\r\n                  size=\"sm\"\r\n                  disabled={meta.current_page >= meta.last_page}\r\n                  onClick={() => setPage((p) => p + 1)}\r\n                >\r\n                  <ChevronRight size={16} />\r\n                </Button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default AdminUsersPage;\r\n// Start Tony Update\r\nfunction userTooltip(user) {\r\n  if (!user) return \"\";\r\n\r\n  const client = user.client || {};\r\n  const qc = client.qualification_code || {};\r\n\r\n  return [\r\n    `User ID : ${user.id ?? \"N/A\"}`,\r\n    `Age : ${qc.age ?? \"N/A\"}`,\r\n    `Gender : ${user.gender ?? \"N/A\"}`,\r\n    `City : ${user.city ?? \"N/A\"}`,\r\n    `Bio : ${user.bio ?? \"N/A\"}`,\r\n    `Profession : ${client.profession ?? \"N/A\"}`,\r\n    `Email : ${user.email ?? \"N/A\"}`,\r\n    `License number : ${client.license_number ?? \"N/A\"}`,\r\n    `Average rating : ${client.average_rating ?? \"N/A\"}`,\r\n    `OTP verification : ${user.otp_verification ?? \"N/A\"}`,\r\n  ].join(\"\\n\");\r\n}\r\n\r\nexport async function openUserView(\r\n  id,\r\n  fetchUserDetails,\r\n  SelectItem,\r\n  setModalType,\r\n  setModalOpen,\r\n) {\r\n  const fullDetails = await fetchUserDetails(id);\r\n  if (fullDetails) {\r\n    SelectItem(fullDetails);\r\n    setModalType(\"view-user\");\r\n    setModalOpen(true);\r\n  }\r\n}\r\n\r\nfunction formatDateOnly(value) {\r\n  if (!value) return \"N/A\";\r\n  const d = new Date(value);\r\n  if (Number.isNaN(d.getTime())) return String(value);\r\n  return d.toLocaleDateString(\"en-US\", {\r\n    month: \"numeric\",\r\n    day: \"numeric\",\r\n    year: \"numeric\",\r\n  });\r\n}\r\n\r\nfunction formatDateTime(value) {\r\n  if (!value) return \"N/A\";\r\n  const d = new Date(value);\r\n  if (Number.isNaN(d.getTime())) return String(value);\r\n\r\n  return d.toLocaleString(\"en-US\", {\r\n    timeZone: \"Asia/Beirut\",\r\n    month: \"numeric\",\r\n    day: \"numeric\",\r\n    year: \"numeric\",\r\n    hour: \"numeric\",\r\n    minute: \"2-digit\",\r\n    second: \"2-digit\",\r\n    hour12: true,\r\n  });\r\n}\r\nconst ASSET_BASE = \"https://rento-lb.com/api/storage/\";\r\nconst DEFAULT_AVATAR = \"/avatar.png\";\r\n\r\nfunction fileUrl(path, fallback = null) {\r\n  if (!path) return fallback;\r\n  if (path.startsWith(\"http\")) return path;\r\n  const cleaned = path.startsWith(\"/\") ? path.slice(1) : path;\r\n  return ASSET_BASE + cleaned;\r\n}\r\n\r\nfunction isPdf(pathOrUrl) {\r\n  if (!pathOrUrl) return false;\r\n  return String(pathOrUrl).toLowerCase().split(\"?\")[0].endsWith(\".pdf\");\r\n}\r\n\r\nfunction DocCard({ title, path, fallback = null }) {\r\n  const url = fileUrl(path, fallback);\r\n\r\n  if (!url) {\r\n    return <div className=\"text-sm text-muted-foreground\">N/A</div>;\r\n  }\r\n\r\n  // If PDF → show PDF inside the card\r\n  if (isPdf(url)) {\r\n    const pdfUrl = `${url}#toolbar=0&navpanes=0&scrollbar=0`;\r\n    return (\r\n      <iframe\r\n        title={title}\r\n        src={pdfUrl}\r\n        className=\"w-full max-w-[260px] h-[180px] rounded-md border bg-white\"\r\n      />\r\n    );\r\n  }\r\n\r\n  // If Image → show thumbnail\r\n  return (\r\n    <img\r\n      src={url}\r\n      alt={title}\r\n      className=\"w-full max-w-[260px] h-[180px] object-cover rounded-md border\"\r\n      onError={(e) => {\r\n        if (fallback) {\r\n          e.currentTarget.onerror = null;\r\n          e.currentTarget.src = fallback;\r\n        }\r\n      }}\r\n    />\r\n  );\r\n}\r\n\r\nfunction UserDetailsView({ user, onEdit, onClose }) {\r\n  const client = user?.client || {};\r\n\r\n  function FieldRow({ label, value }) {\r\n    return (\r\n      <div className=\"flex items-center gap-2 test-sm\">\r\n        <span className=\"text-muted-foreground\">{label} :</span>\r\n        <span className=\"text-foreground\">{value ?? \"N/A\"}</span>\r\n      </div>\r\n    );\r\n  }\r\n  // End Update Tony\r\n\r\n  const Chip = ({ label, value, tone = \"neutral\" }) => {\r\n    const cls =\r\n      tone === \"teal\"\r\n        ? \"bg-teal-600 text-white\"\r\n        : tone === \"red\"\r\n          ? \"bg-red-600 text-white\"\r\n          : \"bg-muted text-foreground\";\r\n\r\n    return (\r\n      <div className=\"flex items-center gap-2 whitespace-nowrap\">\r\n        <span className=\" text-muted-foreground\">{label}</span>\r\n\r\n        <span\r\n          className={`inline-flex items-center justify-center px-2 h-5 rounded text-xs font-semibold leading-none ${cls}`}\r\n        >\r\n          {value}\r\n        </span>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  const statusText = user?.status ? \"Active\" : \"Inactive\";\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"grid grid-cols-2 gap-x-10 gap-y-3\">\r\n        <FieldRow label=\"ID\" value={user?.id} />\r\n        <FieldRow label=\"Username\" value={user?.username} />\r\n\r\n        <FieldRow label=\"Email\" value={user?.email} />\r\n        <FieldRow label=\"Phone Number\" value={user?.phone_number} />\r\n\r\n        <FieldRow label=\"First Name\" value={user?.first_name} />\r\n        <FieldRow label=\"Last Name\" value={user?.last_name} />\r\n\r\n        <FieldRow label=\"Gender\" value={user?.gender} />\r\n        <FieldRow label=\"Birth Date\" value={formatDateOnly(user?.birth_date)} />\r\n\r\n        <FieldRow label=\"City\" value={user?.city} />\r\n        <FieldRow label=\"Role\" value={user?.role} />\r\n\r\n        <div className=\"flex flex-wrap items-center gap-8 pt-1\">\r\n          <Chip\r\n            label=\"Status:\"\r\n            value={statusText}\r\n            tone={user?.status ? \"teal\" : \"red\"}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"flex flex-wrap items-center gap-8 pt-1\">\r\n          <Chip\r\n            label=\"Verified by Admin:\"\r\n            value={user?.verified_by_admin ? \"Yes\" : \"No\"}\r\n            tone={user?.verified_by_admin ? \"teal\" : \"red\"}\r\n          />\r\n        </div>\r\n\r\n        <div className=\"flex flex-wrap items-center gap-8 pt-1\">\r\n          <Chip\r\n            label=\"Is Locked:\"\r\n            value={user?.is_locked ? \"Locked\" : \"Unlocked\"}\r\n            tone={user?.is_locked ? \"red\" : \"teal\"}\r\n          />\r\n        </div>\r\n\r\n        <FieldRow label=\"Created At\" value={formatDateTime(user?.created_at)} />\r\n        <FieldRow label=\"Updated At\" value={formatDateTime(user?.updated_at)} />\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-2 gap-x-10 gap-y-3\">\r\n        <FieldRow label=\"Bio\" value={user?.bio} />\r\n      </div>\r\n\r\n      <div className=\"border-t pt-3\" />\r\n\r\n      <div className=\"text-sm font-semibold\">Client Details</div>\r\n\r\n      <div className=\"grid grid-cols-2 gap-x-10 gap-y-3\">\r\n        <FieldRow label=\"License Number\" value={client?.license_number} />\r\n        <FieldRow label=\"Profession\" value={client?.profession} />\r\n\r\n        <FieldRow label=\"Average Salary\" value={client?.avg_salary} />\r\n        <FieldRow label=\"Promo Code\" value={client?.promo_code} />\r\n      </div>\r\n\r\n      <div className=\"border-t pt-3\" />\r\n\r\n      <div className=\"space-y-3\">\r\n        <div className=\"text-sm font-semibold\">Documents</div>\r\n\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n          {/* Profile Picture */}\r\n          <div>\r\n            <div className=\"text-muted-foreground\">Profile Picture</div>\r\n            <DocCard\r\n              title=\"Profile Picture\"\r\n              path={user?.profile_picture}\r\n              fallback={DEFAULT_AVATAR}\r\n            />\r\n          </div>\r\n\r\n          {/* Driver License */}\r\n          <div>\r\n            <div className=\"text-muted-foreground\">Driver License</div>\r\n            <DocCard title=\"Driver License\" path={client?.driver_license} />\r\n          </div>\r\n\r\n          {/* ID Card Front */}\r\n          <div>\r\n            <div className=\"text-muted-foreground\">ID Card Front</div>\r\n            <DocCard title=\"ID Card Front\" path={user?.id_card_front} />\r\n          </div>\r\n\r\n          {/* ID Card Back */}\r\n          <div>\r\n            <div className=\"text-muted-foreground\">ID Card Back</div>\r\n            <DocCard title=\"ID Card Back\" path={user?.id_card_back} />\r\n          </div>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"pt-3 flex gap-2\">\r\n        <Button className=\"flex-1\" onClick={onEdit}>\r\n          Edit User\r\n        </Button>\r\n\r\n        <Button variant=\"outline\" className=\"w-28\" onClick={onClose}>\r\n          Close\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction EditUserView({ user, setUser, onClose, onSaved }) {\r\n  const { toast } = useToast();\r\n\r\n  const setVal = (key, value) => setUser((p) => ({ ...p, [key]: value }));\r\n\r\n  const client = user?.client || {};\r\n\r\n  const save = async () => {\r\n    try {\r\n      const payload = {\r\n        verified_by_admin: !!user?.verified_by_admin,\r\n        status: !!user?.status,\r\n        is_locked: !!user?.is_locked,\r\n        update_access: !!user?.update_access,\r\n      };\r\n\r\n      const { data } = await api.put(`/admin/users/${user.id}`, payload);\r\n\r\n      const updated = data.user ?? data.data ?? user;\r\n\r\n      toast({ title: \"Saved\", description: \"User updated successfully\" });\r\n      onSaved?.(updated);\r\n    } catch (e) {\r\n      toast({\r\n        title: \"Error\",\r\n        description: \"Failed to update user\",\r\n        variant: \"destructive\",\r\n      });\r\n    }\r\n  };\r\n\r\n  const ToggleRow = ({ label, value, onChange }) => (\r\n    <div className=\"flex items-center justify-between gap-3 py-2\">\r\n      <div className=\"text-sm\">{label}</div>\r\n\r\n      <button\r\n        type=\"button\"\r\n        role=\"switch\"\r\n        aria-checked={!!value}\r\n        onClick={() => onChange(!value)}\r\n        className={[\r\n          \"relative inline-flex h-5 w-10 items-center rounded-full transition-colors\",\r\n          value ? \"bg-teal-600\" : \"bg-muted\",\r\n          \"focus:outline-none focus:ring-2 focus:ring-teal-500/40\",\r\n        ].join(\" \")}\r\n      >\r\n        <span\r\n          className={[\r\n            \"inline-block h-4 w-4 transform rounded-full bg-white transition-transform\",\r\n            value ? \"translate-x-5\" : \"translate-x-1\",\r\n            \"shadow\",\r\n          ].join(\" \")}\r\n        />\r\n      </button>\r\n    </div>\r\n  );\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"grid grid-cols-2 gap-x-10 gap-y-3\">\r\n        <div>\r\n          <Label>ID</Label>\r\n          <Input value={user?.id ?? \"\"} disabled />\r\n        </div>\r\n\r\n        <div>\r\n          <Label>Username</Label>\r\n          <Input value={user?.username ?? \"\"} disabled />\r\n        </div>\r\n\r\n        <div>\r\n          <Label>Email</Label>\r\n          <Input value={user?.email ?? \"\"} disabled />\r\n        </div>\r\n\r\n        <div>\r\n          <Label>Phone Number</Label>\r\n          <Input value={user?.phone_number ?? \"\"} disabled />\r\n        </div>\r\n\r\n        <div>\r\n          <Label>First Name</Label>\r\n          <Input value={user?.first_name ?? \"\"} disabled />\r\n        </div>\r\n\r\n        <div>\r\n          <Label>Last Name</Label>\r\n          <Input value={user?.last_name ?? \"\"} disabled />\r\n        </div>\r\n\r\n        <div>\r\n          <Label>Gender</Label>\r\n          <Input value={user?.gender ?? \"\"} disabled />\r\n        </div>\r\n\r\n        <div>\r\n          <Label>Birth Date</Label>\r\n          <Input value={formatDateOnly(user?.birth_date)} disabled />\r\n        </div>\r\n\r\n        <div>\r\n          <Label>City</Label>\r\n          <Input value={user?.city ?? \"\"} disabled />\r\n        </div>\r\n\r\n        <div>\r\n          <Label>Role</Label>\r\n          <Input value={user?.role ?? \"\"} disabled />\r\n        </div>\r\n\r\n        <div>\r\n          <Label>Created At</Label>\r\n          <Input value={formatDateTime(user?.created_at)} disabled />\r\n        </div>\r\n\r\n        <div>\r\n          <Label>Updated At</Label>\r\n          <Input value={formatDateTime(user?.updated_at)} disabled />\r\n        </div>\r\n\r\n        <div className=\"col-span-2\">\r\n          <Label>Bio</Label>\r\n          <textarea\r\n            className=\"w-full border rounded-md p-2 min-h-[90px]\"\r\n            value={user?.bio ?? \"\"}\r\n            disabled\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"border-t pt-3\" />\r\n\r\n      <div className=\"text-sm font-semibold\">Client Details (Read-only)</div>\r\n\r\n      <div className=\"grid grid-cols-2 gap-x-10 gap-y-3\">\r\n        <div>\r\n          <Label>License Number</Label>\r\n          <Input value={client?.license_number ?? \"\"} disabled />\r\n        </div>\r\n\r\n        <div>\r\n          <Label>Profession</Label>\r\n          <Input value={client?.profession ?? \"\"} disabled />\r\n        </div>\r\n\r\n        <div>\r\n          <Label>Average Salary</Label>\r\n          <Input value={client?.avg_salary ?? \"\"} disabled />\r\n        </div>\r\n\r\n        <div>\r\n          <Label>Promo Code</Label>\r\n          <Input value={client?.promo_code ?? \"\"} disabled />\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"border-t pt-3\" />\r\n\r\n      <div className=\"text-sm font-semibold\">Editable Fields</div>\r\n\r\n      <div className=\"rounded-md border p-3 space-y-1\">\r\n        {user?.verified_by_admin && (\r\n          <ToggleRow\r\n            label=\"Verified by Admin (can revoke only)\"\r\n            value={user?.verified_by_admin}\r\n            onChange={(v) => setVal(\"verified_by_admin\", v)}\r\n          />\r\n        )}\r\n\r\n        <ToggleRow\r\n          label=\"Status (Active)\"\r\n          value={user?.status}\r\n          onChange={(v) => setVal(\"status\", v)}\r\n        />\r\n\r\n        <ToggleRow\r\n          label=\"Is Locked\"\r\n          value={user?.is_locked}\r\n          onChange={(v) => setVal(\"is_locked\", v)}\r\n        />\r\n\r\n        <ToggleRow\r\n          label=\"Update Access Allow Profile Updates\"\r\n          value={user?.update_access}\r\n          onChange={(v) => setVal(\"update_access\", v)}\r\n        />\r\n      </div>\r\n\r\n      <div className=\"pt-3 flex gap-2 justify-end\">\r\n        <Button className=\"w-36\" onClick={save}>\r\n          Update User\r\n        </Button>\r\n\r\n        <Button variant=\"outline\" className=\"w-28\" onClick={onClose}>\r\n          Cancel\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// End Tony Update\r\n"],"names":["AdminUsersPage","useNavigate","toast","useToast","PER_PAGE","users","setUsers","useState","meta","setMeta","page","setPage","onlineCount","setOnlineCount","loading","setLoading","selectedItem","setSelectedItem","modalOpen","setModalOpen","modalType","setModalType","editingUser","setEditingUser","search","setSearch","roles","setRoles","statusFilter","setStatusFilter","showFilters","setShowFilters","fetchUsers","useCallback","params","res","getUsers","payload","list","pagination","m","useEffect","getOnlineUsers","data","fetchUserDetails","id","api","DEFAULT_AVATAR","ASSET_BASE","getProfileImg","u","p","cleaned","filteredUsers","a","b","handleDeleteUser","prev","jsxs","jsx","Dialog","DialogContent","DialogHeader","DialogTitle","UserDetailsView","EditUserView","updated","Search","Input","e","Users","Circle","Button","Select","SelectTrigger","SelectValue","SelectContent","SelectItem","r","checked","x","Card","CardContent","user","userTooltip","openUserView","Badge","fullDetails","Eye","Edit","Trash2","ChevronLeft","_","ChevronRight","client","qc","formatDateOnly","value","d","formatDateTime","fileUrl","path","fallback","isPdf","pathOrUrl","DocCard","title","url","pdfUrl","onEdit","onClose","FieldRow","label","Chip","tone","cls","statusText","setUser","onSaved","setVal","key","save","ToggleRow","onChange","Label","v"],"mappings":"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"}