import{c as he,r as m,a as v,j as e,B as p,x as ge,S as pe,p as ue,q as be,b as N,y as ye,t as fe,M as je}from"./index-DbvXYXc0.js";import{C as x,a as h}from"./card-6tZ6FSP9.js";import{B as E}from"./badge-De3gxj8m.js";import{E as y}from"./eye--wIqRW1l.js";import{M as w}from"./mouse-pointer-click-DbtOab9b.js";import{A as P,Z as ve}from"./zap-CO0QVGs0.js";import{m as i}from"./proxy-Rx_HuwO6.js";import{B as Ne}from"./bell-B1cSwKnk.js";import{A as we}from"./index-B12qvIYV.js";import{C as f}from"./chevron-right-DaEW3pZI.js";import{S as ke}from"./settings-C8YQ_pBF.js";import{C as Ce}from"./circle-alert-CwItFlME.js";import{W as R}from"./wallet-CWUT53m_.js";import{P as _e}from"./plus-CKnT-f47.js";import{C as Se}from"./calendar-check-oloTnN63.js";import{T as G}from"./trending-up-XqNRnPMJ.js";import{S as I}from"./search-DsOkoVxz.js";import{D as Be}from"./dollar-sign-o41FEJ1i.js";import{C as $e}from"./clock-BKbRfuIG.js";import{C as U}from"./circle-check-CPW3N-42.js";import{C as De}from"./circle-x-D4rSEnQD.js";import{T as Te}from"./timer-CnP3dwrb.js";import"./use-presence-CB-MpOZZ.js";const t={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640"};function as(){const u=he(),[k,q]=m.useState(null),[l,z]=m.useState({totalCars:0,activeBookings:0,pendingBookings:0,confirmedBookings:0,totalRevenue:0,totalViews:0,totalClicks:0,totalSearches:0,avgViewsPerCar:0,topViewedCar:null,topClickedCar:null,topSearchedCar:null}),[C,H]=m.useState([]),[_,O]=m.useState([]),[d,W]=m.useState(null),[j,S]=m.useState(!0),[B,$]=m.useState(!1),[D,Y]=m.useState(!1),[T,F]=m.useState(!1);m.useEffect(()=>{const s=localStorage.getItem("theme"),n=window.matchMedia("(prefers-color-scheme: dark)").matches,c=s==="dark"||!s&&n;F(c),document.documentElement.classList.toggle("dark",c)},[]);const Z=()=>{const s=!T;F(s),document.documentElement.classList.toggle("dark",s),localStorage.setItem("theme",s?"dark":"light")},V=async()=>{S(!0),$(!1);try{const[s,n,c]=await Promise.all([N.get("/cars/agent/Mycars"),N.get("/driver/bookings"),ye().catch(()=>({data:null}))]),o=s.data.cars?.data||[],b=n.data.data||[];W(c?.data??null);const L=o.reduce((a,r)=>a+(r.views_count||0),0),ee=o.reduce((a,r)=>a+(r.clicks_count||0),0),se=o.reduce((a,r)=>a+(r.search_count||0),0),ae=o.length>0?Math.round(L/o.length):0,te=o.length?o.reduce((a,r)=>(r.views_count||0)>(a?.views_count||0)?r:a,o[0]):null,re=o.length?o.reduce((a,r)=>(r.clicks_count||0)>(a?.clicks_count||0)?r:a,o[0]):null,le=o.length?o.reduce((a,r)=>(r.search_count||0)>(a?.search_count||0)?r:a,o[0]):null,ie=b.filter(a=>["pending","confirmed","arrived","started"].includes(a.booking_request_status)),oe=b.filter(a=>a.booking_request_status==="pending"),ne=b.filter(a=>a.booking_request_status==="confirmed"),ce=b.filter(a=>a.booking_request_status==="confirmed").reduce((a,r)=>a+parseFloat(r.total_booking_price||0),0);z({totalCars:s.data.cars?.total||o.length,activeBookings:ie.length,pendingBookings:oe.length,confirmedBookings:ne.length,totalRevenue:ce,totalViews:L,totalClicks:ee,totalSearches:se,avgViewsPerCar:ae,topViewedCar:te,topClickedCar:re,topSearchedCar:le});const de=[...o].sort((a,r)=>(r.views_count||0)+(r.clicks_count||0)*2+(r.search_count||0)-((a.views_count||0)+(a.clicks_count||0)*2+(a.search_count||0))).slice(0,3).map(a=>({id:a.id,name:`${a.make} ${a.model}`,image:a.main_image_url,views:a.views_count||0,clicks:a.clicks_count||0,searches:a.search_count||0,dailyRate:a.daily_rate,category:a.car_category}));O(de);const M=b.sort((a,r)=>new Date(r.created_at)-new Date(a.created_at)).slice(0,8).map(a=>{const r={pending:"New booking request received",confirmed:"Booking confirmed",cancelled:"Booking cancelled",completed:"Trip completed successfully",arrived:"Driver arrived",started:"Ride in progress"},me=a.car?`${a.car.make} ${a.car.model}`:"Unknown Car",xe=a.client?`${a.client.first_name} ${a.client.last_name}`:"Unknown Client";return{message:r[a.booking_request_status]||"Status updated",car:me,client:xe,time:new Date(a.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),date:new Date(a.created_at).toLocaleDateString([],{month:"short",day:"numeric"}),status:a.booking_request_status,amount:a.total_booking_price,location:a.pickup_location||"N/A"}});H(M.length?M:[{message:"No recent activity",time:"—",isEmpty:!0}])}catch(s){console.error("Dashboard error:",s),$(!0),fe.error("Failed to load dashboard data.")}finally{S(!1)}};m.useEffect(()=>{const s=JSON.parse(localStorage.getItem("user"));s&&q(s),V()},[]);const J=async()=>{try{await N.post("/logout")}catch{}localStorage.clear(),u("/auth")},Q=[{title:"Add New Car",icon:_e,href:"/add-car",color:t.teal,description:"List a new vehicle"},{title:"My Fleet",icon:v,href:"/Mycars",color:t.darkBlue,description:"Manage your cars"},{title:"Bookings",icon:Se,href:"/Mycars-bookings",color:t.limeGreen,description:"View all bookings"},{title:"Analytics",icon:G,href:"/statistic",color:t.teal,description:"View statistics"},{title:"Balance",icon:R,href:"/Balance",color:t.limeGreen,description:"Earnings & app fees"}],A=s=>{const n={pending:{color:"bg-amber-500",icon:Te,label:"Pending",bgColor:"bg-amber-500/10",textColor:"text-amber-600 dark:text-amber-400"},confirmed:{color:"bg-blue-500",icon:U,label:"Confirmed",bgColor:"bg-blue-500/10",textColor:"text-blue-600 dark:text-blue-400"},cancelled:{color:"bg-gray-500",icon:De,label:"Cancelled",bgColor:"bg-gray-500/10",textColor:"text-gray-600 dark:text-gray-400"},completed:{color:"bg-emerald-500",icon:U,label:"Completed",bgColor:"bg-emerald-500/10",textColor:"text-emerald-600 dark:text-emerald-400"},arrived:{color:"bg-cyan-500",icon:je,label:"Arrived",bgColor:"bg-cyan-500/10",textColor:"text-cyan-600 dark:text-cyan-400"},started:{color:"bg-purple-500",icon:ve,label:"In Progress",bgColor:"bg-purple-500/10",textColor:"text-purple-600 dark:text-purple-400"}};return n[s]||n.pending},X={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.08}}},g={hidden:{opacity:0,y:15},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:12}}},K=[{title:"Total Fleet",value:l.totalCars,icon:v,color:t.darkBlue,change:`${l.totalCars} vehicles`,changeType:"neutral",description:"Active listings"},{title:"Total Views",value:l.totalViews.toLocaleString(),icon:y,color:t.teal,change:`${l.avgViewsPerCar} avg/car`,changeType:"neutral",description:"All time views"},{title:"Total Clicks",value:l.totalClicks.toLocaleString(),icon:w,color:t.limeGreen,change:"Detail opens",changeType:"neutral",description:"Car detail page opens"},{title:"Active Bookings",value:l.activeBookings,icon:P,color:t.teal,change:`${l.confirmedBookings} confirmed`,changeType:"neutral",description:"Ongoing rentals"}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900",children:[e.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:[e.jsx(i.div,{animate:{scale:[1,1.1,1],opacity:[.06,.1,.06]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute -top-1/4 -left-1/4 w-1/3 h-1/3 rounded-full blur-3xl",style:{backgroundColor:`${t.darkBlue}30`}}),e.jsx(i.div,{animate:{scale:[1,1.15,1],opacity:[.05,.08,.05]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:2},className:"absolute top-1/2 -right-1/4 w-1/3 h-1/3 rounded-full blur-3xl",style:{backgroundColor:`${t.teal}30`}})]}),e.jsx("header",{className:"sticky top-0 z-50 backdrop-blur-xl bg-white/80 dark:bg-gray-900/80 border-b border-gray-200/50 dark:border-gray-800/50 shadow-sm",children:e.jsx("div",{className:"container mx-auto px-4 sm:px-6 py-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(i.div,{whileHover:{rotate:90},transition:{duration:.3},children:e.jsx(p,{variant:"ghost",size:"icon",className:"lg:hidden h-8 w-8",children:e.jsx(ge,{className:"w-4 h-4"})})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-lg sm:text-xl md:text-2xl font-bold bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(to right, ${t.darkBlue}, ${t.teal}, ${t.limeGreen})`},children:["Welcome back",k?.username?`, ${k.username}`:"","!"]}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 hidden sm:block",children:"Your fleet performance dashboard"})]})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsxs("div",{className:"relative",children:[e.jsx(i.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsxs(p,{variant:"ghost",size:"icon",className:"relative h-8 w-8",onClick:()=>Y(!D),children:[e.jsx(Ne,{className:"w-4 h-4"}),l.pendingBookings>0&&e.jsx(i.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-0.5 -right-0.5 text-white text-[10px] font-bold rounded-full w-4 h-4 flex items-center justify-center shadow-lg",style:{backgroundColor:t.teal},children:l.pendingBookings})]})}),e.jsx(we,{children:D&&e.jsxs(i.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"absolute right-0 mt-2 w-80 bg-white dark:bg-gray-900 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-800 overflow-hidden",children:[e.jsxs("div",{className:"p-3 text-white",style:{background:`linear-gradient(to right, ${t.darkBlue}, ${t.teal})`},children:[e.jsx("h3",{className:"font-bold text-base",children:"Notifications"}),e.jsxs("p",{className:"text-xs opacity-90",children:[l.pendingBookings," pending actions"]})]}),e.jsx("div",{className:"max-h-80 overflow-y-auto",children:C.slice(0,5).map((s,n)=>{const c=A(s.status);return e.jsx("div",{className:"p-3 border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:`w-7 h-7 rounded-full ${c.color} flex items-center justify-center flex-shrink-0`,children:e.jsx(c.icon,{className:"w-3 h-3 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-medium text-gray-900 dark:text-gray-100",children:s.message}),e.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 truncate",children:s.car}),s.amount&&e.jsxs("p",{className:"text-[10px] font-semibold",style:{color:t.teal},children:["$",s.amount]}),e.jsxs("p",{className:"text-[10px] text-gray-400 dark:text-gray-500 mt-0.5",children:[s.date," at ",s.time]})]})]})},n)})}),e.jsx("div",{className:"p-2 bg-gray-50 dark:bg-gray-800/50",children:e.jsxs(p,{variant:"ghost",className:"w-full text-xs h-8",style:{color:t.teal},onClick:()=>u("/Mycars-bookings"),children:["View All Bookings",e.jsx(f,{className:"w-3 h-3 ml-1"})]})})]})})]}),e.jsx(i.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(p,{variant:"ghost",size:"icon",onClick:Z,className:"h-8 w-8",children:T?e.jsx(pe,{className:"w-4 h-4"}):e.jsx(ue,{className:"w-4 h-4"})})}),e.jsx(i.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(p,{variant:"ghost",size:"icon",className:"h-8 w-8 hidden sm:flex",children:e.jsx(ke,{className:"w-4 h-4"})})}),e.jsx(i.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(p,{variant:"ghost",size:"icon",onClick:J,className:"h-8 w-8 hover:bg-red-50 dark:hover:bg-red-950/30 text-red-600 dark:text-red-400",children:e.jsx(be,{className:"w-4 h-4"})})})]})]})})}),e.jsxs("main",{className:"container mx-auto px-4 sm:px-6 py-6 max-w-7xl relative z-10",children:[j&&e.jsx(i.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",children:e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4",children:[1,2,3,4].map(s=>e.jsx(x,{className:"overflow-hidden",children:e.jsx(h,{className:"p-3 md:p-4",children:e.jsxs("div",{className:"animate-pulse space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("div",{className:"h-9 w-9 bg-gray-200 dark:bg-gray-700 rounded-lg"}),e.jsx("div",{className:"h-4 w-12 bg-gray-200 dark:bg-gray-700 rounded-full"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"h-3 w-20 bg-gray-200 dark:bg-gray-700 rounded"}),e.jsx("div",{className:"h-6 w-14 bg-gray-300 dark:bg-gray-600 rounded"})]})]})})},s))})}),!j&&B&&e.jsxs(i.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-16",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-red-100 dark:bg-red-900/20 mb-4",children:e.jsx(Ce,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Unable to Load Dashboard"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Please try again."}),e.jsxs(p,{onClick:V,className:"text-white",style:{background:`linear-gradient(to right, ${t.darkBlue}, ${t.teal})`},children:[e.jsx(P,{className:"w-4 h-4 mr-2"}),"Retry"]})]}),!j&&!B&&e.jsxs(i.div,{variants:X,initial:"hidden",animate:"visible",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-3 md:gap-4",children:[K.map((s,n)=>e.jsx(i.div,{variants:g,whileHover:{y:-4,transition:{duration:.2}},children:e.jsxs(x,{className:"relative overflow-hidden group hover:shadow-xl transition-all duration-300 border-0 bg-white dark:bg-gray-900",children:[e.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-10 transition-opacity duration-300",style:{backgroundColor:s.color}}),e.jsxs(h,{className:"p-3 md:p-4 relative",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("div",{className:"w-9 h-9 md:w-10 md:h-10 rounded-lg p-2 shadow-md group-hover:scale-110 transition-transform duration-300",style:{backgroundColor:s.color},children:e.jsx(s.icon,{className:"w-full h-full text-white"})}),e.jsx("div",{className:`flex items-center gap-0.5 px-1.5 py-0.5 rounded-full text-[10px] font-semibold
                          ${s.changeType==="up"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":""}
                          ${s.changeType==="neutral"?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":""}
                        `,children:s.change})]}),e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("p",{className:"text-[10px] md:text-xs font-medium text-gray-600 dark:text-gray-400",children:s.title}),e.jsx("p",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-white tracking-tight",children:s.value}),e.jsx("p",{className:"text-[9px] md:text-[10px] text-gray-500 dark:text-gray-500",children:s.description})]}),e.jsx("div",{className:"absolute -bottom-2 -right-2 w-20 h-20 rounded-full blur-2xl opacity-5 group-hover:opacity-20 transition-opacity duration-300",style:{backgroundColor:s.color}})]})]})},n)),d!=null&&e.jsx(i.div,{variants:g,children:e.jsxs(x,{className:"relative overflow-hidden group hover:shadow-xl transition-all duration-300 border-0 bg-white dark:bg-gray-900 cursor-pointer",onClick:()=>u("/Balance"),children:[e.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-10 transition-opacity duration-300",style:{backgroundColor:t.limeGreen}}),e.jsxs(h,{className:"p-3 md:p-4 relative",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("div",{className:"w-9 h-9 md:w-10 md:h-10 rounded-lg p-2 shadow-md group-hover:scale-110 transition-transform duration-300",style:{backgroundColor:t.limeGreen},children:e.jsx(R,{className:"w-full h-full text-white"})}),e.jsx("span",{className:"text-[10px] font-semibold bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400 px-1.5 py-0.5 rounded-full",children:"Net earnings"})]}),e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("p",{className:"text-[10px] md:text-xs font-medium text-gray-600 dark:text-gray-400",children:"Your earnings"}),e.jsxs("p",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-white tracking-tight",children:["$",(parseFloat(d?.net_earnings)||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),e.jsx("p",{className:"text-[9px] md:text-[10px] text-gray-500 dark:text-gray-500",children:"View balance →"})]})]})]})})]}),e.jsxs(i.div,{variants:g,children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-white",children:"Quick Actions"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-0.5",children:"Manage your fleet"})]})}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-5 gap-3 md:gap-4",children:Q.map((s,n)=>e.jsx(i.div,{variants:g,whileHover:{scale:1.02,y:-3},whileTap:{scale:.98},children:e.jsx("a",{href:s.href,className:"block group",children:e.jsxs(x,{className:"relative overflow-hidden hover:shadow-xl transition-all duration-300 border-0 h-full",children:[e.jsx("div",{className:"absolute inset-0 opacity-5 group-hover:opacity-15 transition-opacity duration-300",style:{backgroundColor:s.color}}),e.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"})}),e.jsxs(h,{className:"p-4 md:p-6 text-center relative",children:[e.jsxs("div",{className:"relative mb-3 inline-block",children:[e.jsx("div",{className:"w-12 h-12 md:w-14 md:h-14 rounded-xl p-3 shadow-lg group-hover:shadow-xl group-hover:scale-110 transition-all duration-300",style:{backgroundColor:s.color},children:e.jsx(s.icon,{className:"w-full h-full text-white"})}),e.jsx("div",{className:"absolute inset-0 rounded-xl blur-lg opacity-0 group-hover:opacity-50 transition-opacity duration-300",style:{backgroundColor:s.color}})]}),e.jsx("h4",{className:"text-sm md:text-base font-bold text-gray-900 dark:text-white mb-1",children:s.title}),e.jsx("p",{className:"text-[10px] md:text-xs text-gray-600 dark:text-gray-400",children:s.description}),e.jsxs("div",{className:"mt-2 flex items-center justify-center gap-1 opacity-0 group-hover:opacity-100 transition-all duration-300 transform translate-y-1 group-hover:translate-y-0",style:{color:s.color},children:[e.jsx("span",{className:"text-xs font-semibold",children:"Go"}),e.jsx(f,{className:"w-3 h-3"})]})]})]})})},n))})]}),_.length>0&&e.jsxs(i.div,{variants:g,children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-white",children:"Top Performing Cars"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-0.5",children:"Views, clicks & search count"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-3 md:gap-4",children:_.map((s,n)=>e.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*n},whileHover:{y:-4},children:e.jsx(x,{className:"overflow-hidden hover:shadow-xl transition-all duration-300 border-0",children:e.jsxs(h,{className:"p-0",children:[e.jsxs("div",{className:"relative h-32 bg-gray-100 dark:bg-gray-800",children:[e.jsx("img",{src:`/api/storage/${s.image}`,alt:s.name,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),e.jsx(E,{className:"absolute top-2 right-2 text-white border-0",style:{backgroundColor:t.teal},children:s.category})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h4",{className:"font-bold text-sm mb-2 text-gray-900 dark:text-white truncate",children:s.name}),e.jsxs("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1.5 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1",style:{color:t.teal},title:"Views (impressions)",children:[e.jsx(y,{className:"w-3 h-3 shrink-0"}),e.jsx("span",{className:"font-semibold",children:s.views})]}),e.jsxs("div",{className:"flex items-center gap-1",style:{color:t.limeGreen},title:"Clicks (detail opens)",children:[e.jsx(w,{className:"w-3 h-3 shrink-0"}),e.jsx("span",{className:"font-semibold",children:s.clicks})]}),e.jsxs("div",{className:"flex items-center gap-1",style:{color:t.darkBlue},title:"Search count",children:[e.jsx(I,{className:"w-3 h-3 shrink-0"}),e.jsx("span",{className:"font-semibold",children:s.searches})]}),e.jsxs("div",{className:"font-bold ml-auto",style:{color:t.darkBlue},children:["$",s.dailyRate,"/day"]})]})]})]})})},s.id))})]}),d!=null&&e.jsx(i.div,{variants:g,children:e.jsx(x,{className:"overflow-hidden border-0 shadow-lg cursor-pointer hover:shadow-xl transition-all",style:{background:`linear-gradient(to bottom right, ${t.darkBlue}, ${t.teal})`},onClick:()=>u("/Balance"),children:e.jsxs(h,{className:"p-4 md:p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-bold",children:"Earnings & Balance"}),e.jsx("span",{className:"text-xs opacity-90",children:"View details →"})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium opacity-90",children:"Total booking amount"}),e.jsxs("p",{className:"text-xl md:text-2xl font-bold",children:["$",(parseFloat(d.total_amount)||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium opacity-90",children:"App fees"}),e.jsxs("p",{className:"text-xl md:text-2xl font-bold",children:["$",(parseFloat(d.app_fees_amount)||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium opacity-90",children:"Your net earnings"}),e.jsxs("p",{className:"text-xl md:text-2xl font-bold",style:{color:t.limeGreen},children:["$",(parseFloat(d.net_earnings)||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium opacity-90",children:"From bookings"}),e.jsx("p",{className:"text-xl md:text-2xl font-bold",children:d.bookings_count??0})]})]}),d.app_fees_percentage!=null&&e.jsxs("p",{className:"text-xs mt-3 opacity-90",children:["Fee: ",d.app_fees_percentage,"%"]})]})})}),e.jsx(i.div,{variants:g,children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:[e.jsx(x,{className:"overflow-hidden border-0 shadow-lg text-white",style:{background:`linear-gradient(to bottom right, ${t.teal}, ${t.limeGreen})`},children:e.jsxs(h,{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium mb-1 opacity-90",children:"Total Revenue"}),e.jsxs("h3",{className:"text-3xl md:text-4xl font-bold",children:["$",d!=null?(parseFloat(d.total_amount)||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):l.totalRevenue.toFixed(2)]})]}),e.jsx("div",{className:"w-11 h-11 md:w-12 md:h-12 rounded-lg bg-white/20 backdrop-blur-sm p-2.5",children:e.jsx(Be,{className:"w-full h-full"})})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-full bg-white/20 backdrop-blur-sm text-[10px] font-semibold",children:[e.jsx(G,{className:"w-2.5 h-2.5"}),d!=null?`${d.bookings_count??0} confirmed + completed`:`${l.confirmedBookings} confirmed`," bookings"]})}),e.jsx("div",{className:"mt-4 pt-4 border-t border-white/20",children:e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"opacity-90",children:"Pending bookings"}),e.jsx("span",{className:"font-bold",children:l.pendingBookings})]})})]})}),e.jsx(x,{className:"overflow-hidden border-0 shadow-lg text-white",style:{background:`linear-gradient(to bottom right, ${t.darkBlue}, ${t.teal})`},children:e.jsxs(h,{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium mb-1 opacity-90",children:"Fleet Visibility"}),e.jsx("h3",{className:"text-3xl md:text-4xl font-bold",children:l.totalViews.toLocaleString()}),e.jsx("p",{className:"text-xs opacity-90 mt-0.5",children:"Total views (impressions)"})]}),e.jsx("div",{className:"w-11 h-11 md:w-12 md:h-12 rounded-lg bg-white/20 backdrop-blur-sm p-2.5",children:e.jsx(y,{className:"w-full h-full"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"opacity-90",children:"Total clicks (detail opens)"}),e.jsx("span",{className:"font-bold",children:l.totalClicks.toLocaleString()})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"opacity-90",children:"Total searches"}),e.jsx("span",{className:"font-bold",children:l.totalSearches.toLocaleString()})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"opacity-90",children:"Avg per vehicle"}),e.jsxs("span",{className:"font-bold",children:[l.avgViewsPerCar," views"]})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-white/20 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-full bg-white/20 backdrop-blur-sm text-[10px] font-semibold w-fit",children:[e.jsx(y,{className:"w-2.5 h-2.5"}),"Most viewed: ",l.topViewedCar?.make," ",l.topViewedCar?.model]}),e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-full bg-white/20 backdrop-blur-sm text-[10px] font-semibold w-fit",children:[e.jsx(w,{className:"w-2.5 h-2.5"}),"Most clicked: ",l.topClickedCar?.make," ",l.topClickedCar?.model]}),e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-full bg-white/20 backdrop-blur-sm text-[10px] font-semibold w-fit",children:[e.jsx(I,{className:"w-2.5 h-2.5"}),"Most searched: ",l.topSearchedCar?.make," ",l.topSearchedCar?.model]})]})]})})]})})]}),e.jsxs(i.div,{variants:g,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-white",children:"Recent Activity"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-0.5",children:"Latest bookings"})]}),e.jsxs(p,{variant:"outline",size:"sm",onClick:()=>u("/Mycars-bookings"),className:"hidden sm:flex text-xs h-8",children:["View All",e.jsx(f,{className:"w-3 h-3 ml-1"})]})]}),e.jsx(x,{className:"overflow-hidden border-0 shadow-lg bg-white dark:bg-gray-900",children:e.jsx(h,{className:"p-0",children:C.map((s,n)=>{const c=A(s.status),o=c.icon;return e.jsx(i.div,{initial:{opacity:0,x:-15},animate:{opacity:1,x:0},transition:{delay:n*.04},className:"group hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-all duration-200 border-b border-gray-100 dark:border-gray-800 last:border-b-0",children:e.jsxs("div",{className:"p-3 md:p-4 flex items-center gap-3",children:[e.jsx("div",{className:`flex-shrink-0 w-9 h-9 md:w-10 md:h-10 rounded-lg ${c.bgColor} flex items-center justify-center group-hover:scale-110 transition-transform duration-200`,children:e.jsx(o,{className:`w-4 h-4 md:w-5 md:h-5 ${c.textColor}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-0.5",children:[e.jsx("p",{className:`text-xs md:text-sm font-semibold ${s.isEmpty?"italic text-gray-500":"text-gray-900 dark:text-gray-100"}`,children:s.message}),e.jsx(E,{className:`${c.bgColor} ${c.textColor} border-0 flex-shrink-0 text-[10px] px-2 py-0.5`,children:c.label})]}),e.jsx("div",{className:"flex items-center gap-2 md:gap-3 text-[10px] md:text-xs text-gray-500 dark:text-gray-400 flex-wrap",children:!s.isEmpty&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(v,{className:"w-2.5 h-2.5 md:w-3 md:h-3"}),e.jsx("span",{className:"truncate max-w-[100px]",children:s.car})]}),s.amount&&e.jsxs("span",{className:"font-bold",style:{color:t.teal},children:["$",s.amount]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx($e,{className:"w-2.5 h-2.5 md:w-3 md:h-3"}),s.date," ",s.time]})]})})]}),!s.isEmpty&&e.jsx(f,{className:"w-4 h-4 text-gray-400 opacity-0 group-hover:opacity-100 group-hover:translate-x-0.5 transition-all duration-200 hidden md:block"})]})},n)})})})]})]})]})}export{as as default};
