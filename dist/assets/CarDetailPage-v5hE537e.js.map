{"version":3,"file":"CarDetailPage-v5hE537e.js","sources":["../../node_modules/lucide-react/dist/esm/icons/door-closed.js","../../src/pages/CarDetailPage.jsx"],"sourcesContent":["/**\n * @license lucide-react v0.507.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M10 12h.01\", key: \"1kxr2c\" }],\n  [\"path\", { d: \"M18 20V6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14\", key: \"36qu9e\" }],\n  [\"path\", { d: \"M2 20h20\", key: \"owomy5\" }]\n];\nconst DoorClosed = createLucideIcon(\"door-closed\", __iconNode);\n\nexport { __iconNode, DoorClosed as default };\n//# sourceMappingURL=door-closed.js.map\n","import React, { useMemo, useState, useEffect } from 'react';\nimport { useParams, useNavigate } from 'react-router-dom';\nimport { Button } from '@/components/ui/button';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Badge } from '@/components/ui/badge';\nimport { Separator } from '@/components/ui/separator';\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle\n} from '@/components/ui/dialog';\nimport { Input } from '@/components/ui/input';\nimport { Label } from '@/components/ui/label';\nimport {\n  Heart,\n  Star,\n  Users,\n  Fuel,\n  Settings,\n  ArrowLeft,\n  CheckCircle2,\n  Calendar,\n  MapPin,\n  DoorClosed,\n  Gauge,\n  Car\n} from 'lucide-react';\nimport api from '@/lib/axios';\nimport { toast } from 'sonner';\nimport { CarCard } from '@/components/CarCard';\nimport { Link } from 'react-router-dom';\nimport { useAuth } from '@/hooks/useAuth';\n\nexport const CarDetailPage = () => {\n  const { id } = useParams();\n  const navigate = useNavigate();\n  const { isAuthenticated } = useAuth();\n\n  const [car, setCar] = useState(null);\n  const [loading, setLoading] = useState(true);\n\n  const [favorite, setFavorite] = useState(false);\n  const [selectedImage, setSelectedImage] = useState(0);\n\n  const [showBookingDialog, setShowBookingDialog] = useState(false);\n  const [bookingData, setBookingData] = useState({\n    pickupDate: '',\n    returnDate: '',\n    location: '',\n    reason: ''\n  });\n  const [isSubmitting, setIsSubmitting] = useState(false);\n  const [isFavLoading, setIsFavLoading] = useState(false);\n  const [relatedCars, setRelatedCars] = useState([]);\n\n  const minNowLocal = useMemo(() => new Date().toISOString().slice(0, 16), []);\n\n  const heroImage = useMemo(() => {\n    if (!car?.images?.length) return '';\n    return car.images[Math.min(selectedImage, car.images.length - 1)];\n  }, [car, selectedImage]);\n\n  const extractFavorites = (data) => {\n    // supports common shapes:\n    // { cars: [...] } OR { favorites: [...] } OR { data: [...] } OR [...]\n    const raw =\n      Array.isArray(data) ? data\n      : Array.isArray(data?.cars) ? data.cars\n      : Array.isArray(data?.favorites) ? data.favorites\n      : Array.isArray(data?.data) ? data.data\n      : [];\n\n    return raw;\n  };\n\n  const isCarInFavorites = (favoritesArr, carId) => {\n    const target = String(carId);\n    return favoritesArr.some((item) => {\n      // item could be car object or id\n      if (item == null) return false;\n      if (typeof item === 'string' || typeof item === 'number') return String(item) === target;\n      return String(item.id ?? item.car_id ?? item.car?.id) === target;\n    });\n  };\n\n  // Fetch car + favorite status\n  useEffect(() => {\n    let alive = true;\n\n    const fetchCar = async () => {\n      setLoading(true);\n      try {\n        const res = await api.get(`/cars/${id}`);\n        const carData = res.data.car;\n\n        const feedbacks = carData.feedbacks ?? [];\n        const rating =\n          feedbacks.length > 0\n            ? (\n                feedbacks.reduce((sum, f) => sum + f.rating, 0) / feedbacks.length\n              ).toFixed(1)\n            : null;\n\n        const mappedCar = {\n          id: carData.id,\n          brand: carData.make,\n          model: carData.model,\n          year: carData.year,\n          type: carData.car_category,\n          seats: carData.seats,\n          doors: carData.doors,\n          transmission: carData.transmission,\n          fuelType: carData.fuel_type,\n          mileage: carData.mileage,\n          drive: carData.wheels_drive,\n          location: carData.live_location?.address ?? 'N/A',\n          price: Number(carData.daily_rate),\n          holidayRate: Number(carData.holiday_rate),\n          rating,\n          reviews: feedbacks.length,\n          features: carData.features ?? [],\n          description: carData.notes ?? '',\n          images: [\n            carData.main_image_url,\n            carData.front_image_url,\n            carData.back_image_url,\n            carData.left_image_url,\n            carData.right_image_url\n          ].filter(Boolean),\n\n          /**\n           * IMPORTANT:\n           * Replace `carData.delivery_available` with your real backend field.\n           * TRUE => user can choose pickup location (delivery)\n           * FALSE => pickup at car location only\n           */\n          deliveryAvailable: !!carData.delivery_available\n        };\n\n        if (!alive) return;\n        setCar(mappedCar);\n        setSelectedImage(0);\n\n        // Get favorites list and check if this car is favorited (only when authorized)\n        const token = localStorage.getItem('authToken') || localStorage.getItem('token');\n        if (token) {\n          setIsFavLoading(true);\n          try {\n            const favRes = await api.get('/cars/favorites/list');\n            const favArr = extractFavorites(favRes.data);\n            if (!alive) return;\n            setFavorite(isCarInFavorites(favArr, mappedCar.id));\n          } catch (e) {\n          // If favorites endpoint fails (auth, etc.), donâ€™t block page\n            if (!alive) return;\n            setFavorite(false);\n          } finally {\n            if (alive) setIsFavLoading(false);\n          }\n        } else {\n          setIsFavLoading(false);\n        }\n\n        // Fetch related cars (others from the same type or general list)\n        try {\n          const carsRes = await api.get('/cars');\n          const raw = carsRes.data?.cars ?? carsRes.data?.data ?? [];\n          const mapped = (Array.isArray(raw) ? raw : [])\n            .filter((c) => String(c.id) !== String(carData.id))\n            .slice(0, 3)\n            .map((c) => {\n              const fbs = c.feedbacks ?? [];\n              const r =\n                fbs.length > 0\n                  ? (fbs.reduce((s, f) => s + (Number(f.rating) || 0), 0) / fbs.length).toFixed(1)\n                  : null;\n              return {\n                id: c.id,\n                brand: c.make,\n                make: c.make,\n                model: c.model,\n                year: c.year,\n                type: c.car_category,\n                category: c.car_category,\n                price: Number(c.daily_rate),\n                image: c.main_image_url,\n                rating: r,\n                reviews: fbs.length,\n                seats: c.seats,\n                doors: c.doors,\n                fuel_type: c.fuel_type,\n                fuelType: c.fuel_type,\n              };\n            });\n          if (alive) setRelatedCars(mapped);\n        } catch (e) {\n          if (alive) setRelatedCars([]);\n        }\n      } catch (err) {\n        console.error('Car fetch error:', err);\n        toast.error('Failed to load car details.');\n        if (alive) setCar(null);\n      } finally {\n        if (alive) setLoading(false);\n      }\n    };\n\n    fetchCar();\n    window.scrollTo(0, 0);\n\n    return () => {\n      alive = false;\n    };\n  }, [id]);\n\n  // When opening booking dialog: if delivery NOT available, auto-set location to car location\n  useEffect(() => {\n    if (!showBookingDialog || !car) return;\n    if (!car.deliveryAvailable) {\n      setBookingData((prev) => ({\n        ...prev,\n        location: car.location || 'N/A'\n      }));\n    }\n  }, [showBookingDialog, car]);\n\n  const calculateDays = () => {\n    if (!bookingData.pickupDate || !bookingData.returnDate) return 0;\n    const pickup = new Date(bookingData.pickupDate);\n    const ret = new Date(bookingData.returnDate);\n    const days = Math.ceil((ret - pickup) / (1000 * 60 * 60 * 24));\n    return days > 0 ? days : 0;\n  };\n\n  const days = calculateDays();\n  const totalPrice = car ? days * car.price : 0;\n\n  // FAVORITE (API) - only when authorized\n  const toggleFavorite = async () => {\n    if (!car || isFavLoading) return;\n    const token = localStorage.getItem('authToken') || localStorage.getItem('token');\n    if (!token) {\n      toast.error('Please log in to save favorites.');\n      return;\n    }\n    const next = !favorite;\n    setFavorite(next); // optimistic\n    window.dispatchEvent(new Event('favoritesUpdated'));\n\n    try {\n      await api.post(`/cars/${car.id}/favorite`);\n      toast.success(next ? 'Added to favorites' : 'Removed from favorites');\n    } catch (err) {\n      console.error('Favorite toggle error:', err);\n      setFavorite(!next); // revert\n      window.dispatchEvent(new Event('favoritesUpdated'));\n      toast.error('Failed to update favorite. Please try again.');\n    }\n  };\n\n  // BOOKING\n  const validateBooking = () => {\n    if (!car) return false;\n\n    if (car.deliveryAvailable && !bookingData.location.trim()) {\n      toast.error('Please enter pickup location.');\n      return false;\n    }\n\n    if (!bookingData.pickupDate) {\n      toast.error('Please select pickup date/time.');\n      return false;\n    }\n\n    if (!bookingData.returnDate) {\n      toast.error('Please select return date/time.');\n      return false;\n    }\n\n    const pickup = new Date(bookingData.pickupDate);\n    const ret = new Date(bookingData.returnDate);\n    if (ret <= pickup) {\n      toast.error('Return date must be after pickup date.');\n      return false;\n    }\n\n    return true;\n  };\n\n  const handleBooking = async (e) => {\n    e.preventDefault();\n    if (!validateBooking()) return;\n\n    setIsSubmitting(true);\n\n    try {\n      const payload = {\n        car_id: car.id,\n        start_datetime: bookingData.pickupDate,\n        end_datetime: bookingData.returnDate,\n        pickup_location: car.deliveryAvailable ? bookingData.location : car.location,\n        reason_of_booking: bookingData.reason\n      };\n\n      const response = await api.post('/bookings', payload);\n\n      if (response.status === 201) {\n        toast.success(`Booking request submitted successfully! We'll contact you shortly.`, {\n          duration: 5000\n        });\n\n        setShowBookingDialog(false);\n        setBookingData({\n          pickupDate: '',\n          returnDate: '',\n          location: '',\n          reason: ''\n        });\n      } else {\n        toast.error('Unexpected response from server. Please try again.');\n      }\n    } catch (error) {\n      console.error('Booking error:', error);\n      let errorMessage = 'Failed to submit booking request. Please try again.';\n\n      if (error.response) {\n        if (error.response.status === 400) {\n          errorMessage = error.response.data.message || errorMessage;\n        } else if (error.response.status === 422) {\n          const errors = error.response.data.errors;\n          errorMessage = Object.values(errors).flat().join('\\n');\n        }\n      }\n\n      toast.error(errorMessage, { duration: 5000 });\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  if (loading) {\n    return (\n      <div className=\"min-h-screen pt-20 flex items-center justify-center bg-background\">\n        <div className=\"text-center\">\n          <div className=\"w-12 h-10 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-3\" />\n          <p className=\"text-sm text-muted-foreground\">Loading car details...</p>\n        </div>\n      </div>\n    );\n  }\n\n  if (!car) {\n    return (\n      <div className=\"min-h-screen pt-20 flex items-center justify-center p-4 bg-background\">\n        <Card className=\"max-w-md w-full\">\n          <CardContent className=\"p-6 text-center space-y-4\">\n            <h2 className=\"text-xl font-semibold\">Car not found</h2>\n            <p className=\"text-sm text-muted-foreground\">\n              The vehicle you're looking for doesn't exist or was removed.\n            </p>\n            <Button onClick={() => navigate('/cars')} className=\"w-full\">\n              <ArrowLeft className=\"w-4 h-4 mr-2\" />\n              Back to Cars\n            </Button>\n          </CardContent>\n        </Card>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen pt-20 bg-background\">\n      {/* Top bar */}\n      <div className=\"sticky top-16 z-40 border-b bg-background/80 backdrop-blur supports-[backdrop-filter]:bg-background/60\">\n        <div className=\"container mx-auto px-4 py-3 flex items-center justify-between gap-3\">\n          <Button variant=\"ghost\" onClick={() => navigate('/cars')} aria-label=\"Back to cars\">\n            <ArrowLeft className=\"w-5 h-5 mr-2\" aria-hidden=\"true\" />\n            Back\n          </Button>\n\n          <div className=\"flex items-center gap-2\">\n            <Button\n              variant={favorite ? 'secondary' : 'outline'}\n              onClick={toggleFavorite}\n              aria-label={favorite ? 'Remove from favorites' : 'Add to favorites'}\n              disabled={isFavLoading}\n            >\n              <Heart\n                className={`w-4 h-4 mr-2 ${favorite ? 'fill-primary text-primary' : ''}`}\n                aria-hidden=\"true\"\n              />\n              {favorite ? 'Saved' : 'Save'}\n            </Button>\n\n            <Button\n              onClick={() => setShowBookingDialog(true)}\n              className=\"bg-gradient-to-r from-teal-600 to-cyan-600 text-white\"\n            >\n              Book Now\n            </Button>\n          </div>\n        </div>\n      </div>\n\n      <div className=\"container mx-auto px-4 py-6 grid lg:grid-cols-12 gap-6\">\n        {/* Left */}\n        <div className=\"lg:col-span-8 space-y-6\">\n          {/* Gallery */}\n          <Card className=\"overflow-hidden\">\n            <CardContent className=\"p-0\">\n              <div className=\"relative\">\n                <div className=\"aspect-[16/9] bg-muted\">\n                  {heroImage ? (\n                    <img\n                      src={`/api/storage/${heroImage}`}\n                      alt={`${car.brand} ${car.model}`}\n                      className=\"w-full h-full object-cover\"\n                    />\n                  ) : (\n                    <div className=\"w-full h-full flex items-center justify-center text-sm text-muted-foreground\">\n                      No images available\n                    </div>\n                  )}\n                </div>\n\n                {car.type && (\n                  <div className=\"absolute left-4 top-4\">\n                    <Badge className=\"rounded-full\">{car.type}</Badge>\n                  </div>\n                )}\n\n                {car.rating && (\n                  <div className=\"absolute right-4 top-4 rounded-full bg-background/80 backdrop-blur px-3 py-1 flex items-center gap-2 border\">\n                    <Star className=\"w-4 h-4 fill-yellow-500 text-yellow-500\" aria-hidden=\"true\" />\n                    <span className=\"text-sm font-semibold\">{car.rating}</span>\n                    <span className=\"text-xs text-muted-foreground\">({car.reviews})</span>\n                  </div>\n                )}\n              </div>\n\n              {car.images?.length > 1 && (\n                <div className=\"p-4 border-t\">\n                  <div className=\"grid grid-cols-5 sm:grid-cols-6 md:grid-cols-7 gap-2\">\n                    {car.images.map((img, i) => (\n                      <button\n                        key={`${img}-${i}`}\n                        onClick={() => setSelectedImage(i)}\n                        className={`relative rounded-lg overflow-hidden border transition ${\n                          selectedImage === i\n                            ? 'ring-2 ring-primary border-transparent'\n                            : 'hover:border-primary/40'\n                        }`}\n                        aria-label={`View image ${i + 1}`}\n                      >\n                        <img\n                          src={`/api/storage/${img}`}\n                          alt={`Thumbnail ${i + 1}`}\n                          className=\"h-14 w-full object-cover\"\n                          loading=\"lazy\"\n                        />\n                      </button>\n                    ))}\n                  </div>\n                </div>\n              )}\n            </CardContent>\n          </Card>\n\n          {/* Title + Price */}\n          <Card>\n            <CardContent className=\"p-5 space-y-4\">\n              <div className=\"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3\">\n                <div>\n                  <h1 className=\"text-2xl md:text-3xl font-bold tracking-tight\">\n                    {car.brand} {car.model}{' '}\n                    <span className=\"text-muted-foreground font-semibold\">({car.year})</span>\n                  </h1>\n                  <div className=\"mt-2 flex flex-wrap gap-2\">\n                    <InfoPill icon={<MapPin className=\"w-4 h-4\" />} label={car.location} />\n                    <Badge variant=\"secondary\" className=\"rounded-full\">\n                      {car.deliveryAvailable ? 'Delivery available' : 'Pickup only'}\n                    </Badge>\n                  </div>\n                </div>\n\n                <div className=\"text-left sm:text-right\">\n                  <p className=\"text-xs text-muted-foreground\">Starting from</p>\n                  <p className=\"text-3xl font-bold\">\n                    ${car.price}\n                    <span className=\"text-sm font-semibold text-muted-foreground\">/day</span>\n                  </p>\n                  {Number.isFinite(car.holidayRate) && car.holidayRate > 0 && (\n                    <p className=\"text-xs text-muted-foreground mt-1\">\n                      Holiday: <span className=\"font-semibold\">${car.holidayRate}</span>\n                    </p>\n                  )}\n                </div>\n              </div>\n\n              <Separator />\n\n              <div className=\"grid grid-cols-2 md:grid-cols-3 gap-3\">\n                <SpecCard icon={Users} label=\"Seats\" value={car.seats ?? 'N/A'} />\n                <SpecCard icon={DoorClosed} label=\"Doors\" value={car.doors ?? 'N/A'} />\n                <SpecCard icon={Fuel} label=\"Fuel\" value={car.fuelType ?? 'N/A'} />\n                <SpecCard icon={Settings} label=\"Transmission\" value={car.transmission ?? 'N/A'} />\n                <SpecCard icon={Gauge} label=\"Mileage\" value={car.mileage ? `${car.mileage} km` : 'N/A'} />\n                <SpecCard icon={Car} label=\"Drive\" value={car.drive ?? 'N/A'} />\n              </div>\n            </CardContent>\n          </Card>\n\n          {/* Description */}\n          <Card>\n            <CardContent className=\"p-5 space-y-3\">\n              <h3 className=\"text-base font-semibold\">Description</h3>\n              <p className=\"text-sm leading-relaxed text-muted-foreground\">\n                {car.description?.trim() ? car.description : 'No description provided.'}\n              </p>\n            </CardContent>\n          </Card>\n\n          {/* Features */}\n          {car.features?.length > 0 && (\n            <Card>\n              <CardContent className=\"p-5 space-y-4\">\n                <div className=\"flex items-center justify-between\">\n                  <h3 className=\"text-base font-semibold\">Features</h3>\n                  <Badge variant=\"secondary\" className=\"rounded-full\">\n                    {car.features.length} included\n                  </Badge>\n                </div>\n\n                <div className=\"grid sm:grid-cols-2 gap-3\">\n                  {car.features.map((f, i) => (\n                    <div key={`${f}-${i}`} className=\"flex items-start gap-2 rounded-lg border p-3\">\n                      <CheckCircle2 className=\"w-4 h-4 text-primary mt-0.5\" aria-hidden=\"true\" />\n                      <span className=\"text-sm\">{f}</span>\n                    </div>\n                  ))}\n                </div>\n              </CardContent>\n            </Card>\n          )}\n        </div>\n\n        {/* Right sticky booking summary */}\n        <div className=\"lg:col-span-4\">\n          <Card className=\"sticky top-28\">\n            <CardContent className=\"p-5 space-y-4\">\n              <div className=\"flex items-start justify-between gap-3\">\n                <div className=\"space-y-1\">\n                  <Badge className=\"rounded-full w-fit\">{car.type || 'Car'}</Badge>\n                  <h2 className=\"text-lg font-semibold leading-tight\">\n                    {car.brand} {car.model}\n                  </h2>\n                  <p className=\"text-xs text-muted-foreground\">\n                    Price: <span className=\"font-semibold\">${car.price}/day</span>\n                  </p>\n                </div>\n\n                {car.rating && (\n                  <div className=\"rounded-xl border px-3 py-2 text-center\">\n                    <div className=\"flex items-center justify-center gap-1\">\n                      <Star className=\"w-4 h-4 fill-yellow-500 text-yellow-500\" aria-hidden=\"true\" />\n                      <span className=\"font-semibold\">{car.rating}</span>\n                    </div>\n                    <p className=\"text-[11px] text-muted-foreground\">{car.reviews} reviews</p>\n                  </div>\n                )}\n              </div>\n\n              <Separator />\n\n              <div className=\"rounded-xl border bg-muted/30 p-4 space-y-2\">\n                <MetaRow label=\"Pickup type\" value={car.deliveryAvailable ? 'Delivery' : 'Pickup only'} />\n                <MetaRow label=\"Car location\" value={car.location} />\n                <MetaRow label=\"Fuel\" value={car.fuelType ?? 'N/A'} />\n                <MetaRow label=\"Transmission\" value={car.transmission ?? 'N/A'} />\n              </div>\n\n              <div className=\"flex gap-2\">\n                <Button\n                  className=\"flex-1 bg-gradient-to-r from-teal-600 to-cyan-600 text-white\"\n                  onClick={() => setShowBookingDialog(true)}\n                >\n                  Book Now\n                </Button>\n                <Button\n                  variant=\"outline\"\n                  onClick={toggleFavorite}\n                  aria-label={favorite ? 'Remove from favorites' : 'Add to favorites'}\n                  disabled={isFavLoading}\n                >\n                  <Heart\n                    className={`w-4 h-4 ${favorite ? 'fill-primary text-primary' : ''}`}\n                    aria-hidden=\"true\"\n                  />\n                </Button>\n              </div>\n\n              <p className=\"text-[11px] text-muted-foreground leading-relaxed\">\n                Submit a booking request and our team will confirm availability with you.\n              </p>\n            </CardContent>\n          </Card>\n        </div>\n      </div>\n\n      {/* Related Cars */}\n      {relatedCars.length > 0 && (\n        <div className=\"container mx-auto px-4 py-6 border-t\">\n          <h2 className=\"text-lg font-semibold mb-4\">You might also like</h2>\n          <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4\">\n            {relatedCars.map((r) => (\n              <CarCard key={r.id} car={r} />\n            ))}\n          </div>\n          <div className=\"mt-4 text-center\">\n            <Button variant=\"outline\" asChild>\n              <Link to=\"/cars\">View all cars</Link>\n            </Button>\n          </div>\n        </div>\n      )}\n\n      {/* Booking Dialog */}\n      <Dialog open={showBookingDialog} onOpenChange={setShowBookingDialog}>\n        <DialogContent className=\"max-w-lg max-h-[90vh] overflow-y-auto\">\n          <DialogHeader>\n            <DialogTitle className=\"text-xl\">\n              Book {car.brand} {car.model}\n            </DialogTitle>\n            <DialogDescription className=\"text-sm\">\n              {car.deliveryAvailable\n                ? 'Choose pickup location and rental dates.'\n                : 'Delivery is not available for this car. Pickup is at the car location.'}\n            </DialogDescription>\n          </DialogHeader>\n\n          <form onSubmit={handleBooking} className=\"space-y-4 mt-2\">\n            {/* Location */}\n            {car.deliveryAvailable ? (\n              <div>\n                <Label htmlFor=\"location\" className=\"text-xs\">Pickup Location *</Label>\n                <div className=\"relative\">\n                  <MapPin className=\"absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-muted-foreground\" />\n                  <Input\n                    id=\"location\"\n                    required\n                    value={bookingData.location}\n                    onChange={(e) => setBookingData({ ...bookingData, location: e.target.value })}\n                    placeholder=\"City, Airport, or Address\"\n                    className=\"pl-8 h-9 text-sm\"\n                  />\n                </div>\n              </div>\n            ) : (\n              <div className=\"rounded-lg border bg-muted/30 p-4\">\n                <p className=\"text-xs text-muted-foreground mb-1\">Pickup location</p>\n                <p className=\"text-sm font-semibold\">{car.location || 'N/A'}</p>\n                <p className=\"text-[11px] text-muted-foreground mt-1\">\n                  Pickup is at the car location.\n                </p>\n              </div>\n            )}\n\n            {/* Dates */}\n            <div className=\"grid grid-cols-2 gap-3\">\n              <div>\n                <Label htmlFor=\"pickupDate\" className=\"text-xs\">Start Date *</Label>\n                <div className=\"relative\">\n                  <Calendar className=\"absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-muted-foreground\" />\n                  <Input\n                    id=\"pickupDate\"\n                    type=\"datetime-local\"\n                    required\n                    value={bookingData.pickupDate}\n                    onChange={(e) =>\n                      setBookingData((prev) => ({\n                        ...prev,\n                        pickupDate: e.target.value,\n                        returnDate:\n                          prev.returnDate && new Date(prev.returnDate) <= new Date(e.target.value)\n                            ? ''\n                            : prev.returnDate\n                      }))\n                    }\n                    min={minNowLocal}\n                    className=\"pl-8 h-9 text-sm\"\n                  />\n                </div>\n              </div>\n\n              <div>\n                <Label htmlFor=\"returnDate\" className=\"text-xs\">End Date *</Label>\n                <div className=\"relative\">\n                  <Calendar className=\"absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-muted-foreground\" />\n                  <Input\n                    id=\"returnDate\"\n                    type=\"datetime-local\"\n                    required\n                    value={bookingData.returnDate}\n                    onChange={(e) => setBookingData({ ...bookingData, returnDate: e.target.value })}\n                    min={bookingData.pickupDate || minNowLocal}\n                    className=\"pl-8 h-9 text-sm\"\n                  />\n                </div>\n              </div>\n            </div>\n\n            {/* Optional reason */}\n            <div>\n              <Label htmlFor=\"reason\" className=\"text-xs\">Reason (optional)</Label>\n              <Input\n                id=\"reason\"\n                value={bookingData.reason}\n                onChange={(e) => setBookingData({ ...bookingData, reason: e.target.value })}\n                placeholder=\"Vacation, business trip, wedding...\"\n                className=\"h-9 text-sm\"\n              />\n            </div>\n\n            <Separator />\n\n            {/* Price Summary */}\n            <div className=\"rounded-lg border bg-muted/30 p-4 space-y-2\">\n              <div className=\"flex justify-between text-sm\">\n                <span className=\"text-muted-foreground\">Daily rate</span>\n                <span className=\"font-medium\">${car.price}/day</span>\n              </div>\n              <div className=\"flex justify-between text-sm\">\n                <span className=\"text-muted-foreground\">Days</span>\n                <span className=\"font-medium\">{days > 0 ? days : '--'}</span>\n              </div>\n              <Separator />\n              <div className=\"flex justify-between items-center\">\n                <span className=\"font-semibold\">Estimated total</span>\n                <span className=\"text-2xl font-bold text-teal-600 dark:text-teal-400\">\n                  {days > 0 ? `$${totalPrice}` : '--'}\n                </span>\n              </div>\n              <p className=\"text-[11px] text-muted-foreground\">\n                Final confirmation depends on availability and terms.\n              </p>\n            </div>\n\n            <Button\n              type=\"submit\"\n              className=\"w-full bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 font-semibold h-10 text-sm\"\n              disabled={isSubmitting}\n            >\n              {isSubmitting ? 'Submitting...' : 'Confirm Booking Request'}\n            </Button>\n          </form>\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n};\n\n/* ---------- small UI helpers ---------- */\n\nconst InfoPill = ({ icon, label }) => (\n  <div className=\"inline-flex items-center gap-2 rounded-full border bg-background px-3 py-1 text-xs text-muted-foreground\">\n    <span aria-hidden=\"true\">{icon}</span>\n    <span className=\"truncate max-w-[260px]\">{label}</span>\n  </div>\n);\n\nconst SpecCard = ({ icon: Icon, label, value }) => (\n  <div className=\"rounded-xl border p-4 bg-background hover:bg-muted/30 transition\">\n    <div className=\"flex items-center gap-3\">\n      <div className=\"w-10 h-10 rounded-lg bg-muted flex items-center justify-center\">\n        <Icon className=\"w-5 h-5\" aria-hidden=\"true\" />\n      </div>\n      <div>\n        <p className=\"text-xs text-muted-foreground\">{label}</p>\n        <p className=\"font-semibold\">{value}</p>\n      </div>\n    </div>\n  </div>\n);\n\nconst MetaRow = ({ label, value }) => (\n  <div className=\"flex items-start justify-between gap-4\">\n    <span className=\"text-xs text-muted-foreground\">{label}</span>\n    <span className=\"text-xs font-medium text-right\">{value}</span>\n  </div>\n);\n"],"names":["__iconNode","DoorClosed","createLucideIcon","CarDetailPage","id","useParams","navigate","useNavigate","useAuth","car","setCar","useState","loading","setLoading","favorite","setFavorite","selectedImage","setSelectedImage","showBookingDialog","setShowBookingDialog","bookingData","setBookingData","isSubmitting","setIsSubmitting","isFavLoading","setIsFavLoading","relatedCars","setRelatedCars","minNowLocal","useMemo","heroImage","extractFavorites","data","isCarInFavorites","favoritesArr","carId","target","item","useEffect","alive","carData","api","feedbacks","rating","sum","mappedCar","favRes","favArr","carsRes","raw","mapped","c","fbs","r","s","f","err","toast","prev","days","pickup","ret","totalPrice","toggleFavorite","next","validateBooking","handleBooking","e","payload","error","errorMessage","errors","jsxs","jsx","Button","ArrowLeft","Heart","Card","CardContent","Badge","Star","img","i","InfoPill","MapPin","Separator","SpecCard","Users","Fuel","Settings","Gauge","Car","CheckCircle2","MetaRow","CarCard","Link","Dialog","DialogContent","DialogHeader","DialogTitle","DialogDescription","Label","Input","Calendar","icon","label","Icon","value"],"mappings":"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","x_google_ignoreList":[0]}