function Ez(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const a in n)if(a!=="default"&&!(a in t)){const i=Object.getOwnPropertyDescriptor(n,a);i&&Object.defineProperty(t,a,i.get?i:{enumerable:!0,get:()=>n[a]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const i of a)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(a){const i={};return a.integrity&&(i.integrity=a.integrity),a.referrerPolicy&&(i.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?i.credentials="include":a.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(a){if(a.ep)return;a.ep=!0;const i=r(a);fetch(a.href,i)}})();function C0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Lv={exports:{}},Gt={};var GA;function Tz(){if(GA)return Gt;GA=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),d=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),g=Symbol.iterator;function y(q){return q===null||typeof q!="object"?null:(q=g&&q[g]||q["@@iterator"],typeof q=="function"?q:null)}var v={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,j={};function b(q,Y,ce){this.props=q,this.context=Y,this.refs=j,this.updater=ce||v}b.prototype.isReactComponent={},b.prototype.setState=function(q,Y){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,Y,"setState")},b.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function N(){}N.prototype=b.prototype;function k(q,Y,ce){this.props=q,this.context=Y,this.refs=j,this.updater=ce||v}var S=k.prototype=new N;S.constructor=k,w(S,b.prototype),S.isPureReactComponent=!0;var C=Array.isArray;function B(){}var E={H:null,A:null,T:null,S:null},z=Object.prototype.hasOwnProperty;function T(q,Y,ce){var le=ce.ref;return{$$typeof:t,type:q,key:Y,ref:le!==void 0?le:null,props:ce}}function W(q,Y){return T(q.type,Y,q.props)}function U(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function L(q){var Y={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(ce){return Y[ce]})}var Z=/\/+/g;function O(q,Y){return typeof q=="object"&&q!==null&&q.key!=null?L(""+q.key):Y.toString(36)}function se(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(B,B):(q.status="pending",q.then(function(Y){q.status==="pending"&&(q.status="fulfilled",q.value=Y)},function(Y){q.status==="pending"&&(q.status="rejected",q.reason=Y)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function K(q,Y,ce,le,be){var ge=typeof q;(ge==="undefined"||ge==="boolean")&&(q=null);var V=!1;if(q===null)V=!0;else switch(ge){case"bigint":case"string":case"number":V=!0;break;case"object":switch(q.$$typeof){case t:case e:V=!0;break;case m:return V=q._init,K(V(q._payload),Y,ce,le,be)}}if(V)return be=be(q),V=le===""?"."+O(q,0):le,C(be)?(ce="",V!=null&&(ce=V.replace(Z,"$&/")+"/"),K(be,Y,ce,"",function(Q){return Q})):be!=null&&(U(be)&&(be=W(be,ce+(be.key==null||q&&q.key===be.key?"":(""+be.key).replace(Z,"$&/")+"/")+V)),Y.push(be)),1;V=0;var H=le===""?".":le+":";if(C(q))for(var me=0;me<q.length;me++)le=q[me],ge=H+O(le,me),V+=K(le,Y,ce,ge,be);else if(me=y(q),typeof me=="function")for(q=me.call(q),me=0;!(le=q.next()).done;)le=le.value,ge=H+O(le,me++),V+=K(le,Y,ce,ge,be);else if(ge==="object"){if(typeof q.then=="function")return K(se(q),Y,ce,le,be);throw Y=String(q),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.")}return V}function M(q,Y,ce){if(q==null)return q;var le=[],be=0;return K(q,le,"","",function(ge){return Y.call(ce,ge,be++)}),le}function X(q){if(q._status===-1){var Y=q._result;Y=Y(),Y.then(function(ce){(q._status===0||q._status===-1)&&(q._status=1,q._result=ce)},function(ce){(q._status===0||q._status===-1)&&(q._status=2,q._result=ce)}),q._status===-1&&(q._status=0,q._result=Y)}if(q._status===1)return q._result.default;throw q._result}var $=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var Y=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(Y))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},oe={map:M,forEach:function(q,Y,ce){M(q,function(){Y.apply(this,arguments)},ce)},count:function(q){var Y=0;return M(q,function(){Y++}),Y},toArray:function(q){return M(q,function(Y){return Y})||[]},only:function(q){if(!U(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return Gt.Activity=f,Gt.Children=oe,Gt.Component=b,Gt.Fragment=r,Gt.Profiler=a,Gt.PureComponent=k,Gt.StrictMode=n,Gt.Suspense=d,Gt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=E,Gt.__COMPILER_RUNTIME={__proto__:null,c:function(q){return E.H.useMemoCache(q)}},Gt.cache=function(q){return function(){return q.apply(null,arguments)}},Gt.cacheSignal=function(){return null},Gt.cloneElement=function(q,Y,ce){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var le=w({},q.props),be=q.key;if(Y!=null)for(ge in Y.key!==void 0&&(be=""+Y.key),Y)!z.call(Y,ge)||ge==="key"||ge==="__self"||ge==="__source"||ge==="ref"&&Y.ref===void 0||(le[ge]=Y[ge]);var ge=arguments.length-2;if(ge===1)le.children=ce;else if(1<ge){for(var V=Array(ge),H=0;H<ge;H++)V[H]=arguments[H+2];le.children=V}return T(q.type,be,le)},Gt.createContext=function(q){return q={$$typeof:o,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:i,_context:q},q},Gt.createElement=function(q,Y,ce){var le,be={},ge=null;if(Y!=null)for(le in Y.key!==void 0&&(ge=""+Y.key),Y)z.call(Y,le)&&le!=="key"&&le!=="__self"&&le!=="__source"&&(be[le]=Y[le]);var V=arguments.length-2;if(V===1)be.children=ce;else if(1<V){for(var H=Array(V),me=0;me<V;me++)H[me]=arguments[me+2];be.children=H}if(q&&q.defaultProps)for(le in V=q.defaultProps,V)be[le]===void 0&&(be[le]=V[le]);return T(q,ge,be)},Gt.createRef=function(){return{current:null}},Gt.forwardRef=function(q){return{$$typeof:c,render:q}},Gt.isValidElement=U,Gt.lazy=function(q){return{$$typeof:m,_payload:{_status:-1,_result:q},_init:X}},Gt.memo=function(q,Y){return{$$typeof:h,type:q,compare:Y===void 0?null:Y}},Gt.startTransition=function(q){var Y=E.T,ce={};E.T=ce;try{var le=q(),be=E.S;be!==null&&be(ce,le),typeof le=="object"&&le!==null&&typeof le.then=="function"&&le.then(B,$)}catch(ge){$(ge)}finally{Y!==null&&ce.types!==null&&(Y.types=ce.types),E.T=Y}},Gt.unstable_useCacheRefresh=function(){return E.H.useCacheRefresh()},Gt.use=function(q){return E.H.use(q)},Gt.useActionState=function(q,Y,ce){return E.H.useActionState(q,Y,ce)},Gt.useCallback=function(q,Y){return E.H.useCallback(q,Y)},Gt.useContext=function(q){return E.H.useContext(q)},Gt.useDebugValue=function(){},Gt.useDeferredValue=function(q,Y){return E.H.useDeferredValue(q,Y)},Gt.useEffect=function(q,Y){return E.H.useEffect(q,Y)},Gt.useEffectEvent=function(q){return E.H.useEffectEvent(q)},Gt.useId=function(){return E.H.useId()},Gt.useImperativeHandle=function(q,Y,ce){return E.H.useImperativeHandle(q,Y,ce)},Gt.useInsertionEffect=function(q,Y){return E.H.useInsertionEffect(q,Y)},Gt.useLayoutEffect=function(q,Y){return E.H.useLayoutEffect(q,Y)},Gt.useMemo=function(q,Y){return E.H.useMemo(q,Y)},Gt.useOptimistic=function(q,Y){return E.H.useOptimistic(q,Y)},Gt.useReducer=function(q,Y,ce){return E.H.useReducer(q,Y,ce)},Gt.useRef=function(q){return E.H.useRef(q)},Gt.useState=function(q){return E.H.useState(q)},Gt.useSyncExternalStore=function(q,Y,ce){return E.H.useSyncExternalStore(q,Y,ce)},Gt.useTransition=function(){return E.H.useTransition()},Gt.version="19.2.1",Gt}var YA;function k0(){return YA||(YA=1,Lv.exports=Tz()),Lv.exports}var _=k0();const lt=C0(_),pN=Ez({__proto__:null,default:lt},[_]);var Fv={exports:{}},wf={},Bv={exports:{}},Iv={};var KA;function Rz(){return KA||(KA=1,(function(t){function e(K,M){var X=K.length;K.push(M);e:for(;0<X;){var $=X-1>>>1,oe=K[$];if(0<a(oe,M))K[$]=M,K[X]=oe,X=$;else break e}}function r(K){return K.length===0?null:K[0]}function n(K){if(K.length===0)return null;var M=K[0],X=K.pop();if(X!==M){K[0]=X;e:for(var $=0,oe=K.length,q=oe>>>1;$<q;){var Y=2*($+1)-1,ce=K[Y],le=Y+1,be=K[le];if(0>a(ce,X))le<oe&&0>a(be,ce)?(K[$]=be,K[le]=X,$=le):(K[$]=ce,K[Y]=X,$=Y);else if(le<oe&&0>a(be,X))K[$]=be,K[le]=X,$=le;else break e}}return M}function a(K,M){var X=K.sortIndex-M.sortIndex;return X!==0?X:K.id-M.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,c=o.now();t.unstable_now=function(){return o.now()-c}}var d=[],h=[],m=1,f=null,g=3,y=!1,v=!1,w=!1,j=!1,b=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function S(K){for(var M=r(h);M!==null;){if(M.callback===null)n(h);else if(M.startTime<=K)n(h),M.sortIndex=M.expirationTime,e(d,M);else break;M=r(h)}}function C(K){if(w=!1,S(K),!v)if(r(d)!==null)v=!0,B||(B=!0,L());else{var M=r(h);M!==null&&se(C,M.startTime-K)}}var B=!1,E=-1,z=5,T=-1;function W(){return j?!0:!(t.unstable_now()-T<z)}function U(){if(j=!1,B){var K=t.unstable_now();T=K;var M=!0;try{e:{v=!1,w&&(w=!1,N(E),E=-1),y=!0;var X=g;try{t:{for(S(K),f=r(d);f!==null&&!(f.expirationTime>K&&W());){var $=f.callback;if(typeof $=="function"){f.callback=null,g=f.priorityLevel;var oe=$(f.expirationTime<=K);if(K=t.unstable_now(),typeof oe=="function"){f.callback=oe,S(K),M=!0;break t}f===r(d)&&n(d),S(K)}else n(d);f=r(d)}if(f!==null)M=!0;else{var q=r(h);q!==null&&se(C,q.startTime-K),M=!1}}break e}finally{f=null,g=X,y=!1}M=void 0}}finally{M?L():B=!1}}}var L;if(typeof k=="function")L=function(){k(U)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,O=Z.port2;Z.port1.onmessage=U,L=function(){O.postMessage(null)}}else L=function(){b(U,0)};function se(K,M){E=b(function(){K(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(K){K.callback=null},t.unstable_forceFrameRate=function(K){0>K||125<K?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):z=0<K?Math.floor(1e3/K):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(K){switch(g){case 1:case 2:case 3:var M=3;break;default:M=g}var X=g;g=M;try{return K()}finally{g=X}},t.unstable_requestPaint=function(){j=!0},t.unstable_runWithPriority=function(K,M){switch(K){case 1:case 2:case 3:case 4:case 5:break;default:K=3}var X=g;g=K;try{return M()}finally{g=X}},t.unstable_scheduleCallback=function(K,M,X){var $=t.unstable_now();switch(typeof X=="object"&&X!==null?(X=X.delay,X=typeof X=="number"&&0<X?$+X:$):X=$,K){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=X+oe,K={id:m++,callback:M,priorityLevel:K,startTime:X,expirationTime:oe,sortIndex:-1},X>$?(K.sortIndex=X,e(h,K),r(d)===null&&K===r(h)&&(w?(N(E),E=-1):w=!0,se(C,X-$))):(K.sortIndex=oe,e(d,K),v||y||(v=!0,B||(B=!0,L()))),K},t.unstable_shouldYield=W,t.unstable_wrapCallback=function(K){var M=g;return function(){var X=g;g=M;try{return K.apply(this,arguments)}finally{g=X}}}})(Iv)),Iv}var XA;function Dz(){return XA||(XA=1,Bv.exports=Rz()),Bv.exports}var zv={exports:{}},dn={};var ZA;function Mz(){if(ZA)return dn;ZA=1;var t=k0();function e(d){var h="https://react.dev/errors/"+d;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)h+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+d+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},a=Symbol.for("react.portal");function i(d,h,m){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:a,key:f==null?null:""+f,children:d,containerInfo:h,implementation:m}}var o=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function c(d,h){if(d==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return dn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,dn.createPortal=function(d,h){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(e(299));return i(d,h,null,m)},dn.flushSync=function(d){var h=o.T,m=n.p;try{if(o.T=null,n.p=2,d)return d()}finally{o.T=h,n.p=m,n.d.f()}},dn.preconnect=function(d,h){typeof d=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(d,h))},dn.prefetchDNS=function(d){typeof d=="string"&&n.d.D(d)},dn.preinit=function(d,h){if(typeof d=="string"&&h&&typeof h.as=="string"){var m=h.as,f=c(m,h.crossOrigin),g=typeof h.integrity=="string"?h.integrity:void 0,y=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;m==="style"?n.d.S(d,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:f,integrity:g,fetchPriority:y}):m==="script"&&n.d.X(d,{crossOrigin:f,integrity:g,fetchPriority:y,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},dn.preinitModule=function(d,h){if(typeof d=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var m=c(h.as,h.crossOrigin);n.d.M(d,{crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(d)},dn.preload=function(d,h){if(typeof d=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var m=h.as,f=c(m,h.crossOrigin);n.d.L(d,m,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},dn.preloadModule=function(d,h){if(typeof d=="string")if(h){var m=c(h.as,h.crossOrigin);n.d.m(d,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:m,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(d)},dn.requestFormReset=function(d){n.d.r(d)},dn.unstable_batchedUpdates=function(d,h){return d(h)},dn.useFormState=function(d,h,m){return o.H.useFormState(d,h,m)},dn.useFormStatus=function(){return o.H.useHostTransitionStatus()},dn.version="19.2.1",dn}var QA;function r6(){if(QA)return zv.exports;QA=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),zv.exports=Mz(),zv.exports}var JA;function Pz(){if(JA)return wf;JA=1;var t=Dz(),e=k0(),r=r6();function n(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)u+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function i(l){var u=l,p=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(p=u.return),l=u.return;while(l)}return u.tag===3?p:null}function o(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function c(l){if(l.tag===31){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function d(l){if(i(l)!==l)throw Error(n(188))}function h(l){var u=l.alternate;if(!u){if(u=i(l),u===null)throw Error(n(188));return u!==l?null:l}for(var p=l,x=u;;){var A=p.return;if(A===null)break;var D=A.alternate;if(D===null){if(x=A.return,x!==null){p=x;continue}break}if(A.child===D.child){for(D=A.child;D;){if(D===p)return d(A),l;if(D===x)return d(A),u;D=D.sibling}throw Error(n(188))}if(p.return!==x.return)p=A,x=D;else{for(var re=!1,je=A.child;je;){if(je===p){re=!0,p=A,x=D;break}if(je===x){re=!0,x=A,p=D;break}je=je.sibling}if(!re){for(je=D.child;je;){if(je===p){re=!0,p=D,x=A;break}if(je===x){re=!0,x=D,p=A;break}je=je.sibling}if(!re)throw Error(n(189))}}if(p.alternate!==x)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?l:u}function m(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l;for(l=l.child;l!==null;){if(u=m(l),u!==null)return u;l=l.sibling}return null}var f=Object.assign,g=Symbol.for("react.element"),y=Symbol.for("react.transitional.element"),v=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),j=Symbol.for("react.strict_mode"),b=Symbol.for("react.profiler"),N=Symbol.for("react.consumer"),k=Symbol.for("react.context"),S=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),B=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),z=Symbol.for("react.lazy"),T=Symbol.for("react.activity"),W=Symbol.for("react.memo_cache_sentinel"),U=Symbol.iterator;function L(l){return l===null||typeof l!="object"?null:(l=U&&l[U]||l["@@iterator"],typeof l=="function"?l:null)}var Z=Symbol.for("react.client.reference");function O(l){if(l==null)return null;if(typeof l=="function")return l.$$typeof===Z?null:l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case w:return"Fragment";case b:return"Profiler";case j:return"StrictMode";case C:return"Suspense";case B:return"SuspenseList";case T:return"Activity"}if(typeof l=="object")switch(l.$$typeof){case v:return"Portal";case k:return l.displayName||"Context";case N:return(l._context.displayName||"Context")+".Consumer";case S:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case E:return u=l.displayName||null,u!==null?u:O(l.type)||"Memo";case z:u=l._payload,l=l._init;try{return O(l(u))}catch{}}return null}var se=Array.isArray,K=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,M=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,X={pending:!1,data:null,method:null,action:null},$=[],oe=-1;function q(l){return{current:l}}function Y(l){0>oe||(l.current=$[oe],$[oe]=null,oe--)}function ce(l,u){oe++,$[oe]=l.current,l.current=u}var le=q(null),be=q(null),ge=q(null),V=q(null);function H(l,u){switch(ce(ge,u),ce(be,l),ce(le,null),u.nodeType){case 9:case 11:l=(l=u.documentElement)&&(l=l.namespaceURI)?gA(l):0;break;default:if(l=u.tagName,u=u.namespaceURI)u=gA(u),l=xA(u,l);else switch(l){case"svg":l=1;break;case"math":l=2;break;default:l=0}}Y(le),ce(le,l)}function me(){Y(le),Y(be),Y(ge)}function Q(l){l.memoizedState!==null&&ce(V,l);var u=le.current,p=xA(u,l.type);u!==p&&(ce(be,l),ce(le,p))}function te(l){be.current===l&&(Y(le),Y(be)),V.current===l&&(Y(V),xf._currentValue=X)}var ee,Ce;function F(l){if(ee===void 0)try{throw Error()}catch(p){var u=p.stack.trim().match(/\n( *(at )?)/);ee=u&&u[1]||"",Ce=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ee+l+Ce}var Ee=!1;function J(l,u){if(!l||Ee)return"";Ee=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var x={DetermineComponentFrameRoot:function(){try{if(u){var et=function(){throw Error()};if(Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(He){var Ie=He}Reflect.construct(l,[],et)}else{try{et.call()}catch(He){Ie=He}l.call(et.prototype)}}else{try{throw Error()}catch(He){Ie=He}(et=l())&&typeof et.catch=="function"&&et.catch(function(){})}}catch(He){if(He&&Ie&&typeof He.stack=="string")return[He.stack,Ie.stack]}return[null,null]}};x.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var A=Object.getOwnPropertyDescriptor(x.DetermineComponentFrameRoot,"name");A&&A.configurable&&Object.defineProperty(x.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var D=x.DetermineComponentFrameRoot(),re=D[0],je=D[1];if(re&&je){var De=re.split(`
`),Be=je.split(`
`);for(A=x=0;x<De.length&&!De[x].includes("DetermineComponentFrameRoot");)x++;for(;A<Be.length&&!Be[A].includes("DetermineComponentFrameRoot");)A++;if(x===De.length||A===Be.length)for(x=De.length-1,A=Be.length-1;1<=x&&0<=A&&De[x]!==Be[A];)A--;for(;1<=x&&0<=A;x--,A--)if(De[x]!==Be[A]){if(x!==1||A!==1)do if(x--,A--,0>A||De[x]!==Be[A]){var Ye=`
`+De[x].replace(" at new "," at ");return l.displayName&&Ye.includes("<anonymous>")&&(Ye=Ye.replace("<anonymous>",l.displayName)),Ye}while(1<=x&&0<=A);break}}}finally{Ee=!1,Error.prepareStackTrace=p}return(p=l?l.displayName||l.name:"")?F(p):""}function R(l,u){switch(l.tag){case 26:case 27:case 5:return F(l.type);case 16:return F("Lazy");case 13:return l.child!==u&&u!==null?F("Suspense Fallback"):F("Suspense");case 19:return F("SuspenseList");case 0:case 15:return J(l.type,!1);case 11:return J(l.type.render,!1);case 1:return J(l.type,!0);case 31:return F("Activity");default:return""}}function P(l){try{var u="",p=null;do u+=R(l,p),p=l,l=l.return;while(l);return u}catch(x){return`
Error generating stack: `+x.message+`
`+x.stack}}var G=Object.prototype.hasOwnProperty,we=t.unstable_scheduleCallback,de=t.unstable_cancelCallback,he=t.unstable_shouldYield,xe=t.unstable_requestPaint,Me=t.unstable_now,Re=t.unstable_getCurrentPriorityLevel,$e=t.unstable_ImmediatePriority,Je=t.unstable_UserBlockingPriority,st=t.unstable_NormalPriority,Nt=t.unstable_LowPriority,St=t.unstable_IdlePriority,Ht=t.log,As=t.unstable_setDisableYieldValue,kt=null,ds=null;function Ge(l){if(typeof Ht=="function"&&As(l),ds&&typeof ds.setStrictMode=="function")try{ds.setStrictMode(kt,l)}catch{}}var Ze=Math.clz32?Math.clz32:Es,Ke=Math.log,us=Math.LN2;function Es(l){return l>>>=0,l===0?32:31-(Ke(l)/us|0)|0}var Cs=256,jn=262144,$s=4194304;function wr(l){var u=l&42;if(u!==0)return u;switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return l&261888;case 262144:case 524288:case 1048576:case 2097152:return l&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return l&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return l}}function Ot(l,u,p){var x=l.pendingLanes;if(x===0)return 0;var A=0,D=l.suspendedLanes,re=l.pingedLanes;l=l.warmLanes;var je=x&134217727;return je!==0?(x=je&~D,x!==0?A=wr(x):(re&=je,re!==0?A=wr(re):p||(p=je&~l,p!==0&&(A=wr(p))))):(je=x&~D,je!==0?A=wr(je):re!==0?A=wr(re):p||(p=x&~l,p!==0&&(A=wr(p)))),A===0?0:u!==0&&u!==A&&(u&D)===0&&(D=A&-A,p=u&-u,D>=p||D===32&&(p&4194048)!==0)?u:A}function ye(l,u){return(l.pendingLanes&~(l.suspendedLanes&~l.pingedLanes)&u)===0}function At(l,u){switch(l){case 1:case 2:case 4:case 8:case 64:return u+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Js(){var l=$s;return $s<<=1,($s&62914560)===0&&($s=4194304),l}function Ct(l){for(var u=[],p=0;31>p;p++)u.push(l);return u}function ot(l,u){l.pendingLanes|=u,u!==268435456&&(l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0)}function ys(l,u,p,x,A,D){var re=l.pendingLanes;l.pendingLanes=p,l.suspendedLanes=0,l.pingedLanes=0,l.warmLanes=0,l.expiredLanes&=p,l.entangledLanes&=p,l.errorRecoveryDisabledLanes&=p,l.shellSuspendCounter=0;var je=l.entanglements,De=l.expirationTimes,Be=l.hiddenUpdates;for(p=re&~p;0<p;){var Ye=31-Ze(p),et=1<<Ye;je[Ye]=0,De[Ye]=-1;var Ie=Be[Ye];if(Ie!==null)for(Be[Ye]=null,Ye=0;Ye<Ie.length;Ye++){var He=Ie[Ye];He!==null&&(He.lane&=-536870913)}p&=~et}x!==0&&dr(l,x,0),D!==0&&A===0&&l.tag!==0&&(l.suspendedLanes|=D&~(re&~u))}function dr(l,u,p){l.pendingLanes|=u,l.suspendedLanes&=~u;var x=31-Ze(u);l.entangledLanes|=u,l.entanglements[x]=l.entanglements[x]|1073741824|p&261930}function qs(l,u){var p=l.entangledLanes|=u;for(l=l.entanglements;p;){var x=31-Ze(p),A=1<<x;A&u|l[x]&u&&(l[x]|=u),p&=~A}}function $r(l,u){var p=u&-u;return p=(p&42)!==0?1:Dn(p),(p&(l.suspendedLanes|u))!==0?0:p}function Dn(l){switch(l){case 2:l=1;break;case 8:l=4;break;case 32:l=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:l=128;break;case 268435456:l=134217728;break;default:l=0}return l}function _n(l){return l&=-l,2<l?8<l?(l&134217727)!==0?32:268435456:8:2}function gi(){var l=M.p;return l!==0?l:(l=window.event,l===void 0?32:zA(l.type))}function Pd(l,u){var p=M.p;try{return M.p=l,u()}finally{M.p=p}}var Nn=Math.random().toString(36).slice(2),jr="__reactFiber$"+Nn,fr="__reactProps$"+Nn,Er="__reactContainer$"+Nn,to="__reactEvents$"+Nn,so="__reactListeners$"+Nn,Qo="__reactHandles$"+Nn,wa="__reactResources$"+Nn,Ya="__reactMarker$"+Nn;function fc(l){delete l[jr],delete l[fr],delete l[to],delete l[so],delete l[Qo]}function xi(l){var u=l[jr];if(u)return u;for(var p=l.parentNode;p;){if(u=p[Er]||p[jr]){if(p=u.alternate,u.child!==null||p!==null&&p.child!==null)for(l=NA(l);l!==null;){if(p=l[jr])return p;l=NA(l)}return u}l=p,p=l.parentNode}return null}function ea(l){if(l=l[jr]||l[Er]){var u=l.tag;if(u===5||u===6||u===13||u===31||u===26||u===27||u===3)return l}return null}function yi(l){var u=l.tag;if(u===5||u===26||u===27||u===6)return l.stateNode;throw Error(n(33))}function ta(l){var u=l[wa];return u||(u=l[wa]={hoistableStyles:new Map,hoistableScripts:new Map}),u}function Os(l){l[Ya]=!0}var Jo=new Set,mc={};function ja(l,u){Sn(l,u),Sn(l+"Capture",u)}function Sn(l,u){for(mc[l]=u,l=0;l<u.length;l++)Jo.add(u[l])}var Mn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),el={},sa={};function ra(l){return G.call(sa,l)?!0:G.call(el,l)?!1:Mn.test(l)?sa[l]=!0:(el[l]=!0,!1)}function ro(l,u,p){if(ra(u))if(p===null)l.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":l.removeAttribute(u);return;case"boolean":var x=u.toLowerCase().slice(0,5);if(x!=="data-"&&x!=="aria-"){l.removeAttribute(u);return}}l.setAttribute(u,""+p)}}function no(l,u,p){if(p===null)l.removeAttribute(u);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(u);return}l.setAttribute(u,""+p)}}function Pn(l,u,p,x){if(x===null)l.removeAttribute(p);else{switch(typeof x){case"undefined":case"function":case"symbol":case"boolean":l.removeAttribute(p);return}l.setAttributeNS(u,p,""+x)}}function Xr(l){switch(typeof l){case"bigint":case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function ao(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Sh(l,u,p){var x=Object.getOwnPropertyDescriptor(l.constructor.prototype,u);if(!l.hasOwnProperty(u)&&typeof x<"u"&&typeof x.get=="function"&&typeof x.set=="function"){var A=x.get,D=x.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return A.call(this)},set:function(re){p=""+re,D.call(this,re)}}),Object.defineProperty(l,u,{enumerable:x.enumerable}),{getValue:function(){return p},setValue:function(re){p=""+re},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function pc(l){if(!l._valueTracker){var u=ao(l)?"checked":"value";l._valueTracker=Sh(l,u,""+l[u])}}function tl(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var p=u.getValue(),x="";return l&&(x=ao(l)?l.checked?"true":"false":l.value),l=x,l!==p?(u.setValue(l),!0):!1}function Ka(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}var bi=/[\n"\\]/g;function Tr(l){return l.replace(bi,function(u){return"\\"+u.charCodeAt(0).toString(16)+" "})}function Xa(l,u,p,x,A,D,re,je){l.name="",re!=null&&typeof re!="function"&&typeof re!="symbol"&&typeof re!="boolean"?l.type=re:l.removeAttribute("type"),u!=null?re==="number"?(u===0&&l.value===""||l.value!=u)&&(l.value=""+Xr(u)):l.value!==""+Xr(u)&&(l.value=""+Xr(u)):re!=="submit"&&re!=="reset"||l.removeAttribute("value"),u!=null?xc(l,re,Xr(u)):p!=null?xc(l,re,Xr(p)):x!=null&&l.removeAttribute("value"),A==null&&D!=null&&(l.defaultChecked=!!D),A!=null&&(l.checked=A&&typeof A!="function"&&typeof A!="symbol"),je!=null&&typeof je!="function"&&typeof je!="symbol"&&typeof je!="boolean"?l.name=""+Xr(je):l.removeAttribute("name")}function gc(l,u,p,x,A,D,re,je){if(D!=null&&typeof D!="function"&&typeof D!="symbol"&&typeof D!="boolean"&&(l.type=D),u!=null||p!=null){if(!(D!=="submit"&&D!=="reset"||u!=null)){pc(l);return}p=p!=null?""+Xr(p):"",u=u!=null?""+Xr(u):p,je||u===l.value||(l.value=u),l.defaultValue=u}x=x??A,x=typeof x!="function"&&typeof x!="symbol"&&!!x,l.checked=je?l.checked:!!x,l.defaultChecked=!!x,re!=null&&typeof re!="function"&&typeof re!="symbol"&&typeof re!="boolean"&&(l.name=re),pc(l)}function xc(l,u,p){u==="number"&&Ka(l.ownerDocument)===l||l.defaultValue===""+p||(l.defaultValue=""+p)}function vi(l,u,p,x){if(l=l.options,u){u={};for(var A=0;A<p.length;A++)u["$"+p[A]]=!0;for(p=0;p<l.length;p++)A=u.hasOwnProperty("$"+l[p].value),l[p].selected!==A&&(l[p].selected=A),A&&x&&(l[p].defaultSelected=!0)}else{for(p=""+Xr(p),u=null,A=0;A<l.length;A++){if(l[A].value===p){l[A].selected=!0,x&&(l[A].defaultSelected=!0);return}u!==null||l[A].disabled||(u=l[A])}u!==null&&(u.selected=!0)}}function Od(l,u,p){if(u!=null&&(u=""+Xr(u),u!==l.value&&(l.value=u),p==null)){l.defaultValue!==u&&(l.defaultValue=u);return}l.defaultValue=p!=null?""+Xr(p):""}function Ld(l,u,p,x){if(u==null){if(x!=null){if(p!=null)throw Error(n(92));if(se(x)){if(1<x.length)throw Error(n(93));x=x[0]}p=x}p==null&&(p=""),u=p}p=Xr(u),l.defaultValue=p,x=l.textContent,x===p&&x!==""&&x!==null&&(l.value=x),pc(l)}function wi(l,u){if(u){var p=l.firstChild;if(p&&p===l.lastChild&&p.nodeType===3){p.nodeValue=u;return}}l.textContent=u}var Ch=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function sl(l,u,p){var x=u.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?x?l.setProperty(u,""):u==="float"?l.cssFloat="":l[u]="":x?l.setProperty(u,p):typeof p!="number"||p===0||Ch.has(u)?u==="float"?l.cssFloat=p:l[u]=(""+p).trim():l[u]=p+"px"}function _a(l,u,p){if(u!=null&&typeof u!="object")throw Error(n(62));if(l=l.style,p!=null){for(var x in p)!p.hasOwnProperty(x)||u!=null&&u.hasOwnProperty(x)||(x.indexOf("--")===0?l.setProperty(x,""):x==="float"?l.cssFloat="":l[x]="");for(var A in u)x=u[A],u.hasOwnProperty(A)&&p[A]!==x&&sl(l,A,x)}else for(var D in u)u.hasOwnProperty(D)&&sl(l,D,u[D])}function yc(l){if(l.indexOf("-")===-1)return!1;switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var kh=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Ah=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function rl(l){return Ah.test(""+l)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":l}function On(){}var bc=null;function nl(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Za=null,ji=null;function Fd(l){var u=ea(l);if(u&&(l=u.stateNode)){var p=l[fr]||null;e:switch(l=u.stateNode,u.type){case"input":if(Xa(l,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),u=p.name,p.type==="radio"&&u!=null){for(p=l;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+Tr(""+u)+'"][type="radio"]'),u=0;u<p.length;u++){var x=p[u];if(x!==l&&x.form===l.form){var A=x[fr]||null;if(!A)throw Error(n(90));Xa(x,A.value,A.defaultValue,A.defaultValue,A.checked,A.defaultChecked,A.type,A.name)}}for(u=0;u<p.length;u++)x=p[u],x.form===l.form&&tl(x)}break e;case"textarea":Od(l,p.value,p.defaultValue);break e;case"select":u=p.value,u!=null&&vi(l,!!p.multiple,u,!1)}}}var _i=!1;function io(l,u,p){if(_i)return l(u,p);_i=!0;try{var x=l(u);return x}finally{if(_i=!1,(Za!==null||ji!==null)&&(eg(),Za&&(u=Za,l=ji,ji=Za=null,Fd(u),l)))for(u=0;u<l.length;u++)Fd(l[u])}}function Ni(l,u){var p=l.stateNode;if(p===null)return null;var x=p[fr]||null;if(x===null)return null;p=x[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(x=!x.disabled)||(l=l.type,x=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!x;break e;default:l=!1}if(l)return null;if(p&&typeof p!="function")throw Error(n(231,u,typeof p));return p}var na=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),vc=!1;if(na)try{var oo={};Object.defineProperty(oo,"passive",{get:function(){vc=!0}}),window.addEventListener("test",oo,oo),window.removeEventListener("test",oo,oo)}catch{vc=!1}var Ln=null,al=null,il=null;function Lt(){if(il)return il;var l,u=al,p=u.length,x,A="value"in Ln?Ln.value:Ln.textContent,D=A.length;for(l=0;l<p&&u[l]===A[l];l++);var re=p-l;for(x=1;x<=re&&u[p-x]===A[D-x];x++);return il=A.slice(l,1<x?1-x:void 0)}function Fn(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function Na(){return!0}function Bd(){return!1}function Zr(l){function u(p,x,A,D,re){this._reactName=p,this._targetInst=A,this.type=x,this.nativeEvent=D,this.target=re,this.currentTarget=null;for(var je in l)l.hasOwnProperty(je)&&(p=l[je],this[je]=p?p(D):D[je]);return this.isDefaultPrevented=(D.defaultPrevented!=null?D.defaultPrevented:D.returnValue===!1)?Na:Bd,this.isPropagationStopped=Bd,this}return f(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=Na)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=Na)},persist:function(){},isPersistent:Na}),u}var Sa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ae=Zr(Sa),Ae=f({},Sa,{view:0,detail:0}),gt=Zr(Ae),vs,Rr,Qr,Qa=f({},Ae,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Th,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Qr&&(Qr&&l.type==="mousemove"?(vs=l.screenX-Qr.screenX,Rr=l.screenY-Qr.screenY):Rr=vs=0,Qr=l),vs)},movementY:function(l){return"movementY"in l?l.movementY:Rr}}),Ca=Zr(Qa),ol=f({},Qa,{dataTransfer:0}),ll=Zr(ol),Dy=f({},Ae,{relatedTarget:0}),Eh=Zr(Dy),My=f({},Sa,{animationName:0,elapsedTime:0,pseudoElement:0}),Py=Zr(My),Oy=f({},Sa,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),Ly=Zr(Oy),Fy=f({},Sa,{data:0}),fp=Zr(Fy),By={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Iy={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},zy={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Uy(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=zy[l])?!!u[l]:!1}function Th(){return Uy}var $y=f({},Ae,{key:function(l){if(l.key){var u=By[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=Fn(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Iy[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Th,charCode:function(l){return l.type==="keypress"?Fn(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?Fn(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Vr=Zr($y),Rh=f({},Qa,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mp=Zr(Rh),ie=f({},Ae,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Th}),I=Zr(ie),ne=f({},Sa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ne=Zr(ne),Te=f({},Qa,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),Xe=Zr(Te),dt=f({},Sa,{newState:0,oldState:0}),vt=Zr(dt),Wt=[9,13,27,32],as=na&&"CompositionEvent"in window,hs=null;na&&"documentMode"in document&&(hs=document.documentMode);var mr=na&&"TextEvent"in window&&!hs,wc=na&&(!as||hs&&8<hs&&11>=hs),pp=" ",Dh=!1;function gp(l,u){switch(l){case"keyup":return Wt.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Mh(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var cl=!1;function xp(l,u){switch(l){case"compositionend":return Mh(u);case"keypress":return u.which!==32?null:(Dh=!0,pp);case"textInput":return l=u.data,l===pp&&Dh?null:l;default:return null}}function Vy(l,u){if(cl)return l==="compositionend"||!as&&gp(l,u)?(l=Lt(),il=al=Ln=null,cl=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return wc&&u.locale!=="ko"?null:u.data;default:return null}}var Hy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ph(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!Hy[l.type]:u==="textarea"}function Oh(l,u,p,x){Za?ji?ji.push(x):ji=[x]:Za=x,u=og(u,"onChange"),0<u.length&&(p=new ae("onChange","change",null,p,x),l.push({event:p,listeners:u}))}var dl=null,lo=null;function Lh(l){dA(l,0)}function jc(l){var u=yi(l);if(tl(u))return l}function yp(l,u){if(l==="change")return u}var bp=!1;if(na){var Fh;if(na){var Bh="oninput"in document;if(!Bh){var Ih=document.createElement("div");Ih.setAttribute("oninput","return;"),Bh=typeof Ih.oninput=="function"}Fh=Bh}else Fh=!1;bp=Fh&&(!document.documentMode||9<document.documentMode)}function DS(){dl&&(dl.detachEvent("onpropertychange",MS),lo=dl=null)}function MS(l){if(l.propertyName==="value"&&jc(lo)){var u=[];Oh(u,lo,l,nl(l)),io(Lh,u)}}function r7(l,u,p){l==="focusin"?(DS(),dl=u,lo=p,dl.attachEvent("onpropertychange",MS)):l==="focusout"&&DS()}function n7(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return jc(lo)}function a7(l,u){if(l==="click")return jc(u)}function i7(l,u){if(l==="input"||l==="change")return jc(u)}function o7(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var aa=typeof Object.is=="function"?Object.is:o7;function zh(l,u){if(aa(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var p=Object.keys(l),x=Object.keys(u);if(p.length!==x.length)return!1;for(x=0;x<p.length;x++){var A=p[x];if(!G.call(u,A)||!aa(l[A],u[A]))return!1}return!0}function PS(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function OS(l,u){var p=PS(l);l=0;for(var x;p;){if(p.nodeType===3){if(x=l+p.textContent.length,l<=u&&x>=u)return{node:p,offset:u-l};l=x}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=PS(p)}}function LS(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?LS(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function FS(l){l=l!=null&&l.ownerDocument!=null&&l.ownerDocument.defaultView!=null?l.ownerDocument.defaultView:window;for(var u=Ka(l.document);u instanceof l.HTMLIFrameElement;){try{var p=typeof u.contentWindow.location.href=="string"}catch{p=!1}if(p)l=u.contentWindow;else break;u=Ka(l.document)}return u}function qy(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}var l7=na&&"documentMode"in document&&11>=document.documentMode,Id=null,Wy=null,Uh=null,Gy=!1;function BS(l,u,p){var x=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Gy||Id==null||Id!==Ka(x)||(x=Id,"selectionStart"in x&&qy(x)?x={start:x.selectionStart,end:x.selectionEnd}:(x=(x.ownerDocument&&x.ownerDocument.defaultView||window).getSelection(),x={anchorNode:x.anchorNode,anchorOffset:x.anchorOffset,focusNode:x.focusNode,focusOffset:x.focusOffset}),Uh&&zh(Uh,x)||(Uh=x,x=og(Wy,"onSelect"),0<x.length&&(u=new ae("onSelect","select",null,u,p),l.push({event:u,listeners:x}),u.target=Id)))}function _c(l,u){var p={};return p[l.toLowerCase()]=u.toLowerCase(),p["Webkit"+l]="webkit"+u,p["Moz"+l]="moz"+u,p}var zd={animationend:_c("Animation","AnimationEnd"),animationiteration:_c("Animation","AnimationIteration"),animationstart:_c("Animation","AnimationStart"),transitionrun:_c("Transition","TransitionRun"),transitionstart:_c("Transition","TransitionStart"),transitioncancel:_c("Transition","TransitionCancel"),transitionend:_c("Transition","TransitionEnd")},Yy={},IS={};na&&(IS=document.createElement("div").style,"AnimationEvent"in window||(delete zd.animationend.animation,delete zd.animationiteration.animation,delete zd.animationstart.animation),"TransitionEvent"in window||delete zd.transitionend.transition);function Nc(l){if(Yy[l])return Yy[l];if(!zd[l])return l;var u=zd[l],p;for(p in u)if(u.hasOwnProperty(p)&&p in IS)return Yy[l]=u[p];return l}var zS=Nc("animationend"),US=Nc("animationiteration"),$S=Nc("animationstart"),c7=Nc("transitionrun"),d7=Nc("transitionstart"),u7=Nc("transitioncancel"),VS=Nc("transitionend"),HS=new Map,Ky="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ky.push("scrollEnd");function Ja(l,u){HS.set(l,u),ja(u,[l])}var vp=typeof reportError=="function"?reportError:function(l){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var u=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof l=="object"&&l!==null&&typeof l.message=="string"?String(l.message):String(l),error:l});if(!window.dispatchEvent(u))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",l);return}console.error(l)},ka=[],Ud=0,Xy=0;function wp(){for(var l=Ud,u=Xy=Ud=0;u<l;){var p=ka[u];ka[u++]=null;var x=ka[u];ka[u++]=null;var A=ka[u];ka[u++]=null;var D=ka[u];if(ka[u++]=null,x!==null&&A!==null){var re=x.pending;re===null?A.next=A:(A.next=re.next,re.next=A),x.pending=A}D!==0&&qS(p,A,D)}}function jp(l,u,p,x){ka[Ud++]=l,ka[Ud++]=u,ka[Ud++]=p,ka[Ud++]=x,Xy|=x,l.lanes|=x,l=l.alternate,l!==null&&(l.lanes|=x)}function Zy(l,u,p,x){return jp(l,u,p,x),_p(l)}function Sc(l,u){return jp(l,null,null,u),_p(l)}function qS(l,u,p){l.lanes|=p;var x=l.alternate;x!==null&&(x.lanes|=p);for(var A=!1,D=l.return;D!==null;)D.childLanes|=p,x=D.alternate,x!==null&&(x.childLanes|=p),D.tag===22&&(l=D.stateNode,l===null||l._visibility&1||(A=!0)),l=D,D=D.return;return l.tag===3?(D=l.stateNode,A&&u!==null&&(A=31-Ze(p),l=D.hiddenUpdates,x=l[A],x===null?l[A]=[u]:x.push(u),u.lane=p|536870912),D):null}function _p(l){if(50<df)throw df=0,iv=null,Error(n(185));for(var u=l.return;u!==null;)l=u,u=l.return;return l.tag===3?l.stateNode:null}var $d={};function h7(l,u,p,x){this.tag=l,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=x,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ia(l,u,p,x){return new h7(l,u,p,x)}function Qy(l){return l=l.prototype,!(!l||!l.isReactComponent)}function co(l,u){var p=l.alternate;return p===null?(p=ia(l.tag,u,l.key,l.mode),p.elementType=l.elementType,p.type=l.type,p.stateNode=l.stateNode,p.alternate=l,l.alternate=p):(p.pendingProps=u,p.type=l.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=l.flags&65011712,p.childLanes=l.childLanes,p.lanes=l.lanes,p.child=l.child,p.memoizedProps=l.memoizedProps,p.memoizedState=l.memoizedState,p.updateQueue=l.updateQueue,u=l.dependencies,p.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},p.sibling=l.sibling,p.index=l.index,p.ref=l.ref,p.refCleanup=l.refCleanup,p}function WS(l,u){l.flags&=65011714;var p=l.alternate;return p===null?(l.childLanes=0,l.lanes=u,l.child=null,l.subtreeFlags=0,l.memoizedProps=null,l.memoizedState=null,l.updateQueue=null,l.dependencies=null,l.stateNode=null):(l.childLanes=p.childLanes,l.lanes=p.lanes,l.child=p.child,l.subtreeFlags=0,l.deletions=null,l.memoizedProps=p.memoizedProps,l.memoizedState=p.memoizedState,l.updateQueue=p.updateQueue,l.type=p.type,u=p.dependencies,l.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext}),l}function Np(l,u,p,x,A,D){var re=0;if(x=l,typeof l=="function")Qy(l)&&(re=1);else if(typeof l=="string")re=xz(l,p,le.current)?26:l==="html"||l==="head"||l==="body"?27:5;else e:switch(l){case T:return l=ia(31,p,u,A),l.elementType=T,l.lanes=D,l;case w:return Cc(p.children,A,D,u);case j:re=8,A|=24;break;case b:return l=ia(12,p,u,A|2),l.elementType=b,l.lanes=D,l;case C:return l=ia(13,p,u,A),l.elementType=C,l.lanes=D,l;case B:return l=ia(19,p,u,A),l.elementType=B,l.lanes=D,l;default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case k:re=10;break e;case N:re=9;break e;case S:re=11;break e;case E:re=14;break e;case z:re=16,x=null;break e}re=29,p=Error(n(130,l===null?"null":typeof l,"")),x=null}return u=ia(re,p,u,A),u.elementType=l,u.type=x,u.lanes=D,u}function Cc(l,u,p,x){return l=ia(7,l,x,u),l.lanes=p,l}function Jy(l,u,p){return l=ia(6,l,null,u),l.lanes=p,l}function GS(l){var u=ia(18,null,null,0);return u.stateNode=l,u}function eb(l,u,p){return u=ia(4,l.children!==null?l.children:[],l.key,u),u.lanes=p,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}var YS=new WeakMap;function Aa(l,u){if(typeof l=="object"&&l!==null){var p=YS.get(l);return p!==void 0?p:(u={value:l,source:u,stack:P(u)},YS.set(l,u),u)}return{value:l,source:u,stack:P(u)}}var Vd=[],Hd=0,Sp=null,$h=0,Ea=[],Ta=0,ul=null,Si=1,Ci="";function uo(l,u){Vd[Hd++]=$h,Vd[Hd++]=Sp,Sp=l,$h=u}function KS(l,u,p){Ea[Ta++]=Si,Ea[Ta++]=Ci,Ea[Ta++]=ul,ul=l;var x=Si;l=Ci;var A=32-Ze(x)-1;x&=~(1<<A),p+=1;var D=32-Ze(u)+A;if(30<D){var re=A-A%5;D=(x&(1<<re)-1).toString(32),x>>=re,A-=re,Si=1<<32-Ze(u)+A|p<<A|x,Ci=D+l}else Si=1<<D|p<<A|x,Ci=l}function tb(l){l.return!==null&&(uo(l,1),KS(l,1,0))}function sb(l){for(;l===Sp;)Sp=Vd[--Hd],Vd[Hd]=null,$h=Vd[--Hd],Vd[Hd]=null;for(;l===ul;)ul=Ea[--Ta],Ea[Ta]=null,Ci=Ea[--Ta],Ea[Ta]=null,Si=Ea[--Ta],Ea[Ta]=null}function XS(l,u){Ea[Ta++]=Si,Ea[Ta++]=Ci,Ea[Ta++]=ul,Si=u.id,Ci=u.overflow,ul=l}var rn=null,Ks=null,fs=!1,hl=null,Ra=!1,rb=Error(n(519));function fl(l){var u=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vh(Aa(u,l)),rb}function ZS(l){var u=l.stateNode,p=l.type,x=l.memoizedProps;switch(u[jr]=l,u[fr]=x,p){case"dialog":rs("cancel",u),rs("close",u);break;case"iframe":case"object":case"embed":rs("load",u);break;case"video":case"audio":for(p=0;p<hf.length;p++)rs(hf[p],u);break;case"source":rs("error",u);break;case"img":case"image":case"link":rs("error",u),rs("load",u);break;case"details":rs("toggle",u);break;case"input":rs("invalid",u),gc(u,x.value,x.defaultValue,x.checked,x.defaultChecked,x.type,x.name,!0);break;case"select":rs("invalid",u);break;case"textarea":rs("invalid",u),Ld(u,x.value,x.defaultValue,x.children)}p=x.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||u.textContent===""+p||x.suppressHydrationWarning===!0||mA(u.textContent,p)?(x.popover!=null&&(rs("beforetoggle",u),rs("toggle",u)),x.onScroll!=null&&rs("scroll",u),x.onScrollEnd!=null&&rs("scrollend",u),x.onClick!=null&&(u.onclick=On),u=!0):u=!1,u||fl(l,!0)}function QS(l){for(rn=l.return;rn;)switch(rn.tag){case 5:case 31:case 13:Ra=!1;return;case 27:case 3:Ra=!0;return;default:rn=rn.return}}function qd(l){if(l!==rn)return!1;if(!fs)return QS(l),fs=!0,!1;var u=l.tag,p;if((p=u!==3&&u!==27)&&((p=u===5)&&(p=l.type,p=!(p!=="form"&&p!=="button")||wv(l.type,l.memoizedProps)),p=!p),p&&Ks&&fl(l),QS(l),u===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));Ks=_A(l)}else if(u===31){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(317));Ks=_A(l)}else u===27?(u=Ks,kl(l.type)?(l=Cv,Cv=null,Ks=l):Ks=u):Ks=rn?Ma(l.stateNode.nextSibling):null;return!0}function kc(){Ks=rn=null,fs=!1}function nb(){var l=hl;return l!==null&&(Un===null?Un=l:Un.push.apply(Un,l),hl=null),l}function Vh(l){hl===null?hl=[l]:hl.push(l)}var ab=q(null),Ac=null,ho=null;function ml(l,u,p){ce(ab,u._currentValue),u._currentValue=p}function fo(l){l._currentValue=ab.current,Y(ab)}function ib(l,u,p){for(;l!==null;){var x=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,x!==null&&(x.childLanes|=u)):x!==null&&(x.childLanes&u)!==u&&(x.childLanes|=u),l===p)break;l=l.return}}function ob(l,u,p,x){var A=l.child;for(A!==null&&(A.return=l);A!==null;){var D=A.dependencies;if(D!==null){var re=A.child;D=D.firstContext;e:for(;D!==null;){var je=D;D=A;for(var De=0;De<u.length;De++)if(je.context===u[De]){D.lanes|=p,je=D.alternate,je!==null&&(je.lanes|=p),ib(D.return,p,l),x||(re=null);break e}D=je.next}}else if(A.tag===18){if(re=A.return,re===null)throw Error(n(341));re.lanes|=p,D=re.alternate,D!==null&&(D.lanes|=p),ib(re,p,l),re=null}else re=A.child;if(re!==null)re.return=A;else for(re=A;re!==null;){if(re===l){re=null;break}if(A=re.sibling,A!==null){A.return=re.return,re=A;break}re=re.return}A=re}}function Wd(l,u,p,x){l=null;for(var A=u,D=!1;A!==null;){if(!D){if((A.flags&524288)!==0)D=!0;else if((A.flags&262144)!==0)break}if(A.tag===10){var re=A.alternate;if(re===null)throw Error(n(387));if(re=re.memoizedProps,re!==null){var je=A.type;aa(A.pendingProps.value,re.value)||(l!==null?l.push(je):l=[je])}}else if(A===V.current){if(re=A.alternate,re===null)throw Error(n(387));re.memoizedState.memoizedState!==A.memoizedState.memoizedState&&(l!==null?l.push(xf):l=[xf])}A=A.return}l!==null&&ob(u,l,p,x),u.flags|=262144}function Cp(l){for(l=l.firstContext;l!==null;){if(!aa(l.context._currentValue,l.memoizedValue))return!0;l=l.next}return!1}function Ec(l){Ac=l,ho=null,l=l.dependencies,l!==null&&(l.firstContext=null)}function nn(l){return JS(Ac,l)}function kp(l,u){return Ac===null&&Ec(l),JS(l,u)}function JS(l,u){var p=u._currentValue;if(u={context:u,memoizedValue:p,next:null},ho===null){if(l===null)throw Error(n(308));ho=u,l.dependencies={lanes:0,firstContext:u},l.flags|=524288}else ho=ho.next=u;return p}var f7=typeof AbortController<"u"?AbortController:function(){var l=[],u=this.signal={aborted:!1,addEventListener:function(p,x){l.push(x)}};this.abort=function(){u.aborted=!0,l.forEach(function(p){return p()})}},m7=t.unstable_scheduleCallback,p7=t.unstable_NormalPriority,Dr={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function lb(){return{controller:new f7,data:new Map,refCount:0}}function Hh(l){l.refCount--,l.refCount===0&&m7(p7,function(){l.controller.abort()})}var qh=null,cb=0,Gd=0,Yd=null;function g7(l,u){if(qh===null){var p=qh=[];cb=0,Gd=hv(),Yd={status:"pending",value:void 0,then:function(x){p.push(x)}}}return cb++,u.then(eC,eC),u}function eC(){if(--cb===0&&qh!==null){Yd!==null&&(Yd.status="fulfilled");var l=qh;qh=null,Gd=0,Yd=null;for(var u=0;u<l.length;u++)(0,l[u])()}}function x7(l,u){var p=[],x={status:"pending",value:null,reason:null,then:function(A){p.push(A)}};return l.then(function(){x.status="fulfilled",x.value=u;for(var A=0;A<p.length;A++)(0,p[A])(u)},function(A){for(x.status="rejected",x.reason=A,A=0;A<p.length;A++)(0,p[A])(void 0)}),x}var tC=K.S;K.S=function(l,u){Bk=Me(),typeof u=="object"&&u!==null&&typeof u.then=="function"&&g7(l,u),tC!==null&&tC(l,u)};var Tc=q(null);function db(){var l=Tc.current;return l!==null?l:Vs.pooledCache}function Ap(l,u){u===null?ce(Tc,Tc.current):ce(Tc,u.pool)}function sC(){var l=db();return l===null?null:{parent:Dr._currentValue,pool:l}}var Kd=Error(n(460)),ub=Error(n(474)),Ep=Error(n(542)),Tp={then:function(){}};function rC(l){return l=l.status,l==="fulfilled"||l==="rejected"}function nC(l,u,p){switch(p=l[p],p===void 0?l.push(u):p!==u&&(u.then(On,On),u=p),u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,iC(l),l;default:if(typeof u.status=="string")u.then(On,On);else{if(l=Vs,l!==null&&100<l.shellSuspendCounter)throw Error(n(482));l=u,l.status="pending",l.then(function(x){if(u.status==="pending"){var A=u;A.status="fulfilled",A.value=x}},function(x){if(u.status==="pending"){var A=u;A.status="rejected",A.reason=x}})}switch(u.status){case"fulfilled":return u.value;case"rejected":throw l=u.reason,iC(l),l}throw Dc=u,Kd}}function Rc(l){try{var u=l._init;return u(l._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(Dc=p,Kd):p}}var Dc=null;function aC(){if(Dc===null)throw Error(n(459));var l=Dc;return Dc=null,l}function iC(l){if(l===Kd||l===Ep)throw Error(n(483))}var Xd=null,Wh=0;function Rp(l){var u=Wh;return Wh+=1,Xd===null&&(Xd=[]),nC(Xd,l,u)}function Gh(l,u){u=u.props.ref,l.ref=u!==void 0?u:null}function Dp(l,u){throw u.$$typeof===g?Error(n(525)):(l=Object.prototype.toString.call(u),Error(n(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l)))}function oC(l){function u(Le,Pe){if(l){var Fe=Le.deletions;Fe===null?(Le.deletions=[Pe],Le.flags|=16):Fe.push(Pe)}}function p(Le,Pe){if(!l)return null;for(;Pe!==null;)u(Le,Pe),Pe=Pe.sibling;return null}function x(Le){for(var Pe=new Map;Le!==null;)Le.key!==null?Pe.set(Le.key,Le):Pe.set(Le.index,Le),Le=Le.sibling;return Pe}function A(Le,Pe){return Le=co(Le,Pe),Le.index=0,Le.sibling=null,Le}function D(Le,Pe,Fe){return Le.index=Fe,l?(Fe=Le.alternate,Fe!==null?(Fe=Fe.index,Fe<Pe?(Le.flags|=67108866,Pe):Fe):(Le.flags|=67108866,Pe)):(Le.flags|=1048576,Pe)}function re(Le){return l&&Le.alternate===null&&(Le.flags|=67108866),Le}function je(Le,Pe,Fe,Qe){return Pe===null||Pe.tag!==6?(Pe=Jy(Fe,Le.mode,Qe),Pe.return=Le,Pe):(Pe=A(Pe,Fe),Pe.return=Le,Pe)}function De(Le,Pe,Fe,Qe){var Et=Fe.type;return Et===w?Ye(Le,Pe,Fe.props.children,Qe,Fe.key):Pe!==null&&(Pe.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===z&&Rc(Et)===Pe.type)?(Pe=A(Pe,Fe.props),Gh(Pe,Fe),Pe.return=Le,Pe):(Pe=Np(Fe.type,Fe.key,Fe.props,null,Le.mode,Qe),Gh(Pe,Fe),Pe.return=Le,Pe)}function Be(Le,Pe,Fe,Qe){return Pe===null||Pe.tag!==4||Pe.stateNode.containerInfo!==Fe.containerInfo||Pe.stateNode.implementation!==Fe.implementation?(Pe=eb(Fe,Le.mode,Qe),Pe.return=Le,Pe):(Pe=A(Pe,Fe.children||[]),Pe.return=Le,Pe)}function Ye(Le,Pe,Fe,Qe,Et){return Pe===null||Pe.tag!==7?(Pe=Cc(Fe,Le.mode,Qe,Et),Pe.return=Le,Pe):(Pe=A(Pe,Fe),Pe.return=Le,Pe)}function et(Le,Pe,Fe){if(typeof Pe=="string"&&Pe!==""||typeof Pe=="number"||typeof Pe=="bigint")return Pe=Jy(""+Pe,Le.mode,Fe),Pe.return=Le,Pe;if(typeof Pe=="object"&&Pe!==null){switch(Pe.$$typeof){case y:return Fe=Np(Pe.type,Pe.key,Pe.props,null,Le.mode,Fe),Gh(Fe,Pe),Fe.return=Le,Fe;case v:return Pe=eb(Pe,Le.mode,Fe),Pe.return=Le,Pe;case z:return Pe=Rc(Pe),et(Le,Pe,Fe)}if(se(Pe)||L(Pe))return Pe=Cc(Pe,Le.mode,Fe,null),Pe.return=Le,Pe;if(typeof Pe.then=="function")return et(Le,Rp(Pe),Fe);if(Pe.$$typeof===k)return et(Le,kp(Le,Pe),Fe);Dp(Le,Pe)}return null}function Ie(Le,Pe,Fe,Qe){var Et=Pe!==null?Pe.key:null;if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint")return Et!==null?null:je(Le,Pe,""+Fe,Qe);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case y:return Fe.key===Et?De(Le,Pe,Fe,Qe):null;case v:return Fe.key===Et?Be(Le,Pe,Fe,Qe):null;case z:return Fe=Rc(Fe),Ie(Le,Pe,Fe,Qe)}if(se(Fe)||L(Fe))return Et!==null?null:Ye(Le,Pe,Fe,Qe,null);if(typeof Fe.then=="function")return Ie(Le,Pe,Rp(Fe),Qe);if(Fe.$$typeof===k)return Ie(Le,Pe,kp(Le,Fe),Qe);Dp(Le,Fe)}return null}function He(Le,Pe,Fe,Qe,Et){if(typeof Qe=="string"&&Qe!==""||typeof Qe=="number"||typeof Qe=="bigint")return Le=Le.get(Fe)||null,je(Pe,Le,""+Qe,Et);if(typeof Qe=="object"&&Qe!==null){switch(Qe.$$typeof){case y:return Le=Le.get(Qe.key===null?Fe:Qe.key)||null,De(Pe,Le,Qe,Et);case v:return Le=Le.get(Qe.key===null?Fe:Qe.key)||null,Be(Pe,Le,Qe,Et);case z:return Qe=Rc(Qe),He(Le,Pe,Fe,Qe,Et)}if(se(Qe)||L(Qe))return Le=Le.get(Fe)||null,Ye(Pe,Le,Qe,Et,null);if(typeof Qe.then=="function")return He(Le,Pe,Fe,Rp(Qe),Et);if(Qe.$$typeof===k)return He(Le,Pe,Fe,kp(Pe,Qe),Et);Dp(Pe,Qe)}return null}function xt(Le,Pe,Fe,Qe){for(var Et=null,ws=null,jt=Pe,Qt=Pe=0,os=null;jt!==null&&Qt<Fe.length;Qt++){jt.index>Qt?(os=jt,jt=null):os=jt.sibling;var js=Ie(Le,jt,Fe[Qt],Qe);if(js===null){jt===null&&(jt=os);break}l&&jt&&js.alternate===null&&u(Le,jt),Pe=D(js,Pe,Qt),ws===null?Et=js:ws.sibling=js,ws=js,jt=os}if(Qt===Fe.length)return p(Le,jt),fs&&uo(Le,Qt),Et;if(jt===null){for(;Qt<Fe.length;Qt++)jt=et(Le,Fe[Qt],Qe),jt!==null&&(Pe=D(jt,Pe,Qt),ws===null?Et=jt:ws.sibling=jt,ws=jt);return fs&&uo(Le,Qt),Et}for(jt=x(jt);Qt<Fe.length;Qt++)os=He(jt,Le,Qt,Fe[Qt],Qe),os!==null&&(l&&os.alternate!==null&&jt.delete(os.key===null?Qt:os.key),Pe=D(os,Pe,Qt),ws===null?Et=os:ws.sibling=os,ws=os);return l&&jt.forEach(function(Dl){return u(Le,Dl)}),fs&&uo(Le,Qt),Et}function Pt(Le,Pe,Fe,Qe){if(Fe==null)throw Error(n(151));for(var Et=null,ws=null,jt=Pe,Qt=Pe=0,os=null,js=Fe.next();jt!==null&&!js.done;Qt++,js=Fe.next()){jt.index>Qt?(os=jt,jt=null):os=jt.sibling;var Dl=Ie(Le,jt,js.value,Qe);if(Dl===null){jt===null&&(jt=os);break}l&&jt&&Dl.alternate===null&&u(Le,jt),Pe=D(Dl,Pe,Qt),ws===null?Et=Dl:ws.sibling=Dl,ws=Dl,jt=os}if(js.done)return p(Le,jt),fs&&uo(Le,Qt),Et;if(jt===null){for(;!js.done;Qt++,js=Fe.next())js=et(Le,js.value,Qe),js!==null&&(Pe=D(js,Pe,Qt),ws===null?Et=js:ws.sibling=js,ws=js);return fs&&uo(Le,Qt),Et}for(jt=x(jt);!js.done;Qt++,js=Fe.next())js=He(jt,Le,Qt,js.value,Qe),js!==null&&(l&&js.alternate!==null&&jt.delete(js.key===null?Qt:js.key),Pe=D(js,Pe,Qt),ws===null?Et=js:ws.sibling=js,ws=js);return l&&jt.forEach(function(Az){return u(Le,Az)}),fs&&uo(Le,Qt),Et}function Bs(Le,Pe,Fe,Qe){if(typeof Fe=="object"&&Fe!==null&&Fe.type===w&&Fe.key===null&&(Fe=Fe.props.children),typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case y:e:{for(var Et=Fe.key;Pe!==null;){if(Pe.key===Et){if(Et=Fe.type,Et===w){if(Pe.tag===7){p(Le,Pe.sibling),Qe=A(Pe,Fe.props.children),Qe.return=Le,Le=Qe;break e}}else if(Pe.elementType===Et||typeof Et=="object"&&Et!==null&&Et.$$typeof===z&&Rc(Et)===Pe.type){p(Le,Pe.sibling),Qe=A(Pe,Fe.props),Gh(Qe,Fe),Qe.return=Le,Le=Qe;break e}p(Le,Pe);break}else u(Le,Pe);Pe=Pe.sibling}Fe.type===w?(Qe=Cc(Fe.props.children,Le.mode,Qe,Fe.key),Qe.return=Le,Le=Qe):(Qe=Np(Fe.type,Fe.key,Fe.props,null,Le.mode,Qe),Gh(Qe,Fe),Qe.return=Le,Le=Qe)}return re(Le);case v:e:{for(Et=Fe.key;Pe!==null;){if(Pe.key===Et)if(Pe.tag===4&&Pe.stateNode.containerInfo===Fe.containerInfo&&Pe.stateNode.implementation===Fe.implementation){p(Le,Pe.sibling),Qe=A(Pe,Fe.children||[]),Qe.return=Le,Le=Qe;break e}else{p(Le,Pe);break}else u(Le,Pe);Pe=Pe.sibling}Qe=eb(Fe,Le.mode,Qe),Qe.return=Le,Le=Qe}return re(Le);case z:return Fe=Rc(Fe),Bs(Le,Pe,Fe,Qe)}if(se(Fe))return xt(Le,Pe,Fe,Qe);if(L(Fe)){if(Et=L(Fe),typeof Et!="function")throw Error(n(150));return Fe=Et.call(Fe),Pt(Le,Pe,Fe,Qe)}if(typeof Fe.then=="function")return Bs(Le,Pe,Rp(Fe),Qe);if(Fe.$$typeof===k)return Bs(Le,Pe,kp(Le,Fe),Qe);Dp(Le,Fe)}return typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint"?(Fe=""+Fe,Pe!==null&&Pe.tag===6?(p(Le,Pe.sibling),Qe=A(Pe,Fe),Qe.return=Le,Le=Qe):(p(Le,Pe),Qe=Jy(Fe,Le.mode,Qe),Qe.return=Le,Le=Qe),re(Le)):p(Le,Pe)}return function(Le,Pe,Fe,Qe){try{Wh=0;var Et=Bs(Le,Pe,Fe,Qe);return Xd=null,Et}catch(jt){if(jt===Kd||jt===Ep)throw jt;var ws=ia(29,jt,null,Le.mode);return ws.lanes=Qe,ws.return=Le,ws}finally{}}}var Mc=oC(!0),lC=oC(!1),pl=!1;function hb(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function fb(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,callbacks:null})}function gl(l){return{lane:l,tag:0,payload:null,callback:null,next:null}}function xl(l,u,p){var x=l.updateQueue;if(x===null)return null;if(x=x.shared,(ks&2)!==0){var A=x.pending;return A===null?u.next=u:(u.next=A.next,A.next=u),x.pending=u,u=_p(l),qS(l,null,p),u}return jp(l,x,u,p),_p(l)}function Yh(l,u,p){if(u=u.updateQueue,u!==null&&(u=u.shared,(p&4194048)!==0)){var x=u.lanes;x&=l.pendingLanes,p|=x,u.lanes=p,qs(l,p)}}function mb(l,u){var p=l.updateQueue,x=l.alternate;if(x!==null&&(x=x.updateQueue,p===x)){var A=null,D=null;if(p=p.firstBaseUpdate,p!==null){do{var re={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};D===null?A=D=re:D=D.next=re,p=p.next}while(p!==null);D===null?A=D=u:D=D.next=u}else A=D=u;p={baseState:x.baseState,firstBaseUpdate:A,lastBaseUpdate:D,shared:x.shared,callbacks:x.callbacks},l.updateQueue=p;return}l=p.lastBaseUpdate,l===null?p.firstBaseUpdate=u:l.next=u,p.lastBaseUpdate=u}var pb=!1;function Kh(){if(pb){var l=Yd;if(l!==null)throw l}}function Xh(l,u,p,x){pb=!1;var A=l.updateQueue;pl=!1;var D=A.firstBaseUpdate,re=A.lastBaseUpdate,je=A.shared.pending;if(je!==null){A.shared.pending=null;var De=je,Be=De.next;De.next=null,re===null?D=Be:re.next=Be,re=De;var Ye=l.alternate;Ye!==null&&(Ye=Ye.updateQueue,je=Ye.lastBaseUpdate,je!==re&&(je===null?Ye.firstBaseUpdate=Be:je.next=Be,Ye.lastBaseUpdate=De))}if(D!==null){var et=A.baseState;re=0,Ye=Be=De=null,je=D;do{var Ie=je.lane&-536870913,He=Ie!==je.lane;if(He?(is&Ie)===Ie:(x&Ie)===Ie){Ie!==0&&Ie===Gd&&(pb=!0),Ye!==null&&(Ye=Ye.next={lane:0,tag:je.tag,payload:je.payload,callback:null,next:null});e:{var xt=l,Pt=je;Ie=u;var Bs=p;switch(Pt.tag){case 1:if(xt=Pt.payload,typeof xt=="function"){et=xt.call(Bs,et,Ie);break e}et=xt;break e;case 3:xt.flags=xt.flags&-65537|128;case 0:if(xt=Pt.payload,Ie=typeof xt=="function"?xt.call(Bs,et,Ie):xt,Ie==null)break e;et=f({},et,Ie);break e;case 2:pl=!0}}Ie=je.callback,Ie!==null&&(l.flags|=64,He&&(l.flags|=8192),He=A.callbacks,He===null?A.callbacks=[Ie]:He.push(Ie))}else He={lane:Ie,tag:je.tag,payload:je.payload,callback:je.callback,next:null},Ye===null?(Be=Ye=He,De=et):Ye=Ye.next=He,re|=Ie;if(je=je.next,je===null){if(je=A.shared.pending,je===null)break;He=je,je=He.next,He.next=null,A.lastBaseUpdate=He,A.shared.pending=null}}while(!0);Ye===null&&(De=et),A.baseState=De,A.firstBaseUpdate=Be,A.lastBaseUpdate=Ye,D===null&&(A.shared.lanes=0),jl|=re,l.lanes=re,l.memoizedState=et}}function cC(l,u){if(typeof l!="function")throw Error(n(191,l));l.call(u)}function dC(l,u){var p=l.callbacks;if(p!==null)for(l.callbacks=null,l=0;l<p.length;l++)cC(p[l],u)}var Zd=q(null),Mp=q(0);function uC(l,u){l=jo,ce(Mp,l),ce(Zd,u),jo=l|u.baseLanes}function gb(){ce(Mp,jo),ce(Zd,Zd.current)}function xb(){jo=Mp.current,Y(Zd),Y(Mp)}var oa=q(null),Da=null;function yl(l){var u=l.alternate;ce(_r,_r.current&1),ce(oa,l),Da===null&&(u===null||Zd.current!==null||u.memoizedState!==null)&&(Da=l)}function yb(l){ce(_r,_r.current),ce(oa,l),Da===null&&(Da=l)}function hC(l){l.tag===22?(ce(_r,_r.current),ce(oa,l),Da===null&&(Da=l)):bl()}function bl(){ce(_r,_r.current),ce(oa,oa.current)}function la(l){Y(oa),Da===l&&(Da=null),Y(_r)}var _r=q(0);function Pp(l){for(var u=l;u!==null;){if(u.tag===13){var p=u.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||Nv(p)||Sv(p)))return u}else if(u.tag===19&&(u.memoizedProps.revealOrder==="forwards"||u.memoizedProps.revealOrder==="backwards"||u.memoizedProps.revealOrder==="unstable_legacy-backwards"||u.memoizedProps.revealOrder==="together")){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var mo=0,Xt=null,Ls=null,Mr=null,Op=!1,Qd=!1,Pc=!1,Lp=0,Zh=0,Jd=null,y7=0;function pr(){throw Error(n(321))}function bb(l,u){if(u===null)return!1;for(var p=0;p<u.length&&p<l.length;p++)if(!aa(l[p],u[p]))return!1;return!0}function vb(l,u,p,x,A,D){return mo=D,Xt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,K.H=l===null||l.memoizedState===null?KC:Ob,Pc=!1,D=p(x,A),Pc=!1,Qd&&(D=mC(u,p,x,A)),fC(l),D}function fC(l){K.H=ef;var u=Ls!==null&&Ls.next!==null;if(mo=0,Mr=Ls=Xt=null,Op=!1,Zh=0,Jd=null,u)throw Error(n(300));l===null||Pr||(l=l.dependencies,l!==null&&Cp(l)&&(Pr=!0))}function mC(l,u,p,x){Xt=l;var A=0;do{if(Qd&&(Jd=null),Zh=0,Qd=!1,25<=A)throw Error(n(301));if(A+=1,Mr=Ls=null,l.updateQueue!=null){var D=l.updateQueue;D.lastEffect=null,D.events=null,D.stores=null,D.memoCache!=null&&(D.memoCache.index=0)}K.H=XC,D=u(p,x)}while(Qd);return D}function b7(){var l=K.H,u=l.useState()[0];return u=typeof u.then=="function"?Qh(u):u,l=l.useState()[0],(Ls!==null?Ls.memoizedState:null)!==l&&(Xt.flags|=1024),u}function wb(){var l=Lp!==0;return Lp=0,l}function jb(l,u,p){u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~p}function _b(l){if(Op){for(l=l.memoizedState;l!==null;){var u=l.queue;u!==null&&(u.pending=null),l=l.next}Op=!1}mo=0,Mr=Ls=Xt=null,Qd=!1,Zh=Lp=0,Jd=null}function Cn(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Mr===null?Xt.memoizedState=Mr=l:Mr=Mr.next=l,Mr}function Nr(){if(Ls===null){var l=Xt.alternate;l=l!==null?l.memoizedState:null}else l=Ls.next;var u=Mr===null?Xt.memoizedState:Mr.next;if(u!==null)Mr=u,Ls=l;else{if(l===null)throw Xt.alternate===null?Error(n(467)):Error(n(310));Ls=l,l={memoizedState:Ls.memoizedState,baseState:Ls.baseState,baseQueue:Ls.baseQueue,queue:Ls.queue,next:null},Mr===null?Xt.memoizedState=Mr=l:Mr=Mr.next=l}return Mr}function Fp(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qh(l){var u=Zh;return Zh+=1,Jd===null&&(Jd=[]),l=nC(Jd,l,u),u=Xt,(Mr===null?u.memoizedState:Mr.next)===null&&(u=u.alternate,K.H=u===null||u.memoizedState===null?KC:Ob),l}function Bp(l){if(l!==null&&typeof l=="object"){if(typeof l.then=="function")return Qh(l);if(l.$$typeof===k)return nn(l)}throw Error(n(438,String(l)))}function Nb(l){var u=null,p=Xt.updateQueue;if(p!==null&&(u=p.memoCache),u==null){var x=Xt.alternate;x!==null&&(x=x.updateQueue,x!==null&&(x=x.memoCache,x!=null&&(u={data:x.data.map(function(A){return A.slice()}),index:0})))}if(u==null&&(u={data:[],index:0}),p===null&&(p=Fp(),Xt.updateQueue=p),p.memoCache=u,p=u.data[u.index],p===void 0)for(p=u.data[u.index]=Array(l),x=0;x<l;x++)p[x]=W;return u.index++,p}function po(l,u){return typeof u=="function"?u(l):u}function Ip(l){var u=Nr();return Sb(u,Ls,l)}function Sb(l,u,p){var x=l.queue;if(x===null)throw Error(n(311));x.lastRenderedReducer=p;var A=l.baseQueue,D=x.pending;if(D!==null){if(A!==null){var re=A.next;A.next=D.next,D.next=re}u.baseQueue=A=D,x.pending=null}if(D=l.baseState,A===null)l.memoizedState=D;else{u=A.next;var je=re=null,De=null,Be=u,Ye=!1;do{var et=Be.lane&-536870913;if(et!==Be.lane?(is&et)===et:(mo&et)===et){var Ie=Be.revertLane;if(Ie===0)De!==null&&(De=De.next={lane:0,revertLane:0,gesture:null,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null}),et===Gd&&(Ye=!0);else if((mo&Ie)===Ie){Be=Be.next,Ie===Gd&&(Ye=!0);continue}else et={lane:0,revertLane:Be.revertLane,gesture:null,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null},De===null?(je=De=et,re=D):De=De.next=et,Xt.lanes|=Ie,jl|=Ie;et=Be.action,Pc&&p(D,et),D=Be.hasEagerState?Be.eagerState:p(D,et)}else Ie={lane:et,revertLane:Be.revertLane,gesture:Be.gesture,action:Be.action,hasEagerState:Be.hasEagerState,eagerState:Be.eagerState,next:null},De===null?(je=De=Ie,re=D):De=De.next=Ie,Xt.lanes|=et,jl|=et;Be=Be.next}while(Be!==null&&Be!==u);if(De===null?re=D:De.next=je,!aa(D,l.memoizedState)&&(Pr=!0,Ye&&(p=Yd,p!==null)))throw p;l.memoizedState=D,l.baseState=re,l.baseQueue=De,x.lastRenderedState=D}return A===null&&(x.lanes=0),[l.memoizedState,x.dispatch]}function Cb(l){var u=Nr(),p=u.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=l;var x=p.dispatch,A=p.pending,D=u.memoizedState;if(A!==null){p.pending=null;var re=A=A.next;do D=l(D,re.action),re=re.next;while(re!==A);aa(D,u.memoizedState)||(Pr=!0),u.memoizedState=D,u.baseQueue===null&&(u.baseState=D),p.lastRenderedState=D}return[D,x]}function pC(l,u,p){var x=Xt,A=Nr(),D=fs;if(D){if(p===void 0)throw Error(n(407));p=p()}else p=u();var re=!aa((Ls||A).memoizedState,p);if(re&&(A.memoizedState=p,Pr=!0),A=A.queue,Eb(yC.bind(null,x,A,l),[l]),A.getSnapshot!==u||re||Mr!==null&&Mr.memoizedState.tag&1){if(x.flags|=2048,eu(9,{destroy:void 0},xC.bind(null,x,A,p,u),null),Vs===null)throw Error(n(349));D||(mo&127)!==0||gC(x,u,p)}return p}function gC(l,u,p){l.flags|=16384,l={getSnapshot:u,value:p},u=Xt.updateQueue,u===null?(u=Fp(),Xt.updateQueue=u,u.stores=[l]):(p=u.stores,p===null?u.stores=[l]:p.push(l))}function xC(l,u,p,x){u.value=p,u.getSnapshot=x,bC(u)&&vC(l)}function yC(l,u,p){return p(function(){bC(u)&&vC(l)})}function bC(l){var u=l.getSnapshot;l=l.value;try{var p=u();return!aa(l,p)}catch{return!0}}function vC(l){var u=Sc(l,2);u!==null&&$n(u,l,2)}function kb(l){var u=Cn();if(typeof l=="function"){var p=l;if(l=p(),Pc){Ge(!0);try{p()}finally{Ge(!1)}}}return u.memoizedState=u.baseState=l,u.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:l},u}function wC(l,u,p,x){return l.baseState=p,Sb(l,Ls,typeof x=="function"?x:po)}function v7(l,u,p,x,A){if($p(l))throw Error(n(485));if(l=u.action,l!==null){var D={payload:A,action:l,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(re){D.listeners.push(re)}};K.T!==null?p(!0):D.isTransition=!1,x(D),p=u.pending,p===null?(D.next=u.pending=D,jC(u,D)):(D.next=p.next,u.pending=p.next=D)}}function jC(l,u){var p=u.action,x=u.payload,A=l.state;if(u.isTransition){var D=K.T,re={};K.T=re;try{var je=p(A,x),De=K.S;De!==null&&De(re,je),_C(l,u,je)}catch(Be){Ab(l,u,Be)}finally{D!==null&&re.types!==null&&(D.types=re.types),K.T=D}}else try{D=p(A,x),_C(l,u,D)}catch(Be){Ab(l,u,Be)}}function _C(l,u,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(x){NC(l,u,x)},function(x){return Ab(l,u,x)}):NC(l,u,p)}function NC(l,u,p){u.status="fulfilled",u.value=p,SC(u),l.state=p,u=l.pending,u!==null&&(p=u.next,p===u?l.pending=null:(p=p.next,u.next=p,jC(l,p)))}function Ab(l,u,p){var x=l.pending;if(l.pending=null,x!==null){x=x.next;do u.status="rejected",u.reason=p,SC(u),u=u.next;while(u!==x)}l.action=null}function SC(l){l=l.listeners;for(var u=0;u<l.length;u++)(0,l[u])()}function CC(l,u){return u}function kC(l,u){if(fs){var p=Vs.formState;if(p!==null){e:{var x=Xt;if(fs){if(Ks){t:{for(var A=Ks,D=Ra;A.nodeType!==8;){if(!D){A=null;break t}if(A=Ma(A.nextSibling),A===null){A=null;break t}}D=A.data,A=D==="F!"||D==="F"?A:null}if(A){Ks=Ma(A.nextSibling),x=A.data==="F!";break e}}fl(x)}x=!1}x&&(u=p[0])}}return p=Cn(),p.memoizedState=p.baseState=u,x={pending:null,lanes:0,dispatch:null,lastRenderedReducer:CC,lastRenderedState:u},p.queue=x,p=WC.bind(null,Xt,x),x.dispatch=p,x=kb(!1),D=Pb.bind(null,Xt,!1,x.queue),x=Cn(),A={state:u,dispatch:null,action:l,pending:null},x.queue=A,p=v7.bind(null,Xt,A,D,p),A.dispatch=p,x.memoizedState=l,[u,p,!1]}function AC(l){var u=Nr();return EC(u,Ls,l)}function EC(l,u,p){if(u=Sb(l,u,CC)[0],l=Ip(po)[0],typeof u=="object"&&u!==null&&typeof u.then=="function")try{var x=Qh(u)}catch(re){throw re===Kd?Ep:re}else x=u;u=Nr();var A=u.queue,D=A.dispatch;return p!==u.memoizedState&&(Xt.flags|=2048,eu(9,{destroy:void 0},w7.bind(null,A,p),null)),[x,D,l]}function w7(l,u){l.action=u}function TC(l){var u=Nr(),p=Ls;if(p!==null)return EC(u,p,l);Nr(),u=u.memoizedState,p=Nr();var x=p.queue.dispatch;return p.memoizedState=l,[u,x,!1]}function eu(l,u,p,x){return l={tag:l,create:p,deps:x,inst:u,next:null},u=Xt.updateQueue,u===null&&(u=Fp(),Xt.updateQueue=u),p=u.lastEffect,p===null?u.lastEffect=l.next=l:(x=p.next,p.next=l,l.next=x,u.lastEffect=l),l}function RC(){return Nr().memoizedState}function zp(l,u,p,x){var A=Cn();Xt.flags|=l,A.memoizedState=eu(1|u,{destroy:void 0},p,x===void 0?null:x)}function Up(l,u,p,x){var A=Nr();x=x===void 0?null:x;var D=A.memoizedState.inst;Ls!==null&&x!==null&&bb(x,Ls.memoizedState.deps)?A.memoizedState=eu(u,D,p,x):(Xt.flags|=l,A.memoizedState=eu(1|u,D,p,x))}function DC(l,u){zp(8390656,8,l,u)}function Eb(l,u){Up(2048,8,l,u)}function j7(l){Xt.flags|=4;var u=Xt.updateQueue;if(u===null)u=Fp(),Xt.updateQueue=u,u.events=[l];else{var p=u.events;p===null?u.events=[l]:p.push(l)}}function MC(l){var u=Nr().memoizedState;return j7({ref:u,nextImpl:l}),function(){if((ks&2)!==0)throw Error(n(440));return u.impl.apply(void 0,arguments)}}function PC(l,u){return Up(4,2,l,u)}function OC(l,u){return Up(4,4,l,u)}function LC(l,u){if(typeof u=="function"){l=l();var p=u(l);return function(){typeof p=="function"?p():u(null)}}if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function FC(l,u,p){p=p!=null?p.concat([l]):null,Up(4,4,LC.bind(null,u,l),p)}function Tb(){}function BC(l,u){var p=Nr();u=u===void 0?null:u;var x=p.memoizedState;return u!==null&&bb(u,x[1])?x[0]:(p.memoizedState=[l,u],l)}function IC(l,u){var p=Nr();u=u===void 0?null:u;var x=p.memoizedState;if(u!==null&&bb(u,x[1]))return x[0];if(x=l(),Pc){Ge(!0);try{l()}finally{Ge(!1)}}return p.memoizedState=[x,u],x}function Rb(l,u,p){return p===void 0||(mo&1073741824)!==0&&(is&261930)===0?l.memoizedState=u:(l.memoizedState=p,l=zk(),Xt.lanes|=l,jl|=l,p)}function zC(l,u,p,x){return aa(p,u)?p:Zd.current!==null?(l=Rb(l,p,x),aa(l,u)||(Pr=!0),l):(mo&42)===0||(mo&1073741824)!==0&&(is&261930)===0?(Pr=!0,l.memoizedState=p):(l=zk(),Xt.lanes|=l,jl|=l,u)}function UC(l,u,p,x,A){var D=M.p;M.p=D!==0&&8>D?D:8;var re=K.T,je={};K.T=je,Pb(l,!1,u,p);try{var De=A(),Be=K.S;if(Be!==null&&Be(je,De),De!==null&&typeof De=="object"&&typeof De.then=="function"){var Ye=x7(De,x);Jh(l,u,Ye,ua(l))}else Jh(l,u,x,ua(l))}catch(et){Jh(l,u,{then:function(){},status:"rejected",reason:et},ua())}finally{M.p=D,re!==null&&je.types!==null&&(re.types=je.types),K.T=re}}function _7(){}function Db(l,u,p,x){if(l.tag!==5)throw Error(n(476));var A=$C(l).queue;UC(l,A,u,X,p===null?_7:function(){return VC(l),p(x)})}function $C(l){var u=l.memoizedState;if(u!==null)return u;u={memoizedState:X,baseState:X,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:X},next:null};var p={};return u.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:po,lastRenderedState:p},next:null},l.memoizedState=u,l=l.alternate,l!==null&&(l.memoizedState=u),u}function VC(l){var u=$C(l);u.next===null&&(u=l.alternate.memoizedState),Jh(l,u.next.queue,{},ua())}function Mb(){return nn(xf)}function HC(){return Nr().memoizedState}function qC(){return Nr().memoizedState}function N7(l){for(var u=l.return;u!==null;){switch(u.tag){case 24:case 3:var p=ua();l=gl(p);var x=xl(u,l,p);x!==null&&($n(x,u,p),Yh(x,u,p)),u={cache:lb()},l.payload=u;return}u=u.return}}function S7(l,u,p){var x=ua();p={lane:x,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},$p(l)?GC(u,p):(p=Zy(l,u,p,x),p!==null&&($n(p,l,x),YC(p,u,x)))}function WC(l,u,p){var x=ua();Jh(l,u,p,x)}function Jh(l,u,p,x){var A={lane:x,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if($p(l))GC(u,A);else{var D=l.alternate;if(l.lanes===0&&(D===null||D.lanes===0)&&(D=u.lastRenderedReducer,D!==null))try{var re=u.lastRenderedState,je=D(re,p);if(A.hasEagerState=!0,A.eagerState=je,aa(je,re))return jp(l,u,A,0),Vs===null&&wp(),!1}catch{}finally{}if(p=Zy(l,u,A,x),p!==null)return $n(p,l,x),YC(p,u,x),!0}return!1}function Pb(l,u,p,x){if(x={lane:2,revertLane:hv(),gesture:null,action:x,hasEagerState:!1,eagerState:null,next:null},$p(l)){if(u)throw Error(n(479))}else u=Zy(l,p,x,2),u!==null&&$n(u,l,2)}function $p(l){var u=l.alternate;return l===Xt||u!==null&&u===Xt}function GC(l,u){Qd=Op=!0;var p=l.pending;p===null?u.next=u:(u.next=p.next,p.next=u),l.pending=u}function YC(l,u,p){if((p&4194048)!==0){var x=u.lanes;x&=l.pendingLanes,p|=x,u.lanes=p,qs(l,p)}}var ef={readContext:nn,use:Bp,useCallback:pr,useContext:pr,useEffect:pr,useImperativeHandle:pr,useLayoutEffect:pr,useInsertionEffect:pr,useMemo:pr,useReducer:pr,useRef:pr,useState:pr,useDebugValue:pr,useDeferredValue:pr,useTransition:pr,useSyncExternalStore:pr,useId:pr,useHostTransitionStatus:pr,useFormState:pr,useActionState:pr,useOptimistic:pr,useMemoCache:pr,useCacheRefresh:pr};ef.useEffectEvent=pr;var KC={readContext:nn,use:Bp,useCallback:function(l,u){return Cn().memoizedState=[l,u===void 0?null:u],l},useContext:nn,useEffect:DC,useImperativeHandle:function(l,u,p){p=p!=null?p.concat([l]):null,zp(4194308,4,LC.bind(null,u,l),p)},useLayoutEffect:function(l,u){return zp(4194308,4,l,u)},useInsertionEffect:function(l,u){zp(4,2,l,u)},useMemo:function(l,u){var p=Cn();u=u===void 0?null:u;var x=l();if(Pc){Ge(!0);try{l()}finally{Ge(!1)}}return p.memoizedState=[x,u],x},useReducer:function(l,u,p){var x=Cn();if(p!==void 0){var A=p(u);if(Pc){Ge(!0);try{p(u)}finally{Ge(!1)}}}else A=u;return x.memoizedState=x.baseState=A,l={pending:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:A},x.queue=l,l=l.dispatch=S7.bind(null,Xt,l),[x.memoizedState,l]},useRef:function(l){var u=Cn();return l={current:l},u.memoizedState=l},useState:function(l){l=kb(l);var u=l.queue,p=WC.bind(null,Xt,u);return u.dispatch=p,[l.memoizedState,p]},useDebugValue:Tb,useDeferredValue:function(l,u){var p=Cn();return Rb(p,l,u)},useTransition:function(){var l=kb(!1);return l=UC.bind(null,Xt,l.queue,!0,!1),Cn().memoizedState=l,[!1,l]},useSyncExternalStore:function(l,u,p){var x=Xt,A=Cn();if(fs){if(p===void 0)throw Error(n(407));p=p()}else{if(p=u(),Vs===null)throw Error(n(349));(is&127)!==0||gC(x,u,p)}A.memoizedState=p;var D={value:p,getSnapshot:u};return A.queue=D,DC(yC.bind(null,x,D,l),[l]),x.flags|=2048,eu(9,{destroy:void 0},xC.bind(null,x,D,p,u),null),p},useId:function(){var l=Cn(),u=Vs.identifierPrefix;if(fs){var p=Ci,x=Si;p=(x&~(1<<32-Ze(x)-1)).toString(32)+p,u="_"+u+"R_"+p,p=Lp++,0<p&&(u+="H"+p.toString(32)),u+="_"}else p=y7++,u="_"+u+"r_"+p.toString(32)+"_";return l.memoizedState=u},useHostTransitionStatus:Mb,useFormState:kC,useActionState:kC,useOptimistic:function(l){var u=Cn();u.memoizedState=u.baseState=l;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return u.queue=p,u=Pb.bind(null,Xt,!0,p),p.dispatch=u,[l,u]},useMemoCache:Nb,useCacheRefresh:function(){return Cn().memoizedState=N7.bind(null,Xt)},useEffectEvent:function(l){var u=Cn(),p={impl:l};return u.memoizedState=p,function(){if((ks&2)!==0)throw Error(n(440));return p.impl.apply(void 0,arguments)}}},Ob={readContext:nn,use:Bp,useCallback:BC,useContext:nn,useEffect:Eb,useImperativeHandle:FC,useInsertionEffect:PC,useLayoutEffect:OC,useMemo:IC,useReducer:Ip,useRef:RC,useState:function(){return Ip(po)},useDebugValue:Tb,useDeferredValue:function(l,u){var p=Nr();return zC(p,Ls.memoizedState,l,u)},useTransition:function(){var l=Ip(po)[0],u=Nr().memoizedState;return[typeof l=="boolean"?l:Qh(l),u]},useSyncExternalStore:pC,useId:HC,useHostTransitionStatus:Mb,useFormState:AC,useActionState:AC,useOptimistic:function(l,u){var p=Nr();return wC(p,Ls,l,u)},useMemoCache:Nb,useCacheRefresh:qC};Ob.useEffectEvent=MC;var XC={readContext:nn,use:Bp,useCallback:BC,useContext:nn,useEffect:Eb,useImperativeHandle:FC,useInsertionEffect:PC,useLayoutEffect:OC,useMemo:IC,useReducer:Cb,useRef:RC,useState:function(){return Cb(po)},useDebugValue:Tb,useDeferredValue:function(l,u){var p=Nr();return Ls===null?Rb(p,l,u):zC(p,Ls.memoizedState,l,u)},useTransition:function(){var l=Cb(po)[0],u=Nr().memoizedState;return[typeof l=="boolean"?l:Qh(l),u]},useSyncExternalStore:pC,useId:HC,useHostTransitionStatus:Mb,useFormState:TC,useActionState:TC,useOptimistic:function(l,u){var p=Nr();return Ls!==null?wC(p,Ls,l,u):(p.baseState=l,[l,p.queue.dispatch])},useMemoCache:Nb,useCacheRefresh:qC};XC.useEffectEvent=MC;function Lb(l,u,p,x){u=l.memoizedState,p=p(x,u),p=p==null?u:f({},u,p),l.memoizedState=p,l.lanes===0&&(l.updateQueue.baseState=p)}var Fb={enqueueSetState:function(l,u,p){l=l._reactInternals;var x=ua(),A=gl(x);A.payload=u,p!=null&&(A.callback=p),u=xl(l,A,x),u!==null&&($n(u,l,x),Yh(u,l,x))},enqueueReplaceState:function(l,u,p){l=l._reactInternals;var x=ua(),A=gl(x);A.tag=1,A.payload=u,p!=null&&(A.callback=p),u=xl(l,A,x),u!==null&&($n(u,l,x),Yh(u,l,x))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var p=ua(),x=gl(p);x.tag=2,u!=null&&(x.callback=u),u=xl(l,x,p),u!==null&&($n(u,l,p),Yh(u,l,p))}};function ZC(l,u,p,x,A,D,re){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(x,D,re):u.prototype&&u.prototype.isPureReactComponent?!zh(p,x)||!zh(A,D):!0}function QC(l,u,p,x){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(p,x),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(p,x),u.state!==l&&Fb.enqueueReplaceState(u,u.state,null)}function Oc(l,u){var p=u;if("ref"in u){p={};for(var x in u)x!=="ref"&&(p[x]=u[x])}if(l=l.defaultProps){p===u&&(p=f({},p));for(var A in l)p[A]===void 0&&(p[A]=l[A])}return p}function JC(l){vp(l)}function ek(l){console.error(l)}function tk(l){vp(l)}function Vp(l,u){try{var p=l.onUncaughtError;p(u.value,{componentStack:u.stack})}catch(x){setTimeout(function(){throw x})}}function sk(l,u,p){try{var x=l.onCaughtError;x(p.value,{componentStack:p.stack,errorBoundary:u.tag===1?u.stateNode:null})}catch(A){setTimeout(function(){throw A})}}function Bb(l,u,p){return p=gl(p),p.tag=3,p.payload={element:null},p.callback=function(){Vp(l,u)},p}function rk(l){return l=gl(l),l.tag=3,l}function nk(l,u,p,x){var A=p.type.getDerivedStateFromError;if(typeof A=="function"){var D=x.value;l.payload=function(){return A(D)},l.callback=function(){sk(u,p,x)}}var re=p.stateNode;re!==null&&typeof re.componentDidCatch=="function"&&(l.callback=function(){sk(u,p,x),typeof A!="function"&&(_l===null?_l=new Set([this]):_l.add(this));var je=x.stack;this.componentDidCatch(x.value,{componentStack:je!==null?je:""})})}function C7(l,u,p,x,A){if(p.flags|=32768,x!==null&&typeof x=="object"&&typeof x.then=="function"){if(u=p.alternate,u!==null&&Wd(u,p,A,!0),p=oa.current,p!==null){switch(p.tag){case 31:case 13:return Da===null?tg():p.alternate===null&&gr===0&&(gr=3),p.flags&=-257,p.flags|=65536,p.lanes=A,x===Tp?p.flags|=16384:(u=p.updateQueue,u===null?p.updateQueue=new Set([x]):u.add(x),cv(l,x,A)),!1;case 22:return p.flags|=65536,x===Tp?p.flags|=16384:(u=p.updateQueue,u===null?(u={transitions:null,markerInstances:null,retryQueue:new Set([x])},p.updateQueue=u):(p=u.retryQueue,p===null?u.retryQueue=new Set([x]):p.add(x)),cv(l,x,A)),!1}throw Error(n(435,p.tag))}return cv(l,x,A),tg(),!1}if(fs)return u=oa.current,u!==null?((u.flags&65536)===0&&(u.flags|=256),u.flags|=65536,u.lanes=A,x!==rb&&(l=Error(n(422),{cause:x}),Vh(Aa(l,p)))):(x!==rb&&(u=Error(n(423),{cause:x}),Vh(Aa(u,p))),l=l.current.alternate,l.flags|=65536,A&=-A,l.lanes|=A,x=Aa(x,p),A=Bb(l.stateNode,x,A),mb(l,A),gr!==4&&(gr=2)),!1;var D=Error(n(520),{cause:x});if(D=Aa(D,p),cf===null?cf=[D]:cf.push(D),gr!==4&&(gr=2),u===null)return!0;x=Aa(x,p),p=u;do{switch(p.tag){case 3:return p.flags|=65536,l=A&-A,p.lanes|=l,l=Bb(p.stateNode,x,l),mb(p,l),!1;case 1:if(u=p.type,D=p.stateNode,(p.flags&128)===0&&(typeof u.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(_l===null||!_l.has(D))))return p.flags|=65536,A&=-A,p.lanes|=A,A=rk(A),nk(A,l,p,x),mb(p,A),!1}p=p.return}while(p!==null);return!1}var Ib=Error(n(461)),Pr=!1;function an(l,u,p,x){u.child=l===null?lC(u,null,p,x):Mc(u,l.child,p,x)}function ak(l,u,p,x,A){p=p.render;var D=u.ref;if("ref"in x){var re={};for(var je in x)je!=="ref"&&(re[je]=x[je])}else re=x;return Ec(u),x=vb(l,u,p,re,D,A),je=wb(),l!==null&&!Pr?(jb(l,u,A),go(l,u,A)):(fs&&je&&tb(u),u.flags|=1,an(l,u,x,A),u.child)}function ik(l,u,p,x,A){if(l===null){var D=p.type;return typeof D=="function"&&!Qy(D)&&D.defaultProps===void 0&&p.compare===null?(u.tag=15,u.type=D,ok(l,u,D,x,A)):(l=Np(p.type,null,x,u,u.mode,A),l.ref=u.ref,l.return=u,u.child=l)}if(D=l.child,!Gb(l,A)){var re=D.memoizedProps;if(p=p.compare,p=p!==null?p:zh,p(re,x)&&l.ref===u.ref)return go(l,u,A)}return u.flags|=1,l=co(D,x),l.ref=u.ref,l.return=u,u.child=l}function ok(l,u,p,x,A){if(l!==null){var D=l.memoizedProps;if(zh(D,x)&&l.ref===u.ref)if(Pr=!1,u.pendingProps=x=D,Gb(l,A))(l.flags&131072)!==0&&(Pr=!0);else return u.lanes=l.lanes,go(l,u,A)}return zb(l,u,p,x,A)}function lk(l,u,p,x){var A=x.children,D=l!==null?l.memoizedState:null;if(l===null&&u.stateNode===null&&(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),x.mode==="hidden"){if((u.flags&128)!==0){if(D=D!==null?D.baseLanes|p:p,l!==null){for(x=u.child=l.child,A=0;x!==null;)A=A|x.lanes|x.childLanes,x=x.sibling;x=A&~D}else x=0,u.child=null;return ck(l,u,D,p,x)}if((p&536870912)!==0)u.memoizedState={baseLanes:0,cachePool:null},l!==null&&Ap(u,D!==null?D.cachePool:null),D!==null?uC(u,D):gb(),hC(u);else return x=u.lanes=536870912,ck(l,u,D!==null?D.baseLanes|p:p,p,x)}else D!==null?(Ap(u,D.cachePool),uC(u,D),bl(),u.memoizedState=null):(l!==null&&Ap(u,null),gb(),bl());return an(l,u,A,p),u.child}function tf(l,u){return l!==null&&l.tag===22||u.stateNode!==null||(u.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),u.sibling}function ck(l,u,p,x,A){var D=db();return D=D===null?null:{parent:Dr._currentValue,pool:D},u.memoizedState={baseLanes:p,cachePool:D},l!==null&&Ap(u,null),gb(),hC(u),l!==null&&Wd(l,u,x,!0),u.childLanes=A,null}function Hp(l,u){return u=Wp({mode:u.mode,children:u.children},l.mode),u.ref=l.ref,l.child=u,u.return=l,u}function dk(l,u,p){return Mc(u,l.child,null,p),l=Hp(u,u.pendingProps),l.flags|=2,la(u),u.memoizedState=null,l}function k7(l,u,p){var x=u.pendingProps,A=(u.flags&128)!==0;if(u.flags&=-129,l===null){if(fs){if(x.mode==="hidden")return l=Hp(u,x),u.lanes=536870912,tf(null,l);if(yb(u),(l=Ks)?(l=jA(l,Ra),l=l!==null&&l.data==="&"?l:null,l!==null&&(u.memoizedState={dehydrated:l,treeContext:ul!==null?{id:Si,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},p=GS(l),p.return=u,u.child=p,rn=u,Ks=null)):l=null,l===null)throw fl(u);return u.lanes=536870912,null}return Hp(u,x)}var D=l.memoizedState;if(D!==null){var re=D.dehydrated;if(yb(u),A)if(u.flags&256)u.flags&=-257,u=dk(l,u,p);else if(u.memoizedState!==null)u.child=l.child,u.flags|=128,u=null;else throw Error(n(558));else if(Pr||Wd(l,u,p,!1),A=(p&l.childLanes)!==0,Pr||A){if(x=Vs,x!==null&&(re=$r(x,p),re!==0&&re!==D.retryLane))throw D.retryLane=re,Sc(l,re),$n(x,l,re),Ib;tg(),u=dk(l,u,p)}else l=D.treeContext,Ks=Ma(re.nextSibling),rn=u,fs=!0,hl=null,Ra=!1,l!==null&&XS(u,l),u=Hp(u,x),u.flags|=4096;return u}return l=co(l.child,{mode:x.mode,children:x.children}),l.ref=u.ref,u.child=l,l.return=u,l}function qp(l,u){var p=u.ref;if(p===null)l!==null&&l.ref!==null&&(u.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(n(284));(l===null||l.ref!==p)&&(u.flags|=4194816)}}function zb(l,u,p,x,A){return Ec(u),p=vb(l,u,p,x,void 0,A),x=wb(),l!==null&&!Pr?(jb(l,u,A),go(l,u,A)):(fs&&x&&tb(u),u.flags|=1,an(l,u,p,A),u.child)}function uk(l,u,p,x,A,D){return Ec(u),u.updateQueue=null,p=mC(u,x,p,A),fC(l),x=wb(),l!==null&&!Pr?(jb(l,u,D),go(l,u,D)):(fs&&x&&tb(u),u.flags|=1,an(l,u,p,D),u.child)}function hk(l,u,p,x,A){if(Ec(u),u.stateNode===null){var D=$d,re=p.contextType;typeof re=="object"&&re!==null&&(D=nn(re)),D=new p(x,D),u.memoizedState=D.state!==null&&D.state!==void 0?D.state:null,D.updater=Fb,u.stateNode=D,D._reactInternals=u,D=u.stateNode,D.props=x,D.state=u.memoizedState,D.refs={},hb(u),re=p.contextType,D.context=typeof re=="object"&&re!==null?nn(re):$d,D.state=u.memoizedState,re=p.getDerivedStateFromProps,typeof re=="function"&&(Lb(u,p,re,x),D.state=u.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof D.getSnapshotBeforeUpdate=="function"||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(re=D.state,typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount(),re!==D.state&&Fb.enqueueReplaceState(D,D.state,null),Xh(u,x,D,A),Kh(),D.state=u.memoizedState),typeof D.componentDidMount=="function"&&(u.flags|=4194308),x=!0}else if(l===null){D=u.stateNode;var je=u.memoizedProps,De=Oc(p,je);D.props=De;var Be=D.context,Ye=p.contextType;re=$d,typeof Ye=="object"&&Ye!==null&&(re=nn(Ye));var et=p.getDerivedStateFromProps;Ye=typeof et=="function"||typeof D.getSnapshotBeforeUpdate=="function",je=u.pendingProps!==je,Ye||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(je||Be!==re)&&QC(u,D,x,re),pl=!1;var Ie=u.memoizedState;D.state=Ie,Xh(u,x,D,A),Kh(),Be=u.memoizedState,je||Ie!==Be||pl?(typeof et=="function"&&(Lb(u,p,et,x),Be=u.memoizedState),(De=pl||ZC(u,p,De,x,Ie,Be,re))?(Ye||typeof D.UNSAFE_componentWillMount!="function"&&typeof D.componentWillMount!="function"||(typeof D.componentWillMount=="function"&&D.componentWillMount(),typeof D.UNSAFE_componentWillMount=="function"&&D.UNSAFE_componentWillMount()),typeof D.componentDidMount=="function"&&(u.flags|=4194308)):(typeof D.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=x,u.memoizedState=Be),D.props=x,D.state=Be,D.context=re,x=De):(typeof D.componentDidMount=="function"&&(u.flags|=4194308),x=!1)}else{D=u.stateNode,fb(l,u),re=u.memoizedProps,Ye=Oc(p,re),D.props=Ye,et=u.pendingProps,Ie=D.context,Be=p.contextType,De=$d,typeof Be=="object"&&Be!==null&&(De=nn(Be)),je=p.getDerivedStateFromProps,(Be=typeof je=="function"||typeof D.getSnapshotBeforeUpdate=="function")||typeof D.UNSAFE_componentWillReceiveProps!="function"&&typeof D.componentWillReceiveProps!="function"||(re!==et||Ie!==De)&&QC(u,D,x,De),pl=!1,Ie=u.memoizedState,D.state=Ie,Xh(u,x,D,A),Kh();var He=u.memoizedState;re!==et||Ie!==He||pl||l!==null&&l.dependencies!==null&&Cp(l.dependencies)?(typeof je=="function"&&(Lb(u,p,je,x),He=u.memoizedState),(Ye=pl||ZC(u,p,Ye,x,Ie,He,De)||l!==null&&l.dependencies!==null&&Cp(l.dependencies))?(Be||typeof D.UNSAFE_componentWillUpdate!="function"&&typeof D.componentWillUpdate!="function"||(typeof D.componentWillUpdate=="function"&&D.componentWillUpdate(x,He,De),typeof D.UNSAFE_componentWillUpdate=="function"&&D.UNSAFE_componentWillUpdate(x,He,De)),typeof D.componentDidUpdate=="function"&&(u.flags|=4),typeof D.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof D.componentDidUpdate!="function"||re===l.memoizedProps&&Ie===l.memoizedState||(u.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||re===l.memoizedProps&&Ie===l.memoizedState||(u.flags|=1024),u.memoizedProps=x,u.memoizedState=He),D.props=x,D.state=He,D.context=De,x=Ye):(typeof D.componentDidUpdate!="function"||re===l.memoizedProps&&Ie===l.memoizedState||(u.flags|=4),typeof D.getSnapshotBeforeUpdate!="function"||re===l.memoizedProps&&Ie===l.memoizedState||(u.flags|=1024),x=!1)}return D=x,qp(l,u),x=(u.flags&128)!==0,D||x?(D=u.stateNode,p=x&&typeof p.getDerivedStateFromError!="function"?null:D.render(),u.flags|=1,l!==null&&x?(u.child=Mc(u,l.child,null,A),u.child=Mc(u,null,p,A)):an(l,u,p,A),u.memoizedState=D.state,l=u.child):l=go(l,u,A),l}function fk(l,u,p,x){return kc(),u.flags|=256,an(l,u,p,x),u.child}var Ub={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function $b(l){return{baseLanes:l,cachePool:sC()}}function Vb(l,u,p){return l=l!==null?l.childLanes&~p:0,u&&(l|=da),l}function mk(l,u,p){var x=u.pendingProps,A=!1,D=(u.flags&128)!==0,re;if((re=D)||(re=l!==null&&l.memoizedState===null?!1:(_r.current&2)!==0),re&&(A=!0,u.flags&=-129),re=(u.flags&32)!==0,u.flags&=-33,l===null){if(fs){if(A?yl(u):bl(),(l=Ks)?(l=jA(l,Ra),l=l!==null&&l.data!=="&"?l:null,l!==null&&(u.memoizedState={dehydrated:l,treeContext:ul!==null?{id:Si,overflow:Ci}:null,retryLane:536870912,hydrationErrors:null},p=GS(l),p.return=u,u.child=p,rn=u,Ks=null)):l=null,l===null)throw fl(u);return Sv(l)?u.lanes=32:u.lanes=536870912,null}var je=x.children;return x=x.fallback,A?(bl(),A=u.mode,je=Wp({mode:"hidden",children:je},A),x=Cc(x,A,p,null),je.return=u,x.return=u,je.sibling=x,u.child=je,x=u.child,x.memoizedState=$b(p),x.childLanes=Vb(l,re,p),u.memoizedState=Ub,tf(null,x)):(yl(u),Hb(u,je))}var De=l.memoizedState;if(De!==null&&(je=De.dehydrated,je!==null)){if(D)u.flags&256?(yl(u),u.flags&=-257,u=qb(l,u,p)):u.memoizedState!==null?(bl(),u.child=l.child,u.flags|=128,u=null):(bl(),je=x.fallback,A=u.mode,x=Wp({mode:"visible",children:x.children},A),je=Cc(je,A,p,null),je.flags|=2,x.return=u,je.return=u,x.sibling=je,u.child=x,Mc(u,l.child,null,p),x=u.child,x.memoizedState=$b(p),x.childLanes=Vb(l,re,p),u.memoizedState=Ub,u=tf(null,x));else if(yl(u),Sv(je)){if(re=je.nextSibling&&je.nextSibling.dataset,re)var Be=re.dgst;re=Be,x=Error(n(419)),x.stack="",x.digest=re,Vh({value:x,source:null,stack:null}),u=qb(l,u,p)}else if(Pr||Wd(l,u,p,!1),re=(p&l.childLanes)!==0,Pr||re){if(re=Vs,re!==null&&(x=$r(re,p),x!==0&&x!==De.retryLane))throw De.retryLane=x,Sc(l,x),$n(re,l,x),Ib;Nv(je)||tg(),u=qb(l,u,p)}else Nv(je)?(u.flags|=192,u.child=l.child,u=null):(l=De.treeContext,Ks=Ma(je.nextSibling),rn=u,fs=!0,hl=null,Ra=!1,l!==null&&XS(u,l),u=Hb(u,x.children),u.flags|=4096);return u}return A?(bl(),je=x.fallback,A=u.mode,De=l.child,Be=De.sibling,x=co(De,{mode:"hidden",children:x.children}),x.subtreeFlags=De.subtreeFlags&65011712,Be!==null?je=co(Be,je):(je=Cc(je,A,p,null),je.flags|=2),je.return=u,x.return=u,x.sibling=je,u.child=x,tf(null,x),x=u.child,je=l.child.memoizedState,je===null?je=$b(p):(A=je.cachePool,A!==null?(De=Dr._currentValue,A=A.parent!==De?{parent:De,pool:De}:A):A=sC(),je={baseLanes:je.baseLanes|p,cachePool:A}),x.memoizedState=je,x.childLanes=Vb(l,re,p),u.memoizedState=Ub,tf(l.child,x)):(yl(u),p=l.child,l=p.sibling,p=co(p,{mode:"visible",children:x.children}),p.return=u,p.sibling=null,l!==null&&(re=u.deletions,re===null?(u.deletions=[l],u.flags|=16):re.push(l)),u.child=p,u.memoizedState=null,p)}function Hb(l,u){return u=Wp({mode:"visible",children:u},l.mode),u.return=l,l.child=u}function Wp(l,u){return l=ia(22,l,null,u),l.lanes=0,l}function qb(l,u,p){return Mc(u,l.child,null,p),l=Hb(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function pk(l,u,p){l.lanes|=u;var x=l.alternate;x!==null&&(x.lanes|=u),ib(l.return,u,p)}function Wb(l,u,p,x,A,D){var re=l.memoizedState;re===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:x,tail:p,tailMode:A,treeForkCount:D}:(re.isBackwards=u,re.rendering=null,re.renderingStartTime=0,re.last=x,re.tail=p,re.tailMode=A,re.treeForkCount=D)}function gk(l,u,p){var x=u.pendingProps,A=x.revealOrder,D=x.tail;x=x.children;var re=_r.current,je=(re&2)!==0;if(je?(re=re&1|2,u.flags|=128):re&=1,ce(_r,re),an(l,u,x,p),x=fs?$h:0,!je&&l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&pk(l,p,u);else if(l.tag===19)pk(l,p,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}switch(A){case"forwards":for(p=u.child,A=null;p!==null;)l=p.alternate,l!==null&&Pp(l)===null&&(A=p),p=p.sibling;p=A,p===null?(A=u.child,u.child=null):(A=p.sibling,p.sibling=null),Wb(u,!1,A,p,D,x);break;case"backwards":case"unstable_legacy-backwards":for(p=null,A=u.child,u.child=null;A!==null;){if(l=A.alternate,l!==null&&Pp(l)===null){u.child=A;break}l=A.sibling,A.sibling=p,p=A,A=l}Wb(u,!0,p,null,D,x);break;case"together":Wb(u,!1,null,null,void 0,x);break;default:u.memoizedState=null}return u.child}function go(l,u,p){if(l!==null&&(u.dependencies=l.dependencies),jl|=u.lanes,(p&u.childLanes)===0)if(l!==null){if(Wd(l,u,p,!1),(p&u.childLanes)===0)return null}else return null;if(l!==null&&u.child!==l.child)throw Error(n(153));if(u.child!==null){for(l=u.child,p=co(l,l.pendingProps),u.child=p,p.return=u;l.sibling!==null;)l=l.sibling,p=p.sibling=co(l,l.pendingProps),p.return=u;p.sibling=null}return u.child}function Gb(l,u){return(l.lanes&u)!==0?!0:(l=l.dependencies,!!(l!==null&&Cp(l)))}function A7(l,u,p){switch(u.tag){case 3:H(u,u.stateNode.containerInfo),ml(u,Dr,l.memoizedState.cache),kc();break;case 27:case 5:Q(u);break;case 4:H(u,u.stateNode.containerInfo);break;case 10:ml(u,u.type,u.memoizedProps.value);break;case 31:if(u.memoizedState!==null)return u.flags|=128,yb(u),null;break;case 13:var x=u.memoizedState;if(x!==null)return x.dehydrated!==null?(yl(u),u.flags|=128,null):(p&u.child.childLanes)!==0?mk(l,u,p):(yl(u),l=go(l,u,p),l!==null?l.sibling:null);yl(u);break;case 19:var A=(l.flags&128)!==0;if(x=(p&u.childLanes)!==0,x||(Wd(l,u,p,!1),x=(p&u.childLanes)!==0),A){if(x)return gk(l,u,p);u.flags|=128}if(A=u.memoizedState,A!==null&&(A.rendering=null,A.tail=null,A.lastEffect=null),ce(_r,_r.current),x)break;return null;case 22:return u.lanes=0,lk(l,u,p,u.pendingProps);case 24:ml(u,Dr,l.memoizedState.cache)}return go(l,u,p)}function xk(l,u,p){if(l!==null)if(l.memoizedProps!==u.pendingProps)Pr=!0;else{if(!Gb(l,p)&&(u.flags&128)===0)return Pr=!1,A7(l,u,p);Pr=(l.flags&131072)!==0}else Pr=!1,fs&&(u.flags&1048576)!==0&&KS(u,$h,u.index);switch(u.lanes=0,u.tag){case 16:e:{var x=u.pendingProps;if(l=Rc(u.elementType),u.type=l,typeof l=="function")Qy(l)?(x=Oc(l,x),u.tag=1,u=hk(null,u,l,x,p)):(u.tag=0,u=zb(null,u,l,x,p));else{if(l!=null){var A=l.$$typeof;if(A===S){u.tag=11,u=ak(null,u,l,x,p);break e}else if(A===E){u.tag=14,u=ik(null,u,l,x,p);break e}}throw u=O(l)||l,Error(n(306,u,""))}}return u;case 0:return zb(l,u,u.type,u.pendingProps,p);case 1:return x=u.type,A=Oc(x,u.pendingProps),hk(l,u,x,A,p);case 3:e:{if(H(u,u.stateNode.containerInfo),l===null)throw Error(n(387));x=u.pendingProps;var D=u.memoizedState;A=D.element,fb(l,u),Xh(u,x,null,p);var re=u.memoizedState;if(x=re.cache,ml(u,Dr,x),x!==D.cache&&ob(u,[Dr],p,!0),Kh(),x=re.element,D.isDehydrated)if(D={element:x,isDehydrated:!1,cache:re.cache},u.updateQueue.baseState=D,u.memoizedState=D,u.flags&256){u=fk(l,u,x,p);break e}else if(x!==A){A=Aa(Error(n(424)),u),Vh(A),u=fk(l,u,x,p);break e}else{switch(l=u.stateNode.containerInfo,l.nodeType){case 9:l=l.body;break;default:l=l.nodeName==="HTML"?l.ownerDocument.body:l}for(Ks=Ma(l.firstChild),rn=u,fs=!0,hl=null,Ra=!0,p=lC(u,null,x,p),u.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(kc(),x===A){u=go(l,u,p);break e}an(l,u,x,p)}u=u.child}return u;case 26:return qp(l,u),l===null?(p=AA(u.type,null,u.pendingProps,null))?u.memoizedState=p:fs||(p=u.type,l=u.pendingProps,x=lg(ge.current).createElement(p),x[jr]=u,x[fr]=l,on(x,p,l),Os(x),u.stateNode=x):u.memoizedState=AA(u.type,l.memoizedProps,u.pendingProps,l.memoizedState),null;case 27:return Q(u),l===null&&fs&&(x=u.stateNode=SA(u.type,u.pendingProps,ge.current),rn=u,Ra=!0,A=Ks,kl(u.type)?(Cv=A,Ks=Ma(x.firstChild)):Ks=A),an(l,u,u.pendingProps.children,p),qp(l,u),l===null&&(u.flags|=4194304),u.child;case 5:return l===null&&fs&&((A=x=Ks)&&(x=nz(x,u.type,u.pendingProps,Ra),x!==null?(u.stateNode=x,rn=u,Ks=Ma(x.firstChild),Ra=!1,A=!0):A=!1),A||fl(u)),Q(u),A=u.type,D=u.pendingProps,re=l!==null?l.memoizedProps:null,x=D.children,wv(A,D)?x=null:re!==null&&wv(A,re)&&(u.flags|=32),u.memoizedState!==null&&(A=vb(l,u,b7,null,null,p),xf._currentValue=A),qp(l,u),an(l,u,x,p),u.child;case 6:return l===null&&fs&&((l=p=Ks)&&(p=az(p,u.pendingProps,Ra),p!==null?(u.stateNode=p,rn=u,Ks=null,l=!0):l=!1),l||fl(u)),null;case 13:return mk(l,u,p);case 4:return H(u,u.stateNode.containerInfo),x=u.pendingProps,l===null?u.child=Mc(u,null,x,p):an(l,u,x,p),u.child;case 11:return ak(l,u,u.type,u.pendingProps,p);case 7:return an(l,u,u.pendingProps,p),u.child;case 8:return an(l,u,u.pendingProps.children,p),u.child;case 12:return an(l,u,u.pendingProps.children,p),u.child;case 10:return x=u.pendingProps,ml(u,u.type,x.value),an(l,u,x.children,p),u.child;case 9:return A=u.type._context,x=u.pendingProps.children,Ec(u),A=nn(A),x=x(A),u.flags|=1,an(l,u,x,p),u.child;case 14:return ik(l,u,u.type,u.pendingProps,p);case 15:return ok(l,u,u.type,u.pendingProps,p);case 19:return gk(l,u,p);case 31:return k7(l,u,p);case 22:return lk(l,u,p,u.pendingProps);case 24:return Ec(u),x=nn(Dr),l===null?(A=db(),A===null&&(A=Vs,D=lb(),A.pooledCache=D,D.refCount++,D!==null&&(A.pooledCacheLanes|=p),A=D),u.memoizedState={parent:x,cache:A},hb(u),ml(u,Dr,A)):((l.lanes&p)!==0&&(fb(l,u),Xh(u,null,null,p),Kh()),A=l.memoizedState,D=u.memoizedState,A.parent!==x?(A={parent:x,cache:x},u.memoizedState=A,u.lanes===0&&(u.memoizedState=u.updateQueue.baseState=A),ml(u,Dr,x)):(x=D.cache,ml(u,Dr,x),x!==A.cache&&ob(u,[Dr],p,!0))),an(l,u,u.pendingProps.children,p),u.child;case 29:throw u.pendingProps}throw Error(n(156,u.tag))}function xo(l){l.flags|=4}function Yb(l,u,p,x,A){if((u=(l.mode&32)!==0)&&(u=!1),u){if(l.flags|=16777216,(A&335544128)===A)if(l.stateNode.complete)l.flags|=8192;else if(Hk())l.flags|=8192;else throw Dc=Tp,ub}else l.flags&=-16777217}function yk(l,u){if(u.type!=="stylesheet"||(u.state.loading&4)!==0)l.flags&=-16777217;else if(l.flags|=16777216,!MA(u))if(Hk())l.flags|=8192;else throw Dc=Tp,ub}function Gp(l,u){u!==null&&(l.flags|=4),l.flags&16384&&(u=l.tag!==22?Js():536870912,l.lanes|=u,nu|=u)}function sf(l,u){if(!fs)switch(l.tailMode){case"hidden":u=l.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?l.tail=null:p.sibling=null;break;case"collapsed":p=l.tail;for(var x=null;p!==null;)p.alternate!==null&&(x=p),p=p.sibling;x===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:x.sibling=null}}function Xs(l){var u=l.alternate!==null&&l.alternate.child===l.child,p=0,x=0;if(u)for(var A=l.child;A!==null;)p|=A.lanes|A.childLanes,x|=A.subtreeFlags&65011712,x|=A.flags&65011712,A.return=l,A=A.sibling;else for(A=l.child;A!==null;)p|=A.lanes|A.childLanes,x|=A.subtreeFlags,x|=A.flags,A.return=l,A=A.sibling;return l.subtreeFlags|=x,l.childLanes=p,u}function E7(l,u,p){var x=u.pendingProps;switch(sb(u),u.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xs(u),null;case 1:return Xs(u),null;case 3:return p=u.stateNode,x=null,l!==null&&(x=l.memoizedState.cache),u.memoizedState.cache!==x&&(u.flags|=2048),fo(Dr),me(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(l===null||l.child===null)&&(qd(u)?xo(u):l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,nb())),Xs(u),null;case 26:var A=u.type,D=u.memoizedState;return l===null?(xo(u),D!==null?(Xs(u),yk(u,D)):(Xs(u),Yb(u,A,null,x,p))):D?D!==l.memoizedState?(xo(u),Xs(u),yk(u,D)):(Xs(u),u.flags&=-16777217):(l=l.memoizedProps,l!==x&&xo(u),Xs(u),Yb(u,A,l,x,p)),null;case 27:if(te(u),p=ge.current,A=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==x&&xo(u);else{if(!x){if(u.stateNode===null)throw Error(n(166));return Xs(u),null}l=le.current,qd(u)?ZS(u):(l=SA(A,x,p),u.stateNode=l,xo(u))}return Xs(u),null;case 5:if(te(u),A=u.type,l!==null&&u.stateNode!=null)l.memoizedProps!==x&&xo(u);else{if(!x){if(u.stateNode===null)throw Error(n(166));return Xs(u),null}if(D=le.current,qd(u))ZS(u);else{var re=lg(ge.current);switch(D){case 1:D=re.createElementNS("http://www.w3.org/2000/svg",A);break;case 2:D=re.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;default:switch(A){case"svg":D=re.createElementNS("http://www.w3.org/2000/svg",A);break;case"math":D=re.createElementNS("http://www.w3.org/1998/Math/MathML",A);break;case"script":D=re.createElement("div"),D.innerHTML="<script><\/script>",D=D.removeChild(D.firstChild);break;case"select":D=typeof x.is=="string"?re.createElement("select",{is:x.is}):re.createElement("select"),x.multiple?D.multiple=!0:x.size&&(D.size=x.size);break;default:D=typeof x.is=="string"?re.createElement(A,{is:x.is}):re.createElement(A)}}D[jr]=u,D[fr]=x;e:for(re=u.child;re!==null;){if(re.tag===5||re.tag===6)D.appendChild(re.stateNode);else if(re.tag!==4&&re.tag!==27&&re.child!==null){re.child.return=re,re=re.child;continue}if(re===u)break e;for(;re.sibling===null;){if(re.return===null||re.return===u)break e;re=re.return}re.sibling.return=re.return,re=re.sibling}u.stateNode=D;e:switch(on(D,A,x),A){case"button":case"input":case"select":case"textarea":x=!!x.autoFocus;break e;case"img":x=!0;break e;default:x=!1}x&&xo(u)}}return Xs(u),Yb(u,u.type,l===null?null:l.memoizedProps,u.pendingProps,p),null;case 6:if(l&&u.stateNode!=null)l.memoizedProps!==x&&xo(u);else{if(typeof x!="string"&&u.stateNode===null)throw Error(n(166));if(l=ge.current,qd(u)){if(l=u.stateNode,p=u.memoizedProps,x=null,A=rn,A!==null)switch(A.tag){case 27:case 5:x=A.memoizedProps}l[jr]=u,l=!!(l.nodeValue===p||x!==null&&x.suppressHydrationWarning===!0||mA(l.nodeValue,p)),l||fl(u,!0)}else l=lg(l).createTextNode(x),l[jr]=u,u.stateNode=l}return Xs(u),null;case 31:if(p=u.memoizedState,l===null||l.memoizedState!==null){if(x=qd(u),p!==null){if(l===null){if(!x)throw Error(n(318));if(l=u.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(n(557));l[jr]=u}else kc(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Xs(u),l=!1}else p=nb(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=p),l=!0;if(!l)return u.flags&256?(la(u),u):(la(u),null);if((u.flags&128)!==0)throw Error(n(558))}return Xs(u),null;case 13:if(x=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(A=qd(u),x!==null&&x.dehydrated!==null){if(l===null){if(!A)throw Error(n(318));if(A=u.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(n(317));A[jr]=u}else kc(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;Xs(u),A=!1}else A=nb(),l!==null&&l.memoizedState!==null&&(l.memoizedState.hydrationErrors=A),A=!0;if(!A)return u.flags&256?(la(u),u):(la(u),null)}return la(u),(u.flags&128)!==0?(u.lanes=p,u):(p=x!==null,l=l!==null&&l.memoizedState!==null,p&&(x=u.child,A=null,x.alternate!==null&&x.alternate.memoizedState!==null&&x.alternate.memoizedState.cachePool!==null&&(A=x.alternate.memoizedState.cachePool.pool),D=null,x.memoizedState!==null&&x.memoizedState.cachePool!==null&&(D=x.memoizedState.cachePool.pool),D!==A&&(x.flags|=2048)),p!==l&&p&&(u.child.flags|=8192),Gp(u,u.updateQueue),Xs(u),null);case 4:return me(),l===null&&gv(u.stateNode.containerInfo),Xs(u),null;case 10:return fo(u.type),Xs(u),null;case 19:if(Y(_r),x=u.memoizedState,x===null)return Xs(u),null;if(A=(u.flags&128)!==0,D=x.rendering,D===null)if(A)sf(x,!1);else{if(gr!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(D=Pp(l),D!==null){for(u.flags|=128,sf(x,!1),l=D.updateQueue,u.updateQueue=l,Gp(u,l),u.subtreeFlags=0,l=p,p=u.child;p!==null;)WS(p,l),p=p.sibling;return ce(_r,_r.current&1|2),fs&&uo(u,x.treeForkCount),u.child}l=l.sibling}x.tail!==null&&Me()>Qp&&(u.flags|=128,A=!0,sf(x,!1),u.lanes=4194304)}else{if(!A)if(l=Pp(D),l!==null){if(u.flags|=128,A=!0,l=l.updateQueue,u.updateQueue=l,Gp(u,l),sf(x,!0),x.tail===null&&x.tailMode==="hidden"&&!D.alternate&&!fs)return Xs(u),null}else 2*Me()-x.renderingStartTime>Qp&&p!==536870912&&(u.flags|=128,A=!0,sf(x,!1),u.lanes=4194304);x.isBackwards?(D.sibling=u.child,u.child=D):(l=x.last,l!==null?l.sibling=D:u.child=D,x.last=D)}return x.tail!==null?(l=x.tail,x.rendering=l,x.tail=l.sibling,x.renderingStartTime=Me(),l.sibling=null,p=_r.current,ce(_r,A?p&1|2:p&1),fs&&uo(u,x.treeForkCount),l):(Xs(u),null);case 22:case 23:return la(u),xb(),x=u.memoizedState!==null,l!==null?l.memoizedState!==null!==x&&(u.flags|=8192):x&&(u.flags|=8192),x?(p&536870912)!==0&&(u.flags&128)===0&&(Xs(u),u.subtreeFlags&6&&(u.flags|=8192)):Xs(u),p=u.updateQueue,p!==null&&Gp(u,p.retryQueue),p=null,l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),x=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(x=u.memoizedState.cachePool.pool),x!==p&&(u.flags|=2048),l!==null&&Y(Tc),null;case 24:return p=null,l!==null&&(p=l.memoizedState.cache),u.memoizedState.cache!==p&&(u.flags|=2048),fo(Dr),Xs(u),null;case 25:return null;case 30:return null}throw Error(n(156,u.tag))}function T7(l,u){switch(sb(u),u.tag){case 1:return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return fo(Dr),me(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 26:case 27:case 5:return te(u),null;case 31:if(u.memoizedState!==null){if(la(u),u.alternate===null)throw Error(n(340));kc()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 13:if(la(u),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(n(340));kc()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return Y(_r),null;case 4:return me(),null;case 10:return fo(u.type),null;case 22:case 23:return la(u),xb(),l!==null&&Y(Tc),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 24:return fo(Dr),null;case 25:return null;default:return null}}function bk(l,u){switch(sb(u),u.tag){case 3:fo(Dr),me();break;case 26:case 27:case 5:te(u);break;case 4:me();break;case 31:u.memoizedState!==null&&la(u);break;case 13:la(u);break;case 19:Y(_r);break;case 10:fo(u.type);break;case 22:case 23:la(u),xb(),l!==null&&Y(Tc);break;case 24:fo(Dr)}}function rf(l,u){try{var p=u.updateQueue,x=p!==null?p.lastEffect:null;if(x!==null){var A=x.next;p=A;do{if((p.tag&l)===l){x=void 0;var D=p.create,re=p.inst;x=D(),re.destroy=x}p=p.next}while(p!==A)}}catch(je){Rs(u,u.return,je)}}function vl(l,u,p){try{var x=u.updateQueue,A=x!==null?x.lastEffect:null;if(A!==null){var D=A.next;x=D;do{if((x.tag&l)===l){var re=x.inst,je=re.destroy;if(je!==void 0){re.destroy=void 0,A=u;var De=p,Be=je;try{Be()}catch(Ye){Rs(A,De,Ye)}}}x=x.next}while(x!==D)}}catch(Ye){Rs(u,u.return,Ye)}}function vk(l){var u=l.updateQueue;if(u!==null){var p=l.stateNode;try{dC(u,p)}catch(x){Rs(l,l.return,x)}}}function wk(l,u,p){p.props=Oc(l.type,l.memoizedProps),p.state=l.memoizedState;try{p.componentWillUnmount()}catch(x){Rs(l,u,x)}}function nf(l,u){try{var p=l.ref;if(p!==null){switch(l.tag){case 26:case 27:case 5:var x=l.stateNode;break;case 30:x=l.stateNode;break;default:x=l.stateNode}typeof p=="function"?l.refCleanup=p(x):p.current=x}}catch(A){Rs(l,u,A)}}function ki(l,u){var p=l.ref,x=l.refCleanup;if(p!==null)if(typeof x=="function")try{x()}catch(A){Rs(l,u,A)}finally{l.refCleanup=null,l=l.alternate,l!=null&&(l.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(A){Rs(l,u,A)}else p.current=null}function jk(l){var u=l.type,p=l.memoizedProps,x=l.stateNode;try{e:switch(u){case"button":case"input":case"select":case"textarea":p.autoFocus&&x.focus();break e;case"img":p.src?x.src=p.src:p.srcSet&&(x.srcset=p.srcSet)}}catch(A){Rs(l,l.return,A)}}function Kb(l,u,p){try{var x=l.stateNode;Q7(x,l.type,p,u),x[fr]=u}catch(A){Rs(l,l.return,A)}}function _k(l){return l.tag===5||l.tag===3||l.tag===26||l.tag===27&&kl(l.type)||l.tag===4}function Xb(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||_k(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.tag===27&&kl(l.type)||l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function Zb(l,u,p){var x=l.tag;if(x===5||x===6)l=l.stateNode,u?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(l,u):(u=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,u.appendChild(l),p=p._reactRootContainer,p!=null||u.onclick!==null||(u.onclick=On));else if(x!==4&&(x===27&&kl(l.type)&&(p=l.stateNode,u=null),l=l.child,l!==null))for(Zb(l,u,p),l=l.sibling;l!==null;)Zb(l,u,p),l=l.sibling}function Yp(l,u,p){var x=l.tag;if(x===5||x===6)l=l.stateNode,u?p.insertBefore(l,u):p.appendChild(l);else if(x!==4&&(x===27&&kl(l.type)&&(p=l.stateNode),l=l.child,l!==null))for(Yp(l,u,p),l=l.sibling;l!==null;)Yp(l,u,p),l=l.sibling}function Nk(l){var u=l.stateNode,p=l.memoizedProps;try{for(var x=l.type,A=u.attributes;A.length;)u.removeAttributeNode(A[0]);on(u,x,p),u[jr]=l,u[fr]=p}catch(D){Rs(l,l.return,D)}}var yo=!1,Or=!1,Qb=!1,Sk=typeof WeakSet=="function"?WeakSet:Set,Jr=null;function R7(l,u){if(l=l.containerInfo,bv=pg,l=FS(l),qy(l)){if("selectionStart"in l)var p={start:l.selectionStart,end:l.selectionEnd};else e:{p=(p=l.ownerDocument)&&p.defaultView||window;var x=p.getSelection&&p.getSelection();if(x&&x.rangeCount!==0){p=x.anchorNode;var A=x.anchorOffset,D=x.focusNode;x=x.focusOffset;try{p.nodeType,D.nodeType}catch{p=null;break e}var re=0,je=-1,De=-1,Be=0,Ye=0,et=l,Ie=null;t:for(;;){for(var He;et!==p||A!==0&&et.nodeType!==3||(je=re+A),et!==D||x!==0&&et.nodeType!==3||(De=re+x),et.nodeType===3&&(re+=et.nodeValue.length),(He=et.firstChild)!==null;)Ie=et,et=He;for(;;){if(et===l)break t;if(Ie===p&&++Be===A&&(je=re),Ie===D&&++Ye===x&&(De=re),(He=et.nextSibling)!==null)break;et=Ie,Ie=et.parentNode}et=He}p=je===-1||De===-1?null:{start:je,end:De}}else p=null}p=p||{start:0,end:0}}else p=null;for(vv={focusedElem:l,selectionRange:p},pg=!1,Jr=u;Jr!==null;)if(u=Jr,l=u.child,(u.subtreeFlags&1028)!==0&&l!==null)l.return=u,Jr=l;else for(;Jr!==null;){switch(u=Jr,D=u.alternate,l=u.flags,u.tag){case 0:if((l&4)!==0&&(l=u.updateQueue,l=l!==null?l.events:null,l!==null))for(p=0;p<l.length;p++)A=l[p],A.ref.impl=A.nextImpl;break;case 11:case 15:break;case 1:if((l&1024)!==0&&D!==null){l=void 0,p=u,A=D.memoizedProps,D=D.memoizedState,x=p.stateNode;try{var xt=Oc(p.type,A);l=x.getSnapshotBeforeUpdate(xt,D),x.__reactInternalSnapshotBeforeUpdate=l}catch(Pt){Rs(p,p.return,Pt)}}break;case 3:if((l&1024)!==0){if(l=u.stateNode.containerInfo,p=l.nodeType,p===9)_v(l);else if(p===1)switch(l.nodeName){case"HEAD":case"HTML":case"BODY":_v(l);break;default:l.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((l&1024)!==0)throw Error(n(163))}if(l=u.sibling,l!==null){l.return=u.return,Jr=l;break}Jr=u.return}}function Ck(l,u,p){var x=p.flags;switch(p.tag){case 0:case 11:case 15:vo(l,p),x&4&&rf(5,p);break;case 1:if(vo(l,p),x&4)if(l=p.stateNode,u===null)try{l.componentDidMount()}catch(re){Rs(p,p.return,re)}else{var A=Oc(p.type,u.memoizedProps);u=u.memoizedState;try{l.componentDidUpdate(A,u,l.__reactInternalSnapshotBeforeUpdate)}catch(re){Rs(p,p.return,re)}}x&64&&vk(p),x&512&&nf(p,p.return);break;case 3:if(vo(l,p),x&64&&(l=p.updateQueue,l!==null)){if(u=null,p.child!==null)switch(p.child.tag){case 27:case 5:u=p.child.stateNode;break;case 1:u=p.child.stateNode}try{dC(l,u)}catch(re){Rs(p,p.return,re)}}break;case 27:u===null&&x&4&&Nk(p);case 26:case 5:vo(l,p),u===null&&x&4&&jk(p),x&512&&nf(p,p.return);break;case 12:vo(l,p);break;case 31:vo(l,p),x&4&&Ek(l,p);break;case 13:vo(l,p),x&4&&Tk(l,p),x&64&&(l=p.memoizedState,l!==null&&(l=l.dehydrated,l!==null&&(p=z7.bind(null,p),iz(l,p))));break;case 22:if(x=p.memoizedState!==null||yo,!x){u=u!==null&&u.memoizedState!==null||Or,A=yo;var D=Or;yo=x,(Or=u)&&!D?wo(l,p,(p.subtreeFlags&8772)!==0):vo(l,p),yo=A,Or=D}break;case 30:break;default:vo(l,p)}}function kk(l){var u=l.alternate;u!==null&&(l.alternate=null,kk(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&fc(u)),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}var er=null,Bn=!1;function bo(l,u,p){for(p=p.child;p!==null;)Ak(l,u,p),p=p.sibling}function Ak(l,u,p){if(ds&&typeof ds.onCommitFiberUnmount=="function")try{ds.onCommitFiberUnmount(kt,p)}catch{}switch(p.tag){case 26:Or||ki(p,u),bo(l,u,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Or||ki(p,u);var x=er,A=Bn;kl(p.type)&&(er=p.stateNode,Bn=!1),bo(l,u,p),mf(p.stateNode),er=x,Bn=A;break;case 5:Or||ki(p,u);case 6:if(x=er,A=Bn,er=null,bo(l,u,p),er=x,Bn=A,er!==null)if(Bn)try{(er.nodeType===9?er.body:er.nodeName==="HTML"?er.ownerDocument.body:er).removeChild(p.stateNode)}catch(D){Rs(p,u,D)}else try{er.removeChild(p.stateNode)}catch(D){Rs(p,u,D)}break;case 18:er!==null&&(Bn?(l=er,vA(l.nodeType===9?l.body:l.nodeName==="HTML"?l.ownerDocument.body:l,p.stateNode),hu(l)):vA(er,p.stateNode));break;case 4:x=er,A=Bn,er=p.stateNode.containerInfo,Bn=!0,bo(l,u,p),er=x,Bn=A;break;case 0:case 11:case 14:case 15:vl(2,p,u),Or||vl(4,p,u),bo(l,u,p);break;case 1:Or||(ki(p,u),x=p.stateNode,typeof x.componentWillUnmount=="function"&&wk(p,u,x)),bo(l,u,p);break;case 21:bo(l,u,p);break;case 22:Or=(x=Or)||p.memoizedState!==null,bo(l,u,p),Or=x;break;default:bo(l,u,p)}}function Ek(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null))){l=l.dehydrated;try{hu(l)}catch(p){Rs(u,u.return,p)}}}function Tk(l,u){if(u.memoizedState===null&&(l=u.alternate,l!==null&&(l=l.memoizedState,l!==null&&(l=l.dehydrated,l!==null))))try{hu(l)}catch(p){Rs(u,u.return,p)}}function D7(l){switch(l.tag){case 31:case 13:case 19:var u=l.stateNode;return u===null&&(u=l.stateNode=new Sk),u;case 22:return l=l.stateNode,u=l._retryCache,u===null&&(u=l._retryCache=new Sk),u;default:throw Error(n(435,l.tag))}}function Kp(l,u){var p=D7(l);u.forEach(function(x){if(!p.has(x)){p.add(x);var A=U7.bind(null,l,x);x.then(A,A)}})}function In(l,u){var p=u.deletions;if(p!==null)for(var x=0;x<p.length;x++){var A=p[x],D=l,re=u,je=re;e:for(;je!==null;){switch(je.tag){case 27:if(kl(je.type)){er=je.stateNode,Bn=!1;break e}break;case 5:er=je.stateNode,Bn=!1;break e;case 3:case 4:er=je.stateNode.containerInfo,Bn=!0;break e}je=je.return}if(er===null)throw Error(n(160));Ak(D,re,A),er=null,Bn=!1,D=A.alternate,D!==null&&(D.return=null),A.return=null}if(u.subtreeFlags&13886)for(u=u.child;u!==null;)Rk(u,l),u=u.sibling}var ei=null;function Rk(l,u){var p=l.alternate,x=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:In(u,l),zn(l),x&4&&(vl(3,l,l.return),rf(3,l),vl(5,l,l.return));break;case 1:In(u,l),zn(l),x&512&&(Or||p===null||ki(p,p.return)),x&64&&yo&&(l=l.updateQueue,l!==null&&(x=l.callbacks,x!==null&&(p=l.shared.hiddenCallbacks,l.shared.hiddenCallbacks=p===null?x:p.concat(x))));break;case 26:var A=ei;if(In(u,l),zn(l),x&512&&(Or||p===null||ki(p,p.return)),x&4){var D=p!==null?p.memoizedState:null;if(x=l.memoizedState,p===null)if(x===null)if(l.stateNode===null){e:{x=l.type,p=l.memoizedProps,A=A.ownerDocument||A;t:switch(x){case"title":D=A.getElementsByTagName("title")[0],(!D||D[Ya]||D[jr]||D.namespaceURI==="http://www.w3.org/2000/svg"||D.hasAttribute("itemprop"))&&(D=A.createElement(x),A.head.insertBefore(D,A.querySelector("head > title"))),on(D,x,p),D[jr]=l,Os(D),x=D;break e;case"link":var re=RA("link","href",A).get(x+(p.href||""));if(re){for(var je=0;je<re.length;je++)if(D=re[je],D.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&D.getAttribute("rel")===(p.rel==null?null:p.rel)&&D.getAttribute("title")===(p.title==null?null:p.title)&&D.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){re.splice(je,1);break t}}D=A.createElement(x),on(D,x,p),A.head.appendChild(D);break;case"meta":if(re=RA("meta","content",A).get(x+(p.content||""))){for(je=0;je<re.length;je++)if(D=re[je],D.getAttribute("content")===(p.content==null?null:""+p.content)&&D.getAttribute("name")===(p.name==null?null:p.name)&&D.getAttribute("property")===(p.property==null?null:p.property)&&D.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&D.getAttribute("charset")===(p.charSet==null?null:p.charSet)){re.splice(je,1);break t}}D=A.createElement(x),on(D,x,p),A.head.appendChild(D);break;default:throw Error(n(468,x))}D[jr]=l,Os(D),x=D}l.stateNode=x}else DA(A,l.type,l.stateNode);else l.stateNode=TA(A,x,l.memoizedProps);else D!==x?(D===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):D.count--,x===null?DA(A,l.type,l.stateNode):TA(A,x,l.memoizedProps)):x===null&&l.stateNode!==null&&Kb(l,l.memoizedProps,p.memoizedProps)}break;case 27:In(u,l),zn(l),x&512&&(Or||p===null||ki(p,p.return)),p!==null&&x&4&&Kb(l,l.memoizedProps,p.memoizedProps);break;case 5:if(In(u,l),zn(l),x&512&&(Or||p===null||ki(p,p.return)),l.flags&32){A=l.stateNode;try{wi(A,"")}catch(xt){Rs(l,l.return,xt)}}x&4&&l.stateNode!=null&&(A=l.memoizedProps,Kb(l,A,p!==null?p.memoizedProps:A)),x&1024&&(Qb=!0);break;case 6:if(In(u,l),zn(l),x&4){if(l.stateNode===null)throw Error(n(162));x=l.memoizedProps,p=l.stateNode;try{p.nodeValue=x}catch(xt){Rs(l,l.return,xt)}}break;case 3:if(ug=null,A=ei,ei=cg(u.containerInfo),In(u,l),ei=A,zn(l),x&4&&p!==null&&p.memoizedState.isDehydrated)try{hu(u.containerInfo)}catch(xt){Rs(l,l.return,xt)}Qb&&(Qb=!1,Dk(l));break;case 4:x=ei,ei=cg(l.stateNode.containerInfo),In(u,l),zn(l),ei=x;break;case 12:In(u,l),zn(l);break;case 31:In(u,l),zn(l),x&4&&(x=l.updateQueue,x!==null&&(l.updateQueue=null,Kp(l,x)));break;case 13:In(u,l),zn(l),l.child.flags&8192&&l.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(Zp=Me()),x&4&&(x=l.updateQueue,x!==null&&(l.updateQueue=null,Kp(l,x)));break;case 22:A=l.memoizedState!==null;var De=p!==null&&p.memoizedState!==null,Be=yo,Ye=Or;if(yo=Be||A,Or=Ye||De,In(u,l),Or=Ye,yo=Be,zn(l),x&8192)e:for(u=l.stateNode,u._visibility=A?u._visibility&-2:u._visibility|1,A&&(p===null||De||yo||Or||Lc(l)),p=null,u=l;;){if(u.tag===5||u.tag===26){if(p===null){De=p=u;try{if(D=De.stateNode,A)re=D.style,typeof re.setProperty=="function"?re.setProperty("display","none","important"):re.display="none";else{je=De.stateNode;var et=De.memoizedProps.style,Ie=et!=null&&et.hasOwnProperty("display")?et.display:null;je.style.display=Ie==null||typeof Ie=="boolean"?"":(""+Ie).trim()}}catch(xt){Rs(De,De.return,xt)}}}else if(u.tag===6){if(p===null){De=u;try{De.stateNode.nodeValue=A?"":De.memoizedProps}catch(xt){Rs(De,De.return,xt)}}}else if(u.tag===18){if(p===null){De=u;try{var He=De.stateNode;A?wA(He,!0):wA(De.stateNode,!1)}catch(xt){Rs(De,De.return,xt)}}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===l)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break e;for(;u.sibling===null;){if(u.return===null||u.return===l)break e;p===u&&(p=null),u=u.return}p===u&&(p=null),u.sibling.return=u.return,u=u.sibling}x&4&&(x=l.updateQueue,x!==null&&(p=x.retryQueue,p!==null&&(x.retryQueue=null,Kp(l,p))));break;case 19:In(u,l),zn(l),x&4&&(x=l.updateQueue,x!==null&&(l.updateQueue=null,Kp(l,x)));break;case 30:break;case 21:break;default:In(u,l),zn(l)}}function zn(l){var u=l.flags;if(u&2){try{for(var p,x=l.return;x!==null;){if(_k(x)){p=x;break}x=x.return}if(p==null)throw Error(n(160));switch(p.tag){case 27:var A=p.stateNode,D=Xb(l);Yp(l,D,A);break;case 5:var re=p.stateNode;p.flags&32&&(wi(re,""),p.flags&=-33);var je=Xb(l);Yp(l,je,re);break;case 3:case 4:var De=p.stateNode.containerInfo,Be=Xb(l);Zb(l,Be,De);break;default:throw Error(n(161))}}catch(Ye){Rs(l,l.return,Ye)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function Dk(l){if(l.subtreeFlags&1024)for(l=l.child;l!==null;){var u=l;Dk(u),u.tag===5&&u.flags&1024&&u.stateNode.reset(),l=l.sibling}}function vo(l,u){if(u.subtreeFlags&8772)for(u=u.child;u!==null;)Ck(l,u.alternate,u),u=u.sibling}function Lc(l){for(l=l.child;l!==null;){var u=l;switch(u.tag){case 0:case 11:case 14:case 15:vl(4,u,u.return),Lc(u);break;case 1:ki(u,u.return);var p=u.stateNode;typeof p.componentWillUnmount=="function"&&wk(u,u.return,p),Lc(u);break;case 27:mf(u.stateNode);case 26:case 5:ki(u,u.return),Lc(u);break;case 22:u.memoizedState===null&&Lc(u);break;case 30:Lc(u);break;default:Lc(u)}l=l.sibling}}function wo(l,u,p){for(p=p&&(u.subtreeFlags&8772)!==0,u=u.child;u!==null;){var x=u.alternate,A=l,D=u,re=D.flags;switch(D.tag){case 0:case 11:case 15:wo(A,D,p),rf(4,D);break;case 1:if(wo(A,D,p),x=D,A=x.stateNode,typeof A.componentDidMount=="function")try{A.componentDidMount()}catch(Be){Rs(x,x.return,Be)}if(x=D,A=x.updateQueue,A!==null){var je=x.stateNode;try{var De=A.shared.hiddenCallbacks;if(De!==null)for(A.shared.hiddenCallbacks=null,A=0;A<De.length;A++)cC(De[A],je)}catch(Be){Rs(x,x.return,Be)}}p&&re&64&&vk(D),nf(D,D.return);break;case 27:Nk(D);case 26:case 5:wo(A,D,p),p&&x===null&&re&4&&jk(D),nf(D,D.return);break;case 12:wo(A,D,p);break;case 31:wo(A,D,p),p&&re&4&&Ek(A,D);break;case 13:wo(A,D,p),p&&re&4&&Tk(A,D);break;case 22:D.memoizedState===null&&wo(A,D,p),nf(D,D.return);break;case 30:break;default:wo(A,D,p)}u=u.sibling}}function Jb(l,u){var p=null;l!==null&&l.memoizedState!==null&&l.memoizedState.cachePool!==null&&(p=l.memoizedState.cachePool.pool),l=null,u.memoizedState!==null&&u.memoizedState.cachePool!==null&&(l=u.memoizedState.cachePool.pool),l!==p&&(l!=null&&l.refCount++,p!=null&&Hh(p))}function ev(l,u){l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&Hh(l))}function ti(l,u,p,x){if(u.subtreeFlags&10256)for(u=u.child;u!==null;)Mk(l,u,p,x),u=u.sibling}function Mk(l,u,p,x){var A=u.flags;switch(u.tag){case 0:case 11:case 15:ti(l,u,p,x),A&2048&&rf(9,u);break;case 1:ti(l,u,p,x);break;case 3:ti(l,u,p,x),A&2048&&(l=null,u.alternate!==null&&(l=u.alternate.memoizedState.cache),u=u.memoizedState.cache,u!==l&&(u.refCount++,l!=null&&Hh(l)));break;case 12:if(A&2048){ti(l,u,p,x),l=u.stateNode;try{var D=u.memoizedProps,re=D.id,je=D.onPostCommit;typeof je=="function"&&je(re,u.alternate===null?"mount":"update",l.passiveEffectDuration,-0)}catch(De){Rs(u,u.return,De)}}else ti(l,u,p,x);break;case 31:ti(l,u,p,x);break;case 13:ti(l,u,p,x);break;case 23:break;case 22:D=u.stateNode,re=u.alternate,u.memoizedState!==null?D._visibility&2?ti(l,u,p,x):af(l,u):D._visibility&2?ti(l,u,p,x):(D._visibility|=2,tu(l,u,p,x,(u.subtreeFlags&10256)!==0||!1)),A&2048&&Jb(re,u);break;case 24:ti(l,u,p,x),A&2048&&ev(u.alternate,u);break;default:ti(l,u,p,x)}}function tu(l,u,p,x,A){for(A=A&&((u.subtreeFlags&10256)!==0||!1),u=u.child;u!==null;){var D=l,re=u,je=p,De=x,Be=re.flags;switch(re.tag){case 0:case 11:case 15:tu(D,re,je,De,A),rf(8,re);break;case 23:break;case 22:var Ye=re.stateNode;re.memoizedState!==null?Ye._visibility&2?tu(D,re,je,De,A):af(D,re):(Ye._visibility|=2,tu(D,re,je,De,A)),A&&Be&2048&&Jb(re.alternate,re);break;case 24:tu(D,re,je,De,A),A&&Be&2048&&ev(re.alternate,re);break;default:tu(D,re,je,De,A)}u=u.sibling}}function af(l,u){if(u.subtreeFlags&10256)for(u=u.child;u!==null;){var p=l,x=u,A=x.flags;switch(x.tag){case 22:af(p,x),A&2048&&Jb(x.alternate,x);break;case 24:af(p,x),A&2048&&ev(x.alternate,x);break;default:af(p,x)}u=u.sibling}}var of=8192;function su(l,u,p){if(l.subtreeFlags&of)for(l=l.child;l!==null;)Pk(l,u,p),l=l.sibling}function Pk(l,u,p){switch(l.tag){case 26:su(l,u,p),l.flags&of&&l.memoizedState!==null&&yz(p,ei,l.memoizedState,l.memoizedProps);break;case 5:su(l,u,p);break;case 3:case 4:var x=ei;ei=cg(l.stateNode.containerInfo),su(l,u,p),ei=x;break;case 22:l.memoizedState===null&&(x=l.alternate,x!==null&&x.memoizedState!==null?(x=of,of=16777216,su(l,u,p),of=x):su(l,u,p));break;default:su(l,u,p)}}function Ok(l){var u=l.alternate;if(u!==null&&(l=u.child,l!==null)){u.child=null;do u=l.sibling,l.sibling=null,l=u;while(l!==null)}}function lf(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var x=u[p];Jr=x,Fk(x,l)}Ok(l)}if(l.subtreeFlags&10256)for(l=l.child;l!==null;)Lk(l),l=l.sibling}function Lk(l){switch(l.tag){case 0:case 11:case 15:lf(l),l.flags&2048&&vl(9,l,l.return);break;case 3:lf(l);break;case 12:lf(l);break;case 22:var u=l.stateNode;l.memoizedState!==null&&u._visibility&2&&(l.return===null||l.return.tag!==13)?(u._visibility&=-3,Xp(l)):lf(l);break;default:lf(l)}}function Xp(l){var u=l.deletions;if((l.flags&16)!==0){if(u!==null)for(var p=0;p<u.length;p++){var x=u[p];Jr=x,Fk(x,l)}Ok(l)}for(l=l.child;l!==null;){switch(u=l,u.tag){case 0:case 11:case 15:vl(8,u,u.return),Xp(u);break;case 22:p=u.stateNode,p._visibility&2&&(p._visibility&=-3,Xp(u));break;default:Xp(u)}l=l.sibling}}function Fk(l,u){for(;Jr!==null;){var p=Jr;switch(p.tag){case 0:case 11:case 15:vl(8,p,u);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var x=p.memoizedState.cachePool.pool;x!=null&&x.refCount++}break;case 24:Hh(p.memoizedState.cache)}if(x=p.child,x!==null)x.return=p,Jr=x;else e:for(p=l;Jr!==null;){x=Jr;var A=x.sibling,D=x.return;if(kk(x),x===p){Jr=null;break e}if(A!==null){A.return=D,Jr=A;break e}Jr=D}}}var M7={getCacheForType:function(l){var u=nn(Dr),p=u.data.get(l);return p===void 0&&(p=l(),u.data.set(l,p)),p},cacheSignal:function(){return nn(Dr).controller.signal}},P7=typeof WeakMap=="function"?WeakMap:Map,ks=0,Vs=null,ss=null,is=0,Ts=0,ca=null,wl=!1,ru=!1,tv=!1,jo=0,gr=0,jl=0,Fc=0,sv=0,da=0,nu=0,cf=null,Un=null,rv=!1,Zp=0,Bk=0,Qp=1/0,Jp=null,_l=null,Hr=0,Nl=null,au=null,_o=0,nv=0,av=null,Ik=null,df=0,iv=null;function ua(){return(ks&2)!==0&&is!==0?is&-is:K.T!==null?hv():gi()}function zk(){if(da===0)if((is&536870912)===0||fs){var l=jn;jn<<=1,(jn&3932160)===0&&(jn=262144),da=l}else da=536870912;return l=oa.current,l!==null&&(l.flags|=32),da}function $n(l,u,p){(l===Vs&&(Ts===2||Ts===9)||l.cancelPendingCommit!==null)&&(iu(l,0),Sl(l,is,da,!1)),ot(l,p),((ks&2)===0||l!==Vs)&&(l===Vs&&((ks&2)===0&&(Fc|=p),gr===4&&Sl(l,is,da,!1)),Ai(l))}function Uk(l,u,p){if((ks&6)!==0)throw Error(n(327));var x=!p&&(u&127)===0&&(u&l.expiredLanes)===0||ye(l,u),A=x?F7(l,u):lv(l,u,!0),D=x;do{if(A===0){ru&&!x&&Sl(l,u,0,!1);break}else{if(p=l.current.alternate,D&&!O7(p)){A=lv(l,u,!1),D=!1;continue}if(A===2){if(D=u,l.errorRecoveryDisabledLanes&D)var re=0;else re=l.pendingLanes&-536870913,re=re!==0?re:re&536870912?536870912:0;if(re!==0){u=re;e:{var je=l;A=cf;var De=je.current.memoizedState.isDehydrated;if(De&&(iu(je,re).flags|=256),re=lv(je,re,!1),re!==2){if(tv&&!De){je.errorRecoveryDisabledLanes|=D,Fc|=D,A=4;break e}D=Un,Un=A,D!==null&&(Un===null?Un=D:Un.push.apply(Un,D))}A=re}if(D=!1,A!==2)continue}}if(A===1){iu(l,0),Sl(l,u,0,!0);break}e:{switch(x=l,D=A,D){case 0:case 1:throw Error(n(345));case 4:if((u&4194048)!==u)break;case 6:Sl(x,u,da,!wl);break e;case 2:Un=null;break;case 3:case 5:break;default:throw Error(n(329))}if((u&62914560)===u&&(A=Zp+300-Me(),10<A)){if(Sl(x,u,da,!wl),Ot(x,0,!0)!==0)break e;_o=u,x.timeoutHandle=yA($k.bind(null,x,p,Un,Jp,rv,u,da,Fc,nu,wl,D,"Throttled",-0,0),A);break e}$k(x,p,Un,Jp,rv,u,da,Fc,nu,wl,D,null,-0,0)}}break}while(!0);Ai(l)}function $k(l,u,p,x,A,D,re,je,De,Be,Ye,et,Ie,He){if(l.timeoutHandle=-1,et=u.subtreeFlags,et&8192||(et&16785408)===16785408){et={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:On},Pk(u,D,et);var xt=(D&62914560)===D?Zp-Me():(D&4194048)===D?Bk-Me():0;if(xt=bz(et,xt),xt!==null){_o=D,l.cancelPendingCommit=xt(Xk.bind(null,l,u,D,p,x,A,re,je,De,Ye,et,null,Ie,He)),Sl(l,D,re,!Be);return}}Xk(l,u,D,p,x,A,re,je,De)}function O7(l){for(var u=l;;){var p=u.tag;if((p===0||p===11||p===15)&&u.flags&16384&&(p=u.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var x=0;x<p.length;x++){var A=p[x],D=A.getSnapshot;A=A.value;try{if(!aa(D(),A))return!1}catch{return!1}}if(p=u.child,u.subtreeFlags&16384&&p!==null)p.return=u,u=p;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Sl(l,u,p,x){u&=~sv,u&=~Fc,l.suspendedLanes|=u,l.pingedLanes&=~u,x&&(l.warmLanes|=u),x=l.expirationTimes;for(var A=u;0<A;){var D=31-Ze(A),re=1<<D;x[D]=-1,A&=~re}p!==0&&dr(l,p,u)}function eg(){return(ks&6)===0?(uf(0),!1):!0}function ov(){if(ss!==null){if(Ts===0)var l=ss.return;else l=ss,ho=Ac=null,_b(l),Xd=null,Wh=0,l=ss;for(;l!==null;)bk(l.alternate,l),l=l.return;ss=null}}function iu(l,u){var p=l.timeoutHandle;p!==-1&&(l.timeoutHandle=-1,tz(p)),p=l.cancelPendingCommit,p!==null&&(l.cancelPendingCommit=null,p()),_o=0,ov(),Vs=l,ss=p=co(l.current,null),is=u,Ts=0,ca=null,wl=!1,ru=ye(l,u),tv=!1,nu=da=sv=Fc=jl=gr=0,Un=cf=null,rv=!1,(u&8)!==0&&(u|=u&32);var x=l.entangledLanes;if(x!==0)for(l=l.entanglements,x&=u;0<x;){var A=31-Ze(x),D=1<<A;u|=l[A],x&=~D}return jo=u,wp(),p}function Vk(l,u){Xt=null,K.H=ef,u===Kd||u===Ep?(u=aC(),Ts=3):u===ub?(u=aC(),Ts=4):Ts=u===Ib?8:u!==null&&typeof u=="object"&&typeof u.then=="function"?6:1,ca=u,ss===null&&(gr=1,Vp(l,Aa(u,l.current)))}function Hk(){var l=oa.current;return l===null?!0:(is&4194048)===is?Da===null:(is&62914560)===is||(is&536870912)!==0?l===Da:!1}function qk(){var l=K.H;return K.H=ef,l===null?ef:l}function Wk(){var l=K.A;return K.A=M7,l}function tg(){gr=4,wl||(is&4194048)!==is&&oa.current!==null||(ru=!0),(jl&134217727)===0&&(Fc&134217727)===0||Vs===null||Sl(Vs,is,da,!1)}function lv(l,u,p){var x=ks;ks|=2;var A=qk(),D=Wk();(Vs!==l||is!==u)&&(Jp=null,iu(l,u)),u=!1;var re=gr;e:do try{if(Ts!==0&&ss!==null){var je=ss,De=ca;switch(Ts){case 8:ov(),re=6;break e;case 3:case 2:case 9:case 6:oa.current===null&&(u=!0);var Be=Ts;if(Ts=0,ca=null,ou(l,je,De,Be),p&&ru){re=0;break e}break;default:Be=Ts,Ts=0,ca=null,ou(l,je,De,Be)}}L7(),re=gr;break}catch(Ye){Vk(l,Ye)}while(!0);return u&&l.shellSuspendCounter++,ho=Ac=null,ks=x,K.H=A,K.A=D,ss===null&&(Vs=null,is=0,wp()),re}function L7(){for(;ss!==null;)Gk(ss)}function F7(l,u){var p=ks;ks|=2;var x=qk(),A=Wk();Vs!==l||is!==u?(Jp=null,Qp=Me()+500,iu(l,u)):ru=ye(l,u);e:do try{if(Ts!==0&&ss!==null){u=ss;var D=ca;t:switch(Ts){case 1:Ts=0,ca=null,ou(l,u,D,1);break;case 2:case 9:if(rC(D)){Ts=0,ca=null,Yk(u);break}u=function(){Ts!==2&&Ts!==9||Vs!==l||(Ts=7),Ai(l)},D.then(u,u);break e;case 3:Ts=7;break e;case 4:Ts=5;break e;case 7:rC(D)?(Ts=0,ca=null,Yk(u)):(Ts=0,ca=null,ou(l,u,D,7));break;case 5:var re=null;switch(ss.tag){case 26:re=ss.memoizedState;case 5:case 27:var je=ss;if(re?MA(re):je.stateNode.complete){Ts=0,ca=null;var De=je.sibling;if(De!==null)ss=De;else{var Be=je.return;Be!==null?(ss=Be,sg(Be)):ss=null}break t}}Ts=0,ca=null,ou(l,u,D,5);break;case 6:Ts=0,ca=null,ou(l,u,D,6);break;case 8:ov(),gr=6;break e;default:throw Error(n(462))}}B7();break}catch(Ye){Vk(l,Ye)}while(!0);return ho=Ac=null,K.H=x,K.A=A,ks=p,ss!==null?0:(Vs=null,is=0,wp(),gr)}function B7(){for(;ss!==null&&!he();)Gk(ss)}function Gk(l){var u=xk(l.alternate,l,jo);l.memoizedProps=l.pendingProps,u===null?sg(l):ss=u}function Yk(l){var u=l,p=u.alternate;switch(u.tag){case 15:case 0:u=uk(p,u,u.pendingProps,u.type,void 0,is);break;case 11:u=uk(p,u,u.pendingProps,u.type.render,u.ref,is);break;case 5:_b(u);default:bk(p,u),u=ss=WS(u,jo),u=xk(p,u,jo)}l.memoizedProps=l.pendingProps,u===null?sg(l):ss=u}function ou(l,u,p,x){ho=Ac=null,_b(u),Xd=null,Wh=0;var A=u.return;try{if(C7(l,A,u,p,is)){gr=1,Vp(l,Aa(p,l.current)),ss=null;return}}catch(D){if(A!==null)throw ss=A,D;gr=1,Vp(l,Aa(p,l.current)),ss=null;return}u.flags&32768?(fs||x===1?l=!0:ru||(is&536870912)!==0?l=!1:(wl=l=!0,(x===2||x===9||x===3||x===6)&&(x=oa.current,x!==null&&x.tag===13&&(x.flags|=16384))),Kk(u,l)):sg(u)}function sg(l){var u=l;do{if((u.flags&32768)!==0){Kk(u,wl);return}l=u.return;var p=E7(u.alternate,u,jo);if(p!==null){ss=p;return}if(u=u.sibling,u!==null){ss=u;return}ss=u=l}while(u!==null);gr===0&&(gr=5)}function Kk(l,u){do{var p=T7(l.alternate,l);if(p!==null){p.flags&=32767,ss=p;return}if(p=l.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!u&&(l=l.sibling,l!==null)){ss=l;return}ss=l=p}while(l!==null);gr=6,ss=null}function Xk(l,u,p,x,A,D,re,je,De){l.cancelPendingCommit=null;do rg();while(Hr!==0);if((ks&6)!==0)throw Error(n(327));if(u!==null){if(u===l.current)throw Error(n(177));if(D=u.lanes|u.childLanes,D|=Xy,ys(l,p,D,re,je,De),l===Vs&&(ss=Vs=null,is=0),au=u,Nl=l,_o=p,nv=D,av=A,Ik=x,(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?(l.callbackNode=null,l.callbackPriority=0,$7(st,function(){return tA(),null})):(l.callbackNode=null,l.callbackPriority=0),x=(u.flags&13878)!==0,(u.subtreeFlags&13878)!==0||x){x=K.T,K.T=null,A=M.p,M.p=2,re=ks,ks|=4;try{R7(l,u,p)}finally{ks=re,M.p=A,K.T=x}}Hr=1,Zk(),Qk(),Jk()}}function Zk(){if(Hr===1){Hr=0;var l=Nl,u=au,p=(u.flags&13878)!==0;if((u.subtreeFlags&13878)!==0||p){p=K.T,K.T=null;var x=M.p;M.p=2;var A=ks;ks|=4;try{Rk(u,l);var D=vv,re=FS(l.containerInfo),je=D.focusedElem,De=D.selectionRange;if(re!==je&&je&&je.ownerDocument&&LS(je.ownerDocument.documentElement,je)){if(De!==null&&qy(je)){var Be=De.start,Ye=De.end;if(Ye===void 0&&(Ye=Be),"selectionStart"in je)je.selectionStart=Be,je.selectionEnd=Math.min(Ye,je.value.length);else{var et=je.ownerDocument||document,Ie=et&&et.defaultView||window;if(Ie.getSelection){var He=Ie.getSelection(),xt=je.textContent.length,Pt=Math.min(De.start,xt),Bs=De.end===void 0?Pt:Math.min(De.end,xt);!He.extend&&Pt>Bs&&(re=Bs,Bs=Pt,Pt=re);var Le=OS(je,Pt),Pe=OS(je,Bs);if(Le&&Pe&&(He.rangeCount!==1||He.anchorNode!==Le.node||He.anchorOffset!==Le.offset||He.focusNode!==Pe.node||He.focusOffset!==Pe.offset)){var Fe=et.createRange();Fe.setStart(Le.node,Le.offset),He.removeAllRanges(),Pt>Bs?(He.addRange(Fe),He.extend(Pe.node,Pe.offset)):(Fe.setEnd(Pe.node,Pe.offset),He.addRange(Fe))}}}}for(et=[],He=je;He=He.parentNode;)He.nodeType===1&&et.push({element:He,left:He.scrollLeft,top:He.scrollTop});for(typeof je.focus=="function"&&je.focus(),je=0;je<et.length;je++){var Qe=et[je];Qe.element.scrollLeft=Qe.left,Qe.element.scrollTop=Qe.top}}pg=!!bv,vv=bv=null}finally{ks=A,M.p=x,K.T=p}}l.current=u,Hr=2}}function Qk(){if(Hr===2){Hr=0;var l=Nl,u=au,p=(u.flags&8772)!==0;if((u.subtreeFlags&8772)!==0||p){p=K.T,K.T=null;var x=M.p;M.p=2;var A=ks;ks|=4;try{Ck(l,u.alternate,u)}finally{ks=A,M.p=x,K.T=p}}Hr=3}}function Jk(){if(Hr===4||Hr===3){Hr=0,xe();var l=Nl,u=au,p=_o,x=Ik;(u.subtreeFlags&10256)!==0||(u.flags&10256)!==0?Hr=5:(Hr=0,au=Nl=null,eA(l,l.pendingLanes));var A=l.pendingLanes;if(A===0&&(_l=null),_n(p),u=u.stateNode,ds&&typeof ds.onCommitFiberRoot=="function")try{ds.onCommitFiberRoot(kt,u,void 0,(u.current.flags&128)===128)}catch{}if(x!==null){u=K.T,A=M.p,M.p=2,K.T=null;try{for(var D=l.onRecoverableError,re=0;re<x.length;re++){var je=x[re];D(je.value,{componentStack:je.stack})}}finally{K.T=u,M.p=A}}(_o&3)!==0&&rg(),Ai(l),A=l.pendingLanes,(p&261930)!==0&&(A&42)!==0?l===iv?df++:(df=0,iv=l):df=0,uf(0)}}function eA(l,u){(l.pooledCacheLanes&=u)===0&&(u=l.pooledCache,u!=null&&(l.pooledCache=null,Hh(u)))}function rg(){return Zk(),Qk(),Jk(),tA()}function tA(){if(Hr!==5)return!1;var l=Nl,u=nv;nv=0;var p=_n(_o),x=K.T,A=M.p;try{M.p=32>p?32:p,K.T=null,p=av,av=null;var D=Nl,re=_o;if(Hr=0,au=Nl=null,_o=0,(ks&6)!==0)throw Error(n(331));var je=ks;if(ks|=4,Lk(D.current),Mk(D,D.current,re,p),ks=je,uf(0,!1),ds&&typeof ds.onPostCommitFiberRoot=="function")try{ds.onPostCommitFiberRoot(kt,D)}catch{}return!0}finally{M.p=A,K.T=x,eA(l,u)}}function sA(l,u,p){u=Aa(p,u),u=Bb(l.stateNode,u,2),l=xl(l,u,2),l!==null&&(ot(l,2),Ai(l))}function Rs(l,u,p){if(l.tag===3)sA(l,l,p);else for(;u!==null;){if(u.tag===3){sA(u,l,p);break}else if(u.tag===1){var x=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof x.componentDidCatch=="function"&&(_l===null||!_l.has(x))){l=Aa(p,l),p=rk(2),x=xl(u,p,2),x!==null&&(nk(p,x,u,l),ot(x,2),Ai(x));break}}u=u.return}}function cv(l,u,p){var x=l.pingCache;if(x===null){x=l.pingCache=new P7;var A=new Set;x.set(u,A)}else A=x.get(u),A===void 0&&(A=new Set,x.set(u,A));A.has(p)||(tv=!0,A.add(p),l=I7.bind(null,l,u,p),u.then(l,l))}function I7(l,u,p){var x=l.pingCache;x!==null&&x.delete(u),l.pingedLanes|=l.suspendedLanes&p,l.warmLanes&=~p,Vs===l&&(is&p)===p&&(gr===4||gr===3&&(is&62914560)===is&&300>Me()-Zp?(ks&2)===0&&iu(l,0):sv|=p,nu===is&&(nu=0)),Ai(l)}function rA(l,u){u===0&&(u=Js()),l=Sc(l,u),l!==null&&(ot(l,u),Ai(l))}function z7(l){var u=l.memoizedState,p=0;u!==null&&(p=u.retryLane),rA(l,p)}function U7(l,u){var p=0;switch(l.tag){case 31:case 13:var x=l.stateNode,A=l.memoizedState;A!==null&&(p=A.retryLane);break;case 19:x=l.stateNode;break;case 22:x=l.stateNode._retryCache;break;default:throw Error(n(314))}x!==null&&x.delete(u),rA(l,p)}function $7(l,u){return we(l,u)}var ng=null,lu=null,dv=!1,ag=!1,uv=!1,Cl=0;function Ai(l){l!==lu&&l.next===null&&(lu===null?ng=lu=l:lu=lu.next=l),ag=!0,dv||(dv=!0,H7())}function uf(l,u){if(!uv&&ag){uv=!0;do for(var p=!1,x=ng;x!==null;){if(l!==0){var A=x.pendingLanes;if(A===0)var D=0;else{var re=x.suspendedLanes,je=x.pingedLanes;D=(1<<31-Ze(42|l)+1)-1,D&=A&~(re&~je),D=D&201326741?D&201326741|1:D?D|2:0}D!==0&&(p=!0,oA(x,D))}else D=is,D=Ot(x,x===Vs?D:0,x.cancelPendingCommit!==null||x.timeoutHandle!==-1),(D&3)===0||ye(x,D)||(p=!0,oA(x,D));x=x.next}while(p);uv=!1}}function V7(){nA()}function nA(){ag=dv=!1;var l=0;Cl!==0&&ez()&&(l=Cl);for(var u=Me(),p=null,x=ng;x!==null;){var A=x.next,D=aA(x,u);D===0?(x.next=null,p===null?ng=A:p.next=A,A===null&&(lu=p)):(p=x,(l!==0||(D&3)!==0)&&(ag=!0)),x=A}Hr!==0&&Hr!==5||uf(l),Cl!==0&&(Cl=0)}function aA(l,u){for(var p=l.suspendedLanes,x=l.pingedLanes,A=l.expirationTimes,D=l.pendingLanes&-62914561;0<D;){var re=31-Ze(D),je=1<<re,De=A[re];De===-1?((je&p)===0||(je&x)!==0)&&(A[re]=At(je,u)):De<=u&&(l.expiredLanes|=je),D&=~je}if(u=Vs,p=is,p=Ot(l,l===u?p:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),x=l.callbackNode,p===0||l===u&&(Ts===2||Ts===9)||l.cancelPendingCommit!==null)return x!==null&&x!==null&&de(x),l.callbackNode=null,l.callbackPriority=0;if((p&3)===0||ye(l,p)){if(u=p&-p,u===l.callbackPriority)return u;switch(x!==null&&de(x),_n(p)){case 2:case 8:p=Je;break;case 32:p=st;break;case 268435456:p=St;break;default:p=st}return x=iA.bind(null,l),p=we(p,x),l.callbackPriority=u,l.callbackNode=p,u}return x!==null&&x!==null&&de(x),l.callbackPriority=2,l.callbackNode=null,2}function iA(l,u){if(Hr!==0&&Hr!==5)return l.callbackNode=null,l.callbackPriority=0,null;var p=l.callbackNode;if(rg()&&l.callbackNode!==p)return null;var x=is;return x=Ot(l,l===Vs?x:0,l.cancelPendingCommit!==null||l.timeoutHandle!==-1),x===0?null:(Uk(l,x,u),aA(l,Me()),l.callbackNode!=null&&l.callbackNode===p?iA.bind(null,l):null)}function oA(l,u){if(rg())return null;Uk(l,u,!0)}function H7(){sz(function(){(ks&6)!==0?we($e,V7):nA()})}function hv(){if(Cl===0){var l=Gd;l===0&&(l=Cs,Cs<<=1,(Cs&261888)===0&&(Cs=256)),Cl=l}return Cl}function lA(l){return l==null||typeof l=="symbol"||typeof l=="boolean"?null:typeof l=="function"?l:rl(""+l)}function cA(l,u){var p=u.ownerDocument.createElement("input");return p.name=u.name,p.value=u.value,l.id&&p.setAttribute("form",l.id),u.parentNode.insertBefore(p,u),l=new FormData(l),p.parentNode.removeChild(p),l}function q7(l,u,p,x,A){if(u==="submit"&&p&&p.stateNode===A){var D=lA((A[fr]||null).action),re=x.submitter;re&&(u=(u=re[fr]||null)?lA(u.formAction):re.getAttribute("formAction"),u!==null&&(D=u,re=null));var je=new ae("action","action",null,x,A);l.push({event:je,listeners:[{instance:null,listener:function(){if(x.defaultPrevented){if(Cl!==0){var De=re?cA(A,re):new FormData(A);Db(p,{pending:!0,data:De,method:A.method,action:D},null,De)}}else typeof D=="function"&&(je.preventDefault(),De=re?cA(A,re):new FormData(A),Db(p,{pending:!0,data:De,method:A.method,action:D},D,De))},currentTarget:A}]})}}for(var fv=0;fv<Ky.length;fv++){var mv=Ky[fv],W7=mv.toLowerCase(),G7=mv[0].toUpperCase()+mv.slice(1);Ja(W7,"on"+G7)}Ja(zS,"onAnimationEnd"),Ja(US,"onAnimationIteration"),Ja($S,"onAnimationStart"),Ja("dblclick","onDoubleClick"),Ja("focusin","onFocus"),Ja("focusout","onBlur"),Ja(c7,"onTransitionRun"),Ja(d7,"onTransitionStart"),Ja(u7,"onTransitionCancel"),Ja(VS,"onTransitionEnd"),Sn("onMouseEnter",["mouseout","mouseover"]),Sn("onMouseLeave",["mouseout","mouseover"]),Sn("onPointerEnter",["pointerout","pointerover"]),Sn("onPointerLeave",["pointerout","pointerover"]),ja("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ja("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ja("onBeforeInput",["compositionend","keypress","textInput","paste"]),ja("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ja("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ja("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var hf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Y7=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(hf));function dA(l,u){u=(u&4)!==0;for(var p=0;p<l.length;p++){var x=l[p],A=x.event;x=x.listeners;e:{var D=void 0;if(u)for(var re=x.length-1;0<=re;re--){var je=x[re],De=je.instance,Be=je.currentTarget;if(je=je.listener,De!==D&&A.isPropagationStopped())break e;D=je,A.currentTarget=Be;try{D(A)}catch(Ye){vp(Ye)}A.currentTarget=null,D=De}else for(re=0;re<x.length;re++){if(je=x[re],De=je.instance,Be=je.currentTarget,je=je.listener,De!==D&&A.isPropagationStopped())break e;D=je,A.currentTarget=Be;try{D(A)}catch(Ye){vp(Ye)}A.currentTarget=null,D=De}}}}function rs(l,u){var p=u[to];p===void 0&&(p=u[to]=new Set);var x=l+"__bubble";p.has(x)||(uA(u,l,2,!1),p.add(x))}function pv(l,u,p){var x=0;u&&(x|=4),uA(p,l,x,u)}var ig="_reactListening"+Math.random().toString(36).slice(2);function gv(l){if(!l[ig]){l[ig]=!0,Jo.forEach(function(p){p!=="selectionchange"&&(Y7.has(p)||pv(p,!1,l),pv(p,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[ig]||(u[ig]=!0,pv("selectionchange",!1,u))}}function uA(l,u,p,x){switch(zA(u)){case 2:var A=jz;break;case 8:A=_z;break;default:A=Rv}p=A.bind(null,u,p,l),A=void 0,!vc||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(A=!0),x?A!==void 0?l.addEventListener(u,p,{capture:!0,passive:A}):l.addEventListener(u,p,!0):A!==void 0?l.addEventListener(u,p,{passive:A}):l.addEventListener(u,p,!1)}function xv(l,u,p,x,A){var D=x;if((u&1)===0&&(u&2)===0&&x!==null)e:for(;;){if(x===null)return;var re=x.tag;if(re===3||re===4){var je=x.stateNode.containerInfo;if(je===A)break;if(re===4)for(re=x.return;re!==null;){var De=re.tag;if((De===3||De===4)&&re.stateNode.containerInfo===A)return;re=re.return}for(;je!==null;){if(re=xi(je),re===null)return;if(De=re.tag,De===5||De===6||De===26||De===27){x=D=re;continue e}je=je.parentNode}}x=x.return}io(function(){var Be=D,Ye=nl(p),et=[];e:{var Ie=HS.get(l);if(Ie!==void 0){var He=ae,xt=l;switch(l){case"keypress":if(Fn(p)===0)break e;case"keydown":case"keyup":He=Vr;break;case"focusin":xt="focus",He=Eh;break;case"focusout":xt="blur",He=Eh;break;case"beforeblur":case"afterblur":He=Eh;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":He=Ca;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":He=ll;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":He=I;break;case zS:case US:case $S:He=Py;break;case VS:He=Ne;break;case"scroll":case"scrollend":He=gt;break;case"wheel":He=Xe;break;case"copy":case"cut":case"paste":He=Ly;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":He=mp;break;case"toggle":case"beforetoggle":He=vt}var Pt=(u&4)!==0,Bs=!Pt&&(l==="scroll"||l==="scrollend"),Le=Pt?Ie!==null?Ie+"Capture":null:Ie;Pt=[];for(var Pe=Be,Fe;Pe!==null;){var Qe=Pe;if(Fe=Qe.stateNode,Qe=Qe.tag,Qe!==5&&Qe!==26&&Qe!==27||Fe===null||Le===null||(Qe=Ni(Pe,Le),Qe!=null&&Pt.push(ff(Pe,Qe,Fe))),Bs)break;Pe=Pe.return}0<Pt.length&&(Ie=new He(Ie,xt,null,p,Ye),et.push({event:Ie,listeners:Pt}))}}if((u&7)===0){e:{if(Ie=l==="mouseover"||l==="pointerover",He=l==="mouseout"||l==="pointerout",Ie&&p!==bc&&(xt=p.relatedTarget||p.fromElement)&&(xi(xt)||xt[Er]))break e;if((He||Ie)&&(Ie=Ye.window===Ye?Ye:(Ie=Ye.ownerDocument)?Ie.defaultView||Ie.parentWindow:window,He?(xt=p.relatedTarget||p.toElement,He=Be,xt=xt?xi(xt):null,xt!==null&&(Bs=i(xt),Pt=xt.tag,xt!==Bs||Pt!==5&&Pt!==27&&Pt!==6)&&(xt=null)):(He=null,xt=Be),He!==xt)){if(Pt=Ca,Qe="onMouseLeave",Le="onMouseEnter",Pe="mouse",(l==="pointerout"||l==="pointerover")&&(Pt=mp,Qe="onPointerLeave",Le="onPointerEnter",Pe="pointer"),Bs=He==null?Ie:yi(He),Fe=xt==null?Ie:yi(xt),Ie=new Pt(Qe,Pe+"leave",He,p,Ye),Ie.target=Bs,Ie.relatedTarget=Fe,Qe=null,xi(Ye)===Be&&(Pt=new Pt(Le,Pe+"enter",xt,p,Ye),Pt.target=Fe,Pt.relatedTarget=Bs,Qe=Pt),Bs=Qe,He&&xt)t:{for(Pt=K7,Le=He,Pe=xt,Fe=0,Qe=Le;Qe;Qe=Pt(Qe))Fe++;Qe=0;for(var Et=Pe;Et;Et=Pt(Et))Qe++;for(;0<Fe-Qe;)Le=Pt(Le),Fe--;for(;0<Qe-Fe;)Pe=Pt(Pe),Qe--;for(;Fe--;){if(Le===Pe||Pe!==null&&Le===Pe.alternate){Pt=Le;break t}Le=Pt(Le),Pe=Pt(Pe)}Pt=null}else Pt=null;He!==null&&hA(et,Ie,He,Pt,!1),xt!==null&&Bs!==null&&hA(et,Bs,xt,Pt,!0)}}e:{if(Ie=Be?yi(Be):window,He=Ie.nodeName&&Ie.nodeName.toLowerCase(),He==="select"||He==="input"&&Ie.type==="file")var ws=yp;else if(Ph(Ie))if(bp)ws=i7;else{ws=n7;var jt=r7}else He=Ie.nodeName,!He||He.toLowerCase()!=="input"||Ie.type!=="checkbox"&&Ie.type!=="radio"?Be&&yc(Be.elementType)&&(ws=yp):ws=a7;if(ws&&(ws=ws(l,Be))){Oh(et,ws,p,Ye);break e}jt&&jt(l,Ie,Be),l==="focusout"&&Be&&Ie.type==="number"&&Be.memoizedProps.value!=null&&xc(Ie,"number",Ie.value)}switch(jt=Be?yi(Be):window,l){case"focusin":(Ph(jt)||jt.contentEditable==="true")&&(Id=jt,Wy=Be,Uh=null);break;case"focusout":Uh=Wy=Id=null;break;case"mousedown":Gy=!0;break;case"contextmenu":case"mouseup":case"dragend":Gy=!1,BS(et,p,Ye);break;case"selectionchange":if(l7)break;case"keydown":case"keyup":BS(et,p,Ye)}var Qt;if(as)e:{switch(l){case"compositionstart":var os="onCompositionStart";break e;case"compositionend":os="onCompositionEnd";break e;case"compositionupdate":os="onCompositionUpdate";break e}os=void 0}else cl?gp(l,p)&&(os="onCompositionEnd"):l==="keydown"&&p.keyCode===229&&(os="onCompositionStart");os&&(wc&&p.locale!=="ko"&&(cl||os!=="onCompositionStart"?os==="onCompositionEnd"&&cl&&(Qt=Lt()):(Ln=Ye,al="value"in Ln?Ln.value:Ln.textContent,cl=!0)),jt=og(Be,os),0<jt.length&&(os=new fp(os,l,null,p,Ye),et.push({event:os,listeners:jt}),Qt?os.data=Qt:(Qt=Mh(p),Qt!==null&&(os.data=Qt)))),(Qt=mr?xp(l,p):Vy(l,p))&&(os=og(Be,"onBeforeInput"),0<os.length&&(jt=new fp("onBeforeInput","beforeinput",null,p,Ye),et.push({event:jt,listeners:os}),jt.data=Qt)),q7(et,l,Be,p,Ye)}dA(et,u)})}function ff(l,u,p){return{instance:l,listener:u,currentTarget:p}}function og(l,u){for(var p=u+"Capture",x=[];l!==null;){var A=l,D=A.stateNode;if(A=A.tag,A!==5&&A!==26&&A!==27||D===null||(A=Ni(l,p),A!=null&&x.unshift(ff(l,A,D)),A=Ni(l,u),A!=null&&x.push(ff(l,A,D))),l.tag===3)return x;l=l.return}return[]}function K7(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5&&l.tag!==27);return l||null}function hA(l,u,p,x,A){for(var D=u._reactName,re=[];p!==null&&p!==x;){var je=p,De=je.alternate,Be=je.stateNode;if(je=je.tag,De!==null&&De===x)break;je!==5&&je!==26&&je!==27||Be===null||(De=Be,A?(Be=Ni(p,D),Be!=null&&re.unshift(ff(p,Be,De))):A||(Be=Ni(p,D),Be!=null&&re.push(ff(p,Be,De)))),p=p.return}re.length!==0&&l.push({event:u,listeners:re})}var X7=/\r\n?/g,Z7=/\u0000|\uFFFD/g;function fA(l){return(typeof l=="string"?l:""+l).replace(X7,`
`).replace(Z7,"")}function mA(l,u){return u=fA(u),fA(l)===u}function Fs(l,u,p,x,A,D){switch(p){case"children":typeof x=="string"?u==="body"||u==="textarea"&&x===""||wi(l,x):(typeof x=="number"||typeof x=="bigint")&&u!=="body"&&wi(l,""+x);break;case"className":no(l,"class",x);break;case"tabIndex":no(l,"tabindex",x);break;case"dir":case"role":case"viewBox":case"width":case"height":no(l,p,x);break;case"style":_a(l,x,D);break;case"data":if(u!=="object"){no(l,"data",x);break}case"src":case"href":if(x===""&&(u!=="a"||p!=="href")){l.removeAttribute(p);break}if(x==null||typeof x=="function"||typeof x=="symbol"||typeof x=="boolean"){l.removeAttribute(p);break}x=rl(""+x),l.setAttribute(p,x);break;case"action":case"formAction":if(typeof x=="function"){l.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof D=="function"&&(p==="formAction"?(u!=="input"&&Fs(l,u,"name",A.name,A,null),Fs(l,u,"formEncType",A.formEncType,A,null),Fs(l,u,"formMethod",A.formMethod,A,null),Fs(l,u,"formTarget",A.formTarget,A,null)):(Fs(l,u,"encType",A.encType,A,null),Fs(l,u,"method",A.method,A,null),Fs(l,u,"target",A.target,A,null)));if(x==null||typeof x=="symbol"||typeof x=="boolean"){l.removeAttribute(p);break}x=rl(""+x),l.setAttribute(p,x);break;case"onClick":x!=null&&(l.onclick=On);break;case"onScroll":x!=null&&rs("scroll",l);break;case"onScrollEnd":x!=null&&rs("scrollend",l);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(n(61));if(p=x.__html,p!=null){if(A.children!=null)throw Error(n(60));l.innerHTML=p}}break;case"multiple":l.multiple=x&&typeof x!="function"&&typeof x!="symbol";break;case"muted":l.muted=x&&typeof x!="function"&&typeof x!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(x==null||typeof x=="function"||typeof x=="boolean"||typeof x=="symbol"){l.removeAttribute("xlink:href");break}p=rl(""+x),l.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":x!=null&&typeof x!="function"&&typeof x!="symbol"?l.setAttribute(p,""+x):l.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":x&&typeof x!="function"&&typeof x!="symbol"?l.setAttribute(p,""):l.removeAttribute(p);break;case"capture":case"download":x===!0?l.setAttribute(p,""):x!==!1&&x!=null&&typeof x!="function"&&typeof x!="symbol"?l.setAttribute(p,x):l.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":x!=null&&typeof x!="function"&&typeof x!="symbol"&&!isNaN(x)&&1<=x?l.setAttribute(p,x):l.removeAttribute(p);break;case"rowSpan":case"start":x==null||typeof x=="function"||typeof x=="symbol"||isNaN(x)?l.removeAttribute(p):l.setAttribute(p,x);break;case"popover":rs("beforetoggle",l),rs("toggle",l),ro(l,"popover",x);break;case"xlinkActuate":Pn(l,"http://www.w3.org/1999/xlink","xlink:actuate",x);break;case"xlinkArcrole":Pn(l,"http://www.w3.org/1999/xlink","xlink:arcrole",x);break;case"xlinkRole":Pn(l,"http://www.w3.org/1999/xlink","xlink:role",x);break;case"xlinkShow":Pn(l,"http://www.w3.org/1999/xlink","xlink:show",x);break;case"xlinkTitle":Pn(l,"http://www.w3.org/1999/xlink","xlink:title",x);break;case"xlinkType":Pn(l,"http://www.w3.org/1999/xlink","xlink:type",x);break;case"xmlBase":Pn(l,"http://www.w3.org/XML/1998/namespace","xml:base",x);break;case"xmlLang":Pn(l,"http://www.w3.org/XML/1998/namespace","xml:lang",x);break;case"xmlSpace":Pn(l,"http://www.w3.org/XML/1998/namespace","xml:space",x);break;case"is":ro(l,"is",x);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=kh.get(p)||p,ro(l,p,x))}}function yv(l,u,p,x,A,D){switch(p){case"style":_a(l,x,D);break;case"dangerouslySetInnerHTML":if(x!=null){if(typeof x!="object"||!("__html"in x))throw Error(n(61));if(p=x.__html,p!=null){if(A.children!=null)throw Error(n(60));l.innerHTML=p}}break;case"children":typeof x=="string"?wi(l,x):(typeof x=="number"||typeof x=="bigint")&&wi(l,""+x);break;case"onScroll":x!=null&&rs("scroll",l);break;case"onScrollEnd":x!=null&&rs("scrollend",l);break;case"onClick":x!=null&&(l.onclick=On);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!mc.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(A=p.endsWith("Capture"),u=p.slice(2,A?p.length-7:void 0),D=l[fr]||null,D=D!=null?D[p]:null,typeof D=="function"&&l.removeEventListener(u,D,A),typeof x=="function")){typeof D!="function"&&D!==null&&(p in l?l[p]=null:l.hasAttribute(p)&&l.removeAttribute(p)),l.addEventListener(u,x,A);break e}p in l?l[p]=x:x===!0?l.setAttribute(p,""):ro(l,p,x)}}}function on(l,u,p){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":rs("error",l),rs("load",l);var x=!1,A=!1,D;for(D in p)if(p.hasOwnProperty(D)){var re=p[D];if(re!=null)switch(D){case"src":x=!0;break;case"srcSet":A=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,u));default:Fs(l,u,D,re,p,null)}}A&&Fs(l,u,"srcSet",p.srcSet,p,null),x&&Fs(l,u,"src",p.src,p,null);return;case"input":rs("invalid",l);var je=D=re=A=null,De=null,Be=null;for(x in p)if(p.hasOwnProperty(x)){var Ye=p[x];if(Ye!=null)switch(x){case"name":A=Ye;break;case"type":re=Ye;break;case"checked":De=Ye;break;case"defaultChecked":Be=Ye;break;case"value":D=Ye;break;case"defaultValue":je=Ye;break;case"children":case"dangerouslySetInnerHTML":if(Ye!=null)throw Error(n(137,u));break;default:Fs(l,u,x,Ye,p,null)}}gc(l,D,je,De,Be,re,A,!1);return;case"select":rs("invalid",l),x=re=D=null;for(A in p)if(p.hasOwnProperty(A)&&(je=p[A],je!=null))switch(A){case"value":D=je;break;case"defaultValue":re=je;break;case"multiple":x=je;default:Fs(l,u,A,je,p,null)}u=D,p=re,l.multiple=!!x,u!=null?vi(l,!!x,u,!1):p!=null&&vi(l,!!x,p,!0);return;case"textarea":rs("invalid",l),D=A=x=null;for(re in p)if(p.hasOwnProperty(re)&&(je=p[re],je!=null))switch(re){case"value":x=je;break;case"defaultValue":A=je;break;case"children":D=je;break;case"dangerouslySetInnerHTML":if(je!=null)throw Error(n(91));break;default:Fs(l,u,re,je,p,null)}Ld(l,x,A,D);return;case"option":for(De in p)if(p.hasOwnProperty(De)&&(x=p[De],x!=null))switch(De){case"selected":l.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:Fs(l,u,De,x,p,null)}return;case"dialog":rs("beforetoggle",l),rs("toggle",l),rs("cancel",l),rs("close",l);break;case"iframe":case"object":rs("load",l);break;case"video":case"audio":for(x=0;x<hf.length;x++)rs(hf[x],l);break;case"image":rs("error",l),rs("load",l);break;case"details":rs("toggle",l);break;case"embed":case"source":case"link":rs("error",l),rs("load",l);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Be in p)if(p.hasOwnProperty(Be)&&(x=p[Be],x!=null))switch(Be){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,u));default:Fs(l,u,Be,x,p,null)}return;default:if(yc(u)){for(Ye in p)p.hasOwnProperty(Ye)&&(x=p[Ye],x!==void 0&&yv(l,u,Ye,x,p,void 0));return}}for(je in p)p.hasOwnProperty(je)&&(x=p[je],x!=null&&Fs(l,u,je,x,p,null))}function Q7(l,u,p,x){switch(u){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var A=null,D=null,re=null,je=null,De=null,Be=null,Ye=null;for(He in p){var et=p[He];if(p.hasOwnProperty(He)&&et!=null)switch(He){case"checked":break;case"value":break;case"defaultValue":De=et;default:x.hasOwnProperty(He)||Fs(l,u,He,null,x,et)}}for(var Ie in x){var He=x[Ie];if(et=p[Ie],x.hasOwnProperty(Ie)&&(He!=null||et!=null))switch(Ie){case"type":D=He;break;case"name":A=He;break;case"checked":Be=He;break;case"defaultChecked":Ye=He;break;case"value":re=He;break;case"defaultValue":je=He;break;case"children":case"dangerouslySetInnerHTML":if(He!=null)throw Error(n(137,u));break;default:He!==et&&Fs(l,u,Ie,He,x,et)}}Xa(l,re,je,De,Be,Ye,D,A);return;case"select":He=re=je=Ie=null;for(D in p)if(De=p[D],p.hasOwnProperty(D)&&De!=null)switch(D){case"value":break;case"multiple":He=De;default:x.hasOwnProperty(D)||Fs(l,u,D,null,x,De)}for(A in x)if(D=x[A],De=p[A],x.hasOwnProperty(A)&&(D!=null||De!=null))switch(A){case"value":Ie=D;break;case"defaultValue":je=D;break;case"multiple":re=D;default:D!==De&&Fs(l,u,A,D,x,De)}u=je,p=re,x=He,Ie!=null?vi(l,!!p,Ie,!1):!!x!=!!p&&(u!=null?vi(l,!!p,u,!0):vi(l,!!p,p?[]:"",!1));return;case"textarea":He=Ie=null;for(je in p)if(A=p[je],p.hasOwnProperty(je)&&A!=null&&!x.hasOwnProperty(je))switch(je){case"value":break;case"children":break;default:Fs(l,u,je,null,x,A)}for(re in x)if(A=x[re],D=p[re],x.hasOwnProperty(re)&&(A!=null||D!=null))switch(re){case"value":Ie=A;break;case"defaultValue":He=A;break;case"children":break;case"dangerouslySetInnerHTML":if(A!=null)throw Error(n(91));break;default:A!==D&&Fs(l,u,re,A,x,D)}Od(l,Ie,He);return;case"option":for(var xt in p)if(Ie=p[xt],p.hasOwnProperty(xt)&&Ie!=null&&!x.hasOwnProperty(xt))switch(xt){case"selected":l.selected=!1;break;default:Fs(l,u,xt,null,x,Ie)}for(De in x)if(Ie=x[De],He=p[De],x.hasOwnProperty(De)&&Ie!==He&&(Ie!=null||He!=null))switch(De){case"selected":l.selected=Ie&&typeof Ie!="function"&&typeof Ie!="symbol";break;default:Fs(l,u,De,Ie,x,He)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pt in p)Ie=p[Pt],p.hasOwnProperty(Pt)&&Ie!=null&&!x.hasOwnProperty(Pt)&&Fs(l,u,Pt,null,x,Ie);for(Be in x)if(Ie=x[Be],He=p[Be],x.hasOwnProperty(Be)&&Ie!==He&&(Ie!=null||He!=null))switch(Be){case"children":case"dangerouslySetInnerHTML":if(Ie!=null)throw Error(n(137,u));break;default:Fs(l,u,Be,Ie,x,He)}return;default:if(yc(u)){for(var Bs in p)Ie=p[Bs],p.hasOwnProperty(Bs)&&Ie!==void 0&&!x.hasOwnProperty(Bs)&&yv(l,u,Bs,void 0,x,Ie);for(Ye in x)Ie=x[Ye],He=p[Ye],!x.hasOwnProperty(Ye)||Ie===He||Ie===void 0&&He===void 0||yv(l,u,Ye,Ie,x,He);return}}for(var Le in p)Ie=p[Le],p.hasOwnProperty(Le)&&Ie!=null&&!x.hasOwnProperty(Le)&&Fs(l,u,Le,null,x,Ie);for(et in x)Ie=x[et],He=p[et],!x.hasOwnProperty(et)||Ie===He||Ie==null&&He==null||Fs(l,u,et,Ie,x,He)}function pA(l){switch(l){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function J7(){if(typeof performance.getEntriesByType=="function"){for(var l=0,u=0,p=performance.getEntriesByType("resource"),x=0;x<p.length;x++){var A=p[x],D=A.transferSize,re=A.initiatorType,je=A.duration;if(D&&je&&pA(re)){for(re=0,je=A.responseEnd,x+=1;x<p.length;x++){var De=p[x],Be=De.startTime;if(Be>je)break;var Ye=De.transferSize,et=De.initiatorType;Ye&&pA(et)&&(De=De.responseEnd,re+=Ye*(De<je?1:(je-Be)/(De-Be)))}if(--x,u+=8*(D+re)/(A.duration/1e3),l++,10<l)break}}if(0<l)return u/l/1e6}return navigator.connection&&(l=navigator.connection.downlink,typeof l=="number")?l:5}var bv=null,vv=null;function lg(l){return l.nodeType===9?l:l.ownerDocument}function gA(l){switch(l){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xA(l,u){if(l===0)switch(u){case"svg":return 1;case"math":return 2;default:return 0}return l===1&&u==="foreignObject"?0:l}function wv(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.children=="bigint"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var jv=null;function ez(){var l=window.event;return l&&l.type==="popstate"?l===jv?!1:(jv=l,!0):(jv=null,!1)}var yA=typeof setTimeout=="function"?setTimeout:void 0,tz=typeof clearTimeout=="function"?clearTimeout:void 0,bA=typeof Promise=="function"?Promise:void 0,sz=typeof queueMicrotask=="function"?queueMicrotask:typeof bA<"u"?function(l){return bA.resolve(null).then(l).catch(rz)}:yA;function rz(l){setTimeout(function(){throw l})}function kl(l){return l==="head"}function vA(l,u){var p=u,x=0;do{var A=p.nextSibling;if(l.removeChild(p),A&&A.nodeType===8)if(p=A.data,p==="/$"||p==="/&"){if(x===0){l.removeChild(A),hu(u);return}x--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")x++;else if(p==="html")mf(l.ownerDocument.documentElement);else if(p==="head"){p=l.ownerDocument.head,mf(p);for(var D=p.firstChild;D;){var re=D.nextSibling,je=D.nodeName;D[Ya]||je==="SCRIPT"||je==="STYLE"||je==="LINK"&&D.rel.toLowerCase()==="stylesheet"||p.removeChild(D),D=re}}else p==="body"&&mf(l.ownerDocument.body);p=A}while(p);hu(u)}function wA(l,u){var p=l;l=0;do{var x=p.nextSibling;if(p.nodeType===1?u?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(u?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),x&&x.nodeType===8)if(p=x.data,p==="/$"){if(l===0)break;l--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||l++;p=x}while(p)}function _v(l){var u=l.firstChild;for(u&&u.nodeType===10&&(u=u.nextSibling);u;){var p=u;switch(u=u.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":_v(p),fc(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}l.removeChild(p)}}function nz(l,u,p,x){for(;l.nodeType===1;){var A=p;if(l.nodeName.toLowerCase()!==u.toLowerCase()){if(!x&&(l.nodeName!=="INPUT"||l.type!=="hidden"))break}else if(x){if(!l[Ya])switch(u){case"meta":if(!l.hasAttribute("itemprop"))break;return l;case"link":if(D=l.getAttribute("rel"),D==="stylesheet"&&l.hasAttribute("data-precedence"))break;if(D!==A.rel||l.getAttribute("href")!==(A.href==null||A.href===""?null:A.href)||l.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin)||l.getAttribute("title")!==(A.title==null?null:A.title))break;return l;case"style":if(l.hasAttribute("data-precedence"))break;return l;case"script":if(D=l.getAttribute("src"),(D!==(A.src==null?null:A.src)||l.getAttribute("type")!==(A.type==null?null:A.type)||l.getAttribute("crossorigin")!==(A.crossOrigin==null?null:A.crossOrigin))&&D&&l.hasAttribute("async")&&!l.hasAttribute("itemprop"))break;return l;default:return l}}else if(u==="input"&&l.type==="hidden"){var D=A.name==null?null:""+A.name;if(A.type==="hidden"&&l.getAttribute("name")===D)return l}else return l;if(l=Ma(l.nextSibling),l===null)break}return null}function az(l,u,p){if(u==="")return null;for(;l.nodeType!==3;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!p||(l=Ma(l.nextSibling),l===null))return null;return l}function jA(l,u){for(;l.nodeType!==8;)if((l.nodeType!==1||l.nodeName!=="INPUT"||l.type!=="hidden")&&!u||(l=Ma(l.nextSibling),l===null))return null;return l}function Nv(l){return l.data==="$?"||l.data==="$~"}function Sv(l){return l.data==="$!"||l.data==="$?"&&l.ownerDocument.readyState!=="loading"}function iz(l,u){var p=l.ownerDocument;if(l.data==="$~")l._reactRetry=u;else if(l.data!=="$?"||p.readyState!=="loading")u();else{var x=function(){u(),p.removeEventListener("DOMContentLoaded",x)};p.addEventListener("DOMContentLoaded",x),l._reactRetry=x}}function Ma(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?"||u==="$~"||u==="&"||u==="F!"||u==="F")break;if(u==="/$"||u==="/&")return null}}return l}var Cv=null;function _A(l){l=l.nextSibling;for(var u=0;l;){if(l.nodeType===8){var p=l.data;if(p==="/$"||p==="/&"){if(u===0)return Ma(l.nextSibling);u--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||u++}l=l.nextSibling}return null}function NA(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var p=l.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(u===0)return l;u--}else p!=="/$"&&p!=="/&"||u++}l=l.previousSibling}return null}function SA(l,u,p){switch(u=lg(p),l){case"html":if(l=u.documentElement,!l)throw Error(n(452));return l;case"head":if(l=u.head,!l)throw Error(n(453));return l;case"body":if(l=u.body,!l)throw Error(n(454));return l;default:throw Error(n(451))}}function mf(l){for(var u=l.attributes;u.length;)l.removeAttributeNode(u[0]);fc(l)}var Pa=new Map,CA=new Set;function cg(l){return typeof l.getRootNode=="function"?l.getRootNode():l.nodeType===9?l:l.ownerDocument}var No=M.d;M.d={f:oz,r:lz,D:cz,C:dz,L:uz,m:hz,X:mz,S:fz,M:pz};function oz(){var l=No.f(),u=eg();return l||u}function lz(l){var u=ea(l);u!==null&&u.tag===5&&u.type==="form"?VC(u):No.r(l)}var cu=typeof document>"u"?null:document;function kA(l,u,p){var x=cu;if(x&&typeof u=="string"&&u){var A=Tr(u);A='link[rel="'+l+'"][href="'+A+'"]',typeof p=="string"&&(A+='[crossorigin="'+p+'"]'),CA.has(A)||(CA.add(A),l={rel:l,crossOrigin:p,href:u},x.querySelector(A)===null&&(u=x.createElement("link"),on(u,"link",l),Os(u),x.head.appendChild(u)))}}function cz(l){No.D(l),kA("dns-prefetch",l,null)}function dz(l,u){No.C(l,u),kA("preconnect",l,u)}function uz(l,u,p){No.L(l,u,p);var x=cu;if(x&&l&&u){var A='link[rel="preload"][as="'+Tr(u)+'"]';u==="image"&&p&&p.imageSrcSet?(A+='[imagesrcset="'+Tr(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(A+='[imagesizes="'+Tr(p.imageSizes)+'"]')):A+='[href="'+Tr(l)+'"]';var D=A;switch(u){case"style":D=du(l);break;case"script":D=uu(l)}Pa.has(D)||(l=f({rel:"preload",href:u==="image"&&p&&p.imageSrcSet?void 0:l,as:u},p),Pa.set(D,l),x.querySelector(A)!==null||u==="style"&&x.querySelector(pf(D))||u==="script"&&x.querySelector(gf(D))||(u=x.createElement("link"),on(u,"link",l),Os(u),x.head.appendChild(u)))}}function hz(l,u){No.m(l,u);var p=cu;if(p&&l){var x=u&&typeof u.as=="string"?u.as:"script",A='link[rel="modulepreload"][as="'+Tr(x)+'"][href="'+Tr(l)+'"]',D=A;switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":D=uu(l)}if(!Pa.has(D)&&(l=f({rel:"modulepreload",href:l},u),Pa.set(D,l),p.querySelector(A)===null)){switch(x){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(gf(D)))return}x=p.createElement("link"),on(x,"link",l),Os(x),p.head.appendChild(x)}}}function fz(l,u,p){No.S(l,u,p);var x=cu;if(x&&l){var A=ta(x).hoistableStyles,D=du(l);u=u||"default";var re=A.get(D);if(!re){var je={loading:0,preload:null};if(re=x.querySelector(pf(D)))je.loading=5;else{l=f({rel:"stylesheet",href:l,"data-precedence":u},p),(p=Pa.get(D))&&kv(l,p);var De=re=x.createElement("link");Os(De),on(De,"link",l),De._p=new Promise(function(Be,Ye){De.onload=Be,De.onerror=Ye}),De.addEventListener("load",function(){je.loading|=1}),De.addEventListener("error",function(){je.loading|=2}),je.loading|=4,dg(re,u,x)}re={type:"stylesheet",instance:re,count:1,state:je},A.set(D,re)}}}function mz(l,u){No.X(l,u);var p=cu;if(p&&l){var x=ta(p).hoistableScripts,A=uu(l),D=x.get(A);D||(D=p.querySelector(gf(A)),D||(l=f({src:l,async:!0},u),(u=Pa.get(A))&&Av(l,u),D=p.createElement("script"),Os(D),on(D,"link",l),p.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},x.set(A,D))}}function pz(l,u){No.M(l,u);var p=cu;if(p&&l){var x=ta(p).hoistableScripts,A=uu(l),D=x.get(A);D||(D=p.querySelector(gf(A)),D||(l=f({src:l,async:!0,type:"module"},u),(u=Pa.get(A))&&Av(l,u),D=p.createElement("script"),Os(D),on(D,"link",l),p.head.appendChild(D)),D={type:"script",instance:D,count:1,state:null},x.set(A,D))}}function AA(l,u,p,x){var A=(A=ge.current)?cg(A):null;if(!A)throw Error(n(446));switch(l){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(u=du(p.href),p=ta(A).hoistableStyles,x=p.get(u),x||(x={type:"style",instance:null,count:0,state:null},p.set(u,x)),x):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){l=du(p.href);var D=ta(A).hoistableStyles,re=D.get(l);if(re||(A=A.ownerDocument||A,re={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},D.set(l,re),(D=A.querySelector(pf(l)))&&!D._p&&(re.instance=D,re.state.loading=5),Pa.has(l)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},Pa.set(l,p),D||gz(A,l,p,re.state))),u&&x===null)throw Error(n(528,""));return re}if(u&&x!==null)throw Error(n(529,""));return null;case"script":return u=p.async,p=p.src,typeof p=="string"&&u&&typeof u!="function"&&typeof u!="symbol"?(u=uu(p),p=ta(A).hoistableScripts,x=p.get(u),x||(x={type:"script",instance:null,count:0,state:null},p.set(u,x)),x):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,l))}}function du(l){return'href="'+Tr(l)+'"'}function pf(l){return'link[rel="stylesheet"]['+l+"]"}function EA(l){return f({},l,{"data-precedence":l.precedence,precedence:null})}function gz(l,u,p,x){l.querySelector('link[rel="preload"][as="style"]['+u+"]")?x.loading=1:(u=l.createElement("link"),x.preload=u,u.addEventListener("load",function(){return x.loading|=1}),u.addEventListener("error",function(){return x.loading|=2}),on(u,"link",p),Os(u),l.head.appendChild(u))}function uu(l){return'[src="'+Tr(l)+'"]'}function gf(l){return"script[async]"+l}function TA(l,u,p){if(u.count++,u.instance===null)switch(u.type){case"style":var x=l.querySelector('style[data-href~="'+Tr(p.href)+'"]');if(x)return u.instance=x,Os(x),x;var A=f({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return x=(l.ownerDocument||l).createElement("style"),Os(x),on(x,"style",A),dg(x,p.precedence,l),u.instance=x;case"stylesheet":A=du(p.href);var D=l.querySelector(pf(A));if(D)return u.state.loading|=4,u.instance=D,Os(D),D;x=EA(p),(A=Pa.get(A))&&kv(x,A),D=(l.ownerDocument||l).createElement("link"),Os(D);var re=D;return re._p=new Promise(function(je,De){re.onload=je,re.onerror=De}),on(D,"link",x),u.state.loading|=4,dg(D,p.precedence,l),u.instance=D;case"script":return D=uu(p.src),(A=l.querySelector(gf(D)))?(u.instance=A,Os(A),A):(x=p,(A=Pa.get(D))&&(x=f({},p),Av(x,A)),l=l.ownerDocument||l,A=l.createElement("script"),Os(A),on(A,"link",x),l.head.appendChild(A),u.instance=A);case"void":return null;default:throw Error(n(443,u.type))}else u.type==="stylesheet"&&(u.state.loading&4)===0&&(x=u.instance,u.state.loading|=4,dg(x,p.precedence,l));return u.instance}function dg(l,u,p){for(var x=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),A=x.length?x[x.length-1]:null,D=A,re=0;re<x.length;re++){var je=x[re];if(je.dataset.precedence===u)D=je;else if(D!==A)break}D?D.parentNode.insertBefore(l,D.nextSibling):(u=p.nodeType===9?p.head:p,u.insertBefore(l,u.firstChild))}function kv(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.title==null&&(l.title=u.title)}function Av(l,u){l.crossOrigin==null&&(l.crossOrigin=u.crossOrigin),l.referrerPolicy==null&&(l.referrerPolicy=u.referrerPolicy),l.integrity==null&&(l.integrity=u.integrity)}var ug=null;function RA(l,u,p){if(ug===null){var x=new Map,A=ug=new Map;A.set(p,x)}else A=ug,x=A.get(p),x||(x=new Map,A.set(p,x));if(x.has(l))return x;for(x.set(l,null),p=p.getElementsByTagName(l),A=0;A<p.length;A++){var D=p[A];if(!(D[Ya]||D[jr]||l==="link"&&D.getAttribute("rel")==="stylesheet")&&D.namespaceURI!=="http://www.w3.org/2000/svg"){var re=D.getAttribute(u)||"";re=l+re;var je=x.get(re);je?je.push(D):x.set(re,[D])}}return x}function DA(l,u,p){l=l.ownerDocument||l,l.head.insertBefore(p,u==="title"?l.querySelector("head > title"):null)}function xz(l,u,p){if(p===1||u.itemProp!=null)return!1;switch(l){case"meta":case"title":return!0;case"style":if(typeof u.precedence!="string"||typeof u.href!="string"||u.href==="")break;return!0;case"link":if(typeof u.rel!="string"||typeof u.href!="string"||u.href===""||u.onLoad||u.onError)break;switch(u.rel){case"stylesheet":return l=u.disabled,typeof u.precedence=="string"&&l==null;default:return!0}case"script":if(u.async&&typeof u.async!="function"&&typeof u.async!="symbol"&&!u.onLoad&&!u.onError&&u.src&&typeof u.src=="string")return!0}return!1}function MA(l){return!(l.type==="stylesheet"&&(l.state.loading&3)===0)}function yz(l,u,p,x){if(p.type==="stylesheet"&&(typeof x.media!="string"||matchMedia(x.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var A=du(x.href),D=u.querySelector(pf(A));if(D){u=D._p,u!==null&&typeof u=="object"&&typeof u.then=="function"&&(l.count++,l=hg.bind(l),u.then(l,l)),p.state.loading|=4,p.instance=D,Os(D);return}D=u.ownerDocument||u,x=EA(x),(A=Pa.get(A))&&kv(x,A),D=D.createElement("link"),Os(D);var re=D;re._p=new Promise(function(je,De){re.onload=je,re.onerror=De}),on(D,"link",x),p.instance=D}l.stylesheets===null&&(l.stylesheets=new Map),l.stylesheets.set(p,u),(u=p.state.preload)&&(p.state.loading&3)===0&&(l.count++,p=hg.bind(l),u.addEventListener("load",p),u.addEventListener("error",p))}}var Ev=0;function bz(l,u){return l.stylesheets&&l.count===0&&mg(l,l.stylesheets),0<l.count||0<l.imgCount?function(p){var x=setTimeout(function(){if(l.stylesheets&&mg(l,l.stylesheets),l.unsuspend){var D=l.unsuspend;l.unsuspend=null,D()}},6e4+u);0<l.imgBytes&&Ev===0&&(Ev=62500*J7());var A=setTimeout(function(){if(l.waitingForImages=!1,l.count===0&&(l.stylesheets&&mg(l,l.stylesheets),l.unsuspend)){var D=l.unsuspend;l.unsuspend=null,D()}},(l.imgBytes>Ev?50:800)+u);return l.unsuspend=p,function(){l.unsuspend=null,clearTimeout(x),clearTimeout(A)}}:null}function hg(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)mg(this,this.stylesheets);else if(this.unsuspend){var l=this.unsuspend;this.unsuspend=null,l()}}}var fg=null;function mg(l,u){l.stylesheets=null,l.unsuspend!==null&&(l.count++,fg=new Map,u.forEach(vz,l),fg=null,hg.call(l))}function vz(l,u){if(!(u.state.loading&4)){var p=fg.get(l);if(p)var x=p.get(null);else{p=new Map,fg.set(l,p);for(var A=l.querySelectorAll("link[data-precedence],style[data-precedence]"),D=0;D<A.length;D++){var re=A[D];(re.nodeName==="LINK"||re.getAttribute("media")!=="not all")&&(p.set(re.dataset.precedence,re),x=re)}x&&p.set(null,x)}A=u.instance,re=A.getAttribute("data-precedence"),D=p.get(re)||x,D===x&&p.set(null,A),p.set(re,A),this.count++,x=hg.bind(this),A.addEventListener("load",x),A.addEventListener("error",x),D?D.parentNode.insertBefore(A,D.nextSibling):(l=l.nodeType===9?l.head:l,l.insertBefore(A,l.firstChild)),u.state.loading|=4}}var xf={$$typeof:k,Provider:null,Consumer:null,_currentValue:X,_currentValue2:X,_threadCount:0};function wz(l,u,p,x,A,D,re,je,De){this.tag=1,this.containerInfo=l,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Ct(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ct(0),this.hiddenUpdates=Ct(null),this.identifierPrefix=x,this.onUncaughtError=A,this.onCaughtError=D,this.onRecoverableError=re,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=De,this.incompleteTransitions=new Map}function PA(l,u,p,x,A,D,re,je,De,Be,Ye,et){return l=new wz(l,u,p,re,De,Be,Ye,et,je),u=1,D===!0&&(u|=24),D=ia(3,null,null,u),l.current=D,D.stateNode=l,u=lb(),u.refCount++,l.pooledCache=u,u.refCount++,D.memoizedState={element:x,isDehydrated:p,cache:u},hb(D),l}function OA(l){return l?(l=$d,l):$d}function LA(l,u,p,x,A,D){A=OA(A),x.context===null?x.context=A:x.pendingContext=A,x=gl(u),x.payload={element:p},D=D===void 0?null:D,D!==null&&(x.callback=D),p=xl(l,x,u),p!==null&&($n(p,l,u),Yh(p,l,u))}function FA(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var p=l.retryLane;l.retryLane=p!==0&&p<u?p:u}}function Tv(l,u){FA(l,u),(l=l.alternate)&&FA(l,u)}function BA(l){if(l.tag===13||l.tag===31){var u=Sc(l,67108864);u!==null&&$n(u,l,67108864),Tv(l,67108864)}}function IA(l){if(l.tag===13||l.tag===31){var u=ua();u=Dn(u);var p=Sc(l,u);p!==null&&$n(p,l,u),Tv(l,u)}}var pg=!0;function jz(l,u,p,x){var A=K.T;K.T=null;var D=M.p;try{M.p=2,Rv(l,u,p,x)}finally{M.p=D,K.T=A}}function _z(l,u,p,x){var A=K.T;K.T=null;var D=M.p;try{M.p=8,Rv(l,u,p,x)}finally{M.p=D,K.T=A}}function Rv(l,u,p,x){if(pg){var A=Dv(x);if(A===null)xv(l,u,x,gg,p),UA(l,x);else if(Sz(A,l,u,p,x))x.stopPropagation();else if(UA(l,x),u&4&&-1<Nz.indexOf(l)){for(;A!==null;){var D=ea(A);if(D!==null)switch(D.tag){case 3:if(D=D.stateNode,D.current.memoizedState.isDehydrated){var re=wr(D.pendingLanes);if(re!==0){var je=D;for(je.pendingLanes|=2,je.entangledLanes|=2;re;){var De=1<<31-Ze(re);je.entanglements[1]|=De,re&=~De}Ai(D),(ks&6)===0&&(Qp=Me()+500,uf(0))}}break;case 31:case 13:je=Sc(D,2),je!==null&&$n(je,D,2),eg(),Tv(D,2)}if(D=Dv(x),D===null&&xv(l,u,x,gg,p),D===A)break;A=D}A!==null&&x.stopPropagation()}else xv(l,u,x,null,p)}}function Dv(l){return l=nl(l),Mv(l)}var gg=null;function Mv(l){if(gg=null,l=xi(l),l!==null){var u=i(l);if(u===null)l=null;else{var p=u.tag;if(p===13){if(l=o(u),l!==null)return l;l=null}else if(p===31){if(l=c(u),l!==null)return l;l=null}else if(p===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null)}}return gg=l,null}function zA(l){switch(l){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Re()){case $e:return 2;case Je:return 8;case st:case Nt:return 32;case St:return 268435456;default:return 32}default:return 32}}var Pv=!1,Al=null,El=null,Tl=null,yf=new Map,bf=new Map,Rl=[],Nz="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function UA(l,u){switch(l){case"focusin":case"focusout":Al=null;break;case"dragenter":case"dragleave":El=null;break;case"mouseover":case"mouseout":Tl=null;break;case"pointerover":case"pointerout":yf.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":bf.delete(u.pointerId)}}function vf(l,u,p,x,A,D){return l===null||l.nativeEvent!==D?(l={blockedOn:u,domEventName:p,eventSystemFlags:x,nativeEvent:D,targetContainers:[A]},u!==null&&(u=ea(u),u!==null&&BA(u)),l):(l.eventSystemFlags|=x,u=l.targetContainers,A!==null&&u.indexOf(A)===-1&&u.push(A),l)}function Sz(l,u,p,x,A){switch(u){case"focusin":return Al=vf(Al,l,u,p,x,A),!0;case"dragenter":return El=vf(El,l,u,p,x,A),!0;case"mouseover":return Tl=vf(Tl,l,u,p,x,A),!0;case"pointerover":var D=A.pointerId;return yf.set(D,vf(yf.get(D)||null,l,u,p,x,A)),!0;case"gotpointercapture":return D=A.pointerId,bf.set(D,vf(bf.get(D)||null,l,u,p,x,A)),!0}return!1}function $A(l){var u=xi(l.target);if(u!==null){var p=i(u);if(p!==null){if(u=p.tag,u===13){if(u=o(p),u!==null){l.blockedOn=u,Pd(l.priority,function(){IA(p)});return}}else if(u===31){if(u=c(p),u!==null){l.blockedOn=u,Pd(l.priority,function(){IA(p)});return}}else if(u===3&&p.stateNode.current.memoizedState.isDehydrated){l.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}l.blockedOn=null}function xg(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var p=Dv(l.nativeEvent);if(p===null){p=l.nativeEvent;var x=new p.constructor(p.type,p);bc=x,p.target.dispatchEvent(x),bc=null}else return u=ea(p),u!==null&&BA(u),l.blockedOn=p,!1;u.shift()}return!0}function VA(l,u,p){xg(l)&&p.delete(u)}function Cz(){Pv=!1,Al!==null&&xg(Al)&&(Al=null),El!==null&&xg(El)&&(El=null),Tl!==null&&xg(Tl)&&(Tl=null),yf.forEach(VA),bf.forEach(VA)}function yg(l,u){l.blockedOn===u&&(l.blockedOn=null,Pv||(Pv=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,Cz)))}var bg=null;function HA(l){bg!==l&&(bg=l,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){bg===l&&(bg=null);for(var u=0;u<l.length;u+=3){var p=l[u],x=l[u+1],A=l[u+2];if(typeof x!="function"){if(Mv(x||p)===null)continue;break}var D=ea(p);D!==null&&(l.splice(u,3),u-=3,Db(D,{pending:!0,data:A,method:p.method,action:x},x,A))}}))}function hu(l){function u(De){return yg(De,l)}Al!==null&&yg(Al,l),El!==null&&yg(El,l),Tl!==null&&yg(Tl,l),yf.forEach(u),bf.forEach(u);for(var p=0;p<Rl.length;p++){var x=Rl[p];x.blockedOn===l&&(x.blockedOn=null)}for(;0<Rl.length&&(p=Rl[0],p.blockedOn===null);)$A(p),p.blockedOn===null&&Rl.shift();if(p=(l.ownerDocument||l).$$reactFormReplay,p!=null)for(x=0;x<p.length;x+=3){var A=p[x],D=p[x+1],re=A[fr]||null;if(typeof D=="function")re||HA(p);else if(re){var je=null;if(D&&D.hasAttribute("formAction")){if(A=D,re=D[fr]||null)je=re.formAction;else if(Mv(A)!==null)continue}else je=re.action;typeof je=="function"?p[x+1]=je:(p.splice(x,3),x-=3),HA(p)}}}function qA(){function l(D){D.canIntercept&&D.info==="react-transition"&&D.intercept({handler:function(){return new Promise(function(re){return A=re})},focusReset:"manual",scroll:"manual"})}function u(){A!==null&&(A(),A=null),x||setTimeout(p,20)}function p(){if(!x&&!navigation.transition){var D=navigation.currentEntry;D&&D.url!=null&&navigation.navigate(D.url,{state:D.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var x=!1,A=null;return navigation.addEventListener("navigate",l),navigation.addEventListener("navigatesuccess",u),navigation.addEventListener("navigateerror",u),setTimeout(p,100),function(){x=!0,navigation.removeEventListener("navigate",l),navigation.removeEventListener("navigatesuccess",u),navigation.removeEventListener("navigateerror",u),A!==null&&(A(),A=null)}}}function Ov(l){this._internalRoot=l}vg.prototype.render=Ov.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(n(409));var p=u.current,x=ua();LA(p,x,l,u,null,null)},vg.prototype.unmount=Ov.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;LA(l.current,2,null,l,null,null),eg(),u[Er]=null}};function vg(l){this._internalRoot=l}vg.prototype.unstable_scheduleHydration=function(l){if(l){var u=gi();l={blockedOn:null,target:l,priority:u};for(var p=0;p<Rl.length&&u!==0&&u<Rl[p].priority;p++);Rl.splice(p,0,l),p===0&&$A(l)}};var WA=e.version;if(WA!=="19.2.1")throw Error(n(527,WA,"19.2.1"));M.findDOMNode=function(l){var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(n(188)):(l=Object.keys(l).join(","),Error(n(268,l)));return l=h(u),l=l!==null?m(l):null,l=l===null?null:l.stateNode,l};var kz={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:K,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wg=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wg.isDisabled&&wg.supportsFiber)try{kt=wg.inject(kz),ds=wg}catch{}}return wf.createRoot=function(l,u){if(!a(l))throw Error(n(299));var p=!1,x="",A=JC,D=ek,re=tk;return u!=null&&(u.unstable_strictMode===!0&&(p=!0),u.identifierPrefix!==void 0&&(x=u.identifierPrefix),u.onUncaughtError!==void 0&&(A=u.onUncaughtError),u.onCaughtError!==void 0&&(D=u.onCaughtError),u.onRecoverableError!==void 0&&(re=u.onRecoverableError)),u=PA(l,1,!1,null,null,p,x,null,A,D,re,qA),l[Er]=u.current,gv(l),new Ov(u)},wf.hydrateRoot=function(l,u,p){if(!a(l))throw Error(n(299));var x=!1,A="",D=JC,re=ek,je=tk,De=null;return p!=null&&(p.unstable_strictMode===!0&&(x=!0),p.identifierPrefix!==void 0&&(A=p.identifierPrefix),p.onUncaughtError!==void 0&&(D=p.onUncaughtError),p.onCaughtError!==void 0&&(re=p.onCaughtError),p.onRecoverableError!==void 0&&(je=p.onRecoverableError),p.formState!==void 0&&(De=p.formState)),u=PA(l,1,!0,u,p??null,x,A,De,D,re,je,qA),u.context=OA(null),p=u.current,x=ua(),x=Dn(x),A=gl(x),A.callback=null,xl(p,A,x),p=x,u.current.lanes=p,ot(u,p),Ai(u),l[Er]=u.current,gv(l),new vg(u)},wf.version="19.2.1",wf}var eE;function Oz(){if(eE)return Fv.exports;eE=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Fv.exports=Pz(),Fv.exports}var Lz=Oz();const Fz=C0(Lz);var Uv={exports:{}},jf={};var tE;function Bz(){if(tE)return jf;tE=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,a,i){var o=null;if(i!==void 0&&(o=""+i),a.key!==void 0&&(o=""+a.key),"key"in a){i={};for(var c in a)c!=="key"&&(i[c]=a[c])}else i=a;return a=i.ref,{$$typeof:t,type:n,key:o,ref:a!==void 0?a:null,props:i}}return jf.Fragment=e,jf.jsx=r,jf.jsxs=r,jf}var sE;function Iz(){return sE||(sE=1,Uv.exports=Bz()),Uv.exports}var s=Iz();const qt=t=>typeof t=="string",_f=()=>{let t,e;const r=new Promise((n,a)=>{t=n,e=a});return r.resolve=t,r.reject=e,r},rE=t=>t==null?"":""+t,zz=(t,e,r)=>{t.forEach(n=>{e[n]&&(r[n]=e[n])})},Uz=/###/g,nE=t=>t&&t.indexOf("###")>-1?t.replace(Uz,"."):t,aE=t=>!t||qt(t),Zf=(t,e,r)=>{const n=qt(e)?e.split("."):e;let a=0;for(;a<n.length-1;){if(aE(t))return{};const i=nE(n[a]);!t[i]&&r&&(t[i]=new r),Object.prototype.hasOwnProperty.call(t,i)?t=t[i]:t={},++a}return aE(t)?{}:{obj:t,k:nE(n[a])}},iE=(t,e,r)=>{const{obj:n,k:a}=Zf(t,e,Object);if(n!==void 0||e.length===1){n[a]=r;return}let i=e[e.length-1],o=e.slice(0,e.length-1),c=Zf(t,o,Object);for(;c.obj===void 0&&o.length;)i=`${o[o.length-1]}.${i}`,o=o.slice(0,o.length-1),c=Zf(t,o,Object),c?.obj&&typeof c.obj[`${c.k}.${i}`]<"u"&&(c.obj=void 0);c.obj[`${c.k}.${i}`]=r},$z=(t,e,r,n)=>{const{obj:a,k:i}=Zf(t,e,Object);a[i]=a[i]||[],a[i].push(r)},Px=(t,e)=>{const{obj:r,k:n}=Zf(t,e);if(r&&Object.prototype.hasOwnProperty.call(r,n))return r[n]},Vz=(t,e,r)=>{const n=Px(t,r);return n!==void 0?n:Px(e,r)},n6=(t,e,r)=>{for(const n in e)n!=="__proto__"&&n!=="constructor"&&(n in t?qt(t[n])||t[n]instanceof String||qt(e[n])||e[n]instanceof String?r&&(t[n]=e[n]):n6(t[n],e[n],r):t[n]=e[n]);return t},fu=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var Hz={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const qz=t=>qt(t)?t.replace(/[&<>"'\/]/g,e=>Hz[e]):t;class Wz{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const r=this.regExpMap.get(e);if(r!==void 0)return r;const n=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,n),this.regExpQueue.push(e),n}}const Gz=[" ",",","?","!",";"],Yz=new Wz(20),Kz=(t,e,r)=>{e=e||"",r=r||"";const n=Gz.filter(o=>e.indexOf(o)<0&&r.indexOf(o)<0);if(n.length===0)return!0;const a=Yz.getRegExp(`(${n.map(o=>o==="?"?"\\?":o).join("|")})`);let i=!a.test(t);if(!i){const o=t.indexOf(r);o>0&&!a.test(t.substring(0,o))&&(i=!0)}return i},K1=(t,e,r=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const n=e.split(r);let a=t;for(let i=0;i<n.length;){if(!a||typeof a!="object")return;let o,c="";for(let d=i;d<n.length;++d)if(d!==i&&(c+=r),c+=n[d],o=a[c],o!==void 0){if(["string","number","boolean"].indexOf(typeof o)>-1&&d<n.length-1)continue;i+=d-i+1;break}a=o}return a},cm=t=>t?.replace("_","-"),Xz={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}};class Ox{constructor(e,r={}){this.init(e,r)}init(e,r={}){this.prefix=r.prefix||"i18next:",this.logger=e||Xz,this.options=r,this.debug=r.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,r,n,a){return a&&!this.debug?null:(qt(e[0])&&(e[0]=`${n}${this.prefix} ${e[0]}`),this.logger[r](e))}create(e){return new Ox(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new Ox(this.logger,e)}}var Fi=new Ox;class A0{constructor(){this.observers={}}on(e,r){return e.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const a=this.observers[n].get(r)||0;this.observers[n].set(r,a+1)}),this}off(e,r){if(this.observers[e]){if(!r){delete this.observers[e];return}this.observers[e].delete(r)}}emit(e,...r){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([a,i])=>{for(let o=0;o<i;o++)a(...r)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,i])=>{for(let o=0;o<i;o++)a.apply(a,[e,...r])})}}class oE extends A0{constructor(e,r={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const r=this.options.ns.indexOf(e);r>-1&&this.options.ns.splice(r,1)}getResource(e,r,n,a={}){const i=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,o=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let c;e.indexOf(".")>-1?c=e.split("."):(c=[e,r],n&&(Array.isArray(n)?c.push(...n):qt(n)&&i?c.push(...n.split(i)):c.push(n)));const d=Px(this.data,c);return!d&&!r&&!n&&e.indexOf(".")>-1&&(e=c[0],r=c[1],n=c.slice(2).join(".")),d||!o||!qt(n)?d:K1(this.data?.[e]?.[r],n,i)}addResource(e,r,n,a,i={silent:!1}){const o=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let c=[e,r];n&&(c=c.concat(o?n.split(o):n)),e.indexOf(".")>-1&&(c=e.split("."),a=r,r=c[1]),this.addNamespaces(r),iE(this.data,c,a),i.silent||this.emit("added",e,r,n,a)}addResources(e,r,n,a={silent:!1}){for(const i in n)(qt(n[i])||Array.isArray(n[i]))&&this.addResource(e,r,i,n[i],{silent:!0});a.silent||this.emit("added",e,r,n)}addResourceBundle(e,r,n,a,i,o={silent:!1,skipCopy:!1}){let c=[e,r];e.indexOf(".")>-1&&(c=e.split("."),a=n,n=r,r=c[1]),this.addNamespaces(r);let d=Px(this.data,c)||{};o.skipCopy||(n=JSON.parse(JSON.stringify(n))),a?n6(d,n,i):d={...d,...n},iE(this.data,c,d),o.silent||this.emit("added",e,r,n)}removeResourceBundle(e,r){this.hasResourceBundle(e,r)&&delete this.data[e][r],this.removeNamespaces(r),this.emit("removed",e,r)}hasResourceBundle(e,r){return this.getResource(e,r)!==void 0}getResourceBundle(e,r){return r||(r=this.options.defaultNS),this.getResource(e,r)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const r=this.getDataByLanguage(e);return!!(r&&Object.keys(r)||[]).find(a=>r[a]&&Object.keys(r[a]).length>0)}toJSON(){return this.data}}var a6={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,r,n,a){return t.forEach(i=>{e=this.processors[i]?.process(e,r,n,a)??e}),e}};const i6=Symbol("i18next/PATH_KEY");function Zz(){const t=[],e=Object.create(null);let r;return e.get=(n,a)=>(r?.revoke?.(),a===i6?t:(t.push(a),r=Proxy.revocable(n,e),r.proxy)),Proxy.revocable(Object.create(null),e).proxy}function X1(t,e){const{[i6]:r}=t(Zz());return r.join(e?.keySeparator??".")}const lE={},$v=t=>!qt(t)&&typeof t!="boolean"&&typeof t!="number";class Lx extends A0{constructor(e,r={}){super(),zz(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=r,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Fi.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,r={interpolation:{}}){const n={...r};if(e==null)return!1;const a=this.resolve(e,n);if(a?.res===void 0)return!1;const i=$v(a.res);return!(n.returnObjects===!1&&i)}extractFromKey(e,r){let n=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const a=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator;let i=r.ns||this.options.defaultNS||[];const o=n&&e.indexOf(n)>-1,c=!this.options.userDefinedKeySeparator&&!r.keySeparator&&!this.options.userDefinedNsSeparator&&!r.nsSeparator&&!Kz(e,n,a);if(o&&!c){const d=e.match(this.interpolator.nestingRegexp);if(d&&d.length>0)return{key:e,namespaces:qt(i)?[i]:i};const h=e.split(n);(n!==a||n===a&&this.options.ns.indexOf(h[0])>-1)&&(i=h.shift()),e=h.join(a)}return{key:e,namespaces:qt(i)?[i]:i}}translate(e,r,n){let a=typeof r=="object"?{...r}:r;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a={...a}),a||(a={}),e==null)return"";typeof e=="function"&&(e=X1(e,{...this.options,...a})),Array.isArray(e)||(e=[String(e)]);const i=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,o=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:c,namespaces:d}=this.extractFromKey(e[e.length-1],a),h=d[d.length-1];let m=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;m===void 0&&(m=":");const f=a.lng||this.language,g=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(f?.toLowerCase()==="cimode")return g?i?{res:`${h}${m}${c}`,usedKey:c,exactUsedKey:c,usedLng:f,usedNS:h,usedParams:this.getUsedParamsDetails(a)}:`${h}${m}${c}`:i?{res:c,usedKey:c,exactUsedKey:c,usedLng:f,usedNS:h,usedParams:this.getUsedParamsDetails(a)}:c;const y=this.resolve(e,a);let v=y?.res;const w=y?.usedKey||c,j=y?.exactUsedKey||c,b=["[object Number]","[object Function]","[object RegExp]"],N=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,k=!this.i18nFormat||this.i18nFormat.handleAsObject,S=a.count!==void 0&&!qt(a.count),C=Lx.hasDefaultValue(a),B=S?this.pluralResolver.getSuffix(f,a.count,a):"",E=a.ordinal&&S?this.pluralResolver.getSuffix(f,a.count,{ordinal:!1}):"",z=S&&!a.ordinal&&a.count===0,T=z&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${B}`]||a[`defaultValue${E}`]||a.defaultValue;let W=v;k&&!v&&C&&(W=T);const U=$v(W),L=Object.prototype.toString.apply(W);if(k&&W&&U&&b.indexOf(L)<0&&!(qt(N)&&Array.isArray(W))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const Z=this.options.returnedObjectHandler?this.options.returnedObjectHandler(w,W,{...a,ns:d}):`key '${c} (${this.language})' returned an object instead of string.`;return i?(y.res=Z,y.usedParams=this.getUsedParamsDetails(a),y):Z}if(o){const Z=Array.isArray(W),O=Z?[]:{},se=Z?j:w;for(const K in W)if(Object.prototype.hasOwnProperty.call(W,K)){const M=`${se}${o}${K}`;C&&!v?O[K]=this.translate(M,{...a,defaultValue:$v(T)?T[K]:void 0,joinArrays:!1,ns:d}):O[K]=this.translate(M,{...a,joinArrays:!1,ns:d}),O[K]===M&&(O[K]=W[K])}v=O}}else if(k&&qt(N)&&Array.isArray(v))v=v.join(N),v&&(v=this.extendTranslation(v,e,a,n));else{let Z=!1,O=!1;!this.isValidLookup(v)&&C&&(Z=!0,v=T),this.isValidLookup(v)||(O=!0,v=c);const K=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&O?void 0:v,M=C&&T!==v&&this.options.updateMissing;if(O||Z||M){if(this.logger.log(M?"updateKey":"missingKey",f,h,c,M?T:v),o){const q=this.resolve(c,{...a,keySeparator:!1});q&&q.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let X=[];const $=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&$&&$[0])for(let q=0;q<$.length;q++)X.push($[q]);else this.options.saveMissingTo==="all"?X=this.languageUtils.toResolveHierarchy(a.lng||this.language):X.push(a.lng||this.language);const oe=(q,Y,ce)=>{const le=C&&ce!==v?ce:K;this.options.missingKeyHandler?this.options.missingKeyHandler(q,h,Y,le,M,a):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(q,h,Y,le,M,a),this.emit("missingKey",q,h,Y,v)};this.options.saveMissing&&(this.options.saveMissingPlurals&&S?X.forEach(q=>{const Y=this.pluralResolver.getSuffixes(q,a);z&&a[`defaultValue${this.options.pluralSeparator}zero`]&&Y.indexOf(`${this.options.pluralSeparator}zero`)<0&&Y.push(`${this.options.pluralSeparator}zero`),Y.forEach(ce=>{oe([q],c+ce,a[`defaultValue${ce}`]||T)})}):oe(X,c,T))}v=this.extendTranslation(v,e,a,y,n),O&&v===c&&this.options.appendNamespaceToMissingKey&&(v=`${h}${m}${c}`),(O||Z)&&this.options.parseMissingKeyHandler&&(v=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}${m}${c}`:c,Z?v:void 0,a))}return i?(y.res=v,y.usedParams=this.getUsedParamsDetails(a),y):v}extendTranslation(e,r,n,a,i){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const d=qt(e)&&(n?.interpolation?.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(d){const f=e.match(this.interpolator.nestingRegexp);h=f&&f.length}let m=n.replace&&!qt(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(m={...this.options.interpolation.defaultVariables,...m}),e=this.interpolator.interpolate(e,m,n.lng||this.language||a.usedLng,n),d){const f=e.match(this.interpolator.nestingRegexp),g=f&&f.length;h<g&&(n.nest=!1)}!n.lng&&a&&a.res&&(n.lng=this.language||a.usedLng),n.nest!==!1&&(e=this.interpolator.nest(e,(...f)=>i?.[0]===f[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${f[0]} in key: ${r[0]}`),null):this.translate(...f,r),n)),n.interpolation&&this.interpolator.reset()}const o=n.postProcess||this.options.postProcess,c=qt(o)?[o]:o;return e!=null&&c?.length&&n.applyPostProcessor!==!1&&(e=a6.handle(c,e,r,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),e}resolve(e,r={}){let n,a,i,o,c;return qt(e)&&(e=[e]),e.forEach(d=>{if(this.isValidLookup(n))return;const h=this.extractFromKey(d,r),m=h.key;a=m;let f=h.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const g=r.count!==void 0&&!qt(r.count),y=g&&!r.ordinal&&r.count===0,v=r.context!==void 0&&(qt(r.context)||typeof r.context=="number")&&r.context!=="",w=r.lngs?r.lngs:this.languageUtils.toResolveHierarchy(r.lng||this.language,r.fallbackLng);f.forEach(j=>{this.isValidLookup(n)||(c=j,!lE[`${w[0]}-${j}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(c)&&(lE[`${w[0]}-${j}`]=!0,this.logger.warn(`key "${a}" for languages "${w.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),w.forEach(b=>{if(this.isValidLookup(n))return;o=b;const N=[m];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(N,m,b,j,r);else{let S;g&&(S=this.pluralResolver.getSuffix(b,r.count,r));const C=`${this.options.pluralSeparator}zero`,B=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(g&&(r.ordinal&&S.indexOf(B)===0&&N.push(m+S.replace(B,this.options.pluralSeparator)),N.push(m+S),y&&N.push(m+C)),v){const E=`${m}${this.options.contextSeparator||"_"}${r.context}`;N.push(E),g&&(r.ordinal&&S.indexOf(B)===0&&N.push(E+S.replace(B,this.options.pluralSeparator)),N.push(E+S),y&&N.push(E+C))}}let k;for(;k=N.pop();)this.isValidLookup(n)||(i=k,n=this.getResource(b,j,k,r))}))})}),{res:n,usedKey:a,exactUsedKey:i,usedLng:o,usedNS:c}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,r,n,a={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,r,n,a):this.resourceStore.getResource(e,r,n,a)}getUsedParamsDetails(e={}){const r=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=e.replace&&!qt(e.replace);let a=n?e.replace:e;if(n&&typeof e.count<"u"&&(a.count=e.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!n){a={...a};for(const i of r)delete a[i]}return a}static hasDefaultValue(e){const r="defaultValue";for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&r===n.substring(0,r.length)&&e[n]!==void 0)return!0;return!1}}class cE{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Fi.create("languageUtils")}getScriptPartFromCode(e){if(e=cm(e),!e||e.indexOf("-")<0)return null;const r=e.split("-");return r.length===2||(r.pop(),r[r.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(r.join("-"))}getLanguagePartFromCode(e){if(e=cm(e),!e||e.indexOf("-")<0)return e;const r=e.split("-");return this.formatLanguageCode(r[0])}formatLanguageCode(e){if(qt(e)&&e.indexOf("-")>-1){let r;try{r=Intl.getCanonicalLocales(e)[0]}catch{}return r&&this.options.lowerCaseLng&&(r=r.toLowerCase()),r||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let r;return e.forEach(n=>{if(r)return;const a=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(a))&&(r=a)}),!r&&this.options.supportedLngs&&e.forEach(n=>{if(r)return;const a=this.getScriptPartFromCode(n);if(this.isSupportedCode(a))return r=a;const i=this.getLanguagePartFromCode(n);if(this.isSupportedCode(i))return r=i;r=this.options.supportedLngs.find(o=>{if(o===i)return o;if(!(o.indexOf("-")<0&&i.indexOf("-")<0)&&(o.indexOf("-")>0&&i.indexOf("-")<0&&o.substring(0,o.indexOf("-"))===i||o.indexOf(i)===0&&i.length>1))return o})}),r||(r=this.getFallbackCodes(this.options.fallbackLng)[0]),r}getFallbackCodes(e,r){if(!e)return[];if(typeof e=="function"&&(e=e(r)),qt(e)&&(e=[e]),Array.isArray(e))return e;if(!r)return e.default||[];let n=e[r];return n||(n=e[this.getScriptPartFromCode(r)]),n||(n=e[this.formatLanguageCode(r)]),n||(n=e[this.getLanguagePartFromCode(r)]),n||(n=e.default),n||[]}toResolveHierarchy(e,r){const n=this.getFallbackCodes((r===!1?[]:r)||this.options.fallbackLng||[],e),a=[],i=o=>{o&&(this.isSupportedCode(o)?a.push(o):this.logger.warn(`rejecting language code not found in supportedLngs: ${o}`))};return qt(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(e))):qt(e)&&i(this.formatLanguageCode(e)),n.forEach(o=>{a.indexOf(o)<0&&i(this.formatLanguageCode(o))}),a}}const dE={zero:0,one:1,two:2,few:3,many:4,other:5},uE={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Qz{constructor(e,r={}){this.languageUtils=e,this.options=r,this.logger=Fi.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,r){this.rules[e]=r}clearCache(){this.pluralRulesCache={}}getRule(e,r={}){const n=cm(e==="dev"?"en":e),a=r.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:n,type:a});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let o;try{o=new Intl.PluralRules(n,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),uE;if(!e.match(/-|_/))return uE;const d=this.languageUtils.getLanguagePartFromCode(e);o=this.getRule(d,r)}return this.pluralRulesCache[i]=o,o}needsPlural(e,r={}){let n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),n?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,r,n={}){return this.getSuffixes(e,n).map(a=>`${r}${a}`)}getSuffixes(e,r={}){let n=this.getRule(e,r);return n||(n=this.getRule("dev",r)),n?n.resolvedOptions().pluralCategories.sort((a,i)=>dE[a]-dE[i]).map(a=>`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(e,r,n={}){const a=this.getRule(e,n);return a?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a.select(r)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",r,n))}}const hE=(t,e,r,n=".",a=!0)=>{let i=Vz(t,e,r);return!i&&a&&qt(r)&&(i=K1(t,r,n),i===void 0&&(i=K1(e,r,n))),i},Vv=t=>t.replace(/\$/g,"$$$$");class fE{constructor(e={}){this.logger=Fi.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:r,escapeValue:n,useRawValueToEscape:a,prefix:i,prefixEscaped:o,suffix:c,suffixEscaped:d,formatSeparator:h,unescapeSuffix:m,unescapePrefix:f,nestingPrefix:g,nestingPrefixEscaped:y,nestingSuffix:v,nestingSuffixEscaped:w,nestingOptionsSeparator:j,maxReplaces:b,alwaysFormat:N}=e.interpolation;this.escape=r!==void 0?r:qz,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=i?fu(i):o||"{{",this.suffix=c?fu(c):d||"}}",this.formatSeparator=h||",",this.unescapePrefix=m?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":m||"",this.nestingPrefix=g?fu(g):y||fu("$t("),this.nestingSuffix=v?fu(v):w||fu(")"),this.nestingOptionsSeparator=j||",",this.maxReplaces=b||1e3,this.alwaysFormat=N!==void 0?N:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(r,n)=>r?.source===n?(r.lastIndex=0,r):new RegExp(n,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,r,n,a){let i,o,c;const d=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=y=>{if(y.indexOf(this.formatSeparator)<0){const b=hE(r,d,y,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(b,void 0,n,{...a,...r,interpolationkey:y}):b}const v=y.split(this.formatSeparator),w=v.shift().trim(),j=v.join(this.formatSeparator).trim();return this.format(hE(r,d,w,this.options.keySeparator,this.options.ignoreJSONStructure),j,n,{...a,...r,interpolationkey:w})};this.resetRegExp();const m=a?.missingInterpolationHandler||this.options.missingInterpolationHandler,f=a?.interpolation?.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:y=>Vv(y)},{regex:this.regexp,safeValue:y=>this.escapeValue?Vv(this.escape(y)):Vv(y)}].forEach(y=>{for(c=0;i=y.regex.exec(e);){const v=i[1].trim();if(o=h(v),o===void 0)if(typeof m=="function"){const j=m(e,i,a);o=qt(j)?j:""}else if(a&&Object.prototype.hasOwnProperty.call(a,v))o="";else if(f){o=i[0];continue}else this.logger.warn(`missed to pass in variable ${v} for interpolating ${e}`),o="";else!qt(o)&&!this.useRawValueToEscape&&(o=rE(o));const w=y.safeValue(o);if(e=e.replace(i[0],w),f?(y.regex.lastIndex+=o.length,y.regex.lastIndex-=i[0].length):y.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),e}nest(e,r,n={}){let a,i,o;const c=(d,h)=>{const m=this.nestingOptionsSeparator;if(d.indexOf(m)<0)return d;const f=d.split(new RegExp(`${m}[ ]*{`));let g=`{${f[1]}`;d=f[0],g=this.interpolate(g,o);const y=g.match(/'/g),v=g.match(/"/g);((y?.length??0)%2===0&&!v||v.length%2!==0)&&(g=g.replace(/'/g,'"'));try{o=JSON.parse(g),h&&(o={...h,...o})}catch(w){return this.logger.warn(`failed parsing options string in nesting for key ${d}`,w),`${d}${m}${g}`}return o.defaultValue&&o.defaultValue.indexOf(this.prefix)>-1&&delete o.defaultValue,d};for(;a=this.nestingRegexp.exec(e);){let d=[];o={...n},o=o.replace&&!qt(o.replace)?o.replace:o,o.applyPostProcessor=!1,delete o.defaultValue;const h=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(h!==-1&&(d=a[1].slice(h).split(this.formatSeparator).map(m=>m.trim()).filter(Boolean),a[1]=a[1].slice(0,h)),i=r(c.call(this,a[1].trim(),o),o),i&&a[0]===e&&!qt(i))return i;qt(i)||(i=rE(i)),i||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${e}`),i=""),d.length&&(i=d.reduce((m,f)=>this.format(m,f,n.lng,{...n,interpolationkey:a[1].trim()}),i.trim())),e=e.replace(a[0],i),this.regexp.lastIndex=0}return e}}const Jz=t=>{let e=t.toLowerCase().trim();const r={};if(t.indexOf("(")>-1){const n=t.split("(");e=n[0].toLowerCase().trim();const a=n[1].substring(0,n[1].length-1);e==="currency"&&a.indexOf(":")<0?r.currency||(r.currency=a.trim()):e==="relativetime"&&a.indexOf(":")<0?r.range||(r.range=a.trim()):a.split(";").forEach(o=>{if(o){const[c,...d]=o.split(":"),h=d.join(":").trim().replace(/^'+|'+$/g,""),m=c.trim();r[m]||(r[m]=h),h==="false"&&(r[m]=!1),h==="true"&&(r[m]=!0),isNaN(h)||(r[m]=parseInt(h,10))}})}return{formatName:e,formatOptions:r}},mE=t=>{const e={};return(r,n,a)=>{let i=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(i={...i,[a.interpolationkey]:void 0});const o=n+JSON.stringify(i);let c=e[o];return c||(c=t(cm(n),a),e[o]=c),c(r)}},eU=t=>(e,r,n)=>t(cm(r),n)(e);let tU=class{constructor(e={}){this.logger=Fi.create("formatter"),this.options=e,this.init(e)}init(e,r={interpolation:{}}){this.formatSeparator=r.interpolation.formatSeparator||",";const n=r.cacheInBuiltFormats?mE:eU;this.formats={number:n((a,i)=>{const o=new Intl.NumberFormat(a,{...i});return c=>o.format(c)}),currency:n((a,i)=>{const o=new Intl.NumberFormat(a,{...i,style:"currency"});return c=>o.format(c)}),datetime:n((a,i)=>{const o=new Intl.DateTimeFormat(a,{...i});return c=>o.format(c)}),relativetime:n((a,i)=>{const o=new Intl.RelativeTimeFormat(a,{...i});return c=>o.format(c,i.range||"day")}),list:n((a,i)=>{const o=new Intl.ListFormat(a,{...i});return c=>o.format(c)})}}add(e,r){this.formats[e.toLowerCase().trim()]=r}addCached(e,r){this.formats[e.toLowerCase().trim()]=mE(r)}format(e,r,n,a={}){const i=r.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(c=>c.indexOf(")")>-1)){const c=i.findIndex(d=>d.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,c)].join(this.formatSeparator)}return i.reduce((c,d)=>{const{formatName:h,formatOptions:m}=Jz(d);if(this.formats[h]){let f=c;try{const g=a?.formatParams?.[a.interpolationkey]||{},y=g.locale||g.lng||a.locale||a.lng||n;f=this.formats[h](c,y,{...m,...a,...g})}catch(g){this.logger.warn(g)}return f}else this.logger.warn(`there was no format function for ${h}`);return c},e)}};const sU=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class rU extends A0{constructor(e,r,n,a={}){super(),this.backend=e,this.store=r,this.services=n,this.languageUtils=n.languageUtils,this.options=a,this.logger=Fi.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(n,a.backend,a)}queueLoad(e,r,n,a){const i={},o={},c={},d={};return e.forEach(h=>{let m=!0;r.forEach(f=>{const g=`${h}|${f}`;!n.reload&&this.store.hasResourceBundle(h,f)?this.state[g]=2:this.state[g]<0||(this.state[g]===1?o[g]===void 0&&(o[g]=!0):(this.state[g]=1,m=!1,o[g]===void 0&&(o[g]=!0),i[g]===void 0&&(i[g]=!0),d[f]===void 0&&(d[f]=!0)))}),m||(c[h]=!0)}),(Object.keys(i).length||Object.keys(o).length)&&this.queue.push({pending:o,pendingCount:Object.keys(o).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(i),pending:Object.keys(o),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(d)}}loaded(e,r,n){const a=e.split("|"),i=a[0],o=a[1];r&&this.emit("failedLoading",i,o,r),!r&&n&&this.store.addResourceBundle(i,o,n,void 0,void 0,{skipCopy:!0}),this.state[e]=r?-1:2,r&&n&&(this.state[e]=0);const c={};this.queue.forEach(d=>{$z(d.loaded,[i],o),sU(d,e),r&&d.errors.push(r),d.pendingCount===0&&!d.done&&(Object.keys(d.loaded).forEach(h=>{c[h]||(c[h]={});const m=d.loaded[h];m.length&&m.forEach(f=>{c[h][f]===void 0&&(c[h][f]=!0)})}),d.done=!0,d.errors.length?d.callback(d.errors):d.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(d=>!d.done)}read(e,r,n,a=0,i=this.retryTimeout,o){if(!e.length)return o(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:r,fcName:n,tried:a,wait:i,callback:o});return}this.readingCalls++;const c=(h,m)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(h&&m&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,e,r,n,a+1,i*2,o)},i);return}o(h,m)},d=this.backend[n].bind(this.backend);if(d.length===2){try{const h=d(e,r);h&&typeof h.then=="function"?h.then(m=>c(null,m)).catch(c):c(null,h)}catch(h){c(h)}return}return d(e,r,c)}prepareLoading(e,r,n={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();qt(e)&&(e=this.languageUtils.toResolveHierarchy(e)),qt(r)&&(r=[r]);const i=this.queueLoad(e,r,n,a);if(!i.toLoad.length)return i.pending.length||a(),null;i.toLoad.forEach(o=>{this.loadOne(o)})}load(e,r,n){this.prepareLoading(e,r,{},n)}reload(e,r,n){this.prepareLoading(e,r,{reload:!0},n)}loadOne(e,r=""){const n=e.split("|"),a=n[0],i=n[1];this.read(a,i,"read",void 0,void 0,(o,c)=>{o&&this.logger.warn(`${r}loading namespace ${i} for language ${a} failed`,o),!o&&c&&this.logger.log(`${r}loaded namespace ${i} for language ${a}`,c),this.loaded(e,o,c)})}saveMissing(e,r,n,a,i,o={},c=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(r)){this.logger.warn(`did not save key "${n}" as the namespace "${r}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend?.create){const d={...o,isUpdate:i},h=this.backend.create.bind(this.backend);if(h.length<6)try{let m;h.length===5?m=h(e,r,n,a,d):m=h(e,r,n,a),m&&typeof m.then=="function"?m.then(f=>c(null,f)).catch(c):c(null,m)}catch(m){c(m)}else h(e,r,n,a,c,d)}!e||!e[0]||this.store.addResource(e[0],r,n,a)}}}const pE=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),qt(t[1])&&(e.defaultValue=t[1]),qt(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const r=t[3]||t[2];Object.keys(r).forEach(n=>{e[n]=r[n]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),gE=t=>(qt(t.ns)&&(t.ns=[t.ns]),qt(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),qt(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),jg=()=>{},nU=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(r=>{typeof t[r]=="function"&&(t[r]=t[r].bind(t))})};class Qf extends A0{constructor(e={},r){if(super(),this.options=gE(e),this.services={},this.logger=Fi,this.modules={external:[]},nU(this),r&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,r),this;setTimeout(()=>{this.init(e,r)},0)}}init(e={},r){this.isInitializing=!0,typeof e=="function"&&(r=e,e={}),e.defaultNS==null&&e.ns&&(qt(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const n=pE();this.options={...n,...this.options,...gE(e)},this.options.interpolation={...n.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const a=h=>h?typeof h=="function"?new h:h:null;if(!this.options.isClone){this.modules.logger?Fi.init(a(this.modules.logger),this.options):Fi.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:h=tU;const m=new cE(this.options);this.store=new oE(this.options.resources,this.options);const f=this.services;f.logger=Fi,f.resourceStore=this.store,f.languageUtils=m,f.pluralResolver=new Qz(m,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),h&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(f.formatter=a(h),f.formatter.init&&f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new fE(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new rU(a(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",(y,...v)=>{this.emit(y,...v)}),this.modules.languageDetector&&(f.languageDetector=a(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=a(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new Lx(this.services,this.options),this.translator.on("*",(y,...v)=>{this.emit(y,...v)}),this.modules.external.forEach(y=>{y.init&&y.init(this)})}if(this.format=this.options.interpolation.format,r||(r=jg),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=(...m)=>this.store[h](...m)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=(...m)=>(this.store[h](...m),this)});const c=_f(),d=()=>{const h=(m,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(f),r(m,f)};if(this.languages&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initAsync?d():setTimeout(d,0),c}loadResources(e,r=jg){let n=r;const a=qt(e)?e:this.language;if(typeof e=="function"&&(n=e),!this.options.resources||this.options.partialBundledLanguages){if(a?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const i=[],o=c=>{if(!c||c==="cimode")return;this.services.languageUtils.toResolveHierarchy(c).forEach(h=>{h!=="cimode"&&i.indexOf(h)<0&&i.push(h)})};a?o(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(d=>o(d)),this.options.preload?.forEach?.(c=>o(c)),this.services.backendConnector.load(i,this.options.ns,c=>{!c&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(c)})}else n(null)}reloadResources(e,r,n){const a=_f();return typeof e=="function"&&(n=e,e=void 0),typeof r=="function"&&(n=r,r=void 0),e||(e=this.languages),r||(r=this.options.ns),n||(n=jg),this.services.backendConnector.reload(e,r,i=>{a.resolve(),n(i)}),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&a6.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let r=0;r<this.languages.length;r++){const n=this.languages[r];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,r){this.isLanguageChangingTo=e;const n=_f();this.emit("languageChanging",e);const a=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},i=(c,d)=>{d?this.isLanguageChangingTo===e&&(a(d),this.translator.changeLanguage(d),this.isLanguageChangingTo=void 0,this.emit("languageChanged",d),this.logger.log("languageChanged",d)):this.isLanguageChangingTo=void 0,n.resolve((...h)=>this.t(...h)),r&&r(c,(...h)=>this.t(...h))},o=c=>{!e&&!c&&this.services.languageDetector&&(c=[]);const d=qt(c)?c:c&&c[0],h=this.store.hasLanguageSomeTranslations(d)?d:this.services.languageUtils.getBestMatchFromCodes(qt(c)?[c]:c);h&&(this.language||a(h),this.translator.language||this.translator.changeLanguage(h),this.services.languageDetector?.cacheUserLanguage?.(h)),this.loadResources(h,m=>{i(m,h)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?o(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(o):this.services.languageDetector.detect(o):o(e),n}getFixedT(e,r,n){const a=(i,o,...c)=>{let d;typeof o!="object"?d=this.options.overloadTranslationOptionHandler([i,o].concat(c)):d={...o},d.lng=d.lng||a.lng,d.lngs=d.lngs||a.lngs,d.ns=d.ns||a.ns,d.keyPrefix!==""&&(d.keyPrefix=d.keyPrefix||n||a.keyPrefix);const h=this.options.keySeparator||".";let m;return d.keyPrefix&&Array.isArray(i)?m=i.map(f=>(typeof f=="function"&&(f=X1(f,{...this.options,...o})),`${d.keyPrefix}${h}${f}`)):(typeof i=="function"&&(i=X1(i,{...this.options,...o})),m=d.keyPrefix?`${d.keyPrefix}${h}${i}`:i),this.t(m,d)};return qt(e)?a.lng=e:a.lngs=e,a.ns=r,a.keyPrefix=n,a}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,r={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=r.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const o=(c,d)=>{const h=this.services.backendConnector.state[`${c}|${d}`];return h===-1||h===0||h===2};if(r.precheck){const c=r.precheck(this,o);if(c!==void 0)return c}return!!(this.hasResourceBundle(n,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||o(n,e)&&(!a||o(i,e)))}loadNamespaces(e,r){const n=_f();return this.options.ns?(qt(e)&&(e=[e]),e.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{n.resolve(),r&&r(a)}),n):(r&&r(),Promise.resolve())}loadLanguages(e,r){const n=_f();qt(e)&&(e=[e]);const a=this.options.preload||[],i=e.filter(o=>a.indexOf(o)<0&&this.services.languageUtils.isSupportedCode(o));return i.length?(this.options.preload=a.concat(i),this.loadResources(o=>{n.resolve(),r&&r(o)}),n):(r&&r(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const a=new Intl.Locale(e);if(a&&a.getTextInfo){const i=a.getTextInfo();if(i&&i.direction)return i.direction}}catch{}const r=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services?.languageUtils||new cE(pE());return e.toLowerCase().indexOf("-latn")>1?"ltr":r.indexOf(n.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},r){const n=new Qf(e,r);return n.createInstance=Qf.createInstance,n}cloneInstance(e={},r=jg){const n=e.forkResourceStore;n&&delete e.forkResourceStore;const a={...this.options,...e,isClone:!0},i=new Qf(a);if((e.debug!==void 0||e.prefix!==void 0)&&(i.logger=i.logger.clone(e)),["store","services","language"].forEach(c=>{i[c]=this[c]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},n){const c=Object.keys(this.store.data).reduce((d,h)=>(d[h]={...this.store.data[h]},d[h]=Object.keys(d[h]).reduce((m,f)=>(m[f]={...d[h][f]},m),d[h]),d),{});i.store=new oE(c,a),i.services.resourceStore=i.store}return e.interpolation&&(i.services.interpolator=new fE(a)),i.translator=new Lx(i.services,a),i.translator.on("*",(c,...d)=>{i.emit(c,...d)}),i.init(a,r),i.translator.options=a,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const Tn=Qf.createInstance();Tn.createInstance;Tn.dir;Tn.init;Tn.loadResources;Tn.reloadResources;Tn.use;Tn.changeLanguage;Tn.getFixedT;Tn.t;Tn.exists;Tn.setDefaultNamespace;Tn.hasLoadedNamespace;Tn.loadNamespaces;Tn.loadLanguages;const aU=(t,e,r,n)=>{const a=[r,{code:e,...n||{}}];if(t?.services?.logger?.forward)return t.services.logger.forward(a,"warn","react-i18next::",!0);yd(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),t?.services?.logger?.warn?t.services.logger.warn(...a):console?.warn&&console.warn(...a)},xE={},o6=(t,e,r,n)=>{yd(r)&&xE[r]||(yd(r)&&(xE[r]=new Date),aU(t,e,r,n))},l6=(t,e)=>()=>{if(t.isInitialized)e();else{const r=()=>{setTimeout(()=>{t.off("initialized",r)},0),e()};t.on("initialized",r)}},Z1=(t,e,r)=>{t.loadNamespaces(e,l6(t,r))},yE=(t,e,r,n)=>{if(yd(r)&&(r=[r]),t.options.preload&&t.options.preload.indexOf(e)>-1)return Z1(t,r,n);r.forEach(a=>{t.options.ns.indexOf(a)<0&&t.options.ns.push(a)}),t.loadLanguages(e,l6(t,n))},iU=(t,e,r={})=>!e.languages||!e.languages.length?(o6(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:r.lng,precheck:(n,a)=>{if(r.bindI18n&&r.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!a(n.isLanguageChangingTo,t))return!1}}),yd=t=>typeof t=="string",oU=t=>typeof t=="object"&&t!==null,lU=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,cU={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},dU=t=>cU[t],uU=t=>t.replace(lU,dU);let Q1={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:uU};const hU=(t={})=>{Q1={...Q1,...t}},fU=()=>Q1;let c6;const mU=t=>{c6=t},pU=()=>c6,gU={type:"3rdParty",init(t){hU(t.options.react),mU(t)}},xU=_.createContext();class yU{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(r=>{this.usedNamespaces[r]||(this.usedNamespaces[r]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var Hv={exports:{}},qv={};var bE;function bU(){if(bE)return qv;bE=1;var t=k0();function e(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,a=t.useEffect,i=t.useLayoutEffect,o=t.useDebugValue;function c(f,g){var y=g(),v=n({inst:{value:y,getSnapshot:g}}),w=v[0].inst,j=v[1];return i(function(){w.value=y,w.getSnapshot=g,d(w)&&j({inst:w})},[f,y,g]),a(function(){return d(w)&&j({inst:w}),f(function(){d(w)&&j({inst:w})})},[f]),o(y),y}function d(f){var g=f.getSnapshot;f=f.value;try{var y=g();return!r(f,y)}catch{return!0}}function h(f,g){return g()}var m=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:c;return qv.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:m,qv}var vE;function vU(){return vE||(vE=1,Hv.exports=bU()),Hv.exports}var wU=vU();const jU=(t,e)=>yd(e)?e:oU(e)&&yd(e.defaultValue)?e.defaultValue:Array.isArray(t)?t[t.length-1]:t,_U={t:jU,ready:!1},NU=()=>()=>{},SU=(t,e={})=>{const{i18n:r}=e,{i18n:n,defaultNS:a}=_.useContext(xU)||{},i=r||n||pU();i&&!i.reportNamespaces&&(i.reportNamespaces=new yU),i||o6(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const o=_.useMemo(()=>({...fU(),...i?.options?.react,...e}),[i,e]),{useSuspense:c,keyPrefix:d}=o,h=a||i?.options?.defaultNS,m=yd(h)?[h]:h||["translation"],f=_.useMemo(()=>m,m);i?.reportNamespaces?.addUsedNamespaces?.(f);const g=_.useRef(0),y=_.useCallback(T=>{if(!i)return NU;const{bindI18n:W,bindI18nStore:U}=o,L=()=>{g.current+=1,T()};return W&&i.on(W,L),U&&i.store.on(U,L),()=>{W&&W.split(" ").forEach(Z=>i.off(Z,L)),U&&U.split(" ").forEach(Z=>i.store.off(Z,L))}},[i,o]),v=_.useRef(),w=_.useCallback(()=>{if(!i)return _U;const T=!!(i.isInitialized||i.initializedStoreOnce)&&f.every(se=>iU(se,i,o)),W=e.lng||i.language,U=g.current,L=v.current;if(L&&L.ready===T&&L.lng===W&&L.keyPrefix===d&&L.revision===U)return L;const O={t:i.getFixedT(W,o.nsMode==="fallback"?f:f[0],d),ready:T,lng:W,keyPrefix:d,revision:U};return v.current=O,O},[i,f,d,o,e.lng]),[j,b]=_.useState(0),{t:N,ready:k}=wU.useSyncExternalStore(y,w,w);_.useEffect(()=>{if(i&&!k&&!c){const T=()=>b(W=>W+1);e.lng?yE(i,e.lng,f,T):Z1(i,f,T)}},[i,e.lng,f,k,c,j]);const S=i||{},C=_.useRef(null),B=_.useRef(),E=T=>{const W=Object.getOwnPropertyDescriptors(T);W.__original&&delete W.__original;const U=Object.create(Object.getPrototypeOf(T),W);if(!Object.prototype.hasOwnProperty.call(U,"__original"))try{Object.defineProperty(U,"__original",{value:T,writable:!1,enumerable:!1,configurable:!1})}catch{}return U},z=_.useMemo(()=>{const T=S,W=T?.language;let U=T;T&&(C.current&&C.current.__original===T?B.current!==W?(U=E(T),C.current=U,B.current=W):U=C.current:(U=E(T),C.current=U,B.current=W));const L=[N,U,k];return L.t=N,L.i18n=U,L.ready=k,L},[N,S,k,S.resolvedLanguage,S.language,S.languages]);if(i&&c&&!k)throw new Promise(T=>{const W=()=>T();e.lng?yE(i,e.lng,f,W):Z1(i,f,W)});return z},{slice:CU,forEach:kU}=[];function AU(t){return kU.call(CU.call(arguments,1),e=>{if(e)for(const r in e)t[r]===void 0&&(t[r]=e[r])}),t}function EU(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(r=>r.test(t))}const wE=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,TU=function(t,e){const n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},a=encodeURIComponent(e);let i=`${t}=${a}`;if(n.maxAge>0){const o=n.maxAge-0;if(Number.isNaN(o))throw new Error("maxAge should be a Number");i+=`; Max-Age=${Math.floor(o)}`}if(n.domain){if(!wE.test(n.domain))throw new TypeError("option domain is invalid");i+=`; Domain=${n.domain}`}if(n.path){if(!wE.test(n.path))throw new TypeError("option path is invalid");i+=`; Path=${n.path}`}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");i+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(i+="; HttpOnly"),n.secure&&(i+="; Secure"),n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(i+="; Partitioned"),i},jE={create(t,e,r,n){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};r&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+r*60*1e3)),n&&(a.domain=n),document.cookie=TU(t,e,a)},read(t){const e=`${t}=`,r=document.cookie.split(";");for(let n=0;n<r.length;n++){let a=r[n];for(;a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(e)===0)return a.substring(e.length,a.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var RU={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return jE.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:r,cookieMinutes:n,cookieDomain:a,cookieOptions:i}=e;r&&typeof document<"u"&&jE.create(r,t,n,a,i)}},DU={name:"querystring",lookup(t){let{lookupQuerystring:e}=t,r;if(typeof window<"u"){let{search:n}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));const i=n.substring(1).split("&");for(let o=0;o<i.length;o++){const c=i[o].indexOf("=");c>0&&i[o].substring(0,c)===e&&(r=i[o].substring(c+1))}}return r}},MU={name:"hash",lookup(t){let{lookupHash:e,lookupFromHashIndex:r}=t,n;if(typeof window<"u"){const{hash:a}=window.location;if(a&&a.length>2){const i=a.substring(1);if(e){const o=i.split("&");for(let c=0;c<o.length;c++){const d=o[c].indexOf("=");d>0&&o[c].substring(0,d)===e&&(n=o[c].substring(d+1))}}if(n)return n;if(!n&&r>-1){const o=a.match(/\/([a-zA-Z-]*)/g);return Array.isArray(o)?o[typeof r=="number"?r:0]?.replace("/",""):void 0}}}return n}};let mu=null;const _E=()=>{if(mu!==null)return mu;try{if(mu=typeof window<"u"&&window.localStorage!==null,!mu)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{mu=!1}return mu};var PU={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&_E())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:r}=e;r&&_E()&&window.localStorage.setItem(r,t)}};let pu=null;const NE=()=>{if(pu!==null)return pu;try{if(pu=typeof window<"u"&&window.sessionStorage!==null,!pu)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{pu=!1}return pu};var OU={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&NE())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:r}=e;r&&NE()&&window.sessionStorage.setItem(r,t)}},LU={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:r,userLanguage:n,language:a}=navigator;if(r)for(let i=0;i<r.length;i++)e.push(r[i]);n&&e.push(n),a&&e.push(a)}return e.length>0?e:void 0}},FU={name:"htmlTag",lookup(t){let{htmlTag:e}=t,r;const n=e||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(r=n.getAttribute("lang")),r}},BU={name:"path",lookup(t){let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const r=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(r)?r[typeof e=="number"?e:0]?.replace("/",""):void 0}},IU={name:"subdomain",lookup(t){let{lookupFromSubdomainIndex:e}=t;const r=typeof e=="number"?e+1:1,n=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[r]}};let d6=!1;try{document.cookie,d6=!0}catch{}const u6=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];d6||u6.splice(1,1);const zU=()=>({order:u6,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class h6{constructor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,r)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=AU(r,this.options||{},zU()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=a=>a.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(RU),this.addDetector(DU),this.addDetector(PU),this.addDetector(OU),this.addDetector(LU),this.addDetector(FU),this.addDetector(BU),this.addDetector(IU),this.addDetector(MU)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,r=[];return e.forEach(n=>{if(this.detectors[n]){let a=this.detectors[n].lookup(this.options);a&&typeof a=="string"&&(a=[a]),a&&(r=r.concat(a))}}),r=r.filter(n=>n!=null&&!EU(n)).map(n=>this.options.convertDetectedLanguage(n)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?r:r.length>0?r[0]:null}cacheUserLanguage(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;r&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||r.forEach(n=>{this.detectors[n]&&this.detectors[n].cacheUserLanguage(e,this.options)}))}}h6.type="languageDetector";const UU={name:"RENTO",tagline:"Your premium car rental experience"},$U={home:"Home",browseCars:"Browse Cars",about:"About",contact:"Contact",favorites:"Favorites",logout:"Logout",lightMode:"Light Mode",darkMode:"Dark Mode",myAccount:"My Account"},VU={badge:"Premium Car Rental Service",title:"Experience Luxury",titleAccent:"On Every Journey",description:"Discover Lebanons 10,000+ premium cars  the only platform with full search and filters.",searchBtn:"Search Available Cars",location:"Location",pickupDate:"Pickup Date",returnDate:"Return Date"},HU={customers:"Happy Customers",vehicles:"Luxury Vehicles",experience:"Years Experience",satisfaction:"Satisfaction Rate"},qU={badge:"Our Fleet",title:"Featured Luxury Vehicles",description:"Explore our handpicked selection of premium vehicles, ready to elevate your driving experience",viewAll:"View All Vehicles"},WU={badge:"Why Choose Us",title:"Premium Service, Unforgettable Experience",description:"We're committed to providing exceptional service and the finest vehicles for your journey",insurance:{title:"Premium Insurance",description:"Comprehensive coverage included with every rental for your peace of mind"},support:{title:"24/7 Support",description:"Round-the-clock customer service to assist you whenever you need"},price:{title:"Best Price Guarantee",description:"Competitive rates with no hidden fees or surprises"},fleet:{title:"Premium Fleet",description:"Exclusive selection of luxury and high-performance vehicles"}},GU={badge:"Testimonials",title:"What Our Customers Say",description:"Real experiences from our valued customers who trust us for their luxury car needs"},YU={title:"Ready to Experience Luxury?",description:"Book your dream car today and enjoy an unforgettable driving experience",browseFleet:"Browse Our Fleet",contactUs:"Contact Us"},KU={badge:"Browse Fleet",title:"Discover Your Perfect Ride",description:"Explore our premium collection of {{count}} luxury vehicles",showing:"Showing",vehicles:"vehicles",sortBy:"Sort by:",featured:"Featured",priceLow:"Price: Low to High",priceHigh:"Price: High to Low",rating:"Highest Rated",popular:"Most Popular",filters:"Filters",reset:"Reset",search:"Search",brand:"Brand",vehicleType:"Vehicle Type",transmission:"Transmission",priceRange:"Price Range",allBrands:"All Brands",allTypes:"All Types",all:"All",perDay:"/day",viewDetails:"View Details",noResults:"No vehicles found",tryAdjusting:"Try adjusting your filters to see more results",resetFilters:"Reset Filters"},XU={backToCars:"Back to Cars",rentalPrice:"Rental Price",bookNow:"Book Now",specifications:"Specifications",seats:"Seats",people:"People",fuelType:"Fuel Type",features:"Features & Amenities",reviews:"reviews"},ZU={title:"Book {{car}}",description:"Fill in your details to complete the booking. We'll contact you to confirm.",fullName:"Full Name",email:"Email",phone:"Phone Number",pickupLocation:"Pickup Location",pickupDate:"Pickup Date",returnDate:"Return Date",dailyRate:"Daily Rate",duration:"Duration",day:"day",days:"days",totalPrice:"Total Price",confirmBooking:"Confirm Booking",success:"Booking confirmed for {{car}}! We'll contact you shortly."},QU={badge:"Favorites",title:"Your Favorite Vehicles",count:"You have {{count}} vehicle in your favorites",count_plural:"You have {{count}} vehicles in your favorites",empty:"No favorites yet. Start exploring our fleet!",emptyTitle:"No Favorites Yet",emptyDescription:"Start adding vehicles to your favorites to keep track of the cars you love. Click the heart icon on any vehicle card to add it here.",browseCars:"Browse Our Fleet"},JU={badge:"About Us",title:"Redefining Luxury Car Rental",description:"For over 15 years, RENTO has been the trusted name in premium vehicle rentals, providing discerning customers with access to the world's finest automobiles.",stats:{years:"Years in Business",customers:"Happy Customers",vehicles:"Premium Vehicles",cities:"Cities Covered"},story:{badge:"Our Story",title:"Passion for Automotive Excellence",p1:"RENTO was born from a simple vision: to make the world's most prestigious vehicles accessible to those who appreciate the finer things in life. Founded in 2008 by automotive enthusiasts, we've grown from a small boutique operation to a leading name in luxury car rentals.",p2:"Every vehicle in our fleet is carefully selected and maintained to the highest standards. We believe that driving a premium vehicle isn't just about transportationit's about experiencing craftsmanship, performance, and luxury in their purest forms.",p3:"Today, we're proud to serve thousands of satisfied customers across 25 cities, offering everything from exotic sports cars to elegant luxury sedans. Our commitment to excellence and customer satisfaction remains as strong as ever."},values:{badge:"Our Values",title:"What Drives Us Forward",description:"Our core values guide every decision we make and every service we provide",customer:{title:"Customer First",description:"Your satisfaction and experience are at the heart of everything we do"},trust:{title:"Trust & Safety",description:"Every vehicle is meticulously maintained and fully insured for your protection"},excellence:{title:"Excellence",description:"We strive for perfection in service quality and vehicle condition"},accessibility:{title:"Accessibility",description:"Premium vehicles available across multiple locations for your convenience"}},team:{badge:"Meet Our Team",title:"The People Behind the Wheels",description:"Our passionate team of automotive experts is dedicated to making your experience exceptional"},cta:{title:"Experience the RENTO Difference",description:"Join thousands of satisfied customers who trust us for their luxury vehicle needs"}},e$={badge:"Contact Us",title:"Get in Touch",description:"Have questions? We're here to help. Reach out to our team for any inquiries about our vehicles or services.",visitUs:"Visit Us",callUs:"Call Us",emailUs:"Email Us",businessHours:"Business Hours",sendMessage:"Send Us a Message",name:"Full Name",email:"Email Address",phone:"Phone Number",subject:"Subject",message:"Message",send:"Send Message",success:"Message sent successfully! We'll get back to you soon.",locations:"Our Locations",faq:{badge:"FAQ",title:"Frequently Asked Questions",description:"Find quick answers to common questions about our services"}},t$={welcome:"Welcome",description:"Sign in to your account or create a new one",login:"Login",register:"Register",email:"Email",password:"Password",confirmPassword:"Confirm Password",fullName:"Full Name",phone:"Phone Number",rememberMe:"Remember me",forgotPassword:"Forgot password?",signIn:"Sign In",createAccount:"Create Account",orContinueWith:"OR CONTINUE WITH",google:"Google",apple:"Apple",continueAsGuest:"Continue as guest",terms:"By continuing, you agree to our",termsOfService:"Terms of Service",and:"and",privacyPolicy:"Privacy Policy",back:"Back",loginSuccess:"Welcome back! Login successful.",registerSuccess:"Account created successfully! Welcome to RENTO.",fillFields:"Please fill in all required fields",passwordMatch:"Passwords do not match",passwordLength:"Password must be at least 6 characters",logoutSuccess:"Logged out successfully"},s$={skip:"Skip",next:"Next",getStarted:"Get Started",of:"of",slides:{fleet:{title:"Premium Luxury Fleet",description:"Access the world's finest vehicles. From sports cars to luxury SUVs, find your perfect ride for any occasion."},safe:{title:"Safe & Secure",description:"Every vehicle is fully insured with comprehensive coverage. Drive with complete peace of mind."},support:{title:"24/7 Support",description:"Our dedicated team is always here to help. Book instantly and get support whenever you need it."},price:{title:"Best Price Guarantee",description:"Competitive rates with no hidden fees. Experience luxury without breaking the bank."}}},r$={from:"From",to:"to",popular:"Popular",sports:"Sports",luxury:"Luxury",electric:"Electric",suv:"SUV",sedan:"Sedan",convertible:"Convertible",automatic:"Automatic",manual:"Manual",petrol:"Petrol",diesel:"Diesel",hybrid:"Hybrid"},n$={brand:UU,nav:$U,hero:VU,stats:HU,featured:qU,features:WU,testimonials:GU,cta:YU,cars:KU,carDetail:XU,booking:ZU,favorites:QU,about:JU,contact:e$,auth:t$,intro:s$,common:r$},a$={name:"",tagline:"   "},i$={home:"",browseCars:" ",about:" ",contact:" ",favorites:"",logout:" ",lightMode:" ",darkMode:" ",myAccount:""},o$={badge:"   ",title:" ",titleAccent:"  ",description:"    .              .",searchBtn:"   ",location:"",pickupDate:" ",returnDate:" "},l$={customers:" ",vehicles:" ",experience:"  ",satisfaction:" "},c$={badge:"",title:"  ",description:"             ",viewAll:"  "},d$={badge:" ",title:"    ",description:"       ",insurance:{title:" ",description:"       "},support:{title:" 24/7",description:"       "},price:{title:"  ",description:"      "},fleet:{title:" ",description:"      "}},u$={badge:" ",title:"  ",description:"           "},h$={title:"    ",description:"        ",browseFleet:" ",contactUs:" "},f$={badge:" ",title:"  ",description:"    {{count}}  ",showing:"",vehicles:"",sortBy:" :",featured:"",priceLow:":   ",priceHigh:":   ",rating:" ",popular:" ",filters:"",reset:" ",search:"",brand:"",vehicleType:" ",transmission:" ",priceRange:" ",allBrands:" ",allTypes:" ",all:"",perDay:"/",viewDetails:" ",noResults:"    ",tryAdjusting:"      ",resetFilters:"  "},m$={backToCars:" ",rentalPrice:" ",bookNow:" ",specifications:"",seats:"",people:"",fuelType:" ",features:" ",reviews:""},p$={title:" {{car}}",description:"   .   .",fullName:" ",email:" ",phone:" ",pickupLocation:" ",pickupDate:" ",returnDate:" ",dailyRate:" ",duration:"",day:"",days:"",totalPrice:" ",confirmBooking:" ",success:"   {{car}}!   ."},g$={badge:"",title:" ",count:" {{count}}   ",count_plural:" {{count}}   ",empty:"   .   !",emptyTitle:"   ",emptyDescription:"        .          .",browseCars:" "},x$={badge:" ",title:"    ",description:"  15                    .",stats:{years:"  ",customers:" ",vehicles:" ",cities:" "},story:{badge:"",title:"    ",p1:"    :               .    2008               .",p2:"          .          -        .",p3:"        25            .          ."},values:{badge:"",title:"  ",description:"        ",customer:{title:" ",description:"       "},trust:{title:" ",description:"       "},excellence:{title:"",description:"      "},accessibility:{title:" ",description:"      "}},team:{badge:"  ",title:"  ",description:"        "},cta:{title:"  ",description:"           "}},y$={badge:" ",title:"  ",description:"     .         .",visitUs:" ",callUs:" ",emailUs:"",businessHours:" ",sendMessage:"  ",name:" ",email:" ",phone:" ",subject:"",message:"",send:" ",success:"   !   .",locations:"",faq:{badge:" ",title:" ",description:"       "}},b$={welcome:"",description:"       ",login:" ",register:" ",email:" ",password:" ",confirmPassword:"  ",fullName:" ",phone:" ",rememberMe:"",forgotPassword:"  ",signIn:" ",createAccount:" ",orContinueWith:"  ",google:"",apple:"",continueAsGuest:" ",terms:"   ",termsOfService:" ",and:"",privacyPolicy:" ",back:"",loginSuccess:" !    .",registerSuccess:"   !    .",fillFields:"    ",passwordMatch:"   ",passwordLength:"     6   ",logoutSuccess:"   "},v$={skip:"",next:"",getStarted:" ",of:"",slides:{fleet:{title:"  ",description:"     .              ."},safe:{title:" ",description:"      .     ."},support:{title:" 24/7",description:"    .       ."},price:{title:"  ",description:"    .     ."}}},w$={from:"",to:"",popular:"",sports:"",luxury:"",electric:"",suv:" ",sedan:"",convertible:" ",automatic:"",manual:"",petrol:"",diesel:"",hybrid:""},j$={brand:a$,nav:i$,hero:o$,stats:l$,featured:c$,features:d$,testimonials:u$,cta:h$,cars:f$,carDetail:m$,booking:p$,favorites:g$,about:x$,contact:y$,auth:b$,intro:v$,common:w$},_$={en:{translation:n$},ar:{translation:j$}};Tn.use(h6).use(gU).init({resources:_$,fallbackLng:"en",lng:localStorage.getItem("language")||"en",interpolation:{escapeValue:!1},react:{useSuspense:!1}});var SE="popstate";function N$(t={}){function e(n,a){let{pathname:i,search:o,hash:c}=n.location;return J1("",{pathname:i,search:o,hash:c},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function r(n,a){return typeof a=="string"?a:dm(a)}return C$(e,r,null,t)}function lr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ha(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function S$(){return Math.random().toString(36).substring(2,10)}function CE(t,e){return{usr:t.state,key:t.key,idx:e}}function J1(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?oh(e):e,state:r,key:e&&e.key||n||S$()}}function dm({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function oh(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function C$(t,e,r,n={}){let{window:a=document.defaultView,v5Compat:i=!1}=n,o=a.history,c="POP",d=null,h=m();h==null&&(h=0,o.replaceState({...o.state,idx:h},""));function m(){return(o.state||{idx:null}).idx}function f(){c="POP";let j=m(),b=j==null?null:j-h;h=j,d&&d({action:c,location:w.location,delta:b})}function g(j,b){c="PUSH";let N=J1(w.location,j,b);h=m()+1;let k=CE(N,h),S=w.createHref(N);try{o.pushState(k,"",S)}catch(C){if(C instanceof DOMException&&C.name==="DataCloneError")throw C;a.location.assign(S)}i&&d&&d({action:c,location:w.location,delta:1})}function y(j,b){c="REPLACE";let N=J1(w.location,j,b);h=m();let k=CE(N,h),S=w.createHref(N);o.replaceState(k,"",S),i&&d&&d({action:c,location:w.location,delta:0})}function v(j){return k$(j)}let w={get action(){return c},get location(){return t(a,o)},listen(j){if(d)throw new Error("A history only accepts one active listener");return a.addEventListener(SE,f),d=j,()=>{a.removeEventListener(SE,f),d=null}},createHref(j){return e(a,j)},createURL:v,encodeLocation(j){let b=v(j);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:g,replace:y,go(j){return o.go(j)}};return w}function k$(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),lr(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:dm(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function f6(t,e,r="/"){return A$(t,e,r,!1)}function A$(t,e,r,n){let a=typeof e=="string"?oh(e):e,i=Io(a.pathname||"/",r);if(i==null)return null;let o=m6(t);E$(o);let c=null;for(let d=0;c==null&&d<o.length;++d){let h=z$(i);c=B$(o[d],h,n)}return c}function m6(t,e=[],r=[],n="",a=!1){let i=(o,c,d=a,h)=>{let m={relativePath:h===void 0?o.path||"":h,caseSensitive:o.caseSensitive===!0,childrenIndex:c,route:o};if(m.relativePath.startsWith("/")){if(!m.relativePath.startsWith(n)&&d)return;lr(m.relativePath.startsWith(n),`Absolute route path "${m.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),m.relativePath=m.relativePath.slice(n.length)}let f=Fo([n,m.relativePath]),g=r.concat(m);o.children&&o.children.length>0&&(lr(o.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),m6(o.children,e,g,f,d)),!(o.path==null&&!o.index)&&e.push({path:f,score:L$(f,o.index),routesMeta:g})};return t.forEach((o,c)=>{if(o.path===""||!o.path?.includes("?"))i(o,c);else for(let d of p6(o.path))i(o,c,!0,d)}),e}function p6(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,a=r.endsWith("?"),i=r.replace(/\?$/,"");if(n.length===0)return a?[i,""]:[i];let o=p6(n.join("/")),c=[];return c.push(...o.map(d=>d===""?i:[i,d].join("/"))),a&&c.push(...o),c.map(d=>t.startsWith("/")&&d===""?"/":d)}function E$(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:F$(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var T$=/^:[\w-]+$/,R$=3,D$=2,M$=1,P$=10,O$=-2,kE=t=>t==="*";function L$(t,e){let r=t.split("/"),n=r.length;return r.some(kE)&&(n+=O$),e&&(n+=D$),r.filter(a=>!kE(a)).reduce((a,i)=>a+(T$.test(i)?R$:i===""?M$:P$),n)}function F$(t,e){return t.length===e.length&&t.slice(0,-1).every((n,a)=>n===e[a])?t[t.length-1]-e[e.length-1]:0}function B$(t,e,r=!1){let{routesMeta:n}=t,a={},i="/",o=[];for(let c=0;c<n.length;++c){let d=n[c],h=c===n.length-1,m=i==="/"?e:e.slice(i.length)||"/",f=Fx({path:d.relativePath,caseSensitive:d.caseSensitive,end:h},m),g=d.route;if(!f&&h&&r&&!n[n.length-1].route.index&&(f=Fx({path:d.relativePath,caseSensitive:d.caseSensitive,end:!1},m)),!f)return null;Object.assign(a,f.params),o.push({params:a,pathname:Fo([i,f.pathname]),pathnameBase:H$(Fo([i,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(i=Fo([i,f.pathnameBase]))}return o}function Fx(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=I$(t.path,t.caseSensitive,t.end),a=e.match(r);if(!a)return null;let i=a[0],o=i.replace(/(.)\/+$/,"$1"),c=a.slice(1);return{params:n.reduce((h,{paramName:m,isOptional:f},g)=>{if(m==="*"){let v=c[g]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const y=c[g];return f&&!y?h[m]=void 0:h[m]=(y||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:o,pattern:t}}function I$(t,e=!1,r=!0){Ha(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],a="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,c,d)=>(n.push({paramName:c,isOptional:d!=null}),d?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),a+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":t!==""&&t!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),n]}function z$(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ha(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Io(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}var g6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,U$=t=>g6.test(t);function $$(t,e="/"){let{pathname:r,search:n="",hash:a=""}=typeof t=="string"?oh(t):t,i;if(r)if(U$(r))i=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),Ha(!1,`Pathnames cannot have embedded double slashes - normalizing ${o} -> ${r}`)}r.startsWith("/")?i=AE(r.substring(1),"/"):i=AE(r,e)}else i=e;return{pathname:i,search:q$(n),hash:W$(a)}}function AE(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(a=>{a===".."?r.length>1&&r.pop():a!=="."&&r.push(a)}),r.length>1?r.join("/"):"/"}function Wv(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function V$(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function gN(t){let e=V$(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function xN(t,e,r,n=!1){let a;typeof t=="string"?a=oh(t):(a={...t},lr(!a.pathname||!a.pathname.includes("?"),Wv("?","pathname","search",a)),lr(!a.pathname||!a.pathname.includes("#"),Wv("#","pathname","hash",a)),lr(!a.search||!a.search.includes("#"),Wv("#","search","hash",a)));let i=t===""||a.pathname==="",o=i?"/":a.pathname,c;if(o==null)c=r;else{let f=e.length-1;if(!n&&o.startsWith("..")){let g=o.split("/");for(;g[0]==="..";)g.shift(),f-=1;a.pathname=g.join("/")}c=f>=0?e[f]:"/"}let d=$$(a,c),h=o&&o!=="/"&&o.endsWith("/"),m=(i||o===".")&&r.endsWith("/");return!d.pathname.endsWith("/")&&(h||m)&&(d.pathname+="/"),d}var Fo=t=>t.join("/").replace(/\/\/+/g,"/"),H$=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),q$=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,W$=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,G$=class{constructor(t,e,r,n=!1){this.status=t,this.statusText=e||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function Y$(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function K$(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var x6=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function y6(t,e){let r=t;if(typeof r!="string"||!g6.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,a=!1;if(x6)try{let i=new URL(window.location.href),o=r.startsWith("//")?new URL(i.protocol+r):new URL(r),c=Io(o.pathname,e);o.origin===i.origin&&c!=null?r=c+o.search+o.hash:a=!0}catch{Ha(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:a,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var b6=["POST","PUT","PATCH","DELETE"];new Set(b6);var X$=["GET",...b6];new Set(X$);var lh=_.createContext(null);lh.displayName="DataRouter";var E0=_.createContext(null);E0.displayName="DataRouterState";var Z$=_.createContext(!1),v6=_.createContext({isTransitioning:!1});v6.displayName="ViewTransition";var Q$=_.createContext(new Map);Q$.displayName="Fetchers";var J$=_.createContext(null);J$.displayName="Await";var ba=_.createContext(null);ba.displayName="Navigation";var Rm=_.createContext(null);Rm.displayName="Location";var qa=_.createContext({outlet:null,matches:[],isDataRoute:!1});qa.displayName="Route";var yN=_.createContext(null);yN.displayName="RouteError";var w6="REACT_ROUTER_ERROR",eV="REDIRECT",tV="ROUTE_ERROR_RESPONSE";function sV(t){if(t.startsWith(`${w6}:${eV}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function rV(t){if(t.startsWith(`${w6}:${tV}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new G$(e.status,e.statusText,e.data)}catch{}}function nV(t,{relative:e}={}){lr(ch(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=_.useContext(ba),{hash:a,pathname:i,search:o}=Dm(t,{relative:e}),c=i;return r!=="/"&&(c=i==="/"?r:Fo([r,i])),n.createHref({pathname:c,search:o,hash:a})}function ch(){return _.useContext(Rm)!=null}function Wa(){return lr(ch(),"useLocation() may be used only in the context of a <Router> component."),_.useContext(Rm).location}var j6="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function _6(t){_.useContext(ba).static||_.useLayoutEffect(t)}function sn(){let{isDataRoute:t}=_.useContext(qa);return t?vV():aV()}function aV(){lr(ch(),"useNavigate() may be used only in the context of a <Router> component.");let t=_.useContext(lh),{basename:e,navigator:r}=_.useContext(ba),{matches:n}=_.useContext(qa),{pathname:a}=Wa(),i=JSON.stringify(gN(n)),o=_.useRef(!1);return _6(()=>{o.current=!0}),_.useCallback((d,h={})=>{if(Ha(o.current,j6),!o.current)return;if(typeof d=="number"){r.go(d);return}let m=xN(d,JSON.parse(i),a,h.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:Fo([e,m.pathname])),(h.replace?r.replace:r.push)(m,h.state,h)},[e,r,i,a,t])}var iV=_.createContext(null);function oV(t){let e=_.useContext(qa).outlet;return _.useMemo(()=>e&&_.createElement(iV.Provider,{value:t},e),[e,t])}function lV(){let{matches:t}=_.useContext(qa),e=t[t.length-1];return e?e.params:{}}function Dm(t,{relative:e}={}){let{matches:r}=_.useContext(qa),{pathname:n}=Wa(),a=JSON.stringify(gN(r));return _.useMemo(()=>xN(t,JSON.parse(a),n,e==="path"),[t,a,n,e])}function cV(t,e){return N6(t,e)}function N6(t,e,r,n,a){lr(ch(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=_.useContext(ba),{matches:o}=_.useContext(qa),c=o[o.length-1],d=c?c.params:{},h=c?c.pathname:"/",m=c?c.pathnameBase:"/",f=c&&c.route;{let N=f&&f.path||"";C6(h,!f||N.endsWith("*")||N.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${N}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${N}"> to <Route path="${N==="/"?"*":`${N}/*`}">.`)}let g=Wa(),y;if(e){let N=typeof e=="string"?oh(e):e;lr(m==="/"||N.pathname?.startsWith(m),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${m}" but pathname "${N.pathname}" was given in the \`location\` prop.`),y=N}else y=g;let v=y.pathname||"/",w=v;if(m!=="/"){let N=m.replace(/^\//,"").split("/");w="/"+v.replace(/^\//,"").split("/").slice(N.length).join("/")}let j=f6(t,{pathname:w});Ha(f||j!=null,`No routes matched location "${y.pathname}${y.search}${y.hash}" `),Ha(j==null||j[j.length-1].route.element!==void 0||j[j.length-1].route.Component!==void 0||j[j.length-1].route.lazy!==void 0,`Matched leaf route at location "${y.pathname}${y.search}${y.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=mV(j&&j.map(N=>Object.assign({},N,{params:Object.assign({},d,N.params),pathname:Fo([m,i.encodeLocation?i.encodeLocation(N.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathname]),pathnameBase:N.pathnameBase==="/"?m:Fo([m,i.encodeLocation?i.encodeLocation(N.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:N.pathnameBase])})),o,r,n,a);return e&&b?_.createElement(Rm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...y},navigationType:"POP"}},b):b}function dV(){let t=bV(),e=Y$(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},o=null;return console.error("Error handled by React Router default ErrorBoundary:",t),o=_.createElement(_.Fragment,null,_.createElement("p",null," Hey developer "),_.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",_.createElement("code",{style:i},"ErrorBoundary")," or"," ",_.createElement("code",{style:i},"errorElement")," prop on your route.")),_.createElement(_.Fragment,null,_.createElement("h2",null,"Unexpected Application Error!"),_.createElement("h3",{style:{fontStyle:"italic"}},e),r?_.createElement("pre",{style:a},r):null,o)}var uV=_.createElement(dV,null),S6=class extends _.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const r=rV(t.digest);r&&(t=r)}let e=t!==void 0?_.createElement(qa.Provider,{value:this.props.routeContext},_.createElement(yN.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?_.createElement(hV,{error:t},e):e}};S6.contextType=Z$;var Gv=new WeakMap;function hV({children:t,error:e}){let{basename:r}=_.useContext(ba);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let n=sV(e.digest);if(n){let a=Gv.get(e);if(a)throw a;let i=y6(n.location,r);if(x6&&!Gv.get(e))if(i.isExternal||n.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const o=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:n.replace}));throw Gv.set(e,o),o}return _.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return t}function fV({routeContext:t,match:e,children:r}){let n=_.useContext(lh);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),_.createElement(qa.Provider,{value:t},r)}function mV(t,e=[],r=null,n=null,a=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let i=t,o=r?.errors;if(o!=null){let m=i.findIndex(f=>f.route.id&&o?.[f.route.id]!==void 0);lr(m>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(o).join(",")}`),i=i.slice(0,Math.min(i.length,m+1))}let c=!1,d=-1;if(r)for(let m=0;m<i.length;m++){let f=i[m];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=m),f.route.id){let{loaderData:g,errors:y}=r,v=f.route.loader&&!g.hasOwnProperty(f.route.id)&&(!y||y[f.route.id]===void 0);if(f.route.lazy||v){c=!0,d>=0?i=i.slice(0,d+1):i=[i[0]];break}}}let h=r&&n?(m,f)=>{n(m,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:K$(r.matches),errorInfo:f})}:void 0;return i.reduceRight((m,f,g)=>{let y,v=!1,w=null,j=null;r&&(y=o&&f.route.id?o[f.route.id]:void 0,w=f.route.errorElement||uV,c&&(d<0&&g===0?(C6("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),v=!0,j=null):d===g&&(v=!0,j=f.route.hydrateFallbackElement||null)));let b=e.concat(i.slice(0,g+1)),N=()=>{let k;return y?k=w:v?k=j:f.route.Component?k=_.createElement(f.route.Component,null):f.route.element?k=f.route.element:k=m,_.createElement(fV,{match:f,routeContext:{outlet:m,matches:b,isDataRoute:r!=null},children:k})};return r&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?_.createElement(S6,{location:r.location,revalidation:r.revalidation,component:w,error:y,children:N(),routeContext:{outlet:null,matches:b,isDataRoute:!0},onError:h}):N()},null)}function bN(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function pV(t){let e=_.useContext(lh);return lr(e,bN(t)),e}function gV(t){let e=_.useContext(E0);return lr(e,bN(t)),e}function xV(t){let e=_.useContext(qa);return lr(e,bN(t)),e}function vN(t){let e=xV(t),r=e.matches[e.matches.length-1];return lr(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function yV(){return vN("useRouteId")}function bV(){let t=_.useContext(yN),e=gV("useRouteError"),r=vN("useRouteError");return t!==void 0?t:e.errors?.[r]}function vV(){let{router:t}=pV("useNavigate"),e=vN("useNavigate"),r=_.useRef(!1);return _6(()=>{r.current=!0}),_.useCallback(async(a,i={})=>{Ha(r.current,j6),r.current&&(typeof a=="number"?await t.navigate(a):await t.navigate(a,{fromRouteId:e,...i}))},[t,e])}var EE={};function C6(t,e,r){!e&&!EE[t]&&(EE[t]=!0,Ha(!1,r))}_.memo(wV);function wV({routes:t,future:e,state:r,onError:n}){return N6(t,void 0,r,n,e)}function Bo({to:t,replace:e,state:r,relative:n}){lr(ch(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=_.useContext(ba);Ha(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=_.useContext(qa),{pathname:o}=Wa(),c=sn(),d=xN(t,gN(i),o,n==="path"),h=JSON.stringify(d);return _.useEffect(()=>{c(JSON.parse(h),{replace:e,state:r,relative:n})},[c,h,n,e,r]),null}function jV(t){return oV(t.context)}function It(t){lr(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function _V({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:a,static:i=!1,unstable_useTransitions:o}){lr(!ch(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let c=t.replace(/^\/*/,"/"),d=_.useMemo(()=>({basename:c,navigator:a,static:i,unstable_useTransitions:o,future:{}}),[c,a,i,o]);typeof r=="string"&&(r=oh(r));let{pathname:h="/",search:m="",hash:f="",state:g=null,key:y="default"}=r,v=_.useMemo(()=>{let w=Io(h,c);return w==null?null:{location:{pathname:w,search:m,hash:f,state:g,key:y},navigationType:n}},[c,h,m,f,g,y,n]);return Ha(v!=null,`<Router basename="${c}"> is not able to match the URL "${h}${m}${f}" because it does not start with the basename, so the <Router> won't render anything.`),v==null?null:_.createElement(ba.Provider,{value:d},_.createElement(Rm.Provider,{children:e,value:v}))}function NV({children:t,location:e}){return cV(e_(t),e)}function e_(t,e=[]){let r=[];return _.Children.forEach(t,(n,a)=>{if(!_.isValidElement(n))return;let i=[...e,a];if(n.type===_.Fragment){r.push.apply(r,e_(n.props.children,i));return}lr(n.type===It,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),lr(!n.props.index||!n.props.children,"An index route cannot have child routes.");let o={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=e_(n.props.children,i)),r.push(o)}),r}var xx="get",yx="application/x-www-form-urlencoded";function T0(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function SV(t){return T0(t)&&t.tagName.toLowerCase()==="button"}function CV(t){return T0(t)&&t.tagName.toLowerCase()==="form"}function kV(t){return T0(t)&&t.tagName.toLowerCase()==="input"}function AV(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function EV(t,e){return t.button===0&&(!e||e==="_self")&&!AV(t)}var _g=null;function TV(){if(_g===null)try{new FormData(document.createElement("form"),0),_g=!1}catch{_g=!0}return _g}var RV=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yv(t){return t!=null&&!RV.has(t)?(Ha(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${yx}"`),null):t}function DV(t,e){let r,n,a,i,o;if(CV(t)){let c=t.getAttribute("action");n=c?Io(c,e):null,r=t.getAttribute("method")||xx,a=Yv(t.getAttribute("enctype"))||yx,i=new FormData(t)}else if(SV(t)||kV(t)&&(t.type==="submit"||t.type==="image")){let c=t.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let d=t.getAttribute("formaction")||c.getAttribute("action");if(n=d?Io(d,e):null,r=t.getAttribute("formmethod")||c.getAttribute("method")||xx,a=Yv(t.getAttribute("formenctype"))||Yv(c.getAttribute("enctype"))||yx,i=new FormData(c,t),!TV()){let{name:h,type:m,value:f}=t;if(m==="image"){let g=h?`${h}.`:"";i.append(`${g}x`,"0"),i.append(`${g}y`,"0")}else h&&i.append(h,f)}}else{if(T0(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=xx,n=null,a=yx,o=t}return i&&a==="text/plain"&&(o=i,i=void 0),{action:n,method:r.toLowerCase(),encType:a,formData:i,body:o}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function wN(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function MV(t,e,r,n){let a=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r?a.pathname.endsWith("/")?a.pathname=`${a.pathname}_.${n}`:a.pathname=`${a.pathname}.${n}`:a.pathname==="/"?a.pathname=`_root.${n}`:e&&Io(a.pathname,e)==="/"?a.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:a.pathname=`${a.pathname.replace(/\/$/,"")}.${n}`,a}async function PV(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function OV(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function LV(t,e,r){let n=await Promise.all(t.map(async a=>{let i=e.routes[a.route.id];if(i){let o=await PV(i,r);return o.links?o.links():[]}return[]}));return zV(n.flat(1).filter(OV).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function TE(t,e,r,n,a,i){let o=(d,h)=>r[h]?d.route.id!==r[h].route.id:!0,c=(d,h)=>r[h].pathname!==d.pathname||r[h].route.path?.endsWith("*")&&r[h].params["*"]!==d.params["*"];return i==="assets"?e.filter((d,h)=>o(d,h)||c(d,h)):i==="data"?e.filter((d,h)=>{let m=n.routes[d.route.id];if(!m||!m.hasLoader)return!1;if(o(d,h)||c(d,h))return!0;if(d.route.shouldRevalidate){let f=d.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:d.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function FV(t,e,{includeHydrateFallback:r}={}){return BV(t.map(n=>{let a=e.routes[n.route.id];if(!a)return[];let i=[a.module];return a.clientActionModule&&(i=i.concat(a.clientActionModule)),a.clientLoaderModule&&(i=i.concat(a.clientLoaderModule)),r&&a.hydrateFallbackModule&&(i=i.concat(a.hydrateFallbackModule)),a.imports&&(i=i.concat(a.imports)),i}).flat(1))}function BV(t){return[...new Set(t)]}function IV(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function zV(t,e){let r=new Set;return new Set(e),t.reduce((n,a)=>{let i=JSON.stringify(IV(a));return r.has(i)||(r.add(i),n.push({key:i,link:a})),n},[])}function k6(){let t=_.useContext(lh);return wN(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function UV(){let t=_.useContext(E0);return wN(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var jN=_.createContext(void 0);jN.displayName="FrameworkContext";function A6(){let t=_.useContext(jN);return wN(t,"You must render this element inside a <HydratedRouter> element"),t}function $V(t,e){let r=_.useContext(jN),[n,a]=_.useState(!1),[i,o]=_.useState(!1),{onFocus:c,onBlur:d,onMouseEnter:h,onMouseLeave:m,onTouchStart:f}=e,g=_.useRef(null);_.useEffect(()=>{if(t==="render"&&o(!0),t==="viewport"){let w=b=>{b.forEach(N=>{o(N.isIntersecting)})},j=new IntersectionObserver(w,{threshold:.5});return g.current&&j.observe(g.current),()=>{j.disconnect()}}},[t]),_.useEffect(()=>{if(n){let w=setTimeout(()=>{o(!0)},100);return()=>{clearTimeout(w)}}},[n]);let y=()=>{a(!0)},v=()=>{a(!1),o(!1)};return r?t!=="intent"?[i,g,{}]:[i,g,{onFocus:Nf(c,y),onBlur:Nf(d,v),onMouseEnter:Nf(h,y),onMouseLeave:Nf(m,v),onTouchStart:Nf(f,y)}]:[!1,g,{}]}function Nf(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function VV({page:t,...e}){let{router:r}=k6(),n=_.useMemo(()=>f6(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?_.createElement(qV,{page:t,matches:n,...e}):null}function HV(t){let{manifest:e,routeModules:r}=A6(),[n,a]=_.useState([]);return _.useEffect(()=>{let i=!1;return LV(t,e,r).then(o=>{i||a(o)}),()=>{i=!0}},[t,e,r]),n}function qV({page:t,matches:e,...r}){let n=Wa(),{future:a,manifest:i,routeModules:o}=A6(),{basename:c}=k6(),{loaderData:d,matches:h}=UV(),m=_.useMemo(()=>TE(t,e,h,i,n,"data"),[t,e,h,i,n]),f=_.useMemo(()=>TE(t,e,h,i,n,"assets"),[t,e,h,i,n]),g=_.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let w=new Set,j=!1;if(e.forEach(N=>{let k=i.routes[N.route.id];!k||!k.hasLoader||(!m.some(S=>S.route.id===N.route.id)&&N.route.id in d&&o[N.route.id]?.shouldRevalidate||k.hasClientLoader?j=!0:w.add(N.route.id))}),w.size===0)return[];let b=MV(t,c,a.unstable_trailingSlashAwareDataRequests,"data");return j&&w.size>0&&b.searchParams.set("_routes",e.filter(N=>w.has(N.route.id)).map(N=>N.route.id).join(",")),[b.pathname+b.search]},[c,a.unstable_trailingSlashAwareDataRequests,d,n,i,m,e,t,o]),y=_.useMemo(()=>FV(f,i),[f,i]),v=HV(f);return _.createElement(_.Fragment,null,g.map(w=>_.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...r})),y.map(w=>_.createElement("link",{key:w,rel:"modulepreload",href:w,...r})),v.map(({key:w,link:j})=>_.createElement("link",{key:w,nonce:r.nonce,...j})))}function WV(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var GV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{GV&&(window.__reactRouterVersion="7.12.0")}catch{}function YV({basename:t,children:e,unstable_useTransitions:r,window:n}){let a=_.useRef();a.current==null&&(a.current=N$({window:n,v5Compat:!0}));let i=a.current,[o,c]=_.useState({action:i.action,location:i.location}),d=_.useCallback(h=>{r===!1?c(h):_.startTransition(()=>c(h))},[r]);return _.useLayoutEffect(()=>i.listen(d),[i,d]),_.createElement(_V,{basename:t,children:e,location:o.location,navigationType:o.action,navigator:i,unstable_useTransitions:r})}var E6=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Us=_.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:a,reloadDocument:i,replace:o,state:c,target:d,to:h,preventScrollReset:m,viewTransition:f,unstable_defaultShouldRevalidate:g,...y},v){let{basename:w,unstable_useTransitions:j}=_.useContext(ba),b=typeof h=="string"&&E6.test(h),N=y6(h,w);h=N.to;let k=nV(h,{relative:a}),[S,C,B]=$V(n,y),E=ZV(h,{replace:o,state:c,target:d,preventScrollReset:m,relative:a,viewTransition:f,unstable_defaultShouldRevalidate:g,unstable_useTransitions:j});function z(W){e&&e(W),W.defaultPrevented||E(W)}let T=_.createElement("a",{...y,...B,href:N.absoluteURL||k,onClick:N.isExternal||i?e:z,ref:WV(v,C),target:d,"data-discover":!b&&r==="render"?"true":void 0});return S&&!b?_.createElement(_.Fragment,null,T,_.createElement(VV,{page:k})):T});Us.displayName="Link";var T6=_.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:a=!1,style:i,to:o,viewTransition:c,children:d,...h},m){let f=Dm(o,{relative:h.relative}),g=Wa(),y=_.useContext(E0),{navigator:v,basename:w}=_.useContext(ba),j=y!=null&&sH(f)&&c===!0,b=v.encodeLocation?v.encodeLocation(f).pathname:f.pathname,N=g.pathname,k=y&&y.navigation&&y.navigation.location?y.navigation.location.pathname:null;r||(N=N.toLowerCase(),k=k?k.toLowerCase():null,b=b.toLowerCase()),k&&w&&(k=Io(k,w)||k);const S=b!=="/"&&b.endsWith("/")?b.length-1:b.length;let C=N===b||!a&&N.startsWith(b)&&N.charAt(S)==="/",B=k!=null&&(k===b||!a&&k.startsWith(b)&&k.charAt(b.length)==="/"),E={isActive:C,isPending:B,isTransitioning:j},z=C?e:void 0,T;typeof n=="function"?T=n(E):T=[n,C?"active":null,B?"pending":null,j?"transitioning":null].filter(Boolean).join(" ");let W=typeof i=="function"?i(E):i;return _.createElement(Us,{...h,"aria-current":z,className:T,ref:m,style:W,to:o,viewTransition:c},typeof d=="function"?d(E):d)});T6.displayName="NavLink";var KV=_.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:a,state:i,method:o=xx,action:c,onSubmit:d,relative:h,preventScrollReset:m,viewTransition:f,unstable_defaultShouldRevalidate:g,...y},v)=>{let{unstable_useTransitions:w}=_.useContext(ba),j=eH(),b=tH(c,{relative:h}),N=o.toLowerCase()==="get"?"get":"post",k=typeof c=="string"&&E6.test(c),S=C=>{if(d&&d(C),C.defaultPrevented)return;C.preventDefault();let B=C.nativeEvent.submitter,E=B?.getAttribute("formmethod")||o,z=()=>j(B||C.currentTarget,{fetcherKey:e,method:E,navigate:r,replace:a,state:i,relative:h,preventScrollReset:m,viewTransition:f,unstable_defaultShouldRevalidate:g});w&&r!==!1?_.startTransition(()=>z()):z()};return _.createElement("form",{ref:v,method:N,action:b,onSubmit:n?d:S,...y,"data-discover":!k&&t==="render"?"true":void 0})});KV.displayName="Form";function XV(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function R6(t){let e=_.useContext(lh);return lr(e,XV(t)),e}function ZV(t,{target:e,replace:r,state:n,preventScrollReset:a,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:c,unstable_useTransitions:d}={}){let h=sn(),m=Wa(),f=Dm(t,{relative:i});return _.useCallback(g=>{if(EV(g,e)){g.preventDefault();let y=r!==void 0?r:dm(m)===dm(f),v=()=>h(t,{replace:y,state:n,preventScrollReset:a,relative:i,viewTransition:o,unstable_defaultShouldRevalidate:c});d?_.startTransition(()=>v()):v()}},[m,h,f,r,n,e,t,a,i,o,c,d])}var QV=0,JV=()=>`__${String(++QV)}__`;function eH(){let{router:t}=R6("useSubmit"),{basename:e}=_.useContext(ba),r=yV(),n=t.fetch,a=t.navigate;return _.useCallback(async(i,o={})=>{let{action:c,method:d,encType:h,formData:m,body:f}=DV(i,e);if(o.navigate===!1){let g=o.fetcherKey||JV();await n(g,r,o.action||c,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:m,body:f,formMethod:o.method||d,formEncType:o.encType||h,flushSync:o.flushSync})}else await a(o.action||c,{unstable_defaultShouldRevalidate:o.unstable_defaultShouldRevalidate,preventScrollReset:o.preventScrollReset,formData:m,body:f,formMethod:o.method||d,formEncType:o.encType||h,replace:o.replace,state:o.state,fromRouteId:r,flushSync:o.flushSync,viewTransition:o.viewTransition})},[n,a,e,r])}function tH(t,{relative:e}={}){let{basename:r}=_.useContext(ba),n=_.useContext(qa);lr(n,"useFormAction must be used inside a RouteContext");let[a]=n.matches.slice(-1),i={...Dm(t||".",{relative:e})},o=Wa();if(t==null){i.search=o.search;let c=new URLSearchParams(i.search),d=c.getAll("index");if(d.some(m=>m==="")){c.delete("index"),d.filter(f=>f).forEach(f=>c.append("index",f));let m=c.toString();i.search=m?`?${m}`:""}}return(!t||t===".")&&a.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(i.pathname=i.pathname==="/"?r:Fo([r,i.pathname])),dm(i)}function sH(t,{relative:e}={}){let r=_.useContext(v6);lr(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=R6("useViewTransitionState"),a=Dm(t,{relative:e});if(!r.isTransitioning)return!1;let i=Io(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Io(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Fx(a.pathname,o)!=null||Fx(a.pathname,i)!=null}var Mm=r6();const D6=C0(Mm);var rH=(t,e,r,n,a,i,o,c)=>{let d=document.documentElement,h=["light","dark"];function m(y){(Array.isArray(t)?t:[t]).forEach(v=>{let w=v==="class",j=w&&i?a.map(b=>i[b]||b):a;w?(d.classList.remove(...j),d.classList.add(i&&i[y]?i[y]:y)):d.setAttribute(v,y)}),f(y)}function f(y){c&&h.includes(y)&&(d.style.colorScheme=y)}function g(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)m(n);else try{let y=localStorage.getItem(e)||r,v=o&&y==="system"?g():y;m(v)}catch{}},nH=_.createContext(void 0),aH={setTheme:t=>{},themes:[]},iH=()=>{var t;return(t=_.useContext(nH))!=null?t:aH};_.memo(({forcedTheme:t,storageKey:e,attribute:r,enableSystem:n,enableColorScheme:a,defaultTheme:i,value:o,themes:c,nonce:d,scriptProps:h})=>{let m=JSON.stringify([r,e,i,t,c,o,n,a]).slice(1,-1);return _.createElement("script",{...h,suppressHydrationWarning:!0,nonce:typeof window>"u"?d:"",dangerouslySetInnerHTML:{__html:`(${rH.toString()})(${m})`}})});function oH(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}const lH=t=>{switch(t){case"success":return uH;case"info":return fH;case"warning":return hH;case"error":return mH;default:return null}},cH=Array(12).fill(0),dH=({visible:t,className:e})=>lt.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},lt.createElement("div",{className:"sonner-spinner"},cH.map((r,n)=>lt.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),uH=lt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},lt.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),hH=lt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},lt.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),fH=lt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},lt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),mH=lt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},lt.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),pH=lt.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},lt.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),lt.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),gH=()=>{const[t,e]=lt.useState(document.hidden);return lt.useEffect(()=>{const r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t};let t_=1;class xH{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:n,...a}=e,i=typeof e?.id=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:t_++,o=this.toasts.find(d=>d.id===i),c=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),o?this.toasts=this.toasts.map(d=>d.id===i?(this.publish({...d,...e,id:i,title:n}),{...d,...e,id:i,dismissible:c,title:n}):d):this.addToast({title:n,...a,dismissible:c,id:i}),i},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const a=Promise.resolve(e instanceof Function?e():e);let i=n!==void 0,o;const c=a.then(async h=>{if(o=["resolve",h],lt.isValidElement(h))i=!1,this.create({id:n,type:"default",message:h});else if(bH(h)&&!h.ok){i=!1;const f=typeof r.error=="function"?await r.error(`HTTP error! status: ${h.status}`):r.error,g=typeof r.description=="function"?await r.description(`HTTP error! status: ${h.status}`):r.description,v=typeof f=="object"&&!lt.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:g,...v})}else if(h instanceof Error){i=!1;const f=typeof r.error=="function"?await r.error(h):r.error,g=typeof r.description=="function"?await r.description(h):r.description,v=typeof f=="object"&&!lt.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:g,...v})}else if(r.success!==void 0){i=!1;const f=typeof r.success=="function"?await r.success(h):r.success,g=typeof r.description=="function"?await r.description(h):r.description,v=typeof f=="object"&&!lt.isValidElement(f)?f:{message:f};this.create({id:n,type:"success",description:g,...v})}}).catch(async h=>{if(o=["reject",h],r.error!==void 0){i=!1;const m=typeof r.error=="function"?await r.error(h):r.error,f=typeof r.description=="function"?await r.description(h):r.description,y=typeof m=="object"&&!lt.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:f,...y})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),d=()=>new Promise((h,m)=>c.then(()=>o[0]==="reject"?m(o[1]):h(o[1])).catch(m));return typeof n!="string"&&typeof n!="number"?{unwrap:d}:Object.assign(n,{unwrap:d})},this.custom=(e,r)=>{const n=r?.id||t_++;return this.create({jsx:e(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const qn=new xH,yH=(t,e)=>{const r=e?.id||t_++;return qn.addToast({title:t,...e,id:r}),r},bH=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",vH=yH,wH=()=>qn.toasts,jH=()=>qn.getActiveToasts(),ve=Object.assign(vH,{success:qn.success,info:qn.info,warning:qn.warning,error:qn.error,custom:qn.custom,message:qn.message,promise:qn.promise,dismiss:qn.dismiss,loading:qn.loading},{getHistory:wH,getToasts:jH});oH("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Ng(t){return t.label!==void 0}const _H=3,NH="24px",SH="16px",RE=4e3,CH=356,kH=14,AH=45,EH=200;function Ei(...t){return t.filter(Boolean).join(" ")}function TH(t){const[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}const RH=t=>{var e,r,n,a,i,o,c,d,h;const{invert:m,toast:f,unstyled:g,interacting:y,setHeights:v,visibleToasts:w,heights:j,index:b,toasts:N,expanded:k,removeToast:S,defaultRichColors:C,closeButton:B,style:E,cancelButtonStyle:z,actionButtonStyle:T,className:W="",descriptionClassName:U="",duration:L,position:Z,gap:O,expandByDefault:se,classNames:K,icons:M,closeButtonAriaLabel:X="Close toast"}=t,[$,oe]=lt.useState(null),[q,Y]=lt.useState(null),[ce,le]=lt.useState(!1),[be,ge]=lt.useState(!1),[V,H]=lt.useState(!1),[me,Q]=lt.useState(!1),[te,ee]=lt.useState(!1),[Ce,F]=lt.useState(0),[Ee,J]=lt.useState(0),R=lt.useRef(f.duration||L||RE),P=lt.useRef(null),G=lt.useRef(null),we=b===0,de=b+1<=w,he=f.type,xe=f.dismissible!==!1,Me=f.className||"",Re=f.descriptionClassName||"",$e=lt.useMemo(()=>j.findIndex(Ot=>Ot.toastId===f.id)||0,[j,f.id]),Je=lt.useMemo(()=>{var Ot;return(Ot=f.closeButton)!=null?Ot:B},[f.closeButton,B]),st=lt.useMemo(()=>f.duration||L||RE,[f.duration,L]),Nt=lt.useRef(0),St=lt.useRef(0),Ht=lt.useRef(0),As=lt.useRef(null),[kt,ds]=Z.split("-"),Ge=lt.useMemo(()=>j.reduce((Ot,ye,At)=>At>=$e?Ot:Ot+ye.height,0),[j,$e]),Ze=gH(),Ke=f.invert||m,us=he==="loading";St.current=lt.useMemo(()=>$e*O+Ge,[$e,Ge]),lt.useEffect(()=>{R.current=st},[st]),lt.useEffect(()=>{le(!0)},[]),lt.useEffect(()=>{const Ot=G.current;if(Ot){const ye=Ot.getBoundingClientRect().height;return J(ye),v(At=>[{toastId:f.id,height:ye,position:f.position},...At]),()=>v(At=>At.filter(Js=>Js.toastId!==f.id))}},[v,f.id]),lt.useLayoutEffect(()=>{if(!ce)return;const Ot=G.current,ye=Ot.style.height;Ot.style.height="auto";const At=Ot.getBoundingClientRect().height;Ot.style.height=ye,J(At),v(Js=>Js.find(ot=>ot.toastId===f.id)?Js.map(ot=>ot.toastId===f.id?{...ot,height:At}:ot):[{toastId:f.id,height:At,position:f.position},...Js])},[ce,f.title,f.description,v,f.id,f.jsx,f.action,f.cancel]);const Es=lt.useCallback(()=>{ge(!0),F(St.current),v(Ot=>Ot.filter(ye=>ye.toastId!==f.id)),setTimeout(()=>{S(f)},EH)},[f,S,v,St]);lt.useEffect(()=>{if(f.promise&&he==="loading"||f.duration===1/0||f.type==="loading")return;let Ot;return k||y||Ze?(()=>{if(Ht.current<Nt.current){const Js=new Date().getTime()-Nt.current;R.current=R.current-Js}Ht.current=new Date().getTime()})():(()=>{R.current!==1/0&&(Nt.current=new Date().getTime(),Ot=setTimeout(()=>{f.onAutoClose==null||f.onAutoClose.call(f,f),Es()},R.current))})(),()=>clearTimeout(Ot)},[k,y,f,he,Ze,Es]),lt.useEffect(()=>{f.delete&&(Es(),f.onDismiss==null||f.onDismiss.call(f,f))},[Es,f.delete]);function Cs(){var Ot;if(M?.loading){var ye;return lt.createElement("div",{className:Ei(K?.loader,f==null||(ye=f.classNames)==null?void 0:ye.loader,"sonner-loader"),"data-visible":he==="loading"},M.loading)}return lt.createElement(dH,{className:Ei(K?.loader,f==null||(Ot=f.classNames)==null?void 0:Ot.loader),visible:he==="loading"})}const jn=f.icon||M?.[he]||lH(he);var $s,wr;return lt.createElement("li",{tabIndex:0,ref:G,className:Ei(W,Me,K?.toast,f==null||(e=f.classNames)==null?void 0:e.toast,K?.default,K?.[he],f==null||(r=f.classNames)==null?void 0:r[he]),"data-sonner-toast":"","data-rich-colors":($s=f.richColors)!=null?$s:C,"data-styled":!(f.jsx||f.unstyled||g),"data-mounted":ce,"data-promise":!!f.promise,"data-swiped":te,"data-removed":be,"data-visible":de,"data-y-position":kt,"data-x-position":ds,"data-index":b,"data-front":we,"data-swiping":V,"data-dismissible":xe,"data-type":he,"data-invert":Ke,"data-swipe-out":me,"data-swipe-direction":q,"data-expanded":!!(k||se&&ce),"data-testid":f.testId,style:{"--index":b,"--toasts-before":b,"--z-index":N.length-b,"--offset":`${be?Ce:St.current}px`,"--initial-height":se?"auto":`${Ee}px`,...E,...f.style},onDragEnd:()=>{H(!1),oe(null),As.current=null},onPointerDown:Ot=>{Ot.button!==2&&(us||!xe||(P.current=new Date,F(St.current),Ot.target.setPointerCapture(Ot.pointerId),Ot.target.tagName!=="BUTTON"&&(H(!0),As.current={x:Ot.clientX,y:Ot.clientY})))},onPointerUp:()=>{var Ot,ye,At;if(me||!xe)return;As.current=null;const Js=Number(((Ot=G.current)==null?void 0:Ot.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Ct=Number(((ye=G.current)==null?void 0:ye.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),ot=new Date().getTime()-((At=P.current)==null?void 0:At.getTime()),ys=$==="x"?Js:Ct,dr=Math.abs(ys)/ot;if(Math.abs(ys)>=AH||dr>.11){F(St.current),f.onDismiss==null||f.onDismiss.call(f,f),Y($==="x"?Js>0?"right":"left":Ct>0?"down":"up"),Es(),Q(!0);return}else{var qs,$r;(qs=G.current)==null||qs.style.setProperty("--swipe-amount-x","0px"),($r=G.current)==null||$r.style.setProperty("--swipe-amount-y","0px")}ee(!1),H(!1),oe(null)},onPointerMove:Ot=>{var ye,At,Js;if(!As.current||!xe||((ye=window.getSelection())==null?void 0:ye.toString().length)>0)return;const ot=Ot.clientY-As.current.y,ys=Ot.clientX-As.current.x;var dr;const qs=(dr=t.swipeDirections)!=null?dr:TH(Z);!$&&(Math.abs(ys)>1||Math.abs(ot)>1)&&oe(Math.abs(ys)>Math.abs(ot)?"x":"y");let $r={x:0,y:0};const Dn=_n=>1/(1.5+Math.abs(_n)/20);if($==="y"){if(qs.includes("top")||qs.includes("bottom"))if(qs.includes("top")&&ot<0||qs.includes("bottom")&&ot>0)$r.y=ot;else{const _n=ot*Dn(ot);$r.y=Math.abs(_n)<Math.abs(ot)?_n:ot}}else if($==="x"&&(qs.includes("left")||qs.includes("right")))if(qs.includes("left")&&ys<0||qs.includes("right")&&ys>0)$r.x=ys;else{const _n=ys*Dn(ys);$r.x=Math.abs(_n)<Math.abs(ys)?_n:ys}(Math.abs($r.x)>0||Math.abs($r.y)>0)&&ee(!0),(At=G.current)==null||At.style.setProperty("--swipe-amount-x",`${$r.x}px`),(Js=G.current)==null||Js.style.setProperty("--swipe-amount-y",`${$r.y}px`)}},Je&&!f.jsx&&he!=="loading"?lt.createElement("button",{"aria-label":X,"data-disabled":us,"data-close-button":!0,onClick:us||!xe?()=>{}:()=>{Es(),f.onDismiss==null||f.onDismiss.call(f,f)},className:Ei(K?.closeButton,f==null||(n=f.classNames)==null?void 0:n.closeButton)},(wr=M?.close)!=null?wr:pH):null,(he||f.icon||f.promise)&&f.icon!==null&&(M?.[he]!==null||f.icon)?lt.createElement("div",{"data-icon":"",className:Ei(K?.icon,f==null||(a=f.classNames)==null?void 0:a.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||Cs():null,f.type!=="loading"?jn:null):null,lt.createElement("div",{"data-content":"",className:Ei(K?.content,f==null||(i=f.classNames)==null?void 0:i.content)},lt.createElement("div",{"data-title":"",className:Ei(K?.title,f==null||(o=f.classNames)==null?void 0:o.title)},f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title),f.description?lt.createElement("div",{"data-description":"",className:Ei(U,Re,K?.description,f==null||(c=f.classNames)==null?void 0:c.description)},typeof f.description=="function"?f.description():f.description):null),lt.isValidElement(f.cancel)?f.cancel:f.cancel&&Ng(f.cancel)?lt.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||z,onClick:Ot=>{Ng(f.cancel)&&xe&&(f.cancel.onClick==null||f.cancel.onClick.call(f.cancel,Ot),Es())},className:Ei(K?.cancelButton,f==null||(d=f.classNames)==null?void 0:d.cancelButton)},f.cancel.label):null,lt.isValidElement(f.action)?f.action:f.action&&Ng(f.action)?lt.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||T,onClick:Ot=>{Ng(f.action)&&(f.action.onClick==null||f.action.onClick.call(f.action,Ot),!Ot.defaultPrevented&&Es())},className:Ei(K?.actionButton,f==null||(h=f.classNames)==null?void 0:h.actionButton)},f.action.label):null)};function DE(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function DH(t,e){const r={};return[t,e].forEach((n,a)=>{const i=a===1,o=i?"--mobile-offset":"--offset",c=i?SH:NH;function d(h){["top","right","bottom","left"].forEach(m=>{r[`${o}-${m}`]=typeof h=="number"?`${h}px`:h})}typeof n=="number"||typeof n=="string"?d(n):typeof n=="object"?["top","right","bottom","left"].forEach(h=>{n[h]===void 0?r[`${o}-${h}`]=c:r[`${o}-${h}`]=typeof n[h]=="number"?`${n[h]}px`:n[h]}):d(c)}),r}const MH=lt.forwardRef(function(e,r){const{id:n,invert:a,position:i="bottom-right",hotkey:o=["altKey","KeyT"],expand:c,closeButton:d,className:h,offset:m,mobileOffset:f,theme:g="light",richColors:y,duration:v,style:w,visibleToasts:j=_H,toastOptions:b,dir:N=DE(),gap:k=kH,icons:S,containerAriaLabel:C="Notifications"}=e,[B,E]=lt.useState([]),z=lt.useMemo(()=>n?B.filter(ce=>ce.toasterId===n):B.filter(ce=>!ce.toasterId),[B,n]),T=lt.useMemo(()=>Array.from(new Set([i].concat(z.filter(ce=>ce.position).map(ce=>ce.position)))),[z,i]),[W,U]=lt.useState([]),[L,Z]=lt.useState(!1),[O,se]=lt.useState(!1),[K,M]=lt.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),X=lt.useRef(null),$=o.join("+").replace(/Key/g,"").replace(/Digit/g,""),oe=lt.useRef(null),q=lt.useRef(!1),Y=lt.useCallback(ce=>{E(le=>{var be;return(be=le.find(ge=>ge.id===ce.id))!=null&&be.delete||qn.dismiss(ce.id),le.filter(({id:ge})=>ge!==ce.id)})},[]);return lt.useEffect(()=>qn.subscribe(ce=>{if(ce.dismiss){requestAnimationFrame(()=>{E(le=>le.map(be=>be.id===ce.id?{...be,delete:!0}:be))});return}setTimeout(()=>{D6.flushSync(()=>{E(le=>{const be=le.findIndex(ge=>ge.id===ce.id);return be!==-1?[...le.slice(0,be),{...le[be],...ce},...le.slice(be+1)]:[ce,...le]})})})}),[B]),lt.useEffect(()=>{if(g!=="system"){M(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?M("dark"):M("light")),typeof window>"u")return;const ce=window.matchMedia("(prefers-color-scheme: dark)");try{ce.addEventListener("change",({matches:le})=>{M(le?"dark":"light")})}catch{ce.addListener(({matches:be})=>{try{M(be?"dark":"light")}catch(ge){console.error(ge)}})}},[g]),lt.useEffect(()=>{B.length<=1&&Z(!1)},[B]),lt.useEffect(()=>{const ce=le=>{var be;if(o.every(H=>le[H]||le.code===H)){var V;Z(!0),(V=X.current)==null||V.focus()}le.code==="Escape"&&(document.activeElement===X.current||(be=X.current)!=null&&be.contains(document.activeElement))&&Z(!1)};return document.addEventListener("keydown",ce),()=>document.removeEventListener("keydown",ce)},[o]),lt.useEffect(()=>{if(X.current)return()=>{oe.current&&(oe.current.focus({preventScroll:!0}),oe.current=null,q.current=!1)}},[X.current]),lt.createElement("section",{ref:r,"aria-label":`${C} ${$}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},T.map((ce,le)=>{var be;const[ge,V]=ce.split("-");return z.length?lt.createElement("ol",{key:ce,dir:N==="auto"?DE():N,tabIndex:-1,ref:X,className:h,"data-sonner-toaster":!0,"data-sonner-theme":K,"data-y-position":ge,"data-x-position":V,style:{"--front-toast-height":`${((be=W[0])==null?void 0:be.height)||0}px`,"--width":`${CH}px`,"--gap":`${k}px`,...w,...DH(m,f)},onBlur:H=>{q.current&&!H.currentTarget.contains(H.relatedTarget)&&(q.current=!1,oe.current&&(oe.current.focus({preventScroll:!0}),oe.current=null))},onFocus:H=>{H.target instanceof HTMLElement&&H.target.dataset.dismissible==="false"||q.current||(q.current=!0,oe.current=H.relatedTarget)},onMouseEnter:()=>Z(!0),onMouseMove:()=>Z(!0),onMouseLeave:()=>{O||Z(!1)},onDragEnd:()=>Z(!1),onPointerDown:H=>{H.target instanceof HTMLElement&&H.target.dataset.dismissible==="false"||se(!0)},onPointerUp:()=>se(!1)},z.filter(H=>!H.position&&le===0||H.position===ce).map((H,me)=>{var Q,te;return lt.createElement(RH,{key:H.id,icons:S,index:me,toast:H,defaultRichColors:y,duration:(Q=b?.duration)!=null?Q:v,className:b?.className,descriptionClassName:b?.descriptionClassName,invert:a,visibleToasts:j,closeButton:(te=b?.closeButton)!=null?te:d,interacting:O,position:ce,style:b?.style,unstyled:b?.unstyled,classNames:b?.classNames,cancelButtonStyle:b?.cancelButtonStyle,actionButtonStyle:b?.actionButtonStyle,closeButtonAriaLabel:b?.closeButtonAriaLabel,removeToast:Y,toasts:z.filter(ee=>ee.position==H.position),heights:W.filter(ee=>ee.position==H.position),setHeights:U,expandByDefault:c,gap:k,expanded:L,swipeDirections:e.swipeDirections})})):null}))}),PH=({...t})=>{const{theme:e="system"}=iH();return s.jsx(MH,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};function ME(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Yo(...t){return e=>{let r=!1;const n=t.map(a=>{const i=ME(a,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():ME(t[a],null)}}}}function Jt(...t){return _.useCallback(Yo(...t),t)}var OH=Symbol.for("react.lazy"),Bx=pN[" use ".trim().toString()];function LH(t){return typeof t=="object"&&t!==null&&"then"in t}function M6(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===OH&&"_payload"in t&&LH(t._payload)}function _N(t){const e=BH(t),r=_.forwardRef((n,a)=>{let{children:i,...o}=n;M6(i)&&typeof Bx=="function"&&(i=Bx(i._payload));const c=_.Children.toArray(i),d=c.find(zH);if(d){const h=d.props.children,m=c.map(f=>f===d?_.Children.count(h)>1?_.Children.only(null):_.isValidElement(h)?h.props.children:null:f);return s.jsx(e,{...o,ref:a,children:_.isValidElement(h)?_.cloneElement(h,void 0,m):null})}return s.jsx(e,{...o,ref:a,children:i})});return r.displayName=`${t}.Slot`,r}var FH=_N("Slot");function BH(t){const e=_.forwardRef((r,n)=>{let{children:a,...i}=r;if(M6(a)&&typeof Bx=="function"&&(a=Bx(a._payload)),_.isValidElement(a)){const o=$H(a),c=UH(i,a.props);return a.type!==_.Fragment&&(c.ref=n?Yo(n,o):o),_.cloneElement(a,c)}return _.Children.count(a)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var IH=Symbol("radix.slottable");function zH(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===IH}function UH(t,e){const r={...e};for(const n in e){const a=t[n],i=e[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...t,...r}}function $H(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function P6(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(r=P6(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function O6(){for(var t,e,r=0,n="",a=arguments.length;r<a;r++)(t=arguments[r])&&(e=P6(t))&&(n&&(n+=" "),n+=e);return n}const PE=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,OE=O6,NN=(t,e)=>r=>{var n;if(e?.variants==null)return OE(t,r?.class,r?.className);const{variants:a,defaultVariants:i}=e,o=Object.keys(a).map(h=>{const m=r?.[h],f=i?.[h];if(m===null)return null;const g=PE(m)||PE(f);return a[h][g]}),c=r&&Object.entries(r).reduce((h,m)=>{let[f,g]=m;return g===void 0||(h[f]=g),h},{}),d=e==null||(n=e.compoundVariants)===null||n===void 0?void 0:n.reduce((h,m)=>{let{class:f,className:g,...y}=m;return Object.entries(y).every(v=>{let[w,j]=v;return Array.isArray(j)?j.includes({...i,...c}[w]):{...i,...c}[w]===j})?[...h,f,g]:h},[]);return OE(t,o,d,r?.class,r?.className)},VH=(t,e)=>{const r=new Array(t.length+e.length);for(let n=0;n<t.length;n++)r[n]=t[n];for(let n=0;n<e.length;n++)r[t.length+n]=e[n];return r},HH=(t,e)=>({classGroupId:t,validator:e}),L6=(t=new Map,e=null,r)=>({nextPart:t,validators:e,classGroupId:r}),Ix="-",LE=[],qH="arbitrary..",WH=t=>{const e=YH(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:o=>{if(o.startsWith("[")&&o.endsWith("]"))return GH(o);const c=o.split(Ix),d=c[0]===""&&c.length>1?1:0;return F6(c,d,e)},getConflictingClassGroupIds:(o,c)=>{if(c){const d=n[o],h=r[o];return d?h?VH(h,d):d:h||LE}return r[o]||LE}}},F6=(t,e,r)=>{if(t.length-e===0)return r.classGroupId;const a=t[e],i=r.nextPart.get(a);if(i){const h=F6(t,e+1,i);if(h)return h}const o=r.validators;if(o===null)return;const c=e===0?t.join(Ix):t.slice(e).join(Ix),d=o.length;for(let h=0;h<d;h++){const m=o[h];if(m.validator(c))return m.classGroupId}},GH=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),r=e.indexOf(":"),n=e.slice(0,r);return n?qH+n:void 0})(),YH=t=>{const{theme:e,classGroups:r}=t;return KH(r,e)},KH=(t,e)=>{const r=L6();for(const n in t){const a=t[n];SN(a,r,n,e)}return r},SN=(t,e,r,n)=>{const a=t.length;for(let i=0;i<a;i++){const o=t[i];XH(o,e,r,n)}},XH=(t,e,r,n)=>{if(typeof t=="string"){ZH(t,e,r);return}if(typeof t=="function"){QH(t,e,r,n);return}JH(t,e,r,n)},ZH=(t,e,r)=>{const n=t===""?e:B6(e,t);n.classGroupId=r},QH=(t,e,r,n)=>{if(eq(t)){SN(t(n),e,r,n);return}e.validators===null&&(e.validators=[]),e.validators.push(HH(r,t))},JH=(t,e,r,n)=>{const a=Object.entries(t),i=a.length;for(let o=0;o<i;o++){const[c,d]=a[o];SN(d,B6(e,c),r,n)}},B6=(t,e)=>{let r=t;const n=e.split(Ix),a=n.length;for(let i=0;i<a;i++){const o=n[i];let c=r.nextPart.get(o);c||(c=L6(),r.nextPart.set(o,c)),r=c}return r},eq=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,tq=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=Object.create(null),n=Object.create(null);const a=(i,o)=>{r[i]=o,e++,e>t&&(e=0,n=r,r=Object.create(null))};return{get(i){let o=r[i];if(o!==void 0)return o;if((o=n[i])!==void 0)return a(i,o),o},set(i,o){i in r?r[i]=o:a(i,o)}}},s_="!",FE=":",sq=[],BE=(t,e,r,n,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:r,maybePostfixModifierPosition:n,isExternal:a}),rq=t=>{const{prefix:e,experimentalParseClassName:r}=t;let n=a=>{const i=[];let o=0,c=0,d=0,h;const m=a.length;for(let w=0;w<m;w++){const j=a[w];if(o===0&&c===0){if(j===FE){i.push(a.slice(d,w)),d=w+1;continue}if(j==="/"){h=w;continue}}j==="["?o++:j==="]"?o--:j==="("?c++:j===")"&&c--}const f=i.length===0?a:a.slice(d);let g=f,y=!1;f.endsWith(s_)?(g=f.slice(0,-1),y=!0):f.startsWith(s_)&&(g=f.slice(1),y=!0);const v=h&&h>d?h-d:void 0;return BE(i,y,g,v)};if(e){const a=e+FE,i=n;n=o=>o.startsWith(a)?i(o.slice(a.length)):BE(sq,!1,o,void 0,!0)}if(r){const a=n;n=i=>r({className:i,parseClassName:a})}return n},nq=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((r,n)=>{e.set(r,1e6+n)}),r=>{const n=[];let a=[];for(let i=0;i<r.length;i++){const o=r[i],c=o[0]==="[",d=e.has(o);c||d?(a.length>0&&(a.sort(),n.push(...a),a=[]),n.push(o)):a.push(o)}return a.length>0&&(a.sort(),n.push(...a)),n}},aq=t=>({cache:tq(t.cacheSize),parseClassName:rq(t),sortModifiers:nq(t),...WH(t)}),iq=/\s+/,oq=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:a,sortModifiers:i}=e,o=[],c=t.trim().split(iq);let d="";for(let h=c.length-1;h>=0;h-=1){const m=c[h],{isExternal:f,modifiers:g,hasImportantModifier:y,baseClassName:v,maybePostfixModifierPosition:w}=r(m);if(f){d=m+(d.length>0?" "+d:d);continue}let j=!!w,b=n(j?v.substring(0,w):v);if(!b){if(!j){d=m+(d.length>0?" "+d:d);continue}if(b=n(v),!b){d=m+(d.length>0?" "+d:d);continue}j=!1}const N=g.length===0?"":g.length===1?g[0]:i(g).join(":"),k=y?N+s_:N,S=k+b;if(o.indexOf(S)>-1)continue;o.push(S);const C=a(b,j);for(let B=0;B<C.length;++B){const E=C[B];o.push(k+E)}d=m+(d.length>0?" "+d:d)}return d},lq=(...t)=>{let e=0,r,n,a="";for(;e<t.length;)(r=t[e++])&&(n=I6(r))&&(a&&(a+=" "),a+=n);return a},I6=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=I6(t[n]))&&(r&&(r+=" "),r+=e);return r},cq=(t,...e)=>{let r,n,a,i;const o=d=>{const h=e.reduce((m,f)=>f(m),t());return r=aq(h),n=r.cache.get,a=r.cache.set,i=c,c(d)},c=d=>{const h=n(d);if(h)return h;const m=oq(d,r);return a(d,m),m};return i=o,(...d)=>i(lq(...d))},dq=[],qr=t=>{const e=r=>r[t]||dq;return e.isThemeGetter=!0,e},z6=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,U6=/^\((?:(\w[\w-]*):)?(.+)\)$/i,uq=/^\d+\/\d+$/,hq=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,fq=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,mq=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,pq=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,gq=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,gu=t=>uq.test(t),es=t=>!!t&&!Number.isNaN(Number(t)),Ml=t=>!!t&&Number.isInteger(Number(t)),Kv=t=>t.endsWith("%")&&es(t.slice(0,-1)),So=t=>hq.test(t),xq=()=>!0,yq=t=>fq.test(t)&&!mq.test(t),$6=()=>!1,bq=t=>pq.test(t),vq=t=>gq.test(t),wq=t=>!yt(t)&&!bt(t),jq=t=>dh(t,q6,$6),yt=t=>z6.test(t),Bc=t=>dh(t,W6,yq),Xv=t=>dh(t,kq,es),IE=t=>dh(t,V6,$6),_q=t=>dh(t,H6,vq),Sg=t=>dh(t,G6,bq),bt=t=>U6.test(t),Sf=t=>uh(t,W6),Nq=t=>uh(t,Aq),zE=t=>uh(t,V6),Sq=t=>uh(t,q6),Cq=t=>uh(t,H6),Cg=t=>uh(t,G6,!0),dh=(t,e,r)=>{const n=z6.exec(t);return n?n[1]?e(n[1]):r(n[2]):!1},uh=(t,e,r=!1)=>{const n=U6.exec(t);return n?n[1]?e(n[1]):r:!1},V6=t=>t==="position"||t==="percentage",H6=t=>t==="image"||t==="url",q6=t=>t==="length"||t==="size"||t==="bg-size",W6=t=>t==="length",kq=t=>t==="number",Aq=t=>t==="family-name",G6=t=>t==="shadow",Eq=()=>{const t=qr("color"),e=qr("font"),r=qr("text"),n=qr("font-weight"),a=qr("tracking"),i=qr("leading"),o=qr("breakpoint"),c=qr("container"),d=qr("spacing"),h=qr("radius"),m=qr("shadow"),f=qr("inset-shadow"),g=qr("text-shadow"),y=qr("drop-shadow"),v=qr("blur"),w=qr("perspective"),j=qr("aspect"),b=qr("ease"),N=qr("animate"),k=()=>["auto","avoid","all","avoid-page","page","left","right","column"],S=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],C=()=>[...S(),bt,yt],B=()=>["auto","hidden","clip","visible","scroll"],E=()=>["auto","contain","none"],z=()=>[bt,yt,d],T=()=>[gu,"full","auto",...z()],W=()=>[Ml,"none","subgrid",bt,yt],U=()=>["auto",{span:["full",Ml,bt,yt]},Ml,bt,yt],L=()=>[Ml,"auto",bt,yt],Z=()=>["auto","min","max","fr",bt,yt],O=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],se=()=>["start","end","center","stretch","center-safe","end-safe"],K=()=>["auto",...z()],M=()=>[gu,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...z()],X=()=>[t,bt,yt],$=()=>[...S(),zE,IE,{position:[bt,yt]}],oe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],q=()=>["auto","cover","contain",Sq,jq,{size:[bt,yt]}],Y=()=>[Kv,Sf,Bc],ce=()=>["","none","full",h,bt,yt],le=()=>["",es,Sf,Bc],be=()=>["solid","dashed","dotted","double"],ge=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],V=()=>[es,Kv,zE,IE],H=()=>["","none",v,bt,yt],me=()=>["none",es,bt,yt],Q=()=>["none",es,bt,yt],te=()=>[es,bt,yt],ee=()=>[gu,"full",...z()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[So],breakpoint:[So],color:[xq],container:[So],"drop-shadow":[So],ease:["in","out","in-out"],font:[wq],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[So],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[So],shadow:[So],spacing:["px",es],text:[So],"text-shadow":[So],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",gu,yt,bt,j]}],container:["container"],columns:[{columns:[es,yt,bt,c]}],"break-after":[{"break-after":k()}],"break-before":[{"break-before":k()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:C()}],overflow:[{overflow:B()}],"overflow-x":[{"overflow-x":B()}],"overflow-y":[{"overflow-y":B()}],overscroll:[{overscroll:E()}],"overscroll-x":[{"overscroll-x":E()}],"overscroll-y":[{"overscroll-y":E()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:T()}],"inset-x":[{"inset-x":T()}],"inset-y":[{"inset-y":T()}],start:[{start:T()}],end:[{end:T()}],top:[{top:T()}],right:[{right:T()}],bottom:[{bottom:T()}],left:[{left:T()}],visibility:["visible","invisible","collapse"],z:[{z:[Ml,"auto",bt,yt]}],basis:[{basis:[gu,"full","auto",c,...z()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[es,gu,"auto","initial","none",yt]}],grow:[{grow:["",es,bt,yt]}],shrink:[{shrink:["",es,bt,yt]}],order:[{order:[Ml,"first","last","none",bt,yt]}],"grid-cols":[{"grid-cols":W()}],"col-start-end":[{col:U()}],"col-start":[{"col-start":L()}],"col-end":[{"col-end":L()}],"grid-rows":[{"grid-rows":W()}],"row-start-end":[{row:U()}],"row-start":[{"row-start":L()}],"row-end":[{"row-end":L()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Z()}],"auto-rows":[{"auto-rows":Z()}],gap:[{gap:z()}],"gap-x":[{"gap-x":z()}],"gap-y":[{"gap-y":z()}],"justify-content":[{justify:[...O(),"normal"]}],"justify-items":[{"justify-items":[...se(),"normal"]}],"justify-self":[{"justify-self":["auto",...se()]}],"align-content":[{content:["normal",...O()]}],"align-items":[{items:[...se(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...se(),{baseline:["","last"]}]}],"place-content":[{"place-content":O()}],"place-items":[{"place-items":[...se(),"baseline"]}],"place-self":[{"place-self":["auto",...se()]}],p:[{p:z()}],px:[{px:z()}],py:[{py:z()}],ps:[{ps:z()}],pe:[{pe:z()}],pt:[{pt:z()}],pr:[{pr:z()}],pb:[{pb:z()}],pl:[{pl:z()}],m:[{m:K()}],mx:[{mx:K()}],my:[{my:K()}],ms:[{ms:K()}],me:[{me:K()}],mt:[{mt:K()}],mr:[{mr:K()}],mb:[{mb:K()}],ml:[{ml:K()}],"space-x":[{"space-x":z()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":z()}],"space-y-reverse":["space-y-reverse"],size:[{size:M()}],w:[{w:[c,"screen",...M()]}],"min-w":[{"min-w":[c,"screen","none",...M()]}],"max-w":[{"max-w":[c,"screen","none","prose",{screen:[o]},...M()]}],h:[{h:["screen","lh",...M()]}],"min-h":[{"min-h":["screen","lh","none",...M()]}],"max-h":[{"max-h":["screen","lh",...M()]}],"font-size":[{text:["base",r,Sf,Bc]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,bt,Xv]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Kv,yt]}],"font-family":[{font:[Nq,yt,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,bt,yt]}],"line-clamp":[{"line-clamp":[es,"none",bt,Xv]}],leading:[{leading:[i,...z()]}],"list-image":[{"list-image":["none",bt,yt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",bt,yt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:X()}],"text-color":[{text:X()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...be(),"wavy"]}],"text-decoration-thickness":[{decoration:[es,"from-font","auto",bt,Bc]}],"text-decoration-color":[{decoration:X()}],"underline-offset":[{"underline-offset":[es,"auto",bt,yt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:z()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",bt,yt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",bt,yt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:$()}],"bg-repeat":[{bg:oe()}],"bg-size":[{bg:q()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ml,bt,yt],radial:["",bt,yt],conic:[Ml,bt,yt]},Cq,_q]}],"bg-color":[{bg:X()}],"gradient-from-pos":[{from:Y()}],"gradient-via-pos":[{via:Y()}],"gradient-to-pos":[{to:Y()}],"gradient-from":[{from:X()}],"gradient-via":[{via:X()}],"gradient-to":[{to:X()}],rounded:[{rounded:ce()}],"rounded-s":[{"rounded-s":ce()}],"rounded-e":[{"rounded-e":ce()}],"rounded-t":[{"rounded-t":ce()}],"rounded-r":[{"rounded-r":ce()}],"rounded-b":[{"rounded-b":ce()}],"rounded-l":[{"rounded-l":ce()}],"rounded-ss":[{"rounded-ss":ce()}],"rounded-se":[{"rounded-se":ce()}],"rounded-ee":[{"rounded-ee":ce()}],"rounded-es":[{"rounded-es":ce()}],"rounded-tl":[{"rounded-tl":ce()}],"rounded-tr":[{"rounded-tr":ce()}],"rounded-br":[{"rounded-br":ce()}],"rounded-bl":[{"rounded-bl":ce()}],"border-w":[{border:le()}],"border-w-x":[{"border-x":le()}],"border-w-y":[{"border-y":le()}],"border-w-s":[{"border-s":le()}],"border-w-e":[{"border-e":le()}],"border-w-t":[{"border-t":le()}],"border-w-r":[{"border-r":le()}],"border-w-b":[{"border-b":le()}],"border-w-l":[{"border-l":le()}],"divide-x":[{"divide-x":le()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":le()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...be(),"hidden","none"]}],"divide-style":[{divide:[...be(),"hidden","none"]}],"border-color":[{border:X()}],"border-color-x":[{"border-x":X()}],"border-color-y":[{"border-y":X()}],"border-color-s":[{"border-s":X()}],"border-color-e":[{"border-e":X()}],"border-color-t":[{"border-t":X()}],"border-color-r":[{"border-r":X()}],"border-color-b":[{"border-b":X()}],"border-color-l":[{"border-l":X()}],"divide-color":[{divide:X()}],"outline-style":[{outline:[...be(),"none","hidden"]}],"outline-offset":[{"outline-offset":[es,bt,yt]}],"outline-w":[{outline:["",es,Sf,Bc]}],"outline-color":[{outline:X()}],shadow:[{shadow:["","none",m,Cg,Sg]}],"shadow-color":[{shadow:X()}],"inset-shadow":[{"inset-shadow":["none",f,Cg,Sg]}],"inset-shadow-color":[{"inset-shadow":X()}],"ring-w":[{ring:le()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:X()}],"ring-offset-w":[{"ring-offset":[es,Bc]}],"ring-offset-color":[{"ring-offset":X()}],"inset-ring-w":[{"inset-ring":le()}],"inset-ring-color":[{"inset-ring":X()}],"text-shadow":[{"text-shadow":["none",g,Cg,Sg]}],"text-shadow-color":[{"text-shadow":X()}],opacity:[{opacity:[es,bt,yt]}],"mix-blend":[{"mix-blend":[...ge(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":ge()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[es]}],"mask-image-linear-from-pos":[{"mask-linear-from":V()}],"mask-image-linear-to-pos":[{"mask-linear-to":V()}],"mask-image-linear-from-color":[{"mask-linear-from":X()}],"mask-image-linear-to-color":[{"mask-linear-to":X()}],"mask-image-t-from-pos":[{"mask-t-from":V()}],"mask-image-t-to-pos":[{"mask-t-to":V()}],"mask-image-t-from-color":[{"mask-t-from":X()}],"mask-image-t-to-color":[{"mask-t-to":X()}],"mask-image-r-from-pos":[{"mask-r-from":V()}],"mask-image-r-to-pos":[{"mask-r-to":V()}],"mask-image-r-from-color":[{"mask-r-from":X()}],"mask-image-r-to-color":[{"mask-r-to":X()}],"mask-image-b-from-pos":[{"mask-b-from":V()}],"mask-image-b-to-pos":[{"mask-b-to":V()}],"mask-image-b-from-color":[{"mask-b-from":X()}],"mask-image-b-to-color":[{"mask-b-to":X()}],"mask-image-l-from-pos":[{"mask-l-from":V()}],"mask-image-l-to-pos":[{"mask-l-to":V()}],"mask-image-l-from-color":[{"mask-l-from":X()}],"mask-image-l-to-color":[{"mask-l-to":X()}],"mask-image-x-from-pos":[{"mask-x-from":V()}],"mask-image-x-to-pos":[{"mask-x-to":V()}],"mask-image-x-from-color":[{"mask-x-from":X()}],"mask-image-x-to-color":[{"mask-x-to":X()}],"mask-image-y-from-pos":[{"mask-y-from":V()}],"mask-image-y-to-pos":[{"mask-y-to":V()}],"mask-image-y-from-color":[{"mask-y-from":X()}],"mask-image-y-to-color":[{"mask-y-to":X()}],"mask-image-radial":[{"mask-radial":[bt,yt]}],"mask-image-radial-from-pos":[{"mask-radial-from":V()}],"mask-image-radial-to-pos":[{"mask-radial-to":V()}],"mask-image-radial-from-color":[{"mask-radial-from":X()}],"mask-image-radial-to-color":[{"mask-radial-to":X()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":S()}],"mask-image-conic-pos":[{"mask-conic":[es]}],"mask-image-conic-from-pos":[{"mask-conic-from":V()}],"mask-image-conic-to-pos":[{"mask-conic-to":V()}],"mask-image-conic-from-color":[{"mask-conic-from":X()}],"mask-image-conic-to-color":[{"mask-conic-to":X()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:$()}],"mask-repeat":[{mask:oe()}],"mask-size":[{mask:q()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",bt,yt]}],filter:[{filter:["","none",bt,yt]}],blur:[{blur:H()}],brightness:[{brightness:[es,bt,yt]}],contrast:[{contrast:[es,bt,yt]}],"drop-shadow":[{"drop-shadow":["","none",y,Cg,Sg]}],"drop-shadow-color":[{"drop-shadow":X()}],grayscale:[{grayscale:["",es,bt,yt]}],"hue-rotate":[{"hue-rotate":[es,bt,yt]}],invert:[{invert:["",es,bt,yt]}],saturate:[{saturate:[es,bt,yt]}],sepia:[{sepia:["",es,bt,yt]}],"backdrop-filter":[{"backdrop-filter":["","none",bt,yt]}],"backdrop-blur":[{"backdrop-blur":H()}],"backdrop-brightness":[{"backdrop-brightness":[es,bt,yt]}],"backdrop-contrast":[{"backdrop-contrast":[es,bt,yt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",es,bt,yt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[es,bt,yt]}],"backdrop-invert":[{"backdrop-invert":["",es,bt,yt]}],"backdrop-opacity":[{"backdrop-opacity":[es,bt,yt]}],"backdrop-saturate":[{"backdrop-saturate":[es,bt,yt]}],"backdrop-sepia":[{"backdrop-sepia":["",es,bt,yt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":z()}],"border-spacing-x":[{"border-spacing-x":z()}],"border-spacing-y":[{"border-spacing-y":z()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",bt,yt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[es,"initial",bt,yt]}],ease:[{ease:["linear","initial",b,bt,yt]}],delay:[{delay:[es,bt,yt]}],animate:[{animate:["none",N,bt,yt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,bt,yt]}],"perspective-origin":[{"perspective-origin":C()}],rotate:[{rotate:me()}],"rotate-x":[{"rotate-x":me()}],"rotate-y":[{"rotate-y":me()}],"rotate-z":[{"rotate-z":me()}],scale:[{scale:Q()}],"scale-x":[{"scale-x":Q()}],"scale-y":[{"scale-y":Q()}],"scale-z":[{"scale-z":Q()}],"scale-3d":["scale-3d"],skew:[{skew:te()}],"skew-x":[{"skew-x":te()}],"skew-y":[{"skew-y":te()}],transform:[{transform:[bt,yt,"","none","gpu","cpu"]}],"transform-origin":[{origin:C()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:ee()}],"translate-x":[{"translate-x":ee()}],"translate-y":[{"translate-y":ee()}],"translate-z":[{"translate-z":ee()}],"translate-none":["translate-none"],accent:[{accent:X()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:X()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",bt,yt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":z()}],"scroll-mx":[{"scroll-mx":z()}],"scroll-my":[{"scroll-my":z()}],"scroll-ms":[{"scroll-ms":z()}],"scroll-me":[{"scroll-me":z()}],"scroll-mt":[{"scroll-mt":z()}],"scroll-mr":[{"scroll-mr":z()}],"scroll-mb":[{"scroll-mb":z()}],"scroll-ml":[{"scroll-ml":z()}],"scroll-p":[{"scroll-p":z()}],"scroll-px":[{"scroll-px":z()}],"scroll-py":[{"scroll-py":z()}],"scroll-ps":[{"scroll-ps":z()}],"scroll-pe":[{"scroll-pe":z()}],"scroll-pt":[{"scroll-pt":z()}],"scroll-pr":[{"scroll-pr":z()}],"scroll-pb":[{"scroll-pb":z()}],"scroll-pl":[{"scroll-pl":z()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",bt,yt]}],fill:[{fill:["none",...X()]}],"stroke-w":[{stroke:[es,Sf,Bc,Xv]}],stroke:[{stroke:["none",...X()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Tq=cq(Eq);function _t(...t){return Tq(O6(t))}const CN=NN("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),pe=_.forwardRef(({className:t,variant:e,size:r,asChild:n=!1,children:a,"aria-label":i,"aria-labelledby":o,...c},d)=>{const h=n?FH:"button";return _.useEffect(()=>{},[a,i,o,c.title,r]),s.jsx(h,{className:_t(CN({variant:e,size:r,className:t})),ref:d,"aria-label":i,"aria-labelledby":o,...c,children:a})});pe.displayName="Button";const Rq=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Dq=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),UE=t=>{const e=Dq(t);return e.charAt(0).toUpperCase()+e.slice(1)},Y6=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),Mq=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};var Pq={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Oq=_.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:a="",children:i,iconNode:o,...c},d)=>_.createElement("svg",{ref:d,...Pq,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:Y6("lucide",a),...!i&&!Mq(c)&&{"aria-hidden":"true"},...c},[...o.map(([h,m])=>_.createElement(h,m)),...Array.isArray(i)?i:[i]]));const nt=(t,e)=>{const r=_.forwardRef(({className:n,...a},i)=>_.createElement(Oq,{ref:i,iconNode:e,className:Y6(`lucide-${Rq(UE(t))}`,`lucide-${t}`,n),...a}));return r.displayName=UE(t),r};const Lq=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],um=nt("activity",Lq);const Fq=[["path",{d:"M12 22V8",key:"qkxhtm"}],["path",{d:"M5 12H2a10 10 0 0 0 20 0h-3",key:"1hv3nh"}],["circle",{cx:"12",cy:"5",r:"3",key:"rqqgnr"}]],Bq=nt("anchor",Fq);const Iq=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Ui=nt("arrow-left",Iq);const zq=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],bd=nt("arrow-right",zq);const Uq=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],$q=nt("arrow-up-down",Uq);const Vq=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],r_=nt("award",Vq);const Hq=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],$E=nt("badge-check",Hq);const qq=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],K6=nt("ban",qq);const Wq=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],zx=nt("bell",Wq);const Gq=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],VE=nt("bookmark",Gq);const Yq=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],vd=nt("briefcase",Yq);const Kq=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],Oi=nt("building-2",Kq);const Xq=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],kN=nt("calendar-check",Xq);const Zq=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],Ux=nt("calendar-days",Zq);const Qq=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Hs=nt("calendar",Qq);const Jq=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],Kt=nt("car",Jq);const eW=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],qu=nt("chart-column",eW);const tW=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],X6=nt("check-check",tW);const sW=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ga=nt("check",sW);const rW=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Z6=nt("chevron-down",rW);const nW=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ac=nt("chevron-left",nW);const aW=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],An=nt("chevron-right",aW);const iW=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],oW=nt("chevron-up",iW);const lW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Yl=nt("circle-alert",lW);const cW=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Wn=nt("circle-check-big",cW);const dW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Gr=nt("circle-check",dW);const uW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Zn=nt("circle-x",uW);const hW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],fW=nt("circle",hW);const mW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],pW=nt("clock-4",mW);const gW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],hh=nt("clock",gW);const xW=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],HE=nt("credit-card",xW);const yW=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],cr=nt("dollar-sign",yW);const bW=[["path",{d:"M10 12h.01",key:"1kxr2c"}],["path",{d:"M18 20V6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14",key:"36qu9e"}],["path",{d:"M2 20h20",key:"owomy5"}]],vW=nt("door-closed",bW);const wW=[["path",{d:"M11 20H2",key:"nlcfvz"}],["path",{d:"M11 4.562v16.157a1 1 0 0 0 1.242.97L19 20V5.562a2 2 0 0 0-1.515-1.94l-4-1A2 2 0 0 0 11 4.561z",key:"au4z13"}],["path",{d:"M11 4H8a2 2 0 0 0-2 2v14",key:"74r1mk"}],["path",{d:"M14 12h.01",key:"1jfl7z"}],["path",{d:"M22 20h-3",key:"vhrsz"}]],jW=nt("door-open",wW);const _W=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Wu=nt("download",_W);const NW=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],$x=nt("external-link",NW);const SW=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],nr=nt("eye",SW);const CW=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],Q6=nt("facebook",CW);const kW=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],J6=nt("file-check",kW);const AW=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M12 18v-6",key:"17g6i2"}],["path",{d:"m9 15 3 3 3-3",key:"1npd3o"}]],EW=nt("file-down",AW);const TW=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],zo=nt("file-text",TW);const RW=[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"7cu91f"}]],R0=nt("fuel",RW);const DW=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],MW=nt("funnel",DW);const PW=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],zl=nt("gauge",PW);const OW=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],LW=nt("globe",OW);const FW=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Kl=nt("heart",FW);const BW=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],eM=nt("house",BW);const IW=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Jc=nt("image",IW);const zW=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],tM=nt("instagram",zW);const UW=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],sM=nt("key-round",UW);const $W=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],AN=nt("layout-dashboard",$W);const VW=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],HW=nt("lightbulb",VW);const qW=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],rM=nt("linkedin",qW);const WW=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Vx=nt("loader-circle",WW);const GW=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Il=nt("lock",GW);const YW=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Xl=nt("log-out",YW);const KW=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],qE=nt("log-in",KW);const XW=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],za=nt("mail",XW);const ZW=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ps=nt("map-pin",ZW);const QW=[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]],nM=nt("megaphone",QW);const JW=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],aM=nt("menu",JW);const eG=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],li=nt("message-circle",eG);const tG=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],D0=nt("message-square",tG);const sG=[["path",{d:"M5 12h14",key:"1ays0h"}]],rG=nt("minus",sG);const nG=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Hx=nt("moon",nG);const aG=[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]],hd=nt("mouse-pointer-click",aG);const iG=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],iM=nt("navigation",iG);const oG=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],Bi=nt("package",oG);const lG=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],cG=nt("palette",lG);const dG=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],oM=nt("paperclip",dG);const uG=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],WE=nt("pen",uG);const hG=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],GE=nt("percent",hG);const fG=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],ui=nt("phone",fG);const mG=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],sr=nt("plus",mG);const pG=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],gG=nt("receipt",pG);const xG=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],fh=nt("refresh-ccw",xG);const yG=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Mt=nt("refresh-cw",yG);const bG=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],vG=nt("save",bG);const wG=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],lM=nt("scale",wG);const jG=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Br=nt("search",jG);const _G=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],M0=nt("send",_G);const NG=[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],YE=nt("settings-2",NG);const SG=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Pm=nt("settings",SG);const CG=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],kG=nt("shield-check",CG);const AG=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Qn=nt("shield",AG);const EG=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],TG=nt("sliders-horizontal",EG);const RG=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],cM=nt("smile",RG);const DG=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Ul=nt("sparkles",DG);const MG=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],vr=nt("square-pen",MG);const PG=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],ar=nt("star",PG);const OG=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],LG=nt("store",OG);const FG=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],qx=nt("sun",FG);const BG=[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]],IG=nt("table-2",BG);const zG=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Wx=nt("tag",zG);const UG=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],n_=nt("timer",UG);const $G=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Zs=nt("trash-2",$G);const VG=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],Om=nt("trash",VG);const HG=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],Zl=nt("trending-up",HG);const qG=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Lu=nt("triangle-alert",qG);const WG=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],dM=nt("twitter",WG);const GG=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],KE=nt("upload",GG);const YG=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],Gx=nt("user-check",YG);const KG=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],XG=nt("user-plus",KG);const ZG=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Yi=nt("user",ZG);const QG=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Ss=nt("users",QG);const JG=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Yx=nt("wallet",JG);const eY=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],tr=nt("x",eY);const tY=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],sY=nt("youtube",tY);const rY=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Kx=nt("zap",rY);function uM(t,e){return function(){return t.apply(e,arguments)}}const{toString:nY}=Object.prototype,{getPrototypeOf:EN}=Object,{iterator:P0,toStringTag:hM}=Symbol,O0=(t=>e=>{const r=nY.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),mi=t=>(t=t.toLowerCase(),e=>O0(e)===t),L0=t=>e=>typeof e===t,{isArray:mh}=Array,Gu=L0("undefined");function Lm(t){return t!==null&&!Gu(t)&&t.constructor!==null&&!Gu(t.constructor)&&Kn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const fM=mi("ArrayBuffer");function aY(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&fM(t.buffer),e}const iY=L0("string"),Kn=L0("function"),mM=L0("number"),Fm=t=>t!==null&&typeof t=="object",oY=t=>t===!0||t===!1,bx=t=>{if(O0(t)!=="object")return!1;const e=EN(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(hM in t)&&!(P0 in t)},lY=t=>{if(!Fm(t)||Lm(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},cY=mi("Date"),dY=mi("File"),uY=mi("Blob"),hY=mi("FileList"),fY=t=>Fm(t)&&Kn(t.pipe),mY=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Kn(t.append)&&((e=O0(t))==="formdata"||e==="object"&&Kn(t.toString)&&t.toString()==="[object FormData]"))},pY=mi("URLSearchParams"),[gY,xY,yY,bY]=["ReadableStream","Request","Response","Headers"].map(mi),vY=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Bm(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,a;if(typeof t!="object"&&(t=[t]),mh(t))for(n=0,a=t.length;n<a;n++)e.call(null,t[n],n,t);else{if(Lm(t))return;const i=r?Object.getOwnPropertyNames(t):Object.keys(t),o=i.length;let c;for(n=0;n<o;n++)c=i[n],e.call(null,t[c],c,t)}}function pM(t,e){if(Lm(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,a;for(;n-- >0;)if(a=r[n],e===a.toLowerCase())return a;return null}const id=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,gM=t=>!Gu(t)&&t!==id;function a_(){const{caseless:t,skipUndefined:e}=gM(this)&&this||{},r={},n=(a,i)=>{if(i==="__proto__"||i==="constructor"||i==="prototype")return;const o=t&&pM(r,i)||i;bx(r[o])&&bx(a)?r[o]=a_(r[o],a):bx(a)?r[o]=a_({},a):mh(a)?r[o]=a.slice():(!e||!Gu(a))&&(r[o]=a)};for(let a=0,i=arguments.length;a<i;a++)arguments[a]&&Bm(arguments[a],n);return r}const wY=(t,e,r,{allOwnKeys:n}={})=>(Bm(e,(a,i)=>{r&&Kn(a)?Object.defineProperty(t,i,{value:uM(a,r),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(t,i,{value:a,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:n}),t),jY=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),_Y=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},NY=(t,e,r,n)=>{let a,i,o;const c={};if(e=e||{},t==null)return e;do{for(a=Object.getOwnPropertyNames(t),i=a.length;i-- >0;)o=a[i],(!n||n(o,t,e))&&!c[o]&&(e[o]=t[o],c[o]=!0);t=r!==!1&&EN(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},SY=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},CY=t=>{if(!t)return null;if(mh(t))return t;let e=t.length;if(!mM(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},kY=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&EN(Uint8Array)),AY=(t,e)=>{const n=(t&&t[P0]).call(t);let a;for(;(a=n.next())&&!a.done;){const i=a.value;e.call(t,i[0],i[1])}},EY=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},TY=mi("HTMLFormElement"),RY=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,a){return n.toUpperCase()+a}),XE=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),DY=mi("RegExp"),xM=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Bm(r,(a,i)=>{let o;(o=e(a,i,t))!==!1&&(n[i]=o||a)}),Object.defineProperties(t,n)},MY=t=>{xM(t,(e,r)=>{if(Kn(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Kn(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},PY=(t,e)=>{const r={},n=a=>{a.forEach(i=>{r[i]=!0})};return mh(t)?n(t):n(String(t).split(e)),r},OY=()=>{},LY=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function FY(t){return!!(t&&Kn(t.append)&&t[hM]==="FormData"&&t[P0])}const BY=t=>{const e=new Array(10),r=(n,a)=>{if(Fm(n)){if(e.indexOf(n)>=0)return;if(Lm(n))return n;if(!("toJSON"in n)){e[a]=n;const i=mh(n)?[]:{};return Bm(n,(o,c)=>{const d=r(o,a+1);!Gu(d)&&(i[c]=d)}),e[a]=void 0,i}}return n};return r(t,0)},IY=mi("AsyncFunction"),zY=t=>t&&(Fm(t)||Kn(t))&&Kn(t.then)&&Kn(t.catch),yM=((t,e)=>t?setImmediate:e?((r,n)=>(id.addEventListener("message",({source:a,data:i})=>{a===id&&i===r&&n.length&&n.shift()()},!1),a=>{n.push(a),id.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Kn(id.postMessage)),UY=typeof queueMicrotask<"u"?queueMicrotask.bind(id):typeof process<"u"&&process.nextTick||yM,$Y=t=>t!=null&&Kn(t[P0]),Ve={isArray:mh,isArrayBuffer:fM,isBuffer:Lm,isFormData:mY,isArrayBufferView:aY,isString:iY,isNumber:mM,isBoolean:oY,isObject:Fm,isPlainObject:bx,isEmptyObject:lY,isReadableStream:gY,isRequest:xY,isResponse:yY,isHeaders:bY,isUndefined:Gu,isDate:cY,isFile:dY,isBlob:uY,isRegExp:DY,isFunction:Kn,isStream:fY,isURLSearchParams:pY,isTypedArray:kY,isFileList:hY,forEach:Bm,merge:a_,extend:wY,trim:vY,stripBOM:jY,inherits:_Y,toFlatObject:NY,kindOf:O0,kindOfTest:mi,endsWith:SY,toArray:CY,forEachEntry:AY,matchAll:EY,isHTMLForm:TY,hasOwnProperty:XE,hasOwnProp:XE,reduceDescriptors:xM,freezeMethods:MY,toObjectSet:PY,toCamelCase:RY,noop:OY,toFiniteNumber:LY,findKey:pM,global:id,isContextDefined:gM,isSpecCompliantForm:FY,toJSONObject:BY,isAsyncFn:IY,isThenable:zY,setImmediate:yM,asap:UY,isIterable:$Y};let Ut=class bM extends Error{static from(e,r,n,a,i,o){const c=new bM(e.message,r||e.code,n,a,i);return c.cause=e,c.name=e.name,o&&Object.assign(c,o),c}constructor(e,r,n,a,i){super(e),this.name="AxiosError",this.isAxiosError=!0,r&&(this.code=r),n&&(this.config=n),a&&(this.request=a),i&&(this.response=i,this.status=i.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Ve.toJSONObject(this.config),code:this.code,status:this.status}}};Ut.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Ut.ERR_BAD_OPTION="ERR_BAD_OPTION";Ut.ECONNABORTED="ECONNABORTED";Ut.ETIMEDOUT="ETIMEDOUT";Ut.ERR_NETWORK="ERR_NETWORK";Ut.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Ut.ERR_DEPRECATED="ERR_DEPRECATED";Ut.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Ut.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Ut.ERR_CANCELED="ERR_CANCELED";Ut.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Ut.ERR_INVALID_URL="ERR_INVALID_URL";const VY=null;function i_(t){return Ve.isPlainObject(t)||Ve.isArray(t)}function vM(t){return Ve.endsWith(t,"[]")?t.slice(0,-2):t}function ZE(t,e,r){return t?t.concat(e).map(function(a,i){return a=vM(a),!r&&i?"["+a+"]":a}).join(r?".":""):e}function HY(t){return Ve.isArray(t)&&!t.some(i_)}const qY=Ve.toFlatObject(Ve,{},null,function(e){return/^is[A-Z]/.test(e)});function F0(t,e,r){if(!Ve.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=Ve.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,j){return!Ve.isUndefined(j[w])});const n=r.metaTokens,a=r.visitor||m,i=r.dots,o=r.indexes,d=(r.Blob||typeof Blob<"u"&&Blob)&&Ve.isSpecCompliantForm(e);if(!Ve.isFunction(a))throw new TypeError("visitor must be a function");function h(v){if(v===null)return"";if(Ve.isDate(v))return v.toISOString();if(Ve.isBoolean(v))return v.toString();if(!d&&Ve.isBlob(v))throw new Ut("Blob is not supported. Use a Buffer instead.");return Ve.isArrayBuffer(v)||Ve.isTypedArray(v)?d&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function m(v,w,j){let b=v;if(v&&!j&&typeof v=="object"){if(Ve.endsWith(w,"{}"))w=n?w:w.slice(0,-2),v=JSON.stringify(v);else if(Ve.isArray(v)&&HY(v)||(Ve.isFileList(v)||Ve.endsWith(w,"[]"))&&(b=Ve.toArray(v)))return w=vM(w),b.forEach(function(k,S){!(Ve.isUndefined(k)||k===null)&&e.append(o===!0?ZE([w],S,i):o===null?w:w+"[]",h(k))}),!1}return i_(v)?!0:(e.append(ZE(j,w,i),h(v)),!1)}const f=[],g=Object.assign(qY,{defaultVisitor:m,convertValue:h,isVisitable:i_});function y(v,w){if(!Ve.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+w.join("."));f.push(v),Ve.forEach(v,function(b,N){(!(Ve.isUndefined(b)||b===null)&&a.call(e,b,Ve.isString(N)?N.trim():N,w,g))===!0&&y(b,w?w.concat(N):[N])}),f.pop()}}if(!Ve.isObject(t))throw new TypeError("data must be an object");return y(t),e}function QE(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function TN(t,e){this._pairs=[],t&&F0(t,this,e)}const wM=TN.prototype;wM.append=function(e,r){this._pairs.push([e,r])};wM.toString=function(e){const r=e?function(n){return e.call(this,n,QE)}:QE;return this._pairs.map(function(a){return r(a[0])+"="+r(a[1])},"").join("&")};function WY(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function jM(t,e,r){if(!e)return t;const n=r&&r.encode||WY,a=Ve.isFunction(r)?{serialize:r}:r,i=a&&a.serialize;let o;if(i?o=i(e,a):o=Ve.isURLSearchParams(e)?e.toString():new TN(e,a).toString(n),o){const c=t.indexOf("#");c!==-1&&(t=t.slice(0,c)),t+=(t.indexOf("?")===-1?"?":"&")+o}return t}class JE{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Ve.forEach(this.handlers,function(n){n!==null&&e(n)})}}const RN={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},GY=typeof URLSearchParams<"u"?URLSearchParams:TN,YY=typeof FormData<"u"?FormData:null,KY=typeof Blob<"u"?Blob:null,XY={isBrowser:!0,classes:{URLSearchParams:GY,FormData:YY,Blob:KY},protocols:["http","https","file","blob","url","data"]},DN=typeof window<"u"&&typeof document<"u",o_=typeof navigator=="object"&&navigator||void 0,ZY=DN&&(!o_||["ReactNative","NativeScript","NS"].indexOf(o_.product)<0),QY=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",JY=DN&&window.location.href||"http://localhost",eK=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:DN,hasStandardBrowserEnv:ZY,hasStandardBrowserWebWorkerEnv:QY,navigator:o_,origin:JY},Symbol.toStringTag,{value:"Module"})),mn={...eK,...XY};function tK(t,e){return F0(t,new mn.classes.URLSearchParams,{visitor:function(r,n,a,i){return mn.isNode&&Ve.isBuffer(r)?(this.append(n,r.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...e})}function sK(t){return Ve.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function rK(t){const e={},r=Object.keys(t);let n;const a=r.length;let i;for(n=0;n<a;n++)i=r[n],e[i]=t[i];return e}function _M(t){function e(r,n,a,i){let o=r[i++];if(o==="__proto__")return!0;const c=Number.isFinite(+o),d=i>=r.length;return o=!o&&Ve.isArray(a)?a.length:o,d?(Ve.hasOwnProp(a,o)?a[o]=[a[o],n]:a[o]=n,!c):((!a[o]||!Ve.isObject(a[o]))&&(a[o]=[]),e(r,n,a[o],i)&&Ve.isArray(a[o])&&(a[o]=rK(a[o])),!c)}if(Ve.isFormData(t)&&Ve.isFunction(t.entries)){const r={};return Ve.forEachEntry(t,(n,a)=>{e(sK(n),a,r,0)}),r}return null}function nK(t,e,r){if(Ve.isString(t))try{return(e||JSON.parse)(t),Ve.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Im={transitional:RN,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",a=n.indexOf("application/json")>-1,i=Ve.isObject(e);if(i&&Ve.isHTMLForm(e)&&(e=new FormData(e)),Ve.isFormData(e))return a?JSON.stringify(_M(e)):e;if(Ve.isArrayBuffer(e)||Ve.isBuffer(e)||Ve.isStream(e)||Ve.isFile(e)||Ve.isBlob(e)||Ve.isReadableStream(e))return e;if(Ve.isArrayBufferView(e))return e.buffer;if(Ve.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let c;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return tK(e,this.formSerializer).toString();if((c=Ve.isFileList(e))||n.indexOf("multipart/form-data")>-1){const d=this.env&&this.env.FormData;return F0(c?{"files[]":e}:e,d&&new d,this.formSerializer)}}return i||a?(r.setContentType("application/json",!1),nK(e)):e}],transformResponse:[function(e){const r=this.transitional||Im.transitional,n=r&&r.forcedJSONParsing,a=this.responseType==="json";if(Ve.isResponse(e)||Ve.isReadableStream(e))return e;if(e&&Ve.isString(e)&&(n&&!this.responseType||a)){const o=!(r&&r.silentJSONParsing)&&a;try{return JSON.parse(e,this.parseReviver)}catch(c){if(o)throw c.name==="SyntaxError"?Ut.from(c,Ut.ERR_BAD_RESPONSE,this,null,this.response):c}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:mn.classes.FormData,Blob:mn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Ve.forEach(["delete","get","head","post","put","patch"],t=>{Im.headers[t]={}});const aK=Ve.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),iK=t=>{const e={};let r,n,a;return t&&t.split(`
`).forEach(function(o){a=o.indexOf(":"),r=o.substring(0,a).trim().toLowerCase(),n=o.substring(a+1).trim(),!(!r||e[r]&&aK[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},eT=Symbol("internals");function Cf(t){return t&&String(t).trim().toLowerCase()}function vx(t){return t===!1||t==null?t:Ve.isArray(t)?t.map(vx):String(t)}function oK(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const lK=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Zv(t,e,r,n,a){if(Ve.isFunction(n))return n.call(this,e,r);if(a&&(e=r),!!Ve.isString(e)){if(Ve.isString(n))return e.indexOf(n)!==-1;if(Ve.isRegExp(n))return n.test(e)}}function cK(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function dK(t,e){const r=Ve.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(a,i,o){return this[n].call(this,e,a,i,o)},configurable:!0})})}let Xn=class{constructor(e){e&&this.set(e)}set(e,r,n){const a=this;function i(c,d,h){const m=Cf(d);if(!m)throw new Error("header name must be a non-empty string");const f=Ve.findKey(a,m);(!f||a[f]===void 0||h===!0||h===void 0&&a[f]!==!1)&&(a[f||d]=vx(c))}const o=(c,d)=>Ve.forEach(c,(h,m)=>i(h,m,d));if(Ve.isPlainObject(e)||e instanceof this.constructor)o(e,r);else if(Ve.isString(e)&&(e=e.trim())&&!lK(e))o(iK(e),r);else if(Ve.isObject(e)&&Ve.isIterable(e)){let c={},d,h;for(const m of e){if(!Ve.isArray(m))throw TypeError("Object iterator must return a key-value pair");c[h=m[0]]=(d=c[h])?Ve.isArray(d)?[...d,m[1]]:[d,m[1]]:m[1]}o(c,r)}else e!=null&&i(r,e,n);return this}get(e,r){if(e=Cf(e),e){const n=Ve.findKey(this,e);if(n){const a=this[n];if(!r)return a;if(r===!0)return oK(a);if(Ve.isFunction(r))return r.call(this,a,n);if(Ve.isRegExp(r))return r.exec(a);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Cf(e),e){const n=Ve.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||Zv(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let a=!1;function i(o){if(o=Cf(o),o){const c=Ve.findKey(n,o);c&&(!r||Zv(n,n[c],c,r))&&(delete n[c],a=!0)}}return Ve.isArray(e)?e.forEach(i):i(e),a}clear(e){const r=Object.keys(this);let n=r.length,a=!1;for(;n--;){const i=r[n];(!e||Zv(this,this[i],i,e,!0))&&(delete this[i],a=!0)}return a}normalize(e){const r=this,n={};return Ve.forEach(this,(a,i)=>{const o=Ve.findKey(n,i);if(o){r[o]=vx(a),delete r[i];return}const c=e?cK(i):String(i).trim();c!==i&&delete r[i],r[c]=vx(a),n[c]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return Ve.forEach(this,(n,a)=>{n!=null&&n!==!1&&(r[a]=e&&Ve.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(a=>n.set(a)),n}static accessor(e){const n=(this[eT]=this[eT]={accessors:{}}).accessors,a=this.prototype;function i(o){const c=Cf(o);n[c]||(dK(a,o),n[c]=!0)}return Ve.isArray(e)?e.forEach(i):i(e),this}};Xn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Ve.reduceDescriptors(Xn.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});Ve.freezeMethods(Xn);function Qv(t,e){const r=this||Im,n=e||r,a=Xn.from(n.headers);let i=n.data;return Ve.forEach(t,function(c){i=c.call(r,i,a.normalize(),e?e.status:void 0)}),a.normalize(),i}function NM(t){return!!(t&&t.__CANCEL__)}let zm=class extends Ut{constructor(e,r,n){super(e??"canceled",Ut.ERR_CANCELED,r,n),this.name="CanceledError",this.__CANCEL__=!0}};function SM(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Ut("Request failed with status code "+r.status,[Ut.ERR_BAD_REQUEST,Ut.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function uK(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function hK(t,e){t=t||10;const r=new Array(t),n=new Array(t);let a=0,i=0,o;return e=e!==void 0?e:1e3,function(d){const h=Date.now(),m=n[i];o||(o=h),r[a]=d,n[a]=h;let f=i,g=0;for(;f!==a;)g+=r[f++],f=f%t;if(a=(a+1)%t,a===i&&(i=(i+1)%t),h-o<e)return;const y=m&&h-m;return y?Math.round(g*1e3/y):void 0}}function fK(t,e){let r=0,n=1e3/e,a,i;const o=(h,m=Date.now())=>{r=m,a=null,i&&(clearTimeout(i),i=null),t(...h)};return[(...h)=>{const m=Date.now(),f=m-r;f>=n?o(h,m):(a=h,i||(i=setTimeout(()=>{i=null,o(a)},n-f)))},()=>a&&o(a)]}const Xx=(t,e,r=3)=>{let n=0;const a=hK(50,250);return fK(i=>{const o=i.loaded,c=i.lengthComputable?i.total:void 0,d=o-n,h=a(d),m=o<=c;n=o;const f={loaded:o,total:c,progress:c?o/c:void 0,bytes:d,rate:h||void 0,estimated:h&&c&&m?(c-o)/h:void 0,event:i,lengthComputable:c!=null,[e?"download":"upload"]:!0};t(f)},r)},tT=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},sT=t=>(...e)=>Ve.asap(()=>t(...e)),mK=mn.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,mn.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(mn.origin),mn.navigator&&/(msie|trident)/i.test(mn.navigator.userAgent)):()=>!0,pK=mn.hasStandardBrowserEnv?{write(t,e,r,n,a,i,o){if(typeof document>"u")return;const c=[`${t}=${encodeURIComponent(e)}`];Ve.isNumber(r)&&c.push(`expires=${new Date(r).toUTCString()}`),Ve.isString(n)&&c.push(`path=${n}`),Ve.isString(a)&&c.push(`domain=${a}`),i===!0&&c.push("secure"),Ve.isString(o)&&c.push(`SameSite=${o}`),document.cookie=c.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function gK(t){return typeof t!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function xK(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function CM(t,e,r){let n=!gK(e);return t&&(n||r==!1)?xK(t,e):e}const rT=t=>t instanceof Xn?{...t}:t;function wd(t,e){e=e||{};const r={};function n(h,m,f,g){return Ve.isPlainObject(h)&&Ve.isPlainObject(m)?Ve.merge.call({caseless:g},h,m):Ve.isPlainObject(m)?Ve.merge({},m):Ve.isArray(m)?m.slice():m}function a(h,m,f,g){if(Ve.isUndefined(m)){if(!Ve.isUndefined(h))return n(void 0,h,f,g)}else return n(h,m,f,g)}function i(h,m){if(!Ve.isUndefined(m))return n(void 0,m)}function o(h,m){if(Ve.isUndefined(m)){if(!Ve.isUndefined(h))return n(void 0,h)}else return n(void 0,m)}function c(h,m,f){if(f in e)return n(h,m);if(f in t)return n(void 0,h)}const d={url:i,method:i,data:i,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:c,headers:(h,m,f)=>a(rT(h),rT(m),f,!0)};return Ve.forEach(Object.keys({...t,...e}),function(m){if(m==="__proto__"||m==="constructor"||m==="prototype")return;const f=Ve.hasOwnProp(d,m)?d[m]:a,g=f(t[m],e[m],m);Ve.isUndefined(g)&&f!==c||(r[m]=g)}),r}const kM=t=>{const e=wd({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:a,xsrfCookieName:i,headers:o,auth:c}=e;if(e.headers=o=Xn.from(o),e.url=jM(CM(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),c&&o.set("Authorization","Basic "+btoa((c.username||"")+":"+(c.password?unescape(encodeURIComponent(c.password)):""))),Ve.isFormData(r)){if(mn.hasStandardBrowserEnv||mn.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(Ve.isFunction(r.getHeaders)){const d=r.getHeaders(),h=["content-type","content-length"];Object.entries(d).forEach(([m,f])=>{h.includes(m.toLowerCase())&&o.set(m,f)})}}if(mn.hasStandardBrowserEnv&&(n&&Ve.isFunction(n)&&(n=n(e)),n||n!==!1&&mK(e.url))){const d=a&&i&&pK.read(i);d&&o.set(a,d)}return e},yK=typeof XMLHttpRequest<"u",bK=yK&&function(t){return new Promise(function(r,n){const a=kM(t);let i=a.data;const o=Xn.from(a.headers).normalize();let{responseType:c,onUploadProgress:d,onDownloadProgress:h}=a,m,f,g,y,v;function w(){y&&y(),v&&v(),a.cancelToken&&a.cancelToken.unsubscribe(m),a.signal&&a.signal.removeEventListener("abort",m)}let j=new XMLHttpRequest;j.open(a.method.toUpperCase(),a.url,!0),j.timeout=a.timeout;function b(){if(!j)return;const k=Xn.from("getAllResponseHeaders"in j&&j.getAllResponseHeaders()),C={data:!c||c==="text"||c==="json"?j.responseText:j.response,status:j.status,statusText:j.statusText,headers:k,config:t,request:j};SM(function(E){r(E),w()},function(E){n(E),w()},C),j=null}"onloadend"in j?j.onloadend=b:j.onreadystatechange=function(){!j||j.readyState!==4||j.status===0&&!(j.responseURL&&j.responseURL.indexOf("file:")===0)||setTimeout(b)},j.onabort=function(){j&&(n(new Ut("Request aborted",Ut.ECONNABORTED,t,j)),j=null)},j.onerror=function(S){const C=S&&S.message?S.message:"Network Error",B=new Ut(C,Ut.ERR_NETWORK,t,j);B.event=S||null,n(B),j=null},j.ontimeout=function(){let S=a.timeout?"timeout of "+a.timeout+"ms exceeded":"timeout exceeded";const C=a.transitional||RN;a.timeoutErrorMessage&&(S=a.timeoutErrorMessage),n(new Ut(S,C.clarifyTimeoutError?Ut.ETIMEDOUT:Ut.ECONNABORTED,t,j)),j=null},i===void 0&&o.setContentType(null),"setRequestHeader"in j&&Ve.forEach(o.toJSON(),function(S,C){j.setRequestHeader(C,S)}),Ve.isUndefined(a.withCredentials)||(j.withCredentials=!!a.withCredentials),c&&c!=="json"&&(j.responseType=a.responseType),h&&([g,v]=Xx(h,!0),j.addEventListener("progress",g)),d&&j.upload&&([f,y]=Xx(d),j.upload.addEventListener("progress",f),j.upload.addEventListener("loadend",y)),(a.cancelToken||a.signal)&&(m=k=>{j&&(n(!k||k.type?new zm(null,t,j):k),j.abort(),j=null)},a.cancelToken&&a.cancelToken.subscribe(m),a.signal&&(a.signal.aborted?m():a.signal.addEventListener("abort",m)));const N=uK(a.url);if(N&&mn.protocols.indexOf(N)===-1){n(new Ut("Unsupported protocol "+N+":",Ut.ERR_BAD_REQUEST,t));return}j.send(i||null)})},vK=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,a;const i=function(h){if(!a){a=!0,c();const m=h instanceof Error?h:this.reason;n.abort(m instanceof Ut?m:new zm(m instanceof Error?m.message:m))}};let o=e&&setTimeout(()=>{o=null,i(new Ut(`timeout of ${e}ms exceeded`,Ut.ETIMEDOUT))},e);const c=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(i):h.removeEventListener("abort",i)}),t=null)};t.forEach(h=>h.addEventListener("abort",i));const{signal:d}=n;return d.unsubscribe=()=>Ve.asap(c),d}},wK=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,a;for(;n<r;)a=n+e,yield t.slice(n,a),n=a},jK=async function*(t,e){for await(const r of _K(t))yield*wK(r,e)},_K=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},nT=(t,e,r,n)=>{const a=jK(t,e);let i=0,o,c=d=>{o||(o=!0,n&&n(d))};return new ReadableStream({async pull(d){try{const{done:h,value:m}=await a.next();if(h){c(),d.close();return}let f=m.byteLength;if(r){let g=i+=f;r(g)}d.enqueue(new Uint8Array(m))}catch(h){throw c(h),h}},cancel(d){return c(d),a.return()}},{highWaterMark:2})},aT=64*1024,{isFunction:kg}=Ve,NK=(({Request:t,Response:e})=>({Request:t,Response:e}))(Ve.global),{ReadableStream:iT,TextEncoder:oT}=Ve.global,lT=(t,...e)=>{try{return!!t(...e)}catch{return!1}},SK=t=>{t=Ve.merge.call({skipUndefined:!0},NK,t);const{fetch:e,Request:r,Response:n}=t,a=e?kg(e):typeof fetch=="function",i=kg(r),o=kg(n);if(!a)return!1;const c=a&&kg(iT),d=a&&(typeof oT=="function"?(v=>w=>v.encode(w))(new oT):async v=>new Uint8Array(await new r(v).arrayBuffer())),h=i&&c&&lT(()=>{let v=!1;const w=new r(mn.origin,{body:new iT,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!w}),m=o&&c&&lT(()=>Ve.isReadableStream(new n("").body)),f={stream:m&&(v=>v.body)};a&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!f[v]&&(f[v]=(w,j)=>{let b=w&&w[v];if(b)return b.call(w);throw new Ut(`Response type '${v}' is not supported`,Ut.ERR_NOT_SUPPORT,j)})});const g=async v=>{if(v==null)return 0;if(Ve.isBlob(v))return v.size;if(Ve.isSpecCompliantForm(v))return(await new r(mn.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(Ve.isArrayBufferView(v)||Ve.isArrayBuffer(v))return v.byteLength;if(Ve.isURLSearchParams(v)&&(v=v+""),Ve.isString(v))return(await d(v)).byteLength},y=async(v,w)=>{const j=Ve.toFiniteNumber(v.getContentLength());return j??g(w)};return async v=>{let{url:w,method:j,data:b,signal:N,cancelToken:k,timeout:S,onDownloadProgress:C,onUploadProgress:B,responseType:E,headers:z,withCredentials:T="same-origin",fetchOptions:W}=kM(v),U=e||fetch;E=E?(E+"").toLowerCase():"text";let L=vK([N,k&&k.toAbortSignal()],S),Z=null;const O=L&&L.unsubscribe&&(()=>{L.unsubscribe()});let se;try{if(B&&h&&j!=="get"&&j!=="head"&&(se=await y(z,b))!==0){let q=new r(w,{method:"POST",body:b,duplex:"half"}),Y;if(Ve.isFormData(b)&&(Y=q.headers.get("content-type"))&&z.setContentType(Y),q.body){const[ce,le]=tT(se,Xx(sT(B)));b=nT(q.body,aT,ce,le)}}Ve.isString(T)||(T=T?"include":"omit");const K=i&&"credentials"in r.prototype,M={...W,signal:L,method:j.toUpperCase(),headers:z.normalize().toJSON(),body:b,duplex:"half",credentials:K?T:void 0};Z=i&&new r(w,M);let X=await(i?U(Z,W):U(w,M));const $=m&&(E==="stream"||E==="response");if(m&&(C||$&&O)){const q={};["status","statusText","headers"].forEach(be=>{q[be]=X[be]});const Y=Ve.toFiniteNumber(X.headers.get("content-length")),[ce,le]=C&&tT(Y,Xx(sT(C),!0))||[];X=new n(nT(X.body,aT,ce,()=>{le&&le(),O&&O()}),q)}E=E||"text";let oe=await f[Ve.findKey(f,E)||"text"](X,v);return!$&&O&&O(),await new Promise((q,Y)=>{SM(q,Y,{data:oe,headers:Xn.from(X.headers),status:X.status,statusText:X.statusText,config:v,request:Z})})}catch(K){throw O&&O(),K&&K.name==="TypeError"&&/Load failed|fetch/i.test(K.message)?Object.assign(new Ut("Network Error",Ut.ERR_NETWORK,v,Z,K&&K.response),{cause:K.cause||K}):Ut.from(K,K&&K.code,v,Z,K&&K.response)}}},CK=new Map,AM=t=>{let e=t&&t.env||{};const{fetch:r,Request:n,Response:a}=e,i=[n,a,r];let o=i.length,c=o,d,h,m=CK;for(;c--;)d=i[c],h=m.get(d),h===void 0&&m.set(d,h=c?new Map:SK(e)),m=h;return h};AM();const MN={http:VY,xhr:bK,fetch:{get:AM}};Ve.forEach(MN,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const cT=t=>`- ${t}`,kK=t=>Ve.isFunction(t)||t===null||t===!1;function AK(t,e){t=Ve.isArray(t)?t:[t];const{length:r}=t;let n,a;const i={};for(let o=0;o<r;o++){n=t[o];let c;if(a=n,!kK(n)&&(a=MN[(c=String(n)).toLowerCase()],a===void 0))throw new Ut(`Unknown adapter '${c}'`);if(a&&(Ve.isFunction(a)||(a=a.get(e))))break;i[c||"#"+o]=a}if(!a){const o=Object.entries(i).map(([d,h])=>`adapter ${d} `+(h===!1?"is not supported by the environment":"is not available in the build"));let c=r?o.length>1?`since :
`+o.map(cT).join(`
`):" "+cT(o[0]):"as no adapter specified";throw new Ut("There is no suitable adapter to dispatch the request "+c,"ERR_NOT_SUPPORT")}return a}const EM={getAdapter:AK,adapters:MN};function Jv(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new zm(null,t)}function dT(t){return Jv(t),t.headers=Xn.from(t.headers),t.data=Qv.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),EM.getAdapter(t.adapter||Im.adapter,t)(t).then(function(n){return Jv(t),n.data=Qv.call(t,t.transformResponse,n),n.headers=Xn.from(n.headers),n},function(n){return NM(n)||(Jv(t),n&&n.response&&(n.response.data=Qv.call(t,t.transformResponse,n.response),n.response.headers=Xn.from(n.response.headers))),Promise.reject(n)})}const TM="1.13.5",B0={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{B0[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const uT={};B0.transitional=function(e,r,n){function a(i,o){return"[Axios v"+TM+"] Transitional option '"+i+"'"+o+(n?". "+n:"")}return(i,o,c)=>{if(e===!1)throw new Ut(a(o," has been removed"+(r?" in "+r:"")),Ut.ERR_DEPRECATED);return r&&!uT[o]&&(uT[o]=!0,console.warn(a(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(i,o,c):!0}};B0.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function EK(t,e,r){if(typeof t!="object")throw new Ut("options must be an object",Ut.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let a=n.length;for(;a-- >0;){const i=n[a],o=e[i];if(o){const c=t[i],d=c===void 0||o(c,i,t);if(d!==!0)throw new Ut("option "+i+" must be "+d,Ut.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ut("Unknown option "+i,Ut.ERR_BAD_OPTION)}}const wx={assertOptions:EK,validators:B0},Oa=wx.validators;let fd=class{constructor(e){this.defaults=e||{},this.interceptors={request:new JE,response:new JE}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let a={};Error.captureStackTrace?Error.captureStackTrace(a):a=new Error;const i=a.stack?a.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=wd(this.defaults,r);const{transitional:n,paramsSerializer:a,headers:i}=r;n!==void 0&&wx.assertOptions(n,{silentJSONParsing:Oa.transitional(Oa.boolean),forcedJSONParsing:Oa.transitional(Oa.boolean),clarifyTimeoutError:Oa.transitional(Oa.boolean),legacyInterceptorReqResOrdering:Oa.transitional(Oa.boolean)},!1),a!=null&&(Ve.isFunction(a)?r.paramsSerializer={serialize:a}:wx.assertOptions(a,{encode:Oa.function,serialize:Oa.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),wx.assertOptions(r,{baseUrl:Oa.spelling("baseURL"),withXsrfToken:Oa.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=i&&Ve.merge(i.common,i[r.method]);i&&Ve.forEach(["delete","get","head","post","put","patch","common"],v=>{delete i[v]}),r.headers=Xn.concat(o,i);const c=[];let d=!0;this.interceptors.request.forEach(function(w){if(typeof w.runWhen=="function"&&w.runWhen(r)===!1)return;d=d&&w.synchronous;const j=r.transitional||RN;j&&j.legacyInterceptorReqResOrdering?c.unshift(w.fulfilled,w.rejected):c.push(w.fulfilled,w.rejected)});const h=[];this.interceptors.response.forEach(function(w){h.push(w.fulfilled,w.rejected)});let m,f=0,g;if(!d){const v=[dT.bind(this),void 0];for(v.unshift(...c),v.push(...h),g=v.length,m=Promise.resolve(r);f<g;)m=m.then(v[f++],v[f++]);return m}g=c.length;let y=r;for(;f<g;){const v=c[f++],w=c[f++];try{y=v(y)}catch(j){w.call(this,j);break}}try{m=dT.call(this,y)}catch(v){return Promise.reject(v)}for(f=0,g=h.length;f<g;)m=m.then(h[f++],h[f++]);return m}getUri(e){e=wd(this.defaults,e);const r=CM(e.baseURL,e.url,e.allowAbsoluteUrls);return jM(r,e.params,e.paramsSerializer)}};Ve.forEach(["delete","get","head","options"],function(e){fd.prototype[e]=function(r,n){return this.request(wd(n||{},{method:e,url:r,data:(n||{}).data}))}});Ve.forEach(["post","put","patch"],function(e){function r(n){return function(i,o,c){return this.request(wd(c||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:o}))}}fd.prototype[e]=r(),fd.prototype[e+"Form"]=r(!0)});let TK=class RM{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(i){r=i});const n=this;this.promise.then(a=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](a);n._listeners=null}),this.promise.then=a=>{let i;const o=new Promise(c=>{n.subscribe(c),i=c}).then(a);return o.cancel=function(){n.unsubscribe(i)},o},e(function(i,o,c){n.reason||(n.reason=new zm(i,o,c),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new RM(function(a){e=a}),cancel:e}}};function RK(t){return function(r){return t.apply(null,r)}}function DK(t){return Ve.isObject(t)&&t.isAxiosError===!0}const l_={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(l_).forEach(([t,e])=>{l_[e]=t});function DM(t){const e=new fd(t),r=uM(fd.prototype.request,e);return Ve.extend(r,fd.prototype,e,{allOwnKeys:!0}),Ve.extend(r,e,null,{allOwnKeys:!0}),r.create=function(a){return DM(wd(t,a))},r}const Cr=DM(Im);Cr.Axios=fd;Cr.CanceledError=zm;Cr.CancelToken=TK;Cr.isCancel=NM;Cr.VERSION=TM;Cr.toFormData=F0;Cr.AxiosError=Ut;Cr.Cancel=Cr.CanceledError;Cr.all=function(e){return Promise.all(e)};Cr.spread=RK;Cr.isAxiosError=DK;Cr.mergeConfig=wd;Cr.AxiosHeaders=Xn;Cr.formToJSON=t=>_M(Ve.isHTMLForm(t)?new FormData(t):t);Cr.getAdapter=EM.getAdapter;Cr.HttpStatusCode=l_;Cr.default=Cr;const{Axios:Rwe,AxiosError:Dwe,CanceledError:Mwe,isCancel:Pwe,CancelToken:Owe,VERSION:Lwe,all:Fwe,Cancel:Bwe,isAxiosError:Iwe,spread:zwe,toFormData:Uwe,AxiosHeaders:$we,HttpStatusCode:Vwe,formToJSON:Hwe,getAdapter:qwe,mergeConfig:Wwe}=Cr;let c_="https://rento-lb.com/api/api";c_=c_.trim().replace(/\/+$/,"");const Oe=Cr.create({baseURL:c_,headers:{Accept:"application/json","Content-Type":"application/json"}});Oe.interceptors.request.use(t=>{const e=localStorage.getItem("token")||localStorage.getItem("authToken");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));Oe.interceptors.response.use(t=>t,t=>(t.response?.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("authToken"),localStorage.removeItem("user")),Promise.reject(t)));const ph=()=>{const[t,e]=_.useState(null),[r,n]=_.useState(!1),[a,i]=_.useState(!0);_.useEffect(()=>{const w=()=>{try{const b=localStorage.getItem("token")||localStorage.getItem("authToken"),N=localStorage.getItem("user");if(b&&N){const k=JSON.parse(N);e(k),n(!0)}else e(null),n(!1)}catch(b){console.error("Error loading user:",b),e(null),n(!1)}finally{i(!1)}};w();const j=b=>{(b.key==="user"||b.key==="token"||b.key==="authToken")&&w()};return window.addEventListener("storage",j),()=>window.removeEventListener("storage",j)},[]);const o=w=>{w?(localStorage.setItem("user",JSON.stringify(w)),e(w),n(!0)):(localStorage.removeItem("user"),e(null),n(!1))},c=()=>{localStorage.removeItem("token"),localStorage.removeItem("authToken"),localStorage.removeItem("user"),e(null),n(!1)},d=t?.role==="client",h=t?.role==="agency"||t?.role==="agent",m=t?.role==="agency",f=t?.role==="agent",g=t?.role==="admin";return{user:t,isAuthenticated:r,loading:a,updateUser:o,logout:c,isClient:d,isAgent:h,isAgency:m,isAgentRole:f,isAdmin:g,hasRole:w=>t?Array.isArray(w)?w.includes(t.role):t.role===w:!1,hasPermission:w=>t?({client:["view_cars","book_cars","view_own_bookings","manage_own_profile","view_favorites"],agency:["view_cars","manage_cars","view_all_bookings","manage_bookings","view_dashboard","view_statistics","manage_own_profile"],agent:["view_cars","manage_cars","view_all_bookings","manage_bookings","view_dashboard","view_statistics","manage_own_profile"]}[t.role]||[]).includes(w):!1}},MK=()=>{const[t,e]=_.useState(!1),[r,n]=_.useState(!0),[a,i]=_.useState(0),[o,c]=_.useState(!1),d=Wa(),h=sn(),{isAuthenticated:m,isClient:f,isAgent:g,user:y,logout:v}=ph();_.useEffect(()=>{const E=localStorage.getItem("theme"),z=window.matchMedia("(prefers-color-scheme: dark)").matches,T=E==="dark"||!E&&z;n(T),T&&document.documentElement.classList.add("dark")},[]);const w=_.useCallback(async()=>{try{const E=await Oe.get("/cars/favorites/list",{params:{page:1,per_page:1}}),z=Number(E.data?.favorites?.total??0);i(Number.isFinite(z)?z:0)}catch(E){console.error("Fav count fetch error:",E),i(0)}},[]);_.useEffect(()=>{if(!m){i(0);return}w();const E=()=>w();return window.addEventListener("favoritesUpdated",E),()=>window.removeEventListener("favoritesUpdated",E)},[m,w,d.pathname]),_.useEffect(()=>{const E=()=>c(window.scrollY>20);return window.addEventListener("scroll",E),()=>window.removeEventListener("scroll",E)},[]);const j=()=>{const E=!r;n(E),E?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},b=async()=>{try{await Oe.post("/logout")}catch(E){console.error("Logout error:",E)}v(),ve.success("Logged out successfully"),h("/"),e(!1)},N=[{to:"/",label:"Home"},{to:"/luxury-car-rental-lebanon",label:"Browse Cars"},{to:"/socialmedia",label:"About"},{to:"/contact",label:"Contact"}],k=f?[{to:"/ClientBookings",label:"My Bookings",icon:Hs}]:[],S=g?[{to:"/Dashboard",label:"Dashboard",icon:AN},{to:"/Mycars",label:"My Cars",icon:Kt},{to:"/Mycars-bookings",label:"Bookings",icon:Hs}]:[],C=[...N],B=E=>d.pathname===E;return s.jsx("nav",{className:`fixed top-0 left-0 right-0 z-50 glass-strong shadow-lg transition-all duration-300 ${o?"backdrop-blur":""}`,children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"flex items-center justify-between h-16 md:h-12",children:[s.jsxs(Us,{to:"/",className:"flex items-center space-x-2 group",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-transparent flex items-center justify-center hover-glow",children:s.jsx("img",{src:"/rentologo.png",alt:"Rento Logo",className:"rounded-lg w-10 h-10 object-contain"})}),s.jsx("span",{className:"text-xl md:text-2xl text-primary-foreground font-bold gradient-text hidden sm:block",children:"RENTO LB"})]}),s.jsxs("div",{className:"hidden md:flex text-primary-foreground items-center space-x-1",children:[C.map(E=>s.jsx(Us,{to:E.to,className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${B(E.to)?"bg-primary text-primary-foreground":"text-foreground/80 hover:text-foreground hover:bg-muted"}`,children:E.label},E.to)),g&&S.map(E=>s.jsxs(Us,{to:E.to,className:`px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-1.5 ${B(E.to)?"bg-primary text-primary-foreground":"text-foreground/80 hover:text-foreground hover:bg-muted"}`,children:[E.icon&&s.jsx(E.icon,{className:"w-4 h-4"}),E.label]},E.to)),f&&k.map(E=>s.jsxs(Us,{to:E.to,className:`px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-1.5 ${B(E.to)?"bg-primary text-primary-foreground":"text-foreground/80 hover:text-foreground hover:bg-muted"}`,children:[E.icon&&s.jsx(E.icon,{className:"w-4 h-4"}),E.label]},E.to))]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[m&&s.jsx(Us,{to:"/favorites",children:s.jsxs(pe,{variant:"ghost",size:"icon",className:"relative hover-glow","aria-label":"Open favorites",children:[s.jsx(Kl,{className:`w-5 h-5 ${a>0?"fill-accent text-accent":""}`,"aria-hidden":"true"}),a>0&&s.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-accent text-accent-foreground text-xs font-bold rounded-full flex items-center justify-center",children:a})]})}),m?s.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-primary/10 text-primary-foreground",children:[s.jsx(Yi,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:y?.username||"User"})]}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:b,className:"hover-glow hover:bg-red-500/10 hover:text-red-500","aria-label":"Logout",children:s.jsx(Xl,{className:"w-5 h-5"})})]}):s.jsx(Us,{to:"/auth",className:"hidden md:block",children:s.jsxs(pe,{variant:"default",size:"sm",className:"hover-glow",children:[s.jsx(qE,{className:"w-4 h-4 mr-2"}),"Login"]})}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:j,className:"hover-glow hidden sm:flex","aria-label":r?"Switch to light mode":"Switch to dark mode",children:r?s.jsx(qx,{className:"w-5 h-5","aria-hidden":"true"}):s.jsx(Hx,{className:"w-5 h-5","aria-hidden":"true"})}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>e(!t),className:"md:hidden","aria-label":t?"Close menu":"Open menu","aria-expanded":t,"aria-controls":"mobile-nav",children:t?s.jsx(tr,{className:"w-6 h-6","aria-hidden":"true"}):s.jsx(aM,{className:"w-6 h-6","aria-hidden":"true"})})]})]}),t&&s.jsxs("div",{id:"mobile-nav",className:"md:hidden pb-4 space-y-2",children:[C.map(E=>s.jsx(Us,{to:E.to,onClick:()=>e(!1),className:`block px-4 py-3 rounded-lg text-sm font-medium transition-all ${B(E.to)?"bg-primary text-primary-foreground":"text-foreground/80 hover:bg-muted"}`,children:E.label},E.to)),g&&S.map(E=>s.jsxs(Us,{to:E.to,onClick:()=>e(!1),className:`block px-4 py-3 rounded-lg text-sm font-medium transition-all flex items-center gap-2 ${B(E.to)?"bg-primary text-primary-foreground":"text-foreground/80 hover:bg-muted"}`,children:[E.icon&&s.jsx(E.icon,{className:"w-4 h-4"}),E.label]},E.to)),f&&k.map(E=>s.jsxs(Us,{to:E.to,onClick:()=>e(!1),className:`block px-4 py-3 rounded-lg text-sm font-medium transition-all flex items-center gap-2 ${B(E.to)?"bg-primary text-primary-foreground":"text-foreground/80 hover:bg-muted"}`,children:[E.icon&&s.jsx(E.icon,{className:"w-4 h-4"}),E.label]},E.to)),m?s.jsx(s.Fragment,{children:s.jsxs("div",{className:"px-4 py-2 border-t border-gray-200 dark:border-gray-700 mt-2 pt-2",children:[s.jsxs("div",{className:"flex items-center gap-2 px-2 py-2 rounded-lg bg-primary/10 text-primary-foreground mb-2",children:[s.jsx(Yi,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:y?.username||"User"})]}),s.jsxs("button",{onClick:b,className:"w-full px-4 py-3 rounded-lg text-sm font-medium text-red-600 dark:text-red-400 hover:bg-red-500/10 text-left flex items-center gap-2",children:[s.jsx(Xl,{className:"w-4 h-4"}),"Logout"]})]})}):s.jsxs(Us,{to:"/auth",onClick:()=>e(!1),className:"block px-4 py-3 rounded-lg text-sm font-medium bg-primary text-primary-foreground hover:opacity-90 transition-all flex items-center gap-2",children:[s.jsx(qE,{className:"w-4 h-4"}),"Login / Register"]}),s.jsxs("button",{onClick:()=>{j(),e(!1)},className:"w-full px-4 py-3 rounded-lg text-sm font-medium text-foreground hover:bg-muted text-left flex items-center justify-between","aria-label":r?"Switch to light mode":"Switch to dark mode",children:[s.jsx("span",{children:r?"Light Mode":"Dark Mode"}),r?s.jsx(qx,{className:"w-5 h-5","aria-hidden":"true"}):s.jsx(Hx,{className:"w-5 h-5","aria-hidden":"true"})]})]})]})})},Lr={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640"},PK=()=>{const t=new Date().getFullYear(),e={company:[{label:"About Us",to:"/about"},{label:"Our Fleet",to:"/luxury-car-rental-lebanon"},{label:"Contact",to:"/contact"},{label:"Careers",to:"#"}],support:[{label:"Help Center",to:"#"},{label:"Safety",to:"#"},{label:"Terms of Service",to:"/Terms-and-Conditions"},{label:"Privacy Policy",to:"/Privacy-Policy"}],services:[{label:"Airport Pickup",to:"#"},{label:"Long-term Rental",to:"#"},{label:"Chauffeur Service",to:"#"},{label:"Corporate Plans",to:"#"}]},r=[{icon:Q6,href:"https://www.facebook.com/profile.php?id=61585450048575",label:"Facebook",color:Lr.darkBlue},{icon:dM,href:"https://x.com/RENTO_lb",label:"Twitter",color:Lr.teal},{icon:tM,href:"https://www.instagram.com/rentolebanon/?hl=en",label:"Instagram",color:Lr.limeGreen},{icon:rM,href:"https://www.linkedin.com/company/rento-lb/about/",label:"LinkedIn",color:Lr.darkBlue}];return _.useEffect(()=>{const n="https://images.dmca.com/Badges/DMCABadgeHelper.min.js";if(document.querySelector(`script[src="${n}"]`))return;const i=document.createElement("script");i.src=n,i.async=!0,document.body.appendChild(i)},[]),s.jsx("footer",{className:"bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800 mt-12",children:s.jsxs("div",{className:"container mx-auto px-4 py-8 sm:py-10",children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-6 lg:gap-8",children:[s.jsxs("div",{className:"lg:col-span-2 mb-4 sm:mb-0",children:[s.jsxs(Us,{to:"/",className:"flex items-center space-x-2 mb-4",children:[s.jsx("img",{src:"/rentologo.png",alt:"Rento Logo",className:"rounded-lg w-10 h-10 object-contain"}),s.jsx("span",{className:"text-2xl font-bold bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(135deg, ${Lr.darkBlue}, ${Lr.teal}, ${Lr.limeGreen})`},children:"RENTO LB"})]}),s.jsxs("div",{className:"space-y-2.5 text-sm",children:[s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(Ps,{className:"w-4 h-4 mt-0.5 flex-shrink-0",style:{color:Lr.teal}}),s.jsx("div",{className:"flex-1",children:s.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-snug",children:"124-128 City Road, London, England, EC1V 2NX"})})]}),s.jsxs("div",{className:"flex items-start space-x-2",children:[s.jsx(Ps,{className:"w-4 h-4 mt-0.5 flex-shrink-0",style:{color:Lr.teal}}),s.jsx("div",{className:"flex-1",children:s.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-snug",children:"Mount Lebanon, Baouchrieh, Lebanon"})})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(ui,{className:"w-4 h-4 flex-shrink-0",style:{color:Lr.darkBlue}}),s.jsx("a",{href:"tel:+96181001301",className:"text-gray-700 dark:text-gray-300 hover:underline",style:{color:Lr.darkBlue},children:"+961 (81) 001-301"})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(za,{className:"w-4 h-4 flex-shrink-0",style:{color:Lr.limeGreen}}),s.jsx("a",{href:"mailto:social@rento-lb.com",className:"text-gray-700 dark:text-gray-300 hover:underline",style:{color:Lr.limeGreen},children:"social@rento-lb.com"})]})]})]}),s.jsxs("div",{className:"mb-4 sm:mb-0",children:[s.jsx("h3",{className:"font-bold mb-3 text-base text-gray-900 dark:text-white",style:{color:Lr.darkBlue},children:"Company"}),s.jsx("ul",{className:"space-y-2",children:e.company.map(n=>s.jsx("li",{children:s.jsx(Us,{to:n.to,className:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:n.label})},n.label))})]}),s.jsxs("div",{className:"mb-4 sm:mb-0",children:[s.jsx("h3",{className:"font-bold mb-3 text-base text-gray-900 dark:text-white",style:{color:Lr.teal},children:"Support"}),s.jsx("ul",{className:"space-y-2",children:e.support.map(n=>s.jsx("li",{children:s.jsx(Us,{to:n.to,className:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:n.label})},n.label))})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold mb-3 text-base text-gray-900 dark:text-white",style:{color:Lr.limeGreen},children:"Services"}),s.jsx("ul",{className:"space-y-2",children:e.services.map(n=>s.jsx("li",{children:s.jsx(Us,{to:n.to,className:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:n.label})},n.label))})]})]}),s.jsx("div",{className:"my-8 border-t border-gray-200 dark:border-gray-800"}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-3 text-center sm:text-left",children:"Follow Us"}),s.jsx("div",{className:"flex justify-center sm:justify-start items-center gap-3",children:r.map(n=>s.jsx("a",{href:n.href,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full flex items-center justify-center transition-all hover:scale-110 shadow-md hover:shadow-lg",style:{background:n.color},"aria-label":n.label,children:s.jsx(n.icon,{className:"w-5 h-5 text-white","aria-hidden":"true"})},n.label))})]}),s.jsxs("div",{className:"mb-6",children:[s.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-3 text-center sm:text-left",children:"Trust & Security"}),s.jsxs("div",{className:"flex flex-wrap justify-center sm:justify-start items-center gap-3",children:[s.jsx("a",{href:"https://www.dmca.com/r/em2gpk5",title:"DMCA.com Protection Status",className:"dmca-badge",target:"_blank",rel:"noopener noreferrer",children:s.jsx("img",{src:"https://images.dmca.com/Badges/DMCA_logo-std-btn120w.png?ID=25eee832-1169-46e9-9a63-19f82b7e1b01",alt:"DMCA.com Protection Status",className:"h-8 w-auto"})}),s.jsx("a",{href:"https://www.trustpilot.com/evaluate/rento-lb.com",target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 rounded-lg text-white text-xs font-semibold shadow-md hover:shadow-lg transition-all hover:scale-105",style:{background:Lr.teal},children:" Trustpilot Review"}),s.jsx("span",{className:"px-4 py-2 rounded-lg text-white text-xs font-semibold shadow-md",style:{background:Lr.limeGreen},children:" Google Verified"}),s.jsx("a",{href:"https://find-and-update.company-information.service.gov.uk/company/16292007",target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 rounded-lg text-white text-xs font-semibold shadow-md hover:shadow-lg transition-all hover:scale-105",style:{background:Lr.darkBlue},children:" UK Registered"})]})]}),s.jsx("div",{className:"pt-6 border-t border-gray-200 dark:border-gray-800",children:s.jsxs("div",{className:"flex flex-col items-center text-center space-y-3",children:[s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[" ",t," ",s.jsx("span",{className:"font-semibold",style:{color:Lr.teal},children:"RENTO LB"}),". All rights reserved."]}),s.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-4 text-xs text-gray-500 dark:text-gray-500",children:[s.jsx(Us,{to:"#",className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"Privacy Policy"}),s.jsx("span",{className:"text-gray-300 dark:text-gray-700",children:""}),s.jsx(Us,{to:"#",className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"Terms of Service"}),s.jsx("span",{className:"text-gray-300 dark:text-gray-700",children:""}),s.jsx(Us,{to:"#",className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"Cookie Policy"})]}),s.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:["Made with ",s.jsx("span",{className:"text-red-500",children:""})," in Lebanon & UK"]})]})})]})})},OK=()=>{const t=Wa(),e=sn(),{user:r,logout:n}=ph(),[a,i]=_.useState(!1),[o,c]=_.useState(!1);_.useEffect(()=>{const f=()=>i(window.scrollY>20);return window.addEventListener("scroll",f),()=>window.removeEventListener("scroll",f)},[]);const d=async()=>{try{await Oe.post("/logout")}catch(f){console.error("Logout error:",f)}n(),ve.success("Logged out successfully"),e("/")},h=[{to:"/Dashboard",label:"Dashboard",icon:AN},{to:"/Statistic",label:"Statistics",icon:qu},{to:"/Mycars",label:"My Cars",icon:Kt},{to:"/Mycars-bookings",label:"Bookings",icon:Hs},{to:"/Balance",label:"Balance",icon:Yx},{to:"/add-car",label:"Add Car",icon:sr},{to:"/Add/car/qualification",label:"Qualifications",icon:J6}],m=f=>f==="/Dashboard"?t.pathname==="/Dashboard":t.pathname.startsWith(f);return s.jsx("nav",{className:`fixed top-0 left-0 right-0 z-50 glass-strong shadow-lg transition-all duration-300 ${a?"backdrop-blur":""}`,children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"flex items-center justify-between h-16 md:h-12",children:[s.jsxs(Us,{to:"/",className:"flex items-center space-x-2 group",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-transparent flex items-center justify-center hover-glow",children:s.jsx("img",{src:"/rentologo.png",alt:"Rento Logo",className:"rounded-lg w-10 h-10 object-contain"})}),s.jsx("span",{className:"text-xl md:text-2xl text-primary-foreground font-bold gradient-text hidden sm:block",children:"RENTO LB"})]}),s.jsx("div",{className:"hidden md:flex text-primary-foreground items-center space-x-1 flex-1 justify-center",children:h.map(f=>s.jsxs(Us,{to:f.to,className:`px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-1.5 ${m(f.to)?"bg-primary text-primary-foreground":"text-foreground/80 hover:text-foreground hover:bg-muted"}`,children:[f.icon&&s.jsx(f.icon,{className:"w-4 h-4"}),f.label]},f.to))}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Us,{to:"/",children:s.jsx(pe,{variant:"ghost",size:"icon",className:"hover-glow","aria-label":"Go to home",children:s.jsx(eM,{className:"w-5 h-5"})})}),s.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-primary/10 text-primary-foreground",children:[s.jsx(Yi,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:r?.username||"Agent"})]}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:d,className:"hover-glow hover:bg-red-500/10 hover:text-red-500","aria-label":"Logout",children:s.jsx(Xl,{className:"w-5 h-5"})})]}),s.jsx("div",{className:"md:hidden",children:s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>c(!o),className:"hover-glow","aria-label":"Menu",children:o?s.jsx("svg",{className:"w-6 h-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{d:"M6 18L18 6M6 6l12 12"})}):s.jsx("svg",{className:"w-6 h-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:s.jsx("path",{d:"M4 6h16M4 12h16M4 18h16"})})})})]})]}),o&&s.jsx("div",{className:"md:hidden pb-4 border-t border-border/40 mt-2 pt-4",children:s.jsxs("div",{className:"flex flex-col space-y-2",children:[h.map(f=>s.jsxs(Us,{to:f.to,onClick:()=>c(!1),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-2 ${m(f.to)?"bg-primary text-primary-foreground":"text-foreground/80 hover:text-foreground hover:bg-muted"}`,children:[f.icon&&s.jsx(f.icon,{className:"w-4 h-4"}),f.label]},f.to)),s.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 mt-2",children:[s.jsx(Yi,{className:"w-4 h-4"}),s.jsx("span",{className:"text-sm font-medium",children:r?.username||"Agent"})]}),s.jsxs(pe,{variant:"ghost",onClick:()=>{c(!1),d()},className:"w-full justify-start hover:bg-red-500/10 hover:text-red-500",children:[s.jsx(Xl,{className:"w-4 h-4 mr-2"}),"Logout"]})]})})]})})},Ic=({children:t,noIndex:e=!1})=>s.jsxs(s.Fragment,{children:[s.jsx(OK,{}),s.jsx("main",{className:"pt-16 md:pt-12 min-h-screen",children:t})]}),hT="rento_device_id",Uf=64;function fT(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function MM(){try{let t=typeof localStorage<"u"?localStorage.getItem(hT):null;return(!t||t.length>Uf)&&(t=fT(),t.length>Uf&&(t=t.slice(0,Uf)),typeof localStorage<"u"&&localStorage.setItem(hT,t)),t}catch{return fT().slice(0,Uf)}}const PM=async(t,e)=>{const r=typeof t=="string"&&t.trim()?t.trim().startsWith("+")?t.trim():`+${t.trim()}`:"",n=e&&String(e).slice(0,Uf)||MM();return(await Oe.post("/auth/send-otp",{phone_number:r,device_id:n})).data},LK=async t=>{const e=t.trim().startsWith("+")?t.trim():`+${t.trim()}`;return(await Oe.post("/auth/forgot-password",{phone_number:e})).data},OM=async(t,e)=>{const r=t.replace(/^\+/,"");return(await Oe.post("/auth/verify-otp",{phone_number:r,otp_code:e})).data},Se=_.forwardRef(({className:t,type:e,...r},n)=>s.jsx("input",{type:e,className:_t("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...r}));Se.displayName="Input";var FK=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],BK=FK.reduce((t,e)=>{const r=_N(`Primitive.${e}`),n=_.forwardRef((a,i)=>{const{asChild:o,...c}=a,d=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...c,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),IK="Label",LM=_.forwardRef((t,e)=>s.jsx(BK.label,{...t,ref:e,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(t.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));LM.displayName=IK;var FM=LM;const zK=NN("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),ue=_.forwardRef(({className:t,...e},r)=>s.jsx(FM,{ref:r,className:_t(zK(),t),...e}));ue.displayName=FM.displayName;const Ue=_.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:_t("rounded-xl border bg-card text-card-foreground shadow",t),...e}));Ue.displayName="Card";const ps=_.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:_t("flex flex-col space-y-1.5 p-6",t),...e}));ps.displayName="CardHeader";const gs=_.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:_t("font-semibold leading-none tracking-tight",t),...e}));gs.displayName="CardTitle";const hm=_.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:_t("text-sm text-muted-foreground",t),...e}));hm.displayName="CardDescription";const qe=_.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:_t("p-6 pt-0",t),...e}));qe.displayName="CardContent";const UK=_.forwardRef(({className:t,...e},r)=>s.jsx("div",{ref:r,className:_t("flex items-center p-6 pt-0",t),...e}));UK.displayName="CardFooter";function pt(t,e,{checkForDefaultPrevented:r=!0}={}){return function(a){if(t?.(a),r===!1||!a.defaultPrevented)return e?.(a)}}function $K(t,e){const r=_.createContext(e),n=i=>{const{children:o,...c}=i,d=_.useMemo(()=>c,Object.values(c));return s.jsx(r.Provider,{value:d,children:o})};n.displayName=t+"Provider";function a(i){const o=_.useContext(r);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[n,a]}function va(t,e=[]){let r=[];function n(i,o){const c=_.createContext(o),d=r.length;r=[...r,o];const h=f=>{const{scope:g,children:y,...v}=f,w=g?.[t]?.[d]||c,j=_.useMemo(()=>v,Object.values(v));return s.jsx(w.Provider,{value:j,children:y})};h.displayName=i+"Provider";function m(f,g){const y=g?.[t]?.[d]||c,v=_.useContext(y);if(v)return v;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[h,m]}const a=()=>{const i=r.map(o=>_.createContext(o));return function(c){const d=c?.[t]||i;return _.useMemo(()=>({[`__scope${t}`]:{...c,[t]:d}}),[c,d])}};return a.scopeName=t,[n,VK(a,...e)]}function VK(...t){const e=t[0];if(t.length===1)return e;const r=()=>{const n=t.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(i){const o=n.reduce((c,{useScope:d,scopeName:h})=>{const f=d(i)[`__scope${h}`];return{...c,...f}},{});return _.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return r.scopeName=e.scopeName,r}function mT(t){const e=HK(t),r=_.forwardRef((n,a)=>{const{children:i,...o}=n,c=_.Children.toArray(i),d=c.find(WK);if(d){const h=d.props.children,m=c.map(f=>f===d?_.Children.count(h)>1?_.Children.only(null):_.isValidElement(h)?h.props.children:null:f);return s.jsx(e,{...o,ref:a,children:_.isValidElement(h)?_.cloneElement(h,void 0,m):null})}return s.jsx(e,{...o,ref:a,children:i})});return r.displayName=`${t}.Slot`,r}function HK(t){const e=_.forwardRef((r,n)=>{const{children:a,...i}=r;if(_.isValidElement(a)){const o=YK(a),c=GK(i,a.props);return a.type!==_.Fragment&&(c.ref=n?Yo(n,o):o),_.cloneElement(a,c)}return _.Children.count(a)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var qK=Symbol("radix.slottable");function WK(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===qK}function GK(t,e){const r={...e};for(const n in e){const a=t[n],i=e[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...t,...r}}function YK(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function I0(t){const e=t+"CollectionProvider",[r,n]=va(e),[a,i]=r(e,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:j,children:b}=w,N=lt.useRef(null),k=lt.useRef(new Map).current;return s.jsx(a,{scope:j,itemMap:k,collectionRef:N,children:b})};o.displayName=e;const c=t+"CollectionSlot",d=mT(c),h=lt.forwardRef((w,j)=>{const{scope:b,children:N}=w,k=i(c,b),S=Jt(j,k.collectionRef);return s.jsx(d,{ref:S,children:N})});h.displayName=c;const m=t+"CollectionItemSlot",f="data-radix-collection-item",g=mT(m),y=lt.forwardRef((w,j)=>{const{scope:b,children:N,...k}=w,S=lt.useRef(null),C=Jt(j,S),B=i(m,b);return lt.useEffect(()=>(B.itemMap.set(S,{ref:S,...k}),()=>void B.itemMap.delete(S))),s.jsx(g,{[f]:"",ref:C,children:N})});y.displayName=m;function v(w){const j=i(t+"CollectionConsumer",w);return lt.useCallback(()=>{const N=j.collectionRef.current;if(!N)return[];const k=Array.from(N.querySelectorAll(`[${f}]`));return Array.from(j.itemMap.values()).sort((B,E)=>k.indexOf(B.ref.current)-k.indexOf(E.ref.current))},[j.collectionRef,j.itemMap])}return[{Provider:o,Slot:h,ItemSlot:y},v,n]}var bn=globalThis?.document?_.useLayoutEffect:()=>{},KK=pN[" useId ".trim().toString()]||(()=>{}),XK=0;function $i(t){const[e,r]=_.useState(KK());return bn(()=>{r(n=>n??String(XK++))},[t]),e?`radix-${e}`:""}function ZK(t){const e=QK(t),r=_.forwardRef((n,a)=>{const{children:i,...o}=n,c=_.Children.toArray(i),d=c.find(eX);if(d){const h=d.props.children,m=c.map(f=>f===d?_.Children.count(h)>1?_.Children.only(null):_.isValidElement(h)?h.props.children:null:f);return s.jsx(e,{...o,ref:a,children:_.isValidElement(h)?_.cloneElement(h,void 0,m):null})}return s.jsx(e,{...o,ref:a,children:i})});return r.displayName=`${t}.Slot`,r}function QK(t){const e=_.forwardRef((r,n)=>{const{children:a,...i}=r;if(_.isValidElement(a)){const o=sX(a),c=tX(i,a.props);return a.type!==_.Fragment&&(c.ref=n?Yo(n,o):o),_.cloneElement(a,c)}return _.Children.count(a)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var JK=Symbol("radix.slottable");function eX(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===JK}function tX(t,e){const r={...e};for(const n in e){const a=t[n],i=e[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...t,...r}}function sX(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var rX=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Bt=rX.reduce((t,e)=>{const r=ZK(`Primitive.${e}`),n=_.forwardRef((a,i)=>{const{asChild:o,...c}=a,d=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...c,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{});function BM(t,e){t&&Mm.flushSync(()=>t.dispatchEvent(e))}function Ki(t){const e=_.useRef(t);return _.useEffect(()=>{e.current=t}),_.useMemo(()=>(...r)=>e.current?.(...r),[])}var nX=pN[" useInsertionEffect ".trim().toString()]||bn;function Uo({prop:t,defaultProp:e,onChange:r=()=>{},caller:n}){const[a,i,o]=aX({defaultProp:e,onChange:r}),c=t!==void 0,d=c?t:a;{const m=_.useRef(t!==void 0);_.useEffect(()=>{const f=m.current;f!==c&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,n])}const h=_.useCallback(m=>{if(c){const f=iX(m)?m(t):m;f!==t&&o.current?.(f)}else i(m)},[c,t,i,o]);return[d,h]}function aX({defaultProp:t,onChange:e}){const[r,n]=_.useState(t),a=_.useRef(r),i=_.useRef(e);return nX(()=>{i.current=e},[e]),_.useEffect(()=>{a.current!==r&&(i.current?.(r),a.current=r)},[r,a]),[r,n,i]}function iX(t){return typeof t=="function"}var oX=_.createContext(void 0);function Um(t){const e=_.useContext(oX);return t||e||"ltr"}var ew="rovingFocusGroup.onEntryFocus",lX={bubbles:!1,cancelable:!0},$m="RovingFocusGroup",[d_,IM,cX]=I0($m),[dX,z0]=va($m,[cX]),[uX,hX]=dX($m),zM=_.forwardRef((t,e)=>s.jsx(d_.Provider,{scope:t.__scopeRovingFocusGroup,children:s.jsx(d_.Slot,{scope:t.__scopeRovingFocusGroup,children:s.jsx(fX,{...t,ref:e})})}));zM.displayName=$m;var fX=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,orientation:n,loop:a=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:d,onEntryFocus:h,preventScrollOnEntryFocus:m=!1,...f}=t,g=_.useRef(null),y=Jt(e,g),v=Um(i),[w,j]=Uo({prop:o,defaultProp:c??null,onChange:d,caller:$m}),[b,N]=_.useState(!1),k=Ki(h),S=IM(r),C=_.useRef(!1),[B,E]=_.useState(0);return _.useEffect(()=>{const z=g.current;if(z)return z.addEventListener(ew,k),()=>z.removeEventListener(ew,k)},[k]),s.jsx(uX,{scope:r,orientation:n,dir:v,loop:a,currentTabStopId:w,onItemFocus:_.useCallback(z=>j(z),[j]),onItemShiftTab:_.useCallback(()=>N(!0),[]),onFocusableItemAdd:_.useCallback(()=>E(z=>z+1),[]),onFocusableItemRemove:_.useCallback(()=>E(z=>z-1),[]),children:s.jsx(Bt.div,{tabIndex:b||B===0?-1:0,"data-orientation":n,...f,ref:y,style:{outline:"none",...t.style},onMouseDown:pt(t.onMouseDown,()=>{C.current=!0}),onFocus:pt(t.onFocus,z=>{const T=!C.current;if(z.target===z.currentTarget&&T&&!b){const W=new CustomEvent(ew,lX);if(z.currentTarget.dispatchEvent(W),!W.defaultPrevented){const U=S().filter(K=>K.focusable),L=U.find(K=>K.active),Z=U.find(K=>K.id===w),se=[L,Z,...U].filter(Boolean).map(K=>K.ref.current);VM(se,m)}}C.current=!1}),onBlur:pt(t.onBlur,()=>N(!1))})})}),UM="RovingFocusGroupItem",$M=_.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:r,focusable:n=!0,active:a=!1,tabStopId:i,children:o,...c}=t,d=$i(),h=i||d,m=hX(UM,r),f=m.currentTabStopId===h,g=IM(r),{onFocusableItemAdd:y,onFocusableItemRemove:v,currentTabStopId:w}=m;return _.useEffect(()=>{if(n)return y(),()=>v()},[n,y,v]),s.jsx(d_.ItemSlot,{scope:r,id:h,focusable:n,active:a,children:s.jsx(Bt.span,{tabIndex:f?0:-1,"data-orientation":m.orientation,...c,ref:e,onMouseDown:pt(t.onMouseDown,j=>{n?m.onItemFocus(h):j.preventDefault()}),onFocus:pt(t.onFocus,()=>m.onItemFocus(h)),onKeyDown:pt(t.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){m.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const b=gX(j,m.orientation,m.dir);if(b!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let k=g().filter(S=>S.focusable).map(S=>S.ref.current);if(b==="last")k.reverse();else if(b==="prev"||b==="next"){b==="prev"&&k.reverse();const S=k.indexOf(j.currentTarget);k=m.loop?xX(k,S+1):k.slice(S+1)}setTimeout(()=>VM(k))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:w!=null}):o})})});$M.displayName=UM;var mX={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function pX(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function gX(t,e,r){const n=pX(t.key,r);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return mX[n]}function VM(t,e=!1){const r=document.activeElement;for(const n of t)if(n===r||(n.focus({preventScroll:e}),document.activeElement!==r))return}function xX(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var HM=zM,qM=$M;function yX(t,e){return _.useReducer((r,n)=>e[r][n]??r,t)}var Ga=t=>{const{present:e,children:r}=t,n=bX(e),a=typeof r=="function"?r({present:n.isPresent}):_.Children.only(r),i=Jt(n.ref,vX(a));return typeof r=="function"||n.isPresent?_.cloneElement(a,{ref:i}):null};Ga.displayName="Presence";function bX(t){const[e,r]=_.useState(),n=_.useRef(null),a=_.useRef(t),i=_.useRef("none"),o=t?"mounted":"unmounted",[c,d]=yX(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const h=Ag(n.current);i.current=c==="mounted"?h:"none"},[c]),bn(()=>{const h=n.current,m=a.current;if(m!==t){const g=i.current,y=Ag(h);t?d("MOUNT"):y==="none"||h?.display==="none"?d("UNMOUNT"):d(m&&g!==y?"ANIMATION_OUT":"UNMOUNT"),a.current=t}},[t,d]),bn(()=>{if(e){let h;const m=e.ownerDocument.defaultView??window,f=y=>{const w=Ag(n.current).includes(CSS.escape(y.animationName));if(y.target===e&&w&&(d("ANIMATION_END"),!a.current)){const j=e.style.animationFillMode;e.style.animationFillMode="forwards",h=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=j)})}},g=y=>{y.target===e&&(i.current=Ag(n.current))};return e.addEventListener("animationstart",g),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{m.clearTimeout(h),e.removeEventListener("animationstart",g),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else d("ANIMATION_END")},[e,d]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:_.useCallback(h=>{n.current=h?getComputedStyle(h):null,r(h)},[])}}function Ag(t){return t?.animationName||"none"}function vX(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var U0="Tabs",[wX]=va(U0,[z0]),WM=z0(),[jX,PN]=wX(U0),GM=_.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,onValueChange:a,defaultValue:i,orientation:o="horizontal",dir:c,activationMode:d="automatic",...h}=t,m=Um(c),[f,g]=Uo({prop:n,onChange:a,defaultProp:i??"",caller:U0});return s.jsx(jX,{scope:r,baseId:$i(),value:f,onValueChange:g,orientation:o,dir:m,activationMode:d,children:s.jsx(Bt.div,{dir:m,"data-orientation":o,...h,ref:e})})});GM.displayName=U0;var YM="TabsList",KM=_.forwardRef((t,e)=>{const{__scopeTabs:r,loop:n=!0,...a}=t,i=PN(YM,r),o=WM(r);return s.jsx(HM,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:n,children:s.jsx(Bt.div,{role:"tablist","aria-orientation":i.orientation,...a,ref:e})})});KM.displayName=YM;var XM="TabsTrigger",ZM=_.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,disabled:a=!1,...i}=t,o=PN(XM,r),c=WM(r),d=eP(o.baseId,n),h=tP(o.baseId,n),m=n===o.value;return s.jsx(qM,{asChild:!0,...c,focusable:!a,active:m,children:s.jsx(Bt.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":h,"data-state":m?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:d,...i,ref:e,onMouseDown:pt(t.onMouseDown,f=>{!a&&f.button===0&&f.ctrlKey===!1?o.onValueChange(n):f.preventDefault()}),onKeyDown:pt(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(n)}),onFocus:pt(t.onFocus,()=>{const f=o.activationMode!=="manual";!m&&!a&&f&&o.onValueChange(n)})})})});ZM.displayName=XM;var QM="TabsContent",JM=_.forwardRef((t,e)=>{const{__scopeTabs:r,value:n,forceMount:a,children:i,...o}=t,c=PN(QM,r),d=eP(c.baseId,n),h=tP(c.baseId,n),m=n===c.value,f=_.useRef(m);return _.useEffect(()=>{const g=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(g)},[]),s.jsx(Ga,{present:a||m,children:({present:g})=>s.jsx(Bt.div,{"data-state":m?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":d,hidden:!g,id:h,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:g&&i})})});JM.displayName=QM;function eP(t,e){return`${t}-trigger-${e}`}function tP(t,e){return`${t}-content-${e}`}var _X=GM,sP=KM,rP=ZM,nP=JM;const $o=_X,Xi=_.forwardRef(({className:t,...e},r)=>s.jsx(sP,{ref:r,className:_t("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",t),...e}));Xi.displayName=sP.displayName;const $t=_.forwardRef(({className:t,...e},r)=>s.jsx(rP,{ref:r,className:_t("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t),...e}));$t.displayName=rP.displayName;const Zt=_.forwardRef(({className:t,...e},r)=>s.jsx(nP,{ref:r,className:_t("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Zt.displayName=nP.displayName;function Zx(t,[e,r]){return Math.min(r,Math.max(e,t))}function NX(t,e=globalThis?.document){const r=Ki(t);_.useEffect(()=>{const n=a=>{a.key==="Escape"&&r(a)};return e.addEventListener("keydown",n,{capture:!0}),()=>e.removeEventListener("keydown",n,{capture:!0})},[r,e])}var SX="DismissableLayer",u_="dismissableLayer.update",CX="dismissableLayer.pointerDownOutside",kX="dismissableLayer.focusOutside",pT,aP=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Vm=_.forwardRef((t,e)=>{const{disableOutsidePointerEvents:r=!1,onEscapeKeyDown:n,onPointerDownOutside:a,onFocusOutside:i,onInteractOutside:o,onDismiss:c,...d}=t,h=_.useContext(aP),[m,f]=_.useState(null),g=m?.ownerDocument??globalThis?.document,[,y]=_.useState({}),v=Jt(e,E=>f(E)),w=Array.from(h.layers),[j]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),b=w.indexOf(j),N=m?w.indexOf(m):-1,k=h.layersWithOutsidePointerEventsDisabled.size>0,S=N>=b,C=TX(E=>{const z=E.target,T=[...h.branches].some(W=>W.contains(z));!S||T||(a?.(E),o?.(E),E.defaultPrevented||c?.())},g),B=RX(E=>{const z=E.target;[...h.branches].some(W=>W.contains(z))||(i?.(E),o?.(E),E.defaultPrevented||c?.())},g);return NX(E=>{N===h.layers.size-1&&(n?.(E),!E.defaultPrevented&&c&&(E.preventDefault(),c()))},g),_.useEffect(()=>{if(m)return r&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(pT=g.body.style.pointerEvents,g.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),gT(),()=>{r&&h.layersWithOutsidePointerEventsDisabled.size===1&&(g.body.style.pointerEvents=pT)}},[m,g,r,h]),_.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),gT())},[m,h]),_.useEffect(()=>{const E=()=>y({});return document.addEventListener(u_,E),()=>document.removeEventListener(u_,E)},[]),s.jsx(Bt.div,{...d,ref:v,style:{pointerEvents:k?S?"auto":"none":void 0,...t.style},onFocusCapture:pt(t.onFocusCapture,B.onFocusCapture),onBlurCapture:pt(t.onBlurCapture,B.onBlurCapture),onPointerDownCapture:pt(t.onPointerDownCapture,C.onPointerDownCapture)})});Vm.displayName=SX;var AX="DismissableLayerBranch",EX=_.forwardRef((t,e)=>{const r=_.useContext(aP),n=_.useRef(null),a=Jt(e,n);return _.useEffect(()=>{const i=n.current;if(i)return r.branches.add(i),()=>{r.branches.delete(i)}},[r.branches]),s.jsx(Bt.div,{...t,ref:a})});EX.displayName=AX;function TX(t,e=globalThis?.document){const r=Ki(t),n=_.useRef(!1),a=_.useRef(()=>{});return _.useEffect(()=>{const i=c=>{if(c.target&&!n.current){let d=function(){iP(CX,r,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",a.current),a.current=d,e.addEventListener("click",a.current,{once:!0})):d()}else e.removeEventListener("click",a.current);n.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",a.current)}},[e,r]),{onPointerDownCapture:()=>n.current=!0}}function RX(t,e=globalThis?.document){const r=Ki(t),n=_.useRef(!1);return _.useEffect(()=>{const a=i=>{i.target&&!n.current&&iP(kX,r,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",a),()=>e.removeEventListener("focusin",a)},[e,r]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function gT(){const t=new CustomEvent(u_);document.dispatchEvent(t)}function iP(t,e,r,{discrete:n}){const a=r.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:r});e&&a.addEventListener(t,e,{once:!0}),n?BM(a,i):a.dispatchEvent(i)}var tw=0;function ON(){_.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??xT()),document.body.insertAdjacentElement("beforeend",t[1]??xT()),tw++,()=>{tw===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),tw--}},[])}function xT(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var sw="focusScope.autoFocusOnMount",rw="focusScope.autoFocusOnUnmount",yT={bubbles:!1,cancelable:!0},DX="FocusScope",$0=_.forwardRef((t,e)=>{const{loop:r=!1,trapped:n=!1,onMountAutoFocus:a,onUnmountAutoFocus:i,...o}=t,[c,d]=_.useState(null),h=Ki(a),m=Ki(i),f=_.useRef(null),g=Jt(e,w=>d(w)),y=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(n){let w=function(k){if(y.paused||!c)return;const S=k.target;c.contains(S)?f.current=S:Fl(f.current,{select:!0})},j=function(k){if(y.paused||!c)return;const S=k.relatedTarget;S!==null&&(c.contains(S)||Fl(f.current,{select:!0}))},b=function(k){if(document.activeElement===document.body)for(const C of k)C.removedNodes.length>0&&Fl(c)};document.addEventListener("focusin",w),document.addEventListener("focusout",j);const N=new MutationObserver(b);return c&&N.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",j),N.disconnect()}}},[n,c,y.paused]),_.useEffect(()=>{if(c){vT.add(y);const w=document.activeElement;if(!c.contains(w)){const b=new CustomEvent(sw,yT);c.addEventListener(sw,h),c.dispatchEvent(b),b.defaultPrevented||(MX(BX(oP(c)),{select:!0}),document.activeElement===w&&Fl(c))}return()=>{c.removeEventListener(sw,h),setTimeout(()=>{const b=new CustomEvent(rw,yT);c.addEventListener(rw,m),c.dispatchEvent(b),b.defaultPrevented||Fl(w??document.body,{select:!0}),c.removeEventListener(rw,m),vT.remove(y)},0)}}},[c,h,m,y]);const v=_.useCallback(w=>{if(!r&&!n||y.paused)return;const j=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,b=document.activeElement;if(j&&b){const N=w.currentTarget,[k,S]=PX(N);k&&S?!w.shiftKey&&b===S?(w.preventDefault(),r&&Fl(k,{select:!0})):w.shiftKey&&b===k&&(w.preventDefault(),r&&Fl(S,{select:!0})):b===N&&w.preventDefault()}},[r,n,y.paused]);return s.jsx(Bt.div,{tabIndex:-1,...o,ref:g,onKeyDown:v})});$0.displayName=DX;function MX(t,{select:e=!1}={}){const r=document.activeElement;for(const n of t)if(Fl(n,{select:e}),document.activeElement!==r)return}function PX(t){const e=oP(t),r=bT(e,t),n=bT(e.reverse(),t);return[r,n]}function oP(t){const e=[],r=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const a=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||a?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;r.nextNode();)e.push(r.currentNode);return e}function bT(t,e){for(const r of t)if(!OX(r,{upTo:e}))return r}function OX(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function LX(t){return t instanceof HTMLInputElement&&"select"in t}function Fl(t,{select:e=!1}={}){if(t&&t.focus){const r=document.activeElement;t.focus({preventScroll:!0}),t!==r&&LX(t)&&e&&t.select()}}var vT=FX();function FX(){let t=[];return{add(e){const r=t[0];e!==r&&r?.pause(),t=wT(t,e),t.unshift(e)},remove(e){t=wT(t,e),t[0]?.resume()}}}function wT(t,e){const r=[...t],n=r.indexOf(e);return n!==-1&&r.splice(n,1),r}function BX(t){return t.filter(e=>e.tagName!=="A")}const IX=["top","right","bottom","left"],Ql=Math.min,pa=Math.max,Qx=Math.round,Eg=Math.floor,Vi=t=>({x:t,y:t}),zX={left:"right",right:"left",bottom:"top",top:"bottom"},UX={start:"end",end:"start"};function h_(t,e,r){return pa(t,Ql(e,r))}function Vo(t,e){return typeof t=="function"?t(e):t}function Ho(t){return t.split("-")[0]}function gh(t){return t.split("-")[1]}function LN(t){return t==="x"?"y":"x"}function FN(t){return t==="y"?"height":"width"}const $X=new Set(["top","bottom"]);function Ii(t){return $X.has(Ho(t))?"y":"x"}function BN(t){return LN(Ii(t))}function VX(t,e,r){r===void 0&&(r=!1);const n=gh(t),a=BN(t),i=FN(a);let o=a==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Jx(o)),[o,Jx(o)]}function HX(t){const e=Jx(t);return[f_(t),e,f_(e)]}function f_(t){return t.replace(/start|end/g,e=>UX[e])}const jT=["left","right"],_T=["right","left"],qX=["top","bottom"],WX=["bottom","top"];function GX(t,e,r){switch(t){case"top":case"bottom":return r?e?_T:jT:e?jT:_T;case"left":case"right":return e?qX:WX;default:return[]}}function YX(t,e,r,n){const a=gh(t);let i=GX(Ho(t),r==="start",n);return a&&(i=i.map(o=>o+"-"+a),e&&(i=i.concat(i.map(f_)))),i}function Jx(t){return t.replace(/left|right|bottom|top/g,e=>zX[e])}function KX(t){return{top:0,right:0,bottom:0,left:0,...t}}function lP(t){return typeof t!="number"?KX(t):{top:t,right:t,bottom:t,left:t}}function e0(t){const{x:e,y:r,width:n,height:a}=t;return{width:n,height:a,top:r,left:e,right:e+n,bottom:r+a,x:e,y:r}}function NT(t,e,r){let{reference:n,floating:a}=t;const i=Ii(e),o=BN(e),c=FN(o),d=Ho(e),h=i==="y",m=n.x+n.width/2-a.width/2,f=n.y+n.height/2-a.height/2,g=n[c]/2-a[c]/2;let y;switch(d){case"top":y={x:m,y:n.y-a.height};break;case"bottom":y={x:m,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:f};break;case"left":y={x:n.x-a.width,y:f};break;default:y={x:n.x,y:n.y}}switch(gh(e)){case"start":y[o]-=g*(r&&h?-1:1);break;case"end":y[o]+=g*(r&&h?-1:1);break}return y}const XX=async(t,e,r)=>{const{placement:n="bottom",strategy:a="absolute",middleware:i=[],platform:o}=r,c=i.filter(Boolean),d=await(o.isRTL==null?void 0:o.isRTL(e));let h=await o.getElementRects({reference:t,floating:e,strategy:a}),{x:m,y:f}=NT(h,n,d),g=n,y={},v=0;for(let w=0;w<c.length;w++){const{name:j,fn:b}=c[w],{x:N,y:k,data:S,reset:C}=await b({x:m,y:f,initialPlacement:n,placement:g,strategy:a,middlewareData:y,rects:h,platform:o,elements:{reference:t,floating:e}});m=N??m,f=k??f,y={...y,[j]:{...y[j],...S}},C&&v<=50&&(v++,typeof C=="object"&&(C.placement&&(g=C.placement),C.rects&&(h=C.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:a}):C.rects),{x:m,y:f}=NT(h,g,d)),w=-1)}return{x:m,y:f,placement:g,strategy:a,middlewareData:y}};async function fm(t,e){var r;e===void 0&&(e={});const{x:n,y:a,platform:i,rects:o,elements:c,strategy:d}=t,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:f="floating",altBoundary:g=!1,padding:y=0}=Vo(e,t),v=lP(y),j=c[g?f==="floating"?"reference":"floating":f],b=e0(await i.getClippingRect({element:(r=await(i.isElement==null?void 0:i.isElement(j)))==null||r?j:j.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(c.floating)),boundary:h,rootBoundary:m,strategy:d})),N=f==="floating"?{x:n,y:a,width:o.floating.width,height:o.floating.height}:o.reference,k=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c.floating)),S=await(i.isElement==null?void 0:i.isElement(k))?await(i.getScale==null?void 0:i.getScale(k))||{x:1,y:1}:{x:1,y:1},C=e0(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:N,offsetParent:k,strategy:d}):N);return{top:(b.top-C.top+v.top)/S.y,bottom:(C.bottom-b.bottom+v.bottom)/S.y,left:(b.left-C.left+v.left)/S.x,right:(C.right-b.right+v.right)/S.x}}const ZX=t=>({name:"arrow",options:t,async fn(e){const{x:r,y:n,placement:a,rects:i,platform:o,elements:c,middlewareData:d}=e,{element:h,padding:m=0}=Vo(t,e)||{};if(h==null)return{};const f=lP(m),g={x:r,y:n},y=BN(a),v=FN(y),w=await o.getDimensions(h),j=y==="y",b=j?"top":"left",N=j?"bottom":"right",k=j?"clientHeight":"clientWidth",S=i.reference[v]+i.reference[y]-g[y]-i.floating[v],C=g[y]-i.reference[y],B=await(o.getOffsetParent==null?void 0:o.getOffsetParent(h));let E=B?B[k]:0;(!E||!await(o.isElement==null?void 0:o.isElement(B)))&&(E=c.floating[k]||i.floating[v]);const z=S/2-C/2,T=E/2-w[v]/2-1,W=Ql(f[b],T),U=Ql(f[N],T),L=W,Z=E-w[v]-U,O=E/2-w[v]/2+z,se=h_(L,O,Z),K=!d.arrow&&gh(a)!=null&&O!==se&&i.reference[v]/2-(O<L?W:U)-w[v]/2<0,M=K?O<L?O-L:O-Z:0;return{[y]:g[y]+M,data:{[y]:se,centerOffset:O-se-M,...K&&{alignmentOffset:M}},reset:K}}}),QX=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:a,middlewareData:i,rects:o,initialPlacement:c,platform:d,elements:h}=e,{mainAxis:m=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:w=!0,...j}=Vo(t,e);if((r=i.arrow)!=null&&r.alignmentOffset)return{};const b=Ho(a),N=Ii(c),k=Ho(c)===c,S=await(d.isRTL==null?void 0:d.isRTL(h.floating)),C=g||(k||!w?[Jx(c)]:HX(c)),B=v!=="none";!g&&B&&C.push(...YX(c,w,v,S));const E=[c,...C],z=await fm(e,j),T=[];let W=((n=i.flip)==null?void 0:n.overflows)||[];if(m&&T.push(z[b]),f){const O=VX(a,o,S);T.push(z[O[0]],z[O[1]])}if(W=[...W,{placement:a,overflows:T}],!T.every(O=>O<=0)){var U,L;const O=(((U=i.flip)==null?void 0:U.index)||0)+1,se=E[O];if(se&&(!(f==="alignment"?N!==Ii(se):!1)||W.every(X=>Ii(X.placement)===N?X.overflows[0]>0:!0)))return{data:{index:O,overflows:W},reset:{placement:se}};let K=(L=W.filter(M=>M.overflows[0]<=0).sort((M,X)=>M.overflows[1]-X.overflows[1])[0])==null?void 0:L.placement;if(!K)switch(y){case"bestFit":{var Z;const M=(Z=W.filter(X=>{if(B){const $=Ii(X.placement);return $===N||$==="y"}return!0}).map(X=>[X.placement,X.overflows.filter($=>$>0).reduce(($,oe)=>$+oe,0)]).sort((X,$)=>X[1]-$[1])[0])==null?void 0:Z[0];M&&(K=M);break}case"initialPlacement":K=c;break}if(a!==K)return{reset:{placement:K}}}return{}}}};function ST(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function CT(t){return IX.some(e=>t[e]>=0)}const JX=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:r}=e,{strategy:n="referenceHidden",...a}=Vo(t,e);switch(n){case"referenceHidden":{const i=await fm(e,{...a,elementContext:"reference"}),o=ST(i,r.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:CT(o)}}}case"escaped":{const i=await fm(e,{...a,altBoundary:!0}),o=ST(i,r.floating);return{data:{escapedOffsets:o,escaped:CT(o)}}}default:return{}}}}},cP=new Set(["left","top"]);async function eZ(t,e){const{placement:r,platform:n,elements:a}=t,i=await(n.isRTL==null?void 0:n.isRTL(a.floating)),o=Ho(r),c=gh(r),d=Ii(r)==="y",h=cP.has(o)?-1:1,m=i&&d?-1:1,f=Vo(e,t);let{mainAxis:g,crossAxis:y,alignmentAxis:v}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return c&&typeof v=="number"&&(y=c==="end"?v*-1:v),d?{x:y*m,y:g*h}:{x:g*h,y:y*m}}const tZ=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:a,y:i,placement:o,middlewareData:c}=e,d=await eZ(e,t);return o===((r=c.offset)==null?void 0:r.placement)&&(n=c.arrow)!=null&&n.alignmentOffset?{}:{x:a+d.x,y:i+d.y,data:{...d,placement:o}}}}},sZ=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:a}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:c={fn:j=>{let{x:b,y:N}=j;return{x:b,y:N}}},...d}=Vo(t,e),h={x:r,y:n},m=await fm(e,d),f=Ii(Ho(a)),g=LN(f);let y=h[g],v=h[f];if(i){const j=g==="y"?"top":"left",b=g==="y"?"bottom":"right",N=y+m[j],k=y-m[b];y=h_(N,y,k)}if(o){const j=f==="y"?"top":"left",b=f==="y"?"bottom":"right",N=v+m[j],k=v-m[b];v=h_(N,v,k)}const w=c.fn({...e,[g]:y,[f]:v});return{...w,data:{x:w.x-r,y:w.y-n,enabled:{[g]:i,[f]:o}}}}}},rZ=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:r,y:n,placement:a,rects:i,middlewareData:o}=e,{offset:c=0,mainAxis:d=!0,crossAxis:h=!0}=Vo(t,e),m={x:r,y:n},f=Ii(a),g=LN(f);let y=m[g],v=m[f];const w=Vo(c,e),j=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(d){const k=g==="y"?"height":"width",S=i.reference[g]-i.floating[k]+j.mainAxis,C=i.reference[g]+i.reference[k]-j.mainAxis;y<S?y=S:y>C&&(y=C)}if(h){var b,N;const k=g==="y"?"width":"height",S=cP.has(Ho(a)),C=i.reference[f]-i.floating[k]+(S&&((b=o.offset)==null?void 0:b[f])||0)+(S?0:j.crossAxis),B=i.reference[f]+i.reference[k]+(S?0:((N=o.offset)==null?void 0:N[f])||0)-(S?j.crossAxis:0);v<C?v=C:v>B&&(v=B)}return{[g]:y,[f]:v}}}},nZ=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:a,rects:i,platform:o,elements:c}=e,{apply:d=()=>{},...h}=Vo(t,e),m=await fm(e,h),f=Ho(a),g=gh(a),y=Ii(a)==="y",{width:v,height:w}=i.floating;let j,b;f==="top"||f==="bottom"?(j=f,b=g===(await(o.isRTL==null?void 0:o.isRTL(c.floating))?"start":"end")?"left":"right"):(b=f,j=g==="end"?"top":"bottom");const N=w-m.top-m.bottom,k=v-m.left-m.right,S=Ql(w-m[j],N),C=Ql(v-m[b],k),B=!e.middlewareData.shift;let E=S,z=C;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(z=k),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(E=N),B&&!g){const W=pa(m.left,0),U=pa(m.right,0),L=pa(m.top,0),Z=pa(m.bottom,0);y?z=v-2*(W!==0||U!==0?W+U:pa(m.left,m.right)):E=w-2*(L!==0||Z!==0?L+Z:pa(m.top,m.bottom))}await d({...e,availableWidth:z,availableHeight:E});const T=await o.getDimensions(c.floating);return v!==T.width||w!==T.height?{reset:{rects:!0}}:{}}}};function V0(){return typeof window<"u"}function xh(t){return dP(t)?(t.nodeName||"").toLowerCase():"#document"}function xa(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Ji(t){var e;return(e=(dP(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function dP(t){return V0()?t instanceof Node||t instanceof xa(t).Node:!1}function hi(t){return V0()?t instanceof Element||t instanceof xa(t).Element:!1}function Zi(t){return V0()?t instanceof HTMLElement||t instanceof xa(t).HTMLElement:!1}function kT(t){return!V0()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof xa(t).ShadowRoot}const aZ=new Set(["inline","contents"]);function Hm(t){const{overflow:e,overflowX:r,overflowY:n,display:a}=fi(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!aZ.has(a)}const iZ=new Set(["table","td","th"]);function oZ(t){return iZ.has(xh(t))}const lZ=[":popover-open",":modal"];function H0(t){return lZ.some(e=>{try{return t.matches(e)}catch{return!1}})}const cZ=["transform","translate","scale","rotate","perspective"],dZ=["transform","translate","scale","rotate","perspective","filter"],uZ=["paint","layout","strict","content"];function IN(t){const e=zN(),r=hi(t)?fi(t):t;return cZ.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||dZ.some(n=>(r.willChange||"").includes(n))||uZ.some(n=>(r.contain||"").includes(n))}function hZ(t){let e=Jl(t);for(;Zi(e)&&!Yu(e);){if(IN(e))return e;if(H0(e))return null;e=Jl(e)}return null}function zN(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const fZ=new Set(["html","body","#document"]);function Yu(t){return fZ.has(xh(t))}function fi(t){return xa(t).getComputedStyle(t)}function q0(t){return hi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Jl(t){if(xh(t)==="html")return t;const e=t.assignedSlot||t.parentNode||kT(t)&&t.host||Ji(t);return kT(e)?e.host:e}function uP(t){const e=Jl(t);return Yu(e)?t.ownerDocument?t.ownerDocument.body:t.body:Zi(e)&&Hm(e)?e:uP(e)}function mm(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const a=uP(t),i=a===((n=t.ownerDocument)==null?void 0:n.body),o=xa(a);if(i){const c=m_(o);return e.concat(o,o.visualViewport||[],Hm(a)?a:[],c&&r?mm(c):[])}return e.concat(a,mm(a,[],r))}function m_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function hP(t){const e=fi(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const a=Zi(t),i=a?t.offsetWidth:r,o=a?t.offsetHeight:n,c=Qx(r)!==i||Qx(n)!==o;return c&&(r=i,n=o),{width:r,height:n,$:c}}function UN(t){return hi(t)?t:t.contextElement}function Fu(t){const e=UN(t);if(!Zi(e))return Vi(1);const r=e.getBoundingClientRect(),{width:n,height:a,$:i}=hP(e);let o=(i?Qx(r.width):r.width)/n,c=(i?Qx(r.height):r.height)/a;return(!o||!Number.isFinite(o))&&(o=1),(!c||!Number.isFinite(c))&&(c=1),{x:o,y:c}}const mZ=Vi(0);function fP(t){const e=xa(t);return!zN()||!e.visualViewport?mZ:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function pZ(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==xa(t)?!1:e}function jd(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const a=t.getBoundingClientRect(),i=UN(t);let o=Vi(1);e&&(n?hi(n)&&(o=Fu(n)):o=Fu(t));const c=pZ(i,r,n)?fP(i):Vi(0);let d=(a.left+c.x)/o.x,h=(a.top+c.y)/o.y,m=a.width/o.x,f=a.height/o.y;if(i){const g=xa(i),y=n&&hi(n)?xa(n):n;let v=g,w=m_(v);for(;w&&n&&y!==v;){const j=Fu(w),b=w.getBoundingClientRect(),N=fi(w),k=b.left+(w.clientLeft+parseFloat(N.paddingLeft))*j.x,S=b.top+(w.clientTop+parseFloat(N.paddingTop))*j.y;d*=j.x,h*=j.y,m*=j.x,f*=j.y,d+=k,h+=S,v=xa(w),w=m_(v)}}return e0({width:m,height:f,x:d,y:h})}function W0(t,e){const r=q0(t).scrollLeft;return e?e.left+r:jd(Ji(t)).left+r}function mP(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-W0(t,r),a=r.top+e.scrollTop;return{x:n,y:a}}function gZ(t){let{elements:e,rect:r,offsetParent:n,strategy:a}=t;const i=a==="fixed",o=Ji(n),c=e?H0(e.floating):!1;if(n===o||c&&i)return r;let d={scrollLeft:0,scrollTop:0},h=Vi(1);const m=Vi(0),f=Zi(n);if((f||!f&&!i)&&((xh(n)!=="body"||Hm(o))&&(d=q0(n)),Zi(n))){const y=jd(n);h=Fu(n),m.x=y.x+n.clientLeft,m.y=y.y+n.clientTop}const g=o&&!f&&!i?mP(o,d):Vi(0);return{width:r.width*h.x,height:r.height*h.y,x:r.x*h.x-d.scrollLeft*h.x+m.x+g.x,y:r.y*h.y-d.scrollTop*h.y+m.y+g.y}}function xZ(t){return Array.from(t.getClientRects())}function yZ(t){const e=Ji(t),r=q0(t),n=t.ownerDocument.body,a=pa(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),i=pa(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let o=-r.scrollLeft+W0(t);const c=-r.scrollTop;return fi(n).direction==="rtl"&&(o+=pa(e.clientWidth,n.clientWidth)-a),{width:a,height:i,x:o,y:c}}const AT=25;function bZ(t,e){const r=xa(t),n=Ji(t),a=r.visualViewport;let i=n.clientWidth,o=n.clientHeight,c=0,d=0;if(a){i=a.width,o=a.height;const m=zN();(!m||m&&e==="fixed")&&(c=a.offsetLeft,d=a.offsetTop)}const h=W0(n);if(h<=0){const m=n.ownerDocument,f=m.body,g=getComputedStyle(f),y=m.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,v=Math.abs(n.clientWidth-f.clientWidth-y);v<=AT&&(i-=v)}else h<=AT&&(i+=h);return{width:i,height:o,x:c,y:d}}const vZ=new Set(["absolute","fixed"]);function wZ(t,e){const r=jd(t,!0,e==="fixed"),n=r.top+t.clientTop,a=r.left+t.clientLeft,i=Zi(t)?Fu(t):Vi(1),o=t.clientWidth*i.x,c=t.clientHeight*i.y,d=a*i.x,h=n*i.y;return{width:o,height:c,x:d,y:h}}function ET(t,e,r){let n;if(e==="viewport")n=bZ(t,r);else if(e==="document")n=yZ(Ji(t));else if(hi(e))n=wZ(e,r);else{const a=fP(t);n={x:e.x-a.x,y:e.y-a.y,width:e.width,height:e.height}}return e0(n)}function pP(t,e){const r=Jl(t);return r===e||!hi(r)||Yu(r)?!1:fi(r).position==="fixed"||pP(r,e)}function jZ(t,e){const r=e.get(t);if(r)return r;let n=mm(t,[],!1).filter(c=>hi(c)&&xh(c)!=="body"),a=null;const i=fi(t).position==="fixed";let o=i?Jl(t):t;for(;hi(o)&&!Yu(o);){const c=fi(o),d=IN(o);!d&&c.position==="fixed"&&(a=null),(i?!d&&!a:!d&&c.position==="static"&&!!a&&vZ.has(a.position)||Hm(o)&&!d&&pP(t,o))?n=n.filter(m=>m!==o):a=c,o=Jl(o)}return e.set(t,n),n}function _Z(t){let{element:e,boundary:r,rootBoundary:n,strategy:a}=t;const o=[...r==="clippingAncestors"?H0(e)?[]:jZ(e,this._c):[].concat(r),n],c=o[0],d=o.reduce((h,m)=>{const f=ET(e,m,a);return h.top=pa(f.top,h.top),h.right=Ql(f.right,h.right),h.bottom=Ql(f.bottom,h.bottom),h.left=pa(f.left,h.left),h},ET(e,c,a));return{width:d.right-d.left,height:d.bottom-d.top,x:d.left,y:d.top}}function NZ(t){const{width:e,height:r}=hP(t);return{width:e,height:r}}function SZ(t,e,r){const n=Zi(e),a=Ji(e),i=r==="fixed",o=jd(t,!0,i,e);let c={scrollLeft:0,scrollTop:0};const d=Vi(0);function h(){d.x=W0(a)}if(n||!n&&!i)if((xh(e)!=="body"||Hm(a))&&(c=q0(e)),n){const y=jd(e,!0,i,e);d.x=y.x+e.clientLeft,d.y=y.y+e.clientTop}else a&&h();i&&!n&&a&&h();const m=a&&!n&&!i?mP(a,c):Vi(0),f=o.left+c.scrollLeft-d.x-m.x,g=o.top+c.scrollTop-d.y-m.y;return{x:f,y:g,width:o.width,height:o.height}}function nw(t){return fi(t).position==="static"}function TT(t,e){if(!Zi(t)||fi(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return Ji(t)===r&&(r=r.ownerDocument.body),r}function gP(t,e){const r=xa(t);if(H0(t))return r;if(!Zi(t)){let a=Jl(t);for(;a&&!Yu(a);){if(hi(a)&&!nw(a))return a;a=Jl(a)}return r}let n=TT(t,e);for(;n&&oZ(n)&&nw(n);)n=TT(n,e);return n&&Yu(n)&&nw(n)&&!IN(n)?r:n||hZ(t)||r}const CZ=async function(t){const e=this.getOffsetParent||gP,r=this.getDimensions,n=await r(t.floating);return{reference:SZ(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function kZ(t){return fi(t).direction==="rtl"}const AZ={convertOffsetParentRelativeRectToViewportRelativeRect:gZ,getDocumentElement:Ji,getClippingRect:_Z,getOffsetParent:gP,getElementRects:CZ,getClientRects:xZ,getDimensions:NZ,getScale:Fu,isElement:hi,isRTL:kZ};function xP(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function EZ(t,e){let r=null,n;const a=Ji(t);function i(){var c;clearTimeout(n),(c=r)==null||c.disconnect(),r=null}function o(c,d){c===void 0&&(c=!1),d===void 0&&(d=1),i();const h=t.getBoundingClientRect(),{left:m,top:f,width:g,height:y}=h;if(c||e(),!g||!y)return;const v=Eg(f),w=Eg(a.clientWidth-(m+g)),j=Eg(a.clientHeight-(f+y)),b=Eg(m),k={rootMargin:-v+"px "+-w+"px "+-j+"px "+-b+"px",threshold:pa(0,Ql(1,d))||1};let S=!0;function C(B){const E=B[0].intersectionRatio;if(E!==d){if(!S)return o();E?o(!1,E):n=setTimeout(()=>{o(!1,1e-7)},1e3)}E===1&&!xP(h,t.getBoundingClientRect())&&o(),S=!1}try{r=new IntersectionObserver(C,{...k,root:a.ownerDocument})}catch{r=new IntersectionObserver(C,k)}r.observe(t)}return o(!0),i}function TZ(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:a=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:d=!1}=n,h=UN(t),m=a||i?[...h?mm(h):[],...mm(e)]:[];m.forEach(b=>{a&&b.addEventListener("scroll",r,{passive:!0}),i&&b.addEventListener("resize",r)});const f=h&&c?EZ(h,r):null;let g=-1,y=null;o&&(y=new ResizeObserver(b=>{let[N]=b;N&&N.target===h&&y&&(y.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var k;(k=y)==null||k.observe(e)})),r()}),h&&!d&&y.observe(h),y.observe(e));let v,w=d?jd(t):null;d&&j();function j(){const b=jd(t);w&&!xP(w,b)&&r(),w=b,v=requestAnimationFrame(j)}return r(),()=>{var b;m.forEach(N=>{a&&N.removeEventListener("scroll",r),i&&N.removeEventListener("resize",r)}),f?.(),(b=y)==null||b.disconnect(),y=null,d&&cancelAnimationFrame(v)}}const RZ=tZ,DZ=sZ,MZ=QX,PZ=nZ,OZ=JX,RT=ZX,LZ=rZ,FZ=(t,e,r)=>{const n=new Map,a={platform:AZ,...r},i={...a.platform,_c:n};return XX(t,e,{...a,platform:i})};var BZ=typeof document<"u",IZ=function(){},jx=BZ?_.useLayoutEffect:IZ;function t0(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,a;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!t0(t[n],e[n]))return!1;return!0}if(a=Object.keys(t),r=a.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,a[n]))return!1;for(n=r;n--!==0;){const i=a[n];if(!(i==="_owner"&&t.$$typeof)&&!t0(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function yP(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function DT(t,e){const r=yP(t);return Math.round(e*r)/r}function aw(t){const e=_.useRef(t);return jx(()=>{e.current=t}),e}function zZ(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:a,elements:{reference:i,floating:o}={},transform:c=!0,whileElementsMounted:d,open:h}=t,[m,f]=_.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[g,y]=_.useState(n);t0(g,n)||y(n);const[v,w]=_.useState(null),[j,b]=_.useState(null),N=_.useCallback(X=>{X!==B.current&&(B.current=X,w(X))},[]),k=_.useCallback(X=>{X!==E.current&&(E.current=X,b(X))},[]),S=i||v,C=o||j,B=_.useRef(null),E=_.useRef(null),z=_.useRef(m),T=d!=null,W=aw(d),U=aw(a),L=aw(h),Z=_.useCallback(()=>{if(!B.current||!E.current)return;const X={placement:e,strategy:r,middleware:g};U.current&&(X.platform=U.current),FZ(B.current,E.current,X).then($=>{const oe={...$,isPositioned:L.current!==!1};O.current&&!t0(z.current,oe)&&(z.current=oe,Mm.flushSync(()=>{f(oe)}))})},[g,e,r,U,L]);jx(()=>{h===!1&&z.current.isPositioned&&(z.current.isPositioned=!1,f(X=>({...X,isPositioned:!1})))},[h]);const O=_.useRef(!1);jx(()=>(O.current=!0,()=>{O.current=!1}),[]),jx(()=>{if(S&&(B.current=S),C&&(E.current=C),S&&C){if(W.current)return W.current(S,C,Z);Z()}},[S,C,Z,W,T]);const se=_.useMemo(()=>({reference:B,floating:E,setReference:N,setFloating:k}),[N,k]),K=_.useMemo(()=>({reference:S,floating:C}),[S,C]),M=_.useMemo(()=>{const X={position:r,left:0,top:0};if(!K.floating)return X;const $=DT(K.floating,m.x),oe=DT(K.floating,m.y);return c?{...X,transform:"translate("+$+"px, "+oe+"px)",...yP(K.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:$,top:oe}},[r,c,K.floating,m.x,m.y]);return _.useMemo(()=>({...m,update:Z,refs:se,elements:K,floatingStyles:M}),[m,Z,se,K,M])}const UZ=t=>{function e(r){return{}.hasOwnProperty.call(r,"current")}return{name:"arrow",options:t,fn(r){const{element:n,padding:a}=typeof t=="function"?t(r):t;return n&&e(n)?n.current!=null?RT({element:n.current,padding:a}).fn(r):{}:n?RT({element:n,padding:a}).fn(r):{}}}},$Z=(t,e)=>({...RZ(t),options:[t,e]}),VZ=(t,e)=>({...DZ(t),options:[t,e]}),HZ=(t,e)=>({...LZ(t),options:[t,e]}),qZ=(t,e)=>({...MZ(t),options:[t,e]}),WZ=(t,e)=>({...PZ(t),options:[t,e]}),GZ=(t,e)=>({...OZ(t),options:[t,e]}),YZ=(t,e)=>({...UZ(t),options:[t,e]});var KZ="Arrow",bP=_.forwardRef((t,e)=>{const{children:r,width:n=10,height:a=5,...i}=t;return s.jsx(Bt.svg,{...i,ref:e,width:n,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?r:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});bP.displayName=KZ;var XZ=bP;function G0(t){const[e,r]=_.useState(void 0);return bn(()=>{if(t){r({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const i=a[0];let o,c;if("borderBoxSize"in i){const d=i.borderBoxSize,h=Array.isArray(d)?d[0]:d;o=h.inlineSize,c=h.blockSize}else o=t.offsetWidth,c=t.offsetHeight;r({width:o,height:c})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else r(void 0)},[t]),e}var $N="Popper",[vP,yh]=va($N),[ZZ,wP]=vP($N),jP=t=>{const{__scopePopper:e,children:r}=t,[n,a]=_.useState(null);return s.jsx(ZZ,{scope:e,anchor:n,onAnchorChange:a,children:r})};jP.displayName=$N;var _P="PopperAnchor",NP=_.forwardRef((t,e)=>{const{__scopePopper:r,virtualRef:n,...a}=t,i=wP(_P,r),o=_.useRef(null),c=Jt(e,o),d=_.useRef(null);return _.useEffect(()=>{const h=d.current;d.current=n?.current||o.current,h!==d.current&&i.onAnchorChange(d.current)}),n?null:s.jsx(Bt.div,{...a,ref:c})});NP.displayName=_P;var VN="PopperContent",[QZ,JZ]=vP(VN),SP=_.forwardRef((t,e)=>{const{__scopePopper:r,side:n="bottom",sideOffset:a=0,align:i="center",alignOffset:o=0,arrowPadding:c=0,avoidCollisions:d=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:f="partial",hideWhenDetached:g=!1,updatePositionStrategy:y="optimized",onPlaced:v,...w}=t,j=wP(VN,r),[b,N]=_.useState(null),k=Jt(e,V=>N(V)),[S,C]=_.useState(null),B=G0(S),E=B?.width??0,z=B?.height??0,T=n+(i!=="center"?"-"+i:""),W=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},U=Array.isArray(h)?h:[h],L=U.length>0,Z={padding:W,boundary:U.filter(tQ),altBoundary:L},{refs:O,floatingStyles:se,placement:K,isPositioned:M,middlewareData:X}=zZ({strategy:"fixed",placement:T,whileElementsMounted:(...V)=>TZ(...V,{animationFrame:y==="always"}),elements:{reference:j.anchor},middleware:[$Z({mainAxis:a+z,alignmentAxis:o}),d&&VZ({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?HZ():void 0,...Z}),d&&qZ({...Z}),WZ({...Z,apply:({elements:V,rects:H,availableWidth:me,availableHeight:Q})=>{const{width:te,height:ee}=H.reference,Ce=V.floating.style;Ce.setProperty("--radix-popper-available-width",`${me}px`),Ce.setProperty("--radix-popper-available-height",`${Q}px`),Ce.setProperty("--radix-popper-anchor-width",`${te}px`),Ce.setProperty("--radix-popper-anchor-height",`${ee}px`)}}),S&&YZ({element:S,padding:c}),sQ({arrowWidth:E,arrowHeight:z}),g&&GZ({strategy:"referenceHidden",...Z})]}),[$,oe]=AP(K),q=Ki(v);bn(()=>{M&&q?.()},[M,q]);const Y=X.arrow?.x,ce=X.arrow?.y,le=X.arrow?.centerOffset!==0,[be,ge]=_.useState();return bn(()=>{b&&ge(window.getComputedStyle(b).zIndex)},[b]),s.jsx("div",{ref:O.setFloating,"data-radix-popper-content-wrapper":"",style:{...se,transform:M?se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:be,"--radix-popper-transform-origin":[X.transformOrigin?.x,X.transformOrigin?.y].join(" "),...X.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:s.jsx(QZ,{scope:r,placedSide:$,onArrowChange:C,arrowX:Y,arrowY:ce,shouldHideArrow:le,children:s.jsx(Bt.div,{"data-side":$,"data-align":oe,...w,ref:k,style:{...w.style,animation:M?void 0:"none"}})})})});SP.displayName=VN;var CP="PopperArrow",eQ={top:"bottom",right:"left",bottom:"top",left:"right"},kP=_.forwardRef(function(e,r){const{__scopePopper:n,...a}=e,i=JZ(CP,n),o=eQ[i.placedSide];return s.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:s.jsx(XZ,{...a,ref:r,style:{...a.style,display:"block"}})})});kP.displayName=CP;function tQ(t){return t!==null}var sQ=t=>({name:"transformOrigin",options:t,fn(e){const{placement:r,rects:n,middlewareData:a}=e,o=a.arrow?.centerOffset!==0,c=o?0:t.arrowWidth,d=o?0:t.arrowHeight,[h,m]=AP(r),f={start:"0%",center:"50%",end:"100%"}[m],g=(a.arrow?.x??0)+c/2,y=(a.arrow?.y??0)+d/2;let v="",w="";return h==="bottom"?(v=o?f:`${g}px`,w=`${-d}px`):h==="top"?(v=o?f:`${g}px`,w=`${n.floating.height+d}px`):h==="right"?(v=`${-d}px`,w=o?f:`${y}px`):h==="left"&&(v=`${n.floating.width+d}px`,w=o?f:`${y}px`),{data:{x:v,y:w}}}});function AP(t){const[e,r="center"]=t.split("-");return[e,r]}var EP=jP,HN=NP,qN=SP,WN=kP,rQ="Portal",qm=_.forwardRef((t,e)=>{const{container:r,...n}=t,[a,i]=_.useState(!1);bn(()=>i(!0),[]);const o=r||a&&globalThis?.document?.body;return o?D6.createPortal(s.jsx(Bt.div,{...n,ref:e}),o):null});qm.displayName=rQ;function nQ(t){const e=aQ(t),r=_.forwardRef((n,a)=>{const{children:i,...o}=n,c=_.Children.toArray(i),d=c.find(oQ);if(d){const h=d.props.children,m=c.map(f=>f===d?_.Children.count(h)>1?_.Children.only(null):_.isValidElement(h)?h.props.children:null:f);return s.jsx(e,{...o,ref:a,children:_.isValidElement(h)?_.cloneElement(h,void 0,m):null})}return s.jsx(e,{...o,ref:a,children:i})});return r.displayName=`${t}.Slot`,r}function aQ(t){const e=_.forwardRef((r,n)=>{const{children:a,...i}=r;if(_.isValidElement(a)){const o=cQ(a),c=lQ(i,a.props);return a.type!==_.Fragment&&(c.ref=n?Yo(n,o):o),_.cloneElement(a,c)}return _.Children.count(a)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var iQ=Symbol("radix.slottable");function oQ(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===iQ}function lQ(t,e){const r={...e};for(const n in e){const a=t[n],i=e[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...t,...r}}function cQ(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}function Y0(t){const e=_.useRef({value:t,previous:t});return _.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var TP=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),dQ="VisuallyHidden",RP=_.forwardRef((t,e)=>s.jsx(Bt.span,{...t,ref:e,style:{...TP,...t.style}}));RP.displayName=dQ;var uQ=RP,hQ=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},xu=new WeakMap,Tg=new WeakMap,Rg={},iw=0,DP=function(t){return t&&(t.host||DP(t.parentNode))},fQ=function(t,e){return e.map(function(r){if(t.contains(r))return r;var n=DP(r);return n&&t.contains(n)?n:(console.error("aria-hidden",r,"in not contained inside",t,". Doing nothing"),null)}).filter(function(r){return!!r})},mQ=function(t,e,r,n){var a=fQ(e,Array.isArray(t)?t:[t]);Rg[r]||(Rg[r]=new WeakMap);var i=Rg[r],o=[],c=new Set,d=new Set(a),h=function(f){!f||c.has(f)||(c.add(f),h(f.parentNode))};a.forEach(h);var m=function(f){!f||d.has(f)||Array.prototype.forEach.call(f.children,function(g){if(c.has(g))m(g);else try{var y=g.getAttribute(n),v=y!==null&&y!=="false",w=(xu.get(g)||0)+1,j=(i.get(g)||0)+1;xu.set(g,w),i.set(g,j),o.push(g),w===1&&v&&Tg.set(g,!0),j===1&&g.setAttribute(r,"true"),v||g.setAttribute(n,"true")}catch(b){console.error("aria-hidden: cannot operate on ",g,b)}})};return m(e),c.clear(),iw++,function(){o.forEach(function(f){var g=xu.get(f)-1,y=i.get(f)-1;xu.set(f,g),i.set(f,y),g||(Tg.has(f)||f.removeAttribute(n),Tg.delete(f)),y||f.removeAttribute(r)}),iw--,iw||(xu=new WeakMap,xu=new WeakMap,Tg=new WeakMap,Rg={})}},GN=function(t,e,r){r===void 0&&(r="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),a=hQ(t);return a?(n.push.apply(n,Array.from(a.querySelectorAll("[aria-live], script"))),mQ(n,a,r,"aria-hidden")):function(){return null}},Li=function(){return Li=Object.assign||function(e){for(var r,n=1,a=arguments.length;n<a;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(e[i]=r[i])}return e},Li.apply(this,arguments)};function MP(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,n=Object.getOwnPropertySymbols(t);a<n.length;a++)e.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(t,n[a])&&(r[n[a]]=t[n[a]]);return r}function pQ(t,e,r){if(r||arguments.length===2)for(var n=0,a=e.length,i;n<a;n++)(i||!(n in e))&&(i||(i=Array.prototype.slice.call(e,0,n)),i[n]=e[n]);return t.concat(i||Array.prototype.slice.call(e))}var _x="right-scroll-bar-position",Nx="width-before-scroll-bar",gQ="with-scroll-bars-hidden",xQ="--removed-body-scroll-bar-size";function ow(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function yQ(t,e){var r=_.useState(function(){return{value:t,callback:e,facade:{get current(){return r.value},set current(n){var a=r.value;a!==n&&(r.value=n,r.callback(n,a))}}}})[0];return r.callback=e,r.facade}var bQ=typeof window<"u"?_.useLayoutEffect:_.useEffect,MT=new WeakMap;function vQ(t,e){var r=yQ(null,function(n){return t.forEach(function(a){return ow(a,n)})});return bQ(function(){var n=MT.get(r);if(n){var a=new Set(n),i=new Set(t),o=r.current;a.forEach(function(c){i.has(c)||ow(c,null)}),i.forEach(function(c){a.has(c)||ow(c,o)})}MT.set(r,t)},[t]),r}function wQ(t){return t}function jQ(t,e){e===void 0&&(e=wQ);var r=[],n=!1,a={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return r.length?r[r.length-1]:t},useMedium:function(i){var o=e(i,n);return r.push(o),function(){r=r.filter(function(c){return c!==o})}},assignSyncMedium:function(i){for(n=!0;r.length;){var o=r;r=[],o.forEach(i)}r={push:function(c){return i(c)},filter:function(){return r}}},assignMedium:function(i){n=!0;var o=[];if(r.length){var c=r;r=[],c.forEach(i),o=r}var d=function(){var m=o;o=[],m.forEach(i)},h=function(){return Promise.resolve().then(d)};h(),r={push:function(m){o.push(m),h()},filter:function(m){return o=o.filter(m),r}}}};return a}function _Q(t){t===void 0&&(t={});var e=jQ(null);return e.options=Li({async:!0,ssr:!1},t),e}var PP=function(t){var e=t.sideCar,r=MP(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=e.read();if(!n)throw new Error("Sidecar medium not found");return _.createElement(n,Li({},r))};PP.isSideCarExport=!0;function NQ(t,e){return t.useMedium(e),PP}var OP=_Q(),lw=function(){},K0=_.forwardRef(function(t,e){var r=_.useRef(null),n=_.useState({onScrollCapture:lw,onWheelCapture:lw,onTouchMoveCapture:lw}),a=n[0],i=n[1],o=t.forwardProps,c=t.children,d=t.className,h=t.removeScrollBar,m=t.enabled,f=t.shards,g=t.sideCar,y=t.noRelative,v=t.noIsolation,w=t.inert,j=t.allowPinchZoom,b=t.as,N=b===void 0?"div":b,k=t.gapMode,S=MP(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),C=g,B=vQ([r,e]),E=Li(Li({},S),a);return _.createElement(_.Fragment,null,m&&_.createElement(C,{sideCar:OP,removeScrollBar:h,shards:f,noRelative:y,noIsolation:v,inert:w,setCallbacks:i,allowPinchZoom:!!j,lockRef:r,gapMode:k}),o?_.cloneElement(_.Children.only(c),Li(Li({},E),{ref:B})):_.createElement(N,Li({},E,{className:d,ref:B}),c))});K0.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};K0.classNames={fullWidth:Nx,zeroRight:_x};var SQ=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function CQ(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=SQ();return e&&t.setAttribute("nonce",e),t}function kQ(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function AQ(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var EQ=function(){var t=0,e=null;return{add:function(r){t==0&&(e=CQ())&&(kQ(e,r),AQ(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},TQ=function(){var t=EQ();return function(e,r){_.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&r])}},LP=function(){var t=TQ(),e=function(r){var n=r.styles,a=r.dynamic;return t(n,a),null};return e},RQ={left:0,top:0,right:0,gap:0},cw=function(t){return parseInt(t||"",10)||0},DQ=function(t){var e=window.getComputedStyle(document.body),r=e[t==="padding"?"paddingLeft":"marginLeft"],n=e[t==="padding"?"paddingTop":"marginTop"],a=e[t==="padding"?"paddingRight":"marginRight"];return[cw(r),cw(n),cw(a)]},MQ=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return RQ;var e=DQ(t),r=document.documentElement.clientWidth,n=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,n-r+e[2]-e[0])}},PQ=LP(),Bu="data-scroll-locked",OQ=function(t,e,r,n){var a=t.left,i=t.top,o=t.right,c=t.gap;return r===void 0&&(r="margin"),`
  .`.concat(gQ,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(c,"px ").concat(n,`;
  }
  body[`).concat(Bu,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(n,";"),r==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(n,`;
    `),r==="padding"&&"padding-right: ".concat(c,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(_x,` {
    right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(Nx,` {
    margin-right: `).concat(c,"px ").concat(n,`;
  }
  
  .`).concat(_x," .").concat(_x,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(Nx," .").concat(Nx,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Bu,`] {
    `).concat(xQ,": ").concat(c,`px;
  }
`)},PT=function(){var t=parseInt(document.body.getAttribute(Bu)||"0",10);return isFinite(t)?t:0},LQ=function(){_.useEffect(function(){return document.body.setAttribute(Bu,(PT()+1).toString()),function(){var t=PT()-1;t<=0?document.body.removeAttribute(Bu):document.body.setAttribute(Bu,t.toString())}},[])},FQ=function(t){var e=t.noRelative,r=t.noImportant,n=t.gapMode,a=n===void 0?"margin":n;LQ();var i=_.useMemo(function(){return MQ(a)},[a]);return _.createElement(PQ,{styles:OQ(i,!e,a,r?"":"!important")})},p_=!1;if(typeof window<"u")try{var Dg=Object.defineProperty({},"passive",{get:function(){return p_=!0,!0}});window.addEventListener("test",Dg,Dg),window.removeEventListener("test",Dg,Dg)}catch{p_=!1}var yu=p_?{passive:!1}:!1,BQ=function(t){return t.tagName==="TEXTAREA"},FP=function(t,e){if(!(t instanceof Element))return!1;var r=window.getComputedStyle(t);return r[e]!=="hidden"&&!(r.overflowY===r.overflowX&&!BQ(t)&&r[e]==="visible")},IQ=function(t){return FP(t,"overflowY")},zQ=function(t){return FP(t,"overflowX")},OT=function(t,e){var r=e.ownerDocument,n=e;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var a=BP(t,n);if(a){var i=IP(t,n),o=i[1],c=i[2];if(o>c)return!0}n=n.parentNode}while(n&&n!==r.body);return!1},UQ=function(t){var e=t.scrollTop,r=t.scrollHeight,n=t.clientHeight;return[e,r,n]},$Q=function(t){var e=t.scrollLeft,r=t.scrollWidth,n=t.clientWidth;return[e,r,n]},BP=function(t,e){return t==="v"?IQ(e):zQ(e)},IP=function(t,e){return t==="v"?UQ(e):$Q(e)},VQ=function(t,e){return t==="h"&&e==="rtl"?-1:1},HQ=function(t,e,r,n,a){var i=VQ(t,window.getComputedStyle(e).direction),o=i*n,c=r.target,d=e.contains(c),h=!1,m=o>0,f=0,g=0;do{if(!c)break;var y=IP(t,c),v=y[0],w=y[1],j=y[2],b=w-j-i*v;(v||b)&&BP(t,c)&&(f+=b,g+=v);var N=c.parentNode;c=N&&N.nodeType===Node.DOCUMENT_FRAGMENT_NODE?N.host:N}while(!d&&c!==document.body||d&&(e.contains(c)||e===c));return(m&&Math.abs(f)<1||!m&&Math.abs(g)<1)&&(h=!0),h},Mg=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},LT=function(t){return[t.deltaX,t.deltaY]},FT=function(t){return t&&"current"in t?t.current:t},qQ=function(t,e){return t[0]===e[0]&&t[1]===e[1]},WQ=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},GQ=0,bu=[];function YQ(t){var e=_.useRef([]),r=_.useRef([0,0]),n=_.useRef(),a=_.useState(GQ++)[0],i=_.useState(LP)[0],o=_.useRef(t);_.useEffect(function(){o.current=t},[t]),_.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(a));var w=pQ([t.lockRef.current],(t.shards||[]).map(FT),!0).filter(Boolean);return w.forEach(function(j){return j.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),w.forEach(function(j){return j.classList.remove("allow-interactivity-".concat(a))})}}},[t.inert,t.lockRef.current,t.shards]);var c=_.useCallback(function(w,j){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var b=Mg(w),N=r.current,k="deltaX"in w?w.deltaX:N[0]-b[0],S="deltaY"in w?w.deltaY:N[1]-b[1],C,B=w.target,E=Math.abs(k)>Math.abs(S)?"h":"v";if("touches"in w&&E==="h"&&B.type==="range")return!1;var z=window.getSelection(),T=z&&z.anchorNode,W=T?T===B||T.contains(B):!1;if(W)return!1;var U=OT(E,B);if(!U)return!0;if(U?C=E:(C=E==="v"?"h":"v",U=OT(E,B)),!U)return!1;if(!n.current&&"changedTouches"in w&&(k||S)&&(n.current=C),!C)return!0;var L=n.current||C;return HQ(L,j,w,L==="h"?k:S)},[]),d=_.useCallback(function(w){var j=w;if(!(!bu.length||bu[bu.length-1]!==i)){var b="deltaY"in j?LT(j):Mg(j),N=e.current.filter(function(C){return C.name===j.type&&(C.target===j.target||j.target===C.shadowParent)&&qQ(C.delta,b)})[0];if(N&&N.should){j.cancelable&&j.preventDefault();return}if(!N){var k=(o.current.shards||[]).map(FT).filter(Boolean).filter(function(C){return C.contains(j.target)}),S=k.length>0?c(j,k[0]):!o.current.noIsolation;S&&j.cancelable&&j.preventDefault()}}},[]),h=_.useCallback(function(w,j,b,N){var k={name:w,delta:j,target:b,should:N,shadowParent:KQ(b)};e.current.push(k),setTimeout(function(){e.current=e.current.filter(function(S){return S!==k})},1)},[]),m=_.useCallback(function(w){r.current=Mg(w),n.current=void 0},[]),f=_.useCallback(function(w){h(w.type,LT(w),w.target,c(w,t.lockRef.current))},[]),g=_.useCallback(function(w){h(w.type,Mg(w),w.target,c(w,t.lockRef.current))},[]);_.useEffect(function(){return bu.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:g}),document.addEventListener("wheel",d,yu),document.addEventListener("touchmove",d,yu),document.addEventListener("touchstart",m,yu),function(){bu=bu.filter(function(w){return w!==i}),document.removeEventListener("wheel",d,yu),document.removeEventListener("touchmove",d,yu),document.removeEventListener("touchstart",m,yu)}},[]);var y=t.removeScrollBar,v=t.inert;return _.createElement(_.Fragment,null,v?_.createElement(i,{styles:WQ(a)}):null,y?_.createElement(FQ,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function KQ(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const XQ=NQ(OP,YQ);var X0=_.forwardRef(function(t,e){return _.createElement(K0,Li({},t,{ref:e,sideCar:XQ}))});X0.classNames=K0.classNames;var ZQ=[" ","Enter","ArrowUp","ArrowDown"],QQ=[" ","Enter"],_d="Select",[Z0,Q0,JQ]=I0(_d),[bh]=va(_d,[JQ,yh]),J0=yh(),[eJ,ic]=bh(_d),[tJ,sJ]=bh(_d),zP=t=>{const{__scopeSelect:e,children:r,open:n,defaultOpen:a,onOpenChange:i,value:o,defaultValue:c,onValueChange:d,dir:h,name:m,autoComplete:f,disabled:g,required:y,form:v}=t,w=J0(e),[j,b]=_.useState(null),[N,k]=_.useState(null),[S,C]=_.useState(!1),B=Um(h),[E,z]=Uo({prop:n,defaultProp:a??!1,onChange:i,caller:_d}),[T,W]=Uo({prop:o,defaultProp:c,onChange:d,caller:_d}),U=_.useRef(null),L=j?v||!!j.closest("form"):!0,[Z,O]=_.useState(new Set),se=Array.from(Z).map(K=>K.props.value).join(";");return s.jsx(EP,{...w,children:s.jsxs(eJ,{required:y,scope:e,trigger:j,onTriggerChange:b,valueNode:N,onValueNodeChange:k,valueNodeHasChildren:S,onValueNodeHasChildrenChange:C,contentId:$i(),value:T,onValueChange:W,open:E,onOpenChange:z,dir:B,triggerPointerDownPosRef:U,disabled:g,children:[s.jsx(Z0.Provider,{scope:e,children:s.jsx(tJ,{scope:t.__scopeSelect,onNativeOptionAdd:_.useCallback(K=>{O(M=>new Set(M).add(K))},[]),onNativeOptionRemove:_.useCallback(K=>{O(M=>{const X=new Set(M);return X.delete(K),X})},[]),children:r})}),L?s.jsxs(dO,{"aria-hidden":!0,required:y,tabIndex:-1,name:m,autoComplete:f,value:T,onChange:K=>W(K.target.value),disabled:g,form:v,children:[T===void 0?s.jsx("option",{value:""}):null,Array.from(Z)]},se):null]})})};zP.displayName=_d;var UP="SelectTrigger",$P=_.forwardRef((t,e)=>{const{__scopeSelect:r,disabled:n=!1,...a}=t,i=J0(r),o=ic(UP,r),c=o.disabled||n,d=Jt(e,o.onTriggerChange),h=Q0(r),m=_.useRef("touch"),[f,g,y]=hO(w=>{const j=h().filter(k=>!k.disabled),b=j.find(k=>k.value===o.value),N=fO(j,w,b);N!==void 0&&o.onValueChange(N.value)}),v=w=>{c||(o.onOpenChange(!0),y()),w&&(o.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return s.jsx(HN,{asChild:!0,...i,children:s.jsx(Bt.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":uO(o.value)?"":void 0,...a,ref:d,onClick:pt(a.onClick,w=>{w.currentTarget.focus(),m.current!=="mouse"&&v(w)}),onPointerDown:pt(a.onPointerDown,w=>{m.current=w.pointerType;const j=w.target;j.hasPointerCapture(w.pointerId)&&j.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(v(w),w.preventDefault())}),onKeyDown:pt(a.onKeyDown,w=>{const j=f.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&g(w.key),!(j&&w.key===" ")&&ZQ.includes(w.key)&&(v(),w.preventDefault())})})})});$P.displayName=UP;var VP="SelectValue",HP=_.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:a,children:i,placeholder:o="",...c}=t,d=ic(VP,r),{onValueNodeHasChildrenChange:h}=d,m=i!==void 0,f=Jt(e,d.onValueNodeChange);return bn(()=>{h(m)},[h,m]),s.jsx(Bt.span,{...c,ref:f,style:{pointerEvents:"none"},children:uO(d.value)?s.jsx(s.Fragment,{children:o}):i})});HP.displayName=VP;var rJ="SelectIcon",qP=_.forwardRef((t,e)=>{const{__scopeSelect:r,children:n,...a}=t;return s.jsx(Bt.span,{"aria-hidden":!0,...a,ref:e,children:n||""})});qP.displayName=rJ;var nJ="SelectPortal",WP=t=>s.jsx(qm,{asChild:!0,...t});WP.displayName=nJ;var Nd="SelectContent",GP=_.forwardRef((t,e)=>{const r=ic(Nd,t.__scopeSelect),[n,a]=_.useState();if(bn(()=>{a(new DocumentFragment)},[]),!r.open){const i=n;return i?Mm.createPortal(s.jsx(YP,{scope:t.__scopeSelect,children:s.jsx(Z0.Slot,{scope:t.__scopeSelect,children:s.jsx("div",{children:t.children})})}),i):null}return s.jsx(KP,{...t,ref:e})});GP.displayName=Nd;var ai=10,[YP,oc]=bh(Nd),aJ="SelectContentImpl",iJ=nQ("SelectContent.RemoveScroll"),KP=_.forwardRef((t,e)=>{const{__scopeSelect:r,position:n="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:i,onPointerDownOutside:o,side:c,sideOffset:d,align:h,alignOffset:m,arrowPadding:f,collisionBoundary:g,collisionPadding:y,sticky:v,hideWhenDetached:w,avoidCollisions:j,...b}=t,N=ic(Nd,r),[k,S]=_.useState(null),[C,B]=_.useState(null),E=Jt(e,V=>S(V)),[z,T]=_.useState(null),[W,U]=_.useState(null),L=Q0(r),[Z,O]=_.useState(!1),se=_.useRef(!1);_.useEffect(()=>{if(k)return GN(k)},[k]),ON();const K=_.useCallback(V=>{const[H,...me]=L().map(ee=>ee.ref.current),[Q]=me.slice(-1),te=document.activeElement;for(const ee of V)if(ee===te||(ee?.scrollIntoView({block:"nearest"}),ee===H&&C&&(C.scrollTop=0),ee===Q&&C&&(C.scrollTop=C.scrollHeight),ee?.focus(),document.activeElement!==te))return},[L,C]),M=_.useCallback(()=>K([z,k]),[K,z,k]);_.useEffect(()=>{Z&&M()},[Z,M]);const{onOpenChange:X,triggerPointerDownPosRef:$}=N;_.useEffect(()=>{if(k){let V={x:0,y:0};const H=Q=>{V={x:Math.abs(Math.round(Q.pageX)-($.current?.x??0)),y:Math.abs(Math.round(Q.pageY)-($.current?.y??0))}},me=Q=>{V.x<=10&&V.y<=10?Q.preventDefault():k.contains(Q.target)||X(!1),document.removeEventListener("pointermove",H),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",H),document.addEventListener("pointerup",me,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",H),document.removeEventListener("pointerup",me,{capture:!0})}}},[k,X,$]),_.useEffect(()=>{const V=()=>X(!1);return window.addEventListener("blur",V),window.addEventListener("resize",V),()=>{window.removeEventListener("blur",V),window.removeEventListener("resize",V)}},[X]);const[oe,q]=hO(V=>{const H=L().filter(te=>!te.disabled),me=H.find(te=>te.ref.current===document.activeElement),Q=fO(H,V,me);Q&&setTimeout(()=>Q.ref.current.focus())}),Y=_.useCallback((V,H,me)=>{const Q=!se.current&&!me;(N.value!==void 0&&N.value===H||Q)&&(T(V),Q&&(se.current=!0))},[N.value]),ce=_.useCallback(()=>k?.focus(),[k]),le=_.useCallback((V,H,me)=>{const Q=!se.current&&!me;(N.value!==void 0&&N.value===H||Q)&&U(V)},[N.value]),be=n==="popper"?g_:XP,ge=be===g_?{side:c,sideOffset:d,align:h,alignOffset:m,arrowPadding:f,collisionBoundary:g,collisionPadding:y,sticky:v,hideWhenDetached:w,avoidCollisions:j}:{};return s.jsx(YP,{scope:r,content:k,viewport:C,onViewportChange:B,itemRefCallback:Y,selectedItem:z,onItemLeave:ce,itemTextRefCallback:le,focusSelectedItem:M,selectedItemText:W,position:n,isPositioned:Z,searchRef:oe,children:s.jsx(X0,{as:iJ,allowPinchZoom:!0,children:s.jsx($0,{asChild:!0,trapped:N.open,onMountAutoFocus:V=>{V.preventDefault()},onUnmountAutoFocus:pt(a,V=>{N.trigger?.focus({preventScroll:!0}),V.preventDefault()}),children:s.jsx(Vm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:V=>V.preventDefault(),onDismiss:()=>N.onOpenChange(!1),children:s.jsx(be,{role:"listbox",id:N.contentId,"data-state":N.open?"open":"closed",dir:N.dir,onContextMenu:V=>V.preventDefault(),...b,...ge,onPlaced:()=>O(!0),ref:E,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:pt(b.onKeyDown,V=>{const H=V.ctrlKey||V.altKey||V.metaKey;if(V.key==="Tab"&&V.preventDefault(),!H&&V.key.length===1&&q(V.key),["ArrowUp","ArrowDown","Home","End"].includes(V.key)){let Q=L().filter(te=>!te.disabled).map(te=>te.ref.current);if(["ArrowUp","End"].includes(V.key)&&(Q=Q.slice().reverse()),["ArrowUp","ArrowDown"].includes(V.key)){const te=V.target,ee=Q.indexOf(te);Q=Q.slice(ee+1)}setTimeout(()=>K(Q)),V.preventDefault()}})})})})})})});KP.displayName=aJ;var oJ="SelectItemAlignedPosition",XP=_.forwardRef((t,e)=>{const{__scopeSelect:r,onPlaced:n,...a}=t,i=ic(Nd,r),o=oc(Nd,r),[c,d]=_.useState(null),[h,m]=_.useState(null),f=Jt(e,E=>m(E)),g=Q0(r),y=_.useRef(!1),v=_.useRef(!0),{viewport:w,selectedItem:j,selectedItemText:b,focusSelectedItem:N}=o,k=_.useCallback(()=>{if(i.trigger&&i.valueNode&&c&&h&&w&&j&&b){const E=i.trigger.getBoundingClientRect(),z=h.getBoundingClientRect(),T=i.valueNode.getBoundingClientRect(),W=b.getBoundingClientRect();if(i.dir!=="rtl"){const te=W.left-z.left,ee=T.left-te,Ce=E.left-ee,F=E.width+Ce,Ee=Math.max(F,z.width),J=window.innerWidth-ai,R=Zx(ee,[ai,Math.max(ai,J-Ee)]);c.style.minWidth=F+"px",c.style.left=R+"px"}else{const te=z.right-W.right,ee=window.innerWidth-T.right-te,Ce=window.innerWidth-E.right-ee,F=E.width+Ce,Ee=Math.max(F,z.width),J=window.innerWidth-ai,R=Zx(ee,[ai,Math.max(ai,J-Ee)]);c.style.minWidth=F+"px",c.style.right=R+"px"}const U=g(),L=window.innerHeight-ai*2,Z=w.scrollHeight,O=window.getComputedStyle(h),se=parseInt(O.borderTopWidth,10),K=parseInt(O.paddingTop,10),M=parseInt(O.borderBottomWidth,10),X=parseInt(O.paddingBottom,10),$=se+K+Z+X+M,oe=Math.min(j.offsetHeight*5,$),q=window.getComputedStyle(w),Y=parseInt(q.paddingTop,10),ce=parseInt(q.paddingBottom,10),le=E.top+E.height/2-ai,be=L-le,ge=j.offsetHeight/2,V=j.offsetTop+ge,H=se+K+V,me=$-H;if(H<=le){const te=U.length>0&&j===U[U.length-1].ref.current;c.style.bottom="0px";const ee=h.clientHeight-w.offsetTop-w.offsetHeight,Ce=Math.max(be,ge+(te?ce:0)+ee+M),F=H+Ce;c.style.height=F+"px"}else{const te=U.length>0&&j===U[0].ref.current;c.style.top="0px";const Ce=Math.max(le,se+w.offsetTop+(te?Y:0)+ge)+me;c.style.height=Ce+"px",w.scrollTop=H-le+w.offsetTop}c.style.margin=`${ai}px 0`,c.style.minHeight=oe+"px",c.style.maxHeight=L+"px",n?.(),requestAnimationFrame(()=>y.current=!0)}},[g,i.trigger,i.valueNode,c,h,w,j,b,i.dir,n]);bn(()=>k(),[k]);const[S,C]=_.useState();bn(()=>{h&&C(window.getComputedStyle(h).zIndex)},[h]);const B=_.useCallback(E=>{E&&v.current===!0&&(k(),N?.(),v.current=!1)},[k,N]);return s.jsx(cJ,{scope:r,contentWrapper:c,shouldExpandOnScrollRef:y,onScrollButtonChange:B,children:s.jsx("div",{ref:d,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:S},children:s.jsx(Bt.div,{...a,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});XP.displayName=oJ;var lJ="SelectPopperPosition",g_=_.forwardRef((t,e)=>{const{__scopeSelect:r,align:n="start",collisionPadding:a=ai,...i}=t,o=J0(r);return s.jsx(qN,{...o,...i,ref:e,align:n,collisionPadding:a,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});g_.displayName=lJ;var[cJ,YN]=bh(Nd,{}),x_="SelectViewport",ZP=_.forwardRef((t,e)=>{const{__scopeSelect:r,nonce:n,...a}=t,i=oc(x_,r),o=YN(x_,r),c=Jt(e,i.onViewportChange),d=_.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),s.jsx(Z0.Slot,{scope:r,children:s.jsx(Bt.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:pt(a.onScroll,h=>{const m=h.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:g}=o;if(g?.current&&f){const y=Math.abs(d.current-m.scrollTop);if(y>0){const v=window.innerHeight-ai*2,w=parseFloat(f.style.minHeight),j=parseFloat(f.style.height),b=Math.max(w,j);if(b<v){const N=b+y,k=Math.min(v,N),S=N-k;f.style.height=k+"px",f.style.bottom==="0px"&&(m.scrollTop=S>0?S:0,f.style.justifyContent="flex-end")}}}d.current=m.scrollTop})})})]})});ZP.displayName=x_;var QP="SelectGroup",[dJ,uJ]=bh(QP),hJ=_.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=$i();return s.jsx(dJ,{scope:r,id:a,children:s.jsx(Bt.div,{role:"group","aria-labelledby":a,...n,ref:e})})});hJ.displayName=QP;var JP="SelectLabel",eO=_.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=uJ(JP,r);return s.jsx(Bt.div,{id:a.id,...n,ref:e})});eO.displayName=JP;var s0="SelectItem",[fJ,tO]=bh(s0),sO=_.forwardRef((t,e)=>{const{__scopeSelect:r,value:n,disabled:a=!1,textValue:i,...o}=t,c=ic(s0,r),d=oc(s0,r),h=c.value===n,[m,f]=_.useState(i??""),[g,y]=_.useState(!1),v=Jt(e,N=>d.itemRefCallback?.(N,n,a)),w=$i(),j=_.useRef("touch"),b=()=>{a||(c.onValueChange(n),c.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(fJ,{scope:r,value:n,disabled:a,textId:w,isSelected:h,onItemTextChange:_.useCallback(N=>{f(k=>k||(N?.textContent??"").trim())},[]),children:s.jsx(Z0.ItemSlot,{scope:r,value:n,disabled:a,textValue:m,children:s.jsx(Bt.div,{role:"option","aria-labelledby":w,"data-highlighted":g?"":void 0,"aria-selected":h&&g,"data-state":h?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...o,ref:v,onFocus:pt(o.onFocus,()=>y(!0)),onBlur:pt(o.onBlur,()=>y(!1)),onClick:pt(o.onClick,()=>{j.current!=="mouse"&&b()}),onPointerUp:pt(o.onPointerUp,()=>{j.current==="mouse"&&b()}),onPointerDown:pt(o.onPointerDown,N=>{j.current=N.pointerType}),onPointerMove:pt(o.onPointerMove,N=>{j.current=N.pointerType,a?d.onItemLeave?.():j.current==="mouse"&&N.currentTarget.focus({preventScroll:!0})}),onPointerLeave:pt(o.onPointerLeave,N=>{N.currentTarget===document.activeElement&&d.onItemLeave?.()}),onKeyDown:pt(o.onKeyDown,N=>{d.searchRef?.current!==""&&N.key===" "||(QQ.includes(N.key)&&b(),N.key===" "&&N.preventDefault())})})})})});sO.displayName=s0;var $f="SelectItemText",rO=_.forwardRef((t,e)=>{const{__scopeSelect:r,className:n,style:a,...i}=t,o=ic($f,r),c=oc($f,r),d=tO($f,r),h=sJ($f,r),[m,f]=_.useState(null),g=Jt(e,b=>f(b),d.onItemTextChange,b=>c.itemTextRefCallback?.(b,d.value,d.disabled)),y=m?.textContent,v=_.useMemo(()=>s.jsx("option",{value:d.value,disabled:d.disabled,children:y},d.value),[d.disabled,d.value,y]),{onNativeOptionAdd:w,onNativeOptionRemove:j}=h;return bn(()=>(w(v),()=>j(v)),[w,j,v]),s.jsxs(s.Fragment,{children:[s.jsx(Bt.span,{id:d.textId,...i,ref:g}),d.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Mm.createPortal(i.children,o.valueNode):null]})});rO.displayName=$f;var nO="SelectItemIndicator",aO=_.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return tO(nO,r).isSelected?s.jsx(Bt.span,{"aria-hidden":!0,...n,ref:e}):null});aO.displayName=nO;var y_="SelectScrollUpButton",iO=_.forwardRef((t,e)=>{const r=oc(y_,t.__scopeSelect),n=YN(y_,t.__scopeSelect),[a,i]=_.useState(!1),o=Jt(e,n.onScrollButtonChange);return bn(()=>{if(r.viewport&&r.isPositioned){let c=function(){const h=d.scrollTop>0;i(h)};const d=r.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),a?s.jsx(lO,{...t,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=r;c&&d&&(c.scrollTop=c.scrollTop-d.offsetHeight)}}):null});iO.displayName=y_;var b_="SelectScrollDownButton",oO=_.forwardRef((t,e)=>{const r=oc(b_,t.__scopeSelect),n=YN(b_,t.__scopeSelect),[a,i]=_.useState(!1),o=Jt(e,n.onScrollButtonChange);return bn(()=>{if(r.viewport&&r.isPositioned){let c=function(){const h=d.scrollHeight-d.clientHeight,m=Math.ceil(d.scrollTop)<h;i(m)};const d=r.viewport;return c(),d.addEventListener("scroll",c),()=>d.removeEventListener("scroll",c)}},[r.viewport,r.isPositioned]),a?s.jsx(lO,{...t,ref:o,onAutoScroll:()=>{const{viewport:c,selectedItem:d}=r;c&&d&&(c.scrollTop=c.scrollTop+d.offsetHeight)}}):null});oO.displayName=b_;var lO=_.forwardRef((t,e)=>{const{__scopeSelect:r,onAutoScroll:n,...a}=t,i=oc("SelectScrollButton",r),o=_.useRef(null),c=Q0(r),d=_.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return _.useEffect(()=>()=>d(),[d]),bn(()=>{c().find(m=>m.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[c]),s.jsx(Bt.div,{"aria-hidden":!0,...a,ref:e,style:{flexShrink:0,...a.style},onPointerDown:pt(a.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(n,50))}),onPointerMove:pt(a.onPointerMove,()=>{i.onItemLeave?.(),o.current===null&&(o.current=window.setInterval(n,50))}),onPointerLeave:pt(a.onPointerLeave,()=>{d()})})}),mJ="SelectSeparator",cO=_.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t;return s.jsx(Bt.div,{"aria-hidden":!0,...n,ref:e})});cO.displayName=mJ;var v_="SelectArrow",pJ=_.forwardRef((t,e)=>{const{__scopeSelect:r,...n}=t,a=J0(r),i=ic(v_,r),o=oc(v_,r);return i.open&&o.position==="popper"?s.jsx(WN,{...a,...n,ref:e}):null});pJ.displayName=v_;var gJ="SelectBubbleInput",dO=_.forwardRef(({__scopeSelect:t,value:e,...r},n)=>{const a=_.useRef(null),i=Jt(n,a),o=Y0(e);return _.useEffect(()=>{const c=a.current;if(!c)return;const d=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==e&&m){const f=new Event("change",{bubbles:!0});m.call(c,e),c.dispatchEvent(f)}},[o,e]),s.jsx(Bt.select,{...r,style:{...TP,...r.style},ref:i,defaultValue:e})});dO.displayName=gJ;function uO(t){return t===""||t===void 0}function hO(t){const e=Ki(t),r=_.useRef(""),n=_.useRef(0),a=_.useCallback(o=>{const c=r.current+o;e(c),(function d(h){r.current=h,window.clearTimeout(n.current),h!==""&&(n.current=window.setTimeout(()=>d(""),1e3))})(c)},[e]),i=_.useCallback(()=>{r.current="",window.clearTimeout(n.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(n.current),[]),[r,a,i]}function fO(t,e,r){const a=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let o=xJ(t,Math.max(i,0));a.length===1&&(o=o.filter(h=>h!==r));const d=o.find(h=>h.textValue.toLowerCase().startsWith(a.toLowerCase()));return d!==r?d:void 0}function xJ(t,e){return t.map((r,n)=>t[(e+n)%t.length])}var yJ=zP,mO=$P,bJ=HP,vJ=qP,wJ=WP,pO=GP,jJ=ZP,gO=eO,xO=sO,_J=rO,NJ=aO,yO=iO,bO=oO,vO=cO;const ft=yJ,mt=bJ,ut=_.forwardRef(({className:t,children:e,...r},n)=>s.jsxs(mO,{ref:n,className:_t("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...r,children:[e,s.jsx(vJ,{asChild:!0,children:s.jsx(Z6,{className:"h-4 w-4 opacity-50"})})]}));ut.displayName=mO.displayName;const wO=_.forwardRef(({className:t,...e},r)=>s.jsx(yO,{ref:r,className:_t("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(oW,{className:"h-4 w-4"})}));wO.displayName=yO.displayName;const jO=_.forwardRef(({className:t,...e},r)=>s.jsx(bO,{ref:r,className:_t("flex cursor-default items-center justify-center py-1",t),...e,children:s.jsx(Z6,{className:"h-4 w-4"})}));jO.displayName=bO.displayName;const ht=_.forwardRef(({className:t,children:e,position:r="popper",...n},a)=>s.jsx(wJ,{children:s.jsxs(pO,{ref:a,className:_t("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",r==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:r,...n,children:[s.jsx(wO,{}),s.jsx(jJ,{className:_t("p-1",r==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),s.jsx(jO,{})]})}));ht.displayName=pO.displayName;const SJ=_.forwardRef(({className:t,...e},r)=>s.jsx(gO,{ref:r,className:_t("px-2 py-1.5 text-sm font-semibold",t),...e}));SJ.displayName=gO.displayName;const ke=_.forwardRef(({className:t,children:e,...r},n)=>s.jsxs(xO,{ref:n,className:_t("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[s.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(NJ,{children:s.jsx(ga,{className:"h-4 w-4"})})}),s.jsx(_J,{children:e})]}));ke.displayName=xO.displayName;const CJ=_.forwardRef(({className:t,...e},r)=>s.jsx(vO,{ref:r,className:_t("-mx-1 my-1 h-px bg-muted",t),...e}));CJ.displayName=vO.displayName;const _O=JSON.parse('[{"name":"Afghanistan","iso2":"AF","dialCode":"+93"},{"name":"Albania","iso2":"AL","dialCode":"+355"},{"name":"Algeria","iso2":"DZ","dialCode":"+213"},{"name":"American Samoa","iso2":"AS","dialCode":"+1684"},{"name":"Andorra","iso2":"AD","dialCode":"+376"},{"name":"Angola","iso2":"AO","dialCode":"+244"},{"name":"Anguilla","iso2":"AI","dialCode":"+1264"},{"name":"Antarctica","iso2":"AQ","dialCode":"+672"},{"name":"Antigua and Barbuda","iso2":"AG","dialCode":"+1268"},{"name":"Argentina","iso2":"AR","dialCode":"+54"},{"name":"Armenia","iso2":"AM","dialCode":"+374"},{"name":"Aruba","iso2":"AW","dialCode":"+297"},{"name":"Australia","iso2":"AU","dialCode":"+61"},{"name":"Austria","iso2":"AT","dialCode":"+43"},{"name":"Azerbaijan","iso2":"AZ","dialCode":"+994"},{"name":"Bahamas","iso2":"BS","dialCode":"+1242"},{"name":"Bahrain","iso2":"BH","dialCode":"+973"},{"name":"Bangladesh","iso2":"BD","dialCode":"+880"},{"name":"Barbados","iso2":"BB","dialCode":"+1246"},{"name":"Belarus","iso2":"BY","dialCode":"+375"},{"name":"Belgium","iso2":"BE","dialCode":"+32"},{"name":"Belize","iso2":"BZ","dialCode":"+501"},{"name":"Benin","iso2":"BJ","dialCode":"+229"},{"name":"Bermuda","iso2":"BM","dialCode":"+1441"},{"name":"Bhutan","iso2":"BT","dialCode":"+975"},{"name":"Bolivia","iso2":"BO","dialCode":"+591"},{"name":"Bosnia and Herzegovina","iso2":"BA","dialCode":"+387"},{"name":"Botswana","iso2":"BW","dialCode":"+267"},{"name":"Brazil","iso2":"BR","dialCode":"+55"},{"name":"British Indian Ocean Territory","iso2":"IO","dialCode":"+246"},{"name":"Brunei Darussalam","iso2":"BN","dialCode":"+673"},{"name":"Bulgaria","iso2":"BG","dialCode":"+359"},{"name":"Burkina Faso","iso2":"BF","dialCode":"+226"},{"name":"Burundi","iso2":"BI","dialCode":"+257"},{"name":"Cambodia","iso2":"KH","dialCode":"+855"},{"name":"Cameroon","iso2":"CM","dialCode":"+237"},{"name":"Canada","iso2":"CA","dialCode":"+1"},{"name":"Cape Verde","iso2":"CV","dialCode":"+238"},{"name":"Cayman Islands","iso2":"KY","dialCode":"+1345"},{"name":"Central African Republic","iso2":"CF","dialCode":"+236"},{"name":"Chad","iso2":"TD","dialCode":"+235"},{"name":"Chile","iso2":"CL","dialCode":"+56"},{"name":"China","iso2":"CN","dialCode":"+86"},{"name":"Colombia","iso2":"CO","dialCode":"+57"},{"name":"Comoros","iso2":"KM","dialCode":"+269"},{"name":"Congo","iso2":"CG","dialCode":"+242"},{"name":"Costa Rica","iso2":"CR","dialCode":"+506"},{"name":"Croatia","iso2":"HR","dialCode":"+385"},{"name":"Cuba","iso2":"CU","dialCode":"+53"},{"name":"Cyprus","iso2":"CY","dialCode":"+357"},{"name":"Czech Republic","iso2":"CZ","dialCode":"+420"},{"name":"Denmark","iso2":"DK","dialCode":"+45"},{"name":"Djibouti","iso2":"DJ","dialCode":"+253"},{"name":"Dominica","iso2":"DM","dialCode":"+1767"},{"name":"Dominican Republic","iso2":"DO","dialCode":"+1849"},{"name":"Ecuador","iso2":"EC","dialCode":"+593"},{"name":"Egypt","iso2":"EG","dialCode":"+20"},{"name":"El Salvador","iso2":"SV","dialCode":"+503"},{"name":"Equatorial Guinea","iso2":"GQ","dialCode":"+240"},{"name":"Eritrea","iso2":"ER","dialCode":"+291"},{"name":"Estonia","iso2":"EE","dialCode":"+372"},{"name":"Ethiopia","iso2":"ET","dialCode":"+251"},{"name":"Fiji","iso2":"FJ","dialCode":"+679"},{"name":"Finland","iso2":"FI","dialCode":"+358"},{"name":"France","iso2":"FR","dialCode":"+33"},{"name":"Gabon","iso2":"GA","dialCode":"+241"},{"name":"Gambia","iso2":"GM","dialCode":"+220"},{"name":"Georgia","iso2":"GE","dialCode":"+995"},{"name":"Germany","iso2":"DE","dialCode":"+49"},{"name":"Ghana","iso2":"GH","dialCode":"+233"},{"name":"Greece","iso2":"GR","dialCode":"+30"},{"name":"Greenland","iso2":"GL","dialCode":"+299"},{"name":"Guatemala","iso2":"GT","dialCode":"+502"},{"name":"Guinea","iso2":"GN","dialCode":"+224"},{"name":"GuineaBissau","iso2":"GW","dialCode":"+245"},{"name":"Guyana","iso2":"GY","dialCode":"+592"},{"name":"Haiti","iso2":"HT","dialCode":"+509"},{"name":"Honduras","iso2":"HN","dialCode":"+504"},{"name":"Hungary","iso2":"HU","dialCode":"+36"},{"name":"Iceland","iso2":"IS","dialCode":"+354"},{"name":"India","iso2":"IN","dialCode":"+91"},{"name":"Indonesia","iso2":"ID","dialCode":"+62"},{"name":"Iran","iso2":"IR","dialCode":"+98"},{"name":"Iraq","iso2":"IQ","dialCode":"+964"},{"name":"Ireland","iso2":"IE","dialCode":"+353"},{"name":"Israel","iso2":"IL","dialCode":"+972"},{"name":"Italy","iso2":"IT","dialCode":"+39"},{"name":"Jamaica","iso2":"JM","dialCode":"+1876"},{"name":"Japan","iso2":"JP","dialCode":"+81"},{"name":"Jordan","iso2":"JO","dialCode":"+962"},{"name":"Kazakhstan","iso2":"KZ","dialCode":"+7"},{"name":"Kenya","iso2":"KE","dialCode":"+254"},{"name":"Kiribati","iso2":"KI","dialCode":"+686"},{"name":"Kuwait","iso2":"KW","dialCode":"+965"},{"name":"Kyrgyzstan","iso2":"KG","dialCode":"+996"},{"name":"Laos","iso2":"LA","dialCode":"+856"},{"name":"Latvia","iso2":"LV","dialCode":"+371"},{"name":"Lebanon","iso2":"LB","dialCode":"+961"},{"name":"Lesotho","iso2":"LS","dialCode":"+266"},{"name":"Liberia","iso2":"LR","dialCode":"+231"},{"name":"Libya","iso2":"LY","dialCode":"+218"},{"name":"Liechtenstein","iso2":"LI","dialCode":"+423"},{"name":"Lithuania","iso2":"LT","dialCode":"+370"},{"name":"Luxembourg","iso2":"LU","dialCode":"+352"},{"name":"Madagascar","iso2":"MG","dialCode":"+261"},{"name":"Malawi","iso2":"MW","dialCode":"+265"},{"name":"Malaysia","iso2":"MY","dialCode":"+60"},{"name":"Maldives","iso2":"MV","dialCode":"+960"},{"name":"Mali","iso2":"ML","dialCode":"+223"},{"name":"Malta","iso2":"MT","dialCode":"+356"},{"name":"Marshall Islands","iso2":"MH","dialCode":"+692"},{"name":"Mauritania","iso2":"MR","dialCode":"+222"},{"name":"Mauritius","iso2":"MU","dialCode":"+230"},{"name":"Mexico","iso2":"MX","dialCode":"+52"},{"name":"Micronesia","iso2":"FM","dialCode":"+691"},{"name":"Moldova","iso2":"MD","dialCode":"+373"},{"name":"Monaco","iso2":"MC","dialCode":"+377"},{"name":"Mongolia","iso2":"MN","dialCode":"+976"},{"name":"Montenegro","iso2":"ME","dialCode":"+382"},{"name":"Morocco","iso2":"MA","dialCode":"+212"},{"name":"Mozambique","iso2":"MZ","dialCode":"+258"},{"name":"Myanmar","iso2":"MM","dialCode":"+95"},{"name":"Namibia","iso2":"NA","dialCode":"+264"},{"name":"Nauru","iso2":"NR","dialCode":"+674"},{"name":"Nepal","iso2":"NP","dialCode":"+977"},{"name":"Netherlands","iso2":"NL","dialCode":"+31"},{"name":"New Zealand","iso2":"NZ","dialCode":"+64"},{"name":"Nicaragua","iso2":"NI","dialCode":"+505"},{"name":"Niger","iso2":"NE","dialCode":"+227"},{"name":"Nigeria","iso2":"NG","dialCode":"+234"},{"name":"North Korea","iso2":"KP","dialCode":"+850"},{"name":"North Macedonia","iso2":"MK","dialCode":"+389"},{"name":"Norway","iso2":"NO","dialCode":"+47"},{"name":"Oman","iso2":"OM","dialCode":"+968"},{"name":"Pakistan","iso2":"PK","dialCode":"+92"},{"name":"Palau","iso2":"PW","dialCode":"+680"},{"name":"Palestine","iso2":"PS","dialCode":"+970"},{"name":"Panama","iso2":"PA","dialCode":"+507"},{"name":"Papua New Guinea","iso2":"PG","dialCode":"+675"},{"name":"Paraguay","iso2":"PY","dialCode":"+595"},{"name":"Peru","iso2":"PE","dialCode":"+51"},{"name":"Philippines","iso2":"PH","dialCode":"+63"},{"name":"Poland","iso2":"PL","dialCode":"+48"},{"name":"Portugal","iso2":"PT","dialCode":"+351"},{"name":"Puerto Rico","iso2":"PR","dialCode":"+1"},{"name":"Qatar","iso2":"QA","dialCode":"+974"},{"name":"Romania","iso2":"RO","dialCode":"+40"},{"name":"Russia","iso2":"RU","dialCode":"+7"},{"name":"Rwanda","iso2":"RW","dialCode":"+250"},{"name":"Saint Kitts and Nevis","iso2":"KN","dialCode":"+1869"},{"name":"Saint Lucia","iso2":"LC","dialCode":"+1758"},{"name":"Saint Vincent and the Grenadines","iso2":"VC","dialCode":"+1784"},{"name":"Samoa","iso2":"WS","dialCode":"+685"},{"name":"San Marino","iso2":"SM","dialCode":"+378"},{"name":"Sao Tome and Principe","iso2":"ST","dialCode":"+239"},{"name":"Saudi Arabia","iso2":"SA","dialCode":"+966"},{"name":"Senegal","iso2":"SN","dialCode":"+221"},{"name":"Serbia","iso2":"RS","dialCode":"+381"},{"name":"Seychelles","iso2":"SC","dialCode":"+248"},{"name":"Sierra Leone","iso2":"SL","dialCode":"+232"},{"name":"Singapore","iso2":"SG","dialCode":"+65"},{"name":"Slovakia","iso2":"SK","dialCode":"+421"},{"name":"Slovenia","iso2":"SI","dialCode":"+386"},{"name":"Solomon Islands","iso2":"SB","dialCode":"+677"},{"name":"Somalia","iso2":"SO","dialCode":"+252"},{"name":"South Africa","iso2":"ZA","dialCode":"+27"},{"name":"South Korea","iso2":"KR","dialCode":"+82"},{"name":"South Sudan","iso2":"SS","dialCode":"+211"},{"name":"Spain","iso2":"ES","dialCode":"+34"},{"name":"Sri Lanka","iso2":"LK","dialCode":"+94"},{"name":"Sudan","iso2":"SD","dialCode":"+249"},{"name":"Suriname","iso2":"SR","dialCode":"+597"},{"name":"Sweden","iso2":"SE","dialCode":"+46"},{"name":"Switzerland","iso2":"CH","dialCode":"+41"},{"name":"Syria","iso2":"SY","dialCode":"+963"},{"name":"Taiwan","iso2":"TW","dialCode":"+886"},{"name":"Tajikistan","iso2":"TJ","dialCode":"+992"},{"name":"Tanzania","iso2":"TZ","dialCode":"+255"},{"name":"Thailand","iso2":"TH","dialCode":"+66"},{"name":"Timor-Leste","iso2":"TL","dialCode":"+670"},{"name":"Togo","iso2":"TG","dialCode":"+228"},{"name":"Tonga","iso2":"TO","dialCode":"+676"},{"name":"Trinidad and Tobago","iso2":"TT","dialCode":"+1868"},{"name":"Tunisia","iso2":"TN","dialCode":"+216"},{"name":"Turkey","iso2":"TR","dialCode":"+90"},{"name":"Turkmenistan","iso2":"TM","dialCode":"+993"},{"name":"Tuvalu","iso2":"TV","dialCode":"+688"},{"name":"Uganda","iso2":"UG","dialCode":"+256"},{"name":"Ukraine","iso2":"UA","dialCode":"+380"},{"name":"United Arab Emirates","iso2":"AE","dialCode":"+971"},{"name":"United Kingdom","iso2":"GB","dialCode":"+44"},{"name":"United States","iso2":"US","dialCode":"+1"},{"name":"Uruguay","iso2":"UY","dialCode":"+598"},{"name":"Uzbekistan","iso2":"UZ","dialCode":"+998"},{"name":"Vanuatu","iso2":"VU","dialCode":"+678"},{"name":"Vatican City","iso2":"VA","dialCode":"+379"},{"name":"Venezuela","iso2":"VE","dialCode":"+58"},{"name":"Vietnam","iso2":"VN","dialCode":"+84"},{"name":"Yemen","iso2":"YE","dialCode":"+967"},{"name":"Zambia","iso2":"ZM","dialCode":"+260"},{"name":"Zimbabwe","iso2":"ZW","dialCode":"+263"}]'),kJ=t=>t.replace(/\D/g,""),dw=({countries:t,iso2:e,setIso2:r,phone:n,setPhone:a,disabledPhone:i})=>s.jsxs("div",{className:"flex gap-2 w-full",children:[s.jsx("select",{value:e,onChange:o=>r(o.target.value),className:"w-[100px] sm:w-[120px] shrink-0 bg-white dark:bg-gray-800 text-gray-900 dark:text-white p-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm focus:ring-2 focus:ring-[#00A19C] focus:border-transparent transition-all",disabled:i,children:t.map(o=>s.jsxs("option",{value:o.iso2,children:[o.iso2," (",o.dialCode,")"]},o.iso2))}),s.jsx("input",{type:"tel",inputMode:"numeric",value:n,onChange:o=>a(kJ(o.target.value)),placeholder:"70123456",className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-800 text-sm focus:ring-2 focus:ring-[#00A19C] focus:border-transparent transition-all",disabled:i})]});function AJ(){const t=sn(),[e,r]=_.useState("login"),[n,a]=_.useState(!1),[i,o]=_.useState(!1),c=_.useMemo(()=>_O.map(Ge=>({name:Ge.name,iso2:Ge.iso2,dialCode:Ge.dialCode.startsWith("+")?Ge.dialCode:`+${Ge.dialCode}`})).sort((Ge,Ze)=>Ge.name.localeCompare(Ze.name)),[]),d=_.useMemo(()=>{const Ge=new Map;for(const Ze of c)Ge.set(Ze.iso2,Ze.dialCode);return Ge},[c]),h=Ge=>d.get(Ge)||"+961",[m,f]=_.useState(""),[g,y]=_.useState("LB"),[v,w]=_.useState(""),j=async()=>{const Ge=`${h(g)}${m.replace(/^0+/,"")}`;if(!m||!v)return ve.error("Please fill all fields");if(!/^\+\d{8,15}$/.test(Ge))return ve.error("Invalid phone number.");try{a(!0);const Ze=await Oe.post("/auth/login",{phone_number:Ge,password:v});if(localStorage.setItem("authToken",Ze.data.token),localStorage.setItem("token",Ze.data.token),localStorage.setItem("user",JSON.stringify(Ze.data.user)),ve.success("Login successful!"),!Ze.data.user.profile_complete){t("/Complete-Profile");return}Ze.data.user.role==="agency"||Ze.data.user.role==="agency"?t("/Dashboard"):t("/")}catch(Ze){ve.error(Ze.response?.data?.message||"Login failed.")}finally{a(!1)}},[b,N]=_.useState(""),[k,S]=_.useState("LB"),[C,B]=_.useState(!1),[E,z]=_.useState(""),[T,W]=_.useState(!1),[U,L]=_.useState(!1),[Z,O]=_.useState(0),[se,K]=_.useState({username:"",first_name:"",last_name:"",license_number:"",password:"",password_confirmation:"",role:"client",business_type:""}),[M,X]=_.useState({username:!1,first_name:!1,last_name:!1,license_number:!1,password:!1,password_confirmation:!1,role:!1,business_type:!1,terms:!1}),[$,oe]=_.useState(!1),q=_.useRef(null),Y=_.useRef(null),ce=_.useRef(null),le=_.useRef(null),be=_.useRef(null),ge=_.useRef(null),V=_.useRef(null);_.useEffect(()=>{let Ge;return Z>0&&(Ge=setInterval(()=>{O(Ze=>Ze<=1?(L(!0),0):Ze-1)},1e3)),()=>clearInterval(Ge)},[Z]);const H=()=>{N(""),B(!1),z(""),W(!1),L(!1),O(0),oe(!1),K({username:"",first_name:"",last_name:"",license_number:"",password:"",password_confirmation:"",role:"client",business_type:""}),X({username:!1,first_name:!1,last_name:!1,license_number:!1,password:!1,password_confirmation:!1,role:!1,business_type:!1,terms:!1})},me=()=>{B(!1),z(""),W(!1),L(!1),O(0),N("")},Q=async()=>{if(!b)return ve.error("Please enter a phone number.");const Ge=`${h(k)}${b.replace(/^0+/,"")}`;if(!/^\+\d{8,15}$/.test(Ge))return ve.error("Please enter a valid phone number with country code.");try{a(!0);const Ze=MM(),Ke=await PM(Ge,Ze);Ke.message&&ve.success(Ke.message),Ke.warning&&ve.warning(Ke.warning),B(!0),L(!1),O(60)}catch(Ze){if(Ze.response?.status===429){const Ke=Ze.response?.headers?.["retry-after"],us=Ke?parseInt(Ke,10):60;!Number.isNaN(us)&&us>0?ve.error(`Too many attempts. Try again in ${us} second${us!==1?"s":""}.`):ve.error("Too many attempts. Try again in a minute.")}else if(Ze.response?.status===422&&Ze.response?.data?.errors){const Ke=Ze.response.data.errors;Object.keys(Ke).forEach(us=>{(Ke[us]||[]).forEach(Es=>ve.error(Es))})}else Ze.response?.data?.error?ve.error(Ze.response.data.error):ve.error(Ze.response?.data?.message||"Failed to send OTP. Please try again.")}finally{a(!1)}},te=async()=>{U&&await Q()},ee=async()=>{if(!E)return ve.error("Please enter the OTP code.");if(E.length!==6)return ve.error("OTP code must be 6 digits.");const Ge=`${h(k)}${b.replace(/^0+/,"")}`;try{a(!0);const Ze=await OM(Ge,E);Ze.message?ve.success(Ze.message):ve.success("OTP verified! Complete your registration."),W(!0)}catch(Ze){Ze.response?.data?.error?ve.error(Ze.response.data.error):ve.error(Ze.response?.data?.message||"Invalid or expired OTP.")}finally{a(!1)}},Ce=async()=>{let Ge=!1;const Ze={username:!1,first_name:!1,last_name:!1,license_number:!1,password:!1,password_confirmation:!1,role:!1,business_type:!1,terms:!1};if(se.username.trim()||(Ze.username=!0,Ge=!0),se.first_name.trim()||(Ze.first_name=!0,Ge=!0),se.last_name.trim()||(Ze.last_name=!0,Ge=!0),se.role==="client"&&!se.license_number.trim()&&(Ze.license_number=!0,Ge=!0),se.password||(Ze.password=!0,Ge=!0),se.password!==se.password_confirmation&&(Ze.password=!0,Ze.password_confirmation=!0,Ge=!0),se.password.length<6&&(Ze.password=!0,Ge=!0),se.password_confirmation||(Ze.password_confirmation=!0,Ge=!0),$||(Ze.terms=!0,Ge=!0),Ge){X(Ze);const us=["username","first_name","last_name","license_number","password","password_confirmation","terms"],Es={username:q,first_name:Y,last_name:ce,license_number:le,password:be,password_confirmation:ge,terms:V},Cs=us.find(jn=>Ze[jn]);if(Cs){const $s=Es[Cs]?.current;$s&&(typeof $s.focus=="function"&&$s.focus(),$s.scrollIntoView({behavior:"smooth",block:"center"}))}ve.error("Please fill in the required fields highlighted in red.");return}const Ke=`${h(k)}${b.replace(/^0+/,"")}`;try{a(!0);const Es={phone_number:Ke.replace(/^\+/,""),otp_code:E,...se,role:"client"},Cs=await Oe.post("/auth/register",Es);localStorage.setItem("authToken",Cs.data.token),localStorage.setItem("token",Cs.data.token),localStorage.setItem("user",JSON.stringify(Cs.data.user)),ve.success("Registration successful! Please complete your profile."),t("/Complete-Profile")}catch(us){us.response?.data?.errors?Object.keys(us.response.data.errors).forEach(Es=>{us.response.data.errors[Es].forEach(Cs=>ve.error(Cs))}):ve.error(us.response?.data?.message||"Registration failed.")}finally{a(!1)}},[F,Ee]=_.useState(""),[J,R]=_.useState("LB"),[P,G]=_.useState(!1),[we,de]=_.useState(""),[he,xe]=_.useState(""),[Me,Re]=_.useState(""),[$e,Je]=_.useState(!1),[st,Nt]=_.useState(0);_.useEffect(()=>{let Ge;return st>0&&(Ge=setInterval(()=>{Nt(Ze=>Ze<=1?(Je(!0),0):Ze-1)},1e3)),()=>clearInterval(Ge)},[st]);const St=()=>{o(!1),Ee(""),G(!1),de(""),xe(""),Re(""),Je(!1),Nt(0)},Ht=()=>{Ee(""),G(!1),de(""),xe(""),Re(""),Je(!1),Nt(0)},As=async()=>{if(!F)return ve.error("Please enter your phone number.");const Ge=`${h(J)}${F.replace(/^0+/,"")}`;if(!/^\+\d{8,15}$/.test(Ge))return ve.error("Please enter a valid phone number with country code.");try{a(!0);const Ze=await LK(Ge);Ze.message&&ve.success(Ze.message),Ze.warning&&ve.warning(Ze.warning),G(!0),Je(!1),Nt(60)}catch(Ze){if(Ze.response?.status===429)ve.error("Too many requests. Please try again in a minute.");else if(Ze.response?.data?.error)ve.error(Ze.response.data.error);else if(Ze.response?.data?.errors){const Ke=Ze.response.data.errors;Object.keys(Ke).forEach(us=>{Ke[us].forEach(Es=>ve.error(Es))})}else ve.error(Ze.response?.data?.message||"Failed to send OTP.")}finally{a(!1)}},kt=async()=>{$e&&await As()},ds=async()=>{if(!we)return ve.error("Please enter the OTP code.");if(we.length!==6)return ve.error("OTP code must be 6 digits.");if(!he||!Me)return ve.error("Please enter your new password.");if(he!==Me)return ve.error("Passwords do not match!");if(he.length<6)return ve.error("Password must be at least 6 characters long.");const Ge=`${h(J)}${F.replace(/^0+/,"")}`,Ze=Ge.trim().startsWith("+")?Ge:`+${Ge}`;try{a(!0);const Ke=await Oe.post("/auth/reset-password",{phone_number:Ze,otp_code:we,new_password:he,new_password_confirmation:Me});ve.success(Ke.data?.message||"Password reset successfully! You can now login."),St(),r("login")}catch(Ke){if(Ke.response?.data?.error)ve.error(Ke.response.data.error);else if(Ke.response?.data?.errors){const us=Ke.response.data.errors;Object.keys(us).forEach(Es=>{us[Es].forEach(Cs=>ve.error(Cs))})}else ve.error(Ke.response?.data?.message||"Failed to reset password.")}finally{a(!1)}};return i?s.jsxs("div",{className:"min-h-screen flex items-center justify-center px-4 py-8 bg-gradient-to-br from-gray-50 via-white to-[#8EDC81]/10 dark:from-gray-950 dark:via-gray-900 dark:to-gray-800 relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-[#1e5f7a]/10 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-[#00A19C]/10 rounded-full blur-3xl animate-pulse animation-delay-700"}),s.jsx("div",{className:"absolute top-1/2 left-1/2 w-96 h-96 bg-[#8EDC81]/10 rounded-full blur-3xl animate-pulse animation-delay-1400"})]}),s.jsxs("div",{className:"w-full max-w-md relative z-10 animate-fade-in-up",children:[s.jsxs(pe,{variant:"ghost",onClick:St,className:"mb-6 hover:bg-[#00A19C]/10 transition-all hover:scale-105",children:[s.jsx(Ui,{className:"w-4 h-4 mr-2"}),"Back to Login"]}),s.jsxs("div",{className:"flex flex-col items-center mb-8 animate-fade-in",children:[s.jsx("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] flex items-center justify-center shadow-xl shadow-[#00A19C]/30 mb-4 animate-float",children:s.jsx(Kt,{className:"w-10 h-10 text-white"})}),s.jsx("h1",{className:"text-4xl font-black bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] bg-clip-text text-transparent",children:"Rento LB"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2 font-medium",children:"Reset Your Password"})]}),s.jsxs(Ue,{className:"border-2 border-gray-200 dark:border-gray-700 hover:border-[#00A19C] transition-all duration-500 hover:shadow-2xl hover:shadow-[#00A19C]/20 bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm",children:[s.jsxs(ps,{children:[s.jsx(gs,{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Reset Password"}),s.jsx(hm,{children:"Enter your phone number to receive an OTP"})]}),s.jsx(qe,{children:s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Phone Number"}),s.jsx(dw,{countries:c,iso2:J,setIso2:R,phone:F,setPhone:Ee,disabledPhone:!1}),P&&s.jsx(pe,{type:"button",variant:"link",size:"sm",onClick:Ht,className:"px-0 text-[#00A19C] hover:text-[#8EDC81] transition-colors",children:"Change number"})]}),P&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"space-y-2 animate-fade-in-up",children:[s.jsx(ue,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"OTP Code"}),s.jsx(Se,{type:"text",inputMode:"numeric",value:we,onChange:Ge=>{const Ze=Ge.target.value.replace(/\D/g,"");Ze.length<=6&&de(Ze)},placeholder:"Enter 6-digit OTP",maxLength:6,className:"border-2 border-gray-300 dark:border-gray-600 focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all"}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Check your phone"}),st>0?s.jsxs("p",{className:"text-xs text-[#00A19C] font-semibold",children:["Resend in ",st,"s"]}):s.jsxs(pe,{type:"button",variant:"link",size:"sm",onClick:kt,disabled:!$e||n,className:"h-auto p-0 text-xs text-[#00A19C] hover:text-[#8EDC81] transition-colors",children:[s.jsx(Mt,{className:"w-3 h-3 mr-1"}),"Resend OTP"]})]})]}),s.jsxs("div",{className:"space-y-2 animate-fade-in-up animation-delay-200",children:[s.jsx(ue,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Il,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx(Se,{type:"password",value:he,onChange:Ge=>xe(Ge.target.value),className:"pl-10 border-2 border-gray-300 dark:border-gray-600 focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all",minLength:6,placeholder:"At least 6 characters"})]})]}),s.jsxs("div",{className:"space-y-2 animate-fade-in-up animation-delay-300",children:[s.jsx(ue,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Confirm New Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Il,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx(Se,{type:"password",value:Me,onChange:Ge=>Re(Ge.target.value),className:"pl-10 border-2 border-gray-300 dark:border-gray-600 focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all",placeholder:"Re-enter password"})]})]})]}),P?s.jsx(pe,{onClick:ds,className:"w-full bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] hover:from-[#184a5e] hover:via-[#008c88] hover:to-[#7bc876] text-white font-bold py-6 rounded-xl shadow-lg shadow-[#00A19C]/30 hover:shadow-xl hover:shadow-[#00A19C]/40 transition-all duration-300 hover:scale-105",disabled:n,children:n?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Mt,{className:"w-4 h-4 animate-spin"}),"Resetting..."]}):"Reset Password"}):s.jsx(pe,{onClick:As,className:"w-full bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] hover:from-[#184a5e] hover:via-[#008c88] hover:to-[#7bc876] text-white font-bold py-6 rounded-xl shadow-lg shadow-[#00A19C]/30 hover:shadow-xl hover:shadow-[#00A19C]/40 transition-all duration-300 hover:scale-105",disabled:n,children:n?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Mt,{className:"w-4 h-4 animate-spin"}),"Sending..."]}):"Send OTP"})]})})]})]})]}):s.jsxs("div",{className:"min-h-screen flex items-center justify-center px-4 py-8 bg-gradient-to-br from-gray-50 via-white to-[#8EDC81]/10 dark:from-gray-950 dark:via-gray-900 dark:to-gray-800 relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-[#1e5f7a]/10 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-[#00A19C]/10 rounded-full blur-3xl animate-pulse animation-delay-700"}),s.jsx("div",{className:"absolute top-1/2 left-1/2 w-96 h-96 bg-[#8EDC81]/10 rounded-full blur-3xl animate-pulse animation-delay-1400"}),s.jsx("div",{className:"absolute top-[10%] left-[15%] w-3 h-3 bg-[#00A19C] rounded-full animate-float animation-delay-500 opacity-20"}),s.jsx("div",{className:"absolute top-[60%] left-[80%] w-4 h-4 bg-[#8EDC81] rounded-full animate-float animation-delay-1000 opacity-20"}),s.jsx("div",{className:"absolute top-[80%] left-[20%] w-2 h-2 bg-[#1e5f7a] rounded-full animate-float animation-delay-1500 opacity-20"}),s.jsx("div",{className:"absolute top-[30%] left-[70%] w-3 h-3 bg-[#00A19C] rounded-full animate-float animation-delay-2000 opacity-20"})]}),s.jsxs("div",{className:"w-full max-w-md relative z-10 animate-fade-in-up",children:[s.jsxs(pe,{variant:"ghost",onClick:()=>t("/"),className:"mb-6 hover:bg-[#00A19C]/10 transition-all hover:scale-105 group",children:[s.jsx(Ui,{className:"w-4 h-4 mr-2 group-hover:-translate-x-1 transition-transform"}),"Back to Home"]}),s.jsxs("div",{className:"flex flex-col items-center mb-8 animate-fade-in",children:[s.jsx("div",{className:"w-24 h-24 rounded-2xl flex items-center justify-center mb-4 animate-float hover:scale-110 transition-transform duration-300 cursor-pointer shadow-md shadow-gray-400/20",children:s.jsx("img",{src:"/rentologo.png",alt:"Rento LB Logo",className:"w-24 h-24 object-contain"})}),s.jsx("h1",{className:"text-4xl font-black bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] bg-clip-text text-transparent mb-2",children:"Rento LB"}),s.jsxs("p",{className:"text-gray-600 dark:text-gray-400 font-medium flex items-center gap-2",children:[s.jsx(Ul,{className:"w-4 h-4 text-[#00A19C]"}),"Lebanon's Premier Car Rental",s.jsx(Ul,{className:"w-4 h-4 text-[#8EDC81]"})]})]}),s.jsxs(Ue,{className:"border-2 border-gray-200 dark:border-gray-700 hover:border-[#00A19C] transition-all duration-500 hover:shadow-2xl hover:shadow-[#00A19C]/20 bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm",children:[s.jsxs(ps,{className:"text-center",children:[s.jsx(gs,{className:"text-3xl font-black text-gray-900 dark:text-white",children:"Welcome Back"}),s.jsx(hm,{className:"text-base",children:"Login or register to access your account"})]}),s.jsxs(qe,{children:[s.jsxs($o,{value:e,onValueChange:Ge=>{r(Ge),Ge==="register"&&H()},className:"w-full",children:[s.jsxs(Xi,{className:"grid w-full grid-cols-2 mb-6 bg-gray-100 dark:bg-gray-700 p-1 rounded-xl",children:[s.jsx($t,{value:"login",className:"rounded-lg data-[state=active]:bg-gradient-to-r data-[state=active]:from-[#1e5f7a] data-[state=active]:via-[#00A19C] data-[state=active]:to-[#8EDC81] data-[state=active]:text-white font-semibold transition-all",children:"Login"}),s.jsx($t,{value:"register",className:"rounded-lg data-[state=active]:bg-gradient-to-r data-[state=active]:from-[#1e5f7a] data-[state=active]:via-[#00A19C] data-[state=active]:to-[#8EDC81] data-[state=active]:text-white font-semibold transition-all",children:"Register"})]}),s.jsx(Zt,{value:"login",className:"animate-fade-in",children:s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ue,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[s.jsx(ui,{className:"w-4 h-4 text-[#00A19C]"}),"Phone Number"]}),s.jsx(dw,{countries:c,iso2:g,setIso2:y,phone:m,setPhone:f,disabledPhone:!1})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ue,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[s.jsx(Il,{className:"w-4 h-4 text-[#00A19C]"}),"Password"]}),s.jsxs("div",{className:"relative",children:[s.jsx(Il,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx(Se,{type:"password",value:v,onChange:Ge=>w(Ge.target.value),className:"pl-10 border-2 border-gray-300 dark:border-gray-600 focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all",placeholder:"Enter your password",onKeyPress:Ge=>Ge.key==="Enter"&&j()})]})]}),s.jsx(pe,{type:"button",variant:"link",className:"w-full text-sm p-0 h-auto text-[#00A19C] hover:text-[#8EDC81] font-semibold transition-colors",onClick:()=>o(!0),children:"Forgot Password?"}),s.jsx(pe,{onClick:j,disabled:n,className:"w-full bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] hover:from-[#184a5e] hover:via-[#008c88] hover:to-[#7bc876] text-white font-bold py-6 rounded-xl shadow-lg shadow-[#00A19C]/30 hover:shadow-xl hover:shadow-[#00A19C]/40 transition-all duration-300 hover:scale-105 group",children:n?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Mt,{className:"w-5 h-5 animate-spin"}),"Logging in..."]}):s.jsxs("span",{className:"flex items-center gap-2",children:["Login",s.jsx(Ui,{className:"w-5 h-5 rotate-180 group-hover:translate-x-1 transition-transform"})]})})]})}),s.jsx(Zt,{value:"register",className:"animate-fade-in",children:T?s.jsxs("div",{className:"space-y-5 animate-fade-in",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ue,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[s.jsx(Yi,{className:"w-4 h-4 text-[#00A19C]"}),"Username"]}),s.jsxs("div",{className:"relative",children:[s.jsx(Yi,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx(Se,{type:"text",ref:q,value:se.username,onChange:Ge=>{K({...se,username:Ge.target.value}),X(Ze=>({...Ze,username:!1}))},className:`pl-10 border-2 ${M.username?"border-red-500":"border-gray-300 dark:border-gray-600"} focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all`,placeholder:"Choose a username"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"First Name"}),s.jsx(Se,{type:"text",ref:Y,value:se.first_name,onChange:Ge=>{K({...se,first_name:Ge.target.value}),X(Ze=>({...Ze,first_name:!1}))},className:`border-2 ${M.first_name?"border-red-500":"border-gray-300 dark:border-gray-600"} focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all`,placeholder:"First name"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Last Name"}),s.jsx(Se,{type:"text",ref:ce,value:se.last_name,onChange:Ge=>{K({...se,last_name:Ge.target.value}),X(Ze=>({...Ze,last_name:!1}))},className:`border-2 ${M.last_name?"border-red-500":"border-gray-300 dark:border-gray-600"} focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all`,placeholder:"Last name"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Driver's License Number"}),s.jsx(Se,{type:"text",ref:le,value:se.license_number,onChange:Ge=>{K({...se,license_number:Ge.target.value}),X(Ze=>({...Ze,license_number:!1}))},className:`border-2 ${M.license_number?"border-red-500":"border-gray-300 dark:border-gray-600"} focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all`,placeholder:"License number"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ue,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[s.jsx(Il,{className:"w-4 h-4 text-[#00A19C]"}),"Password"]}),s.jsx(Se,{type:"password",ref:be,value:se.password,onChange:Ge=>{K({...se,password:Ge.target.value}),X(Ze=>({...Ze,password:!1}))},minLength:6,className:`border-2 ${M.password?"border-red-500":"border-gray-300 dark:border-gray-600"} focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all`,placeholder:"At least 6 characters"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Minimum 6 characters"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Confirm Password"}),s.jsx(Se,{type:"password",ref:ge,value:se.password_confirmation,onChange:Ge=>{K({...se,password_confirmation:Ge.target.value}),X(Ze=>({...Ze,password_confirmation:!1}))},className:`border-2 ${M.password_confirmation?"border-red-500":"border-gray-300 dark:border-gray-600"} focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all`,placeholder:"Re-enter password"})]}),s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("input",{type:"checkbox",id:"terms-accept",ref:V,checked:$,onChange:Ge=>{oe(Ge.target.checked),X(Ze=>({...Ze,terms:!1}))},className:`mt-1 h-4 w-4 rounded ${M.terms?"border-red-500":"border-gray-300"} text-[#00A19C] focus:ring-[#00A19C]`}),s.jsxs(ue,{htmlFor:"terms-accept",className:"text-sm text-gray-600 dark:text-gray-400 cursor-pointer leading-tight",children:["I accept the"," ",s.jsx("a",{href:"/Terms-and-Conditions",target:"_blank",rel:"noopener noreferrer",className:"text-[#00A19C] hover:underline font-medium",children:"Terms of Use"})," ","and"," ",s.jsx("a",{href:"/Privacy-Policy",target:"_blank",rel:"noopener noreferrer",className:"text-[#00A19C] hover:underline font-medium",children:"Privacy Policy"}),s.jsx("span",{className:"text-red-500",children:" *"})]})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(pe,{variant:"outline",onClick:()=>W(!1),className:"w-1/3 border-2 border-gray-300 hover:border-[#00A19C] hover:bg-[#00A19C]/10 transition-all",disabled:n,children:"Back"}),s.jsx(pe,{onClick:Ce,className:"w-2/3 bg-gradient-to-r from-[#00A19C] to-[#8EDC81] hover:from-[#008c88] hover:to-[#7bc876] text-white font-bold py-6 rounded-xl shadow-lg shadow-[#00A19C]/30 hover:shadow-xl hover:shadow-[#00A19C]/40 transition-all duration-300 hover:scale-105",disabled:n,children:n?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Mt,{className:"w-5 h-5 animate-spin"}),"Registering..."]}):"Complete Registration"})]})]}):s.jsxs("div",{className:"space-y-5",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ue,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[s.jsx(ui,{className:"w-4 h-4 text-[#00A19C]"}),"Phone Number"]}),s.jsx(dw,{countries:c,iso2:k,setIso2:S,phone:b,setPhone:N,disabledPhone:C})]}),C&&s.jsxs("div",{className:"space-y-2 animate-fade-in-up",children:[s.jsx(ue,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"OTP Code"}),s.jsx(Se,{type:"text",inputMode:"numeric",value:E,onChange:Ge=>{const Ze=Ge.target.value.replace(/\D/g,"");Ze.length<=6&&z(Ze)},placeholder:"Enter 6-digit OTP",maxLength:6,className:"border-2 border-gray-300 dark:border-gray-600 focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all text-center text-2xl font-bold tracking-widest"}),s.jsxs("div",{className:"flex items-center justify-between mt-2",children:[s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Check your phone"}),Z>0?s.jsxs("p",{className:"text-xs text-[#00A19C] font-semibold",children:["Resend in ",Z,"s"]}):s.jsxs(pe,{type:"button",variant:"link",size:"sm",onClick:te,disabled:!U||n,className:"h-auto p-0 text-xs text-[#00A19C] hover:text-[#8EDC81] transition-colors",children:[s.jsx(Mt,{className:"w-3 h-3 mr-1"}),"Resend OTP"]})]})]}),s.jsx("div",{className:"flex gap-2",children:C?s.jsxs(s.Fragment,{children:[s.jsx(pe,{variant:"outline",onClick:me,className:"w-1/3 border-2 border-gray-300 hover:border-[#00A19C] hover:bg-[#00A19C]/10 transition-all",disabled:n,children:"Change"}),s.jsx(pe,{onClick:ee,className:"w-2/3 bg-gradient-to-r from-[#00A19C] to-[#8EDC81] hover:from-[#008c88] hover:to-[#7bc876] text-white font-bold py-6 rounded-xl shadow-lg shadow-[#00A19C]/30 hover:shadow-xl hover:shadow-[#00A19C]/40 transition-all duration-300 hover:scale-105",disabled:n,children:n?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Mt,{className:"w-5 h-5 animate-spin"}),"Verifying..."]}):"Verify OTP"})]}):s.jsx(pe,{onClick:Q,className:"w-full bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] hover:from-[#184a5e] hover:via-[#008c88] hover:to-[#7bc876] text-white font-bold py-6 rounded-xl shadow-lg shadow-[#00A19C]/30 hover:shadow-xl hover:shadow-[#00A19C]/40 transition-all duration-300 hover:scale-105",disabled:n,children:n?s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(Mt,{className:"w-5 h-5 animate-spin"}),"Sending..."]}):"Send OTP"})})]})})]}),s.jsx("div",{className:"mt-6 text-center border-t border-gray-200 dark:border-gray-700 pt-6",children:s.jsxs("button",{onClick:()=>t("/"),className:"text-sm text-gray-600 dark:text-gray-400 hover:text-[#00A19C] dark:hover:text-[#8EDC81] transition-colors font-medium flex items-center gap-2 mx-auto group",children:[s.jsx(Ul,{className:"w-4 h-4 group-hover:animate-pulse"}),"Continue as Guest",s.jsx(Ul,{className:"w-4 h-4 group-hover:animate-pulse"})]})})]})]}),s.jsx("div",{className:"mt-6 text-center text-xs text-gray-500 dark:text-gray-400",children:s.jsx("p",{children:" 2024 Rento LB. All rights reserved."})})]})]})}const EJ=NN("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function We({className:t,variant:e,...r}){return s.jsx("div",{className:_t(EJ({variant:e}),t),...r})}const TJ=({feedbacks:t,onClose:e})=>s.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",onClick:e,children:s.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 max-w-md w-full max-h-[80vh] overflow-y-auto shadow-2xl border border-gray-200 dark:border-gray-700 animate-scale-in",onClick:r=>r.stopPropagation(),children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[s.jsx(D0,{className:"w-5 h-5 text-[#00A19C]"}),"Customer Feedback"]}),s.jsx("button",{onClick:e,className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors hover:scale-110 w-8 h-8 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 flex items-center justify-center","aria-label":"Close feedbacks",children:""})]}),t&&t.length>0?s.jsx("ul",{className:"space-y-4",children:t.map((r,n)=>s.jsxs("li",{className:"border-b border-gray-200 dark:border-gray-700 pb-4 last:border-0 animate-fade-in-up",style:{animationDelay:`${n*.1}s`},children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ar,{className:"w-4 h-4 text-[#8EDC81] fill-[#8EDC81]"}),s.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:r.rating?`${r.rating}/5`:"N/A"})]}),s.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:r.comments||"No comment provided."})]},n))}):s.jsx("p",{className:"text-gray-500 dark:text-gray-400 italic text-center py-8",children:"No feedback yet. Be the first to review!"})]})}),RJ=({car:t,forceFavorite:e=!1,onToggleFavoriteApi:r})=>{const[n,a]=_.useState(!1),[i,o]=_.useState(!1),[c,d]=_.useState(!1),[h,m]=_.useState(!1),{isAuthenticated:f}=ph();_.useEffect(()=>{if(e){a(!0);return}a(!1)},[t?.id,e]);const g=async v=>{if(v.preventDefault(),v.stopPropagation(),!t?.id||i)return;if(!f){ve.error("Please log in to save favorites.");return}if(r)return r();const w=!n;a(w),o(!0);try{await Oe.post(`/cars/${t.id}/favorite`),window.dispatchEvent(new Event("favoritesUpdated"))}catch(j){console.error("Favorite toggle error:",j),a(!w)}finally{o(!1)}},y={id:t.id,image:t.main_image_url||t.image||"/placeholder.png",brand:t.make||t.brand||"Car",model:t.model||"Model",year:t.year||"N/A",category:t.car_category||t.type||t.category||"Standard",seats:t.seats||4,transmission:t.transmission||"Auto",fuelType:t.fuel_type||t.fuelType||"Petrol",price:t.daily_rate||t.price||0,holidayRate:t.holiday_rate||null,deposit:t.deposit||null,isDeposit:t.is_deposit||!1,feedbacks:t.feedbacks||[],popular:t.popular||!1,location:t.live_location?.address||t.location||null};return s.jsxs(s.Fragment,{children:[s.jsx(Us,{to:`/cars/${y.id}`,className:"block group",children:s.jsxs(Ue,{className:"relative overflow-hidden h-full flex flex-col bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 hover:border-[#00A19C] transition-all duration-300 hover:shadow-lg hover:shadow-[#00A19C]/20 hover:-translate-y-1",children:[s.jsxs("div",{className:"relative overflow-hidden aspect-square bg-gray-100 dark:bg-gray-700",children:[!c&&s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 dark:from-gray-700 dark:via-gray-600 dark:to-gray-700 animate-pulse"}),s.jsx("img",{src:`/api/storage/${y.image}`,alt:`${y.brand} ${y.model}`,onLoad:()=>d(!0),className:`w-full h-full object-cover transition-transform duration-500 group-hover:scale-105 ${c?"opacity-100":"opacity-0"}`}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/10 to-transparent opacity-50 group-hover:opacity-70 transition-opacity duration-300"}),s.jsx("button",{onClick:g,disabled:i,"aria-label":n?"Remove from favorites":"Add to favorites",className:`absolute top-2 right-2 w-8 h-8 rounded-full backdrop-blur-sm flex items-center justify-center transition-all duration-300 z-20 ${n?"bg-red-500 shadow-md":"bg-white/90 dark:bg-gray-800/90 hover:scale-110"} ${i?"opacity-70 cursor-not-allowed":""}`,children:s.jsx(Kl,{className:`w-4 h-4 transition-all ${n?"fill-white text-white":"text-gray-700 dark:text-gray-300"}`})}),s.jsx("div",{className:"absolute top-2 left-2 z-10",children:s.jsx(We,{className:"bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm text-[#00A19C] dark:text-[#8EDC81] border border-[#00A19C]/30 dark:border-[#8EDC81]/30 text-xs font-semibold px-2 py-0.5",children:y.category})}),y.popular&&s.jsx("div",{className:"absolute bottom-2 left-2 z-10",children:s.jsxs(We,{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white text-xs font-bold border-0 px-2 py-0.5 flex items-center gap-1",children:[s.jsx(ar,{className:"w-3 h-3 fill-white"}),"Popular"]})}),s.jsx("div",{className:"absolute bottom-2 right-2 z-10",children:s.jsxs(We,{className:"bg-gradient-to-r from-[#00A19C] to-[#8EDC81] text-white text-xs font-bold px-2 py-1",children:["$",y.price,"/day"]})})]}),s.jsxs(qe,{className:"p-2.5 flex-grow",children:[s.jsxs("div",{className:"mb-1.5",children:[s.jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[s.jsx("p",{className:"text-xs font-semibold text-[#00A19C] dark:text-[#8EDC81] uppercase tracking-wide",children:y.brand}),s.jsxs("div",{className:"flex flex-col items-end",children:[s.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:y.year}),y.location&&s.jsxs("div",{className:"flex items-center gap-0.5 mt-0.5",children:[s.jsx(Ps,{className:"w-2.5 h-2.5 text-gray-400 dark:text-gray-500"}),s.jsx("p",{className:"text-[9px] text-gray-500 dark:text-gray-400 line-clamp-1",children:y.location})]})]})]}),s.jsx("h3",{className:"text-sm font-bold text-gray-900 dark:text-white line-clamp-1 group-hover:text-[#00A19C] dark:group-hover:text-[#8EDC81] transition-colors",children:y.model})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-1 mb-1.5",children:[s.jsxs("div",{className:"flex flex-col items-center p-1 rounded bg-gray-50 dark:bg-gray-700/50 group-hover:bg-[#00A19C]/10 dark:group-hover:bg-[#00A19C]/20 transition-colors",children:[s.jsx(Ss,{className:"w-3 h-3 text-[#00A19C] dark:text-[#8EDC81] mb-0.5"}),s.jsx("span",{className:"text-[10px] font-semibold text-gray-700 dark:text-gray-300",children:y.seats})]}),s.jsxs("div",{className:"flex flex-col items-center p-1 rounded bg-gray-50 dark:bg-gray-700/50 group-hover:bg-[#00A19C]/10 dark:group-hover:bg-[#00A19C]/20 transition-colors",children:[s.jsx(Pm,{className:"w-3 h-3 text-[#00A19C] dark:text-[#8EDC81] mb-0.5"}),s.jsx("span",{className:"text-[10px] font-semibold text-gray-700 dark:text-gray-300 truncate w-full text-center",children:y.transmission.slice(0,4)})]}),s.jsxs("div",{className:"flex flex-col items-center p-1 rounded bg-gray-50 dark:bg-gray-700/50 group-hover:bg-[#00A19C]/10 dark:group-hover:bg-[#00A19C]/20 transition-colors",children:[s.jsx(R0,{className:"w-3 h-3 text-[#00A19C] dark:text-[#8EDC81] mb-0.5"}),s.jsx("span",{className:"text-[10px] font-semibold text-gray-700 dark:text-gray-300 truncate w-full text-center",children:y.fuelType.slice(0,4)})]})]}),(y.holidayRate||y.isDeposit)&&s.jsxs("div",{className:"flex items-center gap-1 mb-1.5 text-[10px]",children:[y.holidayRate&&s.jsxs("div",{className:"flex-1 text-center p-1 bg-gradient-to-br from-[#00A19C]/10 to-[#8EDC81]/10 dark:from-[#1e5f7a]/20 dark:to-[#00A19C]/20 rounded border border-[#00A19C]/20",children:[s.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium text-[9px] leading-tight",children:"Holiday"}),s.jsxs("p",{className:"font-bold text-[#1e5f7a] dark:text-[#8EDC81] text-xs leading-tight",children:["$",y.holidayRate]})]}),y.isDeposit&&s.jsxs("div",{className:"flex-1 text-center p-1 bg-amber-50 dark:bg-amber-900/20 rounded border border-amber-200 dark:border-amber-800",children:[s.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium text-[9px] leading-tight",children:"Deposit"}),s.jsxs("p",{className:"font-bold text-amber-600 dark:text-amber-400 text-xs leading-tight",children:["$",y.deposit]})]})]}),s.jsxs("button",{onClick:v=>{v.preventDefault(),v.stopPropagation(),m(!0)},className:"w-full flex items-center justify-between p-1 rounded bg-gray-50 dark:bg-gray-700/50 hover:bg-[#00A19C]/10 dark:hover:bg-[#00A19C]/20 transition-all border border-gray-200 dark:border-gray-700 hover:border-[#00A19C] group/feedback mb-1.5","aria-label":"Open customer feedback",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(D0,{className:"w-3 h-3 text-[#00A19C] dark:text-[#8EDC81]"}),s.jsx("span",{className:"text-[10px] font-semibold text-gray-900 dark:text-white",children:"Reviews"})]}),s.jsx(We,{className:"bg-gradient-to-r from-[#00A19C] to-[#8EDC81] text-white text-[10px] font-bold px-1.5 py-0",children:y.feedbacks.length})]}),s.jsx(pe,{className:"w-full bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] hover:from-[#184a5e] hover:via-[#008c88] hover:to-[#7bc876] text-white font-bold py-2 text-xs rounded-lg shadow-md hover:shadow-lg transition-all duration-300 hover:scale-[1.02] group/btn",children:s.jsxs("span",{className:"flex items-center justify-center gap-1",children:[s.jsx(nr,{className:"w-3 h-3"}),"View Details",s.jsx(bd,{className:"w-3 h-3 group-hover/btn:translate-x-0.5 transition-transform"})]})})]})]})}),h&&s.jsx(TJ,{feedbacks:y.feedbacks,onClose:()=>m(!1)})]})},DJ=()=>{const[t,e]=_.useState({location:"",pickupDate:"",returnDate:""}),[r,n]=_.useState([]),[a,i]=_.useState(!0),[o,c]=_.useState("");_.useEffect(()=>{(async()=>{try{const g=await Oe.get("/guest-cars");if(!g.data||!g.data.cars)throw new Error("Invalid response from server");n(g.data.cars)}catch(g){console.error("Error fetching cars:",g.response?.data||g.message),c("Failed to load cars. Please try again later.")}finally{i(!1)}})()},[]);const d=f=>{f.preventDefault(),window.location.href="/luxury-car-rental-lebanon"},h=[{icon:Qn,title:"Premium Insurance",description:"Comprehensive coverage with every rental",gradient:"from-[#1e5f7a] to-[#00A19C]"},{icon:hh,title:"24/7 Support",description:"Round-the-clock customer service",gradient:"from-[#00A19C] to-[#8EDC81]"},{icon:cr,title:"Best Price Guarantee",description:"Competitive rates, no hidden fees",gradient:"from-[#1e5f7a] to-[#8EDC81]"},{icon:r_,title:"Premium Fleet",description:"Luxury and high-performance vehicles",gradient:"from-[#8EDC81] to-[#00A19C]"}],m=[{value:"10K+",label:"Happy Customers",icon:Ss,color:"from-[#1e5f7a] to-[#00A19C]"},{value:"50+",label:"Luxury Vehicles",icon:Kt,color:"from-[#00A19C] to-[#8EDC81]"},{value:"15",label:"Years Experience",icon:Zl,color:"from-[#1e5f7a] to-[#8EDC81]"},{value:"99%",label:"Satisfaction Rate",icon:ar,color:"from-[#8EDC81] to-[#00A19C]"}];return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-[#8EDC81]/10 dark:from-gray-950 dark:via-gray-900 dark:to-gray-800",children:[s.jsxs("section",{className:"relative min-h-[85vh] sm:min-h-[80vh] flex items-center justify-center overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute top-1/4 left-1/4 w-72 h-72 md:w-96 md:h-96 bg-[#1e5f7a]/10 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-72 h-72 md:w-96 md:h-96 bg-[#00A19C]/10 rounded-full blur-3xl animate-pulse animation-delay-700"}),s.jsx("div",{className:"absolute top-1/2 left-1/2 w-72 h-72 md:w-96 md:h-96 bg-[#8EDC81]/10 rounded-full blur-3xl animate-pulse animation-delay-1400"})]}),s.jsxs("div",{className:"absolute inset-0 z-0",children:[s.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover opacity-90",poster:"https://images.unsplash.com/photo-1492144534655-ae79c964c9d7?w=1920&q=80",children:s.jsx("source",{src:"/hero.mp4",type:"video/mp4"})}),s.jsx("div",{className:"absolute inset-0 bg-transparent"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900/10 via-transparent to-transparent"})]}),s.jsx("div",{className:"container mx-auto px-4 relative z-10 pt-24 pb-16 sm:pt-32 sm:pb-20",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center mb-8 sm:mb-12 animate-fade-in-up",children:[s.jsxs(We,{className:"mb-4 sm:mb-6 bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8fdc81bf] text-white border-0 px-4 sm:px-6 py-2 sm:py-2.5 text-xs sm:text-sm font-bold shadow-lg shadow-[#00A19C]/30 hover:shadow-xl hover:scale-105 transition-all animate-pulse-glow",children:[s.jsx(Ul,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 mr-1.5 sm:mr-2 inline"}),"Premium Car Rental Service"]}),s.jsxs("h1",{className:"text-3xl sm:text-5xl md:text-6xl lg:text-7xl font-black text-white mb-4 sm:mb-6 leading-tight drop-shadow-2xl",children:["Rent a Car in Lebanon",s.jsx("span",{className:"block mt-2 bg-gradient-to-r from-[#8EDC81] via-[#00A19C] to-[#1e5f7a] bg-clip-text text-transparent",children:"10,000+ Luxury & Premium Vehicles"})]}),s.jsx("p",{className:"text-base sm:text-xl md:text-2xl text-gray-100 mb-6 sm:mb-12 max-w-2xl mx-auto font-medium drop-shadow-lg px-4",children:"All you need in one place  the only platform with full search and filters"}),s.jsx(Ue,{className:"bg-white/95 dark:bg-gray-800/95 backdrop-blur-xl border-0 shadow-2xl shadow-black/20 p-4 sm:p-6 md:p-8 rounded-2xl animate-scale-in",children:s.jsxs("form",{onSubmit:d,children:[s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 mb-3 sm:mb-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx(Ps,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 text-[#00A19C] pointer-events-none"}),s.jsx(Se,{type:"text",placeholder:"Location",value:t.location,onChange:f=>e({...t,location:f.target.value}),className:"pl-10 sm:pl-12 h-12 sm:h-14 border-2 border-gray-300 dark:border-gray-600 focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 rounded-xl text-sm sm:text-base transition-all"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Hs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 text-[#00A19C] pointer-events-none"}),s.jsx(Se,{type:"date",value:t.pickupDate,onChange:f=>e({...t,pickupDate:f.target.value}),className:"pl-10 sm:pl-12 h-12 sm:h-14 border-2 border-gray-300 dark:border-gray-600 focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 rounded-xl text-sm sm:text-base transition-all"})]}),s.jsxs("div",{className:"relative",children:[s.jsx(Hs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 text-[#00A19C] pointer-events-none"}),s.jsx(Se,{type:"date",value:t.returnDate,onChange:f=>e({...t,returnDate:f.target.value}),className:"pl-10 sm:pl-12 h-12 sm:h-14 border-2 border-gray-300 dark:border-gray-600 focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 rounded-xl text-sm sm:text-base transition-all"})]})]}),s.jsxs(pe,{type:"submit",size:"lg",className:"w-full h-14 sm:h-16 bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] hover:from-[#184a5e] hover:via-[#008c88] hover:to-[#7bc876] text-white font-bold text-base sm:text-lg rounded-xl shadow-lg shadow-[#00A19C]/30 hover:shadow-xl hover:shadow-[#00A19C]/40 transition-all duration-300 hover:scale-[1.02] group",children:[s.jsx(Br,{className:"w-5 h-5 sm:w-6 sm:h-6 mr-2 sm:mr-3 group-hover:rotate-90 transition-transform duration-300"}),"Search Available Cars",s.jsx(bd,{className:"w-5 h-5 sm:w-6 sm:h-6 ml-2 sm:ml-3 group-hover:translate-x-1 transition-transform"})]})]})})]})})]}),s.jsx("section",{className:"py-16 sm:py-24 bg-gradient-to-br from-gray-50 to-[#8EDC81]/10 dark:from-gray-950 dark:to-gray-900",children:s.jsx("div",{className:"container mx-auto px-4",children:a?s.jsxs("div",{className:"flex flex-col justify-center items-center py-16 sm:py-20",children:[s.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 border-4 border-[#00A19C] border-t-transparent rounded-full animate-spin mb-4"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium text-sm sm:text-base",children:"Loading premium vehicles..."})]}):o?s.jsxs("div",{className:"text-center py-16 sm:py-20 px-4",children:[s.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-4",children:s.jsx(Kt,{className:"w-8 h-8 sm:w-10 sm:h-10 text-red-500"})}),s.jsx("p",{className:"text-lg sm:text-xl text-red-500 font-semibold mb-2",children:o}),s.jsx(pe,{onClick:()=>window.location.reload(),variant:"outline",className:"mt-4 border-red-300 text-red-600 hover:bg-red-50",children:"Try Again"})]}):r.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-10 sm:mb-12",children:r.slice(0,4).map((f,g)=>s.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:`${g*.1}s`},children:s.jsx(RJ,{car:f})},f.id))}),s.jsx("div",{className:"text-center",children:s.jsx(Us,{to:"/luxury-car-rental-lebanon",children:s.jsxs(pe,{size:"lg",className:"bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] hover:from-[#184a5e] hover:via-[#008c88] hover:to-[#7bc876] text-white font-bold px-8 sm:px-10 py-6 sm:py-7 rounded-xl shadow-lg shadow-[#00A19C]/30 hover:shadow-xl hover:shadow-[#00A19C]/40 transition-all duration-300 hover:scale-105 text-base sm:text-lg group",children:["View All Vehicles",s.jsx(bd,{className:"w-4 h-4 sm:w-5 sm:h-5 ml-2 group-hover:translate-x-1 transition-transform"})]})})})]}):s.jsxs("div",{className:"text-center py-16 sm:py-20 px-4",children:[s.jsx(Kt,{className:"w-12 h-12 sm:w-16 sm:h-16 text-gray-400 mx-auto mb-4"}),s.jsx("p",{className:"text-lg sm:text-xl text-gray-500 dark:text-gray-400",children:"No cars available at the moment."})]})})}),s.jsxs("section",{className:"py-12 sm:py-20 bg-white dark:bg-gray-900 relative overflow-hidden border-y border-gray-200 dark:border-gray-800",children:[s.jsx("div",{className:"absolute inset-0 opacity-5",children:s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81]"})}),s.jsx("div",{className:"container mx-auto px-4 relative z-10",children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 sm:gap-8",children:m.map((f,g)=>s.jsxs("div",{className:"text-center group cursor-default animate-fade-in-up",style:{animationDelay:`${g*.1}s`},children:[s.jsx("div",{className:`w-14 h-14 sm:w-20 sm:h-20 rounded-2xl bg-gradient-to-br ${f.color} flex items-center justify-center mx-auto mb-3 sm:mb-4 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300 shadow-lg shadow-[#00A19C]/20`,children:s.jsx(f.icon,{className:"w-7 h-7 sm:w-10 sm:h-10 text-white"})}),s.jsx("p",{className:"text-3xl sm:text-4xl md:text-5xl font-black bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] bg-clip-text text-transparent mb-1 sm:mb-2 group-hover:scale-105 transition-transform",children:f.value}),s.jsx("p",{className:"text-xs sm:text-sm md:text-base text-gray-600 dark:text-gray-400 font-semibold",children:f.label})]},g))})})]}),s.jsx("section",{className:"py-16 sm:py-24 bg-white dark:bg-gray-900",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12 sm:mb-16 animate-fade-in",children:[s.jsxs(We,{className:"mb-3 sm:mb-4 bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] text-white border-0 px-4 sm:px-5 py-1.5 sm:py-2 font-bold shadow-lg shadow-[#00A19C]/20 text-xs sm:text-sm",children:[s.jsx(r_,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 inline mr-1.5 sm:mr-2"}),"Why Choose Us"]}),s.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-black text-gray-900 dark:text-white mb-3 sm:mb-4 px-4",children:"All Cars, All Options"}),s.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-600 dark:text-gray-400 max-w-3xl mx-auto px-4",children:"Connecting you with the perfect car for every journey"})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 lg:gap-8",children:h.map((f,g)=>s.jsx(Ue,{className:"text-center border-2 border-gray-200 dark:border-gray-700 hover:border-[#00A19C] dark:hover:border-[#8EDC81] transition-all duration-500 hover:shadow-2xl hover:shadow-[#00A19C]/20 hover:-translate-y-2 bg-white dark:bg-gray-800 group/card animate-fade-in-up",style:{animationDelay:`${g*.1}s`},children:s.jsxs(qe,{className:"pt-8 sm:pt-10 pb-8 sm:pb-10 px-4",children:[s.jsx("div",{className:`w-16 h-16 sm:w-20 sm:h-20 rounded-2xl bg-gradient-to-br ${f.gradient} flex items-center justify-center mx-auto mb-4 sm:mb-6 shadow-lg shadow-[#00A19C]/20 group-hover/card:scale-110 group-hover/card:rotate-3 transition-all duration-300`,children:s.jsx(f.icon,{className:"w-8 h-8 sm:w-10 sm:h-10 text-white"})}),s.jsx("h3",{className:"text-lg sm:text-xl font-bold mb-3 sm:mb-4 text-gray-900 dark:text-white group-hover/card:text-[#00A19C] dark:group-hover/card:text-[#8EDC81] transition-colors",children:f.title}),s.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 leading-relaxed",children:f.description})]})},g))})]})})]})};var ey="Checkbox",[MJ]=va(ey),[PJ,KN]=MJ(ey);function OJ(t){const{__scopeCheckbox:e,checked:r,children:n,defaultChecked:a,disabled:i,form:o,name:c,onCheckedChange:d,required:h,value:m="on",internal_do_not_use_render:f}=t,[g,y]=Uo({prop:r,defaultProp:a??!1,onChange:d,caller:ey}),[v,w]=_.useState(null),[j,b]=_.useState(null),N=_.useRef(!1),k=v?!!o||!!v.closest("form"):!0,S={checked:g,disabled:i,setChecked:y,control:v,setControl:w,name:c,form:o,value:m,hasConsumerStoppedPropagationRef:N,required:h,defaultChecked:Wl(a)?!1:a,isFormControl:k,bubbleInput:j,setBubbleInput:b};return s.jsx(PJ,{scope:e,...S,children:LJ(f)?f(S):n})}var NO="CheckboxTrigger",SO=_.forwardRef(({__scopeCheckbox:t,onKeyDown:e,onClick:r,...n},a)=>{const{control:i,value:o,disabled:c,checked:d,required:h,setControl:m,setChecked:f,hasConsumerStoppedPropagationRef:g,isFormControl:y,bubbleInput:v}=KN(NO,t),w=Jt(a,m),j=_.useRef(d);return _.useEffect(()=>{const b=i?.form;if(b){const N=()=>f(j.current);return b.addEventListener("reset",N),()=>b.removeEventListener("reset",N)}},[i,f]),s.jsx(Bt.button,{type:"button",role:"checkbox","aria-checked":Wl(d)?"mixed":d,"aria-required":h,"data-state":TO(d),"data-disabled":c?"":void 0,disabled:c,value:o,...n,ref:w,onKeyDown:pt(e,b=>{b.key==="Enter"&&b.preventDefault()}),onClick:pt(r,b=>{f(N=>Wl(N)?!0:!N),v&&y&&(g.current=b.isPropagationStopped(),g.current||b.stopPropagation())})})});SO.displayName=NO;var XN=_.forwardRef((t,e)=>{const{__scopeCheckbox:r,name:n,checked:a,defaultChecked:i,required:o,disabled:c,value:d,onCheckedChange:h,form:m,...f}=t;return s.jsx(OJ,{__scopeCheckbox:r,checked:a,defaultChecked:i,disabled:c,required:o,onCheckedChange:h,name:n,form:m,value:d,internal_do_not_use_render:({isFormControl:g})=>s.jsxs(s.Fragment,{children:[s.jsx(SO,{...f,ref:e,__scopeCheckbox:r}),g&&s.jsx(EO,{__scopeCheckbox:r})]})})});XN.displayName=ey;var CO="CheckboxIndicator",kO=_.forwardRef((t,e)=>{const{__scopeCheckbox:r,forceMount:n,...a}=t,i=KN(CO,r);return s.jsx(Ga,{present:n||Wl(i.checked)||i.checked===!0,children:s.jsx(Bt.span,{"data-state":TO(i.checked),"data-disabled":i.disabled?"":void 0,...a,ref:e,style:{pointerEvents:"none",...t.style}})})});kO.displayName=CO;var AO="CheckboxBubbleInput",EO=_.forwardRef(({__scopeCheckbox:t,...e},r)=>{const{control:n,hasConsumerStoppedPropagationRef:a,checked:i,defaultChecked:o,required:c,disabled:d,name:h,value:m,form:f,bubbleInput:g,setBubbleInput:y}=KN(AO,t),v=Jt(r,y),w=Y0(i),j=G0(n);_.useEffect(()=>{const N=g;if(!N)return;const k=window.HTMLInputElement.prototype,C=Object.getOwnPropertyDescriptor(k,"checked").set,B=!a.current;if(w!==i&&C){const E=new Event("click",{bubbles:B});N.indeterminate=Wl(i),C.call(N,Wl(i)?!1:i),N.dispatchEvent(E)}},[g,w,i,a]);const b=_.useRef(Wl(i)?!1:i);return s.jsx(Bt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:o??b.current,required:c,disabled:d,name:h,value:m,form:f,...e,tabIndex:-1,ref:v,style:{...e.style,...j,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});EO.displayName=AO;function LJ(t){return typeof t=="function"}function Wl(t){return t==="indeterminate"}function TO(t){return Wl(t)?"indeterminate":t?"checked":"unchecked"}const Vf=_.forwardRef(({className:t,...e},r)=>s.jsx(XN,{ref:r,className:_t("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:s.jsx(kO,{className:_t("flex items-center justify-center text-current"),children:s.jsx(ga,{className:"h-4 w-4"})})}));Vf.displayName=XN.displayName;function FJ(t){const e=BJ(t),r=_.forwardRef((n,a)=>{const{children:i,...o}=n,c=_.Children.toArray(i),d=c.find(zJ);if(d){const h=d.props.children,m=c.map(f=>f===d?_.Children.count(h)>1?_.Children.only(null):_.isValidElement(h)?h.props.children:null:f);return s.jsx(e,{...o,ref:a,children:_.isValidElement(h)?_.cloneElement(h,void 0,m):null})}return s.jsx(e,{...o,ref:a,children:i})});return r.displayName=`${t}.Slot`,r}function BJ(t){const e=_.forwardRef((r,n)=>{const{children:a,...i}=r;if(_.isValidElement(a)){const o=$J(a),c=UJ(i,a.props);return a.type!==_.Fragment&&(c.ref=n?Yo(n,o):o),_.cloneElement(a,c)}return _.Children.count(a)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var IJ=Symbol("radix.slottable");function zJ(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===IJ}function UJ(t,e){const r={...e};for(const n in e){const a=t[n],i=e[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...t,...r}}function $J(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var ty="Dialog",[RO,DO]=va(ty),[VJ,pi]=RO(ty),MO=t=>{const{__scopeDialog:e,children:r,open:n,defaultOpen:a,onOpenChange:i,modal:o=!0}=t,c=_.useRef(null),d=_.useRef(null),[h,m]=Uo({prop:n,defaultProp:a??!1,onChange:i,caller:ty});return s.jsx(VJ,{scope:e,triggerRef:c,contentRef:d,contentId:$i(),titleId:$i(),descriptionId:$i(),open:h,onOpenChange:m,onOpenToggle:_.useCallback(()=>m(f=>!f),[m]),modal:o,children:r})};MO.displayName=ty;var PO="DialogTrigger",OO=_.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=pi(PO,r),i=Jt(e,a.triggerRef);return s.jsx(Bt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":JN(a.open),...n,ref:i,onClick:pt(t.onClick,a.onOpenToggle)})});OO.displayName=PO;var ZN="DialogPortal",[HJ,LO]=RO(ZN,{forceMount:void 0}),FO=t=>{const{__scopeDialog:e,forceMount:r,children:n,container:a}=t,i=pi(ZN,e);return s.jsx(HJ,{scope:e,forceMount:r,children:_.Children.map(n,o=>s.jsx(Ga,{present:r||i.open,children:s.jsx(qm,{asChild:!0,container:a,children:o})}))})};FO.displayName=ZN;var r0="DialogOverlay",BO=_.forwardRef((t,e)=>{const r=LO(r0,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,i=pi(r0,t.__scopeDialog);return i.modal?s.jsx(Ga,{present:n||i.open,children:s.jsx(WJ,{...a,ref:e})}):null});BO.displayName=r0;var qJ=FJ("DialogOverlay.RemoveScroll"),WJ=_.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=pi(r0,r);return s.jsx(X0,{as:qJ,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(Bt.div,{"data-state":JN(a.open),...n,ref:e,style:{pointerEvents:"auto",...n.style}})})}),Sd="DialogContent",IO=_.forwardRef((t,e)=>{const r=LO(Sd,t.__scopeDialog),{forceMount:n=r.forceMount,...a}=t,i=pi(Sd,t.__scopeDialog);return s.jsx(Ga,{present:n||i.open,children:i.modal?s.jsx(GJ,{...a,ref:e}):s.jsx(YJ,{...a,ref:e})})});IO.displayName=Sd;var GJ=_.forwardRef((t,e)=>{const r=pi(Sd,t.__scopeDialog),n=_.useRef(null),a=Jt(e,r.contentRef,n);return _.useEffect(()=>{const i=n.current;if(i)return GN(i)},[]),s.jsx(zO,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:pt(t.onCloseAutoFocus,i=>{i.preventDefault(),r.triggerRef.current?.focus()}),onPointerDownOutside:pt(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,c=o.button===0&&o.ctrlKey===!0;(o.button===2||c)&&i.preventDefault()}),onFocusOutside:pt(t.onFocusOutside,i=>i.preventDefault())})}),YJ=_.forwardRef((t,e)=>{const r=pi(Sd,t.__scopeDialog),n=_.useRef(!1),a=_.useRef(!1);return s.jsx(zO,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{t.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||r.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,a.current=!1},onInteractOutside:i=>{t.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const o=i.target;r.triggerRef.current?.contains(o)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&a.current&&i.preventDefault()}})}),zO=_.forwardRef((t,e)=>{const{__scopeDialog:r,trapFocus:n,onOpenAutoFocus:a,onCloseAutoFocus:i,...o}=t,c=pi(Sd,r),d=_.useRef(null),h=Jt(e,d);return ON(),s.jsxs(s.Fragment,{children:[s.jsx($0,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:a,onUnmountAutoFocus:i,children:s.jsx(Vm,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":JN(c.open),...o,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(XJ,{titleId:c.titleId}),s.jsx(QJ,{contentRef:d,descriptionId:c.descriptionId})]})]})}),QN="DialogTitle",UO=_.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=pi(QN,r);return s.jsx(Bt.h2,{id:a.titleId,...n,ref:e})});UO.displayName=QN;var $O="DialogDescription",VO=_.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=pi($O,r);return s.jsx(Bt.p,{id:a.descriptionId,...n,ref:e})});VO.displayName=$O;var HO="DialogClose",qO=_.forwardRef((t,e)=>{const{__scopeDialog:r,...n}=t,a=pi(HO,r);return s.jsx(Bt.button,{type:"button",...n,ref:e,onClick:pt(t.onClick,()=>a.onOpenChange(!1))})});qO.displayName=HO;function JN(t){return t?"open":"closed"}var WO="DialogTitleWarning",[KJ,GO]=$K(WO,{contentName:Sd,titleName:QN,docsSlug:"dialog"}),XJ=({titleId:t})=>{const e=GO(WO),r=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return _.useEffect(()=>{t&&(document.getElementById(t)||console.error(r))},[r,t]),null},ZJ="DialogDescriptionWarning",QJ=({contentRef:t,descriptionId:e})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${GO(ZJ).contentName}}.`;return _.useEffect(()=>{const a=t.current?.getAttribute("aria-describedby");e&&a&&(document.getElementById(e)||console.warn(n))},[n,t,e]),null},YO=MO,KO=OO,XO=FO,e2=BO,t2=IO,s2=UO,r2=VO,n2=qO;const Kr=YO,JJ=KO,eee=XO,ZO=_.forwardRef(({className:t,...e},r)=>s.jsx(e2,{ref:r,className:_t("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));ZO.displayName=e2.displayName;const Ir=_.forwardRef(({className:t,children:e,...r},n)=>s.jsxs(eee,{children:[s.jsx(ZO,{}),s.jsxs(t2,{ref:n,className:_t("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...r,children:[e,s.jsxs(n2,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[s.jsx(tr,{className:"h-4 w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ir.displayName=t2.displayName;const zr=({className:t,...e})=>s.jsx("div",{className:_t("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});zr.displayName="DialogHeader";const QO=({className:t,...e})=>s.jsx("div",{className:_t("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});QO.displayName="DialogFooter";const Ur=_.forwardRef(({className:t,...e},r)=>s.jsx(s2,{ref:r,className:_t("text-lg font-semibold leading-none tracking-tight",t),...e}));Ur.displayName=s2.displayName;const Hi=_.forwardRef(({className:t,...e},r)=>s.jsx(r2,{ref:r,className:_t("text-sm text-muted-foreground",t),...e}));Hi.displayName=r2.displayName;var JO=["PageUp","PageDown"],e8=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],t8={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},vh="Slider",[w_,tee,see]=I0(vh),[s8]=va(vh,[see]),[ree,sy]=s8(vh),r8=_.forwardRef((t,e)=>{const{name:r,min:n=0,max:a=100,step:i=1,orientation:o="horizontal",disabled:c=!1,minStepsBetweenThumbs:d=0,defaultValue:h=[n],value:m,onValueChange:f=()=>{},onValueCommit:g=()=>{},inverted:y=!1,form:v,...w}=t,j=_.useRef(new Set),b=_.useRef(0),k=o==="horizontal"?nee:aee,[S=[],C]=Uo({prop:m,defaultProp:h,onChange:U=>{[...j.current][b.current]?.focus(),f(U)}}),B=_.useRef(S);function E(U){const L=dee(S,U);W(U,L)}function z(U){W(U,b.current)}function T(){const U=B.current[b.current];S[b.current]!==U&&g(S)}function W(U,L,{commit:Z}={commit:!1}){const O=mee(i),se=pee(Math.round((U-n)/i)*i+n,O),K=Zx(se,[n,a]);C((M=[])=>{const X=lee(M,K,L);if(fee(X,d*i)){b.current=X.indexOf(K);const $=String(X)!==String(M);return $&&Z&&g(X),$?X:M}else return M})}return s.jsx(ree,{scope:t.__scopeSlider,name:r,disabled:c,min:n,max:a,valueIndexToChangeRef:b,thumbs:j.current,values:S,orientation:o,form:v,children:s.jsx(w_.Provider,{scope:t.__scopeSlider,children:s.jsx(w_.Slot,{scope:t.__scopeSlider,children:s.jsx(k,{"aria-disabled":c,"data-disabled":c?"":void 0,...w,ref:e,onPointerDown:pt(w.onPointerDown,()=>{c||(B.current=S)}),min:n,max:a,inverted:y,onSlideStart:c?void 0:E,onSlideMove:c?void 0:z,onSlideEnd:c?void 0:T,onHomeKeyDown:()=>!c&&W(n,0,{commit:!0}),onEndKeyDown:()=>!c&&W(a,S.length-1,{commit:!0}),onStepKeyDown:({event:U,direction:L})=>{if(!c){const se=JO.includes(U.key)||U.shiftKey&&e8.includes(U.key)?10:1,K=b.current,M=S[K],X=i*se*L;W(M+X,K,{commit:!0})}}})})})})});r8.displayName=vh;var[n8,a8]=s8(vh,{startEdge:"left",endEdge:"right",size:"width",direction:1}),nee=_.forwardRef((t,e)=>{const{min:r,max:n,dir:a,inverted:i,onSlideStart:o,onSlideMove:c,onSlideEnd:d,onStepKeyDown:h,...m}=t,[f,g]=_.useState(null),y=Jt(e,k=>g(k)),v=_.useRef(void 0),w=Um(a),j=w==="ltr",b=j&&!i||!j&&i;function N(k){const S=v.current||f.getBoundingClientRect(),C=[0,S.width],E=a2(C,b?[r,n]:[n,r]);return v.current=S,E(k-S.left)}return s.jsx(n8,{scope:t.__scopeSlider,startEdge:b?"left":"right",endEdge:b?"right":"left",direction:b?1:-1,size:"width",children:s.jsx(i8,{dir:w,"data-orientation":"horizontal",...m,ref:y,style:{...m.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:k=>{const S=N(k.clientX);o?.(S)},onSlideMove:k=>{const S=N(k.clientX);c?.(S)},onSlideEnd:()=>{v.current=void 0,d?.()},onStepKeyDown:k=>{const C=t8[b?"from-left":"from-right"].includes(k.key);h?.({event:k,direction:C?-1:1})}})})}),aee=_.forwardRef((t,e)=>{const{min:r,max:n,inverted:a,onSlideStart:i,onSlideMove:o,onSlideEnd:c,onStepKeyDown:d,...h}=t,m=_.useRef(null),f=Jt(e,m),g=_.useRef(void 0),y=!a;function v(w){const j=g.current||m.current.getBoundingClientRect(),b=[0,j.height],k=a2(b,y?[n,r]:[r,n]);return g.current=j,k(w-j.top)}return s.jsx(n8,{scope:t.__scopeSlider,startEdge:y?"bottom":"top",endEdge:y?"top":"bottom",size:"height",direction:y?1:-1,children:s.jsx(i8,{"data-orientation":"vertical",...h,ref:f,style:{...h.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:w=>{const j=v(w.clientY);i?.(j)},onSlideMove:w=>{const j=v(w.clientY);o?.(j)},onSlideEnd:()=>{g.current=void 0,c?.()},onStepKeyDown:w=>{const b=t8[y?"from-bottom":"from-top"].includes(w.key);d?.({event:w,direction:b?-1:1})}})})}),i8=_.forwardRef((t,e)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:a,onSlideEnd:i,onHomeKeyDown:o,onEndKeyDown:c,onStepKeyDown:d,...h}=t,m=sy(vh,r);return s.jsx(Bt.span,{...h,ref:e,onKeyDown:pt(t.onKeyDown,f=>{f.key==="Home"?(o(f),f.preventDefault()):f.key==="End"?(c(f),f.preventDefault()):JO.concat(e8).includes(f.key)&&(d(f),f.preventDefault())}),onPointerDown:pt(t.onPointerDown,f=>{const g=f.target;g.setPointerCapture(f.pointerId),f.preventDefault(),m.thumbs.has(g)?g.focus():n(f)}),onPointerMove:pt(t.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&a(f)}),onPointerUp:pt(t.onPointerUp,f=>{const g=f.target;g.hasPointerCapture(f.pointerId)&&(g.releasePointerCapture(f.pointerId),i(f))})})}),o8="SliderTrack",l8=_.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,a=sy(o8,r);return s.jsx(Bt.span,{"data-disabled":a.disabled?"":void 0,"data-orientation":a.orientation,...n,ref:e})});l8.displayName=o8;var j_="SliderRange",c8=_.forwardRef((t,e)=>{const{__scopeSlider:r,...n}=t,a=sy(j_,r),i=a8(j_,r),o=_.useRef(null),c=Jt(e,o),d=a.values.length,h=a.values.map(g=>h8(g,a.min,a.max)),m=d>1?Math.min(...h):0,f=100-Math.max(...h);return s.jsx(Bt.span,{"data-orientation":a.orientation,"data-disabled":a.disabled?"":void 0,...n,ref:c,style:{...t.style,[i.startEdge]:m+"%",[i.endEdge]:f+"%"}})});c8.displayName=j_;var __="SliderThumb",d8=_.forwardRef((t,e)=>{const r=tee(t.__scopeSlider),[n,a]=_.useState(null),i=Jt(e,c=>a(c)),o=_.useMemo(()=>n?r().findIndex(c=>c.ref.current===n):-1,[r,n]);return s.jsx(iee,{...t,ref:i,index:o})}),iee=_.forwardRef((t,e)=>{const{__scopeSlider:r,index:n,name:a,...i}=t,o=sy(__,r),c=a8(__,r),[d,h]=_.useState(null),m=Jt(e,N=>h(N)),f=d?o.form||!!d.closest("form"):!0,g=G0(d),y=o.values[n],v=y===void 0?0:h8(y,o.min,o.max),w=cee(n,o.values.length),j=g?.[c.size],b=j?uee(j,v,c.direction):0;return _.useEffect(()=>{if(d)return o.thumbs.add(d),()=>{o.thumbs.delete(d)}},[d,o.thumbs]),s.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[c.startEdge]:`calc(${v}% + ${b}px)`},children:[s.jsx(w_.ItemSlot,{scope:t.__scopeSlider,children:s.jsx(Bt.span,{role:"slider","aria-label":t["aria-label"]||w,"aria-valuemin":o.min,"aria-valuenow":y,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...i,ref:m,style:y===void 0?{display:"none"}:t.style,onFocus:pt(t.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),f&&s.jsx(u8,{name:a??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:y},n)]})});d8.displayName=__;var oee="RadioBubbleInput",u8=_.forwardRef(({__scopeSlider:t,value:e,...r},n)=>{const a=_.useRef(null),i=Jt(a,n),o=Y0(e);return _.useEffect(()=>{const c=a.current;if(!c)return;const d=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(d,"value").set;if(o!==e&&m){const f=new Event("input",{bubbles:!0});m.call(c,e),c.dispatchEvent(f)}},[o,e]),s.jsx(Bt.input,{style:{display:"none"},...r,ref:i,defaultValue:e})});u8.displayName=oee;function lee(t=[],e,r){const n=[...t];return n[r]=e,n.sort((a,i)=>a-i)}function h8(t,e,r){const i=100/(r-e)*(t-e);return Zx(i,[0,100])}function cee(t,e){return e>2?`Value ${t+1} of ${e}`:e===2?["Minimum","Maximum"][t]:void 0}function dee(t,e){if(t.length===1)return 0;const r=t.map(a=>Math.abs(a-e)),n=Math.min(...r);return r.indexOf(n)}function uee(t,e,r){const n=t/2,i=a2([0,50],[0,n]);return(n-i(e)*r)*r}function hee(t){return t.slice(0,-1).map((e,r)=>t[r+1]-e)}function fee(t,e){if(e>0){const r=hee(t);return Math.min(...r)>=e}return!0}function a2(t,e){return r=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const n=(e[1]-e[0])/(t[1]-t[0]);return e[0]+n*(r-t[0])}}function mee(t){return(String(t).split(".")[1]||"").length}function pee(t,e){const r=Math.pow(10,e);return Math.round(t*r)/r}var f8=r8,gee=l8,xee=c8,yee=d8;const m8=_.forwardRef(({className:t,...e},r)=>s.jsxs(f8,{ref:r,className:_t("relative flex w-full touch-none select-none items-center",t),...e,children:[s.jsx(gee,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:s.jsx(xee,{className:"absolute h-full bg-primary"})}),s.jsx(yee,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));m8.displayName=f8.displayName;const bee=({feedbacks:t,onClose:e})=>s.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:s.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl p-6 max-w-md w-full max-h-[80vh] overflow-y-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-4",children:[s.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Customer Feedback"}),s.jsx("button",{onClick:e,className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200","aria-label":"Close feedbacks",children:""})]}),t&&t.length>0?s.jsx("ul",{className:"space-y-4",children:t.map((r,n)=>s.jsxs("li",{className:"border-b border-gray-200 dark:border-gray-700 pb-4",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx(ar,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}),s.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:r.rating?`${r.rating}/5`:"N/A"})]}),s.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:r.comments||"No comment provided."})]},n))}):s.jsx("p",{className:"text-gray-500 dark:text-gray-400 italic",children:"No feedback yet."})]})}),i2=({car:t,forceFavorite:e=!1,onToggleFavoriteApi:r})=>{const[n,a]=_.useState(!1),[i,o]=_.useState(!1),[c,d]=_.useState(!1),[h,m]=_.useState(!1),{isAuthenticated:f}=ph();_.useEffect(()=>{if(e){a(!0);return}a(!1)},[t?.id,e]);const g=async j=>{if(j.preventDefault(),j.stopPropagation(),!t?.id||i)return;if(!f){ve.error("Please log in to save favorites.");return}if(r)return r();const b=!n;a(b),o(!0);try{await Oe.post(`/cars/${t.id}/favorite`),ve.success(b?"Added to favorites":"Removed from favorites"),window.dispatchEvent(new Event("favoritesUpdated"))}catch(N){console.error("Favorite toggle error:",N),a(!b),ve.error("Failed to update favorite. Please try again.")}finally{o(!1)}},y={id:t.id,image:t.main_image_url||t.image||"/placeholder.png",brand:t.make||t.brand||"Car",model:t.model||"Model",year:t.year||"N/A",category:t.car_category||t.type||t.category||"Standard",seats:t.seats||4,transmission:t.transmission||"Auto",fuelType:t.fuel_type||t.fuelType||"Petrol",price:t.daily_rate||t.price||0,holidayRate:t.holiday_rate||null,deposit:t.deposit||null,isDeposit:t.is_deposit||!1,feedbacks:t.feedbacks||[],popular:t.popular||!1,location:t.live_location?.address||t.location||null},w=(j=>j.startsWith("data:")||/^https?:\/\//i.test(j)||j.startsWith("/api/")?j:j.startsWith("/storage/")?`/api${j}`:`/api/storage/${j.replace(/^storage\//i,"")}`)(y.image);return s.jsxs(Us,{to:`/cars/${y.id}`,className:"block group",children:[s.jsxs(Ue,{className:"relative overflow-hidden h-full flex flex-col bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 hover:border-[#00A19C] transition-all duration-300 hover:shadow-lg hover:shadow-[#00A19C]/20 hover:-translate-y-1 aspect-[2/3]",children:[s.jsxs("div",{className:"relative overflow-hidden bg-gray-100 dark:bg-gray-700",style:{height:"60%"},children:[!c&&s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 dark:from-gray-700 dark:via-gray-600 dark:to-gray-700 animate-pulse"}),s.jsx("img",{src:w,alt:`${y.brand} ${y.model}`,onLoad:()=>d(!0),onError:j=>{j.currentTarget.src.endsWith("/placeholder.png")||(j.currentTarget.onerror=null,j.currentTarget.src="/placeholder.png",d(!0))},className:`w-full h-full object-cover transition-transform duration-500 group-hover:scale-105 ${c?"opacity-100":"opacity-0"}`}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/10 to-transparent opacity-50 group-hover:opacity-70 transition-opacity duration-300"}),s.jsx("button",{onClick:g,disabled:i,"aria-label":n?"Remove from favorites":"Add to favorites",className:`absolute top-1.5 right-1.5 w-7 h-7 rounded-full backdrop-blur-sm flex items-center justify-center transition-all duration-300 z-20 ${n?"bg-red-500 shadow-md":"bg-white/90 dark:bg-gray-800/90 hover:scale-110"} ${i?"opacity-70 cursor-not-allowed":""}`,children:s.jsx(Kl,{className:`w-3.5 h-3.5 transition-all ${n?"fill-white text-white":"text-gray-700 dark:text-gray-300"}`})}),s.jsx("div",{className:"absolute top-1.5 left-1.5 z-10",children:s.jsx(We,{className:"bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm text-[#00A19C] dark:text-[#8EDC81] border border-[#00A19C]/30 dark:border-[#8EDC81]/30 text-[10px] font-semibold px-1.5 py-0.5",children:y.category})}),y.popular&&s.jsx("div",{className:"absolute bottom-1.5 left-1.5 z-10",children:s.jsxs(We,{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white text-[10px] font-bold border-0 px-1.5 py-0.5 flex items-center gap-0.5",children:[s.jsx(ar,{className:"w-2.5 h-2.5 fill-white"}),"Popular"]})}),s.jsx("div",{className:"absolute bottom-1.5 right-1.5 z-10",children:s.jsxs(We,{className:"bg-gradient-to-r from-[#00A19C] to-[#8EDC81] text-white text-[10px] font-bold px-1.5 py-0.5",children:["$",y.price,"/day"]})})]}),s.jsxs(qe,{className:"p-2 flex-grow flex flex-col",style:{height:"40%"},children:[s.jsx("div",{className:"mb-1",children:s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"text-[10px] font-semibold text-[#00A19C] dark:text-[#8EDC81] uppercase tracking-wide",children:y.brand}),s.jsx("h3",{className:"text-xs font-bold text-gray-900 dark:text-white line-clamp-1 group-hover:text-[#00A19C] dark:group-hover:text-[#8EDC81] transition-colors",children:y.model})]}),s.jsxs("div",{className:"flex flex-col items-end gap-0.5",children:[s.jsx("p",{className:"text-[9px] text-gray-500 dark:text-gray-400",children:y.year}),y.location&&y.location.trim()!==""&&s.jsxs("div",{className:"flex items-center gap-0.5",children:[s.jsx(Ps,{className:"w-2.5 h-2.5 text-gray-400 dark:text-gray-500"}),s.jsx("p",{className:"text-[9px] text-gray-500 dark:text-gray-400 line-clamp-1",children:y.location.trim()})]})]})]})}),s.jsxs("div",{className:"grid grid-cols-3 gap-1 mb-1",children:[s.jsxs("div",{className:"flex flex-col items-center p-1 rounded bg-gray-50 dark:bg-gray-700/50 group-hover:bg-[#00A19C]/10 dark:group-hover:bg-[#00A19C]/20 transition-colors",children:[s.jsx(Ss,{className:"w-2.5 h-2.5 text-[#00A19C] dark:text-[#8EDC81] mb-0.5"}),s.jsx("span",{className:"text-[9px] font-semibold text-gray-700 dark:text-gray-300",children:y.seats})]}),s.jsxs("div",{className:"flex flex-col items-center p-1 rounded bg-gray-50 dark:bg-gray-700/50 group-hover:bg-[#00A19C]/10 dark:group-hover:bg-[#00A19C]/20 transition-colors",children:[s.jsx(Pm,{className:"w-2.5 h-2.5 text-[#00A19C] dark:text-[#8EDC81] mb-0.5"}),s.jsx("span",{className:"text-[9px] font-semibold text-gray-700 dark:text-gray-300 truncate w-full text-center",children:y.transmission.slice(0,4)})]}),s.jsxs("div",{className:"flex flex-col items-center p-1 rounded bg-gray-50 dark:bg-gray-700/50 group-hover:bg-[#00A19C]/10 dark:group-hover:bg-[#00A19C]/20 transition-colors",children:[s.jsx(R0,{className:"w-2.5 h-2.5 text-[#00A19C] dark:text-[#8EDC81] mb-0.5"}),s.jsx("span",{className:"text-[9px] font-semibold text-gray-700 dark:text-gray-300 truncate w-full text-center",children:y.fuelType.slice(0,4)})]})]}),(y.holidayRate||y.isDeposit)&&s.jsxs("div",{className:"flex items-center gap-1 mb-1 text-[9px]",children:[y.holidayRate&&s.jsxs("div",{className:"flex-1 text-center p-1 bg-gradient-to-br from-[#00A19C]/10 to-[#8EDC81]/10 dark:from-[#1e5f7a]/20 dark:to-[#00A19C]/20 rounded border border-[#00A19C]/20",children:[s.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium text-[8px] leading-tight",children:"Holiday"}),s.jsxs("p",{className:"font-bold text-[#1e5f7a] dark:text-[#8EDC81] text-[10px] leading-tight",children:["$",y.holidayRate]})]}),y.isDeposit&&s.jsxs("div",{className:"flex-1 text-center p-1 bg-amber-50 dark:bg-amber-900/20 rounded border border-amber-200 dark:border-amber-800",children:[s.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium text-[8px] leading-tight",children:"Deposit"}),s.jsxs("p",{className:"font-bold text-amber-600 dark:text-amber-400 text-[10px] leading-tight",children:["$",y.deposit]})]})]}),s.jsxs("button",{onClick:j=>{j.preventDefault(),j.stopPropagation(),m(!0)},className:"w-full flex items-center justify-between p-1 rounded bg-gray-50 dark:bg-gray-700/50 hover:bg-[#00A19C]/10 dark:hover:bg-[#00A19C]/20 transition-all border border-gray-200 dark:border-gray-700 hover:border-[#00A19C] group/feedback mb-1","aria-label":"Open customer feedback",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(D0,{className:"w-2.5 h-2.5 text-[#00A19C] dark:text-[#8EDC81]"}),s.jsx("span",{className:"text-[9px] font-semibold text-gray-900 dark:text-white",children:"Reviews"})]}),s.jsx(We,{className:"bg-gradient-to-r from-[#00A19C] to-[#8EDC81] text-white text-[9px] font-bold px-1 py-0",children:y.feedbacks.length})]}),s.jsx(pe,{className:"w-full bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] hover:from-[#184a5e] hover:via-[#008c88] hover:to-[#7bc876] text-white font-bold py-1.5 text-[10px] rounded-lg shadow-md hover:shadow-lg transition-all duration-300 hover:scale-[1.02] group/btn",children:s.jsxs("span",{className:"flex items-center justify-center gap-1",children:[s.jsx(nr,{className:"w-2.5 h-2.5"}),"View Details",s.jsx(bd,{className:"w-2.5 h-2.5 group-hover/btn:translate-x-0.5 transition-transform"})]})})]})]}),h&&s.jsx(bee,{feedbacks:t.feedbacks||[],onClose:()=>m(!1)})]})},vee=["All Brands","BMW","Mercedes","Audi","Tesla","Porsche","Lexus","Range Rover","Jaguar"],wee=["All Types","Sedan","SUV","Sports","Luxury","Electric","Convertible"],jee=["All","Automatic","Manual"],_ee=[{id:1,brand:"BMW",model:"M5 Competition",type:"Sports",transmission:"Automatic",fuelType:"Petrol",seats:5,price:299,rating:4.8,reviews:127,image:"/ali1.jpg",images:["/ali2.jpg","/ali3.jpg","/ali4.jpg"],description:"Experience the perfect blend of luxury and performance with the BMW M5 Competition. This high-performance sedan delivers 617 horsepower and can accelerate from 0-60 mph in just 3.1 seconds.",features:["Sport Mode","Leather Interior","Premium Sound","Navigation","Adaptive Cruise Control","Parking Assist"],popular:!0},{id:2,brand:"Mercedes",model:"S-Class",type:"Luxury",transmission:"Automatic",fuelType:"Hybrid",seats:5,price:349,rating:4.9,reviews:203,image:"/ali6.jpg",images:["https://images.unsplash.com/photo-1618843479313-40f8afb4b4d8?w=800&q=80","https://images.unsplash.com/photo-1617531653520-bd788a65c79a?w=800&q=80","https://images.unsplash.com/photo-1609521263047-f8f205293f24?w=800&q=80"],description:"The epitome of luxury and innovation. The Mercedes S-Class offers unparalleled comfort with cutting-edge technology and a supremely refined driving experience.",features:["Massage Seats","Ambient Lighting","Executive Rear Seats","Burmester Sound","Active Safety","Night Vision"],popular:!0},{id:3,brand:"Tesla",model:"Model S Plaid",type:"Electric",transmission:"Automatic",fuelType:"Electric",seats:5,price:279,rating:4.7,reviews:189,image:"https://images.unsplash.com/photo-1617788138017-80ad40651399?w=800&q=80",images:["https://images.unsplash.com/photo-1617788138017-80ad40651399?w=800&q=80","https://images.unsplash.com/photo-1560958089-b8a1929cea89?w=800&q=80","https://images.unsplash.com/photo-1536700503339-1e4b06520771?w=800&q=80"],description:"The quickest accelerating production car ever made. The Tesla Model S Plaid reaches 0-60 mph in under 2 seconds with a top speed of 200 mph.",features:["Autopilot","Premium Connectivity","Supercharging","Glass Roof","HEPA Air Filter","Gaming Computer"],popular:!0},{id:4,brand:"Range Rover",model:"Sport HSE",type:"SUV",transmission:"Automatic",fuelType:"Diesel",seats:7,price:329,rating:4.6,reviews:145,image:"https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=800&q=80",images:["https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=800&q=80","https://images.unsplash.com/photo-1519641471654-76ce0107ad1b?w=800&q=80","https://images.unsplash.com/photo-1533473359331-0135ef1b58bf?w=800&q=80"],description:"Commanding presence meets refined luxury. The Range Rover Sport HSE delivers exceptional off-road capability while maintaining an elegant and comfortable ride.",features:["Terrain Response","Air Suspension","Panoramic Roof","Meridian Sound","Wade Sensing","7-Seater"],popular:!1},{id:5,brand:"Porsche",model:"911 Carrera",type:"Sports",transmission:"Manual",fuelType:"Petrol",seats:2,price:399,rating:4.9,reviews:167,image:"https://images.unsplash.com/photo-1503376780353-7e6692767b70?w=800&q=80",images:["https://images.unsplash.com/photo-1503376780353-7e6692767b70?w=800&q=80","https://images.unsplash.com/photo-1614200187524-dc4b892acf16?w=800&q=80","https://images.unsplash.com/photo-1611651149758-ab7796b5e5ec?w=800&q=80"],description:"The iconic sports car that defines performance excellence. The Porsche 911 Carrera combines timeless design with cutting-edge engineering for an unforgettable driving experience.",features:["Sport Chrono","PASM Suspension","Sport Exhaust","Porsche Track Precision","Carbon Fiber","Launch Control"],popular:!0},{id:6,brand:"Audi",model:"e-tron GT",type:"Electric",transmission:"Automatic",fuelType:"Electric",seats:4,price:289,rating:4.7,reviews:134,image:"https://images.unsplash.com/photo-1614162692292-7ac56d7f8f8c?w=800&q=80",images:["https://images.unsplash.com/photo-1614162692292-7ac56d7f8f8c?w=800&q=80","https://images.unsplash.com/photo-1610768764270-790fbec18178?w=800&q=80","https://images.unsplash.com/photo-1606152421802-db97b9c7a11b?w=800&q=80"],description:"Electric performance redefined. The Audi e-tron GT delivers exhilarating acceleration and exceptional range in a stunning grand tourer package.",features:["Quattro AWD","Matrix LED","Virtual Cockpit","Fast Charging","Adaptive Air Suspension","Bang & Olufsen"],popular:!1},{id:7,brand:"Lexus",model:"LC 500",type:"Luxury",transmission:"Automatic",fuelType:"Petrol",seats:2,price:319,rating:4.8,reviews:98,image:"https://images.unsplash.com/photo-1621939514649-280e2ee25f60?w=800&q=80",images:["https://images.unsplash.com/photo-1621939514649-280e2ee25f60?w=800&q=80","https://images.unsplash.com/photo-1563720360172-67b8f3dce741?w=800&q=80","https://images.unsplash.com/photo-1552519507-da3b142c6e3d?w=800&q=80"],description:"A masterpiece of Japanese craftsmanship. The Lexus LC 500 combines breathtaking design with a naturally aspirated V8 engine for an unforgettable grand touring experience.",features:["Mark Levinson Audio","Adaptive Variable Suspension","Head-Up Display","Handcrafted Interior","Sport Mode","Active Rear Steering"],popular:!1},{id:8,brand:"BMW",model:"X7 M50i",type:"SUV",transmission:"Automatic",fuelType:"Petrol",seats:7,price:359,rating:4.7,reviews:112,image:"https://images.unsplash.com/photo-1617814076367-b759c7d7e738?w=800&q=80",images:["https://images.unsplash.com/photo-1617814076367-b759c7d7e738?w=800&q=80","https://images.unsplash.com/photo-1552519507-da3b142c6e3d?w=800&q=80","https://images.unsplash.com/photo-1606220945770-b5b6c2c55bf1?w=800&q=80"],description:"The ultimate luxury SUV for families who demand both space and performance. The BMW X7 M50i offers seating for seven without compromising on power or prestige.",features:["Sky Lounge Panoramic","Executive Lounge Seating","Gesture Control","Harman Kardon","Wireless Charging","Trailer Assist"],popular:!1},{id:9,brand:"Mercedes",model:"AMG GT",type:"Sports",transmission:"Automatic",fuelType:"Petrol",seats:2,price:429,rating:4.9,reviews:156,image:"https://images.unsplash.com/photo-1618843479313-40f8afb4b4d8?w=800&q=80",images:["https://images.unsplash.com/photo-1618843479313-40f8afb4b4d8?w=800&q=80","https://images.unsplash.com/photo-1614200187524-dc4b892acf16?w=800&q=80","https://images.unsplash.com/photo-1611651149758-ab7796b5e5ec?w=800&q=80"],description:"Pure automotive passion. The Mercedes-AMG GT combines race-bred performance with everyday usability, delivering an exhilarating driving experience on any road.",features:["AMG Performance Exhaust","AMG Ride Control","Race Mode","Carbon Fiber Package","Performance Seats","AMG Track Pace"],popular:!0},{id:10,brand:"Jaguar",model:"F-Type R",type:"Convertible",transmission:"Automatic",fuelType:"Petrol",seats:2,price:339,rating:4.6,reviews:87,image:"https://images.unsplash.com/photo-1580414057167-d31b2f96f6c8?w=800&q=80",images:["https://images.unsplash.com/photo-1580414057167-d31b2f96f6c8?w=800&q=80","https://images.unsplash.com/photo-1552519507-da3b142c6e3d?w=800&q=80","https://images.unsplash.com/photo-1567818735868-e71b99932e29?w=800&q=80"],description:"British sports car excellence. The Jaguar F-Type R delivers supercharged V8 performance with stunning design and an exhaust note that will make your heart race.",features:["Configurable Dynamics","Active Exhaust","Convertible Top","Meridian Sound","Performance Brakes","Torque Vectoring"],popular:!1},{id:11,brand:"Audi",model:"RS Q8",type:"SUV",transmission:"Automatic",fuelType:"Petrol",seats:5,price:369,rating:4.8,reviews:143,image:"https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=800&q=80",images:["https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=800&q=80","https://images.unsplash.com/photo-1519641471654-76ce0107ad1b?w=800&q=80","https://images.unsplash.com/photo-1533473359331-0135ef1b58bf?w=800&q=80"],description:"The pinnacle of performance SUVs. The Audi RS Q8 combines brutal acceleration with sophisticated handling and luxurious comfort for the ultimate all-weather sports car.",features:["Sport Differential","Dynamic All-Wheel Steering","Carbon Ceramic Brakes","RS Sport Exhaust","Matrix LED","Virtual Cockpit Plus"],popular:!1},{id:12,brand:"Tesla",model:"Model X",type:"SUV",transmission:"Automatic",fuelType:"Electric",seats:7,price:299,rating:4.7,reviews:201,image:"https://images.unsplash.com/photo-1560958089-b8a1929cea89?w=800&q=80",images:["https://images.unsplash.com/photo-1560958089-b8a1929cea89?w=800&q=80","https://images.unsplash.com/photo-1536700503339-1e4b06520771?w=800&q=80","https://images.unsplash.com/photo-1617788138017-80ad40651399?w=800&q=80"],description:"The future of family transportation. The Tesla Model X offers falcon-wing doors, seating for seven, and acceleration that rivals sports cars, all with zero emissions.",features:["Falcon Wing Doors","Full Self-Driving","HEPA Filter","Bioweapon Defense Mode",'17" Touchscreen',"Dog Mode"],popular:!0}];_ee.filter(t=>t.popular);const Nee=["GPS Navigation","Bluetooth","Backup Camera","Sunroof","Leather Seats","Heated Seats","Apple CarPlay","Android Auto","Parking Sensors","Cruise Control","Lane Assist","Collision Warning","Blind Spot Monitor","Keyless Entry","Push Start","Climate Control","USB Charging","Premium Sound"],See=[{value:"all",label:"All Fuel Types"},{value:"benz",label:"Gasoline"},{value:"diesel",label:"Diesel"},{value:"electric",label:"Electric"},{value:"hybrid",label:"Hybrid"}],Cee=[{value:"all",label:"All Drive Types"},{value:"4x4",label:"4x4 / AWD"},{value:"2_front",label:"Front Wheel Drive"},{value:"2_back",label:"Rear Wheel Drive"},{value:"autoblock",label:"Autoblock"}],kee=["Black","White","Silver","Gray","Red","Blue","Green","Yellow","Orange","Brown"],Aee=[{value:"all",label:"All Cylinders"},{value:"4",label:"4 Cylinder"},{value:"6",label:"6 Cylinder"},{value:"8",label:"8 Cylinder"},{value:"10",label:"10 Cylinder"},{value:"12",label:"12 Cylinder"}],BT=()=>{const[t,e]=_.useState([]),[r,n]=_.useState([]),[a,i]=_.useState(!0),[o,c]=_.useState({brand:"All Brands",type:"All Types",transmission:"All",priceRange:[0,1500],search:"",startDate:"",endDate:""}),[d,h]=_.useState({yearMin:"",yearMax:"",cylinderNumber:"all",color:"all",mileageMax:"",fuelType:"all",wheelsDrive:"all",seatsMin:"",doorsMin:"",features:[],withDriver:!1,isDelivered:!1,requiresDeposit:!1,holidayRateMax:""}),[m,f]=_.useState("featured"),[g,y]=_.useState(!1),[v,w]=_.useState(!1),j=_.useRef(!1),b=_.useRef(null),N=_.useRef(null),k=_.useCallback(U=>{j.current=!0,c(L=>({...L,...U}))},[]),S=_.useCallback(U=>{j.current=!0,h(L=>({...L,...U}))},[]);_.useEffect(()=>{(async()=>{try{i(!0);const O=((await Oe.get("/cars")).data.cars??[]).map(se=>{const K=se.feedbacks??[],M=K.length>0?(K.reduce((X,$)=>X+(Number($.rating)||0),0)/K.length).toFixed(1):null;return{id:se.id,brand:se.make,make:se.make,model:se.model,year:se.year,type:se.car_category,category:se.car_category,transmission:se.transmission,price:Number(se.daily_rate),holidayRate:Number(se.holiday_rate||se.daily_rate),image:se.main_image_url,rating:M,reviews:K.length,popular:(se.views_count??0)>20,seats:se.seats,doors:se.doors,fuel_type:se.fuel_type,fuelType:se.fuel_type,wheelsDrive:se.wheels_drive,cylinderNumber:se.cylinder_number,color:se.color,mileage:se.mileage,features:se.features||[],withDriver:se.with_driver,isDelivered:se.is_delivered,feedbacks:K}});n(O),e(O)}catch(L){console.error("Cars fetch error:",L)}finally{i(!1)}})()},[]),_.useEffect(()=>{let U=[...r];switch(o.search&&(U=U.filter(L=>`${L.brand} ${L.model}`.toLowerCase().includes(o.search.toLowerCase()))),o.brand!=="All Brands"&&(U=U.filter(L=>L.brand===o.brand)),o.type!=="All Types"&&(U=U.filter(L=>L.type===o.type)),o.transmission!=="All"&&(U=U.filter(L=>L.transmission===o.transmission)),U=U.filter(L=>L.price>=o.priceRange[0]&&L.price<=o.priceRange[1]),d.yearMin&&(U=U.filter(L=>L.year>=Number(d.yearMin))),d.yearMax&&(U=U.filter(L=>L.year<=Number(d.yearMax))),d.cylinderNumber!=="all"&&(U=U.filter(L=>L.cylinderNumber===d.cylinderNumber)),d.color!=="all"&&(U=U.filter(L=>L.color?.toLowerCase()===d.color.toLowerCase())),d.mileageMax&&(U=U.filter(L=>(L.mileage||0)<=Number(d.mileageMax))),d.fuelType!=="all"&&(U=U.filter(L=>L.fuelType===d.fuelType)),d.wheelsDrive!=="all"&&(U=U.filter(L=>L.wheelsDrive===d.wheelsDrive)),d.seatsMin&&(U=U.filter(L=>(L.seats||0)>=Number(d.seatsMin))),d.doorsMin&&(U=U.filter(L=>(L.doors||0)>=Number(d.doorsMin))),d.holidayRateMax&&(U=U.filter(L=>(L.holidayRate||L.price)<=Number(d.holidayRateMax))),d.withDriver&&(U=U.filter(L=>L.withDriver)),d.isDelivered&&(U=U.filter(L=>L.isDelivered)),d.features.length>0&&(U=U.filter(L=>{const Z=L.features||[];return d.features.every(O=>Z.includes(O))})),m){case"price-low":U.sort((L,Z)=>L.price-Z.price);break;case"price-high":U.sort((L,Z)=>Z.price-L.price);break;case"rating":U.sort((L,Z)=>(Number(Z.rating)||0)-(Number(L.rating)||0));break;case"popular":U.sort((L,Z)=>(Z.reviews??0)-(L.reviews??0));break;case"year-new":U.sort((L,Z)=>(Z.year||0)-(L.year||0));break;case"year-old":U.sort((L,Z)=>(L.year||0)-(Z.year||0));break;default:U.sort((L,Z)=>(Z.popular?1:0)-(L.popular?1:0))}e(U)},[o,d,m,r]);const C=U=>({Sedan:"normal",SUV:"normal",Hatchback:"normal",Coupe:"sport",Convertible:"sport","Sports Car":"sport",Luxury:"luxury","Luxury Sedan":"luxury",Van:"commercial",Minivan:"commercial",Truck:"commercial",Pickup:"commercial",Bus:"commercial",Commercial:"commercial",Industrial:"industrial",Event:"event",Boat:"sea",Yacht:"sea","Jet Ski":"sea"})[U]||"normal",B=_.useCallback(()=>{const U={},L=(o.brand||"").trim(),Z=(o.type||"").trim(),O=(o.transmission||"").trim(),se=(o.search||"").trim();if(L&&L!=="All Brands")U.make=L,se&&(U.model=se);else if(se){const X=se.split(/\s+/).filter(Boolean);X.length>=2?(U.make=X[0],U.model=X.slice(1).join(" ")):X.length===1&&(U.model=se)}Z&&Z!=="All Types"&&(U.car_category=C(Z)),O&&O!=="All"&&(U.transmission=O.toLowerCase());const[K,M]=o.priceRange;return K>0&&(U.daily_rate_min=K),M<1500&&(U.daily_rate_max=M),d.yearMin&&(U.year_min=Number(d.yearMin)),d.yearMax&&(U.year_max=Number(d.yearMax)),d.cylinderNumber&&d.cylinderNumber!=="all"&&(U.cylinder_number=d.cylinderNumber),d.color&&d.color!=="all"&&(U.color=d.color),d.mileageMax&&(U.mileage=Number(d.mileageMax)),d.fuelType&&d.fuelType!=="all"&&(U.fuel_type=d.fuelType),d.wheelsDrive&&d.wheelsDrive!=="all"&&(U.wheels_drive=d.wheelsDrive),d.seatsMin&&(U.seats=Number(d.seatsMin)),d.doorsMin&&(U.doors=Number(d.doorsMin)),d.features.length>0&&(U.features=d.features),d.withDriver&&(U.with_driver=1),d.isDelivered&&(U.is_delivered=1),d.requiresDeposit&&(U.is_deposit=1),d.holidayRateMax&&(U.holiday_rate=Number(d.holidayRateMax)),U},[o,d]),E=_.useMemo(()=>{const U=[o.brand!=="All Brands",o.type!=="All Types",o.transmission!=="All",o.priceRange[0]!==0||o.priceRange[1]!==1500,o.search.trim()!=="",o.startDate!=="",o.endDate!==""].filter(Boolean).length,L=[d.yearMin!=="",d.yearMax!=="",d.cylinderNumber!=="all",d.color!=="all",d.mileageMax!=="",d.fuelType!=="all",d.wheelsDrive!=="all",d.seatsMin!=="",d.doorsMin!=="",d.features.length>0,d.withDriver,d.isDelivered,d.requiresDeposit,d.holidayRateMax!==""].filter(Boolean).length;return U+L},[o,d]),z=_.useCallback(async U=>{if(Object.keys(U).length===0)return;const L=JSON.stringify(U);if(N.current===L)return;let Z,O;if(o.startDate&&o.endDate){const K=M=>M?M.replace("T"," ")+":00":"";Z=K(o.startDate),O=K(o.endDate)}else{const K=new Date,M=new Date;M.setDate(K.getDate()+7);const X=$=>{const oe=$.getFullYear(),q=String($.getMonth()+1).padStart(2,"0"),Y=String($.getDate()).padStart(2,"0"),ce=String($.getHours()).padStart(2,"0"),le=String($.getMinutes()).padStart(2,"0"),be=String($.getSeconds()).padStart(2,"0");return`${oe}-${q}-${Y} ${ce}:${le}:${be}`};Z=X(K),O=X(M)}const se={...U,start_datetime:Z,end_datetime:O};try{await Oe.get("/cars/search",{params:se}),N.current=L,console.log(" Search saved to frequent searches")}catch(K){K.response?.status===422&&console.error(" Validation error details:",K.response?.data?.errors),console.warn("Could not save frequent search:",K.response?.data?.message||K.message)}},[o]);_.useEffect(()=>{if(j.current&&E!==0)return b.current&&clearTimeout(b.current),b.current=setTimeout(()=>{const U=B();z(U)},1500),()=>{b.current&&clearTimeout(b.current)}},[o,d,E,B,z]);const T=_.useCallback(()=>{j.current=!0,c({brand:"All Brands",type:"All Types",transmission:"All",priceRange:[0,1500],search:"",startDate:"",endDate:""}),h({yearMin:"",yearMax:"",cylinderNumber:"all",color:"all",mileageMax:"",fuelType:"all",wheelsDrive:"all",seatsMin:"",doorsMin:"",features:[],withDriver:!1,isDelivered:!1,requiresDeposit:!1,holidayRateMax:""}),f("featured")},[]),W=_.useCallback(U=>{h(L=>({...L,features:L.features.includes(U)?L.features.filter(Z=>Z!==U):[...L.features,U]}))},[]);return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-cyan-50/30 dark:from-gray-950 dark:via-gray-900 dark:to-cyan-950/30",children:[s.jsxs("section",{className:"relative bg-gradient-to-r from-cyan-700 via-teal-600 to-cyan-800 dark:from-cyan-900 dark:via-teal-800 dark:to-cyan-950 overflow-hidden",children:[s.jsx("div",{className:"absolute inset-0 bg-grid-white/[0.05] bg-[size:20px_20px]"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/10 to-transparent"}),s.jsx("div",{className:"container mx-auto px-4 py-12 relative",children:s.jsxs("div",{className:"max-w-4xl",children:[s.jsx("p",{className:"text-cyan-50 text-lg md:text-xl mb-6 max-w-2xl"}),s.jsxs("p",{className:"text-cyan-50 text-lg md:text-xl mb-6 max-w-2xl",children:["Explore our premium collection of"," ",s.jsx("span",{className:"font-bold text-white bg-white/20 px-2 py-0.5 rounded",children:r.length})," ","vehicles from top brands"]})]})})]}),s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsx("div",{className:"lg:hidden mb-6",children:s.jsxs(pe,{onClick:()=>y(!g),variant:"outline",className:"w-full h-12 border-2 border-cyan-700 hover:bg-cyan-50 dark:hover:bg-cyan-900/30 transition-all rounded-xl font-semibold text-cyan-700 shadow-sm",children:[s.jsx(MW,{className:"w-5 h-5 mr-2"}),g?"Hide Filters":"Show Filters",E>0&&s.jsx(We,{className:"ml-auto bg-cyan-700 text-white h-6 px-2",children:E})]})}),s.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[s.jsx("aside",{className:`lg:w-80 flex-shrink-0 ${g?"block":"hidden lg:block"}`,children:s.jsxs("div",{className:"sticky top-24 space-y-4",children:[s.jsxs(Ue,{className:"border-0 shadow-lg bg-white dark:bg-gray-900 overflow-hidden",children:[s.jsx(ps,{className:"pb-4 bg-gradient-to-r from-cyan-50 to-teal-50 dark:from-cyan-900/20 dark:to-teal-900/20 border-b border-gray-200 dark:border-gray-800",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(gs,{className:"flex items-center gap-2 text-lg",children:[s.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-cyan-700 to-teal-600 flex items-center justify-center",children:s.jsx(TG,{className:"w-4 h-4 text-white"})}),s.jsx("span",{children:"Search Filters"})]}),E>0&&s.jsx(pe,{variant:"ghost",size:"sm",onClick:T,className:"text-xs text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/30 h-8 px-3 font-semibold",children:"Clear All"})]})}),s.jsxs(qe,{className:"space-y-5 pt-5 pb-6",children:[s.jsxs("div",{children:[s.jsxs(ue,{htmlFor:"search",className:"mb-2.5 text-sm font-semibold flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[s.jsx(Br,{className:"w-4 h-4 text-cyan-700"}),"Quick Search"]}),s.jsxs("div",{className:"relative",children:[s.jsx(Br,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx(Se,{id:"search",placeholder:"e.g., BMW X5, Mercedes...",value:o.search,onChange:U=>k({search:U.target.value}),className:"h-11 text-sm pl-10 pr-10 border-gray-300 focus:border-cyan-500 focus:ring-cyan-500"}),o.search&&s.jsx("button",{onClick:()=>k({search:""}),className:"absolute right-3 top-1/2 -translate-y-1/2 hover:bg-gray-100 dark:hover:bg-gray-800 p-1.5 rounded-full transition-colors","aria-label":"Clear search",children:s.jsx(tr,{className:"w-4 h-4 text-gray-500"})})]})]}),s.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-gray-300 dark:via-gray-700 to-transparent"}),s.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-amber-50 dark:from-yellow-900/20 dark:to-amber-900/20 border-2 border-yellow-300 dark:border-yellow-800 rounded-xl p-4 shadow-sm",children:[s.jsxs(ue,{className:"mb-3 text-sm font-bold flex items-center gap-2 text-yellow-900 dark:text-yellow-200",children:[s.jsx(Ux,{className:"w-4 h-4"}),"Rental Period"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"startDate",className:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-1.5 block",children:"Pick-up"}),s.jsx(Se,{id:"startDate",type:"datetime-local",value:o.startDate,onChange:U=>k({startDate:U.target.value}),className:"h-10 text-sm bg-white dark:bg-gray-800 border-yellow-200 dark:border-yellow-800",min:new Date().toISOString().slice(0,16)})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"endDate",className:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-1.5 block",children:"Return"}),s.jsx(Se,{id:"endDate",type:"datetime-local",value:o.endDate,onChange:U=>k({endDate:U.target.value}),className:"h-10 text-sm bg-white dark:bg-gray-800 border-yellow-200 dark:border-yellow-800",min:o.startDate||new Date().toISOString().slice(0,16)})]}),o.startDate&&o.endDate&&s.jsxs("div",{className:"flex items-center gap-2 text-xs text-yellow-900 dark:text-yellow-200 bg-yellow-100 dark:bg-yellow-900/40 p-2.5 rounded-lg font-semibold",children:[s.jsx(Hs,{className:"w-3.5 h-3.5"}),s.jsxs("span",{children:["Duration: ",(()=>{const U=new Date(o.startDate),L=new Date(o.endDate),Z=Math.ceil((L-U)/(1e3*60*60*24));return`${Z} day${Z!==1?"s":""}`})()]})]})]})]}),s.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-gray-300 dark:via-gray-700 to-transparent"}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx(ue,{className:"mb-2 text-xs font-semibold block text-gray-700 dark:text-gray-300",children:"Brand"}),s.jsxs(ft,{value:o.brand,onValueChange:U=>k({brand:U}),children:[s.jsx(ut,{className:"h-10 text-sm border-gray-300",children:s.jsx(mt,{})}),s.jsx(ht,{children:vee.map(U=>s.jsx(ke,{value:U,className:"text-sm",children:U},U))})]})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"mb-2 text-xs font-semibold block text-gray-700 dark:text-gray-300",children:"Type"}),s.jsxs(ft,{value:o.type,onValueChange:U=>k({type:U}),children:[s.jsx(ut,{className:"h-10 text-sm border-gray-300",children:s.jsx(mt,{})}),s.jsx(ht,{children:wee.map(U=>s.jsx(ke,{value:U,className:"text-sm",children:U},U))})]})]})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"mb-2 text-xs font-semibold block text-gray-700 dark:text-gray-300",children:"Transmission"}),s.jsxs(ft,{value:o.transmission,onValueChange:U=>k({transmission:U}),children:[s.jsx(ut,{className:"h-10 text-sm border-gray-300",children:s.jsx(mt,{})}),s.jsx(ht,{children:jee.map(U=>s.jsx(ke,{value:U,className:"text-sm",children:U},U))})]})]}),s.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-gray-300 dark:via-gray-700 to-transparent"}),s.jsxs("div",{className:"bg-gradient-to-br from-cyan-50 to-teal-50 dark:from-cyan-900/20 dark:to-teal-900/20 rounded-xl p-4 border border-cyan-200 dark:border-cyan-800",children:[s.jsxs(ue,{className:"mb-4 text-sm font-bold flex items-center justify-between text-gray-900 dark:text-white",children:[s.jsxs("span",{className:"flex items-center gap-2",children:[s.jsx(cr,{className:"w-4 h-4 text-cyan-700"}),"Daily Rate"]}),s.jsxs("span",{className:"text-cyan-700 dark:text-cyan-300 font-bold text-lg",children:["$",o.priceRange[0]," - $",o.priceRange[1]]})]}),s.jsx(m8,{value:o.priceRange,onValueChange:U=>k({priceRange:U}),min:0,max:1500,step:10,className:"mt-2"}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-600 dark:text-gray-400 mt-2 font-semibold",children:[s.jsx("span",{children:"$0"}),s.jsx("span",{children:"$1500+"})]})]}),s.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-gray-300 dark:via-gray-700 to-transparent"}),s.jsxs(Kr,{open:v,onOpenChange:w,children:[s.jsx(JJ,{asChild:!0,children:s.jsxs(pe,{variant:"outline",className:"w-full h-11 border-2 border-cyan-700 text-cyan-700 hover:bg-gradient-to-r hover:from-cyan-700 hover:to-teal-600 hover:text-white transition-all font-semibold shadow-sm",children:[s.jsx(YE,{className:"w-4 h-4 mr-2"}),"Advanced Filters",E-[o.brand!=="All Brands",o.type!=="All Types",o.transmission!=="All",o.priceRange[0]!==0||o.priceRange[1]!==1500,o.search.trim()!=="",o.startDate!=="",o.endDate!==""].filter(Boolean).length>0&&s.jsxs(We,{className:"ml-auto bg-cyan-700 text-white h-5 px-2 text-xs",children:["+",E-[o.brand!=="All Brands",o.type!=="All Types",o.transmission!=="All",o.priceRange[0]!==0||o.priceRange[1]!==1500,o.search.trim()!=="",o.startDate!=="",o.endDate!==""].filter(Boolean).length]})]})}),s.jsxs(Ir,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(zr,{children:[s.jsxs(Ur,{className:"flex items-center gap-2 text-xl",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-cyan-700 to-teal-600 flex items-center justify-center",children:s.jsx(YE,{className:"w-5 h-5 text-white"})}),"Advanced Search Filters"]}),s.jsx(Hi,{className:"text-base",children:"Fine-tune your search with detailed criteria to find the perfect vehicle"})]}),s.jsxs("div",{className:"space-y-6 py-6",children:[s.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700",children:[s.jsxs(ue,{className:"text-sm font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[s.jsx(Hs,{className:"w-5 h-5 text-cyan-700"}),"Year Range"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"yearMin",className:"text-xs text-gray-600 dark:text-gray-400 font-semibold",children:"From Year"}),s.jsx(Se,{id:"yearMin",type:"number",placeholder:"2015",value:d.yearMin,onChange:U=>S({yearMin:U.target.value}),className:"h-10 text-sm mt-1.5",min:"1900",max:new Date().getFullYear()+1})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"yearMax",className:"text-xs text-gray-600 dark:text-gray-400 font-semibold",children:"To Year"}),s.jsx(Se,{id:"yearMax",type:"number",placeholder:"2024",value:d.yearMax,onChange:U=>S({yearMax:U.target.value}),className:"h-10 text-sm mt-1.5",min:"1900",max:new Date().getFullYear()+1})]})]})]}),s.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700",children:[s.jsxs(ue,{className:"text-sm font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[s.jsx(zl,{className:"w-5 h-5 text-cyan-700"}),"Engine & Performance"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"cylinder",className:"text-xs text-gray-600 dark:text-gray-400 font-semibold",children:"Cylinders"}),s.jsxs(ft,{value:d.cylinderNumber,onValueChange:U=>S({cylinderNumber:U}),children:[s.jsx(ut,{id:"cylinder",className:"h-10 text-sm mt-1.5",children:s.jsx(mt,{})}),s.jsx(ht,{children:Aee.map(U=>s.jsx(ke,{value:U.value,className:"text-sm",children:U.label},U.value))})]})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"mileage",className:"text-xs text-gray-600 dark:text-gray-400 font-semibold",children:"Max Mileage"}),s.jsx(Se,{id:"mileage",type:"number",placeholder:"100000",value:d.mileageMax,onChange:U=>S({mileageMax:U.target.value}),className:"h-10 text-sm mt-1.5",min:"0"})]})]})]}),s.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700",children:[s.jsxs(ue,{className:"text-sm font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[s.jsx(R0,{className:"w-5 h-5 text-cyan-700"}),"Fuel & Drive Type"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"fuelType",className:"text-xs text-gray-600 dark:text-gray-400 font-semibold",children:"Fuel Type"}),s.jsxs(ft,{value:d.fuelType,onValueChange:U=>S({fuelType:U}),children:[s.jsx(ut,{id:"fuelType",className:"h-10 text-sm mt-1.5",children:s.jsx(mt,{})}),s.jsx(ht,{children:See.map(U=>s.jsx(ke,{value:U.value,className:"text-sm",children:U.label},U.value))})]})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"wheelsDrive",className:"text-xs text-gray-600 dark:text-gray-400 font-semibold",children:"Drive Type"}),s.jsxs(ft,{value:d.wheelsDrive,onValueChange:U=>S({wheelsDrive:U}),children:[s.jsx(ut,{id:"wheelsDrive",className:"h-10 text-sm mt-1.5",children:s.jsx(mt,{})}),s.jsx(ht,{children:Cee.map(U=>s.jsx(ke,{value:U.value,className:"text-sm",children:U.label},U.value))})]})]})]})]}),s.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700",children:[s.jsxs(ue,{className:"text-sm font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[s.jsx(cG,{className:"w-5 h-5 text-cyan-700"}),"Color Preference"]}),s.jsxs(ft,{value:d.color,onValueChange:U=>S({color:U}),children:[s.jsx(ut,{className:"h-10 text-sm",children:s.jsx(mt,{placeholder:"Select color"})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"all",className:"text-sm font-semibold",children:"All Colors"}),kee.map(U=>s.jsx(ke,{value:U,className:"text-sm",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-300",style:{backgroundColor:U.toLowerCase()}}),U]})},U))]})]})]}),s.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700",children:[s.jsxs(ue,{className:"text-sm font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[s.jsx(Ss,{className:"w-5 h-5 text-cyan-700"}),"Capacity Requirements"]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"seats",className:"text-xs text-gray-600 dark:text-gray-400 font-semibold",children:"Min Seats"}),s.jsx(Se,{id:"seats",type:"number",placeholder:"5",value:d.seatsMin,onChange:U=>S({seatsMin:U.target.value}),className:"h-10 text-sm mt-1.5",min:"1",max:"50"})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"doors",className:"text-xs text-gray-600 dark:text-gray-400 font-semibold",children:"Min Doors"}),s.jsx(Se,{id:"doors",type:"number",placeholder:"4",value:d.doorsMin,onChange:U=>S({doorsMin:U.target.value}),className:"h-10 text-sm mt-1.5",min:"1",max:"10"})]})]})]}),s.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700",children:[s.jsxs(ue,{className:"text-sm font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[s.jsx(cr,{className:"w-5 h-5 text-cyan-700"}),"Holiday Pricing"]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"holidayRate",className:"text-xs text-gray-600 dark:text-gray-400 font-semibold",children:"Max Holiday Rate"}),s.jsx(Se,{id:"holidayRate",type:"number",placeholder:"200",value:d.holidayRateMax,onChange:U=>S({holidayRateMax:U.target.value}),className:"h-10 text-sm mt-1.5",min:"0"})]})]}),s.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700",children:[s.jsxs(ue,{className:"text-sm font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[s.jsx(Ps,{className:"w-5 h-5 text-cyan-700"}),"Additional Services"]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 hover:border-cyan-500 transition-colors",children:[s.jsx(Vf,{id:"withDriver",checked:d.withDriver,onCheckedChange:U=>S({withDriver:U}),className:"data-[state=checked]:bg-cyan-700 data-[state=checked]:border-cyan-700"}),s.jsx(ue,{htmlFor:"withDriver",className:"text-sm cursor-pointer font-medium flex-1",children:"Available with driver"})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 hover:border-cyan-500 transition-colors",children:[s.jsx(Vf,{id:"isDelivered",checked:d.isDelivered,onCheckedChange:U=>S({isDelivered:U}),className:"data-[state=checked]:bg-cyan-700 data-[state=checked]:border-cyan-700"}),s.jsx(ue,{htmlFor:"isDelivered",className:"text-sm cursor-pointer font-medium flex-1",children:"Delivery available"})]}),s.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 hover:border-cyan-500 transition-colors",children:[s.jsx(Vf,{id:"requiresDeposit",checked:d.requiresDeposit,onCheckedChange:U=>S({requiresDeposit:U}),className:"data-[state=checked]:bg-cyan-700 data-[state=checked]:border-cyan-700"}),s.jsx(ue,{htmlFor:"requiresDeposit",className:"text-sm cursor-pointer font-medium flex-1",children:"Requires deposit"})]})]})]}),s.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700",children:[s.jsxs(ue,{className:"text-sm font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[s.jsx(jW,{className:"w-5 h-5 text-cyan-700"}),"Features & Amenities"]}),s.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-80 overflow-y-auto p-3 bg-white dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700",children:Nee.map(U=>s.jsxs("div",{className:"flex items-center space-x-2 p-2 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md transition-colors",children:[s.jsx(Vf,{id:`feature-${U}`,checked:d.features.includes(U),onCheckedChange:()=>W(U),className:"data-[state=checked]:bg-cyan-700 data-[state=checked]:border-cyan-700"}),s.jsx(ue,{htmlFor:`feature-${U}`,className:"text-xs cursor-pointer font-medium",children:U})]},U))}),d.features.length>0&&s.jsxs("p",{className:"text-sm text-cyan-700 dark:text-cyan-300 font-semibold bg-cyan-50 dark:bg-cyan-900/30 p-2 rounded-lg text-center",children:[" ",d.features.length," feature",d.features.length!==1?"s":""," selected"]})]})]}),s.jsxs("div",{className:"flex justify-between gap-3 pt-6 border-t-2 border-gray-200 dark:border-gray-700",children:[s.jsx(pe,{variant:"outline",onClick:()=>{h({yearMin:"",yearMax:"",cylinderNumber:"all",color:"all",mileageMax:"",fuelType:"all",wheelsDrive:"all",seatsMin:"",doorsMin:"",features:[],withDriver:!1,isDelivered:!1,requiresDeposit:!1,holidayRateMax:""})},className:"h-11 px-6 border-2 font-semibold",children:"Clear Advanced"}),s.jsx(pe,{onClick:()=>w(!1),className:"h-11 px-8 bg-gradient-to-r from-cyan-700 to-teal-600 hover:from-cyan-800 hover:to-teal-700 text-white font-semibold shadow-lg",children:"Apply Filters"})]})]})]})]})]}),s.jsx(Ue,{className:"border-0 shadow-md bg-gradient-to-br from-cyan-50 to-teal-50 dark:from-cyan-900/20 dark:to-teal-900/20",children:s.jsx(qe,{className:"p-4",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-cyan-700 to-teal-600 flex items-center justify-center flex-shrink-0",children:s.jsx(Kt,{className:"w-5 h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-bold text-sm text-gray-900 dark:text-white mb-1",children:"Need Help Choosing?"}),s.jsx("p",{className:"text-xs text-gray-700 dark:text-gray-300 leading-relaxed",children:"Use filters to narrow down your search and find the perfect vehicle for your needs."})]})]})})})]})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl p-5 mb-6 border-0 shadow-md",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-cyan-700 to-teal-600 rounded-xl flex items-center justify-center shadow-md",children:s.jsx(Kt,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium uppercase tracking-wide",children:"Available Now"}),s.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[t.length," ",t.length===1?"Vehicle":"Vehicles"]})]})]}),s.jsxs("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:[s.jsx(ue,{htmlFor:"sort",className:"text-sm font-bold text-gray-700 dark:text-gray-300 whitespace-nowrap",children:"Sort by:"}),s.jsxs(ft,{value:m,onValueChange:f,children:[s.jsx(ut,{id:"sort",className:"w-full sm:w-[200px] h-10 text-sm border-gray-300 font-medium",children:s.jsx(mt,{})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"featured",className:"text-sm font-medium",children:" Featured"}),s.jsx(ke,{value:"price-low",className:"text-sm font-medium",children:" Price: Low to High"}),s.jsx(ke,{value:"price-high",className:"text-sm font-medium",children:" Price: High to Low"}),s.jsx(ke,{value:"rating",className:"text-sm font-medium",children:" Highest Rated"}),s.jsx(ke,{value:"popular",className:"text-sm font-medium",children:" Most Popular"}),s.jsx(ke,{value:"year-new",className:"text-sm font-medium",children:" Newest First"}),s.jsx(ke,{value:"year-old",className:"text-sm font-medium",children:" Oldest First"})]})]})]})]}),E>0&&s.jsxs("div",{className:"mt-5 pt-5 border-t border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("p",{className:"text-sm font-bold text-gray-700 dark:text-gray-300",children:["Active Filters (",E,")"]}),s.jsx(pe,{variant:"ghost",size:"sm",onClick:T,className:"h-7 text-xs text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/30 font-semibold",children:"Clear All "})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[o.startDate&&s.jsxs(We,{variant:"secondary",className:"text-xs bg-yellow-100 dark:bg-yellow-900/30 border border-yellow-300 dark:border-yellow-700 px-3 py-1.5 font-medium",children:[" ",new Date(o.startDate).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),s.jsx("button",{onClick:()=>k({startDate:""}),className:"ml-2 hover:text-red-600",children:s.jsx(tr,{className:"w-3 h-3"})})]}),o.endDate&&s.jsxs(We,{variant:"secondary",className:"text-xs bg-yellow-100 dark:bg-yellow-900/30 border border-yellow-300 dark:border-yellow-700 px-3 py-1.5 font-medium",children:[" ",new Date(o.endDate).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),s.jsx("button",{onClick:()=>k({endDate:""}),className:"ml-2 hover:text-red-600",children:s.jsx(tr,{className:"w-3 h-3"})})]}),o.brand!=="All Brands"&&s.jsxs(We,{variant:"secondary",className:"text-xs bg-cyan-100 dark:bg-cyan-900/30 border border-cyan-300 dark:border-cyan-700 px-3 py-1.5 font-medium",children:[" ",o.brand,s.jsx("button",{onClick:()=>k({brand:"All Brands"}),className:"ml-2 hover:text-red-600",children:s.jsx(tr,{className:"w-3 h-3"})})]}),o.type!=="All Types"&&s.jsxs(We,{variant:"secondary",className:"text-xs bg-purple-100 dark:bg-purple-900/30 border border-purple-300 dark:border-purple-700 px-3 py-1.5 font-medium",children:[" ",o.type,s.jsx("button",{onClick:()=>k({type:"All Types"}),className:"ml-2 hover:text-red-600",children:s.jsx(tr,{className:"w-3 h-3"})})]}),o.transmission!=="All"&&s.jsxs(We,{variant:"secondary",className:"text-xs bg-green-100 dark:bg-green-900/30 border border-green-300 dark:border-green-700 px-3 py-1.5 font-medium",children:[" ",o.transmission,s.jsx("button",{onClick:()=>k({transmission:"All"}),className:"ml-2 hover:text-red-600",children:s.jsx(tr,{className:"w-3 h-3"})})]}),(o.priceRange[0]!==0||o.priceRange[1]!==1500)&&s.jsxs(We,{variant:"secondary",className:"text-xs bg-emerald-100 dark:bg-emerald-900/30 border border-emerald-300 dark:border-emerald-700 px-3 py-1.5 font-medium",children:[" $",o.priceRange[0]," - $",o.priceRange[1],s.jsx("button",{onClick:()=>k({priceRange:[0,1500]}),className:"ml-2 hover:text-red-600",children:s.jsx(tr,{className:"w-3 h-3"})})]}),d.yearMin&&s.jsxs(We,{variant:"secondary",className:"text-xs bg-blue-100 dark:bg-blue-900/30 border border-blue-300 dark:border-blue-700 px-3 py-1.5 font-medium",children:[" Year  ",d.yearMin,s.jsx("button",{onClick:()=>S({yearMin:""}),className:"ml-2 hover:text-red-600",children:s.jsx(tr,{className:"w-3 h-3"})})]}),d.yearMax&&s.jsxs(We,{variant:"secondary",className:"text-xs bg-blue-100 dark:bg-blue-900/30 border border-blue-300 dark:border-blue-700 px-3 py-1.5 font-medium",children:[" Year  ",d.yearMax,s.jsx("button",{onClick:()=>S({yearMax:""}),className:"ml-2 hover:text-red-600",children:s.jsx(tr,{className:"w-3 h-3"})})]}),d.features.length>0&&s.jsxs(We,{variant:"secondary",className:"text-xs bg-indigo-100 dark:bg-indigo-900/30 border border-indigo-300 dark:border-indigo-700 px-3 py-1.5 font-medium",children:[" ",d.features.length," Feature",d.features.length!==1?"s":"",s.jsx("button",{onClick:()=>S({features:[]}),className:"ml-2 hover:text-red-600",children:s.jsx(tr,{className:"w-3 h-3"})})]})]})]})]}),a?s.jsx("div",{className:"flex items-center justify-center py-32",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-20 h-20 border-4 border-cyan-700 border-t-transparent rounded-full animate-spin mx-auto mb-6"}),s.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Loading Vehicles"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Please wait while we fetch the best options..."})]})}):t.length>0?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6 sm:gap-8",children:t.map(U=>s.jsx(i2,{car:U},U.id))}):s.jsx(Ue,{className:"p-16 text-center border-2 border-dashed border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50 rounded-2xl",children:s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-700 mx-auto mb-6 flex items-center justify-center shadow-inner",children:s.jsx(Br,{className:"w-10 h-10 text-gray-400 dark:text-gray-500"})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-3",children:"No Vehicles Found"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-8 leading-relaxed",children:"We couldn't find any vehicles matching your criteria. Try adjusting your filters or broadening your search."}),s.jsxs(pe,{onClick:T,className:"bg-gradient-to-r from-cyan-700 to-teal-600 hover:from-cyan-800 hover:to-teal-700 text-white font-bold px-8 py-6 rounded-xl shadow-lg hover:shadow-xl transition-all",children:[s.jsx(tr,{className:"w-5 h-5 mr-2"}),"Reset All Filters"]})]})})]})]})]})]})};var Eee=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Tee=Eee.reduce((t,e)=>{const r=_N(`Primitive.${e}`),n=_.forwardRef((a,i)=>{const{asChild:o,...c}=a,d=o?r:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(d,{...c,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),Ree="Separator",IT="horizontal",Dee=["horizontal","vertical"],p8=_.forwardRef((t,e)=>{const{decorative:r,orientation:n=IT,...a}=t,i=Mee(n)?n:IT,c=r?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return s.jsx(Tee.div,{"data-orientation":i,...c,...a,ref:e})});p8.displayName=Ree;function Mee(t){return Dee.includes(t)}var g8=p8;const od=_.forwardRef(({className:t,orientation:e="horizontal",decorative:r=!0,...n},a)=>s.jsx(g8,{ref:a,decorative:r,orientation:e,className:_t("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));od.displayName=g8.displayName;const Pee=()=>{const{id:t}=lV(),e=sn();ph();const[r,n]=_.useState(null),[a,i]=_.useState(!0),[o,c]=_.useState(!1),[d,h]=_.useState(0),[m,f]=_.useState(!1),[g,y]=_.useState({pickupDate:"",returnDate:"",location:"",reason:""}),[v,w]=_.useState(!1),[j,b]=_.useState(!1),[N,k]=_.useState([]),S=_.useMemo(()=>new Date().toISOString().slice(0,16),[]),C=_.useMemo(()=>r?.images?.length?r.images[Math.min(d,r.images.length-1)]:"",[r,d]),B=O=>Array.isArray(O)?O:Array.isArray(O?.cars)?O.cars:Array.isArray(O?.favorites)?O.favorites:Array.isArray(O?.data)?O.data:[],E=(O,se)=>{const K=String(se);return O.some(M=>M==null?!1:typeof M=="string"||typeof M=="number"?String(M)===K:String(M.id??M.car_id??M.car?.id)===K)};_.useEffect(()=>{let O=!0;return(async()=>{i(!0);try{const M=(await Oe.get(`/cars/${t}`)).data.car,X=M.feedbacks??[],$=X.length>0?(X.reduce((Y,ce)=>Y+ce.rating,0)/X.length).toFixed(1):null,oe={id:M.id,brand:M.make,model:M.model,year:M.year,type:M.car_category,seats:M.seats,doors:M.doors,transmission:M.transmission,fuelType:M.fuel_type,mileage:M.mileage,drive:M.wheels_drive,location:M.live_location?.address??"N/A",price:Number(M.daily_rate),holidayRate:Number(M.holiday_rate),rating:$,reviews:X.length,features:M.features??[],description:M.notes??"",images:[M.main_image_url,M.front_image_url,M.back_image_url,M.left_image_url,M.right_image_url].filter(Boolean),deliveryAvailable:!!M.delivery_available};if(!O)return;if(n(oe),h(0),localStorage.getItem("authToken")||localStorage.getItem("token")){b(!0);try{const Y=await Oe.get("/cars/favorites/list"),ce=B(Y.data);if(!O)return;c(E(ce,oe.id))}catch{if(!O)return;c(!1)}finally{O&&b(!1)}}else b(!1);try{const Y=await Oe.get("/cars"),ce=Y.data?.cars??Y.data?.data??[],le=(Array.isArray(ce)?ce:[]).filter(be=>String(be.id)!==String(M.id)).slice(0,3).map(be=>{const ge=be.feedbacks??[],V=ge.length>0?(ge.reduce((H,me)=>H+(Number(me.rating)||0),0)/ge.length).toFixed(1):null;return{id:be.id,brand:be.make,make:be.make,model:be.model,year:be.year,type:be.car_category,category:be.car_category,price:Number(be.daily_rate),image:be.main_image_url,rating:V,reviews:ge.length,seats:be.seats,doors:be.doors,fuel_type:be.fuel_type,fuelType:be.fuel_type}});O&&k(le)}catch{O&&k([])}}catch(K){console.error("Car fetch error:",K),ve.error("Failed to load car details."),O&&n(null)}finally{O&&i(!1)}})(),window.scrollTo(0,0),()=>{O=!1}},[t]),_.useEffect(()=>{!m||!r||r.deliveryAvailable||y(O=>({...O,location:r.location||"N/A"}))},[m,r]);const T=(()=>{if(!g.pickupDate||!g.returnDate)return 0;const O=new Date(g.pickupDate),se=new Date(g.returnDate),K=Math.ceil((se-O)/(1e3*60*60*24));return K>0?K:0})(),W=r?T*r.price:0,U=async()=>{if(!r||j)return;if(!(localStorage.getItem("authToken")||localStorage.getItem("token"))){ve.error("Please log in to save favorites.");return}const se=!o;c(se),window.dispatchEvent(new Event("favoritesUpdated"));try{await Oe.post(`/cars/${r.id}/favorite`),ve.success(se?"Added to favorites":"Removed from favorites")}catch(K){console.error("Favorite toggle error:",K),c(!se),window.dispatchEvent(new Event("favoritesUpdated")),ve.error("Failed to update favorite. Please try again.")}},L=()=>{if(!r)return!1;if(r.deliveryAvailable&&!g.location.trim())return ve.error("Please enter pickup location."),!1;if(!g.pickupDate)return ve.error("Please select pickup date/time."),!1;if(!g.returnDate)return ve.error("Please select return date/time."),!1;const O=new Date(g.pickupDate);return new Date(g.returnDate)<=O?(ve.error("Return date must be after pickup date."),!1):!0},Z=async O=>{if(O.preventDefault(),!!L()){w(!0);try{const se={car_id:r.id,start_datetime:g.pickupDate,end_datetime:g.returnDate,pickup_location:r.deliveryAvailable?g.location:r.location,reason_of_booking:g.reason};(await Oe.post("/bookings",se)).status===201?(ve.success("Booking request submitted successfully! We'll contact you shortly.",{duration:5e3}),f(!1),y({pickupDate:"",returnDate:"",location:"",reason:""})):ve.error("Unexpected response from server. Please try again.")}catch(se){console.error("Booking error:",se);let K="Failed to submit booking request. Please try again.";if(se.response){if(se.response.status===400)K=se.response.data.message||K;else if(se.response.status===422){const M=se.response.data.errors;K=Object.values(M).flat().join(`
`)}}ve.error(K,{duration:5e3})}finally{w(!1)}}};return a?s.jsx("div",{className:"min-h-screen pt-20 flex items-center justify-center bg-background",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-12 h-10 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-3"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading car details..."})]})}):r?s.jsxs("div",{className:"min-h-screen pt-20 bg-background",children:[s.jsx("div",{className:"sticky top-16 z-40 border-b bg-background/80 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:s.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between gap-3",children:[s.jsxs(pe,{variant:"ghost",onClick:()=>e("/cars"),"aria-label":"Back to cars",children:[s.jsx(Ui,{className:"w-5 h-5 mr-2","aria-hidden":"true"}),"Back"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(pe,{variant:o?"secondary":"outline",onClick:U,"aria-label":o?"Remove from favorites":"Add to favorites",disabled:j,children:[s.jsx(Kl,{className:`w-4 h-4 mr-2 ${o?"fill-primary text-primary":""}`,"aria-hidden":"true"}),o?"Saved":"Save"]}),s.jsx(pe,{onClick:()=>f(!0),className:"bg-gradient-to-r from-teal-600 to-cyan-600 text-white",children:"Book Now"})]})]})}),s.jsxs("div",{className:"container mx-auto px-4 py-6 grid lg:grid-cols-12 gap-6",children:[s.jsxs("div",{className:"lg:col-span-8 space-y-6",children:[s.jsx(Ue,{className:"overflow-hidden",children:s.jsxs(qe,{className:"p-0",children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"aspect-[16/9] bg-muted",children:C?s.jsx("img",{src:`/api/storage/${C}`,alt:`${r.brand} ${r.model}`,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center text-sm text-muted-foreground",children:"No images available"})}),r.type&&s.jsx("div",{className:"absolute left-4 top-4",children:s.jsx(We,{className:"rounded-full",children:r.type})}),r.rating&&s.jsxs("div",{className:"absolute right-4 top-4 rounded-full bg-background/80 backdrop-blur px-3 py-1 flex items-center gap-2 border",children:[s.jsx(ar,{className:"w-4 h-4 fill-yellow-500 text-yellow-500","aria-hidden":"true"}),s.jsx("span",{className:"text-sm font-semibold",children:r.rating}),s.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",r.reviews,")"]})]})]}),r.images?.length>1&&s.jsx("div",{className:"p-4 border-t",children:s.jsx("div",{className:"grid grid-cols-5 sm:grid-cols-6 md:grid-cols-7 gap-2",children:r.images.map((O,se)=>s.jsx("button",{onClick:()=>h(se),className:`relative rounded-lg overflow-hidden border transition ${d===se?"ring-2 ring-primary border-transparent":"hover:border-primary/40"}`,"aria-label":`View image ${se+1}`,children:s.jsx("img",{src:`/api/storage/${O}`,alt:`Thumbnail ${se+1}`,className:"h-14 w-full object-cover",loading:"lazy"})},`${O}-${se}`))})})]})}),s.jsx(Ue,{children:s.jsxs(qe,{className:"p-5 space-y-4",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight",children:[r.brand," ",r.model," ",s.jsxs("span",{className:"text-muted-foreground font-semibold",children:["(",r.year,")"]})]}),s.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[s.jsx(Oee,{icon:s.jsx(Ps,{className:"w-4 h-4"}),label:r.location}),s.jsx(We,{variant:"secondary",className:"rounded-full",children:r.deliveryAvailable?"Delivery available":"Pickup only"})]})]}),s.jsxs("div",{className:"text-left sm:text-right",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Starting from"}),s.jsxs("p",{className:"text-3xl font-bold",children:["$",r.price,s.jsx("span",{className:"text-sm font-semibold text-muted-foreground",children:"/day"})]}),Number.isFinite(r.holidayRate)&&r.holidayRate>0&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Holiday: ",s.jsxs("span",{className:"font-semibold",children:["$",r.holidayRate]})]})]})]}),s.jsx(od,{}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[s.jsx(vu,{icon:Ss,label:"Seats",value:r.seats??"N/A"}),s.jsx(vu,{icon:vW,label:"Doors",value:r.doors??"N/A"}),s.jsx(vu,{icon:R0,label:"Fuel",value:r.fuelType??"N/A"}),s.jsx(vu,{icon:Pm,label:"Transmission",value:r.transmission??"N/A"}),s.jsx(vu,{icon:zl,label:"Mileage",value:r.mileage?`${r.mileage} km`:"N/A"}),s.jsx(vu,{icon:Kt,label:"Drive",value:r.drive??"N/A"})]})]})}),s.jsx(Ue,{children:s.jsxs(qe,{className:"p-5 space-y-3",children:[s.jsx("h3",{className:"text-base font-semibold",children:"Description"}),s.jsx("p",{className:"text-sm leading-relaxed text-muted-foreground",children:r.description?.trim()?r.description:"No description provided."})]})}),r.features?.length>0&&s.jsx(Ue,{children:s.jsxs(qe,{className:"p-5 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h3",{className:"text-base font-semibold",children:"Features"}),s.jsxs(We,{variant:"secondary",className:"rounded-full",children:[r.features.length," included"]})]}),s.jsx("div",{className:"grid sm:grid-cols-2 gap-3",children:r.features.map((O,se)=>s.jsxs("div",{className:"flex items-start gap-2 rounded-lg border p-3",children:[s.jsx(Gr,{className:"w-4 h-4 text-primary mt-0.5","aria-hidden":"true"}),s.jsx("span",{className:"text-sm",children:O})]},`${O}-${se}`))})]})})]}),s.jsx("div",{className:"lg:col-span-4",children:s.jsx(Ue,{className:"sticky top-28",children:s.jsxs(qe,{className:"p-5 space-y-4",children:[s.jsxs("div",{className:"flex items-start justify-between gap-3",children:[s.jsxs("div",{className:"space-y-1",children:[s.jsx(We,{className:"rounded-full w-fit",children:r.type||"Car"}),s.jsxs("h2",{className:"text-lg font-semibold leading-tight",children:[r.brand," ",r.model]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["Price: ",s.jsxs("span",{className:"font-semibold",children:["$",r.price,"/day"]})]})]}),r.rating&&s.jsxs("div",{className:"rounded-xl border px-3 py-2 text-center",children:[s.jsxs("div",{className:"flex items-center justify-center gap-1",children:[s.jsx(ar,{className:"w-4 h-4 fill-yellow-500 text-yellow-500","aria-hidden":"true"}),s.jsx("span",{className:"font-semibold",children:r.rating})]}),s.jsxs("p",{className:"text-[11px] text-muted-foreground",children:[r.reviews," reviews"]})]})]}),s.jsx(od,{}),s.jsxs("div",{className:"rounded-xl border bg-muted/30 p-4 space-y-2",children:[s.jsx(Pg,{label:"Pickup type",value:r.deliveryAvailable?"Delivery":"Pickup only"}),s.jsx(Pg,{label:"Car location",value:r.location}),s.jsx(Pg,{label:"Fuel",value:r.fuelType??"N/A"}),s.jsx(Pg,{label:"Transmission",value:r.transmission??"N/A"})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(pe,{className:"flex-1 bg-gradient-to-r from-teal-600 to-cyan-600 text-white",onClick:()=>f(!0),children:"Book Now"}),s.jsx(pe,{variant:"outline",onClick:U,"aria-label":o?"Remove from favorites":"Add to favorites",disabled:j,children:s.jsx(Kl,{className:`w-4 h-4 ${o?"fill-primary text-primary":""}`,"aria-hidden":"true"})})]}),s.jsx("p",{className:"text-[11px] text-muted-foreground leading-relaxed",children:"Submit a booking request and our team will confirm availability with you."})]})})})]}),N.length>0&&s.jsxs("div",{className:"container mx-auto px-4 py-6 border-t",children:[s.jsx("h2",{className:"text-lg font-semibold mb-4",children:"You might also like"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:N.map(O=>s.jsx(i2,{car:O},O.id))}),s.jsx("div",{className:"mt-4 text-center",children:s.jsx(pe,{variant:"outline",asChild:!0,children:s.jsx(Us,{to:"/cars",children:"View all cars"})})})]}),s.jsx(Kr,{open:m,onOpenChange:f,children:s.jsxs(Ir,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[s.jsxs(zr,{children:[s.jsxs(Ur,{className:"text-xl",children:["Book ",r.brand," ",r.model]}),s.jsx(Hi,{className:"text-sm",children:r.deliveryAvailable?"Choose pickup location and rental dates.":"Delivery is not available for this car. Pickup is at the car location."})]}),s.jsxs("form",{onSubmit:Z,className:"space-y-4 mt-2",children:[r.deliveryAvailable?s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"location",className:"text-xs",children:"Pickup Location *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Ps,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-muted-foreground"}),s.jsx(Se,{id:"location",required:!0,value:g.location,onChange:O=>y({...g,location:O.target.value}),placeholder:"City, Airport, or Address",className:"pl-8 h-9 text-sm"})]})]}):s.jsxs("div",{className:"rounded-lg border bg-muted/30 p-4",children:[s.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Pickup location"}),s.jsx("p",{className:"text-sm font-semibold",children:r.location||"N/A"}),s.jsx("p",{className:"text-[11px] text-muted-foreground mt-1",children:"Pickup is at the car location."})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"pickupDate",className:"text-xs",children:"Start Date *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Hs,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-muted-foreground"}),s.jsx(Se,{id:"pickupDate",type:"datetime-local",required:!0,value:g.pickupDate,onChange:O=>y(se=>({...se,pickupDate:O.target.value,returnDate:se.returnDate&&new Date(se.returnDate)<=new Date(O.target.value)?"":se.returnDate})),min:S,className:"pl-8 h-9 text-sm"})]})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"returnDate",className:"text-xs",children:"End Date *"}),s.jsxs("div",{className:"relative",children:[s.jsx(Hs,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-muted-foreground"}),s.jsx(Se,{id:"returnDate",type:"datetime-local",required:!0,value:g.returnDate,onChange:O=>y({...g,returnDate:O.target.value}),min:g.pickupDate||S,className:"pl-8 h-9 text-sm"})]})]})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"reason",className:"text-xs",children:"Reason (optional)"}),s.jsx(Se,{id:"reason",value:g.reason,onChange:O=>y({...g,reason:O.target.value}),placeholder:"Vacation, business trip, wedding...",className:"h-9 text-sm"})]}),s.jsx(od,{}),s.jsxs("div",{className:"rounded-lg border bg-muted/30 p-4 space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Daily rate"}),s.jsxs("span",{className:"font-medium",children:["$",r.price,"/day"]})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Days"}),s.jsx("span",{className:"font-medium",children:T>0?T:"--"})]}),s.jsx(od,{}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsx("span",{className:"font-semibold",children:"Estimated total"}),s.jsx("span",{className:"text-2xl font-bold text-teal-600 dark:text-teal-400",children:T>0?`$${W}`:"--"})]}),s.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Final confirmation depends on availability and terms."})]}),s.jsx(pe,{type:"submit",className:"w-full bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 font-semibold h-10 text-sm",disabled:v,children:v?"Submitting...":"Confirm Booking Request"})]})]})})]}):s.jsx("div",{className:"min-h-screen pt-20 flex items-center justify-center p-4 bg-background",children:s.jsx(Ue,{className:"max-w-md w-full",children:s.jsxs(qe,{className:"p-6 text-center space-y-4",children:[s.jsx("h2",{className:"text-xl font-semibold",children:"Car not found"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"The vehicle you're looking for doesn't exist or was removed."}),s.jsxs(pe,{onClick:()=>e("/cars"),className:"w-full",children:[s.jsx(Ui,{className:"w-4 h-4 mr-2"}),"Back to Cars"]})]})})})},Oee=({icon:t,label:e})=>s.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border bg-background px-3 py-1 text-xs text-muted-foreground",children:[s.jsx("span",{"aria-hidden":"true",children:t}),s.jsx("span",{className:"truncate max-w-[260px]",children:e})]}),vu=({icon:t,label:e,value:r})=>s.jsx("div",{className:"rounded-xl border p-4 bg-background hover:bg-muted/30 transition",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center",children:s.jsx(t,{className:"w-5 h-5","aria-hidden":"true"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:e}),s.jsx("p",{className:"font-semibold",children:r})]})]})}),Pg=({label:t,value:e})=>s.jsxs("div",{className:"flex items-start justify-between gap-4",children:[s.jsx("span",{className:"text-xs text-muted-foreground",children:t}),s.jsx("span",{className:"text-xs font-medium text-right",children:e})]}),Lee=()=>{const[t,e]=_.useState([]),[r,n]=_.useState(!0),[a,i]=_.useState(1),[o,c]=_.useState({current_page:1,last_page:1,per_page:20,total:0,next_page_url:null,prev_page_url:null}),d=v=>{const w=v.feedbacks??[],j=w.length>0?(w.reduce((b,N)=>b+(Number(N.rating)||0),0)/w.length).toFixed(1):null;return{id:v.id,make:v.make,brand:v.make,model:v.model,year:v.year,type:v.car_category,category:v.car_category,seats:v.seats,doors:v.doors,transmission:v.transmission,fuelType:v.fuel_type,fuel_type:v.fuel_type,drive:v.wheels_drive,cylinders:v.cylinder_number,mileage:v.mileage,color:v.color,dailyRate:Number(v.daily_rate),holidayRate:Number(v.holiday_rate),price:Number(v.daily_rate),hasDeposit:!!v.is_deposit,deposit:Number(v.deposit),maxMileage:v.max_driving_mileage,minDays:v.min_rental_days,withDriver:!!v.with_driver,driverFees:Number(v.driver_fees),location:v.live_location?.address??"N/A",isDelivered:!!v.is_delivered,deliveryFees:Number(v.delivery_fees),description:v.notes??"",features:v.features??[],addons:v.car_add_on??[],rating:j,reviews:w.length,feedbacks:w,images:[v.main_image_url,v.front_image_url,v.back_image_url,v.left_image_url,v.right_image_url].filter(Boolean),image:v.main_image_url||v.front_image_url||""}},h=_.useCallback(async(v=1)=>{n(!0);try{const j=(await Oe.get("/cars/favorites/list",{params:{page:v}})).data?.favorites,b=(j?.data??[]).map(d);e(b),c({current_page:j?.current_page??v,last_page:j?.last_page??1,per_page:j?.per_page??20,total:j?.total??b.length,next_page_url:j?.next_page_url??null,prev_page_url:j?.prev_page_url??null}),i(j?.current_page??v)}catch(w){console.error("Favorites fetch error:",w),ve.error("Failed to load favorites. Please try again."),e([])}finally{n(!1)}},[]),m=_.useCallback(async v=>{const w=t;e(j=>j.filter(b=>b.id!==v));try{await Oe.post(`/cars/${v}/favorite`),ve.success("Removed from favorites"),window.dispatchEvent(new Event("favoritesUpdated")),h(a)}catch(j){console.error("Toggle favorite error:",j),ve.error("Failed to update favorite. Please try again."),e(w)}},[t,h,a]);_.useEffect(()=>{h(1);const v=()=>h(a);return window.addEventListener("favoritesUpdated",v),()=>window.removeEventListener("favoritesUpdated",v)},[h,a]);const f=_.useMemo(()=>r?"Loading your favorites...":o.total===0?"No favorites yet. Start exploring our fleet!":`You have ${o.total} vehicle${o.total>1?"s":""} in your favorites`,[r,o.total]),g=o.prev_page_url&&a>1,y=o.next_page_url&&a<o.last_page;return s.jsxs("div",{className:"min-h-screen pt-20",children:[s.jsx("section",{className:"bg-gradient-to-br from-accent/5 via-secondary/5 to-primary/5 py-12",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"max-w-3xl",children:[s.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[s.jsxs(We,{className:"mb-2 bg-accent/10 text-accent-foreground border-accent/20",children:[s.jsx(Kl,{className:"w-3 h-3 mr-1 fill-current"}),"Favorites"]}),s.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>h(a),disabled:r,"aria-label":"Refresh favorites",className:"mb-2",children:[s.jsx(Mt,{className:`w-4 h-4 mr-2 ${r?"animate-spin":""}`}),"Refresh"]})]}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Your Favorite Vehicles"}),s.jsx("p",{className:"text-lg text-muted-foreground",children:f}),!r&&o.total>0&&s.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Page ",o.current_page," of ",o.last_page]})]})})}),s.jsx("div",{className:"container mx-auto px-4 py-12",children:r?s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6",children:Array.from({length:6}).map((v,w)=>s.jsxs(Ue,{className:"p-6",children:[s.jsx("div",{className:"h-40 rounded-xl bg-muted animate-pulse mb-4"}),s.jsx("div",{className:"h-4 bg-muted rounded animate-pulse w-2/3 mb-2"}),s.jsx("div",{className:"h-4 bg-muted rounded animate-pulse w-1/2"})]},w))}):t.length>0?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6",children:t.map(v=>s.jsx(i2,{car:v,forceFavorite:!0,onToggleFavoriteApi:()=>m(v.id)},v.id))}),(o.last_page??1)>1&&s.jsxs("div",{className:"flex items-center justify-center gap-3 mt-10",children:[s.jsxs(pe,{variant:"outline",onClick:()=>h(a-1),disabled:!g||r,"aria-label":"Previous page",children:[s.jsx(ac,{className:"w-4 h-4 mr-2"}),"Prev"]}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",s.jsx("span",{className:"font-semibold",children:o.current_page})," /"," ",s.jsx("span",{className:"font-semibold",children:o.last_page})]}),s.jsxs(pe,{variant:"outline",onClick:()=>h(a+1),disabled:!y||r,"aria-label":"Next page",children:["Next",s.jsx(An,{className:"w-4 h-4 ml-2"})]})]})]}):s.jsxs(Ue,{className:"p-12 text-center max-w-2xl mx-auto",children:[s.jsx("div",{className:"w-24 h-24 rounded-full bg-muted mx-auto mb-6 flex items-center justify-center",children:s.jsx(Kl,{className:"w-12 h-12 text-muted-foreground"})}),s.jsx("h2",{className:"text-3xl font-bold mb-4",children:"No Favorites Yet"}),s.jsx("p",{className:"text-muted-foreground mb-8 max-w-md mx-auto",children:"Start adding vehicles to your favorites to keep track of the cars you love. Click the heart icon on any vehicle card to add it here."}),s.jsx(Us,{to:"/cars",children:s.jsxs(pe,{size:"lg",className:"bg-primary hover:bg-primary-light text-primary-foreground",children:["Browse Our Fleet",s.jsx(bd,{className:"w-5 h-5 ml-2"})]})})]})})]})},Fee=()=>{const t=[{icon:Kl,title:"Customer First",description:"Your satisfaction and experience are at the heart of everything we do."},{icon:Qn,title:"Trust & Safety",description:"All vehicles are fully insured and professionally maintained for maximum safety."},{icon:r_,title:"Excellence",description:"We provide premium-quality cars and top-tier customer service across Lebanon."},{icon:LW,title:"Accessibility",description:"Car rental services available across Beirut, airport, and major Lebanese cities."}],e=[{value:"15+",label:"Years in Car Rental in Lebanon"},{value:"10,000+",label:"Happy Clients"},{value:"50+",label:"Premium Rental Cars"},{value:"25",label:"Lebanese Cities Covered"}],r=[{name:"Rami Z.",role:"Co-Founder",image:"https://media.licdn.com/dms/image/v2/D4D03AQE-SI2RbsIKJg/profile-displayphoto-scale_400_400/B4DZkR13KuIEAw-/0/1756940957455?e=1766620800&v=beta&t=zeHYUyUBfpn25qt5t5noPx63zsRssAtxFJfix_St0u8",bio:"Expert in the Lebanese car rental industry for over 15 years."},{name:"Ali Z.",role:"Operations Director",image:"https://i.pravatar.cc/200?img=1",bio:"Specialist in fleet management and customer satisfaction."},{name:"Dib Bailoun",role:"Fleet Manager",image:"https://media.licdn.com/dms/image/v2/D4E03AQG5-k6KT0xAkQ/profile-displayphoto-shrink_800_800/profile-displayphoto-shrink_800_800/0/1676234982153?e=1766620800&v=beta&t=9DRUyjBNMmfBBksjIy_xP0VADrIcR6ikoHK2R8bUPjM",bio:"Ensures all cars meet the highest maintenance and safety standards."},{name:"Ahmad",role:"Customer Relations",image:"https://i.pravatar.cc/200?img=1",bio:"Dedicated to providing fast and friendly rental service."}];return s.jsxs("div",{className:"min-h-screen pt-20",children:[s.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"CarRental",name:"Rento LB",url:"https://rento-lb.com",address:{"@type":"PostalAddress",addressCountry:"LB",addressLocality:"Beirut",streetAddress:"Beirut, Lebanon"},description:"Rent a car in Lebanon  luxury, SUV, sedan, economy cars. Beirut airport delivery. Affordable daily and monthly prices.",openingHours:"Mo-Su 00:00-23:59",telephone:"+961 81 001301",image:"https://rento-lb.com/og-image.jpg"})}),s.jsx("section",{className:"relative py-20 bg-gradient-to-br from-primary/5 via-secondary/5 to-accent/5",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[s.jsx(We,{className:"mb-4 bg-secondary/10 text-secondary border-secondary/20",children:"About Rento LB"}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"The #1 Car Rental Company in Lebanon"}),s.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"RENTO LB provides premium, affordable, and reliable car rental services across Lebanon. With 15+ years of experience, we offer luxury, SUV, and economy cars with airport pickup, 24/7 support, and delivery anywhere in Beirut and surrounding cities."})]})})}),s.jsx("section",{className:"py-12 bg-card border-y border-border",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:e.map((n,a)=>s.jsxs("div",{className:"text-center",children:[s.jsx("p",{className:"text-3xl md:text-4xl font-bold gradient-text-accent mb-2",children:n.value}),s.jsx("p",{className:"text-muted-foreground",children:n.label})]},a))})})}),s.jsx("section",{className:"py-20",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[s.jsxs("div",{children:[s.jsx(We,{className:"mb-4 bg-primary/10 text-primary border-primary/20",children:"Our Story"}),s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Leading the Car Rental Industry in Lebanon"}),s.jsxs("div",{className:"space-y-4 text-muted-foreground leading-relaxed",children:[s.jsx("p",{children:"Rento LB started with a mission to offer safe, reliable, and affordable car rental services in Lebanon. Since 2008, weve grown into one of the leading rental companies in Beirut, serving thousands of happy clients every year."}),s.jsx("p",{children:"We offer a full range of vehiclesfrom economic cars for everyday use, to SUVs for families, to luxury cars for special occasions."}),s.jsx("p",{children:"Whether you're a tourist or a resident, our goal is to deliver the best car rental experience with transparent pricing, clean vehicles, and fast service."})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx("img",{src:"https://images.unsplash.com/photo-1492144534655-ae79c964c9d7?w=600&q=80",alt:"Affordable luxury car rental in Beirut Lebanon - Rento LB",className:"rounded-2xl w-full h-64 object-cover hover-glow"}),s.jsx("img",{src:"https://images.unsplash.com/photo-1555215695-3004980ad54e?w=600&q=80",alt:"Rent a BMW in Beirut Lebanon - Cheap car rental",className:"rounded-2xl w-full h-64 object-cover hover-glow mt-8"}),s.jsx("img",{src:"https://images.unsplash.com/photo-1503376780353-7e6692767b70?w=600&q=80",alt:"Best car rental company in Lebanon - Rento LB",className:"rounded-2xl w-full h-64 object-cover hover-glow"}),s.jsx("img",{src:"https://images.unsplash.com/photo-1618843479313-40f8afb4b4d8?w=600&q=80",alt:"SUV rental in Beirut Lebanon",className:"rounded-2xl w-full h-64 object-cover hover-glow mt-8"})]})]})})}),s.jsx("section",{className:"py-20 bg-muted/30",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx(We,{className:"mb-4 bg-accent/10 text-accent-foreground border-accent/20",children:"Our Values"}),s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Why Customers Choose Rento LB"}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"We focus on reliability, transparency, and exceptional service across Lebanon."})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((n,a)=>s.jsx(Ue,{className:"text-center hover-glow transition-all",children:s.jsxs(qe,{className:"pt-8 pb-8",children:[s.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-primary to-secondary flex items-center justify-center mx-auto mb-4",children:s.jsx(n.icon,{className:"w-8 h-8 text-primary-foreground"})}),s.jsx("h3",{className:"text-xl font-bold mb-3",children:n.title}),s.jsx("p",{className:"text-muted-foreground",children:n.description})]})},a))})]})}),s.jsx("section",{className:"py-20",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx(We,{className:"mb-4 bg-secondary/10 text-secondary border-secondary/20",children:"Our Lebanese Team"}),s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Meet the People Behind Rento LB"}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Our experienced team ensures the highest level of service in the Lebanese car rental industry."})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:r.map((n,a)=>s.jsxs(Ue,{className:"overflow-hidden hover-glow transition-all",children:[s.jsx("div",{className:"aspect-square overflow-hidden",children:s.jsx("img",{src:n.image,alt:`${n.name} - Rento LB Car Rental Lebanon`,className:"w-full h-full object-cover"})}),s.jsxs(qe,{className:"p-6 text-center",children:[s.jsx("h3",{className:"text-xl font-bold mb-1",children:n.name}),s.jsx("p",{className:"text-secondary font-medium mb-2",children:n.role}),s.jsx("p",{className:"text-sm text-muted-foreground",children:n.bio})]})]},a))})]})}),s.jsxs("section",{className:"py-20 bg-gradient-to-br from-primary via-primary-light to-secondary relative overflow-hidden",children:[s.jsxs("div",{className:"absolute inset-0 opacity-10",children:[s.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-white rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-accent rounded-full blur-3xl"})]}),s.jsxs("div",{className:"container mx-auto px-4 relative z-10 text-center",children:[s.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Book Your Car Rental in Lebanon Today"}),s.jsx("p",{className:"text-lg text-white/90 mb-8 max-w-2xl mx-auto",children:"Select your car and enjoy fast delivery anywhere in Lebanon."}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[s.jsx("a",{href:"/cars",children:s.jsx("button",{className:"px-8 py-3 bg-white text-primary hover:bg-white/90 font-semibold rounded-lg transition-smooth",children:"View Available Cars"})}),s.jsx("a",{href:"/contact",children:s.jsx("button",{className:"px-8 py-3 border-2 border-white text-white hover:bg-white/10 font-semibold rounded-lg transition-smooth",children:"Contact Rento LB"})})]})]})]})]})},pn=_.forwardRef(({className:t,...e},r)=>s.jsx("textarea",{className:_t("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...e}));pn.displayName="Textarea";const Bee=()=>{const[t,e]=_.useState({name:"",email:"",phone:"",subject:"",message:""}),r=i=>{i.preventDefault(),ve.success("Message sent successfully! We'll get back to you soon.",{duration:5e3}),e({name:"",email:"",phone:"",subject:"",message:""})},n=[{icon:Ps,title:"Visit Us",details:["Mount Liban","Baouchrieh, Lebanon"],color:"from-primary to-primary-light"},{icon:ui,title:"Call Us",details:["+961 (81) 001-301"],color:"from-secondary to-secondary-light"},{icon:za,title:"Email Us",details:["social@rento-lb.com"],color:"from-accent to-accent-light"},{icon:hh,title:"Business Hours",details:["24/7"],color:"from-primary-dark to-secondary"}],a=[{city:"London",address:"124-128 City Road, London, England, EC1V 2NX",phone:"Not available"},{city:"Mount Liban",address:"Baouchrieh, Lebanon",phone:"+961 (81) 001-301"}];return s.jsxs("div",{className:"min-h-screen pt-20",children:[s.jsx("section",{className:"bg-gradient-to-br from-primary/5 via-secondary/5 to-accent/5 py-12",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[s.jsx(We,{className:"mb-4 bg-secondary/10 text-secondary border-secondary/20",children:"Contact Us"}),s.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Get in Touch"}),s.jsx("p",{className:"text-lg text-muted-foreground",children:"Have questions? We're here to help. Reach out to our team for any inquiries about our vehicles or services."})]})})}),s.jsxs("div",{className:"container mx-auto px-4 py-12",children:[s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:n.map((i,o)=>s.jsx(Ue,{className:"hover-glow transition-all",children:s.jsxs(qe,{className:"pt-6 text-center",children:[s.jsx("div",{className:`w-16 h-16 rounded-2xl bg-gradient-to-br ${i.color} flex items-center justify-center mx-auto mb-4`,children:s.jsx(i.icon,{className:"w-8 h-8 text-white"})}),s.jsx("h3",{className:"font-bold text-lg mb-3",children:i.title}),i.details.map((c,d)=>s.jsx("p",{className:"text-muted-foreground text-sm",children:c},d))]})},o))}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[s.jsx(Ue,{children:s.jsxs(qe,{className:"p-8",children:[s.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Send Us a Message"}),s.jsxs("form",{onSubmit:r,className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"name",children:"Full Name *"}),s.jsx(Se,{id:"name",required:!0,value:t.name,onChange:i=>e({...t,name:i.target.value}),placeholder:"John Doe"})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"email",children:"Email Address *"}),s.jsx(Se,{id:"email",type:"email",required:!0,value:t.email,onChange:i=>e({...t,email:i.target.value}),placeholder:"john@example.com"})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"phone",children:"Phone Number"}),s.jsx(Se,{id:"phone",type:"tel",value:t.phone,onChange:i=>e({...t,phone:i.target.value}),placeholder:"+96181001301"})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"subject",children:"Subject *"}),s.jsx(Se,{id:"subject",required:!0,value:t.subject,onChange:i=>e({...t,subject:i.target.value}),placeholder:"How can we help you?"})]}),s.jsxs("div",{children:[s.jsx(ue,{htmlFor:"message",children:"Message *"}),s.jsx(pn,{id:"message",required:!0,value:t.message,onChange:i=>e({...t,message:i.target.value}),placeholder:"Tell us more about your inquiry...",rows:6})]}),s.jsxs(pe,{type:"submit",size:"lg",className:"w-full bg-secondary hover:bg-secondary-light text-secondary-foreground font-semibold",children:[s.jsx(M0,{className:"w-5 h-5 mr-2"}),"Send Message"]})]})]})}),s.jsxs("div",{className:"space-y-6",children:[s.jsx(Ue,{className:"overflow-hidden",children:s.jsx("a",{href:"https://www.google.com/maps?q=33.8861985,35.5591084",target:"_blank",rel:"noopener noreferrer",children:s.jsxs("div",{className:"aspect-video bg-muted relative cursor-pointer",children:[s.jsx("img",{src:"https://www.mountain-forecast.com/locationmaps/Mount-Lebanon.10.gif",alt:"Map Location",className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),s.jsxs("div",{className:"absolute bottom-4 left-4 text-white",children:[s.jsx("p",{className:"font-bold text-lg",children:"Main Office"}),s.jsx("p",{className:"text-sm",children:"Mount Liban, Baouchrieh, Lebanon"})]})]})})}),s.jsx(Ue,{children:s.jsxs(qe,{className:"p-6",children:[s.jsx("h3",{className:"text-xl font-bold mb-4",children:"Our Locations"}),s.jsx("div",{className:"space-y-4",children:a.map((i,o)=>s.jsxs("div",{className:"pb-4 border-b border-border last:border-0 last:pb-0",children:[s.jsx("h4",{className:"font-semibold text-lg mb-1",children:i.city}),s.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:i.address}),s.jsx("p",{className:"text-sm text-secondary font-medium",children:i.phone})]},o))})]})})]})]}),s.jsxs("section",{className:"mt-20",children:[s.jsxs("div",{className:"text-center mb-12",children:[s.jsx(We,{className:"mb-4 bg-accent/10 text-accent-foreground border-accent/20",children:"FAQ"}),s.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Frequently Asked Questions"}),s.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Find quick answers to common questions about our services"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-5xl mx-auto",children:[s.jsx(Ue,{children:s.jsxs(qe,{className:"p-6",children:[s.jsx("h3",{className:"font-bold text-lg mb-2",children:"What documents do I need to rent?"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"You'll need a valid driver's license, a major credit card in your name, and proof of insurance. International customers may need additional documentation."})]})}),s.jsx(Ue,{children:s.jsxs(qe,{className:"p-6",children:[s.jsx("h3",{className:"font-bold text-lg mb-2",children:"What's your cancellation policy?"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Free cancellation up to 48 hours before pickup. Cancellations within 48 hours may incur a fee. Please contact us for specific details."})]})}),s.jsx(Ue,{children:s.jsxs(qe,{className:"p-6",children:[s.jsx("h3",{className:"font-bold text-lg mb-2",children:"Is insurance included?"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Basic insurance is included with all rentals. Additional coverage options are available for purchase during booking."})]})}),s.jsx(Ue,{children:s.jsxs(qe,{className:"p-6",children:[s.jsx("h3",{className:"font-bold text-lg mb-2",children:"Can I extend my rental period?"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Yes! Contact us at least 24 hours before your scheduled return to extend your rental, subject to vehicle availability."})]})}),s.jsx(Ue,{children:s.jsxs(qe,{className:"p-6",children:[s.jsx("h3",{className:"font-bold text-lg mb-2",children:"Do you offer airport pickup?"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Absolutely! We offer complimentary airport pickup and drop-off at major airports. Please specify this when booking."})]})}),s.jsx(Ue,{children:s.jsxs(qe,{className:"p-6",children:[s.jsx("h3",{className:"font-bold text-lg mb-2",children:"What's the minimum rental period?"}),s.jsx("p",{className:"text-muted-foreground text-sm",children:"Our minimum rental period is 24 hours. We also offer attractive rates for weekly and monthly rentals."})]})})]})]})]})]})};function ya(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Cd(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const x8=6048e5,Iee=864e5;let zee={};function ry(){return zee}function pm(t,e){const r=ry(),n=e?.weekStartsOn??e?.locale?.options?.weekStartsOn??r.weekStartsOn??r.locale?.options?.weekStartsOn??0,a=ya(t),i=a.getDay(),o=(i<n?7:0)+i-n;return a.setDate(a.getDate()-o),a.setHours(0,0,0,0),a}function n0(t){return pm(t,{weekStartsOn:1})}function y8(t){const e=ya(t),r=e.getFullYear(),n=Cd(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const a=n0(n),i=Cd(t,0);i.setFullYear(r,0,4),i.setHours(0,0,0,0);const o=n0(i);return e.getTime()>=a.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function zT(t){const e=ya(t);return e.setHours(0,0,0,0),e}function UT(t){const e=ya(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function b8(t,e){const r=zT(t),n=zT(e),a=+r-UT(r),i=+n-UT(n);return Math.round((a-i)/Iee)}function Uee(t){const e=y8(t),r=Cd(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),n0(r)}function $ee(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Vee(t){if(!$ee(t)&&typeof t!="number")return!1;const e=ya(t);return!isNaN(Number(e))}function Hee(t,e){const r=ya(t),n=ya(e),a=$T(r,n),i=Math.abs(b8(r,n));r.setDate(r.getDate()-a*i);const o=+($T(r,n)===-a),c=a*(i-o);return c===0?0:c}function $T(t,e){const r=t.getFullYear()-e.getFullYear()||t.getMonth()-e.getMonth()||t.getDate()-e.getDate()||t.getHours()-e.getHours()||t.getMinutes()-e.getMinutes()||t.getSeconds()-e.getSeconds()||t.getMilliseconds()-e.getMilliseconds();return r<0?-1:r>0?1:r}function qee(t){const e=ya(t),r=Cd(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Wee={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Gee=(t,e,r)=>{let n;const a=Wee[t];return typeof a=="string"?n=a:e===1?n=a.one:n=a.other.replace("{{count}}",e.toString()),r?.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function uw(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const Yee={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Kee={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Xee={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Zee={date:uw({formats:Yee,defaultWidth:"full"}),time:uw({formats:Kee,defaultWidth:"full"}),dateTime:uw({formats:Xee,defaultWidth:"full"})},Qee={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Jee=(t,e,r,n)=>Qee[t];function kf(t){return(e,r)=>{const n=r?.context?String(r.context):"standalone";let a;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,c=r?.width?String(r.width):o;a=t.formattingValues[c]||t.formattingValues[o]}else{const o=t.defaultWidth,c=r?.width?String(r.width):t.defaultWidth;a=t.values[c]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return a[i]}}const ete={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},tte={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ste={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},rte={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},nte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ate={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ite=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},ote={ordinalNumber:ite,era:kf({values:ete,defaultWidth:"wide"}),quarter:kf({values:tte,defaultWidth:"wide",argumentCallback:t=>t-1}),month:kf({values:ste,defaultWidth:"wide"}),day:kf({values:rte,defaultWidth:"wide"}),dayPeriod:kf({values:nte,defaultWidth:"wide",formattingValues:ate,defaultFormattingWidth:"wide"})};function Af(t){return(e,r={})=>{const n=r.width,a=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=e.match(a);if(!i)return null;const o=i[0],c=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],d=Array.isArray(c)?cte(c,f=>f.test(o)):lte(c,f=>f.test(o));let h;h=t.valueCallback?t.valueCallback(d):d,h=r.valueCallback?r.valueCallback(h):h;const m=e.slice(o.length);return{value:h,rest:m}}}function lte(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function cte(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function dte(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const a=n[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=r.valueCallback?r.valueCallback(o):o;const c=e.slice(a.length);return{value:o,rest:c}}}const ute=/^(\d+)(th|st|nd|rd)?/i,hte=/\d+/i,fte={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},mte={any:[/^b/i,/^(a|c)/i]},pte={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},gte={any:[/1/i,/2/i,/3/i,/4/i]},xte={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},yte={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},bte={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},vte={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},wte={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},jte={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},_te={ordinalNumber:dte({matchPattern:ute,parsePattern:hte,valueCallback:t=>parseInt(t,10)}),era:Af({matchPatterns:fte,defaultMatchWidth:"wide",parsePatterns:mte,defaultParseWidth:"any"}),quarter:Af({matchPatterns:pte,defaultMatchWidth:"wide",parsePatterns:gte,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Af({matchPatterns:xte,defaultMatchWidth:"wide",parsePatterns:yte,defaultParseWidth:"any"}),day:Af({matchPatterns:bte,defaultMatchWidth:"wide",parsePatterns:vte,defaultParseWidth:"any"}),dayPeriod:Af({matchPatterns:wte,defaultMatchWidth:"any",parsePatterns:jte,defaultParseWidth:"any"})},Nte={code:"en-US",formatDistance:Gee,formatLong:Zee,formatRelative:Jee,localize:ote,match:_te,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ste(t){const e=ya(t);return b8(e,qee(e))+1}function Cte(t){const e=ya(t),r=+n0(e)-+Uee(e);return Math.round(r/x8)+1}function v8(t,e){const r=ya(t),n=r.getFullYear(),a=ry(),i=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,o=Cd(t,0);o.setFullYear(n+1,0,i),o.setHours(0,0,0,0);const c=pm(o,e),d=Cd(t,0);d.setFullYear(n,0,i),d.setHours(0,0,0,0);const h=pm(d,e);return r.getTime()>=c.getTime()?n+1:r.getTime()>=h.getTime()?n:n-1}function kte(t,e){const r=ry(),n=e?.firstWeekContainsDate??e?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,a=v8(t,e),i=Cd(t,0);return i.setFullYear(a,0,n),i.setHours(0,0,0,0),pm(i,e)}function Ate(t,e){const r=ya(t),n=+pm(r,e)-+kte(r,e);return Math.round(n/x8)+1}function Ds(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Pl={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Ds(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Ds(r+1,2)},d(t,e){return Ds(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Ds(t.getHours()%12||12,e.length)},H(t,e){return Ds(t.getHours(),e.length)},m(t,e){return Ds(t.getMinutes(),e.length)},s(t,e){return Ds(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),a=Math.trunc(n*Math.pow(10,r-3));return Ds(a,e.length)}},wu={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},VT={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),a=n>0?n:1-n;return r.ordinalNumber(a,{unit:"year"})}return Pl.y(t,e)},Y:function(t,e,r,n){const a=v8(t,n),i=a>0?a:1-a;if(e==="YY"){const o=i%100;return Ds(o,2)}return e==="Yo"?r.ordinalNumber(i,{unit:"year"}):Ds(i,e.length)},R:function(t,e){const r=y8(t);return Ds(r,e.length)},u:function(t,e){const r=t.getFullYear();return Ds(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Ds(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Ds(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Pl.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Ds(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const a=Ate(t,n);return e==="wo"?r.ordinalNumber(a,{unit:"week"}):Ds(a,e.length)},I:function(t,e,r){const n=Cte(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Ds(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Pl.d(t,e)},D:function(t,e,r){const n=Ste(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ds(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Ds(i,2);case"eo":return r.ordinalNumber(i,{unit:"day"});case"eee":return r.day(a,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(a,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(a,{width:"short",context:"formatting"});case"eeee":default:return r.day(a,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const a=t.getDay(),i=(a-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Ds(i,e.length);case"co":return r.ordinalNumber(i,{unit:"day"});case"ccc":return r.day(a,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(a,{width:"narrow",context:"standalone"});case"cccccc":return r.day(a,{width:"short",context:"standalone"});case"cccc":default:return r.day(a,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),a=n===0?7:n;switch(e){case"i":return String(a);case"ii":return Ds(a,e.length);case"io":return r.ordinalNumber(a,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const a=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let a;switch(n===12?a=wu.noon:n===0?a=wu.midnight:a=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let a;switch(n>=17?a=wu.evening:n>=12?a=wu.afternoon:n>=4?a=wu.morning:a=wu.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(a,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(a,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(a,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Pl.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Pl.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ds(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ds(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Pl.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Pl.s(t,e)},S:function(t,e){return Pl.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return qT(n);case"XXXX":case"XX":return ed(n);case"XXXXX":case"XXX":default:return ed(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return qT(n);case"xxxx":case"xx":return ed(n);case"xxxxx":case"xxx":default:return ed(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+HT(n,":");case"OOOO":default:return"GMT"+ed(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+HT(n,":");case"zzzz":default:return"GMT"+ed(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return Ds(n,e.length)},T:function(t,e,r){const n=t.getTime();return Ds(n,e.length)}};function HT(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Math.trunc(n/60),i=n%60;return i===0?r+String(a):r+String(a)+e+Ds(i,2)}function qT(t,e){return t%60===0?(t>0?"-":"+")+Ds(Math.abs(t)/60,2):ed(t,e)}function ed(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),a=Ds(Math.trunc(n/60),2),i=Ds(n%60,2);return r+a+e+i}const WT=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},w8=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Ete=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],a=r[2];if(!a)return WT(t,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",WT(n,e)).replace("{{time}}",w8(a,e))},Tte={p:w8,P:Ete},Rte=/^D+$/,Dte=/^Y+$/,Mte=["D","DD","YY","YYYY"];function Pte(t){return Rte.test(t)}function Ote(t){return Dte.test(t)}function Lte(t,e,r){const n=Fte(t,e,r);if(console.warn(n),Mte.includes(t))throw new RangeError(n)}function Fte(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Bte=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Ite=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,zte=/^'([^]*?)'?$/,Ute=/''/g,$te=/[a-zA-Z]/;function GT(t,e,r){const n=ry(),a=n.locale??Nte,i=n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,o=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,c=ya(t);if(!Vee(c))throw new RangeError("Invalid time value");let d=e.match(Ite).map(m=>{const f=m[0];if(f==="p"||f==="P"){const g=Tte[f];return g(m,a.formatLong)}return m}).join("").match(Bte).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const f=m[0];if(f==="'")return{isToken:!1,value:Vte(m)};if(VT[f])return{isToken:!0,value:m};if(f.match($te))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:m}});a.localize.preprocessor&&(d=a.localize.preprocessor(c,d));const h={firstWeekContainsDate:i,weekStartsOn:o,locale:a};return d.map(m=>{if(!m.isToken)return m.value;const f=m.value;(Ote(f)||Pte(f))&&Lte(f,e,String(t));const g=VT[f[0]];return g(c,f,a.localize,h)}).join("")}function Vte(t){const e=t.match(zte);return e?e[1].replace(Ute,"'"):t}const Hte=()=>{const t=sn(),[e,r]=_.useState([]),[n,a]=_.useState([]),[i,o]=_.useState("all"),[c,d]=_.useState(!0),[h,m]=_.useState(null);_.useEffect(()=>{(async()=>{try{const N=(await Oe.get("/driver/bookings/client")).data.bookings.data;r(N),a(N)}catch(b){console.error("Error fetching bookings:",b),m("Failed to load bookings"),ve.error("Could not load your bookings")}finally{d(!1)}})()},[]),_.useEffect(()=>{a(i==="all"?e:e.filter(j=>j.booking_request_status===i))},[i,e]);const f=j=>{const b={pending:{text:"Pending",icon:s.jsx(pW,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),color:"bg-gradient-to-r from-yellow-100 to-amber-100 text-yellow-800 border-yellow-200 dark:from-yellow-900/30 dark:to-amber-900/30 dark:text-yellow-300 dark:border-yellow-700",badgeClass:"bg-yellow-500"},confirmed:{text:"Confirmed",icon:s.jsx(Wn,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),color:"bg-gradient-to-r from-green-100 to-emerald-100 text-green-800 border-green-200 dark:from-green-900/30 dark:to-emerald-900/30 dark:text-green-300 dark:border-green-700",badgeClass:"bg-green-500"},cancelled:{text:"Cancelled",icon:s.jsx(Zn,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),color:"bg-gradient-to-r from-gray-100 to-slate-100 text-gray-800 border-gray-200 dark:from-gray-800/30 dark:to-slate-800/30 dark:text-gray-300 dark:border-gray-700",badgeClass:"bg-gray-500"},rejected:{text:"Rejected",icon:s.jsx(Yl,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),color:"bg-gradient-to-r from-red-100 to-rose-100 text-red-800 border-red-200 dark:from-red-900/30 dark:to-rose-900/30 dark:text-red-300 dark:border-red-700",badgeClass:"bg-red-500"},completed:{text:"Completed",icon:s.jsx(Wn,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),color:"bg-gradient-to-r from-blue-100 to-cyan-100 text-blue-800 border-blue-200 dark:from-blue-900/30 dark:to-cyan-900/30 dark:text-blue-300 dark:border-blue-700",badgeClass:"bg-blue-500"}};return b[j]||b.pending},g=(j,b,N)=>{!j||!b||j===0||b===0||window.open(`https://www.google.com/maps?q=${j},${b}`,"_blank")},y=j=>GT(new Date(j),"MMM dd, yyyy"),v=j=>GT(new Date(j),"h:mm a"),w=({car:j})=>{const[b,N]=_.useState(0),k=[j.main_image_url,j.front_image_url,j.back_image_url,j.left_image_url,j.right_image_url].filter(Boolean),S=()=>N(B=>(B+1)%k.length),C=()=>N(B=>(B-1+k.length)%k.length);return k.length?s.jsxs("div",{className:"relative group aspect-[16/10] rounded-t-xl overflow-hidden bg-gray-900",children:[s.jsx("img",{src:`/api/storage/${k[b]}`,alt:"Car",className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),k.length>1&&s.jsxs(s.Fragment,{children:[s.jsx("button",{onClick:C,className:"absolute left-2 sm:left-3 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white text-gray-900 p-1.5 sm:p-2 rounded-full opacity-0 group-hover:opacity-100 transition-all duration-300 shadow-lg hover:scale-110 active:scale-95",children:s.jsx(ac,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),s.jsx("button",{onClick:S,className:"absolute right-2 sm:right-3 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white text-gray-900 p-1.5 sm:p-2 rounded-full opacity-0 group-hover:opacity-100 transition-all duration-300 shadow-lg hover:scale-110 active:scale-95",children:s.jsx(An,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),s.jsx("div",{className:"absolute bottom-3 sm:bottom-4 left-1/2 -translate-x-1/2 flex gap-1.5 sm:gap-2",children:k.map((B,E)=>s.jsx("button",{onClick:()=>N(E),className:`transition-all duration-300 rounded-full ${E===b?"bg-white w-6 sm:w-8 h-1.5 sm:h-2":"bg-white/60 hover:bg-white/80 w-1.5 sm:w-2 h-1.5 sm:h-2"}`},E))})]})]}):s.jsx("div",{className:"aspect-[16/10] bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900 border-2 border-dashed rounded-t-xl flex items-center justify-center",children:s.jsx(Kt,{className:"w-12 h-12 sm:w-16 sm:h-16 text-gray-400"})})};return c?s.jsx("div",{className:"min-h-screen pt-16 sm:pt-20 flex items-center justify-center bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-900 dark:via-gray-900 dark:to-gray-800 px-4",children:s.jsxs("div",{className:"text-center space-y-4",children:[s.jsxs("div",{className:"relative w-16 h-16 sm:w-20 sm:h-20 mx-auto",children:[s.jsx("div",{className:"absolute inset-0 border-4 border-teal-200 dark:border-teal-900 rounded-full"}),s.jsx("div",{className:"absolute inset-0 border-4 border-teal-600 border-t-transparent rounded-full animate-spin"})]}),s.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground font-medium",children:"Loading your bookings..."})]})}):h?s.jsx("div",{className:"min-h-screen pt-16 sm:pt-20 bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-900 dark:via-gray-900 dark:to-gray-800 px-4",children:s.jsx("div",{className:"container mx-auto py-8 sm:py-12 max-w-2xl",children:s.jsxs(Ue,{className:"p-8 sm:p-12 text-center border-2 shadow-xl",children:[s.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6",children:s.jsx(Yl,{className:"w-8 h-8 sm:w-10 sm:h-10 text-red-600 dark:text-red-400"})}),s.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-3",children:"Oops! Something went wrong"}),s.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mb-6 sm:mb-8",children:h}),s.jsx(pe,{onClick:()=>window.location.reload(),size:"lg",className:"bg-teal-600 hover:bg-teal-700 w-full sm:w-auto",children:"Try Again"})]})})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-900 dark:via-gray-900 dark:to-gray-800 pt-16 sm:pt-20",children:s.jsxs("div",{className:"container mx-auto px-3 sm:px-4 py-4 sm:py-8 max-w-7xl",children:[s.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 sm:gap-4 mb-6 sm:mb-8",children:[s.jsxs(pe,{variant:"ghost",onClick:()=>t(-1),className:"hover:bg-teal-50 dark:hover:bg-teal-900/20 transition-colors -ml-2 sm:ml-0 h-9 sm:h-10 px-2 sm:px-4",size:"sm",children:[s.jsx(Ui,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-1 sm:mr-2"}),s.jsx("span",{className:"text-sm sm:text-base",children:"Back"})]}),s.jsxs("div",{className:"text-left sm:text-center flex-1 w-full sm:w-auto",children:[s.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent mb-1 sm:mb-2",children:"My Bookings"}),s.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground",children:[e.length," ",e.length===1?"booking":"bookings"," total"]})]}),s.jsx("div",{className:"hidden sm:block w-[100px]"})," "]}),s.jsx("div",{className:"mb-6 sm:mb-8 -mx-3 sm:mx-0 px-3 sm:px-0 overflow-x-auto scrollbar-hide",children:s.jsx($o,{value:i,onValueChange:o,children:s.jsxs(Xi,{className:"inline-flex sm:grid w-auto sm:w-full min-w-full sm:max-w-3xl sm:mx-auto grid-cols-6 h-11 sm:h-14 bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm border shadow-lg gap-0.5 sm:gap-1 p-1",children:[s.jsx($t,{value:"all",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-teal-500 data-[state=active]:to-cyan-500 data-[state=active]:text-white font-medium text-xs sm:text-sm px-2 sm:px-4 whitespace-nowrap",children:"All"}),s.jsxs($t,{value:"confirmed",className:"data-[state=active]:bg-green-500 data-[state=active]:text-white font-medium text-xs sm:text-sm px-2 sm:px-4 whitespace-nowrap",children:[s.jsx("span",{className:"hidden sm:inline",children:"Confirmed"}),s.jsx("span",{className:"sm:hidden",children:"Confirm"})]}),s.jsx($t,{value:"pending",className:"data-[state=active]:bg-yellow-500 data-[state=active]:text-white font-medium text-xs sm:text-sm px-2 sm:px-4 whitespace-nowrap",children:"Pending"}),s.jsxs($t,{value:"cancelled",className:"data-[state=active]:bg-gray-500 data-[state=active]:text-white font-medium text-xs sm:text-sm px-2 sm:px-4 whitespace-nowrap",children:[s.jsx("span",{className:"hidden sm:inline",children:"Cancelled"}),s.jsx("span",{className:"sm:hidden",children:"Cancel"})]}),s.jsx($t,{value:"rejected",className:"data-[state=active]:bg-red-500 data-[state=active]:text-white font-medium text-xs sm:text-sm px-2 sm:px-4 whitespace-nowrap",children:"Rejected"}),s.jsxs($t,{value:"completed",className:"data-[state=active]:bg-blue-500 data-[state=active]:text-white font-medium text-xs sm:text-sm px-2 sm:px-4 whitespace-nowrap",children:[s.jsx("span",{className:"hidden sm:inline",children:"Completed"}),s.jsx("span",{className:"sm:hidden",children:"Done"})]})]})})}),n.length===0?s.jsxs(Ue,{className:"p-8 sm:p-16 text-center max-w-2xl mx-auto border-2 shadow-xl bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm",children:[s.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 bg-gradient-to-br from-teal-100 to-cyan-100 dark:from-teal-900/30 dark:to-cyan-900/30 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6",children:s.jsx(Kt,{className:"w-10 h-10 sm:w-12 sm:h-12 text-teal-600 dark:text-teal-400"})}),s.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-3 sm:mb-4",children:i==="all"?"No Bookings Yet":`No ${i.charAt(0).toUpperCase()+i.slice(1)} Bookings`}),s.jsx("p",{className:"text-sm sm:text-base lg:text-lg text-muted-foreground mb-6 sm:mb-8",children:i==="all"?"Ready to hit the road? Browse our amazing fleet!":"You have no bookings in this category."}),i==="all"&&s.jsx(pe,{onClick:()=>t("/cars"),size:"lg",className:"bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white shadow-lg w-full sm:w-auto",children:"Browse Cars"})]}):s.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-2 gap-4 sm:gap-6",children:n.map(j=>{const b=f(j.booking_request_status),N=Hee(new Date(j.end_datetime),new Date(j.start_datetime))+1,k=j.pickup_location||j.car.delivery_location||{},S=j.dropoff_location||j.car.return_location||{},C=k.address||"To be confirmed",B=k.latitude,E=k.longitude,z=S.address||"To be confirmed",T=S.latitude,W=S.longitude,U=parseFloat(j.car.deposit||0),L=U>0,Z=B&&E&&B!==0&&E!==0,O=T&&W&&T!==0&&W!==0;return s.jsxs(Ue,{className:"overflow-hidden hover:shadow-2xl transition-all duration-500 flex flex-col h-full border-2 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm hover:-translate-y-1 group",children:[s.jsxs("div",{className:"relative",children:[s.jsx(w,{car:j.car}),s.jsx("div",{className:"absolute top-2 sm:top-4 right-2 sm:right-4 z-10",children:s.jsxs(We,{className:`${b.color} shadow-xl font-semibold px-2 py-1 sm:px-3 sm:py-1.5 border backdrop-blur-sm text-xs sm:text-sm`,children:[b.icon," ",s.jsx("span",{className:"ml-1",children:b.text})]})}),j.payment_status==="pending"&&s.jsxs(We,{className:"absolute top-2 sm:top-4 left-2 sm:left-4 bg-orange-500 text-white shadow-xl border-0 backdrop-blur-sm px-2 py-1 sm:px-3 sm:py-1.5 font-semibold text-xs sm:text-sm",children:[s.jsx(cr,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 mr-1"}),s.jsx("span",{className:"hidden xs:inline",children:"Payment Due"}),s.jsx("span",{className:"xs:hidden",children:"Due"})]}),s.jsxs("div",{className:"absolute bottom-2 sm:bottom-4 left-2 sm:left-4 bg-black/70 backdrop-blur-md text-white px-3 py-1.5 sm:px-4 sm:py-2 rounded-full text-xs sm:text-sm font-semibold shadow-lg flex items-center gap-1.5 sm:gap-2",children:[s.jsx(hh,{className:"w-3 h-3 sm:w-4 sm:h-4"}),N," day",N>1?"s":""]})]}),s.jsxs(ps,{className:"pb-3 sm:pb-4 pt-4 sm:pt-6 px-4 sm:px-6",children:[s.jsxs(gs,{className:"text-lg sm:text-xl lg:text-2xl font-bold flex items-start sm:items-center justify-between gap-2 flex-col xs:flex-row",children:[s.jsxs("span",{className:"truncate",children:[j.car.make," ",j.car.model]}),s.jsx(We,{variant:"outline",className:"font-mono text-xs shrink-0 self-start xs:self-auto",children:j.car.year})]}),s.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 text-xs sm:text-sm text-muted-foreground pt-2",children:[s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Bi,{className:"w-3 h-3 sm:w-4 sm:h-4"}),s.jsx("span",{className:"truncate",children:j.car.car_category})]}),s.jsx(od,{orientation:"vertical",className:"h-3 sm:h-4"}),s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(Ss,{className:"w-3 h-3 sm:w-4 sm:h-4"}),j.car.seats]})]})]}),s.jsxs(qe,{className:"flex-1 space-y-4 sm:space-y-6 pt-0 px-4 sm:px-6 pb-4 sm:pb-6",children:[s.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:gap-4",children:[s.jsxs("div",{className:"relative pl-5 sm:pl-6 pb-4 sm:pb-6 border-l-2 border-teal-200 dark:border-teal-800",children:[s.jsx("div",{className:"absolute -left-1.5 sm:-left-2 top-0 w-3 h-3 sm:w-4 sm:h-4 rounded-full bg-teal-500 ring-2 sm:ring-4 ring-teal-100 dark:ring-teal-900"}),s.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 font-semibold text-xs sm:text-sm text-teal-700 dark:text-teal-400",children:[s.jsx(Hs,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Pickup"]}),s.jsx("p",{className:"text-xs sm:text-sm font-medium",children:y(j.start_datetime)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:v(j.start_datetime)}),s.jsxs("button",{onClick:()=>g(B,E),disabled:!Z,className:`flex items-start gap-1.5 sm:gap-2 text-xs transition-all mt-1.5 sm:mt-2 group/btn ${Z?"text-gray-700 dark:text-gray-300 hover:text-teal-600 dark:hover:text-teal-400 active:text-teal-700":"text-gray-400 cursor-not-allowed"}`,children:[s.jsx(Ps,{className:"w-3 h-3 sm:w-4 sm:h-4 mt-0.5 flex-shrink-0"}),s.jsx("span",{className:"flex-1 text-left line-clamp-2",children:C}),Z&&s.jsx($x,{className:"w-3 h-3 opacity-60 group-hover/btn:opacity-100 transition-opacity flex-shrink-0 mt-0.5"})]})]})]}),s.jsxs("div",{className:"relative pl-5 sm:pl-6",children:[s.jsx("div",{className:"absolute -left-1.5 sm:-left-2 top-0 w-3 h-3 sm:w-4 sm:h-4 rounded-full bg-cyan-500 ring-2 sm:ring-4 ring-cyan-100 dark:ring-cyan-900"}),s.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 font-semibold text-xs sm:text-sm text-cyan-700 dark:text-cyan-400",children:[s.jsx(Hs,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Return"]}),s.jsx("p",{className:"text-xs sm:text-sm font-medium",children:y(j.end_datetime)}),s.jsx("p",{className:"text-xs text-muted-foreground",children:v(j.end_datetime)}),s.jsxs("button",{onClick:()=>g(T,W),disabled:!O,className:`flex items-start gap-1.5 sm:gap-2 text-xs transition-all mt-1.5 sm:mt-2 group/btn ${O?"text-gray-700 dark:text-gray-300 hover:text-cyan-600 dark:hover:text-cyan-400 active:text-cyan-700":"text-gray-400 cursor-not-allowed"}`,children:[s.jsx(Ps,{className:"w-3 h-3 sm:w-4 sm:h-4 mt-0.5 flex-shrink-0"}),s.jsx("span",{className:"flex-1 text-left line-clamp-2",children:z}),O&&s.jsx($x,{className:"w-3 h-3 opacity-60 group-hover/btn:opacity-100 transition-opacity flex-shrink-0 mt-0.5"})]})]})]})]}),j.reason_of_booking&&s.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800/50 dark:to-gray-700/50 rounded-lg p-3 sm:p-4 border",children:s.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[s.jsx(ar,{className:"w-3 h-3 sm:w-4 sm:h-4 text-amber-500 mt-0.5 flex-shrink-0"}),s.jsxs("p",{className:"text-xs sm:text-sm text-gray-700 dark:text-gray-300 italic leading-relaxed",children:['"',j.reason_of_booking,'"']})]})}),s.jsx(od,{}),s.jsxs("div",{className:`rounded-xl p-3 sm:p-4 border-2 transition-all ${L?"bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200 dark:from-amber-900/20 dark:to-orange-900/20 dark:border-amber-700":"bg-gradient-to-br from-green-50 to-emerald-50 border-green-200 dark:from-green-900/20 dark:to-emerald-900/20 dark:border-green-700"}`,children:[s.jsxs("div",{className:"flex items-center justify-between mb-1.5 sm:mb-2",children:[s.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[s.jsx("div",{className:`p-1 sm:p-1.5 rounded-lg ${L?"bg-amber-200 dark:bg-amber-800":"bg-green-200 dark:bg-green-800"}`,children:s.jsx(kG,{className:`w-4 h-4 sm:w-5 sm:h-5 ${L?"text-amber-700 dark:text-amber-300":"text-green-700 dark:text-green-300"}`})}),s.jsx("span",{className:`text-xs sm:text-sm font-semibold ${L?"text-amber-900 dark:text-amber-200":"text-green-900 dark:text-green-200"}`,children:"Deposit"})]}),s.jsx("span",{className:`text-base sm:text-lg font-bold ${L?"text-amber-900 dark:text-amber-200":"text-green-900 dark:text-green-200"}`,children:L?`$${U.toFixed(2)}`:"$0.00"})]}),s.jsx("p",{className:`text-xs ${L?"text-amber-700 dark:text-amber-400":"text-green-700 dark:text-green-400"}`,children:L?"Refundable upon safe return":"No deposit required"})]}),s.jsxs("div",{className:"flex items-end justify-between pt-2 gap-3",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs uppercase tracking-wide mb-0.5 sm:mb-1 text-muted-foreground",children:"Total"}),s.jsxs("p",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent",children:["$",parseFloat(j.total_booking_price).toFixed(2)]})]}),s.jsxs(pe,{size:"default",onClick:()=>t(`/booking/${j.id}`),className:"bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white shadow-lg hover:shadow-xl transition-all group h-10 sm:h-11 px-4 sm:px-6 text-sm sm:text-base",children:[s.jsx("span",{className:"hidden xs:inline",children:"View Details"}),s.jsx("span",{className:"xs:hidden",children:"Details"}),s.jsx(An,{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform"})]})]})]})]},j.id)})})]})})};var qte=Object.defineProperty,Wte=Object.defineProperties,Gte=Object.getOwnPropertyDescriptors,YT=Object.getOwnPropertySymbols,Yte=Object.prototype.hasOwnProperty,Kte=Object.prototype.propertyIsEnumerable,N_=(t,e,r)=>e in t?qte(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,xs=(t,e)=>{for(var r in e||(e={}))Yte.call(e,r)&&N_(t,r,e[r]);if(YT)for(var r of YT(e))Kte.call(e,r)&&N_(t,r,e[r]);return t},Ku=(t,e)=>Wte(t,Gte(e)),tt=(t,e,r)=>N_(t,typeof e!="symbol"?e+"":e,r),Xte=(t,e,r)=>new Promise((n,a)=>{var i=d=>{try{c(r.next(d))}catch(h){a(h)}},o=d=>{try{c(r.throw(d))}catch(h){a(h)}},c=d=>d.done?n(d.value):Promise.resolve(d.value).then(i,o);c((r=r.apply(t,e)).next())});class a0{constructor(e){tt(this,"rootKey"),this.rootKey=e}}const Zte=Object.seal({});class at extends a0{constructor(e){super(e),tt(this,"root"),this.root=new Array}prepForXml(e){var r;e.stack.push(this);const n=this.root.map(a=>a instanceof a0?a.prepForXml(e):a).filter(a=>a!==void 0);return e.stack.pop(),{[this.rootKey]:n.length?n.length===1&&((r=n[0])!=null&&r._attr)?n[0]:n:Zte}}addChildElement(e){return this.root.push(e),this}}class ny extends at{prepForXml(e){const r=super.prepForXml(e);if(r&&(typeof r[this.rootKey]!="object"||Object.keys(r[this.rootKey]).length))return r}}class Vt extends a0{constructor(e){super("_attr"),tt(this,"xmlKeys"),this.root=e}prepForXml(e){const r={};return Object.entries(this.root).forEach(([n,a])=>{if(a!==void 0){const i=this.xmlKeys&&this.xmlKeys[n]||n;r[i]=a}}),{_attr:r}}}class ay extends a0{constructor(e){super("_attr"),this.root=e}prepForXml(e){return{_attr:Object.values(this.root).filter(({value:n})=>n!==void 0).reduce((n,{key:a,value:i})=>Ku(xs({},n),{[a]:i}),{})}}}class kr extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{val:"w:val",color:"w:color",fill:"w:fill",space:"w:space",sz:"w:sz",type:"w:type",rsidR:"w:rsidR",rsidRPr:"w:rsidRPr",rsidSect:"w:rsidSect",w:"w:w",h:"w:h",top:"w:top",right:"w:right",bottom:"w:bottom",left:"w:left",header:"w:header",footer:"w:footer",gutter:"w:gutter",linePitch:"w:linePitch",pos:"w:pos"})}}var zi=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function j8(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var hw={},Og={exports:{}},KT;function o2(){if(KT)return Og.exports;KT=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(C,B,E){return Function.prototype.apply.call(C,B,E)},r;t&&typeof t.ownKeys=="function"?r=t.ownKeys:Object.getOwnPropertySymbols?r=function(C){return Object.getOwnPropertyNames(C).concat(Object.getOwnPropertySymbols(C))}:r=function(C){return Object.getOwnPropertyNames(C)};function n(S){console&&console.warn&&console.warn(S)}var a=Number.isNaN||function(C){return C!==C};function i(){i.init.call(this)}Og.exports=i,Og.exports.once=b,i.EventEmitter=i,i.prototype._events=void 0,i.prototype._eventsCount=0,i.prototype._maxListeners=void 0;var o=10;function c(S){if(typeof S!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof S)}Object.defineProperty(i,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(S){if(typeof S!="number"||S<0||a(S))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+S+".");o=S}}),i.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},i.prototype.setMaxListeners=function(C){if(typeof C!="number"||C<0||a(C))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+C+".");return this._maxListeners=C,this};function d(S){return S._maxListeners===void 0?i.defaultMaxListeners:S._maxListeners}i.prototype.getMaxListeners=function(){return d(this)},i.prototype.emit=function(C){for(var B=[],E=1;E<arguments.length;E++)B.push(arguments[E]);var z=C==="error",T=this._events;if(T!==void 0)z=z&&T.error===void 0;else if(!z)return!1;if(z){var W;if(B.length>0&&(W=B[0]),W instanceof Error)throw W;var U=new Error("Unhandled error."+(W?" ("+W.message+")":""));throw U.context=W,U}var L=T[C];if(L===void 0)return!1;if(typeof L=="function")e(L,this,B);else for(var Z=L.length,O=v(L,Z),E=0;E<Z;++E)e(O[E],this,B);return!0};function h(S,C,B,E){var z,T,W;if(c(B),T=S._events,T===void 0?(T=S._events=Object.create(null),S._eventsCount=0):(T.newListener!==void 0&&(S.emit("newListener",C,B.listener?B.listener:B),T=S._events),W=T[C]),W===void 0)W=T[C]=B,++S._eventsCount;else if(typeof W=="function"?W=T[C]=E?[B,W]:[W,B]:E?W.unshift(B):W.push(B),z=d(S),z>0&&W.length>z&&!W.warned){W.warned=!0;var U=new Error("Possible EventEmitter memory leak detected. "+W.length+" "+String(C)+" listeners added. Use emitter.setMaxListeners() to increase limit");U.name="MaxListenersExceededWarning",U.emitter=S,U.type=C,U.count=W.length,n(U)}return S}i.prototype.addListener=function(C,B){return h(this,C,B,!1)},i.prototype.on=i.prototype.addListener,i.prototype.prependListener=function(C,B){return h(this,C,B,!0)};function m(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(S,C,B){var E={fired:!1,wrapFn:void 0,target:S,type:C,listener:B},z=m.bind(E);return z.listener=B,E.wrapFn=z,z}i.prototype.once=function(C,B){return c(B),this.on(C,f(this,C,B)),this},i.prototype.prependOnceListener=function(C,B){return c(B),this.prependListener(C,f(this,C,B)),this},i.prototype.removeListener=function(C,B){var E,z,T,W,U;if(c(B),z=this._events,z===void 0)return this;if(E=z[C],E===void 0)return this;if(E===B||E.listener===B)--this._eventsCount===0?this._events=Object.create(null):(delete z[C],z.removeListener&&this.emit("removeListener",C,E.listener||B));else if(typeof E!="function"){for(T=-1,W=E.length-1;W>=0;W--)if(E[W]===B||E[W].listener===B){U=E[W].listener,T=W;break}if(T<0)return this;T===0?E.shift():w(E,T),E.length===1&&(z[C]=E[0]),z.removeListener!==void 0&&this.emit("removeListener",C,U||B)}return this},i.prototype.off=i.prototype.removeListener,i.prototype.removeAllListeners=function(C){var B,E,z;if(E=this._events,E===void 0)return this;if(E.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):E[C]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete E[C]),this;if(arguments.length===0){var T=Object.keys(E),W;for(z=0;z<T.length;++z)W=T[z],W!=="removeListener"&&this.removeAllListeners(W);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(B=E[C],typeof B=="function")this.removeListener(C,B);else if(B!==void 0)for(z=B.length-1;z>=0;z--)this.removeListener(C,B[z]);return this};function g(S,C,B){var E=S._events;if(E===void 0)return[];var z=E[C];return z===void 0?[]:typeof z=="function"?B?[z.listener||z]:[z]:B?j(z):v(z,z.length)}i.prototype.listeners=function(C){return g(this,C,!0)},i.prototype.rawListeners=function(C){return g(this,C,!1)},i.listenerCount=function(S,C){return typeof S.listenerCount=="function"?S.listenerCount(C):y.call(S,C)},i.prototype.listenerCount=y;function y(S){var C=this._events;if(C!==void 0){var B=C[S];if(typeof B=="function")return 1;if(B!==void 0)return B.length}return 0}i.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function v(S,C){for(var B=new Array(C),E=0;E<C;++E)B[E]=S[E];return B}function w(S,C){for(;C+1<S.length;C++)S[C]=S[C+1];S.pop()}function j(S){for(var C=new Array(S.length),B=0;B<C.length;++B)C[B]=S[B].listener||S[B];return C}function b(S,C){return new Promise(function(B,E){function z(W){S.removeListener(C,T),E(W)}function T(){typeof S.removeListener=="function"&&S.removeListener("error",z),B([].slice.call(arguments))}k(S,C,T,{once:!0}),C!=="error"&&N(S,z,{once:!0})})}function N(S,C,B){typeof S.on=="function"&&k(S,"error",C,B)}function k(S,C,B,E){if(typeof S.on=="function")E.once?S.once(C,B):S.on(C,B);else if(typeof S.addEventListener=="function")S.addEventListener(C,function z(T){E.once&&S.removeEventListener(C,z),B(T)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof S)}return Og.exports}var Lg={exports:{}},XT;function lc(){return XT||(XT=1,typeof Object.create=="function"?Lg.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:Lg.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}),Lg.exports}function Qte(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _8={exports:{}},Ar=_8.exports={},Mi,Pi;function S_(){throw new Error("setTimeout has not been defined")}function C_(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?Mi=setTimeout:Mi=S_}catch{Mi=S_}try{typeof clearTimeout=="function"?Pi=clearTimeout:Pi=C_}catch{Pi=C_}})();function N8(t){if(Mi===setTimeout)return setTimeout(t,0);if((Mi===S_||!Mi)&&setTimeout)return Mi=setTimeout,setTimeout(t,0);try{return Mi(t,0)}catch{try{return Mi.call(null,t,0)}catch{return Mi.call(this,t,0)}}}function Jte(t){if(Pi===clearTimeout)return clearTimeout(t);if((Pi===C_||!Pi)&&clearTimeout)return Pi=clearTimeout,clearTimeout(t);try{return Pi(t)}catch{try{return Pi.call(null,t)}catch{return Pi.call(this,t)}}}var Mo=[],Iu=!1,ld,Sx=-1;function ese(){!Iu||!ld||(Iu=!1,ld.length?Mo=ld.concat(Mo):Sx=-1,Mo.length&&S8())}function S8(){if(!Iu){var t=N8(ese);Iu=!0;for(var e=Mo.length;e;){for(ld=Mo,Mo=[];++Sx<e;)ld&&ld[Sx].run();Sx=-1,e=Mo.length}ld=null,Iu=!1,Jte(t)}}Ar.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var r=1;r<arguments.length;r++)e[r-1]=arguments[r];Mo.push(new C8(t,e)),Mo.length===1&&!Iu&&N8(S8)};function C8(t,e){this.fun=t,this.array=e}C8.prototype.run=function(){this.fun.apply(null,this.array)};Ar.title="browser";Ar.browser=!0;Ar.env={};Ar.argv=[];Ar.version="";Ar.versions={};function Ko(){}Ar.on=Ko;Ar.addListener=Ko;Ar.once=Ko;Ar.off=Ko;Ar.removeListener=Ko;Ar.removeAllListeners=Ko;Ar.emit=Ko;Ar.prependListener=Ko;Ar.prependOnceListener=Ko;Ar.listeners=function(t){return[]};Ar.binding=function(t){throw new Error("process.binding is not supported")};Ar.cwd=function(){return"/"};Ar.chdir=function(t){throw new Error("process.chdir is not supported")};Ar.umask=function(){return 0};var tse=_8.exports;const ts=Qte(tse);var fw,ZT;function k8(){return ZT||(ZT=1,fw=o2().EventEmitter),fw}var mw={},Ef={},QT;function sse(){if(QT)return Ef;QT=1,Ef.byteLength=c,Ef.toByteArray=h,Ef.fromByteArray=g;for(var t=[],e=[],r=typeof Uint8Array<"u"?Uint8Array:Array,n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,i=n.length;a<i;++a)t[a]=n[a],e[n.charCodeAt(a)]=a;e[45]=62,e[95]=63;function o(y){var v=y.length;if(v%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var w=y.indexOf("=");w===-1&&(w=v);var j=w===v?0:4-w%4;return[w,j]}function c(y){var v=o(y),w=v[0],j=v[1];return(w+j)*3/4-j}function d(y,v,w){return(v+w)*3/4-w}function h(y){var v,w=o(y),j=w[0],b=w[1],N=new r(d(y,j,b)),k=0,S=b>0?j-4:j,C;for(C=0;C<S;C+=4)v=e[y.charCodeAt(C)]<<18|e[y.charCodeAt(C+1)]<<12|e[y.charCodeAt(C+2)]<<6|e[y.charCodeAt(C+3)],N[k++]=v>>16&255,N[k++]=v>>8&255,N[k++]=v&255;return b===2&&(v=e[y.charCodeAt(C)]<<2|e[y.charCodeAt(C+1)]>>4,N[k++]=v&255),b===1&&(v=e[y.charCodeAt(C)]<<10|e[y.charCodeAt(C+1)]<<4|e[y.charCodeAt(C+2)]>>2,N[k++]=v>>8&255,N[k++]=v&255),N}function m(y){return t[y>>18&63]+t[y>>12&63]+t[y>>6&63]+t[y&63]}function f(y,v,w){for(var j,b=[],N=v;N<w;N+=3)j=(y[N]<<16&16711680)+(y[N+1]<<8&65280)+(y[N+2]&255),b.push(m(j));return b.join("")}function g(y){for(var v,w=y.length,j=w%3,b=[],N=16383,k=0,S=w-j;k<S;k+=N)b.push(f(y,k,k+N>S?S:k+N));return j===1?(v=y[w-1],b.push(t[v>>2]+t[v<<4&63]+"==")):j===2&&(v=(y[w-2]<<8)+y[w-1],b.push(t[v>>10]+t[v>>4&63]+t[v<<2&63]+"=")),b.join("")}return Ef}var Fg={};var JT;function rse(){return JT||(JT=1,Fg.read=function(t,e,r,n,a){var i,o,c=a*8-n-1,d=(1<<c)-1,h=d>>1,m=-7,f=r?a-1:0,g=r?-1:1,y=t[e+f];for(f+=g,i=y&(1<<-m)-1,y>>=-m,m+=c;m>0;i=i*256+t[e+f],f+=g,m-=8);for(o=i&(1<<-m)-1,i>>=-m,m+=n;m>0;o=o*256+t[e+f],f+=g,m-=8);if(i===0)i=1-h;else{if(i===d)return o?NaN:(y?-1:1)*(1/0);o=o+Math.pow(2,n),i=i-h}return(y?-1:1)*o*Math.pow(2,i-n)},Fg.write=function(t,e,r,n,a,i){var o,c,d,h=i*8-a-1,m=(1<<h)-1,f=m>>1,g=a===23?Math.pow(2,-24)-Math.pow(2,-77):0,y=n?0:i-1,v=n?1:-1,w=e<0||e===0&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(c=isNaN(e)?1:0,o=m):(o=Math.floor(Math.log(e)/Math.LN2),e*(d=Math.pow(2,-o))<1&&(o--,d*=2),o+f>=1?e+=g/d:e+=g*Math.pow(2,1-f),e*d>=2&&(o++,d/=2),o+f>=m?(c=0,o=m):o+f>=1?(c=(e*d-1)*Math.pow(2,a),o=o+f):(c=e*Math.pow(2,f-1)*Math.pow(2,a),o=0));a>=8;t[r+y]=c&255,y+=v,c/=256,a-=8);for(o=o<<a|c,h+=a;h>0;t[r+y]=o&255,y+=v,o/=256,h-=8);t[r+y-v]|=w*128}),Fg}var e4;function iy(){return e4||(e4=1,(function(t){var e=sse(),r=rse(),n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=N,t.INSPECT_MAX_BYTES=50;var a=2147483647;t.kMaxLength=a,c.TYPED_ARRAY_SUPPORT=i(),!c.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function i(){try{var J=new Uint8Array(1),R={foo:function(){return 42}};return Object.setPrototypeOf(R,Uint8Array.prototype),Object.setPrototypeOf(J,R),J.foo()===42}catch{return!1}}Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}});function o(J){if(J>a)throw new RangeError('The value "'+J+'" is invalid for option "size"');var R=new Uint8Array(J);return Object.setPrototypeOf(R,c.prototype),R}function c(J,R,P){if(typeof J=="number"){if(typeof R=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return f(J)}return d(J,R,P)}c.poolSize=8192;function d(J,R,P){if(typeof J=="string")return g(J,R);if(ArrayBuffer.isView(J))return v(J);if(J==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof J);if(Ce(J,ArrayBuffer)||J&&Ce(J.buffer,ArrayBuffer)||typeof SharedArrayBuffer<"u"&&(Ce(J,SharedArrayBuffer)||J&&Ce(J.buffer,SharedArrayBuffer)))return w(J,R,P);if(typeof J=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');var G=J.valueOf&&J.valueOf();if(G!=null&&G!==J)return c.from(G,R,P);var we=j(J);if(we)return we;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof J[Symbol.toPrimitive]=="function")return c.from(J[Symbol.toPrimitive]("string"),R,P);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof J)}c.from=function(J,R,P){return d(J,R,P)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array);function h(J){if(typeof J!="number")throw new TypeError('"size" argument must be of type number');if(J<0)throw new RangeError('The value "'+J+'" is invalid for option "size"')}function m(J,R,P){return h(J),J<=0?o(J):R!==void 0?typeof P=="string"?o(J).fill(R,P):o(J).fill(R):o(J)}c.alloc=function(J,R,P){return m(J,R,P)};function f(J){return h(J),o(J<0?0:b(J)|0)}c.allocUnsafe=function(J){return f(J)},c.allocUnsafeSlow=function(J){return f(J)};function g(J,R){if((typeof R!="string"||R==="")&&(R="utf8"),!c.isEncoding(R))throw new TypeError("Unknown encoding: "+R);var P=k(J,R)|0,G=o(P),we=G.write(J,R);return we!==P&&(G=G.slice(0,we)),G}function y(J){for(var R=J.length<0?0:b(J.length)|0,P=o(R),G=0;G<R;G+=1)P[G]=J[G]&255;return P}function v(J){if(Ce(J,Uint8Array)){var R=new Uint8Array(J);return w(R.buffer,R.byteOffset,R.byteLength)}return y(J)}function w(J,R,P){if(R<0||J.byteLength<R)throw new RangeError('"offset" is outside of buffer bounds');if(J.byteLength<R+(P||0))throw new RangeError('"length" is outside of buffer bounds');var G;return R===void 0&&P===void 0?G=new Uint8Array(J):P===void 0?G=new Uint8Array(J,R):G=new Uint8Array(J,R,P),Object.setPrototypeOf(G,c.prototype),G}function j(J){if(c.isBuffer(J)){var R=b(J.length)|0,P=o(R);return P.length===0||J.copy(P,0,0,R),P}if(J.length!==void 0)return typeof J.length!="number"||F(J.length)?o(0):y(J);if(J.type==="Buffer"&&Array.isArray(J.data))return y(J.data)}function b(J){if(J>=a)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+a.toString(16)+" bytes");return J|0}function N(J){return+J!=J&&(J=0),c.alloc(+J)}c.isBuffer=function(R){return R!=null&&R._isBuffer===!0&&R!==c.prototype},c.compare=function(R,P){if(Ce(R,Uint8Array)&&(R=c.from(R,R.offset,R.byteLength)),Ce(P,Uint8Array)&&(P=c.from(P,P.offset,P.byteLength)),!c.isBuffer(R)||!c.isBuffer(P))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(R===P)return 0;for(var G=R.length,we=P.length,de=0,he=Math.min(G,we);de<he;++de)if(R[de]!==P[de]){G=R[de],we=P[de];break}return G<we?-1:we<G?1:0},c.isEncoding=function(R){switch(String(R).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(R,P){if(!Array.isArray(R))throw new TypeError('"list" argument must be an Array of Buffers');if(R.length===0)return c.alloc(0);var G;if(P===void 0)for(P=0,G=0;G<R.length;++G)P+=R[G].length;var we=c.allocUnsafe(P),de=0;for(G=0;G<R.length;++G){var he=R[G];if(Ce(he,Uint8Array))de+he.length>we.length?c.from(he).copy(we,de):Uint8Array.prototype.set.call(we,he,de);else if(c.isBuffer(he))he.copy(we,de);else throw new TypeError('"list" argument must be an Array of Buffers');de+=he.length}return we};function k(J,R){if(c.isBuffer(J))return J.length;if(ArrayBuffer.isView(J)||Ce(J,ArrayBuffer))return J.byteLength;if(typeof J!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof J);var P=J.length,G=arguments.length>2&&arguments[2]===!0;if(!G&&P===0)return 0;for(var we=!1;;)switch(R){case"ascii":case"latin1":case"binary":return P;case"utf8":case"utf-8":return H(J).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return P*2;case"hex":return P>>>1;case"base64":return te(J).length;default:if(we)return G?-1:H(J).length;R=(""+R).toLowerCase(),we=!0}}c.byteLength=k;function S(J,R,P){var G=!1;if((R===void 0||R<0)&&(R=0),R>this.length||((P===void 0||P>this.length)&&(P=this.length),P<=0)||(P>>>=0,R>>>=0,P<=R))return"";for(J||(J="utf8");;)switch(J){case"hex":return $(this,R,P);case"utf8":case"utf-8":return O(this,R,P);case"ascii":return M(this,R,P);case"latin1":case"binary":return X(this,R,P);case"base64":return Z(this,R,P);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return oe(this,R,P);default:if(G)throw new TypeError("Unknown encoding: "+J);J=(J+"").toLowerCase(),G=!0}}c.prototype._isBuffer=!0;function C(J,R,P){var G=J[R];J[R]=J[P],J[P]=G}c.prototype.swap16=function(){var R=this.length;if(R%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var P=0;P<R;P+=2)C(this,P,P+1);return this},c.prototype.swap32=function(){var R=this.length;if(R%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var P=0;P<R;P+=4)C(this,P,P+3),C(this,P+1,P+2);return this},c.prototype.swap64=function(){var R=this.length;if(R%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var P=0;P<R;P+=8)C(this,P,P+7),C(this,P+1,P+6),C(this,P+2,P+5),C(this,P+3,P+4);return this},c.prototype.toString=function(){var R=this.length;return R===0?"":arguments.length===0?O(this,0,R):S.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(R){if(!c.isBuffer(R))throw new TypeError("Argument must be a Buffer");return this===R?!0:c.compare(this,R)===0},c.prototype.inspect=function(){var R="",P=t.INSPECT_MAX_BYTES;return R=this.toString("hex",0,P).replace(/(.{2})/g,"$1 ").trim(),this.length>P&&(R+=" ... "),"<Buffer "+R+">"},n&&(c.prototype[n]=c.prototype.inspect),c.prototype.compare=function(R,P,G,we,de){if(Ce(R,Uint8Array)&&(R=c.from(R,R.offset,R.byteLength)),!c.isBuffer(R))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof R);if(P===void 0&&(P=0),G===void 0&&(G=R?R.length:0),we===void 0&&(we=0),de===void 0&&(de=this.length),P<0||G>R.length||we<0||de>this.length)throw new RangeError("out of range index");if(we>=de&&P>=G)return 0;if(we>=de)return-1;if(P>=G)return 1;if(P>>>=0,G>>>=0,we>>>=0,de>>>=0,this===R)return 0;for(var he=de-we,xe=G-P,Me=Math.min(he,xe),Re=this.slice(we,de),$e=R.slice(P,G),Je=0;Je<Me;++Je)if(Re[Je]!==$e[Je]){he=Re[Je],xe=$e[Je];break}return he<xe?-1:xe<he?1:0};function B(J,R,P,G,we){if(J.length===0)return-1;if(typeof P=="string"?(G=P,P=0):P>2147483647?P=2147483647:P<-2147483648&&(P=-2147483648),P=+P,F(P)&&(P=we?0:J.length-1),P<0&&(P=J.length+P),P>=J.length){if(we)return-1;P=J.length-1}else if(P<0)if(we)P=0;else return-1;if(typeof R=="string"&&(R=c.from(R,G)),c.isBuffer(R))return R.length===0?-1:E(J,R,P,G,we);if(typeof R=="number")return R=R&255,typeof Uint8Array.prototype.indexOf=="function"?we?Uint8Array.prototype.indexOf.call(J,R,P):Uint8Array.prototype.lastIndexOf.call(J,R,P):E(J,[R],P,G,we);throw new TypeError("val must be string, number or Buffer")}function E(J,R,P,G,we){var de=1,he=J.length,xe=R.length;if(G!==void 0&&(G=String(G).toLowerCase(),G==="ucs2"||G==="ucs-2"||G==="utf16le"||G==="utf-16le")){if(J.length<2||R.length<2)return-1;de=2,he/=2,xe/=2,P/=2}function Me(Nt,St){return de===1?Nt[St]:Nt.readUInt16BE(St*de)}var Re;if(we){var $e=-1;for(Re=P;Re<he;Re++)if(Me(J,Re)===Me(R,$e===-1?0:Re-$e)){if($e===-1&&($e=Re),Re-$e+1===xe)return $e*de}else $e!==-1&&(Re-=Re-$e),$e=-1}else for(P+xe>he&&(P=he-xe),Re=P;Re>=0;Re--){for(var Je=!0,st=0;st<xe;st++)if(Me(J,Re+st)!==Me(R,st)){Je=!1;break}if(Je)return Re}return-1}c.prototype.includes=function(R,P,G){return this.indexOf(R,P,G)!==-1},c.prototype.indexOf=function(R,P,G){return B(this,R,P,G,!0)},c.prototype.lastIndexOf=function(R,P,G){return B(this,R,P,G,!1)};function z(J,R,P,G){P=Number(P)||0;var we=J.length-P;G?(G=Number(G),G>we&&(G=we)):G=we;var de=R.length;G>de/2&&(G=de/2);for(var he=0;he<G;++he){var xe=parseInt(R.substr(he*2,2),16);if(F(xe))return he;J[P+he]=xe}return he}function T(J,R,P,G){return ee(H(R,J.length-P),J,P,G)}function W(J,R,P,G){return ee(me(R),J,P,G)}function U(J,R,P,G){return ee(te(R),J,P,G)}function L(J,R,P,G){return ee(Q(R,J.length-P),J,P,G)}c.prototype.write=function(R,P,G,we){if(P===void 0)we="utf8",G=this.length,P=0;else if(G===void 0&&typeof P=="string")we=P,G=this.length,P=0;else if(isFinite(P))P=P>>>0,isFinite(G)?(G=G>>>0,we===void 0&&(we="utf8")):(we=G,G=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var de=this.length-P;if((G===void 0||G>de)&&(G=de),R.length>0&&(G<0||P<0)||P>this.length)throw new RangeError("Attempt to write outside buffer bounds");we||(we="utf8");for(var he=!1;;)switch(we){case"hex":return z(this,R,P,G);case"utf8":case"utf-8":return T(this,R,P,G);case"ascii":case"latin1":case"binary":return W(this,R,P,G);case"base64":return U(this,R,P,G);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return L(this,R,P,G);default:if(he)throw new TypeError("Unknown encoding: "+we);we=(""+we).toLowerCase(),he=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Z(J,R,P){return R===0&&P===J.length?e.fromByteArray(J):e.fromByteArray(J.slice(R,P))}function O(J,R,P){P=Math.min(J.length,P);for(var G=[],we=R;we<P;){var de=J[we],he=null,xe=de>239?4:de>223?3:de>191?2:1;if(we+xe<=P){var Me,Re,$e,Je;switch(xe){case 1:de<128&&(he=de);break;case 2:Me=J[we+1],(Me&192)===128&&(Je=(de&31)<<6|Me&63,Je>127&&(he=Je));break;case 3:Me=J[we+1],Re=J[we+2],(Me&192)===128&&(Re&192)===128&&(Je=(de&15)<<12|(Me&63)<<6|Re&63,Je>2047&&(Je<55296||Je>57343)&&(he=Je));break;case 4:Me=J[we+1],Re=J[we+2],$e=J[we+3],(Me&192)===128&&(Re&192)===128&&($e&192)===128&&(Je=(de&15)<<18|(Me&63)<<12|(Re&63)<<6|$e&63,Je>65535&&Je<1114112&&(he=Je))}}he===null?(he=65533,xe=1):he>65535&&(he-=65536,G.push(he>>>10&1023|55296),he=56320|he&1023),G.push(he),we+=xe}return K(G)}var se=4096;function K(J){var R=J.length;if(R<=se)return String.fromCharCode.apply(String,J);for(var P="",G=0;G<R;)P+=String.fromCharCode.apply(String,J.slice(G,G+=se));return P}function M(J,R,P){var G="";P=Math.min(J.length,P);for(var we=R;we<P;++we)G+=String.fromCharCode(J[we]&127);return G}function X(J,R,P){var G="";P=Math.min(J.length,P);for(var we=R;we<P;++we)G+=String.fromCharCode(J[we]);return G}function $(J,R,P){var G=J.length;(!R||R<0)&&(R=0),(!P||P<0||P>G)&&(P=G);for(var we="",de=R;de<P;++de)we+=Ee[J[de]];return we}function oe(J,R,P){for(var G=J.slice(R,P),we="",de=0;de<G.length-1;de+=2)we+=String.fromCharCode(G[de]+G[de+1]*256);return we}c.prototype.slice=function(R,P){var G=this.length;R=~~R,P=P===void 0?G:~~P,R<0?(R+=G,R<0&&(R=0)):R>G&&(R=G),P<0?(P+=G,P<0&&(P=0)):P>G&&(P=G),P<R&&(P=R);var we=this.subarray(R,P);return Object.setPrototypeOf(we,c.prototype),we};function q(J,R,P){if(J%1!==0||J<0)throw new RangeError("offset is not uint");if(J+R>P)throw new RangeError("Trying to access beyond buffer length")}c.prototype.readUintLE=c.prototype.readUIntLE=function(R,P,G){R=R>>>0,P=P>>>0,G||q(R,P,this.length);for(var we=this[R],de=1,he=0;++he<P&&(de*=256);)we+=this[R+he]*de;return we},c.prototype.readUintBE=c.prototype.readUIntBE=function(R,P,G){R=R>>>0,P=P>>>0,G||q(R,P,this.length);for(var we=this[R+--P],de=1;P>0&&(de*=256);)we+=this[R+--P]*de;return we},c.prototype.readUint8=c.prototype.readUInt8=function(R,P){return R=R>>>0,P||q(R,1,this.length),this[R]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(R,P){return R=R>>>0,P||q(R,2,this.length),this[R]|this[R+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(R,P){return R=R>>>0,P||q(R,2,this.length),this[R]<<8|this[R+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(R,P){return R=R>>>0,P||q(R,4,this.length),(this[R]|this[R+1]<<8|this[R+2]<<16)+this[R+3]*16777216},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(R,P){return R=R>>>0,P||q(R,4,this.length),this[R]*16777216+(this[R+1]<<16|this[R+2]<<8|this[R+3])},c.prototype.readIntLE=function(R,P,G){R=R>>>0,P=P>>>0,G||q(R,P,this.length);for(var we=this[R],de=1,he=0;++he<P&&(de*=256);)we+=this[R+he]*de;return de*=128,we>=de&&(we-=Math.pow(2,8*P)),we},c.prototype.readIntBE=function(R,P,G){R=R>>>0,P=P>>>0,G||q(R,P,this.length);for(var we=P,de=1,he=this[R+--we];we>0&&(de*=256);)he+=this[R+--we]*de;return de*=128,he>=de&&(he-=Math.pow(2,8*P)),he},c.prototype.readInt8=function(R,P){return R=R>>>0,P||q(R,1,this.length),this[R]&128?(255-this[R]+1)*-1:this[R]},c.prototype.readInt16LE=function(R,P){R=R>>>0,P||q(R,2,this.length);var G=this[R]|this[R+1]<<8;return G&32768?G|4294901760:G},c.prototype.readInt16BE=function(R,P){R=R>>>0,P||q(R,2,this.length);var G=this[R+1]|this[R]<<8;return G&32768?G|4294901760:G},c.prototype.readInt32LE=function(R,P){return R=R>>>0,P||q(R,4,this.length),this[R]|this[R+1]<<8|this[R+2]<<16|this[R+3]<<24},c.prototype.readInt32BE=function(R,P){return R=R>>>0,P||q(R,4,this.length),this[R]<<24|this[R+1]<<16|this[R+2]<<8|this[R+3]},c.prototype.readFloatLE=function(R,P){return R=R>>>0,P||q(R,4,this.length),r.read(this,R,!0,23,4)},c.prototype.readFloatBE=function(R,P){return R=R>>>0,P||q(R,4,this.length),r.read(this,R,!1,23,4)},c.prototype.readDoubleLE=function(R,P){return R=R>>>0,P||q(R,8,this.length),r.read(this,R,!0,52,8)},c.prototype.readDoubleBE=function(R,P){return R=R>>>0,P||q(R,8,this.length),r.read(this,R,!1,52,8)};function Y(J,R,P,G,we,de){if(!c.isBuffer(J))throw new TypeError('"buffer" argument must be a Buffer instance');if(R>we||R<de)throw new RangeError('"value" argument is out of bounds');if(P+G>J.length)throw new RangeError("Index out of range")}c.prototype.writeUintLE=c.prototype.writeUIntLE=function(R,P,G,we){if(R=+R,P=P>>>0,G=G>>>0,!we){var de=Math.pow(2,8*G)-1;Y(this,R,P,G,de,0)}var he=1,xe=0;for(this[P]=R&255;++xe<G&&(he*=256);)this[P+xe]=R/he&255;return P+G},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(R,P,G,we){if(R=+R,P=P>>>0,G=G>>>0,!we){var de=Math.pow(2,8*G)-1;Y(this,R,P,G,de,0)}var he=G-1,xe=1;for(this[P+he]=R&255;--he>=0&&(xe*=256);)this[P+he]=R/xe&255;return P+G},c.prototype.writeUint8=c.prototype.writeUInt8=function(R,P,G){return R=+R,P=P>>>0,G||Y(this,R,P,1,255,0),this[P]=R&255,P+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(R,P,G){return R=+R,P=P>>>0,G||Y(this,R,P,2,65535,0),this[P]=R&255,this[P+1]=R>>>8,P+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(R,P,G){return R=+R,P=P>>>0,G||Y(this,R,P,2,65535,0),this[P]=R>>>8,this[P+1]=R&255,P+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(R,P,G){return R=+R,P=P>>>0,G||Y(this,R,P,4,4294967295,0),this[P+3]=R>>>24,this[P+2]=R>>>16,this[P+1]=R>>>8,this[P]=R&255,P+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(R,P,G){return R=+R,P=P>>>0,G||Y(this,R,P,4,4294967295,0),this[P]=R>>>24,this[P+1]=R>>>16,this[P+2]=R>>>8,this[P+3]=R&255,P+4},c.prototype.writeIntLE=function(R,P,G,we){if(R=+R,P=P>>>0,!we){var de=Math.pow(2,8*G-1);Y(this,R,P,G,de-1,-de)}var he=0,xe=1,Me=0;for(this[P]=R&255;++he<G&&(xe*=256);)R<0&&Me===0&&this[P+he-1]!==0&&(Me=1),this[P+he]=(R/xe>>0)-Me&255;return P+G},c.prototype.writeIntBE=function(R,P,G,we){if(R=+R,P=P>>>0,!we){var de=Math.pow(2,8*G-1);Y(this,R,P,G,de-1,-de)}var he=G-1,xe=1,Me=0;for(this[P+he]=R&255;--he>=0&&(xe*=256);)R<0&&Me===0&&this[P+he+1]!==0&&(Me=1),this[P+he]=(R/xe>>0)-Me&255;return P+G},c.prototype.writeInt8=function(R,P,G){return R=+R,P=P>>>0,G||Y(this,R,P,1,127,-128),R<0&&(R=255+R+1),this[P]=R&255,P+1},c.prototype.writeInt16LE=function(R,P,G){return R=+R,P=P>>>0,G||Y(this,R,P,2,32767,-32768),this[P]=R&255,this[P+1]=R>>>8,P+2},c.prototype.writeInt16BE=function(R,P,G){return R=+R,P=P>>>0,G||Y(this,R,P,2,32767,-32768),this[P]=R>>>8,this[P+1]=R&255,P+2},c.prototype.writeInt32LE=function(R,P,G){return R=+R,P=P>>>0,G||Y(this,R,P,4,2147483647,-2147483648),this[P]=R&255,this[P+1]=R>>>8,this[P+2]=R>>>16,this[P+3]=R>>>24,P+4},c.prototype.writeInt32BE=function(R,P,G){return R=+R,P=P>>>0,G||Y(this,R,P,4,2147483647,-2147483648),R<0&&(R=4294967295+R+1),this[P]=R>>>24,this[P+1]=R>>>16,this[P+2]=R>>>8,this[P+3]=R&255,P+4};function ce(J,R,P,G,we,de){if(P+G>J.length)throw new RangeError("Index out of range");if(P<0)throw new RangeError("Index out of range")}function le(J,R,P,G,we){return R=+R,P=P>>>0,we||ce(J,R,P,4),r.write(J,R,P,G,23,4),P+4}c.prototype.writeFloatLE=function(R,P,G){return le(this,R,P,!0,G)},c.prototype.writeFloatBE=function(R,P,G){return le(this,R,P,!1,G)};function be(J,R,P,G,we){return R=+R,P=P>>>0,we||ce(J,R,P,8),r.write(J,R,P,G,52,8),P+8}c.prototype.writeDoubleLE=function(R,P,G){return be(this,R,P,!0,G)},c.prototype.writeDoubleBE=function(R,P,G){return be(this,R,P,!1,G)},c.prototype.copy=function(R,P,G,we){if(!c.isBuffer(R))throw new TypeError("argument should be a Buffer");if(G||(G=0),!we&&we!==0&&(we=this.length),P>=R.length&&(P=R.length),P||(P=0),we>0&&we<G&&(we=G),we===G||R.length===0||this.length===0)return 0;if(P<0)throw new RangeError("targetStart out of bounds");if(G<0||G>=this.length)throw new RangeError("Index out of range");if(we<0)throw new RangeError("sourceEnd out of bounds");we>this.length&&(we=this.length),R.length-P<we-G&&(we=R.length-P+G);var de=we-G;return this===R&&typeof Uint8Array.prototype.copyWithin=="function"?this.copyWithin(P,G,we):Uint8Array.prototype.set.call(R,this.subarray(G,we),P),de},c.prototype.fill=function(R,P,G,we){if(typeof R=="string"){if(typeof P=="string"?(we=P,P=0,G=this.length):typeof G=="string"&&(we=G,G=this.length),we!==void 0&&typeof we!="string")throw new TypeError("encoding must be a string");if(typeof we=="string"&&!c.isEncoding(we))throw new TypeError("Unknown encoding: "+we);if(R.length===1){var de=R.charCodeAt(0);(we==="utf8"&&de<128||we==="latin1")&&(R=de)}}else typeof R=="number"?R=R&255:typeof R=="boolean"&&(R=Number(R));if(P<0||this.length<P||this.length<G)throw new RangeError("Out of range index");if(G<=P)return this;P=P>>>0,G=G===void 0?this.length:G>>>0,R||(R=0);var he;if(typeof R=="number")for(he=P;he<G;++he)this[he]=R;else{var xe=c.isBuffer(R)?R:c.from(R,we),Me=xe.length;if(Me===0)throw new TypeError('The value "'+R+'" is invalid for argument "value"');for(he=0;he<G-P;++he)this[he+P]=xe[he%Me]}return this};var ge=/[^+/0-9A-Za-z-_]/g;function V(J){if(J=J.split("=")[0],J=J.trim().replace(ge,""),J.length<2)return"";for(;J.length%4!==0;)J=J+"=";return J}function H(J,R){R=R||1/0;for(var P,G=J.length,we=null,de=[],he=0;he<G;++he){if(P=J.charCodeAt(he),P>55295&&P<57344){if(!we){if(P>56319){(R-=3)>-1&&de.push(239,191,189);continue}else if(he+1===G){(R-=3)>-1&&de.push(239,191,189);continue}we=P;continue}if(P<56320){(R-=3)>-1&&de.push(239,191,189),we=P;continue}P=(we-55296<<10|P-56320)+65536}else we&&(R-=3)>-1&&de.push(239,191,189);if(we=null,P<128){if((R-=1)<0)break;de.push(P)}else if(P<2048){if((R-=2)<0)break;de.push(P>>6|192,P&63|128)}else if(P<65536){if((R-=3)<0)break;de.push(P>>12|224,P>>6&63|128,P&63|128)}else if(P<1114112){if((R-=4)<0)break;de.push(P>>18|240,P>>12&63|128,P>>6&63|128,P&63|128)}else throw new Error("Invalid code point")}return de}function me(J){for(var R=[],P=0;P<J.length;++P)R.push(J.charCodeAt(P)&255);return R}function Q(J,R){for(var P,G,we,de=[],he=0;he<J.length&&!((R-=2)<0);++he)P=J.charCodeAt(he),G=P>>8,we=P%256,de.push(we),de.push(G);return de}function te(J){return e.toByteArray(V(J))}function ee(J,R,P,G){for(var we=0;we<G&&!(we+P>=R.length||we>=J.length);++we)R[we+P]=J[we];return we}function Ce(J,R){return J instanceof R||J!=null&&J.constructor!=null&&J.constructor.name!=null&&J.constructor.name===R.name}function F(J){return J!==J}var Ee=(function(){for(var J="0123456789abcdef",R=new Array(256),P=0;P<16;++P)for(var G=P*16,we=0;we<16;++we)R[G+we]=J[P]+J[we];return R})()})(mw)),mw}var pw={},gw={},xw,t4;function A8(){return t4||(t4=1,xw=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var e={},r=Symbol("test"),n=Object(r);if(typeof r=="string"||Object.prototype.toString.call(r)!=="[object Symbol]"||Object.prototype.toString.call(n)!=="[object Symbol]")return!1;var a=42;e[r]=a;for(var i in e)return!1;if(typeof Object.keys=="function"&&Object.keys(e).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(e).length!==0)return!1;var o=Object.getOwnPropertySymbols(e);if(o.length!==1||o[0]!==r||!Object.prototype.propertyIsEnumerable.call(e,r))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var c=Object.getOwnPropertyDescriptor(e,r);if(c.value!==a||c.enumerable!==!0)return!1}return!0}),xw}var yw,s4;function l2(){if(s4)return yw;s4=1;var t=A8();return yw=function(){return t()&&!!Symbol.toStringTag},yw}var bw,r4;function E8(){return r4||(r4=1,bw=Object),bw}var vw,n4;function nse(){return n4||(n4=1,vw=Error),vw}var ww,a4;function ase(){return a4||(a4=1,ww=EvalError),ww}var jw,i4;function ise(){return i4||(i4=1,jw=RangeError),jw}var _w,o4;function ose(){return o4||(o4=1,_w=ReferenceError),_w}var Nw,l4;function T8(){return l4||(l4=1,Nw=SyntaxError),Nw}var Sw,c4;function oy(){return c4||(c4=1,Sw=TypeError),Sw}var Cw,d4;function lse(){return d4||(d4=1,Cw=URIError),Cw}var kw,u4;function cse(){return u4||(u4=1,kw=Math.abs),kw}var Aw,h4;function dse(){return h4||(h4=1,Aw=Math.floor),Aw}var Ew,f4;function use(){return f4||(f4=1,Ew=Math.max),Ew}var Tw,m4;function hse(){return m4||(m4=1,Tw=Math.min),Tw}var Rw,p4;function fse(){return p4||(p4=1,Rw=Math.pow),Rw}var Dw,g4;function mse(){return g4||(g4=1,Dw=Math.round),Dw}var Mw,x4;function pse(){return x4||(x4=1,Mw=Number.isNaN||function(e){return e!==e}),Mw}var Pw,y4;function gse(){if(y4)return Pw;y4=1;var t=pse();return Pw=function(r){return t(r)||r===0?r:r<0?-1:1},Pw}var Ow,b4;function xse(){return b4||(b4=1,Ow=Object.getOwnPropertyDescriptor),Ow}var Lw,v4;function Wm(){if(v4)return Lw;v4=1;var t=xse();if(t)try{t([],"length")}catch{t=null}return Lw=t,Lw}var Fw,w4;function ly(){if(w4)return Fw;w4=1;var t=Object.defineProperty||!1;if(t)try{t({},"a",{value:1})}catch{t=!1}return Fw=t,Fw}var Bw,j4;function yse(){if(j4)return Bw;j4=1;var t=typeof Symbol<"u"&&Symbol,e=A8();return Bw=function(){return typeof t!="function"||typeof Symbol!="function"||typeof t("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:e()},Bw}var Iw,_4;function R8(){return _4||(_4=1,Iw=typeof Reflect<"u"&&Reflect.getPrototypeOf||null),Iw}var zw,N4;function D8(){if(N4)return zw;N4=1;var t=E8();return zw=t.getPrototypeOf||null,zw}var Uw,S4;function bse(){if(S4)return Uw;S4=1;var t="Function.prototype.bind called on incompatible ",e=Object.prototype.toString,r=Math.max,n="[object Function]",a=function(d,h){for(var m=[],f=0;f<d.length;f+=1)m[f]=d[f];for(var g=0;g<h.length;g+=1)m[g+d.length]=h[g];return m},i=function(d,h){for(var m=[],f=h,g=0;f<d.length;f+=1,g+=1)m[g]=d[f];return m},o=function(c,d){for(var h="",m=0;m<c.length;m+=1)h+=c[m],m+1<c.length&&(h+=d);return h};return Uw=function(d){var h=this;if(typeof h!="function"||e.apply(h)!==n)throw new TypeError(t+h);for(var m=i(arguments,1),f,g=function(){if(this instanceof f){var b=h.apply(this,a(m,arguments));return Object(b)===b?b:this}return h.apply(d,a(m,arguments))},y=r(0,h.length-m.length),v=[],w=0;w<y;w++)v[w]="$"+w;if(f=Function("binder","return function ("+o(v,",")+"){ return binder.apply(this,arguments); }")(g),h.prototype){var j=function(){};j.prototype=h.prototype,f.prototype=new j,j.prototype=null}return f},Uw}var $w,C4;function Gm(){if(C4)return $w;C4=1;var t=bse();return $w=Function.prototype.bind||t,$w}var Vw,k4;function c2(){return k4||(k4=1,Vw=Function.prototype.call),Vw}var Hw,A4;function d2(){return A4||(A4=1,Hw=Function.prototype.apply),Hw}var qw,E4;function vse(){return E4||(E4=1,qw=typeof Reflect<"u"&&Reflect&&Reflect.apply),qw}var Ww,T4;function M8(){if(T4)return Ww;T4=1;var t=Gm(),e=d2(),r=c2(),n=vse();return Ww=n||t.call(r,e),Ww}var Gw,R4;function u2(){if(R4)return Gw;R4=1;var t=Gm(),e=oy(),r=c2(),n=M8();return Gw=function(i){if(i.length<1||typeof i[0]!="function")throw new e("a function is required");return n(t,r,i)},Gw}var Yw,D4;function wse(){if(D4)return Yw;D4=1;var t=u2(),e=Wm(),r;try{r=[].__proto__===Array.prototype}catch(o){if(!o||typeof o!="object"||!("code"in o)||o.code!=="ERR_PROTO_ACCESS")throw o}var n=!!r&&e&&e(Object.prototype,"__proto__"),a=Object,i=a.getPrototypeOf;return Yw=n&&typeof n.get=="function"?t([n.get]):typeof i=="function"?(function(c){return i(c==null?c:a(c))}):!1,Yw}var Kw,M4;function P8(){if(M4)return Kw;M4=1;var t=R8(),e=D8(),r=wse();return Kw=t?function(a){return t(a)}:e?function(a){if(!a||typeof a!="object"&&typeof a!="function")throw new TypeError("getProto: not an object");return e(a)}:r?function(a){return r(a)}:null,Kw}var Xw,P4;function jse(){if(P4)return Xw;P4=1;var t=Function.prototype.call,e=Object.prototype.hasOwnProperty,r=Gm();return Xw=r.call(t,e),Xw}var Zw,O4;function h2(){if(O4)return Zw;O4=1;var t,e=E8(),r=nse(),n=ase(),a=ise(),i=ose(),o=T8(),c=oy(),d=lse(),h=cse(),m=dse(),f=use(),g=hse(),y=fse(),v=mse(),w=gse(),j=Function,b=function(me){try{return j('"use strict"; return ('+me+").constructor;")()}catch{}},N=Wm(),k=ly(),S=function(){throw new c},C=N?(function(){try{return arguments.callee,S}catch{try{return N(arguments,"callee").get}catch{return S}}})():S,B=yse()(),E=P8(),z=D8(),T=R8(),W=d2(),U=c2(),L={},Z=typeof Uint8Array>"u"||!E?t:E(Uint8Array),O={__proto__:null,"%AggregateError%":typeof AggregateError>"u"?t:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?t:ArrayBuffer,"%ArrayIteratorPrototype%":B&&E?E([][Symbol.iterator]()):t,"%AsyncFromSyncIteratorPrototype%":t,"%AsyncFunction%":L,"%AsyncGenerator%":L,"%AsyncGeneratorFunction%":L,"%AsyncIteratorPrototype%":L,"%Atomics%":typeof Atomics>"u"?t:Atomics,"%BigInt%":typeof BigInt>"u"?t:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?t:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?t:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?t:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":r,"%eval%":eval,"%EvalError%":n,"%Float16Array%":typeof Float16Array>"u"?t:Float16Array,"%Float32Array%":typeof Float32Array>"u"?t:Float32Array,"%Float64Array%":typeof Float64Array>"u"?t:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?t:FinalizationRegistry,"%Function%":j,"%GeneratorFunction%":L,"%Int8Array%":typeof Int8Array>"u"?t:Int8Array,"%Int16Array%":typeof Int16Array>"u"?t:Int16Array,"%Int32Array%":typeof Int32Array>"u"?t:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":B&&E?E(E([][Symbol.iterator]())):t,"%JSON%":typeof JSON=="object"?JSON:t,"%Map%":typeof Map>"u"?t:Map,"%MapIteratorPrototype%":typeof Map>"u"||!B||!E?t:E(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":e,"%Object.getOwnPropertyDescriptor%":N,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?t:Promise,"%Proxy%":typeof Proxy>"u"?t:Proxy,"%RangeError%":a,"%ReferenceError%":i,"%Reflect%":typeof Reflect>"u"?t:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?t:Set,"%SetIteratorPrototype%":typeof Set>"u"||!B||!E?t:E(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?t:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":B&&E?E(""[Symbol.iterator]()):t,"%Symbol%":B?Symbol:t,"%SyntaxError%":o,"%ThrowTypeError%":C,"%TypedArray%":Z,"%TypeError%":c,"%Uint8Array%":typeof Uint8Array>"u"?t:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?t:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?t:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?t:Uint32Array,"%URIError%":d,"%WeakMap%":typeof WeakMap>"u"?t:WeakMap,"%WeakRef%":typeof WeakRef>"u"?t:WeakRef,"%WeakSet%":typeof WeakSet>"u"?t:WeakSet,"%Function.prototype.call%":U,"%Function.prototype.apply%":W,"%Object.defineProperty%":k,"%Object.getPrototypeOf%":z,"%Math.abs%":h,"%Math.floor%":m,"%Math.max%":f,"%Math.min%":g,"%Math.pow%":y,"%Math.round%":v,"%Math.sign%":w,"%Reflect.getPrototypeOf%":T};if(E)try{null.error}catch(me){var se=E(E(me));O["%Error.prototype%"]=se}var K=function me(Q){var te;if(Q==="%AsyncFunction%")te=b("async function () {}");else if(Q==="%GeneratorFunction%")te=b("function* () {}");else if(Q==="%AsyncGeneratorFunction%")te=b("async function* () {}");else if(Q==="%AsyncGenerator%"){var ee=me("%AsyncGeneratorFunction%");ee&&(te=ee.prototype)}else if(Q==="%AsyncIteratorPrototype%"){var Ce=me("%AsyncGenerator%");Ce&&E&&(te=E(Ce.prototype))}return O[Q]=te,te},M={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},X=Gm(),$=jse(),oe=X.call(U,Array.prototype.concat),q=X.call(W,Array.prototype.splice),Y=X.call(U,String.prototype.replace),ce=X.call(U,String.prototype.slice),le=X.call(U,RegExp.prototype.exec),be=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,ge=/\\(\\)?/g,V=function(Q){var te=ce(Q,0,1),ee=ce(Q,-1);if(te==="%"&&ee!=="%")throw new o("invalid intrinsic syntax, expected closing `%`");if(ee==="%"&&te!=="%")throw new o("invalid intrinsic syntax, expected opening `%`");var Ce=[];return Y(Q,be,function(F,Ee,J,R){Ce[Ce.length]=J?Y(R,ge,"$1"):Ee||F}),Ce},H=function(Q,te){var ee=Q,Ce;if($(M,ee)&&(Ce=M[ee],ee="%"+Ce[0]+"%"),$(O,ee)){var F=O[ee];if(F===L&&(F=K(ee)),typeof F>"u"&&!te)throw new c("intrinsic "+Q+" exists, but is not available. Please file an issue!");return{alias:Ce,name:ee,value:F}}throw new o("intrinsic "+Q+" does not exist!")};return Zw=function(Q,te){if(typeof Q!="string"||Q.length===0)throw new c("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof te!="boolean")throw new c('"allowMissing" argument must be a boolean');if(le(/^%?[^%]*%?$/,Q)===null)throw new o("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var ee=V(Q),Ce=ee.length>0?ee[0]:"",F=H("%"+Ce+"%",te),Ee=F.name,J=F.value,R=!1,P=F.alias;P&&(Ce=P[0],q(ee,oe([0,1],P)));for(var G=1,we=!0;G<ee.length;G+=1){var de=ee[G],he=ce(de,0,1),xe=ce(de,-1);if((he==='"'||he==="'"||he==="`"||xe==='"'||xe==="'"||xe==="`")&&he!==xe)throw new o("property names with quotes must have matching quotes");if((de==="constructor"||!we)&&(R=!0),Ce+="."+de,Ee="%"+Ce+"%",$(O,Ee))J=O[Ee];else if(J!=null){if(!(de in J)){if(!te)throw new c("base intrinsic for "+Q+" exists, but the property is not available.");return}if(N&&G+1>=ee.length){var Me=N(J,de);we=!!Me,we&&"get"in Me&&!("originalValue"in Me.get)?J=Me.get:J=J[de]}else we=$(J,de),J=J[de];we&&!R&&(O[Ee]=J)}}return J},Zw}var Qw={exports:{}},Jw,L4;function _se(){if(L4)return Jw;L4=1;var t=ly(),e=T8(),r=oy(),n=Wm();return Jw=function(i,o,c){if(!i||typeof i!="object"&&typeof i!="function")throw new r("`obj` must be an object or a function`");if(typeof o!="string"&&typeof o!="symbol")throw new r("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new r("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new r("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new r("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new r("`loose`, if provided, must be a boolean");var d=arguments.length>3?arguments[3]:null,h=arguments.length>4?arguments[4]:null,m=arguments.length>5?arguments[5]:null,f=arguments.length>6?arguments[6]:!1,g=!!n&&n(i,o);if(t)t(i,o,{configurable:m===null&&g?g.configurable:!m,enumerable:d===null&&g?g.enumerable:!d,value:c,writable:h===null&&g?g.writable:!h});else if(f||!d&&!h&&!m)i[o]=c;else throw new e("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.")},Jw}var ej,F4;function Nse(){if(F4)return ej;F4=1;var t=ly(),e=function(){return!!t};return e.hasArrayLengthDefineBug=function(){if(!t)return null;try{return t([],"length",{value:1}).length!==1}catch{return!0}},ej=e,ej}var tj,B4;function Sse(){if(B4)return tj;B4=1;var t=h2(),e=_se(),r=Nse()(),n=Wm(),a=oy(),i=t("%Math.floor%");return tj=function(c,d){if(typeof c!="function")throw new a("`fn` is not a function");if(typeof d!="number"||d<0||d>4294967295||i(d)!==d)throw new a("`length` must be a positive 32-bit integer");var h=arguments.length>2&&!!arguments[2],m=!0,f=!0;if("length"in c&&n){var g=n(c,"length");g&&!g.configurable&&(m=!1),g&&!g.writable&&(f=!1)}return(m||f||!h)&&(r?e(c,"length",d,!0,!0):e(c,"length",d)),c},tj}var sj,I4;function Cse(){if(I4)return sj;I4=1;var t=Gm(),e=d2(),r=M8();return sj=function(){return r(t,e,arguments)},sj}var z4;function O8(){return z4||(z4=1,(function(t){var e=Sse(),r=ly(),n=u2(),a=Cse();t.exports=function(o){var c=n(arguments),d=o.length-(arguments.length-1);return e(c,1+(d>0?d:0),!0)},r?r(t.exports,"apply",{value:a}):t.exports.apply=a})(Qw)),Qw.exports}var rj,U4;function kse(){if(U4)return rj;U4=1;var t=h2(),e=O8(),r=e(t("String.prototype.indexOf"));return rj=function(a,i){var o=t(a,!!i);return typeof o=="function"&&r(a,".prototype.")>-1?e(o):o},rj}var nj,$4;function Ase(){if($4)return nj;$4=1;var t=l2()(),e=kse(),r=e("Object.prototype.toString"),n=function(c){return t&&c&&typeof c=="object"&&Symbol.toStringTag in c?!1:r(c)==="[object Arguments]"},a=function(c){return n(c)?!0:c!==null&&typeof c=="object"&&typeof c.length=="number"&&c.length>=0&&r(c)!=="[object Array]"&&r(c.callee)==="[object Function]"},i=(function(){return n(arguments)})();return n.isLegacyArguments=a,nj=i?n:a,nj}var aj,V4;function Ese(){if(V4)return aj;V4=1;var t=Object.prototype.toString,e=Function.prototype.toString,r=/^\s*(?:function)?\*/,n=l2()(),a=Object.getPrototypeOf,i=function(){if(!n)return!1;try{return Function("return function*() {}")()}catch{}},o;return aj=function(d){if(typeof d!="function")return!1;if(r.test(e.call(d)))return!0;if(!n){var h=t.call(d);return h==="[object GeneratorFunction]"}if(!a)return!1;if(typeof o>"u"){var m=i();o=m?a(m):!1}return a(d)===o},aj}var ij,H4;function Tse(){if(H4)return ij;H4=1;var t=Function.prototype.toString,e=typeof Reflect=="object"&&Reflect!==null&&Reflect.apply,r,n;if(typeof e=="function"&&typeof Object.defineProperty=="function")try{r=Object.defineProperty({},"length",{get:function(){throw n}}),n={},e(function(){throw 42},null,r)}catch(N){N!==n&&(e=null)}else e=null;var a=/^\s*class\b/,i=function(k){try{var S=t.call(k);return a.test(S)}catch{return!1}},o=function(k){try{return i(k)?!1:(t.call(k),!0)}catch{return!1}},c=Object.prototype.toString,d="[object Object]",h="[object Function]",m="[object GeneratorFunction]",f="[object HTMLAllCollection]",g="[object HTML document.all class]",y="[object HTMLCollection]",v=typeof Symbol=="function"&&!!Symbol.toStringTag,w=!(0 in[,]),j=function(){return!1};if(typeof document=="object"){var b=document.all;c.call(b)===c.call(document.all)&&(j=function(k){if((w||!k)&&(typeof k>"u"||typeof k=="object"))try{var S=c.call(k);return(S===f||S===g||S===y||S===d)&&k("")==null}catch{}return!1})}return ij=e?function(k){if(j(k))return!0;if(!k||typeof k!="function"&&typeof k!="object")return!1;try{e(k,null,r)}catch(S){if(S!==n)return!1}return!i(k)&&o(k)}:function(k){if(j(k))return!0;if(!k||typeof k!="function"&&typeof k!="object")return!1;if(v)return o(k);if(i(k))return!1;var S=c.call(k);return S!==h&&S!==m&&!/^\[object HTML/.test(S)?!1:o(k)},ij}var oj,q4;function Rse(){if(q4)return oj;q4=1;var t=Tse(),e=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n=function(d,h,m){for(var f=0,g=d.length;f<g;f++)r.call(d,f)&&(m==null?h(d[f],f,d):h.call(m,d[f],f,d))},a=function(d,h,m){for(var f=0,g=d.length;f<g;f++)m==null?h(d.charAt(f),f,d):h.call(m,d.charAt(f),f,d)},i=function(d,h,m){for(var f in d)r.call(d,f)&&(m==null?h(d[f],f,d):h.call(m,d[f],f,d))};function o(c){return e.call(c)==="[object Array]"}return oj=function(d,h,m){if(!t(h))throw new TypeError("iterator must be a function");var f;arguments.length>=3&&(f=m),o(d)?n(d,h,f):typeof d=="string"?a(d,h,f):i(d,h,f)},oj}var lj,W4;function Dse(){return W4||(W4=1,lj=["Float32Array","Float64Array","Int8Array","Int16Array","Int32Array","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","BigInt64Array","BigUint64Array"]),lj}var cj,G4;function Mse(){if(G4)return cj;G4=1;var t=Dse(),e=typeof globalThis>"u"?zi:globalThis;return cj=function(){for(var n=[],a=0;a<t.length;a++)typeof e[t[a]]=="function"&&(n[n.length]=t[a]);return n},cj}var dj,Y4;function Pse(){if(Y4)return dj;Y4=1;var t=h2(),e=u2(),r=e([t("%String.prototype.indexOf%")]);return dj=function(a,i){var o=t(a,!!i);return typeof o=="function"&&r(a,".prototype.")>-1?e([o]):o},dj}var uj,K4;function L8(){if(K4)return uj;K4=1;var t=Rse(),e=Mse(),r=O8(),n=Pse(),a=Wm(),i=P8(),o=n("Object.prototype.toString"),c=l2()(),d=typeof globalThis>"u"?zi:globalThis,h=e(),m=n("String.prototype.slice"),f=n("Array.prototype.indexOf",!0)||function(j,b){for(var N=0;N<j.length;N+=1)if(j[N]===b)return N;return-1},g={__proto__:null};c&&a&&i?t(h,function(w){var j=new d[w];if(Symbol.toStringTag in j&&i){var b=i(j),N=a(b,Symbol.toStringTag);if(!N&&b){var k=i(b);N=a(k,Symbol.toStringTag)}g["$"+w]=r(N.get)}}):t(h,function(w){var j=new d[w],b=j.slice||j.set;b&&(g["$"+w]=r(b))});var y=function(j){var b=!1;return t(g,function(N,k){if(!b)try{"$"+N(j)===k&&(b=m(k,1))}catch{}}),b},v=function(j){var b=!1;return t(g,function(N,k){if(!b)try{N(j),b=m(k,1)}catch{}}),b};return uj=function(j){if(!j||typeof j!="object")return!1;if(!c){var b=m(o(j),8,-1);return f(h,b)>-1?b:b!=="Object"?!1:v(j)}return a?y(j):null},uj}var hj,X4;function Ose(){if(X4)return hj;X4=1;var t=L8();return hj=function(r){return!!t(r)},hj}var Z4;function Lse(){return Z4||(Z4=1,(function(t){var e=Ase(),r=Ese(),n=L8(),a=Ose();function i(G){return G.call.bind(G)}var o=typeof BigInt<"u",c=typeof Symbol<"u",d=i(Object.prototype.toString),h=i(Number.prototype.valueOf),m=i(String.prototype.valueOf),f=i(Boolean.prototype.valueOf);if(o)var g=i(BigInt.prototype.valueOf);if(c)var y=i(Symbol.prototype.valueOf);function v(G,we){if(typeof G!="object")return!1;try{return we(G),!0}catch{return!1}}t.isArgumentsObject=e,t.isGeneratorFunction=r,t.isTypedArray=a;function w(G){return typeof Promise<"u"&&G instanceof Promise||G!==null&&typeof G=="object"&&typeof G.then=="function"&&typeof G.catch=="function"}t.isPromise=w;function j(G){return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?ArrayBuffer.isView(G):a(G)||ce(G)}t.isArrayBufferView=j;function b(G){return n(G)==="Uint8Array"}t.isUint8Array=b;function N(G){return n(G)==="Uint8ClampedArray"}t.isUint8ClampedArray=N;function k(G){return n(G)==="Uint16Array"}t.isUint16Array=k;function S(G){return n(G)==="Uint32Array"}t.isUint32Array=S;function C(G){return n(G)==="Int8Array"}t.isInt8Array=C;function B(G){return n(G)==="Int16Array"}t.isInt16Array=B;function E(G){return n(G)==="Int32Array"}t.isInt32Array=E;function z(G){return n(G)==="Float32Array"}t.isFloat32Array=z;function T(G){return n(G)==="Float64Array"}t.isFloat64Array=T;function W(G){return n(G)==="BigInt64Array"}t.isBigInt64Array=W;function U(G){return n(G)==="BigUint64Array"}t.isBigUint64Array=U;function L(G){return d(G)==="[object Map]"}L.working=typeof Map<"u"&&L(new Map);function Z(G){return typeof Map>"u"?!1:L.working?L(G):G instanceof Map}t.isMap=Z;function O(G){return d(G)==="[object Set]"}O.working=typeof Set<"u"&&O(new Set);function se(G){return typeof Set>"u"?!1:O.working?O(G):G instanceof Set}t.isSet=se;function K(G){return d(G)==="[object WeakMap]"}K.working=typeof WeakMap<"u"&&K(new WeakMap);function M(G){return typeof WeakMap>"u"?!1:K.working?K(G):G instanceof WeakMap}t.isWeakMap=M;function X(G){return d(G)==="[object WeakSet]"}X.working=typeof WeakSet<"u"&&X(new WeakSet);function $(G){return X(G)}t.isWeakSet=$;function oe(G){return d(G)==="[object ArrayBuffer]"}oe.working=typeof ArrayBuffer<"u"&&oe(new ArrayBuffer);function q(G){return typeof ArrayBuffer>"u"?!1:oe.working?oe(G):G instanceof ArrayBuffer}t.isArrayBuffer=q;function Y(G){return d(G)==="[object DataView]"}Y.working=typeof ArrayBuffer<"u"&&typeof DataView<"u"&&Y(new DataView(new ArrayBuffer(1),0,1));function ce(G){return typeof DataView>"u"?!1:Y.working?Y(G):G instanceof DataView}t.isDataView=ce;var le=typeof SharedArrayBuffer<"u"?SharedArrayBuffer:void 0;function be(G){return d(G)==="[object SharedArrayBuffer]"}function ge(G){return typeof le>"u"?!1:(typeof be.working>"u"&&(be.working=be(new le)),be.working?be(G):G instanceof le)}t.isSharedArrayBuffer=ge;function V(G){return d(G)==="[object AsyncFunction]"}t.isAsyncFunction=V;function H(G){return d(G)==="[object Map Iterator]"}t.isMapIterator=H;function me(G){return d(G)==="[object Set Iterator]"}t.isSetIterator=me;function Q(G){return d(G)==="[object Generator]"}t.isGeneratorObject=Q;function te(G){return d(G)==="[object WebAssembly.Module]"}t.isWebAssemblyCompiledModule=te;function ee(G){return v(G,h)}t.isNumberObject=ee;function Ce(G){return v(G,m)}t.isStringObject=Ce;function F(G){return v(G,f)}t.isBooleanObject=F;function Ee(G){return o&&v(G,g)}t.isBigIntObject=Ee;function J(G){return c&&v(G,y)}t.isSymbolObject=J;function R(G){return ee(G)||Ce(G)||F(G)||Ee(G)||J(G)}t.isBoxedPrimitive=R;function P(G){return typeof Uint8Array<"u"&&(q(G)||ge(G))}t.isAnyArrayBuffer=P,["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(G){Object.defineProperty(t,G,{enumerable:!1,value:function(){throw new Error(G+" is not supported in userland")}})})})(gw)),gw}var fj,Q4;function Fse(){return Q4||(Q4=1,fj=function(e){return e&&typeof e=="object"&&typeof e.copy=="function"&&typeof e.fill=="function"&&typeof e.readUInt8=="function"}),fj}var J4;function F8(){return J4||(J4=1,(function(t){var e=Object.getOwnPropertyDescriptors||function(ce){for(var le=Object.keys(ce),be={},ge=0;ge<le.length;ge++)be[le[ge]]=Object.getOwnPropertyDescriptor(ce,le[ge]);return be},r=/%[sdj%]/g;t.format=function(Y){if(!C(Y)){for(var ce=[],le=0;le<arguments.length;le++)ce.push(o(arguments[le]));return ce.join(" ")}for(var le=1,be=arguments,ge=be.length,V=String(Y).replace(r,function(me){if(me==="%%")return"%";if(le>=ge)return me;switch(me){case"%s":return String(be[le++]);case"%d":return Number(be[le++]);case"%j":try{return JSON.stringify(be[le++])}catch{return"[Circular]"}default:return me}}),H=be[le];le<ge;H=be[++le])N(H)||!T(H)?V+=" "+H:V+=" "+o(H);return V},t.deprecate=function(Y,ce){if(typeof ts<"u"&&ts.noDeprecation===!0)return Y;if(typeof ts>"u")return function(){return t.deprecate(Y,ce).apply(this,arguments)};var le=!1;function be(){if(!le){if(ts.throwDeprecation)throw new Error(ce);ts.traceDeprecation?console.trace(ce):console.error(ce),le=!0}return Y.apply(this,arguments)}return be};var n={},a=/^$/;if(ts.env.NODE_DEBUG){var i=ts.env.NODE_DEBUG;i=i.replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),a=new RegExp("^"+i+"$","i")}t.debuglog=function(Y){if(Y=Y.toUpperCase(),!n[Y])if(a.test(Y)){var ce=ts.pid;n[Y]=function(){var le=t.format.apply(t,arguments);console.error("%s %d: %s",Y,ce,le)}}else n[Y]=function(){};return n[Y]};function o(Y,ce){var le={seen:[],stylize:d};return arguments.length>=3&&(le.depth=arguments[2]),arguments.length>=4&&(le.colors=arguments[3]),b(ce)?le.showHidden=ce:ce&&t._extend(le,ce),E(le.showHidden)&&(le.showHidden=!1),E(le.depth)&&(le.depth=2),E(le.colors)&&(le.colors=!1),E(le.customInspect)&&(le.customInspect=!0),le.colors&&(le.stylize=c),m(le,Y,le.depth)}t.inspect=o,o.colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},o.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"};function c(Y,ce){var le=o.styles[ce];return le?"\x1B["+o.colors[le][0]+"m"+Y+"\x1B["+o.colors[le][1]+"m":Y}function d(Y,ce){return Y}function h(Y){var ce={};return Y.forEach(function(le,be){ce[le]=!0}),ce}function m(Y,ce,le){if(Y.customInspect&&ce&&L(ce.inspect)&&ce.inspect!==t.inspect&&!(ce.constructor&&ce.constructor.prototype===ce)){var be=ce.inspect(le,Y);return C(be)||(be=m(Y,be,le)),be}var ge=f(Y,ce);if(ge)return ge;var V=Object.keys(ce),H=h(V);if(Y.showHidden&&(V=Object.getOwnPropertyNames(ce)),U(ce)&&(V.indexOf("message")>=0||V.indexOf("description")>=0))return g(ce);if(V.length===0){if(L(ce)){var me=ce.name?": "+ce.name:"";return Y.stylize("[Function"+me+"]","special")}if(z(ce))return Y.stylize(RegExp.prototype.toString.call(ce),"regexp");if(W(ce))return Y.stylize(Date.prototype.toString.call(ce),"date");if(U(ce))return g(ce)}var Q="",te=!1,ee=["{","}"];if(j(ce)&&(te=!0,ee=["[","]"]),L(ce)){var Ce=ce.name?": "+ce.name:"";Q=" [Function"+Ce+"]"}if(z(ce)&&(Q=" "+RegExp.prototype.toString.call(ce)),W(ce)&&(Q=" "+Date.prototype.toUTCString.call(ce)),U(ce)&&(Q=" "+g(ce)),V.length===0&&(!te||ce.length==0))return ee[0]+Q+ee[1];if(le<0)return z(ce)?Y.stylize(RegExp.prototype.toString.call(ce),"regexp"):Y.stylize("[Object]","special");Y.seen.push(ce);var F;return te?F=y(Y,ce,le,H,V):F=V.map(function(Ee){return v(Y,ce,le,H,Ee,te)}),Y.seen.pop(),w(F,Q,ee)}function f(Y,ce){if(E(ce))return Y.stylize("undefined","undefined");if(C(ce)){var le="'"+JSON.stringify(ce).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return Y.stylize(le,"string")}if(S(ce))return Y.stylize(""+ce,"number");if(b(ce))return Y.stylize(""+ce,"boolean");if(N(ce))return Y.stylize("null","null")}function g(Y){return"["+Error.prototype.toString.call(Y)+"]"}function y(Y,ce,le,be,ge){for(var V=[],H=0,me=ce.length;H<me;++H)X(ce,String(H))?V.push(v(Y,ce,le,be,String(H),!0)):V.push("");return ge.forEach(function(Q){Q.match(/^\d+$/)||V.push(v(Y,ce,le,be,Q,!0))}),V}function v(Y,ce,le,be,ge,V){var H,me,Q;if(Q=Object.getOwnPropertyDescriptor(ce,ge)||{value:ce[ge]},Q.get?Q.set?me=Y.stylize("[Getter/Setter]","special"):me=Y.stylize("[Getter]","special"):Q.set&&(me=Y.stylize("[Setter]","special")),X(be,ge)||(H="["+ge+"]"),me||(Y.seen.indexOf(Q.value)<0?(N(le)?me=m(Y,Q.value,null):me=m(Y,Q.value,le-1),me.indexOf(`
`)>-1&&(V?me=me.split(`
`).map(function(te){return"  "+te}).join(`
`).slice(2):me=`
`+me.split(`
`).map(function(te){return"   "+te}).join(`
`))):me=Y.stylize("[Circular]","special")),E(H)){if(V&&ge.match(/^\d+$/))return me;H=JSON.stringify(""+ge),H.match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(H=H.slice(1,-1),H=Y.stylize(H,"name")):(H=H.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),H=Y.stylize(H,"string"))}return H+": "+me}function w(Y,ce,le){var be=Y.reduce(function(ge,V){return V.indexOf(`
`)>=0,ge+V.replace(/\u001b\[\d\d?m/g,"").length+1},0);return be>60?le[0]+(ce===""?"":ce+`
 `)+" "+Y.join(`,
  `)+" "+le[1]:le[0]+ce+" "+Y.join(", ")+" "+le[1]}t.types=Lse();function j(Y){return Array.isArray(Y)}t.isArray=j;function b(Y){return typeof Y=="boolean"}t.isBoolean=b;function N(Y){return Y===null}t.isNull=N;function k(Y){return Y==null}t.isNullOrUndefined=k;function S(Y){return typeof Y=="number"}t.isNumber=S;function C(Y){return typeof Y=="string"}t.isString=C;function B(Y){return typeof Y=="symbol"}t.isSymbol=B;function E(Y){return Y===void 0}t.isUndefined=E;function z(Y){return T(Y)&&O(Y)==="[object RegExp]"}t.isRegExp=z,t.types.isRegExp=z;function T(Y){return typeof Y=="object"&&Y!==null}t.isObject=T;function W(Y){return T(Y)&&O(Y)==="[object Date]"}t.isDate=W,t.types.isDate=W;function U(Y){return T(Y)&&(O(Y)==="[object Error]"||Y instanceof Error)}t.isError=U,t.types.isNativeError=U;function L(Y){return typeof Y=="function"}t.isFunction=L;function Z(Y){return Y===null||typeof Y=="boolean"||typeof Y=="number"||typeof Y=="string"||typeof Y=="symbol"||typeof Y>"u"}t.isPrimitive=Z,t.isBuffer=Fse();function O(Y){return Object.prototype.toString.call(Y)}function se(Y){return Y<10?"0"+Y.toString(10):Y.toString(10)}var K=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function M(){var Y=new Date,ce=[se(Y.getHours()),se(Y.getMinutes()),se(Y.getSeconds())].join(":");return[Y.getDate(),K[Y.getMonth()],ce].join(" ")}t.log=function(){console.log("%s - %s",M(),t.format.apply(t,arguments))},t.inherits=lc(),t._extend=function(Y,ce){if(!ce||!T(ce))return Y;for(var le=Object.keys(ce),be=le.length;be--;)Y[le[be]]=ce[le[be]];return Y};function X(Y,ce){return Object.prototype.hasOwnProperty.call(Y,ce)}var $=typeof Symbol<"u"?Symbol("util.promisify.custom"):void 0;t.promisify=function(ce){if(typeof ce!="function")throw new TypeError('The "original" argument must be of type Function');if($&&ce[$]){var le=ce[$];if(typeof le!="function")throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(le,$,{value:le,enumerable:!1,writable:!1,configurable:!0}),le}function le(){for(var be,ge,V=new Promise(function(Q,te){be=Q,ge=te}),H=[],me=0;me<arguments.length;me++)H.push(arguments[me]);H.push(function(Q,te){Q?ge(Q):be(te)});try{ce.apply(this,H)}catch(Q){ge(Q)}return V}return Object.setPrototypeOf(le,Object.getPrototypeOf(ce)),$&&Object.defineProperty(le,$,{value:le,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(le,e(ce))},t.promisify.custom=$;function oe(Y,ce){if(!Y){var le=new Error("Promise was rejected with a falsy value");le.reason=Y,Y=le}return ce(Y)}function q(Y){if(typeof Y!="function")throw new TypeError('The "original" argument must be of type Function');function ce(){for(var le=[],be=0;be<arguments.length;be++)le.push(arguments[be]);var ge=le.pop();if(typeof ge!="function")throw new TypeError("The last argument must be of type Function");var V=this,H=function(){return ge.apply(V,arguments)};Y.apply(this,le).then(function(me){ts.nextTick(H.bind(null,null,me))},function(me){ts.nextTick(oe.bind(null,me,H))})}return Object.setPrototypeOf(ce,Object.getPrototypeOf(Y)),Object.defineProperties(ce,e(Y)),ce}t.callbackify=q})(pw)),pw}var mj,e5;function Bse(){if(e5)return mj;e5=1;function t(g,y){var v=Object.keys(g);if(Object.getOwnPropertySymbols){var w=Object.getOwnPropertySymbols(g);y&&(w=w.filter(function(j){return Object.getOwnPropertyDescriptor(g,j).enumerable})),v.push.apply(v,w)}return v}function e(g){for(var y=1;y<arguments.length;y++){var v=arguments[y]!=null?arguments[y]:{};y%2?t(Object(v),!0).forEach(function(w){r(g,w,v[w])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(v)):t(Object(v)).forEach(function(w){Object.defineProperty(g,w,Object.getOwnPropertyDescriptor(v,w))})}return g}function r(g,y,v){return y in g?Object.defineProperty(g,y,{value:v,enumerable:!0,configurable:!0,writable:!0}):g[y]=v,g}function n(g,y){if(!(g instanceof y))throw new TypeError("Cannot call a class as a function")}function a(g,y){for(var v=0;v<y.length;v++){var w=y[v];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(g,w.key,w)}}function i(g,y,v){return y&&a(g.prototype,y),g}var o=iy(),c=o.Buffer,d=F8(),h=d.inspect,m=h&&h.custom||"inspect";function f(g,y,v){c.prototype.copy.call(g,y,v)}return mj=(function(){function g(){n(this,g),this.head=null,this.tail=null,this.length=0}return i(g,[{key:"push",value:function(v){var w={data:v,next:null};this.length>0?this.tail.next=w:this.head=w,this.tail=w,++this.length}},{key:"unshift",value:function(v){var w={data:v,next:this.head};this.length===0&&(this.tail=w),this.head=w,++this.length}},{key:"shift",value:function(){if(this.length!==0){var v=this.head.data;return this.length===1?this.head=this.tail=null:this.head=this.head.next,--this.length,v}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(v){if(this.length===0)return"";for(var w=this.head,j=""+w.data;w=w.next;)j+=v+w.data;return j}},{key:"concat",value:function(v){if(this.length===0)return c.alloc(0);for(var w=c.allocUnsafe(v>>>0),j=this.head,b=0;j;)f(j.data,w,b),b+=j.data.length,j=j.next;return w}},{key:"consume",value:function(v,w){var j;return v<this.head.data.length?(j=this.head.data.slice(0,v),this.head.data=this.head.data.slice(v)):v===this.head.data.length?j=this.shift():j=w?this._getString(v):this._getBuffer(v),j}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(v){var w=this.head,j=1,b=w.data;for(v-=b.length;w=w.next;){var N=w.data,k=v>N.length?N.length:v;if(k===N.length?b+=N:b+=N.slice(0,v),v-=k,v===0){k===N.length?(++j,w.next?this.head=w.next:this.head=this.tail=null):(this.head=w,w.data=N.slice(k));break}++j}return this.length-=j,b}},{key:"_getBuffer",value:function(v){var w=c.allocUnsafe(v),j=this.head,b=1;for(j.data.copy(w),v-=j.data.length;j=j.next;){var N=j.data,k=v>N.length?N.length:v;if(N.copy(w,w.length-v,0,k),v-=k,v===0){k===N.length?(++b,j.next?this.head=j.next:this.head=this.tail=null):(this.head=j,j.data=N.slice(k));break}++b}return this.length-=b,w}},{key:m,value:function(v,w){return h(this,e({},w,{depth:0,customInspect:!1}))}}]),g})(),mj}var pj,t5;function B8(){if(t5)return pj;t5=1;function t(o,c){var d=this,h=this._readableState&&this._readableState.destroyed,m=this._writableState&&this._writableState.destroyed;return h||m?(c?c(o):o&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,ts.nextTick(a,this,o)):ts.nextTick(a,this,o)),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(o||null,function(f){!c&&f?d._writableState?d._writableState.errorEmitted?ts.nextTick(r,d):(d._writableState.errorEmitted=!0,ts.nextTick(e,d,f)):ts.nextTick(e,d,f):c?(ts.nextTick(r,d),c(f)):ts.nextTick(r,d)}),this)}function e(o,c){a(o,c),r(o)}function r(o){o._writableState&&!o._writableState.emitClose||o._readableState&&!o._readableState.emitClose||o.emit("close")}function n(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function a(o,c){o.emit("error",c)}function i(o,c){var d=o._readableState,h=o._writableState;d&&d.autoDestroy||h&&h.autoDestroy?o.destroy(c):o.emit("error",c)}return pj={destroy:t,undestroy:n,errorOrDestroy:i},pj}var gj={},s5;function wh(){if(s5)return gj;s5=1;function t(c,d){c.prototype=Object.create(d.prototype),c.prototype.constructor=c,c.__proto__=d}var e={};function r(c,d,h){h||(h=Error);function m(g,y,v){return typeof d=="string"?d:d(g,y,v)}var f=(function(g){t(y,g);function y(v,w,j){return g.call(this,m(v,w,j))||this}return y})(h);f.prototype.name=h.name,f.prototype.code=c,e[c]=f}function n(c,d){if(Array.isArray(c)){var h=c.length;return c=c.map(function(m){return String(m)}),h>2?"one of ".concat(d," ").concat(c.slice(0,h-1).join(", "),", or ")+c[h-1]:h===2?"one of ".concat(d," ").concat(c[0]," or ").concat(c[1]):"of ".concat(d," ").concat(c[0])}else return"of ".concat(d," ").concat(String(c))}function a(c,d,h){return c.substr(0,d.length)===d}function i(c,d,h){return(h===void 0||h>c.length)&&(h=c.length),c.substring(h-d.length,h)===d}function o(c,d,h){return typeof h!="number"&&(h=0),h+d.length>c.length?!1:c.indexOf(d,h)!==-1}return r("ERR_INVALID_OPT_VALUE",function(c,d){return'The value "'+d+'" is invalid for option "'+c+'"'},TypeError),r("ERR_INVALID_ARG_TYPE",function(c,d,h){var m;typeof d=="string"&&a(d,"not ")?(m="must not be",d=d.replace(/^not /,"")):m="must be";var f;if(i(c," argument"))f="The ".concat(c," ").concat(m," ").concat(n(d,"type"));else{var g=o(c,".")?"property":"argument";f='The "'.concat(c,'" ').concat(g," ").concat(m," ").concat(n(d,"type"))}return f+=". Received type ".concat(typeof h),f},TypeError),r("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),r("ERR_METHOD_NOT_IMPLEMENTED",function(c){return"The "+c+" method is not implemented"}),r("ERR_STREAM_PREMATURE_CLOSE","Premature close"),r("ERR_STREAM_DESTROYED",function(c){return"Cannot call "+c+" after a stream was destroyed"}),r("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),r("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),r("ERR_STREAM_WRITE_AFTER_END","write after end"),r("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),r("ERR_UNKNOWN_ENCODING",function(c){return"Unknown encoding: "+c},TypeError),r("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),gj.codes=e,gj}var xj,r5;function I8(){if(r5)return xj;r5=1;var t=wh().codes.ERR_INVALID_OPT_VALUE;function e(n,a,i){return n.highWaterMark!=null?n.highWaterMark:a?n[i]:null}function r(n,a,i,o){var c=e(a,o,i);if(c!=null){if(!(isFinite(c)&&Math.floor(c)===c)||c<0){var d=o?i:"highWaterMark";throw new t(d,c)}return Math.floor(c)}return n.objectMode?16:16*1024}return xj={getHighWaterMark:r},xj}var yj,n5;function Ise(){if(n5)return yj;n5=1,yj=t;function t(r,n){if(e("noDeprecation"))return r;var a=!1;function i(){if(!a){if(e("throwDeprecation"))throw new Error(n);e("traceDeprecation")?console.trace(n):console.warn(n),a=!0}return r.apply(this,arguments)}return i}function e(r){try{if(!zi.localStorage)return!1}catch{return!1}var n=zi.localStorage[r];return n==null?!1:String(n).toLowerCase()==="true"}return yj}var bj,a5;function z8(){if(a5)return bj;a5=1,bj=z;function t(ge){var V=this;this.next=null,this.entry=null,this.finish=function(){be(V,ge)}}var e;z.WritableState=B;var r={deprecate:Ise()},n=k8(),a=iy().Buffer,i=zi.Uint8Array||function(){};function o(ge){return a.from(ge)}function c(ge){return a.isBuffer(ge)||ge instanceof i}var d=B8(),h=I8(),m=h.getHighWaterMark,f=wh().codes,g=f.ERR_INVALID_ARG_TYPE,y=f.ERR_METHOD_NOT_IMPLEMENTED,v=f.ERR_MULTIPLE_CALLBACK,w=f.ERR_STREAM_CANNOT_PIPE,j=f.ERR_STREAM_DESTROYED,b=f.ERR_STREAM_NULL_VALUES,N=f.ERR_STREAM_WRITE_AFTER_END,k=f.ERR_UNKNOWN_ENCODING,S=d.errorOrDestroy;lc()(z,n);function C(){}function B(ge,V,H){e=e||Xu(),ge=ge||{},typeof H!="boolean"&&(H=V instanceof e),this.objectMode=!!ge.objectMode,H&&(this.objectMode=this.objectMode||!!ge.writableObjectMode),this.highWaterMark=m(this,ge,"writableHighWaterMark",H),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var me=ge.decodeStrings===!1;this.decodeStrings=!me,this.defaultEncoding=ge.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(Q){K(V,Q)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=ge.emitClose!==!1,this.autoDestroy=!!ge.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new t(this)}B.prototype.getBuffer=function(){for(var V=this.bufferedRequest,H=[];V;)H.push(V),V=V.next;return H},(function(){try{Object.defineProperty(B.prototype,"buffer",{get:r.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch{}})();var E;typeof Symbol=="function"&&Symbol.hasInstance&&typeof Function.prototype[Symbol.hasInstance]=="function"?(E=Function.prototype[Symbol.hasInstance],Object.defineProperty(z,Symbol.hasInstance,{value:function(V){return E.call(this,V)?!0:this!==z?!1:V&&V._writableState instanceof B}})):E=function(V){return V instanceof this};function z(ge){e=e||Xu();var V=this instanceof e;if(!V&&!E.call(z,this))return new z(ge);this._writableState=new B(ge,this,V),this.writable=!0,ge&&(typeof ge.write=="function"&&(this._write=ge.write),typeof ge.writev=="function"&&(this._writev=ge.writev),typeof ge.destroy=="function"&&(this._destroy=ge.destroy),typeof ge.final=="function"&&(this._final=ge.final)),n.call(this)}z.prototype.pipe=function(){S(this,new w)};function T(ge,V){var H=new N;S(ge,H),ts.nextTick(V,H)}function W(ge,V,H,me){var Q;return H===null?Q=new b:typeof H!="string"&&!V.objectMode&&(Q=new g("chunk",["string","Buffer"],H)),Q?(S(ge,Q),ts.nextTick(me,Q),!1):!0}z.prototype.write=function(ge,V,H){var me=this._writableState,Q=!1,te=!me.objectMode&&c(ge);return te&&!a.isBuffer(ge)&&(ge=o(ge)),typeof V=="function"&&(H=V,V=null),te?V="buffer":V||(V=me.defaultEncoding),typeof H!="function"&&(H=C),me.ending?T(this,H):(te||W(this,me,ge,H))&&(me.pendingcb++,Q=L(this,me,te,ge,V,H)),Q},z.prototype.cork=function(){this._writableState.corked++},z.prototype.uncork=function(){var ge=this._writableState;ge.corked&&(ge.corked--,!ge.writing&&!ge.corked&&!ge.bufferProcessing&&ge.bufferedRequest&&$(this,ge))},z.prototype.setDefaultEncoding=function(V){if(typeof V=="string"&&(V=V.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((V+"").toLowerCase())>-1))throw new k(V);return this._writableState.defaultEncoding=V,this},Object.defineProperty(z.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}});function U(ge,V,H){return!ge.objectMode&&ge.decodeStrings!==!1&&typeof V=="string"&&(V=a.from(V,H)),V}Object.defineProperty(z.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}});function L(ge,V,H,me,Q,te){if(!H){var ee=U(V,me,Q);me!==ee&&(H=!0,Q="buffer",me=ee)}var Ce=V.objectMode?1:me.length;V.length+=Ce;var F=V.length<V.highWaterMark;if(F||(V.needDrain=!0),V.writing||V.corked){var Ee=V.lastBufferedRequest;V.lastBufferedRequest={chunk:me,encoding:Q,isBuf:H,callback:te,next:null},Ee?Ee.next=V.lastBufferedRequest:V.bufferedRequest=V.lastBufferedRequest,V.bufferedRequestCount+=1}else Z(ge,V,!1,Ce,me,Q,te);return F}function Z(ge,V,H,me,Q,te,ee){V.writelen=me,V.writecb=ee,V.writing=!0,V.sync=!0,V.destroyed?V.onwrite(new j("write")):H?ge._writev(Q,V.onwrite):ge._write(Q,te,V.onwrite),V.sync=!1}function O(ge,V,H,me,Q){--V.pendingcb,H?(ts.nextTick(Q,me),ts.nextTick(ce,ge,V),ge._writableState.errorEmitted=!0,S(ge,me)):(Q(me),ge._writableState.errorEmitted=!0,S(ge,me),ce(ge,V))}function se(ge){ge.writing=!1,ge.writecb=null,ge.length-=ge.writelen,ge.writelen=0}function K(ge,V){var H=ge._writableState,me=H.sync,Q=H.writecb;if(typeof Q!="function")throw new v;if(se(H),V)O(ge,H,me,V,Q);else{var te=oe(H)||ge.destroyed;!te&&!H.corked&&!H.bufferProcessing&&H.bufferedRequest&&$(ge,H),me?ts.nextTick(M,ge,H,te,Q):M(ge,H,te,Q)}}function M(ge,V,H,me){H||X(ge,V),V.pendingcb--,me(),ce(ge,V)}function X(ge,V){V.length===0&&V.needDrain&&(V.needDrain=!1,ge.emit("drain"))}function $(ge,V){V.bufferProcessing=!0;var H=V.bufferedRequest;if(ge._writev&&H&&H.next){var me=V.bufferedRequestCount,Q=new Array(me),te=V.corkedRequestsFree;te.entry=H;for(var ee=0,Ce=!0;H;)Q[ee]=H,H.isBuf||(Ce=!1),H=H.next,ee+=1;Q.allBuffers=Ce,Z(ge,V,!0,V.length,Q,"",te.finish),V.pendingcb++,V.lastBufferedRequest=null,te.next?(V.corkedRequestsFree=te.next,te.next=null):V.corkedRequestsFree=new t(V),V.bufferedRequestCount=0}else{for(;H;){var F=H.chunk,Ee=H.encoding,J=H.callback,R=V.objectMode?1:F.length;if(Z(ge,V,!1,R,F,Ee,J),H=H.next,V.bufferedRequestCount--,V.writing)break}H===null&&(V.lastBufferedRequest=null)}V.bufferedRequest=H,V.bufferProcessing=!1}z.prototype._write=function(ge,V,H){H(new y("_write()"))},z.prototype._writev=null,z.prototype.end=function(ge,V,H){var me=this._writableState;return typeof ge=="function"?(H=ge,ge=null,V=null):typeof V=="function"&&(H=V,V=null),ge!=null&&this.write(ge,V),me.corked&&(me.corked=1,this.uncork()),me.ending||le(this,me,H),this},Object.defineProperty(z.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function oe(ge){return ge.ending&&ge.length===0&&ge.bufferedRequest===null&&!ge.finished&&!ge.writing}function q(ge,V){ge._final(function(H){V.pendingcb--,H&&S(ge,H),V.prefinished=!0,ge.emit("prefinish"),ce(ge,V)})}function Y(ge,V){!V.prefinished&&!V.finalCalled&&(typeof ge._final=="function"&&!V.destroyed?(V.pendingcb++,V.finalCalled=!0,ts.nextTick(q,ge,V)):(V.prefinished=!0,ge.emit("prefinish")))}function ce(ge,V){var H=oe(V);if(H&&(Y(ge,V),V.pendingcb===0&&(V.finished=!0,ge.emit("finish"),V.autoDestroy))){var me=ge._readableState;(!me||me.autoDestroy&&me.endEmitted)&&ge.destroy()}return H}function le(ge,V,H){V.ending=!0,ce(ge,V),H&&(V.finished?ts.nextTick(H):ge.once("finish",H)),V.ended=!0,ge.writable=!1}function be(ge,V,H){var me=ge.entry;for(ge.entry=null;me;){var Q=me.callback;V.pendingcb--,Q(H),me=me.next}V.corkedRequestsFree.next=ge}return Object.defineProperty(z.prototype,"destroyed",{enumerable:!1,get:function(){return this._writableState===void 0?!1:this._writableState.destroyed},set:function(V){this._writableState&&(this._writableState.destroyed=V)}}),z.prototype.destroy=d.destroy,z.prototype._undestroy=d.undestroy,z.prototype._destroy=function(ge,V){V(ge)},bj}var vj,i5;function Xu(){if(i5)return vj;i5=1;var t=Object.keys||function(h){var m=[];for(var f in h)m.push(f);return m};vj=o;var e=U8(),r=z8();lc()(o,e);for(var n=t(r.prototype),a=0;a<n.length;a++){var i=n[a];o.prototype[i]||(o.prototype[i]=r.prototype[i])}function o(h){if(!(this instanceof o))return new o(h);e.call(this,h),r.call(this,h),this.allowHalfOpen=!0,h&&(h.readable===!1&&(this.readable=!1),h.writable===!1&&(this.writable=!1),h.allowHalfOpen===!1&&(this.allowHalfOpen=!1,this.once("end",c)))}Object.defineProperty(o.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(o.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(o.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}});function c(){this._writableState.ended||ts.nextTick(d,this)}function d(h){h.end()}return Object.defineProperty(o.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0||this._writableState===void 0?!1:this._readableState.destroyed&&this._writableState.destroyed},set:function(m){this._readableState===void 0||this._writableState===void 0||(this._readableState.destroyed=m,this._writableState.destroyed=m)}}),vj}var wj={},Bg={exports:{}},o5;function zse(){return o5||(o5=1,(function(t,e){var r=iy(),n=r.Buffer;function a(o,c){for(var d in o)c[d]=o[d]}n.from&&n.alloc&&n.allocUnsafe&&n.allocUnsafeSlow?t.exports=r:(a(r,e),e.Buffer=i);function i(o,c,d){return n(o,c,d)}a(n,i),i.from=function(o,c,d){if(typeof o=="number")throw new TypeError("Argument must not be a number");return n(o,c,d)},i.alloc=function(o,c,d){if(typeof o!="number")throw new TypeError("Argument must be a number");var h=n(o);return c!==void 0?typeof d=="string"?h.fill(c,d):h.fill(c):h.fill(0),h},i.allocUnsafe=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return n(o)},i.allocUnsafeSlow=function(o){if(typeof o!="number")throw new TypeError("Argument must be a number");return r.SlowBuffer(o)}})(Bg,Bg.exports)),Bg.exports}var l5;function k_(){if(l5)return wj;l5=1;var t=zse().Buffer,e=t.isEncoding||function(b){switch(b=""+b,b&&b.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function r(b){if(!b)return"utf8";for(var N;;)switch(b){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return b;default:if(N)return;b=(""+b).toLowerCase(),N=!0}}function n(b){var N=r(b);if(typeof N!="string"&&(t.isEncoding===e||!e(b)))throw new Error("Unknown encoding: "+b);return N||b}wj.StringDecoder=a;function a(b){this.encoding=n(b);var N;switch(this.encoding){case"utf16le":this.text=f,this.end=g,N=4;break;case"utf8":this.fillLast=d,N=4;break;case"base64":this.text=y,this.end=v,N=3;break;default:this.write=w,this.end=j;return}this.lastNeed=0,this.lastTotal=0,this.lastChar=t.allocUnsafe(N)}a.prototype.write=function(b){if(b.length===0)return"";var N,k;if(this.lastNeed){if(N=this.fillLast(b),N===void 0)return"";k=this.lastNeed,this.lastNeed=0}else k=0;return k<b.length?N?N+this.text(b,k):this.text(b,k):N||""},a.prototype.end=m,a.prototype.text=h,a.prototype.fillLast=function(b){if(this.lastNeed<=b.length)return b.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);b.copy(this.lastChar,this.lastTotal-this.lastNeed,0,b.length),this.lastNeed-=b.length};function i(b){return b<=127?0:b>>5===6?2:b>>4===14?3:b>>3===30?4:b>>6===2?-1:-2}function o(b,N,k){var S=N.length-1;if(S<k)return 0;var C=i(N[S]);return C>=0?(C>0&&(b.lastNeed=C-1),C):--S<k||C===-2?0:(C=i(N[S]),C>=0?(C>0&&(b.lastNeed=C-2),C):--S<k||C===-2?0:(C=i(N[S]),C>=0?(C>0&&(C===2?C=0:b.lastNeed=C-3),C):0))}function c(b,N,k){if((N[0]&192)!==128)return b.lastNeed=0,"";if(b.lastNeed>1&&N.length>1){if((N[1]&192)!==128)return b.lastNeed=1,"";if(b.lastNeed>2&&N.length>2&&(N[2]&192)!==128)return b.lastNeed=2,""}}function d(b){var N=this.lastTotal-this.lastNeed,k=c(this,b);if(k!==void 0)return k;if(this.lastNeed<=b.length)return b.copy(this.lastChar,N,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);b.copy(this.lastChar,N,0,b.length),this.lastNeed-=b.length}function h(b,N){var k=o(this,b,N);if(!this.lastNeed)return b.toString("utf8",N);this.lastTotal=k;var S=b.length-(k-this.lastNeed);return b.copy(this.lastChar,0,S),b.toString("utf8",N,S)}function m(b){var N=b&&b.length?this.write(b):"";return this.lastNeed?N+"":N}function f(b,N){if((b.length-N)%2===0){var k=b.toString("utf16le",N);if(k){var S=k.charCodeAt(k.length-1);if(S>=55296&&S<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=b[b.length-2],this.lastChar[1]=b[b.length-1],k.slice(0,-1)}return k}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=b[b.length-1],b.toString("utf16le",N,b.length-1)}function g(b){var N=b&&b.length?this.write(b):"";if(this.lastNeed){var k=this.lastTotal-this.lastNeed;return N+this.lastChar.toString("utf16le",0,k)}return N}function y(b,N){var k=(b.length-N)%3;return k===0?b.toString("base64",N):(this.lastNeed=3-k,this.lastTotal=3,k===1?this.lastChar[0]=b[b.length-1]:(this.lastChar[0]=b[b.length-2],this.lastChar[1]=b[b.length-1]),b.toString("base64",N,b.length-k))}function v(b){var N=b&&b.length?this.write(b):"";return this.lastNeed?N+this.lastChar.toString("base64",0,3-this.lastNeed):N}function w(b){return b.toString(this.encoding)}function j(b){return b&&b.length?this.write(b):""}return wj}var jj,c5;function f2(){if(c5)return jj;c5=1;var t=wh().codes.ERR_STREAM_PREMATURE_CLOSE;function e(i){var o=!1;return function(){if(!o){o=!0;for(var c=arguments.length,d=new Array(c),h=0;h<c;h++)d[h]=arguments[h];i.apply(this,d)}}}function r(){}function n(i){return i.setHeader&&typeof i.abort=="function"}function a(i,o,c){if(typeof o=="function")return a(i,null,o);o||(o={}),c=e(c||r);var d=o.readable||o.readable!==!1&&i.readable,h=o.writable||o.writable!==!1&&i.writable,m=function(){i.writable||g()},f=i._writableState&&i._writableState.finished,g=function(){h=!1,f=!0,d||c.call(i)},y=i._readableState&&i._readableState.endEmitted,v=function(){d=!1,y=!0,h||c.call(i)},w=function(k){c.call(i,k)},j=function(){var k;if(d&&!y)return(!i._readableState||!i._readableState.ended)&&(k=new t),c.call(i,k);if(h&&!f)return(!i._writableState||!i._writableState.ended)&&(k=new t),c.call(i,k)},b=function(){i.req.on("finish",g)};return n(i)?(i.on("complete",g),i.on("abort",j),i.req?b():i.on("request",b)):h&&!i._writableState&&(i.on("end",m),i.on("close",m)),i.on("end",v),i.on("finish",g),o.error!==!1&&i.on("error",w),i.on("close",j),function(){i.removeListener("complete",g),i.removeListener("abort",j),i.removeListener("request",b),i.req&&i.req.removeListener("finish",g),i.removeListener("end",m),i.removeListener("close",m),i.removeListener("finish",g),i.removeListener("end",v),i.removeListener("error",w),i.removeListener("close",j)}}return jj=a,jj}var _j,d5;function Use(){if(d5)return _j;d5=1;var t;function e(b,N,k){return N in b?Object.defineProperty(b,N,{value:k,enumerable:!0,configurable:!0,writable:!0}):b[N]=k,b}var r=f2(),n=Symbol("lastResolve"),a=Symbol("lastReject"),i=Symbol("error"),o=Symbol("ended"),c=Symbol("lastPromise"),d=Symbol("handlePromise"),h=Symbol("stream");function m(b,N){return{value:b,done:N}}function f(b){var N=b[n];if(N!==null){var k=b[h].read();k!==null&&(b[c]=null,b[n]=null,b[a]=null,N(m(k,!1)))}}function g(b){ts.nextTick(f,b)}function y(b,N){return function(k,S){b.then(function(){if(N[o]){k(m(void 0,!0));return}N[d](k,S)},S)}}var v=Object.getPrototypeOf(function(){}),w=Object.setPrototypeOf((t={get stream(){return this[h]},next:function(){var N=this,k=this[i];if(k!==null)return Promise.reject(k);if(this[o])return Promise.resolve(m(void 0,!0));if(this[h].destroyed)return new Promise(function(E,z){ts.nextTick(function(){N[i]?z(N[i]):E(m(void 0,!0))})});var S=this[c],C;if(S)C=new Promise(y(S,this));else{var B=this[h].read();if(B!==null)return Promise.resolve(m(B,!1));C=new Promise(this[d])}return this[c]=C,C}},e(t,Symbol.asyncIterator,function(){return this}),e(t,"return",function(){var N=this;return new Promise(function(k,S){N[h].destroy(null,function(C){if(C){S(C);return}k(m(void 0,!0))})})}),t),v),j=function(N){var k,S=Object.create(w,(k={},e(k,h,{value:N,writable:!0}),e(k,n,{value:null,writable:!0}),e(k,a,{value:null,writable:!0}),e(k,i,{value:null,writable:!0}),e(k,o,{value:N._readableState.endEmitted,writable:!0}),e(k,d,{value:function(B,E){var z=S[h].read();z?(S[c]=null,S[n]=null,S[a]=null,B(m(z,!1))):(S[n]=B,S[a]=E)},writable:!0}),k));return S[c]=null,r(N,function(C){if(C&&C.code!=="ERR_STREAM_PREMATURE_CLOSE"){var B=S[a];B!==null&&(S[c]=null,S[n]=null,S[a]=null,B(C)),S[i]=C;return}var E=S[n];E!==null&&(S[c]=null,S[n]=null,S[a]=null,E(m(void 0,!0))),S[o]=!0}),N.on("readable",g.bind(null,S)),S};return _j=j,_j}var Nj,u5;function $se(){return u5||(u5=1,Nj=function(){throw new Error("Readable.from is not available in the browser")}),Nj}var Sj,h5;function U8(){if(h5)return Sj;h5=1,Sj=T;var t;T.ReadableState=z,o2().EventEmitter;var e=function(ee,Ce){return ee.listeners(Ce).length},r=k8(),n=iy().Buffer,a=zi.Uint8Array||function(){};function i(te){return n.from(te)}function o(te){return n.isBuffer(te)||te instanceof a}var c=F8(),d;c&&c.debuglog?d=c.debuglog("stream"):d=function(){};var h=Bse(),m=B8(),f=I8(),g=f.getHighWaterMark,y=wh().codes,v=y.ERR_INVALID_ARG_TYPE,w=y.ERR_STREAM_PUSH_AFTER_EOF,j=y.ERR_METHOD_NOT_IMPLEMENTED,b=y.ERR_STREAM_UNSHIFT_AFTER_END_EVENT,N,k,S;lc()(T,r);var C=m.errorOrDestroy,B=["error","close","destroy","pause","resume"];function E(te,ee,Ce){if(typeof te.prependListener=="function")return te.prependListener(ee,Ce);!te._events||!te._events[ee]?te.on(ee,Ce):Array.isArray(te._events[ee])?te._events[ee].unshift(Ce):te._events[ee]=[Ce,te._events[ee]]}function z(te,ee,Ce){t=t||Xu(),te=te||{},typeof Ce!="boolean"&&(Ce=ee instanceof t),this.objectMode=!!te.objectMode,Ce&&(this.objectMode=this.objectMode||!!te.readableObjectMode),this.highWaterMark=g(this,te,"readableHighWaterMark",Ce),this.buffer=new h,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=te.emitClose!==!1,this.autoDestroy=!!te.autoDestroy,this.destroyed=!1,this.defaultEncoding=te.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,te.encoding&&(N||(N=k_().StringDecoder),this.decoder=new N(te.encoding),this.encoding=te.encoding)}function T(te){if(t=t||Xu(),!(this instanceof T))return new T(te);var ee=this instanceof t;this._readableState=new z(te,this,ee),this.readable=!0,te&&(typeof te.read=="function"&&(this._read=te.read),typeof te.destroy=="function"&&(this._destroy=te.destroy)),r.call(this)}Object.defineProperty(T.prototype,"destroyed",{enumerable:!1,get:function(){return this._readableState===void 0?!1:this._readableState.destroyed},set:function(ee){this._readableState&&(this._readableState.destroyed=ee)}}),T.prototype.destroy=m.destroy,T.prototype._undestroy=m.undestroy,T.prototype._destroy=function(te,ee){ee(te)},T.prototype.push=function(te,ee){var Ce=this._readableState,F;return Ce.objectMode?F=!0:typeof te=="string"&&(ee=ee||Ce.defaultEncoding,ee!==Ce.encoding&&(te=n.from(te,ee),ee=""),F=!0),W(this,te,ee,!1,F)},T.prototype.unshift=function(te){return W(this,te,null,!0,!1)};function W(te,ee,Ce,F,Ee){d("readableAddChunk",ee);var J=te._readableState;if(ee===null)J.reading=!1,K(te,J);else{var R;if(Ee||(R=L(J,ee)),R)C(te,R);else if(J.objectMode||ee&&ee.length>0)if(typeof ee!="string"&&!J.objectMode&&Object.getPrototypeOf(ee)!==n.prototype&&(ee=i(ee)),F)J.endEmitted?C(te,new b):U(te,J,ee,!0);else if(J.ended)C(te,new w);else{if(J.destroyed)return!1;J.reading=!1,J.decoder&&!Ce?(ee=J.decoder.write(ee),J.objectMode||ee.length!==0?U(te,J,ee,!1):$(te,J)):U(te,J,ee,!1)}else F||(J.reading=!1,$(te,J))}return!J.ended&&(J.length<J.highWaterMark||J.length===0)}function U(te,ee,Ce,F){ee.flowing&&ee.length===0&&!ee.sync?(ee.awaitDrain=0,te.emit("data",Ce)):(ee.length+=ee.objectMode?1:Ce.length,F?ee.buffer.unshift(Ce):ee.buffer.push(Ce),ee.needReadable&&M(te)),$(te,ee)}function L(te,ee){var Ce;return!o(ee)&&typeof ee!="string"&&ee!==void 0&&!te.objectMode&&(Ce=new v("chunk",["string","Buffer","Uint8Array"],ee)),Ce}T.prototype.isPaused=function(){return this._readableState.flowing===!1},T.prototype.setEncoding=function(te){N||(N=k_().StringDecoder);var ee=new N(te);this._readableState.decoder=ee,this._readableState.encoding=this._readableState.decoder.encoding;for(var Ce=this._readableState.buffer.head,F="";Ce!==null;)F+=ee.write(Ce.data),Ce=Ce.next;return this._readableState.buffer.clear(),F!==""&&this._readableState.buffer.push(F),this._readableState.length=F.length,this};var Z=1073741824;function O(te){return te>=Z?te=Z:(te--,te|=te>>>1,te|=te>>>2,te|=te>>>4,te|=te>>>8,te|=te>>>16,te++),te}function se(te,ee){return te<=0||ee.length===0&&ee.ended?0:ee.objectMode?1:te!==te?ee.flowing&&ee.length?ee.buffer.head.data.length:ee.length:(te>ee.highWaterMark&&(ee.highWaterMark=O(te)),te<=ee.length?te:ee.ended?ee.length:(ee.needReadable=!0,0))}T.prototype.read=function(te){d("read",te),te=parseInt(te,10);var ee=this._readableState,Ce=te;if(te!==0&&(ee.emittedReadable=!1),te===0&&ee.needReadable&&((ee.highWaterMark!==0?ee.length>=ee.highWaterMark:ee.length>0)||ee.ended))return d("read: emitReadable",ee.length,ee.ended),ee.length===0&&ee.ended?H(this):M(this),null;if(te=se(te,ee),te===0&&ee.ended)return ee.length===0&&H(this),null;var F=ee.needReadable;d("need readable",F),(ee.length===0||ee.length-te<ee.highWaterMark)&&(F=!0,d("length less than watermark",F)),ee.ended||ee.reading?(F=!1,d("reading or ended",F)):F&&(d("do read"),ee.reading=!0,ee.sync=!0,ee.length===0&&(ee.needReadable=!0),this._read(ee.highWaterMark),ee.sync=!1,ee.reading||(te=se(Ce,ee)));var Ee;return te>0?Ee=V(te,ee):Ee=null,Ee===null?(ee.needReadable=ee.length<=ee.highWaterMark,te=0):(ee.length-=te,ee.awaitDrain=0),ee.length===0&&(ee.ended||(ee.needReadable=!0),Ce!==te&&ee.ended&&H(this)),Ee!==null&&this.emit("data",Ee),Ee};function K(te,ee){if(d("onEofChunk"),!ee.ended){if(ee.decoder){var Ce=ee.decoder.end();Ce&&Ce.length&&(ee.buffer.push(Ce),ee.length+=ee.objectMode?1:Ce.length)}ee.ended=!0,ee.sync?M(te):(ee.needReadable=!1,ee.emittedReadable||(ee.emittedReadable=!0,X(te)))}}function M(te){var ee=te._readableState;d("emitReadable",ee.needReadable,ee.emittedReadable),ee.needReadable=!1,ee.emittedReadable||(d("emitReadable",ee.flowing),ee.emittedReadable=!0,ts.nextTick(X,te))}function X(te){var ee=te._readableState;d("emitReadable_",ee.destroyed,ee.length,ee.ended),!ee.destroyed&&(ee.length||ee.ended)&&(te.emit("readable"),ee.emittedReadable=!1),ee.needReadable=!ee.flowing&&!ee.ended&&ee.length<=ee.highWaterMark,ge(te)}function $(te,ee){ee.readingMore||(ee.readingMore=!0,ts.nextTick(oe,te,ee))}function oe(te,ee){for(;!ee.reading&&!ee.ended&&(ee.length<ee.highWaterMark||ee.flowing&&ee.length===0);){var Ce=ee.length;if(d("maybeReadMore read 0"),te.read(0),Ce===ee.length)break}ee.readingMore=!1}T.prototype._read=function(te){C(this,new j("_read()"))},T.prototype.pipe=function(te,ee){var Ce=this,F=this._readableState;switch(F.pipesCount){case 0:F.pipes=te;break;case 1:F.pipes=[F.pipes,te];break;default:F.pipes.push(te);break}F.pipesCount+=1,d("pipe count=%d opts=%j",F.pipesCount,ee);var Ee=(!ee||ee.end!==!1)&&te!==ts.stdout&&te!==ts.stderr,J=Ee?P:$e;F.endEmitted?ts.nextTick(J):Ce.once("end",J),te.on("unpipe",R);function R(Je,st){d("onunpipe"),Je===Ce&&st&&st.hasUnpiped===!1&&(st.hasUnpiped=!0,de())}function P(){d("onend"),te.end()}var G=q(Ce);te.on("drain",G);var we=!1;function de(){d("cleanup"),te.removeListener("close",Me),te.removeListener("finish",Re),te.removeListener("drain",G),te.removeListener("error",xe),te.removeListener("unpipe",R),Ce.removeListener("end",P),Ce.removeListener("end",$e),Ce.removeListener("data",he),we=!0,F.awaitDrain&&(!te._writableState||te._writableState.needDrain)&&G()}Ce.on("data",he);function he(Je){d("ondata");var st=te.write(Je);d("dest.write",st),st===!1&&((F.pipesCount===1&&F.pipes===te||F.pipesCount>1&&Q(F.pipes,te)!==-1)&&!we&&(d("false write response, pause",F.awaitDrain),F.awaitDrain++),Ce.pause())}function xe(Je){d("onerror",Je),$e(),te.removeListener("error",xe),e(te,"error")===0&&C(te,Je)}E(te,"error",xe);function Me(){te.removeListener("finish",Re),$e()}te.once("close",Me);function Re(){d("onfinish"),te.removeListener("close",Me),$e()}te.once("finish",Re);function $e(){d("unpipe"),Ce.unpipe(te)}return te.emit("pipe",Ce),F.flowing||(d("pipe resume"),Ce.resume()),te};function q(te){return function(){var Ce=te._readableState;d("pipeOnDrain",Ce.awaitDrain),Ce.awaitDrain&&Ce.awaitDrain--,Ce.awaitDrain===0&&e(te,"data")&&(Ce.flowing=!0,ge(te))}}T.prototype.unpipe=function(te){var ee=this._readableState,Ce={hasUnpiped:!1};if(ee.pipesCount===0)return this;if(ee.pipesCount===1)return te&&te!==ee.pipes?this:(te||(te=ee.pipes),ee.pipes=null,ee.pipesCount=0,ee.flowing=!1,te&&te.emit("unpipe",this,Ce),this);if(!te){var F=ee.pipes,Ee=ee.pipesCount;ee.pipes=null,ee.pipesCount=0,ee.flowing=!1;for(var J=0;J<Ee;J++)F[J].emit("unpipe",this,{hasUnpiped:!1});return this}var R=Q(ee.pipes,te);return R===-1?this:(ee.pipes.splice(R,1),ee.pipesCount-=1,ee.pipesCount===1&&(ee.pipes=ee.pipes[0]),te.emit("unpipe",this,Ce),this)},T.prototype.on=function(te,ee){var Ce=r.prototype.on.call(this,te,ee),F=this._readableState;return te==="data"?(F.readableListening=this.listenerCount("readable")>0,F.flowing!==!1&&this.resume()):te==="readable"&&!F.endEmitted&&!F.readableListening&&(F.readableListening=F.needReadable=!0,F.flowing=!1,F.emittedReadable=!1,d("on readable",F.length,F.reading),F.length?M(this):F.reading||ts.nextTick(ce,this)),Ce},T.prototype.addListener=T.prototype.on,T.prototype.removeListener=function(te,ee){var Ce=r.prototype.removeListener.call(this,te,ee);return te==="readable"&&ts.nextTick(Y,this),Ce},T.prototype.removeAllListeners=function(te){var ee=r.prototype.removeAllListeners.apply(this,arguments);return(te==="readable"||te===void 0)&&ts.nextTick(Y,this),ee};function Y(te){var ee=te._readableState;ee.readableListening=te.listenerCount("readable")>0,ee.resumeScheduled&&!ee.paused?ee.flowing=!0:te.listenerCount("data")>0&&te.resume()}function ce(te){d("readable nexttick read 0"),te.read(0)}T.prototype.resume=function(){var te=this._readableState;return te.flowing||(d("resume"),te.flowing=!te.readableListening,le(this,te)),te.paused=!1,this};function le(te,ee){ee.resumeScheduled||(ee.resumeScheduled=!0,ts.nextTick(be,te,ee))}function be(te,ee){d("resume",ee.reading),ee.reading||te.read(0),ee.resumeScheduled=!1,te.emit("resume"),ge(te),ee.flowing&&!ee.reading&&te.read(0)}T.prototype.pause=function(){return d("call pause flowing=%j",this._readableState.flowing),this._readableState.flowing!==!1&&(d("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this};function ge(te){var ee=te._readableState;for(d("flow",ee.flowing);ee.flowing&&te.read()!==null;);}T.prototype.wrap=function(te){var ee=this,Ce=this._readableState,F=!1;te.on("end",function(){if(d("wrapped end"),Ce.decoder&&!Ce.ended){var R=Ce.decoder.end();R&&R.length&&ee.push(R)}ee.push(null)}),te.on("data",function(R){if(d("wrapped data"),Ce.decoder&&(R=Ce.decoder.write(R)),!(Ce.objectMode&&R==null)&&!(!Ce.objectMode&&(!R||!R.length))){var P=ee.push(R);P||(F=!0,te.pause())}});for(var Ee in te)this[Ee]===void 0&&typeof te[Ee]=="function"&&(this[Ee]=(function(P){return function(){return te[P].apply(te,arguments)}})(Ee));for(var J=0;J<B.length;J++)te.on(B[J],this.emit.bind(this,B[J]));return this._read=function(R){d("wrapped _read",R),F&&(F=!1,te.resume())},this},typeof Symbol=="function"&&(T.prototype[Symbol.asyncIterator]=function(){return k===void 0&&(k=Use()),k(this)}),Object.defineProperty(T.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(T.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(T.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(ee){this._readableState&&(this._readableState.flowing=ee)}}),T._fromList=V,Object.defineProperty(T.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}});function V(te,ee){if(ee.length===0)return null;var Ce;return ee.objectMode?Ce=ee.buffer.shift():!te||te>=ee.length?(ee.decoder?Ce=ee.buffer.join(""):ee.buffer.length===1?Ce=ee.buffer.first():Ce=ee.buffer.concat(ee.length),ee.buffer.clear()):Ce=ee.buffer.consume(te,ee.decoder),Ce}function H(te){var ee=te._readableState;d("endReadable",ee.endEmitted),ee.endEmitted||(ee.ended=!0,ts.nextTick(me,ee,te))}function me(te,ee){if(d("endReadableNT",te.endEmitted,te.length),!te.endEmitted&&te.length===0&&(te.endEmitted=!0,ee.readable=!1,ee.emit("end"),te.autoDestroy)){var Ce=ee._writableState;(!Ce||Ce.autoDestroy&&Ce.finished)&&ee.destroy()}}typeof Symbol=="function"&&(T.from=function(te,ee){return S===void 0&&(S=$se()),S(T,te,ee)});function Q(te,ee){for(var Ce=0,F=te.length;Ce<F;Ce++)if(te[Ce]===ee)return Ce;return-1}return Sj}var Cj,f5;function $8(){if(f5)return Cj;f5=1,Cj=c;var t=wh().codes,e=t.ERR_METHOD_NOT_IMPLEMENTED,r=t.ERR_MULTIPLE_CALLBACK,n=t.ERR_TRANSFORM_ALREADY_TRANSFORMING,a=t.ERR_TRANSFORM_WITH_LENGTH_0,i=Xu();lc()(c,i);function o(m,f){var g=this._transformState;g.transforming=!1;var y=g.writecb;if(y===null)return this.emit("error",new r);g.writechunk=null,g.writecb=null,f!=null&&this.push(f),y(m);var v=this._readableState;v.reading=!1,(v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}function c(m){if(!(this instanceof c))return new c(m);i.call(this,m),this._transformState={afterTransform:o.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,m&&(typeof m.transform=="function"&&(this._transform=m.transform),typeof m.flush=="function"&&(this._flush=m.flush)),this.on("prefinish",d)}function d(){var m=this;typeof this._flush=="function"&&!this._readableState.destroyed?this._flush(function(f,g){h(m,f,g)}):h(this,null,null)}c.prototype.push=function(m,f){return this._transformState.needTransform=!1,i.prototype.push.call(this,m,f)},c.prototype._transform=function(m,f,g){g(new e("_transform()"))},c.prototype._write=function(m,f,g){var y=this._transformState;if(y.writecb=g,y.writechunk=m,y.writeencoding=f,!y.transforming){var v=this._readableState;(y.needTransform||v.needReadable||v.length<v.highWaterMark)&&this._read(v.highWaterMark)}},c.prototype._read=function(m){var f=this._transformState;f.writechunk!==null&&!f.transforming?(f.transforming=!0,this._transform(f.writechunk,f.writeencoding,f.afterTransform)):f.needTransform=!0},c.prototype._destroy=function(m,f){i.prototype._destroy.call(this,m,function(g){f(g)})};function h(m,f,g){if(f)return m.emit("error",f);if(g!=null&&m.push(g),m._writableState.length)throw new a;if(m._transformState.transforming)throw new n;return m.push(null)}return Cj}var kj,m5;function Vse(){if(m5)return kj;m5=1,kj=e;var t=$8();lc()(e,t);function e(r){if(!(this instanceof e))return new e(r);t.call(this,r)}return e.prototype._transform=function(r,n,a){a(null,r)},kj}var Aj,p5;function Hse(){if(p5)return Aj;p5=1;var t;function e(g){var y=!1;return function(){y||(y=!0,g.apply(void 0,arguments))}}var r=wh().codes,n=r.ERR_MISSING_ARGS,a=r.ERR_STREAM_DESTROYED;function i(g){if(g)throw g}function o(g){return g.setHeader&&typeof g.abort=="function"}function c(g,y,v,w){w=e(w);var j=!1;g.on("close",function(){j=!0}),t===void 0&&(t=f2()),t(g,{readable:y,writable:v},function(N){if(N)return w(N);j=!0,w()});var b=!1;return function(N){if(!j&&!b){if(b=!0,o(g))return g.abort();if(typeof g.destroy=="function")return g.destroy();w(N||new a("pipe"))}}}function d(g){g()}function h(g,y){return g.pipe(y)}function m(g){return!g.length||typeof g[g.length-1]!="function"?i:g.pop()}function f(){for(var g=arguments.length,y=new Array(g),v=0;v<g;v++)y[v]=arguments[v];var w=m(y);if(Array.isArray(y[0])&&(y=y[0]),y.length<2)throw new n("streams");var j,b=y.map(function(N,k){var S=k<y.length-1,C=k>0;return c(N,S,C,function(B){j||(j=B),B&&b.forEach(d),!S&&(b.forEach(d),w(j))})});return y.reduce(h)}return Aj=f,Aj}var Ej,g5;function m2(){if(g5)return Ej;g5=1,Ej=r;var t=o2().EventEmitter,e=lc();e(r,t),r.Readable=U8(),r.Writable=z8(),r.Duplex=Xu(),r.Transform=$8(),r.PassThrough=Vse(),r.finished=f2(),r.pipeline=Hse(),r.Stream=r;function r(){t.call(this)}return r.prototype.pipe=function(n,a){var i=this;function o(y){n.writable&&n.write(y)===!1&&i.pause&&i.pause()}i.on("data",o);function c(){i.readable&&i.resume&&i.resume()}n.on("drain",c),!n._isStdio&&(!a||a.end!==!1)&&(i.on("end",h),i.on("close",m));var d=!1;function h(){d||(d=!0,n.end())}function m(){d||(d=!0,typeof n.destroy=="function"&&n.destroy())}function f(y){if(g(),t.listenerCount(this,"error")===0)throw y}i.on("error",f),n.on("error",f);function g(){i.removeListener("data",o),n.removeListener("drain",c),i.removeListener("end",h),i.removeListener("close",m),i.removeListener("error",f),n.removeListener("error",f),i.removeListener("end",g),i.removeListener("close",g),n.removeListener("close",g)}return i.on("end",g),i.on("close",g),n.on("close",g),n.emit("pipe",i),n},Ej}var x5;function qse(){return x5||(x5=1,(function(t){(function(e){e.parser=function(V,H){return new n(V,H)},e.SAXParser=n,e.SAXStream=m,e.createStream=h,e.MAX_BUFFER_LENGTH=64*1024;var r=["comment","sgmlDecl","textNode","tagName","doctype","procInstName","procInstBody","entity","attribName","attribValue","cdata","script"];e.EVENTS=["text","processinginstruction","sgmldeclaration","doctype","comment","opentagstart","attribute","opentag","closetag","opencdata","cdata","closecdata","error","end","ready","script","opennamespace","closenamespace"];function n(V,H){if(!(this instanceof n))return new n(V,H);var me=this;i(me),me.q=me.c="",me.bufferCheckPosition=e.MAX_BUFFER_LENGTH,me.opt=H||{},me.opt.lowercase=me.opt.lowercase||me.opt.lowercasetags,me.looseCase=me.opt.lowercase?"toLowerCase":"toUpperCase",me.tags=[],me.closed=me.closedRoot=me.sawRoot=!1,me.tag=me.error=null,me.strict=!!V,me.noscript=!!(V||me.opt.noscript),me.state=T.BEGIN,me.strictEntities=me.opt.strictEntities,me.ENTITIES=me.strictEntities?Object.create(e.XML_ENTITIES):Object.create(e.ENTITIES),me.attribList=[],me.opt.xmlns&&(me.ns=Object.create(w)),me.trackPosition=me.opt.position!==!1,me.trackPosition&&(me.position=me.line=me.column=0),U(me,"onready")}Object.create||(Object.create=function(V){function H(){}H.prototype=V;var me=new H;return me}),Object.keys||(Object.keys=function(V){var H=[];for(var me in V)V.hasOwnProperty(me)&&H.push(me);return H});function a(V){for(var H=Math.max(e.MAX_BUFFER_LENGTH,10),me=0,Q=0,te=r.length;Q<te;Q++){var ee=V[r[Q]].length;if(ee>H)switch(r[Q]){case"textNode":Z(V);break;case"cdata":L(V,"oncdata",V.cdata),V.cdata="";break;case"script":L(V,"onscript",V.script),V.script="";break;default:se(V,"Max buffer length exceeded: "+r[Q])}me=Math.max(me,ee)}var Ce=e.MAX_BUFFER_LENGTH-me;V.bufferCheckPosition=Ce+V.position}function i(V){for(var H=0,me=r.length;H<me;H++)V[r[H]]=""}function o(V){Z(V),V.cdata!==""&&(L(V,"oncdata",V.cdata),V.cdata=""),V.script!==""&&(L(V,"onscript",V.script),V.script="")}n.prototype={end:function(){K(this)},write:ge,resume:function(){return this.error=null,this},close:function(){return this.write(null)},flush:function(){o(this)}};var c;try{c=m2().Stream}catch{c=function(){}}var d=e.EVENTS.filter(function(V){return V!=="error"&&V!=="end"});function h(V,H){return new m(V,H)}function m(V,H){if(!(this instanceof m))return new m(V,H);c.apply(this),this._parser=new n(V,H),this.writable=!0,this.readable=!0;var me=this;this._parser.onend=function(){me.emit("end")},this._parser.onerror=function(Q){me.emit("error",Q),me._parser.error=null},this._decoder=null,d.forEach(function(Q){Object.defineProperty(me,"on"+Q,{get:function(){return me._parser["on"+Q]},set:function(te){if(!te)return me.removeAllListeners(Q),me._parser["on"+Q]=te,te;me.on(Q,te)},enumerable:!0,configurable:!1})})}m.prototype=Object.create(c.prototype,{constructor:{value:m}}),m.prototype.write=function(V){if(typeof Buffer=="function"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(V)){if(!this._decoder){var H=k_().StringDecoder;this._decoder=new H("utf8")}V=this._decoder.write(V)}return this._parser.write(V.toString()),this.emit("data",V),!0},m.prototype.end=function(V){return V&&V.length&&this.write(V),this._parser.end(),!0},m.prototype.on=function(V,H){var me=this;return!me._parser["on"+V]&&d.indexOf(V)!==-1&&(me._parser["on"+V]=function(){var Q=arguments.length===1?[arguments[0]]:Array.apply(null,arguments);Q.splice(0,0,V),me.emit.apply(me,Q)}),c.prototype.on.call(me,V,H)};var f="[CDATA[",g="DOCTYPE",y="http://www.w3.org/XML/1998/namespace",v="http://www.w3.org/2000/xmlns/",w={xml:y,xmlns:v},j=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,b=/[:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/,N=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD]/,k=/[#:_A-Za-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\u00B7\u0300-\u036F\u203F-\u2040.\d-]/;function S(V){return V===" "||V===`
`||V==="\r"||V==="	"}function C(V){return V==='"'||V==="'"}function B(V){return V===">"||S(V)}function E(V,H){return V.test(H)}function z(V,H){return!E(V,H)}var T=0;e.STATE={BEGIN:T++,BEGIN_WHITESPACE:T++,TEXT:T++,TEXT_ENTITY:T++,OPEN_WAKA:T++,SGML_DECL:T++,SGML_DECL_QUOTED:T++,DOCTYPE:T++,DOCTYPE_QUOTED:T++,DOCTYPE_DTD:T++,DOCTYPE_DTD_QUOTED:T++,COMMENT_STARTING:T++,COMMENT:T++,COMMENT_ENDING:T++,COMMENT_ENDED:T++,CDATA:T++,CDATA_ENDING:T++,CDATA_ENDING_2:T++,PROC_INST:T++,PROC_INST_BODY:T++,PROC_INST_ENDING:T++,OPEN_TAG:T++,OPEN_TAG_SLASH:T++,ATTRIB:T++,ATTRIB_NAME:T++,ATTRIB_NAME_SAW_WHITE:T++,ATTRIB_VALUE:T++,ATTRIB_VALUE_QUOTED:T++,ATTRIB_VALUE_CLOSED:T++,ATTRIB_VALUE_UNQUOTED:T++,ATTRIB_VALUE_ENTITY_Q:T++,ATTRIB_VALUE_ENTITY_U:T++,CLOSE_TAG:T++,CLOSE_TAG_SAW_WHITE:T++,SCRIPT:T++,SCRIPT_ENDING:T++},e.XML_ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'"},e.ENTITIES={amp:"&",gt:">",lt:"<",quot:'"',apos:"'",AElig:198,Aacute:193,Acirc:194,Agrave:192,Aring:197,Atilde:195,Auml:196,Ccedil:199,ETH:208,Eacute:201,Ecirc:202,Egrave:200,Euml:203,Iacute:205,Icirc:206,Igrave:204,Iuml:207,Ntilde:209,Oacute:211,Ocirc:212,Ograve:210,Oslash:216,Otilde:213,Ouml:214,THORN:222,Uacute:218,Ucirc:219,Ugrave:217,Uuml:220,Yacute:221,aacute:225,acirc:226,aelig:230,agrave:224,aring:229,atilde:227,auml:228,ccedil:231,eacute:233,ecirc:234,egrave:232,eth:240,euml:235,iacute:237,icirc:238,igrave:236,iuml:239,ntilde:241,oacute:243,ocirc:244,ograve:242,oslash:248,otilde:245,ouml:246,szlig:223,thorn:254,uacute:250,ucirc:251,ugrave:249,uuml:252,yacute:253,yuml:255,copy:169,reg:174,nbsp:160,iexcl:161,cent:162,pound:163,curren:164,yen:165,brvbar:166,sect:167,uml:168,ordf:170,laquo:171,not:172,shy:173,macr:175,deg:176,plusmn:177,sup1:185,sup2:178,sup3:179,acute:180,micro:181,para:182,middot:183,cedil:184,ordm:186,raquo:187,frac14:188,frac12:189,frac34:190,iquest:191,times:215,divide:247,OElig:338,oelig:339,Scaron:352,scaron:353,Yuml:376,fnof:402,circ:710,tilde:732,Alpha:913,Beta:914,Gamma:915,Delta:916,Epsilon:917,Zeta:918,Eta:919,Theta:920,Iota:921,Kappa:922,Lambda:923,Mu:924,Nu:925,Xi:926,Omicron:927,Pi:928,Rho:929,Sigma:931,Tau:932,Upsilon:933,Phi:934,Chi:935,Psi:936,Omega:937,alpha:945,beta:946,gamma:947,delta:948,epsilon:949,zeta:950,eta:951,theta:952,iota:953,kappa:954,lambda:955,mu:956,nu:957,xi:958,omicron:959,pi:960,rho:961,sigmaf:962,sigma:963,tau:964,upsilon:965,phi:966,chi:967,psi:968,omega:969,thetasym:977,upsih:978,piv:982,ensp:8194,emsp:8195,thinsp:8201,zwnj:8204,zwj:8205,lrm:8206,rlm:8207,ndash:8211,mdash:8212,lsquo:8216,rsquo:8217,sbquo:8218,ldquo:8220,rdquo:8221,bdquo:8222,dagger:8224,Dagger:8225,bull:8226,hellip:8230,permil:8240,prime:8242,Prime:8243,lsaquo:8249,rsaquo:8250,oline:8254,frasl:8260,euro:8364,image:8465,weierp:8472,real:8476,trade:8482,alefsym:8501,larr:8592,uarr:8593,rarr:8594,darr:8595,harr:8596,crarr:8629,lArr:8656,uArr:8657,rArr:8658,dArr:8659,hArr:8660,forall:8704,part:8706,exist:8707,empty:8709,nabla:8711,isin:8712,notin:8713,ni:8715,prod:8719,sum:8721,minus:8722,lowast:8727,radic:8730,prop:8733,infin:8734,ang:8736,and:8743,or:8744,cap:8745,cup:8746,int:8747,there4:8756,sim:8764,cong:8773,asymp:8776,ne:8800,equiv:8801,le:8804,ge:8805,sub:8834,sup:8835,nsub:8836,sube:8838,supe:8839,oplus:8853,otimes:8855,perp:8869,sdot:8901,lceil:8968,rceil:8969,lfloor:8970,rfloor:8971,lang:9001,rang:9002,loz:9674,spades:9824,clubs:9827,hearts:9829,diams:9830},Object.keys(e.ENTITIES).forEach(function(V){var H=e.ENTITIES[V],me=typeof H=="number"?String.fromCharCode(H):H;e.ENTITIES[V]=me});for(var W in e.STATE)e.STATE[e.STATE[W]]=W;T=e.STATE;function U(V,H,me){V[H]&&V[H](me)}function L(V,H,me){V.textNode&&Z(V),U(V,H,me)}function Z(V){V.textNode=O(V.opt,V.textNode),V.textNode&&U(V,"ontext",V.textNode),V.textNode=""}function O(V,H){return V.trim&&(H=H.trim()),V.normalize&&(H=H.replace(/\s+/g," ")),H}function se(V,H){return Z(V),V.trackPosition&&(H+=`
Line: `+V.line+`
Column: `+V.column+`
Char: `+V.c),H=new Error(H),V.error=H,U(V,"onerror",H),V}function K(V){return V.sawRoot&&!V.closedRoot&&M(V,"Unclosed root tag"),V.state!==T.BEGIN&&V.state!==T.BEGIN_WHITESPACE&&V.state!==T.TEXT&&se(V,"Unexpected end"),Z(V),V.c="",V.closed=!0,U(V,"onend"),n.call(V,V.strict,V.opt),V}function M(V,H){if(typeof V!="object"||!(V instanceof n))throw new Error("bad call to strictFail");V.strict&&se(V,H)}function X(V){V.strict||(V.tagName=V.tagName[V.looseCase]());var H=V.tags[V.tags.length-1]||V,me=V.tag={name:V.tagName,attributes:{}};V.opt.xmlns&&(me.ns=H.ns),V.attribList.length=0,L(V,"onopentagstart",me)}function $(V,H){var me=V.indexOf(":"),Q=me<0?["",V]:V.split(":"),te=Q[0],ee=Q[1];return H&&V==="xmlns"&&(te="xmlns",ee=""),{prefix:te,local:ee}}function oe(V){if(V.strict||(V.attribName=V.attribName[V.looseCase]()),V.attribList.indexOf(V.attribName)!==-1||V.tag.attributes.hasOwnProperty(V.attribName)){V.attribName=V.attribValue="";return}if(V.opt.xmlns){var H=$(V.attribName,!0),me=H.prefix,Q=H.local;if(me==="xmlns")if(Q==="xml"&&V.attribValue!==y)M(V,"xml: prefix must be bound to "+y+`
Actual: `+V.attribValue);else if(Q==="xmlns"&&V.attribValue!==v)M(V,"xmlns: prefix must be bound to "+v+`
Actual: `+V.attribValue);else{var te=V.tag,ee=V.tags[V.tags.length-1]||V;te.ns===ee.ns&&(te.ns=Object.create(ee.ns)),te.ns[Q]=V.attribValue}V.attribList.push([V.attribName,V.attribValue])}else V.tag.attributes[V.attribName]=V.attribValue,L(V,"onattribute",{name:V.attribName,value:V.attribValue});V.attribName=V.attribValue=""}function q(V,H){if(V.opt.xmlns){var me=V.tag,Q=$(V.tagName);me.prefix=Q.prefix,me.local=Q.local,me.uri=me.ns[Q.prefix]||"",me.prefix&&!me.uri&&(M(V,"Unbound namespace prefix: "+JSON.stringify(V.tagName)),me.uri=Q.prefix);var te=V.tags[V.tags.length-1]||V;me.ns&&te.ns!==me.ns&&Object.keys(me.ns).forEach(function(he){L(V,"onopennamespace",{prefix:he,uri:me.ns[he]})});for(var ee=0,Ce=V.attribList.length;ee<Ce;ee++){var F=V.attribList[ee],Ee=F[0],J=F[1],R=$(Ee,!0),P=R.prefix,G=R.local,we=P===""?"":me.ns[P]||"",de={name:Ee,value:J,prefix:P,local:G,uri:we};P&&P!=="xmlns"&&!we&&(M(V,"Unbound namespace prefix: "+JSON.stringify(P)),de.uri=P),V.tag.attributes[Ee]=de,L(V,"onattribute",de)}V.attribList.length=0}V.tag.isSelfClosing=!!H,V.sawRoot=!0,V.tags.push(V.tag),L(V,"onopentag",V.tag),H||(!V.noscript&&V.tagName.toLowerCase()==="script"?V.state=T.SCRIPT:V.state=T.TEXT,V.tag=null,V.tagName=""),V.attribName=V.attribValue="",V.attribList.length=0}function Y(V){if(!V.tagName){M(V,"Weird empty close tag."),V.textNode+="</>",V.state=T.TEXT;return}if(V.script){if(V.tagName!=="script"){V.script+="</"+V.tagName+">",V.tagName="",V.state=T.SCRIPT;return}L(V,"onscript",V.script),V.script=""}var H=V.tags.length,me=V.tagName;V.strict||(me=me[V.looseCase]());for(var Q=me;H--;){var te=V.tags[H];if(te.name!==Q)M(V,"Unexpected close tag");else break}if(H<0){M(V,"Unmatched closing tag: "+V.tagName),V.textNode+="</"+V.tagName+">",V.state=T.TEXT;return}V.tagName=me;for(var ee=V.tags.length;ee-- >H;){var Ce=V.tag=V.tags.pop();V.tagName=V.tag.name,L(V,"onclosetag",V.tagName);var F={};for(var Ee in Ce.ns)F[Ee]=Ce.ns[Ee];var J=V.tags[V.tags.length-1]||V;V.opt.xmlns&&Ce.ns!==J.ns&&Object.keys(Ce.ns).forEach(function(R){var P=Ce.ns[R];L(V,"onclosenamespace",{prefix:R,uri:P})})}H===0&&(V.closedRoot=!0),V.tagName=V.attribValue=V.attribName="",V.attribList.length=0,V.state=T.TEXT}function ce(V){var H=V.entity,me=H.toLowerCase(),Q,te="";return V.ENTITIES[H]?V.ENTITIES[H]:V.ENTITIES[me]?V.ENTITIES[me]:(H=me,H.charAt(0)==="#"&&(H.charAt(1)==="x"?(H=H.slice(2),Q=parseInt(H,16),te=Q.toString(16)):(H=H.slice(1),Q=parseInt(H,10),te=Q.toString(10))),H=H.replace(/^0+/,""),isNaN(Q)||te.toLowerCase()!==H?(M(V,"Invalid character entity"),"&"+V.entity+";"):String.fromCodePoint(Q))}function le(V,H){H==="<"?(V.state=T.OPEN_WAKA,V.startTagPosition=V.position):S(H)||(M(V,"Non-whitespace before first tag."),V.textNode=H,V.state=T.TEXT)}function be(V,H){var me="";return H<V.length&&(me=V.charAt(H)),me}function ge(V){var H=this;if(this.error)throw this.error;if(H.closed)return se(H,"Cannot write after close. Assign an onready handler.");if(V===null)return K(H);typeof V=="object"&&(V=V.toString());for(var me=0,Q="";Q=be(V,me++),H.c=Q,!!Q;)switch(H.trackPosition&&(H.position++,Q===`
`?(H.line++,H.column=0):H.column++),H.state){case T.BEGIN:if(H.state=T.BEGIN_WHITESPACE,Q==="\uFEFF")continue;le(H,Q);continue;case T.BEGIN_WHITESPACE:le(H,Q);continue;case T.TEXT:if(H.sawRoot&&!H.closedRoot){for(var te=me-1;Q&&Q!=="<"&&Q!=="&";)Q=be(V,me++),Q&&H.trackPosition&&(H.position++,Q===`
`?(H.line++,H.column=0):H.column++);H.textNode+=V.substring(te,me-1)}Q==="<"&&!(H.sawRoot&&H.closedRoot&&!H.strict)?(H.state=T.OPEN_WAKA,H.startTagPosition=H.position):(!S(Q)&&(!H.sawRoot||H.closedRoot)&&M(H,"Text data outside of root node."),Q==="&"?H.state=T.TEXT_ENTITY:H.textNode+=Q);continue;case T.SCRIPT:Q==="<"?H.state=T.SCRIPT_ENDING:H.script+=Q;continue;case T.SCRIPT_ENDING:Q==="/"?H.state=T.CLOSE_TAG:(H.script+="<"+Q,H.state=T.SCRIPT);continue;case T.OPEN_WAKA:if(Q==="!")H.state=T.SGML_DECL,H.sgmlDecl="";else if(!S(Q))if(E(j,Q))H.state=T.OPEN_TAG,H.tagName=Q;else if(Q==="/")H.state=T.CLOSE_TAG,H.tagName="";else if(Q==="?")H.state=T.PROC_INST,H.procInstName=H.procInstBody="";else{if(M(H,"Unencoded <"),H.startTagPosition+1<H.position){var ee=H.position-H.startTagPosition;Q=new Array(ee).join(" ")+Q}H.textNode+="<"+Q,H.state=T.TEXT}continue;case T.SGML_DECL:(H.sgmlDecl+Q).toUpperCase()===f?(L(H,"onopencdata"),H.state=T.CDATA,H.sgmlDecl="",H.cdata=""):H.sgmlDecl+Q==="--"?(H.state=T.COMMENT,H.comment="",H.sgmlDecl=""):(H.sgmlDecl+Q).toUpperCase()===g?(H.state=T.DOCTYPE,(H.doctype||H.sawRoot)&&M(H,"Inappropriately located doctype declaration"),H.doctype="",H.sgmlDecl=""):Q===">"?(L(H,"onsgmldeclaration",H.sgmlDecl),H.sgmlDecl="",H.state=T.TEXT):(C(Q)&&(H.state=T.SGML_DECL_QUOTED),H.sgmlDecl+=Q);continue;case T.SGML_DECL_QUOTED:Q===H.q&&(H.state=T.SGML_DECL,H.q=""),H.sgmlDecl+=Q;continue;case T.DOCTYPE:Q===">"?(H.state=T.TEXT,L(H,"ondoctype",H.doctype),H.doctype=!0):(H.doctype+=Q,Q==="["?H.state=T.DOCTYPE_DTD:C(Q)&&(H.state=T.DOCTYPE_QUOTED,H.q=Q));continue;case T.DOCTYPE_QUOTED:H.doctype+=Q,Q===H.q&&(H.q="",H.state=T.DOCTYPE);continue;case T.DOCTYPE_DTD:H.doctype+=Q,Q==="]"?H.state=T.DOCTYPE:C(Q)&&(H.state=T.DOCTYPE_DTD_QUOTED,H.q=Q);continue;case T.DOCTYPE_DTD_QUOTED:H.doctype+=Q,Q===H.q&&(H.state=T.DOCTYPE_DTD,H.q="");continue;case T.COMMENT:Q==="-"?H.state=T.COMMENT_ENDING:H.comment+=Q;continue;case T.COMMENT_ENDING:Q==="-"?(H.state=T.COMMENT_ENDED,H.comment=O(H.opt,H.comment),H.comment&&L(H,"oncomment",H.comment),H.comment=""):(H.comment+="-"+Q,H.state=T.COMMENT);continue;case T.COMMENT_ENDED:Q!==">"?(M(H,"Malformed comment"),H.comment+="--"+Q,H.state=T.COMMENT):H.state=T.TEXT;continue;case T.CDATA:Q==="]"?H.state=T.CDATA_ENDING:H.cdata+=Q;continue;case T.CDATA_ENDING:Q==="]"?H.state=T.CDATA_ENDING_2:(H.cdata+="]"+Q,H.state=T.CDATA);continue;case T.CDATA_ENDING_2:Q===">"?(H.cdata&&L(H,"oncdata",H.cdata),L(H,"onclosecdata"),H.cdata="",H.state=T.TEXT):Q==="]"?H.cdata+="]":(H.cdata+="]]"+Q,H.state=T.CDATA);continue;case T.PROC_INST:Q==="?"?H.state=T.PROC_INST_ENDING:S(Q)?H.state=T.PROC_INST_BODY:H.procInstName+=Q;continue;case T.PROC_INST_BODY:if(!H.procInstBody&&S(Q))continue;Q==="?"?H.state=T.PROC_INST_ENDING:H.procInstBody+=Q;continue;case T.PROC_INST_ENDING:Q===">"?(L(H,"onprocessinginstruction",{name:H.procInstName,body:H.procInstBody}),H.procInstName=H.procInstBody="",H.state=T.TEXT):(H.procInstBody+="?"+Q,H.state=T.PROC_INST_BODY);continue;case T.OPEN_TAG:E(b,Q)?H.tagName+=Q:(X(H),Q===">"?q(H):Q==="/"?H.state=T.OPEN_TAG_SLASH:(S(Q)||M(H,"Invalid character in tag name"),H.state=T.ATTRIB));continue;case T.OPEN_TAG_SLASH:Q===">"?(q(H,!0),Y(H)):(M(H,"Forward-slash in opening tag not followed by >"),H.state=T.ATTRIB);continue;case T.ATTRIB:if(S(Q))continue;Q===">"?q(H):Q==="/"?H.state=T.OPEN_TAG_SLASH:E(j,Q)?(H.attribName=Q,H.attribValue="",H.state=T.ATTRIB_NAME):M(H,"Invalid attribute name");continue;case T.ATTRIB_NAME:Q==="="?H.state=T.ATTRIB_VALUE:Q===">"?(M(H,"Attribute without value"),H.attribValue=H.attribName,oe(H),q(H)):S(Q)?H.state=T.ATTRIB_NAME_SAW_WHITE:E(b,Q)?H.attribName+=Q:M(H,"Invalid attribute name");continue;case T.ATTRIB_NAME_SAW_WHITE:if(Q==="=")H.state=T.ATTRIB_VALUE;else{if(S(Q))continue;M(H,"Attribute without value"),H.tag.attributes[H.attribName]="",H.attribValue="",L(H,"onattribute",{name:H.attribName,value:""}),H.attribName="",Q===">"?q(H):E(j,Q)?(H.attribName=Q,H.state=T.ATTRIB_NAME):(M(H,"Invalid attribute name"),H.state=T.ATTRIB)}continue;case T.ATTRIB_VALUE:if(S(Q))continue;C(Q)?(H.q=Q,H.state=T.ATTRIB_VALUE_QUOTED):(M(H,"Unquoted attribute value"),H.state=T.ATTRIB_VALUE_UNQUOTED,H.attribValue=Q);continue;case T.ATTRIB_VALUE_QUOTED:if(Q!==H.q){Q==="&"?H.state=T.ATTRIB_VALUE_ENTITY_Q:H.attribValue+=Q;continue}oe(H),H.q="",H.state=T.ATTRIB_VALUE_CLOSED;continue;case T.ATTRIB_VALUE_CLOSED:S(Q)?H.state=T.ATTRIB:Q===">"?q(H):Q==="/"?H.state=T.OPEN_TAG_SLASH:E(j,Q)?(M(H,"No whitespace between attributes"),H.attribName=Q,H.attribValue="",H.state=T.ATTRIB_NAME):M(H,"Invalid attribute name");continue;case T.ATTRIB_VALUE_UNQUOTED:if(!B(Q)){Q==="&"?H.state=T.ATTRIB_VALUE_ENTITY_U:H.attribValue+=Q;continue}oe(H),Q===">"?q(H):H.state=T.ATTRIB;continue;case T.CLOSE_TAG:if(H.tagName)Q===">"?Y(H):E(b,Q)?H.tagName+=Q:H.script?(H.script+="</"+H.tagName,H.tagName="",H.state=T.SCRIPT):(S(Q)||M(H,"Invalid tagname in closing tag"),H.state=T.CLOSE_TAG_SAW_WHITE);else{if(S(Q))continue;z(j,Q)?H.script?(H.script+="</"+Q,H.state=T.SCRIPT):M(H,"Invalid tagname in closing tag."):H.tagName=Q}continue;case T.CLOSE_TAG_SAW_WHITE:if(S(Q))continue;Q===">"?Y(H):M(H,"Invalid characters in closing tag");continue;case T.TEXT_ENTITY:case T.ATTRIB_VALUE_ENTITY_Q:case T.ATTRIB_VALUE_ENTITY_U:var Ce,F;switch(H.state){case T.TEXT_ENTITY:Ce=T.TEXT,F="textNode";break;case T.ATTRIB_VALUE_ENTITY_Q:Ce=T.ATTRIB_VALUE_QUOTED,F="attribValue";break;case T.ATTRIB_VALUE_ENTITY_U:Ce=T.ATTRIB_VALUE_UNQUOTED,F="attribValue";break}Q===";"?(H[F]+=ce(H),H.entity="",H.state=Ce):E(H.entity.length?k:N,Q)?H.entity+=Q:(M(H,"Invalid character in entity name"),H[F]+="&"+H.entity+Q,H.entity="",H.state=Ce);continue;default:throw new Error(H,"Unknown state: "+H.state)}return H.position>=H.bufferCheckPosition&&a(H),H}String.fromCodePoint||(function(){var V=String.fromCharCode,H=Math.floor,me=function(){var Q=16384,te=[],ee,Ce,F=-1,Ee=arguments.length;if(!Ee)return"";for(var J="";++F<Ee;){var R=Number(arguments[F]);if(!isFinite(R)||R<0||R>1114111||H(R)!==R)throw RangeError("Invalid code point: "+R);R<=65535?te.push(R):(R-=65536,ee=(R>>10)+55296,Ce=R%1024+56320,te.push(ee,Ce)),(F+1===Ee||te.length>Q)&&(J+=V.apply(null,te),te.length=0)}return J};Object.defineProperty?Object.defineProperty(String,"fromCodePoint",{value:me,configurable:!0,writable:!0}):String.fromCodePoint=me})()})(t)})(hw)),hw}var Tj,y5;function p2(){return y5||(y5=1,Tj={isArray:function(t){return Array.isArray?Array.isArray(t):Object.prototype.toString.call(t)==="[object Array]"}}),Tj}var Rj,b5;function g2(){if(b5)return Rj;b5=1;var t=p2().isArray;return Rj={copyOptions:function(e){var r,n={};for(r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);return n},ensureFlagExists:function(e,r){(!(e in r)||typeof r[e]!="boolean")&&(r[e]=!1)},ensureSpacesExists:function(e){(!("spaces"in e)||typeof e.spaces!="number"&&typeof e.spaces!="string")&&(e.spaces=0)},ensureAlwaysArrayExists:function(e){(!("alwaysArray"in e)||typeof e.alwaysArray!="boolean"&&!t(e.alwaysArray))&&(e.alwaysArray=!1)},ensureKeyExists:function(e,r){(!(e+"Key"in r)||typeof r[e+"Key"]!="string")&&(r[e+"Key"]=r.compact?"_"+e:e)},checkFnExists:function(e,r){return e+"Fn"in r}},Rj}var Dj,v5;function V8(){if(v5)return Dj;v5=1;var t=qse(),e=g2(),r=p2().isArray,n,a;function i(b){return n=e.copyOptions(b),e.ensureFlagExists("ignoreDeclaration",n),e.ensureFlagExists("ignoreInstruction",n),e.ensureFlagExists("ignoreAttributes",n),e.ensureFlagExists("ignoreText",n),e.ensureFlagExists("ignoreComment",n),e.ensureFlagExists("ignoreCdata",n),e.ensureFlagExists("ignoreDoctype",n),e.ensureFlagExists("compact",n),e.ensureFlagExists("alwaysChildren",n),e.ensureFlagExists("addParent",n),e.ensureFlagExists("trim",n),e.ensureFlagExists("nativeType",n),e.ensureFlagExists("nativeTypeAttributes",n),e.ensureFlagExists("sanitize",n),e.ensureFlagExists("instructionHasAttributes",n),e.ensureFlagExists("captureSpacesBetweenElements",n),e.ensureAlwaysArrayExists(n),e.ensureKeyExists("declaration",n),e.ensureKeyExists("instruction",n),e.ensureKeyExists("attributes",n),e.ensureKeyExists("text",n),e.ensureKeyExists("comment",n),e.ensureKeyExists("cdata",n),e.ensureKeyExists("doctype",n),e.ensureKeyExists("type",n),e.ensureKeyExists("name",n),e.ensureKeyExists("elements",n),e.ensureKeyExists("parent",n),e.checkFnExists("doctype",n),e.checkFnExists("instruction",n),e.checkFnExists("cdata",n),e.checkFnExists("comment",n),e.checkFnExists("text",n),e.checkFnExists("instructionName",n),e.checkFnExists("elementName",n),e.checkFnExists("attributeName",n),e.checkFnExists("attributeValue",n),e.checkFnExists("attributes",n),n}function o(b){var N=Number(b);if(!isNaN(N))return N;var k=b.toLowerCase();return k==="true"?!0:k==="false"?!1:b}function c(b,N){var k;if(n.compact){if(!a[n[b+"Key"]]&&(r(n.alwaysArray)?n.alwaysArray.indexOf(n[b+"Key"])!==-1:n.alwaysArray)&&(a[n[b+"Key"]]=[]),a[n[b+"Key"]]&&!r(a[n[b+"Key"]])&&(a[n[b+"Key"]]=[a[n[b+"Key"]]]),b+"Fn"in n&&typeof N=="string"&&(N=n[b+"Fn"](N,a)),b==="instruction"&&("instructionFn"in n||"instructionNameFn"in n)){for(k in N)if(N.hasOwnProperty(k))if("instructionFn"in n)N[k]=n.instructionFn(N[k],k,a);else{var S=N[k];delete N[k],N[n.instructionNameFn(k,S,a)]=S}}r(a[n[b+"Key"]])?a[n[b+"Key"]].push(N):a[n[b+"Key"]]=N}else{a[n.elementsKey]||(a[n.elementsKey]=[]);var C={};if(C[n.typeKey]=b,b==="instruction"){for(k in N)if(N.hasOwnProperty(k))break;C[n.nameKey]="instructionNameFn"in n?n.instructionNameFn(k,N,a):k,n.instructionHasAttributes?(C[n.attributesKey]=N[k][n.attributesKey],"instructionFn"in n&&(C[n.attributesKey]=n.instructionFn(C[n.attributesKey],k,a))):("instructionFn"in n&&(N[k]=n.instructionFn(N[k],k,a)),C[n.instructionKey]=N[k])}else b+"Fn"in n&&(N=n[b+"Fn"](N,a)),C[n[b+"Key"]]=N;n.addParent&&(C[n.parentKey]=a),a[n.elementsKey].push(C)}}function d(b){if("attributesFn"in n&&b&&(b=n.attributesFn(b,a)),(n.trim||"attributeValueFn"in n||"attributeNameFn"in n||n.nativeTypeAttributes)&&b){var N;for(N in b)if(b.hasOwnProperty(N)&&(n.trim&&(b[N]=b[N].trim()),n.nativeTypeAttributes&&(b[N]=o(b[N])),"attributeValueFn"in n&&(b[N]=n.attributeValueFn(b[N],N,a)),"attributeNameFn"in n)){var k=b[N];delete b[N],b[n.attributeNameFn(N,b[N],a)]=k}}return b}function h(b){var N={};if(b.body&&(b.name.toLowerCase()==="xml"||n.instructionHasAttributes)){for(var k=/([\w:-]+)\s*=\s*(?:"([^"]*)"|'([^']*)'|(\w+))\s*/g,S;(S=k.exec(b.body))!==null;)N[S[1]]=S[2]||S[3]||S[4];N=d(N)}if(b.name.toLowerCase()==="xml"){if(n.ignoreDeclaration)return;a[n.declarationKey]={},Object.keys(N).length&&(a[n.declarationKey][n.attributesKey]=N),n.addParent&&(a[n.declarationKey][n.parentKey]=a)}else{if(n.ignoreInstruction)return;n.trim&&(b.body=b.body.trim());var C={};n.instructionHasAttributes&&Object.keys(N).length?(C[b.name]={},C[b.name][n.attributesKey]=N):C[b.name]=b.body,c("instruction",C)}}function m(b,N){var k;if(typeof b=="object"&&(N=b.attributes,b=b.name),N=d(N),"elementNameFn"in n&&(b=n.elementNameFn(b,a)),n.compact){if(k={},!n.ignoreAttributes&&N&&Object.keys(N).length){k[n.attributesKey]={};var S;for(S in N)N.hasOwnProperty(S)&&(k[n.attributesKey][S]=N[S])}!(b in a)&&(r(n.alwaysArray)?n.alwaysArray.indexOf(b)!==-1:n.alwaysArray)&&(a[b]=[]),a[b]&&!r(a[b])&&(a[b]=[a[b]]),r(a[b])?a[b].push(k):a[b]=k}else a[n.elementsKey]||(a[n.elementsKey]=[]),k={},k[n.typeKey]="element",k[n.nameKey]=b,!n.ignoreAttributes&&N&&Object.keys(N).length&&(k[n.attributesKey]=N),n.alwaysChildren&&(k[n.elementsKey]=[]),a[n.elementsKey].push(k);k[n.parentKey]=a,a=k}function f(b){n.ignoreText||!b.trim()&&!n.captureSpacesBetweenElements||(n.trim&&(b=b.trim()),n.nativeType&&(b=o(b)),n.sanitize&&(b=b.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")),c("text",b))}function g(b){n.ignoreComment||(n.trim&&(b=b.trim()),c("comment",b))}function y(b){var N=a[n.parentKey];n.addParent||delete a[n.parentKey],a=N}function v(b){n.ignoreCdata||(n.trim&&(b=b.trim()),c("cdata",b))}function w(b){n.ignoreDoctype||(b=b.replace(/^ /,""),n.trim&&(b=b.trim()),c("doctype",b))}function j(b){b.note=b}return Dj=function(b,N){var k=t.parser(!0,{}),S={};if(a=S,n=i(N),k.opt={strictEntities:!0},k.onopentag=m,k.ontext=f,k.oncomment=g,k.onclosetag=y,k.onerror=j,k.oncdata=v,k.ondoctype=w,k.onprocessinginstruction=h,k.write(b).close(),S[n.elementsKey]){var C=S[n.elementsKey];delete S[n.elementsKey],S[n.elementsKey]=C,delete S.text}return S},Dj}var Mj,w5;function Wse(){if(w5)return Mj;w5=1;var t=g2(),e=V8();function r(n){var a=t.copyOptions(n);return t.ensureSpacesExists(a),a}return Mj=function(n,a){var i,o,c,d;return i=r(a),o=e(n,i),d="compact"in i&&i.compact?"_parent":"parent","addParent"in i&&i.addParent?c=JSON.stringify(o,function(h,m){return h===d?"_":m},i.spaces):c=JSON.stringify(o,null,i.spaces),c.replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029")},Mj}var Pj,j5;function H8(){if(j5)return Pj;j5=1;var t=g2(),e=p2().isArray,r,n;function a(k){var S=t.copyOptions(k);return t.ensureFlagExists("ignoreDeclaration",S),t.ensureFlagExists("ignoreInstruction",S),t.ensureFlagExists("ignoreAttributes",S),t.ensureFlagExists("ignoreText",S),t.ensureFlagExists("ignoreComment",S),t.ensureFlagExists("ignoreCdata",S),t.ensureFlagExists("ignoreDoctype",S),t.ensureFlagExists("compact",S),t.ensureFlagExists("indentText",S),t.ensureFlagExists("indentCdata",S),t.ensureFlagExists("indentAttributes",S),t.ensureFlagExists("indentInstruction",S),t.ensureFlagExists("fullTagEmptyElement",S),t.ensureFlagExists("noQuotesForNativeAttributes",S),t.ensureSpacesExists(S),typeof S.spaces=="number"&&(S.spaces=Array(S.spaces+1).join(" ")),t.ensureKeyExists("declaration",S),t.ensureKeyExists("instruction",S),t.ensureKeyExists("attributes",S),t.ensureKeyExists("text",S),t.ensureKeyExists("comment",S),t.ensureKeyExists("cdata",S),t.ensureKeyExists("doctype",S),t.ensureKeyExists("type",S),t.ensureKeyExists("name",S),t.ensureKeyExists("elements",S),t.checkFnExists("doctype",S),t.checkFnExists("instruction",S),t.checkFnExists("cdata",S),t.checkFnExists("comment",S),t.checkFnExists("text",S),t.checkFnExists("instructionName",S),t.checkFnExists("elementName",S),t.checkFnExists("attributeName",S),t.checkFnExists("attributeValue",S),t.checkFnExists("attributes",S),t.checkFnExists("fullTagEmptyElement",S),S}function i(k,S,C){return(!C&&k.spaces?`
`:"")+Array(S+1).join(k.spaces)}function o(k,S,C){if(S.ignoreAttributes)return"";"attributesFn"in S&&(k=S.attributesFn(k,n,r));var B,E,z,T,W=[];for(B in k)k.hasOwnProperty(B)&&k[B]!==null&&k[B]!==void 0&&(T=S.noQuotesForNativeAttributes&&typeof k[B]!="string"?"":'"',E=""+k[B],E=E.replace(/"/g,"&quot;"),z="attributeNameFn"in S?S.attributeNameFn(B,E,n,r):B,W.push(S.spaces&&S.indentAttributes?i(S,C+1,!1):" "),W.push(z+"="+T+("attributeValueFn"in S?S.attributeValueFn(E,B,n,r):E)+T));return k&&Object.keys(k).length&&S.spaces&&S.indentAttributes&&W.push(i(S,C,!1)),W.join("")}function c(k,S,C){return r=k,n="xml",S.ignoreDeclaration?"":"<?xml"+o(k[S.attributesKey],S,C)+"?>"}function d(k,S,C){if(S.ignoreInstruction)return"";var B;for(B in k)if(k.hasOwnProperty(B))break;var E="instructionNameFn"in S?S.instructionNameFn(B,k[B],n,r):B;if(typeof k[B]=="object")return r=k,n=E,"<?"+E+o(k[B][S.attributesKey],S,C)+"?>";var z=k[B]?k[B]:"";return"instructionFn"in S&&(z=S.instructionFn(z,B,n,r)),"<?"+E+(z?" "+z:"")+"?>"}function h(k,S){return S.ignoreComment?"":"<!--"+("commentFn"in S?S.commentFn(k,n,r):k)+"-->"}function m(k,S){return S.ignoreCdata?"":"<![CDATA["+("cdataFn"in S?S.cdataFn(k,n,r):k.replace("]]>","]]]]><![CDATA[>"))+"]]>"}function f(k,S){return S.ignoreDoctype?"":"<!DOCTYPE "+("doctypeFn"in S?S.doctypeFn(k,n,r):k)+">"}function g(k,S){return S.ignoreText?"":(k=""+k,k=k.replace(/&amp;/g,"&"),k=k.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"),"textFn"in S?S.textFn(k,n,r):k)}function y(k,S){var C;if(k.elements&&k.elements.length)for(C=0;C<k.elements.length;++C)switch(k.elements[C][S.typeKey]){case"text":if(S.indentText)return!0;break;case"cdata":if(S.indentCdata)return!0;break;case"instruction":if(S.indentInstruction)return!0;break;case"doctype":case"comment":case"element":return!0;default:return!0}return!1}function v(k,S,C){r=k,n=k.name;var B=[],E="elementNameFn"in S?S.elementNameFn(k.name,k):k.name;B.push("<"+E),k[S.attributesKey]&&B.push(o(k[S.attributesKey],S,C));var z=k[S.elementsKey]&&k[S.elementsKey].length||k[S.attributesKey]&&k[S.attributesKey]["xml:space"]==="preserve";return z||("fullTagEmptyElementFn"in S?z=S.fullTagEmptyElementFn(k.name,k):z=S.fullTagEmptyElement),z?(B.push(">"),k[S.elementsKey]&&k[S.elementsKey].length&&(B.push(w(k[S.elementsKey],S,C+1)),r=k,n=k.name),B.push(S.spaces&&y(k,S)?`
`+Array(C+1).join(S.spaces):""),B.push("</"+E+">")):B.push("/>"),B.join("")}function w(k,S,C,B){return k.reduce(function(E,z){var T=i(S,C,B&&!E);switch(z.type){case"element":return E+T+v(z,S,C);case"comment":return E+T+h(z[S.commentKey],S);case"doctype":return E+T+f(z[S.doctypeKey],S);case"cdata":return E+(S.indentCdata?T:"")+m(z[S.cdataKey],S);case"text":return E+(S.indentText?T:"")+g(z[S.textKey],S);case"instruction":var W={};return W[z[S.nameKey]]=z[S.attributesKey]?z:z[S.instructionKey],E+(S.indentInstruction?T:"")+d(W,S,C)}},"")}function j(k,S,C){var B;for(B in k)if(k.hasOwnProperty(B))switch(B){case S.parentKey:case S.attributesKey:break;case S.textKey:if(S.indentText||C)return!0;break;case S.cdataKey:if(S.indentCdata||C)return!0;break;case S.instructionKey:if(S.indentInstruction||C)return!0;break;case S.doctypeKey:case S.commentKey:return!0;default:return!0}return!1}function b(k,S,C,B,E){r=k,n=S;var z="elementNameFn"in C?C.elementNameFn(S,k):S;if(typeof k>"u"||k===null||k==="")return"fullTagEmptyElementFn"in C&&C.fullTagEmptyElementFn(S,k)||C.fullTagEmptyElement?"<"+z+"></"+z+">":"<"+z+"/>";var T=[];if(S){if(T.push("<"+z),typeof k!="object")return T.push(">"+g(k,C)+"</"+z+">"),T.join("");k[C.attributesKey]&&T.push(o(k[C.attributesKey],C,B));var W=j(k,C,!0)||k[C.attributesKey]&&k[C.attributesKey]["xml:space"]==="preserve";if(W||("fullTagEmptyElementFn"in C?W=C.fullTagEmptyElementFn(S,k):W=C.fullTagEmptyElement),W)T.push(">");else return T.push("/>"),T.join("")}return T.push(N(k,C,B+1,!1)),r=k,n=S,S&&T.push((E?i(C,B,!1):"")+"</"+z+">"),T.join("")}function N(k,S,C,B){var E,z,T,W=[];for(z in k)if(k.hasOwnProperty(z))for(T=e(k[z])?k[z]:[k[z]],E=0;E<T.length;++E){switch(z){case S.declarationKey:W.push(c(T[E],S,C));break;case S.instructionKey:W.push((S.indentInstruction?i(S,C,B):"")+d(T[E],S,C));break;case S.attributesKey:case S.parentKey:break;case S.textKey:W.push((S.indentText?i(S,C,B):"")+g(T[E],S));break;case S.cdataKey:W.push((S.indentCdata?i(S,C,B):"")+m(T[E],S));break;case S.doctypeKey:W.push(i(S,C,B)+f(T[E],S));break;case S.commentKey:W.push(i(S,C,B)+h(T[E],S));break;default:W.push(i(S,C,B)+b(T[E],z,S,C,j(T[E],S)))}B=B&&!W.length}return W.join("")}return Pj=function(k,S){S=a(S);var C=[];return r=k,n="_root_",S.compact?C.push(N(k,S,0,!0)):(k[S.declarationKey]&&C.push(c(k[S.declarationKey],S,0)),k[S.elementsKey]&&k[S.elementsKey].length&&C.push(w(k[S.elementsKey],S,0,!C.length))),C.join("")},Pj}var Oj,_5;function Gse(){if(_5)return Oj;_5=1;var t=H8();return Oj=function(e,r){e instanceof Buffer&&(e=e.toString());var n=null;if(typeof e=="string")try{n=JSON.parse(e)}catch{throw new Error("The JSON structure is invalid")}else n=e;return t(n,r)},Oj}var Lj,N5;function Yse(){if(N5)return Lj;N5=1;var t=V8(),e=Wse(),r=H8(),n=Gse();return Lj={xml2js:t,xml2json:e,js2xml:r,json2xml:n},Lj}var q8=Yse();const x2=t=>{switch(t.type){case void 0:case"element":const e=new Xse(t.name,t.attributes),r=t.elements||[];for(const n of r){const a=x2(n);a!==void 0&&e.push(a)}return e;case"text":return t.text;default:return}};class Kse extends Vt{}class Xse extends at{static fromXmlString(e){const r=q8.xml2js(e,{compact:!1});return x2(r)}constructor(e,r){super(e),r&&this.root.push(new Kse(r))}push(e){this.root.push(e)}}class Zse extends at{constructor(e){super(""),this._attr=e}prepForXml(e){return{_attr:this._attr}}}class W8 extends at{constructor(e,r){super(e),r&&(this.root=r.root)}}const Jn=t=>{if(isNaN(t))throw new Error(`Invalid value '${t}' specified. Must be an integer.`);return Math.floor(t)},cy=t=>{const e=Jn(t);if(e<0)throw new Error(`Invalid value '${t}' specified. Must be a positive integer.`);return e},G8=(t,e)=>{const r=e*2;if(t.length!==r||isNaN(+`0x${t}`))throw new Error(`Invalid hex value '${t}'. Expected ${r} digit hex value`);return t},S5=t=>G8(t,1),Y8=t=>{const e=t.slice(-2),r=t.substring(0,t.length-2);return`${Number(r)}${e}`},K8=t=>{const e=Y8(t);if(parseFloat(e)<0)throw new Error(`Invalid value '${e}' specified. Expected a positive number.`);return e},Zu=t=>{if(t==="auto")return t;const e=t.charAt(0)==="#"?t.substring(1):t;return G8(e,3)},cd=t=>typeof t=="string"?Y8(t):Jn(t),Qse=t=>typeof t=="string"?K8(t):cy(t),oi=t=>typeof t=="string"?K8(t):cy(t),Jse=cy,ere=cy,tre=t=>t.toISOString();class it extends at{constructor(e,r=!0){super(e),r!==!0&&this.root.push(new kr({val:r}))}}class Fj extends at{constructor(e,r){super(e),this.root.push(new kr({val:Qse(r)}))}}class zu extends at{constructor(e,r){super(e),this.root.push(new kr({val:r}))}}const Tf=(t,e)=>new Qi({name:t,attributes:{value:{key:"w:val",value:e}}});class Jf extends at{constructor(e,r){super(e),this.root.push(new kr({val:r}))}}class zc extends at{constructor(e,r){super(e),this.root.push(r)}}class Qi extends at{constructor({name:e,attributes:r,children:n}){super(e),r&&this.root.push(new ay(r)),n&&this.root.push(...n)}}const ma={START:"start",CENTER:"center",LEFT:"left"};class sre extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{val:"w:val"})}}class rre extends at{constructor(e){super("w:jc"),this.root.push(new sre({val:e}))}}class ur extends at{constructor(e,{color:r,size:n,space:a,style:i}){super(e),this.root.push(new nre({style:i,color:r===void 0?void 0:Zu(r),size:n===void 0?void 0:Jse(n),space:a===void 0?void 0:ere(a)}))}}class nre extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{style:"w:val",color:"w:color",size:"w:sz",space:"w:space"})}}const y2={SINGLE:"single",NONE:"none"};class are extends ny{constructor(e){super("w:pBdr"),e.top&&this.root.push(new ur("w:top",e.top)),e.bottom&&this.root.push(new ur("w:bottom",e.bottom)),e.left&&this.root.push(new ur("w:left",e.left)),e.right&&this.root.push(new ur("w:right",e.right)),e.between&&this.root.push(new ur("w:between",e.between))}}class ire extends at{constructor(){super("w:pBdr");const e=new ur("w:bottom",{color:"auto",space:1,style:y2.SINGLE,size:6});this.root.push(e)}}class ore extends at{constructor({start:e,end:r,left:n,right:a,hanging:i,firstLine:o}){super("w:ind"),this.root.push(new ay({start:{key:"w:start",value:e===void 0?void 0:cd(e)},end:{key:"w:end",value:r===void 0?void 0:cd(r)},left:{key:"w:left",value:n===void 0?void 0:cd(n)},right:{key:"w:right",value:a===void 0?void 0:cd(a)},hanging:{key:"w:hanging",value:i===void 0?void 0:oi(i)},firstLine:{key:"w:firstLine",value:o===void 0?void 0:oi(o)}}))}}let lre=class extends at{constructor(){super("w:br")}};const b2={BEGIN:"begin",END:"end",SEPARATE:"separate"};class v2 extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{type:"w:fldCharType",dirty:"w:dirty"})}}class Ig extends at{constructor(e){super("w:fldChar"),this.root.push(new v2({type:b2.BEGIN,dirty:e}))}}class zg extends at{constructor(e){super("w:fldChar"),this.root.push(new v2({type:b2.SEPARATE,dirty:e}))}}class Ug extends at{constructor(e){super("w:fldChar"),this.root.push(new v2({type:b2.END,dirty:e}))}}const Qu={DEFAULT:"default",PRESERVE:"preserve"};class Ju extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{space:"xml:space"})}}class cre extends at{constructor(){super("w:instrText"),this.root.push(new Ju({space:Qu.PRESERVE})),this.root.push("PAGE")}}class dre extends at{constructor(){super("w:instrText"),this.root.push(new Ju({space:Qu.PRESERVE})),this.root.push("NUMPAGES")}}class ure extends at{constructor(){super("w:instrText"),this.root.push(new Ju({space:Qu.PRESERVE})),this.root.push("SECTIONPAGES")}}class hre extends at{constructor(){super("w:instrText"),this.root.push(new Ju({space:Qu.PRESERVE})),this.root.push("SECTION")}}class fre extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{fill:"w:fill",color:"w:color",type:"w:val"})}}class X8 extends at{constructor({fill:e,color:r,type:n}){super("w:shd"),this.root.push(new fre({fill:e===void 0?void 0:Zu(e),color:r===void 0?void 0:Zu(r),type:n}))}}class mre extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{id:"w:id",author:"w:author",date:"w:date"})}}const pre={DOT:"dot"};class gre extends at{constructor(e){super("w:em"),this.root.push(new kr({val:e}))}}class xre extends gre{constructor(e=pre.DOT){super(e)}}class yre extends at{constructor(e){super("w:spacing"),this.root.push(new kr({val:cd(e)}))}}let bre=class extends at{constructor(e){super("w:color"),this.root.push(new kr({val:Zu(e)}))}};class vre extends at{constructor(e){super("w:highlight"),this.root.push(new kr({val:e}))}}class wre extends at{constructor(e){super("w:highlightCs"),this.root.push(new kr({val:e}))}}const jre=t=>new Qi({name:"w:lang",attributes:{value:{key:"w:val",value:t.value},eastAsia:{key:"w:eastAsia",value:t.eastAsia},bidirectional:{key:"w:bidi",value:t.bidirectional}}});class C5 extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{ascii:"w:ascii",cs:"w:cs",eastAsia:"w:eastAsia",hAnsi:"w:hAnsi",hint:"w:hint"})}}class Bj extends at{constructor(e,r){if(super("w:rFonts"),typeof e=="string"){const n=e;this.root.push(new C5({ascii:n,cs:n,eastAsia:n,hAnsi:n,hint:r}))}else{const n=e;this.root.push(new C5(n))}}}let Z8=class extends at{constructor(e){super("w:vertAlign"),this.root.push(new kr({val:e}))}};class _re extends Z8{constructor(){super("superscript")}}class Nre extends Z8{constructor(){super("subscript")}}const Q8={SINGLE:"single"};class Sre extends at{constructor(e=Q8.SINGLE,r){super("w:u"),this.root.push(new kr({val:e,color:r===void 0?void 0:Zu(r)}))}}class Ed extends ny{constructor(e){var r,n;if(super("w:rPr"),!e)return;e.style&&this.push(new zu("w:rStyle",e.style)),e.font&&(typeof e.font=="string"?this.push(new Bj(e.font)):"name"in e.font?this.push(new Bj(e.font.name,e.font.hint)):this.push(new Bj(e.font))),e.bold!==void 0&&this.push(new it("w:b",e.bold)),(e.boldComplexScript===void 0&&e.bold!==void 0||e.boldComplexScript)&&this.push(new it("w:bCs",(r=e.boldComplexScript)!=null?r:e.bold)),e.italics!==void 0&&this.push(new it("w:i",e.italics)),(e.italicsComplexScript===void 0&&e.italics!==void 0||e.italicsComplexScript)&&this.push(new it("w:iCs",(n=e.italicsComplexScript)!=null?n:e.italics)),e.smallCaps!==void 0?this.push(new it("w:smallCaps",e.smallCaps)):e.allCaps!==void 0&&this.push(new it("w:caps",e.allCaps)),e.strike!==void 0&&this.push(new it("w:strike",e.strike)),e.doubleStrike!==void 0&&this.push(new it("w:dstrike",e.doubleStrike)),e.emboss!==void 0&&this.push(new it("w:emboss",e.emboss)),e.imprint!==void 0&&this.push(new it("w:imprint",e.imprint)),e.noProof!==void 0&&this.push(new it("w:noProof",e.noProof)),e.snapToGrid!==void 0&&this.push(new it("w:snapToGrid",e.snapToGrid)),e.vanish&&this.push(new it("w:vanish",e.vanish)),e.color&&this.push(new bre(e.color)),e.characterSpacing&&this.push(new yre(e.characterSpacing)),e.scale!==void 0&&this.push(new Jf("w:w",e.scale)),e.kern&&this.push(new Fj("w:kern",e.kern)),e.position&&this.push(new zu("w:position",e.position)),e.size!==void 0&&this.push(new Fj("w:sz",e.size));const a=e.sizeComplexScript===void 0||e.sizeComplexScript===!0?e.size:e.sizeComplexScript;a&&this.push(new Fj("w:szCs",a)),e.highlight&&this.push(new vre(e.highlight));const i=e.highlightComplexScript===void 0||e.highlightComplexScript===!0?e.highlight:e.highlightComplexScript;i&&this.push(new wre(i)),e.underline&&this.push(new Sre(e.underline.type,e.underline.color)),e.effect&&this.push(new zu("w:effect",e.effect)),e.border&&this.push(new ur("w:bdr",e.border)),e.shading&&this.push(new X8(e.shading)),e.subScript&&this.push(new Nre),e.superScript&&this.push(new _re),e.rightToLeft!==void 0&&this.push(new it("w:rtl",e.rightToLeft)),e.emphasisMark&&this.push(new xre(e.emphasisMark.type)),e.language&&this.push(jre(e.language)),e.specVanish&&this.push(new it("w:specVanish",e.vanish)),e.math&&this.push(new it("w:oMath",e.math)),e.revision&&this.push(new Cre(e.revision))}push(e){this.root.push(e)}}class Cre extends at{constructor(e){super("w:rPrChange"),this.root.push(new mre({id:e.id,author:e.author,date:e.date})),this.addChildElement(new Ed(e))}}class k5 extends at{constructor(e){var r;super("w:t"),typeof e=="string"?(this.root.push(new Ju({space:Qu.PRESERVE})),this.root.push(e)):(this.root.push(new Ju({space:(r=e.space)!=null?r:Qu.DEFAULT})),this.root.push(e.text))}}const $g={CURRENT:"CURRENT",TOTAL_PAGES:"TOTAL_PAGES",TOTAL_PAGES_IN_SECTION:"TOTAL_PAGES_IN_SECTION",CURRENT_SECTION:"SECTION"};class dy extends at{constructor(e){if(super("w:r"),tt(this,"properties"),this.properties=new Ed(e),this.root.push(this.properties),e.break)for(let r=0;r<e.break;r++)this.root.push(new lre);if(e.children)for(const r of e.children){if(typeof r=="string"){switch(r){case $g.CURRENT:this.root.push(new Ig),this.root.push(new cre),this.root.push(new zg),this.root.push(new Ug);break;case $g.TOTAL_PAGES:this.root.push(new Ig),this.root.push(new dre),this.root.push(new zg),this.root.push(new Ug);break;case $g.TOTAL_PAGES_IN_SECTION:this.root.push(new Ig),this.root.push(new ure),this.root.push(new zg),this.root.push(new Ug);break;case $g.CURRENT_SECTION:this.root.push(new Ig),this.root.push(new hre),this.root.push(new zg),this.root.push(new Ug);break;default:this.root.push(new k5(r));break}continue}this.root.push(r)}else e.text!==void 0&&this.root.push(new k5(e.text))}}class i0 extends dy{constructor(e){super(typeof e=="string"?{text:e}:e)}}var Ij={},Is={},zj,A5;function Ym(){if(A5)return zj;A5=1,zj=t;function t(e,r){if(!e)throw new Error(r||"Assertion failed")}return t.equal=function(r,n,a){if(r!=n)throw new Error(a||"Assertion failed: "+r+" != "+n)},zj}var E5;function eo(){if(E5)return Is;E5=1;var t=Ym(),e=lc();Is.inherits=e;function r(L,Z){return(L.charCodeAt(Z)&64512)!==55296||Z<0||Z+1>=L.length?!1:(L.charCodeAt(Z+1)&64512)===56320}function n(L,Z){if(Array.isArray(L))return L.slice();if(!L)return[];var O=[];if(typeof L=="string")if(Z){if(Z==="hex")for(L=L.replace(/[^a-z0-9]+/ig,""),L.length%2!==0&&(L="0"+L),K=0;K<L.length;K+=2)O.push(parseInt(L[K]+L[K+1],16))}else for(var se=0,K=0;K<L.length;K++){var M=L.charCodeAt(K);M<128?O[se++]=M:M<2048?(O[se++]=M>>6|192,O[se++]=M&63|128):r(L,K)?(M=65536+((M&1023)<<10)+(L.charCodeAt(++K)&1023),O[se++]=M>>18|240,O[se++]=M>>12&63|128,O[se++]=M>>6&63|128,O[se++]=M&63|128):(O[se++]=M>>12|224,O[se++]=M>>6&63|128,O[se++]=M&63|128)}else for(K=0;K<L.length;K++)O[K]=L[K]|0;return O}Is.toArray=n;function a(L){for(var Z="",O=0;O<L.length;O++)Z+=c(L[O].toString(16));return Z}Is.toHex=a;function i(L){var Z=L>>>24|L>>>8&65280|L<<8&16711680|(L&255)<<24;return Z>>>0}Is.htonl=i;function o(L,Z){for(var O="",se=0;se<L.length;se++){var K=L[se];Z==="little"&&(K=i(K)),O+=d(K.toString(16))}return O}Is.toHex32=o;function c(L){return L.length===1?"0"+L:L}Is.zero2=c;function d(L){return L.length===7?"0"+L:L.length===6?"00"+L:L.length===5?"000"+L:L.length===4?"0000"+L:L.length===3?"00000"+L:L.length===2?"000000"+L:L.length===1?"0000000"+L:L}Is.zero8=d;function h(L,Z,O,se){var K=O-Z;t(K%4===0);for(var M=new Array(K/4),X=0,$=Z;X<M.length;X++,$+=4){var oe;se==="big"?oe=L[$]<<24|L[$+1]<<16|L[$+2]<<8|L[$+3]:oe=L[$+3]<<24|L[$+2]<<16|L[$+1]<<8|L[$],M[X]=oe>>>0}return M}Is.join32=h;function m(L,Z){for(var O=new Array(L.length*4),se=0,K=0;se<L.length;se++,K+=4){var M=L[se];Z==="big"?(O[K]=M>>>24,O[K+1]=M>>>16&255,O[K+2]=M>>>8&255,O[K+3]=M&255):(O[K+3]=M>>>24,O[K+2]=M>>>16&255,O[K+1]=M>>>8&255,O[K]=M&255)}return O}Is.split32=m;function f(L,Z){return L>>>Z|L<<32-Z}Is.rotr32=f;function g(L,Z){return L<<Z|L>>>32-Z}Is.rotl32=g;function y(L,Z){return L+Z>>>0}Is.sum32=y;function v(L,Z,O){return L+Z+O>>>0}Is.sum32_3=v;function w(L,Z,O,se){return L+Z+O+se>>>0}Is.sum32_4=w;function j(L,Z,O,se,K){return L+Z+O+se+K>>>0}Is.sum32_5=j;function b(L,Z,O,se){var K=L[Z],M=L[Z+1],X=se+M>>>0,$=(X<se?1:0)+O+K;L[Z]=$>>>0,L[Z+1]=X}Is.sum64=b;function N(L,Z,O,se){var K=Z+se>>>0,M=(K<Z?1:0)+L+O;return M>>>0}Is.sum64_hi=N;function k(L,Z,O,se){var K=Z+se;return K>>>0}Is.sum64_lo=k;function S(L,Z,O,se,K,M,X,$){var oe=0,q=Z;q=q+se>>>0,oe+=q<Z?1:0,q=q+M>>>0,oe+=q<M?1:0,q=q+$>>>0,oe+=q<$?1:0;var Y=L+O+K+X+oe;return Y>>>0}Is.sum64_4_hi=S;function C(L,Z,O,se,K,M,X,$){var oe=Z+se+M+$;return oe>>>0}Is.sum64_4_lo=C;function B(L,Z,O,se,K,M,X,$,oe,q){var Y=0,ce=Z;ce=ce+se>>>0,Y+=ce<Z?1:0,ce=ce+M>>>0,Y+=ce<M?1:0,ce=ce+$>>>0,Y+=ce<$?1:0,ce=ce+q>>>0,Y+=ce<q?1:0;var le=L+O+K+X+oe+Y;return le>>>0}Is.sum64_5_hi=B;function E(L,Z,O,se,K,M,X,$,oe,q){var Y=Z+se+M+$+q;return Y>>>0}Is.sum64_5_lo=E;function z(L,Z,O){var se=Z<<32-O|L>>>O;return se>>>0}Is.rotr64_hi=z;function T(L,Z,O){var se=L<<32-O|Z>>>O;return se>>>0}Is.rotr64_lo=T;function W(L,Z,O){return L>>>O}Is.shr64_hi=W;function U(L,Z,O){var se=L<<32-O|Z>>>O;return se>>>0}return Is.shr64_lo=U,Is}var Uj={},T5;function Km(){if(T5)return Uj;T5=1;var t=eo(),e=Ym();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return Uj.BlockHash=r,r.prototype.update=function(a,i){if(a=t.toArray(a,i),this.pending?this.pending=this.pending.concat(a):this.pending=a,this.pendingTotal+=a.length,this.pending.length>=this._delta8){a=this.pending;var o=a.length%this._delta8;this.pending=a.slice(a.length-o,a.length),this.pending.length===0&&(this.pending=null),a=t.join32(a,0,a.length-o,this.endian);for(var c=0;c<a.length;c+=this._delta32)this._update(a,c,c+this._delta32)}return this},r.prototype.digest=function(a){return this.update(this._pad()),e(this.pending===null),this._digest(a)},r.prototype._pad=function(){var a=this.pendingTotal,i=this._delta8,o=i-(a+this.padLength)%i,c=new Array(o+this.padLength);c[0]=128;for(var d=1;d<o;d++)c[d]=0;if(a<<=3,this.endian==="big"){for(var h=8;h<this.padLength;h++)c[d++]=0;c[d++]=0,c[d++]=0,c[d++]=0,c[d++]=0,c[d++]=a>>>24&255,c[d++]=a>>>16&255,c[d++]=a>>>8&255,c[d++]=a&255}else for(c[d++]=a&255,c[d++]=a>>>8&255,c[d++]=a>>>16&255,c[d++]=a>>>24&255,c[d++]=0,c[d++]=0,c[d++]=0,c[d++]=0,h=8;h<this.padLength;h++)c[d++]=0;return c},Uj}var Uc={},Ti={},R5;function J8(){if(R5)return Ti;R5=1;var t=eo(),e=t.rotr32;function r(m,f,g,y){if(m===0)return n(f,g,y);if(m===1||m===3)return i(f,g,y);if(m===2)return a(f,g,y)}Ti.ft_1=r;function n(m,f,g){return m&f^~m&g}Ti.ch32=n;function a(m,f,g){return m&f^m&g^f&g}Ti.maj32=a;function i(m,f,g){return m^f^g}Ti.p32=i;function o(m){return e(m,2)^e(m,13)^e(m,22)}Ti.s0_256=o;function c(m){return e(m,6)^e(m,11)^e(m,25)}Ti.s1_256=c;function d(m){return e(m,7)^e(m,18)^m>>>3}Ti.g0_256=d;function h(m){return e(m,17)^e(m,19)^m>>>10}return Ti.g1_256=h,Ti}var $j,D5;function kre(){if(D5)return $j;D5=1;var t=eo(),e=Km(),r=J8(),n=t.rotl32,a=t.sum32,i=t.sum32_5,o=r.ft_1,c=e.BlockHash,d=[1518500249,1859775393,2400959708,3395469782];function h(){if(!(this instanceof h))return new h;c.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return t.inherits(h,c),$j=h,h.blockSize=512,h.outSize=160,h.hmacStrength=80,h.padLength=64,h.prototype._update=function(f,g){for(var y=this.W,v=0;v<16;v++)y[v]=f[g+v];for(;v<y.length;v++)y[v]=n(y[v-3]^y[v-8]^y[v-14]^y[v-16],1);var w=this.h[0],j=this.h[1],b=this.h[2],N=this.h[3],k=this.h[4];for(v=0;v<y.length;v++){var S=~~(v/20),C=i(n(w,5),o(S,j,b,N),k,y[v],d[S]);k=N,N=b,b=n(j,30),j=w,w=C}this.h[0]=a(this.h[0],w),this.h[1]=a(this.h[1],j),this.h[2]=a(this.h[2],b),this.h[3]=a(this.h[3],N),this.h[4]=a(this.h[4],k)},h.prototype._digest=function(f){return f==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},$j}var Vj,M5;function eL(){if(M5)return Vj;M5=1;var t=eo(),e=Km(),r=J8(),n=Ym(),a=t.sum32,i=t.sum32_4,o=t.sum32_5,c=r.ch32,d=r.maj32,h=r.s0_256,m=r.s1_256,f=r.g0_256,g=r.g1_256,y=e.BlockHash,v=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function w(){if(!(this instanceof w))return new w;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=v,this.W=new Array(64)}return t.inherits(w,y),Vj=w,w.blockSize=512,w.outSize=256,w.hmacStrength=192,w.padLength=64,w.prototype._update=function(b,N){for(var k=this.W,S=0;S<16;S++)k[S]=b[N+S];for(;S<k.length;S++)k[S]=i(g(k[S-2]),k[S-7],f(k[S-15]),k[S-16]);var C=this.h[0],B=this.h[1],E=this.h[2],z=this.h[3],T=this.h[4],W=this.h[5],U=this.h[6],L=this.h[7];for(n(this.k.length===k.length),S=0;S<k.length;S++){var Z=o(L,m(T),c(T,W,U),this.k[S],k[S]),O=a(h(C),d(C,B,E));L=U,U=W,W=T,T=a(z,Z),z=E,E=B,B=C,C=a(Z,O)}this.h[0]=a(this.h[0],C),this.h[1]=a(this.h[1],B),this.h[2]=a(this.h[2],E),this.h[3]=a(this.h[3],z),this.h[4]=a(this.h[4],T),this.h[5]=a(this.h[5],W),this.h[6]=a(this.h[6],U),this.h[7]=a(this.h[7],L)},w.prototype._digest=function(b){return b==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},Vj}var Hj,P5;function Are(){if(P5)return Hj;P5=1;var t=eo(),e=eL();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return t.inherits(r,e),Hj=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(a){return a==="hex"?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")},Hj}var qj,O5;function tL(){if(O5)return qj;O5=1;var t=eo(),e=Km(),r=Ym(),n=t.rotr64_hi,a=t.rotr64_lo,i=t.shr64_hi,o=t.shr64_lo,c=t.sum64,d=t.sum64_hi,h=t.sum64_lo,m=t.sum64_4_hi,f=t.sum64_4_lo,g=t.sum64_5_hi,y=t.sum64_5_lo,v=e.BlockHash,w=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function j(){if(!(this instanceof j))return new j;v.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=w,this.W=new Array(160)}t.inherits(j,v),qj=j,j.blockSize=1024,j.outSize=512,j.hmacStrength=192,j.padLength=128,j.prototype._prepareBlock=function(O,se){for(var K=this.W,M=0;M<32;M++)K[M]=O[se+M];for(;M<K.length;M+=2){var X=U(K[M-4],K[M-3]),$=L(K[M-4],K[M-3]),oe=K[M-14],q=K[M-13],Y=T(K[M-30],K[M-29]),ce=W(K[M-30],K[M-29]),le=K[M-32],be=K[M-31];K[M]=m(X,$,oe,q,Y,ce,le,be),K[M+1]=f(X,$,oe,q,Y,ce,le,be)}},j.prototype._update=function(O,se){this._prepareBlock(O,se);var K=this.W,M=this.h[0],X=this.h[1],$=this.h[2],oe=this.h[3],q=this.h[4],Y=this.h[5],ce=this.h[6],le=this.h[7],be=this.h[8],ge=this.h[9],V=this.h[10],H=this.h[11],me=this.h[12],Q=this.h[13],te=this.h[14],ee=this.h[15];r(this.k.length===K.length);for(var Ce=0;Ce<K.length;Ce+=2){var F=te,Ee=ee,J=E(be,ge),R=z(be,ge),P=b(be,ge,V,H,me),G=N(be,ge,V,H,me,Q),we=this.k[Ce],de=this.k[Ce+1],he=K[Ce],xe=K[Ce+1],Me=g(F,Ee,J,R,P,G,we,de,he,xe),Re=y(F,Ee,J,R,P,G,we,de,he,xe);F=C(M,X),Ee=B(M,X),J=k(M,X,$,oe,q),R=S(M,X,$,oe,q,Y);var $e=d(F,Ee,J,R),Je=h(F,Ee,J,R);te=me,ee=Q,me=V,Q=H,V=be,H=ge,be=d(ce,le,Me,Re),ge=h(le,le,Me,Re),ce=q,le=Y,q=$,Y=oe,$=M,oe=X,M=d(Me,Re,$e,Je),X=h(Me,Re,$e,Je)}c(this.h,0,M,X),c(this.h,2,$,oe),c(this.h,4,q,Y),c(this.h,6,ce,le),c(this.h,8,be,ge),c(this.h,10,V,H),c(this.h,12,me,Q),c(this.h,14,te,ee)},j.prototype._digest=function(O){return O==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")};function b(Z,O,se,K,M){var X=Z&se^~Z&M;return X<0&&(X+=4294967296),X}function N(Z,O,se,K,M,X){var $=O&K^~O&X;return $<0&&($+=4294967296),$}function k(Z,O,se,K,M){var X=Z&se^Z&M^se&M;return X<0&&(X+=4294967296),X}function S(Z,O,se,K,M,X){var $=O&K^O&X^K&X;return $<0&&($+=4294967296),$}function C(Z,O){var se=n(Z,O,28),K=n(O,Z,2),M=n(O,Z,7),X=se^K^M;return X<0&&(X+=4294967296),X}function B(Z,O){var se=a(Z,O,28),K=a(O,Z,2),M=a(O,Z,7),X=se^K^M;return X<0&&(X+=4294967296),X}function E(Z,O){var se=n(Z,O,14),K=n(Z,O,18),M=n(O,Z,9),X=se^K^M;return X<0&&(X+=4294967296),X}function z(Z,O){var se=a(Z,O,14),K=a(Z,O,18),M=a(O,Z,9),X=se^K^M;return X<0&&(X+=4294967296),X}function T(Z,O){var se=n(Z,O,1),K=n(Z,O,8),M=i(Z,O,7),X=se^K^M;return X<0&&(X+=4294967296),X}function W(Z,O){var se=a(Z,O,1),K=a(Z,O,8),M=o(Z,O,7),X=se^K^M;return X<0&&(X+=4294967296),X}function U(Z,O){var se=n(Z,O,19),K=n(O,Z,29),M=i(Z,O,6),X=se^K^M;return X<0&&(X+=4294967296),X}function L(Z,O){var se=a(Z,O,19),K=a(O,Z,29),M=o(Z,O,6),X=se^K^M;return X<0&&(X+=4294967296),X}return qj}var Wj,L5;function Ere(){if(L5)return Wj;L5=1;var t=eo(),e=tL();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return t.inherits(r,e),Wj=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(a){return a==="hex"?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")},Wj}var F5;function Tre(){return F5||(F5=1,Uc.sha1=kre(),Uc.sha224=Are(),Uc.sha256=eL(),Uc.sha384=Ere(),Uc.sha512=tL()),Uc}var Gj={},B5;function Rre(){if(B5)return Gj;B5=1;var t=eo(),e=Km(),r=t.rotl32,n=t.sum32,a=t.sum32_3,i=t.sum32_4,o=e.BlockHash;function c(){if(!(this instanceof c))return new c;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}t.inherits(c,o),Gj.ripemd160=c,c.blockSize=512,c.outSize=160,c.hmacStrength=192,c.padLength=64,c.prototype._update=function(j,b){for(var N=this.h[0],k=this.h[1],S=this.h[2],C=this.h[3],B=this.h[4],E=N,z=k,T=S,W=C,U=B,L=0;L<80;L++){var Z=n(r(i(N,d(L,k,S,C),j[f[L]+b],h(L)),y[L]),B);N=B,B=C,C=r(S,10),S=k,k=Z,Z=n(r(i(E,d(79-L,z,T,W),j[g[L]+b],m(L)),v[L]),U),E=U,U=W,W=r(T,10),T=z,z=Z}Z=a(this.h[1],S,W),this.h[1]=a(this.h[2],C,U),this.h[2]=a(this.h[3],B,E),this.h[3]=a(this.h[4],N,z),this.h[4]=a(this.h[0],k,T),this.h[0]=Z},c.prototype._digest=function(j){return j==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function d(w,j,b,N){return w<=15?j^b^N:w<=31?j&b|~j&N:w<=47?(j|~b)^N:w<=63?j&N|b&~N:j^(b|~N)}function h(w){return w<=15?0:w<=31?1518500249:w<=47?1859775393:w<=63?2400959708:2840853838}function m(w){return w<=15?1352829926:w<=31?1548603684:w<=47?1836072691:w<=63?2053994217:0}var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return Gj}var Yj,I5;function Dre(){if(I5)return Yj;I5=1;var t=eo(),e=Ym();function r(n,a,i){if(!(this instanceof r))return new r(n,a,i);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(a,i))}return Yj=r,r.prototype._init=function(a){a.length>this.blockSize&&(a=new this.Hash().update(a).digest()),e(a.length<=this.blockSize);for(var i=a.length;i<this.blockSize;i++)a.push(0);for(i=0;i<a.length;i++)a[i]^=54;for(this.inner=new this.Hash().update(a),i=0;i<a.length;i++)a[i]^=106;this.outer=new this.Hash().update(a)},r.prototype.update=function(a,i){return this.inner.update(a,i),this},r.prototype.digest=function(a){return this.outer.update(this.inner.digest()),this.outer.digest(a)},Yj}var z5;function Mre(){return z5||(z5=1,(function(t){var e=t;e.utils=eo(),e.common=Km(),e.sha=Tre(),e.ripemd=Rre(),e.hmac=Dre(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(Ij)),Ij}Mre();let Pre="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict",Ore=(t,e=21)=>(r=e)=>{let n="",a=r|0;for(;a--;)n+=t[Math.random()*t.length|0];return n},Lre=(t=21)=>{let e="",r=t|0;for(;r--;)e+=Pre[Math.random()*64|0];return e};const si=t=>Math.floor(t*72*20),w2=(t=0)=>{let e=t;return()=>++e},Fre=()=>w2(),Bre=()=>w2(1),Ire=()=>w2(),zre=()=>Lre().toLowerCase(),Rf=t=>Ore("1234567890abcdef",t)(),Ure=()=>`${Rf(8)}-${Rf(4)}-${Rf(4)}-${Rf(4)}-${Rf(12)}`;class $re extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{xmlns:"xmlns"})}}class Vre extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{id:"Id",type:"Type",target:"Target",targetMode:"TargetMode"})}}const Hre={EXTERNAL:"External"};class qre extends at{constructor(e,r,n,a){super("Relationship"),this.root.push(new Vre({id:e,type:r,target:n,targetMode:a}))}}class Td extends at{constructor(){super("Relationships"),this.root.push(new $re({xmlns:"http://schemas.openxmlformats.org/package/2006/relationships"}))}createRelationship(e,r,n,a){const i=new qre(`rId${e}`,r,n,a);return this.root.push(i),i}get RelationshipCount(){return this.root.length-1}}class Wre extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{id:"w:id",initials:"w:initials",author:"w:author",date:"w:date"})}}class Gre extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{"xmlns:cx":"xmlns:cx","xmlns:cx1":"xmlns:cx1","xmlns:cx2":"xmlns:cx2","xmlns:cx3":"xmlns:cx3","xmlns:cx4":"xmlns:cx4","xmlns:cx5":"xmlns:cx5","xmlns:cx6":"xmlns:cx6","xmlns:cx7":"xmlns:cx7","xmlns:cx8":"xmlns:cx8","xmlns:mc":"xmlns:mc","xmlns:aink":"xmlns:aink","xmlns:am3d":"xmlns:am3d","xmlns:o":"xmlns:o","xmlns:r":"xmlns:r","xmlns:m":"xmlns:m","xmlns:v":"xmlns:v","xmlns:wp14":"xmlns:wp14","xmlns:wp":"xmlns:wp","xmlns:w10":"xmlns:w10","xmlns:w":"xmlns:w","xmlns:w14":"xmlns:w14","xmlns:w15":"xmlns:w15","xmlns:w16cex":"xmlns:w16cex","xmlns:w16cid":"xmlns:w16cid","xmlns:w16":"xmlns:w16","xmlns:w16sdtdh":"xmlns:w16sdtdh","xmlns:w16se":"xmlns:w16se","xmlns:wpg":"xmlns:wpg","xmlns:wpi":"xmlns:wpi","xmlns:wne":"xmlns:wne","xmlns:wps":"xmlns:wps"})}}class Yre extends at{constructor({id:e,initials:r,author:n,date:a=new Date,children:i}){super("w:comment"),this.root.push(new Wre({id:e,initials:r,author:n,date:a.toISOString()}));for(const o of i)this.root.push(o)}}class Kre extends at{constructor({children:e}){super("w:comments"),tt(this,"relationships"),this.root.push(new Gre({"xmlns:cx":"http://schemas.microsoft.com/office/drawing/2014/chartex","xmlns:cx1":"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex","xmlns:cx2":"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex","xmlns:cx3":"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex","xmlns:cx4":"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex","xmlns:cx5":"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex","xmlns:cx6":"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex","xmlns:cx7":"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex","xmlns:cx8":"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex","xmlns:mc":"http://schemas.openxmlformats.org/markup-compatibility/2006","xmlns:aink":"http://schemas.microsoft.com/office/drawing/2016/ink","xmlns:am3d":"http://schemas.microsoft.com/office/drawing/2017/model3d","xmlns:o":"urn:schemas-microsoft-com:office:office","xmlns:r":"http://schemas.openxmlformats.org/officeDocument/2006/relationships","xmlns:m":"http://schemas.openxmlformats.org/officeDocument/2006/math","xmlns:v":"urn:schemas-microsoft-com:vml","xmlns:wp14":"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing","xmlns:wp":"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing","xmlns:w10":"urn:schemas-microsoft-com:office:word","xmlns:w":"http://schemas.openxmlformats.org/wordprocessingml/2006/main","xmlns:w14":"http://schemas.microsoft.com/office/word/2010/wordml","xmlns:w15":"http://schemas.microsoft.com/office/word/2012/wordml","xmlns:w16cex":"http://schemas.microsoft.com/office/word/2018/wordml/cex","xmlns:w16cid":"http://schemas.microsoft.com/office/word/2016/wordml/cid","xmlns:w16":"http://schemas.microsoft.com/office/word/2018/wordml","xmlns:w16sdtdh":"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash","xmlns:w16se":"http://schemas.microsoft.com/office/word/2015/wordml/symex","xmlns:wpg":"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup","xmlns:wpi":"http://schemas.microsoft.com/office/word/2010/wordprocessingInk","xmlns:wne":"http://schemas.microsoft.com/office/word/2006/wordml","xmlns:wps":"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}));for(const r of e)this.root.push(new Yre(r));this.relationships=new Td}get Relationships(){return this.relationships}}class Xre extends at{constructor(){super("w:pageBreakBefore")}}const A_={AUTO:"auto"};class Zre extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{after:"w:after",before:"w:before",line:"w:line",lineRule:"w:lineRule",beforeAutoSpacing:"w:beforeAutospacing",afterAutoSpacing:"w:afterAutospacing"})}}class Qre extends at{constructor(e){super("w:spacing"),this.root.push(new Zre(e))}}const sL={HEADING_2:"Heading2",TITLE:"Title"};let Vg=class extends at{constructor(e){super("w:pStyle"),this.root.push(new kr({val:e}))}};class Jre extends at{constructor(e){super("w:tabs");for(const r of e)this.root.push(new tne(r))}}const U5={LEFT:"left",RIGHT:"right"};class ene extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{val:"w:val",pos:"w:pos",leader:"w:leader"})}}class tne extends at{constructor({type:e,position:r,leader:n}){super("w:tab"),this.root.push(new ene({val:e,pos:r,leader:n}))}}class Kj extends at{constructor(e,r){super("w:numPr"),this.root.push(new sne(r)),this.root.push(new rne(e))}}class sne extends at{constructor(e){if(super("w:ilvl"),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new kr({val:e}))}}class rne extends at{constructor(e){super("w:numId"),this.root.push(new kr({val:typeof e=="string"?`{${e}}`:e}))}}class nne extends at{constructor(){super(...arguments),tt(this,"fileChild",Symbol())}}class ane extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{id:"r:id",history:"w:history",anchor:"w:anchor"})}}class ine extends at{constructor(e,r,n){super("w:hyperlink"),tt(this,"linkId"),this.linkId=r;const a={history:1,anchor:n||void 0,id:n?void 0:`rId${this.linkId}`},i=new ane(a);this.root.push(i),e.forEach(o=>{this.root.push(o)})}}class one extends at{constructor(e){super("w:externalHyperlink"),this.options=e}}class lne extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{id:"w:id",name:"w:name"})}}class cne extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{id:"w:id"})}}class dne{constructor(e){tt(this,"bookmarkUniqueNumericId",Ire()),tt(this,"start"),tt(this,"children"),tt(this,"end");const r=this.bookmarkUniqueNumericId();this.start=new une(e.id,r),this.children=e.children,this.end=new hne(r)}}class une extends at{constructor(e,r){super("w:bookmarkStart");const n=new lne({name:e,id:r});this.root.push(n)}}class hne extends at{constructor(e){super("w:bookmarkEnd");const r=new cne({id:e});this.root.push(r)}}class fne extends at{constructor(e){super("w:outlineLvl"),this.level=e,this.root.push(new kr({val:e}))}}const mne={TOP:"top",CENTER:"center",BOTTOM:"bottom"};Ku(xs({},mne),{BOTH:"both"});class pne extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{verticalAlign:"w:val"})}}class gne extends at{constructor(e){super("w:vAlign"),this.root.push(new pne({verticalAlign:e}))}}class xne extends at{constructor({space:e,count:r,separate:n,equalWidth:a,children:i}){super("w:cols"),this.root.push(new ay({space:{key:"w:space",value:e===void 0?void 0:oi(e)},count:{key:"w:num",value:r===void 0?void 0:Jn(r)},separate:{key:"w:sep",value:n},equalWidth:{key:"w:equalWidth",value:a}})),!a&&i&&i.forEach(o=>this.addChildElement(o))}}const yne=({type:t,linePitch:e,charSpace:r})=>new Qi({name:"w:docGrid",attributes:{type:{key:"w:type",value:t},linePitch:{key:"w:linePitch",value:Jn(e)},charSpace:{key:"w:charSpace",value:r?Jn(r):void 0}}}),Uu={DEFAULT:"default",FIRST:"first",EVEN:"even"};class bne extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{type:"w:type",id:"r:id"})}}const $5={HEADER:"w:headerReference",FOOTER:"w:footerReference"};class Xj extends at{constructor(e,r){super(e),this.root.push(new bne({type:r.type||Uu.DEFAULT,id:`rId${r.id}`}))}}const vne=({countBy:t,start:e,restart:r,distance:n})=>new Qi({name:"w:lnNumType",attributes:{countBy:{key:"w:countBy",value:t===void 0?void 0:Jn(t)},start:{key:"w:start",value:e===void 0?void 0:Jn(e)},restart:{key:"w:restart",value:r},distance:{key:"w:distance",value:n===void 0?void 0:oi(n)}}});class V5 extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{display:"w:display",offsetFrom:"w:offsetFrom",zOrder:"w:zOrder"})}}class wne extends ny{constructor(e){if(super("w:pgBorders"),!e)return this;e.pageBorders?this.root.push(new V5({display:e.pageBorders.display,offsetFrom:e.pageBorders.offsetFrom,zOrder:e.pageBorders.zOrder})):this.root.push(new V5({})),e.pageBorderTop&&this.root.push(new ur("w:top",e.pageBorderTop)),e.pageBorderLeft&&this.root.push(new ur("w:left",e.pageBorderLeft)),e.pageBorderBottom&&this.root.push(new ur("w:bottom",e.pageBorderBottom)),e.pageBorderRight&&this.root.push(new ur("w:right",e.pageBorderRight))}}class jne extends at{constructor(e,r,n,a,i,o,c){super("w:pgMar"),this.root.push(new ay({top:{key:"w:top",value:cd(e)},right:{key:"w:right",value:oi(r)},bottom:{key:"w:bottom",value:cd(n)},left:{key:"w:left",value:oi(a)},header:{key:"w:header",value:oi(i)},footer:{key:"w:footer",value:oi(o)},gutter:{key:"w:gutter",value:oi(c)}}))}}class _ne extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{start:"w:start",formatType:"w:fmt",separator:"w:chapSep"})}}class Nne extends at{constructor({start:e,formatType:r,separator:n}){super("w:pgNumType"),this.root.push(new _ne({start:e===void 0?void 0:Jn(e),formatType:r,separator:n}))}}const E_={PORTRAIT:"portrait",LANDSCAPE:"landscape"},Sne=({width:t,height:e,orientation:r,code:n})=>{const a=oi(t),i=oi(e);return new Qi({name:"w:pgSz",attributes:{width:{key:"w:w",value:r===E_.LANDSCAPE?i:a},height:{key:"w:h",value:r===E_.LANDSCAPE?a:i},orientation:{key:"w:orient",value:r},code:{key:"w:code",value:n}}})};class Cne extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{val:"w:val"})}}class kne extends at{constructor(e){super("w:textDirection"),this.root.push(new Cne({val:e}))}}class Ane extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{val:"w:val"})}}class Ene extends at{constructor(e){super("w:type"),this.root.push(new Ane({val:e}))}}const $c={TOP:1440,RIGHT:1440,BOTTOM:1440,LEFT:1440,HEADER:708,FOOTER:708,GUTTER:0},Zj={WIDTH:11906,HEIGHT:16838,ORIENTATION:E_.PORTRAIT};class Tne extends at{constructor({page:{size:{width:e=Zj.WIDTH,height:r=Zj.HEIGHT,orientation:n=Zj.ORIENTATION}={},margin:{top:a=$c.TOP,right:i=$c.RIGHT,bottom:o=$c.BOTTOM,left:c=$c.LEFT,header:d=$c.HEADER,footer:h=$c.FOOTER,gutter:m=$c.GUTTER}={},pageNumbers:f={},borders:g,textDirection:y}={},grid:{linePitch:v=360,charSpace:w,type:j}={},headerWrapperGroup:b={},footerWrapperGroup:N={},lineNumbers:k,titlePage:S,verticalAlign:C,column:B,type:E}={}){super("w:sectPr"),this.addHeaderFooterGroup($5.HEADER,b),this.addHeaderFooterGroup($5.FOOTER,N),E&&this.root.push(new Ene(E)),this.root.push(Sne({width:e,height:r,orientation:n})),this.root.push(new jne(a,i,o,c,d,h,m)),g&&this.root.push(new wne(g)),k&&this.root.push(vne(k)),this.root.push(new Nne(f)),B&&this.root.push(new xne(B)),C&&this.root.push(new gne(C)),S!==void 0&&this.root.push(new it("w:titlePg",S)),y&&this.root.push(new kne(y)),this.root.push(yne({linePitch:v,charSpace:w,type:j}))}addHeaderFooterGroup(e,r){r.default&&this.root.push(new Xj(e,{type:Uu.DEFAULT,id:r.default.View.ReferenceId})),r.first&&this.root.push(new Xj(e,{type:Uu.FIRST,id:r.first.View.ReferenceId})),r.even&&this.root.push(new Xj(e,{type:Uu.EVEN,id:r.even.View.ReferenceId}))}}class Rne extends at{constructor(){super("w:body"),tt(this,"sections",[])}addSection(e){const r=this.sections.pop();this.root.push(this.createSectionParagraph(r)),this.sections.push(new Tne(e))}prepForXml(e){return this.sections.length===1&&(this.root.splice(0,1),this.root.push(this.sections.pop())),super.prepForXml(e)}push(e){this.root.push(e)}createSectionParagraph(e){const r=new zs({}),n=new eh({});return n.push(e),r.addChildElement(n),r}}const H5={wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cp:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",xsi:"http://www.w3.org/2001/XMLSchema-instance",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",aink:"http://schemas.microsoft.com/office/drawing/2016/ink",am3d:"http://schemas.microsoft.com/office/drawing/2017/model3d",w16cex:"http://schemas.microsoft.com/office/word/2018/wordml/cex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16:"http://schemas.microsoft.com/office/word/2018/wordml",w16sdtdh:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"};class uy extends Vt{constructor(e,r){super(xs({Ignorable:r},Object.fromEntries(e.map(n=>[n,H5[n]])))),tt(this,"xmlKeys",xs({Ignorable:"mc:Ignorable"},Object.fromEntries(Object.keys(H5).map(n=>[n,`xmlns:${n}`]))))}}class Dne extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{color:"w:color",themeColor:"w:themeColor",themeShade:"w:themeShade",themeTint:"w:themeTint"})}}class Mne extends at{constructor(e){super("w:background"),this.root.push(new Dne({color:e.color===void 0?void 0:Zu(e.color),themeColor:e.themeColor,themeShade:e.themeShade===void 0?void 0:S5(e.themeShade),themeTint:e.themeTint===void 0?void 0:S5(e.themeTint)}))}}class Pne extends at{constructor(e){super("w:document"),tt(this,"body"),this.root.push(new uy(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps","cx","cx1","cx2","cx3","cx4","cx5","cx6","cx7","cx8","aink","am3d","w16cex","w16cid","w16","w16sdtdh","w16se"],"w14 w15 wp14")),this.body=new Rne,e.background&&this.root.push(new Mne(e.background)),this.root.push(this.body)}add(e){return this.body.push(e),this}get Body(){return this.body}}class rL{constructor(e){tt(this,"document"),tt(this,"relationships"),this.document=new Pne(e),this.relationships=new Td}get View(){return this.document}get Relationships(){return this.relationships}}class One extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{val:"w:val"})}}class Lne extends at{constructor(){super("w:wordWrap"),this.root.push(new One({val:0}))}}const Fne=t=>{var e,r;return new Qi({name:"w:framePr",attributes:{anchorLock:{key:"w:anchorLock",value:t.anchorLock},dropCap:{key:"w:dropCap",value:t.dropCap},width:{key:"w:w",value:t.width},height:{key:"w:h",value:t.height},x:{key:"w:x",value:t.position?t.position.x:void 0},y:{key:"w:y",value:t.position?t.position.y:void 0},anchorHorizontal:{key:"w:hAnchor",value:t.anchor.horizontal},anchorVertical:{key:"w:vAnchor",value:t.anchor.vertical},spaceHorizontal:{key:"w:hSpace",value:(e=t.space)==null?void 0:e.horizontal},spaceVertical:{key:"w:vSpace",value:(r=t.space)==null?void 0:r.vertical},rule:{key:"w:hRule",value:t.rule},alignmentX:{key:"w:xAlign",value:t.alignment?t.alignment.x:void 0},alignmentY:{key:"w:yAlign",value:t.alignment?t.alignment.y:void 0},lines:{key:"w:lines",value:t.lines},wrap:{key:"w:wrap",value:t.wrap}}})};class eh extends ny{constructor(e){var r,n;if(super("w:pPr"),tt(this,"numberingReferences",[]),!e)return this;e.heading&&this.push(new Vg(e.heading)),e.bullet&&this.push(new Vg("ListParagraph")),e.numbering&&!e.style&&!e.heading&&(e.numbering.custom||this.push(new Vg("ListParagraph"))),e.style&&this.push(new Vg(e.style)),e.keepNext!==void 0&&this.push(new it("w:keepNext",e.keepNext)),e.keepLines!==void 0&&this.push(new it("w:keepLines",e.keepLines)),e.pageBreakBefore&&this.push(new Xre),e.frame&&this.push(Fne(e.frame)),e.widowControl!==void 0&&this.push(new it("w:widowControl",e.widowControl)),e.bullet&&this.push(new Kj(1,e.bullet.level)),e.numbering?(this.numberingReferences.push({reference:e.numbering.reference,instance:(r=e.numbering.instance)!=null?r:0}),this.push(new Kj(`${e.numbering.reference}-${(n=e.numbering.instance)!=null?n:0}`,e.numbering.level))):e.numbering===!1&&this.push(new Kj(0,0)),e.border&&this.push(new are(e.border)),e.thematicBreak&&this.push(new ire),e.shading&&this.push(new X8(e.shading)),e.wordWrap&&this.push(new Lne),e.overflowPunctuation&&this.push(new it("w:overflowPunct",e.overflowPunctuation));const a=[...e.rightTabStop!==void 0?[{type:U5.RIGHT,position:e.rightTabStop}]:[],...e.tabStops?e.tabStops:[],...e.leftTabStop!==void 0?[{type:U5.LEFT,position:e.leftTabStop}]:[]];a.length>0&&this.push(new Jre(a)),e.bidirectional!==void 0&&this.push(new it("w:bidi",e.bidirectional)),e.spacing&&this.push(new Qre(e.spacing)),e.indent&&this.push(new ore(e.indent)),e.contextualSpacing!==void 0&&this.push(new it("w:contextualSpacing",e.contextualSpacing)),e.alignment&&this.push(new rre(e.alignment)),e.outlineLevel!==void 0&&this.push(new fne(e.outlineLevel)),e.suppressLineNumbers!==void 0&&this.push(new it("w:suppressLineNumbers",e.suppressLineNumbers)),e.autoSpaceEastAsianText!==void 0&&this.push(new it("w:autoSpaceDN",e.autoSpaceEastAsianText)),e.run&&this.push(new Ed(e.run))}push(e){this.root.push(e)}prepForXml(e){if(e.viewWrapper instanceof rL)for(const r of this.numberingReferences)e.file.Numbering.createConcreteNumberingInstance(r.reference,r.instance);return super.prepForXml(e)}}class zs extends nne{constructor(e){if(super("w:p"),tt(this,"properties"),typeof e=="string")return this.properties=new eh({}),this.root.push(this.properties),this.root.push(new i0(e)),this;if(this.properties=new eh(e),this.root.push(this.properties),e.text&&this.root.push(new i0(e.text)),e.children)for(const r of e.children){if(r instanceof dne){this.root.push(r.start);for(const n of r.children)this.root.push(n);this.root.push(r.end);continue}this.root.push(r)}}prepForXml(e){for(const r of this.root)if(r instanceof one){const n=this.root.indexOf(r),a=new ine(r.options.children,zre());e.viewWrapper.Relationships.createRelationship(a.linkId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",r.options.link,Hre.EXTERNAL),this.root[n]=a}return super.prepForXml(e)}addRunToFront(e){return this.root.splice(1,0,e),this}}const ju={style:y2.NONE,size:0,color:"auto"},_u={style:y2.SINGLE,size:4,color:"auto"};class Bne extends at{constructor(e){super("w:tblBorders"),e.top?this.root.push(new ur("w:top",e.top)):this.root.push(new ur("w:top",_u)),e.left?this.root.push(new ur("w:left",e.left)):this.root.push(new ur("w:left",_u)),e.bottom?this.root.push(new ur("w:bottom",e.bottom)):this.root.push(new ur("w:bottom",_u)),e.right?this.root.push(new ur("w:right",e.right)):this.root.push(new ur("w:right",_u)),e.insideHorizontal?this.root.push(new ur("w:insideH",e.insideHorizontal)):this.root.push(new ur("w:insideH",_u)),e.insideVertical?this.root.push(new ur("w:insideV",e.insideVertical)):this.root.push(new ur("w:insideV",_u))}}tt(Bne,"NONE",{top:ju,bottom:ju,left:ju,right:ju,insideHorizontal:ju,insideVertical:ju});class Ine extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class zne extends at{constructor(){super("Properties"),this.root.push(new Ine({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"}))}}class Une extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{xmlns:"xmlns"})}}class $ne extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{contentType:"ContentType",extension:"Extension"})}}class Co extends at{constructor(e,r){super("Default"),this.root.push(new $ne({contentType:e,extension:r}))}}class Vne extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{contentType:"ContentType",partName:"PartName"})}}class La extends at{constructor(e,r){super("Override"),this.root.push(new Vne({contentType:e,partName:r}))}}class Hne extends at{constructor(){super("Types"),this.root.push(new Une({xmlns:"http://schemas.openxmlformats.org/package/2006/content-types"})),this.root.push(new Co("image/png","png")),this.root.push(new Co("image/jpeg","jpeg")),this.root.push(new Co("image/jpeg","jpg")),this.root.push(new Co("image/bmp","bmp")),this.root.push(new Co("image/gif","gif")),this.root.push(new Co("image/svg+xml","svg")),this.root.push(new Co("application/vnd.openxmlformats-package.relationships+xml","rels")),this.root.push(new Co("application/xml","xml")),this.root.push(new Co("application/vnd.openxmlformats-officedocument.obfuscatedFont","odttf")),this.root.push(new La("application/vnd.openxmlformats-officedocument.wordprocessingml.document.main+xml","/word/document.xml")),this.root.push(new La("application/vnd.openxmlformats-officedocument.wordprocessingml.styles+xml","/word/styles.xml")),this.root.push(new La("application/vnd.openxmlformats-package.core-properties+xml","/docProps/core.xml")),this.root.push(new La("application/vnd.openxmlformats-officedocument.custom-properties+xml","/docProps/custom.xml")),this.root.push(new La("application/vnd.openxmlformats-officedocument.extended-properties+xml","/docProps/app.xml")),this.root.push(new La("application/vnd.openxmlformats-officedocument.wordprocessingml.numbering+xml","/word/numbering.xml")),this.root.push(new La("application/vnd.openxmlformats-officedocument.wordprocessingml.footnotes+xml","/word/footnotes.xml")),this.root.push(new La("application/vnd.openxmlformats-officedocument.wordprocessingml.settings+xml","/word/settings.xml")),this.root.push(new La("application/vnd.openxmlformats-officedocument.wordprocessingml.comments+xml","/word/comments.xml")),this.root.push(new La("application/vnd.openxmlformats-officedocument.wordprocessingml.fontTable+xml","/word/fontTable.xml"))}addFooter(e){this.root.push(new La("application/vnd.openxmlformats-officedocument.wordprocessingml.footer+xml",`/word/footer${e}.xml`))}addHeader(e){this.root.push(new La("application/vnd.openxmlformats-officedocument.wordprocessingml.header+xml",`/word/header${e}.xml`))}}class qne extends at{constructor(e){super("cp:coreProperties"),this.root.push(new uy(["cp","dc","dcterms","dcmitype","xsi"])),e.title&&this.root.push(new zc("dc:title",e.title)),e.subject&&this.root.push(new zc("dc:subject",e.subject)),e.creator&&this.root.push(new zc("dc:creator",e.creator)),e.keywords&&this.root.push(new zc("cp:keywords",e.keywords)),e.description&&this.root.push(new zc("dc:description",e.description)),e.lastModifiedBy&&this.root.push(new zc("cp:lastModifiedBy",e.lastModifiedBy)),e.revision&&this.root.push(new zc("cp:revision",String(e.revision))),this.root.push(new q5("dcterms:created")),this.root.push(new q5("dcterms:modified"))}}class Wne extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{type:"xsi:type"})}}class q5 extends at{constructor(e){super(e),this.root.push(new Wne({type:"dcterms:W3CDTF"})),this.root.push(tre(new Date))}}class Gne extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{xmlns:"xmlns",vt:"xmlns:vt"})}}class Yne extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{fmtid:"fmtid",pid:"pid",name:"name"})}}class Kne extends at{constructor(e,r){super("property"),this.root.push(new Yne({fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:e.toString(),name:r.name})),this.root.push(new Xne(r.value))}}class Xne extends at{constructor(e){super("vt:lpwstr"),this.root.push(e)}}class Zne extends at{constructor(e){super("Properties"),tt(this,"nextId"),tt(this,"properties",[]),this.root.push(new Gne({xmlns:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes"})),this.nextId=2;for(const r of e)this.addCustomProperty(r)}prepForXml(e){return this.properties.forEach(r=>this.root.push(r)),super.prepForXml(e)}addCustomProperty(e){this.properties.push(new Kne(this.nextId++,e))}}const Hg=({id:t,fontKey:e,subsetted:r},n)=>new Qi({name:n,attributes:xs({id:{key:"r:id",value:t}},e?{fontKey:{key:"w:fontKey",value:`{${e}}`}}:{}),children:[...r?[new it("w:subsetted",r)]:[]]}),Qne=({name:t,altName:e,panose1:r,charset:n,family:a,notTrueType:i,pitch:o,sig:c,embedRegular:d,embedBold:h,embedItalic:m,embedBoldItalic:f})=>new Qi({name:"w:font",attributes:{name:{key:"w:name",value:t}},children:[...e?[Tf("w:altName",e)]:[],...r?[Tf("w:panose1",r)]:[],...n?[Tf("w:charset",n)]:[],Tf("w:family",a),...i?[new it("w:notTrueType",i)]:[],Tf("w:pitch",o),...c?[new Qi({name:"w:sig",attributes:{usb0:{key:"w:usb0",value:c.usb0},usb1:{key:"w:usb1",value:c.usb1},usb2:{key:"w:usb2",value:c.usb2},usb3:{key:"w:usb3",value:c.usb3},csb0:{key:"w:csb0",value:c.csb0},csb1:{key:"w:csb1",value:c.csb1}}})]:[],...d?[Hg(d,"w:embedRegular")]:[],...h?[Hg(h,"w:embedBold")]:[],...m?[Hg(m,"w:embedItalic")]:[],...f?[Hg(f,"w:embedBoldItalic")]:[]]}),Jne=({name:t,index:e,fontKey:r,characterSet:n})=>Qne({name:t,sig:{usb0:"E0002AFF",usb1:"C000247B",usb2:"00000009",usb3:"00000000",csb0:"000001FF",csb1:"00000000"},charset:n,family:"auto",pitch:"variable",embedRegular:{fontKey:r,id:`rId${e}`}}),eae=t=>new Qi({name:"w:fonts",attributes:{mc:{key:"xmlns:mc",value:"http://schemas.openxmlformats.org/markup-compatibility/2006"},r:{key:"xmlns:r",value:"http://schemas.openxmlformats.org/officeDocument/2006/relationships"},w:{key:"xmlns:w",value:"http://schemas.openxmlformats.org/wordprocessingml/2006/main"},w14:{key:"xmlns:w14",value:"http://schemas.microsoft.com/office/word/2010/wordml"},w15:{key:"xmlns:w15",value:"http://schemas.microsoft.com/office/word/2012/wordml"},w16cex:{key:"xmlns:w16cex",value:"http://schemas.microsoft.com/office/word/2018/wordml/cex"},w16cid:{key:"xmlns:w16cid",value:"http://schemas.microsoft.com/office/word/2016/wordml/cid"},w16:{key:"xmlns:w16",value:"http://schemas.microsoft.com/office/word/2018/wordml"},w16sdtdh:{key:"xmlns:w16sdtdh",value:"http://schemas.microsoft.com/office/word/2020/wordml/sdtdatahash"},w16se:{key:"xmlns:w16se",value:"http://schemas.microsoft.com/office/word/2015/wordml/symex"},Ignorable:{key:"mc:Ignorable",value:"w14 w15 w16se w16cid w16 w16cex w16sdtdh"}},children:t.map((e,r)=>Jne({name:e.name,index:r+1,fontKey:e.fontKey}))});class tae{constructor(e){tt(this,"fontTable"),tt(this,"relationships"),tt(this,"fontOptionsWithKey",[]),this.options=e,this.fontOptionsWithKey=e.map(r=>Ku(xs({},r),{fontKey:Ure()})),this.fontTable=eae(this.fontOptionsWithKey),this.relationships=new Td;for(let r=0;r<e.length;r++)this.relationships.createRelationship(r+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/font",`fonts/${e[r].name}.odttf`)}get View(){return this.fontTable}get Relationships(){return this.relationships}}class sae extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type"})}}let rae=class extends W8{constructor(e,r){super("w:ftr",r),tt(this,"refId"),this.refId=e,r||this.root.push(new sae({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class nae{constructor(e,r,n){tt(this,"footer"),tt(this,"relationships"),this.media=e,this.footer=new rae(r,n),this.relationships=new Td}add(e){this.footer.add(e)}addChildElement(e){this.footer.addChildElement(e)}get View(){return this.footer}get Relationships(){return this.relationships}get Media(){return this.media}}class aae extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{type:"w:type",id:"w:id"})}}class iae extends at{constructor(){super("w:footnoteRef")}}class oae extends dy{constructor(){super({style:"FootnoteReference"}),this.root.push(new iae)}}const W5={SEPERATOR:"separator",CONTINUATION_SEPERATOR:"continuationSeparator"};class Qj extends at{constructor(e){super("w:footnote"),this.root.push(new aae({type:e.type,id:e.id}));for(let r=0;r<e.children.length;r++){const n=e.children[r];r===0&&n.addRunToFront(new oae),this.root.push(n)}}}class lae extends at{constructor(){super("w:continuationSeparator")}}class cae extends dy{constructor(){super({}),this.root.push(new lae)}}class dae extends at{constructor(){super("w:separator")}}class uae extends dy{constructor(){super({}),this.root.push(new dae)}}class hae extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class fae extends at{constructor(){super("w:footnotes"),this.root.push(new hae({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"}));const e=new Qj({id:-1,type:W5.SEPERATOR,children:[new zs({spacing:{after:0,line:240,lineRule:A_.AUTO},children:[new uae]})]});this.root.push(e);const r=new Qj({id:0,type:W5.CONTINUATION_SEPERATOR,children:[new zs({spacing:{after:0,line:240,lineRule:A_.AUTO},children:[new cae]})]});this.root.push(r)}createFootNote(e,r){const n=new Qj({id:e,children:r});this.root.push(n)}}class mae{constructor(){tt(this,"footnotess"),tt(this,"relationships"),this.footnotess=new fae,this.relationships=new Td}get View(){return this.footnotess}get Relationships(){return this.relationships}}class pae extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",cp:"xmlns:cp",dc:"xmlns:dc",dcterms:"xmlns:dcterms",dcmitype:"xmlns:dcmitype",xsi:"xmlns:xsi",type:"xsi:type",cx:"xmlns:cx",cx1:"xmlns:cx1",cx2:"xmlns:cx2",cx3:"xmlns:cx3",cx4:"xmlns:cx4",cx5:"xmlns:cx5",cx6:"xmlns:cx6",cx7:"xmlns:cx7",cx8:"xmlns:cx8",w16cid:"xmlns:w16cid",w16se:"xmlns:w16se"})}}let gae=class extends W8{constructor(e,r){super("w:hdr",r),tt(this,"refId"),this.refId=e,r||this.root.push(new pae({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",cx:"http://schemas.microsoft.com/office/drawing/2014/chartex",cx1:"http://schemas.microsoft.com/office/drawing/2015/9/8/chartex",cx2:"http://schemas.microsoft.com/office/drawing/2015/10/21/chartex",cx3:"http://schemas.microsoft.com/office/drawing/2016/5/9/chartex",cx4:"http://schemas.microsoft.com/office/drawing/2016/5/10/chartex",cx5:"http://schemas.microsoft.com/office/drawing/2016/5/11/chartex",cx6:"http://schemas.microsoft.com/office/drawing/2016/5/12/chartex",cx7:"http://schemas.microsoft.com/office/drawing/2016/5/13/chartex",cx8:"http://schemas.microsoft.com/office/drawing/2016/5/14/chartex",w16cid:"http://schemas.microsoft.com/office/word/2016/wordml/cid",w16se:"http://schemas.microsoft.com/office/word/2015/wordml/symex"}))}get ReferenceId(){return this.refId}add(e){this.root.push(e)}};class xae{constructor(e,r,n){tt(this,"header"),tt(this,"relationships"),this.media=e,this.header=new gae(r,n),this.relationships=new Td}add(e){return this.header.add(e),this}addChildElement(e){this.header.addChildElement(e)}get View(){return this.header}get Relationships(){return this.relationships}get Media(){return this.media}}class yae{constructor(){tt(this,"map"),this.map=new Map}addImage(e,r){this.map.set(e,r)}get Array(){return Array.from(this.map.values())}}const ko={BULLET:"bullet"};class bae extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{ilvl:"w:ilvl",tentative:"w15:tentative"})}}class vae extends at{constructor(e){super("w:numFmt"),this.root.push(new kr({val:e}))}}class wae extends at{constructor(e){super("w:lvlText"),this.root.push(new kr({val:e}))}}class jae extends at{constructor(e){super("w:lvlJc"),this.root.push(new kr({val:e}))}}class _ae extends at{constructor(e){super("w:suff"),this.root.push(new kr({val:e}))}}class Nae extends at{constructor(){super("w:isLgl")}}class Sae extends at{constructor({level:e,format:r,text:n,alignment:a=ma.START,start:i=1,style:o,suffix:c,isLegalNumberingStyle:d}){if(super("w:lvl"),tt(this,"paragraphProperties"),tt(this,"runProperties"),this.root.push(new Jf("w:start",Jn(i))),r&&this.root.push(new vae(r)),c&&this.root.push(new _ae(c)),d&&this.root.push(new Nae),n&&this.root.push(new wae(n)),this.root.push(new jae(a)),this.paragraphProperties=new eh(o&&o.paragraph),this.runProperties=new Ed(o&&o.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties),e>9)throw new Error("Level cannot be greater than 9. Read more here: https://answers.microsoft.com/en-us/msoffice/forum/all/does-word-support-more-than-9-list-levels/d130fdcd-1781-446d-8c84-c6c79124e4d7");this.root.push(new bae({ilvl:Jn(e),tentative:1}))}}class Cae extends Sae{}class kae extends at{constructor(e){super("w:multiLevelType"),this.root.push(new kr({val:e}))}}class Aae extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{abstractNumId:"w:abstractNumId",restartNumberingAfterBreak:"w15:restartNumberingAfterBreak"})}}class G5 extends at{constructor(e,r){super("w:abstractNum"),tt(this,"id"),this.root.push(new Aae({abstractNumId:Jn(e),restartNumberingAfterBreak:0})),this.root.push(new kae("hybridMultilevel")),this.id=e;for(const n of r)this.root.push(new Cae(n))}}class Eae extends at{constructor(e){super("w:abstractNumId"),this.root.push(new kr({val:e}))}}class Tae extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{numId:"w:numId"})}}class Y5 extends at{constructor(e){if(super("w:num"),tt(this,"numId"),tt(this,"reference"),tt(this,"instance"),this.numId=e.numId,this.reference=e.reference,this.instance=e.instance,this.root.push(new Tae({numId:Jn(e.numId)})),this.root.push(new Eae(Jn(e.abstractNumId))),e.overrideLevels&&e.overrideLevels.length)for(const r of e.overrideLevels)this.root.push(new Dae(r.num,r.start))}}class Rae extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{ilvl:"w:ilvl"})}}class Dae extends at{constructor(e,r){super("w:lvlOverride"),this.root.push(new Rae({ilvl:e})),r!==void 0&&this.root.push(new Pae(r))}}class Mae extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{val:"w:val"})}}class Pae extends at{constructor(e){super("w:startOverride"),this.root.push(new Mae({val:e}))}}class Oae extends at{constructor(e){super("w:numbering"),tt(this,"abstractNumberingMap",new Map),tt(this,"concreteNumberingMap",new Map),tt(this,"referenceConfigMap",new Map),tt(this,"abstractNumUniqueNumericId",Fre()),tt(this,"concreteNumUniqueNumericId",Bre()),this.root.push(new uy(["wpc","mc","o","r","m","v","wp14","wp","w10","w","w14","w15","wpg","wpi","wne","wps"],"w14 w15 wp14"));const r=new G5(this.abstractNumUniqueNumericId(),[{level:0,format:ko.BULLET,text:"",alignment:ma.LEFT,style:{paragraph:{indent:{left:si(.5),hanging:si(.25)}}}},{level:1,format:ko.BULLET,text:"",alignment:ma.LEFT,style:{paragraph:{indent:{left:si(1),hanging:si(.25)}}}},{level:2,format:ko.BULLET,text:"",alignment:ma.LEFT,style:{paragraph:{indent:{left:2160,hanging:si(.25)}}}},{level:3,format:ko.BULLET,text:"",alignment:ma.LEFT,style:{paragraph:{indent:{left:2880,hanging:si(.25)}}}},{level:4,format:ko.BULLET,text:"",alignment:ma.LEFT,style:{paragraph:{indent:{left:3600,hanging:si(.25)}}}},{level:5,format:ko.BULLET,text:"",alignment:ma.LEFT,style:{paragraph:{indent:{left:4320,hanging:si(.25)}}}},{level:6,format:ko.BULLET,text:"",alignment:ma.LEFT,style:{paragraph:{indent:{left:5040,hanging:si(.25)}}}},{level:7,format:ko.BULLET,text:"",alignment:ma.LEFT,style:{paragraph:{indent:{left:5760,hanging:si(.25)}}}},{level:8,format:ko.BULLET,text:"",alignment:ma.LEFT,style:{paragraph:{indent:{left:6480,hanging:si(.25)}}}}]);this.concreteNumberingMap.set("default-bullet-numbering",new Y5({numId:1,abstractNumId:r.id,reference:"default-bullet-numbering",instance:0,overrideLevels:[{num:0,start:1}]})),this.abstractNumberingMap.set("default-bullet-numbering",r);for(const n of e.config)this.abstractNumberingMap.set(n.reference,new G5(this.abstractNumUniqueNumericId(),n.levels)),this.referenceConfigMap.set(n.reference,n.levels)}prepForXml(e){for(const r of this.abstractNumberingMap.values())this.root.push(r);for(const r of this.concreteNumberingMap.values())this.root.push(r);return super.prepForXml(e)}createConcreteNumberingInstance(e,r){const n=this.abstractNumberingMap.get(e);if(!n)return;const a=`${e}-${r}`;if(this.concreteNumberingMap.has(a))return;const i=this.referenceConfigMap.get(e),o=i&&i[0].start,c={numId:this.concreteNumUniqueNumericId(),abstractNumId:n.id,reference:e,instance:r,overrideLevels:[o&&Number.isInteger(o)?{num:0,start:o}:{num:0,start:1}]};this.concreteNumberingMap.set(a,new Y5(c))}get ConcreteNumbering(){return Array.from(this.concreteNumberingMap.values())}get ReferenceConfig(){return Array.from(this.referenceConfigMap.values())}}class Lae extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{version:"w:val",name:"w:name",uri:"w:uri"})}}class Fae extends at{constructor(e){super("w:compatSetting"),this.root.push(new Lae({version:e,uri:"http://schemas.microsoft.com/office/word",name:"compatibilityMode"}))}}class Bae extends at{constructor(e){super("w:compat"),e.version&&this.root.push(new Fae(e.version)),e.useSingleBorderforContiguousCells&&this.root.push(new it("w:useSingleBorderforContiguousCells",e.useSingleBorderforContiguousCells)),e.wordPerfectJustification&&this.root.push(new it("w:wpJustification",e.wordPerfectJustification)),e.noTabStopForHangingIndent&&this.root.push(new it("w:noTabHangInd",e.noTabStopForHangingIndent)),e.noLeading&&this.root.push(new it("w:noLeading",e.noLeading)),e.spaceForUnderline&&this.root.push(new it("w:spaceForUL",e.spaceForUnderline)),e.noColumnBalance&&this.root.push(new it("w:noColumnBalance",e.noColumnBalance)),e.balanceSingleByteDoubleByteWidth&&this.root.push(new it("w:balanceSingleByteDoubleByteWidth",e.balanceSingleByteDoubleByteWidth)),e.noExtraLineSpacing&&this.root.push(new it("w:noExtraLineSpacing",e.noExtraLineSpacing)),e.doNotLeaveBackslashAlone&&this.root.push(new it("w:doNotLeaveBackslashAlone",e.doNotLeaveBackslashAlone)),e.underlineTrailingSpaces&&this.root.push(new it("w:ulTrailSpace",e.underlineTrailingSpaces)),e.doNotExpandShiftReturn&&this.root.push(new it("w:doNotExpandShiftReturn",e.doNotExpandShiftReturn)),e.spacingInWholePoints&&this.root.push(new it("w:spacingInWholePoints",e.spacingInWholePoints)),e.lineWrapLikeWord6&&this.root.push(new it("w:lineWrapLikeWord6",e.lineWrapLikeWord6)),e.printBodyTextBeforeHeader&&this.root.push(new it("w:printBodyTextBeforeHeader",e.printBodyTextBeforeHeader)),e.printColorsBlack&&this.root.push(new it("w:printColBlack",e.printColorsBlack)),e.spaceWidth&&this.root.push(new it("w:wpSpaceWidth",e.spaceWidth)),e.showBreaksInFrames&&this.root.push(new it("w:showBreaksInFrames",e.showBreaksInFrames)),e.subFontBySize&&this.root.push(new it("w:subFontBySize",e.subFontBySize)),e.suppressBottomSpacing&&this.root.push(new it("w:suppressBottomSpacing",e.suppressBottomSpacing)),e.suppressTopSpacing&&this.root.push(new it("w:suppressTopSpacing",e.suppressTopSpacing)),e.suppressSpacingAtTopOfPage&&this.root.push(new it("w:suppressSpacingAtTopOfPage",e.suppressSpacingAtTopOfPage)),e.suppressTopSpacingWP&&this.root.push(new it("w:suppressTopSpacingWP",e.suppressTopSpacingWP)),e.suppressSpBfAfterPgBrk&&this.root.push(new it("w:suppressSpBfAfterPgBrk",e.suppressSpBfAfterPgBrk)),e.swapBordersFacingPages&&this.root.push(new it("w:swapBordersFacingPages",e.swapBordersFacingPages)),e.convertMailMergeEsc&&this.root.push(new it("w:convMailMergeEsc",e.convertMailMergeEsc)),e.truncateFontHeightsLikeWP6&&this.root.push(new it("w:truncateFontHeightsLikeWP6",e.truncateFontHeightsLikeWP6)),e.macWordSmallCaps&&this.root.push(new it("w:mwSmallCaps",e.macWordSmallCaps)),e.usePrinterMetrics&&this.root.push(new it("w:usePrinterMetrics",e.usePrinterMetrics)),e.doNotSuppressParagraphBorders&&this.root.push(new it("w:doNotSuppressParagraphBorders",e.doNotSuppressParagraphBorders)),e.wrapTrailSpaces&&this.root.push(new it("w:wrapTrailSpaces",e.wrapTrailSpaces)),e.footnoteLayoutLikeWW8&&this.root.push(new it("w:footnoteLayoutLikeWW8",e.footnoteLayoutLikeWW8)),e.shapeLayoutLikeWW8&&this.root.push(new it("w:shapeLayoutLikeWW8",e.shapeLayoutLikeWW8)),e.alignTablesRowByRow&&this.root.push(new it("w:alignTablesRowByRow",e.alignTablesRowByRow)),e.forgetLastTabAlignment&&this.root.push(new it("w:forgetLastTabAlignment",e.forgetLastTabAlignment)),e.adjustLineHeightInTable&&this.root.push(new it("w:adjustLineHeightInTable",e.adjustLineHeightInTable)),e.autoSpaceLikeWord95&&this.root.push(new it("w:autoSpaceLikeWord95",e.autoSpaceLikeWord95)),e.noSpaceRaiseLower&&this.root.push(new it("w:noSpaceRaiseLower",e.noSpaceRaiseLower)),e.doNotUseHTMLParagraphAutoSpacing&&this.root.push(new it("w:doNotUseHTMLParagraphAutoSpacing",e.doNotUseHTMLParagraphAutoSpacing)),e.layoutRawTableWidth&&this.root.push(new it("w:layoutRawTableWidth",e.layoutRawTableWidth)),e.layoutTableRowsApart&&this.root.push(new it("w:layoutTableRowsApart",e.layoutTableRowsApart)),e.useWord97LineBreakRules&&this.root.push(new it("w:useWord97LineBreakRules",e.useWord97LineBreakRules)),e.doNotBreakWrappedTables&&this.root.push(new it("w:doNotBreakWrappedTables",e.doNotBreakWrappedTables)),e.doNotSnapToGridInCell&&this.root.push(new it("w:doNotSnapToGridInCell",e.doNotSnapToGridInCell)),e.selectFieldWithFirstOrLastCharacter&&this.root.push(new it("w:selectFldWithFirstOrLastChar",e.selectFieldWithFirstOrLastCharacter)),e.applyBreakingRules&&this.root.push(new it("w:applyBreakingRules",e.applyBreakingRules)),e.doNotWrapTextWithPunctuation&&this.root.push(new it("w:doNotWrapTextWithPunct",e.doNotWrapTextWithPunctuation)),e.doNotUseEastAsianBreakRules&&this.root.push(new it("w:doNotUseEastAsianBreakRules",e.doNotUseEastAsianBreakRules)),e.useWord2002TableStyleRules&&this.root.push(new it("w:useWord2002TableStyleRules",e.useWord2002TableStyleRules)),e.growAutofit&&this.root.push(new it("w:growAutofit",e.growAutofit)),e.useFELayout&&this.root.push(new it("w:useFELayout",e.useFELayout)),e.useNormalStyleForList&&this.root.push(new it("w:useNormalStyleForList",e.useNormalStyleForList)),e.doNotUseIndentAsNumberingTabStop&&this.root.push(new it("w:doNotUseIndentAsNumberingTabStop",e.doNotUseIndentAsNumberingTabStop)),e.useAlternateEastAsianLineBreakRules&&this.root.push(new it("w:useAltKinsokuLineBreakRules",e.useAlternateEastAsianLineBreakRules)),e.allowSpaceOfSameStyleInTable&&this.root.push(new it("w:allowSpaceOfSameStyleInTable",e.allowSpaceOfSameStyleInTable)),e.doNotSuppressIndentation&&this.root.push(new it("w:doNotSuppressIndentation",e.doNotSuppressIndentation)),e.doNotAutofitConstrainedTables&&this.root.push(new it("w:doNotAutofitConstrainedTables",e.doNotAutofitConstrainedTables)),e.autofitToFirstFixedWidthCell&&this.root.push(new it("w:autofitToFirstFixedWidthCell",e.autofitToFirstFixedWidthCell)),e.underlineTabInNumberingList&&this.root.push(new it("w:underlineTabInNumList",e.underlineTabInNumberingList)),e.displayHangulFixedWidth&&this.root.push(new it("w:displayHangulFixedWidth",e.displayHangulFixedWidth)),e.splitPgBreakAndParaMark&&this.root.push(new it("w:splitPgBreakAndParaMark",e.splitPgBreakAndParaMark)),e.doNotVerticallyAlignCellWithSp&&this.root.push(new it("w:doNotVertAlignCellWithSp",e.doNotVerticallyAlignCellWithSp)),e.doNotBreakConstrainedForcedTable&&this.root.push(new it("w:doNotBreakConstrainedForcedTable",e.doNotBreakConstrainedForcedTable)),e.ignoreVerticalAlignmentInTextboxes&&this.root.push(new it("w:doNotVertAlignInTxbx",e.ignoreVerticalAlignmentInTextboxes)),e.useAnsiKerningPairs&&this.root.push(new it("w:useAnsiKerningPairs",e.useAnsiKerningPairs)),e.cachedColumnBalance&&this.root.push(new it("w:cachedColBalance",e.cachedColumnBalance))}}class Iae extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{wpc:"xmlns:wpc",mc:"xmlns:mc",o:"xmlns:o",r:"xmlns:r",m:"xmlns:m",v:"xmlns:v",wp14:"xmlns:wp14",wp:"xmlns:wp",w10:"xmlns:w10",w:"xmlns:w",w14:"xmlns:w14",w15:"xmlns:w15",wpg:"xmlns:wpg",wpi:"xmlns:wpi",wne:"xmlns:wne",wps:"xmlns:wps",Ignorable:"mc:Ignorable"})}}class zae extends at{constructor(e){var r,n,a,i,o,c,d,h;super("w:settings"),this.root.push(new Iae({wpc:"http://schemas.microsoft.com/office/word/2010/wordprocessingCanvas",mc:"http://schemas.openxmlformats.org/markup-compatibility/2006",o:"urn:schemas-microsoft-com:office:office",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",m:"http://schemas.openxmlformats.org/officeDocument/2006/math",v:"urn:schemas-microsoft-com:vml",wp14:"http://schemas.microsoft.com/office/word/2010/wordprocessingDrawing",wp:"http://schemas.openxmlformats.org/drawingml/2006/wordprocessingDrawing",w10:"urn:schemas-microsoft-com:office:word",w:"http://schemas.openxmlformats.org/wordprocessingml/2006/main",w14:"http://schemas.microsoft.com/office/word/2010/wordml",w15:"http://schemas.microsoft.com/office/word/2012/wordml",wpg:"http://schemas.microsoft.com/office/word/2010/wordprocessingGroup",wpi:"http://schemas.microsoft.com/office/word/2010/wordprocessingInk",wne:"http://schemas.microsoft.com/office/word/2006/wordml",wps:"http://schemas.microsoft.com/office/word/2010/wordprocessingShape",Ignorable:"w14 w15 wp14"})),this.root.push(new it("w:displayBackgroundShape",!0)),e.trackRevisions!==void 0&&this.root.push(new it("w:trackRevisions",e.trackRevisions)),e.evenAndOddHeaders!==void 0&&this.root.push(new it("w:evenAndOddHeaders",e.evenAndOddHeaders)),e.updateFields!==void 0&&this.root.push(new it("w:updateFields",e.updateFields)),e.defaultTabStop!==void 0&&this.root.push(new Jf("w:defaultTabStop",e.defaultTabStop)),((r=e.hyphenation)==null?void 0:r.autoHyphenation)!==void 0&&this.root.push(new it("w:autoHyphenation",e.hyphenation.autoHyphenation)),((n=e.hyphenation)==null?void 0:n.hyphenationZone)!==void 0&&this.root.push(new Jf("w:hyphenationZone",e.hyphenation.hyphenationZone)),((a=e.hyphenation)==null?void 0:a.consecutiveHyphenLimit)!==void 0&&this.root.push(new Jf("w:consecutiveHyphenLimit",e.hyphenation.consecutiveHyphenLimit)),((i=e.hyphenation)==null?void 0:i.doNotHyphenateCaps)!==void 0&&this.root.push(new it("w:doNotHyphenateCaps",e.hyphenation.doNotHyphenateCaps)),this.root.push(new Bae(Ku(xs({},(o=e.compatibility)!=null?o:{}),{version:(h=(d=(c=e.compatibility)==null?void 0:c.version)!=null?d:e.compatibilityModeVersion)!=null?h:15})))}}class nL extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{val:"w:val"})}}class Uae extends at{constructor(e){super("w:name"),this.root.push(new nL({val:e}))}}class $ae extends at{constructor(e){super("w:uiPriority"),this.root.push(new nL({val:Jn(e)}))}}class Vae extends Vt{constructor(){super(...arguments),tt(this,"xmlKeys",{type:"w:type",styleId:"w:styleId",default:"w:default",customStyle:"w:customStyle"})}}class aL extends at{constructor(e,r){super("w:style"),this.root.push(new Vae(e)),r.name&&this.root.push(new Uae(r.name)),r.basedOn&&this.root.push(new zu("w:basedOn",r.basedOn)),r.next&&this.root.push(new zu("w:next",r.next)),r.link&&this.root.push(new zu("w:link",r.link)),r.uiPriority!==void 0&&this.root.push(new $ae(r.uiPriority)),r.semiHidden!==void 0&&this.root.push(new it("w:semiHidden",r.semiHidden)),r.unhideWhenUsed!==void 0&&this.root.push(new it("w:unhideWhenUsed",r.unhideWhenUsed)),r.quickFormat!==void 0&&this.root.push(new it("w:qFormat",r.quickFormat))}}class hy extends aL{constructor(e){super({type:"paragraph",styleId:e.id},e),tt(this,"paragraphProperties"),tt(this,"runProperties"),this.paragraphProperties=new eh(e.paragraph),this.runProperties=new Ed(e.run),this.root.push(this.paragraphProperties),this.root.push(this.runProperties)}}class fy extends aL{constructor(e){super({type:"character",styleId:e.id},xs({uiPriority:99,unhideWhenUsed:!0},e)),tt(this,"runProperties"),this.runProperties=new Ed(e.run),this.root.push(this.runProperties)}}class cc extends hy{constructor(e){super(xs({basedOn:"Normal",next:"Normal",quickFormat:!0},e))}}class Hae extends cc{constructor(e){super(xs({id:"Title",name:"Title"},e))}}class qae extends cc{constructor(e){super(xs({id:"Heading1",name:"Heading 1"},e))}}class Wae extends cc{constructor(e){super(xs({id:"Heading2",name:"Heading 2"},e))}}class Gae extends cc{constructor(e){super(xs({id:"Heading3",name:"Heading 3"},e))}}class Yae extends cc{constructor(e){super(xs({id:"Heading4",name:"Heading 4"},e))}}class Kae extends cc{constructor(e){super(xs({id:"Heading5",name:"Heading 5"},e))}}class Xae extends cc{constructor(e){super(xs({id:"Heading6",name:"Heading 6"},e))}}class Zae extends cc{constructor(e){super(xs({id:"Strong",name:"Strong"},e))}}class Qae extends hy{constructor(e){super(xs({id:"ListParagraph",name:"List Paragraph",basedOn:"Normal",quickFormat:!0},e))}}class Jae extends hy{constructor(e){super(xs({id:"FootnoteText",name:"footnote text",link:"FootnoteTextChar",basedOn:"Normal",uiPriority:99,semiHidden:!0,unhideWhenUsed:!0,paragraph:{spacing:{after:0,line:240,lineRule:A_.AUTO}},run:{size:20}},e))}}class eie extends fy{constructor(e){super(xs({id:"FootnoteReference",name:"footnote reference",basedOn:"DefaultParagraphFont",semiHidden:!0,run:{superScript:!0}},e))}}class tie extends fy{constructor(e){super(xs({id:"FootnoteTextChar",name:"Footnote Text Char",basedOn:"DefaultParagraphFont",link:"FootnoteText",semiHidden:!0,run:{size:20}},e))}}class sie extends fy{constructor(e){super(xs({id:"Hyperlink",name:"Hyperlink",basedOn:"DefaultParagraphFont",run:{color:"0563C1",underline:{type:Q8.SINGLE}}},e))}}class T_ extends at{constructor(e){if(super("w:styles"),e.initialStyles&&this.root.push(e.initialStyles),e.importedStyles)for(const r of e.importedStyles)this.root.push(r);if(e.paragraphStyles)for(const r of e.paragraphStyles)this.root.push(new hy(r));if(e.characterStyles)for(const r of e.characterStyles)this.root.push(new fy(r))}}class rie extends at{constructor(e){super("w:pPrDefault"),this.root.push(new eh(e))}}class nie extends at{constructor(e){super("w:rPrDefault"),this.root.push(new Ed(e))}}class aie extends at{constructor(e){super("w:docDefaults"),tt(this,"runPropertiesDefaults"),tt(this,"paragraphPropertiesDefaults"),this.runPropertiesDefaults=new nie(e.run),this.paragraphPropertiesDefaults=new rie(e.paragraph),this.root.push(this.runPropertiesDefaults),this.root.push(this.paragraphPropertiesDefaults)}}class iie{newInstance(e){const r=q8.xml2js(e,{compact:!1});let n;for(const o of r.elements||[])o.name==="w:styles"&&(n=o);if(n===void 0)throw new Error("can not find styles element");const a=n.elements||[];return new T_({initialStyles:new Zse(n.attributes),importedStyles:a.map(o=>x2(o))})}}class K5{newInstance(e={}){var r;return{initialStyles:new uy(["mc","r","w","w14","w15"],"w14 w15"),importedStyles:[new aie((r=e.document)!=null?r:{}),new Hae(xs({run:{size:56}},e.title)),new qae(xs({run:{color:"2E74B5",size:32}},e.heading1)),new Wae(xs({run:{color:"2E74B5",size:26}},e.heading2)),new Gae(xs({run:{color:"1F4D78",size:24}},e.heading3)),new Yae(xs({run:{color:"2E74B5",italics:!0}},e.heading4)),new Kae(xs({run:{color:"2E74B5"}},e.heading5)),new Xae(xs({run:{color:"1F4D78"}},e.heading6)),new Zae(xs({run:{bold:!0}},e.strong)),new Qae(e.listParagraph||{}),new sie(e.hyperlink||{}),new eie(e.footnoteReference||{}),new Jae(e.footnoteText||{}),new tie(e.footnoteTextChar||{})]}}}let oie=class{constructor(e){tt(this,"currentRelationshipId",1),tt(this,"documentWrapper"),tt(this,"headers",[]),tt(this,"footers",[]),tt(this,"coreProperties"),tt(this,"numbering"),tt(this,"media"),tt(this,"fileRelationships"),tt(this,"footnotesWrapper"),tt(this,"settings"),tt(this,"contentTypes"),tt(this,"customProperties"),tt(this,"appProperties"),tt(this,"styles"),tt(this,"comments"),tt(this,"fontWrapper");var r,n,a,i,o,c,d,h,m,f,g,y;if(this.coreProperties=new qne(Ku(xs({},e),{creator:(r=e.creator)!=null?r:"Un-named",revision:(n=e.revision)!=null?n:1,lastModifiedBy:(a=e.lastModifiedBy)!=null?a:"Un-named"})),this.numbering=new Oae(e.numbering?e.numbering:{config:[]}),this.comments=new Kre((i=e.comments)!=null?i:{children:[]}),this.fileRelationships=new Td,this.customProperties=new Zne((o=e.customProperties)!=null?o:[]),this.appProperties=new zne,this.footnotesWrapper=new mae,this.contentTypes=new Hne,this.documentWrapper=new rL({background:e.background}),this.settings=new zae({compatibilityModeVersion:e.compatabilityModeVersion,compatibility:e.compatibility,evenAndOddHeaders:!!e.evenAndOddHeaderAndFooters,trackRevisions:(c=e.features)==null?void 0:c.trackRevisions,updateFields:(d=e.features)==null?void 0:d.updateFields,defaultTabStop:e.defaultTabStop,hyphenation:{autoHyphenation:(h=e.hyphenation)==null?void 0:h.autoHyphenation,hyphenationZone:(m=e.hyphenation)==null?void 0:m.hyphenationZone,consecutiveHyphenLimit:(f=e.hyphenation)==null?void 0:f.consecutiveHyphenLimit,doNotHyphenateCaps:(g=e.hyphenation)==null?void 0:g.doNotHyphenateCaps}}),this.media=new yae,e.externalStyles!==void 0){const v=new iie;this.styles=v.newInstance(e.externalStyles)}else if(e.styles){const w=new K5().newInstance(e.styles.default);this.styles=new T_(xs(xs({},w),e.styles))}else{const v=new K5;this.styles=new T_(v.newInstance())}this.addDefaultRelationships();for(const v of e.sections)this.addSection(v);if(e.footnotes)for(const v in e.footnotes)this.footnotesWrapper.View.createFootNote(parseFloat(v),e.footnotes[v].children);this.fontWrapper=new tae((y=e.fonts)!=null?y:[])}addSection({headers:e={},footers:r={},children:n,properties:a}){this.documentWrapper.View.Body.addSection(Ku(xs({},a),{headerWrapperGroup:{default:e.default?this.createHeader(e.default):void 0,first:e.first?this.createHeader(e.first):void 0,even:e.even?this.createHeader(e.even):void 0},footerWrapperGroup:{default:r.default?this.createFooter(r.default):void 0,first:r.first?this.createFooter(r.first):void 0,even:r.even?this.createFooter(r.even):void 0}}));for(const i of n)this.documentWrapper.View.add(i)}createHeader(e){const r=new xae(this.media,this.currentRelationshipId++);for(const n of e.options.children)r.add(n);return this.addHeaderToDocument(r),r}createFooter(e){const r=new nae(this.media,this.currentRelationshipId++);for(const n of e.options.children)r.add(n);return this.addFooterToDocument(r),r}addHeaderToDocument(e,r=Uu.DEFAULT){this.headers.push({header:e,type:r}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/header",`header${this.headers.length}.xml`),this.contentTypes.addHeader(this.headers.length)}addFooterToDocument(e,r=Uu.DEFAULT){this.footers.push({footer:e,type:r}),this.documentWrapper.Relationships.createRelationship(e.View.ReferenceId,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footer",`footer${this.footers.length}.xml`),this.contentTypes.addFooter(this.footers.length)}addDefaultRelationships(){this.fileRelationships.createRelationship(1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument","word/document.xml"),this.fileRelationships.createRelationship(2,"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties","docProps/core.xml"),this.fileRelationships.createRelationship(3,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties","docProps/app.xml"),this.fileRelationships.createRelationship(4,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties","docProps/custom.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles","styles.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/numbering","numbering.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/footnotes","footnotes.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/settings","settings.xml"),this.documentWrapper.Relationships.createRelationship(this.currentRelationshipId++,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments","comments.xml")}get Document(){return this.documentWrapper}get Styles(){return this.styles}get CoreProperties(){return this.coreProperties}get Numbering(){return this.numbering}get Media(){return this.media}get FileRelationships(){return this.fileRelationships}get Headers(){return this.headers.map(e=>e.header)}get Footers(){return this.footers.map(e=>e.footer)}get ContentTypes(){return this.contentTypes}get CustomProperties(){return this.customProperties}get AppProperties(){return this.appProperties}get FootNotes(){return this.footnotesWrapper}get Settings(){return this.settings}get Comments(){return this.comments}get FontTable(){return this.fontWrapper}};var lie=m2();function qg(t){throw new Error('Could not dynamically require "'+t+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Jj={exports:{}},X5;function cie(){return X5||(X5=1,(function(t,e){(function(r){t.exports=r()})(function(){return(function r(n,a,i){function o(h,m){if(!a[h]){if(!n[h]){var f=typeof qg=="function"&&qg;if(!m&&f)return f(h,!0);if(c)return c(h,!0);var g=new Error("Cannot find module '"+h+"'");throw g.code="MODULE_NOT_FOUND",g}var y=a[h]={exports:{}};n[h][0].call(y.exports,function(v){var w=n[h][1][v];return o(w||v)},y,y.exports,r,n,a,i)}return a[h].exports}for(var c=typeof qg=="function"&&qg,d=0;d<i.length;d++)o(i[d]);return o})({1:[function(r,n,a){var i=r("./utils"),o=r("./support"),c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";a.encode=function(d){for(var h,m,f,g,y,v,w,j=[],b=0,N=d.length,k=N,S=i.getTypeOf(d)!=="string";b<d.length;)k=N-b,f=S?(h=d[b++],m=b<N?d[b++]:0,b<N?d[b++]:0):(h=d.charCodeAt(b++),m=b<N?d.charCodeAt(b++):0,b<N?d.charCodeAt(b++):0),g=h>>2,y=(3&h)<<4|m>>4,v=1<k?(15&m)<<2|f>>6:64,w=2<k?63&f:64,j.push(c.charAt(g)+c.charAt(y)+c.charAt(v)+c.charAt(w));return j.join("")},a.decode=function(d){var h,m,f,g,y,v,w=0,j=0,b="data:";if(d.substr(0,b.length)===b)throw new Error("Invalid base64 input, it looks like a data url.");var N,k=3*(d=d.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(d.charAt(d.length-1)===c.charAt(64)&&k--,d.charAt(d.length-2)===c.charAt(64)&&k--,k%1!=0)throw new Error("Invalid base64 input, bad content length.");for(N=o.uint8array?new Uint8Array(0|k):new Array(0|k);w<d.length;)h=c.indexOf(d.charAt(w++))<<2|(g=c.indexOf(d.charAt(w++)))>>4,m=(15&g)<<4|(y=c.indexOf(d.charAt(w++)))>>2,f=(3&y)<<6|(v=c.indexOf(d.charAt(w++))),N[j++]=h,y!==64&&(N[j++]=m),v!==64&&(N[j++]=f);return N}},{"./support":30,"./utils":32}],2:[function(r,n,a){var i=r("./external"),o=r("./stream/DataWorker"),c=r("./stream/Crc32Probe"),d=r("./stream/DataLengthProbe");function h(m,f,g,y,v){this.compressedSize=m,this.uncompressedSize=f,this.crc32=g,this.compression=y,this.compressedContent=v}h.prototype={getContentWorker:function(){var m=new o(i.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new d("data_length")),f=this;return m.on("end",function(){if(this.streamInfo.data_length!==f.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),m},getCompressedWorker:function(){return new o(i.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},h.createWorkerFrom=function(m,f,g){return m.pipe(new c).pipe(new d("uncompressedSize")).pipe(f.compressWorker(g)).pipe(new d("compressedSize")).withStreamInfo("compression",f)},n.exports=h},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(r,n,a){var i=r("./stream/GenericWorker");a.STORE={magic:"\0\0",compressWorker:function(){return new i("STORE compression")},uncompressWorker:function(){return new i("STORE decompression")}},a.DEFLATE=r("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(r,n,a){var i=r("./utils"),o=(function(){for(var c,d=[],h=0;h<256;h++){c=h;for(var m=0;m<8;m++)c=1&c?3988292384^c>>>1:c>>>1;d[h]=c}return d})();n.exports=function(c,d){return c!==void 0&&c.length?i.getTypeOf(c)!=="string"?(function(h,m,f,g){var y=o,v=g+f;h^=-1;for(var w=g;w<v;w++)h=h>>>8^y[255&(h^m[w])];return-1^h})(0|d,c,c.length,0):(function(h,m,f,g){var y=o,v=g+f;h^=-1;for(var w=g;w<v;w++)h=h>>>8^y[255&(h^m.charCodeAt(w))];return-1^h})(0|d,c,c.length,0):0}},{"./utils":32}],5:[function(r,n,a){a.base64=!1,a.binary=!1,a.dir=!1,a.createFolders=!0,a.date=null,a.compression=null,a.compressionOptions=null,a.comment=null,a.unixPermissions=null,a.dosPermissions=null},{}],6:[function(r,n,a){var i=null;i=typeof Promise<"u"?Promise:r("lie"),n.exports={Promise:i}},{lie:37}],7:[function(r,n,a){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",o=r("pako"),c=r("./utils"),d=r("./stream/GenericWorker"),h=i?"uint8array":"array";function m(f,g){d.call(this,"FlateWorker/"+f),this._pako=null,this._pakoAction=f,this._pakoOptions=g,this.meta={}}a.magic="\b\0",c.inherits(m,d),m.prototype.processChunk=function(f){this.meta=f.meta,this._pako===null&&this._createPako(),this._pako.push(c.transformTo(h,f.data),!1)},m.prototype.flush=function(){d.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},m.prototype.cleanUp=function(){d.prototype.cleanUp.call(this),this._pako=null},m.prototype._createPako=function(){this._pako=new o[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var f=this;this._pako.onData=function(g){f.push({data:g,meta:f.meta})}},a.compressWorker=function(f){return new m("Deflate",f)},a.uncompressWorker=function(){return new m("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(r,n,a){function i(y,v){var w,j="";for(w=0;w<v;w++)j+=String.fromCharCode(255&y),y>>>=8;return j}function o(y,v,w,j,b,N){var k,S,C=y.file,B=y.compression,E=N!==h.utf8encode,z=c.transformTo("string",N(C.name)),T=c.transformTo("string",h.utf8encode(C.name)),W=C.comment,U=c.transformTo("string",N(W)),L=c.transformTo("string",h.utf8encode(W)),Z=T.length!==C.name.length,O=L.length!==W.length,se="",K="",M="",X=C.dir,$=C.date,oe={crc32:0,compressedSize:0,uncompressedSize:0};v&&!w||(oe.crc32=y.crc32,oe.compressedSize=y.compressedSize,oe.uncompressedSize=y.uncompressedSize);var q=0;v&&(q|=8),E||!Z&&!O||(q|=2048);var Y=0,ce=0;X&&(Y|=16),b==="UNIX"?(ce=798,Y|=(function(be,ge){var V=be;return be||(V=ge?16893:33204),(65535&V)<<16})(C.unixPermissions,X)):(ce=20,Y|=(function(be){return 63&(be||0)})(C.dosPermissions)),k=$.getUTCHours(),k<<=6,k|=$.getUTCMinutes(),k<<=5,k|=$.getUTCSeconds()/2,S=$.getUTCFullYear()-1980,S<<=4,S|=$.getUTCMonth()+1,S<<=5,S|=$.getUTCDate(),Z&&(K=i(1,1)+i(m(z),4)+T,se+="up"+i(K.length,2)+K),O&&(M=i(1,1)+i(m(U),4)+L,se+="uc"+i(M.length,2)+M);var le="";return le+=`
\0`,le+=i(q,2),le+=B.magic,le+=i(k,2),le+=i(S,2),le+=i(oe.crc32,4),le+=i(oe.compressedSize,4),le+=i(oe.uncompressedSize,4),le+=i(z.length,2),le+=i(se.length,2),{fileRecord:f.LOCAL_FILE_HEADER+le+z+se,dirRecord:f.CENTRAL_FILE_HEADER+i(ce,2)+le+i(U.length,2)+"\0\0\0\0"+i(Y,4)+i(j,4)+z+se+U}}var c=r("../utils"),d=r("../stream/GenericWorker"),h=r("../utf8"),m=r("../crc32"),f=r("../signature");function g(y,v,w,j){d.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=v,this.zipPlatform=w,this.encodeFileName=j,this.streamFiles=y,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}c.inherits(g,d),g.prototype.push=function(y){var v=y.meta.percent||0,w=this.entriesCount,j=this._sources.length;this.accumulate?this.contentBuffer.push(y):(this.bytesWritten+=y.data.length,d.prototype.push.call(this,{data:y.data,meta:{currentFile:this.currentFile,percent:w?(v+100*(w-j-1))/w:100}}))},g.prototype.openedSource=function(y){this.currentSourceOffset=this.bytesWritten,this.currentFile=y.file.name;var v=this.streamFiles&&!y.file.dir;if(v){var w=o(y,v,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:w.fileRecord,meta:{percent:0}})}else this.accumulate=!0},g.prototype.closedSource=function(y){this.accumulate=!1;var v=this.streamFiles&&!y.file.dir,w=o(y,v,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(w.dirRecord),v)this.push({data:(function(j){return f.DATA_DESCRIPTOR+i(j.crc32,4)+i(j.compressedSize,4)+i(j.uncompressedSize,4)})(y),meta:{percent:100}});else for(this.push({data:w.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},g.prototype.flush=function(){for(var y=this.bytesWritten,v=0;v<this.dirRecords.length;v++)this.push({data:this.dirRecords[v],meta:{percent:100}});var w=this.bytesWritten-y,j=(function(b,N,k,S,C){var B=c.transformTo("string",C(S));return f.CENTRAL_DIRECTORY_END+"\0\0\0\0"+i(b,2)+i(b,2)+i(N,4)+i(k,4)+i(B.length,2)+B})(this.dirRecords.length,w,y,this.zipComment,this.encodeFileName);this.push({data:j,meta:{percent:100}})},g.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},g.prototype.registerPrevious=function(y){this._sources.push(y);var v=this;return y.on("data",function(w){v.processChunk(w)}),y.on("end",function(){v.closedSource(v.previous.streamInfo),v._sources.length?v.prepareNextSource():v.end()}),y.on("error",function(w){v.error(w)}),this},g.prototype.resume=function(){return!!d.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},g.prototype.error=function(y){var v=this._sources;if(!d.prototype.error.call(this,y))return!1;for(var w=0;w<v.length;w++)try{v[w].error(y)}catch{}return!0},g.prototype.lock=function(){d.prototype.lock.call(this);for(var y=this._sources,v=0;v<y.length;v++)y[v].lock()},n.exports=g},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(r,n,a){var i=r("../compressions"),o=r("./ZipFileWorker");a.generateWorker=function(c,d,h){var m=new o(d.streamFiles,h,d.platform,d.encodeFileName),f=0;try{c.forEach(function(g,y){f++;var v=(function(N,k){var S=N||k,C=i[S];if(!C)throw new Error(S+" is not a valid compression method !");return C})(y.options.compression,d.compression),w=y.options.compressionOptions||d.compressionOptions||{},j=y.dir,b=y.date;y._compressWorker(v,w).withStreamInfo("file",{name:g,dir:j,date:b,comment:y.comment||"",unixPermissions:y.unixPermissions,dosPermissions:y.dosPermissions}).pipe(m)}),m.entriesCount=f}catch(g){m.error(g)}return m}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(r,n,a){function i(){if(!(this instanceof i))return new i;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var o=new i;for(var c in this)typeof this[c]!="function"&&(o[c]=this[c]);return o}}(i.prototype=r("./object")).loadAsync=r("./load"),i.support=r("./support"),i.defaults=r("./defaults"),i.version="3.10.1",i.loadAsync=function(o,c){return new i().loadAsync(o,c)},i.external=r("./external"),n.exports=i},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(r,n,a){var i=r("./utils"),o=r("./external"),c=r("./utf8"),d=r("./zipEntries"),h=r("./stream/Crc32Probe"),m=r("./nodejsUtils");function f(g){return new o.Promise(function(y,v){var w=g.decompressed.getContentWorker().pipe(new h);w.on("error",function(j){v(j)}).on("end",function(){w.streamInfo.crc32!==g.decompressed.crc32?v(new Error("Corrupted zip : CRC32 mismatch")):y()}).resume()})}n.exports=function(g,y){var v=this;return y=i.extend(y||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:c.utf8decode}),m.isNode&&m.isStream(g)?o.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):i.prepareContent("the loaded zip file",g,!0,y.optimizedBinaryString,y.base64).then(function(w){var j=new d(y);return j.load(w),j}).then(function(w){var j=[o.Promise.resolve(w)],b=w.files;if(y.checkCRC32)for(var N=0;N<b.length;N++)j.push(f(b[N]));return o.Promise.all(j)}).then(function(w){for(var j=w.shift(),b=j.files,N=0;N<b.length;N++){var k=b[N],S=k.fileNameStr,C=i.resolve(k.fileNameStr);v.file(C,k.decompressed,{binary:!0,optimizedBinaryString:!0,date:k.date,dir:k.dir,comment:k.fileCommentStr.length?k.fileCommentStr:null,unixPermissions:k.unixPermissions,dosPermissions:k.dosPermissions,createFolders:y.createFolders}),k.dir||(v.file(C).unsafeOriginalName=S)}return j.zipComment.length&&(v.comment=j.zipComment),v})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(r,n,a){var i=r("../utils"),o=r("../stream/GenericWorker");function c(d,h){o.call(this,"Nodejs stream input adapter for "+d),this._upstreamEnded=!1,this._bindStream(h)}i.inherits(c,o),c.prototype._bindStream=function(d){var h=this;(this._stream=d).pause(),d.on("data",function(m){h.push({data:m,meta:{percent:0}})}).on("error",function(m){h.isPaused?this.generatedError=m:h.error(m)}).on("end",function(){h.isPaused?h._upstreamEnded=!0:h.end()})},c.prototype.pause=function(){return!!o.prototype.pause.call(this)&&(this._stream.pause(),!0)},c.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},n.exports=c},{"../stream/GenericWorker":28,"../utils":32}],13:[function(r,n,a){var i=r("readable-stream").Readable;function o(c,d,h){i.call(this,d),this._helper=c;var m=this;c.on("data",function(f,g){m.push(f)||m._helper.pause(),h&&h(g)}).on("error",function(f){m.emit("error",f)}).on("end",function(){m.push(null)})}r("../utils").inherits(o,i),o.prototype._read=function(){this._helper.resume()},n.exports=o},{"../utils":32,"readable-stream":16}],14:[function(r,n,a){n.exports={isNode:typeof Buffer<"u",newBufferFrom:function(i,o){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(i,o);if(typeof i=="number")throw new Error('The "data" argument must not be a number');return new Buffer(i,o)},allocBuffer:function(i){if(Buffer.alloc)return Buffer.alloc(i);var o=new Buffer(i);return o.fill(0),o},isBuffer:function(i){return Buffer.isBuffer(i)},isStream:function(i){return i&&typeof i.on=="function"&&typeof i.pause=="function"&&typeof i.resume=="function"}}},{}],15:[function(r,n,a){function i(C,B,E){var z,T=c.getTypeOf(B),W=c.extend(E||{},m);W.date=W.date||new Date,W.compression!==null&&(W.compression=W.compression.toUpperCase()),typeof W.unixPermissions=="string"&&(W.unixPermissions=parseInt(W.unixPermissions,8)),W.unixPermissions&&16384&W.unixPermissions&&(W.dir=!0),W.dosPermissions&&16&W.dosPermissions&&(W.dir=!0),W.dir&&(C=b(C)),W.createFolders&&(z=j(C))&&N.call(this,z,!0);var U=T==="string"&&W.binary===!1&&W.base64===!1;E&&E.binary!==void 0||(W.binary=!U),(B instanceof f&&B.uncompressedSize===0||W.dir||!B||B.length===0)&&(W.base64=!1,W.binary=!0,B="",W.compression="STORE",T="string");var L=null;L=B instanceof f||B instanceof d?B:v.isNode&&v.isStream(B)?new w(C,B):c.prepareContent(C,B,W.binary,W.optimizedBinaryString,W.base64);var Z=new g(C,L,W);this.files[C]=Z}var o=r("./utf8"),c=r("./utils"),d=r("./stream/GenericWorker"),h=r("./stream/StreamHelper"),m=r("./defaults"),f=r("./compressedObject"),g=r("./zipObject"),y=r("./generate"),v=r("./nodejsUtils"),w=r("./nodejs/NodejsStreamInputAdapter"),j=function(C){C.slice(-1)==="/"&&(C=C.substring(0,C.length-1));var B=C.lastIndexOf("/");return 0<B?C.substring(0,B):""},b=function(C){return C.slice(-1)!=="/"&&(C+="/"),C},N=function(C,B){return B=B!==void 0?B:m.createFolders,C=b(C),this.files[C]||i.call(this,C,null,{dir:!0,createFolders:B}),this.files[C]};function k(C){return Object.prototype.toString.call(C)==="[object RegExp]"}var S={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(C){var B,E,z;for(B in this.files)z=this.files[B],(E=B.slice(this.root.length,B.length))&&B.slice(0,this.root.length)===this.root&&C(E,z)},filter:function(C){var B=[];return this.forEach(function(E,z){C(E,z)&&B.push(z)}),B},file:function(C,B,E){if(arguments.length!==1)return C=this.root+C,i.call(this,C,B,E),this;if(k(C)){var z=C;return this.filter(function(W,U){return!U.dir&&z.test(W)})}var T=this.files[this.root+C];return T&&!T.dir?T:null},folder:function(C){if(!C)return this;if(k(C))return this.filter(function(T,W){return W.dir&&C.test(T)});var B=this.root+C,E=N.call(this,B),z=this.clone();return z.root=E.name,z},remove:function(C){C=this.root+C;var B=this.files[C];if(B||(C.slice(-1)!=="/"&&(C+="/"),B=this.files[C]),B&&!B.dir)delete this.files[C];else for(var E=this.filter(function(T,W){return W.name.slice(0,C.length)===C}),z=0;z<E.length;z++)delete this.files[E[z].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(C){var B,E={};try{if((E=c.extend(C||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:o.utf8encode})).type=E.type.toLowerCase(),E.compression=E.compression.toUpperCase(),E.type==="binarystring"&&(E.type="string"),!E.type)throw new Error("No output type specified.");c.checkSupport(E.type),E.platform!=="darwin"&&E.platform!=="freebsd"&&E.platform!=="linux"&&E.platform!=="sunos"||(E.platform="UNIX"),E.platform==="win32"&&(E.platform="DOS");var z=E.comment||this.comment||"";B=y.generateWorker(this,E,z)}catch(T){(B=new d("error")).error(T)}return new h(B,E.type||"string",E.mimeType)},generateAsync:function(C,B){return this.generateInternalStream(C).accumulate(B)},generateNodeStream:function(C,B){return(C=C||{}).type||(C.type="nodebuffer"),this.generateInternalStream(C).toNodejsStream(B)}};n.exports=S},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(r,n,a){n.exports=r("stream")},{stream:void 0}],17:[function(r,n,a){var i=r("./DataReader");function o(c){i.call(this,c);for(var d=0;d<this.data.length;d++)c[d]=255&c[d]}r("../utils").inherits(o,i),o.prototype.byteAt=function(c){return this.data[this.zero+c]},o.prototype.lastIndexOfSignature=function(c){for(var d=c.charCodeAt(0),h=c.charCodeAt(1),m=c.charCodeAt(2),f=c.charCodeAt(3),g=this.length-4;0<=g;--g)if(this.data[g]===d&&this.data[g+1]===h&&this.data[g+2]===m&&this.data[g+3]===f)return g-this.zero;return-1},o.prototype.readAndCheckSignature=function(c){var d=c.charCodeAt(0),h=c.charCodeAt(1),m=c.charCodeAt(2),f=c.charCodeAt(3),g=this.readData(4);return d===g[0]&&h===g[1]&&m===g[2]&&f===g[3]},o.prototype.readData=function(c){if(this.checkOffset(c),c===0)return[];var d=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},n.exports=o},{"../utils":32,"./DataReader":18}],18:[function(r,n,a){var i=r("../utils");function o(c){this.data=c,this.length=c.length,this.index=0,this.zero=0}o.prototype={checkOffset:function(c){this.checkIndex(this.index+c)},checkIndex:function(c){if(this.length<this.zero+c||c<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+c+"). Corrupted zip ?")},setIndex:function(c){this.checkIndex(c),this.index=c},skip:function(c){this.setIndex(this.index+c)},byteAt:function(){},readInt:function(c){var d,h=0;for(this.checkOffset(c),d=this.index+c-1;d>=this.index;d--)h=(h<<8)+this.byteAt(d);return this.index+=c,h},readString:function(c){return i.transformTo("string",this.readData(c))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var c=this.readInt(4);return new Date(Date.UTC(1980+(c>>25&127),(c>>21&15)-1,c>>16&31,c>>11&31,c>>5&63,(31&c)<<1))}},n.exports=o},{"../utils":32}],19:[function(r,n,a){var i=r("./Uint8ArrayReader");function o(c){i.call(this,c)}r("../utils").inherits(o,i),o.prototype.readData=function(c){this.checkOffset(c);var d=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},n.exports=o},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(r,n,a){var i=r("./DataReader");function o(c){i.call(this,c)}r("../utils").inherits(o,i),o.prototype.byteAt=function(c){return this.data.charCodeAt(this.zero+c)},o.prototype.lastIndexOfSignature=function(c){return this.data.lastIndexOf(c)-this.zero},o.prototype.readAndCheckSignature=function(c){return c===this.readData(4)},o.prototype.readData=function(c){this.checkOffset(c);var d=this.data.slice(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},n.exports=o},{"../utils":32,"./DataReader":18}],21:[function(r,n,a){var i=r("./ArrayReader");function o(c){i.call(this,c)}r("../utils").inherits(o,i),o.prototype.readData=function(c){if(this.checkOffset(c),c===0)return new Uint8Array(0);var d=this.data.subarray(this.zero+this.index,this.zero+this.index+c);return this.index+=c,d},n.exports=o},{"../utils":32,"./ArrayReader":17}],22:[function(r,n,a){var i=r("../utils"),o=r("../support"),c=r("./ArrayReader"),d=r("./StringReader"),h=r("./NodeBufferReader"),m=r("./Uint8ArrayReader");n.exports=function(f){var g=i.getTypeOf(f);return i.checkSupport(g),g!=="string"||o.uint8array?g==="nodebuffer"?new h(f):o.uint8array?new m(i.transformTo("uint8array",f)):new c(i.transformTo("array",f)):new d(f)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(r,n,a){a.LOCAL_FILE_HEADER="PK",a.CENTRAL_FILE_HEADER="PK",a.CENTRAL_DIRECTORY_END="PK",a.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",a.ZIP64_CENTRAL_DIRECTORY_END="PK",a.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(r,n,a){var i=r("./GenericWorker"),o=r("../utils");function c(d){i.call(this,"ConvertWorker to "+d),this.destType=d}o.inherits(c,i),c.prototype.processChunk=function(d){this.push({data:o.transformTo(this.destType,d.data),meta:d.meta})},n.exports=c},{"../utils":32,"./GenericWorker":28}],25:[function(r,n,a){var i=r("./GenericWorker"),o=r("../crc32");function c(){i.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}r("../utils").inherits(c,i),c.prototype.processChunk=function(d){this.streamInfo.crc32=o(d.data,this.streamInfo.crc32||0),this.push(d)},n.exports=c},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(r,n,a){var i=r("../utils"),o=r("./GenericWorker");function c(d){o.call(this,"DataLengthProbe for "+d),this.propName=d,this.withStreamInfo(d,0)}i.inherits(c,o),c.prototype.processChunk=function(d){if(d){var h=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=h+d.data.length}o.prototype.processChunk.call(this,d)},n.exports=c},{"../utils":32,"./GenericWorker":28}],27:[function(r,n,a){var i=r("../utils"),o=r("./GenericWorker");function c(d){o.call(this,"DataWorker");var h=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,d.then(function(m){h.dataIsReady=!0,h.data=m,h.max=m&&m.length||0,h.type=i.getTypeOf(m),h.isPaused||h._tickAndRepeat()},function(m){h.error(m)})}i.inherits(c,o),c.prototype.cleanUp=function(){o.prototype.cleanUp.call(this),this.data=null},c.prototype.resume=function(){return!!o.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,i.delay(this._tickAndRepeat,[],this)),!0)},c.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(i.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},c.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var d=null,h=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":d=this.data.substring(this.index,h);break;case"uint8array":d=this.data.subarray(this.index,h);break;case"array":case"nodebuffer":d=this.data.slice(this.index,h)}return this.index=h,this.push({data:d,meta:{percent:this.max?this.index/this.max*100:0}})},n.exports=c},{"../utils":32,"./GenericWorker":28}],28:[function(r,n,a){function i(o){this.name=o||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}i.prototype={push:function(o){this.emit("data",o)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(o){this.emit("error",o)}return!0},error:function(o){return!this.isFinished&&(this.isPaused?this.generatedError=o:(this.isFinished=!0,this.emit("error",o),this.previous&&this.previous.error(o),this.cleanUp()),!0)},on:function(o,c){return this._listeners[o].push(c),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(o,c){if(this._listeners[o])for(var d=0;d<this._listeners[o].length;d++)this._listeners[o][d].call(this,c)},pipe:function(o){return o.registerPrevious(this)},registerPrevious:function(o){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=o.streamInfo,this.mergeStreamInfo(),this.previous=o;var c=this;return o.on("data",function(d){c.processChunk(d)}),o.on("end",function(){c.end()}),o.on("error",function(d){c.error(d)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var o=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),o=!0),this.previous&&this.previous.resume(),!o},flush:function(){},processChunk:function(o){this.push(o)},withStreamInfo:function(o,c){return this.extraStreamInfo[o]=c,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var o in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,o)&&(this.streamInfo[o]=this.extraStreamInfo[o])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var o="Worker "+this.name;return this.previous?this.previous+" -> "+o:o}},n.exports=i},{}],29:[function(r,n,a){var i=r("../utils"),o=r("./ConvertWorker"),c=r("./GenericWorker"),d=r("../base64"),h=r("../support"),m=r("../external"),f=null;if(h.nodestream)try{f=r("../nodejs/NodejsStreamOutputAdapter")}catch{}function g(v,w){return new m.Promise(function(j,b){var N=[],k=v._internalType,S=v._outputType,C=v._mimeType;v.on("data",function(B,E){N.push(B),w&&w(E)}).on("error",function(B){N=[],b(B)}).on("end",function(){try{var B=(function(E,z,T){switch(E){case"blob":return i.newBlob(i.transformTo("arraybuffer",z),T);case"base64":return d.encode(z);default:return i.transformTo(E,z)}})(S,(function(E,z){var T,W=0,U=null,L=0;for(T=0;T<z.length;T++)L+=z[T].length;switch(E){case"string":return z.join("");case"array":return Array.prototype.concat.apply([],z);case"uint8array":for(U=new Uint8Array(L),T=0;T<z.length;T++)U.set(z[T],W),W+=z[T].length;return U;case"nodebuffer":return Buffer.concat(z);default:throw new Error("concat : unsupported type '"+E+"'")}})(k,N),C);j(B)}catch(E){b(E)}N=[]}).resume()})}function y(v,w,j){var b=w;switch(w){case"blob":case"arraybuffer":b="uint8array";break;case"base64":b="string"}try{this._internalType=b,this._outputType=w,this._mimeType=j,i.checkSupport(b),this._worker=v.pipe(new o(b)),v.lock()}catch(N){this._worker=new c("error"),this._worker.error(N)}}y.prototype={accumulate:function(v){return g(this,v)},on:function(v,w){var j=this;return v==="data"?this._worker.on(v,function(b){w.call(j,b.data,b.meta)}):this._worker.on(v,function(){i.delay(w,arguments,j)}),this},resume:function(){return i.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(v){if(i.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new f(this,{objectMode:this._outputType!=="nodebuffer"},v)}},n.exports=y},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(r,n,a){if(a.base64=!0,a.array=!0,a.string=!0,a.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",a.nodebuffer=typeof Buffer<"u",a.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")a.blob=!1;else{var i=new ArrayBuffer(0);try{a.blob=new Blob([i],{type:"application/zip"}).size===0}catch{try{var o=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);o.append(i),a.blob=o.getBlob("application/zip").size===0}catch{a.blob=!1}}}try{a.nodestream=!!r("readable-stream").Readable}catch{a.nodestream=!1}},{"readable-stream":16}],31:[function(r,n,a){for(var i=r("./utils"),o=r("./support"),c=r("./nodejsUtils"),d=r("./stream/GenericWorker"),h=new Array(256),m=0;m<256;m++)h[m]=252<=m?6:248<=m?5:240<=m?4:224<=m?3:192<=m?2:1;h[254]=h[254]=1;function f(){d.call(this,"utf-8 decode"),this.leftOver=null}function g(){d.call(this,"utf-8 encode")}a.utf8encode=function(y){return o.nodebuffer?c.newBufferFrom(y,"utf-8"):(function(v){var w,j,b,N,k,S=v.length,C=0;for(N=0;N<S;N++)(64512&(j=v.charCodeAt(N)))==55296&&N+1<S&&(64512&(b=v.charCodeAt(N+1)))==56320&&(j=65536+(j-55296<<10)+(b-56320),N++),C+=j<128?1:j<2048?2:j<65536?3:4;for(w=o.uint8array?new Uint8Array(C):new Array(C),N=k=0;k<C;N++)(64512&(j=v.charCodeAt(N)))==55296&&N+1<S&&(64512&(b=v.charCodeAt(N+1)))==56320&&(j=65536+(j-55296<<10)+(b-56320),N++),j<128?w[k++]=j:(j<2048?w[k++]=192|j>>>6:(j<65536?w[k++]=224|j>>>12:(w[k++]=240|j>>>18,w[k++]=128|j>>>12&63),w[k++]=128|j>>>6&63),w[k++]=128|63&j);return w})(y)},a.utf8decode=function(y){return o.nodebuffer?i.transformTo("nodebuffer",y).toString("utf-8"):(function(v){var w,j,b,N,k=v.length,S=new Array(2*k);for(w=j=0;w<k;)if((b=v[w++])<128)S[j++]=b;else if(4<(N=h[b]))S[j++]=65533,w+=N-1;else{for(b&=N===2?31:N===3?15:7;1<N&&w<k;)b=b<<6|63&v[w++],N--;1<N?S[j++]=65533:b<65536?S[j++]=b:(b-=65536,S[j++]=55296|b>>10&1023,S[j++]=56320|1023&b)}return S.length!==j&&(S.subarray?S=S.subarray(0,j):S.length=j),i.applyFromCharCode(S)})(y=i.transformTo(o.uint8array?"uint8array":"array",y))},i.inherits(f,d),f.prototype.processChunk=function(y){var v=i.transformTo(o.uint8array?"uint8array":"array",y.data);if(this.leftOver&&this.leftOver.length){if(o.uint8array){var w=v;(v=new Uint8Array(w.length+this.leftOver.length)).set(this.leftOver,0),v.set(w,this.leftOver.length)}else v=this.leftOver.concat(v);this.leftOver=null}var j=(function(N,k){var S;for((k=k||N.length)>N.length&&(k=N.length),S=k-1;0<=S&&(192&N[S])==128;)S--;return S<0||S===0?k:S+h[N[S]]>k?S:k})(v),b=v;j!==v.length&&(o.uint8array?(b=v.subarray(0,j),this.leftOver=v.subarray(j,v.length)):(b=v.slice(0,j),this.leftOver=v.slice(j,v.length))),this.push({data:a.utf8decode(b),meta:y.meta})},f.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:a.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},a.Utf8DecodeWorker=f,i.inherits(g,d),g.prototype.processChunk=function(y){this.push({data:a.utf8encode(y.data),meta:y.meta})},a.Utf8EncodeWorker=g},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(r,n,a){var i=r("./support"),o=r("./base64"),c=r("./nodejsUtils"),d=r("./external");function h(w){return w}function m(w,j){for(var b=0;b<w.length;++b)j[b]=255&w.charCodeAt(b);return j}r("setimmediate"),a.newBlob=function(w,j){a.checkSupport("blob");try{return new Blob([w],{type:j})}catch{try{var b=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return b.append(w),b.getBlob(j)}catch{throw new Error("Bug : can't construct the Blob.")}}};var f={stringifyByChunk:function(w,j,b){var N=[],k=0,S=w.length;if(S<=b)return String.fromCharCode.apply(null,w);for(;k<S;)j==="array"||j==="nodebuffer"?N.push(String.fromCharCode.apply(null,w.slice(k,Math.min(k+b,S)))):N.push(String.fromCharCode.apply(null,w.subarray(k,Math.min(k+b,S)))),k+=b;return N.join("")},stringifyByChar:function(w){for(var j="",b=0;b<w.length;b++)j+=String.fromCharCode(w[b]);return j},applyCanBeUsed:{uint8array:(function(){try{return i.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}})(),nodebuffer:(function(){try{return i.nodebuffer&&String.fromCharCode.apply(null,c.allocBuffer(1)).length===1}catch{return!1}})()}};function g(w){var j=65536,b=a.getTypeOf(w),N=!0;if(b==="uint8array"?N=f.applyCanBeUsed.uint8array:b==="nodebuffer"&&(N=f.applyCanBeUsed.nodebuffer),N)for(;1<j;)try{return f.stringifyByChunk(w,b,j)}catch{j=Math.floor(j/2)}return f.stringifyByChar(w)}function y(w,j){for(var b=0;b<w.length;b++)j[b]=w[b];return j}a.applyFromCharCode=g;var v={};v.string={string:h,array:function(w){return m(w,new Array(w.length))},arraybuffer:function(w){return v.string.uint8array(w).buffer},uint8array:function(w){return m(w,new Uint8Array(w.length))},nodebuffer:function(w){return m(w,c.allocBuffer(w.length))}},v.array={string:g,array:h,arraybuffer:function(w){return new Uint8Array(w).buffer},uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return c.newBufferFrom(w)}},v.arraybuffer={string:function(w){return g(new Uint8Array(w))},array:function(w){return y(new Uint8Array(w),new Array(w.byteLength))},arraybuffer:h,uint8array:function(w){return new Uint8Array(w)},nodebuffer:function(w){return c.newBufferFrom(new Uint8Array(w))}},v.uint8array={string:g,array:function(w){return y(w,new Array(w.length))},arraybuffer:function(w){return w.buffer},uint8array:h,nodebuffer:function(w){return c.newBufferFrom(w)}},v.nodebuffer={string:g,array:function(w){return y(w,new Array(w.length))},arraybuffer:function(w){return v.nodebuffer.uint8array(w).buffer},uint8array:function(w){return y(w,new Uint8Array(w.length))},nodebuffer:h},a.transformTo=function(w,j){if(j=j||"",!w)return j;a.checkSupport(w);var b=a.getTypeOf(j);return v[b][w](j)},a.resolve=function(w){for(var j=w.split("/"),b=[],N=0;N<j.length;N++){var k=j[N];k==="."||k===""&&N!==0&&N!==j.length-1||(k===".."?b.pop():b.push(k))}return b.join("/")},a.getTypeOf=function(w){return typeof w=="string"?"string":Object.prototype.toString.call(w)==="[object Array]"?"array":i.nodebuffer&&c.isBuffer(w)?"nodebuffer":i.uint8array&&w instanceof Uint8Array?"uint8array":i.arraybuffer&&w instanceof ArrayBuffer?"arraybuffer":void 0},a.checkSupport=function(w){if(!i[w.toLowerCase()])throw new Error(w+" is not supported by this platform")},a.MAX_VALUE_16BITS=65535,a.MAX_VALUE_32BITS=-1,a.pretty=function(w){var j,b,N="";for(b=0;b<(w||"").length;b++)N+="\\x"+((j=w.charCodeAt(b))<16?"0":"")+j.toString(16).toUpperCase();return N},a.delay=function(w,j,b){setImmediate(function(){w.apply(b||null,j||[])})},a.inherits=function(w,j){function b(){}b.prototype=j.prototype,w.prototype=new b},a.extend=function(){var w,j,b={};for(w=0;w<arguments.length;w++)for(j in arguments[w])Object.prototype.hasOwnProperty.call(arguments[w],j)&&b[j]===void 0&&(b[j]=arguments[w][j]);return b},a.prepareContent=function(w,j,b,N,k){return d.Promise.resolve(j).then(function(S){return i.blob&&(S instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(S))!==-1)&&typeof FileReader<"u"?new d.Promise(function(C,B){var E=new FileReader;E.onload=function(z){C(z.target.result)},E.onerror=function(z){B(z.target.error)},E.readAsArrayBuffer(S)}):S}).then(function(S){var C=a.getTypeOf(S);return C?(C==="arraybuffer"?S=a.transformTo("uint8array",S):C==="string"&&(k?S=o.decode(S):b&&N!==!0&&(S=(function(B){return m(B,i.uint8array?new Uint8Array(B.length):new Array(B.length))})(S))),S):d.Promise.reject(new Error("Can't read the data of '"+w+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(r,n,a){var i=r("./reader/readerFor"),o=r("./utils"),c=r("./signature"),d=r("./zipEntry"),h=r("./support");function m(f){this.files=[],this.loadOptions=f}m.prototype={checkSignature:function(f){if(!this.reader.readAndCheckSignature(f)){this.reader.index-=4;var g=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+o.pretty(g)+", expected "+o.pretty(f)+")")}},isSignature:function(f,g){var y=this.reader.index;this.reader.setIndex(f);var v=this.reader.readString(4)===g;return this.reader.setIndex(y),v},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var f=this.reader.readData(this.zipCommentLength),g=h.uint8array?"uint8array":"array",y=o.transformTo(g,f);this.zipComment=this.loadOptions.decodeFileName(y)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var f,g,y,v=this.zip64EndOfCentralSize-44;0<v;)f=this.reader.readInt(2),g=this.reader.readInt(4),y=this.reader.readData(g),this.zip64ExtensibleData[f]={id:f,length:g,value:y}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var f,g;for(f=0;f<this.files.length;f++)g=this.files[f],this.reader.setIndex(g.localHeaderOffset),this.checkSignature(c.LOCAL_FILE_HEADER),g.readLocalPart(this.reader),g.handleUTF8(),g.processAttributes()},readCentralDir:function(){var f;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(c.CENTRAL_FILE_HEADER);)(f=new d({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(f);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var f=this.reader.lastIndexOfSignature(c.CENTRAL_DIRECTORY_END);if(f<0)throw this.isSignature(0,c.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(f);var g=f;if(this.checkSignature(c.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===o.MAX_VALUE_16BITS||this.diskWithCentralDirStart===o.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===o.MAX_VALUE_16BITS||this.centralDirRecords===o.MAX_VALUE_16BITS||this.centralDirSize===o.MAX_VALUE_32BITS||this.centralDirOffset===o.MAX_VALUE_32BITS){if(this.zip64=!0,(f=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(f),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,c.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(c.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var y=this.centralDirOffset+this.centralDirSize;this.zip64&&(y+=20,y+=12+this.zip64EndOfCentralSize);var v=g-y;if(0<v)this.isSignature(g,c.CENTRAL_FILE_HEADER)||(this.reader.zero=v);else if(v<0)throw new Error("Corrupted zip: missing "+Math.abs(v)+" bytes.")},prepareReader:function(f){this.reader=i(f)},load:function(f){this.prepareReader(f),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},n.exports=m},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(r,n,a){var i=r("./reader/readerFor"),o=r("./utils"),c=r("./compressedObject"),d=r("./crc32"),h=r("./utf8"),m=r("./compressions"),f=r("./support");function g(y,v){this.options=y,this.loadOptions=v}g.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(y){var v,w;if(y.skip(22),this.fileNameLength=y.readInt(2),w=y.readInt(2),this.fileName=y.readData(this.fileNameLength),y.skip(w),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((v=(function(j){for(var b in m)if(Object.prototype.hasOwnProperty.call(m,b)&&m[b].magic===j)return m[b];return null})(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+o.pretty(this.compressionMethod)+" unknown (inner file : "+o.transformTo("string",this.fileName)+")");this.decompressed=new c(this.compressedSize,this.uncompressedSize,this.crc32,v,y.readData(this.compressedSize))},readCentralPart:function(y){this.versionMadeBy=y.readInt(2),y.skip(2),this.bitFlag=y.readInt(2),this.compressionMethod=y.readString(2),this.date=y.readDate(),this.crc32=y.readInt(4),this.compressedSize=y.readInt(4),this.uncompressedSize=y.readInt(4);var v=y.readInt(2);if(this.extraFieldsLength=y.readInt(2),this.fileCommentLength=y.readInt(2),this.diskNumberStart=y.readInt(2),this.internalFileAttributes=y.readInt(2),this.externalFileAttributes=y.readInt(4),this.localHeaderOffset=y.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");y.skip(v),this.readExtraFields(y),this.parseZIP64ExtraField(y),this.fileComment=y.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var y=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),y==0&&(this.dosPermissions=63&this.externalFileAttributes),y==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var y=i(this.extraFields[1].value);this.uncompressedSize===o.MAX_VALUE_32BITS&&(this.uncompressedSize=y.readInt(8)),this.compressedSize===o.MAX_VALUE_32BITS&&(this.compressedSize=y.readInt(8)),this.localHeaderOffset===o.MAX_VALUE_32BITS&&(this.localHeaderOffset=y.readInt(8)),this.diskNumberStart===o.MAX_VALUE_32BITS&&(this.diskNumberStart=y.readInt(4))}},readExtraFields:function(y){var v,w,j,b=y.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});y.index+4<b;)v=y.readInt(2),w=y.readInt(2),j=y.readData(w),this.extraFields[v]={id:v,length:w,value:j};y.setIndex(b)},handleUTF8:function(){var y=f.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=h.utf8decode(this.fileName),this.fileCommentStr=h.utf8decode(this.fileComment);else{var v=this.findExtraFieldUnicodePath();if(v!==null)this.fileNameStr=v;else{var w=o.transformTo(y,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(w)}var j=this.findExtraFieldUnicodeComment();if(j!==null)this.fileCommentStr=j;else{var b=o.transformTo(y,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(b)}}},findExtraFieldUnicodePath:function(){var y=this.extraFields[28789];if(y){var v=i(y.value);return v.readInt(1)!==1||d(this.fileName)!==v.readInt(4)?null:h.utf8decode(v.readData(y.length-5))}return null},findExtraFieldUnicodeComment:function(){var y=this.extraFields[25461];if(y){var v=i(y.value);return v.readInt(1)!==1||d(this.fileComment)!==v.readInt(4)?null:h.utf8decode(v.readData(y.length-5))}return null}},n.exports=g},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(r,n,a){function i(v,w,j){this.name=v,this.dir=j.dir,this.date=j.date,this.comment=j.comment,this.unixPermissions=j.unixPermissions,this.dosPermissions=j.dosPermissions,this._data=w,this._dataBinary=j.binary,this.options={compression:j.compression,compressionOptions:j.compressionOptions}}var o=r("./stream/StreamHelper"),c=r("./stream/DataWorker"),d=r("./utf8"),h=r("./compressedObject"),m=r("./stream/GenericWorker");i.prototype={internalStream:function(v){var w=null,j="string";try{if(!v)throw new Error("No output type specified.");var b=(j=v.toLowerCase())==="string"||j==="text";j!=="binarystring"&&j!=="text"||(j="string"),w=this._decompressWorker();var N=!this._dataBinary;N&&!b&&(w=w.pipe(new d.Utf8EncodeWorker)),!N&&b&&(w=w.pipe(new d.Utf8DecodeWorker))}catch(k){(w=new m("error")).error(k)}return new o(w,j,"")},async:function(v,w){return this.internalStream(v).accumulate(w)},nodeStream:function(v,w){return this.internalStream(v||"nodebuffer").toNodejsStream(w)},_compressWorker:function(v,w){if(this._data instanceof h&&this._data.compression.magic===v.magic)return this._data.getCompressedWorker();var j=this._decompressWorker();return this._dataBinary||(j=j.pipe(new d.Utf8EncodeWorker)),h.createWorkerFrom(j,v,w)},_decompressWorker:function(){return this._data instanceof h?this._data.getContentWorker():this._data instanceof m?this._data:new c(this._data)}};for(var f=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],g=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},y=0;y<f.length;y++)i.prototype[f[y]]=g;n.exports=i},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(r,n,a){(function(i){var o,c,d=i.MutationObserver||i.WebKitMutationObserver;if(d){var h=0,m=new d(v),f=i.document.createTextNode("");m.observe(f,{characterData:!0}),o=function(){f.data=h=++h%2}}else if(i.setImmediate||i.MessageChannel===void 0)o="document"in i&&"onreadystatechange"in i.document.createElement("script")?function(){var w=i.document.createElement("script");w.onreadystatechange=function(){v(),w.onreadystatechange=null,w.parentNode.removeChild(w),w=null},i.document.documentElement.appendChild(w)}:function(){setTimeout(v,0)};else{var g=new i.MessageChannel;g.port1.onmessage=v,o=function(){g.port2.postMessage(0)}}var y=[];function v(){var w,j;c=!0;for(var b=y.length;b;){for(j=y,y=[],w=-1;++w<b;)j[w]();b=y.length}c=!1}n.exports=function(w){y.push(w)!==1||c||o()}}).call(this,typeof zi<"u"?zi:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(r,n,a){var i=r("immediate");function o(){}var c={},d=["REJECTED"],h=["FULFILLED"],m=["PENDING"];function f(b){if(typeof b!="function")throw new TypeError("resolver must be a function");this.state=m,this.queue=[],this.outcome=void 0,b!==o&&w(this,b)}function g(b,N,k){this.promise=b,typeof N=="function"&&(this.onFulfilled=N,this.callFulfilled=this.otherCallFulfilled),typeof k=="function"&&(this.onRejected=k,this.callRejected=this.otherCallRejected)}function y(b,N,k){i(function(){var S;try{S=N(k)}catch(C){return c.reject(b,C)}S===b?c.reject(b,new TypeError("Cannot resolve promise with itself")):c.resolve(b,S)})}function v(b){var N=b&&b.then;if(b&&(typeof b=="object"||typeof b=="function")&&typeof N=="function")return function(){N.apply(b,arguments)}}function w(b,N){var k=!1;function S(E){k||(k=!0,c.reject(b,E))}function C(E){k||(k=!0,c.resolve(b,E))}var B=j(function(){N(C,S)});B.status==="error"&&S(B.value)}function j(b,N){var k={};try{k.value=b(N),k.status="success"}catch(S){k.status="error",k.value=S}return k}(n.exports=f).prototype.finally=function(b){if(typeof b!="function")return this;var N=this.constructor;return this.then(function(k){return N.resolve(b()).then(function(){return k})},function(k){return N.resolve(b()).then(function(){throw k})})},f.prototype.catch=function(b){return this.then(null,b)},f.prototype.then=function(b,N){if(typeof b!="function"&&this.state===h||typeof N!="function"&&this.state===d)return this;var k=new this.constructor(o);return this.state!==m?y(k,this.state===h?b:N,this.outcome):this.queue.push(new g(k,b,N)),k},g.prototype.callFulfilled=function(b){c.resolve(this.promise,b)},g.prototype.otherCallFulfilled=function(b){y(this.promise,this.onFulfilled,b)},g.prototype.callRejected=function(b){c.reject(this.promise,b)},g.prototype.otherCallRejected=function(b){y(this.promise,this.onRejected,b)},c.resolve=function(b,N){var k=j(v,N);if(k.status==="error")return c.reject(b,k.value);var S=k.value;if(S)w(b,S);else{b.state=h,b.outcome=N;for(var C=-1,B=b.queue.length;++C<B;)b.queue[C].callFulfilled(N)}return b},c.reject=function(b,N){b.state=d,b.outcome=N;for(var k=-1,S=b.queue.length;++k<S;)b.queue[k].callRejected(N);return b},f.resolve=function(b){return b instanceof this?b:c.resolve(new this(o),b)},f.reject=function(b){var N=new this(o);return c.reject(N,b)},f.all=function(b){var N=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=b.length,S=!1;if(!k)return this.resolve([]);for(var C=new Array(k),B=0,E=-1,z=new this(o);++E<k;)T(b[E],E);return z;function T(W,U){N.resolve(W).then(function(L){C[U]=L,++B!==k||S||(S=!0,c.resolve(z,C))},function(L){S||(S=!0,c.reject(z,L))})}},f.race=function(b){var N=this;if(Object.prototype.toString.call(b)!=="[object Array]")return this.reject(new TypeError("must be an array"));var k=b.length,S=!1;if(!k)return this.resolve([]);for(var C=-1,B=new this(o);++C<k;)E=b[C],N.resolve(E).then(function(z){S||(S=!0,c.resolve(B,z))},function(z){S||(S=!0,c.reject(B,z))});var E;return B}},{immediate:36}],38:[function(r,n,a){var i={};(0,r("./lib/utils/common").assign)(i,r("./lib/deflate"),r("./lib/inflate"),r("./lib/zlib/constants")),n.exports=i},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(r,n,a){var i=r("./zlib/deflate"),o=r("./utils/common"),c=r("./utils/strings"),d=r("./zlib/messages"),h=r("./zlib/zstream"),m=Object.prototype.toString,f=0,g=-1,y=0,v=8;function w(b){if(!(this instanceof w))return new w(b);this.options=o.assign({level:g,method:v,chunkSize:16384,windowBits:15,memLevel:8,strategy:y,to:""},b||{});var N=this.options;N.raw&&0<N.windowBits?N.windowBits=-N.windowBits:N.gzip&&0<N.windowBits&&N.windowBits<16&&(N.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new h,this.strm.avail_out=0;var k=i.deflateInit2(this.strm,N.level,N.method,N.windowBits,N.memLevel,N.strategy);if(k!==f)throw new Error(d[k]);if(N.header&&i.deflateSetHeader(this.strm,N.header),N.dictionary){var S;if(S=typeof N.dictionary=="string"?c.string2buf(N.dictionary):m.call(N.dictionary)==="[object ArrayBuffer]"?new Uint8Array(N.dictionary):N.dictionary,(k=i.deflateSetDictionary(this.strm,S))!==f)throw new Error(d[k]);this._dict_set=!0}}function j(b,N){var k=new w(N);if(k.push(b,!0),k.err)throw k.msg||d[k.err];return k.result}w.prototype.push=function(b,N){var k,S,C=this.strm,B=this.options.chunkSize;if(this.ended)return!1;S=N===~~N?N:N===!0?4:0,typeof b=="string"?C.input=c.string2buf(b):m.call(b)==="[object ArrayBuffer]"?C.input=new Uint8Array(b):C.input=b,C.next_in=0,C.avail_in=C.input.length;do{if(C.avail_out===0&&(C.output=new o.Buf8(B),C.next_out=0,C.avail_out=B),(k=i.deflate(C,S))!==1&&k!==f)return this.onEnd(k),!(this.ended=!0);C.avail_out!==0&&(C.avail_in!==0||S!==4&&S!==2)||(this.options.to==="string"?this.onData(c.buf2binstring(o.shrinkBuf(C.output,C.next_out))):this.onData(o.shrinkBuf(C.output,C.next_out)))}while((0<C.avail_in||C.avail_out===0)&&k!==1);return S===4?(k=i.deflateEnd(this.strm),this.onEnd(k),this.ended=!0,k===f):S!==2||(this.onEnd(f),!(C.avail_out=0))},w.prototype.onData=function(b){this.chunks.push(b)},w.prototype.onEnd=function(b){b===f&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=b,this.msg=this.strm.msg},a.Deflate=w,a.deflate=j,a.deflateRaw=function(b,N){return(N=N||{}).raw=!0,j(b,N)},a.gzip=function(b,N){return(N=N||{}).gzip=!0,j(b,N)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(r,n,a){var i=r("./zlib/inflate"),o=r("./utils/common"),c=r("./utils/strings"),d=r("./zlib/constants"),h=r("./zlib/messages"),m=r("./zlib/zstream"),f=r("./zlib/gzheader"),g=Object.prototype.toString;function y(w){if(!(this instanceof y))return new y(w);this.options=o.assign({chunkSize:16384,windowBits:0,to:""},w||{});var j=this.options;j.raw&&0<=j.windowBits&&j.windowBits<16&&(j.windowBits=-j.windowBits,j.windowBits===0&&(j.windowBits=-15)),!(0<=j.windowBits&&j.windowBits<16)||w&&w.windowBits||(j.windowBits+=32),15<j.windowBits&&j.windowBits<48&&(15&j.windowBits)==0&&(j.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new m,this.strm.avail_out=0;var b=i.inflateInit2(this.strm,j.windowBits);if(b!==d.Z_OK)throw new Error(h[b]);this.header=new f,i.inflateGetHeader(this.strm,this.header)}function v(w,j){var b=new y(j);if(b.push(w,!0),b.err)throw b.msg||h[b.err];return b.result}y.prototype.push=function(w,j){var b,N,k,S,C,B,E=this.strm,z=this.options.chunkSize,T=this.options.dictionary,W=!1;if(this.ended)return!1;N=j===~~j?j:j===!0?d.Z_FINISH:d.Z_NO_FLUSH,typeof w=="string"?E.input=c.binstring2buf(w):g.call(w)==="[object ArrayBuffer]"?E.input=new Uint8Array(w):E.input=w,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new o.Buf8(z),E.next_out=0,E.avail_out=z),(b=i.inflate(E,d.Z_NO_FLUSH))===d.Z_NEED_DICT&&T&&(B=typeof T=="string"?c.string2buf(T):g.call(T)==="[object ArrayBuffer]"?new Uint8Array(T):T,b=i.inflateSetDictionary(this.strm,B)),b===d.Z_BUF_ERROR&&W===!0&&(b=d.Z_OK,W=!1),b!==d.Z_STREAM_END&&b!==d.Z_OK)return this.onEnd(b),!(this.ended=!0);E.next_out&&(E.avail_out!==0&&b!==d.Z_STREAM_END&&(E.avail_in!==0||N!==d.Z_FINISH&&N!==d.Z_SYNC_FLUSH)||(this.options.to==="string"?(k=c.utf8border(E.output,E.next_out),S=E.next_out-k,C=c.buf2string(E.output,k),E.next_out=S,E.avail_out=z-S,S&&o.arraySet(E.output,E.output,k,S,0),this.onData(C)):this.onData(o.shrinkBuf(E.output,E.next_out)))),E.avail_in===0&&E.avail_out===0&&(W=!0)}while((0<E.avail_in||E.avail_out===0)&&b!==d.Z_STREAM_END);return b===d.Z_STREAM_END&&(N=d.Z_FINISH),N===d.Z_FINISH?(b=i.inflateEnd(this.strm),this.onEnd(b),this.ended=!0,b===d.Z_OK):N!==d.Z_SYNC_FLUSH||(this.onEnd(d.Z_OK),!(E.avail_out=0))},y.prototype.onData=function(w){this.chunks.push(w)},y.prototype.onEnd=function(w){w===d.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=o.flattenChunks(this.chunks)),this.chunks=[],this.err=w,this.msg=this.strm.msg},a.Inflate=y,a.inflate=v,a.inflateRaw=function(w,j){return(j=j||{}).raw=!0,v(w,j)},a.ungzip=v},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(r,n,a){var i=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";a.assign=function(d){for(var h=Array.prototype.slice.call(arguments,1);h.length;){var m=h.shift();if(m){if(typeof m!="object")throw new TypeError(m+"must be non-object");for(var f in m)m.hasOwnProperty(f)&&(d[f]=m[f])}}return d},a.shrinkBuf=function(d,h){return d.length===h?d:d.subarray?d.subarray(0,h):(d.length=h,d)};var o={arraySet:function(d,h,m,f,g){if(h.subarray&&d.subarray)d.set(h.subarray(m,m+f),g);else for(var y=0;y<f;y++)d[g+y]=h[m+y]},flattenChunks:function(d){var h,m,f,g,y,v;for(h=f=0,m=d.length;h<m;h++)f+=d[h].length;for(v=new Uint8Array(f),h=g=0,m=d.length;h<m;h++)y=d[h],v.set(y,g),g+=y.length;return v}},c={arraySet:function(d,h,m,f,g){for(var y=0;y<f;y++)d[g+y]=h[m+y]},flattenChunks:function(d){return[].concat.apply([],d)}};a.setTyped=function(d){d?(a.Buf8=Uint8Array,a.Buf16=Uint16Array,a.Buf32=Int32Array,a.assign(a,o)):(a.Buf8=Array,a.Buf16=Array,a.Buf32=Array,a.assign(a,c))},a.setTyped(i)},{}],42:[function(r,n,a){var i=r("./common"),o=!0,c=!0;try{String.fromCharCode.apply(null,[0])}catch{o=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{c=!1}for(var d=new i.Buf8(256),h=0;h<256;h++)d[h]=252<=h?6:248<=h?5:240<=h?4:224<=h?3:192<=h?2:1;function m(f,g){if(g<65537&&(f.subarray&&c||!f.subarray&&o))return String.fromCharCode.apply(null,i.shrinkBuf(f,g));for(var y="",v=0;v<g;v++)y+=String.fromCharCode(f[v]);return y}d[254]=d[254]=1,a.string2buf=function(f){var g,y,v,w,j,b=f.length,N=0;for(w=0;w<b;w++)(64512&(y=f.charCodeAt(w)))==55296&&w+1<b&&(64512&(v=f.charCodeAt(w+1)))==56320&&(y=65536+(y-55296<<10)+(v-56320),w++),N+=y<128?1:y<2048?2:y<65536?3:4;for(g=new i.Buf8(N),w=j=0;j<N;w++)(64512&(y=f.charCodeAt(w)))==55296&&w+1<b&&(64512&(v=f.charCodeAt(w+1)))==56320&&(y=65536+(y-55296<<10)+(v-56320),w++),y<128?g[j++]=y:(y<2048?g[j++]=192|y>>>6:(y<65536?g[j++]=224|y>>>12:(g[j++]=240|y>>>18,g[j++]=128|y>>>12&63),g[j++]=128|y>>>6&63),g[j++]=128|63&y);return g},a.buf2binstring=function(f){return m(f,f.length)},a.binstring2buf=function(f){for(var g=new i.Buf8(f.length),y=0,v=g.length;y<v;y++)g[y]=f.charCodeAt(y);return g},a.buf2string=function(f,g){var y,v,w,j,b=g||f.length,N=new Array(2*b);for(y=v=0;y<b;)if((w=f[y++])<128)N[v++]=w;else if(4<(j=d[w]))N[v++]=65533,y+=j-1;else{for(w&=j===2?31:j===3?15:7;1<j&&y<b;)w=w<<6|63&f[y++],j--;1<j?N[v++]=65533:w<65536?N[v++]=w:(w-=65536,N[v++]=55296|w>>10&1023,N[v++]=56320|1023&w)}return m(N,v)},a.utf8border=function(f,g){var y;for((g=g||f.length)>f.length&&(g=f.length),y=g-1;0<=y&&(192&f[y])==128;)y--;return y<0||y===0?g:y+d[f[y]]>g?y:g}},{"./common":41}],43:[function(r,n,a){n.exports=function(i,o,c,d){for(var h=65535&i|0,m=i>>>16&65535|0,f=0;c!==0;){for(c-=f=2e3<c?2e3:c;m=m+(h=h+o[d++]|0)|0,--f;);h%=65521,m%=65521}return h|m<<16|0}},{}],44:[function(r,n,a){n.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(r,n,a){var i=(function(){for(var o,c=[],d=0;d<256;d++){o=d;for(var h=0;h<8;h++)o=1&o?3988292384^o>>>1:o>>>1;c[d]=o}return c})();n.exports=function(o,c,d,h){var m=i,f=h+d;o^=-1;for(var g=h;g<f;g++)o=o>>>8^m[255&(o^c[g])];return-1^o}},{}],46:[function(r,n,a){var i,o=r("../utils/common"),c=r("./trees"),d=r("./adler32"),h=r("./crc32"),m=r("./messages"),f=0,g=4,y=0,v=-2,w=-1,j=4,b=2,N=8,k=9,S=286,C=30,B=19,E=2*S+1,z=15,T=3,W=258,U=W+T+1,L=42,Z=113,O=1,se=2,K=3,M=4;function X(F,Ee){return F.msg=m[Ee],Ee}function $(F){return(F<<1)-(4<F?9:0)}function oe(F){for(var Ee=F.length;0<=--Ee;)F[Ee]=0}function q(F){var Ee=F.state,J=Ee.pending;J>F.avail_out&&(J=F.avail_out),J!==0&&(o.arraySet(F.output,Ee.pending_buf,Ee.pending_out,J,F.next_out),F.next_out+=J,Ee.pending_out+=J,F.total_out+=J,F.avail_out-=J,Ee.pending-=J,Ee.pending===0&&(Ee.pending_out=0))}function Y(F,Ee){c._tr_flush_block(F,0<=F.block_start?F.block_start:-1,F.strstart-F.block_start,Ee),F.block_start=F.strstart,q(F.strm)}function ce(F,Ee){F.pending_buf[F.pending++]=Ee}function le(F,Ee){F.pending_buf[F.pending++]=Ee>>>8&255,F.pending_buf[F.pending++]=255&Ee}function be(F,Ee){var J,R,P=F.max_chain_length,G=F.strstart,we=F.prev_length,de=F.nice_match,he=F.strstart>F.w_size-U?F.strstart-(F.w_size-U):0,xe=F.window,Me=F.w_mask,Re=F.prev,$e=F.strstart+W,Je=xe[G+we-1],st=xe[G+we];F.prev_length>=F.good_match&&(P>>=2),de>F.lookahead&&(de=F.lookahead);do if(xe[(J=Ee)+we]===st&&xe[J+we-1]===Je&&xe[J]===xe[G]&&xe[++J]===xe[G+1]){G+=2,J++;do;while(xe[++G]===xe[++J]&&xe[++G]===xe[++J]&&xe[++G]===xe[++J]&&xe[++G]===xe[++J]&&xe[++G]===xe[++J]&&xe[++G]===xe[++J]&&xe[++G]===xe[++J]&&xe[++G]===xe[++J]&&G<$e);if(R=W-($e-G),G=$e-W,we<R){if(F.match_start=Ee,de<=(we=R))break;Je=xe[G+we-1],st=xe[G+we]}}while((Ee=Re[Ee&Me])>he&&--P!=0);return we<=F.lookahead?we:F.lookahead}function ge(F){var Ee,J,R,P,G,we,de,he,xe,Me,Re=F.w_size;do{if(P=F.window_size-F.lookahead-F.strstart,F.strstart>=Re+(Re-U)){for(o.arraySet(F.window,F.window,Re,Re,0),F.match_start-=Re,F.strstart-=Re,F.block_start-=Re,Ee=J=F.hash_size;R=F.head[--Ee],F.head[Ee]=Re<=R?R-Re:0,--J;);for(Ee=J=Re;R=F.prev[--Ee],F.prev[Ee]=Re<=R?R-Re:0,--J;);P+=Re}if(F.strm.avail_in===0)break;if(we=F.strm,de=F.window,he=F.strstart+F.lookahead,xe=P,Me=void 0,Me=we.avail_in,xe<Me&&(Me=xe),J=Me===0?0:(we.avail_in-=Me,o.arraySet(de,we.input,we.next_in,Me,he),we.state.wrap===1?we.adler=d(we.adler,de,Me,he):we.state.wrap===2&&(we.adler=h(we.adler,de,Me,he)),we.next_in+=Me,we.total_in+=Me,Me),F.lookahead+=J,F.lookahead+F.insert>=T)for(G=F.strstart-F.insert,F.ins_h=F.window[G],F.ins_h=(F.ins_h<<F.hash_shift^F.window[G+1])&F.hash_mask;F.insert&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[G+T-1])&F.hash_mask,F.prev[G&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=G,G++,F.insert--,!(F.lookahead+F.insert<T)););}while(F.lookahead<U&&F.strm.avail_in!==0)}function V(F,Ee){for(var J,R;;){if(F.lookahead<U){if(ge(F),F.lookahead<U&&Ee===f)return O;if(F.lookahead===0)break}if(J=0,F.lookahead>=T&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+T-1])&F.hash_mask,J=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),J!==0&&F.strstart-J<=F.w_size-U&&(F.match_length=be(F,J)),F.match_length>=T)if(R=c._tr_tally(F,F.strstart-F.match_start,F.match_length-T),F.lookahead-=F.match_length,F.match_length<=F.max_lazy_match&&F.lookahead>=T){for(F.match_length--;F.strstart++,F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+T-1])&F.hash_mask,J=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart,--F.match_length!=0;);F.strstart++}else F.strstart+=F.match_length,F.match_length=0,F.ins_h=F.window[F.strstart],F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+1])&F.hash_mask;else R=c._tr_tally(F,0,F.window[F.strstart]),F.lookahead--,F.strstart++;if(R&&(Y(F,!1),F.strm.avail_out===0))return O}return F.insert=F.strstart<T-1?F.strstart:T-1,Ee===g?(Y(F,!0),F.strm.avail_out===0?K:M):F.last_lit&&(Y(F,!1),F.strm.avail_out===0)?O:se}function H(F,Ee){for(var J,R,P;;){if(F.lookahead<U){if(ge(F),F.lookahead<U&&Ee===f)return O;if(F.lookahead===0)break}if(J=0,F.lookahead>=T&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+T-1])&F.hash_mask,J=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),F.prev_length=F.match_length,F.prev_match=F.match_start,F.match_length=T-1,J!==0&&F.prev_length<F.max_lazy_match&&F.strstart-J<=F.w_size-U&&(F.match_length=be(F,J),F.match_length<=5&&(F.strategy===1||F.match_length===T&&4096<F.strstart-F.match_start)&&(F.match_length=T-1)),F.prev_length>=T&&F.match_length<=F.prev_length){for(P=F.strstart+F.lookahead-T,R=c._tr_tally(F,F.strstart-1-F.prev_match,F.prev_length-T),F.lookahead-=F.prev_length-1,F.prev_length-=2;++F.strstart<=P&&(F.ins_h=(F.ins_h<<F.hash_shift^F.window[F.strstart+T-1])&F.hash_mask,J=F.prev[F.strstart&F.w_mask]=F.head[F.ins_h],F.head[F.ins_h]=F.strstart),--F.prev_length!=0;);if(F.match_available=0,F.match_length=T-1,F.strstart++,R&&(Y(F,!1),F.strm.avail_out===0))return O}else if(F.match_available){if((R=c._tr_tally(F,0,F.window[F.strstart-1]))&&Y(F,!1),F.strstart++,F.lookahead--,F.strm.avail_out===0)return O}else F.match_available=1,F.strstart++,F.lookahead--}return F.match_available&&(R=c._tr_tally(F,0,F.window[F.strstart-1]),F.match_available=0),F.insert=F.strstart<T-1?F.strstart:T-1,Ee===g?(Y(F,!0),F.strm.avail_out===0?K:M):F.last_lit&&(Y(F,!1),F.strm.avail_out===0)?O:se}function me(F,Ee,J,R,P){this.good_length=F,this.max_lazy=Ee,this.nice_length=J,this.max_chain=R,this.func=P}function Q(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=N,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new o.Buf16(2*E),this.dyn_dtree=new o.Buf16(2*(2*C+1)),this.bl_tree=new o.Buf16(2*(2*B+1)),oe(this.dyn_ltree),oe(this.dyn_dtree),oe(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new o.Buf16(z+1),this.heap=new o.Buf16(2*S+1),oe(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new o.Buf16(2*S+1),oe(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function te(F){var Ee;return F&&F.state?(F.total_in=F.total_out=0,F.data_type=b,(Ee=F.state).pending=0,Ee.pending_out=0,Ee.wrap<0&&(Ee.wrap=-Ee.wrap),Ee.status=Ee.wrap?L:Z,F.adler=Ee.wrap===2?0:1,Ee.last_flush=f,c._tr_init(Ee),y):X(F,v)}function ee(F){var Ee=te(F);return Ee===y&&(function(J){J.window_size=2*J.w_size,oe(J.head),J.max_lazy_match=i[J.level].max_lazy,J.good_match=i[J.level].good_length,J.nice_match=i[J.level].nice_length,J.max_chain_length=i[J.level].max_chain,J.strstart=0,J.block_start=0,J.lookahead=0,J.insert=0,J.match_length=J.prev_length=T-1,J.match_available=0,J.ins_h=0})(F.state),Ee}function Ce(F,Ee,J,R,P,G){if(!F)return v;var we=1;if(Ee===w&&(Ee=6),R<0?(we=0,R=-R):15<R&&(we=2,R-=16),P<1||k<P||J!==N||R<8||15<R||Ee<0||9<Ee||G<0||j<G)return X(F,v);R===8&&(R=9);var de=new Q;return(F.state=de).strm=F,de.wrap=we,de.gzhead=null,de.w_bits=R,de.w_size=1<<de.w_bits,de.w_mask=de.w_size-1,de.hash_bits=P+7,de.hash_size=1<<de.hash_bits,de.hash_mask=de.hash_size-1,de.hash_shift=~~((de.hash_bits+T-1)/T),de.window=new o.Buf8(2*de.w_size),de.head=new o.Buf16(de.hash_size),de.prev=new o.Buf16(de.w_size),de.lit_bufsize=1<<P+6,de.pending_buf_size=4*de.lit_bufsize,de.pending_buf=new o.Buf8(de.pending_buf_size),de.d_buf=1*de.lit_bufsize,de.l_buf=3*de.lit_bufsize,de.level=Ee,de.strategy=G,de.method=J,ee(F)}i=[new me(0,0,0,0,function(F,Ee){var J=65535;for(J>F.pending_buf_size-5&&(J=F.pending_buf_size-5);;){if(F.lookahead<=1){if(ge(F),F.lookahead===0&&Ee===f)return O;if(F.lookahead===0)break}F.strstart+=F.lookahead,F.lookahead=0;var R=F.block_start+J;if((F.strstart===0||F.strstart>=R)&&(F.lookahead=F.strstart-R,F.strstart=R,Y(F,!1),F.strm.avail_out===0)||F.strstart-F.block_start>=F.w_size-U&&(Y(F,!1),F.strm.avail_out===0))return O}return F.insert=0,Ee===g?(Y(F,!0),F.strm.avail_out===0?K:M):(F.strstart>F.block_start&&(Y(F,!1),F.strm.avail_out),O)}),new me(4,4,8,4,V),new me(4,5,16,8,V),new me(4,6,32,32,V),new me(4,4,16,16,H),new me(8,16,32,32,H),new me(8,16,128,128,H),new me(8,32,128,256,H),new me(32,128,258,1024,H),new me(32,258,258,4096,H)],a.deflateInit=function(F,Ee){return Ce(F,Ee,N,15,8,0)},a.deflateInit2=Ce,a.deflateReset=ee,a.deflateResetKeep=te,a.deflateSetHeader=function(F,Ee){return F&&F.state?F.state.wrap!==2?v:(F.state.gzhead=Ee,y):v},a.deflate=function(F,Ee){var J,R,P,G;if(!F||!F.state||5<Ee||Ee<0)return F?X(F,v):v;if(R=F.state,!F.output||!F.input&&F.avail_in!==0||R.status===666&&Ee!==g)return X(F,F.avail_out===0?-5:v);if(R.strm=F,J=R.last_flush,R.last_flush=Ee,R.status===L)if(R.wrap===2)F.adler=0,ce(R,31),ce(R,139),ce(R,8),R.gzhead?(ce(R,(R.gzhead.text?1:0)+(R.gzhead.hcrc?2:0)+(R.gzhead.extra?4:0)+(R.gzhead.name?8:0)+(R.gzhead.comment?16:0)),ce(R,255&R.gzhead.time),ce(R,R.gzhead.time>>8&255),ce(R,R.gzhead.time>>16&255),ce(R,R.gzhead.time>>24&255),ce(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),ce(R,255&R.gzhead.os),R.gzhead.extra&&R.gzhead.extra.length&&(ce(R,255&R.gzhead.extra.length),ce(R,R.gzhead.extra.length>>8&255)),R.gzhead.hcrc&&(F.adler=h(F.adler,R.pending_buf,R.pending,0)),R.gzindex=0,R.status=69):(ce(R,0),ce(R,0),ce(R,0),ce(R,0),ce(R,0),ce(R,R.level===9?2:2<=R.strategy||R.level<2?4:0),ce(R,3),R.status=Z);else{var we=N+(R.w_bits-8<<4)<<8;we|=(2<=R.strategy||R.level<2?0:R.level<6?1:R.level===6?2:3)<<6,R.strstart!==0&&(we|=32),we+=31-we%31,R.status=Z,le(R,we),R.strstart!==0&&(le(R,F.adler>>>16),le(R,65535&F.adler)),F.adler=1}if(R.status===69)if(R.gzhead.extra){for(P=R.pending;R.gzindex<(65535&R.gzhead.extra.length)&&(R.pending!==R.pending_buf_size||(R.gzhead.hcrc&&R.pending>P&&(F.adler=h(F.adler,R.pending_buf,R.pending-P,P)),q(F),P=R.pending,R.pending!==R.pending_buf_size));)ce(R,255&R.gzhead.extra[R.gzindex]),R.gzindex++;R.gzhead.hcrc&&R.pending>P&&(F.adler=h(F.adler,R.pending_buf,R.pending-P,P)),R.gzindex===R.gzhead.extra.length&&(R.gzindex=0,R.status=73)}else R.status=73;if(R.status===73)if(R.gzhead.name){P=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>P&&(F.adler=h(F.adler,R.pending_buf,R.pending-P,P)),q(F),P=R.pending,R.pending===R.pending_buf_size)){G=1;break}G=R.gzindex<R.gzhead.name.length?255&R.gzhead.name.charCodeAt(R.gzindex++):0,ce(R,G)}while(G!==0);R.gzhead.hcrc&&R.pending>P&&(F.adler=h(F.adler,R.pending_buf,R.pending-P,P)),G===0&&(R.gzindex=0,R.status=91)}else R.status=91;if(R.status===91)if(R.gzhead.comment){P=R.pending;do{if(R.pending===R.pending_buf_size&&(R.gzhead.hcrc&&R.pending>P&&(F.adler=h(F.adler,R.pending_buf,R.pending-P,P)),q(F),P=R.pending,R.pending===R.pending_buf_size)){G=1;break}G=R.gzindex<R.gzhead.comment.length?255&R.gzhead.comment.charCodeAt(R.gzindex++):0,ce(R,G)}while(G!==0);R.gzhead.hcrc&&R.pending>P&&(F.adler=h(F.adler,R.pending_buf,R.pending-P,P)),G===0&&(R.status=103)}else R.status=103;if(R.status===103&&(R.gzhead.hcrc?(R.pending+2>R.pending_buf_size&&q(F),R.pending+2<=R.pending_buf_size&&(ce(R,255&F.adler),ce(R,F.adler>>8&255),F.adler=0,R.status=Z)):R.status=Z),R.pending!==0){if(q(F),F.avail_out===0)return R.last_flush=-1,y}else if(F.avail_in===0&&$(Ee)<=$(J)&&Ee!==g)return X(F,-5);if(R.status===666&&F.avail_in!==0)return X(F,-5);if(F.avail_in!==0||R.lookahead!==0||Ee!==f&&R.status!==666){var de=R.strategy===2?(function(he,xe){for(var Me;;){if(he.lookahead===0&&(ge(he),he.lookahead===0)){if(xe===f)return O;break}if(he.match_length=0,Me=c._tr_tally(he,0,he.window[he.strstart]),he.lookahead--,he.strstart++,Me&&(Y(he,!1),he.strm.avail_out===0))return O}return he.insert=0,xe===g?(Y(he,!0),he.strm.avail_out===0?K:M):he.last_lit&&(Y(he,!1),he.strm.avail_out===0)?O:se})(R,Ee):R.strategy===3?(function(he,xe){for(var Me,Re,$e,Je,st=he.window;;){if(he.lookahead<=W){if(ge(he),he.lookahead<=W&&xe===f)return O;if(he.lookahead===0)break}if(he.match_length=0,he.lookahead>=T&&0<he.strstart&&(Re=st[$e=he.strstart-1])===st[++$e]&&Re===st[++$e]&&Re===st[++$e]){Je=he.strstart+W;do;while(Re===st[++$e]&&Re===st[++$e]&&Re===st[++$e]&&Re===st[++$e]&&Re===st[++$e]&&Re===st[++$e]&&Re===st[++$e]&&Re===st[++$e]&&$e<Je);he.match_length=W-(Je-$e),he.match_length>he.lookahead&&(he.match_length=he.lookahead)}if(he.match_length>=T?(Me=c._tr_tally(he,1,he.match_length-T),he.lookahead-=he.match_length,he.strstart+=he.match_length,he.match_length=0):(Me=c._tr_tally(he,0,he.window[he.strstart]),he.lookahead--,he.strstart++),Me&&(Y(he,!1),he.strm.avail_out===0))return O}return he.insert=0,xe===g?(Y(he,!0),he.strm.avail_out===0?K:M):he.last_lit&&(Y(he,!1),he.strm.avail_out===0)?O:se})(R,Ee):i[R.level].func(R,Ee);if(de!==K&&de!==M||(R.status=666),de===O||de===K)return F.avail_out===0&&(R.last_flush=-1),y;if(de===se&&(Ee===1?c._tr_align(R):Ee!==5&&(c._tr_stored_block(R,0,0,!1),Ee===3&&(oe(R.head),R.lookahead===0&&(R.strstart=0,R.block_start=0,R.insert=0))),q(F),F.avail_out===0))return R.last_flush=-1,y}return Ee!==g?y:R.wrap<=0?1:(R.wrap===2?(ce(R,255&F.adler),ce(R,F.adler>>8&255),ce(R,F.adler>>16&255),ce(R,F.adler>>24&255),ce(R,255&F.total_in),ce(R,F.total_in>>8&255),ce(R,F.total_in>>16&255),ce(R,F.total_in>>24&255)):(le(R,F.adler>>>16),le(R,65535&F.adler)),q(F),0<R.wrap&&(R.wrap=-R.wrap),R.pending!==0?y:1)},a.deflateEnd=function(F){var Ee;return F&&F.state?(Ee=F.state.status)!==L&&Ee!==69&&Ee!==73&&Ee!==91&&Ee!==103&&Ee!==Z&&Ee!==666?X(F,v):(F.state=null,Ee===Z?X(F,-3):y):v},a.deflateSetDictionary=function(F,Ee){var J,R,P,G,we,de,he,xe,Me=Ee.length;if(!F||!F.state||(G=(J=F.state).wrap)===2||G===1&&J.status!==L||J.lookahead)return v;for(G===1&&(F.adler=d(F.adler,Ee,Me,0)),J.wrap=0,Me>=J.w_size&&(G===0&&(oe(J.head),J.strstart=0,J.block_start=0,J.insert=0),xe=new o.Buf8(J.w_size),o.arraySet(xe,Ee,Me-J.w_size,J.w_size,0),Ee=xe,Me=J.w_size),we=F.avail_in,de=F.next_in,he=F.input,F.avail_in=Me,F.next_in=0,F.input=Ee,ge(J);J.lookahead>=T;){for(R=J.strstart,P=J.lookahead-(T-1);J.ins_h=(J.ins_h<<J.hash_shift^J.window[R+T-1])&J.hash_mask,J.prev[R&J.w_mask]=J.head[J.ins_h],J.head[J.ins_h]=R,R++,--P;);J.strstart=R,J.lookahead=T-1,ge(J)}return J.strstart+=J.lookahead,J.block_start=J.strstart,J.insert=J.lookahead,J.lookahead=0,J.match_length=J.prev_length=T-1,J.match_available=0,F.next_in=de,F.input=he,F.avail_in=we,J.wrap=G,y},a.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(r,n,a){n.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(r,n,a){n.exports=function(i,o){var c,d,h,m,f,g,y,v,w,j,b,N,k,S,C,B,E,z,T,W,U,L,Z,O,se;c=i.state,d=i.next_in,O=i.input,h=d+(i.avail_in-5),m=i.next_out,se=i.output,f=m-(o-i.avail_out),g=m+(i.avail_out-257),y=c.dmax,v=c.wsize,w=c.whave,j=c.wnext,b=c.window,N=c.hold,k=c.bits,S=c.lencode,C=c.distcode,B=(1<<c.lenbits)-1,E=(1<<c.distbits)-1;e:do{k<15&&(N+=O[d++]<<k,k+=8,N+=O[d++]<<k,k+=8),z=S[N&B];t:for(;;){if(N>>>=T=z>>>24,k-=T,(T=z>>>16&255)===0)se[m++]=65535&z;else{if(!(16&T)){if((64&T)==0){z=S[(65535&z)+(N&(1<<T)-1)];continue t}if(32&T){c.mode=12;break e}i.msg="invalid literal/length code",c.mode=30;break e}W=65535&z,(T&=15)&&(k<T&&(N+=O[d++]<<k,k+=8),W+=N&(1<<T)-1,N>>>=T,k-=T),k<15&&(N+=O[d++]<<k,k+=8,N+=O[d++]<<k,k+=8),z=C[N&E];s:for(;;){if(N>>>=T=z>>>24,k-=T,!(16&(T=z>>>16&255))){if((64&T)==0){z=C[(65535&z)+(N&(1<<T)-1)];continue s}i.msg="invalid distance code",c.mode=30;break e}if(U=65535&z,k<(T&=15)&&(N+=O[d++]<<k,(k+=8)<T&&(N+=O[d++]<<k,k+=8)),y<(U+=N&(1<<T)-1)){i.msg="invalid distance too far back",c.mode=30;break e}if(N>>>=T,k-=T,(T=m-f)<U){if(w<(T=U-T)&&c.sane){i.msg="invalid distance too far back",c.mode=30;break e}if(Z=b,(L=0)===j){if(L+=v-T,T<W){for(W-=T;se[m++]=b[L++],--T;);L=m-U,Z=se}}else if(j<T){if(L+=v+j-T,(T-=j)<W){for(W-=T;se[m++]=b[L++],--T;);if(L=0,j<W){for(W-=T=j;se[m++]=b[L++],--T;);L=m-U,Z=se}}}else if(L+=j-T,T<W){for(W-=T;se[m++]=b[L++],--T;);L=m-U,Z=se}for(;2<W;)se[m++]=Z[L++],se[m++]=Z[L++],se[m++]=Z[L++],W-=3;W&&(se[m++]=Z[L++],1<W&&(se[m++]=Z[L++]))}else{for(L=m-U;se[m++]=se[L++],se[m++]=se[L++],se[m++]=se[L++],2<(W-=3););W&&(se[m++]=se[L++],1<W&&(se[m++]=se[L++]))}break}}break}}while(d<h&&m<g);d-=W=k>>3,N&=(1<<(k-=W<<3))-1,i.next_in=d,i.next_out=m,i.avail_in=d<h?h-d+5:5-(d-h),i.avail_out=m<g?g-m+257:257-(m-g),c.hold=N,c.bits=k}},{}],49:[function(r,n,a){var i=r("../utils/common"),o=r("./adler32"),c=r("./crc32"),d=r("./inffast"),h=r("./inftrees"),m=1,f=2,g=0,y=-2,v=1,w=852,j=592;function b(L){return(L>>>24&255)+(L>>>8&65280)+((65280&L)<<8)+((255&L)<<24)}function N(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new i.Buf16(320),this.work=new i.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function k(L){var Z;return L&&L.state?(Z=L.state,L.total_in=L.total_out=Z.total=0,L.msg="",Z.wrap&&(L.adler=1&Z.wrap),Z.mode=v,Z.last=0,Z.havedict=0,Z.dmax=32768,Z.head=null,Z.hold=0,Z.bits=0,Z.lencode=Z.lendyn=new i.Buf32(w),Z.distcode=Z.distdyn=new i.Buf32(j),Z.sane=1,Z.back=-1,g):y}function S(L){var Z;return L&&L.state?((Z=L.state).wsize=0,Z.whave=0,Z.wnext=0,k(L)):y}function C(L,Z){var O,se;return L&&L.state?(se=L.state,Z<0?(O=0,Z=-Z):(O=1+(Z>>4),Z<48&&(Z&=15)),Z&&(Z<8||15<Z)?y:(se.window!==null&&se.wbits!==Z&&(se.window=null),se.wrap=O,se.wbits=Z,S(L))):y}function B(L,Z){var O,se;return L?(se=new N,(L.state=se).window=null,(O=C(L,Z))!==g&&(L.state=null),O):y}var E,z,T=!0;function W(L){if(T){var Z;for(E=new i.Buf32(512),z=new i.Buf32(32),Z=0;Z<144;)L.lens[Z++]=8;for(;Z<256;)L.lens[Z++]=9;for(;Z<280;)L.lens[Z++]=7;for(;Z<288;)L.lens[Z++]=8;for(h(m,L.lens,0,288,E,0,L.work,{bits:9}),Z=0;Z<32;)L.lens[Z++]=5;h(f,L.lens,0,32,z,0,L.work,{bits:5}),T=!1}L.lencode=E,L.lenbits=9,L.distcode=z,L.distbits=5}function U(L,Z,O,se){var K,M=L.state;return M.window===null&&(M.wsize=1<<M.wbits,M.wnext=0,M.whave=0,M.window=new i.Buf8(M.wsize)),se>=M.wsize?(i.arraySet(M.window,Z,O-M.wsize,M.wsize,0),M.wnext=0,M.whave=M.wsize):(se<(K=M.wsize-M.wnext)&&(K=se),i.arraySet(M.window,Z,O-se,K,M.wnext),(se-=K)?(i.arraySet(M.window,Z,O-se,se,0),M.wnext=se,M.whave=M.wsize):(M.wnext+=K,M.wnext===M.wsize&&(M.wnext=0),M.whave<M.wsize&&(M.whave+=K))),0}a.inflateReset=S,a.inflateReset2=C,a.inflateResetKeep=k,a.inflateInit=function(L){return B(L,15)},a.inflateInit2=B,a.inflate=function(L,Z){var O,se,K,M,X,$,oe,q,Y,ce,le,be,ge,V,H,me,Q,te,ee,Ce,F,Ee,J,R,P=0,G=new i.Buf8(4),we=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!L||!L.state||!L.output||!L.input&&L.avail_in!==0)return y;(O=L.state).mode===12&&(O.mode=13),X=L.next_out,K=L.output,oe=L.avail_out,M=L.next_in,se=L.input,$=L.avail_in,q=O.hold,Y=O.bits,ce=$,le=oe,Ee=g;e:for(;;)switch(O.mode){case v:if(O.wrap===0){O.mode=13;break}for(;Y<16;){if($===0)break e;$--,q+=se[M++]<<Y,Y+=8}if(2&O.wrap&&q===35615){G[O.check=0]=255&q,G[1]=q>>>8&255,O.check=c(O.check,G,2,0),Y=q=0,O.mode=2;break}if(O.flags=0,O.head&&(O.head.done=!1),!(1&O.wrap)||(((255&q)<<8)+(q>>8))%31){L.msg="incorrect header check",O.mode=30;break}if((15&q)!=8){L.msg="unknown compression method",O.mode=30;break}if(Y-=4,F=8+(15&(q>>>=4)),O.wbits===0)O.wbits=F;else if(F>O.wbits){L.msg="invalid window size",O.mode=30;break}O.dmax=1<<F,L.adler=O.check=1,O.mode=512&q?10:12,Y=q=0;break;case 2:for(;Y<16;){if($===0)break e;$--,q+=se[M++]<<Y,Y+=8}if(O.flags=q,(255&O.flags)!=8){L.msg="unknown compression method",O.mode=30;break}if(57344&O.flags){L.msg="unknown header flags set",O.mode=30;break}O.head&&(O.head.text=q>>8&1),512&O.flags&&(G[0]=255&q,G[1]=q>>>8&255,O.check=c(O.check,G,2,0)),Y=q=0,O.mode=3;case 3:for(;Y<32;){if($===0)break e;$--,q+=se[M++]<<Y,Y+=8}O.head&&(O.head.time=q),512&O.flags&&(G[0]=255&q,G[1]=q>>>8&255,G[2]=q>>>16&255,G[3]=q>>>24&255,O.check=c(O.check,G,4,0)),Y=q=0,O.mode=4;case 4:for(;Y<16;){if($===0)break e;$--,q+=se[M++]<<Y,Y+=8}O.head&&(O.head.xflags=255&q,O.head.os=q>>8),512&O.flags&&(G[0]=255&q,G[1]=q>>>8&255,O.check=c(O.check,G,2,0)),Y=q=0,O.mode=5;case 5:if(1024&O.flags){for(;Y<16;){if($===0)break e;$--,q+=se[M++]<<Y,Y+=8}O.length=q,O.head&&(O.head.extra_len=q),512&O.flags&&(G[0]=255&q,G[1]=q>>>8&255,O.check=c(O.check,G,2,0)),Y=q=0}else O.head&&(O.head.extra=null);O.mode=6;case 6:if(1024&O.flags&&($<(be=O.length)&&(be=$),be&&(O.head&&(F=O.head.extra_len-O.length,O.head.extra||(O.head.extra=new Array(O.head.extra_len)),i.arraySet(O.head.extra,se,M,be,F)),512&O.flags&&(O.check=c(O.check,se,be,M)),$-=be,M+=be,O.length-=be),O.length))break e;O.length=0,O.mode=7;case 7:if(2048&O.flags){if($===0)break e;for(be=0;F=se[M+be++],O.head&&F&&O.length<65536&&(O.head.name+=String.fromCharCode(F)),F&&be<$;);if(512&O.flags&&(O.check=c(O.check,se,be,M)),$-=be,M+=be,F)break e}else O.head&&(O.head.name=null);O.length=0,O.mode=8;case 8:if(4096&O.flags){if($===0)break e;for(be=0;F=se[M+be++],O.head&&F&&O.length<65536&&(O.head.comment+=String.fromCharCode(F)),F&&be<$;);if(512&O.flags&&(O.check=c(O.check,se,be,M)),$-=be,M+=be,F)break e}else O.head&&(O.head.comment=null);O.mode=9;case 9:if(512&O.flags){for(;Y<16;){if($===0)break e;$--,q+=se[M++]<<Y,Y+=8}if(q!==(65535&O.check)){L.msg="header crc mismatch",O.mode=30;break}Y=q=0}O.head&&(O.head.hcrc=O.flags>>9&1,O.head.done=!0),L.adler=O.check=0,O.mode=12;break;case 10:for(;Y<32;){if($===0)break e;$--,q+=se[M++]<<Y,Y+=8}L.adler=O.check=b(q),Y=q=0,O.mode=11;case 11:if(O.havedict===0)return L.next_out=X,L.avail_out=oe,L.next_in=M,L.avail_in=$,O.hold=q,O.bits=Y,2;L.adler=O.check=1,O.mode=12;case 12:if(Z===5||Z===6)break e;case 13:if(O.last){q>>>=7&Y,Y-=7&Y,O.mode=27;break}for(;Y<3;){if($===0)break e;$--,q+=se[M++]<<Y,Y+=8}switch(O.last=1&q,Y-=1,3&(q>>>=1)){case 0:O.mode=14;break;case 1:if(W(O),O.mode=20,Z!==6)break;q>>>=2,Y-=2;break e;case 2:O.mode=17;break;case 3:L.msg="invalid block type",O.mode=30}q>>>=2,Y-=2;break;case 14:for(q>>>=7&Y,Y-=7&Y;Y<32;){if($===0)break e;$--,q+=se[M++]<<Y,Y+=8}if((65535&q)!=(q>>>16^65535)){L.msg="invalid stored block lengths",O.mode=30;break}if(O.length=65535&q,Y=q=0,O.mode=15,Z===6)break e;case 15:O.mode=16;case 16:if(be=O.length){if($<be&&(be=$),oe<be&&(be=oe),be===0)break e;i.arraySet(K,se,M,be,X),$-=be,M+=be,oe-=be,X+=be,O.length-=be;break}O.mode=12;break;case 17:for(;Y<14;){if($===0)break e;$--,q+=se[M++]<<Y,Y+=8}if(O.nlen=257+(31&q),q>>>=5,Y-=5,O.ndist=1+(31&q),q>>>=5,Y-=5,O.ncode=4+(15&q),q>>>=4,Y-=4,286<O.nlen||30<O.ndist){L.msg="too many length or distance symbols",O.mode=30;break}O.have=0,O.mode=18;case 18:for(;O.have<O.ncode;){for(;Y<3;){if($===0)break e;$--,q+=se[M++]<<Y,Y+=8}O.lens[we[O.have++]]=7&q,q>>>=3,Y-=3}for(;O.have<19;)O.lens[we[O.have++]]=0;if(O.lencode=O.lendyn,O.lenbits=7,J={bits:O.lenbits},Ee=h(0,O.lens,0,19,O.lencode,0,O.work,J),O.lenbits=J.bits,Ee){L.msg="invalid code lengths set",O.mode=30;break}O.have=0,O.mode=19;case 19:for(;O.have<O.nlen+O.ndist;){for(;me=(P=O.lencode[q&(1<<O.lenbits)-1])>>>16&255,Q=65535&P,!((H=P>>>24)<=Y);){if($===0)break e;$--,q+=se[M++]<<Y,Y+=8}if(Q<16)q>>>=H,Y-=H,O.lens[O.have++]=Q;else{if(Q===16){for(R=H+2;Y<R;){if($===0)break e;$--,q+=se[M++]<<Y,Y+=8}if(q>>>=H,Y-=H,O.have===0){L.msg="invalid bit length repeat",O.mode=30;break}F=O.lens[O.have-1],be=3+(3&q),q>>>=2,Y-=2}else if(Q===17){for(R=H+3;Y<R;){if($===0)break e;$--,q+=se[M++]<<Y,Y+=8}Y-=H,F=0,be=3+(7&(q>>>=H)),q>>>=3,Y-=3}else{for(R=H+7;Y<R;){if($===0)break e;$--,q+=se[M++]<<Y,Y+=8}Y-=H,F=0,be=11+(127&(q>>>=H)),q>>>=7,Y-=7}if(O.have+be>O.nlen+O.ndist){L.msg="invalid bit length repeat",O.mode=30;break}for(;be--;)O.lens[O.have++]=F}}if(O.mode===30)break;if(O.lens[256]===0){L.msg="invalid code -- missing end-of-block",O.mode=30;break}if(O.lenbits=9,J={bits:O.lenbits},Ee=h(m,O.lens,0,O.nlen,O.lencode,0,O.work,J),O.lenbits=J.bits,Ee){L.msg="invalid literal/lengths set",O.mode=30;break}if(O.distbits=6,O.distcode=O.distdyn,J={bits:O.distbits},Ee=h(f,O.lens,O.nlen,O.ndist,O.distcode,0,O.work,J),O.distbits=J.bits,Ee){L.msg="invalid distances set",O.mode=30;break}if(O.mode=20,Z===6)break e;case 20:O.mode=21;case 21:if(6<=$&&258<=oe){L.next_out=X,L.avail_out=oe,L.next_in=M,L.avail_in=$,O.hold=q,O.bits=Y,d(L,le),X=L.next_out,K=L.output,oe=L.avail_out,M=L.next_in,se=L.input,$=L.avail_in,q=O.hold,Y=O.bits,O.mode===12&&(O.back=-1);break}for(O.back=0;me=(P=O.lencode[q&(1<<O.lenbits)-1])>>>16&255,Q=65535&P,!((H=P>>>24)<=Y);){if($===0)break e;$--,q+=se[M++]<<Y,Y+=8}if(me&&(240&me)==0){for(te=H,ee=me,Ce=Q;me=(P=O.lencode[Ce+((q&(1<<te+ee)-1)>>te)])>>>16&255,Q=65535&P,!(te+(H=P>>>24)<=Y);){if($===0)break e;$--,q+=se[M++]<<Y,Y+=8}q>>>=te,Y-=te,O.back+=te}if(q>>>=H,Y-=H,O.back+=H,O.length=Q,me===0){O.mode=26;break}if(32&me){O.back=-1,O.mode=12;break}if(64&me){L.msg="invalid literal/length code",O.mode=30;break}O.extra=15&me,O.mode=22;case 22:if(O.extra){for(R=O.extra;Y<R;){if($===0)break e;$--,q+=se[M++]<<Y,Y+=8}O.length+=q&(1<<O.extra)-1,q>>>=O.extra,Y-=O.extra,O.back+=O.extra}O.was=O.length,O.mode=23;case 23:for(;me=(P=O.distcode[q&(1<<O.distbits)-1])>>>16&255,Q=65535&P,!((H=P>>>24)<=Y);){if($===0)break e;$--,q+=se[M++]<<Y,Y+=8}if((240&me)==0){for(te=H,ee=me,Ce=Q;me=(P=O.distcode[Ce+((q&(1<<te+ee)-1)>>te)])>>>16&255,Q=65535&P,!(te+(H=P>>>24)<=Y);){if($===0)break e;$--,q+=se[M++]<<Y,Y+=8}q>>>=te,Y-=te,O.back+=te}if(q>>>=H,Y-=H,O.back+=H,64&me){L.msg="invalid distance code",O.mode=30;break}O.offset=Q,O.extra=15&me,O.mode=24;case 24:if(O.extra){for(R=O.extra;Y<R;){if($===0)break e;$--,q+=se[M++]<<Y,Y+=8}O.offset+=q&(1<<O.extra)-1,q>>>=O.extra,Y-=O.extra,O.back+=O.extra}if(O.offset>O.dmax){L.msg="invalid distance too far back",O.mode=30;break}O.mode=25;case 25:if(oe===0)break e;if(be=le-oe,O.offset>be){if((be=O.offset-be)>O.whave&&O.sane){L.msg="invalid distance too far back",O.mode=30;break}ge=be>O.wnext?(be-=O.wnext,O.wsize-be):O.wnext-be,be>O.length&&(be=O.length),V=O.window}else V=K,ge=X-O.offset,be=O.length;for(oe<be&&(be=oe),oe-=be,O.length-=be;K[X++]=V[ge++],--be;);O.length===0&&(O.mode=21);break;case 26:if(oe===0)break e;K[X++]=O.length,oe--,O.mode=21;break;case 27:if(O.wrap){for(;Y<32;){if($===0)break e;$--,q|=se[M++]<<Y,Y+=8}if(le-=oe,L.total_out+=le,O.total+=le,le&&(L.adler=O.check=O.flags?c(O.check,K,le,X-le):o(O.check,K,le,X-le)),le=oe,(O.flags?q:b(q))!==O.check){L.msg="incorrect data check",O.mode=30;break}Y=q=0}O.mode=28;case 28:if(O.wrap&&O.flags){for(;Y<32;){if($===0)break e;$--,q+=se[M++]<<Y,Y+=8}if(q!==(4294967295&O.total)){L.msg="incorrect length check",O.mode=30;break}Y=q=0}O.mode=29;case 29:Ee=1;break e;case 30:Ee=-3;break e;case 31:return-4;case 32:default:return y}return L.next_out=X,L.avail_out=oe,L.next_in=M,L.avail_in=$,O.hold=q,O.bits=Y,(O.wsize||le!==L.avail_out&&O.mode<30&&(O.mode<27||Z!==4))&&U(L,L.output,L.next_out,le-L.avail_out)?(O.mode=31,-4):(ce-=L.avail_in,le-=L.avail_out,L.total_in+=ce,L.total_out+=le,O.total+=le,O.wrap&&le&&(L.adler=O.check=O.flags?c(O.check,K,le,L.next_out-le):o(O.check,K,le,L.next_out-le)),L.data_type=O.bits+(O.last?64:0)+(O.mode===12?128:0)+(O.mode===20||O.mode===15?256:0),(ce==0&&le===0||Z===4)&&Ee===g&&(Ee=-5),Ee)},a.inflateEnd=function(L){if(!L||!L.state)return y;var Z=L.state;return Z.window&&(Z.window=null),L.state=null,g},a.inflateGetHeader=function(L,Z){var O;return L&&L.state?(2&(O=L.state).wrap)==0?y:((O.head=Z).done=!1,g):y},a.inflateSetDictionary=function(L,Z){var O,se=Z.length;return L&&L.state?(O=L.state).wrap!==0&&O.mode!==11?y:O.mode===11&&o(1,Z,se,0)!==O.check?-3:U(L,Z,se,se)?(O.mode=31,-4):(O.havedict=1,g):y},a.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(r,n,a){var i=r("../utils/common"),o=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],c=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],d=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],h=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];n.exports=function(m,f,g,y,v,w,j,b){var N,k,S,C,B,E,z,T,W,U=b.bits,L=0,Z=0,O=0,se=0,K=0,M=0,X=0,$=0,oe=0,q=0,Y=null,ce=0,le=new i.Buf16(16),be=new i.Buf16(16),ge=null,V=0;for(L=0;L<=15;L++)le[L]=0;for(Z=0;Z<y;Z++)le[f[g+Z]]++;for(K=U,se=15;1<=se&&le[se]===0;se--);if(se<K&&(K=se),se===0)return v[w++]=20971520,v[w++]=20971520,b.bits=1,0;for(O=1;O<se&&le[O]===0;O++);for(K<O&&(K=O),L=$=1;L<=15;L++)if($<<=1,($-=le[L])<0)return-1;if(0<$&&(m===0||se!==1))return-1;for(be[1]=0,L=1;L<15;L++)be[L+1]=be[L]+le[L];for(Z=0;Z<y;Z++)f[g+Z]!==0&&(j[be[f[g+Z]]++]=Z);if(E=m===0?(Y=ge=j,19):m===1?(Y=o,ce-=257,ge=c,V-=257,256):(Y=d,ge=h,-1),L=O,B=w,X=Z=q=0,S=-1,C=(oe=1<<(M=K))-1,m===1&&852<oe||m===2&&592<oe)return 1;for(;;){for(z=L-X,W=j[Z]<E?(T=0,j[Z]):j[Z]>E?(T=ge[V+j[Z]],Y[ce+j[Z]]):(T=96,0),N=1<<L-X,O=k=1<<M;v[B+(q>>X)+(k-=N)]=z<<24|T<<16|W|0,k!==0;);for(N=1<<L-1;q&N;)N>>=1;if(N!==0?(q&=N-1,q+=N):q=0,Z++,--le[L]==0){if(L===se)break;L=f[g+j[Z]]}if(K<L&&(q&C)!==S){for(X===0&&(X=K),B+=O,$=1<<(M=L-X);M+X<se&&!(($-=le[M+X])<=0);)M++,$<<=1;if(oe+=1<<M,m===1&&852<oe||m===2&&592<oe)return 1;v[S=q&C]=K<<24|M<<16|B-w|0}}return q!==0&&(v[B+q]=L-X<<24|64<<16|0),b.bits=K,0}},{"../utils/common":41}],51:[function(r,n,a){n.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(r,n,a){var i=r("../utils/common"),o=0,c=1;function d(P){for(var G=P.length;0<=--G;)P[G]=0}var h=0,m=29,f=256,g=f+1+m,y=30,v=19,w=2*g+1,j=15,b=16,N=7,k=256,S=16,C=17,B=18,E=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],z=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],W=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],U=new Array(2*(g+2));d(U);var L=new Array(2*y);d(L);var Z=new Array(512);d(Z);var O=new Array(256);d(O);var se=new Array(m);d(se);var K,M,X,$=new Array(y);function oe(P,G,we,de,he){this.static_tree=P,this.extra_bits=G,this.extra_base=we,this.elems=de,this.max_length=he,this.has_stree=P&&P.length}function q(P,G){this.dyn_tree=P,this.max_code=0,this.stat_desc=G}function Y(P){return P<256?Z[P]:Z[256+(P>>>7)]}function ce(P,G){P.pending_buf[P.pending++]=255&G,P.pending_buf[P.pending++]=G>>>8&255}function le(P,G,we){P.bi_valid>b-we?(P.bi_buf|=G<<P.bi_valid&65535,ce(P,P.bi_buf),P.bi_buf=G>>b-P.bi_valid,P.bi_valid+=we-b):(P.bi_buf|=G<<P.bi_valid&65535,P.bi_valid+=we)}function be(P,G,we){le(P,we[2*G],we[2*G+1])}function ge(P,G){for(var we=0;we|=1&P,P>>>=1,we<<=1,0<--G;);return we>>>1}function V(P,G,we){var de,he,xe=new Array(j+1),Me=0;for(de=1;de<=j;de++)xe[de]=Me=Me+we[de-1]<<1;for(he=0;he<=G;he++){var Re=P[2*he+1];Re!==0&&(P[2*he]=ge(xe[Re]++,Re))}}function H(P){var G;for(G=0;G<g;G++)P.dyn_ltree[2*G]=0;for(G=0;G<y;G++)P.dyn_dtree[2*G]=0;for(G=0;G<v;G++)P.bl_tree[2*G]=0;P.dyn_ltree[2*k]=1,P.opt_len=P.static_len=0,P.last_lit=P.matches=0}function me(P){8<P.bi_valid?ce(P,P.bi_buf):0<P.bi_valid&&(P.pending_buf[P.pending++]=P.bi_buf),P.bi_buf=0,P.bi_valid=0}function Q(P,G,we,de){var he=2*G,xe=2*we;return P[he]<P[xe]||P[he]===P[xe]&&de[G]<=de[we]}function te(P,G,we){for(var de=P.heap[we],he=we<<1;he<=P.heap_len&&(he<P.heap_len&&Q(G,P.heap[he+1],P.heap[he],P.depth)&&he++,!Q(G,de,P.heap[he],P.depth));)P.heap[we]=P.heap[he],we=he,he<<=1;P.heap[we]=de}function ee(P,G,we){var de,he,xe,Me,Re=0;if(P.last_lit!==0)for(;de=P.pending_buf[P.d_buf+2*Re]<<8|P.pending_buf[P.d_buf+2*Re+1],he=P.pending_buf[P.l_buf+Re],Re++,de===0?be(P,he,G):(be(P,(xe=O[he])+f+1,G),(Me=E[xe])!==0&&le(P,he-=se[xe],Me),be(P,xe=Y(--de),we),(Me=z[xe])!==0&&le(P,de-=$[xe],Me)),Re<P.last_lit;);be(P,k,G)}function Ce(P,G){var we,de,he,xe=G.dyn_tree,Me=G.stat_desc.static_tree,Re=G.stat_desc.has_stree,$e=G.stat_desc.elems,Je=-1;for(P.heap_len=0,P.heap_max=w,we=0;we<$e;we++)xe[2*we]!==0?(P.heap[++P.heap_len]=Je=we,P.depth[we]=0):xe[2*we+1]=0;for(;P.heap_len<2;)xe[2*(he=P.heap[++P.heap_len]=Je<2?++Je:0)]=1,P.depth[he]=0,P.opt_len--,Re&&(P.static_len-=Me[2*he+1]);for(G.max_code=Je,we=P.heap_len>>1;1<=we;we--)te(P,xe,we);for(he=$e;we=P.heap[1],P.heap[1]=P.heap[P.heap_len--],te(P,xe,1),de=P.heap[1],P.heap[--P.heap_max]=we,P.heap[--P.heap_max]=de,xe[2*he]=xe[2*we]+xe[2*de],P.depth[he]=(P.depth[we]>=P.depth[de]?P.depth[we]:P.depth[de])+1,xe[2*we+1]=xe[2*de+1]=he,P.heap[1]=he++,te(P,xe,1),2<=P.heap_len;);P.heap[--P.heap_max]=P.heap[1],(function(st,Nt){var St,Ht,As,kt,ds,Ge,Ze=Nt.dyn_tree,Ke=Nt.max_code,us=Nt.stat_desc.static_tree,Es=Nt.stat_desc.has_stree,Cs=Nt.stat_desc.extra_bits,jn=Nt.stat_desc.extra_base,$s=Nt.stat_desc.max_length,wr=0;for(kt=0;kt<=j;kt++)st.bl_count[kt]=0;for(Ze[2*st.heap[st.heap_max]+1]=0,St=st.heap_max+1;St<w;St++)$s<(kt=Ze[2*Ze[2*(Ht=st.heap[St])+1]+1]+1)&&(kt=$s,wr++),Ze[2*Ht+1]=kt,Ke<Ht||(st.bl_count[kt]++,ds=0,jn<=Ht&&(ds=Cs[Ht-jn]),Ge=Ze[2*Ht],st.opt_len+=Ge*(kt+ds),Es&&(st.static_len+=Ge*(us[2*Ht+1]+ds)));if(wr!==0){do{for(kt=$s-1;st.bl_count[kt]===0;)kt--;st.bl_count[kt]--,st.bl_count[kt+1]+=2,st.bl_count[$s]--,wr-=2}while(0<wr);for(kt=$s;kt!==0;kt--)for(Ht=st.bl_count[kt];Ht!==0;)Ke<(As=st.heap[--St])||(Ze[2*As+1]!==kt&&(st.opt_len+=(kt-Ze[2*As+1])*Ze[2*As],Ze[2*As+1]=kt),Ht--)}})(P,G),V(xe,Je,P.bl_count)}function F(P,G,we){var de,he,xe=-1,Me=G[1],Re=0,$e=7,Je=4;for(Me===0&&($e=138,Je=3),G[2*(we+1)+1]=65535,de=0;de<=we;de++)he=Me,Me=G[2*(de+1)+1],++Re<$e&&he===Me||(Re<Je?P.bl_tree[2*he]+=Re:he!==0?(he!==xe&&P.bl_tree[2*he]++,P.bl_tree[2*S]++):Re<=10?P.bl_tree[2*C]++:P.bl_tree[2*B]++,xe=he,Je=(Re=0)===Me?($e=138,3):he===Me?($e=6,3):($e=7,4))}function Ee(P,G,we){var de,he,xe=-1,Me=G[1],Re=0,$e=7,Je=4;for(Me===0&&($e=138,Je=3),de=0;de<=we;de++)if(he=Me,Me=G[2*(de+1)+1],!(++Re<$e&&he===Me)){if(Re<Je)for(;be(P,he,P.bl_tree),--Re!=0;);else he!==0?(he!==xe&&(be(P,he,P.bl_tree),Re--),be(P,S,P.bl_tree),le(P,Re-3,2)):Re<=10?(be(P,C,P.bl_tree),le(P,Re-3,3)):(be(P,B,P.bl_tree),le(P,Re-11,7));xe=he,Je=(Re=0)===Me?($e=138,3):he===Me?($e=6,3):($e=7,4)}}d($);var J=!1;function R(P,G,we,de){le(P,(h<<1)+(de?1:0),3),(function(he,xe,Me,Re){me(he),ce(he,Me),ce(he,~Me),i.arraySet(he.pending_buf,he.window,xe,Me,he.pending),he.pending+=Me})(P,G,we)}a._tr_init=function(P){J||((function(){var G,we,de,he,xe,Me=new Array(j+1);for(he=de=0;he<m-1;he++)for(se[he]=de,G=0;G<1<<E[he];G++)O[de++]=he;for(O[de-1]=he,he=xe=0;he<16;he++)for($[he]=xe,G=0;G<1<<z[he];G++)Z[xe++]=he;for(xe>>=7;he<y;he++)for($[he]=xe<<7,G=0;G<1<<z[he]-7;G++)Z[256+xe++]=he;for(we=0;we<=j;we++)Me[we]=0;for(G=0;G<=143;)U[2*G+1]=8,G++,Me[8]++;for(;G<=255;)U[2*G+1]=9,G++,Me[9]++;for(;G<=279;)U[2*G+1]=7,G++,Me[7]++;for(;G<=287;)U[2*G+1]=8,G++,Me[8]++;for(V(U,g+1,Me),G=0;G<y;G++)L[2*G+1]=5,L[2*G]=ge(G,5);K=new oe(U,E,f+1,g,j),M=new oe(L,z,0,y,j),X=new oe(new Array(0),T,0,v,N)})(),J=!0),P.l_desc=new q(P.dyn_ltree,K),P.d_desc=new q(P.dyn_dtree,M),P.bl_desc=new q(P.bl_tree,X),P.bi_buf=0,P.bi_valid=0,H(P)},a._tr_stored_block=R,a._tr_flush_block=function(P,G,we,de){var he,xe,Me=0;0<P.level?(P.strm.data_type===2&&(P.strm.data_type=(function(Re){var $e,Je=4093624447;for($e=0;$e<=31;$e++,Je>>>=1)if(1&Je&&Re.dyn_ltree[2*$e]!==0)return o;if(Re.dyn_ltree[18]!==0||Re.dyn_ltree[20]!==0||Re.dyn_ltree[26]!==0)return c;for($e=32;$e<f;$e++)if(Re.dyn_ltree[2*$e]!==0)return c;return o})(P)),Ce(P,P.l_desc),Ce(P,P.d_desc),Me=(function(Re){var $e;for(F(Re,Re.dyn_ltree,Re.l_desc.max_code),F(Re,Re.dyn_dtree,Re.d_desc.max_code),Ce(Re,Re.bl_desc),$e=v-1;3<=$e&&Re.bl_tree[2*W[$e]+1]===0;$e--);return Re.opt_len+=3*($e+1)+5+5+4,$e})(P),he=P.opt_len+3+7>>>3,(xe=P.static_len+3+7>>>3)<=he&&(he=xe)):he=xe=we+5,we+4<=he&&G!==-1?R(P,G,we,de):P.strategy===4||xe===he?(le(P,2+(de?1:0),3),ee(P,U,L)):(le(P,4+(de?1:0),3),(function(Re,$e,Je,st){var Nt;for(le(Re,$e-257,5),le(Re,Je-1,5),le(Re,st-4,4),Nt=0;Nt<st;Nt++)le(Re,Re.bl_tree[2*W[Nt]+1],3);Ee(Re,Re.dyn_ltree,$e-1),Ee(Re,Re.dyn_dtree,Je-1)})(P,P.l_desc.max_code+1,P.d_desc.max_code+1,Me+1),ee(P,P.dyn_ltree,P.dyn_dtree)),H(P),de&&me(P)},a._tr_tally=function(P,G,we){return P.pending_buf[P.d_buf+2*P.last_lit]=G>>>8&255,P.pending_buf[P.d_buf+2*P.last_lit+1]=255&G,P.pending_buf[P.l_buf+P.last_lit]=255&we,P.last_lit++,G===0?P.dyn_ltree[2*we]++:(P.matches++,G--,P.dyn_ltree[2*(O[we]+f+1)]++,P.dyn_dtree[2*Y(G)]++),P.last_lit===P.lit_bufsize-1},a._tr_align=function(P){le(P,2,3),be(P,k,U),(function(G){G.bi_valid===16?(ce(G,G.bi_buf),G.bi_buf=0,G.bi_valid=0):8<=G.bi_valid&&(G.pending_buf[G.pending++]=255&G.bi_buf,G.bi_buf>>=8,G.bi_valid-=8)})(P)}},{"../utils/common":41}],53:[function(r,n,a){n.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(r,n,a){(function(i){(function(o,c){if(!o.setImmediate){var d,h,m,f,g=1,y={},v=!1,w=o.document,j=Object.getPrototypeOf&&Object.getPrototypeOf(o);j=j&&j.setTimeout?j:o,d={}.toString.call(o.process)==="[object process]"?function(S){ts.nextTick(function(){N(S)})}:(function(){if(o.postMessage&&!o.importScripts){var S=!0,C=o.onmessage;return o.onmessage=function(){S=!1},o.postMessage("","*"),o.onmessage=C,S}})()?(f="setImmediate$"+Math.random()+"$",o.addEventListener?o.addEventListener("message",k,!1):o.attachEvent("onmessage",k),function(S){o.postMessage(f+S,"*")}):o.MessageChannel?((m=new MessageChannel).port1.onmessage=function(S){N(S.data)},function(S){m.port2.postMessage(S)}):w&&"onreadystatechange"in w.createElement("script")?(h=w.documentElement,function(S){var C=w.createElement("script");C.onreadystatechange=function(){N(S),C.onreadystatechange=null,h.removeChild(C),C=null},h.appendChild(C)}):function(S){setTimeout(N,0,S)},j.setImmediate=function(S){typeof S!="function"&&(S=new Function(""+S));for(var C=new Array(arguments.length-1),B=0;B<C.length;B++)C[B]=arguments[B+1];var E={callback:S,args:C};return y[g]=E,d(g),g++},j.clearImmediate=b}function b(S){delete y[S]}function N(S){if(v)setTimeout(N,0,S);else{var C=y[S];if(C){v=!0;try{(function(B){var E=B.callback,z=B.args;switch(z.length){case 0:E();break;case 1:E(z[0]);break;case 2:E(z[0],z[1]);break;case 3:E(z[0],z[1],z[2]);break;default:E.apply(c,z)}})(C)}finally{b(S),v=!1}}}}function k(S){S.source===o&&typeof S.data=="string"&&S.data.indexOf(f)===0&&N(+S.data.slice(f.length))}})(typeof self>"u"?i===void 0?this:i:self)}).call(this,typeof zi<"u"?zi:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(Jj)),Jj.exports}var die=cie();const uie=j8(die);var Df={exports:{}},e1,Z5;function hie(){if(Z5)return e1;Z5=1;var t={"&":"&amp;",'"':"&quot;","'":"&apos;","<":"&lt;",">":"&gt;"};function e(r){return r&&r.replace?r.replace(/([&"<>'])/g,function(n,a){return t[a]}):r}return e1=e,e1}var Q5;function fie(){if(Q5)return Df.exports;Q5=1;var t=hie(),e=m2().Stream,r="    ";function n(h,m){typeof m!="object"&&(m={indent:m});var f=m.stream?new e:null,g="",y=!1,v=m.indent?m.indent===!0?r:m.indent:"",w=!0;function j(C){w?ts.nextTick(C):C()}function b(C,B){if(B!==void 0&&(g+=B),C&&!y&&(f=f||new e,y=!0),C&&y){var E=g;j(function(){f.emit("data",E)}),g=""}}function N(C,B){c(b,o(C,v,v?1:0),B)}function k(){if(f){var C=g;j(function(){f.emit("data",C),f.emit("end"),f.readable=!1,f.emit("close")})}}function S(C){var B=C.encoding||"UTF-8",E={version:"1.0",encoding:B};C.standalone&&(E.standalone=C.standalone),N({"?xml":{_attr:E}}),g=g.replace("/>","?>")}return j(function(){w=!1}),m.declaration&&S(m.declaration),h&&h.forEach?h.forEach(function(C,B){var E;B+1===h.length&&(E=k),N(C,E)}):N(h,k),f?(f.readable=!0,f):g}function a(){var h=Array.prototype.slice.call(arguments),m={_elem:o(h)};return m.push=function(f){if(!this.append)throw new Error("not assigned to a parent!");var g=this,y=this._elem.indent;c(this.append,o(f,y,this._elem.icount+(y?1:0)),function(){g.append(!0)})},m.close=function(f){f!==void 0&&this.push(f),this.end&&this.end()},m}function i(h,m){return new Array(m||0).join(h||"")}function o(h,m,f){f=f||0;var g=i(m,f),y,v=h,w=!1;if(typeof h=="object"){var j=Object.keys(h);if(y=j[0],v=h[y],v&&v._elem)return v._elem.name=y,v._elem.icount=f,v._elem.indent=m,v._elem.indents=g,v._elem.interrupt=v,v._elem}var b=[],N=[],k;function S(C){var B=Object.keys(C);B.forEach(function(E){b.push(d(E,C[E]))})}switch(typeof v){case"object":if(v===null)break;v._attr&&S(v._attr),v._cdata&&N.push(("<![CDATA["+v._cdata).replace(/\]\]>/g,"]]]]><![CDATA[>")+"]]>"),v.forEach&&(k=!1,N.push(""),v.forEach(function(C){if(typeof C=="object"){var B=Object.keys(C)[0];B=="_attr"?S(C._attr):N.push(o(C,m,f+1))}else N.pop(),k=!0,N.push(t(C))}),k||N.push(""));break;default:N.push(t(v))}return{name:y,interrupt:w,attributes:b,content:N,icount:f,indents:g,indent:m}}function c(h,m,f){if(typeof m!="object")return h(!1,m);var g=m.interrupt?1:m.content.length;function y(){for(;m.content.length;){var w=m.content.shift();if(w!==void 0){if(v(w))return;c(h,w)}}h(!1,(g>1?m.indents:"")+(m.name?"</"+m.name+">":"")+(m.indent&&!f?`
`:"")),f&&f()}function v(w){return w.interrupt?(w.interrupt.append=h,w.interrupt.end=y,w.interrupt=!1,h(!0),!0):!1}if(h(!1,m.indents+(m.name?"<"+m.name:"")+(m.attributes.length?" "+m.attributes.join(" "):"")+(g?m.name?">":"":m.name?"/>":"")+(m.indent&&g>1?`
`:"")),!g)return h(!1,m.indent?`
`:"");v(m)||y()}function d(h,m){return h+'="'+t(m)+'"'}return Df.exports=n,Df.exports.element=Df.exports.Element=a,Df.exports}var mie=fie();const xr=j8(mie),Mf=0,t1=32,pie=32,gie=(t,e)=>{const r=e.replace(/-/g,"");if(r.length!==pie)throw new Error(`Error: Cannot extract GUID from font filename: ${e}`);const a=r.replace(/(..)/g,"$1 ").trim().split(" ").map(d=>parseInt(d,16));a.reverse();const o=t.slice(Mf,t1).map((d,h)=>d^a[h%a.length]),c=new Uint8Array(Mf+o.length+Math.max(0,t.length-t1));return c.set(t.slice(0,Mf)),c.set(o,Mf),c.set(t.slice(t1),Mf+o.length),c};class xie{format(e,r={stack:[]}){const n=e.prepForXml(r);if(n)return n;throw Error("XMLComponent did not format correctly")}}class yie{replace(e,r,n){let a=e;return r.forEach((i,o)=>{a=a.replace(new RegExp(`{${i.fileName}}`,"g"),(n+o).toString())}),a}getMediaData(e,r){return r.Array.filter(n=>e.search(`{${n.fileName}}`)>0)}}class bie{replace(e,r){let n=e;for(const a of r)n=n.replace(new RegExp(`{${a.reference}-${a.instance}}`,"g"),a.numId.toString());return n}}class vie{constructor(){tt(this,"formatter"),tt(this,"imageReplacer"),tt(this,"numberingReplacer"),this.formatter=new xie,this.imageReplacer=new yie,this.numberingReplacer=new bie}compile(e,r,n=[]){const a=new uie,i=this.xmlifyFile(e,r),o=new Map(Object.entries(i));for(const[,c]of o)if(Array.isArray(c))for(const d of c)a.file(d.path,d.data);else a.file(c.path,c.data);for(const c of n)a.file(c.path,c.data);for(const c of e.Media.Array)c.type!=="svg"?a.file(`word/media/${c.fileName}`,c.data):(a.file(`word/media/${c.fileName}`,c.data),a.file(`word/media/${c.fallback.fileName}`,c.fallback.data));for(const{data:c,name:d,fontKey:h}of e.FontTable.fontOptionsWithKey){const[m]=d.split(".");a.file(`word/fonts/${m}.odttf`,gie(c,h))}return a}xmlifyFile(e,r){const n=e.Document.Relationships.RelationshipCount+1,a=xr(this.formatter.format(e.Document.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),i=e.Comments.Relationships.RelationshipCount+1,o=xr(this.formatter.format(e.Comments,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),c=this.imageReplacer.getMediaData(a,e.Media),d=this.imageReplacer.getMediaData(o,e.Media);return{Relationships:{data:(c.forEach((h,m)=>{e.Document.Relationships.createRelationship(n+m,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${h.fileName}`)}),e.Document.Relationships.createRelationship(e.Document.Relationships.RelationshipCount+1,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/fontTable","fontTable.xml"),xr(this.formatter.format(e.Document.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/document.xml.rels"},Document:{data:(()=>{const h=this.imageReplacer.replace(a,c,n);return this.numberingReplacer.replace(h,e.Numbering.ConcreteNumbering)})(),path:"word/document.xml"},Styles:{data:(()=>{const h=xr(this.formatter.format(e.Styles,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}});return this.numberingReplacer.replace(h,e.Numbering.ConcreteNumbering)})(),path:"word/styles.xml"},Properties:{data:xr(this.formatter.format(e.CoreProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/core.xml"},Numbering:{data:xr(this.formatter.format(e.Numbering,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/numbering.xml"},FileRelationships:{data:xr(this.formatter.format(e.FileRelationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"_rels/.rels"},HeaderRelationships:e.Headers.map((h,m)=>{const f=xr(this.formatter.format(h.View,{viewWrapper:h,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(f,e.Media).forEach((y,v)=>{h.Relationships.createRelationship(v,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${y.fileName}`)}),{data:xr(this.formatter.format(h.Relationships,{viewWrapper:h,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/header${m+1}.xml.rels`}}),FooterRelationships:e.Footers.map((h,m)=>{const f=xr(this.formatter.format(h.View,{viewWrapper:h,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}});return this.imageReplacer.getMediaData(f,e.Media).forEach((y,v)=>{h.Relationships.createRelationship(v,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${y.fileName}`)}),{data:xr(this.formatter.format(h.Relationships,{viewWrapper:h,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:`word/_rels/footer${m+1}.xml.rels`}}),Headers:e.Headers.map((h,m)=>{const f=xr(this.formatter.format(h.View,{viewWrapper:h,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),g=this.imageReplacer.getMediaData(f,e.Media),y=this.imageReplacer.replace(f,g,0);return{data:this.numberingReplacer.replace(y,e.Numbering.ConcreteNumbering),path:`word/header${m+1}.xml`}}),Footers:e.Footers.map((h,m)=>{const f=xr(this.formatter.format(h.View,{viewWrapper:h,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),g=this.imageReplacer.getMediaData(f,e.Media),y=this.imageReplacer.replace(f,g,0);return{data:this.numberingReplacer.replace(y,e.Numbering.ConcreteNumbering),path:`word/footer${m+1}.xml`}}),ContentTypes:{data:xr(this.formatter.format(e.ContentTypes,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"[Content_Types].xml"},CustomProperties:{data:xr(this.formatter.format(e.CustomProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/custom.xml"},AppProperties:{data:xr(this.formatter.format(e.AppProperties,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"docProps/app.xml"},FootNotes:{data:xr(this.formatter.format(e.FootNotes.View,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/footnotes.xml"},FootNotesRelationships:{data:xr(this.formatter.format(e.FootNotes.Relationships,{viewWrapper:e.FootNotes,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/footnotes.xml.rels"},Settings:{data:xr(this.formatter.format(e.Settings,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/settings.xml"},Comments:{data:(()=>{const h=this.imageReplacer.replace(o,d,i);return this.numberingReplacer.replace(h,e.Numbering.ConcreteNumbering)})(),path:"word/comments.xml"},CommentsRelationships:{data:(d.forEach((h,m)=>{e.Comments.Relationships.createRelationship(i+m,"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",`media/${h.fileName}`)}),xr(this.formatter.format(e.Comments.Relationships,{viewWrapper:{View:e.Comments,Relationships:e.Comments.Relationships},file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}})),path:"word/_rels/comments.xml.rels"},FontTable:{data:xr(this.formatter.format(e.FontTable.View,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{standalone:"yes",encoding:"UTF-8"}}),path:"word/fontTable.xml"},FontTableRelationships:{data:xr(this.formatter.format(e.FontTable.Relationships,{viewWrapper:e.Document,file:e,stack:[]}),{indent:r,declaration:{encoding:"UTF-8"}}),path:"word/_rels/fontTable.xml.rels"}}}}const wie={WITH_2_BLANKS:"  "},J5=t=>t===!0?wie.WITH_2_BLANKS:t===!1?void 0:t,iL=class Eu{static pack(e,r,n){return Xte(this,arguments,function*(a,i,o,c=[]){return this.compiler.compile(a,J5(o),c).generateAsync({type:i,mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"})})}static toString(e,r,n=[]){return Eu.pack(e,"string",r,n)}static toBuffer(e,r,n=[]){return Eu.pack(e,"nodebuffer",r,n)}static toBase64String(e,r,n=[]){return Eu.pack(e,"base64",r,n)}static toBlob(e,r,n=[]){return Eu.pack(e,"blob",r,n)}static toArrayBuffer(e,r,n=[]){return Eu.pack(e,"arraybuffer",r,n)}static toStream(e,r,n=[]){const a=new lie.Stream;return this.compiler.compile(e,J5(r),n).generateAsync({type:"nodebuffer",mimeType:"application/vnd.openxmlformats-officedocument.wordprocessingml.document",compression:"DEFLATE"}).then(o=>{a.emit("data",o),a.emit("end")}),a}};tt(iL,"compiler",new vie);let jie=iL;const Eo="________________________________________________________________";function un(t,e=!1){return new zs({children:[new i0({text:`${t}${e?" *":""}: `,bold:!0}),new i0(Eo)],spacing:{after:120}})}function Vc(t){return new zs({text:t,heading:sL.HEADING_2,spacing:{before:240,after:120}})}async function _ie(){const t=[new zs({text:"Create Car  Agency Form",heading:sL.TITLE,alignment:ma.CENTER,spacing:{after:120}}),new zs({text:"Print this form and fill it by hand with a pen. You can then enter the same information online or hand the form to the office.",alignment:ma.CENTER,spacing:{after:360}}),Vc("Basic Information"),un("Make",!0),un("Model",!0),un("Year",!0),un("License Plate",!0),un("Color"),un("Mileage (km)"),Vc("Technical Specifications"),un("Fuel Type (Petrol / Diesel / Electric / Hybrid)",!0),un("Transmission (Automatic / Manual)",!0),un("Wheels Drive (4x4 / Front / Rear / Autoblock)"),un("Seats",!0),un("Doors",!0),un("Category (Luxury / Sport / Commercial / Industrial / Normal / Event / Sea)",!0),Vc("Features & Add-ons"),new zs({text:"Features (tick as applicable): GPS, Bluetooth, Backup Camera, Sunroof, Leather Seats, Apple CarPlay, Android Auto, Heated Seats, Cruise Control, Parking Sensors",spacing:{after:120}}),new zs({text:Eo,spacing:{after:120}}),new zs({text:"Add-ons (tick as applicable): Child Seat, GPS Device, Phone Holder, WiFi Hotspot, Roof Rack",spacing:{after:120}}),new zs({text:Eo,spacing:{after:120}}),new zs({text:"Reason of rent (tick as applicable): Vacation, Business Trip, Wedding, Daily Use, Long Trip, Airport Transfer",spacing:{after:120}}),new zs({text:Eo,spacing:{after:240}}),Vc("Pricing & Rental Terms"),un("Daily Rate ($)",!0),un("Holiday Rate ($)"),un("Min Rental Days"),un("Max Driving Mileage per day (km)"),new zs({text:" Require Deposit    If yes, Deposit Amount ($): ____________",spacing:{after:120}}),new zs({text:" Delivery Available    If yes, Delivery Fee ($): ____________",spacing:{after:120}}),new zs({text:" Driver Available    If yes, Driver Fee per day ($): ____________",spacing:{after:240}}),Vc("Delivery & Driver Options"),new zs({text:"Delivery / driver options are listed above.",spacing:{after:240}}),Vc("Car Images"),new zs({text:"Attach or upload: Main image *, Front, Back, Left, Right (as per online form).",spacing:{after:240}}),Vc("Location Information"),new zs({text:"Live Location  Address (region):",spacing:{after:60}}),new zs({text:"Governorate: ________________    Coordinates / Google Maps link: "+Eo,spacing:{after:120}}),new zs({text:"Delivery Location  Address (region):",spacing:{after:60}}),new zs({text:"Governorate: ________________    Coordinates: "+Eo,spacing:{after:120}}),new zs({text:"Return Location  Address (region):",spacing:{after:60}}),new zs({text:"Governorate: ________________    Coordinates: "+Eo,spacing:{after:240}}),new zs({text:"Notes (optional):",spacing:{before:120,after:60}}),new zs({text:Eo,spacing:{after:120}}),new zs({text:Eo,spacing:{after:120}}),new zs({text:" End of form ",alignment:ma.CENTER,spacing:{before:240}})],e=new oie({sections:[{properties:{},children:t}]});return jie.toBlob(e)}async function Nie(t="create-car-form.docx"){const e=await _ie(),r=URL.createObjectURL(e),n=document.createElement("a");n.href=r,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}const Hc={BMW:["1 Series","3 Series","5 Series","7 Series","X1","X3","X5","X7","M3","M5","Z4","i4","i7","iX"],"Mercedes-Benz":["A-Class","C-Class","E-Class","S-Class","GLA","GLC","GLE","GLS","G-Class","AMG GT","Maybach","EQE","EQS"],Audi:["A3","A4","A6","A8","Q3","Q5","Q7","Q8","TT","R8","e-tron"],Porsche:["911","Cayenne","Macan","Panamera","Taycan","Boxster","Cayman"],Volkswagen:["Polo","Golf","Jetta","Passat","Tiguan","Touareg","Arteon","ID.4","ID.7"],Opel:["Corsa","Astra","Insignia","Mokka","Grandland"],Smart:["Fortwo","Forfour"],Ferrari:["Roma","Portofino","F8","812","SF90","Purosangue"],Lamborghini:["Huracan","Aventador","Urus","Revuelto"],Maserati:["Ghibli","Quattroporte","Levante","Grecale","MC20"],"Alfa Romeo":["Giulia","Stelvio","Tonale","Giulietta"],Fiat:["500","Panda","Tipo","Doblo"],Pagani:["Huayra","Zonda"],"Rolls-Royce":["Phantom","Ghost","Wraith","Cullinan","Spectre"],Bentley:["Continental GT","Flying Spur","Bentayga"],"Aston Martin":["Vantage","DB11","DB12","DBX","Valhalla"],Jaguar:["XE","XF","XJ","F-Type","E-Pace","F-Pace"],"Land Rover":["Range Rover","Range Rover Sport","Velar","Evoque","Defender","Discovery"],McLaren:["720S","750S","Artura","GT"],Mini:["Cooper","Countryman","Clubman"],Lotus:["Emira","Evija","Eletre"],Tesla:["Model 3","Model S","Model X","Model Y","Cybertruck","Roadster"],Ford:["Fiesta","Focus","Mustang","Explorer","Escape","Edge","F-150","Bronco"],Chevrolet:["Spark","Malibu","Camaro","Corvette","Tahoe","Suburban","Silverado"],Dodge:["Charger","Challenger","Durango"],Jeep:["Wrangler","Grand Cherokee","Compass","Renegade","Gladiator"],Cadillac:["CT4","CT5","Escalade","Lyriq"],Chrysler:["300","Pacifica"],GMC:["Sierra","Yukon","Acadia"],Rivian:["R1T","R1S"],Lucid:["Air","Gravity"],Toyota:["Corolla","Camry","Yaris","Prius","RAV4","Highlander","Land Cruiser","Supra","Hilux"],Lexus:["IS","ES","GS","LS","NX","RX","GX","LX","LC"],Honda:["Civic","Accord","City","CR-V","HR-V","Pilot","Odyssey"],Nissan:["Micra","Sentra","Altima","Maxima","Qashqai","X-Trail","GT-R","370Z"],Infiniti:["Q50","Q60","QX50","QX60","QX80"],Mazda:["Mazda2","Mazda3","Mazda6","CX-5","CX-9","MX-5"],Subaru:["Impreza","Legacy","Outback","Forester","WRX","BRZ"],Mitsubishi:["Mirage","Lancer","ASX","Outlander","Pajero"],Suzuki:["Swift","Vitara","Jimny","Baleno"],Isuzu:["D-Max","MU-X"],Hyundai:["Accent","Elantra","Sonata","Kona","Tucson","Santa Fe","Palisade","Ioniq 5"],Kia:["Rio","Cerato","K5","Soul","Sportage","Sorento","Telluride","EV6"],Genesis:["G70","G80","G90","GV70","GV80"],Peugeot:["208","308","508","2008","3008","5008"],Renault:["Clio","Megane","Talisman","Captur","Kadjar","Koleos"],Citron:["C3","C4","C5","C5 Aircross"],Bugatti:["Chiron","Mistral","Tourbillon"],"DS Automobiles":["DS3","DS4","DS7"],BYD:["Atto 3","Han","Tang","Seal"],Geely:["Coolray","Emgrand","Tugella"],Chery:["Tiggo 7","Tiggo 8"],"Great Wall":["Haval H6","Tank 300"],NIO:["ES6","ES8","ET5","ET7"],XPeng:["P7","G6","G9"],MG:["ZS","HS","MG4","MG5"],Zeekr:["001","X"],Volvo:["S60","S90","V60","XC40","XC60","XC90"],Polestar:["Polestar 2","Polestar 3","Polestar 4"],Koenigsegg:["Jesko","Regera","Gemera"],Rimac:["Nevera"],Hennessey:["Venom F5"],SSC:["Tuatara"],Mahindra:["Scorpio","XUV700"],Tata:["Nexon","Harrier","Safari"]},Sie=["White","Black","Silver","Gray","Red","Blue","Green","Yellow","Orange","Brown","Beige","Gold","Purple","Pink","Pearl White","Metallic Gray","Metallic Blue","Dark Blue","Light Blue","Burgundy"],Cie=["GPS","Bluetooth","Backup Camera","Sunroof","Leather Seats","Apple CarPlay","Android Auto","Heated Seats","Cruise Control","Parking Sensors"],kie=["Child Seat","GPS Device","Phone Holder","WiFi Hotspot","Roof Rack"],Aie=["Vacation","Business Trip","Wedding","Daily Use","Long Trip","Airport Transfer"],Eie=["Beirut","Mount Lebanon","North","South","Bekaa","Baalbek","Keserwan","Nabatieh","Akkar"];function Tie(t){if(!t||typeof t!="string")return null;const e=t.trim(),r=e.match(/@(-?\d+\.?\d*),(-?\d+\.?\d*)/);if(r)return{lat:parseFloat(r[1]),lng:parseFloat(r[2])};const n=e.match(/[?&]q=(-?\d+\.?\d*),(-?\d+\.?\d*)/);if(n)return{lat:parseFloat(n[1]),lng:parseFloat(n[2])};const a=e.match(/(?:!3d|!4d|!1d)(-?\d+\.?\d*)/g);if(a&&a.length>=2){const i=parseFloat(a[0].replace(/\D/g,"")),o=parseFloat(a[1].replace(/\D/g,""));if(!isNaN(i)&&!isNaN(o))return{lat:i,lng:o}}return null}function s1(){try{const t=localStorage.getItem("user");if(!t)return null;let r=JSON.parse(t)?.agent?.location;if(!r)return null;typeof r=="string"&&(r=JSON.parse(r),typeof r=="string"&&(r=JSON.parse(r)));const n=r?.lat??r?.latitude,a=r?.lng??r?.longitude;return n!=null&&a!=null?{latitude:String(Number(n)),longitude:String(Number(a))}:null}catch{return null}}function Rie({center:t,selectedLocation:e,onLocationSelect:r}){const n=_.useRef(null),a=_.useRef(null);_.useEffect(()=>{if(typeof window<"u"&&!window.L){const o=document.createElement("link");o.rel="stylesheet",o.href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",document.head.appendChild(o);const c=document.createElement("script");c.src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js",c.onload=()=>i(),document.head.appendChild(c)}else window.L&&i()},[]),_.useEffect(()=>{if(n.current&&window.L&&t?.latitude!=null&&t?.longitude!=null){const o=parseFloat(t.latitude),c=parseFloat(t.longitude);n.current.setView([o,c],13)}},[t?.latitude,t?.longitude]),_.useEffect(()=>{e&&a.current&&window.L&&a.current.setLatLng([parseFloat(e.latitude),parseFloat(e.longitude)])},[e]);const i=()=>{if(!window.L||n.current)return;const o=parseFloat(t?.latitude)||33.8547,c=parseFloat(t?.longitude)||35.8623,d=window.L.map("map-container").setView([o,c],13);window.L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap contributors"}).addTo(d);const h=window.L.marker([o,c],{draggable:!0}).addTo(d);h.on("dragend",m=>{const f=m.target.getLatLng();r(f.lat,f.lng)}),d.on("click",m=>{h.setLatLng(m.latlng),r(m.latlng.lat,m.latlng.lng)}),n.current=d,a.current=h};return s.jsx("div",{id:"map-container",className:"w-full h-full"})}const Die=()=>{const t=sn(),[e,r]=_.useState(!1),[n,a]=_.useState([]),[i,o]=_.useState(!1),[c,d]=_.useState(null),[h,m]=_.useState(null),[f,g]=_.useState(""),[y,v]=_.useState(!1),[w,j]=_.useState({liveLocation:"",deliveryLocation:"",returnLocation:""}),[b,N]=_.useState({make:"",model:"",customMake:"",customModel:"",year:new Date().getFullYear(),licensePlate:"",color:"",mileage:0,fuelType:"",transmission:"",wheelsDrive:"",carCategory:"",seats:5,doors:4,dailyRate:"",holidayRate:"",notes:"",requireDeposit:!1,depositAmount:0,deliveryAvailable:!1,deliveryFees:0,driverAvailable:!1,driverFees:0,maxDrivingMileage:"",minRentalDays:1,selectedFeatures:[],selectedAddons:[],selectedReasons:[],liveLocation:{address:"",latitude:0,longitude:0},deliveryLocation:{address:"",latitude:0,longitude:0},returnLocation:{address:"",latitude:0,longitude:0}}),[k,S]=_.useState({main:null,front:null,back:null,left:null,right:null}),[C,B]=_.useState({main:null,front:null,back:null,left:null,right:null});_.useEffect(()=>{b.make&&Hc[b.make]?(a(Hc[b.make]),!Hc[b.make].includes(b.model)&&b.model!=="Other"&&N(Q=>({...Q,model:""}))):(a([]),b.make&&b.make!=="Other"&&b.model&&N(Q=>({...Q,model:""})))},[b.make]);const E=(Q,te,ee)=>{te.includes(Q)?ee(te.filter(Ce=>Ce!==Q)):ee([...te,Q])},z=(Q,te)=>{if(te){if(!te.type.startsWith("image/")){ve.error("Please select an image file (e.g. JPG, PNG)");return}S(ee=>({...ee,[Q]:te})),B(ee=>{const Ce=ee[Q];return Ce&&URL.revokeObjectURL(Ce),{...ee,[Q]:URL.createObjectURL(te)}})}},[T,W]=_.useState(null),U=(Q,te)=>{Q.preventDefault(),Q.stopPropagation(),W(te)},L=(Q,te)=>{Q.preventDefault(),Q.stopPropagation(),W(ee=>ee===te?null:ee)},Z=(Q,te)=>{Q.preventDefault(),Q.stopPropagation(),W(null);const ee=Q.dataTransfer?.files?.[0];ee&&z(te,ee)},O=Q=>{S(te=>({...te,[Q]:null})),B(te=>({...te,[Q]:null}))},se=Q=>{if(!navigator.geolocation){ve.error("Geolocation is not supported by your browser");return}ve.info("Getting your location..."),navigator.geolocation.getCurrentPosition(te=>{const ee={address:b[Q].address||"",latitude:te.coords.latitude.toFixed(6),longitude:te.coords.longitude.toFixed(6)};N(Ce=>({...Ce,[Q]:ee})),ve.success("Location detected successfully!")},te=>{console.error("Geolocation error:",te),ve.error("Could not get your location. Please select manually.")})},K=Q=>{d(Q);const te=b[Q];m({latitude:te.latitude||33.8547,longitude:te.longitude||35.8623}),o(!0)},M=(Q,te)=>{m({latitude:Q.toFixed(6),longitude:te.toFixed(6)})},X=()=>{h&&c?(N(Q=>({...Q,[c]:{address:Q[c].address||"",latitude:h.latitude,longitude:h.longitude}})),ve.success("Location selected!"),o(!1),d(null)):ve.error("Please select a location on the map")},$=(Q,te)=>{N(ee=>({...ee,[Q]:{...ee[Q],address:te}}))},oe=(Q,te)=>{const ee=Tie(te);ee?(N(Ce=>({...Ce,[Q]:{...Ce[Q],latitude:ee.lat.toFixed(6),longitude:ee.lng.toFixed(6),address:Ce[Q].address||""}})),ve.success("Location set from Google Maps link.")):ve.error("Could not read coordinates from this link. Use a link with lat,lng (e.g. @33.89,35.50 or ?q=33.89,35.50).")},q=async()=>{const Q=f.trim();if(Q){v(!0);try{const ee=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(Q)}&limit=1`,{headers:{Accept:"application/json"}})).json();if(ee&&ee[0]){const Ce=parseFloat(ee[0].lat),F=parseFloat(ee[0].lon);m({latitude:Ce.toFixed(6),longitude:F.toFixed(6)}),ve.success("Location found. Adjust marker if needed.")}else ve.error("No results found. Try another search.")}catch{ve.error("Search failed. Try again.")}finally{v(!1)}}},Y=()=>{const Q=s1();Q?(m(Q),ve.success("Office location set. Confirm to use it.")):ve.error("Office location not found. Complete your agency profile with a location first.")},ce=Q=>{const te=s1();te?(N(ee=>({...ee,[Q]:{...ee[Q],latitude:te.latitude,longitude:te.longitude,address:ee[Q].address||""}})),ve.success("Location set to your agency office.")):ve.error("Office location not found. Complete your agency profile with a location first.")},[le,be]=_.useState(""),[ge,V]=_.useState(!1),H=async()=>{const Q=le.trim();if(!Q){ve.error("Please enter a short description of the car.");return}if(Q.length>2e3){ve.error("Description must be at most 2000 characters.");return}V(!0);try{const{data:te}=await Oe.post("/ai/car-fill/parse",{description:Q});if(!te.success||!te.form){ve.error(te.message||"Could not parse description.");return}const ee=te.form,Ce=ee.use_office_location===!0,F={...ee};delete F.use_office_location;const Ee=we=>{if(!we||typeof we!="object")return{address:"",latitude:0,longitude:0};const de=we.latitude??we.lat??0,he=we.longitude??we.lng??0;return{address:we.address??"",latitude:typeof de=="number"?de:parseFloat(de)||0,longitude:typeof he=="number"?he:parseFloat(he)||0}};let J=F.make??"",R=F.model??"",P="",G="";if(J&&!Object.prototype.hasOwnProperty.call(Hc,J)&&(P=J,J="Other"),J&&J!=="Other"&&R&&Hc[J]&&!Hc[J].includes(R)&&(G=R,R="Other"),N(we=>({...we,make:J||we.make,model:R||we.model,customMake:P||we.customMake,customModel:G||we.customModel,year:F.year??we.year,licensePlate:F.licensePlate??we.licensePlate,color:F.color??we.color,mileage:F.mileage!=null?F.mileage:we.mileage,fuelType:F.fuelType??we.fuelType,transmission:F.transmission??we.transmission,wheelsDrive:F.wheelsDrive??we.wheelsDrive,carCategory:F.carCategory??we.carCategory,seats:F.seats??we.seats,doors:F.doors??we.doors,dailyRate:F.dailyRate!=null?F.dailyRate:we.dailyRate,holidayRate:F.holidayRate!=null?F.holidayRate:we.holidayRate,notes:F.notes??we.notes,requireDeposit:F.requireDeposit??we.requireDeposit,depositAmount:F.depositAmount??we.depositAmount,deliveryAvailable:F.deliveryAvailable??we.deliveryAvailable,deliveryFees:F.deliveryFees??we.deliveryFees,driverAvailable:F.driverAvailable??we.driverAvailable,driverFees:F.driverFees??we.driverFees,maxDrivingMileage:F.maxDrivingMileage!=null?F.maxDrivingMileage:we.maxDrivingMileage,minRentalDays:F.minRentalDays??we.minRentalDays,selectedFeatures:Array.isArray(F.selectedFeatures)?F.selectedFeatures:we.selectedFeatures,selectedAddons:Array.isArray(F.selectedAddons)?F.selectedAddons:we.selectedAddons,selectedReasons:Array.isArray(F.selectedReasons)?F.selectedReasons:we.selectedReasons,liveLocation:Ee(F.liveLocation),deliveryLocation:Ee(F.deliveryLocation),returnLocation:Ee(F.returnLocation)})),Ce){const we=s1();we?(N(de=>({...de,liveLocation:{...de.liveLocation,address:de.liveLocation?.address||"",latitude:we.latitude,longitude:we.longitude},deliveryLocation:{...de.deliveryLocation,address:de.deliveryLocation?.address||"",latitude:we.latitude,longitude:we.longitude},returnLocation:{...de.returnLocation,address:de.returnLocation?.address||"",latitude:we.latitude,longitude:we.longitude}})),ve.success("Form filled from description. Office location applied for Live, Delivery, and Return.")):ve.success("Form filled from description. Set your agency office location in profile to use it next time.")}else ve.success("Form filled from description. Review, add license plate and photos, then submit.")}catch(te){const ee=te.response?.status,Ce=te.response?.data;ee===403?ve.error(Ce?.message||"Only agencies can use AI car fill."):ee===422&&Ce?.errors?.description?Ce.errors.description.forEach(F=>ve.error(F)):ee===500||Ce?.message?ve.error(Ce?.message||"AI parsing failed. Please fill the form manually."):ve.error("Could not parse description. Please fill the form manually.")}finally{V(!1)}},me=async Q=>{Q.preventDefault(),r(!0);const te=new FormData,ee=b.make==="Other",Ce=b.model==="Other",F=ee?b.customMake.trim():b.make,Ee=ee||Ce?b.customModel.trim():b.model;if(!F){ve.error("Please enter the car make"),r(!1);return}if(!Ee){ve.error("Please enter the car model"),r(!1);return}te.append("make",F),te.append("model",Ee),te.append("year",b.year),te.append("license_plate",b.licensePlate.toUpperCase());const J={Petrol:"benz",Diesel:"diesel",Electric:"electric",Hybrid:"hybrid"};te.append("fuel_type",J[b.fuelType]||b.fuelType.toLowerCase()),te.append("transmission",b.transmission.toLowerCase()),te.append("car_category",b.carCategory.toLowerCase()),te.append("daily_rate",b.dailyRate),te.append("seats",b.seats),te.append("doors",b.doors),b.color&&te.append("color",b.color),b.mileage&&te.append("mileage",b.mileage),b.wheelsDrive&&te.append("wheels_drive",b.wheelsDrive.toLowerCase()),b.holidayRate&&te.append("holiday_rate",b.holidayRate),b.notes&&te.append("notes",b.notes),b.maxDrivingMileage&&te.append("max_driving_mileage",b.maxDrivingMileage),b.minRentalDays&&te.append("min_rental_days",b.minRentalDays),b.selectedFeatures.forEach(R=>te.append("features[]",R)),b.selectedAddons.forEach(R=>te.append("car_add_on[]",R)),b.selectedReasons.forEach(R=>te.append("reason_of_rent[]",R)),te.append("is_deposit",b.requireDeposit?"1":"0"),b.requireDeposit&&b.depositAmount>0&&te.append("deposit",b.depositAmount),te.append("is_delivered",b.deliveryAvailable?"1":"0"),b.deliveryAvailable&&b.deliveryFees>0&&te.append("delivery_fees",b.deliveryFees),te.append("with_driver",b.driverAvailable?"1":"0"),b.driverAvailable&&b.driverFees>0&&te.append("driver_fees",b.driverFees),te.append("live_location",JSON.stringify(b.liveLocation)),te.append("delivery_location",JSON.stringify(b.deliveryLocation)),te.append("return_location",JSON.stringify(b.returnLocation)),k.main&&te.append("main_image_url",k.main),k.front&&te.append("front_image_url",k.front),k.back&&te.append("back_image_url",k.back),k.left&&te.append("left_image_url",k.left),k.right&&te.append("right_image_url",k.right);try{const R=await Oe.post("/cars",te,{headers:{"Content-Type":"multipart/form-data"}});console.log("Car created successfully:",R.data),ve.success("Car created successfully! Waiting for admin approval."),t("/agent/cars")}catch(R){console.error("Create car error:",R.response?.data);const P=R.response?.data?.errors;if(P)Object.entries(P).forEach(([G,we])=>{we.forEach(de=>ve.error(`${G}: ${de}`))});else{const G=R.response?.data?.error||R.response?.data?.message||"Failed to create car";ve.error(G)}}finally{r(!1)}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-teal-50/30 to-cyan-50/30 dark:from-gray-950 dark:via-teal-950/20 dark:to-cyan-950/20 pt-20",children:[s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-teal-500/10 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-cyan-500/10 rounded-full blur-3xl animate-pulse delay-700"})]}),s.jsxs("div",{className:"container mx-auto px-4 py-8 relative z-10",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsxs(pe,{variant:"ghost",className:"text-gray-600 dark:text-gray-400 hover:text-teal-600 dark:hover:text-teal-400 transition-colors",onClick:()=>t(-1),children:[s.jsx(Ui,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),s.jsxs(pe,{variant:"secondary",className:"text-gray-600 dark:text-gray-400 hover:text-teal-600 dark:hover:text-teal-400 transition-colors",onClick:()=>t("/agent/cars"),children:[s.jsx(Kt,{className:"w-4 h-4 mr-2"}),"Go to Cars Page"]}),s.jsxs(pe,{variant:"outline",className:"text-gray-600 dark:text-gray-400 hover:text-teal-600 dark:hover:text-teal-400 transition-colors border-2 border-dashed",onClick:async()=>{try{await Nie("create-car-form-agency.docx"),ve.success("Form downloaded. Print and fill by hand if needed.")}catch(Q){console.error(Q),ve.error("Failed to download form.")}},children:[s.jsx(EW,{className:"w-4 h-4 mr-2"}),"Download form (print & fill by hand)"]})]}),s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-teal-500 to-cyan-500 flex items-center justify-center shadow-lg",children:s.jsx(Kt,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-black text-gray-900 dark:text-white",children:"Create New Car"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Add a premium vehicle to your fleet"})]})]})]}),s.jsxs("form",{onSubmit:me,className:"space-y-6",children:[s.jsx(Ue,{className:"border-2 border-teal-500/30 bg-teal-50/50 dark:bg-teal-950/30 transition-all duration-300 shadow-lg",children:s.jsxs(qe,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-amber-500 to-orange-500 flex items-center justify-center",children:s.jsx(Ul,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Fill with AI"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Describe your car in one line; we'll pre-fill the form."})]})]}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsx("textarea",{placeholder:"e.g. bmw serie 5 2025 auto 4 seats 4 doors sport address beirut, location office",value:le,onChange:Q=>be(Q.target.value.slice(0,2e3)),maxLength:2e3,rows:2,className:"flex-1 min-w-0 h-auto resize-y rounded-xl border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 px-4 py-3 bg-white dark:bg-gray-900 text-gray-900 dark:text-white placeholder:text-gray-500"}),s.jsx(pe,{type:"button",onClick:H,disabled:ge||!le.trim(),className:"shrink-0 bg-gradient-to-r from-amber-500 to-orange-500 hover:from-amber-600 hover:to-orange-600 text-white border-0 h-12 px-6 rounded-xl font-semibold",children:ge?s.jsx(s.Fragment,{children:s.jsx("span",{className:"animate-pulse",children:"Parsing"})}):s.jsxs(s.Fragment,{children:[s.jsx(Ul,{className:"w-4 h-4 mr-2 inline"}),"Fill with AI"]})})]}),s.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2",children:[le.length,"/2000"]})]})}),s.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:s.jsxs(qe,{className:"p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-teal-500 to-cyan-500 flex items-center justify-center",children:s.jsx(zo,{className:"w-6 h-6 text-white"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Basic Information"})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Make ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{required:!0,value:b.make,onChange:Q=>{const te=Q.target.value;N(ee=>({...ee,make:te,...te!=="Other"?{customMake:""}:{}}))},className:"w-full h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl px-4 bg-white dark:bg-gray-900",children:[s.jsx("option",{value:"",children:"Select Make..."}),Object.keys(Hc).sort().map(Q=>s.jsx("option",{value:Q,children:Q},Q)),s.jsx("option",{value:"Other",children:"Other"})]})]}),b.make==="Other"&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Custom Make ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Se,{required:!0,placeholder:"Type the make",value:b.customMake,onChange:Q=>N({...b,customMake:Q.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Model ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{required:b.make!=="Other",value:b.model,onChange:Q=>{const te=Q.target.value;N(ee=>({...ee,model:te,...te!=="Other"?{customModel:""}:{}}))},disabled:!b.make||b.make==="Other",className:"w-full h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl px-4 bg-white dark:bg-gray-900 disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx("option",{value:"",children:"Select Model..."}),n.map(Q=>s.jsx("option",{value:Q,children:Q},Q)),b.make&&b.make!=="Other"&&s.jsx("option",{value:"Other",children:"Other"})]}),!b.make&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Please select a make first"}),b.make==="Other"&&s.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select a custom make above to enter a model."})]}),(b.make==="Other"||b.model==="Other")&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Custom Model ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Se,{required:!0,placeholder:"Type the model",value:b.customModel,onChange:Q=>N({...b,customModel:Q.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Year ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Se,{required:!0,type:"number",placeholder:"e.g., 2024",value:b.year,onChange:Q=>N({...b,year:Q.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["License Plate ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Se,{required:!0,placeholder:"e.g., ABC-1234",value:b.licensePlate,onChange:Q=>N({...b,licensePlate:Q.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Color"}),s.jsxs("select",{value:b.color,onChange:Q=>N({...b,color:Q.target.value}),className:"w-full h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl px-4 bg-white dark:bg-gray-900",children:[s.jsx("option",{value:"",children:"Select Color..."}),Sie.map(Q=>s.jsx("option",{value:Q,children:Q},Q))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Mileage (km)"}),s.jsx(Se,{type:"number",placeholder:"e.g., 15000",value:b.mileage,onChange:Q=>N({...b,mileage:Q.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]})]})]})}),s.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:s.jsxs(qe,{className:"p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-cyan-500 to-blue-500 flex items-center justify-center",children:s.jsx(Pm,{className:"w-6 h-6 text-white"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Technical Specifications"})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Fuel Type ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{required:!0,value:b.fuelType,onChange:Q=>N({...b,fuelType:Q.target.value}),className:"w-full h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl px-4 bg-white dark:bg-gray-900",children:[s.jsx("option",{value:"",children:"Select..."}),s.jsx("option",{value:"Petrol",children:"Petrol"}),s.jsx("option",{value:"Diesel",children:"Diesel"}),s.jsx("option",{value:"Electric",children:"Electric"}),s.jsx("option",{value:"Hybrid",children:"Hybrid"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Transmission ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{required:!0,value:b.transmission,onChange:Q=>N({...b,transmission:Q.target.value}),className:"w-full h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl px-4 bg-white dark:bg-gray-900",children:[s.jsx("option",{value:"",children:"Select..."}),s.jsx("option",{value:"Automatic",children:"Automatic"}),s.jsx("option",{value:"Manual",children:"Manual"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Wheels Drive"}),s.jsxs("select",{value:b.wheelsDrive,onChange:Q=>N({...b,wheelsDrive:Q.target.value}),className:"w-full h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl px-4 bg-white dark:bg-gray-900",children:[s.jsx("option",{value:"",children:"Select..."}),s.jsx("option",{value:"4x4",children:"4x4"}),s.jsx("option",{value:"Front",children:"Front"}),s.jsx("option",{value:"Rear",children:"Rear"}),s.jsx("option",{value:"Autoblock",children:"Autoblock"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Seats ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Se,{required:!0,type:"number",placeholder:"e.g., 5",value:b.seats,onChange:Q=>N({...b,seats:Q.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Doors ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Se,{required:!0,type:"number",placeholder:"e.g., 4",value:b.doors,onChange:Q=>N({...b,doors:Q.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Category ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("select",{required:!0,value:b.carCategory,onChange:Q=>N({...b,carCategory:Q.target.value}),className:"w-full h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl px-4 bg-white dark:bg-gray-900",children:[s.jsx("option",{value:"",children:"Select..."}),s.jsx("option",{value:"Luxury",children:"Luxury"}),s.jsx("option",{value:"Sport",children:"Sport"}),s.jsx("option",{value:"Commercial",children:"Commercial"}),s.jsx("option",{value:"Industrial",children:"Industrial"}),s.jsx("option",{value:"Normal",children:"Normal"}),s.jsx("option",{value:"Event",children:"Event"}),s.jsx("option",{value:"Sea",children:"Sea"})]})]})]})]})}),s.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:s.jsxs(qe,{className:"p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-teal-600 to-teal-400 flex items-center justify-center",children:s.jsx(Ul,{className:"w-6 h-6 text-white"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Features & Add-ons"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Features (Click to select)"}),s.jsx("div",{className:"flex flex-wrap gap-3",children:Cie.map(Q=>s.jsxs(We,{onClick:()=>E(Q,b.selectedFeatures,te=>N({...b,selectedFeatures:te})),className:`cursor-pointer px-4 py-2 text-sm transition-all duration-300 ${b.selectedFeatures.includes(Q)?"bg-gradient-to-r from-teal-600 to-cyan-600 text-white hover:from-teal-700 hover:to-cyan-700":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[b.selectedFeatures.includes(Q)&&s.jsx(ga,{className:"w-3 h-3 mr-1"}),Q]},Q))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Add-ons (Click to select)"}),s.jsx("div",{className:"flex flex-wrap gap-3",children:kie.map(Q=>s.jsxs(We,{onClick:()=>E(Q,b.selectedAddons,te=>N({...b,selectedAddons:te})),className:`cursor-pointer px-4 py-2 text-sm transition-all duration-300 ${b.selectedAddons.includes(Q)?"bg-gradient-to-r from-cyan-600 to-blue-600 text-white hover:from-cyan-700 hover:to-blue-700":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[b.selectedAddons.includes(Q)&&s.jsx(ga,{className:"w-3 h-3 mr-1"}),Q]},Q))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Reason of Rent (Click to select)"}),s.jsx("div",{className:"flex flex-wrap gap-3",children:Aie.map(Q=>s.jsxs(We,{onClick:()=>E(Q,b.selectedReasons,te=>N({...b,selectedReasons:te})),className:`cursor-pointer px-4 py-2 text-sm transition-all duration-300 ${b.selectedReasons.includes(Q)?"bg-gradient-to-r from-teal-500 to-cyan-500 text-white hover:from-teal-600 hover:to-cyan-600":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[b.selectedReasons.includes(Q)&&s.jsx(ga,{className:"w-3 h-3 mr-1"}),Q]},Q))})]})]})]})}),s.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:s.jsxs(qe,{className:"p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-amber-500 to-yellow-500 flex items-center justify-center",children:s.jsx(cr,{className:"w-6 h-6 text-white"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Pricing & Rental Terms"})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-6 xl:grid-cols-8 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Daily Rate ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),s.jsx(Se,{required:!0,type:"number",placeholder:"100",value:b.dailyRate,onChange:Q=>N({...b,dailyRate:Q.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl pl-8"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Holiday Rate"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),s.jsx(Se,{type:"number",placeholder:"150",value:b.holidayRate,onChange:Q=>N({...b,holidayRate:Q.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl pl-8"})]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Min Rental Days"}),s.jsx(Se,{type:"number",placeholder:"e.g., 1",value:b.minRentalDays,onChange:Q=>N({...b,minRentalDays:Q.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Max Driving Mileage/Day (km)"}),s.jsx(Se,{type:"number",placeholder:"e.g., 200",value:b.maxDrivingMileage,onChange:Q=>N({...b,maxDrivingMileage:Q.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]}),s.jsxs("div",{className:"flex items-center space-x-3 pt-8",children:[s.jsx("input",{type:"checkbox",id:"requireDeposit",checked:b.requireDeposit,onChange:Q=>N({...b,requireDeposit:Q.target.checked}),className:"w-5 h-5 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500"}),s.jsx("label",{htmlFor:"requireDeposit",className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Require Deposit"})]}),b.requireDeposit&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Deposit Amount"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),s.jsx(Se,{type:"number",placeholder:"500",value:b.depositAmount,onChange:Q=>N({...b,depositAmount:Q.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl pl-8"})]})]})]})]})}),s.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:s.jsxs(qe,{className:"p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-teal-500 to-cyan-500 flex items-center justify-center",children:s.jsx(Kt,{className:"w-6 h-6 text-white"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Delivery & Driver Options"})]}),s.jsxs("div",{className:"flex flex-wrap gap-6",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",id:"deliveryAvailable",checked:b.deliveryAvailable,onChange:Q=>N({...b,deliveryAvailable:Q.target.checked}),className:"w-5 h-5 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500"}),s.jsx("label",{htmlFor:"deliveryAvailable",className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Delivery Available"})]}),b.deliveryAvailable&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Delivery Fee"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),s.jsx(Se,{type:"number",placeholder:"50",value:b.deliveryFees,onChange:Q=>N({...b,deliveryFees:Q.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl pl-8"})]})]}),s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("input",{type:"checkbox",id:"driverAvailable",checked:b.driverAvailable,onChange:Q=>N({...b,driverAvailable:Q.target.checked}),className:"w-5 h-5 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500"}),s.jsx("label",{htmlFor:"driverAvailable",className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Driver Available"})]}),b.driverAvailable&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Driver Fee Per Day"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),s.jsx(Se,{type:"number",placeholder:"50",value:b.driverFees,onChange:Q=>N({...b,driverFees:Q.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl pl-8"})]})]})]})]})}),s.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:s.jsxs(qe,{className:"p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-cyan-600 to-blue-500 flex items-center justify-center",children:s.jsx(Jc,{className:"w-6 h-6 text-white"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Car Images"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:["main","front","back","left","right"].map(Q=>s.jsxs("div",{className:"space-y-2",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:Q==="main"?"Main Image *":`${Q.charAt(0).toUpperCase()+Q.slice(1)} Image`}),s.jsx("div",{className:"relative",onDragOver:te=>U(te,Q),onDragLeave:te=>L(te,Q),onDrop:te=>Z(te,Q),children:C[Q]?s.jsxs("div",{className:`relative aspect-square rounded-xl overflow-hidden border-2 bg-gray-100 dark:bg-gray-800 select-none ${T===Q?"border-teal-500 ring-2 ring-teal-500/30":"border-gray-300"}`,onClick:te=>te.preventDefault(),role:"presentation",children:[s.jsx("img",{src:C[Q],alt:"",className:"w-full h-full object-cover pointer-events-none",draggable:!1}),T===Q&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-teal-500/20 pointer-events-none",children:s.jsx("span",{className:"text-sm font-semibold text-teal-700 dark:text-teal-200",children:"Drop to replace"})}),s.jsx("button",{type:"button",onClick:te=>{te.preventDefault(),te.stopPropagation(),O(Q)},className:"absolute top-2 right-2 bg-red-500 text-white p-1.5 rounded-full hover:bg-red-600 z-10",children:s.jsx(tr,{className:"w-4 h-4"})})]}):s.jsxs("label",{className:"block cursor-pointer",children:[s.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:te=>{const ee=te.target.files?.[0];ee&&z(Q,ee),te.target.value=""}}),s.jsxs("div",{className:`aspect-square border-2 border-dashed rounded-xl flex flex-col items-center justify-center transition bg-gray-50 dark:bg-gray-800/50 ${T===Q?"border-teal-500 bg-teal-50/50 dark:bg-teal-950/30":"hover:border-teal-500"}`,children:[s.jsx(KE,{className:"w-10 h-10 text-gray-400"}),s.jsx("span",{className:"text-sm text-gray-500 mt-2",children:"Click or drag & drop"})]})]})})]},Q))})]})}),s.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:s.jsxs(qe,{className:"p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-teal-600 to-cyan-600 flex items-center justify-center",children:s.jsx(Ps,{className:"w-6 h-6 text-white"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Location Information"})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:["liveLocation","deliveryLocation","returnLocation"].map(Q=>{const te=Q==="liveLocation"?"Live Location":Q==="deliveryLocation"?"Delivery Location":"Return Location",ee=b[Q],Ce=ee.latitude&&ee.longitude&&ee.latitude!==0&&ee.longitude!==0;return s.jsxs("div",{className:"p-5 border-2 rounded-lg bg-gray-50 dark:bg-gray-800",children:[s.jsx("h4",{className:"font-semibold mb-4 text-lg",children:te}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Address (region)"}),s.jsxs("select",{value:ee.address||"",onChange:F=>$(Q,F.target.value),className:"w-full h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl px-4 bg-white dark:bg-gray-900",children:[s.jsx("option",{value:"",children:"Select region..."}),Eie.map(F=>s.jsx("option",{value:F,children:F},F))]})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Paste Google Maps link (to set coordinates)"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Se,{placeholder:"e.g. https://www.google.com/maps/@33.8938,35.5018,17z",value:w[Q]||"",onChange:F=>j(Ee=>({...Ee,[Q]:F.target.value})),onBlur:F=>{const Ee=F.target.value?.trim();Ee&&oe(Q,Ee)},className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl flex-1"}),s.jsx(pe,{type:"button",variant:"outline",onClick:()=>{const F=w[Q];F?.trim()&&oe(Q,F)},className:"h-12 shrink-0",children:"Apply"})]}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Paste a link with coordinates to fill the pin location if missing."})]}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs(pe,{type:"button",variant:"outline",className:"flex-1 min-w-[140px]",onClick:()=>se(Q),children:[s.jsx(iM,{className:"w-4 h-4 mr-2"}),"Use Current Location"]}),s.jsxs(pe,{type:"button",variant:"outline",className:"flex-1 min-w-[140px]",onClick:()=>K(Q),children:[s.jsx(Ps,{className:"w-4 h-4 mr-2"}),"Select on Map"]}),s.jsxs(pe,{type:"button",variant:"outline",className:"flex-1 min-w-[140px]",onClick:()=>ce(Q),children:[s.jsx(Oi,{className:"w-4 h-4 mr-2"}),"Office location"]})]}),Ce?s.jsx("div",{className:"p-4 bg-primary/10 border-2 border-primary/20 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center flex-shrink-0",children:s.jsx(Ps,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold text-sm mb-1",children:"Location Selected"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Latitude: ",ee.latitude]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Longitude: ",ee.longitude]})]})]})}):s.jsxs("div",{className:"p-4 bg-muted/30 border-2 border-dashed rounded-lg text-center",children:[s.jsx(Ps,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No location selected yet"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Click one of the buttons above to set location"})]})]})]},Q)})})]})}),s.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:s.jsxs(qe,{className:"p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-teal-500 to-cyan-500 flex items-center justify-center",children:s.jsx(zo,{className:"w-6 h-6 text-white"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Additional Information"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Notes"}),s.jsx("textarea",{placeholder:"Any additional information about the vehicle...",value:b.notes,onChange:Q=>N({...b,notes:Q.target.value}),rows:5,className:"w-full border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl p-4 bg-white dark:bg-gray-900 resize-none"})]})]})}),s.jsxs("div",{className:"flex gap-4 justify-end",children:[s.jsx(pe,{type:"button",variant:"outline",size:"lg",className:"px-8 py-6 rounded-xl border-2 border-gray-300 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-800",onClick:()=>t(-1),children:"Cancel"}),s.jsxs(pe,{type:"submit",size:"lg",disabled:e||!k.main,className:"px-8 py-6 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-bold rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[s.jsx(KE,{className:"w-5 h-5 mr-2"}),e?"Creating Car...":"Create Car Listing"]})]})]})]})]}),s.jsx(Kr,{open:i,onOpenChange:Q=>{o(Q),Q||g("")},children:s.jsxs(Ir,{className:"max-w-4xl max-h-[90vh]",children:[s.jsxs(zr,{children:[s.jsx(Ur,{children:"Select Location"}),s.jsx(Hi,{children:"Search or click on the map, or use your office location. Drag the marker to adjust."})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs("div",{className:"flex flex-1 min-w-[200px] rounded-lg overflow-hidden border-2 border-gray-200 dark:border-gray-700",children:[s.jsx(Se,{placeholder:"Search address or place...",value:f,onChange:Q=>g(Q.target.value),onKeyDown:Q=>{Q.key==="Enter"&&(Q.preventDefault(),q())},className:"rounded-r-none border-0 h-11 focus-visible:ring-0"}),s.jsx(pe,{type:"button",variant:"secondary",onClick:q,disabled:y,className:"rounded-l-none h-11 px-4",children:s.jsx(Br,{className:"w-4 h-4"})})]}),s.jsxs(pe,{type:"button",variant:"outline",onClick:Y,className:"h-11 shrink-0",children:[s.jsx(Oi,{className:"w-4 h-4 mr-2"}),"Office location"]})]}),s.jsx("div",{className:"w-full h-[500px] bg-muted rounded-lg overflow-hidden",children:h&&s.jsx(Rie,{center:h,selectedLocation:h,onLocationSelect:M})}),h&&s.jsx("div",{className:"p-3 bg-muted/50 rounded-md",children:s.jsxs("p",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:"Selected:"})," ",h.latitude,", ",h.longitude]})}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(pe,{variant:"outline",onClick:()=>o(!1),children:"Cancel"}),s.jsx(pe,{onClick:X,children:"Confirm Location"})]})]})]})})]})},j2=_.createContext({});function _2(t){const e=_.useRef(null);return e.current===null&&(e.current=t()),e.current}const N2=typeof window<"u",oL=N2?_.useLayoutEffect:_.useEffect,my=_.createContext(null);function S2(t,e){t.indexOf(e)===-1&&t.push(e)}function C2(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const qo=(t,e,r)=>r>e?e:r<t?t:r;let k2=()=>{};const Wo={},lL=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function cL(t){return typeof t=="object"&&t!==null}const dL=t=>/^0[^.\s]+$/u.test(t);function A2(t){let e;return()=>(e===void 0&&(e=t()),e)}const $a=t=>t,Mie=(t,e)=>r=>e(t(r)),Xm=(...t)=>t.reduce(Mie),gm=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class E2{constructor(){this.subscriptions=[]}add(e){return S2(this.subscriptions,e),()=>C2(this.subscriptions,e)}notify(e,r,n){const a=this.subscriptions.length;if(a)if(a===1)this.subscriptions[0](e,r,n);else for(let i=0;i<a;i++){const o=this.subscriptions[i];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const qi=t=>t*1e3,Ua=t=>t/1e3;function uL(t,e){return e?t*(1e3/e):0}const hL=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,Pie=1e-7,Oie=12;function Lie(t,e,r,n,a){let i,o,c=0;do o=e+(r-e)/2,i=hL(o,n,a)-t,i>0?r=o:e=o;while(Math.abs(i)>Pie&&++c<Oie);return o}function Zm(t,e,r,n){if(t===e&&r===n)return $a;const a=i=>Lie(i,0,1,t,r);return i=>i===0||i===1?i:hL(a(i),e,n)}const fL=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,mL=t=>e=>1-t(1-e),pL=Zm(.33,1.53,.69,.99),T2=mL(pL),gL=fL(T2),xL=t=>(t*=2)<1?.5*T2(t):.5*(2-Math.pow(2,-10*(t-1))),R2=t=>1-Math.sin(Math.acos(t)),yL=mL(R2),bL=fL(R2),Fie=Zm(.42,0,1,1),Bie=Zm(0,0,.58,1),vL=Zm(.42,0,.58,1),Iie=t=>Array.isArray(t)&&typeof t[0]!="number",wL=t=>Array.isArray(t)&&typeof t[0]=="number",zie={linear:$a,easeIn:Fie,easeInOut:vL,easeOut:Bie,circIn:R2,circInOut:bL,circOut:yL,backIn:T2,backInOut:gL,backOut:pL,anticipate:xL},Uie=t=>typeof t=="string",eR=t=>{if(wL(t)){k2(t.length===4);const[e,r,n,a]=t;return Zm(e,r,n,a)}else if(Uie(t))return zie[t];return t},Wg=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function $ie(t,e){let r=new Set,n=new Set,a=!1,i=!1;const o=new WeakSet;let c={delta:0,timestamp:0,isProcessing:!1};function d(m){o.has(m)&&(h.schedule(m),t()),m(c)}const h={schedule:(m,f=!1,g=!1)=>{const v=g&&a?r:n;return f&&o.add(m),v.has(m)||v.add(m),m},cancel:m=>{n.delete(m),o.delete(m)},process:m=>{if(c=m,a){i=!0;return}a=!0,[r,n]=[n,r],r.forEach(d),r.clear(),a=!1,i&&(i=!1,h.process(m))}};return h}const Vie=40;function jL(t,e){let r=!1,n=!0;const a={delta:0,timestamp:0,isProcessing:!1},i=()=>r=!0,o=Wg.reduce((k,S)=>(k[S]=$ie(i),k),{}),{setup:c,read:d,resolveKeyframes:h,preUpdate:m,update:f,preRender:g,render:y,postRender:v}=o,w=()=>{const k=Wo.useManualTiming?a.timestamp:performance.now();r=!1,Wo.useManualTiming||(a.delta=n?1e3/60:Math.max(Math.min(k-a.timestamp,Vie),1)),a.timestamp=k,a.isProcessing=!0,c.process(a),d.process(a),h.process(a),m.process(a),f.process(a),g.process(a),y.process(a),v.process(a),a.isProcessing=!1,r&&e&&(n=!1,t(w))},j=()=>{r=!0,n=!0,a.isProcessing||t(w)};return{schedule:Wg.reduce((k,S)=>{const C=o[S];return k[S]=(B,E=!1,z=!1)=>(r||j(),C.schedule(B,E,z)),k},{}),cancel:k=>{for(let S=0;S<Wg.length;S++)o[Wg[S]].cancel(k)},state:a,steps:o}}const{schedule:ir,cancel:ec,state:cn,steps:r1}=jL(typeof requestAnimationFrame<"u"?requestAnimationFrame:$a,!0);let Cx;function Hie(){Cx=void 0}const Yn={now:()=>(Cx===void 0&&Yn.set(cn.isProcessing||Wo.useManualTiming?cn.timestamp:performance.now()),Cx),set:t=>{Cx=t,queueMicrotask(Hie)}},_L=t=>e=>typeof e=="string"&&e.startsWith(t),NL=_L("--"),qie=_L("var(--"),D2=t=>qie(t)?Wie.test(t.split("/*")[0].trim()):!1,Wie=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,jh={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},xm={...jh,transform:t=>qo(0,1,t)},Gg={...jh,default:1},em=t=>Math.round(t*1e5)/1e5,M2=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Gie(t){return t==null}const Yie=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,P2=(t,e)=>r=>!!(typeof r=="string"&&Yie.test(r)&&r.startsWith(t)||e&&!Gie(r)&&Object.prototype.hasOwnProperty.call(r,e)),SL=(t,e,r)=>n=>{if(typeof n!="string")return n;const[a,i,o,c]=n.match(M2);return{[t]:parseFloat(a),[e]:parseFloat(i),[r]:parseFloat(o),alpha:c!==void 0?parseFloat(c):1}},Kie=t=>qo(0,255,t),n1={...jh,transform:t=>Math.round(Kie(t))},dd={test:P2("rgb","red"),parse:SL("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+n1.transform(t)+", "+n1.transform(e)+", "+n1.transform(r)+", "+em(xm.transform(n))+")"};function Xie(t){let e="",r="",n="",a="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),a=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),a=t.substring(4,5),e+=e,r+=r,n+=n,a+=a),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:a?parseInt(a,16)/255:1}}const R_={test:P2("#"),parse:Xie,transform:dd.transform},Qm=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Bl=Qm("deg"),Wi=Qm("%"),zt=Qm("px"),Zie=Qm("vh"),Qie=Qm("vw"),tR={...Wi,parse:t=>Wi.parse(t)/100,transform:t=>Wi.transform(t*100)},Tu={test:P2("hsl","hue"),parse:SL("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Wi.transform(em(e))+", "+Wi.transform(em(r))+", "+em(xm.transform(n))+")"},Fr={test:t=>dd.test(t)||R_.test(t)||Tu.test(t),parse:t=>dd.test(t)?dd.parse(t):Tu.test(t)?Tu.parse(t):R_.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?dd.transform(t):Tu.transform(t),getAnimatableNone:t=>{const e=Fr.parse(t);return e.alpha=0,Fr.transform(e)}},Jie=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function eoe(t){return isNaN(t)&&typeof t=="string"&&(t.match(M2)?.length||0)+(t.match(Jie)?.length||0)>0}const CL="number",kL="color",toe="var",soe="var(",sR="${}",roe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function ym(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},a=[];let i=0;const c=e.replace(roe,d=>(Fr.test(d)?(n.color.push(i),a.push(kL),r.push(Fr.parse(d))):d.startsWith(soe)?(n.var.push(i),a.push(toe),r.push(d)):(n.number.push(i),a.push(CL),r.push(parseFloat(d))),++i,sR)).split(sR);return{values:r,split:c,indexes:n,types:a}}function AL(t){return ym(t).values}function EL(t){const{split:e,types:r}=ym(t),n=e.length;return a=>{let i="";for(let o=0;o<n;o++)if(i+=e[o],a[o]!==void 0){const c=r[o];c===CL?i+=em(a[o]):c===kL?i+=Fr.transform(a[o]):i+=a[o]}return i}}const noe=t=>typeof t=="number"?0:Fr.test(t)?Fr.getAnimatableNone(t):t;function aoe(t){const e=AL(t);return EL(t)(e.map(noe))}const tc={test:eoe,parse:AL,createTransformer:EL,getAnimatableNone:aoe};function a1(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function ioe({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let a=0,i=0,o=0;if(!e)a=i=o=r;else{const c=r<.5?r*(1+e):r+e-r*e,d=2*r-c;a=a1(d,c,t+1/3),i=a1(d,c,t),o=a1(d,c,t-1/3)}return{red:Math.round(a*255),green:Math.round(i*255),blue:Math.round(o*255),alpha:n}}function o0(t,e){return r=>r>0?e:t}const hr=(t,e,r)=>t+(e-t)*r,i1=(t,e,r)=>{const n=t*t,a=r*(e*e-n)+n;return a<0?0:Math.sqrt(a)},ooe=[R_,dd,Tu],loe=t=>ooe.find(e=>e.test(t));function rR(t){const e=loe(t);if(!e)return!1;let r=e.parse(t);return e===Tu&&(r=ioe(r)),r}const nR=(t,e)=>{const r=rR(t),n=rR(e);if(!r||!n)return o0(t,e);const a={...r};return i=>(a.red=i1(r.red,n.red,i),a.green=i1(r.green,n.green,i),a.blue=i1(r.blue,n.blue,i),a.alpha=hr(r.alpha,n.alpha,i),dd.transform(a))},D_=new Set(["none","hidden"]);function coe(t,e){return D_.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function doe(t,e){return r=>hr(t,e,r)}function O2(t){return typeof t=="number"?doe:typeof t=="string"?D2(t)?o0:Fr.test(t)?nR:foe:Array.isArray(t)?TL:typeof t=="object"?Fr.test(t)?nR:uoe:o0}function TL(t,e){const r=[...t],n=r.length,a=t.map((i,o)=>O2(i)(i,e[o]));return i=>{for(let o=0;o<n;o++)r[o]=a[o](i);return r}}function uoe(t,e){const r={...t,...e},n={};for(const a in r)t[a]!==void 0&&e[a]!==void 0&&(n[a]=O2(t[a])(t[a],e[a]));return a=>{for(const i in n)r[i]=n[i](a);return r}}function hoe(t,e){const r=[],n={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const i=e.types[a],o=t.indexes[i][n[i]],c=t.values[o]??0;r[a]=c,n[i]++}return r}const foe=(t,e)=>{const r=tc.createTransformer(e),n=ym(t),a=ym(e);return n.indexes.var.length===a.indexes.var.length&&n.indexes.color.length===a.indexes.color.length&&n.indexes.number.length>=a.indexes.number.length?D_.has(t)&&!a.values.length||D_.has(e)&&!n.values.length?coe(t,e):Xm(TL(hoe(n,a),a.values),r):o0(t,e)};function RL(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?hr(t,e,r):O2(t)(t,e)}const moe=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>ir.update(e,r),stop:()=>ec(e),now:()=>cn.isProcessing?cn.timestamp:Yn.now()}},DL=(t,e,r=10)=>{let n="";const a=Math.max(Math.round(e/r),2);for(let i=0;i<a;i++)n+=Math.round(t(i/(a-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},l0=2e4;function L2(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<l0;)e+=r,n=t.next(e);return e>=l0?1/0:e}function poe(t,e=100,r){const n=r({...t,keyframes:[0,e]}),a=Math.min(L2(n),l0);return{type:"keyframes",ease:i=>n.next(a*i).value/e,duration:Ua(a)}}const goe=5;function ML(t,e,r){const n=Math.max(e-goe,0);return uL(r-t(n),e-n)}const yr={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},o1=.001;function xoe({duration:t=yr.duration,bounce:e=yr.bounce,velocity:r=yr.velocity,mass:n=yr.mass}){let a,i,o=1-e;o=qo(yr.minDamping,yr.maxDamping,o),t=qo(yr.minDuration,yr.maxDuration,Ua(t)),o<1?(a=h=>{const m=h*o,f=m*t,g=m-r,y=M_(h,o),v=Math.exp(-f);return o1-g/y*v},i=h=>{const f=h*o*t,g=f*r+r,y=Math.pow(o,2)*Math.pow(h,2)*t,v=Math.exp(-f),w=M_(Math.pow(h,2),o);return(-a(h)+o1>0?-1:1)*((g-y)*v)/w}):(a=h=>{const m=Math.exp(-h*t),f=(h-r)*t+1;return-o1+m*f},i=h=>{const m=Math.exp(-h*t),f=(r-h)*(t*t);return m*f});const c=5/t,d=boe(a,i,c);if(t=qi(t),isNaN(d))return{stiffness:yr.stiffness,damping:yr.damping,duration:t};{const h=Math.pow(d,2)*n;return{stiffness:h,damping:o*2*Math.sqrt(n*h),duration:t}}}const yoe=12;function boe(t,e,r){let n=r;for(let a=1;a<yoe;a++)n=n-t(n)/e(n);return n}function M_(t,e){return t*Math.sqrt(1-e*e)}const voe=["duration","bounce"],woe=["stiffness","damping","mass"];function aR(t,e){return e.some(r=>t[r]!==void 0)}function joe(t){let e={velocity:yr.velocity,stiffness:yr.stiffness,damping:yr.damping,mass:yr.mass,isResolvedFromDuration:!1,...t};if(!aR(t,woe)&&aR(t,voe))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),a=n*n,i=2*qo(.05,1,1-(t.bounce||0))*Math.sqrt(a);e={...e,mass:yr.mass,stiffness:a,damping:i}}else{const r=xoe(t);e={...e,...r,mass:yr.mass},e.isResolvedFromDuration=!0}return e}function c0(t=yr.visualDuration,e=yr.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:a}=r;const i=r.keyframes[0],o=r.keyframes[r.keyframes.length-1],c={done:!1,value:i},{stiffness:d,damping:h,mass:m,duration:f,velocity:g,isResolvedFromDuration:y}=joe({...r,velocity:-Ua(r.velocity||0)}),v=g||0,w=h/(2*Math.sqrt(d*m)),j=o-i,b=Ua(Math.sqrt(d/m)),N=Math.abs(j)<5;n||(n=N?yr.restSpeed.granular:yr.restSpeed.default),a||(a=N?yr.restDelta.granular:yr.restDelta.default);let k;if(w<1){const C=M_(b,w);k=B=>{const E=Math.exp(-w*b*B);return o-E*((v+w*b*j)/C*Math.sin(C*B)+j*Math.cos(C*B))}}else if(w===1)k=C=>o-Math.exp(-b*C)*(j+(v+b*j)*C);else{const C=b*Math.sqrt(w*w-1);k=B=>{const E=Math.exp(-w*b*B),z=Math.min(C*B,300);return o-E*((v+w*b*j)*Math.sinh(z)+C*j*Math.cosh(z))/C}}const S={calculatedDuration:y&&f||null,next:C=>{const B=k(C);if(y)c.done=C>=f;else{let E=C===0?v:0;w<1&&(E=C===0?qi(v):ML(k,C,B));const z=Math.abs(E)<=n,T=Math.abs(o-B)<=a;c.done=z&&T}return c.value=c.done?o:B,c},toString:()=>{const C=Math.min(L2(S),l0),B=DL(E=>S.next(C*E).value,C,30);return C+"ms "+B},toTransition:()=>{}};return S}c0.applyToOptions=t=>{const e=poe(t,100,c0);return t.ease=e.ease,t.duration=qi(e.duration),t.type="keyframes",t};function P_({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:a=10,bounceStiffness:i=500,modifyTarget:o,min:c,max:d,restDelta:h=.5,restSpeed:m}){const f=t[0],g={done:!1,value:f},y=z=>c!==void 0&&z<c||d!==void 0&&z>d,v=z=>c===void 0?d:d===void 0||Math.abs(c-z)<Math.abs(d-z)?c:d;let w=r*e;const j=f+w,b=o===void 0?j:o(j);b!==j&&(w=b-f);const N=z=>-w*Math.exp(-z/n),k=z=>b+N(z),S=z=>{const T=N(z),W=k(z);g.done=Math.abs(T)<=h,g.value=g.done?b:W};let C,B;const E=z=>{y(g.value)&&(C=z,B=c0({keyframes:[g.value,v(g.value)],velocity:ML(k,z,g.value),damping:a,stiffness:i,restDelta:h,restSpeed:m}))};return E(0),{calculatedDuration:null,next:z=>{let T=!1;return!B&&C===void 0&&(T=!0,S(z),E(z)),C!==void 0&&z>=C?B.next(z-C):(!T&&S(z),g)}}}function _oe(t,e,r){const n=[],a=r||Wo.mix||RL,i=t.length-1;for(let o=0;o<i;o++){let c=a(t[o],t[o+1]);if(e){const d=Array.isArray(e)?e[o]||$a:e;c=Xm(d,c)}n.push(c)}return n}function Noe(t,e,{clamp:r=!0,ease:n,mixer:a}={}){const i=t.length;if(k2(i===e.length),i===1)return()=>e[0];if(i===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),e=[...e].reverse());const c=_oe(e,n,a),d=c.length,h=m=>{if(o&&m<t[0])return e[0];let f=0;if(d>1)for(;f<t.length-2&&!(m<t[f+1]);f++);const g=gm(t[f],t[f+1],m);return c[f](g)};return r?m=>h(qo(t[0],t[i-1],m)):h}function Soe(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const a=gm(0,e,n);t.push(hr(r,1,a))}}function Coe(t){const e=[0];return Soe(e,t.length-1),e}function koe(t,e){return t.map(r=>r*e)}function Aoe(t,e){return t.map(()=>e||vL).splice(0,t.length-1)}function tm({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const a=Iie(n)?n.map(eR):eR(n),i={done:!1,value:e[0]},o=koe(r&&r.length===e.length?r:Coe(e),t),c=Noe(o,e,{ease:Array.isArray(a)?a:Aoe(e,a)});return{calculatedDuration:t,next:d=>(i.value=c(d),i.done=d>=t,i)}}const Eoe=t=>t!==null;function F2(t,{repeat:e,repeatType:r="loop"},n,a=1){const i=t.filter(Eoe),c=a<0||e&&r!=="loop"&&e%2===1?0:i.length-1;return!c||n===void 0?i[c]:n}const Toe={decay:P_,inertia:P_,tween:tm,keyframes:tm,spring:c0};function PL(t){typeof t.type=="string"&&(t.type=Toe[t.type])}class B2{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const Roe=t=>t/100;class I2 extends B2{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:r}=this.options;r&&r.updatedAt!==Yn.now()&&this.tick(Yn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;PL(e);const{type:r=tm,repeat:n=0,repeatDelay:a=0,repeatType:i,velocity:o=0}=e;let{keyframes:c}=e;const d=r||tm;d!==tm&&typeof c[0]!="number"&&(this.mixKeyframes=Xm(Roe,RL(c[0],c[1])),c=[0,100]);const h=d({...e,keyframes:c});i==="mirror"&&(this.mirroredGenerator=d({...e,keyframes:[...c].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=L2(h));const{calculatedDuration:m}=h;this.calculatedDuration=m,this.resolvedDuration=m+a,this.totalDuration=this.resolvedDuration*(n+1)-a,this.generator=h}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:a,mixKeyframes:i,mirroredGenerator:o,resolvedDuration:c,calculatedDuration:d}=this;if(this.startTime===null)return n.next(0);const{delay:h=0,keyframes:m,repeat:f,repeatType:g,repeatDelay:y,type:v,onUpdate:w,finalKeyframe:j}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-a/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const b=this.currentTime-h*(this.playbackSpeed>=0?1:-1),N=this.playbackSpeed>=0?b<0:b>a;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=a);let k=this.currentTime,S=n;if(f){const z=Math.min(this.currentTime,a)/c;let T=Math.floor(z),W=z%1;!W&&z>=1&&(W=1),W===1&&T--,T=Math.min(T,f+1),!!(T%2)&&(g==="reverse"?(W=1-W,y&&(W-=y/c)):g==="mirror"&&(S=o)),k=qo(0,1,W)*c}const C=N?{done:!1,value:m[0]}:S.next(k);i&&(C.value=i(C.value));let{done:B}=C;!N&&d!==null&&(B=this.playbackSpeed>=0?this.currentTime>=a:this.currentTime<=0);const E=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return E&&v!==P_&&(C.value=F2(m,this.options,j,this.speed)),w&&w(C.value),E&&this.finish(),C}then(e,r){return this.finished.then(e,r)}get duration(){return Ua(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ua(e)}get time(){return Ua(this.currentTime)}set time(e){e=qi(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Yn.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Ua(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=moe,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Yn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function Doe(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const ud=t=>t*180/Math.PI,O_=t=>{const e=ud(Math.atan2(t[1],t[0]));return L_(e)},Moe={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:O_,rotateZ:O_,skewX:t=>ud(Math.atan(t[1])),skewY:t=>ud(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},L_=t=>(t=t%360,t<0&&(t+=360),t),iR=O_,oR=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),lR=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Poe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:oR,scaleY:lR,scale:t=>(oR(t)+lR(t))/2,rotateX:t=>L_(ud(Math.atan2(t[6],t[5]))),rotateY:t=>L_(ud(Math.atan2(-t[2],t[0]))),rotateZ:iR,rotate:iR,skewX:t=>ud(Math.atan(t[4])),skewY:t=>ud(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function F_(t){return t.includes("scale")?1:0}function B_(t,e){if(!t||t==="none")return F_(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,a;if(r)n=Poe,a=r;else{const c=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Moe,a=c}if(!a)return F_(e);const i=n[e],o=a[1].split(",").map(Loe);return typeof i=="function"?i(o):o[i]}const Ooe=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return B_(r,e)};function Loe(t){return parseFloat(t.trim())}const _h=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Nh=new Set(_h),cR=t=>t===jh||t===zt,Foe=new Set(["x","y","z"]),Boe=_h.filter(t=>!Foe.has(t));function Ioe(t){const e=[];return Boe.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const md={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>B_(e,"x"),y:(t,{transform:e})=>B_(e,"y")};md.translateX=md.x;md.translateY=md.y;const pd=new Set;let I_=!1,z_=!1,U_=!1;function OL(){if(z_){const t=Array.from(pd).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const a=Ioe(n);a.length&&(r.set(n,a),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const a=r.get(n);a&&a.forEach(([i,o])=>{n.getValue(i)?.set(o)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}z_=!1,I_=!1,pd.forEach(t=>t.complete(U_)),pd.clear()}function LL(){pd.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(z_=!0)})}function zoe(){U_=!0,LL(),OL(),U_=!1}class z2{constructor(e,r,n,a,i,o=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=a,this.element=i,this.isAsync=o}scheduleResolve(){this.state="scheduled",this.isAsync?(pd.add(this),I_||(I_=!0,ir.read(LL),ir.resolveKeyframes(OL))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:a}=this;if(e[0]===null){const i=a?.get(),o=e[e.length-1];if(i!==void 0)e[0]=i;else if(n&&r){const c=n.readValue(r,o);c!=null&&(e[0]=c)}e[0]===void 0&&(e[0]=o),a&&i===void 0&&a.set(e[0])}Doe(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),pd.delete(this)}cancel(){this.state==="scheduled"&&(pd.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Uoe=t=>t.startsWith("--");function $oe(t,e,r){Uoe(e)?t.style.setProperty(e,r):t.style[e]=r}const Voe=A2(()=>window.ScrollTimeline!==void 0),Hoe={};function qoe(t,e){const r=A2(t);return()=>Hoe[e]??r()}const FL=qoe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Hf=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,dR={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Hf([0,.65,.55,1]),circOut:Hf([.55,0,1,.45]),backIn:Hf([.31,.01,.66,-.59]),backOut:Hf([.33,1.53,.69,.99])};function BL(t,e){if(t)return typeof t=="function"?FL()?DL(t,e):"ease-out":wL(t)?Hf(t):Array.isArray(t)?t.map(r=>BL(r,e)||dR.easeOut):dR[t]}function Woe(t,e,r,{delay:n=0,duration:a=300,repeat:i=0,repeatType:o="loop",ease:c="easeOut",times:d}={},h=void 0){const m={[e]:r};d&&(m.offset=d);const f=BL(c,a);Array.isArray(f)&&(m.easing=f);const g={delay:n,duration:a,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:o==="reverse"?"alternate":"normal"};return h&&(g.pseudoElement=h),t.animate(m,g)}function IL(t){return typeof t=="function"&&"applyToOptions"in t}function Goe({type:t,...e}){return IL(t)&&FL()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Yoe extends B2{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:a,pseudoElement:i,allowFlatten:o=!1,finalKeyframe:c,onComplete:d}=e;this.isPseudoElement=!!i,this.allowFlatten=o,this.options=e,k2(typeof e.type!="string");const h=Goe(e);this.animation=Woe(r,n,a,h,i),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const m=F2(a,this.options,c,this.speed);this.updateMotionValue?this.updateMotionValue(m):$oe(r,n,m),this.animation.cancel()}d?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return Ua(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ua(e)}get time(){return Ua(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=qi(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&Voe()?(this.animation.timeline=e,$a):r(this)}}const zL={anticipate:xL,backInOut:gL,circInOut:bL};function Koe(t){return t in zL}function Xoe(t){typeof t.ease=="string"&&Koe(t.ease)&&(t.ease=zL[t.ease])}const uR=10;class Zoe extends Yoe{constructor(e){Xoe(e),PL(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:a,element:i,...o}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const c=new I2({...o,autoplay:!1}),d=qi(this.finishedTime??this.time);r.setWithVelocity(c.sample(d-uR).value,c.sample(d).value,uR),c.stop()}}const hR=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(tc.test(t)||t==="0")&&!t.startsWith("url("));function Qoe(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function Joe(t,e,r,n){const a=t[0];if(a===null)return!1;if(e==="display"||e==="visibility")return!0;const i=t[t.length-1],o=hR(a,e),c=hR(i,e);return!o||!c?!1:Qoe(t)||(r==="spring"||IL(r))&&n}function $_(t){t.duration=0,t.type="keyframes"}const ele=new Set(["opacity","clipPath","filter","transform"]),tle=A2(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function sle(t){const{motionValue:e,name:r,repeatDelay:n,repeatType:a,damping:i,type:o}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:d,transformTemplate:h}=e.owner.getProps();return tle()&&r&&ele.has(r)&&(r!=="transform"||!h)&&!d&&!n&&a!=="mirror"&&i!==0&&o!=="inertia"}const rle=40;class nle extends B2{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:a=0,repeatDelay:i=0,repeatType:o="loop",keyframes:c,name:d,motionValue:h,element:m,...f}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Yn.now();const g={autoplay:e,delay:r,type:n,repeat:a,repeatDelay:i,repeatType:o,name:d,motionValue:h,element:m,...f},y=m?.KeyframeResolver||z2;this.keyframeResolver=new y(c,(v,w,j)=>this.onKeyframesResolved(v,w,g,!j),d,h,m),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,r,n,a){this.keyframeResolver=void 0;const{name:i,type:o,velocity:c,delay:d,isHandoff:h,onUpdate:m}=n;this.resolvedAt=Yn.now(),Joe(e,i,o,c)||((Wo.instantAnimations||!d)&&m?.(F2(e,n,r)),e[0]=e[e.length-1],$_(n),n.repeat=0);const g={startTime:a?this.resolvedAt?this.resolvedAt-this.createdAt>rle?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},y=!h&&sle(g)?new Zoe({...g,element:g.motionValue.owner.current}):new I2(g);y.finished.then(()=>this.notifyFinished()).catch($a),this.pendingTimeline&&(this.stopTimeline=y.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=y}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),zoe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const ale=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function ile(t){const e=ale.exec(t);if(!e)return[,];const[,r,n,a]=e;return[`--${r??n}`,a]}function UL(t,e,r=1){const[n,a]=ile(t);if(!n)return;const i=window.getComputedStyle(e).getPropertyValue(n);if(i){const o=i.trim();return lL(o)?parseFloat(o):o}return D2(a)?UL(a,e,r+1):a}function U2(t,e){return t?.[e]??t?.default??t}const $L=new Set(["width","height","top","left","right","bottom",..._h]),ole={test:t=>t==="auto",parse:t=>t},VL=t=>e=>e.test(t),HL=[jh,zt,Wi,Bl,Qie,Zie,ole],fR=t=>HL.find(VL(t));function lle(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||dL(t):!0}const cle=new Set(["brightness","contrast","saturate","opacity"]);function dle(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(M2)||[];if(!n)return t;const a=r.replace(n,"");let i=cle.has(e)?1:0;return n!==r&&(i*=100),e+"("+i+a+")"}const ule=/\b([a-z-]*)\(.*?\)/gu,V_={...tc,getAnimatableNone:t=>{const e=t.match(ule);return e?e.map(dle).join(" "):t}},mR={...jh,transform:Math.round},hle={rotate:Bl,rotateX:Bl,rotateY:Bl,rotateZ:Bl,scale:Gg,scaleX:Gg,scaleY:Gg,scaleZ:Gg,skew:Bl,skewX:Bl,skewY:Bl,distance:zt,translateX:zt,translateY:zt,translateZ:zt,x:zt,y:zt,z:zt,perspective:zt,transformPerspective:zt,opacity:xm,originX:tR,originY:tR,originZ:zt},$2={borderWidth:zt,borderTopWidth:zt,borderRightWidth:zt,borderBottomWidth:zt,borderLeftWidth:zt,borderRadius:zt,radius:zt,borderTopLeftRadius:zt,borderTopRightRadius:zt,borderBottomRightRadius:zt,borderBottomLeftRadius:zt,width:zt,maxWidth:zt,height:zt,maxHeight:zt,top:zt,right:zt,bottom:zt,left:zt,padding:zt,paddingTop:zt,paddingRight:zt,paddingBottom:zt,paddingLeft:zt,margin:zt,marginTop:zt,marginRight:zt,marginBottom:zt,marginLeft:zt,backgroundPositionX:zt,backgroundPositionY:zt,...hle,zIndex:mR,fillOpacity:xm,strokeOpacity:xm,numOctaves:mR},fle={...$2,color:Fr,backgroundColor:Fr,outlineColor:Fr,fill:Fr,stroke:Fr,borderColor:Fr,borderTopColor:Fr,borderRightColor:Fr,borderBottomColor:Fr,borderLeftColor:Fr,filter:V_,WebkitFilter:V_},qL=t=>fle[t];function WL(t,e){let r=qL(t);return r!==V_&&(r=tc),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const mle=new Set(["auto","none","0"]);function ple(t,e,r){let n=0,a;for(;n<t.length&&!a;){const i=t[n];typeof i=="string"&&!mle.has(i)&&ym(i).values.length&&(a=t[n]),n++}if(a&&r)for(const i of e)t[i]=WL(r,a)}class gle extends z2{constructor(e,r,n,a,i){super(e,r,n,a,i,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let d=0;d<e.length;d++){let h=e[d];if(typeof h=="string"&&(h=h.trim(),D2(h))){const m=UL(h,r.current);m!==void 0&&(e[d]=m),d===e.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!$L.has(n)||e.length!==2)return;const[a,i]=e,o=fR(a),c=fR(i);if(o!==c)if(cR(o)&&cR(c))for(let d=0;d<e.length;d++){const h=e[d];typeof h=="string"&&(e[d]=parseFloat(h))}else md[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let a=0;a<e.length;a++)(e[a]===null||lle(e[a]))&&n.push(a);n.length&&ple(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=md[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const a=r[r.length-1];a!==void 0&&e.getValue(n,a).jump(a,!1)}measureEndState(){const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const a=e.getValue(r);a&&a.jump(this.measuredOrigin,!1);const i=n.length-1,o=n[i];n[i]=md[r](e.measureViewportBox(),window.getComputedStyle(e.current)),o!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=o),this.removedTransforms?.length&&this.removedTransforms.forEach(([c,d])=>{e.getValue(c).set(d)}),this.resolveNoneKeyframes()}}function xle(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const a=r?.[t]??n.querySelectorAll(t);return a?Array.from(a):[]}return Array.from(t)}const GL=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function YL(t){return cL(t)&&"offsetHeight"in t}const pR=30,yle=t=>!isNaN(parseFloat(t));class ble{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const a=Yn.now();if(this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=Yn.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=yle(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new E2);const n=this.events[e].add(r);return e==="change"?()=>{n(),ir.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Yn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>pR)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,pR);return uL(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function th(t,e){return new ble(t,e)}const{schedule:V2}=jL(queueMicrotask,!1),ii={x:!1,y:!1};function KL(){return ii.x||ii.y}function vle(t){return t==="x"||t==="y"?ii[t]?null:(ii[t]=!0,()=>{ii[t]=!1}):ii.x||ii.y?null:(ii.x=ii.y=!0,()=>{ii.x=ii.y=!1})}function XL(t,e){const r=xle(t),n=new AbortController,a={passive:!0,...e,signal:n.signal};return[r,a,()=>n.abort()]}function gR(t){return!(t.pointerType==="touch"||KL())}function wle(t,e,r={}){const[n,a,i]=XL(t,r),o=c=>{if(!gR(c))return;const{target:d}=c,h=e(d,c);if(typeof h!="function"||!d)return;const m=f=>{gR(f)&&(h(f),d.removeEventListener("pointerleave",m))};d.addEventListener("pointerleave",m,a)};return n.forEach(c=>{c.addEventListener("pointerenter",o,a)}),i}const ZL=(t,e)=>e?t===e?!0:ZL(t,e.parentElement):!1,H2=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,jle=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function _le(t){return jle.has(t.tagName)||t.tabIndex!==-1}const kx=new WeakSet;function xR(t){return e=>{e.key==="Enter"&&t(e)}}function l1(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Nle=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=xR(()=>{if(kx.has(r))return;l1(r,"down");const a=xR(()=>{l1(r,"up")}),i=()=>l1(r,"cancel");r.addEventListener("keyup",a,e),r.addEventListener("blur",i,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function yR(t){return H2(t)&&!KL()}function Sle(t,e,r={}){const[n,a,i]=XL(t,r),o=c=>{const d=c.currentTarget;if(!yR(c))return;kx.add(d);const h=e(d,c),m=(y,v)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",g),kx.has(d)&&kx.delete(d),yR(y)&&typeof h=="function"&&h(y,{success:v})},f=y=>{m(y,d===window||d===document||r.useGlobalTarget||ZL(d,y.target))},g=y=>{m(y,!1)};window.addEventListener("pointerup",f,a),window.addEventListener("pointercancel",g,a)};return n.forEach(c=>{(r.useGlobalTarget?window:c).addEventListener("pointerdown",o,a),YL(c)&&(c.addEventListener("focus",h=>Nle(h,a)),!_le(c)&&!c.hasAttribute("tabindex")&&(c.tabIndex=0))}),i}function QL(t){return cL(t)&&"ownerSVGElement"in t}function Cle(t){return QL(t)&&t.tagName==="svg"}const gn=t=>!!(t&&t.getVelocity),kle=[...HL,Fr,tc],Ale=t=>kle.find(VL(t)),q2=_.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function bR(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Ele(...t){return e=>{let r=!1;const n=t.map(a=>{const i=bR(a,e);return!r&&typeof i=="function"&&(r=!0),i});if(r)return()=>{for(let a=0;a<n.length;a++){const i=n[a];typeof i=="function"?i():bR(t[a],null)}}}}function Tle(...t){return _.useCallback(Ele(...t),t)}class Rle extends _.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,a=YL(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=r.offsetHeight||0,i.width=r.offsetWidth||0,i.top=r.offsetTop,i.left=r.offsetLeft,i.right=a-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Dle({children:t,isPresent:e,anchorX:r,root:n}){const a=_.useId(),i=_.useRef(null),o=_.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:c}=_.useContext(q2),d=Tle(i,t?.ref);return _.useInsertionEffect(()=>{const{width:h,height:m,top:f,left:g,right:y}=o.current;if(e||!i.current||!h||!m)return;const v=r==="left"?`left: ${g}`:`right: ${y}`;i.current.dataset.motionPopId=a;const w=document.createElement("style");c&&(w.nonce=c);const j=n??document.head;return j.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${a}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${m}px !important;
            ${v}px !important;
            top: ${f}px !important;
          }
        `),()=>{j.contains(w)&&j.removeChild(w)}},[e]),s.jsx(Rle,{isPresent:e,childRef:i,sizeRef:o,children:_.cloneElement(t,{ref:d})})}const Mle=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:a,presenceAffectsLayout:i,mode:o,anchorX:c,root:d})=>{const h=_2(Ple),m=_.useId();let f=!0,g=_.useMemo(()=>(f=!1,{id:m,initial:e,isPresent:r,custom:a,onExitComplete:y=>{h.set(y,!0);for(const v of h.values())if(!v)return;n&&n()},register:y=>(h.set(y,!1),()=>h.delete(y))}),[r,h,n]);return i&&f&&(g={...g}),_.useMemo(()=>{h.forEach((y,v)=>h.set(v,!1))},[r]),_.useEffect(()=>{!r&&!h.size&&n&&n()},[r]),o==="popLayout"&&(t=s.jsx(Dle,{isPresent:r,anchorX:c,root:d,children:t})),s.jsx(my.Provider,{value:g,children:t})};function Ple(){return new Map}function JL(t=!0){const e=_.useContext(my);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:a}=e,i=_.useId();_.useEffect(()=>{if(t)return a(i)},[t]);const o=_.useCallback(()=>t&&n&&n(i),[i,n,t]);return!r&&n?[!1,o]:[!0]}const Yg=t=>t.key||"";function vR(t){const e=[];return _.Children.forEach(t,r=>{_.isValidElement(r)&&e.push(r)}),e}const Go=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:a=!0,mode:i="sync",propagate:o=!1,anchorX:c="left",root:d})=>{const[h,m]=JL(o),f=_.useMemo(()=>vR(t),[t]),g=o&&!h?[]:f.map(Yg),y=_.useRef(!0),v=_.useRef(f),w=_2(()=>new Map),[j,b]=_.useState(f),[N,k]=_.useState(f);oL(()=>{y.current=!1,v.current=f;for(let B=0;B<N.length;B++){const E=Yg(N[B]);g.includes(E)?w.delete(E):w.get(E)!==!0&&w.set(E,!1)}},[N,g.length,g.join("-")]);const S=[];if(f!==j){let B=[...f];for(let E=0;E<N.length;E++){const z=N[E],T=Yg(z);g.includes(T)||(B.splice(E,0,z),S.push(z))}return i==="wait"&&S.length&&(B=S),k(vR(B)),b(f),null}const{forceRender:C}=_.useContext(j2);return s.jsx(s.Fragment,{children:N.map(B=>{const E=Yg(B),z=o&&!h?!1:f===N||g.includes(E),T=()=>{if(w.has(E))w.set(E,!0);else return;let W=!0;w.forEach(U=>{U||(W=!1)}),W&&(C?.(),k(v.current),o&&m?.(),n&&n())};return s.jsx(Mle,{isPresent:z,initial:!y.current||r?void 0:!1,custom:e,presenceAffectsLayout:a,mode:i,root:d,onExitComplete:z?void 0:T,anchorX:c,children:B},E)})})},eF=_.createContext({strict:!1}),wR={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},sh={};for(const t in wR)sh[t]={isEnabled:e=>wR[t].some(r=>!!e[r])};function Ole(t){for(const e in t)sh[e]={...sh[e],...t[e]}}const Lle=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function d0(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Lle.has(t)}let tF=t=>!d0(t);function Fle(t){typeof t=="function"&&(tF=e=>e.startsWith("on")?!d0(e):t(e))}try{Fle(require("@emotion/is-prop-valid").default)}catch{}function Ble(t,e,r){const n={};for(const a in t)a==="values"&&typeof t.values=="object"||(tF(a)||r===!0&&d0(a)||!e&&!d0(a)||t.draggable&&a.startsWith("onDrag"))&&(n[a]=t[a]);return n}const py=_.createContext({});function gy(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function bm(t){return typeof t=="string"||Array.isArray(t)}const W2=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],G2=["initial",...W2];function xy(t){return gy(t.animate)||G2.some(e=>bm(t[e]))}function sF(t){return!!(xy(t)||t.variants)}function Ile(t,e){if(xy(t)){const{initial:r,animate:n}=t;return{initial:r===!1||bm(r)?r:void 0,animate:bm(n)?n:void 0}}return t.inherit!==!1?e:{}}function zle(t){const{initial:e,animate:r}=Ile(t,_.useContext(py));return _.useMemo(()=>({initial:e,animate:r}),[jR(e),jR(r)])}function jR(t){return Array.isArray(t)?t.join(" "):t}function _R(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Pf={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(zt.test(t))t=parseFloat(t);else return t;const r=_R(t,e.target.x),n=_R(t,e.target.y);return`${r}% ${n}%`}},Ule={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,a=tc.parse(t);if(a.length>5)return n;const i=tc.createTransformer(t),o=typeof a[0]!="number"?1:0,c=r.x.scale*e.x,d=r.y.scale*e.y;a[0+o]/=c,a[1+o]/=d;const h=hr(c,d,.5);return typeof a[2+o]=="number"&&(a[2+o]/=h),typeof a[3+o]=="number"&&(a[3+o]/=h),i(a)}},H_={borderRadius:{...Pf,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Pf,borderTopRightRadius:Pf,borderBottomLeftRadius:Pf,borderBottomRightRadius:Pf,boxShadow:Ule};function rF(t,{layout:e,layoutId:r}){return Nh.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!H_[t]||t==="opacity")}const $le={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Vle=_h.length;function Hle(t,e,r){let n="",a=!0;for(let i=0;i<Vle;i++){const o=_h[i],c=t[o];if(c===void 0)continue;let d=!0;if(typeof c=="number"?d=c===(o.startsWith("scale")?1:0):d=parseFloat(c)===0,!d||r){const h=GL(c,$2[o]);if(!d){a=!1;const m=$le[o]||o;n+=`${m}(${h}) `}r&&(e[o]=h)}}return n=n.trim(),r?n=r(e,a?"":n):a&&(n="none"),n}function Y2(t,e,r){const{style:n,vars:a,transformOrigin:i}=t;let o=!1,c=!1;for(const d in e){const h=e[d];if(Nh.has(d)){o=!0;continue}else if(NL(d)){a[d]=h;continue}else{const m=GL(h,$2[d]);d.startsWith("origin")?(c=!0,i[d]=m):n[d]=m}}if(e.transform||(o||r?n.transform=Hle(e,t.transform,r):n.transform&&(n.transform="none")),c){const{originX:d="50%",originY:h="50%",originZ:m=0}=i;n.transformOrigin=`${d} ${h} ${m}`}}const K2=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function nF(t,e,r){for(const n in e)!gn(e[n])&&!rF(n,r)&&(t[n]=e[n])}function qle({transformTemplate:t},e){return _.useMemo(()=>{const r=K2();return Y2(r,e,t),Object.assign({},r.vars,r.style)},[e])}function Wle(t,e){const r=t.style||{},n={};return nF(n,r,t),Object.assign(n,qle(t,e)),n}function Gle(t,e){const r={},n=Wle(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const Yle={offset:"stroke-dashoffset",array:"stroke-dasharray"},Kle={offset:"strokeDashoffset",array:"strokeDasharray"};function Xle(t,e,r=1,n=0,a=!0){t.pathLength=1;const i=a?Yle:Kle;t[i.offset]=zt.transform(-n);const o=zt.transform(e),c=zt.transform(r);t[i.array]=`${o} ${c}`}function aF(t,{attrX:e,attrY:r,attrScale:n,pathLength:a,pathSpacing:i=1,pathOffset:o=0,...c},d,h,m){if(Y2(t,c,h),d){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:g}=t;f.transform&&(g.transform=f.transform,delete f.transform),(g.transform||f.transformOrigin)&&(g.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),g.transform&&(g.transformBox=m?.transformBox??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),a!==void 0&&Xle(f,a,i,o,!1)}const iF=()=>({...K2(),attrs:{}}),oF=t=>typeof t=="string"&&t.toLowerCase()==="svg";function Zle(t,e,r,n){const a=_.useMemo(()=>{const i=iF();return aF(i,e,oF(n),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[e]);if(t.style){const i={};nF(i,t.style,t),a.style={...i,...a.style}}return a}const Qle=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function X2(t){return typeof t!="string"||t.includes("-")?!1:!!(Qle.indexOf(t)>-1||/[A-Z]/u.test(t))}function Jle(t,e,r,{latestValues:n},a,i=!1){const c=(X2(t)?Zle:Gle)(e,n,a,t),d=Ble(e,typeof t=="string",i),h=t!==_.Fragment?{...d,...c,ref:r}:{},{children:m}=e,f=_.useMemo(()=>gn(m)?m.get():m,[m]);return _.createElement(t,{...h,children:f})}function NR(t){const e=[{},{}];return t?.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function Z2(t,e,r,n){if(typeof e=="function"){const[a,i]=NR(n);e=e(r!==void 0?r:t.custom,a,i)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[a,i]=NR(n);e=e(r!==void 0?r:t.custom,a,i)}return e}function Ax(t){return gn(t)?t.get():t}function ece({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,a){return{latestValues:tce(r,n,a,t),renderState:e()}}function tce(t,e,r,n){const a={},i=n(t,{});for(const g in i)a[g]=Ax(i[g]);let{initial:o,animate:c}=t;const d=xy(t),h=sF(t);e&&h&&!d&&t.inherit!==!1&&(o===void 0&&(o=e.initial),c===void 0&&(c=e.animate));let m=r?r.initial===!1:!1;m=m||o===!1;const f=m?c:o;if(f&&typeof f!="boolean"&&!gy(f)){const g=Array.isArray(f)?f:[f];for(let y=0;y<g.length;y++){const v=Z2(t,g[y]);if(v){const{transitionEnd:w,transition:j,...b}=v;for(const N in b){let k=b[N];if(Array.isArray(k)){const S=m?k.length-1:0;k=k[S]}k!==null&&(a[N]=k)}for(const N in w)a[N]=w[N]}}}return a}const lF=t=>(e,r)=>{const n=_.useContext(py),a=_.useContext(my),i=()=>ece(t,e,n,a);return r?i():_2(i)};function Q2(t,e,r){const{style:n}=t,a={};for(const i in n)(gn(n[i])||e.style&&gn(e.style[i])||rF(i,t)||r?.getValue(i)?.liveStyle!==void 0)&&(a[i]=n[i]);return a}const sce=lF({scrapeMotionValuesFromProps:Q2,createRenderState:K2});function cF(t,e,r){const n=Q2(t,e,r);for(const a in t)if(gn(t[a])||gn(e[a])){const i=_h.indexOf(a)!==-1?"attr"+a.charAt(0).toUpperCase()+a.substring(1):a;n[i]=t[a]}return n}const rce=lF({scrapeMotionValuesFromProps:cF,createRenderState:iF}),nce=Symbol.for("motionComponentSymbol");function Ru(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function ace(t,e,r){return _.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):Ru(r)&&(r.current=n))},[e])}const J2=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),ice="framerAppearId",dF="data-"+J2(ice),uF=_.createContext({});function oce(t,e,r,n,a){const{visualElement:i}=_.useContext(py),o=_.useContext(eF),c=_.useContext(my),d=_.useContext(q2).reducedMotion,h=_.useRef(null);n=n||o.renderer,!h.current&&n&&(h.current=n(t,{visualState:e,parent:i,props:r,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:d}));const m=h.current,f=_.useContext(uF);m&&!m.projection&&a&&(m.type==="html"||m.type==="svg")&&lce(h.current,r,a,f);const g=_.useRef(!1);_.useInsertionEffect(()=>{m&&g.current&&m.update(r,c)});const y=r[dF],v=_.useRef(!!y&&!window.MotionHandoffIsComplete?.(y)&&window.MotionHasOptimisedAnimation?.(y));return oL(()=>{m&&(g.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),m.scheduleRenderMicrotask(),v.current&&m.animationState&&m.animationState.animateChanges())}),_.useEffect(()=>{m&&(!v.current&&m.animationState&&m.animationState.animateChanges(),v.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(y)}),v.current=!1),m.enteringChildren=void 0)}),m}function lce(t,e,r,n){const{layoutId:a,layout:i,drag:o,dragConstraints:c,layoutScroll:d,layoutRoot:h,layoutCrossfade:m}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:hF(t.parent)),t.projection.setOptions({layoutId:a,layout:i,alwaysMeasureLayout:!!o||c&&Ru(c),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:m,layoutScroll:d,layoutRoot:h})}function hF(t){if(t)return t.options.allowProjection!==!1?t.projection:hF(t.parent)}function c1(t,{forwardMotionProps:e=!1}={},r,n){r&&Ole(r);const a=X2(t)?rce:sce;function i(c,d){let h;const m={..._.useContext(q2),...c,layoutId:cce(c)},{isStatic:f}=m,g=zle(c),y=a(c,f);if(!f&&N2){dce();const v=uce(m);h=v.MeasureLayout,g.visualElement=oce(t,y,m,n,v.ProjectionNode)}return s.jsxs(py.Provider,{value:g,children:[h&&g.visualElement?s.jsx(h,{visualElement:g.visualElement,...m}):null,Jle(t,c,ace(y,g.visualElement,d),y,f,e)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const o=_.forwardRef(i);return o[nce]=t,o}function cce({layoutId:t}){const e=_.useContext(j2).id;return e&&t!==void 0?e+"-"+t:t}function dce(t,e){_.useContext(eF).strict}function uce(t){const{drag:e,layout:r}=sh;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e?.isEnabled(t)||r?.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function hce(t,e){if(typeof Proxy>"u")return c1;const r=new Map,n=(i,o)=>c1(i,o,t,e),a=(i,o)=>n(i,o);return new Proxy(a,{get:(i,o)=>o==="create"?n:(r.has(o)||r.set(o,c1(o,void 0,t,e)),r.get(o))})}function fF({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function fce({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function mce(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function d1(t){return t===void 0||t===1}function q_({scale:t,scaleX:e,scaleY:r}){return!d1(t)||!d1(e)||!d1(r)}function td(t){return q_(t)||mF(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function mF(t){return SR(t.x)||SR(t.y)}function SR(t){return t&&t!=="0%"}function u0(t,e,r){const n=t-r,a=e*n;return r+a}function CR(t,e,r,n,a){return a!==void 0&&(t=u0(t,a,n)),u0(t,r,n)+e}function W_(t,e=0,r=1,n,a){t.min=CR(t.min,e,r,n,a),t.max=CR(t.max,e,r,n,a)}function pF(t,{x:e,y:r}){W_(t.x,e.translate,e.scale,e.originPoint),W_(t.y,r.translate,r.scale,r.originPoint)}const kR=.999999999999,AR=1.0000000000001;function pce(t,e,r,n=!1){const a=r.length;if(!a)return;e.x=e.y=1;let i,o;for(let c=0;c<a;c++){i=r[c],o=i.projectionDelta;const{visualElement:d}=i.options;d&&d.props.style&&d.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Mu(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,pF(t,o)),n&&td(i.latestValues)&&Mu(t,i.latestValues))}e.x<AR&&e.x>kR&&(e.x=1),e.y<AR&&e.y>kR&&(e.y=1)}function Du(t,e){t.min=t.min+e,t.max=t.max+e}function ER(t,e,r,n,a=.5){const i=hr(t.min,t.max,a);W_(t,e,r,i,n)}function Mu(t,e){ER(t.x,e.x,e.scaleX,e.scale,e.originX),ER(t.y,e.y,e.scaleY,e.scale,e.originY)}function gF(t,e){return fF(mce(t.getBoundingClientRect(),e))}function gce(t,e,r){const n=gF(t,r),{scroll:a}=e;return a&&(Du(n.x,a.offset.x),Du(n.y,a.offset.y)),n}const TR=()=>({translate:0,scale:1,origin:0,originPoint:0}),Pu=()=>({x:TR(),y:TR()}),RR=()=>({min:0,max:0}),Wr=()=>({x:RR(),y:RR()}),G_={current:null},xF={current:!1};function xce(){if(xF.current=!0,!!N2)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>G_.current=t.matches;t.addEventListener("change",e),e()}else G_.current=!1}const yce=new WeakMap;function bce(t,e,r){for(const n in e){const a=e[n],i=r[n];if(gn(a))t.addValue(n,a);else if(gn(i))t.addValue(n,th(a,{owner:t}));else if(i!==a)if(t.hasValue(n)){const o=t.getValue(n);o.liveStyle===!0?o.jump(a):o.hasAnimated||o.set(a)}else{const o=t.getStaticValue(n);t.addValue(n,th(o!==void 0?o:a,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const DR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class vce{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:a,blockInitialAnimation:i,visualState:o},c={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=z2,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=Yn.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,ir.render(this.render,!1,!0))};const{latestValues:d,renderState:h}=o;this.latestValues=d,this.baseTarget={...d},this.initialValues=r.initial?{...d}:{},this.renderState=h,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=a,this.options=c,this.blockInitialAnimation=!!i,this.isControllingVariants=xy(r),this.isVariantNode=sF(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:m,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const g in f){const y=f[g];d[g]!==void 0&&gn(y)&&y.set(d[g])}}mount(e){this.current=e,yce.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),xF.current||xce(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:G_.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),ec(this.notifyUpdate),ec(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const r=this.features[e];r&&(r.unmount(),r.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=Nh.has(e);n&&this.onBindTransform&&this.onBindTransform();const a=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&ir.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{a(),i&&i(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in sh){const r=sh[e];if(!r)continue;const{isEnabled:n,Feature:a}=r;if(!this.features[e]&&a&&n(this.props)&&(this.features[e]=new a(this)),this.features[e]){const i=this.features[e];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Wr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<DR.length;n++){const a=DR[n];this.propEventSubscriptions[a]&&(this.propEventSubscriptions[a](),delete this.propEventSubscriptions[a]);const i="on"+a,o=e[i];o&&(this.propEventSubscriptions[a]=this.on(a,o))}this.prevMotionValues=bce(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=th(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(lL(n)||dL(n))?n=parseFloat(n):!Ale(n)&&tc.test(r)&&(n=WL(e,r)),this.setBaseTarget(e,gn(n)?n.get():n)),gn(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const i=Z2(this.props,r,this.presenceContext?.custom);i&&(n=i[e])}if(r&&n!==void 0)return n;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!gn(a)?a:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new E2),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){V2.render(this.render)}}class yF extends vce{constructor(){super(...arguments),this.KeyframeResolver=gle}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;gn(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function bF(t,{style:e,vars:r},n,a){const i=t.style;let o;for(o in e)i[o]=e[o];a?.applyProjectionStyles(i,n);for(o in r)i.setProperty(o,r[o])}function wce(t){return window.getComputedStyle(t)}class jce extends yF{constructor(){super(...arguments),this.type="html",this.renderInstance=bF}readValueFromInstance(e,r){if(Nh.has(r))return this.projection?.isProjecting?F_(r):Ooe(e,r);{const n=wce(e),a=(NL(r)?n.getPropertyValue(r):n[r])||0;return typeof a=="string"?a.trim():a}}measureInstanceViewportBox(e,{transformPagePoint:r}){return gF(e,r)}build(e,r,n){Y2(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return Q2(e,r,n)}}const vF=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function _ce(t,e,r,n){bF(t,e,void 0,n);for(const a in e.attrs)t.setAttribute(vF.has(a)?a:J2(a),e.attrs[a])}class Nce extends yF{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Wr}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(Nh.has(r)){const n=qL(r);return n&&n.default||0}return r=vF.has(r)?r:J2(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return cF(e,r,n)}build(e,r,n){aF(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,a){_ce(e,r,n,a)}mount(e){this.isSVGTag=oF(e.tagName),super.mount(e)}}const Sce=(t,e)=>X2(t)?new Nce(e):new jce(e,{allowProjection:t!==_.Fragment});function $u(t,e,r){const n=t.getProps();return Z2(n,e,r!==void 0?r:n.custom,t)}const Y_=t=>Array.isArray(t);function Cce(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,th(r))}function kce(t){return Y_(t)?t[t.length-1]||0:t}function Ace(t,e){const r=$u(t,e);let{transitionEnd:n={},transition:a={},...i}=r||{};i={...i,...n};for(const o in i){const c=kce(i[o]);Cce(t,o,c)}}function Ece(t){return!!(gn(t)&&t.add)}function K_(t,e){const r=t.getValue("willChange");if(Ece(r))return r.add(e);if(!r&&Wo.WillChange){const n=new Wo.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function wF(t){return t.props[dF]}const Tce=t=>t!==null;function Rce(t,{repeat:e,repeatType:r="loop"},n){const a=t.filter(Tce),i=e&&r!=="loop"&&e%2===1?0:a.length-1;return a[i]}const Dce={type:"spring",stiffness:500,damping:25,restSpeed:10},Mce=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Pce={type:"keyframes",duration:.8},Oce={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Lce=(t,{keyframes:e})=>e.length>2?Pce:Nh.has(t)?t.startsWith("scale")?Mce(e[1]):Dce:Oce;function Fce({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:a,repeat:i,repeatType:o,repeatDelay:c,from:d,elapsed:h,...m}){return!!Object.keys(m).length}const eS=(t,e,r,n={},a,i)=>o=>{const c=U2(n,t)||{},d=c.delay||n.delay||0;let{elapsed:h=0}=n;h=h-qi(d);const m={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...c,delay:-h,onUpdate:g=>{e.set(g),c.onUpdate&&c.onUpdate(g)},onComplete:()=>{o(),c.onComplete&&c.onComplete()},name:t,motionValue:e,element:i?void 0:a};Fce(c)||Object.assign(m,Lce(t,m)),m.duration&&(m.duration=qi(m.duration)),m.repeatDelay&&(m.repeatDelay=qi(m.repeatDelay)),m.from!==void 0&&(m.keyframes[0]=m.from);let f=!1;if((m.type===!1||m.duration===0&&!m.repeatDelay)&&($_(m),m.delay===0&&(f=!0)),(Wo.instantAnimations||Wo.skipAnimations)&&(f=!0,$_(m),m.delay=0),m.allowFlatten=!c.type&&!c.ease,f&&!i&&e.get()!==void 0){const g=Rce(m.keyframes,c);if(g!==void 0){ir.update(()=>{m.onUpdate(g),m.onComplete()});return}}return c.isSync?new I2(m):new nle(m)};function Bce({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function jF(t,e,{delay:r=0,transitionOverride:n,type:a}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:o,...c}=e;n&&(i=n);const d=[],h=a&&t.animationState&&t.animationState.getState()[a];for(const m in c){const f=t.getValue(m,t.latestValues[m]??null),g=c[m];if(g===void 0||h&&Bce(h,m))continue;const y={delay:r,...U2(i||{},m)},v=f.get();if(v!==void 0&&!f.isAnimating&&!Array.isArray(g)&&g===v&&!y.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const b=wF(t);if(b){const N=window.MotionHandoffAnimation(b,m,ir);N!==null&&(y.startTime=N,w=!0)}}K_(t,m),f.start(eS(m,f,g,t.shouldReduceMotion&&$L.has(m)?{type:!1}:y,t,w));const j=f.animation;j&&d.push(j)}return o&&Promise.all(d).then(()=>{ir.update(()=>{o&&Ace(t,o)})}),d}function _F(t,e,r,n=0,a=1){const i=Array.from(t).sort((h,m)=>h.sortNodePosition(m)).indexOf(e),o=t.size,c=(o-1)*n;return typeof r=="function"?r(i,o):a===1?i*n:c-i*n}function X_(t,e,r={}){const n=$u(t,e,r.type==="exit"?t.presenceContext?.custom:void 0);let{transition:a=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(a=r.transitionOverride);const i=n?()=>Promise.all(jF(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(d=0)=>{const{delayChildren:h=0,staggerChildren:m,staggerDirection:f}=a;return Ice(t,e,d,h,m,f,r)}:()=>Promise.resolve(),{when:c}=a;if(c){const[d,h]=c==="beforeChildren"?[i,o]:[o,i];return d().then(()=>h())}else return Promise.all([i(),o(r.delay)])}function Ice(t,e,r=0,n=0,a=0,i=1,o){const c=[];for(const d of t.variantChildren)d.notify("AnimationStart",e),c.push(X_(d,e,{...o,delay:r+(typeof n=="function"?0:n)+_F(t.variantChildren,d,n,a,i)}).then(()=>d.notify("AnimationComplete",e)));return Promise.all(c)}function zce(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const a=e.map(i=>X_(t,i,r));n=Promise.all(a)}else if(typeof e=="string")n=X_(t,e,r);else{const a=typeof e=="function"?$u(t,e,r.custom):e;n=Promise.all(jF(t,a,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function NF(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const Uce=G2.length;function SF(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?SF(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<Uce;r++){const n=G2[r],a=t.props[n];(bm(a)||a===!1)&&(e[n]=a)}return e}const $ce=[...W2].reverse(),Vce=W2.length;function Hce(t){return e=>Promise.all(e.map(({animation:r,options:n})=>zce(t,r,n)))}function qce(t){let e=Hce(t),r=MR(),n=!0;const a=d=>(h,m)=>{const f=$u(t,m,d==="exit"?t.presenceContext?.custom:void 0);if(f){const{transition:g,transitionEnd:y,...v}=f;h={...h,...v,...y}}return h};function i(d){e=d(t)}function o(d){const{props:h}=t,m=SF(t.parent)||{},f=[],g=new Set;let y={},v=1/0;for(let j=0;j<Vce;j++){const b=$ce[j],N=r[b],k=h[b]!==void 0?h[b]:m[b],S=bm(k),C=b===d?N.isActive:null;C===!1&&(v=j);let B=k===m[b]&&k!==h[b]&&S;if(B&&n&&t.manuallyAnimateOnMount&&(B=!1),N.protectedKeys={...y},!N.isActive&&C===null||!k&&!N.prevProp||gy(k)||typeof k=="boolean")continue;const E=Wce(N.prevProp,k);let z=E||b===d&&N.isActive&&!B&&S||j>v&&S,T=!1;const W=Array.isArray(k)?k:[k];let U=W.reduce(a(b),{});C===!1&&(U={});const{prevResolvedValues:L={}}=N,Z={...L,...U},O=M=>{z=!0,g.has(M)&&(T=!0,g.delete(M)),N.needsAnimating[M]=!0;const X=t.getValue(M);X&&(X.liveStyle=!1)};for(const M in Z){const X=U[M],$=L[M];if(y.hasOwnProperty(M))continue;let oe=!1;Y_(X)&&Y_($)?oe=!NF(X,$):oe=X!==$,oe?X!=null?O(M):g.add(M):X!==void 0&&g.has(M)?O(M):N.protectedKeys[M]=!0}N.prevProp=k,N.prevResolvedValues=U,N.isActive&&(y={...y,...U}),n&&t.blockInitialAnimation&&(z=!1);const se=B&&E;z&&(!se||T)&&f.push(...W.map(M=>{const X={type:b};if(typeof M=="string"&&n&&!se&&t.manuallyAnimateOnMount&&t.parent){const{parent:$}=t,oe=$u($,M);if($.enteringChildren&&oe){const{delayChildren:q}=oe.transition||{};X.delay=_F($.enteringChildren,t,q)}}return{animation:M,options:X}}))}if(g.size){const j={};if(typeof h.initial!="boolean"){const b=$u(t,Array.isArray(h.initial)?h.initial[0]:h.initial);b&&b.transition&&(j.transition=b.transition)}g.forEach(b=>{const N=t.getBaseTarget(b),k=t.getValue(b);k&&(k.liveStyle=!0),j[b]=N??null}),f.push({animation:j})}let w=!!f.length;return n&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(w=!1),n=!1,w?e(f):Promise.resolve()}function c(d,h){if(r[d].isActive===h)return Promise.resolve();t.variantChildren?.forEach(f=>f.animationState?.setActive(d,h)),r[d].isActive=h;const m=o(d);for(const f in r)r[f].protectedKeys={};return m}return{animateChanges:o,setActive:c,setAnimateFunction:i,getState:()=>r,reset:()=>{r=MR()}}}function Wce(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!NF(e,t):!1}function qc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function MR(){return{animate:qc(!0),whileInView:qc(),whileHover:qc(),whileTap:qc(),whileDrag:qc(),whileFocus:qc(),exit:qc()}}class dc{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Gce extends dc{constructor(e){super(e),e.animationState||(e.animationState=qce(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();gy(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let Yce=0;class Kce extends dc{constructor(){super(...arguments),this.id=Yce++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const a=this.node.animationState.setActive("exit",!e);r&&!e&&a.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const Xce={animation:{Feature:Gce},exit:{Feature:Kce}};function vm(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function Jm(t){return{point:{x:t.pageX,y:t.pageY}}}const Zce=t=>e=>H2(e)&&t(e,Jm(e));function sm(t,e,r,n){return vm(t,e,Zce(r),n)}const CF=1e-4,Qce=1-CF,Jce=1+CF,kF=.01,ede=0-kF,tde=0+kF;function En(t){return t.max-t.min}function sde(t,e,r){return Math.abs(t-e)<=r}function PR(t,e,r,n=.5){t.origin=n,t.originPoint=hr(e.min,e.max,t.origin),t.scale=En(r)/En(e),t.translate=hr(r.min,r.max,t.origin)-t.originPoint,(t.scale>=Qce&&t.scale<=Jce||isNaN(t.scale))&&(t.scale=1),(t.translate>=ede&&t.translate<=tde||isNaN(t.translate))&&(t.translate=0)}function rm(t,e,r,n){PR(t.x,e.x,r.x,n?n.originX:void 0),PR(t.y,e.y,r.y,n?n.originY:void 0)}function OR(t,e,r){t.min=r.min+e.min,t.max=t.min+En(e)}function rde(t,e,r){OR(t.x,e.x,r.x),OR(t.y,e.y,r.y)}function LR(t,e,r){t.min=e.min-r.min,t.max=t.min+En(e)}function h0(t,e,r){LR(t.x,e.x,r.x),LR(t.y,e.y,r.y)}function Ia(t){return[t("x"),t("y")]}const AF=({current:t})=>t?t.ownerDocument.defaultView:null,FR=(t,e)=>Math.abs(t-e);function nde(t,e){const r=FR(t.x,e.x),n=FR(t.y,e.y);return Math.sqrt(r**2+n**2)}class EF{constructor(e,r,{transformPagePoint:n,contextWindow:a=window,dragSnapToOrigin:i=!1,distanceThreshold:o=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=h1(this.lastMoveEventInfo,this.history),y=this.startEvent!==null,v=nde(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!y&&!v)return;const{point:w}=g,{timestamp:j}=cn;this.history.push({...w,timestamp:j});const{onStart:b,onMove:N}=this.handlers;y||(b&&b(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),N&&N(this.lastMoveEvent,g)},this.handlePointerMove=(g,y)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=u1(y,this.transformPagePoint),ir.update(this.updatePoint,!0)},this.handlePointerUp=(g,y)=>{this.end();const{onEnd:v,onSessionEnd:w,resumeAnimation:j}=this.handlers;if(this.dragSnapToOrigin&&j&&j(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const b=h1(g.type==="pointercancel"?this.lastMoveEventInfo:u1(y,this.transformPagePoint),this.history);this.startEvent&&v&&v(g,b),w&&w(g,b)},!H2(e))return;this.dragSnapToOrigin=i,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=o,this.contextWindow=a||window;const c=Jm(e),d=u1(c,this.transformPagePoint),{point:h}=d,{timestamp:m}=cn;this.history=[{...h,timestamp:m}];const{onSessionStart:f}=r;f&&f(e,h1(d,this.history)),this.removeListeners=Xm(sm(this.contextWindow,"pointermove",this.handlePointerMove),sm(this.contextWindow,"pointerup",this.handlePointerUp),sm(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ec(this.updatePoint)}}function u1(t,e){return e?{point:e(t.point)}:t}function BR(t,e){return{x:t.x-e.x,y:t.y-e.y}}function h1({point:t},e){return{point:t,delta:BR(t,TF(e)),offset:BR(t,ade(e)),velocity:ide(e,.1)}}function ade(t){return t[0]}function TF(t){return t[t.length-1]}function ide(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const a=TF(t);for(;r>=0&&(n=t[r],!(a.timestamp-n.timestamp>qi(e)));)r--;if(!n)return{x:0,y:0};const i=Ua(a.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const o={x:(a.x-n.x)/i,y:(a.y-n.y)/i};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function ode(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?hr(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?hr(r,t,n.max):Math.min(t,r)),t}function IR(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function lde(t,{top:e,left:r,bottom:n,right:a}){return{x:IR(t.x,r,a),y:IR(t.y,e,n)}}function zR(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function cde(t,e){return{x:zR(t.x,e.x),y:zR(t.y,e.y)}}function dde(t,e){let r=.5;const n=En(t),a=En(e);return a>n?r=gm(e.min,e.max-n,t.min):n>a&&(r=gm(t.min,t.max-a,e.min)),qo(0,1,r)}function ude(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const Z_=.35;function hde(t=Z_){return t===!1?t=0:t===!0&&(t=Z_),{x:UR(t,"left","right"),y:UR(t,"top","bottom")}}function UR(t,e,r){return{min:$R(t,e),max:$R(t,r)}}function $R(t,e){return typeof t=="number"?t:t[e]||0}const fde=new WeakMap;class mde{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Wr(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:a}=this.visualElement;if(a&&a.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Jm(f).point)},o=(f,g)=>{const{drag:y,dragPropagation:v,onDragStart:w}=this.getProps();if(y&&!v&&(this.openDragLock&&this.openDragLock(),this.openDragLock=vle(y),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ia(b=>{let N=this.getAxisMotionValue(b).get()||0;if(Wi.test(N)){const{projection:k}=this.visualElement;if(k&&k.layout){const S=k.layout.layoutBox[b];S&&(N=En(S)*(parseFloat(N)/100))}}this.originPoint[b]=N}),w&&ir.postRender(()=>w(f,g)),K_(this.visualElement,"transform");const{animationState:j}=this.visualElement;j&&j.setActive("whileDrag",!0)},c=(f,g)=>{this.latestPointerEvent=f,this.latestPanInfo=g;const{dragPropagation:y,dragDirectionLock:v,onDirectionLock:w,onDrag:j}=this.getProps();if(!y&&!this.openDragLock)return;const{offset:b}=g;if(v&&this.currentDirection===null){this.currentDirection=pde(b),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",g.point,b),this.updateAxis("y",g.point,b),this.visualElement.render(),j&&j(f,g)},d=(f,g)=>{this.latestPointerEvent=f,this.latestPanInfo=g,this.stop(f,g),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Ia(f=>this.getAnimationState(f)==="paused"&&this.getAxisMotionValue(f).animation?.play()),{dragSnapToOrigin:m}=this.getProps();this.panSession=new EF(e,{onSessionStart:i,onStart:o,onMove:c,onSessionEnd:d,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:m,distanceThreshold:n,contextWindow:AF(this.visualElement)})}stop(e,r){const n=e||this.latestPointerEvent,a=r||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!a||!n)return;const{velocity:o}=a;this.startAnimation(o);const{onDragEnd:c}=this.getProps();c&&ir.postRender(()=>c(n,a))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:a}=this.getProps();if(!n||!Kg(e,a,this.currentDirection))return;const i=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=ode(o,this.constraints[e],this.elastic[e])),i.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,a=this.constraints;e&&Ru(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=lde(n.layoutBox,e):this.constraints=!1,this.elastic=hde(r),a!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Ia(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=ude(n.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Ru(e))return!1;const n=e.current,{projection:a}=this.visualElement;if(!a||!a.layout)return!1;const i=gce(n,a.root,this.visualElement.getTransformPagePoint());let o=cde(a.layout.layoutBox,i);if(r){const c=r(fce(o));this.hasMutatedConstraints=!!c,c&&(o=fF(c))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:a,dragTransition:i,dragSnapToOrigin:o,onDragTransitionEnd:c}=this.getProps(),d=this.constraints||{},h=Ia(m=>{if(!Kg(m,r,this.currentDirection))return;let f=d&&d[m]||{};o&&(f={min:0,max:0});const g=a?200:1e6,y=a?40:1e7,v={type:"inertia",velocity:n?e[m]:0,bounceStiffness:g,bounceDamping:y,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(m,v)});return Promise.all(h).then(c)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return K_(this.visualElement,e),n.start(eS(e,n,0,r,this.visualElement,!1))}stopAnimation(){Ia(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ia(e=>this.getAxisMotionValue(e).animation?.pause())}getAnimationState(e){return this.getAxisMotionValue(e).animation?.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),a=n[r];return a||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Ia(r=>{const{drag:n}=this.getProps();if(!Kg(r,n,this.currentDirection))return;const{projection:a}=this.visualElement,i=this.getAxisMotionValue(r);if(a&&a.layout){const{min:o,max:c}=a.layout.layoutBox[r];i.set(e[r]-hr(o,c,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Ru(r)||!n||!this.constraints)return;this.stopAnimation();const a={x:0,y:0};Ia(o=>{const c=this.getAxisMotionValue(o);if(c&&this.constraints!==!1){const d=c.get();a[o]=dde({min:d,max:d},this.constraints[o])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Ia(o=>{if(!Kg(o,e,null))return;const c=this.getAxisMotionValue(o),{min:d,max:h}=this.constraints[o];c.set(hr(d,h,a[o]))})}addListeners(){if(!this.visualElement.current)return;fde.set(this.visualElement,this);const e=this.visualElement.current,r=sm(e,"pointerdown",d=>{const{drag:h,dragListener:m=!0}=this.getProps();h&&m&&this.start(d)}),n=()=>{const{dragConstraints:d}=this.getProps();Ru(d)&&d.current&&(this.constraints=this.resolveRefConstraints())},{projection:a}=this.visualElement,i=a.addEventListener("measure",n);a&&!a.layout&&(a.root&&a.root.updateScroll(),a.updateLayout()),ir.read(n);const o=vm(window,"resize",()=>this.scalePositionWithinConstraints()),c=a.addEventListener("didUpdate",(({delta:d,hasLayoutChanged:h})=>{this.isDragging&&h&&(Ia(m=>{const f=this.getAxisMotionValue(m);f&&(this.originPoint[m]+=d[m].translate,f.set(f.get()+d[m].translate))}),this.visualElement.render())}));return()=>{o(),r(),i(),c&&c()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:a=!1,dragConstraints:i=!1,dragElastic:o=Z_,dragMomentum:c=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:a,dragConstraints:i,dragElastic:o,dragMomentum:c}}}function Kg(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function pde(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class gde extends dc{constructor(e){super(e),this.removeGroupControls=$a,this.removeListeners=$a,this.controls=new mde(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||$a}unmount(){this.removeGroupControls(),this.removeListeners()}}const VR=t=>(e,r)=>{t&&ir.postRender(()=>t(e,r))};class xde extends dc{constructor(){super(...arguments),this.removePointerDownListener=$a}onPointerDown(e){this.session=new EF(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:AF(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:a}=this.node.getProps();return{onSessionStart:VR(e),onStart:VR(r),onMove:n,onEnd:(i,o)=>{delete this.session,a&&ir.postRender(()=>a(i,o))}}}mount(){this.removePointerDownListener=sm(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Ex={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let f1=!1;class yde extends _.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:a}=this.props,{projection:i}=e;i&&(r.group&&r.group.add(i),n&&n.register&&a&&n.register(i),f1&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),Ex.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:a,isPresent:i}=this.props,{projection:o}=n;return o&&(o.isPresent=i,f1=!0,a||e.layoutDependency!==r||r===void 0||e.isPresent!==i?o.willUpdate():this.safeToRemove(),e.isPresent!==i&&(i?o.promote():o.relegate()||ir.postRender(()=>{const c=o.getStack();(!c||!c.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),V2.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:a}=e;f1=!0,a&&(a.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(a),n&&n.deregister&&n.deregister(a))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function RF(t){const[e,r]=JL(),n=_.useContext(j2);return s.jsx(yde,{...t,layoutGroup:n,switchLayoutGroup:_.useContext(uF),isPresent:e,safeToRemove:r})}function bde(t,e,r){const n=gn(t)?t:th(t);return n.start(eS("",n,e,r)),n.animation}const vde=(t,e)=>t.depth-e.depth;class wde{constructor(){this.children=[],this.isDirty=!1}add(e){S2(this.children,e),this.isDirty=!0}remove(e){C2(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(vde),this.isDirty=!1,this.children.forEach(e)}}function jde(t,e){const r=Yn.now(),n=({timestamp:a})=>{const i=a-r;i>=e&&(ec(n),t(i-e))};return ir.setup(n,!0),()=>ec(n)}const DF=["TopLeft","TopRight","BottomLeft","BottomRight"],_de=DF.length,HR=t=>typeof t=="string"?parseFloat(t):t,qR=t=>typeof t=="number"||zt.test(t);function Nde(t,e,r,n,a,i){a?(t.opacity=hr(0,r.opacity??1,Sde(n)),t.opacityExit=hr(e.opacity??1,0,Cde(n))):i&&(t.opacity=hr(e.opacity??1,r.opacity??1,n));for(let o=0;o<_de;o++){const c=`border${DF[o]}Radius`;let d=WR(e,c),h=WR(r,c);if(d===void 0&&h===void 0)continue;d||(d=0),h||(h=0),d===0||h===0||qR(d)===qR(h)?(t[c]=Math.max(hr(HR(d),HR(h),n),0),(Wi.test(h)||Wi.test(d))&&(t[c]+="%")):t[c]=h}(e.rotate||r.rotate)&&(t.rotate=hr(e.rotate||0,r.rotate||0,n))}function WR(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Sde=MF(0,.5,yL),Cde=MF(.5,.95,$a);function MF(t,e,r){return n=>n<t?0:n>e?1:r(gm(t,e,n))}function GR(t,e){t.min=e.min,t.max=e.max}function ri(t,e){GR(t.x,e.x),GR(t.y,e.y)}function YR(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function KR(t,e,r,n,a){return t-=e,t=u0(t,1/r,n),a!==void 0&&(t=u0(t,1/a,n)),t}function kde(t,e=0,r=1,n=.5,a,i=t,o=t){if(Wi.test(e)&&(e=parseFloat(e),e=hr(o.min,o.max,e/100)-o.min),typeof e!="number")return;let c=hr(i.min,i.max,n);t===i&&(c-=e),t.min=KR(t.min,e,r,c,a),t.max=KR(t.max,e,r,c,a)}function XR(t,e,[r,n,a],i,o){kde(t,e[r],e[n],e[a],e.scale,i,o)}const Ade=["x","scaleX","originX"],Ede=["y","scaleY","originY"];function ZR(t,e,r,n){XR(t.x,e,Ade,r?r.x:void 0,n?n.x:void 0),XR(t.y,e,Ede,r?r.y:void 0,n?n.y:void 0)}function QR(t){return t.translate===0&&t.scale===1}function PF(t){return QR(t.x)&&QR(t.y)}function JR(t,e){return t.min===e.min&&t.max===e.max}function Tde(t,e){return JR(t.x,e.x)&&JR(t.y,e.y)}function eD(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function OF(t,e){return eD(t.x,e.x)&&eD(t.y,e.y)}function tD(t){return En(t.x)/En(t.y)}function sD(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Rde{constructor(){this.members=[]}add(e){S2(this.members,e),e.scheduleRender()}remove(e){if(C2(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(a=>e===a);if(r===0)return!1;let n;for(let a=r;a>=0;a--){const i=this.members[a];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:a}=e.options;a===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Dde(t,e,r){let n="";const a=t.x.translate/e.x,i=t.y.translate/e.y,o=r?.z||0;if((a||i||o)&&(n=`translate3d(${a}px, ${i}px, ${o}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:h,rotate:m,rotateX:f,rotateY:g,skewX:y,skewY:v}=r;h&&(n=`perspective(${h}px) ${n}`),m&&(n+=`rotate(${m}deg) `),f&&(n+=`rotateX(${f}deg) `),g&&(n+=`rotateY(${g}deg) `),y&&(n+=`skewX(${y}deg) `),v&&(n+=`skewY(${v}deg) `)}const c=t.x.scale*e.x,d=t.y.scale*e.y;return(c!==1||d!==1)&&(n+=`scale(${c}, ${d})`),n||"none"}const m1=["","X","Y","Z"],Mde=1e3;let Pde=0;function p1(t,e,r,n){const{latestValues:a}=e;a[t]&&(r[t]=a[t],e.setStaticValue(t,0),n&&(n[t]=0))}function LF(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=wF(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:a,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",ir,!(a||i))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&LF(n)}function FF({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:a}){return class{constructor(o={},c=e?.()){this.id=Pde++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Fde),this.nodes.forEach(Ude),this.nodes.forEach($de),this.nodes.forEach(Bde)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=c?c.root||c:this,this.path=c?[...c.path,c]:[],this.parent=c,this.depth=c?c.depth+1:0;for(let d=0;d<this.path.length;d++)this.path[d].shouldResetTransform=!0;this.root===this&&(this.nodes=new wde)}addEventListener(o,c){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new E2),this.eventHandlers.get(o).add(c)}notifyListeners(o,...c){const d=this.eventHandlers.get(o);d&&d.notify(...c)}hasListeners(o){return this.eventHandlers.has(o)}mount(o){if(this.instance)return;this.isSVG=QL(o)&&!Cle(o),this.instance=o;const{layoutId:c,layout:d,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(d||c)&&(this.isLayoutDirty=!0),t){let m,f=0;const g=()=>this.root.updateBlockedByResize=!1;ir.read(()=>{f=window.innerWidth}),t(o,()=>{const y=window.innerWidth;y!==f&&(f=y,this.root.updateBlockedByResize=!0,m&&m(),m=jde(g,250),Ex.hasAnimatedSinceResize&&(Ex.hasAnimatedSinceResize=!1,this.nodes.forEach(aD)))})}c&&this.root.registerSharedNode(c,this),this.options.animate!==!1&&h&&(c||d)&&this.addEventListener("didUpdate",({delta:m,hasLayoutChanged:f,hasRelativeLayoutChanged:g,layout:y})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const v=this.options.transition||h.getDefaultTransition()||Gde,{onLayoutAnimationStart:w,onLayoutAnimationComplete:j}=h.getProps(),b=!this.targetLayout||!OF(this.targetLayout,y),N=!f&&g;if(this.options.layoutRoot||this.resumeFrom||N||f&&(b||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...U2(v,"layout"),onPlay:w,onComplete:j};(h.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(m,N)}else f||aD(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=y})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),ec(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Vde),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&LF(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let m=0;m<this.path.length;m++){const f=this.path[m];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:c,layout:d}=this.options;if(c===void 0&&!d)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(rD);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(nD);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(zde),this.nodes.forEach(Ode),this.nodes.forEach(Lde)):this.nodes.forEach(nD),this.clearAllSnapshots();const c=Yn.now();cn.delta=qo(0,1e3/60,c-cn.timestamp),cn.timestamp=c,cn.isProcessing=!0,r1.update.process(cn),r1.preRender.process(cn),r1.render.process(cn),cn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,V2.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Ide),this.sharedNodes.forEach(Hde)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ir.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ir.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!En(this.snapshot.measuredBox.x)&&!En(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let d=0;d<this.path.length;d++)this.path[d].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Wr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:c}=this.options;c&&c.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let c=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(c=!1),c&&this.instance){const d=n(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:d,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:d}}}resetTransform(){if(!a)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,c=this.projectionDelta&&!PF(this.projectionDelta),d=this.getTransformTemplate(),h=d?d(this.latestValues,""):void 0,m=h!==this.prevTransformTemplateValue;o&&this.instance&&(c||td(this.latestValues)||m)&&(a(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const c=this.measurePageBox();let d=this.removeElementScroll(c);return o&&(d=this.removeTransform(d)),Yde(d),{animationId:this.root.animationId,measuredBox:c,layoutBox:d,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:o}=this.options;if(!o)return Wr();const c=o.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(Kde))){const{scroll:h}=this.root;h&&(Du(c.x,h.offset.x),Du(c.y,h.offset.y))}return c}removeElementScroll(o){const c=Wr();if(ri(c,o),this.scroll?.wasRoot)return c;for(let d=0;d<this.path.length;d++){const h=this.path[d],{scroll:m,options:f}=h;h!==this.root&&m&&f.layoutScroll&&(m.wasRoot&&ri(c,o),Du(c.x,m.offset.x),Du(c.y,m.offset.y))}return c}applyTransform(o,c=!1){const d=Wr();ri(d,o);for(let h=0;h<this.path.length;h++){const m=this.path[h];!c&&m.options.layoutScroll&&m.scroll&&m!==m.root&&Mu(d,{x:-m.scroll.offset.x,y:-m.scroll.offset.y}),td(m.latestValues)&&Mu(d,m.latestValues)}return td(this.latestValues)&&Mu(d,this.latestValues),d}removeTransform(o){const c=Wr();ri(c,o);for(let d=0;d<this.path.length;d++){const h=this.path[d];if(!h.instance||!td(h.latestValues))continue;q_(h.latestValues)&&h.updateSnapshot();const m=Wr(),f=h.measurePageBox();ri(m,f),ZR(c,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,m)}return td(this.latestValues)&&ZR(c,this.latestValues),c}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==cn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){const c=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=c.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=c.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=c.isSharedProjectionDirty);const d=!!this.resumingFrom||this!==c;if(!(o||d&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:m,layoutId:f}=this.options;if(!this.layout||!(m||f))return;this.resolvedRelativeTargetAt=cn.timestamp;const g=this.getClosestProjectingParent();g&&this.linkedParentVersion!==g.layoutVersion&&!g.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(g&&g.layout?this.createRelativeTarget(g,this.layout.layoutBox,g.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Wr(),this.targetWithTransforms=Wr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),rde(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ri(this.target,this.layout.layoutBox),pF(this.target,this.targetDelta)):ri(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?this.createRelativeTarget(g,this.target,g.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||q_(this.parent.latestValues)||mF(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(o,c,d){this.relativeParent=o,this.linkedParentVersion=o.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wr(),this.relativeTargetOrigin=Wr(),h0(this.relativeTargetOrigin,c,d),ri(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const o=this.getLead(),c=!!this.resumingFrom||this!==o;let d=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(d=!1),c&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(d=!1),this.resolvedRelativeTargetAt===cn.timestamp&&(d=!1),d)return;const{layout:h,layoutId:m}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||m))return;ri(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,g=this.treeScale.y;pce(this.layoutCorrected,this.treeScale,this.path,c),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox,o.targetWithTransforms=Wr());const{target:y}=o;if(!y){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(YR(this.prevProjectionDelta.x,this.projectionDelta.x),YR(this.prevProjectionDelta.y,this.projectionDelta.y)),rm(this.projectionDelta,this.layoutCorrected,y,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==g||!sD(this.projectionDelta.x,this.prevProjectionDelta.x)||!sD(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",y))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){if(this.options.visualElement?.scheduleRender(),o){const c=this.getStack();c&&c.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Pu(),this.projectionDelta=Pu(),this.projectionDeltaWithTransform=Pu()}setAnimationOrigin(o,c=!1){const d=this.snapshot,h=d?d.latestValues:{},m={...this.latestValues},f=Pu();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!c;const g=Wr(),y=d?d.source:void 0,v=this.layout?this.layout.source:void 0,w=y!==v,j=this.getStack(),b=!j||j.members.length<=1,N=!!(w&&!b&&this.options.crossfade===!0&&!this.path.some(Wde));this.animationProgress=0;let k;this.mixTargetDelta=S=>{const C=S/1e3;iD(f.x,o.x,C),iD(f.y,o.y,C),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(h0(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),qde(this.relativeTarget,this.relativeTargetOrigin,g,C),k&&Tde(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=Wr()),ri(k,this.relativeTarget)),w&&(this.animationValues=m,Nde(m,h,this.latestValues,C,N,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=C},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(ec(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ir.update(()=>{Ex.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=th(0)),this.currentAnimation=bde(this.motionValue,[0,1e3],{...o,velocity:0,isSync:!0,onUpdate:c=>{this.mixTargetDelta(c),o.onUpdate&&o.onUpdate(c)},onStop:()=>{},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Mde),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:c,target:d,layout:h,latestValues:m}=o;if(!(!c||!d||!h)){if(this!==o&&this.layout&&h&&BF(this.options.animationType,this.layout.layoutBox,h.layoutBox)){d=this.target||Wr();const f=En(this.layout.layoutBox.x);d.x.min=o.target.x.min,d.x.max=d.x.min+f;const g=En(this.layout.layoutBox.y);d.y.min=o.target.y.min,d.y.max=d.y.min+g}ri(c,d),Mu(c,m),rm(this.projectionDeltaWithTransform,this.layoutCorrected,c,m)}}registerSharedNode(o,c){this.sharedNodes.has(o)||this.sharedNodes.set(o,new Rde),this.sharedNodes.get(o).add(c);const h=c.options.initialPromotionConfig;c.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(c):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){const{layoutId:o}=this.options;return o?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:o}=this.options;return o?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:c,preserveFollowOpacity:d}={}){const h=this.getStack();h&&h.promote(this,d),o&&(this.projectionDelta=void 0,this.needsReset=!0),c&&this.setOptions({transition:c})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let c=!1;const{latestValues:d}=o;if((d.z||d.rotate||d.rotateX||d.rotateY||d.rotateZ||d.skewX||d.skewY)&&(c=!0),!c)return;const h={};d.z&&p1("z",o,h,this.animationValues);for(let m=0;m<m1.length;m++)p1(`rotate${m1[m]}`,o,h,this.animationValues),p1(`skew${m1[m]}`,o,h,this.animationValues);o.render();for(const m in h)o.setStaticValue(m,h[m]),this.animationValues&&(this.animationValues[m]=h[m]);o.scheduleRender()}applyProjectionStyles(o,c){if(!this.instance||this.isSVG)return;if(!this.isVisible){o.visibility="hidden";return}const d=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,o.visibility="",o.opacity="",o.pointerEvents=Ax(c?.pointerEvents)||"",o.transform=d?d(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(o.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,o.pointerEvents=Ax(c?.pointerEvents)||""),this.hasProjected&&!td(this.latestValues)&&(o.transform=d?d({},""):"none",this.hasProjected=!1);return}o.visibility="";const m=h.animationValues||h.latestValues;this.applyTransformsToTarget();let f=Dde(this.projectionDeltaWithTransform,this.treeScale,m);d&&(f=d(m,f)),o.transform=f;const{x:g,y}=this.projectionDelta;o.transformOrigin=`${g.origin*100}% ${y.origin*100}% 0`,h.animationValues?o.opacity=h===this?m.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:o.opacity=h===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const v in H_){if(m[v]===void 0)continue;const{correct:w,applyTo:j,isCSSVariable:b}=H_[v],N=f==="none"?m[v]:w(m[v],h);if(j){const k=j.length;for(let S=0;S<k;S++)o[j[S]]=N}else b?this.options.visualElement.renderState.vars[v]=N:o[v]=N}this.options.layoutId&&(o.pointerEvents=h===this?Ax(c?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>o.currentAnimation?.stop()),this.root.nodes.forEach(rD),this.root.sharedNodes.clear()}}}function Ode(t){t.updateLayout()}function Lde(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:n}=t.layout,{animationType:a}=t.options,i=e.source!==t.layout.source;a==="size"?Ia(m=>{const f=i?e.measuredBox[m]:e.layoutBox[m],g=En(f);f.min=r[m].min,f.max=f.min+g}):BF(a,e.layoutBox,r)&&Ia(m=>{const f=i?e.measuredBox[m]:e.layoutBox[m],g=En(r[m]);f.max=f.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+g)});const o=Pu();rm(o,r,e.layoutBox);const c=Pu();i?rm(c,t.applyTransform(n,!0),e.measuredBox):rm(c,r,e.layoutBox);const d=!PF(o);let h=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:f,layout:g}=m;if(f&&g){const y=Wr();h0(y,e.layoutBox,f.layoutBox);const v=Wr();h0(v,r,g.layoutBox),OF(y,v)||(h=!0),m.options.layoutRoot&&(t.relativeTarget=v,t.relativeTargetOrigin=y,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:e,delta:c,layoutDelta:o,hasLayoutChanged:d,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function Fde(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Bde(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Ide(t){t.clearSnapshot()}function rD(t){t.clearMeasurements()}function nD(t){t.isLayoutDirty=!1}function zde(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function aD(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Ude(t){t.resolveTargetDelta()}function $de(t){t.calcProjection()}function Vde(t){t.resetSkewAndRotation()}function Hde(t){t.removeLeadSnapshot()}function iD(t,e,r){t.translate=hr(e.translate,0,r),t.scale=hr(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function oD(t,e,r,n){t.min=hr(e.min,r.min,n),t.max=hr(e.max,r.max,n)}function qde(t,e,r,n){oD(t.x,e.x,r.x,n),oD(t.y,e.y,r.y,n)}function Wde(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Gde={duration:.45,ease:[.4,0,.1,1]},lD=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),cD=lD("applewebkit/")&&!lD("chrome/")?Math.round:$a;function dD(t){t.min=cD(t.min),t.max=cD(t.max)}function Yde(t){dD(t.x),dD(t.y)}function BF(t,e,r){return t==="position"||t==="preserve-aspect"&&!sde(tD(e),tD(r),.2)}function Kde(t){return t!==t.root&&t.scroll?.wasRoot}const Xde=FF({attachResizeListener:(t,e)=>vm(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),g1={current:void 0},IF=FF({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!g1.current){const t=new Xde({});t.mount(window),t.setOptions({layoutScroll:!0}),g1.current=t}return g1.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Zde={pan:{Feature:xde},drag:{Feature:gde,ProjectionNode:IF,MeasureLayout:RF}};function uD(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const a="onHover"+r,i=n[a];i&&ir.postRender(()=>i(e,Jm(e)))}class Qde extends dc{mount(){const{current:e}=this.node;e&&(this.unmount=wle(e,(r,n)=>(uD(this.node,n,"Start"),a=>uD(this.node,a,"End"))))}unmount(){}}class Jde extends dc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Xm(vm(this.node.current,"focus",()=>this.onFocus()),vm(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function hD(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const a="onTap"+(r==="End"?"":r),i=n[a];i&&ir.postRender(()=>i(e,Jm(e)))}class eue extends dc{mount(){const{current:e}=this.node;e&&(this.unmount=Sle(e,(r,n)=>(hD(this.node,n,"Start"),(a,{success:i})=>hD(this.node,a,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Q_=new WeakMap,x1=new WeakMap,tue=t=>{const e=Q_.get(t.target);e&&e(t)},sue=t=>{t.forEach(tue)};function rue({root:t,...e}){const r=t||document;x1.has(r)||x1.set(r,{});const n=x1.get(r),a=JSON.stringify(e);return n[a]||(n[a]=new IntersectionObserver(sue,{root:t,...e})),n[a]}function nue(t,e,r){const n=rue(e);return Q_.set(t,r),n.observe(t),()=>{Q_.delete(t),n.unobserve(t)}}const aue={some:0,all:1};class iue extends dc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:a="some",once:i}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof a=="number"?a:aue[a]},c=d=>{const{isIntersecting:h}=d;if(this.isInView===h||(this.isInView=h,i&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:m,onViewportLeave:f}=this.node.getProps(),g=h?m:f;g&&g(d)};return nue(this.node.current,o,c)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(oue(e,r))&&this.startObserver()}unmount(){}}function oue({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const lue={inView:{Feature:iue},tap:{Feature:eue},focus:{Feature:Jde},hover:{Feature:Qde}},cue={layout:{ProjectionNode:IF,MeasureLayout:RF}},due={...Xce,...lue,...Zde,...cue},rt=hce(due,Sce),fD=new Date().getFullYear(),mD=["available","not_available","rented","maintenance"],pD=["automatic","manual"],wt={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640",darkBlueDim:"rgba(14, 76, 129, 0.1)",tealDim:"rgba(0, 140, 149, 0.1)",limeGreenDim:"rgba(138, 198, 64, 0.1)"},qf={BMW:["1 Series","3 Series","5 Series","7 Series","X1","X3","X5","X7","M3","M5","Z4","i4","i7","iX"],"Mercedes-Benz":["A-Class","C-Class","E-Class","S-Class","GLA","GLC","GLE","GLS","G-Class","AMG GT","Maybach","EQE","EQS"],Audi:["A3","A4","A6","A8","Q3","Q5","Q7","Q8","TT","R8","e-tron"],Porsche:["911","Cayenne","Macan","Panamera","Taycan","Boxster","Cayman"],Volkswagen:["Polo","Golf","Jetta","Passat","Tiguan","Touareg","Arteon","ID.4","ID.7"],Opel:["Corsa","Astra","Insignia","Mokka","Grandland"],Smart:["Fortwo","Forfour"],Ferrari:["Roma","Portofino","F8","812","SF90","Purosangue"],Lamborghini:["Huracan","Aventador","Urus","Revuelto"],Maserati:["Ghibli","Quattroporte","Levante","Grecale","MC20"],"Alfa Romeo":["Giulia","Stelvio","Tonale","Giulietta"],Fiat:["500","Panda","Tipo","Doblo"],Pagani:["Huayra","Zonda"],"Rolls-Royce":["Phantom","Ghost","Wraith","Cullinan","Spectre"],Bentley:["Continental GT","Flying Spur","Bentayga"],"Aston Martin":["Vantage","DB11","DB12","DBX","Valhalla"],Jaguar:["XE","XF","XJ","F-Type","E-Pace","F-Pace"],"Land Rover":["Range Rover","Range Rover Sport","Velar","Evoque","Defender","Discovery"],McLaren:["720S","750S","Artura","GT"],Mini:["Cooper","Countryman","Clubman"],Lotus:["Emira","Evija","Eletre"],Tesla:["Model 3","Model S","Model X","Model Y","Cybertruck","Roadster"],Ford:["Fiesta","Focus","Mustang","Explorer","Escape","Edge","F-150","Bronco"],Chevrolet:["Spark","Malibu","Camaro","Corvette","Tahoe","Suburban","Silverado"],Dodge:["Charger","Challenger","Durango"],Jeep:["Wrangler","Grand Cherokee","Compass","Renegade","Gladiator"],Cadillac:["CT4","CT5","Escalade","Lyriq"],Chrysler:["300","Pacifica"],GMC:["Sierra","Yukon","Acadia"],Rivian:["R1T","R1S"],Lucid:["Air","Gravity"],Toyota:["Corolla","Camry","Yaris","Prius","RAV4","Highlander","Land Cruiser","Supra","Hilux"],Lexus:["IS","ES","GS","LS","NX","RX","GX","LX","LC"],Honda:["Civic","Accord","City","CR-V","HR-V","Pilot","Odyssey"],Nissan:["Micra","Sentra","Altima","Maxima","Qashqai","X-Trail","GT-R","370Z"],Infiniti:["Q50","Q60","QX50","QX60","QX80"],Mazda:["Mazda2","Mazda3","Mazda6","CX-5","CX-9","MX-5"],Subaru:["Impreza","Legacy","Outback","Forester","WRX","BRZ"],Mitsubishi:["Mirage","Lancer","ASX","Outlander","Pajero"],Suzuki:["Swift","Vitara","Jimny","Baleno"],Isuzu:["D-Max","MU-X"],Hyundai:["Accent","Elantra","Sonata","Kona","Tucson","Santa Fe","Palisade","Ioniq 5"],Kia:["Rio","Cerato","K5","Soul","Sportage","Sorento","Telluride","EV6"],Genesis:["G70","G80","G90","GV70","GV80"],Peugeot:["208","308","508","2008","3008","5008"],Renault:["Clio","Megane","Talisman","Captur","Kadjar","Koleos"],Citron:["C3","C4","C5","C5 Aircross"],Bugatti:["Chiron","Mistral","Tourbillon"],"DS Automobiles":["DS3","DS4","DS7"],BYD:["Atto 3","Han","Tang","Seal"],Geely:["Coolray","Emgrand","Tugella"],Chery:["Tiggo 7","Tiggo 8"],"Great Wall":["Haval H6","Tank 300"],NIO:["ES6","ES8","ET5","ET7"],XPeng:["P7","G6","G9"],MG:["ZS","HS","MG4","MG5"],Zeekr:["001","X"],Volvo:["S60","S90","V60","XC40","XC60","XC90"],Polestar:["Polestar 2","Polestar 3","Polestar 4"],Koenigsegg:["Jesko","Regera","Gemera"],Rimac:["Nevera"],Hennessey:["Venom F5"],SSC:["Tuatara"],Mahindra:["Scorpio","XUV700"],Tata:["Nexon","Harrier","Safari"]},uue=["Other",...Object.keys(qf).sort()],y1=["White","Black","Silver","Gray","Red","Blue","Green","Yellow","Orange","Brown","Beige","Gold","Purple","Pink","Pearl White","Metallic Gray","Metallic Blue","Dark Blue","Light Blue","Burgundy"],hue=[{value:"all",label:"All Categories"},{value:"luxury",label:"Luxury"},{value:"sport",label:"Sport"},{value:"normal",label:"Normal"},{value:"commercial",label:"Commercial"},{value:"industrial",label:"Industrial"},{value:"event",label:"Event"},{value:"sea",label:"Sea"}],fue=[{value:"all",label:"All Statuses"},{value:"pending",label:"Pending"},{value:"approved",label:"Approved"},{value:"rejected",label:"Rejected"}],mue=t=>{switch(t){case"approved":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"rejected":default:return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}},pue=t=>{switch(t){case"luxury":return wt.darkBlue;case"sport":return wt.limeGreen;default:return wt.teal}},gue=({car:t,onClose:e})=>{if(!t)return null;const r=n=>Array.isArray(n)?n:[];return s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:s.jsxs(rt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-4xl p-6 relative overflow-y-auto max-h-[90vh]",children:[s.jsx("button",{className:"absolute top-4 right-4 w-8 h-8 rounded-full flex items-center justify-center transition-all hover:scale-110",style:{background:wt.tealDim},onClick:e,children:s.jsx(tr,{className:"w-5 h-5",style:{color:wt.teal}})}),s.jsxs("div",{className:"mb-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{background:`linear-gradient(135deg, ${wt.teal}, ${wt.darkBlue})`},children:s.jsx(Kt,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[t.make," ",t.model]}),s.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[t.year,"  ",t.license_plate]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mt-4",children:[s.jsxs("div",{className:"bg-gradient-to-br p-3 rounded-xl",style:{background:wt.tealDim},children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(nr,{className:"w-4 h-4",style:{color:wt.teal}}),s.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Views"})]}),s.jsx("p",{className:"text-xl font-bold",style:{color:wt.teal},children:t.views_count||0})]}),s.jsxs("div",{className:"bg-gradient-to-br p-3 rounded-xl",style:{background:wt.darkBlueDim},children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(hd,{className:"w-4 h-4",style:{color:wt.darkBlue}}),s.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Clicks"})]}),s.jsx("p",{className:"text-xl font-bold",style:{color:wt.darkBlue},children:t.clicks_count??0})]}),s.jsxs("div",{className:"bg-gradient-to-br p-3 rounded-xl",style:{background:wt.limeGreenDim},children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(cr,{className:"w-4 h-4",style:{color:wt.limeGreen}}),s.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Daily Rate"})]}),s.jsxs("p",{className:"text-xl font-bold",style:{color:wt.limeGreen},children:["$",t.daily_rate]})]}),s.jsxs("div",{className:"bg-gradient-to-br p-3 rounded-xl",style:{background:wt.tealDim},children:[s.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[s.jsx(Hs,{className:"w-4 h-4",style:{color:wt.teal}}),s.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Status"})]}),s.jsx(We,{className:`text-xs ${mue(t.status)}`,children:t.status})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"relative rounded-xl overflow-hidden shadow-lg",style:{height:"240px"},children:t.main_image_url?s.jsx("img",{src:`/api/storage/${t.main_image_url}`,alt:"Main",className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{background:wt.tealDim},children:s.jsx(Kt,{className:"w-16 h-16",style:{color:wt.teal,opacity:.3}})})}),s.jsx("div",{className:"grid grid-cols-4 gap-2",children:["front","back","left","right"].map(n=>t[`${n}_image_url`]?s.jsx("div",{className:"relative rounded-lg overflow-hidden shadow",style:{height:"70px"},children:s.jsx("img",{src:`/api/storage/${t[`${n}_image_url`]}`,alt:n,className:"w-full h-full object-cover"})},n):s.jsx("div",{className:"rounded-lg flex items-center justify-center",style:{height:"70px",background:wt.tealDim},children:s.jsx(Kt,{className:"w-6 h-6",style:{color:wt.teal,opacity:.3}})},n))})]}),s.jsxs("div",{className:"space-y-3 text-sm",children:[s.jsx(en,{icon:Kt,label:"Category",value:t.car_category}),s.jsx(en,{icon:cr,label:"Holiday Rate",value:`$${t.holiday_rate}/day`}),s.jsx(en,{icon:zl,label:"Mileage",value:`${t.mileage?.toLocaleString()} km`}),s.jsx(en,{label:"Color",value:t.color}),s.jsx(en,{label:"Fuel Type",value:t.fuel_type}),s.jsx(en,{label:"Transmission",value:t.transmission}),s.jsx(en,{label:"Wheel Drive",value:t.wheels_drive}),s.jsx(en,{label:"Seats",value:t.seats}),s.jsx(en,{label:"Doors",value:t.doors}),s.jsx(en,{label:"Max Driving Mileage",value:`${t.max_driving_mileage} km`}),s.jsx(en,{label:"Min Rental Days",value:t.min_rental_days}),s.jsx(en,{label:"Add-Ons",value:r(t.car_add_on).join(", ")||"N/A"}),s.jsx(en,{label:"Features",value:r(t.features).join(", ")||"N/A"}),s.jsx(en,{label:"Reason for Rent",value:r(t.reason_of_rent).join(", ")||"N/A"}),t.notes&&s.jsx(en,{label:"Notes",value:t.notes}),s.jsx(en,{icon:Ps,label:"Delivery Location",value:t.delivery_location?.address||"N/A"}),s.jsx(en,{icon:Ps,label:"Return Location",value:t.return_location?.address||"N/A"}),t.live_location&&s.jsx(en,{icon:Ps,label:"Current Location",value:t.live_location.address,badge:!0})]})]})]})})},en=({icon:t,label:e,value:r,badge:n})=>s.jsxs("div",{className:"flex items-start gap-2 py-2 border-b border-gray-100 dark:border-gray-800",children:[t&&s.jsx(t,{className:"w-4 h-4 mt-0.5",style:{color:wt.teal}}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:[e,":"]}),n?s.jsx(We,{className:"ml-2 text-xs",style:{background:wt.teal,color:"white"},children:r}):s.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:r})]})]}),xue=()=>{const t=sn(),[e,r]=_.useState([]),[n,a]=_.useState(!0),[i,o]=_.useState({search:"",category:"all",status:"all"}),[c,d]=_.useState(null),[h,m]=_.useState(!1),[f,g]=_.useState({}),y=async()=>{a(!0);try{const{data:M}=await Oe.get("/cars/agent/Mycars",{params:{per_page:1e3}}),X=M.cars?.data??M.cars??M?.data??[];r(Array.isArray(X)?X:[])}catch{ve.error("Failed to fetch cars.")}finally{a(!1)}};_.useEffect(()=>{y()},[]);const v=(M,X)=>{o($=>({...$,[M]:X}))},w=()=>o({search:"",category:"all",status:"all"}),[j,b]=_.useState(null),[N,k]=_.useState(""),S=M=>{b(M),k("")},C=()=>{b(null),k("")},B=async()=>{if(!(!j||N.toLowerCase()!=="delete"))try{await Oe.delete(`/cars/${j.id}`),ve.success("Car deleted successfully."),r(M=>M.filter(X=>X.id!==j.id)),C()}catch(M){ve.error(M.response?.data?.error||"Failed to delete car.")}},E=M=>{d(M);const X=(M.transmission||"").toLowerCase(),$=M.make&&qf[M.make],oe=$?qf[M.make]:[],q=M.model&&oe.includes(M.model);g({make:$?M.make:"Other",customMake:$?"":M.make||"",model:q?M.model:"Other",customModel:q?"":M.model||"",year:M.year||new Date().getFullYear(),color:M.color||"",transmission:X==="automatic"||X==="manual"?X:"automatic",daily_rate:M.daily_rate??"",holiday_rate:M.holiday_rate??"",status:mD.includes(M.status)?M.status:"available",mileage:M.mileage??"",notes:M.notes||"",is_deposit:!!M.is_deposit,deposit:M.deposit??"",is_delivered:!!M.is_delivered,delivery_fees:M.delivery_fees??"",with_driver:!!M.with_driver,driver_fees:M.driver_fees??"",min_rental_days:M.min_rental_days??1}),m(!0)},z=()=>{const M=f.make??"";return M==="Other"?String(f.customMake??"").trim():M},T=()=>{const M=f.make??"",X=f.model??"";return M==="Other"||X==="Other"?String(f.customModel??"").trim():X},W=()=>{const M=z(),X=T();if(!M)return ve.error("Make is required."),!1;if(M.length>100)return ve.error("Make must be at most 100 characters."),!1;if(!X)return ve.error("Model is required."),!1;if(X.length>100)return ve.error("Model must be at most 100 characters."),!1;const $=f.year!==void 0&&f.year!==""?Number(f.year):null;if($!==null&&(isNaN($)||$<1900||$>fD+1))return ve.error(`Year must be between 1900 and ${fD+1}.`),!1;const oe=(f.transmission||"").toLowerCase();if(oe&&!pD.includes(oe))return ve.error("Transmission must be Automatic or Manual."),!1;const q=f.status||"available";if(!mD.includes(q))return ve.error("Invalid status."),!1;const Y=f.daily_rate;if(Y==null||Y==="")return ve.error("Daily rate is required."),!1;const ce=Number(Y);if(isNaN(ce)||ce<0)return ve.error("Daily rate must be 0 or greater."),!1;const le=f.holiday_rate!==void 0&&f.holiday_rate!==""?Number(f.holiday_rate):null;if(le!==null&&(isNaN(le)||le<0))return ve.error("Holiday rate must be 0 or greater."),!1;if(f.is_deposit){const V=Number(f.deposit);if(isNaN(V)||V<0)return ve.error("Deposit amount must be 0 or greater."),!1}if(f.is_delivered){const V=Number(f.delivery_fees);if(isNaN(V)||V<0)return ve.error("Delivery fees must be 0 or greater."),!1}if(f.with_driver){const V=Number(f.driver_fees);if(isNaN(V)||V<0)return ve.error("Driver fees must be 0 or greater."),!1}const be=f.min_rental_days!==void 0&&f.min_rental_days!==""?Number(f.min_rental_days):1;if(isNaN(be)||be<1)return ve.error("Minimum rental days must be at least 1."),!1;const ge=f.mileage!==void 0&&f.mileage!==""?Number(f.mileage):null;return ge!==null&&(isNaN(ge)||ge<0)?(ve.error("Mileage must be 0 or greater."),!1):!0},U=(M,X)=>{g($=>{const oe={...$,[M]:X};return M==="make"&&(oe.model="",oe.customModel=""),oe})},L=async()=>{if(!c||!W())return;const M={},X=z(),$=T();X&&(M.make=X),$&&(M.model=$),f.year!==void 0&&f.year!==""&&(M.year=Number(f.year)),f.color!==void 0&&(M.color=f.color),f.daily_rate!==void 0&&f.daily_rate!==""&&(M.daily_rate=Number(f.daily_rate)),f.holiday_rate!==void 0&&f.holiday_rate!==""&&(M.holiday_rate=Number(f.holiday_rate)),f.status!==void 0&&(M.status=f.status);const oe=(f.transmission||"").toLowerCase();oe&&pD.includes(oe)&&(M.transmission=oe),f.mileage!==void 0&&f.mileage!==""&&(M.mileage=Number(f.mileage)),f.notes!==void 0&&(M.notes=f.notes),M.is_deposit=!!f.is_deposit,f.is_deposit&&f.deposit!==void 0&&f.deposit!==""&&(M.deposit=Number(f.deposit)),M.is_delivered=!!f.is_delivered,f.is_delivered&&f.delivery_fees!==void 0&&f.delivery_fees!==""&&(M.delivery_fees=Number(f.delivery_fees)),M.with_driver=!!f.with_driver,f.with_driver&&f.driver_fees!==void 0&&f.driver_fees!==""&&(M.driver_fees=Number(f.driver_fees)),f.min_rental_days!==void 0&&f.min_rental_days!==""&&(M.min_rental_days=Math.max(1,Number(f.min_rental_days)));try{const{data:q}=await Oe.put(`/cars/${c.id}`,M,{headers:{"Content-Type":"application/json"}});ve.success("Car updated successfully"),r(Y=>Y.map(ce=>ce.id===c.id?{...ce,...q.car}:ce)),m(!1)}catch(q){const Y=q.response?.data?.errors?Object.values(q.response.data.errors).flat().join(", "):q.response?.data?.error||q.response?.data?.message||"Failed to update car";ve.error(Y)}},Z=_.useMemo(()=>e.filter(M=>{const X=i.category==="all"||M.car_category===i.category,$=i.status==="all"||M.status===i.status,oe=[M.make,M.model,M.license_plate].some(q=>q?.toLowerCase().includes(i.search.toLowerCase()));return X&&$&&oe}),[e,i]),O=e.reduce((M,X)=>M+(X.views_count||0),0),se=e.reduce((M,X)=>M+(X.clicks_count||0),0),K=e.filter(M=>M.status==="approved").length;return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-black dark:via-gray-900 dark:to-gray-950 pt-20",children:s.jsxs("div",{className:"container mx-auto px-4 py-8",children:[s.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6 gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-xl flex items-center justify-center shadow-lg",style:{background:`linear-gradient(135deg, ${wt.teal}, ${wt.darkBlue})`},children:s.jsx(Kt,{className:"w-7 h-7 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"My Cars"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Manage your listed vehicles"})]})]}),s.jsxs(pe,{onClick:()=>t("/add-car"),className:"h-11 rounded-xl text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",style:{background:`linear-gradient(135deg, ${wt.teal}, ${wt.darkBlue})`},children:[s.jsx(sr,{className:"w-5 h-5 mr-2"}),"Add New Car"]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[s.jsx(Xg,{icon:Kt,label:"Total Cars",value:e.length,gradient:`linear-gradient(135deg, ${wt.teal}, ${wt.darkBlue})`}),s.jsx(Xg,{icon:nr,label:"Total Views",value:O,gradient:`linear-gradient(135deg, ${wt.darkBlue}, ${wt.teal})`}),s.jsx(Xg,{icon:hd,label:"Total Clicks",value:se,gradient:`linear-gradient(135deg, ${wt.teal}, ${wt.limeGreen})`}),s.jsx(Xg,{icon:Zl,label:"Approved",value:K,gradient:`linear-gradient(135deg, ${wt.limeGreen}, ${wt.teal})`})]}),s.jsx(Ue,{className:"mb-6 border-2 border-transparent shadow-lg rounded-xl",children:s.jsx(qe,{className:"p-5",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-end",children:[s.jsxs("div",{className:"md:col-span-1",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Search"}),s.jsxs("div",{className:"relative",children:[s.jsx(Br,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx(Se,{placeholder:"Search cars...",value:i.search,onChange:M=>v("search",M.target.value),className:"pl-9 h-10 border-2 rounded-xl transition-all duration-200",style:{borderColor:i.search?wt.teal:void 0}})]})]}),s.jsxs("div",{className:"md:col-span-1",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),s.jsxs(ft,{value:i.category,onValueChange:M=>v("category",M),children:[s.jsx(ut,{className:"h-10 border-2 rounded-xl",children:s.jsx(mt,{placeholder:"Select category"})}),s.jsx(ht,{children:hue.map(M=>s.jsx(ke,{value:M.value,children:M.label},M.value))})]})]}),s.jsxs("div",{className:"md:col-span-1",children:[s.jsx("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),s.jsxs(ft,{value:i.status,onValueChange:M=>v("status",M),children:[s.jsx(ut,{className:"h-10 border-2 rounded-xl",children:s.jsx(mt,{placeholder:"Select status"})}),s.jsx(ht,{children:fue.map(M=>s.jsx(ke,{value:M.value,children:M.label},M.value))})]})]}),s.jsx("div",{className:"md:col-span-1 flex justify-end",children:(i.search||i.category!=="all"||i.status!=="all")&&s.jsx(pe,{variant:"outline",className:"h-10 rounded-xl border-2",style:{borderColor:wt.teal,color:wt.teal},onClick:w,children:"Clear Filters"})})]})})}),s.jsxs(Ue,{className:"border-2 border-transparent shadow-lg rounded-xl",children:[s.jsx(ps,{className:"pb-4",children:s.jsxs(gs,{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Your Listed Cars (",Z.length,")"]})}),s.jsx(qe,{children:n?s.jsx("div",{className:"flex justify-center py-12",children:s.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-t-transparent",style:{borderColor:wt.teal,borderTopColor:"transparent"}})}):Z.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center py-12 gap-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center",style:{background:wt.tealDim},children:s.jsx(Kt,{className:"w-8 h-8",style:{color:wt.teal}})}),s.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["No cars found."," ",s.jsx(pe,{variant:"link",className:"p-0 h-auto",style:{color:wt.teal},onClick:()=>t("/Add/car"),children:"Add your first car"})]})]}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4",children:Z.map((M,X)=>{const $=M.car_accepted===!1||M.status==="pending";return s.jsxs(rt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:X*.03},className:`rounded-xl border-2 overflow-hidden bg-white dark:bg-gray-900 shadow-md hover:shadow-lg transition-shadow duration-200 ${$?"border-red-200 dark:border-red-900/50":"border-transparent"}`,children:[s.jsxs("div",{className:"relative",children:[s.jsx("div",{className:"aspect-[4/3] w-full overflow-hidden bg-gray-100 dark:bg-gray-800",children:M.main_image_url?s.jsx("img",{src:M.main_image_url.startsWith("http")?M.main_image_url:`/api/storage/${M.main_image_url}`,alt:`${M.make} ${M.model}`,className:"w-full h-full object-cover"}):s.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{background:wt.tealDim},children:s.jsx(Kt,{className:"w-12 h-12",style:{color:wt.teal,opacity:.5}})})}),$&&s.jsx("div",{className:"absolute top-2 right-2",children:s.jsx("span",{className:"px-2 py-1 rounded-md text-xs font-semibold text-red-600 dark:text-red-400 bg-red-100 dark:bg-red-900/40 shadow",children:"Pending"})})]}),s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"font-semibold text-gray-900 dark:text-white truncate",children:[M.make," ",M.model]}),s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[M.year,"  ",s.jsx("span",{className:"font-mono",children:M.license_plate})]}),s.jsxs("div",{className:"mt-2 flex items-center justify-between gap-2",children:[s.jsx(We,{className:"px-2 py-0.5 text-xs text-white font-semibold shrink-0",style:{background:pue(M.car_category)},children:M.car_category}),s.jsxs("span",{className:"text-sm font-bold",style:{color:wt.teal},children:["$",M.daily_rate,s.jsx("span",{className:"text-xs font-normal text-gray-500",children:"/day"})]})]}),s.jsxs("div",{className:"mt-2 flex items-center gap-3 text-xs text-gray-600 dark:text-gray-400",children:[s.jsxs("span",{className:"flex items-center gap-1",title:"Views",children:[s.jsx(nr,{className:"w-3.5 h-3.5",style:{color:wt.darkBlue}}),M.views_count??0]}),s.jsxs("span",{className:"flex items-center gap-1",title:"Clicks",children:[s.jsx(hd,{className:"w-3.5 h-3.5",style:{color:wt.teal}}),M.clicks_count??0]})]}),s.jsxs("div",{className:"mt-3 flex gap-1",children:[s.jsx(pe,{variant:"ghost",size:"sm",className:"h-8 flex-1 p-0 hover:scale-105 transition-transform",style:{color:wt.teal},onClick:()=>d(M),children:s.jsx(nr,{className:"w-4 h-4"})}),s.jsx(pe,{variant:"ghost",size:"sm",className:"h-8 flex-1 p-0 hover:scale-105 transition-transform",style:{color:wt.darkBlue},onClick:()=>E(M),children:s.jsx(WE,{className:"w-4 h-4"})}),s.jsx(pe,{variant:"ghost",size:"sm",className:"h-8 flex-1 p-0 text-red-600 hover:text-red-700 hover:scale-105 transition-transform",onClick:()=>S(M),children:s.jsx(Zs,{className:"w-4 h-4"})})]})]})]},M.id)})})})]}),!n&&Z.length>0&&s.jsxs("p",{className:"mt-4 text-sm text-gray-600 dark:text-gray-400",children:["Showing all ",Z.length," car",Z.length!==1?"s":""]}),c&&s.jsx(gue,{car:c,onClose:()=>d(null)}),j&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:s.jsxs(rt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-md p-6 relative",children:[s.jsx("button",{type:"button",className:"absolute top-4 right-4 w-8 h-8 rounded-full flex items-center justify-center transition-all hover:scale-110",style:{background:wt.tealDim},onClick:C,children:s.jsx(tr,{className:"w-5 h-5",style:{color:wt.teal}})}),s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center bg-red-100 dark:bg-red-900/30",children:s.jsx(Zs,{className:"w-6 h-6 text-red-600 dark:text-red-400"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Delete car"}),s.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[j.make," ",j.model," (",j.license_plate,")"]})]})]}),s.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:["This action cannot be undone. Type ",s.jsx("strong",{className:"text-gray-900 dark:text-white",children:"delete"})," below to confirm."]}),s.jsx(Se,{type:"text",value:N,onChange:M=>k(M.target.value),placeholder:"Type delete to confirm",className:"h-10 border-2 rounded-xl mb-6",autoComplete:"off"}),s.jsxs("div",{className:"flex justify-end gap-3",children:[s.jsx(pe,{variant:"outline",onClick:C,className:"h-10 rounded-xl",children:"Cancel"}),s.jsx(pe,{onClick:B,disabled:N.toLowerCase()!=="delete",className:"h-10 rounded-xl text-white font-semibold bg-red-600 hover:bg-red-700 disabled:opacity-50 disabled:pointer-events-none",children:"Delete car"})]})]})}),h&&c&&s.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:s.jsxs(rt.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto p-6 relative",children:[s.jsx("button",{className:"absolute top-4 right-4 w-8 h-8 rounded-full flex items-center justify-center transition-all hover:scale-110",style:{background:wt.tealDim},onClick:()=>m(!1),children:s.jsx(tr,{className:"w-5 h-5",style:{color:wt.teal}})}),s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{background:`linear-gradient(135deg, ${wt.darkBlue}, ${wt.teal})`},children:s.jsx(WE,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Edit Car"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:c.license_plate})]})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 mb-3 uppercase tracking-wider",children:"Basic info"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Make ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsxs(ft,{value:f.make??"",onValueChange:M=>U("make",M),children:[s.jsx(ut,{className:"h-10 border-2 rounded-xl",children:s.jsx(mt,{placeholder:"Select make"})}),s.jsx(ht,{children:uue.map(M=>s.jsx(ke,{value:M,children:M},M))})]})]}),f.make==="Other"&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Custom Make ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Se,{value:f.customMake??"",onChange:M=>U("customMake",M.target.value),placeholder:"Type make",className:"h-10 border-2 rounded-xl"})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Model ",s.jsx("span",{className:"text-red-500",children:"*"})]}),f.make&&f.make!=="Other"?s.jsxs(ft,{value:f.model&&qf[f.make]?.includes(f.model)?f.model:f.model==="Other"?"Other":"_",onValueChange:M=>U("model",M==="_"?"":M),children:[s.jsx(ut,{className:"h-10 border-2 rounded-xl",children:s.jsx(mt,{placeholder:"Select model"})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"_",children:"Select model..."}),(qf[f.make]||[]).map(M=>s.jsx(ke,{value:M,children:M},M)),s.jsx(ke,{value:"Other",children:"Other"})]})]}):s.jsx(Se,{value:f.customModel??"",onChange:M=>U("customModel",M.target.value),placeholder:"Type model",className:"h-10 border-2 rounded-xl"})]}),f.make&&f.make!=="Other"&&f.model==="Other"&&s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Custom Model ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Se,{value:f.customModel??"",onChange:M=>U("customModel",M.target.value),placeholder:"Type model",className:"h-10 border-2 rounded-xl"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Year"}),s.jsx(Se,{type:"number",value:f.year??"",onChange:M=>U("year",M.target.value),placeholder:"e.g. 2023",className:"h-10 border-2 rounded-xl"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Color"}),s.jsxs(ft,{value:f.color||"_",onValueChange:M=>U("color",M==="_"?"":M),children:[s.jsx(ut,{className:"h-10 border-2 rounded-xl",children:s.jsx(mt,{placeholder:"Select color"})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"_",children:""}),(()=>{const M=f.color??"";return(M&&!y1.includes(M)?[M,...y1]:y1).map(oe=>s.jsx(ke,{value:oe,children:oe},oe))})()]})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 mb-3 uppercase tracking-wider",children:"Transmission"}),s.jsxs(ft,{value:(f.transmission||"automatic").toLowerCase(),onValueChange:M=>U("transmission",M),children:[s.jsx(ut,{className:"h-10 border-2 rounded-xl",children:s.jsx(mt,{placeholder:"Transmission"})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"automatic",children:"Automatic"}),s.jsx(ke,{value:"manual",children:"Manual"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 mb-3 uppercase tracking-wider",children:"Status"}),s.jsxs(ft,{value:f.status??"available",onValueChange:M=>U("status",M),children:[s.jsx(ut,{className:"h-10 border-2 rounded-xl",children:s.jsx(mt,{placeholder:"Car status"})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"available",children:"Available"}),s.jsx(ke,{value:"not_available",children:"Not available"}),s.jsx(ke,{value:"rented",children:"Rented"}),s.jsx(ke,{value:"maintenance",children:"Maintenance"})]})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 mb-3 uppercase tracking-wider",children:"Pricing & costs"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Daily rate ($) ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx(Se,{type:"number",min:0,value:f.daily_rate??"",onChange:M=>U("daily_rate",M.target.value),placeholder:"0",className:"h-10 border-2 rounded-xl"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Holiday rate ($)"}),s.jsx(Se,{type:"number",min:0,value:f.holiday_rate??"",onChange:M=>U("holiday_rate",M.target.value),placeholder:"0",className:"h-10 border-2 rounded-xl"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Min rental days"}),s.jsx(Se,{type:"number",min:1,value:f.min_rental_days??1,onChange:M=>U("min_rental_days",M.target.value),className:"h-10 border-2 rounded-xl"})]})]}),s.jsxs("div",{className:"mt-4 space-y-4",children:[s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:!!f.is_deposit,onChange:M=>U("is_deposit",M.target.checked),className:"w-4 h-4 rounded border-2",style:{accentColor:wt.teal}}),s.jsx("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Require deposit"})]}),f.is_deposit&&s.jsxs("div",{className:"pl-6",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Deposit amount ($)"}),s.jsx(Se,{type:"number",min:0,value:f.deposit??"",onChange:M=>U("deposit",M.target.value),placeholder:"0",className:"h-10 border-2 rounded-xl max-w-xs"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:!!f.is_delivered,onChange:M=>U("is_delivered",M.target.checked),className:"w-4 h-4 rounded border-2",style:{accentColor:wt.teal}}),s.jsx("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Delivery available"})]}),f.is_delivered&&s.jsxs("div",{className:"pl-6",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Delivery fees ($)"}),s.jsx(Se,{type:"number",min:0,value:f.delivery_fees??"",onChange:M=>U("delivery_fees",M.target.value),placeholder:"0",className:"h-10 border-2 rounded-xl max-w-xs"})]}),s.jsxs("label",{className:"flex items-center gap-2 cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:!!f.with_driver,onChange:M=>U("with_driver",M.target.checked),className:"w-4 h-4 rounded border-2",style:{accentColor:wt.teal}}),s.jsx("span",{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Driver available"})]}),f.with_driver&&s.jsxs("div",{className:"pl-6",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Driver fees per day ($)"}),s.jsx(Se,{type:"number",min:0,value:f.driver_fees??"",onChange:M=>U("driver_fees",M.target.value),placeholder:"0",className:"h-10 border-2 rounded-xl max-w-xs"})]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm font-semibold text-gray-500 dark:text-gray-400 mb-3 uppercase tracking-wider",children:"Other"}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:[s.jsx(zl,{className:"w-4 h-4 inline mr-1",style:{color:wt.teal}}),"Mileage (km)"]}),s.jsx(Se,{type:"number",min:0,value:f.mileage??"",onChange:M=>U("mileage",M.target.value),placeholder:"0",className:"h-10 border-2 rounded-xl"})]})}),s.jsxs("div",{className:"mt-4",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Notes"}),s.jsx("textarea",{value:f.notes??"",onChange:M=>U("notes",M.target.value),placeholder:"Optional notes about the vehicle",rows:3,className:"w-full border-2 rounded-xl p-3 bg-white dark:bg-gray-900 resize-none"})]})]})]}),s.jsxs("div",{className:"mt-6 flex justify-end gap-3 sticky bottom-0 bg-white dark:bg-gray-900 pt-4 -mb-6",children:[s.jsx(pe,{variant:"outline",onClick:()=>m(!1),className:"h-10 rounded-xl",children:"Cancel"}),s.jsx(pe,{onClick:L,className:"h-10 rounded-xl text-white font-semibold",style:{background:`linear-gradient(135deg, ${wt.teal}, ${wt.darkBlue})`},children:"Save Changes"})]})]})})]})})},Xg=({icon:t,label:e,value:r,gradient:n})=>s.jsx(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:s.jsx(Ue,{className:"border-2 border-transparent hover:shadow-lg transition-all duration-300 rounded-xl",children:s.jsx(qe,{className:"p-4",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"w-11 h-11 rounded-xl flex items-center justify-center shadow-md",style:{background:n},children:s.jsx(t,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 font-medium",children:e}),s.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:r})]})]})})})});class tS{constructor(){this.notificationCreatedEvent=".Illuminate\\Notifications\\Events\\BroadcastNotificationCreated"}listenForWhisper(e,r){return this.listen(".client-"+e,r)}notification(e){return this.listen(this.notificationCreatedEvent,e)}stopListeningForNotification(e){return this.stopListening(this.notificationCreatedEvent,e)}stopListeningForWhisper(e,r){return this.stopListening(".client-"+e,r)}}class zF{constructor(e){this.namespace=e}format(e){return[".","\\"].includes(e.charAt(0))?e.substring(1):(this.namespace&&(e=this.namespace+"."+e),e.replace(/\./g,"\\"))}setNamespace(e){this.namespace=e}}function yue(t){try{new t}catch(e){if(e instanceof Error&&e.message.includes("is not a constructor"))return!1}return!0}class sS extends tS{constructor(e,r,n){super(),this.name=r,this.pusher=e,this.options=n,this.eventFormatter=new zF(this.options.namespace),this.subscribe()}subscribe(){this.subscription=this.pusher.subscribe(this.name)}unsubscribe(){this.pusher.unsubscribe(this.name)}listen(e,r){return this.on(this.eventFormatter.format(e),r),this}listenToAll(e){return this.subscription.bind_global((r,n)=>{if(r.startsWith("pusher:"))return;let a=String(this.options.namespace??"").replace(/\./g,"\\"),i=r.startsWith(a)?r.substring(a.length+1):"."+r;e(i,n)}),this}stopListening(e,r){return r?this.subscription.unbind(this.eventFormatter.format(e),r):this.subscription.unbind(this.eventFormatter.format(e)),this}stopListeningToAll(e){return e?this.subscription.unbind_global(e):this.subscription.unbind_global(),this}subscribed(e){return this.on("pusher:subscription_succeeded",()=>{e()}),this}error(e){return this.on("pusher:subscription_error",r=>{e(r)}),this}on(e,r){return this.subscription.bind(e,r),this}}class UF extends sS{whisper(e,r){return this.pusher.channels.channels[this.name].trigger(`client-${e}`,r),this}}class bue extends sS{whisper(e,r){return this.pusher.channels.channels[this.name].trigger(`client-${e}`,r),this}}class vue extends UF{here(e){return this.on("pusher:subscription_succeeded",r=>{e(Object.keys(r.members).map(n=>r.members[n]))}),this}joining(e){return this.on("pusher:member_added",r=>{e(r.info)}),this}whisper(e,r){return this.pusher.channels.channels[this.name].trigger(`client-${e}`,r),this}leaving(e){return this.on("pusher:member_removed",r=>{e(r.info)}),this}}class $F extends tS{constructor(e,r,n){super(),this.events={},this.listeners={},this.name=r,this.socket=e,this.options=n,this.eventFormatter=new zF(this.options.namespace),this.subscribe()}subscribe(){this.socket.emit("subscribe",{channel:this.name,auth:this.options.auth||{}})}unsubscribe(){this.unbind(),this.socket.emit("unsubscribe",{channel:this.name,auth:this.options.auth||{}})}listen(e,r){return this.on(this.eventFormatter.format(e),r),this}stopListening(e,r){return this.unbindEvent(this.eventFormatter.format(e),r),this}subscribed(e){return this.on("connect",r=>{e(r)}),this}error(e){return this}on(e,r){return this.listeners[e]=this.listeners[e]||[],this.events[e]||(this.events[e]=(n,a)=>{this.name===n&&this.listeners[e]&&this.listeners[e].forEach(i=>i(a))},this.socket.on(e,this.events[e])),this.listeners[e].push(r),this}unbind(){Object.keys(this.events).forEach(e=>{this.unbindEvent(e)})}unbindEvent(e,r){this.listeners[e]=this.listeners[e]||[],r&&(this.listeners[e]=this.listeners[e].filter(n=>n!==r)),(!r||this.listeners[e].length===0)&&(this.events[e]&&(this.socket.removeListener(e,this.events[e]),delete this.events[e]),delete this.listeners[e])}}class VF extends $F{whisper(e,r){return this.socket.emit("client event",{channel:this.name,event:`client-${e}`,data:r}),this}}class wue extends VF{here(e){return this.on("presence:subscribed",r=>{e(r.map(n=>n.user_info))}),this}joining(e){return this.on("presence:joining",r=>e(r.user_info)),this}whisper(e,r){return this.socket.emit("client event",{channel:this.name,event:`client-${e}`,data:r}),this}leaving(e){return this.on("presence:leaving",r=>e(r.user_info)),this}}class f0 extends tS{subscribe(){}unsubscribe(){}listen(e,r){return this}listenToAll(e){return this}stopListening(e,r){return this}subscribed(e){return this}error(e){return this}on(e,r){return this}}class HF extends f0{whisper(e,r){return this}}class jue extends f0{whisper(e,r){return this}}class _ue extends HF{here(e){return this}joining(e){return this}whisper(e,r){return this}leaving(e){return this}}const qF=class WF{constructor(e){this.setOptions(e),this.connect()}setOptions(e){this.options={...WF._defaultOptions,...e,broadcaster:e.broadcaster};let r=this.csrfToken();r&&(this.options.auth.headers["X-CSRF-TOKEN"]=r,this.options.userAuthentication.headers["X-CSRF-TOKEN"]=r),r=this.options.bearerToken,r&&(this.options.auth.headers.Authorization="Bearer "+r,this.options.userAuthentication.headers.Authorization="Bearer "+r)}csrfToken(){var e,r;return typeof window<"u"&&(e=window.Laravel)!=null&&e.csrfToken?window.Laravel.csrfToken:this.options.csrfToken?this.options.csrfToken:typeof document<"u"&&typeof document.querySelector=="function"?((r=document.querySelector('meta[name="csrf-token"]'))==null?void 0:r.getAttribute("content"))??null:null}};qF._defaultOptions={auth:{headers:{}},authEndpoint:"/broadcasting/auth",userAuthentication:{endpoint:"/broadcasting/user-auth",headers:{}},csrfToken:null,bearerToken:null,host:null,key:null,namespace:"App.Events"};let rS=qF;class Zg extends rS{constructor(){super(...arguments),this.channels={}}connect(){if(typeof this.options.client<"u")this.pusher=this.options.client;else if(this.options.Pusher)this.pusher=new this.options.Pusher(this.options.key,this.options);else if(typeof window<"u"&&typeof window.Pusher<"u")this.pusher=new window.Pusher(this.options.key,this.options);else throw new Error("Pusher client not found. Should be globally available or passed via options.client")}signin(){this.pusher.signin()}listen(e,r,n){return this.channel(e).listen(r,n)}channel(e){return this.channels[e]||(this.channels[e]=new sS(this.pusher,e,this.options)),this.channels[e]}privateChannel(e){return this.channels["private-"+e]||(this.channels["private-"+e]=new UF(this.pusher,"private-"+e,this.options)),this.channels["private-"+e]}encryptedPrivateChannel(e){return this.channels["private-encrypted-"+e]||(this.channels["private-encrypted-"+e]=new bue(this.pusher,"private-encrypted-"+e,this.options)),this.channels["private-encrypted-"+e]}presenceChannel(e){return this.channels["presence-"+e]||(this.channels["presence-"+e]=new vue(this.pusher,"presence-"+e,this.options)),this.channels["presence-"+e]}leave(e){[e,"private-"+e,"private-encrypted-"+e,"presence-"+e].forEach(r=>{this.leaveChannel(r)})}leaveChannel(e){this.channels[e]&&(this.channels[e].unsubscribe(),delete this.channels[e])}socketId(){return this.pusher.connection.socket_id}disconnect(){this.pusher.disconnect()}}class Nue extends rS{constructor(){super(...arguments),this.channels={}}connect(){let e=this.getSocketIO();this.socket=e(this.options.host??void 0,this.options),this.socket.io.on("reconnect",()=>{Object.values(this.channels).forEach(r=>{r.subscribe()})})}getSocketIO(){if(typeof this.options.client<"u")return this.options.client;if(typeof window<"u"&&typeof window.io<"u")return window.io;throw new Error("Socket.io client not found. Should be globally available or passed via options.client")}listen(e,r,n){return this.channel(e).listen(r,n)}channel(e){return this.channels[e]||(this.channels[e]=new $F(this.socket,e,this.options)),this.channels[e]}privateChannel(e){return this.channels["private-"+e]||(this.channels["private-"+e]=new VF(this.socket,"private-"+e,this.options)),this.channels["private-"+e]}presenceChannel(e){return this.channels["presence-"+e]||(this.channels["presence-"+e]=new wue(this.socket,"presence-"+e,this.options)),this.channels["presence-"+e]}leave(e){[e,"private-"+e,"presence-"+e].forEach(r=>{this.leaveChannel(r)})}leaveChannel(e){this.channels[e]&&(this.channels[e].unsubscribe(),delete this.channels[e])}socketId(){return this.socket.id}disconnect(){this.socket.disconnect()}}class gD extends rS{constructor(){super(...arguments),this.channels={}}connect(){}listen(e,r,n){return new f0}channel(e){return new f0}privateChannel(e){return new HF}encryptedPrivateChannel(e){return new jue}presenceChannel(e){return new _ue}leave(e){}leaveChannel(e){}socketId(){return"fake-socket-id"}disconnect(){}}class GF{constructor(e){this.options=e,this.connect(),this.options.withoutInterceptors||this.registerInterceptors()}channel(e){return this.connector.channel(e)}connect(){if(this.options.broadcaster==="reverb")this.connector=new Zg({...this.options,cluster:""});else if(this.options.broadcaster==="pusher")this.connector=new Zg(this.options);else if(this.options.broadcaster==="ably")this.connector=new Zg({...this.options,cluster:"",broadcaster:"pusher"});else if(this.options.broadcaster==="socket.io")this.connector=new Nue(this.options);else if(this.options.broadcaster==="null")this.connector=new gD(this.options);else if(typeof this.options.broadcaster=="function"&&yue(this.options.broadcaster))this.connector=new this.options.broadcaster(this.options);else throw new Error(`Broadcaster ${typeof this.options.broadcaster} ${String(this.options.broadcaster)} is not supported.`)}disconnect(){this.connector.disconnect()}join(e){return this.connector.presenceChannel(e)}leave(e){this.connector.leave(e)}leaveChannel(e){this.connector.leaveChannel(e)}leaveAllChannels(){for(const e in this.connector.channels)this.leaveChannel(e)}listen(e,r,n){return this.connector.listen(e,r,n)}private(e){return this.connector.privateChannel(e)}encryptedPrivate(e){if(this.connectorSupportsEncryptedPrivateChannels(this.connector))return this.connector.encryptedPrivateChannel(e);throw new Error(`Broadcaster ${typeof this.options.broadcaster} ${String(this.options.broadcaster)} does not support encrypted private channels.`)}connectorSupportsEncryptedPrivateChannels(e){return e instanceof Zg||e instanceof gD}socketId(){return this.connector.socketId()}registerInterceptors(){typeof Vue<"u"&&Vue!=null&&Vue.http&&this.registerVueRequestInterceptor(),typeof axios=="function"&&this.registerAxiosRequestInterceptor(),typeof jQuery=="function"&&this.registerjQueryAjaxSetup(),typeof Turbo=="object"&&this.registerTurboRequestInterceptor()}registerVueRequestInterceptor(){Vue.http.interceptors.push((e,r)=>{this.socketId()&&e.headers.set("X-Socket-ID",this.socketId()),r()})}registerAxiosRequestInterceptor(){axios.interceptors.request.use(e=>(this.socketId()&&(e.headers["X-Socket-Id"]=this.socketId()),e))}registerjQueryAjaxSetup(){typeof jQuery.ajax<"u"&&jQuery.ajaxPrefilter((e,r,n)=>{this.socketId()&&n.setRequestHeader("X-Socket-Id",this.socketId())})}registerTurboRequestInterceptor(){document.addEventListener("turbo:before-fetch-request",e=>{e.detail.fetchOptions.headers["X-Socket-Id"]=this.socketId()})}}var b1={exports:{}};var xD;function Sue(){return xD||(xD=1,(function(t,e){(function(n,a){t.exports=a()})(window,function(){return(function(r){var n={};function a(i){if(n[i])return n[i].exports;var o=n[i]={i,l:!1,exports:{}};return r[i].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=r,a.c=n,a.d=function(i,o,c){a.o(i,o)||Object.defineProperty(i,o,{enumerable:!0,get:c})},a.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},a.t=function(i,o){if(o&1&&(i=a(i)),o&8||o&4&&typeof i=="object"&&i&&i.__esModule)return i;var c=Object.create(null);if(a.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:i}),o&2&&typeof i!="string")for(var d in i)a.d(c,d,(function(h){return i[h]}).bind(null,d));return c},a.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return a.d(o,"a",o),o},a.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},a.p="",a(a.s=2)})([(function(r,n,a){var i=this&&this.__extends||(function(){var w=function(j,b){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(N,k){N.__proto__=k}||function(N,k){for(var S in k)k.hasOwnProperty(S)&&(N[S]=k[S])},w(j,b)};return function(j,b){w(j,b);function N(){this.constructor=j}j.prototype=b===null?Object.create(b):(N.prototype=b.prototype,new N)}})();Object.defineProperty(n,"__esModule",{value:!0});var o=256,c=(function(){function w(j){j===void 0&&(j="="),this._paddingCharacter=j}return w.prototype.encodedLength=function(j){return this._paddingCharacter?(j+2)/3*4|0:(j*8+5)/6|0},w.prototype.encode=function(j){for(var b="",N=0;N<j.length-2;N+=3){var k=j[N]<<16|j[N+1]<<8|j[N+2];b+=this._encodeByte(k>>>18&63),b+=this._encodeByte(k>>>12&63),b+=this._encodeByte(k>>>6&63),b+=this._encodeByte(k>>>0&63)}var S=j.length-N;if(S>0){var k=j[N]<<16|(S===2?j[N+1]<<8:0);b+=this._encodeByte(k>>>18&63),b+=this._encodeByte(k>>>12&63),S===2?b+=this._encodeByte(k>>>6&63):b+=this._paddingCharacter||"",b+=this._paddingCharacter||""}return b},w.prototype.maxDecodedLength=function(j){return this._paddingCharacter?j/4*3|0:(j*6+7)/8|0},w.prototype.decodedLength=function(j){return this.maxDecodedLength(j.length-this._getPaddingLength(j))},w.prototype.decode=function(j){if(j.length===0)return new Uint8Array(0);for(var b=this._getPaddingLength(j),N=j.length-b,k=new Uint8Array(this.maxDecodedLength(N)),S=0,C=0,B=0,E=0,z=0,T=0,W=0;C<N-4;C+=4)E=this._decodeChar(j.charCodeAt(C+0)),z=this._decodeChar(j.charCodeAt(C+1)),T=this._decodeChar(j.charCodeAt(C+2)),W=this._decodeChar(j.charCodeAt(C+3)),k[S++]=E<<2|z>>>4,k[S++]=z<<4|T>>>2,k[S++]=T<<6|W,B|=E&o,B|=z&o,B|=T&o,B|=W&o;if(C<N-1&&(E=this._decodeChar(j.charCodeAt(C)),z=this._decodeChar(j.charCodeAt(C+1)),k[S++]=E<<2|z>>>4,B|=E&o,B|=z&o),C<N-2&&(T=this._decodeChar(j.charCodeAt(C+2)),k[S++]=z<<4|T>>>2,B|=T&o),C<N-3&&(W=this._decodeChar(j.charCodeAt(C+3)),k[S++]=T<<6|W,B|=W&o),B!==0)throw new Error("Base64Coder: incorrect characters for decoding");return k},w.prototype._encodeByte=function(j){var b=j;return b+=65,b+=25-j>>>8&6,b+=51-j>>>8&-75,b+=61-j>>>8&-15,b+=62-j>>>8&3,String.fromCharCode(b)},w.prototype._decodeChar=function(j){var b=o;return b+=(42-j&j-44)>>>8&-o+j-43+62,b+=(46-j&j-48)>>>8&-o+j-47+63,b+=(47-j&j-58)>>>8&-o+j-48+52,b+=(64-j&j-91)>>>8&-o+j-65+0,b+=(96-j&j-123)>>>8&-o+j-97+26,b},w.prototype._getPaddingLength=function(j){var b=0;if(this._paddingCharacter){for(var N=j.length-1;N>=0&&j[N]===this._paddingCharacter;N--)b++;if(j.length<4||b>2)throw new Error("Base64Coder: incorrect padding")}return b},w})();n.Coder=c;var d=new c;function h(w){return d.encode(w)}n.encode=h;function m(w){return d.decode(w)}n.decode=m;var f=(function(w){i(j,w);function j(){return w!==null&&w.apply(this,arguments)||this}return j.prototype._encodeByte=function(b){var N=b;return N+=65,N+=25-b>>>8&6,N+=51-b>>>8&-75,N+=61-b>>>8&-13,N+=62-b>>>8&49,String.fromCharCode(N)},j.prototype._decodeChar=function(b){var N=o;return N+=(44-b&b-46)>>>8&-o+b-45+62,N+=(94-b&b-96)>>>8&-o+b-95+63,N+=(47-b&b-58)>>>8&-o+b-48+52,N+=(64-b&b-91)>>>8&-o+b-65+0,N+=(96-b&b-123)>>>8&-o+b-97+26,N},j})(c);n.URLSafeCoder=f;var g=new f;function y(w){return g.encode(w)}n.encodeURLSafe=y;function v(w){return g.decode(w)}n.decodeURLSafe=v,n.encodedLength=function(w){return d.encodedLength(w)},n.maxDecodedLength=function(w){return d.maxDecodedLength(w)},n.decodedLength=function(w){return d.decodedLength(w)}}),(function(r,n,a){Object.defineProperty(n,"__esModule",{value:!0});var i="utf8: invalid string",o="utf8: invalid source encoding";function c(m){for(var f=new Uint8Array(d(m)),g=0,y=0;y<m.length;y++){var v=m.charCodeAt(y);v<128?f[g++]=v:v<2048?(f[g++]=192|v>>6,f[g++]=128|v&63):v<55296?(f[g++]=224|v>>12,f[g++]=128|v>>6&63,f[g++]=128|v&63):(y++,v=(v&1023)<<10,v|=m.charCodeAt(y)&1023,v+=65536,f[g++]=240|v>>18,f[g++]=128|v>>12&63,f[g++]=128|v>>6&63,f[g++]=128|v&63)}return f}n.encode=c;function d(m){for(var f=0,g=0;g<m.length;g++){var y=m.charCodeAt(g);if(y<128)f+=1;else if(y<2048)f+=2;else if(y<55296)f+=3;else if(y<=57343){if(g>=m.length-1)throw new Error(i);g++,f+=4}else throw new Error(i)}return f}n.encodedLength=d;function h(m){for(var f=[],g=0;g<m.length;g++){var y=m[g];if(y&128){var v=void 0;if(y<224){if(g>=m.length)throw new Error(o);var w=m[++g];if((w&192)!==128)throw new Error(o);y=(y&31)<<6|w&63,v=128}else if(y<240){if(g>=m.length-1)throw new Error(o);var w=m[++g],j=m[++g];if((w&192)!==128||(j&192)!==128)throw new Error(o);y=(y&15)<<12|(w&63)<<6|j&63,v=2048}else if(y<248){if(g>=m.length-2)throw new Error(o);var w=m[++g],j=m[++g],b=m[++g];if((w&192)!==128||(j&192)!==128||(b&192)!==128)throw new Error(o);y=(y&15)<<18|(w&63)<<12|(j&63)<<6|b&63,v=65536}else throw new Error(o);if(y<v||y>=55296&&y<=57343)throw new Error(o);if(y>=65536){if(y>1114111)throw new Error(o);y-=65536,f.push(String.fromCharCode(55296|y>>10)),y=56320|y&1023}}f.push(String.fromCharCode(y))}return f.join("")}n.decode=h}),(function(r,n,a){r.exports=a(3).default}),(function(r,n,a){a.r(n);class i{constructor(I,ne){this.lastId=0,this.prefix=I,this.name=ne}create(I){this.lastId++;var ne=this.lastId,Ne=this.prefix+ne,Te=this.name+"["+ne+"]",Xe=!1,dt=function(){Xe||(I.apply(null,arguments),Xe=!0)};return this[ne]=dt,{number:ne,id:Ne,name:Te,callback:dt}}remove(I){delete this[I.number]}}var o=new i("_pusher_script_","Pusher.ScriptReceivers"),c={VERSION:"8.4.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},d=c;class h{constructor(I){this.options=I,this.receivers=I.receivers||o,this.loading={}}load(I,ne,Ne){var Te=this;if(Te.loading[I]&&Te.loading[I].length>0)Te.loading[I].push(Ne);else{Te.loading[I]=[Ne];var Xe=Lt.createScriptRequest(Te.getPath(I,ne)),dt=Te.receivers.create(function(vt){if(Te.receivers.remove(dt),Te.loading[I]){var Wt=Te.loading[I];delete Te.loading[I];for(var as=function(mr){mr||Xe.cleanup()},hs=0;hs<Wt.length;hs++)Wt[hs](vt,as)}});Xe.send(dt)}}getRoot(I){var ne,Ne=Lt.getDocument().location.protocol;return I&&I.useTLS||Ne==="https:"?ne=this.options.cdn_https:ne=this.options.cdn_http,ne.replace(/\/*$/,"")+"/"+this.options.version}getPath(I,ne){return this.getRoot(ne)+"/"+I+this.options.suffix+".js"}}var m=new i("_pusher_dependencies","Pusher.DependenciesReceivers"),f=new h({cdn_http:d.cdn_http,cdn_https:d.cdn_https,version:d.VERSION,suffix:d.dependency_suffix,receivers:m});const g={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}};var v={buildLogSuffix:function(ie){const I="See:",ne=g.urls[ie];if(!ne)return"";let Ne;return ne.fullUrl?Ne=ne.fullUrl:ne.path&&(Ne=g.baseUrl+ne.path),Ne?`${I} ${Ne}`:""}},w;(function(ie){ie.UserAuthentication="user-authentication",ie.ChannelAuthorization="channel-authorization"})(w||(w={}));class j extends Error{constructor(I){super(I),Object.setPrototypeOf(this,new.target.prototype)}}class b extends Error{constructor(I){super(I),Object.setPrototypeOf(this,new.target.prototype)}}class N extends Error{constructor(I){super(I),Object.setPrototypeOf(this,new.target.prototype)}}class k extends Error{constructor(I){super(I),Object.setPrototypeOf(this,new.target.prototype)}}class S extends Error{constructor(I){super(I),Object.setPrototypeOf(this,new.target.prototype)}}class C extends Error{constructor(I){super(I),Object.setPrototypeOf(this,new.target.prototype)}}class B extends Error{constructor(I){super(I),Object.setPrototypeOf(this,new.target.prototype)}}class E extends Error{constructor(I){super(I),Object.setPrototypeOf(this,new.target.prototype)}}class z extends Error{constructor(I,ne){super(ne),this.status=I,Object.setPrototypeOf(this,new.target.prototype)}}var W=function(ie,I,ne,Ne,Te){const Xe=Lt.createXHR();Xe.open("POST",ne.endpoint,!0),Xe.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var dt in ne.headers)Xe.setRequestHeader(dt,ne.headers[dt]);if(ne.headersProvider!=null){let vt=ne.headersProvider();for(var dt in vt)Xe.setRequestHeader(dt,vt[dt])}return Xe.onreadystatechange=function(){if(Xe.readyState===4)if(Xe.status===200){let vt,Wt=!1;try{vt=JSON.parse(Xe.responseText),Wt=!0}catch{Te(new z(200,`JSON returned from ${Ne.toString()} endpoint was invalid, yet status code was 200. Data was: ${Xe.responseText}`),null)}Wt&&Te(null,vt)}else{let vt="";switch(Ne){case w.UserAuthentication:vt=v.buildLogSuffix("authenticationEndpoint");break;case w.ChannelAuthorization:vt=`Clients must be authorized to join private or presence channels. ${v.buildLogSuffix("authorizationEndpoint")}`;break}Te(new z(Xe.status,`Unable to retrieve auth string from ${Ne.toString()} endpoint - received status: ${Xe.status} from ${ne.endpoint}. ${vt}`),null)}},Xe.send(I),Xe};function U(ie){return M(se(ie))}var L=String.fromCharCode,Z="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",O=function(ie){var I=ie.charCodeAt(0);return I<128?ie:I<2048?L(192|I>>>6)+L(128|I&63):L(224|I>>>12&15)+L(128|I>>>6&63)+L(128|I&63)},se=function(ie){return ie.replace(/[^\x00-\x7F]/g,O)},K=function(ie){var I=[0,2,1][ie.length%3],ne=ie.charCodeAt(0)<<16|(ie.length>1?ie.charCodeAt(1):0)<<8|(ie.length>2?ie.charCodeAt(2):0),Ne=[Z.charAt(ne>>>18),Z.charAt(ne>>>12&63),I>=2?"=":Z.charAt(ne>>>6&63),I>=1?"=":Z.charAt(ne&63)];return Ne.join("")},M=window.btoa||function(ie){return ie.replace(/[\s\S]{1,3}/g,K)};class X{constructor(I,ne,Ne,Te){this.clear=ne,this.timer=I(()=>{this.timer&&(this.timer=Te(this.timer))},Ne)}isRunning(){return this.timer!==null}ensureAborted(){this.timer&&(this.clear(this.timer),this.timer=null)}}var $=X;function oe(ie){window.clearTimeout(ie)}function q(ie){window.clearInterval(ie)}class Y extends ${constructor(I,ne){super(setTimeout,oe,I,function(Ne){return ne(),null})}}class ce extends ${constructor(I,ne){super(setInterval,q,I,function(Ne){return ne(),Ne})}}var le={now(){return Date.now?Date.now():new Date().valueOf()},defer(ie){return new Y(0,ie)},method(ie,...I){var ne=Array.prototype.slice.call(arguments,1);return function(Ne){return Ne[ie].apply(Ne,ne.concat(arguments))}}},be=le;function ge(ie,...I){for(var ne=0;ne<I.length;ne++){var Ne=I[ne];for(var Te in Ne)Ne[Te]&&Ne[Te].constructor&&Ne[Te].constructor===Object?ie[Te]=ge(ie[Te]||{},Ne[Te]):ie[Te]=Ne[Te]}return ie}function V(){for(var ie=["Pusher"],I=0;I<arguments.length;I++)typeof arguments[I]=="string"?ie.push(arguments[I]):ie.push(xe(arguments[I]));return ie.join(" : ")}function H(ie,I){var ne=Array.prototype.indexOf;if(ie===null)return-1;if(ne&&ie.indexOf===ne)return ie.indexOf(I);for(var Ne=0,Te=ie.length;Ne<Te;Ne++)if(ie[Ne]===I)return Ne;return-1}function me(ie,I){for(var ne in ie)Object.prototype.hasOwnProperty.call(ie,ne)&&I(ie[ne],ne,ie)}function Q(ie){var I=[];return me(ie,function(ne,Ne){I.push(Ne)}),I}function te(ie){var I=[];return me(ie,function(ne){I.push(ne)}),I}function ee(ie,I,ne){for(var Ne=0;Ne<ie.length;Ne++)I.call(ne||window,ie[Ne],Ne,ie)}function Ce(ie,I){for(var ne=[],Ne=0;Ne<ie.length;Ne++)ne.push(I(ie[Ne],Ne,ie,ne));return ne}function F(ie,I){var ne={};return me(ie,function(Ne,Te){ne[Te]=I(Ne)}),ne}function Ee(ie,I){I=I||function(Te){return!!Te};for(var ne=[],Ne=0;Ne<ie.length;Ne++)I(ie[Ne],Ne,ie,ne)&&ne.push(ie[Ne]);return ne}function J(ie,I){var ne={};return me(ie,function(Ne,Te){(I&&I(Ne,Te,ie,ne)||Ne)&&(ne[Te]=Ne)}),ne}function R(ie){var I=[];return me(ie,function(ne,Ne){I.push([Ne,ne])}),I}function P(ie,I){for(var ne=0;ne<ie.length;ne++)if(I(ie[ne],ne,ie))return!0;return!1}function G(ie,I){for(var ne=0;ne<ie.length;ne++)if(!I(ie[ne],ne,ie))return!1;return!0}function we(ie){return F(ie,function(I){return typeof I=="object"&&(I=xe(I)),encodeURIComponent(U(I.toString()))})}function de(ie){var I=J(ie,function(Ne){return Ne!==void 0}),ne=Ce(R(we(I)),be.method("join","=")).join("&");return ne}function he(ie){var I=[],ne=[];return(function Ne(Te,Xe){var dt,vt,Wt;switch(typeof Te){case"object":if(!Te)return null;for(dt=0;dt<I.length;dt+=1)if(I[dt]===Te)return{$ref:ne[dt]};if(I.push(Te),ne.push(Xe),Object.prototype.toString.apply(Te)==="[object Array]")for(Wt=[],dt=0;dt<Te.length;dt+=1)Wt[dt]=Ne(Te[dt],Xe+"["+dt+"]");else{Wt={};for(vt in Te)Object.prototype.hasOwnProperty.call(Te,vt)&&(Wt[vt]=Ne(Te[vt],Xe+"["+JSON.stringify(vt)+"]"))}return Wt;case"number":case"string":case"boolean":return Te}})(ie,"$")}function xe(ie){try{return JSON.stringify(ie)}catch{return JSON.stringify(he(ie))}}class Me{constructor(){this.globalLog=I=>{window.console&&window.console.log&&window.console.log(I)}}debug(...I){this.log(this.globalLog,I)}warn(...I){this.log(this.globalLogWarn,I)}error(...I){this.log(this.globalLogError,I)}globalLogWarn(I){window.console&&window.console.warn?window.console.warn(I):this.globalLog(I)}globalLogError(I){window.console&&window.console.error?window.console.error(I):this.globalLogWarn(I)}log(I,...ne){var Ne=V.apply(this,arguments);Rh.log?Rh.log(Ne):Rh.logToConsole&&I.bind(this)(Ne)}}var Re=new Me,$e=function(ie,I,ne,Ne,Te){(ne.headers!==void 0||ne.headersProvider!=null)&&Re.warn(`To send headers with the ${Ne.toString()} request, you must use AJAX, rather than JSONP.`);var Xe=ie.nextAuthCallbackID.toString();ie.nextAuthCallbackID++;var dt=ie.getDocument(),vt=dt.createElement("script");ie.auth_callbacks[Xe]=function(hs){Te(null,hs)};var Wt="Pusher.auth_callbacks['"+Xe+"']";vt.src=ne.endpoint+"?callback="+encodeURIComponent(Wt)+"&"+I;var as=dt.getElementsByTagName("head")[0]||dt.documentElement;as.insertBefore(vt,as.firstChild)},Je=$e;class st{constructor(I){this.src=I}send(I){var ne=this,Ne="Error loading "+ne.src;ne.script=document.createElement("script"),ne.script.id=I.id,ne.script.src=ne.src,ne.script.type="text/javascript",ne.script.charset="UTF-8",ne.script.addEventListener?(ne.script.onerror=function(){I.callback(Ne)},ne.script.onload=function(){I.callback(null)}):ne.script.onreadystatechange=function(){(ne.script.readyState==="loaded"||ne.script.readyState==="complete")&&I.callback(null)},ne.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(ne.errorScript=document.createElement("script"),ne.errorScript.id=I.id+"_error",ne.errorScript.text=I.name+"('"+Ne+"');",ne.script.async=ne.errorScript.async=!1):ne.script.async=!0;var Te=document.getElementsByTagName("head")[0];Te.insertBefore(ne.script,Te.firstChild),ne.errorScript&&Te.insertBefore(ne.errorScript,ne.script.nextSibling)}cleanup(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null}}class Nt{constructor(I,ne){this.url=I,this.data=ne}send(I){if(!this.request){var ne=de(this.data),Ne=this.url+"/"+I.number+"?"+ne;this.request=Lt.createScriptRequest(Ne),this.request.send(I)}}cleanup(){this.request&&this.request.cleanup()}}var St=function(ie,I){return function(ne,Ne){var Te="http"+(I?"s":"")+"://",Xe=Te+(ie.host||ie.options.host)+ie.options.path,dt=Lt.createJSONPRequest(Xe,ne),vt=Lt.ScriptReceivers.create(function(Wt,as){o.remove(vt),dt.cleanup(),as&&as.host&&(ie.host=as.host),Ne&&Ne(Wt,as)});dt.send(vt)}},Ht={name:"jsonp",getAgent:St},As=Ht;function kt(ie,I,ne){var Ne=ie+(I.useTLS?"s":""),Te=I.useTLS?I.hostTLS:I.hostNonTLS;return Ne+"://"+Te+ne}function ds(ie,I){var ne="/app/"+ie,Ne="?protocol="+d.PROTOCOL+"&client=js&version="+d.VERSION+(I?"&"+I:"");return ne+Ne}var Ge={getInitial:function(ie,I){var ne=(I.httpPath||"")+ds(ie,"flash=false");return kt("ws",I,ne)}},Ze={getInitial:function(ie,I){var ne=(I.httpPath||"/pusher")+ds(ie);return kt("http",I,ne)}},Ke={getInitial:function(ie,I){return kt("http",I,I.httpPath||"/pusher")},getPath:function(ie,I){return ds(ie)}};class us{constructor(){this._callbacks={}}get(I){return this._callbacks[Es(I)]}add(I,ne,Ne){var Te=Es(I);this._callbacks[Te]=this._callbacks[Te]||[],this._callbacks[Te].push({fn:ne,context:Ne})}remove(I,ne,Ne){if(!I&&!ne&&!Ne){this._callbacks={};return}var Te=I?[Es(I)]:Q(this._callbacks);ne||Ne?this.removeCallback(Te,ne,Ne):this.removeAllCallbacks(Te)}removeCallback(I,ne,Ne){ee(I,function(Te){this._callbacks[Te]=Ee(this._callbacks[Te]||[],function(Xe){return ne&&ne!==Xe.fn||Ne&&Ne!==Xe.context}),this._callbacks[Te].length===0&&delete this._callbacks[Te]},this)}removeAllCallbacks(I){ee(I,function(ne){delete this._callbacks[ne]},this)}}function Es(ie){return"_"+ie}class Cs{constructor(I){this.callbacks=new us,this.global_callbacks=[],this.failThrough=I}bind(I,ne,Ne){return this.callbacks.add(I,ne,Ne),this}bind_global(I){return this.global_callbacks.push(I),this}unbind(I,ne,Ne){return this.callbacks.remove(I,ne,Ne),this}unbind_global(I){return I?(this.global_callbacks=Ee(this.global_callbacks||[],ne=>ne!==I),this):(this.global_callbacks=[],this)}unbind_all(){return this.unbind(),this.unbind_global(),this}emit(I,ne,Ne){for(var Te=0;Te<this.global_callbacks.length;Te++)this.global_callbacks[Te](I,ne);var Xe=this.callbacks.get(I),dt=[];if(Ne?dt.push(ne,Ne):ne&&dt.push(ne),Xe&&Xe.length>0)for(var Te=0;Te<Xe.length;Te++)Xe[Te].fn.apply(Xe[Te].context||window,dt);else this.failThrough&&this.failThrough(I,ne);return this}}class jn extends Cs{constructor(I,ne,Ne,Te,Xe){super(),this.initialize=Lt.transportConnectionInitializer,this.hooks=I,this.name=ne,this.priority=Ne,this.key=Te,this.options=Xe,this.state="new",this.timeline=Xe.timeline,this.activityTimeout=Xe.activityTimeout,this.id=this.timeline.generateUniqueID()}handlesActivityChecks(){return!!this.hooks.handlesActivityChecks}supportsPing(){return!!this.hooks.supportsPing}connect(){if(this.socket||this.state!=="initialized")return!1;var I=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(I,this.options)}catch(ne){return be.defer(()=>{this.onError(ne),this.changeState("closed")}),!1}return this.bindListeners(),Re.debug("Connecting",{transport:this.name,url:I}),this.changeState("connecting"),!0}close(){return this.socket?(this.socket.close(),!0):!1}send(I){return this.state==="open"?(be.defer(()=>{this.socket&&this.socket.send(I)}),!0):!1}ping(){this.state==="open"&&this.supportsPing()&&this.socket.ping()}onOpen(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0}onError(I){this.emit("error",{type:"WebSocketError",error:I}),this.timeline.error(this.buildTimelineMessage({error:I.toString()}))}onClose(I){I?this.changeState("closed",{code:I.code,reason:I.reason,wasClean:I.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0}onMessage(I){this.emit("message",I)}onActivity(){this.emit("activity")}bindListeners(){this.socket.onopen=()=>{this.onOpen()},this.socket.onerror=I=>{this.onError(I)},this.socket.onclose=I=>{this.onClose(I)},this.socket.onmessage=I=>{this.onMessage(I)},this.supportsPing()&&(this.socket.onactivity=()=>{this.onActivity()})}unbindListeners(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))}changeState(I,ne){this.state=I,this.timeline.info(this.buildTimelineMessage({state:I,params:ne})),this.emit(I,ne)}buildTimelineMessage(I){return ge({cid:this.id},I)}}class $s{constructor(I){this.hooks=I}isSupported(I){return this.hooks.isSupported(I)}createConnection(I,ne,Ne,Te){return new jn(this.hooks,I,ne,Ne,Te)}}var wr=new $s({urls:Ge,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!Lt.getWebSocketAPI()},isSupported:function(){return!!Lt.getWebSocketAPI()},getSocket:function(ie){return Lt.createWebSocket(ie)}}),Ot={urls:Ze,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},ye=ge({getSocket:function(ie){return Lt.HTTPFactory.createStreamingSocket(ie)}},Ot),At=ge({getSocket:function(ie){return Lt.HTTPFactory.createPollingSocket(ie)}},Ot),Js={isSupported:function(){return Lt.isXHRSupported()}},Ct=new $s(ge({},ye,Js)),ot=new $s(ge({},At,Js)),ys={ws:wr,xhr_streaming:Ct,xhr_polling:ot},dr=ys,qs=new $s({file:"sockjs",urls:Ke,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(ie,I){return new window.SockJS(ie,null,{js_path:f.getPath("sockjs",{useTLS:I.useTLS}),ignore_null_origin:I.ignoreNullOrigin})},beforeOpen:function(ie,I){ie.send(JSON.stringify({path:I}))}}),$r={isSupported:function(ie){var I=Lt.isXDRSupported(ie.useTLS);return I}},Dn=new $s(ge({},ye,$r)),_n=new $s(ge({},At,$r));dr.xdr_streaming=Dn,dr.xdr_polling=_n,dr.sockjs=qs;var gi=dr;class Pd extends Cs{constructor(){super();var I=this;window.addEventListener!==void 0&&(window.addEventListener("online",function(){I.emit("online")},!1),window.addEventListener("offline",function(){I.emit("offline")},!1))}isOnline(){return window.navigator.onLine===void 0?!0:window.navigator.onLine}}var Nn=new Pd;class jr{constructor(I,ne,Ne){this.manager=I,this.transport=ne,this.minPingDelay=Ne.minPingDelay,this.maxPingDelay=Ne.maxPingDelay,this.pingDelay=void 0}createConnection(I,ne,Ne,Te){Te=ge({},Te,{activityTimeout:this.pingDelay});var Xe=this.transport.createConnection(I,ne,Ne,Te),dt=null,vt=function(){Xe.unbind("open",vt),Xe.bind("closed",Wt),dt=be.now()},Wt=as=>{if(Xe.unbind("closed",Wt),as.code===1002||as.code===1003)this.manager.reportDeath();else if(!as.wasClean&&dt){var hs=be.now()-dt;hs<2*this.maxPingDelay&&(this.manager.reportDeath(),this.pingDelay=Math.max(hs/2,this.minPingDelay))}};return Xe.bind("open",vt),Xe}isSupported(I){return this.manager.isAlive()&&this.transport.isSupported(I)}}const fr={decodeMessage:function(ie){try{var I=JSON.parse(ie.data),ne=I.data;if(typeof ne=="string")try{ne=JSON.parse(I.data)}catch{}var Ne={event:I.event,channel:I.channel,data:ne};return I.user_id&&(Ne.user_id=I.user_id),Ne}catch(Te){throw{type:"MessageParseError",error:Te,data:ie.data}}},encodeMessage:function(ie){return JSON.stringify(ie)},processHandshake:function(ie){var I=fr.decodeMessage(ie);if(I.event==="pusher:connection_established"){if(!I.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:I.data.socket_id,activityTimeout:I.data.activity_timeout*1e3}}else{if(I.event==="pusher:error")return{action:this.getCloseAction(I.data),error:this.getCloseError(I.data)};throw"Invalid handshake"}},getCloseAction:function(ie){return ie.code<4e3?ie.code>=1002&&ie.code<=1004?"backoff":null:ie.code===4e3?"tls_only":ie.code<4100?"refused":ie.code<4200?"backoff":ie.code<4300?"retry":"refused"},getCloseError:function(ie){return ie.code!==1e3&&ie.code!==1001?{type:"PusherError",data:{code:ie.code,message:ie.reason||ie.message}}:null}};var Er=fr;class to extends Cs{constructor(I,ne){super(),this.id=I,this.transport=ne,this.activityTimeout=ne.activityTimeout,this.bindListeners()}handlesActivityChecks(){return this.transport.handlesActivityChecks()}send(I){return this.transport.send(I)}send_event(I,ne,Ne){var Te={event:I,data:ne};return Ne&&(Te.channel=Ne),Re.debug("Event sent",Te),this.send(Er.encodeMessage(Te))}ping(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})}close(){this.transport.close()}bindListeners(){var I={message:Ne=>{var Te;try{Te=Er.decodeMessage(Ne)}catch(Xe){this.emit("error",{type:"MessageParseError",error:Xe,data:Ne.data})}if(Te!==void 0){switch(Re.debug("Event recd",Te),Te.event){case"pusher:error":this.emit("error",{type:"PusherError",data:Te.data});break;case"pusher:ping":this.emit("ping");break;case"pusher:pong":this.emit("pong");break}this.emit("message",Te)}},activity:()=>{this.emit("activity")},error:Ne=>{this.emit("error",Ne)},closed:Ne=>{ne(),Ne&&Ne.code&&this.handleCloseEvent(Ne),this.transport=null,this.emit("closed")}},ne=()=>{me(I,(Ne,Te)=>{this.transport.unbind(Te,Ne)})};me(I,(Ne,Te)=>{this.transport.bind(Te,Ne)})}handleCloseEvent(I){var ne=Er.getCloseAction(I),Ne=Er.getCloseError(I);Ne&&this.emit("error",Ne),ne&&this.emit(ne,{action:ne,error:Ne})}}class so{constructor(I,ne){this.transport=I,this.callback=ne,this.bindListeners()}close(){this.unbindListeners(),this.transport.close()}bindListeners(){this.onMessage=I=>{this.unbindListeners();var ne;try{ne=Er.processHandshake(I)}catch(Ne){this.finish("error",{error:Ne}),this.transport.close();return}ne.action==="connected"?this.finish("connected",{connection:new to(ne.id,this.transport),activityTimeout:ne.activityTimeout}):(this.finish(ne.action,{error:ne.error}),this.transport.close())},this.onClosed=I=>{this.unbindListeners();var ne=Er.getCloseAction(I)||"backoff",Ne=Er.getCloseError(I);this.finish(ne,{error:Ne})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)}unbindListeners(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)}finish(I,ne){this.callback(ge({transport:this.transport,action:I},ne))}}class Qo{constructor(I,ne){this.timeline=I,this.options=ne||{}}send(I,ne){this.timeline.isEmpty()||this.timeline.send(Lt.TimelineTransport.getAgent(this,I),ne)}}class wa extends Cs{constructor(I,ne){super(function(Ne,Te){Re.debug("No callbacks on "+I+" for "+Ne)}),this.name=I,this.pusher=ne,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}authorize(I,ne){return ne(null,{auth:""})}trigger(I,ne){if(I.indexOf("client-")!==0)throw new j("Event '"+I+"' does not start with 'client-'");if(!this.subscribed){var Ne=v.buildLogSuffix("triggeringClientEvents");Re.warn(`Client event triggered before channel 'subscription_succeeded' event . ${Ne}`)}return this.pusher.send_event(I,ne,this.name)}disconnect(){this.subscribed=!1,this.subscriptionPending=!1}handleEvent(I){var ne=I.event,Ne=I.data;if(ne==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(I);else if(ne==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(I);else if(ne.indexOf("pusher_internal:")!==0){var Te={};this.emit(ne,Ne,Te)}}handleSubscriptionSucceededEvent(I){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",I.data)}handleSubscriptionCountEvent(I){I.data.subscription_count&&(this.subscriptionCount=I.data.subscription_count),this.emit("pusher:subscription_count",I.data)}subscribe(){this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(I,ne)=>{I?(this.subscriptionPending=!1,Re.error(I.toString()),this.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:I.message},I instanceof z?{status:I.status}:{}))):this.pusher.send_event("pusher:subscribe",{auth:ne.auth,channel_data:ne.channel_data,channel:this.name})}))}unsubscribe(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})}cancelSubscription(){this.subscriptionCancelled=!0}reinstateSubscription(){this.subscriptionCancelled=!1}}class Ya extends wa{authorize(I,ne){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:I},ne)}}class fc{constructor(){this.reset()}get(I){return Object.prototype.hasOwnProperty.call(this.members,I)?{id:I,info:this.members[I]}:null}each(I){me(this.members,(ne,Ne)=>{I(this.get(Ne))})}setMyID(I){this.myID=I}onSubscription(I){this.members=I.presence.hash,this.count=I.presence.count,this.me=this.get(this.myID)}addMember(I){return this.get(I.user_id)===null&&this.count++,this.members[I.user_id]=I.user_info,this.get(I.user_id)}removeMember(I){var ne=this.get(I.user_id);return ne&&(delete this.members[I.user_id],this.count--),ne}reset(){this.members={},this.count=0,this.myID=null,this.me=null}}var xi=function(ie,I,ne,Ne){function Te(Xe){return Xe instanceof ne?Xe:new ne(function(dt){dt(Xe)})}return new(ne||(ne=Promise))(function(Xe,dt){function vt(hs){try{as(Ne.next(hs))}catch(mr){dt(mr)}}function Wt(hs){try{as(Ne.throw(hs))}catch(mr){dt(mr)}}function as(hs){hs.done?Xe(hs.value):Te(hs.value).then(vt,Wt)}as((Ne=Ne.apply(ie,I||[])).next())})};class ea extends Ya{constructor(I,ne){super(I,ne),this.members=new fc}authorize(I,ne){super.authorize(I,(Ne,Te)=>xi(this,void 0,void 0,function*(){if(!Ne)if(Te=Te,Te.channel_data!=null){var Xe=JSON.parse(Te.channel_data);this.members.setMyID(Xe.user_id)}else if(yield this.pusher.user.signinDonePromise,this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else{let dt=v.buildLogSuffix("authorizationEndpoint");Re.error(`Invalid auth response for channel '${this.name}', expected 'channel_data' field. ${dt}, or the user should be signed in.`),ne("Invalid auth response");return}ne(Ne,Te)}))}handleEvent(I){var ne=I.event;if(ne.indexOf("pusher_internal:")===0)this.handleInternalEvent(I);else{var Ne=I.data,Te={};I.user_id&&(Te.user_id=I.user_id),this.emit(ne,Ne,Te)}}handleInternalEvent(I){var ne=I.event,Ne=I.data;switch(ne){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(I);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(I);break;case"pusher_internal:member_added":var Te=this.members.addMember(Ne);this.emit("pusher:member_added",Te);break;case"pusher_internal:member_removed":var Xe=this.members.removeMember(Ne);Xe&&this.emit("pusher:member_removed",Xe);break}}handleSubscriptionSucceededEvent(I){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(I.data),this.emit("pusher:subscription_succeeded",this.members))}disconnect(){this.members.reset(),super.disconnect()}}var yi=a(1),ta=a(0);class Os extends Ya{constructor(I,ne,Ne){super(I,ne),this.key=null,this.nacl=Ne}authorize(I,ne){super.authorize(I,(Ne,Te)=>{if(Ne){ne(Ne,Te);return}let Xe=Te.shared_secret;if(!Xe){ne(new Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`),null);return}this.key=Object(ta.decode)(Xe),delete Te.shared_secret,ne(null,Te)})}trigger(I,ne){throw new C("Client events are not currently supported for encrypted channels")}handleEvent(I){var ne=I.event,Ne=I.data;if(ne.indexOf("pusher_internal:")===0||ne.indexOf("pusher:")===0){super.handleEvent(I);return}this.handleEncryptedEvent(ne,Ne)}handleEncryptedEvent(I,ne){if(!this.key){Re.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!ne.ciphertext||!ne.nonce){Re.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+ne);return}let Ne=Object(ta.decode)(ne.ciphertext);if(Ne.length<this.nacl.secretbox.overheadLength){Re.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${Ne.length}`);return}let Te=Object(ta.decode)(ne.nonce);if(Te.length<this.nacl.secretbox.nonceLength){Re.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${Te.length}`);return}let Xe=this.nacl.secretbox.open(Ne,Te,this.key);if(Xe===null){Re.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,(dt,vt)=>{if(dt){Re.error(`Failed to make a request to the authEndpoint: ${vt}. Unable to fetch new key, so dropping encrypted event`);return}if(Xe=this.nacl.secretbox.open(Ne,Te,this.key),Xe===null){Re.error("Failed to decrypt event with new key. Dropping encrypted event");return}this.emit(I,this.getDataToEmit(Xe))});return}this.emit(I,this.getDataToEmit(Xe))}getDataToEmit(I){let ne=Object(yi.decode)(I);try{return JSON.parse(ne)}catch{return ne}}}class Jo extends Cs{constructor(I,ne){super(),this.state="initialized",this.connection=null,this.key=I,this.options=ne,this.timeline=this.options.timeline,this.usingTLS=this.options.useTLS,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var Ne=Lt.getNetwork();Ne.bind("online",()=>{this.timeline.info({netinfo:"online"}),(this.state==="connecting"||this.state==="unavailable")&&this.retryIn(0)}),Ne.bind("offline",()=>{this.timeline.info({netinfo:"offline"}),this.connection&&this.sendActivityCheck()}),this.updateStrategy()}connect(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}}send(I){return this.connection?this.connection.send(I):!1}send_event(I,ne,Ne){return this.connection?this.connection.send_event(I,ne,Ne):!1}disconnect(){this.disconnectInternally(),this.updateState("disconnected")}isUsingTLS(){return this.usingTLS}startConnecting(){var I=(ne,Ne)=>{ne?this.runner=this.strategy.connect(0,I):Ne.action==="error"?(this.emit("error",{type:"HandshakeError",error:Ne.error}),this.timeline.error({handshakeError:Ne.error})):(this.abortConnecting(),this.handshakeCallbacks[Ne.action](Ne))};this.runner=this.strategy.connect(0,I)}abortConnecting(){this.runner&&(this.runner.abort(),this.runner=null)}disconnectInternally(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var I=this.abandonConnection();I.close()}}updateStrategy(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})}retryIn(I){this.timeline.info({action:"retry",delay:I}),I>0&&this.emit("connecting_in",Math.round(I/1e3)),this.retryTimer=new Y(I||0,()=>{this.disconnectInternally(),this.connect()})}clearRetryTimer(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)}setUnavailableTimer(){this.unavailableTimer=new Y(this.options.unavailableTimeout,()=>{this.updateState("unavailable")})}clearUnavailableTimer(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()}sendActivityCheck(){this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new Y(this.options.pongTimeout,()=>{this.timeline.error({pong_timed_out:this.options.pongTimeout}),this.retryIn(0)})}resetActivityCheck(){this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new Y(this.activityTimeout,()=>{this.sendActivityCheck()}))}stopActivityCheck(){this.activityTimer&&this.activityTimer.ensureAborted()}buildConnectionCallbacks(I){return ge({},I,{message:ne=>{this.resetActivityCheck(),this.emit("message",ne)},ping:()=>{this.send_event("pusher:pong",{})},activity:()=>{this.resetActivityCheck()},error:ne=>{this.emit("error",ne)},closed:()=>{this.abandonConnection(),this.shouldRetry()&&this.retryIn(1e3)}})}buildHandshakeCallbacks(I){return ge({},I,{connected:ne=>{this.activityTimeout=Math.min(this.options.activityTimeout,ne.activityTimeout,ne.connection.activityTimeout||1/0),this.clearUnavailableTimer(),this.setConnection(ne.connection),this.socket_id=this.connection.id,this.updateState("connected",{socket_id:this.socket_id})}})}buildErrorCallbacks(){let I=ne=>Ne=>{Ne.error&&this.emit("error",{type:"WebSocketError",error:Ne.error}),ne(Ne)};return{tls_only:I(()=>{this.usingTLS=!0,this.updateStrategy(),this.retryIn(0)}),refused:I(()=>{this.disconnect()}),backoff:I(()=>{this.retryIn(1e3)}),retry:I(()=>{this.retryIn(0)})}}setConnection(I){this.connection=I;for(var ne in this.connectionCallbacks)this.connection.bind(ne,this.connectionCallbacks[ne]);this.resetActivityCheck()}abandonConnection(){if(this.connection){this.stopActivityCheck();for(var I in this.connectionCallbacks)this.connection.unbind(I,this.connectionCallbacks[I]);var ne=this.connection;return this.connection=null,ne}}updateState(I,ne){var Ne=this.state;if(this.state=I,Ne!==I){var Te=I;Te==="connected"&&(Te+=" with new socket ID "+ne.socket_id),Re.debug("State changed",Ne+" -> "+Te),this.timeline.info({state:I,params:ne}),this.emit("state_change",{previous:Ne,current:I}),this.emit(I,ne)}}shouldRetry(){return this.state==="connecting"||this.state==="connected"}}class mc{constructor(){this.channels={}}add(I,ne){return this.channels[I]||(this.channels[I]=ja(I,ne)),this.channels[I]}all(){return te(this.channels)}find(I){return this.channels[I]}remove(I){var ne=this.channels[I];return delete this.channels[I],ne}disconnect(){me(this.channels,function(I){I.disconnect()})}}function ja(ie,I){if(ie.indexOf("private-encrypted-")===0){if(I.config.nacl)return Mn.createEncryptedChannel(ie,I,I.config.nacl);let ne="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",Ne=v.buildLogSuffix("encryptedChannelSupport");throw new C(`${ne}. ${Ne}`)}else{if(ie.indexOf("private-")===0)return Mn.createPrivateChannel(ie,I);if(ie.indexOf("presence-")===0)return Mn.createPresenceChannel(ie,I);if(ie.indexOf("#")===0)throw new b('Cannot create a channel with name "'+ie+'".');return Mn.createChannel(ie,I)}}var Sn={createChannels(){return new mc},createConnectionManager(ie,I){return new Jo(ie,I)},createChannel(ie,I){return new wa(ie,I)},createPrivateChannel(ie,I){return new Ya(ie,I)},createPresenceChannel(ie,I){return new ea(ie,I)},createEncryptedChannel(ie,I,ne){return new Os(ie,I,ne)},createTimelineSender(ie,I){return new Qo(ie,I)},createHandshake(ie,I){return new so(ie,I)},createAssistantToTheTransportManager(ie,I,ne){return new jr(ie,I,ne)}},Mn=Sn;class el{constructor(I){this.options=I||{},this.livesLeft=this.options.lives||1/0}getAssistant(I){return Mn.createAssistantToTheTransportManager(this,I,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})}isAlive(){return this.livesLeft>0}reportDeath(){this.livesLeft-=1}}class sa{constructor(I,ne){this.strategies=I,this.loop=!!ne.loop,this.failFast=!!ne.failFast,this.timeout=ne.timeout,this.timeoutLimit=ne.timeoutLimit}isSupported(){return P(this.strategies,be.method("isSupported"))}connect(I,ne){var Ne=this.strategies,Te=0,Xe=this.timeout,dt=null,vt=(Wt,as)=>{as?ne(null,as):(Te=Te+1,this.loop&&(Te=Te%Ne.length),Te<Ne.length?(Xe&&(Xe=Xe*2,this.timeoutLimit&&(Xe=Math.min(Xe,this.timeoutLimit))),dt=this.tryStrategy(Ne[Te],I,{timeout:Xe,failFast:this.failFast},vt)):ne(!0))};return dt=this.tryStrategy(Ne[Te],I,{timeout:Xe,failFast:this.failFast},vt),{abort:function(){dt.abort()},forceMinPriority:function(Wt){I=Wt,dt&&dt.forceMinPriority(Wt)}}}tryStrategy(I,ne,Ne,Te){var Xe=null,dt=null;return Ne.timeout>0&&(Xe=new Y(Ne.timeout,function(){dt.abort(),Te(!0)})),dt=I.connect(ne,function(vt,Wt){vt&&Xe&&Xe.isRunning()&&!Ne.failFast||(Xe&&Xe.ensureAborted(),Te(vt,Wt))}),{abort:function(){Xe&&Xe.ensureAborted(),dt.abort()},forceMinPriority:function(vt){dt.forceMinPriority(vt)}}}}class ra{constructor(I){this.strategies=I}isSupported(){return P(this.strategies,be.method("isSupported"))}connect(I,ne){return ro(this.strategies,I,function(Ne,Te){return function(Xe,dt){if(Te[Ne].error=Xe,Xe){no(Te)&&ne(!0);return}ee(Te,function(vt){vt.forceMinPriority(dt.transport.priority)}),ne(null,dt)}})}}function ro(ie,I,ne){var Ne=Ce(ie,function(Te,Xe,dt,vt){return Te.connect(I,ne(Xe,vt))});return{abort:function(){ee(Ne,Pn)},forceMinPriority:function(Te){ee(Ne,function(Xe){Xe.forceMinPriority(Te)})}}}function no(ie){return G(ie,function(I){return!!I.error})}function Pn(ie){!ie.error&&!ie.aborted&&(ie.abort(),ie.aborted=!0)}class Xr{constructor(I,ne,Ne){this.strategy=I,this.transports=ne,this.ttl=Ne.ttl||1800*1e3,this.usingTLS=Ne.useTLS,this.timeline=Ne.timeline}isSupported(){return this.strategy.isSupported()}connect(I,ne){var Ne=this.usingTLS,Te=Sh(Ne),Xe=Te&&Te.cacheSkipCount?Te.cacheSkipCount:0,dt=[this.strategy];if(Te&&Te.timestamp+this.ttl>=be.now()){var vt=this.transports[Te.transport];vt&&(["ws","wss"].includes(Te.transport)||Xe>3?(this.timeline.info({cached:!0,transport:Te.transport,latency:Te.latency}),dt.push(new sa([vt],{timeout:Te.latency*2+1e3,failFast:!0}))):Xe++)}var Wt=be.now(),as=dt.pop().connect(I,function hs(mr,wc){mr?(tl(Ne),dt.length>0?(Wt=be.now(),as=dt.pop().connect(I,hs)):ne(mr)):(pc(Ne,wc.transport.name,be.now()-Wt,Xe),ne(null,wc))});return{abort:function(){as.abort()},forceMinPriority:function(hs){I=hs,as&&as.forceMinPriority(hs)}}}}function ao(ie){return"pusherTransport"+(ie?"TLS":"NonTLS")}function Sh(ie){var I=Lt.getLocalStorage();if(I)try{var ne=I[ao(ie)];if(ne)return JSON.parse(ne)}catch{tl(ie)}return null}function pc(ie,I,ne,Ne){var Te=Lt.getLocalStorage();if(Te)try{Te[ao(ie)]=xe({timestamp:be.now(),transport:I,latency:ne,cacheSkipCount:Ne})}catch{}}function tl(ie){var I=Lt.getLocalStorage();if(I)try{delete I[ao(ie)]}catch{}}class Ka{constructor(I,{delay:ne}){this.strategy=I,this.options={delay:ne}}isSupported(){return this.strategy.isSupported()}connect(I,ne){var Ne=this.strategy,Te,Xe=new Y(this.options.delay,function(){Te=Ne.connect(I,ne)});return{abort:function(){Xe.ensureAborted(),Te&&Te.abort()},forceMinPriority:function(dt){I=dt,Te&&Te.forceMinPriority(dt)}}}}class bi{constructor(I,ne,Ne){this.test=I,this.trueBranch=ne,this.falseBranch=Ne}isSupported(){var I=this.test()?this.trueBranch:this.falseBranch;return I.isSupported()}connect(I,ne){var Ne=this.test()?this.trueBranch:this.falseBranch;return Ne.connect(I,ne)}}class Tr{constructor(I){this.strategy=I}isSupported(){return this.strategy.isSupported()}connect(I,ne){var Ne=this.strategy.connect(I,function(Te,Xe){Xe&&Ne.abort(),ne(Te,Xe)});return Ne}}function Xa(ie){return function(){return ie.isSupported()}}var gc=function(ie,I,ne){var Ne={};function Te(jc,yp,bp,Fh,Bh){var Ih=ne(ie,jc,yp,bp,Fh,Bh);return Ne[jc]=Ih,Ih}var Xe=Object.assign({},I,{hostNonTLS:ie.wsHost+":"+ie.wsPort,hostTLS:ie.wsHost+":"+ie.wssPort,httpPath:ie.wsPath}),dt=Object.assign({},Xe,{useTLS:!0}),vt=Object.assign({},I,{hostNonTLS:ie.httpHost+":"+ie.httpPort,hostTLS:ie.httpHost+":"+ie.httpsPort,httpPath:ie.httpPath}),Wt={loop:!0,timeout:15e3,timeoutLimit:6e4},as=new el({minPingDelay:1e4,maxPingDelay:ie.activityTimeout}),hs=new el({lives:2,minPingDelay:1e4,maxPingDelay:ie.activityTimeout}),mr=Te("ws","ws",3,Xe,as),wc=Te("wss","ws",3,dt,as),pp=Te("sockjs","sockjs",1,vt),Dh=Te("xhr_streaming","xhr_streaming",1,vt,hs),gp=Te("xdr_streaming","xdr_streaming",1,vt,hs),Mh=Te("xhr_polling","xhr_polling",1,vt),cl=Te("xdr_polling","xdr_polling",1,vt),xp=new sa([mr],Wt),Vy=new sa([wc],Wt),Hy=new sa([pp],Wt),Ph=new sa([new bi(Xa(Dh),Dh,gp)],Wt),Oh=new sa([new bi(Xa(Mh),Mh,cl)],Wt),dl=new sa([new bi(Xa(Ph),new ra([Ph,new Ka(Oh,{delay:4e3})]),Oh)],Wt),lo=new bi(Xa(dl),dl,Hy),Lh;return I.useTLS?Lh=new ra([xp,new Ka(lo,{delay:2e3})]):Lh=new ra([xp,new Ka(Vy,{delay:2e3}),new Ka(lo,{delay:5e3})]),new Xr(new Tr(new bi(Xa(mr),Lh,lo)),Ne,{ttl:18e5,timeline:I.timeline,useTLS:I.useTLS})},xc=gc,vi=(function(){var ie=this;ie.timeline.info(ie.buildTimelineMessage({transport:ie.name+(ie.options.useTLS?"s":"")})),ie.hooks.isInitialized()?ie.changeState("initialized"):ie.hooks.file?(ie.changeState("initializing"),f.load(ie.hooks.file,{useTLS:ie.options.useTLS},function(I,ne){ie.hooks.isInitialized()?(ie.changeState("initialized"),ne(!0)):(I&&ie.onError(I),ie.onClose(),ne(!1))})):ie.onClose()}),Od={getRequest:function(ie){var I=new window.XDomainRequest;return I.ontimeout=function(){ie.emit("error",new N),ie.close()},I.onerror=function(ne){ie.emit("error",ne),ie.close()},I.onprogress=function(){I.responseText&&I.responseText.length>0&&ie.onChunk(200,I.responseText)},I.onload=function(){I.responseText&&I.responseText.length>0&&ie.onChunk(200,I.responseText),ie.emit("finished",200),ie.close()},I},abortRequest:function(ie){ie.ontimeout=ie.onerror=ie.onprogress=ie.onload=null,ie.abort()}},Ld=Od;const wi=256*1024;class Ch extends Cs{constructor(I,ne,Ne){super(),this.hooks=I,this.method=ne,this.url=Ne}start(I){this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=()=>{this.close()},Lt.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(I)}close(){this.unloader&&(Lt.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)}onChunk(I,ne){for(;;){var Ne=this.advanceBuffer(ne);if(Ne)this.emit("chunk",{status:I,data:Ne});else break}this.isBufferTooLong(ne)&&this.emit("buffer_too_long")}advanceBuffer(I){var ne=I.slice(this.position),Ne=ne.indexOf(`
`);return Ne!==-1?(this.position+=Ne+1,ne.slice(0,Ne)):null}isBufferTooLong(I){return this.position===I.length&&I.length>wi}}var sl;(function(ie){ie[ie.CONNECTING=0]="CONNECTING",ie[ie.OPEN=1]="OPEN",ie[ie.CLOSED=3]="CLOSED"})(sl||(sl={}));var _a=sl,yc=1;class kh{constructor(I,ne){this.hooks=I,this.session=nl(1e3)+"/"+Za(8),this.location=Ah(ne),this.readyState=_a.CONNECTING,this.openStream()}send(I){return this.sendRaw(JSON.stringify([I]))}ping(){this.hooks.sendHeartbeat(this)}close(I,ne){this.onClose(I,ne,!0)}sendRaw(I){if(this.readyState===_a.OPEN)try{return Lt.createSocketRequest("POST",On(rl(this.location,this.session))).start(I),!0}catch{return!1}else return!1}reconnect(){this.closeStream(),this.openStream()}onClose(I,ne,Ne){this.closeStream(),this.readyState=_a.CLOSED,this.onclose&&this.onclose({code:I,reason:ne,wasClean:Ne})}onChunk(I){if(I.status===200){this.readyState===_a.OPEN&&this.onActivity();var ne,Ne=I.data.slice(0,1);switch(Ne){case"o":ne=JSON.parse(I.data.slice(1)||"{}"),this.onOpen(ne);break;case"a":ne=JSON.parse(I.data.slice(1)||"[]");for(var Te=0;Te<ne.length;Te++)this.onEvent(ne[Te]);break;case"m":ne=JSON.parse(I.data.slice(1)||"null"),this.onEvent(ne);break;case"h":this.hooks.onHeartbeat(this);break;case"c":ne=JSON.parse(I.data.slice(1)||"[]"),this.onClose(ne[0],ne[1],!0);break}}}onOpen(I){this.readyState===_a.CONNECTING?(I&&I.hostname&&(this.location.base=bc(this.location.base,I.hostname)),this.readyState=_a.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)}onEvent(I){this.readyState===_a.OPEN&&this.onmessage&&this.onmessage({data:I})}onActivity(){this.onactivity&&this.onactivity()}onError(I){this.onerror&&this.onerror(I)}openStream(){this.stream=Lt.createSocketRequest("POST",On(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",I=>{this.onChunk(I)}),this.stream.bind("finished",I=>{this.hooks.onFinished(this,I)}),this.stream.bind("buffer_too_long",()=>{this.reconnect()});try{this.stream.start()}catch(I){be.defer(()=>{this.onError(I),this.onClose(1006,"Could not start streaming",!1)})}}closeStream(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)}}function Ah(ie){var I=/([^\?]*)\/*(\??.*)/.exec(ie);return{base:I[1],queryString:I[2]}}function rl(ie,I){return ie.base+"/"+I+"/xhr_send"}function On(ie){var I=ie.indexOf("?")===-1?"?":"&";return ie+I+"t="+ +new Date+"&n="+yc++}function bc(ie,I){var ne=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(ie);return ne[1]+I+ne[3]}function nl(ie){return Lt.randomInt(ie)}function Za(ie){for(var I=[],ne=0;ne<ie;ne++)I.push(nl(32).toString(32));return I.join("")}var ji=kh,Fd={getReceiveURL:function(ie,I){return ie.base+"/"+I+"/xhr_streaming"+ie.queryString},onHeartbeat:function(ie){ie.sendRaw("[]")},sendHeartbeat:function(ie){ie.sendRaw("[]")},onFinished:function(ie,I){ie.onClose(1006,"Connection interrupted ("+I+")",!1)}},_i=Fd,io={getReceiveURL:function(ie,I){return ie.base+"/"+I+"/xhr"+ie.queryString},onHeartbeat:function(){},sendHeartbeat:function(ie){ie.sendRaw("[]")},onFinished:function(ie,I){I===200?ie.reconnect():ie.onClose(1006,"Connection interrupted ("+I+")",!1)}},Ni=io,na={getRequest:function(ie){var I=Lt.getXHRAPI(),ne=new I;return ne.onreadystatechange=ne.onprogress=function(){switch(ne.readyState){case 3:ne.responseText&&ne.responseText.length>0&&ie.onChunk(ne.status,ne.responseText);break;case 4:ne.responseText&&ne.responseText.length>0&&ie.onChunk(ne.status,ne.responseText),ie.emit("finished",ne.status),ie.close();break}},ne},abortRequest:function(ie){ie.onreadystatechange=null,ie.abort()}},vc=na,oo={createStreamingSocket(ie){return this.createSocket(_i,ie)},createPollingSocket(ie){return this.createSocket(Ni,ie)},createSocket(ie,I){return new ji(ie,I)},createXHR(ie,I){return this.createRequest(vc,ie,I)},createRequest(ie,I,ne){return new Ch(ie,I,ne)}},Ln=oo;Ln.createXDR=function(ie,I){return this.createRequest(Ld,ie,I)};var al=Ln,il={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:o,DependenciesReceivers:m,getDefaultStrategy:xc,Transports:gi,transportConnectionInitializer:vi,HTTPFactory:al,TimelineTransport:As,getXHRAPI(){return window.XMLHttpRequest},getWebSocketAPI(){return window.WebSocket||window.MozWebSocket},setup(ie){window.Pusher=ie;var I=()=>{this.onDocumentBody(ie.ready)};window.JSON?I():f.load("json2",{},I)},getDocument(){return document},getProtocol(){return this.getDocument().location.protocol},getAuthorizers(){return{ajax:W,jsonp:Je}},onDocumentBody(ie){document.body?ie():setTimeout(()=>{this.onDocumentBody(ie)},0)},createJSONPRequest(ie,I){return new Nt(ie,I)},createScriptRequest(ie){return new st(ie)},getLocalStorage(){try{return window.localStorage}catch{return}},createXHR(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest(){var ie=this.getXHRAPI();return new ie},createMicrosoftXHR(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork(){return Nn},createWebSocket(ie){var I=this.getWebSocketAPI();return new I(ie)},createSocketRequest(ie,I){if(this.isXHRSupported())return this.HTTPFactory.createXHR(ie,I);if(this.isXDRSupported(I.indexOf("https:")===0))return this.HTTPFactory.createXDR(ie,I);throw"Cross-origin HTTP requests are not supported"},isXHRSupported(){var ie=this.getXHRAPI();return!!ie&&new ie().withCredentials!==void 0},isXDRSupported(ie){var I=ie?"https:":"http:",ne=this.getProtocol();return!!window.XDomainRequest&&ne===I},addUnloadListener(ie){window.addEventListener!==void 0?window.addEventListener("unload",ie,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",ie)},removeUnloadListener(ie){window.addEventListener!==void 0?window.removeEventListener("unload",ie,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",ie)},randomInt(ie){return Math.floor(function(){return(window.crypto||window.msCrypto).getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32)}()*ie)}},Lt=il,Fn;(function(ie){ie[ie.ERROR=3]="ERROR",ie[ie.INFO=6]="INFO",ie[ie.DEBUG=7]="DEBUG"})(Fn||(Fn={}));var Na=Fn;class Bd{constructor(I,ne,Ne){this.key=I,this.session=ne,this.events=[],this.options=Ne||{},this.sent=0,this.uniqueID=0}log(I,ne){I<=this.options.level&&(this.events.push(ge({},ne,{timestamp:be.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())}error(I){this.log(Na.ERROR,I)}info(I){this.log(Na.INFO,I)}debug(I){this.log(Na.DEBUG,I)}isEmpty(){return this.events.length===0}send(I,ne){var Ne=ge({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],I(Ne,(Te,Xe)=>{Te||this.sent++,ne&&ne(Te,Xe)}),!0}generateUniqueID(){return this.uniqueID++,this.uniqueID}}class Zr{constructor(I,ne,Ne,Te){this.name=I,this.priority=ne,this.transport=Ne,this.options=Te||{}}isSupported(){return this.transport.isSupported({useTLS:this.options.useTLS})}connect(I,ne){if(this.isSupported()){if(this.priority<I)return Sa(new k,ne)}else return Sa(new E,ne);var Ne=!1,Te=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),Xe=null,dt=function(){Te.unbind("initialized",dt),Te.connect()},vt=function(){Xe=Mn.createHandshake(Te,function(mr){Ne=!0,hs(),ne(null,mr)})},Wt=function(mr){hs(),ne(mr)},as=function(){hs();var mr;mr=xe(Te),ne(new S(mr))},hs=function(){Te.unbind("initialized",dt),Te.unbind("open",vt),Te.unbind("error",Wt),Te.unbind("closed",as)};return Te.bind("initialized",dt),Te.bind("open",vt),Te.bind("error",Wt),Te.bind("closed",as),Te.initialize(),{abort:()=>{Ne||(hs(),Xe?Xe.close():Te.close())},forceMinPriority:mr=>{Ne||this.priority<mr&&(Xe?Xe.close():Te.close())}}}}function Sa(ie,I){return be.defer(function(){I(ie)}),{abort:function(){},forceMinPriority:function(){}}}const{Transports:ae}=Lt;var Ae=function(ie,I,ne,Ne,Te,Xe){var dt=ae[ne];if(!dt)throw new B(ne);var vt=(!ie.enabledTransports||H(ie.enabledTransports,I)!==-1)&&(!ie.disabledTransports||H(ie.disabledTransports,I)===-1),Wt;return vt?(Te=Object.assign({ignoreNullOrigin:ie.ignoreNullOrigin},Te),Wt=new Zr(I,Ne,Xe?Xe.getAssistant(dt):dt,Te)):Wt=gt,Wt},gt={isSupported:function(){return!1},connect:function(ie,I){var ne=be.defer(function(){I(new E)});return{abort:function(){ne.ensureAborted()},forceMinPriority:function(){}}}};function vs(ie){if(ie==null)throw"You must pass an options object";if(ie.cluster==null)throw"Options object must provide a cluster";"disableStats"in ie&&Re.warn("The disableStats option is deprecated in favor of enableStats")}const Rr=(ie,I)=>{var ne="socket_id="+encodeURIComponent(ie.socketId);for(var Ne in I.params)ne+="&"+encodeURIComponent(Ne)+"="+encodeURIComponent(I.params[Ne]);if(I.paramsProvider!=null){let Te=I.paramsProvider();for(var Ne in Te)ne+="&"+encodeURIComponent(Ne)+"="+encodeURIComponent(Te[Ne])}return ne};var Qa=ie=>{if(typeof Lt.getAuthorizers()[ie.transport]>"u")throw`'${ie.transport}' is not a recognized auth transport`;return(I,ne)=>{const Ne=Rr(I,ie);Lt.getAuthorizers()[ie.transport](Lt,Ne,ie,w.UserAuthentication,ne)}};const Ca=(ie,I)=>{var ne="socket_id="+encodeURIComponent(ie.socketId);ne+="&channel_name="+encodeURIComponent(ie.channelName);for(var Ne in I.params)ne+="&"+encodeURIComponent(Ne)+"="+encodeURIComponent(I.params[Ne]);if(I.paramsProvider!=null){let Te=I.paramsProvider();for(var Ne in Te)ne+="&"+encodeURIComponent(Ne)+"="+encodeURIComponent(Te[Ne])}return ne};var ll=ie=>{if(typeof Lt.getAuthorizers()[ie.transport]>"u")throw`'${ie.transport}' is not a recognized auth transport`;return(I,ne)=>{const Ne=Ca(I,ie);Lt.getAuthorizers()[ie.transport](Lt,Ne,ie,w.ChannelAuthorization,ne)}};const Dy=(ie,I,ne)=>{const Ne={authTransport:I.transport,authEndpoint:I.endpoint,auth:{params:I.params,headers:I.headers}};return(Te,Xe)=>{const dt=ie.channel(Te.channelName);ne(dt,Ne).authorize(Te.socketId,Xe)}};function Eh(ie,I){let ne={activityTimeout:ie.activityTimeout||d.activityTimeout,cluster:ie.cluster,httpPath:ie.httpPath||d.httpPath,httpPort:ie.httpPort||d.httpPort,httpsPort:ie.httpsPort||d.httpsPort,pongTimeout:ie.pongTimeout||d.pongTimeout,statsHost:ie.statsHost||d.stats_host,unavailableTimeout:ie.unavailableTimeout||d.unavailableTimeout,wsPath:ie.wsPath||d.wsPath,wsPort:ie.wsPort||d.wsPort,wssPort:ie.wssPort||d.wssPort,enableStats:Fy(ie),httpHost:My(ie),useTLS:Ly(ie),wsHost:Py(ie),userAuthenticator:fp(ie),channelAuthorizer:Iy(ie,I)};return"disabledTransports"in ie&&(ne.disabledTransports=ie.disabledTransports),"enabledTransports"in ie&&(ne.enabledTransports=ie.enabledTransports),"ignoreNullOrigin"in ie&&(ne.ignoreNullOrigin=ie.ignoreNullOrigin),"timelineParams"in ie&&(ne.timelineParams=ie.timelineParams),"nacl"in ie&&(ne.nacl=ie.nacl),ne}function My(ie){return ie.httpHost?ie.httpHost:ie.cluster?`sockjs-${ie.cluster}.pusher.com`:d.httpHost}function Py(ie){return ie.wsHost?ie.wsHost:Oy(ie.cluster)}function Oy(ie){return`ws-${ie}.pusher.com`}function Ly(ie){return Lt.getProtocol()==="https:"?!0:ie.forceTLS!==!1}function Fy(ie){return"enableStats"in ie?ie.enableStats:"disableStats"in ie?!ie.disableStats:!1}function fp(ie){const I=Object.assign(Object.assign({},d.userAuthentication),ie.userAuthentication);return"customHandler"in I&&I.customHandler!=null?I.customHandler:Qa(I)}function By(ie,I){let ne;return"channelAuthorization"in ie?ne=Object.assign(Object.assign({},d.channelAuthorization),ie.channelAuthorization):(ne={transport:ie.authTransport||d.authTransport,endpoint:ie.authEndpoint||d.authEndpoint},"auth"in ie&&("params"in ie.auth&&(ne.params=ie.auth.params),"headers"in ie.auth&&(ne.headers=ie.auth.headers)),"authorizer"in ie&&(ne.customHandler=Dy(I,ne,ie.authorizer))),ne}function Iy(ie,I){const ne=By(ie,I);return"customHandler"in ne&&ne.customHandler!=null?ne.customHandler:ll(ne)}class zy extends Cs{constructor(I){super(function(ne,Ne){Re.debug(`No callbacks on watchlist events for ${ne}`)}),this.pusher=I,this.bindWatchlistInternalEvent()}handleEvent(I){I.data.events.forEach(ne=>{this.emit(ne.name,ne)})}bindWatchlistInternalEvent(){this.pusher.connection.bind("message",I=>{var ne=I.event;ne==="pusher_internal:watchlist_events"&&this.handleEvent(I)})}}function Uy(){let ie,I;return{promise:new Promise((Ne,Te)=>{ie=Ne,I=Te}),resolve:ie,reject:I}}var Th=Uy;class $y extends Cs{constructor(I){super(function(ne,Ne){Re.debug("No callbacks on user for "+ne)}),this.signin_requested=!1,this.user_data=null,this.serverToUserChannel=null,this.signinDonePromise=null,this._signinDoneResolve=null,this._onAuthorize=(ne,Ne)=>{if(ne){Re.warn(`Error during signin: ${ne}`),this._cleanup();return}this.pusher.send_event("pusher:signin",{auth:Ne.auth,user_data:Ne.user_data})},this.pusher=I,this.pusher.connection.bind("state_change",({previous:ne,current:Ne})=>{ne!=="connected"&&Ne==="connected"&&this._signin(),ne==="connected"&&Ne!=="connected"&&(this._cleanup(),this._newSigninPromiseIfNeeded())}),this.watchlist=new zy(I),this.pusher.connection.bind("message",ne=>{var Ne=ne.event;Ne==="pusher:signin_success"&&this._onSigninSuccess(ne.data),this.serverToUserChannel&&this.serverToUserChannel.name===ne.channel&&this.serverToUserChannel.handleEvent(ne)})}signin(){this.signin_requested||(this.signin_requested=!0,this._signin())}_signin(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))}_onSigninSuccess(I){try{this.user_data=JSON.parse(I.user_data)}catch{Re.error(`Failed parsing user data after signin: ${I.user_data}`),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){Re.error(`user_data doesn't contain an id. user_data: ${this.user_data}`),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()}_subscribeChannels(){const I=ne=>{ne.subscriptionPending&&ne.subscriptionCancelled?ne.reinstateSubscription():!ne.subscriptionPending&&this.pusher.connection.state==="connected"&&ne.subscribe()};this.serverToUserChannel=new wa(`#server-to-user-${this.user_data.id}`,this.pusher),this.serverToUserChannel.bind_global((ne,Ne)=>{ne.indexOf("pusher_internal:")===0||ne.indexOf("pusher:")===0||this.emit(ne,Ne)}),I(this.serverToUserChannel)}_cleanup(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()}_newSigninPromiseIfNeeded(){if(!this.signin_requested||this.signinDonePromise&&!this.signinDonePromise.done)return;const{promise:I,resolve:ne}=Th();I.done=!1;const Ne=()=>{I.done=!0};I.then(Ne).catch(Ne),this.signinDonePromise=I,this._signinDoneResolve=ne}}class Vr{static ready(){Vr.isReady=!0;for(var I=0,ne=Vr.instances.length;I<ne;I++)Vr.instances[I].connect()}static getClientFeatures(){return Q(J({ws:Lt.Transports.ws},function(I){return I.isSupported({})}))}constructor(I,ne){mp(I),vs(ne),this.key=I,this.config=Eh(ne,this),this.channels=Mn.createChannels(),this.global_emitter=new Cs,this.sessionID=Lt.randomInt(1e9),this.timeline=new Bd(this.key,this.sessionID,{cluster:this.config.cluster,features:Vr.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:Na.INFO,version:d.VERSION}),this.config.enableStats&&(this.timelineSender=Mn.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+Lt.TimelineTransport.name}));var Ne=Te=>Lt.getDefaultStrategy(this.config,Te,Ae);this.connection=Mn.createConnectionManager(this.key,{getStrategy:Ne,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS}),this.connection.bind("connected",()=>{this.subscribeAll(),this.timelineSender&&this.timelineSender.send(this.connection.isUsingTLS())}),this.connection.bind("message",Te=>{var Xe=Te.event,dt=Xe.indexOf("pusher_internal:")===0;if(Te.channel){var vt=this.channel(Te.channel);vt&&vt.handleEvent(Te)}dt||this.global_emitter.emit(Te.event,Te.data)}),this.connection.bind("connecting",()=>{this.channels.disconnect()}),this.connection.bind("disconnected",()=>{this.channels.disconnect()}),this.connection.bind("error",Te=>{Re.warn(Te)}),Vr.instances.push(this),this.timeline.info({instances:Vr.instances.length}),this.user=new $y(this),Vr.isReady&&this.connect()}channel(I){return this.channels.find(I)}allChannels(){return this.channels.all()}connect(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var I=this.connection.isUsingTLS(),ne=this.timelineSender;this.timelineSenderTimer=new ce(6e4,function(){ne.send(I)})}}disconnect(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)}bind(I,ne,Ne){return this.global_emitter.bind(I,ne,Ne),this}unbind(I,ne,Ne){return this.global_emitter.unbind(I,ne,Ne),this}bind_global(I){return this.global_emitter.bind_global(I),this}unbind_global(I){return this.global_emitter.unbind_global(I),this}unbind_all(I){return this.global_emitter.unbind_all(),this}subscribeAll(){var I;for(I in this.channels.channels)this.channels.channels.hasOwnProperty(I)&&this.subscribe(I)}subscribe(I){var ne=this.channels.add(I,this);return ne.subscriptionPending&&ne.subscriptionCancelled?ne.reinstateSubscription():!ne.subscriptionPending&&this.connection.state==="connected"&&ne.subscribe(),ne}unsubscribe(I){var ne=this.channels.find(I);ne&&ne.subscriptionPending?ne.cancelSubscription():(ne=this.channels.remove(I),ne&&ne.subscribed&&ne.unsubscribe())}send_event(I,ne,Ne){return this.connection.send_event(I,ne,Ne)}shouldUseTLS(){return this.config.useTLS}signin(){this.user.signin()}}Vr.instances=[],Vr.isReady=!1,Vr.logToConsole=!1,Vr.Runtime=Lt,Vr.ScriptReceivers=Lt.ScriptReceivers,Vr.DependenciesReceivers=Lt.DependenciesReceivers,Vr.auth_callbacks=Lt.auth_callbacks;var Rh=n.default=Vr;function mp(ie){if(ie==null)throw"You must pass your app key when you instantiate Pusher."}Lt.setup(Vr)})])})})(b1)),b1.exports}var Cue=Sue();const YF=C0(Cue),ms={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640",tealDim:"rgba(0, 140, 149, 0.1)",limeGreenDim:"rgba(138, 198, 64, 0.1)"};function kue(){const[t,e]=_.useState([]),[r,n]=_.useState(null),[a,i]=_.useState([]),[o,c]=_.useState(""),[d,h]=_.useState(!1),[m,f]=_.useState(!0),[g,y]=_.useState(!1),[v,w]=_.useState(null),[j,b]=_.useState(""),N=_.useRef(null),k=_.useRef(null),S=_.useRef(null),C=_.useRef(null),[B]=_.useState(()=>localStorage.getItem("token"));_.useEffect(()=>{console.log("Token:",B),console.log("API Base:","https://rento-lb.com/api/api")},[]);const E=M=>{const X=M?.created_at??M?.createdAt??M?.data?.created_at??null;return{id:M?.id??M?.data?.id??`rt-${Date.now()}`,booking_id:M?.booking_id??M?.data?.booking_id??r?.id,sender_id:M?.sender_id??M?.data?.sender_id??M?.sender?.id,receiver_id:M?.receiver_id??M?.data?.receiver_id??null,message:M?.message??M?.data?.message??"",read_at:M?.read_at??M?.data?.read_at??null,created_at:X,sender:M?.sender??M?.data?.sender??null}};_.useEffect(()=>{if(!B){console.error("No token found in localStorage"),w("Authentication required. Please log in.");return}window.Pusher=YF,S.current=new GF({broadcaster:"pusher",key:"316e84fa5f5bf1a94b26",cluster:"ap1",forceTLS:!0,encrypted:!0,enabledTransports:["ws","wss"],authEndpoint:"https://rento-lb.com/api/api/broadcasting/auth",auth:{headers:{Authorization:`Bearer ${B}`,Accept:"application/json"}}});const M=S.current.connector.pusher;return M.connection.bind("initialized",()=>console.log("[PUSHER] initialized")),M.connection.bind("connecting",()=>console.log("[PUSHER] connecting...")),M.connection.bind("connected",()=>console.log("[PUSHER]  connected")),M.connection.bind("disconnected",()=>console.log("[PUSHER] disconnected")),M.connection.bind("unavailable",()=>console.log("[PUSHER] unavailable")),M.connection.bind("failed",()=>console.log("[PUSHER]  failed")),M.connection.bind("error",X=>console.error("[PUSHER] error:",X)),console.log("[ECHO] authEndpoint:","https://rento-lb.com/api/api/broadcasting/auth"),console.log("[ECHO] cluster:","ap1"),console.log("[ECHO] key:","316e84fa5f5bf1a94b26"),Oe.get("/profile").then(({data:X})=>{C.current=X.user?.id,console.log("Current user ID:",C.current)}).catch(X=>{console.error("Failed to fetch profile:",X),w("Failed to load user profile")}),()=>{S.current?.disconnect()}},[B]),_.useEffect(()=>{B&&z()},[B]);const z=async()=>{f(!0),w(null);try{const{data:M}=await Oe.get("/driver/bookings");console.log("Bookings response:",M);const $=(M.data||[]).filter(oe=>oe.booking_request_status==="confirmed"||oe.booking_request_status==="accepted");e($)}catch(M){console.error("Failed to fetch bookings:",M),w("Failed to load bookings"),e([])}finally{f(!1)}},T=()=>{const M=N.current;M&&(M.scrollTop=M.scrollHeight)};_.useEffect(()=>{T()},[a]);const W=async M=>{h(!0),w(null);try{const{data:X}=await Oe.get(`/bookings/${M}/chat`),$=X.data?.data||X.data?.messages||[];i($),$.forEach(oe=>{!oe.read_at&&oe.sender_id!==C.current&&L(oe.id)})}catch(X){console.error("Failed to load messages:",X),w("Failed to load messages"),i([])}finally{h(!1)}};_.useEffect(()=>{if(!r?.id||!S.current)return;const M=r.id,X=`private-booking.${M}`;console.log("[ECHO] subscribing to:",X);const $=S.current.connector.pusher,oe=$.subscribe(X);oe.bind("pusher:subscription_succeeded",()=>{console.log("[PUSHER]  subscription_succeeded:",X)}),oe.bind("pusher:subscription_error",ce=>{console.error("[PUSHER]  subscription_error:",X,"status:",ce),console.error("-> If status=403, your /broadcasting/auth or channels.php auth is rejecting the user.")});const q=S.current.private(`booking.${M}`),Y=ce=>{const le=E(ce);i(be=>be.some(V=>String(V.id)===String(le.id))?be:[...be,le]),le.sender_id&&le.sender_id!==C.current&&L(M,le.id)};return q.listen(".message.sent",Y),q.listen("message.sent",Y),q.listen(".message.read",ce=>console.log("[ECHO] message.read:",ce)),W(M),()=>{console.log("[ECHO] leaving:",X),S.current?.leave(`booking.${M}`),$.unsubscribe(X)}},[r?.id]);const U=async M=>{if(M.preventDefault(),!o.trim()||!r)return;const X=o.trim();c("");try{const{data:$}=await Oe.post(`/bookings/${r.id}/chat`,{booking_id:r.id,message:X});$.data&&i(oe=>[...oe,$.data])}catch($){console.error("Failed to send message:",$),w("Failed to send message"),c(X)}},L=async M=>{try{await Oe.post(`/bookings/${r?.id}/chat/mark-read`,{message_id:M})}catch(X){console.error("Failed to mark message as read:",X)}},Z=async()=>{try{if(!t?.length)return;const M=await Promise.all(t.map(async $=>{try{const{data:oe}=await Oe.get(`/bookings/${$.id}/chat/unread-count`),q=oe?.data?.unread_count??oe?.data??oe?.unread_count??0;return{id:$.id,count:Number(q)||0}}catch(oe){return console.error(`Failed unread count for booking ${$.id}:`,oe),{id:$.id,count:0}}})),X=Object.fromEntries(M.map($=>[$.id,$.count]));e($=>$.map(oe=>({...oe,unread_count:X[oe.id]??0})))}catch(M){console.error("Failed to fetch unread counts:",M)}};_.useEffect(()=>{if(B){Z();const M=setInterval(Z,1e4);return()=>clearInterval(M)}},[B]),_.useRef(null);const O=M=>{if(!M)return"";const X=new Date(M);if(Number.isNaN(X.getTime()))return"";const oe=Math.floor((new Date-X)/6e4);if(oe<1)return"Just now";if(oe<60)return`${oe}m ago`;const q=Math.floor(oe/60);if(q<24)return`${q}h ago`;const Y=Math.floor(q/24);return Y<7?`${Y}d ago`:X.toLocaleDateString("en-US",{month:"short",day:"numeric"})},se=M=>{if(!M)return"";const X=new Date(M);return Number.isNaN(X.getTime())?"":X.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},K=t.filter(M=>{if(!j)return!0;const X=j.toLowerCase(),$=`${M.client?.first_name||""} ${M.client?.last_name||""}`.toLowerCase(),oe=`${M.car?.make||""} ${M.car?.model||""}`.toLowerCase();return $.includes(X)||oe.includes(X)});return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-black dark:via-gray-900 dark:to-gray-950 pt-20",children:s.jsxs("div",{className:"container mx-auto px-4 py-6",children:[s.jsx(rt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6",children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center shadow-lg",style:{background:`linear-gradient(135deg, ${ms.teal}, ${ms.darkBlue})`},children:s.jsx(li,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(135deg, ${ms.darkBlue}, ${ms.teal}, ${ms.limeGreen})`},children:"Booking Messages"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Stay connected with your clients"})]})]})}),s.jsx(Go,{children:v&&s.jsx(rt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-4 p-4 rounded-xl border-2",style:{background:"rgba(220, 38, 38, 0.1)",borderColor:"#DC2626"},children:s.jsxs("p",{className:"text-red-800 dark:text-red-200 flex items-center gap-2",children:[s.jsx(tr,{className:"w-5 h-5"}),v]})})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 h-[calc(100vh-180px)]",children:[s.jsxs("div",{className:"lg:col-span-1 bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden flex flex-col border border-gray-200 dark:border-gray-700",children:[s.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"relative",children:[s.jsx(Br,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search conversations...",value:j,onChange:M=>b(M.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 dark:text-white text-sm",style:{focusRing:ms.teal}})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:m?s.jsx("div",{className:"flex justify-center items-center h-full",children:s.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-t-transparent",style:{borderColor:ms.tealDim,borderTopColor:"transparent"}})}):K.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-gray-400",children:[s.jsx(li,{className:"w-16 h-16 mb-3",style:{color:ms.teal,opacity:.3}}),s.jsx("p",{className:"text-center font-medium",children:"No bookings found"}),s.jsx("p",{className:"text-xs text-center mt-1",children:"Try adjusting your search"})]}):K.map(M=>s.jsx(rt.div,{whileHover:{x:5},onClick:()=>n(M),className:`p-4 border-b border-gray-200 dark:border-gray-700 cursor-pointer transition-all ${r?.id===M.id?"border-l-4":"hover:bg-gray-50 dark:hover:bg-gray-700"}`,style:r?.id===M.id?{background:ms.tealDim,borderLeftColor:ms.teal}:{},children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:M.client?.profile_picture?`/api/storage/${M.client.profile_picture}`:"/default-avatar.png",alt:M.client?.first_name||"Client",className:"w-12 h-12 rounded-full object-cover ring-2 ring-white dark:ring-gray-700"}),M.unread_count>0&&s.jsx(rt.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},className:"absolute -top-1 -right-1 w-5 h-5 rounded-full flex items-center justify-center shadow-lg",style:{background:ms.limeGreen},children:s.jsx("span",{className:"text-xs text-white font-bold",children:M.unread_count})})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white truncate flex items-center gap-1",children:[M.client?.first_name||"N/A"," ",M.client?.last_name||"",M.client?.verified_by_admin&&s.jsx(Qn,{className:"w-3 h-3",style:{color:ms.teal}})]}),M.unread_count>0&&s.jsx(An,{className:"w-4 h-4",style:{color:ms.teal}})]}),s.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate flex items-center gap-1",children:[s.jsx(Kt,{className:"w-3 h-3"}),M.car?.make||"N/A"," ",M.car?.model||""]})]})]})},M.id))})]}),s.jsx("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden flex flex-col border border-gray-200 dark:border-gray-700",children:r?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-4 text-white relative overflow-hidden",style:{background:`linear-gradient(135deg, ${ms.darkBlue}, ${ms.teal}, ${ms.limeGreen})`},children:[s.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-white/10 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-white/10 rounded-full blur-2xl"}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:r.client?.profile_picture?`/api/storage/${r.client.profile_picture}`:"/default-avatar.png",alt:r.client?.first_name||"Client",className:"w-12 h-12 rounded-full object-cover border-2 border-white shadow-lg"}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",children:[r.client?.first_name||"N/A"," ",r.client?.last_name||"",r.client?.verified_by_admin&&s.jsx(Qn,{className:"w-4 h-4"})]}),s.jsxs("p",{className:"text-xs opacity-90",children:["@",r.client?.username||"unknown"]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[r.client?.phone_number&&s.jsx(rt.a,{whileHover:{scale:1.1},whileTap:{scale:.9},href:`tel:${r.client.phone_number}`,className:"p-2 bg-white/20 backdrop-blur-sm rounded-xl hover:bg-white/30 transition-colors",children:s.jsx(ui,{className:"w-4 h-4"})}),r.client?.email&&s.jsx(rt.a,{whileHover:{scale:1.1},whileTap:{scale:.9},href:`mailto:${r.client.email}`,className:"p-2 bg-white/20 backdrop-blur-sm rounded-xl hover:bg-white/30 transition-colors",children:s.jsx(za,{className:"w-4 h-4"})})]})]}),s.jsx("div",{className:"p-3 bg-white/10 backdrop-blur-sm rounded-xl",children:s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Kt,{className:"w-4 h-4"}),s.jsxs("span",{className:"truncate",children:[r.car?.make||"N/A"," ",r.car?.model||""]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Hs,{className:"w-4 h-4"}),s.jsx("span",{className:"truncate",children:r.start_datetime?se(r.start_datetime):"N/A"})]})]})})]})]}),s.jsxs("div",{ref:N,className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gradient-to-b from-gray-50/50 to-white dark:from-gray-900/50 dark:to-gray-800",style:{maxHeight:"calc(100vh - 450px)"},children:[d?s.jsx("div",{className:"flex justify-center items-center h-full",children:s.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-t-transparent",style:{borderColor:ms.tealDim,borderTopColor:"transparent"}})}):a.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[s.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mb-4",style:{background:ms.tealDim},children:s.jsx(li,{className:"w-10 h-10",style:{color:ms.teal}})}),s.jsx("p",{className:"text-lg font-medium",children:"No messages yet"}),s.jsx("p",{className:"text-sm",children:"Start the conversation!"})]}):s.jsxs(s.Fragment,{children:[a.map((M,X)=>{const $=M.sender_id===C.current||M.sender?.id===C.current,oe=X===0||a[X-1].sender_id!==M.sender_id;return s.jsxs(rt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex items-end gap-2 ${$?"justify-end":"justify-start"}`,children:[!$&&oe&&s.jsx("img",{src:M.sender?.profile_picture?`/api/storage/${M.sender.profile_picture}`:"/default-avatar.png",alt:M.sender?.first_name||"User",className:"w-8 h-8 rounded-full object-cover ring-2 ring-white dark:ring-gray-700"}),!$&&!oe&&s.jsx("div",{className:"w-8"}),s.jsxs("div",{className:`flex flex-col ${$?"items-end":"items-start"} max-w-[70%]`,children:[s.jsx(rt.div,{whileHover:{scale:1.02},className:`rounded-2xl px-4 py-2 shadow-md ${$?"text-white rounded-br-none":"bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-bl-none border border-gray-200 dark:border-gray-600"}`,style:$?{background:`linear-gradient(135deg, ${ms.teal}, ${ms.darkBlue})`}:{},children:s.jsx("p",{className:"text-sm whitespace-pre-wrap break-words leading-relaxed",children:M.message})}),s.jsxs("div",{className:"flex items-center gap-1 mt-1 px-1",children:[s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:O(M.created_at)}),$&&s.jsx("span",{children:M.read_at?s.jsx(X6,{className:"w-3 h-3",style:{color:ms.teal}}):s.jsx(ga,{className:"w-3 h-3 text-gray-400"})})]})]}),$&&oe&&s.jsx("img",{src:M.sender?.profile_picture?`/api/storage/${M.sender.profile_picture}`:"/default-avatar.png",alt:M.sender?.first_name||"You",className:"w-8 h-8 rounded-full object-cover ring-2 ring-white dark:ring-gray-700"}),$&&!oe&&s.jsx("div",{className:"w-8"})]},M.id)}),s.jsx("div",{ref:k})]}),s.jsx(Go,{children:g&&s.jsxs(rt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"flex items-center gap-2",children:[s.jsx("img",{src:r.client?.profile_picture?`/api/storage/${r.client.profile_picture}`:"/default-avatar.png",alt:r.client?.first_name||"Client",className:"w-8 h-8 rounded-full object-cover ring-2 ring-white dark:ring-gray-700"}),s.jsx("div",{className:"bg-white dark:bg-gray-700 rounded-2xl rounded-bl-none px-4 py-3 border border-gray-200 dark:border-gray-600",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{background:ms.teal,animationDelay:"0ms"}}),s.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{background:ms.darkBlue,animationDelay:"150ms"}}),s.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{background:ms.limeGreen,animationDelay:"300ms"}})]})})]})})]}),s.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsx(rt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>console.log("Attach file"),className:"p-2 rounded-xl transition-colors",style:{background:ms.tealDim,color:ms.teal},children:s.jsx(oM,{className:"w-5 h-5"})}),s.jsx(rt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>console.log("Send emoji"),className:"p-2 rounded-xl transition-colors",style:{background:ms.limeGreenDim,color:ms.limeGreen},children:s.jsx(cM,{className:"w-5 h-5"})}),s.jsx("div",{className:"flex-1 relative",children:s.jsx("textarea",{value:o,onChange:M=>{c(M.target.value)},onKeyPress:M=>{M.key==="Enter"&&!M.shiftKey&&(M.preventDefault(),U(M))},placeholder:"Type your message...",rows:1,className:"w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 dark:bg-gray-700 dark:text-white resize-none",style:{focusRing:ms.teal}})}),s.jsx(rt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:U,disabled:!o.trim(),className:"p-3 rounded-xl text-white font-semibold disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg hover:shadow-xl",style:{background:`linear-gradient(135deg, ${ms.teal}, ${ms.darkBlue})`},children:s.jsx(M0,{className:"w-5 h-5"})})]})})]}):s.jsx("div",{className:"flex-1 flex flex-col items-center justify-center",children:s.jsxs(rt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"text-center",children:[s.jsx("div",{className:"w-24 h-24 rounded-full flex items-center justify-center mb-6 mx-auto",style:{background:`linear-gradient(135deg, ${ms.tealDim}, ${ms.limeGreenDim})`},children:s.jsx(li,{className:"w-12 h-12",style:{color:ms.teal}})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Select a Booking"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Choose a conversation to start chatting"})]})})})]})]})})}const Aue=()=>Oe.get("/bookings/feedback-templates"),Eue=(t,e)=>Oe.post(`/bookings/${t}/client-rating`,{rating:e.rating,template_selections:e.template_selections||[],comment:(e.comment||"").slice(0,1e3)}),Tue=async()=>{const r=((await Oe.get("/driver/bookings")).data?.data||[]).filter(o=>o.booking_request_status==="confirmed"||o.booking_request_status==="completed"),n=r.reduce((o,c)=>o+parseFloat(c.total_booking_price||0),0),a=r.reduce((o,c)=>o+(Number(c.app_fees_amount)||0),0);let i=null;try{const o=await Oe.get("/profile");i=o.data?.user?.agent?.app_fees??o.data?.agent?.app_fees??null}catch{}return{total_amount:n,app_fees_amount:a,net_earnings:n-a,bookings_count:r.length,app_fees_percentage:i}},KF=async()=>{try{return await Oe.get("/owner/earnings")}catch(t){if(t.response?.status===404)return{data:await Tue()};throw t}},Rue=(t={})=>Oe.get("/frequent-searches/statistics",{params:t}),Tt=_.forwardRef(({className:t,...e},r)=>s.jsx("div",{className:"relative w-full overflow-auto",children:s.jsx("table",{ref:r,className:_t("w-full caption-bottom text-sm",t),...e})}));Tt.displayName="Table";const Rt=_.forwardRef(({className:t,...e},r)=>s.jsx("thead",{ref:r,className:_t("[&_tr]:border-b",t),...e}));Rt.displayName="TableHeader";const Dt=_.forwardRef(({className:t,...e},r)=>s.jsx("tbody",{ref:r,className:_t("[&_tr:last-child]:border-0",t),...e}));Dt.displayName="TableBody";const Due=_.forwardRef(({className:t,...e},r)=>s.jsx("tfoot",{ref:r,className:_t("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));Due.displayName="TableFooter";const ze=_.forwardRef(({className:t,...e},r)=>s.jsx("tr",{ref:r,className:_t("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));ze.displayName="TableRow";const _e=_.forwardRef(({className:t,...e},r)=>s.jsx("th",{ref:r,className:_t("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e}));_e.displayName="TableHead";const fe=_.forwardRef(({className:t,...e},r)=>s.jsx("td",{ref:r,className:_t("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...e}));fe.displayName="TableCell";const Mue=_.forwardRef(({className:t,...e},r)=>s.jsx("caption",{ref:r,className:_t("mt-4 text-sm text-muted-foreground",t),...e}));Mue.displayName="TableCaption";const ct={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640",darkBlueDim:"rgba(14, 76, 129, 0.1)",tealDim:"rgba(0, 140, 149, 0.1)",limeGreenDim:"rgba(138, 198, 64, 0.1)"};function Pue(){const[t,e]=_.useState([]),[r,n]=_.useState(!0),[a,i]=_.useState(null),[o,c]=_.useState(!1),[d,h]=_.useState(null),[m,f]=_.useState("list"),[g,y]=_.useState(new Date),[v,w]=_.useState(0),[j,b]=_.useState("all"),[N,k]=_.useState(""),[S,C]=_.useState([]),[B,E]=_.useState(null),[z,T]=_.useState({rating:0,template_selections:[],comment:""}),[W,U]=_.useState(!1),L=async()=>{n(!0);try{const{data:de}=await Oe.get("/driver/bookings");e(de.data||[])}catch(de){console.error("Error fetching bookings:",de),e([]),ve.error("Failed to fetch bookings")}finally{n(!1)}};_.useEffect(()=>{L()},[]),_.useEffect(()=>{(async()=>{try{const{data:he}=await Aue();C(he?.agent_rates_client||[])}catch(he){console.error("Failed to load feedback templates:",he)}})()},[]),_.useEffect(()=>{const de=H();if(de.length>1){const he=setInterval(()=>{w(xe=>(xe+1)%de.length)},5e3);return()=>clearInterval(he)}},[t]);const Z=t.reduce((de,he)=>{const xe=he.car?.id;return xe&&(de[xe]||(de[xe]={car:he.car,bookings:[]}),de[xe].bookings.push(he)),de},{}),O=async de=>{h(de);try{if(await Oe.post(`/driver/bookings/${de}/accept`),await L(),a){const he=t.filter(xe=>xe.car?.id===a.car?.id);i({...a,bookings:he})}ve.success(" Booking accepted successfully!")}catch(he){console.error("Error accepting booking:",he),ve.error("Failed to accept booking")}finally{h(null)}},se=async de=>{if(confirm("Are you sure you want to reject this booking?")){h(de);try{if(await Oe.post(`/driver/bookings/${de}/decline`),await L(),a){const he=t.filter(xe=>xe.car?.id===a.car?.id&&xe.id!==de);he.length===0?M():i({...a,bookings:he})}ve.success("Booking rejected successfully")}catch(he){console.error("Error rejecting booking:",he),ve.error("Failed to reject booking")}finally{h(null)}}},K=de=>{i(de),c(!0)},M=()=>{i(null),c(!1)},X=de=>{const he=de?.booking_request_status,xe=he==="confirmed"||he==="accepted",Me=de?.end_datetime&&new Date(de.end_datetime)<new Date,Re=!de?.client_rating;return!!(xe&&Me&&Re)},$=de=>{E(de),T({rating:0,template_selections:[],comment:""})},oe=()=>{E(null),T({rating:0,template_selections:[],comment:""})},q=de=>{T(he=>({...he,template_selections:he.template_selections.includes(de)?he.template_selections.filter(xe=>xe!==de):[...he.template_selections,de]}))},Y=async()=>{if(!B||z.rating<1||z.rating>5){ve.error("Please select a rating (15 stars).");return}U(!0);try{if(await Eue(B.id,{rating:z.rating,template_selections:z.template_selections,comment:z.comment.slice(0,1e3)}),ve.success("Rating submitted successfully."),oe(),await L(),a?.bookings?.length){const de=a.bookings.map(he=>he.id===B.id?{...he,client_rating:!0}:he);i({...a,bookings:de})}}catch(de){const he=de.response?.data?.message||de.response?.data?.error||de.response?.data?.errors&&Object.values(de.response.data.errors).flat().join(" ")||"Failed to submit rating.";ve.error(he)}finally{U(!1)}},ce=de=>{const he={pending:{label:"Pending",color:ct.teal,bgColor:ct.tealDim,textColor:ct.teal,icon:n_},confirmed:{label:"Confirmed",color:ct.limeGreen,bgColor:ct.limeGreenDim,textColor:ct.limeGreen,icon:Gr},accepted:{label:"Accepted",color:ct.darkBlue,bgColor:ct.darkBlueDim,textColor:ct.darkBlue,icon:ga},rejected:{label:"Rejected",color:"#DC2626",bgColor:"rgba(220, 38, 38, 0.1)",textColor:"#DC2626",icon:Zn},completed:{label:"Completed",color:ct.limeGreen,bgColor:ct.limeGreenDim,textColor:ct.limeGreen,icon:Gr}};return he[de]||he.pending},le=(de,he)=>{const xe=new Date(de),Me=new Date(he),Re=Math.abs(Me-xe);return Math.ceil(Re/(1e3*60*60*24))},be=de=>new Date(de).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),ge=de=>new Date(de).toLocaleDateString("en-US",{month:"short",day:"numeric"}),V=de=>{const he=new Date(de),xe=new Date;return he.toDateString()===xe.toDateString()},H=()=>t.filter(de=>V(de.start_datetime)||V(de.end_datetime)),Q=(()=>{const de=t.length,he=t.filter($e=>$e.booking_request_status==="pending").length,xe=t.filter($e=>$e.booking_request_status==="confirmed"||$e.booking_request_status==="accepted").length,Me=t.filter($e=>$e.booking_request_status==="rejected").length,Re=t.filter($e=>$e.booking_request_status==="confirmed"||$e.booking_request_status==="accepted").reduce(($e,Je)=>$e+parseFloat(Je.total_booking_price||0),0);return{total:de,pending:he,confirmed:xe,rejected:Me,totalRevenue:Re}})(),te=Object.entries(Z).reduce((de,[he,xe])=>{let Me=xe.bookings;return j!=="all"&&(Me=Me.filter(Re=>Re.booking_request_status===j)),N&&(Me=Me.filter(Re=>{const $e=N.toLowerCase(),Je=`${Re.car?.make} ${Re.car?.model}`.toLowerCase().includes($e),st=`${Re.client?.first_name} ${Re.client?.last_name}`.toLowerCase().includes($e),Nt=Re.client?.email?.toLowerCase().includes($e);return Je||st||Nt})),Me.length>0&&(de[he]={...xe,bookings:Me}),de},{}),ee=de=>{const he=de.getFullYear(),xe=de.getMonth(),Me=new Date(he,xe,1),$e=new Date(he,xe+1,0).getDate(),Je=Me.getDay();return{daysInMonth:$e,startingDayOfWeek:Je,year:he,month:xe}},Ce=de=>t.filter(he=>{const xe=new Date(he.start_datetime),Me=new Date(he.end_datetime);return xe.setHours(0,0,0,0),Me.setHours(0,0,0,0),de.setHours(0,0,0,0),de.getTime()===xe.getTime()||de.getTime()===Me.getTime()}),F=()=>{const{daysInMonth:de,startingDayOfWeek:he,year:xe,month:Me}=ee(g),Re=["January","February","March","April","May","June","July","August","September","October","November","December"],$e=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],Je=()=>{y(new Date(g.getFullYear(),g.getMonth()-1))},st=()=>{y(new Date(g.getFullYear(),g.getMonth()+1))},Nt=[];for(let St=0;St<he;St++)Nt.push(s.jsx("div",{className:"aspect-square"},`empty-${St}`));for(let St=1;St<=de;St++){const Ht=new Date(xe,Me,St),As=Ce(Ht),kt=V(Ht.toISOString());Nt.push(s.jsxs(rt.div,{whileHover:{scale:1.05},className:`aspect-square border rounded-xl p-2 transition-all cursor-pointer ${kt?"border-2 shadow-lg":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:shadow-md"}`,style:kt?{background:`linear-gradient(135deg, ${ct.tealDim}, ${ct.limeGreenDim})`,borderColor:ct.teal}:{},onClick:()=>{if(As.length>0){const ds=As.reduce((Ge,Ze)=>{const Ke=Ze.car?.id;return Ge[Ke]||(Ge[Ke]={car:Ze.car,bookings:[]}),Ge[Ke].bookings.push(Ze),Ge},{});K(Object.values(ds)[0])}},children:[s.jsx("div",{className:`text-sm font-bold mb-1 ${kt?"dark:text-gray-800":"text-gray-700 dark:text-gray-300"}`,style:kt?{color:ct.teal}:{},children:St}),As.length>0&&s.jsxs("div",{className:"space-y-1",children:[As.slice(0,2).map(ds=>{const Ge=ce(ds.booking_request_status);return s.jsx("div",{className:"text-xs px-1.5 py-0.5 rounded-md truncate font-medium shadow-sm",style:{background:Ge.bgColor,color:Ge.textColor},children:ds.car?.make},ds.id)}),As.length>2&&s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:["+",As.length-2," more"]})]})]},St))}return s.jsxs(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-5 border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex justify-between items-center mb-5",children:[s.jsxs("h2",{className:"text-2xl font-bold bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(135deg, ${ct.teal}, ${ct.darkBlue})`},children:[Re[Me]," ",xe]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(rt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:Je,className:"p-2 rounded-xl transition-colors",style:{background:ct.tealDim,color:ct.teal},children:s.jsx(ac,{className:"w-5 h-5"})}),s.jsx(rt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:st,className:"p-2 rounded-xl transition-colors",style:{background:ct.tealDim,color:ct.teal},children:s.jsx(An,{className:"w-5 h-5"})})]})]}),s.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[$e.map(St=>s.jsx("div",{className:"text-center font-bold text-sm text-gray-600 dark:text-gray-400 py-2",children:St},St)),Nt]}),s.jsx("div",{className:"flex justify-center gap-6 mt-5 pt-5 border-t border-gray-200 dark:border-gray-700",children:["pending","confirmed","rejected"].map(St=>{const Ht=ce(St);return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded-md shadow-sm",style:{background:Ht.color}}),s.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:Ht.label})]},St)})})]})},Ee=de=>{if(!de.length)return{start:new Date,end:new Date};const he=de.flatMap(Re=>[new Date(Re.start_datetime),new Date(Re.end_datetime)]),xe=new Date(Math.min(...he.map(Re=>Re.getTime()))),Me=new Date(Math.max(...he.map(Re=>Re.getTime())));return xe.setDate(xe.getDate()-2),Me.setDate(Me.getDate()+2),{start:xe,end:Me}},J=({startDate:de,endDate:he})=>{const xe=[],Me=new Date(de);for(;Me<=he;){const Re=V(Me.toISOString());xe.push({date:Me.toLocaleDateString("en-US",{day:"numeric",month:"short"}),day:Me.toLocaleDateString("en-US",{weekday:"short"}),isToday:Re}),Me.setDate(Me.getDate()+1)}return s.jsx("div",{className:"flex border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50",children:xe.map((Re,$e)=>s.jsxs("div",{className:`px-4 py-3 text-sm font-semibold text-center ${Re.isToday,""}`,style:Re.isToday?{background:ct.tealDim,color:ct.teal}:{},children:[s.jsx("div",{className:"font-bold",children:Re.day}),s.jsx("div",{className:"text-xs opacity-80",children:Re.date})]},$e))})},R=({car:de,bookings:he,dateRange:xe,onBookingClick:Me})=>{const{start:Re,end:$e}=xe,Je=Math.ceil(($e-Re)/(1e3*60*60*24));return s.jsxs(rt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center border-b border-gray-200 dark:border-gray-700 py-3 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[s.jsxs("div",{className:"w-56 flex items-center gap-3 px-4",children:[s.jsx("img",{src:de.main_image_url?`/api/storage/${de.main_image_url}`:"/placeholder.png",alt:de.model,className:"w-14 h-10 object-cover rounded-lg shadow-md"}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"font-bold text-gray-900 dark:text-white",children:[de.make," ",de.model]}),s.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center gap-1",children:[s.jsx(Hs,{className:"w-3 h-3"}),he.length," booking",he.length!==1?"s":""]})]})]}),s.jsx("div",{className:"relative flex-1 h-14 px-2",children:he.map(st=>{const Nt=new Date(st.start_datetime),St=new Date(st.end_datetime),Ht=Math.max(0,Math.floor((Nt-Re)/(1e3*60*60*24))),As=Math.max(1,Math.ceil((St-Nt)/(1e3*60*60*24))),kt=ce(st.booking_request_status);return s.jsx(rt.div,{whileHover:{scale:1.05,zIndex:10},className:"absolute h-10 rounded-xl cursor-pointer shadow-lg hover:shadow-xl transition-all flex items-center justify-center text-white text-xs font-semibold",style:{left:`${Ht/Je*100}%`,width:`${As/Je*100}%`,background:kt.color},title:`${st.client?.first_name} ${st.client?.last_name}
${be(st.start_datetime)} - ${be(st.end_datetime)}
Total: $${st.total_booking_price}`,onClick:()=>Me({car:de,bookings:[st]}),children:s.jsx("span",{className:"truncate px-2",children:st.client?.first_name})},st.id)})})]})},P=()=>{const de=Ee(t);return s.jsxs(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden border border-gray-200 dark:border-gray-700",children:[s.jsx(J,{startDate:de.start,endDate:de.end}),s.jsx("div",{className:"max-h-[600px] overflow-y-auto",children:Object.values(Z).map(({car:he,bookings:xe})=>s.jsx(R,{car:he,bookings:xe,dateRange:de,onBookingClick:K},he.id))}),s.jsx("div",{className:"flex justify-center gap-6 p-4 bg-gray-50 dark:bg-gray-900/50 border-t border-gray-200 dark:border-gray-700",children:["pending","confirmed","rejected"].map(he=>{const xe=ce(he);return s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-4 h-4 rounded-md shadow-sm",style:{background:xe.color}}),s.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:xe.label})]},he)})})]})},G=()=>{const de=H();if(de.length===0)return null;const he=de[v],xe=V(he.start_datetime),Me=V(he.end_datetime);return s.jsxs(rt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-5 rounded-2xl shadow-2xl p-5 text-white overflow-hidden relative",style:{background:`linear-gradient(135deg, ${ct.darkBlue}, ${ct.teal}, ${ct.limeGreen})`},children:[s.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/5 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white/5 rounded-full blur-3xl"}),s.jsx("div",{className:"relative z-10",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx(rt.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,repeatDelay:3},className:"p-3 bg-white/20 backdrop-blur-sm rounded-2xl",children:s.jsx(Kx,{className:"w-7 h-7"})}),s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("h3",{className:"text-xl font-bold",children:"Today's Action Required!"}),de.length>1&&s.jsxs("span",{className:"text-xs bg-white/30 backdrop-blur-sm px-3 py-1 rounded-full font-semibold",children:[v+1," of ",de.length]})]}),s.jsx("p",{className:"text-sm opacity-90 mb-4 flex items-center gap-2",children:xe&&Me?s.jsxs(s.Fragment,{children:[s.jsx(um,{className:"w-4 h-4"}),"Booking starts AND ends today"]}):xe?s.jsxs(s.Fragment,{children:[s.jsx(Ux,{className:"w-4 h-4"}),"Booking starts today"]}):s.jsxs(s.Fragment,{children:[s.jsx(Gr,{className:"w-4 h-4"}),"Booking ends today"]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[s.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3 border border-white/20",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:he.car?.main_image_url?`/api/storage/${he.car.main_image_url}`:"/placeholder.png",alt:he.car?.model,className:"w-12 h-12 rounded-lg object-cover border-2 border-white/30 shadow-lg"}),s.jsxs("div",{children:[s.jsxs("div",{className:"font-bold text-lg",children:[he.car?.make," ",he.car?.model]}),s.jsxs("div",{className:"text-xs opacity-80 flex items-center gap-1",children:[s.jsx(Kt,{className:"w-3 h-3"}),he.car?.year,"  ",he.car?.car_category]})]})]})}),s.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3 border border-white/20",children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:he.client?.profile_picture?`/api/storage/${he.client.profile_picture}`:"/default-avatar.png",alt:he.client?.username,className:"w-12 h-12 rounded-full object-cover border-2 border-white/30 shadow-lg"}),s.jsxs("div",{children:[s.jsxs("div",{className:"font-bold text-lg flex items-center gap-1",children:[he.client?.first_name," ",he.client?.last_name,he.client?.verified_by_admin&&s.jsx($E,{className:"w-4 h-4"})]}),s.jsxs("div",{className:"text-xs opacity-80",children:["@",he.client?.username]})]})]})})]}),s.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-sm px-3 py-2 rounded-lg",children:[s.jsx(hh,{className:"w-4 h-4"}),s.jsx("span",{className:"font-medium",children:be(he.start_datetime)})]}),s.jsxs("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-sm px-3 py-2 rounded-lg",children:[s.jsx(cr,{className:"w-4 h-4"}),s.jsxs("span",{className:"font-bold",children:["$",he.total_booking_price]})]}),he.app_fees_amount!=null&&s.jsxs("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-sm px-3 py-2 rounded-lg",children:[s.jsx("span",{className:"opacity-90",children:"App fee:"}),s.jsxs("span",{children:["$",he.app_fees_amount]})]}),s.jsx("div",{className:"px-3 py-1.5 rounded-lg font-semibold text-xs bg-white/20",children:he.booking_request_status.toUpperCase()})]})]})]})}),de.length>1&&s.jsx("div",{className:"absolute bottom-4 right-6 flex gap-2",children:de.map((Re,$e)=>s.jsx(rt.div,{animate:{scale:$e===v?1.2:1},className:`h-2 rounded-full transition-all ${$e===v?"bg-white w-8":"bg-white/40 w-2"}`},$e))})]})},we=()=>{const de=[{title:"Total Bookings",value:Q.total,icon:Hs,gradient:`linear-gradient(135deg, ${ct.teal}, ${ct.darkBlue})`,change:"+12%"},{title:"Pending Review",value:Q.pending,icon:n_,gradient:`linear-gradient(135deg, ${ct.darkBlue}, ${ct.teal})`,change:"Needs action",alert:Q.pending>0},{title:"Confirmed",value:Q.confirmed,icon:Gr,gradient:`linear-gradient(135deg, ${ct.limeGreen}, ${ct.teal})`,change:"+8%"},{title:"Total Revenue",value:`$${Q.totalRevenue.toFixed(2)}`,icon:cr,gradient:`linear-gradient(135deg, ${ct.teal}, ${ct.limeGreen})`,change:"+15%"}];return s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-5",children:de.map((he,xe)=>s.jsx(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:xe*.1},whileHover:{y:-5},className:"relative",children:s.jsxs("div",{className:"relative z-10 bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-4 border border-gray-200 dark:border-gray-700 group",children:[s.jsxs("div",{className:"flex justify-between items-start mb-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-xl p-2.5 shadow-lg",style:{background:he.gradient},children:s.jsx(he.icon,{className:"w-full h-full text-white"})}),he.alert&&s.jsx(rt.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},className:"w-3 h-3 rounded-full",style:{background:ct.teal}})]}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:he.title}),s.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:he.value}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:he.change})]})},xe))})};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 dark:from-gray-950 dark:via-gray-900 dark:to-black pt-20",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[s.jsx("div",{className:"mb-5",children:s.jsx(rt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:s.jsx("h1",{className:"text-4xl font-bold bg-clip-text text-transparent mb-2",style:{backgroundImage:`linear-gradient(135deg, ${ct.darkBlue}, ${ct.teal}, ${ct.limeGreen})`},children:"Booking Management"})})}),s.jsx(G,{}),s.jsx(we,{}),s.jsx(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-4 mb-4 border border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[s.jsxs("div",{className:"flex-1 relative",children:[s.jsx(Br,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search by car, client, or email...",value:N,onChange:de=>k(de.target.value),className:"w-full pl-11 pr-4 py-2.5 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 dark:text-white",style:{focusRing:ct.teal}})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs("select",{value:j,onChange:de=>b(de.target.value),className:"px-4 py-2.5 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 dark:text-white",style:{focusRing:ct.teal},children:[s.jsx("option",{value:"all",children:"All Status"}),s.jsx("option",{value:"pending",children:"Pending"}),s.jsx("option",{value:"confirmed",children:"Confirmed"}),s.jsx("option",{value:"accepted",children:"Accepted"}),s.jsx("option",{value:"rejected",children:"Rejected"})]}),s.jsx(rt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:L,className:"p-2.5 rounded-xl transition-colors",style:{background:ct.tealDim,color:ct.teal},children:s.jsx(Mt,{className:"w-5 h-5"})})]})]})}),s.jsx("div",{className:"flex gap-2 mb-5 overflow-x-auto pb-2",children:[{id:"list",label:"List View",icon:zo},{id:"table",label:"Table",icon:IG},{id:"timeline",label:"Timeline",icon:um},{id:"calendar",label:"Calendar",icon:Hs}].map(de=>s.jsxs(rt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:`flex items-center gap-2 px-5 py-2.5 rounded-xl font-medium whitespace-nowrap transition-all ${m===de.id?"text-white shadow-lg":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 border border-gray-200 dark:border-gray-700"}`,style:m===de.id?{background:`linear-gradient(135deg, ${ct.teal}, ${ct.darkBlue})`}:{},onClick:()=>f(de.id),children:[s.jsx(de.icon,{className:"w-5 h-5"}),de.label]},de.id))}),r?s.jsx("div",{className:"flex justify-center items-center h-64",children:s.jsx(rt.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-16 h-16 border-4 border-t-4 rounded-full",style:{borderColor:ct.tealDim,borderTopColor:ct.teal}})}):Object.keys(te).length===0?s.jsxs(rt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-20 bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700",children:[s.jsx(Ss,{className:"w-20 h-20 mx-auto mb-4",style:{color:ct.teal,opacity:.3}}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg font-medium mb-2",children:"No bookings found"}),s.jsx("p",{className:"text-gray-500 dark:text-gray-500 text-sm",children:"Try adjusting your filters or search query"})]}):m==="calendar"?s.jsx(F,{}):m==="timeline"?s.jsx(P,{}):m==="table"?s.jsx(rt.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden border border-gray-200 dark:border-gray-700",children:s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{className:"border-gray-200 dark:border-gray-700",children:[s.jsx(_e,{className:"text-gray-700 dark:text-gray-300",children:"Car"}),s.jsx(_e,{className:"text-gray-700 dark:text-gray-300",children:"Client"}),s.jsx(_e,{className:"text-gray-700 dark:text-gray-300",children:"Dates"}),s.jsx(_e,{className:"text-gray-700 dark:text-gray-300",children:"Status"}),s.jsx(_e,{className:"text-gray-700 dark:text-gray-300 text-right",children:"Amount"}),s.jsx(_e,{className:"text-gray-700 dark:text-gray-300 text-right",children:"App Fee"}),s.jsx(_e,{className:"text-gray-700 dark:text-gray-300 text-right",children:"Net"})]})}),s.jsx(Dt,{children:Object.values(te).flatMap(de=>de.bookings).map(de=>{const he=ce(de.booking_request_status),xe=parseFloat(de.total_booking_price||0),Me=Number(de.app_fees_amount)||0,Re=xe-Me;return s.jsxs(ze,{className:"cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50 border-gray-200 dark:border-gray-700",onClick:()=>K({car:de.car,bookings:[de]}),children:[s.jsxs(fe,{className:"font-medium text-gray-900 dark:text-white",children:[de.car?.make," ",de.car?.model]}),s.jsxs(fe,{className:"text-gray-600 dark:text-gray-400",children:[de.client?.first_name," ",de.client?.last_name]}),s.jsxs(fe,{className:"text-gray-600 dark:text-gray-400 text-sm",children:[ge(de.start_datetime),"  ",ge(de.end_datetime)]}),s.jsx(fe,{children:s.jsx("span",{className:"px-2 py-1 rounded-lg text-xs font-semibold",style:{background:he.bgColor,color:he.textColor},children:he.label})}),s.jsxs(fe,{className:"text-right font-semibold",style:{color:ct.limeGreen},children:["$",xe.toFixed(2)]}),s.jsxs(fe,{className:"text-right text-gray-600 dark:text-gray-400",children:["$",Me.toFixed(2)]}),s.jsxs(fe,{className:"text-right font-bold",style:{color:ct.teal},children:["$",Re.toFixed(2)]})]},de.id)})})]})})}):s.jsx(rt.div,{initial:{opacity:0},animate:{opacity:1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-5",children:Object.values(te).map(({car:de,bookings:he},xe)=>{const Me=he.filter($e=>$e.booking_request_status==="pending").length,Re=he.filter($e=>$e.booking_request_status==="confirmed"||$e.booking_request_status==="accepted").length;return s.jsxs(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:xe*.1},whileHover:{y:-8,scale:1.02},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden cursor-pointer border border-gray-200 dark:border-gray-700 group",onClick:()=>K({car:de,bookings:he}),children:[s.jsxs("div",{className:"relative overflow-hidden",children:[s.jsx("img",{src:de?.main_image_url?`/api/storage/${de.main_image_url}`:"/placeholder.png",alt:de?.model||"Car",className:"w-full h-48 object-cover group-hover:scale-110 transition-transform duration-500"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),s.jsx("div",{className:"absolute top-3 right-3 bg-white/90 dark:bg-gray-900/90 backdrop-blur-sm rounded-full px-3 py-1.5 shadow-lg",children:s.jsxs("span",{className:"text-sm font-bold text-gray-900 dark:text-white flex items-center gap-1",children:[s.jsx(Hs,{className:"w-4 h-4"}),he.length]})})]}),s.jsxs("div",{className:"p-5",children:[s.jsxs("h2",{className:"font-bold text-xl text-gray-900 dark:text-white mb-1",children:[de?.make||"Unknown"," ",de?.model||""]}),s.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-3 flex items-center gap-2",children:[s.jsx(Kt,{className:"w-4 h-4"}),de?.year||"N/A","  ",de?.car_category||"N/A"]}),de?.notes&&s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-3 line-clamp-2",children:de.notes}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[Me>0&&s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg border",style:{background:ct.tealDim,borderColor:ct.teal},children:[s.jsx(rt.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},className:"w-2 h-2 rounded-full",style:{background:ct.teal}}),s.jsxs("span",{className:"text-xs font-semibold",style:{color:ct.teal},children:[Me," Pending"]})]}),Re>0&&s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg border",style:{background:ct.limeGreenDim,borderColor:ct.limeGreen},children:[s.jsx(Gr,{className:"w-4 h-4",style:{color:ct.limeGreen}}),s.jsxs("span",{className:"text-xs font-semibold",style:{color:ct.limeGreen},children:[Re," Confirmed"]})]})]})]})]},de.id)})}),s.jsx(Go,{children:o&&a&&s.jsx(rt.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",onClick:M,children:s.jsxs(rt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white dark:bg-gray-800 rounded-2xl w-full max-w-4xl mx-4 shadow-2xl overflow-hidden border border-gray-200 dark:border-gray-700",style:{maxHeight:"90vh"},onClick:de=>de.stopPropagation(),children:[s.jsxs("div",{className:"p-5 text-white relative overflow-hidden",style:{background:`linear-gradient(135deg, ${ct.teal}, ${ct.darkBlue})`},children:[s.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full blur-3xl"}),s.jsxs("div",{className:"relative z-10 flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"p-2.5 bg-white/20 backdrop-blur-sm rounded-2xl",children:s.jsx(Kt,{className:"w-6 h-6"})}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-2xl font-bold",children:[a.car?.make," ",a.car?.model]}),s.jsxs("p",{className:"text-sm opacity-90 flex items-center gap-2 mt-1",children:[s.jsx(Hs,{className:"w-4 h-4"}),a.bookings?.length||0," booking request",a.bookings?.length!==1?"s":""]})]})]}),s.jsx(rt.button,{whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},onClick:M,className:"p-2 rounded-full hover:bg-white/20 transition-colors",children:s.jsx(tr,{className:"w-6 h-6"})})]})]}),s.jsx("div",{className:"overflow-y-auto p-5",style:{maxHeight:"calc(90vh - 120px)"},children:a.bookings?.length===0?s.jsxs("div",{className:"p-12 text-center",children:[s.jsx(Ss,{className:"w-16 h-16 mx-auto mb-4",style:{color:ct.teal,opacity:.3}}),s.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:"No bookings for this car yet."})]}):s.jsx("div",{className:"space-y-5",children:a.bookings?.map((de,he)=>{const xe=de.client,Me=xe?.profile||{},Re=ce(de.booking_request_status),$e=Re.icon;return s.jsxs(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:he*.1},className:"bg-gradient-to-br from-gray-50 to-white dark:from-gray-900 dark:to-gray-800 rounded-2xl p-5 shadow-lg border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex justify-between items-start mb-5",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:xe?.profile_picture?`/api/storage/${xe.profile_picture}`:"/default-avatar.png",alt:xe?.username||"Client",className:"w-14 h-14 rounded-2xl object-cover border-4 border-white dark:border-gray-700 shadow-lg"}),Me?.trusted_by_app&&s.jsx("div",{className:"absolute -bottom-2 -right-2 w-6 h-6 rounded-full border-4 border-white dark:border-gray-700 flex items-center justify-center shadow-lg",style:{background:ct.darkBlue},children:s.jsx(Qn,{className:"w-3 h-3 text-white"})})]}),s.jsxs("div",{children:[s.jsx("div",{className:"flex items-center gap-2 mb-1",children:s.jsxs("h3",{className:"font-bold text-xl text-gray-900 dark:text-white flex items-center gap-2",children:[xe?.first_name||"N/A"," ",xe?.last_name||"",xe?.verified_by_admin&&s.jsx($E,{className:"w-5 h-5",style:{color:ct.teal}})]})}),s.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["@",xe?.username||"Unknown","  Booked ",ge(de.created_at)]})]})]}),s.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-xl border-2",style:{background:Re.bgColor,borderColor:Re.color},children:[s.jsx($e,{className:"w-5 h-5",style:{color:Re.textColor}}),s.jsx("span",{className:"font-bold text-sm",style:{color:Re.textColor},children:Re.label})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-4",children:[s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-3 border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"p-2 rounded-lg",style:{background:ct.tealDim},children:s.jsx(Ux,{className:"w-4 h-4",style:{color:ct.teal}})}),s.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:"Rental Period"})]}),s.jsxs("div",{className:"space-y-1.5 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Start:"}),s.jsx("span",{className:"font-semibold",children:be(de.start_datetime)})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"End:"}),s.jsx("span",{className:"font-semibold",children:be(de.end_datetime)})]}),s.jsxs("div",{className:"flex justify-between pt-1.5 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),s.jsxs("span",{className:"font-bold",style:{color:ct.teal},children:[le(de.start_datetime,de.end_datetime)," days"]})]})]})]}),s.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-3 border border-gray-200 dark:border-gray-700",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[s.jsx("div",{className:"p-2 rounded-lg",style:{background:ct.limeGreenDim},children:s.jsx(cr,{className:"w-4 h-4",style:{color:ct.limeGreen}})}),s.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:"Payment Details"})]}),s.jsxs("div",{className:"space-y-1.5 text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total (client paid):"}),s.jsxs("span",{className:"font-bold text-lg",style:{color:ct.limeGreen},children:["$",de.total_booking_price??"0.00"]})]}),de.app_fees_amount!=null&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"App fee:"}),s.jsxs("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:["$",de.app_fees_amount]})]}),s.jsxs("div",{className:"flex justify-between pt-1.5 border-t border-gray-200 dark:border-gray-700",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Your net:"}),s.jsxs("span",{className:"font-bold",style:{color:ct.teal},children:["$",(parseFloat(de.total_booking_price||0)-(de.app_fees_amount||0)).toFixed(2)]})]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Pickup:"}),s.jsx("span",{className:"font-semibold text-right truncate max-w-[160px]",children:de.pickup_location||"N/A"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Dropoff:"}),s.jsx("span",{className:"font-semibold text-right truncate max-w-[160px]",children:de.dropoff_location||"N/A"})]})]})]})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 mb-4",children:[{label:"Email",value:xe?.email,icon:za},{label:"Phone",value:xe?.phone_number,icon:ui},{label:"City",value:xe?.city,icon:Ps},{label:"Profession",value:Me?.profession,icon:vd}].map((Je,st)=>s.jsxs("div",{className:"bg-white dark:bg-gray-700 p-2.5 rounded-xl shadow-sm border border-gray-200 dark:border-gray-600",children:[s.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[s.jsx(Je.icon,{className:"w-3 h-3 text-gray-400"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:Je.label})]}),s.jsx("p",{className:"font-semibold text-sm truncate text-gray-800 dark:text-gray-200",children:Je.value||"N/A"})]},st))}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 mb-4",children:[{label:"Age",value:Me?.age},{label:"Gender",value:xe?.gender},{label:"Salary",value:Me?.avg_salary},{label:"License",value:Me?.license_number}].map((Je,st)=>s.jsxs("div",{className:"bg-white dark:bg-gray-700 p-2.5 rounded-xl shadow-sm border border-gray-200 dark:border-gray-600",children:[s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:Je.label}),s.jsx("p",{className:"font-semibold text-sm truncate text-gray-800 dark:text-gray-200",children:Je.value||"N/A"})]},st))}),Me?.average_rating&&s.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-2 rounded-xl mb-4 border",style:{background:ct.limeGreenDim,borderColor:ct.limeGreen},children:[s.jsx(ar,{className:"w-5 h-5 fill-current",style:{color:ct.limeGreen}}),s.jsxs("span",{className:"font-bold",style:{color:ct.limeGreen},children:[Me.average_rating," Average Rating"]})]}),de.client_rating&&s.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-xl mb-4 border",style:{background:ct.limeGreenDim,borderColor:ct.limeGreen},children:[s.jsx(Gr,{className:"w-5 h-5",style:{color:ct.limeGreen}}),s.jsx("span",{className:"font-semibold",style:{color:ct.limeGreen},children:"Rating submitted"})]}),!de.client_rating&&X(de)&&s.jsx("div",{className:"pt-3 border-t border-gray-200 dark:border-gray-700 mb-4",children:s.jsxs(rt.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:Je=>{Je.stopPropagation(),$(de)},className:"flex items-center justify-center gap-2 py-2.5 px-4 rounded-xl font-bold text-white shadow-lg hover:shadow-xl transition-all w-full sm:w-auto",style:{background:`linear-gradient(135deg, ${ct.teal}, ${ct.darkBlue})`},children:[s.jsx(ar,{className:"w-5 h-5"}),"Rate client"]})}),de.booking_request_status==="pending"&&s.jsxs("div",{className:"flex gap-2.5 pt-3 border-t border-gray-200 dark:border-gray-700",children:[s.jsxs(rt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:Je=>{Je.stopPropagation(),O(de.id)},disabled:d===de.id,className:"flex-1 py-2.5 px-4 rounded-xl font-bold flex items-center justify-center gap-2 transition-all text-white shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",style:{background:`linear-gradient(135deg, ${ct.limeGreen}, ${ct.teal})`},children:[s.jsx(ga,{className:"w-5 h-5"}),d===de.id?"Processing...":"Accept Booking"]}),s.jsxs(rt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:Je=>{Je.stopPropagation(),se(de.id)},disabled:d===de.id,className:"flex-1 py-2.5 px-4 rounded-xl font-bold flex items-center justify-center gap-2 transition-all bg-gradient-to-r from-red-500 to-rose-500 hover:from-red-600 hover:to-rose-600 text-white shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:[s.jsx(Zn,{className:"w-5 h-5"}),d===de.id?"Processing...":"Reject Booking"]})]})]},de.id)})})})]})})}),s.jsx(Kr,{open:!!B,onOpenChange:de=>!de&&oe(),children:s.jsxs(Ir,{className:"sm:max-w-md bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700",children:[s.jsx(zr,{children:s.jsxs(Ur,{className:"flex items-center gap-2",style:{color:ct.darkBlue},children:[s.jsx(ar,{className:"w-5 h-5",style:{color:ct.teal}}),"Rate client",B?.client&&s.jsxs("span",{className:"font-normal text-gray-600 dark:text-gray-400",children:[" ",B.client.first_name," ",B.client.last_name]})]})}),s.jsxs("div",{className:"space-y-4 pt-2",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Rating ",s.jsx("span",{className:"text-red-500",children:"*"})]}),s.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(de=>s.jsx(rt.button,{type:"button",whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>T(he=>({...he,rating:de})),className:`p-2 rounded-lg border-2 transition-colors ${z.rating>=de?"border-amber-400 bg-amber-50 dark:bg-amber-900/20":"border-gray-200 dark:border-gray-600 hover:border-amber-300"}`,children:s.jsx(ar,{className:`w-6 h-6 ${z.rating>=de?"fill-amber-400 text-amber-400":"text-gray-400"}`})},de))})]}),S.length>0&&s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Tags (optional)"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:S.map(de=>s.jsx("button",{type:"button",onClick:()=>q(de.id),className:`px-3 py-1.5 rounded-full text-sm font-medium border-2 transition-colors ${z.template_selections.includes(de.id)?"border-teal-500 bg-teal-50 dark:bg-teal-900/30 text-teal-700 dark:text-teal-300":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`,style:z.template_selections.includes(de.id)?{borderColor:ct.teal,background:ct.tealDim,color:ct.teal}:{},children:de.label},de.id))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Comment (optional, max 1000 characters)"}),s.jsx("textarea",{value:z.comment,onChange:de=>T(he=>({...he,comment:de.target.value.slice(0,1e3)})),placeholder:"e.g. Very good renter. Would rent to again.",rows:3,className:"w-full px-3 py-2 rounded-xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-teal-500 focus:border-teal-500"}),s.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[z.comment.length,"/1000"]})]}),s.jsxs("div",{className:"flex gap-2 pt-2",children:[s.jsx(rt.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:oe,className:"flex-1 py-2.5 px-4 rounded-xl font-semibold border-2 border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancel"}),s.jsx(rt.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:Y,disabled:W||z.rating<1,className:"flex-1 py-2.5 px-4 rounded-xl font-bold text-white shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",style:{background:`linear-gradient(135deg, ${ct.teal}, ${ct.darkBlue})`},children:W?"Submitting":"Submit rating"})]})]})]})})]})})}const Oue=[{name:"Instagram",url:"https://www.instagram.com/rentolebanon/?hl=en",icon:tM,gradient:"from-pink-500 to-purple-500"},{name:"Facebook",url:"https://www.facebook.com/profile.php?id=61585450048575",icon:Q6,gradient:"from-pink-500 to-purple-500"},{name:"Twitter / X",url:"https://x.com/RENTO_lb",icon:dM,gradient:"from-blue-500 to-cyan-500"},{name:"LinkedIn",url:"https://www.linkedin.com/company/rento-lb/about/",icon:rM,gradient:"from-blue-700 to-blue-500"},{name:"Pinterest",url:"https://www.pinterest.com/rento1065/",icon:VE,gradient:"from-red-500 to-rose-500"},{name:"Tiktok",url:"https://www.tiktok.com/@rentolebanon",icon:VE,gradient:"from-black-500 to-white-500"},{name:"YouTube",url:"https://www.youtube.com/channel/UCW1dt_Y0qq0oczELUoGDI7Q",icon:sY,gradient:"from-red-600 to-red-400"}];function Lue(){return s.jsxs("div",{className:"min-h-screen bg-white dark:bg-gradient-to-br dark:from-gray-950 dark:via-gray-900 dark:to-teal-950 py-20 px-4",children:[s.jsxs("div",{className:"container mx-auto max-w-4xl text-center mb-16",children:[s.jsx(We,{className:"mb-6 bg-gradient-to-r from-teal-500 to-cyan-500 text-white border-0 px-6 py-2 text-sm font-bold shadow-lg",children:"Official Rento LB Social Media"}),s.jsxs("h1",{className:"text-5xl font-black text-gray-900 dark:text-white mb-6",children:["Stay Connected With",s.jsx("span",{className:"block bg-gradient-to-r from-teal-400 via-cyan-400 to-blue-400 bg-clip-text text-transparent",children:"Rento Lebanon"})]}),s.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Follow us on all platforms for updates, new car listings, offers, and more."})]}),s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-10 container mx-auto max-w-5xl",children:Oue.map((t,e)=>s.jsx(Ue,{className:"group border border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-900 hover:border-teal-500 transition-all duration-300 hover:shadow-xl hover:-translate-y-1",children:s.jsxs(qe,{className:"p-6 text-center",children:[s.jsx("div",{className:`w-24 h-24 mx-auto mb-6 rounded-2xl bg-gradient-to-br ${t.gradient} flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300`,children:s.jsx(t.icon,{className:"w-12 h-12 text-white"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-3",children:t.name}),s.jsx("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",children:s.jsxs(pe,{className:"w-full bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-bold py-3 rounded-xl shadow-md hover:shadow-lg transition-all duration-300",children:["Visit Page",s.jsx(bd,{className:"w-5 h-5 ml-2"})]})})]})},e))})]})}const Fue=["Beirut","Tripoli","Sidon","Tyre","Other"],Bue=["Employee","Freelancer","Business Owner","Student","Other"],Iue=["Male","Female","Other","Any"],zue=()=>{const t=sn(),[e,r]=_.useState(!1),[n,a]=_.useState(!1),[i,o]=_.useState([]),[c,d]=_.useState(null),[h,m]=_.useState(null),[f,g]=_.useState({enableAge:!1,minAge:25,maxAge:65,enableGender:!1,selectedGenders:[],enableCities:!1,selectedCities:[],enableProfessions:!1,selectedProfessions:[],enableSalary:!1,minSalary:1e3,enableRating:!1,minRating:4,verifiedByAdmin:!1,trustedByApp:!1,hasDeposit:!1});_.useEffect(()=>{y()},[]);const y=async()=>{try{const C=await Oe.get("/cars"),B=C.data.cars?.data||C.data.cars||[];o(B)}catch(C){console.error("Error loading cars:",C),ve.error("Failed to load cars")}},v=async C=>{try{const B=await Oe.get(`/cars/${C}/qualifications`);if(B.data.qualifications){const E=B.data.qualifications,z=L=>L.charAt(0).toUpperCase()+L.slice(1).toLowerCase(),T=L=>!L||!L.length?[]:L.map(Z=>z(Z)),W=L=>!L||!L.length?[]:L.map(Z=>z(Z)),U=L=>!L||!L.length?[]:L.map(Z=>Z.split("_").map(O=>z(O)).join(" "));g({enableAge:!!(E.min_age||E.max_age),minAge:E.min_age||25,maxAge:E.max_age||65,enableGender:!!(E.gender&&E.gender.length),selectedGenders:T(E.gender),enableCities:!!(E.required_cities&&E.required_cities.length),selectedCities:W(E.required_cities),enableProfessions:!!(E.professions&&E.professions.length),selectedProfessions:U(E.professions),enableSalary:!!E.min_salary,minSalary:E.min_salary||1e3,enableRating:!!E.min_rating,minRating:E.min_rating||4,verifiedByAdmin:E.verified_by_admin||!1,trustedByApp:E.trusted_by_app||!1,hasDeposit:E.has_deposit||!1}),setTimeout(()=>N(),100)}}catch(B){console.error("Error loading qualifications:",B),B.response?.status===404&&console.info("Qualifications endpoint not available for this car")}},w=C=>{const B=i.find(E=>E.id===parseInt(C));d(B),m(null),B?v(B.id):g({enableAge:!1,minAge:25,maxAge:65,enableGender:!1,selectedGenders:[],enableCities:!1,selectedCities:[],enableProfessions:!1,selectedProfessions:[],enableSalary:!1,minSalary:1e3,enableRating:!1,minRating:4,verifiedByAdmin:!1,trustedByApp:!1,hasDeposit:!1})},j=(C,B)=>{g(E=>{const z=E[B];return z.includes(C)?{...E,[B]:z.filter(T=>T!==C)}:{...E,[B]:[...z,C]}})},b=()=>{const C={};return f.enableAge&&(f.minAge&&(C.min_age=parseInt(f.minAge)),f.maxAge&&(C.max_age=parseInt(f.maxAge))),f.enableGender&&f.selectedGenders.length&&(C.gender=f.selectedGenders.map(B=>B.toLowerCase())),f.enableCities&&f.selectedCities.length&&(C.required_cities=f.selectedCities.map(B=>B.toLowerCase())),f.enableProfessions&&f.selectedProfessions.length&&(C.professions=f.selectedProfessions.map(B=>B.toLowerCase().replace(/ /g,"_"))),f.enableSalary&&f.minSalary&&(C.min_salary=parseInt(f.minSalary)),f.enableRating&&f.minRating&&(C.min_rating=parseFloat(f.minRating)),f.verifiedByAdmin&&(C.verified_by_admin=!0),f.trustedByApp&&(C.trusted_by_app=!0),f.hasDeposit&&(C.has_deposit=!0),C},N=async()=>{const C=b();a(!0);try{const B=await Oe.post("/cars/qualifications/preview",C);m(B.data)}catch(B){console.error("Preview error:",B),ve.error("Failed to preview qualifications")}finally{a(!1)}},k=async C=>{if(C.preventDefault(),!c){ve.error("Please select a car first");return}const B=b();r(!0);try{await Oe.post(`/cars/${c.id}/qualifications`,B),ve.success("Qualifications saved successfully!")}catch(E){console.error("Save error:",E);const z=E.response?.data?.message||"Failed to save qualifications";ve.error(z)}finally{r(!1)}},S=async()=>{if(!c){ve.error("Please select a car first");return}if(confirm("Clear all qualifications for this car? It will be visible to all clients."))try{await Oe.delete(`/cars/${c.id}/qualifications`),ve.success("Qualifications cleared successfully!"),g({enableAge:!1,minAge:25,maxAge:65,enableGender:!1,selectedGenders:[],enableCities:!1,selectedCities:[],enableProfessions:!1,selectedProfessions:[],enableSalary:!1,minSalary:1e3,enableRating:!1,minRating:4,verifiedByAdmin:!1,trustedByApp:!1,hasDeposit:!1}),m(null)}catch(C){console.error("Clear error:",C),ve.error("Failed to clear qualifications")}};return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-teal-50/30 to-cyan-50/30 dark:from-gray-950 dark:via-teal-950/20 dark:to-cyan-950/20 pt-20",children:[s.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[s.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-teal-500/10 rounded-full blur-3xl animate-pulse"}),s.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-cyan-500/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"700ms"}})]}),s.jsxs("div",{className:"container mx-auto px-4 py-8 relative z-10",children:[s.jsxs("div",{className:"mb-8",children:[s.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[s.jsxs(pe,{variant:"ghost",className:"text-gray-600 dark:text-gray-400 hover:text-teal-600 dark:hover:text-teal-400 transition-colors",onClick:()=>t(-1),children:[s.jsx(Ui,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),s.jsxs(pe,{variant:"secondary",className:"text-gray-600 dark:text-gray-400 hover:text-teal-600 dark:hover:text-teal-400 transition-colors",onClick:()=>t("/agent/cars"),children:[s.jsx(Kt,{className:"w-4 h-4 mr-2"}),"Go to Cars Page"]})]}),s.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[s.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-teal-500 to-cyan-500 flex items-center justify-center shadow-lg",children:s.jsx(Qn,{className:"w-8 h-8 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-4xl md:text-5xl font-black text-gray-900 dark:text-white",children:"Set Car Qualifications"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Control who can see and book your vehicles"})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[s.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:s.jsxs(qe,{className:"p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center",children:s.jsx(Kt,{className:"w-6 h-6 text-white"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Select Car"})]}),s.jsxs("select",{value:c?.id||"",onChange:C=>w(C.target.value),className:"w-full h-14 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl px-4 bg-white dark:bg-gray-900 text-lg font-medium transition-colors",children:[s.jsx("option",{value:"",children:"-- Select a car --"}),i.map(C=>s.jsxs("option",{value:C.id,children:[C.make," ",C.model," (",C.year,") - ",C.license_plate]},C.id))]}),c&&s.jsx("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:s.jsxs("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:["Selected: ",c.make," ",c.model," - Daily Rate: $",c.daily_rate]})})]})}),s.jsxs("form",{onSubmit:k,className:"space-y-6",children:[s.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:s.jsxs(qe,{className:"p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("input",{type:"checkbox",id:"enableAge",checked:f.enableAge,onChange:C=>g({...f,enableAge:C.target.checked}),className:"w-6 h-6 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500 cursor-pointer"}),s.jsx(Hs,{className:"w-6 h-6 text-teal-600"}),s.jsx("label",{htmlFor:"enableAge",className:"text-xl font-bold text-gray-900 dark:text-white cursor-pointer",children:"Age Requirement"})]}),f.enableAge&&s.jsxs("div",{className:"grid grid-cols-2 gap-6 ml-9",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Minimum Age"}),s.jsx(Se,{type:"number",min:"18",max:"100",placeholder:"e.g., 25",value:f.minAge,onChange:C=>g({...f,minAge:C.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Maximum Age"}),s.jsx(Se,{type:"number",min:"18",max:"100",placeholder:"e.g., 65",value:f.maxAge,onChange:C=>g({...f,maxAge:C.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]})]})]})}),s.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:s.jsxs(qe,{className:"p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("input",{type:"checkbox",id:"enableGender",checked:f.enableGender,onChange:C=>g({...f,enableGender:C.target.checked}),className:"w-6 h-6 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500 cursor-pointer"}),s.jsx(Ss,{className:"w-6 h-6 text-teal-600"}),s.jsx("label",{htmlFor:"enableGender",className:"text-xl font-bold text-gray-900 dark:text-white cursor-pointer",children:"Gender Restriction"})]}),f.enableGender&&s.jsx("div",{className:"flex flex-wrap gap-3 ml-9",children:Iue.map(C=>s.jsxs(We,{onClick:()=>j(C,"selectedGenders"),className:`cursor-pointer px-4 py-2 text-sm transition-all duration-300 ${f.selectedGenders.includes(C)?"bg-gradient-to-r from-teal-600 to-cyan-600 text-white hover:from-teal-700 hover:to-cyan-700":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[f.selectedGenders.includes(C)&&s.jsx(Wn,{className:"w-3 h-3 mr-1"}),C]},C))})]})}),s.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:s.jsxs(qe,{className:"p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("input",{type:"checkbox",id:"enableCities",checked:f.enableCities,onChange:C=>g({...f,enableCities:C.target.checked}),className:"w-6 h-6 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500 cursor-pointer"}),s.jsx(Ps,{className:"w-6 h-6 text-teal-600"}),s.jsx("label",{htmlFor:"enableCities",className:"text-xl font-bold text-gray-900 dark:text-white cursor-pointer",children:"City Restriction"})]}),f.enableCities&&s.jsx("div",{className:"flex flex-wrap gap-3 ml-9",children:Fue.map(C=>s.jsxs(We,{onClick:()=>j(C,"selectedCities"),className:`cursor-pointer px-4 py-2 text-sm transition-all duration-300 ${f.selectedCities.includes(C)?"bg-gradient-to-r from-cyan-600 to-blue-600 text-white hover:from-cyan-700 hover:to-blue-700":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[f.selectedCities.includes(C)&&s.jsx(Wn,{className:"w-3 h-3 mr-1"}),C]},C))})]})}),s.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:s.jsxs(qe,{className:"p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("input",{type:"checkbox",id:"enableProfessions",checked:f.enableProfessions,onChange:C=>g({...f,enableProfessions:C.target.checked}),className:"w-6 h-6 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500 cursor-pointer"}),s.jsx(vd,{className:"w-6 h-6 text-teal-600"}),s.jsx("label",{htmlFor:"enableProfessions",className:"text-xl font-bold text-gray-900 dark:text-white cursor-pointer",children:"Profession Restriction"})]}),f.enableProfessions&&s.jsx("div",{className:"flex flex-wrap gap-3 ml-9",children:Bue.map(C=>s.jsxs(We,{onClick:()=>j(C,"selectedProfessions"),className:`cursor-pointer px-4 py-2 text-sm transition-all duration-300 ${f.selectedProfessions.includes(C)?"bg-gradient-to-r from-teal-500 to-cyan-500 text-white hover:from-teal-600 hover:to-cyan-600":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[f.selectedProfessions.includes(C)&&s.jsx(Wn,{className:"w-3 h-3 mr-1"}),C]},C))})]})}),s.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:s.jsxs(qe,{className:"p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("input",{type:"checkbox",id:"enableSalary",checked:f.enableSalary,onChange:C=>g({...f,enableSalary:C.target.checked}),className:"w-6 h-6 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500 cursor-pointer"}),s.jsx(cr,{className:"w-6 h-6 text-amber-600"}),s.jsx("label",{htmlFor:"enableSalary",className:"text-xl font-bold text-gray-900 dark:text-white cursor-pointer",children:"Minimum Salary"})]}),f.enableSalary&&s.jsxs("div",{className:"ml-9",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Monthly Salary (USD)"}),s.jsxs("div",{className:"relative",children:[s.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 font-bold",children:"$"}),s.jsx(Se,{type:"number",min:"0",step:"100",placeholder:"e.g., 1000",value:f.minSalary,onChange:C=>g({...f,minSalary:C.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl pl-8"})]})]})]})}),s.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:s.jsxs(qe,{className:"p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("input",{type:"checkbox",id:"enableRating",checked:f.enableRating,onChange:C=>g({...f,enableRating:C.target.checked}),className:"w-6 h-6 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500 cursor-pointer"}),s.jsx(ar,{className:"w-6 h-6 text-yellow-500"}),s.jsx("label",{htmlFor:"enableRating",className:"text-xl font-bold text-gray-900 dark:text-white cursor-pointer",children:"Minimum Rating"})]}),f.enableRating&&s.jsxs("div",{className:"ml-9",children:[s.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Rating (0 to 5 stars)"}),s.jsx(Se,{type:"number",min:"0",max:"5",step:"0.1",placeholder:"e.g., 4.0",value:f.minRating,onChange:C=>g({...f,minRating:C.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]})]})}),s.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:s.jsxs(qe,{className:"p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx(Qn,{className:"w-6 h-6 text-green-600"}),s.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Verification Requirements"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("label",{className:"flex items-center gap-3 p-4 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:f.verifiedByAdmin,onChange:C=>g({...f,verifiedByAdmin:C.target.checked}),className:"w-5 h-5 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500"}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Must be verified by admin"})]}),s.jsxs("label",{className:"flex items-center gap-3 p-4 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:f.trustedByApp,onChange:C=>g({...f,trustedByApp:C.target.checked}),className:"w-5 h-5 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500"}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Must be trusted by app"})]}),s.jsxs("label",{className:"flex items-center gap-3 p-4 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:f.hasDeposit,onChange:C=>g({...f,hasDeposit:C.target.checked}),className:"w-5 h-5 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500"}),s.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Must have deposit on account"})]})]})]})}),s.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[s.jsxs(pe,{type:"button",variant:"outline",size:"lg",onClick:N,disabled:!c||n,className:"flex-1 px-8 py-6 rounded-xl border-2 border-teal-500 text-teal-600 hover:bg-teal-50 dark:hover:bg-teal-950",children:[s.jsx(nr,{className:"w-5 h-5 mr-2"}),n?"Loading...":"Preview Results"]}),s.jsxs(pe,{type:"submit",size:"lg",disabled:!c||e,className:"flex-1 px-8 py-6 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-bold rounded-xl shadow-lg hover:shadow-xl transition-all duration-300",children:[s.jsx(Wn,{className:"w-5 h-5 mr-2"}),e?"Saving...":"Save Qualifications"]})]}),s.jsxs(pe,{type:"button",variant:"outline",size:"lg",onClick:S,disabled:!c,className:"w-full px-8 py-6 rounded-xl border-2 border-red-300 dark:border-red-700 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-950",children:[s.jsx(Zn,{className:"w-5 h-5 mr-2"}),"Clear All Requirements"]})]})]}),s.jsx("div",{className:"lg:col-span-1",children:s.jsx(Ue,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg sticky top-6",children:s.jsxs(qe,{className:"p-8",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-teal-500 to-cyan-500 flex items-center justify-center",children:s.jsx(Ss,{className:"w-6 h-6 text-white"})}),s.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Qualified Clients"})]}),n&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-teal-500 border-t-transparent"}),s.jsx("p",{className:"mt-4 text-sm text-gray-600 dark:text-gray-400",children:"Calculating..."})]}),!n&&!h&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(Ss,{className:"w-20 h-20 mx-auto text-gray-300 dark:text-gray-700 mb-4"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:'Set requirements and click "Preview Results" to see how many clients qualify'})]}),!n&&h&&s.jsxs("div",{children:[s.jsxs("div",{className:"text-center mb-6 p-8 bg-gradient-to-br from-teal-50 to-cyan-50 dark:from-teal-950/30 dark:to-cyan-950/30 rounded-2xl border-2 border-teal-200 dark:border-teal-800",children:[s.jsxs("div",{className:"text-6xl font-black bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent mb-2",children:[h.percentage,"%"]}),s.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2 font-medium",children:"of clients qualify"}),s.jsxs("div",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:[h.qualified_clients," / ",h.total_clients]})]}),h.breakdown&&Object.keys(h.breakdown).length>0&&s.jsxs("div",{className:"space-y-3 mb-6",children:[s.jsx("h3",{className:"text-sm font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wide mb-3",children:"Breakdown by Requirement"}),Object.entries(h.breakdown).map(([C,B])=>{const E=C.replace(/_/g," ").replace(/\b\w/g,z=>z.toUpperCase());return s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:[s.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[E,":"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:B.qualified}),s.jsxs(We,{className:"bg-teal-100 dark:bg-teal-900 text-teal-700 dark:text-teal-300",children:[B.percentage,"%"]})]})]},C)})]}),h.percentage<10&&s.jsx("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 border-2 border-yellow-200 dark:border-yellow-800 rounded-xl",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Lu,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-bold text-yellow-800 dark:text-yellow-200 mb-1",children:"Warning: Very Restrictive"}),s.jsx("p",{className:"text-xs text-yellow-700 dark:text-yellow-300",children:"Very few clients qualify. Consider relaxing some requirements to increase visibility."})]})]})}),h.percentage>=10&&h.percentage<30&&s.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 border-2 border-blue-200 dark:border-blue-800 rounded-xl",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Lu,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-bold text-blue-800 dark:text-blue-200 mb-1",children:"Selective Requirements"}),s.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:"Your requirements are quite selective. This can help ensure quality bookings."})]})]})}),h.percentage>=30&&s.jsx("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 border-2 border-green-200 dark:border-green-800 rounded-xl",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx(Wn,{className:"w-5 h-5 text-green-600 dark:text-green-400 flex-shrink-0 mt-0.5"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-bold text-green-800 dark:text-green-200 mb-1",children:"Good Balance"}),s.jsx("p",{className:"text-xs text-green-700 dark:text-green-300",children:"Your requirements allow good visibility while maintaining quality standards."})]})]})})]})]})})})]})]})]})},ls={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640"};function Uue(){const t=sn(),[e,r]=_.useState(null),[n,a]=_.useState({totalCars:0,activeBookings:0,pendingBookings:0,confirmedBookings:0,totalRevenue:0,totalViews:0,totalClicks:0,totalSearches:0,avgViewsPerCar:0,topViewedCar:null,topClickedCar:null,topSearchedCar:null}),[i,o]=_.useState([]),[c,d]=_.useState([]),[h,m]=_.useState(null),[f,g]=_.useState(!0),[y,v]=_.useState(!1),[w,j]=_.useState(!1),[b,N]=_.useState(!1);_.useEffect(()=>{const U=localStorage.getItem("theme"),L=window.matchMedia("(prefers-color-scheme: dark)").matches,Z=U==="dark"||!U&&L;N(Z),document.documentElement.classList.toggle("dark",Z)},[]);const k=()=>{const U=!b;N(U),document.documentElement.classList.toggle("dark",U),localStorage.setItem("theme",U?"dark":"light")},S=async()=>{g(!0),v(!1);try{const[U,L,Z]=await Promise.all([Oe.get("/cars/agent/Mycars"),Oe.get("/driver/bookings"),KF().catch(()=>({data:null}))]),O=U.data.cars?.data||[],se=L.data.data||[];m(Z?.data??null);const K=O.reduce((me,Q)=>me+(Q.views_count||0),0),M=O.reduce((me,Q)=>me+(Q.clicks_count||0),0),X=O.reduce((me,Q)=>me+(Q.search_count||0),0),$=O.length>0?Math.round(K/O.length):0,oe=O.length?O.reduce((me,Q)=>(Q.views_count||0)>(me?.views_count||0)?Q:me,O[0]):null,q=O.length?O.reduce((me,Q)=>(Q.clicks_count||0)>(me?.clicks_count||0)?Q:me,O[0]):null,Y=O.length?O.reduce((me,Q)=>(Q.search_count||0)>(me?.search_count||0)?Q:me,O[0]):null,ce=se.filter(me=>["pending","confirmed","arrived","started"].includes(me.booking_request_status)),le=se.filter(me=>me.booking_request_status==="pending"),be=se.filter(me=>me.booking_request_status==="confirmed"),ge=se.filter(me=>me.booking_request_status==="confirmed").reduce((me,Q)=>me+parseFloat(Q.total_booking_price||0),0);a({totalCars:U.data.cars?.total||O.length,activeBookings:ce.length,pendingBookings:le.length,confirmedBookings:be.length,totalRevenue:ge,totalViews:K,totalClicks:M,totalSearches:X,avgViewsPerCar:$,topViewedCar:oe,topClickedCar:q,topSearchedCar:Y});const V=[...O].sort((me,Q)=>(Q.views_count||0)+(Q.clicks_count||0)*2+(Q.search_count||0)-((me.views_count||0)+(me.clicks_count||0)*2+(me.search_count||0))).slice(0,3).map(me=>({id:me.id,name:`${me.make} ${me.model}`,image:me.main_image_url,views:me.views_count||0,clicks:me.clicks_count||0,searches:me.search_count||0,dailyRate:me.daily_rate,category:me.car_category}));d(V);const H=se.sort((me,Q)=>new Date(Q.created_at)-new Date(me.created_at)).slice(0,8).map(me=>{const Q={pending:"New booking request received",confirmed:"Booking confirmed",cancelled:"Booking cancelled",completed:"Trip completed successfully",arrived:"Driver arrived",started:"Ride in progress"},te=me.car?`${me.car.make} ${me.car.model}`:"Unknown Car",ee=me.client?`${me.client.first_name} ${me.client.last_name}`:"Unknown Client";return{message:Q[me.booking_request_status]||"Status updated",car:te,client:ee,time:new Date(me.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),date:new Date(me.created_at).toLocaleDateString([],{month:"short",day:"numeric"}),status:me.booking_request_status,amount:me.total_booking_price,location:me.pickup_location||"N/A"}});o(H.length?H:[{message:"No recent activity",time:"",isEmpty:!0}])}catch(U){console.error("Dashboard error:",U),v(!0),ve.error("Failed to load dashboard data.")}finally{g(!1)}};_.useEffect(()=>{const U=JSON.parse(localStorage.getItem("user"));U&&r(U),S()},[]);const C=async()=>{try{await Oe.post("/logout")}catch{}localStorage.clear(),t("/auth")},B=[{title:"Add New Car",icon:sr,href:"/add-car",color:ls.teal,description:"List a new vehicle"},{title:"My Fleet",icon:Kt,href:"/Mycars",color:ls.darkBlue,description:"Manage your cars"},{title:"Bookings",icon:kN,href:"/Mycars-bookings",color:ls.limeGreen,description:"View all bookings"},{title:"Analytics",icon:Zl,href:"/statistic",color:ls.teal,description:"View statistics"},{title:"Balance",icon:Yx,href:"/Balance",color:ls.limeGreen,description:"Earnings & app fees"}],E=U=>{const L={pending:{color:"bg-amber-500",icon:n_,label:"Pending",bgColor:"bg-amber-500/10",textColor:"text-amber-600 dark:text-amber-400"},confirmed:{color:"bg-blue-500",icon:Gr,label:"Confirmed",bgColor:"bg-blue-500/10",textColor:"text-blue-600 dark:text-blue-400"},cancelled:{color:"bg-gray-500",icon:Zn,label:"Cancelled",bgColor:"bg-gray-500/10",textColor:"text-gray-600 dark:text-gray-400"},completed:{color:"bg-emerald-500",icon:Gr,label:"Completed",bgColor:"bg-emerald-500/10",textColor:"text-emerald-600 dark:text-emerald-400"},arrived:{color:"bg-cyan-500",icon:Ps,label:"Arrived",bgColor:"bg-cyan-500/10",textColor:"text-cyan-600 dark:text-cyan-400"},started:{color:"bg-purple-500",icon:Kx,label:"In Progress",bgColor:"bg-purple-500/10",textColor:"text-purple-600 dark:text-purple-400"}};return L[U]||L.pending},z={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.08}}},T={hidden:{opacity:0,y:15},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:12}}},W=[{title:"Total Fleet",value:n.totalCars,icon:Kt,color:ls.darkBlue,change:`${n.totalCars} vehicles`,changeType:"neutral",description:"Active listings"},{title:"Total Views",value:n.totalViews.toLocaleString(),icon:nr,color:ls.teal,change:`${n.avgViewsPerCar} avg/car`,changeType:"neutral",description:"All time views"},{title:"Total Clicks",value:n.totalClicks.toLocaleString(),icon:hd,color:ls.limeGreen,change:"Detail opens",changeType:"neutral",description:"Car detail page opens"},{title:"Active Bookings",value:n.activeBookings,icon:um,color:ls.teal,change:`${n.confirmedBookings} confirmed`,changeType:"neutral",description:"Ongoing rentals"}];return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900",children:[s.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:[s.jsx(rt.div,{animate:{scale:[1,1.1,1],opacity:[.06,.1,.06]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute -top-1/4 -left-1/4 w-1/3 h-1/3 rounded-full blur-3xl",style:{backgroundColor:`${ls.darkBlue}30`}}),s.jsx(rt.div,{animate:{scale:[1,1.15,1],opacity:[.05,.08,.05]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:2},className:"absolute top-1/2 -right-1/4 w-1/3 h-1/3 rounded-full blur-3xl",style:{backgroundColor:`${ls.teal}30`}})]}),s.jsx("header",{className:"sticky top-0 z-50 backdrop-blur-xl bg-white/80 dark:bg-gray-900/80 border-b border-gray-200/50 dark:border-gray-800/50 shadow-sm",children:s.jsx("div",{className:"container mx-auto px-4 sm:px-6 py-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(rt.div,{whileHover:{rotate:90},transition:{duration:.3},children:s.jsx(pe,{variant:"ghost",size:"icon",className:"lg:hidden h-8 w-8",children:s.jsx(aM,{className:"w-4 h-4"})})}),s.jsxs("div",{children:[s.jsxs("h1",{className:"text-lg sm:text-xl md:text-2xl font-bold bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(to right, ${ls.darkBlue}, ${ls.teal}, ${ls.limeGreen})`},children:["Welcome back",e?.username?`, ${e.username}`:"","!"]}),s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 hidden sm:block",children:"Your fleet performance dashboard"})]})]}),s.jsxs("div",{className:"flex items-center gap-1.5",children:[s.jsxs("div",{className:"relative",children:[s.jsx(rt.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:s.jsxs(pe,{variant:"ghost",size:"icon",className:"relative h-8 w-8",onClick:()=>j(!w),children:[s.jsx(zx,{className:"w-4 h-4"}),n.pendingBookings>0&&s.jsx(rt.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-0.5 -right-0.5 text-white text-[10px] font-bold rounded-full w-4 h-4 flex items-center justify-center shadow-lg",style:{backgroundColor:ls.teal},children:n.pendingBookings})]})}),s.jsx(Go,{children:w&&s.jsxs(rt.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"absolute right-0 mt-2 w-80 bg-white dark:bg-gray-900 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-800 overflow-hidden",children:[s.jsxs("div",{className:"p-3 text-white",style:{background:`linear-gradient(to right, ${ls.darkBlue}, ${ls.teal})`},children:[s.jsx("h3",{className:"font-bold text-base",children:"Notifications"}),s.jsxs("p",{className:"text-xs opacity-90",children:[n.pendingBookings," pending actions"]})]}),s.jsx("div",{className:"max-h-80 overflow-y-auto",children:i.slice(0,5).map((U,L)=>{const Z=E(U.status);return s.jsx("div",{className:"p-3 border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:s.jsxs("div",{className:"flex items-start gap-2",children:[s.jsx("div",{className:`w-7 h-7 rounded-full ${Z.color} flex items-center justify-center flex-shrink-0`,children:s.jsx(Z.icon,{className:"w-3 h-3 text-white"})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("p",{className:"text-xs font-medium text-gray-900 dark:text-gray-100",children:U.message}),s.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 truncate",children:U.car}),U.amount&&s.jsxs("p",{className:"text-[10px] font-semibold",style:{color:ls.teal},children:["$",U.amount]}),s.jsxs("p",{className:"text-[10px] text-gray-400 dark:text-gray-500 mt-0.5",children:[U.date," at ",U.time]})]})]})},L)})}),s.jsx("div",{className:"p-2 bg-gray-50 dark:bg-gray-800/50",children:s.jsxs(pe,{variant:"ghost",className:"w-full text-xs h-8",style:{color:ls.teal},onClick:()=>t("/Mycars-bookings"),children:["View All Bookings",s.jsx(An,{className:"w-3 h-3 ml-1"})]})})]})})]}),s.jsx(rt.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:s.jsx(pe,{variant:"ghost",size:"icon",onClick:k,className:"h-8 w-8",children:b?s.jsx(qx,{className:"w-4 h-4"}):s.jsx(Hx,{className:"w-4 h-4"})})}),s.jsx(rt.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:s.jsx(pe,{variant:"ghost",size:"icon",className:"h-8 w-8 hidden sm:flex",children:s.jsx(Pm,{className:"w-4 h-4"})})}),s.jsx(rt.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:s.jsx(pe,{variant:"ghost",size:"icon",onClick:C,className:"h-8 w-8 hover:bg-red-50 dark:hover:bg-red-950/30 text-red-600 dark:text-red-400",children:s.jsx(Xl,{className:"w-4 h-4"})})})]})]})})}),s.jsxs("main",{className:"container mx-auto px-4 sm:px-6 py-6 max-w-7xl relative z-10",children:[f&&s.jsx(rt.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",children:s.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4",children:[1,2,3,4].map(U=>s.jsx(Ue,{className:"overflow-hidden",children:s.jsx(qe,{className:"p-3 md:p-4",children:s.jsxs("div",{className:"animate-pulse space-y-2",children:[s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsx("div",{className:"h-9 w-9 bg-gray-200 dark:bg-gray-700 rounded-lg"}),s.jsx("div",{className:"h-4 w-12 bg-gray-200 dark:bg-gray-700 rounded-full"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsx("div",{className:"h-3 w-20 bg-gray-200 dark:bg-gray-700 rounded"}),s.jsx("div",{className:"h-6 w-14 bg-gray-300 dark:bg-gray-600 rounded"})]})]})})},U))})}),!f&&y&&s.jsxs(rt.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-16",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-red-100 dark:bg-red-900/20 mb-4",children:s.jsx(Yl,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),s.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Unable to Load Dashboard"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Please try again."}),s.jsxs(pe,{onClick:S,className:"text-white",style:{background:`linear-gradient(to right, ${ls.darkBlue}, ${ls.teal})`},children:[s.jsx(um,{className:"w-4 h-4 mr-2"}),"Retry"]})]}),!f&&!y&&s.jsxs(rt.div,{variants:z,initial:"hidden",animate:"visible",className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4",children:[W.map((U,L)=>s.jsx(rt.div,{variants:T,whileHover:{y:-4,transition:{duration:.2}},children:s.jsxs(Ue,{className:"relative overflow-hidden group hover:shadow-xl transition-all duration-300 border-0 bg-white dark:bg-gray-900",children:[s.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-10 transition-opacity duration-300",style:{backgroundColor:U.color}}),s.jsxs(qe,{className:"p-3 md:p-4 relative",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("div",{className:"w-9 h-9 md:w-10 md:h-10 rounded-lg p-2 shadow-md group-hover:scale-110 transition-transform duration-300",style:{backgroundColor:U.color},children:s.jsx(U.icon,{className:"w-full h-full text-white"})}),s.jsx("div",{className:`flex items-center gap-0.5 px-1.5 py-0.5 rounded-full text-[10px] font-semibold
                          ${U.changeType==="up"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":""}
                          ${U.changeType==="neutral"?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":""}
                        `,children:U.change})]}),s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("p",{className:"text-[10px] md:text-xs font-medium text-gray-600 dark:text-gray-400",children:U.title}),s.jsx("p",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-white tracking-tight",children:U.value}),s.jsx("p",{className:"text-[9px] md:text-[10px] text-gray-500 dark:text-gray-500",children:U.description})]}),s.jsx("div",{className:"absolute -bottom-2 -right-2 w-20 h-20 rounded-full blur-2xl opacity-5 group-hover:opacity-20 transition-opacity duration-300",style:{backgroundColor:U.color}})]})]})},L)),h!=null&&s.jsx(rt.div,{variants:T,children:s.jsxs(Ue,{className:"relative overflow-hidden group hover:shadow-xl transition-all duration-300 border-0 bg-white dark:bg-gray-900 cursor-pointer",onClick:()=>t("/Balance"),children:[s.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-10 transition-opacity duration-300",style:{backgroundColor:ls.limeGreen}}),s.jsxs(qe,{className:"p-3 md:p-4 relative",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("div",{className:"w-9 h-9 md:w-10 md:h-10 rounded-lg p-2 shadow-md group-hover:scale-110 transition-transform duration-300",style:{backgroundColor:ls.limeGreen},children:s.jsx(Yx,{className:"w-full h-full text-white"})}),s.jsx("span",{className:"text-[10px] font-semibold bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400 px-1.5 py-0.5 rounded-full",children:"Net earnings"})]}),s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("p",{className:"text-[10px] md:text-xs font-medium text-gray-600 dark:text-gray-400",children:"Your earnings"}),s.jsxs("p",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-white tracking-tight",children:["$",(parseFloat(h?.net_earnings)||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),s.jsx("p",{className:"text-[9px] md:text-[10px] text-gray-500 dark:text-gray-500",children:"View balance "})]})]})]})})]}),s.jsxs(rt.div,{variants:T,children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-white",children:"Quick Actions"}),s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-0.5",children:"Manage your fleet"})]})}),s.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4",children:B.map((U,L)=>s.jsx(rt.div,{variants:T,whileHover:{scale:1.02,y:-3},whileTap:{scale:.98},children:s.jsx("a",{href:U.href,className:"block group",children:s.jsxs(Ue,{className:"relative overflow-hidden hover:shadow-xl transition-all duration-300 border-0 h-full",children:[s.jsx("div",{className:"absolute inset-0 opacity-5 group-hover:opacity-15 transition-opacity duration-300",style:{backgroundColor:U.color}}),s.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:s.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"})}),s.jsxs(qe,{className:"p-4 md:p-6 text-center relative",children:[s.jsxs("div",{className:"relative mb-3 inline-block",children:[s.jsx("div",{className:"w-12 h-12 md:w-14 md:h-14 rounded-xl p-3 shadow-lg group-hover:shadow-xl group-hover:scale-110 transition-all duration-300",style:{backgroundColor:U.color},children:s.jsx(U.icon,{className:"w-full h-full text-white"})}),s.jsx("div",{className:"absolute inset-0 rounded-xl blur-lg opacity-0 group-hover:opacity-50 transition-opacity duration-300",style:{backgroundColor:U.color}})]}),s.jsx("h4",{className:"text-sm md:text-base font-bold text-gray-900 dark:text-white mb-1",children:U.title}),s.jsx("p",{className:"text-[10px] md:text-xs text-gray-600 dark:text-gray-400",children:U.description}),s.jsxs("div",{className:"mt-2 flex items-center justify-center gap-1 opacity-0 group-hover:opacity-100 transition-all duration-300 transform translate-y-1 group-hover:translate-y-0",style:{color:U.color},children:[s.jsx("span",{className:"text-xs font-semibold",children:"Go"}),s.jsx(An,{className:"w-3 h-3"})]})]})]})})},L))})]}),c.length>0&&s.jsxs(rt.div,{variants:T,children:[s.jsx("div",{className:"flex items-center justify-between mb-4",children:s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-white",children:"Top Performing Cars"}),s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-0.5",children:"Views, clicks & search count"})]})}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-3 md:gap-4",children:c.map((U,L)=>s.jsx(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*L},whileHover:{y:-4},children:s.jsx(Ue,{className:"overflow-hidden hover:shadow-xl transition-all duration-300 border-0",children:s.jsxs(qe,{className:"p-0",children:[s.jsxs("div",{className:"relative h-32 bg-gray-100 dark:bg-gray-800",children:[s.jsx("img",{src:`/api/storage/${U.image}`,alt:U.name,className:"w-full h-full object-cover"}),s.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),s.jsx(We,{className:"absolute top-2 right-2 text-white border-0",style:{backgroundColor:ls.teal},children:U.category})]}),s.jsxs("div",{className:"p-3",children:[s.jsx("h4",{className:"font-bold text-sm mb-2 text-gray-900 dark:text-white truncate",children:U.name}),s.jsxs("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1.5 text-xs",children:[s.jsxs("div",{className:"flex items-center gap-1",style:{color:ls.teal},title:"Views (impressions)",children:[s.jsx(nr,{className:"w-3 h-3 shrink-0"}),s.jsx("span",{className:"font-semibold",children:U.views})]}),s.jsxs("div",{className:"flex items-center gap-1",style:{color:ls.limeGreen},title:"Clicks (detail opens)",children:[s.jsx(hd,{className:"w-3 h-3 shrink-0"}),s.jsx("span",{className:"font-semibold",children:U.clicks})]}),s.jsxs("div",{className:"flex items-center gap-1",style:{color:ls.darkBlue},title:"Search count",children:[s.jsx(Br,{className:"w-3 h-3 shrink-0"}),s.jsx("span",{className:"font-semibold",children:U.searches})]}),s.jsxs("div",{className:"font-bold ml-auto",style:{color:ls.darkBlue},children:["$",U.dailyRate,"/day"]})]})]})]})})},U.id))})]}),h!=null&&s.jsx(rt.div,{variants:T,children:s.jsx(Ue,{className:"overflow-hidden border-0 shadow-lg cursor-pointer hover:shadow-xl transition-all",style:{background:`linear-gradient(to bottom right, ${ls.darkBlue}, ${ls.teal})`},onClick:()=>t("/Balance"),children:s.jsxs(qe,{className:"p-4 md:p-6 text-white",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"text-lg font-bold",children:"Earnings & Balance"}),s.jsx("span",{className:"text-xs opacity-90",children:"View details "})]}),s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium opacity-90",children:"Total booking amount"}),s.jsxs("p",{className:"text-xl md:text-2xl font-bold",children:["$",(parseFloat(h.total_amount)||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium opacity-90",children:"App fees"}),s.jsxs("p",{className:"text-xl md:text-2xl font-bold",children:["$",(parseFloat(h.app_fees_amount)||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium opacity-90",children:"Your net earnings"}),s.jsxs("p",{className:"text-xl md:text-2xl font-bold",style:{color:ls.limeGreen},children:["$",(parseFloat(h.net_earnings)||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium opacity-90",children:"From bookings"}),s.jsx("p",{className:"text-xl md:text-2xl font-bold",children:h.bookings_count??0})]})]}),h.app_fees_percentage!=null&&s.jsxs("p",{className:"text-xs mt-3 opacity-90",children:["Fee: ",h.app_fees_percentage,"%"]})]})})}),s.jsx(rt.div,{variants:T,children:s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:[s.jsx(Ue,{className:"overflow-hidden border-0 shadow-lg text-white",style:{background:`linear-gradient(to bottom right, ${ls.teal}, ${ls.limeGreen})`},children:s.jsxs(qe,{className:"p-4 md:p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium mb-1 opacity-90",children:"Total Revenue"}),s.jsxs("h3",{className:"text-3xl md:text-4xl font-bold",children:["$",h!=null?(parseFloat(h.total_amount)||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):n.totalRevenue.toFixed(2)]})]}),s.jsx("div",{className:"w-11 h-11 md:w-12 md:h-12 rounded-lg bg-white/20 backdrop-blur-sm p-2.5",children:s.jsx(cr,{className:"w-full h-full"})})]}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-full bg-white/20 backdrop-blur-sm text-[10px] font-semibold",children:[s.jsx(Zl,{className:"w-2.5 h-2.5"}),h!=null?`${h.bookings_count??0} confirmed + completed`:`${n.confirmedBookings} confirmed`," bookings"]})}),s.jsx("div",{className:"mt-4 pt-4 border-t border-white/20",children:s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"opacity-90",children:"Pending bookings"}),s.jsx("span",{className:"font-bold",children:n.pendingBookings})]})})]})}),s.jsx(Ue,{className:"overflow-hidden border-0 shadow-lg text-white",style:{background:`linear-gradient(to bottom right, ${ls.darkBlue}, ${ls.teal})`},children:s.jsxs(qe,{className:"p-4 md:p-6",children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium mb-1 opacity-90",children:"Fleet Visibility"}),s.jsx("h3",{className:"text-3xl md:text-4xl font-bold",children:n.totalViews.toLocaleString()}),s.jsx("p",{className:"text-xs opacity-90 mt-0.5",children:"Total views (impressions)"})]}),s.jsx("div",{className:"w-11 h-11 md:w-12 md:h-12 rounded-lg bg-white/20 backdrop-blur-sm p-2.5",children:s.jsx(nr,{className:"w-full h-full"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"opacity-90",children:"Total clicks (detail opens)"}),s.jsx("span",{className:"font-bold",children:n.totalClicks.toLocaleString()})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"opacity-90",children:"Total searches"}),s.jsx("span",{className:"font-bold",children:n.totalSearches.toLocaleString()})]}),s.jsxs("div",{className:"flex items-center justify-between text-xs",children:[s.jsx("span",{className:"opacity-90",children:"Avg per vehicle"}),s.jsxs("span",{className:"font-bold",children:[n.avgViewsPerCar," views"]})]})]}),s.jsxs("div",{className:"mt-4 pt-4 border-t border-white/20 space-y-2",children:[s.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-full bg-white/20 backdrop-blur-sm text-[10px] font-semibold w-fit",children:[s.jsx(nr,{className:"w-2.5 h-2.5"}),"Most viewed: ",n.topViewedCar?.make," ",n.topViewedCar?.model]}),s.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-full bg-white/20 backdrop-blur-sm text-[10px] font-semibold w-fit",children:[s.jsx(hd,{className:"w-2.5 h-2.5"}),"Most clicked: ",n.topClickedCar?.make," ",n.topClickedCar?.model]}),s.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-full bg-white/20 backdrop-blur-sm text-[10px] font-semibold w-fit",children:[s.jsx(Br,{className:"w-2.5 h-2.5"}),"Most searched: ",n.topSearchedCar?.make," ",n.topSearchedCar?.model]})]})]})})]})})]}),s.jsxs(rt.div,{variants:T,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-white",children:"Recent Activity"}),s.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-0.5",children:"Latest bookings"})]}),s.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>t("/Mycars-bookings"),className:"hidden sm:flex text-xs h-8",children:["View All",s.jsx(An,{className:"w-3 h-3 ml-1"})]})]}),s.jsx(Ue,{className:"overflow-hidden border-0 shadow-lg bg-white dark:bg-gray-900",children:s.jsx(qe,{className:"p-0",children:i.map((U,L)=>{const Z=E(U.status),O=Z.icon;return s.jsx(rt.div,{initial:{opacity:0,x:-15},animate:{opacity:1,x:0},transition:{delay:L*.04},className:"group hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-all duration-200 border-b border-gray-100 dark:border-gray-800 last:border-b-0",children:s.jsxs("div",{className:"p-3 md:p-4 flex items-center gap-3",children:[s.jsx("div",{className:`flex-shrink-0 w-9 h-9 md:w-10 md:h-10 rounded-lg ${Z.bgColor} flex items-center justify-center group-hover:scale-110 transition-transform duration-200`,children:s.jsx(O,{className:`w-4 h-4 md:w-5 md:h-5 ${Z.textColor}`})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2 mb-0.5",children:[s.jsx("p",{className:`text-xs md:text-sm font-semibold ${U.isEmpty?"italic text-gray-500":"text-gray-900 dark:text-gray-100"}`,children:U.message}),s.jsx(We,{className:`${Z.bgColor} ${Z.textColor} border-0 flex-shrink-0 text-[10px] px-2 py-0.5`,children:Z.label})]}),s.jsx("div",{className:"flex items-center gap-2 md:gap-3 text-[10px] md:text-xs text-gray-500 dark:text-gray-400 flex-wrap",children:!U.isEmpty&&s.jsxs(s.Fragment,{children:[s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Kt,{className:"w-2.5 h-2.5 md:w-3 md:h-3"}),s.jsx("span",{className:"truncate max-w-[100px]",children:U.car})]}),U.amount&&s.jsxs("span",{className:"font-bold",style:{color:ls.teal},children:["$",U.amount]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(hh,{className:"w-2.5 h-2.5 md:w-3 md:h-3"}),U.date," ",U.time]})]})})]}),!U.isEmpty&&s.jsx(An,{className:"w-4 h-4 text-gray-400 opacity-0 group-hover:opacity-100 group-hover:translate-x-0.5 transition-all duration-200 hidden md:block"})]})},L)})})})]})]})]})}const Ws={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640",darkBlueDim:"rgba(14, 76, 129, 0.1)",tealDim:"rgba(0, 140, 149, 0.1)",limeGreenDim:"rgba(138, 198, 64, 0.1)"},v1=t=>{if(t==null||t==="")return"0.00";const e=parseFloat(t);return Number.isNaN(e)?"0.00":e.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})};function $ue(){const t=sn(),[e,r]=_.useState(!0),[n,a]=_.useState(!1),[i,o]=_.useState(null),c=async()=>{r(!0),a(!1);try{const{data:d}=await KF();o(d)}catch(d){console.error("Failed to load earnings:",d),a(!0),ve.error("Failed to load earnings. Please try again.")}finally{r(!1)}};return _.useEffect(()=>{c()},[]),e&&!i?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900 pt-20 flex items-center justify-center",children:s.jsx(rt.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-14 h-14 rounded-full border-4 border-t-transparent",style:{borderColor:Ws.tealDim,borderTopColor:Ws.teal}})}):s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900 pt-20",children:s.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[s.jsx(rt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-8",children:s.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("div",{className:"w-14 h-14 rounded-xl flex items-center justify-center shadow-lg",style:{background:`linear-gradient(135deg, ${Ws.teal}, ${Ws.darkBlue})`},children:s.jsx(Yx,{className:"w-7 h-7 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(135deg, ${Ws.darkBlue}, ${Ws.teal})`},children:"Balance & Earnings"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Total amount, app fees, and your net earnings"})]})]}),s.jsxs(rt.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:c,disabled:e,className:"flex items-center gap-2 px-4 py-2.5 rounded-xl font-medium border-2 transition-colors",style:{borderColor:Ws.teal,color:Ws.teal},children:[s.jsx(Mt,{className:`w-5 h-5 ${e?"animate-spin":""}`}),"Refresh"]})]})}),n&&!i?s.jsxs(Ue,{className:"border-2 rounded-2xl p-8 text-center",children:[s.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Could not load earnings."}),s.jsx(rt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:c,className:"px-5 py-2.5 rounded-xl text-white font-semibold",style:{background:`linear-gradient(135deg, ${Ws.teal}, ${Ws.darkBlue})`},children:"Try again"})]}):i?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[s.jsx(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:s.jsx(Ue,{className:"border-2 rounded-2xl overflow-hidden shadow-lg h-full",style:{borderColor:Ws.tealDim},children:s.jsxs(qe,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-2.5 rounded-xl",style:{background:Ws.tealDim},children:s.jsx(cr,{className:"w-6 h-6",style:{color:Ws.teal}})}),s.jsx("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Total booking amount"})]}),s.jsxs("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:["$",v1(i.total_amount)]}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"What clients paid (confirmed + completed)"})]})})}),s.jsx(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:s.jsx(Ue,{className:"border-2 rounded-2xl overflow-hidden shadow-lg h-full",style:{borderColor:Ws.darkBlueDim},children:s.jsxs(qe,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-2.5 rounded-xl",style:{background:Ws.darkBlueDim},children:s.jsx(GE,{className:"w-6 h-6",style:{color:Ws.darkBlue}})}),s.jsx("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:"App fees (platform)"})]}),s.jsxs("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:["$",v1(i.app_fees_amount)]}),s.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Deducted from you  Fee: ",i.app_fees_percentage!=null?`${i.app_fees_percentage}%`:""]})]})})}),s.jsx(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:s.jsx(Ue,{className:"border-2 rounded-2xl overflow-hidden shadow-lg h-full",style:{borderColor:Ws.limeGreenDim},children:s.jsxs(qe,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[s.jsx("div",{className:"p-2.5 rounded-xl",style:{background:Ws.limeGreenDim},children:s.jsx(Zl,{className:"w-6 h-6",style:{color:Ws.limeGreen}})}),s.jsx("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Your net earnings"})]}),s.jsxs("p",{className:"text-3xl font-bold",style:{color:Ws.limeGreen},children:["$",v1(i.net_earnings)]}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Total amount  app fees"})]})})})]}),s.jsxs(rt.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"flex flex-wrap items-center gap-6 p-4 rounded-2xl border-2 bg-white dark:bg-gray-800/50",style:{borderColor:Ws.tealDim},children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(gG,{className:"w-5 h-5",style:{color:Ws.teal}}),s.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["From ",s.jsx("strong",{children:i.bookings_count??0})," bookings"]})]}),i.app_fees_percentage!=null&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(GE,{className:"w-5 h-5",style:{color:Ws.darkBlue}}),s.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Your app fee: ",s.jsxs("strong",{children:[i.app_fees_percentage,"%"]})]})]})]}),s.jsx(rt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-8",children:s.jsx(Ue,{className:"border-2 rounded-2xl overflow-hidden cursor-pointer hover:shadow-xl transition-all",style:{borderColor:Ws.tealDim},onClick:()=>t("/Mycars-bookings"),children:s.jsxs(qe,{className:"p-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("div",{className:"p-2 rounded-xl",style:{background:Ws.tealDim},children:s.jsx(Hs,{className:"w-5 h-5",style:{color:Ws.teal}})}),s.jsxs("div",{children:[s.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:"View bookings"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"See amount and app fee per booking"})]})]}),s.jsx(An,{className:"w-5 h-5 text-gray-400"})]})})})]}):null]})})}const Hue=({noIndex:t=!1})=>{_.useEffect(()=>{document.title="Rento LB | Rent & Compare Cars in Lebanon";let c=document.querySelector('meta[name="robots"]');c||(c=document.createElement("meta"),c.setAttribute("name","robots"),document.head.appendChild(c)),c.setAttribute("content",t?"noindex,nofollow":"index,follow")},[t]);const e=!1,r={en:[{question:"How do I rent a car on Rento LB?",answer:"Rento LB makes car rental easy. Simply browse our selection of vehicles from trusted agencies and private owners, choose your rental dates, and complete your booking online."}],fr:[{question:"Comment louer une voiture sur Rento LB ?",answer:"Rento LB simplifie la location de voitures en vous connectant directement avec des agences et propritaires."}],ar:[{question:"    Rento LB",answer:"         ."}]},n={"@context":"https://schema.org","@type":"RentalCarAgency","@id":"https://rento-lb.com/#organization",name:"Rento LB",alternateName:"Rento Lebanon",url:"https://rento-lb.com/",logo:{"@type":"ImageObject","@id":"https://rento-lb.com/#logo",url:"https://rento-lb.com/rento-512.png",contentUrl:"https://rento-lb.com/rento-512.png",width:512,height:512},image:"https://rento-lb.com/rento-512.png",telephone:"+96181001301",email:"social@rento-lb.com",address:{"@type":"PostalAddress",streetAddress:"City Center",addressLocality:"Beirut",addressCountry:"LB"},areaServed:{"@type":"Country",name:"Lebanon"},description:"Car rental marketplace in Lebanon connecting renters with private owners and agencies. Transparent pricing and direct communication.",priceRange:"$$",currenciesAccepted:"USD, LBP",paymentAccepted:["Cash"],founder:{"@type":"Person",name:"Rami Zeaiter"},contactPoint:[{"@type":"ContactPoint",telephone:"+96181001301",contactType:"customer support",areaServed:"LB",availableLanguage:["English","French","Arabic"]}],sameAs:["https://www.facebook.com/profile.php?id=61585450048575","https://www.instagram.com/rentolebanon","https://www.tiktok.com/@rentolebanon","https://x.com/RENTO_lb","https://www.linkedin.com/company/rento-lb/about/"],...e},a={"@context":"https://schema.org","@type":"WebSite","@id":"https://rento-lb.com/#website",name:"Rento LB",url:"https://rento-lb.com/",publisher:{"@id":"https://rento-lb.com/#organization"},potentialAction:{"@type":"SearchAction",target:"https://rento-lb.com/search?query={search_term_string}","query-input":"required name=search_term_string"},inLanguage:["en","fr","ar"]},i={"@context":"https://schema.org","@type":"FAQPage","@id":"https://rento-lb.com/#faq",mainEntity:Object.values(r).flat().map(c=>({"@type":"Question",name:c.question,acceptedAnswer:{"@type":"Answer",text:c.answer}}))},o={"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"Home",item:"https://rento-lb.com/"}]};return s.jsxs(s.Fragment,{children:[s.jsx("meta",{name:"trustpilot-one-time-domain-verification-id",content:"2ddec9a3-46a7-4ab8-a397-7482d145e508"}),s.jsx("meta",{name:"description",content:"Compare rental cars in Lebanon from agencies and private owners. Book easily and communicate directly."}),s.jsx("meta",{name:"keywords",content:"car rental Lebanon, rent a car Beirut, private car rental Lebanon"}),s.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),s.jsx("meta",{name:"theme-color",content:"#0d9488"}),s.jsx("meta",{name:"author",content:"Rento LB"}),s.jsx("link",{rel:"canonical",href:"https://rento-lb.com"}),s.jsx("meta",{property:"og:type",content:"website"}),s.jsx("meta",{property:"og:url",content:"https://rento-lb.com"}),s.jsx("meta",{property:"og:title",content:"Rento LB | Car Rental in Lebanon"}),s.jsx("meta",{property:"og:description",content:"Find rental cars across Lebanon."}),s.jsx("meta",{property:"og:image",content:"https://rento-lb.com/og-cover.png"}),s.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(n)}}),s.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(a)}}),s.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(i)}}),s.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(o)}})]})},que=[{label:"Beirut",value:"beirut"},{label:"Mount Lebanon",value:"mount-liban"},{label:"North",value:"north"},{label:"South",value:"south"},{label:"Bekaa",value:"bekaa"},{label:"Baalbek",value:"baalbek"},{label:"Keserwan",value:"keserwan"},{label:"Nabatieh",value:"nabatieh"},{label:"Akkar",value:"akkar"}];function Wue(t){if(!t||typeof t!="string")return null;const e=t.trim(),r=e.match(/@(-?\d+\.?\d*),(-?\d+\.?\d*)/);if(r)return{lat:parseFloat(r[1]),lng:parseFloat(r[2])};const n=e.match(/[?&]q=(-?\d+\.?\d*),(-?\d+\.?\d*)/);if(n)return{lat:parseFloat(n[1]),lng:parseFloat(n[2])};const a=e.match(/(?:!3d|!4d|!1d)(-?\d+\.?\d*)/g);if(a&&a.length>=2){const i=parseFloat(String(a[0]).replace(/\D/g,"")),o=parseFloat(String(a[1]).replace(/\D/g,""));if(!isNaN(i)&&!isNaN(o))return{lat:i,lng:o}}return null}function Gue(){const t=sn(),e=_.useMemo(()=>`cp_${Date.now()}_${Math.random().toString(16).slice(2)}`,[]),r=(...ee)=>{console.log(`[CompleteProfile ${e}]`,...ee)},n=()=>{try{r("axios.baseURL =",Oe?.defaults?.baseURL),r("axios.withCredentials =",Oe?.defaults?.withCredentials),r("axios.headers.Authorization =",Oe?.defaults?.headers?.common?.Authorization)}catch(ee){r("Failed to read axios defaults",ee)}},a=ee=>{try{const Ce=[];for(const[F,Ee]of ee.entries())Ee instanceof File?Ce.push({key:F,type:"File",name:Ee.name,size:Ee.size,mime:Ee.type}):Ce.push({key:F,type:typeof Ee,value:Ee});return r("FormData entries =>",Ce),Ce}catch(Ce){return r("Failed to dump FormData",Ce),null}},[i,o]=_.useState(null),[c,d]=_.useState(!1),[h,m]=_.useState(null),[f,g]=_.useState({first_name:"",last_name:"",gender:"",birth_date:"",city:"",bio:"",profile_picture:null,id_card_front:null,id_card_back:null,license_number:"",driver_license:null,profession:"",avg_salary:"",promo_code:"",business_type:"",company_number:"",business_doc:null,location:"",app_fees:"",contract_form:"",policies:"",website:""}),[y,v]=_.useState(!1),[w,j]=_.useState(!1),[b,N]=_.useState(null),[k,S]=_.useState({lat:33.8547,lng:35.8623}),[C,B]=_.useState(""),[E,z]=_.useState(""),[T,W]=_.useState(!1),[U,L]=_.useState(""),[Z,O]=_.useState(!1),se=i?.role==="client",K=i?.role==="agency"||i?.role==="agency",M=ee=>ee?String(ee).slice(0,10):"",X=ee=>{const Ce=ee?.user||{},F=ee?.client||Ce?.client||{},Ee=ee?.agency||Ce?.agency||ee?.agency||{};g(R=>({...R,first_name:Ce.first_name??R.first_name??"",last_name:Ce.last_name??R.last_name??"",gender:Ce.gender??R.gender??"",birth_date:M(Ce.birth_date)||R.birth_date||"",city:Ce.city??R.city??"",bio:Ce.bio??R.bio??"",license_number:F.license_number??R.license_number??"",profession:F.profession??R.profession??"",avg_salary:F.avg_salary??R.avg_salary??"",promo_code:F.promo_code??R.promo_code??"",business_type:Ee.business_type??R.business_type??"",company_number:Ee.company_number??R.company_number??"",location:Ee.location?typeof Ee.location=="string"?Ee.location:JSON.stringify(Ee.location):R.location??"",app_fees:Ee.app_fees??R.app_fees??"",contract_form:Ee.contract_form??R.contract_form??"",policies:Ee.policies??R.policies??"",website:Ee.website??R.website??""}));const J=(Ee.business_type||"").toString();if(v(J==="company"),Ee.location)try{const R=typeof Ee.location=="string"?JSON.parse(Ee.location):Ee.location;R.latitude&&R.longitude&&(N({lat:R.latitude,lng:R.longitude}),S({lat:R.latitude,lng:R.longitude}))}catch(R){r("Failed to parse existing location",R)}},$=()=>{if(!navigator.geolocation){ve.error("Geolocation is not supported by your browser"),oe();return}ve.info("Getting your location...");const ee={enableHighAccuracy:!0,timeout:15e3,maximumAge:6e4};navigator.geolocation.getCurrentPosition(Ce=>{const F={lat:parseFloat(Ce.coords.latitude.toFixed(6)),lng:parseFloat(Ce.coords.longitude.toFixed(6))};N(F),S(F);const Ee={latitude:F.lat,longitude:F.lng,country:"Lebanon"};g(J=>({...J,location:JSON.stringify(Ee)})),ve.success("Location detected successfully!"),r("Current location:",Ee)},Ce=>{r("Geolocation error:",Ce),ve.info("Location could not be detected. Select your location on the map."),j(!0)},ee)},oe=()=>{j(!0)},q=(ee,Ce)=>{const F={lat:parseFloat(ee.toFixed(6)),lng:parseFloat(Ce.toFixed(6))};N(F),r("Map clicked location:",F)},Y=()=>{if(b){const ee={latitude:b.lat,longitude:b.lng,country:"Lebanon"};g(Ce=>({...Ce,location:JSON.stringify(ee)})),ve.success("Location selected!"),j(!1)}else ve.error("Please select a location on the map")},ce=ee=>{const Ce=Wue(ee);if(Ce){const F={lat:parseFloat(Ce.lat.toFixed(6)),lng:parseFloat(Ce.lng.toFixed(6))};N(F),S(F);const Ee={latitude:F.lat,longitude:F.lng,country:"Lebanon"};g(J=>({...J,location:JSON.stringify(Ee)})),ve.success("Location set from Google Maps link.")}else ve.error("Could not read coordinates. Use a link with lat,lng (e.g. @33.89,35.50 or ?q=33.89,35.50).")},le=async(ee,Ce)=>{const F=ee.trim();if(F){Ce?O(!0):W(!0);try{const J=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(F)}&limit=1`,{headers:{Accept:"application/json"}})).json();if(J&&J[0]){const R=parseFloat(J[0].lat),P=parseFloat(J[0].lon),G={lat:R,lng:P};N(G),S(G);const we={latitude:R,longitude:P,country:"Lebanon"};g(de=>({...de,location:JSON.stringify(we)})),ve.success("Location found. Confirm in the modal if needed.")}else ve.error("No results found. Try another search.")}catch{ve.error("Search failed. Try again.")}finally{Ce?O(!1):W(!1)}}},be=()=>le(E,!1),ge=()=>le(U,!0),V=async()=>{try{n(),r("GET /profile/status starting...");const ee=await Oe.get("/profile/status",{headers:{"X-Debug-Id":e}});if(r("GET /profile/status success:",ee.status,ee.data),m(ee.data),X(ee.data),ee.data?.is_complete){const Ce=ee.data.user;r("Profile already complete. Redirecting. role =",Ce?.role),Ce?.role==="agency"||Ce?.role==="agency"?t("/Dashboard"):t("/")}}catch(ee){r("GET /profile/status FAILED",ee),ee?.response&&r("Status error response:",ee.response.status,ee.response.data)}};_.useEffect(()=>{const ee=JSON.parse(localStorage.getItem("user"));if(!ee){ve.error("Please login first"),t("/auth");return}o(ee),r("Loaded user from localStorage:",ee),V()},[t]);const H=ee=>{const{name:Ce,value:F,files:Ee}=ee.target;if(Ee){const J=Ee[0]||null;g(R=>({...R,[Ce]:J})),r("File changed:",Ce,J?{name:J.name,size:J.size,type:J.type}:null);return}g(J=>({...J,[Ce]:F})),r("Field changed:",Ce,F),Ce==="business_type"&&v(F==="company")},me=(ee,Ce)=>{g(F=>({...F,[ee]:Ce})),r("Select changed:",ee,Ce),ee==="business_type"&&v(Ce==="company")},Q=()=>{if(!f.first_name||!f.last_name||!f.gender||!f.birth_date||!f.city)return ve.error("Please fill all required base fields"),!1;if(!f.id_card_front||!f.id_card_back)return ve.error("Please upload both ID card photos"),!1;if(se){if(!f.license_number||!f.driver_license||!f.profession||!f.avg_salary)return ve.error("Please fill all required client fields"),!1;if(!["employee","freelancer","business","student","other"].includes(f.profession))return ve.error("Please select a valid profession"),!1;if(!["200-500","500-1000","1000-2000","2000+"].includes(f.avg_salary))return ve.error("Please select a valid salary range"),!1}if(K){if(console.log("[CompleteProfile Validate]","Agency validation started",{business_type:f.business_type,profession:f.profession,hasLocation:!!f.location,locationLength:f.location?.length}),!f.business_type||!f.profession)return console.log("[CompleteProfile Validate]","Failed: missing business_type or profession"),ve.error("Please fill all required agency fields"),!1;if(!f.location)return console.log("[CompleteProfile Validate]","Failed: no location"),ve.error("Please select your agency location. Opening map..."),j(!0),setTimeout(()=>document.getElementById("agency-location-section")?.scrollIntoView({behavior:"smooth"}),100),!1;if(!["rental","private","company","marina"].includes(f.business_type))return console.log("[CompleteProfile Validate]","Failed: invalid business_type",f.business_type),ve.error("Please select a valid business type"),!1;if(!["owner","manager"].includes(f.profession))return console.log("[CompleteProfile Validate]","Failed: invalid profession",f.profession),ve.error("Please select a valid profession"),!1;try{const F=JSON.parse(f.location);if(!F.latitude||!F.longitude)return console.log("[CompleteProfile Validate]","Failed: location missing lat/lng",F),ve.error("Invalid location data. Please select your location again"),!1;console.log("[CompleteProfile Validate]","Location OK",F)}catch(F){return console.log("[CompleteProfile Validate]","Failed: location parse error",F,"raw:",f.location),ve.error("Invalid location format. Please select your location again"),!1}if(f.business_type==="company"&&(!f.company_number||!f.business_doc))return console.log("[CompleteProfile Validate]","Failed: company fields",{company_number:f.company_number,business_doc:!!f.business_doc}),ve.error("Please fill company number and upload business document"),!1;console.log("[CompleteProfile Validate]","Agency validation passed")}return!0},te=async ee=>{ee.preventDefault();const Ce="[CompleteProfile Submit]";if(console.log(Ce,"Submit clicked",{role:i?.role,isClient:se,isAgency:K,formKeys:Object.keys(f)}),(i?.role==="agency"||i?.role==="agency")&&console.log(Ce,"Agency form state",{business_type:f.business_type,profession:f.profession,location:f.location,locationParsed:(()=>{try{return f.location?JSON.parse(f.location):null}catch(F){return{parseError:String(F.message)}}})(),company_number:f.company_number,business_doc:f.business_doc?.name??f.business_doc,app_fees:f.app_fees,contract_form:f.contract_form,policies:f.policies,website:f.website}),r("Submit clicked. role =",i?.role,"isClient =",se,"isAgency =",K),n(),!Q()){console.log(Ce,"Validation failed on client side."),r("Validation failed on client side.");return}try{d(!0);const F=new FormData;if(F.append("first_name",f.first_name),F.append("last_name",f.last_name),F.append("gender",f.gender.toLowerCase()),F.append("birth_date",f.birth_date),F.append("city",f.city.toLowerCase()),F.append("bio",f.bio||""),f.id_card_front&&F.append("id_card_front",f.id_card_front),f.id_card_back&&F.append("id_card_back",f.id_card_back),f.profile_picture&&F.append("profile_picture",f.profile_picture),se)F.append("license_number",f.license_number),f.driver_license&&F.append("driver_license",f.driver_license),F.append("profession",f.profession.toLowerCase()),F.append("avg_salary",f.avg_salary),f.promo_code?.trim()&&F.append("promo_code",f.promo_code.trim());else if(K){console.log("[CompleteProfile Submit]","Building agency FormData..."),F.append("business_type",f.business_type.toLowerCase()),F.append("profession",f.profession.toLowerCase());let we;try{we=JSON.parse(f.location);const he=JSON.stringify({latitude:parseFloat(we.latitude),longitude:parseFloat(we.longitude),country:we.country||"Lebanon"});F.append("location",he),console.log("[CompleteProfile Submit]","Location appended",{cleanedLocation:he,locationData:we})}catch(he){throw console.error("[CompleteProfile Submit]","Location parse/append error",he),console.log("[CompleteProfile Submit]","form.location raw:",f.location),he}f.app_fees?.trim()&&F.append("app_fees",f.app_fees.trim()),f.contract_form?.trim()&&F.append("contract_form",f.contract_form.trim()),f.policies?.trim()&&F.append("policies",f.policies.trim()),f.website?.trim()&&F.append("website",f.website.trim()),f.business_type==="company"&&(F.append("company_number",f.company_number),f.business_doc&&F.append("business_doc",f.business_doc),console.log("[CompleteProfile Submit]","Company fields appended",{company_number:f.company_number,business_doc:f.business_doc?.name??(f.business_doc?"present":"missing")}));const de=[];F.forEach((he,xe)=>{de.push({key:xe,value:he instanceof File?`File: ${he.name}`:he})}),console.log("[CompleteProfile Submit]","FormData entries (agency)",de)}a(F);const Ee=Oe.defaults?.baseURL?`${Oe.defaults.baseURL}/profile/complete`:"/profile/complete";console.log("[CompleteProfile Submit]","POST /profile/complete",{apiUrl:Ee,contentType:"multipart/form-data"}),r("POST /profile/complete starting...");const J=await Oe.post("/profile/complete",F,{headers:{"Content-Type":"multipart/form-data","X-Debug-Id":e}});console.log("[CompleteProfile Submit]","POST /profile/complete success",J.status,J.data),r("POST /profile/complete success:",J.status,J.data);const R=J.data.user;localStorage.setItem("user",JSON.stringify(R)),o(R),ve.success("Profile completed successfully!"),r("Refreshing status...");const P=await Oe.get("/profile/status",{headers:{"X-Debug-Id":e}});r("GET /profile/status after submit:",P.status,P.data),m(P.data);const G=P.data.is_complete;setTimeout(()=>{G?R.role==="agency"||R.role==="agency"?t("/Dashboard"):t("/"):ve.warning("Please complete all required fields")},500)}catch(F){if(console.error("[CompleteProfile Submit]","Request failed",F),console.log("[CompleteProfile Submit]","Error name:",F?.name,"message:",F?.message),r("POST /profile/complete FAILED:",F),F?.response){if(console.log("[CompleteProfile Submit]","Response status:",F.response.status),console.log("[CompleteProfile Submit]","Response data:",F.response.data),console.log("[CompleteProfile Submit]","Response headers:",JSON.stringify(F.response.headers,null,2)),r("Error response status:",F.response.status),r("Error response data:",F.response.data),r("Error response headers:",F.response.headers),F.response.status===403){const Ee=F.response?.data?.message||F.response?.data?.error||"You do not have permission to update your profile. Please contact administrator.";ve.error(Ee);return}typeof F.response.data=="string"&&r("Error response (string, first 500 chars):",F.response.data.slice(0,500)),F.response?.data?.errors?(console.log("[CompleteProfile Submit]","Validation errors (422)",F.response.data.errors),Object.values(F.response.data.errors).flat().forEach(J=>ve.error(J))):(console.log("[CompleteProfile Submit]","Error message:",F.response?.data?.message),ve.error(F.response?.data?.message||"Failed to complete profile"))}else F?.request?(console.log("[CompleteProfile Submit]","No response received (network/CORS)",F.request),r("No response received. Request:",F.request),ve.error("No response from server. Check network/CORS/auth.")):(r("Unknown error:",F?.message||F),ve.error("Unexpected error occurred."));r("If you see https://.../api/api/... then your axios baseURL already contains /api and your proxy/route also adds /api."),r("Fix by adjusting api.defaults.baseURL OR Vite proxy OR route prefix so it becomes /api/profile/complete only once.")}finally{d(!1)}};return i?s.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-background via-primary/5 to-secondary/5",children:[s.jsxs("div",{className:"w-full max-w-3xl",children:[s.jsxs("div",{className:"flex flex-col items-center mb-8",children:[s.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-primary to-secondary flex items-center justify-center shadow-lg mb-4",children:s.jsx(Kt,{className:"w-8 h-8 text-primary-foreground"})}),s.jsx("h1",{className:"text-3xl font-bold gradient-text",children:"Complete Your Profile"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:i?.role==="client"?"Client Profile":"Agency Profile"}),h&&s.jsxs("div",{className:"mt-4 w-full max-w-md",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Profile Completion"}),s.jsxs("span",{className:"text-sm font-semibold",children:[h.completion_percentage,"%"]})]}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:s.jsx("div",{className:"bg-gradient-to-r from-teal-500 to-cyan-500 h-2 rounded-full transition-all",style:{width:`${h.completion_percentage}%`}})})]})]}),s.jsxs(Ue,{className:"hover-glow shadow-xl",children:[s.jsxs(ps,{children:[s.jsxs(gs,{className:"text-2xl",children:["Complete Your ",i?.role==="client"?"Client":"agency"," Profile"]}),s.jsx(hm,{children:"Please fill all required fields to continue"})]}),s.jsx(qe,{children:s.jsxs("form",{onSubmit:te,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Basic Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"First Name *"}),s.jsx(Se,{type:"text",name:"first_name",value:f.first_name,onChange:H,required:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Last Name *"}),s.jsx(Se,{type:"text",name:"last_name",value:f.last_name,onChange:H,required:!0})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"Gender *"}),s.jsxs(ft,{value:f.gender,onValueChange:ee=>me("gender",ee),children:[s.jsx(ut,{children:s.jsx(mt,{placeholder:"Select"})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"male",children:"Male"}),s.jsx(ke,{value:"female",children:"Female"}),s.jsx(ke,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Birth Date *"}),s.jsx(Se,{type:"date",name:"birth_date",value:f.birth_date,onChange:H,max:new Date().toISOString().split("T")[0],required:!0})]})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"City *"}),s.jsxs(ft,{value:f.city,onValueChange:ee=>me("city",ee),children:[s.jsx(ut,{children:s.jsx(mt,{placeholder:"Select your city"})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"beirut",children:"Beirut"}),s.jsx(ke,{value:"mount-liban",children:"Mount Liban"}),s.jsx(ke,{value:"south",children:"South"}),s.jsx(ke,{value:"north",children:"North"}),s.jsx(ke,{value:"bekaa",children:"Bekaa"}),s.jsx(ke,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Bio (optional)"}),s.jsx("textarea",{name:"bio",value:f.bio,onChange:H,rows:3,className:"w-full px-3 py-2 rounded-md border border-input bg-background",placeholder:"Tell us about yourself..."})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Profile Picture (optional)"}),s.jsx(Se,{type:"file",name:"profile_picture",onChange:H,accept:"image/jpeg,image/jpg,image/png"}),f.profile_picture&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:f.profile_picture.name})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"ID Card - Front *"}),s.jsx(Se,{type:"file",name:"id_card_front",onChange:H,accept:"image/jpeg,image/jpg,image/png,application/pdf",required:!0}),f.id_card_front&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:f.id_card_front.name})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"ID Card - Back *"}),s.jsx(Se,{type:"file",name:"id_card_back",onChange:H,accept:"image/jpeg,image/jpg,image/png,application/pdf",required:!0}),f.id_card_back&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:f.id_card_back.name})]})]})]}),s.jsx("hr",{className:"my-6"}),i?.role==="client"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Client Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"License Number *"}),s.jsx(Se,{type:"text",name:"license_number",value:f.license_number,onChange:H,required:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Driver License *"}),s.jsx(Se,{type:"file",name:"driver_license",onChange:H,accept:"image/jpeg,image/jpg,image/png,application/pdf",required:!0}),f.driver_license&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:f.driver_license.name})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"Profession *"}),s.jsxs(ft,{value:f.profession,onValueChange:ee=>me("profession",ee),children:[s.jsx(ut,{children:s.jsx(mt,{placeholder:"Choose..."})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"employee",children:"Employee"}),s.jsx(ke,{value:"freelancer",children:"Freelancer"}),s.jsx(ke,{value:"business",children:"Business"}),s.jsx(ke,{value:"student",children:"Student"}),s.jsx(ke,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Average Salary *"}),s.jsxs(ft,{value:f.avg_salary,onValueChange:ee=>me("avg_salary",ee),children:[s.jsx(ut,{children:s.jsx(mt,{placeholder:"Select..."})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"200-500",children:"$200-500"}),s.jsx(ke,{value:"500-1000",children:"$500-1000"}),s.jsx(ke,{value:"1000-2000",children:"$1000-2000"}),s.jsx(ke,{value:"2000+",children:"$2000+"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Promo Code (optional)"}),s.jsx(Se,{type:"text",name:"promo_code",value:f.promo_code,onChange:H})]})]}),(i?.role==="agency"||i?.role==="agency")&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("h3",{className:"text-lg font-semibold",children:"Agency Information"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"Business Type *"}),s.jsxs(ft,{value:f.business_type,onValueChange:ee=>{me("business_type",ee),v(ee==="company")},children:[s.jsx(ut,{children:s.jsx(mt,{placeholder:"Select"})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"rental",children:"Rental"}),s.jsx(ke,{value:"private",children:"Private"}),s.jsx(ke,{value:"company",children:"Company"}),s.jsx(ke,{value:"marina",children:"Marina"})]})]})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Profession *"}),s.jsxs(ft,{value:f.profession,onValueChange:ee=>me("profession",ee),children:[s.jsx(ut,{children:s.jsx(mt,{placeholder:"Choose..."})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"manager",children:"Manager"}),s.jsx(ke,{value:"owner",children:"Owner"})]})]})]})]}),y&&s.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/30",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Yl,{className:"w-4 h-4"}),s.jsx("p",{children:"Company Details (Required)"})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Company Number *"}),s.jsx(Se,{type:"text",name:"company_number",value:f.company_number,onChange:H,required:y})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Business Document *"}),s.jsx(Se,{type:"file",name:"business_doc",onChange:H,accept:"image/jpeg,image/jpg,image/png,application/pdf",required:y}),f.business_doc&&s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:f.business_doc.name})]})]}),s.jsxs("div",{id:"agency-location-section",children:[s.jsx(ue,{children:"Address (region) *"}),s.jsxs(ft,{value:f.city||"",onValueChange:ee=>me("city",ee),children:[s.jsx(ut,{className:"mb-3",children:s.jsx(mt,{placeholder:"Select your region"})}),s.jsx(ht,{children:que.map(ee=>s.jsx(ke,{value:ee.value,children:ee.label},ee.value))})]}),s.jsx(ue,{children:"Location *"}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsx(ue,{className:"text-muted-foreground text-xs",children:"Paste Google Maps link"}),s.jsxs("div",{className:"flex gap-2 mt-1",children:[s.jsx(Se,{placeholder:"e.g. https://www.google.com/maps/@33.8938,35.5018,17z",value:C,onChange:ee=>B(ee.target.value),onBlur:ee=>{const Ce=ee.target.value?.trim();Ce&&ce(Ce)},className:"flex-1"}),s.jsx(pe,{type:"button",variant:"outline",onClick:()=>C.trim()&&ce(C),children:"Apply"})]})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-muted-foreground text-xs",children:"Search address"}),s.jsxs("div",{className:"flex gap-2 mt-1",children:[s.jsx(Se,{placeholder:"Search address or place...",value:E,onChange:ee=>z(ee.target.value),onKeyDown:ee=>ee.key==="Enter"&&(ee.preventDefault(),be()),className:"flex-1"}),s.jsx(pe,{type:"button",variant:"outline",onClick:be,disabled:T,children:s.jsx(Br,{className:"w-4 h-4"})})]})]}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsxs(pe,{type:"button",variant:"outline",className:"flex-1 min-w-[140px]",onClick:$,children:[s.jsx(iM,{className:"w-4 h-4 mr-2"}),"Use Current Location"]}),s.jsxs(pe,{type:"button",variant:"outline",className:"flex-1 min-w-[140px]",onClick:oe,children:[s.jsx(Ps,{className:"w-4 h-4 mr-2"}),"Select on Map"]})]}),b?s.jsx("div",{className:"p-4 bg-primary/10 border-2 border-primary/20 rounded-lg",children:s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center flex-shrink-0",children:s.jsx(Ps,{className:"w-5 h-5 text-primary"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("p",{className:"font-semibold text-sm mb-1",children:"Location Selected"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Latitude: ",b.lat]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Longitude: ",b.lng]})]})]})}):s.jsxs("div",{className:"p-4 bg-muted/30 border-2 border-dashed rounded-lg text-center",children:[s.jsx(Ps,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"No location selected yet"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Click one of the buttons above to set your location"})]}),s.jsx("input",{type:"hidden",name:"location",value:f.location,required:!0})]})]}),s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4",children:s.jsxs("div",{children:[s.jsx(ue,{children:"Website (optional)"}),s.jsx(Se,{type:"url",name:"website",value:f.website,onChange:H,placeholder:"https://example.com"})]})}),s.jsxs("div",{children:[s.jsx(ue,{children:"Contract Form (optional)"}),s.jsx("textarea",{name:"contract_form",value:f.contract_form,onChange:H,rows:2,className:"w-full px-3 py-2 rounded-md border border-input bg-background"})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Policies (optional)"}),s.jsx("textarea",{name:"policies",value:f.policies,onChange:H,rows:2,className:"w-full px-3 py-2 rounded-md border border-input bg-background"})]})]}),s.jsx(pe,{type:"submit",className:"w-full bg-gradient-to-r from-secondary to-accent font-semibold text-lg py-6",disabled:c,children:c?"Saving...":"Save Profile"})]})})]})]}),s.jsx(Kr,{open:w,onOpenChange:ee=>{j(ee),ee||L("")},children:s.jsxs(Ir,{className:"max-w-4xl max-h-[90vh]",children:[s.jsxs(zr,{children:[s.jsx(Ur,{children:"Select Your Location"}),s.jsx(Hi,{children:"Search for a place or click on the map to select your business location"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex gap-2 flex-wrap",children:s.jsxs("div",{className:"flex flex-1 min-w-[200px] rounded-md overflow-hidden border border-input",children:[s.jsx(Se,{placeholder:"Search address or place...",value:U,onChange:ee=>L(ee.target.value),onKeyDown:ee=>ee.key==="Enter"&&(ee.preventDefault(),ge()),className:"rounded-r-none border-0 h-10 focus-visible:ring-0"}),s.jsx(pe,{type:"button",variant:"secondary",onClick:ge,disabled:Z,className:"rounded-l-none h-10 px-4",children:s.jsx(Br,{className:"w-4 h-4"})})]})}),s.jsx("div",{className:"w-full h-[500px] bg-muted rounded-lg overflow-hidden",children:s.jsx(Yue,{center:k,selectedLocation:b,onLocationSelect:q})}),b&&s.jsx("div",{className:"p-3 bg-muted/50 rounded-md",children:s.jsxs("p",{className:"text-sm",children:[s.jsx("span",{className:"font-medium",children:"Selected:"})," ",b.lat,", ",b.lng]})}),s.jsxs("div",{className:"flex gap-2 justify-end",children:[s.jsx(pe,{variant:"outline",onClick:()=>j(!1),children:"Cancel"}),s.jsx(pe,{onClick:Y,children:"Confirm Location"})]})]})]})})]}):null}function Yue({center:t,selectedLocation:e,onLocationSelect:r}){const n=lt.useRef(null),a=lt.useRef(null);_.useEffect(()=>{if(typeof window<"u"&&!window.L){const o=document.createElement("link");o.rel="stylesheet",o.href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",document.head.appendChild(o);const c=document.createElement("script");c.src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js",c.onload=()=>i(),document.head.appendChild(c)}else window.L&&i()},[]),_.useEffect(()=>{n.current&&window.L&&n.current.setView([parseFloat(t.lat),parseFloat(t.lng)],13)},[t]),_.useEffect(()=>{e&&a.current&&window.L&&a.current.setLatLng([parseFloat(e.lat),parseFloat(e.lng)])},[e]);const i=()=>{if(!window.L||n.current)return;const o=window.L.map("map-container").setView([parseFloat(t.lat),parseFloat(t.lng)],13);window.L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap contributors"}).addTo(o);const c=window.L.marker([parseFloat(t.lat),parseFloat(t.lng)],{draggable:!0}).addTo(o);c.on("dragend",d=>{const h=d.target.getLatLng();r(h.lat,h.lng)}),o.on("click",d=>{c.setLatLng(d.latlng),r(d.latlng.lat,d.latlng.lng)}),n.current=o,a.current=c};return s.jsx("div",{id:"map-container",className:"w-full h-full"})}const bs={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640",tealDim:"rgba(0, 140, 149, 0.1)",limeGreenDim:"rgba(138, 198, 64, 0.1)"};function Kue(){const[t,e]=_.useState([]),[r,n]=_.useState(null),[a,i]=_.useState([]),[o,c]=_.useState(""),[d,h]=_.useState(!1),[m,f]=_.useState(!0),[g,y]=_.useState(!1),[v,w]=_.useState(null),[j,b]=_.useState(""),N=_.useRef(null),k=_.useRef(null),S=_.useRef(null),C=_.useRef(null),B=_.useRef(null),[E]=_.useState(()=>localStorage.getItem("token")),z=(X,$)=>{const oe=X?.created_at??X?.createdAt??X?.data?.created_at??null,q=X?.read_at??X?.data?.read_at??(X?.is_read?oe:null);return{id:X?.id??X?.data?.id??`rt-${Date.now()}`,booking_id:X?.booking_id??X?.data?.booking_id??$,sender_id:X?.sender_id??X?.data?.sender_id??X?.sender?.id,receiver_id:X?.receiver_id??X?.data?.receiver_id??null,message:X?.message??X?.data?.message??"",read_at:q,created_at:oe,sender:X?.sender??X?.data?.sender??null}};_.useEffect(()=>{if(!E){w("Authentication required. Please log in.");return}window.Pusher=YF,S.current=new GF({broadcaster:"pusher",key:"316e84fa5f5bf1a94b26",cluster:"ap1",forceTLS:!0,encrypted:!0,enabledTransports:["ws","wss"],authEndpoint:"https://rento-lb.com/api/api/broadcasting/auth",auth:{headers:{Authorization:`Bearer ${E}`,Accept:"application/json"}}});const X=S.current.connector.pusher;X.connection.bind("initialized",()=>console.log("[PUSHER] initialized")),X.connection.bind("connecting",()=>console.log("[PUSHER] connecting...")),X.connection.bind("connected",()=>console.log("[PUSHER]  connected")),X.connection.bind("disconnected",()=>console.log("[PUSHER] disconnected")),X.connection.bind("unavailable",()=>console.log("[PUSHER] unavailable")),X.connection.bind("failed",()=>console.log("[PUSHER]  failed")),X.connection.bind("error",$=>console.error("[PUSHER] error:",$)),console.log("[ECHO] authEndpoint:","https://rento-lb.com/api/api/broadcasting/auth"),console.log("[ECHO] cluster:","ap1"),console.log("[ECHO] key:","316e84fa5f5bf1a94b26");try{S.current.connector?.pusher?.connection?.bind("error",$=>{console.error("Pusher connection error:",$)})}catch{}return Oe.get("/profile").then(({data:$})=>{C.current=$.user?.id,console.log("Current user ID:",C.current)}).catch($=>{console.error("Failed to fetch profile:",$),w("Failed to load user profile")}),()=>{S.current?.disconnect()}},[E]),_.useEffect(()=>{E&&T()},[E]);const T=async()=>{f(!0),w(null);try{const{data:X}=await Oe.get("/bookings"),oe=(X?.bookings?.data??[]).filter(q=>q.booking_request_status==="confirmed"||q.booking_request_status==="accepted");e(oe)}catch(X){console.error("Failed to fetch bookings:",X),w("Failed to load bookings"),e([])}finally{f(!1)}},W=()=>{const X=N.current;X&&(X.scrollTop=X.scrollHeight)};_.useEffect(()=>{W()},[a]);const U=async X=>{h(!0),w(null);try{const{data:$}=await Oe.get(`/bookings/${X}/chat`),oe=$?.data?.data??$?.data?.messages??$?.messages??[];i(oe),oe.forEach(q=>{!q.read_at&&q.sender_id!==C.current&&Z(X,q.id)})}catch($){console.error("Failed to load messages:",$),w("Failed to load messages"),i([])}finally{h(!1)}};_.useEffect(()=>{if(!r?.id||!S.current)return;const X=r.id,$=`private-booking.${X}`;console.log("[ECHO] subscribing to:",$);const oe=S.current.connector.pusher,q=oe.subscribe($);q.bind("pusher:subscription_succeeded",()=>{console.log("[PUSHER]  subscription_succeeded:",$)}),q.bind("pusher:subscription_error",le=>{console.error("[PUSHER]  subscription_error:",$,"status:",le),console.error("-> If status=403, your /broadcasting/auth or channels.php auth is rejecting the user.")});const Y=S.current.private(`booking.${X}`),ce=le=>{const be=z(le,X);i(ge=>ge.some(H=>String(H.id)===String(be.id))?ge:[...ge,be]),be.sender_id&&be.sender_id!==C.current&&Z(X,be.id)};return Y.listen(".message.sent",ce),Y.listen("message.sent",ce),Y.listenForWhisper("typing",le=>{le?.user_id&&le.user_id!==C.current&&(y(!0),B.current&&clearTimeout(B.current),B.current=setTimeout(()=>y(!1),3e3))}),Y.listen(".message.read",le=>console.log("[ECHO] message.read:",le)),U(X),()=>{console.log("[ECHO] leaving:",$),S.current?.leave(`booking.${X}`),oe.unsubscribe($)}},[r?.id]);const L=async X=>{if(X.preventDefault(),!o.trim()||!r?.id)return;const $=r.id,oe=o.trim();c("");try{const{data:q}=await Oe.post(`/bookings/${$}/chat`,{booking_id:$,message:oe}),Y=q?.data??q?.message;Y&&i(ce=>[...ce,Y])}catch(q){console.error("Failed to send message:",q),w("Failed to send message"),c(oe)}},Z=async(X,$)=>{try{await Oe.post(`/bookings/${X}/chat/mark-read`,{message_id:$})}catch(oe){console.error("Failed to mark message as read:",oe)}},O=async()=>{try{if(!t?.length)return;const X=await Promise.all(t.map(async oe=>{try{const{data:q}=await Oe.get(`/bookings/${oe.id}/chat/unread-count`),Y=q?.data?.unread_count??q?.data??q?.unread_count??0;return{id:oe.id,count:Number(Y)||0}}catch(q){return console.error(`Failed unread count for booking ${oe.id}:`,q),{id:oe.id,count:0}}})),$=Object.fromEntries(X.map(oe=>[oe.id,oe.count]));e(oe=>oe.map(q=>({...q,unread_count:$[q.id]??0})))}catch(X){console.error("Failed to fetch unread counts:",X)}};_.useEffect(()=>{if(!E)return;t.length&&O();const X=setInterval(O,1e4);return()=>clearInterval(X)},[E,t.length]);const se=X=>{if(!X)return"";const $=new Date(X);if(Number.isNaN($.getTime()))return"";const q=Math.floor((new Date-$)/6e4);if(q<1)return"Just now";if(q<60)return`${q}m ago`;const Y=Math.floor(q/60);if(Y<24)return`${Y}h ago`;const ce=Math.floor(Y/24);return ce<7?`${ce}d ago`:$.toLocaleDateString("en-US",{month:"short",day:"numeric"})},K=X=>{if(!X)return"";const $=new Date(X);return Number.isNaN($.getTime())?"":$.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},M=t.filter(X=>{if(!j)return!0;const $=j.toLowerCase(),oe=`${X.car?.agent?.first_name||""} ${X.car?.agent?.last_name||""}`.toLowerCase(),q=`${X.car?.make||""} ${X.car?.model||""}`.toLowerCase();return oe.includes($)||q.includes($)});return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-black dark:via-gray-900 dark:to-gray-950 pt-20",children:s.jsxs("div",{className:"container mx-auto px-4 py-6",children:[s.jsx(rt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6",children:s.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[s.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center shadow-lg",style:{background:`linear-gradient(135deg, ${bs.teal}, ${bs.darkBlue})`},children:s.jsx(li,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(135deg, ${bs.darkBlue}, ${bs.teal}, ${bs.limeGreen})`},children:"My Bookings Chat"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Message your car agent"})]})]})}),s.jsx(Go,{children:v&&s.jsx(rt.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-4 p-4 rounded-xl border-2",style:{background:"rgba(220, 38, 38, 0.1)",borderColor:"#DC2626"},children:s.jsxs("p",{className:"text-red-800 dark:text-red-200 flex items-center gap-2",children:[s.jsx(tr,{className:"w-5 h-5"}),v]})})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 h-[calc(100vh-180px)]",children:[s.jsxs("div",{className:"lg:col-span-1 bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden flex flex-col border border-gray-200 dark:border-gray-700",children:[s.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:s.jsxs("div",{className:"relative",children:[s.jsx(Br,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),s.jsx("input",{type:"text",placeholder:"Search conversations...",value:j,onChange:X=>b(X.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 dark:text-white text-sm"})]})}),s.jsx("div",{className:"flex-1 overflow-y-auto",children:m?s.jsx("div",{className:"flex justify-center items-center h-full",children:s.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-t-transparent",style:{borderColor:bs.tealDim,borderTopColor:"transparent"}})}):M.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-gray-400",children:[s.jsx(li,{className:"w-16 h-16 mb-3",style:{color:bs.teal,opacity:.3}}),s.jsx("p",{className:"text-center font-medium",children:"No bookings found"}),s.jsx("p",{className:"text-xs text-center mt-1",children:"Book a car to start chatting"})]}):M.map(X=>{const $=X.car?.agent,oe=$?.profile_picture?`/api/storage/${$.profile_picture}`:"/default-avatar.png";return s.jsx(rt.div,{whileHover:{x:5},onClick:()=>n(X),className:`p-4 border-b border-gray-200 dark:border-gray-700 cursor-pointer transition-all ${r?.id===X.id?"border-l-4":"hover:bg-gray-50 dark:hover:bg-gray-700"}`,style:r?.id===X.id?{background:bs.tealDim,borderLeftColor:bs.teal}:{},children:s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:oe,alt:$?.first_name||"Agent",className:"w-12 h-12 rounded-full object-cover ring-2 ring-white dark:ring-gray-700"}),(X.unread_count??0)>0&&s.jsx(rt.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},className:"absolute -top-1 -right-1 w-5 h-5 rounded-full flex items-center justify-center shadow-lg",style:{background:bs.limeGreen},children:s.jsx("span",{className:"text-xs text-white font-bold",children:X.unread_count})})]}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center justify-between mb-1",children:[s.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white truncate flex items-center gap-1",children:[$?.first_name||"N/A"," ",$?.last_name||"",$?.verified_by_admin&&s.jsx(Qn,{className:"w-3 h-3",style:{color:bs.teal}})]}),(X.unread_count??0)>0&&s.jsx(An,{className:"w-4 h-4",style:{color:bs.teal}})]}),s.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate flex items-center gap-1",children:[s.jsx(Kt,{className:"w-3 h-3"}),X.car?.make||"N/A"," ",X.car?.model||""]})]})]})},X.id)})})]}),s.jsx("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden flex flex-col border border-gray-200 dark:border-gray-700",children:r?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"p-4 text-white relative overflow-hidden",style:{background:`linear-gradient(135deg, ${bs.darkBlue}, ${bs.teal}, ${bs.limeGreen})`},children:[s.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-white/10 rounded-full blur-3xl"}),s.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-white/10 rounded-full blur-2xl"}),s.jsxs("div",{className:"relative z-10",children:[s.jsxs("div",{className:"flex items-center justify-between mb-3",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx("img",{src:r.car?.agent?.profile_picture?`/api/storage/${r.car.agent.profile_picture}`:"/default-avatar.png",alt:r.car?.agent?.first_name||"Agent",className:"w-12 h-12 rounded-full object-cover border-2 border-white shadow-lg"}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",children:[r.car?.agent?.first_name||"N/A"," ",r.car?.agent?.last_name||"",r.car?.agent?.verified_by_admin&&s.jsx(Qn,{className:"w-4 h-4"})]}),s.jsx("p",{className:"text-xs opacity-90",children:"Car Agent"})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[r.car?.agent?.phone_number&&s.jsx(rt.a,{whileHover:{scale:1.1},whileTap:{scale:.9},href:`tel:${r.car.agent.phone_number}`,className:"p-2 bg-white/20 backdrop-blur-sm rounded-xl hover:bg-white/30 transition-colors",children:s.jsx(ui,{className:"w-4 h-4"})}),r.car?.agent?.email&&s.jsx(rt.a,{whileHover:{scale:1.1},whileTap:{scale:.9},href:`mailto:${r.car.agent.email}`,className:"p-2 bg-white/20 backdrop-blur-sm rounded-xl hover:bg-white/30 transition-colors",children:s.jsx(za,{className:"w-4 h-4"})})]})]}),s.jsx("div",{className:"p-3 bg-white/10 backdrop-blur-sm rounded-xl",children:s.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Kt,{className:"w-4 h-4"}),s.jsxs("span",{className:"truncate",children:[r.car?.make||"N/A"," ",r.car?.model||""]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Hs,{className:"w-4 h-4"}),s.jsx("span",{className:"truncate",children:r.start_datetime?K(r.start_datetime):"N/A"})]})]})})]})]}),s.jsxs("div",{ref:N,className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gradient-to-b from-gray-50/50 to-white dark:from-gray-900/50 dark:to-gray-800",style:{maxHeight:"calc(100vh - 450px)"},children:[d?s.jsx("div",{className:"flex justify-center items-center h-full",children:s.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-t-transparent",style:{borderColor:bs.tealDim,borderTopColor:"transparent"}})}):a.length===0?s.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[s.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mb-4",style:{background:bs.tealDim},children:s.jsx(li,{className:"w-10 h-10",style:{color:bs.teal}})}),s.jsx("p",{className:"text-lg font-medium",children:"No messages yet"}),s.jsx("p",{className:"text-sm",children:"Start the conversation!"})]}):s.jsxs(s.Fragment,{children:[a.map((X,$)=>{const oe=X.sender_id===C.current||X.sender?.id===C.current,q=a[$-1],Y=$===0||q?.sender_id!==X.sender_id;return s.jsxs(rt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex items-end gap-2 ${oe?"justify-end":"justify-start"}`,children:[!oe&&Y&&s.jsx("img",{src:X.sender?.profile_picture?`/api/storage/${X.sender.profile_picture}`:"/default-avatar.png",alt:X.sender?.first_name||"User",className:"w-8 h-8 rounded-full object-cover ring-2 ring-white dark:ring-gray-700"}),!oe&&!Y&&s.jsx("div",{className:"w-8"}),s.jsxs("div",{className:`flex flex-col ${oe?"items-end":"items-start"} max-w-[70%]`,children:[s.jsx(rt.div,{whileHover:{scale:1.02},className:`rounded-2xl px-4 py-2 shadow-md ${oe?"text-white rounded-br-none":"bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-bl-none border border-gray-200 dark:border-gray-600"}`,style:oe?{background:`linear-gradient(135deg, ${bs.teal}, ${bs.darkBlue})`}:{},children:s.jsx("p",{className:"text-sm whitespace-pre-wrap break-words leading-relaxed",children:X.message})}),s.jsxs("div",{className:"flex items-center gap-1 mt-1 px-1",children:[s.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:se(X.created_at)}),oe&&s.jsx("span",{children:X.read_at?s.jsx(X6,{className:"w-3 h-3",style:{color:bs.teal}}):s.jsx(ga,{className:"w-3 h-3 text-gray-400"})})]})]}),oe&&Y&&s.jsx("img",{src:X.sender?.profile_picture?`/api/storage/${X.sender.profile_picture}`:"/default-avatar.png",alt:X.sender?.first_name||"You",className:"w-8 h-8 rounded-full object-cover ring-2 ring-white dark:ring-gray-700"}),oe&&!Y&&s.jsx("div",{className:"w-8"})]},X.id)}),s.jsx("div",{ref:k})]}),s.jsx(Go,{children:g&&s.jsxs(rt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"flex items-center gap-2",children:[s.jsx("img",{src:r.car?.agent?.profile_picture?`/api/storage/${r.car.agent.profile_picture}`:"/default-avatar.png",alt:r.car?.agent?.first_name||"Agent",className:"w-8 h-8 rounded-full object-cover ring-2 ring-white dark:ring-gray-700"}),s.jsx("div",{className:"bg-white dark:bg-gray-700 rounded-2xl rounded-bl-none px-4 py-3 border border-gray-200 dark:border-gray-600",children:s.jsxs("div",{className:"flex gap-1",children:[s.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{background:bs.teal,animationDelay:"0ms"}}),s.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{background:bs.darkBlue,animationDelay:"150ms"}}),s.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{background:bs.limeGreen,animationDelay:"300ms"}})]})})]})})]}),s.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:s.jsxs("div",{className:"flex items-end gap-2",children:[s.jsx(rt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 rounded-xl transition-colors",style:{background:bs.tealDim,color:bs.teal},type:"button",children:s.jsx(oM,{className:"w-5 h-5"})}),s.jsx(rt.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 rounded-xl transition-colors",style:{background:bs.limeGreenDim,color:bs.limeGreen},type:"button",children:s.jsx(cM,{className:"w-5 h-5"})}),s.jsx("div",{className:"flex-1 relative",children:s.jsx("textarea",{value:o,onChange:X=>{c(X.target.value)},onKeyDown:X=>{X.key==="Enter"&&!X.shiftKey&&(X.preventDefault(),L(X))},placeholder:"Type your message...",rows:1,className:"w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 dark:bg-gray-700 dark:text-white resize-none"})}),s.jsx(rt.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:L,disabled:!o.trim(),className:"p-3 rounded-xl text-white font-semibold disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg hover:shadow-xl",style:{background:`linear-gradient(135deg, ${bs.teal}, ${bs.darkBlue})`},type:"button",children:s.jsx(M0,{className:"w-5 h-5"})})]})})]}):s.jsx("div",{className:"flex-1 flex flex-col items-center justify-center",children:s.jsxs(rt.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"text-center",children:[s.jsx("div",{className:"w-24 h-24 rounded-full flex items-center justify-center mb-6 mx-auto",style:{background:`linear-gradient(135deg, ${bs.tealDim}, ${bs.limeGreenDim})`},children:s.jsx(li,{className:"w-12 h-12",style:{color:bs.teal}})}),s.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Select a Booking"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Choose a conversation to start chatting"})]})})})]})]})})}function ep(t){return t+.5|0}const $l=(t,e,r)=>Math.max(Math.min(t,r),e);function Wf(t){return $l(ep(t*2.55),0,255)}function Gl(t){return $l(ep(t*255),0,255)}function Do(t){return $l(ep(t/2.55)/100,0,1)}function yD(t){return $l(ep(t*100),0,100)}const Fa={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},J_=[..."0123456789ABCDEF"],Xue=t=>J_[t&15],Zue=t=>J_[(t&240)>>4]+J_[t&15],Qg=t=>(t&240)>>4===(t&15),Que=t=>Qg(t.r)&&Qg(t.g)&&Qg(t.b)&&Qg(t.a);function Jue(t){var e=t.length,r;return t[0]==="#"&&(e===4||e===5?r={r:255&Fa[t[1]]*17,g:255&Fa[t[2]]*17,b:255&Fa[t[3]]*17,a:e===5?Fa[t[4]]*17:255}:(e===7||e===9)&&(r={r:Fa[t[1]]<<4|Fa[t[2]],g:Fa[t[3]]<<4|Fa[t[4]],b:Fa[t[5]]<<4|Fa[t[6]],a:e===9?Fa[t[7]]<<4|Fa[t[8]]:255})),r}const ehe=(t,e)=>t<255?e(t):"";function the(t){var e=Que(t)?Xue:Zue;return t?"#"+e(t.r)+e(t.g)+e(t.b)+ehe(t.a,e):void 0}const she=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function XF(t,e,r){const n=e*Math.min(r,1-r),a=(i,o=(i+t/30)%12)=>r-n*Math.max(Math.min(o-3,9-o,1),-1);return[a(0),a(8),a(4)]}function rhe(t,e,r){const n=(a,i=(a+t/60)%6)=>r-r*e*Math.max(Math.min(i,4-i,1),0);return[n(5),n(3),n(1)]}function nhe(t,e,r){const n=XF(t,1,.5);let a;for(e+r>1&&(a=1/(e+r),e*=a,r*=a),a=0;a<3;a++)n[a]*=1-e-r,n[a]+=e;return n}function ahe(t,e,r,n,a){return t===a?(e-r)/n+(e<r?6:0):e===a?(r-t)/n+2:(t-e)/n+4}function nS(t){const r=t.r/255,n=t.g/255,a=t.b/255,i=Math.max(r,n,a),o=Math.min(r,n,a),c=(i+o)/2;let d,h,m;return i!==o&&(m=i-o,h=c>.5?m/(2-i-o):m/(i+o),d=ahe(r,n,a,m,i),d=d*60+.5),[d|0,h||0,c]}function aS(t,e,r,n){return(Array.isArray(e)?t(e[0],e[1],e[2]):t(e,r,n)).map(Gl)}function iS(t,e,r){return aS(XF,t,e,r)}function ihe(t,e,r){return aS(nhe,t,e,r)}function ohe(t,e,r){return aS(rhe,t,e,r)}function ZF(t){return(t%360+360)%360}function lhe(t){const e=she.exec(t);let r=255,n;if(!e)return;e[5]!==n&&(r=e[6]?Wf(+e[5]):Gl(+e[5]));const a=ZF(+e[2]),i=+e[3]/100,o=+e[4]/100;return e[1]==="hwb"?n=ihe(a,i,o):e[1]==="hsv"?n=ohe(a,i,o):n=iS(a,i,o),{r:n[0],g:n[1],b:n[2],a:r}}function che(t,e){var r=nS(t);r[0]=ZF(r[0]+e),r=iS(r),t.r=r[0],t.g=r[1],t.b=r[2]}function dhe(t){if(!t)return;const e=nS(t),r=e[0],n=yD(e[1]),a=yD(e[2]);return t.a<255?`hsla(${r}, ${n}%, ${a}%, ${Do(t.a)})`:`hsl(${r}, ${n}%, ${a}%)`}const bD={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},vD={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function uhe(){const t={},e=Object.keys(vD),r=Object.keys(bD);let n,a,i,o,c;for(n=0;n<e.length;n++){for(o=c=e[n],a=0;a<r.length;a++)i=r[a],c=c.replace(i,bD[i]);i=parseInt(vD[o],16),t[c]=[i>>16&255,i>>8&255,i&255]}return t}let Jg;function hhe(t){Jg||(Jg=uhe(),Jg.transparent=[0,0,0,0]);const e=Jg[t.toLowerCase()];return e&&{r:e[0],g:e[1],b:e[2],a:e.length===4?e[3]:255}}const fhe=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function mhe(t){const e=fhe.exec(t);let r=255,n,a,i;if(e){if(e[7]!==n){const o=+e[7];r=e[8]?Wf(o):$l(o*255,0,255)}return n=+e[1],a=+e[3],i=+e[5],n=255&(e[2]?Wf(n):$l(n,0,255)),a=255&(e[4]?Wf(a):$l(a,0,255)),i=255&(e[6]?Wf(i):$l(i,0,255)),{r:n,g:a,b:i,a:r}}}function phe(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${Do(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const w1=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Nu=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function ghe(t,e,r){const n=Nu(Do(t.r)),a=Nu(Do(t.g)),i=Nu(Do(t.b));return{r:Gl(w1(n+r*(Nu(Do(e.r))-n))),g:Gl(w1(a+r*(Nu(Do(e.g))-a))),b:Gl(w1(i+r*(Nu(Do(e.b))-i))),a:t.a+r*(e.a-t.a)}}function ex(t,e,r){if(t){let n=nS(t);n[e]=Math.max(0,Math.min(n[e]+n[e]*r,e===0?360:1)),n=iS(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function QF(t,e){return t&&Object.assign(e||{},t)}function wD(t){var e={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(e={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(e.a=Gl(t[3]))):(e=QF(t,{r:0,g:0,b:0,a:1}),e.a=Gl(e.a)),e}function xhe(t){return t.charAt(0)==="r"?mhe(t):lhe(t)}class wm{constructor(e){if(e instanceof wm)return e;const r=typeof e;let n;r==="object"?n=wD(e):r==="string"&&(n=Jue(e)||hhe(e)||xhe(e)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var e=QF(this._rgb);return e&&(e.a=Do(e.a)),e}set rgb(e){this._rgb=wD(e)}rgbString(){return this._valid?phe(this._rgb):void 0}hexString(){return this._valid?the(this._rgb):void 0}hslString(){return this._valid?dhe(this._rgb):void 0}mix(e,r){if(e){const n=this.rgb,a=e.rgb;let i;const o=r===i?.5:r,c=2*o-1,d=n.a-a.a,h=((c*d===-1?c:(c+d)/(1+c*d))+1)/2;i=1-h,n.r=255&h*n.r+i*a.r+.5,n.g=255&h*n.g+i*a.g+.5,n.b=255&h*n.b+i*a.b+.5,n.a=o*n.a+(1-o)*a.a,this.rgb=n}return this}interpolate(e,r){return e&&(this._rgb=ghe(this._rgb,e._rgb,r)),this}clone(){return new wm(this.rgb)}alpha(e){return this._rgb.a=Gl(e),this}clearer(e){const r=this._rgb;return r.a*=1-e,this}greyscale(){const e=this._rgb,r=ep(e.r*.3+e.g*.59+e.b*.11);return e.r=e.g=e.b=r,this}opaquer(e){const r=this._rgb;return r.a*=1+e,this}negate(){const e=this._rgb;return e.r=255-e.r,e.g=255-e.g,e.b=255-e.b,this}lighten(e){return ex(this._rgb,2,e),this}darken(e){return ex(this._rgb,2,-e),this}saturate(e){return ex(this._rgb,1,e),this}desaturate(e){return ex(this._rgb,1,-e),this}rotate(e){return che(this._rgb,e),this}}function Ao(){}const yhe=(()=>{let t=0;return()=>t++})();function ns(t){return t==null}function rr(t){if(Array.isArray&&Array.isArray(t))return!0;const e=Object.prototype.toString.call(t);return e.slice(0,7)==="[object"&&e.slice(-6)==="Array]"}function cs(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function br(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function fa(t,e){return br(t)?t:e}function Yt(t,e){return typeof t>"u"?e:t}const bhe=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/e,JF=(t,e)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*e:+t;function Ys(t,e,r){if(t&&typeof t.call=="function")return t.apply(r,e)}function Ms(t,e,r,n){let a,i,o;if(rr(t))for(i=t.length,a=0;a<i;a++)e.call(r,t[a],a);else if(cs(t))for(o=Object.keys(t),i=o.length,a=0;a<i;a++)e.call(r,t[o[a]],o[a])}function m0(t,e){let r,n,a,i;if(!t||!e||t.length!==e.length)return!1;for(r=0,n=t.length;r<n;++r)if(a=t[r],i=e[r],a.datasetIndex!==i.datasetIndex||a.index!==i.index)return!1;return!0}function p0(t){if(rr(t))return t.map(p0);if(cs(t)){const e=Object.create(null),r=Object.keys(t),n=r.length;let a=0;for(;a<n;++a)e[r[a]]=p0(t[r[a]]);return e}return t}function eB(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function vhe(t,e,r,n){if(!eB(t))return;const a=e[t],i=r[t];cs(a)&&cs(i)?jm(a,i,n):e[t]=p0(i)}function jm(t,e,r){const n=rr(e)?e:[e],a=n.length;if(!cs(t))return t;r=r||{};const i=r.merger||vhe;let o;for(let c=0;c<a;++c){if(o=n[c],!cs(o))continue;const d=Object.keys(o);for(let h=0,m=d.length;h<m;++h)i(d[h],t,o,r)}return t}function nm(t,e){return jm(t,e,{merger:whe})}function whe(t,e,r){if(!eB(t))return;const n=e[t],a=r[t];cs(n)&&cs(a)?nm(n,a):Object.prototype.hasOwnProperty.call(e,t)||(e[t]=p0(a))}const jD={"":t=>t,x:t=>t.x,y:t=>t.y};function jhe(t){const e=t.split("."),r=[];let n="";for(const a of e)n+=a,n.endsWith("\\")?n=n.slice(0,-1)+".":(r.push(n),n="");return r}function _he(t){const e=jhe(t);return r=>{for(const n of e){if(n==="")break;r=r&&r[n]}return r}}function sc(t,e){return(jD[e]||(jD[e]=_he(e)))(t)}function oS(t){return t.charAt(0).toUpperCase()+t.slice(1)}const _m=t=>typeof t<"u",rc=t=>typeof t=="function",_D=(t,e)=>{if(t.size!==e.size)return!1;for(const r of t)if(!e.has(r))return!1;return!0};function Nhe(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const Ns=Math.PI,Qs=2*Ns,She=Qs+Ns,g0=Number.POSITIVE_INFINITY,Che=Ns/180,Sr=Ns/2,Wc=Ns/4,ND=Ns*2/3,Vl=Math.log10,Gi=Math.sign;function am(t,e,r){return Math.abs(t-e)<r}function SD(t){const e=Math.round(t);t=am(t,e,t/1e3)?e:t;const r=Math.pow(10,Math.floor(Vl(t))),n=t/r;return(n<=1?1:n<=2?2:n<=5?5:10)*r}function khe(t){const e=[],r=Math.sqrt(t);let n;for(n=1;n<r;n++)t%n===0&&(e.push(n),e.push(t/n));return r===(r|0)&&e.push(r),e.sort((a,i)=>a-i).pop(),e}function Ahe(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function rh(t){return!Ahe(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function Ehe(t,e){const r=Math.round(t);return r-e<=t&&r+e>=t}function tB(t,e,r){let n,a,i;for(n=0,a=t.length;n<a;n++)i=t[n][r],isNaN(i)||(e.min=Math.min(e.min,i),e.max=Math.max(e.max,i))}function ci(t){return t*(Ns/180)}function lS(t){return t*(180/Ns)}function CD(t){if(!br(t))return;let e=1,r=0;for(;Math.round(t*e)/e!==t;)e*=10,r++;return r}function sB(t,e){const r=e.x-t.x,n=e.y-t.y,a=Math.sqrt(r*r+n*n);let i=Math.atan2(n,r);return i<-.5*Ns&&(i+=Qs),{angle:i,distance:a}}function eN(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function The(t,e){return(t-e+She)%Qs-Ns}function fn(t){return(t%Qs+Qs)%Qs}function Nm(t,e,r,n){const a=fn(t),i=fn(e),o=fn(r),c=fn(i-a),d=fn(o-a),h=fn(a-i),m=fn(a-o);return a===i||a===o||n&&i===o||c>d&&h<m}function tn(t,e,r){return Math.max(e,Math.min(r,t))}function Rhe(t){return tn(t,-32768,32767)}function Po(t,e,r,n=1e-6){return t>=Math.min(e,r)-n&&t<=Math.max(e,r)+n}function cS(t,e,r){r=r||(o=>t[o]<e);let n=t.length-1,a=0,i;for(;n-a>1;)i=a+n>>1,r(i)?a=i:n=i;return{lo:a,hi:n}}const Oo=(t,e,r,n)=>cS(t,r,n?a=>{const i=t[a][e];return i<r||i===r&&t[a+1][e]===r}:a=>t[a][e]<r),Dhe=(t,e,r)=>cS(t,r,n=>t[n][e]>=r);function Mhe(t,e,r){let n=0,a=t.length;for(;n<a&&t[n]<e;)n++;for(;a>n&&t[a-1]>r;)a--;return n>0||a<t.length?t.slice(n,a):t}const rB=["push","pop","shift","splice","unshift"];function Phe(t,e){if(t._chartjs){t._chartjs.listeners.push(e);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[e]}}),rB.forEach(r=>{const n="_onData"+oS(r),a=t[r];Object.defineProperty(t,r,{configurable:!0,enumerable:!1,value(...i){const o=a.apply(this,i);return t._chartjs.listeners.forEach(c=>{typeof c[n]=="function"&&c[n](...i)}),o}})})}function kD(t,e){const r=t._chartjs;if(!r)return;const n=r.listeners,a=n.indexOf(e);a!==-1&&n.splice(a,1),!(n.length>0)&&(rB.forEach(i=>{delete t[i]}),delete t._chartjs)}function nB(t){const e=new Set(t);return e.size===t.length?t:Array.from(e)}const aB=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function iB(t,e){let r=[],n=!1;return function(...a){r=a,n||(n=!0,aB.call(window,()=>{n=!1,t.apply(e,r)}))}}function Ohe(t,e){let r;return function(...n){return e?(clearTimeout(r),r=setTimeout(t,e,n)):t.apply(this,n),e}}const dS=t=>t==="start"?"left":t==="end"?"right":"center",hn=(t,e,r)=>t==="start"?e:t==="end"?r:(e+r)/2,Lhe=(t,e,r,n)=>t===(n?"left":"right")?r:t==="center"?(e+r)/2:e;function oB(t,e,r){const n=e.length;let a=0,i=n;if(t._sorted){const{iScale:o,vScale:c,_parsed:d}=t,h=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,m=o.axis,{min:f,max:g,minDefined:y,maxDefined:v}=o.getUserBounds();if(y){if(a=Math.min(Oo(d,m,f).lo,r?n:Oo(e,m,o.getPixelForValue(f)).lo),h){const w=d.slice(0,a+1).reverse().findIndex(j=>!ns(j[c.axis]));a-=Math.max(0,w)}a=tn(a,0,n-1)}if(v){let w=Math.max(Oo(d,o.axis,g,!0).hi+1,r?0:Oo(e,m,o.getPixelForValue(g),!0).hi+1);if(h){const j=d.slice(w-1).findIndex(b=>!ns(b[c.axis]));w+=Math.max(0,j)}i=tn(w,a,n)-a}else i=n-a}return{start:a,count:i}}function lB(t){const{xScale:e,yScale:r,_scaleRanges:n}=t,a={xmin:e.min,xmax:e.max,ymin:r.min,ymax:r.max};if(!n)return t._scaleRanges=a,!0;const i=n.xmin!==e.min||n.xmax!==e.max||n.ymin!==r.min||n.ymax!==r.max;return Object.assign(n,a),i}const tx=t=>t===0||t===1,AD=(t,e,r)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-e)*Qs/r)),ED=(t,e,r)=>Math.pow(2,-10*t)*Math.sin((t-e)*Qs/r)+1,im={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*Sr)+1,easeOutSine:t=>Math.sin(t*Sr),easeInOutSine:t=>-.5*(Math.cos(Ns*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>tx(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>tx(t)?t:AD(t,.075,.3),easeOutElastic:t=>tx(t)?t:ED(t,.075,.3),easeInOutElastic(t){return tx(t)?t:t<.5?.5*AD(t*2,.1125,.45):.5+.5*ED(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let e=1.70158;return(t/=.5)<1?.5*(t*t*(((e*=1.525)+1)*t-e)):.5*((t-=2)*t*(((e*=1.525)+1)*t+e)+2)},easeInBounce:t=>1-im.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?im.easeInBounce(t*2)*.5:im.easeOutBounce(t*2-1)*.5+.5};function uS(t){if(t&&typeof t=="object"){const e=t.toString();return e==="[object CanvasPattern]"||e==="[object CanvasGradient]"}return!1}function TD(t){return uS(t)?t:new wm(t)}function j1(t){return uS(t)?t:new wm(t).saturate(.5).darken(.1).hexString()}const Fhe=["x","y","borderWidth","radius","tension"],Bhe=["color","borderColor","backgroundColor"];function Ihe(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:e=>e!=="onProgress"&&e!=="onComplete"&&e!=="fn"}),t.set("animations",{colors:{type:"color",properties:Bhe},numbers:{type:"number",properties:Fhe}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:e=>e|0}}}})}function zhe(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const RD=new Map;function Uhe(t,e){e=e||{};const r=t+JSON.stringify(e);let n=RD.get(r);return n||(n=new Intl.NumberFormat(t,e),RD.set(r,n)),n}function tp(t,e,r){return Uhe(e,r).format(t)}const cB={values(t){return rr(t)?t:""+t},numeric(t,e,r){if(t===0)return"0";const n=this.chart.options.locale;let a,i=t;if(r.length>1){const h=Math.max(Math.abs(r[0].value),Math.abs(r[r.length-1].value));(h<1e-4||h>1e15)&&(a="scientific"),i=$he(t,r)}const o=Vl(Math.abs(i)),c=isNaN(o)?1:Math.max(Math.min(-1*Math.floor(o),20),0),d={notation:a,minimumFractionDigits:c,maximumFractionDigits:c};return Object.assign(d,this.options.ticks.format),tp(t,n,d)},logarithmic(t,e,r){if(t===0)return"0";const n=r[e].significand||t/Math.pow(10,Math.floor(Vl(t)));return[1,2,3,5,10,15].includes(n)||e>.8*r.length?cB.numeric.call(this,t,e,r):""}};function $he(t,e){let r=e.length>3?e[2].value-e[1].value:e[1].value-e[0].value;return Math.abs(r)>=1&&t!==Math.floor(t)&&(r=t-Math.floor(t)),r}var yy={formatters:cB};function Vhe(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(e,r)=>r.lineWidth,tickColor:(e,r)=>r.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:yy.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:e=>!e.startsWith("before")&&!e.startsWith("after")&&e!=="callback"&&e!=="parser",_indexable:e=>e!=="borderDash"&&e!=="tickBorderDash"&&e!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:e=>e!=="backdropPadding"&&e!=="callback",_indexable:e=>e!=="backdropPadding"})}const kd=Object.create(null),tN=Object.create(null);function om(t,e){if(!e)return t;const r=e.split(".");for(let n=0,a=r.length;n<a;++n){const i=r[n];t=t[i]||(t[i]=Object.create(null))}return t}function _1(t,e,r){return typeof e=="string"?jm(om(t,e),r):jm(om(t,""),e)}class Hhe{constructor(e,r){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,a)=>j1(a.backgroundColor),this.hoverBorderColor=(n,a)=>j1(a.borderColor),this.hoverColor=(n,a)=>j1(a.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(e),this.apply(r)}set(e,r){return _1(this,e,r)}get(e){return om(this,e)}describe(e,r){return _1(tN,e,r)}override(e,r){return _1(kd,e,r)}route(e,r,n,a){const i=om(this,e),o=om(this,n),c="_"+r;Object.defineProperties(i,{[c]:{value:i[r],writable:!0},[r]:{enumerable:!0,get(){const d=this[c],h=o[a];return cs(d)?Object.assign({},h,d):Yt(d,h)},set(d){this[c]=d}}})}apply(e){e.forEach(r=>r(this))}}var or=new Hhe({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Ihe,zhe,Vhe]);function qhe(t){return!t||ns(t.size)||ns(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function x0(t,e,r,n,a){let i=e[a];return i||(i=e[a]=t.measureText(a).width,r.push(a)),i>n&&(n=i),n}function Whe(t,e,r,n){n=n||{};let a=n.data=n.data||{},i=n.garbageCollect=n.garbageCollect||[];n.font!==e&&(a=n.data={},i=n.garbageCollect=[],n.font=e),t.save(),t.font=e;let o=0;const c=r.length;let d,h,m,f,g;for(d=0;d<c;d++)if(f=r[d],f!=null&&!rr(f))o=x0(t,a,i,o,f);else if(rr(f))for(h=0,m=f.length;h<m;h++)g=f[h],g!=null&&!rr(g)&&(o=x0(t,a,i,o,g));t.restore();const y=i.length/2;if(y>r.length){for(d=0;d<y;d++)delete a[i[d]];i.splice(0,y)}return o}function Gc(t,e,r){const n=t.currentDevicePixelRatio,a=r!==0?Math.max(r/2,.5):0;return Math.round((e-a)*n)/n+a}function DD(t,e){!e&&!t||(e=e||t.getContext("2d"),e.save(),e.resetTransform(),e.clearRect(0,0,t.width,t.height),e.restore())}function sN(t,e,r,n){dB(t,e,r,n,null)}function dB(t,e,r,n,a){let i,o,c,d,h,m,f,g;const y=e.pointStyle,v=e.rotation,w=e.radius;let j=(v||0)*Che;if(y&&typeof y=="object"&&(i=y.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(r,n),t.rotate(j),t.drawImage(y,-y.width/2,-y.height/2,y.width,y.height),t.restore();return}if(!(isNaN(w)||w<=0)){switch(t.beginPath(),y){default:a?t.ellipse(r,n,a/2,w,0,0,Qs):t.arc(r,n,w,0,Qs),t.closePath();break;case"triangle":m=a?a/2:w,t.moveTo(r+Math.sin(j)*m,n-Math.cos(j)*w),j+=ND,t.lineTo(r+Math.sin(j)*m,n-Math.cos(j)*w),j+=ND,t.lineTo(r+Math.sin(j)*m,n-Math.cos(j)*w),t.closePath();break;case"rectRounded":h=w*.516,d=w-h,o=Math.cos(j+Wc)*d,f=Math.cos(j+Wc)*(a?a/2-h:d),c=Math.sin(j+Wc)*d,g=Math.sin(j+Wc)*(a?a/2-h:d),t.arc(r-f,n-c,h,j-Ns,j-Sr),t.arc(r+g,n-o,h,j-Sr,j),t.arc(r+f,n+c,h,j,j+Sr),t.arc(r-g,n+o,h,j+Sr,j+Ns),t.closePath();break;case"rect":if(!v){d=Math.SQRT1_2*w,m=a?a/2:d,t.rect(r-m,n-d,2*m,2*d);break}j+=Wc;case"rectRot":f=Math.cos(j)*(a?a/2:w),o=Math.cos(j)*w,c=Math.sin(j)*w,g=Math.sin(j)*(a?a/2:w),t.moveTo(r-f,n-c),t.lineTo(r+g,n-o),t.lineTo(r+f,n+c),t.lineTo(r-g,n+o),t.closePath();break;case"crossRot":j+=Wc;case"cross":f=Math.cos(j)*(a?a/2:w),o=Math.cos(j)*w,c=Math.sin(j)*w,g=Math.sin(j)*(a?a/2:w),t.moveTo(r-f,n-c),t.lineTo(r+f,n+c),t.moveTo(r+g,n-o),t.lineTo(r-g,n+o);break;case"star":f=Math.cos(j)*(a?a/2:w),o=Math.cos(j)*w,c=Math.sin(j)*w,g=Math.sin(j)*(a?a/2:w),t.moveTo(r-f,n-c),t.lineTo(r+f,n+c),t.moveTo(r+g,n-o),t.lineTo(r-g,n+o),j+=Wc,f=Math.cos(j)*(a?a/2:w),o=Math.cos(j)*w,c=Math.sin(j)*w,g=Math.sin(j)*(a?a/2:w),t.moveTo(r-f,n-c),t.lineTo(r+f,n+c),t.moveTo(r+g,n-o),t.lineTo(r-g,n+o);break;case"line":o=a?a/2:Math.cos(j)*w,c=Math.sin(j)*w,t.moveTo(r-o,n-c),t.lineTo(r+o,n+c);break;case"dash":t.moveTo(r,n),t.lineTo(r+Math.cos(j)*(a?a/2:w),n+Math.sin(j)*w);break;case!1:t.closePath();break}t.fill(),e.borderWidth>0&&t.stroke()}}function Lo(t,e,r){return r=r||.5,!e||t&&t.x>e.left-r&&t.x<e.right+r&&t.y>e.top-r&&t.y<e.bottom+r}function by(t,e){t.save(),t.beginPath(),t.rect(e.left,e.top,e.right-e.left,e.bottom-e.top),t.clip()}function vy(t){t.restore()}function Ghe(t,e,r,n,a){if(!e)return t.lineTo(r.x,r.y);if(a==="middle"){const i=(e.x+r.x)/2;t.lineTo(i,e.y),t.lineTo(i,r.y)}else a==="after"!=!!n?t.lineTo(e.x,r.y):t.lineTo(r.x,e.y);t.lineTo(r.x,r.y)}function Yhe(t,e,r,n){if(!e)return t.lineTo(r.x,r.y);t.bezierCurveTo(n?e.cp1x:e.cp2x,n?e.cp1y:e.cp2y,n?r.cp2x:r.cp1x,n?r.cp2y:r.cp1y,r.x,r.y)}function Khe(t,e){e.translation&&t.translate(e.translation[0],e.translation[1]),ns(e.rotation)||t.rotate(e.rotation),e.color&&(t.fillStyle=e.color),e.textAlign&&(t.textAlign=e.textAlign),e.textBaseline&&(t.textBaseline=e.textBaseline)}function Xhe(t,e,r,n,a){if(a.strikethrough||a.underline){const i=t.measureText(n),o=e-i.actualBoundingBoxLeft,c=e+i.actualBoundingBoxRight,d=r-i.actualBoundingBoxAscent,h=r+i.actualBoundingBoxDescent,m=a.strikethrough?(d+h)/2:h;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=a.decorationWidth||2,t.moveTo(o,m),t.lineTo(c,m),t.stroke()}}function Zhe(t,e){const r=t.fillStyle;t.fillStyle=e.color,t.fillRect(e.left,e.top,e.width,e.height),t.fillStyle=r}function Ad(t,e,r,n,a,i={}){const o=rr(e)?e:[e],c=i.strokeWidth>0&&i.strokeColor!=="";let d,h;for(t.save(),t.font=a.string,Khe(t,i),d=0;d<o.length;++d)h=o[d],i.backdrop&&Zhe(t,i.backdrop),c&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),ns(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(h,r,n,i.maxWidth)),t.fillText(h,r,n,i.maxWidth),Xhe(t,r,n,h,i),n+=Number(a.lineHeight);t.restore()}function Sm(t,e){const{x:r,y:n,w:a,h:i,radius:o}=e;t.arc(r+o.topLeft,n+o.topLeft,o.topLeft,1.5*Ns,Ns,!0),t.lineTo(r,n+i-o.bottomLeft),t.arc(r+o.bottomLeft,n+i-o.bottomLeft,o.bottomLeft,Ns,Sr,!0),t.lineTo(r+a-o.bottomRight,n+i),t.arc(r+a-o.bottomRight,n+i-o.bottomRight,o.bottomRight,Sr,0,!0),t.lineTo(r+a,n+o.topRight),t.arc(r+a-o.topRight,n+o.topRight,o.topRight,0,-Sr,!0),t.lineTo(r+o.topLeft,n)}const Qhe=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Jhe=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function efe(t,e){const r=(""+t).match(Qhe);if(!r||r[1]==="normal")return e*1.2;switch(t=+r[2],r[3]){case"px":return t;case"%":t/=100;break}return e*t}const tfe=t=>+t||0;function hS(t,e){const r={},n=cs(e),a=n?Object.keys(e):e,i=cs(t)?n?o=>Yt(t[o],t[e[o]]):o=>t[o]:()=>t;for(const o of a)r[o]=tfe(i(o));return r}function uB(t){return hS(t,{top:"y",right:"x",bottom:"y",left:"x"})}function gd(t){return hS(t,["topLeft","topRight","bottomLeft","bottomRight"])}function vn(t){const e=uB(t);return e.width=e.left+e.right,e.height=e.top+e.bottom,e}function Yr(t,e){t=t||{},e=e||or.font;let r=Yt(t.size,e.size);typeof r=="string"&&(r=parseInt(r,10));let n=Yt(t.style,e.style);n&&!(""+n).match(Jhe)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const a={family:Yt(t.family,e.family),lineHeight:efe(Yt(t.lineHeight,e.lineHeight),r),size:r,style:n,weight:Yt(t.weight,e.weight),string:""};return a.string=qhe(a),a}function Gf(t,e,r,n){let a,i,o;for(a=0,i=t.length;a<i;++a)if(o=t[a],o!==void 0&&o!==void 0)return o}function sfe(t,e,r){const{min:n,max:a}=t,i=JF(e,(a-n)/2),o=(c,d)=>r&&c===0?0:c+d;return{min:o(n,-Math.abs(i)),max:o(a,i)}}function uc(t,e){return Object.assign(Object.create(t),e)}function fS(t,e=[""],r,n,a=()=>t[0]){const i=r||t;typeof n>"u"&&(n=pB("_fallback",t));const o={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:n,_getTarget:a,override:c=>fS([c,...t],e,i,n)};return new Proxy(o,{deleteProperty(c,d){return delete c[d],delete c._keys,delete t[0][d],!0},get(c,d){return fB(c,d,()=>dfe(d,e,t,c))},getOwnPropertyDescriptor(c,d){return Reflect.getOwnPropertyDescriptor(c._scopes[0],d)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(c,d){return PD(c).includes(d)},ownKeys(c){return PD(c)},set(c,d,h){const m=c._storage||(c._storage=a());return c[d]=m[d]=h,delete c._keys,!0}})}function nh(t,e,r,n){const a={_cacheable:!1,_proxy:t,_context:e,_subProxy:r,_stack:new Set,_descriptors:hB(t,n),setContext:i=>nh(t,i,r,n),override:i=>nh(t.override(i),e,r,n)};return new Proxy(a,{deleteProperty(i,o){return delete i[o],delete t[o],!0},get(i,o,c){return fB(i,o,()=>nfe(i,o,c))},getOwnPropertyDescriptor(i,o){return i._descriptors.allKeys?Reflect.has(t,o)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,o)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,o){return Reflect.has(t,o)},ownKeys(){return Reflect.ownKeys(t)},set(i,o,c){return t[o]=c,delete i[o],!0}})}function hB(t,e={scriptable:!0,indexable:!0}){const{_scriptable:r=e.scriptable,_indexable:n=e.indexable,_allKeys:a=e.allKeys}=t;return{allKeys:a,scriptable:r,indexable:n,isScriptable:rc(r)?r:()=>r,isIndexable:rc(n)?n:()=>n}}const rfe=(t,e)=>t?t+oS(e):e,mS=(t,e)=>cs(e)&&t!=="adapters"&&(Object.getPrototypeOf(e)===null||e.constructor===Object);function fB(t,e,r){if(Object.prototype.hasOwnProperty.call(t,e)||e==="constructor")return t[e];const n=r();return t[e]=n,n}function nfe(t,e,r){const{_proxy:n,_context:a,_subProxy:i,_descriptors:o}=t;let c=n[e];return rc(c)&&o.isScriptable(e)&&(c=afe(e,c,t,r)),rr(c)&&c.length&&(c=ife(e,c,t,o.isIndexable)),mS(e,c)&&(c=nh(c,a,i&&i[e],o)),c}function afe(t,e,r,n){const{_proxy:a,_context:i,_subProxy:o,_stack:c}=r;if(c.has(t))throw new Error("Recursion detected: "+Array.from(c).join("->")+"->"+t);c.add(t);let d=e(i,o||n);return c.delete(t),mS(t,d)&&(d=pS(a._scopes,a,t,d)),d}function ife(t,e,r,n){const{_proxy:a,_context:i,_subProxy:o,_descriptors:c}=r;if(typeof i.index<"u"&&n(t))return e[i.index%e.length];if(cs(e[0])){const d=e,h=a._scopes.filter(m=>m!==d);e=[];for(const m of d){const f=pS(h,a,t,m);e.push(nh(f,i,o&&o[t],c))}}return e}function mB(t,e,r){return rc(t)?t(e,r):t}const ofe=(t,e)=>t===!0?e:typeof t=="string"?sc(e,t):void 0;function lfe(t,e,r,n,a){for(const i of e){const o=ofe(r,i);if(o){t.add(o);const c=mB(o._fallback,r,a);if(typeof c<"u"&&c!==r&&c!==n)return c}else if(o===!1&&typeof n<"u"&&r!==n)return null}return!1}function pS(t,e,r,n){const a=e._rootScopes,i=mB(e._fallback,r,n),o=[...t,...a],c=new Set;c.add(n);let d=MD(c,o,r,i||r,n);return d===null||typeof i<"u"&&i!==r&&(d=MD(c,o,i,d,n),d===null)?!1:fS(Array.from(c),[""],a,i,()=>cfe(e,r,n))}function MD(t,e,r,n,a){for(;r;)r=lfe(t,e,r,n,a);return r}function cfe(t,e,r){const n=t._getTarget();e in n||(n[e]={});const a=n[e];return rr(a)&&cs(r)?r:a||{}}function dfe(t,e,r,n){let a;for(const i of e)if(a=pB(rfe(i,t),r),typeof a<"u")return mS(t,a)?pS(r,n,t,a):a}function pB(t,e){for(const r of e){if(!r)continue;const n=r[t];if(typeof n<"u")return n}}function PD(t){let e=t._keys;return e||(e=t._keys=ufe(t._scopes)),e}function ufe(t){const e=new Set;for(const r of t)for(const n of Object.keys(r).filter(a=>!a.startsWith("_")))e.add(n);return Array.from(e)}function gB(t,e,r,n){const{iScale:a}=t,{key:i="r"}=this._parsing,o=new Array(n);let c,d,h,m;for(c=0,d=n;c<d;++c)h=c+r,m=e[h],o[c]={r:a.parse(sc(m,i),h)};return o}const hfe=Number.EPSILON||1e-14,ah=(t,e)=>e<t.length&&!t[e].skip&&t[e],xB=t=>t==="x"?"y":"x";function ffe(t,e,r,n){const a=t.skip?e:t,i=e,o=r.skip?e:r,c=eN(i,a),d=eN(o,i);let h=c/(c+d),m=d/(c+d);h=isNaN(h)?0:h,m=isNaN(m)?0:m;const f=n*h,g=n*m;return{previous:{x:i.x-f*(o.x-a.x),y:i.y-f*(o.y-a.y)},next:{x:i.x+g*(o.x-a.x),y:i.y+g*(o.y-a.y)}}}function mfe(t,e,r){const n=t.length;let a,i,o,c,d,h=ah(t,0);for(let m=0;m<n-1;++m)if(d=h,h=ah(t,m+1),!(!d||!h)){if(am(e[m],0,hfe)){r[m]=r[m+1]=0;continue}a=r[m]/e[m],i=r[m+1]/e[m],c=Math.pow(a,2)+Math.pow(i,2),!(c<=9)&&(o=3/Math.sqrt(c),r[m]=a*o*e[m],r[m+1]=i*o*e[m])}}function pfe(t,e,r="x"){const n=xB(r),a=t.length;let i,o,c,d=ah(t,0);for(let h=0;h<a;++h){if(o=c,c=d,d=ah(t,h+1),!c)continue;const m=c[r],f=c[n];o&&(i=(m-o[r])/3,c[`cp1${r}`]=m-i,c[`cp1${n}`]=f-i*e[h]),d&&(i=(d[r]-m)/3,c[`cp2${r}`]=m+i,c[`cp2${n}`]=f+i*e[h])}}function gfe(t,e="x"){const r=xB(e),n=t.length,a=Array(n).fill(0),i=Array(n);let o,c,d,h=ah(t,0);for(o=0;o<n;++o)if(c=d,d=h,h=ah(t,o+1),!!d){if(h){const m=h[e]-d[e];a[o]=m!==0?(h[r]-d[r])/m:0}i[o]=c?h?Gi(a[o-1])!==Gi(a[o])?0:(a[o-1]+a[o])/2:a[o-1]:a[o]}mfe(t,a,i),pfe(t,i,e)}function sx(t,e,r){return Math.max(Math.min(t,r),e)}function xfe(t,e){let r,n,a,i,o,c=Lo(t[0],e);for(r=0,n=t.length;r<n;++r)o=i,i=c,c=r<n-1&&Lo(t[r+1],e),i&&(a=t[r],o&&(a.cp1x=sx(a.cp1x,e.left,e.right),a.cp1y=sx(a.cp1y,e.top,e.bottom)),c&&(a.cp2x=sx(a.cp2x,e.left,e.right),a.cp2y=sx(a.cp2y,e.top,e.bottom)))}function yfe(t,e,r,n,a){let i,o,c,d;if(e.spanGaps&&(t=t.filter(h=>!h.skip)),e.cubicInterpolationMode==="monotone")gfe(t,a);else{let h=n?t[t.length-1]:t[0];for(i=0,o=t.length;i<o;++i)c=t[i],d=ffe(h,c,t[Math.min(i+1,o-(n?0:1))%o],e.tension),c.cp1x=d.previous.x,c.cp1y=d.previous.y,c.cp2x=d.next.x,c.cp2y=d.next.y,h=c}e.capBezierPoints&&xfe(t,r)}function gS(){return typeof window<"u"&&typeof document<"u"}function xS(t){let e=t.parentNode;return e&&e.toString()==="[object ShadowRoot]"&&(e=e.host),e}function y0(t,e,r){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*e.parentNode[r])):n=t,n}const wy=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function bfe(t,e){return wy(t).getPropertyValue(e)}const vfe=["top","right","bottom","left"];function xd(t,e,r){const n={};r=r?"-"+r:"";for(let a=0;a<4;a++){const i=vfe[a];n[i]=parseFloat(t[e+"-"+i+r])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const wfe=(t,e,r)=>(t>0||e>0)&&(!r||!r.shadowRoot);function jfe(t,e){const r=t.touches,n=r&&r.length?r[0]:t,{offsetX:a,offsetY:i}=n;let o=!1,c,d;if(wfe(a,i,t.target))c=a,d=i;else{const h=e.getBoundingClientRect();c=n.clientX-h.left,d=n.clientY-h.top,o=!0}return{x:c,y:d,box:o}}function sd(t,e){if("native"in t)return t;const{canvas:r,currentDevicePixelRatio:n}=e,a=wy(r),i=a.boxSizing==="border-box",o=xd(a,"padding"),c=xd(a,"border","width"),{x:d,y:h,box:m}=jfe(t,r),f=o.left+(m&&c.left),g=o.top+(m&&c.top);let{width:y,height:v}=e;return i&&(y-=o.width+c.width,v-=o.height+c.height),{x:Math.round((d-f)/y*r.width/n),y:Math.round((h-g)/v*r.height/n)}}function _fe(t,e,r){let n,a;if(e===void 0||r===void 0){const i=t&&xS(t);if(!i)e=t.clientWidth,r=t.clientHeight;else{const o=i.getBoundingClientRect(),c=wy(i),d=xd(c,"border","width"),h=xd(c,"padding");e=o.width-h.width-d.width,r=o.height-h.height-d.height,n=y0(c.maxWidth,i,"clientWidth"),a=y0(c.maxHeight,i,"clientHeight")}}return{width:e,height:r,maxWidth:n||g0,maxHeight:a||g0}}const Hl=t=>Math.round(t*10)/10;function Nfe(t,e,r,n){const a=wy(t),i=xd(a,"margin"),o=y0(a.maxWidth,t,"clientWidth")||g0,c=y0(a.maxHeight,t,"clientHeight")||g0,d=_fe(t,e,r);let{width:h,height:m}=d;if(a.boxSizing==="content-box"){const g=xd(a,"border","width"),y=xd(a,"padding");h-=y.width+g.width,m-=y.height+g.height}return h=Math.max(0,h-i.width),m=Math.max(0,n?h/n:m-i.height),h=Hl(Math.min(h,o,d.maxWidth)),m=Hl(Math.min(m,c,d.maxHeight)),h&&!m&&(m=Hl(h/2)),(e!==void 0||r!==void 0)&&n&&d.height&&m>d.height&&(m=d.height,h=Hl(Math.floor(m*n))),{width:h,height:m}}function OD(t,e,r){const n=e||1,a=Hl(t.height*n),i=Hl(t.width*n);t.height=Hl(t.height),t.width=Hl(t.width);const o=t.canvas;return o.style&&(r||!o.style.height&&!o.style.width)&&(o.style.height=`${t.height}px`,o.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||o.height!==a||o.width!==i?(t.currentDevicePixelRatio=n,o.height=a,o.width=i,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const Sfe=(function(){let t=!1;try{const e={get passive(){return t=!0,!1}};gS()&&(window.addEventListener("test",null,e),window.removeEventListener("test",null,e))}catch{}return t})();function LD(t,e){const r=bfe(t,e),n=r&&r.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function rd(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:t.y+r*(e.y-t.y)}}function Cfe(t,e,r,n){return{x:t.x+r*(e.x-t.x),y:n==="middle"?r<.5?t.y:e.y:n==="after"?r<1?t.y:e.y:r>0?e.y:t.y}}function kfe(t,e,r,n){const a={x:t.cp2x,y:t.cp2y},i={x:e.cp1x,y:e.cp1y},o=rd(t,a,r),c=rd(a,i,r),d=rd(i,e,r),h=rd(o,c,r),m=rd(c,d,r);return rd(h,m,r)}const Afe=function(t,e){return{x(r){return t+t+e-r},setWidth(r){e=r},textAlign(r){return r==="center"?r:r==="right"?"left":"right"},xPlus(r,n){return r-n},leftForLtr(r,n){return r-n}}},Efe=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,e){return t+e},leftForLtr(t,e){return t}}};function Vu(t,e,r){return t?Afe(e,r):Efe()}function yB(t,e){let r,n;(e==="ltr"||e==="rtl")&&(r=t.canvas.style,n=[r.getPropertyValue("direction"),r.getPropertyPriority("direction")],r.setProperty("direction",e,"important"),t.prevTextDirection=n)}function bB(t,e){e!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",e[0],e[1]))}function vB(t){return t==="angle"?{between:Nm,compare:The,normalize:fn}:{between:Po,compare:(e,r)=>e-r,normalize:e=>e}}function FD({start:t,end:e,count:r,loop:n,style:a}){return{start:t%r,end:e%r,loop:n&&(e-t+1)%r===0,style:a}}function Tfe(t,e,r){const{property:n,start:a,end:i}=r,{between:o,normalize:c}=vB(n),d=e.length;let{start:h,end:m,loop:f}=t,g,y;if(f){for(h+=d,m+=d,g=0,y=d;g<y&&o(c(e[h%d][n]),a,i);++g)h--,m--;h%=d,m%=d}return m<h&&(m+=d),{start:h,end:m,loop:f,style:t.style}}function wB(t,e,r){if(!r)return[t];const{property:n,start:a,end:i}=r,o=e.length,{compare:c,between:d,normalize:h}=vB(n),{start:m,end:f,loop:g,style:y}=Tfe(t,e,r),v=[];let w=!1,j=null,b,N,k;const S=()=>d(a,k,b)&&c(a,k)!==0,C=()=>c(i,b)===0||d(i,k,b),B=()=>w||S(),E=()=>!w||C();for(let z=m,T=m;z<=f;++z)N=e[z%o],!N.skip&&(b=h(N[n]),b!==k&&(w=d(b,a,i),j===null&&B()&&(j=c(b,a)===0?z:T),j!==null&&E()&&(v.push(FD({start:j,end:z,loop:g,count:o,style:y})),j=null),T=z,k=b));return j!==null&&v.push(FD({start:j,end:f,loop:g,count:o,style:y})),v}function jB(t,e){const r=[],n=t.segments;for(let a=0;a<n.length;a++){const i=wB(n[a],t.points,e);i.length&&r.push(...i)}return r}function Rfe(t,e,r,n){let a=0,i=e-1;if(r&&!n)for(;a<e&&!t[a].skip;)a++;for(;a<e&&t[a].skip;)a++;for(a%=e,r&&(i+=a);i>a&&t[i%e].skip;)i--;return i%=e,{start:a,end:i}}function Dfe(t,e,r,n){const a=t.length,i=[];let o=e,c=t[e],d;for(d=e+1;d<=r;++d){const h=t[d%a];h.skip||h.stop?c.skip||(n=!1,i.push({start:e%a,end:(d-1)%a,loop:n}),e=o=h.stop?d:null):(o=d,c.skip&&(e=d)),c=h}return o!==null&&i.push({start:e%a,end:o%a,loop:n}),i}function Mfe(t,e){const r=t.points,n=t.options.spanGaps,a=r.length;if(!a)return[];const i=!!t._loop,{start:o,end:c}=Rfe(r,a,i,n);if(n===!0)return BD(t,[{start:o,end:c,loop:i}],r,e);const d=c<o?c+a:c,h=!!t._fullLoop&&o===0&&c===a-1;return BD(t,Dfe(r,o,d,h),r,e)}function BD(t,e,r,n){return!n||!n.setContext||!r?e:Pfe(t,e,r,n)}function Pfe(t,e,r,n){const a=t._chart.getContext(),i=ID(t.options),{_datasetIndex:o,options:{spanGaps:c}}=t,d=r.length,h=[];let m=i,f=e[0].start,g=f;function y(v,w,j,b){const N=c?-1:1;if(v!==w){for(v+=d;r[v%d].skip;)v-=N;for(;r[w%d].skip;)w+=N;v%d!==w%d&&(h.push({start:v%d,end:w%d,loop:j,style:b}),m=b,f=w%d)}}for(const v of e){f=c?f:v.start;let w=r[f%d],j;for(g=f+1;g<=v.end;g++){const b=r[g%d];j=ID(n.setContext(uc(a,{type:"segment",p0:w,p1:b,p0DataIndex:(g-1)%d,p1DataIndex:g%d,datasetIndex:o}))),Ofe(j,m)&&y(f,g-1,v.loop,m),w=b,m=j}f<g-1&&y(f,g-1,v.loop,m)}return h}function ID(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Ofe(t,e){if(!e)return!1;const r=[],n=function(a,i){return uS(i)?(r.includes(i)||r.push(i),r.indexOf(i)):i};return JSON.stringify(t,n)!==JSON.stringify(e,n)}function rx(t,e,r){return t.options.clip?t[r]:e[r]}function Lfe(t,e){const{xScale:r,yScale:n}=t;return r&&n?{left:rx(r,e,"left"),right:rx(r,e,"right"),top:rx(n,e,"top"),bottom:rx(n,e,"bottom")}:e}function _B(t,e){const r=e._clip;if(r.disabled)return!1;const n=Lfe(e,t.chartArea);return{left:r.left===!1?0:n.left-(r.left===!0?0:r.left),right:r.right===!1?t.width:n.right+(r.right===!0?0:r.right),top:r.top===!1?0:n.top-(r.top===!0?0:r.top),bottom:r.bottom===!1?t.height:n.bottom+(r.bottom===!0?0:r.bottom)}}class Ffe{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(e,r,n,a){const i=r.listeners[a],o=r.duration;i.forEach(c=>c({chart:e,initial:r.initial,numSteps:o,currentStep:Math.min(n-r.start,o)}))}_refresh(){this._request||(this._running=!0,this._request=aB.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(e=Date.now()){let r=0;this._charts.forEach((n,a)=>{if(!n.running||!n.items.length)return;const i=n.items;let o=i.length-1,c=!1,d;for(;o>=0;--o)d=i[o],d._active?(d._total>n.duration&&(n.duration=d._total),d.tick(e),c=!0):(i[o]=i[i.length-1],i.pop());c&&(a.draw(),this._notify(a,n,e,"progress")),i.length||(n.running=!1,this._notify(a,n,e,"complete"),n.initial=!1),r+=i.length}),this._lastDate=e,r===0&&(this._running=!1)}_getAnims(e){const r=this._charts;let n=r.get(e);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},r.set(e,n)),n}listen(e,r,n){this._getAnims(e).listeners[r].push(n)}add(e,r){!r||!r.length||this._getAnims(e).items.push(...r)}has(e){return this._getAnims(e).items.length>0}start(e){const r=this._charts.get(e);r&&(r.running=!0,r.start=Date.now(),r.duration=r.items.reduce((n,a)=>Math.max(n,a._duration),0),this._refresh())}running(e){if(!this._running)return!1;const r=this._charts.get(e);return!(!r||!r.running||!r.items.length)}stop(e){const r=this._charts.get(e);if(!r||!r.items.length)return;const n=r.items;let a=n.length-1;for(;a>=0;--a)n[a].cancel();r.items=[],this._notify(e,r,Date.now(),"complete")}remove(e){return this._charts.delete(e)}}var To=new Ffe;const zD="transparent",Bfe={boolean(t,e,r){return r>.5?e:t},color(t,e,r){const n=TD(t||zD),a=n.valid&&TD(e||zD);return a&&a.valid?a.mix(n,r).hexString():e},number(t,e,r){return t+(e-t)*r}};class Ife{constructor(e,r,n,a){const i=r[n];a=Gf([e.to,a,i,e.from]);const o=Gf([e.from,i,a]);this._active=!0,this._fn=e.fn||Bfe[e.type||typeof o],this._easing=im[e.easing]||im.linear,this._start=Math.floor(Date.now()+(e.delay||0)),this._duration=this._total=Math.floor(e.duration),this._loop=!!e.loop,this._target=r,this._prop=n,this._from=o,this._to=a,this._promises=void 0}active(){return this._active}update(e,r,n){if(this._active){this._notify(!1);const a=this._target[this._prop],i=n-this._start,o=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(o,e.duration)),this._total+=i,this._loop=!!e.loop,this._to=Gf([e.to,r,a,e.from]),this._from=Gf([e.from,a,r])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(e){const r=e-this._start,n=this._duration,a=this._prop,i=this._from,o=this._loop,c=this._to;let d;if(this._active=i!==c&&(o||r<n),!this._active){this._target[a]=c,this._notify(!0);return}if(r<0){this._target[a]=i;return}d=r/n%2,d=o&&d>1?2-d:d,d=this._easing(Math.min(1,Math.max(0,d))),this._target[a]=this._fn(i,c,d)}wait(){const e=this._promises||(this._promises=[]);return new Promise((r,n)=>{e.push({res:r,rej:n})})}_notify(e){const r=e?"res":"rej",n=this._promises||[];for(let a=0;a<n.length;a++)n[a][r]()}}class NB{constructor(e,r){this._chart=e,this._properties=new Map,this.configure(r)}configure(e){if(!cs(e))return;const r=Object.keys(or.animation),n=this._properties;Object.getOwnPropertyNames(e).forEach(a=>{const i=e[a];if(!cs(i))return;const o={};for(const c of r)o[c]=i[c];(rr(i.properties)&&i.properties||[a]).forEach(c=>{(c===a||!n.has(c))&&n.set(c,o)})})}_animateOptions(e,r){const n=r.options,a=Ufe(e,n);if(!a)return[];const i=this._createAnimations(a,n);return n.$shared&&zfe(e.options.$animations,n).then(()=>{e.options=n},()=>{}),i}_createAnimations(e,r){const n=this._properties,a=[],i=e.$animations||(e.$animations={}),o=Object.keys(r),c=Date.now();let d;for(d=o.length-1;d>=0;--d){const h=o[d];if(h.charAt(0)==="$")continue;if(h==="options"){a.push(...this._animateOptions(e,r));continue}const m=r[h];let f=i[h];const g=n.get(h);if(f)if(g&&f.active()){f.update(g,m,c);continue}else f.cancel();if(!g||!g.duration){e[h]=m;continue}i[h]=f=new Ife(g,e,h,m),a.push(f)}return a}update(e,r){if(this._properties.size===0){Object.assign(e,r);return}const n=this._createAnimations(e,r);if(n.length)return To.add(this._chart,n),!0}}function zfe(t,e){const r=[],n=Object.keys(e);for(let a=0;a<n.length;a++){const i=t[n[a]];i&&i.active()&&r.push(i.wait())}return Promise.all(r)}function Ufe(t,e){if(!e)return;let r=t.options;if(!r){t.options=e;return}return r.$shared&&(t.options=r=Object.assign({},r,{$shared:!1,$animations:{}})),r}function UD(t,e){const r=t&&t.options||{},n=r.reverse,a=r.min===void 0?e:0,i=r.max===void 0?e:0;return{start:n?i:a,end:n?a:i}}function $fe(t,e,r){if(r===!1)return!1;const n=UD(t,r),a=UD(e,r);return{top:a.end,right:n.end,bottom:a.start,left:n.start}}function Vfe(t){let e,r,n,a;return cs(t)?(e=t.top,r=t.right,n=t.bottom,a=t.left):e=r=n=a=t,{top:e,right:r,bottom:n,left:a,disabled:t===!1}}function SB(t,e){const r=[],n=t._getSortedDatasetMetas(e);let a,i;for(a=0,i=n.length;a<i;++a)r.push(n[a].index);return r}function $D(t,e,r,n={}){const a=t.keys,i=n.mode==="single";let o,c,d,h;if(e===null)return;let m=!1;for(o=0,c=a.length;o<c;++o){if(d=+a[o],d===r){if(m=!0,n.all)continue;break}h=t.values[d],br(h)&&(i||e===0||Gi(e)===Gi(h))&&(e+=h)}return!m&&!n.all?0:e}function Hfe(t,e){const{iScale:r,vScale:n}=e,a=r.axis==="x"?"x":"y",i=n.axis==="x"?"x":"y",o=Object.keys(t),c=new Array(o.length);let d,h,m;for(d=0,h=o.length;d<h;++d)m=o[d],c[d]={[a]:m,[i]:t[m]};return c}function N1(t,e){const r=t&&t.options.stacked;return r||r===void 0&&e.stack!==void 0}function qfe(t,e,r){return`${t.id}.${e.id}.${r.stack||r.type}`}function Wfe(t){const{min:e,max:r,minDefined:n,maxDefined:a}=t.getUserBounds();return{min:n?e:Number.NEGATIVE_INFINITY,max:a?r:Number.POSITIVE_INFINITY}}function Gfe(t,e,r){const n=t[e]||(t[e]={});return n[r]||(n[r]={})}function VD(t,e,r,n){for(const a of e.getMatchingVisibleMetas(n).reverse()){const i=t[a.index];if(r&&i>0||!r&&i<0)return a.index}return null}function HD(t,e){const{chart:r,_cachedMeta:n}=t,a=r._stacks||(r._stacks={}),{iScale:i,vScale:o,index:c}=n,d=i.axis,h=o.axis,m=qfe(i,o,n),f=e.length;let g;for(let y=0;y<f;++y){const v=e[y],{[d]:w,[h]:j}=v,b=v._stacks||(v._stacks={});g=b[h]=Gfe(a,m,w),g[c]=j,g._top=VD(g,o,!0,n.type),g._bottom=VD(g,o,!1,n.type);const N=g._visualValues||(g._visualValues={});N[c]=j}}function S1(t,e){const r=t.scales;return Object.keys(r).filter(n=>r[n].axis===e).shift()}function Yfe(t,e){return uc(t,{active:!1,dataset:void 0,datasetIndex:e,index:e,mode:"default",type:"dataset"})}function Kfe(t,e,r){return uc(t,{active:!1,dataIndex:e,parsed:void 0,raw:void 0,element:r,index:e,mode:"default",type:"data"})}function Of(t,e){const r=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){e=e||t._parsed;for(const a of e){const i=a._stacks;if(!i||i[n]===void 0||i[n][r]===void 0)return;delete i[n][r],i[n]._visualValues!==void 0&&i[n]._visualValues[r]!==void 0&&delete i[n]._visualValues[r]}}}const C1=t=>t==="reset"||t==="none",qD=(t,e)=>e?t:Object.assign({},t),Xfe=(t,e,r)=>t&&!e.hidden&&e._stacked&&{keys:SB(r,!0),values:null};class hc{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(e,r){this.chart=e,this._ctx=e.ctx,this.index=r,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const e=this._cachedMeta;this.configure(),this.linkScales(),e._stacked=N1(e.vScale,e),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(e){this.index!==e&&Of(this._cachedMeta),this.index=e}linkScales(){const e=this.chart,r=this._cachedMeta,n=this.getDataset(),a=(f,g,y,v)=>f==="x"?g:f==="r"?v:y,i=r.xAxisID=Yt(n.xAxisID,S1(e,"x")),o=r.yAxisID=Yt(n.yAxisID,S1(e,"y")),c=r.rAxisID=Yt(n.rAxisID,S1(e,"r")),d=r.indexAxis,h=r.iAxisID=a(d,i,o,c),m=r.vAxisID=a(d,o,i,c);r.xScale=this.getScaleForId(i),r.yScale=this.getScaleForId(o),r.rScale=this.getScaleForId(c),r.iScale=this.getScaleForId(h),r.vScale=this.getScaleForId(m)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(e){return this.chart.scales[e]}_getOtherScale(e){const r=this._cachedMeta;return e===r.iScale?r.vScale:r.iScale}reset(){this._update("reset")}_destroy(){const e=this._cachedMeta;this._data&&kD(this._data,this),e._stacked&&Of(e)}_dataCheck(){const e=this.getDataset(),r=e.data||(e.data=[]),n=this._data;if(cs(r)){const a=this._cachedMeta;this._data=Hfe(r,a)}else if(n!==r){if(n){kD(n,this);const a=this._cachedMeta;Of(a),a._parsed=[]}r&&Object.isExtensible(r)&&Phe(r,this),this._syncList=[],this._data=r}}addElements(){const e=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(e.dataset=new this.datasetElementType)}buildOrUpdateElements(e){const r=this._cachedMeta,n=this.getDataset();let a=!1;this._dataCheck();const i=r._stacked;r._stacked=N1(r.vScale,r),r.stack!==n.stack&&(a=!0,Of(r),r.stack=n.stack),this._resyncElements(e),(a||i!==r._stacked)&&(HD(this,r._parsed),r._stacked=N1(r.vScale,r))}configure(){const e=this.chart.config,r=e.datasetScopeKeys(this._type),n=e.getOptionScopes(this.getDataset(),r,!0);this.options=e.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(e,r){const{_cachedMeta:n,_data:a}=this,{iScale:i,_stacked:o}=n,c=i.axis;let d=e===0&&r===a.length?!0:n._sorted,h=e>0&&n._parsed[e-1],m,f,g;if(this._parsing===!1)n._parsed=a,n._sorted=!0,g=a;else{rr(a[e])?g=this.parseArrayData(n,a,e,r):cs(a[e])?g=this.parseObjectData(n,a,e,r):g=this.parsePrimitiveData(n,a,e,r);const y=()=>f[c]===null||h&&f[c]<h[c];for(m=0;m<r;++m)n._parsed[m+e]=f=g[m],d&&(y()&&(d=!1),h=f);n._sorted=d}o&&HD(this,g)}parsePrimitiveData(e,r,n,a){const{iScale:i,vScale:o}=e,c=i.axis,d=o.axis,h=i.getLabels(),m=i===o,f=new Array(a);let g,y,v;for(g=0,y=a;g<y;++g)v=g+n,f[g]={[c]:m||i.parse(h[v],v),[d]:o.parse(r[v],v)};return f}parseArrayData(e,r,n,a){const{xScale:i,yScale:o}=e,c=new Array(a);let d,h,m,f;for(d=0,h=a;d<h;++d)m=d+n,f=r[m],c[d]={x:i.parse(f[0],m),y:o.parse(f[1],m)};return c}parseObjectData(e,r,n,a){const{xScale:i,yScale:o}=e,{xAxisKey:c="x",yAxisKey:d="y"}=this._parsing,h=new Array(a);let m,f,g,y;for(m=0,f=a;m<f;++m)g=m+n,y=r[g],h[m]={x:i.parse(sc(y,c),g),y:o.parse(sc(y,d),g)};return h}getParsed(e){return this._cachedMeta._parsed[e]}getDataElement(e){return this._cachedMeta.data[e]}applyStack(e,r,n){const a=this.chart,i=this._cachedMeta,o=r[e.axis],c={keys:SB(a,!0),values:r._stacks[e.axis]._visualValues};return $D(c,o,i.index,{mode:n})}updateRangeFromParsed(e,r,n,a){const i=n[r.axis];let o=i===null?NaN:i;const c=a&&n._stacks[r.axis];a&&c&&(a.values=c,o=$D(a,i,this._cachedMeta.index)),e.min=Math.min(e.min,o),e.max=Math.max(e.max,o)}getMinMax(e,r){const n=this._cachedMeta,a=n._parsed,i=n._sorted&&e===n.iScale,o=a.length,c=this._getOtherScale(e),d=Xfe(r,n,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:m,max:f}=Wfe(c);let g,y;function v(){y=a[g];const w=y[c.axis];return!br(y[e.axis])||m>w||f<w}for(g=0;g<o&&!(!v()&&(this.updateRangeFromParsed(h,e,y,d),i));++g);if(i){for(g=o-1;g>=0;--g)if(!v()){this.updateRangeFromParsed(h,e,y,d);break}}return h}getAllParsedValues(e){const r=this._cachedMeta._parsed,n=[];let a,i,o;for(a=0,i=r.length;a<i;++a)o=r[a][e.axis],br(o)&&n.push(o);return n}getMaxOverflow(){return!1}getLabelAndValue(e){const r=this._cachedMeta,n=r.iScale,a=r.vScale,i=this.getParsed(e);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:a?""+a.getLabelForValue(i[a.axis]):""}}_update(e){const r=this._cachedMeta;this.update(e||"default"),r._clip=Vfe(Yt(this.options.clip,$fe(r.xScale,r.yScale,this.getMaxOverflow())))}update(e){}draw(){const e=this._ctx,r=this.chart,n=this._cachedMeta,a=n.data||[],i=r.chartArea,o=[],c=this._drawStart||0,d=this._drawCount||a.length-c,h=this.options.drawActiveElementsOnTop;let m;for(n.dataset&&n.dataset.draw(e,i,c,d),m=c;m<c+d;++m){const f=a[m];f.hidden||(f.active&&h?o.push(f):f.draw(e,i))}for(m=0;m<o.length;++m)o[m].draw(e,i)}getStyle(e,r){const n=r?"active":"default";return e===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(e||0,n)}getContext(e,r,n){const a=this.getDataset();let i;if(e>=0&&e<this._cachedMeta.data.length){const o=this._cachedMeta.data[e];i=o.$context||(o.$context=Kfe(this.getContext(),e,o)),i.parsed=this.getParsed(e),i.raw=a.data[e],i.index=i.dataIndex=e}else i=this.$context||(this.$context=Yfe(this.chart.getContext(),this.index)),i.dataset=a,i.index=i.datasetIndex=this.index;return i.active=!!r,i.mode=n,i}resolveDatasetElementOptions(e){return this._resolveElementOptions(this.datasetElementType.id,e)}resolveDataElementOptions(e,r){return this._resolveElementOptions(this.dataElementType.id,r,e)}_resolveElementOptions(e,r="default",n){const a=r==="active",i=this._cachedDataOpts,o=e+"-"+r,c=i[o],d=this.enableOptionSharing&&_m(n);if(c)return qD(c,d);const h=this.chart.config,m=h.datasetElementScopeKeys(this._type,e),f=a?[`${e}Hover`,"hover",e,""]:[e,""],g=h.getOptionScopes(this.getDataset(),m),y=Object.keys(or.elements[e]),v=()=>this.getContext(n,a,r),w=h.resolveNamedOptions(g,y,v,f);return w.$shared&&(w.$shared=d,i[o]=Object.freeze(qD(w,d))),w}_resolveAnimations(e,r,n){const a=this.chart,i=this._cachedDataOpts,o=`animation-${r}`,c=i[o];if(c)return c;let d;if(a.options.animation!==!1){const m=this.chart.config,f=m.datasetAnimationScopeKeys(this._type,r),g=m.getOptionScopes(this.getDataset(),f);d=m.createResolver(g,this.getContext(e,n,r))}const h=new NB(a,d&&d.animations);return d&&d._cacheable&&(i[o]=Object.freeze(h)),h}getSharedOptions(e){if(e.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},e))}includeOptions(e,r){return!r||C1(e)||this.chart._animationsDisabled}_getSharedOptions(e,r){const n=this.resolveDataElementOptions(e,r),a=this._sharedOptions,i=this.getSharedOptions(n),o=this.includeOptions(r,i)||i!==a;return this.updateSharedOptions(i,r,n),{sharedOptions:i,includeOptions:o}}updateElement(e,r,n,a){C1(a)?Object.assign(e,n):this._resolveAnimations(r,a).update(e,n)}updateSharedOptions(e,r,n){e&&!C1(r)&&this._resolveAnimations(void 0,r).update(e,n)}_setStyle(e,r,n,a){e.active=a;const i=this.getStyle(r,a);this._resolveAnimations(r,n,a).update(e,{options:!a&&this.getSharedOptions(i)||i})}removeHoverStyle(e,r,n){this._setStyle(e,n,"active",!1)}setHoverStyle(e,r,n){this._setStyle(e,n,"active",!0)}_removeDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!1)}_setDatasetHoverStyle(){const e=this._cachedMeta.dataset;e&&this._setStyle(e,void 0,"active",!0)}_resyncElements(e){const r=this._data,n=this._cachedMeta.data;for(const[c,d,h]of this._syncList)this[c](d,h);this._syncList=[];const a=n.length,i=r.length,o=Math.min(i,a);o&&this.parse(0,o),i>a?this._insertElements(a,i-a,e):i<a&&this._removeElements(i,a-i)}_insertElements(e,r,n=!0){const a=this._cachedMeta,i=a.data,o=e+r;let c;const d=h=>{for(h.length+=r,c=h.length-1;c>=o;c--)h[c]=h[c-r]};for(d(i),c=e;c<o;++c)i[c]=new this.dataElementType;this._parsing&&d(a._parsed),this.parse(e,r),n&&this.updateElements(i,e,r,"reset")}updateElements(e,r,n,a){}_removeElements(e,r){const n=this._cachedMeta;if(this._parsing){const a=n._parsed.splice(e,r);n._stacked&&Of(n,a)}n.data.splice(e,r)}_sync(e){if(this._parsing)this._syncList.push(e);else{const[r,n,a]=e;this[r](n,a)}this.chart._dataChanges.push([this.index,...e])}_onDataPush(){const e=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-e,e])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(e,r){r&&this._sync(["_removeElements",e,r]);const n=arguments.length-2;n&&this._sync(["_insertElements",e,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function Zfe(t,e){if(!t._cache.$bar){const r=t.getMatchingVisibleMetas(e);let n=[];for(let a=0,i=r.length;a<i;a++)n=n.concat(r[a].controller.getAllParsedValues(t));t._cache.$bar=nB(n.sort((a,i)=>a-i))}return t._cache.$bar}function Qfe(t){const e=t.iScale,r=Zfe(e,t.type);let n=e._length,a,i,o,c;const d=()=>{o===32767||o===-32768||(_m(c)&&(n=Math.min(n,Math.abs(o-c)||n)),c=o)};for(a=0,i=r.length;a<i;++a)o=e.getPixelForValue(r[a]),d();for(c=void 0,a=0,i=e.ticks.length;a<i;++a)o=e.getPixelForTick(a),d();return n}function Jfe(t,e,r,n){const a=r.barThickness;let i,o;return ns(a)?(i=e.min*r.categoryPercentage,o=r.barPercentage):(i=a*n,o=1),{chunk:i/n,ratio:o,start:e.pixels[t]-i/2}}function eme(t,e,r,n){const a=e.pixels,i=a[t];let o=t>0?a[t-1]:null,c=t<a.length-1?a[t+1]:null;const d=r.categoryPercentage;o===null&&(o=i-(c===null?e.end-e.start:c-i)),c===null&&(c=i+i-o);const h=i-(i-Math.min(o,c))/2*d;return{chunk:Math.abs(c-o)/2*d/n,ratio:r.barPercentage,start:h}}function tme(t,e,r,n){const a=r.parse(t[0],n),i=r.parse(t[1],n),o=Math.min(a,i),c=Math.max(a,i);let d=o,h=c;Math.abs(o)>Math.abs(c)&&(d=c,h=o),e[r.axis]=h,e._custom={barStart:d,barEnd:h,start:a,end:i,min:o,max:c}}function CB(t,e,r,n){return rr(t)?tme(t,e,r,n):e[r.axis]=r.parse(t,n),e}function WD(t,e,r,n){const a=t.iScale,i=t.vScale,o=a.getLabels(),c=a===i,d=[];let h,m,f,g;for(h=r,m=r+n;h<m;++h)g=e[h],f={},f[a.axis]=c||a.parse(o[h],h),d.push(CB(g,f,i,h));return d}function k1(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function sme(t,e,r){return t!==0?Gi(t):(e.isHorizontal()?1:-1)*(e.min>=r?1:-1)}function rme(t){let e,r,n,a,i;return t.horizontal?(e=t.base>t.x,r="left",n="right"):(e=t.base<t.y,r="bottom",n="top"),e?(a="end",i="start"):(a="start",i="end"),{start:r,end:n,reverse:e,top:a,bottom:i}}function nme(t,e,r,n){let a=e.borderSkipped;const i={};if(!a){t.borderSkipped=i;return}if(a===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:o,end:c,reverse:d,top:h,bottom:m}=rme(t);a==="middle"&&r&&(t.enableBorderRadius=!0,(r._top||0)===n?a=h:(r._bottom||0)===n?a=m:(i[GD(m,o,c,d)]=!0,a=h)),i[GD(a,o,c,d)]=!0,t.borderSkipped=i}function GD(t,e,r,n){return n?(t=ame(t,e,r),t=YD(t,r,e)):t=YD(t,e,r),t}function ame(t,e,r){return t===e?r:t===r?e:t}function YD(t,e,r){return t==="start"?e:t==="end"?r:t}function ime(t,{inflateAmount:e},r){t.inflateAmount=e==="auto"?r===1?.33:0:e}class ome extends hc{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(e,r,n,a){return WD(e,r,n,a)}parseArrayData(e,r,n,a){return WD(e,r,n,a)}parseObjectData(e,r,n,a){const{iScale:i,vScale:o}=e,{xAxisKey:c="x",yAxisKey:d="y"}=this._parsing,h=i.axis==="x"?c:d,m=o.axis==="x"?c:d,f=[];let g,y,v,w;for(g=n,y=n+a;g<y;++g)w=r[g],v={},v[i.axis]=i.parse(sc(w,h),g),f.push(CB(sc(w,m),v,o,g));return f}updateRangeFromParsed(e,r,n,a){super.updateRangeFromParsed(e,r,n,a);const i=n._custom;i&&r===this._cachedMeta.vScale&&(e.min=Math.min(e.min,i.min),e.max=Math.max(e.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(e){const r=this._cachedMeta,{iScale:n,vScale:a}=r,i=this.getParsed(e),o=i._custom,c=k1(o)?"["+o.start+", "+o.end+"]":""+a.getLabelForValue(i[a.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:c}}initialize(){this.enableOptionSharing=!0,super.initialize();const e=this._cachedMeta;e.stack=this.getDataset().stack}update(e){const r=this._cachedMeta;this.updateElements(r.data,0,r.data.length,e)}updateElements(e,r,n,a){const i=a==="reset",{index:o,_cachedMeta:{vScale:c}}=this,d=c.getBasePixel(),h=c.isHorizontal(),m=this._getRuler(),{sharedOptions:f,includeOptions:g}=this._getSharedOptions(r,a);for(let y=r;y<r+n;y++){const v=this.getParsed(y),w=i||ns(v[c.axis])?{base:d,head:d}:this._calculateBarValuePixels(y),j=this._calculateBarIndexPixels(y,m),b=(v._stacks||{})[c.axis],N={horizontal:h,base:w.base,enableBorderRadius:!b||k1(v._custom)||o===b._top||o===b._bottom,x:h?w.head:j.center,y:h?j.center:w.head,height:h?j.size:Math.abs(w.size),width:h?Math.abs(w.size):j.size};g&&(N.options=f||this.resolveDataElementOptions(y,e[y].active?"active":a));const k=N.options||e[y].options;nme(N,k,b,o),ime(N,k,m.ratio),this.updateElement(e[y],y,N,a)}}_getStacks(e,r){const{iScale:n}=this._cachedMeta,a=n.getMatchingVisibleMetas(this._type).filter(m=>m.controller.options.grouped),i=n.options.stacked,o=[],c=this._cachedMeta.controller.getParsed(r),d=c&&c[n.axis],h=m=>{const f=m._parsed.find(y=>y[n.axis]===d),g=f&&f[m.vScale.axis];if(ns(g)||isNaN(g))return!0};for(const m of a)if(!(r!==void 0&&h(m))&&((i===!1||o.indexOf(m.stack)===-1||i===void 0&&m.stack===void 0)&&o.push(m.stack),m.index===e))break;return o.length||o.push(void 0),o}_getStackCount(e){return this._getStacks(void 0,e).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const e=this.chart.scales,r=this.chart.options.indexAxis;return Object.keys(e).filter(n=>e[n].axis===r).shift()}_getAxis(){const e={},r=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)e[Yt(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,r)]=!0;return Object.keys(e)}_getStackIndex(e,r,n){const a=this._getStacks(e,n),i=r!==void 0?a.indexOf(r):-1;return i===-1?a.length-1:i}_getRuler(){const e=this.options,r=this._cachedMeta,n=r.iScale,a=[];let i,o;for(i=0,o=r.data.length;i<o;++i)a.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const c=e.barThickness;return{min:c||Qfe(r),pixels:a,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:e.grouped,ratio:c?1:e.categoryPercentage*e.barPercentage}}_calculateBarValuePixels(e){const{_cachedMeta:{vScale:r,_stacked:n,index:a},options:{base:i,minBarLength:o}}=this,c=i||0,d=this.getParsed(e),h=d._custom,m=k1(h);let f=d[r.axis],g=0,y=n?this.applyStack(r,d,n):f,v,w;y!==f&&(g=y-f,y=f),m&&(f=h.barStart,y=h.barEnd-h.barStart,f!==0&&Gi(f)!==Gi(h.barEnd)&&(g=0),g+=f);const j=!ns(i)&&!m?i:g;let b=r.getPixelForValue(j);if(this.chart.getDataVisibility(e)?v=r.getPixelForValue(g+y):v=b,w=v-b,Math.abs(w)<o){w=sme(w,r,c)*o,f===c&&(b-=w/2);const N=r.getPixelForDecimal(0),k=r.getPixelForDecimal(1),S=Math.min(N,k),C=Math.max(N,k);b=Math.max(Math.min(b,C),S),v=b+w,n&&!m&&(d._stacks[r.axis]._visualValues[a]=r.getValueForPixel(v)-r.getValueForPixel(b))}if(b===r.getPixelForValue(c)){const N=Gi(w)*r.getLineWidthForValue(c)/2;b+=N,w-=N}return{size:w,base:b,head:v,center:v+w/2}}_calculateBarIndexPixels(e,r){const n=r.scale,a=this.options,i=a.skipNull,o=Yt(a.maxBarThickness,1/0);let c,d;const h=this._getAxisCount();if(r.grouped){const m=i?this._getStackCount(e):r.stackCount,f=a.barThickness==="flex"?eme(e,r,a,m*h):Jfe(e,r,a,m*h),g=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,y=this._getAxis().indexOf(Yt(g,this.getFirstScaleIdForIndexAxis())),v=this._getStackIndex(this.index,this._cachedMeta.stack,i?e:void 0)+y;c=f.start+f.chunk*v+f.chunk/2,d=Math.min(o,f.chunk*f.ratio)}else c=n.getPixelForValue(this.getParsed(e)[n.axis],e),d=Math.min(o,r.min*r.ratio);return{base:c-d/2,head:c+d/2,center:c,size:d}}draw(){const e=this._cachedMeta,r=e.vScale,n=e.data,a=n.length;let i=0;for(;i<a;++i)this.getParsed(i)[r.axis]!==null&&!n[i].hidden&&n[i].draw(this._ctx)}}class lme extends hc{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(e,r,n,a){const i=super.parsePrimitiveData(e,r,n,a);for(let o=0;o<i.length;o++)i[o]._custom=this.resolveDataElementOptions(o+n).radius;return i}parseArrayData(e,r,n,a){const i=super.parseArrayData(e,r,n,a);for(let o=0;o<i.length;o++){const c=r[n+o];i[o]._custom=Yt(c[2],this.resolveDataElementOptions(o+n).radius)}return i}parseObjectData(e,r,n,a){const i=super.parseObjectData(e,r,n,a);for(let o=0;o<i.length;o++){const c=r[n+o];i[o]._custom=Yt(c&&c.r&&+c.r,this.resolveDataElementOptions(o+n).radius)}return i}getMaxOverflow(){const e=this._cachedMeta.data;let r=0;for(let n=e.length-1;n>=0;--n)r=Math.max(r,e[n].size(this.resolveDataElementOptions(n))/2);return r>0&&r}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:i}=r,o=this.getParsed(e),c=a.getLabelForValue(o.x),d=i.getLabelForValue(o.y),h=o._custom;return{label:n[e]||"",value:"("+c+", "+d+(h?", "+h:"")+")"}}update(e){const r=this._cachedMeta.data;this.updateElements(r,0,r.length,e)}updateElements(e,r,n,a){const i=a==="reset",{iScale:o,vScale:c}=this._cachedMeta,{sharedOptions:d,includeOptions:h}=this._getSharedOptions(r,a),m=o.axis,f=c.axis;for(let g=r;g<r+n;g++){const y=e[g],v=!i&&this.getParsed(g),w={},j=w[m]=i?o.getPixelForDecimal(.5):o.getPixelForValue(v[m]),b=w[f]=i?c.getBasePixel():c.getPixelForValue(v[f]);w.skip=isNaN(j)||isNaN(b),h&&(w.options=d||this.resolveDataElementOptions(g,y.active?"active":a),i&&(w.options.radius=0)),this.updateElement(y,g,w,a)}}resolveDataElementOptions(e,r){const n=this.getParsed(e);let a=super.resolveDataElementOptions(e,r);a.$shared&&(a=Object.assign({},a,{$shared:!1}));const i=a.radius;return r!=="active"&&(a.radius=0),a.radius+=Yt(n&&n._custom,i),a}}function cme(t,e,r){let n=1,a=1,i=0,o=0;if(e<Qs){const c=t,d=c+e,h=Math.cos(c),m=Math.sin(c),f=Math.cos(d),g=Math.sin(d),y=(k,S,C)=>Nm(k,c,d,!0)?1:Math.max(S,S*r,C,C*r),v=(k,S,C)=>Nm(k,c,d,!0)?-1:Math.min(S,S*r,C,C*r),w=y(0,h,f),j=y(Sr,m,g),b=v(Ns,h,f),N=v(Ns+Sr,m,g);n=(w-b)/2,a=(j-N)/2,i=-(w+b)/2,o=-(j+N)/2}return{ratioX:n,ratioY:a,offsetX:i,offsetY:o}}class yS extends hc{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:e=>e!=="spacing",_indexable:e=>e!=="spacing"&&!e.startsWith("borderDash")&&!e.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data,{labels:{pointStyle:n,textAlign:a,color:i,useBorderRadius:o,borderRadius:c}}=e.legend.options;return r.labels.length&&r.datasets.length?r.labels.map((d,h)=>{const f=e.getDatasetMeta(0).controller.getStyle(h);return{text:d,fillStyle:f.backgroundColor,fontColor:i,hidden:!e.getDataVisibility(h),lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:f.borderWidth,strokeStyle:f.borderColor,textAlign:a,pointStyle:n,borderRadius:o&&(c||f.borderRadius),index:h}}):[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}}};constructor(e,r){super(e,r),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(e,r){const n=this.getDataset().data,a=this._cachedMeta;if(this._parsing===!1)a._parsed=n;else{let i=d=>+n[d];if(cs(n[e])){const{key:d="value"}=this._parsing;i=h=>+sc(n[h],d)}let o,c;for(o=e,c=e+r;o<c;++o)a._parsed[o]=i(o)}}_getRotation(){return ci(this.options.rotation-90)}_getCircumference(){return ci(this.options.circumference)}_getRotationExtents(){let e=Qs,r=-Qs;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const a=this.chart.getDatasetMeta(n).controller,i=a._getRotation(),o=a._getCircumference();e=Math.min(e,i),r=Math.max(r,i+o)}return{rotation:e,circumference:r-e}}update(e){const r=this.chart,{chartArea:n}=r,a=this._cachedMeta,i=a.data,o=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,c=Math.max((Math.min(n.width,n.height)-o)/2,0),d=Math.min(bhe(this.options.cutout,c),1),h=this._getRingWeight(this.index),{circumference:m,rotation:f}=this._getRotationExtents(),{ratioX:g,ratioY:y,offsetX:v,offsetY:w}=cme(f,m,d),j=(n.width-o)/g,b=(n.height-o)/y,N=Math.max(Math.min(j,b)/2,0),k=JF(this.options.radius,N),S=Math.max(k*d,0),C=(k-S)/this._getVisibleDatasetWeightTotal();this.offsetX=v*k,this.offsetY=w*k,a.total=this.calculateTotal(),this.outerRadius=k-C*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-C*h,0),this.updateElements(i,0,i.length,e)}_circumference(e,r){const n=this.options,a=this._cachedMeta,i=this._getCircumference();return r&&n.animation.animateRotate||!this.chart.getDataVisibility(e)||a._parsed[e]===null||a.data[e].hidden?0:this.calculateCircumference(a._parsed[e]*i/Qs)}updateElements(e,r,n,a){const i=a==="reset",o=this.chart,c=o.chartArea,h=o.options.animation,m=(c.left+c.right)/2,f=(c.top+c.bottom)/2,g=i&&h.animateScale,y=g?0:this.innerRadius,v=g?0:this.outerRadius,{sharedOptions:w,includeOptions:j}=this._getSharedOptions(r,a);let b=this._getRotation(),N;for(N=0;N<r;++N)b+=this._circumference(N,i);for(N=r;N<r+n;++N){const k=this._circumference(N,i),S=e[N],C={x:m+this.offsetX,y:f+this.offsetY,startAngle:b,endAngle:b+k,circumference:k,outerRadius:v,innerRadius:y};j&&(C.options=w||this.resolveDataElementOptions(N,S.active?"active":a)),b+=k,this.updateElement(S,N,C,a)}}calculateTotal(){const e=this._cachedMeta,r=e.data;let n=0,a;for(a=0;a<r.length;a++){const i=e._parsed[a];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(a)&&!r[a].hidden&&(n+=Math.abs(i))}return n}calculateCircumference(e){const r=this._cachedMeta.total;return r>0&&!isNaN(e)?Qs*(Math.abs(e)/r):0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,a=n.data.labels||[],i=tp(r._parsed[e],n.options.locale);return{label:a[e]||"",value:i}}getMaxBorderWidth(e){let r=0;const n=this.chart;let a,i,o,c,d;if(!e){for(a=0,i=n.data.datasets.length;a<i;++a)if(n.isDatasetVisible(a)){o=n.getDatasetMeta(a),e=o.data,c=o.controller;break}}if(!e)return 0;for(a=0,i=e.length;a<i;++a)d=c.resolveDataElementOptions(a),d.borderAlign!=="inner"&&(r=Math.max(r,d.borderWidth||0,d.hoverBorderWidth||0));return r}getMaxOffset(e){let r=0;for(let n=0,a=e.length;n<a;++n){const i=this.resolveDataElementOptions(n);r=Math.max(r,i.offset||0,i.hoverOffset||0)}return r}_getRingWeightOffset(e){let r=0;for(let n=0;n<e;++n)this.chart.isDatasetVisible(n)&&(r+=this._getRingWeight(n));return r}_getRingWeight(e){return Math.max(Yt(this.chart.data.datasets[e].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class dme extends hc{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(e){const r=this._cachedMeta,{dataset:n,data:a=[],_dataset:i}=r,o=this.chart._animationsDisabled;let{start:c,count:d}=oB(r,a,o);this._drawStart=c,this._drawCount=d,lB(r)&&(c=0,d=a.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=a;const h=this.resolveDatasetElementOptions(e);this.options.showLine||(h.borderWidth=0),h.segment=this.options.segment,this.updateElement(n,void 0,{animated:!o,options:h},e),this.updateElements(a,c,d,e)}updateElements(e,r,n,a){const i=a==="reset",{iScale:o,vScale:c,_stacked:d,_dataset:h}=this._cachedMeta,{sharedOptions:m,includeOptions:f}=this._getSharedOptions(r,a),g=o.axis,y=c.axis,{spanGaps:v,segment:w}=this.options,j=rh(v)?v:Number.POSITIVE_INFINITY,b=this.chart._animationsDisabled||i||a==="none",N=r+n,k=e.length;let S=r>0&&this.getParsed(r-1);for(let C=0;C<k;++C){const B=e[C],E=b?B:{};if(C<r||C>=N){E.skip=!0;continue}const z=this.getParsed(C),T=ns(z[y]),W=E[g]=o.getPixelForValue(z[g],C),U=E[y]=i||T?c.getBasePixel():c.getPixelForValue(d?this.applyStack(c,z,d):z[y],C);E.skip=isNaN(W)||isNaN(U)||T,E.stop=C>0&&Math.abs(z[g]-S[g])>j,w&&(E.parsed=z,E.raw=h.data[C]),f&&(E.options=m||this.resolveDataElementOptions(C,B.active?"active":a)),b||this.updateElement(B,C,E,a),S=z}}getMaxOverflow(){const e=this._cachedMeta,r=e.dataset,n=r.options&&r.options.borderWidth||0,a=e.data||[];if(!a.length)return n;const i=a[0].size(this.resolveDataElementOptions(0)),o=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(n,i,o)/2}draw(){const e=this._cachedMeta;e.dataset.updateControlPoints(this.chart.chartArea,e.iScale.axis),super.draw()}}class kB extends hc{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(e){const r=e.data;if(r.labels.length&&r.datasets.length){const{labels:{pointStyle:n,color:a}}=e.legend.options;return r.labels.map((i,o)=>{const d=e.getDatasetMeta(0).controller.getStyle(o);return{text:i,fillStyle:d.backgroundColor,strokeStyle:d.borderColor,fontColor:a,lineWidth:d.borderWidth,pointStyle:n,hidden:!e.getDataVisibility(o),index:o}})}return[]}},onClick(e,r,n){n.chart.toggleDataVisibility(r.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(e,r){super(e,r),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(e){const r=this._cachedMeta,n=this.chart,a=n.data.labels||[],i=tp(r._parsed[e].r,n.options.locale);return{label:a[e]||"",value:i}}parseObjectData(e,r,n,a){return gB.bind(this)(e,r,n,a)}update(e){const r=this._cachedMeta.data;this._updateRadius(),this.updateElements(r,0,r.length,e)}getMinMax(){const e=this._cachedMeta,r={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return e.data.forEach((n,a)=>{const i=this.getParsed(a).r;!isNaN(i)&&this.chart.getDataVisibility(a)&&(i<r.min&&(r.min=i),i>r.max&&(r.max=i))}),r}_updateRadius(){const e=this.chart,r=e.chartArea,n=e.options,a=Math.min(r.right-r.left,r.bottom-r.top),i=Math.max(a/2,0),o=Math.max(n.cutoutPercentage?i/100*n.cutoutPercentage:1,0),c=(i-o)/e.getVisibleDatasetCount();this.outerRadius=i-c*this.index,this.innerRadius=this.outerRadius-c}updateElements(e,r,n,a){const i=a==="reset",o=this.chart,d=o.options.animation,h=this._cachedMeta.rScale,m=h.xCenter,f=h.yCenter,g=h.getIndexAngle(0)-.5*Ns;let y=g,v;const w=360/this.countVisibleElements();for(v=0;v<r;++v)y+=this._computeAngle(v,a,w);for(v=r;v<r+n;v++){const j=e[v];let b=y,N=y+this._computeAngle(v,a,w),k=o.getDataVisibility(v)?h.getDistanceFromCenterForValue(this.getParsed(v).r):0;y=N,i&&(d.animateScale&&(k=0),d.animateRotate&&(b=N=g));const S={x:m,y:f,innerRadius:0,outerRadius:k,startAngle:b,endAngle:N,options:this.resolveDataElementOptions(v,j.active?"active":a)};this.updateElement(j,v,S,a)}}countVisibleElements(){const e=this._cachedMeta;let r=0;return e.data.forEach((n,a)=>{!isNaN(this.getParsed(a).r)&&this.chart.getDataVisibility(a)&&r++}),r}_computeAngle(e,r,n){return this.chart.getDataVisibility(e)?ci(this.resolveDataElementOptions(e,r).angle||n):0}}class ume extends yS{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class hme extends hc{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(e){const r=this._cachedMeta.vScale,n=this.getParsed(e);return{label:r.getLabels()[e],value:""+r.getLabelForValue(n[r.axis])}}parseObjectData(e,r,n,a){return gB.bind(this)(e,r,n,a)}update(e){const r=this._cachedMeta,n=r.dataset,a=r.data||[],i=r.iScale.getLabels();if(n.points=a,e!=="resize"){const o=this.resolveDatasetElementOptions(e);this.options.showLine||(o.borderWidth=0);const c={_loop:!0,_fullLoop:i.length===a.length,options:o};this.updateElement(n,void 0,c,e)}this.updateElements(a,0,a.length,e)}updateElements(e,r,n,a){const i=this._cachedMeta.rScale,o=a==="reset";for(let c=r;c<r+n;c++){const d=e[c],h=this.resolveDataElementOptions(c,d.active?"active":a),m=i.getPointPositionForValue(c,this.getParsed(c).r),f=o?i.xCenter:m.x,g=o?i.yCenter:m.y,y={x:f,y:g,angle:m.angle,skip:isNaN(f)||isNaN(g),options:h};this.updateElement(d,c,y,a)}}}class fme extends hc{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(e){const r=this._cachedMeta,n=this.chart.data.labels||[],{xScale:a,yScale:i}=r,o=this.getParsed(e),c=a.getLabelForValue(o.x),d=i.getLabelForValue(o.y);return{label:n[e]||"",value:"("+c+", "+d+")"}}update(e){const r=this._cachedMeta,{data:n=[]}=r,a=this.chart._animationsDisabled;let{start:i,count:o}=oB(r,n,a);if(this._drawStart=i,this._drawCount=o,lB(r)&&(i=0,o=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:c,_dataset:d}=r;c._chart=this.chart,c._datasetIndex=this.index,c._decimated=!!d._decimated,c.points=n;const h=this.resolveDatasetElementOptions(e);h.segment=this.options.segment,this.updateElement(c,void 0,{animated:!a,options:h},e)}else this.datasetElementType&&(delete r.dataset,this.datasetElementType=!1);this.updateElements(n,i,o,e)}addElements(){const{showLine:e}=this.options;!this.datasetElementType&&e&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(e,r,n,a){const i=a==="reset",{iScale:o,vScale:c,_stacked:d,_dataset:h}=this._cachedMeta,m=this.resolveDataElementOptions(r,a),f=this.getSharedOptions(m),g=this.includeOptions(a,f),y=o.axis,v=c.axis,{spanGaps:w,segment:j}=this.options,b=rh(w)?w:Number.POSITIVE_INFINITY,N=this.chart._animationsDisabled||i||a==="none";let k=r>0&&this.getParsed(r-1);for(let S=r;S<r+n;++S){const C=e[S],B=this.getParsed(S),E=N?C:{},z=ns(B[v]),T=E[y]=o.getPixelForValue(B[y],S),W=E[v]=i||z?c.getBasePixel():c.getPixelForValue(d?this.applyStack(c,B,d):B[v],S);E.skip=isNaN(T)||isNaN(W)||z,E.stop=S>0&&Math.abs(B[y]-k[y])>b,j&&(E.parsed=B,E.raw=h.data[S]),g&&(E.options=f||this.resolveDataElementOptions(S,C.active?"active":a)),N||this.updateElement(C,S,E,a),k=B}this.updateSharedOptions(f,a,m)}getMaxOverflow(){const e=this._cachedMeta,r=e.data||[];if(!this.options.showLine){let c=0;for(let d=r.length-1;d>=0;--d)c=Math.max(c,r[d].size(this.resolveDataElementOptions(d))/2);return c>0&&c}const n=e.dataset,a=n.options&&n.options.borderWidth||0;if(!r.length)return a;const i=r[0].size(this.resolveDataElementOptions(0)),o=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(a,i,o)/2}}var mme=Object.freeze({__proto__:null,BarController:ome,BubbleController:lme,DoughnutController:yS,LineController:dme,PieController:ume,PolarAreaController:kB,RadarController:hme,ScatterController:fme});function Yc(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class bS{static override(e){Object.assign(bS.prototype,e)}options;constructor(e){this.options=e||{}}init(){}formats(){return Yc()}parse(){return Yc()}format(){return Yc()}add(){return Yc()}diff(){return Yc()}startOf(){return Yc()}endOf(){return Yc()}}var pme={_date:bS};function gme(t,e,r,n){const{controller:a,data:i,_sorted:o}=t,c=a._cachedMeta.iScale,d=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(c&&e===c.axis&&e!=="r"&&o&&i.length){const h=c._reversePixels?Dhe:Oo;if(n){if(a._sharedOptions){const m=i[0],f=typeof m.getRange=="function"&&m.getRange(e);if(f){const g=h(i,e,r-f),y=h(i,e,r+f);return{lo:g.lo,hi:y.hi}}}}else{const m=h(i,e,r);if(d){const{vScale:f}=a._cachedMeta,{_parsed:g}=t,y=g.slice(0,m.lo+1).reverse().findIndex(w=>!ns(w[f.axis]));m.lo-=Math.max(0,y);const v=g.slice(m.hi).findIndex(w=>!ns(w[f.axis]));m.hi+=Math.max(0,v)}return m}}return{lo:0,hi:i.length-1}}function jy(t,e,r,n,a){const i=t.getSortedVisibleDatasetMetas(),o=r[e];for(let c=0,d=i.length;c<d;++c){const{index:h,data:m}=i[c],{lo:f,hi:g}=gme(i[c],e,o,a);for(let y=f;y<=g;++y){const v=m[y];v.skip||n(v,h,y)}}}function xme(t){const e=t.indexOf("x")!==-1,r=t.indexOf("y")!==-1;return function(n,a){const i=e?Math.abs(n.x-a.x):0,o=r?Math.abs(n.y-a.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(o,2))}}function A1(t,e,r,n,a){const i=[];return!a&&!t.isPointInArea(e)||jy(t,r,e,function(c,d,h){!a&&!Lo(c,t.chartArea,0)||c.inRange(e.x,e.y,n)&&i.push({element:c,datasetIndex:d,index:h})},!0),i}function yme(t,e,r,n){let a=[];function i(o,c,d){const{startAngle:h,endAngle:m}=o.getProps(["startAngle","endAngle"],n),{angle:f}=sB(o,{x:e.x,y:e.y});Nm(f,h,m)&&a.push({element:o,datasetIndex:c,index:d})}return jy(t,r,e,i),a}function bme(t,e,r,n,a,i){let o=[];const c=xme(r);let d=Number.POSITIVE_INFINITY;function h(m,f,g){const y=m.inRange(e.x,e.y,a);if(n&&!y)return;const v=m.getCenterPoint(a);if(!(!!i||t.isPointInArea(v))&&!y)return;const j=c(e,v);j<d?(o=[{element:m,datasetIndex:f,index:g}],d=j):j===d&&o.push({element:m,datasetIndex:f,index:g})}return jy(t,r,e,h),o}function E1(t,e,r,n,a,i){return!i&&!t.isPointInArea(e)?[]:r==="r"&&!n?yme(t,e,r,a):bme(t,e,r,n,a,i)}function KD(t,e,r,n,a){const i=[],o=r==="x"?"inXRange":"inYRange";let c=!1;return jy(t,r,e,(d,h,m)=>{d[o]&&d[o](e[r],a)&&(i.push({element:d,datasetIndex:h,index:m}),c=c||d.inRange(e.x,e.y,a))}),n&&!c?[]:i}var vme={modes:{index(t,e,r,n){const a=sd(e,t),i=r.axis||"x",o=r.includeInvisible||!1,c=r.intersect?A1(t,a,i,n,o):E1(t,a,i,!1,n,o),d=[];return c.length?(t.getSortedVisibleDatasetMetas().forEach(h=>{const m=c[0].index,f=h.data[m];f&&!f.skip&&d.push({element:f,datasetIndex:h.index,index:m})}),d):[]},dataset(t,e,r,n){const a=sd(e,t),i=r.axis||"xy",o=r.includeInvisible||!1;let c=r.intersect?A1(t,a,i,n,o):E1(t,a,i,!1,n,o);if(c.length>0){const d=c[0].datasetIndex,h=t.getDatasetMeta(d).data;c=[];for(let m=0;m<h.length;++m)c.push({element:h[m],datasetIndex:d,index:m})}return c},point(t,e,r,n){const a=sd(e,t),i=r.axis||"xy",o=r.includeInvisible||!1;return A1(t,a,i,n,o)},nearest(t,e,r,n){const a=sd(e,t),i=r.axis||"xy",o=r.includeInvisible||!1;return E1(t,a,i,r.intersect,n,o)},x(t,e,r,n){const a=sd(e,t);return KD(t,a,"x",r.intersect,n)},y(t,e,r,n){const a=sd(e,t);return KD(t,a,"y",r.intersect,n)}}};const AB=["left","top","right","bottom"];function Lf(t,e){return t.filter(r=>r.pos===e)}function XD(t,e){return t.filter(r=>AB.indexOf(r.pos)===-1&&r.box.axis===e)}function Ff(t,e){return t.sort((r,n)=>{const a=e?n:r,i=e?r:n;return a.weight===i.weight?a.index-i.index:a.weight-i.weight})}function wme(t){const e=[];let r,n,a,i,o,c;for(r=0,n=(t||[]).length;r<n;++r)a=t[r],{position:i,options:{stack:o,stackWeight:c=1}}=a,e.push({index:r,box:a,pos:i,horizontal:a.isHorizontal(),weight:a.weight,stack:o&&i+o,stackWeight:c});return e}function jme(t){const e={};for(const r of t){const{stack:n,pos:a,stackWeight:i}=r;if(!n||!AB.includes(a))continue;const o=e[n]||(e[n]={count:0,placed:0,weight:0,size:0});o.count++,o.weight+=i}return e}function _me(t,e){const r=jme(t),{vBoxMaxWidth:n,hBoxMaxHeight:a}=e;let i,o,c;for(i=0,o=t.length;i<o;++i){c=t[i];const{fullSize:d}=c.box,h=r[c.stack],m=h&&c.stackWeight/h.weight;c.horizontal?(c.width=m?m*n:d&&e.availableWidth,c.height=a):(c.width=n,c.height=m?m*a:d&&e.availableHeight)}return r}function Nme(t){const e=wme(t),r=Ff(e.filter(h=>h.box.fullSize),!0),n=Ff(Lf(e,"left"),!0),a=Ff(Lf(e,"right")),i=Ff(Lf(e,"top"),!0),o=Ff(Lf(e,"bottom")),c=XD(e,"x"),d=XD(e,"y");return{fullSize:r,leftAndTop:n.concat(i),rightAndBottom:a.concat(d).concat(o).concat(c),chartArea:Lf(e,"chartArea"),vertical:n.concat(a).concat(d),horizontal:i.concat(o).concat(c)}}function ZD(t,e,r,n){return Math.max(t[r],e[r])+Math.max(t[n],e[n])}function EB(t,e){t.top=Math.max(t.top,e.top),t.left=Math.max(t.left,e.left),t.bottom=Math.max(t.bottom,e.bottom),t.right=Math.max(t.right,e.right)}function Sme(t,e,r,n){const{pos:a,box:i}=r,o=t.maxPadding;if(!cs(a)){r.size&&(t[a]-=r.size);const f=n[r.stack]||{size:0,count:1};f.size=Math.max(f.size,r.horizontal?i.height:i.width),r.size=f.size/f.count,t[a]+=r.size}i.getPadding&&EB(o,i.getPadding());const c=Math.max(0,e.outerWidth-ZD(o,t,"left","right")),d=Math.max(0,e.outerHeight-ZD(o,t,"top","bottom")),h=c!==t.w,m=d!==t.h;return t.w=c,t.h=d,r.horizontal?{same:h,other:m}:{same:m,other:h}}function Cme(t){const e=t.maxPadding;function r(n){const a=Math.max(e[n]-t[n],0);return t[n]+=a,a}t.y+=r("top"),t.x+=r("left"),r("right"),r("bottom")}function kme(t,e){const r=e.maxPadding;function n(a){const i={left:0,top:0,right:0,bottom:0};return a.forEach(o=>{i[o]=Math.max(e[o],r[o])}),i}return n(t?["left","right"]:["top","bottom"])}function Yf(t,e,r,n){const a=[];let i,o,c,d,h,m;for(i=0,o=t.length,h=0;i<o;++i){c=t[i],d=c.box,d.update(c.width||e.w,c.height||e.h,kme(c.horizontal,e));const{same:f,other:g}=Sme(e,r,c,n);h|=f&&a.length,m=m||g,d.fullSize||a.push(c)}return h&&Yf(a,e,r,n)||m}function nx(t,e,r,n,a){t.top=r,t.left=e,t.right=e+n,t.bottom=r+a,t.width=n,t.height=a}function QD(t,e,r,n){const a=r.padding;let{x:i,y:o}=e;for(const c of t){const d=c.box,h=n[c.stack]||{placed:0,weight:1},m=c.stackWeight/h.weight||1;if(c.horizontal){const f=e.w*m,g=h.size||d.height;_m(h.start)&&(o=h.start),d.fullSize?nx(d,a.left,o,r.outerWidth-a.right-a.left,g):nx(d,e.left+h.placed,o,f,g),h.start=o,h.placed+=f,o=d.bottom}else{const f=e.h*m,g=h.size||d.width;_m(h.start)&&(i=h.start),d.fullSize?nx(d,i,a.top,g,r.outerHeight-a.bottom-a.top):nx(d,i,e.top+h.placed,g,f),h.start=i,h.placed+=f,i=d.right}}e.x=i,e.y=o}var xn={addBox(t,e){t.boxes||(t.boxes=[]),e.fullSize=e.fullSize||!1,e.position=e.position||"top",e.weight=e.weight||0,e._layers=e._layers||function(){return[{z:0,draw(r){e.draw(r)}}]},t.boxes.push(e)},removeBox(t,e){const r=t.boxes?t.boxes.indexOf(e):-1;r!==-1&&t.boxes.splice(r,1)},configure(t,e,r){e.fullSize=r.fullSize,e.position=r.position,e.weight=r.weight},update(t,e,r,n){if(!t)return;const a=vn(t.options.layout.padding),i=Math.max(e-a.width,0),o=Math.max(r-a.height,0),c=Nme(t.boxes),d=c.vertical,h=c.horizontal;Ms(t.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const m=d.reduce((w,j)=>j.box.options&&j.box.options.display===!1?w:w+1,0)||1,f=Object.freeze({outerWidth:e,outerHeight:r,padding:a,availableWidth:i,availableHeight:o,vBoxMaxWidth:i/2/m,hBoxMaxHeight:o/2}),g=Object.assign({},a);EB(g,vn(n));const y=Object.assign({maxPadding:g,w:i,h:o,x:a.left,y:a.top},a),v=_me(d.concat(h),f);Yf(c.fullSize,y,f,v),Yf(d,y,f,v),Yf(h,y,f,v)&&Yf(d,y,f,v),Cme(y),QD(c.leftAndTop,y,f,v),y.x+=y.w,y.y+=y.h,QD(c.rightAndBottom,y,f,v),t.chartArea={left:y.left,top:y.top,right:y.left+y.w,bottom:y.top+y.h,height:y.h,width:y.w},Ms(c.chartArea,w=>{const j=w.box;Object.assign(j,t.chartArea),j.update(y.w,y.h,{left:0,top:0,right:0,bottom:0})})}};class TB{acquireContext(e,r){}releaseContext(e){return!1}addEventListener(e,r,n){}removeEventListener(e,r,n){}getDevicePixelRatio(){return 1}getMaximumSize(e,r,n,a){return r=Math.max(0,r||e.width),n=n||e.height,{width:r,height:Math.max(0,a?Math.floor(r/a):n)}}isAttached(e){return!0}updateConfig(e){}}class Ame extends TB{acquireContext(e){return e&&e.getContext&&e.getContext("2d")||null}updateConfig(e){e.options.animation=!1}}const Tx="$chartjs",Eme={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},JD=t=>t===null||t==="";function Tme(t,e){const r=t.style,n=t.getAttribute("height"),a=t.getAttribute("width");if(t[Tx]={initial:{height:n,width:a,style:{display:r.display,height:r.height,width:r.width}}},r.display=r.display||"block",r.boxSizing=r.boxSizing||"border-box",JD(a)){const i=LD(t,"width");i!==void 0&&(t.width=i)}if(JD(n))if(t.style.height==="")t.height=t.width/(e||2);else{const i=LD(t,"height");i!==void 0&&(t.height=i)}return t}const RB=Sfe?{passive:!0}:!1;function Rme(t,e,r){t&&t.addEventListener(e,r,RB)}function Dme(t,e,r){t&&t.canvas&&t.canvas.removeEventListener(e,r,RB)}function Mme(t,e){const r=Eme[t.type]||t.type,{x:n,y:a}=sd(t,e);return{type:r,chart:e,native:t,x:n!==void 0?n:null,y:a!==void 0?a:null}}function b0(t,e){for(const r of t)if(r===e||r.contains(e))return!0}function Pme(t,e,r){const n=t.canvas,a=new MutationObserver(i=>{let o=!1;for(const c of i)o=o||b0(c.addedNodes,n),o=o&&!b0(c.removedNodes,n);o&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}function Ome(t,e,r){const n=t.canvas,a=new MutationObserver(i=>{let o=!1;for(const c of i)o=o||b0(c.removedNodes,n),o=o&&!b0(c.addedNodes,n);o&&r()});return a.observe(document,{childList:!0,subtree:!0}),a}const Cm=new Map;let e3=0;function DB(){const t=window.devicePixelRatio;t!==e3&&(e3=t,Cm.forEach((e,r)=>{r.currentDevicePixelRatio!==t&&e()}))}function Lme(t,e){Cm.size||window.addEventListener("resize",DB),Cm.set(t,e)}function Fme(t){Cm.delete(t),Cm.size||window.removeEventListener("resize",DB)}function Bme(t,e,r){const n=t.canvas,a=n&&xS(n);if(!a)return;const i=iB((c,d)=>{const h=a.clientWidth;r(c,d),h<a.clientWidth&&r()},window),o=new ResizeObserver(c=>{const d=c[0],h=d.contentRect.width,m=d.contentRect.height;h===0&&m===0||i(h,m)});return o.observe(a),Lme(t,i),o}function T1(t,e,r){r&&r.disconnect(),e==="resize"&&Fme(t)}function Ime(t,e,r){const n=t.canvas,a=iB(i=>{t.ctx!==null&&r(Mme(i,t))},t);return Rme(n,e,a),a}class zme extends TB{acquireContext(e,r){const n=e&&e.getContext&&e.getContext("2d");return n&&n.canvas===e?(Tme(e,r),n):null}releaseContext(e){const r=e.canvas;if(!r[Tx])return!1;const n=r[Tx].initial;["height","width"].forEach(i=>{const o=n[i];ns(o)?r.removeAttribute(i):r.setAttribute(i,o)});const a=n.style||{};return Object.keys(a).forEach(i=>{r.style[i]=a[i]}),r.width=r.width,delete r[Tx],!0}addEventListener(e,r,n){this.removeEventListener(e,r);const a=e.$proxies||(e.$proxies={}),o={attach:Pme,detach:Ome,resize:Bme}[r]||Ime;a[r]=o(e,r,n)}removeEventListener(e,r){const n=e.$proxies||(e.$proxies={}),a=n[r];if(!a)return;({attach:T1,detach:T1,resize:T1}[r]||Dme)(e,r,a),n[r]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(e,r,n,a){return Nfe(e,r,n,a)}isAttached(e){const r=e&&xS(e);return!!(r&&r.isConnected)}}function Ume(t){return!gS()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?Ame:zme}let Xo=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(e){const{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}hasValue(){return rh(this.x)&&rh(this.y)}getProps(e,r){const n=this.$animations;if(!r||!n)return this;const a={};return e.forEach(i=>{a[i]=n[i]&&n[i].active()?n[i]._to:this[i]}),a}};function $me(t,e){const r=t.options.ticks,n=Vme(t),a=Math.min(r.maxTicksLimit||n,n),i=r.major.enabled?qme(e):[],o=i.length,c=i[0],d=i[o-1],h=[];if(o>a)return Wme(e,h,i,o/a),h;const m=Hme(i,e,a);if(o>0){let f,g;const y=o>1?Math.round((d-c)/(o-1)):null;for(ax(e,h,m,ns(y)?0:c-y,c),f=0,g=o-1;f<g;f++)ax(e,h,m,i[f],i[f+1]);return ax(e,h,m,d,ns(y)?e.length:d+y),h}return ax(e,h,m),h}function Vme(t){const e=t.options.offset,r=t._tickSize(),n=t._length/r+(e?0:1),a=t._maxLength/r;return Math.floor(Math.min(n,a))}function Hme(t,e,r){const n=Gme(t),a=e.length/r;if(!n)return Math.max(a,1);const i=khe(n);for(let o=0,c=i.length-1;o<c;o++){const d=i[o];if(d>a)return d}return Math.max(a,1)}function qme(t){const e=[];let r,n;for(r=0,n=t.length;r<n;r++)t[r].major&&e.push(r);return e}function Wme(t,e,r,n){let a=0,i=r[0],o;for(n=Math.ceil(n),o=0;o<t.length;o++)o===i&&(e.push(t[o]),a++,i=r[a*n])}function ax(t,e,r,n,a){const i=Yt(n,0),o=Math.min(Yt(a,t.length),t.length);let c=0,d,h,m;for(r=Math.ceil(r),a&&(d=a-n,r=d/Math.floor(d/r)),m=i;m<0;)c++,m=Math.round(i+c*r);for(h=Math.max(i,0);h<o;h++)h===m&&(e.push(t[h]),c++,m=Math.round(i+c*r))}function Gme(t){const e=t.length;let r,n;if(e<2)return!1;for(n=t[0],r=1;r<e;++r)if(t[r]-t[r-1]!==n)return!1;return n}const Yme=t=>t==="left"?"right":t==="right"?"left":t,t3=(t,e,r)=>e==="top"||e==="left"?t[e]+r:t[e]-r,s3=(t,e)=>Math.min(e||t,t);function r3(t,e){const r=[],n=t.length/e,a=t.length;let i=0;for(;i<a;i+=n)r.push(t[Math.floor(i)]);return r}function Kme(t,e,r){const n=t.ticks.length,a=Math.min(e,n-1),i=t._startPixel,o=t._endPixel,c=1e-6;let d=t.getPixelForTick(a),h;if(!(r&&(n===1?h=Math.max(d-i,o-d):e===0?h=(t.getPixelForTick(1)-d)/2:h=(d-t.getPixelForTick(a-1))/2,d+=a<e?h:-h,d<i-c||d>o+c)))return d}function Xme(t,e){Ms(t,r=>{const n=r.gc,a=n.length/2;let i;if(a>e){for(i=0;i<a;++i)delete r.data[n[i]];n.splice(0,a)}})}function Bf(t){return t.drawTicks?t.tickLength:0}function n3(t,e){if(!t.display)return 0;const r=Yr(t.font,e),n=vn(t.padding);return(rr(t.text)?t.text.length:1)*r.lineHeight+n.height}function Zme(t,e){return uc(t,{scale:e,type:"scale"})}function Qme(t,e,r){return uc(t,{tick:r,index:e,type:"tick"})}function Jme(t,e,r){let n=dS(t);return(r&&e!=="right"||!r&&e==="right")&&(n=Yme(n)),n}function epe(t,e,r,n){const{top:a,left:i,bottom:o,right:c,chart:d}=t,{chartArea:h,scales:m}=d;let f=0,g,y,v;const w=o-a,j=c-i;if(t.isHorizontal()){if(y=hn(n,i,c),cs(r)){const b=Object.keys(r)[0],N=r[b];v=m[b].getPixelForValue(N)+w-e}else r==="center"?v=(h.bottom+h.top)/2+w-e:v=t3(t,r,e);g=c-i}else{if(cs(r)){const b=Object.keys(r)[0],N=r[b];y=m[b].getPixelForValue(N)-j+e}else r==="center"?y=(h.left+h.right)/2-j+e:y=t3(t,r,e);v=hn(n,o,a),f=r==="left"?-Sr:Sr}return{titleX:y,titleY:v,maxWidth:g,rotation:f}}class Rd extends Xo{constructor(e){super(),this.id=e.id,this.type=e.type,this.options=void 0,this.ctx=e.ctx,this.chart=e.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(e){this.options=e.setContext(this.getContext()),this.axis=e.axis,this._userMin=this.parse(e.min),this._userMax=this.parse(e.max),this._suggestedMin=this.parse(e.suggestedMin),this._suggestedMax=this.parse(e.suggestedMax)}parse(e,r){return e}getUserBounds(){let{_userMin:e,_userMax:r,_suggestedMin:n,_suggestedMax:a}=this;return e=fa(e,Number.POSITIVE_INFINITY),r=fa(r,Number.NEGATIVE_INFINITY),n=fa(n,Number.POSITIVE_INFINITY),a=fa(a,Number.NEGATIVE_INFINITY),{min:fa(e,n),max:fa(r,a),minDefined:br(e),maxDefined:br(r)}}getMinMax(e){let{min:r,max:n,minDefined:a,maxDefined:i}=this.getUserBounds(),o;if(a&&i)return{min:r,max:n};const c=this.getMatchingVisibleMetas();for(let d=0,h=c.length;d<h;++d)o=c[d].controller.getMinMax(this,e),a||(r=Math.min(r,o.min)),i||(n=Math.max(n,o.max));return r=i&&r>n?n:r,n=a&&r>n?r:n,{min:fa(r,fa(n,r)),max:fa(n,fa(r,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const e=this.chart.data;return this.options.labels||(this.isHorizontal()?e.xLabels:e.yLabels)||e.labels||[]}getLabelItems(e=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(e))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ys(this.options.beforeUpdate,[this])}update(e,r,n){const{beginAtZero:a,grace:i,ticks:o}=this.options,c=o.sampleSize;this.beforeUpdate(),this.maxWidth=e,this.maxHeight=r,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=sfe(this,i,a),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const d=c<this.ticks.length;this._convertTicksToLabels(d?r3(this.ticks,c):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),o.display&&(o.autoSkip||o.source==="auto")&&(this.ticks=$me(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),d&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let e=this.options.reverse,r,n;this.isHorizontal()?(r=this.left,n=this.right):(r=this.top,n=this.bottom,e=!e),this._startPixel=r,this._endPixel=n,this._reversePixels=e,this._length=n-r,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ys(this.options.afterUpdate,[this])}beforeSetDimensions(){Ys(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ys(this.options.afterSetDimensions,[this])}_callHooks(e){this.chart.notifyPlugins(e,this.getContext()),Ys(this.options[e],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ys(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(e){const r=this.options.ticks;let n,a,i;for(n=0,a=e.length;n<a;n++)i=e[n],i.label=Ys(r.callback,[i.value,n,e],this)}afterTickToLabelConversion(){Ys(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ys(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const e=this.options,r=e.ticks,n=s3(this.ticks.length,e.ticks.maxTicksLimit),a=r.minRotation||0,i=r.maxRotation;let o=a,c,d,h;if(!this._isVisible()||!r.display||a>=i||n<=1||!this.isHorizontal()){this.labelRotation=a;return}const m=this._getLabelSizes(),f=m.widest.width,g=m.highest.height,y=tn(this.chart.width-f,0,this.maxWidth);c=e.offset?this.maxWidth/n:y/(n-1),f+6>c&&(c=y/(n-(e.offset?.5:1)),d=this.maxHeight-Bf(e.grid)-r.padding-n3(e.title,this.chart.options.font),h=Math.sqrt(f*f+g*g),o=lS(Math.min(Math.asin(tn((m.highest.height+6)/c,-1,1)),Math.asin(tn(d/h,-1,1))-Math.asin(tn(g/h,-1,1)))),o=Math.max(a,Math.min(i,o))),this.labelRotation=o}afterCalculateLabelRotation(){Ys(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ys(this.options.beforeFit,[this])}fit(){const e={width:0,height:0},{chart:r,options:{ticks:n,title:a,grid:i}}=this,o=this._isVisible(),c=this.isHorizontal();if(o){const d=n3(a,r.options.font);if(c?(e.width=this.maxWidth,e.height=Bf(i)+d):(e.height=this.maxHeight,e.width=Bf(i)+d),n.display&&this.ticks.length){const{first:h,last:m,widest:f,highest:g}=this._getLabelSizes(),y=n.padding*2,v=ci(this.labelRotation),w=Math.cos(v),j=Math.sin(v);if(c){const b=n.mirror?0:j*f.width+w*g.height;e.height=Math.min(this.maxHeight,e.height+b+y)}else{const b=n.mirror?0:w*f.width+j*g.height;e.width=Math.min(this.maxWidth,e.width+b+y)}this._calculatePadding(h,m,j,w)}}this._handleMargins(),c?(this.width=this._length=r.width-this._margins.left-this._margins.right,this.height=e.height):(this.width=e.width,this.height=this._length=r.height-this._margins.top-this._margins.bottom)}_calculatePadding(e,r,n,a){const{ticks:{align:i,padding:o},position:c}=this.options,d=this.labelRotation!==0,h=c!=="top"&&this.axis==="x";if(this.isHorizontal()){const m=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let g=0,y=0;d?h?(g=a*e.width,y=n*r.height):(g=n*e.height,y=a*r.width):i==="start"?y=r.width:i==="end"?g=e.width:i!=="inner"&&(g=e.width/2,y=r.width/2),this.paddingLeft=Math.max((g-m+o)*this.width/(this.width-m),0),this.paddingRight=Math.max((y-f+o)*this.width/(this.width-f),0)}else{let m=r.height/2,f=e.height/2;i==="start"?(m=0,f=e.height):i==="end"&&(m=r.height,f=0),this.paddingTop=m+o,this.paddingBottom=f+o}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ys(this.options.afterFit,[this])}isHorizontal(){const{axis:e,position:r}=this.options;return r==="top"||r==="bottom"||e==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(e){this.beforeTickToLabelConversion(),this.generateTickLabels(e);let r,n;for(r=0,n=e.length;r<n;r++)ns(e[r].label)&&(e.splice(r,1),n--,r--);this.afterTickToLabelConversion()}_getLabelSizes(){let e=this._labelSizes;if(!e){const r=this.options.ticks.sampleSize;let n=this.ticks;r<n.length&&(n=r3(n,r)),this._labelSizes=e=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return e}_computeLabelSizes(e,r,n){const{ctx:a,_longestTextCache:i}=this,o=[],c=[],d=Math.floor(r/s3(r,n));let h=0,m=0,f,g,y,v,w,j,b,N,k,S,C;for(f=0;f<r;f+=d){if(v=e[f].label,w=this._resolveTickFontOptions(f),a.font=j=w.string,b=i[j]=i[j]||{data:{},gc:[]},N=w.lineHeight,k=S=0,!ns(v)&&!rr(v))k=x0(a,b.data,b.gc,k,v),S=N;else if(rr(v))for(g=0,y=v.length;g<y;++g)C=v[g],!ns(C)&&!rr(C)&&(k=x0(a,b.data,b.gc,k,C),S+=N);o.push(k),c.push(S),h=Math.max(k,h),m=Math.max(S,m)}Xme(i,r);const B=o.indexOf(h),E=c.indexOf(m),z=T=>({width:o[T]||0,height:c[T]||0});return{first:z(0),last:z(r-1),widest:z(B),highest:z(E),widths:o,heights:c}}getLabelForValue(e){return e}getPixelForValue(e,r){return NaN}getValueForPixel(e){}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getPixelForDecimal(e){this._reversePixels&&(e=1-e);const r=this._startPixel+e*this._length;return Rhe(this._alignToPixels?Gc(this.chart,r,0):r)}getDecimalForPixel(e){const r=(e-this._startPixel)/this._length;return this._reversePixels?1-r:r}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:e,max:r}=this;return e<0&&r<0?r:e>0&&r>0?e:0}getContext(e){const r=this.ticks||[];if(e>=0&&e<r.length){const n=r[e];return n.$context||(n.$context=Qme(this.getContext(),e,n))}return this.$context||(this.$context=Zme(this.chart.getContext(),this))}_tickSize(){const e=this.options.ticks,r=ci(this.labelRotation),n=Math.abs(Math.cos(r)),a=Math.abs(Math.sin(r)),i=this._getLabelSizes(),o=e.autoSkipPadding||0,c=i?i.widest.width+o:0,d=i?i.highest.height+o:0;return this.isHorizontal()?d*n>c*a?c/n:d/a:d*a<c*n?d/n:c/a}_isVisible(){const e=this.options.display;return e!=="auto"?!!e:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(e){const r=this.axis,n=this.chart,a=this.options,{grid:i,position:o,border:c}=a,d=i.offset,h=this.isHorizontal(),f=this.ticks.length+(d?1:0),g=Bf(i),y=[],v=c.setContext(this.getContext()),w=v.display?v.width:0,j=w/2,b=function(K){return Gc(n,K,w)};let N,k,S,C,B,E,z,T,W,U,L,Z;if(o==="top")N=b(this.bottom),E=this.bottom-g,T=N-j,U=b(e.top)+j,Z=e.bottom;else if(o==="bottom")N=b(this.top),U=e.top,Z=b(e.bottom)-j,E=N+j,T=this.top+g;else if(o==="left")N=b(this.right),B=this.right-g,z=N-j,W=b(e.left)+j,L=e.right;else if(o==="right")N=b(this.left),W=e.left,L=b(e.right)-j,B=N+j,z=this.left+g;else if(r==="x"){if(o==="center")N=b((e.top+e.bottom)/2+.5);else if(cs(o)){const K=Object.keys(o)[0],M=o[K];N=b(this.chart.scales[K].getPixelForValue(M))}U=e.top,Z=e.bottom,E=N+j,T=E+g}else if(r==="y"){if(o==="center")N=b((e.left+e.right)/2);else if(cs(o)){const K=Object.keys(o)[0],M=o[K];N=b(this.chart.scales[K].getPixelForValue(M))}B=N-j,z=B-g,W=e.left,L=e.right}const O=Yt(a.ticks.maxTicksLimit,f),se=Math.max(1,Math.ceil(f/O));for(k=0;k<f;k+=se){const K=this.getContext(k),M=i.setContext(K),X=c.setContext(K),$=M.lineWidth,oe=M.color,q=X.dash||[],Y=X.dashOffset,ce=M.tickWidth,le=M.tickColor,be=M.tickBorderDash||[],ge=M.tickBorderDashOffset;S=Kme(this,k,d),S!==void 0&&(C=Gc(n,S,$),h?B=z=W=L=C:E=T=U=Z=C,y.push({tx1:B,ty1:E,tx2:z,ty2:T,x1:W,y1:U,x2:L,y2:Z,width:$,color:oe,borderDash:q,borderDashOffset:Y,tickWidth:ce,tickColor:le,tickBorderDash:be,tickBorderDashOffset:ge}))}return this._ticksLength=f,this._borderValue=N,y}_computeLabelItems(e){const r=this.axis,n=this.options,{position:a,ticks:i}=n,o=this.isHorizontal(),c=this.ticks,{align:d,crossAlign:h,padding:m,mirror:f}=i,g=Bf(n.grid),y=g+m,v=f?-m:y,w=-ci(this.labelRotation),j=[];let b,N,k,S,C,B,E,z,T,W,U,L,Z="middle";if(a==="top")B=this.bottom-v,E=this._getXAxisLabelAlignment();else if(a==="bottom")B=this.top+v,E=this._getXAxisLabelAlignment();else if(a==="left"){const se=this._getYAxisLabelAlignment(g);E=se.textAlign,C=se.x}else if(a==="right"){const se=this._getYAxisLabelAlignment(g);E=se.textAlign,C=se.x}else if(r==="x"){if(a==="center")B=(e.top+e.bottom)/2+y;else if(cs(a)){const se=Object.keys(a)[0],K=a[se];B=this.chart.scales[se].getPixelForValue(K)+y}E=this._getXAxisLabelAlignment()}else if(r==="y"){if(a==="center")C=(e.left+e.right)/2-y;else if(cs(a)){const se=Object.keys(a)[0],K=a[se];C=this.chart.scales[se].getPixelForValue(K)}E=this._getYAxisLabelAlignment(g).textAlign}r==="y"&&(d==="start"?Z="top":d==="end"&&(Z="bottom"));const O=this._getLabelSizes();for(b=0,N=c.length;b<N;++b){k=c[b],S=k.label;const se=i.setContext(this.getContext(b));z=this.getPixelForTick(b)+i.labelOffset,T=this._resolveTickFontOptions(b),W=T.lineHeight,U=rr(S)?S.length:1;const K=U/2,M=se.color,X=se.textStrokeColor,$=se.textStrokeWidth;let oe=E;o?(C=z,E==="inner"&&(b===N-1?oe=this.options.reverse?"left":"right":b===0?oe=this.options.reverse?"right":"left":oe="center"),a==="top"?h==="near"||w!==0?L=-U*W+W/2:h==="center"?L=-O.highest.height/2-K*W+W:L=-O.highest.height+W/2:h==="near"||w!==0?L=W/2:h==="center"?L=O.highest.height/2-K*W:L=O.highest.height-U*W,f&&(L*=-1),w!==0&&!se.showLabelBackdrop&&(C+=W/2*Math.sin(w))):(B=z,L=(1-U)*W/2);let q;if(se.showLabelBackdrop){const Y=vn(se.backdropPadding),ce=O.heights[b],le=O.widths[b];let be=L-Y.top,ge=0-Y.left;switch(Z){case"middle":be-=ce/2;break;case"bottom":be-=ce;break}switch(E){case"center":ge-=le/2;break;case"right":ge-=le;break;case"inner":b===N-1?ge-=le:b>0&&(ge-=le/2);break}q={left:ge,top:be,width:le+Y.width,height:ce+Y.height,color:se.backdropColor}}j.push({label:S,font:T,textOffset:L,options:{rotation:w,color:M,strokeColor:X,strokeWidth:$,textAlign:oe,textBaseline:Z,translation:[C,B],backdrop:q}})}return j}_getXAxisLabelAlignment(){const{position:e,ticks:r}=this.options;if(-ci(this.labelRotation))return e==="top"?"left":"right";let a="center";return r.align==="start"?a="left":r.align==="end"?a="right":r.align==="inner"&&(a="inner"),a}_getYAxisLabelAlignment(e){const{position:r,ticks:{crossAlign:n,mirror:a,padding:i}}=this.options,o=this._getLabelSizes(),c=e+i,d=o.widest.width;let h,m;return r==="left"?a?(m=this.right+i,n==="near"?h="left":n==="center"?(h="center",m+=d/2):(h="right",m+=d)):(m=this.right-c,n==="near"?h="right":n==="center"?(h="center",m-=d/2):(h="left",m=this.left)):r==="right"?a?(m=this.left+i,n==="near"?h="right":n==="center"?(h="center",m-=d/2):(h="left",m-=d)):(m=this.left+c,n==="near"?h="left":n==="center"?(h="center",m+=d/2):(h="right",m=this.right)):h="right",{textAlign:h,x:m}}_computeLabelArea(){if(this.options.ticks.mirror)return;const e=this.chart,r=this.options.position;if(r==="left"||r==="right")return{top:0,left:this.left,bottom:e.height,right:this.right};if(r==="top"||r==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:e.width}}drawBackground(){const{ctx:e,options:{backgroundColor:r},left:n,top:a,width:i,height:o}=this;r&&(e.save(),e.fillStyle=r,e.fillRect(n,a,i,o),e.restore())}getLineWidthForValue(e){const r=this.options.grid;if(!this._isVisible()||!r.display)return 0;const a=this.ticks.findIndex(i=>i.value===e);return a>=0?r.setContext(this.getContext(a)).lineWidth:0}drawGrid(e){const r=this.options.grid,n=this.ctx,a=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(e));let i,o;const c=(d,h,m)=>{!m.width||!m.color||(n.save(),n.lineWidth=m.width,n.strokeStyle=m.color,n.setLineDash(m.borderDash||[]),n.lineDashOffset=m.borderDashOffset,n.beginPath(),n.moveTo(d.x,d.y),n.lineTo(h.x,h.y),n.stroke(),n.restore())};if(r.display)for(i=0,o=a.length;i<o;++i){const d=a[i];r.drawOnChartArea&&c({x:d.x1,y:d.y1},{x:d.x2,y:d.y2},d),r.drawTicks&&c({x:d.tx1,y:d.ty1},{x:d.tx2,y:d.ty2},{color:d.tickColor,width:d.tickWidth,borderDash:d.tickBorderDash,borderDashOffset:d.tickBorderDashOffset})}}drawBorder(){const{chart:e,ctx:r,options:{border:n,grid:a}}=this,i=n.setContext(this.getContext()),o=n.display?i.width:0;if(!o)return;const c=a.setContext(this.getContext(0)).lineWidth,d=this._borderValue;let h,m,f,g;this.isHorizontal()?(h=Gc(e,this.left,o)-o/2,m=Gc(e,this.right,c)+c/2,f=g=d):(f=Gc(e,this.top,o)-o/2,g=Gc(e,this.bottom,c)+c/2,h=m=d),r.save(),r.lineWidth=i.width,r.strokeStyle=i.color,r.beginPath(),r.moveTo(h,f),r.lineTo(m,g),r.stroke(),r.restore()}drawLabels(e){if(!this.options.ticks.display)return;const n=this.ctx,a=this._computeLabelArea();a&&by(n,a);const i=this.getLabelItems(e);for(const o of i){const c=o.options,d=o.font,h=o.label,m=o.textOffset;Ad(n,h,0,m,d,c)}a&&vy(n)}drawTitle(){const{ctx:e,options:{position:r,title:n,reverse:a}}=this;if(!n.display)return;const i=Yr(n.font),o=vn(n.padding),c=n.align;let d=i.lineHeight/2;r==="bottom"||r==="center"||cs(r)?(d+=o.bottom,rr(n.text)&&(d+=i.lineHeight*(n.text.length-1))):d+=o.top;const{titleX:h,titleY:m,maxWidth:f,rotation:g}=epe(this,d,r,c);Ad(e,n.text,0,0,i,{color:n.color,maxWidth:f,rotation:g,textAlign:Jme(c,r,a),textBaseline:"middle",translation:[h,m]})}draw(e){this._isVisible()&&(this.drawBackground(),this.drawGrid(e),this.drawBorder(),this.drawTitle(),this.drawLabels(e))}_layers(){const e=this.options,r=e.ticks&&e.ticks.z||0,n=Yt(e.grid&&e.grid.z,-1),a=Yt(e.border&&e.border.z,0);return!this._isVisible()||this.draw!==Rd.prototype.draw?[{z:r,draw:i=>{this.draw(i)}}]:[{z:n,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:a,draw:()=>{this.drawBorder()}},{z:r,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(e){const r=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",a=[];let i,o;for(i=0,o=r.length;i<o;++i){const c=r[i];c[n]===this.id&&(!e||c.type===e)&&a.push(c)}return a}_resolveTickFontOptions(e){const r=this.options.ticks.setContext(this.getContext(e));return Yr(r.font)}_maxDigits(){const e=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/e}}class ix{constructor(e,r,n){this.type=e,this.scope=r,this.override=n,this.items=Object.create(null)}isForType(e){return Object.prototype.isPrototypeOf.call(this.type.prototype,e.prototype)}register(e){const r=Object.getPrototypeOf(e);let n;rpe(r)&&(n=this.register(r));const a=this.items,i=e.id,o=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+e);return i in a||(a[i]=e,tpe(e,o,n),this.override&&or.override(e.id,e.overrides)),o}get(e){return this.items[e]}unregister(e){const r=this.items,n=e.id,a=this.scope;n in r&&delete r[n],a&&n in or[a]&&(delete or[a][n],this.override&&delete kd[n])}}function tpe(t,e,r){const n=jm(Object.create(null),[r?or.get(r):{},or.get(e),t.defaults]);or.set(e,n),t.defaultRoutes&&spe(e,t.defaultRoutes),t.descriptors&&or.describe(e,t.descriptors)}function spe(t,e){Object.keys(e).forEach(r=>{const n=r.split("."),a=n.pop(),i=[t].concat(n).join("."),o=e[r].split("."),c=o.pop(),d=o.join(".");or.route(i,a,d,c)})}function rpe(t){return"id"in t&&"defaults"in t}class npe{constructor(){this.controllers=new ix(hc,"datasets",!0),this.elements=new ix(Xo,"elements"),this.plugins=new ix(Object,"plugins"),this.scales=new ix(Rd,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...e){this._each("register",e)}remove(...e){this._each("unregister",e)}addControllers(...e){this._each("register",e,this.controllers)}addElements(...e){this._each("register",e,this.elements)}addPlugins(...e){this._each("register",e,this.plugins)}addScales(...e){this._each("register",e,this.scales)}getController(e){return this._get(e,this.controllers,"controller")}getElement(e){return this._get(e,this.elements,"element")}getPlugin(e){return this._get(e,this.plugins,"plugin")}getScale(e){return this._get(e,this.scales,"scale")}removeControllers(...e){this._each("unregister",e,this.controllers)}removeElements(...e){this._each("unregister",e,this.elements)}removePlugins(...e){this._each("unregister",e,this.plugins)}removeScales(...e){this._each("unregister",e,this.scales)}_each(e,r,n){[...r].forEach(a=>{const i=n||this._getRegistryForType(a);n||i.isForType(a)||i===this.plugins&&a.id?this._exec(e,i,a):Ms(a,o=>{const c=n||this._getRegistryForType(o);this._exec(e,c,o)})})}_exec(e,r,n){const a=oS(e);Ys(n["before"+a],[],n),r[e](n),Ys(n["after"+a],[],n)}_getRegistryForType(e){for(let r=0;r<this._typedRegistries.length;r++){const n=this._typedRegistries[r];if(n.isForType(e))return n}return this.plugins}_get(e,r,n){const a=r.get(e);if(a===void 0)throw new Error('"'+e+'" is not a registered '+n+".");return a}}var Di=new npe;class ape{constructor(){this._init=void 0}notify(e,r,n,a){if(r==="beforeInit"&&(this._init=this._createDescriptors(e,!0),this._notify(this._init,e,"install")),this._init===void 0)return;const i=a?this._descriptors(e).filter(a):this._descriptors(e),o=this._notify(i,e,r,n);return r==="afterDestroy"&&(this._notify(i,e,"stop"),this._notify(this._init,e,"uninstall"),this._init=void 0),o}_notify(e,r,n,a){a=a||{};for(const i of e){const o=i.plugin,c=o[n],d=[r,a,i.options];if(Ys(c,d,o)===!1&&a.cancelable)return!1}return!0}invalidate(){ns(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(e){if(this._cache)return this._cache;const r=this._cache=this._createDescriptors(e);return this._notifyStateChanges(e),r}_createDescriptors(e,r){const n=e&&e.config,a=Yt(n.options&&n.options.plugins,{}),i=ipe(n);return a===!1&&!r?[]:lpe(e,i,a,r)}_notifyStateChanges(e){const r=this._oldCache||[],n=this._cache,a=(i,o)=>i.filter(c=>!o.some(d=>c.plugin.id===d.plugin.id));this._notify(a(r,n),e,"stop"),this._notify(a(n,r),e,"start")}}function ipe(t){const e={},r=[],n=Object.keys(Di.plugins.items);for(let i=0;i<n.length;i++)r.push(Di.getPlugin(n[i]));const a=t.plugins||[];for(let i=0;i<a.length;i++){const o=a[i];r.indexOf(o)===-1&&(r.push(o),e[o.id]=!0)}return{plugins:r,localIds:e}}function ope(t,e){return!e&&t===!1?null:t===!0?{}:t}function lpe(t,{plugins:e,localIds:r},n,a){const i=[],o=t.getContext();for(const c of e){const d=c.id,h=ope(n[d],a);h!==null&&i.push({plugin:c,options:cpe(t.config,{plugin:c,local:r[d]},h,o)})}return i}function cpe(t,{plugin:e,local:r},n,a){const i=t.pluginScopeKeys(e),o=t.getOptionScopes(n,i);return r&&e.defaults&&o.push(e.defaults),t.createResolver(o,a,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function rN(t,e){const r=or.datasets[t]||{};return((e.datasets||{})[t]||{}).indexAxis||e.indexAxis||r.indexAxis||"x"}function dpe(t,e){let r=t;return t==="_index_"?r=e:t==="_value_"&&(r=e==="x"?"y":"x"),r}function upe(t,e){return t===e?"_index_":"_value_"}function a3(t){if(t==="x"||t==="y"||t==="r")return t}function hpe(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function nN(t,...e){if(a3(t))return t;for(const r of e){const n=r.axis||hpe(r.position)||t.length>1&&a3(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function i3(t,e,r){if(r[e+"AxisID"]===t)return{axis:e}}function fpe(t,e){if(e.data&&e.data.datasets){const r=e.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(r.length)return i3(t,"x",r[0])||i3(t,"y",r[0])}return{}}function mpe(t,e){const r=kd[t.type]||{scales:{}},n=e.scales||{},a=rN(t.type,e),i=Object.create(null);return Object.keys(n).forEach(o=>{const c=n[o];if(!cs(c))return console.error(`Invalid scale configuration for scale: ${o}`);if(c._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${o}`);const d=nN(o,c,fpe(o,t),or.scales[c.type]),h=upe(d,a),m=r.scales||{};i[o]=nm(Object.create(null),[{axis:d},c,m[d],m[h]])}),t.data.datasets.forEach(o=>{const c=o.type||t.type,d=o.indexAxis||rN(c,e),m=(kd[c]||{}).scales||{};Object.keys(m).forEach(f=>{const g=dpe(f,d),y=o[g+"AxisID"]||g;i[y]=i[y]||Object.create(null),nm(i[y],[{axis:g},n[y],m[f]])})}),Object.keys(i).forEach(o=>{const c=i[o];nm(c,[or.scales[c.type],or.scale])}),i}function MB(t){const e=t.options||(t.options={});e.plugins=Yt(e.plugins,{}),e.scales=mpe(t,e)}function PB(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function ppe(t){return t=t||{},t.data=PB(t.data),MB(t),t}const o3=new Map,OB=new Set;function ox(t,e){let r=o3.get(t);return r||(r=e(),o3.set(t,r),OB.add(r)),r}const If=(t,e,r)=>{const n=sc(e,r);n!==void 0&&t.add(n)};class gpe{constructor(e){this._config=ppe(e),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(e){this._config.type=e}get data(){return this._config.data}set data(e){this._config.data=PB(e)}get options(){return this._config.options}set options(e){this._config.options=e}get plugins(){return this._config.plugins}update(){const e=this._config;this.clearCache(),MB(e)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(e){return ox(e,()=>[[`datasets.${e}`,""]])}datasetAnimationScopeKeys(e,r){return ox(`${e}.transition.${r}`,()=>[[`datasets.${e}.transitions.${r}`,`transitions.${r}`],[`datasets.${e}`,""]])}datasetElementScopeKeys(e,r){return ox(`${e}-${r}`,()=>[[`datasets.${e}.elements.${r}`,`datasets.${e}`,`elements.${r}`,""]])}pluginScopeKeys(e){const r=e.id,n=this.type;return ox(`${n}-plugin-${r}`,()=>[[`plugins.${r}`,...e.additionalOptionScopes||[]]])}_cachedScopes(e,r){const n=this._scopeCache;let a=n.get(e);return(!a||r)&&(a=new Map,n.set(e,a)),a}getOptionScopes(e,r,n){const{options:a,type:i}=this,o=this._cachedScopes(e,n),c=o.get(r);if(c)return c;const d=new Set;r.forEach(m=>{e&&(d.add(e),m.forEach(f=>If(d,e,f))),m.forEach(f=>If(d,a,f)),m.forEach(f=>If(d,kd[i]||{},f)),m.forEach(f=>If(d,or,f)),m.forEach(f=>If(d,tN,f))});const h=Array.from(d);return h.length===0&&h.push(Object.create(null)),OB.has(r)&&o.set(r,h),h}chartOptionScopes(){const{options:e,type:r}=this;return[e,kd[r]||{},or.datasets[r]||{},{type:r},or,tN]}resolveNamedOptions(e,r,n,a=[""]){const i={$shared:!0},{resolver:o,subPrefixes:c}=l3(this._resolverCache,e,a);let d=o;if(ype(o,r)){i.$shared=!1,n=rc(n)?n():n;const h=this.createResolver(e,n,c);d=nh(o,n,h)}for(const h of r)i[h]=d[h];return i}createResolver(e,r,n=[""],a){const{resolver:i}=l3(this._resolverCache,e,n);return cs(r)?nh(i,r,void 0,a):i}}function l3(t,e,r){let n=t.get(e);n||(n=new Map,t.set(e,n));const a=r.join();let i=n.get(a);return i||(i={resolver:fS(e,r),subPrefixes:r.filter(c=>!c.toLowerCase().includes("hover"))},n.set(a,i)),i}const xpe=t=>cs(t)&&Object.getOwnPropertyNames(t).some(e=>rc(t[e]));function ype(t,e){const{isScriptable:r,isIndexable:n}=hB(t);for(const a of e){const i=r(a),o=n(a),c=(o||i)&&t[a];if(i&&(rc(c)||xpe(c))||o&&rr(c))return!0}return!1}var bpe="4.5.1";const vpe=["top","bottom","left","right","chartArea"];function c3(t,e){return t==="top"||t==="bottom"||vpe.indexOf(t)===-1&&e==="x"}function d3(t,e){return function(r,n){return r[t]===n[t]?r[e]-n[e]:r[t]-n[t]}}function u3(t){const e=t.chart,r=e.options.animation;e.notifyPlugins("afterRender"),Ys(r&&r.onComplete,[t],e)}function wpe(t){const e=t.chart,r=e.options.animation;Ys(r&&r.onProgress,[t],e)}function LB(t){return gS()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const Rx={},h3=t=>{const e=LB(t);return Object.values(Rx).filter(r=>r.canvas===e).pop()};function jpe(t,e,r){const n=Object.keys(t);for(const a of n){const i=+a;if(i>=e){const o=t[a];delete t[a],(r>0||i>e)&&(t[i+r]=o)}}}function _pe(t,e,r,n){return!r||t.type==="mouseout"?null:n?e:t}class nc{static defaults=or;static instances=Rx;static overrides=kd;static registry=Di;static version=bpe;static getChart=h3;static register(...e){Di.add(...e),f3()}static unregister(...e){Di.remove(...e),f3()}constructor(e,r){const n=this.config=new gpe(r),a=LB(e),i=h3(a);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const o=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||Ume(a)),this.platform.updateConfig(n);const c=this.platform.acquireContext(a,o.aspectRatio),d=c&&c.canvas,h=d&&d.height,m=d&&d.width;if(this.id=yhe(),this.ctx=c,this.canvas=d,this.width=m,this.height=h,this._options=o,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new ape,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Ohe(f=>this.update(f),o.resizeDelay||0),this._dataChanges=[],Rx[this.id]=this,!c||!d){console.error("Failed to create chart: can't acquire context from the given item");return}To.listen(this,"complete",u3),To.listen(this,"progress",wpe),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:e,maintainAspectRatio:r},width:n,height:a,_aspectRatio:i}=this;return ns(e)?r&&i?i:a?n/a:null:e}get data(){return this.config.data}set data(e){this.config.data=e}get options(){return this._options}set options(e){this.config.options=e}get registry(){return Di}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():OD(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return DD(this.canvas,this.ctx),this}stop(){return To.stop(this),this}resize(e,r){To.running(this)?this._resizeBeforeDraw={width:e,height:r}:this._resize(e,r)}_resize(e,r){const n=this.options,a=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,o=this.platform.getMaximumSize(a,e,r,i),c=n.devicePixelRatio||this.platform.getDevicePixelRatio(),d=this.width?"resize":"attach";this.width=o.width,this.height=o.height,this._aspectRatio=this.aspectRatio,OD(this,c,!0)&&(this.notifyPlugins("resize",{size:o}),Ys(n.onResize,[this,o],this),this.attached&&this._doResize(d)&&this.render())}ensureScalesHaveIDs(){const r=this.options.scales||{};Ms(r,(n,a)=>{n.id=a})}buildOrUpdateScales(){const e=this.options,r=e.scales,n=this.scales,a=Object.keys(n).reduce((o,c)=>(o[c]=!1,o),{});let i=[];r&&(i=i.concat(Object.keys(r).map(o=>{const c=r[o],d=nN(o,c),h=d==="r",m=d==="x";return{options:c,dposition:h?"chartArea":m?"bottom":"left",dtype:h?"radialLinear":m?"category":"linear"}}))),Ms(i,o=>{const c=o.options,d=c.id,h=nN(d,c),m=Yt(c.type,o.dtype);(c.position===void 0||c3(c.position,h)!==c3(o.dposition))&&(c.position=o.dposition),a[d]=!0;let f=null;if(d in n&&n[d].type===m)f=n[d];else{const g=Di.getScale(m);f=new g({id:d,type:m,ctx:this.ctx,chart:this}),n[f.id]=f}f.init(c,e)}),Ms(a,(o,c)=>{o||delete n[c]}),Ms(n,o=>{xn.configure(this,o,o.options),xn.addBox(this,o)})}_updateMetasets(){const e=this._metasets,r=this.data.datasets.length,n=e.length;if(e.sort((a,i)=>a.index-i.index),n>r){for(let a=r;a<n;++a)this._destroyDatasetMeta(a);e.splice(r,n-r)}this._sortedMetasets=e.slice(0).sort(d3("order","index"))}_removeUnreferencedMetasets(){const{_metasets:e,data:{datasets:r}}=this;e.length>r.length&&delete this._stacks,e.forEach((n,a)=>{r.filter(i=>i===n._dataset).length===0&&this._destroyDatasetMeta(a)})}buildOrUpdateControllers(){const e=[],r=this.data.datasets;let n,a;for(this._removeUnreferencedMetasets(),n=0,a=r.length;n<a;n++){const i=r[n];let o=this.getDatasetMeta(n);const c=i.type||this.config.type;if(o.type&&o.type!==c&&(this._destroyDatasetMeta(n),o=this.getDatasetMeta(n)),o.type=c,o.indexAxis=i.indexAxis||rN(c,this.options),o.order=i.order||0,o.index=n,o.label=""+i.label,o.visible=this.isDatasetVisible(n),o.controller)o.controller.updateIndex(n),o.controller.linkScales();else{const d=Di.getController(c),{datasetElementType:h,dataElementType:m}=or.datasets[c];Object.assign(d,{dataElementType:Di.getElement(m),datasetElementType:h&&Di.getElement(h)}),o.controller=new d(this,n),e.push(o.controller)}}return this._updateMetasets(),e}_resetElements(){Ms(this.data.datasets,(e,r)=>{this.getDatasetMeta(r).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(e){const r=this.config;r.update();const n=this._options=r.createResolver(r.chartOptionScopes(),this.getContext()),a=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:e,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let o=0;for(let h=0,m=this.data.datasets.length;h<m;h++){const{controller:f}=this.getDatasetMeta(h),g=!a&&i.indexOf(f)===-1;f.buildOrUpdateElements(g),o=Math.max(+f.getMaxOverflow(),o)}o=this._minPadding=n.layout.autoPadding?o:0,this._updateLayout(o),a||Ms(i,h=>{h.reset()}),this._updateDatasets(e),this.notifyPlugins("afterUpdate",{mode:e}),this._layers.sort(d3("z","_idx"));const{_active:c,_lastEvent:d}=this;d?this._eventHandler(d,!0):c.length&&this._updateHoverStyles(c,c,!0),this.render()}_updateScales(){Ms(this.scales,e=>{xn.removeBox(this,e)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const e=this.options,r=new Set(Object.keys(this._listeners)),n=new Set(e.events);(!_D(r,n)||!!this._responsiveListeners!==e.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:e}=this,r=this._getUniformDataChanges()||[];for(const{method:n,start:a,count:i}of r){const o=n==="_removeElements"?-i:i;jpe(e,a,o)}}_getUniformDataChanges(){const e=this._dataChanges;if(!e||!e.length)return;this._dataChanges=[];const r=this.data.datasets.length,n=i=>new Set(e.filter(o=>o[0]===i).map((o,c)=>c+","+o.splice(1).join(","))),a=n(0);for(let i=1;i<r;i++)if(!_D(a,n(i)))return;return Array.from(a).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(e){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;xn.update(this,this.width,this.height,e);const r=this.chartArea,n=r.width<=0||r.height<=0;this._layers=[],Ms(this.boxes,a=>{n&&a.position==="chartArea"||(a.configure&&a.configure(),this._layers.push(...a._layers()))},this),this._layers.forEach((a,i)=>{a._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(e){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:e,cancelable:!0})!==!1){for(let r=0,n=this.data.datasets.length;r<n;++r)this.getDatasetMeta(r).controller.configure();for(let r=0,n=this.data.datasets.length;r<n;++r)this._updateDataset(r,rc(e)?e({datasetIndex:r}):e);this.notifyPlugins("afterDatasetsUpdate",{mode:e})}}_updateDataset(e,r){const n=this.getDatasetMeta(e),a={meta:n,index:e,mode:r,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",a)!==!1&&(n.controller._update(r),a.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",a))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(To.has(this)?this.attached&&!To.running(this)&&To.start(this):(this.draw(),u3({chart:this})))}draw(){let e;if(this._resizeBeforeDraw){const{width:n,height:a}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,a)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const r=this._layers;for(e=0;e<r.length&&r[e].z<=0;++e)r[e].draw(this.chartArea);for(this._drawDatasets();e<r.length;++e)r[e].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(e){const r=this._sortedMetasets,n=[];let a,i;for(a=0,i=r.length;a<i;++a){const o=r[a];(!e||o.visible)&&n.push(o)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const e=this.getSortedVisibleDatasetMetas();for(let r=e.length-1;r>=0;--r)this._drawDataset(e[r]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(e){const r=this.ctx,n={meta:e,index:e.index,cancelable:!0},a=_B(this,e);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(a&&by(r,a),e.controller.draw(),a&&vy(r),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(e){return Lo(e,this.chartArea,this._minPadding)}getElementsAtEventForMode(e,r,n,a){const i=vme.modes[r];return typeof i=="function"?i(this,e,n,a):[]}getDatasetMeta(e){const r=this.data.datasets[e],n=this._metasets;let a=n.filter(i=>i&&i._dataset===r).pop();return a||(a={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:r&&r.order||0,index:e,_dataset:r,_parsed:[],_sorted:!1},n.push(a)),a}getContext(){return this.$context||(this.$context=uc(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(e){const r=this.data.datasets[e];if(!r)return!1;const n=this.getDatasetMeta(e);return typeof n.hidden=="boolean"?!n.hidden:!r.hidden}setDatasetVisibility(e,r){const n=this.getDatasetMeta(e);n.hidden=!r}toggleDataVisibility(e){this._hiddenIndices[e]=!this._hiddenIndices[e]}getDataVisibility(e){return!this._hiddenIndices[e]}_updateVisibility(e,r,n){const a=n?"show":"hide",i=this.getDatasetMeta(e),o=i.controller._resolveAnimations(void 0,a);_m(r)?(i.data[r].hidden=!n,this.update()):(this.setDatasetVisibility(e,n),o.update(i,{visible:n}),this.update(c=>c.datasetIndex===e?a:void 0))}hide(e,r){this._updateVisibility(e,r,!1)}show(e,r){this._updateVisibility(e,r,!0)}_destroyDatasetMeta(e){const r=this._metasets[e];r&&r.controller&&r.controller._destroy(),delete this._metasets[e]}_stop(){let e,r;for(this.stop(),To.remove(this),e=0,r=this.data.datasets.length;e<r;++e)this._destroyDatasetMeta(e)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:e,ctx:r}=this;this._stop(),this.config.clearCache(),e&&(this.unbindEvents(),DD(e,r),this.platform.releaseContext(r),this.canvas=null,this.ctx=null),delete Rx[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...e){return this.canvas.toDataURL(...e)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const e=this._listeners,r=this.platform,n=(i,o)=>{r.addEventListener(this,i,o),e[i]=o},a=(i,o,c)=>{i.offsetX=o,i.offsetY=c,this._eventHandler(i)};Ms(this.options.events,i=>n(i,a))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const e=this._responsiveListeners,r=this.platform,n=(d,h)=>{r.addEventListener(this,d,h),e[d]=h},a=(d,h)=>{e[d]&&(r.removeEventListener(this,d,h),delete e[d])},i=(d,h)=>{this.canvas&&this.resize(d,h)};let o;const c=()=>{a("attach",c),this.attached=!0,this.resize(),n("resize",i),n("detach",o)};o=()=>{this.attached=!1,a("resize",i),this._stop(),this._resize(0,0),n("attach",c)},r.isAttached(this.canvas)?c():o()}unbindEvents(){Ms(this._listeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._listeners={},Ms(this._responsiveListeners,(e,r)=>{this.platform.removeEventListener(this,r,e)}),this._responsiveListeners=void 0}updateHoverStyle(e,r,n){const a=n?"set":"remove";let i,o,c,d;for(r==="dataset"&&(i=this.getDatasetMeta(e[0].datasetIndex),i.controller["_"+a+"DatasetHoverStyle"]()),c=0,d=e.length;c<d;++c){o=e[c];const h=o&&this.getDatasetMeta(o.datasetIndex).controller;h&&h[a+"HoverStyle"](o.element,o.datasetIndex,o.index)}}getActiveElements(){return this._active||[]}setActiveElements(e){const r=this._active||[],n=e.map(({datasetIndex:i,index:o})=>{const c=this.getDatasetMeta(i);if(!c)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:c.data[o],index:o}});!m0(n,r)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,r))}notifyPlugins(e,r,n){return this._plugins.notify(this,e,r,n)}isPluginEnabled(e){return this._plugins._cache.filter(r=>r.plugin.id===e).length===1}_updateHoverStyles(e,r,n){const a=this.options.hover,i=(d,h)=>d.filter(m=>!h.some(f=>m.datasetIndex===f.datasetIndex&&m.index===f.index)),o=i(r,e),c=n?e:i(e,r);o.length&&this.updateHoverStyle(o,a.mode,!1),c.length&&a.mode&&this.updateHoverStyle(c,a.mode,!0)}_eventHandler(e,r){const n={event:e,replay:r,cancelable:!0,inChartArea:this.isPointInArea(e)},a=o=>(o.options.events||this.options.events).includes(e.native.type);if(this.notifyPlugins("beforeEvent",n,a)===!1)return;const i=this._handleEvent(e,r,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,a),(i||n.changed)&&this.render(),this}_handleEvent(e,r,n){const{_active:a=[],options:i}=this,o=r,c=this._getActiveElements(e,a,n,o),d=Nhe(e),h=_pe(e,this._lastEvent,n,d);n&&(this._lastEvent=null,Ys(i.onHover,[e,c,this],this),d&&Ys(i.onClick,[e,c,this],this));const m=!m0(c,a);return(m||r)&&(this._active=c,this._updateHoverStyles(c,a,r)),this._lastEvent=h,m}_getActiveElements(e,r,n,a){if(e.type==="mouseout")return[];if(!n)return r;const i=this.options.hover;return this.getElementsAtEventForMode(e,i.mode,i,a)}}function f3(){return Ms(nc.instances,t=>t._plugins.invalidate())}function Npe(t,e,r){const{startAngle:n,x:a,y:i,outerRadius:o,innerRadius:c,options:d}=e,{borderWidth:h,borderJoinStyle:m}=d,f=Math.min(h/o,fn(n-r));if(t.beginPath(),t.arc(a,i,o-h/2,n+f/2,r-f/2),c>0){const g=Math.min(h/c,fn(n-r));t.arc(a,i,c+h/2,r-g/2,n+g/2,!0)}else{const g=Math.min(h/2,o*fn(n-r));if(m==="round")t.arc(a,i,g,r-Ns/2,n+Ns/2,!0);else if(m==="bevel"){const y=2*g*g,v=-y*Math.cos(r+Ns/2)+a,w=-y*Math.sin(r+Ns/2)+i,j=y*Math.cos(n+Ns/2)+a,b=y*Math.sin(n+Ns/2)+i;t.lineTo(v,w),t.lineTo(j,b)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function Spe(t,e,r){const{startAngle:n,pixelMargin:a,x:i,y:o,outerRadius:c,innerRadius:d}=e;let h=a/c;t.beginPath(),t.arc(i,o,c,n-h,r+h),d>a?(h=a/d,t.arc(i,o,d,r+h,n-h,!0)):t.arc(i,o,a,r+Sr,n-Sr),t.closePath(),t.clip()}function Cpe(t){return hS(t,["outerStart","outerEnd","innerStart","innerEnd"])}function kpe(t,e,r,n){const a=Cpe(t.options.borderRadius),i=(r-e)/2,o=Math.min(i,n*e/2),c=d=>{const h=(r-Math.min(i,d))*n/2;return tn(d,0,Math.min(i,h))};return{outerStart:c(a.outerStart),outerEnd:c(a.outerEnd),innerStart:tn(a.innerStart,0,o),innerEnd:tn(a.innerEnd,0,o)}}function Su(t,e,r,n){return{x:r+t*Math.cos(e),y:n+t*Math.sin(e)}}function v0(t,e,r,n,a,i){const{x:o,y:c,startAngle:d,pixelMargin:h,innerRadius:m}=e,f=Math.max(e.outerRadius+n+r-h,0),g=m>0?m+n+r+h:0;let y=0;const v=a-d;if(n){const se=m>0?m-n:0,K=f>0?f-n:0,M=(se+K)/2,X=M!==0?v*M/(M+n):v;y=(v-X)/2}const w=Math.max(.001,v*f-r/Ns)/f,j=(v-w)/2,b=d+j+y,N=a-j-y,{outerStart:k,outerEnd:S,innerStart:C,innerEnd:B}=kpe(e,g,f,N-b),E=f-k,z=f-S,T=b+k/E,W=N-S/z,U=g+C,L=g+B,Z=b+C/U,O=N-B/L;if(t.beginPath(),i){const se=(T+W)/2;if(t.arc(o,c,f,T,se),t.arc(o,c,f,se,W),S>0){const $=Su(z,W,o,c);t.arc($.x,$.y,S,W,N+Sr)}const K=Su(L,N,o,c);if(t.lineTo(K.x,K.y),B>0){const $=Su(L,O,o,c);t.arc($.x,$.y,B,N+Sr,O+Math.PI)}const M=(N-B/g+(b+C/g))/2;if(t.arc(o,c,g,N-B/g,M,!0),t.arc(o,c,g,M,b+C/g,!0),C>0){const $=Su(U,Z,o,c);t.arc($.x,$.y,C,Z+Math.PI,b-Sr)}const X=Su(E,b,o,c);if(t.lineTo(X.x,X.y),k>0){const $=Su(E,T,o,c);t.arc($.x,$.y,k,b-Sr,T)}}else{t.moveTo(o,c);const se=Math.cos(T)*f+o,K=Math.sin(T)*f+c;t.lineTo(se,K);const M=Math.cos(W)*f+o,X=Math.sin(W)*f+c;t.lineTo(M,X)}t.closePath()}function Ape(t,e,r,n,a){const{fullCircles:i,startAngle:o,circumference:c}=e;let d=e.endAngle;if(i){v0(t,e,r,n,d,a);for(let h=0;h<i;++h)t.fill();isNaN(c)||(d=o+(c%Qs||Qs))}return v0(t,e,r,n,d,a),t.fill(),d}function Epe(t,e,r,n,a){const{fullCircles:i,startAngle:o,circumference:c,options:d}=e,{borderWidth:h,borderJoinStyle:m,borderDash:f,borderDashOffset:g,borderRadius:y}=d,v=d.borderAlign==="inner";if(!h)return;t.setLineDash(f||[]),t.lineDashOffset=g,v?(t.lineWidth=h*2,t.lineJoin=m||"round"):(t.lineWidth=h,t.lineJoin=m||"bevel");let w=e.endAngle;if(i){v0(t,e,r,n,w,a);for(let j=0;j<i;++j)t.stroke();isNaN(c)||(w=o+(c%Qs||Qs))}v&&Spe(t,e,w),d.selfJoin&&w-o>=Ns&&y===0&&m!=="miter"&&Npe(t,e,w),i||(v0(t,e,r,n,w,a),t.stroke())}class Tpe extends Xo{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(e){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,e&&Object.assign(this,e)}inRange(e,r,n){const a=this.getProps(["x","y"],n),{angle:i,distance:o}=sB(a,{x:e,y:r}),{startAngle:c,endAngle:d,innerRadius:h,outerRadius:m,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),g=(this.options.spacing+this.options.borderWidth)/2,y=Yt(f,d-c),v=Nm(i,c,d)&&c!==d,w=y>=Qs||v,j=Po(o,h+g,m+g);return w&&j}getCenterPoint(e){const{x:r,y:n,startAngle:a,endAngle:i,innerRadius:o,outerRadius:c}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],e),{offset:d,spacing:h}=this.options,m=(a+i)/2,f=(o+c+h+d)/2;return{x:r+Math.cos(m)*f,y:n+Math.sin(m)*f}}tooltipPosition(e){return this.getCenterPoint(e)}draw(e){const{options:r,circumference:n}=this,a=(r.offset||0)/4,i=(r.spacing||0)/2,o=r.circular;if(this.pixelMargin=r.borderAlign==="inner"?.33:0,this.fullCircles=n>Qs?Math.floor(n/Qs):0,n===0||this.innerRadius<0||this.outerRadius<0)return;e.save();const c=(this.startAngle+this.endAngle)/2;e.translate(Math.cos(c)*a,Math.sin(c)*a);const d=1-Math.sin(Math.min(Ns,n||0)),h=a*d;e.fillStyle=r.backgroundColor,e.strokeStyle=r.borderColor,Ape(e,this,h,i,o),Epe(e,this,h,i,o),e.restore()}}function FB(t,e,r=e){t.lineCap=Yt(r.borderCapStyle,e.borderCapStyle),t.setLineDash(Yt(r.borderDash,e.borderDash)),t.lineDashOffset=Yt(r.borderDashOffset,e.borderDashOffset),t.lineJoin=Yt(r.borderJoinStyle,e.borderJoinStyle),t.lineWidth=Yt(r.borderWidth,e.borderWidth),t.strokeStyle=Yt(r.borderColor,e.borderColor)}function Rpe(t,e,r){t.lineTo(r.x,r.y)}function Dpe(t){return t.stepped?Ghe:t.tension||t.cubicInterpolationMode==="monotone"?Yhe:Rpe}function BB(t,e,r={}){const n=t.length,{start:a=0,end:i=n-1}=r,{start:o,end:c}=e,d=Math.max(a,o),h=Math.min(i,c),m=a<o&&i<o||a>c&&i>c;return{count:n,start:d,loop:e.loop,ilen:h<d&&!m?n+h-d:h-d}}function Mpe(t,e,r,n){const{points:a,options:i}=e,{count:o,start:c,loop:d,ilen:h}=BB(a,r,n),m=Dpe(i);let{move:f=!0,reverse:g}=n||{},y,v,w;for(y=0;y<=h;++y)v=a[(c+(g?h-y:y))%o],!v.skip&&(f?(t.moveTo(v.x,v.y),f=!1):m(t,w,v,g,i.stepped),w=v);return d&&(v=a[(c+(g?h:0))%o],m(t,w,v,g,i.stepped)),!!d}function Ppe(t,e,r,n){const a=e.points,{count:i,start:o,ilen:c}=BB(a,r,n),{move:d=!0,reverse:h}=n||{};let m=0,f=0,g,y,v,w,j,b;const N=S=>(o+(h?c-S:S))%i,k=()=>{w!==j&&(t.lineTo(m,j),t.lineTo(m,w),t.lineTo(m,b))};for(d&&(y=a[N(0)],t.moveTo(y.x,y.y)),g=0;g<=c;++g){if(y=a[N(g)],y.skip)continue;const S=y.x,C=y.y,B=S|0;B===v?(C<w?w=C:C>j&&(j=C),m=(f*m+S)/++f):(k(),t.lineTo(S,C),v=B,f=0,w=j=C),b=C}k()}function aN(t){const e=t.options,r=e.borderDash&&e.borderDash.length;return!t._decimated&&!t._loop&&!e.tension&&e.cubicInterpolationMode!=="monotone"&&!e.stepped&&!r?Ppe:Mpe}function Ope(t){return t.stepped?Cfe:t.tension||t.cubicInterpolationMode==="monotone"?kfe:rd}function Lpe(t,e,r,n){let a=e._path;a||(a=e._path=new Path2D,e.path(a,r,n)&&a.closePath()),FB(t,e.options),t.stroke(a)}function Fpe(t,e,r,n){const{segments:a,options:i}=e,o=aN(e);for(const c of a)FB(t,i,c.style),t.beginPath(),o(t,e,c,{start:r,end:r+n-1})&&t.closePath(),t.stroke()}const Bpe=typeof Path2D=="function";function Ipe(t,e,r,n){Bpe&&!e.options.segment?Lpe(t,e,r,n):Fpe(t,e,r,n)}class _y extends Xo{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:e=>e!=="borderDash"&&e!=="fill"};constructor(e){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,e&&Object.assign(this,e)}updateControlPoints(e,r){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const a=n.spanGaps?this._loop:this._fullLoop;yfe(this._points,n,e,a,r),this._pointsUpdated=!0}}set points(e){this._points=e,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Mfe(this,this.options.segment))}first(){const e=this.segments,r=this.points;return e.length&&r[e[0].start]}last(){const e=this.segments,r=this.points,n=e.length;return n&&r[e[n-1].end]}interpolate(e,r){const n=this.options,a=e[r],i=this.points,o=jB(this,{property:r,start:a,end:a});if(!o.length)return;const c=[],d=Ope(n);let h,m;for(h=0,m=o.length;h<m;++h){const{start:f,end:g}=o[h],y=i[f],v=i[g];if(y===v){c.push(y);continue}const w=Math.abs((a-y[r])/(v[r]-y[r])),j=d(y,v,w,n.stepped);j[r]=e[r],c.push(j)}return c.length===1?c[0]:c}pathSegment(e,r,n){return aN(this)(e,this,r,n)}path(e,r,n){const a=this.segments,i=aN(this);let o=this._loop;r=r||0,n=n||this.points.length-r;for(const c of a)o&=i(e,this,c,{start:r,end:r+n-1});return!!o}draw(e,r,n,a){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(e.save(),Ipe(e,this,n,a),e.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function m3(t,e,r,n){const a=t.options,{[r]:i}=t.getProps([r],n);return Math.abs(e-i)<a.radius+a.hitRadius}class zpe extends Xo{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,e&&Object.assign(this,e)}inRange(e,r,n){const a=this.options,{x:i,y:o}=this.getProps(["x","y"],n);return Math.pow(e-i,2)+Math.pow(r-o,2)<Math.pow(a.hitRadius+a.radius,2)}inXRange(e,r){return m3(this,e,"x",r)}inYRange(e,r){return m3(this,e,"y",r)}getCenterPoint(e){const{x:r,y:n}=this.getProps(["x","y"],e);return{x:r,y:n}}size(e){e=e||this.options||{};let r=e.radius||0;r=Math.max(r,r&&e.hoverRadius||0);const n=r&&e.borderWidth||0;return(r+n)*2}draw(e,r){const n=this.options;this.skip||n.radius<.1||!Lo(this,r,this.size(n)/2)||(e.strokeStyle=n.borderColor,e.lineWidth=n.borderWidth,e.fillStyle=n.backgroundColor,sN(e,n,this.x,this.y))}getRange(){const e=this.options||{};return e.radius+e.hitRadius}}function IB(t,e){const{x:r,y:n,base:a,width:i,height:o}=t.getProps(["x","y","base","width","height"],e);let c,d,h,m,f;return t.horizontal?(f=o/2,c=Math.min(r,a),d=Math.max(r,a),h=n-f,m=n+f):(f=i/2,c=r-f,d=r+f,h=Math.min(n,a),m=Math.max(n,a)),{left:c,top:h,right:d,bottom:m}}function ql(t,e,r,n){return t?0:tn(e,r,n)}function Upe(t,e,r){const n=t.options.borderWidth,a=t.borderSkipped,i=uB(n);return{t:ql(a.top,i.top,0,r),r:ql(a.right,i.right,0,e),b:ql(a.bottom,i.bottom,0,r),l:ql(a.left,i.left,0,e)}}function $pe(t,e,r){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),a=t.options.borderRadius,i=gd(a),o=Math.min(e,r),c=t.borderSkipped,d=n||cs(a);return{topLeft:ql(!d||c.top||c.left,i.topLeft,0,o),topRight:ql(!d||c.top||c.right,i.topRight,0,o),bottomLeft:ql(!d||c.bottom||c.left,i.bottomLeft,0,o),bottomRight:ql(!d||c.bottom||c.right,i.bottomRight,0,o)}}function Vpe(t){const e=IB(t),r=e.right-e.left,n=e.bottom-e.top,a=Upe(t,r/2,n/2),i=$pe(t,r/2,n/2);return{outer:{x:e.left,y:e.top,w:r,h:n,radius:i},inner:{x:e.left+a.l,y:e.top+a.t,w:r-a.l-a.r,h:n-a.t-a.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(a.t,a.l)),topRight:Math.max(0,i.topRight-Math.max(a.t,a.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(a.b,a.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(a.b,a.r))}}}}function R1(t,e,r,n){const a=e===null,i=r===null,c=t&&!(a&&i)&&IB(t,n);return c&&(a||Po(e,c.left,c.right))&&(i||Po(r,c.top,c.bottom))}function Hpe(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function qpe(t,e){t.rect(e.x,e.y,e.w,e.h)}function D1(t,e,r={}){const n=t.x!==r.x?-e:0,a=t.y!==r.y?-e:0,i=(t.x+t.w!==r.x+r.w?e:0)-n,o=(t.y+t.h!==r.y+r.h?e:0)-a;return{x:t.x+n,y:t.y+a,w:t.w+i,h:t.h+o,radius:t.radius}}class Wpe extends Xo{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(e){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,e&&Object.assign(this,e)}draw(e){const{inflateAmount:r,options:{borderColor:n,backgroundColor:a}}=this,{inner:i,outer:o}=Vpe(this),c=Hpe(o.radius)?Sm:qpe;e.save(),(o.w!==i.w||o.h!==i.h)&&(e.beginPath(),c(e,D1(o,r,i)),e.clip(),c(e,D1(i,-r,o)),e.fillStyle=n,e.fill("evenodd")),e.beginPath(),c(e,D1(i,r)),e.fillStyle=a,e.fill(),e.restore()}inRange(e,r,n){return R1(this,e,r,n)}inXRange(e,r){return R1(this,e,null,r)}inYRange(e,r){return R1(this,null,e,r)}getCenterPoint(e){const{x:r,y:n,base:a,horizontal:i}=this.getProps(["x","y","base","horizontal"],e);return{x:i?(r+a)/2:r,y:i?n:(n+a)/2}}getRange(e){return e==="x"?this.width/2:this.height/2}}var Gpe=Object.freeze({__proto__:null,ArcElement:Tpe,BarElement:Wpe,LineElement:_y,PointElement:zpe});const iN=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],p3=iN.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function zB(t){return iN[t%iN.length]}function UB(t){return p3[t%p3.length]}function Ype(t,e){return t.borderColor=zB(e),t.backgroundColor=UB(e),++e}function Kpe(t,e){return t.backgroundColor=t.data.map(()=>zB(e++)),e}function Xpe(t,e){return t.backgroundColor=t.data.map(()=>UB(e++)),e}function Zpe(t){let e=0;return(r,n)=>{const a=t.getDatasetMeta(n).controller;a instanceof yS?e=Kpe(r,e):a instanceof kB?e=Xpe(r,e):a&&(e=Ype(r,e))}}function g3(t){let e;for(e in t)if(t[e].borderColor||t[e].backgroundColor)return!0;return!1}function Qpe(t){return t&&(t.borderColor||t.backgroundColor)}function Jpe(){return or.borderColor!=="rgba(0,0,0,0.1)"||or.backgroundColor!=="rgba(0,0,0,0.1)"}var ege={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,e,r){if(!r.enabled)return;const{data:{datasets:n},options:a}=t.config,{elements:i}=a,o=g3(n)||Qpe(a)||i&&g3(i)||Jpe();if(!r.forceOverride&&o)return;const c=Zpe(t);n.forEach(c)}};function tge(t,e,r,n,a){const i=a.samples||n;if(i>=r)return t.slice(e,e+r);const o=[],c=(r-2)/(i-2);let d=0;const h=e+r-1;let m=e,f,g,y,v,w;for(o[d++]=t[m],f=0;f<i-2;f++){let j=0,b=0,N;const k=Math.floor((f+1)*c)+1+e,S=Math.min(Math.floor((f+2)*c)+1,r)+e,C=S-k;for(N=k;N<S;N++)j+=t[N].x,b+=t[N].y;j/=C,b/=C;const B=Math.floor(f*c)+1+e,E=Math.min(Math.floor((f+1)*c)+1,r)+e,{x:z,y:T}=t[m];for(y=v=-1,N=B;N<E;N++)v=.5*Math.abs((z-j)*(t[N].y-T)-(z-t[N].x)*(b-T)),v>y&&(y=v,g=t[N],w=N);o[d++]=g,m=w}return o[d++]=t[h],o}function sge(t,e,r,n){let a=0,i=0,o,c,d,h,m,f,g,y,v,w;const j=[],b=e+r-1,N=t[e].x,S=t[b].x-N;for(o=e;o<e+r;++o){c=t[o],d=(c.x-N)/S*n,h=c.y;const C=d|0;if(C===m)h<v?(v=h,f=o):h>w&&(w=h,g=o),a=(i*a+c.x)/++i;else{const B=o-1;if(!ns(f)&&!ns(g)){const E=Math.min(f,g),z=Math.max(f,g);E!==y&&E!==B&&j.push({...t[E],x:a}),z!==y&&z!==B&&j.push({...t[z],x:a})}o>0&&B!==y&&j.push(t[B]),j.push(c),m=C,i=0,v=w=h,f=g=y=o}}return j}function $B(t){if(t._decimated){const e=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:e})}}function x3(t){t.data.datasets.forEach(e=>{$B(e)})}function rge(t,e){const r=e.length;let n=0,a;const{iScale:i}=t,{min:o,max:c,minDefined:d,maxDefined:h}=i.getUserBounds();return d&&(n=tn(Oo(e,i.axis,o).lo,0,r-1)),h?a=tn(Oo(e,i.axis,c).hi+1,n,r)-n:a=r-n,{start:n,count:a}}var nge={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,e,r)=>{if(!r.enabled){x3(t);return}const n=t.width;t.data.datasets.forEach((a,i)=>{const{_data:o,indexAxis:c}=a,d=t.getDatasetMeta(i),h=o||a.data;if(Gf([c,t.options.indexAxis])==="y"||!d.controller.supportsDecimation)return;const m=t.scales[d.xAxisID];if(m.type!=="linear"&&m.type!=="time"||t.options.parsing)return;let{start:f,count:g}=rge(d,h);const y=r.threshold||4*n;if(g<=y){$B(a);return}ns(o)&&(a._data=h,delete a.data,Object.defineProperty(a,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(w){this._data=w}}));let v;switch(r.algorithm){case"lttb":v=tge(h,f,g,n,r);break;case"min-max":v=sge(h,f,g,n);break;default:throw new Error(`Unsupported decimation algorithm '${r.algorithm}'`)}a._decimated=v})},destroy(t){x3(t)}};function age(t,e,r){const n=t.segments,a=t.points,i=e.points,o=[];for(const c of n){let{start:d,end:h}=c;h=Ny(d,h,a);const m=oN(r,a[d],a[h],c.loop);if(!e.segments){o.push({source:c,target:m,start:a[d],end:a[h]});continue}const f=jB(e,m);for(const g of f){const y=oN(r,i[g.start],i[g.end],g.loop),v=wB(c,a,y);for(const w of v)o.push({source:w,target:g,start:{[r]:y3(m,y,"start",Math.max)},end:{[r]:y3(m,y,"end",Math.min)}})}}return o}function oN(t,e,r,n){if(n)return;let a=e[t],i=r[t];return t==="angle"&&(a=fn(a),i=fn(i)),{property:t,start:a,end:i}}function ige(t,e){const{x:r=null,y:n=null}=t||{},a=e.points,i=[];return e.segments.forEach(({start:o,end:c})=>{c=Ny(o,c,a);const d=a[o],h=a[c];n!==null?(i.push({x:d.x,y:n}),i.push({x:h.x,y:n})):r!==null&&(i.push({x:r,y:d.y}),i.push({x:r,y:h.y}))}),i}function Ny(t,e,r){for(;e>t;e--){const n=r[e];if(!isNaN(n.x)&&!isNaN(n.y))break}return e}function y3(t,e,r,n){return t&&e?n(t[r],e[r]):t?t[r]:e?e[r]:0}function VB(t,e){let r=[],n=!1;return rr(t)?(n=!0,r=t):r=ige(t,e),r.length?new _y({points:r,options:{tension:0},_loop:n,_fullLoop:n}):null}function b3(t){return t&&t.fill!==!1}function oge(t,e,r){let a=t[e].fill;const i=[e];let o;if(!r)return a;for(;a!==!1&&i.indexOf(a)===-1;){if(!br(a))return a;if(o=t[a],!o)return!1;if(o.visible)return a;i.push(a),a=o.fill}return!1}function lge(t,e,r){const n=hge(t);if(cs(n))return isNaN(n.value)?!1:n;let a=parseFloat(n);return br(a)&&Math.floor(a)===a?cge(n[0],e,a,r):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function cge(t,e,r,n){return(t==="-"||t==="+")&&(r=e+r),r===e||r<0||r>=n?!1:r}function dge(t,e){let r=null;return t==="start"?r=e.bottom:t==="end"?r=e.top:cs(t)?r=e.getPixelForValue(t.value):e.getBasePixel&&(r=e.getBasePixel()),r}function uge(t,e,r){let n;return t==="start"?n=r:t==="end"?n=e.options.reverse?e.min:e.max:cs(t)?n=t.value:n=e.getBaseValue(),n}function hge(t){const e=t.options,r=e.fill;let n=Yt(r&&r.target,r);return n===void 0&&(n=!!e.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function fge(t){const{scale:e,index:r,line:n}=t,a=[],i=n.segments,o=n.points,c=mge(e,r);c.push(VB({x:null,y:e.bottom},n));for(let d=0;d<i.length;d++){const h=i[d];for(let m=h.start;m<=h.end;m++)pge(a,o[m],c)}return new _y({points:a,options:{}})}function mge(t,e){const r=[],n=t.getMatchingVisibleMetas("line");for(let a=0;a<n.length;a++){const i=n[a];if(i.index===e)break;i.hidden||r.unshift(i.dataset)}return r}function pge(t,e,r){const n=[];for(let a=0;a<r.length;a++){const i=r[a],{first:o,last:c,point:d}=gge(i,e,"x");if(!(!d||o&&c)){if(o)n.unshift(d);else if(t.push(d),!c)break}}t.push(...n)}function gge(t,e,r){const n=t.interpolate(e,r);if(!n)return{};const a=n[r],i=t.segments,o=t.points;let c=!1,d=!1;for(let h=0;h<i.length;h++){const m=i[h],f=o[m.start][r],g=o[m.end][r];if(Po(a,f,g)){c=a===f,d=a===g;break}}return{first:c,last:d,point:n}}class HB{constructor(e){this.x=e.x,this.y=e.y,this.radius=e.radius}pathSegment(e,r,n){const{x:a,y:i,radius:o}=this;return r=r||{start:0,end:Qs},e.arc(a,i,o,r.end,r.start,!0),!n.bounds}interpolate(e){const{x:r,y:n,radius:a}=this,i=e.angle;return{x:r+Math.cos(i)*a,y:n+Math.sin(i)*a,angle:i}}}function xge(t){const{chart:e,fill:r,line:n}=t;if(br(r))return yge(e,r);if(r==="stack")return fge(t);if(r==="shape")return!0;const a=bge(t);return a instanceof HB?a:VB(a,n)}function yge(t,e){const r=t.getDatasetMeta(e);return r&&t.isDatasetVisible(e)?r.dataset:null}function bge(t){return(t.scale||{}).getPointPositionForValue?wge(t):vge(t)}function vge(t){const{scale:e={},fill:r}=t,n=dge(r,e);if(br(n)){const a=e.isHorizontal();return{x:a?n:null,y:a?null:n}}return null}function wge(t){const{scale:e,fill:r}=t,n=e.options,a=e.getLabels().length,i=n.reverse?e.max:e.min,o=uge(r,e,i),c=[];if(n.grid.circular){const d=e.getPointPositionForValue(0,i);return new HB({x:d.x,y:d.y,radius:e.getDistanceFromCenterForValue(o)})}for(let d=0;d<a;++d)c.push(e.getPointPositionForValue(d,o));return c}function M1(t,e,r){const n=xge(e),{chart:a,index:i,line:o,scale:c,axis:d}=e,h=o.options,m=h.fill,f=h.backgroundColor,{above:g=f,below:y=f}=m||{},v=a.getDatasetMeta(i),w=_B(a,v);n&&o.points.length&&(by(t,r),jge(t,{line:o,target:n,above:g,below:y,area:r,scale:c,axis:d,clip:w}),vy(t))}function jge(t,e){const{line:r,target:n,above:a,below:i,area:o,scale:c,clip:d}=e,h=r._loop?"angle":e.axis;t.save();let m=i;i!==a&&(h==="x"?(v3(t,n,o.top),P1(t,{line:r,target:n,color:a,scale:c,property:h,clip:d}),t.restore(),t.save(),v3(t,n,o.bottom)):h==="y"&&(w3(t,n,o.left),P1(t,{line:r,target:n,color:i,scale:c,property:h,clip:d}),t.restore(),t.save(),w3(t,n,o.right),m=a)),P1(t,{line:r,target:n,color:m,scale:c,property:h,clip:d}),t.restore()}function v3(t,e,r){const{segments:n,points:a}=e;let i=!0,o=!1;t.beginPath();for(const c of n){const{start:d,end:h}=c,m=a[d],f=a[Ny(d,h,a)];i?(t.moveTo(m.x,m.y),i=!1):(t.lineTo(m.x,r),t.lineTo(m.x,m.y)),o=!!e.pathSegment(t,c,{move:o}),o?t.closePath():t.lineTo(f.x,r)}t.lineTo(e.first().x,r),t.closePath(),t.clip()}function w3(t,e,r){const{segments:n,points:a}=e;let i=!0,o=!1;t.beginPath();for(const c of n){const{start:d,end:h}=c,m=a[d],f=a[Ny(d,h,a)];i?(t.moveTo(m.x,m.y),i=!1):(t.lineTo(r,m.y),t.lineTo(m.x,m.y)),o=!!e.pathSegment(t,c,{move:o}),o?t.closePath():t.lineTo(r,f.y)}t.lineTo(r,e.first().y),t.closePath(),t.clip()}function P1(t,e){const{line:r,target:n,property:a,color:i,scale:o,clip:c}=e,d=age(r,n,a);for(const{source:h,target:m,start:f,end:g}of d){const{style:{backgroundColor:y=i}={}}=h,v=n!==!0;t.save(),t.fillStyle=y,_ge(t,o,c,v&&oN(a,f,g)),t.beginPath();const w=!!r.pathSegment(t,h);let j;if(v){w?t.closePath():j3(t,n,g,a);const b=!!n.pathSegment(t,m,{move:w,reverse:!0});j=w&&b,j||j3(t,n,f,a)}t.closePath(),t.fill(j?"evenodd":"nonzero"),t.restore()}}function _ge(t,e,r,n){const a=e.chart.chartArea,{property:i,start:o,end:c}=n||{};if(i==="x"||i==="y"){let d,h,m,f;i==="x"?(d=o,h=a.top,m=c,f=a.bottom):(d=a.left,h=o,m=a.right,f=c),t.beginPath(),r&&(d=Math.max(d,r.left),m=Math.min(m,r.right),h=Math.max(h,r.top),f=Math.min(f,r.bottom)),t.rect(d,h,m-d,f-h),t.clip()}}function j3(t,e,r,n){const a=e.interpolate(r,n);a&&t.lineTo(a.x,a.y)}var Nge={id:"filler",afterDatasetsUpdate(t,e,r){const n=(t.data.datasets||[]).length,a=[];let i,o,c,d;for(o=0;o<n;++o)i=t.getDatasetMeta(o),c=i.dataset,d=null,c&&c.options&&c instanceof _y&&(d={visible:t.isDatasetVisible(o),index:o,fill:lge(c,o,n),chart:t,axis:i.controller.options.indexAxis,scale:i.vScale,line:c}),i.$filler=d,a.push(d);for(o=0;o<n;++o)d=a[o],!(!d||d.fill===!1)&&(d.fill=oge(a,o,r.propagate))},beforeDraw(t,e,r){const n=r.drawTime==="beforeDraw",a=t.getSortedVisibleDatasetMetas(),i=t.chartArea;for(let o=a.length-1;o>=0;--o){const c=a[o].$filler;c&&(c.line.updateControlPoints(i,c.axis),n&&c.fill&&M1(t.ctx,c,i))}},beforeDatasetsDraw(t,e,r){if(r.drawTime!=="beforeDatasetsDraw")return;const n=t.getSortedVisibleDatasetMetas();for(let a=n.length-1;a>=0;--a){const i=n[a].$filler;b3(i)&&M1(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,e,r){const n=e.meta.$filler;!b3(n)||r.drawTime!=="beforeDatasetDraw"||M1(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const _3=(t,e)=>{let{boxHeight:r=e,boxWidth:n=e}=t;return t.usePointStyle&&(r=Math.min(r,e),n=t.pointStyleWidth||Math.min(n,e)),{boxWidth:n,boxHeight:r,itemHeight:Math.max(e,r)}},Sge=(t,e)=>t!==null&&e!==null&&t.datasetIndex===e.datasetIndex&&t.index===e.index;class N3 extends Xo{constructor(e){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r,n){this.maxWidth=e,this.maxHeight=r,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const e=this.options.labels||{};let r=Ys(e.generateLabels,[this.chart],this)||[];e.filter&&(r=r.filter(n=>e.filter(n,this.chart.data))),e.sort&&(r=r.sort((n,a)=>e.sort(n,a,this.chart.data))),this.options.reverse&&r.reverse(),this.legendItems=r}fit(){const{options:e,ctx:r}=this;if(!e.display){this.width=this.height=0;return}const n=e.labels,a=Yr(n.font),i=a.size,o=this._computeTitleHeight(),{boxWidth:c,itemHeight:d}=_3(n,i);let h,m;r.font=a.string,this.isHorizontal()?(h=this.maxWidth,m=this._fitRows(o,i,c,d)+10):(m=this.maxHeight,h=this._fitCols(o,a,c,d)+10),this.width=Math.min(h,e.maxWidth||this.maxWidth),this.height=Math.min(m,e.maxHeight||this.maxHeight)}_fitRows(e,r,n,a){const{ctx:i,maxWidth:o,options:{labels:{padding:c}}}=this,d=this.legendHitBoxes=[],h=this.lineWidths=[0],m=a+c;let f=e;i.textAlign="left",i.textBaseline="middle";let g=-1,y=-m;return this.legendItems.forEach((v,w)=>{const j=n+r/2+i.measureText(v.text).width;(w===0||h[h.length-1]+j+2*c>o)&&(f+=m,h[h.length-(w>0?0:1)]=0,y+=m,g++),d[w]={left:0,top:y,row:g,width:j,height:a},h[h.length-1]+=j+c}),f}_fitCols(e,r,n,a){const{ctx:i,maxHeight:o,options:{labels:{padding:c}}}=this,d=this.legendHitBoxes=[],h=this.columnSizes=[],m=o-e;let f=c,g=0,y=0,v=0,w=0;return this.legendItems.forEach((j,b)=>{const{itemWidth:N,itemHeight:k}=Cge(n,r,i,j,a);b>0&&y+k+2*c>m&&(f+=g+c,h.push({width:g,height:y}),v+=g+c,w++,g=y=0),d[b]={left:v,top:y,col:w,width:N,height:k},g=Math.max(g,N),y+=k+c}),f+=g,h.push({width:g,height:y}),f}adjustHitBoxes(){if(!this.options.display)return;const e=this._computeTitleHeight(),{legendHitBoxes:r,options:{align:n,labels:{padding:a},rtl:i}}=this,o=Vu(i,this.left,this.width);if(this.isHorizontal()){let c=0,d=hn(n,this.left+a,this.right-this.lineWidths[c]);for(const h of r)c!==h.row&&(c=h.row,d=hn(n,this.left+a,this.right-this.lineWidths[c])),h.top+=this.top+e+a,h.left=o.leftForLtr(o.x(d),h.width),d+=h.width+a}else{let c=0,d=hn(n,this.top+e+a,this.bottom-this.columnSizes[c].height);for(const h of r)h.col!==c&&(c=h.col,d=hn(n,this.top+e+a,this.bottom-this.columnSizes[c].height)),h.top=d,h.left+=this.left+a,h.left=o.leftForLtr(o.x(h.left),h.width),d+=h.height+a}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const e=this.ctx;by(e,this),this._draw(),vy(e)}}_draw(){const{options:e,columnSizes:r,lineWidths:n,ctx:a}=this,{align:i,labels:o}=e,c=or.color,d=Vu(e.rtl,this.left,this.width),h=Yr(o.font),{padding:m}=o,f=h.size,g=f/2;let y;this.drawTitle(),a.textAlign=d.textAlign("left"),a.textBaseline="middle",a.lineWidth=.5,a.font=h.string;const{boxWidth:v,boxHeight:w,itemHeight:j}=_3(o,f),b=function(B,E,z){if(isNaN(v)||v<=0||isNaN(w)||w<0)return;a.save();const T=Yt(z.lineWidth,1);if(a.fillStyle=Yt(z.fillStyle,c),a.lineCap=Yt(z.lineCap,"butt"),a.lineDashOffset=Yt(z.lineDashOffset,0),a.lineJoin=Yt(z.lineJoin,"miter"),a.lineWidth=T,a.strokeStyle=Yt(z.strokeStyle,c),a.setLineDash(Yt(z.lineDash,[])),o.usePointStyle){const W={radius:w*Math.SQRT2/2,pointStyle:z.pointStyle,rotation:z.rotation,borderWidth:T},U=d.xPlus(B,v/2),L=E+g;dB(a,W,U,L,o.pointStyleWidth&&v)}else{const W=E+Math.max((f-w)/2,0),U=d.leftForLtr(B,v),L=gd(z.borderRadius);a.beginPath(),Object.values(L).some(Z=>Z!==0)?Sm(a,{x:U,y:W,w:v,h:w,radius:L}):a.rect(U,W,v,w),a.fill(),T!==0&&a.stroke()}a.restore()},N=function(B,E,z){Ad(a,z.text,B,E+j/2,h,{strikethrough:z.hidden,textAlign:d.textAlign(z.textAlign)})},k=this.isHorizontal(),S=this._computeTitleHeight();k?y={x:hn(i,this.left+m,this.right-n[0]),y:this.top+m+S,line:0}:y={x:this.left+m,y:hn(i,this.top+S+m,this.bottom-r[0].height),line:0},yB(this.ctx,e.textDirection);const C=j+m;this.legendItems.forEach((B,E)=>{a.strokeStyle=B.fontColor,a.fillStyle=B.fontColor;const z=a.measureText(B.text).width,T=d.textAlign(B.textAlign||(B.textAlign=o.textAlign)),W=v+g+z;let U=y.x,L=y.y;d.setWidth(this.width),k?E>0&&U+W+m>this.right&&(L=y.y+=C,y.line++,U=y.x=hn(i,this.left+m,this.right-n[y.line])):E>0&&L+C>this.bottom&&(U=y.x=U+r[y.line].width+m,y.line++,L=y.y=hn(i,this.top+S+m,this.bottom-r[y.line].height));const Z=d.x(U);if(b(Z,L,B),U=Lhe(T,U+v+g,k?U+W:this.right,e.rtl),N(d.x(U),L,B),k)y.x+=W+m;else if(typeof B.text!="string"){const O=h.lineHeight;y.y+=qB(B,O)+m}else y.y+=C}),bB(this.ctx,e.textDirection)}drawTitle(){const e=this.options,r=e.title,n=Yr(r.font),a=vn(r.padding);if(!r.display)return;const i=Vu(e.rtl,this.left,this.width),o=this.ctx,c=r.position,d=n.size/2,h=a.top+d;let m,f=this.left,g=this.width;if(this.isHorizontal())g=Math.max(...this.lineWidths),m=this.top+h,f=hn(e.align,f,this.right-g);else{const v=this.columnSizes.reduce((w,j)=>Math.max(w,j.height),0);m=h+hn(e.align,this.top,this.bottom-v-e.labels.padding-this._computeTitleHeight())}const y=hn(c,f,f+g);o.textAlign=i.textAlign(dS(c)),o.textBaseline="middle",o.strokeStyle=r.color,o.fillStyle=r.color,o.font=n.string,Ad(o,r.text,y,m,n)}_computeTitleHeight(){const e=this.options.title,r=Yr(e.font),n=vn(e.padding);return e.display?r.lineHeight+n.height:0}_getLegendItemAt(e,r){let n,a,i;if(Po(e,this.left,this.right)&&Po(r,this.top,this.bottom)){for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(a=i[n],Po(e,a.left,a.left+a.width)&&Po(r,a.top,a.top+a.height))return this.legendItems[n]}return null}handleEvent(e){const r=this.options;if(!Ege(e.type,r))return;const n=this._getLegendItemAt(e.x,e.y);if(e.type==="mousemove"||e.type==="mouseout"){const a=this._hoveredItem,i=Sge(a,n);a&&!i&&Ys(r.onLeave,[e,a,this],this),this._hoveredItem=n,n&&!i&&Ys(r.onHover,[e,n,this],this)}else n&&Ys(r.onClick,[e,n,this],this)}}function Cge(t,e,r,n,a){const i=kge(n,t,e,r),o=Age(a,n,e.lineHeight);return{itemWidth:i,itemHeight:o}}function kge(t,e,r,n){let a=t.text;return a&&typeof a!="string"&&(a=a.reduce((i,o)=>i.length>o.length?i:o)),e+r.size/2+n.measureText(a).width}function Age(t,e,r){let n=t;return typeof e.text!="string"&&(n=qB(e,r)),n}function qB(t,e){const r=t.text?t.text.length:0;return e*r}function Ege(t,e){return!!((t==="mousemove"||t==="mouseout")&&(e.onHover||e.onLeave)||e.onClick&&(t==="click"||t==="mouseup"))}var Tge={id:"legend",_element:N3,start(t,e,r){const n=t.legend=new N3({ctx:t.ctx,options:r,chart:t});xn.configure(t,n,r),xn.addBox(t,n)},stop(t){xn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,e,r){const n=t.legend;xn.configure(t,n,r),n.options=r},afterUpdate(t){const e=t.legend;e.buildLabels(),e.adjustHitBoxes()},afterEvent(t,e){e.replay||t.legend.handleEvent(e.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,e,r){const n=e.datasetIndex,a=r.chart;a.isDatasetVisible(n)?(a.hide(n),e.hidden=!0):(a.show(n),e.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const e=t.data.datasets,{labels:{usePointStyle:r,pointStyle:n,textAlign:a,color:i,useBorderRadius:o,borderRadius:c}}=t.legend.options;return t._getSortedDatasetMetas().map(d=>{const h=d.controller.getStyle(r?0:void 0),m=vn(h.borderWidth);return{text:e[d.index].label,fillStyle:h.backgroundColor,fontColor:i,hidden:!d.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(m.width+m.height)/4,strokeStyle:h.borderColor,pointStyle:n||h.pointStyle,rotation:h.rotation,textAlign:a||h.textAlign,borderRadius:o&&(c||h.borderRadius),datasetIndex:d.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class vS extends Xo{constructor(e){super(),this.chart=e.chart,this.options=e.options,this.ctx=e.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(e,r){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=e,this.height=this.bottom=r;const a=rr(n.text)?n.text.length:1;this._padding=vn(n.padding);const i=a*Yr(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const e=this.options.position;return e==="top"||e==="bottom"}_drawArgs(e){const{top:r,left:n,bottom:a,right:i,options:o}=this,c=o.align;let d=0,h,m,f;return this.isHorizontal()?(m=hn(c,n,i),f=r+e,h=i-n):(o.position==="left"?(m=n+e,f=hn(c,a,r),d=Ns*-.5):(m=i-e,f=hn(c,r,a),d=Ns*.5),h=a-r),{titleX:m,titleY:f,maxWidth:h,rotation:d}}draw(){const e=this.ctx,r=this.options;if(!r.display)return;const n=Yr(r.font),i=n.lineHeight/2+this._padding.top,{titleX:o,titleY:c,maxWidth:d,rotation:h}=this._drawArgs(i);Ad(e,r.text,0,0,n,{color:r.color,maxWidth:d,rotation:h,textAlign:dS(r.align),textBaseline:"middle",translation:[o,c]})}}function Rge(t,e){const r=new vS({ctx:t.ctx,options:e,chart:t});xn.configure(t,r,e),xn.addBox(t,r),t.titleBlock=r}var Dge={id:"title",_element:vS,start(t,e,r){Rge(t,r)},stop(t){const e=t.titleBlock;xn.removeBox(t,e),delete t.titleBlock},beforeUpdate(t,e,r){const n=t.titleBlock;xn.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const lx=new WeakMap;var Mge={id:"subtitle",start(t,e,r){const n=new vS({ctx:t.ctx,options:r,chart:t});xn.configure(t,n,r),xn.addBox(t,n),lx.set(t,n)},stop(t){xn.removeBox(t,lx.get(t)),lx.delete(t)},beforeUpdate(t,e,r){const n=lx.get(t);xn.configure(t,n,r),n.options=r},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Kf={average(t){if(!t.length)return!1;let e,r,n=new Set,a=0,i=0;for(e=0,r=t.length;e<r;++e){const c=t[e].element;if(c&&c.hasValue()){const d=c.tooltipPosition();n.add(d.x),a+=d.y,++i}}return i===0||n.size===0?!1:{x:[...n].reduce((c,d)=>c+d)/n.size,y:a/i}},nearest(t,e){if(!t.length)return!1;let r=e.x,n=e.y,a=Number.POSITIVE_INFINITY,i,o,c;for(i=0,o=t.length;i<o;++i){const d=t[i].element;if(d&&d.hasValue()){const h=d.getCenterPoint(),m=eN(e,h);m<a&&(a=m,c=d)}}if(c){const d=c.tooltipPosition();r=d.x,n=d.y}return{x:r,y:n}}};function Ri(t,e){return e&&(rr(e)?Array.prototype.push.apply(t,e):t.push(e)),t}function Ro(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function Pge(t,e){const{element:r,datasetIndex:n,index:a}=e,i=t.getDatasetMeta(n).controller,{label:o,value:c}=i.getLabelAndValue(a);return{chart:t,label:o,parsed:i.getParsed(a),raw:t.data.datasets[n].data[a],formattedValue:c,dataset:i.getDataset(),dataIndex:a,datasetIndex:n,element:r}}function S3(t,e){const r=t.chart.ctx,{body:n,footer:a,title:i}=t,{boxWidth:o,boxHeight:c}=e,d=Yr(e.bodyFont),h=Yr(e.titleFont),m=Yr(e.footerFont),f=i.length,g=a.length,y=n.length,v=vn(e.padding);let w=v.height,j=0,b=n.reduce((S,C)=>S+C.before.length+C.lines.length+C.after.length,0);if(b+=t.beforeBody.length+t.afterBody.length,f&&(w+=f*h.lineHeight+(f-1)*e.titleSpacing+e.titleMarginBottom),b){const S=e.displayColors?Math.max(c,d.lineHeight):d.lineHeight;w+=y*S+(b-y)*d.lineHeight+(b-1)*e.bodySpacing}g&&(w+=e.footerMarginTop+g*m.lineHeight+(g-1)*e.footerSpacing);let N=0;const k=function(S){j=Math.max(j,r.measureText(S).width+N)};return r.save(),r.font=h.string,Ms(t.title,k),r.font=d.string,Ms(t.beforeBody.concat(t.afterBody),k),N=e.displayColors?o+2+e.boxPadding:0,Ms(n,S=>{Ms(S.before,k),Ms(S.lines,k),Ms(S.after,k)}),N=0,r.font=m.string,Ms(t.footer,k),r.restore(),j+=v.width,{width:j,height:w}}function Oge(t,e){const{y:r,height:n}=e;return r<n/2?"top":r>t.height-n/2?"bottom":"center"}function Lge(t,e,r,n){const{x:a,width:i}=n,o=r.caretSize+r.caretPadding;if(t==="left"&&a+i+o>e.width||t==="right"&&a-i-o<0)return!0}function Fge(t,e,r,n){const{x:a,width:i}=r,{width:o,chartArea:{left:c,right:d}}=t;let h="center";return n==="center"?h=a<=(c+d)/2?"left":"right":a<=i/2?h="left":a>=o-i/2&&(h="right"),Lge(h,t,e,r)&&(h="center"),h}function C3(t,e,r){const n=r.yAlign||e.yAlign||Oge(t,r);return{xAlign:r.xAlign||e.xAlign||Fge(t,e,r,n),yAlign:n}}function Bge(t,e){let{x:r,width:n}=t;return e==="right"?r-=n:e==="center"&&(r-=n/2),r}function Ige(t,e,r){let{y:n,height:a}=t;return e==="top"?n+=r:e==="bottom"?n-=a+r:n-=a/2,n}function k3(t,e,r,n){const{caretSize:a,caretPadding:i,cornerRadius:o}=t,{xAlign:c,yAlign:d}=r,h=a+i,{topLeft:m,topRight:f,bottomLeft:g,bottomRight:y}=gd(o);let v=Bge(e,c);const w=Ige(e,d,h);return d==="center"?c==="left"?v+=h:c==="right"&&(v-=h):c==="left"?v-=Math.max(m,g)+a:c==="right"&&(v+=Math.max(f,y)+a),{x:tn(v,0,n.width-e.width),y:tn(w,0,n.height-e.height)}}function cx(t,e,r){const n=vn(r.padding);return e==="center"?t.x+t.width/2:e==="right"?t.x+t.width-n.right:t.x+n.left}function A3(t){return Ri([],Ro(t))}function zge(t,e,r){return uc(t,{tooltip:e,tooltipItems:r,type:"tooltip"})}function E3(t,e){const r=e&&e.dataset&&e.dataset.tooltip&&e.dataset.tooltip.callbacks;return r?t.override(r):t}const WB={beforeTitle:Ao,title(t){if(t.length>0){const e=t[0],r=e.chart.data.labels,n=r?r.length:0;if(this&&this.options&&this.options.mode==="dataset")return e.dataset.label||"";if(e.label)return e.label;if(n>0&&e.dataIndex<n)return r[e.dataIndex]}return""},afterTitle:Ao,beforeBody:Ao,beforeLabel:Ao,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let e=t.dataset.label||"";e&&(e+=": ");const r=t.formattedValue;return ns(r)||(e+=r),e},labelColor(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:r.borderColor,backgroundColor:r.backgroundColor,borderWidth:r.borderWidth,borderDash:r.borderDash,borderDashOffset:r.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const r=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:r.pointStyle,rotation:r.rotation}},afterLabel:Ao,afterBody:Ao,beforeFooter:Ao,footer:Ao,afterFooter:Ao};function Vn(t,e,r,n){const a=t[e].call(r,n);return typeof a>"u"?WB[e].call(r,n):a}class T3 extends Xo{static positioners=Kf;constructor(e){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=e.chart,this.options=e.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(e){this.options=e,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const e=this._cachedAnimations;if(e)return e;const r=this.chart,n=this.options.setContext(this.getContext()),a=n.enabled&&r.options.animation&&n.animations,i=new NB(this.chart,a);return a._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=zge(this.chart.getContext(),this,this._tooltipItems))}getTitle(e,r){const{callbacks:n}=r,a=Vn(n,"beforeTitle",this,e),i=Vn(n,"title",this,e),o=Vn(n,"afterTitle",this,e);let c=[];return c=Ri(c,Ro(a)),c=Ri(c,Ro(i)),c=Ri(c,Ro(o)),c}getBeforeBody(e,r){return A3(Vn(r.callbacks,"beforeBody",this,e))}getBody(e,r){const{callbacks:n}=r,a=[];return Ms(e,i=>{const o={before:[],lines:[],after:[]},c=E3(n,i);Ri(o.before,Ro(Vn(c,"beforeLabel",this,i))),Ri(o.lines,Vn(c,"label",this,i)),Ri(o.after,Ro(Vn(c,"afterLabel",this,i))),a.push(o)}),a}getAfterBody(e,r){return A3(Vn(r.callbacks,"afterBody",this,e))}getFooter(e,r){const{callbacks:n}=r,a=Vn(n,"beforeFooter",this,e),i=Vn(n,"footer",this,e),o=Vn(n,"afterFooter",this,e);let c=[];return c=Ri(c,Ro(a)),c=Ri(c,Ro(i)),c=Ri(c,Ro(o)),c}_createItems(e){const r=this._active,n=this.chart.data,a=[],i=[],o=[];let c=[],d,h;for(d=0,h=r.length;d<h;++d)c.push(Pge(this.chart,r[d]));return e.filter&&(c=c.filter((m,f,g)=>e.filter(m,f,g,n))),e.itemSort&&(c=c.sort((m,f)=>e.itemSort(m,f,n))),Ms(c,m=>{const f=E3(e.callbacks,m);a.push(Vn(f,"labelColor",this,m)),i.push(Vn(f,"labelPointStyle",this,m)),o.push(Vn(f,"labelTextColor",this,m))}),this.labelColors=a,this.labelPointStyles=i,this.labelTextColors=o,this.dataPoints=c,c}update(e,r){const n=this.options.setContext(this.getContext()),a=this._active;let i,o=[];if(!a.length)this.opacity!==0&&(i={opacity:0});else{const c=Kf[n.position].call(this,a,this._eventPosition);o=this._createItems(n),this.title=this.getTitle(o,n),this.beforeBody=this.getBeforeBody(o,n),this.body=this.getBody(o,n),this.afterBody=this.getAfterBody(o,n),this.footer=this.getFooter(o,n);const d=this._size=S3(this,n),h=Object.assign({},c,d),m=C3(this.chart,n,h),f=k3(n,h,m,this.chart);this.xAlign=m.xAlign,this.yAlign=m.yAlign,i={opacity:1,x:f.x,y:f.y,width:d.width,height:d.height,caretX:c.x,caretY:c.y}}this._tooltipItems=o,this.$context=void 0,i&&this._resolveAnimations().update(this,i),e&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:r})}drawCaret(e,r,n,a){const i=this.getCaretPosition(e,n,a);r.lineTo(i.x1,i.y1),r.lineTo(i.x2,i.y2),r.lineTo(i.x3,i.y3)}getCaretPosition(e,r,n){const{xAlign:a,yAlign:i}=this,{caretSize:o,cornerRadius:c}=n,{topLeft:d,topRight:h,bottomLeft:m,bottomRight:f}=gd(c),{x:g,y}=e,{width:v,height:w}=r;let j,b,N,k,S,C;return i==="center"?(S=y+w/2,a==="left"?(j=g,b=j-o,k=S+o,C=S-o):(j=g+v,b=j+o,k=S-o,C=S+o),N=j):(a==="left"?b=g+Math.max(d,m)+o:a==="right"?b=g+v-Math.max(h,f)-o:b=this.caretX,i==="top"?(k=y,S=k-o,j=b-o,N=b+o):(k=y+w,S=k+o,j=b+o,N=b-o),C=k),{x1:j,x2:b,x3:N,y1:k,y2:S,y3:C}}drawTitle(e,r,n){const a=this.title,i=a.length;let o,c,d;if(i){const h=Vu(n.rtl,this.x,this.width);for(e.x=cx(this,n.titleAlign,n),r.textAlign=h.textAlign(n.titleAlign),r.textBaseline="middle",o=Yr(n.titleFont),c=n.titleSpacing,r.fillStyle=n.titleColor,r.font=o.string,d=0;d<i;++d)r.fillText(a[d],h.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+c,d+1===i&&(e.y+=n.titleMarginBottom-c)}}_drawColorBox(e,r,n,a,i){const o=this.labelColors[n],c=this.labelPointStyles[n],{boxHeight:d,boxWidth:h}=i,m=Yr(i.bodyFont),f=cx(this,"left",i),g=a.x(f),y=d<m.lineHeight?(m.lineHeight-d)/2:0,v=r.y+y;if(i.usePointStyle){const w={radius:Math.min(h,d)/2,pointStyle:c.pointStyle,rotation:c.rotation,borderWidth:1},j=a.leftForLtr(g,h)+h/2,b=v+d/2;e.strokeStyle=i.multiKeyBackground,e.fillStyle=i.multiKeyBackground,sN(e,w,j,b),e.strokeStyle=o.borderColor,e.fillStyle=o.backgroundColor,sN(e,w,j,b)}else{e.lineWidth=cs(o.borderWidth)?Math.max(...Object.values(o.borderWidth)):o.borderWidth||1,e.strokeStyle=o.borderColor,e.setLineDash(o.borderDash||[]),e.lineDashOffset=o.borderDashOffset||0;const w=a.leftForLtr(g,h),j=a.leftForLtr(a.xPlus(g,1),h-2),b=gd(o.borderRadius);Object.values(b).some(N=>N!==0)?(e.beginPath(),e.fillStyle=i.multiKeyBackground,Sm(e,{x:w,y:v,w:h,h:d,radius:b}),e.fill(),e.stroke(),e.fillStyle=o.backgroundColor,e.beginPath(),Sm(e,{x:j,y:v+1,w:h-2,h:d-2,radius:b}),e.fill()):(e.fillStyle=i.multiKeyBackground,e.fillRect(w,v,h,d),e.strokeRect(w,v,h,d),e.fillStyle=o.backgroundColor,e.fillRect(j,v+1,h-2,d-2))}e.fillStyle=this.labelTextColors[n]}drawBody(e,r,n){const{body:a}=this,{bodySpacing:i,bodyAlign:o,displayColors:c,boxHeight:d,boxWidth:h,boxPadding:m}=n,f=Yr(n.bodyFont);let g=f.lineHeight,y=0;const v=Vu(n.rtl,this.x,this.width),w=function(z){r.fillText(z,v.x(e.x+y),e.y+g/2),e.y+=g+i},j=v.textAlign(o);let b,N,k,S,C,B,E;for(r.textAlign=o,r.textBaseline="middle",r.font=f.string,e.x=cx(this,j,n),r.fillStyle=n.bodyColor,Ms(this.beforeBody,w),y=c&&j!=="right"?o==="center"?h/2+m:h+2+m:0,S=0,B=a.length;S<B;++S){for(b=a[S],N=this.labelTextColors[S],r.fillStyle=N,Ms(b.before,w),k=b.lines,c&&k.length&&(this._drawColorBox(r,e,S,v,n),g=Math.max(f.lineHeight,d)),C=0,E=k.length;C<E;++C)w(k[C]),g=f.lineHeight;Ms(b.after,w)}y=0,g=f.lineHeight,Ms(this.afterBody,w),e.y-=i}drawFooter(e,r,n){const a=this.footer,i=a.length;let o,c;if(i){const d=Vu(n.rtl,this.x,this.width);for(e.x=cx(this,n.footerAlign,n),e.y+=n.footerMarginTop,r.textAlign=d.textAlign(n.footerAlign),r.textBaseline="middle",o=Yr(n.footerFont),r.fillStyle=n.footerColor,r.font=o.string,c=0;c<i;++c)r.fillText(a[c],d.x(e.x),e.y+o.lineHeight/2),e.y+=o.lineHeight+n.footerSpacing}}drawBackground(e,r,n,a){const{xAlign:i,yAlign:o}=this,{x:c,y:d}=e,{width:h,height:m}=n,{topLeft:f,topRight:g,bottomLeft:y,bottomRight:v}=gd(a.cornerRadius);r.fillStyle=a.backgroundColor,r.strokeStyle=a.borderColor,r.lineWidth=a.borderWidth,r.beginPath(),r.moveTo(c+f,d),o==="top"&&this.drawCaret(e,r,n,a),r.lineTo(c+h-g,d),r.quadraticCurveTo(c+h,d,c+h,d+g),o==="center"&&i==="right"&&this.drawCaret(e,r,n,a),r.lineTo(c+h,d+m-v),r.quadraticCurveTo(c+h,d+m,c+h-v,d+m),o==="bottom"&&this.drawCaret(e,r,n,a),r.lineTo(c+y,d+m),r.quadraticCurveTo(c,d+m,c,d+m-y),o==="center"&&i==="left"&&this.drawCaret(e,r,n,a),r.lineTo(c,d+f),r.quadraticCurveTo(c,d,c+f,d),r.closePath(),r.fill(),a.borderWidth>0&&r.stroke()}_updateAnimationTarget(e){const r=this.chart,n=this.$animations,a=n&&n.x,i=n&&n.y;if(a||i){const o=Kf[e.position].call(this,this._active,this._eventPosition);if(!o)return;const c=this._size=S3(this,e),d=Object.assign({},o,this._size),h=C3(r,e,d),m=k3(e,d,h,r);(a._to!==m.x||i._to!==m.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=c.width,this.height=c.height,this.caretX=o.x,this.caretY=o.y,this._resolveAnimations().update(this,m))}}_willRender(){return!!this.opacity}draw(e){const r=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(r);const a={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const o=vn(r.padding),c=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;r.enabled&&c&&(e.save(),e.globalAlpha=n,this.drawBackground(i,e,a,r),yB(e,r.textDirection),i.y+=o.top,this.drawTitle(i,e,r),this.drawBody(i,e,r),this.drawFooter(i,e,r),bB(e,r.textDirection),e.restore())}getActiveElements(){return this._active||[]}setActiveElements(e,r){const n=this._active,a=e.map(({datasetIndex:c,index:d})=>{const h=this.chart.getDatasetMeta(c);if(!h)throw new Error("Cannot find a dataset at index "+c);return{datasetIndex:c,element:h.data[d],index:d}}),i=!m0(n,a),o=this._positionChanged(a,r);(i||o)&&(this._active=a,this._eventPosition=r,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(e,r,n=!0){if(r&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const a=this.options,i=this._active||[],o=this._getActiveElements(e,i,r,n),c=this._positionChanged(o,e),d=r||!m0(o,i)||c;return d&&(this._active=o,(a.enabled||a.external)&&(this._eventPosition={x:e.x,y:e.y},this.update(!0,r))),d}_getActiveElements(e,r,n,a){const i=this.options;if(e.type==="mouseout")return[];if(!a)return r.filter(c=>this.chart.data.datasets[c.datasetIndex]&&this.chart.getDatasetMeta(c.datasetIndex).controller.getParsed(c.index)!==void 0);const o=this.chart.getElementsAtEventForMode(e,i.mode,i,n);return i.reverse&&o.reverse(),o}_positionChanged(e,r){const{caretX:n,caretY:a,options:i}=this,o=Kf[i.position].call(this,e,r);return o!==!1&&(n!==o.x||a!==o.y)}}var Uge={id:"tooltip",_element:T3,positioners:Kf,afterInit(t,e,r){r&&(t.tooltip=new T3({chart:t,options:r}))},beforeUpdate(t,e,r){t.tooltip&&t.tooltip.initialize(r)},reset(t,e,r){t.tooltip&&t.tooltip.initialize(r)},afterDraw(t){const e=t.tooltip;if(e&&e._willRender()){const r={tooltip:e};if(t.notifyPlugins("beforeTooltipDraw",{...r,cancelable:!0})===!1)return;e.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",r)}},afterEvent(t,e){if(t.tooltip){const r=e.replay;t.tooltip.handleEvent(e.event,r,e.inChartArea)&&(e.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,e)=>e.bodyFont.size,boxWidth:(t,e)=>e.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:WB},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},$ge=Object.freeze({__proto__:null,Colors:ege,Decimation:nge,Filler:Nge,Legend:Tge,SubTitle:Mge,Title:Dge,Tooltip:Uge});const Vge=(t,e,r,n)=>(typeof e=="string"?(r=t.push(e)-1,n.unshift({index:r,label:e})):isNaN(e)&&(r=null),r);function Hge(t,e,r,n){const a=t.indexOf(e);if(a===-1)return Vge(t,e,r,n);const i=t.lastIndexOf(e);return a!==i?r:a}const qge=(t,e)=>t===null?null:tn(Math.round(t),0,e);function R3(t){const e=this.getLabels();return t>=0&&t<e.length?e[t]:t}class Wge extends Rd{static id="category";static defaults={ticks:{callback:R3}};constructor(e){super(e),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(e){const r=this._addedLabels;if(r.length){const n=this.getLabels();for(const{index:a,label:i}of r)n[a]===i&&n.splice(a,1);this._addedLabels=[]}super.init(e)}parse(e,r){if(ns(e))return null;const n=this.getLabels();return r=isFinite(r)&&n[r]===e?r:Hge(n,e,Yt(r,e),this._addedLabels),qge(r,n.length-1)}determineDataLimits(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let{min:n,max:a}=this.getMinMax(!0);this.options.bounds==="ticks"&&(e||(n=0),r||(a=this.getLabels().length-1)),this.min=n,this.max=a}buildTicks(){const e=this.min,r=this.max,n=this.options.offset,a=[];let i=this.getLabels();i=e===0&&r===i.length-1?i:i.slice(e,r+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let o=e;o<=r;o++)a.push({value:o});return a}getLabelForValue(e){return R3.call(this,e)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(e){return typeof e!="number"&&(e=this.parse(e)),e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getPixelForTick(e){const r=this.ticks;return e<0||e>r.length-1?null:this.getPixelForValue(r[e].value)}getValueForPixel(e){return Math.round(this._startValue+this.getDecimalForPixel(e)*this._valueRange)}getBasePixel(){return this.bottom}}function Gge(t,e){const r=[],{bounds:a,step:i,min:o,max:c,precision:d,count:h,maxTicks:m,maxDigits:f,includeBounds:g}=t,y=i||1,v=m-1,{min:w,max:j}=e,b=!ns(o),N=!ns(c),k=!ns(h),S=(j-w)/(f+1);let C=SD((j-w)/v/y)*y,B,E,z,T;if(C<1e-14&&!b&&!N)return[{value:w},{value:j}];T=Math.ceil(j/C)-Math.floor(w/C),T>v&&(C=SD(T*C/v/y)*y),ns(d)||(B=Math.pow(10,d),C=Math.ceil(C*B)/B),a==="ticks"?(E=Math.floor(w/C)*C,z=Math.ceil(j/C)*C):(E=w,z=j),b&&N&&i&&Ehe((c-o)/i,C/1e3)?(T=Math.round(Math.min((c-o)/C,m)),C=(c-o)/T,E=o,z=c):k?(E=b?o:E,z=N?c:z,T=h-1,C=(z-E)/T):(T=(z-E)/C,am(T,Math.round(T),C/1e3)?T=Math.round(T):T=Math.ceil(T));const W=Math.max(CD(C),CD(E));B=Math.pow(10,ns(d)?W:d),E=Math.round(E*B)/B,z=Math.round(z*B)/B;let U=0;for(b&&(g&&E!==o?(r.push({value:o}),E<o&&U++,am(Math.round((E+U*C)*B)/B,o,D3(o,S,t))&&U++):E<o&&U++);U<T;++U){const L=Math.round((E+U*C)*B)/B;if(N&&L>c)break;r.push({value:L})}return N&&g&&z!==c?r.length&&am(r[r.length-1].value,c,D3(c,S,t))?r[r.length-1].value=c:r.push({value:c}):(!N||z===c)&&r.push({value:z}),r}function D3(t,e,{horizontal:r,minRotation:n}){const a=ci(n),i=(r?Math.sin(a):Math.cos(a))||.001,o=.75*e*(""+t).length;return Math.min(e/i,o)}class w0 extends Rd{constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(e,r){return ns(e)||(typeof e=="number"||e instanceof Number)&&!isFinite(+e)?null:+e}handleTickRangeOptions(){const{beginAtZero:e}=this.options,{minDefined:r,maxDefined:n}=this.getUserBounds();let{min:a,max:i}=this;const o=d=>a=r?a:d,c=d=>i=n?i:d;if(e){const d=Gi(a),h=Gi(i);d<0&&h<0?c(0):d>0&&h>0&&o(0)}if(a===i){let d=i===0?1:Math.abs(i*.05);c(i+d),e||o(a-d)}this.min=a,this.max=i}getTickLimit(){const e=this.options.ticks;let{maxTicksLimit:r,stepSize:n}=e,a;return n?(a=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,a>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${a} ticks. Limiting to 1000.`),a=1e3)):(a=this.computeTickLimit(),r=r||11),r&&(a=Math.min(r,a)),a}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const e=this.options,r=e.ticks;let n=this.getTickLimit();n=Math.max(2,n);const a={maxTicks:n,bounds:e.bounds,min:e.min,max:e.max,precision:r.precision,step:r.stepSize,count:r.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:r.minRotation||0,includeBounds:r.includeBounds!==!1},i=this._range||this,o=Gge(a,i);return e.bounds==="ticks"&&tB(o,this,"value"),e.reverse?(o.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),o}configure(){const e=this.ticks;let r=this.min,n=this.max;if(super.configure(),this.options.offset&&e.length){const a=(n-r)/Math.max(e.length-1,1)/2;r-=a,n+=a}this._startValue=r,this._endValue=n,this._valueRange=n-r}getLabelForValue(e){return tp(e,this.chart.options.locale,this.options.ticks.format)}}class Yge extends w0{static id="linear";static defaults={ticks:{callback:yy.formatters.numeric}};determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=br(e)?e:0,this.max=br(r)?r:1,this.handleTickRangeOptions()}computeTickLimit(){const e=this.isHorizontal(),r=e?this.width:this.height,n=ci(this.options.ticks.minRotation),a=(e?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(r/Math.min(40,i.lineHeight/a))}getPixelForValue(e){return e===null?NaN:this.getPixelForDecimal((e-this._startValue)/this._valueRange)}getValueForPixel(e){return this._startValue+this.getDecimalForPixel(e)*this._valueRange}}const km=t=>Math.floor(Vl(t)),Kc=(t,e)=>Math.pow(10,km(t)+e);function M3(t){return t/Math.pow(10,km(t))===1}function P3(t,e,r){const n=Math.pow(10,r),a=Math.floor(t/n);return Math.ceil(e/n)-a}function Kge(t,e){const r=e-t;let n=km(r);for(;P3(t,e,n)>10;)n++;for(;P3(t,e,n)<10;)n--;return Math.min(n,km(t))}function Xge(t,{min:e,max:r}){e=fa(t.min,e);const n=[],a=km(e);let i=Kge(e,r),o=i<0?Math.pow(10,Math.abs(i)):1;const c=Math.pow(10,i),d=a>i?Math.pow(10,a):0,h=Math.round((e-d)*o)/o,m=Math.floor((e-d)/c/10)*c*10;let f=Math.floor((h-m)/Math.pow(10,i)),g=fa(t.min,Math.round((d+m+f*Math.pow(10,i))*o)/o);for(;g<r;)n.push({value:g,major:M3(g),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(i++,f=2,o=i>=0?1:o),g=Math.round((d+m+f*Math.pow(10,i))*o)/o;const y=fa(t.max,g);return n.push({value:y,major:M3(y),significand:f}),n}class Zge extends Rd{static id="logarithmic";static defaults={ticks:{callback:yy.formatters.logarithmic,major:{enabled:!0}}};constructor(e){super(e),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(e,r){const n=w0.prototype.parse.apply(this,[e,r]);if(n===0){this._zero=!0;return}return br(n)&&n>0?n:null}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!0);this.min=br(e)?Math.max(0,e):null,this.max=br(r)?Math.max(0,r):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!br(this._userMin)&&(this.min=e===Kc(this.min,0)?Kc(this.min,-1):Kc(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:e,maxDefined:r}=this.getUserBounds();let n=this.min,a=this.max;const i=c=>n=e?n:c,o=c=>a=r?a:c;n===a&&(n<=0?(i(1),o(10)):(i(Kc(n,-1)),o(Kc(a,1)))),n<=0&&i(Kc(a,-1)),a<=0&&o(Kc(n,1)),this.min=n,this.max=a}buildTicks(){const e=this.options,r={min:this._userMin,max:this._userMax},n=Xge(r,this);return e.bounds==="ticks"&&tB(n,this,"value"),e.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(e){return e===void 0?"0":tp(e,this.chart.options.locale,this.options.ticks.format)}configure(){const e=this.min;super.configure(),this._startValue=Vl(e),this._valueRange=Vl(this.max)-Vl(e)}getPixelForValue(e){return(e===void 0||e===0)&&(e=this.min),e===null||isNaN(e)?NaN:this.getPixelForDecimal(e===this.min?0:(Vl(e)-this._startValue)/this._valueRange)}getValueForPixel(e){const r=this.getDecimalForPixel(e);return Math.pow(10,this._startValue+r*this._valueRange)}}function lN(t){const e=t.ticks;if(e.display&&t.display){const r=vn(e.backdropPadding);return Yt(e.font&&e.font.size,or.font.size)+r.height}return 0}function Qge(t,e,r){return r=rr(r)?r:[r],{w:Whe(t,e.string,r),h:r.length*e.lineHeight}}function O3(t,e,r,n,a){return t===n||t===a?{start:e-r/2,end:e+r/2}:t<n||t>a?{start:e-r,end:e}:{start:e,end:e+r}}function Jge(t){const e={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},r=Object.assign({},e),n=[],a=[],i=t._pointLabels.length,o=t.options.pointLabels,c=o.centerPointLabels?Ns/i:0;for(let d=0;d<i;d++){const h=o.setContext(t.getPointLabelContext(d));a[d]=h.padding;const m=t.getPointPosition(d,t.drawingArea+a[d],c),f=Yr(h.font),g=Qge(t.ctx,f,t._pointLabels[d]);n[d]=g;const y=fn(t.getIndexAngle(d)+c),v=Math.round(lS(y)),w=O3(v,m.x,g.w,0,180),j=O3(v,m.y,g.h,90,270);exe(r,e,y,w,j)}t.setCenterPoint(e.l-r.l,r.r-e.r,e.t-r.t,r.b-e.b),t._pointLabelItems=rxe(t,n,a)}function exe(t,e,r,n,a){const i=Math.abs(Math.sin(r)),o=Math.abs(Math.cos(r));let c=0,d=0;n.start<e.l?(c=(e.l-n.start)/i,t.l=Math.min(t.l,e.l-c)):n.end>e.r&&(c=(n.end-e.r)/i,t.r=Math.max(t.r,e.r+c)),a.start<e.t?(d=(e.t-a.start)/o,t.t=Math.min(t.t,e.t-d)):a.end>e.b&&(d=(a.end-e.b)/o,t.b=Math.max(t.b,e.b+d))}function txe(t,e,r){const n=t.drawingArea,{extra:a,additionalAngle:i,padding:o,size:c}=r,d=t.getPointPosition(e,n+a+o,i),h=Math.round(lS(fn(d.angle+Sr))),m=ixe(d.y,c.h,h),f=nxe(h),g=axe(d.x,c.w,f);return{visible:!0,x:d.x,y:m,textAlign:f,left:g,top:m,right:g+c.w,bottom:m+c.h}}function sxe(t,e){if(!e)return!0;const{left:r,top:n,right:a,bottom:i}=t;return!(Lo({x:r,y:n},e)||Lo({x:r,y:i},e)||Lo({x:a,y:n},e)||Lo({x:a,y:i},e))}function rxe(t,e,r){const n=[],a=t._pointLabels.length,i=t.options,{centerPointLabels:o,display:c}=i.pointLabels,d={extra:lN(i)/2,additionalAngle:o?Ns/a:0};let h;for(let m=0;m<a;m++){d.padding=r[m],d.size=e[m];const f=txe(t,m,d);n.push(f),c==="auto"&&(f.visible=sxe(f,h),f.visible&&(h=f))}return n}function nxe(t){return t===0||t===180?"center":t<180?"left":"right"}function axe(t,e,r){return r==="right"?t-=e:r==="center"&&(t-=e/2),t}function ixe(t,e,r){return r===90||r===270?t-=e/2:(r>270||r<90)&&(t-=e),t}function oxe(t,e,r){const{left:n,top:a,right:i,bottom:o}=r,{backdropColor:c}=e;if(!ns(c)){const d=gd(e.borderRadius),h=vn(e.backdropPadding);t.fillStyle=c;const m=n-h.left,f=a-h.top,g=i-n+h.width,y=o-a+h.height;Object.values(d).some(v=>v!==0)?(t.beginPath(),Sm(t,{x:m,y:f,w:g,h:y,radius:d}),t.fill()):t.fillRect(m,f,g,y)}}function lxe(t,e){const{ctx:r,options:{pointLabels:n}}=t;for(let a=e-1;a>=0;a--){const i=t._pointLabelItems[a];if(!i.visible)continue;const o=n.setContext(t.getPointLabelContext(a));oxe(r,o,i);const c=Yr(o.font),{x:d,y:h,textAlign:m}=i;Ad(r,t._pointLabels[a],d,h+c.lineHeight/2,c,{color:o.color,textAlign:m,textBaseline:"middle"})}}function GB(t,e,r,n){const{ctx:a}=t;if(r)a.arc(t.xCenter,t.yCenter,e,0,Qs);else{let i=t.getPointPosition(0,e);a.moveTo(i.x,i.y);for(let o=1;o<n;o++)i=t.getPointPosition(o,e),a.lineTo(i.x,i.y)}}function cxe(t,e,r,n,a){const i=t.ctx,o=e.circular,{color:c,lineWidth:d}=e;!o&&!n||!c||!d||r<0||(i.save(),i.strokeStyle=c,i.lineWidth=d,i.setLineDash(a.dash||[]),i.lineDashOffset=a.dashOffset,i.beginPath(),GB(t,r,o,n),i.closePath(),i.stroke(),i.restore())}function dxe(t,e,r){return uc(t,{label:r,index:e,type:"pointLabel"})}class uxe extends w0{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:yy.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(e){return e},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(e){super(e),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const e=this._padding=vn(lN(this.options)/2),r=this.width=this.maxWidth-e.width,n=this.height=this.maxHeight-e.height;this.xCenter=Math.floor(this.left+r/2+e.left),this.yCenter=Math.floor(this.top+n/2+e.top),this.drawingArea=Math.floor(Math.min(r,n)/2)}determineDataLimits(){const{min:e,max:r}=this.getMinMax(!1);this.min=br(e)&&!isNaN(e)?e:0,this.max=br(r)&&!isNaN(r)?r:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/lN(this.options))}generateTickLabels(e){w0.prototype.generateTickLabels.call(this,e),this._pointLabels=this.getLabels().map((r,n)=>{const a=Ys(this.options.pointLabels.callback,[r,n],this);return a||a===0?a:""}).filter((r,n)=>this.chart.getDataVisibility(n))}fit(){const e=this.options;e.display&&e.pointLabels.display?Jge(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(e,r,n,a){this.xCenter+=Math.floor((e-r)/2),this.yCenter+=Math.floor((n-a)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(e,r,n,a))}getIndexAngle(e){const r=Qs/(this._pointLabels.length||1),n=this.options.startAngle||0;return fn(e*r+ci(n))}getDistanceFromCenterForValue(e){if(ns(e))return NaN;const r=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-e)*r:(e-this.min)*r}getValueForDistanceFromCenter(e){if(ns(e))return NaN;const r=e/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-r:this.min+r}getPointLabelContext(e){const r=this._pointLabels||[];if(e>=0&&e<r.length){const n=r[e];return dxe(this.getContext(),e,n)}}getPointPosition(e,r,n=0){const a=this.getIndexAngle(e)-Sr+n;return{x:Math.cos(a)*r+this.xCenter,y:Math.sin(a)*r+this.yCenter,angle:a}}getPointPositionForValue(e,r){return this.getPointPosition(e,this.getDistanceFromCenterForValue(r))}getBasePosition(e){return this.getPointPositionForValue(e||0,this.getBaseValue())}getPointLabelPosition(e){const{left:r,top:n,right:a,bottom:i}=this._pointLabelItems[e];return{left:r,top:n,right:a,bottom:i}}drawBackground(){const{backgroundColor:e,grid:{circular:r}}=this.options;if(e){const n=this.ctx;n.save(),n.beginPath(),GB(this,this.getDistanceFromCenterForValue(this._endValue),r,this._pointLabels.length),n.closePath(),n.fillStyle=e,n.fill(),n.restore()}}drawGrid(){const e=this.ctx,r=this.options,{angleLines:n,grid:a,border:i}=r,o=this._pointLabels.length;let c,d,h;if(r.pointLabels.display&&lxe(this,o),a.display&&this.ticks.forEach((m,f)=>{if(f!==0||f===0&&this.min<0){d=this.getDistanceFromCenterForValue(m.value);const g=this.getContext(f),y=a.setContext(g),v=i.setContext(g);cxe(this,y,d,o,v)}}),n.display){for(e.save(),c=o-1;c>=0;c--){const m=n.setContext(this.getPointLabelContext(c)),{color:f,lineWidth:g}=m;!g||!f||(e.lineWidth=g,e.strokeStyle=f,e.setLineDash(m.borderDash),e.lineDashOffset=m.borderDashOffset,d=this.getDistanceFromCenterForValue(r.reverse?this.min:this.max),h=this.getPointPosition(c,d),e.beginPath(),e.moveTo(this.xCenter,this.yCenter),e.lineTo(h.x,h.y),e.stroke())}e.restore()}}drawBorder(){}drawLabels(){const e=this.ctx,r=this.options,n=r.ticks;if(!n.display)return;const a=this.getIndexAngle(0);let i,o;e.save(),e.translate(this.xCenter,this.yCenter),e.rotate(a),e.textAlign="center",e.textBaseline="middle",this.ticks.forEach((c,d)=>{if(d===0&&this.min>=0&&!r.reverse)return;const h=n.setContext(this.getContext(d)),m=Yr(h.font);if(i=this.getDistanceFromCenterForValue(this.ticks[d].value),h.showLabelBackdrop){e.font=m.string,o=e.measureText(c.label).width,e.fillStyle=h.backdropColor;const f=vn(h.backdropPadding);e.fillRect(-o/2-f.left,-i-m.size/2-f.top,o+f.width,m.size+f.height)}Ad(e,c.label,0,-i,m,{color:h.color,strokeColor:h.textStrokeColor,strokeWidth:h.textStrokeWidth})}),e.restore()}drawTitle(){}}const Sy={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Gn=Object.keys(Sy);function L3(t,e){return t-e}function F3(t,e){if(ns(e))return null;const r=t._adapter,{parser:n,round:a,isoWeekday:i}=t._parseOpts;let o=e;return typeof n=="function"&&(o=n(o)),br(o)||(o=typeof n=="string"?r.parse(o,n):r.parse(o)),o===null?null:(a&&(o=a==="week"&&(rh(i)||i===!0)?r.startOf(o,"isoWeek",i):r.startOf(o,a)),+o)}function B3(t,e,r,n){const a=Gn.length;for(let i=Gn.indexOf(t);i<a-1;++i){const o=Sy[Gn[i]],c=o.steps?o.steps:Number.MAX_SAFE_INTEGER;if(o.common&&Math.ceil((r-e)/(c*o.size))<=n)return Gn[i]}return Gn[a-1]}function hxe(t,e,r,n,a){for(let i=Gn.length-1;i>=Gn.indexOf(r);i--){const o=Gn[i];if(Sy[o].common&&t._adapter.diff(a,n,o)>=e-1)return o}return Gn[r?Gn.indexOf(r):0]}function fxe(t){for(let e=Gn.indexOf(t)+1,r=Gn.length;e<r;++e)if(Sy[Gn[e]].common)return Gn[e]}function I3(t,e,r){if(!r)t[e]=!0;else if(r.length){const{lo:n,hi:a}=cS(r,e),i=r[n]>=e?r[n]:r[a];t[i]=!0}}function mxe(t,e,r,n){const a=t._adapter,i=+a.startOf(e[0].value,n),o=e[e.length-1].value;let c,d;for(c=i;c<=o;c=+a.add(c,1,n))d=r[c],d>=0&&(e[d].major=!0);return e}function z3(t,e,r){const n=[],a={},i=e.length;let o,c;for(o=0;o<i;++o)c=e[o],a[c]=o,n.push({value:c,major:!1});return i===0||!r?n:mxe(t,n,a,r)}class cN extends Rd{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(e){super(e),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(e,r={}){const n=e.time||(e.time={}),a=this._adapter=new pme._date(e.adapters.date);a.init(r),nm(n.displayFormats,a.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(e),this._normalized=r.normalized}parse(e,r){return e===void 0?null:F3(this,e)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const e=this.options,r=this._adapter,n=e.time.unit||"day";let{min:a,max:i,minDefined:o,maxDefined:c}=this.getUserBounds();function d(h){!o&&!isNaN(h.min)&&(a=Math.min(a,h.min)),!c&&!isNaN(h.max)&&(i=Math.max(i,h.max))}(!o||!c)&&(d(this._getLabelBounds()),(e.bounds!=="ticks"||e.ticks.source!=="labels")&&d(this.getMinMax(!1))),a=br(a)&&!isNaN(a)?a:+r.startOf(Date.now(),n),i=br(i)&&!isNaN(i)?i:+r.endOf(Date.now(),n)+1,this.min=Math.min(a,i-1),this.max=Math.max(a+1,i)}_getLabelBounds(){const e=this.getLabelTimestamps();let r=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return e.length&&(r=e[0],n=e[e.length-1]),{min:r,max:n}}buildTicks(){const e=this.options,r=e.time,n=e.ticks,a=n.source==="labels"?this.getLabelTimestamps():this._generate();e.bounds==="ticks"&&a.length&&(this.min=this._userMin||a[0],this.max=this._userMax||a[a.length-1]);const i=this.min,o=this.max,c=Mhe(a,i,o);return this._unit=r.unit||(n.autoSkip?B3(r.minUnit,this.min,this.max,this._getLabelCapacity(i)):hxe(this,c.length,r.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:fxe(this._unit),this.initOffsets(a),e.reverse&&c.reverse(),z3(this,c,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(e=>+e.value))}initOffsets(e=[]){let r=0,n=0,a,i;this.options.offset&&e.length&&(a=this.getDecimalForValue(e[0]),e.length===1?r=1-a:r=(this.getDecimalForValue(e[1])-a)/2,i=this.getDecimalForValue(e[e.length-1]),e.length===1?n=i:n=(i-this.getDecimalForValue(e[e.length-2]))/2);const o=e.length<3?.5:.25;r=tn(r,0,o),n=tn(n,0,o),this._offsets={start:r,end:n,factor:1/(r+1+n)}}_generate(){const e=this._adapter,r=this.min,n=this.max,a=this.options,i=a.time,o=i.unit||B3(i.minUnit,r,n,this._getLabelCapacity(r)),c=Yt(a.ticks.stepSize,1),d=o==="week"?i.isoWeekday:!1,h=rh(d)||d===!0,m={};let f=r,g,y;if(h&&(f=+e.startOf(f,"isoWeek",d)),f=+e.startOf(f,h?"day":o),e.diff(n,r,o)>1e5*c)throw new Error(r+" and "+n+" are too far apart with stepSize of "+c+" "+o);const v=a.ticks.source==="data"&&this.getDataTimestamps();for(g=f,y=0;g<n;g=+e.add(g,c,o),y++)I3(m,g,v);return(g===n||a.bounds==="ticks"||y===1)&&I3(m,g,v),Object.keys(m).sort(L3).map(w=>+w)}getLabelForValue(e){const r=this._adapter,n=this.options.time;return n.tooltipFormat?r.format(e,n.tooltipFormat):r.format(e,n.displayFormats.datetime)}format(e,r){const a=this.options.time.displayFormats,i=this._unit,o=r||a[i];return this._adapter.format(e,o)}_tickFormatFunction(e,r,n,a){const i=this.options,o=i.ticks.callback;if(o)return Ys(o,[e,r,n],this);const c=i.time.displayFormats,d=this._unit,h=this._majorUnit,m=d&&c[d],f=h&&c[h],g=n[r],y=h&&f&&g&&g.major;return this._adapter.format(e,a||(y?f:m))}generateTickLabels(e){let r,n,a;for(r=0,n=e.length;r<n;++r)a=e[r],a.label=this._tickFormatFunction(a.value,r,e)}getDecimalForValue(e){return e===null?NaN:(e-this.min)/(this.max-this.min)}getPixelForValue(e){const r=this._offsets,n=this.getDecimalForValue(e);return this.getPixelForDecimal((r.start+n)*r.factor)}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return this.min+n*(this.max-this.min)}_getLabelSize(e){const r=this.options.ticks,n=this.ctx.measureText(e).width,a=ci(this.isHorizontal()?r.maxRotation:r.minRotation),i=Math.cos(a),o=Math.sin(a),c=this._resolveTickFontOptions(0).size;return{w:n*i+c*o,h:n*o+c*i}}_getLabelCapacity(e){const r=this.options.time,n=r.displayFormats,a=n[r.unit]||n.millisecond,i=this._tickFormatFunction(e,0,z3(this,[e],this._majorUnit),a),o=this._getLabelSize(i),c=Math.floor(this.isHorizontal()?this.width/o.w:this.height/o.h)-1;return c>0?c:1}getDataTimestamps(){let e=this._cache.data||[],r,n;if(e.length)return e;const a=this.getMatchingVisibleMetas();if(this._normalized&&a.length)return this._cache.data=a[0].controller.getAllParsedValues(this);for(r=0,n=a.length;r<n;++r)e=e.concat(a[r].controller.getAllParsedValues(this));return this._cache.data=this.normalize(e)}getLabelTimestamps(){const e=this._cache.labels||[];let r,n;if(e.length)return e;const a=this.getLabels();for(r=0,n=a.length;r<n;++r)e.push(F3(this,a[r]));return this._cache.labels=this._normalized?e:this.normalize(e)}normalize(e){return nB(e.sort(L3))}}function dx(t,e,r){let n=0,a=t.length-1,i,o,c,d;r?(e>=t[n].pos&&e<=t[a].pos&&({lo:n,hi:a}=Oo(t,"pos",e)),{pos:i,time:c}=t[n],{pos:o,time:d}=t[a]):(e>=t[n].time&&e<=t[a].time&&({lo:n,hi:a}=Oo(t,"time",e)),{time:i,pos:c}=t[n],{time:o,pos:d}=t[a]);const h=o-i;return h?c+(d-c)*(e-i)/h:c}class pxe extends cN{static id="timeseries";static defaults=cN.defaults;constructor(e){super(e),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const e=this._getTimestampsForTable(),r=this._table=this.buildLookupTable(e);this._minPos=dx(r,this.min),this._tableRange=dx(r,this.max)-this._minPos,super.initOffsets(e)}buildLookupTable(e){const{min:r,max:n}=this,a=[],i=[];let o,c,d,h,m;for(o=0,c=e.length;o<c;++o)h=e[o],h>=r&&h<=n&&a.push(h);if(a.length<2)return[{time:r,pos:0},{time:n,pos:1}];for(o=0,c=a.length;o<c;++o)m=a[o+1],d=a[o-1],h=a[o],Math.round((m+d)/2)!==h&&i.push({time:h,pos:o/(c-1)});return i}_generate(){const e=this.min,r=this.max;let n=super.getDataTimestamps();return(!n.includes(e)||!n.length)&&n.splice(0,0,e),(!n.includes(r)||n.length===1)&&n.push(r),n.sort((a,i)=>a-i)}_getTimestampsForTable(){let e=this._cache.all||[];if(e.length)return e;const r=this.getDataTimestamps(),n=this.getLabelTimestamps();return r.length&&n.length?e=this.normalize(r.concat(n)):e=r.length?r:n,e=this._cache.all=e,e}getDecimalForValue(e){return(dx(this._table,e)-this._minPos)/this._tableRange}getValueForPixel(e){const r=this._offsets,n=this.getDecimalForPixel(e)/r.factor-r.end;return dx(this._table,n*this._tableRange+this._minPos,!0)}}var gxe=Object.freeze({__proto__:null,CategoryScale:Wge,LinearScale:Yge,LogarithmicScale:Zge,RadialLinearScale:uxe,TimeScale:cN,TimeSeriesScale:pxe});const wS=[mme,Gpe,$ge,gxe];nc.register(...wS);const xxe={normal:"Normal",sport:"Sport",luxury:"Luxury",commercial:"Commercial",industrial:"Industrial",event:"Event",sea:"Sea"},yxe={"4x4":"4x4 / AWD","2_front":"Front Wheel","2_back":"Rear Wheel",autoblock:"Autoblock"},bxe={automatic:"Automatic",manual:"Manual"},vxe={benz:"Gasoline",diesel:"Diesel",electric:"Electric",hybrid:"Hybrid"},Ft={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640"},YB=[{key:"7d",label:"Last 7 days",period:"days",period_value:7},{key:"30d",label:"Last 30 days",period:"days",period_value:30},{key:"3m",label:"Last 3 months",period:"months",period_value:3},{key:"12m",label:"Last 12 months",period:"months",period_value:12},{key:"all",label:"All time",period:null,period_value:null}];function wxe(t,e,r){if(t==="custom"&&e&&r)return{date_from:e,date_to:r};const n=YB.find(a=>a.key===t);return!n||n.key==="all"||!n.period?{}:{period:n.period,period_value:n.period_value}}function jxe(t){if(!t)return"";if(t.length===10)return new Date(t+"T12:00:00").toLocaleDateString("en-US",{month:"short",day:"numeric"});if(t.length===7){const[e,r]=t.split("-");return new Date(parseInt(e,10),parseInt(r,10)-1).toLocaleDateString("en-US",{month:"short",year:"numeric"})}if(t.match(/^\d{4}-\d{1,2}$/)){const[e,r]=t.split("-");return`Week ${r}, ${e}`}return t}const _xe=()=>{const[t,e]=_.useState(!1),[r,n]=_.useState(null),[a,i]=_.useState(null),[o,c]=_.useState(null),[d,h]=_.useState(!0),[m,f]=_.useState(null),[g,y]=_.useState("30d"),[v,w]=_.useState(""),[j,b]=_.useState(""),N=_.useRef({});_.useEffect(()=>{const E=localStorage.getItem("theme"),z=window.matchMedia("(prefers-color-scheme: dark)").matches,T=E==="dark"||!E&&z;e(T),document.documentElement.classList.toggle("dark",T)},[]);const k=()=>{const E=!t;e(E),document.documentElement.classList.toggle("dark",E),localStorage.setItem("theme",E?"dark":"light")};_.useEffect(()=>{const E=JSON.parse(localStorage.getItem("user"));E&&n(E)},[]);const S=_.useCallback(async()=>{try{h(!0),f(null);const E=wxe(g,v,j),z=await Rue(E);if(z.data?.success)i(z.data.data??null),c(z.data.filter_applied??null);else throw new Error("Invalid response format")}catch(E){console.error("Statistics fetch error:",E);const z=E.response?.data?.message||E.message||"Failed to load statistics";f(z),ve.error(z),E.response?.status===401&&ve.error("Please log in to view statistics")}finally{h(!1)}},[g,v,j]);_.useEffect(()=>{S()},[S]);const C={darkBlue:`${Ft.darkBlue}CC`,teal:`${Ft.teal}CC`,limeGreen:`${Ft.limeGreen}CC`,tealSolid:Ft.teal,limeGreenSolid:Ft.limeGreen,tealLight:`${Ft.teal}44`};_.useEffect(()=>{if(!a)return;const E=()=>{Object.values(N.current).forEach(T=>{T&&typeof T.destroy=="function"&&T.destroy()}),N.current={}},z=(T,W,U,L,Z,O={})=>{const se=document.getElementById(T);if(!se)return;const K=Array.isArray(Z)?Z:[Z],M=new nc(se,{type:W,data:{labels:U,datasets:[{label:O.label||"Count",data:L,backgroundColor:K,borderColor:K.map(X=>X.replace(/CC$/,"FF").replace(/44$/,"FF")),borderWidth:3,borderRadius:W==="bar"?12:0,hoverOffset:W==="doughnut"||W==="pie"?20:0,fill:O.fill!==void 0?O.fill:!1,tension:O.tension||0,pointRadius:O.pointRadius||3,pointBackgroundColor:O.pointColor||C.limeGreenSolid,pointBorderColor:"#fff",pointBorderWidth:2,pointHoverRadius:O.pointHoverRadius||5}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:W==="bar"||W==="line"?"top":"bottom",labels:{color:t?"#9ca3af":"#4b5563",padding:15,font:{size:12,weight:"600"},usePointStyle:!0,pointStyle:"circle"}},tooltip:{backgroundColor:t?"rgba(0,0,0,0.9)":"rgba(255,255,255,0.95)",titleColor:t?"#fff":"#000",bodyColor:t?"#e5e7eb":"#374151",borderColor:C.tealSolid,borderWidth:1,padding:12,titleFont:{size:13,weight:"bold"},bodyFont:{size:12},cornerRadius:8}},animation:{duration:1200,easing:"easeOutQuart"},scales:W==="bar"||W==="line"?{y:{beginAtZero:!0,grid:{color:t?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.05)"},ticks:{color:t?"#9ca3af":"#6b7280",font:{size:11,weight:"600"}}},x:{grid:{display:!1},ticks:{color:t?"#9ca3af":"#6b7280",font:{size:11,weight:"600"}}}}:{}}});N.current[T]=M};if(E(),a.by_category?.length>0&&z("catChart","doughnut",a.by_category.map(T=>xxe[T.category]||T.category),a.by_category.map(T=>T.total),[C.darkBlue,C.teal,C.limeGreen]),a.by_make?.length>0){const T=a.by_make.slice(0,6);z("makeChart","bar",T.map(W=>W.make),T.map(W=>W.total),C.teal)}if(a.by_transmission?.length>0&&z("transChart","pie",a.by_transmission.map(T=>bxe[T.transmission]||T.transmission),a.by_transmission.map(T=>T.total),[C.darkBlue,C.limeGreen]),a.by_fuel_type?.length>0&&z("fuelChart","doughnut",a.by_fuel_type.map(T=>vxe[T.fuel_type]||T.fuel_type),a.by_fuel_type.map(T=>T.total),[C.teal,C.limeGreen]),a.by_drive_type?.length>0&&z("driveChart","doughnut",a.by_drive_type.map(T=>yxe[T.drive_type]||T.drive_type),a.by_drive_type.map(T=>T.total),[C.darkBlue,C.teal,C.limeGreen]),a.by_city?.length>0){const T=a.by_city.slice(0,10);z("cityChart","bar",T.map(W=>W.city),T.map(W=>W.total),C.teal)}if(a.search_trends?.length>0){const T=document.getElementById("trendsChart");if(T){const W=T.getContext("2d").createLinearGradient(0,0,0,300);W.addColorStop(0,C.tealLight),W.addColorStop(1,"rgba(255,255,255,0)");const U=new nc(T,{type:"line",data:{labels:a.search_trends.map(L=>jxe(L.date)),datasets:[{label:"Daily Searches",data:a.search_trends.map(L=>L.total),backgroundColor:W,borderColor:C.tealSolid,borderWidth:3,fill:!0,tension:.4,pointRadius:6,pointBackgroundColor:C.limeGreenSolid,pointBorderColor:"#fff",pointBorderWidth:2,pointHoverRadius:8}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:t?"rgba(0,0,0,0.9)":"rgba(255,255,255,0.95)",titleColor:t?"#fff":"#000",bodyColor:t?"#e5e7eb":"#374151",borderColor:C.tealSolid,borderWidth:1,padding:12,cornerRadius:8}},animation:{duration:1200,easing:"easeOutQuart"},scales:{y:{beginAtZero:!0,grid:{color:t?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.05)"},ticks:{color:t?"#9ca3af":"#6b7280",font:{size:11,weight:"600"}}},x:{grid:{display:!1},ticks:{color:t?"#9ca3af":"#6b7280",font:{size:11,weight:"600"}}}}}});N.current.trendsChart=U}}return()=>E()},[t,a]);const B=()=>{localStorage.clear(),window.location.href="/auth"};return d?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 border-4 border-t-transparent rounded-full animate-spin mx-auto mb-4",style:{borderColor:Ft.teal,borderTopColor:"transparent"}}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading statistics..."})]})}):m?s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-16 h-16 rounded-full bg-red-100 dark:bg-red-900/20 flex items-center justify-center mx-auto mb-4",children:s.jsx("span",{className:"text-3xl",children:""})}),s.jsx("p",{className:"text-red-600 dark:text-red-400 mb-4",children:m}),s.jsx(pe,{onClick:()=>window.location.reload(),style:{backgroundColor:Ft.teal},children:"Retry"})]})}):a?s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900",children:[s.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:[s.jsx(rt.div,{animate:{scale:[1,1.15,1],opacity:[.08,.12,.08]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute -top-1/4 -left-1/4 w-1/3 h-1/3 rounded-full blur-3xl",style:{backgroundColor:`${Ft.darkBlue}30`}}),s.jsx(rt.div,{animate:{scale:[1,1.2,1],opacity:[.06,.1,.06]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:2},className:"absolute top-1/2 -right-1/4 w-1/3 h-1/3 rounded-full blur-3xl",style:{backgroundColor:`${Ft.teal}30`}})]}),s.jsx("header",{className:"border-b border-gray-200 dark:border-gray-800 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl sticky top-0 z-50 shadow-sm",children:s.jsx("div",{className:"container mx-auto px-4 md:px-6 py-3",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsx(qu,{className:"w-6 h-6 md:w-7 md:h-7",style:{color:Ft.teal}}),s.jsx("div",{children:s.jsx("h1",{className:"text-lg md:text-2xl font-bold bg-gradient-to-r from-[#0E4C81] via-[#008C95] to-[#8AC640] bg-clip-text text-transparent",children:"Search Analytics"})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[r&&s.jsxs(We,{variant:"outline",className:"hidden md:flex items-center gap-2 px-3 py-1",style:{borderColor:Ft.teal},children:[s.jsx(Ss,{className:"w-3 h-3",style:{color:Ft.teal}}),s.jsx("span",{className:"text-sm font-semibold",children:r?.username||"User"})]}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:k,className:"hover:bg-gray-100 dark:hover:bg-gray-800 h-9 w-9","aria-label":"Toggle dark mode",children:t?s.jsx(qx,{className:"w-4 h-4"}):s.jsx(Hx,{className:"w-4 h-4"})}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:B,className:"hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-600 h-9 w-9","aria-label":"Log out",children:s.jsx(Xl,{className:"w-4 h-4"})})]})]})})}),s.jsxs("main",{className:"container mx-auto px-4 md:px-6 py-6 md:py-8 max-w-7xl relative z-10",children:[s.jsxs(rt.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[YB.map(E=>s.jsx(pe,{variant:g===E.key?"default":"outline",size:"sm",onClick:()=>y(E.key),style:g===E.key?{backgroundColor:Ft.teal}:{},children:E.label},E.key)),s.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[s.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Custom:"}),s.jsx("input",{type:"date",value:v,onChange:E=>w(E.target.value),className:"rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm px-2 py-1.5"}),s.jsx("span",{className:"text-gray-500",children:""}),s.jsx("input",{type:"date",value:j,onChange:E=>b(E.target.value),className:"rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm px-2 py-1.5"}),s.jsx(pe,{size:"sm",onClick:()=>y("custom"),disabled:!v||!j,style:{backgroundColor:Ft.darkBlue},children:"Apply"})]})]}),s.jsx("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:o?.label??"All time"})]}),s.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4 mb-6 md:mb-8",children:[s.jsx(ux,{icon:um,title:"Total Searches",value:a.total_searches?.toLocaleString()??"0",gradient:`linear-gradient(135deg, ${Ft.darkBlue}, ${Ft.teal})`,delay:0}),s.jsx(ux,{icon:Ss,title:"Active Users",value:a.total_users?.toString()??"0",subtitle:Number(a.total_users)>0?`~${Math.round(Number(a.total_searches)/Number(a.total_users))} avg searches`:void 0,gradient:`linear-gradient(135deg, ${Ft.teal}, ${Ft.limeGreen})`,delay:.1}),s.jsx(ux,{icon:Zl,title:"Top Make",value:a.by_make?.[0]?.make||"",subtitle:`${a.by_make?.[0]?.total||0} searches`,gradient:`linear-gradient(135deg, ${Ft.limeGreen}, ${Ft.teal})`,delay:.2}),s.jsx(ux,{icon:zl,title:"Popular Category",value:a.by_category?.[0]?.category||"",subtitle:`${a.by_category?.[0]?.total||0} searches`,gradient:`linear-gradient(135deg, ${Ft.darkBlue}, ${Ft.limeGreen})`,delay:.3})]}),a.search_trends?.length>0&&s.jsx(rt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"mb-6 md:mb-8",children:s.jsx(Ue,{className:"bg-white/90 dark:bg-gray-900/90 backdrop-blur shadow-xl rounded-xl border hover:shadow-2xl transition-all duration-300",style:{borderColor:`${Ft.teal}40`},children:s.jsxs(qe,{className:"p-4 md:p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:"w-9 h-9 md:w-10 md:h-10 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${Ft.darkBlue}, ${Ft.teal})`},children:s.jsx(Zl,{className:"w-4 h-4 md:w-5 md:h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-base md:text-lg font-bold dark:text-white",children:"Search Trends"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Daily activity"})]})]}),s.jsx(We,{className:"text-xs px-2 py-1",style:{backgroundColor:`${Ft.limeGreen}30`,color:Ft.limeGreen},children:o?.label??(a.search_trends.length?`${a.search_trends.length} points`:"")})]}),s.jsx("div",{className:"h-48 md:h-56",children:s.jsx("canvas",{id:"trendsChart"})})]})})}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6 mb-6 md:mb-8",children:[a.by_category?.length>0&&s.jsx(Cu,{title:"By Category",subtitle:"Distribution",icon:Kt,id:"catChart",delay:.5}),a.by_make?.length>0&&s.jsx(Cu,{title:"Top Makes",subtitle:"Most searched",icon:ar,id:"makeChart",delay:.6}),a.by_transmission?.length>0&&s.jsx(Cu,{title:"Transmission",subtitle:"Preferences",icon:zl,id:"transChart",delay:.7}),a.by_fuel_type?.length>0&&s.jsx(Cu,{title:"Fuel Type",subtitle:"Distribution",icon:Kx,id:"fuelChart",delay:.8}),a.by_drive_type?.length>0&&s.jsx(Cu,{title:"Drive Type",subtitle:"Distribution",icon:zl,id:"driveChart",delay:.85}),a.by_city?.length>0&&s.jsx(Cu,{title:"Top Cities",subtitle:"Most searched",icon:Ps,id:"cityChart",delay:.9})]}),s.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6 mb-6 md:mb-8",children:[a.by_price_range?.length>0&&s.jsx(rt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:.95},children:s.jsx(Ue,{className:"bg-white/90 dark:bg-gray-900/90 backdrop-blur shadow-xl rounded-xl border",style:{borderColor:`${Ft.teal}40`},children:s.jsxs(qe,{className:"p-4 md:p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${Ft.darkBlue}, ${Ft.teal})`},children:s.jsx(cr,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-base font-bold dark:text-white",children:"By Price Range"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Daily rate ranges"})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[s.jsx("th",{className:"text-left py-2 font-semibold dark:text-white",children:"Range"}),s.jsx("th",{className:"text-right py-2 font-semibold dark:text-white",children:"Searches"})]})}),s.jsx("tbody",{children:a.by_price_range.map((E,z)=>s.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800",children:[s.jsx("td",{className:"py-2 text-gray-700 dark:text-gray-300",children:E.daily_rate_min!=null||E.daily_rate_max!=null?`${E.daily_rate_min??""}  ${E.daily_rate_max??""}`:"Any"}),s.jsx("td",{className:"py-2 text-right font-medium dark:text-white",children:E.total})]},z))})]})})]})})}),a.top_features?.length>0&&s.jsx(rt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:1},children:s.jsx(Ue,{className:"bg-white/90 dark:bg-gray-900/90 backdrop-blur shadow-xl rounded-xl border",style:{borderColor:`${Ft.darkBlue}40`},children:s.jsxs(qe,{className:"p-4 md:p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${Ft.teal}, ${Ft.limeGreen})`},children:s.jsx(Wx,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-base font-bold dark:text-white",children:"Top Features"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Popular options"})]})]}),s.jsx("div",{className:"flex flex-wrap gap-2",children:a.top_features.map((E,z)=>s.jsxs(We,{variant:"secondary",className:"text-xs px-3 py-1",style:{backgroundColor:`${Ft.teal}20`,color:Ft.darkBlue},children:[E.feature," (",E.count,")"]},z))})]})})})]}),a.most_active_users?.length>0&&s.jsx(rt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:1.05},className:"mb-6 md:mb-8",children:s.jsx(Ue,{className:"bg-white/90 dark:bg-gray-900/90 backdrop-blur shadow-xl rounded-xl border",style:{borderColor:`${Ft.limeGreen}40`},children:s.jsxs(qe,{className:"p-4 md:p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${Ft.limeGreen}, ${Ft.teal})`},children:s.jsx(Gx,{className:"w-4 h-4 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-base font-bold dark:text-white",children:"Most Active Users"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Top searchers"})]})]}),s.jsx("div",{className:"overflow-x-auto",children:s.jsxs("table",{className:"w-full text-sm",children:[s.jsx("thead",{children:s.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[s.jsx("th",{className:"text-left py-2 font-semibold dark:text-white",children:"User"}),s.jsx("th",{className:"text-right py-2 font-semibold dark:text-white",children:"Searches"})]})}),s.jsx("tbody",{children:a.most_active_users.map(E=>s.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800",children:[s.jsx("td",{className:"py-2 text-gray-700 dark:text-gray-300",children:E.user_name??`User #${E.user_id}`}),s.jsx("td",{className:"py-2 text-right font-medium dark:text-white",children:E.total_searches})]},E.user_id))})]})})]})})}),s.jsx(rt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:.9},children:s.jsx(Ue,{className:"bg-white/90 dark:bg-gray-900/90 backdrop-blur shadow-xl rounded-xl border",style:{borderColor:`${Ft.darkBlue}40`},children:s.jsxs(qe,{className:"p-4 md:p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"w-9 h-9 md:w-10 md:h-10 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${Ft.darkBlue}, ${Ft.teal})`},children:s.jsx(hh,{className:"w-4 h-4 md:w-5 md:h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-base md:text-lg font-bold dark:text-white",children:"Recent Searches"}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Latest queries"})]})]}),a.recent_searches?.length>0?s.jsx("div",{className:"space-y-2",children:a.recent_searches.map((E,z)=>s.jsxs(rt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:1+z*.1},className:"flex flex-col md:flex-row md:items-center justify-between p-3 rounded-lg bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-700 hover:shadow-md transition-all duration-300 gap-2",children:[s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-1",children:[s.jsxs("p",{className:"font-bold text-sm md:text-base dark:text-white truncate",children:[E.make||"Any Make"," ",E.model||""]}),E.year_min!=null&&s.jsxs(We,{variant:"secondary",className:"text-xs px-2 py-0.5",children:[E.year_min,"",E.year_max??""]}),E.user_name&&s.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["by ",E.user_name]})]}),s.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400 flex-wrap",children:[E.city&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Ps,{className:"w-3 h-3",style:{color:Ft.teal}}),E.city]}),(E.daily_rate_min!=null||E.daily_rate_max!=null)&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(cr,{className:"w-3 h-3"}),E.daily_rate_min??"","  ",E.daily_rate_max??""]}),E.transmission&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(zl,{className:"w-3 h-3",style:{color:Ft.teal}}),E.transmission]}),E.fuel_type&&s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Kx,{className:"w-3 h-3",style:{color:Ft.limeGreen}}),E.fuel_type]}),s.jsxs("span",{className:"flex items-center gap-1",children:[s.jsx(Hs,{className:"w-3 h-3"}),E.last_searched_at?new Date(E.last_searched_at).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):""]})]})]}),s.jsxs(We,{className:"self-start md:self-center text-xs md:text-sm px-3 py-1 font-bold",style:{backgroundColor:`${Ft.teal}30`,color:Ft.teal},children:[E.search_count,""]})]},E.id))}):s.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 italic py-8 text-sm",children:"No recent searches"})]})})})]})]}):null},ux=({icon:t,title:e,value:r,subtitle:n,gradient:a,delay:i})=>s.jsx(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:i},whileHover:{scale:1.02,y:-3},children:s.jsx(Ue,{className:"bg-white/90 dark:bg-gray-900/90 backdrop-blur shadow-lg rounded-xl border-0 hover:shadow-xl transition-all duration-300 h-full",children:s.jsxs(qe,{className:"p-3 md:p-4",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("div",{className:"w-9 h-9 md:w-11 md:h-11 rounded-xl flex items-center justify-center shadow-md",style:{background:a},children:s.jsx(t,{className:"w-4 h-4 md:w-5 md:h-5 text-white"})}),s.jsx(We,{variant:"secondary",className:"text-[9px] md:text-[10px] px-1.5 py-0.5",children:"Live"})]}),s.jsx("p",{className:"text-[10px] md:text-xs text-gray-600 dark:text-gray-400 font-medium mb-1",children:e}),s.jsx("p",{className:"text-xl md:text-3xl font-black dark:text-white mb-0.5",children:r}),n&&s.jsx("p",{className:"text-[9px] md:text-xs text-gray-500 dark:text-gray-500",children:n})]})})}),Cu=({title:t,subtitle:e,icon:r,id:n,delay:a})=>s.jsx(rt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:a},whileHover:{scale:1.01},children:s.jsx(Ue,{className:"bg-white/90 dark:bg-gray-900/90 backdrop-blur shadow-xl rounded-xl border hover:shadow-2xl transition-all duration-300",style:{borderColor:`${Ft.teal}40`},children:s.jsxs(qe,{className:"p-4 md:p-6",children:[s.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[s.jsx("div",{className:"w-9 h-9 md:w-10 md:h-10 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${Ft.darkBlue}, ${Ft.teal})`},children:s.jsx(r,{className:"w-4 h-4 md:w-5 md:h-5 text-white"})}),s.jsxs("div",{children:[s.jsx("h3",{className:"text-sm md:text-base font-bold dark:text-white",children:t}),s.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:e})]})]}),s.jsx("div",{className:"h-48 md:h-56",children:s.jsx("canvas",{id:n})})]})})});function Nxe(){return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[s.jsx("div",{className:"bg-gradient-to-r from-teal-600 to-cyan-700 text-white py-12 px-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(Qn,{className:"w-12 h-12"}),s.jsx("h1",{className:"text-4xl font-bold",children:"Privacy Policy"})]}),s.jsx("p",{className:"text-blue-100 text-lg",children:"Rento LB - Car Rental Marketplace"}),s.jsx("p",{className:"text-blue-200 text-sm mt-2",children:"Last updated: December 2025"})]})}),s.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[s.jsx("div",{className:"bg-white rounded-2xl shadow-sm p-8 mb-6",children:s.jsx("p",{className:"text-gray-700 leading-relaxed",children:'Rento LB ("Rento", "we", "us", or "our") operates a mobile application that enables users to search, book, and connect with car rental providers in Lebanon. The application is operated by Rami Zeaiter as an individual developer on behalf of the Rento LB service. We are committed to protecting your privacy and handling your data in a transparent and secure manner.'})}),s.jsxs(Hn,{icon:s.jsx(Yi,{}),title:"1. Who We Are (Data Controller)",color:"blue",children:[s.jsxs(Sxe,{children:[s.jsx(ku,{label:"Operator",value:"Rami Zeaiter"}),s.jsx(ku,{label:"Service Name",value:"Rento LB"}),s.jsx(ku,{label:"Official App Email",value:"social@rento-lb.com",icon:s.jsx(za,{className:"w-4 h-4"})}),s.jsx(ku,{label:"Support Email",value:"ramizaiter1989@gmail.com",icon:s.jsx(za,{className:"w-4 h-4"})}),s.jsx(ku,{label:"Phone",value:"+961 81 001 301",icon:s.jsx(ui,{className:"w-4 h-4"})}),s.jsx(ku,{label:"Service Area",value:"Lebanon",icon:s.jsx(Ps,{className:"w-4 h-4"})})]}),s.jsx("p",{className:"mt-4 text-gray-600 italic",children:"Rento LB acts as a digital marketplace that facilitates search and booking between renters and car owners or rental agencies."})]}),s.jsxs(Hn,{icon:s.jsx(zo,{}),title:"2. Information We Collect",color:"purple",children:[s.jsxs(O1,{title:"A. Information You Provide",children:[s.jsx("p",{className:"text-gray-600 mb-3",children:"We may collect the following data when you use the app:"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx(_s,{children:"Full name"}),s.jsx(_s,{children:"Phone number"}),s.jsx(_s,{children:"Email address"}),s.jsx(_s,{children:"Government-issued ID (passport or national ID)"}),s.jsx(_s,{children:"Driver's license"}),s.jsx(_s,{children:"Booking requests and history"}),s.jsx(_s,{children:"Messages, feedback, support tickets, and appeals"})]}),s.jsx("div",{className:"mt-4 bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded",children:s.jsxs("p",{className:"text-yellow-800 font-medium flex items-center gap-2",children:[s.jsx(Yl,{className:"w-5 h-5"}),"We do not collect selfie or facial verification data."]})})]}),s.jsxs(O1,{title:"B. Car Owner Information",children:[s.jsx("p",{className:"text-gray-600 mb-3",children:"If you list a vehicle (private owner or agency), we may collect:"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx(_s,{children:"Identity and contact information"}),s.jsx(_s,{children:"Vehicle details and registration documents"}),s.jsx(_s,{children:"Uploaded images and legal documentation"})]}),s.jsx("p",{className:"mt-3 text-gray-600 text-sm",children:"Each submission is reviewed, and we reserve the right to approve or reject any listing if documents are missing, incomplete, or not legally valid."})]}),s.jsx(O1,{title:"C. Automatically Collected Data",children:s.jsxs("ul",{className:"space-y-2",children:[s.jsx(_s,{children:"App usage data (non-sensitive)"}),s.jsx(_s,{children:"Device and technical information (for app functionality and security)"})]})})]}),s.jsx(Hn,{icon:s.jsx(Ps,{}),title:"3. Location Data",color:"green",children:s.jsx("p",{className:"text-gray-600",children:"We may use location data only to display available cars within Lebanon and improve search results. We do not track users continuously or in the background."})}),s.jsx(Hn,{icon:s.jsx(cr,{}),title:"4. Payments",color:"emerald",children:s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsxs(_s,{color:"green",children:["Payments are currently ",s.jsx("strong",{children:"cash only"})]}),s.jsx(_s,{color:"green",children:"All payments are made directly between renter and car owner"}),s.jsx(_s,{color:"green",children:"Rento LB does not process, store, or collect payment information"}),s.jsx(_s,{color:"green",children:"A commission model may be introduced in the future, and users will be informed in advance"})]})})}),s.jsxs(Hn,{icon:s.jsx(Wn,{}),title:"5. Purpose of Data Collection",color:"indigo",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"We collect and use data to:"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx(_s,{children:"Enable car search and booking"}),s.jsx(_s,{children:"Verify eligibility to rent vehicles"}),s.jsx(_s,{children:"Connect renters with car owners or agencies"}),s.jsx(_s,{children:"Ensure safety, legality, and transparency"}),s.jsx(_s,{children:"Manage ratings, reviews, feedback, and disputes"}),s.jsx(_s,{children:"Provide customer support and communication"}),s.jsx(_s,{children:"Improve app functionality and user experience"})]})]}),s.jsx(Hn,{icon:s.jsx(Yl,{}),title:"6. Marketplace Responsibility Disclaimer",color:"orange",children:s.jsxs("div",{className:"bg-orange-50 border-l-4 border-orange-400 p-6 rounded",children:[s.jsx("p",{className:"text-orange-900 font-semibold mb-3",children:"Rento LB acts only as an intermediary platform."}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx(_s,{color:"orange",children:"We facilitate search, booking, and connection"}),s.jsx(_s,{color:"orange",children:"We are not responsible for future actions, disputes, damages, or agreements between renters and owners"}),s.jsx(_s,{color:"orange",children:"Any rental agreement is strictly between the two parties"})]})]})}),s.jsx(Hn,{icon:s.jsx(Ss,{}),title:"7. Data Sharing & Disclosure",color:"red",children:s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[s.jsx("p",{className:"text-red-900 font-semibold mb-4",children:"We do not sell or share personal data with third parties."}),s.jsx("p",{className:"text-gray-600 mb-3",children:"Data may only be disclosed if:"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx(_s,{children:"Required by Lebanese law"}),s.jsx(_s,{children:"Ordered by a court or legal authority"}),s.jsx(_s,{children:"Necessary to protect users, legal rights, or public safety"})]})]})}),s.jsxs(Hn,{icon:s.jsx(Qn,{}),title:"8. User Rights & Control",color:"cyan",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"Both renters and owners have the right to:"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[s.jsx(zf,{children:"Accept or reject booking requests"}),s.jsx(zf,{children:"Delete their listings or accounts"}),s.jsx(zf,{children:"Request correction or deletion of personal data"}),s.jsx(zf,{children:"Submit feedback, appeals, or support tickets"}),s.jsx(zf,{children:"Rate and review each other"})]}),s.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:s.jsxs("p",{className:"text-gray-700",children:["To request data deletion, contact:"," ",s.jsx("a",{href:"mailto:social@rento-lb.com",className:"text-blue-600 font-semibold hover:underline",children:"social@rento-lb.com"})]})})]}),s.jsxs(Hn,{icon:s.jsx(Il,{}),title:"9. Data Security",color:"slate",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"We apply reasonable administrative and technical measures to protect your data from:"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsx(L1,{children:"Unauthorized access"}),s.jsx(L1,{children:"Loss or misuse"}),s.jsx(L1,{children:"Alteration or disclosure"})]}),s.jsx("p",{className:"mt-4 text-gray-600 italic",children:"Access to data is strictly limited to authorized personnel."})]}),s.jsxs(Hn,{icon:s.jsx(Hs,{}),title:"10. Data Retention",color:"violet",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"We retain personal data only as long as necessary to:"}),s.jsxs("ul",{className:"space-y-2",children:[s.jsx(_s,{children:"Operate the service"}),s.jsx(_s,{children:"Comply with legal obligations"}),s.jsx(_s,{children:"Resolve disputes"})]}),s.jsx("p",{className:"mt-4 text-gray-600",children:"Users may request deletion at any time unless retention is legally required."})]}),s.jsx(Hn,{icon:s.jsx(Yi,{}),title:"11. Minimum Age Requirement",color:"pink",children:s.jsx("div",{className:"bg-pink-50 border-l-4 border-pink-400 p-6 rounded",children:s.jsx("p",{className:"text-pink-900 font-semibold text-lg",children:"You must be at least 18 years old to use Rento LB."})})}),s.jsxs(Hn,{icon:s.jsx(Wn,{}),title:"12. Transparency & Legal Compliance",color:"teal",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"All vehicles listed on Rento LB must be:"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsx(F1,{children:"Fully legal"}),s.jsx(F1,{children:"Properly documented"}),s.jsx(F1,{children:"Approved by our review team"})]}),s.jsx("p",{className:"mt-4 text-gray-600",children:"We reserve the right to reject or remove any content or listing that does not meet legal or platform standards."})]}),s.jsx(Hn,{icon:s.jsx(zo,{}),title:"13. Changes to This Policy",color:"gray",children:s.jsx("p",{className:"text-gray-600",children:"We may update this Privacy Policy from time to time. Any changes will be published inside the app and become effective immediately."})}),s.jsxs(Hn,{icon:s.jsx(za,{}),title:"14. Contact Us",color:"blue",children:[s.jsx("p",{className:"text-gray-600 mb-6",children:"If you have any questions or requests regarding this Privacy Policy:"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsx(B1,{icon:s.jsx(za,{className:"w-5 h-5"}),value:"social@rento-lb.com",href:"mailto:social@rento-lb.com"}),s.jsx(B1,{icon:s.jsx(za,{className:"w-5 h-5"}),value:"ramizaiter1989@gmail.com",href:"mailto:ramizaiter1989@gmail.com"}),s.jsx(B1,{icon:s.jsx(ui,{className:"w-5 h-5"}),value:"+961 81 001 301",href:"tel:+96181001301"})]})]})]}),s.jsx("div",{className:"bg-slate-800 text-slate-300 py-8 px-6 mt-12",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[s.jsx("p",{className:"text-sm",children:" 2025 Rento LB. Operated by Rami Zeaiter. All rights reserved."}),s.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"This privacy policy is effective as of December 2025"})]})})]})}function Hn({icon:t,title:e,children:r,color:n="blue"}){const a={blue:"text-blue-600 bg-blue-50",purple:"text-purple-600 bg-purple-50",green:"text-green-600 bg-green-50",emerald:"text-emerald-600 bg-emerald-50",indigo:"text-indigo-600 bg-indigo-50",orange:"text-orange-600 bg-orange-50",red:"text-red-600 bg-red-50",cyan:"text-cyan-600 bg-cyan-50",slate:"text-slate-600 bg-slate-50",violet:"text-violet-600 bg-violet-50",pink:"text-pink-600 bg-pink-50",teal:"text-teal-600 bg-teal-50",gray:"text-gray-600 bg-gray-50"};return s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-8 mb-6",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-6",children:[s.jsx("div",{className:`${a[n]} p-2 rounded-lg`,children:lt.cloneElement(t,{className:"w-6 h-6"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 flex-1",children:e})]}),r]})}function O1({title:t,children:e}){return s.jsxs("div",{className:"mb-6 last:mb-0",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:t}),e]})}function _s({children:t,color:e="blue"}){const r={blue:"bg-blue-500",green:"bg-green-500",orange:"bg-orange-500"};return s.jsxs("li",{className:"flex items-start gap-3 text-gray-700",children:[s.jsx("span",{className:`${r[e]} w-1.5 h-1.5 rounded-full mt-2 flex-shrink-0`}),s.jsx("span",{children:t})]})}function Sxe({children:t}){return s.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:t})}function ku({label:t,value:e,icon:r}){return s.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[s.jsx("p",{className:"text-sm text-gray-500 mb-1",children:t}),s.jsxs("p",{className:"text-gray-900 font-medium flex items-center gap-2",children:[r&&s.jsx("span",{className:"text-blue-600",children:r}),e]})]})}function zf({children:t}){return s.jsxs("div",{className:"bg-cyan-50 border border-cyan-200 rounded-lg p-4 flex items-center gap-3",children:[s.jsx(Wn,{className:"w-5 h-5 text-cyan-600 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:t})]})}function L1({children:t}){return s.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4 flex items-center gap-3",children:[s.jsx(Il,{className:"w-5 h-5 text-slate-600 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:t})]})}function F1({children:t}){return s.jsxs("div",{className:"bg-teal-50 border border-teal-200 rounded-lg p-4 text-center",children:[s.jsx(Wn,{className:"w-6 h-6 text-teal-600 mx-auto mb-2"}),s.jsx("span",{className:"text-gray-700 font-medium",children:t})]})}function B1({icon:t,value:e,href:r}){return s.jsxs("a",{href:r,className:"bg-blue-50 hover:bg-blue-100 transition-colors border border-blue-200 rounded-lg p-4 flex flex-col items-center gap-2 text-center",children:[s.jsx("div",{className:"text-blue-600",children:t}),s.jsx("span",{className:"text-gray-700 font-medium text-sm break-all",children:e})]})}function Cxe(){return s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[s.jsx("div",{className:"bg-gradient-to-r from-cyan-700 to-teal-700 text-white py-12 px-6",children:s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[s.jsx(zo,{className:"w-12 h-12"}),s.jsx("h1",{className:"text-4xl font-bold",children:"Terms & Conditions"})]}),s.jsx("p",{className:"text-emerald-100 text-lg",children:"Rento LB - Car Rental Marketplace"}),s.jsx("p",{className:"text-emerald-200 text-sm mt-2",children:"Last updated: December 2025"})]})}),s.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[s.jsx("div",{className:"bg-white rounded-2xl shadow-sm p-8 mb-6",children:s.jsx("p",{className:"text-gray-700 leading-relaxed",children:'Welcome to Rento LB ("Rento", "we", "us", "our"). By accessing or using the Rento LB mobile application, you agree to these Terms & Conditions.'})}),s.jsxs(Ba,{icon:s.jsx(Qn,{}),title:"1. Service Description",color:"blue",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"Rento LB is a digital marketplace that allows users to:"}),s.jsxs("ul",{className:"space-y-3",children:[s.jsx(ni,{children:"Search and book rental cars"}),s.jsx(ni,{children:"Connect directly with private car owners or rental agencies"})]}),s.jsx("div",{className:"mt-6 bg-blue-50 border-l-4 border-blue-400 p-4 rounded",children:s.jsxs("p",{className:"text-blue-900 font-semibold flex items-center gap-2",children:[s.jsx(Lu,{className:"w-5 h-5"}),"Rento does not own vehicles and does not act as a rental company."]})})]}),s.jsx(Ba,{icon:s.jsx(Ss,{}),title:"2. Eligibility",color:"purple",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(I1,{icon:s.jsx(Wn,{}),color:"green",children:"Users must be at least 18 years old"}),s.jsx(I1,{icon:s.jsx(Wn,{}),color:"green",children:"Users must provide valid identification and a driver's license"}),s.jsx(I1,{icon:s.jsx(Zn,{}),color:"red",children:"False or misleading information may result in account suspension"})]})}),s.jsxs(Ba,{icon:s.jsx(Ss,{}),title:"3. User Accounts",color:"indigo",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"You agree to:"}),s.jsx("div",{className:"bg-indigo-50 rounded-lg p-6 mb-4",children:s.jsxs("ul",{className:"space-y-3",children:[s.jsx(ni,{children:"Provide accurate and legal information"}),s.jsx(ni,{children:"Keep your account secure"}),s.jsx(ni,{children:"Accept responsibility for activity under your account"})]})}),s.jsx("div",{className:"bg-orange-50 border-l-4 border-orange-400 p-4 rounded",children:s.jsx("p",{className:"text-orange-900 font-medium",children:"Rento reserves the right to suspend or terminate accounts that violate these terms."})})]}),s.jsxs(Ba,{icon:s.jsx(Kt,{}),title:"4. Car Owners & Listings",color:"cyan",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"Car owners and agencies:"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[s.jsx(z1,{children:"Must upload legal vehicle documents"}),s.jsx(z1,{children:"Must ensure vehicles are road-legal and insured"}),s.jsx(z1,{children:"Have full right to accept or reject booking requests"})]}),s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsx("p",{className:"text-red-900 font-medium",children:"Rento may review, approve, reject, or remove any listing at its sole discretion."})})]}),s.jsx(Ba,{icon:s.jsx(HE,{}),title:"5. Bookings & Payments",color:"green",children:s.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:s.jsxs("div",{className:"space-y-4",children:[s.jsx(hx,{icon:s.jsx(HE,{}),children:"Payments are currently cash only"}),s.jsx(hx,{icon:s.jsx(Ss,{}),children:"Payments are made directly to the car owner"}),s.jsx(hx,{icon:s.jsx(Zn,{}),children:"Rento does not handle or store payments"}),s.jsx(hx,{icon:s.jsx(Lu,{}),children:"A commission model may be introduced in the future with prior notice"})]})})}),s.jsx(Ba,{icon:s.jsx(Lu,{}),title:"6. Marketplace Disclaimer",color:"orange",children:s.jsxs("div",{className:"bg-orange-50 border-l-4 border-orange-500 p-6 rounded",children:[s.jsx("h3",{className:"font-bold text-orange-900 text-lg mb-4",children:"Rento:"}),s.jsxs("ul",{className:"space-y-3 mb-4",children:[s.jsx(ni,{color:"orange",children:"Only facilitates search, booking, and connection"}),s.jsx(ni,{color:"orange",children:"Is not responsible for disputes, damages, accidents, delays, or agreements"}),s.jsx(ni,{color:"orange",children:"Is not a party to rental contracts"})]}),s.jsx("div",{className:"bg-orange-100 border border-orange-300 rounded p-4",children:s.jsx("p",{className:"text-orange-900 font-bold text-center",children:"All agreements are strictly between renter and owner."})})]})}),s.jsxs(Ba,{icon:s.jsx(ar,{}),title:"7. Ratings, Reviews & Feedback",color:"yellow",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"Users may:"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-4",children:[s.jsx(U1,{children:"Rate and review each other"}),s.jsx(U1,{children:"Submit feedback"}),s.jsx(U1,{children:"File support tickets or appeals"})]}),s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:s.jsx("p",{className:"text-red-900 font-medium",children:"Abusive, false, or misleading content may be removed."})})]}),s.jsxs(Ba,{icon:s.jsx(lM,{}),title:"8. Legal Compliance",color:"red",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"Users must comply with:"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(U3,{children:"Lebanese laws and regulations"}),s.jsx(U3,{children:"Traffic, insurance, and rental requirements"})]}),s.jsx("div",{className:"mt-6 bg-red-50 border-l-4 border-red-500 p-4 rounded",children:s.jsx("p",{className:"text-red-900 font-bold",children:"Illegal behavior will result in immediate suspension."})})]}),s.jsxs(Ba,{icon:s.jsx(K6,{}),title:"9. Account Termination",color:"slate",children:[s.jsx("p",{className:"text-gray-600 mb-4",children:"We reserve the right to suspend or terminate accounts for:"}),s.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[s.jsx($1,{children:"Fraud"}),s.jsx($1,{children:"Legal violations"}),s.jsx($1,{children:"Abuse of the platform"})]})]}),s.jsx(Ba,{icon:s.jsx(Qn,{}),title:"10. Limitation of Liability",color:"violet",children:s.jsxs("div",{className:"bg-violet-50 border border-violet-200 rounded-lg p-6",children:[s.jsx("p",{className:"text-violet-900 font-bold mb-4",children:"Rento shall not be liable for:"}),s.jsxs("ul",{className:"space-y-3",children:[s.jsx(ni,{color:"violet",children:"Losses or damages between users"}),s.jsx(ni,{color:"violet",children:"Vehicle condition or availability"}),s.jsx(ni,{color:"violet",children:"Third-party actions"})]})]})}),s.jsx(Ba,{icon:s.jsx(zo,{}),title:"11. Changes to Terms",color:"teal",children:s.jsx("div",{className:"bg-teal-50 border border-teal-200 rounded-lg p-6",children:s.jsxs("p",{className:"text-gray-700",children:["Terms may be updated at any time."," ",s.jsx("span",{className:"font-bold text-teal-900",children:"Continued use means acceptance."})]})})}),s.jsxs(Ba,{icon:s.jsx(za,{}),title:"12. Contact",color:"blue",children:[s.jsx("p",{className:"text-gray-600 mb-6",children:"If you have questions about these Terms & Conditions:"}),s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsx($3,{icon:s.jsx(za,{className:"w-5 h-5"}),value:"social@rento-lb.com",href:"mailto:social@rento-lb.com"}),s.jsx($3,{icon:s.jsx(ui,{className:"w-5 h-5"}),value:"+961 81 001 301",href:"tel:+96181001301"})]})]})]}),s.jsx("div",{className:"bg-slate-800 text-slate-300 py-8 px-6 mt-12",children:s.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[s.jsx("p",{className:"text-sm",children:" 2025 Rento LB. Operated by Rami Zeaiter. All rights reserved."}),s.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"These terms are effective as of December 2025"})]})})]})}function Ba({icon:t,title:e,children:r,color:n="blue"}){const a={blue:"text-blue-600 bg-blue-50",purple:"text-purple-600 bg-purple-50",indigo:"text-indigo-600 bg-indigo-50",cyan:"text-cyan-600 bg-cyan-50",green:"text-green-600 bg-green-50",yellow:"text-yellow-600 bg-yellow-50",orange:"text-orange-600 bg-orange-50",red:"text-red-600 bg-red-50",slate:"text-slate-600 bg-slate-50",violet:"text-violet-600 bg-violet-50",teal:"text-teal-600 bg-teal-50"};return s.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-8 mb-6",children:[s.jsxs("div",{className:"flex items-start gap-3 mb-6",children:[s.jsx("div",{className:`${a[n]} p-2 rounded-lg`,children:lt.cloneElement(t,{className:"w-6 h-6"})}),s.jsx("h2",{className:"text-2xl font-bold text-gray-900 flex-1",children:e})]}),r]})}function ni({children:t,color:e="blue"}){const r={blue:"bg-blue-500",orange:"bg-orange-500",violet:"bg-violet-500"};return s.jsxs("li",{className:"flex items-start gap-3 text-gray-700",children:[s.jsx("span",{className:`${r[e]} w-1.5 h-1.5 rounded-full mt-2 flex-shrink-0`}),s.jsx("span",{children:t})]})}function I1({icon:t,color:e,children:r}){const n={green:"bg-green-50 border-green-200 text-green-900",red:"bg-red-50 border-red-200 text-red-900"};return s.jsxs("div",{className:`${n[e]} border rounded-lg p-4 flex items-center gap-3`,children:[lt.cloneElement(t,{className:"w-5 h-5 flex-shrink-0"}),s.jsx("span",{className:"font-medium",children:r})]})}function z1({children:t}){return s.jsxs("div",{className:"bg-cyan-50 border border-cyan-200 rounded-lg p-4 flex items-center gap-3",children:[s.jsx(Wn,{className:"w-5 h-5 text-cyan-600 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700",children:t})]})}function hx({icon:t,children:e}){return s.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[s.jsx("div",{className:"text-green-600 mt-1",children:lt.cloneElement(t,{className:"w-5 h-5"})}),s.jsx("span",{className:"font-medium",children:e})]})}function U1({children:t}){return s.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 text-center",children:[s.jsx(ar,{className:"w-6 h-6 text-yellow-600 mx-auto mb-2"}),s.jsx("span",{className:"text-gray-700 font-medium",children:t})]})}function U3({children:t}){return s.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-3",children:[s.jsx(lM,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),s.jsx("span",{className:"text-gray-700 font-medium",children:t})]})}function $1({children:t}){return s.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4 text-center",children:[s.jsx(K6,{className:"w-6 h-6 text-slate-600 mx-auto mb-2"}),s.jsx("span",{className:"text-gray-700 font-medium",children:t})]})}function $3({icon:t,value:e,href:r}){return s.jsxs("a",{href:r,className:"bg-blue-50 hover:bg-blue-100 transition-colors border border-blue-200 rounded-lg p-6 flex flex-col items-center gap-3 text-center",children:[s.jsx("div",{className:"text-blue-600",children:t}),s.jsx("span",{className:"text-gray-700 font-medium break-all",children:e})]})}const kxe="https://play.google.com/store/apps/details?id=com.rentolb.app&pcampaignid=web_share",Axe="https://apps.apple.com/us/app/rento-lb/id6756906813?l=en-GB";function Exe(){return s.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-12",children:s.jsxs("div",{className:"w-full max-w-5xl mx-auto space-y-10",children:[s.jsxs("div",{className:"text-center space-y-3",children:[s.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold tracking-tight text-gray-900 dark:text-white",children:"Rento LB Mobile App"}),s.jsxs("p",{className:"text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:["Book cars on the go with our mobile app on both"," ",s.jsx("span",{className:"font-semibold",children:"Google Play"})," and"," ",s.jsx("span",{className:"font-semibold",children:"Apple App Store"}),"."]})]}),s.jsxs("div",{className:"grid gap-8 md:grid-cols-2",children:[s.jsxs("a",{href:kxe,target:"_blank",rel:"noopener noreferrer",className:"group flex flex-col items-center gap-6 p-4",children:[s.jsx("div",{className:"w-full flex justify-center mobile-phone-3d",children:s.jsx("img",{src:"/mobileapp.png",alt:"Rento LB mobile app preview for Google Play"})}),s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsx("p",{className:"text-sm font-medium uppercase tracking-[0.2em] text-emerald-600 dark:text-emerald-400",children:"Get it on"}),s.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/7/78/Google_Play_Store_badge_EN.svg",alt:"Get it on Google Play",className:"h-10 sm:h-12"})]})]}),s.jsxs("a",{href:Axe,target:"_blank",rel:"noopener noreferrer",className:"group flex flex-col items-center gap-6 p-4",children:[s.jsx("div",{className:"w-full flex justify-center mobile-phone-3d",children:s.jsx("img",{src:"/mobileapp.png",alt:"Rento LB mobile app preview for App Store"})}),s.jsxs("div",{className:"flex flex-col items-center gap-3",children:[s.jsx("p",{className:"text-sm font-medium uppercase tracking-[0.2em] text-sky-700 dark:text-sky-400",children:"Download on the"}),s.jsx("img",{src:"https://developer.apple.com/assets/elements/badges/download-on-the-app-store.svg",alt:"Download on the App Store",className:"h-10 sm:h-12"})]})]})]}),s.jsxs("p",{className:"text-xs text-center text-gray-500 dark:text-gray-400",children:["Note: Make sure the image file is available at ",s.jsx("code",{children:"/mobile-app.png"})," in your"," ",s.jsx("code",{children:"public"})," folder so that the preview renders correctly."]})]})})}var Txe=Symbol("radix.slottable");function Rxe(t){const e=({children:r})=>s.jsx(s.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=Txe,e}var KB="AlertDialog",[Dxe]=va(KB,[DO]),Zo=DO(),XB=t=>{const{__scopeAlertDialog:e,...r}=t,n=Zo(e);return s.jsx(YO,{...n,...r,modal:!0})};XB.displayName=KB;var Mxe="AlertDialogTrigger",Pxe=_.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=Zo(r);return s.jsx(KO,{...a,...n,ref:e})});Pxe.displayName=Mxe;var Oxe="AlertDialogPortal",ZB=t=>{const{__scopeAlertDialog:e,...r}=t,n=Zo(e);return s.jsx(XO,{...n,...r})};ZB.displayName=Oxe;var Lxe="AlertDialogOverlay",QB=_.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=Zo(r);return s.jsx(e2,{...a,...n,ref:e})});QB.displayName=Lxe;var Hu="AlertDialogContent",[Fxe,Bxe]=Dxe(Hu),Ixe=Rxe("AlertDialogContent"),JB=_.forwardRef((t,e)=>{const{__scopeAlertDialog:r,children:n,...a}=t,i=Zo(r),o=_.useRef(null),c=Jt(e,o),d=_.useRef(null);return s.jsx(KJ,{contentName:Hu,titleName:eI,docsSlug:"alert-dialog",children:s.jsx(Fxe,{scope:r,cancelRef:d,children:s.jsxs(t2,{role:"alertdialog",...i,...a,ref:c,onOpenAutoFocus:pt(a.onOpenAutoFocus,h=>{h.preventDefault(),d.current?.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[s.jsx(Ixe,{children:n}),s.jsx(Uxe,{contentRef:o})]})})})});JB.displayName=Hu;var eI="AlertDialogTitle",tI=_.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=Zo(r);return s.jsx(s2,{...a,...n,ref:e})});tI.displayName=eI;var sI="AlertDialogDescription",rI=_.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=Zo(r);return s.jsx(r2,{...a,...n,ref:e})});rI.displayName=sI;var zxe="AlertDialogAction",nI=_.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,a=Zo(r);return s.jsx(n2,{...a,...n,ref:e})});nI.displayName=zxe;var aI="AlertDialogCancel",iI=_.forwardRef((t,e)=>{const{__scopeAlertDialog:r,...n}=t,{cancelRef:a}=Bxe(aI,r),i=Zo(r),o=Jt(e,a);return s.jsx(n2,{...i,...n,ref:o})});iI.displayName=aI;var Uxe=({contentRef:t})=>{const e=`\`${Hu}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Hu}\` by passing a \`${sI}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Hu}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return _.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(e)},[e,t]),null},$xe=XB,Vxe=ZB,oI=QB,lI=JB,cI=nI,dI=iI,uI=tI,hI=rI;const Cy=$xe,Hxe=Vxe,fI=_.forwardRef(({className:t,...e},r)=>s.jsx(oI,{className:_t("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:r}));fI.displayName=oI.displayName;const sp=_.forwardRef(({className:t,...e},r)=>s.jsxs(Hxe,{children:[s.jsx(fI,{}),s.jsx(lI,{ref:r,className:_t("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...e})]}));sp.displayName=lI.displayName;const rp=({className:t,...e})=>s.jsx("div",{className:_t("flex flex-col space-y-2 text-center sm:text-left",t),...e});rp.displayName="AlertDialogHeader";const np=({className:t,...e})=>s.jsx("div",{className:_t("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});np.displayName="AlertDialogFooter";const ap=_.forwardRef(({className:t,...e},r)=>s.jsx(uI,{ref:r,className:_t("text-lg font-semibold",t),...e}));ap.displayName=uI.displayName;const ip=_.forwardRef(({className:t,...e},r)=>s.jsx(hI,{ref:r,className:_t("text-sm text-muted-foreground",t),...e}));ip.displayName=hI.displayName;const op=_.forwardRef(({className:t,...e},r)=>s.jsx(cI,{ref:r,className:_t(CN(),t),...e}));op.displayName=cI.displayName;const lp=_.forwardRef(({className:t,...e},r)=>s.jsx(dI,{ref:r,className:_t(CN({variant:"outline"}),"mt-2 sm:mt-0",t),...e}));lp.displayName=dI.displayName;var ky="Switch",[qxe]=va(ky),[Wxe,Gxe]=qxe(ky),mI=_.forwardRef((t,e)=>{const{__scopeSwitch:r,name:n,checked:a,defaultChecked:i,required:o,disabled:c,value:d="on",onCheckedChange:h,form:m,...f}=t,[g,y]=_.useState(null),v=Jt(e,k=>y(k)),w=_.useRef(!1),j=g?m||!!g.closest("form"):!0,[b,N]=Uo({prop:a,defaultProp:i??!1,onChange:h,caller:ky});return s.jsxs(Wxe,{scope:r,checked:b,disabled:c,children:[s.jsx(Bt.button,{type:"button",role:"switch","aria-checked":b,"aria-required":o,"data-state":yI(b),"data-disabled":c?"":void 0,disabled:c,value:d,...f,ref:v,onClick:pt(t.onClick,k=>{N(S=>!S),j&&(w.current=k.isPropagationStopped(),w.current||k.stopPropagation())})}),j&&s.jsx(xI,{control:g,bubbles:!w.current,name:n,value:d,checked:b,required:o,disabled:c,form:m,style:{transform:"translateX(-100%)"}})]})});mI.displayName=ky;var pI="SwitchThumb",gI=_.forwardRef((t,e)=>{const{__scopeSwitch:r,...n}=t,a=Gxe(pI,r);return s.jsx(Bt.span,{"data-state":yI(a.checked),"data-disabled":a.disabled?"":void 0,...n,ref:e})});gI.displayName=pI;var Yxe="SwitchBubbleInput",xI=_.forwardRef(({__scopeSwitch:t,control:e,checked:r,bubbles:n=!0,...a},i)=>{const o=_.useRef(null),c=Jt(o,i),d=Y0(r),h=G0(e);return _.useEffect(()=>{const m=o.current;if(!m)return;const f=window.HTMLInputElement.prototype,y=Object.getOwnPropertyDescriptor(f,"checked").set;if(d!==r&&y){const v=new Event("click",{bubbles:n});y.call(m,r),m.dispatchEvent(v)}},[d,r,n]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...a,tabIndex:-1,ref:c,style:{...a.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});xI.displayName=Yxe;function yI(t){return t?"checked":"unchecked"}var bI=mI,Kxe=gI;const kn=_.forwardRef(({className:t,...e},r)=>s.jsx(bI,{className:_t("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...e,ref:r,children:s.jsx(Kxe,{className:_t("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));kn.displayName=bI.displayName;const Am=(t={})=>Oe.get("/admin/users",{params:t}),Xxe=t=>Oe.get(`/admin/users/${t}`),vI=(t={})=>Oe.get("/admin/cars",{params:t}),Zxe=t=>Oe.get(`/admin/cars/${t}`),wI=(t,e)=>{const r=["main_image","front_image","back_image","left_image","right_image"];if(Object.keys(e).some(i=>r.includes(i)&&e[i]instanceof File)){const i=new FormData;Object.keys(e).forEach(c=>{const d=e[c];d!=null&&(d instanceof File?i.append(c,d):Array.isArray(d)||typeof d=="object"&&d!==null?i.append(c,JSON.stringify(d)):i.append(c,d))});const o={headers:{...Oe.defaults.headers.common,...Oe.defaults.headers.put||{}}};return delete o.headers["Content-Type"],Oe.put(`/admin/cars/${t}`,i,o)}const a={};return Object.keys(e).forEach(i=>{const o=e[i];o!=null&&(a[i]=o)}),Oe.put(`/admin/cars/${t}`,a,{headers:{"Content-Type":"application/json"}})},V3=(t,e)=>Oe.put(`/admin/cars/${t}`,{car_accepted:e},{headers:{"Content-Type":"application/json"}}),Qxe=t=>Oe.delete(`/admin/cars/${t}`),jI=(t,e,r)=>{const n=new FormData;n.append("image",e);const a=String(r??"").trim().toLowerCase();return n.append("type",a),Oe.post(`/admin/cars/${t}/photo`,n,{transformRequest:[(i,o)=>(typeof FormData<"u"&&i instanceof FormData&&delete o["Content-Type"],i)]})},Jxe=async(t,e)=>(await Oe.get(`/admin/cars/${t}/images/${e}/download`,{responseType:"blob"})).data,e0e=(t={})=>Oe.get("/admin/agencies",{params:t}),t0e=t=>Oe.get(`/admin/agencies/${t}`),s0e=(t={})=>Oe.get("/admin/payments",{params:t}),r0e=t=>Oe.post("/admin/payments/issue",t),n0e=t=>Oe.get(`/admin/agents/${t}/fee-summary`),a0e=t=>Oe.get(`/admin/agents/${t}/fee-percentage`),i0e=(t,e)=>Oe.put(`/admin/agents/${t}/fee-percentage`,e),o0e=(t={})=>Oe.get("/admin/announcements",{params:t}),l0e=t=>Oe.delete(`/admin/announcements/${t}`),c0e=(t={})=>Oe.get("/admin/appeals",{params:t}),d0e=(t,e)=>Oe.put(`/admin/appeals/${t}`,e),u0e=(t={})=>Oe.get("/admin/ads",{params:t}),h0e=t=>Oe.post("/admin/ads",t),f0e=t=>Oe.delete(`/admin/ads/${t}`),m0e=(t={})=>Oe.get("/admin/featured-cars",{params:t}),p0e=t=>Oe.post("/admin/featured-cars",t),g0e=t=>Oe.delete(`/admin/featured-cars/${t}`),x0e=(t={})=>Oe.get("/admin/holidays",{params:t}),y0e=t=>Oe.post("/admin/holidays",t),b0e=t=>Oe.delete(`/admin/holidays/${t}`),v0e=t=>Oe.get(`/admin/real-user-data/${t}`),w0e=(t,e)=>Oe.post(`/admin/real-user-data/${t}`,e),j0e=(t,e)=>Oe.patch(`/admin/real-user-data/${t}/status`,e),_0e=t=>Oe.delete(`/admin/real-user-data/${t}`),_I=(t={})=>Oe.get("/admin/promo-codes",{params:t}),NI=t=>Oe.post("/admin/promo-codes",t),SI=(t,e)=>Oe.put(`/admin/promo-codes/${t}`,e),CI=t=>Oe.delete(`/admin/promo-codes/${t}`),N0e=(t,e={})=>Oe.get(`/admin/promo-codes/${t}/users`,{params:e}),dN=(t,e={})=>Oe.get(`/admin/brokers/${t}/referrals`,{params:e}),jS=t=>Oe.post("/admin/users",{...t,role:"broker"}),kI=t=>Oe.get(`/admin/brokers/${t}/balance`),AI=(t,e={})=>Oe.get(`/admin/brokers/${t}/payouts`,{params:e}),j0=(t,e={})=>Oe.get(`/admin/brokers/${t}/commissions`,{params:e}),EI=t=>Oe.post("/admin/broker-payouts",t),TI=(t={})=>Oe.get("/admin/broker-commissions",{params:t}),RI=t=>Oe.put(`/admin/broker-commissions/${t}/cancel`),DI=t=>Oe.delete(`/admin/broker-referrals/${t}`),S0e=t=>Oe.post("/admin/notifications/send-to-all",t),C0e=(t={})=>Oe.get("/admin/otps",{params:t}),MI=(t={})=>Oe.get("/services",{params:t}),k0e=(t,e)=>{const r=new FormData;return Object.entries(e).forEach(([n,a])=>{a!=null&&(Array.isArray(a)?a.forEach(i=>{r.append(n,i)}):r.append(n,a))}),Oe.post(`/admin/third-parties/${t}/services`,r,{headers:{"Content-Type":"multipart/form-data"}})},A0e=(t,e)=>Oe.put(`/admin/services/${t}`,e),PI=t=>Oe.delete(`/admin/services/${t}`),OI=t=>Oe.get(`/services/${t}/items`),E0e=(t,e)=>Oe.post(`/admin/services/${t}/items`,e),T0e=(t,e)=>Oe.put(`/admin/services/items/${t}`,e),LI=t=>Oe.delete(`/admin/services/items/${t}`),FI=(t={})=>Oe.get("/admin/third-parties",{params:t}),R0e=t=>Oe.post("/admin/third-parties",t),D0e=(t,e)=>Oe.put(`/admin/third-parties/${t}`,e),BI=t=>Oe.delete(`/admin/third-parties/${t}`),II=(t={})=>Oe.get("/admin/feedbacks",{params:t}),zI=t=>Oe.delete(`/admin/feedbacks/${t}`),UI=(t,e,r="export")=>{const n=e.map(m=>m.label||m.key).join(","),a=t.map(m=>e.map(f=>{let g=m[f.key];if(f.transform&&typeof f.transform=="function"&&(g=f.transform(m)),g==null)return"";const y=String(g);return y.includes(",")||y.includes('"')||y.includes(`
`)?`"${y.replace(/"/g,'""')}"`:y}).join(",")),i=[n,...a].join(`
`),o="\uFEFF",c=new Blob([o+i],{type:"text/csv;charset=utf-8;"}),d=document.createElement("a"),h=URL.createObjectURL(c);d.setAttribute("href",h),d.setAttribute("download",`${r}.csv`),d.style.visibility="hidden",document.body.appendChild(d),d.click(),document.body.removeChild(d)},$I=(t,e,r="Export",n="export")=>{const a=`
    <div>
      <h1>${r}</h1>
      <p>Generated on: ${new Date().toLocaleString()}</p>
      <table>
        <thead>
          <tr>
            ${e.map(o=>`<th>${o.label||o.key}</th>`).join("")}
          </tr>
        </thead>
        <tbody>
          ${t.map(o=>`
            <tr>
              ${e.map(c=>`<td>${o[c.key]??""}</td>`).join("")}
            </tr>
          `).join("")}
        </tbody>
      </table>
    </div>
  `,i=window.open("","_blank");i.document.write(`
    <html>
      <head>
        <title>${n}</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 20px; }
          h1 { color: #333; }
          table { border-collapse: collapse; width: 100%; margin-top: 20px; }
          th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
          th { background-color: #f2f2f2; font-weight: bold; }
          @media print {
            body { margin: 0; }
            @page { margin: 1cm; }
          }
        </style>
      </head>
      <body>
        ${a}
      </body>
    </html>
  `),i.document.close(),i.focus(),setTimeout(()=>{i.print(),i.close()},250)};function VI({onSubmit:t,loading:e=!1}){const[r,n]=_.useState({user_id:"",website:"",company_type:"",image_url:"",target_url:"",ads_text:"",amount_cost:"",start_at:"",expire_at:"",online:!1}),a=o=>{const{name:c,value:d,type:h,checked:m}=o.target;n(f=>({...f,[c]:h==="checkbox"?m:d}))},i=o=>{o.preventDefault();const c={...r,user_id:parseInt(r.user_id),amount_cost:r.amount_cost?parseFloat(r.amount_cost):0,start_at:r.start_at||new Date().toISOString().slice(0,19).replace("T"," "),expire_at:r.expire_at||new Date(Date.now()+720*60*60*1e3).toISOString().slice(0,19).replace("T"," ")};t(c)};return s.jsxs("form",{onSubmit:i,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"User ID *"}),s.jsx(Se,{type:"number",name:"user_id",value:r.user_id,onChange:a,required:!0,placeholder:"Enter user ID"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"Start Date/Time *"}),s.jsx(Se,{type:"datetime-local",name:"start_at",value:r.start_at,onChange:a,required:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Expire Date/Time *"}),s.jsx(Se,{type:"datetime-local",name:"expire_at",value:r.expire_at,onChange:a,required:!0})]})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Website"}),s.jsx(Se,{type:"text",name:"website",value:r.website,onChange:a,placeholder:"example.com"})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Company Type"}),s.jsx(Se,{type:"text",name:"company_type",value:r.company_type,onChange:a,placeholder:"rental"})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Image URL"}),s.jsx(Se,{type:"text",name:"image_url",value:r.image_url,onChange:a,placeholder:"https://example.com/image.jpg or /path/to/image.jpg"})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Target URL"}),s.jsx(Se,{type:"text",name:"target_url",value:r.target_url,onChange:a,placeholder:"https://example.com"})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Ad Text"}),s.jsx(pn,{name:"ads_text",value:r.ads_text,onChange:a,placeholder:"Advertisement text content"})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Amount Cost"}),s.jsx(Se,{type:"number",step:"0.01",name:"amount_cost",value:r.amount_cost,onChange:a,placeholder:"0.00"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ue,{children:"Online"}),s.jsx(kn,{checked:r.online,onCheckedChange:o=>n(c=>({...c,online:o}))})]}),s.jsx("div",{className:"flex gap-2 pt-4",children:s.jsx(pe,{type:"submit",disabled:e,className:"flex-1",children:e?"Creating...":"Create Ad"})})]})}function M0e({onSubmit:t,loading:e=!1}){const[r,n]=_.useState({user_id:"",name:"",amount:"",source:"bank",type:"income",status:"pending",due_date:"",description:"",metadata:""}),a=c=>{const{name:d,value:h}=c.target;n(m=>({...m,[d]:h}))},i=(c,d)=>{n(h=>({...h,[c]:d}))},o=c=>{c.preventDefault();const d={...r,user_id:parseInt(r.user_id),amount:parseFloat(r.amount),due_date:r.due_date||new Date().toISOString().slice(0,19).replace("T"," "),...r.metadata&&{metadata:JSON.parse(r.metadata)}};t(d)};return s.jsxs("form",{onSubmit:o,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"User ID *"}),s.jsx(Se,{type:"number",name:"user_id",value:r.user_id,onChange:a,required:!0,placeholder:"Enter user ID"})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Name/Description *"}),s.jsx(Se,{type:"text",name:"name",value:r.name,onChange:a,required:!0,placeholder:"Payment name",maxLength:100})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Amount *"}),s.jsx(Se,{type:"number",step:"0.01",name:"amount",value:r.amount,onChange:a,required:!0,placeholder:"99.99"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"Source *"}),s.jsxs(ft,{value:r.source,onValueChange:c=>i("source",c),children:[s.jsx(ut,{children:s.jsx(mt,{})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"wish",children:"Wish"}),s.jsx(ke,{value:"omt",children:"OMT"}),s.jsx(ke,{value:"bank",children:"Bank"}),s.jsx(ke,{value:"cash",children:"Cash"}),s.jsx(ke,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Type *"}),s.jsxs(ft,{value:r.type,onValueChange:c=>i("type",c),children:[s.jsx(ut,{children:s.jsx(mt,{})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"income",children:"Income"}),s.jsx(ke,{value:"expense",children:"Expense"}),s.jsx(ke,{value:"debit",children:"Debit"}),s.jsx(ke,{value:"upcoming_income",children:"Upcoming Income"}),s.jsx(ke,{value:"credit",children:"Credit"})]})]})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"Status"}),s.jsxs(ft,{value:r.status,onValueChange:c=>i("status",c),children:[s.jsx(ut,{children:s.jsx(mt,{})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"pending",children:"Pending"}),s.jsx(ke,{value:"paid",children:"Paid"}),s.jsx(ke,{value:"overdue",children:"Overdue"}),s.jsx(ke,{value:"cancelled",children:"Cancelled"})]})]})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Due Date"}),s.jsx(Se,{type:"datetime-local",name:"due_date",value:r.due_date,onChange:a})]})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Description"}),s.jsx(pn,{name:"description",value:r.description,onChange:a,placeholder:"Additional description"})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Metadata (JSON)"}),s.jsx(pn,{name:"metadata",value:r.metadata,onChange:a,placeholder:'{"key": "value"}'})]}),s.jsx("div",{className:"flex gap-2 pt-4",children:s.jsx(pe,{type:"submit",disabled:e,className:"flex-1",children:e?"Issuing...":"Issue Payment/Invoice"})})]})}function HI({onSubmit:t,loading:e=!1}){const[r,n]=_.useState({car_id:"",duration:"",start_at:""}),a=o=>{const{name:c,value:d}=o.target;n(h=>({...h,[c]:d}))},i=o=>{o.preventDefault();const c={...r,car_id:parseInt(r.car_id),duration:parseInt(r.duration),start_at:r.start_at||new Date().toISOString().slice(0,19).replace("T"," ")};t(c)};return s.jsxs("form",{onSubmit:i,className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"Car ID *"}),s.jsx(Se,{type:"number",name:"car_id",value:r.car_id,onChange:a,required:!0,placeholder:"Enter car ID"})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Duration (Days) *"}),s.jsx(Se,{type:"number",name:"duration",value:r.duration,onChange:a,required:!0,min:"1",max:"365",placeholder:"30"}),s.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Number of days to feature (1-365)"})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Start Date/Time"}),s.jsx(Se,{type:"datetime-local",name:"start_at",value:r.start_at,onChange:a,placeholder:"Leave empty to start now"})]}),s.jsx("div",{className:"flex gap-2 pt-4",children:s.jsx(pe,{type:"submit",disabled:e,className:"flex-1",children:e?"Creating...":"Create Featured Car"})})]})}const qI=_.createContext(null);function wn(){const t=_.useContext(qI);if(!t)throw new Error("useAdmin must be used within AdminProvider");return t}const di={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640"};function P0e(){const{summary:t}=wn();return s.jsx("div",{className:"space-y-6",children:t&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(Ue,{children:[s.jsxs(ps,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(gs,{className:"text-sm font-medium",children:"Total Users"}),s.jsx(Ss,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(qe,{children:[s.jsx("div",{className:"text-2xl font-bold",children:t.total_users}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.active_users," active"]})]})]}),s.jsxs(Ue,{children:[s.jsxs(ps,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(gs,{className:"text-sm font-medium",children:"Total Bookings"}),s.jsx(Hs,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(qe,{children:[s.jsx("div",{className:"text-2xl font-bold",children:t.total_bookings}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.pending_bookings," pending"]})]})]}),s.jsxs(Ue,{children:[s.jsxs(ps,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(gs,{className:"text-sm font-medium",children:"Total Revenue"}),s.jsx(cr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(qe,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:["$",t.total_revenue?.toLocaleString()]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["$",t.total_refunds?.toLocaleString()," refunds"]})]})]}),s.jsxs(Ue,{children:[s.jsxs(ps,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(gs,{className:"text-sm font-medium",children:"Total Cars"}),s.jsx(Kt,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(qe,{children:[s.jsx("div",{className:"text-2xl font-bold",children:t.total_cars}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.available_cars," available"]})]})]})]})})}function O0e(){const{users:t,filters:e,setFilters:r,navigate:n,fetchUsers:a,fetchUserDetails:i,setSelectedItem:o,setModalType:c,setModalOpen:d,showConfirmDialog:h,deleteUser:m}=wn(),f=t?.data??(Array.isArray(t)?t:[]);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Se,{placeholder:"Search users...",className:"w-64"}),s.jsxs(ft,{value:e.users.role,onValueChange:g=>r(y=>({...y,users:{...y.users,role:g}})),children:[s.jsx(ut,{className:"w-32",children:s.jsx(mt,{placeholder:"Role"})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"all",children:"All Roles"}),s.jsx(ke,{value:"client",children:"Client"}),s.jsx(ke,{value:"agency",children:"Agency"}),s.jsx(ke,{value:"admin",children:"Admin"})]})]}),s.jsx(pe,{variant:"outline",size:"icon",onClick:a,children:s.jsx(Mt,{className:"w-4 h-4"})})]}),s.jsxs(pe,{onClick:()=>n("/admin/real-user-data"),style:{background:`linear-gradient(to right, ${di.darkBlue}, ${di.teal})`},className:"text-white flex items-center gap-2",children:[s.jsx(Gx,{className:"w-4 h-4"}),"Manage Real User Data"]})]}),s.jsx(Ue,{children:s.jsx(qe,{className:"p-0",children:s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Name"}),s.jsx(_e,{children:"Email"}),s.jsx(_e,{children:"Role"}),s.jsx(_e,{children:"Status"}),s.jsx(_e,{children:"Verified"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Dt,{children:(Array.isArray(f)?f:[]).map(g=>s.jsxs(ze,{children:[s.jsx(fe,{children:g.id}),s.jsx(fe,{children:g.first_name&&g.last_name?`${g.first_name} ${g.last_name}`:g.username||"N/A"}),s.jsx(fe,{children:g.email||g.phone_number||"N/A"}),s.jsx(fe,{children:s.jsx(We,{variant:"outline",children:g.role})}),s.jsx(fe,{children:s.jsx(We,{variant:g.status?"default":"secondary",children:g.status?"Active":"Inactive"})}),s.jsx(fe,{children:g.verified_by_admin?s.jsx(Gr,{className:"w-4 h-4 text-green-500"}):s.jsx(Zn,{className:"w-4 h-4 text-gray-400"})}),s.jsx(fe,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pe,{variant:"ghost",size:"icon",onClick:async()=>{const y=await i(g.id);y&&(o(y),c("view-user"),d(!0))},title:"View Details",children:s.jsx(nr,{className:"w-4 h-4"})}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:async()=>{const y=await i(g.id);y&&(o(y),c("edit-user"),d(!0))},children:s.jsx(vr,{className:"w-4 h-4"})}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>h("Delete User","Are you sure you want to delete this user?",()=>m(g.id)),children:s.jsx(Zs,{className:"w-4 h-4 text-red-500"})})]})})]},g.id))})]})})})]})}function L0e(){const{cars:t,filters:e,setFilters:r,fetchCars:n,fetchCarDetails:a,setSelectedItem:i,setModalType:o,setModalOpen:c,showConfirmDialog:d,deleteCar:h}=wn(),m=t?.data??(Array.isArray(t)?t:[]);return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ft,{value:e.cars.status,onValueChange:f=>r(g=>({...g,cars:{...g.cars,status:f}})),children:[s.jsx(ut,{className:"w-40",children:s.jsx(mt,{placeholder:"Status"})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"all",children:"All Statuses"}),s.jsx(ke,{value:"available",children:"Available"}),s.jsx(ke,{value:"not_available",children:"Not Available"}),s.jsx(ke,{value:"rented",children:"Rented"}),s.jsx(ke,{value:"maintenance",children:"Maintenance"})]})]}),s.jsx(pe,{variant:"outline",size:"icon",onClick:n,children:s.jsx(Mt,{className:"w-4 h-4"})})]})}),s.jsx(Ue,{children:s.jsx(qe,{className:"p-0",children:s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Make/Model"}),s.jsx(_e,{children:"Year"}),s.jsx(_e,{children:"Status"}),s.jsx(_e,{children:"Approved"}),s.jsx(_e,{children:"Daily Rate"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Dt,{children:(Array.isArray(m)?m:[]).map(f=>s.jsxs(ze,{children:[s.jsx(fe,{children:f.id}),s.jsxs(fe,{children:[f.make," ",f.model]}),s.jsx(fe,{children:f.year}),s.jsx(fe,{children:s.jsx(We,{variant:"outline",children:f.status})}),s.jsx(fe,{children:f.car_accepted?s.jsx(Gr,{className:"w-4 h-4 text-green-500"}):s.jsx(Zn,{className:"w-4 h-4 text-gray-400"})}),s.jsxs(fe,{children:["$",f.daily_rate]}),s.jsx(fe,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pe,{variant:"ghost",size:"icon",onClick:async()=>{const g=await a(f.id);g&&(i(g),o("view-car"),c(!0))},title:"View Details",children:s.jsx(nr,{className:"w-4 h-4"})}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:async()=>{const g=await a(f.id);g&&(i(g),o("edit-car"),c(!0))},children:s.jsx(vr,{className:"w-4 h-4"})}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>d("Delete Car","Are you sure you want to delete this car?",()=>h(f.id)),children:s.jsx(Zs,{className:"w-4 h-4 text-red-500"})})]})})]},f.id))})]})})})]})}function F0e(){const{bookings:t,filters:e,setFilters:r,fetchBookings:n,fetchBookingDetails:a,setSelectedItem:i,setModalType:o,setModalOpen:c,forceCompleteBooking:d}=wn(),h=t?.data??(Array.isArray(t)?t:[]);return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ft,{value:e.bookings.status,onValueChange:m=>r(f=>({...f,bookings:{...f.bookings,status:m}})),children:[s.jsx(ut,{className:"w-40",children:s.jsx(mt,{placeholder:"Status"})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"all",children:"All Statuses"}),s.jsx(ke,{value:"pending",children:"Pending"}),s.jsx(ke,{value:"confirmed",children:"Confirmed"}),s.jsx(ke,{value:"cancelled",children:"Cancelled"}),s.jsx(ke,{value:"completed",children:"Completed"}),s.jsx(ke,{value:"rejected",children:"Rejected"})]})]}),s.jsx(pe,{variant:"outline",size:"icon",onClick:n,children:s.jsx(Mt,{className:"w-4 h-4"})})]})}),s.jsx(Ue,{children:s.jsx(qe,{className:"p-0",children:s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Client"}),s.jsx(_e,{children:"Car"}),s.jsx(_e,{children:"Status"}),s.jsx(_e,{children:"Payment"}),s.jsx(_e,{children:"Total Price"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Dt,{children:(Array.isArray(h)?h:[]).map(m=>s.jsxs(ze,{children:[s.jsx(fe,{children:m.id}),s.jsx(fe,{children:m.client?.first_name&&m.client?.last_name?`${m.client.first_name} ${m.client.last_name}`:m.client?.username||"N/A"}),s.jsxs(fe,{children:[m.car?.make," ",m.car?.model]}),s.jsx(fe,{children:s.jsx(We,{variant:"outline",children:m.booking_request_status})}),s.jsx(fe,{children:s.jsx(We,{variant:m.payment_status==="paid"?"default":"secondary",children:m.payment_status})}),s.jsxs(fe,{children:["$",m.total_booking_price]}),s.jsx(fe,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pe,{variant:"ghost",size:"icon",onClick:async()=>{const f=await a(m.id);f&&(i(f),o("view-booking"),c(!0))},title:"View Details",children:s.jsx(nr,{className:"w-4 h-4"})}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:async()=>{const f=await a(m.id);f&&(i(f),o("edit-booking"),c(!0))},children:s.jsx(vr,{className:"w-4 h-4"})}),m.booking_request_status==="confirmed"&&s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>d(m.id),title:"Force Complete","aria-label":"Force complete booking",children:s.jsx(Gr,{className:"w-4 h-4 text-green-500"})})]})})]},m.id))})]})})})]})}function B0e(){const{payments:t,setSelectedItem:e,setModalType:r,setModalOpen:n,fetchPayments:a,processRefund:i}=wn(),o=t?.data??(Array.isArray(t)?t:[]),c=[{key:"id",label:"ID"},{key:"user",label:"User",transform:d=>d.user?.name||"N/A"},{key:"amount",label:"Amount",transform:d=>`$${d.amount}`},{key:"type",label:"Type"},{key:"status",label:"Status"},{key:"source",label:"Source"},{key:"name",label:"Name"},{key:"created_at",label:"Created At",transform:d=>new Date(d.created_at).toLocaleString()}];return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(pe,{onClick:()=>{e(null),r("create-payment"),n(!0)},children:[s.jsx(sr,{className:"w-4 h-4 mr-2"}),"Issue Payment/Invoice"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(pe,{variant:"outline",onClick:()=>{const d=(Array.isArray(o)?o:[]).map(h=>({...h,user:h.user?.name||"N/A",amount:`$${h.amount}`,created_at:new Date(h.created_at).toLocaleString()}));UI(d,c,"invoices")},children:[s.jsx(Wu,{className:"w-4 h-4 mr-2"}),"Export Excel"]}),s.jsxs(pe,{variant:"outline",onClick:()=>{const d=(Array.isArray(o)?o:[]).map(h=>({...h,user:h.user?.name||"N/A",amount:`$${h.amount}`,created_at:new Date(h.created_at).toLocaleString()}));$I(d,c,"Invoices Report","invoices")},children:[s.jsx(Wu,{className:"w-4 h-4 mr-2"}),"Export PDF"]}),s.jsx(pe,{variant:"outline",size:"icon",onClick:a,"aria-label":"Refresh payments",children:s.jsx(Mt,{className:"w-4 h-4"})})]})]}),s.jsx(Ue,{children:s.jsx(qe,{className:"p-0",children:s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"User"}),s.jsx(_e,{children:"Amount"}),s.jsx(_e,{children:"Type"}),s.jsx(_e,{children:"Status"}),s.jsx(_e,{children:"Source"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Dt,{children:(Array.isArray(o)?o:[]).map(d=>s.jsxs(ze,{children:[s.jsx(fe,{children:d.id}),s.jsx(fe,{children:d.user?.name||"N/A"}),s.jsxs(fe,{children:["$",d.amount]}),s.jsx(fe,{children:s.jsx(We,{variant:"outline",children:d.type})}),s.jsx(fe,{children:s.jsx(We,{variant:d.status==="paid"?"default":"secondary",children:d.status})}),s.jsx(fe,{children:d.source}),s.jsx(fe,{children:d.type==="refund"&&d.status!=="processed"&&s.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>{const h=d.reference_id||d.id;i(h)},children:"Process Refund"})})]},d.id))})]})})})]})}function I0e(){const{announcements:t,setSelectedItem:e,setModalType:r,setModalOpen:n,fetchAnnouncements:a,showConfirmDialog:i,deleteAnnouncement:o}=wn(),c=t?.data??(Array.isArray(t)?t:[]);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(pe,{onClick:()=>{e(null),r("create-announcement"),n(!0)},children:[s.jsx(sr,{className:"w-4 h-4 mr-2"}),"Create Announcement"]}),s.jsx(pe,{variant:"outline",size:"icon",onClick:a,children:s.jsx(Mt,{className:"w-4 h-4"})})]}),s.jsx(Ue,{children:s.jsx(qe,{className:"p-0",children:s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Title"}),s.jsx(_e,{children:"Status"}),s.jsx(_e,{children:"Priority"}),s.jsx(_e,{children:"Target Audience"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Dt,{children:(Array.isArray(c)?c:[]).map(d=>s.jsxs(ze,{children:[s.jsx(fe,{children:d.id}),s.jsx(fe,{children:d.title}),s.jsx(fe,{children:s.jsx(We,{variant:"outline",children:d.status})}),s.jsx(fe,{children:s.jsx(We,{variant:"outline",children:d.priority})}),s.jsx(fe,{children:d.target_audience?.join(", ")||"All"}),s.jsx(fe,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>{e(d),r("edit-announcement"),n(!0)},"aria-label":"Edit announcement",children:s.jsx(vr,{className:"w-4 h-4"})}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>i("Delete Announcement","Are you sure you want to delete this announcement?",()=>o(d.id)),children:s.jsx(Zs,{className:"w-4 h-4 text-red-500"})})]})})]},d.id))})]})})})]})}function z0e(){const{appeals:t,filters:e,setFilters:r,setSelectedItem:n,setModalType:a,setModalOpen:i,fetchAppeals:o}=wn(),c=t?.data??(Array.isArray(t)?t:[]);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ft,{value:e.appeals.status,onValueChange:d=>r(h=>({...h,appeals:{...h.appeals,status:d}})),children:[s.jsx(ut,{className:"w-40",children:s.jsx(mt,{placeholder:"Status"})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"all",children:"All Statuses"}),s.jsx(ke,{value:"submitted",children:"Submitted"}),s.jsx(ke,{value:"under_review",children:"Under Review"}),s.jsx(ke,{value:"resolved",children:"Resolved"}),s.jsx(ke,{value:"rejected",children:"Rejected"}),s.jsx(ke,{value:"escalated",children:"Escalated"})]})]}),s.jsx(pe,{variant:"outline",size:"icon",onClick:o,children:s.jsx(Mt,{className:"w-4 h-4"})})]}),s.jsx(Ue,{children:s.jsx(qe,{className:"p-0",children:s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"User"}),s.jsx(_e,{children:"Type"}),s.jsx(_e,{children:"Status"}),s.jsx(_e,{children:"Priority"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Dt,{children:(Array.isArray(c)?c:[]).map(d=>s.jsxs(ze,{children:[s.jsx(fe,{children:d.id}),s.jsx(fe,{children:d.user?.username||d.user?.email||"N/A"}),s.jsx(fe,{children:d.type||"N/A"}),s.jsx(fe,{children:s.jsx(We,{variant:"outline",children:d.status})}),s.jsx(fe,{children:s.jsx(We,{variant:"outline",children:d.priority||"N/A"})}),s.jsx(fe,{children:s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>{n(d),a("edit-appeal"),i(!0)},children:s.jsx(vr,{className:"w-4 h-4"})})})]},d.id))})]})})})]})}function U0e(){const{ads:t,navigate:e,setSelectedItem:r,setModalType:n,setModalOpen:a,fetchAds:i,showConfirmDialog:o,deleteAd:c}=wn(),d=t?.data??(Array.isArray(t)?t:[]);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(pe,{onClick:()=>{r(null),n("create-ad"),a(!0)},children:[s.jsx(sr,{className:"w-4 h-4 mr-2"}),"Create Ad"]}),s.jsxs(pe,{variant:"outline",onClick:()=>e("/admin/ads-analytics"),children:[s.jsx(qu,{className:"w-4 h-4 mr-2"}),"View Analytics"]})]}),s.jsx(pe,{variant:"outline",size:"icon",onClick:i,"aria-label":"Refresh ads",children:s.jsx(Mt,{className:"w-4 h-4"})})]}),s.jsx(Ue,{children:s.jsx(qe,{className:"p-0",children:s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Website"}),s.jsx(_e,{children:"Company Type"}),s.jsx(_e,{children:"Online"}),s.jsx(_e,{children:"Views"}),s.jsx(_e,{children:"Clicks"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Dt,{children:(Array.isArray(d)?d:[]).map(h=>s.jsxs(ze,{children:[s.jsx(fe,{children:h.id}),s.jsx(fe,{children:h.website}),s.jsx(fe,{children:h.company_type}),s.jsx(fe,{children:h.online?s.jsx(Gr,{className:"w-4 h-4 text-green-500"}):s.jsx(Zn,{className:"w-4 h-4 text-gray-400"})}),s.jsx(fe,{children:h.nb_views}),s.jsx(fe,{children:h.nb_clicks}),s.jsx(fe,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>{r(h),n("edit-ad"),a(!0)},children:s.jsx(vr,{className:"w-4 h-4"})}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>o("Delete Ad","Are you sure you want to delete this ad?",()=>c(h.id)),children:s.jsx(Zs,{className:"w-4 h-4 text-red-500"})})]})})]},h.id))})]})})})]})}function $0e(){const{promoCodes:t,brokers:e,filters:r,setFilters:n,setBrokerForm:a,setSelectedItem:i,setModalType:o,setModalOpen:c,fetchPromoCodes:d,fetchPromoCodeUsers:h,fetchBrokerReferrals:m,showConfirmDialog:f,handleDeletePromoCode:g}=wn(),y=t?.data??(Array.isArray(t)?t:[]);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(pe,{onClick:()=>{i(null),o("create-promo-code"),c(!0)},children:[s.jsx(sr,{className:"w-4 h-4 mr-2"}),"Create Promo Code"]}),s.jsxs(pe,{variant:"outline",onClick:()=>{a({username:"",phone_number:"",email:"",password:"",password_confirmation:"",first_name:"",last_name:""}),o("create-broker"),c(!0)},children:[s.jsx(Ss,{className:"w-4 h-4 mr-2"}),"Create Broker"]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(ft,{value:r.promoCodes.broker_id||"all",onValueChange:v=>n(w=>({...w,promoCodes:{...w.promoCodes,broker_id:v}})),children:[s.jsx(ut,{className:"w-[180px]",children:s.jsx(mt,{placeholder:"Filter by broker"})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"all",children:"All brokers"}),(Array.isArray(e)?e:[]).map(v=>s.jsx(ke,{value:String(v.id),children:v.username||`${v.first_name||""} ${v.last_name||""}`||`Broker #${v.id}`},v.id))]})]}),s.jsxs(ft,{value:r.promoCodes.is_active,onValueChange:v=>n(w=>({...w,promoCodes:{...w.promoCodes,is_active:v}})),children:[s.jsx(ut,{className:"w-[150px]",children:s.jsx(mt,{placeholder:"Status"})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"all",children:"All status"}),s.jsx(ke,{value:"true",children:"Active"}),s.jsx(ke,{value:"false",children:"Inactive"})]})]})]})]}),s.jsx(pe,{variant:"outline",size:"icon",onClick:d,"aria-label":"Refresh promo codes",children:s.jsx(Mt,{className:"w-4 h-4"})})]}),s.jsx(Ue,{children:s.jsx(qe,{className:"p-0",children:s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"Code"}),s.jsx(_e,{children:"Broker"}),s.jsx(_e,{children:"Description"}),s.jsx(_e,{children:"Uses"}),s.jsx(_e,{children:"Commission %"}),s.jsx(_e,{children:"Status"}),s.jsx(_e,{children:"Expires At"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Dt,{children:(Array.isArray(y)?y:[]).map(v=>s.jsxs(ze,{children:[s.jsx(fe,{className:"font-mono font-semibold",children:v.code}),s.jsx(fe,{children:v.broker?v.broker.username||`${v.broker.first_name||""} ${v.broker.last_name||""}`:"N/A"}),s.jsx(fe,{className:"max-w-xs truncate",children:v.description||""}),s.jsxs(fe,{children:[v.current_uses," / ",v.max_uses??""]}),s.jsxs(fe,{children:[v.commission_percentage??0,"%"]}),s.jsx(fe,{children:s.jsx(We,{variant:v.is_active?"default":"secondary",children:v.is_active?"Active":"Inactive"})}),s.jsx(fe,{children:v.expires_at?new Date(v.expires_at).toLocaleDateString():"No expiry"}),s.jsx(fe,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>{i(v),o("edit-promo-code"),c(!0)},children:s.jsx(vr,{className:"w-4 h-4"})}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>{i(v),h(v.id),m(v.broker_id),o("view-promo-users"),c(!0)},children:s.jsx(Ss,{className:"w-4 h-4"})}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>f("Delete Promo Code","Are you sure you want to delete this promo code?",()=>g(v.id)),children:s.jsx(Zs,{className:"w-4 h-4 text-red-500"})})]})})]},v.id))})]})})})]})}function V0e(){const{brokers:t,selectedBroker:e,brokerDetailTab:r,setBrokerDetailTab:n,brokerBalance:a,brokerCommissions:i,brokerPayouts:o,brokerReferrals:c,brokerCommissionsList:d,commissionStatusFilter:h,setCommissionStatusFilter:m,setBrokerCommissions:f,setBrokerForm:g,setPayoutForm:y,setSelectedBroker:v,setModalType:w,setModalOpen:j,fetchBrokers:b,fetchBrokerCommissionsList:N,openBrokerDetail:k,closeBrokerDetail:S,showConfirmDialog:C,handleCancelCommission:B,handleDeleteBrokerReferral:E}=wn(),z=async T=>{if(e?.id){m(T);try{const W=await j0(e.id,{status:T==="all"?void 0:T}),U=W.data?.commissions?.data??W.data?.commissions;f({data:Array.isArray(U)?U:[],statistics:W.data?.statistics||{}})}catch(W){console.error("Failed to fetch broker commissions:",W)}}};return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(pe,{variant:"outline",onClick:()=>{g({username:"",phone_number:"",email:"",password:"",password_confirmation:"",first_name:"",last_name:""}),w("create-broker"),j(!0)},children:[s.jsx(Ss,{className:"w-4 h-4 mr-2"}),"Create Broker"]}),s.jsxs(pe,{onClick:()=>{y({broker_id:e?.id?String(e.id):"select",amount:e?.id&&a?.balance!=null?String(a.balance):"",reference:"",notes:""}),w("create-broker-payout"),j(!0)},children:[s.jsx(cr,{className:"w-4 h-4 mr-2"}),"Create Payout"]})]}),s.jsx(pe,{variant:"outline",size:"icon",onClick:()=>{b(),N()},children:s.jsx(Mt,{className:"w-4 h-4"})})]}),e?s.jsxs(Ue,{children:[s.jsxs(ps,{className:"flex flex-row items-center justify-between",children:[s.jsxs(gs,{className:"flex items-center gap-2",children:[s.jsx(Ss,{className:"w-5 h-5"}),e.username||`${e.first_name||""} ${e.last_name||""}`.trim()||`Broker #${e.id}`]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>{y({broker_id:String(e.id),amount:a?.balance?String(a.balance):"",reference:"",notes:""}),w("create-broker-payout"),j(!0)},children:[s.jsx(cr,{className:"w-4 h-4 mr-1"}),"Pay broker"]}),s.jsx(pe,{variant:"ghost",size:"sm",onClick:S,children:"Close"})]})]}),s.jsx(qe,{children:s.jsxs($o,{value:r,onValueChange:n,className:"w-full",children:[s.jsxs(Xi,{className:"grid w-full grid-cols-4",children:[s.jsx($t,{value:"overview",children:"Overview"}),s.jsx($t,{value:"commissions",children:"Commissions"}),s.jsx($t,{value:"payouts",children:"Payouts"}),s.jsx($t,{value:"referrals",children:"Referrals"})]}),s.jsx(Zt,{value:"overview",className:"space-y-4 mt-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(Ue,{children:s.jsxs(qe,{className:"pt-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Balance"}),s.jsxs("p",{className:"text-2xl font-bold",style:{color:di.limeGreen},children:["$",(a?.balance??0).toFixed(2)]})]})}),s.jsx(Ue,{children:s.jsxs(qe,{className:"pt-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total commissions"}),s.jsxs("p",{className:"text-2xl font-bold",children:["$",(a?.total_commissions??i.statistics?.total_commissions??0).toFixed(2)]})]})}),s.jsx(Ue,{children:s.jsxs(qe,{className:"pt-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total payouts"}),s.jsxs("p",{className:"text-2xl font-bold",children:["$",(a?.total_payouts??i.statistics?.total_payouts??0).toFixed(2)]})]})})]})}),s.jsxs(Zt,{value:"commissions",className:"mt-4",children:[s.jsx("div",{className:"flex gap-2 mb-4",children:["all","pending","paid","cancelled"].map(T=>s.jsx(pe,{variant:h===T?"default":"outline",size:"sm",onClick:()=>z(T),children:T.charAt(0).toUpperCase()+T.slice(1)},T))}),s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Referred user"}),s.jsx(_e,{children:"Promo code"}),s.jsx(_e,{children:"Booking amount"}),s.jsx(_e,{children:"Commission"}),s.jsx(_e,{children:"Status"}),s.jsx(_e,{children:"Completed at"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Dt,{children:(Array.isArray(i.data)?i.data:[]).map(T=>s.jsxs(ze,{children:[s.jsx(fe,{children:T.id}),s.jsx(fe,{children:T.referredUser?`${T.referredUser.first_name||""} ${T.referredUser.last_name||""}`.trim()||T.referredUser.username:T.referred_user_id}),s.jsx(fe,{children:T.promoCode?.code||""}),s.jsxs(fe,{children:["$",Number(T.booking_amount||0).toFixed(2)]}),s.jsxs(fe,{children:["$",Number(T.commission_amount||0).toFixed(2)," (",T.commission_percentage,"%)"]}),s.jsx(fe,{children:s.jsx(We,{variant:T.status==="paid"?"default":T.status==="cancelled"?"secondary":"outline",children:T.status})}),s.jsx(fe,{children:T.booking_completed_at?new Date(T.booking_completed_at).toLocaleDateString():""}),s.jsx(fe,{children:T.status==="pending"&&s.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>C("Cancel commission","Are you sure? This cannot be undone.",()=>B(T.id)),children:"Cancel"})})]},T.id))})]})]}),s.jsx(Zt,{value:"payouts",className:"mt-4",children:s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"Reference ID"}),s.jsx(_e,{children:"Amount"}),s.jsx(_e,{children:"Paid at"}),s.jsx(_e,{children:"Description"})]})}),s.jsx(Dt,{children:(Array.isArray(o.data)?o.data:[]).map(T=>s.jsxs(ze,{children:[s.jsx(fe,{className:"font-mono text-xs",children:T.reference_id||T.id}),s.jsxs(fe,{children:["$",((T.amount||0)/100).toFixed(2)]}),s.jsx(fe,{children:T.paid_at?new Date(T.paid_at).toLocaleString():""}),s.jsx(fe,{children:T.description||T.metadata?.reference||""})]},T.id))})]})}),s.jsx(Zt,{value:"referrals",className:"mt-4",children:s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Referred user"}),s.jsx(_e,{children:"Promo code"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Dt,{children:(Array.isArray(c)?c:[]).map(T=>s.jsxs(ze,{children:[s.jsx(fe,{children:T.id}),s.jsx(fe,{children:T.referredUser?`${T.referredUser.first_name||""} ${T.referredUser.last_name||""}`.trim()||T.referredUser.username:T.referred_user_id}),s.jsx(fe,{children:T.promoCode?.code||""}),s.jsx(fe,{children:s.jsx(pe,{variant:"ghost",size:"sm",className:"text-red-500",onClick:()=>C("Delete referral","Remove this referral link? This cannot be undone.",()=>E(T.id)),children:"Delete"})})]},T.id))})]})})]})})]}):s.jsxs(s.Fragment,{children:[s.jsxs(Ue,{children:[s.jsxs(ps,{children:[s.jsx(gs,{children:"Brokers"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Click Manage to view balance, commissions, payouts, and referrals."})]}),s.jsx(qe,{className:"p-0",children:s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Username"}),s.jsx(_e,{children:"Name"}),s.jsx(_e,{children:"Phone"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Dt,{children:(Array.isArray(t)?t:[]).map(T=>s.jsxs(ze,{children:[s.jsx(fe,{children:T.id}),s.jsx(fe,{children:T.username}),s.jsx(fe,{children:[T.first_name,T.last_name].filter(Boolean).join(" ")||""}),s.jsx(fe,{children:T.phone_number||""}),s.jsx(fe,{children:s.jsx(pe,{variant:"outline",size:"sm",onClick:()=>k(T),children:"Manage"})})]},T.id))})]})})]}),s.jsxs(Ue,{children:[s.jsx(ps,{children:s.jsx(gs,{children:"All broker commissions"})}),s.jsx(qe,{className:"p-0",children:s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Broker"}),s.jsx(_e,{children:"Referred user"}),s.jsx(_e,{children:"Promo"}),s.jsx(_e,{children:"Amount"}),s.jsx(_e,{children:"Status"})]})}),s.jsx(Dt,{children:(Array.isArray(d?.data)?d.data:[]).map(T=>s.jsxs(ze,{children:[s.jsx(fe,{children:T.id}),s.jsx(fe,{children:T.broker?T.broker.username||`${T.broker.first_name||""} ${T.broker.last_name||""}`:T.broker_id}),s.jsx(fe,{children:T.referredUser?`${T.referredUser.first_name||""} ${T.referredUser.last_name||""}`.trim()||T.referredUser.username:""}),s.jsx(fe,{children:T.promoCode?.code||""}),s.jsxs(fe,{children:["$",Number(T.commission_amount||0).toFixed(2)]}),s.jsx(fe,{children:s.jsx(We,{variant:T.status==="paid"?"default":T.status==="cancelled"?"secondary":"outline",children:T.status})})]},T.id))})]})})]})]})]})}function H0e(){const{featuredCars:t,setSelectedItem:e,setModalType:r,setModalOpen:n,fetchFeaturedCars:a,showConfirmDialog:i,deleteFeaturedCar:o}=wn(),c=t?.data??(Array.isArray(t)?t:[]);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(pe,{onClick:()=>{e(null),r("create-featured-car"),n(!0)},children:[s.jsx(sr,{className:"w-4 h-4 mr-2"}),"Create Featured Car"]}),s.jsx(pe,{variant:"outline",size:"icon",onClick:a,children:s.jsx(Mt,{className:"w-4 h-4"})})]}),s.jsx(Ue,{children:s.jsx(qe,{className:"p-0",children:s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Car"}),s.jsx(_e,{children:"Duration"}),s.jsx(_e,{children:"Start Date"}),s.jsx(_e,{children:"Expire Date"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Dt,{children:(Array.isArray(c)?c:[]).map(d=>s.jsxs(ze,{children:[s.jsx(fe,{children:d.id}),s.jsxs(fe,{children:[d.car?.make," ",d.car?.model]}),s.jsxs(fe,{children:[d.duration," days"]}),s.jsx(fe,{children:new Date(d.start_at).toLocaleDateString()}),s.jsx(fe,{children:new Date(d.expire_at).toLocaleDateString()}),s.jsx(fe,{children:s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>i("Remove Featured Car","Are you sure?",()=>o(d.id)),children:s.jsx(Zs,{className:"w-4 h-4 text-red-500"})})})]},d.id))})]})})})]})}function q0e(){const{holidays:t,setSelectedItem:e,setModalType:r,setModalOpen:n,fetchHolidays:a,showConfirmDialog:i,deleteHoliday:o}=wn(),c=t?.data??(Array.isArray(t)?t:[]);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(pe,{onClick:()=>{e(null),r("create-holiday"),n(!0)},children:[s.jsx(sr,{className:"w-4 h-4 mr-2"}),"Create Holiday"]}),s.jsx(pe,{variant:"outline",size:"icon",onClick:a,children:s.jsx(Mt,{className:"w-4 h-4"})})]}),s.jsx(Ue,{children:s.jsx(qe,{className:"p-0",children:s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Car"}),s.jsx(_e,{children:"Holiday Name"}),s.jsx(_e,{children:"Dates"}),s.jsx(_e,{children:"Increase %"}),s.jsx(_e,{children:"Active"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Dt,{children:(Array.isArray(c)?c:[]).map(d=>s.jsxs(ze,{children:[s.jsx(fe,{children:d.id}),s.jsxs(fe,{children:[d.car?.make," ",d.car?.model]}),s.jsx(fe,{children:d.holiday_name}),s.jsxs(fe,{children:[d.holiday_dates?.start," - ",d.holiday_dates?.end]}),s.jsxs(fe,{children:[d.percentage_increase,"%"]}),s.jsx(fe,{children:d.is_active?s.jsx(Gr,{className:"w-4 h-4 text-green-500"}):s.jsx(Zn,{className:"w-4 h-4 text-gray-400"})}),s.jsx(fe,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>{e(d),r("edit-holiday"),n(!0)},children:s.jsx(vr,{className:"w-4 h-4"})}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>i("Delete Holiday","Are you sure you want to delete this holiday?",()=>o(d.id)),children:s.jsx(Zs,{className:"w-4 h-4 text-red-500"})})]})})]},d.id))})]})})})]})}function W0e(){const{suggestions:t,setSelectedItem:e,setModalType:r,setModalOpen:n,fetchSuggestions:a,showConfirmDialog:i,deleteSuggestion:o}=wn(),c=t?.data??(Array.isArray(t)?t:[]);return s.jsxs("div",{className:"space-y-4",children:[s.jsx(pe,{variant:"outline",size:"icon",onClick:a,"aria-label":"Refresh suggestions",children:s.jsx(Mt,{className:"w-4 h-4"})}),s.jsx(Ue,{children:s.jsx(qe,{className:"p-0",children:s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"User"}),s.jsx(_e,{children:"Title"}),s.jsx(_e,{children:"Status"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Dt,{children:(Array.isArray(c)?c:[]).map(d=>s.jsxs(ze,{children:[s.jsx(fe,{children:d.id}),s.jsx(fe,{children:d.user?.name||"N/A"}),s.jsx(fe,{children:d.title}),s.jsx(fe,{children:s.jsx(We,{variant:"outline",children:d.status})}),s.jsx(fe,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>{e(d),r("edit-suggestion"),n(!0)},children:s.jsx(vr,{className:"w-4 h-4"})}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>i("Delete Suggestion","Are you sure you want to delete this suggestion?",()=>o(d.id)),children:s.jsx(Zs,{className:"w-4 h-4 text-red-500"})})]})})]},d.id))})]})})})]})}function G0e(){const{notifications:t,setSelectedItem:e,setModalType:r,setModalOpen:n,fetchNotifications:a}=wn(),i=t?.data??(Array.isArray(t)?t:[]);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs(pe,{onClick:()=>{e(null),r("send-notification"),n(!0)},children:[s.jsx(sr,{className:"w-4 h-4 mr-2"}),"Send to All Users"]}),s.jsx(pe,{variant:"outline",size:"icon",onClick:a,children:s.jsx(Mt,{className:"w-4 h-4"})})]}),s.jsx(Ue,{children:s.jsx(qe,{className:"p-0",children:s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Title"}),s.jsx(_e,{children:"Type"}),s.jsx(_e,{children:"Read"}),s.jsx(_e,{children:"Sent"}),s.jsx(_e,{children:"Created"})]})}),s.jsx(Dt,{children:(Array.isArray(i)?i:[]).map(o=>s.jsxs(ze,{children:[s.jsx(fe,{children:o.id}),s.jsx(fe,{children:o.title}),s.jsx(fe,{children:s.jsx(We,{variant:"outline",children:o.type})}),s.jsx(fe,{children:o.is_read?s.jsx(Gr,{className:"w-4 h-4 text-green-500"}):s.jsx(Zn,{className:"w-4 h-4 text-gray-400"})}),s.jsx(fe,{children:o.is_sent?s.jsx(Gr,{className:"w-4 h-4 text-green-500"}):s.jsx(Zn,{className:"w-4 h-4 text-gray-400"})}),s.jsx(fe,{children:new Date(o.created_at).toLocaleDateString()})]},o.id))})]})})})]})}function Y0e(){const{otps:t,loading:e,filters:r,setFilters:n,fetchOtps:a}=wn(),i=t?.data??(Array.isArray(t)?t:[]);return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Se,{placeholder:"Search by phone number...",className:"w-64",value:r.otps.phone_number,onChange:o=>n(c=>({...c,otps:{...c.otps,phone_number:o.target.value}}))}),s.jsxs(ft,{value:r.otps.expired,onValueChange:o=>n(c=>({...c,otps:{...c.otps,expired:o}})),children:[s.jsx(ut,{className:"w-40",children:s.jsx(mt,{placeholder:"Expired"})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"all",children:"All OTPs"}),s.jsx(ke,{value:"false",children:"Active"}),s.jsx(ke,{value:"true",children:"Expired"})]})]})]}),s.jsx(pe,{variant:"outline",size:"icon",onClick:a,children:s.jsx(Mt,{className:"w-4 h-4"})})]}),s.jsx(Ue,{children:s.jsx(qe,{className:"p-0",children:s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Phone Number"}),s.jsx(_e,{children:"OTP Code"}),s.jsx(_e,{children:"Created At"}),s.jsx(_e,{children:"Expires At"}),s.jsx(_e,{children:"Status"})]})}),s.jsx(Dt,{children:e&&(Array.isArray(i)?i:[]).length===0?s.jsx(ze,{children:s.jsxs(fe,{colSpan:6,className:"text-center py-8",children:[s.jsx(Mt,{className:"w-6 h-6 animate-spin mx-auto mb-2"}),"Loading OTPs..."]})}):(Array.isArray(i)?i:[]).length===0?s.jsx(ze,{children:s.jsx(fe,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"No OTPs found"})}):(Array.isArray(i)?i:[]).map(o=>{const c=new Date(o.expired_at)<new Date;return s.jsxs(ze,{children:[s.jsx(fe,{children:o.id}),s.jsx(fe,{children:o.phone_number}),s.jsx(fe,{className:"font-mono font-bold",children:o.code}),s.jsx(fe,{children:new Date(o.created_at).toLocaleString()}),s.jsx(fe,{children:new Date(o.expired_at).toLocaleString()}),s.jsx(fe,{children:c?s.jsx(We,{variant:"destructive",children:"Expired"}):s.jsx(We,{variant:"default",children:"Active"})})]},o.id)})})]})})})]})}function K0e(){const t=wn(),{services:e,thirdParties:r,serviceItems:n,serviceFeedbacks:a,loading:i,filters:o,setFilters:c,selectedServiceId:d,setSelectedItem:h,setModalType:m,setModalOpen:f,setConfirmDialog:g,fetchServices:y,fetchThirdParties:v,fetchServiceItems:w,fetchServiceFeedbacks:j,handleDeleteService:b,handleDeleteFeedback:N,handleDeleteServiceItem:k}=t;return s.jsx("div",{className:"space-y-6",children:s.jsxs($o,{defaultValue:"services-list",className:"w-full",children:[s.jsxs(Xi,{className:"grid w-full grid-cols-4 mb-4",children:[s.jsxs($t,{value:"services-list",className:"text-xs",children:[s.jsx(vd,{className:"w-4 h-4 mr-1"}),"Services"]}),s.jsxs($t,{value:"third-parties",className:"text-xs",children:[s.jsx(Oi,{className:"w-4 h-4 mr-1"}),"Third Parties"]}),s.jsxs($t,{value:"service-items",className:"text-xs",children:[s.jsx(Bi,{className:"w-4 h-4 mr-1"}),"Service Items"]}),s.jsxs($t,{value:"service-feedbacks",className:"text-xs",children:[s.jsx(li,{className:"w-4 h-4 mr-1"}),"Feedbacks"]})]}),s.jsxs(Zt,{value:"services-list",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(pe,{onClick:()=>{h(null),m("create-service"),f(!0)},children:[s.jsx(sr,{className:"w-4 h-4 mr-1"}),"Create Service"]}),s.jsx(pe,{variant:"outline",size:"icon",onClick:y,"aria-label":"Refresh services",children:s.jsx(Mt,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Se,{placeholder:"Search services...",value:o.services.search,onChange:S=>c({...o,services:{...o.services,search:S.target.value}}),className:"w-48"}),s.jsxs(ft,{value:o.services.category,onValueChange:S=>c({...o,services:{...o.services,category:S}}),children:[s.jsx(ut,{className:"w-40",children:s.jsx(mt,{placeholder:"Category"})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"all",children:"All"}),s.jsx(ke,{value:"transport",children:"Transport"}),s.jsx(ke,{value:"accommodation",children:"Accommodation"}),s.jsx(ke,{value:"food",children:"Food"}),s.jsx(ke,{value:"entertainment",children:"Entertainment"}),s.jsx(ke,{value:"other",children:"Other"})]})]}),s.jsx(pe,{onClick:y,children:s.jsx(Br,{className:"w-4 h-4"})})]})]}),s.jsx(Ue,{children:s.jsx(qe,{className:"p-0",children:s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Name"}),s.jsx(_e,{children:"Owner"}),s.jsx(_e,{children:"Category"}),s.jsx(_e,{children:"Price"}),s.jsx(_e,{children:"Rating"}),s.jsx(_e,{children:"Featured"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Dt,{children:i?s.jsx(ze,{children:s.jsx(fe,{colSpan:8,className:"text-center py-8",children:"Loading..."})}):(Array.isArray(e)?e:[]).length===0?s.jsx(ze,{children:s.jsx(fe,{colSpan:8,className:"text-center py-8",children:"No services found"})}):(Array.isArray(e)?e:[]).map(S=>s.jsxs(ze,{children:[s.jsx(fe,{children:S.id}),s.jsx(fe,{className:"font-medium",children:S.name}),s.jsx(fe,{children:S.third_party?s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium",children:S.third_party.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:S.third_party.email})]}):S.third_party_id?s.jsxs("span",{className:"text-muted-foreground",children:["ID: ",S.third_party_id]}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx(fe,{children:s.jsx(We,{variant:"outline",children:S.category})}),s.jsxs(fe,{children:["$",(parseFloat(S.price)||0).toFixed(2)]}),s.jsx(fe,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ar,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}),S.rating?(parseFloat(S.rating)||0).toFixed(1):"N/A"]})}),s.jsx(fe,{children:s.jsx(We,{variant:S.featured?"default":"secondary",children:S.featured?"Yes":"No"})}),s.jsx(fe,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(pe,{size:"sm",variant:"ghost",onClick:()=>{h(S),m("view-service"),f(!0)},children:s.jsx(nr,{className:"w-4 h-4"})}),s.jsx(pe,{size:"sm",variant:"ghost",onClick:()=>{h(S),m("edit-service"),f(!0)},children:s.jsx(vr,{className:"w-4 h-4"})}),s.jsx(pe,{size:"sm",variant:"ghost",onClick:()=>t.fetchServiceItems(S.id),children:s.jsx(Bi,{className:"w-4 h-4"})}),s.jsx(pe,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>g({open:!0,title:"Delete Service",message:`Are you sure you want to delete "${S.name}"?`,onConfirm:()=>b(S.id)}),children:s.jsx(Zs,{className:"w-4 h-4"})})]})})]},S.id))})]})})})]}),s.jsxs(Zt,{value:"third-parties",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(pe,{onClick:()=>{h(null),m("create-third-party"),f(!0)},children:[s.jsx(sr,{className:"w-4 h-4 mr-1"}),"Create Third Party"]}),s.jsx(pe,{variant:"outline",size:"icon",onClick:v,children:s.jsx(Mt,{className:"w-4 h-4"})})]}),s.jsx(Se,{placeholder:"Search third parties...",value:o.thirdParties.search,onChange:S=>c({...o,thirdParties:{...o.thirdParties,search:S.target.value}}),className:"w-64"})]}),s.jsx(Ue,{children:s.jsx(qe,{className:"p-0",children:s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Name"}),s.jsx(_e,{children:"Contact"}),s.jsx(_e,{children:"Category"}),s.jsx(_e,{children:"City"}),s.jsx(_e,{children:"Subscription"}),s.jsx(_e,{children:"Created At"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Dt,{children:i?s.jsx(ze,{children:s.jsx(fe,{colSpan:8,className:"text-center py-8",children:"Loading..."})}):(Array.isArray(r)?r:[]).length===0?s.jsx(ze,{children:s.jsx(fe,{colSpan:8,className:"text-center py-8",children:"No third parties found"})}):(Array.isArray(r)?r:[]).map(S=>s.jsxs(ze,{children:[s.jsx(fe,{children:S.id}),s.jsx(fe,{children:s.jsx("p",{className:"font-medium",children:S.name})}),s.jsx(fe,{children:S.email||S.phone||"-"}),s.jsx(fe,{children:s.jsx(We,{variant:"outline",children:S.category||"-"})}),s.jsx(fe,{children:S.city||"-"}),s.jsx(fe,{children:S.subscription_status||"-"}),s.jsx(fe,{children:S.created_at?new Date(S.created_at).toLocaleDateString():"-"}),s.jsx(fe,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(pe,{size:"sm",variant:"ghost",onClick:()=>{h(S),m("view-third-party"),f(!0)},children:s.jsx(nr,{className:"w-4 h-4"})}),s.jsx(pe,{size:"sm",variant:"ghost",onClick:()=>{h(S),m("edit-third-party"),f(!0)},children:s.jsx(vr,{className:"w-4 h-4"})}),s.jsx(pe,{size:"sm",variant:"ghost",onClick:()=>{h(S),m("create-service-for-tp"),f(!0)},children:s.jsx(sr,{className:"w-4 h-4"})}),s.jsx(pe,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>g({open:!0,title:"Delete Third Party",message:"Are you sure?",onConfirm:()=>t.handleDeleteThirdParty(S.id)}),children:s.jsx(Zs,{className:"w-4 h-4"})})]})})]},S.id))})]})})})]}),s.jsxs(Zt,{value:"service-items",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center gap-2",children:d&&s.jsxs(s.Fragment,{children:[s.jsxs(pe,{onClick:()=>{h(null),m("create-service-item"),f(!0)},children:[s.jsx(sr,{className:"w-4 h-4 mr-1"}),"Add Item"]}),s.jsx(pe,{variant:"outline",size:"icon",onClick:()=>w(d),children:s.jsx(Mt,{className:"w-4 h-4"})})]})}),s.jsxs(ft,{value:d?.toString()||"",onValueChange:S=>S&&t.fetchServiceItems(parseInt(S)),children:[s.jsx(ut,{className:"w-64",children:s.jsx(mt,{placeholder:"Select a service to view items"})}),s.jsx(ht,{children:(Array.isArray(e)?e:[]).map(S=>s.jsx(ke,{value:String(S.id),children:S.name},S.id))})]})]}),d?s.jsxs(Ue,{children:[s.jsx(ps,{children:s.jsxs(gs,{children:["Items for Service #",d]})}),s.jsx(qe,{className:"p-0",children:s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Name"}),s.jsx(_e,{children:"Description"}),s.jsx(_e,{children:"Price"}),s.jsx(_e,{children:"Image"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Dt,{children:i?s.jsx(ze,{children:s.jsx(fe,{colSpan:6,className:"text-center py-8",children:"Loading..."})}):(Array.isArray(n)?n:[]).length===0?s.jsx(ze,{children:s.jsx(fe,{colSpan:6,className:"text-center py-8",children:"No items found"})}):(Array.isArray(n)?n:[]).map(S=>s.jsxs(ze,{children:[s.jsx(fe,{children:S.id}),s.jsx(fe,{className:"font-medium",children:S.name}),s.jsx(fe,{className:"max-w-xs truncate",children:S.description||"N/A"}),s.jsxs(fe,{children:["$",(parseFloat(S.price)||0).toFixed(2)]}),s.jsx(fe,{children:S.image?s.jsx("img",{src:S.image,alt:S.name,className:"w-10 h-10 object-cover rounded"}):s.jsx("span",{className:"text-muted-foreground",children:"No image"})}),s.jsx(fe,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(pe,{size:"sm",variant:"ghost",onClick:()=>{h(S),m("edit-service-item"),f(!0)},children:s.jsx(vr,{className:"w-4 h-4"})}),s.jsx(pe,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>g({open:!0,title:"Delete Item",message:`Delete "${S.name}"?`,onConfirm:()=>k(S.id)}),children:s.jsx(Zs,{className:"w-4 h-4"})})]})})]},S.id))})]})})]}):s.jsx(Ue,{children:s.jsxs(qe,{className:"py-12 text-center text-muted-foreground",children:[s.jsx(Bi,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Select a service from the dropdown above"})]})})]}),s.jsxs(Zt,{value:"service-feedbacks",className:"space-y-4",children:[s.jsx(pe,{variant:"outline",size:"icon",onClick:j,children:s.jsx(Mt,{className:"w-4 h-4"})}),s.jsx(Ue,{children:s.jsx(qe,{className:"p-0",children:s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Service"}),s.jsx(_e,{children:"User"}),s.jsx(_e,{children:"Rating"}),s.jsx(_e,{children:"Comment"}),s.jsx(_e,{children:"Helpful"}),s.jsx(_e,{children:"Created At"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Dt,{children:i?s.jsx(ze,{children:s.jsx(fe,{colSpan:8,className:"text-center py-8",children:"Loading..."})}):(Array.isArray(a)?a:[]).length===0?s.jsx(ze,{children:s.jsx(fe,{colSpan:8,className:"text-center py-8",children:"No feedbacks found"})}):(Array.isArray(a)?a:[]).map(S=>s.jsxs(ze,{children:[s.jsx(fe,{children:S.id}),s.jsx(fe,{children:S.service?.name||S.service_id}),s.jsx(fe,{children:S.user?.name||S.user_id}),s.jsx(fe,{children:s.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((C,B)=>s.jsx(ar,{className:`w-4 h-4 ${B<S.rating?"text-yellow-500 fill-yellow-500":"text-gray-300"}`},B))})}),s.jsx(fe,{className:"max-w-xs truncate",children:S.comment||"N/A"}),s.jsx(fe,{children:S.helpful_count||0}),s.jsx(fe,{children:new Date(S.created_at).toLocaleDateString()}),s.jsx(fe,{children:s.jsx(pe,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>g({open:!0,title:"Delete Feedback",message:"Are you sure?",onConfirm:()=>N(S.id)}),children:s.jsx(Zs,{className:"w-4 h-4"})})})]},S.id))})]})})})]})]})})}function X0e(){const t=sn(),[e,r]=_.useState("dashboard"),[n,a]=_.useState(!1),[i,o]=_.useState(null),[c,d]=_.useState([]),[h,m]=_.useState([]),[f,g]=_.useState([]),[y,v]=_.useState([]),[w,j]=_.useState([]),[b,N]=_.useState([]),[k,S]=_.useState([]),[C,B]=_.useState([]),[E,z]=_.useState([]),[T,W]=_.useState([]),[U,L]=_.useState([]),[Z,O]=_.useState([]),[se,K]=_.useState([]),[M,X]=_.useState([]),[$,oe]=_.useState([]),[q,Y]=_.useState([]),[ce,le]=_.useState({username:"",phone_number:"",email:"",password:"",password_confirmation:"",first_name:"",last_name:""}),[be,ge]=_.useState(null),[V,H]=_.useState("overview"),[me,Q]=_.useState(null),[te,ee]=_.useState({data:[],statistics:{}}),[Ce,F]=_.useState({data:[]}),[Ee,J]=_.useState({data:[]}),[R,P]=_.useState({broker_id:"",amount:"",reference:"",notes:""}),[G,we]=_.useState("all"),[de,he]=_.useState({}),[xe,Me]=_.useState({}),[Re,$e]=_.useState([]),[Je,st]=_.useState([]),[Nt,St]=_.useState([]),[Ht,As]=_.useState([]),[kt,ds]=_.useState(null),[Ge,Ze]=_.useState({users:{page:1,per_page:50},cars:{page:1,per_page:50},bookings:{page:1,per_page:50},payments:{page:1,per_page:50},announcements:{page:1,per_page:50},appeals:{page:1,per_page:50},ads:{page:1,per_page:50},featuredCars:{page:1,per_page:50},holidays:{page:1,per_page:50},suggestions:{page:1,per_page:50},notifications:{page:1,per_page:50},otps:{page:1,per_page:50},services:{page:1,per_page:50},thirdParties:{page:1,per_page:50},serviceFeedbacks:{page:1,per_page:50},promoCodes:{page:1,per_page:50}}),[Ke,us]=_.useState({users:{role:"all",status:"all"},cars:{status:"all",car_accepted:"all",agent_id:""},bookings:{status:"all"},payments:{type:"all"},announcements:{status:"all"},appeals:{status:"all",priority:"all"},ads:{status:"all"},featuredCars:{status:"all"},holidays:{car_id:"",active:"all"},suggestions:{status:"all"},notifications:{type:"all",is_read:"all"},otps:{phone_number:"",expired:"all"},services:{category:"all",city:"",featured:"all",search:""},thirdParties:{search:""},promoCodes:{broker_id:"all",is_active:"all"}}),[Es,Cs]=_.useState(null),[jn,$s]=_.useState(null),[wr,Ot]=_.useState("month"),[ye,At]=_.useState(null),[Js,Ct]=_.useState(!1),[ot,ys]=_.useState(""),[dr,qs]=_.useState({open:!1,title:"",message:"",onConfirm:null}),$r=async()=>{try{const{data:ae}=await Oe.get("/admin/reports/summary");o(ae.summary)}catch(ae){console.error("Error fetching summary:",ae),ve.error("Failed to load dashboard summary")}},Dn=async()=>{a(!0);try{const ae={page:Ge.users.page,per_page:Ge.users.per_page};Ke.users.role&&Ke.users.role!=="all"&&(ae.role=Ke.users.role),Ke.users.status&&Ke.users.status!=="all"&&(ae.status=Ke.users.status==="active"||Ke.users.status==="true");const Ae=await Am(ae);d(Ae.data.users)}catch{ve.error("Failed to fetch users")}finally{a(!1)}},_n=async ae=>{try{const{data:Ae}=await Oe.get(`/admin/users/${ae}`);return Ae.user}catch{return ve.error("Failed to fetch user details"),null}},gi=async()=>{a(!0);try{const ae={page:Ge.cars.page,per_page:Ge.cars.per_page,with_images:!0};Ke.cars.status&&Ke.cars.status!=="all"&&(ae.status=Ke.cars.status),Ke.cars.car_accepted&&Ke.cars.car_accepted!=="all"&&(ae.car_accepted=Ke.cars.car_accepted),Ke.cars.agent_id&&Ke.cars.agent_id!=="all"&&(ae.agent_id=Ke.cars.agent_id);const Ae=await vI(ae);m(Ae.data.cars)}catch{ve.error("Failed to fetch cars")}finally{a(!1)}},Pd=async ae=>{try{const{data:Ae}=await Oe.get(`/admin/cars/${ae}`);return Ae.car}catch{return ve.error("Failed to fetch car details"),null}},Nn=async()=>{a(!0);try{const ae=new URLSearchParams;Ke.bookings.status&&Ke.bookings.status!=="all"&&ae.append("status",Ke.bookings.status),ae.append("page",Ge.bookings.page),ae.append("per_page",Ge.bookings.per_page);const{data:Ae}=await Oe.get(`/admin/bookings?${ae}`);g(Ae.bookings)}catch{ve.error("Failed to fetch bookings")}finally{a(!1)}},jr=async ae=>{try{const{data:Ae}=await Oe.get(`/admin/bookings/${ae}`);return Ae.booking}catch{return ve.error("Failed to fetch booking details"),null}},fr=async()=>{a(!0);try{const ae={page:Ge.payments.page,per_page:Ge.payments.per_page};Ke.payments.type&&Ke.payments.type!=="all"&&(ae.type=Ke.payments.type);const Ae=await s0e(ae);v(Ae.data.payments)}catch{ve.error("Failed to fetch payments")}finally{a(!1)}},Er=async()=>{a(!0);try{const ae=new URLSearchParams;Ke.announcements.status&&Ke.announcements.status!=="all"&&ae.append("status",Ke.announcements.status),ae.append("page",Ge.announcements.page),ae.append("per_page",Ge.announcements.per_page);const{data:Ae}=await Oe.get(`/admin/announcements?${ae}`);j(Ae.announcements)}catch{ve.error("Failed to fetch announcements")}finally{a(!1)}},to=async()=>{a(!0);try{const ae=new URLSearchParams;Ke.appeals.status&&Ke.appeals.status!=="all"&&ae.append("status",Ke.appeals.status),Ke.appeals.priority&&Ke.appeals.priority!=="all"&&ae.append("priority",Ke.appeals.priority),ae.append("page",Ge.appeals.page),ae.append("per_page",Ge.appeals.per_page);const{data:Ae}=await Oe.get(`/admin/appeals?${ae}`);N(Ae.appeals)}catch{ve.error("Failed to fetch appeals")}finally{a(!1)}},so=async()=>{a(!0);try{const ae=new URLSearchParams;Ke.ads.status&&Ke.ads.status!=="all"&&ae.append("status",Ke.ads.status),ae.append("page",Ge.ads.page),ae.append("per_page",Ge.ads.per_page);const{data:Ae}=await Oe.get(`/admin/ads?${ae}`);S(Ae.ads)}catch{ve.error("Failed to fetch ads")}finally{a(!1)}},Qo=async()=>{a(!0);try{const ae=new URLSearchParams;Ke.featuredCars.status&&Ke.featuredCars.status!=="all"&&ae.append("status",Ke.featuredCars.status),ae.append("page",Ge.featuredCars.page),ae.append("per_page",Ge.featuredCars.per_page);const{data:Ae}=await Oe.get(`/admin/featured-cars?${ae}`);B(Ae.featured_cars)}catch{ve.error("Failed to fetch featured cars")}finally{a(!1)}},wa=async()=>{a(!0);try{const ae=new URLSearchParams;Ke.holidays.car_id&&Ke.holidays.car_id!=="all"&&ae.append("car_id",Ke.holidays.car_id),Ke.holidays.active&&Ke.holidays.active!=="all"&&ae.append("active",Ke.holidays.active),ae.append("page",Ge.holidays.page),ae.append("per_page",Ge.holidays.per_page);const{data:Ae}=await Oe.get(`/admin/holidays?${ae}`);z(Ae.holidays)}catch{ve.error("Failed to fetch holidays")}finally{a(!1)}},Ya=async ae=>{try{await Oe.post("/admin/holidays",ae),ve.success("Holiday created successfully"),wa(),Ct(!1)}catch(Ae){ve.error(Ae.response?.data?.message||"Failed to create holiday")}},fc=async(ae,Ae)=>{try{await Oe.put(`/admin/holidays/${ae}`,Ae),ve.success("Holiday updated successfully"),wa(),Ct(!1)}catch{ve.error("Failed to update holiday")}},xi=async ae=>{try{await Oe.delete(`/admin/holidays/${ae}`),ve.success("Holiday deleted successfully"),wa()}catch{ve.error("Failed to delete holiday")}},ea=async()=>{a(!0);try{const ae=new URLSearchParams;Ke.suggestions.status&&Ke.suggestions.status!=="all"&&ae.append("status",Ke.suggestions.status),ae.append("page",Ge.suggestions.page),ae.append("per_page",Ge.suggestions.per_page);const{data:Ae}=await Oe.get(`/admin/suggestions?${ae}`);W(Ae.suggestions)}catch{ve.error("Failed to fetch suggestions")}finally{a(!1)}},yi=async()=>{a(!0);try{const ae=new URLSearchParams;Ke.notifications.type&&Ke.notifications.type!=="all"&&ae.append("type",Ke.notifications.type),Ke.notifications.is_read&&Ke.notifications.is_read!=="all"&&ae.append("is_read",Ke.notifications.is_read),ae.append("page",Ge.notifications.page),ae.append("per_page",Ge.notifications.per_page);const{data:Ae}=await Oe.get(`/admin/notifications?${ae}`);L(Ae.notifications)}catch{ve.error("Failed to fetch notifications")}finally{a(!1)}},ta=async()=>{a(!0);try{const ae={};Ke.otps.phone_number&&(ae.phone_number=Ke.otps.phone_number),Ke.otps.expired&&Ke.otps.expired!=="all"&&(ae.expired=Ke.otps.expired),ae.per_page=Ge.otps.per_page,ae.page=Ge.otps.page;const Ae=await C0e(ae);O(Ae.data.otps)}catch(ae){ve.error(ae.response?.data?.message||"Failed to fetch OTPs")}finally{a(!1)}},Os=async()=>{a(!0);try{const ae={per_page:Ge.services.per_page,page:Ge.services.page};Ke.services.category&&Ke.services.category!=="all"&&(ae.category=Ke.services.category),Ke.services.city&&(ae.city=Ke.services.city),Ke.services.featured&&Ke.services.featured!=="all"&&(ae.featured=Ke.services.featured==="true"),Ke.services.search&&(ae.search=Ke.services.search);const Ae=await MI(ae);$e(Ae.data.services?.data||Ae.data.services||[])}catch(ae){ve.error(ae.response?.data?.message||"Failed to fetch services")}finally{a(!1)}},Jo=async ae=>{try{const{third_party_id:Ae,...gt}=ae;if(!Ae){ve.error("Please select a third party owner for this service");return}const vs={category:gt.category,name:gt.name,description:gt.description||void 0,tagline:gt.tagline||void 0,city:gt.city||void 0,contact_phone:gt.contact_phone||gt.phone||void 0,contact_email:gt.contact_email||void 0,min_price:gt.price??void 0,max_price:gt.price??void 0,currency:"USD"};console.log("Creating service for third party",Ae,"with payload:",vs),await k0e(Ae,vs),ve.success("Service created successfully"),Os(),Ct(!1)}catch(Ae){console.error("Create service failed:",{status:Ae.response?.status,data:Ae.response?.data});const gt=Ae.response?.data?.message||(typeof Ae.response?.data=="string"?Ae.response.data:null);ve.error(gt||"Failed to create service")}},mc=async(ae,Ae)=>{try{await A0e(ae,Ae),ve.success("Service updated successfully"),Os(),Ct(!1)}catch(gt){ve.error(gt.response?.data?.message||"Failed to update service")}},ja=async ae=>{try{await PI(ae),ve.success("Service deleted successfully"),Os()}catch(Ae){ve.error(Ae.response?.data?.message||"Failed to delete service")}},Sn=async()=>{a(!0);try{const ae={per_page:Ge.thirdParties.per_page,page:Ge.thirdParties.page},Ae=await FI(ae);st(Ae.data.third_parties?.data||Ae.data.third_parties||[])}catch(ae){ve.error(ae.response?.data?.message||"Failed to fetch third parties")}finally{a(!1)}},Mn=async ae=>{const Ae={business_name:ae.name,username:ae.username,email:ae.email,password:ae.password,phone_number:ae.phone,subscription:ae.subscription||void 0,permissions:ae.permissions||[]};console.log("Creating third party with payload:",Ae);try{await R0e(Ae),ve.success("Third party created successfully"),Sn(),Ct(!1)}catch(gt){console.error("Create third party failed:",{payload:Ae,status:gt.response?.status,data:gt.response?.data});const vs=gt.response?.data?.message||(typeof gt.response?.data=="string"?gt.response.data:null);ve.error(vs||"Failed to create third party")}},el=async(ae,Ae)=>{try{const gt={business_name:Ae.name,username:Ae.username,email:Ae.email,phone_number:Ae.phone,subscription:Ae.subscription||void 0,permissions:Ae.permissions||[]};Ae.password&&(gt.password=Ae.password),await D0e(ae,gt),ve.success("Third party updated successfully"),Sn(),Ct(!1)}catch(gt){ve.error(gt.response?.data?.message||"Failed to update third party")}},sa=async ae=>{try{await BI(ae),ve.success("Third party deleted successfully"),Sn()}catch(Ae){ve.error(Ae.response?.data?.message||"Failed to delete third party")}},ra=async ae=>{if(ae){a(!0);try{const Ae=await OI(ae);St(Ae.data.items||[]),ds(ae)}catch(Ae){ve.error(Ae.response?.data?.message||"Failed to fetch service items")}finally{a(!1)}}},ro=async(ae,Ae)=>{try{await E0e(ae,Ae),ve.success("Service item created successfully"),ra(ae),Ct(!1)}catch(gt){ve.error(gt.response?.data?.message||"Failed to create service item")}},no=async(ae,Ae)=>{try{await T0e(ae,Ae),ve.success("Service item updated successfully"),kt&&ra(kt),Ct(!1)}catch(gt){ve.error(gt.response?.data?.message||"Failed to update service item")}},Pn=async ae=>{try{await LI(ae),ve.success("Service item deleted successfully"),kt&&ra(kt)}catch(Ae){ve.error(Ae.response?.data?.message||"Failed to delete service item")}},Xr=async()=>{a(!0);try{const ae={per_page:Ge.serviceFeedbacks.per_page,page:Ge.serviceFeedbacks.page},Ae=await II(ae);As(Ae.data.feedbacks?.data||Ae.data.feedbacks||[])}catch(ae){ve.error(ae.response?.data?.message||"Failed to fetch feedbacks")}finally{a(!1)}},ao=async ae=>{try{await zI(ae),ve.success("Feedback deleted successfully"),Xr()}catch(Ae){ve.error(Ae.response?.data?.message||"Failed to delete feedback")}},Sh=async(ae="month")=>{try{const{data:Ae}=await Oe.get(`/admin/reports/statistics?period=${ae}`);Cs(Ae.statistics)}catch{ve.error("Failed to fetch statistics")}},pc=async(ae="month")=>{try{const{data:Ae}=await Oe.get(`/admin/reports/chart-data?period=${ae}`);$s(Ae)}catch{ve.error("Failed to fetch chart data")}},tl=async(ae,Ae)=>{try{await Oe.put(`/admin/users/${ae}`,Ae),ve.success("User updated successfully"),Dn(),Ct(!1)}catch(gt){ve.error(gt.response?.data?.message||"Failed to update user")}},Ka=async(ae,Ae=!1)=>{try{await Oe.delete(`/admin/users/${ae}${Ae?"/force":""}`),ve.success(Ae?"User permanently deleted":"User deactivated"),Dn()}catch{ve.error("Failed to delete user")}},bi=async(ae,Ae)=>{try{const gt={...Ae};["main_image","front_image","back_image","left_image","right_image"].forEach(Rr=>{xe[ae]&&xe[ae][Rr]&&(gt[Rr]=xe[ae][Rr])}),await wI(ae,gt),ve.success("Car updated successfully"),Me(Rr=>{const Qr={...Rr};return delete Qr[ae],Qr}),gi(),Ct(!1)}catch{ve.error("Failed to update car")}},Tr=(ae,Ae,gt)=>{gt&&Me(vs=>({...vs,[ae]:{...vs[ae],[Ae]:gt}}))},Xa=async ae=>{try{await Oe.delete(`/admin/cars/${ae}`),ve.success("Car deleted successfully"),gi()}catch{ve.error("Failed to delete car")}},gc=async(ae,Ae)=>{try{await Oe.put(`/admin/bookings/${ae}`,Ae),ve.success("Booking updated successfully"),Nn(),Ct(!1)}catch{ve.error("Failed to update booking")}},xc=async ae=>{try{await Oe.post(`/admin/bookings/${ae}/force-complete`),ve.success("Booking force completed"),Nn()}catch{ve.error("Failed to force complete booking")}},vi=async(ae,Ae="")=>{try{await Oe.post(`/admin/refunds/${ae}`,{description:Ae}),ve.success("Refund processed successfully"),fr()}catch(gt){ve.error(gt.response?.data?.message||"Failed to process refund")}},Od=async ae=>{try{const Ae={title:ae.title,message:ae.message,priority:ae.priority||"medium",target_audience:ae.target_audience||[],status:ae.status||"draft"};ae.scheduled_at&&(Ae.scheduled_at=ae.scheduled_at),ae.expires_at&&(Ae.expires_at=ae.expires_at),ae.categories&&ae.categories.length>0&&(Ae.categories=ae.categories),ae.media&&ae.media.length>0&&(Ae.media=ae.media),await Oe.post("/admin/announcements",Ae),ve.success("Announcement created successfully"),Er(),Ct(!1)}catch(Ae){ve.error(Ae.response?.data?.message||"Failed to create announcement")}},Ld=async(ae,Ae)=>{try{await Oe.put(`/admin/announcements/${ae}`,Ae),ve.success("Announcement updated successfully"),Er(),Ct(!1)}catch{ve.error("Failed to update announcement")}},wi=async ae=>{try{await Oe.delete(`/admin/announcements/${ae}`),ve.success("Announcement deleted successfully"),Er()}catch{ve.error("Failed to delete announcement")}},Ch=async(ae,Ae)=>{try{await Oe.put(`/admin/appeals/${ae}`,Ae),ve.success("Appeal updated successfully"),to(),Ct(!1)}catch{ve.error("Failed to update appeal")}},sl=async(ae,Ae)=>{try{await Oe.put(`/admin/ads/${ae}`,Ae),ve.success("Ad updated successfully"),so(),Ct(!1)}catch{ve.error("Failed to update ad")}},_a=async ae=>{try{await h0e(ae),ve.success("Ad created successfully"),so(),Ct(!1)}catch(Ae){ve.error(Ae.response?.data?.message||"Failed to create ad")}},yc=async ae=>{try{await Oe.delete(`/admin/ads/${ae}`),ve.success("Ad deleted successfully"),so()}catch{ve.error("Failed to delete ad")}},kh=async ae=>{try{await r0e(ae),ve.success("Payment/Invoice issued successfully"),fr(),Ct(!1)}catch(Ae){ve.error(Ae.response?.data?.message||"Failed to issue payment")}},Ah=async ae=>{try{await p0e(ae),ve.success("Featured car created successfully"),Qo(),Ct(!1)}catch(Ae){ve.error(Ae.response?.data?.message||"Failed to create featured car")}},rl=async ae=>{try{await Oe.delete(`/admin/featured-cars/${ae}`),ve.success("Featured car removed successfully"),Qo()}catch{ve.error("Failed to remove featured car")}},On=async(ae,Ae)=>{try{await Oe.put(`/admin/suggestions/${ae}`,Ae),ve.success("Suggestion updated successfully"),ea(),Ct(!1)}catch{ve.error("Failed to update suggestion")}},bc=async ae=>{try{await Oe.delete(`/admin/suggestions/${ae}`),ve.success("Suggestion deleted successfully"),ea()}catch{ve.error("Failed to delete suggestion")}},nl=async ae=>{try{await Oe.post("/admin/notifications/send-to-all",ae),ve.success("Notification sent to all users successfully"),Ct(!1)}catch{ve.error("Failed to send notification")}},Za=async ae=>{try{const Ae=await n0e(ae),gt=await a0e(ae);return he(vs=>({...vs,[ae]:{...Ae.data,app_fees_percentage:gt.data.fee_percentage||0}})),Ae.data}catch(Ae){return ve.error(Ae.response?.data?.message||"Failed to fetch agent fee data"),null}},ji=async(ae,Ae)=>{try{await i0e(ae,{app_fees:Ae}),ve.success("Agent fee percentage updated successfully"),await Za(ae),Dn()}catch(gt){ve.error(gt.response?.data?.message||"Failed to update agent fee percentage")}},Fd=(ae,Ae,gt)=>{qs({open:!0,title:ae,message:Ae,onConfirm:gt})},_i=async()=>{try{const ae=await Am({role:"broker",per_page:200}),Ae=ae.data?.users?.data??ae.data?.users??ae.data?.data;Y(Array.isArray(Ae)?Ae:[])}catch(ae){console.error("Failed to fetch brokers:",ae)}},io=async()=>{a(!0);try{const ae={page:Ge.promoCodes.page,per_page:Ge.promoCodes.per_page};Ke.promoCodes.broker_id&&Ke.promoCodes.broker_id!=="all"&&(ae.broker_id=Ke.promoCodes.broker_id),Ke.promoCodes.is_active!=="all"&&(ae.is_active=Ke.promoCodes.is_active);const Ae=await _I(ae);K(Ae.data?.promo_codes||Ae.data?.promoCodes||Ae.data||[])}catch(ae){console.error("Failed to fetch promo codes:",ae),ve.error("Failed to load promo codes")}finally{a(!1)}},Ni=async(ae,Ae)=>{a(!0);try{Ae?(await SI(Ae.id,ae),ve.success("Promo code updated successfully")):(await NI(ae),ve.success("Promo code created successfully")),Ct(!1),At(null),await io()}catch(gt){console.error("Failed to save promo code:",gt);const vs=gt.response?.data?.message||"Failed to save promo code";ve.error(vs)}finally{a(!1)}},na=async ae=>{a(!0);try{await CI(ae),ve.success("Promo code deleted successfully"),await io()}catch(Ae){console.error("Failed to delete promo code:",Ae),ve.error("Failed to delete promo code")}finally{a(!1)}},vc=async ae=>{try{const Ae=await N0e(ae,{per_page:50});X(Ae.data?.users||[])}catch(Ae){console.error("Failed to fetch promo code users:",Ae),ve.error("Failed to load users for this promo code")}},oo=async ae=>{try{const Ae=await dN(ae,{per_page:50});oe(Ae.data?.referrals||[])}catch(Ae){console.error("Failed to fetch broker referrals:",Ae),ve.error("Failed to load broker referrals")}},Ln=async()=>{const{username:ae,phone_number:Ae,email:gt,password:vs,password_confirmation:Rr,first_name:Qr,last_name:Qa}=ce;if(!ae?.trim()){ve.error("Username is required");return}if(!Ae?.trim()){ve.error("Phone number is required");return}if(!Qr?.trim()){ve.error("First name is required");return}if(!Qa?.trim()){ve.error("Last name is required");return}if(!vs){ve.error("Password is required");return}if(vs.length<6){ve.error("Password must be at least 6 characters");return}if(vs!==Rr){ve.error("Password and confirmation do not match");return}a(!0);try{await jS({username:ae.trim(),phone_number:Ae.trim().replace(/^\+?/,""),email:gt?.trim()||void 0,password:vs,password_confirmation:Rr||vs,first_name:Qr.trim(),last_name:Qa.trim()}),ve.success("Broker created successfully"),Ct(!1),le({username:"",phone_number:"",email:"",password:"",password_confirmation:"",first_name:"",last_name:""}),await _i()}catch(Ca){console.error("Failed to create broker:",Ca);const ol=Ca.response?.data,ll=ol?.message||(ol?.errors?Object.values(ol.errors).flat().join(" "):null)||"Failed to create broker";ve.error(ll)}finally{a(!1)}};_.useEffect(()=>{e==="dashboard"?($r(),Sh(wr),pc(wr)):e==="users"?Dn():e==="cars"?gi():e==="bookings"?Nn():e==="payments"?fr():e==="announcements"?Er():e==="appeals"?to():e==="ads"?so():e==="featured-cars"?Qo():e==="holidays"?wa():e==="suggestions"?ea():e==="notifications"?yi():e==="otps"?ta():e==="services"?(Os(),Sn()):e==="promo-codes"?(io(),q.length||_i()):e==="brokers"&&(_i(),Fn())},[e,wr]);const al=async ae=>{if(ge(ae),H("overview"),ae?.id)try{const[Ae,gt,vs,Rr]=await Promise.all([kI(ae.id).catch(()=>({data:null})),j0(ae.id).catch(()=>({data:{data:[],statistics:{}}})),AI(ae.id).catch(()=>({data:{payouts:{data:[]},summary:{}}})),dN(ae.id).catch(()=>({data:{referrals:[]}}))]);Q(Ae.data);const Qr=gt.data?.commissions?.data??gt.data?.commissions,Qa=Array.isArray(Qr)?Qr:[];ee({data:Qa,statistics:gt.data?.statistics||{}});const Ca=vs.data?.payouts||vs.data,ol=Array.isArray(Ca)?Ca:Array.isArray(Ca?.data)?Ca.data:[];F({data:ol});const ll=Rr.data?.referrals??Rr.data?.data;oe(Array.isArray(ll)?ll:[])}catch(Ae){console.error("Failed to load broker detail:",Ae)}},il=()=>{ge(null),Q(null),ee({data:[],statistics:{}}),F({data:[]})},Lt=async()=>{be?.id&&(await al(be),await Fn())},Fn=async()=>{try{const ae=await TI({per_page:50}),Ae=ae.data?.commissions?.data??ae.data?.commissions;J({data:Array.isArray(Ae)?Ae:[]})}catch(ae){console.error("Failed to fetch broker commissions:",ae)}},Na=async()=>{const ae=R.broker_id?Number(R.broker_id):be?.id,Ae=parseFloat(R.amount);if(!ae||!Ae||Ae<.01){ve.error("Select a broker and enter amount (min 0.01)");return}a(!0);try{await EI({broker_id:ae,amount:Ae,reference:R.reference?.trim()||void 0,notes:R.notes?.trim()||void 0}),ve.success("Broker payout created successfully"),Ct(!1),P({broker_id:"",amount:"",reference:"",notes:""}),await Lt(),await Fn()}catch(gt){const vs=gt.response?.data,Rr=vs?.message||(vs?.errors?Object.values(vs.errors).flat().join(" "):null)||"Failed to create payout",Qr=vs?.pending_balance;ve.error(Qr!=null?`${Rr} (Max: $${Number(Qr).toFixed(2)})`:Rr)}finally{a(!1)}},Bd=async ae=>{try{await RI(ae),ve.success("Commission cancelled"),await Lt(),await Fn()}catch(Ae){ve.error(Ae.response?.data?.message||"Failed to cancel commission")}},Zr=async ae=>{try{await DI(ae),ve.success("Referral deleted"),await Lt()}catch(Ae){ve.error(Ae.response?.data?.message||"Failed to delete referral")}},Sa=_.useMemo(()=>({COLORS:di,loading:n,summary:i,users:c,cars:h,bookings:f,payments:y,announcements:w,appeals:b,ads:k,featuredCars:C,holidays:E,suggestions:T,notifications:U,otps:Z,promoCodes:se,promoCodeUsers:M,brokerReferrals:$,brokers:q,brokerForm:ce,setBrokerForm:le,selectedBroker:be,setSelectedBroker:ge,brokerDetailTab:V,setBrokerDetailTab:H,brokerBalance:me,brokerCommissions:te,setBrokerCommissions:ee,brokerPayouts:Ce,brokerCommissionsList:Ee,payoutForm:R,setPayoutForm:P,commissionStatusFilter:G,setCommissionStatusFilter:we,filters:Ke,setFilters:us,pagination:Ge,setPagination:Ze,selectedItem:ye,setSelectedItem:At,modalOpen:Js,setModalOpen:Ct,modalType:ot,setModalType:ys,confirmDialog:dr,setConfirmDialog:qs,navigate:t,fetchUsers:Dn,fetchUserDetails:_n,fetchCars:gi,fetchCarDetails:Pd,fetchBookings:Nn,fetchBookingDetails:jr,fetchPayments:fr,fetchAnnouncements:Er,fetchAppeals:to,fetchAds:so,fetchFeaturedCars:Qo,fetchHolidays:wa,fetchSuggestions:ea,fetchNotifications:yi,fetchOtps:ta,updateUser:tl,deleteUser:Ka,updateCar:bi,deleteCar:Xa,updateBooking:gc,forceCompleteBooking:xc,processRefund:vi,deleteAnnouncement:wi,deleteAd:yc,deleteFeaturedCar:rl,deleteHoliday:xi,deleteSuggestion:bc,showConfirmDialog:Fd,fetchPromoCodes:io,fetchPromoCodeUsers:vc,fetchBrokerReferrals:oo,fetchBrokers:_i,handleCreateOrUpdatePromoCode:Ni,handleDeletePromoCode:na,handleCreateBroker:Ln,openBrokerDetail:al,closeBrokerDetail:il,refreshBrokerDetail:Lt,fetchBrokerCommissionsList:Fn,handleCreateBrokerPayout:Na,handleCancelCommission:Bd,handleDeleteBrokerReferral:Zr,services:Re,thirdParties:Je,serviceItems:Nt,serviceFeedbacks:Ht,selectedServiceId:kt,setSelectedServiceId:ds,fetchServices:Os,fetchThirdParties:Sn,fetchServiceItems:ra,fetchServiceFeedbacks:Xr,handleCreateService:Jo,handleUpdateService:mc,handleDeleteService:ja,handleCreateThirdParty:Mn,handleUpdateThirdParty:el,handleDeleteThirdParty:sa,handleCreateServiceItem:ro,handleUpdateServiceItem:no,handleDeleteServiceItem:Pn,handleDeleteFeedback:ao}),[n,i,c,h,f,y,w,b,k,C,E,T,U,Z,se,M,$,q,ce,be,V,me,te,Ce,Ee,R,G,Ke,Ge,ye,Js,ot,dr,Re,Je,Nt,Ht,kt]);return s.jsx(qI.Provider,{value:Sa,children:s.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900",children:[s.jsx("header",{className:"sticky top-0 z-50 backdrop-blur-xl bg-white/80 dark:bg-gray-900/80 border-b border-gray-200/50 dark:border-gray-800/50 shadow-sm",children:s.jsx("div",{className:"container mx-auto px-4 sm:px-6 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>t("/"),className:"h-9 w-9","aria-label":"Go to home page",children:s.jsx(eM,{className:"w-5 h-5"})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-2xl font-bold bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(to right, ${di.darkBlue}, ${di.teal}, ${di.limeGreen})`},children:"Admin Dashboard"}),s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Manage your platform"})]})]}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>{localStorage.clear(),t("/auth")},className:"h-9 w-9","aria-label":"Logout",children:s.jsx(Xl,{className:"w-5 h-5"})})]})})}),s.jsx("main",{className:"container mx-auto px-4 sm:px-6 py-6 max-w-7xl",children:s.jsxs($o,{value:e,onValueChange:r,className:"w-full",children:[s.jsxs(Xi,{className:"grid w-full grid-cols-8 lg:grid-cols-16 mb-6 h-auto p-1 bg-gray-100 dark:bg-gray-800",children:[s.jsxs($t,{value:"dashboard",className:"text-xs",children:[s.jsx(qu,{className:"w-4 h-4 mr-1"}),"Dashboard"]}),s.jsxs($t,{value:"users",className:"text-xs",children:[s.jsx(Ss,{className:"w-4 h-4 mr-1"}),"Users"]}),s.jsxs($t,{value:"cars",className:"text-xs",children:[s.jsx(Kt,{className:"w-4 h-4 mr-1"}),"Cars"]}),s.jsxs($t,{value:"bookings",className:"text-xs",children:[s.jsx(Hs,{className:"w-4 h-4 mr-1"}),"Bookings"]}),s.jsxs($t,{value:"payments",className:"text-xs",children:[s.jsx(cr,{className:"w-4 h-4 mr-1"}),"Payments"]}),s.jsxs($t,{value:"promo-codes",className:"text-xs",children:[s.jsx(Wx,{className:"w-4 h-4 mr-1"}),"Promo Codes"]}),s.jsxs($t,{value:"brokers",className:"text-xs",children:[s.jsx(Ss,{className:"w-4 h-4 mr-1"}),"Brokers"]}),s.jsxs($t,{value:"announcements",className:"text-xs",children:[s.jsx(nM,{className:"w-4 h-4 mr-1"}),"Announcements"]}),s.jsxs($t,{value:"appeals",className:"text-xs",children:[s.jsx(Yl,{className:"w-4 h-4 mr-1"}),"Appeals"]}),s.jsxs($t,{value:"ads",className:"text-xs",children:[s.jsx(zo,{className:"w-4 h-4 mr-1"}),"Ads"]}),s.jsxs($t,{value:"featured-cars",className:"text-xs",children:[s.jsx(ar,{className:"w-4 h-4 mr-1"}),"Featured"]}),s.jsxs($t,{value:"holidays",className:"text-xs",children:[s.jsx(Ux,{className:"w-4 h-4 mr-1"}),"Holidays"]}),s.jsxs($t,{value:"suggestions",className:"text-xs",children:[s.jsx(HW,{className:"w-4 h-4 mr-1"}),"Suggestions"]}),s.jsxs($t,{value:"notifications",className:"text-xs",children:[s.jsx(zx,{className:"w-4 h-4 mr-1"}),"Notifications"]}),s.jsxs($t,{value:"otps",className:"text-xs",children:[s.jsx(sM,{className:"w-4 h-4 mr-1"}),"OTPs"]}),s.jsxs($t,{value:"services",className:"text-xs",children:[s.jsx(vd,{className:"w-4 h-4 mr-1"}),"Services"]})]}),s.jsx(Zt,{value:"dashboard",className:"space-y-6",children:s.jsx(P0e,{})}),s.jsx(Zt,{value:"users",className:"space-y-4",children:s.jsx(O0e,{})}),s.jsx(Zt,{value:"cars",className:"space-y-4",children:s.jsx(L0e,{})}),s.jsx(Zt,{value:"bookings",className:"space-y-4",children:s.jsx(F0e,{})}),s.jsx(Zt,{value:"payments",className:"space-y-4",children:s.jsx(B0e,{})}),s.jsx(Zt,{value:"announcements",className:"space-y-4",children:s.jsx(I0e,{})}),s.jsx(Zt,{value:"appeals",className:"space-y-4",children:s.jsx(z0e,{})}),s.jsx(Zt,{value:"ads",className:"space-y-4",children:s.jsx(U0e,{})}),s.jsx(Zt,{value:"promo-codes",className:"space-y-4",children:s.jsx($0e,{})}),s.jsx(Zt,{value:"brokers",className:"space-y-4",children:s.jsx(V0e,{})}),s.jsx(Zt,{value:"featured-cars",className:"space-y-4",children:s.jsx(H0e,{})}),s.jsx(Zt,{value:"holidays",className:"space-y-4",children:s.jsx(q0e,{})}),s.jsx(Zt,{value:"suggestions",className:"space-y-4",children:s.jsx(W0e,{})}),s.jsx(Zt,{value:"notifications",className:"space-y-4",children:s.jsx(G0e,{})}),s.jsx(Zt,{value:"otps",className:"space-y-4",children:s.jsx(Y0e,{})}),s.jsx(Zt,{value:"services",className:"space-y-6",children:s.jsx(K0e,{})}),s.jsx(Zt,{value:"services-legacy",style:{display:"none"},children:s.jsxs($o,{defaultValue:"services-list",className:"w-full",children:[s.jsxs(Xi,{className:"grid w-full grid-cols-4 mb-4",children:[s.jsxs($t,{value:"services-list",className:"text-xs",children:[s.jsx(vd,{className:"w-4 h-4 mr-1"}),"Services"]}),s.jsxs($t,{value:"third-parties",className:"text-xs",children:[s.jsx(Oi,{className:"w-4 h-4 mr-1"}),"Third Parties"]}),s.jsxs($t,{value:"service-items",className:"text-xs",children:[s.jsx(Bi,{className:"w-4 h-4 mr-1"}),"Service Items"]}),s.jsxs($t,{value:"service-feedbacks",className:"text-xs",children:[s.jsx(li,{className:"w-4 h-4 mr-1"}),"Feedbacks"]})]}),s.jsxs(Zt,{value:"services-list",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(pe,{onClick:()=>{At(null),ys("create-service"),Ct(!0)},children:[s.jsx(sr,{className:"w-4 h-4 mr-1"}),"Create Service"]}),s.jsx(pe,{variant:"outline",size:"icon",onClick:Os,"aria-label":"Refresh services",children:s.jsx(Mt,{className:"w-4 h-4"})})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Se,{placeholder:"Search services...",value:Ke.services.search,onChange:ae=>us({...Ke,services:{...Ke.services,search:ae.target.value}}),className:"w-48"}),s.jsxs(ft,{value:Ke.services.category,onValueChange:ae=>us({...Ke,services:{...Ke.services,category:ae}}),children:[s.jsx(ut,{className:"w-40",children:s.jsx(mt,{placeholder:"Category"})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"all",children:"All Categories"}),s.jsx(ke,{value:"transport",children:"Transport"}),s.jsx(ke,{value:"accommodation",children:"Accommodation"}),s.jsx(ke,{value:"food",children:"Food & Dining"}),s.jsx(ke,{value:"entertainment",children:"Entertainment"}),s.jsx(ke,{value:"other",children:"Other"})]})]}),s.jsxs(ft,{value:Ke.services.featured,onValueChange:ae=>us({...Ke,services:{...Ke.services,featured:ae}}),children:[s.jsx(ut,{className:"w-32",children:s.jsx(mt,{placeholder:"Featured"})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"all",children:"All"}),s.jsx(ke,{value:"true",children:"Featured"}),s.jsx(ke,{value:"false",children:"Not Featured"})]})]}),s.jsx(pe,{onClick:Os,children:s.jsx(Br,{className:"w-4 h-4"})})]})]}),s.jsx(Ue,{children:s.jsx(qe,{className:"p-0",children:s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Name"}),s.jsx(_e,{children:"Owner"}),s.jsx(_e,{children:"Category"}),s.jsx(_e,{children:"Price"}),s.jsx(_e,{children:"Rating"}),s.jsx(_e,{children:"Featured"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Dt,{children:n?s.jsx(ze,{children:s.jsx(fe,{colSpan:8,className:"text-center py-8",children:"Loading..."})}):Re.length===0?s.jsx(ze,{children:s.jsx(fe,{colSpan:8,className:"text-center py-8",children:"No services found"})}):Re.map(ae=>s.jsxs(ze,{children:[s.jsx(fe,{children:ae.id}),s.jsx(fe,{className:"font-medium",children:ae.name}),s.jsx(fe,{children:ae.third_party?s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{className:"font-medium",children:ae.third_party.name}),s.jsx("p",{className:"text-xs text-muted-foreground",children:ae.third_party.email})]}):ae.third_party_id?s.jsxs("span",{className:"text-muted-foreground",children:["ID: ",ae.third_party_id]}):s.jsx("span",{className:"text-muted-foreground",children:"-"})}),s.jsx(fe,{children:s.jsx(We,{variant:"outline",children:ae.category})}),s.jsxs(fe,{children:["$",(parseFloat(ae.price)||0).toFixed(2)]}),s.jsx(fe,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ar,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}),ae.rating?(parseFloat(ae.rating)||0).toFixed(1):"N/A"]})}),s.jsx(fe,{children:s.jsx(We,{variant:ae.featured?"default":"secondary",children:ae.featured?"Yes":"No"})}),s.jsx(fe,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(pe,{size:"sm",variant:"ghost",onClick:()=>{At(ae),ys("view-service"),Ct(!0)},children:s.jsx(nr,{className:"w-4 h-4"})}),s.jsx(pe,{size:"sm",variant:"ghost",onClick:()=>{At(ae),ys("edit-service"),Ct(!0)},children:s.jsx(vr,{className:"w-4 h-4"})}),s.jsx(pe,{size:"sm",variant:"ghost",onClick:()=>ra(ae.id),children:s.jsx(Bi,{className:"w-4 h-4"})}),s.jsx(pe,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>qs({open:!0,title:"Delete Service",message:`Are you sure you want to delete "${ae.name}"?`,onConfirm:()=>ja(ae.id)}),children:s.jsx(Zs,{className:"w-4 h-4"})})]})})]},ae.id))})]})})})]}),s.jsxs(Zt,{value:"third-parties",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(pe,{onClick:()=>{At(null),ys("create-third-party"),Ct(!0)},children:[s.jsx(sr,{className:"w-4 h-4 mr-1"}),"Create Third Party"]}),s.jsx(pe,{variant:"outline",size:"icon",onClick:Sn,"aria-label":"Refresh third parties",children:s.jsx(Mt,{className:"w-4 h-4"})})]}),s.jsx(Se,{placeholder:"Search third parties...",value:Ke.thirdParties.search,onChange:ae=>us({...Ke,thirdParties:{...Ke.thirdParties,search:ae.target.value}}),className:"w-64"})]}),s.jsx(Ue,{children:s.jsx(qe,{className:"p-0",children:s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Name"}),s.jsx(_e,{children:"Contact"}),s.jsx(_e,{children:"Category"}),s.jsx(_e,{children:"City"}),s.jsx(_e,{children:"Subscription"}),s.jsx(_e,{children:"Created At"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Dt,{children:n?s.jsx(ze,{children:s.jsx(fe,{colSpan:8,className:"text-center py-8",children:"Loading..."})}):Je.length===0?s.jsx(ze,{children:s.jsx(fe,{colSpan:8,className:"text-center py-8",children:"No third parties found"})}):Je.map(ae=>s.jsxs(ze,{children:[s.jsx(fe,{children:ae.id}),s.jsx(fe,{children:s.jsxs("div",{children:[s.jsx("p",{className:"font-medium",children:ae.name}),ae.description&&s.jsx("p",{className:"text-xs text-muted-foreground truncate max-w-[200px]",children:ae.description})]})}),s.jsx(fe,{children:s.jsxs("div",{className:"text-sm",children:[s.jsx("p",{children:ae.email}),ae.phone&&s.jsx("p",{className:"text-muted-foreground",children:ae.phone})]})}),s.jsx(fe,{children:s.jsx(We,{variant:"outline",children:ae.category||"N/A"})}),s.jsx(fe,{children:ae.city||"N/A"}),s.jsx(fe,{children:s.jsx(We,{variant:ae.subscription==="premium"||ae.subscription==="enterprise"?"default":"secondary",children:ae.subscription||"Free"})}),s.jsx(fe,{children:new Date(ae.created_at).toLocaleDateString()}),s.jsx(fe,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(pe,{size:"sm",variant:"ghost",title:"View Details",onClick:()=>{At(ae),ys("view-third-party"),Ct(!0)},children:s.jsx(nr,{className:"w-4 h-4"})}),s.jsx(pe,{size:"sm",variant:"ghost",title:"Edit",onClick:()=>{At(ae),ys("edit-third-party"),Ct(!0)},children:s.jsx(vr,{className:"w-4 h-4"})}),s.jsx(pe,{size:"sm",variant:"ghost",title:"Add Service for this Third Party",onClick:()=>{At({third_party_id:ae.id,third_party_name:ae.name}),ys("create-service-for-tp"),Ct(!0)},children:s.jsx(sr,{className:"w-4 h-4"})}),s.jsx(pe,{size:"sm",variant:"ghost",className:"text-destructive",title:"Delete",onClick:()=>qs({open:!0,title:"Delete Third Party",message:`Are you sure you want to delete "${ae.name}"?`,onConfirm:()=>sa(ae.id)}),children:s.jsx(Zs,{className:"w-4 h-4"})})]})})]},ae.id))})]})})})]}),s.jsxs(Zt,{value:"service-items",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("div",{className:"flex items-center gap-2",children:kt&&s.jsxs(s.Fragment,{children:[s.jsxs(pe,{onClick:()=>{At(null),ys("create-service-item"),Ct(!0)},children:[s.jsx(sr,{className:"w-4 h-4 mr-1"}),"Add Item"]}),s.jsx(pe,{variant:"outline",size:"icon",onClick:()=>ra(kt),"aria-label":"Refresh service items",children:s.jsx(Mt,{className:"w-4 h-4"})})]})}),s.jsx("div",{className:"flex items-center gap-2",children:s.jsxs(ft,{value:kt?.toString()||"",onValueChange:ae=>{ae&&ra(parseInt(ae))},children:[s.jsx(ut,{className:"w-64",children:s.jsx(mt,{placeholder:"Select a service to view items"})}),s.jsx(ht,{children:Re.map(ae=>s.jsx(ke,{value:ae.id.toString(),children:ae.name},ae.id))})]})})]}),kt?s.jsxs(Ue,{children:[s.jsx(ps,{children:s.jsxs(gs,{className:"text-lg",children:["Items for Service #",kt]})}),s.jsx(qe,{className:"p-0",children:s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Name"}),s.jsx(_e,{children:"Description"}),s.jsx(_e,{children:"Price"}),s.jsx(_e,{children:"Image"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Dt,{children:n?s.jsx(ze,{children:s.jsx(fe,{colSpan:6,className:"text-center py-8",children:"Loading..."})}):Nt.length===0?s.jsx(ze,{children:s.jsx(fe,{colSpan:6,className:"text-center py-8",children:"No items found for this service"})}):Nt.map(ae=>s.jsxs(ze,{children:[s.jsx(fe,{children:ae.id}),s.jsx(fe,{className:"font-medium",children:ae.name}),s.jsx(fe,{className:"max-w-xs truncate",children:ae.description||"N/A"}),s.jsxs(fe,{children:["$",(parseFloat(ae.price)||0).toFixed(2)]}),s.jsx(fe,{children:ae.image?s.jsx("img",{src:ae.image,alt:ae.name,className:"w-10 h-10 object-cover rounded"}):s.jsx("span",{className:"text-muted-foreground",children:"No image"})}),s.jsx(fe,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(pe,{size:"sm",variant:"ghost",onClick:()=>{At(ae),ys("edit-service-item"),Ct(!0)},children:s.jsx(vr,{className:"w-4 h-4"})}),s.jsx(pe,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>qs({open:!0,title:"Delete Item",message:`Are you sure you want to delete "${ae.name}"?`,onConfirm:()=>Pn(ae.id)}),children:s.jsx(Zs,{className:"w-4 h-4"})})]})})]},ae.id))})]})})]}):s.jsx(Ue,{children:s.jsxs(qe,{className:"py-12 text-center text-muted-foreground",children:[s.jsx(Bi,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Select a service from the dropdown above to view its items"}),s.jsxs("p",{className:"text-sm mt-2",children:["Or click the ",s.jsx(Bi,{className:"w-4 h-4 inline"})," icon on a service in the Services tab"]})]})})]}),s.jsxs(Zt,{value:"service-feedbacks",className:"space-y-4",children:[s.jsx("div",{className:"flex items-center gap-2",children:s.jsx(pe,{variant:"outline",size:"icon",onClick:Xr,"aria-label":"Refresh service feedbacks",children:s.jsx(Mt,{className:"w-4 h-4"})})}),s.jsx(Ue,{children:s.jsx(qe,{className:"p-0",children:s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Service"}),s.jsx(_e,{children:"User"}),s.jsx(_e,{children:"Rating"}),s.jsx(_e,{children:"Comment"}),s.jsx(_e,{children:"Helpful"}),s.jsx(_e,{children:"Created At"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Dt,{children:n?s.jsx(ze,{children:s.jsx(fe,{colSpan:8,className:"text-center py-8",children:"Loading..."})}):Ht.length===0?s.jsx(ze,{children:s.jsx(fe,{colSpan:8,className:"text-center py-8",children:"No feedbacks found"})}):Ht.map(ae=>s.jsxs(ze,{children:[s.jsx(fe,{children:ae.id}),s.jsx(fe,{children:ae.service?.name||ae.service_id}),s.jsx(fe,{children:ae.user?.name||ae.user_id}),s.jsx(fe,{children:s.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((Ae,gt)=>s.jsx(ar,{className:`w-4 h-4 ${gt<ae.rating?"text-yellow-500 fill-yellow-500":"text-gray-300"}`},gt))})}),s.jsx(fe,{className:"max-w-xs truncate",children:ae.comment||"N/A"}),s.jsx(fe,{children:ae.helpful_count||0}),s.jsx(fe,{children:new Date(ae.created_at).toLocaleDateString()}),s.jsx(fe,{children:s.jsx(pe,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>qs({open:!0,title:"Delete Feedback",message:"Are you sure you want to delete this feedback?",onConfirm:()=>ao(ae.id)}),children:s.jsx(Zs,{className:"w-4 h-4"})})})]},ae.id))})]})})})]})]})})]})}),s.jsx(Cy,{open:dr.open,onOpenChange:ae=>qs({...dr,open:ae}),children:s.jsxs(sp,{children:[s.jsxs(rp,{children:[s.jsx(ap,{children:dr.title}),s.jsx(ip,{children:dr.message})]}),s.jsxs(np,{children:[s.jsx(lp,{onClick:()=>qs({...dr,open:!1}),children:"Cancel"}),s.jsx(op,{onClick:()=>{dr.onConfirm&&dr.onConfirm(),qs({...dr,open:!1})},children:"Confirm"})]})]})}),s.jsx(Go,{children:Js&&s.jsx(Kr,{open:Js,onOpenChange:Ct,children:s.jsxs(Ir,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(zr,{children:s.jsxs(Ur,{children:[ot==="view-user"&&"User Details",ot==="edit-user"&&"Edit User",ot==="view-car"&&"Car Details",ot==="edit-car"&&"Edit Car",ot==="view-booking"&&"Booking Details",ot==="edit-booking"&&"Edit Booking",ot==="create-announcement"&&"Create Announcement",ot==="edit-announcement"&&"Edit Announcement",ot==="edit-appeal"&&"Edit Appeal",ot==="edit-ad"&&"Edit Ad",ot==="edit-suggestion"&&"Edit Suggestion",ot==="send-notification"&&"Send Notification to All Users",ot==="create-holiday"&&"Create Holiday",ot==="edit-holiday"&&"Edit Holiday",ot==="create-ad"&&"Create Ad",ot==="create-payment"&&"Issue Payment/Invoice",ot==="create-featured-car"&&"Create Featured Car",ot==="create-service"&&"Create Service",ot==="view-service"&&"Service Details",ot==="edit-service"&&"Edit Service",ot==="create-third-party"&&"Create Third Party",ot==="view-third-party"&&"Third Party Details",ot==="edit-third-party"&&"Edit Third Party",ot==="create-service-for-tp"&&`Add Service for ${ye?.third_party_name||"Third Party"}`,ot==="create-service-item"&&"Create Service Item",ot==="edit-service-item"&&"Edit Service Item",ot==="create-promo-code"&&"Create Promo Code",ot==="edit-promo-code"&&"Edit Promo Code",ot==="create-broker"&&"Create Broker",ot==="create-broker-payout"&&"Create Broker Payout",ot==="view-promo-users"&&"Promo Code Users"]})}),ot==="view-user"&&ye&&s.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"ID"}),s.jsx("p",{className:"text-sm",children:ye.id})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Username"}),s.jsx("p",{className:"text-sm",children:ye.username||"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Email"}),s.jsx("p",{className:"text-sm",children:ye.email||"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Phone Number"}),s.jsx("p",{className:"text-sm",children:ye.phone_number||"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"First Name"}),s.jsx("p",{className:"text-sm",children:ye.first_name||"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Last Name"}),s.jsx("p",{className:"text-sm",children:ye.last_name||"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Gender"}),s.jsx("p",{className:"text-sm",children:ye.gender||"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Birth Date"}),s.jsx("p",{className:"text-sm",children:ye.birth_date?new Date(ye.birth_date).toLocaleDateString():"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"City"}),s.jsx("p",{className:"text-sm",children:ye.city||"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Role"}),s.jsx("p",{className:"text-sm",children:ye.role||"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Status"}),s.jsx(We,{variant:ye.status?"default":"secondary",children:ye.status?"Active":"Inactive"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Verified by Admin"}),s.jsx(We,{variant:ye.verified_by_admin?"default":"secondary",children:ye.verified_by_admin?"Yes":"No"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Is Locked"}),s.jsx(We,{variant:ye.is_locked?"destructive":"default",children:ye.is_locked?"Locked":"Unlocked"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Created At"}),s.jsx("p",{className:"text-sm",children:new Date(ye.created_at).toLocaleString()})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Updated At"}),s.jsx("p",{className:"text-sm",children:new Date(ye.updated_at).toLocaleString()})]})]}),ye.bio&&s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Bio"}),s.jsx("p",{className:"text-sm",children:ye.bio})]}),ye.client&&s.jsxs("div",{className:"border-t pt-4",children:[s.jsx(ue,{className:"text-sm font-semibold mb-2 block",children:"Client Details"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{className:"text-xs",children:"License Number"}),s.jsx("p",{className:"text-sm",children:ye.client.license_number||"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-xs",children:"Profession"}),s.jsx("p",{className:"text-sm",children:ye.client.profession||"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-xs",children:"Average Salary"}),s.jsx("p",{className:"text-sm",children:ye.client.avg_salary||"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-xs",children:"Promo Code"}),s.jsx("p",{className:"text-sm",children:ye.client.promo_code||"N/A"})]})]})]}),ye.agent&&s.jsxs("div",{className:"border-t pt-4",children:[s.jsx(ue,{className:"text-sm font-semibold mb-2 block",children:"Agent/Agency Details"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{className:"text-xs",children:"Business Type"}),s.jsx("p",{className:"text-sm",children:ye.agent.business_type||"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-xs",children:"Company Number"}),s.jsx("p",{className:"text-sm",children:ye.agent.company_number||"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-xs",children:"Profession"}),s.jsx("p",{className:"text-sm",children:ye.agent.profession||"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-xs",children:"Website"}),s.jsx("p",{className:"text-sm",children:ye.agent.website||"N/A"})]})]})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(pe,{onClick:()=>{ys("edit-user")},className:"flex-1",children:"Edit User"}),s.jsx(pe,{variant:"outline",onClick:()=>Ct(!1),children:"Close"})]})]}),ot==="edit-user"&&ye&&s.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"ID"}),s.jsx(Se,{value:ye.id||"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Username"}),s.jsx(Se,{value:ye.username||"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Email"}),s.jsx(Se,{type:"email",value:ye.email||"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Phone Number"}),s.jsx(Se,{value:ye.phone_number||"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"First Name"}),s.jsx(Se,{value:ye.first_name||"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Last Name"}),s.jsx(Se,{value:ye.last_name||"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Gender"}),s.jsx(Se,{value:ye.gender||"N/A",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Birth Date"}),s.jsx(Se,{type:"date",value:ye.birth_date?new Date(ye.birth_date).toISOString().split("T")[0]:"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"City"}),s.jsx(Se,{value:ye.city||"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Role"}),s.jsx(Se,{value:ye.role||"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Created At"}),s.jsx(Se,{value:new Date(ye.created_at).toLocaleString(),disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Updated At"}),s.jsx(Se,{value:new Date(ye.updated_at).toLocaleString(),disabled:!0})]})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Bio"}),s.jsx(pn,{value:ye.bio||"",disabled:!0})]}),ye.client&&s.jsxs("div",{className:"border-t pt-4",children:[s.jsx(ue,{className:"text-sm font-semibold mb-2 block",children:"Client Details (Read-only)"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{className:"text-xs",children:"License Number"}),s.jsx(Se,{value:ye.client.license_number||"N/A",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-xs",children:"Profession"}),s.jsx(Se,{value:ye.client.profession||"N/A",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-xs",children:"Average Salary"}),s.jsx(Se,{value:ye.client.avg_salary||"N/A",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-xs",children:"Promo Code"}),s.jsx(Se,{value:ye.client.promo_code||"N/A",disabled:!0})]})]})]}),ye.agent&&s.jsxs("div",{className:"border-t pt-4",children:[s.jsx(ue,{className:"text-sm font-semibold mb-2 block",children:"Agent/Agency Details (Read-only)"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{className:"text-xs",children:"Business Type"}),s.jsx(Se,{value:ye.agent.business_type||"N/A",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-xs",children:"Company Number"}),s.jsx(Se,{value:ye.agent.company_number||"N/A",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-xs",children:"Profession"}),s.jsx(Se,{value:ye.agent.profession||"N/A",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-xs",children:"Website"}),s.jsx(Se,{value:ye.agent.website||"N/A",disabled:!0})]})]})]}),s.jsxs("div",{className:"border-t pt-4 space-y-3",children:[s.jsx(ue,{className:"text-sm font-semibold block",children:"Editable Fields"}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ue,{children:"Verified by Admin"}),s.jsx(kn,{checked:ye.verified_by_admin||!1,onCheckedChange:ae=>At({...ye,verified_by_admin:ae})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ue,{children:"Status (Active)"}),s.jsx(kn,{checked:ye.status!==void 0?ye.status:!0,onCheckedChange:ae=>At({...ye,status:ae})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ue,{children:"Is Locked"}),s.jsx(kn,{checked:ye.is_locked||!1,onCheckedChange:ae=>At({...ye,is_locked:ae})})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ue,{children:"Update Access (Allow Profile Updates)"}),s.jsx(kn,{checked:ye.update_access!==void 0?ye.update_access:!0,onCheckedChange:ae=>At({...ye,update_access:ae})})]})]}),(ye.role==="agency"||ye.role==="agent")&&s.jsxs("div",{className:"border-t pt-4 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx(ue,{className:"text-sm font-semibold",children:"App Fees Management"}),s.jsxs(pe,{variant:"outline",size:"sm",onClick:async()=>{await Za(ye.id)},children:[s.jsx(Mt,{className:"w-4 h-4 mr-1"}),"Refresh Balance"]})]}),de[ye.id]?s.jsxs("div",{className:"space-y-2 p-3 bg-gray-50 dark:bg-gray-800 rounded-md",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm",children:"Current App Fees %:"}),s.jsxs("span",{className:"font-semibold",children:[de[ye.id].app_fees_percentage||0,"%"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm",children:"Total Balance:"}),s.jsxs("span",{className:"font-semibold",children:["$",de[ye.id].total_balance||0]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm",children:"Paid Amount:"}),s.jsxs("span",{className:"text-green-600",children:["$",de[ye.id].breakdown?.paid_amount||0]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm",children:"Remaining Balance:"}),s.jsxs("span",{className:"text-orange-600",children:["$",de[ye.id].breakdown?.remaining_balance||0]})]})]}):s.jsx("p",{className:"text-sm text-gray-500",children:'Click "Refresh Balance" to load app fees data'}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{children:"Update App Fees Percentage"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(Se,{type:"number",step:"0.01",min:"0",max:"100",placeholder:"e.g., 10.00",defaultValue:de[ye.id]?.app_fees_percentage||"",onChange:ae=>{const Ae=parseFloat(ae.target.value);!isNaN(Ae)&&Ae>=0&&Ae<=100&&At({...ye,app_fees_percentage:Ae})}}),s.jsx(pe,{onClick:()=>{ye.app_fees_percentage!==void 0?ji(ye.id,ye.app_fees_percentage):ve.error("Please enter a valid app fees percentage")},variant:"outline",children:"Update %"})]}),s.jsx("p",{className:"text-xs text-gray-500",children:"Enter percentage (0-100), e.g., 10.00 for 10%"})]})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(pe,{onClick:()=>tl(ye.id,{verified_by_admin:ye.verified_by_admin,status:ye.status,is_locked:ye.is_locked,update_access:ye.update_access!==void 0?ye.update_access:!0}),className:"flex-1",children:"Update User"}),s.jsx(pe,{variant:"outline",onClick:()=>Ct(!1),children:"Cancel"})]})]}),ot==="view-car"&&ye&&s.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"ID"}),s.jsx("p",{className:"text-sm",children:ye.id})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Make"}),s.jsx("p",{className:"text-sm",children:ye.make||"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Model"}),s.jsx("p",{className:"text-sm",children:ye.model||"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Year"}),s.jsx("p",{className:"text-sm",children:ye.year||"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"License Plate"}),s.jsx("p",{className:"text-sm",children:ye.license_plate||"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Color"}),s.jsx("p",{className:"text-sm",children:ye.color||"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Mileage"}),s.jsx("p",{className:"text-sm",children:ye.mileage?.toLocaleString()||"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Fuel Type"}),s.jsx("p",{className:"text-sm",children:ye.fuel_type||"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Transmission"}),s.jsx("p",{className:"text-sm",children:ye.transmission||"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Wheels Drive"}),s.jsx("p",{className:"text-sm",children:ye.wheels_drive||"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Category"}),s.jsx("p",{className:"text-sm",children:ye.car_category||"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Seats"}),s.jsx("p",{className:"text-sm",children:ye.seats||"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Doors"}),s.jsx("p",{className:"text-sm",children:ye.doors||"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Daily Rate"}),s.jsxs("p",{className:"text-sm",children:["$",ye.daily_rate||"0.00"]})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Holiday Rate"}),s.jsxs("p",{className:"text-sm",children:["$",ye.holiday_rate||"N/A"]})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Status"}),s.jsx(We,{variant:"outline",children:ye.status||"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Car Accepted"}),s.jsx(We,{variant:ye.car_accepted?"default":"secondary",children:ye.car_accepted?"Yes":"No"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"With Driver"}),s.jsx(We,{variant:ye.with_driver?"default":"secondary",children:ye.with_driver?"Yes":"No"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Is Delivered"}),s.jsx(We,{variant:ye.is_delivered?"default":"secondary",children:ye.is_delivered?"Yes":"No"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Min Rental Days"}),s.jsx("p",{className:"text-sm",children:ye.min_rental_days||"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Views Count"}),s.jsx("p",{className:"text-sm",children:ye.views_count||0})]})]}),ye.features&&ye.features.length>0&&s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Features"}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:ye.features.map((ae,Ae)=>s.jsx(We,{variant:"outline",children:ae},Ae))})]}),ye.car_add_on&&ye.car_add_on.length>0&&s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Add-ons"}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:ye.car_add_on.map((ae,Ae)=>s.jsx(We,{variant:"outline",children:ae},Ae))})]}),ye.notes&&s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Notes"}),s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:ye.notes})]}),ye.agent&&s.jsxs("div",{className:"border-t pt-4",children:[s.jsx(ue,{className:"text-sm font-semibold mb-2 block",children:"Agent"}),s.jsxs("p",{className:"text-sm",children:[ye.agent.username||ye.agent.first_name," ",ye.agent.last_name]}),s.jsx("p",{className:"text-xs text-gray-500",children:ye.agent.phone_number})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(pe,{onClick:()=>{ys("edit-car")},className:"flex-1",children:"Edit Car"}),s.jsx(pe,{variant:"outline",onClick:()=>Ct(!1),children:"Close"})]})]}),ot==="edit-car"&&ye&&s.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"ID"}),s.jsx(Se,{value:ye.id||"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Make"}),s.jsx(Se,{value:ye.make||"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Model"}),s.jsx(Se,{value:ye.model||"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Year"}),s.jsx(Se,{value:ye.year||"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"License Plate"}),s.jsx(Se,{value:ye.license_plate||"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Color"}),s.jsx(Se,{value:ye.color||"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Mileage"}),s.jsx(Se,{value:ye.mileage?.toLocaleString()||"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Fuel Type"}),s.jsx(Se,{value:ye.fuel_type||"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Transmission"}),s.jsx(Se,{value:ye.transmission||"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Wheels Drive"}),s.jsx(Se,{value:ye.wheels_drive||"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Category"}),s.jsx(Se,{value:ye.car_category||"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Seats"}),s.jsx(Se,{value:ye.seats||"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Doors"}),s.jsx(Se,{value:ye.doors||"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Daily Rate"}),s.jsx(Se,{value:`$${ye.daily_rate||"0.00"}`,disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Holiday Rate"}),s.jsx(Se,{value:`$${ye.holiday_rate||"N/A"}`,disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Min Rental Days"}),s.jsx(Se,{value:ye.min_rental_days||"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Views Count"}),s.jsx(Se,{value:ye.views_count||0,disabled:!0})]})]}),ye.features&&ye.features.length>0&&s.jsxs("div",{children:[s.jsx(ue,{children:"Features"}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:ye.features.map((ae,Ae)=>s.jsx(We,{variant:"outline",children:ae},Ae))})]}),ye.car_add_on&&ye.car_add_on.length>0&&s.jsxs("div",{children:[s.jsx(ue,{children:"Add-ons"}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:ye.car_add_on.map((ae,Ae)=>s.jsx(We,{variant:"outline",children:ae},Ae))})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx(ue,{className:"text-sm font-semibold block mb-3",children:"Car Images"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"Main Image"}),ye.main_image_url&&s.jsx("div",{className:"mb-2",children:s.jsx("img",{src:`/api/storage/${ye.main_image_url}`,alt:"Main",className:"w-full h-32 object-cover rounded-lg border"})}),s.jsx(Se,{type:"file",accept:"image/*",onChange:ae=>Tr(ye.id,"main_image",ae.target.files[0]),className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Front Image"}),ye.front_image_url&&s.jsx("div",{className:"mb-2",children:s.jsx("img",{src:`/api/storage/${ye.front_image_url}`,alt:"Front",className:"w-full h-32 object-cover rounded-lg border"})}),s.jsx(Se,{type:"file",accept:"image/*",onChange:ae=>Tr(ye.id,"front_image",ae.target.files[0]),className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Back Image"}),ye.back_image_url&&s.jsx("div",{className:"mb-2",children:s.jsx("img",{src:`/api/storage/${ye.back_image_url}`,alt:"Back",className:"w-full h-32 object-cover rounded-lg border"})}),s.jsx(Se,{type:"file",accept:"image/*",onChange:ae=>Tr(ye.id,"back_image",ae.target.files[0]),className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Left Image"}),ye.left_image_url&&s.jsx("div",{className:"mb-2",children:s.jsx("img",{src:`/api/storage/${ye.left_image_url}`,alt:"Left",className:"w-full h-32 object-cover rounded-lg border"})}),s.jsx(Se,{type:"file",accept:"image/*",onChange:ae=>Tr(ye.id,"left_image",ae.target.files[0]),className:"mt-1"})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Right Image"}),ye.right_image_url&&s.jsx("div",{className:"mb-2",children:s.jsx("img",{src:`/api/storage/${ye.right_image_url}`,alt:"Right",className:"w-full h-32 object-cover rounded-lg border"})}),s.jsx(Se,{type:"file",accept:"image/*",onChange:ae=>Tr(ye.id,"right_image",ae.target.files[0]),className:"mt-1"})]})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx(ue,{className:"text-sm font-semibold block mb-3",children:"Editable Fields"}),s.jsxs("div",{children:[s.jsx(ue,{children:"Status"}),s.jsxs(ft,{value:ye.status||"",onValueChange:ae=>At({...ye,status:ae}),children:[s.jsx(ut,{children:s.jsx(mt,{})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"available",children:"Available"}),s.jsx(ke,{value:"rented",children:"Rented"}),s.jsx(ke,{value:"maintenance",children:"Maintenance"}),s.jsx(ke,{value:"unavailable",children:"Unavailable"})]})]})]}),s.jsxs("div",{className:"mt-3",children:[s.jsx(ue,{children:"Notes"}),s.jsx(pn,{value:ye.notes||"",onChange:ae=>At({...ye,notes:ae.target.value}),rows:4})]}),s.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[s.jsx(ue,{children:"Car Accepted"}),s.jsx(kn,{checked:ye.car_accepted||!1,onCheckedChange:ae=>At({...ye,car_accepted:ae})})]})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(pe,{onClick:()=>bi(ye.id,{status:ye.status,car_accepted:ye.car_accepted,notes:ye.notes}),className:"flex-1",disabled:n,children:"Update Car"}),s.jsx(pe,{variant:"outline",onClick:()=>Ct(!1),children:"Cancel"})]})]}),ot==="view-booking"&&ye&&s.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Booking ID"}),s.jsx("p",{className:"text-sm",children:ye.id})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Client"}),s.jsx("p",{className:"text-sm",children:ye.client?.first_name&&ye.client?.last_name?`${ye.client.first_name} ${ye.client.last_name}`:ye.client?.username||"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Car"}),s.jsxs("p",{className:"text-sm",children:[ye.car?.make," ",ye.car?.model," (",ye.car?.year,")"]})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Agent"}),s.jsx("p",{className:"text-sm",children:ye.car?.agent?.username||ye.car?.agent?.first_name||"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Start Date"}),s.jsx("p",{className:"text-sm",children:new Date(ye.start_datetime).toLocaleString()})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"End Date"}),s.jsx("p",{className:"text-sm",children:new Date(ye.end_datetime).toLocaleString()})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Total Price"}),s.jsxs("p",{className:"text-sm font-semibold",children:["$",ye.total_booking_price||"0.00"]})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Booking Status"}),s.jsx(We,{variant:"outline",children:ye.booking_request_status||"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Payment Status"}),s.jsx(We,{variant:ye.payment_status==="paid"?"default":"secondary",children:ye.payment_status||"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Payment Method"}),s.jsx("p",{className:"text-sm",children:ye.payment_method||"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Is Paid Online"}),s.jsx(We,{variant:ye.is_paid_online?"default":"secondary",children:ye.is_paid_online?"Yes":"No"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Is Delivered"}),s.jsx(We,{variant:ye.is_delivered?"default":"secondary",children:ye.is_delivered?"Yes":"No"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Pickup Location"}),s.jsx("p",{className:"text-sm",children:ye.pickup_location||"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Dropoff Location"}),s.jsx("p",{className:"text-sm",children:ye.dropoff_location||"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Reason of Booking"}),s.jsx("p",{className:"text-sm",children:ye.reason_of_booking||"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Extra Charge"}),s.jsxs("p",{className:"text-sm",children:["$",ye.extra_charge||"0.00"]})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Cancellation Date"}),s.jsx("p",{className:"text-sm",children:ye.cancelation_date?new Date(ye.cancelation_date).toLocaleString():"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Cancellation Reason"}),s.jsx("p",{className:"text-sm",children:ye.cancelation_reason||"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Created At"}),s.jsx("p",{className:"text-sm",children:new Date(ye.created_at).toLocaleString()})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Updated At"}),s.jsx("p",{className:"text-sm",children:new Date(ye.updated_at).toLocaleString()})]})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(pe,{onClick:()=>{ys("edit-booking")},className:"flex-1",children:"Edit Booking"}),s.jsx(pe,{variant:"outline",onClick:()=>Ct(!1),children:"Close"})]})]}),ot==="edit-booking"&&ye&&s.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"Booking ID"}),s.jsx(Se,{value:ye.id||"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Client"}),s.jsx(Se,{value:ye.client?.first_name&&ye.client?.last_name?`${ye.client.first_name} ${ye.client.last_name}`:ye.client?.username||"N/A",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Car"}),s.jsx(Se,{value:`${ye.car?.make||""} ${ye.car?.model||""} (${ye.car?.year||""})`,disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Start Date & Time"}),s.jsx(Se,{value:new Date(ye.start_datetime).toLocaleString(),disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"End Date & Time"}),s.jsx(Se,{value:new Date(ye.end_datetime).toLocaleString(),disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Payment Status"}),s.jsx(Se,{value:ye.payment_status||"N/A",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Payment Method"}),s.jsx(Se,{value:ye.payment_method||"N/A",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Is Paid Online"}),s.jsx(Se,{value:ye.is_paid_online?"Yes":"No",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Is Delivered"}),s.jsx(Se,{value:ye.is_delivered?"Yes":"No",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Pickup Location"}),s.jsx(Se,{value:ye.pickup_location||"N/A",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Dropoff Location"}),s.jsx(Se,{value:ye.dropoff_location||"N/A",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Reason of Booking"}),s.jsx(Se,{value:ye.reason_of_booking||"N/A",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Extra Charge"}),s.jsx(Se,{value:`$${ye.extra_charge||"0.00"}`,disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Cancellation Date"}),s.jsx(Se,{value:ye.cancelation_date?new Date(ye.cancelation_date).toLocaleString():"N/A",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Cancellation Reason"}),s.jsx(Se,{value:ye.cancelation_reason||"N/A",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Created At"}),s.jsx(Se,{value:new Date(ye.created_at).toLocaleString(),disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Updated At"}),s.jsx(Se,{value:new Date(ye.updated_at).toLocaleString(),disabled:!0})]})]}),s.jsxs("div",{className:"border-t pt-4",children:[s.jsx(ue,{className:"text-sm font-semibold block mb-3",children:"Editable Fields"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"Booking Status"}),s.jsxs(ft,{value:ye.booking_request_status||"",onValueChange:ae=>At({...ye,booking_request_status:ae}),children:[s.jsx(ut,{children:s.jsx(mt,{})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"pending",children:"Pending"}),s.jsx(ke,{value:"confirmed",children:"Confirmed"}),s.jsx(ke,{value:"cancelled",children:"Cancelled"}),s.jsx(ke,{value:"completed",children:"Completed"}),s.jsx(ke,{value:"rejected",children:"Rejected"})]})]})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Total Booking Price"}),s.jsx(Se,{type:"number",step:"0.01",value:ye.total_booking_price||"",onChange:ae=>At({...ye,total_booking_price:ae.target.value})})]})]})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(pe,{onClick:()=>gc(ye.id,{booking_request_status:ye.booking_request_status,total_booking_price:ye.total_booking_price}),className:"flex-1",children:"Update Booking"}),s.jsx(pe,{variant:"outline",onClick:()=>Ct(!1),children:"Cancel"})]})]}),(ot==="create-announcement"||ot==="edit-announcement")&&s.jsx(Q0e,{announcement:ye,onSubmit:ae=>{ot==="create-announcement"?Od(ae):Ld(ye.id,ae)}}),ot==="edit-appeal"&&ye&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"Status"}),s.jsxs(ft,{value:ye.status,onValueChange:ae=>At({...ye,status:ae}),children:[s.jsx(ut,{children:s.jsx(mt,{})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"submitted",children:"Submitted"}),s.jsx(ke,{value:"under_review",children:"Under Review"}),s.jsx(ke,{value:"resolved",children:"Resolved"}),s.jsx(ke,{value:"rejected",children:"Rejected"}),s.jsx(ke,{value:"escalated",children:"Escalated"})]})]})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Priority"}),s.jsxs(ft,{value:ye.priority,onValueChange:ae=>At({...ye,priority:ae}),children:[s.jsx(ut,{children:s.jsx(mt,{})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"low",children:"Low"}),s.jsx(ke,{value:"medium",children:"Medium"}),s.jsx(ke,{value:"high",children:"High"}),s.jsx(ke,{value:"urgent",children:"Urgent"})]})]})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Response"}),s.jsx(pn,{value:ye.response||"",onChange:ae=>At({...ye,response:ae.target.value})})]}),s.jsx(pe,{onClick:()=>Ch(ye.id,{status:ye.status,priority:ye.priority,response:ye.response}),children:"Update Appeal"})]}),ot==="edit-ad"&&ye&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"Online"}),s.jsx(kn,{checked:ye.online,onCheckedChange:ae=>At({...ye,online:ae})})]}),s.jsx(pe,{onClick:()=>sl(ye.id,{online:ye.online}),children:"Update Ad"})]}),ot==="edit-suggestion"&&ye&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"Status"}),s.jsxs(ft,{value:ye.status,onValueChange:ae=>At({...ye,status:ae}),children:[s.jsx(ut,{children:s.jsx(mt,{})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"pending",children:"Pending"}),s.jsx(ke,{value:"received",children:"Received"}),s.jsx(ke,{value:"implemented",children:"Implemented"}),s.jsx(ke,{value:"rejected",children:"Rejected"})]})]})]}),s.jsx(pe,{onClick:()=>On(ye.id,{status:ye.status}),children:"Update Suggestion"})]}),ot==="send-notification"&&s.jsx(J0e,{onSubmit:ae=>nl(ae)}),(ot==="create-holiday"||ot==="edit-holiday")&&s.jsx(Z0e,{holiday:ye,onSubmit:ae=>{ot==="create-holiday"?Ya(ae):fc(ye.id,ae)}}),ot==="create-ad"&&s.jsx(VI,{onSubmit:_a,loading:n}),ot==="create-payment"&&s.jsx(M0e,{onSubmit:kh,loading:n}),ot==="create-featured-car"&&s.jsx(HI,{onSubmit:Ah,loading:n}),ot==="view-service"&&ye&&s.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"ID"}),s.jsx("p",{className:"text-sm",children:ye.id})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Name"}),s.jsx("p",{className:"text-sm",children:ye.name||"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Category"}),s.jsx("p",{className:"text-sm",children:ye.category||"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Price"}),s.jsxs("p",{className:"text-sm",children:["$",ye.price?.toFixed(2)||"0.00"]})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Rating"}),s.jsx("p",{className:"text-sm",children:ye.rating?.toFixed(1)||"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Featured"}),s.jsx(We,{variant:ye.featured?"default":"secondary",children:ye.featured?"Yes":"No"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"City"}),s.jsx("p",{className:"text-sm",children:ye.city||"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Clicks"}),s.jsx("p",{className:"text-sm",children:ye.clicks||0})]})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Description"}),s.jsx("p",{className:"text-sm",children:ye.description||"N/A"})]}),ye.images&&ye.images.length>0&&s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Images"}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:ye.images.map((ae,Ae)=>s.jsx("img",{src:ae,alt:`Service ${Ae+1}`,className:"w-20 h-20 object-cover rounded"},Ae))})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(pe,{onClick:()=>ys("edit-service"),className:"flex-1",children:"Edit Service"}),s.jsx(pe,{variant:"outline",onClick:()=>Ct(!1),children:"Close"})]})]}),(ot==="create-service"||ot==="edit-service")&&s.jsx(eye,{service:ot==="edit-service"?ye:null,thirdParties:Je,onSubmit:ae=>{ot==="edit-service"&&ye?mc(ye.id,ae):Jo(ae)}}),ot==="create-broker-payout"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Record a payment to a broker. Amount will be allocated to pending commissions (FIFO)."}),s.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"Broker *"}),s.jsxs(ft,{value:R.broker_id||"select",onValueChange:ae=>P(Ae=>({...Ae,broker_id:ae})),disabled:!!be?.id,children:[s.jsx(ut,{children:s.jsx(mt,{placeholder:"Select broker"})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"select",children:"Select broker"}),(Array.isArray(q)?q:[]).map(ae=>s.jsx(ke,{value:String(ae.id),children:ae.username||`${ae.first_name||""} ${ae.last_name||""}`||`Broker #${ae.id}`},ae.id))]})]})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Amount *"}),s.jsx(Se,{type:"number",min:.01,step:.01,value:R.amount,onChange:ae=>P(Ae=>({...Ae,amount:ae.target.value})),placeholder:"e.g. 300.00"}),me?.balance!=null&&be&&s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Balance: $",Number(me.balance).toFixed(2)]})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Reference"}),s.jsx(Se,{value:R.reference,onChange:ae=>P(Ae=>({...Ae,reference:ae.target.value})),placeholder:"e.g. BANK-REF-123",maxLength:255})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Notes"}),s.jsx(pn,{value:R.notes,onChange:ae=>P(Ae=>({...Ae,notes:ae.target.value.slice(0,1e3)})),placeholder:"Optional notes",rows:3})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[s.jsx(pe,{variant:"outline",onClick:()=>Ct(!1),children:"Cancel"}),s.jsx(pe,{onClick:Na,disabled:n||!R.broker_id||R.broker_id==="select"||!R.amount||parseFloat(R.amount)<.01,children:n?"Creating...":"Create Payout"})]})]}),ot==="create-broker"&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a new broker user (role: broker). Brokers can be assigned promo codes for the referral program."}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"Username *"}),s.jsx(Se,{value:ce.username,onChange:ae=>le(Ae=>({...Ae,username:ae.target.value})),placeholder:"broker_john",maxLength:100})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Phone number *"}),s.jsx(Se,{value:ce.phone_number,onChange:ae=>le(Ae=>({...Ae,phone_number:ae.target.value})),placeholder:"9613123456",maxLength:20})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(ue,{children:"Email"}),s.jsx(Se,{type:"email",value:ce.email,onChange:ae=>le(Ae=>({...Ae,email:ae.target.value})),placeholder:"john@example.com (optional)"})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Password *"}),s.jsx(Se,{type:"password",value:ce.password,onChange:ae=>le(Ae=>({...Ae,password:ae.target.value})),placeholder:"Min 6 characters"})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Confirm password *"}),s.jsx(Se,{type:"password",value:ce.password_confirmation,onChange:ae=>le(Ae=>({...Ae,password_confirmation:ae.target.value})),placeholder:"Repeat password"})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"First name *"}),s.jsx(Se,{value:ce.first_name,onChange:ae=>le(Ae=>({...Ae,first_name:ae.target.value})),placeholder:"John",maxLength:100})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Last name *"}),s.jsx(Se,{value:ce.last_name,onChange:ae=>le(Ae=>({...Ae,last_name:ae.target.value})),placeholder:"Doe",maxLength:100})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[s.jsx(pe,{variant:"outline",onClick:()=>Ct(!1),children:"Cancel"}),s.jsx(pe,{onClick:Ln,disabled:n||!ce.username?.trim()||!ce.phone_number?.trim()||!ce.first_name?.trim()||!ce.last_name?.trim()||!ce.password||ce.password.length<6||ce.password!==ce.password_confirmation,children:n?"Creating...":"Create Broker"})]})]}),(ot==="create-promo-code"||ot==="edit-promo-code")&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"Code"}),s.jsx(Se,{value:ye?.code||"",onChange:ae=>At(Ae=>({...Ae||{},code:ae.target.value})),placeholder:"SAVE20"})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Broker *"}),s.jsxs(ft,{value:ye?.broker_id?String(ye.broker_id):"select",onValueChange:ae=>At(Ae=>({...Ae||{},broker_id:ae&&ae!=="select"?Number(ae):null})),children:[s.jsx(ut,{children:s.jsx(mt,{placeholder:"Select broker"})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"select",children:"Select broker"}),(Array.isArray(q)?q:[]).map(ae=>s.jsx(ke,{value:String(ae.id),children:ae.username||`${ae.first_name||""} ${ae.last_name||""}`||`Broker #${ae.id}`},ae.id))]})]})]}),s.jsxs("div",{className:"md:col-span-2",children:[s.jsx(ue,{children:"Description"}),s.jsx(pn,{value:ye?.description||"",onChange:ae=>At(Ae=>({...Ae||{},description:ae.target.value})),placeholder:"Optional description"})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Max Uses"}),s.jsx(Se,{type:"number",min:1,value:ye?.max_uses??"",onChange:ae=>At(Ae=>({...Ae||{},max_uses:ae.target.value?Number(ae.target.value):null})),placeholder:"Leave empty for unlimited"})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Expires At"}),s.jsx(Se,{type:"date",value:ye?.expires_at||"",onChange:ae=>At(Ae=>({...Ae||{},expires_at:ae.target.value}))})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Commission %"}),s.jsx(Se,{type:"number",min:0,max:100,step:.1,value:ye?.commission_percentage??"",onChange:ae=>At(Ae=>({...Ae||{},commission_percentage:ae.target.value?Number(ae.target.value):null})),placeholder:"e.g. 5"})]}),s.jsxs("div",{className:"flex items-center gap-2 mt-6",children:[s.jsx(kn,{checked:ye?.is_active??!0,onCheckedChange:ae=>At(Ae=>({...Ae||{},is_active:ae}))}),s.jsx("span",{className:"text-sm",children:"Active"})]})]}),s.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[s.jsx(pe,{variant:"outline",onClick:()=>Ct(!1),children:"Cancel"}),s.jsx(pe,{onClick:()=>{if(ot==="create-promo-code"&&(!ye?.code?.trim()||!ye?.broker_id)){ve.error("Code and Broker are required");return}const ae={code:ye?.code?.trim(),broker_id:ye?.broker_id||void 0,description:ye?.description?.trim()||void 0,is_active:ye?.is_active??!0,max_uses:ye?.max_uses||void 0,expires_at:ye?.expires_at||void 0,commission_percentage:ye?.commission_percentage};Ni(ae,ot==="edit-promo-code"?ye:null)},disabled:n,children:n?"Saving...":"Save"})]})]}),ot==="view-promo-users"&&ye&&s.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[s.jsxs("div",{children:[s.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[s.jsx(Wx,{className:"w-4 h-4"}),"Promo Code: ",s.jsx("span",{className:"font-mono",children:ye.code})]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Broker:"," ",ye.broker?ye.broker.username||`${ye.broker.first_name||""} ${ye.broker.last_name||""}`:"N/A"]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("h4",{className:"font-semibold text-sm",children:"Users who used this code"}),s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Username"}),s.jsx(_e,{children:"Name"}),s.jsx(_e,{children:"Phone"}),s.jsx(_e,{children:"Email"}),s.jsx(_e,{children:"Referred At"})]})}),s.jsx(Dt,{children:M.map(ae=>s.jsxs(ze,{children:[s.jsx(fe,{children:ae.id}),s.jsx(fe,{children:ae.username}),s.jsx(fe,{children:ae.first_name||ae.last_name?`${ae.first_name||""} ${ae.last_name||""}`:"N/A"}),s.jsx(fe,{children:ae.phone_number||"N/A"}),s.jsx(fe,{children:ae.email||"N/A"}),s.jsx(fe,{children:ae.referred_at?new Date(ae.referred_at).toLocaleString():"N/A"})]},ae.id))})]})]}),Array.isArray($)&&$.length>0&&s.jsxs("div",{className:"space-y-2 pt-2",children:[s.jsx("h4",{className:"font-semibold text-sm",children:"Broker referrals (all codes)"}),s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Referred User"}),s.jsx(_e,{children:"Promo Code"})]})}),s.jsx(Dt,{children:(Array.isArray($)?$:[]).map(ae=>s.jsxs(ze,{children:[s.jsx(fe,{children:ae.id}),s.jsx(fe,{children:ae.referredUser?ae.referredUser.username||`${ae.referredUser.first_name||""} ${ae.referredUser.last_name||""}`:ae.referred_user_id}),s.jsx(fe,{children:ae.promoCode?.code||"N/A"})]},ae.id))})]})]}),s.jsx("div",{className:"flex justify-end pt-3",children:s.jsx(pe,{variant:"outline",onClick:()=>Ct(!1),children:"Close"})})]}),ot==="view-third-party"&&ye&&s.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"ID"}),s.jsx("p",{className:"text-sm",children:ye.id})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Name"}),s.jsx("p",{className:"text-sm",children:ye.name||"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Email"}),s.jsx("p",{className:"text-sm",children:ye.email||"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Phone"}),s.jsx("p",{className:"text-sm",children:ye.phone||"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Contact Email"}),s.jsx("p",{className:"text-sm",children:ye.contact_email||"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Category"}),s.jsx(We,{variant:"outline",children:ye.category||"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"City"}),s.jsx("p",{className:"text-sm",children:ye.city||"N/A"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Subscription"}),s.jsx(We,{variant:ye.subscription==="premium"||ye.subscription==="enterprise"?"default":"secondary",children:ye.subscription||"Free"})]}),s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Created At"}),s.jsx("p",{className:"text-sm",children:new Date(ye.created_at).toLocaleString()})]})]}),ye.description&&s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Description"}),s.jsx("p",{className:"text-sm",children:ye.description})]}),ye.permissions&&ye.permissions.length>0&&s.jsxs("div",{children:[s.jsx(ue,{className:"text-sm font-semibold",children:"Permissions"}),s.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:ye.permissions.map((ae,Ae)=>s.jsx(We,{variant:"secondary",className:"text-xs",children:ae},Ae))})]}),s.jsxs("div",{className:"flex gap-2 pt-4",children:[s.jsx(pe,{onClick:()=>ys("edit-third-party"),className:"flex-1",children:"Edit Third Party"}),s.jsxs(pe,{variant:"outline",onClick:()=>{At({third_party_id:ye.id,third_party_name:ye.name}),ys("create-service-for-tp")},children:[s.jsx(sr,{className:"w-4 h-4 mr-1"}),"Add Service"]}),s.jsx(pe,{variant:"outline",onClick:()=>Ct(!1),children:"Close"})]})]}),(ot==="create-third-party"||ot==="edit-third-party")&&s.jsx(tye,{thirdParty:ot==="edit-third-party"?ye:null,onSubmit:ae=>{ot==="edit-third-party"&&ye?el(ye.id,ae):Mn(ae)}}),ot==="create-service-for-tp"&&ye&&s.jsx(rye,{thirdPartyId:ye.third_party_id,thirdPartyName:ye.third_party_name,onSubmit:ae=>{Jo({...ae,third_party_id:ye.third_party_id})}}),(ot==="create-service-item"||ot==="edit-service-item")&&s.jsx(sye,{item:ot==="edit-service-item"?ye:null,onSubmit:ae=>{ot==="edit-service-item"&&ye?no(ye.id,ae):kt&&ro(kt,ae)}})]})})})]})})}function Z0e({holiday:t,onSubmit:e}){const[r,n]=_.useState({car_id:t?.car_id||"",holiday_name:t?.holiday_name||"",holiday_dates:{start:t?.holiday_dates?.start||"",end:t?.holiday_dates?.end||""},percentage_increase:t?.percentage_increase||"",is_active:t?.is_active!==void 0?t.is_active:!0});return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"Car ID *"}),s.jsx(Se,{type:"number",value:r.car_id,onChange:a=>n({...r,car_id:a.target.value}),placeholder:"Enter car ID",required:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Holiday Name *"}),s.jsx(Se,{value:r.holiday_name,onChange:a=>n({...r,holiday_name:a.target.value}),placeholder:"e.g., New Year",required:!0})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"Start Date *"}),s.jsx(Se,{type:"date",value:r.holiday_dates.start,onChange:a=>n({...r,holiday_dates:{...r.holiday_dates,start:a.target.value}}),required:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"End Date *"}),s.jsx(Se,{type:"date",value:r.holiday_dates.end,onChange:a=>n({...r,holiday_dates:{...r.holiday_dates,end:a.target.value}}),required:!0})]})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Percentage Increase *"}),s.jsx(Se,{type:"number",step:"0.01",min:"0",max:"100",value:r.percentage_increase,onChange:a=>n({...r,percentage_increase:a.target.value}),placeholder:"20.00",required:!0})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(kn,{id:"is_active",checked:r.is_active,onCheckedChange:a=>n({...r,is_active:a})}),s.jsx(ue,{htmlFor:"is_active",children:"Active"})]}),s.jsxs(pe,{onClick:()=>e(r),children:[t?"Update":"Create"," Holiday"]})]})}function Q0e({announcement:t,onSubmit:e}){const r=d=>{if(!d)return"";const h=new Date(d),m=h.getFullYear(),f=String(h.getMonth()+1).padStart(2,"0"),g=String(h.getDate()).padStart(2,"0"),y=String(h.getHours()).padStart(2,"0"),v=String(h.getMinutes()).padStart(2,"0"),w=String(h.getSeconds()).padStart(2,"0");return`${m}-${f}-${g} ${y}:${v}:${w}`},n=d=>d?d.includes(" ")?d.replace(" ","T"):new Date(d).toISOString().slice(0,16):"",[a,i]=_.useState({title:t?.title||"",message:t?.message||"",scheduled_at:n(t?.scheduled_at)||"",expires_at:n(t?.expires_at)||"",priority:t?.priority||"medium",target_audience:t?.target_audience||[],status:t?.status||"draft",categories:t?.categories||[],media:t?.media||[]}),o=(d,h)=>{i(m=>{const f=m.target_audience||[];return h?{...m,target_audience:[...f,d]}:{...m,target_audience:f.filter(g=>g!==d)}})},c=()=>{const d={...a,scheduled_at:a.scheduled_at?r(a.scheduled_at):void 0,expires_at:a.expires_at?r(a.expires_at):void 0,categories:a.categories.length>0?a.categories:void 0,media:a.media.length>0?a.media:void 0};e(d)};return s.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"Title *"}),s.jsx(Se,{required:!0,value:a.title,onChange:d=>i({...a,title:d.target.value}),placeholder:"Enter announcement title"})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Message *"}),s.jsx(pn,{required:!0,value:a.message,onChange:d=>i({...a,message:d.target.value}),placeholder:"Enter announcement message",rows:5})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"Scheduled At"}),s.jsx(Se,{type:"datetime-local",value:a.scheduled_at,onChange:d=>i({...a,scheduled_at:d.target.value})})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Expires At"}),s.jsx(Se,{type:"datetime-local",value:a.expires_at,onChange:d=>i({...a,expires_at:d.target.value})})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"Priority"}),s.jsxs(ft,{value:a.priority,onValueChange:d=>i({...a,priority:d}),children:[s.jsx(ut,{children:s.jsx(mt,{})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"low",children:"Low"}),s.jsx(ke,{value:"medium",children:"Medium"}),s.jsx(ke,{value:"high",children:"High"})]})]})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Status"}),s.jsxs(ft,{value:a.status,onValueChange:d=>i({...a,status:d}),children:[s.jsx(ut,{children:s.jsx(mt,{})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"draft",children:"Draft"}),s.jsx(ke,{value:"published",children:"Published"}),s.jsx(ke,{value:"archived",children:"Archived"})]})]})]})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Target Audience"}),s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:["client","agency","agent","admin"].map(d=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:`target-${d}`,checked:a.target_audience.includes(d),onChange:h=>o(d,h.target.checked),className:"rounded"}),s.jsx(ue,{htmlFor:`target-${d}`,className:"text-sm font-normal cursor-pointer",children:d.charAt(0).toUpperCase()+d.slice(1)})]},d))})]}),s.jsx("div",{className:"flex gap-2 pt-4",children:s.jsxs(pe,{onClick:c,className:"flex-1",children:[t?"Update":"Create"," Announcement"]})})]})}function J0e({onSubmit:t}){const[e,r]=_.useState({title:"",message:"",type:"general",data:{}});return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"Title"}),s.jsx(Se,{value:e.title,onChange:n=>r({...e,title:n.target.value})})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Message"}),s.jsx(pn,{value:e.message,onChange:n=>r({...e,message:n.target.value})})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Type"}),s.jsxs(ft,{value:e.type,onValueChange:n=>r({...e,type:n}),children:[s.jsx(ut,{children:s.jsx(mt,{})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"general",children:"General"}),s.jsx(ke,{value:"booking",children:"Booking"}),s.jsx(ke,{value:"payment",children:"Payment"}),s.jsx(ke,{value:"system",children:"System"})]})]})]}),s.jsx(pe,{onClick:()=>t(e),children:"Send Notification"})]})}function eye({service:t,onSubmit:e,thirdParties:r=[]}){const[n,a]=_.useState({name:t?.name||"",description:t?.description||"",category:t?.category||"",price:t?.price||"",featured:t?.featured||!1,images:t?.images||[],third_party_id:t?.third_party_id||"",city:t?.city||"",availability:t?.availability!==!1}),[i,o]=_.useState(""),c=()=>{i.trim()&&(a({...n,images:[...n.images,i.trim()]}),o(""))},d=h=>{a({...n,images:n.images.filter((m,f)=>f!==h)})};return s.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[r.length>0&&s.jsxs("div",{children:[s.jsx(ue,{children:"Service Owner (Third Party) *"}),s.jsxs(ft,{value:n.third_party_id?.toString()||"",onValueChange:h=>a({...n,third_party_id:parseInt(h)}),children:[s.jsx(ut,{children:s.jsx(mt,{placeholder:"Select third party owner"})}),s.jsx(ht,{children:r.map(h=>s.jsxs(ke,{value:h.id.toString(),children:[h.name," (",h.email,")"]},h.id))})]})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Name *"}),s.jsx(Se,{required:!0,value:n.name,onChange:h=>a({...n,name:h.target.value}),placeholder:"Enter service name"})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Description *"}),s.jsx(pn,{required:!0,value:n.description,onChange:h=>a({...n,description:h.target.value}),placeholder:"Enter service description",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"Category *"}),s.jsxs(ft,{value:n.category,onValueChange:h=>a({...n,category:h}),children:[s.jsx(ut,{children:s.jsx(mt,{placeholder:"Select category"})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"hotel",children:"Hotel"}),s.jsx(ke,{value:"restaurant",children:"Restaurant"}),s.jsx(ke,{value:"spa",children:"Spa"}),s.jsx(ke,{value:"nightclub",children:"Nightclub"}),s.jsx(ke,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Price *"}),s.jsx(Se,{type:"number",step:"0.01",min:"0",required:!0,value:n.price,onChange:h=>a({...n,price:parseFloat(h.target.value)||""}),placeholder:"0.00"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"City"}),s.jsx(Se,{value:n.city,onChange:h=>a({...n,city:h.target.value}),placeholder:"Enter city"})]}),s.jsxs("div",{className:"flex items-center justify-between pt-6",children:[s.jsx(ue,{children:"Availability"}),s.jsx(kn,{checked:n.availability,onCheckedChange:h=>a({...n,availability:h})})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ue,{children:"Featured"}),s.jsx(kn,{checked:n.featured,onCheckedChange:h=>a({...n,featured:h})})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Images"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(Se,{value:i,onChange:h=>o(h.target.value),placeholder:"Enter image URL",className:"flex-1"}),s.jsx(pe,{type:"button",variant:"outline",onClick:c,children:"Add"})]}),n.images.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.images.map((h,m)=>s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:h,alt:`Image ${m+1}`,className:"w-16 h-16 object-cover rounded"}),s.jsx("button",{type:"button",onClick:()=>d(m),className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-4 h-4 text-xs",children:""})]},m))})]}),s.jsx("div",{className:"flex gap-2 pt-4",children:s.jsxs(pe,{onClick:()=>e(n),className:"flex-1",children:[t?"Update":"Create"," Service"]})})]})}function tye({thirdParty:t,onSubmit:e}){const[r,n]=_.useState({name:t?.business_name||t?.name||"",username:t?.username||"",email:t?.email||"",password:"",subscription:t?.subscription||"",permissions:t?.permissions||[],description:t?.description||"",category:t?.category||"",city:t?.city||"",contact_email:t?.contact_email||"",phone:t?.phone||""}),a=["services:read","services:write","items:read","items:write","feedbacks:read","feedbacks:respond"],i=o=>{r.permissions.includes(o)?n({...r,permissions:r.permissions.filter(c=>c!==o)}):n({...r,permissions:[...r.permissions,o]})};return s.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[s.jsx("div",{className:"border-b pb-2 mb-2",children:s.jsx("h3",{className:"font-semibold text-sm text-muted-foreground",children:"Account Information"})}),s.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"Business Name *"}),s.jsx(Se,{required:!0,value:r.name,onChange:o=>n({...r,name:o.target.value}),placeholder:"Enter business/company name"})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Username *"}),s.jsx(Se,{required:!0,value:r.username,onChange:o=>n({...r,username:o.target.value}),placeholder:"Unique username for login"})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Email *"}),s.jsx(Se,{type:"email",required:!0,value:r.email,onChange:o=>n({...r,email:o.target.value}),placeholder:"Enter login email"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:t?"Password (leave blank to keep current)":"Password *"}),s.jsx(Se,{type:"password",required:!t,value:r.password,onChange:o=>n({...r,password:o.target.value}),placeholder:"Enter password"})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Subscription"}),s.jsxs(ft,{value:r.subscription,onValueChange:o=>n({...r,subscription:o}),children:[s.jsx(ut,{children:s.jsx(mt,{placeholder:"Select subscription"})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"free",children:"Free"}),s.jsx(ke,{value:"basic",children:"Basic"}),s.jsx(ke,{value:"premium",children:"Premium"}),s.jsx(ke,{value:"enterprise",children:"Enterprise"})]})]})]})]}),s.jsx("div",{className:"border-b pb-2 mb-2 mt-4",children:s.jsx("h3",{className:"font-semibold text-sm text-muted-foreground",children:"Profile Information"})}),s.jsxs("div",{children:[s.jsx(ue,{children:"Description"}),s.jsx(pn,{value:r.description,onChange:o=>n({...r,description:o.target.value}),placeholder:"Enter business description",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"Category"}),s.jsxs(ft,{value:r.category,onValueChange:o=>n({...r,category:o}),children:[s.jsx(ut,{children:s.jsx(mt,{placeholder:"Select category"})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"transport",children:"Transport"}),s.jsx(ke,{value:"accommodation",children:"Accommodation"}),s.jsx(ke,{value:"food",children:"Food & Dining"}),s.jsx(ke,{value:"entertainment",children:"Entertainment"}),s.jsx(ke,{value:"tourism",children:"Tourism"}),s.jsx(ke,{value:"rental",children:"Rental Services"}),s.jsx(ke,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"City"}),s.jsx(Se,{value:r.city,onChange:o=>n({...r,city:o.target.value}),placeholder:"Enter city"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"Contact Email"}),s.jsx(Se,{type:"email",value:r.contact_email,onChange:o=>n({...r,contact_email:o.target.value}),placeholder:"Enter public contact email"})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Phone"}),s.jsx(Se,{value:r.phone,onChange:o=>n({...r,phone:o.target.value}),placeholder:"Enter phone number"})]})]}),s.jsx("div",{className:"border-b pb-2 mb-2 mt-4",children:s.jsx("h3",{className:"font-semibold text-sm text-muted-foreground",children:"Permissions"})}),s.jsx("div",{className:"flex flex-wrap gap-3",children:a.map(o=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",id:`perm-${o}`,checked:r.permissions.includes(o),onChange:()=>i(o),className:"rounded"}),s.jsx(ue,{htmlFor:`perm-${o}`,className:"text-sm font-normal cursor-pointer",children:o})]},o))}),s.jsx("div",{className:"flex gap-2 pt-4",children:s.jsxs(pe,{onClick:()=>{const o={...r};t&&!o.password&&delete o.password,e(o)},className:"flex-1",children:[t?"Update":"Create"," Third Party"]})})]})}function sye({item:t,onSubmit:e}){const[r,n]=_.useState({name:t?.name||"",description:t?.description||"",price:t?.price||"",image:t?.image||""});return s.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"Name *"}),s.jsx(Se,{required:!0,value:r.name,onChange:a=>n({...r,name:a.target.value}),placeholder:"Enter item name"})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Description"}),s.jsx(pn,{value:r.description,onChange:a=>n({...r,description:a.target.value}),placeholder:"Enter item description",rows:3})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Price *"}),s.jsx(Se,{type:"number",step:"0.01",min:"0",required:!0,value:r.price,onChange:a=>n({...r,price:parseFloat(a.target.value)||""}),placeholder:"0.00"})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Image URL"}),s.jsx(Se,{value:r.image,onChange:a=>n({...r,image:a.target.value}),placeholder:"Enter image URL"}),r.image&&s.jsx("img",{src:r.image,alt:"Preview",className:"w-20 h-20 object-cover rounded mt-2"})]}),s.jsx("div",{className:"flex gap-2 pt-4",children:s.jsxs(pe,{onClick:()=>e(r),className:"flex-1",children:[t?"Update":"Create"," Item"]})})]})}function rye({thirdPartyId:t,thirdPartyName:e,onSubmit:r}){const[n,a]=_.useState({name:"",description:"",category:"",price:"",featured:!1,images:[],city:"",availability:!0}),[i,o]=_.useState(""),c=()=>{i.trim()&&(a({...n,images:[...n.images,i.trim()]}),o(""))},d=h=>{a({...n,images:n.images.filter((m,f)=>f!==h)})};return s.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[s.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg border border-blue-200 dark:border-blue-800",children:s.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[s.jsx("strong",{children:"Owner:"})," ",e," (ID: ",t,")"]})}),s.jsxs("div",{children:[s.jsx(ue,{children:"Service Name *"}),s.jsx(Se,{required:!0,value:n.name,onChange:h=>a({...n,name:h.target.value}),placeholder:"Enter service name"})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Description *"}),s.jsx(pn,{required:!0,value:n.description,onChange:h=>a({...n,description:h.target.value}),placeholder:"Enter service description",rows:3})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"Category *"}),s.jsxs(ft,{value:n.category,onValueChange:h=>a({...n,category:h}),children:[s.jsx(ut,{children:s.jsx(mt,{placeholder:"Select category"})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"hotel",children:"Hotel"}),s.jsx(ke,{value:"restaurant",children:"Restaurant"}),s.jsx(ke,{value:"spa",children:"Spa"}),s.jsx(ke,{value:"nightclub",children:"Nightclub"}),s.jsx(ke,{value:"other",children:"Other"})]})]})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Price *"}),s.jsx(Se,{type:"number",step:"0.01",min:"0",required:!0,value:n.price,onChange:h=>a({...n,price:parseFloat(h.target.value)||""}),placeholder:"0.00"})]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"City"}),s.jsx(Se,{value:n.city,onChange:h=>a({...n,city:h.target.value}),placeholder:"Enter city"})]}),s.jsxs("div",{className:"flex items-center justify-between pt-6",children:[s.jsx(ue,{children:"Availability"}),s.jsx(kn,{checked:n.availability,onCheckedChange:h=>a({...n,availability:h})})]})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(ue,{children:"Featured"}),s.jsx(kn,{checked:n.featured,onCheckedChange:h=>a({...n,featured:h})})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Images"}),s.jsxs("div",{className:"flex gap-2 mt-2",children:[s.jsx(Se,{value:i,onChange:h=>o(h.target.value),placeholder:"Enter image URL",className:"flex-1"}),s.jsx(pe,{type:"button",variant:"outline",onClick:c,children:"Add"})]}),n.images.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.images.map((h,m)=>s.jsxs("div",{className:"relative",children:[s.jsx("img",{src:h,alt:`Image ${m+1}`,className:"w-16 h-16 object-cover rounded"}),s.jsx("button",{type:"button",onClick:()=>d(m),className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-4 h-4 text-xs",children:""})]},m))})]}),s.jsx("div",{className:"flex gap-2 pt-4",children:s.jsx(pe,{onClick:()=>r(n),className:"flex-1",children:"Create Service"})})]})}const nye=t=>t.replace(/\D/g,""),aye=({countries:t,iso2:e,setIso2:r,phone:n,setPhone:a,disabledPhone:i})=>s.jsxs("div",{className:"flex gap-2 w-full",children:[s.jsx("select",{value:e,onChange:o=>r(o.target.value),className:"w-[100px] sm:w-[120px] shrink-0 bg-white dark:bg-gray-800 text-gray-900 dark:text-white p-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm focus:ring-2 focus:ring-[#008C95] focus:border-transparent",disabled:i,children:t.map(o=>s.jsxs("option",{value:o.iso2,children:[o.iso2," (",o.dialCode,")"]},o.iso2))}),s.jsx("input",{type:"tel",inputMode:"numeric",value:n,onChange:o=>a(nye(o.target.value)),placeholder:"70123456",className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-800 text-sm focus:ring-2 focus:ring-[#008C95] focus:border-transparent",disabled:i})]}),ha={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640"};function iye(){const t=sn(),[e,r]=_.useState("login"),[n,a]=_.useState(!1),[i,o]=_.useState(""),[c,d]=_.useState(""),[h,m]=_.useState(""),[f,g]=_.useState("LB"),[y,v]=_.useState(!1),[w,j]=_.useState(""),[b,N]=_.useState(!1),[k,S]=_.useState(!1),[C,B]=_.useState(0),[E,z]=_.useState({username:"",email:"",first_name:"",last_name:"",password:"",password_confirmation:"",role:"admin",business_type:""}),T=_.useMemo(()=>_O.map($=>({name:$.name,iso2:$.iso2,dialCode:$.dialCode.startsWith("+")?$.dialCode:`+${$.dialCode}`})).sort(($,oe)=>$.name.localeCompare(oe.name)),[]),W=_.useMemo(()=>{const $=new Map;for(const oe of T)$.set(oe.iso2,oe.dialCode);return $},[T]),U=$=>W.get($)||"+961";_.useEffect(()=>{let $;return C>0&&($=setInterval(()=>{B(oe=>oe<=1?(S(!0),0):oe-1)},1e3)),()=>clearInterval($)},[C]);const L=()=>{m(""),v(!1),j(""),N(!1),S(!1),B(0),z({username:"",email:"",first_name:"",last_name:"",password:"",password_confirmation:"",role:"admin",business_type:""})},Z=()=>{v(!1),j(""),N(!1),S(!1),B(0),m("")},O=async()=>{if(!h)return ve.error("Please enter a phone number.");const $=`${U(f)}${h.replace(/^0+/,"")}`;if(!/^\+\d{8,15}$/.test($))return ve.error("Please enter a valid phone number with country code.");try{a(!0);const oe=await PM($);oe.message&&ve.success(oe.message),oe.warning&&ve.warning(oe.warning),v(!0),S(!1),B(60)}catch(oe){oe.response?.data?.errors?Object.values(oe.response.data.errors).flat().forEach(q=>ve.error(q)):ve.error(oe.response?.data?.message||"Failed to send OTP.")}finally{a(!1)}},se=async()=>{k&&await O()},K=async()=>{if(!w)return ve.error("Please enter the OTP code.");if(w.length!==6)return ve.error("OTP code must be 6 digits.");const $=`${U(f)}${h.replace(/^0+/,"")}`;try{a(!0);const oe=await OM($,w);oe.message?ve.success(oe.message):ve.success("OTP verified! Complete your registration."),N(!0)}catch(oe){ve.error(oe.response?.data?.message||oe.response?.data?.error||"Invalid or expired OTP.")}finally{a(!1)}},M=async $=>{if($.preventDefault(),!i||!c)return ve.error("Please fill all fields");try{a(!0);let oe={password:c};i.includes("@")?oe.email=i:oe.phone_number=i;const q=await Oe.post("/auth/login",oe),Y=q.data.user;if(Y.role!=="admin"){ve.error("Access denied. Admin privileges required."),localStorage.removeItem("authToken"),localStorage.removeItem("token"),localStorage.removeItem("user");return}localStorage.setItem("authToken",q.data.token),localStorage.setItem("token",q.data.token),localStorage.setItem("user",JSON.stringify(Y)),ve.success("Login successful!"),t("/admin")}catch(oe){const q=oe.response?.data?.message||oe.response?.data?.error||"Login failed.";ve.error(q)}finally{a(!1)}},X=async $=>{$.preventDefault();const{username:oe,email:q,first_name:Y,last_name:ce,password:le,password_confirmation:be,role:ge,business_type:V}=E;if(!oe?.trim()||!Y?.trim()||!ce?.trim()||!le||!be)return ve.error("Please fill all required fields");if(ge==="agency"&&!V?.trim())return ve.error("Business type is required for agency");if(le.length<6)return ve.error("Password must be at least 6 characters");if(le!==be)return ve.error("Passwords do not match");const me=`${U(f)}${h.replace(/^0+/,"")}`.replace(/^\+/,"");try{a(!0);const Q={phone_number:me,otp_code:w,username:oe.trim(),first_name:Y.trim(),last_name:ce.trim(),password:le,password_confirmation:be,role:ge||"admin"};q?.trim()&&(Q.email=q.trim()),ge==="agency"&&V?.trim()&&(Q.business_type=V.trim());const te=await Oe.post("/auth/register",Q),ee=te.data?.user,Ce=ee?.role||ge||"admin";localStorage.setItem("authToken",te.data.token),localStorage.setItem("token",te.data.token),localStorage.setItem("user",JSON.stringify(ee||te.data.user)),ve.success("Account created!"),t(Ce==="admin"?"/admin":"/Complete-Profile")}catch(Q){const te=Q.response?.data?.message||Q.response?.data?.error||"Registration failed.";Q.response?.data?.errors?Object.values(Q.response.data.errors).flat().forEach(ee=>ve.error(ee)):ve.error(te)}finally{a(!1)}};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900 flex items-center justify-center p-4",children:s.jsx(rt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:s.jsxs(Ue,{className:"border-0 shadow-2xl",children:[s.jsxs(ps,{className:"text-center space-y-4 pb-8",children:[s.jsx("div",{className:"flex justify-center",children:s.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center",style:{background:`linear-gradient(to right, ${ha.darkBlue}, ${ha.teal})`},children:s.jsx(Qn,{className:"w-8 h-8 text-white"})})}),s.jsxs("div",{children:[s.jsx(gs,{className:"text-2xl font-bold bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(to right, ${ha.darkBlue}, ${ha.teal}, ${ha.limeGreen})`},children:"Admin Login"}),s.jsx(hm,{className:"mt-2",children:"Sign in to access the admin dashboard"})]})]}),s.jsxs(qe,{children:[s.jsxs($o,{value:e,onValueChange:r,children:[s.jsxs(Xi,{className:"grid w-full grid-cols-2 mb-6",children:[s.jsx($t,{value:"login",children:"Login"}),s.jsx($t,{value:"register",children:"Register"})]}),s.jsx(Zt,{value:"login",children:s.jsxs("form",{onSubmit:M,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"email",children:"Email or Phone"}),s.jsxs("div",{className:"relative",children:[s.jsx(Yi,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx(Se,{id:"email",type:"text",placeholder:"admin@example.com or +96170123456",value:i,onChange:$=>o($.target.value),className:"pl-10",disabled:n,required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"password",children:"Password"}),s.jsxs("div",{className:"relative",children:[s.jsx(Il,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),s.jsx(Se,{id:"password",type:"password",placeholder:"Enter your password",value:c,onChange:$=>d($.target.value),className:"pl-10",disabled:n,required:!0})]})]}),s.jsx(pe,{type:"submit",className:"w-full text-white",style:{background:`linear-gradient(to right, ${ha.darkBlue}, ${ha.teal})`},disabled:n,children:n?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Signing in..."]}):s.jsxs(s.Fragment,{children:["Sign In",s.jsx(bd,{className:"w-4 h-4 ml-2"})]})})]})}),s.jsx(Zt,{value:"register",children:b?s.jsxs("form",{onSubmit:X,className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{children:"Username *"}),s.jsx(Se,{value:E.username,onChange:$=>z(oe=>({...oe,username:$.target.value})),placeholder:"admin_username",disabled:n,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{children:"Email"}),s.jsx(Se,{type:"email",value:E.email,onChange:$=>z(oe=>({...oe,email:$.target.value})),placeholder:"admin@example.com",disabled:n})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{children:"Role *"}),s.jsxs(ft,{value:E.role||"admin",onValueChange:$=>z(oe=>({...oe,role:$})),children:[s.jsx(ut,{children:s.jsx(mt,{placeholder:"Select role"})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"client",children:"Client"}),s.jsx(ke,{value:"agency",children:"Agency"}),s.jsx(ke,{value:"admin",children:"Admin"})]})]})]}),E.role==="agency"&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{children:"Business Type *"}),s.jsx(Se,{value:E.business_type,onChange:$=>z(oe=>({...oe,business_type:$.target.value})),placeholder:"e.g. Car Rental Agency",disabled:n})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{children:"First Name *"}),s.jsx(Se,{value:E.first_name,onChange:$=>z(oe=>({...oe,first_name:$.target.value})),placeholder:"First",disabled:n,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{children:"Last Name *"}),s.jsx(Se,{value:E.last_name,onChange:$=>z(oe=>({...oe,last_name:$.target.value})),placeholder:"Last",disabled:n,required:!0})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{children:"Password *"}),s.jsx(Se,{type:"password",value:E.password,onChange:$=>z(oe=>({...oe,password:$.target.value})),placeholder:"Min 6 characters",disabled:n,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{children:"Confirm Password *"}),s.jsx(Se,{type:"password",value:E.password_confirmation,onChange:$=>z(oe=>({...oe,password_confirmation:$.target.value})),placeholder:"Repeat password",disabled:n,required:!0})]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(pe,{type:"button",variant:"outline",onClick:L,disabled:n,children:"Back"}),s.jsx(pe,{type:"submit",className:"flex-1 text-white",style:{background:`linear-gradient(to right, ${ha.darkBlue}, ${ha.teal})`},disabled:n,children:n?s.jsxs(s.Fragment,{children:[s.jsx(Mt,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):s.jsxs(s.Fragment,{children:[s.jsx(XG,{className:"w-4 h-4 mr-2"}),"Create Admin Account"]})})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs(ue,{className:"flex items-center gap-2",children:[s.jsx(ui,{className:"w-4 h-4"}),"Phone Number"]}),s.jsx(aye,{countries:T,iso2:f,setIso2:g,phone:h,setPhone:m,disabledPhone:y})]}),y&&s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{children:"OTP Code"}),s.jsx(Se,{type:"text",inputMode:"numeric",value:w,onChange:$=>{const oe=$.target.value.replace(/\D/g,"");oe.length<=6&&j(oe)},placeholder:"Enter 6-digit OTP",maxLength:6,className:"text-center text-xl font-bold tracking-widest"}),s.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[s.jsx("span",{children:"Check your phone"}),C>0?s.jsxs("span",{children:["Resend in ",C,"s"]}):s.jsxs(pe,{type:"button",variant:"link",size:"sm",className:"h-auto p-0 text-xs",onClick:se,disabled:!k||n,children:[s.jsx(Mt,{className:"w-3 h-3 mr-1"}),"Resend OTP"]})]})]}),s.jsx("div",{className:"flex gap-2",children:y?s.jsxs(s.Fragment,{children:[s.jsx(pe,{type:"button",variant:"outline",onClick:Z,disabled:n,children:"Change"}),s.jsx(pe,{type:"button",onClick:K,className:"flex-1 text-white",style:{background:`linear-gradient(to right, ${ha.darkBlue}, ${ha.teal})`},disabled:n,children:n?s.jsxs(s.Fragment,{children:[s.jsx(Mt,{className:"w-4 h-4 mr-2 animate-spin"}),"Verifying..."]}):"Verify OTP"})]}):s.jsx(pe,{type:"button",onClick:O,className:"w-full text-white",style:{background:`linear-gradient(to right, ${ha.darkBlue}, ${ha.teal})`},disabled:n,children:n?s.jsxs(s.Fragment,{children:[s.jsx(Mt,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):"Send OTP"})})]})})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsx(pe,{variant:"ghost",onClick:()=>t("/"),className:"text-sm text-gray-600 dark:text-gray-400",children:" Back to Home"})})]})]})})})}var oye=Symbol("radix.slottable");function lye(t){const e=({children:r})=>s.jsx(s.Fragment,{children:r});return e.displayName=`${t}.Slottable`,e.__radixId=oye,e}var[Ay]=va("Tooltip",[yh]),_S=yh(),WI="TooltipProvider",cye=700,H3="tooltip.open",[dye,GI]=Ay(WI),YI=t=>{const{__scopeTooltip:e,delayDuration:r=cye,skipDelayDuration:n=300,disableHoverableContent:a=!1,children:i}=t,o=_.useRef(!0),c=_.useRef(!1),d=_.useRef(0);return _.useEffect(()=>{const h=d.current;return()=>window.clearTimeout(h)},[]),s.jsx(dye,{scope:e,isOpenDelayedRef:o,delayDuration:r,onOpen:_.useCallback(()=>{window.clearTimeout(d.current),o.current=!1},[]),onClose:_.useCallback(()=>{window.clearTimeout(d.current),d.current=window.setTimeout(()=>o.current=!0,n)},[n]),isPointerInTransitRef:c,onPointerInTransitChange:_.useCallback(h=>{c.current=h},[]),disableHoverableContent:a,children:i})};YI.displayName=WI;var KI="Tooltip",[sje,cp]=Ay(KI),uN="TooltipTrigger",uye=_.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,a=cp(uN,r),i=GI(uN,r),o=_S(r),c=_.useRef(null),d=Jt(e,c,a.onTriggerChange),h=_.useRef(!1),m=_.useRef(!1),f=_.useCallback(()=>h.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),s.jsx(HN,{asChild:!0,...o,children:s.jsx(Bt.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...n,ref:d,onPointerMove:pt(t.onPointerMove,g=>{g.pointerType!=="touch"&&!m.current&&!i.isPointerInTransitRef.current&&(a.onTriggerEnter(),m.current=!0)}),onPointerLeave:pt(t.onPointerLeave,()=>{a.onTriggerLeave(),m.current=!1}),onPointerDown:pt(t.onPointerDown,()=>{a.open&&a.onClose(),h.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:pt(t.onFocus,()=>{h.current||a.onOpen()}),onBlur:pt(t.onBlur,a.onClose),onClick:pt(t.onClick,a.onClose)})})});uye.displayName=uN;var NS="TooltipPortal",[hye,fye]=Ay(NS,{forceMount:void 0}),XI=t=>{const{__scopeTooltip:e,forceMount:r,children:n,container:a}=t,i=cp(NS,e);return s.jsx(hye,{scope:e,forceMount:r,children:s.jsx(Ga,{present:r||i.open,children:s.jsx(qm,{asChild:!0,container:a,children:n})})})};XI.displayName=NS;var ih="TooltipContent",ZI=_.forwardRef((t,e)=>{const r=fye(ih,t.__scopeTooltip),{forceMount:n=r.forceMount,side:a="top",...i}=t,o=cp(ih,t.__scopeTooltip);return s.jsx(Ga,{present:n||o.open,children:o.disableHoverableContent?s.jsx(QI,{side:a,...i,ref:e}):s.jsx(mye,{side:a,...i,ref:e})})}),mye=_.forwardRef((t,e)=>{const r=cp(ih,t.__scopeTooltip),n=GI(ih,t.__scopeTooltip),a=_.useRef(null),i=Jt(e,a),[o,c]=_.useState(null),{trigger:d,onClose:h}=r,m=a.current,{onPointerInTransitChange:f}=n,g=_.useCallback(()=>{c(null),f(!1)},[f]),y=_.useCallback((v,w)=>{const j=v.currentTarget,b={x:v.clientX,y:v.clientY},N=bye(b,j.getBoundingClientRect()),k=vye(b,N),S=wye(w.getBoundingClientRect()),C=_ye([...k,...S]);c(C),f(!0)},[f]);return _.useEffect(()=>()=>g(),[g]),_.useEffect(()=>{if(d&&m){const v=j=>y(j,m),w=j=>y(j,d);return d.addEventListener("pointerleave",v),m.addEventListener("pointerleave",w),()=>{d.removeEventListener("pointerleave",v),m.removeEventListener("pointerleave",w)}}},[d,m,y,g]),_.useEffect(()=>{if(o){const v=w=>{const j=w.target,b={x:w.clientX,y:w.clientY},N=d?.contains(j)||m?.contains(j),k=!jye(b,o);N?g():k&&(g(),h())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[d,m,o,h,g]),s.jsx(QI,{...t,ref:i})}),[pye,gye]=Ay(KI,{isInside:!1}),xye=lye("TooltipContent"),QI=_.forwardRef((t,e)=>{const{__scopeTooltip:r,children:n,"aria-label":a,onEscapeKeyDown:i,onPointerDownOutside:o,...c}=t,d=cp(ih,r),h=_S(r),{onClose:m}=d;return _.useEffect(()=>(document.addEventListener(H3,m),()=>document.removeEventListener(H3,m)),[m]),_.useEffect(()=>{if(d.trigger){const f=g=>{g.target?.contains(d.trigger)&&m()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[d.trigger,m]),s.jsx(Vm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:m,children:s.jsxs(qN,{"data-state":d.stateAttribute,...h,...c,ref:e,style:{...c.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(xye,{children:n}),s.jsx(pye,{scope:r,isInside:!0,children:s.jsx(uQ,{id:d.contentId,role:"tooltip",children:a||n})})]})})});ZI.displayName=ih;var JI="TooltipArrow",yye=_.forwardRef((t,e)=>{const{__scopeTooltip:r,...n}=t,a=_S(r);return gye(JI,r).isInside?null:s.jsx(WN,{...a,...n,ref:e})});yye.displayName=JI;function bye(t,e){const r=Math.abs(e.top-t.y),n=Math.abs(e.bottom-t.y),a=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(r,n,a,i)){case i:return"left";case a:return"right";case r:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function vye(t,e,r=5){const n=[];switch(e){case"top":n.push({x:t.x-r,y:t.y+r},{x:t.x+r,y:t.y+r});break;case"bottom":n.push({x:t.x-r,y:t.y-r},{x:t.x+r,y:t.y-r});break;case"left":n.push({x:t.x+r,y:t.y-r},{x:t.x+r,y:t.y+r});break;case"right":n.push({x:t.x-r,y:t.y-r},{x:t.x-r,y:t.y+r});break}return n}function wye(t){const{top:e,right:r,bottom:n,left:a}=t;return[{x:a,y:e},{x:r,y:e},{x:r,y:n},{x:a,y:n}]}function jye(t,e){const{x:r,y:n}=t;let a=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const c=e[i],d=e[o],h=c.x,m=c.y,f=d.x,g=d.y;m>n!=g>n&&r<(f-h)*(n-m)/(g-m)+h&&(a=!a)}return a}function _ye(t){const e=t.slice();return e.sort((r,n)=>r.x<n.x?-1:r.x>n.x?1:r.y<n.y?-1:r.y>n.y?1:0),Nye(e)}function Nye(t){if(t.length<=1)return t.slice();const e=[];for(let n=0;n<t.length;n++){const a=t[n];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))e.pop();else break}e.push(a)}e.pop();const r=[];for(let n=t.length-1;n>=0;n--){const a=t[n];for(;r.length>=2;){const i=r[r.length-1],o=r[r.length-2];if((i.x-o.x)*(a.y-o.y)>=(i.y-o.y)*(a.x-o.x))r.pop();else break}r.push(a)}return r.pop(),e.length===1&&r.length===1&&e[0].x===r[0].x&&e[0].y===r[0].y?e:e.concat(r)}var Sye=YI,Cye=XI,e9=ZI;const kye=Sye,Aye=_.forwardRef(({className:t,sideOffset:e=4,...r},n)=>s.jsx(Cye,{children:s.jsx(e9,{ref:n,sideOffset:e,className:_t("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...r})}));Aye.displayName=e9.displayName;function Eye(t){const e=Tye(t),r=_.forwardRef((n,a)=>{const{children:i,...o}=n,c=_.Children.toArray(i),d=c.find(Dye);if(d){const h=d.props.children,m=c.map(f=>f===d?_.Children.count(h)>1?_.Children.only(null):_.isValidElement(h)?h.props.children:null:f);return s.jsx(e,{...o,ref:a,children:_.isValidElement(h)?_.cloneElement(h,void 0,m):null})}return s.jsx(e,{...o,ref:a,children:i})});return r.displayName=`${t}.Slot`,r}function Tye(t){const e=_.forwardRef((r,n)=>{const{children:a,...i}=r;if(_.isValidElement(a)){const o=Pye(a),c=Mye(i,a.props);return a.type!==_.Fragment&&(c.ref=n?Yo(n,o):o),_.cloneElement(a,c)}return _.Children.count(a)>1?_.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Rye=Symbol("radix.slottable");function Dye(t){return _.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Rye}function Mye(t,e){const r={...e};for(const n in e){const a=t[n],i=e[n];/^on[A-Z]/.test(n)?a&&i?r[n]=(...c)=>{const d=i(...c);return a(...c),d}:a&&(r[n]=a):n==="style"?r[n]={...a,...i}:n==="className"&&(r[n]=[a,i].filter(Boolean).join(" "))}return{...t,...r}}function Pye(t){let e=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning;return r?t.ref:(e=Object.getOwnPropertyDescriptor(t,"ref")?.get,r=e&&"isReactWarning"in e&&e.isReactWarning,r?t.props.ref:t.props.ref||t.ref)}var hN=["Enter"," "],Oye=["ArrowDown","PageUp","Home"],t9=["ArrowUp","PageDown","End"],Lye=[...Oye,...t9],Fye={ltr:[...hN,"ArrowRight"],rtl:[...hN,"ArrowLeft"]},Bye={ltr:["ArrowLeft"],rtl:["ArrowRight"]},dp="Menu",[Em,Iye,zye]=I0(dp),[Dd,s9]=va(dp,[zye,yh,z0]),Ey=yh(),r9=z0(),[Uye,Md]=Dd(dp),[$ye,up]=Dd(dp),n9=t=>{const{__scopeMenu:e,open:r=!1,children:n,dir:a,onOpenChange:i,modal:o=!0}=t,c=Ey(e),[d,h]=_.useState(null),m=_.useRef(!1),f=Ki(i),g=Um(a);return _.useEffect(()=>{const y=()=>{m.current=!0,document.addEventListener("pointerdown",v,{capture:!0,once:!0}),document.addEventListener("pointermove",v,{capture:!0,once:!0})},v=()=>m.current=!1;return document.addEventListener("keydown",y,{capture:!0}),()=>{document.removeEventListener("keydown",y,{capture:!0}),document.removeEventListener("pointerdown",v,{capture:!0}),document.removeEventListener("pointermove",v,{capture:!0})}},[]),s.jsx(EP,{...c,children:s.jsx(Uye,{scope:e,open:r,onOpenChange:f,content:d,onContentChange:h,children:s.jsx($ye,{scope:e,onClose:_.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:m,dir:g,modal:o,children:n})})})};n9.displayName=dp;var Vye="MenuAnchor",SS=_.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,a=Ey(r);return s.jsx(HN,{...a,...n,ref:e})});SS.displayName=Vye;var CS="MenuPortal",[Hye,a9]=Dd(CS,{forceMount:void 0}),i9=t=>{const{__scopeMenu:e,forceMount:r,children:n,container:a}=t,i=Md(CS,e);return s.jsx(Hye,{scope:e,forceMount:r,children:s.jsx(Ga,{present:r||i.open,children:s.jsx(qm,{asChild:!0,container:a,children:n})})})};i9.displayName=CS;var Va="MenuContent",[qye,kS]=Dd(Va),o9=_.forwardRef((t,e)=>{const r=a9(Va,t.__scopeMenu),{forceMount:n=r.forceMount,...a}=t,i=Md(Va,t.__scopeMenu),o=up(Va,t.__scopeMenu);return s.jsx(Em.Provider,{scope:t.__scopeMenu,children:s.jsx(Ga,{present:n||i.open,children:s.jsx(Em.Slot,{scope:t.__scopeMenu,children:o.modal?s.jsx(Wye,{...a,ref:e}):s.jsx(Gye,{...a,ref:e})})})})}),Wye=_.forwardRef((t,e)=>{const r=Md(Va,t.__scopeMenu),n=_.useRef(null),a=Jt(e,n);return _.useEffect(()=>{const i=n.current;if(i)return GN(i)},[]),s.jsx(AS,{...t,ref:a,trapFocus:r.open,disableOutsidePointerEvents:r.open,disableOutsideScroll:!0,onFocusOutside:pt(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>r.onOpenChange(!1)})}),Gye=_.forwardRef((t,e)=>{const r=Md(Va,t.__scopeMenu);return s.jsx(AS,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>r.onOpenChange(!1)})}),Yye=Eye("MenuContent.ScrollLock"),AS=_.forwardRef((t,e)=>{const{__scopeMenu:r,loop:n=!1,trapFocus:a,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:c,onEntryFocus:d,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:f,onInteractOutside:g,onDismiss:y,disableOutsideScroll:v,...w}=t,j=Md(Va,r),b=up(Va,r),N=Ey(r),k=r9(r),S=Iye(r),[C,B]=_.useState(null),E=_.useRef(null),z=Jt(e,E,j.onContentChange),T=_.useRef(0),W=_.useRef(""),U=_.useRef(0),L=_.useRef(null),Z=_.useRef("right"),O=_.useRef(0),se=v?X0:_.Fragment,K=v?{as:Yye,allowPinchZoom:!0}:void 0,M=$=>{const oe=W.current+$,q=S().filter(V=>!V.disabled),Y=document.activeElement,ce=q.find(V=>V.ref.current===Y)?.textValue,le=q.map(V=>V.textValue),be=ibe(le,oe,ce),ge=q.find(V=>V.textValue===be)?.ref.current;(function V(H){W.current=H,window.clearTimeout(T.current),H!==""&&(T.current=window.setTimeout(()=>V(""),1e3))})(oe),ge&&setTimeout(()=>ge.focus())};_.useEffect(()=>()=>window.clearTimeout(T.current),[]),ON();const X=_.useCallback($=>Z.current===L.current?.side&&lbe($,L.current?.area),[]);return s.jsx(qye,{scope:r,searchRef:W,onItemEnter:_.useCallback($=>{X($)&&$.preventDefault()},[X]),onItemLeave:_.useCallback($=>{X($)||(E.current?.focus(),B(null))},[X]),onTriggerLeave:_.useCallback($=>{X($)&&$.preventDefault()},[X]),pointerGraceTimerRef:U,onPointerGraceIntentChange:_.useCallback($=>{L.current=$},[]),children:s.jsx(se,{...K,children:s.jsx($0,{asChild:!0,trapped:a,onMountAutoFocus:pt(i,$=>{$.preventDefault(),E.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:s.jsx(Vm,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:h,onPointerDownOutside:m,onFocusOutside:f,onInteractOutside:g,onDismiss:y,children:s.jsx(HM,{asChild:!0,...k,dir:b.dir,orientation:"vertical",loop:n,currentTabStopId:C,onCurrentTabStopIdChange:B,onEntryFocus:pt(d,$=>{b.isUsingKeyboardRef.current||$.preventDefault()}),preventScrollOnEntryFocus:!0,children:s.jsx(qN,{role:"menu","aria-orientation":"vertical","data-state":_9(j.open),"data-radix-menu-content":"",dir:b.dir,...N,...w,ref:z,style:{outline:"none",...w.style},onKeyDown:pt(w.onKeyDown,$=>{const q=$.target.closest("[data-radix-menu-content]")===$.currentTarget,Y=$.ctrlKey||$.altKey||$.metaKey,ce=$.key.length===1;q&&($.key==="Tab"&&$.preventDefault(),!Y&&ce&&M($.key));const le=E.current;if($.target!==le||!Lye.includes($.key))return;$.preventDefault();const ge=S().filter(V=>!V.disabled).map(V=>V.ref.current);t9.includes($.key)&&ge.reverse(),nbe(ge)}),onBlur:pt(t.onBlur,$=>{$.currentTarget.contains($.target)||(window.clearTimeout(T.current),W.current="")}),onPointerMove:pt(t.onPointerMove,Tm($=>{const oe=$.target,q=O.current!==$.clientX;if($.currentTarget.contains(oe)&&q){const Y=$.clientX>O.current?"right":"left";Z.current=Y,O.current=$.clientX}}))})})})})})})});o9.displayName=Va;var Kye="MenuGroup",ES=_.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return s.jsx(Bt.div,{role:"group",...n,ref:e})});ES.displayName=Kye;var Xye="MenuLabel",l9=_.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return s.jsx(Bt.div,{...n,ref:e})});l9.displayName=Xye;var _0="MenuItem",q3="menu.itemSelect",Ty=_.forwardRef((t,e)=>{const{disabled:r=!1,onSelect:n,...a}=t,i=_.useRef(null),o=up(_0,t.__scopeMenu),c=kS(_0,t.__scopeMenu),d=Jt(e,i),h=_.useRef(!1),m=()=>{const f=i.current;if(!r&&f){const g=new CustomEvent(q3,{bubbles:!0,cancelable:!0});f.addEventListener(q3,y=>n?.(y),{once:!0}),BM(f,g),g.defaultPrevented?h.current=!1:o.onClose()}};return s.jsx(c9,{...a,ref:d,disabled:r,onClick:pt(t.onClick,m),onPointerDown:f=>{t.onPointerDown?.(f),h.current=!0},onPointerUp:pt(t.onPointerUp,f=>{h.current||f.currentTarget?.click()}),onKeyDown:pt(t.onKeyDown,f=>{const g=c.searchRef.current!=="";r||g&&f.key===" "||hN.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Ty.displayName=_0;var c9=_.forwardRef((t,e)=>{const{__scopeMenu:r,disabled:n=!1,textValue:a,...i}=t,o=kS(_0,r),c=r9(r),d=_.useRef(null),h=Jt(e,d),[m,f]=_.useState(!1),[g,y]=_.useState("");return _.useEffect(()=>{const v=d.current;v&&y((v.textContent??"").trim())},[i.children]),s.jsx(Em.ItemSlot,{scope:r,disabled:n,textValue:a??g,children:s.jsx(qM,{asChild:!0,...c,focusable:!n,children:s.jsx(Bt.div,{role:"menuitem","data-highlighted":m?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:h,onPointerMove:pt(t.onPointerMove,Tm(v=>{n?o.onItemLeave(v):(o.onItemEnter(v),v.defaultPrevented||v.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:pt(t.onPointerLeave,Tm(v=>o.onItemLeave(v))),onFocus:pt(t.onFocus,()=>f(!0)),onBlur:pt(t.onBlur,()=>f(!1))})})})}),Zye="MenuCheckboxItem",d9=_.forwardRef((t,e)=>{const{checked:r=!1,onCheckedChange:n,...a}=t;return s.jsx(p9,{scope:t.__scopeMenu,checked:r,children:s.jsx(Ty,{role:"menuitemcheckbox","aria-checked":N0(r)?"mixed":r,...a,ref:e,"data-state":RS(r),onSelect:pt(a.onSelect,()=>n?.(N0(r)?!0:!r),{checkForDefaultPrevented:!1})})})});d9.displayName=Zye;var u9="MenuRadioGroup",[Qye,Jye]=Dd(u9,{value:void 0,onValueChange:()=>{}}),h9=_.forwardRef((t,e)=>{const{value:r,onValueChange:n,...a}=t,i=Ki(n);return s.jsx(Qye,{scope:t.__scopeMenu,value:r,onValueChange:i,children:s.jsx(ES,{...a,ref:e})})});h9.displayName=u9;var f9="MenuRadioItem",m9=_.forwardRef((t,e)=>{const{value:r,...n}=t,a=Jye(f9,t.__scopeMenu),i=r===a.value;return s.jsx(p9,{scope:t.__scopeMenu,checked:i,children:s.jsx(Ty,{role:"menuitemradio","aria-checked":i,...n,ref:e,"data-state":RS(i),onSelect:pt(n.onSelect,()=>a.onValueChange?.(r),{checkForDefaultPrevented:!1})})})});m9.displayName=f9;var TS="MenuItemIndicator",[p9,ebe]=Dd(TS,{checked:!1}),g9=_.forwardRef((t,e)=>{const{__scopeMenu:r,forceMount:n,...a}=t,i=ebe(TS,r);return s.jsx(Ga,{present:n||N0(i.checked)||i.checked===!0,children:s.jsx(Bt.span,{...a,ref:e,"data-state":RS(i.checked)})})});g9.displayName=TS;var tbe="MenuSeparator",x9=_.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t;return s.jsx(Bt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:e})});x9.displayName=tbe;var sbe="MenuArrow",y9=_.forwardRef((t,e)=>{const{__scopeMenu:r,...n}=t,a=Ey(r);return s.jsx(WN,{...a,...n,ref:e})});y9.displayName=sbe;var rbe="MenuSub",[rje,b9]=Dd(rbe),Xf="MenuSubTrigger",v9=_.forwardRef((t,e)=>{const r=Md(Xf,t.__scopeMenu),n=up(Xf,t.__scopeMenu),a=b9(Xf,t.__scopeMenu),i=kS(Xf,t.__scopeMenu),o=_.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:d}=i,h={__scopeMenu:t.__scopeMenu},m=_.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return _.useEffect(()=>m,[m]),_.useEffect(()=>{const f=c.current;return()=>{window.clearTimeout(f),d(null)}},[c,d]),s.jsx(SS,{asChild:!0,...h,children:s.jsx(c9,{id:a.triggerId,"aria-haspopup":"menu","aria-expanded":r.open,"aria-controls":a.contentId,"data-state":_9(r.open),...t,ref:Yo(e,a.onTriggerChange),onClick:f=>{t.onClick?.(f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),r.open||r.onOpenChange(!0))},onPointerMove:pt(t.onPointerMove,Tm(f=>{i.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!r.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{r.onOpenChange(!0),m()},100))})),onPointerLeave:pt(t.onPointerLeave,Tm(f=>{m();const g=r.content?.getBoundingClientRect();if(g){const y=r.content?.dataset.side,v=y==="right",w=v?-5:5,j=g[v?"left":"right"],b=g[v?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+w,y:f.clientY},{x:j,y:g.top},{x:b,y:g.top},{x:b,y:g.bottom},{x:j,y:g.bottom}],side:y}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:pt(t.onKeyDown,f=>{const g=i.searchRef.current!=="";t.disabled||g&&f.key===" "||Fye[n.dir].includes(f.key)&&(r.onOpenChange(!0),r.content?.focus(),f.preventDefault())})})})});v9.displayName=Xf;var w9="MenuSubContent",j9=_.forwardRef((t,e)=>{const r=a9(Va,t.__scopeMenu),{forceMount:n=r.forceMount,...a}=t,i=Md(Va,t.__scopeMenu),o=up(Va,t.__scopeMenu),c=b9(w9,t.__scopeMenu),d=_.useRef(null),h=Jt(e,d);return s.jsx(Em.Provider,{scope:t.__scopeMenu,children:s.jsx(Ga,{present:n||i.open,children:s.jsx(Em.Slot,{scope:t.__scopeMenu,children:s.jsx(AS,{id:c.contentId,"aria-labelledby":c.triggerId,...a,ref:h,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:m=>{o.isUsingKeyboardRef.current&&d.current?.focus(),m.preventDefault()},onCloseAutoFocus:m=>m.preventDefault(),onFocusOutside:pt(t.onFocusOutside,m=>{m.target!==c.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:pt(t.onEscapeKeyDown,m=>{o.onClose(),m.preventDefault()}),onKeyDown:pt(t.onKeyDown,m=>{const f=m.currentTarget.contains(m.target),g=Bye[o.dir].includes(m.key);f&&g&&(i.onOpenChange(!1),c.trigger?.focus(),m.preventDefault())})})})})})});j9.displayName=w9;function _9(t){return t?"open":"closed"}function N0(t){return t==="indeterminate"}function RS(t){return N0(t)?"indeterminate":t?"checked":"unchecked"}function nbe(t){const e=document.activeElement;for(const r of t)if(r===e||(r.focus(),document.activeElement!==e))return}function abe(t,e){return t.map((r,n)=>t[(e+n)%t.length])}function ibe(t,e,r){const a=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,i=r?t.indexOf(r):-1;let o=abe(t,Math.max(i,0));a.length===1&&(o=o.filter(h=>h!==r));const d=o.find(h=>h.toLowerCase().startsWith(a.toLowerCase()));return d!==r?d:void 0}function obe(t,e){const{x:r,y:n}=t;let a=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const c=e[i],d=e[o],h=c.x,m=c.y,f=d.x,g=d.y;m>n!=g>n&&r<(f-h)*(n-m)/(g-m)+h&&(a=!a)}return a}function lbe(t,e){if(!e)return!1;const r={x:t.clientX,y:t.clientY};return obe(r,e)}function Tm(t){return e=>e.pointerType==="mouse"?t(e):void 0}var cbe=n9,dbe=SS,ube=i9,hbe=o9,fbe=ES,mbe=l9,pbe=Ty,gbe=d9,xbe=h9,ybe=m9,bbe=g9,vbe=x9,wbe=y9,jbe=v9,_be=j9,Ry="DropdownMenu",[Nbe]=va(Ry,[s9]),Rn=s9(),[Sbe,N9]=Nbe(Ry),S9=t=>{const{__scopeDropdownMenu:e,children:r,dir:n,open:a,defaultOpen:i,onOpenChange:o,modal:c=!0}=t,d=Rn(e),h=_.useRef(null),[m,f]=Uo({prop:a,defaultProp:i??!1,onChange:o,caller:Ry});return s.jsx(Sbe,{scope:e,triggerId:$i(),triggerRef:h,contentId:$i(),open:m,onOpenChange:f,onOpenToggle:_.useCallback(()=>f(g=>!g),[f]),modal:c,children:s.jsx(cbe,{...d,open:m,onOpenChange:f,dir:n,modal:c,children:r})})};S9.displayName=Ry;var C9="DropdownMenuTrigger",k9=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,disabled:n=!1,...a}=t,i=N9(C9,r),o=Rn(r);return s.jsx(dbe,{asChild:!0,...o,children:s.jsx(Bt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...a,ref:Yo(e,i.triggerRef),onPointerDown:pt(t.onPointerDown,c=>{!n&&c.button===0&&c.ctrlKey===!1&&(i.onOpenToggle(),i.open||c.preventDefault())}),onKeyDown:pt(t.onKeyDown,c=>{n||(["Enter"," "].includes(c.key)&&i.onOpenToggle(),c.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});k9.displayName=C9;var Cbe="DropdownMenuPortal",A9=t=>{const{__scopeDropdownMenu:e,...r}=t,n=Rn(e);return s.jsx(ube,{...n,...r})};A9.displayName=Cbe;var E9="DropdownMenuContent",T9=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=N9(E9,r),i=Rn(r),o=_.useRef(!1);return s.jsx(hbe,{id:a.contentId,"aria-labelledby":a.triggerId,...i,...n,ref:e,onCloseAutoFocus:pt(t.onCloseAutoFocus,c=>{o.current||a.triggerRef.current?.focus(),o.current=!1,c.preventDefault()}),onInteractOutside:pt(t.onInteractOutside,c=>{const d=c.detail.originalEvent,h=d.button===0&&d.ctrlKey===!0,m=d.button===2||h;(!a.modal||m)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});T9.displayName=E9;var kbe="DropdownMenuGroup",Abe=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Rn(r);return s.jsx(fbe,{...a,...n,ref:e})});Abe.displayName=kbe;var Ebe="DropdownMenuLabel",R9=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Rn(r);return s.jsx(mbe,{...a,...n,ref:e})});R9.displayName=Ebe;var Tbe="DropdownMenuItem",D9=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Rn(r);return s.jsx(pbe,{...a,...n,ref:e})});D9.displayName=Tbe;var Rbe="DropdownMenuCheckboxItem",M9=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Rn(r);return s.jsx(gbe,{...a,...n,ref:e})});M9.displayName=Rbe;var Dbe="DropdownMenuRadioGroup",Mbe=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Rn(r);return s.jsx(xbe,{...a,...n,ref:e})});Mbe.displayName=Dbe;var Pbe="DropdownMenuRadioItem",P9=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Rn(r);return s.jsx(ybe,{...a,...n,ref:e})});P9.displayName=Pbe;var Obe="DropdownMenuItemIndicator",O9=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Rn(r);return s.jsx(bbe,{...a,...n,ref:e})});O9.displayName=Obe;var Lbe="DropdownMenuSeparator",L9=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Rn(r);return s.jsx(vbe,{...a,...n,ref:e})});L9.displayName=Lbe;var Fbe="DropdownMenuArrow",Bbe=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Rn(r);return s.jsx(wbe,{...a,...n,ref:e})});Bbe.displayName=Fbe;var Ibe="DropdownMenuSubTrigger",F9=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Rn(r);return s.jsx(jbe,{...a,...n,ref:e})});F9.displayName=Ibe;var zbe="DropdownMenuSubContent",B9=_.forwardRef((t,e)=>{const{__scopeDropdownMenu:r,...n}=t,a=Rn(r);return s.jsx(_be,{...a,...n,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});B9.displayName=zbe;var Ube=S9,$be=k9,Vbe=A9,I9=T9,z9=R9,U9=D9,$9=M9,V9=P9,H9=O9,q9=L9,W9=F9,G9=B9;const Hbe=Ube,qbe=$be,Wbe=_.forwardRef(({className:t,inset:e,children:r,...n},a)=>s.jsxs(W9,{ref:a,className:_t("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",e&&"pl-8",t),...n,children:[r,s.jsx(An,{className:"ml-auto"})]}));Wbe.displayName=W9.displayName;const Gbe=_.forwardRef(({className:t,...e},r)=>s.jsx(G9,{ref:r,className:_t("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...e}));Gbe.displayName=G9.displayName;const Y9=_.forwardRef(({className:t,sideOffset:e=4,...r},n)=>s.jsx(Vbe,{children:s.jsx(I9,{ref:n,sideOffset:e,className:_t("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...r})}));Y9.displayName=I9.displayName;const fN=_.forwardRef(({className:t,inset:e,...r},n)=>s.jsx(U9,{ref:n,className:_t("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",e&&"pl-8",t),...r}));fN.displayName=U9.displayName;const Ybe=_.forwardRef(({className:t,children:e,checked:r,...n},a)=>s.jsxs($9,{ref:a,className:_t("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:r,...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(H9,{children:s.jsx(ga,{className:"h-4 w-4"})})}),e]}));Ybe.displayName=$9.displayName;const Kbe=_.forwardRef(({className:t,children:e,...r},n)=>s.jsxs(V9,{ref:n,className:_t("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...r,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(H9,{children:s.jsx(fW,{className:"h-2 w-2 fill-current"})})}),e]}));Kbe.displayName=V9.displayName;const Xbe=_.forwardRef(({className:t,inset:e,...r},n)=>s.jsx(z9,{ref:n,className:_t("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...r}));Xbe.displayName=z9.displayName;const K9=_.forwardRef(({className:t,...e},r)=>s.jsx(q9,{ref:r,className:_t("-mx-1 my-1 h-px bg-muted",t),...e}));K9.displayName=q9.displayName;const W3=[{id:"main",title:"MAIN",items:[{to:"/admin",label:"Dashboard",icon:AN}]},{id:"management",title:"MANAGEMENT",items:[{to:"/admin/users",label:"Users",icon:Ss},{to:"/admin/agencies",label:"Agencies",icon:LG},{to:"/admin/real-user-data",label:"Real User Data",icon:J6},{to:"/admin/cars",label:"Cars",icon:Kt},{to:"/admin/bookings",label:"Bookings",icon:kN},{to:"/admin/payments",label:"Payments",icon:cr},{to:"/admin/promo-codes",label:"Promo Codes",icon:Wx},{to:"/admin/brokers",label:"Brokers",icon:Ss},{to:"/admin/ads",label:"Ads",icon:nM},{to:"/admin/featured",label:"Featured",icon:ar},{to:"/admin/holidays",label:"Holidays",icon:Hs}]},{id:"system",title:"SYSTEM",items:[{to:"/admin/services",label:"Services",icon:vd},{to:"/admin/announcements",label:"Announcements",icon:zx},{to:"/admin/appeals",label:"Appeals",icon:Yl},{to:"/admin/suggestions",label:"Suggestions",icon:D0},{to:"/admin/notifications",label:"Notifications",icon:zx,badge:3},{to:"/admin/otps",label:"OTPs",icon:sM}]}],Zbe=()=>{const t=Wa(),{logout:e}=ph(),[r,n]=_.useState(localStorage.getItem("admin_sidebar")==="true"),[a,i]=_.useState(""),[o,c]=_.useState(!1);_.useEffect(()=>{localStorage.setItem("admin_sidebar",r)},[r]),_.useEffect(()=>{window.innerWidth<768&&n(!0)},[]);const d=_.useMemo(()=>a?W3.map(m=>({...m,items:m.items.filter(f=>f.label.toLowerCase().includes(a.toLowerCase()))})).filter(m=>m.items.length>0):W3,[a]),h=t.pathname.replace("/admin","").split("/").filter(Boolean).map(m=>m[0].toUpperCase()+m.slice(1)).join(" / ")||"Dashboard";return s.jsx(kye,{delayDuration:0,children:s.jsxs("div",{className:"flex min-h-screen bg-background",children:[s.jsx(Go,{children:s.jsxs(rt.aside,{initial:{width:r?88:256},animate:{width:r?88:256},transition:{type:"spring",stiffness:260,damping:30},className:"relative border-r bg-card/95 backdrop-blur p-4 flex flex-col",children:[s.jsx("button",{onClick:()=>n(!r),className:"absolute -right-3 top-6 bg-card border rounded-full p-1 shadow hover:bg-muted",children:s.jsx(ac,{className:_t("w-4 h-4 transition-transform",r&&"rotate-180")})}),s.jsxs(Hbe,{children:[s.jsx(qbe,{asChild:!0,children:s.jsxs("button",{className:"flex items-center gap-3 mb-4 rounded-xl px-2 py-2 hover:bg-muted",children:[s.jsx("img",{src:"/rento-512.png",className:"w-10 h-10 rounded-full"}),!r&&s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-semibold",children:"Abbas Nemer"}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Lead Developer"})]})]})}),s.jsxs(Y9,{children:[s.jsxs(fN,{children:[s.jsx(Yi,{className:"w-4 h-4 mr-2"})," Profile"]}),s.jsx(K9,{}),s.jsxs(fN,{onClick:e,className:"text-red-600",children:[s.jsx(Xl,{className:"w-4 h-4 mr-2"})," Logout"]})]})]}),!r&&s.jsxs("div",{className:"mb-4 relative",children:[s.jsx(Br,{className:"absolute left-3 top-2.5 w-4 h-4 text-muted-foreground"}),s.jsx(Se,{value:a,onChange:m=>i(m.target.value),placeholder:"Search...",className:"pl-9"})]}),s.jsx("nav",{className:"flex-1 space-y-6 overflow-y-auto",children:d.map(m=>s.jsxs("div",{children:[!r&&s.jsx("p",{className:"px-3 mb-2 text-xs font-semibold text-muted-foreground",children:m.title}),s.jsx("div",{className:"space-y-1",children:m.items.map(({to:f,label:g,icon:y,badge:v})=>s.jsx("div",{children:s.jsxs(T6,{to:f,end:!0,className:({isActive:w})=>_t("group relative flex items-center gap-3 rounded-xl px-3 py-2.5 text-sm font-medium","transition-all duration-200","hover:scale-[1.05]",w?"bg-primary/10 text-primary shadow-sm":"text-muted-foreground hover:bg-muted"),children:[s.jsx("span",{className:"absolute inset-0 rounded-xl bg-primary/10 opacity-0 group-[.active]:opacity-100 blur-sm"}),s.jsx(y,{className:"relative w-4 h-4"}),!r&&s.jsx("span",{children:g}),v&&!r&&s.jsx(rt.span,{animate:{scale:[1,1.15,1]},transition:{repeat:1/0,duration:1.8},className:"ml-auto bg-primary text-white text-xs px-2 py-0.5 rounded-full",children:v})]})},f))})]},m.id))})]})}),s.jsxs("main",{className:"flex-1 p-6 overflow-y-auto",children:[s.jsxs("div",{className:"mb-4 text-sm text-muted-foreground",children:["Admin / ",h]}),s.jsx(rt.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.25},children:s.jsx(jV,{})},t.pathname)]})]})})};nc.register(...wS);const Qbe=({data:t})=>{const e=_.useRef(null),r=_.useRef(null);return _.useEffect(()=>{if(!t?.length||!e.current)return;const n=e.current.getContext("2d");r.current&&(r.current.destroy(),r.current=null);const a=t.map(o=>o.label),i=[{key:"pending",label:"Pending",color:"#facc15"},{key:"completed",label:"Completed",color:"#22c55e"},{key:"cancelled",label:"Cancelled",color:"#ef4444"},{key:"total",label:"Total",color:"#3b82f6"}];return r.current=new nc(n,{type:"line",data:{labels:a,datasets:i.map(({key:o,label:c,color:d})=>({label:c,data:t.map(h=>h[o]??0),borderColor:d,backgroundColor:`${d}20`,fill:!1,tension:.2}))},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top"},tooltip:{mode:"index",intersect:!1}},scales:{x:{grid:{display:!1},ticks:{maxRotation:45,font:{size:11}}},y:{beginAtZero:!0,ticks:{stepSize:1,font:{size:11}},grid:{color:"rgba(0,0,0,0.06)"}}},animation:{duration:400}}}),()=>{r.current&&(r.current.destroy(),r.current=null)}},[t]),!t||t.length===0?null:s.jsx("div",{className:"w-full h-[320px]",children:s.jsx("canvas",{ref:e})})};nc.register(...wS);const Jbe="#00A19C",eve=({data:t})=>{const e=_.useRef(null),r=_.useRef(null);return _.useEffect(()=>{if(!t?.length||!e.current)return;const n=e.current.getContext("2d");return r.current&&(r.current.destroy(),r.current=null),r.current=new nc(n,{type:"bar",data:{labels:t.map(a=>a.label),datasets:[{label:"Cars",data:t.map(a=>a.count),backgroundColor:Jbe,borderRadius:6}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:a=>"Cars: "+a.raw}}},scales:{x:{grid:{display:!1},ticks:{maxRotation:45,minRotation:0,font:{size:12}}},y:{beginAtZero:!0,ticks:{stepSize:1,font:{size:12}},grid:{color:"rgba(0,0,0,0.06)"}}},animation:{duration:600}}}),()=>{r.current&&(r.current.destroy(),r.current=null)}},[t]),t?.length?s.jsx("div",{className:"w-full h-full min-h-[280px]",children:s.jsx("canvas",{ref:e})}):null},Ou=t=>t.toISOString().split("T")[0],tve=(t,e,r)=>{const n={},a=new Date,i=(o,c)=>{o[c]||(o[c]=0),o[c]++};if(e==="day"){const o=new Date(r.from),c=new Date(r.to);for(;o<=c;){const d=Ou(o);n[d]={label:o.toLocaleDateString("en-US",{month:"short",day:"numeric"}),total:0,pending:0,completed:0,cancelled:0},o.setDate(o.getDate()+1)}return t.forEach(d=>{if(!d.start_datetime)return;const h=Ou(new Date(d.start_datetime));n[h]&&(n[h].total++,i(n[h],d.booking_request_status))}),Object.values(n)}if(e==="week"){for(let o=6;o>=0;o--){const c=new Date;c.setDate(a.getDate()-o);const d=Ou(c);n[d]={label:c.toLocaleDateString("en-US",{weekday:"short"}),total:0,pending:0,completed:0,cancelled:0}}return t.forEach(o=>{if(!o.start_datetime)return;const c=Ou(new Date(o.start_datetime));n[c]&&(n[c].total++,i(n[c],o.booking_request_status))}),Object.values(n)}if(e==="month"){const o=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return o.forEach(c=>{n[c]={label:c,total:0,pending:0,completed:0,cancelled:0}}),t.forEach(c=>{if(!c.start_datetime)return;const d=new Date(c.start_datetime);if(d.getFullYear()!==a.getFullYear())return;const h=d.toLocaleString("en-US",{month:"short"});n[h].total++,i(n[h],c.booking_request_status)}),o.map(c=>n[c])}return t.forEach(o=>{if(!o.start_datetime)return;const c=new Date(o.start_datetime).getFullYear();n[c]||(n[c]={label:String(c),total:0,pending:0,completed:0,cancelled:0}),n[c].total++,i(n[c],o.booking_request_status)}),Object.values(n).sort((o,c)=>Number(o.label)-Number(c.label))},sve=()=>{const[t,e]=_.useState({users:0,cars:0,bookings:0,revenue:0}),[r,n]=_.useState(!0),a=new Date,i=new Date;i.setDate(a.getDate()-29);const[o,c]=_.useState("day"),[d,h]=_.useState({from:i,to:a}),[m,f]=_.useState([]),[g,y]=_.useState(!0);_.useEffect(()=>{(async()=>{try{n(!0);const U=await Oe.get("/admin/users"),L=await Oe.get("/cars"),Z=await Oe.get("/admin/bookings"),O=await Oe.get("/admin/payments");e({users:U.data?.users?.total??0,cars:L.data?.cars?.total??L.data?.total??0,bookings:Z.data?.bookings?.total??Z.data?.total??0,revenue:O.data?.total_revenue??O.data?.revenue??0})}catch(U){console.error("Dashboard stats error:",U)}finally{n(!1)}})()},[]),_.useEffect(()=>{(async()=>{try{y(!0);const L=(await Oe.get("/admin/bookings"))?.data?.bookings?.data||[],Z=tve(L,o,d);f(Z)}catch(U){console.error("Chart error:",U),f([])}finally{y(!1)}})()},[o,d]);const v=({title:W,value:U,icon:L,color:Z})=>s.jsx(Ue,{children:s.jsxs(qe,{className:"p-6 flex items-center gap-4",children:[s.jsx("div",{className:`w-12 h-12 rounded-xl ${Z} flex items-center justify-center`,children:s.jsx(L,{className:"w-6 h-6 text-white"})}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:W}),s.jsx("h2",{className:"text-2xl font-bold",children:r?"":U})]})]})}),[w,j]=_.useState([]),[b,N]=_.useState(""),[k,S]=_.useState(""),[C,B]=_.useState([]);_.useEffect(()=>{(async()=>{try{const U=await Oe.get("admin/cars");j(U.data?.cars?.data||U.data?.cars||[])}catch(U){console.error("Cars fetch error",U)}})()},[]);const E=W=>[...new Set(W.map(U=>U.make).filter(Boolean))].sort(),z=(W,U,L)=>{let Z=[...W];L&&(Z=Z.filter(se=>se.model===L)),U&&(Z=Z.filter(se=>se.make===U));const O={};return Z.forEach(se=>{let K;L&&U?K=`${se.make} ${se.model}`:L?K=se.make:U?K=se.model:K=se.make,K&&(O[K]=(O[K]||0)+1)}),Object.entries(O).map(([se,K])=>({label:se,count:K}))},T=(W,U)=>{const L=U?W.filter(Z=>Z.make===U):W;return[...new Set(L.map(Z=>Z.model).filter(Boolean))].sort()};return _.useEffect(()=>{S("")},[b]),_.useEffect(()=>{const W=z(w,b,k);B(W)},[w,b,k]),s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Dashboard"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsx(v,{title:"Total Users",value:t.users,icon:Ss,color:"bg-blue-500"}),s.jsx(v,{title:"Total Cars",value:t.cars,icon:Kt,color:"bg-[#00A19C]"}),s.jsx(v,{title:"Total Bookings",value:t.bookings,icon:kN,color:"bg-purple-500"}),s.jsx(v,{title:"Total Revenue",value:`$${t.revenue}`,icon:cr,color:"bg-green-500"})]}),s.jsx(Ue,{children:s.jsxs(qe,{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Booking Overview"}),s.jsxs("div",{className:"flex flex-col gap-3 min-w-[160px]",children:[s.jsxs("select",{value:o,onChange:W=>c(W.target.value),className:"border rounded-md px-3 py-1 text-sm bg-background",children:[s.jsx("option",{value:"day",children:"Daily"}),s.jsx("option",{value:"week",children:"Week"}),s.jsx("option",{value:"month",children:"Month"}),s.jsx("option",{value:"year",children:"Year"})]}),o==="day"&&s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:"From"}),s.jsx("input",{type:"date",value:Ou(d.from),onChange:W=>h(U=>({...U,from:new Date(W.target.value)})),className:"border rounded-md px-2 py-1 text-sm w-full"})]}),s.jsxs("div",{children:[s.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:"To"}),s.jsx("input",{type:"date",value:Ou(d.to),onChange:W=>h(U=>({...U,to:new Date(W.target.value)})),className:"border rounded-md px-2 py-1 text-sm w-full"})]})]})]})]}),s.jsx("div",{className:"w-full h-[320px]",children:g?s.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"Loading chart data..."}):m.length===0?s.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"No booking data"}):s.jsx(Qbe,{data:m})})]})}),s.jsx(Ue,{children:s.jsxs(qe,{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsx("h2",{className:"text-lg font-semibold",children:"Cars Distribution"}),s.jsxs("div",{className:"flex flex-wrap gap-2",children:[s.jsxs("select",{value:b,onChange:W=>N(W.target.value),className:"border rounded-md px-3 py-1 text-sm bg-background",children:[s.jsx("option",{value:"",children:"All Makes"}),E(w).map(W=>s.jsx("option",{value:W,children:W},W))]}),s.jsxs("select",{value:k,onChange:W=>S(W.target.value),className:"border rounded-md px-3 py-1 text-sm bg-background",disabled:!w.length,children:[s.jsx("option",{value:"",children:"All Models"}),T(w,b).map(W=>s.jsx("option",{value:W,children:W},W))]})]})]}),s.jsx("div",{className:"h-[300px] w-full",children:C.length===0?s.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"No car data"}):s.jsx(eve,{data:C})})]})})]})},rve=1,nve=1e6;let V1=0;function ave(){return V1=(V1+1)%Number.MAX_SAFE_INTEGER,V1.toString()}const H1=new Map,G3=t=>{if(H1.has(t))return;const e=setTimeout(()=>{H1.delete(t),lm({type:"REMOVE_TOAST",toastId:t})},nve);H1.set(t,e)},ive=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,rve)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(r=>r.id===e.toast.id?{...r,...e.toast}:r)};case"DISMISS_TOAST":{const{toastId:r}=e;return r?G3(r):t.toasts.forEach(n=>{G3(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===r||r===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(r=>r.id!==e.toastId)}}},Dx=[];let Mx={toasts:[]};function lm(t){Mx=ive(Mx,t),Dx.forEach(e=>{e(Mx)})}function yn({...t}){const e=ave(),r=a=>lm({type:"UPDATE_TOAST",toast:{...a,id:e}}),n=()=>lm({type:"DISMISS_TOAST",toastId:e});return lm({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:a=>{a||n()}}}),{id:e,dismiss:n,update:r}}function hp(){const[t,e]=_.useState(Mx);return _.useEffect(()=>(Dx.push(e),()=>{const r=Dx.indexOf(e);r>-1&&Dx.splice(r,1)}),[t]),{...t,toast:yn,dismiss:r=>lm({type:"DISMISS_TOAST",toastId:r})}}function ove(t,e=14){return t?t.length>e?`${t.slice(0,e)}...`:t:"N/A"}const lve=()=>{sn();const{toast:t}=hp(),[e,r]=_.useState([]),[n,a]=_.useState(0),[i,o]=_.useState(!0),[c,d]=_.useState(null),[h,m]=_.useState(!1),[f,g]=_.useState(""),[y,v]=_.useState(null),[w,j]=_.useState(""),[b,N]=_.useState([]),[k,S]=_.useState("newest"),[C,B]=_.useState("all"),[E,z]=_.useState(!1);_.useEffect(()=>{(async()=>{try{const K=await Oe.get("/admin/users");r(K.data?.users?.data||[]),a(K.data?.users?.total||0)}catch{t({title:"Error",description:"Failed to load users",variant:"destructive"})}finally{o(!1)}})()},[t]);const T=async se=>{try{const{data:K}=await Oe.get(`/admin/users/${se}`);return K.user}catch{return t({title:"Error",description:"Failed to fetch user details",variant:"destructive"}),null}},W="/avatar.png",U="https://rento-lb.com/api/storage/",L=se=>{const K=se?.profile_picture;if(!K)return W;if(K.startsWith("http"))return K;const M=K.startsWith("/")?K.slice(1):K;return U+M},Z=_.useMemo(()=>{let se=[...e];if(w){const K=w.toLowerCase();se=se.filter(M=>M.username?.toLowerCase().includes(K)||M.phone_number?.includes(K)||M.role?.toLowerCase().includes(K))}if(b.length>0&&(se=se.filter(K=>b.includes(K.role))),C!=="all"){const K=C==="active";se=se.filter(M=>!!M.update_access===K)}return k==="az"&&se.sort((K,M)=>K.username.localeCompare(M.username)),k==="za"&&se.sort((K,M)=>M.username.localeCompare(K.username)),k==="newest"&&se.sort((K,M)=>new Date(M.created_at)-new Date(K.created_at)),se},[e,w,b,C,k]),O=async se=>{if(confirm("Delete this user?"))try{await Oe.delete(`/admin/users/${se}`),r(K=>K.filter(M=>M.id!==se)),t({title:"User deleted"})}catch{t({title:"Error",description:"Delete failed",variant:"destructive"})}};return s.jsxs("div",{className:"space-y-6",children:[s.jsx(Kr,{open:h,onOpenChange:m,children:s.jsxs(Ir,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[s.jsx(zr,{children:s.jsx(Ur,{children:f==="edit-user"?"Edit User":"User Details"})}),f==="view-user"&&c&&s.jsx(pve,{user:c,onEdit:()=>{v({...c}),g("edit-user")},onClose:()=>m(!1)}),f==="edit-user"&&y&&s.jsx(gve,{user:y,setUser:v,onClose:()=>{m(!1),g("view-user")},onSaved:se=>{d(se),v({...se}),g("view-user")}})]})}),s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h1",{className:"text-2xl font-bold",children:"Users"})}),s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[s.jsxs("div",{className:"relative w-full sm:w-72",children:[s.jsx(Br,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(Se,{placeholder:"Search user...",className:"pl-9",value:w,onChange:se=>j(se.target.value)})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Ss,{className:"h-4 w-4"}),s.jsx("span",{children:"Total:"}),s.jsx("span",{className:"font-semibold text-foreground",children:Z.length})]}),s.jsx(pe,{variant:"outline",size:"sm",onClick:()=>z(se=>!se),children:"Filters"})]})]}),E&&s.jsxs("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-3 gap-4 rounded-lg border p-4 bg-background",children:[s.jsxs(ft,{value:k,onValueChange:S,children:[s.jsx(ut,{children:s.jsx(mt,{placeholder:"Sort by"})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"newest",children:"Newest"}),s.jsx(ke,{value:"az",children:"AZ"}),s.jsx(ke,{value:"za",children:"ZA"})]})]}),s.jsxs(ft,{value:C,onValueChange:B,children:[s.jsx(ut,{children:s.jsx(mt,{placeholder:"Status"})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"all",children:"All"}),s.jsx(ke,{value:"active",children:"Active"}),s.jsx(ke,{value:"blocked",children:"Blocked"})]})]}),s.jsx("div",{className:"flex flex-wrap gap-3 text-sm",children:["client","agency","admin"].map(se=>s.jsxs("label",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",checked:b.includes(se),onChange:K=>{const M=K.target.checked;N(X=>M?[...X,se]:X.filter($=>$!==se))}}),s.jsx("span",{className:"capitalize",children:se})]},se))})]}),s.jsx(Ue,{children:s.jsx(qe,{className:"p-0",children:i?s.jsx("p",{className:"p-6 text-muted-foreground",children:"Loading users..."}):s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"User"}),s.jsx(_e,{children:"Phone"}),s.jsx(_e,{children:"Role"}),s.jsx(_e,{children:"Status"}),s.jsx(_e,{className:"text-right",children:"Actions"})]})}),s.jsxs(Dt,{children:[Z.map(se=>s.jsxs(ze,{children:[s.jsx(fe,{className:"font-medium",children:s.jsxs("span",{className:"item-name-hover inline-flex items-center gap-2 cursor-pointer",title:cve(se),role:"button",tabIndex:0,onClick:()=>dve(se.id,T,d,g,m),children:[s.jsx("img",{src:L(se),alt:se.username||"User",className:"h-7 w-7 rounded-full object-cover",onError:K=>{K.currentTarget.onerror=null,K.currentTarget.src="/avatar.png"}}),ove(se.first_name&&se.last_name?`${se.first_name} ${se.last_name}`:se.username,14)]})}),s.jsx(fe,{children:se.phone_number}),s.jsx(fe,{children:s.jsx(We,{variant:"outline",children:se.role})}),s.jsx(fe,{children:se.update_access?s.jsx(We,{className:"bg-green-500",children:"Active"}):s.jsx(We,{variant:"destructive",children:"Blocked"})}),s.jsx(fe,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(pe,{variant:"ghost",size:"icon",onClick:async()=>{const K=await T(se.id);K&&(d(K),g("view-user"),m(!0))},title:"View Details",children:s.jsx(nr,{className:"w-4 h-4"})}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:async()=>{const K=await T(se.id);K&&(d(K),v({...K}),g("edit-user"),m(!0))},title:"Edit User",children:s.jsx(vr,{className:"w-4 h-4"})}),s.jsx(pe,{size:"icon",variant:"ghost","aria-label":"Delete user",className:"text-red-500",onClick:()=>O(se.id),title:"Remove User",children:s.jsx(Zs,{className:"h-4 w-4"})})]})})]},se.id)),Z.length===0&&s.jsx(ze,{children:s.jsx(fe,{colSpan:5,className:"text-center text-muted-foreground py-6",children:"No users found"})})]})]})})})]})};function cve(t){if(!t)return"";const e=t.client||{},r=e.qualification_code||{};return[`User ID : ${t.id??"N/A"}`,`Age : ${r.age??"N/A"}`,`Gender : ${t.gender??"N/A"}`,`City : ${t.city??"N/A"}`,`Bio : ${t.bio??"N/A"}`,`Profession : ${e.profession??"N/A"}`,`Email : ${t.email??"N/A"}`,`License number : ${e.license_number??"N/A"}`,`Average rating : ${e.average_rating??"N/A"}`,`OTP verification : ${t.otp_verification??"N/A"}`].join(`
`)}async function dve(t,e,r,n,a){const i=await e(t);i&&(r(i),n("view-user"),a(!0))}function X9(t){if(!t)return"N/A";const e=new Date(t);return Number.isNaN(e.getTime())?String(t):e.toLocaleDateString("en-US",{month:"numeric",day:"numeric",year:"numeric"})}function S0(t){if(!t)return"N/A";const e=new Date(t);return Number.isNaN(e.getTime())?String(t):e.toLocaleString("en-US",{timeZone:"Asia/Beirut",month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit",hour12:!0})}const uve="https://rento-lb.com/api/storage/",hve="/avatar.png";function fve(t,e=null){if(!t)return e;if(t.startsWith("http"))return t;const r=t.startsWith("/")?t.slice(1):t;return uve+r}function mve(t){return t?String(t).toLowerCase().split("?")[0].endsWith(".pdf"):!1}function fx({title:t,path:e,fallback:r=null}){const n=fve(e,r);if(!n)return s.jsx("div",{className:"text-sm text-muted-foreground",children:"N/A"});if(mve(n)){const a=`${n}#toolbar=0&navpanes=0&scrollbar=0`;return s.jsx("iframe",{title:t,src:a,className:"w-full max-w-[260px] h-[180px] rounded-md border bg-white"})}return s.jsx("img",{src:n,alt:t,className:"w-full max-w-[260px] h-[180px] object-cover rounded-md border",onError:a=>{r&&(a.currentTarget.onerror=null,a.currentTarget.src=r)}})}function pve({user:t,onEdit:e,onClose:r}){const n=t?.client||{};function a({label:c,value:d}){return s.jsxs("div",{className:"flex items-center gap-2 test-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:[c," :"]}),s.jsx("span",{className:"text-foreground",children:d??"N/A"})]})}const i=({label:c,value:d,tone:h="neutral"})=>{const m=h==="teal"?"bg-teal-600 text-white":h==="red"?"bg-red-600 text-white":"bg-muted text-foreground";return s.jsxs("div",{className:"flex items-center gap-2 whitespace-nowrap",children:[s.jsx("span",{className:" text-muted-foreground",children:c}),s.jsx("span",{className:`inline-flex items-center justify-center px-2 h-5 rounded text-xs font-semibold leading-none ${m}`,children:d})]})},o=t?.status?"Active":"Inactive";return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-x-10 gap-y-3",children:[s.jsx(a,{label:"ID",value:t?.id}),s.jsx(a,{label:"Username",value:t?.username}),s.jsx(a,{label:"Email",value:t?.email}),s.jsx(a,{label:"Phone Number",value:t?.phone_number}),s.jsx(a,{label:"First Name",value:t?.first_name}),s.jsx(a,{label:"Last Name",value:t?.last_name}),s.jsx(a,{label:"Gender",value:t?.gender}),s.jsx(a,{label:"Birth Date",value:X9(t?.birth_date)}),s.jsx(a,{label:"City",value:t?.city}),s.jsx(a,{label:"Role",value:t?.role}),s.jsx("div",{className:"flex flex-wrap items-center gap-8 pt-1",children:s.jsx(i,{label:"Status:",value:o,tone:t?.status?"teal":"red"})}),s.jsx("div",{className:"flex flex-wrap items-center gap-8 pt-1",children:s.jsx(i,{label:"Verified by Admin:",value:t?.verified_by_admin?"Yes":"No",tone:t?.verified_by_admin?"teal":"red"})}),s.jsx("div",{className:"flex flex-wrap items-center gap-8 pt-1",children:s.jsx(i,{label:"Is Locked:",value:t?.is_locked?"Locked":"Unlocked",tone:t?.is_locked?"red":"teal"})}),s.jsx(a,{label:"Created At",value:S0(t?.created_at)}),s.jsx(a,{label:"Updated At",value:S0(t?.updated_at)})]}),s.jsx("div",{className:"grid grid-cols-2 gap-x-10 gap-y-3",children:s.jsx(a,{label:"Bio",value:t?.bio})}),s.jsx("div",{className:"border-t pt-3"}),s.jsx("div",{className:"text-sm font-semibold",children:"Client Details"}),s.jsxs("div",{className:"grid grid-cols-2 gap-x-10 gap-y-3",children:[s.jsx(a,{label:"License Number",value:n?.license_number}),s.jsx(a,{label:"Profession",value:n?.profession}),s.jsx(a,{label:"Average Salary",value:n?.avg_salary}),s.jsx(a,{label:"Promo Code",value:n?.promo_code})]}),s.jsx("div",{className:"border-t pt-3"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"text-sm font-semibold",children:"Documents"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"Profile Picture"}),s.jsx(fx,{title:"Profile Picture",path:t?.profile_picture,fallback:hve})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"Driver License"}),s.jsx(fx,{title:"Driver License",path:n?.driver_license})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"ID Card Front"}),s.jsx(fx,{title:"ID Card Front",path:t?.id_card_front})]}),s.jsxs("div",{children:[s.jsx("div",{className:"text-muted-foreground",children:"ID Card Back"}),s.jsx(fx,{title:"ID Card Back",path:t?.id_card_back})]})]})]}),s.jsxs("div",{className:"pt-3 flex gap-2",children:[s.jsx(pe,{className:"flex-1",onClick:e,children:"Edit User"}),s.jsx(pe,{variant:"outline",className:"w-28",onClick:r,children:"Close"})]})]})}function gve({user:t,setUser:e,onClose:r,onSaved:n}){const{toast:a}=hp(),i=(h,m)=>e(f=>({...f,[h]:m})),o=t?.client||{},c=async()=>{try{const h={verified_by_admin:!!t?.verified_by_admin,status:!!t?.status,is_locked:!!t?.is_locked,update_access:!!t?.update_access},{data:m}=await Oe.put(`/admin/users/${t.id}`,h),f=m.user??m.data??t;a({title:"Saved",description:"User updated successfully"}),n?.(f)}catch{a({title:"Error",description:"Failed to update user",variant:"destructive"})}},d=({label:h,value:m,onChange:f})=>s.jsxs("div",{className:"flex items-center justify-between gap-3 py-2",children:[s.jsx("div",{className:"text-sm",children:h}),s.jsx("button",{type:"button",role:"switch","aria-checked":!!m,onClick:()=>f(!m),className:["relative inline-flex h-5 w-10 items-center rounded-full transition-colors",m?"bg-teal-600":"bg-muted","focus:outline-none focus:ring-2 focus:ring-teal-500/40"].join(" "),children:s.jsx("span",{className:["inline-block h-4 w-4 transform rounded-full bg-white transition-transform",m?"translate-x-5":"translate-x-1","shadow"].join(" ")})})]});return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-x-10 gap-y-3",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"ID"}),s.jsx(Se,{value:t?.id??"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Username"}),s.jsx(Se,{value:t?.username??"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Email"}),s.jsx(Se,{value:t?.email??"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Phone Number"}),s.jsx(Se,{value:t?.phone_number??"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"First Name"}),s.jsx(Se,{value:t?.first_name??"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Last Name"}),s.jsx(Se,{value:t?.last_name??"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Gender"}),s.jsx(Se,{value:t?.gender??"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Birth Date"}),s.jsx(Se,{value:X9(t?.birth_date),disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"City"}),s.jsx(Se,{value:t?.city??"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Role"}),s.jsx(Se,{value:t?.role??"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Created At"}),s.jsx(Se,{value:S0(t?.created_at),disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Updated At"}),s.jsx(Se,{value:S0(t?.updated_at),disabled:!0})]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx(ue,{children:"Bio"}),s.jsx("textarea",{className:"w-full border rounded-md p-2 min-h-[90px]",value:t?.bio??"",disabled:!0})]})]}),s.jsx("div",{className:"border-t pt-3"}),s.jsx("div",{className:"text-sm font-semibold",children:"Client Details (Read-only)"}),s.jsxs("div",{className:"grid grid-cols-2 gap-x-10 gap-y-3",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"License Number"}),s.jsx(Se,{value:o?.license_number??"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Profession"}),s.jsx(Se,{value:o?.profession??"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Average Salary"}),s.jsx(Se,{value:o?.avg_salary??"",disabled:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Promo Code"}),s.jsx(Se,{value:o?.promo_code??"",disabled:!0})]})]}),s.jsx("div",{className:"border-t pt-3"}),s.jsx("div",{className:"text-sm font-semibold",children:"Editable Fields"}),s.jsxs("div",{className:"rounded-md border p-3 space-y-1",children:[s.jsx(d,{label:"Verified by Admin",value:t?.verified_by_admin,onChange:h=>i("verified_by_admin",h)}),s.jsx(d,{label:"Status (Active)",value:t?.status,onChange:h=>i("status",h)}),s.jsx(d,{label:"Is Locked",value:t?.is_locked,onChange:h=>i("is_locked",h)}),s.jsx(d,{label:"Update Access Allow Profile Updates",value:t?.update_access,onChange:h=>i("update_access",h)})]}),s.jsxs("div",{className:"pt-3 flex gap-2 justify-end",children:[s.jsx(pe,{className:"w-36",onClick:c,children:"Update User"}),s.jsx(pe,{variant:"outline",className:"w-28",onClick:r,children:"Cancel"})]})]})}const mx=20,xve=[{value:"all",label:"All Status"},{value:"available",label:"Available"},{value:"not_available",label:"Not Available"},{value:"rented",label:"Rented"},{value:"maintenance",label:"Maintenance"}],yve=[{value:"all",label:"All"},{value:"true",label:"Accepted"},{value:"false",label:"Not Accepted"}],bve=[{value:"all",label:"All"},{value:"true",label:"Private"},{value:"false",label:"Public"}],vve=()=>{const[t,e]=_.useState([]),[r,n]=_.useState({current_page:1,last_page:1,per_page:mx,total:0}),[a,i]=_.useState(!0),[o,c]=_.useState(1),[d,h]=_.useState("all"),[m,f]=_.useState("all"),[g,y]=_.useState("all"),[v,w]=_.useState(""),[j,b]=_.useState(""),[N,k]=_.useState([]),[S,C]=_.useState([]),[B,E]=_.useState("newest"),[z,T]=_.useState(!1),[W,U]=_.useState(null),[L,Z]=_.useState(!1),[O,se]=_.useState(""),{toast:K}=hp(),[M,X]=_.useState(null),[$,oe]=_.useState({open:!1,title:"",message:"",onConfirm:null}),[q,Y]=_.useState(""),[ce,le]=_.useState(""),[be,ge]=_.useState(""),[V,H]=_.useState(""),me=_.useCallback(async()=>{i(!0);try{const xe={per_page:mx,page:o,...d&&d!=="all"&&{status:d},...m&&m!=="all"&&{car_accepted:m},...g&&g!=="all"&&{is_private:g},...v&&{agent_id:Number(v)},...j&&j.trim()&&{search:j.trim()}},Me=await vI(xe),Re=Me.data||Me,$e=Array.isArray(Re.cars)?Re.cars:Re.cars?.data??[],Je=Re.meta||Re.cars&&{total:Re.cars.total,current_page:Re.cars.current_page??o,last_page:Re.cars.last_page??1,per_page:Re.cars.per_page??mx}||r;e($e),n(st=>({...st,...Je,total:Je.total??st.total,current_page:Je.current_page??o,last_page:Je.last_page??st.last_page,per_page:Je.per_page??mx}))}catch(xe){xe.response?.status===403?K({title:"Access denied",description:"Super admin access required",variant:"destructive"}):xe.response?.status===401?K({title:"Unauthorized",description:"Please log in again",variant:"destructive"}):(console.error("Failed to load cars",xe),K({title:"Error",description:"Failed to load cars",variant:"destructive"}))}finally{i(!1)}},[o,d,m,g,v,j]);_.useEffect(()=>{me()},[me]);const Q=async xe=>{try{const Me=await Zxe(xe),Re=Me.data||Me;return Re?.car??Re??null}catch(Me){return Me.response?.status===403?K({title:"Access denied",description:"Super admin access required",variant:"destructive"}):Me.response?.status===404?K({title:"Full details unavailable",description:"Showing list data (GET /admin/cars/{id} returned 404).",variant:"destructive"}):K({title:"Error",description:"Failed to fetch car details",variant:"destructive"}),null}},te=xe=>{U(xe),se("view-car"),Z(!0),Q(xe.id).then(Me=>{Me&&U(Me)})},ee=xe=>{U(xe),X({...xe}),se("edit-car"),Z(!0),Q(xe.id).then(Me=>{Me&&(U(Me),X({...Me}))})},Ce="/car-avatar.png",F=_.useMemo(()=>`${"https://rento-lb.com/api/api".trim().replace(/\/+$/,"").replace(/\/api\/api\/?$/,"")}/api/storage/`,[]),Ee=xe=>{if(!xe)return null;if(xe.startsWith("http"))return xe;const Me=xe.startsWith("/")?xe.slice(1):xe;return`${F}${Me}`},J=xe=>Ee(xe)||Ce,R=(xe,Me,Re)=>{oe({open:!0,title:xe,message:Me,onConfirm:Re})},P=async xe=>{try{const Me=await V3(xe.id,!0),Re=Me.data||Me,$e=Re?.car??Re??{...xe,car_accepted:!0};e(Je=>Je.map(st=>st.id===xe.id?{...st,car_accepted:!0}:st)),W?.id===xe.id&&U($e),M?.id===xe.id&&X($e),K({title:"Success",description:"Car accepted successfully"})}catch(Me){Me.response?.status===403?K({title:"Access denied",description:"Super admin access required",variant:"destructive"}):K({title:"Error",description:Me.response?.data?.message||"Failed to accept car",variant:"destructive"})}},G=async xe=>{try{const Me=await V3(xe.id,!1),Re=Me.data||Me,$e=Re?.car??Re??{...xe,car_accepted:!1};e(Je=>Je.map(st=>st.id===xe.id?{...st,car_accepted:!1}:st)),W?.id===xe.id&&U($e),M?.id===xe.id&&X($e),K({title:"Success",description:"Car rejected successfully"})}catch(Me){Me.response?.status===403?K({title:"Access denied",description:"Super admin access required",variant:"destructive"}):K({title:"Error",description:Me.response?.data?.message||"Failed to reject car",variant:"destructive"})}},we=async xe=>{try{await Qxe(xe),K({title:"Success",description:"Car deleted successfully"}),me(),Z(!1)}catch{K({title:"Error",description:"Failed to delete car",variant:"destructive"})}},de=xe=>{if(xe==null||xe==="")return NaN;if(typeof xe=="number")return xe;const Me=String(xe).replace(/[^0-9.]/g,""),Re=Number(Me);return Number.isNaN(Re)?NaN:Re},he=_.useMemo(()=>{let xe=[...t];N.length>0&&(xe=xe.filter(st=>N.includes(st.car_category))),S.length>0&&(xe=xe.filter(st=>S.includes(st.status)));const Me=q?Number(q):null,Re=ce?Number(ce):null;(Me!==null||Re!==null)&&(xe=xe.filter(st=>{const Nt=Number(st.year);return!(Number.isNaN(Nt)||Me!==null&&Nt<Me||Re!==null&&Nt>Re)}));const $e=be!==""?de(be):null,Je=V!==""?de(V):null;return($e!==null||Je!==null)&&(xe=xe.filter(st=>{const Nt=de(st.daily_rate);return!(Number.isNaN(Nt)||$e!==null&&!Number.isNaN($e)&&Nt<$e||Je!==null&&!Number.isNaN(Je)&&Nt>Je)})),B==="newest"&&xe.sort((st,Nt)=>new Date(Nt.created_at)-new Date(st.created_at)),B==="price"&&xe.sort((st,Nt)=>{const St=de(st.daily_rate),Ht=de(Nt.daily_rate);return Number.isNaN(St)&&Number.isNaN(Ht)?0:Number.isNaN(St)?1:Number.isNaN(Ht)?-1:St-Ht}),(B==="year_asc"||B==="year_desc")&&xe.sort((st,Nt)=>{const St=Number(st.year),Ht=Number(Nt.year);return Number.isNaN(St)&&Number.isNaN(Ht)?0:Number.isNaN(St)?1:Number.isNaN(Ht)?-1:B==="year_asc"?St-Ht:Ht-St}),(B==="views_asc"||B==="views_desc")&&xe.sort((st,Nt)=>{const St=Number(st.views_count),Ht=Number(Nt.views_count);return Number.isNaN(St)&&Number.isNaN(Ht)?0:Number.isNaN(St)?1:Number.isNaN(Ht)?-1:B==="views_asc"?St-Ht:Ht-St}),xe},[t,N,S,B,q,ce,be,V]);return s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"flex items-center justify-between",children:s.jsx("h1",{className:"text-2xl font-bold",children:"Cars"})}),s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsxs("div",{className:"relative w-full sm:w-72",children:[s.jsx(Br,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),s.jsx(Se,{placeholder:"Search make, model, plate, color...",className:"pl-9 h-9",value:j,onChange:xe=>{b(xe.target.value),c(1)}})]}),s.jsx(Se,{type:"number",placeholder:"Agent ID",className:"h-9 w-[100px]",value:v,onChange:xe=>{w(xe.target.value),c(1)},min:1}),s.jsxs(ft,{value:d,onValueChange:xe=>{h(xe),c(1)},children:[s.jsx(ut,{className:"h-9 w-[140px]",children:s.jsx(mt,{placeholder:"Status"})}),s.jsx(ht,{children:xve.map(xe=>s.jsx(ke,{value:xe.value,children:xe.label},xe.value))})]}),s.jsxs(ft,{value:m,onValueChange:xe=>{f(xe),c(1)},children:[s.jsx(ut,{className:"h-9 w-[130px]",children:s.jsx(mt,{placeholder:"Accepted"})}),s.jsx(ht,{children:yve.map(xe=>s.jsx(ke,{value:xe.value,children:xe.label},xe.value))})]}),s.jsxs(ft,{value:g,onValueChange:xe=>{y(xe),c(1)},children:[s.jsx(ut,{className:"h-9 w-[110px]",children:s.jsx(mt,{placeholder:"Visibility"})}),s.jsx(ht,{children:bve.map(xe=>s.jsx(ke,{value:xe.value,children:xe.label},xe.value))})]})]}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[s.jsx(Kt,{className:"h-4 w-4"}),s.jsx("span",{className:"font-semibold text-foreground",children:r.total}),s.jsx("span",{children:"cars"})]}),s.jsx(pe,{variant:"outline",size:"sm",onClick:()=>T(xe=>!xe),children:"More filters"})]})]}),z&&s.jsx("div",{className:"mt-3 rounded-lg border bg-background p-3",children:s.jsxs("div",{className:"flex flex-wrap gap-3 items-end",children:[s.jsxs(ft,{value:B,onValueChange:E,children:[s.jsx(ut,{className:"h-9 w-[180px]",children:s.jsx(mt,{placeholder:"Sort"})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"newest",children:"Newest"}),s.jsx(ke,{value:"price",children:"Price "}),s.jsx(ke,{value:"year_asc",children:"Year "}),s.jsx(ke,{value:"year_desc",children:"Year "}),s.jsx(ke,{value:"views_asc",children:"Views "}),s.jsx(ke,{value:"views_desc",children:"Views "})]})]}),s.jsxs(ft,{value:N[0]??"all",onValueChange:xe=>k(xe==="all"?[]:[xe]),children:[s.jsx(ut,{className:"h-9 w-[160px]",children:s.jsx(mt,{placeholder:"Category"})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"all",children:"All Categories"}),s.jsx(ke,{value:"normal",children:"Normal"}),s.jsx(ke,{value:"luxury",children:"Luxury"}),s.jsx(ke,{value:"sport",children:"Sport"})]})]}),s.jsxs(ft,{value:S[0]??"all",onValueChange:xe=>C(xe==="all"?[]:[xe]),children:[s.jsx(ut,{className:"h-9 w-[150px]",children:s.jsx(mt,{placeholder:"Status"})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"all",children:"All Status"}),s.jsx(ke,{value:"available",children:"Available"}),s.jsx(ke,{value:"reserved",children:"Reserved"})]})]}),s.jsx(Se,{type:"number",placeholder:"Year from",className:"h-9 w-[120px]",value:q,onChange:xe=>Y(xe.target.value)}),s.jsx(Se,{type:"number",placeholder:"Year to",className:"h-9 w-[120px]",value:ce,onChange:xe=>le(xe.target.value)}),s.jsx(Se,{type:"number",placeholder:"Rate from",className:"h-9 w-[120px]",value:be,onChange:xe=>ge(xe.target.value)}),s.jsx(Se,{type:"number",placeholder:"Rate to",className:"h-9 w-[120px]",value:V,onChange:xe=>H(xe.target.value)})]})}),a?s.jsx("p",{className:"text-muted-foreground",children:"Loading cars..."}):s.jsxs(Ue,{children:[s.jsx(qe,{className:"p-0 overflow-x-auto",children:s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"Car"}),s.jsx(_e,{children:"Year"}),s.jsx(_e,{children:"Category"}),s.jsx(_e,{children:"Daily Rate"}),s.jsx(_e,{children:"Agent"}),s.jsx(_e,{children:"Status"}),s.jsx(_e,{children:"Accepted"}),s.jsx(_e,{children:"Views"}),s.jsx(_e,{children:"Actions"})]})}),s.jsxs(Dt,{children:[he.map(xe=>s.jsxs(ze,{children:[s.jsx(fe,{className:"font-medium",children:s.jsxs("span",{className:"item-name-hover inline-flex items-center gap-2 cursor-pointer",title:wve(xe),role:"button",tabIndex:0,onClick:()=>te(xe),children:[xe.make," ",xe.model]})}),s.jsx(fe,{children:xe.year}),s.jsx(fe,{children:s.jsx(We,{variant:"outline",children:xe.car_category})}),s.jsxs(fe,{children:["$",xe.daily_rate]}),s.jsx(fe,{children:s.jsx("span",{className:"car-make-model-hover inline-flex items-center gap-2 cursor-pointer",title:jve(xe),children:xe.agent?.username||""})}),s.jsxs(fe,{children:[xe.status==="available"&&s.jsx(We,{className:"bg-green-500",children:"Available"}),xe.status==="not_available"&&s.jsx(We,{variant:"secondary",children:"Not Available"}),xe.status==="rented"&&s.jsx(We,{variant:"default",children:"Rented"}),xe.status==="maintenance"&&s.jsx(We,{variant:"outline",children:"Maintenance"}),!["available","not_available","rented","maintenance"].includes(xe.status)&&s.jsx(We,{variant:"outline",children:xe.status||""})]}),s.jsxs(fe,{children:[xe.car_accepted?s.jsx(We,{className:"bg-green-600",children:"Yes"}):s.jsx(We,{variant:"secondary",children:"No"}),s.jsx("div",{className:"flex gap-1 mt-1",children:xe.car_accepted?s.jsxs(pe,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:()=>G(xe),title:"Reject car",children:[s.jsx(tr,{className:"h-3 w-3 mr-1"}),"Reject"]}):s.jsxs(pe,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:()=>P(xe),title:"Accept car",children:[s.jsx(ga,{className:"h-3 w-3 mr-1"}),"Accept"]})})]}),s.jsx(fe,{children:xe.views_count}),s.jsx(fe,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pe,{variant:"ghost",size:"icon","aria-label":"View Details",onClick:()=>te(xe),title:"View Details",children:s.jsx(nr,{className:"w-4 h-4"})}),s.jsx(pe,{variant:"ghost",size:"icon","aria-label":"Edit Details",onClick:()=>ee(xe),title:"Edit Details",children:s.jsx(vr,{className:"w-4 h-4"})}),s.jsx(pe,{variant:"ghost",size:"icon","aria-label":"Delete Car",onClick:()=>R("Delete Car","Are you sure you want to delete this car?",()=>we(xe.id)),title:"Remove Car",children:s.jsx(Zs,{className:"w-4 h-4 text-red-500"})})]})})]},xe.id)),he.length===0&&s.jsx(ze,{children:s.jsx(fe,{colSpan:9,className:"text-center text-muted-foreground py-6",children:"No cars found"})})]})]})}),r.last_page>1&&s.jsxs("div",{className:"flex items-center justify-between border-t px-4 py-2",children:[s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Page ",r.current_page," of ",r.last_page," (",r.total," total)"]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(pe,{variant:"outline",size:"sm",disabled:r.current_page<=1,onClick:()=>c(xe=>Math.max(1,xe-1)),children:"Previous"}),s.jsx(pe,{variant:"outline",size:"sm",disabled:r.current_page>=r.last_page,onClick:()=>c(xe=>Math.min(r.last_page,xe+1)),children:"Next"})]})]})]}),s.jsx(Kr,{open:L,onOpenChange:Z,children:s.jsxs(Ir,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[s.jsx(zr,{children:s.jsx(Ur,{children:O==="view-car"?"Car Details":"Edit Car"})}),W?O==="view-car"?s.jsx(Nve,{car:W,imgUrl:J,getStorageUrl:Ee,onEdit:()=>{X({...W}),se("edit-car")},onClose:()=>Z(!1),onAccept:()=>P(W),onReject:()=>G(W),onCarUpdated:xe=>U(xe)}):M&&s.jsx(kve,{car:M,setCar:X,imgUrl:J,onClose:()=>se("view-car"),onSaved:xe=>{U(xe),X({...xe}),se("view-car")}}):s.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})})]})};function wve(t){return[`Car ID: ${t.id??"N/A"}`,`Agent ID : ${t.agent_id??"N/A"}`,`Status: ${t.status??"N/A"}`,`year: ${t.year??"N/A"}`,`Car_category: ${t.car_category??"N/A"}`,`Color: ${t.color??"N/A"}`,`Seats: ${t.seats??"N/A"}`,`Doors: ${t.doors??"N/A"}`,`Cylinder number: ${t.cylinder_number??"N/A"}`,`Transmission: ${t.transmission??"N/A"}`,`wheels drive: ${t.wheels_drive??"N/A"}`,`Daily rate: ${t.daily_rate??"N/A"}`,`License plate: ${t.license_plate??"N/A"}`].join(`
`)}function jve(t){const e=t?.agent;return e?[`ID : ${e.id??"N/A"}`,`Phone number : ${e.phone_number??"N/A"}`,`Email : ${e.email??"N/A"}`,`Verified by admin : ${e.verified_by_admin??"N/A"}`,`Gender : ${e.gender??"N/A"}`,`Birth date : ${_ve(e.birth_date??"N/A")}`,`City : ${e.city??"N/A"}`,`Bio : ${e.bio??"N/A"}`,`Created at : ${Y3(e.created_at??"N/A")}`,`Updated at : ${Y3(e.updated_at??"N/A")}`].join(`
`):"No agent"}function _ve(t){if(!t)return"N/A";const e=new Date(t);return Number.isNaN(e.getTime())?String(t):e.toLocaleDateString("en-US",{month:"numeric",day:"numeric",year:"numeric"})}function Y3(t){if(!t)return"N/A";const e=new Date(t);return Number.isNaN(e.getTime())?String(t):e.toLocaleString("en-US",{timeZone:"Asia/Beirut",month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit",hour12:!0})}function Xc({title:t,items:e,renderItem:r}){const n=Array.isArray(e)?e:[];return n.length===0?null:s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"text-sm font-semibold",children:[t," (",n.length,")"]}),s.jsxs("ul",{className:"text-sm text-muted-foreground list-disc list-inside space-y-0.5 max-h-24 overflow-y-auto",children:[n.slice(0,10).map((a,i)=>s.jsx("li",{children:r(a)},a?.id??i)),n.length>10&&s.jsxs("li",{children:[" and ",n.length-10," more"]})]})]})}function Nve({car:t,imgUrl:e,getStorageUrl:r,onEdit:n,onClose:a,onAccept:i,onReject:o,onCarUpdated:c}){const d=t?.agent||null,[h,m]=_.useState(null),[f,g]=_.useState(null),[y,v]=_.useState(null),{toast:w}=hp(),j=lt.useRef({}),b=(W,U)=>{const L=t?.[U];return r?.(L)||e(L)},N=W=>W&&W.type&&["image/jpeg","image/jpg","image/png"].includes(W.type),k=async(W,U)=>{if(!(!U||!t?.id)){if(!N(U)){w({title:"Invalid file",description:"Please use a JPG or PNG image.",variant:"destructive"});return}g(W);try{const L=await jI(t.id,U,W),Z=L.data||L,O=Z?.car??Z??t;c?.(O),w({title:"Saved",description:`${W} image updated`,variant:"default"})}catch(L){const Z=L.response?.data?.errors?.image?.[0]||L.response?.data?.message||"Failed to replace image";w({title:"Error",description:Z,variant:"destructive"})}finally{g(null),j.current[W]&&(j.current[W].value="")}}},S=async W=>{if(t?.id){m(W);try{const U=await Jxe(t.id,W),L=window.URL.createObjectURL(U),Z=document.createElement("a");Z.href=L,Z.download=`car_${t.id}_${W}.jpg`,Z.click(),window.URL.revokeObjectURL(L)}catch(U){console.error(U)}finally{m(null)}}};function C({label:W,value:U}){return s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:[W," :"]}),s.jsx("span",{className:"text-foreground",children:U??"N/A"})]})}const B=({label:W,ok:U})=>s.jsxs("div",{className:"flex items-center gap-2 whitespace-nowrap",children:[s.jsx("span",{className:"text-muted-foreground",children:W}),s.jsx(We,{className:U?"bg-green-600":"",variant:U?"default":"destructive",children:U?"Yes":"No"})]}),E=({status:W})=>{const U=String(W).toLowerCase()==="available";return s.jsxs("div",{className:"flex items-center gap-2 whitespace-nowrap",children:[s.jsx("span",{className:"text-muted-foreground",children:"Status"}),s.jsx(We,{className:U?"bg-green-600":"",variant:U?"default":"destructive",children:W??"N/A"})]})},z=W=>{if(W==null||W==="")return"N/A";const U=Number(W);return Number.isNaN(U)?String(W):`$${U.toFixed(2)}`},T=W=>!Array.isArray(W)||W.length===0?s.jsx("div",{className:"text-sm text-muted-foreground",children:"N/A"}):s.jsx("div",{className:"flex flex-wrap gap-2",children:W.map((U,L)=>s.jsx(We,{variant:"outline",children:typeof U=="string"?U:U?.name??JSON.stringify(U)},L))});return s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-10 gap-y-3",children:[s.jsx(C,{label:"ID",value:t?.id}),s.jsx(C,{label:"Make",value:t?.make}),s.jsx(C,{label:"Model",value:t?.model}),s.jsx(C,{label:"Year",value:t?.year}),s.jsx(C,{label:"License Plate",value:t?.license_plate}),s.jsx(C,{label:"Color",value:t?.color}),s.jsx(C,{label:"Mileage",value:t?.mileage}),s.jsx(C,{label:"Fuel Type",value:t?.fuel_type}),s.jsx(C,{label:"Transmission",value:t?.transmission}),s.jsx(C,{label:"Wheels Drive",value:t?.wheels_drive}),s.jsx(C,{label:"Category",value:t?.car_category}),s.jsx(C,{label:"Seats",value:t?.seats}),s.jsx(C,{label:"Doors",value:t?.doors}),s.jsx(C,{label:"Daily Rate",value:z(t?.daily_rate)}),s.jsx(C,{label:"Holiday Rate",value:z(t?.holiday_rate)}),s.jsx("div",{className:"pt-1",children:s.jsx(E,{status:t?.status})}),s.jsxs("div",{className:"flex flex-wrap gap-6 pt-1",children:[s.jsx(B,{label:"Car Accepted",ok:!!t?.car_accepted}),s.jsx(B,{label:"With Driver",ok:!!t?.with_driver}),s.jsx(B,{label:"Is Delivered",ok:!!t?.is_delivered})]}),s.jsx(C,{label:"Min Rental Days",value:t?.min_rental_days}),s.jsx(C,{label:"Views Count",value:t?.views_count}),s.jsx(C,{label:"Clicks Count",value:t?.clicks_count}),s.jsx(C,{label:"Search Count",value:t?.search_count}),s.jsx(C,{label:"Cylinder",value:t?.cylinder_number}),s.jsx("div",{className:"pt-1",children:s.jsx(B,{label:"Is Private",ok:!!t?.is_private})})]}),s.jsx("div",{className:"border-t pt-3"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-sm font-semibold",children:"Features"}),T(t?.features)]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-sm font-semibold",children:"Add-ons"}),T(t?.add_ons)]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-sm font-semibold",children:"Notes"}),s.jsx("div",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:t?.notes??"N/A"})]}),s.jsx("div",{className:"border-t pt-3"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"text-sm font-semibold",children:"Agent"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-10 gap-y-3",children:[s.jsx(C,{label:"ID",value:d?.id??t?.agent_id}),s.jsx(C,{label:"Username",value:d?.username??"N/A"}),s.jsx(C,{label:"Phone Number",value:d?.phone_number??"N/A"}),s.jsx(C,{label:"Email",value:d?.email??"N/A"}),s.jsx(C,{label:"Gender",value:d?.gender??"N/A"}),s.jsx(C,{label:"City",value:d?.city??"N/A"})]})]}),s.jsx(Xc,{title:"Bookings",items:t?.bookings,renderItem:W=>`#${W?.id} ${W?.status??""} ${W?.start_date??""}`}),s.jsx(Xc,{title:"Check photos",items:t?.check_photos,renderItem:W=>`#${W?.id}`}),s.jsx(Xc,{title:"Holidays",items:t?.holidays,renderItem:W=>`${W?.date??W?.id}`}),s.jsx(Xc,{title:"Feedbacks",items:t?.feedbacks,renderItem:W=>`#${W?.id} ${W?.rating??""}`}),s.jsx(Xc,{title:"Deposits",items:t?.deposits,renderItem:W=>`#${W?.id} ${W?.amount??""}`}),s.jsx(Xc,{title:"Balances",items:t?.balances,renderItem:W=>`#${W?.id}`}),s.jsx(Xc,{title:"Favorites",items:t?.favorites,renderItem:W=>`User ${W?.user_id??W?.id}`}),s.jsx("div",{className:"border-t pt-3"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx("div",{className:"text-sm font-semibold",children:"Car Images  drag & drop or click Replace"}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsx("span",{className:"text-muted-foreground",children:"Main"}),s.jsxs("div",{className:"flex gap-1",children:[s.jsx("input",{ref:W=>j.current.main=W,type:"file",accept:"image/jpeg,image/jpg,image/png",className:"hidden",onChange:W=>{const U=W.target.files?.[0];U&&k("main",U)}}),s.jsx(pe,{variant:"outline",size:"sm",className:"h-7",disabled:f==="main",onClick:()=>j.current.main?.click(),children:f==="main"?"Uploading":"Replace"}),s.jsxs(pe,{variant:"outline",size:"sm",disabled:h==="main",onClick:()=>S("main"),children:[s.jsx(Wu,{className:"h-4 w-4 mr-1"}),"Download"]})]})]}),s.jsxs("div",{className:`relative rounded-md border transition-colors ${y==="main"?"ring-2 ring-[#00A19C] bg-[#00A19C]/10":""}`,onDragOver:W=>{W.preventDefault(),W.stopPropagation(),v("main")},onDragLeave:W=>{W.preventDefault(),v(U=>U==="main"?null:U)},onDrop:W=>{W.preventDefault(),v(null);const U=W.dataTransfer?.files?.[0];U&&k("main",U)},children:[s.jsx("img",{src:b("main_image_full_url","main_image_url"),alt:"Main Car",className:"w-full max-h-[260px] object-cover rounded-md border-0"}),y==="main"&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center rounded-md bg-black/30 text-white text-sm font-medium",children:"Drop image here"})]})]}),s.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{label:"Front",type:"front",fullKey:"front_image_full_url",pathKey:"front_image_url"},{label:"Back",type:"back",fullKey:"back_image_full_url",pathKey:"back_image_url"},{label:"Left",type:"left",fullKey:"left_image_full_url",pathKey:"left_image_url"},{label:"Right",type:"right",fullKey:"right_image_full_url",pathKey:"right_image_url"}].map(({label:W,type:U,fullKey:L,pathKey:Z})=>s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center justify-between gap-1",children:[s.jsx("span",{className:"text-muted-foreground",children:W}),s.jsxs("div",{className:"flex gap-0.5",children:[s.jsx("input",{ref:O=>j.current[U]=O,type:"file",accept:"image/jpeg,image/jpg,image/png",className:"hidden",onChange:O=>{const se=O.target.files?.[0];se&&k(U,se)}}),s.jsx(pe,{variant:"ghost",size:"sm",className:"h-6 px-1 text-xs",disabled:f===U,onClick:()=>j.current[U]?.click(),title:"Replace",children:f===U?"":"Replace"}),s.jsx(pe,{variant:"ghost",size:"sm",className:"h-6 px-1",disabled:h===U,onClick:()=>S(U),title:"Download",children:s.jsx(Wu,{className:"h-3 w-3"})})]})]}),s.jsxs("div",{className:`relative rounded-md border transition-colors ${y===U?"ring-2 ring-[#00A19C] bg-[#00A19C]/10":""}`,onDragOver:O=>{O.preventDefault(),O.stopPropagation(),v(U)},onDragLeave:O=>{O.preventDefault(),v(se=>se===U?null:se)},onDrop:O=>{O.preventDefault(),v(null);const se=O.dataTransfer?.files?.[0];se&&k(U,se)},children:[s.jsx("img",{src:b(L,Z),alt:W,className:"h-[120px] w-full object-cover rounded-md border-0"}),y===U&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center rounded-md bg-black/30 text-white text-xs font-medium",children:"Drop"})]})]},U))})]}),s.jsxs("div",{className:"pt-3 flex flex-wrap gap-2",children:[!t?.car_accepted&&i&&s.jsxs(pe,{className:"bg-green-600 hover:bg-green-700",onClick:i,children:[s.jsx(ga,{className:"h-4 w-4 mr-2"}),"Accept Car"]}),t?.car_accepted&&o&&s.jsxs(pe,{variant:"destructive",onClick:o,children:[s.jsx(tr,{className:"h-4 w-4 mr-2"}),"Reject Car"]}),s.jsx(pe,{className:"flex-1",onClick:n,children:"Edit Car"}),s.jsx(pe,{variant:"outline",className:"w-28",onClick:a,children:"Close"})]})]})}const Sve=[{type:"main",label:"Main",fullKey:"main_image_full_url",pathKey:"main_image_url"},{type:"front",label:"Front",fullKey:"front_image_full_url",pathKey:"front_image_url"},{type:"back",label:"Back",fullKey:"back_image_full_url",pathKey:"back_image_url"},{type:"left",label:"Left",fullKey:"left_image_full_url",pathKey:"left_image_url"},{type:"right",label:"Right",fullKey:"right_image_full_url",pathKey:"right_image_url"}];function Gs({label:t,value:e,onChange:r,type:n="text",disabled:a=!1}){const i=e==null?"":String(e),o=c=>{if(n==="number"){const d=c.target.value===""?"":Number(c.target.value);r(Number.isNaN(d)?c.target.value:d)}else r(c.target.value)};return s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:t}),s.jsx(Se,{type:n,value:i,onChange:o,disabled:a,className:"h-8"})]})}function K3({label:t,value:e,onChange:r,options:n,emptySentinel:a}){const i=a?(e??"")||a:String(e??""),o=c=>r(a&&c===a?"":c);return s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:t}),s.jsxs(ft,{value:i,onValueChange:o,children:[s.jsx(ut,{className:"h-8",children:s.jsx(mt,{placeholder:"Select..."})}),s.jsx(ht,{children:n.map(c=>{const d=c.value===""||c.value==null?a||"__none__":String(c.value);return s.jsx(ke,{value:d,children:c.label},d)})})]})]})}const Cve=["image/jpeg","image/jpg","image/png"];function kve({car:t,setCar:e,imgUrl:r,onClose:n,onSaved:a}){const{toast:i}=hp(),[o,c]=_.useState(null),[d,h]=_.useState(null),m=lt.useRef({}),f=(C,B)=>e(E=>({...E,[C]:B})),g=(C,B)=>{const E=t?.[C];return E||r(t?.[B])},y=C=>C&&C.type&&Cve.includes(C.type),v=async(C,B)=>{if(!(!B||!t?.id)){if(!y(B)){i({title:"Invalid file",description:"Please use a JPG or PNG image.",variant:"destructive"});return}c(C);try{const E=await jI(t.id,B,C),z=E.data||E,T=z?.car??z??t;e(T),i({title:"Saved",description:`${C} image updated`,variant:"default"})}catch(E){const z=E.response?.data?.errors?.image?.[0]||E.response?.data?.message||"Failed to replace image";i({title:"Error",description:z,variant:"destructive"})}finally{c(null),m.current[C]&&(m.current[C].value="")}}},w=C=>{if(C==null||C==="")return"";const B=Number(C);return Number.isNaN(B)?C:B},j=C=>!Array.isArray(C)||C.length===0?s.jsx("div",{className:"text-sm text-muted-foreground",children:"N/A"}):s.jsx("div",{className:"flex flex-wrap gap-1.5",children:C.map((B,E)=>s.jsx(We,{variant:"outline",children:typeof B=="string"?B:B?.name??JSON.stringify(B)},E))}),b=({label:C,value:B,onChange:E})=>s.jsxs("div",{className:"flex items-center justify-between gap-2 py-1",children:[s.jsx("div",{className:"text-sm",children:C}),s.jsx("button",{type:"button",role:"switch","aria-checked":!!B,onClick:()=>E(!B),className:["relative inline-flex h-5 w-10 shrink-0 items-center rounded-full transition-colors",B?"bg-teal-600":"bg-muted","focus:outline-none focus:ring-2 focus:ring-teal-500/40"].join(" "),children:s.jsx("span",{className:["inline-block h-4 w-4 transform rounded-full bg-white transition-transform shadow",B?"translate-x-5":"translate-x-1"].join(" ")})})]}),N=async()=>{try{const C={make:t.make,model:t.model,year:t.year,cylinder_number:t.cylinder_number==="__none__"||t.cylinder_number===""?void 0:t.cylinder_number,license_plate:t.license_plate,color:t.color,mileage:t.mileage,fuel_type:t.fuel_type,transmission:t.transmission,wheels_drive:t.wheels_drive,car_category:t.car_category,seats:t.seats,doors:t.doors,daily_rate:w(t.daily_rate),holiday_rate:w(t.holiday_rate),is_deposit:!!t.is_deposit,deposit:w(t.deposit),status:t.status,car_accepted:!!t.car_accepted,is_private:!!t.is_private,is_delivered:!!t.is_delivered,delivery_fees:w(t.delivery_fees),with_driver:!!t.with_driver,driver_fees:w(t.driver_fees),max_driving_mileage:t.max_driving_mileage!=null&&t.max_driving_mileage!==""?Number(t.max_driving_mileage):void 0,min_rental_days:t.min_rental_days,notes:t.notes,agent_id:t.agent_id!=null&&t.agent_id!==""?Number(t.agent_id):void 0,insurance_expiry:t.insurance_expiry||void 0,registration_expiry:t.registration_expiry||void 0,views_count:t.views_count!=null&&t.views_count!==""?Number(t.views_count):void 0,clicks_count:t.clicks_count!=null&&t.clicks_count!==""?Number(t.clicks_count):void 0,search_count:t.search_count!=null&&t.search_count!==""?Number(t.search_count):void 0},B=await wI(t.id,C),E=B.data||B,z=E?.car??E??t;i({title:"Saved",description:"Car updated successfully"}),a?.(z)}catch(C){if(C.response?.status===422&&C.response?.data?.errors){const B=Object.entries(C.response.data.errors).map(([E,z])=>`${E}: ${(z||[]).join(", ")}`).join("; ");i({title:"Validation Error",description:B||"Invalid data",variant:"destructive"})}else i({title:"Error",description:"Failed to update car",variant:"destructive"})}},k=[{label:"",value:""},{label:"4",value:"4"},{label:"6",value:"6"},{label:"8",value:"8"},{label:"10",value:"10"},{label:"12",value:"12"}],S=[{label:"Available",value:"available"},{label:"Not Available",value:"not_available"},{label:"Rented",value:"rented"},{label:"Maintenance",value:"maintenance"}];return s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-x-3 gap-y-2",children:[s.jsx(Gs,{label:"ID",value:t?.id,onChange:()=>{},disabled:!0}),s.jsx(Gs,{label:"Make",value:t?.make??"",onChange:C=>f("make",C)}),s.jsx(Gs,{label:"Model",value:t?.model??"",onChange:C=>f("model",C)}),s.jsx(Gs,{label:"Year",value:t?.year??"",onChange:C=>f("year",C),type:"number"}),s.jsx(K3,{label:"Cylinder",value:t?.cylinder_number,onChange:C=>f("cylinder_number",C),options:k,emptySentinel:"__none__"}),s.jsx(Gs,{label:"License Plate",value:t?.license_plate??"",onChange:C=>f("license_plate",C)}),s.jsx(Gs,{label:"Color",value:t?.color??"",onChange:C=>f("color",C)}),s.jsx(Gs,{label:"Mileage",value:t?.mileage??"",onChange:C=>f("mileage",C),type:"number"}),s.jsx(Gs,{label:"Fuel Type",value:t?.fuel_type??"",onChange:C=>f("fuel_type",C)}),s.jsx(Gs,{label:"Transmission",value:t?.transmission??"",onChange:C=>f("transmission",C)}),s.jsx(Gs,{label:"Wheels Drive",value:t?.wheels_drive??"",onChange:C=>f("wheels_drive",C)}),s.jsx(Gs,{label:"Category",value:t?.car_category??"",onChange:C=>f("car_category",C)}),s.jsx(Gs,{label:"Seats",value:t?.seats??"",onChange:C=>f("seats",C),type:"number"}),s.jsx(Gs,{label:"Doors",value:t?.doors??"",onChange:C=>f("doors",C),type:"number"})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-x-3 gap-y-2",children:[s.jsx(Gs,{label:"Daily Rate",value:t?.daily_rate??"",onChange:C=>f("daily_rate",C),type:"number"}),s.jsx(Gs,{label:"Holiday Rate",value:t?.holiday_rate??"",onChange:C=>f("holiday_rate",C),type:"number"}),s.jsx(Gs,{label:"Deposit",value:t?.deposit??"",onChange:C=>f("deposit",C),type:"number"}),s.jsx(Gs,{label:"Delivery Fees",value:t?.delivery_fees??"",onChange:C=>f("delivery_fees",C),type:"number"}),s.jsx(Gs,{label:"Driver Fees",value:t?.driver_fees??"",onChange:C=>f("driver_fees",C),type:"number"})]}),s.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-x-3 gap-y-2",children:[s.jsx(Gs,{label:"Min Rental Days",value:t?.min_rental_days??"",onChange:C=>f("min_rental_days",C),type:"number"}),s.jsx(Gs,{label:"Max Driving Mileage",value:t?.max_driving_mileage??"",onChange:C=>f("max_driving_mileage",C),type:"number"}),s.jsx(Gs,{label:"Agent ID",value:t?.agent_id??"",onChange:C=>f("agent_id",C),type:"number"}),s.jsx(Gs,{label:"Insurance Expiry",value:t?.insurance_expiry??"",onChange:C=>f("insurance_expiry",C),type:"date"}),s.jsx(Gs,{label:"Registration Expiry",value:t?.registration_expiry??"",onChange:C=>f("registration_expiry",C),type:"date"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-x-3 gap-y-2",children:[s.jsx(Gs,{label:"Views",value:t?.views_count??"",onChange:C=>f("views_count",C),type:"number"}),s.jsx(Gs,{label:"Clicks",value:t?.clicks_count??"",onChange:C=>f("clicks_count",C),type:"number"}),s.jsx(Gs,{label:"Search",value:t?.search_count??"",onChange:C=>f("search_count",C),type:"number"})]}),s.jsx("div",{className:"border-t border-border pt-2 mt-2"}),s.jsxs("div",{className:"flex flex-wrap gap-2 text-sm",children:[s.jsxs("div",{className:"w-full sm:w-auto min-w-[120px]",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-0.5",children:"Features"}),j(t?.features)]}),s.jsxs("div",{className:"w-full sm:w-auto min-w-[120px]",children:[s.jsx("div",{className:"text-xs text-muted-foreground mb-0.5",children:"Add-ons"}),j(t?.add_ons)]})]}),s.jsx("div",{className:"border-t border-border pt-2 mt-2"}),s.jsxs("div",{className:"space-y-2",children:[s.jsx("div",{className:"text-xs font-medium text-muted-foreground",children:"Car Images  drag & drop or click Replace"}),s.jsxs("div",{className:"flex flex-col gap-2",children:[s.jsxs("div",{className:"flex items-center justify-between gap-2",children:[s.jsx("span",{className:"text-muted-foreground text-sm",children:"Main"}),s.jsx("input",{ref:C=>m.current.main=C,type:"file",accept:"image/jpeg,image/jpg,image/png",className:"hidden",onChange:C=>{const B=C.target.files?.[0];B&&v("main",B)}}),s.jsx(pe,{type:"button",variant:"outline",size:"sm",className:"h-7",disabled:o==="main",onClick:()=>m.current.main?.click(),children:o==="main"?"Uploading":"Replace"})]}),s.jsxs("div",{className:`relative rounded border transition-colors ${d==="main"?"ring-2 ring-[#00A19C] bg-[#00A19C]/10":""}`,onDragOver:C=>{C.preventDefault(),C.stopPropagation(),h("main")},onDragLeave:C=>{C.preventDefault(),h(B=>B==="main"?null:B)},onDrop:C=>{C.preventDefault(),h(null);const B=C.dataTransfer?.files?.[0];B&&v("main",B)},children:[s.jsx("a",{href:g("main_image_full_url","main_image_url"),target:"_blank",rel:"noreferrer",className:"block",children:s.jsx("img",{src:g("main_image_full_url","main_image_url"),alt:"Main",className:"w-full max-h-[200px] object-cover rounded border-0"})}),d==="main"&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center rounded bg-black/30 text-white text-sm font-medium",children:"Drop image here"})]})]}),s.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:Sve.filter(C=>C.type!=="main").map(({type:C,label:B,fullKey:E,pathKey:z})=>s.jsxs("div",{className:"space-y-0.5",children:[s.jsxs("div",{className:"flex items-center justify-between gap-1",children:[s.jsx("span",{className:"text-muted-foreground text-xs",children:B}),s.jsx("input",{ref:T=>m.current[C]=T,type:"file",accept:"image/jpeg,image/jpg,image/png",className:"hidden",onChange:T=>{const W=T.target.files?.[0];W&&v(C,W)}}),s.jsx(pe,{type:"button",variant:"outline",size:"sm",className:"h-6 px-1 text-xs",disabled:o===C,onClick:()=>m.current[C]?.click(),children:o===C?"":"Replace"})]}),s.jsxs("div",{className:`relative rounded border transition-colors ${d===C?"ring-2 ring-[#00A19C] bg-[#00A19C]/10":""}`,onDragOver:T=>{T.preventDefault(),T.stopPropagation(),h(C)},onDragLeave:T=>{T.preventDefault(),h(W=>W===C?null:W)},onDrop:T=>{T.preventDefault(),h(null);const W=T.dataTransfer?.files?.[0];W&&v(C,W)},children:[s.jsx("a",{href:g(E,z),target:"_blank",rel:"noreferrer",className:"block",children:s.jsx("img",{src:g(E,z),alt:B,className:"h-[80px] w-full object-cover rounded border-0"})}),d===C&&s.jsx("div",{className:"absolute inset-0 flex items-center justify-center rounded bg-black/30 text-white text-xs font-medium",children:"Drop"})]})]},C))})]}),s.jsx("div",{className:"border-t border-border pt-2 mt-2"}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-3 gap-y-2",children:[s.jsx(K3,{label:"Status",value:t?.status,onChange:C=>f("status",C),options:S}),s.jsxs("div",{className:"space-y-0.5",children:[s.jsx("div",{className:"text-xs text-muted-foreground",children:"Notes"}),s.jsx("textarea",{className:"w-full border rounded-md p-2 min-h-[72px] text-sm resize-y",value:t?.notes??"",onChange:C=>f("notes",C.target.value)})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-y-1",children:[s.jsx(b,{label:"Car Accepted",value:t?.car_accepted,onChange:C=>f("car_accepted",C?1:0)}),s.jsx(b,{label:"Is Private",value:t?.is_private,onChange:C=>f("is_private",C?1:0)}),s.jsx(b,{label:"Is Deposit",value:t?.is_deposit,onChange:C=>f("is_deposit",C?1:0)}),s.jsx(b,{label:"With Driver",value:t?.with_driver,onChange:C=>f("with_driver",C?1:0)}),s.jsx(b,{label:"Is Delivered",value:t?.is_delivered,onChange:C=>f("is_delivered",C?1:0)})]}),s.jsxs("div",{className:"pt-2 flex gap-2",children:[s.jsx(pe,{className:"flex-1 h-8",onClick:N,children:"Update Car"}),s.jsx(pe,{variant:"outline",className:"w-24 h-8",onClick:n,children:"Cancel"})]})]})}const Ave={pending:"bg-yellow-100 text-yellow-700",confirmed:"bg-green-100 text-green-700",cancelled:"bg-red-100 text-red-700",completed:"bg-blue-100 text-blue-700",rejected:"bg-gray-200 text-gray-700"};function Eve(t,e=14){return t?t.length>e?`${t.slice(0,e)}...`:t:"N/A"}function Tve(){const[t,e]=_.useState([]),[r,n]=_.useState({}),[a,i]=_.useState(!1),[o,c]=_.useState(""),[d,h]=_.useState([]),[m,f]=_.useState("newest"),[g,y]=_.useState("all"),[v,w]=_.useState(!1),[j,b]=_.useState(null),[N,k]=_.useState(!1),[S,C]=_.useState(null),[B,E]=_.useState(null),[z,T]=_.useState(!1),[W,U]=_.useState(""),L=async()=>{i(!0);try{const le={page:1,per_page:50},{data:be}=await Oe.get("/admin/bookings",{params:le}),ge=be.bookings?.data||[];e(ge),ge.forEach(V=>{r[V.client_id]||Z(V.client_id)})}catch(le){console.error(le)}finally{i(!1)}},Z=async le=>{try{const{data:be}=await Oe.get(`/admin/users/${le}`),ge=be.user?.first_name&&be.user?.last_name?`${be.user.first_name} ${be.user.last_name}`:be.user?.username||`User #${le}`;n(V=>({...V,[le]:ge}))}catch{n(be=>({...be,[le]:`User #${le}`}))}};_.useEffect(()=>{L()},[]);const O=async le=>{try{const{data:be}=await Oe.get(`/admin/bookings/${le}`);return be.booking??be.data??be}catch{return ve({title:"Error",description:"Failed to fetch booking details",variant:"destructive"}),null}},se=_.useMemo(()=>{let le=[...t];if(o){const be=o.toLowerCase().trim();le=le.filter(ge=>{const V=(r[ge.client_id]??"").toLowerCase(),H=(ge.car?.make??"").toLowerCase(),me=(ge.car?.model??"").toLowerCase(),Q=`${H} ${me}`.trim(),te=(ge.car?.agent?.username??"").toLowerCase();return[ge.id,ge.client_id,ge.car_id,V,H,me,Q,te].join(" ").toLowerCase().includes(be)})}return d.length>0&&(le=le.filter(be=>d.includes(be.booking_request_status))),g!=="all"&&(le=le.filter(be=>(be.payment_status??"").toLowerCase()===g)),le.sort((be,ge)=>{if(m==="newest"){const V=new Date(be.created_at??0).getTime(),H=new Date(ge.created_at??0).getTime();return H!==V?H-V:Number(ge.id)-Number(be.id)}if(m==="client_az"||m==="client_za"){const V=(r[be.client_id]??"").toLowerCase(),H=(r[ge.client_id]??"").toLowerCase();return V<H?m==="client_az"?-1:1:V>H?m==="client_az"?1:-1:Number(ge.id)-Number(be.id)}return m==="total_high"?Number(ge.total_booking_price||0)-Number(be.total_booking_price||0):m==="total_low"?Number(be.total_booking_price||0)-Number(ge.total_booking_price||0):0}),le},[t,o,r,d,g,m]),K=_.useMemo(()=>se.reduce((le,be)=>le+Number(be.total_booking_price||0),0),[se]),M=_.useMemo(()=>{const le={pending:0,confirmed:0,cancelled:0,completed:0,rejected:0};for(const be of t){const ge=(be.booking_request_status??"").toLowerCase();le[ge]!==void 0&&(le[ge]+=1)}return le},[t]),X=le=>{C({...le}),k(!0)},$=async()=>{try{const le={booking_request_status:S.booking_request_status,payment_status:S.payment_status,payment_method:S.payment_method,total_booking_price:S.total_booking_price,extra_charge:S.extra_charge,with_driver:S.with_driver,is_delivered:S.is_delivered,start_datetime:S.start_datetime,end_datetime:S.end_datetime,pickup_location:S.pickup_location,dropoff_location:S.dropoff_location,reason_of_booking:S.reason_of_booking};await Oe.put(`/admin/bookings/${S.id}`,le),ve.success("Booking updated successfully"),k(!1),L()}catch{ve.error("Failed to update booking")}},oe=async le=>{await Oe.post(`/admin/bookings/${le}/force-complete`),L()},q="/avatar.png",Y="https://rento-lb.com/api/storage/",ce=le=>{const be=le?.client.profile_picture;if(!be)return q;if(be.startsWith("http"))return be;const ge=be.startsWith("/")?be.slice(1):be;return Y+ge};return s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-xl font-semibold",children:"Bookings"}),s.jsxs("div",{className:"flex items-center gap-3",children:[s.jsxs("div",{className:"px-3 py-1.5 rounded-lg border bg-muted text-sm font-semibold",children:[s.jsxs("p",{children:["Total Bookings : ",se.length," "]}),s.jsxs("p",{children:["Total : $",K.toLocaleString()]})]}),s.jsx(Se,{placeholder:"Search client / car / agent  ",className:"h-8 w-44 text-xs",value:o,onChange:le=>c(le.target.value)}),s.jsxs(Ue,{className:"p-3",children:[s.jsx("div",{className:"text-sm font-medium mb-2",children:"Status"}),s.jsx("div",{className:"flex flex-wrap gap-4",children:["pending","confirmed","cancelled","completed","rejected"].map(le=>{const be=d.includes(le);return s.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[s.jsx("input",{type:"checkbox",checked:be,onChange:ge=>{const V=ge.target.checked;h(H=>V?[...H,le]:H.filter(me=>me!==le))}}),s.jsxs("span",{className:"capitalize flex items-center gap-2",children:[le,s.jsx("span",{className:"inline-flex items-center justify-center h-5 min-w-6 px-2 rounded-full text-[11px] font-semibold bg-muted text-foreground",children:M?.[le]??0})]})]},le)})}),d.length>0&&s.jsx("button",{type:"button",className:"mt-2 text-xs text-muted-foreground underline",onClick:()=>h([]),children:"Clear status filter"})]}),s.jsx("div",{className:"w-44",children:s.jsxs(ft,{value:g,onValueChange:y,children:[s.jsx(ut,{className:"h-8 text-xs",children:s.jsx(mt,{placeholder:"Payment status"})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"all",children:"All Payments"}),s.jsx(ke,{value:"pending",children:"Pending"}),s.jsx(ke,{value:"paid",children:"Paid"})]})]})}),s.jsx("div",{className:"w-44",children:s.jsxs(ft,{value:m,onValueChange:f,children:[s.jsx(ut,{className:"h-8 text-xs",children:s.jsx(mt,{placeholder:"Sort by"})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"newest",children:"Newest"}),s.jsx(ke,{value:"client_az",children:"Client A - Z"}),s.jsx(ke,{value:"client_za",children:"Client Z - A"}),s.jsx(ke,{value:"total_high",children:"Total High  Low"}),s.jsx(ke,{value:"total_low",children:"Total Low  High"})]})]})}),s.jsx(pe,{size:"icon",variant:"ghost","aria-label":"Refresh",onClick:L,children:s.jsx(Mt,{size:16})})]})]}),s.jsx("div",{className:"rounded-xl border",children:s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Client"}),s.jsx(_e,{children:"Car"}),s.jsx(_e,{children:"Agent"}),s.jsx(_e,{children:"Status"}),s.jsx(_e,{children:"Payment"}),s.jsx(_e,{children:"Total"}),s.jsx(_e,{className:"text-right",children:"Actions"})]})}),s.jsxs(Dt,{children:[se.map(le=>s.jsxs(ze,{children:[s.jsx(fe,{children:s.jsxs("span",{className:"item-name-hover inline-flex items-center gap-2 cursor-pointer",title:Mve(le),onClick:()=>X3(le.id,O,E,U,T),children:[le.id," "]})}),s.jsx(fe,{children:s.jsxs("span",{className:"item-name-hover inline-flex items-center gap-2 cursor-pointer",title:Rve(le),children:[s.jsx("img",{src:ce(le),alt:le.client.username||"User",className:"h-7 w-7 rounded-full object-cover",onError:be=>{be.currentTarget.onerror=null,be.currentTarget.src="/avatar.png"}}),Eve(r[le.client_id]||`User #${le.client_id}`,14)]})}),s.jsx(fe,{children:s.jsx("span",{className:"item-name-hover inline-flex items-center gap-2 cursor-pointer",title:Dve(le),children:le.car?`${le.car.make} ${le.car.model}`:`#${le.car_id}`})}),s.jsx(fe,{children:s.jsx("span",{className:"item-name-hover inline-flex items-center gap-2 cursor-pointer",title:Pve(le),children:le.car?.agent?.username??""})}),s.jsxs(fe,{className:"flex items-center gap-2",children:[s.jsx(We,{className:Ave[le.booking_request_status],children:le.booking_request_status}),le.booking_request_status==="confirmed"?s.jsx(Gr,{className:"w-4 h-4 text-green-600"}):s.jsx(Lu,{className:"w-4 h-4 text-red-500"})]}),s.jsx(fe,{children:s.jsx(We,{variant:le.payment_status==="paid"?"default":"secondary",children:le.payment_status})}),s.jsxs(fe,{children:["$",le.total_booking_price]}),s.jsxs(fe,{className:"flex justify-end gap-1",children:[s.jsx(pe,{size:"icon",variant:"ghost","aria-label":"View",onClick:()=>X3(le.id,O,E,U,T),title:"View Details",children:s.jsx(nr,{size:16})}),s.jsx(pe,{size:"icon",variant:"ghost","aria-label":"Edit",onClick:()=>X(le),title:"Edit Details",children:s.jsx(vr,{size:16})}),le.booking_request_status==="confirmed"?s.jsx(pe,{size:"icon",variant:"ghost","aria-label":"Force complete",title:"Confirmed",onClick:()=>oe(le.id),children:s.jsx(Gr,{size:16,className:"text-green-600"})}):s.jsx(pe,{size:"icon",variant:"ghost","aria-label":"Disabled",disabled:!0,children:s.jsx(rG,{size:16})})]})]},le.id)),!a&&se.length===0&&s.jsx(ze,{children:s.jsx(fe,{colSpan:7,className:"text-center py-10 text-muted-foreground",children:"No bookings found"})})]})]})}),s.jsx(Kr,{open:z,onOpenChange:T,children:s.jsxs(Ir,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(zr,{children:[s.jsx(Ur,{children:"Booking Details"}),s.jsx(Hi,{children:"Complete booking information (read-only)."})]}),W==="view-booking"&&B&&s.jsx("div",{className:"space-y-6 text-sm",children:s.jsx(Ove,{booking:B,clients:r,onClose:()=>T(!1)})})]})}),s.jsx(Kr,{open:N,onOpenChange:k,children:s.jsxs(Ir,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[s.jsxs(zr,{children:[s.jsx(Ur,{children:"Edit Booking"}),s.jsx(Hi,{children:"All fields below are editable"})]}),S&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"Status"}),s.jsxs(ft,{value:S.booking_request_status,onValueChange:le=>C({...S,booking_request_status:le}),children:[s.jsx(ut,{children:s.jsx(mt,{})}),s.jsx(ht,{children:["pending","confirmed","cancelled","completed","rejected"].map(le=>s.jsx(ke,{value:le,children:le},le))})]})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Payment Status"}),s.jsxs(ft,{value:S.payment_status,onValueChange:le=>C({...S,payment_status:le}),children:[s.jsx(ut,{children:s.jsx(mt,{})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"pending",children:"Pending"}),s.jsx(ke,{value:"paid",children:"Paid"}),s.jsx(ke,{value:"failed",children:"Failed"})]})]})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Total Price"}),s.jsx(Se,{type:"number",value:S.total_booking_price,onChange:le=>C({...S,total_booking_price:le.target.value})})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Extra Charge"}),s.jsx(Se,{type:"number",value:S.extra_charge||0,onChange:le=>C({...S,extra_charge:le.target.value})})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Pickup Location"}),s.jsx(Se,{value:S.pickup_location||"",onChange:le=>C({...S,pickup_location:le.target.value})})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Dropoff Location"}),s.jsx(Se,{value:S.dropoff_location||"",onChange:le=>C({...S,dropoff_location:le.target.value})})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Start"}),s.jsx(Se,{type:"datetime-local",value:S.start_datetime?.slice(0,16),onChange:le=>C({...S,start_datetime:le.target.value})})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"End"}),s.jsx(Se,{type:"datetime-local",value:S.end_datetime?.slice(0,16),onChange:le=>C({...S,end_datetime:le.target.value})})]})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Reason / Notes"}),s.jsx("textarea",{className:"w-full border rounded-md p-2",rows:3,value:S.reason_of_booking||"",onChange:le=>C({...S,reason_of_booking:le.target.value})})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(pe,{variant:"outline",onClick:()=>k(!1),children:"Cancel"}),s.jsx(pe,{onClick:$,children:"Save Changes"})]})]})]})})]})}async function X3(t,e,r,n,a){const i=await e(t);i&&(r(i),n("view-booking"),a(!0))}function Rve(t){return t?[`User ID : ${t.client.id??"N/A"}`,`username : ${t.client.username??"N/A"}`,`Phone Number : ${t.client.phone_number??"N/A"}`,`Email : ${t.client.email??"N/A"}`,`verified By Admin : ${t.client.verified_by_admin??"N/A"}`,`Gender : ${t.client.gender??"N/A"}`,`Birth Date : ${Z9(t.client.birth_date??"N/A")}`,`city : ${t.client.city??"N/A"}`,`bio : ${t.client.bio??"N/A"}`].join(`
`):""}function Dve(t){return t?[`Car ID : ${t.car.id??"N/A"}`,`Agent ID : ${t.car.agent_id??"N/A"}`,`Year : ${t.car.year??"N/A"}`,`Cylinder Number : ${t.car.cylinder_number??"N/A"}`,`License Plate : ${t.car.license_plate??"N/A"}`,`Color : ${t.car.color??"N/A"}`,`Mileage : ${t.car.mileage??"N/A"}`,`Transmission : ${t.car.transmission??"N/A"}`,`Wheels Drive : ${t.car.wheels_drive??"N/A"}`,`Category : ${t.car.car_category??"N/A"}`,`Seats : ${t.car.seats??"N/A"}`,`Doors : ${t.car.doors??"N/A"}`,`Daily_rate : ${t.car.daily_rate??"N/A"}`,`hHliday Rate : ${t.car.holiday_rate??"N/A"}`,`Status : ${t.car.status??"N/A"}`].join(`
`):""}function Mve(t){return t?[`Client Id : ${t.client_id??"N/A"}`,`Car Id : ${t.car_id??"N/A"}`,`Reason Of Booking : ${t.reason_of_booking??"N/A"}`,`Total Booking Price : ${t.total_booking_price??"N/A"}`,`Is Paid Online : ${t.is_paid_online??"N/A"}`,`Is Delivered : ${t.is_delivered??"N/A"}`,`Pickup Location : ${t.pickup_location??"N/A"}`,`Dropoff Location : ${t.dropoff_location??"N/A"}`].join(`
`):""}function Pve(t){return t?[`ID : ${t.car?.agent?.id??"N/A"}`,`Username : ${t.car?.agent?.username??"N/A"}`,`First Name : ${t.car?.agent?.first_name??"N/A"}`,`Last Name : ${t.car?.agent?.last_name??"N/A"}`,`Real User Id : ${t.car?.agent?.real_user_id??"N/A"}`,`Email : ${t.car?.agent?.email??"N/A"}`,`Verified_by_admin : ${t.car?.agent?.verified_by_admin??"N/A"}`,`Gender : ${t.car?.agent?.gender??"N/A"}`,`Birth date : ${Z9(t.car?.agent?.birth_date??"N/A")}`,`City : ${t.car?.agent?.city??"N/A"}`,`Bio : ${t.car?.agent?.bio??"N/A"}`].join(`
`):""}function Z3(t){if(!t)return"N/A";const e=new Date(t);return Number.isNaN(e.getTime())?String(t):e.toLocaleString("en-US",{timeZone:"Asia/Beirut",month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit",hour12:!0})}function Z9(t){if(!t)return"N/A";const e=new Date(t);return Number.isNaN(e.getTime())?String(t):e.toLocaleString("en-US",{timeZone:"Asia/Beirut",month:"numeric",day:"numeric",year:"numeric"})}function q1(t){if(t==null||t==="")return"N/A";const e=Number(t);return Number.isNaN(e)?String(t):`$${e.toLocaleString("en-US")}`}function Ove({booking:t,clients:e,onClose:r}){const n=t?.client||{},a=t?.car||{};function i({label:g,value:y}){return s.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:[g," :"]}),s.jsx("span",{className:"text-foreground break-words",children:y??"N/A"})]})}const o=({label:g,value:y,tone:v="neutral"})=>{const w=v==="teal"?"bg-teal-600 text-white":v==="red"?"bg-red-600 text-white":v==="yellow"?"bg-yellow-500 text-white":"bg-muted text-foreground";return s.jsxs("div",{className:"flex items-center gap-2 whitespace-nowrap",children:[s.jsx("span",{className:"text-muted-foreground",children:g}),s.jsx("span",{className:`inline-flex items-center justify-center px-2 h-5 rounded text-xs font-semibold leading-none ${w}`,children:y??"N/A"})]})},c=t?.booking_request_status??"N/A",d=c==="completed"?"teal":c==="pending"?"yellow":c==="cancelled"||c==="rejected"?"red":"neutral",h=t?.payment_status??"N/A",m=h==="paid"?"teal":h==="pending"?"yellow":h==="failed"?"red":"neutral",f=(n?.first_name&&n?.last_name?`${n.first_name} ${n.last_name}`:n?.username)||e?.[t?.client_id]||`User #${t?.client_id??"N/A"}`;return s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"text-sm font-semibold",children:"Booking"}),s.jsxs("div",{className:"grid grid-cols-2 gap-x-10 gap-y-3",children:[s.jsx(i,{label:"Booking ID",value:t?.id}),s.jsx(i,{label:"Car ID",value:t?.car_id??a?.id}),s.jsx(i,{label:"Start",value:Z3(t?.start_datetime)}),s.jsx(i,{label:"End",value:Z3(t?.end_datetime)}),s.jsx("div",{className:"flex flex-wrap items-center gap-8 pt-1",children:s.jsx(o,{label:"Status:",value:c,tone:d})}),s.jsx("div",{className:"flex flex-wrap items-center gap-8 pt-1",children:s.jsx(o,{label:"Payment:",value:h,tone:m})}),s.jsx(i,{label:"Total",value:q1(t?.total_booking_price)}),s.jsx(i,{label:"Extra Charge",value:q1(t?.extra_charge??0)}),s.jsx(i,{label:"Deposit",value:q1(t?.deposit??0)}),s.jsx(i,{label:"Paid Online",value:t?.is_paid_online?"Yes":"No"}),s.jsx(i,{label:"Payment Method",value:t?.payment_method??"N/A"}),s.jsx(i,{label:"With Driver",value:t?.with_driver?"Yes":"No"})]}),s.jsx("div",{className:"border-t pt-3"}),s.jsx("div",{className:"text-sm font-semibold",children:"Client"}),s.jsxs("div",{className:"grid grid-cols-2 gap-x-10 gap-y-3",children:[s.jsx(i,{label:"Client Name",value:f}),s.jsx(i,{label:"Client ID",value:t?.client_id??n?.id}),s.jsx(i,{label:"Email",value:n?.email??"N/A"}),s.jsx(i,{label:"Phone",value:n?.phone_number??"N/A"})]}),s.jsx("div",{className:"border-t pt-3"}),t?.car&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"text-sm font-semibold",children:"Car"}),s.jsxs("div",{className:"grid grid-cols-2 gap-x-10 gap-y-3",children:[s.jsx(i,{label:"Make",value:a?.make}),s.jsx(i,{label:"Model",value:a?.model}),s.jsx(i,{label:"Year",value:a?.year}),s.jsx(i,{label:"Plate",value:a?.license_plate}),s.jsx(i,{label:"Color",value:a?.color}),s.jsx(i,{label:"Transmission",value:a?.transmission}),s.jsx(i,{label:"Fuel",value:a?.fuel_type})]}),s.jsx("div",{className:"border-t pt-3"})]}),s.jsx("div",{className:"text-sm font-semibold",children:"Locations"}),s.jsxs("div",{className:"grid grid-cols-2 gap-x-10 gap-y-3",children:[s.jsx(i,{label:"Pickup",value:t?.pickup_location??"N/A"}),s.jsx(i,{label:"Dropoff",value:t?.dropoff_location??"N/A"}),s.jsx(i,{label:"Delivery Address",value:t?.delivery_location?.address??"N/A"}),s.jsx(i,{label:"Return Address",value:t?.return_location?.address??"N/A"})]}),t?.reason_of_booking&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"border-t pt-3"}),s.jsx("div",{className:"text-sm font-semibold",children:"Reason / Notes"}),s.jsx("div",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:t?.reason_of_booking})]}),s.jsx("div",{className:"pt-3 flex gap-2 justify-end",children:s.jsx(pe,{variant:"outline",className:"w-28",onClick:r,children:"Close"})})]})}const Lve={paid:"bg-green-100 text-green-700",pending:"bg-yellow-100 text-yellow-700",cancelled:"bg-red-100 text-red-700"},Fve={income:"bg-blue-100 text-blue-700",expense:"bg-purple-100 text-purple-700"};function Bve(t,e=14){return t?t.length>e?`${t.slice(0,e)}...`:t:"N/A"}function Ive(){const[t,e]=_.useState([]),[r,n]=_.useState(!1),[a,i]=_.useState(""),[o,c]=_.useState(!1),[d,h]=_.useState(!1),[m,f]=_.useState(null),[g,y]=_.useState(!1),[v,w]=_.useState(null),[j,b]=_.useState(!1),[N,k]=_.useState({user_id:"",amount:"",source:"cash",type:"income",status:"pending",due_date:"",description:""}),S=async()=>{n(!0);try{const{data:Z}=await Oe.get("/admin/payments",{params:{per_page:50}});e(Z.payments?.data||[])}catch{ve.error("Failed to load payments")}finally{n(!1)}};_.useEffect(()=>{S()},[]);const C=_.useMemo(()=>{let Z=[...t];return a&&(Z=Z.filter(O=>`${O.id} ${O.reference_id} ${O.user?.first_name??""} ${O.user?.last_name??""}`.toLowerCase().includes(a.toLowerCase()))),Z.sort((O,se)=>o?O.amount-se.amount:se.amount-O.amount),Z},[t,a,o]),B=Z=>{f(Z),h(!0)},E=Z=>{w({...Z}),y(!0)},z=async()=>{try{const Z={status:v.status,source:v.source,due_date:v.due_date,description:v.description};await Oe.put(`/admin/payments/${v.id}`,Z),ve.success("Payment updated"),y(!1),S()}catch{ve.error("Failed to update payment")}},T=async()=>{try{const Z={user_id:Number(N.user_id),amount:Number(N.amount),source:N.source,type:N.type,status:N.status,due_date:N.due_date,description:N.description};await Oe.post("/admin/payments",Z),ve.success("Payment created"),b(!1),k({user_id:"",amount:"",source:"cash",type:"income",status:"pending",due_date:"",description:""}),S()}catch{ve.error("Failed to create payment")}},W="/avatar.png",U="https://rento-lb.com/api/storage/",L=Z=>{const O=Z?.user.profile_picture;if(!O)return W;if(O.startsWith("http"))return O;const se=O.startsWith("/")?O.slice(1):O;return U+se};return s.jsxs("div",{className:"p-6 space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-xl font-semibold",children:"Payments"}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(pe,{size:"sm",onClick:()=>b(!0),children:[s.jsx(sr,{size:16,className:"mr-1"}),"Add Payment"]}),s.jsx(Se,{placeholder:"Search",className:"h-8 w-48 text-xs",value:a,onChange:Z=>i(Z.target.value)}),s.jsx(pe,{size:"icon",variant:"ghost","aria-label":"Sort amount",onClick:()=>c(!o),children:s.jsx($q,{size:16})}),s.jsx(pe,{size:"icon",variant:"ghost","aria-label":"Refresh payments",onClick:S,children:s.jsx(Mt,{size:16})})]})]}),s.jsx("div",{className:"rounded-xl border bg-background",children:s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"User"}),s.jsx(_e,{children:"Type"}),s.jsx(_e,{children:"Status"}),s.jsx(_e,{children:"Source"}),s.jsx(_e,{children:"Amount"}),s.jsx(_e,{className:"text-right",children:"Actions"})]})}),s.jsxs(Dt,{children:[C.map(Z=>s.jsxs(ze,{children:[s.jsx(fe,{children:s.jsx("span",{className:"item-name-hover inline-flex items-center gap-2 cursor-pointer",title:Uve(Z),role:"button",tabIndex:0,onClick:()=>B(Z),children:Z.id})}),s.jsx(fe,{children:s.jsxs("span",{className:"item-name-hover inline-flex items-center gap-2 cursor-pointer",title:zve(Z),children:[s.jsx("img",{src:L(Z),alt:Z.user.username||"User",className:"h-7 w-7 rounded-full object-cover",onError:O=>{O.currentTarget.onerror=null,O.currentTarget.src="/avatar.png"}}),Bve(Z.user?`${Z.user.first_name} ${Z.user.last_name}`:"",14)]})}),s.jsx(fe,{children:s.jsx(We,{className:Fve[Z.type],children:Z.type})}),s.jsx(fe,{children:s.jsx(We,{className:Lve[Z.status],children:Z.status})}),s.jsx(fe,{children:Z.source}),s.jsxs(fe,{children:["$",Z.amount]}),s.jsxs(fe,{className:"flex justify-end gap-1",children:[s.jsx(pe,{size:"icon",variant:"ghost","aria-label":"View payment",onClick:()=>B(Z),children:s.jsx(nr,{size:16})}),s.jsx(pe,{size:"icon",variant:"ghost","aria-label":"Edit payment",onClick:()=>E(Z),children:s.jsx(vr,{size:16})})]})]},Z.id)),!r&&C.length===0&&s.jsx(ze,{children:s.jsx(fe,{colSpan:7,className:"text-center py-10 text-muted-foreground",children:"No payments found"})})]})]})}),s.jsx(Kr,{open:d,onOpenChange:h,children:s.jsxs(Ir,{className:"max-w-3xl",children:[s.jsxs(zr,{children:[s.jsx(Ur,{children:"Payment Details"}),s.jsx(Hi,{children:"Read-only"})]}),m&&s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("b",{children:"ID:"})," ",m.id]}),s.jsxs("div",{children:[s.jsx("b",{children:"Reference:"})," ",m.reference_id]}),s.jsxs("div",{children:[s.jsx("b",{children:"User:"})," ",m.user?.first_name," ",m.user?.last_name]}),s.jsxs("div",{children:[s.jsx("b",{children:"Type:"})," ",m.type]}),s.jsxs("div",{children:[s.jsx("b",{children:"Status:"})," ",m.status]}),s.jsxs("div",{children:[s.jsx("b",{children:"Source:"})," ",m.source]}),s.jsxs("div",{children:[s.jsx("b",{children:"Amount:"})," $",m.amount]}),s.jsxs("div",{children:[s.jsx("b",{children:"Due:"})," ",new Date(m.due_date).toLocaleString()]}),s.jsxs("div",{className:"col-span-2",children:[s.jsx("b",{children:"Description:"})," ",m.description||""]})]})]})}),s.jsx(Kr,{open:g,onOpenChange:y,children:s.jsxs(Ir,{className:"max-w-xl",children:[s.jsxs(zr,{children:[s.jsx(Ur,{children:"Edit Payment"}),s.jsx(Hi,{children:"Editable fields only"})]}),v&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"Status"}),s.jsxs(ft,{value:v.status,onValueChange:Z=>w({...v,status:Z}),children:[s.jsx(ut,{children:s.jsx(mt,{})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"pending",children:"Pending"}),s.jsx(ke,{value:"paid",children:"Paid"}),s.jsx(ke,{value:"cancelled",children:"Cancelled"})]})]})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Source"}),s.jsx(Se,{value:v.source,onChange:Z=>w({...v,source:Z.target.value})})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Due Date"}),s.jsx(Se,{type:"datetime-local",value:v.due_date?.slice(0,16),onChange:Z=>w({...v,due_date:Z.target.value})})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Description"}),s.jsx(Se,{value:v.description||"",onChange:Z=>w({...v,description:Z.target.value})})]}),s.jsx(pe,{className:"w-full",onClick:z,children:"Save Changes"})]})]})}),s.jsx(Kr,{open:j,onOpenChange:b,children:s.jsxs(Ir,{className:"max-w-xl",children:[s.jsxs(zr,{children:[s.jsx(Ur,{children:"Add Payment"}),s.jsx(Hi,{children:"Create a new payment"})]}),s.jsxs("div",{className:"space-y-4",children:[s.jsx(Se,{type:"number",placeholder:"User ID",value:N.user_id,onChange:Z=>k({...N,user_id:Z.target.value})}),s.jsx(Se,{type:"number",placeholder:"Amount",value:N.amount,onChange:Z=>k({...N,amount:Z.target.value})}),s.jsxs(ft,{value:N.type,onValueChange:Z=>k({...N,type:Z}),children:[s.jsx(ut,{children:s.jsx(mt,{})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"income",children:"Income"}),s.jsx(ke,{value:"expense",children:"Expense"})]})]}),s.jsxs(ft,{value:N.status,onValueChange:Z=>k({...N,status:Z}),children:[s.jsx(ut,{children:s.jsx(mt,{})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"pending",children:"Pending"}),s.jsx(ke,{value:"paid",children:"Paid"}),s.jsx(ke,{value:"cancelled",children:"Cancelled"})]})]}),s.jsxs(ft,{value:N.source,onValueChange:Z=>k({...N,source:Z}),children:[s.jsx(ut,{children:s.jsx(mt,{})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"cash",children:"Cash"}),s.jsx(ke,{value:"bank",children:"Bank"})]})]}),s.jsx(Se,{type:"datetime-local",value:N.due_date,onChange:Z=>k({...N,due_date:Z.target.value})}),s.jsx(Se,{placeholder:"Description",value:N.description,onChange:Z=>k({...N,description:Z.target.value})}),s.jsx(pe,{className:"w-full",onClick:T,children:"Create Payment"})]})]})})]})}function zve(t){if(!t)return"";const e=t.user||{};return[`User ID : ${e.id??"N/A"}`,`Real User ID : ${e.real_user_id??"N/A"}`,`Username : ${e.username??"N/A"}`,`Phone Number : ${e.phone_number??"N/A"}`,`Email : ${e.email??"N/A"}`,`Verified ByAadmin : ${e.verified_by_admin??"N/A"}`,`Gender : ${e.gender??"N/A"}`,`Birth Date : ${$ve(e.birth_date??"N/A")}`,`City : ${e.city??"N/A"}`,`Bio : ${e.bio??"N/A"}`,`Role : ${e.role??"N/A"}`].join(`
`)}function Uve(t){return t?[`User ID : ${t.user_id??"N/A"}`,`Name : ${t.name??"N/A"}`,`Issue Date : ${Q3(t.issue_date??"N/A")}`,`Due Date : ${Q3(t.due_date??"N/A")}`,`Reference ID : ${t.reference_id??"N/A"}`,`Description : ${t.description??"N/A"}`].join(`
`):""}function $ve(t){if(!t)return"N/A";const e=new Date(t);return Number.isNaN(e.getTime())?String(t):e.toLocaleDateString("en-US",{month:"numeric",day:"numeric",year:"numeric"})}function Q3(t){if(!t)return"N/A";const e=new Date(t);return Number.isNaN(e.getTime())?String(t):e.toLocaleString("en-US",{timeZone:"Asia/Beirut",month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit",hour12:!0})}const Vve=()=>{const[t,e]=_.useState([]),[r,n]=_.useState(!1),[a,i]=_.useState(!1),o=async()=>{i(!0);try{const{data:d}=await u0e();e(d.ads.data)}finally{i(!1)}};_.useEffect(()=>{o()},[]);const c=async d=>{if(confirm("Delete this ad?"))try{await f0e(d),yn({title:"Ad deleted"}),o()}catch{yn({title:"Failed to delete ad",variant:"destructive"})}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Ads"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(pe,{size:"sm","aria-label":"Create new ad",onClick:()=>n(d=>!d),children:[s.jsx(sr,{className:"h-4 w-4 mr-1"}),"Create Ad"]}),s.jsx(pe,{size:"icon","aria-label":"refresh data",variant:"outline",onClick:o,children:s.jsx(Mt,{className:"h-4 w-4"})})]})]}),r&&s.jsxs(Ue,{children:[s.jsx(ps,{children:s.jsx(gs,{children:"Create Advertisement"})}),s.jsx(qe,{children:s.jsx(VI,{onSuccess:()=>{n(!1),o()}})})]}),s.jsx(Ue,{children:s.jsxs(qe,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Website"}),s.jsx(_e,{children:"Company"}),s.jsx(_e,{children:"User"}),s.jsx(_e,{children:"Online"}),s.jsx(_e,{children:"Views"}),s.jsx(_e,{children:"Clicks"}),s.jsx(_e,{children:"Cost"}),s.jsx(_e,{className:"text-right",children:"Actions"})]})}),s.jsx(Dt,{children:t.map(d=>s.jsxs(ze,{children:[s.jsx(fe,{children:d.id}),s.jsx(fe,{className:"max-w-[160px] truncate",children:s.jsx("a",{href:d.website,target:"_blank",className:"text-blue-400 hover:underline",children:d.website})}),s.jsx(fe,{children:d.company_type}),s.jsx(fe,{children:d.user?.username??""}),s.jsx(fe,{children:s.jsx(We,{variant:d.online?"success":"secondary",children:d.online?"Online":"Offline"})}),s.jsx(fe,{children:d.nb_views}),s.jsx(fe,{children:d.nb_clicks}),s.jsxs(fe,{children:["$",Number(d.amount_cost).toFixed(2)]}),s.jsx(fe,{className:"text-right",children:s.jsx(pe,{size:"sm",variant:"destructive","aria-label":"Delete ad",onClick:()=>c(d.id),children:s.jsx(Om,{className:"h-3 w-3"})})})]},d.id))})]})}),!a&&t.length===0&&s.jsx("p",{className:"text-center text-muted-foreground py-6",children:"No ads found"})]})})]})},Hve=()=>{const[t,e]=_.useState([]),[r,n]=_.useState(!1),[a,i]=_.useState(!1),o=async()=>{i(!0);try{const{data:h}=await m0e();e(h.featured_cars.data)}finally{i(!1)}};_.useEffect(()=>{o()},[]);const c=async h=>{if(confirm("Delete this featured car?"))try{await g0e(h),yn({title:"Featured car removed"}),o()}catch{yn({title:"Failed to delete featured car",variant:"destructive"})}},d=(h,m)=>{const f=new Date(h),g=new Date(m);return`${Math.ceil((g-f)/(1e3*60*60*24))||0} days`};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Featured Cars"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(pe,{size:"sm","aria-label":"Create new featured car",onClick:()=>n(h=>!h),children:[s.jsx(sr,{className:"h-4 w-4 mr-1"}),"Create Featured Car"]}),s.jsx(pe,{size:"icon","aria-label":"refresh data",variant:"outline",onClick:o,children:s.jsx(Mt,{className:"h-4 w-4"})})]})]}),r&&s.jsxs(Ue,{children:[s.jsx(ps,{children:s.jsx(gs,{children:"Create Featured Car"})}),s.jsx(qe,{children:s.jsx(HI,{onSuccess:()=>{n(!1),o()}})})]}),s.jsx(Ue,{children:s.jsxs(qe,{children:[s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Car"}),s.jsx(_e,{children:"Duration"}),s.jsx(_e,{children:"Start Date"}),s.jsx(_e,{children:"Expire Date"}),s.jsx(_e,{className:"text-right",children:"Actions"})]})}),s.jsx(Dt,{children:t.map(h=>s.jsxs(ze,{children:[s.jsx(fe,{children:h.id}),s.jsxs(fe,{children:[h.car?.make," ",h.car?.model]}),s.jsx(fe,{children:d(h.start_at,h.expire_at)}),s.jsx(fe,{children:new Date(h.start_at).toLocaleDateString()}),s.jsx(fe,{children:new Date(h.expire_at).toLocaleDateString()}),s.jsx(fe,{className:"text-right",children:s.jsx(pe,{size:"icon","aria-label":"Delete featured car",variant:"destructive",onClick:()=>c(h.id),children:s.jsx(Om,{className:"h-3 w-3"})})})]},h.id))})]})}),!a&&t.length===0&&s.jsx("p",{className:"text-center text-muted-foreground py-6",children:"No featured cars found"})]})})]})},qve=({onSuccess:t})=>{const[e,r]=_.useState(!1),[n,a]=_.useState({car_id:"",holiday_name:"",start:"",end:"",percentage_increase:"",is_active:!0}),i=(c,d)=>a(h=>({...h,[c]:d})),o=async c=>{c.preventDefault(),r(!0);try{await y0e({car_id:Number(n.car_id),holiday_name:n.holiday_name,holiday_dates:{start:n.start,end:n.end},percentage_increase:Number(n.percentage_increase),is_active:n.is_active}),yn({title:"Holiday created"}),t?.()}catch{yn({title:"Failed to create holiday",variant:"destructive"})}finally{r(!1)}};return s.jsxs("form",{onSubmit:o,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"Car ID"}),s.jsx(Se,{value:n.car_id,onChange:c=>i("car_id",c.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Holiday Name"}),s.jsx(Se,{value:n.holiday_name,onChange:c=>i("holiday_name",c.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Start Date"}),s.jsx(Se,{type:"date",value:n.start,onChange:c=>i("start",c.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"End Date"}),s.jsx(Se,{type:"date",value:n.end,onChange:c=>i("end",c.target.value),required:!0})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Increase %"}),s.jsx(Se,{type:"number",step:"0.01",value:n.percentage_increase,onChange:c=>i("percentage_increase",c.target.value),required:!0})]}),s.jsxs("div",{className:"flex items-center gap-3 mt-6",children:[s.jsx(kn,{checked:n.is_active,onCheckedChange:c=>i("is_active",c)}),s.jsx(ue,{children:"Active"})]}),s.jsx("div",{className:"md:col-span-2 flex justify-end gap-2",children:s.jsx(pe,{type:"submit",disabled:e,children:e?"Saving...":"Create Holiday"})})]})},Wve=()=>{const[t,e]=_.useState([]),[r,n]=_.useState(!1),[a,i]=_.useState(!0),o=async()=>{i(!0);try{const d=await x0e();console.log("HOLIDAYS API RESPONSE:",d.data),e(d.data.holidays.data)}catch(d){console.error(d),yn({title:"Failed to load holidays",variant:"destructive"})}finally{i(!1)}};_.useEffect(()=>{o()},[]);const c=async d=>{if(confirm("Delete this holiday?"))try{await b0e(d),yn({title:"Holiday deleted"}),o()}catch{yn({title:"Failed to delete holiday",variant:"destructive"})}};return s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Holidays"}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(pe,{size:"sm","aria-label":"Create new holiday",onClick:()=>n(d=>!d),children:[s.jsx(sr,{className:"h-4 w-4 mr-1"}),"Create Holiday"]}),s.jsx(pe,{size:"icon","aria-label":"refresh data",variant:"outline",onClick:o,children:s.jsx(Mt,{className:"h-4 w-4"})})]})]}),r&&s.jsxs(Ue,{children:[s.jsx(ps,{children:s.jsx(gs,{children:"Create Holiday"})}),s.jsx(qe,{children:s.jsx(qve,{onSuccess:()=>{n(!1),o()}})})]}),s.jsx(Ue,{children:s.jsx(qe,{children:a?s.jsx("p",{className:"text-center py-6 text-muted-foreground",children:"Loading holidays..."}):t.length===0?s.jsx("p",{className:"text-center py-6 text-muted-foreground",children:"No holidays found"}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Car"}),s.jsx(_e,{children:"Holiday Name"}),s.jsx(_e,{children:"Dates"}),s.jsx(_e,{children:"Increase %"}),s.jsx(_e,{children:"Active"}),s.jsx(_e,{className:"text-right",children:"Actions"})]})}),s.jsx(Dt,{children:t.map(d=>s.jsxs(ze,{children:[s.jsx(fe,{children:d.id}),s.jsxs(fe,{children:[d.car?.make," ",d.car?.model]}),s.jsx(fe,{children:d.holiday_name}),s.jsxs(fe,{className:"text-xs",children:[d.holiday_dates.start," "," ",d.holiday_dates.end]}),s.jsxs(fe,{children:[d.percentage_increase,"%"]}),s.jsx(fe,{children:s.jsx(We,{variant:d.is_active?"success":"secondary",children:d.is_active?"Yes":"No"})}),s.jsx(fe,{className:"text-right",children:s.jsx(pe,{size:"icon","aria-label":"Delete holiday",variant:"destructive",onClick:()=>c(d.id),children:s.jsx(Om,{className:"h-3 w-3"})})})]},d.id))})]})})})})]})};function Gve(){const[t,e]=_.useState([]),[r,n]=_.useState(null),[a,i]=_.useState(!0),[o,c]=_.useState({search:"",status:"",page:1}),d=_.useCallback(async()=>{i(!0);try{const f=await o0e({search:o.search||void 0,status:o.status||void 0,page:o.page});console.log("ANNOUNCEMENTS API RESPONSE:",f.data),e(f.data.announcements.data),n(f.data.announcements)}catch(f){console.error(f),yn({title:"Failed to load announcements",variant:"destructive"})}finally{i(!1)}},[o]);return _.useEffect(()=>{d()},[d]),{announcements:t,meta:r,loading:a,filters:o,setFilters:c,refresh:()=>{d()},removeAnnouncement:async f=>{if(confirm("Delete this announcement?"))try{await l0e(f),yn({title:"Announcement deleted"}),d()}catch{yn({title:"Failed to delete announcement",variant:"destructive"})}}}}function Yve(){const{announcements:t,meta:e,loading:r,filters:n,setFilters:a,refresh:i,removeAnnouncement:o}=Gve();return console.log("ANNOUNCEMENTS IN PAGE:",t),s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-xl font-semibold",children:"Announcements"}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx(Se,{className:"w-56",placeholder:"Search...",value:n.search,onChange:c=>a({...n,search:c.target.value,page:1})}),s.jsxs(ft,{value:n.status,onValueChange:c=>a({...n,status:c,page:1}),children:[s.jsx(ut,{className:"w-36",children:s.jsx(mt,{placeholder:"Status"})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"draft",children:"Draft"}),s.jsx(ke,{value:"published",children:"Published"})]})]}),s.jsx(pe,{variant:"outline",onClick:i,children:s.jsx(fh,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"border rounded-xl bg-card",children:s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Title"}),s.jsx(_e,{children:"Status"}),s.jsx(_e,{children:"Priority"}),s.jsx(_e,{children:"Audience"}),s.jsx(_e,{className:"text-right",children:"Actions"})]})}),s.jsxs(Dt,{children:[t.map(c=>s.jsxs(ze,{children:[s.jsx(fe,{children:c.id}),s.jsx(fe,{className:"font-medium",children:c.title}),s.jsx(fe,{children:s.jsx(We,{children:c.status})}),s.jsx(fe,{children:c.priority}),s.jsx(fe,{children:c.target_audience?.length?c.target_audience.join(", "):"All"}),s.jsx(fe,{className:"text-right",children:s.jsx(pe,{size:"icon","aria-label":"Delete announcement",variant:"destructive",onClick:()=>o(c.id),children:s.jsx(Om,{className:"w-3 h-3"})})})]},c.id)),!r&&t.length===0&&s.jsx(ze,{children:s.jsx(fe,{colSpan:6,className:"text-center py-6 text-muted-foreground",children:"No announcements found"})})]})]})}),e&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",e.from,"",e.to," of ",e.total]})]})}function Kve(){const[t,e]=_.useState([]),[r,n]=_.useState(null),[a,i]=_.useState(!0),[o,c]=_.useState({search:"",status:"",page:1}),d=_.useCallback(async()=>{i(!0);try{const f=await c0e({search:o.search||void 0,status:o.status||void 0,page:o.page});console.log("APPEALS API RESPONSE:",f.data),e(f.data.appeals.data),n(f.data.appeals)}catch(f){console.error(f),yn({title:"Failed to load appeals",variant:"destructive"})}finally{i(!1)}},[o]);return _.useEffect(()=>{d()},[d]),{appeals:t,meta:r,loading:a,filters:o,setFilters:c,refresh:()=>d(),updateStatus:async(f,g)=>{try{await d0e(f,g),yn({title:"Appeal updated"}),d()}catch{yn({title:"Failed to update appeal",variant:"destructive"})}}}}function Xve(){const{appeals:t,meta:e,loading:r,filters:n,setFilters:a,refresh:i,updateStatus:o}=Kve();return s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-xl font-semibold",children:"Appeals"}),s.jsxs("div",{className:"flex gap-2 flex-wrap",children:[s.jsx(Se,{className:"w-56",placeholder:"Search...",value:n.search,onChange:c=>a({...n,search:c.target.value,page:1})}),s.jsxs(ft,{value:n.status||"all",onValueChange:c=>a({...n,status:c==="all"?"":c,page:1}),children:[s.jsx(ut,{className:"w-36",children:s.jsx(mt,{placeholder:"Status"})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"all",children:"All"}),s.jsx(ke,{value:"submitted",children:"Submitted"}),s.jsx(ke,{value:"under_review",children:"Under Review"}),s.jsx(ke,{value:"resolved",children:"Resolved"}),s.jsx(ke,{value:"rejected",children:"Rejected"})]})]}),s.jsx(pe,{variant:"outline",onClick:i,children:s.jsx(fh,{className:"w-4 h-4"})})]}),s.jsx("div",{className:"border rounded-xl bg-card",children:s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"User"}),s.jsx(_e,{children:"Message"}),s.jsx(_e,{children:"Status"}),s.jsx(_e,{className:"text-right",children:"Actions"})]})}),s.jsxs(Dt,{children:[t.map(c=>s.jsxs(ze,{children:[s.jsx(fe,{children:c.id}),s.jsx(fe,{children:c.user?.username??""}),s.jsx(fe,{className:"max-w-xs truncate",children:c.message}),s.jsx(fe,{children:s.jsx(We,{children:c.status})}),s.jsx(fe,{className:"text-right",children:s.jsx(pe,{size:"sm",onClick:()=>o(c.id,{status:"resolved"}),children:"Resolve"})})]},c.id)),!r&&t.length===0&&s.jsx(ze,{children:s.jsx(fe,{colSpan:5,className:"text-center py-6 text-muted-foreground",children:"No appeals found"})})]})]})}),e&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",e.from,"",e.to," of ",e.total]})]})}function Zve(){const[t,e]=_.useState([]),[r,n]=_.useState(null),[a,i]=_.useState(!1),[o,c]=_.useState({page:1}),d=_.useCallback(async()=>{try{i(!0);const m=(await Oe.get("/admin/suggestions",{params:{page:o.page}})).data?.suggestions;e(m?.data||[]),n({current_page:m?.current_page,last_page:m?.last_page,from:m?.from,to:m?.to,total:m?.total})}catch(h){console.error("Failed to fetch suggestions:",h),e([]),n(null)}finally{i(!1)}},[o.page]);return _.useEffect(()=>{d()},[d]),{suggestions:t,meta:r,loading:a,filters:o,setFilters:c,refresh:d}}function Qve(){const{suggestions:t,meta:e,loading:r,filters:n,setFilters:a,refresh:i}=Zve();return s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-xl font-semibold",children:"Suggestions"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs(pe,{variant:"outline",onClick:i,children:[s.jsx(fh,{className:"w-4 h-4 mr-2"}),"Refresh"]}),e&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pe,{size:"icon",variant:"outline","aria-label":"Previous Page",disabled:e.current_page===1,onClick:()=>a({...n,page:e.current_page-1}),children:s.jsx(ac,{className:"w-4 h-4"})}),s.jsxs("span",{className:"text-sm",children:["Page ",e.current_page," of ",e.last_page]}),s.jsx(pe,{size:"icon",variant:"outline","aria-label":"Next Page",disabled:e.current_page===e.last_page,onClick:()=>a({...n,page:e.current_page+1}),children:s.jsx(An,{className:"w-4 h-4"})})]})]}),s.jsx("div",{className:"border rounded-xl bg-card",children:s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"User"}),s.jsx(_e,{children:"Message"}),s.jsx(_e,{children:"Created At"})]})}),s.jsxs(Dt,{children:[t.map(o=>s.jsxs(ze,{children:[s.jsx(fe,{children:o.id}),s.jsx(fe,{children:o.user?.username||""}),s.jsx(fe,{className:"max-w-[400px] truncate",children:o.message||o.suggestion||""}),s.jsx(fe,{children:new Date(o.created_at).toLocaleString()})]},o.id)),!r&&t.length===0&&s.jsx(ze,{children:s.jsx(fe,{colSpan:4,className:"text-center py-6 text-muted-foreground",children:"No suggestions found"})}),r&&s.jsx(ze,{children:s.jsx(fe,{colSpan:4,className:"text-center py-6 text-muted-foreground",children:"Loading..."})})]})]})}),e&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",e.from,"",e.to," of ",e.total]})]})}function Jve(){const[t,e]=_.useState([]),[r,n]=_.useState(null),[a,i]=_.useState(!1),[o,c]=_.useState({page:1}),d=_.useCallback(async()=>{try{i(!0);const g=(await Oe.get("/admin/notifications",{params:{page:o.page}})).data?.notifications;e(g?.data||[]),n({current_page:g?.current_page,last_page:g?.last_page,from:g?.from,to:g?.to,total:g?.total})}catch(f){console.error("Failed to fetch notifications:",f),e([]),n(null)}finally{i(!1)}},[o.page]);return _.useEffect(()=>{d()},[d]),{notifications:t,meta:r,loading:a,filters:o,setFilters:c,refresh:d,deleteNotification:async f=>{if(confirm("Delete this notification?"))try{await Oe.delete(`/admin/notifications/${f}`),d()}catch(g){console.error("Delete failed:",g)}},sendToAll:async()=>{const f=prompt("Notification title:");if(!f)return;const g=prompt("Notification message:");if(g)try{await S0e({title:f,message:g,type:"general"}),alert("Notification sent to all users"),d()}catch(y){console.error("Send failed:",y),alert("Failed to send notification")}}}}function ewe(){const{notifications:t,meta:e,loading:r,filters:n,setFilters:a,refresh:i,deleteNotification:o,sendToAll:c}=Jve();return s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-xl font-semibold",children:"Notifications"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(pe,{variant:"outline",onClick:i,children:[s.jsx(fh,{className:"w-4 h-4 mr-2"}),"Refresh"]}),s.jsxs(pe,{onClick:c,children:[s.jsx(M0,{className:"w-4 h-4 mr-2"}),"Send to All"]})]}),e&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pe,{size:"icon",variant:"outline","aria-label":"Previous Page",disabled:e.current_page===1,onClick:()=>a({...n,page:e.current_page-1}),children:s.jsx(ac,{className:"w-4 h-4"})}),s.jsxs("span",{className:"text-sm",children:["Page ",e.current_page," of ",e.last_page]}),s.jsx(pe,{size:"icon",variant:"outline","aria-label":"Next Page",disabled:e.current_page===e.last_page,onClick:()=>a({...n,page:e.current_page+1}),children:s.jsx(An,{className:"w-4 h-4"})})]})]}),s.jsx("div",{className:"border rounded-xl bg-card",children:s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Title"}),s.jsx(_e,{children:"Type"}),s.jsx(_e,{children:"Read"}),s.jsx(_e,{children:"Sent"}),s.jsx(_e,{children:"Created"}),s.jsx(_e,{className:"text-right",children:"Actions"})]})}),s.jsxs(Dt,{children:[t.map(d=>s.jsxs(ze,{children:[s.jsx(fe,{children:d.id}),s.jsx(fe,{className:"font-medium",children:d.title||""}),s.jsx(fe,{children:s.jsx(We,{variant:"outline",children:d.type||"general"})}),s.jsx(fe,{children:s.jsx(We,{variant:d.is_read?"success":"secondary",children:d.is_read?"Yes":"No"})}),s.jsx(fe,{children:s.jsx(We,{variant:d.sent?"success":"secondary",children:d.sent?"Yes":"No"})}),s.jsx(fe,{children:new Date(d.created_at).toLocaleString()}),s.jsx(fe,{className:"text-right",children:s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(pe,{size:"icon","aria-label":"Edit",variant:"ghost",children:s.jsx(vr,{className:"w-3 h-3"})}),s.jsx(pe,{size:"icon",variant:"ghost","aria-label":"Delete",onClick:()=>o(d.id),children:s.jsx(Om,{className:"w-3 h-3 text-red-500"})})]})})]},d.id)),!r&&t.length===0&&s.jsx(ze,{children:s.jsx(fe,{colSpan:7,className:"text-center py-6 text-muted-foreground",children:"No notifications found"})}),r&&s.jsx(ze,{children:s.jsx(fe,{colSpan:7,className:"text-center py-6 text-muted-foreground",children:"Loading..."})})]})]})}),e&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",e.from,"",e.to," of ",e.total]})]})}function twe(){const[t,e]=_.useState([]),[r,n]=_.useState(null),[a,i]=_.useState(!1),[o,c]=_.useState({page:1}),d=_.useCallback(async()=>{try{i(!0);const m=(await Oe.get("/admin/otps",{params:{page:o.page}})).data?.otps;e(m?.data||[]),n({current_page:m?.current_page,last_page:m?.last_page,from:m?.from,to:m?.to,total:m?.total})}catch(h){console.error("Failed to fetch OTPs:",h),e([]),n(null)}finally{i(!1)}},[o.page]);return _.useEffect(()=>{d()},[d]),{otps:t,meta:r,loading:a,filters:o,setFilters:c,refresh:d}}function swe(){const{otps:t,meta:e,loading:r,filters:n,setFilters:a,refresh:i}=twe(),o=c=>new Date(c)<new Date;return s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-xl font-semibold",children:"OTPs"}),s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs(pe,{variant:"outline",onClick:i,children:[s.jsx(fh,{className:"w-4 h-4 mr-2"}),"Refresh"]}),e&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(pe,{size:"icon",variant:"outline","aria-label":"Previous Page",disabled:e.current_page===1,onClick:()=>a({...n,page:e.current_page-1}),children:s.jsx(ac,{className:"w-4 h-4"})}),s.jsxs("span",{className:"text-sm",children:["Page ",e.current_page," of ",e.last_page]}),s.jsx(pe,{size:"icon",variant:"outline","aria-label":"Next Page",disabled:e.current_page===e.last_page,onClick:()=>a({...n,page:e.current_page+1}),children:s.jsx(An,{className:"w-4 h-4"})})]})]}),s.jsx("div",{className:"border rounded-xl bg-card",children:s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Phone Number"}),s.jsx(_e,{children:"OTP Code"}),s.jsx(_e,{children:"Created At"}),s.jsx(_e,{children:"Expires At"}),s.jsx(_e,{children:"Status"})]})}),s.jsxs(Dt,{children:[t.map(c=>{const d=o(c.expires_at);return s.jsxs(ze,{children:[s.jsx(fe,{children:c.id}),s.jsx(fe,{children:c.phone_number}),s.jsx(fe,{className:"font-mono",children:c.code}),s.jsx(fe,{children:new Date(c.created_at).toLocaleString()}),s.jsx(fe,{children:new Date(c.expires_at).toLocaleString()}),s.jsx(fe,{children:s.jsx(We,{variant:d?"destructive":"default",children:d?"Expired":"Active"})})]},c.id)}),!r&&t.length===0&&s.jsx(ze,{children:s.jsx(fe,{colSpan:6,className:"text-center py-6 text-muted-foreground",children:"No OTPs found"})}),r&&s.jsx(ze,{children:s.jsx(fe,{colSpan:6,className:"text-center py-6 text-muted-foreground",children:"Loading..."})})]})]})}),e&&s.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",e.from,"",e.to," of ",e.total]})]})}function rwe(){const[t,e]=_.useState([]),[r,n]=_.useState([]),[a,i]=_.useState(!0),[o,c]=_.useState({broker_id:"all",is_active:"all"}),[d,h]=_.useState({open:!1,title:"",message:"",onConfirm:null}),[m,f]=_.useState({open:!1,type:null,item:null}),[g,y]=_.useState({code:"",broker_id:"",description:"",max_uses:"",commission_percentage:"",is_active:!0,expires_at:"",username:"",phone_number:"",email:"",password:"",password_confirmation:"",first_name:"",last_name:""}),v=_.useCallback(async()=>{i(!0);try{const E={per_page:100};o.broker_id!=="all"&&(E.broker_id=o.broker_id),o.is_active!=="all"&&(E.is_active=o.is_active);const z=await _I(E),T=z.data?.data??z.data?.promo_codes??z.data;e(Array.isArray(T)?T:[])}catch(E){console.error(E),ve.error("Failed to load promo codes"),e([])}finally{i(!1)}},[o.broker_id,o.is_active]),w=_.useCallback(async()=>{try{const E=await Am({role:"broker",per_page:200}),z=E.data?.users?.data??E.data?.users??E.data?.data;n(Array.isArray(z)?z:[])}catch(E){console.error(E),n([])}},[]);_.useEffect(()=>{v()},[v]),_.useEffect(()=>{w()},[w]);const j=E=>{h({open:!0,title:"Delete Promo Code",message:`Are you sure you want to delete "${E.code}"?`,onConfirm:async()=>{try{await CI(E.id),ve.success("Promo code deleted"),v()}catch(z){ve.error(z.response?.data?.message||"Delete failed")}}})},b=E=>{y({code:E.code??"",broker_id:E.broker_id?String(E.broker_id):"",description:E.description??"",max_uses:E.max_uses??"",commission_percentage:E.commission_percentage??"",is_active:E.is_active!==!1,expires_at:E.expires_at?E.expires_at.slice(0,10):""}),f({open:!0,type:"edit",item:E})},N=()=>{y({code:"",broker_id:"",description:"",max_uses:"",commission_percentage:"",is_active:!0,expires_at:""}),f({open:!0,type:"create",item:null})},k=()=>{y({username:"",phone_number:"",email:"",password:"",password_confirmation:"",first_name:"",last_name:""}),f({open:!0,type:"create-broker",item:null})},S=async()=>{try{const E={code:g.code.trim(),broker_id:g.broker_id?parseInt(g.broker_id,10):null,description:g.description.trim()||null,max_uses:g.max_uses?parseInt(g.max_uses,10):null,commission_percentage:g.commission_percentage?parseFloat(g.commission_percentage):0,is_active:g.is_active,expires_at:g.expires_at||null};m.type==="edit"?(await SI(m.item.id,E),ve.success("Promo code updated")):(await NI(E),ve.success("Promo code created")),f({open:!1,type:null,item:null}),v()}catch(E){const z=E.response?.data?.message||E.response?.data?.errors&&Object.values(E.response.data.errors).flat().join(" ")||"Failed";ve.error(z)}},C=async()=>{try{await jS({username:g.username.trim(),phone_number:g.phone_number.trim(),email:g.email.trim()||void 0,password:g.password,password_confirmation:g.password_confirmation,first_name:g.first_name.trim(),last_name:g.last_name.trim()}),ve.success("Broker created"),f({open:!1,type:null,item:null}),w(),v()}catch(E){const z=E.response?.data?.message||E.response?.data?.errors&&Object.values(E.response.data.errors).flat().join(" ")||"Failed";ve.error(z)}},B=Array.isArray(t)?t:[];return s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-xl font-semibold",children:"Promo Codes"}),s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsxs(pe,{onClick:N,children:[s.jsx(sr,{className:"w-4 h-4 mr-2"}),"Create Promo Code"]}),s.jsxs(pe,{variant:"outline",onClick:k,children:[s.jsx(Ss,{className:"w-4 h-4 mr-2"}),"Create Broker"]}),s.jsxs(ft,{value:o.broker_id,onValueChange:E=>c(z=>({...z,broker_id:E})),children:[s.jsx(ut,{className:"w-[180px]",children:s.jsx(mt,{placeholder:"Broker"})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"all",children:"All brokers"}),r.map(E=>s.jsx(ke,{value:String(E.id),children:E.username||[E.first_name,E.last_name].filter(Boolean).join(" ")||`#${E.id}`},E.id))]})]}),s.jsxs(ft,{value:o.is_active,onValueChange:E=>c(z=>({...z,is_active:E})),children:[s.jsx(ut,{className:"w-[130px]",children:s.jsx(mt,{placeholder:"Status"})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"all",children:"All"}),s.jsx(ke,{value:"true",children:"Active"}),s.jsx(ke,{value:"false",children:"Inactive"})]})]})]}),s.jsx(pe,{variant:"outline",size:"icon",onClick:v,"aria-label":"Refresh",children:s.jsx(Mt,{className:"w-4 h-4"})})]}),s.jsx(Ue,{children:s.jsx(qe,{className:"p-0",children:s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"Code"}),s.jsx(_e,{children:"Broker"}),s.jsx(_e,{children:"Description"}),s.jsx(_e,{children:"Uses"}),s.jsx(_e,{children:"Commission %"}),s.jsx(_e,{children:"Status"}),s.jsx(_e,{children:"Expires"}),s.jsx(_e,{className:"w-[100px]",children:"Actions"})]})}),s.jsx(Dt,{children:a?s.jsx(ze,{children:s.jsx(fe,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:"Loading..."})}):B.length===0?s.jsx(ze,{children:s.jsx(fe,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:"No promo codes found"})}):B.map(E=>s.jsxs(ze,{children:[s.jsx(fe,{className:"font-mono font-semibold",children:E.code}),s.jsx(fe,{children:E.broker?E.broker.username||[E.broker.first_name,E.broker.last_name].filter(Boolean).join(" ")||"":"N/A"}),s.jsx(fe,{className:"max-w-[200px] truncate",children:E.description||""}),s.jsxs(fe,{children:[E.current_uses??0," / ",E.max_uses??""]}),s.jsxs(fe,{children:[E.commission_percentage??0,"%"]}),s.jsx(fe,{children:s.jsx(We,{variant:E.is_active?"default":"secondary",children:E.is_active?"Active":"Inactive"})}),s.jsx(fe,{children:E.expires_at?new Date(E.expires_at).toLocaleDateString():"No expiry"}),s.jsx(fe,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>b(E),"aria-label":"Edit",children:s.jsx(vr,{className:"w-4 h-4"})}),s.jsx(pe,{variant:"ghost",size:"icon",onClick:()=>j(E),"aria-label":"Delete",className:"text-destructive",children:s.jsx(Zs,{className:"w-4 h-4"})})]})})]},E.id))})]})})}),s.jsx(Kr,{open:m.open&&(m.type==="create"||m.type==="edit"),onOpenChange:E=>!E&&f({open:!1,type:null,item:null}),children:s.jsxs(Ir,{className:"max-w-md",children:[s.jsx(zr,{children:s.jsx(Ur,{children:m.type==="edit"?"Edit Promo Code":"Create Promo Code"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"Code"}),s.jsx(Se,{value:g.code,onChange:E=>y(z=>({...z,code:E.target.value})),placeholder:"PROMO20",disabled:m.type==="edit"})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Broker"}),s.jsxs(ft,{value:g.broker_id,onValueChange:E=>y(z=>({...z,broker_id:E})),children:[s.jsx(ut,{children:s.jsx(mt,{placeholder:"Select broker"})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"",children:"None"}),r.map(E=>s.jsx(ke,{value:String(E.id),children:E.username||`#${E.id}`},E.id))]})]})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Description (optional)"}),s.jsx(Se,{value:g.description,onChange:E=>y(z=>({...z,description:E.target.value})),placeholder:"Description"})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"Max uses (optional)"}),s.jsx(Se,{type:"number",min:0,value:g.max_uses,onChange:E=>y(z=>({...z,max_uses:E.target.value})),placeholder:""})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Commission %"}),s.jsx(Se,{type:"number",min:0,step:.01,value:g.commission_percentage,onChange:E=>y(z=>({...z,commission_percentage:E.target.value}))})]})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Expires at (optional)"}),s.jsx(Se,{type:"date",value:g.expires_at,onChange:E=>y(z=>({...z,expires_at:E.target.value}))})]}),m.type==="edit"&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("input",{type:"checkbox",id:"active",checked:g.is_active,onChange:E=>y(z=>({...z,is_active:E.target.checked}))}),s.jsx(ue,{htmlFor:"active",children:"Active"})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(pe,{variant:"outline",onClick:()=>f({open:!1,type:null,item:null}),children:"Cancel"}),s.jsx(pe,{onClick:S,children:m.type==="edit"?"Update":"Create"})]})]})]})}),s.jsx(Kr,{open:m.open&&m.type==="create-broker",onOpenChange:E=>!E&&f({open:!1,type:null,item:null}),children:s.jsxs(Ir,{className:"max-w-md",children:[s.jsx(zr,{children:s.jsx(Ur,{children:"Create Broker"})}),s.jsxs("div",{className:"space-y-4",children:[["username","first_name","last_name","phone_number","email","password","password_confirmation"].map(E=>s.jsxs("div",{children:[s.jsx(ue,{children:E.replace(/_/g," ")}),s.jsx(Se,{type:E.includes("password")?"password":"text",value:g[E],onChange:z=>y(T=>({...T,[E]:z.target.value})),placeholder:E,required:["username","first_name","last_name","phone_number","password","password_confirmation"].includes(E)})]},E)),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(pe,{variant:"outline",onClick:()=>f({open:!1,type:null,item:null}),children:"Cancel"}),s.jsx(pe,{onClick:C,children:"Create Broker"})]})]})]})}),s.jsx(Cy,{open:d.open,onOpenChange:E=>h(z=>({...z,open:E})),children:s.jsxs(sp,{children:[s.jsxs(rp,{children:[s.jsx(ap,{children:d.title}),s.jsx(ip,{children:d.message})]}),s.jsxs(np,{children:[s.jsx(lp,{children:"Cancel"}),s.jsx(op,{onClick:d.onConfirm,children:"Confirm"})]})]})})]})}function Au(t){return t?.username||[t?.first_name,t?.last_name].filter(Boolean).join(" ")||`Broker #${t?.id}`}function nwe(){const[t,e]=_.useState([]),[r,n]=_.useState({data:[]}),[a,i]=_.useState(!0),[o,c]=_.useState(null),[d,h]=_.useState("overview"),[m,f]=_.useState(null),[g,y]=_.useState({data:[],statistics:{}}),[v,w]=_.useState({data:[]}),[j,b]=_.useState([]),[N,k]=_.useState("all"),[S,C]=_.useState({open:!1,title:"",message:"",onConfirm:null}),[B,E]=_.useState({open:!1,type:null}),[z,T]=_.useState({username:"",phone_number:"",email:"",password:"",password_confirmation:"",first_name:"",last_name:"",broker_id:"",amount:"",reference:"",notes:""}),W=_.useCallback(async()=>{i(!0);try{const $=await Am({role:"broker",per_page:200}),oe=$.data?.users?.data??$.data?.users??$.data?.data;e(Array.isArray(oe)?oe:[])}catch($){console.error($),ve.error("Failed to load brokers"),e([])}finally{i(!1)}},[]),U=_.useCallback(async()=>{try{const $=await TI({per_page:100}),oe=$.data?.data??$.data?.commissions??$.data;n({data:Array.isArray(oe)?oe:[]})}catch{n({data:[]})}},[]),L=_.useCallback(async $=>{if(c($),h("overview"),!!$?.id)try{const[oe,q,Y,ce]=await Promise.all([kI($.id).catch(()=>({data:null})),j0($.id).catch(()=>({data:{data:[],statistics:{}}})),AI($.id).catch(()=>({data:{payouts:{data:[]}}})),dN($.id).catch(()=>({data:{referrals:[]}}))]);f(oe.data);const le=q.data?.commissions?.data??q.data?.commissions;y({data:Array.isArray(le)?le:[],statistics:q.data?.statistics||{}});const be=Y.data?.payouts?.data??Y.data?.data??Y.data;w({data:Array.isArray(be)?be:[]});const ge=ce.data?.referrals??ce.data?.data??ce.data;b(Array.isArray(ge)?ge:[])}catch{ve.error("Failed to load broker detail")}},[]),Z=()=>{c(null),f(null),y({data:[],statistics:{}}),w({data:[]}),b([])},O=async $=>{if(o?.id){k($);try{const oe=await j0(o.id,{status:$==="all"?void 0:$}),q=oe.data?.commissions?.data??oe.data?.commissions;y({data:Array.isArray(q)?q:[],statistics:oe.data?.statistics||{}})}catch(oe){console.error(oe)}}};_.useEffect(()=>{W(),U()},[W,U]);const se=async()=>{try{await jS({username:z.username.trim(),phone_number:z.phone_number.trim(),email:z.email.trim()||void 0,password:z.password,password_confirmation:z.password_confirmation,first_name:z.first_name.trim(),last_name:z.last_name.trim()}),ve.success("Broker created"),E({open:!1,type:null}),W()}catch($){ve.error($.response?.data?.message||"Failed")}},K=async()=>{try{await EI({broker_id:parseInt(z.broker_id,10),amount:parseFloat(z.amount)*100,reference:z.reference.trim()||void 0,notes:z.notes.trim()||void 0}),ve.success("Payout created"),E({open:!1,type:null}),o?.id&&L(o),U()}catch($){ve.error($.response?.data?.message||"Payout failed")}},M=$=>{C({open:!0,title:"Cancel commission",message:"Are you sure?",onConfirm:async()=>{try{await RI($.id),ve.success("Commission cancelled"),o?.id&&O(N),U()}catch(oe){ve.error(oe.response?.data?.message||"Failed")}}})},X=$=>{C({open:!0,title:"Delete referral",message:"Remove this referral?",onConfirm:async()=>{try{await DI($.id),ve.success("Referral deleted"),o?.id&&L(o)}catch(oe){ve.error(oe.response?.data?.message||"Failed")}}})};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-xl font-semibold",children:"Brokers"}),s.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(pe,{variant:"outline",onClick:()=>{T({username:"",phone_number:"",email:"",password:"",password_confirmation:"",first_name:"",last_name:""}),E({open:!0,type:"create-broker"})},children:[s.jsx(Ss,{className:"w-4 h-4 mr-2"})," Create Broker"]}),s.jsxs(pe,{onClick:()=>{T({broker_id:o?.id?String(o.id):"",amount:m?.balance!=null?String(m.balance):"",reference:"",notes:""}),E({open:!0,type:"create-payout"})},children:[s.jsx(cr,{className:"w-4 h-4 mr-2"})," Create Payout"]})]}),s.jsx(pe,{variant:"outline",size:"icon",onClick:()=>{W(),U()},"aria-label":"Refresh",children:s.jsx(Mt,{className:"w-4 h-4"})})]}),o?s.jsxs(Ue,{children:[s.jsxs(ps,{className:"flex flex-row items-center justify-between",children:[s.jsxs(gs,{className:"flex items-center gap-2",children:[s.jsx(Ss,{className:"w-5 h-5"}),Au(o)]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsxs(pe,{variant:"outline",size:"sm",onClick:()=>{T({broker_id:String(o.id),amount:m?.balance?String(m.balance):"",reference:"",notes:""}),E({open:!0,type:"create-payout"})},children:[s.jsx(cr,{className:"w-4 h-4 mr-1"})," Pay broker"]}),s.jsxs(pe,{variant:"ghost",size:"sm",onClick:Z,children:[s.jsx(ac,{className:"w-4 h-4 mr-1"})," Close"]})]})]}),s.jsx(qe,{children:s.jsxs($o,{value:d,onValueChange:h,children:[s.jsxs(Xi,{className:"grid w-full grid-cols-4",children:[s.jsx($t,{value:"overview",children:"Overview"}),s.jsx($t,{value:"commissions",children:"Commissions"}),s.jsx($t,{value:"payouts",children:"Payouts"}),s.jsx($t,{value:"referrals",children:"Referrals"})]}),s.jsx(Zt,{value:"overview",className:"space-y-4 mt-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsx(Ue,{children:s.jsxs(qe,{className:"pt-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Balance"}),s.jsxs("p",{className:"text-2xl font-bold text-primary",children:["$",(m?.balance??0).toFixed(2)]})]})}),s.jsx(Ue,{children:s.jsxs(qe,{className:"pt-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total commissions"}),s.jsxs("p",{className:"text-2xl font-bold",children:["$",(m?.total_commissions??g.statistics?.total_commissions??0).toFixed(2)]})]})}),s.jsx(Ue,{children:s.jsxs(qe,{className:"pt-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Total payouts"}),s.jsxs("p",{className:"text-2xl font-bold",children:["$",(m?.total_payouts??g.statistics?.total_payouts??0).toFixed(2)]})]})})]})}),s.jsxs(Zt,{value:"commissions",className:"mt-4",children:[s.jsx("div",{className:"flex gap-2 mb-4",children:["all","pending","paid","cancelled"].map($=>s.jsx(pe,{variant:N===$?"default":"outline",size:"sm",onClick:()=>O($),children:$.charAt(0).toUpperCase()+$.slice(1)},$))}),s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Referred user"}),s.jsx(_e,{children:"Promo"}),s.jsx(_e,{children:"Amount"}),s.jsx(_e,{children:"Commission"}),s.jsx(_e,{children:"Status"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Dt,{children:(g.data||[]).map($=>s.jsxs(ze,{children:[s.jsx(fe,{children:$.id}),s.jsx(fe,{children:$.referredUser?Au($.referredUser):$.referred_user_id}),s.jsx(fe,{children:$.promoCode?.code||""}),s.jsxs(fe,{children:["$",Number($.booking_amount||0).toFixed(2)]}),s.jsxs(fe,{children:["$",Number($.commission_amount||0).toFixed(2)," (",$.commission_percentage,"%)"]}),s.jsx(fe,{children:s.jsx(We,{variant:$.status==="paid"?"default":$.status==="cancelled"?"secondary":"outline",children:$.status})}),s.jsx(fe,{children:$.status==="pending"&&s.jsx(pe,{variant:"ghost",size:"sm",onClick:()=>M($),children:"Cancel"})})]},$.id))})]})]}),s.jsx(Zt,{value:"payouts",className:"mt-4",children:s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"Reference"}),s.jsx(_e,{children:"Amount"}),s.jsx(_e,{children:"Paid at"}),s.jsx(_e,{children:"Description"})]})}),s.jsx(Dt,{children:(v.data||[]).map($=>s.jsxs(ze,{children:[s.jsx(fe,{className:"font-mono text-xs",children:$.reference_id||$.id}),s.jsxs(fe,{children:["$",(($.amount||0)/100).toFixed(2)]}),s.jsx(fe,{children:$.paid_at?new Date($.paid_at).toLocaleString():""}),s.jsx(fe,{children:$.description||$.metadata?.reference||""})]},$.id))})]})}),s.jsx(Zt,{value:"referrals",className:"mt-4",children:s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Referred user"}),s.jsx(_e,{children:"Promo"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Dt,{children:(j||[]).map($=>s.jsxs(ze,{children:[s.jsx(fe,{children:$.id}),s.jsx(fe,{children:$.referredUser?Au($.referredUser):$.referred_user_id}),s.jsx(fe,{children:$.promoCode?.code||""}),s.jsx(fe,{children:s.jsx(pe,{variant:"ghost",size:"sm",className:"text-destructive",onClick:()=>X($),children:"Delete"})})]},$.id))})]})})]})})]}):s.jsxs(s.Fragment,{children:[s.jsxs(Ue,{children:[s.jsxs(ps,{children:[s.jsx(gs,{children:"Brokers"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Click Manage to view balance, commissions, payouts, and referrals."})]}),s.jsx(qe,{className:"p-0",children:s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Username"}),s.jsx(_e,{children:"Name"}),s.jsx(_e,{children:"Phone"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Dt,{children:a?s.jsx(ze,{children:s.jsx(fe,{colSpan:5,className:"text-center py-8",children:"Loading..."})}):t.length===0?s.jsx(ze,{children:s.jsx(fe,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"No brokers found"})}):t.map($=>s.jsxs(ze,{children:[s.jsx(fe,{children:$.id}),s.jsx(fe,{children:$.username}),s.jsx(fe,{children:[$.first_name,$.last_name].filter(Boolean).join(" ")||""}),s.jsx(fe,{children:$.phone_number||""}),s.jsx(fe,{children:s.jsx(pe,{variant:"outline",size:"sm",onClick:()=>L($),children:"Manage"})})]},$.id))})]})})]}),s.jsxs(Ue,{children:[s.jsx(ps,{children:s.jsx(gs,{children:"All broker commissions"})}),s.jsx(qe,{className:"p-0",children:s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Broker"}),s.jsx(_e,{children:"Referred user"}),s.jsx(_e,{children:"Promo"}),s.jsx(_e,{children:"Amount"}),s.jsx(_e,{children:"Status"})]})}),s.jsx(Dt,{children:(r.data||[]).map($=>s.jsxs(ze,{children:[s.jsx(fe,{children:$.id}),s.jsx(fe,{children:$.broker?Au($.broker):$.broker_id}),s.jsx(fe,{children:$.referredUser?Au($.referredUser):""}),s.jsx(fe,{children:$.promoCode?.code||""}),s.jsxs(fe,{children:["$",Number($.commission_amount||0).toFixed(2)]}),s.jsx(fe,{children:s.jsx(We,{variant:$.status==="paid"?"default":$.status==="cancelled"?"secondary":"outline",children:$.status})})]},$.id))})]})})]})]}),s.jsx(Kr,{open:B.open&&B.type==="create-broker",onOpenChange:$=>!$&&E({open:!1,type:null}),children:s.jsxs(Ir,{className:"max-w-md",children:[s.jsx(zr,{children:s.jsx(Ur,{children:"Create Broker"})}),s.jsxs("div",{className:"space-y-4",children:[["username","first_name","last_name","phone_number","email","password","password_confirmation"].map($=>s.jsxs("div",{children:[s.jsx(ue,{children:$.replace(/_/g," ")}),s.jsx(Se,{type:$.includes("password")?"password":"text",value:z[$],onChange:oe=>T(q=>({...q,[$]:oe.target.value}))})]},$)),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(pe,{variant:"outline",onClick:()=>E({open:!1,type:null}),children:"Cancel"}),s.jsx(pe,{onClick:se,children:"Create"})]})]})]})}),s.jsx(Kr,{open:B.open&&B.type==="create-payout",onOpenChange:$=>!$&&E({open:!1,type:null}),children:s.jsxs(Ir,{className:"max-w-md",children:[s.jsx(zr,{children:s.jsx(Ur,{children:"Create Payout"})}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx(ue,{children:"Broker"}),s.jsxs("select",{className:"w-full border rounded-md px-3 py-2",value:z.broker_id,onChange:$=>T(oe=>({...oe,broker_id:$.target.value})),children:[s.jsx("option",{value:"",children:"Select broker"}),t.map($=>s.jsx("option",{value:$.id,children:Au($)},$.id))]})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Amount ($)"}),s.jsx(Se,{type:"number",step:.01,value:z.amount,onChange:$=>T(oe=>({...oe,amount:$.target.value}))})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Reference (optional)"}),s.jsx(Se,{value:z.reference,onChange:$=>T(oe=>({...oe,reference:$.target.value}))})]}),s.jsxs("div",{children:[s.jsx(ue,{children:"Notes (optional)"}),s.jsx(Se,{value:z.notes,onChange:$=>T(oe=>({...oe,notes:$.target.value}))})]}),s.jsxs("div",{className:"flex justify-end gap-2",children:[s.jsx(pe,{variant:"outline",onClick:()=>E({open:!1,type:null}),children:"Cancel"}),s.jsx(pe,{onClick:K,children:"Create Payout"})]})]})]})}),s.jsx(Cy,{open:S.open,onOpenChange:$=>C(oe=>({...oe,open:$})),children:s.jsxs(sp,{children:[s.jsxs(rp,{children:[s.jsx(ap,{children:S.title}),s.jsx(ip,{children:S.message})]}),s.jsxs(np,{children:[s.jsx(lp,{children:"Cancel"}),s.jsx(op,{onClick:S.onConfirm,children:"Confirm"})]})]})})]})}const Q9="https://rento-lb.com/api/storage/",mN="/avatar.png",awe=["Beirut","Mount Lebanon","North","South","Bekaa","Baalbek","Keserwan","Nabatieh","Akkar"],iwe=[{value:"",label:"All types"},{value:"rental",label:"Rental"},{value:"private",label:"Private"},{value:"company",label:"Company"},{value:"marina",label:"Marina"}],owe=[{value:"created_at",label:"Created at"},{value:"username",label:"Username"},{value:"first_name",label:"First name"},{value:"last_name",label:"Last name"}];function J3(t){const e=t?.profile_picture;if(!e)return mN;if(e.startsWith("http"))return e;const r=e.startsWith("/")?e.slice(1):e;return Q9+r}function e6(t){return t?.first_name&&t?.last_name?`${t.first_name} ${t.last_name}`:t?.username||`Agency #${t?.id}`}const t6={rental:"border-l-4 border-l-teal-500 bg-gradient-to-br from-teal-50/80 to-white dark:from-teal-950/30 dark:to-card shadow-md hover:shadow-lg",private:"border-l-4 border-l-blue-500 bg-gradient-to-br from-blue-50/80 to-white dark:from-blue-950/30 dark:to-card shadow-md hover:shadow-lg",company:"border-l-4 border-l-violet-500 bg-gradient-to-br from-violet-50/80 to-white dark:from-violet-950/30 dark:to-card shadow-md hover:shadow-lg",marina:"border-l-4 border-l-cyan-500 bg-gradient-to-br from-cyan-50/80 to-white dark:from-cyan-950/30 dark:to-card shadow-md hover:shadow-lg",default:"border-l-4 border-l-primary bg-gradient-to-br from-primary/5 to-white dark:from-primary/10 dark:to-card shadow-md hover:shadow-lg"};function lwe(t){return t6[t]||t6.default}function cwe(){const[t,e]=_.useState([]),[r,n]=_.useState({current_page:1,last_page:1,per_page:20,total:0}),[a,i]=_.useState(!0),[o,c]=_.useState(!1),[d,h]=_.useState(1),[m,f]=_.useState(20),[g,y]=_.useState(""),[v,w]=_.useState(!1),[j,b]=_.useState(""),[N,k]=_.useState(""),[S,C]=_.useState("created_at"),[B,E]=_.useState("desc"),[z,T]=_.useState(!1),[W,U]=_.useState(null),[L,Z]=_.useState(null),[O,se]=_.useState(!1),K=_.useCallback(async()=>{i(!0),c(!1);try{const oe={page:d,per_page:m,sort_by:S,sort_order:B};v&&(oe.verified_only=!0),j&&(oe.business_type=j),N&&(oe.address=N),g.trim()&&(oe.search=g.trim());const q=await e0e(oe),Y=q.data?.agencies??q.data,ce=Y?.data??[];e(Array.isArray(ce)?ce:[]),n({current_page:Y.current_page??1,last_page:Y.last_page??1,per_page:Y.per_page??m,total:Y.total??0})}catch(oe){oe.response?.status===403?(c(!0),e([]),ve.error("Super admin access required")):(ve.error(oe.response?.data?.message||oe.response?.data?.error||"Failed to load agencies"),e([]))}finally{i(!1)}},[d,m,g,v,j,N,S,B]);_.useEffect(()=>{K()},[K]);const M=async oe=>{U(oe),Z(null),T(!0),se(!0);try{const q=await t0e(oe.id);Z(q.data?.agency??q.data)}catch(q){q.response?.status===403?ve.error("Super admin access required"):q.response?.status===404?ve.error("Agency not found"):ve.error(q.response?.data?.error||"Failed to load agency")}finally{se(!1)}},X=()=>{T(!1),U(null),Z(null)},$=()=>{h(1),K()};return o?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(Oi,{className:"w-6 h-6"}),"Agencies"]}),s.jsx(Ue,{children:s.jsxs(qe,{className:"py-12 text-center",children:[s.jsx(Zn,{className:"w-12 h-12 mx-auto text-destructive mb-4"}),s.jsx("p",{className:"text-muted-foreground",children:"This section is available only to Super Admin users."}),s.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"If you believe you should have access, please contact your administrator."})]})})]}):s.jsxs("div",{className:"space-y-6",children:[s.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[s.jsx(Oi,{className:"w-6 h-6"}),"Agencies"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Car rental companies and agents who list vehicles on the platform. Super Admin only."}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsxs("div",{className:"relative flex-1 min-w-[180px] max-w-sm",children:[s.jsx(Br,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Se,{placeholder:"Search username, first name, last name...",value:g,onChange:oe=>y(oe.target.value),onKeyDown:oe=>oe.key==="Enter"&&$(),className:"pl-9"})]}),s.jsxs(ft,{value:j||"all",onValueChange:oe=>{b(oe==="all"?"":oe),h(1)},children:[s.jsx(ut,{className:"w-36",children:s.jsx(mt,{placeholder:"Business type"})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"all",children:"All types"}),iwe.filter(oe=>oe.value).map(oe=>s.jsx(ke,{value:oe.value,children:oe.label},oe.value))]})]}),s.jsxs(ft,{value:N||"all",onValueChange:oe=>{k(oe==="all"?"":oe),h(1)},children:[s.jsx(ut,{className:"w-40",children:s.jsx(mt,{placeholder:"Governorate"})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"all",children:"All governorates"}),awe.map(oe=>s.jsx(ke,{value:oe,children:oe},oe))]})]}),s.jsxs(ft,{value:v?"yes":"no",onValueChange:oe=>{w(oe==="yes"),h(1)},children:[s.jsx(ut,{className:"w-32",children:s.jsx(mt,{placeholder:"Verified"})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"no",children:"All"}),s.jsx(ke,{value:"yes",children:"Verified only"})]})]}),s.jsxs(ft,{value:S,onValueChange:oe=>{C(oe),h(1)},children:[s.jsx(ut,{className:"w-36",children:s.jsx(mt,{placeholder:"Sort by"})}),s.jsx(ht,{children:owe.map(oe=>s.jsx(ke,{value:oe.value,children:oe.label},oe.value))})]}),s.jsxs(ft,{value:B,onValueChange:oe=>{E(oe),h(1)},children:[s.jsx(ut,{className:"w-28",children:s.jsx(mt,{})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"asc",children:"Asc"}),s.jsx(ke,{value:"desc",children:"Desc"})]})]}),s.jsxs(ft,{value:String(m),onValueChange:oe=>{f(Number(oe)),h(1)},children:[s.jsx(ut,{className:"w-24",children:s.jsx(mt,{})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"10",children:"10"}),s.jsx(ke,{value:"20",children:"20"}),s.jsx(ke,{value:"50",children:"50"})]})]}),s.jsx(pe,{variant:"outline",onClick:$,children:"Search"}),s.jsx(pe,{variant:"outline",size:"icon",onClick:K,children:s.jsx(Mt,{className:"h-4 w-4"})})]}),s.jsxs("div",{children:[s.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2 mb-4",children:[s.jsx(Oi,{className:"w-5 h-5"}),"Agencies (",r.total,")"]}),a?s.jsx("div",{className:"flex items-center justify-center py-16",children:s.jsx(Vx,{className:"h-10 w-10 animate-spin text-muted-foreground"})}):t.length===0?s.jsxs(Ue,{className:"py-12 text-center text-muted-foreground",children:[s.jsx(Oi,{className:"w-12 h-12 mx-auto mb-3 opacity-50"}),"No agencies found"]}):s.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:t.map(oe=>s.jsxs(Ue,{className:`overflow-hidden transition-all duration-200 ${lwe(oe.business_type)}`,children:[s.jsxs(ps,{className:"pb-2",children:[s.jsxs("div",{className:"flex items-start justify-between gap-2",children:[s.jsxs("div",{className:"flex items-center gap-3 min-w-0",children:[s.jsx("img",{src:J3(oe),alt:"",className:"h-12 w-12 rounded-full object-cover shrink-0 ring-2 ring-white dark:ring-card shadow",onError:q=>{q.currentTarget.onerror=null,q.currentTarget.src=mN}}),s.jsxs("div",{className:"min-w-0",children:[s.jsx(gs,{className:"text-base truncate",children:e6(oe)}),s.jsxs("p",{className:"text-xs text-muted-foreground truncate",children:["@",oe.username||""]})]})]}),oe.verified_by_admin&&s.jsx(Gr,{className:"h-5 w-5 text-green-600 shrink-0",title:"Verified"})]}),s.jsxs("div",{className:"flex flex-wrap gap-1.5 mt-2",children:[s.jsx(We,{variant:"secondary",className:"text-xs capitalize",children:oe.business_type||""}),oe.address&&s.jsxs(We,{variant:"outline",className:"text-xs flex items-center gap-1",children:[s.jsx(Ps,{className:"w-3 h-3"}),oe.address]})]})]}),s.jsxs(qe,{className:"pt-0 space-y-3",children:[s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("span",{className:"flex items-center gap-1.5 text-muted-foreground",children:[s.jsx(Kt,{className:"w-4 h-4"}),"Cars"]}),s.jsxs("span",{className:"font-medium",children:[oe.cars_count??0," ",s.jsxs("span",{className:"text-muted-foreground font-normal text-xs",children:["(",oe.cars_accepted_count??0," accepted, ",oe.cars_not_accepted_count??0," pending)"]})]})]}),(oe.sea_vehicles_count??0)>0&&s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("span",{className:"flex items-center gap-1.5 text-muted-foreground",children:[s.jsx(Bq,{className:"w-4 h-4"}),"Sea vehicles"]}),s.jsx("span",{className:"font-medium",children:oe.sea_vehicles_count})]}),s.jsxs(pe,{size:"sm",className:"w-full mt-2",onClick:()=>M(oe),children:[s.jsx(nr,{className:"w-4 h-4 mr-2"}),"View details"]})]})]},oe.id))})]}),r.last_page>1&&s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Page ",r.current_page," of ",r.last_page,"  Total ",r.total]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(pe,{variant:"outline",size:"sm",disabled:d<=1,onClick:()=>h(oe=>oe-1),children:"Previous"}),s.jsx(pe,{variant:"outline",size:"sm",disabled:d>=r.last_page,onClick:()=>h(oe=>oe+1),children:"Next"})]})]}),s.jsx(Kr,{open:z,onOpenChange:oe=>!oe&&X(),children:s.jsxs(Ir,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[s.jsx(zr,{children:s.jsxs(Ur,{className:"flex items-center gap-2",children:[s.jsx(Oi,{className:"w-5 h-5"}),"Agency  ",W?e6(W):""," (ID:"," ",W?.id,")"]})}),O?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Vx,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):L?s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-4",children:[s.jsx("img",{src:J3(L),alt:"",className:"h-16 w-16 rounded-full object-cover",onError:oe=>{oe.currentTarget.onerror=null,oe.currentTarget.src=mN}}),s.jsxs("div",{children:[s.jsxs("p",{className:"font-semibold",children:[L.first_name," ",L.last_name]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["@",L.username]}),L.verified_by_admin&&s.jsx(We,{className:"mt-1 bg-green-600",children:"Verified"})]})]}),s.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[s.jsx(Ol,{label:"Business type",value:L.business_type}),s.jsx(Ol,{label:"Address",value:L.address}),s.jsx(Ol,{label:"Profession",value:L.profession}),s.jsx(Ol,{label:"Company number",value:L.company_number}),s.jsx(Ol,{label:"Cars total",value:L.cars_count}),s.jsx(Ol,{label:"Cars accepted",value:L.cars_accepted_count}),s.jsx(Ol,{label:"Cars not accepted",value:L.cars_not_accepted_count}),s.jsx(Ol,{label:"Sea vehicles",value:L.sea_vehicles_count})]}),L.website&&s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("span",{className:"text-sm text-muted-foreground",children:"Website:"}),s.jsxs("a",{href:L.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline flex items-center gap-1",children:[L.website,s.jsx($x,{className:"w-3 h-3"})]})]}),L.location&&s.jsxs("div",{className:"text-sm",children:[s.jsx("span",{className:"text-muted-foreground",children:"Location: "}),L.location.city||"",L.location.lat!=null&&L.location.lng!=null?` (${L.location.lat}, ${L.location.lng})`:""]}),L.policies&&s.jsxs("div",{className:"rounded-md border p-3 bg-muted/30",children:[s.jsxs("p",{className:"text-xs font-medium text-muted-foreground flex items-center gap-1 mb-2",children:[s.jsx(zo,{className:"w-3 h-3"})," Policies"]}),s.jsx("p",{className:"text-sm whitespace-pre-wrap",children:L.policies})]}),L.business_doc&&s.jsxs("div",{children:[s.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Business document"}),s.jsxs("a",{href:L.business_doc.startsWith("http")?L.business_doc:Q9+(L.business_doc.startsWith("/")?L.business_doc.slice(1):L.business_doc),target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline text-sm flex items-center gap-1",children:["View document",s.jsx($x,{className:"w-3 h-3"})]})]})]}):s.jsx("p",{className:"text-muted-foreground py-4",children:"No details available."})]})})]})}function Ol({label:t,value:e}){const r=e??"";return s.jsxs("div",{children:[s.jsxs("span",{className:"text-muted-foreground",children:[t,": "]}),s.jsx("span",{children:typeof r=="object"?JSON.stringify(r):String(r)})]})}function dwe(){const[t,e]=_.useState([]),[r,n]=_.useState([]),[a,i]=_.useState([]),[o,c]=_.useState([]),[d,h]=_.useState(!1),[m,f]=_.useState(""),[g,y]=_.useState({services:{search:"",category:"all"},thirdParties:{search:""}}),[v,w]=_.useState({open:!1,title:"",message:"",onConfirm:null}),j=_.useCallback(async()=>{h(!0);try{const T={};g.services.search&&(T.search=g.services.search),g.services.category!=="all"&&(T.category=g.services.category);const W=await MI({...T,per_page:100}),U=W.data?.data??W.data?.services??W.data;e(Array.isArray(U)?U:[])}catch(T){console.error(T),ve.error("Failed to load services"),e([])}finally{h(!1)}},[g.services.search,g.services.category]),b=_.useCallback(async()=>{h(!0);try{const T=await FI({per_page:100}),W=T.data?.data??T.data?.third_parties??T.data;n(Array.isArray(W)?W:[])}catch(T){console.error(T),ve.error("Failed to load third parties"),n([])}finally{h(!1)}},[]),N=_.useCallback(async T=>{if(!T){i([]);return}h(!0);try{const W=await OI(parseInt(T,10)),U=W.data?.data??W.data?.items??W.data;i(Array.isArray(U)?U:[])}catch(W){console.error(W),i([])}finally{h(!1)}},[]),k=_.useCallback(async()=>{h(!0);try{const T=await II({per_page:100}),W=T.data?.data??T.data?.feedbacks??T.data;c(Array.isArray(W)?W:[])}catch(T){console.error(T),ve.error("Failed to load feedbacks"),c([])}finally{h(!1)}},[]);_.useEffect(()=>{j()},[j]),_.useEffect(()=>{m?N(m):i([])},[m,N]);const S=(T,W,U)=>{w({open:!0,title:T,message:W,onConfirm:U})},C=T=>{S("Delete Service",`Delete "${T.name}"?`,async()=>{try{await PI(T.id),ve.success("Service deleted"),j()}catch(W){ve.error(W.response?.data?.message||"Failed")}})},B=T=>{S("Delete Third Party","Are you sure?",async()=>{try{await BI(T.id),ve.success("Third party deleted"),b()}catch(W){ve.error(W.response?.data?.message||"Failed")}})},E=T=>{S("Delete Item",`Delete "${T.name}"?`,async()=>{try{await LI(T.id),ve.success("Item deleted"),m&&N(m)}catch(W){ve.error(W.response?.data?.message||"Failed")}})},z=T=>{S("Delete Feedback","Are you sure?",async()=>{try{await zI(T.id),ve.success("Feedback deleted"),k()}catch(W){ve.error(W.response?.data?.message||"Failed")}})};return s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-xl font-semibold",children:"Services"}),s.jsxs($o,{defaultValue:"services-list",className:"w-full",children:[s.jsxs(Xi,{className:"grid w-full grid-cols-4 mb-4",children:[s.jsxs($t,{value:"services-list",children:[s.jsx(vd,{className:"w-4 h-4 mr-1"})," Services"]}),s.jsxs($t,{value:"third-parties",onClick:()=>b(),children:[s.jsx(Oi,{className:"w-4 h-4 mr-1"})," Third Parties"]}),s.jsxs($t,{value:"service-items",children:[s.jsx(Bi,{className:"w-4 h-4 mr-1"})," Service Items"]}),s.jsxs($t,{value:"service-feedbacks",onClick:()=>k(),children:[s.jsx(li,{className:"w-4 h-4 mr-1"})," Feedbacks"]})]}),s.jsxs(Zt,{value:"services-list",className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsx(Se,{placeholder:"Search services...",value:g.services.search,onChange:T=>y(W=>({...W,services:{...W.services,search:T.target.value}})),className:"w-48"}),s.jsxs(ft,{value:g.services.category,onValueChange:T=>y(W=>({...W,services:{...W.services,category:T}})),children:[s.jsx(ut,{className:"w-40",children:s.jsx(mt,{placeholder:"Category"})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"all",children:"All"}),s.jsx(ke,{value:"transport",children:"Transport"}),s.jsx(ke,{value:"accommodation",children:"Accommodation"}),s.jsx(ke,{value:"food",children:"Food"}),s.jsx(ke,{value:"entertainment",children:"Entertainment"}),s.jsx(ke,{value:"other",children:"Other"})]})]}),s.jsx(pe,{variant:"outline",size:"icon",onClick:j,"aria-label":"Refresh",children:s.jsx(Mt,{className:"w-4 h-4"})})]}),s.jsx(Ue,{children:s.jsx(qe,{className:"p-0",children:s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Name"}),s.jsx(_e,{children:"Owner"}),s.jsx(_e,{children:"Category"}),s.jsx(_e,{children:"Price"}),s.jsx(_e,{children:"Rating"}),s.jsx(_e,{children:"Featured"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Dt,{children:d?s.jsx(ze,{children:s.jsx(fe,{colSpan:8,className:"text-center py-8",children:"Loading..."})}):t.length===0?s.jsx(ze,{children:s.jsx(fe,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:"No services found"})}):t.map(T=>s.jsxs(ze,{children:[s.jsx(fe,{children:T.id}),s.jsx(fe,{className:"font-medium",children:T.name}),s.jsx(fe,{children:T.third_party?T.third_party.name||T.third_party.email:T.third_party_id||""}),s.jsx(fe,{children:s.jsx(We,{variant:"outline",children:T.category||""})}),s.jsxs(fe,{children:["$",(parseFloat(T.price)||0).toFixed(2)]}),s.jsx(fe,{children:s.jsxs("div",{className:"flex items-center gap-1",children:[s.jsx(ar,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}),T.rating?Number(T.rating).toFixed(1):"N/A"]})}),s.jsx(fe,{children:s.jsx(We,{variant:T.featured?"default":"secondary",children:T.featured?"Yes":"No"})}),s.jsx(fe,{children:s.jsx(pe,{variant:"ghost",size:"sm",className:"text-destructive",onClick:()=>C(T),children:s.jsx(Zs,{className:"w-4 h-4"})})})]},T.id))})]})})})]}),s.jsxs(Zt,{value:"third-parties",className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Se,{placeholder:"Search third parties...",value:g.thirdParties.search,onChange:T=>y(W=>({...W,thirdParties:{...W.thirdParties,search:T.target.value}})),className:"w-64"}),s.jsx(pe,{variant:"outline",size:"icon",onClick:b,"aria-label":"Refresh",children:s.jsx(Mt,{className:"w-4 h-4"})})]}),s.jsx(Ue,{children:s.jsx(qe,{className:"p-0",children:s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Name"}),s.jsx(_e,{children:"Contact"}),s.jsx(_e,{children:"Category"}),s.jsx(_e,{children:"City"}),s.jsx(_e,{children:"Subscription"}),s.jsx(_e,{children:"Created"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Dt,{children:d?s.jsx(ze,{children:s.jsx(fe,{colSpan:8,className:"text-center py-8",children:"Loading..."})}):r.length===0?s.jsx(ze,{children:s.jsx(fe,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:"No third parties found"})}):r.map(T=>s.jsxs(ze,{children:[s.jsx(fe,{children:T.id}),s.jsx(fe,{className:"font-medium",children:T.name}),s.jsx(fe,{children:T.email||T.phone||""}),s.jsx(fe,{children:s.jsx(We,{variant:"outline",children:T.category||""})}),s.jsx(fe,{children:T.city||""}),s.jsx(fe,{children:T.subscription_status||""}),s.jsx(fe,{children:T.created_at?new Date(T.created_at).toLocaleDateString():""}),s.jsx(fe,{children:s.jsx(pe,{variant:"ghost",size:"sm",className:"text-destructive",onClick:()=>B(T),children:s.jsx(Zs,{className:"w-4 h-4"})})})]},T.id))})]})})})]}),s.jsxs(Zt,{value:"service-items",className:"space-y-4",children:[s.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[s.jsxs(ft,{value:m,onValueChange:T=>f(T),children:[s.jsx(ut,{className:"w-64",children:s.jsx(mt,{placeholder:"Select a service to view items"})}),s.jsx(ht,{children:t.map(T=>s.jsx(ke,{value:String(T.id),children:T.name},T.id))})]}),m&&s.jsx(pe,{variant:"outline",size:"icon",onClick:()=>N(m),"aria-label":"Refresh",children:s.jsx(Mt,{className:"w-4 h-4"})})]}),m?s.jsxs(Ue,{children:[s.jsx(ps,{children:s.jsxs(gs,{children:["Items for Service #",m]})}),s.jsx(qe,{className:"p-0",children:s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Name"}),s.jsx(_e,{children:"Description"}),s.jsx(_e,{children:"Price"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Dt,{children:d?s.jsx(ze,{children:s.jsx(fe,{colSpan:5,className:"text-center py-8",children:"Loading..."})}):a.length===0?s.jsx(ze,{children:s.jsx(fe,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"No items found"})}):a.map(T=>s.jsxs(ze,{children:[s.jsx(fe,{children:T.id}),s.jsx(fe,{className:"font-medium",children:T.name}),s.jsx(fe,{className:"max-w-xs truncate",children:T.description||"N/A"}),s.jsxs(fe,{children:["$",(parseFloat(T.price)||0).toFixed(2)]}),s.jsx(fe,{children:s.jsx(pe,{variant:"ghost",size:"sm",className:"text-destructive",onClick:()=>E(T),children:s.jsx(Zs,{className:"w-4 h-4"})})})]},T.id))})]})})]}):s.jsx(Ue,{children:s.jsxs(qe,{className:"py-12 text-center text-muted-foreground",children:[s.jsx(Bi,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"Select a service from the dropdown above"})]})})]}),s.jsxs(Zt,{value:"service-feedbacks",className:"space-y-4",children:[s.jsx(pe,{variant:"outline",size:"icon",onClick:k,"aria-label":"Refresh",children:s.jsx(Mt,{className:"w-4 h-4"})}),s.jsx(Ue,{children:s.jsx(qe,{className:"p-0",children:s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Service"}),s.jsx(_e,{children:"User"}),s.jsx(_e,{children:"Rating"}),s.jsx(_e,{children:"Comment"}),s.jsx(_e,{children:"Created"}),s.jsx(_e,{children:"Actions"})]})}),s.jsx(Dt,{children:d?s.jsx(ze,{children:s.jsx(fe,{colSpan:7,className:"text-center py-8",children:"Loading..."})}):o.length===0?s.jsx(ze,{children:s.jsx(fe,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"No feedbacks found"})}):o.map(T=>s.jsxs(ze,{children:[s.jsx(fe,{children:T.id}),s.jsx(fe,{children:T.service?.name||T.service_id}),s.jsx(fe,{children:T.user?.name||T.user_id}),s.jsx(fe,{children:s.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((W,U)=>s.jsx(ar,{className:`w-4 h-4 ${U<(T.rating||0)?"text-yellow-500 fill-yellow-500":"text-gray-300"}`},U))})}),s.jsx(fe,{className:"max-w-xs truncate",children:T.comment||"N/A"}),s.jsx(fe,{children:T.created_at?new Date(T.created_at).toLocaleDateString():""}),s.jsx(fe,{children:s.jsx(pe,{variant:"ghost",size:"sm",className:"text-destructive",onClick:()=>z(T),children:s.jsx(Zs,{className:"w-4 h-4"})})})]},T.id))})]})})})]})]}),s.jsx(Cy,{open:v.open,onOpenChange:T=>w(W=>({...W,open:T})),children:s.jsxs(sp,{children:[s.jsxs(rp,{children:[s.jsx(ap,{children:v.title}),s.jsx(ip,{children:v.message})]}),s.jsxs(np,{children:[s.jsx(lp,{children:"Cancel"}),s.jsx(op,{onClick:v.onConfirm,children:"Confirm"})]})]})})]})}const J9="https://rento-lb.com/api/storage/",e7="/avatar.png",uwe=20;function hwe(t,e=null){if(!t)return e;if(t.startsWith("http"))return t;const r=t.startsWith("/")?t.slice(1):t;return J9+r}function fwe(t){return t?String(t).toLowerCase().split("?")[0].endsWith(".pdf"):!1}const nd=360,ad=260,Ll=120,px=2.5;function mwe({src:t,alt:e,className:r=""}){const[n,a]=_.useState(!1),[i,o]=_.useState({x:0,y:0}),c=_.useRef(null),d=w=>{if(!c.current)return;const j=c.current.getBoundingClientRect(),b=(w.clientX-j.left)/j.width,N=(w.clientY-j.top)/j.height;o({x:Math.max(0,Math.min(1,b)),y:Math.max(0,Math.min(1,N))})},h=i.x*nd,m=i.y*ad,f=-(h*px-Ll/2),g=-(m*px-Ll/2),y=Math.max(0,Math.min(nd-Ll,i.x*nd-Ll/2)),v=Math.max(0,Math.min(ad-Ll,i.y*ad-Ll/2));return s.jsxs("div",{ref:c,className:`relative overflow-hidden rounded-md border cursor-crosshair ${r}`,style:{width:nd,height:ad},onMouseEnter:()=>a(!0),onMouseLeave:()=>a(!1),onMouseMove:d,children:[s.jsx("img",{src:t,alt:e,className:"w-full h-full object-contain",style:{width:nd,height:ad},draggable:!1,onError:w=>{w.currentTarget.onerror=null,w.currentTarget.src="/avatar.png"}}),n&&s.jsx("div",{className:"absolute pointer-events-none rounded-full border-2 border-white shadow-xl bg-no-repeat",style:{width:Ll,height:Ll,left:y,top:v,backgroundImage:`url(${t})`,backgroundSize:`${nd*px}px ${ad*px}px`,backgroundPosition:`${f}px ${g}px`}})]})}function W1({title:t,path:e,fallback:r=null}){const n=hwe(e,r);if(!n)return s.jsx("div",{className:"text-sm text-muted-foreground",children:"N/A"});if(fwe(n)){const a=`${n}#toolbar=0&navpanes=0&scrollbar=0`;return s.jsx("iframe",{title:t,src:a,className:"w-full rounded-md border bg-white",style:{width:nd,height:ad}})}return s.jsx(mwe,{src:n,alt:t})}function pwe(t){const e=t?.profile_picture;if(!e)return e7;if(e.startsWith("http"))return e;const r=e.startsWith("/")?e.slice(1):e;return J9+r}function gwe(){const[t,e]=_.useState([]),[r,n]=_.useState({current_page:1,last_page:1,total:0}),[a,i]=_.useState(!0),[o,c]=_.useState(1),[d,h]=_.useState(""),[m,f]=_.useState("all"),[g,y]=_.useState(!1),[v,w]=_.useState(null),[j,b]=_.useState(null),[N,k]=_.useState({first_name:"",middle_name:"",last_name:"",id_number:"",passport_number:"",driver_license_number:"",gender:"",date_of_birth:"",mother_name:"",place_of_birth:""}),[S,C]=_.useState(null),[B,E]=_.useState(!1),z=async()=>{i(!0);try{const $={page:o,per_page:uwe};m&&m!=="all"&&($.role=m),d?.trim()&&($.search=d.trim());const oe=await Am($),q=oe.data?.users||oe.data,Y=q?.data||[];e(Y),n({current_page:q.current_page??1,last_page:q.last_page??1,total:q.total??0})}catch($){ve.error($.response?.data?.message||"Failed to load users"),e([])}finally{i(!1)}};_.useEffect(()=>{z()},[o,m]);const T=()=>{c(1),z()},W=async $=>{w($),y(!0),b(null),C(null),k({first_name:"",middle_name:"",last_name:"",id_number:"",passport_number:"",driver_license_number:"",gender:"",date_of_birth:"",mother_name:"",place_of_birth:""});try{const oe=await Xxe($.id),q=oe.data?.user||oe.data;b(q);try{const Y=await v0e($.id),ce=Y.data?.data??Y.data?.real_user_data;ce&&(C(ce),k({first_name:ce.first_name||"",middle_name:ce.middle_name||"",last_name:ce.last_name||"",id_number:ce.id_number||"",passport_number:ce.passport_number||"",driver_license_number:ce.driver_license_number||"",gender:ce.gender||"",date_of_birth:ce.date_of_birth||"",mother_name:ce.mother_name||"",place_of_birth:ce.place_of_birth||""}))}catch{}}catch{ve.error("Failed to load user details")}},U=()=>{y(!1),w(null),b(null),C(null)},L=$=>{const{name:oe,value:q}=$.target;k(Y=>({...Y,[oe]:q}))},Z=($,oe)=>{k(q=>({...q,[$]:oe}))},O=async $=>{if($.preventDefault(),!v)return;const oe={...N};if(!oe.first_name||!oe.last_name||!oe.gender){ve.error("First name, last name, and gender are required");return}if(!!!(oe.id_number||oe.passport_number||oe.driver_license_number)){ve.error("At least one of ID number, passport number, or driver license number is required");return}E(!0);try{await w0e(v.id,oe),ve.success("Real user data saved. User is now verified."),U(),z()}catch(Y){ve.error(Y.response?.data?.message||"Failed to save")}finally{E(!1)}},se=async $=>{if(S?.id)try{await j0e(S.id,{status:$}),ve.success($==="approved"?"User verified.":"Status updated."),U(),z()}catch(oe){ve.error(oe.response?.data?.message||"Failed to update status")}},K=async()=>{if(v&&confirm("Delete real user data for this user?"))try{await _0e(v.id),ve.success("Real user data deleted."),U(),z()}catch($){ve.error($.response?.data?.message||"Failed to delete")}},M=t,X=$=>$?.first_name&&$?.last_name?`${$.first_name} ${$.last_name}`:$?.username||$?.name||`User #${$?.id}`;return s.jsxs("div",{className:"space-y-6",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Real User Data"}),s.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[s.jsxs("div",{className:"relative flex-1 min-w-[200px] max-w-sm",children:[s.jsx(Br,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),s.jsx(Se,{placeholder:"Search by name, email, phone, username...",value:d,onChange:$=>h($.target.value),onKeyDown:$=>$.key==="Enter"&&T(),className:"pl-9"})]}),s.jsxs(ft,{value:m,onValueChange:$=>{f($),c(1)},children:[s.jsx(ut,{className:"w-36",children:s.jsx(mt,{placeholder:"Role"})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"all",children:"All Roles"}),s.jsx(ke,{value:"client",children:"Client"}),s.jsx(ke,{value:"agency",children:"Agency"}),s.jsx(ke,{value:"admin",children:"Admin"})]})]}),s.jsx(pe,{variant:"outline",onClick:T,children:"Search"}),s.jsx(pe,{variant:"outline",size:"icon",onClick:z,children:s.jsx(fh,{className:"h-4 w-4"})})]}),s.jsxs(Ue,{children:[s.jsx(ps,{children:s.jsxs(gs,{className:"flex items-center gap-2",children:[s.jsx(Ss,{className:"w-5 h-5"}),"Users  select one to fill real user data"]})}),s.jsx(qe,{className:"p-0",children:a?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Vx,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"User"}),s.jsx(_e,{children:"Name"}),s.jsx(_e,{children:"Phone"}),s.jsx(_e,{children:"Username"}),s.jsx(_e,{children:"Verified"}),s.jsx(_e,{className:"text-right",children:"Action"})]})}),s.jsxs(Dt,{children:[M.map($=>s.jsxs(ze,{className:"hover:bg-muted/50",children:[s.jsx(fe,{className:"font-medium",children:$.id}),s.jsx(fe,{children:s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("img",{src:pwe($),alt:"",className:"h-8 w-8 rounded-full object-cover",onError:oe=>{oe.currentTarget.onerror=null,oe.currentTarget.src=e7}}),s.jsx("span",{children:X($)})]})}),s.jsx(fe,{children:$.first_name&&$.last_name?`${$.first_name} ${$.last_name}`:""}),s.jsx(fe,{children:$.phone_number||""}),s.jsx(fe,{children:$.username||""}),s.jsx(fe,{children:$.verified_by_admin?s.jsx(Gx,{className:"h-4 w-4 text-green-600"}):s.jsx("span",{className:"text-muted-foreground",children:""})}),s.jsx(fe,{className:"text-right",children:s.jsxs(pe,{size:"sm",onClick:()=>W($),style:{background:`linear-gradient(to right, ${di.darkBlue}, ${di.teal})`},className:"text-white",children:[s.jsx(vr,{className:"w-4 h-4 mr-2"}),"Fill Real Data"]})})]},$.id)),M.length===0&&s.jsx(ze,{children:s.jsx(fe,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"No users found"})})]})]})})]}),r.last_page>1&&s.jsxs("div",{className:"flex items-center justify-between text-sm",children:[s.jsxs("span",{className:"text-muted-foreground",children:["Page ",r.current_page," of ",r.last_page,"  Total ",r.total]}),s.jsxs("div",{className:"flex gap-2",children:[s.jsx(pe,{variant:"outline",size:"sm",disabled:o<=1,onClick:()=>c($=>$-1),children:"Previous"}),s.jsx(pe,{variant:"outline",size:"sm",disabled:o>=r.last_page,onClick:()=>c($=>$+1),children:"Next"})]})]}),s.jsx(Go,{children:g&&v&&s.jsx(Kr,{open:g,onOpenChange:$=>!$&&U(),children:s.jsxs(Ir,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[s.jsx(zr,{children:s.jsxs(Ur,{className:"flex items-center gap-2",children:[s.jsx(Gx,{className:"w-5 h-5"}),"Real User Data  ",X(v)," (ID: ",v.id,")"]})}),s.jsxs("form",{onSubmit:O,className:"space-y-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx("p",{className:"text-xs text-muted-foreground",children:"Hover over images to magnify and see details"}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs(Ue,{children:[s.jsx(ps,{children:s.jsxs(gs,{className:"text-sm flex items-center gap-2",children:[s.jsx(Jc,{className:"w-4 h-4"}),"ID Card  Front"]})}),s.jsx(qe,{children:s.jsx("div",{className:"w-full bg-muted rounded-lg flex items-center justify-center overflow-hidden border-2 border-dashed min-h-[260px]",children:j?.id_card_front?s.jsx(W1,{title:"ID Card Front",path:j.id_card_front}):s.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[s.jsx(Jc,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No Front ID"})]})})})]}),s.jsxs(Ue,{children:[s.jsx(ps,{children:s.jsxs(gs,{className:"text-sm flex items-center gap-2",children:[s.jsx(Jc,{className:"w-4 h-4"}),"ID Card  Back"]})}),s.jsx(qe,{children:s.jsx("div",{className:"w-full bg-muted rounded-lg flex items-center justify-center overflow-hidden border-2 border-dashed min-h-[260px]",children:j?.id_card_back?s.jsx(W1,{title:"ID Card Back",path:j.id_card_back}):s.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[s.jsx(Jc,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No Back ID"})]})})})]}),s.jsxs(Ue,{children:[s.jsx(ps,{children:s.jsxs(gs,{className:"text-sm flex items-center gap-2",children:[s.jsx(Jc,{className:"w-4 h-4"}),"Driver License"]})}),s.jsx(qe,{children:s.jsx("div",{className:"w-full bg-muted rounded-lg flex items-center justify-center overflow-hidden border-2 border-dashed min-h-[260px]",children:j?.client?.driver_license?s.jsx(W1,{title:"Driver License",path:j.client.driver_license}):s.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[s.jsx(Jc,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),s.jsx("p",{className:"text-sm",children:"No License"})]})})})]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"first_name",children:"First Name *"}),s.jsx(Se,{id:"first_name",name:"first_name",value:N.first_name,onChange:L,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"middle_name",children:"Middle Name"}),s.jsx(Se,{id:"middle_name",name:"middle_name",value:N.middle_name,onChange:L})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"last_name",children:"Last Name *"}),s.jsx(Se,{id:"last_name",name:"last_name",value:N.last_name,onChange:L,required:!0})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"id_number",children:"ID Number"}),s.jsx(Se,{id:"id_number",name:"id_number",value:N.id_number,onChange:L})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"passport_number",children:"Passport Number"}),s.jsx(Se,{id:"passport_number",name:"passport_number",value:N.passport_number,onChange:L})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"driver_license_number",children:"Driver License Number"}),s.jsx(Se,{id:"driver_license_number",name:"driver_license_number",value:N.driver_license_number,onChange:L})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"gender",children:"Gender *"}),s.jsxs(ft,{value:N.gender,onValueChange:$=>Z("gender",$),children:[s.jsx(ut,{children:s.jsx(mt,{placeholder:"Select"})}),s.jsxs(ht,{children:[s.jsx(ke,{value:"male",children:"Male"}),s.jsx(ke,{value:"female",children:"Female"})]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"date_of_birth",children:"Date of Birth"}),s.jsx(Se,{id:"date_of_birth",name:"date_of_birth",type:"date",value:N.date_of_birth,onChange:L})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"mother_name",children:"Mother's Name"}),s.jsx(Se,{id:"mother_name",name:"mother_name",value:N.mother_name,onChange:L})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(ue,{htmlFor:"place_of_birth",children:"Place of Birth"}),s.jsx(Se,{id:"place_of_birth",name:"place_of_birth",value:N.place_of_birth,onChange:L})]})]}),s.jsxs(QO,{className:"flex-wrap gap-2",children:[S&&s.jsxs(s.Fragment,{children:[S.status!=="approved"&&s.jsxs(pe,{type:"button",onClick:()=>se("approved"),className:"bg-green-600 hover:bg-green-700",children:[s.jsx(ga,{className:"h-4 w-4 mr-2"}),"Approve"]}),S.status!=="not_approved"&&s.jsxs(pe,{type:"button",variant:"destructive",onClick:()=>se("not_approved"),children:[s.jsx(tr,{className:"h-4 w-4 mr-2"}),"Reject"]}),s.jsx(pe,{type:"button",variant:"outline",onClick:K,className:"text-red-500",children:"Delete Real Data"})]}),s.jsx(pe,{type:"button",variant:"outline",onClick:U,disabled:B,children:"Cancel"}),s.jsx(pe,{type:"submit",disabled:B,style:{background:`linear-gradient(to right, ${di.darkBlue}, ${di.teal})`},className:"text-white",children:B?s.jsxs(s.Fragment,{children:[s.jsx(Vx,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):s.jsxs(s.Fragment,{children:[s.jsx(vG,{className:"w-4 h-4 mr-2"}),"Save Real Data"]})})]})]})]})})})]})}const gx={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640"};function xwe(){const t=sn(),[e,r]=_.useState(!1),[n,a]=_.useState([]),[i,o]=_.useState({totalAds:0,activeAds:0,totalViews:0,totalClicks:0,averageCTR:0});_.useEffect(()=>{c()},[]);const c=async()=>{r(!0);try{const f=(await Oe.get("/admin/ads?per_page=100")).data?.ads||[];a(f);const g=f.filter(j=>{if(!j.online)return!1;const b=new Date,N=new Date(j.start_at),k=new Date(j.expire_at);return b>=N&&b<=k}),y=f.reduce((j,b)=>j+(b.nb_views||0),0),v=f.reduce((j,b)=>j+(b.nb_clicks||0),0),w=y>0?(v/y*100).toFixed(2):0;o({totalAds:f.length,activeAds:g.length,totalViews:y,totalClicks:v,averageCTR:parseFloat(w)})}catch(m){ve.error(m.response?.data?.message||"Failed to fetch ads")}finally{r(!1)}},d=()=>{const m=[{key:"id",label:"ID"},{key:"website",label:"Website"},{key:"company_type",label:"Company Type"},{key:"nb_views",label:"Views"},{key:"nb_clicks",label:"Clicks"},{key:"ctr",label:"CTR (%)",transform:g=>{const y=g.nb_views||0,v=g.nb_clicks||0;return y>0?(v/y*100).toFixed(2):"0.00"}},{key:"online",label:"Status",transform:g=>g.online?"Online":"Offline"},{key:"start_at",label:"Start Date",transform:g=>new Date(g.start_at).toLocaleString()},{key:"expire_at",label:"Expire Date",transform:g=>new Date(g.expire_at).toLocaleString()}],f=n.map(g=>({...g,ctr:m.find(y=>y.key==="ctr")?.transform?.(g),online:m.find(y=>y.key==="online")?.transform?.(g),start_at:m.find(y=>y.key==="start_at")?.transform?.(g),expire_at:m.find(y=>y.key==="expire_at")?.transform?.(g)}));UI(f,m,"ads-analytics")},h=()=>{const m=[{key:"id",label:"ID"},{key:"website",label:"Website"},{key:"company_type",label:"Company Type"},{key:"nb_views",label:"Views"},{key:"nb_clicks",label:"Clicks"},{key:"ctr",label:"CTR (%)",transform:g=>{const y=g.nb_views||0,v=g.nb_clicks||0;return y>0?(v/y*100).toFixed(2):"0.00"}},{key:"online",label:"Status",transform:g=>g.online?"Online":"Offline"}],f=n.map(g=>({...g,ctr:m.find(y=>y.key==="ctr")?.transform?.(g),online:m.find(y=>y.key==="online")?.transform?.(g)}));$I(f,m,"Ads Analytics Report","ads-analytics")};return s.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900 p-4 sm:p-6 lg:p-8",children:s.jsxs("div",{className:"max-w-7xl mx-auto",children:[s.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(to right, ${gx.darkBlue}, ${gx.teal}, ${gx.limeGreen})`},children:"Ads Analytics"}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Track views, clicks, and performance metrics for all ads"})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsxs(pe,{variant:"outline",onClick:d,children:[s.jsx(Wu,{className:"w-4 h-4 mr-2"}),"Export Excel"]}),s.jsxs(pe,{variant:"outline",onClick:h,children:[s.jsx(Wu,{className:"w-4 h-4 mr-2"}),"Export PDF"]}),s.jsxs(pe,{variant:"outline",onClick:()=>t("/admin-panel-page"),className:"flex items-center gap-2",children:[s.jsx(Ui,{className:"w-4 h-4"}),"Back to Admin Panel"]})]})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-6",children:[s.jsxs(Ue,{children:[s.jsxs(ps,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(gs,{className:"text-sm font-medium",children:"Total Ads"}),s.jsx(qu,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(qe,{children:s.jsx("div",{className:"text-2xl font-bold",children:i.totalAds})})]}),s.jsxs(Ue,{children:[s.jsxs(ps,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(gs,{className:"text-sm font-medium",children:"Active Ads"}),s.jsx(Hs,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(qe,{children:s.jsx("div",{className:"text-2xl font-bold",children:i.activeAds})})]}),s.jsxs(Ue,{children:[s.jsxs(ps,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(gs,{className:"text-sm font-medium",children:"Total Views"}),s.jsx(nr,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(qe,{children:s.jsx("div",{className:"text-2xl font-bold",children:i.totalViews.toLocaleString()})})]}),s.jsxs(Ue,{children:[s.jsxs(ps,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(gs,{className:"text-sm font-medium",children:"Total Clicks"}),s.jsx(hd,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(qe,{children:s.jsx("div",{className:"text-2xl font-bold",children:i.totalClicks.toLocaleString()})})]}),s.jsxs(Ue,{children:[s.jsxs(ps,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(gs,{className:"text-sm font-medium",children:"Avg CTR"}),s.jsx(Zl,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsx(qe,{children:s.jsxs("div",{className:"text-2xl font-bold",children:[i.averageCTR,"%"]})})]})]}),s.jsxs(Ue,{children:[s.jsx(ps,{children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(gs,{children:"Ads Performance"}),s.jsx(pe,{variant:"outline",size:"icon",onClick:c,disabled:e,children:s.jsx(Mt,{className:`w-4 h-4 ${e?"animate-spin":""}`})})]})}),s.jsx(qe,{children:e?s.jsx("div",{className:"flex items-center justify-center py-12",children:s.jsx(Mt,{className:"w-8 h-8 animate-spin",style:{color:gx.teal}})}):n.length===0?s.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[s.jsx(qu,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),s.jsx("p",{children:"No ads found"})]}):s.jsx("div",{className:"overflow-x-auto",children:s.jsxs(Tt,{children:[s.jsx(Rt,{children:s.jsxs(ze,{children:[s.jsx(_e,{children:"ID"}),s.jsx(_e,{children:"Website"}),s.jsx(_e,{children:"Company Type"}),s.jsx(_e,{children:"Views"}),s.jsx(_e,{children:"Clicks"}),s.jsx(_e,{children:"CTR (%)"}),s.jsx(_e,{children:"Status"}),s.jsx(_e,{children:"Start Date"}),s.jsx(_e,{children:"Expire Date"})]})}),s.jsx(Dt,{children:n.map(m=>{const f=m.nb_views||0,g=m.nb_clicks||0,y=f>0?(g/f*100).toFixed(2):"0.00",v=m.online&&new Date>=new Date(m.start_at)&&new Date<=new Date(m.expire_at);return s.jsxs(ze,{children:[s.jsx(fe,{className:"font-medium",children:m.id}),s.jsx(fe,{children:m.website||"N/A"}),s.jsx(fe,{children:m.company_type||"N/A"}),s.jsx(fe,{children:f.toLocaleString()}),s.jsx(fe,{children:g.toLocaleString()}),s.jsx(fe,{children:s.jsxs("span",{className:`font-semibold ${parseFloat(y)>2?"text-green-600":parseFloat(y)>1?"text-yellow-600":"text-gray-600"}`,children:[y,"%"]})}),s.jsx(fe,{children:v?s.jsx(We,{variant:"default",children:"Active"}):s.jsx(We,{variant:"secondary",children:"Inactive"})}),s.jsx(fe,{children:new Date(m.start_at).toLocaleDateString()}),s.jsx(fe,{children:new Date(m.expire_at).toLocaleDateString()})]},m.id)})})]})})})]})]})})}const ywe=async()=>{try{return(await Oe.get("/ads")).data?.ads||[]}catch(t){return console.error("Error fetching active ads:",t),[]}},bwe=async t=>{try{await Oe.post(`/ads/${t}/view`)}catch(e){console.error("Error tracking ad view:",e)}},vwe=async t=>{try{await Oe.post(`/ads/${t}/click`)}catch(e){console.error("Error tracking ad click:",e)}};function G1(){const[t,e]=_.useState(!1),[r,n]=_.useState(null);_.useEffect(()=>{if(sessionStorage.getItem("adsPopupShown"))return;const c=async()=>{try{const h=await ywe();if(h.length>0){const m=h[Math.floor(Math.random()*h.length)];n(m),e(!0),m.id&&await bwe(m.id)}}catch(h){console.error("Error fetching ads:",h)}},d=setTimeout(()=>{c()},2e4);return()=>clearTimeout(d)},[]);const a=()=>{e(!1),sessionStorage.setItem("adsPopupShown","true")},i=async()=>{if(r?.id)try{await vwe(r.id)}catch(o){console.error("Error tracking ad click:",o)}finally{r.target_url&&window.open(r.target_url,"_blank")}};return!t||!r?null:s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-fade-in",children:s.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-lg shadow-2xl max-w-2xl w-full mx-4 animate-scale-in",children:[s.jsx(pe,{variant:"ghost",size:"icon",onClick:a,className:"absolute top-2 right-2 z-10",children:s.jsx(tr,{className:"w-5 h-5"})}),s.jsxs("div",{className:"p-6",children:[r.image_url&&s.jsx("div",{className:"cursor-pointer mb-4 rounded-lg overflow-hidden",onClick:i,children:s.jsx("img",{src:r.image_url.startsWith("http")?r.image_url:`/api/storage/${r.image_url}`,alt:r.ads_text||"Advertisement",className:"w-full h-auto object-contain max-h-96"})}),r.ads_text&&s.jsx("div",{className:"text-center cursor-pointer",onClick:i,children:s.jsx("p",{className:"text-lg font-semibold mb-2",children:r.ads_text})}),r.target_url&&s.jsx("div",{className:"mt-4 text-center",children:s.jsx(pe,{onClick:i,className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white",children:"Visit Website"})})]})]})})}const s6="https://rento-lb.com/watch",wwe="https://rento-lb.com/hero.mp4",t7="https://images.unsplash.com/photo-1492144534655-ae79c964c9d7?w=1280&q=80",jwe={"@context":"https://schema.org","@type":"VideoObject","@id":`${s6}#video`,name:"Rento LB  Rent a Car in Lebanon",description:"Premium car rental in Lebanon. Compare and book from agencies and private owners.",thumbnailUrl:t7,uploadDate:"2024-01-01T00:00:00Z",contentUrl:wwe,embedUrl:s6,publisher:{"@id":"https://rento-lb.com/#organization"}};function _we(){const t=sn();return _.useEffect(()=>{document.title="Watch  Rento LB | Car Rental Lebanon";const e=document.createElement("script");return e.type="application/ld+json",e.setAttribute("data-watch-page-schema","true"),e.textContent=JSON.stringify(jwe),document.head.appendChild(e),()=>{const r=document.querySelector('script[data-watch-page-schema="true"]');r&&document.head.removeChild(r)}},[]),s.jsxs("div",{className:"min-h-screen bg-black",children:[s.jsx("div",{className:"absolute top-4 left-4 z-10",children:s.jsxs(pe,{variant:"secondary",size:"sm",onClick:()=>t("/"),className:"gap-2",children:[s.jsx(Ui,{className:"w-4 h-4"}),"Back to Home"]})}),s.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:[s.jsx("h1",{className:"sr-only",children:"Rento LB  Rent a Car in Lebanon"}),s.jsxs("video",{className:"w-full max-w-4xl rounded-lg shadow-2xl",controls:!0,autoPlay:!0,playsInline:!0,poster:t7,src:"/hero.mp4",children:[s.jsx("source",{src:"/hero.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]}),s.jsx("p",{className:"mt-4 text-white/80 text-sm text-center max-w-lg",children:"Premium car rental in Lebanon. Compare and book from trusted agencies and private owners."})]})]})}const s7=async()=>{try{return(await Oe.get("/profile/status")).data.is_complete}catch(t){return console.error("Profile status check failed:",t),!1}},Nwe=({children:t})=>!localStorage.getItem("authToken")?s.jsx(Bo,{to:"/auth",replace:!0}):t,Zc=({children:t})=>{const[e,r]=_.useState(!0),[n,a]=_.useState(!1),i=!!localStorage.getItem("authToken");return _.useEffect(()=>{(async()=>{if(!i){r(!1);return}const c=await s7();a(c),r(!1)})()},[i]),i?e?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n?t:s.jsx(Bo,{to:"/Complete-Profile",replace:!0}):s.jsx(Bo,{to:"/auth",replace:!0})},Qc=({children:t})=>{const[e,r]=_.useState(!0),[n,a]=_.useState(!1),i=!!localStorage.getItem("authToken"),o=JSON.parse(localStorage.getItem("user")||"{}");return _.useEffect(()=>{(async()=>{if(!i){r(!1);return}const d=await s7();a(d),r(!1)})()},[i]),i?o.role!=="agency"&&o.role!=="agent"?s.jsx(Bo,{to:"/",replace:!0}):e?s.jsx("div",{className:"min-h-screen flex items-center justify-center",children:s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n?t:s.jsx(Bo,{to:"/Complete-Profile",replace:!0}):s.jsx(Bo,{to:"/auth",replace:!0})},Y1=({children:t})=>{const e=!!localStorage.getItem("authToken"),r=JSON.parse(localStorage.getItem("user")||"{}");return e?r.role!=="admin"?s.jsx(Bo,{to:"/admin-auth",replace:!0}):t:s.jsx(Bo,{to:"/admin-auth",replace:!0})},ln=({children:t,noIndex:e=!1})=>s.jsxs(s.Fragment,{children:[s.jsx(Hue,{noIndex:e}),s.jsx(MK,{}),t,s.jsx(PK,{})]});function Swe(){const{i18n:t}=SU(),e=Wa();return _.useEffect(()=>{const r=localStorage.getItem("language")||"en";document.documentElement.lang=r,document.documentElement.dir=r==="ar"?"rtl":"ltr"},[]),_.useEffect(()=>{typeof window.fbq=="function"&&window.fbq("track","PageView")},[e.pathname]),s.jsxs("div",{className:"min-h-screen",children:[s.jsxs(NV,{children:[s.jsx(It,{path:"/",element:s.jsxs(s.Fragment,{children:[s.jsx(ln,{children:s.jsx(DJ,{})}),s.jsx(G1,{})]})}),s.jsx(It,{path:"/auth",element:s.jsx(ln,{noIndex:!0,children:s.jsx(AJ,{})})}),s.jsx(It,{path:"/about",element:s.jsx(ln,{children:s.jsx(Fee,{})})}),s.jsx(It,{path:"/contact",element:s.jsx(ln,{children:s.jsx(Bee,{})})}),s.jsx(It,{path:"/watch",element:s.jsx(_we,{})}),s.jsx(It,{path:"/mobile-app",element:s.jsx(ln,{children:s.jsx(Exe,{})})}),s.jsx(It,{path:"/Privacy-Policy",element:s.jsx(Nxe,{})}),s.jsx(It,{path:"/Terms-and-Conditions",element:s.jsx(Cxe,{})}),s.jsx(It,{path:"/admin-auth",element:s.jsx(ln,{noIndex:!0,children:s.jsx(iye,{})})}),s.jsx(It,{path:"/admin-panel-page",element:s.jsx(Y1,{children:s.jsx(ln,{noIndex:!0,children:s.jsx(X0e,{})})})}),s.jsx(It,{path:"/admin/ads-analytics",element:s.jsx(Y1,{children:s.jsx(ln,{noIndex:!0,children:s.jsx(xwe,{})})})}),s.jsxs(It,{path:"/admin",element:s.jsx(Y1,{children:s.jsx(Zbe,{})}),children:[s.jsx(It,{index:!0,element:s.jsx(sve,{})}),s.jsx(It,{path:"users",element:s.jsx(lve,{})}),s.jsx(It,{path:"agencies",element:s.jsx(cwe,{})}),s.jsx(It,{path:"cars",element:s.jsx(vve,{})}),s.jsx(It,{path:"bookings",element:s.jsx(Tve,{})}),s.jsx(It,{path:"real-user-data",element:s.jsx(gwe,{})}),s.jsx(It,{path:"payments",element:s.jsx(Ive,{})}),s.jsx(It,{path:"promo-codes",element:s.jsx(rwe,{})}),s.jsx(It,{path:"brokers",element:s.jsx(nwe,{})}),s.jsx(It,{path:"ads",element:s.jsx(Vve,{})}),s.jsx(It,{path:"featured",element:s.jsx(Hve,{})}),s.jsx(It,{path:"holidays",element:s.jsx(Wve,{})}),s.jsx(It,{path:"announcements",element:s.jsx(Yve,{})}),s.jsx(It,{path:"appeals",element:s.jsx(Xve,{})}),s.jsx(It,{path:"suggestions",element:s.jsx(Qve,{})}),s.jsx(It,{path:"services",element:s.jsx(dwe,{})}),s.jsx(It,{path:"notifications",element:s.jsx(ewe,{})}),s.jsx(It,{path:"otps",element:s.jsx(swe,{})})]}),s.jsx(It,{path:"/Complete-Profile",element:s.jsx(Nwe,{children:s.jsx(ln,{noIndex:!0,children:s.jsx(Gue,{})})})}),s.jsx(It,{path:"/Dashboard",element:s.jsx(Qc,{children:s.jsx(Ic,{children:s.jsx(Uue,{})})})}),s.jsx(It,{path:"/Statistic",element:s.jsx(Qc,{children:s.jsx(Ic,{children:s.jsx(_xe,{})})})}),s.jsx(It,{path:"/Mycars",element:s.jsx(Qc,{children:s.jsx(Ic,{children:s.jsx(xue,{})})})}),s.jsx(It,{path:"/Mycars-bookings",element:s.jsx(Qc,{children:s.jsx(Ic,{children:s.jsx(Pue,{})})})}),s.jsx(It,{path:"/Balance",element:s.jsx(Qc,{children:s.jsx(Ic,{children:s.jsx($ue,{})})})}),s.jsx(It,{path:"/add-car",element:s.jsx(Qc,{children:s.jsx(Ic,{children:s.jsx(Die,{})})})}),s.jsx(It,{path:"/Add/car/qualification",element:s.jsx(Qc,{children:s.jsx(Ic,{children:s.jsx(zue,{})})})}),s.jsx(It,{path:"/BookingChat",element:s.jsx(Zc,{children:s.jsx(ln,{children:s.jsx(kue,{})})})}),s.jsx(It,{path:"/client-Chat",element:s.jsx(Zc,{children:s.jsx(ln,{children:s.jsx(Kue,{})})})}),s.jsx(It,{path:"/socialmedia",element:s.jsx(ln,{children:s.jsx(Lue,{})})}),s.jsx(It,{path:"/cars",element:s.jsxs(s.Fragment,{children:[s.jsx(Zc,{children:s.jsx(ln,{children:s.jsx(BT,{})})}),s.jsx(G1,{})]})}),s.jsx(It,{path:"/ClientBookings",element:s.jsx(Zc,{children:s.jsx(ln,{children:s.jsx(Hte,{})})})}),s.jsx(It,{path:"/luxury-car-rental-lebanon",element:s.jsxs(s.Fragment,{children:[s.jsx(Zc,{children:s.jsx(ln,{children:s.jsx(BT,{})})}),s.jsx(G1,{})]})}),s.jsx(It,{path:"/cars/:id",element:s.jsx(Zc,{children:s.jsx(ln,{children:s.jsx(Pee,{})})})}),s.jsx(It,{path:"/favorites",element:s.jsx(Zc,{children:s.jsx(ln,{children:s.jsx(Lee,{})})})}),s.jsx(It,{path:"*",element:s.jsx(Bo,{to:"/",replace:!0})})]}),s.jsx(PH,{position:"top-right",richColors:!0})]})}function Cwe(){return s.jsx("div",{className:"App",children:s.jsx(YV,{children:s.jsx(Swe,{})})})}Fz.createRoot(document.getElementById("root")).render(lt.createElement(lt.StrictMode,null,lt.createElement(Cwe)));
