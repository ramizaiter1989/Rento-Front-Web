function $6(t,s){for(var a=0;a<s.length;a++){const n=s[a];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in t)){const i=Object.getOwnPropertyDescriptor(n,r);i&&Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function a(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=a(r);fetch(r.href,i)}})();function Jg(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Jy={exports:{}},Bt={};var ZC;function z6(){if(ZC)return Bt;ZC=1;var t=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),x=Symbol.iterator;function v(z){return z===null||typeof z!="object"?null:(z=x&&z[x]||z["@@iterator"],typeof z=="function"?z:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,_={};function N(z,ie,le){this.props=z,this.context=ie,this.refs=_,this.updater=le||j}N.prototype.isReactComponent={},N.prototype.setState=function(z,ie){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ie,"setState")},N.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function k(){}k.prototype=N.prototype;function D(z,ie,le){this.props=z,this.context=ie,this.refs=_,this.updater=le||j}var T=D.prototype=new k;T.constructor=D,w(T,N.prototype),T.isPureReactComponent=!0;var E=Array.isArray;function G(){}var A={H:null,A:null,T:null,S:null},F=Object.prototype.hasOwnProperty;function M(z,ie,le){var ne=le.ref;return{$$typeof:t,type:z,key:ie,ref:ne!==void 0?ne:null,props:le}}function J(z,ie){return M(z.type,ie,z.props)}function R(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function ee(z){var ie={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(le){return ie[le]})}var Y=/\/+/g;function re(z,ie){return typeof z=="object"&&z!==null&&z.key!=null?ee(""+z.key):ie.toString(36)}function te(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(G,G):(z.status="pending",z.then(function(ie){z.status==="pending"&&(z.status="fulfilled",z.value=ie)},function(ie){z.status==="pending"&&(z.status="rejected",z.reason=ie)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function V(z,ie,le,ne,fe){var Ne=typeof z;(Ne==="undefined"||Ne==="boolean")&&(z=null);var ye=!1;if(z===null)ye=!0;else switch(Ne){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(z.$$typeof){case t:case s:ye=!0;break;case p:return ye=z._init,V(ye(z._payload),ie,le,ne,fe)}}if(ye)return fe=fe(z),ye=ne===""?"."+re(z,0):ne,E(fe)?(le="",ye!=null&&(le=ye.replace(Y,"$&/")+"/"),V(fe,ie,le,"",function(Ge){return Ge})):fe!=null&&(R(fe)&&(fe=J(fe,le+(fe.key==null||z&&z.key===fe.key?"":(""+fe.key).replace(Y,"$&/")+"/")+ye)),ie.push(fe)),1;ye=0;var Le=ne===""?".":ne+":";if(E(z))for(var Se=0;Se<z.length;Se++)ne=z[Se],Ne=Le+re(ne,Se),ye+=V(ne,ie,le,Ne,fe);else if(Se=v(z),typeof Se=="function")for(z=Se.call(z),Se=0;!(ne=z.next()).done;)ne=ne.value,Ne=Le+re(ne,Se++),ye+=V(ne,ie,le,Ne,fe);else if(Ne==="object"){if(typeof z.then=="function")return V(te(z),ie,le,ne,fe);throw ie=String(z),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return ye}function U(z,ie,le){if(z==null)return z;var ne=[],fe=0;return V(z,ne,"","",function(Ne){return ie.call(le,Ne,fe++)}),ne}function H(z){if(z._status===-1){var ie=z._result;ie=ie(),ie.then(function(le){(z._status===0||z._status===-1)&&(z._status=1,z._result=le)},function(le){(z._status===0||z._status===-1)&&(z._status=2,z._result=le)}),z._status===-1&&(z._status=0,z._result=ie)}if(z._status===1)return z._result.default;throw z._result}var L=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},$={map:U,forEach:function(z,ie,le){U(z,function(){ie.apply(this,arguments)},le)},count:function(z){var ie=0;return U(z,function(){ie++}),ie},toArray:function(z){return U(z,function(ie){return ie})||[]},only:function(z){if(!R(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Bt.Activity=f,Bt.Children=$,Bt.Component=N,Bt.Fragment=a,Bt.Profiler=r,Bt.PureComponent=D,Bt.StrictMode=n,Bt.Suspense=u,Bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,Bt.__COMPILER_RUNTIME={__proto__:null,c:function(z){return A.H.useMemoCache(z)}},Bt.cache=function(z){return function(){return z.apply(null,arguments)}},Bt.cacheSignal=function(){return null},Bt.cloneElement=function(z,ie,le){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var ne=w({},z.props),fe=z.key;if(ie!=null)for(Ne in ie.key!==void 0&&(fe=""+ie.key),ie)!F.call(ie,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&ie.ref===void 0||(ne[Ne]=ie[Ne]);var Ne=arguments.length-2;if(Ne===1)ne.children=le;else if(1<Ne){for(var ye=Array(Ne),Le=0;Le<Ne;Le++)ye[Le]=arguments[Le+2];ne.children=ye}return M(z.type,fe,ne)},Bt.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:i,_context:z},z},Bt.createElement=function(z,ie,le){var ne,fe={},Ne=null;if(ie!=null)for(ne in ie.key!==void 0&&(Ne=""+ie.key),ie)F.call(ie,ne)&&ne!=="key"&&ne!=="__self"&&ne!=="__source"&&(fe[ne]=ie[ne]);var ye=arguments.length-2;if(ye===1)fe.children=le;else if(1<ye){for(var Le=Array(ye),Se=0;Se<ye;Se++)Le[Se]=arguments[Se+2];fe.children=Le}if(z&&z.defaultProps)for(ne in ye=z.defaultProps,ye)fe[ne]===void 0&&(fe[ne]=ye[ne]);return M(z,Ne,fe)},Bt.createRef=function(){return{current:null}},Bt.forwardRef=function(z){return{$$typeof:d,render:z}},Bt.isValidElement=R,Bt.lazy=function(z){return{$$typeof:p,_payload:{_status:-1,_result:z},_init:H}},Bt.memo=function(z,ie){return{$$typeof:h,type:z,compare:ie===void 0?null:ie}},Bt.startTransition=function(z){var ie=A.T,le={};A.T=le;try{var ne=z(),fe=A.S;fe!==null&&fe(le,ne),typeof ne=="object"&&ne!==null&&typeof ne.then=="function"&&ne.then(G,L)}catch(Ne){L(Ne)}finally{ie!==null&&le.types!==null&&(ie.types=le.types),A.T=ie}},Bt.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},Bt.use=function(z){return A.H.use(z)},Bt.useActionState=function(z,ie,le){return A.H.useActionState(z,ie,le)},Bt.useCallback=function(z,ie){return A.H.useCallback(z,ie)},Bt.useContext=function(z){return A.H.useContext(z)},Bt.useDebugValue=function(){},Bt.useDeferredValue=function(z,ie){return A.H.useDeferredValue(z,ie)},Bt.useEffect=function(z,ie){return A.H.useEffect(z,ie)},Bt.useEffectEvent=function(z){return A.H.useEffectEvent(z)},Bt.useId=function(){return A.H.useId()},Bt.useImperativeHandle=function(z,ie,le){return A.H.useImperativeHandle(z,ie,le)},Bt.useInsertionEffect=function(z,ie){return A.H.useInsertionEffect(z,ie)},Bt.useLayoutEffect=function(z,ie){return A.H.useLayoutEffect(z,ie)},Bt.useMemo=function(z,ie){return A.H.useMemo(z,ie)},Bt.useOptimistic=function(z,ie){return A.H.useOptimistic(z,ie)},Bt.useReducer=function(z,ie,le){return A.H.useReducer(z,ie,le)},Bt.useRef=function(z){return A.H.useRef(z)},Bt.useState=function(z){return A.H.useState(z)},Bt.useSyncExternalStore=function(z,ie,le){return A.H.useSyncExternalStore(z,ie,le)},Bt.useTransition=function(){return A.H.useTransition()},Bt.version="19.2.1",Bt}var JC;function wm(){return JC||(JC=1,Jy.exports=z6()),Jy.exports}var y=wm();const qe=Jg(y),Oj=$6({__proto__:null,default:qe},[y]);var eb={exports:{}},bh={},tb={exports:{}},sb={};var e2;function V6(){return e2||(e2=1,(function(t){function s(V,U){var H=V.length;V.push(U);e:for(;0<H;){var L=H-1>>>1,$=V[L];if(0<r($,U))V[L]=U,V[H]=$,H=L;else break e}}function a(V){return V.length===0?null:V[0]}function n(V){if(V.length===0)return null;var U=V[0],H=V.pop();if(H!==U){V[0]=H;e:for(var L=0,$=V.length,z=$>>>1;L<z;){var ie=2*(L+1)-1,le=V[ie],ne=ie+1,fe=V[ne];if(0>r(le,H))ne<$&&0>r(fe,le)?(V[L]=fe,V[ne]=H,L=ne):(V[L]=le,V[ie]=H,L=ie);else if(ne<$&&0>r(fe,H))V[L]=fe,V[ne]=H,L=ne;else break e}}return U}function r(V,U){var H=V.sortIndex-U.sortIndex;return H!==0?H:V.id-U.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,d=l.now();t.unstable_now=function(){return l.now()-d}}var u=[],h=[],p=1,f=null,x=3,v=!1,j=!1,w=!1,_=!1,N=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function T(V){for(var U=a(h);U!==null;){if(U.callback===null)n(h);else if(U.startTime<=V)n(h),U.sortIndex=U.expirationTime,s(u,U);else break;U=a(h)}}function E(V){if(w=!1,T(V),!j)if(a(u)!==null)j=!0,G||(G=!0,ee());else{var U=a(h);U!==null&&te(E,U.startTime-V)}}var G=!1,A=-1,F=5,M=-1;function J(){return _?!0:!(t.unstable_now()-M<F)}function R(){if(_=!1,G){var V=t.unstable_now();M=V;var U=!0;try{e:{j=!1,w&&(w=!1,k(A),A=-1),v=!0;var H=x;try{t:{for(T(V),f=a(u);f!==null&&!(f.expirationTime>V&&J());){var L=f.callback;if(typeof L=="function"){f.callback=null,x=f.priorityLevel;var $=L(f.expirationTime<=V);if(V=t.unstable_now(),typeof $=="function"){f.callback=$,T(V),U=!0;break t}f===a(u)&&n(u),T(V)}else n(u);f=a(u)}if(f!==null)U=!0;else{var z=a(h);z!==null&&te(E,z.startTime-V),U=!1}}break e}finally{f=null,x=H,v=!1}U=void 0}}finally{U?ee():G=!1}}}var ee;if(typeof D=="function")ee=function(){D(R)};else if(typeof MessageChannel<"u"){var Y=new MessageChannel,re=Y.port2;Y.port1.onmessage=R,ee=function(){re.postMessage(null)}}else ee=function(){N(R,0)};function te(V,U){A=N(function(){V(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return x},t.unstable_next=function(V){switch(x){case 1:case 2:case 3:var U=3;break;default:U=x}var H=x;x=U;try{return V()}finally{x=H}},t.unstable_requestPaint=function(){_=!0},t.unstable_runWithPriority=function(V,U){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var H=x;x=V;try{return U()}finally{x=H}},t.unstable_scheduleCallback=function(V,U,H){var L=t.unstable_now();switch(typeof H=="object"&&H!==null?(H=H.delay,H=typeof H=="number"&&0<H?L+H:L):H=L,V){case 1:var $=-1;break;case 2:$=250;break;case 5:$=1073741823;break;case 4:$=1e4;break;default:$=5e3}return $=H+$,V={id:p++,callback:U,priorityLevel:V,startTime:H,expirationTime:$,sortIndex:-1},H>L?(V.sortIndex=H,s(h,V),a(u)===null&&V===a(h)&&(w?(k(A),A=-1):w=!0,te(E,H-L))):(V.sortIndex=$,s(u,V),j||v||(j=!0,G||(G=!0,ee()))),V},t.unstable_shouldYield=J,t.unstable_wrapCallback=function(V){var U=x;return function(){var H=x;x=U;try{return V.apply(this,arguments)}finally{x=H}}}})(sb)),sb}var t2;function U6(){return t2||(t2=1,tb.exports=V6()),tb.exports}var ab={exports:{}},Qa={};var s2;function H6(){if(s2)return Qa;s2=1;var t=wm();function s(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var n={d:{f:a,r:function(){throw Error(s(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},r=Symbol.for("react.portal");function i(u,h,p){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:f==null?null:""+f,children:u,containerInfo:h,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(u,h){if(u==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Qa.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Qa.createPortal=function(u,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(s(299));return i(u,h,null,p)},Qa.flushSync=function(u){var h=l.T,p=n.p;try{if(l.T=null,n.p=2,u)return u()}finally{l.T=h,n.p=p,n.d.f()}},Qa.preconnect=function(u,h){typeof u=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(u,h))},Qa.prefetchDNS=function(u){typeof u=="string"&&n.d.D(u)},Qa.preinit=function(u,h){if(typeof u=="string"&&h&&typeof h.as=="string"){var p=h.as,f=d(p,h.crossOrigin),x=typeof h.integrity=="string"?h.integrity:void 0,v=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?n.d.S(u,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:f,integrity:x,fetchPriority:v}):p==="script"&&n.d.X(u,{crossOrigin:f,integrity:x,fetchPriority:v,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Qa.preinitModule=function(u,h){if(typeof u=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=d(h.as,h.crossOrigin);n.d.M(u,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(u)},Qa.preload=function(u,h){if(typeof u=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,f=d(p,h.crossOrigin);n.d.L(u,p,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Qa.preloadModule=function(u,h){if(typeof u=="string")if(h){var p=d(h.as,h.crossOrigin);n.d.m(u,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(u)},Qa.requestFormReset=function(u){n.d.r(u)},Qa.unstable_batchedUpdates=function(u,h){return u(h)},Qa.useFormState=function(u,h,p){return l.H.useFormState(u,h,p)},Qa.useFormStatus=function(){return l.H.useHostTransitionStatus()},Qa.version="19.2.1",Qa}var a2;function eT(){if(a2)return ab.exports;a2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(s){console.error(s)}}return t(),ab.exports=H6(),ab.exports}var n2;function q6(){if(n2)return bh;n2=1;var t=U6(),s=wm(),a=eT();function n(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)c+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function i(o){var c=o,m=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(m=c.return),o=c.return;while(o)}return c.tag===3?m:null}function l(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function d(o){if(o.tag===31){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function u(o){if(i(o)!==o)throw Error(n(188))}function h(o){var c=o.alternate;if(!c){if(c=i(o),c===null)throw Error(n(188));return c!==o?null:o}for(var m=o,g=c;;){var b=m.return;if(b===null)break;var C=b.alternate;if(C===null){if(g=b.return,g!==null){m=g;continue}break}if(b.child===C.child){for(C=b.child;C;){if(C===m)return u(b),o;if(C===g)return u(b),c;C=C.sibling}throw Error(n(188))}if(m.return!==g.return)m=b,g=C;else{for(var P=!1,Q=b.child;Q;){if(Q===m){P=!0,m=b,g=C;break}if(Q===g){P=!0,g=b,m=C;break}Q=Q.sibling}if(!P){for(Q=C.child;Q;){if(Q===m){P=!0,m=C,g=b;break}if(Q===g){P=!0,g=C,m=b;break}Q=Q.sibling}if(!P)throw Error(n(189))}}if(m.alternate!==g)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?o:c}function p(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=p(o),c!==null)return c;o=o.sibling}return null}var f=Object.assign,x=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),w=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),N=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),D=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),A=Symbol.for("react.memo"),F=Symbol.for("react.lazy"),M=Symbol.for("react.activity"),J=Symbol.for("react.memo_cache_sentinel"),R=Symbol.iterator;function ee(o){return o===null||typeof o!="object"?null:(o=R&&o[R]||o["@@iterator"],typeof o=="function"?o:null)}var Y=Symbol.for("react.client.reference");function re(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===Y?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case w:return"Fragment";case N:return"Profiler";case _:return"StrictMode";case E:return"Suspense";case G:return"SuspenseList";case M:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case j:return"Portal";case D:return o.displayName||"Context";case k:return(o._context.displayName||"Context")+".Consumer";case T:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case A:return c=o.displayName||null,c!==null?c:re(o.type)||"Memo";case F:c=o._payload,o=o._init;try{return re(o(c))}catch{}}return null}var te=Array.isArray,V=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,U=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,H={pending:!1,data:null,method:null,action:null},L=[],$=-1;function z(o){return{current:o}}function ie(o){0>$||(o.current=L[$],L[$]=null,$--)}function le(o,c){$++,L[$]=o.current,o.current=c}var ne=z(null),fe=z(null),Ne=z(null),ye=z(null);function Le(o,c){switch(le(Ne,c),le(fe,o),le(ne,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?jC(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=jC(c),o=wC(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}ie(ne),le(ne,o)}function Se(){ie(ne),ie(fe),ie(Ne)}function Ge(o){o.memoizedState!==null&&le(ye,o);var c=ne.current,m=wC(c,o.type);c!==m&&(le(fe,o),le(ne,m))}function nt(o){fe.current===o&&(ie(ne),ie(fe)),ye.current===o&&(ie(ye),ph._currentValue=H)}var Ae,Ye;function Oe(o){if(Ae===void 0)try{throw Error()}catch(m){var c=m.stack.trim().match(/\n( *(at )?)/);Ae=c&&c[1]||"",Ye=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Ae+o+Ye}var ft=!1;function kt(o,c){if(!o||ft)return"";ft=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(c){var $e=function(){throw Error()};if(Object.defineProperty($e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct($e,[])}catch(Ee){var _e=Ee}Reflect.construct(o,[],$e)}else{try{$e.call()}catch(Ee){_e=Ee}o.call($e.prototype)}}else{try{throw Error()}catch(Ee){_e=Ee}($e=o())&&typeof $e.catch=="function"&&$e.catch(function(){})}}catch(Ee){if(Ee&&_e&&typeof Ee.stack=="string")return[Ee.stack,_e.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=g.DetermineComponentFrameRoot(),P=C[0],Q=C[1];if(P&&Q){var me=P.split(`
`),we=Q.split(`
`);for(b=g=0;g<me.length&&!me[g].includes("DetermineComponentFrameRoot");)g++;for(;b<we.length&&!we[b].includes("DetermineComponentFrameRoot");)b++;if(g===me.length||b===we.length)for(g=me.length-1,b=we.length-1;1<=g&&0<=b&&me[g]!==we[b];)b--;for(;1<=g&&0<=b;g--,b--)if(me[g]!==we[b]){if(g!==1||b!==1)do if(g--,b--,0>b||me[g]!==we[b]){var Pe=`
`+me[g].replace(" at new "," at ");return o.displayName&&Pe.includes("<anonymous>")&&(Pe=Pe.replace("<anonymous>",o.displayName)),Pe}while(1<=g&&0<=b);break}}}finally{ft=!1,Error.prepareStackTrace=m}return(m=o?o.displayName||o.name:"")?Oe(m):""}function tt(o,c){switch(o.tag){case 26:case 27:case 5:return Oe(o.type);case 16:return Oe("Lazy");case 13:return o.child!==c&&c!==null?Oe("Suspense Fallback"):Oe("Suspense");case 19:return Oe("SuspenseList");case 0:case 15:return kt(o.type,!1);case 11:return kt(o.type.render,!1);case 1:return kt(o.type,!0);case 31:return Oe("Activity");default:return""}}function ps(o){try{var c="",m=null;do c+=tt(o,m),m=o,o=o.return;while(o);return c}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var ys=Object.prototype.hasOwnProperty,Fs=t.unstable_scheduleCallback,pe=t.unstable_cancelCallback,Ce=t.unstable_shouldYield,he=t.unstable_requestPaint,Ie=t.unstable_now,ze=t.unstable_getCurrentPriorityLevel,rt=t.unstable_ImmediatePriority,yt=t.unstable_UserBlockingPriority,dt=t.unstable_NormalPriority,Vt=t.unstable_LowPriority,St=t.unstable_IdlePriority,Gt=t.log,Us=t.unstable_setDisableYieldValue,ns=null,gs=null;function pt(o){if(typeof Gt=="function"&&Us(o),gs&&typeof gs.setStrictMode=="function")try{gs.setStrictMode(ns,o)}catch{}}var Ms=Math.clz32?Math.clz32:Is,ve=Math.log,Xe=Math.LN2;function Is(o){return o>>>=0,o===0?32:31-(ve(o)/Xe|0)|0}var vs=256,Ha=262144,Ds=4194304;function _a(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function bt(o,c,m){var g=o.pendingLanes;if(g===0)return 0;var b=0,C=o.suspendedLanes,P=o.pingedLanes;o=o.warmLanes;var Q=g&134217727;return Q!==0?(g=Q&~C,g!==0?b=_a(g):(P&=Q,P!==0?b=_a(P):m||(m=Q&~o,m!==0&&(b=_a(m))))):(Q=g&~C,Q!==0?b=_a(Q):P!==0?b=_a(P):m||(m=g&~o,m!==0&&(b=_a(m)))),b===0?0:c!==0&&c!==b&&(c&C)===0&&(C=b&-b,m=c&-c,C>=m||C===32&&(m&4194048)!==0)?c:b}function X(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function xt(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hs(){var o=Ds;return Ds<<=1,(Ds&62914560)===0&&(Ds=4194304),o}function gt(o){for(var c=[],m=0;31>m;m++)c.push(o);return c}function He(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function os(o,c,m,g,b,C){var P=o.pendingLanes;o.pendingLanes=m,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=m,o.entangledLanes&=m,o.errorRecoveryDisabledLanes&=m,o.shellSuspendCounter=0;var Q=o.entanglements,me=o.expirationTimes,we=o.hiddenUpdates;for(m=P&~m;0<m;){var Pe=31-Ms(m),$e=1<<Pe;Q[Pe]=0,me[Pe]=-1;var _e=we[Pe];if(_e!==null)for(we[Pe]=null,Pe=0;Pe<_e.length;Pe++){var Ee=_e[Pe];Ee!==null&&(Ee.lane&=-536870913)}m&=~$e}g!==0&&Js(o,g,0),C!==0&&b===0&&o.tag!==0&&(o.suspendedLanes|=C&~(P&~c))}function Js(o,c,m){o.pendingLanes|=c,o.suspendedLanes&=~c;var g=31-Ms(c);o.entangledLanes|=c,o.entanglements[g]=o.entanglements[g]|1073741824|m&261930}function Ps(o,c){var m=o.entangledLanes|=c;for(o=o.entanglements;m;){var g=31-Ms(m),b=1<<g;b&c|o[g]&c&&(o[g]|=c),m&=~b}}function Ca(o,c){var m=c&-c;return m=(m&42)!==0?1:yn(m),(m&(o.suspendedLanes|c))!==0?0:m}function yn(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function dn(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Qr(){var o=U.p;return o!==0?o:(o=window.event,o===void 0?32:qC(o.type))}function Hc(o,c){var m=U.p;try{return U.p=o,c()}finally{U.p=m}}var un=Math.random().toString(36).slice(2),da="__reactFiber$"+un,aa="__reactProps$"+un,pa="__reactContainer$"+un,Ti="__reactEvents$"+un,Di="__reactListeners$"+un,jo="__reactHandles$"+un,rr="__reactResources$"+un,Er="__reactMarker$"+un;function Rl(o){delete o[da],delete o[aa],delete o[Ti],delete o[Di],delete o[jo]}function Zr(o){var c=o[da];if(c)return c;for(var m=o.parentNode;m;){if(c=m[pa]||m[da]){if(m=c.alternate,c.child!==null||m!==null&&m.child!==null)for(o=TC(o);o!==null;){if(m=o[da])return m;o=TC(o)}return c}o=m,m=o.parentNode}return null}function Fn(o){if(o=o[da]||o[pa]){var c=o.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return o}return null}function Jr(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(n(33))}function In(o){var c=o[rr];return c||(c=o[rr]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function Cs(o){o[Er]=!0}var wo=new Set,Ml={};function ir(o,c){hn(o,c),hn(o+"Capture",c)}function hn(o,c){for(Ml[o]=c,o=0;o<c.length;o++)wo.add(c[o])}var bn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),No={},$n={};function zn(o){return ys.call($n,o)?!0:ys.call(No,o)?!1:bn.test(o)?$n[o]=!0:(No[o]=!0,!1)}function Ei(o,c,m){if(zn(c))if(m===null)o.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var g=c.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+m)}}function Ri(o,c,m){if(m===null)o.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+m)}}function vn(o,c,m,g){if(g===null)o.removeAttribute(m);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(m);return}o.setAttributeNS(c,m,""+g)}}function Oa(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Mi(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function _u(o,c,m){var g=Object.getOwnPropertyDescriptor(o.constructor.prototype,c);if(!o.hasOwnProperty(c)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var b=g.get,C=g.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return b.call(this)},set:function(P){m=""+P,C.call(this,P)}}),Object.defineProperty(o,c,{enumerable:g.enumerable}),{getValue:function(){return m},setValue:function(P){m=""+P},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function Pl(o){if(!o._valueTracker){var c=Mi(o)?"checked":"value";o._valueTracker=_u(o,c,""+o[c])}}function _o(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var m=c.getValue(),g="";return o&&(g=Mi(o)?o.checked?"true":"false":o.value),o=g,o!==m?(c.setValue(o),!0):!1}function Rr(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var ei=/[\n"\\]/g;function ga(o){return o.replace(ei,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Mr(o,c,m,g,b,C,P,Q){o.name="",P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"?o.type=P:o.removeAttribute("type"),c!=null?P==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+Oa(c)):o.value!==""+Oa(c)&&(o.value=""+Oa(c)):P!=="submit"&&P!=="reset"||o.removeAttribute("value"),c!=null?Ll(o,P,Oa(c)):m!=null?Ll(o,P,Oa(m)):g!=null&&o.removeAttribute("value"),b==null&&C!=null&&(o.defaultChecked=!!C),b!=null&&(o.checked=b&&typeof b!="function"&&typeof b!="symbol"),Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"?o.name=""+Oa(Q):o.removeAttribute("name")}function Ol(o,c,m,g,b,C,P,Q){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(o.type=C),c!=null||m!=null){if(!(C!=="submit"&&C!=="reset"||c!=null)){Pl(o);return}m=m!=null?""+Oa(m):"",c=c!=null?""+Oa(c):m,Q||c===o.value||(o.value=c),o.defaultValue=c}g=g??b,g=typeof g!="function"&&typeof g!="symbol"&&!!g,o.checked=Q?o.checked:!!g,o.defaultChecked=!!g,P!=null&&typeof P!="function"&&typeof P!="symbol"&&typeof P!="boolean"&&(o.name=P),Pl(o)}function Ll(o,c,m){c==="number"&&Rr(o.ownerDocument)===o||o.defaultValue===""+m||(o.defaultValue=""+m)}function ti(o,c,m,g){if(o=o.options,c){c={};for(var b=0;b<m.length;b++)c["$"+m[b]]=!0;for(m=0;m<o.length;m++)b=c.hasOwnProperty("$"+o[m].value),o[m].selected!==b&&(o[m].selected=b),b&&g&&(o[m].defaultSelected=!0)}else{for(m=""+Oa(m),c=null,b=0;b<o.length;b++){if(o[b].value===m){o[b].selected=!0,g&&(o[b].defaultSelected=!0);return}c!==null||o[b].disabled||(c=o[b])}c!==null&&(c.selected=!0)}}function qc(o,c,m){if(c!=null&&(c=""+Oa(c),c!==o.value&&(o.value=c),m==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=m!=null?""+Oa(m):""}function Gc(o,c,m,g){if(c==null){if(g!=null){if(m!=null)throw Error(n(92));if(te(g)){if(1<g.length)throw Error(n(93));g=g[0]}m=g}m==null&&(m=""),c=m}m=Oa(c),o.defaultValue=m,g=o.textContent,g===m&&g!==""&&g!==null&&(o.value=g),Pl(o)}function si(o,c){if(c){var m=o.firstChild;if(m&&m===o.lastChild&&m.nodeType===3){m.nodeValue=c;return}}o.textContent=c}var Cu=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Co(o,c,m){var g=c.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?g?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":g?o.setProperty(c,m):typeof m!="number"||m===0||Cu.has(c)?c==="float"?o.cssFloat=m:o[c]=(""+m).trim():o[c]=m+"px"}function or(o,c,m){if(c!=null&&typeof c!="object")throw Error(n(62));if(o=o.style,m!=null){for(var g in m)!m.hasOwnProperty(g)||c!=null&&c.hasOwnProperty(g)||(g.indexOf("--")===0?o.setProperty(g,""):g==="float"?o.cssFloat="":o[g]="");for(var b in c)g=c[b],c.hasOwnProperty(b)&&m[b]!==g&&Co(o,b,g)}else for(var C in c)c.hasOwnProperty(C)&&Co(o,C,c[C])}function Bl(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ku=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Su=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function ko(o){return Su.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function jn(){}var Fl=null;function So(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Pr=null,ai=null;function Wc(o){var c=Fn(o);if(c&&(o=c.stateNode)){var m=o[aa]||null;e:switch(o=c.stateNode,c.type){case"input":if(Mr(o,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),c=m.name,m.type==="radio"&&c!=null){for(m=o;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+ga(""+c)+'"][type="radio"]'),c=0;c<m.length;c++){var g=m[c];if(g!==o&&g.form===o.form){var b=g[aa]||null;if(!b)throw Error(n(90));Mr(g,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(c=0;c<m.length;c++)g=m[c],g.form===o.form&&_o(g)}break e;case"textarea":qc(o,m.value,m.defaultValue);break e;case"select":c=m.value,c!=null&&ti(o,!!m.multiple,c,!1)}}}var ni=!1;function Pi(o,c,m){if(ni)return o(c,m);ni=!0;try{var g=o(c);return g}finally{if(ni=!1,(Pr!==null||ai!==null)&&(Vf(),Pr&&(c=Pr,o=ai,ai=Pr=null,Wc(c),o)))for(c=0;c<o.length;c++)Wc(o[c])}}function ri(o,c){var m=o.stateNode;if(m===null)return null;var g=m[aa]||null;if(g===null)return null;m=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(m&&typeof m!="function")throw Error(n(231,c,typeof m));return m}var Vn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Il=!1;if(Vn)try{var Oi={};Object.defineProperty(Oi,"passive",{get:function(){Il=!0}}),window.addEventListener("test",Oi,Oi),window.removeEventListener("test",Oi,Oi)}catch{Il=!1}var wn=null,Ao=null,To=null;function At(){if(To)return To;var o,c=Ao,m=c.length,g,b="value"in wn?wn.value:wn.textContent,C=b.length;for(o=0;o<m&&c[o]===b[o];o++);var P=m-o;for(g=1;g<=P&&c[m-g]===b[C-g];g++);return To=b.slice(o,1<g?1-g:void 0)}function Nn(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function lr(){return!0}function Yc(){return!1}function La(o){function c(m,g,b,C,P){this._reactName=m,this._targetInst=b,this.type=g,this.nativeEvent=C,this.target=P,this.currentTarget=null;for(var Q in o)o.hasOwnProperty(Q)&&(m=o[Q],this[Q]=m?m(C):C[Q]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?lr:Yc,this.isPropagationStopped=Yc,this}return f(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=lr)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=lr)},persist:function(){},isPersistent:lr}),c}var cr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},B=La(cr),ce=f({},cr,{view:0,detail:0}),at=La(ce),cs,xa,Ba,Or=f({},ce,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Tu,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ba&&(Ba&&o.type==="mousemove"?(cs=o.screenX-Ba.screenX,xa=o.screenY-Ba.screenY):xa=cs=0,Ba=o),cs)},movementY:function(o){return"movementY"in o?o.movementY:xa}}),dr=La(Or),Do=f({},Or,{dataTransfer:0}),Eo=La(Do),Kx=f({},ce,{relatedTarget:0}),Au=La(Kx),Xx=f({},cr,{animationName:0,elapsedTime:0,pseudoElement:0}),Qx=La(Xx),Zx=f({},cr,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),Jx=La(Zx),e0=f({},cr,{data:0}),ef=La(e0),t0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},s0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},a0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function n0(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=a0[o])?!!c[o]:!1}function Tu(){return n0}var r0=f({},ce,{key:function(o){if(o.key){var c=t0[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Nn(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?s0[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Tu,charCode:function(o){return o.type==="keypress"?Nn(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Nn(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),ka=La(r0),Du=f({},Or,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),tf=La(Du),I=f({},ce,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Tu}),S=La(I),O=f({},cr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ae=La(O),ue=f({},Or,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Be=La(ue),Ke=f({},cr,{newState:0,oldState:0}),ut=La(Ke),Lt=[9,13,27,32],Xt=Vn&&"CompositionEvent"in window,ts=null;Vn&&"documentMode"in document&&(ts=document.documentMode);var na=Vn&&"TextEvent"in window&&!ts,$l=Vn&&(!Xt||ts&&8<ts&&11>=ts),sf=" ",Eu=!1;function af(o,c){switch(o){case"keyup":return Lt.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ru(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Ro=!1;function nf(o,c){switch(o){case"compositionend":return Ru(c);case"keypress":return c.which!==32?null:(Eu=!0,sf);case"textInput":return o=c.data,o===sf&&Eu?null:o;default:return null}}function i0(o,c){if(Ro)return o==="compositionend"||!Xt&&af(o,c)?(o=At(),To=Ao=wn=null,Ro=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return $l&&c.locale!=="ko"?null:c.data;default:return null}}var o0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Mu(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!o0[o.type]:c==="textarea"}function Pu(o,c,m,g){Pr?ai?ai.push(g):ai=[g]:Pr=g,c=Kf(c,"onChange"),0<c.length&&(m=new B("onChange","change",null,m,g),o.push({event:m,listeners:c}))}var Mo=null,Li=null;function Ou(o){pC(o,0)}function zl(o){var c=Jr(o);if(_o(c))return o}function rf(o,c){if(o==="change")return c}var of=!1;if(Vn){var Lu;if(Vn){var Bu="oninput"in document;if(!Bu){var Fu=document.createElement("div");Fu.setAttribute("oninput","return;"),Bu=typeof Fu.oninput=="function"}Lu=Bu}else Lu=!1;of=Lu&&(!document.documentMode||9<document.documentMode)}function B1(){Mo&&(Mo.detachEvent("onpropertychange",F1),Li=Mo=null)}function F1(o){if(o.propertyName==="value"&&zl(Li)){var c=[];Pu(c,Li,o,So(o)),Pi(Ou,c)}}function fL(o,c,m){o==="focusin"?(B1(),Mo=c,Li=m,Mo.attachEvent("onpropertychange",F1)):o==="focusout"&&B1()}function pL(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return zl(Li)}function gL(o,c){if(o==="click")return zl(c)}function xL(o,c){if(o==="input"||o==="change")return zl(c)}function yL(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Un=typeof Object.is=="function"?Object.is:yL;function Iu(o,c){if(Un(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var m=Object.keys(o),g=Object.keys(c);if(m.length!==g.length)return!1;for(g=0;g<m.length;g++){var b=m[g];if(!ys.call(c,b)||!Un(o[b],c[b]))return!1}return!0}function I1(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function $1(o,c){var m=I1(o);o=0;for(var g;m;){if(m.nodeType===3){if(g=o+m.textContent.length,o<=c&&g>=c)return{node:m,offset:c-o};o=g}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=I1(m)}}function z1(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?z1(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function V1(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=Rr(o.document);c instanceof o.HTMLIFrameElement;){try{var m=typeof c.contentWindow.location.href=="string"}catch{m=!1}if(m)o=c.contentWindow;else break;c=Rr(o.document)}return c}function l0(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var bL=Vn&&"documentMode"in document&&11>=document.documentMode,Kc=null,c0=null,$u=null,d0=!1;function U1(o,c,m){var g=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;d0||Kc==null||Kc!==Rr(g)||(g=Kc,"selectionStart"in g&&l0(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),$u&&Iu($u,g)||($u=g,g=Kf(c0,"onSelect"),0<g.length&&(c=new B("onSelect","select",null,c,m),o.push({event:c,listeners:g}),c.target=Kc)))}function Vl(o,c){var m={};return m[o.toLowerCase()]=c.toLowerCase(),m["Webkit"+o]="webkit"+c,m["Moz"+o]="moz"+c,m}var Xc={animationend:Vl("Animation","AnimationEnd"),animationiteration:Vl("Animation","AnimationIteration"),animationstart:Vl("Animation","AnimationStart"),transitionrun:Vl("Transition","TransitionRun"),transitionstart:Vl("Transition","TransitionStart"),transitioncancel:Vl("Transition","TransitionCancel"),transitionend:Vl("Transition","TransitionEnd")},u0={},H1={};Vn&&(H1=document.createElement("div").style,"AnimationEvent"in window||(delete Xc.animationend.animation,delete Xc.animationiteration.animation,delete Xc.animationstart.animation),"TransitionEvent"in window||delete Xc.transitionend.transition);function Ul(o){if(u0[o])return u0[o];if(!Xc[o])return o;var c=Xc[o],m;for(m in c)if(c.hasOwnProperty(m)&&m in H1)return u0[o]=c[m];return o}var q1=Ul("animationend"),G1=Ul("animationiteration"),W1=Ul("animationstart"),vL=Ul("transitionrun"),jL=Ul("transitionstart"),wL=Ul("transitioncancel"),Y1=Ul("transitionend"),K1=new Map,h0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");h0.push("scrollEnd");function Lr(o,c){K1.set(o,c),ir(c,[o])}var lf=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},ur=[],Qc=0,m0=0;function cf(){for(var o=Qc,c=m0=Qc=0;c<o;){var m=ur[c];ur[c++]=null;var g=ur[c];ur[c++]=null;var b=ur[c];ur[c++]=null;var C=ur[c];if(ur[c++]=null,g!==null&&b!==null){var P=g.pending;P===null?b.next=b:(b.next=P.next,P.next=b),g.pending=b}C!==0&&X1(m,b,C)}}function df(o,c,m,g){ur[Qc++]=o,ur[Qc++]=c,ur[Qc++]=m,ur[Qc++]=g,m0|=g,o.lanes|=g,o=o.alternate,o!==null&&(o.lanes|=g)}function f0(o,c,m,g){return df(o,c,m,g),uf(o)}function Hl(o,c){return df(o,null,null,c),uf(o)}function X1(o,c,m){o.lanes|=m;var g=o.alternate;g!==null&&(g.lanes|=m);for(var b=!1,C=o.return;C!==null;)C.childLanes|=m,g=C.alternate,g!==null&&(g.childLanes|=m),C.tag===22&&(o=C.stateNode,o===null||o._visibility&1||(b=!0)),o=C,C=C.return;return o.tag===3?(C=o.stateNode,b&&c!==null&&(b=31-Ms(m),o=C.hiddenUpdates,g=o[b],g===null?o[b]=[c]:g.push(c),c.lane=m|536870912),C):null}function uf(o){if(50<lh)throw lh=0,Ny=null,Error(n(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var Zc={};function NL(o,c,m,g){this.tag=o,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Hn(o,c,m,g){return new NL(o,c,m,g)}function p0(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Bi(o,c){var m=o.alternate;return m===null?(m=Hn(o.tag,c,o.key,o.mode),m.elementType=o.elementType,m.type=o.type,m.stateNode=o.stateNode,m.alternate=o,o.alternate=m):(m.pendingProps=c,m.type=o.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=o.flags&65011712,m.childLanes=o.childLanes,m.lanes=o.lanes,m.child=o.child,m.memoizedProps=o.memoizedProps,m.memoizedState=o.memoizedState,m.updateQueue=o.updateQueue,c=o.dependencies,m.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},m.sibling=o.sibling,m.index=o.index,m.ref=o.ref,m.refCleanup=o.refCleanup,m}function Q1(o,c){o.flags&=65011714;var m=o.alternate;return m===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=m.childLanes,o.lanes=m.lanes,o.child=m.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=m.memoizedProps,o.memoizedState=m.memoizedState,o.updateQueue=m.updateQueue,o.type=m.type,c=m.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function hf(o,c,m,g,b,C){var P=0;if(g=o,typeof o=="function")p0(o)&&(P=1);else if(typeof o=="string")P=A6(o,m,ne.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case M:return o=Hn(31,m,c,b),o.elementType=M,o.lanes=C,o;case w:return ql(m.children,b,C,c);case _:P=8,b|=24;break;case N:return o=Hn(12,m,c,b|2),o.elementType=N,o.lanes=C,o;case E:return o=Hn(13,m,c,b),o.elementType=E,o.lanes=C,o;case G:return o=Hn(19,m,c,b),o.elementType=G,o.lanes=C,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case D:P=10;break e;case k:P=9;break e;case T:P=11;break e;case A:P=14;break e;case F:P=16,g=null;break e}P=29,m=Error(n(130,o===null?"null":typeof o,"")),g=null}return c=Hn(P,m,c,b),c.elementType=o,c.type=g,c.lanes=C,c}function ql(o,c,m,g){return o=Hn(7,o,g,c),o.lanes=m,o}function g0(o,c,m){return o=Hn(6,o,null,c),o.lanes=m,o}function Z1(o){var c=Hn(18,null,null,0);return c.stateNode=o,c}function x0(o,c,m){return c=Hn(4,o.children!==null?o.children:[],o.key,c),c.lanes=m,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var J1=new WeakMap;function hr(o,c){if(typeof o=="object"&&o!==null){var m=J1.get(o);return m!==void 0?m:(c={value:o,source:c,stack:ps(c)},J1.set(o,c),c)}return{value:o,source:c,stack:ps(c)}}var Jc=[],ed=0,mf=null,zu=0,mr=[],fr=0,Po=null,ii=1,oi="";function Fi(o,c){Jc[ed++]=zu,Jc[ed++]=mf,mf=o,zu=c}function eN(o,c,m){mr[fr++]=ii,mr[fr++]=oi,mr[fr++]=Po,Po=o;var g=ii;o=oi;var b=32-Ms(g)-1;g&=~(1<<b),m+=1;var C=32-Ms(c)+b;if(30<C){var P=b-b%5;C=(g&(1<<P)-1).toString(32),g>>=P,b-=P,ii=1<<32-Ms(c)+b|m<<b|g,oi=C+o}else ii=1<<C|m<<b|g,oi=o}function y0(o){o.return!==null&&(Fi(o,1),eN(o,1,0))}function b0(o){for(;o===mf;)mf=Jc[--ed],Jc[ed]=null,zu=Jc[--ed],Jc[ed]=null;for(;o===Po;)Po=mr[--fr],mr[fr]=null,oi=mr[--fr],mr[fr]=null,ii=mr[--fr],mr[fr]=null}function tN(o,c){mr[fr++]=ii,mr[fr++]=oi,mr[fr++]=Po,ii=c.id,oi=c.overflow,Po=o}var qa=null,$s=null,ss=!1,Oo=null,pr=!1,v0=Error(n(519));function Lo(o){var c=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Vu(hr(c,o)),v0}function sN(o){var c=o.stateNode,m=o.type,g=o.memoizedProps;switch(c[da]=o,c[aa]=g,m){case"dialog":Yt("cancel",c),Yt("close",c);break;case"iframe":case"object":case"embed":Yt("load",c);break;case"video":case"audio":for(m=0;m<dh.length;m++)Yt(dh[m],c);break;case"source":Yt("error",c);break;case"img":case"image":case"link":Yt("error",c),Yt("load",c);break;case"details":Yt("toggle",c);break;case"input":Yt("invalid",c),Ol(c,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":Yt("invalid",c);break;case"textarea":Yt("invalid",c),Gc(c,g.value,g.defaultValue,g.children)}m=g.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||c.textContent===""+m||g.suppressHydrationWarning===!0||bC(c.textContent,m)?(g.popover!=null&&(Yt("beforetoggle",c),Yt("toggle",c)),g.onScroll!=null&&Yt("scroll",c),g.onScrollEnd!=null&&Yt("scrollend",c),g.onClick!=null&&(c.onclick=jn),c=!0):c=!1,c||Lo(o,!0)}function aN(o){for(qa=o.return;qa;)switch(qa.tag){case 5:case 31:case 13:pr=!1;return;case 27:case 3:pr=!0;return;default:qa=qa.return}}function td(o){if(o!==qa)return!1;if(!ss)return aN(o),ss=!0,!1;var c=o.tag,m;if((m=c!==3&&c!==27)&&((m=c===5)&&(m=o.type,m=!(m!=="form"&&m!=="button")||Fy(o.type,o.memoizedProps)),m=!m),m&&$s&&Lo(o),aN(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));$s=AC(o)}else if(c===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));$s=AC(o)}else c===27?(c=$s,Xo(o.type)?(o=Uy,Uy=null,$s=o):$s=c):$s=qa?xr(o.stateNode.nextSibling):null;return!0}function Gl(){$s=qa=null,ss=!1}function j0(){var o=Oo;return o!==null&&(Sn===null?Sn=o:Sn.push.apply(Sn,o),Oo=null),o}function Vu(o){Oo===null?Oo=[o]:Oo.push(o)}var w0=z(null),Wl=null,Ii=null;function Bo(o,c,m){le(w0,c._currentValue),c._currentValue=m}function $i(o){o._currentValue=w0.current,ie(w0)}function N0(o,c,m){for(;o!==null;){var g=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),o===m)break;o=o.return}}function _0(o,c,m,g){var b=o.child;for(b!==null&&(b.return=o);b!==null;){var C=b.dependencies;if(C!==null){var P=b.child;C=C.firstContext;e:for(;C!==null;){var Q=C;C=b;for(var me=0;me<c.length;me++)if(Q.context===c[me]){C.lanes|=m,Q=C.alternate,Q!==null&&(Q.lanes|=m),N0(C.return,m,o),g||(P=null);break e}C=Q.next}}else if(b.tag===18){if(P=b.return,P===null)throw Error(n(341));P.lanes|=m,C=P.alternate,C!==null&&(C.lanes|=m),N0(P,m,o),P=null}else P=b.child;if(P!==null)P.return=b;else for(P=b;P!==null;){if(P===o){P=null;break}if(b=P.sibling,b!==null){b.return=P.return,P=b;break}P=P.return}b=P}}function sd(o,c,m,g){o=null;for(var b=c,C=!1;b!==null;){if(!C){if((b.flags&524288)!==0)C=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var P=b.alternate;if(P===null)throw Error(n(387));if(P=P.memoizedProps,P!==null){var Q=b.type;Un(b.pendingProps.value,P.value)||(o!==null?o.push(Q):o=[Q])}}else if(b===ye.current){if(P=b.alternate,P===null)throw Error(n(387));P.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(o!==null?o.push(ph):o=[ph])}b=b.return}o!==null&&_0(c,o,m,g),c.flags|=262144}function ff(o){for(o=o.firstContext;o!==null;){if(!Un(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Yl(o){Wl=o,Ii=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function Ga(o){return nN(Wl,o)}function pf(o,c){return Wl===null&&Yl(o),nN(o,c)}function nN(o,c){var m=c._currentValue;if(c={context:c,memoizedValue:m,next:null},Ii===null){if(o===null)throw Error(n(308));Ii=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else Ii=Ii.next=c;return m}var _L=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(m,g){o.push(g)}};this.abort=function(){c.aborted=!0,o.forEach(function(m){return m()})}},CL=t.unstable_scheduleCallback,kL=t.unstable_NormalPriority,ya={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function C0(){return{controller:new _L,data:new Map,refCount:0}}function Uu(o){o.refCount--,o.refCount===0&&CL(kL,function(){o.controller.abort()})}var Hu=null,k0=0,ad=0,nd=null;function SL(o,c){if(Hu===null){var m=Hu=[];k0=0,ad=Ty(),nd={status:"pending",value:void 0,then:function(g){m.push(g)}}}return k0++,c.then(rN,rN),c}function rN(){if(--k0===0&&Hu!==null){nd!==null&&(nd.status="fulfilled");var o=Hu;Hu=null,ad=0,nd=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function AL(o,c){var m=[],g={status:"pending",value:null,reason:null,then:function(b){m.push(b)}};return o.then(function(){g.status="fulfilled",g.value=c;for(var b=0;b<m.length;b++)(0,m[b])(c)},function(b){for(g.status="rejected",g.reason=b,b=0;b<m.length;b++)(0,m[b])(void 0)}),g}var iN=V.S;V.S=function(o,c){U_=Ie(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&SL(o,c),iN!==null&&iN(o,c)};var Kl=z(null);function S0(){var o=Kl.current;return o!==null?o:Es.pooledCache}function gf(o,c){c===null?le(Kl,Kl.current):le(Kl,c.pool)}function oN(){var o=S0();return o===null?null:{parent:ya._currentValue,pool:o}}var rd=Error(n(460)),A0=Error(n(474)),xf=Error(n(542)),yf={then:function(){}};function lN(o){return o=o.status,o==="fulfilled"||o==="rejected"}function cN(o,c,m){switch(m=o[m],m===void 0?o.push(c):m!==c&&(c.then(jn,jn),c=m),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,uN(o),o;default:if(typeof c.status=="string")c.then(jn,jn);else{if(o=Es,o!==null&&100<o.shellSuspendCounter)throw Error(n(482));o=c,o.status="pending",o.then(function(g){if(c.status==="pending"){var b=c;b.status="fulfilled",b.value=g}},function(g){if(c.status==="pending"){var b=c;b.status="rejected",b.reason=g}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,uN(o),o}throw Ql=c,rd}}function Xl(o){try{var c=o._init;return c(o._payload)}catch(m){throw m!==null&&typeof m=="object"&&typeof m.then=="function"?(Ql=m,rd):m}}var Ql=null;function dN(){if(Ql===null)throw Error(n(459));var o=Ql;return Ql=null,o}function uN(o){if(o===rd||o===xf)throw Error(n(483))}var id=null,qu=0;function bf(o){var c=qu;return qu+=1,id===null&&(id=[]),cN(id,o,c)}function Gu(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function vf(o,c){throw c.$$typeof===x?Error(n(525)):(o=Object.prototype.toString.call(c),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function hN(o){function c(be,ge){if(o){var je=be.deletions;je===null?(be.deletions=[ge],be.flags|=16):je.push(ge)}}function m(be,ge){if(!o)return null;for(;ge!==null;)c(be,ge),ge=ge.sibling;return null}function g(be){for(var ge=new Map;be!==null;)be.key!==null?ge.set(be.key,be):ge.set(be.index,be),be=be.sibling;return ge}function b(be,ge){return be=Bi(be,ge),be.index=0,be.sibling=null,be}function C(be,ge,je){return be.index=je,o?(je=be.alternate,je!==null?(je=je.index,je<ge?(be.flags|=67108866,ge):je):(be.flags|=67108866,ge)):(be.flags|=1048576,ge)}function P(be){return o&&be.alternate===null&&(be.flags|=67108866),be}function Q(be,ge,je,Fe){return ge===null||ge.tag!==6?(ge=g0(je,be.mode,Fe),ge.return=be,ge):(ge=b(ge,je),ge.return=be,ge)}function me(be,ge,je,Fe){var vt=je.type;return vt===w?Pe(be,ge,je.props.children,Fe,je.key):ge!==null&&(ge.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===F&&Xl(vt)===ge.type)?(ge=b(ge,je.props),Gu(ge,je),ge.return=be,ge):(ge=hf(je.type,je.key,je.props,null,be.mode,Fe),Gu(ge,je),ge.return=be,ge)}function we(be,ge,je,Fe){return ge===null||ge.tag!==4||ge.stateNode.containerInfo!==je.containerInfo||ge.stateNode.implementation!==je.implementation?(ge=x0(je,be.mode,Fe),ge.return=be,ge):(ge=b(ge,je.children||[]),ge.return=be,ge)}function Pe(be,ge,je,Fe,vt){return ge===null||ge.tag!==7?(ge=ql(je,be.mode,Fe,vt),ge.return=be,ge):(ge=b(ge,je),ge.return=be,ge)}function $e(be,ge,je){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return ge=g0(""+ge,be.mode,je),ge.return=be,ge;if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case v:return je=hf(ge.type,ge.key,ge.props,null,be.mode,je),Gu(je,ge),je.return=be,je;case j:return ge=x0(ge,be.mode,je),ge.return=be,ge;case F:return ge=Xl(ge),$e(be,ge,je)}if(te(ge)||ee(ge))return ge=ql(ge,be.mode,je,null),ge.return=be,ge;if(typeof ge.then=="function")return $e(be,bf(ge),je);if(ge.$$typeof===D)return $e(be,pf(be,ge),je);vf(be,ge)}return null}function _e(be,ge,je,Fe){var vt=ge!==null?ge.key:null;if(typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint")return vt!==null?null:Q(be,ge,""+je,Fe);if(typeof je=="object"&&je!==null){switch(je.$$typeof){case v:return je.key===vt?me(be,ge,je,Fe):null;case j:return je.key===vt?we(be,ge,je,Fe):null;case F:return je=Xl(je),_e(be,ge,je,Fe)}if(te(je)||ee(je))return vt!==null?null:Pe(be,ge,je,Fe,null);if(typeof je.then=="function")return _e(be,ge,bf(je),Fe);if(je.$$typeof===D)return _e(be,ge,pf(be,je),Fe);vf(be,je)}return null}function Ee(be,ge,je,Fe,vt){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint")return be=be.get(je)||null,Q(ge,be,""+Fe,vt);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case v:return be=be.get(Fe.key===null?je:Fe.key)||null,me(ge,be,Fe,vt);case j:return be=be.get(Fe.key===null?je:Fe.key)||null,we(ge,be,Fe,vt);case F:return Fe=Xl(Fe),Ee(be,ge,je,Fe,vt)}if(te(Fe)||ee(Fe))return be=be.get(je)||null,Pe(ge,be,Fe,vt,null);if(typeof Fe.then=="function")return Ee(be,ge,je,bf(Fe),vt);if(Fe.$$typeof===D)return Ee(be,ge,je,pf(ge,Fe),vt);vf(ge,Fe)}return null}function it(be,ge,je,Fe){for(var vt=null,ds=null,ht=ge,Ut=ge=0,Zt=null;ht!==null&&Ut<je.length;Ut++){ht.index>Ut?(Zt=ht,ht=null):Zt=ht.sibling;var us=_e(be,ht,je[Ut],Fe);if(us===null){ht===null&&(ht=Zt);break}o&&ht&&us.alternate===null&&c(be,ht),ge=C(us,ge,Ut),ds===null?vt=us:ds.sibling=us,ds=us,ht=Zt}if(Ut===je.length)return m(be,ht),ss&&Fi(be,Ut),vt;if(ht===null){for(;Ut<je.length;Ut++)ht=$e(be,je[Ut],Fe),ht!==null&&(ge=C(ht,ge,Ut),ds===null?vt=ht:ds.sibling=ht,ds=ht);return ss&&Fi(be,Ut),vt}for(ht=g(ht);Ut<je.length;Ut++)Zt=Ee(ht,be,Ut,je[Ut],Fe),Zt!==null&&(o&&Zt.alternate!==null&&ht.delete(Zt.key===null?Ut:Zt.key),ge=C(Zt,ge,Ut),ds===null?vt=Zt:ds.sibling=Zt,ds=Zt);return o&&ht.forEach(function(tl){return c(be,tl)}),ss&&Fi(be,Ut),vt}function Ct(be,ge,je,Fe){if(je==null)throw Error(n(151));for(var vt=null,ds=null,ht=ge,Ut=ge=0,Zt=null,us=je.next();ht!==null&&!us.done;Ut++,us=je.next()){ht.index>Ut?(Zt=ht,ht=null):Zt=ht.sibling;var tl=_e(be,ht,us.value,Fe);if(tl===null){ht===null&&(ht=Zt);break}o&&ht&&tl.alternate===null&&c(be,ht),ge=C(tl,ge,Ut),ds===null?vt=tl:ds.sibling=tl,ds=tl,ht=Zt}if(us.done)return m(be,ht),ss&&Fi(be,Ut),vt;if(ht===null){for(;!us.done;Ut++,us=je.next())us=$e(be,us.value,Fe),us!==null&&(ge=C(us,ge,Ut),ds===null?vt=us:ds.sibling=us,ds=us);return ss&&Fi(be,Ut),vt}for(ht=g(ht);!us.done;Ut++,us=je.next())us=Ee(ht,be,Ut,us.value,Fe),us!==null&&(o&&us.alternate!==null&&ht.delete(us.key===null?Ut:us.key),ge=C(us,ge,Ut),ds===null?vt=us:ds.sibling=us,ds=us);return o&&ht.forEach(function(I6){return c(be,I6)}),ss&&Fi(be,Ut),vt}function As(be,ge,je,Fe){if(typeof je=="object"&&je!==null&&je.type===w&&je.key===null&&(je=je.props.children),typeof je=="object"&&je!==null){switch(je.$$typeof){case v:e:{for(var vt=je.key;ge!==null;){if(ge.key===vt){if(vt=je.type,vt===w){if(ge.tag===7){m(be,ge.sibling),Fe=b(ge,je.props.children),Fe.return=be,be=Fe;break e}}else if(ge.elementType===vt||typeof vt=="object"&&vt!==null&&vt.$$typeof===F&&Xl(vt)===ge.type){m(be,ge.sibling),Fe=b(ge,je.props),Gu(Fe,je),Fe.return=be,be=Fe;break e}m(be,ge);break}else c(be,ge);ge=ge.sibling}je.type===w?(Fe=ql(je.props.children,be.mode,Fe,je.key),Fe.return=be,be=Fe):(Fe=hf(je.type,je.key,je.props,null,be.mode,Fe),Gu(Fe,je),Fe.return=be,be=Fe)}return P(be);case j:e:{for(vt=je.key;ge!==null;){if(ge.key===vt)if(ge.tag===4&&ge.stateNode.containerInfo===je.containerInfo&&ge.stateNode.implementation===je.implementation){m(be,ge.sibling),Fe=b(ge,je.children||[]),Fe.return=be,be=Fe;break e}else{m(be,ge);break}else c(be,ge);ge=ge.sibling}Fe=x0(je,be.mode,Fe),Fe.return=be,be=Fe}return P(be);case F:return je=Xl(je),As(be,ge,je,Fe)}if(te(je))return it(be,ge,je,Fe);if(ee(je)){if(vt=ee(je),typeof vt!="function")throw Error(n(150));return je=vt.call(je),Ct(be,ge,je,Fe)}if(typeof je.then=="function")return As(be,ge,bf(je),Fe);if(je.$$typeof===D)return As(be,ge,pf(be,je),Fe);vf(be,je)}return typeof je=="string"&&je!==""||typeof je=="number"||typeof je=="bigint"?(je=""+je,ge!==null&&ge.tag===6?(m(be,ge.sibling),Fe=b(ge,je),Fe.return=be,be=Fe):(m(be,ge),Fe=g0(je,be.mode,Fe),Fe.return=be,be=Fe),P(be)):m(be,ge)}return function(be,ge,je,Fe){try{qu=0;var vt=As(be,ge,je,Fe);return id=null,vt}catch(ht){if(ht===rd||ht===xf)throw ht;var ds=Hn(29,ht,null,be.mode);return ds.lanes=Fe,ds.return=be,ds}finally{}}}var Zl=hN(!0),mN=hN(!1),Fo=!1;function T0(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function D0(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Io(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function $o(o,c,m){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(xs&2)!==0){var b=g.pending;return b===null?c.next=c:(c.next=b.next,b.next=c),g.pending=c,c=uf(o),X1(o,null,m),c}return df(o,g,c,m),uf(o)}function Wu(o,c,m){if(c=c.updateQueue,c!==null&&(c=c.shared,(m&4194048)!==0)){var g=c.lanes;g&=o.pendingLanes,m|=g,c.lanes=m,Ps(o,m)}}function E0(o,c){var m=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,m===g)){var b=null,C=null;if(m=m.firstBaseUpdate,m!==null){do{var P={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};C===null?b=C=P:C=C.next=P,m=m.next}while(m!==null);C===null?b=C=c:C=C.next=c}else b=C=c;m={baseState:g.baseState,firstBaseUpdate:b,lastBaseUpdate:C,shared:g.shared,callbacks:g.callbacks},o.updateQueue=m;return}o=m.lastBaseUpdate,o===null?m.firstBaseUpdate=c:o.next=c,m.lastBaseUpdate=c}var R0=!1;function Yu(){if(R0){var o=nd;if(o!==null)throw o}}function Ku(o,c,m,g){R0=!1;var b=o.updateQueue;Fo=!1;var C=b.firstBaseUpdate,P=b.lastBaseUpdate,Q=b.shared.pending;if(Q!==null){b.shared.pending=null;var me=Q,we=me.next;me.next=null,P===null?C=we:P.next=we,P=me;var Pe=o.alternate;Pe!==null&&(Pe=Pe.updateQueue,Q=Pe.lastBaseUpdate,Q!==P&&(Q===null?Pe.firstBaseUpdate=we:Q.next=we,Pe.lastBaseUpdate=me))}if(C!==null){var $e=b.baseState;P=0,Pe=we=me=null,Q=C;do{var _e=Q.lane&-536870913,Ee=_e!==Q.lane;if(Ee?(Qt&_e)===_e:(g&_e)===_e){_e!==0&&_e===ad&&(R0=!0),Pe!==null&&(Pe=Pe.next={lane:0,tag:Q.tag,payload:Q.payload,callback:null,next:null});e:{var it=o,Ct=Q;_e=c;var As=m;switch(Ct.tag){case 1:if(it=Ct.payload,typeof it=="function"){$e=it.call(As,$e,_e);break e}$e=it;break e;case 3:it.flags=it.flags&-65537|128;case 0:if(it=Ct.payload,_e=typeof it=="function"?it.call(As,$e,_e):it,_e==null)break e;$e=f({},$e,_e);break e;case 2:Fo=!0}}_e=Q.callback,_e!==null&&(o.flags|=64,Ee&&(o.flags|=8192),Ee=b.callbacks,Ee===null?b.callbacks=[_e]:Ee.push(_e))}else Ee={lane:_e,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},Pe===null?(we=Pe=Ee,me=$e):Pe=Pe.next=Ee,P|=_e;if(Q=Q.next,Q===null){if(Q=b.shared.pending,Q===null)break;Ee=Q,Q=Ee.next,Ee.next=null,b.lastBaseUpdate=Ee,b.shared.pending=null}}while(!0);Pe===null&&(me=$e),b.baseState=me,b.firstBaseUpdate=we,b.lastBaseUpdate=Pe,C===null&&(b.shared.lanes=0),qo|=P,o.lanes=P,o.memoizedState=$e}}function fN(o,c){if(typeof o!="function")throw Error(n(191,o));o.call(c)}function pN(o,c){var m=o.callbacks;if(m!==null)for(o.callbacks=null,o=0;o<m.length;o++)fN(m[o],c)}var od=z(null),jf=z(0);function gN(o,c){o=Ki,le(jf,o),le(od,c),Ki=o|c.baseLanes}function M0(){le(jf,Ki),le(od,od.current)}function P0(){Ki=jf.current,ie(od),ie(jf)}var qn=z(null),gr=null;function zo(o){var c=o.alternate;le(ua,ua.current&1),le(qn,o),gr===null&&(c===null||od.current!==null||c.memoizedState!==null)&&(gr=o)}function O0(o){le(ua,ua.current),le(qn,o),gr===null&&(gr=o)}function xN(o){o.tag===22?(le(ua,ua.current),le(qn,o),gr===null&&(gr=o)):Vo()}function Vo(){le(ua,ua.current),le(qn,qn.current)}function Gn(o){ie(qn),gr===o&&(gr=null),ie(ua)}var ua=z(0);function wf(o){for(var c=o;c!==null;){if(c.tag===13){var m=c.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||zy(m)||Vy(m)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var zi=0,It=null,ks=null,ba=null,Nf=!1,ld=!1,Jl=!1,_f=0,Xu=0,cd=null,TL=0;function ra(){throw Error(n(321))}function L0(o,c){if(c===null)return!1;for(var m=0;m<c.length&&m<o.length;m++)if(!Un(o[m],c[m]))return!1;return!0}function B0(o,c,m,g,b,C){return zi=C,It=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,V.H=o===null||o.memoizedState===null?e_:Z0,Jl=!1,C=m(g,b),Jl=!1,ld&&(C=bN(c,m,g,b)),yN(o),C}function yN(o){V.H=Ju;var c=ks!==null&&ks.next!==null;if(zi=0,ba=ks=It=null,Nf=!1,Xu=0,cd=null,c)throw Error(n(300));o===null||va||(o=o.dependencies,o!==null&&ff(o)&&(va=!0))}function bN(o,c,m,g){It=o;var b=0;do{if(ld&&(cd=null),Xu=0,ld=!1,25<=b)throw Error(n(301));if(b+=1,ba=ks=null,o.updateQueue!=null){var C=o.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}V.H=t_,C=c(m,g)}while(ld);return C}function DL(){var o=V.H,c=o.useState()[0];return c=typeof c.then=="function"?Qu(c):c,o=o.useState()[0],(ks!==null?ks.memoizedState:null)!==o&&(It.flags|=1024),c}function F0(){var o=_f!==0;return _f=0,o}function I0(o,c,m){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~m}function $0(o){if(Nf){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}Nf=!1}zi=0,ba=ks=It=null,ld=!1,Xu=_f=0,cd=null}function mn(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ba===null?It.memoizedState=ba=o:ba=ba.next=o,ba}function ha(){if(ks===null){var o=It.alternate;o=o!==null?o.memoizedState:null}else o=ks.next;var c=ba===null?It.memoizedState:ba.next;if(c!==null)ba=c,ks=o;else{if(o===null)throw It.alternate===null?Error(n(467)):Error(n(310));ks=o,o={memoizedState:ks.memoizedState,baseState:ks.baseState,baseQueue:ks.baseQueue,queue:ks.queue,next:null},ba===null?It.memoizedState=ba=o:ba=ba.next=o}return ba}function Cf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function Qu(o){var c=Xu;return Xu+=1,cd===null&&(cd=[]),o=cN(cd,o,c),c=It,(ba===null?c.memoizedState:ba.next)===null&&(c=c.alternate,V.H=c===null||c.memoizedState===null?e_:Z0),o}function kf(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return Qu(o);if(o.$$typeof===D)return Ga(o)}throw Error(n(438,String(o)))}function z0(o){var c=null,m=It.updateQueue;if(m!==null&&(c=m.memoCache),c==null){var g=It.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(c={data:g.data.map(function(b){return b.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),m===null&&(m=Cf(),It.updateQueue=m),m.memoCache=c,m=c.data[c.index],m===void 0)for(m=c.data[c.index]=Array(o),g=0;g<o;g++)m[g]=J;return c.index++,m}function Vi(o,c){return typeof c=="function"?c(o):c}function Sf(o){var c=ha();return V0(c,ks,o)}function V0(o,c,m){var g=o.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=m;var b=o.baseQueue,C=g.pending;if(C!==null){if(b!==null){var P=b.next;b.next=C.next,C.next=P}c.baseQueue=b=C,g.pending=null}if(C=o.baseState,b===null)o.memoizedState=C;else{c=b.next;var Q=P=null,me=null,we=c,Pe=!1;do{var $e=we.lane&-536870913;if($e!==we.lane?(Qt&$e)===$e:(zi&$e)===$e){var _e=we.revertLane;if(_e===0)me!==null&&(me=me.next={lane:0,revertLane:0,gesture:null,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null}),$e===ad&&(Pe=!0);else if((zi&_e)===_e){we=we.next,_e===ad&&(Pe=!0);continue}else $e={lane:0,revertLane:we.revertLane,gesture:null,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null},me===null?(Q=me=$e,P=C):me=me.next=$e,It.lanes|=_e,qo|=_e;$e=we.action,Jl&&m(C,$e),C=we.hasEagerState?we.eagerState:m(C,$e)}else _e={lane:$e,revertLane:we.revertLane,gesture:we.gesture,action:we.action,hasEagerState:we.hasEagerState,eagerState:we.eagerState,next:null},me===null?(Q=me=_e,P=C):me=me.next=_e,It.lanes|=$e,qo|=$e;we=we.next}while(we!==null&&we!==c);if(me===null?P=C:me.next=Q,!Un(C,o.memoizedState)&&(va=!0,Pe&&(m=nd,m!==null)))throw m;o.memoizedState=C,o.baseState=P,o.baseQueue=me,g.lastRenderedState=C}return b===null&&(g.lanes=0),[o.memoizedState,g.dispatch]}function U0(o){var c=ha(),m=c.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=o;var g=m.dispatch,b=m.pending,C=c.memoizedState;if(b!==null){m.pending=null;var P=b=b.next;do C=o(C,P.action),P=P.next;while(P!==b);Un(C,c.memoizedState)||(va=!0),c.memoizedState=C,c.baseQueue===null&&(c.baseState=C),m.lastRenderedState=C}return[C,g]}function vN(o,c,m){var g=It,b=ha(),C=ss;if(C){if(m===void 0)throw Error(n(407));m=m()}else m=c();var P=!Un((ks||b).memoizedState,m);if(P&&(b.memoizedState=m,va=!0),b=b.queue,G0(NN.bind(null,g,b,o),[o]),b.getSnapshot!==c||P||ba!==null&&ba.memoizedState.tag&1){if(g.flags|=2048,dd(9,{destroy:void 0},wN.bind(null,g,b,m,c),null),Es===null)throw Error(n(349));C||(zi&127)!==0||jN(g,c,m)}return m}function jN(o,c,m){o.flags|=16384,o={getSnapshot:c,value:m},c=It.updateQueue,c===null?(c=Cf(),It.updateQueue=c,c.stores=[o]):(m=c.stores,m===null?c.stores=[o]:m.push(o))}function wN(o,c,m,g){c.value=m,c.getSnapshot=g,_N(c)&&CN(o)}function NN(o,c,m){return m(function(){_N(c)&&CN(o)})}function _N(o){var c=o.getSnapshot;o=o.value;try{var m=c();return!Un(o,m)}catch{return!0}}function CN(o){var c=Hl(o,2);c!==null&&An(c,o,2)}function H0(o){var c=mn();if(typeof o=="function"){var m=o;if(o=m(),Jl){pt(!0);try{m()}finally{pt(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:o},c}function kN(o,c,m,g){return o.baseState=m,V0(o,ks,typeof g=="function"?g:Vi)}function EL(o,c,m,g,b){if(Df(o))throw Error(n(485));if(o=c.action,o!==null){var C={payload:b,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(P){C.listeners.push(P)}};V.T!==null?m(!0):C.isTransition=!1,g(C),m=c.pending,m===null?(C.next=c.pending=C,SN(c,C)):(C.next=m.next,c.pending=m.next=C)}}function SN(o,c){var m=c.action,g=c.payload,b=o.state;if(c.isTransition){var C=V.T,P={};V.T=P;try{var Q=m(b,g),me=V.S;me!==null&&me(P,Q),AN(o,c,Q)}catch(we){q0(o,c,we)}finally{C!==null&&P.types!==null&&(C.types=P.types),V.T=C}}else try{C=m(b,g),AN(o,c,C)}catch(we){q0(o,c,we)}}function AN(o,c,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(g){TN(o,c,g)},function(g){return q0(o,c,g)}):TN(o,c,m)}function TN(o,c,m){c.status="fulfilled",c.value=m,DN(c),o.state=m,c=o.pending,c!==null&&(m=c.next,m===c?o.pending=null:(m=m.next,c.next=m,SN(o,m)))}function q0(o,c,m){var g=o.pending;if(o.pending=null,g!==null){g=g.next;do c.status="rejected",c.reason=m,DN(c),c=c.next;while(c!==g)}o.action=null}function DN(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function EN(o,c){return c}function RN(o,c){if(ss){var m=Es.formState;if(m!==null){e:{var g=It;if(ss){if($s){t:{for(var b=$s,C=pr;b.nodeType!==8;){if(!C){b=null;break t}if(b=xr(b.nextSibling),b===null){b=null;break t}}C=b.data,b=C==="F!"||C==="F"?b:null}if(b){$s=xr(b.nextSibling),g=b.data==="F!";break e}}Lo(g)}g=!1}g&&(c=m[0])}}return m=mn(),m.memoizedState=m.baseState=c,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:EN,lastRenderedState:c},m.queue=g,m=QN.bind(null,It,g),g.dispatch=m,g=H0(!1),C=Q0.bind(null,It,!1,g.queue),g=mn(),b={state:c,dispatch:null,action:o,pending:null},g.queue=b,m=EL.bind(null,It,b,C,m),b.dispatch=m,g.memoizedState=o,[c,m,!1]}function MN(o){var c=ha();return PN(c,ks,o)}function PN(o,c,m){if(c=V0(o,c,EN)[0],o=Sf(Vi)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var g=Qu(c)}catch(P){throw P===rd?xf:P}else g=c;c=ha();var b=c.queue,C=b.dispatch;return m!==c.memoizedState&&(It.flags|=2048,dd(9,{destroy:void 0},RL.bind(null,b,m),null)),[g,C,o]}function RL(o,c){o.action=c}function ON(o){var c=ha(),m=ks;if(m!==null)return PN(c,m,o);ha(),c=c.memoizedState,m=ha();var g=m.queue.dispatch;return m.memoizedState=o,[c,g,!1]}function dd(o,c,m,g){return o={tag:o,create:m,deps:g,inst:c,next:null},c=It.updateQueue,c===null&&(c=Cf(),It.updateQueue=c),m=c.lastEffect,m===null?c.lastEffect=o.next=o:(g=m.next,m.next=o,o.next=g,c.lastEffect=o),o}function LN(){return ha().memoizedState}function Af(o,c,m,g){var b=mn();It.flags|=o,b.memoizedState=dd(1|c,{destroy:void 0},m,g===void 0?null:g)}function Tf(o,c,m,g){var b=ha();g=g===void 0?null:g;var C=b.memoizedState.inst;ks!==null&&g!==null&&L0(g,ks.memoizedState.deps)?b.memoizedState=dd(c,C,m,g):(It.flags|=o,b.memoizedState=dd(1|c,C,m,g))}function BN(o,c){Af(8390656,8,o,c)}function G0(o,c){Tf(2048,8,o,c)}function ML(o){It.flags|=4;var c=It.updateQueue;if(c===null)c=Cf(),It.updateQueue=c,c.events=[o];else{var m=c.events;m===null?c.events=[o]:m.push(o)}}function FN(o){var c=ha().memoizedState;return ML({ref:c,nextImpl:o}),function(){if((xs&2)!==0)throw Error(n(440));return c.impl.apply(void 0,arguments)}}function IN(o,c){return Tf(4,2,o,c)}function $N(o,c){return Tf(4,4,o,c)}function zN(o,c){if(typeof c=="function"){o=o();var m=c(o);return function(){typeof m=="function"?m():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function VN(o,c,m){m=m!=null?m.concat([o]):null,Tf(4,4,zN.bind(null,c,o),m)}function W0(){}function UN(o,c){var m=ha();c=c===void 0?null:c;var g=m.memoizedState;return c!==null&&L0(c,g[1])?g[0]:(m.memoizedState=[o,c],o)}function HN(o,c){var m=ha();c=c===void 0?null:c;var g=m.memoizedState;if(c!==null&&L0(c,g[1]))return g[0];if(g=o(),Jl){pt(!0);try{o()}finally{pt(!1)}}return m.memoizedState=[g,c],g}function Y0(o,c,m){return m===void 0||(zi&1073741824)!==0&&(Qt&261930)===0?o.memoizedState=c:(o.memoizedState=m,o=q_(),It.lanes|=o,qo|=o,m)}function qN(o,c,m,g){return Un(m,c)?m:od.current!==null?(o=Y0(o,m,g),Un(o,c)||(va=!0),o):(zi&42)===0||(zi&1073741824)!==0&&(Qt&261930)===0?(va=!0,o.memoizedState=m):(o=q_(),It.lanes|=o,qo|=o,c)}function GN(o,c,m,g,b){var C=U.p;U.p=C!==0&&8>C?C:8;var P=V.T,Q={};V.T=Q,Q0(o,!1,c,m);try{var me=b(),we=V.S;if(we!==null&&we(Q,me),me!==null&&typeof me=="object"&&typeof me.then=="function"){var Pe=AL(me,g);Zu(o,c,Pe,Kn(o))}else Zu(o,c,g,Kn(o))}catch($e){Zu(o,c,{then:function(){},status:"rejected",reason:$e},Kn())}finally{U.p=C,P!==null&&Q.types!==null&&(P.types=Q.types),V.T=P}}function PL(){}function K0(o,c,m,g){if(o.tag!==5)throw Error(n(476));var b=WN(o).queue;GN(o,b,c,H,m===null?PL:function(){return YN(o),m(g)})}function WN(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:H,baseState:H,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:H},next:null};var m={};return c.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Vi,lastRenderedState:m},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function YN(o){var c=WN(o);c.next===null&&(c=o.alternate.memoizedState),Zu(o,c.next.queue,{},Kn())}function X0(){return Ga(ph)}function KN(){return ha().memoizedState}function XN(){return ha().memoizedState}function OL(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var m=Kn();o=Io(m);var g=$o(c,o,m);g!==null&&(An(g,c,m),Wu(g,c,m)),c={cache:C0()},o.payload=c;return}c=c.return}}function LL(o,c,m){var g=Kn();m={lane:g,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Df(o)?ZN(c,m):(m=f0(o,c,m,g),m!==null&&(An(m,o,g),JN(m,c,g)))}function QN(o,c,m){var g=Kn();Zu(o,c,m,g)}function Zu(o,c,m,g){var b={lane:g,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null};if(Df(o))ZN(c,b);else{var C=o.alternate;if(o.lanes===0&&(C===null||C.lanes===0)&&(C=c.lastRenderedReducer,C!==null))try{var P=c.lastRenderedState,Q=C(P,m);if(b.hasEagerState=!0,b.eagerState=Q,Un(Q,P))return df(o,c,b,0),Es===null&&cf(),!1}catch{}finally{}if(m=f0(o,c,b,g),m!==null)return An(m,o,g),JN(m,c,g),!0}return!1}function Q0(o,c,m,g){if(g={lane:2,revertLane:Ty(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Df(o)){if(c)throw Error(n(479))}else c=f0(o,m,g,2),c!==null&&An(c,o,2)}function Df(o){var c=o.alternate;return o===It||c!==null&&c===It}function ZN(o,c){ld=Nf=!0;var m=o.pending;m===null?c.next=c:(c.next=m.next,m.next=c),o.pending=c}function JN(o,c,m){if((m&4194048)!==0){var g=c.lanes;g&=o.pendingLanes,m|=g,c.lanes=m,Ps(o,m)}}var Ju={readContext:Ga,use:kf,useCallback:ra,useContext:ra,useEffect:ra,useImperativeHandle:ra,useLayoutEffect:ra,useInsertionEffect:ra,useMemo:ra,useReducer:ra,useRef:ra,useState:ra,useDebugValue:ra,useDeferredValue:ra,useTransition:ra,useSyncExternalStore:ra,useId:ra,useHostTransitionStatus:ra,useFormState:ra,useActionState:ra,useOptimistic:ra,useMemoCache:ra,useCacheRefresh:ra};Ju.useEffectEvent=ra;var e_={readContext:Ga,use:kf,useCallback:function(o,c){return mn().memoizedState=[o,c===void 0?null:c],o},useContext:Ga,useEffect:BN,useImperativeHandle:function(o,c,m){m=m!=null?m.concat([o]):null,Af(4194308,4,zN.bind(null,c,o),m)},useLayoutEffect:function(o,c){return Af(4194308,4,o,c)},useInsertionEffect:function(o,c){Af(4,2,o,c)},useMemo:function(o,c){var m=mn();c=c===void 0?null:c;var g=o();if(Jl){pt(!0);try{o()}finally{pt(!1)}}return m.memoizedState=[g,c],g},useReducer:function(o,c,m){var g=mn();if(m!==void 0){var b=m(c);if(Jl){pt(!0);try{m(c)}finally{pt(!1)}}}else b=c;return g.memoizedState=g.baseState=b,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:b},g.queue=o,o=o.dispatch=LL.bind(null,It,o),[g.memoizedState,o]},useRef:function(o){var c=mn();return o={current:o},c.memoizedState=o},useState:function(o){o=H0(o);var c=o.queue,m=QN.bind(null,It,c);return c.dispatch=m,[o.memoizedState,m]},useDebugValue:W0,useDeferredValue:function(o,c){var m=mn();return Y0(m,o,c)},useTransition:function(){var o=H0(!1);return o=GN.bind(null,It,o.queue,!0,!1),mn().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,m){var g=It,b=mn();if(ss){if(m===void 0)throw Error(n(407));m=m()}else{if(m=c(),Es===null)throw Error(n(349));(Qt&127)!==0||jN(g,c,m)}b.memoizedState=m;var C={value:m,getSnapshot:c};return b.queue=C,BN(NN.bind(null,g,C,o),[o]),g.flags|=2048,dd(9,{destroy:void 0},wN.bind(null,g,C,m,c),null),m},useId:function(){var o=mn(),c=Es.identifierPrefix;if(ss){var m=oi,g=ii;m=(g&~(1<<32-Ms(g)-1)).toString(32)+m,c="_"+c+"R_"+m,m=_f++,0<m&&(c+="H"+m.toString(32)),c+="_"}else m=TL++,c="_"+c+"r_"+m.toString(32)+"_";return o.memoizedState=c},useHostTransitionStatus:X0,useFormState:RN,useActionState:RN,useOptimistic:function(o){var c=mn();c.memoizedState=c.baseState=o;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=m,c=Q0.bind(null,It,!0,m),m.dispatch=c,[o,c]},useMemoCache:z0,useCacheRefresh:function(){return mn().memoizedState=OL.bind(null,It)},useEffectEvent:function(o){var c=mn(),m={impl:o};return c.memoizedState=m,function(){if((xs&2)!==0)throw Error(n(440));return m.impl.apply(void 0,arguments)}}},Z0={readContext:Ga,use:kf,useCallback:UN,useContext:Ga,useEffect:G0,useImperativeHandle:VN,useInsertionEffect:IN,useLayoutEffect:$N,useMemo:HN,useReducer:Sf,useRef:LN,useState:function(){return Sf(Vi)},useDebugValue:W0,useDeferredValue:function(o,c){var m=ha();return qN(m,ks.memoizedState,o,c)},useTransition:function(){var o=Sf(Vi)[0],c=ha().memoizedState;return[typeof o=="boolean"?o:Qu(o),c]},useSyncExternalStore:vN,useId:KN,useHostTransitionStatus:X0,useFormState:MN,useActionState:MN,useOptimistic:function(o,c){var m=ha();return kN(m,ks,o,c)},useMemoCache:z0,useCacheRefresh:XN};Z0.useEffectEvent=FN;var t_={readContext:Ga,use:kf,useCallback:UN,useContext:Ga,useEffect:G0,useImperativeHandle:VN,useInsertionEffect:IN,useLayoutEffect:$N,useMemo:HN,useReducer:U0,useRef:LN,useState:function(){return U0(Vi)},useDebugValue:W0,useDeferredValue:function(o,c){var m=ha();return ks===null?Y0(m,o,c):qN(m,ks.memoizedState,o,c)},useTransition:function(){var o=U0(Vi)[0],c=ha().memoizedState;return[typeof o=="boolean"?o:Qu(o),c]},useSyncExternalStore:vN,useId:KN,useHostTransitionStatus:X0,useFormState:ON,useActionState:ON,useOptimistic:function(o,c){var m=ha();return ks!==null?kN(m,ks,o,c):(m.baseState=o,[o,m.queue.dispatch])},useMemoCache:z0,useCacheRefresh:XN};t_.useEffectEvent=FN;function J0(o,c,m,g){c=o.memoizedState,m=m(g,c),m=m==null?c:f({},c,m),o.memoizedState=m,o.lanes===0&&(o.updateQueue.baseState=m)}var ey={enqueueSetState:function(o,c,m){o=o._reactInternals;var g=Kn(),b=Io(g);b.payload=c,m!=null&&(b.callback=m),c=$o(o,b,g),c!==null&&(An(c,o,g),Wu(c,o,g))},enqueueReplaceState:function(o,c,m){o=o._reactInternals;var g=Kn(),b=Io(g);b.tag=1,b.payload=c,m!=null&&(b.callback=m),c=$o(o,b,g),c!==null&&(An(c,o,g),Wu(c,o,g))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var m=Kn(),g=Io(m);g.tag=2,c!=null&&(g.callback=c),c=$o(o,g,m),c!==null&&(An(c,o,m),Wu(c,o,m))}};function s_(o,c,m,g,b,C,P){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,C,P):c.prototype&&c.prototype.isPureReactComponent?!Iu(m,g)||!Iu(b,C):!0}function a_(o,c,m,g){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(m,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(m,g),c.state!==o&&ey.enqueueReplaceState(c,c.state,null)}function ec(o,c){var m=c;if("ref"in c){m={};for(var g in c)g!=="ref"&&(m[g]=c[g])}if(o=o.defaultProps){m===c&&(m=f({},m));for(var b in o)m[b]===void 0&&(m[b]=o[b])}return m}function n_(o){lf(o)}function r_(o){console.error(o)}function i_(o){lf(o)}function Ef(o,c){try{var m=o.onUncaughtError;m(c.value,{componentStack:c.stack})}catch(g){setTimeout(function(){throw g})}}function o_(o,c,m){try{var g=o.onCaughtError;g(m.value,{componentStack:m.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function ty(o,c,m){return m=Io(m),m.tag=3,m.payload={element:null},m.callback=function(){Ef(o,c)},m}function l_(o){return o=Io(o),o.tag=3,o}function c_(o,c,m,g){var b=m.type.getDerivedStateFromError;if(typeof b=="function"){var C=g.value;o.payload=function(){return b(C)},o.callback=function(){o_(c,m,g)}}var P=m.stateNode;P!==null&&typeof P.componentDidCatch=="function"&&(o.callback=function(){o_(c,m,g),typeof b!="function"&&(Go===null?Go=new Set([this]):Go.add(this));var Q=g.stack;this.componentDidCatch(g.value,{componentStack:Q!==null?Q:""})})}function BL(o,c,m,g,b){if(m.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(c=m.alternate,c!==null&&sd(c,m,b,!0),m=qn.current,m!==null){switch(m.tag){case 31:case 13:return gr===null?Uf():m.alternate===null&&ia===0&&(ia=3),m.flags&=-257,m.flags|=65536,m.lanes=b,g===yf?m.flags|=16384:(c=m.updateQueue,c===null?m.updateQueue=new Set([g]):c.add(g),ky(o,g,b)),!1;case 22:return m.flags|=65536,g===yf?m.flags|=16384:(c=m.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([g])},m.updateQueue=c):(m=c.retryQueue,m===null?c.retryQueue=new Set([g]):m.add(g)),ky(o,g,b)),!1}throw Error(n(435,m.tag))}return ky(o,g,b),Uf(),!1}if(ss)return c=qn.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=b,g!==v0&&(o=Error(n(422),{cause:g}),Vu(hr(o,m)))):(g!==v0&&(c=Error(n(423),{cause:g}),Vu(hr(c,m))),o=o.current.alternate,o.flags|=65536,b&=-b,o.lanes|=b,g=hr(g,m),b=ty(o.stateNode,g,b),E0(o,b),ia!==4&&(ia=2)),!1;var C=Error(n(520),{cause:g});if(C=hr(C,m),oh===null?oh=[C]:oh.push(C),ia!==4&&(ia=2),c===null)return!0;g=hr(g,m),m=c;do{switch(m.tag){case 3:return m.flags|=65536,o=b&-b,m.lanes|=o,o=ty(m.stateNode,g,o),E0(m,o),!1;case 1:if(c=m.type,C=m.stateNode,(m.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Go===null||!Go.has(C))))return m.flags|=65536,b&=-b,m.lanes|=b,b=l_(b),c_(b,o,m,g),E0(m,b),!1}m=m.return}while(m!==null);return!1}var sy=Error(n(461)),va=!1;function Wa(o,c,m,g){c.child=o===null?mN(c,null,m,g):Zl(c,o.child,m,g)}function d_(o,c,m,g,b){m=m.render;var C=c.ref;if("ref"in g){var P={};for(var Q in g)Q!=="ref"&&(P[Q]=g[Q])}else P=g;return Yl(c),g=B0(o,c,m,P,C,b),Q=F0(),o!==null&&!va?(I0(o,c,b),Ui(o,c,b)):(ss&&Q&&y0(c),c.flags|=1,Wa(o,c,g,b),c.child)}function u_(o,c,m,g,b){if(o===null){var C=m.type;return typeof C=="function"&&!p0(C)&&C.defaultProps===void 0&&m.compare===null?(c.tag=15,c.type=C,h_(o,c,C,g,b)):(o=hf(m.type,null,g,c,c.mode,b),o.ref=c.ref,o.return=c,c.child=o)}if(C=o.child,!dy(o,b)){var P=C.memoizedProps;if(m=m.compare,m=m!==null?m:Iu,m(P,g)&&o.ref===c.ref)return Ui(o,c,b)}return c.flags|=1,o=Bi(C,g),o.ref=c.ref,o.return=c,c.child=o}function h_(o,c,m,g,b){if(o!==null){var C=o.memoizedProps;if(Iu(C,g)&&o.ref===c.ref)if(va=!1,c.pendingProps=g=C,dy(o,b))(o.flags&131072)!==0&&(va=!0);else return c.lanes=o.lanes,Ui(o,c,b)}return ay(o,c,m,g,b)}function m_(o,c,m,g){var b=g.children,C=o!==null?o.memoizedState:null;if(o===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((c.flags&128)!==0){if(C=C!==null?C.baseLanes|m:m,o!==null){for(g=c.child=o.child,b=0;g!==null;)b=b|g.lanes|g.childLanes,g=g.sibling;g=b&~C}else g=0,c.child=null;return f_(o,c,C,m,g)}if((m&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&gf(c,C!==null?C.cachePool:null),C!==null?gN(c,C):M0(),xN(c);else return g=c.lanes=536870912,f_(o,c,C!==null?C.baseLanes|m:m,m,g)}else C!==null?(gf(c,C.cachePool),gN(c,C),Vo(),c.memoizedState=null):(o!==null&&gf(c,null),M0(),Vo());return Wa(o,c,b,m),c.child}function eh(o,c){return o!==null&&o.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function f_(o,c,m,g,b){var C=S0();return C=C===null?null:{parent:ya._currentValue,pool:C},c.memoizedState={baseLanes:m,cachePool:C},o!==null&&gf(c,null),M0(),xN(c),o!==null&&sd(o,c,g,!0),c.childLanes=b,null}function Rf(o,c){return c=Pf({mode:c.mode,children:c.children},o.mode),c.ref=o.ref,o.child=c,c.return=o,c}function p_(o,c,m){return Zl(c,o.child,null,m),o=Rf(c,c.pendingProps),o.flags|=2,Gn(c),c.memoizedState=null,o}function FL(o,c,m){var g=c.pendingProps,b=(c.flags&128)!==0;if(c.flags&=-129,o===null){if(ss){if(g.mode==="hidden")return o=Rf(c,g),c.lanes=536870912,eh(null,o);if(O0(c),(o=$s)?(o=SC(o,pr),o=o!==null&&o.data==="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:Po!==null?{id:ii,overflow:oi}:null,retryLane:536870912,hydrationErrors:null},m=Z1(o),m.return=c,c.child=m,qa=c,$s=null)):o=null,o===null)throw Lo(c);return c.lanes=536870912,null}return Rf(c,g)}var C=o.memoizedState;if(C!==null){var P=C.dehydrated;if(O0(c),b)if(c.flags&256)c.flags&=-257,c=p_(o,c,m);else if(c.memoizedState!==null)c.child=o.child,c.flags|=128,c=null;else throw Error(n(558));else if(va||sd(o,c,m,!1),b=(m&o.childLanes)!==0,va||b){if(g=Es,g!==null&&(P=Ca(g,m),P!==0&&P!==C.retryLane))throw C.retryLane=P,Hl(o,P),An(g,o,P),sy;Uf(),c=p_(o,c,m)}else o=C.treeContext,$s=xr(P.nextSibling),qa=c,ss=!0,Oo=null,pr=!1,o!==null&&tN(c,o),c=Rf(c,g),c.flags|=4096;return c}return o=Bi(o.child,{mode:g.mode,children:g.children}),o.ref=c.ref,c.child=o,o.return=c,o}function Mf(o,c){var m=c.ref;if(m===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(n(284));(o===null||o.ref!==m)&&(c.flags|=4194816)}}function ay(o,c,m,g,b){return Yl(c),m=B0(o,c,m,g,void 0,b),g=F0(),o!==null&&!va?(I0(o,c,b),Ui(o,c,b)):(ss&&g&&y0(c),c.flags|=1,Wa(o,c,m,b),c.child)}function g_(o,c,m,g,b,C){return Yl(c),c.updateQueue=null,m=bN(c,g,m,b),yN(o),g=F0(),o!==null&&!va?(I0(o,c,C),Ui(o,c,C)):(ss&&g&&y0(c),c.flags|=1,Wa(o,c,m,C),c.child)}function x_(o,c,m,g,b){if(Yl(c),c.stateNode===null){var C=Zc,P=m.contextType;typeof P=="object"&&P!==null&&(C=Ga(P)),C=new m(g,C),c.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=ey,c.stateNode=C,C._reactInternals=c,C=c.stateNode,C.props=g,C.state=c.memoizedState,C.refs={},T0(c),P=m.contextType,C.context=typeof P=="object"&&P!==null?Ga(P):Zc,C.state=c.memoizedState,P=m.getDerivedStateFromProps,typeof P=="function"&&(J0(c,m,P,g),C.state=c.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(P=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),P!==C.state&&ey.enqueueReplaceState(C,C.state,null),Ku(c,g,C,b),Yu(),C.state=c.memoizedState),typeof C.componentDidMount=="function"&&(c.flags|=4194308),g=!0}else if(o===null){C=c.stateNode;var Q=c.memoizedProps,me=ec(m,Q);C.props=me;var we=C.context,Pe=m.contextType;P=Zc,typeof Pe=="object"&&Pe!==null&&(P=Ga(Pe));var $e=m.getDerivedStateFromProps;Pe=typeof $e=="function"||typeof C.getSnapshotBeforeUpdate=="function",Q=c.pendingProps!==Q,Pe||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(Q||we!==P)&&a_(c,C,g,P),Fo=!1;var _e=c.memoizedState;C.state=_e,Ku(c,g,C,b),Yu(),we=c.memoizedState,Q||_e!==we||Fo?(typeof $e=="function"&&(J0(c,m,$e,g),we=c.memoizedState),(me=Fo||s_(c,m,me,g,_e,we,P))?(Pe||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(c.flags|=4194308)):(typeof C.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=we),C.props=g,C.state=we,C.context=P,g=me):(typeof C.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{C=c.stateNode,D0(o,c),P=c.memoizedProps,Pe=ec(m,P),C.props=Pe,$e=c.pendingProps,_e=C.context,we=m.contextType,me=Zc,typeof we=="object"&&we!==null&&(me=Ga(we)),Q=m.getDerivedStateFromProps,(we=typeof Q=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(P!==$e||_e!==me)&&a_(c,C,g,me),Fo=!1,_e=c.memoizedState,C.state=_e,Ku(c,g,C,b),Yu();var Ee=c.memoizedState;P!==$e||_e!==Ee||Fo||o!==null&&o.dependencies!==null&&ff(o.dependencies)?(typeof Q=="function"&&(J0(c,m,Q,g),Ee=c.memoizedState),(Pe=Fo||s_(c,m,Pe,g,_e,Ee,me)||o!==null&&o.dependencies!==null&&ff(o.dependencies))?(we||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(g,Ee,me),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(g,Ee,me)),typeof C.componentDidUpdate=="function"&&(c.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof C.componentDidUpdate!="function"||P===o.memoizedProps&&_e===o.memoizedState||(c.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||P===o.memoizedProps&&_e===o.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=Ee),C.props=g,C.state=Ee,C.context=me,g=Pe):(typeof C.componentDidUpdate!="function"||P===o.memoizedProps&&_e===o.memoizedState||(c.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||P===o.memoizedProps&&_e===o.memoizedState||(c.flags|=1024),g=!1)}return C=g,Mf(o,c),g=(c.flags&128)!==0,C||g?(C=c.stateNode,m=g&&typeof m.getDerivedStateFromError!="function"?null:C.render(),c.flags|=1,o!==null&&g?(c.child=Zl(c,o.child,null,b),c.child=Zl(c,null,m,b)):Wa(o,c,m,b),c.memoizedState=C.state,o=c.child):o=Ui(o,c,b),o}function y_(o,c,m,g){return Gl(),c.flags|=256,Wa(o,c,m,g),c.child}var ny={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ry(o){return{baseLanes:o,cachePool:oN()}}function iy(o,c,m){return o=o!==null?o.childLanes&~m:0,c&&(o|=Yn),o}function b_(o,c,m){var g=c.pendingProps,b=!1,C=(c.flags&128)!==0,P;if((P=C)||(P=o!==null&&o.memoizedState===null?!1:(ua.current&2)!==0),P&&(b=!0,c.flags&=-129),P=(c.flags&32)!==0,c.flags&=-33,o===null){if(ss){if(b?zo(c):Vo(),(o=$s)?(o=SC(o,pr),o=o!==null&&o.data!=="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:Po!==null?{id:ii,overflow:oi}:null,retryLane:536870912,hydrationErrors:null},m=Z1(o),m.return=c,c.child=m,qa=c,$s=null)):o=null,o===null)throw Lo(c);return Vy(o)?c.lanes=32:c.lanes=536870912,null}var Q=g.children;return g=g.fallback,b?(Vo(),b=c.mode,Q=Pf({mode:"hidden",children:Q},b),g=ql(g,b,m,null),Q.return=c,g.return=c,Q.sibling=g,c.child=Q,g=c.child,g.memoizedState=ry(m),g.childLanes=iy(o,P,m),c.memoizedState=ny,eh(null,g)):(zo(c),oy(c,Q))}var me=o.memoizedState;if(me!==null&&(Q=me.dehydrated,Q!==null)){if(C)c.flags&256?(zo(c),c.flags&=-257,c=ly(o,c,m)):c.memoizedState!==null?(Vo(),c.child=o.child,c.flags|=128,c=null):(Vo(),Q=g.fallback,b=c.mode,g=Pf({mode:"visible",children:g.children},b),Q=ql(Q,b,m,null),Q.flags|=2,g.return=c,Q.return=c,g.sibling=Q,c.child=g,Zl(c,o.child,null,m),g=c.child,g.memoizedState=ry(m),g.childLanes=iy(o,P,m),c.memoizedState=ny,c=eh(null,g));else if(zo(c),Vy(Q)){if(P=Q.nextSibling&&Q.nextSibling.dataset,P)var we=P.dgst;P=we,g=Error(n(419)),g.stack="",g.digest=P,Vu({value:g,source:null,stack:null}),c=ly(o,c,m)}else if(va||sd(o,c,m,!1),P=(m&o.childLanes)!==0,va||P){if(P=Es,P!==null&&(g=Ca(P,m),g!==0&&g!==me.retryLane))throw me.retryLane=g,Hl(o,g),An(P,o,g),sy;zy(Q)||Uf(),c=ly(o,c,m)}else zy(Q)?(c.flags|=192,c.child=o.child,c=null):(o=me.treeContext,$s=xr(Q.nextSibling),qa=c,ss=!0,Oo=null,pr=!1,o!==null&&tN(c,o),c=oy(c,g.children),c.flags|=4096);return c}return b?(Vo(),Q=g.fallback,b=c.mode,me=o.child,we=me.sibling,g=Bi(me,{mode:"hidden",children:g.children}),g.subtreeFlags=me.subtreeFlags&65011712,we!==null?Q=Bi(we,Q):(Q=ql(Q,b,m,null),Q.flags|=2),Q.return=c,g.return=c,g.sibling=Q,c.child=g,eh(null,g),g=c.child,Q=o.child.memoizedState,Q===null?Q=ry(m):(b=Q.cachePool,b!==null?(me=ya._currentValue,b=b.parent!==me?{parent:me,pool:me}:b):b=oN(),Q={baseLanes:Q.baseLanes|m,cachePool:b}),g.memoizedState=Q,g.childLanes=iy(o,P,m),c.memoizedState=ny,eh(o.child,g)):(zo(c),m=o.child,o=m.sibling,m=Bi(m,{mode:"visible",children:g.children}),m.return=c,m.sibling=null,o!==null&&(P=c.deletions,P===null?(c.deletions=[o],c.flags|=16):P.push(o)),c.child=m,c.memoizedState=null,m)}function oy(o,c){return c=Pf({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function Pf(o,c){return o=Hn(22,o,null,c),o.lanes=0,o}function ly(o,c,m){return Zl(c,o.child,null,m),o=oy(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function v_(o,c,m){o.lanes|=c;var g=o.alternate;g!==null&&(g.lanes|=c),N0(o.return,c,m)}function cy(o,c,m,g,b,C){var P=o.memoizedState;P===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:m,tailMode:b,treeForkCount:C}:(P.isBackwards=c,P.rendering=null,P.renderingStartTime=0,P.last=g,P.tail=m,P.tailMode=b,P.treeForkCount=C)}function j_(o,c,m){var g=c.pendingProps,b=g.revealOrder,C=g.tail;g=g.children;var P=ua.current,Q=(P&2)!==0;if(Q?(P=P&1|2,c.flags|=128):P&=1,le(ua,P),Wa(o,c,g,m),g=ss?zu:0,!Q&&o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&v_(o,m,c);else if(o.tag===19)v_(o,m,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(b){case"forwards":for(m=c.child,b=null;m!==null;)o=m.alternate,o!==null&&wf(o)===null&&(b=m),m=m.sibling;m=b,m===null?(b=c.child,c.child=null):(b=m.sibling,m.sibling=null),cy(c,!1,b,m,C,g);break;case"backwards":case"unstable_legacy-backwards":for(m=null,b=c.child,c.child=null;b!==null;){if(o=b.alternate,o!==null&&wf(o)===null){c.child=b;break}o=b.sibling,b.sibling=m,m=b,b=o}cy(c,!0,m,null,C,g);break;case"together":cy(c,!1,null,null,void 0,g);break;default:c.memoizedState=null}return c.child}function Ui(o,c,m){if(o!==null&&(c.dependencies=o.dependencies),qo|=c.lanes,(m&c.childLanes)===0)if(o!==null){if(sd(o,c,m,!1),(m&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(n(153));if(c.child!==null){for(o=c.child,m=Bi(o,o.pendingProps),c.child=m,m.return=c;o.sibling!==null;)o=o.sibling,m=m.sibling=Bi(o,o.pendingProps),m.return=c;m.sibling=null}return c.child}function dy(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&ff(o)))}function IL(o,c,m){switch(c.tag){case 3:Le(c,c.stateNode.containerInfo),Bo(c,ya,o.memoizedState.cache),Gl();break;case 27:case 5:Ge(c);break;case 4:Le(c,c.stateNode.containerInfo);break;case 10:Bo(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,O0(c),null;break;case 13:var g=c.memoizedState;if(g!==null)return g.dehydrated!==null?(zo(c),c.flags|=128,null):(m&c.child.childLanes)!==0?b_(o,c,m):(zo(c),o=Ui(o,c,m),o!==null?o.sibling:null);zo(c);break;case 19:var b=(o.flags&128)!==0;if(g=(m&c.childLanes)!==0,g||(sd(o,c,m,!1),g=(m&c.childLanes)!==0),b){if(g)return j_(o,c,m);c.flags|=128}if(b=c.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),le(ua,ua.current),g)break;return null;case 22:return c.lanes=0,m_(o,c,m,c.pendingProps);case 24:Bo(c,ya,o.memoizedState.cache)}return Ui(o,c,m)}function w_(o,c,m){if(o!==null)if(o.memoizedProps!==c.pendingProps)va=!0;else{if(!dy(o,m)&&(c.flags&128)===0)return va=!1,IL(o,c,m);va=(o.flags&131072)!==0}else va=!1,ss&&(c.flags&1048576)!==0&&eN(c,zu,c.index);switch(c.lanes=0,c.tag){case 16:e:{var g=c.pendingProps;if(o=Xl(c.elementType),c.type=o,typeof o=="function")p0(o)?(g=ec(o,g),c.tag=1,c=x_(null,c,o,g,m)):(c.tag=0,c=ay(null,c,o,g,m));else{if(o!=null){var b=o.$$typeof;if(b===T){c.tag=11,c=d_(null,c,o,g,m);break e}else if(b===A){c.tag=14,c=u_(null,c,o,g,m);break e}}throw c=re(o)||o,Error(n(306,c,""))}}return c;case 0:return ay(o,c,c.type,c.pendingProps,m);case 1:return g=c.type,b=ec(g,c.pendingProps),x_(o,c,g,b,m);case 3:e:{if(Le(c,c.stateNode.containerInfo),o===null)throw Error(n(387));g=c.pendingProps;var C=c.memoizedState;b=C.element,D0(o,c),Ku(c,g,null,m);var P=c.memoizedState;if(g=P.cache,Bo(c,ya,g),g!==C.cache&&_0(c,[ya],m,!0),Yu(),g=P.element,C.isDehydrated)if(C={element:g,isDehydrated:!1,cache:P.cache},c.updateQueue.baseState=C,c.memoizedState=C,c.flags&256){c=y_(o,c,g,m);break e}else if(g!==b){b=hr(Error(n(424)),c),Vu(b),c=y_(o,c,g,m);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for($s=xr(o.firstChild),qa=c,ss=!0,Oo=null,pr=!0,m=mN(c,null,g,m),c.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(Gl(),g===b){c=Ui(o,c,m);break e}Wa(o,c,g,m)}c=c.child}return c;case 26:return Mf(o,c),o===null?(m=MC(c.type,null,c.pendingProps,null))?c.memoizedState=m:ss||(m=c.type,o=c.pendingProps,g=Xf(Ne.current).createElement(m),g[da]=c,g[aa]=o,Ya(g,m,o),Cs(g),c.stateNode=g):c.memoizedState=MC(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return Ge(c),o===null&&ss&&(g=c.stateNode=DC(c.type,c.pendingProps,Ne.current),qa=c,pr=!0,b=$s,Xo(c.type)?(Uy=b,$s=xr(g.firstChild)):$s=b),Wa(o,c,c.pendingProps.children,m),Mf(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&ss&&((b=g=$s)&&(g=p6(g,c.type,c.pendingProps,pr),g!==null?(c.stateNode=g,qa=c,$s=xr(g.firstChild),pr=!1,b=!0):b=!1),b||Lo(c)),Ge(c),b=c.type,C=c.pendingProps,P=o!==null?o.memoizedProps:null,g=C.children,Fy(b,C)?g=null:P!==null&&Fy(b,P)&&(c.flags|=32),c.memoizedState!==null&&(b=B0(o,c,DL,null,null,m),ph._currentValue=b),Mf(o,c),Wa(o,c,g,m),c.child;case 6:return o===null&&ss&&((o=m=$s)&&(m=g6(m,c.pendingProps,pr),m!==null?(c.stateNode=m,qa=c,$s=null,o=!0):o=!1),o||Lo(c)),null;case 13:return b_(o,c,m);case 4:return Le(c,c.stateNode.containerInfo),g=c.pendingProps,o===null?c.child=Zl(c,null,g,m):Wa(o,c,g,m),c.child;case 11:return d_(o,c,c.type,c.pendingProps,m);case 7:return Wa(o,c,c.pendingProps,m),c.child;case 8:return Wa(o,c,c.pendingProps.children,m),c.child;case 12:return Wa(o,c,c.pendingProps.children,m),c.child;case 10:return g=c.pendingProps,Bo(c,c.type,g.value),Wa(o,c,g.children,m),c.child;case 9:return b=c.type._context,g=c.pendingProps.children,Yl(c),b=Ga(b),g=g(b),c.flags|=1,Wa(o,c,g,m),c.child;case 14:return u_(o,c,c.type,c.pendingProps,m);case 15:return h_(o,c,c.type,c.pendingProps,m);case 19:return j_(o,c,m);case 31:return FL(o,c,m);case 22:return m_(o,c,m,c.pendingProps);case 24:return Yl(c),g=Ga(ya),o===null?(b=S0(),b===null&&(b=Es,C=C0(),b.pooledCache=C,C.refCount++,C!==null&&(b.pooledCacheLanes|=m),b=C),c.memoizedState={parent:g,cache:b},T0(c),Bo(c,ya,b)):((o.lanes&m)!==0&&(D0(o,c),Ku(c,null,null,m),Yu()),b=o.memoizedState,C=c.memoizedState,b.parent!==g?(b={parent:g,cache:g},c.memoizedState=b,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=b),Bo(c,ya,g)):(g=C.cache,Bo(c,ya,g),g!==b.cache&&_0(c,[ya],m,!0))),Wa(o,c,c.pendingProps.children,m),c.child;case 29:throw c.pendingProps}throw Error(n(156,c.tag))}function Hi(o){o.flags|=4}function uy(o,c,m,g,b){if((c=(o.mode&32)!==0)&&(c=!1),c){if(o.flags|=16777216,(b&335544128)===b)if(o.stateNode.complete)o.flags|=8192;else if(K_())o.flags|=8192;else throw Ql=yf,A0}else o.flags&=-16777217}function N_(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!FC(c))if(K_())o.flags|=8192;else throw Ql=yf,A0}function Of(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?Hs():536870912,o.lanes|=c,fd|=c)}function th(o,c){if(!ss)switch(o.tailMode){case"hidden":c=o.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?o.tail=null:m.sibling=null;break;case"collapsed":m=o.tail;for(var g=null;m!==null;)m.alternate!==null&&(g=m),m=m.sibling;g===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function zs(o){var c=o.alternate!==null&&o.alternate.child===o.child,m=0,g=0;if(c)for(var b=o.child;b!==null;)m|=b.lanes|b.childLanes,g|=b.subtreeFlags&65011712,g|=b.flags&65011712,b.return=o,b=b.sibling;else for(b=o.child;b!==null;)m|=b.lanes|b.childLanes,g|=b.subtreeFlags,g|=b.flags,b.return=o,b=b.sibling;return o.subtreeFlags|=g,o.childLanes=m,c}function $L(o,c,m){var g=c.pendingProps;switch(b0(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zs(c),null;case 1:return zs(c),null;case 3:return m=c.stateNode,g=null,o!==null&&(g=o.memoizedState.cache),c.memoizedState.cache!==g&&(c.flags|=2048),$i(ya),Se(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(o===null||o.child===null)&&(td(c)?Hi(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,j0())),zs(c),null;case 26:var b=c.type,C=c.memoizedState;return o===null?(Hi(c),C!==null?(zs(c),N_(c,C)):(zs(c),uy(c,b,null,g,m))):C?C!==o.memoizedState?(Hi(c),zs(c),N_(c,C)):(zs(c),c.flags&=-16777217):(o=o.memoizedProps,o!==g&&Hi(c),zs(c),uy(c,b,o,g,m)),null;case 27:if(nt(c),m=Ne.current,b=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==g&&Hi(c);else{if(!g){if(c.stateNode===null)throw Error(n(166));return zs(c),null}o=ne.current,td(c)?sN(c):(o=DC(b,g,m),c.stateNode=o,Hi(c))}return zs(c),null;case 5:if(nt(c),b=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==g&&Hi(c);else{if(!g){if(c.stateNode===null)throw Error(n(166));return zs(c),null}if(C=ne.current,td(c))sN(c);else{var P=Xf(Ne.current);switch(C){case 1:C=P.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:C=P.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":C=P.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":C=P.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":C=P.createElement("div"),C.innerHTML="<script><\/script>",C=C.removeChild(C.firstChild);break;case"select":C=typeof g.is=="string"?P.createElement("select",{is:g.is}):P.createElement("select"),g.multiple?C.multiple=!0:g.size&&(C.size=g.size);break;default:C=typeof g.is=="string"?P.createElement(b,{is:g.is}):P.createElement(b)}}C[da]=c,C[aa]=g;e:for(P=c.child;P!==null;){if(P.tag===5||P.tag===6)C.appendChild(P.stateNode);else if(P.tag!==4&&P.tag!==27&&P.child!==null){P.child.return=P,P=P.child;continue}if(P===c)break e;for(;P.sibling===null;){if(P.return===null||P.return===c)break e;P=P.return}P.sibling.return=P.return,P=P.sibling}c.stateNode=C;e:switch(Ya(C,b,g),b){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&Hi(c)}}return zs(c),uy(c,c.type,o===null?null:o.memoizedProps,c.pendingProps,m),null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==g&&Hi(c);else{if(typeof g!="string"&&c.stateNode===null)throw Error(n(166));if(o=Ne.current,td(c)){if(o=c.stateNode,m=c.memoizedProps,g=null,b=qa,b!==null)switch(b.tag){case 27:case 5:g=b.memoizedProps}o[da]=c,o=!!(o.nodeValue===m||g!==null&&g.suppressHydrationWarning===!0||bC(o.nodeValue,m)),o||Lo(c,!0)}else o=Xf(o).createTextNode(g),o[da]=c,c.stateNode=o}return zs(c),null;case 31:if(m=c.memoizedState,o===null||o.memoizedState!==null){if(g=td(c),m!==null){if(o===null){if(!g)throw Error(n(318));if(o=c.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(557));o[da]=c}else Gl(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;zs(c),o=!1}else m=j0(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=m),o=!0;if(!o)return c.flags&256?(Gn(c),c):(Gn(c),null);if((c.flags&128)!==0)throw Error(n(558))}return zs(c),null;case 13:if(g=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(b=td(c),g!==null&&g.dehydrated!==null){if(o===null){if(!b)throw Error(n(318));if(b=c.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[da]=c}else Gl(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;zs(c),b=!1}else b=j0(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=b),b=!0;if(!b)return c.flags&256?(Gn(c),c):(Gn(c),null)}return Gn(c),(c.flags&128)!==0?(c.lanes=m,c):(m=g!==null,o=o!==null&&o.memoizedState!==null,m&&(g=c.child,b=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(b=g.alternate.memoizedState.cachePool.pool),C=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(C=g.memoizedState.cachePool.pool),C!==b&&(g.flags|=2048)),m!==o&&m&&(c.child.flags|=8192),Of(c,c.updateQueue),zs(c),null);case 4:return Se(),o===null&&My(c.stateNode.containerInfo),zs(c),null;case 10:return $i(c.type),zs(c),null;case 19:if(ie(ua),g=c.memoizedState,g===null)return zs(c),null;if(b=(c.flags&128)!==0,C=g.rendering,C===null)if(b)th(g,!1);else{if(ia!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(C=wf(o),C!==null){for(c.flags|=128,th(g,!1),o=C.updateQueue,c.updateQueue=o,Of(c,o),c.subtreeFlags=0,o=m,m=c.child;m!==null;)Q1(m,o),m=m.sibling;return le(ua,ua.current&1|2),ss&&Fi(c,g.treeForkCount),c.child}o=o.sibling}g.tail!==null&&Ie()>$f&&(c.flags|=128,b=!0,th(g,!1),c.lanes=4194304)}else{if(!b)if(o=wf(C),o!==null){if(c.flags|=128,b=!0,o=o.updateQueue,c.updateQueue=o,Of(c,o),th(g,!0),g.tail===null&&g.tailMode==="hidden"&&!C.alternate&&!ss)return zs(c),null}else 2*Ie()-g.renderingStartTime>$f&&m!==536870912&&(c.flags|=128,b=!0,th(g,!1),c.lanes=4194304);g.isBackwards?(C.sibling=c.child,c.child=C):(o=g.last,o!==null?o.sibling=C:c.child=C,g.last=C)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=Ie(),o.sibling=null,m=ua.current,le(ua,b?m&1|2:m&1),ss&&Fi(c,g.treeForkCount),o):(zs(c),null);case 22:case 23:return Gn(c),P0(),g=c.memoizedState!==null,o!==null?o.memoizedState!==null!==g&&(c.flags|=8192):g&&(c.flags|=8192),g?(m&536870912)!==0&&(c.flags&128)===0&&(zs(c),c.subtreeFlags&6&&(c.flags|=8192)):zs(c),m=c.updateQueue,m!==null&&Of(c,m.retryQueue),m=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048),o!==null&&ie(Kl),null;case 24:return m=null,o!==null&&(m=o.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),$i(ya),zs(c),null;case 25:return null;case 30:return null}throw Error(n(156,c.tag))}function zL(o,c){switch(b0(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return $i(ya),Se(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return nt(c),null;case 31:if(c.memoizedState!==null){if(Gn(c),c.alternate===null)throw Error(n(340));Gl()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 13:if(Gn(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(n(340));Gl()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return ie(ua),null;case 4:return Se(),null;case 10:return $i(c.type),null;case 22:case 23:return Gn(c),P0(),o!==null&&ie(Kl),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return $i(ya),null;case 25:return null;default:return null}}function __(o,c){switch(b0(c),c.tag){case 3:$i(ya),Se();break;case 26:case 27:case 5:nt(c);break;case 4:Se();break;case 31:c.memoizedState!==null&&Gn(c);break;case 13:Gn(c);break;case 19:ie(ua);break;case 10:$i(c.type);break;case 22:case 23:Gn(c),P0(),o!==null&&ie(Kl);break;case 24:$i(ya)}}function sh(o,c){try{var m=c.updateQueue,g=m!==null?m.lastEffect:null;if(g!==null){var b=g.next;m=b;do{if((m.tag&o)===o){g=void 0;var C=m.create,P=m.inst;g=C(),P.destroy=g}m=m.next}while(m!==b)}}catch(Q){ws(c,c.return,Q)}}function Uo(o,c,m){try{var g=c.updateQueue,b=g!==null?g.lastEffect:null;if(b!==null){var C=b.next;g=C;do{if((g.tag&o)===o){var P=g.inst,Q=P.destroy;if(Q!==void 0){P.destroy=void 0,b=c;var me=m,we=Q;try{we()}catch(Pe){ws(b,me,Pe)}}}g=g.next}while(g!==C)}}catch(Pe){ws(c,c.return,Pe)}}function C_(o){var c=o.updateQueue;if(c!==null){var m=o.stateNode;try{pN(c,m)}catch(g){ws(o,o.return,g)}}}function k_(o,c,m){m.props=ec(o.type,o.memoizedProps),m.state=o.memoizedState;try{m.componentWillUnmount()}catch(g){ws(o,c,g)}}function ah(o,c){try{var m=o.ref;if(m!==null){switch(o.tag){case 26:case 27:case 5:var g=o.stateNode;break;case 30:g=o.stateNode;break;default:g=o.stateNode}typeof m=="function"?o.refCleanup=m(g):m.current=g}}catch(b){ws(o,c,b)}}function li(o,c){var m=o.ref,g=o.refCleanup;if(m!==null)if(typeof g=="function")try{g()}catch(b){ws(o,c,b)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(b){ws(o,c,b)}else m.current=null}function S_(o){var c=o.type,m=o.memoizedProps,g=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":m.autoFocus&&g.focus();break e;case"img":m.src?g.src=m.src:m.srcSet&&(g.srcset=m.srcSet)}}catch(b){ws(o,o.return,b)}}function hy(o,c,m){try{var g=o.stateNode;c6(g,o.type,m,c),g[aa]=c}catch(b){ws(o,o.return,b)}}function A_(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Xo(o.type)||o.tag===4}function my(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||A_(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Xo(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function fy(o,c,m){var g=o.tag;if(g===5||g===6)o=o.stateNode,c?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(o,c):(c=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,c.appendChild(o),m=m._reactRootContainer,m!=null||c.onclick!==null||(c.onclick=jn));else if(g!==4&&(g===27&&Xo(o.type)&&(m=o.stateNode,c=null),o=o.child,o!==null))for(fy(o,c,m),o=o.sibling;o!==null;)fy(o,c,m),o=o.sibling}function Lf(o,c,m){var g=o.tag;if(g===5||g===6)o=o.stateNode,c?m.insertBefore(o,c):m.appendChild(o);else if(g!==4&&(g===27&&Xo(o.type)&&(m=o.stateNode),o=o.child,o!==null))for(Lf(o,c,m),o=o.sibling;o!==null;)Lf(o,c,m),o=o.sibling}function T_(o){var c=o.stateNode,m=o.memoizedProps;try{for(var g=o.type,b=c.attributes;b.length;)c.removeAttributeNode(b[0]);Ya(c,g,m),c[da]=o,c[aa]=m}catch(C){ws(o,o.return,C)}}var qi=!1,ja=!1,py=!1,D_=typeof WeakSet=="function"?WeakSet:Set,Fa=null;function VL(o,c){if(o=o.containerInfo,Ly=ap,o=V1(o),l0(o)){if("selectionStart"in o)var m={start:o.selectionStart,end:o.selectionEnd};else e:{m=(m=o.ownerDocument)&&m.defaultView||window;var g=m.getSelection&&m.getSelection();if(g&&g.rangeCount!==0){m=g.anchorNode;var b=g.anchorOffset,C=g.focusNode;g=g.focusOffset;try{m.nodeType,C.nodeType}catch{m=null;break e}var P=0,Q=-1,me=-1,we=0,Pe=0,$e=o,_e=null;t:for(;;){for(var Ee;$e!==m||b!==0&&$e.nodeType!==3||(Q=P+b),$e!==C||g!==0&&$e.nodeType!==3||(me=P+g),$e.nodeType===3&&(P+=$e.nodeValue.length),(Ee=$e.firstChild)!==null;)_e=$e,$e=Ee;for(;;){if($e===o)break t;if(_e===m&&++we===b&&(Q=P),_e===C&&++Pe===g&&(me=P),(Ee=$e.nextSibling)!==null)break;$e=_e,_e=$e.parentNode}$e=Ee}m=Q===-1||me===-1?null:{start:Q,end:me}}else m=null}m=m||{start:0,end:0}}else m=null;for(By={focusedElem:o,selectionRange:m},ap=!1,Fa=c;Fa!==null;)if(c=Fa,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,Fa=o;else for(;Fa!==null;){switch(c=Fa,C=c.alternate,o=c.flags,c.tag){case 0:if((o&4)!==0&&(o=c.updateQueue,o=o!==null?o.events:null,o!==null))for(m=0;m<o.length;m++)b=o[m],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&C!==null){o=void 0,m=c,b=C.memoizedProps,C=C.memoizedState,g=m.stateNode;try{var it=ec(m.type,b);o=g.getSnapshotBeforeUpdate(it,C),g.__reactInternalSnapshotBeforeUpdate=o}catch(Ct){ws(m,m.return,Ct)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,m=o.nodeType,m===9)$y(o);else if(m===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":$y(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(n(163))}if(o=c.sibling,o!==null){o.return=c.return,Fa=o;break}Fa=c.return}}function E_(o,c,m){var g=m.flags;switch(m.tag){case 0:case 11:case 15:Wi(o,m),g&4&&sh(5,m);break;case 1:if(Wi(o,m),g&4)if(o=m.stateNode,c===null)try{o.componentDidMount()}catch(P){ws(m,m.return,P)}else{var b=ec(m.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(b,c,o.__reactInternalSnapshotBeforeUpdate)}catch(P){ws(m,m.return,P)}}g&64&&C_(m),g&512&&ah(m,m.return);break;case 3:if(Wi(o,m),g&64&&(o=m.updateQueue,o!==null)){if(c=null,m.child!==null)switch(m.child.tag){case 27:case 5:c=m.child.stateNode;break;case 1:c=m.child.stateNode}try{pN(o,c)}catch(P){ws(m,m.return,P)}}break;case 27:c===null&&g&4&&T_(m);case 26:case 5:Wi(o,m),c===null&&g&4&&S_(m),g&512&&ah(m,m.return);break;case 12:Wi(o,m);break;case 31:Wi(o,m),g&4&&P_(o,m);break;case 13:Wi(o,m),g&4&&O_(o,m),g&64&&(o=m.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(m=QL.bind(null,m),x6(o,m))));break;case 22:if(g=m.memoizedState!==null||qi,!g){c=c!==null&&c.memoizedState!==null||ja,b=qi;var C=ja;qi=g,(ja=c)&&!C?Yi(o,m,(m.subtreeFlags&8772)!==0):Wi(o,m),qi=b,ja=C}break;case 30:break;default:Wi(o,m)}}function R_(o){var c=o.alternate;c!==null&&(o.alternate=null,R_(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&Rl(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var qs=null,_n=!1;function Gi(o,c,m){for(m=m.child;m!==null;)M_(o,c,m),m=m.sibling}function M_(o,c,m){if(gs&&typeof gs.onCommitFiberUnmount=="function")try{gs.onCommitFiberUnmount(ns,m)}catch{}switch(m.tag){case 26:ja||li(m,c),Gi(o,c,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:ja||li(m,c);var g=qs,b=_n;Xo(m.type)&&(qs=m.stateNode,_n=!1),Gi(o,c,m),hh(m.stateNode),qs=g,_n=b;break;case 5:ja||li(m,c);case 6:if(g=qs,b=_n,qs=null,Gi(o,c,m),qs=g,_n=b,qs!==null)if(_n)try{(qs.nodeType===9?qs.body:qs.nodeName==="HTML"?qs.ownerDocument.body:qs).removeChild(m.stateNode)}catch(C){ws(m,c,C)}else try{qs.removeChild(m.stateNode)}catch(C){ws(m,c,C)}break;case 18:qs!==null&&(_n?(o=qs,CC(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,m.stateNode),wd(o)):CC(qs,m.stateNode));break;case 4:g=qs,b=_n,qs=m.stateNode.containerInfo,_n=!0,Gi(o,c,m),qs=g,_n=b;break;case 0:case 11:case 14:case 15:Uo(2,m,c),ja||Uo(4,m,c),Gi(o,c,m);break;case 1:ja||(li(m,c),g=m.stateNode,typeof g.componentWillUnmount=="function"&&k_(m,c,g)),Gi(o,c,m);break;case 21:Gi(o,c,m);break;case 22:ja=(g=ja)||m.memoizedState!==null,Gi(o,c,m),ja=g;break;default:Gi(o,c,m)}}function P_(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{wd(o)}catch(m){ws(c,c.return,m)}}}function O_(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{wd(o)}catch(m){ws(c,c.return,m)}}function UL(o){switch(o.tag){case 31:case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new D_),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new D_),c;default:throw Error(n(435,o.tag))}}function Bf(o,c){var m=UL(o);c.forEach(function(g){if(!m.has(g)){m.add(g);var b=ZL.bind(null,o,g);g.then(b,b)}})}function Cn(o,c){var m=c.deletions;if(m!==null)for(var g=0;g<m.length;g++){var b=m[g],C=o,P=c,Q=P;e:for(;Q!==null;){switch(Q.tag){case 27:if(Xo(Q.type)){qs=Q.stateNode,_n=!1;break e}break;case 5:qs=Q.stateNode,_n=!1;break e;case 3:case 4:qs=Q.stateNode.containerInfo,_n=!0;break e}Q=Q.return}if(qs===null)throw Error(n(160));M_(C,P,b),qs=null,_n=!1,C=b.alternate,C!==null&&(C.return=null),b.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)L_(c,o),c=c.sibling}var Br=null;function L_(o,c){var m=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Cn(c,o),kn(o),g&4&&(Uo(3,o,o.return),sh(3,o),Uo(5,o,o.return));break;case 1:Cn(c,o),kn(o),g&512&&(ja||m===null||li(m,m.return)),g&64&&qi&&(o=o.updateQueue,o!==null&&(g=o.callbacks,g!==null&&(m=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=m===null?g:m.concat(g))));break;case 26:var b=Br;if(Cn(c,o),kn(o),g&512&&(ja||m===null||li(m,m.return)),g&4){var C=m!==null?m.memoizedState:null;if(g=o.memoizedState,m===null)if(g===null)if(o.stateNode===null){e:{g=o.type,m=o.memoizedProps,b=b.ownerDocument||b;t:switch(g){case"title":C=b.getElementsByTagName("title")[0],(!C||C[Er]||C[da]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=b.createElement(g),b.head.insertBefore(C,b.querySelector("head > title"))),Ya(C,g,m),C[da]=o,Cs(C),g=C;break e;case"link":var P=LC("link","href",b).get(g+(m.href||""));if(P){for(var Q=0;Q<P.length;Q++)if(C=P[Q],C.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&C.getAttribute("rel")===(m.rel==null?null:m.rel)&&C.getAttribute("title")===(m.title==null?null:m.title)&&C.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){P.splice(Q,1);break t}}C=b.createElement(g),Ya(C,g,m),b.head.appendChild(C);break;case"meta":if(P=LC("meta","content",b).get(g+(m.content||""))){for(Q=0;Q<P.length;Q++)if(C=P[Q],C.getAttribute("content")===(m.content==null?null:""+m.content)&&C.getAttribute("name")===(m.name==null?null:m.name)&&C.getAttribute("property")===(m.property==null?null:m.property)&&C.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&C.getAttribute("charset")===(m.charSet==null?null:m.charSet)){P.splice(Q,1);break t}}C=b.createElement(g),Ya(C,g,m),b.head.appendChild(C);break;default:throw Error(n(468,g))}C[da]=o,Cs(C),g=C}o.stateNode=g}else BC(b,o.type,o.stateNode);else o.stateNode=OC(b,g,o.memoizedProps);else C!==g?(C===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):C.count--,g===null?BC(b,o.type,o.stateNode):OC(b,g,o.memoizedProps)):g===null&&o.stateNode!==null&&hy(o,o.memoizedProps,m.memoizedProps)}break;case 27:Cn(c,o),kn(o),g&512&&(ja||m===null||li(m,m.return)),m!==null&&g&4&&hy(o,o.memoizedProps,m.memoizedProps);break;case 5:if(Cn(c,o),kn(o),g&512&&(ja||m===null||li(m,m.return)),o.flags&32){b=o.stateNode;try{si(b,"")}catch(it){ws(o,o.return,it)}}g&4&&o.stateNode!=null&&(b=o.memoizedProps,hy(o,b,m!==null?m.memoizedProps:b)),g&1024&&(py=!0);break;case 6:if(Cn(c,o),kn(o),g&4){if(o.stateNode===null)throw Error(n(162));g=o.memoizedProps,m=o.stateNode;try{m.nodeValue=g}catch(it){ws(o,o.return,it)}}break;case 3:if(Jf=null,b=Br,Br=Qf(c.containerInfo),Cn(c,o),Br=b,kn(o),g&4&&m!==null&&m.memoizedState.isDehydrated)try{wd(c.containerInfo)}catch(it){ws(o,o.return,it)}py&&(py=!1,B_(o));break;case 4:g=Br,Br=Qf(o.stateNode.containerInfo),Cn(c,o),kn(o),Br=g;break;case 12:Cn(c,o),kn(o);break;case 31:Cn(c,o),kn(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,Bf(o,g)));break;case 13:Cn(c,o),kn(o),o.child.flags&8192&&o.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(If=Ie()),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,Bf(o,g)));break;case 22:b=o.memoizedState!==null;var me=m!==null&&m.memoizedState!==null,we=qi,Pe=ja;if(qi=we||b,ja=Pe||me,Cn(c,o),ja=Pe,qi=we,kn(o),g&8192)e:for(c=o.stateNode,c._visibility=b?c._visibility&-2:c._visibility|1,b&&(m===null||me||qi||ja||tc(o)),m=null,c=o;;){if(c.tag===5||c.tag===26){if(m===null){me=m=c;try{if(C=me.stateNode,b)P=C.style,typeof P.setProperty=="function"?P.setProperty("display","none","important"):P.display="none";else{Q=me.stateNode;var $e=me.memoizedProps.style,_e=$e!=null&&$e.hasOwnProperty("display")?$e.display:null;Q.style.display=_e==null||typeof _e=="boolean"?"":(""+_e).trim()}}catch(it){ws(me,me.return,it)}}}else if(c.tag===6){if(m===null){me=c;try{me.stateNode.nodeValue=b?"":me.memoizedProps}catch(it){ws(me,me.return,it)}}}else if(c.tag===18){if(m===null){me=c;try{var Ee=me.stateNode;b?kC(Ee,!0):kC(me.stateNode,!1)}catch(it){ws(me,me.return,it)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;m===c&&(m=null),c=c.return}m===c&&(m=null),c.sibling.return=c.return,c=c.sibling}g&4&&(g=o.updateQueue,g!==null&&(m=g.retryQueue,m!==null&&(g.retryQueue=null,Bf(o,m))));break;case 19:Cn(c,o),kn(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,Bf(o,g)));break;case 30:break;case 21:break;default:Cn(c,o),kn(o)}}function kn(o){var c=o.flags;if(c&2){try{for(var m,g=o.return;g!==null;){if(A_(g)){m=g;break}g=g.return}if(m==null)throw Error(n(160));switch(m.tag){case 27:var b=m.stateNode,C=my(o);Lf(o,C,b);break;case 5:var P=m.stateNode;m.flags&32&&(si(P,""),m.flags&=-33);var Q=my(o);Lf(o,Q,P);break;case 3:case 4:var me=m.stateNode.containerInfo,we=my(o);fy(o,we,me);break;default:throw Error(n(161))}}catch(Pe){ws(o,o.return,Pe)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function B_(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;B_(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function Wi(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)E_(o,c.alternate,c),c=c.sibling}function tc(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:Uo(4,c,c.return),tc(c);break;case 1:li(c,c.return);var m=c.stateNode;typeof m.componentWillUnmount=="function"&&k_(c,c.return,m),tc(c);break;case 27:hh(c.stateNode);case 26:case 5:li(c,c.return),tc(c);break;case 22:c.memoizedState===null&&tc(c);break;case 30:tc(c);break;default:tc(c)}o=o.sibling}}function Yi(o,c,m){for(m=m&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var g=c.alternate,b=o,C=c,P=C.flags;switch(C.tag){case 0:case 11:case 15:Yi(b,C,m),sh(4,C);break;case 1:if(Yi(b,C,m),g=C,b=g.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(we){ws(g,g.return,we)}if(g=C,b=g.updateQueue,b!==null){var Q=g.stateNode;try{var me=b.shared.hiddenCallbacks;if(me!==null)for(b.shared.hiddenCallbacks=null,b=0;b<me.length;b++)fN(me[b],Q)}catch(we){ws(g,g.return,we)}}m&&P&64&&C_(C),ah(C,C.return);break;case 27:T_(C);case 26:case 5:Yi(b,C,m),m&&g===null&&P&4&&S_(C),ah(C,C.return);break;case 12:Yi(b,C,m);break;case 31:Yi(b,C,m),m&&P&4&&P_(b,C);break;case 13:Yi(b,C,m),m&&P&4&&O_(b,C);break;case 22:C.memoizedState===null&&Yi(b,C,m),ah(C,C.return);break;case 30:break;default:Yi(b,C,m)}c=c.sibling}}function gy(o,c){var m=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==m&&(o!=null&&o.refCount++,m!=null&&Uu(m))}function xy(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Uu(o))}function Fr(o,c,m,g){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)F_(o,c,m,g),c=c.sibling}function F_(o,c,m,g){var b=c.flags;switch(c.tag){case 0:case 11:case 15:Fr(o,c,m,g),b&2048&&sh(9,c);break;case 1:Fr(o,c,m,g);break;case 3:Fr(o,c,m,g),b&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Uu(o)));break;case 12:if(b&2048){Fr(o,c,m,g),o=c.stateNode;try{var C=c.memoizedProps,P=C.id,Q=C.onPostCommit;typeof Q=="function"&&Q(P,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(me){ws(c,c.return,me)}}else Fr(o,c,m,g);break;case 31:Fr(o,c,m,g);break;case 13:Fr(o,c,m,g);break;case 23:break;case 22:C=c.stateNode,P=c.alternate,c.memoizedState!==null?C._visibility&2?Fr(o,c,m,g):nh(o,c):C._visibility&2?Fr(o,c,m,g):(C._visibility|=2,ud(o,c,m,g,(c.subtreeFlags&10256)!==0||!1)),b&2048&&gy(P,c);break;case 24:Fr(o,c,m,g),b&2048&&xy(c.alternate,c);break;default:Fr(o,c,m,g)}}function ud(o,c,m,g,b){for(b=b&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var C=o,P=c,Q=m,me=g,we=P.flags;switch(P.tag){case 0:case 11:case 15:ud(C,P,Q,me,b),sh(8,P);break;case 23:break;case 22:var Pe=P.stateNode;P.memoizedState!==null?Pe._visibility&2?ud(C,P,Q,me,b):nh(C,P):(Pe._visibility|=2,ud(C,P,Q,me,b)),b&&we&2048&&gy(P.alternate,P);break;case 24:ud(C,P,Q,me,b),b&&we&2048&&xy(P.alternate,P);break;default:ud(C,P,Q,me,b)}c=c.sibling}}function nh(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var m=o,g=c,b=g.flags;switch(g.tag){case 22:nh(m,g),b&2048&&gy(g.alternate,g);break;case 24:nh(m,g),b&2048&&xy(g.alternate,g);break;default:nh(m,g)}c=c.sibling}}var rh=8192;function hd(o,c,m){if(o.subtreeFlags&rh)for(o=o.child;o!==null;)I_(o,c,m),o=o.sibling}function I_(o,c,m){switch(o.tag){case 26:hd(o,c,m),o.flags&rh&&o.memoizedState!==null&&T6(m,Br,o.memoizedState,o.memoizedProps);break;case 5:hd(o,c,m);break;case 3:case 4:var g=Br;Br=Qf(o.stateNode.containerInfo),hd(o,c,m),Br=g;break;case 22:o.memoizedState===null&&(g=o.alternate,g!==null&&g.memoizedState!==null?(g=rh,rh=16777216,hd(o,c,m),rh=g):hd(o,c,m));break;default:hd(o,c,m)}}function $_(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function ih(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var g=c[m];Fa=g,V_(g,o)}$_(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)z_(o),o=o.sibling}function z_(o){switch(o.tag){case 0:case 11:case 15:ih(o),o.flags&2048&&Uo(9,o,o.return);break;case 3:ih(o);break;case 12:ih(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,Ff(o)):ih(o);break;default:ih(o)}}function Ff(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var g=c[m];Fa=g,V_(g,o)}$_(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:Uo(8,c,c.return),Ff(c);break;case 22:m=c.stateNode,m._visibility&2&&(m._visibility&=-3,Ff(c));break;default:Ff(c)}o=o.sibling}}function V_(o,c){for(;Fa!==null;){var m=Fa;switch(m.tag){case 0:case 11:case 15:Uo(8,m,c);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var g=m.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Uu(m.memoizedState.cache)}if(g=m.child,g!==null)g.return=m,Fa=g;else e:for(m=o;Fa!==null;){g=Fa;var b=g.sibling,C=g.return;if(R_(g),g===m){Fa=null;break e}if(b!==null){b.return=C,Fa=b;break e}Fa=C}}}var HL={getCacheForType:function(o){var c=Ga(ya),m=c.data.get(o);return m===void 0&&(m=o(),c.data.set(o,m)),m},cacheSignal:function(){return Ga(ya).controller.signal}},qL=typeof WeakMap=="function"?WeakMap:Map,xs=0,Es=null,Wt=null,Qt=0,js=0,Wn=null,Ho=!1,md=!1,yy=!1,Ki=0,ia=0,qo=0,sc=0,by=0,Yn=0,fd=0,oh=null,Sn=null,vy=!1,If=0,U_=0,$f=1/0,zf=null,Go=null,Sa=0,Wo=null,pd=null,Xi=0,jy=0,wy=null,H_=null,lh=0,Ny=null;function Kn(){return(xs&2)!==0&&Qt!==0?Qt&-Qt:V.T!==null?Ty():Qr()}function q_(){if(Yn===0)if((Qt&536870912)===0||ss){var o=Ha;Ha<<=1,(Ha&3932160)===0&&(Ha=262144),Yn=o}else Yn=536870912;return o=qn.current,o!==null&&(o.flags|=32),Yn}function An(o,c,m){(o===Es&&(js===2||js===9)||o.cancelPendingCommit!==null)&&(gd(o,0),Yo(o,Qt,Yn,!1)),He(o,m),((xs&2)===0||o!==Es)&&(o===Es&&((xs&2)===0&&(sc|=m),ia===4&&Yo(o,Qt,Yn,!1)),ci(o))}function G_(o,c,m){if((xs&6)!==0)throw Error(n(327));var g=!m&&(c&127)===0&&(c&o.expiredLanes)===0||X(o,c),b=g?YL(o,c):Cy(o,c,!0),C=g;do{if(b===0){md&&!g&&Yo(o,c,0,!1);break}else{if(m=o.current.alternate,C&&!GL(m)){b=Cy(o,c,!1),C=!1;continue}if(b===2){if(C=c,o.errorRecoveryDisabledLanes&C)var P=0;else P=o.pendingLanes&-536870913,P=P!==0?P:P&536870912?536870912:0;if(P!==0){c=P;e:{var Q=o;b=oh;var me=Q.current.memoizedState.isDehydrated;if(me&&(gd(Q,P).flags|=256),P=Cy(Q,P,!1),P!==2){if(yy&&!me){Q.errorRecoveryDisabledLanes|=C,sc|=C,b=4;break e}C=Sn,Sn=b,C!==null&&(Sn===null?Sn=C:Sn.push.apply(Sn,C))}b=P}if(C=!1,b!==2)continue}}if(b===1){gd(o,0),Yo(o,c,0,!0);break}e:{switch(g=o,C=b,C){case 0:case 1:throw Error(n(345));case 4:if((c&4194048)!==c)break;case 6:Yo(g,c,Yn,!Ho);break e;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((c&62914560)===c&&(b=If+300-Ie(),10<b)){if(Yo(g,c,Yn,!Ho),bt(g,0,!0)!==0)break e;Xi=c,g.timeoutHandle=NC(W_.bind(null,g,m,Sn,zf,vy,c,Yn,sc,fd,Ho,C,"Throttled",-0,0),b);break e}W_(g,m,Sn,zf,vy,c,Yn,sc,fd,Ho,C,null,-0,0)}}break}while(!0);ci(o)}function W_(o,c,m,g,b,C,P,Q,me,we,Pe,$e,_e,Ee){if(o.timeoutHandle=-1,$e=c.subtreeFlags,$e&8192||($e&16785408)===16785408){$e={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jn},I_(c,C,$e);var it=(C&62914560)===C?If-Ie():(C&4194048)===C?U_-Ie():0;if(it=D6($e,it),it!==null){Xi=C,o.cancelPendingCommit=it(tC.bind(null,o,c,C,m,g,b,P,Q,me,Pe,$e,null,_e,Ee)),Yo(o,C,P,!we);return}}tC(o,c,C,m,g,b,P,Q,me)}function GL(o){for(var c=o;;){var m=c.tag;if((m===0||m===11||m===15)&&c.flags&16384&&(m=c.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var g=0;g<m.length;g++){var b=m[g],C=b.getSnapshot;b=b.value;try{if(!Un(C(),b))return!1}catch{return!1}}if(m=c.child,c.subtreeFlags&16384&&m!==null)m.return=c,c=m;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Yo(o,c,m,g){c&=~by,c&=~sc,o.suspendedLanes|=c,o.pingedLanes&=~c,g&&(o.warmLanes|=c),g=o.expirationTimes;for(var b=c;0<b;){var C=31-Ms(b),P=1<<C;g[C]=-1,b&=~P}m!==0&&Js(o,m,c)}function Vf(){return(xs&6)===0?(ch(0),!1):!0}function _y(){if(Wt!==null){if(js===0)var o=Wt.return;else o=Wt,Ii=Wl=null,$0(o),id=null,qu=0,o=Wt;for(;o!==null;)__(o.alternate,o),o=o.return;Wt=null}}function gd(o,c){var m=o.timeoutHandle;m!==-1&&(o.timeoutHandle=-1,h6(m)),m=o.cancelPendingCommit,m!==null&&(o.cancelPendingCommit=null,m()),Xi=0,_y(),Es=o,Wt=m=Bi(o.current,null),Qt=c,js=0,Wn=null,Ho=!1,md=X(o,c),yy=!1,fd=Yn=by=sc=qo=ia=0,Sn=oh=null,vy=!1,(c&8)!==0&&(c|=c&32);var g=o.entangledLanes;if(g!==0)for(o=o.entanglements,g&=c;0<g;){var b=31-Ms(g),C=1<<b;c|=o[b],g&=~C}return Ki=c,cf(),m}function Y_(o,c){It=null,V.H=Ju,c===rd||c===xf?(c=dN(),js=3):c===A0?(c=dN(),js=4):js=c===sy?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Wn=c,Wt===null&&(ia=1,Ef(o,hr(c,o.current)))}function K_(){var o=qn.current;return o===null?!0:(Qt&4194048)===Qt?gr===null:(Qt&62914560)===Qt||(Qt&536870912)!==0?o===gr:!1}function X_(){var o=V.H;return V.H=Ju,o===null?Ju:o}function Q_(){var o=V.A;return V.A=HL,o}function Uf(){ia=4,Ho||(Qt&4194048)!==Qt&&qn.current!==null||(md=!0),(qo&134217727)===0&&(sc&134217727)===0||Es===null||Yo(Es,Qt,Yn,!1)}function Cy(o,c,m){var g=xs;xs|=2;var b=X_(),C=Q_();(Es!==o||Qt!==c)&&(zf=null,gd(o,c)),c=!1;var P=ia;e:do try{if(js!==0&&Wt!==null){var Q=Wt,me=Wn;switch(js){case 8:_y(),P=6;break e;case 3:case 2:case 9:case 6:qn.current===null&&(c=!0);var we=js;if(js=0,Wn=null,xd(o,Q,me,we),m&&md){P=0;break e}break;default:we=js,js=0,Wn=null,xd(o,Q,me,we)}}WL(),P=ia;break}catch(Pe){Y_(o,Pe)}while(!0);return c&&o.shellSuspendCounter++,Ii=Wl=null,xs=g,V.H=b,V.A=C,Wt===null&&(Es=null,Qt=0,cf()),P}function WL(){for(;Wt!==null;)Z_(Wt)}function YL(o,c){var m=xs;xs|=2;var g=X_(),b=Q_();Es!==o||Qt!==c?(zf=null,$f=Ie()+500,gd(o,c)):md=X(o,c);e:do try{if(js!==0&&Wt!==null){c=Wt;var C=Wn;t:switch(js){case 1:js=0,Wn=null,xd(o,c,C,1);break;case 2:case 9:if(lN(C)){js=0,Wn=null,J_(c);break}c=function(){js!==2&&js!==9||Es!==o||(js=7),ci(o)},C.then(c,c);break e;case 3:js=7;break e;case 4:js=5;break e;case 7:lN(C)?(js=0,Wn=null,J_(c)):(js=0,Wn=null,xd(o,c,C,7));break;case 5:var P=null;switch(Wt.tag){case 26:P=Wt.memoizedState;case 5:case 27:var Q=Wt;if(P?FC(P):Q.stateNode.complete){js=0,Wn=null;var me=Q.sibling;if(me!==null)Wt=me;else{var we=Q.return;we!==null?(Wt=we,Hf(we)):Wt=null}break t}}js=0,Wn=null,xd(o,c,C,5);break;case 6:js=0,Wn=null,xd(o,c,C,6);break;case 8:_y(),ia=6;break e;default:throw Error(n(462))}}KL();break}catch(Pe){Y_(o,Pe)}while(!0);return Ii=Wl=null,V.H=g,V.A=b,xs=m,Wt!==null?0:(Es=null,Qt=0,cf(),ia)}function KL(){for(;Wt!==null&&!Ce();)Z_(Wt)}function Z_(o){var c=w_(o.alternate,o,Ki);o.memoizedProps=o.pendingProps,c===null?Hf(o):Wt=c}function J_(o){var c=o,m=c.alternate;switch(c.tag){case 15:case 0:c=g_(m,c,c.pendingProps,c.type,void 0,Qt);break;case 11:c=g_(m,c,c.pendingProps,c.type.render,c.ref,Qt);break;case 5:$0(c);default:__(m,c),c=Wt=Q1(c,Ki),c=w_(m,c,Ki)}o.memoizedProps=o.pendingProps,c===null?Hf(o):Wt=c}function xd(o,c,m,g){Ii=Wl=null,$0(c),id=null,qu=0;var b=c.return;try{if(BL(o,b,c,m,Qt)){ia=1,Ef(o,hr(m,o.current)),Wt=null;return}}catch(C){if(b!==null)throw Wt=b,C;ia=1,Ef(o,hr(m,o.current)),Wt=null;return}c.flags&32768?(ss||g===1?o=!0:md||(Qt&536870912)!==0?o=!1:(Ho=o=!0,(g===2||g===9||g===3||g===6)&&(g=qn.current,g!==null&&g.tag===13&&(g.flags|=16384))),eC(c,o)):Hf(c)}function Hf(o){var c=o;do{if((c.flags&32768)!==0){eC(c,Ho);return}o=c.return;var m=$L(c.alternate,c,Ki);if(m!==null){Wt=m;return}if(c=c.sibling,c!==null){Wt=c;return}Wt=c=o}while(c!==null);ia===0&&(ia=5)}function eC(o,c){do{var m=zL(o.alternate,o);if(m!==null){m.flags&=32767,Wt=m;return}if(m=o.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!c&&(o=o.sibling,o!==null)){Wt=o;return}Wt=o=m}while(o!==null);ia=6,Wt=null}function tC(o,c,m,g,b,C,P,Q,me){o.cancelPendingCommit=null;do qf();while(Sa!==0);if((xs&6)!==0)throw Error(n(327));if(c!==null){if(c===o.current)throw Error(n(177));if(C=c.lanes|c.childLanes,C|=m0,os(o,m,C,P,Q,me),o===Es&&(Wt=Es=null,Qt=0),pd=c,Wo=o,Xi=m,jy=C,wy=b,H_=g,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,JL(dt,function(){return iC(),null})):(o.callbackNode=null,o.callbackPriority=0),g=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||g){g=V.T,V.T=null,b=U.p,U.p=2,P=xs,xs|=4;try{VL(o,c,m)}finally{xs=P,U.p=b,V.T=g}}Sa=1,sC(),aC(),nC()}}function sC(){if(Sa===1){Sa=0;var o=Wo,c=pd,m=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||m){m=V.T,V.T=null;var g=U.p;U.p=2;var b=xs;xs|=4;try{L_(c,o);var C=By,P=V1(o.containerInfo),Q=C.focusedElem,me=C.selectionRange;if(P!==Q&&Q&&Q.ownerDocument&&z1(Q.ownerDocument.documentElement,Q)){if(me!==null&&l0(Q)){var we=me.start,Pe=me.end;if(Pe===void 0&&(Pe=we),"selectionStart"in Q)Q.selectionStart=we,Q.selectionEnd=Math.min(Pe,Q.value.length);else{var $e=Q.ownerDocument||document,_e=$e&&$e.defaultView||window;if(_e.getSelection){var Ee=_e.getSelection(),it=Q.textContent.length,Ct=Math.min(me.start,it),As=me.end===void 0?Ct:Math.min(me.end,it);!Ee.extend&&Ct>As&&(P=As,As=Ct,Ct=P);var be=$1(Q,Ct),ge=$1(Q,As);if(be&&ge&&(Ee.rangeCount!==1||Ee.anchorNode!==be.node||Ee.anchorOffset!==be.offset||Ee.focusNode!==ge.node||Ee.focusOffset!==ge.offset)){var je=$e.createRange();je.setStart(be.node,be.offset),Ee.removeAllRanges(),Ct>As?(Ee.addRange(je),Ee.extend(ge.node,ge.offset)):(je.setEnd(ge.node,ge.offset),Ee.addRange(je))}}}}for($e=[],Ee=Q;Ee=Ee.parentNode;)Ee.nodeType===1&&$e.push({element:Ee,left:Ee.scrollLeft,top:Ee.scrollTop});for(typeof Q.focus=="function"&&Q.focus(),Q=0;Q<$e.length;Q++){var Fe=$e[Q];Fe.element.scrollLeft=Fe.left,Fe.element.scrollTop=Fe.top}}ap=!!Ly,By=Ly=null}finally{xs=b,U.p=g,V.T=m}}o.current=c,Sa=2}}function aC(){if(Sa===2){Sa=0;var o=Wo,c=pd,m=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||m){m=V.T,V.T=null;var g=U.p;U.p=2;var b=xs;xs|=4;try{E_(o,c.alternate,c)}finally{xs=b,U.p=g,V.T=m}}Sa=3}}function nC(){if(Sa===4||Sa===3){Sa=0,he();var o=Wo,c=pd,m=Xi,g=H_;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Sa=5:(Sa=0,pd=Wo=null,rC(o,o.pendingLanes));var b=o.pendingLanes;if(b===0&&(Go=null),dn(m),c=c.stateNode,gs&&typeof gs.onCommitFiberRoot=="function")try{gs.onCommitFiberRoot(ns,c,void 0,(c.current.flags&128)===128)}catch{}if(g!==null){c=V.T,b=U.p,U.p=2,V.T=null;try{for(var C=o.onRecoverableError,P=0;P<g.length;P++){var Q=g[P];C(Q.value,{componentStack:Q.stack})}}finally{V.T=c,U.p=b}}(Xi&3)!==0&&qf(),ci(o),b=o.pendingLanes,(m&261930)!==0&&(b&42)!==0?o===Ny?lh++:(lh=0,Ny=o):lh=0,ch(0)}}function rC(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,Uu(c)))}function qf(){return sC(),aC(),nC(),iC()}function iC(){if(Sa!==5)return!1;var o=Wo,c=jy;jy=0;var m=dn(Xi),g=V.T,b=U.p;try{U.p=32>m?32:m,V.T=null,m=wy,wy=null;var C=Wo,P=Xi;if(Sa=0,pd=Wo=null,Xi=0,(xs&6)!==0)throw Error(n(331));var Q=xs;if(xs|=4,z_(C.current),F_(C,C.current,P,m),xs=Q,ch(0,!1),gs&&typeof gs.onPostCommitFiberRoot=="function")try{gs.onPostCommitFiberRoot(ns,C)}catch{}return!0}finally{U.p=b,V.T=g,rC(o,c)}}function oC(o,c,m){c=hr(m,c),c=ty(o.stateNode,c,2),o=$o(o,c,2),o!==null&&(He(o,2),ci(o))}function ws(o,c,m){if(o.tag===3)oC(o,o,m);else for(;c!==null;){if(c.tag===3){oC(c,o,m);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Go===null||!Go.has(g))){o=hr(m,o),m=l_(2),g=$o(c,m,2),g!==null&&(c_(m,g,c,o),He(g,2),ci(g));break}}c=c.return}}function ky(o,c,m){var g=o.pingCache;if(g===null){g=o.pingCache=new qL;var b=new Set;g.set(c,b)}else b=g.get(c),b===void 0&&(b=new Set,g.set(c,b));b.has(m)||(yy=!0,b.add(m),o=XL.bind(null,o,c,m),c.then(o,o))}function XL(o,c,m){var g=o.pingCache;g!==null&&g.delete(c),o.pingedLanes|=o.suspendedLanes&m,o.warmLanes&=~m,Es===o&&(Qt&m)===m&&(ia===4||ia===3&&(Qt&62914560)===Qt&&300>Ie()-If?(xs&2)===0&&gd(o,0):by|=m,fd===Qt&&(fd=0)),ci(o)}function lC(o,c){c===0&&(c=Hs()),o=Hl(o,c),o!==null&&(He(o,c),ci(o))}function QL(o){var c=o.memoizedState,m=0;c!==null&&(m=c.retryLane),lC(o,m)}function ZL(o,c){var m=0;switch(o.tag){case 31:case 13:var g=o.stateNode,b=o.memoizedState;b!==null&&(m=b.retryLane);break;case 19:g=o.stateNode;break;case 22:g=o.stateNode._retryCache;break;default:throw Error(n(314))}g!==null&&g.delete(c),lC(o,m)}function JL(o,c){return Fs(o,c)}var Gf=null,yd=null,Sy=!1,Wf=!1,Ay=!1,Ko=0;function ci(o){o!==yd&&o.next===null&&(yd===null?Gf=yd=o:yd=yd.next=o),Wf=!0,Sy||(Sy=!0,t6())}function ch(o,c){if(!Ay&&Wf){Ay=!0;do for(var m=!1,g=Gf;g!==null;){if(o!==0){var b=g.pendingLanes;if(b===0)var C=0;else{var P=g.suspendedLanes,Q=g.pingedLanes;C=(1<<31-Ms(42|o)+1)-1,C&=b&~(P&~Q),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(m=!0,hC(g,C))}else C=Qt,C=bt(g,g===Es?C:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(C&3)===0||X(g,C)||(m=!0,hC(g,C));g=g.next}while(m);Ay=!1}}function e6(){cC()}function cC(){Wf=Sy=!1;var o=0;Ko!==0&&u6()&&(o=Ko);for(var c=Ie(),m=null,g=Gf;g!==null;){var b=g.next,C=dC(g,c);C===0?(g.next=null,m===null?Gf=b:m.next=b,b===null&&(yd=m)):(m=g,(o!==0||(C&3)!==0)&&(Wf=!0)),g=b}Sa!==0&&Sa!==5||ch(o),Ko!==0&&(Ko=0)}function dC(o,c){for(var m=o.suspendedLanes,g=o.pingedLanes,b=o.expirationTimes,C=o.pendingLanes&-62914561;0<C;){var P=31-Ms(C),Q=1<<P,me=b[P];me===-1?((Q&m)===0||(Q&g)!==0)&&(b[P]=xt(Q,c)):me<=c&&(o.expiredLanes|=Q),C&=~Q}if(c=Es,m=Qt,m=bt(o,o===c?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g=o.callbackNode,m===0||o===c&&(js===2||js===9)||o.cancelPendingCommit!==null)return g!==null&&g!==null&&pe(g),o.callbackNode=null,o.callbackPriority=0;if((m&3)===0||X(o,m)){if(c=m&-m,c===o.callbackPriority)return c;switch(g!==null&&pe(g),dn(m)){case 2:case 8:m=yt;break;case 32:m=dt;break;case 268435456:m=St;break;default:m=dt}return g=uC.bind(null,o),m=Fs(m,g),o.callbackPriority=c,o.callbackNode=m,c}return g!==null&&g!==null&&pe(g),o.callbackPriority=2,o.callbackNode=null,2}function uC(o,c){if(Sa!==0&&Sa!==5)return o.callbackNode=null,o.callbackPriority=0,null;var m=o.callbackNode;if(qf()&&o.callbackNode!==m)return null;var g=Qt;return g=bt(o,o===Es?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g===0?null:(G_(o,g,c),dC(o,Ie()),o.callbackNode!=null&&o.callbackNode===m?uC.bind(null,o):null)}function hC(o,c){if(qf())return null;G_(o,c,!0)}function t6(){m6(function(){(xs&6)!==0?Fs(rt,e6):cC()})}function Ty(){if(Ko===0){var o=ad;o===0&&(o=vs,vs<<=1,(vs&261888)===0&&(vs=256)),Ko=o}return Ko}function mC(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:ko(""+o)}function fC(o,c){var m=c.ownerDocument.createElement("input");return m.name=c.name,m.value=c.value,o.id&&m.setAttribute("form",o.id),c.parentNode.insertBefore(m,c),o=new FormData(o),m.parentNode.removeChild(m),o}function s6(o,c,m,g,b){if(c==="submit"&&m&&m.stateNode===b){var C=mC((b[aa]||null).action),P=g.submitter;P&&(c=(c=P[aa]||null)?mC(c.formAction):P.getAttribute("formAction"),c!==null&&(C=c,P=null));var Q=new B("action","action",null,g,b);o.push({event:Q,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Ko!==0){var me=P?fC(b,P):new FormData(b);K0(m,{pending:!0,data:me,method:b.method,action:C},null,me)}}else typeof C=="function"&&(Q.preventDefault(),me=P?fC(b,P):new FormData(b),K0(m,{pending:!0,data:me,method:b.method,action:C},C,me))},currentTarget:b}]})}}for(var Dy=0;Dy<h0.length;Dy++){var Ey=h0[Dy],a6=Ey.toLowerCase(),n6=Ey[0].toUpperCase()+Ey.slice(1);Lr(a6,"on"+n6)}Lr(q1,"onAnimationEnd"),Lr(G1,"onAnimationIteration"),Lr(W1,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(vL,"onTransitionRun"),Lr(jL,"onTransitionStart"),Lr(wL,"onTransitionCancel"),Lr(Y1,"onTransitionEnd"),hn("onMouseEnter",["mouseout","mouseover"]),hn("onMouseLeave",["mouseout","mouseover"]),hn("onPointerEnter",["pointerout","pointerover"]),hn("onPointerLeave",["pointerout","pointerover"]),ir("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),ir("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),ir("onBeforeInput",["compositionend","keypress","textInput","paste"]),ir("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),ir("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),ir("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var dh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),r6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(dh));function pC(o,c){c=(c&4)!==0;for(var m=0;m<o.length;m++){var g=o[m],b=g.event;g=g.listeners;e:{var C=void 0;if(c)for(var P=g.length-1;0<=P;P--){var Q=g[P],me=Q.instance,we=Q.currentTarget;if(Q=Q.listener,me!==C&&b.isPropagationStopped())break e;C=Q,b.currentTarget=we;try{C(b)}catch(Pe){lf(Pe)}b.currentTarget=null,C=me}else for(P=0;P<g.length;P++){if(Q=g[P],me=Q.instance,we=Q.currentTarget,Q=Q.listener,me!==C&&b.isPropagationStopped())break e;C=Q,b.currentTarget=we;try{C(b)}catch(Pe){lf(Pe)}b.currentTarget=null,C=me}}}}function Yt(o,c){var m=c[Ti];m===void 0&&(m=c[Ti]=new Set);var g=o+"__bubble";m.has(g)||(gC(c,o,2,!1),m.add(g))}function Ry(o,c,m){var g=0;c&&(g|=4),gC(m,o,g,c)}var Yf="_reactListening"+Math.random().toString(36).slice(2);function My(o){if(!o[Yf]){o[Yf]=!0,wo.forEach(function(m){m!=="selectionchange"&&(r6.has(m)||Ry(m,!1,o),Ry(m,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[Yf]||(c[Yf]=!0,Ry("selectionchange",!1,c))}}function gC(o,c,m,g){switch(qC(c)){case 2:var b=M6;break;case 8:b=P6;break;default:b=Yy}m=b.bind(null,c,m,o),b=void 0,!Il||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(b=!0),g?b!==void 0?o.addEventListener(c,m,{capture:!0,passive:b}):o.addEventListener(c,m,!0):b!==void 0?o.addEventListener(c,m,{passive:b}):o.addEventListener(c,m,!1)}function Py(o,c,m,g,b){var C=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var P=g.tag;if(P===3||P===4){var Q=g.stateNode.containerInfo;if(Q===b)break;if(P===4)for(P=g.return;P!==null;){var me=P.tag;if((me===3||me===4)&&P.stateNode.containerInfo===b)return;P=P.return}for(;Q!==null;){if(P=Zr(Q),P===null)return;if(me=P.tag,me===5||me===6||me===26||me===27){g=C=P;continue e}Q=Q.parentNode}}g=g.return}Pi(function(){var we=C,Pe=So(m),$e=[];e:{var _e=K1.get(o);if(_e!==void 0){var Ee=B,it=o;switch(o){case"keypress":if(Nn(m)===0)break e;case"keydown":case"keyup":Ee=ka;break;case"focusin":it="focus",Ee=Au;break;case"focusout":it="blur",Ee=Au;break;case"beforeblur":case"afterblur":Ee=Au;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ee=dr;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ee=Eo;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ee=S;break;case q1:case G1:case W1:Ee=Qx;break;case Y1:Ee=ae;break;case"scroll":case"scrollend":Ee=at;break;case"wheel":Ee=Be;break;case"copy":case"cut":case"paste":Ee=Jx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ee=tf;break;case"toggle":case"beforetoggle":Ee=ut}var Ct=(c&4)!==0,As=!Ct&&(o==="scroll"||o==="scrollend"),be=Ct?_e!==null?_e+"Capture":null:_e;Ct=[];for(var ge=we,je;ge!==null;){var Fe=ge;if(je=Fe.stateNode,Fe=Fe.tag,Fe!==5&&Fe!==26&&Fe!==27||je===null||be===null||(Fe=ri(ge,be),Fe!=null&&Ct.push(uh(ge,Fe,je))),As)break;ge=ge.return}0<Ct.length&&(_e=new Ee(_e,it,null,m,Pe),$e.push({event:_e,listeners:Ct}))}}if((c&7)===0){e:{if(_e=o==="mouseover"||o==="pointerover",Ee=o==="mouseout"||o==="pointerout",_e&&m!==Fl&&(it=m.relatedTarget||m.fromElement)&&(Zr(it)||it[pa]))break e;if((Ee||_e)&&(_e=Pe.window===Pe?Pe:(_e=Pe.ownerDocument)?_e.defaultView||_e.parentWindow:window,Ee?(it=m.relatedTarget||m.toElement,Ee=we,it=it?Zr(it):null,it!==null&&(As=i(it),Ct=it.tag,it!==As||Ct!==5&&Ct!==27&&Ct!==6)&&(it=null)):(Ee=null,it=we),Ee!==it)){if(Ct=dr,Fe="onMouseLeave",be="onMouseEnter",ge="mouse",(o==="pointerout"||o==="pointerover")&&(Ct=tf,Fe="onPointerLeave",be="onPointerEnter",ge="pointer"),As=Ee==null?_e:Jr(Ee),je=it==null?_e:Jr(it),_e=new Ct(Fe,ge+"leave",Ee,m,Pe),_e.target=As,_e.relatedTarget=je,Fe=null,Zr(Pe)===we&&(Ct=new Ct(be,ge+"enter",it,m,Pe),Ct.target=je,Ct.relatedTarget=As,Fe=Ct),As=Fe,Ee&&it)t:{for(Ct=i6,be=Ee,ge=it,je=0,Fe=be;Fe;Fe=Ct(Fe))je++;Fe=0;for(var vt=ge;vt;vt=Ct(vt))Fe++;for(;0<je-Fe;)be=Ct(be),je--;for(;0<Fe-je;)ge=Ct(ge),Fe--;for(;je--;){if(be===ge||ge!==null&&be===ge.alternate){Ct=be;break t}be=Ct(be),ge=Ct(ge)}Ct=null}else Ct=null;Ee!==null&&xC($e,_e,Ee,Ct,!1),it!==null&&As!==null&&xC($e,As,it,Ct,!0)}}e:{if(_e=we?Jr(we):window,Ee=_e.nodeName&&_e.nodeName.toLowerCase(),Ee==="select"||Ee==="input"&&_e.type==="file")var ds=rf;else if(Mu(_e))if(of)ds=xL;else{ds=pL;var ht=fL}else Ee=_e.nodeName,!Ee||Ee.toLowerCase()!=="input"||_e.type!=="checkbox"&&_e.type!=="radio"?we&&Bl(we.elementType)&&(ds=rf):ds=gL;if(ds&&(ds=ds(o,we))){Pu($e,ds,m,Pe);break e}ht&&ht(o,_e,we),o==="focusout"&&we&&_e.type==="number"&&we.memoizedProps.value!=null&&Ll(_e,"number",_e.value)}switch(ht=we?Jr(we):window,o){case"focusin":(Mu(ht)||ht.contentEditable==="true")&&(Kc=ht,c0=we,$u=null);break;case"focusout":$u=c0=Kc=null;break;case"mousedown":d0=!0;break;case"contextmenu":case"mouseup":case"dragend":d0=!1,U1($e,m,Pe);break;case"selectionchange":if(bL)break;case"keydown":case"keyup":U1($e,m,Pe)}var Ut;if(Xt)e:{switch(o){case"compositionstart":var Zt="onCompositionStart";break e;case"compositionend":Zt="onCompositionEnd";break e;case"compositionupdate":Zt="onCompositionUpdate";break e}Zt=void 0}else Ro?af(o,m)&&(Zt="onCompositionEnd"):o==="keydown"&&m.keyCode===229&&(Zt="onCompositionStart");Zt&&($l&&m.locale!=="ko"&&(Ro||Zt!=="onCompositionStart"?Zt==="onCompositionEnd"&&Ro&&(Ut=At()):(wn=Pe,Ao="value"in wn?wn.value:wn.textContent,Ro=!0)),ht=Kf(we,Zt),0<ht.length&&(Zt=new ef(Zt,o,null,m,Pe),$e.push({event:Zt,listeners:ht}),Ut?Zt.data=Ut:(Ut=Ru(m),Ut!==null&&(Zt.data=Ut)))),(Ut=na?nf(o,m):i0(o,m))&&(Zt=Kf(we,"onBeforeInput"),0<Zt.length&&(ht=new ef("onBeforeInput","beforeinput",null,m,Pe),$e.push({event:ht,listeners:Zt}),ht.data=Ut)),s6($e,o,we,m,Pe)}pC($e,c)})}function uh(o,c,m){return{instance:o,listener:c,currentTarget:m}}function Kf(o,c){for(var m=c+"Capture",g=[];o!==null;){var b=o,C=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||C===null||(b=ri(o,m),b!=null&&g.unshift(uh(o,b,C)),b=ri(o,c),b!=null&&g.push(uh(o,b,C))),o.tag===3)return g;o=o.return}return[]}function i6(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function xC(o,c,m,g,b){for(var C=c._reactName,P=[];m!==null&&m!==g;){var Q=m,me=Q.alternate,we=Q.stateNode;if(Q=Q.tag,me!==null&&me===g)break;Q!==5&&Q!==26&&Q!==27||we===null||(me=we,b?(we=ri(m,C),we!=null&&P.unshift(uh(m,we,me))):b||(we=ri(m,C),we!=null&&P.push(uh(m,we,me)))),m=m.return}P.length!==0&&o.push({event:c,listeners:P})}var o6=/\r\n?/g,l6=/\u0000|\uFFFD/g;function yC(o){return(typeof o=="string"?o:""+o).replace(o6,`
`).replace(l6,"")}function bC(o,c){return c=yC(c),yC(o)===c}function Ss(o,c,m,g,b,C){switch(m){case"children":typeof g=="string"?c==="body"||c==="textarea"&&g===""||si(o,g):(typeof g=="number"||typeof g=="bigint")&&c!=="body"&&si(o,""+g);break;case"className":Ri(o,"class",g);break;case"tabIndex":Ri(o,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Ri(o,m,g);break;case"style":or(o,g,C);break;case"data":if(c!=="object"){Ri(o,"data",g);break}case"src":case"href":if(g===""&&(c!=="a"||m!=="href")){o.removeAttribute(m);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(m);break}g=ko(""+g),o.setAttribute(m,g);break;case"action":case"formAction":if(typeof g=="function"){o.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(m==="formAction"?(c!=="input"&&Ss(o,c,"name",b.name,b,null),Ss(o,c,"formEncType",b.formEncType,b,null),Ss(o,c,"formMethod",b.formMethod,b,null),Ss(o,c,"formTarget",b.formTarget,b,null)):(Ss(o,c,"encType",b.encType,b,null),Ss(o,c,"method",b.method,b,null),Ss(o,c,"target",b.target,b,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(m);break}g=ko(""+g),o.setAttribute(m,g);break;case"onClick":g!=null&&(o.onclick=jn);break;case"onScroll":g!=null&&Yt("scroll",o);break;case"onScrollEnd":g!=null&&Yt("scrollend",o);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(m=g.__html,m!=null){if(b.children!=null)throw Error(n(60));o.innerHTML=m}}break;case"multiple":o.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":o.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){o.removeAttribute("xlink:href");break}m=ko(""+g),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(m,""+g):o.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(m,""):o.removeAttribute(m);break;case"capture":case"download":g===!0?o.setAttribute(m,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(m,g):o.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?o.setAttribute(m,g):o.removeAttribute(m);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?o.removeAttribute(m):o.setAttribute(m,g);break;case"popover":Yt("beforetoggle",o),Yt("toggle",o),Ei(o,"popover",g);break;case"xlinkActuate":vn(o,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":vn(o,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":vn(o,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":vn(o,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":vn(o,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":vn(o,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":vn(o,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":vn(o,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":vn(o,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Ei(o,"is",g);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=ku.get(m)||m,Ei(o,m,g))}}function Oy(o,c,m,g,b,C){switch(m){case"style":or(o,g,C);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(m=g.__html,m!=null){if(b.children!=null)throw Error(n(60));o.innerHTML=m}}break;case"children":typeof g=="string"?si(o,g):(typeof g=="number"||typeof g=="bigint")&&si(o,""+g);break;case"onScroll":g!=null&&Yt("scroll",o);break;case"onScrollEnd":g!=null&&Yt("scrollend",o);break;case"onClick":g!=null&&(o.onclick=jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ml.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(b=m.endsWith("Capture"),c=m.slice(2,b?m.length-7:void 0),C=o[aa]||null,C=C!=null?C[m]:null,typeof C=="function"&&o.removeEventListener(c,C,b),typeof g=="function")){typeof C!="function"&&C!==null&&(m in o?o[m]=null:o.hasAttribute(m)&&o.removeAttribute(m)),o.addEventListener(c,g,b);break e}m in o?o[m]=g:g===!0?o.setAttribute(m,""):Ei(o,m,g)}}}function Ya(o,c,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Yt("error",o),Yt("load",o);var g=!1,b=!1,C;for(C in m)if(m.hasOwnProperty(C)){var P=m[C];if(P!=null)switch(C){case"src":g=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:Ss(o,c,C,P,m,null)}}b&&Ss(o,c,"srcSet",m.srcSet,m,null),g&&Ss(o,c,"src",m.src,m,null);return;case"input":Yt("invalid",o);var Q=C=P=b=null,me=null,we=null;for(g in m)if(m.hasOwnProperty(g)){var Pe=m[g];if(Pe!=null)switch(g){case"name":b=Pe;break;case"type":P=Pe;break;case"checked":me=Pe;break;case"defaultChecked":we=Pe;break;case"value":C=Pe;break;case"defaultValue":Q=Pe;break;case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(n(137,c));break;default:Ss(o,c,g,Pe,m,null)}}Ol(o,C,Q,me,we,P,b,!1);return;case"select":Yt("invalid",o),g=P=C=null;for(b in m)if(m.hasOwnProperty(b)&&(Q=m[b],Q!=null))switch(b){case"value":C=Q;break;case"defaultValue":P=Q;break;case"multiple":g=Q;default:Ss(o,c,b,Q,m,null)}c=C,m=P,o.multiple=!!g,c!=null?ti(o,!!g,c,!1):m!=null&&ti(o,!!g,m,!0);return;case"textarea":Yt("invalid",o),C=b=g=null;for(P in m)if(m.hasOwnProperty(P)&&(Q=m[P],Q!=null))switch(P){case"value":g=Q;break;case"defaultValue":b=Q;break;case"children":C=Q;break;case"dangerouslySetInnerHTML":if(Q!=null)throw Error(n(91));break;default:Ss(o,c,P,Q,m,null)}Gc(o,g,b,C);return;case"option":for(me in m)if(m.hasOwnProperty(me)&&(g=m[me],g!=null))switch(me){case"selected":o.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:Ss(o,c,me,g,m,null)}return;case"dialog":Yt("beforetoggle",o),Yt("toggle",o),Yt("cancel",o),Yt("close",o);break;case"iframe":case"object":Yt("load",o);break;case"video":case"audio":for(g=0;g<dh.length;g++)Yt(dh[g],o);break;case"image":Yt("error",o),Yt("load",o);break;case"details":Yt("toggle",o);break;case"embed":case"source":case"link":Yt("error",o),Yt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(we in m)if(m.hasOwnProperty(we)&&(g=m[we],g!=null))switch(we){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:Ss(o,c,we,g,m,null)}return;default:if(Bl(c)){for(Pe in m)m.hasOwnProperty(Pe)&&(g=m[Pe],g!==void 0&&Oy(o,c,Pe,g,m,void 0));return}}for(Q in m)m.hasOwnProperty(Q)&&(g=m[Q],g!=null&&Ss(o,c,Q,g,m,null))}function c6(o,c,m,g){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,C=null,P=null,Q=null,me=null,we=null,Pe=null;for(Ee in m){var $e=m[Ee];if(m.hasOwnProperty(Ee)&&$e!=null)switch(Ee){case"checked":break;case"value":break;case"defaultValue":me=$e;default:g.hasOwnProperty(Ee)||Ss(o,c,Ee,null,g,$e)}}for(var _e in g){var Ee=g[_e];if($e=m[_e],g.hasOwnProperty(_e)&&(Ee!=null||$e!=null))switch(_e){case"type":C=Ee;break;case"name":b=Ee;break;case"checked":we=Ee;break;case"defaultChecked":Pe=Ee;break;case"value":P=Ee;break;case"defaultValue":Q=Ee;break;case"children":case"dangerouslySetInnerHTML":if(Ee!=null)throw Error(n(137,c));break;default:Ee!==$e&&Ss(o,c,_e,Ee,g,$e)}}Mr(o,P,Q,me,we,Pe,C,b);return;case"select":Ee=P=Q=_e=null;for(C in m)if(me=m[C],m.hasOwnProperty(C)&&me!=null)switch(C){case"value":break;case"multiple":Ee=me;default:g.hasOwnProperty(C)||Ss(o,c,C,null,g,me)}for(b in g)if(C=g[b],me=m[b],g.hasOwnProperty(b)&&(C!=null||me!=null))switch(b){case"value":_e=C;break;case"defaultValue":Q=C;break;case"multiple":P=C;default:C!==me&&Ss(o,c,b,C,g,me)}c=Q,m=P,g=Ee,_e!=null?ti(o,!!m,_e,!1):!!g!=!!m&&(c!=null?ti(o,!!m,c,!0):ti(o,!!m,m?[]:"",!1));return;case"textarea":Ee=_e=null;for(Q in m)if(b=m[Q],m.hasOwnProperty(Q)&&b!=null&&!g.hasOwnProperty(Q))switch(Q){case"value":break;case"children":break;default:Ss(o,c,Q,null,g,b)}for(P in g)if(b=g[P],C=m[P],g.hasOwnProperty(P)&&(b!=null||C!=null))switch(P){case"value":_e=b;break;case"defaultValue":Ee=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(n(91));break;default:b!==C&&Ss(o,c,P,b,g,C)}qc(o,_e,Ee);return;case"option":for(var it in m)if(_e=m[it],m.hasOwnProperty(it)&&_e!=null&&!g.hasOwnProperty(it))switch(it){case"selected":o.selected=!1;break;default:Ss(o,c,it,null,g,_e)}for(me in g)if(_e=g[me],Ee=m[me],g.hasOwnProperty(me)&&_e!==Ee&&(_e!=null||Ee!=null))switch(me){case"selected":o.selected=_e&&typeof _e!="function"&&typeof _e!="symbol";break;default:Ss(o,c,me,_e,g,Ee)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ct in m)_e=m[Ct],m.hasOwnProperty(Ct)&&_e!=null&&!g.hasOwnProperty(Ct)&&Ss(o,c,Ct,null,g,_e);for(we in g)if(_e=g[we],Ee=m[we],g.hasOwnProperty(we)&&_e!==Ee&&(_e!=null||Ee!=null))switch(we){case"children":case"dangerouslySetInnerHTML":if(_e!=null)throw Error(n(137,c));break;default:Ss(o,c,we,_e,g,Ee)}return;default:if(Bl(c)){for(var As in m)_e=m[As],m.hasOwnProperty(As)&&_e!==void 0&&!g.hasOwnProperty(As)&&Oy(o,c,As,void 0,g,_e);for(Pe in g)_e=g[Pe],Ee=m[Pe],!g.hasOwnProperty(Pe)||_e===Ee||_e===void 0&&Ee===void 0||Oy(o,c,Pe,_e,g,Ee);return}}for(var be in m)_e=m[be],m.hasOwnProperty(be)&&_e!=null&&!g.hasOwnProperty(be)&&Ss(o,c,be,null,g,_e);for($e in g)_e=g[$e],Ee=m[$e],!g.hasOwnProperty($e)||_e===Ee||_e==null&&Ee==null||Ss(o,c,$e,_e,g,Ee)}function vC(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function d6(){if(typeof performance.getEntriesByType=="function"){for(var o=0,c=0,m=performance.getEntriesByType("resource"),g=0;g<m.length;g++){var b=m[g],C=b.transferSize,P=b.initiatorType,Q=b.duration;if(C&&Q&&vC(P)){for(P=0,Q=b.responseEnd,g+=1;g<m.length;g++){var me=m[g],we=me.startTime;if(we>Q)break;var Pe=me.transferSize,$e=me.initiatorType;Pe&&vC($e)&&(me=me.responseEnd,P+=Pe*(me<Q?1:(Q-we)/(me-we)))}if(--g,c+=8*(C+P)/(b.duration/1e3),o++,10<o)break}}if(0<o)return c/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var Ly=null,By=null;function Xf(o){return o.nodeType===9?o:o.ownerDocument}function jC(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function wC(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function Fy(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Iy=null;function u6(){var o=window.event;return o&&o.type==="popstate"?o===Iy?!1:(Iy=o,!0):(Iy=null,!1)}var NC=typeof setTimeout=="function"?setTimeout:void 0,h6=typeof clearTimeout=="function"?clearTimeout:void 0,_C=typeof Promise=="function"?Promise:void 0,m6=typeof queueMicrotask=="function"?queueMicrotask:typeof _C<"u"?function(o){return _C.resolve(null).then(o).catch(f6)}:NC;function f6(o){setTimeout(function(){throw o})}function Xo(o){return o==="head"}function CC(o,c){var m=c,g=0;do{var b=m.nextSibling;if(o.removeChild(m),b&&b.nodeType===8)if(m=b.data,m==="/$"||m==="/&"){if(g===0){o.removeChild(b),wd(c);return}g--}else if(m==="$"||m==="$?"||m==="$~"||m==="$!"||m==="&")g++;else if(m==="html")hh(o.ownerDocument.documentElement);else if(m==="head"){m=o.ownerDocument.head,hh(m);for(var C=m.firstChild;C;){var P=C.nextSibling,Q=C.nodeName;C[Er]||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&C.rel.toLowerCase()==="stylesheet"||m.removeChild(C),C=P}}else m==="body"&&hh(o.ownerDocument.body);m=b}while(m);wd(c)}function kC(o,c){var m=o;o=0;do{var g=m.nextSibling;if(m.nodeType===1?c?(m._stashedDisplay=m.style.display,m.style.display="none"):(m.style.display=m._stashedDisplay||"",m.getAttribute("style")===""&&m.removeAttribute("style")):m.nodeType===3&&(c?(m._stashedText=m.nodeValue,m.nodeValue=""):m.nodeValue=m._stashedText||""),g&&g.nodeType===8)if(m=g.data,m==="/$"){if(o===0)break;o--}else m!=="$"&&m!=="$?"&&m!=="$~"&&m!=="$!"||o++;m=g}while(m)}function $y(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var m=c;switch(c=c.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":$y(m),Rl(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}o.removeChild(m)}}function p6(o,c,m,g){for(;o.nodeType===1;){var b=m;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!g&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(g){if(!o[Er])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(C=o.getAttribute("rel"),C==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(C!==b.rel||o.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||o.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||o.getAttribute("title")!==(b.title==null?null:b.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(C=o.getAttribute("src"),(C!==(b.src==null?null:b.src)||o.getAttribute("type")!==(b.type==null?null:b.type)||o.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&C&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var C=b.name==null?null:""+b.name;if(b.type==="hidden"&&o.getAttribute("name")===C)return o}else return o;if(o=xr(o.nextSibling),o===null)break}return null}function g6(o,c,m){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!m||(o=xr(o.nextSibling),o===null))return null;return o}function SC(o,c){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=xr(o.nextSibling),o===null))return null;return o}function zy(o){return o.data==="$?"||o.data==="$~"}function Vy(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function x6(o,c){var m=o.ownerDocument;if(o.data==="$~")o._reactRetry=c;else if(o.data!=="$?"||m.readyState!=="loading")c();else{var g=function(){c(),m.removeEventListener("DOMContentLoaded",g)};m.addEventListener("DOMContentLoaded",g),o._reactRetry=g}}function xr(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return o}var Uy=null;function AC(o){o=o.nextSibling;for(var c=0;o;){if(o.nodeType===8){var m=o.data;if(m==="/$"||m==="/&"){if(c===0)return xr(o.nextSibling);c--}else m!=="$"&&m!=="$!"&&m!=="$?"&&m!=="$~"&&m!=="&"||c++}o=o.nextSibling}return null}function TC(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var m=o.data;if(m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"){if(c===0)return o;c--}else m!=="/$"&&m!=="/&"||c++}o=o.previousSibling}return null}function DC(o,c,m){switch(c=Xf(m),o){case"html":if(o=c.documentElement,!o)throw Error(n(452));return o;case"head":if(o=c.head,!o)throw Error(n(453));return o;case"body":if(o=c.body,!o)throw Error(n(454));return o;default:throw Error(n(451))}}function hh(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);Rl(o)}var yr=new Map,EC=new Set;function Qf(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Qi=U.d;U.d={f:y6,r:b6,D:v6,C:j6,L:w6,m:N6,X:C6,S:_6,M:k6};function y6(){var o=Qi.f(),c=Vf();return o||c}function b6(o){var c=Fn(o);c!==null&&c.tag===5&&c.type==="form"?YN(c):Qi.r(o)}var bd=typeof document>"u"?null:document;function RC(o,c,m){var g=bd;if(g&&typeof c=="string"&&c){var b=ga(c);b='link[rel="'+o+'"][href="'+b+'"]',typeof m=="string"&&(b+='[crossorigin="'+m+'"]'),EC.has(b)||(EC.add(b),o={rel:o,crossOrigin:m,href:c},g.querySelector(b)===null&&(c=g.createElement("link"),Ya(c,"link",o),Cs(c),g.head.appendChild(c)))}}function v6(o){Qi.D(o),RC("dns-prefetch",o,null)}function j6(o,c){Qi.C(o,c),RC("preconnect",o,c)}function w6(o,c,m){Qi.L(o,c,m);var g=bd;if(g&&o&&c){var b='link[rel="preload"][as="'+ga(c)+'"]';c==="image"&&m&&m.imageSrcSet?(b+='[imagesrcset="'+ga(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(b+='[imagesizes="'+ga(m.imageSizes)+'"]')):b+='[href="'+ga(o)+'"]';var C=b;switch(c){case"style":C=vd(o);break;case"script":C=jd(o)}yr.has(C)||(o=f({rel:"preload",href:c==="image"&&m&&m.imageSrcSet?void 0:o,as:c},m),yr.set(C,o),g.querySelector(b)!==null||c==="style"&&g.querySelector(mh(C))||c==="script"&&g.querySelector(fh(C))||(c=g.createElement("link"),Ya(c,"link",o),Cs(c),g.head.appendChild(c)))}}function N6(o,c){Qi.m(o,c);var m=bd;if(m&&o){var g=c&&typeof c.as=="string"?c.as:"script",b='link[rel="modulepreload"][as="'+ga(g)+'"][href="'+ga(o)+'"]',C=b;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=jd(o)}if(!yr.has(C)&&(o=f({rel:"modulepreload",href:o},c),yr.set(C,o),m.querySelector(b)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(fh(C)))return}g=m.createElement("link"),Ya(g,"link",o),Cs(g),m.head.appendChild(g)}}}function _6(o,c,m){Qi.S(o,c,m);var g=bd;if(g&&o){var b=In(g).hoistableStyles,C=vd(o);c=c||"default";var P=b.get(C);if(!P){var Q={loading:0,preload:null};if(P=g.querySelector(mh(C)))Q.loading=5;else{o=f({rel:"stylesheet",href:o,"data-precedence":c},m),(m=yr.get(C))&&Hy(o,m);var me=P=g.createElement("link");Cs(me),Ya(me,"link",o),me._p=new Promise(function(we,Pe){me.onload=we,me.onerror=Pe}),me.addEventListener("load",function(){Q.loading|=1}),me.addEventListener("error",function(){Q.loading|=2}),Q.loading|=4,Zf(P,c,g)}P={type:"stylesheet",instance:P,count:1,state:Q},b.set(C,P)}}}function C6(o,c){Qi.X(o,c);var m=bd;if(m&&o){var g=In(m).hoistableScripts,b=jd(o),C=g.get(b);C||(C=m.querySelector(fh(b)),C||(o=f({src:o,async:!0},c),(c=yr.get(b))&&qy(o,c),C=m.createElement("script"),Cs(C),Ya(C,"link",o),m.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},g.set(b,C))}}function k6(o,c){Qi.M(o,c);var m=bd;if(m&&o){var g=In(m).hoistableScripts,b=jd(o),C=g.get(b);C||(C=m.querySelector(fh(b)),C||(o=f({src:o,async:!0,type:"module"},c),(c=yr.get(b))&&qy(o,c),C=m.createElement("script"),Cs(C),Ya(C,"link",o),m.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},g.set(b,C))}}function MC(o,c,m,g){var b=(b=Ne.current)?Qf(b):null;if(!b)throw Error(n(446));switch(o){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(c=vd(m.href),m=In(b).hoistableStyles,g=m.get(c),g||(g={type:"style",instance:null,count:0,state:null},m.set(c,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){o=vd(m.href);var C=In(b).hoistableStyles,P=C.get(o);if(P||(b=b.ownerDocument||b,P={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(o,P),(C=b.querySelector(mh(o)))&&!C._p&&(P.instance=C,P.state.loading=5),yr.has(o)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},yr.set(o,m),C||S6(b,o,m,P.state))),c&&g===null)throw Error(n(528,""));return P}if(c&&g!==null)throw Error(n(529,""));return null;case"script":return c=m.async,m=m.src,typeof m=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=jd(m),m=In(b).hoistableScripts,g=m.get(c),g||(g={type:"script",instance:null,count:0,state:null},m.set(c,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,o))}}function vd(o){return'href="'+ga(o)+'"'}function mh(o){return'link[rel="stylesheet"]['+o+"]"}function PC(o){return f({},o,{"data-precedence":o.precedence,precedence:null})}function S6(o,c,m,g){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?g.loading=1:(c=o.createElement("link"),g.preload=c,c.addEventListener("load",function(){return g.loading|=1}),c.addEventListener("error",function(){return g.loading|=2}),Ya(c,"link",m),Cs(c),o.head.appendChild(c))}function jd(o){return'[src="'+ga(o)+'"]'}function fh(o){return"script[async]"+o}function OC(o,c,m){if(c.count++,c.instance===null)switch(c.type){case"style":var g=o.querySelector('style[data-href~="'+ga(m.href)+'"]');if(g)return c.instance=g,Cs(g),g;var b=f({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return g=(o.ownerDocument||o).createElement("style"),Cs(g),Ya(g,"style",b),Zf(g,m.precedence,o),c.instance=g;case"stylesheet":b=vd(m.href);var C=o.querySelector(mh(b));if(C)return c.state.loading|=4,c.instance=C,Cs(C),C;g=PC(m),(b=yr.get(b))&&Hy(g,b),C=(o.ownerDocument||o).createElement("link"),Cs(C);var P=C;return P._p=new Promise(function(Q,me){P.onload=Q,P.onerror=me}),Ya(C,"link",g),c.state.loading|=4,Zf(C,m.precedence,o),c.instance=C;case"script":return C=jd(m.src),(b=o.querySelector(fh(C)))?(c.instance=b,Cs(b),b):(g=m,(b=yr.get(C))&&(g=f({},m),qy(g,b)),o=o.ownerDocument||o,b=o.createElement("script"),Cs(b),Ya(b,"link",g),o.head.appendChild(b),c.instance=b);case"void":return null;default:throw Error(n(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(g=c.instance,c.state.loading|=4,Zf(g,m.precedence,o));return c.instance}function Zf(o,c,m){for(var g=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=g.length?g[g.length-1]:null,C=b,P=0;P<g.length;P++){var Q=g[P];if(Q.dataset.precedence===c)C=Q;else if(C!==b)break}C?C.parentNode.insertBefore(o,C.nextSibling):(c=m.nodeType===9?m.head:m,c.insertBefore(o,c.firstChild))}function Hy(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function qy(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var Jf=null;function LC(o,c,m){if(Jf===null){var g=new Map,b=Jf=new Map;b.set(m,g)}else b=Jf,g=b.get(m),g||(g=new Map,b.set(m,g));if(g.has(o))return g;for(g.set(o,null),m=m.getElementsByTagName(o),b=0;b<m.length;b++){var C=m[b];if(!(C[Er]||C[da]||o==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var P=C.getAttribute(c)||"";P=o+P;var Q=g.get(P);Q?Q.push(C):g.set(P,[C])}}return g}function BC(o,c,m){o=o.ownerDocument||o,o.head.insertBefore(m,c==="title"?o.querySelector("head > title"):null)}function A6(o,c,m){if(m===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function FC(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function T6(o,c,m,g){if(m.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var b=vd(g.href),C=c.querySelector(mh(b));if(C){c=C._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(o.count++,o=ep.bind(o),c.then(o,o)),m.state.loading|=4,m.instance=C,Cs(C);return}C=c.ownerDocument||c,g=PC(g),(b=yr.get(b))&&Hy(g,b),C=C.createElement("link"),Cs(C);var P=C;P._p=new Promise(function(Q,me){P.onload=Q,P.onerror=me}),Ya(C,"link",g),m.instance=C}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(m,c),(c=m.state.preload)&&(m.state.loading&3)===0&&(o.count++,m=ep.bind(o),c.addEventListener("load",m),c.addEventListener("error",m))}}var Gy=0;function D6(o,c){return o.stylesheets&&o.count===0&&sp(o,o.stylesheets),0<o.count||0<o.imgCount?function(m){var g=setTimeout(function(){if(o.stylesheets&&sp(o,o.stylesheets),o.unsuspend){var C=o.unsuspend;o.unsuspend=null,C()}},6e4+c);0<o.imgBytes&&Gy===0&&(Gy=62500*d6());var b=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&sp(o,o.stylesheets),o.unsuspend)){var C=o.unsuspend;o.unsuspend=null,C()}},(o.imgBytes>Gy?50:800)+c);return o.unsuspend=m,function(){o.unsuspend=null,clearTimeout(g),clearTimeout(b)}}:null}function ep(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)sp(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var tp=null;function sp(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,tp=new Map,c.forEach(E6,o),tp=null,ep.call(o))}function E6(o,c){if(!(c.state.loading&4)){var m=tp.get(o);if(m)var g=m.get(null);else{m=new Map,tp.set(o,m);for(var b=o.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<b.length;C++){var P=b[C];(P.nodeName==="LINK"||P.getAttribute("media")!=="not all")&&(m.set(P.dataset.precedence,P),g=P)}g&&m.set(null,g)}b=c.instance,P=b.getAttribute("data-precedence"),C=m.get(P)||g,C===g&&m.set(null,b),m.set(P,b),this.count++,g=ep.bind(this),b.addEventListener("load",g),b.addEventListener("error",g),C?C.parentNode.insertBefore(b,C.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(b,o.firstChild)),c.state.loading|=4}}var ph={$$typeof:D,Provider:null,Consumer:null,_currentValue:H,_currentValue2:H,_threadCount:0};function R6(o,c,m,g,b,C,P,Q,me){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.hiddenUpdates=gt(null),this.identifierPrefix=g,this.onUncaughtError=b,this.onCaughtError=C,this.onRecoverableError=P,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=me,this.incompleteTransitions=new Map}function IC(o,c,m,g,b,C,P,Q,me,we,Pe,$e){return o=new R6(o,c,m,P,me,we,Pe,$e,Q),c=1,C===!0&&(c|=24),C=Hn(3,null,null,c),o.current=C,C.stateNode=o,c=C0(),c.refCount++,o.pooledCache=c,c.refCount++,C.memoizedState={element:g,isDehydrated:m,cache:c},T0(C),o}function $C(o){return o?(o=Zc,o):Zc}function zC(o,c,m,g,b,C){b=$C(b),g.context===null?g.context=b:g.pendingContext=b,g=Io(c),g.payload={element:m},C=C===void 0?null:C,C!==null&&(g.callback=C),m=$o(o,g,c),m!==null&&(An(m,o,c),Wu(m,o,c))}function VC(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var m=o.retryLane;o.retryLane=m!==0&&m<c?m:c}}function Wy(o,c){VC(o,c),(o=o.alternate)&&VC(o,c)}function UC(o){if(o.tag===13||o.tag===31){var c=Hl(o,67108864);c!==null&&An(c,o,67108864),Wy(o,67108864)}}function HC(o){if(o.tag===13||o.tag===31){var c=Kn();c=yn(c);var m=Hl(o,c);m!==null&&An(m,o,c),Wy(o,c)}}var ap=!0;function M6(o,c,m,g){var b=V.T;V.T=null;var C=U.p;try{U.p=2,Yy(o,c,m,g)}finally{U.p=C,V.T=b}}function P6(o,c,m,g){var b=V.T;V.T=null;var C=U.p;try{U.p=8,Yy(o,c,m,g)}finally{U.p=C,V.T=b}}function Yy(o,c,m,g){if(ap){var b=Ky(g);if(b===null)Py(o,c,g,np,m),GC(o,g);else if(L6(b,o,c,m,g))g.stopPropagation();else if(GC(o,g),c&4&&-1<O6.indexOf(o)){for(;b!==null;){var C=Fn(b);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var P=_a(C.pendingLanes);if(P!==0){var Q=C;for(Q.pendingLanes|=2,Q.entangledLanes|=2;P;){var me=1<<31-Ms(P);Q.entanglements[1]|=me,P&=~me}ci(C),(xs&6)===0&&($f=Ie()+500,ch(0))}}break;case 31:case 13:Q=Hl(C,2),Q!==null&&An(Q,C,2),Vf(),Wy(C,2)}if(C=Ky(g),C===null&&Py(o,c,g,np,m),C===b)break;b=C}b!==null&&g.stopPropagation()}else Py(o,c,g,null,m)}}function Ky(o){return o=So(o),Xy(o)}var np=null;function Xy(o){if(np=null,o=Zr(o),o!==null){var c=i(o);if(c===null)o=null;else{var m=c.tag;if(m===13){if(o=l(c),o!==null)return o;o=null}else if(m===31){if(o=d(c),o!==null)return o;o=null}else if(m===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return np=o,null}function qC(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ze()){case rt:return 2;case yt:return 8;case dt:case Vt:return 32;case St:return 268435456;default:return 32}default:return 32}}var Qy=!1,Qo=null,Zo=null,Jo=null,gh=new Map,xh=new Map,el=[],O6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function GC(o,c){switch(o){case"focusin":case"focusout":Qo=null;break;case"dragenter":case"dragleave":Zo=null;break;case"mouseover":case"mouseout":Jo=null;break;case"pointerover":case"pointerout":gh.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":xh.delete(c.pointerId)}}function yh(o,c,m,g,b,C){return o===null||o.nativeEvent!==C?(o={blockedOn:c,domEventName:m,eventSystemFlags:g,nativeEvent:C,targetContainers:[b]},c!==null&&(c=Fn(c),c!==null&&UC(c)),o):(o.eventSystemFlags|=g,c=o.targetContainers,b!==null&&c.indexOf(b)===-1&&c.push(b),o)}function L6(o,c,m,g,b){switch(c){case"focusin":return Qo=yh(Qo,o,c,m,g,b),!0;case"dragenter":return Zo=yh(Zo,o,c,m,g,b),!0;case"mouseover":return Jo=yh(Jo,o,c,m,g,b),!0;case"pointerover":var C=b.pointerId;return gh.set(C,yh(gh.get(C)||null,o,c,m,g,b)),!0;case"gotpointercapture":return C=b.pointerId,xh.set(C,yh(xh.get(C)||null,o,c,m,g,b)),!0}return!1}function WC(o){var c=Zr(o.target);if(c!==null){var m=i(c);if(m!==null){if(c=m.tag,c===13){if(c=l(m),c!==null){o.blockedOn=c,Hc(o.priority,function(){HC(m)});return}}else if(c===31){if(c=d(m),c!==null){o.blockedOn=c,Hc(o.priority,function(){HC(m)});return}}else if(c===3&&m.stateNode.current.memoizedState.isDehydrated){o.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}o.blockedOn=null}function rp(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var m=Ky(o.nativeEvent);if(m===null){m=o.nativeEvent;var g=new m.constructor(m.type,m);Fl=g,m.target.dispatchEvent(g),Fl=null}else return c=Fn(m),c!==null&&UC(c),o.blockedOn=m,!1;c.shift()}return!0}function YC(o,c,m){rp(o)&&m.delete(c)}function B6(){Qy=!1,Qo!==null&&rp(Qo)&&(Qo=null),Zo!==null&&rp(Zo)&&(Zo=null),Jo!==null&&rp(Jo)&&(Jo=null),gh.forEach(YC),xh.forEach(YC)}function ip(o,c){o.blockedOn===c&&(o.blockedOn=null,Qy||(Qy=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,B6)))}var op=null;function KC(o){op!==o&&(op=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){op===o&&(op=null);for(var c=0;c<o.length;c+=3){var m=o[c],g=o[c+1],b=o[c+2];if(typeof g!="function"){if(Xy(g||m)===null)continue;break}var C=Fn(m);C!==null&&(o.splice(c,3),c-=3,K0(C,{pending:!0,data:b,method:m.method,action:g},g,b))}}))}function wd(o){function c(me){return ip(me,o)}Qo!==null&&ip(Qo,o),Zo!==null&&ip(Zo,o),Jo!==null&&ip(Jo,o),gh.forEach(c),xh.forEach(c);for(var m=0;m<el.length;m++){var g=el[m];g.blockedOn===o&&(g.blockedOn=null)}for(;0<el.length&&(m=el[0],m.blockedOn===null);)WC(m),m.blockedOn===null&&el.shift();if(m=(o.ownerDocument||o).$$reactFormReplay,m!=null)for(g=0;g<m.length;g+=3){var b=m[g],C=m[g+1],P=b[aa]||null;if(typeof C=="function")P||KC(m);else if(P){var Q=null;if(C&&C.hasAttribute("formAction")){if(b=C,P=C[aa]||null)Q=P.formAction;else if(Xy(b)!==null)continue}else Q=P.action;typeof Q=="function"?m[g+1]=Q:(m.splice(g,3),g-=3),KC(m)}}}function XC(){function o(C){C.canIntercept&&C.info==="react-transition"&&C.intercept({handler:function(){return new Promise(function(P){return b=P})},focusReset:"manual",scroll:"manual"})}function c(){b!==null&&(b(),b=null),g||setTimeout(m,20)}function m(){if(!g&&!navigation.transition){var C=navigation.currentEntry;C&&C.url!=null&&navigation.navigate(C.url,{state:C.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,b=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(m,100),function(){g=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),b!==null&&(b(),b=null)}}}function Zy(o){this._internalRoot=o}lp.prototype.render=Zy.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(n(409));var m=c.current,g=Kn();zC(m,g,o,c,null,null)},lp.prototype.unmount=Zy.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;zC(o.current,2,null,o,null,null),Vf(),c[pa]=null}};function lp(o){this._internalRoot=o}lp.prototype.unstable_scheduleHydration=function(o){if(o){var c=Qr();o={blockedOn:null,target:o,priority:c};for(var m=0;m<el.length&&c!==0&&c<el[m].priority;m++);el.splice(m,0,o),m===0&&WC(o)}};var QC=s.version;if(QC!=="19.2.1")throw Error(n(527,QC,"19.2.1"));U.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=h(c),o=o!==null?p(o):null,o=o===null?null:o.stateNode,o};var F6={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:V,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cp.isDisabled&&cp.supportsFiber)try{ns=cp.inject(F6),gs=cp}catch{}}return bh.createRoot=function(o,c){if(!r(o))throw Error(n(299));var m=!1,g="",b=n_,C=r_,P=i_;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(b=c.onUncaughtError),c.onCaughtError!==void 0&&(C=c.onCaughtError),c.onRecoverableError!==void 0&&(P=c.onRecoverableError)),c=IC(o,1,!1,null,null,m,g,null,b,C,P,XC),o[pa]=c.current,My(o),new Zy(c)},bh.hydrateRoot=function(o,c,m){if(!r(o))throw Error(n(299));var g=!1,b="",C=n_,P=r_,Q=i_,me=null;return m!=null&&(m.unstable_strictMode===!0&&(g=!0),m.identifierPrefix!==void 0&&(b=m.identifierPrefix),m.onUncaughtError!==void 0&&(C=m.onUncaughtError),m.onCaughtError!==void 0&&(P=m.onCaughtError),m.onRecoverableError!==void 0&&(Q=m.onRecoverableError),m.formState!==void 0&&(me=m.formState)),c=IC(o,1,!0,c,m??null,g,b,me,C,P,Q,XC),c.context=$C(null),m=c.current,g=Kn(),g=yn(g),b=Io(g),b.callback=null,$o(m,b,g),m=g,c.current.lanes=m,He(c,m),ci(c),o[pa]=c.current,My(o),new lp(c)},bh.version="19.2.1",bh}var r2;function tT(){if(r2)return eb.exports;r2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(s){console.error(s)}}return t(),eb.exports=q6(),eb.exports}var G6=tT();const W6=Jg(G6);var nb={exports:{}},vh={};var i2;function Y6(){if(i2)return vh;i2=1;var t=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function a(n,r,i){var l=null;if(i!==void 0&&(l=""+i),r.key!==void 0&&(l=""+r.key),"key"in r){i={};for(var d in r)d!=="key"&&(i[d]=r[d])}else i=r;return r=i.ref,{$$typeof:t,type:n,key:l,ref:r!==void 0?r:null,props:i}}return vh.Fragment=s,vh.jsx=a,vh.jsxs=a,vh}var o2;function K6(){return o2||(o2=1,nb.exports=Y6()),nb.exports}var e=K6();const Ot=t=>typeof t=="string",jh=()=>{let t,s;const a=new Promise((n,r)=>{t=n,s=r});return a.resolve=t,a.reject=s,a},l2=t=>t==null?"":""+t,X6=(t,s,a)=>{t.forEach(n=>{s[n]&&(a[n]=s[n])})},Q6=/###/g,c2=t=>t&&t.indexOf("###")>-1?t.replace(Q6,"."):t,d2=t=>!t||Ot(t),Vh=(t,s,a)=>{const n=Ot(s)?s.split("."):s;let r=0;for(;r<n.length-1;){if(d2(t))return{};const i=c2(n[r]);!t[i]&&a&&(t[i]=new a),Object.prototype.hasOwnProperty.call(t,i)?t=t[i]:t={},++r}return d2(t)?{}:{obj:t,k:c2(n[r])}},u2=(t,s,a)=>{const{obj:n,k:r}=Vh(t,s,Object);if(n!==void 0||s.length===1){n[r]=a;return}let i=s[s.length-1],l=s.slice(0,s.length-1),d=Vh(t,l,Object);for(;d.obj===void 0&&l.length;)i=`${l[l.length-1]}.${i}`,l=l.slice(0,l.length-1),d=Vh(t,l,Object),d?.obj&&typeof d.obj[`${d.k}.${i}`]<"u"&&(d.obj=void 0);d.obj[`${d.k}.${i}`]=a},Z6=(t,s,a,n)=>{const{obj:r,k:i}=Vh(t,s,Object);r[i]=r[i]||[],r[i].push(a)},ug=(t,s)=>{const{obj:a,k:n}=Vh(t,s);if(a&&Object.prototype.hasOwnProperty.call(a,n))return a[n]},J6=(t,s,a)=>{const n=ug(t,a);return n!==void 0?n:ug(s,a)},sT=(t,s,a)=>{for(const n in s)n!=="__proto__"&&n!=="constructor"&&(n in t?Ot(t[n])||t[n]instanceof String||Ot(s[n])||s[n]instanceof String?a&&(t[n]=s[n]):sT(t[n],s[n],a):t[n]=s[n]);return t},Nd=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var e8={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const t8=t=>Ot(t)?t.replace(/[&<>"'\/]/g,s=>e8[s]):t;class s8{constructor(s){this.capacity=s,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(s){const a=this.regExpMap.get(s);if(a!==void 0)return a;const n=new RegExp(s);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(s,n),this.regExpQueue.push(s),n}}const a8=[" ",",","?","!",";"],n8=new s8(20),r8=(t,s,a)=>{s=s||"",a=a||"";const n=a8.filter(l=>s.indexOf(l)<0&&a.indexOf(l)<0);if(n.length===0)return!0;const r=n8.getRegExp(`(${n.map(l=>l==="?"?"\\?":l).join("|")})`);let i=!r.test(t);if(!i){const l=t.indexOf(a);l>0&&!r.test(t.substring(0,l))&&(i=!0)}return i},Nv=(t,s,a=".")=>{if(!t)return;if(t[s])return Object.prototype.hasOwnProperty.call(t,s)?t[s]:void 0;const n=s.split(a);let r=t;for(let i=0;i<n.length;){if(!r||typeof r!="object")return;let l,d="";for(let u=i;u<n.length;++u)if(u!==i&&(d+=a),d+=n[u],l=r[d],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&u<n.length-1)continue;i+=u-i+1;break}r=l}return r},Jh=t=>t?.replace("_","-"),i8={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,s){console?.[t]?.apply?.(console,s)}};class hg{constructor(s,a={}){this.init(s,a)}init(s,a={}){this.prefix=a.prefix||"i18next:",this.logger=s||i8,this.options=a,this.debug=a.debug}log(...s){return this.forward(s,"log","",!0)}warn(...s){return this.forward(s,"warn","",!0)}error(...s){return this.forward(s,"error","")}deprecate(...s){return this.forward(s,"warn","WARNING DEPRECATED: ",!0)}forward(s,a,n,r){return r&&!this.debug?null:(Ot(s[0])&&(s[0]=`${n}${this.prefix} ${s[0]}`),this.logger[a](s))}create(s){return new hg(this.logger,{prefix:`${this.prefix}:${s}:`,...this.options})}clone(s){return s=s||this.options,s.prefix=s.prefix||this.prefix,new hg(this.logger,s)}}var fi=new hg;class ex{constructor(){this.observers={}}on(s,a){return s.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const r=this.observers[n].get(a)||0;this.observers[n].set(a,r+1)}),this}off(s,a){if(this.observers[s]){if(!a){delete this.observers[s];return}this.observers[s].delete(a)}}emit(s,...a){this.observers[s]&&Array.from(this.observers[s].entries()).forEach(([r,i])=>{for(let l=0;l<i;l++)r(...a)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([r,i])=>{for(let l=0;l<i;l++)r.apply(r,[s,...a])})}}class h2 extends ex{constructor(s,a={ns:["translation"],defaultNS:"translation"}){super(),this.data=s||{},this.options=a,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(s){this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}removeNamespaces(s){const a=this.options.ns.indexOf(s);a>-1&&this.options.ns.splice(a,1)}getResource(s,a,n,r={}){const i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,l=r.ignoreJSONStructure!==void 0?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;s.indexOf(".")>-1?d=s.split("."):(d=[s,a],n&&(Array.isArray(n)?d.push(...n):Ot(n)&&i?d.push(...n.split(i)):d.push(n)));const u=ug(this.data,d);return!u&&!a&&!n&&s.indexOf(".")>-1&&(s=d[0],a=d[1],n=d.slice(2).join(".")),u||!l||!Ot(n)?u:Nv(this.data?.[s]?.[a],n,i)}addResource(s,a,n,r,i={silent:!1}){const l=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let d=[s,a];n&&(d=d.concat(l?n.split(l):n)),s.indexOf(".")>-1&&(d=s.split("."),r=a,a=d[1]),this.addNamespaces(a),u2(this.data,d,r),i.silent||this.emit("added",s,a,n,r)}addResources(s,a,n,r={silent:!1}){for(const i in n)(Ot(n[i])||Array.isArray(n[i]))&&this.addResource(s,a,i,n[i],{silent:!0});r.silent||this.emit("added",s,a,n)}addResourceBundle(s,a,n,r,i,l={silent:!1,skipCopy:!1}){let d=[s,a];s.indexOf(".")>-1&&(d=s.split("."),r=n,n=a,a=d[1]),this.addNamespaces(a);let u=ug(this.data,d)||{};l.skipCopy||(n=JSON.parse(JSON.stringify(n))),r?sT(u,n,i):u={...u,...n},u2(this.data,d,u),l.silent||this.emit("added",s,a,n)}removeResourceBundle(s,a){this.hasResourceBundle(s,a)&&delete this.data[s][a],this.removeNamespaces(a),this.emit("removed",s,a)}hasResourceBundle(s,a){return this.getResource(s,a)!==void 0}getResourceBundle(s,a){return a||(a=this.options.defaultNS),this.getResource(s,a)}getDataByLanguage(s){return this.data[s]}hasLanguageSomeTranslations(s){const a=this.getDataByLanguage(s);return!!(a&&Object.keys(a)||[]).find(r=>a[r]&&Object.keys(a[r]).length>0)}toJSON(){return this.data}}var aT={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,s,a,n,r){return t.forEach(i=>{s=this.processors[i]?.process(s,a,n,r)??s}),s}};const nT=Symbol("i18next/PATH_KEY");function o8(){const t=[],s=Object.create(null);let a;return s.get=(n,r)=>(a?.revoke?.(),r===nT?t:(t.push(r),a=Proxy.revocable(n,s),a.proxy)),Proxy.revocable(Object.create(null),s).proxy}function _v(t,s){const{[nT]:a}=t(o8());return a.join(s?.keySeparator??".")}const m2={},rb=t=>!Ot(t)&&typeof t!="boolean"&&typeof t!="number";class mg extends ex{constructor(s,a={}){super(),X6(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],s,this),this.options=a,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=fi.create("translator")}changeLanguage(s){s&&(this.language=s)}exists(s,a={interpolation:{}}){const n={...a};if(s==null)return!1;const r=this.resolve(s,n);if(r?.res===void 0)return!1;const i=rb(r.res);return!(n.returnObjects===!1&&i)}extractFromKey(s,a){let n=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const r=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let i=a.ns||this.options.defaultNS||[];const l=n&&s.indexOf(n)>-1,d=!this.options.userDefinedKeySeparator&&!a.keySeparator&&!this.options.userDefinedNsSeparator&&!a.nsSeparator&&!r8(s,n,r);if(l&&!d){const u=s.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:s,namespaces:Ot(i)?[i]:i};const h=s.split(n);(n!==r||n===r&&this.options.ns.indexOf(h[0])>-1)&&(i=h.shift()),s=h.join(r)}return{key:s,namespaces:Ot(i)?[i]:i}}translate(s,a,n){let r=typeof a=="object"?{...a}:a;if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),s==null)return"";typeof s=="function"&&(s=_v(s,{...this.options,...r})),Array.isArray(s)||(s=[String(s)]);const i=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,l=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:d,namespaces:u}=this.extractFromKey(s[s.length-1],r),h=u[u.length-1];let p=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;p===void 0&&(p=":");const f=r.lng||this.language,x=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(f?.toLowerCase()==="cimode")return x?i?{res:`${h}${p}${d}`,usedKey:d,exactUsedKey:d,usedLng:f,usedNS:h,usedParams:this.getUsedParamsDetails(r)}:`${h}${p}${d}`:i?{res:d,usedKey:d,exactUsedKey:d,usedLng:f,usedNS:h,usedParams:this.getUsedParamsDetails(r)}:d;const v=this.resolve(s,r);let j=v?.res;const w=v?.usedKey||d,_=v?.exactUsedKey||d,N=["[object Number]","[object Function]","[object RegExp]"],k=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,D=!this.i18nFormat||this.i18nFormat.handleAsObject,T=r.count!==void 0&&!Ot(r.count),E=mg.hasDefaultValue(r),G=T?this.pluralResolver.getSuffix(f,r.count,r):"",A=r.ordinal&&T?this.pluralResolver.getSuffix(f,r.count,{ordinal:!1}):"",F=T&&!r.ordinal&&r.count===0,M=F&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${G}`]||r[`defaultValue${A}`]||r.defaultValue;let J=j;D&&!j&&E&&(J=M);const R=rb(J),ee=Object.prototype.toString.apply(J);if(D&&J&&R&&N.indexOf(ee)<0&&!(Ot(k)&&Array.isArray(J))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const Y=this.options.returnedObjectHandler?this.options.returnedObjectHandler(w,J,{...r,ns:u}):`key '${d} (${this.language})' returned an object instead of string.`;return i?(v.res=Y,v.usedParams=this.getUsedParamsDetails(r),v):Y}if(l){const Y=Array.isArray(J),re=Y?[]:{},te=Y?_:w;for(const V in J)if(Object.prototype.hasOwnProperty.call(J,V)){const U=`${te}${l}${V}`;E&&!j?re[V]=this.translate(U,{...r,defaultValue:rb(M)?M[V]:void 0,joinArrays:!1,ns:u}):re[V]=this.translate(U,{...r,joinArrays:!1,ns:u}),re[V]===U&&(re[V]=J[V])}j=re}}else if(D&&Ot(k)&&Array.isArray(j))j=j.join(k),j&&(j=this.extendTranslation(j,s,r,n));else{let Y=!1,re=!1;!this.isValidLookup(j)&&E&&(Y=!0,j=M),this.isValidLookup(j)||(re=!0,j=d);const V=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&re?void 0:j,U=E&&M!==j&&this.options.updateMissing;if(re||Y||U){if(this.logger.log(U?"updateKey":"missingKey",f,h,d,U?M:j),l){const z=this.resolve(d,{...r,keySeparator:!1});z&&z.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let H=[];const L=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&L&&L[0])for(let z=0;z<L.length;z++)H.push(L[z]);else this.options.saveMissingTo==="all"?H=this.languageUtils.toResolveHierarchy(r.lng||this.language):H.push(r.lng||this.language);const $=(z,ie,le)=>{const ne=E&&le!==j?le:V;this.options.missingKeyHandler?this.options.missingKeyHandler(z,h,ie,ne,U,r):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(z,h,ie,ne,U,r),this.emit("missingKey",z,h,ie,j)};this.options.saveMissing&&(this.options.saveMissingPlurals&&T?H.forEach(z=>{const ie=this.pluralResolver.getSuffixes(z,r);F&&r[`defaultValue${this.options.pluralSeparator}zero`]&&ie.indexOf(`${this.options.pluralSeparator}zero`)<0&&ie.push(`${this.options.pluralSeparator}zero`),ie.forEach(le=>{$([z],d+le,r[`defaultValue${le}`]||M)})}):$(H,d,M))}j=this.extendTranslation(j,s,r,v,n),re&&j===d&&this.options.appendNamespaceToMissingKey&&(j=`${h}${p}${d}`),(re||Y)&&this.options.parseMissingKeyHandler&&(j=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}${p}${d}`:d,Y?j:void 0,r))}return i?(v.res=j,v.usedParams=this.getUsedParamsDetails(r),v):j}extendTranslation(s,a,n,r,i){if(this.i18nFormat?.parse)s=this.i18nFormat.parse(s,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const u=Ot(s)&&(n?.interpolation?.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(u){const f=s.match(this.interpolator.nestingRegexp);h=f&&f.length}let p=n.replace&&!Ot(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(p={...this.options.interpolation.defaultVariables,...p}),s=this.interpolator.interpolate(s,p,n.lng||this.language||r.usedLng,n),u){const f=s.match(this.interpolator.nestingRegexp),x=f&&f.length;h<x&&(n.nest=!1)}!n.lng&&r&&r.res&&(n.lng=this.language||r.usedLng),n.nest!==!1&&(s=this.interpolator.nest(s,(...f)=>i?.[0]===f[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${f[0]} in key: ${a[0]}`),null):this.translate(...f,a),n)),n.interpolation&&this.interpolator.reset()}const l=n.postProcess||this.options.postProcess,d=Ot(l)?[l]:l;return s!=null&&d?.length&&n.applyPostProcessor!==!1&&(s=aT.handle(d,s,a,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),s}resolve(s,a={}){let n,r,i,l,d;return Ot(s)&&(s=[s]),s.forEach(u=>{if(this.isValidLookup(n))return;const h=this.extractFromKey(u,a),p=h.key;r=p;let f=h.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const x=a.count!==void 0&&!Ot(a.count),v=x&&!a.ordinal&&a.count===0,j=a.context!==void 0&&(Ot(a.context)||typeof a.context=="number")&&a.context!=="",w=a.lngs?a.lngs:this.languageUtils.toResolveHierarchy(a.lng||this.language,a.fallbackLng);f.forEach(_=>{this.isValidLookup(n)||(d=_,!m2[`${w[0]}-${_}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(d)&&(m2[`${w[0]}-${_}`]=!0,this.logger.warn(`key "${r}" for languages "${w.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),w.forEach(N=>{if(this.isValidLookup(n))return;l=N;const k=[p];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(k,p,N,_,a);else{let T;x&&(T=this.pluralResolver.getSuffix(N,a.count,a));const E=`${this.options.pluralSeparator}zero`,G=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(x&&(a.ordinal&&T.indexOf(G)===0&&k.push(p+T.replace(G,this.options.pluralSeparator)),k.push(p+T),v&&k.push(p+E)),j){const A=`${p}${this.options.contextSeparator||"_"}${a.context}`;k.push(A),x&&(a.ordinal&&T.indexOf(G)===0&&k.push(A+T.replace(G,this.options.pluralSeparator)),k.push(A+T),v&&k.push(A+E))}}let D;for(;D=k.pop();)this.isValidLookup(n)||(i=D,n=this.getResource(N,_,D,a))}))})}),{res:n,usedKey:r,exactUsedKey:i,usedLng:l,usedNS:d}}isValidLookup(s){return s!==void 0&&!(!this.options.returnNull&&s===null)&&!(!this.options.returnEmptyString&&s==="")}getResource(s,a,n,r={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(s,a,n,r):this.resourceStore.getResource(s,a,n,r)}getUsedParamsDetails(s={}){const a=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=s.replace&&!Ot(s.replace);let r=n?s.replace:s;if(n&&typeof s.count<"u"&&(r.count=s.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!n){r={...r};for(const i of a)delete r[i]}return r}static hasDefaultValue(s){const a="defaultValue";for(const n in s)if(Object.prototype.hasOwnProperty.call(s,n)&&a===n.substring(0,a.length)&&s[n]!==void 0)return!0;return!1}}class f2{constructor(s){this.options=s,this.supportedLngs=this.options.supportedLngs||!1,this.logger=fi.create("languageUtils")}getScriptPartFromCode(s){if(s=Jh(s),!s||s.indexOf("-")<0)return null;const a=s.split("-");return a.length===2||(a.pop(),a[a.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(a.join("-"))}getLanguagePartFromCode(s){if(s=Jh(s),!s||s.indexOf("-")<0)return s;const a=s.split("-");return this.formatLanguageCode(a[0])}formatLanguageCode(s){if(Ot(s)&&s.indexOf("-")>-1){let a;try{a=Intl.getCanonicalLocales(s)[0]}catch{}return a&&this.options.lowerCaseLng&&(a=a.toLowerCase()),a||(this.options.lowerCaseLng?s.toLowerCase():s)}return this.options.cleanCode||this.options.lowerCaseLng?s.toLowerCase():s}isSupportedCode(s){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(s=this.getLanguagePartFromCode(s)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(s)>-1}getBestMatchFromCodes(s){if(!s)return null;let a;return s.forEach(n=>{if(a)return;const r=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(r))&&(a=r)}),!a&&this.options.supportedLngs&&s.forEach(n=>{if(a)return;const r=this.getScriptPartFromCode(n);if(this.isSupportedCode(r))return a=r;const i=this.getLanguagePartFromCode(n);if(this.isSupportedCode(i))return a=i;a=this.options.supportedLngs.find(l=>{if(l===i)return l;if(!(l.indexOf("-")<0&&i.indexOf("-")<0)&&(l.indexOf("-")>0&&i.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===i||l.indexOf(i)===0&&i.length>1))return l})}),a||(a=this.getFallbackCodes(this.options.fallbackLng)[0]),a}getFallbackCodes(s,a){if(!s)return[];if(typeof s=="function"&&(s=s(a)),Ot(s)&&(s=[s]),Array.isArray(s))return s;if(!a)return s.default||[];let n=s[a];return n||(n=s[this.getScriptPartFromCode(a)]),n||(n=s[this.formatLanguageCode(a)]),n||(n=s[this.getLanguagePartFromCode(a)]),n||(n=s.default),n||[]}toResolveHierarchy(s,a){const n=this.getFallbackCodes((a===!1?[]:a)||this.options.fallbackLng||[],s),r=[],i=l=>{l&&(this.isSupportedCode(l)?r.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return Ot(s)&&(s.indexOf("-")>-1||s.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(s)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(s)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(s))):Ot(s)&&i(this.formatLanguageCode(s)),n.forEach(l=>{r.indexOf(l)<0&&i(this.formatLanguageCode(l))}),r}}const p2={zero:0,one:1,two:2,few:3,many:4,other:5},g2={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class l8{constructor(s,a={}){this.languageUtils=s,this.options=a,this.logger=fi.create("pluralResolver"),this.pluralRulesCache={}}addRule(s,a){this.rules[s]=a}clearCache(){this.pluralRulesCache={}}getRule(s,a={}){const n=Jh(s==="dev"?"en":s),r=a.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:n,type:r});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let l;try{l=new Intl.PluralRules(n,{type:r})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),g2;if(!s.match(/-|_/))return g2;const u=this.languageUtils.getLanguagePartFromCode(s);l=this.getRule(u,a)}return this.pluralRulesCache[i]=l,l}needsPlural(s,a={}){let n=this.getRule(s,a);return n||(n=this.getRule("dev",a)),n?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(s,a,n={}){return this.getSuffixes(s,n).map(r=>`${a}${r}`)}getSuffixes(s,a={}){let n=this.getRule(s,a);return n||(n=this.getRule("dev",a)),n?n.resolvedOptions().pluralCategories.sort((r,i)=>p2[r]-p2[i]).map(r=>`${this.options.prepend}${a.ordinal?`ordinal${this.options.prepend}`:""}${r}`):[]}getSuffix(s,a,n={}){const r=this.getRule(s,n);return r?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${r.select(a)}`:(this.logger.warn(`no plural rule found for: ${s}`),this.getSuffix("dev",a,n))}}const x2=(t,s,a,n=".",r=!0)=>{let i=J6(t,s,a);return!i&&r&&Ot(a)&&(i=Nv(t,a,n),i===void 0&&(i=Nv(s,a,n))),i},ib=t=>t.replace(/\$/g,"$$$$");class y2{constructor(s={}){this.logger=fi.create("interpolator"),this.options=s,this.format=s?.interpolation?.format||(a=>a),this.init(s)}init(s={}){s.interpolation||(s.interpolation={escapeValue:!0});const{escape:a,escapeValue:n,useRawValueToEscape:r,prefix:i,prefixEscaped:l,suffix:d,suffixEscaped:u,formatSeparator:h,unescapeSuffix:p,unescapePrefix:f,nestingPrefix:x,nestingPrefixEscaped:v,nestingSuffix:j,nestingSuffixEscaped:w,nestingOptionsSeparator:_,maxReplaces:N,alwaysFormat:k}=s.interpolation;this.escape=a!==void 0?a:t8,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=r!==void 0?r:!1,this.prefix=i?Nd(i):l||"{{",this.suffix=d?Nd(d):u||"}}",this.formatSeparator=h||",",this.unescapePrefix=p?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":p||"",this.nestingPrefix=x?Nd(x):v||Nd("$t("),this.nestingSuffix=j?Nd(j):w||Nd(")"),this.nestingOptionsSeparator=_||",",this.maxReplaces=N||1e3,this.alwaysFormat=k!==void 0?k:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const s=(a,n)=>a?.source===n?(a.lastIndex=0,a):new RegExp(n,"g");this.regexp=s(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=s(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=s(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(s,a,n,r){let i,l,d;const u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=v=>{if(v.indexOf(this.formatSeparator)<0){const N=x2(a,u,v,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(N,void 0,n,{...r,...a,interpolationkey:v}):N}const j=v.split(this.formatSeparator),w=j.shift().trim(),_=j.join(this.formatSeparator).trim();return this.format(x2(a,u,w,this.options.keySeparator,this.options.ignoreJSONStructure),_,n,{...r,...a,interpolationkey:w})};this.resetRegExp();const p=r?.missingInterpolationHandler||this.options.missingInterpolationHandler,f=r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:v=>ib(v)},{regex:this.regexp,safeValue:v=>this.escapeValue?ib(this.escape(v)):ib(v)}].forEach(v=>{for(d=0;i=v.regex.exec(s);){const j=i[1].trim();if(l=h(j),l===void 0)if(typeof p=="function"){const _=p(s,i,r);l=Ot(_)?_:""}else if(r&&Object.prototype.hasOwnProperty.call(r,j))l="";else if(f){l=i[0];continue}else this.logger.warn(`missed to pass in variable ${j} for interpolating ${s}`),l="";else!Ot(l)&&!this.useRawValueToEscape&&(l=l2(l));const w=v.safeValue(l);if(s=s.replace(i[0],w),f?(v.regex.lastIndex+=l.length,v.regex.lastIndex-=i[0].length):v.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),s}nest(s,a,n={}){let r,i,l;const d=(u,h)=>{const p=this.nestingOptionsSeparator;if(u.indexOf(p)<0)return u;const f=u.split(new RegExp(`${p}[ ]*{`));let x=`{${f[1]}`;u=f[0],x=this.interpolate(x,l);const v=x.match(/'/g),j=x.match(/"/g);((v?.length??0)%2===0&&!j||j.length%2!==0)&&(x=x.replace(/'/g,'"'));try{l=JSON.parse(x),h&&(l={...h,...l})}catch(w){return this.logger.warn(`failed parsing options string in nesting for key ${u}`,w),`${u}${p}${x}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,u};for(;r=this.nestingRegexp.exec(s);){let u=[];l={...n},l=l.replace&&!Ot(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;const h=/{.*}/.test(r[1])?r[1].lastIndexOf("}")+1:r[1].indexOf(this.formatSeparator);if(h!==-1&&(u=r[1].slice(h).split(this.formatSeparator).map(p=>p.trim()).filter(Boolean),r[1]=r[1].slice(0,h)),i=a(d.call(this,r[1].trim(),l),l),i&&r[0]===s&&!Ot(i))return i;Ot(i)||(i=l2(i)),i||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${s}`),i=""),u.length&&(i=u.reduce((p,f)=>this.format(p,f,n.lng,{...n,interpolationkey:r[1].trim()}),i.trim())),s=s.replace(r[0],i),this.regexp.lastIndex=0}return s}}const c8=t=>{let s=t.toLowerCase().trim();const a={};if(t.indexOf("(")>-1){const n=t.split("(");s=n[0].toLowerCase().trim();const r=n[1].substring(0,n[1].length-1);s==="currency"&&r.indexOf(":")<0?a.currency||(a.currency=r.trim()):s==="relativetime"&&r.indexOf(":")<0?a.range||(a.range=r.trim()):r.split(";").forEach(l=>{if(l){const[d,...u]=l.split(":"),h=u.join(":").trim().replace(/^'+|'+$/g,""),p=d.trim();a[p]||(a[p]=h),h==="false"&&(a[p]=!1),h==="true"&&(a[p]=!0),isNaN(h)||(a[p]=parseInt(h,10))}})}return{formatName:s,formatOptions:a}},b2=t=>{const s={};return(a,n,r)=>{let i=r;r&&r.interpolationkey&&r.formatParams&&r.formatParams[r.interpolationkey]&&r[r.interpolationkey]&&(i={...i,[r.interpolationkey]:void 0});const l=n+JSON.stringify(i);let d=s[l];return d||(d=t(Jh(n),r),s[l]=d),d(a)}},d8=t=>(s,a,n)=>t(Jh(a),n)(s);class u8{constructor(s={}){this.logger=fi.create("formatter"),this.options=s,this.init(s)}init(s,a={interpolation:{}}){this.formatSeparator=a.interpolation.formatSeparator||",";const n=a.cacheInBuiltFormats?b2:d8;this.formats={number:n((r,i)=>{const l=new Intl.NumberFormat(r,{...i});return d=>l.format(d)}),currency:n((r,i)=>{const l=new Intl.NumberFormat(r,{...i,style:"currency"});return d=>l.format(d)}),datetime:n((r,i)=>{const l=new Intl.DateTimeFormat(r,{...i});return d=>l.format(d)}),relativetime:n((r,i)=>{const l=new Intl.RelativeTimeFormat(r,{...i});return d=>l.format(d,i.range||"day")}),list:n((r,i)=>{const l=new Intl.ListFormat(r,{...i});return d=>l.format(d)})}}add(s,a){this.formats[s.toLowerCase().trim()]=a}addCached(s,a){this.formats[s.toLowerCase().trim()]=b2(a)}format(s,a,n,r={}){const i=a.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(d=>d.indexOf(")")>-1)){const d=i.findIndex(u=>u.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,d)].join(this.formatSeparator)}return i.reduce((d,u)=>{const{formatName:h,formatOptions:p}=c8(u);if(this.formats[h]){let f=d;try{const x=r?.formatParams?.[r.interpolationkey]||{},v=x.locale||x.lng||r.locale||r.lng||n;f=this.formats[h](d,v,{...p,...r,...x})}catch(x){this.logger.warn(x)}return f}else this.logger.warn(`there was no format function for ${h}`);return d},s)}}const h8=(t,s)=>{t.pending[s]!==void 0&&(delete t.pending[s],t.pendingCount--)};class m8 extends ex{constructor(s,a,n,r={}){super(),this.backend=s,this.store=a,this.services=n,this.languageUtils=n.languageUtils,this.options=r,this.logger=fi.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(n,r.backend,r)}queueLoad(s,a,n,r){const i={},l={},d={},u={};return s.forEach(h=>{let p=!0;a.forEach(f=>{const x=`${h}|${f}`;!n.reload&&this.store.hasResourceBundle(h,f)?this.state[x]=2:this.state[x]<0||(this.state[x]===1?l[x]===void 0&&(l[x]=!0):(this.state[x]=1,p=!1,l[x]===void 0&&(l[x]=!0),i[x]===void 0&&(i[x]=!0),u[f]===void 0&&(u[f]=!0)))}),p||(d[h]=!0)}),(Object.keys(i).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(i),pending:Object.keys(l),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(u)}}loaded(s,a,n){const r=s.split("|"),i=r[0],l=r[1];a&&this.emit("failedLoading",i,l,a),!a&&n&&this.store.addResourceBundle(i,l,n,void 0,void 0,{skipCopy:!0}),this.state[s]=a?-1:2,a&&n&&(this.state[s]=0);const d={};this.queue.forEach(u=>{Z6(u.loaded,[i],l),h8(u,s),a&&u.errors.push(a),u.pendingCount===0&&!u.done&&(Object.keys(u.loaded).forEach(h=>{d[h]||(d[h]={});const p=u.loaded[h];p.length&&p.forEach(f=>{d[h][f]===void 0&&(d[h][f]=!0)})}),u.done=!0,u.errors.length?u.callback(u.errors):u.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(u=>!u.done)}read(s,a,n,r=0,i=this.retryTimeout,l){if(!s.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:s,ns:a,fcName:n,tried:r,wait:i,callback:l});return}this.readingCalls++;const d=(h,p)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(h&&p&&r<this.maxRetries){setTimeout(()=>{this.read.call(this,s,a,n,r+1,i*2,l)},i);return}l(h,p)},u=this.backend[n].bind(this.backend);if(u.length===2){try{const h=u(s,a);h&&typeof h.then=="function"?h.then(p=>d(null,p)).catch(d):d(null,h)}catch(h){d(h)}return}return u(s,a,d)}prepareLoading(s,a,n={},r){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();Ot(s)&&(s=this.languageUtils.toResolveHierarchy(s)),Ot(a)&&(a=[a]);const i=this.queueLoad(s,a,n,r);if(!i.toLoad.length)return i.pending.length||r(),null;i.toLoad.forEach(l=>{this.loadOne(l)})}load(s,a,n){this.prepareLoading(s,a,{},n)}reload(s,a,n){this.prepareLoading(s,a,{reload:!0},n)}loadOne(s,a=""){const n=s.split("|"),r=n[0],i=n[1];this.read(r,i,"read",void 0,void 0,(l,d)=>{l&&this.logger.warn(`${a}loading namespace ${i} for language ${r} failed`,l),!l&&d&&this.logger.log(`${a}loaded namespace ${i} for language ${r}`,d),this.loaded(s,l,d)})}saveMissing(s,a,n,r,i,l={},d=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(a)){this.logger.warn(`did not save key "${n}" as the namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend?.create){const u={...l,isUpdate:i},h=this.backend.create.bind(this.backend);if(h.length<6)try{let p;h.length===5?p=h(s,a,n,r,u):p=h(s,a,n,r),p&&typeof p.then=="function"?p.then(f=>d(null,f)).catch(d):d(null,p)}catch(p){d(p)}else h(s,a,n,r,d,u)}!s||!s[0]||this.store.addResource(s[0],a,n,r)}}}const v2=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let s={};if(typeof t[1]=="object"&&(s=t[1]),Ot(t[1])&&(s.defaultValue=t[1]),Ot(t[2])&&(s.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const a=t[3]||t[2];Object.keys(a).forEach(n=>{s[n]=a[n]})}return s},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),j2=t=>(Ot(t.ns)&&(t.ns=[t.ns]),Ot(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),Ot(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),dp=()=>{},f8=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(a=>{typeof t[a]=="function"&&(t[a]=t[a].bind(t))})};class Uh extends ex{constructor(s={},a){if(super(),this.options=j2(s),this.services={},this.logger=fi,this.modules={external:[]},f8(this),a&&!this.isInitialized&&!s.isClone){if(!this.options.initAsync)return this.init(s,a),this;setTimeout(()=>{this.init(s,a)},0)}}init(s={},a){this.isInitializing=!0,typeof s=="function"&&(a=s,s={}),s.defaultNS==null&&s.ns&&(Ot(s.ns)?s.defaultNS=s.ns:s.ns.indexOf("translation")<0&&(s.defaultNS=s.ns[0]));const n=v2();this.options={...n,...this.options,...j2(s)},this.options.interpolation={...n.interpolation,...this.options.interpolation},s.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=s.keySeparator),s.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=s.nsSeparator);const r=h=>h?typeof h=="function"?new h:h:null;if(!this.options.isClone){this.modules.logger?fi.init(r(this.modules.logger),this.options):fi.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:h=u8;const p=new f2(this.options);this.store=new h2(this.options.resources,this.options);const f=this.services;f.logger=fi,f.resourceStore=this.store,f.languageUtils=p,f.pluralResolver=new l8(p,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),h&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(f.formatter=r(h),f.formatter.init&&f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new y2(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new m8(r(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",(v,...j)=>{this.emit(v,...j)}),this.modules.languageDetector&&(f.languageDetector=r(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=r(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new mg(this.services,this.options),this.translator.on("*",(v,...j)=>{this.emit(v,...j)}),this.modules.external.forEach(v=>{v.init&&v.init(this)})}if(this.format=this.options.interpolation.format,a||(a=dp),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=(...p)=>this.store[h](...p)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=(...p)=>(this.store[h](...p),this)});const d=jh(),u=()=>{const h=(p,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(f),a(p,f)};if(this.languages&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initAsync?u():setTimeout(u,0),d}loadResources(s,a=dp){let n=a;const r=Ot(s)?s:this.language;if(typeof s=="function"&&(n=s),!this.options.resources||this.options.partialBundledLanguages){if(r?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const i=[],l=d=>{if(!d||d==="cimode")return;this.services.languageUtils.toResolveHierarchy(d).forEach(h=>{h!=="cimode"&&i.indexOf(h)<0&&i.push(h)})};r?l(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>l(u)),this.options.preload?.forEach?.(d=>l(d)),this.services.backendConnector.load(i,this.options.ns,d=>{!d&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(d)})}else n(null)}reloadResources(s,a,n){const r=jh();return typeof s=="function"&&(n=s,s=void 0),typeof a=="function"&&(n=a,a=void 0),s||(s=this.languages),a||(a=this.options.ns),n||(n=dp),this.services.backendConnector.reload(s,a,i=>{r.resolve(),n(i)}),r}use(s){if(!s)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!s.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return s.type==="backend"&&(this.modules.backend=s),(s.type==="logger"||s.log&&s.warn&&s.error)&&(this.modules.logger=s),s.type==="languageDetector"&&(this.modules.languageDetector=s),s.type==="i18nFormat"&&(this.modules.i18nFormat=s),s.type==="postProcessor"&&aT.addPostProcessor(s),s.type==="formatter"&&(this.modules.formatter=s),s.type==="3rdParty"&&this.modules.external.push(s),this}setResolvedLanguage(s){if(!(!s||!this.languages)&&!(["cimode","dev"].indexOf(s)>-1)){for(let a=0;a<this.languages.length;a++){const n=this.languages[a];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(s)<0&&this.store.hasLanguageSomeTranslations(s)&&(this.resolvedLanguage=s,this.languages.unshift(s))}}changeLanguage(s,a){this.isLanguageChangingTo=s;const n=jh();this.emit("languageChanging",s);const r=d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},i=(d,u)=>{u?this.isLanguageChangingTo===s&&(r(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,n.resolve((...h)=>this.t(...h)),a&&a(d,(...h)=>this.t(...h))},l=d=>{!s&&!d&&this.services.languageDetector&&(d=[]);const u=Ot(d)?d:d&&d[0],h=this.store.hasLanguageSomeTranslations(u)?u:this.services.languageUtils.getBestMatchFromCodes(Ot(d)?[d]:d);h&&(this.language||r(h),this.translator.language||this.translator.changeLanguage(h),this.services.languageDetector?.cacheUserLanguage?.(h)),this.loadResources(h,p=>{i(p,h)})};return!s&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!s&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(s),n}getFixedT(s,a,n){const r=(i,l,...d)=>{let u;typeof l!="object"?u=this.options.overloadTranslationOptionHandler([i,l].concat(d)):u={...l},u.lng=u.lng||r.lng,u.lngs=u.lngs||r.lngs,u.ns=u.ns||r.ns,u.keyPrefix!==""&&(u.keyPrefix=u.keyPrefix||n||r.keyPrefix);const h=this.options.keySeparator||".";let p;return u.keyPrefix&&Array.isArray(i)?p=i.map(f=>(typeof f=="function"&&(f=_v(f,{...this.options,...l})),`${u.keyPrefix}${h}${f}`)):(typeof i=="function"&&(i=_v(i,{...this.options,...l})),p=u.keyPrefix?`${u.keyPrefix}${h}${i}`:i),this.t(p,u)};return Ot(s)?r.lng=s:r.lngs=s,r.ns=a,r.keyPrefix=n,r}t(...s){return this.translator?.translate(...s)}exists(...s){return this.translator?.exists(...s)}setDefaultNamespace(s){this.options.defaultNS=s}hasLoadedNamespace(s,a={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=a.lng||this.resolvedLanguage||this.languages[0],r=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const l=(d,u)=>{const h=this.services.backendConnector.state[`${d}|${u}`];return h===-1||h===0||h===2};if(a.precheck){const d=a.precheck(this,l);if(d!==void 0)return d}return!!(this.hasResourceBundle(n,s)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(n,s)&&(!r||l(i,s)))}loadNamespaces(s,a){const n=jh();return this.options.ns?(Ot(s)&&(s=[s]),s.forEach(r=>{this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}),this.loadResources(r=>{n.resolve(),a&&a(r)}),n):(a&&a(),Promise.resolve())}loadLanguages(s,a){const n=jh();Ot(s)&&(s=[s]);const r=this.options.preload||[],i=s.filter(l=>r.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return i.length?(this.options.preload=r.concat(i),this.loadResources(l=>{n.resolve(),a&&a(l)}),n):(a&&a(),Promise.resolve())}dir(s){if(s||(s=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!s)return"rtl";try{const r=new Intl.Locale(s);if(r&&r.getTextInfo){const i=r.getTextInfo();if(i&&i.direction)return i.direction}}catch{}const a=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services?.languageUtils||new f2(v2());return s.toLowerCase().indexOf("-latn")>1?"ltr":a.indexOf(n.getLanguagePartFromCode(s))>-1||s.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(s={},a){const n=new Uh(s,a);return n.createInstance=Uh.createInstance,n}cloneInstance(s={},a=dp){const n=s.forkResourceStore;n&&delete s.forkResourceStore;const r={...this.options,...s,isClone:!0},i=new Uh(r);if((s.debug!==void 0||s.prefix!==void 0)&&(i.logger=i.logger.clone(s)),["store","services","language"].forEach(d=>{i[d]=this[d]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},n){const d=Object.keys(this.store.data).reduce((u,h)=>(u[h]={...this.store.data[h]},u[h]=Object.keys(u[h]).reduce((p,f)=>(p[f]={...u[h][f]},p),u[h]),u),{});i.store=new h2(d,r),i.services.resourceStore=i.store}return s.interpolation&&(i.services.interpolator=new y2(r)),i.translator=new mg(i.services,r),i.translator.on("*",(d,...u)=>{i.emit(d,...u)}),i.init(r,a),i.translator.options=r,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const gn=Uh.createInstance();gn.createInstance;gn.dir;gn.init;gn.loadResources;gn.reloadResources;gn.use;gn.changeLanguage;gn.getFixedT;gn.t;gn.exists;gn.setDefaultNamespace;gn.hasLoadedNamespace;gn.loadNamespaces;gn.loadLanguages;const p8=(t,s,a,n)=>{const r=[a,{code:s,...n||{}}];if(t?.services?.logger?.forward)return t.services.logger.forward(r,"warn","react-i18next::",!0);Dc(r[0])&&(r[0]=`react-i18next:: ${r[0]}`),t?.services?.logger?.warn?t.services.logger.warn(...r):console?.warn&&console.warn(...r)},w2={},rT=(t,s,a,n)=>{Dc(a)&&w2[a]||(Dc(a)&&(w2[a]=new Date),p8(t,s,a,n))},iT=(t,s)=>()=>{if(t.isInitialized)s();else{const a=()=>{setTimeout(()=>{t.off("initialized",a)},0),s()};t.on("initialized",a)}},Cv=(t,s,a)=>{t.loadNamespaces(s,iT(t,a))},N2=(t,s,a,n)=>{if(Dc(a)&&(a=[a]),t.options.preload&&t.options.preload.indexOf(s)>-1)return Cv(t,a,n);a.forEach(r=>{t.options.ns.indexOf(r)<0&&t.options.ns.push(r)}),t.loadLanguages(s,iT(t,n))},g8=(t,s,a={})=>!s.languages||!s.languages.length?(rT(s,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:s.languages}),!0):s.hasLoadedNamespace(t,{lng:a.lng,precheck:(n,r)=>{if(a.bindI18n&&a.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!r(n.isLanguageChangingTo,t))return!1}}),Dc=t=>typeof t=="string",x8=t=>typeof t=="object"&&t!==null,y8=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,b8={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},v8=t=>b8[t],j8=t=>t.replace(y8,v8);let kv={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:j8};const w8=(t={})=>{kv={...kv,...t}},N8=()=>kv;let oT;const _8=t=>{oT=t},C8=()=>oT,k8={type:"3rdParty",init(t){w8(t.options.react),_8(t)}},S8=y.createContext();class A8{constructor(){this.usedNamespaces={}}addUsedNamespaces(s){s.forEach(a=>{this.usedNamespaces[a]||(this.usedNamespaces[a]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var ob={exports:{}},lb={};var _2;function T8(){if(_2)return lb;_2=1;var t=wm();function s(f,x){return f===x&&(f!==0||1/f===1/x)||f!==f&&x!==x}var a=typeof Object.is=="function"?Object.is:s,n=t.useState,r=t.useEffect,i=t.useLayoutEffect,l=t.useDebugValue;function d(f,x){var v=x(),j=n({inst:{value:v,getSnapshot:x}}),w=j[0].inst,_=j[1];return i(function(){w.value=v,w.getSnapshot=x,u(w)&&_({inst:w})},[f,v,x]),r(function(){return u(w)&&_({inst:w}),f(function(){u(w)&&_({inst:w})})},[f]),l(v),v}function u(f){var x=f.getSnapshot;f=f.value;try{var v=x();return!a(f,v)}catch{return!0}}function h(f,x){return x()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return lb.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,lb}var C2;function D8(){return C2||(C2=1,ob.exports=T8()),ob.exports}var E8=D8();const R8=(t,s)=>Dc(s)?s:x8(s)&&Dc(s.defaultValue)?s.defaultValue:Array.isArray(t)?t[t.length-1]:t,M8={t:R8,ready:!1},P8=()=>()=>{},O8=(t,s={})=>{const{i18n:a}=s,{i18n:n,defaultNS:r}=y.useContext(S8)||{},i=a||n||C8();i&&!i.reportNamespaces&&(i.reportNamespaces=new A8),i||rT(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const l=y.useMemo(()=>({...N8(),...i?.options?.react,...s}),[i,s]),{useSuspense:d,keyPrefix:u}=l,h=r||i?.options?.defaultNS,p=Dc(h)?[h]:h||["translation"],f=y.useMemo(()=>p,p);i?.reportNamespaces?.addUsedNamespaces?.(f);const x=y.useRef(0),v=y.useCallback(M=>{if(!i)return P8;const{bindI18n:J,bindI18nStore:R}=l,ee=()=>{x.current+=1,M()};return J&&i.on(J,ee),R&&i.store.on(R,ee),()=>{J&&J.split(" ").forEach(Y=>i.off(Y,ee)),R&&R.split(" ").forEach(Y=>i.store.off(Y,ee))}},[i,l]),j=y.useRef(),w=y.useCallback(()=>{if(!i)return M8;const M=!!(i.isInitialized||i.initializedStoreOnce)&&f.every(te=>g8(te,i,l)),J=s.lng||i.language,R=x.current,ee=j.current;if(ee&&ee.ready===M&&ee.lng===J&&ee.keyPrefix===u&&ee.revision===R)return ee;const re={t:i.getFixedT(J,l.nsMode==="fallback"?f:f[0],u),ready:M,lng:J,keyPrefix:u,revision:R};return j.current=re,re},[i,f,u,l,s.lng]),[_,N]=y.useState(0),{t:k,ready:D}=E8.useSyncExternalStore(v,w,w);y.useEffect(()=>{if(i&&!D&&!d){const M=()=>N(J=>J+1);s.lng?N2(i,s.lng,f,M):Cv(i,f,M)}},[i,s.lng,f,D,d,_]);const T=i||{},E=y.useRef(null),G=y.useRef(),A=M=>{const J=Object.getOwnPropertyDescriptors(M);J.__original&&delete J.__original;const R=Object.create(Object.getPrototypeOf(M),J);if(!Object.prototype.hasOwnProperty.call(R,"__original"))try{Object.defineProperty(R,"__original",{value:M,writable:!1,enumerable:!1,configurable:!1})}catch{}return R},F=y.useMemo(()=>{const M=T,J=M?.language;let R=M;M&&(E.current&&E.current.__original===M?G.current!==J?(R=A(M),E.current=R,G.current=J):R=E.current:(R=A(M),E.current=R,G.current=J));const ee=[k,R,D];return ee.t=k,ee.i18n=R,ee.ready=D,ee},[k,T,D,T.resolvedLanguage,T.language,T.languages]);if(i&&d&&!D)throw new Promise(M=>{const J=()=>M();s.lng?N2(i,s.lng,f,J):Cv(i,f,J)});return F},{slice:L8,forEach:B8}=[];function F8(t){return B8.call(L8.call(arguments,1),s=>{if(s)for(const a in s)t[a]===void 0&&(t[a]=s[a])}),t}function I8(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(a=>a.test(t))}const k2=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,$8=function(t,s){const n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},r=encodeURIComponent(s);let i=`${t}=${r}`;if(n.maxAge>0){const l=n.maxAge-0;if(Number.isNaN(l))throw new Error("maxAge should be a Number");i+=`; Max-Age=${Math.floor(l)}`}if(n.domain){if(!k2.test(n.domain))throw new TypeError("option domain is invalid");i+=`; Domain=${n.domain}`}if(n.path){if(!k2.test(n.path))throw new TypeError("option path is invalid");i+=`; Path=${n.path}`}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");i+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(i+="; HttpOnly"),n.secure&&(i+="; Secure"),n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(i+="; Partitioned"),i},S2={create(t,s,a,n){let r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};a&&(r.expires=new Date,r.expires.setTime(r.expires.getTime()+a*60*1e3)),n&&(r.domain=n),document.cookie=$8(t,s,r)},read(t){const s=`${t}=`,a=document.cookie.split(";");for(let n=0;n<a.length;n++){let r=a[n];for(;r.charAt(0)===" ";)r=r.substring(1,r.length);if(r.indexOf(s)===0)return r.substring(s.length,r.length)}return null},remove(t,s){this.create(t,"",-1,s)}};var z8={name:"cookie",lookup(t){let{lookupCookie:s}=t;if(s&&typeof document<"u")return S2.read(s)||void 0},cacheUserLanguage(t,s){let{lookupCookie:a,cookieMinutes:n,cookieDomain:r,cookieOptions:i}=s;a&&typeof document<"u"&&S2.create(a,t,n,r,i)}},V8={name:"querystring",lookup(t){let{lookupQuerystring:s}=t,a;if(typeof window<"u"){let{search:n}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));const i=n.substring(1).split("&");for(let l=0;l<i.length;l++){const d=i[l].indexOf("=");d>0&&i[l].substring(0,d)===s&&(a=i[l].substring(d+1))}}return a}},U8={name:"hash",lookup(t){let{lookupHash:s,lookupFromHashIndex:a}=t,n;if(typeof window<"u"){const{hash:r}=window.location;if(r&&r.length>2){const i=r.substring(1);if(s){const l=i.split("&");for(let d=0;d<l.length;d++){const u=l[d].indexOf("=");u>0&&l[d].substring(0,u)===s&&(n=l[d].substring(u+1))}}if(n)return n;if(!n&&a>-1){const l=r.match(/\/([a-zA-Z-]*)/g);return Array.isArray(l)?l[typeof a=="number"?a:0]?.replace("/",""):void 0}}}return n}};let _d=null;const A2=()=>{if(_d!==null)return _d;try{if(_d=typeof window<"u"&&window.localStorage!==null,!_d)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{_d=!1}return _d};var H8={name:"localStorage",lookup(t){let{lookupLocalStorage:s}=t;if(s&&A2())return window.localStorage.getItem(s)||void 0},cacheUserLanguage(t,s){let{lookupLocalStorage:a}=s;a&&A2()&&window.localStorage.setItem(a,t)}};let Cd=null;const T2=()=>{if(Cd!==null)return Cd;try{if(Cd=typeof window<"u"&&window.sessionStorage!==null,!Cd)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Cd=!1}return Cd};var q8={name:"sessionStorage",lookup(t){let{lookupSessionStorage:s}=t;if(s&&T2())return window.sessionStorage.getItem(s)||void 0},cacheUserLanguage(t,s){let{lookupSessionStorage:a}=s;a&&T2()&&window.sessionStorage.setItem(a,t)}},G8={name:"navigator",lookup(t){const s=[];if(typeof navigator<"u"){const{languages:a,userLanguage:n,language:r}=navigator;if(a)for(let i=0;i<a.length;i++)s.push(a[i]);n&&s.push(n),r&&s.push(r)}return s.length>0?s:void 0}},W8={name:"htmlTag",lookup(t){let{htmlTag:s}=t,a;const n=s||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(a=n.getAttribute("lang")),a}},Y8={name:"path",lookup(t){let{lookupFromPathIndex:s}=t;if(typeof window>"u")return;const a=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(a)?a[typeof s=="number"?s:0]?.replace("/",""):void 0}},K8={name:"subdomain",lookup(t){let{lookupFromSubdomainIndex:s}=t;const a=typeof s=="number"?s+1:1,n=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[a]}};let lT=!1;try{document.cookie,lT=!0}catch{}const cT=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];lT||cT.splice(1,1);const X8=()=>({order:cT,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class dT{constructor(s){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(s,a)}init(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=s,this.options=F8(a,this.options||{},X8()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=r=>r.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(z8),this.addDetector(V8),this.addDetector(H8),this.addDetector(q8),this.addDetector(G8),this.addDetector(W8),this.addDetector(Y8),this.addDetector(K8),this.addDetector(U8)}addDetector(s){return this.detectors[s.name]=s,this}detect(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,a=[];return s.forEach(n=>{if(this.detectors[n]){let r=this.detectors[n].lookup(this.options);r&&typeof r=="string"&&(r=[r]),r&&(a=a.concat(r))}}),a=a.filter(n=>n!=null&&!I8(n)).map(n=>this.options.convertDetectedLanguage(n)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?a:a.length>0?a[0]:null}cacheUserLanguage(s){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;a&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(s)>-1||a.forEach(n=>{this.detectors[n]&&this.detectors[n].cacheUserLanguage(s,this.options)}))}}dT.type="languageDetector";const Q8={name:"RENTO",tagline:"Your premium car rental experience"},Z8={home:"Home",browseCars:"Browse Cars",about:"About",contact:"Contact",favorites:"Favorites",logout:"Logout",lightMode:"Light Mode",darkMode:"Dark Mode",myAccount:"My Account"},J8={badge:"Premium Car Rental Service",title:"Experience Luxury",titleAccent:"On Every Journey",description:"Discover Lebanons 10,000+ premium cars  the only platform with full search and filters.",searchBtn:"Search Available Cars",location:"Location",pickupDate:"Pickup Date",returnDate:"Return Date"},eB={customers:"Happy Customers",vehicles:"Luxury Vehicles",experience:"Years Experience",satisfaction:"Satisfaction Rate"},tB={badge:"Our Fleet",title:"Featured Luxury Vehicles",description:"Explore our handpicked selection of premium vehicles, ready to elevate your driving experience",viewAll:"View All Vehicles"},sB={badge:"Why Choose Us",title:"Premium Service, Unforgettable Experience",description:"We're committed to providing exceptional service and the finest vehicles for your journey",insurance:{title:"Premium Insurance",description:"Comprehensive coverage included with every rental for your peace of mind"},support:{title:"24/7 Support",description:"Round-the-clock customer service to assist you whenever you need"},price:{title:"Best Price Guarantee",description:"Competitive rates with no hidden fees or surprises"},fleet:{title:"Premium Fleet",description:"Exclusive selection of luxury and high-performance vehicles"}},aB={badge:"Testimonials",title:"What Our Customers Say",description:"Real experiences from our valued customers who trust us for their luxury car needs"},nB={title:"Ready to Experience Luxury?",description:"Book your dream car today and enjoy an unforgettable driving experience",browseFleet:"Browse Our Fleet",contactUs:"Contact Us"},rB={badge:"Browse Fleet",title:"Discover Your Perfect Ride",description:"Explore our premium collection of {{count}} luxury vehicles",showing:"Showing",vehicles:"vehicles",sortBy:"Sort by:",featured:"Featured",priceLow:"Price: Low to High",priceHigh:"Price: High to Low",rating:"Highest Rated",popular:"Most Popular",filters:"Filters",reset:"Reset",search:"Search",brand:"Brand",vehicleType:"Vehicle Type",transmission:"Transmission",priceRange:"Price Range",allBrands:"All Brands",allTypes:"All Types",all:"All",perDay:"/day",viewDetails:"View Details",noResults:"No vehicles found",tryAdjusting:"Try adjusting your filters to see more results",resetFilters:"Reset Filters"},iB={backToCars:"Back to Cars",rentalPrice:"Rental Price",bookNow:"Book Now",specifications:"Specifications",seats:"Seats",people:"People",fuelType:"Fuel Type",features:"Features & Amenities",reviews:"reviews"},oB={title:"Book {{car}}",description:"Fill in your details to complete the booking. We'll contact you to confirm.",fullName:"Full Name",email:"Email",phone:"Phone Number",pickupLocation:"Pickup Location",pickupDate:"Pickup Date",returnDate:"Return Date",dailyRate:"Daily Rate",duration:"Duration",day:"day",days:"days",totalPrice:"Total Price",confirmBooking:"Confirm Booking",success:"Booking confirmed for {{car}}! We'll contact you shortly."},lB={badge:"Favorites",title:"Your Favorite Vehicles",count:"You have {{count}} vehicle in your favorites",count_plural:"You have {{count}} vehicles in your favorites",empty:"No favorites yet. Start exploring our fleet!",emptyTitle:"No Favorites Yet",emptyDescription:"Start adding vehicles to your favorites to keep track of the cars you love. Click the heart icon on any vehicle card to add it here.",browseCars:"Browse Our Fleet"},cB={badge:"About Us",title:"Redefining Luxury Car Rental",description:"For over 15 years, RENTO has been the trusted name in premium vehicle rentals, providing discerning customers with access to the world's finest automobiles.",stats:{years:"Years in Business",customers:"Happy Customers",vehicles:"Premium Vehicles",cities:"Cities Covered"},story:{badge:"Our Story",title:"Passion for Automotive Excellence",p1:"RENTO was born from a simple vision: to make the world's most prestigious vehicles accessible to those who appreciate the finer things in life. Founded in 2008 by automotive enthusiasts, we've grown from a small boutique operation to a leading name in luxury car rentals.",p2:"Every vehicle in our fleet is carefully selected and maintained to the highest standards. We believe that driving a premium vehicle isn't just about transportationit's about experiencing craftsmanship, performance, and luxury in their purest forms.",p3:"Today, we're proud to serve thousands of satisfied customers across 25 cities, offering everything from exotic sports cars to elegant luxury sedans. Our commitment to excellence and customer satisfaction remains as strong as ever."},values:{badge:"Our Values",title:"What Drives Us Forward",description:"Our core values guide every decision we make and every service we provide",customer:{title:"Customer First",description:"Your satisfaction and experience are at the heart of everything we do"},trust:{title:"Trust & Safety",description:"Every vehicle is meticulously maintained and fully insured for your protection"},excellence:{title:"Excellence",description:"We strive for perfection in service quality and vehicle condition"},accessibility:{title:"Accessibility",description:"Premium vehicles available across multiple locations for your convenience"}},team:{badge:"Meet Our Team",title:"The People Behind the Wheels",description:"Our passionate team of automotive experts is dedicated to making your experience exceptional"},cta:{title:"Experience the RENTO Difference",description:"Join thousands of satisfied customers who trust us for their luxury vehicle needs"}},dB={badge:"Contact Us",title:"Get in Touch",description:"Have questions? We're here to help. Reach out to our team for any inquiries about our vehicles or services.",visitUs:"Visit Us",callUs:"Call Us",emailUs:"Email Us",businessHours:"Business Hours",sendMessage:"Send Us a Message",name:"Full Name",email:"Email Address",phone:"Phone Number",subject:"Subject",message:"Message",send:"Send Message",success:"Message sent successfully! We'll get back to you soon.",locations:"Our Locations",faq:{badge:"FAQ",title:"Frequently Asked Questions",description:"Find quick answers to common questions about our services"}},uB={welcome:"Welcome",description:"Sign in to your account or create a new one",login:"Login",register:"Register",email:"Email",password:"Password",confirmPassword:"Confirm Password",fullName:"Full Name",phone:"Phone Number",rememberMe:"Remember me",forgotPassword:"Forgot password?",signIn:"Sign In",createAccount:"Create Account",orContinueWith:"OR CONTINUE WITH",google:"Google",apple:"Apple",continueAsGuest:"Continue as guest",terms:"By continuing, you agree to our",termsOfService:"Terms of Service",and:"and",privacyPolicy:"Privacy Policy",back:"Back",loginSuccess:"Welcome back! Login successful.",registerSuccess:"Account created successfully! Welcome to RENTO.",fillFields:"Please fill in all required fields",passwordMatch:"Passwords do not match",passwordLength:"Password must be at least 6 characters",logoutSuccess:"Logged out successfully"},hB={skip:"Skip",next:"Next",getStarted:"Get Started",of:"of",slides:{fleet:{title:"Premium Luxury Fleet",description:"Access the world's finest vehicles. From sports cars to luxury SUVs, find your perfect ride for any occasion."},safe:{title:"Safe & Secure",description:"Every vehicle is fully insured with comprehensive coverage. Drive with complete peace of mind."},support:{title:"24/7 Support",description:"Our dedicated team is always here to help. Book instantly and get support whenever you need it."},price:{title:"Best Price Guarantee",description:"Competitive rates with no hidden fees. Experience luxury without breaking the bank."}}},mB={from:"From",to:"to",popular:"Popular",sports:"Sports",luxury:"Luxury",electric:"Electric",suv:"SUV",sedan:"Sedan",convertible:"Convertible",automatic:"Automatic",manual:"Manual",petrol:"Petrol",diesel:"Diesel",hybrid:"Hybrid"},fB={brand:Q8,nav:Z8,hero:J8,stats:eB,featured:tB,features:sB,testimonials:aB,cta:nB,cars:rB,carDetail:iB,booking:oB,favorites:lB,about:cB,contact:dB,auth:uB,intro:hB,common:mB},pB={name:"",tagline:"   "},gB={home:"",browseCars:" ",about:" ",contact:" ",favorites:"",logout:" ",lightMode:" ",darkMode:" ",myAccount:""},xB={badge:"   ",title:" ",titleAccent:"  ",description:"    .              .",searchBtn:"   ",location:"",pickupDate:" ",returnDate:" "},yB={customers:" ",vehicles:" ",experience:"  ",satisfaction:" "},bB={badge:"",title:"  ",description:"             ",viewAll:"  "},vB={badge:" ",title:"    ",description:"       ",insurance:{title:" ",description:"       "},support:{title:" 24/7",description:"       "},price:{title:"  ",description:"      "},fleet:{title:" ",description:"      "}},jB={badge:" ",title:"  ",description:"           "},wB={title:"    ",description:"        ",browseFleet:" ",contactUs:" "},NB={badge:" ",title:"  ",description:"    {{count}}  ",showing:"",vehicles:"",sortBy:" :",featured:"",priceLow:":   ",priceHigh:":   ",rating:" ",popular:" ",filters:"",reset:" ",search:"",brand:"",vehicleType:" ",transmission:" ",priceRange:" ",allBrands:" ",allTypes:" ",all:"",perDay:"/",viewDetails:" ",noResults:"    ",tryAdjusting:"      ",resetFilters:"  "},_B={backToCars:" ",rentalPrice:" ",bookNow:" ",specifications:"",seats:"",people:"",fuelType:" ",features:" ",reviews:""},CB={title:" {{car}}",description:"   .   .",fullName:" ",email:" ",phone:" ",pickupLocation:" ",pickupDate:" ",returnDate:" ",dailyRate:" ",duration:"",day:"",days:"",totalPrice:" ",confirmBooking:" ",success:"   {{car}}!   ."},kB={badge:"",title:" ",count:" {{count}}   ",count_plural:" {{count}}   ",empty:"   .   !",emptyTitle:"   ",emptyDescription:"        .          .",browseCars:" "},SB={badge:" ",title:"    ",description:"  15                    .",stats:{years:"  ",customers:" ",vehicles:" ",cities:" "},story:{badge:"",title:"    ",p1:"    :               .    2008               .",p2:"          .          -        .",p3:"        25            .          ."},values:{badge:"",title:"  ",description:"        ",customer:{title:" ",description:"       "},trust:{title:" ",description:"       "},excellence:{title:"",description:"      "},accessibility:{title:" ",description:"      "}},team:{badge:"  ",title:"  ",description:"        "},cta:{title:"  ",description:"           "}},AB={badge:" ",title:"  ",description:"     .         .",visitUs:" ",callUs:" ",emailUs:"",businessHours:" ",sendMessage:"  ",name:" ",email:" ",phone:" ",subject:"",message:"",send:" ",success:"   !   .",locations:"",faq:{badge:" ",title:" ",description:"       "}},TB={welcome:"",description:"       ",login:" ",register:" ",email:" ",password:" ",confirmPassword:"  ",fullName:" ",phone:" ",rememberMe:"",forgotPassword:"  ",signIn:" ",createAccount:" ",orContinueWith:"  ",google:"",apple:"",continueAsGuest:" ",terms:"   ",termsOfService:" ",and:"",privacyPolicy:" ",back:"",loginSuccess:" !    .",registerSuccess:"   !    .",fillFields:"    ",passwordMatch:"   ",passwordLength:"     6   ",logoutSuccess:"   "},DB={skip:"",next:"",getStarted:" ",of:"",slides:{fleet:{title:"  ",description:"     .              ."},safe:{title:" ",description:"      .     ."},support:{title:" 24/7",description:"    .       ."},price:{title:"  ",description:"    .     ."}}},EB={from:"",to:"",popular:"",sports:"",luxury:"",electric:"",suv:" ",sedan:"",convertible:" ",automatic:"",manual:"",petrol:"",diesel:"",hybrid:""},RB={brand:pB,nav:gB,hero:xB,stats:yB,featured:bB,features:vB,testimonials:jB,cta:wB,cars:NB,carDetail:_B,booking:CB,favorites:kB,about:SB,contact:AB,auth:TB,intro:DB,common:EB},MB={en:{translation:fB},ar:{translation:RB}};gn.use(dT).use(k8).init({resources:MB,fallbackLng:"en",lng:localStorage.getItem("language")||"en",interpolation:{escapeValue:!1},react:{useSuspense:!1}});var D2="popstate";function PB(t={}){function s(n,r){let{pathname:i,search:l,hash:d}=n.location;return Sv("",{pathname:i,search:l,hash:d},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function a(n,r){return typeof r=="string"?r:em(r)}return LB(s,a,null,t)}function Zs(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function Sr(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function OB(){return Math.random().toString(36).substring(2,10)}function E2(t,s){return{usr:t.state,key:t.key,idx:s}}function Sv(t,s,a=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof s=="string"?ou(s):s,state:a,key:s&&s.key||n||OB()}}function em({pathname:t="/",search:s="",hash:a=""}){return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function ou(t){let s={};if(t){let a=t.indexOf("#");a>=0&&(s.hash=t.substring(a),t=t.substring(0,a));let n=t.indexOf("?");n>=0&&(s.search=t.substring(n),t=t.substring(0,n)),t&&(s.pathname=t)}return s}function LB(t,s,a,n={}){let{window:r=document.defaultView,v5Compat:i=!1}=n,l=r.history,d="POP",u=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function f(){d="POP";let _=p(),N=_==null?null:_-h;h=_,u&&u({action:d,location:w.location,delta:N})}function x(_,N){d="PUSH";let k=Sv(w.location,_,N);h=p()+1;let D=E2(k,h),T=w.createHref(k);try{l.pushState(D,"",T)}catch(E){if(E instanceof DOMException&&E.name==="DataCloneError")throw E;r.location.assign(T)}i&&u&&u({action:d,location:w.location,delta:1})}function v(_,N){d="REPLACE";let k=Sv(w.location,_,N);h=p();let D=E2(k,h),T=w.createHref(k);l.replaceState(D,"",T),i&&u&&u({action:d,location:w.location,delta:0})}function j(_){return BB(_)}let w={get action(){return d},get location(){return t(r,l)},listen(_){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(D2,f),u=_,()=>{r.removeEventListener(D2,f),u=null}},createHref(_){return s(r,_)},createURL:j,encodeLocation(_){let N=j(_);return{pathname:N.pathname,search:N.search,hash:N.hash}},push:x,replace:v,go(_){return l.go(_)}};return w}function BB(t,s=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),Zs(a,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:em(t);return n=n.replace(/ $/,"%20"),!s&&n.startsWith("//")&&(n=a+n),new URL(n,a)}function uT(t,s,a="/"){return FB(t,s,a,!1)}function FB(t,s,a,n){let r=typeof s=="string"?ou(s):s,i=lo(r.pathname||"/",a);if(i==null)return null;let l=hT(t);IB(l);let d=null;for(let u=0;d==null&&u<l.length;++u){let h=XB(i);d=YB(l[u],h,n)}return d}function hT(t,s=[],a=[],n="",r=!1){let i=(l,d,u=r,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(n)&&u)return;Zs(p.relativePath.startsWith(n),`Absolute route path "${p.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(n.length)}let f=io([n,p.relativePath]),x=a.concat(p);l.children&&l.children.length>0&&(Zs(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),hT(l.children,s,x,f,u)),!(l.path==null&&!l.index)&&s.push({path:f,score:GB(f,l.index),routesMeta:x})};return t.forEach((l,d)=>{if(l.path===""||!l.path?.includes("?"))i(l,d);else for(let u of mT(l.path))i(l,d,!0,u)}),s}function mT(t){let s=t.split("/");if(s.length===0)return[];let[a,...n]=s,r=a.endsWith("?"),i=a.replace(/\?$/,"");if(n.length===0)return r?[i,""]:[i];let l=mT(n.join("/")),d=[];return d.push(...l.map(u=>u===""?i:[i,u].join("/"))),r&&d.push(...l),d.map(u=>t.startsWith("/")&&u===""?"/":u)}function IB(t){t.sort((s,a)=>s.score!==a.score?a.score-s.score:WB(s.routesMeta.map(n=>n.childrenIndex),a.routesMeta.map(n=>n.childrenIndex)))}var $B=/^:[\w-]+$/,zB=3,VB=2,UB=1,HB=10,qB=-2,R2=t=>t==="*";function GB(t,s){let a=t.split("/"),n=a.length;return a.some(R2)&&(n+=qB),s&&(n+=VB),a.filter(r=>!R2(r)).reduce((r,i)=>r+($B.test(i)?zB:i===""?UB:HB),n)}function WB(t,s){return t.length===s.length&&t.slice(0,-1).every((n,r)=>n===s[r])?t[t.length-1]-s[s.length-1]:0}function YB(t,s,a=!1){let{routesMeta:n}=t,r={},i="/",l=[];for(let d=0;d<n.length;++d){let u=n[d],h=d===n.length-1,p=i==="/"?s:s.slice(i.length)||"/",f=fg({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},p),x=u.route;if(!f&&h&&a&&!n[n.length-1].route.index&&(f=fg({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!f)return null;Object.assign(r,f.params),l.push({params:r,pathname:io([i,f.pathname]),pathnameBase:eF(io([i,f.pathnameBase])),route:x}),f.pathnameBase!=="/"&&(i=io([i,f.pathnameBase]))}return l}function fg(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[a,n]=KB(t.path,t.caseSensitive,t.end),r=s.match(a);if(!r)return null;let i=r[0],l=i.replace(/(.)\/+$/,"$1"),d=r.slice(1);return{params:n.reduce((h,{paramName:p,isOptional:f},x)=>{if(p==="*"){let j=d[x]||"";l=i.slice(0,i.length-j.length).replace(/(.)\/+$/,"$1")}const v=d[x];return f&&!v?h[p]=void 0:h[p]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:l,pattern:t}}function KB(t,s=!1,a=!0){Sr(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,u)=>(n.push({paramName:d,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,s?void 0:"i"),n]}function XB(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return Sr(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${s}).`),t}}function lo(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let a=s.endsWith("/")?s.length-1:s.length,n=t.charAt(a);return n&&n!=="/"?null:t.slice(a)||"/"}var fT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,QB=t=>fT.test(t);function ZB(t,s="/"){let{pathname:a,search:n="",hash:r=""}=typeof t=="string"?ou(t):t,i;if(a)if(QB(a))i=a;else{if(a.includes("//")){let l=a;a=a.replace(/\/\/+/g,"/"),Sr(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${a}`)}a.startsWith("/")?i=M2(a.substring(1),"/"):i=M2(a,s)}else i=s;return{pathname:i,search:tF(n),hash:sF(r)}}function M2(t,s){let a=s.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?a.length>1&&a.pop():r!=="."&&a.push(r)}),a.length>1?a.join("/"):"/"}function cb(t,s,a,n){return`Cannot include a '${t}' character in a manually specified \`to.${s}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function JB(t){return t.filter((s,a)=>a===0||s.route.path&&s.route.path.length>0)}function Lj(t){let s=JB(t);return s.map((a,n)=>n===s.length-1?a.pathname:a.pathnameBase)}function Bj(t,s,a,n=!1){let r;typeof t=="string"?r=ou(t):(r={...t},Zs(!r.pathname||!r.pathname.includes("?"),cb("?","pathname","search",r)),Zs(!r.pathname||!r.pathname.includes("#"),cb("#","pathname","hash",r)),Zs(!r.search||!r.search.includes("#"),cb("#","search","hash",r)));let i=t===""||r.pathname==="",l=i?"/":r.pathname,d;if(l==null)d=a;else{let f=s.length-1;if(!n&&l.startsWith("..")){let x=l.split("/");for(;x[0]==="..";)x.shift(),f-=1;r.pathname=x.join("/")}d=f>=0?s[f]:"/"}let u=ZB(r,d),h=l&&l!=="/"&&l.endsWith("/"),p=(i||l===".")&&a.endsWith("/");return!u.pathname.endsWith("/")&&(h||p)&&(u.pathname+="/"),u}var io=t=>t.join("/").replace(/\/\/+/g,"/"),eF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),tF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,sF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,aF=class{constructor(t,s,a,n=!1){this.status=t,this.statusText=s||"",this.internal=n,a instanceof Error?(this.data=a.toString(),this.error=a):this.data=a}};function nF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function rF(t){return t.map(s=>s.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var pT=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function gT(t,s){let a=t;if(typeof a!="string"||!fT.test(a))return{absoluteURL:void 0,isExternal:!1,to:a};let n=a,r=!1;if(pT)try{let i=new URL(window.location.href),l=a.startsWith("//")?new URL(i.protocol+a):new URL(a),d=lo(l.pathname,s);l.origin===i.origin&&d!=null?a=d+l.search+l.hash:r=!0}catch{Sr(!1,`<Link to="${a}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:r,to:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var xT=["POST","PUT","PATCH","DELETE"];new Set(xT);var iF=["GET",...xT];new Set(iF);var lu=y.createContext(null);lu.displayName="DataRouter";var tx=y.createContext(null);tx.displayName="DataRouterState";var oF=y.createContext(!1),yT=y.createContext({isTransitioning:!1});yT.displayName="ViewTransition";var lF=y.createContext(new Map);lF.displayName="Fetchers";var cF=y.createContext(null);cF.displayName="Await";var ar=y.createContext(null);ar.displayName="Navigation";var Nm=y.createContext(null);Nm.displayName="Location";var Ar=y.createContext({outlet:null,matches:[],isDataRoute:!1});Ar.displayName="Route";var Fj=y.createContext(null);Fj.displayName="RouteError";var bT="REACT_ROUTER_ERROR",dF="REDIRECT",uF="ROUTE_ERROR_RESPONSE";function hF(t){if(t.startsWith(`${bT}:${dF}:{`))try{let s=JSON.parse(t.slice(28));if(typeof s=="object"&&s&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.location=="string"&&typeof s.reloadDocument=="boolean"&&typeof s.replace=="boolean")return s}catch{}}function mF(t){if(t.startsWith(`${bT}:${uF}:{`))try{let s=JSON.parse(t.slice(40));if(typeof s=="object"&&s&&typeof s.status=="number"&&typeof s.statusText=="string")return new aF(s.status,s.statusText,s.data)}catch{}}function fF(t,{relative:s}={}){Zs(cu(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:n}=y.useContext(ar),{hash:r,pathname:i,search:l}=_m(t,{relative:s}),d=i;return a!=="/"&&(d=i==="/"?a:io([a,i])),n.createHref({pathname:d,search:l,hash:r})}function cu(){return y.useContext(Nm)!=null}function Tr(){return Zs(cu(),"useLocation() may be used only in the context of a <Router> component."),y.useContext(Nm).location}var vT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function jT(t){y.useContext(ar).static||y.useLayoutEffect(t)}function Ua(){let{isDataRoute:t}=y.useContext(Ar);return t?DF():pF()}function pF(){Zs(cu(),"useNavigate() may be used only in the context of a <Router> component.");let t=y.useContext(lu),{basename:s,navigator:a}=y.useContext(ar),{matches:n}=y.useContext(Ar),{pathname:r}=Tr(),i=JSON.stringify(Lj(n)),l=y.useRef(!1);return jT(()=>{l.current=!0}),y.useCallback((u,h={})=>{if(Sr(l.current,vT),!l.current)return;if(typeof u=="number"){a.go(u);return}let p=Bj(u,JSON.parse(i),r,h.relative==="path");t==null&&s!=="/"&&(p.pathname=p.pathname==="/"?s:io([s,p.pathname])),(h.replace?a.replace:a.push)(p,h.state,h)},[s,a,i,r,t])}var gF=y.createContext(null);function xF(t){let s=y.useContext(Ar).outlet;return y.useMemo(()=>s&&y.createElement(gF.Provider,{value:t},s),[s,t])}function yF(){let{matches:t}=y.useContext(Ar),s=t[t.length-1];return s?s.params:{}}function _m(t,{relative:s}={}){let{matches:a}=y.useContext(Ar),{pathname:n}=Tr(),r=JSON.stringify(Lj(a));return y.useMemo(()=>Bj(t,JSON.parse(r),n,s==="path"),[t,r,n,s])}function bF(t,s){return wT(t,s)}function wT(t,s,a,n,r){Zs(cu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=y.useContext(ar),{matches:l}=y.useContext(Ar),d=l[l.length-1],u=d?d.params:{},h=d?d.pathname:"/",p=d?d.pathnameBase:"/",f=d&&d.route;{let k=f&&f.path||"";_T(h,!f||k.endsWith("*")||k.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${k}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${k}"> to <Route path="${k==="/"?"*":`${k}/*`}">.`)}let x=Tr(),v;if(s){let k=typeof s=="string"?ou(s):s;Zs(p==="/"||k.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${k.pathname}" was given in the \`location\` prop.`),v=k}else v=x;let j=v.pathname||"/",w=j;if(p!=="/"){let k=p.replace(/^\//,"").split("/");w="/"+j.replace(/^\//,"").split("/").slice(k.length).join("/")}let _=uT(t,{pathname:w});Sr(f||_!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Sr(_==null||_[_.length-1].route.element!==void 0||_[_.length-1].route.Component!==void 0||_[_.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let N=_F(_&&_.map(k=>Object.assign({},k,{params:Object.assign({},u,k.params),pathname:io([p,i.encodeLocation?i.encodeLocation(k.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?p:io([p,i.encodeLocation?i.encodeLocation(k.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:k.pathnameBase])})),l,a,n,r);return s&&N?y.createElement(Nm.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},N):N}function vF(){let t=TF(),s=nF(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),a=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=y.createElement(y.Fragment,null,y.createElement("p",null," Hey developer "),y.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",y.createElement("code",{style:i},"ErrorBoundary")," or"," ",y.createElement("code",{style:i},"errorElement")," prop on your route.")),y.createElement(y.Fragment,null,y.createElement("h2",null,"Unexpected Application Error!"),y.createElement("h3",{style:{fontStyle:"italic"}},s),a?y.createElement("pre",{style:r},a):null,l)}var jF=y.createElement(vF,null),NT=class extends y.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){this.props.onError?this.props.onError(t,s):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const a=mF(t.digest);a&&(t=a)}let s=t!==void 0?y.createElement(Ar.Provider,{value:this.props.routeContext},y.createElement(Fj.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?y.createElement(wF,{error:t},s):s}};NT.contextType=oF;var db=new WeakMap;function wF({children:t,error:s}){let{basename:a}=y.useContext(ar);if(typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){let n=hF(s.digest);if(n){let r=db.get(s);if(r)throw r;let i=gT(n.location,a);if(pT&&!db.get(s))if(i.isExternal||n.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:n.replace}));throw db.set(s,l),l}return y.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return t}function NF({routeContext:t,match:s,children:a}){let n=y.useContext(lu);return n&&n.static&&n.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=s.route.id),y.createElement(Ar.Provider,{value:t},a)}function _F(t,s=[],a=null,n=null,r=null){if(t==null){if(!a)return null;if(a.errors)t=a.matches;else if(s.length===0&&!a.initialized&&a.matches.length>0)t=a.matches;else return null}let i=t,l=a?.errors;if(l!=null){let p=i.findIndex(f=>f.route.id&&l?.[f.route.id]!==void 0);Zs(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,p+1))}let d=!1,u=-1;if(a)for(let p=0;p<i.length;p++){let f=i[p];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=p),f.route.id){let{loaderData:x,errors:v}=a,j=f.route.loader&&!x.hasOwnProperty(f.route.id)&&(!v||v[f.route.id]===void 0);if(f.route.lazy||j){d=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}let h=a&&n?(p,f)=>{n(p,{location:a.location,params:a.matches?.[0]?.params??{},unstable_pattern:rF(a.matches),errorInfo:f})}:void 0;return i.reduceRight((p,f,x)=>{let v,j=!1,w=null,_=null;a&&(v=l&&f.route.id?l[f.route.id]:void 0,w=f.route.errorElement||jF,d&&(u<0&&x===0?(_T("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,_=null):u===x&&(j=!0,_=f.route.hydrateFallbackElement||null)));let N=s.concat(i.slice(0,x+1)),k=()=>{let D;return v?D=w:j?D=_:f.route.Component?D=y.createElement(f.route.Component,null):f.route.element?D=f.route.element:D=p,y.createElement(NF,{match:f,routeContext:{outlet:p,matches:N,isDataRoute:a!=null},children:D})};return a&&(f.route.ErrorBoundary||f.route.errorElement||x===0)?y.createElement(NT,{location:a.location,revalidation:a.revalidation,component:w,error:v,children:k(),routeContext:{outlet:null,matches:N,isDataRoute:!0},onError:h}):k()},null)}function Ij(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function CF(t){let s=y.useContext(lu);return Zs(s,Ij(t)),s}function kF(t){let s=y.useContext(tx);return Zs(s,Ij(t)),s}function SF(t){let s=y.useContext(Ar);return Zs(s,Ij(t)),s}function $j(t){let s=SF(t),a=s.matches[s.matches.length-1];return Zs(a.route.id,`${t} can only be used on routes that contain a unique "id"`),a.route.id}function AF(){return $j("useRouteId")}function TF(){let t=y.useContext(Fj),s=kF("useRouteError"),a=$j("useRouteError");return t!==void 0?t:s.errors?.[a]}function DF(){let{router:t}=CF("useNavigate"),s=$j("useNavigate"),a=y.useRef(!1);return jT(()=>{a.current=!0}),y.useCallback(async(r,i={})=>{Sr(a.current,vT),a.current&&(typeof r=="number"?await t.navigate(r):await t.navigate(r,{fromRouteId:s,...i}))},[t,s])}var P2={};function _T(t,s,a){!s&&!P2[t]&&(P2[t]=!0,Sr(!1,a))}y.memo(EF);function EF({routes:t,future:s,state:a,onError:n}){return wT(t,void 0,a,n,s)}function oo({to:t,replace:s,state:a,relative:n}){Zs(cu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=y.useContext(ar);Sr(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=y.useContext(Ar),{pathname:l}=Tr(),d=Ua(),u=Bj(t,Lj(i),l,n==="path"),h=JSON.stringify(u);return y.useEffect(()=>{d(JSON.parse(h),{replace:s,state:a,relative:n})},[d,h,n,s,a]),null}function RF(t){return xF(t.context)}function Mt(t){Zs(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function MF({basename:t="/",children:s=null,location:a,navigationType:n="POP",navigator:r,static:i=!1,unstable_useTransitions:l}){Zs(!cu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),u=y.useMemo(()=>({basename:d,navigator:r,static:i,unstable_useTransitions:l,future:{}}),[d,r,i,l]);typeof a=="string"&&(a=ou(a));let{pathname:h="/",search:p="",hash:f="",state:x=null,key:v="default"}=a,j=y.useMemo(()=>{let w=lo(h,d);return w==null?null:{location:{pathname:w,search:p,hash:f,state:x,key:v},navigationType:n}},[d,h,p,f,x,v,n]);return Sr(j!=null,`<Router basename="${d}"> is not able to match the URL "${h}${p}${f}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:y.createElement(ar.Provider,{value:u},y.createElement(Nm.Provider,{children:s,value:j}))}function PF({children:t,location:s}){return bF(Av(t),s)}function Av(t,s=[]){let a=[];return y.Children.forEach(t,(n,r)=>{if(!y.isValidElement(n))return;let i=[...s,r];if(n.type===y.Fragment){a.push.apply(a,Av(n.props.children,i));return}Zs(n.type===Mt,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Zs(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Av(n.props.children,i)),a.push(l)}),a}var Kp="get",Xp="application/x-www-form-urlencoded";function sx(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function OF(t){return sx(t)&&t.tagName.toLowerCase()==="button"}function LF(t){return sx(t)&&t.tagName.toLowerCase()==="form"}function BF(t){return sx(t)&&t.tagName.toLowerCase()==="input"}function FF(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function IF(t,s){return t.button===0&&(!s||s==="_self")&&!FF(t)}var up=null;function $F(){if(up===null)try{new FormData(document.createElement("form"),0),up=!1}catch{up=!0}return up}var zF=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ub(t){return t!=null&&!zF.has(t)?(Sr(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xp}"`),null):t}function VF(t,s){let a,n,r,i,l;if(LF(t)){let d=t.getAttribute("action");n=d?lo(d,s):null,a=t.getAttribute("method")||Kp,r=ub(t.getAttribute("enctype"))||Xp,i=new FormData(t)}else if(OF(t)||BF(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||d.getAttribute("action");if(n=u?lo(u,s):null,a=t.getAttribute("formmethod")||d.getAttribute("method")||Kp,r=ub(t.getAttribute("formenctype"))||ub(d.getAttribute("enctype"))||Xp,i=new FormData(d,t),!$F()){let{name:h,type:p,value:f}=t;if(p==="image"){let x=h?`${h}.`:"";i.append(`${x}x`,"0"),i.append(`${x}y`,"0")}else h&&i.append(h,f)}}else{if(sx(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=Kp,n=null,r=Xp,l=t}return i&&r==="text/plain"&&(l=i,i=void 0),{action:n,method:a.toLowerCase(),encType:r,formData:i,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function zj(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function UF(t,s,a,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return a?r.pathname.endsWith("/")?r.pathname=`${r.pathname}_.${n}`:r.pathname=`${r.pathname}.${n}`:r.pathname==="/"?r.pathname=`_root.${n}`:s&&lo(r.pathname,s)==="/"?r.pathname=`${s.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function HF(t,s){if(t.id in s)return s[t.id];try{let a=await import(t.module);return s[t.id]=a,a}catch(a){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function qF(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function GF(t,s,a){let n=await Promise.all(t.map(async r=>{let i=s.routes[r.route.id];if(i){let l=await HF(i,a);return l.links?l.links():[]}return[]}));return XF(n.flat(1).filter(qF).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function O2(t,s,a,n,r,i){let l=(u,h)=>a[h]?u.route.id!==a[h].route.id:!0,d=(u,h)=>a[h].pathname!==u.pathname||a[h].route.path?.endsWith("*")&&a[h].params["*"]!==u.params["*"];return i==="assets"?s.filter((u,h)=>l(u,h)||d(u,h)):i==="data"?s.filter((u,h)=>{let p=n.routes[u.route.id];if(!p||!p.hasLoader)return!1;if(l(u,h)||d(u,h))return!0;if(u.route.shouldRevalidate){let f=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function WF(t,s,{includeHydrateFallback:a}={}){return YF(t.map(n=>{let r=s.routes[n.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),a&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function YF(t){return[...new Set(t)]}function KF(t){let s={},a=Object.keys(t).sort();for(let n of a)s[n]=t[n];return s}function XF(t,s){let a=new Set;return new Set(s),t.reduce((n,r)=>{let i=JSON.stringify(KF(r));return a.has(i)||(a.add(i),n.push({key:i,link:r})),n},[])}function CT(){let t=y.useContext(lu);return zj(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function QF(){let t=y.useContext(tx);return zj(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Vj=y.createContext(void 0);Vj.displayName="FrameworkContext";function kT(){let t=y.useContext(Vj);return zj(t,"You must render this element inside a <HydratedRouter> element"),t}function ZF(t,s){let a=y.useContext(Vj),[n,r]=y.useState(!1),[i,l]=y.useState(!1),{onFocus:d,onBlur:u,onMouseEnter:h,onMouseLeave:p,onTouchStart:f}=s,x=y.useRef(null);y.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let w=N=>{N.forEach(k=>{l(k.isIntersecting)})},_=new IntersectionObserver(w,{threshold:.5});return x.current&&_.observe(x.current),()=>{_.disconnect()}}},[t]),y.useEffect(()=>{if(n){let w=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(w)}}},[n]);let v=()=>{r(!0)},j=()=>{r(!1),l(!1)};return a?t!=="intent"?[i,x,{}]:[i,x,{onFocus:wh(d,v),onBlur:wh(u,j),onMouseEnter:wh(h,v),onMouseLeave:wh(p,j),onTouchStart:wh(f,v)}]:[!1,x,{}]}function wh(t,s){return a=>{t&&t(a),a.defaultPrevented||s(a)}}function JF({page:t,...s}){let{router:a}=CT(),n=y.useMemo(()=>uT(a.routes,t,a.basename),[a.routes,t,a.basename]);return n?y.createElement(t9,{page:t,matches:n,...s}):null}function e9(t){let{manifest:s,routeModules:a}=kT(),[n,r]=y.useState([]);return y.useEffect(()=>{let i=!1;return GF(t,s,a).then(l=>{i||r(l)}),()=>{i=!0}},[t,s,a]),n}function t9({page:t,matches:s,...a}){let n=Tr(),{future:r,manifest:i,routeModules:l}=kT(),{basename:d}=CT(),{loaderData:u,matches:h}=QF(),p=y.useMemo(()=>O2(t,s,h,i,n,"data"),[t,s,h,i,n]),f=y.useMemo(()=>O2(t,s,h,i,n,"assets"),[t,s,h,i,n]),x=y.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let w=new Set,_=!1;if(s.forEach(k=>{let D=i.routes[k.route.id];!D||!D.hasLoader||(!p.some(T=>T.route.id===k.route.id)&&k.route.id in u&&l[k.route.id]?.shouldRevalidate||D.hasClientLoader?_=!0:w.add(k.route.id))}),w.size===0)return[];let N=UF(t,d,r.unstable_trailingSlashAwareDataRequests,"data");return _&&w.size>0&&N.searchParams.set("_routes",s.filter(k=>w.has(k.route.id)).map(k=>k.route.id).join(",")),[N.pathname+N.search]},[d,r.unstable_trailingSlashAwareDataRequests,u,n,i,p,s,t,l]),v=y.useMemo(()=>WF(f,i),[f,i]),j=e9(f);return y.createElement(y.Fragment,null,x.map(w=>y.createElement("link",{key:w,rel:"prefetch",as:"fetch",href:w,...a})),v.map(w=>y.createElement("link",{key:w,rel:"modulepreload",href:w,...a})),j.map(({key:w,link:_})=>y.createElement("link",{key:w,nonce:a.nonce,..._})))}function s9(...t){return s=>{t.forEach(a=>{typeof a=="function"?a(s):a!=null&&(a.current=s)})}}var a9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{a9&&(window.__reactRouterVersion="7.12.0")}catch{}function n9({basename:t,children:s,unstable_useTransitions:a,window:n}){let r=y.useRef();r.current==null&&(r.current=PB({window:n,v5Compat:!0}));let i=r.current,[l,d]=y.useState({action:i.action,location:i.location}),u=y.useCallback(h=>{a===!1?d(h):y.startTransition(()=>d(h))},[a]);return y.useLayoutEffect(()=>i.listen(u),[i,u]),y.createElement(MF,{basename:t,children:s,location:l.location,navigationType:l.action,navigator:i,unstable_useTransitions:a})}var ST=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ts=y.forwardRef(function({onClick:s,discover:a="render",prefetch:n="none",relative:r,reloadDocument:i,replace:l,state:d,target:u,to:h,preventScrollReset:p,viewTransition:f,unstable_defaultShouldRevalidate:x,...v},j){let{basename:w,unstable_useTransitions:_}=y.useContext(ar),N=typeof h=="string"&&ST.test(h),k=gT(h,w);h=k.to;let D=fF(h,{relative:r}),[T,E,G]=ZF(n,v),A=o9(h,{replace:l,state:d,target:u,preventScrollReset:p,relative:r,viewTransition:f,unstable_defaultShouldRevalidate:x,unstable_useTransitions:_});function F(J){s&&s(J),J.defaultPrevented||A(J)}let M=y.createElement("a",{...v,...G,href:k.absoluteURL||D,onClick:k.isExternal||i?s:F,ref:s9(j,E),target:u,"data-discover":!N&&a==="render"?"true":void 0});return T&&!N?y.createElement(y.Fragment,null,M,y.createElement(JF,{page:D})):M});Ts.displayName="Link";var AT=y.forwardRef(function({"aria-current":s="page",caseSensitive:a=!1,className:n="",end:r=!1,style:i,to:l,viewTransition:d,children:u,...h},p){let f=_m(l,{relative:h.relative}),x=Tr(),v=y.useContext(tx),{navigator:j,basename:w}=y.useContext(ar),_=v!=null&&h9(f)&&d===!0,N=j.encodeLocation?j.encodeLocation(f).pathname:f.pathname,k=x.pathname,D=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;a||(k=k.toLowerCase(),D=D?D.toLowerCase():null,N=N.toLowerCase()),D&&w&&(D=lo(D,w)||D);const T=N!=="/"&&N.endsWith("/")?N.length-1:N.length;let E=k===N||!r&&k.startsWith(N)&&k.charAt(T)==="/",G=D!=null&&(D===N||!r&&D.startsWith(N)&&D.charAt(N.length)==="/"),A={isActive:E,isPending:G,isTransitioning:_},F=E?s:void 0,M;typeof n=="function"?M=n(A):M=[n,E?"active":null,G?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let J=typeof i=="function"?i(A):i;return y.createElement(Ts,{...h,"aria-current":F,className:M,ref:p,style:J,to:l,viewTransition:d},typeof u=="function"?u(A):u)});AT.displayName="NavLink";var r9=y.forwardRef(({discover:t="render",fetcherKey:s,navigate:a,reloadDocument:n,replace:r,state:i,method:l=Kp,action:d,onSubmit:u,relative:h,preventScrollReset:p,viewTransition:f,unstable_defaultShouldRevalidate:x,...v},j)=>{let{unstable_useTransitions:w}=y.useContext(ar),_=d9(),N=u9(d,{relative:h}),k=l.toLowerCase()==="get"?"get":"post",D=typeof d=="string"&&ST.test(d),T=E=>{if(u&&u(E),E.defaultPrevented)return;E.preventDefault();let G=E.nativeEvent.submitter,A=G?.getAttribute("formmethod")||l,F=()=>_(G||E.currentTarget,{fetcherKey:s,method:A,navigate:a,replace:r,state:i,relative:h,preventScrollReset:p,viewTransition:f,unstable_defaultShouldRevalidate:x});w&&a!==!1?y.startTransition(()=>F()):F()};return y.createElement("form",{ref:j,method:k,action:N,onSubmit:n?u:T,...v,"data-discover":!D&&t==="render"?"true":void 0})});r9.displayName="Form";function i9(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TT(t){let s=y.useContext(lu);return Zs(s,i9(t)),s}function o9(t,{target:s,replace:a,state:n,preventScrollReset:r,relative:i,viewTransition:l,unstable_defaultShouldRevalidate:d,unstable_useTransitions:u}={}){let h=Ua(),p=Tr(),f=_m(t,{relative:i});return y.useCallback(x=>{if(IF(x,s)){x.preventDefault();let v=a!==void 0?a:em(p)===em(f),j=()=>h(t,{replace:v,state:n,preventScrollReset:r,relative:i,viewTransition:l,unstable_defaultShouldRevalidate:d});u?y.startTransition(()=>j()):j()}},[p,h,f,a,n,s,t,r,i,l,d,u])}var l9=0,c9=()=>`__${String(++l9)}__`;function d9(){let{router:t}=TT("useSubmit"),{basename:s}=y.useContext(ar),a=AF(),n=t.fetch,r=t.navigate;return y.useCallback(async(i,l={})=>{let{action:d,method:u,encType:h,formData:p,body:f}=VF(i,s);if(l.navigate===!1){let x=l.fetcherKey||c9();await n(x,a,l.action||d,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:f,formMethod:l.method||u,formEncType:l.encType||h,flushSync:l.flushSync})}else await r(l.action||d,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:f,formMethod:l.method||u,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:a,flushSync:l.flushSync,viewTransition:l.viewTransition})},[n,r,s,a])}function u9(t,{relative:s}={}){let{basename:a}=y.useContext(ar),n=y.useContext(Ar);Zs(n,"useFormAction must be used inside a RouteContext");let[r]=n.matches.slice(-1),i={..._m(t||".",{relative:s})},l=Tr();if(t==null){i.search=l.search;let d=new URLSearchParams(i.search),u=d.getAll("index");if(u.some(p=>p==="")){d.delete("index"),u.filter(f=>f).forEach(f=>d.append("index",f));let p=d.toString();i.search=p?`?${p}`:""}}return(!t||t===".")&&r.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(i.pathname=i.pathname==="/"?a:io([a,i.pathname])),em(i)}function h9(t,{relative:s}={}){let a=y.useContext(yT);Zs(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=TT("useViewTransitionState"),r=_m(t,{relative:s});if(!a.isTransitioning)return!1;let i=lo(a.currentLocation.pathname,n)||a.currentLocation.pathname,l=lo(a.nextLocation.pathname,n)||a.nextLocation.pathname;return fg(r.pathname,l)!=null||fg(r.pathname,i)!=null}var Cm=eT();const DT=Jg(Cm);var m9=(t,s,a,n,r,i,l,d)=>{let u=document.documentElement,h=["light","dark"];function p(v){(Array.isArray(t)?t:[t]).forEach(j=>{let w=j==="class",_=w&&i?r.map(N=>i[N]||N):r;w?(u.classList.remove(..._),u.classList.add(i&&i[v]?i[v]:v)):u.setAttribute(j,v)}),f(v)}function f(v){d&&h.includes(v)&&(u.style.colorScheme=v)}function x(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)p(n);else try{let v=localStorage.getItem(s)||a,j=l&&v==="system"?x():v;p(j)}catch{}},f9=y.createContext(void 0),p9={setTheme:t=>{},themes:[]},g9=()=>{var t;return(t=y.useContext(f9))!=null?t:p9};y.memo(({forcedTheme:t,storageKey:s,attribute:a,enableSystem:n,enableColorScheme:r,defaultTheme:i,value:l,themes:d,nonce:u,scriptProps:h})=>{let p=JSON.stringify([a,s,i,t,d,l,n,r]).slice(1,-1);return y.createElement("script",{...h,suppressHydrationWarning:!0,nonce:typeof window>"u"?u:"",dangerouslySetInnerHTML:{__html:`(${m9.toString()})(${p})`}})});function x9(t){if(typeof document>"u")return;let s=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",s.appendChild(a),a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t))}const y9=t=>{switch(t){case"success":return j9;case"info":return N9;case"warning":return w9;case"error":return _9;default:return null}},b9=Array(12).fill(0),v9=({visible:t,className:s})=>qe.createElement("div",{className:["sonner-loading-wrapper",s].filter(Boolean).join(" "),"data-visible":t},qe.createElement("div",{className:"sonner-spinner"},b9.map((a,n)=>qe.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),j9=qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},qe.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),w9=qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},qe.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),N9=qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},qe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),_9=qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},qe.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),C9=qe.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},qe.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),qe.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),k9=()=>{const[t,s]=qe.useState(document.hidden);return qe.useEffect(()=>{const a=()=>{s(document.hidden)};return document.addEventListener("visibilitychange",a),()=>window.removeEventListener("visibilitychange",a)},[]),t};let Tv=1;class S9{constructor(){this.subscribe=s=>(this.subscribers.push(s),()=>{const a=this.subscribers.indexOf(s);this.subscribers.splice(a,1)}),this.publish=s=>{this.subscribers.forEach(a=>a(s))},this.addToast=s=>{this.publish(s),this.toasts=[...this.toasts,s]},this.create=s=>{var a;const{message:n,...r}=s,i=typeof s?.id=="number"||((a=s.id)==null?void 0:a.length)>0?s.id:Tv++,l=this.toasts.find(u=>u.id===i),d=s.dismissible===void 0?!0:s.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),l?this.toasts=this.toasts.map(u=>u.id===i?(this.publish({...u,...s,id:i,title:n}),{...u,...s,id:i,dismissible:d,title:n}):u):this.addToast({title:n,...r,dismissible:d,id:i}),i},this.dismiss=s=>(s?(this.dismissedToasts.add(s),requestAnimationFrame(()=>this.subscribers.forEach(a=>a({id:s,dismiss:!0})))):this.toasts.forEach(a=>{this.subscribers.forEach(n=>n({id:a.id,dismiss:!0}))}),s),this.message=(s,a)=>this.create({...a,message:s}),this.error=(s,a)=>this.create({...a,message:s,type:"error"}),this.success=(s,a)=>this.create({...a,type:"success",message:s}),this.info=(s,a)=>this.create({...a,type:"info",message:s}),this.warning=(s,a)=>this.create({...a,type:"warning",message:s}),this.loading=(s,a)=>this.create({...a,type:"loading",message:s}),this.promise=(s,a)=>{if(!a)return;let n;a.loading!==void 0&&(n=this.create({...a,promise:s,type:"loading",message:a.loading,description:typeof a.description!="function"?a.description:void 0}));const r=Promise.resolve(s instanceof Function?s():s);let i=n!==void 0,l;const d=r.then(async h=>{if(l=["resolve",h],qe.isValidElement(h))i=!1,this.create({id:n,type:"default",message:h});else if(T9(h)&&!h.ok){i=!1;const f=typeof a.error=="function"?await a.error(`HTTP error! status: ${h.status}`):a.error,x=typeof a.description=="function"?await a.description(`HTTP error! status: ${h.status}`):a.description,j=typeof f=="object"&&!qe.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:x,...j})}else if(h instanceof Error){i=!1;const f=typeof a.error=="function"?await a.error(h):a.error,x=typeof a.description=="function"?await a.description(h):a.description,j=typeof f=="object"&&!qe.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:x,...j})}else if(a.success!==void 0){i=!1;const f=typeof a.success=="function"?await a.success(h):a.success,x=typeof a.description=="function"?await a.description(h):a.description,j=typeof f=="object"&&!qe.isValidElement(f)?f:{message:f};this.create({id:n,type:"success",description:x,...j})}}).catch(async h=>{if(l=["reject",h],a.error!==void 0){i=!1;const p=typeof a.error=="function"?await a.error(h):a.error,f=typeof a.description=="function"?await a.description(h):a.description,v=typeof p=="object"&&!qe.isValidElement(p)?p:{message:p};this.create({id:n,type:"error",description:f,...v})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),a.finally==null||a.finally.call(a)}),u=()=>new Promise((h,p)=>d.then(()=>l[0]==="reject"?p(l[1]):h(l[1])).catch(p));return typeof n!="string"&&typeof n!="number"?{unwrap:u}:Object.assign(n,{unwrap:u})},this.custom=(s,a)=>{const n=a?.id||Tv++;return this.create({jsx:s(n),id:n,...a}),n},this.getActiveToasts=()=>this.toasts.filter(s=>!this.dismissedToasts.has(s.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const En=new S9,A9=(t,s)=>{const a=s?.id||Tv++;return En.addToast({title:t,...s,id:a}),a},T9=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",D9=A9,E9=()=>En.toasts,R9=()=>En.getActiveToasts(),se=Object.assign(D9,{success:En.success,info:En.info,warning:En.warning,error:En.error,custom:En.custom,message:En.message,promise:En.promise,dismiss:En.dismiss,loading:En.loading},{getHistory:E9,getToasts:R9});x9("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function hp(t){return t.label!==void 0}const M9=3,P9="24px",O9="16px",L2=4e3,L9=356,B9=14,F9=45,I9=200;function di(...t){return t.filter(Boolean).join(" ")}function $9(t){const[s,a]=t.split("-"),n=[];return s&&n.push(s),a&&n.push(a),n}const z9=t=>{var s,a,n,r,i,l,d,u,h;const{invert:p,toast:f,unstyled:x,interacting:v,setHeights:j,visibleToasts:w,heights:_,index:N,toasts:k,expanded:D,removeToast:T,defaultRichColors:E,closeButton:G,style:A,cancelButtonStyle:F,actionButtonStyle:M,className:J="",descriptionClassName:R="",duration:ee,position:Y,gap:re,expandByDefault:te,classNames:V,icons:U,closeButtonAriaLabel:H="Close toast"}=t,[L,$]=qe.useState(null),[z,ie]=qe.useState(null),[le,ne]=qe.useState(!1),[fe,Ne]=qe.useState(!1),[ye,Le]=qe.useState(!1),[Se,Ge]=qe.useState(!1),[nt,Ae]=qe.useState(!1),[Ye,Oe]=qe.useState(0),[ft,kt]=qe.useState(0),tt=qe.useRef(f.duration||ee||L2),ps=qe.useRef(null),ys=qe.useRef(null),Fs=N===0,pe=N+1<=w,Ce=f.type,he=f.dismissible!==!1,Ie=f.className||"",ze=f.descriptionClassName||"",rt=qe.useMemo(()=>_.findIndex(bt=>bt.toastId===f.id)||0,[_,f.id]),yt=qe.useMemo(()=>{var bt;return(bt=f.closeButton)!=null?bt:G},[f.closeButton,G]),dt=qe.useMemo(()=>f.duration||ee||L2,[f.duration,ee]),Vt=qe.useRef(0),St=qe.useRef(0),Gt=qe.useRef(0),Us=qe.useRef(null),[ns,gs]=Y.split("-"),pt=qe.useMemo(()=>_.reduce((bt,X,xt)=>xt>=rt?bt:bt+X.height,0),[_,rt]),Ms=k9(),ve=f.invert||p,Xe=Ce==="loading";St.current=qe.useMemo(()=>rt*re+pt,[rt,pt]),qe.useEffect(()=>{tt.current=dt},[dt]),qe.useEffect(()=>{ne(!0)},[]),qe.useEffect(()=>{const bt=ys.current;if(bt){const X=bt.getBoundingClientRect().height;return kt(X),j(xt=>[{toastId:f.id,height:X,position:f.position},...xt]),()=>j(xt=>xt.filter(Hs=>Hs.toastId!==f.id))}},[j,f.id]),qe.useLayoutEffect(()=>{if(!le)return;const bt=ys.current,X=bt.style.height;bt.style.height="auto";const xt=bt.getBoundingClientRect().height;bt.style.height=X,kt(xt),j(Hs=>Hs.find(He=>He.toastId===f.id)?Hs.map(He=>He.toastId===f.id?{...He,height:xt}:He):[{toastId:f.id,height:xt,position:f.position},...Hs])},[le,f.title,f.description,j,f.id,f.jsx,f.action,f.cancel]);const Is=qe.useCallback(()=>{Ne(!0),Oe(St.current),j(bt=>bt.filter(X=>X.toastId!==f.id)),setTimeout(()=>{T(f)},I9)},[f,T,j,St]);qe.useEffect(()=>{if(f.promise&&Ce==="loading"||f.duration===1/0||f.type==="loading")return;let bt;return D||v||Ms?(()=>{if(Gt.current<Vt.current){const Hs=new Date().getTime()-Vt.current;tt.current=tt.current-Hs}Gt.current=new Date().getTime()})():(()=>{tt.current!==1/0&&(Vt.current=new Date().getTime(),bt=setTimeout(()=>{f.onAutoClose==null||f.onAutoClose.call(f,f),Is()},tt.current))})(),()=>clearTimeout(bt)},[D,v,f,Ce,Ms,Is]),qe.useEffect(()=>{f.delete&&(Is(),f.onDismiss==null||f.onDismiss.call(f,f))},[Is,f.delete]);function vs(){var bt;if(U?.loading){var X;return qe.createElement("div",{className:di(V?.loader,f==null||(X=f.classNames)==null?void 0:X.loader,"sonner-loader"),"data-visible":Ce==="loading"},U.loading)}return qe.createElement(v9,{className:di(V?.loader,f==null||(bt=f.classNames)==null?void 0:bt.loader),visible:Ce==="loading"})}const Ha=f.icon||U?.[Ce]||y9(Ce);var Ds,_a;return qe.createElement("li",{tabIndex:0,ref:ys,className:di(J,Ie,V?.toast,f==null||(s=f.classNames)==null?void 0:s.toast,V?.default,V?.[Ce],f==null||(a=f.classNames)==null?void 0:a[Ce]),"data-sonner-toast":"","data-rich-colors":(Ds=f.richColors)!=null?Ds:E,"data-styled":!(f.jsx||f.unstyled||x),"data-mounted":le,"data-promise":!!f.promise,"data-swiped":nt,"data-removed":fe,"data-visible":pe,"data-y-position":ns,"data-x-position":gs,"data-index":N,"data-front":Fs,"data-swiping":ye,"data-dismissible":he,"data-type":Ce,"data-invert":ve,"data-swipe-out":Se,"data-swipe-direction":z,"data-expanded":!!(D||te&&le),"data-testid":f.testId,style:{"--index":N,"--toasts-before":N,"--z-index":k.length-N,"--offset":`${fe?Ye:St.current}px`,"--initial-height":te?"auto":`${ft}px`,...A,...f.style},onDragEnd:()=>{Le(!1),$(null),Us.current=null},onPointerDown:bt=>{bt.button!==2&&(Xe||!he||(ps.current=new Date,Oe(St.current),bt.target.setPointerCapture(bt.pointerId),bt.target.tagName!=="BUTTON"&&(Le(!0),Us.current={x:bt.clientX,y:bt.clientY})))},onPointerUp:()=>{var bt,X,xt;if(Se||!he)return;Us.current=null;const Hs=Number(((bt=ys.current)==null?void 0:bt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),gt=Number(((X=ys.current)==null?void 0:X.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),He=new Date().getTime()-((xt=ps.current)==null?void 0:xt.getTime()),os=L==="x"?Hs:gt,Js=Math.abs(os)/He;if(Math.abs(os)>=F9||Js>.11){Oe(St.current),f.onDismiss==null||f.onDismiss.call(f,f),ie(L==="x"?Hs>0?"right":"left":gt>0?"down":"up"),Is(),Ge(!0);return}else{var Ps,Ca;(Ps=ys.current)==null||Ps.style.setProperty("--swipe-amount-x","0px"),(Ca=ys.current)==null||Ca.style.setProperty("--swipe-amount-y","0px")}Ae(!1),Le(!1),$(null)},onPointerMove:bt=>{var X,xt,Hs;if(!Us.current||!he||((X=window.getSelection())==null?void 0:X.toString().length)>0)return;const He=bt.clientY-Us.current.y,os=bt.clientX-Us.current.x;var Js;const Ps=(Js=t.swipeDirections)!=null?Js:$9(Y);!L&&(Math.abs(os)>1||Math.abs(He)>1)&&$(Math.abs(os)>Math.abs(He)?"x":"y");let Ca={x:0,y:0};const yn=dn=>1/(1.5+Math.abs(dn)/20);if(L==="y"){if(Ps.includes("top")||Ps.includes("bottom"))if(Ps.includes("top")&&He<0||Ps.includes("bottom")&&He>0)Ca.y=He;else{const dn=He*yn(He);Ca.y=Math.abs(dn)<Math.abs(He)?dn:He}}else if(L==="x"&&(Ps.includes("left")||Ps.includes("right")))if(Ps.includes("left")&&os<0||Ps.includes("right")&&os>0)Ca.x=os;else{const dn=os*yn(os);Ca.x=Math.abs(dn)<Math.abs(os)?dn:os}(Math.abs(Ca.x)>0||Math.abs(Ca.y)>0)&&Ae(!0),(xt=ys.current)==null||xt.style.setProperty("--swipe-amount-x",`${Ca.x}px`),(Hs=ys.current)==null||Hs.style.setProperty("--swipe-amount-y",`${Ca.y}px`)}},yt&&!f.jsx&&Ce!=="loading"?qe.createElement("button",{"aria-label":H,"data-disabled":Xe,"data-close-button":!0,onClick:Xe||!he?()=>{}:()=>{Is(),f.onDismiss==null||f.onDismiss.call(f,f)},className:di(V?.closeButton,f==null||(n=f.classNames)==null?void 0:n.closeButton)},(_a=U?.close)!=null?_a:C9):null,(Ce||f.icon||f.promise)&&f.icon!==null&&(U?.[Ce]!==null||f.icon)?qe.createElement("div",{"data-icon":"",className:di(V?.icon,f==null||(r=f.classNames)==null?void 0:r.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||vs():null,f.type!=="loading"?Ha:null):null,qe.createElement("div",{"data-content":"",className:di(V?.content,f==null||(i=f.classNames)==null?void 0:i.content)},qe.createElement("div",{"data-title":"",className:di(V?.title,f==null||(l=f.classNames)==null?void 0:l.title)},f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title),f.description?qe.createElement("div",{"data-description":"",className:di(R,ze,V?.description,f==null||(d=f.classNames)==null?void 0:d.description)},typeof f.description=="function"?f.description():f.description):null),qe.isValidElement(f.cancel)?f.cancel:f.cancel&&hp(f.cancel)?qe.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||F,onClick:bt=>{hp(f.cancel)&&he&&(f.cancel.onClick==null||f.cancel.onClick.call(f.cancel,bt),Is())},className:di(V?.cancelButton,f==null||(u=f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,qe.isValidElement(f.action)?f.action:f.action&&hp(f.action)?qe.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||M,onClick:bt=>{hp(f.action)&&(f.action.onClick==null||f.action.onClick.call(f.action,bt),!bt.defaultPrevented&&Is())},className:di(V?.actionButton,f==null||(h=f.classNames)==null?void 0:h.actionButton)},f.action.label):null)};function B2(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function V9(t,s){const a={};return[t,s].forEach((n,r)=>{const i=r===1,l=i?"--mobile-offset":"--offset",d=i?O9:P9;function u(h){["top","right","bottom","left"].forEach(p=>{a[`${l}-${p}`]=typeof h=="number"?`${h}px`:h})}typeof n=="number"||typeof n=="string"?u(n):typeof n=="object"?["top","right","bottom","left"].forEach(h=>{n[h]===void 0?a[`${l}-${h}`]=d:a[`${l}-${h}`]=typeof n[h]=="number"?`${n[h]}px`:n[h]}):u(d)}),a}const U9=qe.forwardRef(function(s,a){const{id:n,invert:r,position:i="bottom-right",hotkey:l=["altKey","KeyT"],expand:d,closeButton:u,className:h,offset:p,mobileOffset:f,theme:x="light",richColors:v,duration:j,style:w,visibleToasts:_=M9,toastOptions:N,dir:k=B2(),gap:D=B9,icons:T,containerAriaLabel:E="Notifications"}=s,[G,A]=qe.useState([]),F=qe.useMemo(()=>n?G.filter(le=>le.toasterId===n):G.filter(le=>!le.toasterId),[G,n]),M=qe.useMemo(()=>Array.from(new Set([i].concat(F.filter(le=>le.position).map(le=>le.position)))),[F,i]),[J,R]=qe.useState([]),[ee,Y]=qe.useState(!1),[re,te]=qe.useState(!1),[V,U]=qe.useState(x!=="system"?x:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),H=qe.useRef(null),L=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),$=qe.useRef(null),z=qe.useRef(!1),ie=qe.useCallback(le=>{A(ne=>{var fe;return(fe=ne.find(Ne=>Ne.id===le.id))!=null&&fe.delete||En.dismiss(le.id),ne.filter(({id:Ne})=>Ne!==le.id)})},[]);return qe.useEffect(()=>En.subscribe(le=>{if(le.dismiss){requestAnimationFrame(()=>{A(ne=>ne.map(fe=>fe.id===le.id?{...fe,delete:!0}:fe))});return}setTimeout(()=>{DT.flushSync(()=>{A(ne=>{const fe=ne.findIndex(Ne=>Ne.id===le.id);return fe!==-1?[...ne.slice(0,fe),{...ne[fe],...le},...ne.slice(fe+1)]:[le,...ne]})})})}),[G]),qe.useEffect(()=>{if(x!=="system"){U(x);return}if(x==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?U("dark"):U("light")),typeof window>"u")return;const le=window.matchMedia("(prefers-color-scheme: dark)");try{le.addEventListener("change",({matches:ne})=>{U(ne?"dark":"light")})}catch{le.addListener(({matches:fe})=>{try{U(fe?"dark":"light")}catch(Ne){console.error(Ne)}})}},[x]),qe.useEffect(()=>{G.length<=1&&Y(!1)},[G]),qe.useEffect(()=>{const le=ne=>{var fe;if(l.every(Le=>ne[Le]||ne.code===Le)){var ye;Y(!0),(ye=H.current)==null||ye.focus()}ne.code==="Escape"&&(document.activeElement===H.current||(fe=H.current)!=null&&fe.contains(document.activeElement))&&Y(!1)};return document.addEventListener("keydown",le),()=>document.removeEventListener("keydown",le)},[l]),qe.useEffect(()=>{if(H.current)return()=>{$.current&&($.current.focus({preventScroll:!0}),$.current=null,z.current=!1)}},[H.current]),qe.createElement("section",{ref:a,"aria-label":`${E} ${L}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},M.map((le,ne)=>{var fe;const[Ne,ye]=le.split("-");return F.length?qe.createElement("ol",{key:le,dir:k==="auto"?B2():k,tabIndex:-1,ref:H,className:h,"data-sonner-toaster":!0,"data-sonner-theme":V,"data-y-position":Ne,"data-x-position":ye,style:{"--front-toast-height":`${((fe=J[0])==null?void 0:fe.height)||0}px`,"--width":`${L9}px`,"--gap":`${D}px`,...w,...V9(p,f)},onBlur:Le=>{z.current&&!Le.currentTarget.contains(Le.relatedTarget)&&(z.current=!1,$.current&&($.current.focus({preventScroll:!0}),$.current=null))},onFocus:Le=>{Le.target instanceof HTMLElement&&Le.target.dataset.dismissible==="false"||z.current||(z.current=!0,$.current=Le.relatedTarget)},onMouseEnter:()=>Y(!0),onMouseMove:()=>Y(!0),onMouseLeave:()=>{re||Y(!1)},onDragEnd:()=>Y(!1),onPointerDown:Le=>{Le.target instanceof HTMLElement&&Le.target.dataset.dismissible==="false"||te(!0)},onPointerUp:()=>te(!1)},F.filter(Le=>!Le.position&&ne===0||Le.position===le).map((Le,Se)=>{var Ge,nt;return qe.createElement(z9,{key:Le.id,icons:T,index:Se,toast:Le,defaultRichColors:v,duration:(Ge=N?.duration)!=null?Ge:j,className:N?.className,descriptionClassName:N?.descriptionClassName,invert:r,visibleToasts:_,closeButton:(nt=N?.closeButton)!=null?nt:u,interacting:re,position:le,style:N?.style,unstyled:N?.unstyled,classNames:N?.classNames,cancelButtonStyle:N?.cancelButtonStyle,actionButtonStyle:N?.actionButtonStyle,closeButtonAriaLabel:N?.closeButtonAriaLabel,removeToast:ie,toasts:F.filter(Ae=>Ae.position==Le.position),heights:J.filter(Ae=>Ae.position==Le.position),setHeights:R,expandByDefault:d,gap:D,expanded:ee,swipeDirections:s.swipeDirections})})):null}))}),H9=({...t})=>{const{theme:s="system"}=g9();return e.jsx(U9,{theme:s,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};function F2(t,s){if(typeof t=="function")return t(s);t!=null&&(t.current=s)}function xo(...t){return s=>{let a=!1;const n=t.map(r=>{const i=F2(r,s);return!a&&typeof i=="function"&&(a=!0),i});if(a)return()=>{for(let r=0;r<n.length;r++){const i=n[r];typeof i=="function"?i():F2(t[r],null)}}}}function Ht(...t){return y.useCallback(xo(...t),t)}var q9=Symbol.for("react.lazy"),pg=Oj[" use ".trim().toString()];function G9(t){return typeof t=="object"&&t!==null&&"then"in t}function ET(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===q9&&"_payload"in t&&G9(t._payload)}function Uj(t){const s=Y9(t),a=y.forwardRef((n,r)=>{let{children:i,...l}=n;ET(i)&&typeof pg=="function"&&(i=pg(i._payload));const d=y.Children.toArray(i),u=d.find(X9);if(u){const h=u.props.children,p=d.map(f=>f===u?y.Children.count(h)>1?y.Children.only(null):y.isValidElement(h)?h.props.children:null:f);return e.jsx(s,{...l,ref:r,children:y.isValidElement(h)?y.cloneElement(h,void 0,p):null})}return e.jsx(s,{...l,ref:r,children:i})});return a.displayName=`${t}.Slot`,a}var W9=Uj("Slot");function Y9(t){const s=y.forwardRef((a,n)=>{let{children:r,...i}=a;if(ET(r)&&typeof pg=="function"&&(r=pg(r._payload)),y.isValidElement(r)){const l=Z9(r),d=Q9(i,r.props);return r.type!==y.Fragment&&(d.ref=n?xo(n,l):l),y.cloneElement(r,d)}return y.Children.count(r)>1?y.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var K9=Symbol("radix.slottable");function X9(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===K9}function Q9(t,s){const a={...s};for(const n in s){const r=t[n],i=s[n];/^on[A-Z]/.test(n)?r&&i?a[n]=(...d)=>{const u=i(...d);return r(...d),u}:r&&(a[n]=r):n==="style"?a[n]={...r,...i}:n==="className"&&(a[n]=[r,i].filter(Boolean).join(" "))}return{...t,...a}}function Z9(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}function RT(t){var s,a,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(s=0;s<r;s++)t[s]&&(a=RT(t[s]))&&(n&&(n+=" "),n+=a)}else for(a in t)t[a]&&(n&&(n+=" "),n+=a);return n}function MT(){for(var t,s,a=0,n="",r=arguments.length;a<r;a++)(t=arguments[a])&&(s=RT(t))&&(n&&(n+=" "),n+=s);return n}const I2=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,$2=MT,Hj=(t,s)=>a=>{var n;if(s?.variants==null)return $2(t,a?.class,a?.className);const{variants:r,defaultVariants:i}=s,l=Object.keys(r).map(h=>{const p=a?.[h],f=i?.[h];if(p===null)return null;const x=I2(p)||I2(f);return r[h][x]}),d=a&&Object.entries(a).reduce((h,p)=>{let[f,x]=p;return x===void 0||(h[f]=x),h},{}),u=s==null||(n=s.compoundVariants)===null||n===void 0?void 0:n.reduce((h,p)=>{let{class:f,className:x,...v}=p;return Object.entries(v).every(j=>{let[w,_]=j;return Array.isArray(_)?_.includes({...i,...d}[w]):{...i,...d}[w]===_})?[...h,f,x]:h},[]);return $2(t,l,u,a?.class,a?.className)},J9=(t,s)=>{const a=new Array(t.length+s.length);for(let n=0;n<t.length;n++)a[n]=t[n];for(let n=0;n<s.length;n++)a[t.length+n]=s[n];return a},eI=(t,s)=>({classGroupId:t,validator:s}),PT=(t=new Map,s=null,a)=>({nextPart:t,validators:s,classGroupId:a}),gg="-",z2=[],tI="arbitrary..",sI=t=>{const s=nI(t),{conflictingClassGroups:a,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return aI(l);const d=l.split(gg),u=d[0]===""&&d.length>1?1:0;return OT(d,u,s)},getConflictingClassGroupIds:(l,d)=>{if(d){const u=n[l],h=a[l];return u?h?J9(h,u):u:h||z2}return a[l]||z2}}},OT=(t,s,a)=>{if(t.length-s===0)return a.classGroupId;const r=t[s],i=a.nextPart.get(r);if(i){const h=OT(t,s+1,i);if(h)return h}const l=a.validators;if(l===null)return;const d=s===0?t.join(gg):t.slice(s).join(gg),u=l.length;for(let h=0;h<u;h++){const p=l[h];if(p.validator(d))return p.classGroupId}},aI=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const s=t.slice(1,-1),a=s.indexOf(":"),n=s.slice(0,a);return n?tI+n:void 0})(),nI=t=>{const{theme:s,classGroups:a}=t;return rI(a,s)},rI=(t,s)=>{const a=PT();for(const n in t){const r=t[n];qj(r,a,n,s)}return a},qj=(t,s,a,n)=>{const r=t.length;for(let i=0;i<r;i++){const l=t[i];iI(l,s,a,n)}},iI=(t,s,a,n)=>{if(typeof t=="string"){oI(t,s,a);return}if(typeof t=="function"){lI(t,s,a,n);return}cI(t,s,a,n)},oI=(t,s,a)=>{const n=t===""?s:LT(s,t);n.classGroupId=a},lI=(t,s,a,n)=>{if(dI(t)){qj(t(n),s,a,n);return}s.validators===null&&(s.validators=[]),s.validators.push(eI(a,t))},cI=(t,s,a,n)=>{const r=Object.entries(t),i=r.length;for(let l=0;l<i;l++){const[d,u]=r[l];qj(u,LT(s,d),a,n)}},LT=(t,s)=>{let a=t;const n=s.split(gg),r=n.length;for(let i=0;i<r;i++){const l=n[i];let d=a.nextPart.get(l);d||(d=PT(),a.nextPart.set(l,d)),a=d}return a},dI=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,uI=t=>{if(t<1)return{get:()=>{},set:()=>{}};let s=0,a=Object.create(null),n=Object.create(null);const r=(i,l)=>{a[i]=l,s++,s>t&&(s=0,n=a,a=Object.create(null))};return{get(i){let l=a[i];if(l!==void 0)return l;if((l=n[i])!==void 0)return r(i,l),l},set(i,l){i in a?a[i]=l:r(i,l)}}},Dv="!",V2=":",hI=[],U2=(t,s,a,n,r)=>({modifiers:t,hasImportantModifier:s,baseClassName:a,maybePostfixModifierPosition:n,isExternal:r}),mI=t=>{const{prefix:s,experimentalParseClassName:a}=t;let n=r=>{const i=[];let l=0,d=0,u=0,h;const p=r.length;for(let w=0;w<p;w++){const _=r[w];if(l===0&&d===0){if(_===V2){i.push(r.slice(u,w)),u=w+1;continue}if(_==="/"){h=w;continue}}_==="["?l++:_==="]"?l--:_==="("?d++:_===")"&&d--}const f=i.length===0?r:r.slice(u);let x=f,v=!1;f.endsWith(Dv)?(x=f.slice(0,-1),v=!0):f.startsWith(Dv)&&(x=f.slice(1),v=!0);const j=h&&h>u?h-u:void 0;return U2(i,v,x,j)};if(s){const r=s+V2,i=n;n=l=>l.startsWith(r)?i(l.slice(r.length)):U2(hI,!1,l,void 0,!0)}if(a){const r=n;n=i=>a({className:i,parseClassName:r})}return n},fI=t=>{const s=new Map;return t.orderSensitiveModifiers.forEach((a,n)=>{s.set(a,1e6+n)}),a=>{const n=[];let r=[];for(let i=0;i<a.length;i++){const l=a[i],d=l[0]==="[",u=s.has(l);d||u?(r.length>0&&(r.sort(),n.push(...r),r=[]),n.push(l)):r.push(l)}return r.length>0&&(r.sort(),n.push(...r)),n}},pI=t=>({cache:uI(t.cacheSize),parseClassName:mI(t),sortModifiers:fI(t),...sI(t)}),gI=/\s+/,xI=(t,s)=>{const{parseClassName:a,getClassGroupId:n,getConflictingClassGroupIds:r,sortModifiers:i}=s,l=[],d=t.trim().split(gI);let u="";for(let h=d.length-1;h>=0;h-=1){const p=d[h],{isExternal:f,modifiers:x,hasImportantModifier:v,baseClassName:j,maybePostfixModifierPosition:w}=a(p);if(f){u=p+(u.length>0?" "+u:u);continue}let _=!!w,N=n(_?j.substring(0,w):j);if(!N){if(!_){u=p+(u.length>0?" "+u:u);continue}if(N=n(j),!N){u=p+(u.length>0?" "+u:u);continue}_=!1}const k=x.length===0?"":x.length===1?x[0]:i(x).join(":"),D=v?k+Dv:k,T=D+N;if(l.indexOf(T)>-1)continue;l.push(T);const E=r(N,_);for(let G=0;G<E.length;++G){const A=E[G];l.push(D+A)}u=p+(u.length>0?" "+u:u)}return u},yI=(...t)=>{let s=0,a,n,r="";for(;s<t.length;)(a=t[s++])&&(n=BT(a))&&(r&&(r+=" "),r+=n);return r},BT=t=>{if(typeof t=="string")return t;let s,a="";for(let n=0;n<t.length;n++)t[n]&&(s=BT(t[n]))&&(a&&(a+=" "),a+=s);return a},bI=(t,...s)=>{let a,n,r,i;const l=u=>{const h=s.reduce((p,f)=>f(p),t());return a=pI(h),n=a.cache.get,r=a.cache.set,i=d,d(u)},d=u=>{const h=n(u);if(h)return h;const p=xI(u,a);return r(u,p),p};return i=l,(...u)=>i(yI(...u))},vI=[],Aa=t=>{const s=a=>a[t]||vI;return s.isThemeGetter=!0,s},FT=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,IT=/^\((?:(\w[\w-]*):)?(.+)\)$/i,jI=/^\d+\/\d+$/,wI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,NI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,_I=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,CI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,kI=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,kd=t=>jI.test(t),qt=t=>!!t&&!Number.isNaN(Number(t)),sl=t=>!!t&&Number.isInteger(Number(t)),hb=t=>t.endsWith("%")&&qt(t.slice(0,-1)),Zi=t=>wI.test(t),SI=()=>!0,AI=t=>NI.test(t)&&!_I.test(t),$T=()=>!1,TI=t=>CI.test(t),DI=t=>kI.test(t),EI=t=>!ot(t)&&!lt(t),RI=t=>du(t,UT,$T),ot=t=>FT.test(t),ac=t=>du(t,HT,AI),mb=t=>du(t,BI,qt),H2=t=>du(t,zT,$T),MI=t=>du(t,VT,DI),mp=t=>du(t,qT,TI),lt=t=>IT.test(t),Nh=t=>uu(t,HT),PI=t=>uu(t,FI),q2=t=>uu(t,zT),OI=t=>uu(t,UT),LI=t=>uu(t,VT),fp=t=>uu(t,qT,!0),du=(t,s,a)=>{const n=FT.exec(t);return n?n[1]?s(n[1]):a(n[2]):!1},uu=(t,s,a=!1)=>{const n=IT.exec(t);return n?n[1]?s(n[1]):a:!1},zT=t=>t==="position"||t==="percentage",VT=t=>t==="image"||t==="url",UT=t=>t==="length"||t==="size"||t==="bg-size",HT=t=>t==="length",BI=t=>t==="number",FI=t=>t==="family-name",qT=t=>t==="shadow",II=()=>{const t=Aa("color"),s=Aa("font"),a=Aa("text"),n=Aa("font-weight"),r=Aa("tracking"),i=Aa("leading"),l=Aa("breakpoint"),d=Aa("container"),u=Aa("spacing"),h=Aa("radius"),p=Aa("shadow"),f=Aa("inset-shadow"),x=Aa("text-shadow"),v=Aa("drop-shadow"),j=Aa("blur"),w=Aa("perspective"),_=Aa("aspect"),N=Aa("ease"),k=Aa("animate"),D=()=>["auto","avoid","all","avoid-page","page","left","right","column"],T=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],E=()=>[...T(),lt,ot],G=()=>["auto","hidden","clip","visible","scroll"],A=()=>["auto","contain","none"],F=()=>[lt,ot,u],M=()=>[kd,"full","auto",...F()],J=()=>[sl,"none","subgrid",lt,ot],R=()=>["auto",{span:["full",sl,lt,ot]},sl,lt,ot],ee=()=>[sl,"auto",lt,ot],Y=()=>["auto","min","max","fr",lt,ot],re=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],te=()=>["start","end","center","stretch","center-safe","end-safe"],V=()=>["auto",...F()],U=()=>[kd,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...F()],H=()=>[t,lt,ot],L=()=>[...T(),q2,H2,{position:[lt,ot]}],$=()=>["no-repeat",{repeat:["","x","y","space","round"]}],z=()=>["auto","cover","contain",OI,RI,{size:[lt,ot]}],ie=()=>[hb,Nh,ac],le=()=>["","none","full",h,lt,ot],ne=()=>["",qt,Nh,ac],fe=()=>["solid","dashed","dotted","double"],Ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ye=()=>[qt,hb,q2,H2],Le=()=>["","none",j,lt,ot],Se=()=>["none",qt,lt,ot],Ge=()=>["none",qt,lt,ot],nt=()=>[qt,lt,ot],Ae=()=>[kd,"full",...F()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Zi],breakpoint:[Zi],color:[SI],container:[Zi],"drop-shadow":[Zi],ease:["in","out","in-out"],font:[EI],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Zi],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Zi],shadow:[Zi],spacing:["px",qt],text:[Zi],"text-shadow":[Zi],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",kd,ot,lt,_]}],container:["container"],columns:[{columns:[qt,ot,lt,d]}],"break-after":[{"break-after":D()}],"break-before":[{"break-before":D()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:E()}],overflow:[{overflow:G()}],"overflow-x":[{"overflow-x":G()}],"overflow-y":[{"overflow-y":G()}],overscroll:[{overscroll:A()}],"overscroll-x":[{"overscroll-x":A()}],"overscroll-y":[{"overscroll-y":A()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:M()}],"inset-x":[{"inset-x":M()}],"inset-y":[{"inset-y":M()}],start:[{start:M()}],end:[{end:M()}],top:[{top:M()}],right:[{right:M()}],bottom:[{bottom:M()}],left:[{left:M()}],visibility:["visible","invisible","collapse"],z:[{z:[sl,"auto",lt,ot]}],basis:[{basis:[kd,"full","auto",d,...F()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[qt,kd,"auto","initial","none",ot]}],grow:[{grow:["",qt,lt,ot]}],shrink:[{shrink:["",qt,lt,ot]}],order:[{order:[sl,"first","last","none",lt,ot]}],"grid-cols":[{"grid-cols":J()}],"col-start-end":[{col:R()}],"col-start":[{"col-start":ee()}],"col-end":[{"col-end":ee()}],"grid-rows":[{"grid-rows":J()}],"row-start-end":[{row:R()}],"row-start":[{"row-start":ee()}],"row-end":[{"row-end":ee()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":Y()}],"auto-rows":[{"auto-rows":Y()}],gap:[{gap:F()}],"gap-x":[{"gap-x":F()}],"gap-y":[{"gap-y":F()}],"justify-content":[{justify:[...re(),"normal"]}],"justify-items":[{"justify-items":[...te(),"normal"]}],"justify-self":[{"justify-self":["auto",...te()]}],"align-content":[{content:["normal",...re()]}],"align-items":[{items:[...te(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...te(),{baseline:["","last"]}]}],"place-content":[{"place-content":re()}],"place-items":[{"place-items":[...te(),"baseline"]}],"place-self":[{"place-self":["auto",...te()]}],p:[{p:F()}],px:[{px:F()}],py:[{py:F()}],ps:[{ps:F()}],pe:[{pe:F()}],pt:[{pt:F()}],pr:[{pr:F()}],pb:[{pb:F()}],pl:[{pl:F()}],m:[{m:V()}],mx:[{mx:V()}],my:[{my:V()}],ms:[{ms:V()}],me:[{me:V()}],mt:[{mt:V()}],mr:[{mr:V()}],mb:[{mb:V()}],ml:[{ml:V()}],"space-x":[{"space-x":F()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":F()}],"space-y-reverse":["space-y-reverse"],size:[{size:U()}],w:[{w:[d,"screen",...U()]}],"min-w":[{"min-w":[d,"screen","none",...U()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[l]},...U()]}],h:[{h:["screen","lh",...U()]}],"min-h":[{"min-h":["screen","lh","none",...U()]}],"max-h":[{"max-h":["screen","lh",...U()]}],"font-size":[{text:["base",a,Nh,ac]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,lt,mb]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",hb,ot]}],"font-family":[{font:[PI,ot,s]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,lt,ot]}],"line-clamp":[{"line-clamp":[qt,"none",lt,mb]}],leading:[{leading:[i,...F()]}],"list-image":[{"list-image":["none",lt,ot]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",lt,ot]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:H()}],"text-color":[{text:H()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...fe(),"wavy"]}],"text-decoration-thickness":[{decoration:[qt,"from-font","auto",lt,ac]}],"text-decoration-color":[{decoration:H()}],"underline-offset":[{"underline-offset":[qt,"auto",lt,ot]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:F()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",lt,ot]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",lt,ot]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:L()}],"bg-repeat":[{bg:$()}],"bg-size":[{bg:z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},sl,lt,ot],radial:["",lt,ot],conic:[sl,lt,ot]},LI,MI]}],"bg-color":[{bg:H()}],"gradient-from-pos":[{from:ie()}],"gradient-via-pos":[{via:ie()}],"gradient-to-pos":[{to:ie()}],"gradient-from":[{from:H()}],"gradient-via":[{via:H()}],"gradient-to":[{to:H()}],rounded:[{rounded:le()}],"rounded-s":[{"rounded-s":le()}],"rounded-e":[{"rounded-e":le()}],"rounded-t":[{"rounded-t":le()}],"rounded-r":[{"rounded-r":le()}],"rounded-b":[{"rounded-b":le()}],"rounded-l":[{"rounded-l":le()}],"rounded-ss":[{"rounded-ss":le()}],"rounded-se":[{"rounded-se":le()}],"rounded-ee":[{"rounded-ee":le()}],"rounded-es":[{"rounded-es":le()}],"rounded-tl":[{"rounded-tl":le()}],"rounded-tr":[{"rounded-tr":le()}],"rounded-br":[{"rounded-br":le()}],"rounded-bl":[{"rounded-bl":le()}],"border-w":[{border:ne()}],"border-w-x":[{"border-x":ne()}],"border-w-y":[{"border-y":ne()}],"border-w-s":[{"border-s":ne()}],"border-w-e":[{"border-e":ne()}],"border-w-t":[{"border-t":ne()}],"border-w-r":[{"border-r":ne()}],"border-w-b":[{"border-b":ne()}],"border-w-l":[{"border-l":ne()}],"divide-x":[{"divide-x":ne()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":ne()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...fe(),"hidden","none"]}],"divide-style":[{divide:[...fe(),"hidden","none"]}],"border-color":[{border:H()}],"border-color-x":[{"border-x":H()}],"border-color-y":[{"border-y":H()}],"border-color-s":[{"border-s":H()}],"border-color-e":[{"border-e":H()}],"border-color-t":[{"border-t":H()}],"border-color-r":[{"border-r":H()}],"border-color-b":[{"border-b":H()}],"border-color-l":[{"border-l":H()}],"divide-color":[{divide:H()}],"outline-style":[{outline:[...fe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[qt,lt,ot]}],"outline-w":[{outline:["",qt,Nh,ac]}],"outline-color":[{outline:H()}],shadow:[{shadow:["","none",p,fp,mp]}],"shadow-color":[{shadow:H()}],"inset-shadow":[{"inset-shadow":["none",f,fp,mp]}],"inset-shadow-color":[{"inset-shadow":H()}],"ring-w":[{ring:ne()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:H()}],"ring-offset-w":[{"ring-offset":[qt,ac]}],"ring-offset-color":[{"ring-offset":H()}],"inset-ring-w":[{"inset-ring":ne()}],"inset-ring-color":[{"inset-ring":H()}],"text-shadow":[{"text-shadow":["none",x,fp,mp]}],"text-shadow-color":[{"text-shadow":H()}],opacity:[{opacity:[qt,lt,ot]}],"mix-blend":[{"mix-blend":[...Ne(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ne()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[qt]}],"mask-image-linear-from-pos":[{"mask-linear-from":ye()}],"mask-image-linear-to-pos":[{"mask-linear-to":ye()}],"mask-image-linear-from-color":[{"mask-linear-from":H()}],"mask-image-linear-to-color":[{"mask-linear-to":H()}],"mask-image-t-from-pos":[{"mask-t-from":ye()}],"mask-image-t-to-pos":[{"mask-t-to":ye()}],"mask-image-t-from-color":[{"mask-t-from":H()}],"mask-image-t-to-color":[{"mask-t-to":H()}],"mask-image-r-from-pos":[{"mask-r-from":ye()}],"mask-image-r-to-pos":[{"mask-r-to":ye()}],"mask-image-r-from-color":[{"mask-r-from":H()}],"mask-image-r-to-color":[{"mask-r-to":H()}],"mask-image-b-from-pos":[{"mask-b-from":ye()}],"mask-image-b-to-pos":[{"mask-b-to":ye()}],"mask-image-b-from-color":[{"mask-b-from":H()}],"mask-image-b-to-color":[{"mask-b-to":H()}],"mask-image-l-from-pos":[{"mask-l-from":ye()}],"mask-image-l-to-pos":[{"mask-l-to":ye()}],"mask-image-l-from-color":[{"mask-l-from":H()}],"mask-image-l-to-color":[{"mask-l-to":H()}],"mask-image-x-from-pos":[{"mask-x-from":ye()}],"mask-image-x-to-pos":[{"mask-x-to":ye()}],"mask-image-x-from-color":[{"mask-x-from":H()}],"mask-image-x-to-color":[{"mask-x-to":H()}],"mask-image-y-from-pos":[{"mask-y-from":ye()}],"mask-image-y-to-pos":[{"mask-y-to":ye()}],"mask-image-y-from-color":[{"mask-y-from":H()}],"mask-image-y-to-color":[{"mask-y-to":H()}],"mask-image-radial":[{"mask-radial":[lt,ot]}],"mask-image-radial-from-pos":[{"mask-radial-from":ye()}],"mask-image-radial-to-pos":[{"mask-radial-to":ye()}],"mask-image-radial-from-color":[{"mask-radial-from":H()}],"mask-image-radial-to-color":[{"mask-radial-to":H()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":T()}],"mask-image-conic-pos":[{"mask-conic":[qt]}],"mask-image-conic-from-pos":[{"mask-conic-from":ye()}],"mask-image-conic-to-pos":[{"mask-conic-to":ye()}],"mask-image-conic-from-color":[{"mask-conic-from":H()}],"mask-image-conic-to-color":[{"mask-conic-to":H()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:L()}],"mask-repeat":[{mask:$()}],"mask-size":[{mask:z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",lt,ot]}],filter:[{filter:["","none",lt,ot]}],blur:[{blur:Le()}],brightness:[{brightness:[qt,lt,ot]}],contrast:[{contrast:[qt,lt,ot]}],"drop-shadow":[{"drop-shadow":["","none",v,fp,mp]}],"drop-shadow-color":[{"drop-shadow":H()}],grayscale:[{grayscale:["",qt,lt,ot]}],"hue-rotate":[{"hue-rotate":[qt,lt,ot]}],invert:[{invert:["",qt,lt,ot]}],saturate:[{saturate:[qt,lt,ot]}],sepia:[{sepia:["",qt,lt,ot]}],"backdrop-filter":[{"backdrop-filter":["","none",lt,ot]}],"backdrop-blur":[{"backdrop-blur":Le()}],"backdrop-brightness":[{"backdrop-brightness":[qt,lt,ot]}],"backdrop-contrast":[{"backdrop-contrast":[qt,lt,ot]}],"backdrop-grayscale":[{"backdrop-grayscale":["",qt,lt,ot]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[qt,lt,ot]}],"backdrop-invert":[{"backdrop-invert":["",qt,lt,ot]}],"backdrop-opacity":[{"backdrop-opacity":[qt,lt,ot]}],"backdrop-saturate":[{"backdrop-saturate":[qt,lt,ot]}],"backdrop-sepia":[{"backdrop-sepia":["",qt,lt,ot]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":F()}],"border-spacing-x":[{"border-spacing-x":F()}],"border-spacing-y":[{"border-spacing-y":F()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",lt,ot]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[qt,"initial",lt,ot]}],ease:[{ease:["linear","initial",N,lt,ot]}],delay:[{delay:[qt,lt,ot]}],animate:[{animate:["none",k,lt,ot]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[w,lt,ot]}],"perspective-origin":[{"perspective-origin":E()}],rotate:[{rotate:Se()}],"rotate-x":[{"rotate-x":Se()}],"rotate-y":[{"rotate-y":Se()}],"rotate-z":[{"rotate-z":Se()}],scale:[{scale:Ge()}],"scale-x":[{"scale-x":Ge()}],"scale-y":[{"scale-y":Ge()}],"scale-z":[{"scale-z":Ge()}],"scale-3d":["scale-3d"],skew:[{skew:nt()}],"skew-x":[{"skew-x":nt()}],"skew-y":[{"skew-y":nt()}],transform:[{transform:[lt,ot,"","none","gpu","cpu"]}],"transform-origin":[{origin:E()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Ae()}],"translate-x":[{"translate-x":Ae()}],"translate-y":[{"translate-y":Ae()}],"translate-z":[{"translate-z":Ae()}],"translate-none":["translate-none"],accent:[{accent:H()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:H()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",lt,ot]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":F()}],"scroll-mx":[{"scroll-mx":F()}],"scroll-my":[{"scroll-my":F()}],"scroll-ms":[{"scroll-ms":F()}],"scroll-me":[{"scroll-me":F()}],"scroll-mt":[{"scroll-mt":F()}],"scroll-mr":[{"scroll-mr":F()}],"scroll-mb":[{"scroll-mb":F()}],"scroll-ml":[{"scroll-ml":F()}],"scroll-p":[{"scroll-p":F()}],"scroll-px":[{"scroll-px":F()}],"scroll-py":[{"scroll-py":F()}],"scroll-ps":[{"scroll-ps":F()}],"scroll-pe":[{"scroll-pe":F()}],"scroll-pt":[{"scroll-pt":F()}],"scroll-pr":[{"scroll-pr":F()}],"scroll-pb":[{"scroll-pb":F()}],"scroll-pl":[{"scroll-pl":F()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",lt,ot]}],fill:[{fill:["none",...H()]}],"stroke-w":[{stroke:[qt,Nh,ac,mb]}],stroke:[{stroke:["none",...H()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},$I=bI(II);function mt(...t){return $I(MT(t))}const Gj=Hj("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),K=y.forwardRef(({className:t,variant:s,size:a,asChild:n=!1,children:r,"aria-label":i,"aria-labelledby":l,...d},u)=>{const h=n?W9:"button";return y.useEffect(()=>{},[r,i,l,d.title,a]),e.jsx(h,{className:mt(Gj({variant:s,size:a,className:t})),ref:u,"aria-label":i,"aria-labelledby":l,...d,children:r})});K.displayName="Button";const zI=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),VI=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,a,n)=>n?n.toUpperCase():a.toLowerCase()),G2=t=>{const s=VI(t);return s.charAt(0).toUpperCase()+s.slice(1)},GT=(...t)=>t.filter((s,a,n)=>!!s&&s.trim()!==""&&n.indexOf(s)===a).join(" ").trim(),UI=t=>{for(const s in t)if(s.startsWith("aria-")||s==="role"||s==="title")return!0};var HI={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const qI=y.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:n,className:r="",children:i,iconNode:l,...d},u)=>y.createElement("svg",{ref:u,...HI,width:s,height:s,stroke:t,strokeWidth:n?Number(a)*24/Number(s):a,className:GT("lucide",r),...!i&&!UI(d)&&{"aria-hidden":"true"},...d},[...l.map(([h,p])=>y.createElement(h,p)),...Array.isArray(i)?i:[i]]));const Ue=(t,s)=>{const a=y.forwardRef(({className:n,...r},i)=>y.createElement(qI,{ref:i,iconNode:s,className:GT(`lucide-${zI(G2(t))}`,`lucide-${t}`,n),...r}));return a.displayName=G2(t),a};const GI=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],tm=Ue("activity",GI);const WI=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],xi=Ue("arrow-left",WI);const YI=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Ec=Ue("arrow-right",YI);const KI=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],XI=Ue("arrow-up-down",KI);const QI=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Ev=Ue("award",QI);const ZI=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],W2=Ue("badge-check",ZI);const JI=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],WT=Ue("ban",JI);const e$=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],xg=Ue("bell",e$);const t$=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],Y2=Ue("bookmark",t$);const s$=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Rc=Ue("briefcase",s$);const a$=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],sm=Ue("building-2",a$);const n$=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],Wj=Ue("calendar-check",n$);const r$=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],yg=Ue("calendar-days",r$);const i$=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Rs=Ue("calendar",i$);const o$=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],zt=Ue("car",o$);const l$=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Qd=Ue("chart-column",l$);const c$=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],YT=Ue("check-check",c$);const d$=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Jn=Ue("check",d$);const u$=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],KT=Ue("chevron-down",u$);const h$=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],yo=Ue("chevron-left",h$);const m$=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],sn=Ue("chevron-right",m$);const f$=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],p$=Ue("chevron-up",f$);const g$=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],x$=Ue("chevrons-left",g$);const y$=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],b$=Ue("chevrons-right",y$);const v$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],pl=Ue("circle-alert",v$);const j$=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Rn=Ue("circle-check-big",j$);const w$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],$a=Ue("circle-check",w$);const N$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],tr=Ue("circle-x",N$);const _$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],C$=Ue("circle",_$);const k$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],S$=Ue("clock-4",k$);const A$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],hu=Ue("clock",A$);const T$=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],K2=Ue("credit-card",T$);const D$=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Bs=Ue("dollar-sign",D$);const E$=[["path",{d:"M10 12h.01",key:"1kxr2c"}],["path",{d:"M18 20V6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14",key:"36qu9e"}],["path",{d:"M2 20h20",key:"owomy5"}]],R$=Ue("door-closed",E$);const M$=[["path",{d:"M11 20H2",key:"nlcfvz"}],["path",{d:"M11 4.562v16.157a1 1 0 0 0 1.242.97L19 20V5.562a2 2 0 0 0-1.515-1.94l-4-1A2 2 0 0 0 11 4.561z",key:"au4z13"}],["path",{d:"M11 4H8a2 2 0 0 0-2 2v14",key:"74r1mk"}],["path",{d:"M14 12h.01",key:"1jfl7z"}],["path",{d:"M22 20h-3",key:"vhrsz"}]],P$=Ue("door-open",M$);const O$=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],Zd=Ue("download",O$);const L$=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],X2=Ue("external-link",L$);const B$=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],sa=Ue("eye",B$);const F$=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],XT=Ue("facebook",F$);const I$=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],QT=Ue("file-check",I$);const $$=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],gl=Ue("file-text",$$);const z$=[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"7cu91f"}]],ax=Ue("fuel",z$);const V$=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],U$=Ue("funnel",V$);const H$=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],ll=Ue("gauge",H$);const q$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],G$=Ue("globe",q$);const W$=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],xl=Ue("heart",W$);const Y$=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],ZT=Ue("house",Y$);const K$=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],mc=Ue("image",K$);const X$=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],JT=Ue("instagram",X$);const Q$=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],eD=Ue("key-round",Q$);const Z$=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Yj=Ue("layout-dashboard",Z$);const J$=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],e7=Ue("lightbulb",J$);const t7=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],tD=Ue("linkedin",t7);const s7=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Q2=Ue("loader-circle",s7);const a7=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ol=Ue("lock",a7);const n7=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],yl=Ue("log-out",n7);const r7=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],Z2=Ue("log-in",r7);const i7=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Nr=Ue("mail",i7);const o7=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],bs=Ue("map-pin",o7);const l7=[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]],sD=Ue("megaphone",l7);const c7=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],aD=Ue("menu",c7);const d7=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Ur=Ue("message-circle",d7);const u7=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],nx=Ue("message-square",u7);const h7=[["path",{d:"M5 12h14",key:"1ays0h"}]],m7=Ue("minus",h7);const f7=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],bg=Ue("moon",f7);const p7=[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]],_c=Ue("mouse-pointer-click",p7);const g7=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],nD=Ue("navigation",g7);const x7=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],pi=Ue("package",x7);const y7=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],b7=Ue("palette",y7);const v7=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],rD=Ue("paperclip",v7);const j7=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],J2=Ue("pen",j7);const w7=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],ek=Ue("percent",w7);const N7=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Gr=Ue("phone",N7);const _7=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Gs=Ue("plus",_7);const C7=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],k7=Ue("receipt",C7);const S7=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],mu=Ue("refresh-ccw",S7);const A7=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],_t=Ue("refresh-cw",A7);const T7=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],D7=Ue("save",T7);const E7=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],iD=Ue("scale",E7);const R7=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ea=Ue("search",R7);const M7=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],rx=Ue("send",M7);const P7=[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],tk=Ue("settings-2",P7);const O7=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],km=Ue("settings",O7);const L7=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],B7=Ue("shield-check",L7);const F7=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Bn=Ue("shield",F7);const I7=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],$7=Ue("sliders-horizontal",I7);const z7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],oD=Ue("smile",z7);const V7=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],Fd=Ue("sparkles",V7);const U7=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ca=Ue("square-pen",U7);const H7=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Ys=Ue("star",H7);const q7=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],vg=Ue("sun",q7);const G7=[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]],W7=Ue("table-2",G7);const Y7=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],jg=Ue("tag",Y7);const K7=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Rv=Ue("timer",K7);const X7=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Ks=Ue("trash-2",X7);const Q7=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],Sm=Ue("trash",Q7);const Z7=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],bl=Ue("trending-up",Z7);const J7=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],qd=Ue("triangle-alert",J7);const ez=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],lD=Ue("twitter",ez);const tz=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],sk=Ue("upload",tz);const sz=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],wg=Ue("user-check",sz);const az=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],nz=Ue("user-plus",az);const rz=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],_i=Ue("user",rz);const iz=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],fs=Ue("users",iz);const oz=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Ng=Ue("wallet",oz);const lz=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ea=Ue("x",lz);const cz=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],dz=Ue("youtube",cz);const uz=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],_g=Ue("zap",uz);function cD(t,s){return function(){return t.apply(s,arguments)}}const{toString:hz}=Object.prototype,{getPrototypeOf:Kj}=Object,{iterator:ix,toStringTag:dD}=Symbol,ox=(t=>s=>{const a=hz.call(s);return t[a]||(t[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),Kr=t=>(t=t.toLowerCase(),s=>ox(s)===t),lx=t=>s=>typeof s===t,{isArray:fu}=Array,Jd=lx("undefined");function Am(t){return t!==null&&!Jd(t)&&t.constructor!==null&&!Jd(t.constructor)&&On(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const uD=Kr("ArrayBuffer");function mz(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&uD(t.buffer),s}const fz=lx("string"),On=lx("function"),hD=lx("number"),Tm=t=>t!==null&&typeof t=="object",pz=t=>t===!0||t===!1,Qp=t=>{if(ox(t)!=="object")return!1;const s=Kj(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(dD in t)&&!(ix in t)},gz=t=>{if(!Tm(t)||Am(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},xz=Kr("Date"),yz=Kr("File"),bz=Kr("Blob"),vz=Kr("FileList"),jz=t=>Tm(t)&&On(t.pipe),wz=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||On(t.append)&&((s=ox(t))==="formdata"||s==="object"&&On(t.toString)&&t.toString()==="[object FormData]"))},Nz=Kr("URLSearchParams"),[_z,Cz,kz,Sz]=["ReadableStream","Request","Response","Headers"].map(Kr),Az=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Dm(t,s,{allOwnKeys:a=!1}={}){if(t===null||typeof t>"u")return;let n,r;if(typeof t!="object"&&(t=[t]),fu(t))for(n=0,r=t.length;n<r;n++)s.call(null,t[n],n,t);else{if(Am(t))return;const i=a?Object.getOwnPropertyNames(t):Object.keys(t),l=i.length;let d;for(n=0;n<l;n++)d=i[n],s.call(null,t[d],d,t)}}function mD(t,s){if(Am(t))return null;s=s.toLowerCase();const a=Object.keys(t);let n=a.length,r;for(;n-- >0;)if(r=a[n],s===r.toLowerCase())return r;return null}const vc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,fD=t=>!Jd(t)&&t!==vc;function Mv(){const{caseless:t,skipUndefined:s}=fD(this)&&this||{},a={},n=(r,i)=>{if(i==="__proto__"||i==="constructor"||i==="prototype")return;const l=t&&mD(a,i)||i;Qp(a[l])&&Qp(r)?a[l]=Mv(a[l],r):Qp(r)?a[l]=Mv({},r):fu(r)?a[l]=r.slice():(!s||!Jd(r))&&(a[l]=r)};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Dm(arguments[r],n);return a}const Tz=(t,s,a,{allOwnKeys:n}={})=>(Dm(s,(r,i)=>{a&&On(r)?Object.defineProperty(t,i,{value:cD(r,a),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(t,i,{value:r,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:n}),t),Dz=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Ez=(t,s,a,n)=>{t.prototype=Object.create(s.prototype,n),Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(t,"super",{value:s.prototype}),a&&Object.assign(t.prototype,a)},Rz=(t,s,a,n)=>{let r,i,l;const d={};if(s=s||{},t==null)return s;do{for(r=Object.getOwnPropertyNames(t),i=r.length;i-- >0;)l=r[i],(!n||n(l,t,s))&&!d[l]&&(s[l]=t[l],d[l]=!0);t=a!==!1&&Kj(t)}while(t&&(!a||a(t,s))&&t!==Object.prototype);return s},Mz=(t,s,a)=>{t=String(t),(a===void 0||a>t.length)&&(a=t.length),a-=s.length;const n=t.indexOf(s,a);return n!==-1&&n===a},Pz=t=>{if(!t)return null;if(fu(t))return t;let s=t.length;if(!hD(s))return null;const a=new Array(s);for(;s-- >0;)a[s]=t[s];return a},Oz=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&Kj(Uint8Array)),Lz=(t,s)=>{const n=(t&&t[ix]).call(t);let r;for(;(r=n.next())&&!r.done;){const i=r.value;s.call(t,i[0],i[1])}},Bz=(t,s)=>{let a;const n=[];for(;(a=t.exec(s))!==null;)n.push(a);return n},Fz=Kr("HTMLFormElement"),Iz=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,n,r){return n.toUpperCase()+r}),ak=(({hasOwnProperty:t})=>(s,a)=>t.call(s,a))(Object.prototype),$z=Kr("RegExp"),pD=(t,s)=>{const a=Object.getOwnPropertyDescriptors(t),n={};Dm(a,(r,i)=>{let l;(l=s(r,i,t))!==!1&&(n[i]=l||r)}),Object.defineProperties(t,n)},zz=t=>{pD(t,(s,a)=>{if(On(t)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const n=t[a];if(On(n)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},Vz=(t,s)=>{const a={},n=r=>{r.forEach(i=>{a[i]=!0})};return fu(t)?n(t):n(String(t).split(s)),a},Uz=()=>{},Hz=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s;function qz(t){return!!(t&&On(t.append)&&t[dD]==="FormData"&&t[ix])}const Gz=t=>{const s=new Array(10),a=(n,r)=>{if(Tm(n)){if(s.indexOf(n)>=0)return;if(Am(n))return n;if(!("toJSON"in n)){s[r]=n;const i=fu(n)?[]:{};return Dm(n,(l,d)=>{const u=a(l,r+1);!Jd(u)&&(i[d]=u)}),s[r]=void 0,i}}return n};return a(t,0)},Wz=Kr("AsyncFunction"),Yz=t=>t&&(Tm(t)||On(t))&&On(t.then)&&On(t.catch),gD=((t,s)=>t?setImmediate:s?((a,n)=>(vc.addEventListener("message",({source:r,data:i})=>{r===vc&&i===a&&n.length&&n.shift()()},!1),r=>{n.push(r),vc.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",On(vc.postMessage)),Kz=typeof queueMicrotask<"u"?queueMicrotask.bind(vc):typeof process<"u"&&process.nextTick||gD,Xz=t=>t!=null&&On(t[ix]),De={isArray:fu,isArrayBuffer:uD,isBuffer:Am,isFormData:wz,isArrayBufferView:mz,isString:fz,isNumber:hD,isBoolean:pz,isObject:Tm,isPlainObject:Qp,isEmptyObject:gz,isReadableStream:_z,isRequest:Cz,isResponse:kz,isHeaders:Sz,isUndefined:Jd,isDate:xz,isFile:yz,isBlob:bz,isRegExp:$z,isFunction:On,isStream:jz,isURLSearchParams:Nz,isTypedArray:Oz,isFileList:vz,forEach:Dm,merge:Mv,extend:Tz,trim:Az,stripBOM:Dz,inherits:Ez,toFlatObject:Rz,kindOf:ox,kindOfTest:Kr,endsWith:Mz,toArray:Pz,forEachEntry:Lz,matchAll:Bz,isHTMLForm:Fz,hasOwnProperty:ak,hasOwnProp:ak,reduceDescriptors:pD,freezeMethods:zz,toObjectSet:Vz,toCamelCase:Iz,noop:Uz,toFiniteNumber:Hz,findKey:mD,global:vc,isContextDefined:fD,isSpecCompliantForm:qz,toJSONObject:Gz,isAsyncFn:Wz,isThenable:Yz,setImmediate:gD,asap:Kz,isIterable:Xz};let Rt=class xD extends Error{static from(s,a,n,r,i,l){const d=new xD(s.message,a||s.code,n,r,i);return d.cause=s,d.name=s.name,l&&Object.assign(d,l),d}constructor(s,a,n,r,i){super(s),this.name="AxiosError",this.isAxiosError=!0,a&&(this.code=a),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:De.toJSONObject(this.config),code:this.code,status:this.status}}};Rt.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Rt.ERR_BAD_OPTION="ERR_BAD_OPTION";Rt.ECONNABORTED="ECONNABORTED";Rt.ETIMEDOUT="ETIMEDOUT";Rt.ERR_NETWORK="ERR_NETWORK";Rt.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Rt.ERR_DEPRECATED="ERR_DEPRECATED";Rt.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Rt.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Rt.ERR_CANCELED="ERR_CANCELED";Rt.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Rt.ERR_INVALID_URL="ERR_INVALID_URL";const Qz=null;function Pv(t){return De.isPlainObject(t)||De.isArray(t)}function yD(t){return De.endsWith(t,"[]")?t.slice(0,-2):t}function nk(t,s,a){return t?t.concat(s).map(function(r,i){return r=yD(r),!a&&i?"["+r+"]":r}).join(a?".":""):s}function Zz(t){return De.isArray(t)&&!t.some(Pv)}const Jz=De.toFlatObject(De,{},null,function(s){return/^is[A-Z]/.test(s)});function cx(t,s,a){if(!De.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,a=De.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(w,_){return!De.isUndefined(_[w])});const n=a.metaTokens,r=a.visitor||p,i=a.dots,l=a.indexes,u=(a.Blob||typeof Blob<"u"&&Blob)&&De.isSpecCompliantForm(s);if(!De.isFunction(r))throw new TypeError("visitor must be a function");function h(j){if(j===null)return"";if(De.isDate(j))return j.toISOString();if(De.isBoolean(j))return j.toString();if(!u&&De.isBlob(j))throw new Rt("Blob is not supported. Use a Buffer instead.");return De.isArrayBuffer(j)||De.isTypedArray(j)?u&&typeof Blob=="function"?new Blob([j]):Buffer.from(j):j}function p(j,w,_){let N=j;if(j&&!_&&typeof j=="object"){if(De.endsWith(w,"{}"))w=n?w:w.slice(0,-2),j=JSON.stringify(j);else if(De.isArray(j)&&Zz(j)||(De.isFileList(j)||De.endsWith(w,"[]"))&&(N=De.toArray(j)))return w=yD(w),N.forEach(function(D,T){!(De.isUndefined(D)||D===null)&&s.append(l===!0?nk([w],T,i):l===null?w:w+"[]",h(D))}),!1}return Pv(j)?!0:(s.append(nk(_,w,i),h(j)),!1)}const f=[],x=Object.assign(Jz,{defaultVisitor:p,convertValue:h,isVisitable:Pv});function v(j,w){if(!De.isUndefined(j)){if(f.indexOf(j)!==-1)throw Error("Circular reference detected in "+w.join("."));f.push(j),De.forEach(j,function(N,k){(!(De.isUndefined(N)||N===null)&&r.call(s,N,De.isString(k)?k.trim():k,w,x))===!0&&v(N,w?w.concat(k):[k])}),f.pop()}}if(!De.isObject(t))throw new TypeError("data must be an object");return v(t),s}function rk(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return s[n]})}function Xj(t,s){this._pairs=[],t&&cx(t,this,s)}const bD=Xj.prototype;bD.append=function(s,a){this._pairs.push([s,a])};bD.toString=function(s){const a=s?function(n){return s.call(this,n,rk)}:rk;return this._pairs.map(function(r){return a(r[0])+"="+a(r[1])},"").join("&")};function eV(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function vD(t,s,a){if(!s)return t;const n=a&&a.encode||eV,r=De.isFunction(a)?{serialize:a}:a,i=r&&r.serialize;let l;if(i?l=i(s,r):l=De.isURLSearchParams(s)?s.toString():new Xj(s,r).toString(n),l){const d=t.indexOf("#");d!==-1&&(t=t.slice(0,d)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class ik{constructor(){this.handlers=[]}use(s,a,n){return this.handlers.push({fulfilled:s,rejected:a,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){De.forEach(this.handlers,function(n){n!==null&&s(n)})}}const Qj={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},tV=typeof URLSearchParams<"u"?URLSearchParams:Xj,sV=typeof FormData<"u"?FormData:null,aV=typeof Blob<"u"?Blob:null,nV={isBrowser:!0,classes:{URLSearchParams:tV,FormData:sV,Blob:aV},protocols:["http","https","file","blob","url","data"]},Zj=typeof window<"u"&&typeof document<"u",Ov=typeof navigator=="object"&&navigator||void 0,rV=Zj&&(!Ov||["ReactNative","NativeScript","NS"].indexOf(Ov.product)<0),iV=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",oV=Zj&&window.location.href||"http://localhost",lV=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:Zj,hasStandardBrowserEnv:rV,hasStandardBrowserWebWorkerEnv:iV,navigator:Ov,origin:oV},Symbol.toStringTag,{value:"Module"})),en={...lV,...nV};function cV(t,s){return cx(t,new en.classes.URLSearchParams,{visitor:function(a,n,r,i){return en.isNode&&De.isBuffer(a)?(this.append(n,a.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...s})}function dV(t){return De.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function uV(t){const s={},a=Object.keys(t);let n;const r=a.length;let i;for(n=0;n<r;n++)i=a[n],s[i]=t[i];return s}function jD(t){function s(a,n,r,i){let l=a[i++];if(l==="__proto__")return!0;const d=Number.isFinite(+l),u=i>=a.length;return l=!l&&De.isArray(r)?r.length:l,u?(De.hasOwnProp(r,l)?r[l]=[r[l],n]:r[l]=n,!d):((!r[l]||!De.isObject(r[l]))&&(r[l]=[]),s(a,n,r[l],i)&&De.isArray(r[l])&&(r[l]=uV(r[l])),!d)}if(De.isFormData(t)&&De.isFunction(t.entries)){const a={};return De.forEachEntry(t,(n,r)=>{s(dV(n),r,a,0)}),a}return null}function hV(t,s,a){if(De.isString(t))try{return(s||JSON.parse)(t),De.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(a||JSON.stringify)(t)}const Em={transitional:Qj,adapter:["xhr","http","fetch"],transformRequest:[function(s,a){const n=a.getContentType()||"",r=n.indexOf("application/json")>-1,i=De.isObject(s);if(i&&De.isHTMLForm(s)&&(s=new FormData(s)),De.isFormData(s))return r?JSON.stringify(jD(s)):s;if(De.isArrayBuffer(s)||De.isBuffer(s)||De.isStream(s)||De.isFile(s)||De.isBlob(s)||De.isReadableStream(s))return s;if(De.isArrayBufferView(s))return s.buffer;if(De.isURLSearchParams(s))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let d;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return cV(s,this.formSerializer).toString();if((d=De.isFileList(s))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return cx(d?{"files[]":s}:s,u&&new u,this.formSerializer)}}return i||r?(a.setContentType("application/json",!1),hV(s)):s}],transformResponse:[function(s){const a=this.transitional||Em.transitional,n=a&&a.forcedJSONParsing,r=this.responseType==="json";if(De.isResponse(s)||De.isReadableStream(s))return s;if(s&&De.isString(s)&&(n&&!this.responseType||r)){const l=!(a&&a.silentJSONParsing)&&r;try{return JSON.parse(s,this.parseReviver)}catch(d){if(l)throw d.name==="SyntaxError"?Rt.from(d,Rt.ERR_BAD_RESPONSE,this,null,this.response):d}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:en.classes.FormData,Blob:en.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};De.forEach(["delete","get","head","post","put","patch"],t=>{Em.headers[t]={}});const mV=De.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),fV=t=>{const s={};let a,n,r;return t&&t.split(`
`).forEach(function(l){r=l.indexOf(":"),a=l.substring(0,r).trim().toLowerCase(),n=l.substring(r+1).trim(),!(!a||s[a]&&mV[a])&&(a==="set-cookie"?s[a]?s[a].push(n):s[a]=[n]:s[a]=s[a]?s[a]+", "+n:n)}),s},ok=Symbol("internals");function _h(t){return t&&String(t).trim().toLowerCase()}function Zp(t){return t===!1||t==null?t:De.isArray(t)?t.map(Zp):String(t)}function pV(t){const s=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=a.exec(t);)s[n[1]]=n[2];return s}const gV=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function fb(t,s,a,n,r){if(De.isFunction(n))return n.call(this,s,a);if(r&&(s=a),!!De.isString(s)){if(De.isString(n))return s.indexOf(n)!==-1;if(De.isRegExp(n))return n.test(s)}}function xV(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,a,n)=>a.toUpperCase()+n)}function yV(t,s){const a=De.toCamelCase(" "+s);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+a,{value:function(r,i,l){return this[n].call(this,s,r,i,l)},configurable:!0})})}let Ln=class{constructor(s){s&&this.set(s)}set(s,a,n){const r=this;function i(d,u,h){const p=_h(u);if(!p)throw new Error("header name must be a non-empty string");const f=De.findKey(r,p);(!f||r[f]===void 0||h===!0||h===void 0&&r[f]!==!1)&&(r[f||u]=Zp(d))}const l=(d,u)=>De.forEach(d,(h,p)=>i(h,p,u));if(De.isPlainObject(s)||s instanceof this.constructor)l(s,a);else if(De.isString(s)&&(s=s.trim())&&!gV(s))l(fV(s),a);else if(De.isObject(s)&&De.isIterable(s)){let d={},u,h;for(const p of s){if(!De.isArray(p))throw TypeError("Object iterator must return a key-value pair");d[h=p[0]]=(u=d[h])?De.isArray(u)?[...u,p[1]]:[u,p[1]]:p[1]}l(d,a)}else s!=null&&i(a,s,n);return this}get(s,a){if(s=_h(s),s){const n=De.findKey(this,s);if(n){const r=this[n];if(!a)return r;if(a===!0)return pV(r);if(De.isFunction(a))return a.call(this,r,n);if(De.isRegExp(a))return a.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,a){if(s=_h(s),s){const n=De.findKey(this,s);return!!(n&&this[n]!==void 0&&(!a||fb(this,this[n],n,a)))}return!1}delete(s,a){const n=this;let r=!1;function i(l){if(l=_h(l),l){const d=De.findKey(n,l);d&&(!a||fb(n,n[d],d,a))&&(delete n[d],r=!0)}}return De.isArray(s)?s.forEach(i):i(s),r}clear(s){const a=Object.keys(this);let n=a.length,r=!1;for(;n--;){const i=a[n];(!s||fb(this,this[i],i,s,!0))&&(delete this[i],r=!0)}return r}normalize(s){const a=this,n={};return De.forEach(this,(r,i)=>{const l=De.findKey(n,i);if(l){a[l]=Zp(r),delete a[i];return}const d=s?xV(i):String(i).trim();d!==i&&delete a[i],a[d]=Zp(r),n[d]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const a=Object.create(null);return De.forEach(this,(n,r)=>{n!=null&&n!==!1&&(a[r]=s&&De.isArray(n)?n.join(", "):n)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,a])=>s+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...a){const n=new this(s);return a.forEach(r=>n.set(r)),n}static accessor(s){const n=(this[ok]=this[ok]={accessors:{}}).accessors,r=this.prototype;function i(l){const d=_h(l);n[d]||(yV(r,l),n[d]=!0)}return De.isArray(s)?s.forEach(i):i(s),this}};Ln.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);De.reduceDescriptors(Ln.prototype,({value:t},s)=>{let a=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(n){this[a]=n}}});De.freezeMethods(Ln);function pb(t,s){const a=this||Em,n=s||a,r=Ln.from(n.headers);let i=n.data;return De.forEach(t,function(d){i=d.call(a,i,r.normalize(),s?s.status:void 0)}),r.normalize(),i}function wD(t){return!!(t&&t.__CANCEL__)}let Rm=class extends Rt{constructor(s,a,n){super(s??"canceled",Rt.ERR_CANCELED,a,n),this.name="CanceledError",this.__CANCEL__=!0}};function ND(t,s,a){const n=a.config.validateStatus;!a.status||!n||n(a.status)?t(a):s(new Rt("Request failed with status code "+a.status,[Rt.ERR_BAD_REQUEST,Rt.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function bV(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function vV(t,s){t=t||10;const a=new Array(t),n=new Array(t);let r=0,i=0,l;return s=s!==void 0?s:1e3,function(u){const h=Date.now(),p=n[i];l||(l=h),a[r]=u,n[r]=h;let f=i,x=0;for(;f!==r;)x+=a[f++],f=f%t;if(r=(r+1)%t,r===i&&(i=(i+1)%t),h-l<s)return;const v=p&&h-p;return v?Math.round(x*1e3/v):void 0}}function jV(t,s){let a=0,n=1e3/s,r,i;const l=(h,p=Date.now())=>{a=p,r=null,i&&(clearTimeout(i),i=null),t(...h)};return[(...h)=>{const p=Date.now(),f=p-a;f>=n?l(h,p):(r=h,i||(i=setTimeout(()=>{i=null,l(r)},n-f)))},()=>r&&l(r)]}const Cg=(t,s,a=3)=>{let n=0;const r=vV(50,250);return jV(i=>{const l=i.loaded,d=i.lengthComputable?i.total:void 0,u=l-n,h=r(u),p=l<=d;n=l;const f={loaded:l,total:d,progress:d?l/d:void 0,bytes:u,rate:h||void 0,estimated:h&&d&&p?(d-l)/h:void 0,event:i,lengthComputable:d!=null,[s?"download":"upload"]:!0};t(f)},a)},lk=(t,s)=>{const a=t!=null;return[n=>s[0]({lengthComputable:a,total:t,loaded:n}),s[1]]},ck=t=>(...s)=>De.asap(()=>t(...s)),wV=en.hasStandardBrowserEnv?((t,s)=>a=>(a=new URL(a,en.origin),t.protocol===a.protocol&&t.host===a.host&&(s||t.port===a.port)))(new URL(en.origin),en.navigator&&/(msie|trident)/i.test(en.navigator.userAgent)):()=>!0,NV=en.hasStandardBrowserEnv?{write(t,s,a,n,r,i,l){if(typeof document>"u")return;const d=[`${t}=${encodeURIComponent(s)}`];De.isNumber(a)&&d.push(`expires=${new Date(a).toUTCString()}`),De.isString(n)&&d.push(`path=${n}`),De.isString(r)&&d.push(`domain=${r}`),i===!0&&d.push("secure"),De.isString(l)&&d.push(`SameSite=${l}`),document.cookie=d.join("; ")},read(t){if(typeof document>"u")return null;const s=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return s?decodeURIComponent(s[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function _V(t){return typeof t!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function CV(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function _D(t,s,a){let n=!_V(s);return t&&(n||a==!1)?CV(t,s):s}const dk=t=>t instanceof Ln?{...t}:t;function Mc(t,s){s=s||{};const a={};function n(h,p,f,x){return De.isPlainObject(h)&&De.isPlainObject(p)?De.merge.call({caseless:x},h,p):De.isPlainObject(p)?De.merge({},p):De.isArray(p)?p.slice():p}function r(h,p,f,x){if(De.isUndefined(p)){if(!De.isUndefined(h))return n(void 0,h,f,x)}else return n(h,p,f,x)}function i(h,p){if(!De.isUndefined(p))return n(void 0,p)}function l(h,p){if(De.isUndefined(p)){if(!De.isUndefined(h))return n(void 0,h)}else return n(void 0,p)}function d(h,p,f){if(f in s)return n(h,p);if(f in t)return n(void 0,h)}const u={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:d,headers:(h,p,f)=>r(dk(h),dk(p),f,!0)};return De.forEach(Object.keys({...t,...s}),function(p){if(p==="__proto__"||p==="constructor"||p==="prototype")return;const f=De.hasOwnProp(u,p)?u[p]:r,x=f(t[p],s[p],p);De.isUndefined(x)&&f!==d||(a[p]=x)}),a}const CD=t=>{const s=Mc({},t);let{data:a,withXSRFToken:n,xsrfHeaderName:r,xsrfCookieName:i,headers:l,auth:d}=s;if(s.headers=l=Ln.from(l),s.url=vD(_D(s.baseURL,s.url,s.allowAbsoluteUrls),t.params,t.paramsSerializer),d&&l.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):""))),De.isFormData(a)){if(en.hasStandardBrowserEnv||en.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(De.isFunction(a.getHeaders)){const u=a.getHeaders(),h=["content-type","content-length"];Object.entries(u).forEach(([p,f])=>{h.includes(p.toLowerCase())&&l.set(p,f)})}}if(en.hasStandardBrowserEnv&&(n&&De.isFunction(n)&&(n=n(s)),n||n!==!1&&wV(s.url))){const u=r&&i&&NV.read(i);u&&l.set(r,u)}return s},kV=typeof XMLHttpRequest<"u",SV=kV&&function(t){return new Promise(function(a,n){const r=CD(t);let i=r.data;const l=Ln.from(r.headers).normalize();let{responseType:d,onUploadProgress:u,onDownloadProgress:h}=r,p,f,x,v,j;function w(){v&&v(),j&&j(),r.cancelToken&&r.cancelToken.unsubscribe(p),r.signal&&r.signal.removeEventListener("abort",p)}let _=new XMLHttpRequest;_.open(r.method.toUpperCase(),r.url,!0),_.timeout=r.timeout;function N(){if(!_)return;const D=Ln.from("getAllResponseHeaders"in _&&_.getAllResponseHeaders()),E={data:!d||d==="text"||d==="json"?_.responseText:_.response,status:_.status,statusText:_.statusText,headers:D,config:t,request:_};ND(function(A){a(A),w()},function(A){n(A),w()},E),_=null}"onloadend"in _?_.onloadend=N:_.onreadystatechange=function(){!_||_.readyState!==4||_.status===0&&!(_.responseURL&&_.responseURL.indexOf("file:")===0)||setTimeout(N)},_.onabort=function(){_&&(n(new Rt("Request aborted",Rt.ECONNABORTED,t,_)),_=null)},_.onerror=function(T){const E=T&&T.message?T.message:"Network Error",G=new Rt(E,Rt.ERR_NETWORK,t,_);G.event=T||null,n(G),_=null},_.ontimeout=function(){let T=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const E=r.transitional||Qj;r.timeoutErrorMessage&&(T=r.timeoutErrorMessage),n(new Rt(T,E.clarifyTimeoutError?Rt.ETIMEDOUT:Rt.ECONNABORTED,t,_)),_=null},i===void 0&&l.setContentType(null),"setRequestHeader"in _&&De.forEach(l.toJSON(),function(T,E){_.setRequestHeader(E,T)}),De.isUndefined(r.withCredentials)||(_.withCredentials=!!r.withCredentials),d&&d!=="json"&&(_.responseType=r.responseType),h&&([x,j]=Cg(h,!0),_.addEventListener("progress",x)),u&&_.upload&&([f,v]=Cg(u),_.upload.addEventListener("progress",f),_.upload.addEventListener("loadend",v)),(r.cancelToken||r.signal)&&(p=D=>{_&&(n(!D||D.type?new Rm(null,t,_):D),_.abort(),_=null)},r.cancelToken&&r.cancelToken.subscribe(p),r.signal&&(r.signal.aborted?p():r.signal.addEventListener("abort",p)));const k=bV(r.url);if(k&&en.protocols.indexOf(k)===-1){n(new Rt("Unsupported protocol "+k+":",Rt.ERR_BAD_REQUEST,t));return}_.send(i||null)})},AV=(t,s)=>{const{length:a}=t=t?t.filter(Boolean):[];if(s||a){let n=new AbortController,r;const i=function(h){if(!r){r=!0,d();const p=h instanceof Error?h:this.reason;n.abort(p instanceof Rt?p:new Rm(p instanceof Error?p.message:p))}};let l=s&&setTimeout(()=>{l=null,i(new Rt(`timeout of ${s}ms exceeded`,Rt.ETIMEDOUT))},s);const d=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(i):h.removeEventListener("abort",i)}),t=null)};t.forEach(h=>h.addEventListener("abort",i));const{signal:u}=n;return u.unsubscribe=()=>De.asap(d),u}},TV=function*(t,s){let a=t.byteLength;if(a<s){yield t;return}let n=0,r;for(;n<a;)r=n+s,yield t.slice(n,r),n=r},DV=async function*(t,s){for await(const a of EV(t))yield*TV(a,s)},EV=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const s=t.getReader();try{for(;;){const{done:a,value:n}=await s.read();if(a)break;yield n}}finally{await s.cancel()}},uk=(t,s,a,n)=>{const r=DV(t,s);let i=0,l,d=u=>{l||(l=!0,n&&n(u))};return new ReadableStream({async pull(u){try{const{done:h,value:p}=await r.next();if(h){d(),u.close();return}let f=p.byteLength;if(a){let x=i+=f;a(x)}u.enqueue(new Uint8Array(p))}catch(h){throw d(h),h}},cancel(u){return d(u),r.return()}},{highWaterMark:2})},hk=64*1024,{isFunction:pp}=De,RV=(({Request:t,Response:s})=>({Request:t,Response:s}))(De.global),{ReadableStream:mk,TextEncoder:fk}=De.global,pk=(t,...s)=>{try{return!!t(...s)}catch{return!1}},MV=t=>{t=De.merge.call({skipUndefined:!0},RV,t);const{fetch:s,Request:a,Response:n}=t,r=s?pp(s):typeof fetch=="function",i=pp(a),l=pp(n);if(!r)return!1;const d=r&&pp(mk),u=r&&(typeof fk=="function"?(j=>w=>j.encode(w))(new fk):async j=>new Uint8Array(await new a(j).arrayBuffer())),h=i&&d&&pk(()=>{let j=!1;const w=new a(en.origin,{body:new mk,method:"POST",get duplex(){return j=!0,"half"}}).headers.has("Content-Type");return j&&!w}),p=l&&d&&pk(()=>De.isReadableStream(new n("").body)),f={stream:p&&(j=>j.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(j=>{!f[j]&&(f[j]=(w,_)=>{let N=w&&w[j];if(N)return N.call(w);throw new Rt(`Response type '${j}' is not supported`,Rt.ERR_NOT_SUPPORT,_)})});const x=async j=>{if(j==null)return 0;if(De.isBlob(j))return j.size;if(De.isSpecCompliantForm(j))return(await new a(en.origin,{method:"POST",body:j}).arrayBuffer()).byteLength;if(De.isArrayBufferView(j)||De.isArrayBuffer(j))return j.byteLength;if(De.isURLSearchParams(j)&&(j=j+""),De.isString(j))return(await u(j)).byteLength},v=async(j,w)=>{const _=De.toFiniteNumber(j.getContentLength());return _??x(w)};return async j=>{let{url:w,method:_,data:N,signal:k,cancelToken:D,timeout:T,onDownloadProgress:E,onUploadProgress:G,responseType:A,headers:F,withCredentials:M="same-origin",fetchOptions:J}=CD(j),R=s||fetch;A=A?(A+"").toLowerCase():"text";let ee=AV([k,D&&D.toAbortSignal()],T),Y=null;const re=ee&&ee.unsubscribe&&(()=>{ee.unsubscribe()});let te;try{if(G&&h&&_!=="get"&&_!=="head"&&(te=await v(F,N))!==0){let z=new a(w,{method:"POST",body:N,duplex:"half"}),ie;if(De.isFormData(N)&&(ie=z.headers.get("content-type"))&&F.setContentType(ie),z.body){const[le,ne]=lk(te,Cg(ck(G)));N=uk(z.body,hk,le,ne)}}De.isString(M)||(M=M?"include":"omit");const V=i&&"credentials"in a.prototype,U={...J,signal:ee,method:_.toUpperCase(),headers:F.normalize().toJSON(),body:N,duplex:"half",credentials:V?M:void 0};Y=i&&new a(w,U);let H=await(i?R(Y,J):R(w,U));const L=p&&(A==="stream"||A==="response");if(p&&(E||L&&re)){const z={};["status","statusText","headers"].forEach(fe=>{z[fe]=H[fe]});const ie=De.toFiniteNumber(H.headers.get("content-length")),[le,ne]=E&&lk(ie,Cg(ck(E),!0))||[];H=new n(uk(H.body,hk,le,()=>{ne&&ne(),re&&re()}),z)}A=A||"text";let $=await f[De.findKey(f,A)||"text"](H,j);return!L&&re&&re(),await new Promise((z,ie)=>{ND(z,ie,{data:$,headers:Ln.from(H.headers),status:H.status,statusText:H.statusText,config:j,request:Y})})}catch(V){throw re&&re(),V&&V.name==="TypeError"&&/Load failed|fetch/i.test(V.message)?Object.assign(new Rt("Network Error",Rt.ERR_NETWORK,j,Y,V&&V.response),{cause:V.cause||V}):Rt.from(V,V&&V.code,j,Y,V&&V.response)}}},PV=new Map,kD=t=>{let s=t&&t.env||{};const{fetch:a,Request:n,Response:r}=s,i=[n,r,a];let l=i.length,d=l,u,h,p=PV;for(;d--;)u=i[d],h=p.get(u),h===void 0&&p.set(u,h=d?new Map:MV(s)),p=h;return h};kD();const Jj={http:Qz,xhr:SV,fetch:{get:kD}};De.forEach(Jj,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const gk=t=>`- ${t}`,OV=t=>De.isFunction(t)||t===null||t===!1;function LV(t,s){t=De.isArray(t)?t:[t];const{length:a}=t;let n,r;const i={};for(let l=0;l<a;l++){n=t[l];let d;if(r=n,!OV(n)&&(r=Jj[(d=String(n)).toLowerCase()],r===void 0))throw new Rt(`Unknown adapter '${d}'`);if(r&&(De.isFunction(r)||(r=r.get(s))))break;i[d||"#"+l]=r}if(!r){const l=Object.entries(i).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let d=a?l.length>1?`since :
`+l.map(gk).join(`
`):" "+gk(l[0]):"as no adapter specified";throw new Rt("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return r}const SD={getAdapter:LV,adapters:Jj};function gb(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Rm(null,t)}function xk(t){return gb(t),t.headers=Ln.from(t.headers),t.data=pb.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),SD.getAdapter(t.adapter||Em.adapter,t)(t).then(function(n){return gb(t),n.data=pb.call(t,t.transformResponse,n),n.headers=Ln.from(n.headers),n},function(n){return wD(n)||(gb(t),n&&n.response&&(n.response.data=pb.call(t,t.transformResponse,n.response),n.response.headers=Ln.from(n.response.headers))),Promise.reject(n)})}const AD="1.13.5",dx={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{dx[t]=function(n){return typeof n===t||"a"+(s<1?"n ":" ")+t}});const yk={};dx.transitional=function(s,a,n){function r(i,l){return"[Axios v"+AD+"] Transitional option '"+i+"'"+l+(n?". "+n:"")}return(i,l,d)=>{if(s===!1)throw new Rt(r(l," has been removed"+(a?" in "+a:"")),Rt.ERR_DEPRECATED);return a&&!yk[l]&&(yk[l]=!0,console.warn(r(l," has been deprecated since v"+a+" and will be removed in the near future"))),s?s(i,l,d):!0}};dx.spelling=function(s){return(a,n)=>(console.warn(`${n} is likely a misspelling of ${s}`),!0)};function BV(t,s,a){if(typeof t!="object")throw new Rt("options must be an object",Rt.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let r=n.length;for(;r-- >0;){const i=n[r],l=s[i];if(l){const d=t[i],u=d===void 0||l(d,i,t);if(u!==!0)throw new Rt("option "+i+" must be "+u,Rt.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new Rt("Unknown option "+i,Rt.ERR_BAD_OPTION)}}const Jp={assertOptions:BV,validators:dx},br=Jp.validators;let Cc=class{constructor(s){this.defaults=s||{},this.interceptors={request:new ik,response:new ik}}async request(s,a){try{return await this._request(s,a)}catch(n){if(n instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const i=r.stack?r.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(s,a){typeof s=="string"?(a=a||{},a.url=s):a=s||{},a=Mc(this.defaults,a);const{transitional:n,paramsSerializer:r,headers:i}=a;n!==void 0&&Jp.assertOptions(n,{silentJSONParsing:br.transitional(br.boolean),forcedJSONParsing:br.transitional(br.boolean),clarifyTimeoutError:br.transitional(br.boolean),legacyInterceptorReqResOrdering:br.transitional(br.boolean)},!1),r!=null&&(De.isFunction(r)?a.paramsSerializer={serialize:r}:Jp.assertOptions(r,{encode:br.function,serialize:br.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),Jp.assertOptions(a,{baseUrl:br.spelling("baseURL"),withXsrfToken:br.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let l=i&&De.merge(i.common,i[a.method]);i&&De.forEach(["delete","get","head","post","put","patch","common"],j=>{delete i[j]}),a.headers=Ln.concat(l,i);const d=[];let u=!0;this.interceptors.request.forEach(function(w){if(typeof w.runWhen=="function"&&w.runWhen(a)===!1)return;u=u&&w.synchronous;const _=a.transitional||Qj;_&&_.legacyInterceptorReqResOrdering?d.unshift(w.fulfilled,w.rejected):d.push(w.fulfilled,w.rejected)});const h=[];this.interceptors.response.forEach(function(w){h.push(w.fulfilled,w.rejected)});let p,f=0,x;if(!u){const j=[xk.bind(this),void 0];for(j.unshift(...d),j.push(...h),x=j.length,p=Promise.resolve(a);f<x;)p=p.then(j[f++],j[f++]);return p}x=d.length;let v=a;for(;f<x;){const j=d[f++],w=d[f++];try{v=j(v)}catch(_){w.call(this,_);break}}try{p=xk.call(this,v)}catch(j){return Promise.reject(j)}for(f=0,x=h.length;f<x;)p=p.then(h[f++],h[f++]);return p}getUri(s){s=Mc(this.defaults,s);const a=_D(s.baseURL,s.url,s.allowAbsoluteUrls);return vD(a,s.params,s.paramsSerializer)}};De.forEach(["delete","get","head","options"],function(s){Cc.prototype[s]=function(a,n){return this.request(Mc(n||{},{method:s,url:a,data:(n||{}).data}))}});De.forEach(["post","put","patch"],function(s){function a(n){return function(i,l,d){return this.request(Mc(d||{},{method:s,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}Cc.prototype[s]=a(),Cc.prototype[s+"Form"]=a(!0)});let FV=class TD{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(i){a=i});const n=this;this.promise.then(r=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](r);n._listeners=null}),this.promise.then=r=>{let i;const l=new Promise(d=>{n.subscribe(d),i=d}).then(r);return l.cancel=function(){n.unsubscribe(i)},l},s(function(i,l,d){n.reason||(n.reason=new Rm(i,l,d),a(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const a=this._listeners.indexOf(s);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const s=new AbortController,a=n=>{s.abort(n)};return this.subscribe(a),s.signal.unsubscribe=()=>this.unsubscribe(a),s.signal}static source(){let s;return{token:new TD(function(r){s=r}),cancel:s}}};function IV(t){return function(a){return t.apply(null,a)}}function $V(t){return De.isObject(t)&&t.isAxiosError===!0}const Lv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(Lv).forEach(([t,s])=>{Lv[s]=t});function DD(t){const s=new Cc(t),a=cD(Cc.prototype.request,s);return De.extend(a,Cc.prototype,s,{allOwnKeys:!0}),De.extend(a,s,null,{allOwnKeys:!0}),a.create=function(r){return DD(Mc(t,r))},a}const fa=DD(Em);fa.Axios=Cc;fa.CanceledError=Rm;fa.CancelToken=FV;fa.isCancel=wD;fa.VERSION=AD;fa.toFormData=cx;fa.AxiosError=Rt;fa.Cancel=fa.CanceledError;fa.all=function(s){return Promise.all(s)};fa.spread=IV;fa.isAxiosError=$V;fa.mergeConfig=Mc;fa.AxiosHeaders=Ln;fa.formToJSON=t=>jD(De.isHTMLForm(t)?new FormData(t):t);fa.getAdapter=SD.getAdapter;fa.HttpStatusCode=Lv;fa.default=fa;const{Axios:Zde,AxiosError:Jde,CanceledError:eue,isCancel:tue,CancelToken:sue,VERSION:aue,all:nue,Cancel:rue,isAxiosError:iue,spread:oue,toFormData:lue,AxiosHeaders:cue,HttpStatusCode:due,formToJSON:uue,getAdapter:hue,mergeConfig:mue}=fa;let Bv="https://rento-lb.com/api/api";Bv=Bv.trim().replace(/\/+$/,"");const xe=fa.create({baseURL:Bv,headers:{Accept:"application/json","Content-Type":"application/json"}});xe.interceptors.request.use(t=>{const s=localStorage.getItem("token")||localStorage.getItem("authToken");return s&&(t.headers.Authorization=`Bearer ${s}`),t},t=>Promise.reject(t));xe.interceptors.response.use(t=>t,t=>(t.response?.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("authToken"),localStorage.removeItem("user")),Promise.reject(t)));const pu=()=>{const[t,s]=y.useState(null),[a,n]=y.useState(!1),[r,i]=y.useState(!0);y.useEffect(()=>{const w=()=>{try{const N=localStorage.getItem("token")||localStorage.getItem("authToken"),k=localStorage.getItem("user");if(N&&k){const D=JSON.parse(k);s(D),n(!0)}else s(null),n(!1)}catch(N){console.error("Error loading user:",N),s(null),n(!1)}finally{i(!1)}};w();const _=N=>{(N.key==="user"||N.key==="token"||N.key==="authToken")&&w()};return window.addEventListener("storage",_),()=>window.removeEventListener("storage",_)},[]);const l=w=>{w?(localStorage.setItem("user",JSON.stringify(w)),s(w),n(!0)):(localStorage.removeItem("user"),s(null),n(!1))},d=()=>{localStorage.removeItem("token"),localStorage.removeItem("authToken"),localStorage.removeItem("user"),s(null),n(!1)},u=t?.role==="client",h=t?.role==="agency"||t?.role==="agent",p=t?.role==="agency",f=t?.role==="agent",x=t?.role==="admin";return{user:t,isAuthenticated:a,loading:r,updateUser:l,logout:d,isClient:u,isAgent:h,isAgency:p,isAgentRole:f,isAdmin:x,hasRole:w=>t?Array.isArray(w)?w.includes(t.role):t.role===w:!1,hasPermission:w=>t?({client:["view_cars","book_cars","view_own_bookings","manage_own_profile","view_favorites"],agency:["view_cars","manage_cars","view_all_bookings","manage_bookings","view_dashboard","view_statistics","manage_own_profile"],agent:["view_cars","manage_cars","view_all_bookings","manage_bookings","view_dashboard","view_statistics","manage_own_profile"]}[t.role]||[]).includes(w):!1}},zV=()=>{const[t,s]=y.useState(!1),[a,n]=y.useState(!0),[r,i]=y.useState(0),[l,d]=y.useState(!1),u=Tr(),h=Ua(),{isAuthenticated:p,isClient:f,isAgent:x,user:v,logout:j}=pu();y.useEffect(()=>{const A=localStorage.getItem("theme"),F=window.matchMedia("(prefers-color-scheme: dark)").matches,M=A==="dark"||!A&&F;n(M),M&&document.documentElement.classList.add("dark")},[]);const w=y.useCallback(async()=>{try{const A=await xe.get("/cars/favorites/list",{params:{page:1,per_page:1}}),F=Number(A.data?.favorites?.total??0);i(Number.isFinite(F)?F:0)}catch(A){console.error("Fav count fetch error:",A),i(0)}},[]);y.useEffect(()=>{if(!p){i(0);return}w();const A=()=>w();return window.addEventListener("favoritesUpdated",A),()=>window.removeEventListener("favoritesUpdated",A)},[p,w,u.pathname]),y.useEffect(()=>{const A=()=>d(window.scrollY>20);return window.addEventListener("scroll",A),()=>window.removeEventListener("scroll",A)},[]);const _=()=>{const A=!a;n(A),A?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},N=async()=>{try{await xe.post("/logout")}catch(A){console.error("Logout error:",A)}j(),se.success("Logged out successfully"),h("/"),s(!1)},k=[{to:"/",label:"Home"},{to:"/luxury-car-rental-lebanon",label:"Browse Cars"},{to:"/socialmedia",label:"About"},{to:"/contact",label:"Contact"}],D=f?[{to:"/ClientBookings",label:"My Bookings",icon:Rs}]:[],T=x?[{to:"/Dashboard",label:"Dashboard",icon:Yj},{to:"/Mycars",label:"My Cars",icon:zt},{to:"/Mycars-bookings",label:"Bookings",icon:Rs}]:[],E=[...k],G=A=>u.pathname===A;return e.jsx("nav",{className:`fixed top-0 left-0 right-0 z-50 glass-strong shadow-lg transition-all duration-300 ${l?"backdrop-blur":""}`,children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex items-center justify-between h-16 md:h-12",children:[e.jsxs(Ts,{to:"/",className:"flex items-center space-x-2 group",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-transparent flex items-center justify-center hover-glow",children:e.jsx("img",{src:"/rentologo.png",alt:"Rento Logo",className:"rounded-lg w-10 h-10 object-contain"})}),e.jsx("span",{className:"text-xl md:text-2xl text-primary-foreground font-bold gradient-text hidden sm:block",children:"RENTO LB"})]}),e.jsxs("div",{className:"hidden md:flex text-primary-foreground items-center space-x-1",children:[E.map(A=>e.jsx(Ts,{to:A.to,className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${G(A.to)?"bg-primary text-primary-foreground":"text-foreground/80 hover:text-foreground hover:bg-muted"}`,children:A.label},A.to)),x&&T.map(A=>e.jsxs(Ts,{to:A.to,className:`px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-1.5 ${G(A.to)?"bg-primary text-primary-foreground":"text-foreground/80 hover:text-foreground hover:bg-muted"}`,children:[A.icon&&e.jsx(A.icon,{className:"w-4 h-4"}),A.label]},A.to)),f&&D.map(A=>e.jsxs(Ts,{to:A.to,className:`px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-1.5 ${G(A.to)?"bg-primary text-primary-foreground":"text-foreground/80 hover:text-foreground hover:bg-muted"}`,children:[A.icon&&e.jsx(A.icon,{className:"w-4 h-4"}),A.label]},A.to))]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[p&&e.jsx(Ts,{to:"/favorites",children:e.jsxs(K,{variant:"ghost",size:"icon",className:"relative hover-glow","aria-label":"Open favorites",children:[e.jsx(xl,{className:`w-5 h-5 ${r>0?"fill-accent text-accent":""}`,"aria-hidden":"true"}),r>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-accent text-accent-foreground text-xs font-bold rounded-full flex items-center justify-center",children:r})]})}),p?e.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-primary/10 text-primary-foreground",children:[e.jsx(_i,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:v?.username||"User"})]}),e.jsx(K,{variant:"ghost",size:"icon",onClick:N,className:"hover-glow hover:bg-red-500/10 hover:text-red-500","aria-label":"Logout",children:e.jsx(yl,{className:"w-5 h-5"})})]}):e.jsx(Ts,{to:"/auth",className:"hidden md:block",children:e.jsxs(K,{variant:"default",size:"sm",className:"hover-glow",children:[e.jsx(Z2,{className:"w-4 h-4 mr-2"}),"Login"]})}),e.jsx(K,{variant:"ghost",size:"icon",onClick:_,className:"hover-glow hidden sm:flex","aria-label":a?"Switch to light mode":"Switch to dark mode",children:a?e.jsx(vg,{className:"w-5 h-5","aria-hidden":"true"}):e.jsx(bg,{className:"w-5 h-5","aria-hidden":"true"})}),e.jsx(K,{variant:"ghost",size:"icon",onClick:()=>s(!t),className:"md:hidden","aria-label":t?"Close menu":"Open menu","aria-expanded":t,"aria-controls":"mobile-nav",children:t?e.jsx(ea,{className:"w-6 h-6","aria-hidden":"true"}):e.jsx(aD,{className:"w-6 h-6","aria-hidden":"true"})})]})]}),t&&e.jsxs("div",{id:"mobile-nav",className:"md:hidden pb-4 space-y-2",children:[E.map(A=>e.jsx(Ts,{to:A.to,onClick:()=>s(!1),className:`block px-4 py-3 rounded-lg text-sm font-medium transition-all ${G(A.to)?"bg-primary text-primary-foreground":"text-foreground/80 hover:bg-muted"}`,children:A.label},A.to)),x&&T.map(A=>e.jsxs(Ts,{to:A.to,onClick:()=>s(!1),className:`block px-4 py-3 rounded-lg text-sm font-medium transition-all flex items-center gap-2 ${G(A.to)?"bg-primary text-primary-foreground":"text-foreground/80 hover:bg-muted"}`,children:[A.icon&&e.jsx(A.icon,{className:"w-4 h-4"}),A.label]},A.to)),f&&D.map(A=>e.jsxs(Ts,{to:A.to,onClick:()=>s(!1),className:`block px-4 py-3 rounded-lg text-sm font-medium transition-all flex items-center gap-2 ${G(A.to)?"bg-primary text-primary-foreground":"text-foreground/80 hover:bg-muted"}`,children:[A.icon&&e.jsx(A.icon,{className:"w-4 h-4"}),A.label]},A.to)),p?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"px-4 py-2 border-t border-gray-200 dark:border-gray-700 mt-2 pt-2",children:[e.jsxs("div",{className:"flex items-center gap-2 px-2 py-2 rounded-lg bg-primary/10 text-primary-foreground mb-2",children:[e.jsx(_i,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:v?.username||"User"})]}),e.jsxs("button",{onClick:N,className:"w-full px-4 py-3 rounded-lg text-sm font-medium text-red-600 dark:text-red-400 hover:bg-red-500/10 text-left flex items-center gap-2",children:[e.jsx(yl,{className:"w-4 h-4"}),"Logout"]})]})}):e.jsxs(Ts,{to:"/auth",onClick:()=>s(!1),className:"block px-4 py-3 rounded-lg text-sm font-medium bg-primary text-primary-foreground hover:opacity-90 transition-all flex items-center gap-2",children:[e.jsx(Z2,{className:"w-4 h-4"}),"Login / Register"]}),e.jsxs("button",{onClick:()=>{_(),s(!1)},className:"w-full px-4 py-3 rounded-lg text-sm font-medium text-foreground hover:bg-muted text-left flex items-center justify-between","aria-label":a?"Switch to light mode":"Switch to dark mode",children:[e.jsx("span",{children:a?"Light Mode":"Dark Mode"}),a?e.jsx(vg,{className:"w-5 h-5","aria-hidden":"true"}):e.jsx(bg,{className:"w-5 h-5","aria-hidden":"true"})]})]})]})})},wa={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640"},ED=()=>{const t=new Date().getFullYear(),s={company:[{label:"About Us",to:"/about"},{label:"Our Fleet",to:"/luxury-car-rental-lebanon"},{label:"Contact",to:"/contact"},{label:"Careers",to:"#"}],support:[{label:"Help Center",to:"#"},{label:"Safety",to:"#"},{label:"Terms of Service",to:"/Terms-and-Conditions"},{label:"Privacy Policy",to:"/Privacy-Policy"}],services:[{label:"Airport Pickup",to:"#"},{label:"Long-term Rental",to:"#"},{label:"Chauffeur Service",to:"#"},{label:"Corporate Plans",to:"#"}]},a=[{icon:XT,href:"https://www.facebook.com/profile.php?id=61585450048575",label:"Facebook",color:wa.darkBlue},{icon:lD,href:"https://x.com/RENTO_lb",label:"Twitter",color:wa.teal},{icon:JT,href:"https://www.instagram.com/rentolebanon/?hl=en",label:"Instagram",color:wa.limeGreen},{icon:tD,href:"https://www.linkedin.com/company/rento-lb/about/",label:"LinkedIn",color:wa.darkBlue}];return y.useEffect(()=>{const n="https://images.dmca.com/Badges/DMCABadgeHelper.min.js";if(document.querySelector(`script[src="${n}"]`))return;const i=document.createElement("script");i.src=n,i.async=!0,document.body.appendChild(i)},[]),e.jsx("footer",{className:"bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800 mt-12",children:e.jsxs("div",{className:"container mx-auto px-4 py-8 sm:py-10",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-6 lg:gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 mb-4 sm:mb-0",children:[e.jsxs(Ts,{to:"/",className:"flex items-center space-x-2 mb-4",children:[e.jsx("img",{src:"/rentologo.png",alt:"Rento Logo",className:"rounded-lg w-10 h-10 object-contain"}),e.jsx("span",{className:"text-2xl font-bold bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(135deg, ${wa.darkBlue}, ${wa.teal}, ${wa.limeGreen})`},children:"RENTO LB"})]}),e.jsxs("div",{className:"space-y-2.5 text-sm",children:[e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(bs,{className:"w-4 h-4 mt-0.5 flex-shrink-0",style:{color:wa.teal}}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-snug",children:"124-128 City Road, London, England, EC1V 2NX"})})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(bs,{className:"w-4 h-4 mt-0.5 flex-shrink-0",style:{color:wa.teal}}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-snug",children:"Mount Lebanon, Baouchrieh, Lebanon"})})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Gr,{className:"w-4 h-4 flex-shrink-0",style:{color:wa.darkBlue}}),e.jsx("a",{href:"tel:+96181001301",className:"text-gray-700 dark:text-gray-300 hover:underline",style:{color:wa.darkBlue},children:"+961 (81) 001-301"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Nr,{className:"w-4 h-4 flex-shrink-0",style:{color:wa.limeGreen}}),e.jsx("a",{href:"mailto:social@rento-lb.com",className:"text-gray-700 dark:text-gray-300 hover:underline",style:{color:wa.limeGreen},children:"social@rento-lb.com"})]})]})]}),e.jsxs("div",{className:"mb-4 sm:mb-0",children:[e.jsx("h3",{className:"font-bold mb-3 text-base text-gray-900 dark:text-white",style:{color:wa.darkBlue},children:"Company"}),e.jsx("ul",{className:"space-y-2",children:s.company.map(n=>e.jsx("li",{children:e.jsx(Ts,{to:n.to,className:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:n.label})},n.label))})]}),e.jsxs("div",{className:"mb-4 sm:mb-0",children:[e.jsx("h3",{className:"font-bold mb-3 text-base text-gray-900 dark:text-white",style:{color:wa.teal},children:"Support"}),e.jsx("ul",{className:"space-y-2",children:s.support.map(n=>e.jsx("li",{children:e.jsx(Ts,{to:n.to,className:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:n.label})},n.label))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold mb-3 text-base text-gray-900 dark:text-white",style:{color:wa.limeGreen},children:"Services"}),e.jsx("ul",{className:"space-y-2",children:s.services.map(n=>e.jsx("li",{children:e.jsx(Ts,{to:n.to,className:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:n.label})},n.label))})]})]}),e.jsx("div",{className:"my-8 border-t border-gray-200 dark:border-gray-800"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-3 text-center sm:text-left",children:"Follow Us"}),e.jsx("div",{className:"flex justify-center sm:justify-start items-center gap-3",children:a.map(n=>e.jsx("a",{href:n.href,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full flex items-center justify-center transition-all hover:scale-110 shadow-md hover:shadow-lg",style:{background:n.color},"aria-label":n.label,children:e.jsx(n.icon,{className:"w-5 h-5 text-white","aria-hidden":"true"})},n.label))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-3 text-center sm:text-left",children:"Trust & Security"}),e.jsxs("div",{className:"flex flex-wrap justify-center sm:justify-start items-center gap-3",children:[e.jsx("a",{href:"https://www.dmca.com/r/em2gpk5",title:"DMCA.com Protection Status",className:"dmca-badge",target:"_blank",rel:"noopener noreferrer",children:e.jsx("img",{src:"https://images.dmca.com/Badges/DMCA_logo-std-btn120w.png?ID=25eee832-1169-46e9-9a63-19f82b7e1b01",alt:"DMCA.com Protection Status",className:"h-8 w-auto"})}),e.jsx("a",{href:"https://www.trustpilot.com/evaluate/rento-lb.com",target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 rounded-lg text-white text-xs font-semibold shadow-md hover:shadow-lg transition-all hover:scale-105",style:{background:wa.teal},children:" Trustpilot Review"}),e.jsx("span",{className:"px-4 py-2 rounded-lg text-white text-xs font-semibold shadow-md",style:{background:wa.limeGreen},children:" Google Verified"}),e.jsx("a",{href:"https://find-and-update.company-information.service.gov.uk/company/16292007",target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 rounded-lg text-white text-xs font-semibold shadow-md hover:shadow-lg transition-all hover:scale-105",style:{background:wa.darkBlue},children:" UK Registered"})]})]}),e.jsx("div",{className:"pt-6 border-t border-gray-200 dark:border-gray-800",children:e.jsxs("div",{className:"flex flex-col items-center text-center space-y-3",children:[e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[" ",t," ",e.jsx("span",{className:"font-semibold",style:{color:wa.teal},children:"RENTO LB"}),". All rights reserved."]}),e.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-4 text-xs text-gray-500 dark:text-gray-500",children:[e.jsx(Ts,{to:"#",className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"Privacy Policy"}),e.jsx("span",{className:"text-gray-300 dark:text-gray-700",children:""}),e.jsx(Ts,{to:"#",className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"Terms of Service"}),e.jsx("span",{className:"text-gray-300 dark:text-gray-700",children:""}),e.jsx(Ts,{to:"#",className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"Cookie Policy"})]}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:["Made with ",e.jsx("span",{className:"text-red-500",children:""})," in Lebanon & UK"]})]})})]})})},VV=()=>{const t=Tr(),s=Ua(),{user:a,logout:n}=pu(),[r,i]=y.useState(!1),[l,d]=y.useState(!1);y.useEffect(()=>{const f=()=>i(window.scrollY>20);return window.addEventListener("scroll",f),()=>window.removeEventListener("scroll",f)},[]);const u=async()=>{try{await xe.post("/logout")}catch(f){console.error("Logout error:",f)}n(),se.success("Logged out successfully"),s("/")},h=[{to:"/Dashboard",label:"Dashboard",icon:Yj},{to:"/Statistic",label:"Statistics",icon:Qd},{to:"/Mycars",label:"My Cars",icon:zt},{to:"/Mycars-bookings",label:"Bookings",icon:Rs},{to:"/Balance",label:"Balance",icon:Ng},{to:"/add-car",label:"Add Car",icon:Gs},{to:"/Add/car/qualification",label:"Qualifications",icon:QT}],p=f=>f==="/Dashboard"?t.pathname==="/Dashboard":t.pathname.startsWith(f);return e.jsx("nav",{className:`fixed top-0 left-0 right-0 z-50 glass-strong shadow-lg transition-all duration-300 ${r?"backdrop-blur":""}`,children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex items-center justify-between h-16 md:h-12",children:[e.jsxs(Ts,{to:"/",className:"flex items-center space-x-2 group",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-transparent flex items-center justify-center hover-glow",children:e.jsx("img",{src:"/rentologo.png",alt:"Rento Logo",className:"rounded-lg w-10 h-10 object-contain"})}),e.jsx("span",{className:"text-xl md:text-2xl text-primary-foreground font-bold gradient-text hidden sm:block",children:"RENTO LB"})]}),e.jsx("div",{className:"hidden md:flex text-primary-foreground items-center space-x-1 flex-1 justify-center",children:h.map(f=>e.jsxs(Ts,{to:f.to,className:`px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-1.5 ${p(f.to)?"bg-primary text-primary-foreground":"text-foreground/80 hover:text-foreground hover:bg-muted"}`,children:[f.icon&&e.jsx(f.icon,{className:"w-4 h-4"}),f.label]},f.to))}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ts,{to:"/",children:e.jsx(K,{variant:"ghost",size:"icon",className:"hover-glow","aria-label":"Go to home",children:e.jsx(ZT,{className:"w-5 h-5"})})}),e.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-primary/10 text-primary-foreground",children:[e.jsx(_i,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:a?.username||"Agent"})]}),e.jsx(K,{variant:"ghost",size:"icon",onClick:u,className:"hover-glow hover:bg-red-500/10 hover:text-red-500","aria-label":"Logout",children:e.jsx(yl,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"md:hidden",children:e.jsx(K,{variant:"ghost",size:"icon",onClick:()=>d(!l),className:"hover-glow","aria-label":"Menu",children:l?e.jsx("svg",{className:"w-6 h-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{d:"M6 18L18 6M6 6l12 12"})}):e.jsx("svg",{className:"w-6 h-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{d:"M4 6h16M4 12h16M4 18h16"})})})})]})]}),l&&e.jsx("div",{className:"md:hidden pb-4 border-t border-border/40 mt-2 pt-4",children:e.jsxs("div",{className:"flex flex-col space-y-2",children:[h.map(f=>e.jsxs(Ts,{to:f.to,onClick:()=>d(!1),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-2 ${p(f.to)?"bg-primary text-primary-foreground":"text-foreground/80 hover:text-foreground hover:bg-muted"}`,children:[f.icon&&e.jsx(f.icon,{className:"w-4 h-4"}),f.label]},f.to)),e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 mt-2",children:[e.jsx(_i,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:a?.username||"Agent"})]}),e.jsxs(K,{variant:"ghost",onClick:()=>{d(!1),u()},className:"w-full justify-start hover:bg-red-500/10 hover:text-red-500",children:[e.jsx(yl,{className:"w-4 h-4 mr-2"}),"Logout"]})]})})]})})},nc=({children:t,noIndex:s=!1})=>e.jsxs(e.Fragment,{children:[e.jsx(VV,{}),e.jsx("main",{className:"pt-16 md:pt-12 min-h-screen",children:t}),e.jsx(ED,{})]}),UV=async t=>{const s=t.replace(/^\+/,"");return(await xe.post("/auth/send-otp",{phone_number:s})).data},RD=async(t,s)=>{const a=t.replace(/^\+/,"");return(await xe.post("/auth/verify-otp",{phone_number:a,otp_code:s})).data},oe=y.forwardRef(({className:t,type:s,...a},n)=>e.jsx("input",{type:s,className:mt("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...a}));oe.displayName="Input";var HV=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],qV=HV.reduce((t,s)=>{const a=Uj(`Primitive.${s}`),n=y.forwardRef((r,i)=>{const{asChild:l,...d}=r,u=l?a:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(u,{...d,ref:i})});return n.displayName=`Primitive.${s}`,{...t,[s]:n}},{}),GV="Label",MD=y.forwardRef((t,s)=>e.jsx(qV.label,{...t,ref:s,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(t.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));MD.displayName=GV;var PD=MD;const WV=Hj("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),q=y.forwardRef(({className:t,...s},a)=>e.jsx(PD,{ref:a,className:mt(WV(),t),...s}));q.displayName=PD.displayName;const Te=y.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:mt("rounded-xl border bg-card text-card-foreground shadow",t),...s}));Te.displayName="Card";const rs=y.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:mt("flex flex-col space-y-1.5 p-6",t),...s}));rs.displayName="CardHeader";const is=y.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:mt("font-semibold leading-none tracking-tight",t),...s}));is.displayName="CardTitle";const am=y.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:mt("text-sm text-muted-foreground",t),...s}));am.displayName="CardDescription";const Re=y.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:mt("p-6 pt-0",t),...s}));Re.displayName="CardContent";const YV=y.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:mt("flex items-center p-6 pt-0",t),...s}));YV.displayName="CardFooter";function st(t,s,{checkForDefaultPrevented:a=!0}={}){return function(r){if(t?.(r),a===!1||!r.defaultPrevented)return s?.(r)}}function KV(t,s){const a=y.createContext(s),n=i=>{const{children:l,...d}=i,u=y.useMemo(()=>d,Object.values(d));return e.jsx(a.Provider,{value:u,children:l})};n.displayName=t+"Provider";function r(i){const l=y.useContext(a);if(l)return l;if(s!==void 0)return s;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[n,r]}function nr(t,s=[]){let a=[];function n(i,l){const d=y.createContext(l),u=a.length;a=[...a,l];const h=f=>{const{scope:x,children:v,...j}=f,w=x?.[t]?.[u]||d,_=y.useMemo(()=>j,Object.values(j));return e.jsx(w.Provider,{value:_,children:v})};h.displayName=i+"Provider";function p(f,x){const v=x?.[t]?.[u]||d,j=y.useContext(v);if(j)return j;if(l!==void 0)return l;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[h,p]}const r=()=>{const i=a.map(l=>y.createContext(l));return function(d){const u=d?.[t]||i;return y.useMemo(()=>({[`__scope${t}`]:{...d,[t]:u}}),[d,u])}};return r.scopeName=t,[n,XV(r,...s)]}function XV(...t){const s=t[0];if(t.length===1)return s;const a=()=>{const n=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const l=n.reduce((d,{useScope:u,scopeName:h})=>{const f=u(i)[`__scope${h}`];return{...d,...f}},{});return y.useMemo(()=>({[`__scope${s.scopeName}`]:l}),[l])}};return a.scopeName=s.scopeName,a}function bk(t){const s=QV(t),a=y.forwardRef((n,r)=>{const{children:i,...l}=n,d=y.Children.toArray(i),u=d.find(JV);if(u){const h=u.props.children,p=d.map(f=>f===u?y.Children.count(h)>1?y.Children.only(null):y.isValidElement(h)?h.props.children:null:f);return e.jsx(s,{...l,ref:r,children:y.isValidElement(h)?y.cloneElement(h,void 0,p):null})}return e.jsx(s,{...l,ref:r,children:i})});return a.displayName=`${t}.Slot`,a}function QV(t){const s=y.forwardRef((a,n)=>{const{children:r,...i}=a;if(y.isValidElement(r)){const l=tU(r),d=eU(i,r.props);return r.type!==y.Fragment&&(d.ref=n?xo(n,l):l),y.cloneElement(r,d)}return y.Children.count(r)>1?y.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var ZV=Symbol("radix.slottable");function JV(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===ZV}function eU(t,s){const a={...s};for(const n in s){const r=t[n],i=s[n];/^on[A-Z]/.test(n)?r&&i?a[n]=(...d)=>{const u=i(...d);return r(...d),u}:r&&(a[n]=r):n==="style"?a[n]={...r,...i}:n==="className"&&(a[n]=[r,i].filter(Boolean).join(" "))}return{...t,...a}}function tU(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}function ux(t){const s=t+"CollectionProvider",[a,n]=nr(s),[r,i]=a(s,{collectionRef:{current:null},itemMap:new Map}),l=w=>{const{scope:_,children:N}=w,k=qe.useRef(null),D=qe.useRef(new Map).current;return e.jsx(r,{scope:_,itemMap:D,collectionRef:k,children:N})};l.displayName=s;const d=t+"CollectionSlot",u=bk(d),h=qe.forwardRef((w,_)=>{const{scope:N,children:k}=w,D=i(d,N),T=Ht(_,D.collectionRef);return e.jsx(u,{ref:T,children:k})});h.displayName=d;const p=t+"CollectionItemSlot",f="data-radix-collection-item",x=bk(p),v=qe.forwardRef((w,_)=>{const{scope:N,children:k,...D}=w,T=qe.useRef(null),E=Ht(_,T),G=i(p,N);return qe.useEffect(()=>(G.itemMap.set(T,{ref:T,...D}),()=>void G.itemMap.delete(T))),e.jsx(x,{[f]:"",ref:E,children:k})});v.displayName=p;function j(w){const _=i(t+"CollectionConsumer",w);return qe.useCallback(()=>{const k=_.collectionRef.current;if(!k)return[];const D=Array.from(k.querySelectorAll(`[${f}]`));return Array.from(_.itemMap.values()).sort((G,A)=>D.indexOf(G.ref.current)-D.indexOf(A.ref.current))},[_.collectionRef,_.itemMap])}return[{Provider:l,Slot:h,ItemSlot:v},j,n]}var on=globalThis?.document?y.useLayoutEffect:()=>{},sU=Oj[" useId ".trim().toString()]||(()=>{}),aU=0;function yi(t){const[s,a]=y.useState(sU());return on(()=>{a(n=>n??String(aU++))},[t]),s?`radix-${s}`:""}function nU(t){const s=rU(t),a=y.forwardRef((n,r)=>{const{children:i,...l}=n,d=y.Children.toArray(i),u=d.find(oU);if(u){const h=u.props.children,p=d.map(f=>f===u?y.Children.count(h)>1?y.Children.only(null):y.isValidElement(h)?h.props.children:null:f);return e.jsx(s,{...l,ref:r,children:y.isValidElement(h)?y.cloneElement(h,void 0,p):null})}return e.jsx(s,{...l,ref:r,children:i})});return a.displayName=`${t}.Slot`,a}function rU(t){const s=y.forwardRef((a,n)=>{const{children:r,...i}=a;if(y.isValidElement(r)){const l=cU(r),d=lU(i,r.props);return r.type!==y.Fragment&&(d.ref=n?xo(n,l):l),y.cloneElement(r,d)}return y.Children.count(r)>1?y.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var iU=Symbol("radix.slottable");function oU(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===iU}function lU(t,s){const a={...s};for(const n in s){const r=t[n],i=s[n];/^on[A-Z]/.test(n)?r&&i?a[n]=(...d)=>{const u=i(...d);return r(...d),u}:r&&(a[n]=r):n==="style"?a[n]={...r,...i}:n==="className"&&(a[n]=[r,i].filter(Boolean).join(" "))}return{...t,...a}}function cU(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var dU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Dt=dU.reduce((t,s)=>{const a=nU(`Primitive.${s}`),n=y.forwardRef((r,i)=>{const{asChild:l,...d}=r,u=l?a:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(u,{...d,ref:i})});return n.displayName=`Primitive.${s}`,{...t,[s]:n}},{});function OD(t,s){t&&Cm.flushSync(()=>t.dispatchEvent(s))}function Ci(t){const s=y.useRef(t);return y.useEffect(()=>{s.current=t}),y.useMemo(()=>(...a)=>s.current?.(...a),[])}var uU=Oj[" useInsertionEffect ".trim().toString()]||on;function co({prop:t,defaultProp:s,onChange:a=()=>{},caller:n}){const[r,i,l]=hU({defaultProp:s,onChange:a}),d=t!==void 0,u=d?t:r;{const p=y.useRef(t!==void 0);y.useEffect(()=>{const f=p.current;f!==d&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=d},[d,n])}const h=y.useCallback(p=>{if(d){const f=mU(p)?p(t):p;f!==t&&l.current?.(f)}else i(p)},[d,t,i,l]);return[u,h]}function hU({defaultProp:t,onChange:s}){const[a,n]=y.useState(t),r=y.useRef(a),i=y.useRef(s);return uU(()=>{i.current=s},[s]),y.useEffect(()=>{r.current!==a&&(i.current?.(a),r.current=a)},[a,r]),[a,n,i]}function mU(t){return typeof t=="function"}var fU=y.createContext(void 0);function Mm(t){const s=y.useContext(fU);return t||s||"ltr"}var xb="rovingFocusGroup.onEntryFocus",pU={bubbles:!1,cancelable:!0},Pm="RovingFocusGroup",[Fv,LD,gU]=ux(Pm),[xU,hx]=nr(Pm,[gU]),[yU,bU]=xU(Pm),BD=y.forwardRef((t,s)=>e.jsx(Fv.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(Fv.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(vU,{...t,ref:s})})}));BD.displayName=Pm;var vU=y.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:a,orientation:n,loop:r=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:u,onEntryFocus:h,preventScrollOnEntryFocus:p=!1,...f}=t,x=y.useRef(null),v=Ht(s,x),j=Mm(i),[w,_]=co({prop:l,defaultProp:d??null,onChange:u,caller:Pm}),[N,k]=y.useState(!1),D=Ci(h),T=LD(a),E=y.useRef(!1),[G,A]=y.useState(0);return y.useEffect(()=>{const F=x.current;if(F)return F.addEventListener(xb,D),()=>F.removeEventListener(xb,D)},[D]),e.jsx(yU,{scope:a,orientation:n,dir:j,loop:r,currentTabStopId:w,onItemFocus:y.useCallback(F=>_(F),[_]),onItemShiftTab:y.useCallback(()=>k(!0),[]),onFocusableItemAdd:y.useCallback(()=>A(F=>F+1),[]),onFocusableItemRemove:y.useCallback(()=>A(F=>F-1),[]),children:e.jsx(Dt.div,{tabIndex:N||G===0?-1:0,"data-orientation":n,...f,ref:v,style:{outline:"none",...t.style},onMouseDown:st(t.onMouseDown,()=>{E.current=!0}),onFocus:st(t.onFocus,F=>{const M=!E.current;if(F.target===F.currentTarget&&M&&!N){const J=new CustomEvent(xb,pU);if(F.currentTarget.dispatchEvent(J),!J.defaultPrevented){const R=T().filter(V=>V.focusable),ee=R.find(V=>V.active),Y=R.find(V=>V.id===w),te=[ee,Y,...R].filter(Boolean).map(V=>V.ref.current);$D(te,p)}}E.current=!1}),onBlur:st(t.onBlur,()=>k(!1))})})}),FD="RovingFocusGroupItem",ID=y.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:a,focusable:n=!0,active:r=!1,tabStopId:i,children:l,...d}=t,u=yi(),h=i||u,p=bU(FD,a),f=p.currentTabStopId===h,x=LD(a),{onFocusableItemAdd:v,onFocusableItemRemove:j,currentTabStopId:w}=p;return y.useEffect(()=>{if(n)return v(),()=>j()},[n,v,j]),e.jsx(Fv.ItemSlot,{scope:a,id:h,focusable:n,active:r,children:e.jsx(Dt.span,{tabIndex:f?0:-1,"data-orientation":p.orientation,...d,ref:s,onMouseDown:st(t.onMouseDown,_=>{n?p.onItemFocus(h):_.preventDefault()}),onFocus:st(t.onFocus,()=>p.onItemFocus(h)),onKeyDown:st(t.onKeyDown,_=>{if(_.key==="Tab"&&_.shiftKey){p.onItemShiftTab();return}if(_.target!==_.currentTarget)return;const N=NU(_,p.orientation,p.dir);if(N!==void 0){if(_.metaKey||_.ctrlKey||_.altKey||_.shiftKey)return;_.preventDefault();let D=x().filter(T=>T.focusable).map(T=>T.ref.current);if(N==="last")D.reverse();else if(N==="prev"||N==="next"){N==="prev"&&D.reverse();const T=D.indexOf(_.currentTarget);D=p.loop?_U(D,T+1):D.slice(T+1)}setTimeout(()=>$D(D))}}),children:typeof l=="function"?l({isCurrentTabStop:f,hasTabStop:w!=null}):l})})});ID.displayName=FD;var jU={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function wU(t,s){return s!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function NU(t,s,a){const n=wU(t.key,a);if(!(s==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(s==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return jU[n]}function $D(t,s=!1){const a=document.activeElement;for(const n of t)if(n===a||(n.focus({preventScroll:s}),document.activeElement!==a))return}function _U(t,s){return t.map((a,n)=>t[(s+n)%t.length])}var zD=BD,VD=ID;function CU(t,s){return y.useReducer((a,n)=>s[a][n]??a,t)}var Dr=t=>{const{present:s,children:a}=t,n=kU(s),r=typeof a=="function"?a({present:n.isPresent}):y.Children.only(a),i=Ht(n.ref,SU(r));return typeof a=="function"||n.isPresent?y.cloneElement(r,{ref:i}):null};Dr.displayName="Presence";function kU(t){const[s,a]=y.useState(),n=y.useRef(null),r=y.useRef(t),i=y.useRef("none"),l=t?"mounted":"unmounted",[d,u]=CU(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const h=gp(n.current);i.current=d==="mounted"?h:"none"},[d]),on(()=>{const h=n.current,p=r.current;if(p!==t){const x=i.current,v=gp(h);t?u("MOUNT"):v==="none"||h?.display==="none"?u("UNMOUNT"):u(p&&x!==v?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,u]),on(()=>{if(s){let h;const p=s.ownerDocument.defaultView??window,f=v=>{const w=gp(n.current).includes(CSS.escape(v.animationName));if(v.target===s&&w&&(u("ANIMATION_END"),!r.current)){const _=s.style.animationFillMode;s.style.animationFillMode="forwards",h=p.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=_)})}},x=v=>{v.target===s&&(i.current=gp(n.current))};return s.addEventListener("animationstart",x),s.addEventListener("animationcancel",f),s.addEventListener("animationend",f),()=>{p.clearTimeout(h),s.removeEventListener("animationstart",x),s.removeEventListener("animationcancel",f),s.removeEventListener("animationend",f)}}else u("ANIMATION_END")},[s,u]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:y.useCallback(h=>{n.current=h?getComputedStyle(h):null,a(h)},[])}}function gp(t){return t?.animationName||"none"}function SU(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var mx="Tabs",[AU]=nr(mx,[hx]),UD=hx(),[TU,ew]=AU(mx),HD=y.forwardRef((t,s)=>{const{__scopeTabs:a,value:n,onValueChange:r,defaultValue:i,orientation:l="horizontal",dir:d,activationMode:u="automatic",...h}=t,p=Mm(d),[f,x]=co({prop:n,onChange:r,defaultProp:i??"",caller:mx});return e.jsx(TU,{scope:a,baseId:yi(),value:f,onValueChange:x,orientation:l,dir:p,activationMode:u,children:e.jsx(Dt.div,{dir:p,"data-orientation":l,...h,ref:s})})});HD.displayName=mx;var qD="TabsList",GD=y.forwardRef((t,s)=>{const{__scopeTabs:a,loop:n=!0,...r}=t,i=ew(qD,a),l=UD(a);return e.jsx(zD,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:n,children:e.jsx(Dt.div,{role:"tablist","aria-orientation":i.orientation,...r,ref:s})})});GD.displayName=qD;var WD="TabsTrigger",YD=y.forwardRef((t,s)=>{const{__scopeTabs:a,value:n,disabled:r=!1,...i}=t,l=ew(WD,a),d=UD(a),u=QD(l.baseId,n),h=ZD(l.baseId,n),p=n===l.value;return e.jsx(VD,{asChild:!0,...d,focusable:!r,active:p,children:e.jsx(Dt.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":h,"data-state":p?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:u,...i,ref:s,onMouseDown:st(t.onMouseDown,f=>{!r&&f.button===0&&f.ctrlKey===!1?l.onValueChange(n):f.preventDefault()}),onKeyDown:st(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&l.onValueChange(n)}),onFocus:st(t.onFocus,()=>{const f=l.activationMode!=="manual";!p&&!r&&f&&l.onValueChange(n)})})})});YD.displayName=WD;var KD="TabsContent",XD=y.forwardRef((t,s)=>{const{__scopeTabs:a,value:n,forceMount:r,children:i,...l}=t,d=ew(KD,a),u=QD(d.baseId,n),h=ZD(d.baseId,n),p=n===d.value,f=y.useRef(p);return y.useEffect(()=>{const x=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(x)},[]),e.jsx(Dr,{present:r||p,children:({present:x})=>e.jsx(Dt.div,{"data-state":p?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":u,hidden:!x,id:h,tabIndex:0,...l,ref:s,style:{...t.style,animationDuration:f.current?"0s":void 0},children:x&&i})})});XD.displayName=KD;function QD(t,s){return`${t}-trigger-${s}`}function ZD(t,s){return`${t}-content-${s}`}var DU=HD,JD=GD,eE=YD,tE=XD;const uo=DU,ki=y.forwardRef(({className:t,...s},a)=>e.jsx(JD,{ref:a,className:mt("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",t),...s}));ki.displayName=JD.displayName;const Pt=y.forwardRef(({className:t,...s},a)=>e.jsx(eE,{ref:a,className:mt("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t),...s}));Pt.displayName=eE.displayName;const $t=y.forwardRef(({className:t,...s},a)=>e.jsx(tE,{ref:a,className:mt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s}));$t.displayName=tE.displayName;function kg(t,[s,a]){return Math.min(a,Math.max(s,t))}function EU(t,s=globalThis?.document){const a=Ci(t);y.useEffect(()=>{const n=r=>{r.key==="Escape"&&a(r)};return s.addEventListener("keydown",n,{capture:!0}),()=>s.removeEventListener("keydown",n,{capture:!0})},[a,s])}var RU="DismissableLayer",Iv="dismissableLayer.update",MU="dismissableLayer.pointerDownOutside",PU="dismissableLayer.focusOutside",vk,sE=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Om=y.forwardRef((t,s)=>{const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:n,onPointerDownOutside:r,onFocusOutside:i,onInteractOutside:l,onDismiss:d,...u}=t,h=y.useContext(sE),[p,f]=y.useState(null),x=p?.ownerDocument??globalThis?.document,[,v]=y.useState({}),j=Ht(s,A=>f(A)),w=Array.from(h.layers),[_]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),N=w.indexOf(_),k=p?w.indexOf(p):-1,D=h.layersWithOutsidePointerEventsDisabled.size>0,T=k>=N,E=BU(A=>{const F=A.target,M=[...h.branches].some(J=>J.contains(F));!T||M||(r?.(A),l?.(A),A.defaultPrevented||d?.())},x),G=FU(A=>{const F=A.target;[...h.branches].some(J=>J.contains(F))||(i?.(A),l?.(A),A.defaultPrevented||d?.())},x);return EU(A=>{k===h.layers.size-1&&(n?.(A),!A.defaultPrevented&&d&&(A.preventDefault(),d()))},x),y.useEffect(()=>{if(p)return a&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(vk=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),jk(),()=>{a&&h.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=vk)}},[p,x,a,h]),y.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),jk())},[p,h]),y.useEffect(()=>{const A=()=>v({});return document.addEventListener(Iv,A),()=>document.removeEventListener(Iv,A)},[]),e.jsx(Dt.div,{...u,ref:j,style:{pointerEvents:D?T?"auto":"none":void 0,...t.style},onFocusCapture:st(t.onFocusCapture,G.onFocusCapture),onBlurCapture:st(t.onBlurCapture,G.onBlurCapture),onPointerDownCapture:st(t.onPointerDownCapture,E.onPointerDownCapture)})});Om.displayName=RU;var OU="DismissableLayerBranch",LU=y.forwardRef((t,s)=>{const a=y.useContext(sE),n=y.useRef(null),r=Ht(s,n);return y.useEffect(()=>{const i=n.current;if(i)return a.branches.add(i),()=>{a.branches.delete(i)}},[a.branches]),e.jsx(Dt.div,{...t,ref:r})});LU.displayName=OU;function BU(t,s=globalThis?.document){const a=Ci(t),n=y.useRef(!1),r=y.useRef(()=>{});return y.useEffect(()=>{const i=d=>{if(d.target&&!n.current){let u=function(){aE(MU,a,h,{discrete:!0})};const h={originalEvent:d};d.pointerType==="touch"?(s.removeEventListener("click",r.current),r.current=u,s.addEventListener("click",r.current,{once:!0})):u()}else s.removeEventListener("click",r.current);n.current=!1},l=window.setTimeout(()=>{s.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),s.removeEventListener("pointerdown",i),s.removeEventListener("click",r.current)}},[s,a]),{onPointerDownCapture:()=>n.current=!0}}function FU(t,s=globalThis?.document){const a=Ci(t),n=y.useRef(!1);return y.useEffect(()=>{const r=i=>{i.target&&!n.current&&aE(PU,a,{originalEvent:i},{discrete:!1})};return s.addEventListener("focusin",r),()=>s.removeEventListener("focusin",r)},[s,a]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function jk(){const t=new CustomEvent(Iv);document.dispatchEvent(t)}function aE(t,s,a,{discrete:n}){const r=a.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:a});s&&r.addEventListener(t,s,{once:!0}),n?OD(r,i):r.dispatchEvent(i)}var yb=0;function tw(){y.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??wk()),document.body.insertAdjacentElement("beforeend",t[1]??wk()),yb++,()=>{yb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),yb--}},[])}function wk(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var bb="focusScope.autoFocusOnMount",vb="focusScope.autoFocusOnUnmount",Nk={bubbles:!1,cancelable:!0},IU="FocusScope",fx=y.forwardRef((t,s)=>{const{loop:a=!1,trapped:n=!1,onMountAutoFocus:r,onUnmountAutoFocus:i,...l}=t,[d,u]=y.useState(null),h=Ci(r),p=Ci(i),f=y.useRef(null),x=Ht(s,w=>u(w)),v=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(n){let w=function(D){if(v.paused||!d)return;const T=D.target;d.contains(T)?f.current=T:rl(f.current,{select:!0})},_=function(D){if(v.paused||!d)return;const T=D.relatedTarget;T!==null&&(d.contains(T)||rl(f.current,{select:!0}))},N=function(D){if(document.activeElement===document.body)for(const E of D)E.removedNodes.length>0&&rl(d)};document.addEventListener("focusin",w),document.addEventListener("focusout",_);const k=new MutationObserver(N);return d&&k.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",_),k.disconnect()}}},[n,d,v.paused]),y.useEffect(()=>{if(d){Ck.add(v);const w=document.activeElement;if(!d.contains(w)){const N=new CustomEvent(bb,Nk);d.addEventListener(bb,h),d.dispatchEvent(N),N.defaultPrevented||($U(qU(nE(d)),{select:!0}),document.activeElement===w&&rl(d))}return()=>{d.removeEventListener(bb,h),setTimeout(()=>{const N=new CustomEvent(vb,Nk);d.addEventListener(vb,p),d.dispatchEvent(N),N.defaultPrevented||rl(w??document.body,{select:!0}),d.removeEventListener(vb,p),Ck.remove(v)},0)}}},[d,h,p,v]);const j=y.useCallback(w=>{if(!a&&!n||v.paused)return;const _=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,N=document.activeElement;if(_&&N){const k=w.currentTarget,[D,T]=zU(k);D&&T?!w.shiftKey&&N===T?(w.preventDefault(),a&&rl(D,{select:!0})):w.shiftKey&&N===D&&(w.preventDefault(),a&&rl(T,{select:!0})):N===k&&w.preventDefault()}},[a,n,v.paused]);return e.jsx(Dt.div,{tabIndex:-1,...l,ref:x,onKeyDown:j})});fx.displayName=IU;function $U(t,{select:s=!1}={}){const a=document.activeElement;for(const n of t)if(rl(n,{select:s}),document.activeElement!==a)return}function zU(t){const s=nE(t),a=_k(s,t),n=_k(s.reverse(),t);return[a,n]}function nE(t){const s=[],a=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const r=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||r?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)s.push(a.currentNode);return s}function _k(t,s){for(const a of t)if(!VU(a,{upTo:s}))return a}function VU(t,{upTo:s}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(s!==void 0&&t===s)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function UU(t){return t instanceof HTMLInputElement&&"select"in t}function rl(t,{select:s=!1}={}){if(t&&t.focus){const a=document.activeElement;t.focus({preventScroll:!0}),t!==a&&UU(t)&&s&&t.select()}}var Ck=HU();function HU(){let t=[];return{add(s){const a=t[0];s!==a&&a?.pause(),t=kk(t,s),t.unshift(s)},remove(s){t=kk(t,s),t[0]?.resume()}}}function kk(t,s){const a=[...t],n=a.indexOf(s);return n!==-1&&a.splice(n,1),a}function qU(t){return t.filter(s=>s.tagName!=="A")}const GU=["top","right","bottom","left"],vl=Math.min,Zn=Math.max,Sg=Math.round,xp=Math.floor,bi=t=>({x:t,y:t}),WU={left:"right",right:"left",bottom:"top",top:"bottom"},YU={start:"end",end:"start"};function $v(t,s,a){return Zn(t,vl(s,a))}function ho(t,s){return typeof t=="function"?t(s):t}function mo(t){return t.split("-")[0]}function gu(t){return t.split("-")[1]}function sw(t){return t==="x"?"y":"x"}function aw(t){return t==="y"?"height":"width"}const KU=new Set(["top","bottom"]);function gi(t){return KU.has(mo(t))?"y":"x"}function nw(t){return sw(gi(t))}function XU(t,s,a){a===void 0&&(a=!1);const n=gu(t),r=nw(t),i=aw(r);let l=r==="x"?n===(a?"end":"start")?"right":"left":n==="start"?"bottom":"top";return s.reference[i]>s.floating[i]&&(l=Ag(l)),[l,Ag(l)]}function QU(t){const s=Ag(t);return[zv(t),s,zv(s)]}function zv(t){return t.replace(/start|end/g,s=>YU[s])}const Sk=["left","right"],Ak=["right","left"],ZU=["top","bottom"],JU=["bottom","top"];function eH(t,s,a){switch(t){case"top":case"bottom":return a?s?Ak:Sk:s?Sk:Ak;case"left":case"right":return s?ZU:JU;default:return[]}}function tH(t,s,a,n){const r=gu(t);let i=eH(mo(t),a==="start",n);return r&&(i=i.map(l=>l+"-"+r),s&&(i=i.concat(i.map(zv)))),i}function Ag(t){return t.replace(/left|right|bottom|top/g,s=>WU[s])}function sH(t){return{top:0,right:0,bottom:0,left:0,...t}}function rE(t){return typeof t!="number"?sH(t):{top:t,right:t,bottom:t,left:t}}function Tg(t){const{x:s,y:a,width:n,height:r}=t;return{width:n,height:r,top:a,left:s,right:s+n,bottom:a+r,x:s,y:a}}function Tk(t,s,a){let{reference:n,floating:r}=t;const i=gi(s),l=nw(s),d=aw(l),u=mo(s),h=i==="y",p=n.x+n.width/2-r.width/2,f=n.y+n.height/2-r.height/2,x=n[d]/2-r[d]/2;let v;switch(u){case"top":v={x:p,y:n.y-r.height};break;case"bottom":v={x:p,y:n.y+n.height};break;case"right":v={x:n.x+n.width,y:f};break;case"left":v={x:n.x-r.width,y:f};break;default:v={x:n.x,y:n.y}}switch(gu(s)){case"start":v[l]-=x*(a&&h?-1:1);break;case"end":v[l]+=x*(a&&h?-1:1);break}return v}const aH=async(t,s,a)=>{const{placement:n="bottom",strategy:r="absolute",middleware:i=[],platform:l}=a,d=i.filter(Boolean),u=await(l.isRTL==null?void 0:l.isRTL(s));let h=await l.getElementRects({reference:t,floating:s,strategy:r}),{x:p,y:f}=Tk(h,n,u),x=n,v={},j=0;for(let w=0;w<d.length;w++){const{name:_,fn:N}=d[w],{x:k,y:D,data:T,reset:E}=await N({x:p,y:f,initialPlacement:n,placement:x,strategy:r,middlewareData:v,rects:h,platform:l,elements:{reference:t,floating:s}});p=k??p,f=D??f,v={...v,[_]:{...v[_],...T}},E&&j<=50&&(j++,typeof E=="object"&&(E.placement&&(x=E.placement),E.rects&&(h=E.rects===!0?await l.getElementRects({reference:t,floating:s,strategy:r}):E.rects),{x:p,y:f}=Tk(h,x,u)),w=-1)}return{x:p,y:f,placement:x,strategy:r,middlewareData:v}};async function nm(t,s){var a;s===void 0&&(s={});const{x:n,y:r,platform:i,rects:l,elements:d,strategy:u}=t,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:f="floating",altBoundary:x=!1,padding:v=0}=ho(s,t),j=rE(v),_=d[x?f==="floating"?"reference":"floating":f],N=Tg(await i.getClippingRect({element:(a=await(i.isElement==null?void 0:i.isElement(_)))==null||a?_:_.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(d.floating)),boundary:h,rootBoundary:p,strategy:u})),k=f==="floating"?{x:n,y:r,width:l.floating.width,height:l.floating.height}:l.reference,D=await(i.getOffsetParent==null?void 0:i.getOffsetParent(d.floating)),T=await(i.isElement==null?void 0:i.isElement(D))?await(i.getScale==null?void 0:i.getScale(D))||{x:1,y:1}:{x:1,y:1},E=Tg(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:k,offsetParent:D,strategy:u}):k);return{top:(N.top-E.top+j.top)/T.y,bottom:(E.bottom-N.bottom+j.bottom)/T.y,left:(N.left-E.left+j.left)/T.x,right:(E.right-N.right+j.right)/T.x}}const nH=t=>({name:"arrow",options:t,async fn(s){const{x:a,y:n,placement:r,rects:i,platform:l,elements:d,middlewareData:u}=s,{element:h,padding:p=0}=ho(t,s)||{};if(h==null)return{};const f=rE(p),x={x:a,y:n},v=nw(r),j=aw(v),w=await l.getDimensions(h),_=v==="y",N=_?"top":"left",k=_?"bottom":"right",D=_?"clientHeight":"clientWidth",T=i.reference[j]+i.reference[v]-x[v]-i.floating[j],E=x[v]-i.reference[v],G=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let A=G?G[D]:0;(!A||!await(l.isElement==null?void 0:l.isElement(G)))&&(A=d.floating[D]||i.floating[j]);const F=T/2-E/2,M=A/2-w[j]/2-1,J=vl(f[N],M),R=vl(f[k],M),ee=J,Y=A-w[j]-R,re=A/2-w[j]/2+F,te=$v(ee,re,Y),V=!u.arrow&&gu(r)!=null&&re!==te&&i.reference[j]/2-(re<ee?J:R)-w[j]/2<0,U=V?re<ee?re-ee:re-Y:0;return{[v]:x[v]+U,data:{[v]:te,centerOffset:re-te-U,...V&&{alignmentOffset:U}},reset:V}}}),rH=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(s){var a,n;const{placement:r,middlewareData:i,rects:l,initialPlacement:d,platform:u,elements:h}=s,{mainAxis:p=!0,crossAxis:f=!0,fallbackPlacements:x,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:w=!0,..._}=ho(t,s);if((a=i.arrow)!=null&&a.alignmentOffset)return{};const N=mo(r),k=gi(d),D=mo(d)===d,T=await(u.isRTL==null?void 0:u.isRTL(h.floating)),E=x||(D||!w?[Ag(d)]:QU(d)),G=j!=="none";!x&&G&&E.push(...tH(d,w,j,T));const A=[d,...E],F=await nm(s,_),M=[];let J=((n=i.flip)==null?void 0:n.overflows)||[];if(p&&M.push(F[N]),f){const re=XU(r,l,T);M.push(F[re[0]],F[re[1]])}if(J=[...J,{placement:r,overflows:M}],!M.every(re=>re<=0)){var R,ee;const re=(((R=i.flip)==null?void 0:R.index)||0)+1,te=A[re];if(te&&(!(f==="alignment"?k!==gi(te):!1)||J.every(H=>gi(H.placement)===k?H.overflows[0]>0:!0)))return{data:{index:re,overflows:J},reset:{placement:te}};let V=(ee=J.filter(U=>U.overflows[0]<=0).sort((U,H)=>U.overflows[1]-H.overflows[1])[0])==null?void 0:ee.placement;if(!V)switch(v){case"bestFit":{var Y;const U=(Y=J.filter(H=>{if(G){const L=gi(H.placement);return L===k||L==="y"}return!0}).map(H=>[H.placement,H.overflows.filter(L=>L>0).reduce((L,$)=>L+$,0)]).sort((H,L)=>H[1]-L[1])[0])==null?void 0:Y[0];U&&(V=U);break}case"initialPlacement":V=d;break}if(r!==V)return{reset:{placement:V}}}return{}}}};function Dk(t,s){return{top:t.top-s.height,right:t.right-s.width,bottom:t.bottom-s.height,left:t.left-s.width}}function Ek(t){return GU.some(s=>t[s]>=0)}const iH=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(s){const{rects:a}=s,{strategy:n="referenceHidden",...r}=ho(t,s);switch(n){case"referenceHidden":{const i=await nm(s,{...r,elementContext:"reference"}),l=Dk(i,a.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:Ek(l)}}}case"escaped":{const i=await nm(s,{...r,altBoundary:!0}),l=Dk(i,a.floating);return{data:{escapedOffsets:l,escaped:Ek(l)}}}default:return{}}}}},iE=new Set(["left","top"]);async function oH(t,s){const{placement:a,platform:n,elements:r}=t,i=await(n.isRTL==null?void 0:n.isRTL(r.floating)),l=mo(a),d=gu(a),u=gi(a)==="y",h=iE.has(l)?-1:1,p=i&&u?-1:1,f=ho(s,t);let{mainAxis:x,crossAxis:v,alignmentAxis:j}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return d&&typeof j=="number"&&(v=d==="end"?j*-1:j),u?{x:v*p,y:x*h}:{x:x*h,y:v*p}}const lH=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(s){var a,n;const{x:r,y:i,placement:l,middlewareData:d}=s,u=await oH(s,t);return l===((a=d.offset)==null?void 0:a.placement)&&(n=d.arrow)!=null&&n.alignmentOffset?{}:{x:r+u.x,y:i+u.y,data:{...u,placement:l}}}}},cH=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(s){const{x:a,y:n,placement:r}=s,{mainAxis:i=!0,crossAxis:l=!1,limiter:d={fn:_=>{let{x:N,y:k}=_;return{x:N,y:k}}},...u}=ho(t,s),h={x:a,y:n},p=await nm(s,u),f=gi(mo(r)),x=sw(f);let v=h[x],j=h[f];if(i){const _=x==="y"?"top":"left",N=x==="y"?"bottom":"right",k=v+p[_],D=v-p[N];v=$v(k,v,D)}if(l){const _=f==="y"?"top":"left",N=f==="y"?"bottom":"right",k=j+p[_],D=j-p[N];j=$v(k,j,D)}const w=d.fn({...s,[x]:v,[f]:j});return{...w,data:{x:w.x-a,y:w.y-n,enabled:{[x]:i,[f]:l}}}}}},dH=function(t){return t===void 0&&(t={}),{options:t,fn(s){const{x:a,y:n,placement:r,rects:i,middlewareData:l}=s,{offset:d=0,mainAxis:u=!0,crossAxis:h=!0}=ho(t,s),p={x:a,y:n},f=gi(r),x=sw(f);let v=p[x],j=p[f];const w=ho(d,s),_=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(u){const D=x==="y"?"height":"width",T=i.reference[x]-i.floating[D]+_.mainAxis,E=i.reference[x]+i.reference[D]-_.mainAxis;v<T?v=T:v>E&&(v=E)}if(h){var N,k;const D=x==="y"?"width":"height",T=iE.has(mo(r)),E=i.reference[f]-i.floating[D]+(T&&((N=l.offset)==null?void 0:N[f])||0)+(T?0:_.crossAxis),G=i.reference[f]+i.reference[D]+(T?0:((k=l.offset)==null?void 0:k[f])||0)-(T?_.crossAxis:0);j<E?j=E:j>G&&(j=G)}return{[x]:v,[f]:j}}}},uH=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(s){var a,n;const{placement:r,rects:i,platform:l,elements:d}=s,{apply:u=()=>{},...h}=ho(t,s),p=await nm(s,h),f=mo(r),x=gu(r),v=gi(r)==="y",{width:j,height:w}=i.floating;let _,N;f==="top"||f==="bottom"?(_=f,N=x===(await(l.isRTL==null?void 0:l.isRTL(d.floating))?"start":"end")?"left":"right"):(N=f,_=x==="end"?"top":"bottom");const k=w-p.top-p.bottom,D=j-p.left-p.right,T=vl(w-p[_],k),E=vl(j-p[N],D),G=!s.middlewareData.shift;let A=T,F=E;if((a=s.middlewareData.shift)!=null&&a.enabled.x&&(F=D),(n=s.middlewareData.shift)!=null&&n.enabled.y&&(A=k),G&&!x){const J=Zn(p.left,0),R=Zn(p.right,0),ee=Zn(p.top,0),Y=Zn(p.bottom,0);v?F=j-2*(J!==0||R!==0?J+R:Zn(p.left,p.right)):A=w-2*(ee!==0||Y!==0?ee+Y:Zn(p.top,p.bottom))}await u({...s,availableWidth:F,availableHeight:A});const M=await l.getDimensions(d.floating);return j!==M.width||w!==M.height?{reset:{rects:!0}}:{}}}};function px(){return typeof window<"u"}function xu(t){return oE(t)?(t.nodeName||"").toLowerCase():"#document"}function er(t){var s;return(t==null||(s=t.ownerDocument)==null?void 0:s.defaultView)||window}function Ai(t){var s;return(s=(oE(t)?t.ownerDocument:t.document)||window.document)==null?void 0:s.documentElement}function oE(t){return px()?t instanceof Node||t instanceof er(t).Node:!1}function Wr(t){return px()?t instanceof Element||t instanceof er(t).Element:!1}function Si(t){return px()?t instanceof HTMLElement||t instanceof er(t).HTMLElement:!1}function Rk(t){return!px()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof er(t).ShadowRoot}const hH=new Set(["inline","contents"]);function Lm(t){const{overflow:s,overflowX:a,overflowY:n,display:r}=Yr(t);return/auto|scroll|overlay|hidden|clip/.test(s+n+a)&&!hH.has(r)}const mH=new Set(["table","td","th"]);function fH(t){return mH.has(xu(t))}const pH=[":popover-open",":modal"];function gx(t){return pH.some(s=>{try{return t.matches(s)}catch{return!1}})}const gH=["transform","translate","scale","rotate","perspective"],xH=["transform","translate","scale","rotate","perspective","filter"],yH=["paint","layout","strict","content"];function rw(t){const s=iw(),a=Wr(t)?Yr(t):t;return gH.some(n=>a[n]?a[n]!=="none":!1)||(a.containerType?a.containerType!=="normal":!1)||!s&&(a.backdropFilter?a.backdropFilter!=="none":!1)||!s&&(a.filter?a.filter!=="none":!1)||xH.some(n=>(a.willChange||"").includes(n))||yH.some(n=>(a.contain||"").includes(n))}function bH(t){let s=jl(t);for(;Si(s)&&!eu(s);){if(rw(s))return s;if(gx(s))return null;s=jl(s)}return null}function iw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const vH=new Set(["html","body","#document"]);function eu(t){return vH.has(xu(t))}function Yr(t){return er(t).getComputedStyle(t)}function xx(t){return Wr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function jl(t){if(xu(t)==="html")return t;const s=t.assignedSlot||t.parentNode||Rk(t)&&t.host||Ai(t);return Rk(s)?s.host:s}function lE(t){const s=jl(t);return eu(s)?t.ownerDocument?t.ownerDocument.body:t.body:Si(s)&&Lm(s)?s:lE(s)}function rm(t,s,a){var n;s===void 0&&(s=[]),a===void 0&&(a=!0);const r=lE(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),l=er(r);if(i){const d=Vv(l);return s.concat(l,l.visualViewport||[],Lm(r)?r:[],d&&a?rm(d):[])}return s.concat(r,rm(r,[],a))}function Vv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function cE(t){const s=Yr(t);let a=parseFloat(s.width)||0,n=parseFloat(s.height)||0;const r=Si(t),i=r?t.offsetWidth:a,l=r?t.offsetHeight:n,d=Sg(a)!==i||Sg(n)!==l;return d&&(a=i,n=l),{width:a,height:n,$:d}}function ow(t){return Wr(t)?t:t.contextElement}function Gd(t){const s=ow(t);if(!Si(s))return bi(1);const a=s.getBoundingClientRect(),{width:n,height:r,$:i}=cE(s);let l=(i?Sg(a.width):a.width)/n,d=(i?Sg(a.height):a.height)/r;return(!l||!Number.isFinite(l))&&(l=1),(!d||!Number.isFinite(d))&&(d=1),{x:l,y:d}}const jH=bi(0);function dE(t){const s=er(t);return!iw()||!s.visualViewport?jH:{x:s.visualViewport.offsetLeft,y:s.visualViewport.offsetTop}}function wH(t,s,a){return s===void 0&&(s=!1),!a||s&&a!==er(t)?!1:s}function Pc(t,s,a,n){s===void 0&&(s=!1),a===void 0&&(a=!1);const r=t.getBoundingClientRect(),i=ow(t);let l=bi(1);s&&(n?Wr(n)&&(l=Gd(n)):l=Gd(t));const d=wH(i,a,n)?dE(i):bi(0);let u=(r.left+d.x)/l.x,h=(r.top+d.y)/l.y,p=r.width/l.x,f=r.height/l.y;if(i){const x=er(i),v=n&&Wr(n)?er(n):n;let j=x,w=Vv(j);for(;w&&n&&v!==j;){const _=Gd(w),N=w.getBoundingClientRect(),k=Yr(w),D=N.left+(w.clientLeft+parseFloat(k.paddingLeft))*_.x,T=N.top+(w.clientTop+parseFloat(k.paddingTop))*_.y;u*=_.x,h*=_.y,p*=_.x,f*=_.y,u+=D,h+=T,j=er(w),w=Vv(j)}}return Tg({width:p,height:f,x:u,y:h})}function yx(t,s){const a=xx(t).scrollLeft;return s?s.left+a:Pc(Ai(t)).left+a}function uE(t,s){const a=t.getBoundingClientRect(),n=a.left+s.scrollLeft-yx(t,a),r=a.top+s.scrollTop;return{x:n,y:r}}function NH(t){let{elements:s,rect:a,offsetParent:n,strategy:r}=t;const i=r==="fixed",l=Ai(n),d=s?gx(s.floating):!1;if(n===l||d&&i)return a;let u={scrollLeft:0,scrollTop:0},h=bi(1);const p=bi(0),f=Si(n);if((f||!f&&!i)&&((xu(n)!=="body"||Lm(l))&&(u=xx(n)),Si(n))){const v=Pc(n);h=Gd(n),p.x=v.x+n.clientLeft,p.y=v.y+n.clientTop}const x=l&&!f&&!i?uE(l,u):bi(0);return{width:a.width*h.x,height:a.height*h.y,x:a.x*h.x-u.scrollLeft*h.x+p.x+x.x,y:a.y*h.y-u.scrollTop*h.y+p.y+x.y}}function _H(t){return Array.from(t.getClientRects())}function CH(t){const s=Ai(t),a=xx(t),n=t.ownerDocument.body,r=Zn(s.scrollWidth,s.clientWidth,n.scrollWidth,n.clientWidth),i=Zn(s.scrollHeight,s.clientHeight,n.scrollHeight,n.clientHeight);let l=-a.scrollLeft+yx(t);const d=-a.scrollTop;return Yr(n).direction==="rtl"&&(l+=Zn(s.clientWidth,n.clientWidth)-r),{width:r,height:i,x:l,y:d}}const Mk=25;function kH(t,s){const a=er(t),n=Ai(t),r=a.visualViewport;let i=n.clientWidth,l=n.clientHeight,d=0,u=0;if(r){i=r.width,l=r.height;const p=iw();(!p||p&&s==="fixed")&&(d=r.offsetLeft,u=r.offsetTop)}const h=yx(n);if(h<=0){const p=n.ownerDocument,f=p.body,x=getComputedStyle(f),v=p.compatMode==="CSS1Compat"&&parseFloat(x.marginLeft)+parseFloat(x.marginRight)||0,j=Math.abs(n.clientWidth-f.clientWidth-v);j<=Mk&&(i-=j)}else h<=Mk&&(i+=h);return{width:i,height:l,x:d,y:u}}const SH=new Set(["absolute","fixed"]);function AH(t,s){const a=Pc(t,!0,s==="fixed"),n=a.top+t.clientTop,r=a.left+t.clientLeft,i=Si(t)?Gd(t):bi(1),l=t.clientWidth*i.x,d=t.clientHeight*i.y,u=r*i.x,h=n*i.y;return{width:l,height:d,x:u,y:h}}function Pk(t,s,a){let n;if(s==="viewport")n=kH(t,a);else if(s==="document")n=CH(Ai(t));else if(Wr(s))n=AH(s,a);else{const r=dE(t);n={x:s.x-r.x,y:s.y-r.y,width:s.width,height:s.height}}return Tg(n)}function hE(t,s){const a=jl(t);return a===s||!Wr(a)||eu(a)?!1:Yr(a).position==="fixed"||hE(a,s)}function TH(t,s){const a=s.get(t);if(a)return a;let n=rm(t,[],!1).filter(d=>Wr(d)&&xu(d)!=="body"),r=null;const i=Yr(t).position==="fixed";let l=i?jl(t):t;for(;Wr(l)&&!eu(l);){const d=Yr(l),u=rw(l);!u&&d.position==="fixed"&&(r=null),(i?!u&&!r:!u&&d.position==="static"&&!!r&&SH.has(r.position)||Lm(l)&&!u&&hE(t,l))?n=n.filter(p=>p!==l):r=d,l=jl(l)}return s.set(t,n),n}function DH(t){let{element:s,boundary:a,rootBoundary:n,strategy:r}=t;const l=[...a==="clippingAncestors"?gx(s)?[]:TH(s,this._c):[].concat(a),n],d=l[0],u=l.reduce((h,p)=>{const f=Pk(s,p,r);return h.top=Zn(f.top,h.top),h.right=vl(f.right,h.right),h.bottom=vl(f.bottom,h.bottom),h.left=Zn(f.left,h.left),h},Pk(s,d,r));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function EH(t){const{width:s,height:a}=cE(t);return{width:s,height:a}}function RH(t,s,a){const n=Si(s),r=Ai(s),i=a==="fixed",l=Pc(t,!0,i,s);let d={scrollLeft:0,scrollTop:0};const u=bi(0);function h(){u.x=yx(r)}if(n||!n&&!i)if((xu(s)!=="body"||Lm(r))&&(d=xx(s)),n){const v=Pc(s,!0,i,s);u.x=v.x+s.clientLeft,u.y=v.y+s.clientTop}else r&&h();i&&!n&&r&&h();const p=r&&!n&&!i?uE(r,d):bi(0),f=l.left+d.scrollLeft-u.x-p.x,x=l.top+d.scrollTop-u.y-p.y;return{x:f,y:x,width:l.width,height:l.height}}function jb(t){return Yr(t).position==="static"}function Ok(t,s){if(!Si(t)||Yr(t).position==="fixed")return null;if(s)return s(t);let a=t.offsetParent;return Ai(t)===a&&(a=a.ownerDocument.body),a}function mE(t,s){const a=er(t);if(gx(t))return a;if(!Si(t)){let r=jl(t);for(;r&&!eu(r);){if(Wr(r)&&!jb(r))return r;r=jl(r)}return a}let n=Ok(t,s);for(;n&&fH(n)&&jb(n);)n=Ok(n,s);return n&&eu(n)&&jb(n)&&!rw(n)?a:n||bH(t)||a}const MH=async function(t){const s=this.getOffsetParent||mE,a=this.getDimensions,n=await a(t.floating);return{reference:RH(t.reference,await s(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function PH(t){return Yr(t).direction==="rtl"}const OH={convertOffsetParentRelativeRectToViewportRelativeRect:NH,getDocumentElement:Ai,getClippingRect:DH,getOffsetParent:mE,getElementRects:MH,getClientRects:_H,getDimensions:EH,getScale:Gd,isElement:Wr,isRTL:PH};function fE(t,s){return t.x===s.x&&t.y===s.y&&t.width===s.width&&t.height===s.height}function LH(t,s){let a=null,n;const r=Ai(t);function i(){var d;clearTimeout(n),(d=a)==null||d.disconnect(),a=null}function l(d,u){d===void 0&&(d=!1),u===void 0&&(u=1),i();const h=t.getBoundingClientRect(),{left:p,top:f,width:x,height:v}=h;if(d||s(),!x||!v)return;const j=xp(f),w=xp(r.clientWidth-(p+x)),_=xp(r.clientHeight-(f+v)),N=xp(p),D={rootMargin:-j+"px "+-w+"px "+-_+"px "+-N+"px",threshold:Zn(0,vl(1,u))||1};let T=!0;function E(G){const A=G[0].intersectionRatio;if(A!==u){if(!T)return l();A?l(!1,A):n=setTimeout(()=>{l(!1,1e-7)},1e3)}A===1&&!fE(h,t.getBoundingClientRect())&&l(),T=!1}try{a=new IntersectionObserver(E,{...D,root:r.ownerDocument})}catch{a=new IntersectionObserver(E,D)}a.observe(t)}return l(!0),i}function BH(t,s,a,n){n===void 0&&(n={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,h=ow(t),p=r||i?[...h?rm(h):[],...rm(s)]:[];p.forEach(N=>{r&&N.addEventListener("scroll",a,{passive:!0}),i&&N.addEventListener("resize",a)});const f=h&&d?LH(h,a):null;let x=-1,v=null;l&&(v=new ResizeObserver(N=>{let[k]=N;k&&k.target===h&&v&&(v.unobserve(s),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var D;(D=v)==null||D.observe(s)})),a()}),h&&!u&&v.observe(h),v.observe(s));let j,w=u?Pc(t):null;u&&_();function _(){const N=Pc(t);w&&!fE(w,N)&&a(),w=N,j=requestAnimationFrame(_)}return a(),()=>{var N;p.forEach(k=>{r&&k.removeEventListener("scroll",a),i&&k.removeEventListener("resize",a)}),f?.(),(N=v)==null||N.disconnect(),v=null,u&&cancelAnimationFrame(j)}}const FH=lH,IH=cH,$H=rH,zH=uH,VH=iH,Lk=nH,UH=dH,HH=(t,s,a)=>{const n=new Map,r={platform:OH,...a},i={...r.platform,_c:n};return aH(t,s,{...r,platform:i})};var qH=typeof document<"u",GH=function(){},eg=qH?y.useLayoutEffect:GH;function Dg(t,s){if(t===s)return!0;if(typeof t!=typeof s)return!1;if(typeof t=="function"&&t.toString()===s.toString())return!0;let a,n,r;if(t&&s&&typeof t=="object"){if(Array.isArray(t)){if(a=t.length,a!==s.length)return!1;for(n=a;n--!==0;)if(!Dg(t[n],s[n]))return!1;return!0}if(r=Object.keys(t),a=r.length,a!==Object.keys(s).length)return!1;for(n=a;n--!==0;)if(!{}.hasOwnProperty.call(s,r[n]))return!1;for(n=a;n--!==0;){const i=r[n];if(!(i==="_owner"&&t.$$typeof)&&!Dg(t[i],s[i]))return!1}return!0}return t!==t&&s!==s}function pE(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Bk(t,s){const a=pE(t);return Math.round(s*a)/a}function wb(t){const s=y.useRef(t);return eg(()=>{s.current=t}),s}function WH(t){t===void 0&&(t={});const{placement:s="bottom",strategy:a="absolute",middleware:n=[],platform:r,elements:{reference:i,floating:l}={},transform:d=!0,whileElementsMounted:u,open:h}=t,[p,f]=y.useState({x:0,y:0,strategy:a,placement:s,middlewareData:{},isPositioned:!1}),[x,v]=y.useState(n);Dg(x,n)||v(n);const[j,w]=y.useState(null),[_,N]=y.useState(null),k=y.useCallback(H=>{H!==G.current&&(G.current=H,w(H))},[]),D=y.useCallback(H=>{H!==A.current&&(A.current=H,N(H))},[]),T=i||j,E=l||_,G=y.useRef(null),A=y.useRef(null),F=y.useRef(p),M=u!=null,J=wb(u),R=wb(r),ee=wb(h),Y=y.useCallback(()=>{if(!G.current||!A.current)return;const H={placement:s,strategy:a,middleware:x};R.current&&(H.platform=R.current),HH(G.current,A.current,H).then(L=>{const $={...L,isPositioned:ee.current!==!1};re.current&&!Dg(F.current,$)&&(F.current=$,Cm.flushSync(()=>{f($)}))})},[x,s,a,R,ee]);eg(()=>{h===!1&&F.current.isPositioned&&(F.current.isPositioned=!1,f(H=>({...H,isPositioned:!1})))},[h]);const re=y.useRef(!1);eg(()=>(re.current=!0,()=>{re.current=!1}),[]),eg(()=>{if(T&&(G.current=T),E&&(A.current=E),T&&E){if(J.current)return J.current(T,E,Y);Y()}},[T,E,Y,J,M]);const te=y.useMemo(()=>({reference:G,floating:A,setReference:k,setFloating:D}),[k,D]),V=y.useMemo(()=>({reference:T,floating:E}),[T,E]),U=y.useMemo(()=>{const H={position:a,left:0,top:0};if(!V.floating)return H;const L=Bk(V.floating,p.x),$=Bk(V.floating,p.y);return d?{...H,transform:"translate("+L+"px, "+$+"px)",...pE(V.floating)>=1.5&&{willChange:"transform"}}:{position:a,left:L,top:$}},[a,d,V.floating,p.x,p.y]);return y.useMemo(()=>({...p,update:Y,refs:te,elements:V,floatingStyles:U}),[p,Y,te,V,U])}const YH=t=>{function s(a){return{}.hasOwnProperty.call(a,"current")}return{name:"arrow",options:t,fn(a){const{element:n,padding:r}=typeof t=="function"?t(a):t;return n&&s(n)?n.current!=null?Lk({element:n.current,padding:r}).fn(a):{}:n?Lk({element:n,padding:r}).fn(a):{}}}},KH=(t,s)=>({...FH(t),options:[t,s]}),XH=(t,s)=>({...IH(t),options:[t,s]}),QH=(t,s)=>({...UH(t),options:[t,s]}),ZH=(t,s)=>({...$H(t),options:[t,s]}),JH=(t,s)=>({...zH(t),options:[t,s]}),eq=(t,s)=>({...VH(t),options:[t,s]}),tq=(t,s)=>({...YH(t),options:[t,s]});var sq="Arrow",gE=y.forwardRef((t,s)=>{const{children:a,width:n=10,height:r=5,...i}=t;return e.jsx(Dt.svg,{...i,ref:s,width:n,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?a:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});gE.displayName=sq;var aq=gE;function bx(t){const[s,a]=y.useState(void 0);return on(()=>{if(t){a({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const i=r[0];let l,d;if("borderBoxSize"in i){const u=i.borderBoxSize,h=Array.isArray(u)?u[0]:u;l=h.inlineSize,d=h.blockSize}else l=t.offsetWidth,d=t.offsetHeight;a({width:l,height:d})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else a(void 0)},[t]),s}var lw="Popper",[xE,yu]=nr(lw),[nq,yE]=xE(lw),bE=t=>{const{__scopePopper:s,children:a}=t,[n,r]=y.useState(null);return e.jsx(nq,{scope:s,anchor:n,onAnchorChange:r,children:a})};bE.displayName=lw;var vE="PopperAnchor",jE=y.forwardRef((t,s)=>{const{__scopePopper:a,virtualRef:n,...r}=t,i=yE(vE,a),l=y.useRef(null),d=Ht(s,l),u=y.useRef(null);return y.useEffect(()=>{const h=u.current;u.current=n?.current||l.current,h!==u.current&&i.onAnchorChange(u.current)}),n?null:e.jsx(Dt.div,{...r,ref:d})});jE.displayName=vE;var cw="PopperContent",[rq,iq]=xE(cw),wE=y.forwardRef((t,s)=>{const{__scopePopper:a,side:n="bottom",sideOffset:r=0,align:i="center",alignOffset:l=0,arrowPadding:d=0,avoidCollisions:u=!0,collisionBoundary:h=[],collisionPadding:p=0,sticky:f="partial",hideWhenDetached:x=!1,updatePositionStrategy:v="optimized",onPlaced:j,...w}=t,_=yE(cw,a),[N,k]=y.useState(null),D=Ht(s,ye=>k(ye)),[T,E]=y.useState(null),G=bx(T),A=G?.width??0,F=G?.height??0,M=n+(i!=="center"?"-"+i:""),J=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},R=Array.isArray(h)?h:[h],ee=R.length>0,Y={padding:J,boundary:R.filter(lq),altBoundary:ee},{refs:re,floatingStyles:te,placement:V,isPositioned:U,middlewareData:H}=WH({strategy:"fixed",placement:M,whileElementsMounted:(...ye)=>BH(...ye,{animationFrame:v==="always"}),elements:{reference:_.anchor},middleware:[KH({mainAxis:r+F,alignmentAxis:l}),u&&XH({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?QH():void 0,...Y}),u&&ZH({...Y}),JH({...Y,apply:({elements:ye,rects:Le,availableWidth:Se,availableHeight:Ge})=>{const{width:nt,height:Ae}=Le.reference,Ye=ye.floating.style;Ye.setProperty("--radix-popper-available-width",`${Se}px`),Ye.setProperty("--radix-popper-available-height",`${Ge}px`),Ye.setProperty("--radix-popper-anchor-width",`${nt}px`),Ye.setProperty("--radix-popper-anchor-height",`${Ae}px`)}}),T&&tq({element:T,padding:d}),cq({arrowWidth:A,arrowHeight:F}),x&&eq({strategy:"referenceHidden",...Y})]}),[L,$]=CE(V),z=Ci(j);on(()=>{U&&z?.()},[U,z]);const ie=H.arrow?.x,le=H.arrow?.y,ne=H.arrow?.centerOffset!==0,[fe,Ne]=y.useState();return on(()=>{N&&Ne(window.getComputedStyle(N).zIndex)},[N]),e.jsx("div",{ref:re.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:U?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[H.transformOrigin?.x,H.transformOrigin?.y].join(" "),...H.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(rq,{scope:a,placedSide:L,onArrowChange:E,arrowX:ie,arrowY:le,shouldHideArrow:ne,children:e.jsx(Dt.div,{"data-side":L,"data-align":$,...w,ref:D,style:{...w.style,animation:U?void 0:"none"}})})})});wE.displayName=cw;var NE="PopperArrow",oq={top:"bottom",right:"left",bottom:"top",left:"right"},_E=y.forwardRef(function(s,a){const{__scopePopper:n,...r}=s,i=iq(NE,n),l=oq[i.placedSide];return e.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:e.jsx(aq,{...r,ref:a,style:{...r.style,display:"block"}})})});_E.displayName=NE;function lq(t){return t!==null}var cq=t=>({name:"transformOrigin",options:t,fn(s){const{placement:a,rects:n,middlewareData:r}=s,l=r.arrow?.centerOffset!==0,d=l?0:t.arrowWidth,u=l?0:t.arrowHeight,[h,p]=CE(a),f={start:"0%",center:"50%",end:"100%"}[p],x=(r.arrow?.x??0)+d/2,v=(r.arrow?.y??0)+u/2;let j="",w="";return h==="bottom"?(j=l?f:`${x}px`,w=`${-u}px`):h==="top"?(j=l?f:`${x}px`,w=`${n.floating.height+u}px`):h==="right"?(j=`${-u}px`,w=l?f:`${v}px`):h==="left"&&(j=`${n.floating.width+u}px`,w=l?f:`${v}px`),{data:{x:j,y:w}}}});function CE(t){const[s,a="center"]=t.split("-");return[s,a]}var kE=bE,dw=jE,uw=wE,hw=_E,dq="Portal",Bm=y.forwardRef((t,s)=>{const{container:a,...n}=t,[r,i]=y.useState(!1);on(()=>i(!0),[]);const l=a||r&&globalThis?.document?.body;return l?DT.createPortal(e.jsx(Dt.div,{...n,ref:s}),l):null});Bm.displayName=dq;function uq(t){const s=hq(t),a=y.forwardRef((n,r)=>{const{children:i,...l}=n,d=y.Children.toArray(i),u=d.find(fq);if(u){const h=u.props.children,p=d.map(f=>f===u?y.Children.count(h)>1?y.Children.only(null):y.isValidElement(h)?h.props.children:null:f);return e.jsx(s,{...l,ref:r,children:y.isValidElement(h)?y.cloneElement(h,void 0,p):null})}return e.jsx(s,{...l,ref:r,children:i})});return a.displayName=`${t}.Slot`,a}function hq(t){const s=y.forwardRef((a,n)=>{const{children:r,...i}=a;if(y.isValidElement(r)){const l=gq(r),d=pq(i,r.props);return r.type!==y.Fragment&&(d.ref=n?xo(n,l):l),y.cloneElement(r,d)}return y.Children.count(r)>1?y.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var mq=Symbol("radix.slottable");function fq(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===mq}function pq(t,s){const a={...s};for(const n in s){const r=t[n],i=s[n];/^on[A-Z]/.test(n)?r&&i?a[n]=(...d)=>{const u=i(...d);return r(...d),u}:r&&(a[n]=r):n==="style"?a[n]={...r,...i}:n==="className"&&(a[n]=[r,i].filter(Boolean).join(" "))}return{...t,...a}}function gq(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}function vx(t){const s=y.useRef({value:t,previous:t});return y.useMemo(()=>(s.current.value!==t&&(s.current.previous=s.current.value,s.current.value=t),s.current.previous),[t])}var SE=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),xq="VisuallyHidden",AE=y.forwardRef((t,s)=>e.jsx(Dt.span,{...t,ref:s,style:{...SE,...t.style}}));AE.displayName=xq;var yq=AE,bq=function(t){if(typeof document>"u")return null;var s=Array.isArray(t)?t[0]:t;return s.ownerDocument.body},Sd=new WeakMap,yp=new WeakMap,bp={},Nb=0,TE=function(t){return t&&(t.host||TE(t.parentNode))},vq=function(t,s){return s.map(function(a){if(t.contains(a))return a;var n=TE(a);return n&&t.contains(n)?n:(console.error("aria-hidden",a,"in not contained inside",t,". Doing nothing"),null)}).filter(function(a){return!!a})},jq=function(t,s,a,n){var r=vq(s,Array.isArray(t)?t:[t]);bp[a]||(bp[a]=new WeakMap);var i=bp[a],l=[],d=new Set,u=new Set(r),h=function(f){!f||d.has(f)||(d.add(f),h(f.parentNode))};r.forEach(h);var p=function(f){!f||u.has(f)||Array.prototype.forEach.call(f.children,function(x){if(d.has(x))p(x);else try{var v=x.getAttribute(n),j=v!==null&&v!=="false",w=(Sd.get(x)||0)+1,_=(i.get(x)||0)+1;Sd.set(x,w),i.set(x,_),l.push(x),w===1&&j&&yp.set(x,!0),_===1&&x.setAttribute(a,"true"),j||x.setAttribute(n,"true")}catch(N){console.error("aria-hidden: cannot operate on ",x,N)}})};return p(s),d.clear(),Nb++,function(){l.forEach(function(f){var x=Sd.get(f)-1,v=i.get(f)-1;Sd.set(f,x),i.set(f,v),x||(yp.has(f)||f.removeAttribute(n),yp.delete(f)),v||f.removeAttribute(a)}),Nb--,Nb||(Sd=new WeakMap,Sd=new WeakMap,yp=new WeakMap,bp={})}},mw=function(t,s,a){a===void 0&&(a="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),r=bq(t);return r?(n.push.apply(n,Array.from(r.querySelectorAll("[aria-live], script"))),jq(n,r,a,"aria-hidden")):function(){return null}},mi=function(){return mi=Object.assign||function(s){for(var a,n=1,r=arguments.length;n<r;n++){a=arguments[n];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(s[i]=a[i])}return s},mi.apply(this,arguments)};function DE(t,s){var a={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&s.indexOf(n)<0&&(a[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)s.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(a[n[r]]=t[n[r]]);return a}function wq(t,s,a){if(a||arguments.length===2)for(var n=0,r=s.length,i;n<r;n++)(i||!(n in s))&&(i||(i=Array.prototype.slice.call(s,0,n)),i[n]=s[n]);return t.concat(i||Array.prototype.slice.call(s))}var tg="right-scroll-bar-position",sg="width-before-scroll-bar",Nq="with-scroll-bars-hidden",_q="--removed-body-scroll-bar-size";function _b(t,s){return typeof t=="function"?t(s):t&&(t.current=s),t}function Cq(t,s){var a=y.useState(function(){return{value:t,callback:s,facade:{get current(){return a.value},set current(n){var r=a.value;r!==n&&(a.value=n,a.callback(n,r))}}}})[0];return a.callback=s,a.facade}var kq=typeof window<"u"?y.useLayoutEffect:y.useEffect,Fk=new WeakMap;function Sq(t,s){var a=Cq(null,function(n){return t.forEach(function(r){return _b(r,n)})});return kq(function(){var n=Fk.get(a);if(n){var r=new Set(n),i=new Set(t),l=a.current;r.forEach(function(d){i.has(d)||_b(d,null)}),i.forEach(function(d){r.has(d)||_b(d,l)})}Fk.set(a,t)},[t]),a}function Aq(t){return t}function Tq(t,s){s===void 0&&(s=Aq);var a=[],n=!1,r={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return a.length?a[a.length-1]:t},useMedium:function(i){var l=s(i,n);return a.push(l),function(){a=a.filter(function(d){return d!==l})}},assignSyncMedium:function(i){for(n=!0;a.length;){var l=a;a=[],l.forEach(i)}a={push:function(d){return i(d)},filter:function(){return a}}},assignMedium:function(i){n=!0;var l=[];if(a.length){var d=a;a=[],d.forEach(i),l=a}var u=function(){var p=l;l=[],p.forEach(i)},h=function(){return Promise.resolve().then(u)};h(),a={push:function(p){l.push(p),h()},filter:function(p){return l=l.filter(p),a}}}};return r}function Dq(t){t===void 0&&(t={});var s=Tq(null);return s.options=mi({async:!0,ssr:!1},t),s}var EE=function(t){var s=t.sideCar,a=DE(t,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=s.read();if(!n)throw new Error("Sidecar medium not found");return y.createElement(n,mi({},a))};EE.isSideCarExport=!0;function Eq(t,s){return t.useMedium(s),EE}var RE=Dq(),Cb=function(){},jx=y.forwardRef(function(t,s){var a=y.useRef(null),n=y.useState({onScrollCapture:Cb,onWheelCapture:Cb,onTouchMoveCapture:Cb}),r=n[0],i=n[1],l=t.forwardProps,d=t.children,u=t.className,h=t.removeScrollBar,p=t.enabled,f=t.shards,x=t.sideCar,v=t.noRelative,j=t.noIsolation,w=t.inert,_=t.allowPinchZoom,N=t.as,k=N===void 0?"div":N,D=t.gapMode,T=DE(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),E=x,G=Sq([a,s]),A=mi(mi({},T),r);return y.createElement(y.Fragment,null,p&&y.createElement(E,{sideCar:RE,removeScrollBar:h,shards:f,noRelative:v,noIsolation:j,inert:w,setCallbacks:i,allowPinchZoom:!!_,lockRef:a,gapMode:D}),l?y.cloneElement(y.Children.only(d),mi(mi({},A),{ref:G})):y.createElement(k,mi({},A,{className:u,ref:G}),d))});jx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};jx.classNames={fullWidth:sg,zeroRight:tg};var Rq=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Mq(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var s=Rq();return s&&t.setAttribute("nonce",s),t}function Pq(t,s){t.styleSheet?t.styleSheet.cssText=s:t.appendChild(document.createTextNode(s))}function Oq(t){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(t)}var Lq=function(){var t=0,s=null;return{add:function(a){t==0&&(s=Mq())&&(Pq(s,a),Oq(s)),t++},remove:function(){t--,!t&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},Bq=function(){var t=Lq();return function(s,a){y.useEffect(function(){return t.add(s),function(){t.remove()}},[s&&a])}},ME=function(){var t=Bq(),s=function(a){var n=a.styles,r=a.dynamic;return t(n,r),null};return s},Fq={left:0,top:0,right:0,gap:0},kb=function(t){return parseInt(t||"",10)||0},Iq=function(t){var s=window.getComputedStyle(document.body),a=s[t==="padding"?"paddingLeft":"marginLeft"],n=s[t==="padding"?"paddingTop":"marginTop"],r=s[t==="padding"?"paddingRight":"marginRight"];return[kb(a),kb(n),kb(r)]},$q=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Fq;var s=Iq(t),a=document.documentElement.clientWidth,n=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,n-a+s[2]-s[0])}},zq=ME(),Wd="data-scroll-locked",Vq=function(t,s,a,n){var r=t.left,i=t.top,l=t.right,d=t.gap;return a===void 0&&(a="margin"),`
  .`.concat(Nq,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(d,"px ").concat(n,`;
  }
  body[`).concat(Wd,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(n,";"),a==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(n,`;
    `),a==="padding"&&"padding-right: ".concat(d,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(tg,` {
    right: `).concat(d,"px ").concat(n,`;
  }
  
  .`).concat(sg,` {
    margin-right: `).concat(d,"px ").concat(n,`;
  }
  
  .`).concat(tg," .").concat(tg,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(sg," .").concat(sg,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Wd,`] {
    `).concat(_q,": ").concat(d,`px;
  }
`)},Ik=function(){var t=parseInt(document.body.getAttribute(Wd)||"0",10);return isFinite(t)?t:0},Uq=function(){y.useEffect(function(){return document.body.setAttribute(Wd,(Ik()+1).toString()),function(){var t=Ik()-1;t<=0?document.body.removeAttribute(Wd):document.body.setAttribute(Wd,t.toString())}},[])},Hq=function(t){var s=t.noRelative,a=t.noImportant,n=t.gapMode,r=n===void 0?"margin":n;Uq();var i=y.useMemo(function(){return $q(r)},[r]);return y.createElement(zq,{styles:Vq(i,!s,r,a?"":"!important")})},Uv=!1;if(typeof window<"u")try{var vp=Object.defineProperty({},"passive",{get:function(){return Uv=!0,!0}});window.addEventListener("test",vp,vp),window.removeEventListener("test",vp,vp)}catch{Uv=!1}var Ad=Uv?{passive:!1}:!1,qq=function(t){return t.tagName==="TEXTAREA"},PE=function(t,s){if(!(t instanceof Element))return!1;var a=window.getComputedStyle(t);return a[s]!=="hidden"&&!(a.overflowY===a.overflowX&&!qq(t)&&a[s]==="visible")},Gq=function(t){return PE(t,"overflowY")},Wq=function(t){return PE(t,"overflowX")},$k=function(t,s){var a=s.ownerDocument,n=s;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=OE(t,n);if(r){var i=LE(t,n),l=i[1],d=i[2];if(l>d)return!0}n=n.parentNode}while(n&&n!==a.body);return!1},Yq=function(t){var s=t.scrollTop,a=t.scrollHeight,n=t.clientHeight;return[s,a,n]},Kq=function(t){var s=t.scrollLeft,a=t.scrollWidth,n=t.clientWidth;return[s,a,n]},OE=function(t,s){return t==="v"?Gq(s):Wq(s)},LE=function(t,s){return t==="v"?Yq(s):Kq(s)},Xq=function(t,s){return t==="h"&&s==="rtl"?-1:1},Qq=function(t,s,a,n,r){var i=Xq(t,window.getComputedStyle(s).direction),l=i*n,d=a.target,u=s.contains(d),h=!1,p=l>0,f=0,x=0;do{if(!d)break;var v=LE(t,d),j=v[0],w=v[1],_=v[2],N=w-_-i*j;(j||N)&&OE(t,d)&&(f+=N,x+=j);var k=d.parentNode;d=k&&k.nodeType===Node.DOCUMENT_FRAGMENT_NODE?k.host:k}while(!u&&d!==document.body||u&&(s.contains(d)||s===d));return(p&&Math.abs(f)<1||!p&&Math.abs(x)<1)&&(h=!0),h},jp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},zk=function(t){return[t.deltaX,t.deltaY]},Vk=function(t){return t&&"current"in t?t.current:t},Zq=function(t,s){return t[0]===s[0]&&t[1]===s[1]},Jq=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},eG=0,Td=[];function tG(t){var s=y.useRef([]),a=y.useRef([0,0]),n=y.useRef(),r=y.useState(eG++)[0],i=y.useState(ME)[0],l=y.useRef(t);y.useEffect(function(){l.current=t},[t]),y.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var w=wq([t.lockRef.current],(t.shards||[]).map(Vk),!0).filter(Boolean);return w.forEach(function(_){return _.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),w.forEach(function(_){return _.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var d=y.useCallback(function(w,_){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!l.current.allowPinchZoom;var N=jp(w),k=a.current,D="deltaX"in w?w.deltaX:k[0]-N[0],T="deltaY"in w?w.deltaY:k[1]-N[1],E,G=w.target,A=Math.abs(D)>Math.abs(T)?"h":"v";if("touches"in w&&A==="h"&&G.type==="range")return!1;var F=window.getSelection(),M=F&&F.anchorNode,J=M?M===G||M.contains(G):!1;if(J)return!1;var R=$k(A,G);if(!R)return!0;if(R?E=A:(E=A==="v"?"h":"v",R=$k(A,G)),!R)return!1;if(!n.current&&"changedTouches"in w&&(D||T)&&(n.current=E),!E)return!0;var ee=n.current||E;return Qq(ee,_,w,ee==="h"?D:T)},[]),u=y.useCallback(function(w){var _=w;if(!(!Td.length||Td[Td.length-1]!==i)){var N="deltaY"in _?zk(_):jp(_),k=s.current.filter(function(E){return E.name===_.type&&(E.target===_.target||_.target===E.shadowParent)&&Zq(E.delta,N)})[0];if(k&&k.should){_.cancelable&&_.preventDefault();return}if(!k){var D=(l.current.shards||[]).map(Vk).filter(Boolean).filter(function(E){return E.contains(_.target)}),T=D.length>0?d(_,D[0]):!l.current.noIsolation;T&&_.cancelable&&_.preventDefault()}}},[]),h=y.useCallback(function(w,_,N,k){var D={name:w,delta:_,target:N,should:k,shadowParent:sG(N)};s.current.push(D),setTimeout(function(){s.current=s.current.filter(function(T){return T!==D})},1)},[]),p=y.useCallback(function(w){a.current=jp(w),n.current=void 0},[]),f=y.useCallback(function(w){h(w.type,zk(w),w.target,d(w,t.lockRef.current))},[]),x=y.useCallback(function(w){h(w.type,jp(w),w.target,d(w,t.lockRef.current))},[]);y.useEffect(function(){return Td.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:x}),document.addEventListener("wheel",u,Ad),document.addEventListener("touchmove",u,Ad),document.addEventListener("touchstart",p,Ad),function(){Td=Td.filter(function(w){return w!==i}),document.removeEventListener("wheel",u,Ad),document.removeEventListener("touchmove",u,Ad),document.removeEventListener("touchstart",p,Ad)}},[]);var v=t.removeScrollBar,j=t.inert;return y.createElement(y.Fragment,null,j?y.createElement(i,{styles:Jq(r)}):null,v?y.createElement(Hq,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function sG(t){for(var s=null;t!==null;)t instanceof ShadowRoot&&(s=t.host,t=t.host),t=t.parentNode;return s}const aG=Eq(RE,tG);var wx=y.forwardRef(function(t,s){return y.createElement(jx,mi({},t,{ref:s,sideCar:aG}))});wx.classNames=jx.classNames;var nG=[" ","Enter","ArrowUp","ArrowDown"],rG=[" ","Enter"],Oc="Select",[Nx,_x,iG]=ux(Oc),[bu]=nr(Oc,[iG,yu]),Cx=yu(),[oG,Sl]=bu(Oc),[lG,cG]=bu(Oc),BE=t=>{const{__scopeSelect:s,children:a,open:n,defaultOpen:r,onOpenChange:i,value:l,defaultValue:d,onValueChange:u,dir:h,name:p,autoComplete:f,disabled:x,required:v,form:j}=t,w=Cx(s),[_,N]=y.useState(null),[k,D]=y.useState(null),[T,E]=y.useState(!1),G=Mm(h),[A,F]=co({prop:n,defaultProp:r??!1,onChange:i,caller:Oc}),[M,J]=co({prop:l,defaultProp:d,onChange:u,caller:Oc}),R=y.useRef(null),ee=_?j||!!_.closest("form"):!0,[Y,re]=y.useState(new Set),te=Array.from(Y).map(V=>V.props.value).join(";");return e.jsx(kE,{...w,children:e.jsxs(oG,{required:v,scope:s,trigger:_,onTriggerChange:N,valueNode:k,onValueNodeChange:D,valueNodeHasChildren:T,onValueNodeHasChildrenChange:E,contentId:yi(),value:M,onValueChange:J,open:A,onOpenChange:F,dir:G,triggerPointerDownPosRef:R,disabled:x,children:[e.jsx(Nx.Provider,{scope:s,children:e.jsx(lG,{scope:t.__scopeSelect,onNativeOptionAdd:y.useCallback(V=>{re(U=>new Set(U).add(V))},[]),onNativeOptionRemove:y.useCallback(V=>{re(U=>{const H=new Set(U);return H.delete(V),H})},[]),children:a})}),ee?e.jsxs(oR,{"aria-hidden":!0,required:v,tabIndex:-1,name:p,autoComplete:f,value:M,onChange:V=>J(V.target.value),disabled:x,form:j,children:[M===void 0?e.jsx("option",{value:""}):null,Array.from(Y)]},te):null]})})};BE.displayName=Oc;var FE="SelectTrigger",IE=y.forwardRef((t,s)=>{const{__scopeSelect:a,disabled:n=!1,...r}=t,i=Cx(a),l=Sl(FE,a),d=l.disabled||n,u=Ht(s,l.onTriggerChange),h=_x(a),p=y.useRef("touch"),[f,x,v]=cR(w=>{const _=h().filter(D=>!D.disabled),N=_.find(D=>D.value===l.value),k=dR(_,w,N);k!==void 0&&l.onValueChange(k.value)}),j=w=>{d||(l.onOpenChange(!0),v()),w&&(l.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return e.jsx(dw,{asChild:!0,...i,children:e.jsx(Dt.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":lR(l.value)?"":void 0,...r,ref:u,onClick:st(r.onClick,w=>{w.currentTarget.focus(),p.current!=="mouse"&&j(w)}),onPointerDown:st(r.onPointerDown,w=>{p.current=w.pointerType;const _=w.target;_.hasPointerCapture(w.pointerId)&&_.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(j(w),w.preventDefault())}),onKeyDown:st(r.onKeyDown,w=>{const _=f.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&x(w.key),!(_&&w.key===" ")&&nG.includes(w.key)&&(j(),w.preventDefault())})})})});IE.displayName=FE;var $E="SelectValue",zE=y.forwardRef((t,s)=>{const{__scopeSelect:a,className:n,style:r,children:i,placeholder:l="",...d}=t,u=Sl($E,a),{onValueNodeHasChildrenChange:h}=u,p=i!==void 0,f=Ht(s,u.onValueNodeChange);return on(()=>{h(p)},[h,p]),e.jsx(Dt.span,{...d,ref:f,style:{pointerEvents:"none"},children:lR(u.value)?e.jsx(e.Fragment,{children:l}):i})});zE.displayName=$E;var dG="SelectIcon",VE=y.forwardRef((t,s)=>{const{__scopeSelect:a,children:n,...r}=t;return e.jsx(Dt.span,{"aria-hidden":!0,...r,ref:s,children:n||""})});VE.displayName=dG;var uG="SelectPortal",UE=t=>e.jsx(Bm,{asChild:!0,...t});UE.displayName=uG;var Lc="SelectContent",HE=y.forwardRef((t,s)=>{const a=Sl(Lc,t.__scopeSelect),[n,r]=y.useState();if(on(()=>{r(new DocumentFragment)},[]),!a.open){const i=n;return i?Cm.createPortal(e.jsx(qE,{scope:t.__scopeSelect,children:e.jsx(Nx.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),i):null}return e.jsx(GE,{...t,ref:s})});HE.displayName=Lc;var zr=10,[qE,Al]=bu(Lc),hG="SelectContentImpl",mG=uq("SelectContent.RemoveScroll"),GE=y.forwardRef((t,s)=>{const{__scopeSelect:a,position:n="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:i,onPointerDownOutside:l,side:d,sideOffset:u,align:h,alignOffset:p,arrowPadding:f,collisionBoundary:x,collisionPadding:v,sticky:j,hideWhenDetached:w,avoidCollisions:_,...N}=t,k=Sl(Lc,a),[D,T]=y.useState(null),[E,G]=y.useState(null),A=Ht(s,ye=>T(ye)),[F,M]=y.useState(null),[J,R]=y.useState(null),ee=_x(a),[Y,re]=y.useState(!1),te=y.useRef(!1);y.useEffect(()=>{if(D)return mw(D)},[D]),tw();const V=y.useCallback(ye=>{const[Le,...Se]=ee().map(Ae=>Ae.ref.current),[Ge]=Se.slice(-1),nt=document.activeElement;for(const Ae of ye)if(Ae===nt||(Ae?.scrollIntoView({block:"nearest"}),Ae===Le&&E&&(E.scrollTop=0),Ae===Ge&&E&&(E.scrollTop=E.scrollHeight),Ae?.focus(),document.activeElement!==nt))return},[ee,E]),U=y.useCallback(()=>V([F,D]),[V,F,D]);y.useEffect(()=>{Y&&U()},[Y,U]);const{onOpenChange:H,triggerPointerDownPosRef:L}=k;y.useEffect(()=>{if(D){let ye={x:0,y:0};const Le=Ge=>{ye={x:Math.abs(Math.round(Ge.pageX)-(L.current?.x??0)),y:Math.abs(Math.round(Ge.pageY)-(L.current?.y??0))}},Se=Ge=>{ye.x<=10&&ye.y<=10?Ge.preventDefault():D.contains(Ge.target)||H(!1),document.removeEventListener("pointermove",Le),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",Le),document.addEventListener("pointerup",Se,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Le),document.removeEventListener("pointerup",Se,{capture:!0})}}},[D,H,L]),y.useEffect(()=>{const ye=()=>H(!1);return window.addEventListener("blur",ye),window.addEventListener("resize",ye),()=>{window.removeEventListener("blur",ye),window.removeEventListener("resize",ye)}},[H]);const[$,z]=cR(ye=>{const Le=ee().filter(nt=>!nt.disabled),Se=Le.find(nt=>nt.ref.current===document.activeElement),Ge=dR(Le,ye,Se);Ge&&setTimeout(()=>Ge.ref.current.focus())}),ie=y.useCallback((ye,Le,Se)=>{const Ge=!te.current&&!Se;(k.value!==void 0&&k.value===Le||Ge)&&(M(ye),Ge&&(te.current=!0))},[k.value]),le=y.useCallback(()=>D?.focus(),[D]),ne=y.useCallback((ye,Le,Se)=>{const Ge=!te.current&&!Se;(k.value!==void 0&&k.value===Le||Ge)&&R(ye)},[k.value]),fe=n==="popper"?Hv:WE,Ne=fe===Hv?{side:d,sideOffset:u,align:h,alignOffset:p,arrowPadding:f,collisionBoundary:x,collisionPadding:v,sticky:j,hideWhenDetached:w,avoidCollisions:_}:{};return e.jsx(qE,{scope:a,content:D,viewport:E,onViewportChange:G,itemRefCallback:ie,selectedItem:F,onItemLeave:le,itemTextRefCallback:ne,focusSelectedItem:U,selectedItemText:J,position:n,isPositioned:Y,searchRef:$,children:e.jsx(wx,{as:mG,allowPinchZoom:!0,children:e.jsx(fx,{asChild:!0,trapped:k.open,onMountAutoFocus:ye=>{ye.preventDefault()},onUnmountAutoFocus:st(r,ye=>{k.trigger?.focus({preventScroll:!0}),ye.preventDefault()}),children:e.jsx(Om,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:ye=>ye.preventDefault(),onDismiss:()=>k.onOpenChange(!1),children:e.jsx(fe,{role:"listbox",id:k.contentId,"data-state":k.open?"open":"closed",dir:k.dir,onContextMenu:ye=>ye.preventDefault(),...N,...Ne,onPlaced:()=>re(!0),ref:A,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:st(N.onKeyDown,ye=>{const Le=ye.ctrlKey||ye.altKey||ye.metaKey;if(ye.key==="Tab"&&ye.preventDefault(),!Le&&ye.key.length===1&&z(ye.key),["ArrowUp","ArrowDown","Home","End"].includes(ye.key)){let Ge=ee().filter(nt=>!nt.disabled).map(nt=>nt.ref.current);if(["ArrowUp","End"].includes(ye.key)&&(Ge=Ge.slice().reverse()),["ArrowUp","ArrowDown"].includes(ye.key)){const nt=ye.target,Ae=Ge.indexOf(nt);Ge=Ge.slice(Ae+1)}setTimeout(()=>V(Ge)),ye.preventDefault()}})})})})})})});GE.displayName=hG;var fG="SelectItemAlignedPosition",WE=y.forwardRef((t,s)=>{const{__scopeSelect:a,onPlaced:n,...r}=t,i=Sl(Lc,a),l=Al(Lc,a),[d,u]=y.useState(null),[h,p]=y.useState(null),f=Ht(s,A=>p(A)),x=_x(a),v=y.useRef(!1),j=y.useRef(!0),{viewport:w,selectedItem:_,selectedItemText:N,focusSelectedItem:k}=l,D=y.useCallback(()=>{if(i.trigger&&i.valueNode&&d&&h&&w&&_&&N){const A=i.trigger.getBoundingClientRect(),F=h.getBoundingClientRect(),M=i.valueNode.getBoundingClientRect(),J=N.getBoundingClientRect();if(i.dir!=="rtl"){const nt=J.left-F.left,Ae=M.left-nt,Ye=A.left-Ae,Oe=A.width+Ye,ft=Math.max(Oe,F.width),kt=window.innerWidth-zr,tt=kg(Ae,[zr,Math.max(zr,kt-ft)]);d.style.minWidth=Oe+"px",d.style.left=tt+"px"}else{const nt=F.right-J.right,Ae=window.innerWidth-M.right-nt,Ye=window.innerWidth-A.right-Ae,Oe=A.width+Ye,ft=Math.max(Oe,F.width),kt=window.innerWidth-zr,tt=kg(Ae,[zr,Math.max(zr,kt-ft)]);d.style.minWidth=Oe+"px",d.style.right=tt+"px"}const R=x(),ee=window.innerHeight-zr*2,Y=w.scrollHeight,re=window.getComputedStyle(h),te=parseInt(re.borderTopWidth,10),V=parseInt(re.paddingTop,10),U=parseInt(re.borderBottomWidth,10),H=parseInt(re.paddingBottom,10),L=te+V+Y+H+U,$=Math.min(_.offsetHeight*5,L),z=window.getComputedStyle(w),ie=parseInt(z.paddingTop,10),le=parseInt(z.paddingBottom,10),ne=A.top+A.height/2-zr,fe=ee-ne,Ne=_.offsetHeight/2,ye=_.offsetTop+Ne,Le=te+V+ye,Se=L-Le;if(Le<=ne){const nt=R.length>0&&_===R[R.length-1].ref.current;d.style.bottom="0px";const Ae=h.clientHeight-w.offsetTop-w.offsetHeight,Ye=Math.max(fe,Ne+(nt?le:0)+Ae+U),Oe=Le+Ye;d.style.height=Oe+"px"}else{const nt=R.length>0&&_===R[0].ref.current;d.style.top="0px";const Ye=Math.max(ne,te+w.offsetTop+(nt?ie:0)+Ne)+Se;d.style.height=Ye+"px",w.scrollTop=Le-ne+w.offsetTop}d.style.margin=`${zr}px 0`,d.style.minHeight=$+"px",d.style.maxHeight=ee+"px",n?.(),requestAnimationFrame(()=>v.current=!0)}},[x,i.trigger,i.valueNode,d,h,w,_,N,i.dir,n]);on(()=>D(),[D]);const[T,E]=y.useState();on(()=>{h&&E(window.getComputedStyle(h).zIndex)},[h]);const G=y.useCallback(A=>{A&&j.current===!0&&(D(),k?.(),j.current=!1)},[D,k]);return e.jsx(gG,{scope:a,contentWrapper:d,shouldExpandOnScrollRef:v,onScrollButtonChange:G,children:e.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:T},children:e.jsx(Dt.div,{...r,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});WE.displayName=fG;var pG="SelectPopperPosition",Hv=y.forwardRef((t,s)=>{const{__scopeSelect:a,align:n="start",collisionPadding:r=zr,...i}=t,l=Cx(a);return e.jsx(uw,{...l,...i,ref:s,align:n,collisionPadding:r,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Hv.displayName=pG;var[gG,fw]=bu(Lc,{}),qv="SelectViewport",YE=y.forwardRef((t,s)=>{const{__scopeSelect:a,nonce:n,...r}=t,i=Al(qv,a),l=fw(qv,a),d=Ht(s,i.onViewportChange),u=y.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),e.jsx(Nx.Slot,{scope:a,children:e.jsx(Dt.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:st(r.onScroll,h=>{const p=h.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:x}=l;if(x?.current&&f){const v=Math.abs(u.current-p.scrollTop);if(v>0){const j=window.innerHeight-zr*2,w=parseFloat(f.style.minHeight),_=parseFloat(f.style.height),N=Math.max(w,_);if(N<j){const k=N+v,D=Math.min(j,k),T=k-D;f.style.height=D+"px",f.style.bottom==="0px"&&(p.scrollTop=T>0?T:0,f.style.justifyContent="flex-end")}}}u.current=p.scrollTop})})})]})});YE.displayName=qv;var KE="SelectGroup",[xG,yG]=bu(KE),bG=y.forwardRef((t,s)=>{const{__scopeSelect:a,...n}=t,r=yi();return e.jsx(xG,{scope:a,id:r,children:e.jsx(Dt.div,{role:"group","aria-labelledby":r,...n,ref:s})})});bG.displayName=KE;var XE="SelectLabel",QE=y.forwardRef((t,s)=>{const{__scopeSelect:a,...n}=t,r=yG(XE,a);return e.jsx(Dt.div,{id:r.id,...n,ref:s})});QE.displayName=XE;var Eg="SelectItem",[vG,ZE]=bu(Eg),JE=y.forwardRef((t,s)=>{const{__scopeSelect:a,value:n,disabled:r=!1,textValue:i,...l}=t,d=Sl(Eg,a),u=Al(Eg,a),h=d.value===n,[p,f]=y.useState(i??""),[x,v]=y.useState(!1),j=Ht(s,k=>u.itemRefCallback?.(k,n,r)),w=yi(),_=y.useRef("touch"),N=()=>{r||(d.onValueChange(n),d.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(vG,{scope:a,value:n,disabled:r,textId:w,isSelected:h,onItemTextChange:y.useCallback(k=>{f(D=>D||(k?.textContent??"").trim())},[]),children:e.jsx(Nx.ItemSlot,{scope:a,value:n,disabled:r,textValue:p,children:e.jsx(Dt.div,{role:"option","aria-labelledby":w,"data-highlighted":x?"":void 0,"aria-selected":h&&x,"data-state":h?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...l,ref:j,onFocus:st(l.onFocus,()=>v(!0)),onBlur:st(l.onBlur,()=>v(!1)),onClick:st(l.onClick,()=>{_.current!=="mouse"&&N()}),onPointerUp:st(l.onPointerUp,()=>{_.current==="mouse"&&N()}),onPointerDown:st(l.onPointerDown,k=>{_.current=k.pointerType}),onPointerMove:st(l.onPointerMove,k=>{_.current=k.pointerType,r?u.onItemLeave?.():_.current==="mouse"&&k.currentTarget.focus({preventScroll:!0})}),onPointerLeave:st(l.onPointerLeave,k=>{k.currentTarget===document.activeElement&&u.onItemLeave?.()}),onKeyDown:st(l.onKeyDown,k=>{u.searchRef?.current!==""&&k.key===" "||(rG.includes(k.key)&&N(),k.key===" "&&k.preventDefault())})})})})});JE.displayName=Eg;var Ph="SelectItemText",eR=y.forwardRef((t,s)=>{const{__scopeSelect:a,className:n,style:r,...i}=t,l=Sl(Ph,a),d=Al(Ph,a),u=ZE(Ph,a),h=cG(Ph,a),[p,f]=y.useState(null),x=Ht(s,N=>f(N),u.onItemTextChange,N=>d.itemTextRefCallback?.(N,u.value,u.disabled)),v=p?.textContent,j=y.useMemo(()=>e.jsx("option",{value:u.value,disabled:u.disabled,children:v},u.value),[u.disabled,u.value,v]),{onNativeOptionAdd:w,onNativeOptionRemove:_}=h;return on(()=>(w(j),()=>_(j)),[w,_,j]),e.jsxs(e.Fragment,{children:[e.jsx(Dt.span,{id:u.textId,...i,ref:x}),u.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Cm.createPortal(i.children,l.valueNode):null]})});eR.displayName=Ph;var tR="SelectItemIndicator",sR=y.forwardRef((t,s)=>{const{__scopeSelect:a,...n}=t;return ZE(tR,a).isSelected?e.jsx(Dt.span,{"aria-hidden":!0,...n,ref:s}):null});sR.displayName=tR;var Gv="SelectScrollUpButton",aR=y.forwardRef((t,s)=>{const a=Al(Gv,t.__scopeSelect),n=fw(Gv,t.__scopeSelect),[r,i]=y.useState(!1),l=Ht(s,n.onScrollButtonChange);return on(()=>{if(a.viewport&&a.isPositioned){let d=function(){const h=u.scrollTop>0;i(h)};const u=a.viewport;return d(),u.addEventListener("scroll",d),()=>u.removeEventListener("scroll",d)}},[a.viewport,a.isPositioned]),r?e.jsx(rR,{...t,ref:l,onAutoScroll:()=>{const{viewport:d,selectedItem:u}=a;d&&u&&(d.scrollTop=d.scrollTop-u.offsetHeight)}}):null});aR.displayName=Gv;var Wv="SelectScrollDownButton",nR=y.forwardRef((t,s)=>{const a=Al(Wv,t.__scopeSelect),n=fw(Wv,t.__scopeSelect),[r,i]=y.useState(!1),l=Ht(s,n.onScrollButtonChange);return on(()=>{if(a.viewport&&a.isPositioned){let d=function(){const h=u.scrollHeight-u.clientHeight,p=Math.ceil(u.scrollTop)<h;i(p)};const u=a.viewport;return d(),u.addEventListener("scroll",d),()=>u.removeEventListener("scroll",d)}},[a.viewport,a.isPositioned]),r?e.jsx(rR,{...t,ref:l,onAutoScroll:()=>{const{viewport:d,selectedItem:u}=a;d&&u&&(d.scrollTop=d.scrollTop+u.offsetHeight)}}):null});nR.displayName=Wv;var rR=y.forwardRef((t,s)=>{const{__scopeSelect:a,onAutoScroll:n,...r}=t,i=Al("SelectScrollButton",a),l=y.useRef(null),d=_x(a),u=y.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return y.useEffect(()=>()=>u(),[u]),on(()=>{d().find(p=>p.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[d]),e.jsx(Dt.div,{"aria-hidden":!0,...r,ref:s,style:{flexShrink:0,...r.style},onPointerDown:st(r.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(n,50))}),onPointerMove:st(r.onPointerMove,()=>{i.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(n,50))}),onPointerLeave:st(r.onPointerLeave,()=>{u()})})}),jG="SelectSeparator",iR=y.forwardRef((t,s)=>{const{__scopeSelect:a,...n}=t;return e.jsx(Dt.div,{"aria-hidden":!0,...n,ref:s})});iR.displayName=jG;var Yv="SelectArrow",wG=y.forwardRef((t,s)=>{const{__scopeSelect:a,...n}=t,r=Cx(a),i=Sl(Yv,a),l=Al(Yv,a);return i.open&&l.position==="popper"?e.jsx(hw,{...r,...n,ref:s}):null});wG.displayName=Yv;var NG="SelectBubbleInput",oR=y.forwardRef(({__scopeSelect:t,value:s,...a},n)=>{const r=y.useRef(null),i=Ht(n,r),l=vx(s);return y.useEffect(()=>{const d=r.current;if(!d)return;const u=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(u,"value").set;if(l!==s&&p){const f=new Event("change",{bubbles:!0});p.call(d,s),d.dispatchEvent(f)}},[l,s]),e.jsx(Dt.select,{...a,style:{...SE,...a.style},ref:i,defaultValue:s})});oR.displayName=NG;function lR(t){return t===""||t===void 0}function cR(t){const s=Ci(t),a=y.useRef(""),n=y.useRef(0),r=y.useCallback(l=>{const d=a.current+l;s(d),(function u(h){a.current=h,window.clearTimeout(n.current),h!==""&&(n.current=window.setTimeout(()=>u(""),1e3))})(d)},[s]),i=y.useCallback(()=>{a.current="",window.clearTimeout(n.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(n.current),[]),[a,r,i]}function dR(t,s,a){const r=s.length>1&&Array.from(s).every(h=>h===s[0])?s[0]:s,i=a?t.indexOf(a):-1;let l=_G(t,Math.max(i,0));r.length===1&&(l=l.filter(h=>h!==a));const u=l.find(h=>h.textValue.toLowerCase().startsWith(r.toLowerCase()));return u!==a?u:void 0}function _G(t,s){return t.map((a,n)=>t[(s+n)%t.length])}var CG=BE,uR=IE,kG=zE,SG=VE,AG=UE,hR=HE,TG=YE,mR=QE,fR=JE,DG=eR,EG=sR,pR=aR,gR=nR,xR=iR;const Je=CG,et=kG,Qe=y.forwardRef(({className:t,children:s,...a},n)=>e.jsxs(uR,{ref:n,className:mt("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...a,children:[s,e.jsx(SG,{asChild:!0,children:e.jsx(KT,{className:"h-4 w-4 opacity-50"})})]}));Qe.displayName=uR.displayName;const yR=y.forwardRef(({className:t,...s},a)=>e.jsx(pR,{ref:a,className:mt("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(p$,{className:"h-4 w-4"})}));yR.displayName=pR.displayName;const bR=y.forwardRef(({className:t,...s},a)=>e.jsx(gR,{ref:a,className:mt("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(KT,{className:"h-4 w-4"})}));bR.displayName=gR.displayName;const Ze=y.forwardRef(({className:t,children:s,position:a="popper",...n},r)=>e.jsx(AG,{children:e.jsxs(hR,{ref:r,className:mt("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:a,...n,children:[e.jsx(yR,{}),e.jsx(TG,{className:mt("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(bR,{})]})}));Ze.displayName=hR.displayName;const RG=y.forwardRef(({className:t,...s},a)=>e.jsx(mR,{ref:a,className:mt("px-2 py-1.5 text-sm font-semibold",t),...s}));RG.displayName=mR.displayName;const de=y.forwardRef(({className:t,children:s,...a},n)=>e.jsxs(fR,{ref:n,className:mt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...a,children:[e.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(EG,{children:e.jsx(Jn,{className:"h-4 w-4"})})}),e.jsx(DG,{children:s})]}));de.displayName=fR.displayName;const MG=y.forwardRef(({className:t,...s},a)=>e.jsx(xR,{ref:a,className:mt("-mx-1 my-1 h-px bg-muted",t),...s}));MG.displayName=xR.displayName;const vR=JSON.parse('[{"name":"Afghanistan","iso2":"AF","dialCode":"+93"},{"name":"Albania","iso2":"AL","dialCode":"+355"},{"name":"Algeria","iso2":"DZ","dialCode":"+213"},{"name":"American Samoa","iso2":"AS","dialCode":"+1684"},{"name":"Andorra","iso2":"AD","dialCode":"+376"},{"name":"Angola","iso2":"AO","dialCode":"+244"},{"name":"Anguilla","iso2":"AI","dialCode":"+1264"},{"name":"Antarctica","iso2":"AQ","dialCode":"+672"},{"name":"Antigua and Barbuda","iso2":"AG","dialCode":"+1268"},{"name":"Argentina","iso2":"AR","dialCode":"+54"},{"name":"Armenia","iso2":"AM","dialCode":"+374"},{"name":"Aruba","iso2":"AW","dialCode":"+297"},{"name":"Australia","iso2":"AU","dialCode":"+61"},{"name":"Austria","iso2":"AT","dialCode":"+43"},{"name":"Azerbaijan","iso2":"AZ","dialCode":"+994"},{"name":"Bahamas","iso2":"BS","dialCode":"+1242"},{"name":"Bahrain","iso2":"BH","dialCode":"+973"},{"name":"Bangladesh","iso2":"BD","dialCode":"+880"},{"name":"Barbados","iso2":"BB","dialCode":"+1246"},{"name":"Belarus","iso2":"BY","dialCode":"+375"},{"name":"Belgium","iso2":"BE","dialCode":"+32"},{"name":"Belize","iso2":"BZ","dialCode":"+501"},{"name":"Benin","iso2":"BJ","dialCode":"+229"},{"name":"Bermuda","iso2":"BM","dialCode":"+1441"},{"name":"Bhutan","iso2":"BT","dialCode":"+975"},{"name":"Bolivia","iso2":"BO","dialCode":"+591"},{"name":"Bosnia and Herzegovina","iso2":"BA","dialCode":"+387"},{"name":"Botswana","iso2":"BW","dialCode":"+267"},{"name":"Brazil","iso2":"BR","dialCode":"+55"},{"name":"British Indian Ocean Territory","iso2":"IO","dialCode":"+246"},{"name":"Brunei Darussalam","iso2":"BN","dialCode":"+673"},{"name":"Bulgaria","iso2":"BG","dialCode":"+359"},{"name":"Burkina Faso","iso2":"BF","dialCode":"+226"},{"name":"Burundi","iso2":"BI","dialCode":"+257"},{"name":"Cambodia","iso2":"KH","dialCode":"+855"},{"name":"Cameroon","iso2":"CM","dialCode":"+237"},{"name":"Canada","iso2":"CA","dialCode":"+1"},{"name":"Cape Verde","iso2":"CV","dialCode":"+238"},{"name":"Cayman Islands","iso2":"KY","dialCode":"+1345"},{"name":"Central African Republic","iso2":"CF","dialCode":"+236"},{"name":"Chad","iso2":"TD","dialCode":"+235"},{"name":"Chile","iso2":"CL","dialCode":"+56"},{"name":"China","iso2":"CN","dialCode":"+86"},{"name":"Colombia","iso2":"CO","dialCode":"+57"},{"name":"Comoros","iso2":"KM","dialCode":"+269"},{"name":"Congo","iso2":"CG","dialCode":"+242"},{"name":"Costa Rica","iso2":"CR","dialCode":"+506"},{"name":"Croatia","iso2":"HR","dialCode":"+385"},{"name":"Cuba","iso2":"CU","dialCode":"+53"},{"name":"Cyprus","iso2":"CY","dialCode":"+357"},{"name":"Czech Republic","iso2":"CZ","dialCode":"+420"},{"name":"Denmark","iso2":"DK","dialCode":"+45"},{"name":"Djibouti","iso2":"DJ","dialCode":"+253"},{"name":"Dominica","iso2":"DM","dialCode":"+1767"},{"name":"Dominican Republic","iso2":"DO","dialCode":"+1849"},{"name":"Ecuador","iso2":"EC","dialCode":"+593"},{"name":"Egypt","iso2":"EG","dialCode":"+20"},{"name":"El Salvador","iso2":"SV","dialCode":"+503"},{"name":"Equatorial Guinea","iso2":"GQ","dialCode":"+240"},{"name":"Eritrea","iso2":"ER","dialCode":"+291"},{"name":"Estonia","iso2":"EE","dialCode":"+372"},{"name":"Ethiopia","iso2":"ET","dialCode":"+251"},{"name":"Fiji","iso2":"FJ","dialCode":"+679"},{"name":"Finland","iso2":"FI","dialCode":"+358"},{"name":"France","iso2":"FR","dialCode":"+33"},{"name":"Gabon","iso2":"GA","dialCode":"+241"},{"name":"Gambia","iso2":"GM","dialCode":"+220"},{"name":"Georgia","iso2":"GE","dialCode":"+995"},{"name":"Germany","iso2":"DE","dialCode":"+49"},{"name":"Ghana","iso2":"GH","dialCode":"+233"},{"name":"Greece","iso2":"GR","dialCode":"+30"},{"name":"Greenland","iso2":"GL","dialCode":"+299"},{"name":"Guatemala","iso2":"GT","dialCode":"+502"},{"name":"Guinea","iso2":"GN","dialCode":"+224"},{"name":"GuineaBissau","iso2":"GW","dialCode":"+245"},{"name":"Guyana","iso2":"GY","dialCode":"+592"},{"name":"Haiti","iso2":"HT","dialCode":"+509"},{"name":"Honduras","iso2":"HN","dialCode":"+504"},{"name":"Hungary","iso2":"HU","dialCode":"+36"},{"name":"Iceland","iso2":"IS","dialCode":"+354"},{"name":"India","iso2":"IN","dialCode":"+91"},{"name":"Indonesia","iso2":"ID","dialCode":"+62"},{"name":"Iran","iso2":"IR","dialCode":"+98"},{"name":"Iraq","iso2":"IQ","dialCode":"+964"},{"name":"Ireland","iso2":"IE","dialCode":"+353"},{"name":"Israel","iso2":"IL","dialCode":"+972"},{"name":"Italy","iso2":"IT","dialCode":"+39"},{"name":"Jamaica","iso2":"JM","dialCode":"+1876"},{"name":"Japan","iso2":"JP","dialCode":"+81"},{"name":"Jordan","iso2":"JO","dialCode":"+962"},{"name":"Kazakhstan","iso2":"KZ","dialCode":"+7"},{"name":"Kenya","iso2":"KE","dialCode":"+254"},{"name":"Kiribati","iso2":"KI","dialCode":"+686"},{"name":"Kuwait","iso2":"KW","dialCode":"+965"},{"name":"Kyrgyzstan","iso2":"KG","dialCode":"+996"},{"name":"Laos","iso2":"LA","dialCode":"+856"},{"name":"Latvia","iso2":"LV","dialCode":"+371"},{"name":"Lebanon","iso2":"LB","dialCode":"+961"},{"name":"Lesotho","iso2":"LS","dialCode":"+266"},{"name":"Liberia","iso2":"LR","dialCode":"+231"},{"name":"Libya","iso2":"LY","dialCode":"+218"},{"name":"Liechtenstein","iso2":"LI","dialCode":"+423"},{"name":"Lithuania","iso2":"LT","dialCode":"+370"},{"name":"Luxembourg","iso2":"LU","dialCode":"+352"},{"name":"Madagascar","iso2":"MG","dialCode":"+261"},{"name":"Malawi","iso2":"MW","dialCode":"+265"},{"name":"Malaysia","iso2":"MY","dialCode":"+60"},{"name":"Maldives","iso2":"MV","dialCode":"+960"},{"name":"Mali","iso2":"ML","dialCode":"+223"},{"name":"Malta","iso2":"MT","dialCode":"+356"},{"name":"Marshall Islands","iso2":"MH","dialCode":"+692"},{"name":"Mauritania","iso2":"MR","dialCode":"+222"},{"name":"Mauritius","iso2":"MU","dialCode":"+230"},{"name":"Mexico","iso2":"MX","dialCode":"+52"},{"name":"Micronesia","iso2":"FM","dialCode":"+691"},{"name":"Moldova","iso2":"MD","dialCode":"+373"},{"name":"Monaco","iso2":"MC","dialCode":"+377"},{"name":"Mongolia","iso2":"MN","dialCode":"+976"},{"name":"Montenegro","iso2":"ME","dialCode":"+382"},{"name":"Morocco","iso2":"MA","dialCode":"+212"},{"name":"Mozambique","iso2":"MZ","dialCode":"+258"},{"name":"Myanmar","iso2":"MM","dialCode":"+95"},{"name":"Namibia","iso2":"NA","dialCode":"+264"},{"name":"Nauru","iso2":"NR","dialCode":"+674"},{"name":"Nepal","iso2":"NP","dialCode":"+977"},{"name":"Netherlands","iso2":"NL","dialCode":"+31"},{"name":"New Zealand","iso2":"NZ","dialCode":"+64"},{"name":"Nicaragua","iso2":"NI","dialCode":"+505"},{"name":"Niger","iso2":"NE","dialCode":"+227"},{"name":"Nigeria","iso2":"NG","dialCode":"+234"},{"name":"North Korea","iso2":"KP","dialCode":"+850"},{"name":"North Macedonia","iso2":"MK","dialCode":"+389"},{"name":"Norway","iso2":"NO","dialCode":"+47"},{"name":"Oman","iso2":"OM","dialCode":"+968"},{"name":"Pakistan","iso2":"PK","dialCode":"+92"},{"name":"Palau","iso2":"PW","dialCode":"+680"},{"name":"Palestine","iso2":"PS","dialCode":"+970"},{"name":"Panama","iso2":"PA","dialCode":"+507"},{"name":"Papua New Guinea","iso2":"PG","dialCode":"+675"},{"name":"Paraguay","iso2":"PY","dialCode":"+595"},{"name":"Peru","iso2":"PE","dialCode":"+51"},{"name":"Philippines","iso2":"PH","dialCode":"+63"},{"name":"Poland","iso2":"PL","dialCode":"+48"},{"name":"Portugal","iso2":"PT","dialCode":"+351"},{"name":"Puerto Rico","iso2":"PR","dialCode":"+1"},{"name":"Qatar","iso2":"QA","dialCode":"+974"},{"name":"Romania","iso2":"RO","dialCode":"+40"},{"name":"Russia","iso2":"RU","dialCode":"+7"},{"name":"Rwanda","iso2":"RW","dialCode":"+250"},{"name":"Saint Kitts and Nevis","iso2":"KN","dialCode":"+1869"},{"name":"Saint Lucia","iso2":"LC","dialCode":"+1758"},{"name":"Saint Vincent and the Grenadines","iso2":"VC","dialCode":"+1784"},{"name":"Samoa","iso2":"WS","dialCode":"+685"},{"name":"San Marino","iso2":"SM","dialCode":"+378"},{"name":"Sao Tome and Principe","iso2":"ST","dialCode":"+239"},{"name":"Saudi Arabia","iso2":"SA","dialCode":"+966"},{"name":"Senegal","iso2":"SN","dialCode":"+221"},{"name":"Serbia","iso2":"RS","dialCode":"+381"},{"name":"Seychelles","iso2":"SC","dialCode":"+248"},{"name":"Sierra Leone","iso2":"SL","dialCode":"+232"},{"name":"Singapore","iso2":"SG","dialCode":"+65"},{"name":"Slovakia","iso2":"SK","dialCode":"+421"},{"name":"Slovenia","iso2":"SI","dialCode":"+386"},{"name":"Solomon Islands","iso2":"SB","dialCode":"+677"},{"name":"Somalia","iso2":"SO","dialCode":"+252"},{"name":"South Africa","iso2":"ZA","dialCode":"+27"},{"name":"South Korea","iso2":"KR","dialCode":"+82"},{"name":"South Sudan","iso2":"SS","dialCode":"+211"},{"name":"Spain","iso2":"ES","dialCode":"+34"},{"name":"Sri Lanka","iso2":"LK","dialCode":"+94"},{"name":"Sudan","iso2":"SD","dialCode":"+249"},{"name":"Suriname","iso2":"SR","dialCode":"+597"},{"name":"Sweden","iso2":"SE","dialCode":"+46"},{"name":"Switzerland","iso2":"CH","dialCode":"+41"},{"name":"Syria","iso2":"SY","dialCode":"+963"},{"name":"Taiwan","iso2":"TW","dialCode":"+886"},{"name":"Tajikistan","iso2":"TJ","dialCode":"+992"},{"name":"Tanzania","iso2":"TZ","dialCode":"+255"},{"name":"Thailand","iso2":"TH","dialCode":"+66"},{"name":"Timor-Leste","iso2":"TL","dialCode":"+670"},{"name":"Togo","iso2":"TG","dialCode":"+228"},{"name":"Tonga","iso2":"TO","dialCode":"+676"},{"name":"Trinidad and Tobago","iso2":"TT","dialCode":"+1868"},{"name":"Tunisia","iso2":"TN","dialCode":"+216"},{"name":"Turkey","iso2":"TR","dialCode":"+90"},{"name":"Turkmenistan","iso2":"TM","dialCode":"+993"},{"name":"Tuvalu","iso2":"TV","dialCode":"+688"},{"name":"Uganda","iso2":"UG","dialCode":"+256"},{"name":"Ukraine","iso2":"UA","dialCode":"+380"},{"name":"United Arab Emirates","iso2":"AE","dialCode":"+971"},{"name":"United Kingdom","iso2":"GB","dialCode":"+44"},{"name":"United States","iso2":"US","dialCode":"+1"},{"name":"Uruguay","iso2":"UY","dialCode":"+598"},{"name":"Uzbekistan","iso2":"UZ","dialCode":"+998"},{"name":"Vanuatu","iso2":"VU","dialCode":"+678"},{"name":"Vatican City","iso2":"VA","dialCode":"+379"},{"name":"Venezuela","iso2":"VE","dialCode":"+58"},{"name":"Vietnam","iso2":"VN","dialCode":"+84"},{"name":"Yemen","iso2":"YE","dialCode":"+967"},{"name":"Zambia","iso2":"ZM","dialCode":"+260"},{"name":"Zimbabwe","iso2":"ZW","dialCode":"+263"}]'),PG=t=>t.replace(/\D/g,""),Sb=({countries:t,iso2:s,setIso2:a,phone:n,setPhone:r,disabledPhone:i})=>e.jsxs("div",{className:"flex gap-2 w-full",children:[e.jsx("select",{value:s,onChange:l=>a(l.target.value),className:"w-[100px] sm:w-[120px] shrink-0 bg-white dark:bg-gray-800 text-gray-900 dark:text-white p-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm focus:ring-2 focus:ring-[#00A19C] focus:border-transparent transition-all",disabled:i,children:t.map(l=>e.jsxs("option",{value:l.iso2,children:[l.iso2," (",l.dialCode,")"]},l.iso2))}),e.jsx("input",{type:"tel",inputMode:"numeric",value:n,onChange:l=>r(PG(l.target.value)),placeholder:"70123456",className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-800 text-sm focus:ring-2 focus:ring-[#00A19C] focus:border-transparent transition-all",disabled:i})]});function OG(){const t=Ua(),[s,a]=y.useState("login"),[n,r]=y.useState(!1),[i,l]=y.useState(!1),d=y.useMemo(()=>vR.map(ve=>({name:ve.name,iso2:ve.iso2,dialCode:ve.dialCode.startsWith("+")?ve.dialCode:`+${ve.dialCode}`})).sort((ve,Xe)=>ve.name.localeCompare(Xe.name)),[]),u=y.useMemo(()=>{const ve=new Map;for(const Xe of d)ve.set(Xe.iso2,Xe.dialCode);return ve},[d]),h=ve=>u.get(ve)||"+961",[p,f]=y.useState(""),[x,v]=y.useState("LB"),[j,w]=y.useState(""),_=async()=>{const ve=`${h(x)}${p.replace(/^0+/,"")}`;if(!p||!j)return se.error("Please fill all fields");if(!/^\+\d{8,15}$/.test(ve))return se.error("Invalid phone number.");try{r(!0);const Xe=await xe.post("/auth/login",{phone_number:ve,password:j});if(localStorage.setItem("authToken",Xe.data.token),localStorage.setItem("token",Xe.data.token),localStorage.setItem("user",JSON.stringify(Xe.data.user)),se.success("Login successful!"),!Xe.data.user.profile_complete){t("/Complete-Profile");return}Xe.data.user.role==="agency"||Xe.data.user.role==="agency"?t("/Dashboard"):t("/")}catch(Xe){se.error(Xe.response?.data?.message||"Login failed.")}finally{r(!1)}},[N,k]=y.useState(""),[D,T]=y.useState("LB"),[E,G]=y.useState(!1),[A,F]=y.useState(""),[M,J]=y.useState(!1),[R,ee]=y.useState(!1),[Y,re]=y.useState(0),[te,V]=y.useState({username:"",first_name:"",last_name:"",license_number:"",password:"",password_confirmation:"",role:"client",business_type:""}),[U,H]=y.useState({username:!1,first_name:!1,last_name:!1,license_number:!1,password:!1,password_confirmation:!1,role:!1,business_type:!1,terms:!1}),[L,$]=y.useState(!1),z=y.useRef(null),ie=y.useRef(null),le=y.useRef(null),ne=y.useRef(null),fe=y.useRef(null),Ne=y.useRef(null),ye=y.useRef(null),Le=y.useRef(null),Se=y.useRef(null);y.useEffect(()=>{let ve;return Y>0&&(ve=setInterval(()=>{re(Xe=>Xe<=1?(ee(!0),0):Xe-1)},1e3)),()=>clearInterval(ve)},[Y]);const Ge=()=>{k(""),G(!1),F(""),J(!1),ee(!1),re(0),$(!1),V({username:"",first_name:"",last_name:"",license_number:"",password:"",password_confirmation:"",role:"client",business_type:""}),H({username:!1,first_name:!1,last_name:!1,license_number:!1,password:!1,password_confirmation:!1,role:!1,business_type:!1,terms:!1})},nt=()=>{G(!1),F(""),J(!1),ee(!1),re(0),k("")},Ae=async()=>{{se.info("Web OTP registration is temporarily disabled. Please use our mobile app at https://rento-lb.com/mobile-app.");return}},Ye=async()=>{R&&await Ae()},Oe=async()=>{if(!A)return se.error("Please enter the OTP code.");if(A.length!==6)return se.error("OTP code must be 6 digits.");const ve=`${h(D)}${N.replace(/^0+/,"")}`;try{r(!0);const Xe=await RD(ve,A);Xe.message?se.success(Xe.message):se.success("OTP verified! Complete your registration."),J(!0)}catch(Xe){Xe.response?.data?.error?se.error(Xe.response.data.error):se.error(Xe.response?.data?.message||"Invalid or expired OTP.")}finally{r(!1)}},ft=async()=>{let ve=!1;const Xe={username:!1,first_name:!1,last_name:!1,license_number:!1,password:!1,password_confirmation:!1,role:!1,business_type:!1,terms:!1};if(te.username.trim()||(Xe.username=!0,ve=!0),te.first_name.trim()||(Xe.first_name=!0,ve=!0),te.last_name.trim()||(Xe.last_name=!0,ve=!0),te.role==="client"&&!te.license_number.trim()&&(Xe.license_number=!0,ve=!0),te.password||(Xe.password=!0,ve=!0),te.password!==te.password_confirmation&&(Xe.password=!0,Xe.password_confirmation=!0,ve=!0),te.password.length<6&&(Xe.password=!0,ve=!0),te.password_confirmation||(Xe.password_confirmation=!0,ve=!0),te.role||(Xe.role=!0,ve=!0),te.role==="agency"&&!te.business_type?.trim()&&(Xe.business_type=!0,ve=!0),L||(Xe.terms=!0,ve=!0),ve){H(Xe);const vs=["username","first_name","last_name","license_number","password","password_confirmation","role","business_type","terms"],Ha={username:z,first_name:ie,last_name:le,license_number:ne,password:fe,password_confirmation:Ne,role:ye,business_type:Le,terms:Se},Ds=vs.find(_a=>Xe[_a]);if(Ds){const bt=Ha[Ds]?.current;bt&&(typeof bt.focus=="function"&&bt.focus(),bt.scrollIntoView({behavior:"smooth",block:"center"}))}se.error("Please fill in the required fields highlighted in red.");return}const Is=`${h(D)}${N.replace(/^0+/,"")}`;try{r(!0);const Ha={phone_number:Is.replace(/^\+/,""),otp_code:A,...te,...(te.role==="agency"||te.role==="agnecy")&&{business_type:te.business_type}},Ds=await xe.post("/auth/register",Ha);localStorage.setItem("authToken",Ds.data.token),localStorage.setItem("token",Ds.data.token),localStorage.setItem("user",JSON.stringify(Ds.data.user)),se.success("Registration successful! Please complete your profile."),t("/Complete-Profile")}catch(vs){vs.response?.data?.errors?Object.keys(vs.response.data.errors).forEach(Ha=>{vs.response.data.errors[Ha].forEach(Ds=>se.error(Ds))}):se.error(vs.response?.data?.message||"Registration failed.")}finally{r(!1)}},[kt,tt]=y.useState(""),[ps,ys]=y.useState("LB"),[Fs,pe]=y.useState(!1),[Ce,he]=y.useState(""),[Ie,ze]=y.useState(""),[rt,yt]=y.useState(""),[dt,Vt]=y.useState(!1),[St,Gt]=y.useState(0);y.useEffect(()=>{let ve;return St>0&&(ve=setInterval(()=>{Gt(Xe=>Xe<=1?(Vt(!0),0):Xe-1)},1e3)),()=>clearInterval(ve)},[St]);const Us=()=>{l(!1),tt(""),pe(!1),he(""),ze(""),yt(""),Vt(!1),Gt(0)},ns=()=>{tt(""),pe(!1),he(""),ze(""),yt(""),Vt(!1),Gt(0)},gs=async()=>{{se.info("Web password reset via OTP is temporarily disabled. Please use our mobile app at https://rento-lb.com/mobile-app.");return}},pt=async()=>{dt&&await gs()},Ms=async()=>{if(!Ce)return se.error("Please enter the OTP code.");if(Ce.length!==6)return se.error("OTP code must be 6 digits.");if(!Ie||!rt)return se.error("Please enter your new password.");if(Ie!==rt)return se.error("Passwords do not match!");if(Ie.length<6)return se.error("Password must be at least 6 characters long.");const ve=`${h(ps)}${kt.replace(/^0+/,"")}`,Xe=ve.trim().startsWith("+")?ve:`+${ve}`;try{r(!0);const Is=await xe.post("/auth/reset-password",{phone_number:Xe,otp_code:Ce,new_password:Ie,new_password_confirmation:rt});se.success(Is.data?.message||"Password reset successfully! You can now login."),Us(),a("login")}catch(Is){if(Is.response?.data?.error)se.error(Is.response.data.error);else if(Is.response?.data?.errors){const vs=Is.response.data.errors;Object.keys(vs).forEach(Ha=>{vs[Ha].forEach(Ds=>se.error(Ds))})}else se.error(Is.response?.data?.message||"Failed to reset password.")}finally{r(!1)}};return i?e.jsxs("div",{className:"min-h-screen flex items-center justify-center px-4 py-8 bg-gradient-to-br from-gray-50 via-white to-[#8EDC81]/10 dark:from-gray-950 dark:via-gray-900 dark:to-gray-800 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-[#1e5f7a]/10 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-[#00A19C]/10 rounded-full blur-3xl animate-pulse animation-delay-700"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 w-96 h-96 bg-[#8EDC81]/10 rounded-full blur-3xl animate-pulse animation-delay-1400"})]}),e.jsxs("div",{className:"w-full max-w-md relative z-10 animate-fade-in-up",children:[e.jsxs(K,{variant:"ghost",onClick:Us,className:"mb-6 hover:bg-[#00A19C]/10 transition-all hover:scale-105",children:[e.jsx(xi,{className:"w-4 h-4 mr-2"}),"Back to Login"]}),e.jsxs("div",{className:"flex flex-col items-center mb-8 animate-fade-in",children:[e.jsx("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] flex items-center justify-center shadow-xl shadow-[#00A19C]/30 mb-4 animate-float",children:e.jsx(zt,{className:"w-10 h-10 text-white"})}),e.jsx("h1",{className:"text-4xl font-black bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] bg-clip-text text-transparent",children:"Rento LB"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2 font-medium",children:"Reset Your Password"})]}),e.jsxs(Te,{className:"border-2 border-gray-200 dark:border-gray-700 hover:border-[#00A19C] transition-all duration-500 hover:shadow-2xl hover:shadow-[#00A19C]/20 bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm",children:[e.jsxs(rs,{children:[e.jsx(is,{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Reset Password"}),e.jsx(am,{children:"Enter your phone number to receive an OTP"})]}),e.jsx(Re,{children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Phone Number"}),e.jsx(Sb,{countries:d,iso2:ps,setIso2:ys,phone:kt,setPhone:tt,disabledPhone:!1}),Fs&&e.jsx(K,{type:"button",variant:"link",size:"sm",onClick:ns,className:"px-0 text-[#00A19C] hover:text-[#8EDC81] transition-colors",children:"Change number"})]}),Fs&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2 animate-fade-in-up",children:[e.jsx(q,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"OTP Code"}),e.jsx(oe,{type:"text",inputMode:"numeric",value:Ce,onChange:ve=>{const Xe=ve.target.value.replace(/\D/g,"");Xe.length<=6&&he(Xe)},placeholder:"Enter 6-digit OTP",maxLength:6,className:"border-2 border-gray-300 dark:border-gray-600 focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all"}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Check your phone"}),St>0?e.jsxs("p",{className:"text-xs text-[#00A19C] font-semibold",children:["Resend in ",St,"s"]}):e.jsxs(K,{type:"button",variant:"link",size:"sm",onClick:pt,disabled:!dt||n,className:"h-auto p-0 text-xs text-[#00A19C] hover:text-[#8EDC81] transition-colors",children:[e.jsx(_t,{className:"w-3 h-3 mr-1"}),"Resend OTP"]})]})]}),e.jsxs("div",{className:"space-y-2 animate-fade-in-up animation-delay-200",children:[e.jsx(q,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(ol,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(oe,{type:"password",value:Ie,onChange:ve=>ze(ve.target.value),className:"pl-10 border-2 border-gray-300 dark:border-gray-600 focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all",minLength:6,placeholder:"At least 6 characters"})]})]}),e.jsxs("div",{className:"space-y-2 animate-fade-in-up animation-delay-300",children:[e.jsx(q,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Confirm New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(ol,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(oe,{type:"password",value:rt,onChange:ve=>yt(ve.target.value),className:"pl-10 border-2 border-gray-300 dark:border-gray-600 focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all",placeholder:"Re-enter password"})]})]})]}),Fs?e.jsx(K,{onClick:Ms,className:"w-full bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] hover:from-[#184a5e] hover:via-[#008c88] hover:to-[#7bc876] text-white font-bold py-6 rounded-xl shadow-lg shadow-[#00A19C]/30 hover:shadow-xl hover:shadow-[#00A19C]/40 transition-all duration-300 hover:scale-105",disabled:n,children:n?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(_t,{className:"w-4 h-4 animate-spin"}),"Resetting..."]}):"Reset Password"}):e.jsx(K,{onClick:gs,className:"w-full bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] hover:from-[#184a5e] hover:via-[#008c88] hover:to-[#7bc876] text-white font-bold py-6 rounded-xl shadow-lg shadow-[#00A19C]/30 hover:shadow-xl hover:shadow-[#00A19C]/40 transition-all duration-300 hover:scale-105",disabled:n,children:n?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(_t,{className:"w-4 h-4 animate-spin"}),"Sending..."]}):"Send OTP"})]})})]})]})]}):e.jsxs("div",{className:"min-h-screen flex items-center justify-center px-4 py-8 bg-gradient-to-br from-gray-50 via-white to-[#8EDC81]/10 dark:from-gray-950 dark:via-gray-900 dark:to-gray-800 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-[#1e5f7a]/10 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-[#00A19C]/10 rounded-full blur-3xl animate-pulse animation-delay-700"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 w-96 h-96 bg-[#8EDC81]/10 rounded-full blur-3xl animate-pulse animation-delay-1400"}),e.jsx("div",{className:"absolute top-[10%] left-[15%] w-3 h-3 bg-[#00A19C] rounded-full animate-float animation-delay-500 opacity-20"}),e.jsx("div",{className:"absolute top-[60%] left-[80%] w-4 h-4 bg-[#8EDC81] rounded-full animate-float animation-delay-1000 opacity-20"}),e.jsx("div",{className:"absolute top-[80%] left-[20%] w-2 h-2 bg-[#1e5f7a] rounded-full animate-float animation-delay-1500 opacity-20"}),e.jsx("div",{className:"absolute top-[30%] left-[70%] w-3 h-3 bg-[#00A19C] rounded-full animate-float animation-delay-2000 opacity-20"})]}),e.jsxs("div",{className:"w-full max-w-md relative z-10 animate-fade-in-up",children:[e.jsxs(K,{variant:"ghost",onClick:()=>t("/"),className:"mb-6 hover:bg-[#00A19C]/10 transition-all hover:scale-105 group",children:[e.jsx(xi,{className:"w-4 h-4 mr-2 group-hover:-translate-x-1 transition-transform"}),"Back to Home"]}),e.jsxs("div",{className:"flex flex-col items-center mb-8 animate-fade-in",children:[e.jsx("div",{className:"w-24 h-24 rounded-2xl flex items-center justify-center mb-4 animate-float hover:scale-110 transition-transform duration-300 cursor-pointer shadow-md shadow-gray-400/20",children:e.jsx("img",{src:"/rentologo.png",alt:"Rento LB Logo",className:"w-24 h-24 object-contain"})}),e.jsx("h1",{className:"text-4xl font-black bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] bg-clip-text text-transparent mb-2",children:"Rento LB"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 font-medium flex items-center gap-2",children:[e.jsx(Fd,{className:"w-4 h-4 text-[#00A19C]"}),"Lebanon's Premier Car Rental",e.jsx(Fd,{className:"w-4 h-4 text-[#8EDC81]"})]})]}),e.jsxs(Te,{className:"border-2 border-gray-200 dark:border-gray-700 hover:border-[#00A19C] transition-all duration-500 hover:shadow-2xl hover:shadow-[#00A19C]/20 bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm",children:[e.jsxs(rs,{className:"text-center",children:[e.jsx(is,{className:"text-3xl font-black text-gray-900 dark:text-white",children:"Welcome Back"}),e.jsx(am,{className:"text-base",children:"Login or register to access your account"})]}),e.jsxs(Re,{children:[e.jsxs(uo,{value:s,onValueChange:ve=>{a(ve),ve==="register"&&Ge()},className:"w-full",children:[e.jsxs(ki,{className:"grid w-full grid-cols-2 mb-6 bg-gray-100 dark:bg-gray-700 p-1 rounded-xl",children:[e.jsx(Pt,{value:"login",className:"rounded-lg data-[state=active]:bg-gradient-to-r data-[state=active]:from-[#1e5f7a] data-[state=active]:via-[#00A19C] data-[state=active]:to-[#8EDC81] data-[state=active]:text-white font-semibold transition-all",children:"Login"}),e.jsx(Pt,{value:"register",className:"rounded-lg data-[state=active]:bg-gradient-to-r data-[state=active]:from-[#1e5f7a] data-[state=active]:via-[#00A19C] data-[state=active]:to-[#8EDC81] data-[state=active]:text-white font-semibold transition-all",children:"Register"})]}),e.jsx($t,{value:"login",className:"animate-fade-in",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(q,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[e.jsx(Gr,{className:"w-4 h-4 text-[#00A19C]"}),"Phone Number"]}),e.jsx(Sb,{countries:d,iso2:x,setIso2:v,phone:p,setPhone:f,disabledPhone:!1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(q,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[e.jsx(ol,{className:"w-4 h-4 text-[#00A19C]"}),"Password"]}),e.jsxs("div",{className:"relative",children:[e.jsx(ol,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(oe,{type:"password",value:j,onChange:ve=>w(ve.target.value),className:"pl-10 border-2 border-gray-300 dark:border-gray-600 focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all",placeholder:"Enter your password",onKeyPress:ve=>ve.key==="Enter"&&_()})]})]}),e.jsx(K,{type:"button",variant:"link",className:"w-full text-sm p-0 h-auto text-[#00A19C] hover:text-[#8EDC81] font-semibold transition-colors",onClick:()=>l(!0),children:"Forgot Password?"}),e.jsx(K,{onClick:_,disabled:n,className:"w-full bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] hover:from-[#184a5e] hover:via-[#008c88] hover:to-[#7bc876] text-white font-bold py-6 rounded-xl shadow-lg shadow-[#00A19C]/30 hover:shadow-xl hover:shadow-[#00A19C]/40 transition-all duration-300 hover:scale-105 group",children:n?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(_t,{className:"w-5 h-5 animate-spin"}),"Logging in..."]}):e.jsxs("span",{className:"flex items-center gap-2",children:["Login",e.jsx(xi,{className:"w-5 h-5 rotate-180 group-hover:translate-x-1 transition-transform"})]})})]})}),e.jsx($t,{value:"register",className:"animate-fade-in",children:M?e.jsxs("div",{className:"space-y-5 animate-fade-in",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(q,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[e.jsx(_i,{className:"w-4 h-4 text-[#00A19C]"}),"Username"]}),e.jsxs("div",{className:"relative",children:[e.jsx(_i,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(oe,{type:"text",ref:z,value:te.username,onChange:ve=>{V({...te,username:ve.target.value}),H(Xe=>({...Xe,username:!1}))},className:`pl-10 border-2 ${U.username?"border-red-500":"border-gray-300 dark:border-gray-600"} focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all`,placeholder:"Choose a username"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"First Name"}),e.jsx(oe,{type:"text",ref:ie,value:te.first_name,onChange:ve=>{V({...te,first_name:ve.target.value}),H(Xe=>({...Xe,first_name:!1}))},className:`border-2 ${U.first_name?"border-red-500":"border-gray-300 dark:border-gray-600"} focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all`,placeholder:"First name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Last Name"}),e.jsx(oe,{type:"text",ref:le,value:te.last_name,onChange:ve=>{V({...te,last_name:ve.target.value}),H(Xe=>({...Xe,last_name:!1}))},className:`border-2 ${U.last_name?"border-red-500":"border-gray-300 dark:border-gray-600"} focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all`,placeholder:"Last name"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Driver's License Number"}),e.jsx(oe,{type:"text",ref:ne,value:te.license_number,onChange:ve=>{V({...te,license_number:ve.target.value}),H(Xe=>({...Xe,license_number:!1}))},className:`border-2 ${U.license_number?"border-red-500":"border-gray-300 dark:border-gray-600"} focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all`,placeholder:"License number"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(q,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[e.jsx(ol,{className:"w-4 h-4 text-[#00A19C]"}),"Password"]}),e.jsx(oe,{type:"password",ref:fe,value:te.password,onChange:ve=>{V({...te,password:ve.target.value}),H(Xe=>({...Xe,password:!1}))},minLength:6,className:`border-2 ${U.password?"border-red-500":"border-gray-300 dark:border-gray-600"} focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all`,placeholder:"At least 6 characters"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Minimum 6 characters"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Confirm Password"}),e.jsx(oe,{type:"password",ref:Ne,value:te.password_confirmation,onChange:ve=>{V({...te,password_confirmation:ve.target.value}),H(Xe=>({...Xe,password_confirmation:!1}))},className:`border-2 ${U.password_confirmation?"border-red-500":"border-gray-300 dark:border-gray-600"} focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all`,placeholder:"Re-enter password"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Role"}),e.jsxs(Je,{value:te.role,onValueChange:ve=>{V({...te,role:ve}),H(Xe=>({...Xe,role:!1,license_number:!1,business_type:!1}))},children:[e.jsx(Qe,{ref:ye,className:`border-2 ${U.role?"border-red-500":"border-gray-300 dark:border-gray-600"} focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all`,children:e.jsx(et,{placeholder:"Select Role"})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"client",children:"Client"}),e.jsx(de,{value:"agency",children:"Agency"})]})]})]}),te.role==="agency"&&e.jsxs("div",{className:"space-y-2 animate-fade-in-up",children:[e.jsxs(q,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:["Business Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs(Je,{value:te.business_type,onValueChange:ve=>{V({...te,business_type:ve}),H(Xe=>({...Xe,business_type:!1}))},children:[e.jsx(Qe,{ref:Le,className:`border-2 ${U.business_type?"border-red-500":"border-gray-300 dark:border-gray-600"} focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all`,children:e.jsx(et,{placeholder:"Select Business Type"})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"rental",children:"Rental"}),e.jsx(de,{value:"private",children:"Private"}),e.jsx(de,{value:"company",children:"Company"}),e.jsx(de,{value:"marina",children:"Marina"})]})]})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("input",{type:"checkbox",id:"terms-accept",ref:Se,checked:L,onChange:ve=>{$(ve.target.checked),H(Xe=>({...Xe,terms:!1}))},className:`mt-1 h-4 w-4 rounded ${U.terms?"border-red-500":"border-gray-300"} text-[#00A19C] focus:ring-[#00A19C]`}),e.jsxs(q,{htmlFor:"terms-accept",className:"text-sm text-gray-600 dark:text-gray-400 cursor-pointer leading-tight",children:["I accept the"," ",e.jsx("a",{href:"/Terms-and-Conditions",target:"_blank",rel:"noopener noreferrer",className:"text-[#00A19C] hover:underline font-medium",children:"Terms of Use"})," ","and"," ",e.jsx("a",{href:"/Privacy-Policy",target:"_blank",rel:"noopener noreferrer",className:"text-[#00A19C] hover:underline font-medium",children:"Privacy Policy"}),e.jsx("span",{className:"text-red-500",children:" *"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(K,{variant:"outline",onClick:()=>J(!1),className:"w-1/3 border-2 border-gray-300 hover:border-[#00A19C] hover:bg-[#00A19C]/10 transition-all",disabled:n,children:"Back"}),e.jsx(K,{onClick:ft,className:"w-2/3 bg-gradient-to-r from-[#00A19C] to-[#8EDC81] hover:from-[#008c88] hover:to-[#7bc876] text-white font-bold py-6 rounded-xl shadow-lg shadow-[#00A19C]/30 hover:shadow-xl hover:shadow-[#00A19C]/40 transition-all duration-300 hover:scale-105",disabled:n,children:n?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(_t,{className:"w-5 h-5 animate-spin"}),"Registering..."]}):"Complete Registration"})]})]}):e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(q,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[e.jsx(Gr,{className:"w-4 h-4 text-[#00A19C]"}),"Phone Number"]}),e.jsx(Sb,{countries:d,iso2:D,setIso2:T,phone:N,setPhone:k,disabledPhone:E})]}),E&&e.jsxs("div",{className:"space-y-2 animate-fade-in-up",children:[e.jsx(q,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"OTP Code"}),e.jsx(oe,{type:"text",inputMode:"numeric",value:A,onChange:ve=>{const Xe=ve.target.value.replace(/\D/g,"");Xe.length<=6&&F(Xe)},placeholder:"Enter 6-digit OTP",maxLength:6,className:"border-2 border-gray-300 dark:border-gray-600 focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all text-center text-2xl font-bold tracking-widest"}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Check your phone"}),Y>0?e.jsxs("p",{className:"text-xs text-[#00A19C] font-semibold",children:["Resend in ",Y,"s"]}):e.jsxs(K,{type:"button",variant:"link",size:"sm",onClick:Ye,disabled:!R||n,className:"h-auto p-0 text-xs text-[#00A19C] hover:text-[#8EDC81] transition-colors",children:[e.jsx(_t,{className:"w-3 h-3 mr-1"}),"Resend OTP"]})]})]}),e.jsx("div",{className:"flex gap-2",children:E?e.jsxs(e.Fragment,{children:[e.jsx(K,{variant:"outline",onClick:nt,className:"w-1/3 border-2 border-gray-300 hover:border-[#00A19C] hover:bg-[#00A19C]/10 transition-all",disabled:n,children:"Change"}),e.jsx(K,{onClick:Oe,className:"w-2/3 bg-gradient-to-r from-[#00A19C] to-[#8EDC81] hover:from-[#008c88] hover:to-[#7bc876] text-white font-bold py-6 rounded-xl shadow-lg shadow-[#00A19C]/30 hover:shadow-xl hover:shadow-[#00A19C]/40 transition-all duration-300 hover:scale-105",disabled:n,children:n?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(_t,{className:"w-5 h-5 animate-spin"}),"Verifying..."]}):"Verify OTP"})]}):e.jsx(K,{onClick:Ae,className:"w-full bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] hover:from-[#184a5e] hover:via-[#008c88] hover:to-[#7bc876] text-white font-bold py-6 rounded-xl shadow-lg shadow-[#00A19C]/30 hover:shadow-xl hover:shadow-[#00A19C]/40 transition-all duration-300 hover:scale-105",disabled:n,children:n?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(_t,{className:"w-5 h-5 animate-spin"}),"Sending..."]}):"Send OTP"})})]})})]}),e.jsx("div",{className:"mt-6 text-center border-t border-gray-200 dark:border-gray-700 pt-6",children:e.jsxs("button",{onClick:()=>t("/"),className:"text-sm text-gray-600 dark:text-gray-400 hover:text-[#00A19C] dark:hover:text-[#8EDC81] transition-colors font-medium flex items-center gap-2 mx-auto group",children:[e.jsx(Fd,{className:"w-4 h-4 group-hover:animate-pulse"}),"Continue as Guest",e.jsx(Fd,{className:"w-4 h-4 group-hover:animate-pulse"})]})})]})]}),e.jsx("div",{className:"mt-6 text-center text-xs text-gray-500 dark:text-gray-400",children:e.jsx("p",{children:" 2024 Rento LB. All rights reserved."})})]})]})}const LG=Hj("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Me({className:t,variant:s,...a}){return e.jsx("div",{className:mt(LG({variant:s}),t),...a})}const BG=({feedbacks:t,onClose:s})=>e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",onClick:s,children:e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 max-w-md w-full max-h-[80vh] overflow-y-auto shadow-2xl border border-gray-200 dark:border-gray-700 animate-scale-in",onClick:a=>a.stopPropagation(),children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(nx,{className:"w-5 h-5 text-[#00A19C]"}),"Customer Feedback"]}),e.jsx("button",{onClick:s,className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors hover:scale-110 w-8 h-8 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 flex items-center justify-center","aria-label":"Close feedbacks",children:""})]}),t&&t.length>0?e.jsx("ul",{className:"space-y-4",children:t.map((a,n)=>e.jsxs("li",{className:"border-b border-gray-200 dark:border-gray-700 pb-4 last:border-0 animate-fade-in-up",style:{animationDelay:`${n*.1}s`},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ys,{className:"w-4 h-4 text-[#8EDC81] fill-[#8EDC81]"}),e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:a.rating?`${a.rating}/5`:"N/A"})]}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:a.comments||"No comment provided."})]},n))}):e.jsx("p",{className:"text-gray-500 dark:text-gray-400 italic text-center py-8",children:"No feedback yet. Be the first to review!"})]})}),FG=({car:t,forceFavorite:s=!1,onToggleFavoriteApi:a})=>{const[n,r]=y.useState(!1),[i,l]=y.useState(!1),[d,u]=y.useState(!1),[h,p]=y.useState(!1),{isAuthenticated:f}=pu();y.useEffect(()=>{if(s){r(!0);return}r(!1)},[t?.id,s]);const x=async j=>{if(j.preventDefault(),j.stopPropagation(),!t?.id||i)return;if(!f){se.error("Please log in to save favorites.");return}if(a)return a();const w=!n;r(w),l(!0);try{await xe.post(`/cars/${t.id}/favorite`),window.dispatchEvent(new Event("favoritesUpdated"))}catch(_){console.error("Favorite toggle error:",_),r(!w)}finally{l(!1)}},v={id:t.id,image:t.main_image_url||t.image||"/placeholder.png",brand:t.make||t.brand||"Car",model:t.model||"Model",year:t.year||"N/A",category:t.car_category||t.type||t.category||"Standard",seats:t.seats||4,transmission:t.transmission||"Auto",fuelType:t.fuel_type||t.fuelType||"Petrol",price:t.daily_rate||t.price||0,holidayRate:t.holiday_rate||null,deposit:t.deposit||null,isDeposit:t.is_deposit||!1,feedbacks:t.feedbacks||[],popular:t.popular||!1,location:t.live_location?.address||t.location||null};return e.jsxs(e.Fragment,{children:[e.jsx(Ts,{to:`/cars/${v.id}`,className:"block group",children:e.jsxs(Te,{className:"relative overflow-hidden h-full flex flex-col bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 hover:border-[#00A19C] transition-all duration-300 hover:shadow-lg hover:shadow-[#00A19C]/20 hover:-translate-y-1",children:[e.jsxs("div",{className:"relative overflow-hidden aspect-square bg-gray-100 dark:bg-gray-700",children:[!d&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 dark:from-gray-700 dark:via-gray-600 dark:to-gray-700 animate-pulse"}),e.jsx("img",{src:`/api/storage/${v.image}`,alt:`${v.brand} ${v.model}`,onLoad:()=>u(!0),className:`w-full h-full object-cover transition-transform duration-500 group-hover:scale-105 ${d?"opacity-100":"opacity-0"}`}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/10 to-transparent opacity-50 group-hover:opacity-70 transition-opacity duration-300"}),e.jsx("button",{onClick:x,disabled:i,"aria-label":n?"Remove from favorites":"Add to favorites",className:`absolute top-2 right-2 w-8 h-8 rounded-full backdrop-blur-sm flex items-center justify-center transition-all duration-300 z-20 ${n?"bg-red-500 shadow-md":"bg-white/90 dark:bg-gray-800/90 hover:scale-110"} ${i?"opacity-70 cursor-not-allowed":""}`,children:e.jsx(xl,{className:`w-4 h-4 transition-all ${n?"fill-white text-white":"text-gray-700 dark:text-gray-300"}`})}),e.jsx("div",{className:"absolute top-2 left-2 z-10",children:e.jsx(Me,{className:"bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm text-[#00A19C] dark:text-[#8EDC81] border border-[#00A19C]/30 dark:border-[#8EDC81]/30 text-xs font-semibold px-2 py-0.5",children:v.category})}),v.popular&&e.jsx("div",{className:"absolute bottom-2 left-2 z-10",children:e.jsxs(Me,{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white text-xs font-bold border-0 px-2 py-0.5 flex items-center gap-1",children:[e.jsx(Ys,{className:"w-3 h-3 fill-white"}),"Popular"]})}),e.jsx("div",{className:"absolute bottom-2 right-2 z-10",children:e.jsxs(Me,{className:"bg-gradient-to-r from-[#00A19C] to-[#8EDC81] text-white text-xs font-bold px-2 py-1",children:["$",v.price,"/day"]})})]}),e.jsxs(Re,{className:"p-2.5 flex-grow",children:[e.jsxs("div",{className:"mb-1.5",children:[e.jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[e.jsx("p",{className:"text-xs font-semibold text-[#00A19C] dark:text-[#8EDC81] uppercase tracking-wide",children:v.brand}),e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:v.year}),v.location&&e.jsxs("div",{className:"flex items-center gap-0.5 mt-0.5",children:[e.jsx(bs,{className:"w-2.5 h-2.5 text-gray-400 dark:text-gray-500"}),e.jsx("p",{className:"text-[9px] text-gray-500 dark:text-gray-400 line-clamp-1",children:v.location})]})]})]}),e.jsx("h3",{className:"text-sm font-bold text-gray-900 dark:text-white line-clamp-1 group-hover:text-[#00A19C] dark:group-hover:text-[#8EDC81] transition-colors",children:v.model})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-1 mb-1.5",children:[e.jsxs("div",{className:"flex flex-col items-center p-1 rounded bg-gray-50 dark:bg-gray-700/50 group-hover:bg-[#00A19C]/10 dark:group-hover:bg-[#00A19C]/20 transition-colors",children:[e.jsx(fs,{className:"w-3 h-3 text-[#00A19C] dark:text-[#8EDC81] mb-0.5"}),e.jsx("span",{className:"text-[10px] font-semibold text-gray-700 dark:text-gray-300",children:v.seats})]}),e.jsxs("div",{className:"flex flex-col items-center p-1 rounded bg-gray-50 dark:bg-gray-700/50 group-hover:bg-[#00A19C]/10 dark:group-hover:bg-[#00A19C]/20 transition-colors",children:[e.jsx(km,{className:"w-3 h-3 text-[#00A19C] dark:text-[#8EDC81] mb-0.5"}),e.jsx("span",{className:"text-[10px] font-semibold text-gray-700 dark:text-gray-300 truncate w-full text-center",children:v.transmission.slice(0,4)})]}),e.jsxs("div",{className:"flex flex-col items-center p-1 rounded bg-gray-50 dark:bg-gray-700/50 group-hover:bg-[#00A19C]/10 dark:group-hover:bg-[#00A19C]/20 transition-colors",children:[e.jsx(ax,{className:"w-3 h-3 text-[#00A19C] dark:text-[#8EDC81] mb-0.5"}),e.jsx("span",{className:"text-[10px] font-semibold text-gray-700 dark:text-gray-300 truncate w-full text-center",children:v.fuelType.slice(0,4)})]})]}),(v.holidayRate||v.isDeposit)&&e.jsxs("div",{className:"flex items-center gap-1 mb-1.5 text-[10px]",children:[v.holidayRate&&e.jsxs("div",{className:"flex-1 text-center p-1 bg-gradient-to-br from-[#00A19C]/10 to-[#8EDC81]/10 dark:from-[#1e5f7a]/20 dark:to-[#00A19C]/20 rounded border border-[#00A19C]/20",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium text-[9px] leading-tight",children:"Holiday"}),e.jsxs("p",{className:"font-bold text-[#1e5f7a] dark:text-[#8EDC81] text-xs leading-tight",children:["$",v.holidayRate]})]}),v.isDeposit&&e.jsxs("div",{className:"flex-1 text-center p-1 bg-amber-50 dark:bg-amber-900/20 rounded border border-amber-200 dark:border-amber-800",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium text-[9px] leading-tight",children:"Deposit"}),e.jsxs("p",{className:"font-bold text-amber-600 dark:text-amber-400 text-xs leading-tight",children:["$",v.deposit]})]})]}),e.jsxs("button",{onClick:j=>{j.preventDefault(),j.stopPropagation(),p(!0)},className:"w-full flex items-center justify-between p-1 rounded bg-gray-50 dark:bg-gray-700/50 hover:bg-[#00A19C]/10 dark:hover:bg-[#00A19C]/20 transition-all border border-gray-200 dark:border-gray-700 hover:border-[#00A19C] group/feedback mb-1.5","aria-label":"Open customer feedback",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(nx,{className:"w-3 h-3 text-[#00A19C] dark:text-[#8EDC81]"}),e.jsx("span",{className:"text-[10px] font-semibold text-gray-900 dark:text-white",children:"Reviews"})]}),e.jsx(Me,{className:"bg-gradient-to-r from-[#00A19C] to-[#8EDC81] text-white text-[10px] font-bold px-1.5 py-0",children:v.feedbacks.length})]}),e.jsx(K,{className:"w-full bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] hover:from-[#184a5e] hover:via-[#008c88] hover:to-[#7bc876] text-white font-bold py-2 text-xs rounded-lg shadow-md hover:shadow-lg transition-all duration-300 hover:scale-[1.02] group/btn",children:e.jsxs("span",{className:"flex items-center justify-center gap-1",children:[e.jsx(sa,{className:"w-3 h-3"}),"View Details",e.jsx(Ec,{className:"w-3 h-3 group-hover/btn:translate-x-0.5 transition-transform"})]})})]})]})}),h&&e.jsx(BG,{feedbacks:v.feedbacks,onClose:()=>p(!1)})]})},IG=()=>{const[t,s]=y.useState({location:"",pickupDate:"",returnDate:""}),[a,n]=y.useState([]),[r,i]=y.useState(!0),[l,d]=y.useState("");y.useEffect(()=>{(async()=>{try{const x=await xe.get("/guest-cars");if(!x.data||!x.data.cars)throw new Error("Invalid response from server");n(x.data.cars)}catch(x){console.error("Error fetching cars:",x.response?.data||x.message),d("Failed to load cars. Please try again later.")}finally{i(!1)}})()},[]);const u=f=>{f.preventDefault(),window.location.href="/luxury-car-rental-lebanon"},h=[{icon:Bn,title:"Premium Insurance",description:"Comprehensive coverage with every rental",gradient:"from-[#1e5f7a] to-[#00A19C]"},{icon:hu,title:"24/7 Support",description:"Round-the-clock customer service",gradient:"from-[#00A19C] to-[#8EDC81]"},{icon:Bs,title:"Best Price Guarantee",description:"Competitive rates, no hidden fees",gradient:"from-[#1e5f7a] to-[#8EDC81]"},{icon:Ev,title:"Premium Fleet",description:"Luxury and high-performance vehicles",gradient:"from-[#8EDC81] to-[#00A19C]"}],p=[{value:"10K+",label:"Happy Customers",icon:fs,color:"from-[#1e5f7a] to-[#00A19C]"},{value:"50+",label:"Luxury Vehicles",icon:zt,color:"from-[#00A19C] to-[#8EDC81]"},{value:"15",label:"Years Experience",icon:bl,color:"from-[#1e5f7a] to-[#8EDC81]"},{value:"99%",label:"Satisfaction Rate",icon:Ys,color:"from-[#8EDC81] to-[#00A19C]"}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-[#8EDC81]/10 dark:from-gray-950 dark:via-gray-900 dark:to-gray-800",children:[e.jsxs("section",{className:"relative min-h-[85vh] sm:min-h-[80vh] flex items-center justify-center overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-1/4 left-1/4 w-72 h-72 md:w-96 md:h-96 bg-[#1e5f7a]/10 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-72 h-72 md:w-96 md:h-96 bg-[#00A19C]/10 rounded-full blur-3xl animate-pulse animation-delay-700"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 w-72 h-72 md:w-96 md:h-96 bg-[#8EDC81]/10 rounded-full blur-3xl animate-pulse animation-delay-1400"})]}),e.jsxs("div",{className:"absolute inset-0 z-0",children:[e.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover opacity-90",poster:"https://images.unsplash.com/photo-1492144534655-ae79c964c9d7?w=1920&q=80",children:e.jsx("source",{src:"/hero.mp4",type:"video/mp4"})}),e.jsx("div",{className:"absolute inset-0 bg-transparent"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900/10 via-transparent to-transparent"})]}),e.jsx("div",{className:"container mx-auto px-4 relative z-10 pt-24 pb-16 sm:pt-32 sm:pb-20",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center mb-8 sm:mb-12 animate-fade-in-up",children:[e.jsxs(Me,{className:"mb-4 sm:mb-6 bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8fdc81bf] text-white border-0 px-4 sm:px-6 py-2 sm:py-2.5 text-xs sm:text-sm font-bold shadow-lg shadow-[#00A19C]/30 hover:shadow-xl hover:scale-105 transition-all animate-pulse-glow",children:[e.jsx(Fd,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 mr-1.5 sm:mr-2 inline"}),"Premium Car Rental Service"]}),e.jsxs("h1",{className:"text-3xl sm:text-5xl md:text-6xl lg:text-7xl font-black text-white mb-4 sm:mb-6 leading-tight drop-shadow-2xl",children:["Rent a Car in Lebanon",e.jsx("span",{className:"block mt-2 bg-gradient-to-r from-[#8EDC81] via-[#00A19C] to-[#1e5f7a] bg-clip-text text-transparent",children:"10,000+ Luxury & Premium Vehicles"})]}),e.jsx("p",{className:"text-base sm:text-xl md:text-2xl text-gray-100 mb-6 sm:mb-12 max-w-2xl mx-auto font-medium drop-shadow-lg px-4",children:"All you need in one place  the only platform with full search and filters"}),e.jsx(Te,{className:"bg-white/95 dark:bg-gray-800/95 backdrop-blur-xl border-0 shadow-2xl shadow-black/20 p-4 sm:p-6 md:p-8 rounded-2xl animate-scale-in",children:e.jsxs("form",{onSubmit:u,children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 mb-3 sm:mb-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(bs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 text-[#00A19C] pointer-events-none"}),e.jsx(oe,{type:"text",placeholder:"Location",value:t.location,onChange:f=>s({...t,location:f.target.value}),className:"pl-10 sm:pl-12 h-12 sm:h-14 border-2 border-gray-300 dark:border-gray-600 focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 rounded-xl text-sm sm:text-base transition-all"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Rs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 text-[#00A19C] pointer-events-none"}),e.jsx(oe,{type:"date",value:t.pickupDate,onChange:f=>s({...t,pickupDate:f.target.value}),className:"pl-10 sm:pl-12 h-12 sm:h-14 border-2 border-gray-300 dark:border-gray-600 focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 rounded-xl text-sm sm:text-base transition-all"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Rs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 text-[#00A19C] pointer-events-none"}),e.jsx(oe,{type:"date",value:t.returnDate,onChange:f=>s({...t,returnDate:f.target.value}),className:"pl-10 sm:pl-12 h-12 sm:h-14 border-2 border-gray-300 dark:border-gray-600 focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 rounded-xl text-sm sm:text-base transition-all"})]})]}),e.jsxs(K,{type:"submit",size:"lg",className:"w-full h-14 sm:h-16 bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] hover:from-[#184a5e] hover:via-[#008c88] hover:to-[#7bc876] text-white font-bold text-base sm:text-lg rounded-xl shadow-lg shadow-[#00A19C]/30 hover:shadow-xl hover:shadow-[#00A19C]/40 transition-all duration-300 hover:scale-[1.02] group",children:[e.jsx(Ea,{className:"w-5 h-5 sm:w-6 sm:h-6 mr-2 sm:mr-3 group-hover:rotate-90 transition-transform duration-300"}),"Search Available Cars",e.jsx(Ec,{className:"w-5 h-5 sm:w-6 sm:h-6 ml-2 sm:ml-3 group-hover:translate-x-1 transition-transform"})]})]})})]})})]}),e.jsx("section",{className:"py-16 sm:py-24 bg-gradient-to-br from-gray-50 to-[#8EDC81]/10 dark:from-gray-950 dark:to-gray-900",children:e.jsx("div",{className:"container mx-auto px-4",children:r?e.jsxs("div",{className:"flex flex-col justify-center items-center py-16 sm:py-20",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 border-4 border-[#00A19C] border-t-transparent rounded-full animate-spin mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium text-sm sm:text-base",children:"Loading premium vehicles..."})]}):l?e.jsxs("div",{className:"text-center py-16 sm:py-20 px-4",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(zt,{className:"w-8 h-8 sm:w-10 sm:h-10 text-red-500"})}),e.jsx("p",{className:"text-lg sm:text-xl text-red-500 font-semibold mb-2",children:l}),e.jsx(K,{onClick:()=>window.location.reload(),variant:"outline",className:"mt-4 border-red-300 text-red-600 hover:bg-red-50",children:"Try Again"})]}):a.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-10 sm:mb-12",children:a.slice(0,4).map((f,x)=>e.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:`${x*.1}s`},children:e.jsx(FG,{car:f})},f.id))}),e.jsx("div",{className:"text-center",children:e.jsx(Ts,{to:"/luxury-car-rental-lebanon",children:e.jsxs(K,{size:"lg",className:"bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] hover:from-[#184a5e] hover:via-[#008c88] hover:to-[#7bc876] text-white font-bold px-8 sm:px-10 py-6 sm:py-7 rounded-xl shadow-lg shadow-[#00A19C]/30 hover:shadow-xl hover:shadow-[#00A19C]/40 transition-all duration-300 hover:scale-105 text-base sm:text-lg group",children:["View All Vehicles",e.jsx(Ec,{className:"w-4 h-4 sm:w-5 sm:h-5 ml-2 group-hover:translate-x-1 transition-transform"})]})})})]}):e.jsxs("div",{className:"text-center py-16 sm:py-20 px-4",children:[e.jsx(zt,{className:"w-12 h-12 sm:w-16 sm:h-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-lg sm:text-xl text-gray-500 dark:text-gray-400",children:"No cars available at the moment."})]})})}),e.jsxs("section",{className:"py-12 sm:py-20 bg-white dark:bg-gray-900 relative overflow-hidden border-y border-gray-200 dark:border-gray-800",children:[e.jsx("div",{className:"absolute inset-0 opacity-5",children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81]"})}),e.jsx("div",{className:"container mx-auto px-4 relative z-10",children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 sm:gap-8",children:p.map((f,x)=>e.jsxs("div",{className:"text-center group cursor-default animate-fade-in-up",style:{animationDelay:`${x*.1}s`},children:[e.jsx("div",{className:`w-14 h-14 sm:w-20 sm:h-20 rounded-2xl bg-gradient-to-br ${f.color} flex items-center justify-center mx-auto mb-3 sm:mb-4 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300 shadow-lg shadow-[#00A19C]/20`,children:e.jsx(f.icon,{className:"w-7 h-7 sm:w-10 sm:h-10 text-white"})}),e.jsx("p",{className:"text-3xl sm:text-4xl md:text-5xl font-black bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] bg-clip-text text-transparent mb-1 sm:mb-2 group-hover:scale-105 transition-transform",children:f.value}),e.jsx("p",{className:"text-xs sm:text-sm md:text-base text-gray-600 dark:text-gray-400 font-semibold",children:f.label})]},x))})})]}),e.jsx("section",{className:"py-16 sm:py-24 bg-white dark:bg-gray-900",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12 sm:mb-16 animate-fade-in",children:[e.jsxs(Me,{className:"mb-3 sm:mb-4 bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] text-white border-0 px-4 sm:px-5 py-1.5 sm:py-2 font-bold shadow-lg shadow-[#00A19C]/20 text-xs sm:text-sm",children:[e.jsx(Ev,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 inline mr-1.5 sm:mr-2"}),"Why Choose Us"]}),e.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-black text-gray-900 dark:text-white mb-3 sm:mb-4 px-4",children:"All Cars, All Options"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-600 dark:text-gray-400 max-w-3xl mx-auto px-4",children:"Connecting you with the perfect car for every journey"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 lg:gap-8",children:h.map((f,x)=>e.jsx(Te,{className:"text-center border-2 border-gray-200 dark:border-gray-700 hover:border-[#00A19C] dark:hover:border-[#8EDC81] transition-all duration-500 hover:shadow-2xl hover:shadow-[#00A19C]/20 hover:-translate-y-2 bg-white dark:bg-gray-800 group/card animate-fade-in-up",style:{animationDelay:`${x*.1}s`},children:e.jsxs(Re,{className:"pt-8 sm:pt-10 pb-8 sm:pb-10 px-4",children:[e.jsx("div",{className:`w-16 h-16 sm:w-20 sm:h-20 rounded-2xl bg-gradient-to-br ${f.gradient} flex items-center justify-center mx-auto mb-4 sm:mb-6 shadow-lg shadow-[#00A19C]/20 group-hover/card:scale-110 group-hover/card:rotate-3 transition-all duration-300`,children:e.jsx(f.icon,{className:"w-8 h-8 sm:w-10 sm:h-10 text-white"})}),e.jsx("h3",{className:"text-lg sm:text-xl font-bold mb-3 sm:mb-4 text-gray-900 dark:text-white group-hover/card:text-[#00A19C] dark:group-hover/card:text-[#8EDC81] transition-colors",children:f.title}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 leading-relaxed",children:f.description})]})},x))})]})})]})};var kx="Checkbox",[$G]=nr(kx),[zG,pw]=$G(kx);function VG(t){const{__scopeCheckbox:s,checked:a,children:n,defaultChecked:r,disabled:i,form:l,name:d,onCheckedChange:u,required:h,value:p="on",internal_do_not_use_render:f}=t,[x,v]=co({prop:a,defaultProp:r??!1,onChange:u,caller:kx}),[j,w]=y.useState(null),[_,N]=y.useState(null),k=y.useRef(!1),D=j?!!l||!!j.closest("form"):!0,T={checked:x,disabled:i,setChecked:v,control:j,setControl:w,name:d,form:l,value:p,hasConsumerStoppedPropagationRef:k,required:h,defaultChecked:ml(r)?!1:r,isFormControl:D,bubbleInput:_,setBubbleInput:N};return e.jsx(zG,{scope:s,...T,children:UG(f)?f(T):n})}var jR="CheckboxTrigger",wR=y.forwardRef(({__scopeCheckbox:t,onKeyDown:s,onClick:a,...n},r)=>{const{control:i,value:l,disabled:d,checked:u,required:h,setControl:p,setChecked:f,hasConsumerStoppedPropagationRef:x,isFormControl:v,bubbleInput:j}=pw(jR,t),w=Ht(r,p),_=y.useRef(u);return y.useEffect(()=>{const N=i?.form;if(N){const k=()=>f(_.current);return N.addEventListener("reset",k),()=>N.removeEventListener("reset",k)}},[i,f]),e.jsx(Dt.button,{type:"button",role:"checkbox","aria-checked":ml(u)?"mixed":u,"aria-required":h,"data-state":SR(u),"data-disabled":d?"":void 0,disabled:d,value:l,...n,ref:w,onKeyDown:st(s,N=>{N.key==="Enter"&&N.preventDefault()}),onClick:st(a,N=>{f(k=>ml(k)?!0:!k),j&&v&&(x.current=N.isPropagationStopped(),x.current||N.stopPropagation())})})});wR.displayName=jR;var gw=y.forwardRef((t,s)=>{const{__scopeCheckbox:a,name:n,checked:r,defaultChecked:i,required:l,disabled:d,value:u,onCheckedChange:h,form:p,...f}=t;return e.jsx(VG,{__scopeCheckbox:a,checked:r,defaultChecked:i,disabled:d,required:l,onCheckedChange:h,name:n,form:p,value:u,internal_do_not_use_render:({isFormControl:x})=>e.jsxs(e.Fragment,{children:[e.jsx(wR,{...f,ref:s,__scopeCheckbox:a}),x&&e.jsx(kR,{__scopeCheckbox:a})]})})});gw.displayName=kx;var NR="CheckboxIndicator",_R=y.forwardRef((t,s)=>{const{__scopeCheckbox:a,forceMount:n,...r}=t,i=pw(NR,a);return e.jsx(Dr,{present:n||ml(i.checked)||i.checked===!0,children:e.jsx(Dt.span,{"data-state":SR(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:s,style:{pointerEvents:"none",...t.style}})})});_R.displayName=NR;var CR="CheckboxBubbleInput",kR=y.forwardRef(({__scopeCheckbox:t,...s},a)=>{const{control:n,hasConsumerStoppedPropagationRef:r,checked:i,defaultChecked:l,required:d,disabled:u,name:h,value:p,form:f,bubbleInput:x,setBubbleInput:v}=pw(CR,t),j=Ht(a,v),w=vx(i),_=bx(n);y.useEffect(()=>{const k=x;if(!k)return;const D=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(D,"checked").set,G=!r.current;if(w!==i&&E){const A=new Event("click",{bubbles:G});k.indeterminate=ml(i),E.call(k,ml(i)?!1:i),k.dispatchEvent(A)}},[x,w,i,r]);const N=y.useRef(ml(i)?!1:i);return e.jsx(Dt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??N.current,required:d,disabled:u,name:h,value:p,form:f,...s,tabIndex:-1,ref:j,style:{...s.style,..._,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});kR.displayName=CR;function UG(t){return typeof t=="function"}function ml(t){return t==="indeterminate"}function SR(t){return ml(t)?"indeterminate":t?"checked":"unchecked"}const Oh=y.forwardRef(({className:t,...s},a)=>e.jsx(gw,{ref:a,className:mt("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...s,children:e.jsx(_R,{className:mt("flex items-center justify-center text-current"),children:e.jsx(Jn,{className:"h-4 w-4"})})}));Oh.displayName=gw.displayName;function HG(t){const s=qG(t),a=y.forwardRef((n,r)=>{const{children:i,...l}=n,d=y.Children.toArray(i),u=d.find(WG);if(u){const h=u.props.children,p=d.map(f=>f===u?y.Children.count(h)>1?y.Children.only(null):y.isValidElement(h)?h.props.children:null:f);return e.jsx(s,{...l,ref:r,children:y.isValidElement(h)?y.cloneElement(h,void 0,p):null})}return e.jsx(s,{...l,ref:r,children:i})});return a.displayName=`${t}.Slot`,a}function qG(t){const s=y.forwardRef((a,n)=>{const{children:r,...i}=a;if(y.isValidElement(r)){const l=KG(r),d=YG(i,r.props);return r.type!==y.Fragment&&(d.ref=n?xo(n,l):l),y.cloneElement(r,d)}return y.Children.count(r)>1?y.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var GG=Symbol("radix.slottable");function WG(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===GG}function YG(t,s){const a={...s};for(const n in s){const r=t[n],i=s[n];/^on[A-Z]/.test(n)?r&&i?a[n]=(...d)=>{const u=i(...d);return r(...d),u}:r&&(a[n]=r):n==="style"?a[n]={...r,...i}:n==="className"&&(a[n]=[r,i].filter(Boolean).join(" "))}return{...t,...a}}function KG(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var Sx="Dialog",[AR,TR]=nr(Sx),[XG,Xr]=AR(Sx),DR=t=>{const{__scopeDialog:s,children:a,open:n,defaultOpen:r,onOpenChange:i,modal:l=!0}=t,d=y.useRef(null),u=y.useRef(null),[h,p]=co({prop:n,defaultProp:r??!1,onChange:i,caller:Sx});return e.jsx(XG,{scope:s,triggerRef:d,contentRef:u,contentId:yi(),titleId:yi(),descriptionId:yi(),open:h,onOpenChange:p,onOpenToggle:y.useCallback(()=>p(f=>!f),[p]),modal:l,children:a})};DR.displayName=Sx;var ER="DialogTrigger",RR=y.forwardRef((t,s)=>{const{__scopeDialog:a,...n}=t,r=Xr(ER,a),i=Ht(s,r.triggerRef);return e.jsx(Dt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":bw(r.open),...n,ref:i,onClick:st(t.onClick,r.onOpenToggle)})});RR.displayName=ER;var xw="DialogPortal",[QG,MR]=AR(xw,{forceMount:void 0}),PR=t=>{const{__scopeDialog:s,forceMount:a,children:n,container:r}=t,i=Xr(xw,s);return e.jsx(QG,{scope:s,forceMount:a,children:y.Children.map(n,l=>e.jsx(Dr,{present:a||i.open,children:e.jsx(Bm,{asChild:!0,container:r,children:l})}))})};PR.displayName=xw;var Rg="DialogOverlay",OR=y.forwardRef((t,s)=>{const a=MR(Rg,t.__scopeDialog),{forceMount:n=a.forceMount,...r}=t,i=Xr(Rg,t.__scopeDialog);return i.modal?e.jsx(Dr,{present:n||i.open,children:e.jsx(JG,{...r,ref:s})}):null});OR.displayName=Rg;var ZG=HG("DialogOverlay.RemoveScroll"),JG=y.forwardRef((t,s)=>{const{__scopeDialog:a,...n}=t,r=Xr(Rg,a);return e.jsx(wx,{as:ZG,allowPinchZoom:!0,shards:[r.contentRef],children:e.jsx(Dt.div,{"data-state":bw(r.open),...n,ref:s,style:{pointerEvents:"auto",...n.style}})})}),Bc="DialogContent",LR=y.forwardRef((t,s)=>{const a=MR(Bc,t.__scopeDialog),{forceMount:n=a.forceMount,...r}=t,i=Xr(Bc,t.__scopeDialog);return e.jsx(Dr,{present:n||i.open,children:i.modal?e.jsx(eW,{...r,ref:s}):e.jsx(tW,{...r,ref:s})})});LR.displayName=Bc;var eW=y.forwardRef((t,s)=>{const a=Xr(Bc,t.__scopeDialog),n=y.useRef(null),r=Ht(s,a.contentRef,n);return y.useEffect(()=>{const i=n.current;if(i)return mw(i)},[]),e.jsx(BR,{...t,ref:r,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:st(t.onCloseAutoFocus,i=>{i.preventDefault(),a.triggerRef.current?.focus()}),onPointerDownOutside:st(t.onPointerDownOutside,i=>{const l=i.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0;(l.button===2||d)&&i.preventDefault()}),onFocusOutside:st(t.onFocusOutside,i=>i.preventDefault())})}),tW=y.forwardRef((t,s)=>{const a=Xr(Bc,t.__scopeDialog),n=y.useRef(!1),r=y.useRef(!1);return e.jsx(BR,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{t.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||a.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,r.current=!1},onInteractOutside:i=>{t.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const l=i.target;a.triggerRef.current?.contains(l)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&r.current&&i.preventDefault()}})}),BR=y.forwardRef((t,s)=>{const{__scopeDialog:a,trapFocus:n,onOpenAutoFocus:r,onCloseAutoFocus:i,...l}=t,d=Xr(Bc,a),u=y.useRef(null),h=Ht(s,u);return tw(),e.jsxs(e.Fragment,{children:[e.jsx(fx,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:r,onUnmountAutoFocus:i,children:e.jsx(Om,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":bw(d.open),...l,ref:h,onDismiss:()=>d.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(aW,{titleId:d.titleId}),e.jsx(rW,{contentRef:u,descriptionId:d.descriptionId})]})]})}),yw="DialogTitle",FR=y.forwardRef((t,s)=>{const{__scopeDialog:a,...n}=t,r=Xr(yw,a);return e.jsx(Dt.h2,{id:r.titleId,...n,ref:s})});FR.displayName=yw;var IR="DialogDescription",$R=y.forwardRef((t,s)=>{const{__scopeDialog:a,...n}=t,r=Xr(IR,a);return e.jsx(Dt.p,{id:r.descriptionId,...n,ref:s})});$R.displayName=IR;var zR="DialogClose",VR=y.forwardRef((t,s)=>{const{__scopeDialog:a,...n}=t,r=Xr(zR,a);return e.jsx(Dt.button,{type:"button",...n,ref:s,onClick:st(t.onClick,()=>r.onOpenChange(!1))})});VR.displayName=zR;function bw(t){return t?"open":"closed"}var UR="DialogTitleWarning",[sW,HR]=KV(UR,{contentName:Bc,titleName:yw,docsSlug:"dialog"}),aW=({titleId:t})=>{const s=HR(UR),a=`\`${s.contentName}\` requires a \`${s.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${s.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${s.docsSlug}`;return y.useEffect(()=>{t&&(document.getElementById(t)||console.error(a))},[a,t]),null},nW="DialogDescriptionWarning",rW=({contentRef:t,descriptionId:s})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${HR(nW).contentName}}.`;return y.useEffect(()=>{const r=t.current?.getAttribute("aria-describedby");s&&r&&(document.getElementById(s)||console.warn(n))},[n,t,s]),null},qR=DR,GR=RR,WR=PR,vw=OR,jw=LR,ww=FR,Nw=$R,_w=VR;const Va=qR,iW=GR,oW=WR,YR=y.forwardRef(({className:t,...s},a)=>e.jsx(vw,{ref:a,className:mt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s}));YR.displayName=vw.displayName;const Ra=y.forwardRef(({className:t,children:s,...a},n)=>e.jsxs(oW,{children:[e.jsx(YR,{}),e.jsxs(jw,{ref:n,className:mt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...a,children:[s,e.jsxs(_w,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(ea,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Ra.displayName=jw.displayName;const Ma=({className:t,...s})=>e.jsx("div",{className:mt("flex flex-col space-y-1.5 text-center sm:text-left",t),...s});Ma.displayName="DialogHeader";const KR=({className:t,...s})=>e.jsx("div",{className:mt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});KR.displayName="DialogFooter";const Pa=y.forwardRef(({className:t,...s},a)=>e.jsx(ww,{ref:a,className:mt("text-lg font-semibold leading-none tracking-tight",t),...s}));Pa.displayName=ww.displayName;const vi=y.forwardRef(({className:t,...s},a)=>e.jsx(Nw,{ref:a,className:mt("text-sm text-muted-foreground",t),...s}));vi.displayName=Nw.displayName;var XR=["PageUp","PageDown"],QR=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ZR={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},vu="Slider",[Kv,lW,cW]=ux(vu),[JR]=nr(vu,[cW]),[dW,Ax]=JR(vu),e5=y.forwardRef((t,s)=>{const{name:a,min:n=0,max:r=100,step:i=1,orientation:l="horizontal",disabled:d=!1,minStepsBetweenThumbs:u=0,defaultValue:h=[n],value:p,onValueChange:f=()=>{},onValueCommit:x=()=>{},inverted:v=!1,form:j,...w}=t,_=y.useRef(new Set),N=y.useRef(0),D=l==="horizontal"?uW:hW,[T=[],E]=co({prop:p,defaultProp:h,onChange:R=>{[..._.current][N.current]?.focus(),f(R)}}),G=y.useRef(T);function A(R){const ee=xW(T,R);J(R,ee)}function F(R){J(R,N.current)}function M(){const R=G.current[N.current];T[N.current]!==R&&x(T)}function J(R,ee,{commit:Y}={commit:!1}){const re=jW(i),te=wW(Math.round((R-n)/i)*i+n,re),V=kg(te,[n,r]);E((U=[])=>{const H=pW(U,V,ee);if(vW(H,u*i)){N.current=H.indexOf(V);const L=String(H)!==String(U);return L&&Y&&x(H),L?H:U}else return U})}return e.jsx(dW,{scope:t.__scopeSlider,name:a,disabled:d,min:n,max:r,valueIndexToChangeRef:N,thumbs:_.current,values:T,orientation:l,form:j,children:e.jsx(Kv.Provider,{scope:t.__scopeSlider,children:e.jsx(Kv.Slot,{scope:t.__scopeSlider,children:e.jsx(D,{"aria-disabled":d,"data-disabled":d?"":void 0,...w,ref:s,onPointerDown:st(w.onPointerDown,()=>{d||(G.current=T)}),min:n,max:r,inverted:v,onSlideStart:d?void 0:A,onSlideMove:d?void 0:F,onSlideEnd:d?void 0:M,onHomeKeyDown:()=>!d&&J(n,0,{commit:!0}),onEndKeyDown:()=>!d&&J(r,T.length-1,{commit:!0}),onStepKeyDown:({event:R,direction:ee})=>{if(!d){const te=XR.includes(R.key)||R.shiftKey&&QR.includes(R.key)?10:1,V=N.current,U=T[V],H=i*te*ee;J(U+H,V,{commit:!0})}}})})})})});e5.displayName=vu;var[t5,s5]=JR(vu,{startEdge:"left",endEdge:"right",size:"width",direction:1}),uW=y.forwardRef((t,s)=>{const{min:a,max:n,dir:r,inverted:i,onSlideStart:l,onSlideMove:d,onSlideEnd:u,onStepKeyDown:h,...p}=t,[f,x]=y.useState(null),v=Ht(s,D=>x(D)),j=y.useRef(void 0),w=Mm(r),_=w==="ltr",N=_&&!i||!_&&i;function k(D){const T=j.current||f.getBoundingClientRect(),E=[0,T.width],A=Cw(E,N?[a,n]:[n,a]);return j.current=T,A(D-T.left)}return e.jsx(t5,{scope:t.__scopeSlider,startEdge:N?"left":"right",endEdge:N?"right":"left",direction:N?1:-1,size:"width",children:e.jsx(a5,{dir:w,"data-orientation":"horizontal",...p,ref:v,style:{...p.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:D=>{const T=k(D.clientX);l?.(T)},onSlideMove:D=>{const T=k(D.clientX);d?.(T)},onSlideEnd:()=>{j.current=void 0,u?.()},onStepKeyDown:D=>{const E=ZR[N?"from-left":"from-right"].includes(D.key);h?.({event:D,direction:E?-1:1})}})})}),hW=y.forwardRef((t,s)=>{const{min:a,max:n,inverted:r,onSlideStart:i,onSlideMove:l,onSlideEnd:d,onStepKeyDown:u,...h}=t,p=y.useRef(null),f=Ht(s,p),x=y.useRef(void 0),v=!r;function j(w){const _=x.current||p.current.getBoundingClientRect(),N=[0,_.height],D=Cw(N,v?[n,a]:[a,n]);return x.current=_,D(w-_.top)}return e.jsx(t5,{scope:t.__scopeSlider,startEdge:v?"bottom":"top",endEdge:v?"top":"bottom",size:"height",direction:v?1:-1,children:e.jsx(a5,{"data-orientation":"vertical",...h,ref:f,style:{...h.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:w=>{const _=j(w.clientY);i?.(_)},onSlideMove:w=>{const _=j(w.clientY);l?.(_)},onSlideEnd:()=>{x.current=void 0,d?.()},onStepKeyDown:w=>{const N=ZR[v?"from-bottom":"from-top"].includes(w.key);u?.({event:w,direction:N?-1:1})}})})}),a5=y.forwardRef((t,s)=>{const{__scopeSlider:a,onSlideStart:n,onSlideMove:r,onSlideEnd:i,onHomeKeyDown:l,onEndKeyDown:d,onStepKeyDown:u,...h}=t,p=Ax(vu,a);return e.jsx(Dt.span,{...h,ref:s,onKeyDown:st(t.onKeyDown,f=>{f.key==="Home"?(l(f),f.preventDefault()):f.key==="End"?(d(f),f.preventDefault()):XR.concat(QR).includes(f.key)&&(u(f),f.preventDefault())}),onPointerDown:st(t.onPointerDown,f=>{const x=f.target;x.setPointerCapture(f.pointerId),f.preventDefault(),p.thumbs.has(x)?x.focus():n(f)}),onPointerMove:st(t.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&r(f)}),onPointerUp:st(t.onPointerUp,f=>{const x=f.target;x.hasPointerCapture(f.pointerId)&&(x.releasePointerCapture(f.pointerId),i(f))})})}),n5="SliderTrack",r5=y.forwardRef((t,s)=>{const{__scopeSlider:a,...n}=t,r=Ax(n5,a);return e.jsx(Dt.span,{"data-disabled":r.disabled?"":void 0,"data-orientation":r.orientation,...n,ref:s})});r5.displayName=n5;var Xv="SliderRange",i5=y.forwardRef((t,s)=>{const{__scopeSlider:a,...n}=t,r=Ax(Xv,a),i=s5(Xv,a),l=y.useRef(null),d=Ht(s,l),u=r.values.length,h=r.values.map(x=>c5(x,r.min,r.max)),p=u>1?Math.min(...h):0,f=100-Math.max(...h);return e.jsx(Dt.span,{"data-orientation":r.orientation,"data-disabled":r.disabled?"":void 0,...n,ref:d,style:{...t.style,[i.startEdge]:p+"%",[i.endEdge]:f+"%"}})});i5.displayName=Xv;var Qv="SliderThumb",o5=y.forwardRef((t,s)=>{const a=lW(t.__scopeSlider),[n,r]=y.useState(null),i=Ht(s,d=>r(d)),l=y.useMemo(()=>n?a().findIndex(d=>d.ref.current===n):-1,[a,n]);return e.jsx(mW,{...t,ref:i,index:l})}),mW=y.forwardRef((t,s)=>{const{__scopeSlider:a,index:n,name:r,...i}=t,l=Ax(Qv,a),d=s5(Qv,a),[u,h]=y.useState(null),p=Ht(s,k=>h(k)),f=u?l.form||!!u.closest("form"):!0,x=bx(u),v=l.values[n],j=v===void 0?0:c5(v,l.min,l.max),w=gW(n,l.values.length),_=x?.[d.size],N=_?yW(_,j,d.direction):0;return y.useEffect(()=>{if(u)return l.thumbs.add(u),()=>{l.thumbs.delete(u)}},[u,l.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[d.startEdge]:`calc(${j}% + ${N}px)`},children:[e.jsx(Kv.ItemSlot,{scope:t.__scopeSlider,children:e.jsx(Dt.span,{role:"slider","aria-label":t["aria-label"]||w,"aria-valuemin":l.min,"aria-valuenow":v,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...i,ref:p,style:v===void 0?{display:"none"}:t.style,onFocus:st(t.onFocus,()=>{l.valueIndexToChangeRef.current=n})})}),f&&e.jsx(l5,{name:r??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:v},n)]})});o5.displayName=Qv;var fW="RadioBubbleInput",l5=y.forwardRef(({__scopeSlider:t,value:s,...a},n)=>{const r=y.useRef(null),i=Ht(r,n),l=vx(s);return y.useEffect(()=>{const d=r.current;if(!d)return;const u=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(u,"value").set;if(l!==s&&p){const f=new Event("input",{bubbles:!0});p.call(d,s),d.dispatchEvent(f)}},[l,s]),e.jsx(Dt.input,{style:{display:"none"},...a,ref:i,defaultValue:s})});l5.displayName=fW;function pW(t=[],s,a){const n=[...t];return n[a]=s,n.sort((r,i)=>r-i)}function c5(t,s,a){const i=100/(a-s)*(t-s);return kg(i,[0,100])}function gW(t,s){return s>2?`Value ${t+1} of ${s}`:s===2?["Minimum","Maximum"][t]:void 0}function xW(t,s){if(t.length===1)return 0;const a=t.map(r=>Math.abs(r-s)),n=Math.min(...a);return a.indexOf(n)}function yW(t,s,a){const n=t/2,i=Cw([0,50],[0,n]);return(n-i(s)*a)*a}function bW(t){return t.slice(0,-1).map((s,a)=>t[a+1]-s)}function vW(t,s){if(s>0){const a=bW(t);return Math.min(...a)>=s}return!0}function Cw(t,s){return a=>{if(t[0]===t[1]||s[0]===s[1])return s[0];const n=(s[1]-s[0])/(t[1]-t[0]);return s[0]+n*(a-t[0])}}function jW(t){return(String(t).split(".")[1]||"").length}function wW(t,s){const a=Math.pow(10,s);return Math.round(t*a)/a}var d5=e5,NW=r5,_W=i5,CW=o5;const u5=y.forwardRef(({className:t,...s},a)=>e.jsxs(d5,{ref:a,className:mt("relative flex w-full touch-none select-none items-center",t),...s,children:[e.jsx(NW,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:e.jsx(_W,{className:"absolute h-full bg-primary"})}),e.jsx(CW,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));u5.displayName=d5.displayName;const kW=({feedbacks:t,onClose:s})=>e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl p-6 max-w-md w-full max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Customer Feedback"}),e.jsx("button",{onClick:s,className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200","aria-label":"Close feedbacks",children:""})]}),t&&t.length>0?e.jsx("ul",{className:"space-y-4",children:t.map((a,n)=>e.jsxs("li",{className:"border-b border-gray-200 dark:border-gray-700 pb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ys,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}),e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:a.rating?`${a.rating}/5`:"N/A"})]}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:a.comments||"No comment provided."})]},n))}):e.jsx("p",{className:"text-gray-500 dark:text-gray-400 italic",children:"No feedback yet."})]})}),kw=({car:t,forceFavorite:s=!1,onToggleFavoriteApi:a})=>{const[n,r]=y.useState(!1),[i,l]=y.useState(!1),[d,u]=y.useState(!1),[h,p]=y.useState(!1),{isAuthenticated:f}=pu();y.useEffect(()=>{if(s){r(!0);return}r(!1)},[t?.id,s]);const x=async _=>{if(_.preventDefault(),_.stopPropagation(),!t?.id||i)return;if(!f){se.error("Please log in to save favorites.");return}if(a)return a();const N=!n;r(N),l(!0);try{await xe.post(`/cars/${t.id}/favorite`),se.success(N?"Added to favorites":"Removed from favorites"),window.dispatchEvent(new Event("favoritesUpdated"))}catch(k){console.error("Favorite toggle error:",k),r(!N),se.error("Failed to update favorite. Please try again.")}finally{l(!1)}},v={id:t.id,image:t.main_image_url||t.image||"/placeholder.png",brand:t.make||t.brand||"Car",model:t.model||"Model",year:t.year||"N/A",category:t.car_category||t.type||t.category||"Standard",seats:t.seats||4,transmission:t.transmission||"Auto",fuelType:t.fuel_type||t.fuelType||"Petrol",price:t.daily_rate||t.price||0,holidayRate:t.holiday_rate||null,deposit:t.deposit||null,isDeposit:t.is_deposit||!1,feedbacks:t.feedbacks||[],popular:t.popular||!1,location:t.live_location?.address||t.location||null},w=(_=>_.startsWith("data:")||/^https?:\/\//i.test(_)||_.startsWith("/api/")?_:_.startsWith("/storage/")?`/api${_}`:`/api/storage/${_.replace(/^storage\//i,"")}`)(v.image);return e.jsxs(Ts,{to:`/cars/${v.id}`,className:"block group",children:[e.jsxs(Te,{className:"relative overflow-hidden h-full flex flex-col bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 hover:border-[#00A19C] transition-all duration-300 hover:shadow-lg hover:shadow-[#00A19C]/20 hover:-translate-y-1 aspect-[2/3]",children:[e.jsxs("div",{className:"relative overflow-hidden bg-gray-100 dark:bg-gray-700",style:{height:"60%"},children:[!d&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 dark:from-gray-700 dark:via-gray-600 dark:to-gray-700 animate-pulse"}),e.jsx("img",{src:w,alt:`${v.brand} ${v.model}`,onLoad:()=>u(!0),onError:_=>{_.currentTarget.src.endsWith("/placeholder.png")||(_.currentTarget.onerror=null,_.currentTarget.src="/placeholder.png",u(!0))},className:`w-full h-full object-cover transition-transform duration-500 group-hover:scale-105 ${d?"opacity-100":"opacity-0"}`}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/10 to-transparent opacity-50 group-hover:opacity-70 transition-opacity duration-300"}),e.jsx("button",{onClick:x,disabled:i,"aria-label":n?"Remove from favorites":"Add to favorites",className:`absolute top-1.5 right-1.5 w-7 h-7 rounded-full backdrop-blur-sm flex items-center justify-center transition-all duration-300 z-20 ${n?"bg-red-500 shadow-md":"bg-white/90 dark:bg-gray-800/90 hover:scale-110"} ${i?"opacity-70 cursor-not-allowed":""}`,children:e.jsx(xl,{className:`w-3.5 h-3.5 transition-all ${n?"fill-white text-white":"text-gray-700 dark:text-gray-300"}`})}),e.jsx("div",{className:"absolute top-1.5 left-1.5 z-10",children:e.jsx(Me,{className:"bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm text-[#00A19C] dark:text-[#8EDC81] border border-[#00A19C]/30 dark:border-[#8EDC81]/30 text-[10px] font-semibold px-1.5 py-0.5",children:v.category})}),v.popular&&e.jsx("div",{className:"absolute bottom-1.5 left-1.5 z-10",children:e.jsxs(Me,{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white text-[10px] font-bold border-0 px-1.5 py-0.5 flex items-center gap-0.5",children:[e.jsx(Ys,{className:"w-2.5 h-2.5 fill-white"}),"Popular"]})}),e.jsx("div",{className:"absolute bottom-1.5 right-1.5 z-10",children:e.jsxs(Me,{className:"bg-gradient-to-r from-[#00A19C] to-[#8EDC81] text-white text-[10px] font-bold px-1.5 py-0.5",children:["$",v.price,"/day"]})})]}),e.jsxs(Re,{className:"p-2 flex-grow flex flex-col",style:{height:"40%"},children:[e.jsx("div",{className:"mb-1",children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-[10px] font-semibold text-[#00A19C] dark:text-[#8EDC81] uppercase tracking-wide",children:v.brand}),e.jsx("h3",{className:"text-xs font-bold text-gray-900 dark:text-white line-clamp-1 group-hover:text-[#00A19C] dark:group-hover:text-[#8EDC81] transition-colors",children:v.model})]}),e.jsxs("div",{className:"flex flex-col items-end gap-0.5",children:[e.jsx("p",{className:"text-[9px] text-gray-500 dark:text-gray-400",children:v.year}),v.location&&v.location.trim()!==""&&e.jsxs("div",{className:"flex items-center gap-0.5",children:[e.jsx(bs,{className:"w-2.5 h-2.5 text-gray-400 dark:text-gray-500"}),e.jsx("p",{className:"text-[9px] text-gray-500 dark:text-gray-400 line-clamp-1",children:v.location.trim()})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-3 gap-1 mb-1",children:[e.jsxs("div",{className:"flex flex-col items-center p-1 rounded bg-gray-50 dark:bg-gray-700/50 group-hover:bg-[#00A19C]/10 dark:group-hover:bg-[#00A19C]/20 transition-colors",children:[e.jsx(fs,{className:"w-2.5 h-2.5 text-[#00A19C] dark:text-[#8EDC81] mb-0.5"}),e.jsx("span",{className:"text-[9px] font-semibold text-gray-700 dark:text-gray-300",children:v.seats})]}),e.jsxs("div",{className:"flex flex-col items-center p-1 rounded bg-gray-50 dark:bg-gray-700/50 group-hover:bg-[#00A19C]/10 dark:group-hover:bg-[#00A19C]/20 transition-colors",children:[e.jsx(km,{className:"w-2.5 h-2.5 text-[#00A19C] dark:text-[#8EDC81] mb-0.5"}),e.jsx("span",{className:"text-[9px] font-semibold text-gray-700 dark:text-gray-300 truncate w-full text-center",children:v.transmission.slice(0,4)})]}),e.jsxs("div",{className:"flex flex-col items-center p-1 rounded bg-gray-50 dark:bg-gray-700/50 group-hover:bg-[#00A19C]/10 dark:group-hover:bg-[#00A19C]/20 transition-colors",children:[e.jsx(ax,{className:"w-2.5 h-2.5 text-[#00A19C] dark:text-[#8EDC81] mb-0.5"}),e.jsx("span",{className:"text-[9px] font-semibold text-gray-700 dark:text-gray-300 truncate w-full text-center",children:v.fuelType.slice(0,4)})]})]}),(v.holidayRate||v.isDeposit)&&e.jsxs("div",{className:"flex items-center gap-1 mb-1 text-[9px]",children:[v.holidayRate&&e.jsxs("div",{className:"flex-1 text-center p-1 bg-gradient-to-br from-[#00A19C]/10 to-[#8EDC81]/10 dark:from-[#1e5f7a]/20 dark:to-[#00A19C]/20 rounded border border-[#00A19C]/20",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium text-[8px] leading-tight",children:"Holiday"}),e.jsxs("p",{className:"font-bold text-[#1e5f7a] dark:text-[#8EDC81] text-[10px] leading-tight",children:["$",v.holidayRate]})]}),v.isDeposit&&e.jsxs("div",{className:"flex-1 text-center p-1 bg-amber-50 dark:bg-amber-900/20 rounded border border-amber-200 dark:border-amber-800",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium text-[8px] leading-tight",children:"Deposit"}),e.jsxs("p",{className:"font-bold text-amber-600 dark:text-amber-400 text-[10px] leading-tight",children:["$",v.deposit]})]})]}),e.jsxs("button",{onClick:_=>{_.preventDefault(),_.stopPropagation(),p(!0)},className:"w-full flex items-center justify-between p-1 rounded bg-gray-50 dark:bg-gray-700/50 hover:bg-[#00A19C]/10 dark:hover:bg-[#00A19C]/20 transition-all border border-gray-200 dark:border-gray-700 hover:border-[#00A19C] group/feedback mb-1","aria-label":"Open customer feedback",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(nx,{className:"w-2.5 h-2.5 text-[#00A19C] dark:text-[#8EDC81]"}),e.jsx("span",{className:"text-[9px] font-semibold text-gray-900 dark:text-white",children:"Reviews"})]}),e.jsx(Me,{className:"bg-gradient-to-r from-[#00A19C] to-[#8EDC81] text-white text-[9px] font-bold px-1 py-0",children:v.feedbacks.length})]}),e.jsx(K,{className:"w-full bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] hover:from-[#184a5e] hover:via-[#008c88] hover:to-[#7bc876] text-white font-bold py-1.5 text-[10px] rounded-lg shadow-md hover:shadow-lg transition-all duration-300 hover:scale-[1.02] group/btn",children:e.jsxs("span",{className:"flex items-center justify-center gap-1",children:[e.jsx(sa,{className:"w-2.5 h-2.5"}),"View Details",e.jsx(Ec,{className:"w-2.5 h-2.5 group-hover/btn:translate-x-0.5 transition-transform"})]})})]})]}),h&&e.jsx(kW,{feedbacks:t.feedbacks||[],onClose:()=>p(!1)})]})},SW=["All Brands","BMW","Mercedes","Audi","Tesla","Porsche","Lexus","Range Rover","Jaguar"],AW=["All Types","Sedan","SUV","Sports","Luxury","Electric","Convertible"],TW=["All","Automatic","Manual"],DW=[{id:1,brand:"BMW",model:"M5 Competition",type:"Sports",transmission:"Automatic",fuelType:"Petrol",seats:5,price:299,rating:4.8,reviews:127,image:"/ali1.jpg",images:["/ali2.jpg","/ali3.jpg","/ali4.jpg"],description:"Experience the perfect blend of luxury and performance with the BMW M5 Competition. This high-performance sedan delivers 617 horsepower and can accelerate from 0-60 mph in just 3.1 seconds.",features:["Sport Mode","Leather Interior","Premium Sound","Navigation","Adaptive Cruise Control","Parking Assist"],popular:!0},{id:2,brand:"Mercedes",model:"S-Class",type:"Luxury",transmission:"Automatic",fuelType:"Hybrid",seats:5,price:349,rating:4.9,reviews:203,image:"/ali6.jpg",images:["https://images.unsplash.com/photo-1618843479313-40f8afb4b4d8?w=800&q=80","https://images.unsplash.com/photo-1617531653520-bd788a65c79a?w=800&q=80","https://images.unsplash.com/photo-1609521263047-f8f205293f24?w=800&q=80"],description:"The epitome of luxury and innovation. The Mercedes S-Class offers unparalleled comfort with cutting-edge technology and a supremely refined driving experience.",features:["Massage Seats","Ambient Lighting","Executive Rear Seats","Burmester Sound","Active Safety","Night Vision"],popular:!0},{id:3,brand:"Tesla",model:"Model S Plaid",type:"Electric",transmission:"Automatic",fuelType:"Electric",seats:5,price:279,rating:4.7,reviews:189,image:"https://images.unsplash.com/photo-1617788138017-80ad40651399?w=800&q=80",images:["https://images.unsplash.com/photo-1617788138017-80ad40651399?w=800&q=80","https://images.unsplash.com/photo-1560958089-b8a1929cea89?w=800&q=80","https://images.unsplash.com/photo-1536700503339-1e4b06520771?w=800&q=80"],description:"The quickest accelerating production car ever made. The Tesla Model S Plaid reaches 0-60 mph in under 2 seconds with a top speed of 200 mph.",features:["Autopilot","Premium Connectivity","Supercharging","Glass Roof","HEPA Air Filter","Gaming Computer"],popular:!0},{id:4,brand:"Range Rover",model:"Sport HSE",type:"SUV",transmission:"Automatic",fuelType:"Diesel",seats:7,price:329,rating:4.6,reviews:145,image:"https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=800&q=80",images:["https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=800&q=80","https://images.unsplash.com/photo-1519641471654-76ce0107ad1b?w=800&q=80","https://images.unsplash.com/photo-1533473359331-0135ef1b58bf?w=800&q=80"],description:"Commanding presence meets refined luxury. The Range Rover Sport HSE delivers exceptional off-road capability while maintaining an elegant and comfortable ride.",features:["Terrain Response","Air Suspension","Panoramic Roof","Meridian Sound","Wade Sensing","7-Seater"],popular:!1},{id:5,brand:"Porsche",model:"911 Carrera",type:"Sports",transmission:"Manual",fuelType:"Petrol",seats:2,price:399,rating:4.9,reviews:167,image:"https://images.unsplash.com/photo-1503376780353-7e6692767b70?w=800&q=80",images:["https://images.unsplash.com/photo-1503376780353-7e6692767b70?w=800&q=80","https://images.unsplash.com/photo-1614200187524-dc4b892acf16?w=800&q=80","https://images.unsplash.com/photo-1611651149758-ab7796b5e5ec?w=800&q=80"],description:"The iconic sports car that defines performance excellence. The Porsche 911 Carrera combines timeless design with cutting-edge engineering for an unforgettable driving experience.",features:["Sport Chrono","PASM Suspension","Sport Exhaust","Porsche Track Precision","Carbon Fiber","Launch Control"],popular:!0},{id:6,brand:"Audi",model:"e-tron GT",type:"Electric",transmission:"Automatic",fuelType:"Electric",seats:4,price:289,rating:4.7,reviews:134,image:"https://images.unsplash.com/photo-1614162692292-7ac56d7f8f8c?w=800&q=80",images:["https://images.unsplash.com/photo-1614162692292-7ac56d7f8f8c?w=800&q=80","https://images.unsplash.com/photo-1610768764270-790fbec18178?w=800&q=80","https://images.unsplash.com/photo-1606152421802-db97b9c7a11b?w=800&q=80"],description:"Electric performance redefined. The Audi e-tron GT delivers exhilarating acceleration and exceptional range in a stunning grand tourer package.",features:["Quattro AWD","Matrix LED","Virtual Cockpit","Fast Charging","Adaptive Air Suspension","Bang & Olufsen"],popular:!1},{id:7,brand:"Lexus",model:"LC 500",type:"Luxury",transmission:"Automatic",fuelType:"Petrol",seats:2,price:319,rating:4.8,reviews:98,image:"https://images.unsplash.com/photo-1621939514649-280e2ee25f60?w=800&q=80",images:["https://images.unsplash.com/photo-1621939514649-280e2ee25f60?w=800&q=80","https://images.unsplash.com/photo-1563720360172-67b8f3dce741?w=800&q=80","https://images.unsplash.com/photo-1552519507-da3b142c6e3d?w=800&q=80"],description:"A masterpiece of Japanese craftsmanship. The Lexus LC 500 combines breathtaking design with a naturally aspirated V8 engine for an unforgettable grand touring experience.",features:["Mark Levinson Audio","Adaptive Variable Suspension","Head-Up Display","Handcrafted Interior","Sport Mode","Active Rear Steering"],popular:!1},{id:8,brand:"BMW",model:"X7 M50i",type:"SUV",transmission:"Automatic",fuelType:"Petrol",seats:7,price:359,rating:4.7,reviews:112,image:"https://images.unsplash.com/photo-1617814076367-b759c7d7e738?w=800&q=80",images:["https://images.unsplash.com/photo-1617814076367-b759c7d7e738?w=800&q=80","https://images.unsplash.com/photo-1552519507-da3b142c6e3d?w=800&q=80","https://images.unsplash.com/photo-1606220945770-b5b6c2c55bf1?w=800&q=80"],description:"The ultimate luxury SUV for families who demand both space and performance. The BMW X7 M50i offers seating for seven without compromising on power or prestige.",features:["Sky Lounge Panoramic","Executive Lounge Seating","Gesture Control","Harman Kardon","Wireless Charging","Trailer Assist"],popular:!1},{id:9,brand:"Mercedes",model:"AMG GT",type:"Sports",transmission:"Automatic",fuelType:"Petrol",seats:2,price:429,rating:4.9,reviews:156,image:"https://images.unsplash.com/photo-1618843479313-40f8afb4b4d8?w=800&q=80",images:["https://images.unsplash.com/photo-1618843479313-40f8afb4b4d8?w=800&q=80","https://images.unsplash.com/photo-1614200187524-dc4b892acf16?w=800&q=80","https://images.unsplash.com/photo-1611651149758-ab7796b5e5ec?w=800&q=80"],description:"Pure automotive passion. The Mercedes-AMG GT combines race-bred performance with everyday usability, delivering an exhilarating driving experience on any road.",features:["AMG Performance Exhaust","AMG Ride Control","Race Mode","Carbon Fiber Package","Performance Seats","AMG Track Pace"],popular:!0},{id:10,brand:"Jaguar",model:"F-Type R",type:"Convertible",transmission:"Automatic",fuelType:"Petrol",seats:2,price:339,rating:4.6,reviews:87,image:"https://images.unsplash.com/photo-1580414057167-d31b2f96f6c8?w=800&q=80",images:["https://images.unsplash.com/photo-1580414057167-d31b2f96f6c8?w=800&q=80","https://images.unsplash.com/photo-1552519507-da3b142c6e3d?w=800&q=80","https://images.unsplash.com/photo-1567818735868-e71b99932e29?w=800&q=80"],description:"British sports car excellence. The Jaguar F-Type R delivers supercharged V8 performance with stunning design and an exhaust note that will make your heart race.",features:["Configurable Dynamics","Active Exhaust","Convertible Top","Meridian Sound","Performance Brakes","Torque Vectoring"],popular:!1},{id:11,brand:"Audi",model:"RS Q8",type:"SUV",transmission:"Automatic",fuelType:"Petrol",seats:5,price:369,rating:4.8,reviews:143,image:"https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=800&q=80",images:["https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=800&q=80","https://images.unsplash.com/photo-1519641471654-76ce0107ad1b?w=800&q=80","https://images.unsplash.com/photo-1533473359331-0135ef1b58bf?w=800&q=80"],description:"The pinnacle of performance SUVs. The Audi RS Q8 combines brutal acceleration with sophisticated handling and luxurious comfort for the ultimate all-weather sports car.",features:["Sport Differential","Dynamic All-Wheel Steering","Carbon Ceramic Brakes","RS Sport Exhaust","Matrix LED","Virtual Cockpit Plus"],popular:!1},{id:12,brand:"Tesla",model:"Model X",type:"SUV",transmission:"Automatic",fuelType:"Electric",seats:7,price:299,rating:4.7,reviews:201,image:"https://images.unsplash.com/photo-1560958089-b8a1929cea89?w=800&q=80",images:["https://images.unsplash.com/photo-1560958089-b8a1929cea89?w=800&q=80","https://images.unsplash.com/photo-1536700503339-1e4b06520771?w=800&q=80","https://images.unsplash.com/photo-1617788138017-80ad40651399?w=800&q=80"],description:"The future of family transportation. The Tesla Model X offers falcon-wing doors, seating for seven, and acceleration that rivals sports cars, all with zero emissions.",features:["Falcon Wing Doors","Full Self-Driving","HEPA Filter","Bioweapon Defense Mode",'17" Touchscreen',"Dog Mode"],popular:!0}];DW.filter(t=>t.popular);const EW=["GPS Navigation","Bluetooth","Backup Camera","Sunroof","Leather Seats","Heated Seats","Apple CarPlay","Android Auto","Parking Sensors","Cruise Control","Lane Assist","Collision Warning","Blind Spot Monitor","Keyless Entry","Push Start","Climate Control","USB Charging","Premium Sound"],RW=[{value:"all",label:"All Fuel Types"},{value:"benz",label:"Gasoline"},{value:"diesel",label:"Diesel"},{value:"electric",label:"Electric"},{value:"hybrid",label:"Hybrid"}],MW=[{value:"all",label:"All Drive Types"},{value:"4x4",label:"4x4 / AWD"},{value:"2_front",label:"Front Wheel Drive"},{value:"2_back",label:"Rear Wheel Drive"},{value:"autoblock",label:"Autoblock"}],PW=["Black","White","Silver","Gray","Red","Blue","Green","Yellow","Orange","Brown"],OW=[{value:"all",label:"All Cylinders"},{value:"4",label:"4 Cylinder"},{value:"6",label:"6 Cylinder"},{value:"8",label:"8 Cylinder"},{value:"10",label:"10 Cylinder"},{value:"12",label:"12 Cylinder"}],Uk=()=>{const[t,s]=y.useState([]),[a,n]=y.useState([]),[r,i]=y.useState(!0),[l,d]=y.useState({brand:"All Brands",type:"All Types",transmission:"All",priceRange:[0,1500],search:"",startDate:"",endDate:""}),[u,h]=y.useState({yearMin:"",yearMax:"",cylinderNumber:"all",color:"all",mileageMax:"",fuelType:"all",wheelsDrive:"all",seatsMin:"",doorsMin:"",features:[],withDriver:!1,isDelivered:!1,requiresDeposit:!1,holidayRateMax:""}),[p,f]=y.useState("featured"),[x,v]=y.useState(!1),[j,w]=y.useState(!1),_=y.useRef(!1),N=y.useRef(null),k=y.useRef(null),D=y.useCallback(R=>{_.current=!0,d(ee=>({...ee,...R}))},[]),T=y.useCallback(R=>{_.current=!0,h(ee=>({...ee,...R}))},[]);y.useEffect(()=>{(async()=>{try{i(!0);const re=((await xe.get("/cars")).data.cars??[]).map(te=>{const V=te.feedbacks??[],U=V.length>0?(V.reduce((H,L)=>H+(Number(L.rating)||0),0)/V.length).toFixed(1):null;return{id:te.id,brand:te.make,make:te.make,model:te.model,year:te.year,type:te.car_category,category:te.car_category,transmission:te.transmission,price:Number(te.daily_rate),holidayRate:Number(te.holiday_rate||te.daily_rate),image:te.main_image_url,rating:U,reviews:V.length,popular:(te.views_count??0)>20,seats:te.seats,doors:te.doors,fuel_type:te.fuel_type,fuelType:te.fuel_type,wheelsDrive:te.wheels_drive,cylinderNumber:te.cylinder_number,color:te.color,mileage:te.mileage,features:te.features||[],withDriver:te.with_driver,isDelivered:te.is_delivered,feedbacks:V}});n(re),s(re)}catch(ee){console.error("Cars fetch error:",ee)}finally{i(!1)}})()},[]),y.useEffect(()=>{let R=[...a];switch(l.search&&(R=R.filter(ee=>`${ee.brand} ${ee.model}`.toLowerCase().includes(l.search.toLowerCase()))),l.brand!=="All Brands"&&(R=R.filter(ee=>ee.brand===l.brand)),l.type!=="All Types"&&(R=R.filter(ee=>ee.type===l.type)),l.transmission!=="All"&&(R=R.filter(ee=>ee.transmission===l.transmission)),R=R.filter(ee=>ee.price>=l.priceRange[0]&&ee.price<=l.priceRange[1]),u.yearMin&&(R=R.filter(ee=>ee.year>=Number(u.yearMin))),u.yearMax&&(R=R.filter(ee=>ee.year<=Number(u.yearMax))),u.cylinderNumber!=="all"&&(R=R.filter(ee=>ee.cylinderNumber===u.cylinderNumber)),u.color!=="all"&&(R=R.filter(ee=>ee.color?.toLowerCase()===u.color.toLowerCase())),u.mileageMax&&(R=R.filter(ee=>(ee.mileage||0)<=Number(u.mileageMax))),u.fuelType!=="all"&&(R=R.filter(ee=>ee.fuelType===u.fuelType)),u.wheelsDrive!=="all"&&(R=R.filter(ee=>ee.wheelsDrive===u.wheelsDrive)),u.seatsMin&&(R=R.filter(ee=>(ee.seats||0)>=Number(u.seatsMin))),u.doorsMin&&(R=R.filter(ee=>(ee.doors||0)>=Number(u.doorsMin))),u.holidayRateMax&&(R=R.filter(ee=>(ee.holidayRate||ee.price)<=Number(u.holidayRateMax))),u.withDriver&&(R=R.filter(ee=>ee.withDriver)),u.isDelivered&&(R=R.filter(ee=>ee.isDelivered)),u.features.length>0&&(R=R.filter(ee=>{const Y=ee.features||[];return u.features.every(re=>Y.includes(re))})),p){case"price-low":R.sort((ee,Y)=>ee.price-Y.price);break;case"price-high":R.sort((ee,Y)=>Y.price-ee.price);break;case"rating":R.sort((ee,Y)=>(Number(Y.rating)||0)-(Number(ee.rating)||0));break;case"popular":R.sort((ee,Y)=>(Y.reviews??0)-(ee.reviews??0));break;case"year-new":R.sort((ee,Y)=>(Y.year||0)-(ee.year||0));break;case"year-old":R.sort((ee,Y)=>(ee.year||0)-(Y.year||0));break;default:R.sort((ee,Y)=>(Y.popular?1:0)-(ee.popular?1:0))}s(R)},[l,u,p,a]);const E=R=>({Sedan:"normal",SUV:"normal",Hatchback:"normal",Coupe:"sport",Convertible:"sport","Sports Car":"sport",Luxury:"luxury","Luxury Sedan":"luxury",Van:"commercial",Minivan:"commercial",Truck:"commercial",Pickup:"commercial",Bus:"commercial",Commercial:"commercial",Industrial:"industrial",Event:"event",Boat:"sea",Yacht:"sea","Jet Ski":"sea"})[R]||"normal",G=y.useCallback(()=>{const R={},ee=(l.brand||"").trim(),Y=(l.type||"").trim(),re=(l.transmission||"").trim(),te=(l.search||"").trim();if(ee&&ee!=="All Brands")R.make=ee,te&&(R.model=te);else if(te){const H=te.split(/\s+/).filter(Boolean);H.length>=2?(R.make=H[0],R.model=H.slice(1).join(" ")):H.length===1&&(R.model=te)}Y&&Y!=="All Types"&&(R.car_category=E(Y)),re&&re!=="All"&&(R.transmission=re.toLowerCase());const[V,U]=l.priceRange;return V>0&&(R.daily_rate_min=V),U<1500&&(R.daily_rate_max=U),u.yearMin&&(R.year_min=Number(u.yearMin)),u.yearMax&&(R.year_max=Number(u.yearMax)),u.cylinderNumber&&u.cylinderNumber!=="all"&&(R.cylinder_number=u.cylinderNumber),u.color&&u.color!=="all"&&(R.color=u.color),u.mileageMax&&(R.mileage=Number(u.mileageMax)),u.fuelType&&u.fuelType!=="all"&&(R.fuel_type=u.fuelType),u.wheelsDrive&&u.wheelsDrive!=="all"&&(R.wheels_drive=u.wheelsDrive),u.seatsMin&&(R.seats=Number(u.seatsMin)),u.doorsMin&&(R.doors=Number(u.doorsMin)),u.features.length>0&&(R.features=u.features),u.withDriver&&(R.with_driver=1),u.isDelivered&&(R.is_delivered=1),u.requiresDeposit&&(R.is_deposit=1),u.holidayRateMax&&(R.holiday_rate=Number(u.holidayRateMax)),R},[l,u]),A=y.useMemo(()=>{const R=[l.brand!=="All Brands",l.type!=="All Types",l.transmission!=="All",l.priceRange[0]!==0||l.priceRange[1]!==1500,l.search.trim()!=="",l.startDate!=="",l.endDate!==""].filter(Boolean).length,ee=[u.yearMin!=="",u.yearMax!=="",u.cylinderNumber!=="all",u.color!=="all",u.mileageMax!=="",u.fuelType!=="all",u.wheelsDrive!=="all",u.seatsMin!=="",u.doorsMin!=="",u.features.length>0,u.withDriver,u.isDelivered,u.requiresDeposit,u.holidayRateMax!==""].filter(Boolean).length;return R+ee},[l,u]),F=y.useCallback(async R=>{if(Object.keys(R).length===0)return;const ee=JSON.stringify(R);if(k.current===ee)return;let Y,re;if(l.startDate&&l.endDate){const V=U=>U?U.replace("T"," ")+":00":"";Y=V(l.startDate),re=V(l.endDate)}else{const V=new Date,U=new Date;U.setDate(V.getDate()+7);const H=L=>{const $=L.getFullYear(),z=String(L.getMonth()+1).padStart(2,"0"),ie=String(L.getDate()).padStart(2,"0"),le=String(L.getHours()).padStart(2,"0"),ne=String(L.getMinutes()).padStart(2,"0"),fe=String(L.getSeconds()).padStart(2,"0");return`${$}-${z}-${ie} ${le}:${ne}:${fe}`};Y=H(V),re=H(U)}const te={...R,start_datetime:Y,end_datetime:re};try{await xe.get("/cars/search",{params:te}),k.current=ee,console.log(" Search saved to frequent searches")}catch(V){V.response?.status===422&&console.error(" Validation error details:",V.response?.data?.errors),console.warn("Could not save frequent search:",V.response?.data?.message||V.message)}},[l]);y.useEffect(()=>{if(_.current&&A!==0)return N.current&&clearTimeout(N.current),N.current=setTimeout(()=>{const R=G();F(R)},1500),()=>{N.current&&clearTimeout(N.current)}},[l,u,A,G,F]);const M=y.useCallback(()=>{_.current=!0,d({brand:"All Brands",type:"All Types",transmission:"All",priceRange:[0,1500],search:"",startDate:"",endDate:""}),h({yearMin:"",yearMax:"",cylinderNumber:"all",color:"all",mileageMax:"",fuelType:"all",wheelsDrive:"all",seatsMin:"",doorsMin:"",features:[],withDriver:!1,isDelivered:!1,requiresDeposit:!1,holidayRateMax:""}),f("featured")},[]),J=y.useCallback(R=>{h(ee=>({...ee,features:ee.features.includes(R)?ee.features.filter(Y=>Y!==R):[...ee.features,R]}))},[]);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-cyan-50/30 dark:from-gray-950 dark:via-gray-900 dark:to-cyan-950/30",children:[e.jsxs("section",{className:"relative bg-gradient-to-r from-cyan-700 via-teal-600 to-cyan-800 dark:from-cyan-900 dark:via-teal-800 dark:to-cyan-950 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-grid-white/[0.05] bg-[size:20px_20px]"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/10 to-transparent"}),e.jsx("div",{className:"container mx-auto px-4 py-12 relative",children:e.jsxs("div",{className:"max-w-4xl",children:[e.jsx("p",{className:"text-cyan-50 text-lg md:text-xl mb-6 max-w-2xl"}),e.jsxs("p",{className:"text-cyan-50 text-lg md:text-xl mb-6 max-w-2xl",children:["Explore our premium collection of"," ",e.jsx("span",{className:"font-bold text-white bg-white/20 px-2 py-0.5 rounded",children:a.length})," ","vehicles from top brands"]})]})})]}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"lg:hidden mb-6",children:e.jsxs(K,{onClick:()=>v(!x),variant:"outline",className:"w-full h-12 border-2 border-cyan-700 hover:bg-cyan-50 dark:hover:bg-cyan-900/30 transition-all rounded-xl font-semibold text-cyan-700 shadow-sm",children:[e.jsx(U$,{className:"w-5 h-5 mr-2"}),x?"Hide Filters":"Show Filters",A>0&&e.jsx(Me,{className:"ml-auto bg-cyan-700 text-white h-6 px-2",children:A})]})}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("aside",{className:`lg:w-80 flex-shrink-0 ${x?"block":"hidden lg:block"}`,children:e.jsxs("div",{className:"sticky top-24 space-y-4",children:[e.jsxs(Te,{className:"border-0 shadow-lg bg-white dark:bg-gray-900 overflow-hidden",children:[e.jsx(rs,{className:"pb-4 bg-gradient-to-r from-cyan-50 to-teal-50 dark:from-cyan-900/20 dark:to-teal-900/20 border-b border-gray-200 dark:border-gray-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(is,{className:"flex items-center gap-2 text-lg",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-cyan-700 to-teal-600 flex items-center justify-center",children:e.jsx($7,{className:"w-4 h-4 text-white"})}),e.jsx("span",{children:"Search Filters"})]}),A>0&&e.jsx(K,{variant:"ghost",size:"sm",onClick:M,className:"text-xs text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/30 h-8 px-3 font-semibold",children:"Clear All"})]})}),e.jsxs(Re,{className:"space-y-5 pt-5 pb-6",children:[e.jsxs("div",{children:[e.jsxs(q,{htmlFor:"search",className:"mb-2.5 text-sm font-semibold flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[e.jsx(Ea,{className:"w-4 h-4 text-cyan-700"}),"Quick Search"]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ea,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(oe,{id:"search",placeholder:"e.g., BMW X5, Mercedes...",value:l.search,onChange:R=>D({search:R.target.value}),className:"h-11 text-sm pl-10 pr-10 border-gray-300 focus:border-cyan-500 focus:ring-cyan-500"}),l.search&&e.jsx("button",{onClick:()=>D({search:""}),className:"absolute right-3 top-1/2 -translate-y-1/2 hover:bg-gray-100 dark:hover:bg-gray-800 p-1.5 rounded-full transition-colors","aria-label":"Clear search",children:e.jsx(ea,{className:"w-4 h-4 text-gray-500"})})]})]}),e.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-gray-300 dark:via-gray-700 to-transparent"}),e.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-amber-50 dark:from-yellow-900/20 dark:to-amber-900/20 border-2 border-yellow-300 dark:border-yellow-800 rounded-xl p-4 shadow-sm",children:[e.jsxs(q,{className:"mb-3 text-sm font-bold flex items-center gap-2 text-yellow-900 dark:text-yellow-200",children:[e.jsx(yg,{className:"w-4 h-4"}),"Rental Period"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(q,{htmlFor:"startDate",className:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-1.5 block",children:"Pick-up"}),e.jsx(oe,{id:"startDate",type:"datetime-local",value:l.startDate,onChange:R=>D({startDate:R.target.value}),className:"h-10 text-sm bg-white dark:bg-gray-800 border-yellow-200 dark:border-yellow-800",min:new Date().toISOString().slice(0,16)})]}),e.jsxs("div",{children:[e.jsx(q,{htmlFor:"endDate",className:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-1.5 block",children:"Return"}),e.jsx(oe,{id:"endDate",type:"datetime-local",value:l.endDate,onChange:R=>D({endDate:R.target.value}),className:"h-10 text-sm bg-white dark:bg-gray-800 border-yellow-200 dark:border-yellow-800",min:l.startDate||new Date().toISOString().slice(0,16)})]}),l.startDate&&l.endDate&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-yellow-900 dark:text-yellow-200 bg-yellow-100 dark:bg-yellow-900/40 p-2.5 rounded-lg font-semibold",children:[e.jsx(Rs,{className:"w-3.5 h-3.5"}),e.jsxs("span",{children:["Duration: ",(()=>{const R=new Date(l.startDate),ee=new Date(l.endDate),Y=Math.ceil((ee-R)/(1e3*60*60*24));return`${Y} day${Y!==1?"s":""}`})()]})]})]})]}),e.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-gray-300 dark:via-gray-700 to-transparent"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(q,{className:"mb-2 text-xs font-semibold block text-gray-700 dark:text-gray-300",children:"Brand"}),e.jsxs(Je,{value:l.brand,onValueChange:R=>D({brand:R}),children:[e.jsx(Qe,{className:"h-10 text-sm border-gray-300",children:e.jsx(et,{})}),e.jsx(Ze,{children:SW.map(R=>e.jsx(de,{value:R,className:"text-sm",children:R},R))})]})]}),e.jsxs("div",{children:[e.jsx(q,{className:"mb-2 text-xs font-semibold block text-gray-700 dark:text-gray-300",children:"Type"}),e.jsxs(Je,{value:l.type,onValueChange:R=>D({type:R}),children:[e.jsx(Qe,{className:"h-10 text-sm border-gray-300",children:e.jsx(et,{})}),e.jsx(Ze,{children:AW.map(R=>e.jsx(de,{value:R,className:"text-sm",children:R},R))})]})]})]}),e.jsxs("div",{children:[e.jsx(q,{className:"mb-2 text-xs font-semibold block text-gray-700 dark:text-gray-300",children:"Transmission"}),e.jsxs(Je,{value:l.transmission,onValueChange:R=>D({transmission:R}),children:[e.jsx(Qe,{className:"h-10 text-sm border-gray-300",children:e.jsx(et,{})}),e.jsx(Ze,{children:TW.map(R=>e.jsx(de,{value:R,className:"text-sm",children:R},R))})]})]}),e.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-gray-300 dark:via-gray-700 to-transparent"}),e.jsxs("div",{className:"bg-gradient-to-br from-cyan-50 to-teal-50 dark:from-cyan-900/20 dark:to-teal-900/20 rounded-xl p-4 border border-cyan-200 dark:border-cyan-800",children:[e.jsxs(q,{className:"mb-4 text-sm font-bold flex items-center justify-between text-gray-900 dark:text-white",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Bs,{className:"w-4 h-4 text-cyan-700"}),"Daily Rate"]}),e.jsxs("span",{className:"text-cyan-700 dark:text-cyan-300 font-bold text-lg",children:["$",l.priceRange[0]," - $",l.priceRange[1]]})]}),e.jsx(u5,{value:l.priceRange,onValueChange:R=>D({priceRange:R}),min:0,max:1500,step:10,className:"mt-2"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-600 dark:text-gray-400 mt-2 font-semibold",children:[e.jsx("span",{children:"$0"}),e.jsx("span",{children:"$1500+"})]})]}),e.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-gray-300 dark:via-gray-700 to-transparent"}),e.jsxs(Va,{open:j,onOpenChange:w,children:[e.jsx(iW,{asChild:!0,children:e.jsxs(K,{variant:"outline",className:"w-full h-11 border-2 border-cyan-700 text-cyan-700 hover:bg-gradient-to-r hover:from-cyan-700 hover:to-teal-600 hover:text-white transition-all font-semibold shadow-sm",children:[e.jsx(tk,{className:"w-4 h-4 mr-2"}),"Advanced Filters",A-[l.brand!=="All Brands",l.type!=="All Types",l.transmission!=="All",l.priceRange[0]!==0||l.priceRange[1]!==1500,l.search.trim()!=="",l.startDate!=="",l.endDate!==""].filter(Boolean).length>0&&e.jsxs(Me,{className:"ml-auto bg-cyan-700 text-white h-5 px-2 text-xs",children:["+",A-[l.brand!=="All Brands",l.type!=="All Types",l.transmission!=="All",l.priceRange[0]!==0||l.priceRange[1]!==1500,l.search.trim()!=="",l.startDate!=="",l.endDate!==""].filter(Boolean).length]})]})}),e.jsxs(Ra,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Ma,{children:[e.jsxs(Pa,{className:"flex items-center gap-2 text-xl",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-cyan-700 to-teal-600 flex items-center justify-center",children:e.jsx(tk,{className:"w-5 h-5 text-white"})}),"Advanced Search Filters"]}),e.jsx(vi,{className:"text-base",children:"Fine-tune your search with detailed criteria to find the perfect vehicle"})]}),e.jsxs("div",{className:"space-y-6 py-6",children:[e.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700",children:[e.jsxs(q,{className:"text-sm font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[e.jsx(Rs,{className:"w-5 h-5 text-cyan-700"}),"Year Range"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(q,{htmlFor:"yearMin",className:"text-xs text-gray-600 dark:text-gray-400 font-semibold",children:"From Year"}),e.jsx(oe,{id:"yearMin",type:"number",placeholder:"2015",value:u.yearMin,onChange:R=>T({yearMin:R.target.value}),className:"h-10 text-sm mt-1.5",min:"1900",max:new Date().getFullYear()+1})]}),e.jsxs("div",{children:[e.jsx(q,{htmlFor:"yearMax",className:"text-xs text-gray-600 dark:text-gray-400 font-semibold",children:"To Year"}),e.jsx(oe,{id:"yearMax",type:"number",placeholder:"2024",value:u.yearMax,onChange:R=>T({yearMax:R.target.value}),className:"h-10 text-sm mt-1.5",min:"1900",max:new Date().getFullYear()+1})]})]})]}),e.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700",children:[e.jsxs(q,{className:"text-sm font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[e.jsx(ll,{className:"w-5 h-5 text-cyan-700"}),"Engine & Performance"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(q,{htmlFor:"cylinder",className:"text-xs text-gray-600 dark:text-gray-400 font-semibold",children:"Cylinders"}),e.jsxs(Je,{value:u.cylinderNumber,onValueChange:R=>T({cylinderNumber:R}),children:[e.jsx(Qe,{id:"cylinder",className:"h-10 text-sm mt-1.5",children:e.jsx(et,{})}),e.jsx(Ze,{children:OW.map(R=>e.jsx(de,{value:R.value,className:"text-sm",children:R.label},R.value))})]})]}),e.jsxs("div",{children:[e.jsx(q,{htmlFor:"mileage",className:"text-xs text-gray-600 dark:text-gray-400 font-semibold",children:"Max Mileage"}),e.jsx(oe,{id:"mileage",type:"number",placeholder:"100000",value:u.mileageMax,onChange:R=>T({mileageMax:R.target.value}),className:"h-10 text-sm mt-1.5",min:"0"})]})]})]}),e.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700",children:[e.jsxs(q,{className:"text-sm font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[e.jsx(ax,{className:"w-5 h-5 text-cyan-700"}),"Fuel & Drive Type"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(q,{htmlFor:"fuelType",className:"text-xs text-gray-600 dark:text-gray-400 font-semibold",children:"Fuel Type"}),e.jsxs(Je,{value:u.fuelType,onValueChange:R=>T({fuelType:R}),children:[e.jsx(Qe,{id:"fuelType",className:"h-10 text-sm mt-1.5",children:e.jsx(et,{})}),e.jsx(Ze,{children:RW.map(R=>e.jsx(de,{value:R.value,className:"text-sm",children:R.label},R.value))})]})]}),e.jsxs("div",{children:[e.jsx(q,{htmlFor:"wheelsDrive",className:"text-xs text-gray-600 dark:text-gray-400 font-semibold",children:"Drive Type"}),e.jsxs(Je,{value:u.wheelsDrive,onValueChange:R=>T({wheelsDrive:R}),children:[e.jsx(Qe,{id:"wheelsDrive",className:"h-10 text-sm mt-1.5",children:e.jsx(et,{})}),e.jsx(Ze,{children:MW.map(R=>e.jsx(de,{value:R.value,className:"text-sm",children:R.label},R.value))})]})]})]})]}),e.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700",children:[e.jsxs(q,{className:"text-sm font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[e.jsx(b7,{className:"w-5 h-5 text-cyan-700"}),"Color Preference"]}),e.jsxs(Je,{value:u.color,onValueChange:R=>T({color:R}),children:[e.jsx(Qe,{className:"h-10 text-sm",children:e.jsx(et,{placeholder:"Select color"})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"all",className:"text-sm font-semibold",children:"All Colors"}),PW.map(R=>e.jsx(de,{value:R,className:"text-sm",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-300",style:{backgroundColor:R.toLowerCase()}}),R]})},R))]})]})]}),e.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700",children:[e.jsxs(q,{className:"text-sm font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[e.jsx(fs,{className:"w-5 h-5 text-cyan-700"}),"Capacity Requirements"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(q,{htmlFor:"seats",className:"text-xs text-gray-600 dark:text-gray-400 font-semibold",children:"Min Seats"}),e.jsx(oe,{id:"seats",type:"number",placeholder:"5",value:u.seatsMin,onChange:R=>T({seatsMin:R.target.value}),className:"h-10 text-sm mt-1.5",min:"1",max:"50"})]}),e.jsxs("div",{children:[e.jsx(q,{htmlFor:"doors",className:"text-xs text-gray-600 dark:text-gray-400 font-semibold",children:"Min Doors"}),e.jsx(oe,{id:"doors",type:"number",placeholder:"4",value:u.doorsMin,onChange:R=>T({doorsMin:R.target.value}),className:"h-10 text-sm mt-1.5",min:"1",max:"10"})]})]})]}),e.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700",children:[e.jsxs(q,{className:"text-sm font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[e.jsx(Bs,{className:"w-5 h-5 text-cyan-700"}),"Holiday Pricing"]}),e.jsxs("div",{children:[e.jsx(q,{htmlFor:"holidayRate",className:"text-xs text-gray-600 dark:text-gray-400 font-semibold",children:"Max Holiday Rate"}),e.jsx(oe,{id:"holidayRate",type:"number",placeholder:"200",value:u.holidayRateMax,onChange:R=>T({holidayRateMax:R.target.value}),className:"h-10 text-sm mt-1.5",min:"0"})]})]}),e.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700",children:[e.jsxs(q,{className:"text-sm font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[e.jsx(bs,{className:"w-5 h-5 text-cyan-700"}),"Additional Services"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 hover:border-cyan-500 transition-colors",children:[e.jsx(Oh,{id:"withDriver",checked:u.withDriver,onCheckedChange:R=>T({withDriver:R}),className:"data-[state=checked]:bg-cyan-700 data-[state=checked]:border-cyan-700"}),e.jsx(q,{htmlFor:"withDriver",className:"text-sm cursor-pointer font-medium flex-1",children:"Available with driver"})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 hover:border-cyan-500 transition-colors",children:[e.jsx(Oh,{id:"isDelivered",checked:u.isDelivered,onCheckedChange:R=>T({isDelivered:R}),className:"data-[state=checked]:bg-cyan-700 data-[state=checked]:border-cyan-700"}),e.jsx(q,{htmlFor:"isDelivered",className:"text-sm cursor-pointer font-medium flex-1",children:"Delivery available"})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 hover:border-cyan-500 transition-colors",children:[e.jsx(Oh,{id:"requiresDeposit",checked:u.requiresDeposit,onCheckedChange:R=>T({requiresDeposit:R}),className:"data-[state=checked]:bg-cyan-700 data-[state=checked]:border-cyan-700"}),e.jsx(q,{htmlFor:"requiresDeposit",className:"text-sm cursor-pointer font-medium flex-1",children:"Requires deposit"})]})]})]}),e.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700",children:[e.jsxs(q,{className:"text-sm font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[e.jsx(P$,{className:"w-5 h-5 text-cyan-700"}),"Features & Amenities"]}),e.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-80 overflow-y-auto p-3 bg-white dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700",children:EW.map(R=>e.jsxs("div",{className:"flex items-center space-x-2 p-2 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md transition-colors",children:[e.jsx(Oh,{id:`feature-${R}`,checked:u.features.includes(R),onCheckedChange:()=>J(R),className:"data-[state=checked]:bg-cyan-700 data-[state=checked]:border-cyan-700"}),e.jsx(q,{htmlFor:`feature-${R}`,className:"text-xs cursor-pointer font-medium",children:R})]},R))}),u.features.length>0&&e.jsxs("p",{className:"text-sm text-cyan-700 dark:text-cyan-300 font-semibold bg-cyan-50 dark:bg-cyan-900/30 p-2 rounded-lg text-center",children:[" ",u.features.length," feature",u.features.length!==1?"s":""," selected"]})]})]}),e.jsxs("div",{className:"flex justify-between gap-3 pt-6 border-t-2 border-gray-200 dark:border-gray-700",children:[e.jsx(K,{variant:"outline",onClick:()=>{h({yearMin:"",yearMax:"",cylinderNumber:"all",color:"all",mileageMax:"",fuelType:"all",wheelsDrive:"all",seatsMin:"",doorsMin:"",features:[],withDriver:!1,isDelivered:!1,requiresDeposit:!1,holidayRateMax:""})},className:"h-11 px-6 border-2 font-semibold",children:"Clear Advanced"}),e.jsx(K,{onClick:()=>w(!1),className:"h-11 px-8 bg-gradient-to-r from-cyan-700 to-teal-600 hover:from-cyan-800 hover:to-teal-700 text-white font-semibold shadow-lg",children:"Apply Filters"})]})]})]})]})]}),e.jsx(Te,{className:"border-0 shadow-md bg-gradient-to-br from-cyan-50 to-teal-50 dark:from-cyan-900/20 dark:to-teal-900/20",children:e.jsx(Re,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-cyan-700 to-teal-600 flex items-center justify-center flex-shrink-0",children:e.jsx(zt,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-sm text-gray-900 dark:text-white mb-1",children:"Need Help Choosing?"}),e.jsx("p",{className:"text-xs text-gray-700 dark:text-gray-300 leading-relaxed",children:"Use filters to narrow down your search and find the perfect vehicle for your needs."})]})]})})})]})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl p-5 mb-6 border-0 shadow-md",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-cyan-700 to-teal-600 rounded-xl flex items-center justify-center shadow-md",children:e.jsx(zt,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium uppercase tracking-wide",children:"Available Now"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[t.length," ",t.length===1?"Vehicle":"Vehicles"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:[e.jsx(q,{htmlFor:"sort",className:"text-sm font-bold text-gray-700 dark:text-gray-300 whitespace-nowrap",children:"Sort by:"}),e.jsxs(Je,{value:p,onValueChange:f,children:[e.jsx(Qe,{id:"sort",className:"w-full sm:w-[200px] h-10 text-sm border-gray-300 font-medium",children:e.jsx(et,{})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"featured",className:"text-sm font-medium",children:" Featured"}),e.jsx(de,{value:"price-low",className:"text-sm font-medium",children:" Price: Low to High"}),e.jsx(de,{value:"price-high",className:"text-sm font-medium",children:" Price: High to Low"}),e.jsx(de,{value:"rating",className:"text-sm font-medium",children:" Highest Rated"}),e.jsx(de,{value:"popular",className:"text-sm font-medium",children:" Most Popular"}),e.jsx(de,{value:"year-new",className:"text-sm font-medium",children:" Newest First"}),e.jsx(de,{value:"year-old",className:"text-sm font-medium",children:" Oldest First"})]})]})]})]}),A>0&&e.jsxs("div",{className:"mt-5 pt-5 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("p",{className:"text-sm font-bold text-gray-700 dark:text-gray-300",children:["Active Filters (",A,")"]}),e.jsx(K,{variant:"ghost",size:"sm",onClick:M,className:"h-7 text-xs text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/30 font-semibold",children:"Clear All "})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.startDate&&e.jsxs(Me,{variant:"secondary",className:"text-xs bg-yellow-100 dark:bg-yellow-900/30 border border-yellow-300 dark:border-yellow-700 px-3 py-1.5 font-medium",children:[" ",new Date(l.startDate).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),e.jsx("button",{onClick:()=>D({startDate:""}),className:"ml-2 hover:text-red-600",children:e.jsx(ea,{className:"w-3 h-3"})})]}),l.endDate&&e.jsxs(Me,{variant:"secondary",className:"text-xs bg-yellow-100 dark:bg-yellow-900/30 border border-yellow-300 dark:border-yellow-700 px-3 py-1.5 font-medium",children:[" ",new Date(l.endDate).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),e.jsx("button",{onClick:()=>D({endDate:""}),className:"ml-2 hover:text-red-600",children:e.jsx(ea,{className:"w-3 h-3"})})]}),l.brand!=="All Brands"&&e.jsxs(Me,{variant:"secondary",className:"text-xs bg-cyan-100 dark:bg-cyan-900/30 border border-cyan-300 dark:border-cyan-700 px-3 py-1.5 font-medium",children:[" ",l.brand,e.jsx("button",{onClick:()=>D({brand:"All Brands"}),className:"ml-2 hover:text-red-600",children:e.jsx(ea,{className:"w-3 h-3"})})]}),l.type!=="All Types"&&e.jsxs(Me,{variant:"secondary",className:"text-xs bg-purple-100 dark:bg-purple-900/30 border border-purple-300 dark:border-purple-700 px-3 py-1.5 font-medium",children:[" ",l.type,e.jsx("button",{onClick:()=>D({type:"All Types"}),className:"ml-2 hover:text-red-600",children:e.jsx(ea,{className:"w-3 h-3"})})]}),l.transmission!=="All"&&e.jsxs(Me,{variant:"secondary",className:"text-xs bg-green-100 dark:bg-green-900/30 border border-green-300 dark:border-green-700 px-3 py-1.5 font-medium",children:[" ",l.transmission,e.jsx("button",{onClick:()=>D({transmission:"All"}),className:"ml-2 hover:text-red-600",children:e.jsx(ea,{className:"w-3 h-3"})})]}),(l.priceRange[0]!==0||l.priceRange[1]!==1500)&&e.jsxs(Me,{variant:"secondary",className:"text-xs bg-emerald-100 dark:bg-emerald-900/30 border border-emerald-300 dark:border-emerald-700 px-3 py-1.5 font-medium",children:[" $",l.priceRange[0]," - $",l.priceRange[1],e.jsx("button",{onClick:()=>D({priceRange:[0,1500]}),className:"ml-2 hover:text-red-600",children:e.jsx(ea,{className:"w-3 h-3"})})]}),u.yearMin&&e.jsxs(Me,{variant:"secondary",className:"text-xs bg-blue-100 dark:bg-blue-900/30 border border-blue-300 dark:border-blue-700 px-3 py-1.5 font-medium",children:[" Year  ",u.yearMin,e.jsx("button",{onClick:()=>T({yearMin:""}),className:"ml-2 hover:text-red-600",children:e.jsx(ea,{className:"w-3 h-3"})})]}),u.yearMax&&e.jsxs(Me,{variant:"secondary",className:"text-xs bg-blue-100 dark:bg-blue-900/30 border border-blue-300 dark:border-blue-700 px-3 py-1.5 font-medium",children:[" Year  ",u.yearMax,e.jsx("button",{onClick:()=>T({yearMax:""}),className:"ml-2 hover:text-red-600",children:e.jsx(ea,{className:"w-3 h-3"})})]}),u.features.length>0&&e.jsxs(Me,{variant:"secondary",className:"text-xs bg-indigo-100 dark:bg-indigo-900/30 border border-indigo-300 dark:border-indigo-700 px-3 py-1.5 font-medium",children:[" ",u.features.length," Feature",u.features.length!==1?"s":"",e.jsx("button",{onClick:()=>T({features:[]}),className:"ml-2 hover:text-red-600",children:e.jsx(ea,{className:"w-3 h-3"})})]})]})]})]}),r?e.jsx("div",{className:"flex items-center justify-center py-32",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 border-4 border-cyan-700 border-t-transparent rounded-full animate-spin mx-auto mb-6"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Loading Vehicles"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Please wait while we fetch the best options..."})]})}):t.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6 sm:gap-8",children:t.map(R=>e.jsx(kw,{car:R},R.id))}):e.jsx(Te,{className:"p-16 text-center border-2 border-dashed border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50 rounded-2xl",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-700 mx-auto mb-6 flex items-center justify-center shadow-inner",children:e.jsx(Ea,{className:"w-10 h-10 text-gray-400 dark:text-gray-500"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-3",children:"No Vehicles Found"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-8 leading-relaxed",children:"We couldn't find any vehicles matching your criteria. Try adjusting your filters or broadening your search."}),e.jsxs(K,{onClick:M,className:"bg-gradient-to-r from-cyan-700 to-teal-600 hover:from-cyan-800 hover:to-teal-700 text-white font-bold px-8 py-6 rounded-xl shadow-lg hover:shadow-xl transition-all",children:[e.jsx(ea,{className:"w-5 h-5 mr-2"}),"Reset All Filters"]})]})})]})]})]})]})};var LW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],BW=LW.reduce((t,s)=>{const a=Uj(`Primitive.${s}`),n=y.forwardRef((r,i)=>{const{asChild:l,...d}=r,u=l?a:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(u,{...d,ref:i})});return n.displayName=`Primitive.${s}`,{...t,[s]:n}},{}),FW="Separator",Hk="horizontal",IW=["horizontal","vertical"],h5=y.forwardRef((t,s)=>{const{decorative:a,orientation:n=Hk,...r}=t,i=$W(n)?n:Hk,d=a?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return e.jsx(BW.div,{"data-orientation":i,...d,...r,ref:s})});h5.displayName=FW;function $W(t){return IW.includes(t)}var m5=h5;const jc=y.forwardRef(({className:t,orientation:s="horizontal",decorative:a=!0,...n},r)=>e.jsx(m5,{ref:r,decorative:a,orientation:s,className:mt("shrink-0 bg-border",s==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));jc.displayName=m5.displayName;const zW=()=>{const{id:t}=yF(),s=Ua();pu();const[a,n]=y.useState(null),[r,i]=y.useState(!0),[l,d]=y.useState(!1),[u,h]=y.useState(0),[p,f]=y.useState(!1),[x,v]=y.useState({pickupDate:"",returnDate:"",location:"",reason:""}),[j,w]=y.useState(!1),[_,N]=y.useState(!1),[k,D]=y.useState([]),T=y.useMemo(()=>new Date().toISOString().slice(0,16),[]),E=y.useMemo(()=>a?.images?.length?a.images[Math.min(u,a.images.length-1)]:"",[a,u]),G=re=>Array.isArray(re)?re:Array.isArray(re?.cars)?re.cars:Array.isArray(re?.favorites)?re.favorites:Array.isArray(re?.data)?re.data:[],A=(re,te)=>{const V=String(te);return re.some(U=>U==null?!1:typeof U=="string"||typeof U=="number"?String(U)===V:String(U.id??U.car_id??U.car?.id)===V)};y.useEffect(()=>{let re=!0;return(async()=>{i(!0);try{const U=(await xe.get(`/cars/${t}`)).data.car,H=U.feedbacks??[],L=H.length>0?(H.reduce((ie,le)=>ie+le.rating,0)/H.length).toFixed(1):null,$={id:U.id,brand:U.make,model:U.model,year:U.year,type:U.car_category,seats:U.seats,doors:U.doors,transmission:U.transmission,fuelType:U.fuel_type,mileage:U.mileage,drive:U.wheels_drive,location:U.live_location?.address??"N/A",price:Number(U.daily_rate),holidayRate:Number(U.holiday_rate),rating:L,reviews:H.length,features:U.features??[],description:U.notes??"",images:[U.main_image_url,U.front_image_url,U.back_image_url,U.left_image_url,U.right_image_url].filter(Boolean),deliveryAvailable:!!U.delivery_available};if(!re)return;if(n($),h(0),localStorage.getItem("authToken")||localStorage.getItem("token")){N(!0);try{const ie=await xe.get("/cars/favorites/list"),le=G(ie.data);if(!re)return;d(A(le,$.id))}catch{if(!re)return;d(!1)}finally{re&&N(!1)}}else N(!1);try{const ie=await xe.get("/cars"),le=ie.data?.cars??ie.data?.data??[],ne=(Array.isArray(le)?le:[]).filter(fe=>String(fe.id)!==String(U.id)).slice(0,3).map(fe=>{const Ne=fe.feedbacks??[],ye=Ne.length>0?(Ne.reduce((Le,Se)=>Le+(Number(Se.rating)||0),0)/Ne.length).toFixed(1):null;return{id:fe.id,brand:fe.make,make:fe.make,model:fe.model,year:fe.year,type:fe.car_category,category:fe.car_category,price:Number(fe.daily_rate),image:fe.main_image_url,rating:ye,reviews:Ne.length,seats:fe.seats,doors:fe.doors,fuel_type:fe.fuel_type,fuelType:fe.fuel_type}});re&&D(ne)}catch{re&&D([])}}catch(V){console.error("Car fetch error:",V),se.error("Failed to load car details."),re&&n(null)}finally{re&&i(!1)}})(),window.scrollTo(0,0),()=>{re=!1}},[t]),y.useEffect(()=>{!p||!a||a.deliveryAvailable||v(re=>({...re,location:a.location||"N/A"}))},[p,a]);const M=(()=>{if(!x.pickupDate||!x.returnDate)return 0;const re=new Date(x.pickupDate),te=new Date(x.returnDate),V=Math.ceil((te-re)/(1e3*60*60*24));return V>0?V:0})(),J=a?M*a.price:0,R=async()=>{if(!a||_)return;if(!(localStorage.getItem("authToken")||localStorage.getItem("token"))){se.error("Please log in to save favorites.");return}const te=!l;d(te),window.dispatchEvent(new Event("favoritesUpdated"));try{await xe.post(`/cars/${a.id}/favorite`),se.success(te?"Added to favorites":"Removed from favorites")}catch(V){console.error("Favorite toggle error:",V),d(!te),window.dispatchEvent(new Event("favoritesUpdated")),se.error("Failed to update favorite. Please try again.")}},ee=()=>{if(!a)return!1;if(a.deliveryAvailable&&!x.location.trim())return se.error("Please enter pickup location."),!1;if(!x.pickupDate)return se.error("Please select pickup date/time."),!1;if(!x.returnDate)return se.error("Please select return date/time."),!1;const re=new Date(x.pickupDate);return new Date(x.returnDate)<=re?(se.error("Return date must be after pickup date."),!1):!0},Y=async re=>{if(re.preventDefault(),!!ee()){w(!0);try{const te={car_id:a.id,start_datetime:x.pickupDate,end_datetime:x.returnDate,pickup_location:a.deliveryAvailable?x.location:a.location,reason_of_booking:x.reason};(await xe.post("/bookings",te)).status===201?(se.success("Booking request submitted successfully! We'll contact you shortly.",{duration:5e3}),f(!1),v({pickupDate:"",returnDate:"",location:"",reason:""})):se.error("Unexpected response from server. Please try again.")}catch(te){console.error("Booking error:",te);let V="Failed to submit booking request. Please try again.";if(te.response){if(te.response.status===400)V=te.response.data.message||V;else if(te.response.status===422){const U=te.response.data.errors;V=Object.values(U).flat().join(`
`)}}se.error(V,{duration:5e3})}finally{w(!1)}}};return r?e.jsx("div",{className:"min-h-screen pt-20 flex items-center justify-center bg-background",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-10 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-3"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading car details..."})]})}):a?e.jsxs("div",{className:"min-h-screen pt-20 bg-background",children:[e.jsx("div",{className:"sticky top-16 z-40 border-b bg-background/80 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:e.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between gap-3",children:[e.jsxs(K,{variant:"ghost",onClick:()=>s("/cars"),"aria-label":"Back to cars",children:[e.jsx(xi,{className:"w-5 h-5 mr-2","aria-hidden":"true"}),"Back"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(K,{variant:l?"secondary":"outline",onClick:R,"aria-label":l?"Remove from favorites":"Add to favorites",disabled:_,children:[e.jsx(xl,{className:`w-4 h-4 mr-2 ${l?"fill-primary text-primary":""}`,"aria-hidden":"true"}),l?"Saved":"Save"]}),e.jsx(K,{onClick:()=>f(!0),className:"bg-gradient-to-r from-teal-600 to-cyan-600 text-white",children:"Book Now"})]})]})}),e.jsxs("div",{className:"container mx-auto px-4 py-6 grid lg:grid-cols-12 gap-6",children:[e.jsxs("div",{className:"lg:col-span-8 space-y-6",children:[e.jsx(Te,{className:"overflow-hidden",children:e.jsxs(Re,{className:"p-0",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"aspect-[16/9] bg-muted",children:E?e.jsx("img",{src:`/api/storage/${E}`,alt:`${a.brand} ${a.model}`,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-sm text-muted-foreground",children:"No images available"})}),a.type&&e.jsx("div",{className:"absolute left-4 top-4",children:e.jsx(Me,{className:"rounded-full",children:a.type})}),a.rating&&e.jsxs("div",{className:"absolute right-4 top-4 rounded-full bg-background/80 backdrop-blur px-3 py-1 flex items-center gap-2 border",children:[e.jsx(Ys,{className:"w-4 h-4 fill-yellow-500 text-yellow-500","aria-hidden":"true"}),e.jsx("span",{className:"text-sm font-semibold",children:a.rating}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",a.reviews,")"]})]})]}),a.images?.length>1&&e.jsx("div",{className:"p-4 border-t",children:e.jsx("div",{className:"grid grid-cols-5 sm:grid-cols-6 md:grid-cols-7 gap-2",children:a.images.map((re,te)=>e.jsx("button",{onClick:()=>h(te),className:`relative rounded-lg overflow-hidden border transition ${u===te?"ring-2 ring-primary border-transparent":"hover:border-primary/40"}`,"aria-label":`View image ${te+1}`,children:e.jsx("img",{src:`/api/storage/${re}`,alt:`Thumbnail ${te+1}`,className:"h-14 w-full object-cover",loading:"lazy"})},`${re}-${te}`))})})]})}),e.jsx(Te,{children:e.jsxs(Re,{className:"p-5 space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight",children:[a.brand," ",a.model," ",e.jsxs("span",{className:"text-muted-foreground font-semibold",children:["(",a.year,")"]})]}),e.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[e.jsx(VW,{icon:e.jsx(bs,{className:"w-4 h-4"}),label:a.location}),e.jsx(Me,{variant:"secondary",className:"rounded-full",children:a.deliveryAvailable?"Delivery available":"Pickup only"})]})]}),e.jsxs("div",{className:"text-left sm:text-right",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Starting from"}),e.jsxs("p",{className:"text-3xl font-bold",children:["$",a.price,e.jsx("span",{className:"text-sm font-semibold text-muted-foreground",children:"/day"})]}),Number.isFinite(a.holidayRate)&&a.holidayRate>0&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Holiday: ",e.jsxs("span",{className:"font-semibold",children:["$",a.holidayRate]})]})]})]}),e.jsx(jc,{}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[e.jsx(Dd,{icon:fs,label:"Seats",value:a.seats??"N/A"}),e.jsx(Dd,{icon:R$,label:"Doors",value:a.doors??"N/A"}),e.jsx(Dd,{icon:ax,label:"Fuel",value:a.fuelType??"N/A"}),e.jsx(Dd,{icon:km,label:"Transmission",value:a.transmission??"N/A"}),e.jsx(Dd,{icon:ll,label:"Mileage",value:a.mileage?`${a.mileage} km`:"N/A"}),e.jsx(Dd,{icon:zt,label:"Drive",value:a.drive??"N/A"})]})]})}),e.jsx(Te,{children:e.jsxs(Re,{className:"p-5 space-y-3",children:[e.jsx("h3",{className:"text-base font-semibold",children:"Description"}),e.jsx("p",{className:"text-sm leading-relaxed text-muted-foreground",children:a.description?.trim()?a.description:"No description provided."})]})}),a.features?.length>0&&e.jsx(Te,{children:e.jsxs(Re,{className:"p-5 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-base font-semibold",children:"Features"}),e.jsxs(Me,{variant:"secondary",className:"rounded-full",children:[a.features.length," included"]})]}),e.jsx("div",{className:"grid sm:grid-cols-2 gap-3",children:a.features.map((re,te)=>e.jsxs("div",{className:"flex items-start gap-2 rounded-lg border p-3",children:[e.jsx($a,{className:"w-4 h-4 text-primary mt-0.5","aria-hidden":"true"}),e.jsx("span",{className:"text-sm",children:re})]},`${re}-${te}`))})]})})]}),e.jsx("div",{className:"lg:col-span-4",children:e.jsx(Te,{className:"sticky top-28",children:e.jsxs(Re,{className:"p-5 space-y-4",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(Me,{className:"rounded-full w-fit",children:a.type||"Car"}),e.jsxs("h2",{className:"text-lg font-semibold leading-tight",children:[a.brand," ",a.model]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Price: ",e.jsxs("span",{className:"font-semibold",children:["$",a.price,"/day"]})]})]}),a.rating&&e.jsxs("div",{className:"rounded-xl border px-3 py-2 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx(Ys,{className:"w-4 h-4 fill-yellow-500 text-yellow-500","aria-hidden":"true"}),e.jsx("span",{className:"font-semibold",children:a.rating})]}),e.jsxs("p",{className:"text-[11px] text-muted-foreground",children:[a.reviews," reviews"]})]})]}),e.jsx(jc,{}),e.jsxs("div",{className:"rounded-xl border bg-muted/30 p-4 space-y-2",children:[e.jsx(wp,{label:"Pickup type",value:a.deliveryAvailable?"Delivery":"Pickup only"}),e.jsx(wp,{label:"Car location",value:a.location}),e.jsx(wp,{label:"Fuel",value:a.fuelType??"N/A"}),e.jsx(wp,{label:"Transmission",value:a.transmission??"N/A"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(K,{className:"flex-1 bg-gradient-to-r from-teal-600 to-cyan-600 text-white",onClick:()=>f(!0),children:"Book Now"}),e.jsx(K,{variant:"outline",onClick:R,"aria-label":l?"Remove from favorites":"Add to favorites",disabled:_,children:e.jsx(xl,{className:`w-4 h-4 ${l?"fill-primary text-primary":""}`,"aria-hidden":"true"})})]}),e.jsx("p",{className:"text-[11px] text-muted-foreground leading-relaxed",children:"Submit a booking request and our team will confirm availability with you."})]})})})]}),k.length>0&&e.jsxs("div",{className:"container mx-auto px-4 py-6 border-t",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"You might also like"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:k.map(re=>e.jsx(kw,{car:re},re.id))}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx(K,{variant:"outline",asChild:!0,children:e.jsx(Ts,{to:"/cars",children:"View all cars"})})})]}),e.jsx(Va,{open:p,onOpenChange:f,children:e.jsxs(Ra,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[e.jsxs(Ma,{children:[e.jsxs(Pa,{className:"text-xl",children:["Book ",a.brand," ",a.model]}),e.jsx(vi,{className:"text-sm",children:a.deliveryAvailable?"Choose pickup location and rental dates.":"Delivery is not available for this car. Pickup is at the car location."})]}),e.jsxs("form",{onSubmit:Y,className:"space-y-4 mt-2",children:[a.deliveryAvailable?e.jsxs("div",{children:[e.jsx(q,{htmlFor:"location",className:"text-xs",children:"Pickup Location *"}),e.jsxs("div",{className:"relative",children:[e.jsx(bs,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-muted-foreground"}),e.jsx(oe,{id:"location",required:!0,value:x.location,onChange:re=>v({...x,location:re.target.value}),placeholder:"City, Airport, or Address",className:"pl-8 h-9 text-sm"})]})]}):e.jsxs("div",{className:"rounded-lg border bg-muted/30 p-4",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Pickup location"}),e.jsx("p",{className:"text-sm font-semibold",children:a.location||"N/A"}),e.jsx("p",{className:"text-[11px] text-muted-foreground mt-1",children:"Pickup is at the car location."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(q,{htmlFor:"pickupDate",className:"text-xs",children:"Start Date *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Rs,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-muted-foreground"}),e.jsx(oe,{id:"pickupDate",type:"datetime-local",required:!0,value:x.pickupDate,onChange:re=>v(te=>({...te,pickupDate:re.target.value,returnDate:te.returnDate&&new Date(te.returnDate)<=new Date(re.target.value)?"":te.returnDate})),min:T,className:"pl-8 h-9 text-sm"})]})]}),e.jsxs("div",{children:[e.jsx(q,{htmlFor:"returnDate",className:"text-xs",children:"End Date *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Rs,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-muted-foreground"}),e.jsx(oe,{id:"returnDate",type:"datetime-local",required:!0,value:x.returnDate,onChange:re=>v({...x,returnDate:re.target.value}),min:x.pickupDate||T,className:"pl-8 h-9 text-sm"})]})]})]}),e.jsxs("div",{children:[e.jsx(q,{htmlFor:"reason",className:"text-xs",children:"Reason (optional)"}),e.jsx(oe,{id:"reason",value:x.reason,onChange:re=>v({...x,reason:re.target.value}),placeholder:"Vacation, business trip, wedding...",className:"h-9 text-sm"})]}),e.jsx(jc,{}),e.jsxs("div",{className:"rounded-lg border bg-muted/30 p-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Daily rate"}),e.jsxs("span",{className:"font-medium",children:["$",a.price,"/day"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Days"}),e.jsx("span",{className:"font-medium",children:M>0?M:"--"})]}),e.jsx(jc,{}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-semibold",children:"Estimated total"}),e.jsx("span",{className:"text-2xl font-bold text-teal-600 dark:text-teal-400",children:M>0?`$${J}`:"--"})]}),e.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Final confirmation depends on availability and terms."})]}),e.jsx(K,{type:"submit",className:"w-full bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 font-semibold h-10 text-sm",disabled:j,children:j?"Submitting...":"Confirm Booking Request"})]})]})})]}):e.jsx("div",{className:"min-h-screen pt-20 flex items-center justify-center p-4 bg-background",children:e.jsx(Te,{className:"max-w-md w-full",children:e.jsxs(Re,{className:"p-6 text-center space-y-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Car not found"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"The vehicle you're looking for doesn't exist or was removed."}),e.jsxs(K,{onClick:()=>s("/cars"),className:"w-full",children:[e.jsx(xi,{className:"w-4 h-4 mr-2"}),"Back to Cars"]})]})})})},VW=({icon:t,label:s})=>e.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border bg-background px-3 py-1 text-xs text-muted-foreground",children:[e.jsx("span",{"aria-hidden":"true",children:t}),e.jsx("span",{className:"truncate max-w-[260px]",children:s})]}),Dd=({icon:t,label:s,value:a})=>e.jsx("div",{className:"rounded-xl border p-4 bg-background hover:bg-muted/30 transition",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center",children:e.jsx(t,{className:"w-5 h-5","aria-hidden":"true"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:s}),e.jsx("p",{className:"font-semibold",children:a})]})]})}),wp=({label:t,value:s})=>e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:t}),e.jsx("span",{className:"text-xs font-medium text-right",children:s})]}),UW=()=>{const[t,s]=y.useState([]),[a,n]=y.useState(!0),[r,i]=y.useState(1),[l,d]=y.useState({current_page:1,last_page:1,per_page:20,total:0,next_page_url:null,prev_page_url:null}),u=j=>{const w=j.feedbacks??[],_=w.length>0?(w.reduce((N,k)=>N+(Number(k.rating)||0),0)/w.length).toFixed(1):null;return{id:j.id,make:j.make,brand:j.make,model:j.model,year:j.year,type:j.car_category,category:j.car_category,seats:j.seats,doors:j.doors,transmission:j.transmission,fuelType:j.fuel_type,fuel_type:j.fuel_type,drive:j.wheels_drive,cylinders:j.cylinder_number,mileage:j.mileage,color:j.color,dailyRate:Number(j.daily_rate),holidayRate:Number(j.holiday_rate),price:Number(j.daily_rate),hasDeposit:!!j.is_deposit,deposit:Number(j.deposit),maxMileage:j.max_driving_mileage,minDays:j.min_rental_days,withDriver:!!j.with_driver,driverFees:Number(j.driver_fees),location:j.live_location?.address??"N/A",isDelivered:!!j.is_delivered,deliveryFees:Number(j.delivery_fees),description:j.notes??"",features:j.features??[],addons:j.car_add_on??[],rating:_,reviews:w.length,feedbacks:w,images:[j.main_image_url,j.front_image_url,j.back_image_url,j.left_image_url,j.right_image_url].filter(Boolean),image:j.main_image_url||j.front_image_url||""}},h=y.useCallback(async(j=1)=>{n(!0);try{const _=(await xe.get("/cars/favorites/list",{params:{page:j}})).data?.favorites,N=(_?.data??[]).map(u);s(N),d({current_page:_?.current_page??j,last_page:_?.last_page??1,per_page:_?.per_page??20,total:_?.total??N.length,next_page_url:_?.next_page_url??null,prev_page_url:_?.prev_page_url??null}),i(_?.current_page??j)}catch(w){console.error("Favorites fetch error:",w),se.error("Failed to load favorites. Please try again."),s([])}finally{n(!1)}},[]),p=y.useCallback(async j=>{const w=t;s(_=>_.filter(N=>N.id!==j));try{await xe.post(`/cars/${j}/favorite`),se.success("Removed from favorites"),window.dispatchEvent(new Event("favoritesUpdated")),h(r)}catch(_){console.error("Toggle favorite error:",_),se.error("Failed to update favorite. Please try again."),s(w)}},[t,h,r]);y.useEffect(()=>{h(1);const j=()=>h(r);return window.addEventListener("favoritesUpdated",j),()=>window.removeEventListener("favoritesUpdated",j)},[h,r]);const f=y.useMemo(()=>a?"Loading your favorites...":l.total===0?"No favorites yet. Start exploring our fleet!":`You have ${l.total} vehicle${l.total>1?"s":""} in your favorites`,[a,l.total]),x=l.prev_page_url&&r>1,v=l.next_page_url&&r<l.last_page;return e.jsxs("div",{className:"min-h-screen pt-20",children:[e.jsx("section",{className:"bg-gradient-to-br from-accent/5 via-secondary/5 to-primary/5 py-12",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-3xl",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[e.jsxs(Me,{className:"mb-2 bg-accent/10 text-accent-foreground border-accent/20",children:[e.jsx(xl,{className:"w-3 h-3 mr-1 fill-current"}),"Favorites"]}),e.jsxs(K,{variant:"outline",size:"sm",onClick:()=>h(r),disabled:a,"aria-label":"Refresh favorites",className:"mb-2",children:[e.jsx(_t,{className:`w-4 h-4 mr-2 ${a?"animate-spin":""}`}),"Refresh"]})]}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Your Favorite Vehicles"}),e.jsx("p",{className:"text-lg text-muted-foreground",children:f}),!a&&l.total>0&&e.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Page ",l.current_page," of ",l.last_page]})]})})}),e.jsx("div",{className:"container mx-auto px-4 py-12",children:a?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6",children:Array.from({length:6}).map((j,w)=>e.jsxs(Te,{className:"p-6",children:[e.jsx("div",{className:"h-40 rounded-xl bg-muted animate-pulse mb-4"}),e.jsx("div",{className:"h-4 bg-muted rounded animate-pulse w-2/3 mb-2"}),e.jsx("div",{className:"h-4 bg-muted rounded animate-pulse w-1/2"})]},w))}):t.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6",children:t.map(j=>e.jsx(kw,{car:j,forceFavorite:!0,onToggleFavoriteApi:()=>p(j.id)},j.id))}),(l.last_page??1)>1&&e.jsxs("div",{className:"flex items-center justify-center gap-3 mt-10",children:[e.jsxs(K,{variant:"outline",onClick:()=>h(r-1),disabled:!x||a,"aria-label":"Previous page",children:[e.jsx(yo,{className:"w-4 h-4 mr-2"}),"Prev"]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",e.jsx("span",{className:"font-semibold",children:l.current_page})," /"," ",e.jsx("span",{className:"font-semibold",children:l.last_page})]}),e.jsxs(K,{variant:"outline",onClick:()=>h(r+1),disabled:!v||a,"aria-label":"Next page",children:["Next",e.jsx(sn,{className:"w-4 h-4 ml-2"})]})]})]}):e.jsxs(Te,{className:"p-12 text-center max-w-2xl mx-auto",children:[e.jsx("div",{className:"w-24 h-24 rounded-full bg-muted mx-auto mb-6 flex items-center justify-center",children:e.jsx(xl,{className:"w-12 h-12 text-muted-foreground"})}),e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"No Favorites Yet"}),e.jsx("p",{className:"text-muted-foreground mb-8 max-w-md mx-auto",children:"Start adding vehicles to your favorites to keep track of the cars you love. Click the heart icon on any vehicle card to add it here."}),e.jsx(Ts,{to:"/cars",children:e.jsxs(K,{size:"lg",className:"bg-primary hover:bg-primary-light text-primary-foreground",children:["Browse Our Fleet",e.jsx(Ec,{className:"w-5 h-5 ml-2"})]})})]})})]})},HW=()=>{const t=[{icon:xl,title:"Customer First",description:"Your satisfaction and experience are at the heart of everything we do."},{icon:Bn,title:"Trust & Safety",description:"All vehicles are fully insured and professionally maintained for maximum safety."},{icon:Ev,title:"Excellence",description:"We provide premium-quality cars and top-tier customer service across Lebanon."},{icon:G$,title:"Accessibility",description:"Car rental services available across Beirut, airport, and major Lebanese cities."}],s=[{value:"15+",label:"Years in Car Rental in Lebanon"},{value:"10,000+",label:"Happy Clients"},{value:"50+",label:"Premium Rental Cars"},{value:"25",label:"Lebanese Cities Covered"}],a=[{name:"Rami Z.",role:"Co-Founder",image:"https://media.licdn.com/dms/image/v2/D4D03AQE-SI2RbsIKJg/profile-displayphoto-scale_400_400/B4DZkR13KuIEAw-/0/1756940957455?e=1766620800&v=beta&t=zeHYUyUBfpn25qt5t5noPx63zsRssAtxFJfix_St0u8",bio:"Expert in the Lebanese car rental industry for over 15 years."},{name:"Ali Z.",role:"Operations Director",image:"https://i.pravatar.cc/200?img=1",bio:"Specialist in fleet management and customer satisfaction."},{name:"Dib Bailoun",role:"Fleet Manager",image:"https://media.licdn.com/dms/image/v2/D4E03AQG5-k6KT0xAkQ/profile-displayphoto-shrink_800_800/profile-displayphoto-shrink_800_800/0/1676234982153?e=1766620800&v=beta&t=9DRUyjBNMmfBBksjIy_xP0VADrIcR6ikoHK2R8bUPjM",bio:"Ensures all cars meet the highest maintenance and safety standards."},{name:"Ahmad",role:"Customer Relations",image:"https://i.pravatar.cc/200?img=1",bio:"Dedicated to providing fast and friendly rental service."}];return e.jsxs("div",{className:"min-h-screen pt-20",children:[e.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"CarRental",name:"Rento LB",url:"https://rento-lb.com",address:{"@type":"PostalAddress",addressCountry:"LB",addressLocality:"Beirut",streetAddress:"Beirut, Lebanon"},description:"Rent a car in Lebanon  luxury, SUV, sedan, economy cars. Beirut airport delivery. Affordable daily and monthly prices.",openingHours:"Mo-Su 00:00-23:59",telephone:"+961 81 001301",image:"https://rento-lb.com/og-image.jpg"})}),e.jsx("section",{className:"relative py-20 bg-gradient-to-br from-primary/5 via-secondary/5 to-accent/5",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[e.jsx(Me,{className:"mb-4 bg-secondary/10 text-secondary border-secondary/20",children:"About Rento LB"}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"The #1 Car Rental Company in Lebanon"}),e.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"RENTO LB provides premium, affordable, and reliable car rental services across Lebanon. With 15+ years of experience, we offer luxury, SUV, and economy cars with airport pickup, 24/7 support, and delivery anywhere in Beirut and surrounding cities."})]})})}),e.jsx("section",{className:"py-12 bg-card border-y border-border",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:s.map((n,r)=>e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-3xl md:text-4xl font-bold gradient-text-accent mb-2",children:n.value}),e.jsx("p",{className:"text-muted-foreground",children:n.label})]},r))})})}),e.jsx("section",{className:"py-20",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[e.jsxs("div",{children:[e.jsx(Me,{className:"mb-4 bg-primary/10 text-primary border-primary/20",children:"Our Story"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Leading the Car Rental Industry in Lebanon"}),e.jsxs("div",{className:"space-y-4 text-muted-foreground leading-relaxed",children:[e.jsx("p",{children:"Rento LB started with a mission to offer safe, reliable, and affordable car rental services in Lebanon. Since 2008, weve grown into one of the leading rental companies in Beirut, serving thousands of happy clients every year."}),e.jsx("p",{children:"We offer a full range of vehiclesfrom economic cars for everyday use, to SUVs for families, to luxury cars for special occasions."}),e.jsx("p",{children:"Whether you're a tourist or a resident, our goal is to deliver the best car rental experience with transparent pricing, clean vehicles, and fast service."})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1492144534655-ae79c964c9d7?w=600&q=80",alt:"Affordable luxury car rental in Beirut Lebanon - Rento LB",className:"rounded-2xl w-full h-64 object-cover hover-glow"}),e.jsx("img",{src:"https://images.unsplash.com/photo-1555215695-3004980ad54e?w=600&q=80",alt:"Rent a BMW in Beirut Lebanon - Cheap car rental",className:"rounded-2xl w-full h-64 object-cover hover-glow mt-8"}),e.jsx("img",{src:"https://images.unsplash.com/photo-1503376780353-7e6692767b70?w=600&q=80",alt:"Best car rental company in Lebanon - Rento LB",className:"rounded-2xl w-full h-64 object-cover hover-glow"}),e.jsx("img",{src:"https://images.unsplash.com/photo-1618843479313-40f8afb4b4d8?w=600&q=80",alt:"SUV rental in Beirut Lebanon",className:"rounded-2xl w-full h-64 object-cover hover-glow mt-8"})]})]})})}),e.jsx("section",{className:"py-20 bg-muted/30",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx(Me,{className:"mb-4 bg-accent/10 text-accent-foreground border-accent/20",children:"Our Values"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Why Customers Choose Rento LB"}),e.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"We focus on reliability, transparency, and exceptional service across Lebanon."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((n,r)=>e.jsx(Te,{className:"text-center hover-glow transition-all",children:e.jsxs(Re,{className:"pt-8 pb-8",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-primary to-secondary flex items-center justify-center mx-auto mb-4",children:e.jsx(n.icon,{className:"w-8 h-8 text-primary-foreground"})}),e.jsx("h3",{className:"text-xl font-bold mb-3",children:n.title}),e.jsx("p",{className:"text-muted-foreground",children:n.description})]})},r))})]})}),e.jsx("section",{className:"py-20",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx(Me,{className:"mb-4 bg-secondary/10 text-secondary border-secondary/20",children:"Our Lebanese Team"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Meet the People Behind Rento LB"}),e.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Our experienced team ensures the highest level of service in the Lebanese car rental industry."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map((n,r)=>e.jsxs(Te,{className:"overflow-hidden hover-glow transition-all",children:[e.jsx("div",{className:"aspect-square overflow-hidden",children:e.jsx("img",{src:n.image,alt:`${n.name} - Rento LB Car Rental Lebanon`,className:"w-full h-full object-cover"})}),e.jsxs(Re,{className:"p-6 text-center",children:[e.jsx("h3",{className:"text-xl font-bold mb-1",children:n.name}),e.jsx("p",{className:"text-secondary font-medium mb-2",children:n.role}),e.jsx("p",{className:"text-sm text-muted-foreground",children:n.bio})]})]},r))})]})}),e.jsxs("section",{className:"py-20 bg-gradient-to-br from-primary via-primary-light to-secondary relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 opacity-10",children:[e.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-white rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-accent rounded-full blur-3xl"})]}),e.jsxs("div",{className:"container mx-auto px-4 relative z-10 text-center",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Book Your Car Rental in Lebanon Today"}),e.jsx("p",{className:"text-lg text-white/90 mb-8 max-w-2xl mx-auto",children:"Select your car and enjoy fast delivery anywhere in Lebanon."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx("a",{href:"/cars",children:e.jsx("button",{className:"px-8 py-3 bg-white text-primary hover:bg-white/90 font-semibold rounded-lg transition-smooth",children:"View Available Cars"})}),e.jsx("a",{href:"/contact",children:e.jsx("button",{className:"px-8 py-3 border-2 border-white text-white hover:bg-white/10 font-semibold rounded-lg transition-smooth",children:"Contact Rento LB"})})]})]})]})]})},tn=y.forwardRef(({className:t,...s},a)=>e.jsx("textarea",{className:mt("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...s}));tn.displayName="Textarea";const qW=()=>{const[t,s]=y.useState({name:"",email:"",phone:"",subject:"",message:""}),a=i=>{i.preventDefault(),se.success("Message sent successfully! We'll get back to you soon.",{duration:5e3}),s({name:"",email:"",phone:"",subject:"",message:""})},n=[{icon:bs,title:"Visit Us",details:["Mount Liban","Baouchrieh, Lebanon"],color:"from-primary to-primary-light"},{icon:Gr,title:"Call Us",details:["+961 (81) 001-301"],color:"from-secondary to-secondary-light"},{icon:Nr,title:"Email Us",details:["social@rento-lb.com"],color:"from-accent to-accent-light"},{icon:hu,title:"Business Hours",details:["24/7"],color:"from-primary-dark to-secondary"}],r=[{city:"London",address:"124-128 City Road, London, England, EC1V 2NX",phone:"Not available"},{city:"Mount Liban",address:"Baouchrieh, Lebanon",phone:"+961 (81) 001-301"}];return e.jsxs("div",{className:"min-h-screen pt-20",children:[e.jsx("section",{className:"bg-gradient-to-br from-primary/5 via-secondary/5 to-accent/5 py-12",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[e.jsx(Me,{className:"mb-4 bg-secondary/10 text-secondary border-secondary/20",children:"Contact Us"}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Get in Touch"}),e.jsx("p",{className:"text-lg text-muted-foreground",children:"Have questions? We're here to help. Reach out to our team for any inquiries about our vehicles or services."})]})})}),e.jsxs("div",{className:"container mx-auto px-4 py-12",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:n.map((i,l)=>e.jsx(Te,{className:"hover-glow transition-all",children:e.jsxs(Re,{className:"pt-6 text-center",children:[e.jsx("div",{className:`w-16 h-16 rounded-2xl bg-gradient-to-br ${i.color} flex items-center justify-center mx-auto mb-4`,children:e.jsx(i.icon,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"font-bold text-lg mb-3",children:i.title}),i.details.map((d,u)=>e.jsx("p",{className:"text-muted-foreground text-sm",children:d},u))]})},l))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[e.jsx(Te,{children:e.jsxs(Re,{className:"p-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Send Us a Message"}),e.jsxs("form",{onSubmit:a,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(q,{htmlFor:"name",children:"Full Name *"}),e.jsx(oe,{id:"name",required:!0,value:t.name,onChange:i=>s({...t,name:i.target.value}),placeholder:"John Doe"})]}),e.jsxs("div",{children:[e.jsx(q,{htmlFor:"email",children:"Email Address *"}),e.jsx(oe,{id:"email",type:"email",required:!0,value:t.email,onChange:i=>s({...t,email:i.target.value}),placeholder:"john@example.com"})]}),e.jsxs("div",{children:[e.jsx(q,{htmlFor:"phone",children:"Phone Number"}),e.jsx(oe,{id:"phone",type:"tel",value:t.phone,onChange:i=>s({...t,phone:i.target.value}),placeholder:"+96181001301"})]}),e.jsxs("div",{children:[e.jsx(q,{htmlFor:"subject",children:"Subject *"}),e.jsx(oe,{id:"subject",required:!0,value:t.subject,onChange:i=>s({...t,subject:i.target.value}),placeholder:"How can we help you?"})]}),e.jsxs("div",{children:[e.jsx(q,{htmlFor:"message",children:"Message *"}),e.jsx(tn,{id:"message",required:!0,value:t.message,onChange:i=>s({...t,message:i.target.value}),placeholder:"Tell us more about your inquiry...",rows:6})]}),e.jsxs(K,{type:"submit",size:"lg",className:"w-full bg-secondary hover:bg-secondary-light text-secondary-foreground font-semibold",children:[e.jsx(rx,{className:"w-5 h-5 mr-2"}),"Send Message"]})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(Te,{className:"overflow-hidden",children:e.jsx("a",{href:"https://www.google.com/maps?q=33.8861985,35.5591084",target:"_blank",rel:"noopener noreferrer",children:e.jsxs("div",{className:"aspect-video bg-muted relative cursor-pointer",children:[e.jsx("img",{src:"https://www.mountain-forecast.com/locationmaps/Mount-Lebanon.10.gif",alt:"Map Location",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),e.jsxs("div",{className:"absolute bottom-4 left-4 text-white",children:[e.jsx("p",{className:"font-bold text-lg",children:"Main Office"}),e.jsx("p",{className:"text-sm",children:"Mount Liban, Baouchrieh, Lebanon"})]})]})})}),e.jsx(Te,{children:e.jsxs(Re,{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Our Locations"}),e.jsx("div",{className:"space-y-4",children:r.map((i,l)=>e.jsxs("div",{className:"pb-4 border-b border-border last:border-0 last:pb-0",children:[e.jsx("h4",{className:"font-semibold text-lg mb-1",children:i.city}),e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:i.address}),e.jsx("p",{className:"text-sm text-secondary font-medium",children:i.phone})]},l))})]})})]})]}),e.jsxs("section",{className:"mt-20",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx(Me,{className:"mb-4 bg-accent/10 text-accent-foreground border-accent/20",children:"FAQ"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Frequently Asked Questions"}),e.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Find quick answers to common questions about our services"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-5xl mx-auto",children:[e.jsx(Te,{children:e.jsxs(Re,{className:"p-6",children:[e.jsx("h3",{className:"font-bold text-lg mb-2",children:"What documents do I need to rent?"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"You'll need a valid driver's license, a major credit card in your name, and proof of insurance. International customers may need additional documentation."})]})}),e.jsx(Te,{children:e.jsxs(Re,{className:"p-6",children:[e.jsx("h3",{className:"font-bold text-lg mb-2",children:"What's your cancellation policy?"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Free cancellation up to 48 hours before pickup. Cancellations within 48 hours may incur a fee. Please contact us for specific details."})]})}),e.jsx(Te,{children:e.jsxs(Re,{className:"p-6",children:[e.jsx("h3",{className:"font-bold text-lg mb-2",children:"Is insurance included?"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Basic insurance is included with all rentals. Additional coverage options are available for purchase during booking."})]})}),e.jsx(Te,{children:e.jsxs(Re,{className:"p-6",children:[e.jsx("h3",{className:"font-bold text-lg mb-2",children:"Can I extend my rental period?"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Yes! Contact us at least 24 hours before your scheduled return to extend your rental, subject to vehicle availability."})]})}),e.jsx(Te,{children:e.jsxs(Re,{className:"p-6",children:[e.jsx("h3",{className:"font-bold text-lg mb-2",children:"Do you offer airport pickup?"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Absolutely! We offer complimentary airport pickup and drop-off at major airports. Please specify this when booking."})]})}),e.jsx(Te,{children:e.jsxs(Re,{className:"p-6",children:[e.jsx("h3",{className:"font-bold text-lg mb-2",children:"What's the minimum rental period?"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Our minimum rental period is 24 hours. We also offer attractive rates for weekly and monthly rentals."})]})})]})]})]})]})};function sr(t){const s=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&s==="[object Date]"?new t.constructor(+t):typeof t=="number"||s==="[object Number]"||typeof t=="string"||s==="[object String]"?new Date(t):new Date(NaN)}function Fc(t,s){return t instanceof Date?new t.constructor(s):new Date(s)}const f5=6048e5,GW=864e5;let WW={};function Tx(){return WW}function im(t,s){const a=Tx(),n=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,r=sr(t),i=r.getDay(),l=(i<n?7:0)+i-n;return r.setDate(r.getDate()-l),r.setHours(0,0,0,0),r}function Mg(t){return im(t,{weekStartsOn:1})}function p5(t){const s=sr(t),a=s.getFullYear(),n=Fc(t,0);n.setFullYear(a+1,0,4),n.setHours(0,0,0,0);const r=Mg(n),i=Fc(t,0);i.setFullYear(a,0,4),i.setHours(0,0,0,0);const l=Mg(i);return s.getTime()>=r.getTime()?a+1:s.getTime()>=l.getTime()?a:a-1}function qk(t){const s=sr(t);return s.setHours(0,0,0,0),s}function Gk(t){const s=sr(t),a=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()));return a.setUTCFullYear(s.getFullYear()),+t-+a}function g5(t,s){const a=qk(t),n=qk(s),r=+a-Gk(a),i=+n-Gk(n);return Math.round((r-i)/GW)}function YW(t){const s=p5(t),a=Fc(t,0);return a.setFullYear(s,0,4),a.setHours(0,0,0,0),Mg(a)}function KW(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function XW(t){if(!KW(t)&&typeof t!="number")return!1;const s=sr(t);return!isNaN(Number(s))}function QW(t,s){const a=sr(t),n=sr(s),r=Wk(a,n),i=Math.abs(g5(a,n));a.setDate(a.getDate()-r*i);const l=+(Wk(a,n)===-r),d=r*(i-l);return d===0?0:d}function Wk(t,s){const a=t.getFullYear()-s.getFullYear()||t.getMonth()-s.getMonth()||t.getDate()-s.getDate()||t.getHours()-s.getHours()||t.getMinutes()-s.getMinutes()||t.getSeconds()-s.getSeconds()||t.getMilliseconds()-s.getMilliseconds();return a<0?-1:a>0?1:a}function ZW(t){const s=sr(t),a=Fc(t,0);return a.setFullYear(s.getFullYear(),0,1),a.setHours(0,0,0,0),a}const JW={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},eY=(t,s,a)=>{let n;const r=JW[t];return typeof r=="string"?n=r:s===1?n=r.one:n=r.other.replace("{{count}}",s.toString()),a?.addSuffix?a.comparison&&a.comparison>0?"in "+n:n+" ago":n};function Ab(t){return(s={})=>{const a=s.width?String(s.width):t.defaultWidth;return t.formats[a]||t.formats[t.defaultWidth]}}const tY={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},sY={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},aY={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},nY={date:Ab({formats:tY,defaultWidth:"full"}),time:Ab({formats:sY,defaultWidth:"full"}),dateTime:Ab({formats:aY,defaultWidth:"full"})},rY={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},iY=(t,s,a,n)=>rY[t];function Ch(t){return(s,a)=>{const n=a?.context?String(a.context):"standalone";let r;if(n==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,d=a?.width?String(a.width):l;r=t.formattingValues[d]||t.formattingValues[l]}else{const l=t.defaultWidth,d=a?.width?String(a.width):t.defaultWidth;r=t.values[d]||t.values[l]}const i=t.argumentCallback?t.argumentCallback(s):s;return r[i]}}const oY={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},lY={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},cY={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},dY={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},uY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},hY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},mY=(t,s)=>{const a=Number(t),n=a%100;if(n>20||n<10)switch(n%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},fY={ordinalNumber:mY,era:Ch({values:oY,defaultWidth:"wide"}),quarter:Ch({values:lY,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ch({values:cY,defaultWidth:"wide"}),day:Ch({values:dY,defaultWidth:"wide"}),dayPeriod:Ch({values:uY,defaultWidth:"wide",formattingValues:hY,defaultFormattingWidth:"wide"})};function kh(t){return(s,a={})=>{const n=a.width,r=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=s.match(r);if(!i)return null;const l=i[0],d=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(d)?gY(d,f=>f.test(l)):pY(d,f=>f.test(l));let h;h=t.valueCallback?t.valueCallback(u):u,h=a.valueCallback?a.valueCallback(h):h;const p=s.slice(l.length);return{value:h,rest:p}}}function pY(t,s){for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)&&s(t[a]))return a}function gY(t,s){for(let a=0;a<t.length;a++)if(s(t[a]))return a}function xY(t){return(s,a={})=>{const n=s.match(t.matchPattern);if(!n)return null;const r=n[0],i=s.match(t.parsePattern);if(!i)return null;let l=t.valueCallback?t.valueCallback(i[0]):i[0];l=a.valueCallback?a.valueCallback(l):l;const d=s.slice(r.length);return{value:l,rest:d}}}const yY=/^(\d+)(th|st|nd|rd)?/i,bY=/\d+/i,vY={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},jY={any:[/^b/i,/^(a|c)/i]},wY={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},NY={any:[/1/i,/2/i,/3/i,/4/i]},_Y={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},CY={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},kY={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},SY={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},AY={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},TY={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},DY={ordinalNumber:xY({matchPattern:yY,parsePattern:bY,valueCallback:t=>parseInt(t,10)}),era:kh({matchPatterns:vY,defaultMatchWidth:"wide",parsePatterns:jY,defaultParseWidth:"any"}),quarter:kh({matchPatterns:wY,defaultMatchWidth:"wide",parsePatterns:NY,defaultParseWidth:"any",valueCallback:t=>t+1}),month:kh({matchPatterns:_Y,defaultMatchWidth:"wide",parsePatterns:CY,defaultParseWidth:"any"}),day:kh({matchPatterns:kY,defaultMatchWidth:"wide",parsePatterns:SY,defaultParseWidth:"any"}),dayPeriod:kh({matchPatterns:AY,defaultMatchWidth:"any",parsePatterns:TY,defaultParseWidth:"any"})},EY={code:"en-US",formatDistance:eY,formatLong:nY,formatRelative:iY,localize:fY,match:DY,options:{weekStartsOn:0,firstWeekContainsDate:1}};function RY(t){const s=sr(t);return g5(s,ZW(s))+1}function MY(t){const s=sr(t),a=+Mg(s)-+YW(s);return Math.round(a/f5)+1}function x5(t,s){const a=sr(t),n=a.getFullYear(),r=Tx(),i=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,l=Fc(t,0);l.setFullYear(n+1,0,i),l.setHours(0,0,0,0);const d=im(l,s),u=Fc(t,0);u.setFullYear(n,0,i),u.setHours(0,0,0,0);const h=im(u,s);return a.getTime()>=d.getTime()?n+1:a.getTime()>=h.getTime()?n:n-1}function PY(t,s){const a=Tx(),n=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,r=x5(t,s),i=Fc(t,0);return i.setFullYear(r,0,n),i.setHours(0,0,0,0),im(i,s)}function OY(t,s){const a=sr(t),n=+im(a,s)-+PY(a,s);return Math.round(n/f5)+1}function Ns(t,s){const a=t<0?"-":"",n=Math.abs(t).toString().padStart(s,"0");return a+n}const al={y(t,s){const a=t.getFullYear(),n=a>0?a:1-a;return Ns(s==="yy"?n%100:n,s.length)},M(t,s){const a=t.getMonth();return s==="M"?String(a+1):Ns(a+1,2)},d(t,s){return Ns(t.getDate(),s.length)},a(t,s){const a=t.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h(t,s){return Ns(t.getHours()%12||12,s.length)},H(t,s){return Ns(t.getHours(),s.length)},m(t,s){return Ns(t.getMinutes(),s.length)},s(t,s){return Ns(t.getSeconds(),s.length)},S(t,s){const a=s.length,n=t.getMilliseconds(),r=Math.trunc(n*Math.pow(10,a-3));return Ns(r,s.length)}},Ed={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Yk={G:function(t,s,a){const n=t.getFullYear()>0?1:0;switch(s){case"G":case"GG":case"GGG":return a.era(n,{width:"abbreviated"});case"GGGGG":return a.era(n,{width:"narrow"});case"GGGG":default:return a.era(n,{width:"wide"})}},y:function(t,s,a){if(s==="yo"){const n=t.getFullYear(),r=n>0?n:1-n;return a.ordinalNumber(r,{unit:"year"})}return al.y(t,s)},Y:function(t,s,a,n){const r=x5(t,n),i=r>0?r:1-r;if(s==="YY"){const l=i%100;return Ns(l,2)}return s==="Yo"?a.ordinalNumber(i,{unit:"year"}):Ns(i,s.length)},R:function(t,s){const a=p5(t);return Ns(a,s.length)},u:function(t,s){const a=t.getFullYear();return Ns(a,s.length)},Q:function(t,s,a){const n=Math.ceil((t.getMonth()+1)/3);switch(s){case"Q":return String(n);case"QQ":return Ns(n,2);case"Qo":return a.ordinalNumber(n,{unit:"quarter"});case"QQQ":return a.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,s,a){const n=Math.ceil((t.getMonth()+1)/3);switch(s){case"q":return String(n);case"qq":return Ns(n,2);case"qo":return a.ordinalNumber(n,{unit:"quarter"});case"qqq":return a.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,s,a){const n=t.getMonth();switch(s){case"M":case"MM":return al.M(t,s);case"Mo":return a.ordinalNumber(n+1,{unit:"month"});case"MMM":return a.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(n,{width:"wide",context:"formatting"})}},L:function(t,s,a){const n=t.getMonth();switch(s){case"L":return String(n+1);case"LL":return Ns(n+1,2);case"Lo":return a.ordinalNumber(n+1,{unit:"month"});case"LLL":return a.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(n,{width:"wide",context:"standalone"})}},w:function(t,s,a,n){const r=OY(t,n);return s==="wo"?a.ordinalNumber(r,{unit:"week"}):Ns(r,s.length)},I:function(t,s,a){const n=MY(t);return s==="Io"?a.ordinalNumber(n,{unit:"week"}):Ns(n,s.length)},d:function(t,s,a){return s==="do"?a.ordinalNumber(t.getDate(),{unit:"date"}):al.d(t,s)},D:function(t,s,a){const n=RY(t);return s==="Do"?a.ordinalNumber(n,{unit:"dayOfYear"}):Ns(n,s.length)},E:function(t,s,a){const n=t.getDay();switch(s){case"E":case"EE":case"EEE":return a.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(n,{width:"short",context:"formatting"});case"EEEE":default:return a.day(n,{width:"wide",context:"formatting"})}},e:function(t,s,a,n){const r=t.getDay(),i=(r-n.weekStartsOn+8)%7||7;switch(s){case"e":return String(i);case"ee":return Ns(i,2);case"eo":return a.ordinalNumber(i,{unit:"day"});case"eee":return a.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(r,{width:"short",context:"formatting"});case"eeee":default:return a.day(r,{width:"wide",context:"formatting"})}},c:function(t,s,a,n){const r=t.getDay(),i=(r-n.weekStartsOn+8)%7||7;switch(s){case"c":return String(i);case"cc":return Ns(i,s.length);case"co":return a.ordinalNumber(i,{unit:"day"});case"ccc":return a.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(r,{width:"narrow",context:"standalone"});case"cccccc":return a.day(r,{width:"short",context:"standalone"});case"cccc":default:return a.day(r,{width:"wide",context:"standalone"})}},i:function(t,s,a){const n=t.getDay(),r=n===0?7:n;switch(s){case"i":return String(r);case"ii":return Ns(r,s.length);case"io":return a.ordinalNumber(r,{unit:"day"});case"iii":return a.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(n,{width:"short",context:"formatting"});case"iiii":default:return a.day(n,{width:"wide",context:"formatting"})}},a:function(t,s,a){const r=t.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,s,a){const n=t.getHours();let r;switch(n===12?r=Ed.noon:n===0?r=Ed.midnight:r=n/12>=1?"pm":"am",s){case"b":case"bb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,s,a){const n=t.getHours();let r;switch(n>=17?r=Ed.evening:n>=12?r=Ed.afternoon:n>=4?r=Ed.morning:r=Ed.night,s){case"B":case"BB":case"BBB":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,s,a){if(s==="ho"){let n=t.getHours()%12;return n===0&&(n=12),a.ordinalNumber(n,{unit:"hour"})}return al.h(t,s)},H:function(t,s,a){return s==="Ho"?a.ordinalNumber(t.getHours(),{unit:"hour"}):al.H(t,s)},K:function(t,s,a){const n=t.getHours()%12;return s==="Ko"?a.ordinalNumber(n,{unit:"hour"}):Ns(n,s.length)},k:function(t,s,a){let n=t.getHours();return n===0&&(n=24),s==="ko"?a.ordinalNumber(n,{unit:"hour"}):Ns(n,s.length)},m:function(t,s,a){return s==="mo"?a.ordinalNumber(t.getMinutes(),{unit:"minute"}):al.m(t,s)},s:function(t,s,a){return s==="so"?a.ordinalNumber(t.getSeconds(),{unit:"second"}):al.s(t,s)},S:function(t,s){return al.S(t,s)},X:function(t,s,a){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(s){case"X":return Xk(n);case"XXXX":case"XX":return fc(n);case"XXXXX":case"XXX":default:return fc(n,":")}},x:function(t,s,a){const n=t.getTimezoneOffset();switch(s){case"x":return Xk(n);case"xxxx":case"xx":return fc(n);case"xxxxx":case"xxx":default:return fc(n,":")}},O:function(t,s,a){const n=t.getTimezoneOffset();switch(s){case"O":case"OO":case"OOO":return"GMT"+Kk(n,":");case"OOOO":default:return"GMT"+fc(n,":")}},z:function(t,s,a){const n=t.getTimezoneOffset();switch(s){case"z":case"zz":case"zzz":return"GMT"+Kk(n,":");case"zzzz":default:return"GMT"+fc(n,":")}},t:function(t,s,a){const n=Math.trunc(t.getTime()/1e3);return Ns(n,s.length)},T:function(t,s,a){const n=t.getTime();return Ns(n,s.length)}};function Kk(t,s=""){const a=t>0?"-":"+",n=Math.abs(t),r=Math.trunc(n/60),i=n%60;return i===0?a+String(r):a+String(r)+s+Ns(i,2)}function Xk(t,s){return t%60===0?(t>0?"-":"+")+Ns(Math.abs(t)/60,2):fc(t,s)}function fc(t,s=""){const a=t>0?"-":"+",n=Math.abs(t),r=Ns(Math.trunc(n/60),2),i=Ns(n%60,2);return a+r+s+i}const Qk=(t,s)=>{switch(t){case"P":return s.date({width:"short"});case"PP":return s.date({width:"medium"});case"PPP":return s.date({width:"long"});case"PPPP":default:return s.date({width:"full"})}},y5=(t,s)=>{switch(t){case"p":return s.time({width:"short"});case"pp":return s.time({width:"medium"});case"ppp":return s.time({width:"long"});case"pppp":default:return s.time({width:"full"})}},LY=(t,s)=>{const a=t.match(/(P+)(p+)?/)||[],n=a[1],r=a[2];if(!r)return Qk(t,s);let i;switch(n){case"P":i=s.dateTime({width:"short"});break;case"PP":i=s.dateTime({width:"medium"});break;case"PPP":i=s.dateTime({width:"long"});break;case"PPPP":default:i=s.dateTime({width:"full"});break}return i.replace("{{date}}",Qk(n,s)).replace("{{time}}",y5(r,s))},BY={p:y5,P:LY},FY=/^D+$/,IY=/^Y+$/,$Y=["D","DD","YY","YYYY"];function zY(t){return FY.test(t)}function VY(t){return IY.test(t)}function UY(t,s,a){const n=HY(t,s,a);if(console.warn(n),$Y.includes(t))throw new RangeError(n)}function HY(t,s,a){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${s}\`) for formatting ${n} to the input \`${a}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const qY=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,GY=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,WY=/^'([^]*?)'?$/,YY=/''/g,KY=/[a-zA-Z]/;function Zk(t,s,a){const n=Tx(),r=n.locale??EY,i=n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,l=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,d=sr(t);if(!XW(d))throw new RangeError("Invalid time value");let u=s.match(GY).map(p=>{const f=p[0];if(f==="p"||f==="P"){const x=BY[f];return x(p,r.formatLong)}return p}).join("").match(qY).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const f=p[0];if(f==="'")return{isToken:!1,value:XY(p)};if(Yk[f])return{isToken:!0,value:p};if(f.match(KY))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:p}});r.localize.preprocessor&&(u=r.localize.preprocessor(d,u));const h={firstWeekContainsDate:i,weekStartsOn:l,locale:r};return u.map(p=>{if(!p.isToken)return p.value;const f=p.value;(VY(f)||zY(f))&&UY(f,s,String(t));const x=Yk[f[0]];return x(d,f,r.localize,h)}).join("")}function XY(t){const s=t.match(WY);return s?s[1].replace(YY,"'"):t}const QY=()=>{const t=Ua(),[s,a]=y.useState([]),[n,r]=y.useState([]),[i,l]=y.useState("all"),[d,u]=y.useState(!0),[h,p]=y.useState(null);y.useEffect(()=>{(async()=>{try{const k=(await xe.get("/driver/bookings/client")).data.bookings.data;a(k),r(k)}catch(N){console.error("Error fetching bookings:",N),p("Failed to load bookings"),se.error("Could not load your bookings")}finally{u(!1)}})()},[]),y.useEffect(()=>{r(i==="all"?s:s.filter(_=>_.booking_request_status===i))},[i,s]);const f=_=>{const N={pending:{text:"Pending",icon:e.jsx(S$,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),color:"bg-gradient-to-r from-yellow-100 to-amber-100 text-yellow-800 border-yellow-200 dark:from-yellow-900/30 dark:to-amber-900/30 dark:text-yellow-300 dark:border-yellow-700",badgeClass:"bg-yellow-500"},confirmed:{text:"Confirmed",icon:e.jsx(Rn,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),color:"bg-gradient-to-r from-green-100 to-emerald-100 text-green-800 border-green-200 dark:from-green-900/30 dark:to-emerald-900/30 dark:text-green-300 dark:border-green-700",badgeClass:"bg-green-500"},cancelled:{text:"Cancelled",icon:e.jsx(tr,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),color:"bg-gradient-to-r from-gray-100 to-slate-100 text-gray-800 border-gray-200 dark:from-gray-800/30 dark:to-slate-800/30 dark:text-gray-300 dark:border-gray-700",badgeClass:"bg-gray-500"},rejected:{text:"Rejected",icon:e.jsx(pl,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),color:"bg-gradient-to-r from-red-100 to-rose-100 text-red-800 border-red-200 dark:from-red-900/30 dark:to-rose-900/30 dark:text-red-300 dark:border-red-700",badgeClass:"bg-red-500"},completed:{text:"Completed",icon:e.jsx(Rn,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),color:"bg-gradient-to-r from-blue-100 to-cyan-100 text-blue-800 border-blue-200 dark:from-blue-900/30 dark:to-cyan-900/30 dark:text-blue-300 dark:border-blue-700",badgeClass:"bg-blue-500"}};return N[_]||N.pending},x=(_,N,k)=>{!_||!N||_===0||N===0||window.open(`https://www.google.com/maps?q=${_},${N}`,"_blank")},v=_=>Zk(new Date(_),"MMM dd, yyyy"),j=_=>Zk(new Date(_),"h:mm a"),w=({car:_})=>{const[N,k]=y.useState(0),D=[_.main_image_url,_.front_image_url,_.back_image_url,_.left_image_url,_.right_image_url].filter(Boolean),T=()=>k(G=>(G+1)%D.length),E=()=>k(G=>(G-1+D.length)%D.length);return D.length?e.jsxs("div",{className:"relative group aspect-[16/10] rounded-t-xl overflow-hidden bg-gray-900",children:[e.jsx("img",{src:`/api/storage/${D[N]}`,alt:"Car",className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),D.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:E,className:"absolute left-2 sm:left-3 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white text-gray-900 p-1.5 sm:p-2 rounded-full opacity-0 group-hover:opacity-100 transition-all duration-300 shadow-lg hover:scale-110 active:scale-95",children:e.jsx(yo,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),e.jsx("button",{onClick:T,className:"absolute right-2 sm:right-3 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white text-gray-900 p-1.5 sm:p-2 rounded-full opacity-0 group-hover:opacity-100 transition-all duration-300 shadow-lg hover:scale-110 active:scale-95",children:e.jsx(sn,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),e.jsx("div",{className:"absolute bottom-3 sm:bottom-4 left-1/2 -translate-x-1/2 flex gap-1.5 sm:gap-2",children:D.map((G,A)=>e.jsx("button",{onClick:()=>k(A),className:`transition-all duration-300 rounded-full ${A===N?"bg-white w-6 sm:w-8 h-1.5 sm:h-2":"bg-white/60 hover:bg-white/80 w-1.5 sm:w-2 h-1.5 sm:h-2"}`},A))})]})]}):e.jsx("div",{className:"aspect-[16/10] bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900 border-2 border-dashed rounded-t-xl flex items-center justify-center",children:e.jsx(zt,{className:"w-12 h-12 sm:w-16 sm:h-16 text-gray-400"})})};return d?e.jsx("div",{className:"min-h-screen pt-16 sm:pt-20 flex items-center justify-center bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-900 dark:via-gray-900 dark:to-gray-800 px-4",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"relative w-16 h-16 sm:w-20 sm:h-20 mx-auto",children:[e.jsx("div",{className:"absolute inset-0 border-4 border-teal-200 dark:border-teal-900 rounded-full"}),e.jsx("div",{className:"absolute inset-0 border-4 border-teal-600 border-t-transparent rounded-full animate-spin"})]}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground font-medium",children:"Loading your bookings..."})]})}):h?e.jsx("div",{className:"min-h-screen pt-16 sm:pt-20 bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-900 dark:via-gray-900 dark:to-gray-800 px-4",children:e.jsx("div",{className:"container mx-auto py-8 sm:py-12 max-w-2xl",children:e.jsxs(Te,{className:"p-8 sm:p-12 text-center border-2 shadow-xl",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6",children:e.jsx(pl,{className:"w-8 h-8 sm:w-10 sm:h-10 text-red-600 dark:text-red-400"})}),e.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-3",children:"Oops! Something went wrong"}),e.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mb-6 sm:mb-8",children:h}),e.jsx(K,{onClick:()=>window.location.reload(),size:"lg",className:"bg-teal-600 hover:bg-teal-700 w-full sm:w-auto",children:"Try Again"})]})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-900 dark:via-gray-900 dark:to-gray-800 pt-16 sm:pt-20",children:e.jsxs("div",{className:"container mx-auto px-3 sm:px-4 py-4 sm:py-8 max-w-7xl",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 sm:gap-4 mb-6 sm:mb-8",children:[e.jsxs(K,{variant:"ghost",onClick:()=>t(-1),className:"hover:bg-teal-50 dark:hover:bg-teal-900/20 transition-colors -ml-2 sm:ml-0 h-9 sm:h-10 px-2 sm:px-4",size:"sm",children:[e.jsx(xi,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-1 sm:mr-2"}),e.jsx("span",{className:"text-sm sm:text-base",children:"Back"})]}),e.jsxs("div",{className:"text-left sm:text-center flex-1 w-full sm:w-auto",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent mb-1 sm:mb-2",children:"My Bookings"}),e.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground",children:[s.length," ",s.length===1?"booking":"bookings"," total"]})]}),e.jsx("div",{className:"hidden sm:block w-[100px]"})," "]}),e.jsx("div",{className:"mb-6 sm:mb-8 -mx-3 sm:mx-0 px-3 sm:px-0 overflow-x-auto scrollbar-hide",children:e.jsx(uo,{value:i,onValueChange:l,children:e.jsxs(ki,{className:"inline-flex sm:grid w-auto sm:w-full min-w-full sm:max-w-3xl sm:mx-auto grid-cols-6 h-11 sm:h-14 bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm border shadow-lg gap-0.5 sm:gap-1 p-1",children:[e.jsx(Pt,{value:"all",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-teal-500 data-[state=active]:to-cyan-500 data-[state=active]:text-white font-medium text-xs sm:text-sm px-2 sm:px-4 whitespace-nowrap",children:"All"}),e.jsxs(Pt,{value:"confirmed",className:"data-[state=active]:bg-green-500 data-[state=active]:text-white font-medium text-xs sm:text-sm px-2 sm:px-4 whitespace-nowrap",children:[e.jsx("span",{className:"hidden sm:inline",children:"Confirmed"}),e.jsx("span",{className:"sm:hidden",children:"Confirm"})]}),e.jsx(Pt,{value:"pending",className:"data-[state=active]:bg-yellow-500 data-[state=active]:text-white font-medium text-xs sm:text-sm px-2 sm:px-4 whitespace-nowrap",children:"Pending"}),e.jsxs(Pt,{value:"cancelled",className:"data-[state=active]:bg-gray-500 data-[state=active]:text-white font-medium text-xs sm:text-sm px-2 sm:px-4 whitespace-nowrap",children:[e.jsx("span",{className:"hidden sm:inline",children:"Cancelled"}),e.jsx("span",{className:"sm:hidden",children:"Cancel"})]}),e.jsx(Pt,{value:"rejected",className:"data-[state=active]:bg-red-500 data-[state=active]:text-white font-medium text-xs sm:text-sm px-2 sm:px-4 whitespace-nowrap",children:"Rejected"}),e.jsxs(Pt,{value:"completed",className:"data-[state=active]:bg-blue-500 data-[state=active]:text-white font-medium text-xs sm:text-sm px-2 sm:px-4 whitespace-nowrap",children:[e.jsx("span",{className:"hidden sm:inline",children:"Completed"}),e.jsx("span",{className:"sm:hidden",children:"Done"})]})]})})}),n.length===0?e.jsxs(Te,{className:"p-8 sm:p-16 text-center max-w-2xl mx-auto border-2 shadow-xl bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm",children:[e.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 bg-gradient-to-br from-teal-100 to-cyan-100 dark:from-teal-900/30 dark:to-cyan-900/30 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6",children:e.jsx(zt,{className:"w-10 h-10 sm:w-12 sm:h-12 text-teal-600 dark:text-teal-400"})}),e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-3 sm:mb-4",children:i==="all"?"No Bookings Yet":`No ${i.charAt(0).toUpperCase()+i.slice(1)} Bookings`}),e.jsx("p",{className:"text-sm sm:text-base lg:text-lg text-muted-foreground mb-6 sm:mb-8",children:i==="all"?"Ready to hit the road? Browse our amazing fleet!":"You have no bookings in this category."}),i==="all"&&e.jsx(K,{onClick:()=>t("/cars"),size:"lg",className:"bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white shadow-lg w-full sm:w-auto",children:"Browse Cars"})]}):e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-2 gap-4 sm:gap-6",children:n.map(_=>{const N=f(_.booking_request_status),k=QW(new Date(_.end_datetime),new Date(_.start_datetime))+1,D=_.pickup_location||_.car.delivery_location||{},T=_.dropoff_location||_.car.return_location||{},E=D.address||"To be confirmed",G=D.latitude,A=D.longitude,F=T.address||"To be confirmed",M=T.latitude,J=T.longitude,R=parseFloat(_.car.deposit||0),ee=R>0,Y=G&&A&&G!==0&&A!==0,re=M&&J&&M!==0&&J!==0;return e.jsxs(Te,{className:"overflow-hidden hover:shadow-2xl transition-all duration-500 flex flex-col h-full border-2 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm hover:-translate-y-1 group",children:[e.jsxs("div",{className:"relative",children:[e.jsx(w,{car:_.car}),e.jsx("div",{className:"absolute top-2 sm:top-4 right-2 sm:right-4 z-10",children:e.jsxs(Me,{className:`${N.color} shadow-xl font-semibold px-2 py-1 sm:px-3 sm:py-1.5 border backdrop-blur-sm text-xs sm:text-sm`,children:[N.icon," ",e.jsx("span",{className:"ml-1",children:N.text})]})}),_.payment_status==="pending"&&e.jsxs(Me,{className:"absolute top-2 sm:top-4 left-2 sm:left-4 bg-orange-500 text-white shadow-xl border-0 backdrop-blur-sm px-2 py-1 sm:px-3 sm:py-1.5 font-semibold text-xs sm:text-sm",children:[e.jsx(Bs,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 mr-1"}),e.jsx("span",{className:"hidden xs:inline",children:"Payment Due"}),e.jsx("span",{className:"xs:hidden",children:"Due"})]}),e.jsxs("div",{className:"absolute bottom-2 sm:bottom-4 left-2 sm:left-4 bg-black/70 backdrop-blur-md text-white px-3 py-1.5 sm:px-4 sm:py-2 rounded-full text-xs sm:text-sm font-semibold shadow-lg flex items-center gap-1.5 sm:gap-2",children:[e.jsx(hu,{className:"w-3 h-3 sm:w-4 sm:h-4"}),k," day",k>1?"s":""]})]}),e.jsxs(rs,{className:"pb-3 sm:pb-4 pt-4 sm:pt-6 px-4 sm:px-6",children:[e.jsxs(is,{className:"text-lg sm:text-xl lg:text-2xl font-bold flex items-start sm:items-center justify-between gap-2 flex-col xs:flex-row",children:[e.jsxs("span",{className:"truncate",children:[_.car.make," ",_.car.model]}),e.jsx(Me,{variant:"outline",className:"font-mono text-xs shrink-0 self-start xs:self-auto",children:_.car.year})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 text-xs sm:text-sm text-muted-foreground pt-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(pi,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{className:"truncate",children:_.car.car_category})]}),e.jsx(jc,{orientation:"vertical",className:"h-3 sm:h-4"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(fs,{className:"w-3 h-3 sm:w-4 sm:h-4"}),_.car.seats]})]})]}),e.jsxs(Re,{className:"flex-1 space-y-4 sm:space-y-6 pt-0 px-4 sm:px-6 pb-4 sm:pb-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"relative pl-5 sm:pl-6 pb-4 sm:pb-6 border-l-2 border-teal-200 dark:border-teal-800",children:[e.jsx("div",{className:"absolute -left-1.5 sm:-left-2 top-0 w-3 h-3 sm:w-4 sm:h-4 rounded-full bg-teal-500 ring-2 sm:ring-4 ring-teal-100 dark:ring-teal-900"}),e.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 font-semibold text-xs sm:text-sm text-teal-700 dark:text-teal-400",children:[e.jsx(Rs,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Pickup"]}),e.jsx("p",{className:"text-xs sm:text-sm font-medium",children:v(_.start_datetime)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:j(_.start_datetime)}),e.jsxs("button",{onClick:()=>x(G,A),disabled:!Y,className:`flex items-start gap-1.5 sm:gap-2 text-xs transition-all mt-1.5 sm:mt-2 group/btn ${Y?"text-gray-700 dark:text-gray-300 hover:text-teal-600 dark:hover:text-teal-400 active:text-teal-700":"text-gray-400 cursor-not-allowed"}`,children:[e.jsx(bs,{className:"w-3 h-3 sm:w-4 sm:h-4 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"flex-1 text-left line-clamp-2",children:E}),Y&&e.jsx(X2,{className:"w-3 h-3 opacity-60 group-hover/btn:opacity-100 transition-opacity flex-shrink-0 mt-0.5"})]})]})]}),e.jsxs("div",{className:"relative pl-5 sm:pl-6",children:[e.jsx("div",{className:"absolute -left-1.5 sm:-left-2 top-0 w-3 h-3 sm:w-4 sm:h-4 rounded-full bg-cyan-500 ring-2 sm:ring-4 ring-cyan-100 dark:ring-cyan-900"}),e.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 font-semibold text-xs sm:text-sm text-cyan-700 dark:text-cyan-400",children:[e.jsx(Rs,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Return"]}),e.jsx("p",{className:"text-xs sm:text-sm font-medium",children:v(_.end_datetime)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:j(_.end_datetime)}),e.jsxs("button",{onClick:()=>x(M,J),disabled:!re,className:`flex items-start gap-1.5 sm:gap-2 text-xs transition-all mt-1.5 sm:mt-2 group/btn ${re?"text-gray-700 dark:text-gray-300 hover:text-cyan-600 dark:hover:text-cyan-400 active:text-cyan-700":"text-gray-400 cursor-not-allowed"}`,children:[e.jsx(bs,{className:"w-3 h-3 sm:w-4 sm:h-4 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"flex-1 text-left line-clamp-2",children:F}),re&&e.jsx(X2,{className:"w-3 h-3 opacity-60 group-hover/btn:opacity-100 transition-opacity flex-shrink-0 mt-0.5"})]})]})]})]}),_.reason_of_booking&&e.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800/50 dark:to-gray-700/50 rounded-lg p-3 sm:p-4 border",children:e.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[e.jsx(Ys,{className:"w-3 h-3 sm:w-4 sm:h-4 text-amber-500 mt-0.5 flex-shrink-0"}),e.jsxs("p",{className:"text-xs sm:text-sm text-gray-700 dark:text-gray-300 italic leading-relaxed",children:['"',_.reason_of_booking,'"']})]})}),e.jsx(jc,{}),e.jsxs("div",{className:`rounded-xl p-3 sm:p-4 border-2 transition-all ${ee?"bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200 dark:from-amber-900/20 dark:to-orange-900/20 dark:border-amber-700":"bg-gradient-to-br from-green-50 to-emerald-50 border-green-200 dark:from-green-900/20 dark:to-emerald-900/20 dark:border-green-700"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5 sm:mb-2",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[e.jsx("div",{className:`p-1 sm:p-1.5 rounded-lg ${ee?"bg-amber-200 dark:bg-amber-800":"bg-green-200 dark:bg-green-800"}`,children:e.jsx(B7,{className:`w-4 h-4 sm:w-5 sm:h-5 ${ee?"text-amber-700 dark:text-amber-300":"text-green-700 dark:text-green-300"}`})}),e.jsx("span",{className:`text-xs sm:text-sm font-semibold ${ee?"text-amber-900 dark:text-amber-200":"text-green-900 dark:text-green-200"}`,children:"Deposit"})]}),e.jsx("span",{className:`text-base sm:text-lg font-bold ${ee?"text-amber-900 dark:text-amber-200":"text-green-900 dark:text-green-200"}`,children:ee?`$${R.toFixed(2)}`:"$0.00"})]}),e.jsx("p",{className:`text-xs ${ee?"text-amber-700 dark:text-amber-400":"text-green-700 dark:text-green-400"}`,children:ee?"Refundable upon safe return":"No deposit required"})]}),e.jsxs("div",{className:"flex items-end justify-between pt-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-wide mb-0.5 sm:mb-1 text-muted-foreground",children:"Total"}),e.jsxs("p",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent",children:["$",parseFloat(_.total_booking_price).toFixed(2)]})]}),e.jsxs(K,{size:"default",onClick:()=>t(`/booking/${_.id}`),className:"bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white shadow-lg hover:shadow-xl transition-all group h-10 sm:h-11 px-4 sm:px-6 text-sm sm:text-base",children:[e.jsx("span",{className:"hidden xs:inline",children:"View Details"}),e.jsx("span",{className:"xs:hidden",children:"Details"}),e.jsx(sn,{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform"})]})]})]})]},_.id)})})]})})},Np={BMW:["1 Series","3 Series","5 Series","7 Series","X1","X3","X5","X7","M3","M5","Z4","i4","i7","iX"],"Mercedes-Benz":["A-Class","C-Class","E-Class","S-Class","GLA","GLC","GLE","GLS","G-Class","AMG GT","Maybach","EQE","EQS"],Audi:["A3","A4","A6","A8","Q3","Q5","Q7","Q8","TT","R8","e-tron"],Porsche:["911","Cayenne","Macan","Panamera","Taycan","Boxster","Cayman"],Volkswagen:["Polo","Golf","Jetta","Passat","Tiguan","Touareg","Arteon","ID.4","ID.7"],Opel:["Corsa","Astra","Insignia","Mokka","Grandland"],Smart:["Fortwo","Forfour"],Ferrari:["Roma","Portofino","F8","812","SF90","Purosangue"],Lamborghini:["Huracan","Aventador","Urus","Revuelto"],Maserati:["Ghibli","Quattroporte","Levante","Grecale","MC20"],"Alfa Romeo":["Giulia","Stelvio","Tonale","Giulietta"],Fiat:["500","Panda","Tipo","Doblo"],Pagani:["Huayra","Zonda"],"Rolls-Royce":["Phantom","Ghost","Wraith","Cullinan","Spectre"],Bentley:["Continental GT","Flying Spur","Bentayga"],"Aston Martin":["Vantage","DB11","DB12","DBX","Valhalla"],Jaguar:["XE","XF","XJ","F-Type","E-Pace","F-Pace"],"Land Rover":["Range Rover","Range Rover Sport","Velar","Evoque","Defender","Discovery"],McLaren:["720S","750S","Artura","GT"],Mini:["Cooper","Countryman","Clubman"],Lotus:["Emira","Evija","Eletre"],Tesla:["Model 3","Model S","Model X","Model Y","Cybertruck","Roadster"],Ford:["Fiesta","Focus","Mustang","Explorer","Escape","Edge","F-150","Bronco"],Chevrolet:["Spark","Malibu","Camaro","Corvette","Tahoe","Suburban","Silverado"],Dodge:["Charger","Challenger","Durango"],Jeep:["Wrangler","Grand Cherokee","Compass","Renegade","Gladiator"],Cadillac:["CT4","CT5","Escalade","Lyriq"],Chrysler:["300","Pacifica"],GMC:["Sierra","Yukon","Acadia"],Rivian:["R1T","R1S"],Lucid:["Air","Gravity"],Toyota:["Corolla","Camry","Yaris","Prius","RAV4","Highlander","Land Cruiser","Supra","Hilux"],Lexus:["IS","ES","GS","LS","NX","RX","GX","LX","LC"],Honda:["Civic","Accord","City","CR-V","HR-V","Pilot","Odyssey"],Nissan:["Micra","Sentra","Altima","Maxima","Qashqai","X-Trail","GT-R","370Z"],Infiniti:["Q50","Q60","QX50","QX60","QX80"],Mazda:["Mazda2","Mazda3","Mazda6","CX-5","CX-9","MX-5"],Subaru:["Impreza","Legacy","Outback","Forester","WRX","BRZ"],Mitsubishi:["Mirage","Lancer","ASX","Outlander","Pajero"],Suzuki:["Swift","Vitara","Jimny","Baleno"],Isuzu:["D-Max","MU-X"],Hyundai:["Accent","Elantra","Sonata","Kona","Tucson","Santa Fe","Palisade","Ioniq 5"],Kia:["Rio","Cerato","K5","Soul","Sportage","Sorento","Telluride","EV6"],Genesis:["G70","G80","G90","GV70","GV80"],Peugeot:["208","308","508","2008","3008","5008"],Renault:["Clio","Megane","Talisman","Captur","Kadjar","Koleos"],Citron:["C3","C4","C5","C5 Aircross"],Bugatti:["Chiron","Mistral","Tourbillon"],"DS Automobiles":["DS3","DS4","DS7"],BYD:["Atto 3","Han","Tang","Seal"],Geely:["Coolray","Emgrand","Tugella"],Chery:["Tiggo 7","Tiggo 8"],"Great Wall":["Haval H6","Tank 300"],NIO:["ES6","ES8","ET5","ET7"],XPeng:["P7","G6","G9"],MG:["ZS","HS","MG4","MG5"],Zeekr:["001","X"],Volvo:["S60","S90","V60","XC40","XC60","XC90"],Polestar:["Polestar 2","Polestar 3","Polestar 4"],Koenigsegg:["Jesko","Regera","Gemera"],Rimac:["Nevera"],Hennessey:["Venom F5"],SSC:["Tuatara"],Mahindra:["Scorpio","XUV700"],Tata:["Nexon","Harrier","Safari"]},ZY=["White","Black","Silver","Gray","Red","Blue","Green","Yellow","Orange","Brown","Beige","Gold","Purple","Pink","Pearl White","Metallic Gray","Metallic Blue","Dark Blue","Light Blue","Burgundy"],JY=["GPS","Bluetooth","Backup Camera","Sunroof","Leather Seats","Apple CarPlay","Android Auto","Heated Seats","Cruise Control","Parking Sensors"],eK=["Child Seat","GPS Device","Phone Holder","WiFi Hotspot","Roof Rack"],tK=["Vacation","Business Trip","Wedding","Daily Use","Long Trip","Airport Transfer"],sK=["Beirut","Mount Lebanon","North","South","Bekaa","Baalbek","Keserwan","Nabatieh","Akkar"];function aK(t){if(!t||typeof t!="string")return null;const s=t.trim(),a=s.match(/@(-?\d+\.?\d*),(-?\d+\.?\d*)/);if(a)return{lat:parseFloat(a[1]),lng:parseFloat(a[2])};const n=s.match(/[?&]q=(-?\d+\.?\d*),(-?\d+\.?\d*)/);if(n)return{lat:parseFloat(n[1]),lng:parseFloat(n[2])};const r=s.match(/(?:!3d|!4d|!1d)(-?\d+\.?\d*)/g);if(r&&r.length>=2){const i=parseFloat(r[0].replace(/\D/g,"")),l=parseFloat(r[1].replace(/\D/g,""));if(!isNaN(i)&&!isNaN(l))return{lat:i,lng:l}}return null}function Jk(){try{const t=localStorage.getItem("user");if(!t)return null;let a=JSON.parse(t)?.agent?.location;if(!a)return null;typeof a=="string"&&(a=JSON.parse(a),typeof a=="string"&&(a=JSON.parse(a)));const n=a?.lat??a?.latitude,r=a?.lng??a?.longitude;return n!=null&&r!=null?{latitude:String(Number(n)),longitude:String(Number(r))}:null}catch{return null}}function nK({center:t,selectedLocation:s,onLocationSelect:a}){const n=y.useRef(null),r=y.useRef(null);y.useEffect(()=>{if(typeof window<"u"&&!window.L){const l=document.createElement("link");l.rel="stylesheet",l.href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",document.head.appendChild(l);const d=document.createElement("script");d.src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js",d.onload=()=>i(),document.head.appendChild(d)}else window.L&&i()},[]),y.useEffect(()=>{if(n.current&&window.L&&t?.latitude!=null&&t?.longitude!=null){const l=parseFloat(t.latitude),d=parseFloat(t.longitude);n.current.setView([l,d],13)}},[t?.latitude,t?.longitude]),y.useEffect(()=>{s&&r.current&&window.L&&r.current.setLatLng([parseFloat(s.latitude),parseFloat(s.longitude)])},[s]);const i=()=>{if(!window.L||n.current)return;const l=parseFloat(t?.latitude)||33.8547,d=parseFloat(t?.longitude)||35.8623,u=window.L.map("map-container").setView([l,d],13);window.L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap contributors"}).addTo(u);const h=window.L.marker([l,d],{draggable:!0}).addTo(u);h.on("dragend",p=>{const f=p.target.getLatLng();a(f.lat,f.lng)}),u.on("click",p=>{h.setLatLng(p.latlng),a(p.latlng.lat,p.latlng.lng)}),n.current=u,r.current=h};return e.jsx("div",{id:"map-container",className:"w-full h-full"})}const rK=()=>{const t=Ua(),[s,a]=y.useState(!1),[n,r]=y.useState([]),[i,l]=y.useState(!1),[d,u]=y.useState(null),[h,p]=y.useState(null),[f,x]=y.useState(""),[v,j]=y.useState(!1),[w,_]=y.useState({liveLocation:"",deliveryLocation:"",returnLocation:""}),[N,k]=y.useState({make:"",model:"",customMake:"",customModel:"",year:new Date().getFullYear(),licensePlate:"",color:"",mileage:0,fuelType:"",transmission:"",wheelsDrive:"",carCategory:"",seats:5,doors:4,dailyRate:"",holidayRate:"",notes:"",requireDeposit:!1,depositAmount:0,deliveryAvailable:!1,deliveryFees:0,driverAvailable:!1,driverFees:0,maxDrivingMileage:"",minRentalDays:1,selectedFeatures:[],selectedAddons:[],selectedReasons:[],liveLocation:{address:"",latitude:0,longitude:0},deliveryLocation:{address:"",latitude:0,longitude:0},returnLocation:{address:"",latitude:0,longitude:0}}),[D,T]=y.useState({main:null,front:null,back:null,left:null,right:null}),[E,G]=y.useState({main:null,front:null,back:null,left:null,right:null});y.useEffect(()=>{N.make&&Np[N.make]?(r(Np[N.make]),!Np[N.make].includes(N.model)&&N.model!=="Other"&&k($=>({...$,model:""}))):(r([]),N.make&&N.make!=="Other"&&N.model&&k($=>({...$,model:""})))},[N.make]);const A=($,z,ie)=>{z.includes($)?ie(z.filter(le=>le!==$)):ie([...z,$])},F=($,z)=>{z&&(T(ie=>({...ie,[$]:z})),G(ie=>({...ie,[$]:URL.createObjectURL(z)})))},M=$=>{T(z=>({...z,[$]:null})),G(z=>({...z,[$]:null}))},J=$=>{if(!navigator.geolocation){se.error("Geolocation is not supported by your browser");return}se.info("Getting your location..."),navigator.geolocation.getCurrentPosition(z=>{const ie={address:N[$].address||"",latitude:z.coords.latitude.toFixed(6),longitude:z.coords.longitude.toFixed(6)};k(le=>({...le,[$]:ie})),se.success("Location detected successfully!")},z=>{console.error("Geolocation error:",z),se.error("Could not get your location. Please select manually.")})},R=$=>{u($);const z=N[$];p({latitude:z.latitude||33.8547,longitude:z.longitude||35.8623}),l(!0)},ee=($,z)=>{p({latitude:$.toFixed(6),longitude:z.toFixed(6)})},Y=()=>{h&&d?(k($=>({...$,[d]:{address:$[d].address||"",latitude:h.latitude,longitude:h.longitude}})),se.success("Location selected!"),l(!1),u(null)):se.error("Please select a location on the map")},re=($,z)=>{k(ie=>({...ie,[$]:{...ie[$],address:z}}))},te=($,z)=>{const ie=aK(z);ie?(k(le=>({...le,[$]:{...le[$],latitude:ie.lat.toFixed(6),longitude:ie.lng.toFixed(6),address:le[$].address||""}})),se.success("Location set from Google Maps link.")):se.error("Could not read coordinates from this link. Use a link with lat,lng (e.g. @33.89,35.50 or ?q=33.89,35.50).")},V=async()=>{const $=f.trim();if($){j(!0);try{const ie=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent($)}&limit=1`,{headers:{Accept:"application/json"}})).json();if(ie&&ie[0]){const le=parseFloat(ie[0].lat),ne=parseFloat(ie[0].lon);p({latitude:le.toFixed(6),longitude:ne.toFixed(6)}),se.success("Location found. Adjust marker if needed.")}else se.error("No results found. Try another search.")}catch{se.error("Search failed. Try again.")}finally{j(!1)}}},U=()=>{const $=Jk();$?(p($),se.success("Office location set. Confirm to use it.")):se.error("Office location not found. Complete your agency profile with a location first.")},H=$=>{const z=Jk();z?(k(ie=>({...ie,[$]:{...ie[$],latitude:z.latitude,longitude:z.longitude,address:ie[$].address||""}})),se.success("Location set to your agency office.")):se.error("Office location not found. Complete your agency profile with a location first.")},L=async $=>{$.preventDefault(),a(!0);const z=new FormData,ie=N.make==="Other",le=N.model==="Other",ne=ie?N.customMake.trim():N.make,fe=ie||le?N.customModel.trim():N.model;if(!ne){se.error("Please enter the car make"),a(!1);return}if(!fe){se.error("Please enter the car model"),a(!1);return}z.append("make",ne),z.append("model",fe),z.append("year",N.year),z.append("license_plate",N.licensePlate.toUpperCase());const Ne={Petrol:"benz",Diesel:"diesel",Electric:"electric",Hybrid:"hybrid"};z.append("fuel_type",Ne[N.fuelType]||N.fuelType.toLowerCase()),z.append("transmission",N.transmission.toLowerCase()),z.append("car_category",N.carCategory.toLowerCase()),z.append("daily_rate",N.dailyRate),z.append("seats",N.seats),z.append("doors",N.doors),N.color&&z.append("color",N.color),N.mileage&&z.append("mileage",N.mileage),N.wheelsDrive&&z.append("wheels_drive",N.wheelsDrive.toLowerCase()),N.holidayRate&&z.append("holiday_rate",N.holidayRate),N.notes&&z.append("notes",N.notes),N.maxDrivingMileage&&z.append("max_driving_mileage",N.maxDrivingMileage),N.minRentalDays&&z.append("min_rental_days",N.minRentalDays),N.selectedFeatures.forEach(ye=>z.append("features[]",ye)),N.selectedAddons.forEach(ye=>z.append("car_add_on[]",ye)),N.selectedReasons.forEach(ye=>z.append("reason_of_rent[]",ye)),z.append("is_deposit",N.requireDeposit?"1":"0"),N.requireDeposit&&N.depositAmount>0&&z.append("deposit",N.depositAmount),z.append("is_delivered",N.deliveryAvailable?"1":"0"),N.deliveryAvailable&&N.deliveryFees>0&&z.append("delivery_fees",N.deliveryFees),z.append("with_driver",N.driverAvailable?"1":"0"),N.driverAvailable&&N.driverFees>0&&z.append("driver_fees",N.driverFees),z.append("live_location",JSON.stringify(N.liveLocation)),z.append("delivery_location",JSON.stringify(N.deliveryLocation)),z.append("return_location",JSON.stringify(N.returnLocation)),D.main&&z.append("main_image_url",D.main),D.front&&z.append("front_image_url",D.front),D.back&&z.append("back_image_url",D.back),D.left&&z.append("left_image_url",D.left),D.right&&z.append("right_image_url",D.right);try{const ye=await xe.post("/cars",z,{headers:{"Content-Type":"multipart/form-data"}});console.log("Car created successfully:",ye.data),se.success("Car created successfully! Waiting for admin approval."),t("/agent/cars")}catch(ye){console.error("Create car error:",ye.response?.data);const Le=ye.response?.data?.errors;if(Le)Object.entries(Le).forEach(([Se,Ge])=>{Ge.forEach(nt=>se.error(`${Se}: ${nt}`))});else{const Se=ye.response?.data?.error||ye.response?.data?.message||"Failed to create car";se.error(Se)}}finally{a(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-teal-50/30 to-cyan-50/30 dark:from-gray-950 dark:via-teal-950/20 dark:to-cyan-950/20 pt-20",children:[e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-teal-500/10 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-cyan-500/10 rounded-full blur-3xl animate-pulse delay-700"})]}),e.jsxs("div",{className:"container mx-auto px-4 py-8 relative z-10",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxs(K,{variant:"ghost",className:"text-gray-600 dark:text-gray-400 hover:text-teal-600 dark:hover:text-teal-400 transition-colors",onClick:()=>t(-1),children:[e.jsx(xi,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),e.jsxs(K,{variant:"secondary",className:"text-gray-600 dark:text-gray-400 hover:text-teal-600 dark:hover:text-teal-400 transition-colors",onClick:()=>t("/agent/cars"),children:[e.jsx(zt,{className:"w-4 h-4 mr-2"}),"Go to Cars Page"]})]}),e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-teal-500 to-cyan-500 flex items-center justify-center shadow-lg",children:e.jsx(zt,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-black text-gray-900 dark:text-white",children:"Create New Car"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Add a premium vehicle to your fleet"})]})]})]}),e.jsxs("form",{onSubmit:L,className:"space-y-6",children:[e.jsx(Te,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:e.jsxs(Re,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-teal-500 to-cyan-500 flex items-center justify-center",children:e.jsx(gl,{className:"w-6 h-6 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Basic Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Make ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{required:!0,value:N.make,onChange:$=>{const z=$.target.value;k(ie=>({...ie,make:z,...z!=="Other"?{customMake:""}:{}}))},className:"w-full h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl px-4 bg-white dark:bg-gray-900",children:[e.jsx("option",{value:"",children:"Select Make..."}),Object.keys(Np).sort().map($=>e.jsx("option",{value:$,children:$},$)),e.jsx("option",{value:"Other",children:"Other"})]})]}),N.make==="Other"&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Custom Make ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(oe,{required:!0,placeholder:"Type the make",value:N.customMake,onChange:$=>k({...N,customMake:$.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Model ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{required:N.make!=="Other",value:N.model,onChange:$=>{const z=$.target.value;k(ie=>({...ie,model:z,...z!=="Other"?{customModel:""}:{}}))},disabled:!N.make||N.make==="Other",className:"w-full h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl px-4 bg-white dark:bg-gray-900 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("option",{value:"",children:"Select Model..."}),n.map($=>e.jsx("option",{value:$,children:$},$)),N.make&&N.make!=="Other"&&e.jsx("option",{value:"Other",children:"Other"})]}),!N.make&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Please select a make first"}),N.make==="Other"&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select a custom make above to enter a model."})]}),(N.make==="Other"||N.model==="Other")&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Custom Model ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(oe,{required:!0,placeholder:"Type the model",value:N.customModel,onChange:$=>k({...N,customModel:$.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Year ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(oe,{required:!0,type:"number",placeholder:"e.g., 2024",value:N.year,onChange:$=>k({...N,year:$.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["License Plate ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(oe,{required:!0,placeholder:"e.g., ABC-1234",value:N.licensePlate,onChange:$=>k({...N,licensePlate:$.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Color"}),e.jsxs("select",{value:N.color,onChange:$=>k({...N,color:$.target.value}),className:"w-full h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl px-4 bg-white dark:bg-gray-900",children:[e.jsx("option",{value:"",children:"Select Color..."}),ZY.map($=>e.jsx("option",{value:$,children:$},$))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Mileage (km)"}),e.jsx(oe,{type:"number",placeholder:"e.g., 15000",value:N.mileage,onChange:$=>k({...N,mileage:$.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]})]})]})}),e.jsx(Te,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:e.jsxs(Re,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-cyan-500 to-blue-500 flex items-center justify-center",children:e.jsx(km,{className:"w-6 h-6 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Technical Specifications"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Fuel Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{required:!0,value:N.fuelType,onChange:$=>k({...N,fuelType:$.target.value}),className:"w-full h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl px-4 bg-white dark:bg-gray-900",children:[e.jsx("option",{value:"",children:"Select..."}),e.jsx("option",{value:"Petrol",children:"Petrol"}),e.jsx("option",{value:"Diesel",children:"Diesel"}),e.jsx("option",{value:"Electric",children:"Electric"}),e.jsx("option",{value:"Hybrid",children:"Hybrid"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Transmission ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{required:!0,value:N.transmission,onChange:$=>k({...N,transmission:$.target.value}),className:"w-full h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl px-4 bg-white dark:bg-gray-900",children:[e.jsx("option",{value:"",children:"Select..."}),e.jsx("option",{value:"Automatic",children:"Automatic"}),e.jsx("option",{value:"Manual",children:"Manual"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Wheels Drive"}),e.jsxs("select",{value:N.wheelsDrive,onChange:$=>k({...N,wheelsDrive:$.target.value}),className:"w-full h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl px-4 bg-white dark:bg-gray-900",children:[e.jsx("option",{value:"",children:"Select..."}),e.jsx("option",{value:"4x4",children:"4x4"}),e.jsx("option",{value:"Front",children:"Front"}),e.jsx("option",{value:"Rear",children:"Rear"}),e.jsx("option",{value:"Autoblock",children:"Autoblock"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Seats ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(oe,{required:!0,type:"number",placeholder:"e.g., 5",value:N.seats,onChange:$=>k({...N,seats:$.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Doors ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(oe,{required:!0,type:"number",placeholder:"e.g., 4",value:N.doors,onChange:$=>k({...N,doors:$.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Category ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{required:!0,value:N.carCategory,onChange:$=>k({...N,carCategory:$.target.value}),className:"w-full h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl px-4 bg-white dark:bg-gray-900",children:[e.jsx("option",{value:"",children:"Select..."}),e.jsx("option",{value:"Luxury",children:"Luxury"}),e.jsx("option",{value:"Sport",children:"Sport"}),e.jsx("option",{value:"Commercial",children:"Commercial"}),e.jsx("option",{value:"Industrial",children:"Industrial"}),e.jsx("option",{value:"Normal",children:"Normal"}),e.jsx("option",{value:"Event",children:"Event"}),e.jsx("option",{value:"Sea",children:"Sea"})]})]})]})]})}),e.jsx(Te,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:e.jsxs(Re,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-teal-600 to-teal-400 flex items-center justify-center",children:e.jsx(Fd,{className:"w-6 h-6 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Features & Add-ons"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Features (Click to select)"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:JY.map($=>e.jsxs(Me,{onClick:()=>A($,N.selectedFeatures,z=>k({...N,selectedFeatures:z})),className:`cursor-pointer px-4 py-2 text-sm transition-all duration-300 ${N.selectedFeatures.includes($)?"bg-gradient-to-r from-teal-600 to-cyan-600 text-white hover:from-teal-700 hover:to-cyan-700":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[N.selectedFeatures.includes($)&&e.jsx(Jn,{className:"w-3 h-3 mr-1"}),$]},$))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Add-ons (Click to select)"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:eK.map($=>e.jsxs(Me,{onClick:()=>A($,N.selectedAddons,z=>k({...N,selectedAddons:z})),className:`cursor-pointer px-4 py-2 text-sm transition-all duration-300 ${N.selectedAddons.includes($)?"bg-gradient-to-r from-cyan-600 to-blue-600 text-white hover:from-cyan-700 hover:to-blue-700":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[N.selectedAddons.includes($)&&e.jsx(Jn,{className:"w-3 h-3 mr-1"}),$]},$))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Reason of Rent (Click to select)"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:tK.map($=>e.jsxs(Me,{onClick:()=>A($,N.selectedReasons,z=>k({...N,selectedReasons:z})),className:`cursor-pointer px-4 py-2 text-sm transition-all duration-300 ${N.selectedReasons.includes($)?"bg-gradient-to-r from-teal-500 to-cyan-500 text-white hover:from-teal-600 hover:to-cyan-600":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[N.selectedReasons.includes($)&&e.jsx(Jn,{className:"w-3 h-3 mr-1"}),$]},$))})]})]})]})}),e.jsx(Te,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:e.jsxs(Re,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-amber-500 to-yellow-500 flex items-center justify-center",children:e.jsx(Bs,{className:"w-6 h-6 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Pricing & Rental Terms"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Daily Rate ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),e.jsx(oe,{required:!0,type:"number",placeholder:"100",value:N.dailyRate,onChange:$=>k({...N,dailyRate:$.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl pl-8"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Holiday Rate"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),e.jsx(oe,{type:"number",placeholder:"150",value:N.holidayRate,onChange:$=>k({...N,holidayRate:$.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl pl-8"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Min Rental Days"}),e.jsx(oe,{type:"number",placeholder:"e.g., 1",value:N.minRentalDays,onChange:$=>k({...N,minRentalDays:$.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Max Driving Mileage/Day (km)"}),e.jsx(oe,{type:"number",placeholder:"e.g., 200",value:N.maxDrivingMileage,onChange:$=>k({...N,maxDrivingMileage:$.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]}),e.jsxs("div",{className:"flex items-center space-x-3 pt-8",children:[e.jsx("input",{type:"checkbox",id:"requireDeposit",checked:N.requireDeposit,onChange:$=>k({...N,requireDeposit:$.target.checked}),className:"w-5 h-5 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500"}),e.jsx("label",{htmlFor:"requireDeposit",className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Require Deposit"})]}),N.requireDeposit&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Deposit Amount"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),e.jsx(oe,{type:"number",placeholder:"500",value:N.depositAmount,onChange:$=>k({...N,depositAmount:$.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl pl-8"})]})]})]})]})}),e.jsx(Te,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:e.jsxs(Re,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-teal-500 to-cyan-500 flex items-center justify-center",children:e.jsx(zt,{className:"w-6 h-6 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Delivery & Driver Options"})]}),e.jsxs("div",{className:"flex flex-wrap gap-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"deliveryAvailable",checked:N.deliveryAvailable,onChange:$=>k({...N,deliveryAvailable:$.target.checked}),className:"w-5 h-5 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500"}),e.jsx("label",{htmlFor:"deliveryAvailable",className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Delivery Available"})]}),N.deliveryAvailable&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Delivery Fee"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),e.jsx(oe,{type:"number",placeholder:"50",value:N.deliveryFees,onChange:$=>k({...N,deliveryFees:$.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl pl-8"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"driverAvailable",checked:N.driverAvailable,onChange:$=>k({...N,driverAvailable:$.target.checked}),className:"w-5 h-5 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500"}),e.jsx("label",{htmlFor:"driverAvailable",className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Driver Available"})]}),N.driverAvailable&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Driver Fee Per Day"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),e.jsx(oe,{type:"number",placeholder:"50",value:N.driverFees,onChange:$=>k({...N,driverFees:$.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl pl-8"})]})]})]})]})}),e.jsx(Te,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:e.jsxs(Re,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-cyan-600 to-blue-500 flex items-center justify-center",children:e.jsx(mc,{className:"w-6 h-6 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Car Images"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:["main","front","back","left","right"].map($=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:$==="main"?"Main Image *":`${$.charAt(0).toUpperCase()+$.slice(1)} Image`}),e.jsx("div",{className:"relative",children:E[$]?e.jsxs("div",{className:"aspect-square rounded-xl overflow-hidden border-2 border-gray-300",children:[e.jsx("img",{src:E[$],alt:"",className:"w-full h-full object-cover"}),e.jsx("button",{type:"button",onClick:()=>M($),className:"absolute top-2 right-2 bg-red-500 text-white p-1.5 rounded-full hover:bg-red-600",children:e.jsx(ea,{className:"w-4 h-4"})})]}):e.jsxs("label",{className:"block cursor-pointer",children:[e.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:z=>F($,z.target.files[0])}),e.jsxs("div",{className:"aspect-square border-2 border-dashed rounded-xl flex flex-col items-center justify-center hover:border-teal-500 transition bg-gray-50",children:[e.jsx(sk,{className:"w-10 h-10 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-500 mt-2",children:"Click to upload"})]})]})})]},$))})]})}),e.jsx(Te,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:e.jsxs(Re,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-teal-600 to-cyan-600 flex items-center justify-center",children:e.jsx(bs,{className:"w-6 h-6 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Location Information"})]}),["liveLocation","deliveryLocation","returnLocation"].map($=>{const z=$==="liveLocation"?"Live Location":$==="deliveryLocation"?"Delivery Location":"Return Location",ie=N[$],le=ie.latitude&&ie.longitude&&ie.latitude!==0&&ie.longitude!==0;return e.jsxs("div",{className:"mb-6 p-5 border-2 rounded-lg bg-gray-50 dark:bg-gray-800",children:[e.jsx("h4",{className:"font-semibold mb-4 text-lg",children:z}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Address (region)"}),e.jsxs("select",{value:ie.address||"",onChange:ne=>re($,ne.target.value),className:"w-full h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl px-4 bg-white dark:bg-gray-900",children:[e.jsx("option",{value:"",children:"Select region..."}),sK.map(ne=>e.jsx("option",{value:ne,children:ne},ne))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Paste Google Maps link (to set coordinates)"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(oe,{placeholder:"e.g. https://www.google.com/maps/@33.8938,35.5018,17z",value:w[$]||"",onChange:ne=>_(fe=>({...fe,[$]:ne.target.value})),onBlur:ne=>{const fe=ne.target.value?.trim();fe&&te($,fe)},className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl flex-1"}),e.jsx(K,{type:"button",variant:"outline",onClick:()=>{const ne=w[$];ne?.trim()&&te($,ne)},className:"h-12 shrink-0",children:"Apply"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Paste a link with coordinates to fill the pin location if missing."})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(K,{type:"button",variant:"outline",className:"flex-1 min-w-[140px]",onClick:()=>J($),children:[e.jsx(nD,{className:"w-4 h-4 mr-2"}),"Use Current Location"]}),e.jsxs(K,{type:"button",variant:"outline",className:"flex-1 min-w-[140px]",onClick:()=>R($),children:[e.jsx(bs,{className:"w-4 h-4 mr-2"}),"Select on Map"]}),e.jsxs(K,{type:"button",variant:"outline",className:"flex-1 min-w-[140px]",onClick:()=>H($),children:[e.jsx(sm,{className:"w-4 h-4 mr-2"}),"Office location"]})]}),le?e.jsx("div",{className:"p-4 bg-primary/10 border-2 border-primary/20 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center flex-shrink-0",children:e.jsx(bs,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-sm mb-1",children:"Location Selected"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Latitude: ",ie.latitude]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Longitude: ",ie.longitude]})]})]})}):e.jsxs("div",{className:"p-4 bg-muted/30 border-2 border-dashed rounded-lg text-center",children:[e.jsx(bs,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"No location selected yet"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Click one of the buttons above to set location"})]})]})]},$)})]})}),e.jsx(Te,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:e.jsxs(Re,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-teal-500 to-cyan-500 flex items-center justify-center",children:e.jsx(gl,{className:"w-6 h-6 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Additional Information"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Notes"}),e.jsx("textarea",{placeholder:"Any additional information about the vehicle...",value:N.notes,onChange:$=>k({...N,notes:$.target.value}),rows:5,className:"w-full border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl p-4 bg-white dark:bg-gray-900 resize-none"})]})]})}),e.jsxs("div",{className:"flex gap-4 justify-end",children:[e.jsx(K,{type:"button",variant:"outline",size:"lg",className:"px-8 py-6 rounded-xl border-2 border-gray-300 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-800",onClick:()=>t(-1),children:"Cancel"}),e.jsxs(K,{type:"submit",size:"lg",disabled:s||!D.main,className:"px-8 py-6 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-bold rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[e.jsx(sk,{className:"w-5 h-5 mr-2"}),s?"Creating Car...":"Create Car Listing"]})]})]})]})]}),e.jsx(Va,{open:i,onOpenChange:$=>{l($),$||x("")},children:e.jsxs(Ra,{className:"max-w-4xl max-h-[90vh]",children:[e.jsxs(Ma,{children:[e.jsx(Pa,{children:"Select Location"}),e.jsx(vi,{children:"Search or click on the map, or use your office location. Drag the marker to adjust."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("div",{className:"flex flex-1 min-w-[200px] rounded-lg overflow-hidden border-2 border-gray-200 dark:border-gray-700",children:[e.jsx(oe,{placeholder:"Search address or place...",value:f,onChange:$=>x($.target.value),onKeyDown:$=>{$.key==="Enter"&&($.preventDefault(),V())},className:"rounded-r-none border-0 h-11 focus-visible:ring-0"}),e.jsx(K,{type:"button",variant:"secondary",onClick:V,disabled:v,className:"rounded-l-none h-11 px-4",children:e.jsx(Ea,{className:"w-4 h-4"})})]}),e.jsxs(K,{type:"button",variant:"outline",onClick:U,className:"h-11 shrink-0",children:[e.jsx(sm,{className:"w-4 h-4 mr-2"}),"Office location"]})]}),e.jsx("div",{className:"w-full h-[500px] bg-muted rounded-lg overflow-hidden",children:h&&e.jsx(nK,{center:h,selectedLocation:h,onLocationSelect:ee})}),h&&e.jsx("div",{className:"p-3 bg-muted/50 rounded-md",children:e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Selected:"})," ",h.latitude,", ",h.longitude]})}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(K,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),e.jsx(K,{onClick:Y,children:"Confirm Location"})]})]})]})})]})};var Rd={},Tb={exports:{}},Db,eS;function iK(){if(eS)return Db;eS=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Db=t,Db}var Eb,tS;function oK(){if(tS)return Eb;tS=1;var t=iK();function s(){}function a(){}return a.resetWarningCache=s,Eb=function(){function n(l,d,u,h,p,f){if(f!==t){var x=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw x.name="Invariant Violation",x}}n.isRequired=n;function r(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:r,element:n,elementType:n,instanceOf:r,node:n,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:a,resetWarningCache:s};return i.PropTypes=i,i},Eb}var sS;function lK(){return sS||(sS=1,Tb.exports=oK()()),Tb.exports}var aS;function cK(){if(aS)return Rd;aS=1,Object.defineProperty(Rd,"__esModule",{value:!0}),Rd.default=void 0;var t=Object.assign||function(A){for(var F=1;F<arguments.length;F++){var M=arguments[F];for(var J in M)Object.prototype.hasOwnProperty.call(M,J)&&(A[J]=M[J])}return A},s=(function(){function A(F,M){for(var J=0;J<M.length;J++){var R=M[J];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(F,R.key,R)}}return function(F,M,J){return M&&A(F.prototype,M),J&&A(F,J),F}})(),a,n;Rd.confirmAlert=G;var r=wm(),i=h(r),l=lK(),d=h(l),u=tT();function h(A){return A&&A.__esModule?A:{default:A}}function p(A,F){if(!(A instanceof F))throw new TypeError("Cannot call a class as a function")}function f(A,F){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F&&(typeof F=="object"||typeof F=="function")?F:A}function x(A,F){if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof F);A.prototype=Object.create(F&&F.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),F&&(Object.setPrototypeOf?Object.setPrototypeOf(A,F):A.__proto__=F)}var v=(n=a=(function(A){x(F,A);function F(){var M,J,R,ee;p(this,F);for(var Y=arguments.length,re=Array(Y),te=0;te<Y;te++)re[te]=arguments[te];return ee=(J=(R=f(this,(M=F.__proto__||Object.getPrototypeOf(F)).call.apply(M,[this].concat(re))),R),R.handleClickButton=function(V){V.onClick&&V.onClick(),R.close()},R.handleClickOverlay=function(V){var U=R.props,H=U.closeOnClickOutside,L=U.onClickOutside,$=V.target===R.overlay;H&&$&&(L(),R.close()),V.stopPropagation()},R.close=function(){var V=R.props.afterClose;E(),D(R.props),N(V)},R.keyboard=function(V){var U=R.props,H=U.closeOnEscape,L=U.onKeypressEscape,$=U.onkeyPress,z=U.keyCodeForClose,ie=V.keyCode,le=ie===27;z.includes(ie)&&R.close(),H&&le&&(L(V),R.close()),$&&$()},R.componentDidMount=function(){document.addEventListener("keydown",R.keyboard,!1)},R.componentWillUnmount=function(){document.removeEventListener("keydown",R.keyboard,!1),R.props.willUnmount()},R.renderCustomUI=function(){var V=R.props,U=V.title,H=V.message,L=V.buttons,$=V.customUI,z={title:U,message:H,buttons:L,onClose:R.close};return $(z)},J),f(R,ee)}return s(F,[{key:"render",value:function(){var J=this,R=this.props,ee=R.title,Y=R.message,re=R.buttons,te=R.childrenElement,V=R.customUI,U=R.overlayClassName;return i.default.createElement("div",{className:"react-confirm-alert-overlay "+U,ref:function(L){return J.overlay=L},onClick:this.handleClickOverlay},i.default.createElement("div",{className:"react-confirm-alert"},V?this.renderCustomUI():i.default.createElement("div",{className:"react-confirm-alert-body"},ee&&i.default.createElement("h1",null,ee),Y,te(),i.default.createElement("div",{className:"react-confirm-alert-button-group"},re.map(function(H,L){return i.default.createElement("button",t({key:L,className:H.className},H,{onClick:function(z){return J.handleClickButton(H)}}),H.label)})))))}}]),F})(r.Component),a.propTypes={title:d.default.string,message:d.default.string,buttons:d.default.array.isRequired,childrenElement:d.default.func,customUI:d.default.func,closeOnClickOutside:d.default.bool,closeOnEscape:d.default.bool,keyCodeForClose:d.default.arrayOf(d.default.number),willUnmount:d.default.func,afterClose:d.default.func,onClickOutside:d.default.func,onKeypressEscape:d.default.func,onkeyPress:d.default.func,overlayClassName:d.default.string},a.defaultProps={buttons:[{label:"Cancel",onClick:function(){return null},className:null},{label:"Confirm",onClick:function(){return null},className:null}],childrenElement:function(){return null},closeOnClickOutside:!0,closeOnEscape:!0,keyCodeForClose:[],willUnmount:function(){return null},afterClose:function(){return null},onClickOutside:function(){return null},onKeypressEscape:function(){return null}},n);Rd.default=v;var j=null,w="react-confirm-alert";function _(){var A=document.getElementById("react-confirm-alert-firm-svg");if(!A){var F="http://www.w3.org/2000/svg",M=document.createElementNS(F,"feGaussianBlur");M.setAttribute("stdDeviation","0.3");var J=document.createElementNS(F,"filter");J.setAttribute("id","gaussian-blur"),J.appendChild(M);var R=document.createElementNS(F,"svg");R.setAttribute("id","react-confirm-alert-firm-svg"),R.setAttribute("class","react-confirm-alert-svg"),R.appendChild(J),document.body.appendChild(R)}}function N(A){var F=document.getElementById("react-confirm-alert-firm-svg");F&&F.parentNode.removeChild(F),document.body.children[0].classList.remove("react-confirm-alert-blur"),A()}function k(A){var F=document.getElementById(A.targetId||w);A.targetId&&!F&&console.error("React Confirm Alert:","Can not get element id (#"+A.targetId+")"),F?(j=(0,u.createRoot)(F),j.render(i.default.createElement(v,A))):(document.body.children[0].classList.add("react-confirm-alert-blur"),F=document.createElement("div"),F.id=w,document.body.appendChild(F),j=(0,u.createRoot)(F),j.render(i.default.createElement(v,A)))}function D(A){var F=document.getElementById(A.targetId||w);F&&j.unmount(F)}function T(){document.body.classList.add("react-confirm-alert-body-element")}function E(){document.body.classList.remove("react-confirm-alert-body-element")}function G(A){T(),_(),k(A)}return Rd}var dK=cK();const Sw=y.createContext({});function Aw(t){const s=y.useRef(null);return s.current===null&&(s.current=t()),s.current}const Tw=typeof window<"u",b5=Tw?y.useLayoutEffect:y.useEffect,Dx=y.createContext(null);function Dw(t,s){t.indexOf(s)===-1&&t.push(s)}function Ew(t,s){const a=t.indexOf(s);a>-1&&t.splice(a,1)}const fo=(t,s,a)=>a>s?s:a<t?t:a;let Rw=()=>{};const po={},v5=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function j5(t){return typeof t=="object"&&t!==null}const w5=t=>/^0[^.\s]+$/u.test(t);function Mw(t){let s;return()=>(s===void 0&&(s=t()),s)}const Cr=t=>t,uK=(t,s)=>a=>s(t(a)),Fm=(...t)=>t.reduce(uK),om=(t,s,a)=>{const n=s-t;return n===0?1:(a-t)/n};class Pw{constructor(){this.subscriptions=[]}add(s){return Dw(this.subscriptions,s),()=>Ew(this.subscriptions,s)}notify(s,a,n){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](s,a,n);else for(let i=0;i<r;i++){const l=this.subscriptions[i];l&&l(s,a,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const ji=t=>t*1e3,_r=t=>t/1e3;function N5(t,s){return s?t*(1e3/s):0}const _5=(t,s,a)=>(((1-3*a+3*s)*t+(3*a-6*s))*t+3*s)*t,hK=1e-7,mK=12;function fK(t,s,a,n,r){let i,l,d=0;do l=s+(a-s)/2,i=_5(l,n,r)-t,i>0?a=l:s=l;while(Math.abs(i)>hK&&++d<mK);return l}function Im(t,s,a,n){if(t===s&&a===n)return Cr;const r=i=>fK(i,0,1,t,a);return i=>i===0||i===1?i:_5(r(i),s,n)}const C5=t=>s=>s<=.5?t(2*s)/2:(2-t(2*(1-s)))/2,k5=t=>s=>1-t(1-s),S5=Im(.33,1.53,.69,.99),Ow=k5(S5),A5=C5(Ow),T5=t=>(t*=2)<1?.5*Ow(t):.5*(2-Math.pow(2,-10*(t-1))),Lw=t=>1-Math.sin(Math.acos(t)),D5=k5(Lw),E5=C5(Lw),pK=Im(.42,0,1,1),gK=Im(0,0,.58,1),R5=Im(.42,0,.58,1),xK=t=>Array.isArray(t)&&typeof t[0]!="number",M5=t=>Array.isArray(t)&&typeof t[0]=="number",yK={linear:Cr,easeIn:pK,easeInOut:R5,easeOut:gK,circIn:Lw,circInOut:E5,circOut:D5,backIn:Ow,backInOut:A5,backOut:S5,anticipate:T5},bK=t=>typeof t=="string",nS=t=>{if(M5(t)){Rw(t.length===4);const[s,a,n,r]=t;return Im(s,a,n,r)}else if(bK(t))return yK[t];return t},_p=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function vK(t,s){let a=new Set,n=new Set,r=!1,i=!1;const l=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function u(p){l.has(p)&&(h.schedule(p),t()),p(d)}const h={schedule:(p,f=!1,x=!1)=>{const j=x&&r?a:n;return f&&l.add(p),j.has(p)||j.add(p),p},cancel:p=>{n.delete(p),l.delete(p)},process:p=>{if(d=p,r){i=!0;return}r=!0,[a,n]=[n,a],a.forEach(u),a.clear(),r=!1,i&&(i=!1,h.process(p))}};return h}const jK=40;function P5(t,s){let a=!1,n=!0;const r={delta:0,timestamp:0,isProcessing:!1},i=()=>a=!0,l=_p.reduce((D,T)=>(D[T]=vK(i),D),{}),{setup:d,read:u,resolveKeyframes:h,preUpdate:p,update:f,preRender:x,render:v,postRender:j}=l,w=()=>{const D=po.useManualTiming?r.timestamp:performance.now();a=!1,po.useManualTiming||(r.delta=n?1e3/60:Math.max(Math.min(D-r.timestamp,jK),1)),r.timestamp=D,r.isProcessing=!0,d.process(r),u.process(r),h.process(r),p.process(r),f.process(r),x.process(r),v.process(r),j.process(r),r.isProcessing=!1,a&&s&&(n=!1,t(w))},_=()=>{a=!0,n=!0,r.isProcessing||t(w)};return{schedule:_p.reduce((D,T)=>{const E=l[T];return D[T]=(G,A=!1,F=!1)=>(a||_(),E.schedule(G,A,F)),D},{}),cancel:D=>{for(let T=0;T<_p.length;T++)l[_p[T]].cancel(D)},state:r,steps:l}}const{schedule:Xs,cancel:wl,state:Xa,steps:Rb}=P5(typeof requestAnimationFrame<"u"?requestAnimationFrame:Cr,!0);let ag;function wK(){ag=void 0}const Pn={now:()=>(ag===void 0&&Pn.set(Xa.isProcessing||po.useManualTiming?Xa.timestamp:performance.now()),ag),set:t=>{ag=t,queueMicrotask(wK)}},O5=t=>s=>typeof s=="string"&&s.startsWith(t),L5=O5("--"),NK=O5("var(--"),Bw=t=>NK(t)?_K.test(t.split("/*")[0].trim()):!1,_K=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,ju={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},lm={...ju,transform:t=>fo(0,1,t)},Cp={...ju,default:1},Hh=t=>Math.round(t*1e5)/1e5,Fw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function CK(t){return t==null}const kK=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Iw=(t,s)=>a=>!!(typeof a=="string"&&kK.test(a)&&a.startsWith(t)||s&&!CK(a)&&Object.prototype.hasOwnProperty.call(a,s)),B5=(t,s,a)=>n=>{if(typeof n!="string")return n;const[r,i,l,d]=n.match(Fw);return{[t]:parseFloat(r),[s]:parseFloat(i),[a]:parseFloat(l),alpha:d!==void 0?parseFloat(d):1}},SK=t=>fo(0,255,t),Mb={...ju,transform:t=>Math.round(SK(t))},wc={test:Iw("rgb","red"),parse:B5("red","green","blue"),transform:({red:t,green:s,blue:a,alpha:n=1})=>"rgba("+Mb.transform(t)+", "+Mb.transform(s)+", "+Mb.transform(a)+", "+Hh(lm.transform(n))+")"};function AK(t){let s="",a="",n="",r="";return t.length>5?(s=t.substring(1,3),a=t.substring(3,5),n=t.substring(5,7),r=t.substring(7,9)):(s=t.substring(1,2),a=t.substring(2,3),n=t.substring(3,4),r=t.substring(4,5),s+=s,a+=a,n+=n,r+=r),{red:parseInt(s,16),green:parseInt(a,16),blue:parseInt(n,16),alpha:r?parseInt(r,16)/255:1}}const Zv={test:Iw("#"),parse:AK,transform:wc.transform},$m=t=>({test:s=>typeof s=="string"&&s.endsWith(t)&&s.split(" ").length===1,parse:parseFloat,transform:s=>`${s}${t}`}),il=$m("deg"),wi=$m("%"),Et=$m("px"),TK=$m("vh"),DK=$m("vw"),rS={...wi,parse:t=>wi.parse(t)/100,transform:t=>wi.transform(t*100)},Id={test:Iw("hsl","hue"),parse:B5("hue","saturation","lightness"),transform:({hue:t,saturation:s,lightness:a,alpha:n=1})=>"hsla("+Math.round(t)+", "+wi.transform(Hh(s))+", "+wi.transform(Hh(a))+", "+Hh(lm.transform(n))+")"},Na={test:t=>wc.test(t)||Zv.test(t)||Id.test(t),parse:t=>wc.test(t)?wc.parse(t):Id.test(t)?Id.parse(t):Zv.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?wc.transform(t):Id.transform(t),getAnimatableNone:t=>{const s=Na.parse(t);return s.alpha=0,Na.transform(s)}},EK=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function RK(t){return isNaN(t)&&typeof t=="string"&&(t.match(Fw)?.length||0)+(t.match(EK)?.length||0)>0}const F5="number",I5="color",MK="var",PK="var(",iS="${}",OK=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function cm(t){const s=t.toString(),a=[],n={color:[],number:[],var:[]},r=[];let i=0;const d=s.replace(OK,u=>(Na.test(u)?(n.color.push(i),r.push(I5),a.push(Na.parse(u))):u.startsWith(PK)?(n.var.push(i),r.push(MK),a.push(u)):(n.number.push(i),r.push(F5),a.push(parseFloat(u))),++i,iS)).split(iS);return{values:a,split:d,indexes:n,types:r}}function $5(t){return cm(t).values}function z5(t){const{split:s,types:a}=cm(t),n=s.length;return r=>{let i="";for(let l=0;l<n;l++)if(i+=s[l],r[l]!==void 0){const d=a[l];d===F5?i+=Hh(r[l]):d===I5?i+=Na.transform(r[l]):i+=r[l]}return i}}const LK=t=>typeof t=="number"?0:Na.test(t)?Na.getAnimatableNone(t):t;function BK(t){const s=$5(t);return z5(t)(s.map(LK))}const Nl={test:RK,parse:$5,createTransformer:z5,getAnimatableNone:BK};function Pb(t,s,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?t+(s-t)*6*a:a<1/2?s:a<2/3?t+(s-t)*(2/3-a)*6:t}function FK({hue:t,saturation:s,lightness:a,alpha:n}){t/=360,s/=100,a/=100;let r=0,i=0,l=0;if(!s)r=i=l=a;else{const d=a<.5?a*(1+s):a+s-a*s,u=2*a-d;r=Pb(u,d,t+1/3),i=Pb(u,d,t),l=Pb(u,d,t-1/3)}return{red:Math.round(r*255),green:Math.round(i*255),blue:Math.round(l*255),alpha:n}}function Pg(t,s){return a=>a>0?s:t}const ta=(t,s,a)=>t+(s-t)*a,Ob=(t,s,a)=>{const n=t*t,r=a*(s*s-n)+n;return r<0?0:Math.sqrt(r)},IK=[Zv,wc,Id],$K=t=>IK.find(s=>s.test(t));function oS(t){const s=$K(t);if(!s)return!1;let a=s.parse(t);return s===Id&&(a=FK(a)),a}const lS=(t,s)=>{const a=oS(t),n=oS(s);if(!a||!n)return Pg(t,s);const r={...a};return i=>(r.red=Ob(a.red,n.red,i),r.green=Ob(a.green,n.green,i),r.blue=Ob(a.blue,n.blue,i),r.alpha=ta(a.alpha,n.alpha,i),wc.transform(r))},Jv=new Set(["none","hidden"]);function zK(t,s){return Jv.has(t)?a=>a<=0?t:s:a=>a>=1?s:t}function VK(t,s){return a=>ta(t,s,a)}function $w(t){return typeof t=="number"?VK:typeof t=="string"?Bw(t)?Pg:Na.test(t)?lS:qK:Array.isArray(t)?V5:typeof t=="object"?Na.test(t)?lS:UK:Pg}function V5(t,s){const a=[...t],n=a.length,r=t.map((i,l)=>$w(i)(i,s[l]));return i=>{for(let l=0;l<n;l++)a[l]=r[l](i);return a}}function UK(t,s){const a={...t,...s},n={};for(const r in a)t[r]!==void 0&&s[r]!==void 0&&(n[r]=$w(t[r])(t[r],s[r]));return r=>{for(const i in n)a[i]=n[i](r);return a}}function HK(t,s){const a=[],n={color:0,var:0,number:0};for(let r=0;r<s.values.length;r++){const i=s.types[r],l=t.indexes[i][n[i]],d=t.values[l]??0;a[r]=d,n[i]++}return a}const qK=(t,s)=>{const a=Nl.createTransformer(s),n=cm(t),r=cm(s);return n.indexes.var.length===r.indexes.var.length&&n.indexes.color.length===r.indexes.color.length&&n.indexes.number.length>=r.indexes.number.length?Jv.has(t)&&!r.values.length||Jv.has(s)&&!n.values.length?zK(t,s):Fm(V5(HK(n,r),r.values),a):Pg(t,s)};function U5(t,s,a){return typeof t=="number"&&typeof s=="number"&&typeof a=="number"?ta(t,s,a):$w(t)(t,s)}const GK=t=>{const s=({timestamp:a})=>t(a);return{start:(a=!0)=>Xs.update(s,a),stop:()=>wl(s),now:()=>Xa.isProcessing?Xa.timestamp:Pn.now()}},H5=(t,s,a=10)=>{let n="";const r=Math.max(Math.round(s/a),2);for(let i=0;i<r;i++)n+=Math.round(t(i/(r-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},Og=2e4;function zw(t){let s=0;const a=50;let n=t.next(s);for(;!n.done&&s<Og;)s+=a,n=t.next(s);return s>=Og?1/0:s}function WK(t,s=100,a){const n=a({...t,keyframes:[0,s]}),r=Math.min(zw(n),Og);return{type:"keyframes",ease:i=>n.next(r*i).value/s,duration:_r(r)}}const YK=5;function q5(t,s,a){const n=Math.max(s-YK,0);return N5(a-t(n),s-n)}const oa={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Lb=.001;function KK({duration:t=oa.duration,bounce:s=oa.bounce,velocity:a=oa.velocity,mass:n=oa.mass}){let r,i,l=1-s;l=fo(oa.minDamping,oa.maxDamping,l),t=fo(oa.minDuration,oa.maxDuration,_r(t)),l<1?(r=h=>{const p=h*l,f=p*t,x=p-a,v=ej(h,l),j=Math.exp(-f);return Lb-x/v*j},i=h=>{const f=h*l*t,x=f*a+a,v=Math.pow(l,2)*Math.pow(h,2)*t,j=Math.exp(-f),w=ej(Math.pow(h,2),l);return(-r(h)+Lb>0?-1:1)*((x-v)*j)/w}):(r=h=>{const p=Math.exp(-h*t),f=(h-a)*t+1;return-Lb+p*f},i=h=>{const p=Math.exp(-h*t),f=(a-h)*(t*t);return p*f});const d=5/t,u=QK(r,i,d);if(t=ji(t),isNaN(u))return{stiffness:oa.stiffness,damping:oa.damping,duration:t};{const h=Math.pow(u,2)*n;return{stiffness:h,damping:l*2*Math.sqrt(n*h),duration:t}}}const XK=12;function QK(t,s,a){let n=a;for(let r=1;r<XK;r++)n=n-t(n)/s(n);return n}function ej(t,s){return t*Math.sqrt(1-s*s)}const ZK=["duration","bounce"],JK=["stiffness","damping","mass"];function cS(t,s){return s.some(a=>t[a]!==void 0)}function eX(t){let s={velocity:oa.velocity,stiffness:oa.stiffness,damping:oa.damping,mass:oa.mass,isResolvedFromDuration:!1,...t};if(!cS(t,JK)&&cS(t,ZK))if(t.visualDuration){const a=t.visualDuration,n=2*Math.PI/(a*1.2),r=n*n,i=2*fo(.05,1,1-(t.bounce||0))*Math.sqrt(r);s={...s,mass:oa.mass,stiffness:r,damping:i}}else{const a=KK(t);s={...s,...a,mass:oa.mass},s.isResolvedFromDuration=!0}return s}function Lg(t=oa.visualDuration,s=oa.bounce){const a=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:s}:t;let{restSpeed:n,restDelta:r}=a;const i=a.keyframes[0],l=a.keyframes[a.keyframes.length-1],d={done:!1,value:i},{stiffness:u,damping:h,mass:p,duration:f,velocity:x,isResolvedFromDuration:v}=eX({...a,velocity:-_r(a.velocity||0)}),j=x||0,w=h/(2*Math.sqrt(u*p)),_=l-i,N=_r(Math.sqrt(u/p)),k=Math.abs(_)<5;n||(n=k?oa.restSpeed.granular:oa.restSpeed.default),r||(r=k?oa.restDelta.granular:oa.restDelta.default);let D;if(w<1){const E=ej(N,w);D=G=>{const A=Math.exp(-w*N*G);return l-A*((j+w*N*_)/E*Math.sin(E*G)+_*Math.cos(E*G))}}else if(w===1)D=E=>l-Math.exp(-N*E)*(_+(j+N*_)*E);else{const E=N*Math.sqrt(w*w-1);D=G=>{const A=Math.exp(-w*N*G),F=Math.min(E*G,300);return l-A*((j+w*N*_)*Math.sinh(F)+E*_*Math.cosh(F))/E}}const T={calculatedDuration:v&&f||null,next:E=>{const G=D(E);if(v)d.done=E>=f;else{let A=E===0?j:0;w<1&&(A=E===0?ji(j):q5(D,E,G));const F=Math.abs(A)<=n,M=Math.abs(l-G)<=r;d.done=F&&M}return d.value=d.done?l:G,d},toString:()=>{const E=Math.min(zw(T),Og),G=H5(A=>T.next(E*A).value,E,30);return E+"ms "+G},toTransition:()=>{}};return T}Lg.applyToOptions=t=>{const s=WK(t,100,Lg);return t.ease=s.ease,t.duration=ji(s.duration),t.type="keyframes",t};function tj({keyframes:t,velocity:s=0,power:a=.8,timeConstant:n=325,bounceDamping:r=10,bounceStiffness:i=500,modifyTarget:l,min:d,max:u,restDelta:h=.5,restSpeed:p}){const f=t[0],x={done:!1,value:f},v=F=>d!==void 0&&F<d||u!==void 0&&F>u,j=F=>d===void 0?u:u===void 0||Math.abs(d-F)<Math.abs(u-F)?d:u;let w=a*s;const _=f+w,N=l===void 0?_:l(_);N!==_&&(w=N-f);const k=F=>-w*Math.exp(-F/n),D=F=>N+k(F),T=F=>{const M=k(F),J=D(F);x.done=Math.abs(M)<=h,x.value=x.done?N:J};let E,G;const A=F=>{v(x.value)&&(E=F,G=Lg({keyframes:[x.value,j(x.value)],velocity:q5(D,F,x.value),damping:r,stiffness:i,restDelta:h,restSpeed:p}))};return A(0),{calculatedDuration:null,next:F=>{let M=!1;return!G&&E===void 0&&(M=!0,T(F),A(F)),E!==void 0&&F>=E?G.next(F-E):(!M&&T(F),x)}}}function tX(t,s,a){const n=[],r=a||po.mix||U5,i=t.length-1;for(let l=0;l<i;l++){let d=r(t[l],t[l+1]);if(s){const u=Array.isArray(s)?s[l]||Cr:s;d=Fm(u,d)}n.push(d)}return n}function sX(t,s,{clamp:a=!0,ease:n,mixer:r}={}){const i=t.length;if(Rw(i===s.length),i===1)return()=>s[0];if(i===2&&s[0]===s[1])return()=>s[1];const l=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),s=[...s].reverse());const d=tX(s,n,r),u=d.length,h=p=>{if(l&&p<t[0])return s[0];let f=0;if(u>1)for(;f<t.length-2&&!(p<t[f+1]);f++);const x=om(t[f],t[f+1],p);return d[f](x)};return a?p=>h(fo(t[0],t[i-1],p)):h}function aX(t,s){const a=t[t.length-1];for(let n=1;n<=s;n++){const r=om(0,s,n);t.push(ta(a,1,r))}}function nX(t){const s=[0];return aX(s,t.length-1),s}function rX(t,s){return t.map(a=>a*s)}function iX(t,s){return t.map(()=>s||R5).splice(0,t.length-1)}function qh({duration:t=300,keyframes:s,times:a,ease:n="easeInOut"}){const r=xK(n)?n.map(nS):nS(n),i={done:!1,value:s[0]},l=rX(a&&a.length===s.length?a:nX(s),t),d=sX(l,s,{ease:Array.isArray(r)?r:iX(s,r)});return{calculatedDuration:t,next:u=>(i.value=d(u),i.done=u>=t,i)}}const oX=t=>t!==null;function Vw(t,{repeat:s,repeatType:a="loop"},n,r=1){const i=t.filter(oX),d=r<0||s&&a!=="loop"&&s%2===1?0:i.length-1;return!d||n===void 0?i[d]:n}const lX={decay:tj,inertia:tj,tween:qh,keyframes:qh,spring:Lg};function G5(t){typeof t.type=="string"&&(t.type=lX[t.type])}class Uw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(s=>{this.resolve=s})}notifyFinished(){this.resolve()}then(s,a){return this.finished.then(s,a)}}const cX=t=>t/100;class Hw extends Uw{constructor(s){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:a}=this.options;a&&a.updatedAt!==Pn.now()&&this.tick(Pn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=s,this.initAnimation(),this.play(),s.autoplay===!1&&this.pause()}initAnimation(){const{options:s}=this;G5(s);const{type:a=qh,repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:l=0}=s;let{keyframes:d}=s;const u=a||qh;u!==qh&&typeof d[0]!="number"&&(this.mixKeyframes=Fm(cX,U5(d[0],d[1])),d=[0,100]);const h=u({...s,keyframes:d});i==="mirror"&&(this.mirroredGenerator=u({...s,keyframes:[...d].reverse(),velocity:-l})),h.calculatedDuration===null&&(h.calculatedDuration=zw(h));const{calculatedDuration:p}=h;this.calculatedDuration=p,this.resolvedDuration=p+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=h}updateTime(s){const a=Math.round(s-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=a}tick(s,a=!1){const{generator:n,totalDuration:r,mixKeyframes:i,mirroredGenerator:l,resolvedDuration:d,calculatedDuration:u}=this;if(this.startTime===null)return n.next(0);const{delay:h=0,keyframes:p,repeat:f,repeatType:x,repeatDelay:v,type:j,onUpdate:w,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,s):this.speed<0&&(this.startTime=Math.min(s-r/this.speed,this.startTime)),a?this.currentTime=s:this.updateTime(s);const N=this.currentTime-h*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?N<0:N>r;this.currentTime=Math.max(N,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let D=this.currentTime,T=n;if(f){const F=Math.min(this.currentTime,r)/d;let M=Math.floor(F),J=F%1;!J&&F>=1&&(J=1),J===1&&M--,M=Math.min(M,f+1),!!(M%2)&&(x==="reverse"?(J=1-J,v&&(J-=v/d)):x==="mirror"&&(T=l)),D=fo(0,1,J)*d}const E=k?{done:!1,value:p[0]}:T.next(D);i&&(E.value=i(E.value));let{done:G}=E;!k&&u!==null&&(G=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const A=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&G);return A&&j!==tj&&(E.value=Vw(p,this.options,_,this.speed)),w&&w(E.value),A&&this.finish(),E}then(s,a){return this.finished.then(s,a)}get duration(){return _r(this.calculatedDuration)}get iterationDuration(){const{delay:s=0}=this.options||{};return this.duration+_r(s)}get time(){return _r(this.currentTime)}set time(s){s=ji(s),this.currentTime=s,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=s:this.driver&&(this.startTime=this.driver.now()-s/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(s){this.updateTime(Pn.now());const a=this.playbackSpeed!==s;this.playbackSpeed=s,a&&(this.time=_r(this.currentTime))}play(){if(this.isStopped)return;const{driver:s=GK,startTime:a}=this.options;this.driver||(this.driver=s(r=>this.tick(r))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=a??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Pn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(s){return this.startTime=0,this.tick(s,!0)}attachTimeline(s){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),s.observe(this)}}function dX(t){for(let s=1;s<t.length;s++)t[s]??(t[s]=t[s-1])}const Nc=t=>t*180/Math.PI,sj=t=>{const s=Nc(Math.atan2(t[1],t[0]));return aj(s)},uX={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:sj,rotateZ:sj,skewX:t=>Nc(Math.atan(t[1])),skewY:t=>Nc(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},aj=t=>(t=t%360,t<0&&(t+=360),t),dS=sj,uS=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),hS=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),hX={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:uS,scaleY:hS,scale:t=>(uS(t)+hS(t))/2,rotateX:t=>aj(Nc(Math.atan2(t[6],t[5]))),rotateY:t=>aj(Nc(Math.atan2(-t[2],t[0]))),rotateZ:dS,rotate:dS,skewX:t=>Nc(Math.atan(t[4])),skewY:t=>Nc(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function nj(t){return t.includes("scale")?1:0}function rj(t,s){if(!t||t==="none")return nj(s);const a=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,r;if(a)n=hX,r=a;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=uX,r=d}if(!r)return nj(s);const i=n[s],l=r[1].split(",").map(fX);return typeof i=="function"?i(l):l[i]}const mX=(t,s)=>{const{transform:a="none"}=getComputedStyle(t);return rj(a,s)};function fX(t){return parseFloat(t.trim())}const wu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Nu=new Set(wu),mS=t=>t===ju||t===Et,pX=new Set(["x","y","z"]),gX=wu.filter(t=>!pX.has(t));function xX(t){const s=[];return gX.forEach(a=>{const n=t.getValue(a);n!==void 0&&(s.push([a,n.get()]),n.set(a.startsWith("scale")?1:0))}),s}const kc={width:({x:t},{paddingLeft:s="0",paddingRight:a="0"})=>t.max-t.min-parseFloat(s)-parseFloat(a),height:({y:t},{paddingTop:s="0",paddingBottom:a="0"})=>t.max-t.min-parseFloat(s)-parseFloat(a),top:(t,{top:s})=>parseFloat(s),left:(t,{left:s})=>parseFloat(s),bottom:({y:t},{top:s})=>parseFloat(s)+(t.max-t.min),right:({x:t},{left:s})=>parseFloat(s)+(t.max-t.min),x:(t,{transform:s})=>rj(s,"x"),y:(t,{transform:s})=>rj(s,"y")};kc.translateX=kc.x;kc.translateY=kc.y;const Sc=new Set;let ij=!1,oj=!1,lj=!1;function W5(){if(oj){const t=Array.from(Sc).filter(n=>n.needsMeasurement),s=new Set(t.map(n=>n.element)),a=new Map;s.forEach(n=>{const r=xX(n);r.length&&(a.set(n,r),n.render())}),t.forEach(n=>n.measureInitialState()),s.forEach(n=>{n.render();const r=a.get(n);r&&r.forEach(([i,l])=>{n.getValue(i)?.set(l)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}oj=!1,ij=!1,Sc.forEach(t=>t.complete(lj)),Sc.clear()}function Y5(){Sc.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(oj=!0)})}function yX(){lj=!0,Y5(),W5(),lj=!1}class qw{constructor(s,a,n,r,i,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...s],this.onComplete=a,this.name=n,this.motionValue=r,this.element=i,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Sc.add(this),ij||(ij=!0,Xs.read(Y5),Xs.resolveKeyframes(W5))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:s,name:a,element:n,motionValue:r}=this;if(s[0]===null){const i=r?.get(),l=s[s.length-1];if(i!==void 0)s[0]=i;else if(n&&a){const d=n.readValue(a,l);d!=null&&(s[0]=d)}s[0]===void 0&&(s[0]=l),r&&i===void 0&&r.set(s[0])}dX(s)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(s=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,s),Sc.delete(this)}cancel(){this.state==="scheduled"&&(Sc.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const bX=t=>t.startsWith("--");function vX(t,s,a){bX(s)?t.style.setProperty(s,a):t.style[s]=a}const jX=Mw(()=>window.ScrollTimeline!==void 0),wX={};function NX(t,s){const a=Mw(t);return()=>wX[s]??a()}const K5=NX(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Lh=([t,s,a,n])=>`cubic-bezier(${t}, ${s}, ${a}, ${n})`,fS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Lh([0,.65,.55,1]),circOut:Lh([.55,0,1,.45]),backIn:Lh([.31,.01,.66,-.59]),backOut:Lh([.33,1.53,.69,.99])};function X5(t,s){if(t)return typeof t=="function"?K5()?H5(t,s):"ease-out":M5(t)?Lh(t):Array.isArray(t)?t.map(a=>X5(a,s)||fS.easeOut):fS[t]}function _X(t,s,a,{delay:n=0,duration:r=300,repeat:i=0,repeatType:l="loop",ease:d="easeOut",times:u}={},h=void 0){const p={[s]:a};u&&(p.offset=u);const f=X5(d,r);Array.isArray(f)&&(p.easing=f);const x={delay:n,duration:r,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:l==="reverse"?"alternate":"normal"};return h&&(x.pseudoElement=h),t.animate(p,x)}function Q5(t){return typeof t=="function"&&"applyToOptions"in t}function CX({type:t,...s}){return Q5(t)&&K5()?t.applyToOptions(s):(s.duration??(s.duration=300),s.ease??(s.ease="easeOut"),s)}class kX extends Uw{constructor(s){if(super(),this.finishedTime=null,this.isStopped=!1,!s)return;const{element:a,name:n,keyframes:r,pseudoElement:i,allowFlatten:l=!1,finalKeyframe:d,onComplete:u}=s;this.isPseudoElement=!!i,this.allowFlatten=l,this.options=s,Rw(typeof s.type!="string");const h=CX(s);this.animation=_X(a,n,r,h,i),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const p=Vw(r,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(p):vX(a,n,p),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:s}=this;s==="idle"||s==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const s=this.animation.effect?.getComputedTiming?.().duration||0;return _r(Number(s))}get iterationDuration(){const{delay:s=0}=this.options||{};return this.duration+_r(s)}get time(){return _r(Number(this.animation.currentTime)||0)}set time(s){this.finishedTime=null,this.animation.currentTime=ji(s)}get speed(){return this.animation.playbackRate}set speed(s){s<0&&(this.finishedTime=null),this.animation.playbackRate=s}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(s){this.animation.startTime=s}attachTimeline({timeline:s,observe:a}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,s&&jX()?(this.animation.timeline=s,Cr):a(this)}}const Z5={anticipate:T5,backInOut:A5,circInOut:E5};function SX(t){return t in Z5}function AX(t){typeof t.ease=="string"&&SX(t.ease)&&(t.ease=Z5[t.ease])}const pS=10;class TX extends kX{constructor(s){AX(s),G5(s),super(s),s.startTime&&(this.startTime=s.startTime),this.options=s}updateMotionValue(s){const{motionValue:a,onUpdate:n,onComplete:r,element:i,...l}=this.options;if(!a)return;if(s!==void 0){a.set(s);return}const d=new Hw({...l,autoplay:!1}),u=ji(this.finishedTime??this.time);a.setWithVelocity(d.sample(u-pS).value,d.sample(u).value,pS),d.stop()}}const gS=(t,s)=>s==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Nl.test(t)||t==="0")&&!t.startsWith("url("));function DX(t){const s=t[0];if(t.length===1)return!0;for(let a=0;a<t.length;a++)if(t[a]!==s)return!0}function EX(t,s,a,n){const r=t[0];if(r===null)return!1;if(s==="display"||s==="visibility")return!0;const i=t[t.length-1],l=gS(r,s),d=gS(i,s);return!l||!d?!1:DX(t)||(a==="spring"||Q5(a))&&n}function cj(t){t.duration=0,t.type="keyframes"}const RX=new Set(["opacity","clipPath","filter","transform"]),MX=Mw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function PX(t){const{motionValue:s,name:a,repeatDelay:n,repeatType:r,damping:i,type:l}=t;if(!(s?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:h}=s.owner.getProps();return MX()&&a&&RX.has(a)&&(a!=="transform"||!h)&&!u&&!n&&r!=="mirror"&&i!==0&&l!=="inertia"}const OX=40;class LX extends Uw{constructor({autoplay:s=!0,delay:a=0,type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:l="loop",keyframes:d,name:u,motionValue:h,element:p,...f}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Pn.now();const x={autoplay:s,delay:a,type:n,repeat:r,repeatDelay:i,repeatType:l,name:u,motionValue:h,element:p,...f},v=p?.KeyframeResolver||qw;this.keyframeResolver=new v(d,(j,w,_)=>this.onKeyframesResolved(j,w,x,!_),u,h,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(s,a,n,r){this.keyframeResolver=void 0;const{name:i,type:l,velocity:d,delay:u,isHandoff:h,onUpdate:p}=n;this.resolvedAt=Pn.now(),EX(s,i,l,d)||((po.instantAnimations||!u)&&p?.(Vw(s,n,a)),s[0]=s[s.length-1],cj(n),n.repeat=0);const x={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>OX?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:a,...n,keyframes:s},v=!h&&PX(x)?new TX({...x,element:x.motionValue.owner.current}):new Hw(x);v.finished.then(()=>this.notifyFinished()).catch(Cr),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(s,a){return this.finished.finally(s).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),yX()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(s){this.animation.time=s}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(s){this.animation.speed=s}get startTime(){return this.animation.startTime}attachTimeline(s){return this._animation?this.stopTimeline=this.animation.attachTimeline(s):this.pendingTimeline=s,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const BX=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function FX(t){const s=BX.exec(t);if(!s)return[,];const[,a,n,r]=s;return[`--${a??n}`,r]}function J5(t,s,a=1){const[n,r]=FX(t);if(!n)return;const i=window.getComputedStyle(s).getPropertyValue(n);if(i){const l=i.trim();return v5(l)?parseFloat(l):l}return Bw(r)?J5(r,s,a+1):r}function Gw(t,s){return t?.[s]??t?.default??t}const eM=new Set(["width","height","top","left","right","bottom",...wu]),IX={test:t=>t==="auto",parse:t=>t},tM=t=>s=>s.test(t),sM=[ju,Et,wi,il,DK,TK,IX],xS=t=>sM.find(tM(t));function $X(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||w5(t):!0}const zX=new Set(["brightness","contrast","saturate","opacity"]);function VX(t){const[s,a]=t.slice(0,-1).split("(");if(s==="drop-shadow")return t;const[n]=a.match(Fw)||[];if(!n)return t;const r=a.replace(n,"");let i=zX.has(s)?1:0;return n!==a&&(i*=100),s+"("+i+r+")"}const UX=/\b([a-z-]*)\(.*?\)/gu,dj={...Nl,getAnimatableNone:t=>{const s=t.match(UX);return s?s.map(VX).join(" "):t}},yS={...ju,transform:Math.round},HX={rotate:il,rotateX:il,rotateY:il,rotateZ:il,scale:Cp,scaleX:Cp,scaleY:Cp,scaleZ:Cp,skew:il,skewX:il,skewY:il,distance:Et,translateX:Et,translateY:Et,translateZ:Et,x:Et,y:Et,z:Et,perspective:Et,transformPerspective:Et,opacity:lm,originX:rS,originY:rS,originZ:Et},Ww={borderWidth:Et,borderTopWidth:Et,borderRightWidth:Et,borderBottomWidth:Et,borderLeftWidth:Et,borderRadius:Et,radius:Et,borderTopLeftRadius:Et,borderTopRightRadius:Et,borderBottomRightRadius:Et,borderBottomLeftRadius:Et,width:Et,maxWidth:Et,height:Et,maxHeight:Et,top:Et,right:Et,bottom:Et,left:Et,padding:Et,paddingTop:Et,paddingRight:Et,paddingBottom:Et,paddingLeft:Et,margin:Et,marginTop:Et,marginRight:Et,marginBottom:Et,marginLeft:Et,backgroundPositionX:Et,backgroundPositionY:Et,...HX,zIndex:yS,fillOpacity:lm,strokeOpacity:lm,numOctaves:yS},qX={...Ww,color:Na,backgroundColor:Na,outlineColor:Na,fill:Na,stroke:Na,borderColor:Na,borderTopColor:Na,borderRightColor:Na,borderBottomColor:Na,borderLeftColor:Na,filter:dj,WebkitFilter:dj},aM=t=>qX[t];function nM(t,s){let a=aM(t);return a!==dj&&(a=Nl),a.getAnimatableNone?a.getAnimatableNone(s):void 0}const GX=new Set(["auto","none","0"]);function WX(t,s,a){let n=0,r;for(;n<t.length&&!r;){const i=t[n];typeof i=="string"&&!GX.has(i)&&cm(i).values.length&&(r=t[n]),n++}if(r&&a)for(const i of s)t[i]=nM(a,r)}class YX extends qw{constructor(s,a,n,r,i){super(s,a,n,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:s,element:a,name:n}=this;if(!a||!a.current)return;super.readKeyframes();for(let u=0;u<s.length;u++){let h=s[u];if(typeof h=="string"&&(h=h.trim(),Bw(h))){const p=J5(h,a.current);p!==void 0&&(s[u]=p),u===s.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!eM.has(n)||s.length!==2)return;const[r,i]=s,l=xS(r),d=xS(i);if(l!==d)if(mS(l)&&mS(d))for(let u=0;u<s.length;u++){const h=s[u];typeof h=="string"&&(s[u]=parseFloat(h))}else kc[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:s,name:a}=this,n=[];for(let r=0;r<s.length;r++)(s[r]===null||$X(s[r]))&&n.push(r);n.length&&WX(s,n,a)}measureInitialState(){const{element:s,unresolvedKeyframes:a,name:n}=this;if(!s||!s.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=kc[n](s.measureViewportBox(),window.getComputedStyle(s.current)),a[0]=this.measuredOrigin;const r=a[a.length-1];r!==void 0&&s.getValue(n,r).jump(r,!1)}measureEndState(){const{element:s,name:a,unresolvedKeyframes:n}=this;if(!s||!s.current)return;const r=s.getValue(a);r&&r.jump(this.measuredOrigin,!1);const i=n.length-1,l=n[i];n[i]=kc[a](s.measureViewportBox(),window.getComputedStyle(s.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,u])=>{s.getValue(d).set(u)}),this.resolveNoneKeyframes()}}function KX(t,s,a){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const r=a?.[t]??n.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const rM=(t,s)=>s&&typeof t=="number"?s.transform(t):t;function iM(t){return j5(t)&&"offsetHeight"in t}const bS=30,XX=t=>!isNaN(parseFloat(t));class QX{constructor(s,a={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const r=Pn.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(s),this.owner=a.owner}setCurrent(s){this.current=s,this.updatedAt=Pn.now(),this.canTrackVelocity===null&&s!==void 0&&(this.canTrackVelocity=XX(this.current))}setPrevFrameValue(s=this.current){this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt}onChange(s){return this.on("change",s)}on(s,a){this.events[s]||(this.events[s]=new Pw);const n=this.events[s].add(a);return s==="change"?()=>{n(),Xs.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const s in this.events)this.events[s].clear()}attach(s,a){this.passiveEffect=s,this.stopPassiveEffect=a}set(s){this.passiveEffect?this.passiveEffect(s,this.updateAndNotify):this.updateAndNotify(s)}setWithVelocity(s,a,n){this.set(a),this.prev=void 0,this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt-n}jump(s,a=!0){this.updateAndNotify(s),this.prev=s,this.prevUpdatedAt=this.prevFrameValue=void 0,a&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(s){this.dependents||(this.dependents=new Set),this.dependents.add(s)}removeDependent(s){this.dependents&&this.dependents.delete(s)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const s=Pn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||s-this.updatedAt>bS)return 0;const a=Math.min(this.updatedAt-this.prevUpdatedAt,bS);return N5(parseFloat(this.current)-parseFloat(this.prevFrameValue),a)}start(s){return this.stop(),new Promise(a=>{this.hasAnimated=!0,this.animation=s(a),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function tu(t,s){return new QX(t,s)}const{schedule:Yw}=P5(queueMicrotask,!1),Vr={x:!1,y:!1};function oM(){return Vr.x||Vr.y}function ZX(t){return t==="x"||t==="y"?Vr[t]?null:(Vr[t]=!0,()=>{Vr[t]=!1}):Vr.x||Vr.y?null:(Vr.x=Vr.y=!0,()=>{Vr.x=Vr.y=!1})}function lM(t,s){const a=KX(t),n=new AbortController,r={passive:!0,...s,signal:n.signal};return[a,r,()=>n.abort()]}function vS(t){return!(t.pointerType==="touch"||oM())}function JX(t,s,a={}){const[n,r,i]=lM(t,a),l=d=>{if(!vS(d))return;const{target:u}=d,h=s(u,d);if(typeof h!="function"||!u)return;const p=f=>{vS(f)&&(h(f),u.removeEventListener("pointerleave",p))};u.addEventListener("pointerleave",p,r)};return n.forEach(d=>{d.addEventListener("pointerenter",l,r)}),i}const cM=(t,s)=>s?t===s?!0:cM(t,s.parentElement):!1,Kw=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,eQ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function tQ(t){return eQ.has(t.tagName)||t.tabIndex!==-1}const ng=new WeakSet;function jS(t){return s=>{s.key==="Enter"&&t(s)}}function Bb(t,s){t.dispatchEvent(new PointerEvent("pointer"+s,{isPrimary:!0,bubbles:!0}))}const sQ=(t,s)=>{const a=t.currentTarget;if(!a)return;const n=jS(()=>{if(ng.has(a))return;Bb(a,"down");const r=jS(()=>{Bb(a,"up")}),i=()=>Bb(a,"cancel");a.addEventListener("keyup",r,s),a.addEventListener("blur",i,s)});a.addEventListener("keydown",n,s),a.addEventListener("blur",()=>a.removeEventListener("keydown",n),s)};function wS(t){return Kw(t)&&!oM()}function aQ(t,s,a={}){const[n,r,i]=lM(t,a),l=d=>{const u=d.currentTarget;if(!wS(d))return;ng.add(u);const h=s(u,d),p=(v,j)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",x),ng.has(u)&&ng.delete(u),wS(v)&&typeof h=="function"&&h(v,{success:j})},f=v=>{p(v,u===window||u===document||a.useGlobalTarget||cM(u,v.target))},x=v=>{p(v,!1)};window.addEventListener("pointerup",f,r),window.addEventListener("pointercancel",x,r)};return n.forEach(d=>{(a.useGlobalTarget?window:d).addEventListener("pointerdown",l,r),iM(d)&&(d.addEventListener("focus",h=>sQ(h,r)),!tQ(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),i}function dM(t){return j5(t)&&"ownerSVGElement"in t}function nQ(t){return dM(t)&&t.tagName==="svg"}const an=t=>!!(t&&t.getVelocity),rQ=[...sM,Na,Nl],iQ=t=>rQ.find(tM(t)),Xw=y.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function NS(t,s){if(typeof t=="function")return t(s);t!=null&&(t.current=s)}function oQ(...t){return s=>{let a=!1;const n=t.map(r=>{const i=NS(r,s);return!a&&typeof i=="function"&&(a=!0),i});if(a)return()=>{for(let r=0;r<n.length;r++){const i=n[r];typeof i=="function"?i():NS(t[r],null)}}}}function lQ(...t){return y.useCallback(oQ(...t),t)}class cQ extends y.Component{getSnapshotBeforeUpdate(s){const a=this.props.childRef.current;if(a&&s.isPresent&&!this.props.isPresent){const n=a.offsetParent,r=iM(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=a.offsetHeight||0,i.width=a.offsetWidth||0,i.top=a.offsetTop,i.left=a.offsetLeft,i.right=r-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function dQ({children:t,isPresent:s,anchorX:a,root:n}){const r=y.useId(),i=y.useRef(null),l=y.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=y.useContext(Xw),u=lQ(i,t?.ref);return y.useInsertionEffect(()=>{const{width:h,height:p,top:f,left:x,right:v}=l.current;if(s||!i.current||!h||!p)return;const j=a==="left"?`left: ${x}`:`right: ${v}`;i.current.dataset.motionPopId=r;const w=document.createElement("style");d&&(w.nonce=d);const _=n??document.head;return _.appendChild(w),w.sheet&&w.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${p}px !important;
            ${j}px !important;
            top: ${f}px !important;
          }
        `),()=>{_.contains(w)&&_.removeChild(w)}},[s]),e.jsx(cQ,{isPresent:s,childRef:i,sizeRef:l,children:y.cloneElement(t,{ref:u})})}const uQ=({children:t,initial:s,isPresent:a,onExitComplete:n,custom:r,presenceAffectsLayout:i,mode:l,anchorX:d,root:u})=>{const h=Aw(hQ),p=y.useId();let f=!0,x=y.useMemo(()=>(f=!1,{id:p,initial:s,isPresent:a,custom:r,onExitComplete:v=>{h.set(v,!0);for(const j of h.values())if(!j)return;n&&n()},register:v=>(h.set(v,!1),()=>h.delete(v))}),[a,h,n]);return i&&f&&(x={...x}),y.useMemo(()=>{h.forEach((v,j)=>h.set(j,!1))},[a]),y.useEffect(()=>{!a&&!h.size&&n&&n()},[a]),l==="popLayout"&&(t=e.jsx(dQ,{isPresent:a,anchorX:d,root:u,children:t})),e.jsx(Dx.Provider,{value:x,children:t})};function hQ(){return new Map}function uM(t=!0){const s=y.useContext(Dx);if(s===null)return[!0,null];const{isPresent:a,onExitComplete:n,register:r}=s,i=y.useId();y.useEffect(()=>{if(t)return r(i)},[t]);const l=y.useCallback(()=>t&&n&&n(i),[i,n,t]);return!a&&n?[!1,l]:[!0]}const kp=t=>t.key||"";function _S(t){const s=[];return y.Children.forEach(t,a=>{y.isValidElement(a)&&s.push(a)}),s}const go=({children:t,custom:s,initial:a=!0,onExitComplete:n,presenceAffectsLayout:r=!0,mode:i="sync",propagate:l=!1,anchorX:d="left",root:u})=>{const[h,p]=uM(l),f=y.useMemo(()=>_S(t),[t]),x=l&&!h?[]:f.map(kp),v=y.useRef(!0),j=y.useRef(f),w=Aw(()=>new Map),[_,N]=y.useState(f),[k,D]=y.useState(f);b5(()=>{v.current=!1,j.current=f;for(let G=0;G<k.length;G++){const A=kp(k[G]);x.includes(A)?w.delete(A):w.get(A)!==!0&&w.set(A,!1)}},[k,x.length,x.join("-")]);const T=[];if(f!==_){let G=[...f];for(let A=0;A<k.length;A++){const F=k[A],M=kp(F);x.includes(M)||(G.splice(A,0,F),T.push(F))}return i==="wait"&&T.length&&(G=T),D(_S(G)),N(f),null}const{forceRender:E}=y.useContext(Sw);return e.jsx(e.Fragment,{children:k.map(G=>{const A=kp(G),F=l&&!h?!1:f===k||x.includes(A),M=()=>{if(w.has(A))w.set(A,!0);else return;let J=!0;w.forEach(R=>{R||(J=!1)}),J&&(E?.(),D(j.current),l&&p?.(),n&&n())};return e.jsx(uQ,{isPresent:F,initial:!v.current||a?void 0:!1,custom:s,presenceAffectsLayout:r,mode:i,root:u,onExitComplete:F?void 0:M,anchorX:d,children:G},A)})})},hM=y.createContext({strict:!1}),CS={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},su={};for(const t in CS)su[t]={isEnabled:s=>CS[t].some(a=>!!s[a])};function mQ(t){for(const s in t)su[s]={...su[s],...t[s]}}const fQ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Bg(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||fQ.has(t)}let mM=t=>!Bg(t);function pQ(t){typeof t=="function"&&(mM=s=>s.startsWith("on")?!Bg(s):t(s))}try{pQ(require("@emotion/is-prop-valid").default)}catch{}function gQ(t,s,a){const n={};for(const r in t)r==="values"&&typeof t.values=="object"||(mM(r)||a===!0&&Bg(r)||!s&&!Bg(r)||t.draggable&&r.startsWith("onDrag"))&&(n[r]=t[r]);return n}const Ex=y.createContext({});function Rx(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function dm(t){return typeof t=="string"||Array.isArray(t)}const Qw=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Zw=["initial",...Qw];function Mx(t){return Rx(t.animate)||Zw.some(s=>dm(t[s]))}function fM(t){return!!(Mx(t)||t.variants)}function xQ(t,s){if(Mx(t)){const{initial:a,animate:n}=t;return{initial:a===!1||dm(a)?a:void 0,animate:dm(n)?n:void 0}}return t.inherit!==!1?s:{}}function yQ(t){const{initial:s,animate:a}=xQ(t,y.useContext(Ex));return y.useMemo(()=>({initial:s,animate:a}),[kS(s),kS(a)])}function kS(t){return Array.isArray(t)?t.join(" "):t}function SS(t,s){return s.max===s.min?0:t/(s.max-s.min)*100}const Sh={correct:(t,s)=>{if(!s.target)return t;if(typeof t=="string")if(Et.test(t))t=parseFloat(t);else return t;const a=SS(t,s.target.x),n=SS(t,s.target.y);return`${a}% ${n}%`}},bQ={correct:(t,{treeScale:s,projectionDelta:a})=>{const n=t,r=Nl.parse(t);if(r.length>5)return n;const i=Nl.createTransformer(t),l=typeof r[0]!="number"?1:0,d=a.x.scale*s.x,u=a.y.scale*s.y;r[0+l]/=d,r[1+l]/=u;const h=ta(d,u,.5);return typeof r[2+l]=="number"&&(r[2+l]/=h),typeof r[3+l]=="number"&&(r[3+l]/=h),i(r)}},uj={borderRadius:{...Sh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Sh,borderTopRightRadius:Sh,borderBottomLeftRadius:Sh,borderBottomRightRadius:Sh,boxShadow:bQ};function pM(t,{layout:s,layoutId:a}){return Nu.has(t)||t.startsWith("origin")||(s||a!==void 0)&&(!!uj[t]||t==="opacity")}const vQ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},jQ=wu.length;function wQ(t,s,a){let n="",r=!0;for(let i=0;i<jQ;i++){const l=wu[i],d=t[l];if(d===void 0)continue;let u=!0;if(typeof d=="number"?u=d===(l.startsWith("scale")?1:0):u=parseFloat(d)===0,!u||a){const h=rM(d,Ww[l]);if(!u){r=!1;const p=vQ[l]||l;n+=`${p}(${h}) `}a&&(s[l]=h)}}return n=n.trim(),a?n=a(s,r?"":n):r&&(n="none"),n}function Jw(t,s,a){const{style:n,vars:r,transformOrigin:i}=t;let l=!1,d=!1;for(const u in s){const h=s[u];if(Nu.has(u)){l=!0;continue}else if(L5(u)){r[u]=h;continue}else{const p=rM(h,Ww[u]);u.startsWith("origin")?(d=!0,i[u]=p):n[u]=p}}if(s.transform||(l||a?n.transform=wQ(s,t.transform,a):n.transform&&(n.transform="none")),d){const{originX:u="50%",originY:h="50%",originZ:p=0}=i;n.transformOrigin=`${u} ${h} ${p}`}}const e1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function gM(t,s,a){for(const n in s)!an(s[n])&&!pM(n,a)&&(t[n]=s[n])}function NQ({transformTemplate:t},s){return y.useMemo(()=>{const a=e1();return Jw(a,s,t),Object.assign({},a.vars,a.style)},[s])}function _Q(t,s){const a=t.style||{},n={};return gM(n,a,t),Object.assign(n,NQ(t,s)),n}function CQ(t,s){const a={},n=_Q(t,s);return t.drag&&t.dragListener!==!1&&(a.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(a.tabIndex=0),a.style=n,a}const kQ={offset:"stroke-dashoffset",array:"stroke-dasharray"},SQ={offset:"strokeDashoffset",array:"strokeDasharray"};function AQ(t,s,a=1,n=0,r=!0){t.pathLength=1;const i=r?kQ:SQ;t[i.offset]=Et.transform(-n);const l=Et.transform(s),d=Et.transform(a);t[i.array]=`${l} ${d}`}function xM(t,{attrX:s,attrY:a,attrScale:n,pathLength:r,pathSpacing:i=1,pathOffset:l=0,...d},u,h,p){if(Jw(t,d,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:x}=t;f.transform&&(x.transform=f.transform,delete f.transform),(x.transform||f.transformOrigin)&&(x.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),x.transform&&(x.transformBox=p?.transformBox??"fill-box",delete f.transformBox),s!==void 0&&(f.x=s),a!==void 0&&(f.y=a),n!==void 0&&(f.scale=n),r!==void 0&&AQ(f,r,i,l,!1)}const yM=()=>({...e1(),attrs:{}}),bM=t=>typeof t=="string"&&t.toLowerCase()==="svg";function TQ(t,s,a,n){const r=y.useMemo(()=>{const i=yM();return xM(i,s,bM(n),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[s]);if(t.style){const i={};gM(i,t.style,t),r.style={...i,...r.style}}return r}const DQ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function t1(t){return typeof t!="string"||t.includes("-")?!1:!!(DQ.indexOf(t)>-1||/[A-Z]/u.test(t))}function EQ(t,s,a,{latestValues:n},r,i=!1){const d=(t1(t)?TQ:CQ)(s,n,r,t),u=gQ(s,typeof t=="string",i),h=t!==y.Fragment?{...u,...d,ref:a}:{},{children:p}=s,f=y.useMemo(()=>an(p)?p.get():p,[p]);return y.createElement(t,{...h,children:f})}function AS(t){const s=[{},{}];return t?.values.forEach((a,n)=>{s[0][n]=a.get(),s[1][n]=a.getVelocity()}),s}function s1(t,s,a,n){if(typeof s=="function"){const[r,i]=AS(n);s=s(a!==void 0?a:t.custom,r,i)}if(typeof s=="string"&&(s=t.variants&&t.variants[s]),typeof s=="function"){const[r,i]=AS(n);s=s(a!==void 0?a:t.custom,r,i)}return s}function rg(t){return an(t)?t.get():t}function RQ({scrapeMotionValuesFromProps:t,createRenderState:s},a,n,r){return{latestValues:MQ(a,n,r,t),renderState:s()}}function MQ(t,s,a,n){const r={},i=n(t,{});for(const x in i)r[x]=rg(i[x]);let{initial:l,animate:d}=t;const u=Mx(t),h=fM(t);s&&h&&!u&&t.inherit!==!1&&(l===void 0&&(l=s.initial),d===void 0&&(d=s.animate));let p=a?a.initial===!1:!1;p=p||l===!1;const f=p?d:l;if(f&&typeof f!="boolean"&&!Rx(f)){const x=Array.isArray(f)?f:[f];for(let v=0;v<x.length;v++){const j=s1(t,x[v]);if(j){const{transitionEnd:w,transition:_,...N}=j;for(const k in N){let D=N[k];if(Array.isArray(D)){const T=p?D.length-1:0;D=D[T]}D!==null&&(r[k]=D)}for(const k in w)r[k]=w[k]}}}return r}const vM=t=>(s,a)=>{const n=y.useContext(Ex),r=y.useContext(Dx),i=()=>RQ(t,s,n,r);return a?i():Aw(i)};function a1(t,s,a){const{style:n}=t,r={};for(const i in n)(an(n[i])||s.style&&an(s.style[i])||pM(i,t)||a?.getValue(i)?.liveStyle!==void 0)&&(r[i]=n[i]);return r}const PQ=vM({scrapeMotionValuesFromProps:a1,createRenderState:e1});function jM(t,s,a){const n=a1(t,s,a);for(const r in t)if(an(t[r])||an(s[r])){const i=wu.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}const OQ=vM({scrapeMotionValuesFromProps:jM,createRenderState:yM}),LQ=Symbol.for("motionComponentSymbol");function $d(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function BQ(t,s,a){return y.useCallback(n=>{n&&t.onMount&&t.onMount(n),s&&(n?s.mount(n):s.unmount()),a&&(typeof a=="function"?a(n):$d(a)&&(a.current=n))},[s])}const n1=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),FQ="framerAppearId",wM="data-"+n1(FQ),NM=y.createContext({});function IQ(t,s,a,n,r){const{visualElement:i}=y.useContext(Ex),l=y.useContext(hM),d=y.useContext(Dx),u=y.useContext(Xw).reducedMotion,h=y.useRef(null);n=n||l.renderer,!h.current&&n&&(h.current=n(t,{visualState:s,parent:i,props:a,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:u}));const p=h.current,f=y.useContext(NM);p&&!p.projection&&r&&(p.type==="html"||p.type==="svg")&&$Q(h.current,a,r,f);const x=y.useRef(!1);y.useInsertionEffect(()=>{p&&x.current&&p.update(a,d)});const v=a[wM],j=y.useRef(!!v&&!window.MotionHandoffIsComplete?.(v)&&window.MotionHasOptimisedAnimation?.(v));return b5(()=>{p&&(x.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),j.current&&p.animationState&&p.animationState.animateChanges())}),y.useEffect(()=>{p&&(!j.current&&p.animationState&&p.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(v)}),j.current=!1),p.enteringChildren=void 0)}),p}function $Q(t,s,a,n){const{layoutId:r,layout:i,drag:l,dragConstraints:d,layoutScroll:u,layoutRoot:h,layoutCrossfade:p}=s;t.projection=new a(t.latestValues,s["data-framer-portal-id"]?void 0:_M(t.parent)),t.projection.setOptions({layoutId:r,layout:i,alwaysMeasureLayout:!!l||d&&$d(d),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:p,layoutScroll:u,layoutRoot:h})}function _M(t){if(t)return t.options.allowProjection!==!1?t.projection:_M(t.parent)}function Fb(t,{forwardMotionProps:s=!1}={},a,n){a&&mQ(a);const r=t1(t)?OQ:PQ;function i(d,u){let h;const p={...y.useContext(Xw),...d,layoutId:zQ(d)},{isStatic:f}=p,x=yQ(d),v=r(d,f);if(!f&&Tw){VQ();const j=UQ(p);h=j.MeasureLayout,x.visualElement=IQ(t,v,p,n,j.ProjectionNode)}return e.jsxs(Ex.Provider,{value:x,children:[h&&x.visualElement?e.jsx(h,{visualElement:x.visualElement,...p}):null,EQ(t,d,BQ(v,x.visualElement,u),v,f,s)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=y.forwardRef(i);return l[LQ]=t,l}function zQ({layoutId:t}){const s=y.useContext(Sw).id;return s&&t!==void 0?s+"-"+t:t}function VQ(t,s){y.useContext(hM).strict}function UQ(t){const{drag:s,layout:a}=su;if(!s&&!a)return{};const n={...s,...a};return{MeasureLayout:s?.isEnabled(t)||a?.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function HQ(t,s){if(typeof Proxy>"u")return Fb;const a=new Map,n=(i,l)=>Fb(i,l,t,s),r=(i,l)=>n(i,l);return new Proxy(r,{get:(i,l)=>l==="create"?n:(a.has(l)||a.set(l,Fb(l,void 0,t,s)),a.get(l))})}function CM({top:t,left:s,right:a,bottom:n}){return{x:{min:s,max:a},y:{min:t,max:n}}}function qQ({x:t,y:s}){return{top:s.min,right:t.max,bottom:s.max,left:t.min}}function GQ(t,s){if(!s)return t;const a=s({x:t.left,y:t.top}),n=s({x:t.right,y:t.bottom});return{top:a.y,left:a.x,bottom:n.y,right:n.x}}function Ib(t){return t===void 0||t===1}function hj({scale:t,scaleX:s,scaleY:a}){return!Ib(t)||!Ib(s)||!Ib(a)}function pc(t){return hj(t)||kM(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function kM(t){return TS(t.x)||TS(t.y)}function TS(t){return t&&t!=="0%"}function Fg(t,s,a){const n=t-a,r=s*n;return a+r}function DS(t,s,a,n,r){return r!==void 0&&(t=Fg(t,r,n)),Fg(t,a,n)+s}function mj(t,s=0,a=1,n,r){t.min=DS(t.min,s,a,n,r),t.max=DS(t.max,s,a,n,r)}function SM(t,{x:s,y:a}){mj(t.x,s.translate,s.scale,s.originPoint),mj(t.y,a.translate,a.scale,a.originPoint)}const ES=.999999999999,RS=1.0000000000001;function WQ(t,s,a,n=!1){const r=a.length;if(!r)return;s.x=s.y=1;let i,l;for(let d=0;d<r;d++){i=a[d],l=i.projectionDelta;const{visualElement:u}=i.options;u&&u.props.style&&u.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&Vd(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),l&&(s.x*=l.x.scale,s.y*=l.y.scale,SM(t,l)),n&&pc(i.latestValues)&&Vd(t,i.latestValues))}s.x<RS&&s.x>ES&&(s.x=1),s.y<RS&&s.y>ES&&(s.y=1)}function zd(t,s){t.min=t.min+s,t.max=t.max+s}function MS(t,s,a,n,r=.5){const i=ta(t.min,t.max,r);mj(t,s,a,i,n)}function Vd(t,s){MS(t.x,s.x,s.scaleX,s.scale,s.originX),MS(t.y,s.y,s.scaleY,s.scale,s.originY)}function AM(t,s){return CM(GQ(t.getBoundingClientRect(),s))}function YQ(t,s,a){const n=AM(t,a),{scroll:r}=s;return r&&(zd(n.x,r.offset.x),zd(n.y,r.offset.y)),n}const PS=()=>({translate:0,scale:1,origin:0,originPoint:0}),Ud=()=>({x:PS(),y:PS()}),OS=()=>({min:0,max:0}),Ta=()=>({x:OS(),y:OS()}),fj={current:null},TM={current:!1};function KQ(){if(TM.current=!0,!!Tw)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),s=()=>fj.current=t.matches;t.addEventListener("change",s),s()}else fj.current=!1}const XQ=new WeakMap;function QQ(t,s,a){for(const n in s){const r=s[n],i=a[n];if(an(r))t.addValue(n,r);else if(an(i))t.addValue(n,tu(r,{owner:t}));else if(i!==r)if(t.hasValue(n)){const l=t.getValue(n);l.liveStyle===!0?l.jump(r):l.hasAnimated||l.set(r)}else{const l=t.getStaticValue(n);t.addValue(n,tu(l!==void 0?l:r,{owner:t}))}}for(const n in a)s[n]===void 0&&t.removeValue(n);return s}const LS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class ZQ{scrapeMotionValuesFromProps(s,a,n){return{}}constructor({parent:s,props:a,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:i,visualState:l},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=qw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const x=Pn.now();this.renderScheduledAt<x&&(this.renderScheduledAt=x,Xs.render(this.render,!1,!0))};const{latestValues:u,renderState:h}=l;this.latestValues=u,this.baseTarget={...u},this.initialValues=a.initial?{...u}:{},this.renderState=h,this.parent=s,this.props=a,this.presenceContext=n,this.depth=s?s.depth+1:0,this.reducedMotionConfig=r,this.options=d,this.blockInitialAnimation=!!i,this.isControllingVariants=Mx(a),this.isVariantNode=fM(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(s&&s.current);const{willChange:p,...f}=this.scrapeMotionValuesFromProps(a,{},this);for(const x in f){const v=f[x];u[x]!==void 0&&an(v)&&v.set(u[x])}}mount(s){this.current=s,XQ.set(s,this),this.projection&&!this.projection.instance&&this.projection.mount(s),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,n)=>this.bindToMotionValue(n,a)),TM.current||KQ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:fj.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),wl(this.notifyUpdate),wl(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const a=this.features[s];a&&(a.unmount(),a.isMounted=!1)}this.current=null}addChild(s){this.children.add(s),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(s)}removeChild(s){this.children.delete(s),this.enteringChildren&&this.enteringChildren.delete(s)}bindToMotionValue(s,a){this.valueSubscriptions.has(s)&&this.valueSubscriptions.get(s)();const n=Nu.has(s);n&&this.onBindTransform&&this.onBindTransform();const r=a.on("change",l=>{this.latestValues[s]=l,this.props.onUpdate&&Xs.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,s,a)),this.valueSubscriptions.set(s,()=>{r(),i&&i(),a.owner&&a.stop()})}sortNodePosition(s){return!this.current||!this.sortInstanceNodePosition||this.type!==s.type?0:this.sortInstanceNodePosition(this.current,s.current)}updateFeatures(){let s="animation";for(s in su){const a=su[s];if(!a)continue;const{isEnabled:n,Feature:r}=a;if(!this.features[s]&&r&&n(this.props)&&(this.features[s]=new r(this)),this.features[s]){const i=this.features[s];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ta()}getStaticValue(s){return this.latestValues[s]}setStaticValue(s,a){this.latestValues[s]=a}update(s,a){(s.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=s,this.prevPresenceContext=this.presenceContext,this.presenceContext=a;for(let n=0;n<LS.length;n++){const r=LS[n];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i="on"+r,l=s[i];l&&(this.propEventSubscriptions[r]=this.on(r,l))}this.prevMotionValues=QQ(this,this.scrapeMotionValuesFromProps(s,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(s){return this.props.variants?this.props.variants[s]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(s){const a=this.getClosestVariantNode();if(a)return a.variantChildren&&a.variantChildren.add(s),()=>a.variantChildren.delete(s)}addValue(s,a){const n=this.values.get(s);a!==n&&(n&&this.removeValue(s),this.bindToMotionValue(s,a),this.values.set(s,a),this.latestValues[s]=a.get())}removeValue(s){this.values.delete(s);const a=this.valueSubscriptions.get(s);a&&(a(),this.valueSubscriptions.delete(s)),delete this.latestValues[s],this.removeValueFromRenderState(s,this.renderState)}hasValue(s){return this.values.has(s)}getValue(s,a){if(this.props.values&&this.props.values[s])return this.props.values[s];let n=this.values.get(s);return n===void 0&&a!==void 0&&(n=tu(a===null?void 0:a,{owner:this}),this.addValue(s,n)),n}readValue(s,a){let n=this.latestValues[s]!==void 0||!this.current?this.latestValues[s]:this.getBaseTargetFromProps(this.props,s)??this.readValueFromInstance(this.current,s,this.options);return n!=null&&(typeof n=="string"&&(v5(n)||w5(n))?n=parseFloat(n):!iQ(n)&&Nl.test(a)&&(n=nM(s,a)),this.setBaseTarget(s,an(n)?n.get():n)),an(n)?n.get():n}setBaseTarget(s,a){this.baseTarget[s]=a}getBaseTarget(s){const{initial:a}=this.props;let n;if(typeof a=="string"||typeof a=="object"){const i=s1(this.props,a,this.presenceContext?.custom);i&&(n=i[s])}if(a&&n!==void 0)return n;const r=this.getBaseTargetFromProps(this.props,s);return r!==void 0&&!an(r)?r:this.initialValues[s]!==void 0&&n===void 0?void 0:this.baseTarget[s]}on(s,a){return this.events[s]||(this.events[s]=new Pw),this.events[s].add(a)}notify(s,...a){this.events[s]&&this.events[s].notify(...a)}scheduleRenderMicrotask(){Yw.render(this.render)}}class DM extends ZQ{constructor(){super(...arguments),this.KeyframeResolver=YX}sortInstanceNodePosition(s,a){return s.compareDocumentPosition(a)&2?1:-1}getBaseTargetFromProps(s,a){return s.style?s.style[a]:void 0}removeValueFromRenderState(s,{vars:a,style:n}){delete a[s],delete n[s]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:s}=this.props;an(s)&&(this.childSubscription=s.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}}function EM(t,{style:s,vars:a},n,r){const i=t.style;let l;for(l in s)i[l]=s[l];r?.applyProjectionStyles(i,n);for(l in a)i.setProperty(l,a[l])}function JQ(t){return window.getComputedStyle(t)}class eZ extends DM{constructor(){super(...arguments),this.type="html",this.renderInstance=EM}readValueFromInstance(s,a){if(Nu.has(a))return this.projection?.isProjecting?nj(a):mX(s,a);{const n=JQ(s),r=(L5(a)?n.getPropertyValue(a):n[a])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(s,{transformPagePoint:a}){return AM(s,a)}build(s,a,n){Jw(s,a,n.transformTemplate)}scrapeMotionValuesFromProps(s,a,n){return a1(s,a,n)}}const RM=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function tZ(t,s,a,n){EM(t,s,void 0,n);for(const r in s.attrs)t.setAttribute(RM.has(r)?r:n1(r),s.attrs[r])}class sZ extends DM{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ta}getBaseTargetFromProps(s,a){return s[a]}readValueFromInstance(s,a){if(Nu.has(a)){const n=aM(a);return n&&n.default||0}return a=RM.has(a)?a:n1(a),s.getAttribute(a)}scrapeMotionValuesFromProps(s,a,n){return jM(s,a,n)}build(s,a,n){xM(s,a,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(s,a,n,r){tZ(s,a,n,r)}mount(s){this.isSVGTag=bM(s.tagName),super.mount(s)}}const aZ=(t,s)=>t1(t)?new sZ(s):new eZ(s,{allowProjection:t!==y.Fragment});function Yd(t,s,a){const n=t.getProps();return s1(n,s,a!==void 0?a:n.custom,t)}const pj=t=>Array.isArray(t);function nZ(t,s,a){t.hasValue(s)?t.getValue(s).set(a):t.addValue(s,tu(a))}function rZ(t){return pj(t)?t[t.length-1]||0:t}function iZ(t,s){const a=Yd(t,s);let{transitionEnd:n={},transition:r={},...i}=a||{};i={...i,...n};for(const l in i){const d=rZ(i[l]);nZ(t,l,d)}}function oZ(t){return!!(an(t)&&t.add)}function gj(t,s){const a=t.getValue("willChange");if(oZ(a))return a.add(s);if(!a&&po.WillChange){const n=new po.WillChange("auto");t.addValue("willChange",n),n.add(s)}}function MM(t){return t.props[wM]}const lZ=t=>t!==null;function cZ(t,{repeat:s,repeatType:a="loop"},n){const r=t.filter(lZ),i=s&&a!=="loop"&&s%2===1?0:r.length-1;return r[i]}const dZ={type:"spring",stiffness:500,damping:25,restSpeed:10},uZ=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),hZ={type:"keyframes",duration:.8},mZ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},fZ=(t,{keyframes:s})=>s.length>2?hZ:Nu.has(t)?t.startsWith("scale")?uZ(s[1]):dZ:mZ;function pZ({when:t,delay:s,delayChildren:a,staggerChildren:n,staggerDirection:r,repeat:i,repeatType:l,repeatDelay:d,from:u,elapsed:h,...p}){return!!Object.keys(p).length}const r1=(t,s,a,n={},r,i)=>l=>{const d=Gw(n,t)||{},u=d.delay||n.delay||0;let{elapsed:h=0}=n;h=h-ji(u);const p={keyframes:Array.isArray(a)?a:[null,a],ease:"easeOut",velocity:s.getVelocity(),...d,delay:-h,onUpdate:x=>{s.set(x),d.onUpdate&&d.onUpdate(x)},onComplete:()=>{l(),d.onComplete&&d.onComplete()},name:t,motionValue:s,element:i?void 0:r};pZ(d)||Object.assign(p,fZ(t,p)),p.duration&&(p.duration=ji(p.duration)),p.repeatDelay&&(p.repeatDelay=ji(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let f=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(cj(p),p.delay===0&&(f=!0)),(po.instantAnimations||po.skipAnimations)&&(f=!0,cj(p),p.delay=0),p.allowFlatten=!d.type&&!d.ease,f&&!i&&s.get()!==void 0){const x=cZ(p.keyframes,d);if(x!==void 0){Xs.update(()=>{p.onUpdate(x),p.onComplete()});return}}return d.isSync?new Hw(p):new LX(p)};function gZ({protectedKeys:t,needsAnimating:s},a){const n=t.hasOwnProperty(a)&&s[a]!==!0;return s[a]=!1,n}function PM(t,s,{delay:a=0,transitionOverride:n,type:r}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:l,...d}=s;n&&(i=n);const u=[],h=r&&t.animationState&&t.animationState.getState()[r];for(const p in d){const f=t.getValue(p,t.latestValues[p]??null),x=d[p];if(x===void 0||h&&gZ(h,p))continue;const v={delay:a,...Gw(i||{},p)},j=f.get();if(j!==void 0&&!f.isAnimating&&!Array.isArray(x)&&x===j&&!v.velocity)continue;let w=!1;if(window.MotionHandoffAnimation){const N=MM(t);if(N){const k=window.MotionHandoffAnimation(N,p,Xs);k!==null&&(v.startTime=k,w=!0)}}gj(t,p),f.start(r1(p,f,x,t.shouldReduceMotion&&eM.has(p)?{type:!1}:v,t,w));const _=f.animation;_&&u.push(_)}return l&&Promise.all(u).then(()=>{Xs.update(()=>{l&&iZ(t,l)})}),u}function OM(t,s,a,n=0,r=1){const i=Array.from(t).sort((h,p)=>h.sortNodePosition(p)).indexOf(s),l=t.size,d=(l-1)*n;return typeof a=="function"?a(i,l):r===1?i*n:d-i*n}function xj(t,s,a={}){const n=Yd(t,s,a.type==="exit"?t.presenceContext?.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=n||{};a.transitionOverride&&(r=a.transitionOverride);const i=n?()=>Promise.all(PM(t,n,a)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:p,staggerDirection:f}=r;return xZ(t,s,u,h,p,f,a)}:()=>Promise.resolve(),{when:d}=r;if(d){const[u,h]=d==="beforeChildren"?[i,l]:[l,i];return u().then(()=>h())}else return Promise.all([i(),l(a.delay)])}function xZ(t,s,a=0,n=0,r=0,i=1,l){const d=[];for(const u of t.variantChildren)u.notify("AnimationStart",s),d.push(xj(u,s,{...l,delay:a+(typeof n=="function"?0:n)+OM(t.variantChildren,u,n,r,i)}).then(()=>u.notify("AnimationComplete",s)));return Promise.all(d)}function yZ(t,s,a={}){t.notify("AnimationStart",s);let n;if(Array.isArray(s)){const r=s.map(i=>xj(t,i,a));n=Promise.all(r)}else if(typeof s=="string")n=xj(t,s,a);else{const r=typeof s=="function"?Yd(t,s,a.custom):s;n=Promise.all(PM(t,r,a))}return n.then(()=>{t.notify("AnimationComplete",s)})}function LM(t,s){if(!Array.isArray(s))return!1;const a=s.length;if(a!==t.length)return!1;for(let n=0;n<a;n++)if(s[n]!==t[n])return!1;return!0}const bZ=Zw.length;function BM(t){if(!t)return;if(!t.isControllingVariants){const a=t.parent?BM(t.parent)||{}:{};return t.props.initial!==void 0&&(a.initial=t.props.initial),a}const s={};for(let a=0;a<bZ;a++){const n=Zw[a],r=t.props[n];(dm(r)||r===!1)&&(s[n]=r)}return s}const vZ=[...Qw].reverse(),jZ=Qw.length;function wZ(t){return s=>Promise.all(s.map(({animation:a,options:n})=>yZ(t,a,n)))}function NZ(t){let s=wZ(t),a=BS(),n=!0;const r=u=>(h,p)=>{const f=Yd(t,p,u==="exit"?t.presenceContext?.custom:void 0);if(f){const{transition:x,transitionEnd:v,...j}=f;h={...h,...j,...v}}return h};function i(u){s=u(t)}function l(u){const{props:h}=t,p=BM(t.parent)||{},f=[],x=new Set;let v={},j=1/0;for(let _=0;_<jZ;_++){const N=vZ[_],k=a[N],D=h[N]!==void 0?h[N]:p[N],T=dm(D),E=N===u?k.isActive:null;E===!1&&(j=_);let G=D===p[N]&&D!==h[N]&&T;if(G&&n&&t.manuallyAnimateOnMount&&(G=!1),k.protectedKeys={...v},!k.isActive&&E===null||!D&&!k.prevProp||Rx(D)||typeof D=="boolean")continue;const A=_Z(k.prevProp,D);let F=A||N===u&&k.isActive&&!G&&T||_>j&&T,M=!1;const J=Array.isArray(D)?D:[D];let R=J.reduce(r(N),{});E===!1&&(R={});const{prevResolvedValues:ee={}}=k,Y={...ee,...R},re=U=>{F=!0,x.has(U)&&(M=!0,x.delete(U)),k.needsAnimating[U]=!0;const H=t.getValue(U);H&&(H.liveStyle=!1)};for(const U in Y){const H=R[U],L=ee[U];if(v.hasOwnProperty(U))continue;let $=!1;pj(H)&&pj(L)?$=!LM(H,L):$=H!==L,$?H!=null?re(U):x.add(U):H!==void 0&&x.has(U)?re(U):k.protectedKeys[U]=!0}k.prevProp=D,k.prevResolvedValues=R,k.isActive&&(v={...v,...R}),n&&t.blockInitialAnimation&&(F=!1);const te=G&&A;F&&(!te||M)&&f.push(...J.map(U=>{const H={type:N};if(typeof U=="string"&&n&&!te&&t.manuallyAnimateOnMount&&t.parent){const{parent:L}=t,$=Yd(L,U);if(L.enteringChildren&&$){const{delayChildren:z}=$.transition||{};H.delay=OM(L.enteringChildren,t,z)}}return{animation:U,options:H}}))}if(x.size){const _={};if(typeof h.initial!="boolean"){const N=Yd(t,Array.isArray(h.initial)?h.initial[0]:h.initial);N&&N.transition&&(_.transition=N.transition)}x.forEach(N=>{const k=t.getBaseTarget(N),D=t.getValue(N);D&&(D.liveStyle=!0),_[N]=k??null}),f.push({animation:_})}let w=!!f.length;return n&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(w=!1),n=!1,w?s(f):Promise.resolve()}function d(u,h){if(a[u].isActive===h)return Promise.resolve();t.variantChildren?.forEach(f=>f.animationState?.setActive(u,h)),a[u].isActive=h;const p=l(u);for(const f in a)a[f].protectedKeys={};return p}return{animateChanges:l,setActive:d,setAnimateFunction:i,getState:()=>a,reset:()=>{a=BS()}}}function _Z(t,s){return typeof s=="string"?s!==t:Array.isArray(s)?!LM(s,t):!1}function rc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function BS(){return{animate:rc(!0),whileInView:rc(),whileHover:rc(),whileTap:rc(),whileDrag:rc(),whileFocus:rc(),exit:rc()}}class Tl{constructor(s){this.isMounted=!1,this.node=s}update(){}}class CZ extends Tl{constructor(s){super(s),s.animationState||(s.animationState=NZ(s))}updateAnimationControlsSubscription(){const{animate:s}=this.node.getProps();Rx(s)&&(this.unmountControls=s.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:s}=this.node.getProps(),{animate:a}=this.node.prevProps||{};s!==a&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let kZ=0;class SZ extends Tl{constructor(){super(...arguments),this.id=kZ++}update(){if(!this.node.presenceContext)return;const{isPresent:s,onExitComplete:a}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||s===n)return;const r=this.node.animationState.setActive("exit",!s);a&&!s&&r.then(()=>{a(this.id)})}mount(){const{register:s,onExitComplete:a}=this.node.presenceContext||{};a&&a(this.id),s&&(this.unmount=s(this.id))}unmount(){}}const AZ={animation:{Feature:CZ},exit:{Feature:SZ}};function um(t,s,a,n={passive:!0}){return t.addEventListener(s,a,n),()=>t.removeEventListener(s,a)}function zm(t){return{point:{x:t.pageX,y:t.pageY}}}const TZ=t=>s=>Kw(s)&&t(s,zm(s));function Gh(t,s,a,n){return um(t,s,TZ(a),n)}const FM=1e-4,DZ=1-FM,EZ=1+FM,IM=.01,RZ=0-IM,MZ=0+IM;function pn(t){return t.max-t.min}function PZ(t,s,a){return Math.abs(t-s)<=a}function FS(t,s,a,n=.5){t.origin=n,t.originPoint=ta(s.min,s.max,t.origin),t.scale=pn(a)/pn(s),t.translate=ta(a.min,a.max,t.origin)-t.originPoint,(t.scale>=DZ&&t.scale<=EZ||isNaN(t.scale))&&(t.scale=1),(t.translate>=RZ&&t.translate<=MZ||isNaN(t.translate))&&(t.translate=0)}function Wh(t,s,a,n){FS(t.x,s.x,a.x,n?n.originX:void 0),FS(t.y,s.y,a.y,n?n.originY:void 0)}function IS(t,s,a){t.min=a.min+s.min,t.max=t.min+pn(s)}function OZ(t,s,a){IS(t.x,s.x,a.x),IS(t.y,s.y,a.y)}function $S(t,s,a){t.min=s.min-a.min,t.max=t.min+pn(s)}function Ig(t,s,a){$S(t.x,s.x,a.x),$S(t.y,s.y,a.y)}function wr(t){return[t("x"),t("y")]}const $M=({current:t})=>t?t.ownerDocument.defaultView:null,zS=(t,s)=>Math.abs(t-s);function LZ(t,s){const a=zS(t.x,s.x),n=zS(t.y,s.y);return Math.sqrt(a**2+n**2)}class zM{constructor(s,a,{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:i=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=zb(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,j=LZ(x.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!j)return;const{point:w}=x,{timestamp:_}=Xa;this.history.push({...w,timestamp:_});const{onStart:N,onMove:k}=this.handlers;v||(N&&N(this.lastMoveEvent,x),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,x)},this.handlePointerMove=(x,v)=>{this.lastMoveEvent=x,this.lastMoveEventInfo=$b(v,this.transformPagePoint),Xs.update(this.updatePoint,!0)},this.handlePointerUp=(x,v)=>{this.end();const{onEnd:j,onSessionEnd:w,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const N=zb(x.type==="pointercancel"?this.lastMoveEventInfo:$b(v,this.transformPagePoint),this.history);this.startEvent&&j&&j(x,N),w&&w(x,N)},!Kw(s))return;this.dragSnapToOrigin=i,this.handlers=a,this.transformPagePoint=n,this.distanceThreshold=l,this.contextWindow=r||window;const d=zm(s),u=$b(d,this.transformPagePoint),{point:h}=u,{timestamp:p}=Xa;this.history=[{...h,timestamp:p}];const{onSessionStart:f}=a;f&&f(s,zb(u,this.history)),this.removeListeners=Fm(Gh(this.contextWindow,"pointermove",this.handlePointerMove),Gh(this.contextWindow,"pointerup",this.handlePointerUp),Gh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(s){this.handlers=s}end(){this.removeListeners&&this.removeListeners(),wl(this.updatePoint)}}function $b(t,s){return s?{point:s(t.point)}:t}function VS(t,s){return{x:t.x-s.x,y:t.y-s.y}}function zb({point:t},s){return{point:t,delta:VS(t,VM(s)),offset:VS(t,BZ(s)),velocity:FZ(s,.1)}}function BZ(t){return t[0]}function VM(t){return t[t.length-1]}function FZ(t,s){if(t.length<2)return{x:0,y:0};let a=t.length-1,n=null;const r=VM(t);for(;a>=0&&(n=t[a],!(r.timestamp-n.timestamp>ji(s)));)a--;if(!n)return{x:0,y:0};const i=_r(r.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const l={x:(r.x-n.x)/i,y:(r.y-n.y)/i};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function IZ(t,{min:s,max:a},n){return s!==void 0&&t<s?t=n?ta(s,t,n.min):Math.max(t,s):a!==void 0&&t>a&&(t=n?ta(a,t,n.max):Math.min(t,a)),t}function US(t,s,a){return{min:s!==void 0?t.min+s:void 0,max:a!==void 0?t.max+a-(t.max-t.min):void 0}}function $Z(t,{top:s,left:a,bottom:n,right:r}){return{x:US(t.x,a,r),y:US(t.y,s,n)}}function HS(t,s){let a=s.min-t.min,n=s.max-t.max;return s.max-s.min<t.max-t.min&&([a,n]=[n,a]),{min:a,max:n}}function zZ(t,s){return{x:HS(t.x,s.x),y:HS(t.y,s.y)}}function VZ(t,s){let a=.5;const n=pn(t),r=pn(s);return r>n?a=om(s.min,s.max-n,t.min):n>r&&(a=om(t.min,t.max-r,s.min)),fo(0,1,a)}function UZ(t,s){const a={};return s.min!==void 0&&(a.min=s.min-t.min),s.max!==void 0&&(a.max=s.max-t.min),a}const yj=.35;function HZ(t=yj){return t===!1?t=0:t===!0&&(t=yj),{x:qS(t,"left","right"),y:qS(t,"top","bottom")}}function qS(t,s,a){return{min:GS(t,s),max:GS(t,a)}}function GS(t,s){return typeof t=="number"?t:t[s]||0}const qZ=new WeakMap;class GZ{constructor(s){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ta(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=s}start(s,{snapToCursor:a=!1,distanceThreshold:n}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:x}=this.getProps();x?this.pauseAnimation():this.stopAnimation(),a&&this.snapToCursor(zm(f).point)},l=(f,x)=>{const{drag:v,dragPropagation:j,onDragStart:w}=this.getProps();if(v&&!j&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ZX(v),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=x,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),wr(N=>{let k=this.getAxisMotionValue(N).get()||0;if(wi.test(k)){const{projection:D}=this.visualElement;if(D&&D.layout){const T=D.layout.layoutBox[N];T&&(k=pn(T)*(parseFloat(k)/100))}}this.originPoint[N]=k}),w&&Xs.postRender(()=>w(f,x)),gj(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},d=(f,x)=>{this.latestPointerEvent=f,this.latestPanInfo=x;const{dragPropagation:v,dragDirectionLock:j,onDirectionLock:w,onDrag:_}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:N}=x;if(j&&this.currentDirection===null){this.currentDirection=WZ(N),this.currentDirection!==null&&w&&w(this.currentDirection);return}this.updateAxis("x",x.point,N),this.updateAxis("y",x.point,N),this.visualElement.render(),_&&_(f,x)},u=(f,x)=>{this.latestPointerEvent=f,this.latestPanInfo=x,this.stop(f,x),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>wr(f=>this.getAnimationState(f)==="paused"&&this.getAxisMotionValue(f).animation?.play()),{dragSnapToOrigin:p}=this.getProps();this.panSession=new zM(s,{onSessionStart:i,onStart:l,onMove:d,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:n,contextWindow:$M(this.visualElement)})}stop(s,a){const n=s||this.latestPointerEvent,r=a||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!r||!n)return;const{velocity:l}=r;this.startAnimation(l);const{onDragEnd:d}=this.getProps();d&&Xs.postRender(()=>d(n,r))}cancel(){this.isDragging=!1;const{projection:s,animationState:a}=this.visualElement;s&&(s.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),a&&a.setActive("whileDrag",!1)}updateAxis(s,a,n){const{drag:r}=this.getProps();if(!n||!Sp(s,r,this.currentDirection))return;const i=this.getAxisMotionValue(s);let l=this.originPoint[s]+n[s];this.constraints&&this.constraints[s]&&(l=IZ(l,this.constraints[s],this.elastic[s])),i.set(l)}resolveConstraints(){const{dragConstraints:s,dragElastic:a}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;s&&$d(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&n?this.constraints=$Z(n.layoutBox,s):this.constraints=!1,this.elastic=HZ(a),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&wr(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=UZ(n.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:s,onMeasureDragConstraints:a}=this.getProps();if(!s||!$d(s))return!1;const n=s.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=YQ(n,r.root,this.visualElement.getTransformPagePoint());let l=zZ(r.layout.layoutBox,i);if(a){const d=a(qQ(l));this.hasMutatedConstraints=!!d,d&&(l=CM(d))}return l}startAnimation(s){const{drag:a,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:l,onDragTransitionEnd:d}=this.getProps(),u=this.constraints||{},h=wr(p=>{if(!Sp(p,a,this.currentDirection))return;let f=u&&u[p]||{};l&&(f={min:0,max:0});const x=r?200:1e6,v=r?40:1e7,j={type:"inertia",velocity:n?s[p]:0,bounceStiffness:x,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(p,j)});return Promise.all(h).then(d)}startAxisValueAnimation(s,a){const n=this.getAxisMotionValue(s);return gj(this.visualElement,s),n.start(r1(s,n,0,a,this.visualElement,!1))}stopAnimation(){wr(s=>this.getAxisMotionValue(s).stop())}pauseAnimation(){wr(s=>this.getAxisMotionValue(s).animation?.pause())}getAnimationState(s){return this.getAxisMotionValue(s).animation?.state}getAxisMotionValue(s){const a=`_drag${s.toUpperCase()}`,n=this.visualElement.getProps(),r=n[a];return r||this.visualElement.getValue(s,(n.initial?n.initial[s]:void 0)||0)}snapToCursor(s){wr(a=>{const{drag:n}=this.getProps();if(!Sp(a,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(a);if(r&&r.layout){const{min:l,max:d}=r.layout.layoutBox[a];i.set(s[a]-ta(l,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:s,dragConstraints:a}=this.getProps(),{projection:n}=this.visualElement;if(!$d(a)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};wr(l=>{const d=this.getAxisMotionValue(l);if(d&&this.constraints!==!1){const u=d.get();r[l]=VZ({min:u,max:u},this.constraints[l])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),wr(l=>{if(!Sp(l,s,null))return;const d=this.getAxisMotionValue(l),{min:u,max:h}=this.constraints[l];d.set(ta(u,h,r[l]))})}addListeners(){if(!this.visualElement.current)return;qZ.set(this.visualElement,this);const s=this.visualElement.current,a=Gh(s,"pointerdown",u=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(u)}),n=()=>{const{dragConstraints:u}=this.getProps();$d(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",n);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Xs.read(n);const l=um(window,"resize",()=>this.scalePositionWithinConstraints()),d=r.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:h})=>{this.isDragging&&h&&(wr(p=>{const f=this.getAxisMotionValue(p);f&&(this.originPoint[p]+=u[p].translate,f.set(f.get()+u[p].translate))}),this.visualElement.render())}));return()=>{l(),a(),i(),d&&d()}}getProps(){const s=this.visualElement.getProps(),{drag:a=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:l=yj,dragMomentum:d=!0}=s;return{...s,drag:a,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:l,dragMomentum:d}}}function Sp(t,s,a){return(s===!0||s===t)&&(a===null||a===t)}function WZ(t,s=10){let a=null;return Math.abs(t.y)>s?a="y":Math.abs(t.x)>s&&(a="x"),a}class YZ extends Tl{constructor(s){super(s),this.removeGroupControls=Cr,this.removeListeners=Cr,this.controls=new GZ(s)}mount(){const{dragControls:s}=this.node.getProps();s&&(this.removeGroupControls=s.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Cr}unmount(){this.removeGroupControls(),this.removeListeners()}}const WS=t=>(s,a)=>{t&&Xs.postRender(()=>t(s,a))};class KZ extends Tl{constructor(){super(...arguments),this.removePointerDownListener=Cr}onPointerDown(s){this.session=new zM(s,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:$M(this.node)})}createPanHandlers(){const{onPanSessionStart:s,onPanStart:a,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:WS(s),onStart:WS(a),onMove:n,onEnd:(i,l)=>{delete this.session,r&&Xs.postRender(()=>r(i,l))}}}mount(){this.removePointerDownListener=Gh(this.node.current,"pointerdown",s=>this.onPointerDown(s))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const ig={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Vb=!1;class XZ extends y.Component{componentDidMount(){const{visualElement:s,layoutGroup:a,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=s;i&&(a.group&&a.group.add(i),n&&n.register&&r&&n.register(i),Vb&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),ig.hasEverUpdated=!0}getSnapshotBeforeUpdate(s){const{layoutDependency:a,visualElement:n,drag:r,isPresent:i}=this.props,{projection:l}=n;return l&&(l.isPresent=i,Vb=!0,r||s.layoutDependency!==a||a===void 0||s.isPresent!==i?l.willUpdate():this.safeToRemove(),s.isPresent!==i&&(i?l.promote():l.relegate()||Xs.postRender(()=>{const d=l.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:s}=this.props.visualElement;s&&(s.root.didUpdate(),Yw.postRender(()=>{!s.currentAnimation&&s.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:s,layoutGroup:a,switchLayoutGroup:n}=this.props,{projection:r}=s;Vb=!0,r&&(r.scheduleCheckAfterUnmount(),a&&a.group&&a.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:s}=this.props;s&&s()}render(){return null}}function UM(t){const[s,a]=uM(),n=y.useContext(Sw);return e.jsx(XZ,{...t,layoutGroup:n,switchLayoutGroup:y.useContext(NM),isPresent:s,safeToRemove:a})}function QZ(t,s,a){const n=an(t)?t:tu(t);return n.start(r1("",n,s,a)),n.animation}const ZZ=(t,s)=>t.depth-s.depth;class JZ{constructor(){this.children=[],this.isDirty=!1}add(s){Dw(this.children,s),this.isDirty=!0}remove(s){Ew(this.children,s),this.isDirty=!0}forEach(s){this.isDirty&&this.children.sort(ZZ),this.isDirty=!1,this.children.forEach(s)}}function eJ(t,s){const a=Pn.now(),n=({timestamp:r})=>{const i=r-a;i>=s&&(wl(n),t(i-s))};return Xs.setup(n,!0),()=>wl(n)}const HM=["TopLeft","TopRight","BottomLeft","BottomRight"],tJ=HM.length,YS=t=>typeof t=="string"?parseFloat(t):t,KS=t=>typeof t=="number"||Et.test(t);function sJ(t,s,a,n,r,i){r?(t.opacity=ta(0,a.opacity??1,aJ(n)),t.opacityExit=ta(s.opacity??1,0,nJ(n))):i&&(t.opacity=ta(s.opacity??1,a.opacity??1,n));for(let l=0;l<tJ;l++){const d=`border${HM[l]}Radius`;let u=XS(s,d),h=XS(a,d);if(u===void 0&&h===void 0)continue;u||(u=0),h||(h=0),u===0||h===0||KS(u)===KS(h)?(t[d]=Math.max(ta(YS(u),YS(h),n),0),(wi.test(h)||wi.test(u))&&(t[d]+="%")):t[d]=h}(s.rotate||a.rotate)&&(t.rotate=ta(s.rotate||0,a.rotate||0,n))}function XS(t,s){return t[s]!==void 0?t[s]:t.borderRadius}const aJ=qM(0,.5,D5),nJ=qM(.5,.95,Cr);function qM(t,s,a){return n=>n<t?0:n>s?1:a(om(t,s,n))}function QS(t,s){t.min=s.min,t.max=s.max}function Ir(t,s){QS(t.x,s.x),QS(t.y,s.y)}function ZS(t,s){t.translate=s.translate,t.scale=s.scale,t.originPoint=s.originPoint,t.origin=s.origin}function JS(t,s,a,n,r){return t-=s,t=Fg(t,1/a,n),r!==void 0&&(t=Fg(t,1/r,n)),t}function rJ(t,s=0,a=1,n=.5,r,i=t,l=t){if(wi.test(s)&&(s=parseFloat(s),s=ta(l.min,l.max,s/100)-l.min),typeof s!="number")return;let d=ta(i.min,i.max,n);t===i&&(d-=s),t.min=JS(t.min,s,a,d,r),t.max=JS(t.max,s,a,d,r)}function eA(t,s,[a,n,r],i,l){rJ(t,s[a],s[n],s[r],s.scale,i,l)}const iJ=["x","scaleX","originX"],oJ=["y","scaleY","originY"];function tA(t,s,a,n){eA(t.x,s,iJ,a?a.x:void 0,n?n.x:void 0),eA(t.y,s,oJ,a?a.y:void 0,n?n.y:void 0)}function sA(t){return t.translate===0&&t.scale===1}function GM(t){return sA(t.x)&&sA(t.y)}function aA(t,s){return t.min===s.min&&t.max===s.max}function lJ(t,s){return aA(t.x,s.x)&&aA(t.y,s.y)}function nA(t,s){return Math.round(t.min)===Math.round(s.min)&&Math.round(t.max)===Math.round(s.max)}function WM(t,s){return nA(t.x,s.x)&&nA(t.y,s.y)}function rA(t){return pn(t.x)/pn(t.y)}function iA(t,s){return t.translate===s.translate&&t.scale===s.scale&&t.originPoint===s.originPoint}class cJ{constructor(){this.members=[]}add(s){Dw(this.members,s),s.scheduleRender()}remove(s){if(Ew(this.members,s),s===this.prevLead&&(this.prevLead=void 0),s===this.lead){const a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(s){const a=this.members.findIndex(r=>s===r);if(a===0)return!1;let n;for(let r=a;r>=0;r--){const i=this.members[r];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(s,a){const n=this.lead;if(s!==n&&(this.prevLead=n,this.lead=s,s.show(),n)){n.instance&&n.scheduleRender(),s.scheduleRender(),s.resumeFrom=n,a&&(s.resumeFrom.preserveOpacity=!0),n.snapshot&&(s.snapshot=n.snapshot,s.snapshot.latestValues=n.animationValues||n.latestValues),s.root&&s.root.isUpdating&&(s.isLayoutDirty=!0);const{crossfade:r}=s.options;r===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(s=>{const{options:a,resumingFrom:n}=s;a.onExitComplete&&a.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(s=>{s.instance&&s.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function dJ(t,s,a){let n="";const r=t.x.translate/s.x,i=t.y.translate/s.y,l=a?.z||0;if((r||i||l)&&(n=`translate3d(${r}px, ${i}px, ${l}px) `),(s.x!==1||s.y!==1)&&(n+=`scale(${1/s.x}, ${1/s.y}) `),a){const{transformPerspective:h,rotate:p,rotateX:f,rotateY:x,skewX:v,skewY:j}=a;h&&(n=`perspective(${h}px) ${n}`),p&&(n+=`rotate(${p}deg) `),f&&(n+=`rotateX(${f}deg) `),x&&(n+=`rotateY(${x}deg) `),v&&(n+=`skewX(${v}deg) `),j&&(n+=`skewY(${j}deg) `)}const d=t.x.scale*s.x,u=t.y.scale*s.y;return(d!==1||u!==1)&&(n+=`scale(${d}, ${u})`),n||"none"}const Ub=["","X","Y","Z"],uJ=1e3;let hJ=0;function Hb(t,s,a,n){const{latestValues:r}=s;r[t]&&(a[t]=r[t],s.setStaticValue(t,0),n&&(n[t]=0))}function YM(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:s}=t.options;if(!s)return;const a=MM(s);if(window.MotionHasOptimisedAnimation(a,"transform")){const{layout:r,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(a,"transform",Xs,!(r||i))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&YM(n)}function KM({attachResizeListener:t,defaultParent:s,measureScroll:a,checkIsScrollRoot:n,resetTransform:r}){return class{constructor(l={},d=s?.()){this.id=hJ++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(pJ),this.nodes.forEach(bJ),this.nodes.forEach(vJ),this.nodes.forEach(gJ)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new JZ)}addEventListener(l,d){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new Pw),this.eventHandlers.get(l).add(d)}notifyListeners(l,...d){const u=this.eventHandlers.get(l);u&&u.notify(...d)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=dM(l)&&!nQ(l),this.instance=l;const{layoutId:d,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||d)&&(this.isLayoutDirty=!0),t){let p,f=0;const x=()=>this.root.updateBlockedByResize=!1;Xs.read(()=>{f=window.innerWidth}),t(l,()=>{const v=window.innerWidth;v!==f&&(f=v,this.root.updateBlockedByResize=!0,p&&p(),p=eJ(x,250),ig.hasAnimatedSinceResize&&(ig.hasAnimatedSinceResize=!1,this.nodes.forEach(cA)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&h&&(d||u)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:f,hasRelativeLayoutChanged:x,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||h.getDefaultTransition()||CJ,{onLayoutAnimationStart:w,onLayoutAnimationComplete:_}=h.getProps(),N=!this.targetLayout||!WM(this.targetLayout,v),k=!f&&x;if(this.options.layoutRoot||this.resumeFrom||k||f&&(N||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const D={...Gw(j,"layout"),onPlay:w,onComplete:_};(h.shouldReduceMotion||this.options.layoutRoot)&&(D.delay=0,D.type=!1),this.startAnimation(D),this.setAnimationOrigin(p,k)}else f||cA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),wl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(jJ),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&YM(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const f=this.path[p];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:d,layout:u}=this.options;if(d===void 0&&!u)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(oA);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(lA);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(yJ),this.nodes.forEach(mJ),this.nodes.forEach(fJ)):this.nodes.forEach(lA),this.clearAllSnapshots();const d=Pn.now();Xa.delta=fo(0,1e3/60,d-Xa.timestamp),Xa.timestamp=d,Xa.isProcessing=!0,Rb.update.process(Xa),Rb.preRender.process(Xa),Rb.render.process(Xa),Xa.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,Yw.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(xJ),this.sharedNodes.forEach(wJ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Xs.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Xs.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!pn(this.snapshot.measuredBox.x)&&!pn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ta(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(d=!1),d&&this.instance){const u=n(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:u,offset:a(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!r)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!GM(this.projectionDelta),u=this.getTransformTemplate(),h=u?u(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;l&&this.instance&&(d||pc(this.latestValues)||p)&&(r(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const d=this.measurePageBox();let u=this.removeElementScroll(d);return l&&(u=this.removeTransform(u)),kJ(u),{animationId:this.root.animationId,measuredBox:d,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Ta();const d=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(SJ))){const{scroll:h}=this.root;h&&(zd(d.x,h.offset.x),zd(d.y,h.offset.y))}return d}removeElementScroll(l){const d=Ta();if(Ir(d,l),this.scroll?.wasRoot)return d;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:p,options:f}=h;h!==this.root&&p&&f.layoutScroll&&(p.wasRoot&&Ir(d,l),zd(d.x,p.offset.x),zd(d.y,p.offset.y))}return d}applyTransform(l,d=!1){const u=Ta();Ir(u,l);for(let h=0;h<this.path.length;h++){const p=this.path[h];!d&&p.options.layoutScroll&&p.scroll&&p!==p.root&&Vd(u,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),pc(p.latestValues)&&Vd(u,p.latestValues)}return pc(this.latestValues)&&Vd(u,this.latestValues),u}removeTransform(l){const d=Ta();Ir(d,l);for(let u=0;u<this.path.length;u++){const h=this.path[u];if(!h.instance||!pc(h.latestValues))continue;hj(h.latestValues)&&h.updateSnapshot();const p=Ta(),f=h.measurePageBox();Ir(p,f),tA(d,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return pc(this.latestValues)&&tA(d,this.latestValues),d}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xa.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==d;if(!(l||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:f}=this.options;if(!this.layout||!(p||f))return;this.resolvedRelativeTargetAt=Xa.timestamp;const x=this.getClosestProjectingParent();x&&this.linkedParentVersion!==x.layoutVersion&&!x.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(x&&x.layout?this.createRelativeTarget(x,this.layout.layoutBox,x.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ta(),this.targetWithTransforms=Ta()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),OZ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ir(this.target,this.layout.layoutBox),SM(this.target,this.targetDelta)):Ir(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,x&&!!x.resumingFrom==!!this.resumingFrom&&!x.options.layoutScroll&&x.target&&this.animationProgress!==1?this.createRelativeTarget(x,this.target,x.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||hj(this.parent.latestValues)||kM(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(l,d,u){this.relativeParent=l,this.linkedParentVersion=l.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ta(),this.relativeTargetOrigin=Ta(),Ig(this.relativeTargetOrigin,d,u),Ir(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const l=this.getLead(),d=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Xa.timestamp&&(u=!1),u)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;Ir(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,x=this.treeScale.y;WQ(this.layoutCorrected,this.treeScale,this.path,d),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Ta());const{target:v}=l;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(ZS(this.prevProjectionDelta.x,this.projectionDelta.x),ZS(this.prevProjectionDelta.y,this.projectionDelta.y)),Wh(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==x||!iA(this.projectionDelta.x,this.prevProjectionDelta.x)||!iA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Ud(),this.projectionDelta=Ud(),this.projectionDeltaWithTransform=Ud()}setAnimationOrigin(l,d=!1){const u=this.snapshot,h=u?u.latestValues:{},p={...this.latestValues},f=Ud();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const x=Ta(),v=u?u.source:void 0,j=this.layout?this.layout.source:void 0,w=v!==j,_=this.getStack(),N=!_||_.members.length<=1,k=!!(w&&!N&&this.options.crossfade===!0&&!this.path.some(_J));this.animationProgress=0;let D;this.mixTargetDelta=T=>{const E=T/1e3;dA(f.x,l.x,E),dA(f.y,l.y,E),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ig(x,this.layout.layoutBox,this.relativeParent.layout.layoutBox),NJ(this.relativeTarget,this.relativeTargetOrigin,x,E),D&&lJ(this.relativeTarget,D)&&(this.isProjectionDirty=!1),D||(D=Ta()),Ir(D,this.relativeTarget)),w&&(this.animationValues=p,sJ(p,h,this.latestValues,E,k,N)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=E},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(wl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Xs.update(()=>{ig.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=tu(0)),this.currentAnimation=QZ(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),l.onUpdate&&l.onUpdate(d)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(uJ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:d,target:u,layout:h,latestValues:p}=l;if(!(!d||!u||!h)){if(this!==l&&this.layout&&h&&XM(this.options.animationType,this.layout.layoutBox,h.layoutBox)){u=this.target||Ta();const f=pn(this.layout.layoutBox.x);u.x.min=l.target.x.min,u.x.max=u.x.min+f;const x=pn(this.layout.layoutBox.y);u.y.min=l.target.y.min,u.y.max=u.y.min+x}Ir(d,u),Vd(d,p),Wh(this.projectionDeltaWithTransform,this.layoutCorrected,d,p)}}registerSharedNode(l,d){this.sharedNodes.has(l)||this.sharedNodes.set(l,new cJ),this.sharedNodes.get(l).add(d);const h=d.options.initialPromotionConfig;d.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(d):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:d,preserveFollowOpacity:u}={}){const h=this.getStack();h&&h.promote(this,u),l&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let d=!1;const{latestValues:u}=l;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(d=!0),!d)return;const h={};u.z&&Hb("z",l,h,this.animationValues);for(let p=0;p<Ub.length;p++)Hb(`rotate${Ub[p]}`,l,h,this.animationValues),Hb(`skew${Ub[p]}`,l,h,this.animationValues);l.render();for(const p in h)l.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);l.scheduleRender()}applyProjectionStyles(l,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=rg(d?.pointerEvents)||"",l.transform=u?u(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=rg(d?.pointerEvents)||""),this.hasProjected&&!pc(this.latestValues)&&(l.transform=u?u({},""):"none",this.hasProjected=!1);return}l.visibility="";const p=h.animationValues||h.latestValues;this.applyTransformsToTarget();let f=dJ(this.projectionDeltaWithTransform,this.treeScale,p);u&&(f=u(p,f)),l.transform=f;const{x,y:v}=this.projectionDelta;l.transformOrigin=`${x.origin*100}% ${v.origin*100}% 0`,h.animationValues?l.opacity=h===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:l.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const j in uj){if(p[j]===void 0)continue;const{correct:w,applyTo:_,isCSSVariable:N}=uj[j],k=f==="none"?p[j]:w(p[j],h);if(_){const D=_.length;for(let T=0;T<D;T++)l[_[T]]=k}else N?this.options.visualElement.renderState.vars[j]=k:l[j]=k}this.options.layoutId&&(l.pointerEvents=h===this?rg(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(oA),this.root.sharedNodes.clear()}}}function mJ(t){t.updateLayout()}function fJ(t){const s=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&s&&t.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:n}=t.layout,{animationType:r}=t.options,i=s.source!==t.layout.source;r==="size"?wr(p=>{const f=i?s.measuredBox[p]:s.layoutBox[p],x=pn(f);f.min=a[p].min,f.max=f.min+x}):XM(r,s.layoutBox,a)&&wr(p=>{const f=i?s.measuredBox[p]:s.layoutBox[p],x=pn(a[p]);f.max=f.min+x,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+x)});const l=Ud();Wh(l,a,s.layoutBox);const d=Ud();i?Wh(d,t.applyTransform(n,!0),s.measuredBox):Wh(d,a,s.layoutBox);const u=!GM(l);let h=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:f,layout:x}=p;if(f&&x){const v=Ta();Ig(v,s.layoutBox,f.layoutBox);const j=Ta();Ig(j,a,x.layoutBox),WM(v,j)||(h=!0),p.options.layoutRoot&&(t.relativeTarget=j,t.relativeTargetOrigin=v,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:a,snapshot:s,delta:d,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:a}=t.options;a&&a()}t.options.transition=void 0}function pJ(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function gJ(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function xJ(t){t.clearSnapshot()}function oA(t){t.clearMeasurements()}function lA(t){t.isLayoutDirty=!1}function yJ(t){const{visualElement:s}=t.options;s&&s.getProps().onBeforeLayoutMeasure&&s.notify("BeforeLayoutMeasure"),t.resetTransform()}function cA(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function bJ(t){t.resolveTargetDelta()}function vJ(t){t.calcProjection()}function jJ(t){t.resetSkewAndRotation()}function wJ(t){t.removeLeadSnapshot()}function dA(t,s,a){t.translate=ta(s.translate,0,a),t.scale=ta(s.scale,1,a),t.origin=s.origin,t.originPoint=s.originPoint}function uA(t,s,a,n){t.min=ta(s.min,a.min,n),t.max=ta(s.max,a.max,n)}function NJ(t,s,a,n){uA(t.x,s.x,a.x,n),uA(t.y,s.y,a.y,n)}function _J(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const CJ={duration:.45,ease:[.4,0,.1,1]},hA=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),mA=hA("applewebkit/")&&!hA("chrome/")?Math.round:Cr;function fA(t){t.min=mA(t.min),t.max=mA(t.max)}function kJ(t){fA(t.x),fA(t.y)}function XM(t,s,a){return t==="position"||t==="preserve-aspect"&&!PZ(rA(s),rA(a),.2)}function SJ(t){return t!==t.root&&t.scroll?.wasRoot}const AJ=KM({attachResizeListener:(t,s)=>um(t,"resize",s),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),qb={current:void 0},QM=KM({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!qb.current){const t=new AJ({});t.mount(window),t.setOptions({layoutScroll:!0}),qb.current=t}return qb.current},resetTransform:(t,s)=>{t.style.transform=s!==void 0?s:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),TJ={pan:{Feature:KZ},drag:{Feature:YZ,ProjectionNode:QM,MeasureLayout:UM}};function pA(t,s,a){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",a==="Start");const r="onHover"+a,i=n[r];i&&Xs.postRender(()=>i(s,zm(s)))}class DJ extends Tl{mount(){const{current:s}=this.node;s&&(this.unmount=JX(s,(a,n)=>(pA(this.node,n,"Start"),r=>pA(this.node,r,"End"))))}unmount(){}}class EJ extends Tl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let s=!1;try{s=this.node.current.matches(":focus-visible")}catch{s=!0}!s||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Fm(um(this.node.current,"focus",()=>this.onFocus()),um(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function gA(t,s,a){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",a==="Start");const r="onTap"+(a==="End"?"":a),i=n[r];i&&Xs.postRender(()=>i(s,zm(s)))}class RJ extends Tl{mount(){const{current:s}=this.node;s&&(this.unmount=aQ(s,(a,n)=>(gA(this.node,n,"Start"),(r,{success:i})=>gA(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const bj=new WeakMap,Gb=new WeakMap,MJ=t=>{const s=bj.get(t.target);s&&s(t)},PJ=t=>{t.forEach(MJ)};function OJ({root:t,...s}){const a=t||document;Gb.has(a)||Gb.set(a,{});const n=Gb.get(a),r=JSON.stringify(s);return n[r]||(n[r]=new IntersectionObserver(PJ,{root:t,...s})),n[r]}function LJ(t,s,a){const n=OJ(s);return bj.set(t,a),n.observe(t),()=>{bj.delete(t),n.unobserve(t)}}const BJ={some:0,all:1};class FJ extends Tl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:s={}}=this.node.getProps(),{root:a,margin:n,amount:r="some",once:i}=s,l={root:a?a.current:void 0,rootMargin:n,threshold:typeof r=="number"?r:BJ[r]},d=u=>{const{isIntersecting:h}=u;if(this.isInView===h||(this.isInView=h,i&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:f}=this.node.getProps(),x=h?p:f;x&&x(u)};return LJ(this.node.current,l,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:s,prevProps:a}=this.node;["amount","margin","root"].some(IJ(s,a))&&this.startObserver()}unmount(){}}function IJ({viewport:t={}},{viewport:s={}}={}){return a=>t[a]!==s[a]}const $J={inView:{Feature:FJ},tap:{Feature:RJ},focus:{Feature:EJ},hover:{Feature:DJ}},zJ={layout:{ProjectionNode:QM,MeasureLayout:UM}},VJ={...AZ,...$J,...TJ,...zJ},Ve=HQ(VJ,aZ),ct={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640",darkBlueDim:"rgba(14, 76, 129, 0.1)",tealDim:"rgba(0, 140, 149, 0.1)",limeGreenDim:"rgba(138, 198, 64, 0.1)"},UJ=[{value:"all",label:"All Categories"},{value:"luxury",label:"Luxury"},{value:"sport",label:"Sport"},{value:"normal",label:"Normal"},{value:"commercial",label:"Commercial"},{value:"industrial",label:"Industrial"},{value:"event",label:"Event"},{value:"sea",label:"Sea"}],HJ=[{value:"all",label:"All Statuses"},{value:"pending",label:"Pending"},{value:"approved",label:"Approved"},{value:"rejected",label:"Rejected"}],ZM=t=>{switch(t){case"approved":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"rejected":default:return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}},qJ=t=>{switch(t){case"luxury":return ct.darkBlue;case"sport":return ct.limeGreen;default:return ct.teal}},GJ=({car:t,onClose:s})=>{if(!t)return null;const a=n=>Array.isArray(n)?n:[];return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:e.jsxs(Ve.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-4xl p-6 relative overflow-y-auto max-h-[90vh]",children:[e.jsx("button",{className:"absolute top-4 right-4 w-8 h-8 rounded-full flex items-center justify-center transition-all hover:scale-110",style:{background:ct.tealDim},onClick:s,children:e.jsx(ea,{className:"w-5 h-5",style:{color:ct.teal}})}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{background:`linear-gradient(135deg, ${ct.teal}, ${ct.darkBlue})`},children:e.jsx(zt,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[t.make," ",t.model]}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[t.year,"  ",t.license_plate]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mt-4",children:[e.jsxs("div",{className:"bg-gradient-to-br p-3 rounded-xl",style:{background:ct.tealDim},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(sa,{className:"w-4 h-4",style:{color:ct.teal}}),e.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Views"})]}),e.jsx("p",{className:"text-xl font-bold",style:{color:ct.teal},children:t.views_count||0})]}),e.jsxs("div",{className:"bg-gradient-to-br p-3 rounded-xl",style:{background:ct.darkBlueDim},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(_c,{className:"w-4 h-4",style:{color:ct.darkBlue}}),e.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Clicks"})]}),e.jsx("p",{className:"text-xl font-bold",style:{color:ct.darkBlue},children:t.clicks_count??0})]}),e.jsxs("div",{className:"bg-gradient-to-br p-3 rounded-xl",style:{background:ct.limeGreenDim},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Bs,{className:"w-4 h-4",style:{color:ct.limeGreen}}),e.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Daily Rate"})]}),e.jsxs("p",{className:"text-xl font-bold",style:{color:ct.limeGreen},children:["$",t.daily_rate]})]}),e.jsxs("div",{className:"bg-gradient-to-br p-3 rounded-xl",style:{background:ct.tealDim},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Rs,{className:"w-4 h-4",style:{color:ct.teal}}),e.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Status"})]}),e.jsx(Me,{className:`text-xs ${ZM(t.status)}`,children:t.status})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"relative rounded-xl overflow-hidden shadow-lg",style:{height:"240px"},children:t.main_image_url?e.jsx("img",{src:`/api/storage/${t.main_image_url}`,alt:"Main",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{background:ct.tealDim},children:e.jsx(zt,{className:"w-16 h-16",style:{color:ct.teal,opacity:.3}})})}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:["front","back","left","right"].map(n=>t[`${n}_image_url`]?e.jsx("div",{className:"relative rounded-lg overflow-hidden shadow",style:{height:"70px"},children:e.jsx("img",{src:`/api/storage/${t[`${n}_image_url`]}`,alt:n,className:"w-full h-full object-cover"})},n):e.jsx("div",{className:"rounded-lg flex items-center justify-center",style:{height:"70px",background:ct.tealDim},children:e.jsx(zt,{className:"w-6 h-6",style:{color:ct.teal,opacity:.3}})},n))})]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx(Ia,{icon:zt,label:"Category",value:t.car_category}),e.jsx(Ia,{icon:Bs,label:"Holiday Rate",value:`$${t.holiday_rate}/day`}),e.jsx(Ia,{icon:ll,label:"Mileage",value:`${t.mileage?.toLocaleString()} km`}),e.jsx(Ia,{label:"Color",value:t.color}),e.jsx(Ia,{label:"Fuel Type",value:t.fuel_type}),e.jsx(Ia,{label:"Transmission",value:t.transmission}),e.jsx(Ia,{label:"Wheel Drive",value:t.wheels_drive}),e.jsx(Ia,{label:"Seats",value:t.seats}),e.jsx(Ia,{label:"Doors",value:t.doors}),e.jsx(Ia,{label:"Max Driving Mileage",value:`${t.max_driving_mileage} km`}),e.jsx(Ia,{label:"Min Rental Days",value:t.min_rental_days}),e.jsx(Ia,{label:"Add-Ons",value:a(t.car_add_on).join(", ")||"N/A"}),e.jsx(Ia,{label:"Features",value:a(t.features).join(", ")||"N/A"}),e.jsx(Ia,{label:"Reason for Rent",value:a(t.reason_of_rent).join(", ")||"N/A"}),t.notes&&e.jsx(Ia,{label:"Notes",value:t.notes}),e.jsx(Ia,{icon:bs,label:"Delivery Location",value:t.delivery_location?.address||"N/A"}),e.jsx(Ia,{icon:bs,label:"Return Location",value:t.return_location?.address||"N/A"}),t.live_location&&e.jsx(Ia,{icon:bs,label:"Current Location",value:t.live_location.address,badge:!0})]})]})]})})},Ia=({icon:t,label:s,value:a,badge:n})=>e.jsxs("div",{className:"flex items-start gap-2 py-2 border-b border-gray-100 dark:border-gray-800",children:[t&&e.jsx(t,{className:"w-4 h-4 mt-0.5",style:{color:ct.teal}}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:[s,":"]}),n?e.jsx(Me,{className:"ml-2 text-xs",style:{background:ct.teal,color:"white"},children:a}):e.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:a})]})]}),WJ=()=>{const t=Ua(),[s,a]=y.useState([]),[n,r]=y.useState(!0),[i,l]=y.useState({search:"",category:"all",status:"all"}),[d,u]=y.useState({currentPage:1,perPage:10}),[h,p]=y.useState(null),[f,x]=y.useState(!1),[v,j]=y.useState({}),w=async()=>{r(!0);try{const{data:Y}=await xe.get("/cars/agent/Mycars");a(Y.cars.data||[])}catch{se.error("Failed to fetch cars.")}finally{r(!1)}};y.useEffect(()=>{w()},[]);const _=(Y,re)=>{l(te=>({...te,[Y]:re})),u(te=>({...te,currentPage:1}))},N=()=>l({search:"",category:"all",status:"all"}),k=Y=>{dK.confirmAlert({title:"Confirm Deletion",message:"Are you sure you want to delete this car?",buttons:[{label:"Yes, Delete",onClick:async()=>{try{await xe.delete(`/cars/${Y}`),se.success("Car deleted successfully."),a(re=>re.filter(te=>te.id!==Y))}catch(re){se.error(re.response?.data?.error||"Failed to delete car.")}}},{label:"Cancel"}]})},D=Y=>{p(Y),j({delivery_location:Y.delivery_location?.address||"",return_location:Y.return_location?.address||"",mileage:Y.mileage||0,daily_rate:Y.daily_rate||0,holiday_rate:Y.holiday_rate||0}),x(!0)},T=(Y,re)=>{j(te=>({...te,[Y]:re}))},E=async()=>{try{const{data:Y}=await xe.put(`/cars/${h.id}`,{mileage:v.mileage,daily_rate:v.daily_rate,holiday_rate:v.holiday_rate});se.success("Car updated successfully"),a(re=>re.map(te=>te.id===h.id?{...te,...Y.car}:te)),x(!1)}catch(Y){se.error(Y.response?.data?.error||"Failed to update car")}},G=y.useMemo(()=>s.filter(Y=>{const re=i.category==="all"||Y.car_category===i.category,te=i.status==="all"||Y.status===i.status,V=[Y.make,Y.model,Y.license_plate].some(U=>U?.toLowerCase().includes(i.search.toLowerCase()));return re&&te&&V}),[s,i]),A=Math.ceil(G.length/d.perPage),F=y.useMemo(()=>{const Y=(d.currentPage-1)*d.perPage;return G.slice(Y,Y+d.perPage)},[G,d]),M=Y=>u(re=>({...re,currentPage:Math.max(1,Math.min(Y,A))})),J=s.reduce((Y,re)=>Y+(re.views_count||0),0),R=s.reduce((Y,re)=>Y+(re.clicks_count||0),0),ee=s.filter(Y=>Y.status==="approved").length;return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-black dark:via-gray-900 dark:to-gray-950 pt-20",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-xl flex items-center justify-center shadow-lg",style:{background:`linear-gradient(135deg, ${ct.teal}, ${ct.darkBlue})`},children:e.jsx(zt,{className:"w-7 h-7 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"My Cars"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Manage your listed vehicles"})]})]}),e.jsxs(K,{onClick:()=>t("/add-car"),className:"h-11 rounded-xl text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",style:{background:`linear-gradient(135deg, ${ct.teal}, ${ct.darkBlue})`},children:[e.jsx(Gs,{className:"w-5 h-5 mr-2"}),"Add New Car"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx(Ap,{icon:zt,label:"Total Cars",value:s.length,gradient:`linear-gradient(135deg, ${ct.teal}, ${ct.darkBlue})`}),e.jsx(Ap,{icon:sa,label:"Total Views",value:J,gradient:`linear-gradient(135deg, ${ct.darkBlue}, ${ct.teal})`}),e.jsx(Ap,{icon:_c,label:"Total Clicks",value:R,gradient:`linear-gradient(135deg, ${ct.teal}, ${ct.limeGreen})`}),e.jsx(Ap,{icon:bl,label:"Approved",value:ee,gradient:`linear-gradient(135deg, ${ct.limeGreen}, ${ct.teal})`})]}),e.jsx(Te,{className:"mb-6 border-2 border-transparent shadow-lg rounded-xl",children:e.jsx(Re,{className:"p-5",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-end",children:[e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ea,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(oe,{placeholder:"Search cars...",value:i.search,onChange:Y=>_("search",Y.target.value),className:"pl-9 h-10 border-2 rounded-xl transition-all duration-200",style:{borderColor:i.search?ct.teal:void 0}})]})]}),e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),e.jsxs(Je,{value:i.category,onValueChange:Y=>_("category",Y),children:[e.jsx(Qe,{className:"h-10 border-2 rounded-xl",children:e.jsx(et,{placeholder:"Select category"})}),e.jsx(Ze,{children:UJ.map(Y=>e.jsx(de,{value:Y.value,children:Y.label},Y.value))})]})]}),e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),e.jsxs(Je,{value:i.status,onValueChange:Y=>_("status",Y),children:[e.jsx(Qe,{className:"h-10 border-2 rounded-xl",children:e.jsx(et,{placeholder:"Select status"})}),e.jsx(Ze,{children:HJ.map(Y=>e.jsx(de,{value:Y.value,children:Y.label},Y.value))})]})]}),e.jsx("div",{className:"md:col-span-1 flex justify-end",children:(i.search||i.category!=="all"||i.status!=="all")&&e.jsx(K,{variant:"outline",className:"h-10 rounded-xl border-2",style:{borderColor:ct.teal,color:ct.teal},onClick:N,children:"Clear Filters"})})]})})}),e.jsxs(Te,{className:"border-2 border-transparent shadow-lg rounded-xl",children:[e.jsx(rs,{className:"pb-4",children:e.jsxs(is,{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Your Listed Cars (",G.length,")"]})}),e.jsx(Re,{children:n?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-t-transparent",style:{borderColor:ct.teal,borderTopColor:"transparent"}})}):F.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 gap-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center",style:{background:ct.tealDim},children:e.jsx(zt,{className:"w-8 h-8",style:{color:ct.teal}})}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["No cars found."," ",e.jsx(K,{variant:"link",className:"p-0 h-auto",style:{color:ct.teal},onClick:()=>t("/Add/car"),children:"Add your first car"})]})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Vehicle"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"License"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Category"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Rate"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Performance"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:F.map((Y,re)=>e.jsxs(Ve.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:re*.05},className:"hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-3 items-center",children:[e.jsx("div",{className:"w-14 h-10 rounded-lg overflow-hidden shadow-sm",children:Y.main_image_url?e.jsx("img",{src:`/api/storage/${Y.main_image_url}`,alt:Y.make,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{background:ct.tealDim},children:e.jsx(zt,{className:"w-5 h-5",style:{color:ct.teal,opacity:.5}})})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:Y.make}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[Y.model," (",Y.year,")"]})]})]})}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white font-mono",children:Y.license_plate}),e.jsx("td",{className:"px-4 py-3",children:e.jsx(Me,{className:"px-2 py-1 text-xs text-white font-semibold",style:{background:qJ(Y.car_category)},children:Y.car_category})}),e.jsxs("td",{className:"px-4 py-3",children:[e.jsxs("div",{className:"text-sm font-bold",style:{color:ct.teal},children:["$",Y.daily_rate]}),e.jsx("div",{className:"text-xs text-gray-500",children:"per day"})]}),e.jsx("td",{className:"px-4 py-3",children:e.jsx(Me,{className:`px-2 py-1 text-xs ${ZM(Y.status)}`,children:Y.status})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"flex items-center gap-1",title:"Impressions in list/search",children:[e.jsx(sa,{className:"w-4 h-4",style:{color:ct.darkBlue}}),e.jsx("span",{className:"text-sm font-semibold",style:{color:ct.darkBlue},children:Y.views_count??0})]}),e.jsxs("div",{className:"flex items-center gap-1",title:"Detail page opens",children:[e.jsx(_c,{className:"w-4 h-4",style:{color:ct.teal}}),e.jsx("span",{className:"text-sm font-semibold",style:{color:ct.teal},children:Y.clicks_count??0})]})]})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx(K,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:scale-110 transition-transform",style:{color:ct.teal},onClick:()=>p(Y),children:e.jsx(sa,{className:"w-4 h-4"})}),e.jsx(K,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:scale-110 transition-transform",style:{color:ct.darkBlue},onClick:()=>D(Y),children:e.jsx(J2,{className:"w-4 h-4"})}),e.jsx(K,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:scale-110 transition-transform",onClick:()=>k(Y.id),children:e.jsx(Ks,{className:"w-4 h-4"})})]})})]},Y.id))})]})})})]}),A>1&&e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{onClick:()=>M(1),disabled:d.currentPage===1,variant:"outline",size:"sm",className:"h-9 w-9 p-0 rounded-lg",children:e.jsx(x$,{className:"w-4 h-4"})}),e.jsx(K,{onClick:()=>M(d.currentPage-1),disabled:d.currentPage===1,variant:"outline",size:"sm",className:"h-9 w-9 p-0 rounded-lg",children:e.jsx(yo,{className:"w-4 h-4"})}),e.jsxs("div",{className:"px-4 py-2 bg-gray-100 dark:bg-gray-800 rounded-lg text-sm font-semibold",children:["Page ",d.currentPage," of ",A]}),e.jsx(K,{onClick:()=>M(d.currentPage+1),disabled:d.currentPage===A,variant:"outline",size:"sm",className:"h-9 w-9 p-0 rounded-lg",children:e.jsx(sn,{className:"w-4 h-4"})}),e.jsx(K,{onClick:()=>M(A),disabled:d.currentPage===A,variant:"outline",size:"sm",className:"h-9 w-9 p-0 rounded-lg",children:e.jsx(b$,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",(d.currentPage-1)*d.perPage+1," - ",Math.min(d.currentPage*d.perPage,G.length)," of ",G.length]})]}),h&&e.jsx(GJ,{car:h,onClose:()=>p(null)}),f&&h&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:e.jsxs(Ve.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-lg p-6 relative",children:[e.jsx("button",{className:"absolute top-4 right-4 w-8 h-8 rounded-full flex items-center justify-center transition-all hover:scale-110",style:{background:ct.tealDim},onClick:()=>x(!1),children:e.jsx(ea,{className:"w-5 h-5",style:{color:ct.teal}})}),e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{background:`linear-gradient(135deg, ${ct.darkBlue}, ${ct.teal})`},children:e.jsx(J2,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Edit Car"}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[h.make," ",h.model]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(bs,{className:"w-4 h-4 inline mr-1",style:{color:ct.teal}}),"Delivery Location"]}),e.jsx(oe,{value:v.delivery_location,onChange:Y=>T("delivery_location",Y.target.value),placeholder:"Enter delivery location",className:"h-10 border-2 rounded-xl"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(bs,{className:"w-4 h-4 inline mr-1",style:{color:ct.teal}}),"Return Location"]}),e.jsx(oe,{value:v.return_location,onChange:Y=>T("return_location",Y.target.value),placeholder:"Enter return location",className:"h-10 border-2 rounded-xl"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(ll,{className:"w-4 h-4 inline mr-1",style:{color:ct.teal}}),"Mileage (km)"]}),e.jsx(oe,{type:"number",value:v.mileage,onChange:Y=>T("mileage",Number(Y.target.value)),placeholder:"Enter mileage",className:"h-10 border-2 rounded-xl"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(Bs,{className:"w-4 h-4 inline mr-1",style:{color:ct.teal}}),"Daily Rate"]}),e.jsx(oe,{type:"number",value:v.daily_rate,onChange:Y=>T("daily_rate",Number(Y.target.value)),placeholder:"Daily rate",className:"h-10 border-2 rounded-xl"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(Bs,{className:"w-4 h-4 inline mr-1",style:{color:ct.darkBlue}}),"Holiday Rate"]}),e.jsx(oe,{type:"number",value:v.holiday_rate,onChange:Y=>T("holiday_rate",Number(Y.target.value)),placeholder:"Holiday rate",className:"h-10 border-2 rounded-xl"})]})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[e.jsx(K,{variant:"outline",onClick:()=>x(!1),className:"h-10 rounded-xl",children:"Cancel"}),e.jsx(K,{onClick:E,className:"h-10 rounded-xl text-white font-semibold",style:{background:`linear-gradient(135deg, ${ct.teal}, ${ct.darkBlue})`},children:"Save Changes"})]})]})})]})})},Ap=({icon:t,label:s,value:a,gradient:n})=>e.jsx(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:e.jsx(Te,{className:"border-2 border-transparent hover:shadow-lg transition-all duration-300 rounded-xl",children:e.jsx(Re,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-11 h-11 rounded-xl flex items-center justify-center shadow-md",style:{background:n},children:e.jsx(t,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 font-medium",children:s}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a})]})]})})})});class i1{constructor(){this.notificationCreatedEvent=".Illuminate\\Notifications\\Events\\BroadcastNotificationCreated"}listenForWhisper(s,a){return this.listen(".client-"+s,a)}notification(s){return this.listen(this.notificationCreatedEvent,s)}stopListeningForNotification(s){return this.stopListening(this.notificationCreatedEvent,s)}stopListeningForWhisper(s,a){return this.stopListening(".client-"+s,a)}}class JM{constructor(s){this.namespace=s}format(s){return[".","\\"].includes(s.charAt(0))?s.substring(1):(this.namespace&&(s=this.namespace+"."+s),s.replace(/\./g,"\\"))}setNamespace(s){this.namespace=s}}function YJ(t){try{new t}catch(s){if(s instanceof Error&&s.message.includes("is not a constructor"))return!1}return!0}class o1 extends i1{constructor(s,a,n){super(),this.name=a,this.pusher=s,this.options=n,this.eventFormatter=new JM(this.options.namespace),this.subscribe()}subscribe(){this.subscription=this.pusher.subscribe(this.name)}unsubscribe(){this.pusher.unsubscribe(this.name)}listen(s,a){return this.on(this.eventFormatter.format(s),a),this}listenToAll(s){return this.subscription.bind_global((a,n)=>{if(a.startsWith("pusher:"))return;let r=String(this.options.namespace??"").replace(/\./g,"\\"),i=a.startsWith(r)?a.substring(r.length+1):"."+a;s(i,n)}),this}stopListening(s,a){return a?this.subscription.unbind(this.eventFormatter.format(s),a):this.subscription.unbind(this.eventFormatter.format(s)),this}stopListeningToAll(s){return s?this.subscription.unbind_global(s):this.subscription.unbind_global(),this}subscribed(s){return this.on("pusher:subscription_succeeded",()=>{s()}),this}error(s){return this.on("pusher:subscription_error",a=>{s(a)}),this}on(s,a){return this.subscription.bind(s,a),this}}class eP extends o1{whisper(s,a){return this.pusher.channels.channels[this.name].trigger(`client-${s}`,a),this}}class KJ extends o1{whisper(s,a){return this.pusher.channels.channels[this.name].trigger(`client-${s}`,a),this}}class XJ extends eP{here(s){return this.on("pusher:subscription_succeeded",a=>{s(Object.keys(a.members).map(n=>a.members[n]))}),this}joining(s){return this.on("pusher:member_added",a=>{s(a.info)}),this}whisper(s,a){return this.pusher.channels.channels[this.name].trigger(`client-${s}`,a),this}leaving(s){return this.on("pusher:member_removed",a=>{s(a.info)}),this}}class tP extends i1{constructor(s,a,n){super(),this.events={},this.listeners={},this.name=a,this.socket=s,this.options=n,this.eventFormatter=new JM(this.options.namespace),this.subscribe()}subscribe(){this.socket.emit("subscribe",{channel:this.name,auth:this.options.auth||{}})}unsubscribe(){this.unbind(),this.socket.emit("unsubscribe",{channel:this.name,auth:this.options.auth||{}})}listen(s,a){return this.on(this.eventFormatter.format(s),a),this}stopListening(s,a){return this.unbindEvent(this.eventFormatter.format(s),a),this}subscribed(s){return this.on("connect",a=>{s(a)}),this}error(s){return this}on(s,a){return this.listeners[s]=this.listeners[s]||[],this.events[s]||(this.events[s]=(n,r)=>{this.name===n&&this.listeners[s]&&this.listeners[s].forEach(i=>i(r))},this.socket.on(s,this.events[s])),this.listeners[s].push(a),this}unbind(){Object.keys(this.events).forEach(s=>{this.unbindEvent(s)})}unbindEvent(s,a){this.listeners[s]=this.listeners[s]||[],a&&(this.listeners[s]=this.listeners[s].filter(n=>n!==a)),(!a||this.listeners[s].length===0)&&(this.events[s]&&(this.socket.removeListener(s,this.events[s]),delete this.events[s]),delete this.listeners[s])}}class sP extends tP{whisper(s,a){return this.socket.emit("client event",{channel:this.name,event:`client-${s}`,data:a}),this}}class QJ extends sP{here(s){return this.on("presence:subscribed",a=>{s(a.map(n=>n.user_info))}),this}joining(s){return this.on("presence:joining",a=>s(a.user_info)),this}whisper(s,a){return this.socket.emit("client event",{channel:this.name,event:`client-${s}`,data:a}),this}leaving(s){return this.on("presence:leaving",a=>s(a.user_info)),this}}class $g extends i1{subscribe(){}unsubscribe(){}listen(s,a){return this}listenToAll(s){return this}stopListening(s,a){return this}subscribed(s){return this}error(s){return this}on(s,a){return this}}class aP extends $g{whisper(s,a){return this}}class ZJ extends $g{whisper(s,a){return this}}class JJ extends aP{here(s){return this}joining(s){return this}whisper(s,a){return this}leaving(s){return this}}const nP=class rP{constructor(s){this.setOptions(s),this.connect()}setOptions(s){this.options={...rP._defaultOptions,...s,broadcaster:s.broadcaster};let a=this.csrfToken();a&&(this.options.auth.headers["X-CSRF-TOKEN"]=a,this.options.userAuthentication.headers["X-CSRF-TOKEN"]=a),a=this.options.bearerToken,a&&(this.options.auth.headers.Authorization="Bearer "+a,this.options.userAuthentication.headers.Authorization="Bearer "+a)}csrfToken(){var s,a;return typeof window<"u"&&(s=window.Laravel)!=null&&s.csrfToken?window.Laravel.csrfToken:this.options.csrfToken?this.options.csrfToken:typeof document<"u"&&typeof document.querySelector=="function"?((a=document.querySelector('meta[name="csrf-token"]'))==null?void 0:a.getAttribute("content"))??null:null}};nP._defaultOptions={auth:{headers:{}},authEndpoint:"/broadcasting/auth",userAuthentication:{endpoint:"/broadcasting/user-auth",headers:{}},csrfToken:null,bearerToken:null,host:null,key:null,namespace:"App.Events"};let l1=nP;class Tp extends l1{constructor(){super(...arguments),this.channels={}}connect(){if(typeof this.options.client<"u")this.pusher=this.options.client;else if(this.options.Pusher)this.pusher=new this.options.Pusher(this.options.key,this.options);else if(typeof window<"u"&&typeof window.Pusher<"u")this.pusher=new window.Pusher(this.options.key,this.options);else throw new Error("Pusher client not found. Should be globally available or passed via options.client")}signin(){this.pusher.signin()}listen(s,a,n){return this.channel(s).listen(a,n)}channel(s){return this.channels[s]||(this.channels[s]=new o1(this.pusher,s,this.options)),this.channels[s]}privateChannel(s){return this.channels["private-"+s]||(this.channels["private-"+s]=new eP(this.pusher,"private-"+s,this.options)),this.channels["private-"+s]}encryptedPrivateChannel(s){return this.channels["private-encrypted-"+s]||(this.channels["private-encrypted-"+s]=new KJ(this.pusher,"private-encrypted-"+s,this.options)),this.channels["private-encrypted-"+s]}presenceChannel(s){return this.channels["presence-"+s]||(this.channels["presence-"+s]=new XJ(this.pusher,"presence-"+s,this.options)),this.channels["presence-"+s]}leave(s){[s,"private-"+s,"private-encrypted-"+s,"presence-"+s].forEach(a=>{this.leaveChannel(a)})}leaveChannel(s){this.channels[s]&&(this.channels[s].unsubscribe(),delete this.channels[s])}socketId(){return this.pusher.connection.socket_id}disconnect(){this.pusher.disconnect()}}class eee extends l1{constructor(){super(...arguments),this.channels={}}connect(){let s=this.getSocketIO();this.socket=s(this.options.host??void 0,this.options),this.socket.io.on("reconnect",()=>{Object.values(this.channels).forEach(a=>{a.subscribe()})})}getSocketIO(){if(typeof this.options.client<"u")return this.options.client;if(typeof window<"u"&&typeof window.io<"u")return window.io;throw new Error("Socket.io client not found. Should be globally available or passed via options.client")}listen(s,a,n){return this.channel(s).listen(a,n)}channel(s){return this.channels[s]||(this.channels[s]=new tP(this.socket,s,this.options)),this.channels[s]}privateChannel(s){return this.channels["private-"+s]||(this.channels["private-"+s]=new sP(this.socket,"private-"+s,this.options)),this.channels["private-"+s]}presenceChannel(s){return this.channels["presence-"+s]||(this.channels["presence-"+s]=new QJ(this.socket,"presence-"+s,this.options)),this.channels["presence-"+s]}leave(s){[s,"private-"+s,"presence-"+s].forEach(a=>{this.leaveChannel(a)})}leaveChannel(s){this.channels[s]&&(this.channels[s].unsubscribe(),delete this.channels[s])}socketId(){return this.socket.id}disconnect(){this.socket.disconnect()}}class xA extends l1{constructor(){super(...arguments),this.channels={}}connect(){}listen(s,a,n){return new $g}channel(s){return new $g}privateChannel(s){return new aP}encryptedPrivateChannel(s){return new ZJ}presenceChannel(s){return new JJ}leave(s){}leaveChannel(s){}socketId(){return"fake-socket-id"}disconnect(){}}class iP{constructor(s){this.options=s,this.connect(),this.options.withoutInterceptors||this.registerInterceptors()}channel(s){return this.connector.channel(s)}connect(){if(this.options.broadcaster==="reverb")this.connector=new Tp({...this.options,cluster:""});else if(this.options.broadcaster==="pusher")this.connector=new Tp(this.options);else if(this.options.broadcaster==="ably")this.connector=new Tp({...this.options,cluster:"",broadcaster:"pusher"});else if(this.options.broadcaster==="socket.io")this.connector=new eee(this.options);else if(this.options.broadcaster==="null")this.connector=new xA(this.options);else if(typeof this.options.broadcaster=="function"&&YJ(this.options.broadcaster))this.connector=new this.options.broadcaster(this.options);else throw new Error(`Broadcaster ${typeof this.options.broadcaster} ${String(this.options.broadcaster)} is not supported.`)}disconnect(){this.connector.disconnect()}join(s){return this.connector.presenceChannel(s)}leave(s){this.connector.leave(s)}leaveChannel(s){this.connector.leaveChannel(s)}leaveAllChannels(){for(const s in this.connector.channels)this.leaveChannel(s)}listen(s,a,n){return this.connector.listen(s,a,n)}private(s){return this.connector.privateChannel(s)}encryptedPrivate(s){if(this.connectorSupportsEncryptedPrivateChannels(this.connector))return this.connector.encryptedPrivateChannel(s);throw new Error(`Broadcaster ${typeof this.options.broadcaster} ${String(this.options.broadcaster)} does not support encrypted private channels.`)}connectorSupportsEncryptedPrivateChannels(s){return s instanceof Tp||s instanceof xA}socketId(){return this.connector.socketId()}registerInterceptors(){typeof Vue<"u"&&Vue!=null&&Vue.http&&this.registerVueRequestInterceptor(),typeof axios=="function"&&this.registerAxiosRequestInterceptor(),typeof jQuery=="function"&&this.registerjQueryAjaxSetup(),typeof Turbo=="object"&&this.registerTurboRequestInterceptor()}registerVueRequestInterceptor(){Vue.http.interceptors.push((s,a)=>{this.socketId()&&s.headers.set("X-Socket-ID",this.socketId()),a()})}registerAxiosRequestInterceptor(){axios.interceptors.request.use(s=>(this.socketId()&&(s.headers["X-Socket-Id"]=this.socketId()),s))}registerjQueryAjaxSetup(){typeof jQuery.ajax<"u"&&jQuery.ajaxPrefilter((s,a,n)=>{this.socketId()&&n.setRequestHeader("X-Socket-Id",this.socketId())})}registerTurboRequestInterceptor(){document.addEventListener("turbo:before-fetch-request",s=>{s.detail.fetchOptions.headers["X-Socket-Id"]=this.socketId()})}}var Wb={exports:{}};var yA;function tee(){return yA||(yA=1,(function(t,s){(function(n,r){t.exports=r()})(window,function(){return(function(a){var n={};function r(i){if(n[i])return n[i].exports;var l=n[i]={i,l:!1,exports:{}};return a[i].call(l.exports,l,l.exports,r),l.l=!0,l.exports}return r.m=a,r.c=n,r.d=function(i,l,d){r.o(i,l)||Object.defineProperty(i,l,{enumerable:!0,get:d})},r.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},r.t=function(i,l){if(l&1&&(i=r(i)),l&8||l&4&&typeof i=="object"&&i&&i.__esModule)return i;var d=Object.create(null);if(r.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:i}),l&2&&typeof i!="string")for(var u in i)r.d(d,u,(function(h){return i[h]}).bind(null,u));return d},r.n=function(i){var l=i&&i.__esModule?function(){return i.default}:function(){return i};return r.d(l,"a",l),l},r.o=function(i,l){return Object.prototype.hasOwnProperty.call(i,l)},r.p="",r(r.s=2)})([(function(a,n,r){var i=this&&this.__extends||(function(){var w=function(_,N){return w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(k,D){k.__proto__=D}||function(k,D){for(var T in D)D.hasOwnProperty(T)&&(k[T]=D[T])},w(_,N)};return function(_,N){w(_,N);function k(){this.constructor=_}_.prototype=N===null?Object.create(N):(k.prototype=N.prototype,new k)}})();Object.defineProperty(n,"__esModule",{value:!0});var l=256,d=(function(){function w(_){_===void 0&&(_="="),this._paddingCharacter=_}return w.prototype.encodedLength=function(_){return this._paddingCharacter?(_+2)/3*4|0:(_*8+5)/6|0},w.prototype.encode=function(_){for(var N="",k=0;k<_.length-2;k+=3){var D=_[k]<<16|_[k+1]<<8|_[k+2];N+=this._encodeByte(D>>>18&63),N+=this._encodeByte(D>>>12&63),N+=this._encodeByte(D>>>6&63),N+=this._encodeByte(D>>>0&63)}var T=_.length-k;if(T>0){var D=_[k]<<16|(T===2?_[k+1]<<8:0);N+=this._encodeByte(D>>>18&63),N+=this._encodeByte(D>>>12&63),T===2?N+=this._encodeByte(D>>>6&63):N+=this._paddingCharacter||"",N+=this._paddingCharacter||""}return N},w.prototype.maxDecodedLength=function(_){return this._paddingCharacter?_/4*3|0:(_*6+7)/8|0},w.prototype.decodedLength=function(_){return this.maxDecodedLength(_.length-this._getPaddingLength(_))},w.prototype.decode=function(_){if(_.length===0)return new Uint8Array(0);for(var N=this._getPaddingLength(_),k=_.length-N,D=new Uint8Array(this.maxDecodedLength(k)),T=0,E=0,G=0,A=0,F=0,M=0,J=0;E<k-4;E+=4)A=this._decodeChar(_.charCodeAt(E+0)),F=this._decodeChar(_.charCodeAt(E+1)),M=this._decodeChar(_.charCodeAt(E+2)),J=this._decodeChar(_.charCodeAt(E+3)),D[T++]=A<<2|F>>>4,D[T++]=F<<4|M>>>2,D[T++]=M<<6|J,G|=A&l,G|=F&l,G|=M&l,G|=J&l;if(E<k-1&&(A=this._decodeChar(_.charCodeAt(E)),F=this._decodeChar(_.charCodeAt(E+1)),D[T++]=A<<2|F>>>4,G|=A&l,G|=F&l),E<k-2&&(M=this._decodeChar(_.charCodeAt(E+2)),D[T++]=F<<4|M>>>2,G|=M&l),E<k-3&&(J=this._decodeChar(_.charCodeAt(E+3)),D[T++]=M<<6|J,G|=J&l),G!==0)throw new Error("Base64Coder: incorrect characters for decoding");return D},w.prototype._encodeByte=function(_){var N=_;return N+=65,N+=25-_>>>8&6,N+=51-_>>>8&-75,N+=61-_>>>8&-15,N+=62-_>>>8&3,String.fromCharCode(N)},w.prototype._decodeChar=function(_){var N=l;return N+=(42-_&_-44)>>>8&-l+_-43+62,N+=(46-_&_-48)>>>8&-l+_-47+63,N+=(47-_&_-58)>>>8&-l+_-48+52,N+=(64-_&_-91)>>>8&-l+_-65+0,N+=(96-_&_-123)>>>8&-l+_-97+26,N},w.prototype._getPaddingLength=function(_){var N=0;if(this._paddingCharacter){for(var k=_.length-1;k>=0&&_[k]===this._paddingCharacter;k--)N++;if(_.length<4||N>2)throw new Error("Base64Coder: incorrect padding")}return N},w})();n.Coder=d;var u=new d;function h(w){return u.encode(w)}n.encode=h;function p(w){return u.decode(w)}n.decode=p;var f=(function(w){i(_,w);function _(){return w!==null&&w.apply(this,arguments)||this}return _.prototype._encodeByte=function(N){var k=N;return k+=65,k+=25-N>>>8&6,k+=51-N>>>8&-75,k+=61-N>>>8&-13,k+=62-N>>>8&49,String.fromCharCode(k)},_.prototype._decodeChar=function(N){var k=l;return k+=(44-N&N-46)>>>8&-l+N-45+62,k+=(94-N&N-96)>>>8&-l+N-95+63,k+=(47-N&N-58)>>>8&-l+N-48+52,k+=(64-N&N-91)>>>8&-l+N-65+0,k+=(96-N&N-123)>>>8&-l+N-97+26,k},_})(d);n.URLSafeCoder=f;var x=new f;function v(w){return x.encode(w)}n.encodeURLSafe=v;function j(w){return x.decode(w)}n.decodeURLSafe=j,n.encodedLength=function(w){return u.encodedLength(w)},n.maxDecodedLength=function(w){return u.maxDecodedLength(w)},n.decodedLength=function(w){return u.decodedLength(w)}}),(function(a,n,r){Object.defineProperty(n,"__esModule",{value:!0});var i="utf8: invalid string",l="utf8: invalid source encoding";function d(p){for(var f=new Uint8Array(u(p)),x=0,v=0;v<p.length;v++){var j=p.charCodeAt(v);j<128?f[x++]=j:j<2048?(f[x++]=192|j>>6,f[x++]=128|j&63):j<55296?(f[x++]=224|j>>12,f[x++]=128|j>>6&63,f[x++]=128|j&63):(v++,j=(j&1023)<<10,j|=p.charCodeAt(v)&1023,j+=65536,f[x++]=240|j>>18,f[x++]=128|j>>12&63,f[x++]=128|j>>6&63,f[x++]=128|j&63)}return f}n.encode=d;function u(p){for(var f=0,x=0;x<p.length;x++){var v=p.charCodeAt(x);if(v<128)f+=1;else if(v<2048)f+=2;else if(v<55296)f+=3;else if(v<=57343){if(x>=p.length-1)throw new Error(i);x++,f+=4}else throw new Error(i)}return f}n.encodedLength=u;function h(p){for(var f=[],x=0;x<p.length;x++){var v=p[x];if(v&128){var j=void 0;if(v<224){if(x>=p.length)throw new Error(l);var w=p[++x];if((w&192)!==128)throw new Error(l);v=(v&31)<<6|w&63,j=128}else if(v<240){if(x>=p.length-1)throw new Error(l);var w=p[++x],_=p[++x];if((w&192)!==128||(_&192)!==128)throw new Error(l);v=(v&15)<<12|(w&63)<<6|_&63,j=2048}else if(v<248){if(x>=p.length-2)throw new Error(l);var w=p[++x],_=p[++x],N=p[++x];if((w&192)!==128||(_&192)!==128||(N&192)!==128)throw new Error(l);v=(v&15)<<18|(w&63)<<12|(_&63)<<6|N&63,j=65536}else throw new Error(l);if(v<j||v>=55296&&v<=57343)throw new Error(l);if(v>=65536){if(v>1114111)throw new Error(l);v-=65536,f.push(String.fromCharCode(55296|v>>10)),v=56320|v&1023}}f.push(String.fromCharCode(v))}return f.join("")}n.decode=h}),(function(a,n,r){a.exports=r(3).default}),(function(a,n,r){r.r(n);class i{constructor(S,O){this.lastId=0,this.prefix=S,this.name=O}create(S){this.lastId++;var O=this.lastId,ae=this.prefix+O,ue=this.name+"["+O+"]",Be=!1,Ke=function(){Be||(S.apply(null,arguments),Be=!0)};return this[O]=Ke,{number:O,id:ae,name:ue,callback:Ke}}remove(S){delete this[S.number]}}var l=new i("_pusher_script_","Pusher.ScriptReceivers"),d={VERSION:"8.4.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},u=d;class h{constructor(S){this.options=S,this.receivers=S.receivers||l,this.loading={}}load(S,O,ae){var ue=this;if(ue.loading[S]&&ue.loading[S].length>0)ue.loading[S].push(ae);else{ue.loading[S]=[ae];var Be=At.createScriptRequest(ue.getPath(S,O)),Ke=ue.receivers.create(function(ut){if(ue.receivers.remove(Ke),ue.loading[S]){var Lt=ue.loading[S];delete ue.loading[S];for(var Xt=function(na){na||Be.cleanup()},ts=0;ts<Lt.length;ts++)Lt[ts](ut,Xt)}});Be.send(Ke)}}getRoot(S){var O,ae=At.getDocument().location.protocol;return S&&S.useTLS||ae==="https:"?O=this.options.cdn_https:O=this.options.cdn_http,O.replace(/\/*$/,"")+"/"+this.options.version}getPath(S,O){return this.getRoot(O)+"/"+S+this.options.suffix+".js"}}var p=new i("_pusher_dependencies","Pusher.DependenciesReceivers"),f=new h({cdn_http:u.cdn_http,cdn_https:u.cdn_https,version:u.VERSION,suffix:u.dependency_suffix,receivers:p});const x={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}};var j={buildLogSuffix:function(I){const S="See:",O=x.urls[I];if(!O)return"";let ae;return O.fullUrl?ae=O.fullUrl:O.path&&(ae=x.baseUrl+O.path),ae?`${S} ${ae}`:""}},w;(function(I){I.UserAuthentication="user-authentication",I.ChannelAuthorization="channel-authorization"})(w||(w={}));class _ extends Error{constructor(S){super(S),Object.setPrototypeOf(this,new.target.prototype)}}class N extends Error{constructor(S){super(S),Object.setPrototypeOf(this,new.target.prototype)}}class k extends Error{constructor(S){super(S),Object.setPrototypeOf(this,new.target.prototype)}}class D extends Error{constructor(S){super(S),Object.setPrototypeOf(this,new.target.prototype)}}class T extends Error{constructor(S){super(S),Object.setPrototypeOf(this,new.target.prototype)}}class E extends Error{constructor(S){super(S),Object.setPrototypeOf(this,new.target.prototype)}}class G extends Error{constructor(S){super(S),Object.setPrototypeOf(this,new.target.prototype)}}class A extends Error{constructor(S){super(S),Object.setPrototypeOf(this,new.target.prototype)}}class F extends Error{constructor(S,O){super(O),this.status=S,Object.setPrototypeOf(this,new.target.prototype)}}var J=function(I,S,O,ae,ue){const Be=At.createXHR();Be.open("POST",O.endpoint,!0),Be.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var Ke in O.headers)Be.setRequestHeader(Ke,O.headers[Ke]);if(O.headersProvider!=null){let ut=O.headersProvider();for(var Ke in ut)Be.setRequestHeader(Ke,ut[Ke])}return Be.onreadystatechange=function(){if(Be.readyState===4)if(Be.status===200){let ut,Lt=!1;try{ut=JSON.parse(Be.responseText),Lt=!0}catch{ue(new F(200,`JSON returned from ${ae.toString()} endpoint was invalid, yet status code was 200. Data was: ${Be.responseText}`),null)}Lt&&ue(null,ut)}else{let ut="";switch(ae){case w.UserAuthentication:ut=j.buildLogSuffix("authenticationEndpoint");break;case w.ChannelAuthorization:ut=`Clients must be authorized to join private or presence channels. ${j.buildLogSuffix("authorizationEndpoint")}`;break}ue(new F(Be.status,`Unable to retrieve auth string from ${ae.toString()} endpoint - received status: ${Be.status} from ${O.endpoint}. ${ut}`),null)}},Be.send(S),Be};function R(I){return U(te(I))}var ee=String.fromCharCode,Y="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",re=function(I){var S=I.charCodeAt(0);return S<128?I:S<2048?ee(192|S>>>6)+ee(128|S&63):ee(224|S>>>12&15)+ee(128|S>>>6&63)+ee(128|S&63)},te=function(I){return I.replace(/[^\x00-\x7F]/g,re)},V=function(I){var S=[0,2,1][I.length%3],O=I.charCodeAt(0)<<16|(I.length>1?I.charCodeAt(1):0)<<8|(I.length>2?I.charCodeAt(2):0),ae=[Y.charAt(O>>>18),Y.charAt(O>>>12&63),S>=2?"=":Y.charAt(O>>>6&63),S>=1?"=":Y.charAt(O&63)];return ae.join("")},U=window.btoa||function(I){return I.replace(/[\s\S]{1,3}/g,V)};class H{constructor(S,O,ae,ue){this.clear=O,this.timer=S(()=>{this.timer&&(this.timer=ue(this.timer))},ae)}isRunning(){return this.timer!==null}ensureAborted(){this.timer&&(this.clear(this.timer),this.timer=null)}}var L=H;function $(I){window.clearTimeout(I)}function z(I){window.clearInterval(I)}class ie extends L{constructor(S,O){super(setTimeout,$,S,function(ae){return O(),null})}}class le extends L{constructor(S,O){super(setInterval,z,S,function(ae){return O(),ae})}}var ne={now(){return Date.now?Date.now():new Date().valueOf()},defer(I){return new ie(0,I)},method(I,...S){var O=Array.prototype.slice.call(arguments,1);return function(ae){return ae[I].apply(ae,O.concat(arguments))}}},fe=ne;function Ne(I,...S){for(var O=0;O<S.length;O++){var ae=S[O];for(var ue in ae)ae[ue]&&ae[ue].constructor&&ae[ue].constructor===Object?I[ue]=Ne(I[ue]||{},ae[ue]):I[ue]=ae[ue]}return I}function ye(){for(var I=["Pusher"],S=0;S<arguments.length;S++)typeof arguments[S]=="string"?I.push(arguments[S]):I.push(he(arguments[S]));return I.join(" : ")}function Le(I,S){var O=Array.prototype.indexOf;if(I===null)return-1;if(O&&I.indexOf===O)return I.indexOf(S);for(var ae=0,ue=I.length;ae<ue;ae++)if(I[ae]===S)return ae;return-1}function Se(I,S){for(var O in I)Object.prototype.hasOwnProperty.call(I,O)&&S(I[O],O,I)}function Ge(I){var S=[];return Se(I,function(O,ae){S.push(ae)}),S}function nt(I){var S=[];return Se(I,function(O){S.push(O)}),S}function Ae(I,S,O){for(var ae=0;ae<I.length;ae++)S.call(O||window,I[ae],ae,I)}function Ye(I,S){for(var O=[],ae=0;ae<I.length;ae++)O.push(S(I[ae],ae,I,O));return O}function Oe(I,S){var O={};return Se(I,function(ae,ue){O[ue]=S(ae)}),O}function ft(I,S){S=S||function(ue){return!!ue};for(var O=[],ae=0;ae<I.length;ae++)S(I[ae],ae,I,O)&&O.push(I[ae]);return O}function kt(I,S){var O={};return Se(I,function(ae,ue){(S&&S(ae,ue,I,O)||ae)&&(O[ue]=ae)}),O}function tt(I){var S=[];return Se(I,function(O,ae){S.push([ae,O])}),S}function ps(I,S){for(var O=0;O<I.length;O++)if(S(I[O],O,I))return!0;return!1}function ys(I,S){for(var O=0;O<I.length;O++)if(!S(I[O],O,I))return!1;return!0}function Fs(I){return Oe(I,function(S){return typeof S=="object"&&(S=he(S)),encodeURIComponent(R(S.toString()))})}function pe(I){var S=kt(I,function(ae){return ae!==void 0}),O=Ye(tt(Fs(S)),fe.method("join","=")).join("&");return O}function Ce(I){var S=[],O=[];return(function ae(ue,Be){var Ke,ut,Lt;switch(typeof ue){case"object":if(!ue)return null;for(Ke=0;Ke<S.length;Ke+=1)if(S[Ke]===ue)return{$ref:O[Ke]};if(S.push(ue),O.push(Be),Object.prototype.toString.apply(ue)==="[object Array]")for(Lt=[],Ke=0;Ke<ue.length;Ke+=1)Lt[Ke]=ae(ue[Ke],Be+"["+Ke+"]");else{Lt={};for(ut in ue)Object.prototype.hasOwnProperty.call(ue,ut)&&(Lt[ut]=ae(ue[ut],Be+"["+JSON.stringify(ut)+"]"))}return Lt;case"number":case"string":case"boolean":return ue}})(I,"$")}function he(I){try{return JSON.stringify(I)}catch{return JSON.stringify(Ce(I))}}class Ie{constructor(){this.globalLog=S=>{window.console&&window.console.log&&window.console.log(S)}}debug(...S){this.log(this.globalLog,S)}warn(...S){this.log(this.globalLogWarn,S)}error(...S){this.log(this.globalLogError,S)}globalLogWarn(S){window.console&&window.console.warn?window.console.warn(S):this.globalLog(S)}globalLogError(S){window.console&&window.console.error?window.console.error(S):this.globalLogWarn(S)}log(S,...O){var ae=ye.apply(this,arguments);Du.log?Du.log(ae):Du.logToConsole&&S.bind(this)(ae)}}var ze=new Ie,rt=function(I,S,O,ae,ue){(O.headers!==void 0||O.headersProvider!=null)&&ze.warn(`To send headers with the ${ae.toString()} request, you must use AJAX, rather than JSONP.`);var Be=I.nextAuthCallbackID.toString();I.nextAuthCallbackID++;var Ke=I.getDocument(),ut=Ke.createElement("script");I.auth_callbacks[Be]=function(ts){ue(null,ts)};var Lt="Pusher.auth_callbacks['"+Be+"']";ut.src=O.endpoint+"?callback="+encodeURIComponent(Lt)+"&"+S;var Xt=Ke.getElementsByTagName("head")[0]||Ke.documentElement;Xt.insertBefore(ut,Xt.firstChild)},yt=rt;class dt{constructor(S){this.src=S}send(S){var O=this,ae="Error loading "+O.src;O.script=document.createElement("script"),O.script.id=S.id,O.script.src=O.src,O.script.type="text/javascript",O.script.charset="UTF-8",O.script.addEventListener?(O.script.onerror=function(){S.callback(ae)},O.script.onload=function(){S.callback(null)}):O.script.onreadystatechange=function(){(O.script.readyState==="loaded"||O.script.readyState==="complete")&&S.callback(null)},O.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(O.errorScript=document.createElement("script"),O.errorScript.id=S.id+"_error",O.errorScript.text=S.name+"('"+ae+"');",O.script.async=O.errorScript.async=!1):O.script.async=!0;var ue=document.getElementsByTagName("head")[0];ue.insertBefore(O.script,ue.firstChild),O.errorScript&&ue.insertBefore(O.errorScript,O.script.nextSibling)}cleanup(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null}}class Vt{constructor(S,O){this.url=S,this.data=O}send(S){if(!this.request){var O=pe(this.data),ae=this.url+"/"+S.number+"?"+O;this.request=At.createScriptRequest(ae),this.request.send(S)}}cleanup(){this.request&&this.request.cleanup()}}var St=function(I,S){return function(O,ae){var ue="http"+(S?"s":"")+"://",Be=ue+(I.host||I.options.host)+I.options.path,Ke=At.createJSONPRequest(Be,O),ut=At.ScriptReceivers.create(function(Lt,Xt){l.remove(ut),Ke.cleanup(),Xt&&Xt.host&&(I.host=Xt.host),ae&&ae(Lt,Xt)});Ke.send(ut)}},Gt={name:"jsonp",getAgent:St},Us=Gt;function ns(I,S,O){var ae=I+(S.useTLS?"s":""),ue=S.useTLS?S.hostTLS:S.hostNonTLS;return ae+"://"+ue+O}function gs(I,S){var O="/app/"+I,ae="?protocol="+u.PROTOCOL+"&client=js&version="+u.VERSION+(S?"&"+S:"");return O+ae}var pt={getInitial:function(I,S){var O=(S.httpPath||"")+gs(I,"flash=false");return ns("ws",S,O)}},Ms={getInitial:function(I,S){var O=(S.httpPath||"/pusher")+gs(I);return ns("http",S,O)}},ve={getInitial:function(I,S){return ns("http",S,S.httpPath||"/pusher")},getPath:function(I,S){return gs(I)}};class Xe{constructor(){this._callbacks={}}get(S){return this._callbacks[Is(S)]}add(S,O,ae){var ue=Is(S);this._callbacks[ue]=this._callbacks[ue]||[],this._callbacks[ue].push({fn:O,context:ae})}remove(S,O,ae){if(!S&&!O&&!ae){this._callbacks={};return}var ue=S?[Is(S)]:Ge(this._callbacks);O||ae?this.removeCallback(ue,O,ae):this.removeAllCallbacks(ue)}removeCallback(S,O,ae){Ae(S,function(ue){this._callbacks[ue]=ft(this._callbacks[ue]||[],function(Be){return O&&O!==Be.fn||ae&&ae!==Be.context}),this._callbacks[ue].length===0&&delete this._callbacks[ue]},this)}removeAllCallbacks(S){Ae(S,function(O){delete this._callbacks[O]},this)}}function Is(I){return"_"+I}class vs{constructor(S){this.callbacks=new Xe,this.global_callbacks=[],this.failThrough=S}bind(S,O,ae){return this.callbacks.add(S,O,ae),this}bind_global(S){return this.global_callbacks.push(S),this}unbind(S,O,ae){return this.callbacks.remove(S,O,ae),this}unbind_global(S){return S?(this.global_callbacks=ft(this.global_callbacks||[],O=>O!==S),this):(this.global_callbacks=[],this)}unbind_all(){return this.unbind(),this.unbind_global(),this}emit(S,O,ae){for(var ue=0;ue<this.global_callbacks.length;ue++)this.global_callbacks[ue](S,O);var Be=this.callbacks.get(S),Ke=[];if(ae?Ke.push(O,ae):O&&Ke.push(O),Be&&Be.length>0)for(var ue=0;ue<Be.length;ue++)Be[ue].fn.apply(Be[ue].context||window,Ke);else this.failThrough&&this.failThrough(S,O);return this}}class Ha extends vs{constructor(S,O,ae,ue,Be){super(),this.initialize=At.transportConnectionInitializer,this.hooks=S,this.name=O,this.priority=ae,this.key=ue,this.options=Be,this.state="new",this.timeline=Be.timeline,this.activityTimeout=Be.activityTimeout,this.id=this.timeline.generateUniqueID()}handlesActivityChecks(){return!!this.hooks.handlesActivityChecks}supportsPing(){return!!this.hooks.supportsPing}connect(){if(this.socket||this.state!=="initialized")return!1;var S=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(S,this.options)}catch(O){return fe.defer(()=>{this.onError(O),this.changeState("closed")}),!1}return this.bindListeners(),ze.debug("Connecting",{transport:this.name,url:S}),this.changeState("connecting"),!0}close(){return this.socket?(this.socket.close(),!0):!1}send(S){return this.state==="open"?(fe.defer(()=>{this.socket&&this.socket.send(S)}),!0):!1}ping(){this.state==="open"&&this.supportsPing()&&this.socket.ping()}onOpen(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0}onError(S){this.emit("error",{type:"WebSocketError",error:S}),this.timeline.error(this.buildTimelineMessage({error:S.toString()}))}onClose(S){S?this.changeState("closed",{code:S.code,reason:S.reason,wasClean:S.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0}onMessage(S){this.emit("message",S)}onActivity(){this.emit("activity")}bindListeners(){this.socket.onopen=()=>{this.onOpen()},this.socket.onerror=S=>{this.onError(S)},this.socket.onclose=S=>{this.onClose(S)},this.socket.onmessage=S=>{this.onMessage(S)},this.supportsPing()&&(this.socket.onactivity=()=>{this.onActivity()})}unbindListeners(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))}changeState(S,O){this.state=S,this.timeline.info(this.buildTimelineMessage({state:S,params:O})),this.emit(S,O)}buildTimelineMessage(S){return Ne({cid:this.id},S)}}class Ds{constructor(S){this.hooks=S}isSupported(S){return this.hooks.isSupported(S)}createConnection(S,O,ae,ue){return new Ha(this.hooks,S,O,ae,ue)}}var _a=new Ds({urls:pt,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!At.getWebSocketAPI()},isSupported:function(){return!!At.getWebSocketAPI()},getSocket:function(I){return At.createWebSocket(I)}}),bt={urls:Ms,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},X=Ne({getSocket:function(I){return At.HTTPFactory.createStreamingSocket(I)}},bt),xt=Ne({getSocket:function(I){return At.HTTPFactory.createPollingSocket(I)}},bt),Hs={isSupported:function(){return At.isXHRSupported()}},gt=new Ds(Ne({},X,Hs)),He=new Ds(Ne({},xt,Hs)),os={ws:_a,xhr_streaming:gt,xhr_polling:He},Js=os,Ps=new Ds({file:"sockjs",urls:ve,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function(I,S){return new window.SockJS(I,null,{js_path:f.getPath("sockjs",{useTLS:S.useTLS}),ignore_null_origin:S.ignoreNullOrigin})},beforeOpen:function(I,S){I.send(JSON.stringify({path:S}))}}),Ca={isSupported:function(I){var S=At.isXDRSupported(I.useTLS);return S}},yn=new Ds(Ne({},X,Ca)),dn=new Ds(Ne({},xt,Ca));Js.xdr_streaming=yn,Js.xdr_polling=dn,Js.sockjs=Ps;var Qr=Js;class Hc extends vs{constructor(){super();var S=this;window.addEventListener!==void 0&&(window.addEventListener("online",function(){S.emit("online")},!1),window.addEventListener("offline",function(){S.emit("offline")},!1))}isOnline(){return window.navigator.onLine===void 0?!0:window.navigator.onLine}}var un=new Hc;class da{constructor(S,O,ae){this.manager=S,this.transport=O,this.minPingDelay=ae.minPingDelay,this.maxPingDelay=ae.maxPingDelay,this.pingDelay=void 0}createConnection(S,O,ae,ue){ue=Ne({},ue,{activityTimeout:this.pingDelay});var Be=this.transport.createConnection(S,O,ae,ue),Ke=null,ut=function(){Be.unbind("open",ut),Be.bind("closed",Lt),Ke=fe.now()},Lt=Xt=>{if(Be.unbind("closed",Lt),Xt.code===1002||Xt.code===1003)this.manager.reportDeath();else if(!Xt.wasClean&&Ke){var ts=fe.now()-Ke;ts<2*this.maxPingDelay&&(this.manager.reportDeath(),this.pingDelay=Math.max(ts/2,this.minPingDelay))}};return Be.bind("open",ut),Be}isSupported(S){return this.manager.isAlive()&&this.transport.isSupported(S)}}const aa={decodeMessage:function(I){try{var S=JSON.parse(I.data),O=S.data;if(typeof O=="string")try{O=JSON.parse(S.data)}catch{}var ae={event:S.event,channel:S.channel,data:O};return S.user_id&&(ae.user_id=S.user_id),ae}catch(ue){throw{type:"MessageParseError",error:ue,data:I.data}}},encodeMessage:function(I){return JSON.stringify(I)},processHandshake:function(I){var S=aa.decodeMessage(I);if(S.event==="pusher:connection_established"){if(!S.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:S.data.socket_id,activityTimeout:S.data.activity_timeout*1e3}}else{if(S.event==="pusher:error")return{action:this.getCloseAction(S.data),error:this.getCloseError(S.data)};throw"Invalid handshake"}},getCloseAction:function(I){return I.code<4e3?I.code>=1002&&I.code<=1004?"backoff":null:I.code===4e3?"tls_only":I.code<4100?"refused":I.code<4200?"backoff":I.code<4300?"retry":"refused"},getCloseError:function(I){return I.code!==1e3&&I.code!==1001?{type:"PusherError",data:{code:I.code,message:I.reason||I.message}}:null}};var pa=aa;class Ti extends vs{constructor(S,O){super(),this.id=S,this.transport=O,this.activityTimeout=O.activityTimeout,this.bindListeners()}handlesActivityChecks(){return this.transport.handlesActivityChecks()}send(S){return this.transport.send(S)}send_event(S,O,ae){var ue={event:S,data:O};return ae&&(ue.channel=ae),ze.debug("Event sent",ue),this.send(pa.encodeMessage(ue))}ping(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})}close(){this.transport.close()}bindListeners(){var S={message:ae=>{var ue;try{ue=pa.decodeMessage(ae)}catch(Be){this.emit("error",{type:"MessageParseError",error:Be,data:ae.data})}if(ue!==void 0){switch(ze.debug("Event recd",ue),ue.event){case"pusher:error":this.emit("error",{type:"PusherError",data:ue.data});break;case"pusher:ping":this.emit("ping");break;case"pusher:pong":this.emit("pong");break}this.emit("message",ue)}},activity:()=>{this.emit("activity")},error:ae=>{this.emit("error",ae)},closed:ae=>{O(),ae&&ae.code&&this.handleCloseEvent(ae),this.transport=null,this.emit("closed")}},O=()=>{Se(S,(ae,ue)=>{this.transport.unbind(ue,ae)})};Se(S,(ae,ue)=>{this.transport.bind(ue,ae)})}handleCloseEvent(S){var O=pa.getCloseAction(S),ae=pa.getCloseError(S);ae&&this.emit("error",ae),O&&this.emit(O,{action:O,error:ae})}}class Di{constructor(S,O){this.transport=S,this.callback=O,this.bindListeners()}close(){this.unbindListeners(),this.transport.close()}bindListeners(){this.onMessage=S=>{this.unbindListeners();var O;try{O=pa.processHandshake(S)}catch(ae){this.finish("error",{error:ae}),this.transport.close();return}O.action==="connected"?this.finish("connected",{connection:new Ti(O.id,this.transport),activityTimeout:O.activityTimeout}):(this.finish(O.action,{error:O.error}),this.transport.close())},this.onClosed=S=>{this.unbindListeners();var O=pa.getCloseAction(S)||"backoff",ae=pa.getCloseError(S);this.finish(O,{error:ae})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)}unbindListeners(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)}finish(S,O){this.callback(Ne({transport:this.transport,action:S},O))}}class jo{constructor(S,O){this.timeline=S,this.options=O||{}}send(S,O){this.timeline.isEmpty()||this.timeline.send(At.TimelineTransport.getAgent(this,S),O)}}class rr extends vs{constructor(S,O){super(function(ae,ue){ze.debug("No callbacks on "+S+" for "+ae)}),this.name=S,this.pusher=O,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}authorize(S,O){return O(null,{auth:""})}trigger(S,O){if(S.indexOf("client-")!==0)throw new _("Event '"+S+"' does not start with 'client-'");if(!this.subscribed){var ae=j.buildLogSuffix("triggeringClientEvents");ze.warn(`Client event triggered before channel 'subscription_succeeded' event . ${ae}`)}return this.pusher.send_event(S,O,this.name)}disconnect(){this.subscribed=!1,this.subscriptionPending=!1}handleEvent(S){var O=S.event,ae=S.data;if(O==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(S);else if(O==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(S);else if(O.indexOf("pusher_internal:")!==0){var ue={};this.emit(O,ae,ue)}}handleSubscriptionSucceededEvent(S){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",S.data)}handleSubscriptionCountEvent(S){S.data.subscription_count&&(this.subscriptionCount=S.data.subscription_count),this.emit("pusher:subscription_count",S.data)}subscribe(){this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(S,O)=>{S?(this.subscriptionPending=!1,ze.error(S.toString()),this.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:S.message},S instanceof F?{status:S.status}:{}))):this.pusher.send_event("pusher:subscribe",{auth:O.auth,channel_data:O.channel_data,channel:this.name})}))}unsubscribe(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})}cancelSubscription(){this.subscriptionCancelled=!0}reinstateSubscription(){this.subscriptionCancelled=!1}}class Er extends rr{authorize(S,O){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:S},O)}}class Rl{constructor(){this.reset()}get(S){return Object.prototype.hasOwnProperty.call(this.members,S)?{id:S,info:this.members[S]}:null}each(S){Se(this.members,(O,ae)=>{S(this.get(ae))})}setMyID(S){this.myID=S}onSubscription(S){this.members=S.presence.hash,this.count=S.presence.count,this.me=this.get(this.myID)}addMember(S){return this.get(S.user_id)===null&&this.count++,this.members[S.user_id]=S.user_info,this.get(S.user_id)}removeMember(S){var O=this.get(S.user_id);return O&&(delete this.members[S.user_id],this.count--),O}reset(){this.members={},this.count=0,this.myID=null,this.me=null}}var Zr=function(I,S,O,ae){function ue(Be){return Be instanceof O?Be:new O(function(Ke){Ke(Be)})}return new(O||(O=Promise))(function(Be,Ke){function ut(ts){try{Xt(ae.next(ts))}catch(na){Ke(na)}}function Lt(ts){try{Xt(ae.throw(ts))}catch(na){Ke(na)}}function Xt(ts){ts.done?Be(ts.value):ue(ts.value).then(ut,Lt)}Xt((ae=ae.apply(I,S||[])).next())})};class Fn extends Er{constructor(S,O){super(S,O),this.members=new Rl}authorize(S,O){super.authorize(S,(ae,ue)=>Zr(this,void 0,void 0,function*(){if(!ae)if(ue=ue,ue.channel_data!=null){var Be=JSON.parse(ue.channel_data);this.members.setMyID(Be.user_id)}else if(yield this.pusher.user.signinDonePromise,this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else{let Ke=j.buildLogSuffix("authorizationEndpoint");ze.error(`Invalid auth response for channel '${this.name}', expected 'channel_data' field. ${Ke}, or the user should be signed in.`),O("Invalid auth response");return}O(ae,ue)}))}handleEvent(S){var O=S.event;if(O.indexOf("pusher_internal:")===0)this.handleInternalEvent(S);else{var ae=S.data,ue={};S.user_id&&(ue.user_id=S.user_id),this.emit(O,ae,ue)}}handleInternalEvent(S){var O=S.event,ae=S.data;switch(O){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(S);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(S);break;case"pusher_internal:member_added":var ue=this.members.addMember(ae);this.emit("pusher:member_added",ue);break;case"pusher_internal:member_removed":var Be=this.members.removeMember(ae);Be&&this.emit("pusher:member_removed",Be);break}}handleSubscriptionSucceededEvent(S){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(S.data),this.emit("pusher:subscription_succeeded",this.members))}disconnect(){this.members.reset(),super.disconnect()}}var Jr=r(1),In=r(0);class Cs extends Er{constructor(S,O,ae){super(S,O),this.key=null,this.nacl=ae}authorize(S,O){super.authorize(S,(ae,ue)=>{if(ae){O(ae,ue);return}let Be=ue.shared_secret;if(!Be){O(new Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`),null);return}this.key=Object(In.decode)(Be),delete ue.shared_secret,O(null,ue)})}trigger(S,O){throw new E("Client events are not currently supported for encrypted channels")}handleEvent(S){var O=S.event,ae=S.data;if(O.indexOf("pusher_internal:")===0||O.indexOf("pusher:")===0){super.handleEvent(S);return}this.handleEncryptedEvent(O,ae)}handleEncryptedEvent(S,O){if(!this.key){ze.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!O.ciphertext||!O.nonce){ze.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+O);return}let ae=Object(In.decode)(O.ciphertext);if(ae.length<this.nacl.secretbox.overheadLength){ze.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${ae.length}`);return}let ue=Object(In.decode)(O.nonce);if(ue.length<this.nacl.secretbox.nonceLength){ze.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${ue.length}`);return}let Be=this.nacl.secretbox.open(ae,ue,this.key);if(Be===null){ze.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,(Ke,ut)=>{if(Ke){ze.error(`Failed to make a request to the authEndpoint: ${ut}. Unable to fetch new key, so dropping encrypted event`);return}if(Be=this.nacl.secretbox.open(ae,ue,this.key),Be===null){ze.error("Failed to decrypt event with new key. Dropping encrypted event");return}this.emit(S,this.getDataToEmit(Be))});return}this.emit(S,this.getDataToEmit(Be))}getDataToEmit(S){let O=Object(Jr.decode)(S);try{return JSON.parse(O)}catch{return O}}}class wo extends vs{constructor(S,O){super(),this.state="initialized",this.connection=null,this.key=S,this.options=O,this.timeline=this.options.timeline,this.usingTLS=this.options.useTLS,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var ae=At.getNetwork();ae.bind("online",()=>{this.timeline.info({netinfo:"online"}),(this.state==="connecting"||this.state==="unavailable")&&this.retryIn(0)}),ae.bind("offline",()=>{this.timeline.info({netinfo:"offline"}),this.connection&&this.sendActivityCheck()}),this.updateStrategy()}connect(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}}send(S){return this.connection?this.connection.send(S):!1}send_event(S,O,ae){return this.connection?this.connection.send_event(S,O,ae):!1}disconnect(){this.disconnectInternally(),this.updateState("disconnected")}isUsingTLS(){return this.usingTLS}startConnecting(){var S=(O,ae)=>{O?this.runner=this.strategy.connect(0,S):ae.action==="error"?(this.emit("error",{type:"HandshakeError",error:ae.error}),this.timeline.error({handshakeError:ae.error})):(this.abortConnecting(),this.handshakeCallbacks[ae.action](ae))};this.runner=this.strategy.connect(0,S)}abortConnecting(){this.runner&&(this.runner.abort(),this.runner=null)}disconnectInternally(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var S=this.abandonConnection();S.close()}}updateStrategy(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})}retryIn(S){this.timeline.info({action:"retry",delay:S}),S>0&&this.emit("connecting_in",Math.round(S/1e3)),this.retryTimer=new ie(S||0,()=>{this.disconnectInternally(),this.connect()})}clearRetryTimer(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)}setUnavailableTimer(){this.unavailableTimer=new ie(this.options.unavailableTimeout,()=>{this.updateState("unavailable")})}clearUnavailableTimer(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()}sendActivityCheck(){this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new ie(this.options.pongTimeout,()=>{this.timeline.error({pong_timed_out:this.options.pongTimeout}),this.retryIn(0)})}resetActivityCheck(){this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new ie(this.activityTimeout,()=>{this.sendActivityCheck()}))}stopActivityCheck(){this.activityTimer&&this.activityTimer.ensureAborted()}buildConnectionCallbacks(S){return Ne({},S,{message:O=>{this.resetActivityCheck(),this.emit("message",O)},ping:()=>{this.send_event("pusher:pong",{})},activity:()=>{this.resetActivityCheck()},error:O=>{this.emit("error",O)},closed:()=>{this.abandonConnection(),this.shouldRetry()&&this.retryIn(1e3)}})}buildHandshakeCallbacks(S){return Ne({},S,{connected:O=>{this.activityTimeout=Math.min(this.options.activityTimeout,O.activityTimeout,O.connection.activityTimeout||1/0),this.clearUnavailableTimer(),this.setConnection(O.connection),this.socket_id=this.connection.id,this.updateState("connected",{socket_id:this.socket_id})}})}buildErrorCallbacks(){let S=O=>ae=>{ae.error&&this.emit("error",{type:"WebSocketError",error:ae.error}),O(ae)};return{tls_only:S(()=>{this.usingTLS=!0,this.updateStrategy(),this.retryIn(0)}),refused:S(()=>{this.disconnect()}),backoff:S(()=>{this.retryIn(1e3)}),retry:S(()=>{this.retryIn(0)})}}setConnection(S){this.connection=S;for(var O in this.connectionCallbacks)this.connection.bind(O,this.connectionCallbacks[O]);this.resetActivityCheck()}abandonConnection(){if(this.connection){this.stopActivityCheck();for(var S in this.connectionCallbacks)this.connection.unbind(S,this.connectionCallbacks[S]);var O=this.connection;return this.connection=null,O}}updateState(S,O){var ae=this.state;if(this.state=S,ae!==S){var ue=S;ue==="connected"&&(ue+=" with new socket ID "+O.socket_id),ze.debug("State changed",ae+" -> "+ue),this.timeline.info({state:S,params:O}),this.emit("state_change",{previous:ae,current:S}),this.emit(S,O)}}shouldRetry(){return this.state==="connecting"||this.state==="connected"}}class Ml{constructor(){this.channels={}}add(S,O){return this.channels[S]||(this.channels[S]=ir(S,O)),this.channels[S]}all(){return nt(this.channels)}find(S){return this.channels[S]}remove(S){var O=this.channels[S];return delete this.channels[S],O}disconnect(){Se(this.channels,function(S){S.disconnect()})}}function ir(I,S){if(I.indexOf("private-encrypted-")===0){if(S.config.nacl)return bn.createEncryptedChannel(I,S,S.config.nacl);let O="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",ae=j.buildLogSuffix("encryptedChannelSupport");throw new E(`${O}. ${ae}`)}else{if(I.indexOf("private-")===0)return bn.createPrivateChannel(I,S);if(I.indexOf("presence-")===0)return bn.createPresenceChannel(I,S);if(I.indexOf("#")===0)throw new N('Cannot create a channel with name "'+I+'".');return bn.createChannel(I,S)}}var hn={createChannels(){return new Ml},createConnectionManager(I,S){return new wo(I,S)},createChannel(I,S){return new rr(I,S)},createPrivateChannel(I,S){return new Er(I,S)},createPresenceChannel(I,S){return new Fn(I,S)},createEncryptedChannel(I,S,O){return new Cs(I,S,O)},createTimelineSender(I,S){return new jo(I,S)},createHandshake(I,S){return new Di(I,S)},createAssistantToTheTransportManager(I,S,O){return new da(I,S,O)}},bn=hn;class No{constructor(S){this.options=S||{},this.livesLeft=this.options.lives||1/0}getAssistant(S){return bn.createAssistantToTheTransportManager(this,S,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})}isAlive(){return this.livesLeft>0}reportDeath(){this.livesLeft-=1}}class $n{constructor(S,O){this.strategies=S,this.loop=!!O.loop,this.failFast=!!O.failFast,this.timeout=O.timeout,this.timeoutLimit=O.timeoutLimit}isSupported(){return ps(this.strategies,fe.method("isSupported"))}connect(S,O){var ae=this.strategies,ue=0,Be=this.timeout,Ke=null,ut=(Lt,Xt)=>{Xt?O(null,Xt):(ue=ue+1,this.loop&&(ue=ue%ae.length),ue<ae.length?(Be&&(Be=Be*2,this.timeoutLimit&&(Be=Math.min(Be,this.timeoutLimit))),Ke=this.tryStrategy(ae[ue],S,{timeout:Be,failFast:this.failFast},ut)):O(!0))};return Ke=this.tryStrategy(ae[ue],S,{timeout:Be,failFast:this.failFast},ut),{abort:function(){Ke.abort()},forceMinPriority:function(Lt){S=Lt,Ke&&Ke.forceMinPriority(Lt)}}}tryStrategy(S,O,ae,ue){var Be=null,Ke=null;return ae.timeout>0&&(Be=new ie(ae.timeout,function(){Ke.abort(),ue(!0)})),Ke=S.connect(O,function(ut,Lt){ut&&Be&&Be.isRunning()&&!ae.failFast||(Be&&Be.ensureAborted(),ue(ut,Lt))}),{abort:function(){Be&&Be.ensureAborted(),Ke.abort()},forceMinPriority:function(ut){Ke.forceMinPriority(ut)}}}}class zn{constructor(S){this.strategies=S}isSupported(){return ps(this.strategies,fe.method("isSupported"))}connect(S,O){return Ei(this.strategies,S,function(ae,ue){return function(Be,Ke){if(ue[ae].error=Be,Be){Ri(ue)&&O(!0);return}Ae(ue,function(ut){ut.forceMinPriority(Ke.transport.priority)}),O(null,Ke)}})}}function Ei(I,S,O){var ae=Ye(I,function(ue,Be,Ke,ut){return ue.connect(S,O(Be,ut))});return{abort:function(){Ae(ae,vn)},forceMinPriority:function(ue){Ae(ae,function(Be){Be.forceMinPriority(ue)})}}}function Ri(I){return ys(I,function(S){return!!S.error})}function vn(I){!I.error&&!I.aborted&&(I.abort(),I.aborted=!0)}class Oa{constructor(S,O,ae){this.strategy=S,this.transports=O,this.ttl=ae.ttl||1800*1e3,this.usingTLS=ae.useTLS,this.timeline=ae.timeline}isSupported(){return this.strategy.isSupported()}connect(S,O){var ae=this.usingTLS,ue=_u(ae),Be=ue&&ue.cacheSkipCount?ue.cacheSkipCount:0,Ke=[this.strategy];if(ue&&ue.timestamp+this.ttl>=fe.now()){var ut=this.transports[ue.transport];ut&&(["ws","wss"].includes(ue.transport)||Be>3?(this.timeline.info({cached:!0,transport:ue.transport,latency:ue.latency}),Ke.push(new $n([ut],{timeout:ue.latency*2+1e3,failFast:!0}))):Be++)}var Lt=fe.now(),Xt=Ke.pop().connect(S,function ts(na,$l){na?(_o(ae),Ke.length>0?(Lt=fe.now(),Xt=Ke.pop().connect(S,ts)):O(na)):(Pl(ae,$l.transport.name,fe.now()-Lt,Be),O(null,$l))});return{abort:function(){Xt.abort()},forceMinPriority:function(ts){S=ts,Xt&&Xt.forceMinPriority(ts)}}}}function Mi(I){return"pusherTransport"+(I?"TLS":"NonTLS")}function _u(I){var S=At.getLocalStorage();if(S)try{var O=S[Mi(I)];if(O)return JSON.parse(O)}catch{_o(I)}return null}function Pl(I,S,O,ae){var ue=At.getLocalStorage();if(ue)try{ue[Mi(I)]=he({timestamp:fe.now(),transport:S,latency:O,cacheSkipCount:ae})}catch{}}function _o(I){var S=At.getLocalStorage();if(S)try{delete S[Mi(I)]}catch{}}class Rr{constructor(S,{delay:O}){this.strategy=S,this.options={delay:O}}isSupported(){return this.strategy.isSupported()}connect(S,O){var ae=this.strategy,ue,Be=new ie(this.options.delay,function(){ue=ae.connect(S,O)});return{abort:function(){Be.ensureAborted(),ue&&ue.abort()},forceMinPriority:function(Ke){S=Ke,ue&&ue.forceMinPriority(Ke)}}}}class ei{constructor(S,O,ae){this.test=S,this.trueBranch=O,this.falseBranch=ae}isSupported(){var S=this.test()?this.trueBranch:this.falseBranch;return S.isSupported()}connect(S,O){var ae=this.test()?this.trueBranch:this.falseBranch;return ae.connect(S,O)}}class ga{constructor(S){this.strategy=S}isSupported(){return this.strategy.isSupported()}connect(S,O){var ae=this.strategy.connect(S,function(ue,Be){Be&&ae.abort(),O(ue,Be)});return ae}}function Mr(I){return function(){return I.isSupported()}}var Ol=function(I,S,O){var ae={};function ue(zl,rf,of,Lu,Bu){var Fu=O(I,zl,rf,of,Lu,Bu);return ae[zl]=Fu,Fu}var Be=Object.assign({},S,{hostNonTLS:I.wsHost+":"+I.wsPort,hostTLS:I.wsHost+":"+I.wssPort,httpPath:I.wsPath}),Ke=Object.assign({},Be,{useTLS:!0}),ut=Object.assign({},S,{hostNonTLS:I.httpHost+":"+I.httpPort,hostTLS:I.httpHost+":"+I.httpsPort,httpPath:I.httpPath}),Lt={loop:!0,timeout:15e3,timeoutLimit:6e4},Xt=new No({minPingDelay:1e4,maxPingDelay:I.activityTimeout}),ts=new No({lives:2,minPingDelay:1e4,maxPingDelay:I.activityTimeout}),na=ue("ws","ws",3,Be,Xt),$l=ue("wss","ws",3,Ke,Xt),sf=ue("sockjs","sockjs",1,ut),Eu=ue("xhr_streaming","xhr_streaming",1,ut,ts),af=ue("xdr_streaming","xdr_streaming",1,ut,ts),Ru=ue("xhr_polling","xhr_polling",1,ut),Ro=ue("xdr_polling","xdr_polling",1,ut),nf=new $n([na],Lt),i0=new $n([$l],Lt),o0=new $n([sf],Lt),Mu=new $n([new ei(Mr(Eu),Eu,af)],Lt),Pu=new $n([new ei(Mr(Ru),Ru,Ro)],Lt),Mo=new $n([new ei(Mr(Mu),new zn([Mu,new Rr(Pu,{delay:4e3})]),Pu)],Lt),Li=new ei(Mr(Mo),Mo,o0),Ou;return S.useTLS?Ou=new zn([nf,new Rr(Li,{delay:2e3})]):Ou=new zn([nf,new Rr(i0,{delay:2e3}),new Rr(Li,{delay:5e3})]),new Oa(new ga(new ei(Mr(na),Ou,Li)),ae,{ttl:18e5,timeline:S.timeline,useTLS:S.useTLS})},Ll=Ol,ti=(function(){var I=this;I.timeline.info(I.buildTimelineMessage({transport:I.name+(I.options.useTLS?"s":"")})),I.hooks.isInitialized()?I.changeState("initialized"):I.hooks.file?(I.changeState("initializing"),f.load(I.hooks.file,{useTLS:I.options.useTLS},function(S,O){I.hooks.isInitialized()?(I.changeState("initialized"),O(!0)):(S&&I.onError(S),I.onClose(),O(!1))})):I.onClose()}),qc={getRequest:function(I){var S=new window.XDomainRequest;return S.ontimeout=function(){I.emit("error",new k),I.close()},S.onerror=function(O){I.emit("error",O),I.close()},S.onprogress=function(){S.responseText&&S.responseText.length>0&&I.onChunk(200,S.responseText)},S.onload=function(){S.responseText&&S.responseText.length>0&&I.onChunk(200,S.responseText),I.emit("finished",200),I.close()},S},abortRequest:function(I){I.ontimeout=I.onerror=I.onprogress=I.onload=null,I.abort()}},Gc=qc;const si=256*1024;class Cu extends vs{constructor(S,O,ae){super(),this.hooks=S,this.method=O,this.url=ae}start(S){this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=()=>{this.close()},At.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(S)}close(){this.unloader&&(At.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)}onChunk(S,O){for(;;){var ae=this.advanceBuffer(O);if(ae)this.emit("chunk",{status:S,data:ae});else break}this.isBufferTooLong(O)&&this.emit("buffer_too_long")}advanceBuffer(S){var O=S.slice(this.position),ae=O.indexOf(`
`);return ae!==-1?(this.position+=ae+1,O.slice(0,ae)):null}isBufferTooLong(S){return this.position===S.length&&S.length>si}}var Co;(function(I){I[I.CONNECTING=0]="CONNECTING",I[I.OPEN=1]="OPEN",I[I.CLOSED=3]="CLOSED"})(Co||(Co={}));var or=Co,Bl=1;class ku{constructor(S,O){this.hooks=S,this.session=So(1e3)+"/"+Pr(8),this.location=Su(O),this.readyState=or.CONNECTING,this.openStream()}send(S){return this.sendRaw(JSON.stringify([S]))}ping(){this.hooks.sendHeartbeat(this)}close(S,O){this.onClose(S,O,!0)}sendRaw(S){if(this.readyState===or.OPEN)try{return At.createSocketRequest("POST",jn(ko(this.location,this.session))).start(S),!0}catch{return!1}else return!1}reconnect(){this.closeStream(),this.openStream()}onClose(S,O,ae){this.closeStream(),this.readyState=or.CLOSED,this.onclose&&this.onclose({code:S,reason:O,wasClean:ae})}onChunk(S){if(S.status===200){this.readyState===or.OPEN&&this.onActivity();var O,ae=S.data.slice(0,1);switch(ae){case"o":O=JSON.parse(S.data.slice(1)||"{}"),this.onOpen(O);break;case"a":O=JSON.parse(S.data.slice(1)||"[]");for(var ue=0;ue<O.length;ue++)this.onEvent(O[ue]);break;case"m":O=JSON.parse(S.data.slice(1)||"null"),this.onEvent(O);break;case"h":this.hooks.onHeartbeat(this);break;case"c":O=JSON.parse(S.data.slice(1)||"[]"),this.onClose(O[0],O[1],!0);break}}}onOpen(S){this.readyState===or.CONNECTING?(S&&S.hostname&&(this.location.base=Fl(this.location.base,S.hostname)),this.readyState=or.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)}onEvent(S){this.readyState===or.OPEN&&this.onmessage&&this.onmessage({data:S})}onActivity(){this.onactivity&&this.onactivity()}onError(S){this.onerror&&this.onerror(S)}openStream(){this.stream=At.createSocketRequest("POST",jn(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",S=>{this.onChunk(S)}),this.stream.bind("finished",S=>{this.hooks.onFinished(this,S)}),this.stream.bind("buffer_too_long",()=>{this.reconnect()});try{this.stream.start()}catch(S){fe.defer(()=>{this.onError(S),this.onClose(1006,"Could not start streaming",!1)})}}closeStream(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)}}function Su(I){var S=/([^\?]*)\/*(\??.*)/.exec(I);return{base:S[1],queryString:S[2]}}function ko(I,S){return I.base+"/"+S+"/xhr_send"}function jn(I){var S=I.indexOf("?")===-1?"?":"&";return I+S+"t="+ +new Date+"&n="+Bl++}function Fl(I,S){var O=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec(I);return O[1]+S+O[3]}function So(I){return At.randomInt(I)}function Pr(I){for(var S=[],O=0;O<I;O++)S.push(So(32).toString(32));return S.join("")}var ai=ku,Wc={getReceiveURL:function(I,S){return I.base+"/"+S+"/xhr_streaming"+I.queryString},onHeartbeat:function(I){I.sendRaw("[]")},sendHeartbeat:function(I){I.sendRaw("[]")},onFinished:function(I,S){I.onClose(1006,"Connection interrupted ("+S+")",!1)}},ni=Wc,Pi={getReceiveURL:function(I,S){return I.base+"/"+S+"/xhr"+I.queryString},onHeartbeat:function(){},sendHeartbeat:function(I){I.sendRaw("[]")},onFinished:function(I,S){S===200?I.reconnect():I.onClose(1006,"Connection interrupted ("+S+")",!1)}},ri=Pi,Vn={getRequest:function(I){var S=At.getXHRAPI(),O=new S;return O.onreadystatechange=O.onprogress=function(){switch(O.readyState){case 3:O.responseText&&O.responseText.length>0&&I.onChunk(O.status,O.responseText);break;case 4:O.responseText&&O.responseText.length>0&&I.onChunk(O.status,O.responseText),I.emit("finished",O.status),I.close();break}},O},abortRequest:function(I){I.onreadystatechange=null,I.abort()}},Il=Vn,Oi={createStreamingSocket(I){return this.createSocket(ni,I)},createPollingSocket(I){return this.createSocket(ri,I)},createSocket(I,S){return new ai(I,S)},createXHR(I,S){return this.createRequest(Il,I,S)},createRequest(I,S,O){return new Cu(I,S,O)}},wn=Oi;wn.createXDR=function(I,S){return this.createRequest(Gc,I,S)};var Ao=wn,To={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:l,DependenciesReceivers:p,getDefaultStrategy:Ll,Transports:Qr,transportConnectionInitializer:ti,HTTPFactory:Ao,TimelineTransport:Us,getXHRAPI(){return window.XMLHttpRequest},getWebSocketAPI(){return window.WebSocket||window.MozWebSocket},setup(I){window.Pusher=I;var S=()=>{this.onDocumentBody(I.ready)};window.JSON?S():f.load("json2",{},S)},getDocument(){return document},getProtocol(){return this.getDocument().location.protocol},getAuthorizers(){return{ajax:J,jsonp:yt}},onDocumentBody(I){document.body?I():setTimeout(()=>{this.onDocumentBody(I)},0)},createJSONPRequest(I,S){return new Vt(I,S)},createScriptRequest(I){return new dt(I)},getLocalStorage(){try{return window.localStorage}catch{return}},createXHR(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest(){var I=this.getXHRAPI();return new I},createMicrosoftXHR(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork(){return un},createWebSocket(I){var S=this.getWebSocketAPI();return new S(I)},createSocketRequest(I,S){if(this.isXHRSupported())return this.HTTPFactory.createXHR(I,S);if(this.isXDRSupported(S.indexOf("https:")===0))return this.HTTPFactory.createXDR(I,S);throw"Cross-origin HTTP requests are not supported"},isXHRSupported(){var I=this.getXHRAPI();return!!I&&new I().withCredentials!==void 0},isXDRSupported(I){var S=I?"https:":"http:",O=this.getProtocol();return!!window.XDomainRequest&&O===S},addUnloadListener(I){window.addEventListener!==void 0?window.addEventListener("unload",I,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",I)},removeUnloadListener(I){window.addEventListener!==void 0?window.removeEventListener("unload",I,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",I)},randomInt(I){return Math.floor(function(){return(window.crypto||window.msCrypto).getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32)}()*I)}},At=To,Nn;(function(I){I[I.ERROR=3]="ERROR",I[I.INFO=6]="INFO",I[I.DEBUG=7]="DEBUG"})(Nn||(Nn={}));var lr=Nn;class Yc{constructor(S,O,ae){this.key=S,this.session=O,this.events=[],this.options=ae||{},this.sent=0,this.uniqueID=0}log(S,O){S<=this.options.level&&(this.events.push(Ne({},O,{timestamp:fe.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())}error(S){this.log(lr.ERROR,S)}info(S){this.log(lr.INFO,S)}debug(S){this.log(lr.DEBUG,S)}isEmpty(){return this.events.length===0}send(S,O){var ae=Ne({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],S(ae,(ue,Be)=>{ue||this.sent++,O&&O(ue,Be)}),!0}generateUniqueID(){return this.uniqueID++,this.uniqueID}}class La{constructor(S,O,ae,ue){this.name=S,this.priority=O,this.transport=ae,this.options=ue||{}}isSupported(){return this.transport.isSupported({useTLS:this.options.useTLS})}connect(S,O){if(this.isSupported()){if(this.priority<S)return cr(new D,O)}else return cr(new A,O);var ae=!1,ue=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),Be=null,Ke=function(){ue.unbind("initialized",Ke),ue.connect()},ut=function(){Be=bn.createHandshake(ue,function(na){ae=!0,ts(),O(null,na)})},Lt=function(na){ts(),O(na)},Xt=function(){ts();var na;na=he(ue),O(new T(na))},ts=function(){ue.unbind("initialized",Ke),ue.unbind("open",ut),ue.unbind("error",Lt),ue.unbind("closed",Xt)};return ue.bind("initialized",Ke),ue.bind("open",ut),ue.bind("error",Lt),ue.bind("closed",Xt),ue.initialize(),{abort:()=>{ae||(ts(),Be?Be.close():ue.close())},forceMinPriority:na=>{ae||this.priority<na&&(Be?Be.close():ue.close())}}}}function cr(I,S){return fe.defer(function(){S(I)}),{abort:function(){},forceMinPriority:function(){}}}const{Transports:B}=At;var ce=function(I,S,O,ae,ue,Be){var Ke=B[O];if(!Ke)throw new G(O);var ut=(!I.enabledTransports||Le(I.enabledTransports,S)!==-1)&&(!I.disabledTransports||Le(I.disabledTransports,S)===-1),Lt;return ut?(ue=Object.assign({ignoreNullOrigin:I.ignoreNullOrigin},ue),Lt=new La(S,ae,Be?Be.getAssistant(Ke):Ke,ue)):Lt=at,Lt},at={isSupported:function(){return!1},connect:function(I,S){var O=fe.defer(function(){S(new A)});return{abort:function(){O.ensureAborted()},forceMinPriority:function(){}}}};function cs(I){if(I==null)throw"You must pass an options object";if(I.cluster==null)throw"Options object must provide a cluster";"disableStats"in I&&ze.warn("The disableStats option is deprecated in favor of enableStats")}const xa=(I,S)=>{var O="socket_id="+encodeURIComponent(I.socketId);for(var ae in S.params)O+="&"+encodeURIComponent(ae)+"="+encodeURIComponent(S.params[ae]);if(S.paramsProvider!=null){let ue=S.paramsProvider();for(var ae in ue)O+="&"+encodeURIComponent(ae)+"="+encodeURIComponent(ue[ae])}return O};var Or=I=>{if(typeof At.getAuthorizers()[I.transport]>"u")throw`'${I.transport}' is not a recognized auth transport`;return(S,O)=>{const ae=xa(S,I);At.getAuthorizers()[I.transport](At,ae,I,w.UserAuthentication,O)}};const dr=(I,S)=>{var O="socket_id="+encodeURIComponent(I.socketId);O+="&channel_name="+encodeURIComponent(I.channelName);for(var ae in S.params)O+="&"+encodeURIComponent(ae)+"="+encodeURIComponent(S.params[ae]);if(S.paramsProvider!=null){let ue=S.paramsProvider();for(var ae in ue)O+="&"+encodeURIComponent(ae)+"="+encodeURIComponent(ue[ae])}return O};var Eo=I=>{if(typeof At.getAuthorizers()[I.transport]>"u")throw`'${I.transport}' is not a recognized auth transport`;return(S,O)=>{const ae=dr(S,I);At.getAuthorizers()[I.transport](At,ae,I,w.ChannelAuthorization,O)}};const Kx=(I,S,O)=>{const ae={authTransport:S.transport,authEndpoint:S.endpoint,auth:{params:S.params,headers:S.headers}};return(ue,Be)=>{const Ke=I.channel(ue.channelName);O(Ke,ae).authorize(ue.socketId,Be)}};function Au(I,S){let O={activityTimeout:I.activityTimeout||u.activityTimeout,cluster:I.cluster,httpPath:I.httpPath||u.httpPath,httpPort:I.httpPort||u.httpPort,httpsPort:I.httpsPort||u.httpsPort,pongTimeout:I.pongTimeout||u.pongTimeout,statsHost:I.statsHost||u.stats_host,unavailableTimeout:I.unavailableTimeout||u.unavailableTimeout,wsPath:I.wsPath||u.wsPath,wsPort:I.wsPort||u.wsPort,wssPort:I.wssPort||u.wssPort,enableStats:e0(I),httpHost:Xx(I),useTLS:Jx(I),wsHost:Qx(I),userAuthenticator:ef(I),channelAuthorizer:s0(I,S)};return"disabledTransports"in I&&(O.disabledTransports=I.disabledTransports),"enabledTransports"in I&&(O.enabledTransports=I.enabledTransports),"ignoreNullOrigin"in I&&(O.ignoreNullOrigin=I.ignoreNullOrigin),"timelineParams"in I&&(O.timelineParams=I.timelineParams),"nacl"in I&&(O.nacl=I.nacl),O}function Xx(I){return I.httpHost?I.httpHost:I.cluster?`sockjs-${I.cluster}.pusher.com`:u.httpHost}function Qx(I){return I.wsHost?I.wsHost:Zx(I.cluster)}function Zx(I){return`ws-${I}.pusher.com`}function Jx(I){return At.getProtocol()==="https:"?!0:I.forceTLS!==!1}function e0(I){return"enableStats"in I?I.enableStats:"disableStats"in I?!I.disableStats:!1}function ef(I){const S=Object.assign(Object.assign({},u.userAuthentication),I.userAuthentication);return"customHandler"in S&&S.customHandler!=null?S.customHandler:Or(S)}function t0(I,S){let O;return"channelAuthorization"in I?O=Object.assign(Object.assign({},u.channelAuthorization),I.channelAuthorization):(O={transport:I.authTransport||u.authTransport,endpoint:I.authEndpoint||u.authEndpoint},"auth"in I&&("params"in I.auth&&(O.params=I.auth.params),"headers"in I.auth&&(O.headers=I.auth.headers)),"authorizer"in I&&(O.customHandler=Kx(S,O,I.authorizer))),O}function s0(I,S){const O=t0(I,S);return"customHandler"in O&&O.customHandler!=null?O.customHandler:Eo(O)}class a0 extends vs{constructor(S){super(function(O,ae){ze.debug(`No callbacks on watchlist events for ${O}`)}),this.pusher=S,this.bindWatchlistInternalEvent()}handleEvent(S){S.data.events.forEach(O=>{this.emit(O.name,O)})}bindWatchlistInternalEvent(){this.pusher.connection.bind("message",S=>{var O=S.event;O==="pusher_internal:watchlist_events"&&this.handleEvent(S)})}}function n0(){let I,S;return{promise:new Promise((ae,ue)=>{I=ae,S=ue}),resolve:I,reject:S}}var Tu=n0;class r0 extends vs{constructor(S){super(function(O,ae){ze.debug("No callbacks on user for "+O)}),this.signin_requested=!1,this.user_data=null,this.serverToUserChannel=null,this.signinDonePromise=null,this._signinDoneResolve=null,this._onAuthorize=(O,ae)=>{if(O){ze.warn(`Error during signin: ${O}`),this._cleanup();return}this.pusher.send_event("pusher:signin",{auth:ae.auth,user_data:ae.user_data})},this.pusher=S,this.pusher.connection.bind("state_change",({previous:O,current:ae})=>{O!=="connected"&&ae==="connected"&&this._signin(),O==="connected"&&ae!=="connected"&&(this._cleanup(),this._newSigninPromiseIfNeeded())}),this.watchlist=new a0(S),this.pusher.connection.bind("message",O=>{var ae=O.event;ae==="pusher:signin_success"&&this._onSigninSuccess(O.data),this.serverToUserChannel&&this.serverToUserChannel.name===O.channel&&this.serverToUserChannel.handleEvent(O)})}signin(){this.signin_requested||(this.signin_requested=!0,this._signin())}_signin(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))}_onSigninSuccess(S){try{this.user_data=JSON.parse(S.user_data)}catch{ze.error(`Failed parsing user data after signin: ${S.user_data}`),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){ze.error(`user_data doesn't contain an id. user_data: ${this.user_data}`),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()}_subscribeChannels(){const S=O=>{O.subscriptionPending&&O.subscriptionCancelled?O.reinstateSubscription():!O.subscriptionPending&&this.pusher.connection.state==="connected"&&O.subscribe()};this.serverToUserChannel=new rr(`#server-to-user-${this.user_data.id}`,this.pusher),this.serverToUserChannel.bind_global((O,ae)=>{O.indexOf("pusher_internal:")===0||O.indexOf("pusher:")===0||this.emit(O,ae)}),S(this.serverToUserChannel)}_cleanup(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()}_newSigninPromiseIfNeeded(){if(!this.signin_requested||this.signinDonePromise&&!this.signinDonePromise.done)return;const{promise:S,resolve:O}=Tu();S.done=!1;const ae=()=>{S.done=!0};S.then(ae).catch(ae),this.signinDonePromise=S,this._signinDoneResolve=O}}class ka{static ready(){ka.isReady=!0;for(var S=0,O=ka.instances.length;S<O;S++)ka.instances[S].connect()}static getClientFeatures(){return Ge(kt({ws:At.Transports.ws},function(S){return S.isSupported({})}))}constructor(S,O){tf(S),cs(O),this.key=S,this.config=Au(O,this),this.channels=bn.createChannels(),this.global_emitter=new vs,this.sessionID=At.randomInt(1e9),this.timeline=new Yc(this.key,this.sessionID,{cluster:this.config.cluster,features:ka.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:lr.INFO,version:u.VERSION}),this.config.enableStats&&(this.timelineSender=bn.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+At.TimelineTransport.name}));var ae=ue=>At.getDefaultStrategy(this.config,ue,ce);this.connection=bn.createConnectionManager(this.key,{getStrategy:ae,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS}),this.connection.bind("connected",()=>{this.subscribeAll(),this.timelineSender&&this.timelineSender.send(this.connection.isUsingTLS())}),this.connection.bind("message",ue=>{var Be=ue.event,Ke=Be.indexOf("pusher_internal:")===0;if(ue.channel){var ut=this.channel(ue.channel);ut&&ut.handleEvent(ue)}Ke||this.global_emitter.emit(ue.event,ue.data)}),this.connection.bind("connecting",()=>{this.channels.disconnect()}),this.connection.bind("disconnected",()=>{this.channels.disconnect()}),this.connection.bind("error",ue=>{ze.warn(ue)}),ka.instances.push(this),this.timeline.info({instances:ka.instances.length}),this.user=new r0(this),ka.isReady&&this.connect()}channel(S){return this.channels.find(S)}allChannels(){return this.channels.all()}connect(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var S=this.connection.isUsingTLS(),O=this.timelineSender;this.timelineSenderTimer=new le(6e4,function(){O.send(S)})}}disconnect(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)}bind(S,O,ae){return this.global_emitter.bind(S,O,ae),this}unbind(S,O,ae){return this.global_emitter.unbind(S,O,ae),this}bind_global(S){return this.global_emitter.bind_global(S),this}unbind_global(S){return this.global_emitter.unbind_global(S),this}unbind_all(S){return this.global_emitter.unbind_all(),this}subscribeAll(){var S;for(S in this.channels.channels)this.channels.channels.hasOwnProperty(S)&&this.subscribe(S)}subscribe(S){var O=this.channels.add(S,this);return O.subscriptionPending&&O.subscriptionCancelled?O.reinstateSubscription():!O.subscriptionPending&&this.connection.state==="connected"&&O.subscribe(),O}unsubscribe(S){var O=this.channels.find(S);O&&O.subscriptionPending?O.cancelSubscription():(O=this.channels.remove(S),O&&O.subscribed&&O.unsubscribe())}send_event(S,O,ae){return this.connection.send_event(S,O,ae)}shouldUseTLS(){return this.config.useTLS}signin(){this.user.signin()}}ka.instances=[],ka.isReady=!1,ka.logToConsole=!1,ka.Runtime=At,ka.ScriptReceivers=At.ScriptReceivers,ka.DependenciesReceivers=At.DependenciesReceivers,ka.auth_callbacks=At.auth_callbacks;var Du=n.default=ka;function tf(I){if(I==null)throw"You must pass your app key when you instantiate Pusher."}At.setup(ka)})])})})(Wb)),Wb.exports}var see=tee();const oP=Jg(see),as={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640",tealDim:"rgba(0, 140, 149, 0.1)",limeGreenDim:"rgba(138, 198, 64, 0.1)"};function aee(){const[t,s]=y.useState([]),[a,n]=y.useState(null),[r,i]=y.useState([]),[l,d]=y.useState(""),[u,h]=y.useState(!1),[p,f]=y.useState(!0),[x,v]=y.useState(!1),[j,w]=y.useState(null),[_,N]=y.useState(""),k=y.useRef(null),D=y.useRef(null),T=y.useRef(null),E=y.useRef(null),[G]=y.useState(()=>localStorage.getItem("token"));y.useEffect(()=>{console.log("Token:",G),console.log("API Base:","https://rento-lb.com/api/api")},[]);const A=U=>{const H=U?.created_at??U?.createdAt??U?.data?.created_at??null;return{id:U?.id??U?.data?.id??`rt-${Date.now()}`,booking_id:U?.booking_id??U?.data?.booking_id??a?.id,sender_id:U?.sender_id??U?.data?.sender_id??U?.sender?.id,receiver_id:U?.receiver_id??U?.data?.receiver_id??null,message:U?.message??U?.data?.message??"",read_at:U?.read_at??U?.data?.read_at??null,created_at:H,sender:U?.sender??U?.data?.sender??null}};y.useEffect(()=>{if(!G){console.error("No token found in localStorage"),w("Authentication required. Please log in.");return}window.Pusher=oP,T.current=new iP({broadcaster:"pusher",key:"316e84fa5f5bf1a94b26",cluster:"ap1",forceTLS:!0,encrypted:!0,enabledTransports:["ws","wss"],authEndpoint:"https://rento-lb.com/api/api/broadcasting/auth",auth:{headers:{Authorization:`Bearer ${G}`,Accept:"application/json"}}});const U=T.current.connector.pusher;return U.connection.bind("initialized",()=>console.log("[PUSHER] initialized")),U.connection.bind("connecting",()=>console.log("[PUSHER] connecting...")),U.connection.bind("connected",()=>console.log("[PUSHER]  connected")),U.connection.bind("disconnected",()=>console.log("[PUSHER] disconnected")),U.connection.bind("unavailable",()=>console.log("[PUSHER] unavailable")),U.connection.bind("failed",()=>console.log("[PUSHER]  failed")),U.connection.bind("error",H=>console.error("[PUSHER] error:",H)),console.log("[ECHO] authEndpoint:","https://rento-lb.com/api/api/broadcasting/auth"),console.log("[ECHO] cluster:","ap1"),console.log("[ECHO] key:","316e84fa5f5bf1a94b26"),xe.get("/profile").then(({data:H})=>{E.current=H.user?.id,console.log("Current user ID:",E.current)}).catch(H=>{console.error("Failed to fetch profile:",H),w("Failed to load user profile")}),()=>{T.current?.disconnect()}},[G]),y.useEffect(()=>{G&&F()},[G]);const F=async()=>{f(!0),w(null);try{const{data:U}=await xe.get("/driver/bookings");console.log("Bookings response:",U);const L=(U.data||[]).filter($=>$.booking_request_status==="confirmed"||$.booking_request_status==="accepted");s(L)}catch(U){console.error("Failed to fetch bookings:",U),w("Failed to load bookings"),s([])}finally{f(!1)}},M=()=>{const U=k.current;U&&(U.scrollTop=U.scrollHeight)};y.useEffect(()=>{M()},[r]);const J=async U=>{h(!0),w(null);try{const{data:H}=await xe.get(`/bookings/${U}/chat`),L=H.data?.data||H.data?.messages||[];i(L),L.forEach($=>{!$.read_at&&$.sender_id!==E.current&&ee($.id)})}catch(H){console.error("Failed to load messages:",H),w("Failed to load messages"),i([])}finally{h(!1)}};y.useEffect(()=>{if(!a?.id||!T.current)return;const U=a.id,H=`private-booking.${U}`;console.log("[ECHO] subscribing to:",H);const L=T.current.connector.pusher,$=L.subscribe(H);$.bind("pusher:subscription_succeeded",()=>{console.log("[PUSHER]  subscription_succeeded:",H)}),$.bind("pusher:subscription_error",le=>{console.error("[PUSHER]  subscription_error:",H,"status:",le),console.error("-> If status=403, your /broadcasting/auth or channels.php auth is rejecting the user.")});const z=T.current.private(`booking.${U}`),ie=le=>{const ne=A(le);i(fe=>fe.some(ye=>String(ye.id)===String(ne.id))?fe:[...fe,ne]),ne.sender_id&&ne.sender_id!==E.current&&ee(U,ne.id)};return z.listen(".message.sent",ie),z.listen("message.sent",ie),z.listen(".message.read",le=>console.log("[ECHO] message.read:",le)),J(U),()=>{console.log("[ECHO] leaving:",H),T.current?.leave(`booking.${U}`),L.unsubscribe(H)}},[a?.id]);const R=async U=>{if(U.preventDefault(),!l.trim()||!a)return;const H=l.trim();d("");try{const{data:L}=await xe.post(`/bookings/${a.id}/chat`,{booking_id:a.id,message:H});L.data&&i($=>[...$,L.data])}catch(L){console.error("Failed to send message:",L),w("Failed to send message"),d(H)}},ee=async U=>{try{await xe.post(`/bookings/${a?.id}/chat/mark-read`,{message_id:U})}catch(H){console.error("Failed to mark message as read:",H)}},Y=async()=>{try{if(!t?.length)return;const U=await Promise.all(t.map(async L=>{try{const{data:$}=await xe.get(`/bookings/${L.id}/chat/unread-count`),z=$?.data?.unread_count??$?.data??$?.unread_count??0;return{id:L.id,count:Number(z)||0}}catch($){return console.error(`Failed unread count for booking ${L.id}:`,$),{id:L.id,count:0}}})),H=Object.fromEntries(U.map(L=>[L.id,L.count]));s(L=>L.map($=>({...$,unread_count:H[$.id]??0})))}catch(U){console.error("Failed to fetch unread counts:",U)}};y.useEffect(()=>{if(G){Y();const U=setInterval(Y,1e4);return()=>clearInterval(U)}},[G]),y.useRef(null);const re=U=>{if(!U)return"";const H=new Date(U);if(Number.isNaN(H.getTime()))return"";const $=Math.floor((new Date-H)/6e4);if($<1)return"Just now";if($<60)return`${$}m ago`;const z=Math.floor($/60);if(z<24)return`${z}h ago`;const ie=Math.floor(z/24);return ie<7?`${ie}d ago`:H.toLocaleDateString("en-US",{month:"short",day:"numeric"})},te=U=>{if(!U)return"";const H=new Date(U);return Number.isNaN(H.getTime())?"":H.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},V=t.filter(U=>{if(!_)return!0;const H=_.toLowerCase(),L=`${U.client?.first_name||""} ${U.client?.last_name||""}`.toLowerCase(),$=`${U.car?.make||""} ${U.car?.model||""}`.toLowerCase();return L.includes(H)||$.includes(H)});return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-black dark:via-gray-900 dark:to-gray-950 pt-20",children:e.jsxs("div",{className:"container mx-auto px-4 py-6",children:[e.jsx(Ve.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center shadow-lg",style:{background:`linear-gradient(135deg, ${as.teal}, ${as.darkBlue})`},children:e.jsx(Ur,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(135deg, ${as.darkBlue}, ${as.teal}, ${as.limeGreen})`},children:"Booking Messages"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Stay connected with your clients"})]})]})}),e.jsx(go,{children:j&&e.jsx(Ve.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-4 p-4 rounded-xl border-2",style:{background:"rgba(220, 38, 38, 0.1)",borderColor:"#DC2626"},children:e.jsxs("p",{className:"text-red-800 dark:text-red-200 flex items-center gap-2",children:[e.jsx(ea,{className:"w-5 h-5"}),j]})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 h-[calc(100vh-180px)]",children:[e.jsxs("div",{className:"lg:col-span-1 bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden flex flex-col border border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ea,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search conversations...",value:_,onChange:U=>N(U.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 dark:text-white text-sm",style:{focusRing:as.teal}})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:p?e.jsx("div",{className:"flex justify-center items-center h-full",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-t-transparent",style:{borderColor:as.tealDim,borderTopColor:"transparent"}})}):V.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-gray-400",children:[e.jsx(Ur,{className:"w-16 h-16 mb-3",style:{color:as.teal,opacity:.3}}),e.jsx("p",{className:"text-center font-medium",children:"No bookings found"}),e.jsx("p",{className:"text-xs text-center mt-1",children:"Try adjusting your search"})]}):V.map(U=>e.jsx(Ve.div,{whileHover:{x:5},onClick:()=>n(U),className:`p-4 border-b border-gray-200 dark:border-gray-700 cursor-pointer transition-all ${a?.id===U.id?"border-l-4":"hover:bg-gray-50 dark:hover:bg-gray-700"}`,style:a?.id===U.id?{background:as.tealDim,borderLeftColor:as.teal}:{},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:U.client?.profile_picture?`/api/storage/${U.client.profile_picture}`:"/default-avatar.png",alt:U.client?.first_name||"Client",className:"w-12 h-12 rounded-full object-cover ring-2 ring-white dark:ring-gray-700"}),U.unread_count>0&&e.jsx(Ve.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},className:"absolute -top-1 -right-1 w-5 h-5 rounded-full flex items-center justify-center shadow-lg",style:{background:as.limeGreen},children:e.jsx("span",{className:"text-xs text-white font-bold",children:U.unread_count})})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white truncate flex items-center gap-1",children:[U.client?.first_name||"N/A"," ",U.client?.last_name||"",U.client?.verified_by_admin&&e.jsx(Bn,{className:"w-3 h-3",style:{color:as.teal}})]}),U.unread_count>0&&e.jsx(sn,{className:"w-4 h-4",style:{color:as.teal}})]}),e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate flex items-center gap-1",children:[e.jsx(zt,{className:"w-3 h-3"}),U.car?.make||"N/A"," ",U.car?.model||""]})]})]})},U.id))})]}),e.jsx("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden flex flex-col border border-gray-200 dark:border-gray-700",children:a?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4 text-white relative overflow-hidden",style:{background:`linear-gradient(135deg, ${as.darkBlue}, ${as.teal}, ${as.limeGreen})`},children:[e.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-white/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-white/10 rounded-full blur-2xl"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:a.client?.profile_picture?`/api/storage/${a.client.profile_picture}`:"/default-avatar.png",alt:a.client?.first_name||"Client",className:"w-12 h-12 rounded-full object-cover border-2 border-white shadow-lg"}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",children:[a.client?.first_name||"N/A"," ",a.client?.last_name||"",a.client?.verified_by_admin&&e.jsx(Bn,{className:"w-4 h-4"})]}),e.jsxs("p",{className:"text-xs opacity-90",children:["@",a.client?.username||"unknown"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[a.client?.phone_number&&e.jsx(Ve.a,{whileHover:{scale:1.1},whileTap:{scale:.9},href:`tel:${a.client.phone_number}`,className:"p-2 bg-white/20 backdrop-blur-sm rounded-xl hover:bg-white/30 transition-colors",children:e.jsx(Gr,{className:"w-4 h-4"})}),a.client?.email&&e.jsx(Ve.a,{whileHover:{scale:1.1},whileTap:{scale:.9},href:`mailto:${a.client.email}`,className:"p-2 bg-white/20 backdrop-blur-sm rounded-xl hover:bg-white/30 transition-colors",children:e.jsx(Nr,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"p-3 bg-white/10 backdrop-blur-sm rounded-xl",children:e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(zt,{className:"w-4 h-4"}),e.jsxs("span",{className:"truncate",children:[a.car?.make||"N/A"," ",a.car?.model||""]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Rs,{className:"w-4 h-4"}),e.jsx("span",{className:"truncate",children:a.start_datetime?te(a.start_datetime):"N/A"})]})]})})]})]}),e.jsxs("div",{ref:k,className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gradient-to-b from-gray-50/50 to-white dark:from-gray-900/50 dark:to-gray-800",style:{maxHeight:"calc(100vh - 450px)"},children:[u?e.jsx("div",{className:"flex justify-center items-center h-full",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-t-transparent",style:{borderColor:as.tealDim,borderTopColor:"transparent"}})}):r.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[e.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mb-4",style:{background:as.tealDim},children:e.jsx(Ur,{className:"w-10 h-10",style:{color:as.teal}})}),e.jsx("p",{className:"text-lg font-medium",children:"No messages yet"}),e.jsx("p",{className:"text-sm",children:"Start the conversation!"})]}):e.jsxs(e.Fragment,{children:[r.map((U,H)=>{const L=U.sender_id===E.current||U.sender?.id===E.current,$=H===0||r[H-1].sender_id!==U.sender_id;return e.jsxs(Ve.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex items-end gap-2 ${L?"justify-end":"justify-start"}`,children:[!L&&$&&e.jsx("img",{src:U.sender?.profile_picture?`/api/storage/${U.sender.profile_picture}`:"/default-avatar.png",alt:U.sender?.first_name||"User",className:"w-8 h-8 rounded-full object-cover ring-2 ring-white dark:ring-gray-700"}),!L&&!$&&e.jsx("div",{className:"w-8"}),e.jsxs("div",{className:`flex flex-col ${L?"items-end":"items-start"} max-w-[70%]`,children:[e.jsx(Ve.div,{whileHover:{scale:1.02},className:`rounded-2xl px-4 py-2 shadow-md ${L?"text-white rounded-br-none":"bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-bl-none border border-gray-200 dark:border-gray-600"}`,style:L?{background:`linear-gradient(135deg, ${as.teal}, ${as.darkBlue})`}:{},children:e.jsx("p",{className:"text-sm whitespace-pre-wrap break-words leading-relaxed",children:U.message})}),e.jsxs("div",{className:"flex items-center gap-1 mt-1 px-1",children:[e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:re(U.created_at)}),L&&e.jsx("span",{children:U.read_at?e.jsx(YT,{className:"w-3 h-3",style:{color:as.teal}}):e.jsx(Jn,{className:"w-3 h-3 text-gray-400"})})]})]}),L&&$&&e.jsx("img",{src:U.sender?.profile_picture?`/api/storage/${U.sender.profile_picture}`:"/default-avatar.png",alt:U.sender?.first_name||"You",className:"w-8 h-8 rounded-full object-cover ring-2 ring-white dark:ring-gray-700"}),L&&!$&&e.jsx("div",{className:"w-8"})]},U.id)}),e.jsx("div",{ref:D})]}),e.jsx(go,{children:x&&e.jsxs(Ve.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"flex items-center gap-2",children:[e.jsx("img",{src:a.client?.profile_picture?`/api/storage/${a.client.profile_picture}`:"/default-avatar.png",alt:a.client?.first_name||"Client",className:"w-8 h-8 rounded-full object-cover ring-2 ring-white dark:ring-gray-700"}),e.jsx("div",{className:"bg-white dark:bg-gray-700 rounded-2xl rounded-bl-none px-4 py-3 border border-gray-200 dark:border-gray-600",children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{background:as.teal,animationDelay:"0ms"}}),e.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{background:as.darkBlue,animationDelay:"150ms"}}),e.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{background:as.limeGreen,animationDelay:"300ms"}})]})})]})})]}),e.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsx(Ve.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>console.log("Attach file"),className:"p-2 rounded-xl transition-colors",style:{background:as.tealDim,color:as.teal},children:e.jsx(rD,{className:"w-5 h-5"})}),e.jsx(Ve.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>console.log("Send emoji"),className:"p-2 rounded-xl transition-colors",style:{background:as.limeGreenDim,color:as.limeGreen},children:e.jsx(oD,{className:"w-5 h-5"})}),e.jsx("div",{className:"flex-1 relative",children:e.jsx("textarea",{value:l,onChange:U=>{d(U.target.value)},onKeyPress:U=>{U.key==="Enter"&&!U.shiftKey&&(U.preventDefault(),R(U))},placeholder:"Type your message...",rows:1,className:"w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 dark:bg-gray-700 dark:text-white resize-none",style:{focusRing:as.teal}})}),e.jsx(Ve.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:R,disabled:!l.trim(),className:"p-3 rounded-xl text-white font-semibold disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg hover:shadow-xl",style:{background:`linear-gradient(135deg, ${as.teal}, ${as.darkBlue})`},children:e.jsx(rx,{className:"w-5 h-5"})})]})})]}):e.jsx("div",{className:"flex-1 flex flex-col items-center justify-center",children:e.jsxs(Ve.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"text-center",children:[e.jsx("div",{className:"w-24 h-24 rounded-full flex items-center justify-center mb-6 mx-auto",style:{background:`linear-gradient(135deg, ${as.tealDim}, ${as.limeGreenDim})`},children:e.jsx(Ur,{className:"w-12 h-12",style:{color:as.teal}})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Select a Booking"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Choose a conversation to start chatting"})]})})})]})]})})}const nee=()=>xe.get("/bookings/feedback-templates"),ree=(t,s)=>xe.post(`/bookings/${t}/client-rating`,{rating:s.rating,template_selections:s.template_selections||[],comment:(s.comment||"").slice(0,1e3)}),iee=async()=>{const a=((await xe.get("/driver/bookings")).data?.data||[]).filter(l=>l.booking_request_status==="confirmed"||l.booking_request_status==="completed"),n=a.reduce((l,d)=>l+parseFloat(d.total_booking_price||0),0),r=a.reduce((l,d)=>l+(Number(d.app_fees_amount)||0),0);let i=null;try{const l=await xe.get("/profile");i=l.data?.user?.agent?.app_fees??l.data?.agent?.app_fees??null}catch{}return{total_amount:n,app_fees_amount:r,net_earnings:n-r,bookings_count:a.length,app_fees_percentage:i}},lP=async()=>{try{return await xe.get("/owner/earnings")}catch(t){if(t.response?.status===404)return{data:await iee()};throw t}},oee=(t={})=>xe.get("/frequent-searches/statistics",{params:t}),jt=y.forwardRef(({className:t,...s},a)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:a,className:mt("w-full caption-bottom text-sm",t),...s})}));jt.displayName="Table";const wt=y.forwardRef(({className:t,...s},a)=>e.jsx("thead",{ref:a,className:mt("[&_tr]:border-b",t),...s}));wt.displayName="TableHeader";const Nt=y.forwardRef(({className:t,...s},a)=>e.jsx("tbody",{ref:a,className:mt("[&_tr:last-child]:border-0",t),...s}));Nt.displayName="TableBody";const lee=y.forwardRef(({className:t,...s},a)=>e.jsx("tfoot",{ref:a,className:mt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...s}));lee.displayName="TableFooter";const ke=y.forwardRef(({className:t,...s},a)=>e.jsx("tr",{ref:a,className:mt("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...s}));ke.displayName="TableRow";const Z=y.forwardRef(({className:t,...s},a)=>e.jsx("th",{ref:a,className:mt("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...s}));Z.displayName="TableHead";const W=y.forwardRef(({className:t,...s},a)=>e.jsx("td",{ref:a,className:mt("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...s}));W.displayName="TableCell";const cee=y.forwardRef(({className:t,...s},a)=>e.jsx("caption",{ref:a,className:mt("mt-4 text-sm text-muted-foreground",t),...s}));cee.displayName="TableCaption";const We={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640",darkBlueDim:"rgba(14, 76, 129, 0.1)",tealDim:"rgba(0, 140, 149, 0.1)",limeGreenDim:"rgba(138, 198, 64, 0.1)"};function dee(){const[t,s]=y.useState([]),[a,n]=y.useState(!0),[r,i]=y.useState(null),[l,d]=y.useState(!1),[u,h]=y.useState(null),[p,f]=y.useState("list"),[x,v]=y.useState(new Date),[j,w]=y.useState(0),[_,N]=y.useState("all"),[k,D]=y.useState(""),[T,E]=y.useState([]),[G,A]=y.useState(null),[F,M]=y.useState({rating:0,template_selections:[],comment:""}),[J,R]=y.useState(!1),ee=async()=>{n(!0);try{const{data:pe}=await xe.get("/driver/bookings");s(pe.data||[])}catch(pe){console.error("Error fetching bookings:",pe),s([]),se.error("Failed to fetch bookings")}finally{n(!1)}};y.useEffect(()=>{ee()},[]),y.useEffect(()=>{(async()=>{try{const{data:Ce}=await nee();E(Ce?.agent_rates_client||[])}catch(Ce){console.error("Failed to load feedback templates:",Ce)}})()},[]),y.useEffect(()=>{const pe=Le();if(pe.length>1){const Ce=setInterval(()=>{w(he=>(he+1)%pe.length)},5e3);return()=>clearInterval(Ce)}},[t]);const Y=t.reduce((pe,Ce)=>{const he=Ce.car?.id;return he&&(pe[he]||(pe[he]={car:Ce.car,bookings:[]}),pe[he].bookings.push(Ce)),pe},{}),re=async pe=>{h(pe);try{if(await xe.post(`/driver/bookings/${pe}/accept`),await ee(),r){const Ce=t.filter(he=>he.car?.id===r.car?.id);i({...r,bookings:Ce})}se.success(" Booking accepted successfully!")}catch(Ce){console.error("Error accepting booking:",Ce),se.error("Failed to accept booking")}finally{h(null)}},te=async pe=>{if(confirm("Are you sure you want to reject this booking?")){h(pe);try{if(await xe.post(`/driver/bookings/${pe}/decline`),await ee(),r){const Ce=t.filter(he=>he.car?.id===r.car?.id&&he.id!==pe);Ce.length===0?U():i({...r,bookings:Ce})}se.success("Booking rejected successfully")}catch(Ce){console.error("Error rejecting booking:",Ce),se.error("Failed to reject booking")}finally{h(null)}}},V=pe=>{i(pe),d(!0)},U=()=>{i(null),d(!1)},H=pe=>{const Ce=pe?.booking_request_status,he=Ce==="confirmed"||Ce==="accepted",Ie=pe?.end_datetime&&new Date(pe.end_datetime)<new Date,ze=!pe?.client_rating;return!!(he&&Ie&&ze)},L=pe=>{A(pe),M({rating:0,template_selections:[],comment:""})},$=()=>{A(null),M({rating:0,template_selections:[],comment:""})},z=pe=>{M(Ce=>({...Ce,template_selections:Ce.template_selections.includes(pe)?Ce.template_selections.filter(he=>he!==pe):[...Ce.template_selections,pe]}))},ie=async()=>{if(!G||F.rating<1||F.rating>5){se.error("Please select a rating (15 stars).");return}R(!0);try{if(await ree(G.id,{rating:F.rating,template_selections:F.template_selections,comment:F.comment.slice(0,1e3)}),se.success("Rating submitted successfully."),$(),await ee(),r?.bookings?.length){const pe=r.bookings.map(Ce=>Ce.id===G.id?{...Ce,client_rating:!0}:Ce);i({...r,bookings:pe})}}catch(pe){const Ce=pe.response?.data?.message||pe.response?.data?.error||pe.response?.data?.errors&&Object.values(pe.response.data.errors).flat().join(" ")||"Failed to submit rating.";se.error(Ce)}finally{R(!1)}},le=pe=>{const Ce={pending:{label:"Pending",color:We.teal,bgColor:We.tealDim,textColor:We.teal,icon:Rv},confirmed:{label:"Confirmed",color:We.limeGreen,bgColor:We.limeGreenDim,textColor:We.limeGreen,icon:$a},accepted:{label:"Accepted",color:We.darkBlue,bgColor:We.darkBlueDim,textColor:We.darkBlue,icon:Jn},rejected:{label:"Rejected",color:"#DC2626",bgColor:"rgba(220, 38, 38, 0.1)",textColor:"#DC2626",icon:tr},completed:{label:"Completed",color:We.limeGreen,bgColor:We.limeGreenDim,textColor:We.limeGreen,icon:$a}};return Ce[pe]||Ce.pending},ne=(pe,Ce)=>{const he=new Date(pe),Ie=new Date(Ce),ze=Math.abs(Ie-he);return Math.ceil(ze/(1e3*60*60*24))},fe=pe=>new Date(pe).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),Ne=pe=>new Date(pe).toLocaleDateString("en-US",{month:"short",day:"numeric"}),ye=pe=>{const Ce=new Date(pe),he=new Date;return Ce.toDateString()===he.toDateString()},Le=()=>t.filter(pe=>ye(pe.start_datetime)||ye(pe.end_datetime)),Ge=(()=>{const pe=t.length,Ce=t.filter(rt=>rt.booking_request_status==="pending").length,he=t.filter(rt=>rt.booking_request_status==="confirmed"||rt.booking_request_status==="accepted").length,Ie=t.filter(rt=>rt.booking_request_status==="rejected").length,ze=t.filter(rt=>rt.booking_request_status==="confirmed"||rt.booking_request_status==="accepted").reduce((rt,yt)=>rt+parseFloat(yt.total_booking_price||0),0);return{total:pe,pending:Ce,confirmed:he,rejected:Ie,totalRevenue:ze}})(),nt=Object.entries(Y).reduce((pe,[Ce,he])=>{let Ie=he.bookings;return _!=="all"&&(Ie=Ie.filter(ze=>ze.booking_request_status===_)),k&&(Ie=Ie.filter(ze=>{const rt=k.toLowerCase(),yt=`${ze.car?.make} ${ze.car?.model}`.toLowerCase().includes(rt),dt=`${ze.client?.first_name} ${ze.client?.last_name}`.toLowerCase().includes(rt),Vt=ze.client?.email?.toLowerCase().includes(rt);return yt||dt||Vt})),Ie.length>0&&(pe[Ce]={...he,bookings:Ie}),pe},{}),Ae=pe=>{const Ce=pe.getFullYear(),he=pe.getMonth(),Ie=new Date(Ce,he,1),rt=new Date(Ce,he+1,0).getDate(),yt=Ie.getDay();return{daysInMonth:rt,startingDayOfWeek:yt,year:Ce,month:he}},Ye=pe=>t.filter(Ce=>{const he=new Date(Ce.start_datetime),Ie=new Date(Ce.end_datetime);return he.setHours(0,0,0,0),Ie.setHours(0,0,0,0),pe.setHours(0,0,0,0),pe.getTime()===he.getTime()||pe.getTime()===Ie.getTime()}),Oe=()=>{const{daysInMonth:pe,startingDayOfWeek:Ce,year:he,month:Ie}=Ae(x),ze=["January","February","March","April","May","June","July","August","September","October","November","December"],rt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],yt=()=>{v(new Date(x.getFullYear(),x.getMonth()-1))},dt=()=>{v(new Date(x.getFullYear(),x.getMonth()+1))},Vt=[];for(let St=0;St<Ce;St++)Vt.push(e.jsx("div",{className:"aspect-square"},`empty-${St}`));for(let St=1;St<=pe;St++){const Gt=new Date(he,Ie,St),Us=Ye(Gt),ns=ye(Gt.toISOString());Vt.push(e.jsxs(Ve.div,{whileHover:{scale:1.05},className:`aspect-square border rounded-xl p-2 transition-all cursor-pointer ${ns?"border-2 shadow-lg":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:shadow-md"}`,style:ns?{background:`linear-gradient(135deg, ${We.tealDim}, ${We.limeGreenDim})`,borderColor:We.teal}:{},onClick:()=>{if(Us.length>0){const gs=Us.reduce((pt,Ms)=>{const ve=Ms.car?.id;return pt[ve]||(pt[ve]={car:Ms.car,bookings:[]}),pt[ve].bookings.push(Ms),pt},{});V(Object.values(gs)[0])}},children:[e.jsx("div",{className:`text-sm font-bold mb-1 ${ns?"dark:text-gray-800":"text-gray-700 dark:text-gray-300"}`,style:ns?{color:We.teal}:{},children:St}),Us.length>0&&e.jsxs("div",{className:"space-y-1",children:[Us.slice(0,2).map(gs=>{const pt=le(gs.booking_request_status);return e.jsx("div",{className:"text-xs px-1.5 py-0.5 rounded-md truncate font-medium shadow-sm",style:{background:pt.bgColor,color:pt.textColor},children:gs.car?.make},gs.id)}),Us.length>2&&e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:["+",Us.length-2," more"]})]})]},St))}return e.jsxs(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-5 border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-center mb-5",children:[e.jsxs("h2",{className:"text-2xl font-bold bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(135deg, ${We.teal}, ${We.darkBlue})`},children:[ze[Ie]," ",he]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Ve.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:yt,className:"p-2 rounded-xl transition-colors",style:{background:We.tealDim,color:We.teal},children:e.jsx(yo,{className:"w-5 h-5"})}),e.jsx(Ve.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:dt,className:"p-2 rounded-xl transition-colors",style:{background:We.tealDim,color:We.teal},children:e.jsx(sn,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[rt.map(St=>e.jsx("div",{className:"text-center font-bold text-sm text-gray-600 dark:text-gray-400 py-2",children:St},St)),Vt]}),e.jsx("div",{className:"flex justify-center gap-6 mt-5 pt-5 border-t border-gray-200 dark:border-gray-700",children:["pending","confirmed","rejected"].map(St=>{const Gt=le(St);return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded-md shadow-sm",style:{background:Gt.color}}),e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:Gt.label})]},St)})})]})},ft=pe=>{if(!pe.length)return{start:new Date,end:new Date};const Ce=pe.flatMap(ze=>[new Date(ze.start_datetime),new Date(ze.end_datetime)]),he=new Date(Math.min(...Ce.map(ze=>ze.getTime()))),Ie=new Date(Math.max(...Ce.map(ze=>ze.getTime())));return he.setDate(he.getDate()-2),Ie.setDate(Ie.getDate()+2),{start:he,end:Ie}},kt=({startDate:pe,endDate:Ce})=>{const he=[],Ie=new Date(pe);for(;Ie<=Ce;){const ze=ye(Ie.toISOString());he.push({date:Ie.toLocaleDateString("en-US",{day:"numeric",month:"short"}),day:Ie.toLocaleDateString("en-US",{weekday:"short"}),isToday:ze}),Ie.setDate(Ie.getDate()+1)}return e.jsx("div",{className:"flex border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50",children:he.map((ze,rt)=>e.jsxs("div",{className:`px-4 py-3 text-sm font-semibold text-center ${ze.isToday,""}`,style:ze.isToday?{background:We.tealDim,color:We.teal}:{},children:[e.jsx("div",{className:"font-bold",children:ze.day}),e.jsx("div",{className:"text-xs opacity-80",children:ze.date})]},rt))})},tt=({car:pe,bookings:Ce,dateRange:he,onBookingClick:Ie})=>{const{start:ze,end:rt}=he,yt=Math.ceil((rt-ze)/(1e3*60*60*24));return e.jsxs(Ve.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center border-b border-gray-200 dark:border-gray-700 py-3 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[e.jsxs("div",{className:"w-56 flex items-center gap-3 px-4",children:[e.jsx("img",{src:pe.main_image_url?`/api/storage/${pe.main_image_url}`:"/placeholder.png",alt:pe.model,className:"w-14 h-10 object-cover rounded-lg shadow-md"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-bold text-gray-900 dark:text-white",children:[pe.make," ",pe.model]}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center gap-1",children:[e.jsx(Rs,{className:"w-3 h-3"}),Ce.length," booking",Ce.length!==1?"s":""]})]})]}),e.jsx("div",{className:"relative flex-1 h-14 px-2",children:Ce.map(dt=>{const Vt=new Date(dt.start_datetime),St=new Date(dt.end_datetime),Gt=Math.max(0,Math.floor((Vt-ze)/(1e3*60*60*24))),Us=Math.max(1,Math.ceil((St-Vt)/(1e3*60*60*24))),ns=le(dt.booking_request_status);return e.jsx(Ve.div,{whileHover:{scale:1.05,zIndex:10},className:"absolute h-10 rounded-xl cursor-pointer shadow-lg hover:shadow-xl transition-all flex items-center justify-center text-white text-xs font-semibold",style:{left:`${Gt/yt*100}%`,width:`${Us/yt*100}%`,background:ns.color},title:`${dt.client?.first_name} ${dt.client?.last_name}
${fe(dt.start_datetime)} - ${fe(dt.end_datetime)}
Total: $${dt.total_booking_price}`,onClick:()=>Ie({car:pe,bookings:[dt]}),children:e.jsx("span",{className:"truncate px-2",children:dt.client?.first_name})},dt.id)})})]})},ps=()=>{const pe=ft(t);return e.jsxs(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden border border-gray-200 dark:border-gray-700",children:[e.jsx(kt,{startDate:pe.start,endDate:pe.end}),e.jsx("div",{className:"max-h-[600px] overflow-y-auto",children:Object.values(Y).map(({car:Ce,bookings:he})=>e.jsx(tt,{car:Ce,bookings:he,dateRange:pe,onBookingClick:V},Ce.id))}),e.jsx("div",{className:"flex justify-center gap-6 p-4 bg-gray-50 dark:bg-gray-900/50 border-t border-gray-200 dark:border-gray-700",children:["pending","confirmed","rejected"].map(Ce=>{const he=le(Ce);return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded-md shadow-sm",style:{background:he.color}}),e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:he.label})]},Ce)})})]})},ys=()=>{const pe=Le();if(pe.length===0)return null;const Ce=pe[j],he=ye(Ce.start_datetime),Ie=ye(Ce.end_datetime);return e.jsxs(Ve.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-5 rounded-2xl shadow-2xl p-5 text-white overflow-hidden relative",style:{background:`linear-gradient(135deg, ${We.darkBlue}, ${We.teal}, ${We.limeGreen})`},children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/5 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white/5 rounded-full blur-3xl"}),e.jsx("div",{className:"relative z-10",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(Ve.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,repeatDelay:3},className:"p-3 bg-white/20 backdrop-blur-sm rounded-2xl",children:e.jsx(_g,{className:"w-7 h-7"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-xl font-bold",children:"Today's Action Required!"}),pe.length>1&&e.jsxs("span",{className:"text-xs bg-white/30 backdrop-blur-sm px-3 py-1 rounded-full font-semibold",children:[j+1," of ",pe.length]})]}),e.jsx("p",{className:"text-sm opacity-90 mb-4 flex items-center gap-2",children:he&&Ie?e.jsxs(e.Fragment,{children:[e.jsx(tm,{className:"w-4 h-4"}),"Booking starts AND ends today"]}):he?e.jsxs(e.Fragment,{children:[e.jsx(yg,{className:"w-4 h-4"}),"Booking starts today"]}):e.jsxs(e.Fragment,{children:[e.jsx($a,{className:"w-4 h-4"}),"Booking ends today"]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3 border border-white/20",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:Ce.car?.main_image_url?`/api/storage/${Ce.car.main_image_url}`:"/placeholder.png",alt:Ce.car?.model,className:"w-12 h-12 rounded-lg object-cover border-2 border-white/30 shadow-lg"}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-bold text-lg",children:[Ce.car?.make," ",Ce.car?.model]}),e.jsxs("div",{className:"text-xs opacity-80 flex items-center gap-1",children:[e.jsx(zt,{className:"w-3 h-3"}),Ce.car?.year,"  ",Ce.car?.car_category]})]})]})}),e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3 border border-white/20",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:Ce.client?.profile_picture?`/api/storage/${Ce.client.profile_picture}`:"/default-avatar.png",alt:Ce.client?.username,className:"w-12 h-12 rounded-full object-cover border-2 border-white/30 shadow-lg"}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-bold text-lg flex items-center gap-1",children:[Ce.client?.first_name," ",Ce.client?.last_name,Ce.client?.verified_by_admin&&e.jsx(W2,{className:"w-4 h-4"})]}),e.jsxs("div",{className:"text-xs opacity-80",children:["@",Ce.client?.username]})]})]})})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-sm px-3 py-2 rounded-lg",children:[e.jsx(hu,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:fe(Ce.start_datetime)})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-sm px-3 py-2 rounded-lg",children:[e.jsx(Bs,{className:"w-4 h-4"}),e.jsxs("span",{className:"font-bold",children:["$",Ce.total_booking_price]})]}),Ce.app_fees_amount!=null&&e.jsxs("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-sm px-3 py-2 rounded-lg",children:[e.jsx("span",{className:"opacity-90",children:"App fee:"}),e.jsxs("span",{children:["$",Ce.app_fees_amount]})]}),e.jsx("div",{className:"px-3 py-1.5 rounded-lg font-semibold text-xs bg-white/20",children:Ce.booking_request_status.toUpperCase()})]})]})]})}),pe.length>1&&e.jsx("div",{className:"absolute bottom-4 right-6 flex gap-2",children:pe.map((ze,rt)=>e.jsx(Ve.div,{animate:{scale:rt===j?1.2:1},className:`h-2 rounded-full transition-all ${rt===j?"bg-white w-8":"bg-white/40 w-2"}`},rt))})]})},Fs=()=>{const pe=[{title:"Total Bookings",value:Ge.total,icon:Rs,gradient:`linear-gradient(135deg, ${We.teal}, ${We.darkBlue})`,change:"+12%"},{title:"Pending Review",value:Ge.pending,icon:Rv,gradient:`linear-gradient(135deg, ${We.darkBlue}, ${We.teal})`,change:"Needs action",alert:Ge.pending>0},{title:"Confirmed",value:Ge.confirmed,icon:$a,gradient:`linear-gradient(135deg, ${We.limeGreen}, ${We.teal})`,change:"+8%"},{title:"Total Revenue",value:`$${Ge.totalRevenue.toFixed(2)}`,icon:Bs,gradient:`linear-gradient(135deg, ${We.teal}, ${We.limeGreen})`,change:"+15%"}];return e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-5",children:pe.map((Ce,he)=>e.jsx(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:he*.1},whileHover:{y:-5},className:"relative",children:e.jsxs("div",{className:"relative z-10 bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-4 border border-gray-200 dark:border-gray-700 group",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl p-2.5 shadow-lg",style:{background:Ce.gradient},children:e.jsx(Ce.icon,{className:"w-full h-full text-white"})}),Ce.alert&&e.jsx(Ve.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},className:"w-3 h-3 rounded-full",style:{background:We.teal}})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:Ce.title}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:Ce.value}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:Ce.change})]})},he))})};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 dark:from-gray-950 dark:via-gray-900 dark:to-black pt-20",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsx("div",{className:"mb-5",children:e.jsx(Ve.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:e.jsx("h1",{className:"text-4xl font-bold bg-clip-text text-transparent mb-2",style:{backgroundImage:`linear-gradient(135deg, ${We.darkBlue}, ${We.teal}, ${We.limeGreen})`},children:"Booking Management"})})}),e.jsx(ys,{}),e.jsx(Fs,{}),e.jsx(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-4 mb-4 border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Ea,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by car, client, or email...",value:k,onChange:pe=>D(pe.target.value),className:"w-full pl-11 pr-4 py-2.5 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 dark:text-white",style:{focusRing:We.teal}})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{value:_,onChange:pe=>N(pe.target.value),className:"px-4 py-2.5 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 dark:text-white",style:{focusRing:We.teal},children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"confirmed",children:"Confirmed"}),e.jsx("option",{value:"accepted",children:"Accepted"}),e.jsx("option",{value:"rejected",children:"Rejected"})]}),e.jsx(Ve.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:ee,className:"p-2.5 rounded-xl transition-colors",style:{background:We.tealDim,color:We.teal},children:e.jsx(_t,{className:"w-5 h-5"})})]})]})}),e.jsx("div",{className:"flex gap-2 mb-5 overflow-x-auto pb-2",children:[{id:"list",label:"List View",icon:gl},{id:"table",label:"Table",icon:W7},{id:"timeline",label:"Timeline",icon:tm},{id:"calendar",label:"Calendar",icon:Rs}].map(pe=>e.jsxs(Ve.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:`flex items-center gap-2 px-5 py-2.5 rounded-xl font-medium whitespace-nowrap transition-all ${p===pe.id?"text-white shadow-lg":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 border border-gray-200 dark:border-gray-700"}`,style:p===pe.id?{background:`linear-gradient(135deg, ${We.teal}, ${We.darkBlue})`}:{},onClick:()=>f(pe.id),children:[e.jsx(pe.icon,{className:"w-5 h-5"}),pe.label]},pe.id))}),a?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx(Ve.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-16 h-16 border-4 border-t-4 rounded-full",style:{borderColor:We.tealDim,borderTopColor:We.teal}})}):Object.keys(nt).length===0?e.jsxs(Ve.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-20 bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700",children:[e.jsx(fs,{className:"w-20 h-20 mx-auto mb-4",style:{color:We.teal,opacity:.3}}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg font-medium mb-2",children:"No bookings found"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-500 text-sm",children:"Try adjusting your filters or search query"})]}):p==="calendar"?e.jsx(Oe,{}):p==="timeline"?e.jsx(ps,{}):p==="table"?e.jsx(Ve.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden border border-gray-200 dark:border-gray-700",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{className:"border-gray-200 dark:border-gray-700",children:[e.jsx(Z,{className:"text-gray-700 dark:text-gray-300",children:"Car"}),e.jsx(Z,{className:"text-gray-700 dark:text-gray-300",children:"Client"}),e.jsx(Z,{className:"text-gray-700 dark:text-gray-300",children:"Dates"}),e.jsx(Z,{className:"text-gray-700 dark:text-gray-300",children:"Status"}),e.jsx(Z,{className:"text-gray-700 dark:text-gray-300 text-right",children:"Amount"}),e.jsx(Z,{className:"text-gray-700 dark:text-gray-300 text-right",children:"App Fee"}),e.jsx(Z,{className:"text-gray-700 dark:text-gray-300 text-right",children:"Net"})]})}),e.jsx(Nt,{children:Object.values(nt).flatMap(pe=>pe.bookings).map(pe=>{const Ce=le(pe.booking_request_status),he=parseFloat(pe.total_booking_price||0),Ie=Number(pe.app_fees_amount)||0,ze=he-Ie;return e.jsxs(ke,{className:"cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50 border-gray-200 dark:border-gray-700",onClick:()=>V({car:pe.car,bookings:[pe]}),children:[e.jsxs(W,{className:"font-medium text-gray-900 dark:text-white",children:[pe.car?.make," ",pe.car?.model]}),e.jsxs(W,{className:"text-gray-600 dark:text-gray-400",children:[pe.client?.first_name," ",pe.client?.last_name]}),e.jsxs(W,{className:"text-gray-600 dark:text-gray-400 text-sm",children:[Ne(pe.start_datetime),"  ",Ne(pe.end_datetime)]}),e.jsx(W,{children:e.jsx("span",{className:"px-2 py-1 rounded-lg text-xs font-semibold",style:{background:Ce.bgColor,color:Ce.textColor},children:Ce.label})}),e.jsxs(W,{className:"text-right font-semibold",style:{color:We.limeGreen},children:["$",he.toFixed(2)]}),e.jsxs(W,{className:"text-right text-gray-600 dark:text-gray-400",children:["$",Ie.toFixed(2)]}),e.jsxs(W,{className:"text-right font-bold",style:{color:We.teal},children:["$",ze.toFixed(2)]})]},pe.id)})})]})})}):e.jsx(Ve.div,{initial:{opacity:0},animate:{opacity:1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-5",children:Object.values(nt).map(({car:pe,bookings:Ce},he)=>{const Ie=Ce.filter(rt=>rt.booking_request_status==="pending").length,ze=Ce.filter(rt=>rt.booking_request_status==="confirmed"||rt.booking_request_status==="accepted").length;return e.jsxs(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:he*.1},whileHover:{y:-8,scale:1.02},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden cursor-pointer border border-gray-200 dark:border-gray-700 group",onClick:()=>V({car:pe,bookings:Ce}),children:[e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("img",{src:pe?.main_image_url?`/api/storage/${pe.main_image_url}`:"/placeholder.png",alt:pe?.model||"Car",className:"w-full h-48 object-cover group-hover:scale-110 transition-transform duration-500"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),e.jsx("div",{className:"absolute top-3 right-3 bg-white/90 dark:bg-gray-900/90 backdrop-blur-sm rounded-full px-3 py-1.5 shadow-lg",children:e.jsxs("span",{className:"text-sm font-bold text-gray-900 dark:text-white flex items-center gap-1",children:[e.jsx(Rs,{className:"w-4 h-4"}),Ce.length]})})]}),e.jsxs("div",{className:"p-5",children:[e.jsxs("h2",{className:"font-bold text-xl text-gray-900 dark:text-white mb-1",children:[pe?.make||"Unknown"," ",pe?.model||""]}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-3 flex items-center gap-2",children:[e.jsx(zt,{className:"w-4 h-4"}),pe?.year||"N/A","  ",pe?.car_category||"N/A"]}),pe?.notes&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-3 line-clamp-2",children:pe.notes}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[Ie>0&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg border",style:{background:We.tealDim,borderColor:We.teal},children:[e.jsx(Ve.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},className:"w-2 h-2 rounded-full",style:{background:We.teal}}),e.jsxs("span",{className:"text-xs font-semibold",style:{color:We.teal},children:[Ie," Pending"]})]}),ze>0&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg border",style:{background:We.limeGreenDim,borderColor:We.limeGreen},children:[e.jsx($a,{className:"w-4 h-4",style:{color:We.limeGreen}}),e.jsxs("span",{className:"text-xs font-semibold",style:{color:We.limeGreen},children:[ze," Confirmed"]})]})]})]})]},pe.id)})}),e.jsx(go,{children:l&&r&&e.jsx(Ve.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",onClick:U,children:e.jsxs(Ve.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white dark:bg-gray-800 rounded-2xl w-full max-w-4xl mx-4 shadow-2xl overflow-hidden border border-gray-200 dark:border-gray-700",style:{maxHeight:"90vh"},onClick:pe=>pe.stopPropagation(),children:[e.jsxs("div",{className:"p-5 text-white relative overflow-hidden",style:{background:`linear-gradient(135deg, ${We.teal}, ${We.darkBlue})`},children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full blur-3xl"}),e.jsxs("div",{className:"relative z-10 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-2.5 bg-white/20 backdrop-blur-sm rounded-2xl",children:e.jsx(zt,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold",children:[r.car?.make," ",r.car?.model]}),e.jsxs("p",{className:"text-sm opacity-90 flex items-center gap-2 mt-1",children:[e.jsx(Rs,{className:"w-4 h-4"}),r.bookings?.length||0," booking request",r.bookings?.length!==1?"s":""]})]})]}),e.jsx(Ve.button,{whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},onClick:U,className:"p-2 rounded-full hover:bg-white/20 transition-colors",children:e.jsx(ea,{className:"w-6 h-6"})})]})]}),e.jsx("div",{className:"overflow-y-auto p-5",style:{maxHeight:"calc(90vh - 120px)"},children:r.bookings?.length===0?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(fs,{className:"w-16 h-16 mx-auto mb-4",style:{color:We.teal,opacity:.3}}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:"No bookings for this car yet."})]}):e.jsx("div",{className:"space-y-5",children:r.bookings?.map((pe,Ce)=>{const he=pe.client,Ie=he?.profile||{},ze=le(pe.booking_request_status),rt=ze.icon;return e.jsxs(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:Ce*.1},className:"bg-gradient-to-br from-gray-50 to-white dark:from-gray-900 dark:to-gray-800 rounded-2xl p-5 shadow-lg border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-start mb-5",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:he?.profile_picture?`/api/storage/${he.profile_picture}`:"/default-avatar.png",alt:he?.username||"Client",className:"w-14 h-14 rounded-2xl object-cover border-4 border-white dark:border-gray-700 shadow-lg"}),Ie?.trusted_by_app&&e.jsx("div",{className:"absolute -bottom-2 -right-2 w-6 h-6 rounded-full border-4 border-white dark:border-gray-700 flex items-center justify-center shadow-lg",style:{background:We.darkBlue},children:e.jsx(Bn,{className:"w-3 h-3 text-white"})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center gap-2 mb-1",children:e.jsxs("h3",{className:"font-bold text-xl text-gray-900 dark:text-white flex items-center gap-2",children:[he?.first_name||"N/A"," ",he?.last_name||"",he?.verified_by_admin&&e.jsx(W2,{className:"w-5 h-5",style:{color:We.teal}})]})}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["@",he?.username||"Unknown","  Booked ",Ne(pe.created_at)]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-xl border-2",style:{background:ze.bgColor,borderColor:ze.color},children:[e.jsx(rt,{className:"w-5 h-5",style:{color:ze.textColor}}),e.jsx("span",{className:"font-bold text-sm",style:{color:ze.textColor},children:ze.label})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-4",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-3 border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"p-2 rounded-lg",style:{background:We.tealDim},children:e.jsx(yg,{className:"w-4 h-4",style:{color:We.teal}})}),e.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:"Rental Period"})]}),e.jsxs("div",{className:"space-y-1.5 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Start:"}),e.jsx("span",{className:"font-semibold",children:fe(pe.start_datetime)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"End:"}),e.jsx("span",{className:"font-semibold",children:fe(pe.end_datetime)})]}),e.jsxs("div",{className:"flex justify-between pt-1.5 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),e.jsxs("span",{className:"font-bold",style:{color:We.teal},children:[ne(pe.start_datetime,pe.end_datetime)," days"]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-3 border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"p-2 rounded-lg",style:{background:We.limeGreenDim},children:e.jsx(Bs,{className:"w-4 h-4",style:{color:We.limeGreen}})}),e.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:"Payment Details"})]}),e.jsxs("div",{className:"space-y-1.5 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total (client paid):"}),e.jsxs("span",{className:"font-bold text-lg",style:{color:We.limeGreen},children:["$",pe.total_booking_price??"0.00"]})]}),pe.app_fees_amount!=null&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"App fee:"}),e.jsxs("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:["$",pe.app_fees_amount]})]}),e.jsxs("div",{className:"flex justify-between pt-1.5 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Your net:"}),e.jsxs("span",{className:"font-bold",style:{color:We.teal},children:["$",(parseFloat(pe.total_booking_price||0)-(pe.app_fees_amount||0)).toFixed(2)]})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Pickup:"}),e.jsx("span",{className:"font-semibold text-right truncate max-w-[160px]",children:pe.pickup_location||"N/A"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Dropoff:"}),e.jsx("span",{className:"font-semibold text-right truncate max-w-[160px]",children:pe.dropoff_location||"N/A"})]})]})]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 mb-4",children:[{label:"Email",value:he?.email,icon:Nr},{label:"Phone",value:he?.phone_number,icon:Gr},{label:"City",value:he?.city,icon:bs},{label:"Profession",value:Ie?.profession,icon:Rc}].map((yt,dt)=>e.jsxs("div",{className:"bg-white dark:bg-gray-700 p-2.5 rounded-xl shadow-sm border border-gray-200 dark:border-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[e.jsx(yt.icon,{className:"w-3 h-3 text-gray-400"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:yt.label})]}),e.jsx("p",{className:"font-semibold text-sm truncate text-gray-800 dark:text-gray-200",children:yt.value||"N/A"})]},dt))}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 mb-4",children:[{label:"Age",value:Ie?.age},{label:"Gender",value:he?.gender},{label:"Salary",value:Ie?.avg_salary},{label:"License",value:Ie?.license_number}].map((yt,dt)=>e.jsxs("div",{className:"bg-white dark:bg-gray-700 p-2.5 rounded-xl shadow-sm border border-gray-200 dark:border-gray-600",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:yt.label}),e.jsx("p",{className:"font-semibold text-sm truncate text-gray-800 dark:text-gray-200",children:yt.value||"N/A"})]},dt))}),Ie?.average_rating&&e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-2 rounded-xl mb-4 border",style:{background:We.limeGreenDim,borderColor:We.limeGreen},children:[e.jsx(Ys,{className:"w-5 h-5 fill-current",style:{color:We.limeGreen}}),e.jsxs("span",{className:"font-bold",style:{color:We.limeGreen},children:[Ie.average_rating," Average Rating"]})]}),pe.client_rating&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-xl mb-4 border",style:{background:We.limeGreenDim,borderColor:We.limeGreen},children:[e.jsx($a,{className:"w-5 h-5",style:{color:We.limeGreen}}),e.jsx("span",{className:"font-semibold",style:{color:We.limeGreen},children:"Rating submitted"})]}),!pe.client_rating&&H(pe)&&e.jsx("div",{className:"pt-3 border-t border-gray-200 dark:border-gray-700 mb-4",children:e.jsxs(Ve.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:yt=>{yt.stopPropagation(),L(pe)},className:"flex items-center justify-center gap-2 py-2.5 px-4 rounded-xl font-bold text-white shadow-lg hover:shadow-xl transition-all w-full sm:w-auto",style:{background:`linear-gradient(135deg, ${We.teal}, ${We.darkBlue})`},children:[e.jsx(Ys,{className:"w-5 h-5"}),"Rate client"]})}),pe.booking_request_status==="pending"&&e.jsxs("div",{className:"flex gap-2.5 pt-3 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs(Ve.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:yt=>{yt.stopPropagation(),re(pe.id)},disabled:u===pe.id,className:"flex-1 py-2.5 px-4 rounded-xl font-bold flex items-center justify-center gap-2 transition-all text-white shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",style:{background:`linear-gradient(135deg, ${We.limeGreen}, ${We.teal})`},children:[e.jsx(Jn,{className:"w-5 h-5"}),u===pe.id?"Processing...":"Accept Booking"]}),e.jsxs(Ve.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:yt=>{yt.stopPropagation(),te(pe.id)},disabled:u===pe.id,className:"flex-1 py-2.5 px-4 rounded-xl font-bold flex items-center justify-center gap-2 transition-all bg-gradient-to-r from-red-500 to-rose-500 hover:from-red-600 hover:to-rose-600 text-white shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(tr,{className:"w-5 h-5"}),u===pe.id?"Processing...":"Reject Booking"]})]})]},pe.id)})})})]})})}),e.jsx(Va,{open:!!G,onOpenChange:pe=>!pe&&$(),children:e.jsxs(Ra,{className:"sm:max-w-md bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700",children:[e.jsx(Ma,{children:e.jsxs(Pa,{className:"flex items-center gap-2",style:{color:We.darkBlue},children:[e.jsx(Ys,{className:"w-5 h-5",style:{color:We.teal}}),"Rate client",G?.client&&e.jsxs("span",{className:"font-normal text-gray-600 dark:text-gray-400",children:[" ",G.client.first_name," ",G.client.last_name]})]})}),e.jsxs("div",{className:"space-y-4 pt-2",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Rating ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(pe=>e.jsx(Ve.button,{type:"button",whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>M(Ce=>({...Ce,rating:pe})),className:`p-2 rounded-lg border-2 transition-colors ${F.rating>=pe?"border-amber-400 bg-amber-50 dark:bg-amber-900/20":"border-gray-200 dark:border-gray-600 hover:border-amber-300"}`,children:e.jsx(Ys,{className:`w-6 h-6 ${F.rating>=pe?"fill-amber-400 text-amber-400":"text-gray-400"}`})},pe))})]}),T.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Tags (optional)"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:T.map(pe=>e.jsx("button",{type:"button",onClick:()=>z(pe.id),className:`px-3 py-1.5 rounded-full text-sm font-medium border-2 transition-colors ${F.template_selections.includes(pe.id)?"border-teal-500 bg-teal-50 dark:bg-teal-900/30 text-teal-700 dark:text-teal-300":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`,style:F.template_selections.includes(pe.id)?{borderColor:We.teal,background:We.tealDim,color:We.teal}:{},children:pe.label},pe.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Comment (optional, max 1000 characters)"}),e.jsx("textarea",{value:F.comment,onChange:pe=>M(Ce=>({...Ce,comment:pe.target.value.slice(0,1e3)})),placeholder:"e.g. Very good renter. Would rent to again.",rows:3,className:"w-full px-3 py-2 rounded-xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-teal-500 focus:border-teal-500"}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[F.comment.length,"/1000"]})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx(Ve.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:$,className:"flex-1 py-2.5 px-4 rounded-xl font-semibold border-2 border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancel"}),e.jsx(Ve.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:ie,disabled:J||F.rating<1,className:"flex-1 py-2.5 px-4 rounded-xl font-bold text-white shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",style:{background:`linear-gradient(135deg, ${We.teal}, ${We.darkBlue})`},children:J?"Submitting":"Submit rating"})]})]})]})})]})})}const uee=[{name:"Instagram",url:"https://www.instagram.com/rentolebanon/?hl=en",icon:JT,gradient:"from-pink-500 to-purple-500"},{name:"Facebook",url:"https://www.facebook.com/profile.php?id=61585450048575",icon:XT,gradient:"from-pink-500 to-purple-500"},{name:"Twitter / X",url:"https://x.com/RENTO_lb",icon:lD,gradient:"from-blue-500 to-cyan-500"},{name:"LinkedIn",url:"https://www.linkedin.com/company/rento-lb/about/",icon:tD,gradient:"from-blue-700 to-blue-500"},{name:"Pinterest",url:"https://www.pinterest.com/rento1065/",icon:Y2,gradient:"from-red-500 to-rose-500"},{name:"Tiktok",url:"https://www.tiktok.com/@rentolebanon",icon:Y2,gradient:"from-black-500 to-white-500"},{name:"YouTube",url:"https://www.youtube.com/channel/UCW1dt_Y0qq0oczELUoGDI7Q",icon:dz,gradient:"from-red-600 to-red-400"}];function hee(){return e.jsxs("div",{className:"min-h-screen bg-white dark:bg-gradient-to-br dark:from-gray-950 dark:via-gray-900 dark:to-teal-950 py-20 px-4",children:[e.jsxs("div",{className:"container mx-auto max-w-4xl text-center mb-16",children:[e.jsx(Me,{className:"mb-6 bg-gradient-to-r from-teal-500 to-cyan-500 text-white border-0 px-6 py-2 text-sm font-bold shadow-lg",children:"Official Rento LB Social Media"}),e.jsxs("h1",{className:"text-5xl font-black text-gray-900 dark:text-white mb-6",children:["Stay Connected With",e.jsx("span",{className:"block bg-gradient-to-r from-teal-400 via-cyan-400 to-blue-400 bg-clip-text text-transparent",children:"Rento Lebanon"})]}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Follow us on all platforms for updates, new car listings, offers, and more."})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-10 container mx-auto max-w-5xl",children:uee.map((t,s)=>e.jsx(Te,{className:"group border border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-900 hover:border-teal-500 transition-all duration-300 hover:shadow-xl hover:-translate-y-1",children:e.jsxs(Re,{className:"p-6 text-center",children:[e.jsx("div",{className:`w-24 h-24 mx-auto mb-6 rounded-2xl bg-gradient-to-br ${t.gradient} flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300`,children:e.jsx(t.icon,{className:"w-12 h-12 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-3",children:t.name}),e.jsx("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",children:e.jsxs(K,{className:"w-full bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-bold py-3 rounded-xl shadow-md hover:shadow-lg transition-all duration-300",children:["Visit Page",e.jsx(Ec,{className:"w-5 h-5 ml-2"})]})})]})},s))})]})}const mee=["Beirut","Tripoli","Sidon","Tyre","Other"],fee=["Employee","Freelancer","Business Owner","Student","Other"],pee=["Male","Female","Other","Any"],gee=()=>{const t=Ua(),[s,a]=y.useState(!1),[n,r]=y.useState(!1),[i,l]=y.useState([]),[d,u]=y.useState(null),[h,p]=y.useState(null),[f,x]=y.useState({enableAge:!1,minAge:25,maxAge:65,enableGender:!1,selectedGenders:[],enableCities:!1,selectedCities:[],enableProfessions:!1,selectedProfessions:[],enableSalary:!1,minSalary:1e3,enableRating:!1,minRating:4,verifiedByAdmin:!1,trustedByApp:!1,hasDeposit:!1});y.useEffect(()=>{v()},[]);const v=async()=>{try{const E=await xe.get("/cars"),G=E.data.cars?.data||E.data.cars||[];l(G)}catch(E){console.error("Error loading cars:",E),se.error("Failed to load cars")}},j=async E=>{try{const G=await xe.get(`/cars/${E}/qualifications`);if(G.data.qualifications){const A=G.data.qualifications,F=ee=>ee.charAt(0).toUpperCase()+ee.slice(1).toLowerCase(),M=ee=>!ee||!ee.length?[]:ee.map(Y=>F(Y)),J=ee=>!ee||!ee.length?[]:ee.map(Y=>F(Y)),R=ee=>!ee||!ee.length?[]:ee.map(Y=>Y.split("_").map(re=>F(re)).join(" "));x({enableAge:!!(A.min_age||A.max_age),minAge:A.min_age||25,maxAge:A.max_age||65,enableGender:!!(A.gender&&A.gender.length),selectedGenders:M(A.gender),enableCities:!!(A.required_cities&&A.required_cities.length),selectedCities:J(A.required_cities),enableProfessions:!!(A.professions&&A.professions.length),selectedProfessions:R(A.professions),enableSalary:!!A.min_salary,minSalary:A.min_salary||1e3,enableRating:!!A.min_rating,minRating:A.min_rating||4,verifiedByAdmin:A.verified_by_admin||!1,trustedByApp:A.trusted_by_app||!1,hasDeposit:A.has_deposit||!1}),setTimeout(()=>k(),100)}}catch(G){console.error("Error loading qualifications:",G),G.response?.status===404&&console.info("Qualifications endpoint not available for this car")}},w=E=>{const G=i.find(A=>A.id===parseInt(E));u(G),p(null),G?j(G.id):x({enableAge:!1,minAge:25,maxAge:65,enableGender:!1,selectedGenders:[],enableCities:!1,selectedCities:[],enableProfessions:!1,selectedProfessions:[],enableSalary:!1,minSalary:1e3,enableRating:!1,minRating:4,verifiedByAdmin:!1,trustedByApp:!1,hasDeposit:!1})},_=(E,G)=>{x(A=>{const F=A[G];return F.includes(E)?{...A,[G]:F.filter(M=>M!==E)}:{...A,[G]:[...F,E]}})},N=()=>{const E={};return f.enableAge&&(f.minAge&&(E.min_age=parseInt(f.minAge)),f.maxAge&&(E.max_age=parseInt(f.maxAge))),f.enableGender&&f.selectedGenders.length&&(E.gender=f.selectedGenders.map(G=>G.toLowerCase())),f.enableCities&&f.selectedCities.length&&(E.required_cities=f.selectedCities.map(G=>G.toLowerCase())),f.enableProfessions&&f.selectedProfessions.length&&(E.professions=f.selectedProfessions.map(G=>G.toLowerCase().replace(/ /g,"_"))),f.enableSalary&&f.minSalary&&(E.min_salary=parseInt(f.minSalary)),f.enableRating&&f.minRating&&(E.min_rating=parseFloat(f.minRating)),f.verifiedByAdmin&&(E.verified_by_admin=!0),f.trustedByApp&&(E.trusted_by_app=!0),f.hasDeposit&&(E.has_deposit=!0),E},k=async()=>{const E=N();r(!0);try{const G=await xe.post("/cars/qualifications/preview",E);p(G.data)}catch(G){console.error("Preview error:",G),se.error("Failed to preview qualifications")}finally{r(!1)}},D=async E=>{if(E.preventDefault(),!d){se.error("Please select a car first");return}const G=N();a(!0);try{await xe.post(`/cars/${d.id}/qualifications`,G),se.success("Qualifications saved successfully!")}catch(A){console.error("Save error:",A);const F=A.response?.data?.message||"Failed to save qualifications";se.error(F)}finally{a(!1)}},T=async()=>{if(!d){se.error("Please select a car first");return}if(confirm("Clear all qualifications for this car? It will be visible to all clients."))try{await xe.delete(`/cars/${d.id}/qualifications`),se.success("Qualifications cleared successfully!"),x({enableAge:!1,minAge:25,maxAge:65,enableGender:!1,selectedGenders:[],enableCities:!1,selectedCities:[],enableProfessions:!1,selectedProfessions:[],enableSalary:!1,minSalary:1e3,enableRating:!1,minRating:4,verifiedByAdmin:!1,trustedByApp:!1,hasDeposit:!1}),p(null)}catch(E){console.error("Clear error:",E),se.error("Failed to clear qualifications")}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-teal-50/30 to-cyan-50/30 dark:from-gray-950 dark:via-teal-950/20 dark:to-cyan-950/20 pt-20",children:[e.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-teal-500/10 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-cyan-500/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"700ms"}})]}),e.jsxs("div",{className:"container mx-auto px-4 py-8 relative z-10",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxs(K,{variant:"ghost",className:"text-gray-600 dark:text-gray-400 hover:text-teal-600 dark:hover:text-teal-400 transition-colors",onClick:()=>t(-1),children:[e.jsx(xi,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),e.jsxs(K,{variant:"secondary",className:"text-gray-600 dark:text-gray-400 hover:text-teal-600 dark:hover:text-teal-400 transition-colors",onClick:()=>t("/agent/cars"),children:[e.jsx(zt,{className:"w-4 h-4 mr-2"}),"Go to Cars Page"]})]}),e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-teal-500 to-cyan-500 flex items-center justify-center shadow-lg",children:e.jsx(Bn,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-black text-gray-900 dark:text-white",children:"Set Car Qualifications"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Control who can see and book your vehicles"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsx(Te,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:e.jsxs(Re,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center",children:e.jsx(zt,{className:"w-6 h-6 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Select Car"})]}),e.jsxs("select",{value:d?.id||"",onChange:E=>w(E.target.value),className:"w-full h-14 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl px-4 bg-white dark:bg-gray-900 text-lg font-medium transition-colors",children:[e.jsx("option",{value:"",children:"-- Select a car --"}),i.map(E=>e.jsxs("option",{value:E.id,children:[E.make," ",E.model," (",E.year,") - ",E.license_plate]},E.id))]}),d&&e.jsx("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:e.jsxs("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:["Selected: ",d.make," ",d.model," - Daily Rate: $",d.daily_rate]})})]})}),e.jsxs("form",{onSubmit:D,className:"space-y-6",children:[e.jsx(Te,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:e.jsxs(Re,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("input",{type:"checkbox",id:"enableAge",checked:f.enableAge,onChange:E=>x({...f,enableAge:E.target.checked}),className:"w-6 h-6 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500 cursor-pointer"}),e.jsx(Rs,{className:"w-6 h-6 text-teal-600"}),e.jsx("label",{htmlFor:"enableAge",className:"text-xl font-bold text-gray-900 dark:text-white cursor-pointer",children:"Age Requirement"})]}),f.enableAge&&e.jsxs("div",{className:"grid grid-cols-2 gap-6 ml-9",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Minimum Age"}),e.jsx(oe,{type:"number",min:"18",max:"100",placeholder:"e.g., 25",value:f.minAge,onChange:E=>x({...f,minAge:E.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Maximum Age"}),e.jsx(oe,{type:"number",min:"18",max:"100",placeholder:"e.g., 65",value:f.maxAge,onChange:E=>x({...f,maxAge:E.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]})]})]})}),e.jsx(Te,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:e.jsxs(Re,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("input",{type:"checkbox",id:"enableGender",checked:f.enableGender,onChange:E=>x({...f,enableGender:E.target.checked}),className:"w-6 h-6 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500 cursor-pointer"}),e.jsx(fs,{className:"w-6 h-6 text-teal-600"}),e.jsx("label",{htmlFor:"enableGender",className:"text-xl font-bold text-gray-900 dark:text-white cursor-pointer",children:"Gender Restriction"})]}),f.enableGender&&e.jsx("div",{className:"flex flex-wrap gap-3 ml-9",children:pee.map(E=>e.jsxs(Me,{onClick:()=>_(E,"selectedGenders"),className:`cursor-pointer px-4 py-2 text-sm transition-all duration-300 ${f.selectedGenders.includes(E)?"bg-gradient-to-r from-teal-600 to-cyan-600 text-white hover:from-teal-700 hover:to-cyan-700":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[f.selectedGenders.includes(E)&&e.jsx(Rn,{className:"w-3 h-3 mr-1"}),E]},E))})]})}),e.jsx(Te,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:e.jsxs(Re,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("input",{type:"checkbox",id:"enableCities",checked:f.enableCities,onChange:E=>x({...f,enableCities:E.target.checked}),className:"w-6 h-6 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500 cursor-pointer"}),e.jsx(bs,{className:"w-6 h-6 text-teal-600"}),e.jsx("label",{htmlFor:"enableCities",className:"text-xl font-bold text-gray-900 dark:text-white cursor-pointer",children:"City Restriction"})]}),f.enableCities&&e.jsx("div",{className:"flex flex-wrap gap-3 ml-9",children:mee.map(E=>e.jsxs(Me,{onClick:()=>_(E,"selectedCities"),className:`cursor-pointer px-4 py-2 text-sm transition-all duration-300 ${f.selectedCities.includes(E)?"bg-gradient-to-r from-cyan-600 to-blue-600 text-white hover:from-cyan-700 hover:to-blue-700":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[f.selectedCities.includes(E)&&e.jsx(Rn,{className:"w-3 h-3 mr-1"}),E]},E))})]})}),e.jsx(Te,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:e.jsxs(Re,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("input",{type:"checkbox",id:"enableProfessions",checked:f.enableProfessions,onChange:E=>x({...f,enableProfessions:E.target.checked}),className:"w-6 h-6 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500 cursor-pointer"}),e.jsx(Rc,{className:"w-6 h-6 text-teal-600"}),e.jsx("label",{htmlFor:"enableProfessions",className:"text-xl font-bold text-gray-900 dark:text-white cursor-pointer",children:"Profession Restriction"})]}),f.enableProfessions&&e.jsx("div",{className:"flex flex-wrap gap-3 ml-9",children:fee.map(E=>e.jsxs(Me,{onClick:()=>_(E,"selectedProfessions"),className:`cursor-pointer px-4 py-2 text-sm transition-all duration-300 ${f.selectedProfessions.includes(E)?"bg-gradient-to-r from-teal-500 to-cyan-500 text-white hover:from-teal-600 hover:to-cyan-600":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[f.selectedProfessions.includes(E)&&e.jsx(Rn,{className:"w-3 h-3 mr-1"}),E]},E))})]})}),e.jsx(Te,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:e.jsxs(Re,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("input",{type:"checkbox",id:"enableSalary",checked:f.enableSalary,onChange:E=>x({...f,enableSalary:E.target.checked}),className:"w-6 h-6 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500 cursor-pointer"}),e.jsx(Bs,{className:"w-6 h-6 text-amber-600"}),e.jsx("label",{htmlFor:"enableSalary",className:"text-xl font-bold text-gray-900 dark:text-white cursor-pointer",children:"Minimum Salary"})]}),f.enableSalary&&e.jsxs("div",{className:"ml-9",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Monthly Salary (USD)"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 font-bold",children:"$"}),e.jsx(oe,{type:"number",min:"0",step:"100",placeholder:"e.g., 1000",value:f.minSalary,onChange:E=>x({...f,minSalary:E.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl pl-8"})]})]})]})}),e.jsx(Te,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:e.jsxs(Re,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("input",{type:"checkbox",id:"enableRating",checked:f.enableRating,onChange:E=>x({...f,enableRating:E.target.checked}),className:"w-6 h-6 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500 cursor-pointer"}),e.jsx(Ys,{className:"w-6 h-6 text-yellow-500"}),e.jsx("label",{htmlFor:"enableRating",className:"text-xl font-bold text-gray-900 dark:text-white cursor-pointer",children:"Minimum Rating"})]}),f.enableRating&&e.jsxs("div",{className:"ml-9",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Rating (0 to 5 stars)"}),e.jsx(oe,{type:"number",min:"0",max:"5",step:"0.1",placeholder:"e.g., 4.0",value:f.minRating,onChange:E=>x({...f,minRating:E.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]})]})}),e.jsx(Te,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:e.jsxs(Re,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(Bn,{className:"w-6 h-6 text-green-600"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Verification Requirements"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-center gap-3 p-4 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:f.verifiedByAdmin,onChange:E=>x({...f,verifiedByAdmin:E.target.checked}),className:"w-5 h-5 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Must be verified by admin"})]}),e.jsxs("label",{className:"flex items-center gap-3 p-4 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:f.trustedByApp,onChange:E=>x({...f,trustedByApp:E.target.checked}),className:"w-5 h-5 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Must be trusted by app"})]}),e.jsxs("label",{className:"flex items-center gap-3 p-4 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:f.hasDeposit,onChange:E=>x({...f,hasDeposit:E.target.checked}),className:"w-5 h-5 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Must have deposit on account"})]})]})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs(K,{type:"button",variant:"outline",size:"lg",onClick:k,disabled:!d||n,className:"flex-1 px-8 py-6 rounded-xl border-2 border-teal-500 text-teal-600 hover:bg-teal-50 dark:hover:bg-teal-950",children:[e.jsx(sa,{className:"w-5 h-5 mr-2"}),n?"Loading...":"Preview Results"]}),e.jsxs(K,{type:"submit",size:"lg",disabled:!d||s,className:"flex-1 px-8 py-6 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-bold rounded-xl shadow-lg hover:shadow-xl transition-all duration-300",children:[e.jsx(Rn,{className:"w-5 h-5 mr-2"}),s?"Saving...":"Save Qualifications"]})]}),e.jsxs(K,{type:"button",variant:"outline",size:"lg",onClick:T,disabled:!d,className:"w-full px-8 py-6 rounded-xl border-2 border-red-300 dark:border-red-700 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-950",children:[e.jsx(tr,{className:"w-5 h-5 mr-2"}),"Clear All Requirements"]})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx(Te,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg sticky top-6",children:e.jsxs(Re,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-teal-500 to-cyan-500 flex items-center justify-center",children:e.jsx(fs,{className:"w-6 h-6 text-white"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Qualified Clients"})]}),n&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-teal-500 border-t-transparent"}),e.jsx("p",{className:"mt-4 text-sm text-gray-600 dark:text-gray-400",children:"Calculating..."})]}),!n&&!h&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(fs,{className:"w-20 h-20 mx-auto text-gray-300 dark:text-gray-700 mb-4"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:'Set requirements and click "Preview Results" to see how many clients qualify'})]}),!n&&h&&e.jsxs("div",{children:[e.jsxs("div",{className:"text-center mb-6 p-8 bg-gradient-to-br from-teal-50 to-cyan-50 dark:from-teal-950/30 dark:to-cyan-950/30 rounded-2xl border-2 border-teal-200 dark:border-teal-800",children:[e.jsxs("div",{className:"text-6xl font-black bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent mb-2",children:[h.percentage,"%"]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2 font-medium",children:"of clients qualify"}),e.jsxs("div",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:[h.qualified_clients," / ",h.total_clients]})]}),h.breakdown&&Object.keys(h.breakdown).length>0&&e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wide mb-3",children:"Breakdown by Requirement"}),Object.entries(h.breakdown).map(([E,G])=>{const A=E.replace(/_/g," ").replace(/\b\w/g,F=>F.toUpperCase());return e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[A,":"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:G.qualified}),e.jsxs(Me,{className:"bg-teal-100 dark:bg-teal-900 text-teal-700 dark:text-teal-300",children:[G.percentage,"%"]})]})]},E)})]}),h.percentage<10&&e.jsx("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 border-2 border-yellow-200 dark:border-yellow-800 rounded-xl",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(qd,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-yellow-800 dark:text-yellow-200 mb-1",children:"Warning: Very Restrictive"}),e.jsx("p",{className:"text-xs text-yellow-700 dark:text-yellow-300",children:"Very few clients qualify. Consider relaxing some requirements to increase visibility."})]})]})}),h.percentage>=10&&h.percentage<30&&e.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 border-2 border-blue-200 dark:border-blue-800 rounded-xl",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(qd,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-blue-800 dark:text-blue-200 mb-1",children:"Selective Requirements"}),e.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:"Your requirements are quite selective. This can help ensure quality bookings."})]})]})}),h.percentage>=30&&e.jsx("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 border-2 border-green-200 dark:border-green-800 rounded-xl",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Rn,{className:"w-5 h-5 text-green-600 dark:text-green-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-green-800 dark:text-green-200 mb-1",children:"Good Balance"}),e.jsx("p",{className:"text-xs text-green-700 dark:text-green-300",children:"Your requirements allow good visibility while maintaining quality standards."})]})]})})]})]})})})]})]})]})},Jt={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640"};function xee(){const t=Ua(),[s,a]=y.useState(null),[n,r]=y.useState({totalCars:0,activeBookings:0,pendingBookings:0,confirmedBookings:0,totalRevenue:0,totalViews:0,totalClicks:0,totalSearches:0,avgViewsPerCar:0,topViewedCar:null,topClickedCar:null,topSearchedCar:null}),[i,l]=y.useState([]),[d,u]=y.useState([]),[h,p]=y.useState(null),[f,x]=y.useState(!0),[v,j]=y.useState(!1),[w,_]=y.useState(!1),[N,k]=y.useState(!1);y.useEffect(()=>{const R=localStorage.getItem("theme"),ee=window.matchMedia("(prefers-color-scheme: dark)").matches,Y=R==="dark"||!R&&ee;k(Y),document.documentElement.classList.toggle("dark",Y)},[]);const D=()=>{const R=!N;k(R),document.documentElement.classList.toggle("dark",R),localStorage.setItem("theme",R?"dark":"light")},T=async()=>{x(!0),j(!1);try{const[R,ee,Y]=await Promise.all([xe.get("/cars/agent/Mycars"),xe.get("/driver/bookings"),lP().catch(()=>({data:null}))]),re=R.data.cars?.data||[],te=ee.data.data||[];p(Y?.data??null);const V=re.reduce((Se,Ge)=>Se+(Ge.views_count||0),0),U=re.reduce((Se,Ge)=>Se+(Ge.clicks_count||0),0),H=re.reduce((Se,Ge)=>Se+(Ge.search_count||0),0),L=re.length>0?Math.round(V/re.length):0,$=re.length?re.reduce((Se,Ge)=>(Ge.views_count||0)>(Se?.views_count||0)?Ge:Se,re[0]):null,z=re.length?re.reduce((Se,Ge)=>(Ge.clicks_count||0)>(Se?.clicks_count||0)?Ge:Se,re[0]):null,ie=re.length?re.reduce((Se,Ge)=>(Ge.search_count||0)>(Se?.search_count||0)?Ge:Se,re[0]):null,le=te.filter(Se=>["pending","confirmed","arrived","started"].includes(Se.booking_request_status)),ne=te.filter(Se=>Se.booking_request_status==="pending"),fe=te.filter(Se=>Se.booking_request_status==="confirmed"),Ne=te.filter(Se=>Se.booking_request_status==="confirmed").reduce((Se,Ge)=>Se+parseFloat(Ge.total_booking_price||0),0);r({totalCars:R.data.cars?.total||re.length,activeBookings:le.length,pendingBookings:ne.length,confirmedBookings:fe.length,totalRevenue:Ne,totalViews:V,totalClicks:U,totalSearches:H,avgViewsPerCar:L,topViewedCar:$,topClickedCar:z,topSearchedCar:ie});const ye=[...re].sort((Se,Ge)=>(Ge.views_count||0)+(Ge.clicks_count||0)*2+(Ge.search_count||0)-((Se.views_count||0)+(Se.clicks_count||0)*2+(Se.search_count||0))).slice(0,3).map(Se=>({id:Se.id,name:`${Se.make} ${Se.model}`,image:Se.main_image_url,views:Se.views_count||0,clicks:Se.clicks_count||0,searches:Se.search_count||0,dailyRate:Se.daily_rate,category:Se.car_category}));u(ye);const Le=te.sort((Se,Ge)=>new Date(Ge.created_at)-new Date(Se.created_at)).slice(0,8).map(Se=>{const Ge={pending:"New booking request received",confirmed:"Booking confirmed",cancelled:"Booking cancelled",completed:"Trip completed successfully",arrived:"Driver arrived",started:"Ride in progress"},nt=Se.car?`${Se.car.make} ${Se.car.model}`:"Unknown Car",Ae=Se.client?`${Se.client.first_name} ${Se.client.last_name}`:"Unknown Client";return{message:Ge[Se.booking_request_status]||"Status updated",car:nt,client:Ae,time:new Date(Se.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),date:new Date(Se.created_at).toLocaleDateString([],{month:"short",day:"numeric"}),status:Se.booking_request_status,amount:Se.total_booking_price,location:Se.pickup_location||"N/A"}});l(Le.length?Le:[{message:"No recent activity",time:"",isEmpty:!0}])}catch(R){console.error("Dashboard error:",R),j(!0),se.error("Failed to load dashboard data.")}finally{x(!1)}};y.useEffect(()=>{const R=JSON.parse(localStorage.getItem("user"));R&&a(R),T()},[]);const E=async()=>{try{await xe.post("/logout")}catch{}localStorage.clear(),t("/auth")},G=[{title:"Add New Car",icon:Gs,href:"/add-car",color:Jt.teal,description:"List a new vehicle"},{title:"My Fleet",icon:zt,href:"/Mycars",color:Jt.darkBlue,description:"Manage your cars"},{title:"Bookings",icon:Wj,href:"/Mycars-bookings",color:Jt.limeGreen,description:"View all bookings"},{title:"Analytics",icon:bl,href:"/statistic",color:Jt.teal,description:"View statistics"},{title:"Balance",icon:Ng,href:"/Balance",color:Jt.limeGreen,description:"Earnings & app fees"}],A=R=>{const ee={pending:{color:"bg-amber-500",icon:Rv,label:"Pending",bgColor:"bg-amber-500/10",textColor:"text-amber-600 dark:text-amber-400"},confirmed:{color:"bg-blue-500",icon:$a,label:"Confirmed",bgColor:"bg-blue-500/10",textColor:"text-blue-600 dark:text-blue-400"},cancelled:{color:"bg-gray-500",icon:tr,label:"Cancelled",bgColor:"bg-gray-500/10",textColor:"text-gray-600 dark:text-gray-400"},completed:{color:"bg-emerald-500",icon:$a,label:"Completed",bgColor:"bg-emerald-500/10",textColor:"text-emerald-600 dark:text-emerald-400"},arrived:{color:"bg-cyan-500",icon:bs,label:"Arrived",bgColor:"bg-cyan-500/10",textColor:"text-cyan-600 dark:text-cyan-400"},started:{color:"bg-purple-500",icon:_g,label:"In Progress",bgColor:"bg-purple-500/10",textColor:"text-purple-600 dark:text-purple-400"}};return ee[R]||ee.pending},F={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.08}}},M={hidden:{opacity:0,y:15},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:12}}},J=[{title:"Total Fleet",value:n.totalCars,icon:zt,color:Jt.darkBlue,change:`${n.totalCars} vehicles`,changeType:"neutral",description:"Active listings"},{title:"Total Views",value:n.totalViews.toLocaleString(),icon:sa,color:Jt.teal,change:`${n.avgViewsPerCar} avg/car`,changeType:"neutral",description:"All time views"},{title:"Total Clicks",value:n.totalClicks.toLocaleString(),icon:_c,color:Jt.limeGreen,change:"Detail opens",changeType:"neutral",description:"Car detail page opens"},{title:"Active Bookings",value:n.activeBookings,icon:tm,color:Jt.teal,change:`${n.confirmedBookings} confirmed`,changeType:"neutral",description:"Ongoing rentals"}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900",children:[e.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:[e.jsx(Ve.div,{animate:{scale:[1,1.1,1],opacity:[.06,.1,.06]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute -top-1/4 -left-1/4 w-1/3 h-1/3 rounded-full blur-3xl",style:{backgroundColor:`${Jt.darkBlue}30`}}),e.jsx(Ve.div,{animate:{scale:[1,1.15,1],opacity:[.05,.08,.05]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:2},className:"absolute top-1/2 -right-1/4 w-1/3 h-1/3 rounded-full blur-3xl",style:{backgroundColor:`${Jt.teal}30`}})]}),e.jsx("header",{className:"sticky top-0 z-50 backdrop-blur-xl bg-white/80 dark:bg-gray-900/80 border-b border-gray-200/50 dark:border-gray-800/50 shadow-sm",children:e.jsx("div",{className:"container mx-auto px-4 sm:px-6 py-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Ve.div,{whileHover:{rotate:90},transition:{duration:.3},children:e.jsx(K,{variant:"ghost",size:"icon",className:"lg:hidden h-8 w-8",children:e.jsx(aD,{className:"w-4 h-4"})})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-lg sm:text-xl md:text-2xl font-bold bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(to right, ${Jt.darkBlue}, ${Jt.teal}, ${Jt.limeGreen})`},children:["Welcome back",s?.username?`, ${s.username}`:"","!"]}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 hidden sm:block",children:"Your fleet performance dashboard"})]})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Ve.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsxs(K,{variant:"ghost",size:"icon",className:"relative h-8 w-8",onClick:()=>_(!w),children:[e.jsx(xg,{className:"w-4 h-4"}),n.pendingBookings>0&&e.jsx(Ve.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-0.5 -right-0.5 text-white text-[10px] font-bold rounded-full w-4 h-4 flex items-center justify-center shadow-lg",style:{backgroundColor:Jt.teal},children:n.pendingBookings})]})}),e.jsx(go,{children:w&&e.jsxs(Ve.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"absolute right-0 mt-2 w-80 bg-white dark:bg-gray-900 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-800 overflow-hidden",children:[e.jsxs("div",{className:"p-3 text-white",style:{background:`linear-gradient(to right, ${Jt.darkBlue}, ${Jt.teal})`},children:[e.jsx("h3",{className:"font-bold text-base",children:"Notifications"}),e.jsxs("p",{className:"text-xs opacity-90",children:[n.pendingBookings," pending actions"]})]}),e.jsx("div",{className:"max-h-80 overflow-y-auto",children:i.slice(0,5).map((R,ee)=>{const Y=A(R.status);return e.jsx("div",{className:"p-3 border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:`w-7 h-7 rounded-full ${Y.color} flex items-center justify-center flex-shrink-0`,children:e.jsx(Y.icon,{className:"w-3 h-3 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-medium text-gray-900 dark:text-gray-100",children:R.message}),e.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 truncate",children:R.car}),R.amount&&e.jsxs("p",{className:"text-[10px] font-semibold",style:{color:Jt.teal},children:["$",R.amount]}),e.jsxs("p",{className:"text-[10px] text-gray-400 dark:text-gray-500 mt-0.5",children:[R.date," at ",R.time]})]})]})},ee)})}),e.jsx("div",{className:"p-2 bg-gray-50 dark:bg-gray-800/50",children:e.jsxs(K,{variant:"ghost",className:"w-full text-xs h-8",style:{color:Jt.teal},onClick:()=>t("/Mycars-bookings"),children:["View All Bookings",e.jsx(sn,{className:"w-3 h-3 ml-1"})]})})]})})]}),e.jsx(Ve.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(K,{variant:"ghost",size:"icon",onClick:D,className:"h-8 w-8",children:N?e.jsx(vg,{className:"w-4 h-4"}):e.jsx(bg,{className:"w-4 h-4"})})}),e.jsx(Ve.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(K,{variant:"ghost",size:"icon",className:"h-8 w-8 hidden sm:flex",children:e.jsx(km,{className:"w-4 h-4"})})}),e.jsx(Ve.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(K,{variant:"ghost",size:"icon",onClick:E,className:"h-8 w-8 hover:bg-red-50 dark:hover:bg-red-950/30 text-red-600 dark:text-red-400",children:e.jsx(yl,{className:"w-4 h-4"})})})]})]})})}),e.jsxs("main",{className:"container mx-auto px-4 sm:px-6 py-6 max-w-7xl relative z-10",children:[f&&e.jsx(Ve.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",children:e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4",children:[1,2,3,4].map(R=>e.jsx(Te,{className:"overflow-hidden",children:e.jsx(Re,{className:"p-3 md:p-4",children:e.jsxs("div",{className:"animate-pulse space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("div",{className:"h-9 w-9 bg-gray-200 dark:bg-gray-700 rounded-lg"}),e.jsx("div",{className:"h-4 w-12 bg-gray-200 dark:bg-gray-700 rounded-full"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"h-3 w-20 bg-gray-200 dark:bg-gray-700 rounded"}),e.jsx("div",{className:"h-6 w-14 bg-gray-300 dark:bg-gray-600 rounded"})]})]})})},R))})}),!f&&v&&e.jsxs(Ve.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-16",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-red-100 dark:bg-red-900/20 mb-4",children:e.jsx(pl,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Unable to Load Dashboard"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Please try again."}),e.jsxs(K,{onClick:T,className:"text-white",style:{background:`linear-gradient(to right, ${Jt.darkBlue}, ${Jt.teal})`},children:[e.jsx(tm,{className:"w-4 h-4 mr-2"}),"Retry"]})]}),!f&&!v&&e.jsxs(Ve.div,{variants:F,initial:"hidden",animate:"visible",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4",children:[J.map((R,ee)=>e.jsx(Ve.div,{variants:M,whileHover:{y:-4,transition:{duration:.2}},children:e.jsxs(Te,{className:"relative overflow-hidden group hover:shadow-xl transition-all duration-300 border-0 bg-white dark:bg-gray-900",children:[e.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-10 transition-opacity duration-300",style:{backgroundColor:R.color}}),e.jsxs(Re,{className:"p-3 md:p-4 relative",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("div",{className:"w-9 h-9 md:w-10 md:h-10 rounded-lg p-2 shadow-md group-hover:scale-110 transition-transform duration-300",style:{backgroundColor:R.color},children:e.jsx(R.icon,{className:"w-full h-full text-white"})}),e.jsx("div",{className:`flex items-center gap-0.5 px-1.5 py-0.5 rounded-full text-[10px] font-semibold
                          ${R.changeType==="up"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":""}
                          ${R.changeType==="neutral"?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":""}
                        `,children:R.change})]}),e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("p",{className:"text-[10px] md:text-xs font-medium text-gray-600 dark:text-gray-400",children:R.title}),e.jsx("p",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-white tracking-tight",children:R.value}),e.jsx("p",{className:"text-[9px] md:text-[10px] text-gray-500 dark:text-gray-500",children:R.description})]}),e.jsx("div",{className:"absolute -bottom-2 -right-2 w-20 h-20 rounded-full blur-2xl opacity-5 group-hover:opacity-20 transition-opacity duration-300",style:{backgroundColor:R.color}})]})]})},ee)),h!=null&&e.jsx(Ve.div,{variants:M,children:e.jsxs(Te,{className:"relative overflow-hidden group hover:shadow-xl transition-all duration-300 border-0 bg-white dark:bg-gray-900 cursor-pointer",onClick:()=>t("/Balance"),children:[e.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-10 transition-opacity duration-300",style:{backgroundColor:Jt.limeGreen}}),e.jsxs(Re,{className:"p-3 md:p-4 relative",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("div",{className:"w-9 h-9 md:w-10 md:h-10 rounded-lg p-2 shadow-md group-hover:scale-110 transition-transform duration-300",style:{backgroundColor:Jt.limeGreen},children:e.jsx(Ng,{className:"w-full h-full text-white"})}),e.jsx("span",{className:"text-[10px] font-semibold bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400 px-1.5 py-0.5 rounded-full",children:"Net earnings"})]}),e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("p",{className:"text-[10px] md:text-xs font-medium text-gray-600 dark:text-gray-400",children:"Your earnings"}),e.jsxs("p",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-white tracking-tight",children:["$",(parseFloat(h?.net_earnings)||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),e.jsx("p",{className:"text-[9px] md:text-[10px] text-gray-500 dark:text-gray-500",children:"View balance "})]})]})]})})]}),e.jsxs(Ve.div,{variants:M,children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-white",children:"Quick Actions"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-0.5",children:"Manage your fleet"})]})}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4",children:G.map((R,ee)=>e.jsx(Ve.div,{variants:M,whileHover:{scale:1.02,y:-3},whileTap:{scale:.98},children:e.jsx("a",{href:R.href,className:"block group",children:e.jsxs(Te,{className:"relative overflow-hidden hover:shadow-xl transition-all duration-300 border-0 h-full",children:[e.jsx("div",{className:"absolute inset-0 opacity-5 group-hover:opacity-15 transition-opacity duration-300",style:{backgroundColor:R.color}}),e.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"})}),e.jsxs(Re,{className:"p-4 md:p-6 text-center relative",children:[e.jsxs("div",{className:"relative mb-3 inline-block",children:[e.jsx("div",{className:"w-12 h-12 md:w-14 md:h-14 rounded-xl p-3 shadow-lg group-hover:shadow-xl group-hover:scale-110 transition-all duration-300",style:{backgroundColor:R.color},children:e.jsx(R.icon,{className:"w-full h-full text-white"})}),e.jsx("div",{className:"absolute inset-0 rounded-xl blur-lg opacity-0 group-hover:opacity-50 transition-opacity duration-300",style:{backgroundColor:R.color}})]}),e.jsx("h4",{className:"text-sm md:text-base font-bold text-gray-900 dark:text-white mb-1",children:R.title}),e.jsx("p",{className:"text-[10px] md:text-xs text-gray-600 dark:text-gray-400",children:R.description}),e.jsxs("div",{className:"mt-2 flex items-center justify-center gap-1 opacity-0 group-hover:opacity-100 transition-all duration-300 transform translate-y-1 group-hover:translate-y-0",style:{color:R.color},children:[e.jsx("span",{className:"text-xs font-semibold",children:"Go"}),e.jsx(sn,{className:"w-3 h-3"})]})]})]})})},ee))})]}),d.length>0&&e.jsxs(Ve.div,{variants:M,children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-white",children:"Top Performing Cars"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-0.5",children:"Views, clicks & search count"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-3 md:gap-4",children:d.map((R,ee)=>e.jsx(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*ee},whileHover:{y:-4},children:e.jsx(Te,{className:"overflow-hidden hover:shadow-xl transition-all duration-300 border-0",children:e.jsxs(Re,{className:"p-0",children:[e.jsxs("div",{className:"relative h-32 bg-gray-100 dark:bg-gray-800",children:[e.jsx("img",{src:`/api/storage/${R.image}`,alt:R.name,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),e.jsx(Me,{className:"absolute top-2 right-2 text-white border-0",style:{backgroundColor:Jt.teal},children:R.category})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h4",{className:"font-bold text-sm mb-2 text-gray-900 dark:text-white truncate",children:R.name}),e.jsxs("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1.5 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1",style:{color:Jt.teal},title:"Views (impressions)",children:[e.jsx(sa,{className:"w-3 h-3 shrink-0"}),e.jsx("span",{className:"font-semibold",children:R.views})]}),e.jsxs("div",{className:"flex items-center gap-1",style:{color:Jt.limeGreen},title:"Clicks (detail opens)",children:[e.jsx(_c,{className:"w-3 h-3 shrink-0"}),e.jsx("span",{className:"font-semibold",children:R.clicks})]}),e.jsxs("div",{className:"flex items-center gap-1",style:{color:Jt.darkBlue},title:"Search count",children:[e.jsx(Ea,{className:"w-3 h-3 shrink-0"}),e.jsx("span",{className:"font-semibold",children:R.searches})]}),e.jsxs("div",{className:"font-bold ml-auto",style:{color:Jt.darkBlue},children:["$",R.dailyRate,"/day"]})]})]})]})})},R.id))})]}),h!=null&&e.jsx(Ve.div,{variants:M,children:e.jsx(Te,{className:"overflow-hidden border-0 shadow-lg cursor-pointer hover:shadow-xl transition-all",style:{background:`linear-gradient(to bottom right, ${Jt.darkBlue}, ${Jt.teal})`},onClick:()=>t("/Balance"),children:e.jsxs(Re,{className:"p-4 md:p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-bold",children:"Earnings & Balance"}),e.jsx("span",{className:"text-xs opacity-90",children:"View details "})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium opacity-90",children:"Total booking amount"}),e.jsxs("p",{className:"text-xl md:text-2xl font-bold",children:["$",(parseFloat(h.total_amount)||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium opacity-90",children:"App fees"}),e.jsxs("p",{className:"text-xl md:text-2xl font-bold",children:["$",(parseFloat(h.app_fees_amount)||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium opacity-90",children:"Your net earnings"}),e.jsxs("p",{className:"text-xl md:text-2xl font-bold",style:{color:Jt.limeGreen},children:["$",(parseFloat(h.net_earnings)||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium opacity-90",children:"From bookings"}),e.jsx("p",{className:"text-xl md:text-2xl font-bold",children:h.bookings_count??0})]})]}),h.app_fees_percentage!=null&&e.jsxs("p",{className:"text-xs mt-3 opacity-90",children:["Fee: ",h.app_fees_percentage,"%"]})]})})}),e.jsx(Ve.div,{variants:M,children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:[e.jsx(Te,{className:"overflow-hidden border-0 shadow-lg text-white",style:{background:`linear-gradient(to bottom right, ${Jt.teal}, ${Jt.limeGreen})`},children:e.jsxs(Re,{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium mb-1 opacity-90",children:"Total Revenue"}),e.jsxs("h3",{className:"text-3xl md:text-4xl font-bold",children:["$",h!=null?(parseFloat(h.total_amount)||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):n.totalRevenue.toFixed(2)]})]}),e.jsx("div",{className:"w-11 h-11 md:w-12 md:h-12 rounded-lg bg-white/20 backdrop-blur-sm p-2.5",children:e.jsx(Bs,{className:"w-full h-full"})})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-full bg-white/20 backdrop-blur-sm text-[10px] font-semibold",children:[e.jsx(bl,{className:"w-2.5 h-2.5"}),h!=null?`${h.bookings_count??0} confirmed + completed`:`${n.confirmedBookings} confirmed`," bookings"]})}),e.jsx("div",{className:"mt-4 pt-4 border-t border-white/20",children:e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"opacity-90",children:"Pending bookings"}),e.jsx("span",{className:"font-bold",children:n.pendingBookings})]})})]})}),e.jsx(Te,{className:"overflow-hidden border-0 shadow-lg text-white",style:{background:`linear-gradient(to bottom right, ${Jt.darkBlue}, ${Jt.teal})`},children:e.jsxs(Re,{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium mb-1 opacity-90",children:"Fleet Visibility"}),e.jsx("h3",{className:"text-3xl md:text-4xl font-bold",children:n.totalViews.toLocaleString()}),e.jsx("p",{className:"text-xs opacity-90 mt-0.5",children:"Total views (impressions)"})]}),e.jsx("div",{className:"w-11 h-11 md:w-12 md:h-12 rounded-lg bg-white/20 backdrop-blur-sm p-2.5",children:e.jsx(sa,{className:"w-full h-full"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"opacity-90",children:"Total clicks (detail opens)"}),e.jsx("span",{className:"font-bold",children:n.totalClicks.toLocaleString()})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"opacity-90",children:"Total searches"}),e.jsx("span",{className:"font-bold",children:n.totalSearches.toLocaleString()})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"opacity-90",children:"Avg per vehicle"}),e.jsxs("span",{className:"font-bold",children:[n.avgViewsPerCar," views"]})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-white/20 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-full bg-white/20 backdrop-blur-sm text-[10px] font-semibold w-fit",children:[e.jsx(sa,{className:"w-2.5 h-2.5"}),"Most viewed: ",n.topViewedCar?.make," ",n.topViewedCar?.model]}),e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-full bg-white/20 backdrop-blur-sm text-[10px] font-semibold w-fit",children:[e.jsx(_c,{className:"w-2.5 h-2.5"}),"Most clicked: ",n.topClickedCar?.make," ",n.topClickedCar?.model]}),e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-full bg-white/20 backdrop-blur-sm text-[10px] font-semibold w-fit",children:[e.jsx(Ea,{className:"w-2.5 h-2.5"}),"Most searched: ",n.topSearchedCar?.make," ",n.topSearchedCar?.model]})]})]})})]})})]}),e.jsxs(Ve.div,{variants:M,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-white",children:"Recent Activity"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-0.5",children:"Latest bookings"})]}),e.jsxs(K,{variant:"outline",size:"sm",onClick:()=>t("/Mycars-bookings"),className:"hidden sm:flex text-xs h-8",children:["View All",e.jsx(sn,{className:"w-3 h-3 ml-1"})]})]}),e.jsx(Te,{className:"overflow-hidden border-0 shadow-lg bg-white dark:bg-gray-900",children:e.jsx(Re,{className:"p-0",children:i.map((R,ee)=>{const Y=A(R.status),re=Y.icon;return e.jsx(Ve.div,{initial:{opacity:0,x:-15},animate:{opacity:1,x:0},transition:{delay:ee*.04},className:"group hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-all duration-200 border-b border-gray-100 dark:border-gray-800 last:border-b-0",children:e.jsxs("div",{className:"p-3 md:p-4 flex items-center gap-3",children:[e.jsx("div",{className:`flex-shrink-0 w-9 h-9 md:w-10 md:h-10 rounded-lg ${Y.bgColor} flex items-center justify-center group-hover:scale-110 transition-transform duration-200`,children:e.jsx(re,{className:`w-4 h-4 md:w-5 md:h-5 ${Y.textColor}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-0.5",children:[e.jsx("p",{className:`text-xs md:text-sm font-semibold ${R.isEmpty?"italic text-gray-500":"text-gray-900 dark:text-gray-100"}`,children:R.message}),e.jsx(Me,{className:`${Y.bgColor} ${Y.textColor} border-0 flex-shrink-0 text-[10px] px-2 py-0.5`,children:Y.label})]}),e.jsx("div",{className:"flex items-center gap-2 md:gap-3 text-[10px] md:text-xs text-gray-500 dark:text-gray-400 flex-wrap",children:!R.isEmpty&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(zt,{className:"w-2.5 h-2.5 md:w-3 md:h-3"}),e.jsx("span",{className:"truncate max-w-[100px]",children:R.car})]}),R.amount&&e.jsxs("span",{className:"font-bold",style:{color:Jt.teal},children:["$",R.amount]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(hu,{className:"w-2.5 h-2.5 md:w-3 md:h-3"}),R.date," ",R.time]})]})})]}),!R.isEmpty&&e.jsx(sn,{className:"w-4 h-4 text-gray-400 opacity-0 group-hover:opacity-100 group-hover:translate-x-0.5 transition-all duration-200 hidden md:block"})]})},ee)})})})]})]})]})}const Os={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640",darkBlueDim:"rgba(14, 76, 129, 0.1)",tealDim:"rgba(0, 140, 149, 0.1)",limeGreenDim:"rgba(138, 198, 64, 0.1)"},Yb=t=>{if(t==null||t==="")return"0.00";const s=parseFloat(t);return Number.isNaN(s)?"0.00":s.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})};function yee(){const t=Ua(),[s,a]=y.useState(!0),[n,r]=y.useState(!1),[i,l]=y.useState(null),d=async()=>{a(!0),r(!1);try{const{data:u}=await lP();l(u)}catch(u){console.error("Failed to load earnings:",u),r(!0),se.error("Failed to load earnings. Please try again.")}finally{a(!1)}};return y.useEffect(()=>{d()},[]),s&&!i?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900 pt-20 flex items-center justify-center",children:e.jsx(Ve.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-14 h-14 rounded-full border-4 border-t-transparent",style:{borderColor:Os.tealDim,borderTopColor:Os.teal}})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900 pt-20",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx(Ve.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-xl flex items-center justify-center shadow-lg",style:{background:`linear-gradient(135deg, ${Os.teal}, ${Os.darkBlue})`},children:e.jsx(Ng,{className:"w-7 h-7 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(135deg, ${Os.darkBlue}, ${Os.teal})`},children:"Balance & Earnings"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Total amount, app fees, and your net earnings"})]})]}),e.jsxs(Ve.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:d,disabled:s,className:"flex items-center gap-2 px-4 py-2.5 rounded-xl font-medium border-2 transition-colors",style:{borderColor:Os.teal,color:Os.teal},children:[e.jsx(_t,{className:`w-5 h-5 ${s?"animate-spin":""}`}),"Refresh"]})]})}),n&&!i?e.jsxs(Te,{className:"border-2 rounded-2xl p-8 text-center",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Could not load earnings."}),e.jsx(Ve.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:d,className:"px-5 py-2.5 rounded-xl text-white font-semibold",style:{background:`linear-gradient(135deg, ${Os.teal}, ${Os.darkBlue})`},children:"Try again"})]}):i?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:e.jsx(Te,{className:"border-2 rounded-2xl overflow-hidden shadow-lg h-full",style:{borderColor:Os.tealDim},children:e.jsxs(Re,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2.5 rounded-xl",style:{background:Os.tealDim},children:e.jsx(Bs,{className:"w-6 h-6",style:{color:Os.teal}})}),e.jsx("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Total booking amount"})]}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:["$",Yb(i.total_amount)]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"What clients paid (confirmed + completed)"})]})})}),e.jsx(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:e.jsx(Te,{className:"border-2 rounded-2xl overflow-hidden shadow-lg h-full",style:{borderColor:Os.darkBlueDim},children:e.jsxs(Re,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2.5 rounded-xl",style:{background:Os.darkBlueDim},children:e.jsx(ek,{className:"w-6 h-6",style:{color:Os.darkBlue}})}),e.jsx("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:"App fees (platform)"})]}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:["$",Yb(i.app_fees_amount)]}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Deducted from you  Fee: ",i.app_fees_percentage!=null?`${i.app_fees_percentage}%`:""]})]})})}),e.jsx(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:e.jsx(Te,{className:"border-2 rounded-2xl overflow-hidden shadow-lg h-full",style:{borderColor:Os.limeGreenDim},children:e.jsxs(Re,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2.5 rounded-xl",style:{background:Os.limeGreenDim},children:e.jsx(bl,{className:"w-6 h-6",style:{color:Os.limeGreen}})}),e.jsx("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Your net earnings"})]}),e.jsxs("p",{className:"text-3xl font-bold",style:{color:Os.limeGreen},children:["$",Yb(i.net_earnings)]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Total amount  app fees"})]})})})]}),e.jsxs(Ve.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"flex flex-wrap items-center gap-6 p-4 rounded-2xl border-2 bg-white dark:bg-gray-800/50",style:{borderColor:Os.tealDim},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(k7,{className:"w-5 h-5",style:{color:Os.teal}}),e.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["From ",e.jsx("strong",{children:i.bookings_count??0})," bookings"]})]}),i.app_fees_percentage!=null&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(ek,{className:"w-5 h-5",style:{color:Os.darkBlue}}),e.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Your app fee: ",e.jsxs("strong",{children:[i.app_fees_percentage,"%"]})]})]})]}),e.jsx(Ve.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-8",children:e.jsx(Te,{className:"border-2 rounded-2xl overflow-hidden cursor-pointer hover:shadow-xl transition-all",style:{borderColor:Os.tealDim},onClick:()=>t("/Mycars-bookings"),children:e.jsxs(Re,{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-xl",style:{background:Os.tealDim},children:e.jsx(Rs,{className:"w-5 h-5",style:{color:Os.teal}})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:"View bookings"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"See amount and app fee per booking"})]})]}),e.jsx(sn,{className:"w-5 h-5 text-gray-400"})]})})})]}):null]})})}const bee=({noIndex:t=!1})=>{y.useEffect(()=>{document.title="Rento LB | Rent & Compare Cars in Lebanon";let d=document.querySelector('meta[name="robots"]');d||(d=document.createElement("meta"),d.setAttribute("name","robots"),document.head.appendChild(d)),d.setAttribute("content",t?"noindex,nofollow":"index,follow")},[t]);const s=!1,a={en:[{question:"How do I rent a car on Rento LB?",answer:"Rento LB makes car rental easy. Simply browse our selection of vehicles from trusted agencies and private owners, choose your rental dates, and complete your booking online."}],fr:[{question:"Comment louer une voiture sur Rento LB ?",answer:"Rento LB simplifie la location de voitures en vous connectant directement avec des agences et propritaires."}],ar:[{question:"    Rento LB",answer:"         ."}]},n={"@context":"https://schema.org","@type":"RentalCarAgency","@id":"https://rento-lb.com/#organization",name:"Rento LB",alternateName:"Rento Lebanon",url:"https://rento-lb.com/",logo:{"@type":"ImageObject","@id":"https://rento-lb.com/#logo",url:"https://rento-lb.com/rento-512.png",contentUrl:"https://rento-lb.com/rento-512.png",width:512,height:512},image:"https://rento-lb.com/rento-512.png",telephone:"+96181001301",email:"social@rento-lb.com",address:{"@type":"PostalAddress",streetAddress:"City Center",addressLocality:"Beirut",addressCountry:"LB"},areaServed:{"@type":"Country",name:"Lebanon"},description:"Car rental marketplace in Lebanon connecting renters with private owners and agencies. Transparent pricing and direct communication.",priceRange:"$$",currenciesAccepted:"USD, LBP",paymentAccepted:["Cash"],founder:{"@type":"Person",name:"Rami Zeaiter"},contactPoint:[{"@type":"ContactPoint",telephone:"+96181001301",contactType:"customer support",areaServed:"LB",availableLanguage:["English","French","Arabic"]}],sameAs:["https://www.facebook.com/profile.php?id=61585450048575","https://www.instagram.com/rentolebanon","https://www.tiktok.com/@rentolebanon","https://x.com/RENTO_lb","https://www.linkedin.com/company/rento-lb/about/"],...s},r={"@context":"https://schema.org","@type":"WebSite","@id":"https://rento-lb.com/#website",name:"Rento LB",url:"https://rento-lb.com/",publisher:{"@id":"https://rento-lb.com/#organization"},potentialAction:{"@type":"SearchAction",target:"https://rento-lb.com/search?query={search_term_string}","query-input":"required name=search_term_string"},inLanguage:["en","fr","ar"]},i={"@context":"https://schema.org","@type":"FAQPage","@id":"https://rento-lb.com/#faq",mainEntity:Object.values(a).flat().map(d=>({"@type":"Question",name:d.question,acceptedAnswer:{"@type":"Answer",text:d.answer}}))},l={"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"Home",item:"https://rento-lb.com/"}]};return e.jsxs(e.Fragment,{children:[e.jsx("meta",{name:"trustpilot-one-time-domain-verification-id",content:"2ddec9a3-46a7-4ab8-a397-7482d145e508"}),e.jsx("meta",{name:"description",content:"Compare rental cars in Lebanon from agencies and private owners. Book easily and communicate directly."}),e.jsx("meta",{name:"keywords",content:"car rental Lebanon, rent a car Beirut, private car rental Lebanon"}),e.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),e.jsx("meta",{name:"theme-color",content:"#0d9488"}),e.jsx("meta",{name:"author",content:"Rento LB"}),e.jsx("link",{rel:"canonical",href:"https://rento-lb.com"}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{property:"og:url",content:"https://rento-lb.com"}),e.jsx("meta",{property:"og:title",content:"Rento LB | Car Rental in Lebanon"}),e.jsx("meta",{property:"og:description",content:"Find rental cars across Lebanon."}),e.jsx("meta",{property:"og:image",content:"https://rento-lb.com/og-cover.png"}),e.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(n)}}),e.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(r)}}),e.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(i)}}),e.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(l)}})]})},vee=[{label:"Beirut",value:"beirut"},{label:"Mount Lebanon",value:"mount-liban"},{label:"North",value:"north"},{label:"South",value:"south"},{label:"Bekaa",value:"bekaa"},{label:"Baalbek",value:"baalbek"},{label:"Keserwan",value:"keserwan"},{label:"Nabatieh",value:"nabatieh"},{label:"Akkar",value:"akkar"}];function jee(t){if(!t||typeof t!="string")return null;const s=t.trim(),a=s.match(/@(-?\d+\.?\d*),(-?\d+\.?\d*)/);if(a)return{lat:parseFloat(a[1]),lng:parseFloat(a[2])};const n=s.match(/[?&]q=(-?\d+\.?\d*),(-?\d+\.?\d*)/);if(n)return{lat:parseFloat(n[1]),lng:parseFloat(n[2])};const r=s.match(/(?:!3d|!4d|!1d)(-?\d+\.?\d*)/g);if(r&&r.length>=2){const i=parseFloat(String(r[0]).replace(/\D/g,"")),l=parseFloat(String(r[1]).replace(/\D/g,""));if(!isNaN(i)&&!isNaN(l))return{lat:i,lng:l}}return null}function wee(){const t=Ua(),s=y.useMemo(()=>`cp_${Date.now()}_${Math.random().toString(16).slice(2)}`,[]),a=(...Ae)=>{console.log(`[CompleteProfile ${s}]`,...Ae)},n=()=>{try{a("axios.baseURL =",xe?.defaults?.baseURL),a("axios.withCredentials =",xe?.defaults?.withCredentials),a("axios.headers.Authorization =",xe?.defaults?.headers?.common?.Authorization)}catch(Ae){a("Failed to read axios defaults",Ae)}},r=Ae=>{try{const Ye=[];for(const[Oe,ft]of Ae.entries())ft instanceof File?Ye.push({key:Oe,type:"File",name:ft.name,size:ft.size,mime:ft.type}):Ye.push({key:Oe,type:typeof ft,value:ft});return a("FormData entries =>",Ye),Ye}catch(Ye){return a("Failed to dump FormData",Ye),null}},[i,l]=y.useState(null),[d,u]=y.useState(!1),[h,p]=y.useState(null),[f,x]=y.useState({first_name:"",last_name:"",gender:"",birth_date:"",city:"",bio:"",profile_picture:null,id_card_front:null,id_card_back:null,license_number:"",driver_license:null,profession:"",avg_salary:"",promo_code:"",business_type:"",company_number:"",business_doc:null,location:"",app_fees:"",contract_form:"",policies:"",website:""}),[v,j]=y.useState(!1),[w,_]=y.useState(!1),[N,k]=y.useState(null),[D,T]=y.useState({lat:33.8547,lng:35.8623}),[E,G]=y.useState(""),[A,F]=y.useState(""),[M,J]=y.useState(!1),[R,ee]=y.useState(""),[Y,re]=y.useState(!1),te=i?.role==="client",V=i?.role==="agency"||i?.role==="agency",U=Ae=>Ae?String(Ae).slice(0,10):"",H=Ae=>{const Ye=Ae?.user||{},Oe=Ae?.client||Ye?.client||{},ft=Ae?.agency||Ye?.agency||Ae?.agency||{};x(tt=>({...tt,first_name:Ye.first_name??tt.first_name??"",last_name:Ye.last_name??tt.last_name??"",gender:Ye.gender??tt.gender??"",birth_date:U(Ye.birth_date)||tt.birth_date||"",city:Ye.city??tt.city??"",bio:Ye.bio??tt.bio??"",license_number:Oe.license_number??tt.license_number??"",profession:Oe.profession??tt.profession??"",avg_salary:Oe.avg_salary??tt.avg_salary??"",promo_code:Oe.promo_code??tt.promo_code??"",business_type:ft.business_type??tt.business_type??"",company_number:ft.company_number??tt.company_number??"",location:ft.location?typeof ft.location=="string"?ft.location:JSON.stringify(ft.location):tt.location??"",app_fees:ft.app_fees??tt.app_fees??"",contract_form:ft.contract_form??tt.contract_form??"",policies:ft.policies??tt.policies??"",website:ft.website??tt.website??""}));const kt=(ft.business_type||"").toString();if(j(kt==="company"),ft.location)try{const tt=typeof ft.location=="string"?JSON.parse(ft.location):ft.location;tt.latitude&&tt.longitude&&(k({lat:tt.latitude,lng:tt.longitude}),T({lat:tt.latitude,lng:tt.longitude}))}catch(tt){a("Failed to parse existing location",tt)}},L=()=>{if(!navigator.geolocation){se.error("Geolocation is not supported by your browser"),$();return}se.info("Getting your location...");const Ae={enableHighAccuracy:!0,timeout:15e3,maximumAge:6e4};navigator.geolocation.getCurrentPosition(Ye=>{const Oe={lat:parseFloat(Ye.coords.latitude.toFixed(6)),lng:parseFloat(Ye.coords.longitude.toFixed(6))};k(Oe),T(Oe);const ft={latitude:Oe.lat,longitude:Oe.lng,country:"Lebanon"};x(kt=>({...kt,location:JSON.stringify(ft)})),se.success("Location detected successfully!"),a("Current location:",ft)},Ye=>{a("Geolocation error:",Ye),se.info("Location could not be detected. Select your location on the map."),_(!0)},Ae)},$=()=>{_(!0)},z=(Ae,Ye)=>{const Oe={lat:parseFloat(Ae.toFixed(6)),lng:parseFloat(Ye.toFixed(6))};k(Oe),a("Map clicked location:",Oe)},ie=()=>{if(N){const Ae={latitude:N.lat,longitude:N.lng,country:"Lebanon"};x(Ye=>({...Ye,location:JSON.stringify(Ae)})),se.success("Location selected!"),_(!1)}else se.error("Please select a location on the map")},le=Ae=>{const Ye=jee(Ae);if(Ye){const Oe={lat:parseFloat(Ye.lat.toFixed(6)),lng:parseFloat(Ye.lng.toFixed(6))};k(Oe),T(Oe);const ft={latitude:Oe.lat,longitude:Oe.lng,country:"Lebanon"};x(kt=>({...kt,location:JSON.stringify(ft)})),se.success("Location set from Google Maps link.")}else se.error("Could not read coordinates. Use a link with lat,lng (e.g. @33.89,35.50 or ?q=33.89,35.50).")},ne=async(Ae,Ye)=>{const Oe=Ae.trim();if(Oe){Ye?re(!0):J(!0);try{const kt=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(Oe)}&limit=1`,{headers:{Accept:"application/json"}})).json();if(kt&&kt[0]){const tt=parseFloat(kt[0].lat),ps=parseFloat(kt[0].lon),ys={lat:tt,lng:ps};k(ys),T(ys);const Fs={latitude:tt,longitude:ps,country:"Lebanon"};x(pe=>({...pe,location:JSON.stringify(Fs)})),se.success("Location found. Confirm in the modal if needed.")}else se.error("No results found. Try another search.")}catch{se.error("Search failed. Try again.")}finally{Ye?re(!1):J(!1)}}},fe=()=>ne(A,!1),Ne=()=>ne(R,!0),ye=async()=>{try{n(),a("GET /profile/status starting...");const Ae=await xe.get("/profile/status",{headers:{"X-Debug-Id":s}});if(a("GET /profile/status success:",Ae.status,Ae.data),p(Ae.data),H(Ae.data),Ae.data?.is_complete){const Ye=Ae.data.user;a("Profile already complete. Redirecting. role =",Ye?.role),Ye?.role==="agency"||Ye?.role==="agency"?t("/Dashboard"):t("/")}}catch(Ae){a("GET /profile/status FAILED",Ae),Ae?.response&&a("Status error response:",Ae.response.status,Ae.response.data)}};y.useEffect(()=>{const Ae=JSON.parse(localStorage.getItem("user"));if(!Ae){se.error("Please login first"),t("/auth");return}l(Ae),a("Loaded user from localStorage:",Ae),ye()},[t]);const Le=Ae=>{const{name:Ye,value:Oe,files:ft}=Ae.target;if(ft){const kt=ft[0]||null;x(tt=>({...tt,[Ye]:kt})),a("File changed:",Ye,kt?{name:kt.name,size:kt.size,type:kt.type}:null);return}x(kt=>({...kt,[Ye]:Oe})),a("Field changed:",Ye,Oe),Ye==="business_type"&&j(Oe==="company")},Se=(Ae,Ye)=>{x(Oe=>({...Oe,[Ae]:Ye})),a("Select changed:",Ae,Ye),Ae==="business_type"&&j(Ye==="company")},Ge=()=>{if(!f.first_name||!f.last_name||!f.gender||!f.birth_date||!f.city)return se.error("Please fill all required base fields"),!1;if(!f.id_card_front||!f.id_card_back)return se.error("Please upload both ID card photos"),!1;if(te){if(!f.license_number||!f.driver_license||!f.profession||!f.avg_salary)return se.error("Please fill all required client fields"),!1;if(!["employee","freelancer","business","student","other"].includes(f.profession))return se.error("Please select a valid profession"),!1;if(!["200-500","500-1000","1000-2000","2000+"].includes(f.avg_salary))return se.error("Please select a valid salary range"),!1}if(V){if(console.log("[CompleteProfile Validate]","Agency validation started",{business_type:f.business_type,profession:f.profession,hasLocation:!!f.location,locationLength:f.location?.length}),!f.business_type||!f.profession)return console.log("[CompleteProfile Validate]","Failed: missing business_type or profession"),se.error("Please fill all required agency fields"),!1;if(!f.location)return console.log("[CompleteProfile Validate]","Failed: no location"),se.error("Please select your agency location. Opening map..."),_(!0),setTimeout(()=>document.getElementById("agency-location-section")?.scrollIntoView({behavior:"smooth"}),100),!1;if(!["rental","private","company","marina"].includes(f.business_type))return console.log("[CompleteProfile Validate]","Failed: invalid business_type",f.business_type),se.error("Please select a valid business type"),!1;if(!["owner","manager"].includes(f.profession))return console.log("[CompleteProfile Validate]","Failed: invalid profession",f.profession),se.error("Please select a valid profession"),!1;try{const Oe=JSON.parse(f.location);if(!Oe.latitude||!Oe.longitude)return console.log("[CompleteProfile Validate]","Failed: location missing lat/lng",Oe),se.error("Invalid location data. Please select your location again"),!1;console.log("[CompleteProfile Validate]","Location OK",Oe)}catch(Oe){return console.log("[CompleteProfile Validate]","Failed: location parse error",Oe,"raw:",f.location),se.error("Invalid location format. Please select your location again"),!1}if(f.business_type==="company"&&(!f.company_number||!f.business_doc))return console.log("[CompleteProfile Validate]","Failed: company fields",{company_number:f.company_number,business_doc:!!f.business_doc}),se.error("Please fill company number and upload business document"),!1;console.log("[CompleteProfile Validate]","Agency validation passed")}return!0},nt=async Ae=>{Ae.preventDefault();const Ye="[CompleteProfile Submit]";if(console.log(Ye,"Submit clicked",{role:i?.role,isClient:te,isAgency:V,formKeys:Object.keys(f)}),(i?.role==="agency"||i?.role==="agency")&&console.log(Ye,"Agency form state",{business_type:f.business_type,profession:f.profession,location:f.location,locationParsed:(()=>{try{return f.location?JSON.parse(f.location):null}catch(Oe){return{parseError:String(Oe.message)}}})(),company_number:f.company_number,business_doc:f.business_doc?.name??f.business_doc,app_fees:f.app_fees,contract_form:f.contract_form,policies:f.policies,website:f.website}),a("Submit clicked. role =",i?.role,"isClient =",te,"isAgency =",V),n(),!Ge()){console.log(Ye,"Validation failed on client side."),a("Validation failed on client side.");return}try{u(!0);const Oe=new FormData;if(Oe.append("first_name",f.first_name),Oe.append("last_name",f.last_name),Oe.append("gender",f.gender.toLowerCase()),Oe.append("birth_date",f.birth_date),Oe.append("city",f.city.toLowerCase()),Oe.append("bio",f.bio||""),f.id_card_front&&Oe.append("id_card_front",f.id_card_front),f.id_card_back&&Oe.append("id_card_back",f.id_card_back),f.profile_picture&&Oe.append("profile_picture",f.profile_picture),te)Oe.append("license_number",f.license_number),f.driver_license&&Oe.append("driver_license",f.driver_license),Oe.append("profession",f.profession.toLowerCase()),Oe.append("avg_salary",f.avg_salary),f.promo_code?.trim()&&Oe.append("promo_code",f.promo_code.trim());else if(V){console.log("[CompleteProfile Submit]","Building agency FormData..."),Oe.append("business_type",f.business_type.toLowerCase()),Oe.append("profession",f.profession.toLowerCase());let Fs;try{Fs=JSON.parse(f.location);const Ce=JSON.stringify({latitude:parseFloat(Fs.latitude),longitude:parseFloat(Fs.longitude),country:Fs.country||"Lebanon"});Oe.append("location",Ce),console.log("[CompleteProfile Submit]","Location appended",{cleanedLocation:Ce,locationData:Fs})}catch(Ce){throw console.error("[CompleteProfile Submit]","Location parse/append error",Ce),console.log("[CompleteProfile Submit]","form.location raw:",f.location),Ce}f.app_fees?.trim()&&Oe.append("app_fees",f.app_fees.trim()),f.contract_form?.trim()&&Oe.append("contract_form",f.contract_form.trim()),f.policies?.trim()&&Oe.append("policies",f.policies.trim()),f.website?.trim()&&Oe.append("website",f.website.trim()),f.business_type==="company"&&(Oe.append("company_number",f.company_number),f.business_doc&&Oe.append("business_doc",f.business_doc),console.log("[CompleteProfile Submit]","Company fields appended",{company_number:f.company_number,business_doc:f.business_doc?.name??(f.business_doc?"present":"missing")}));const pe=[];Oe.forEach((Ce,he)=>{pe.push({key:he,value:Ce instanceof File?`File: ${Ce.name}`:Ce})}),console.log("[CompleteProfile Submit]","FormData entries (agency)",pe)}r(Oe);const ft=xe.defaults?.baseURL?`${xe.defaults.baseURL}/profile/complete`:"/profile/complete";console.log("[CompleteProfile Submit]","POST /profile/complete",{apiUrl:ft,contentType:"multipart/form-data"}),a("POST /profile/complete starting...");const kt=await xe.post("/profile/complete",Oe,{headers:{"Content-Type":"multipart/form-data","X-Debug-Id":s}});console.log("[CompleteProfile Submit]","POST /profile/complete success",kt.status,kt.data),a("POST /profile/complete success:",kt.status,kt.data);const tt=kt.data.user;localStorage.setItem("user",JSON.stringify(tt)),l(tt),se.success("Profile completed successfully!"),a("Refreshing status...");const ps=await xe.get("/profile/status",{headers:{"X-Debug-Id":s}});a("GET /profile/status after submit:",ps.status,ps.data),p(ps.data);const ys=ps.data.is_complete;setTimeout(()=>{ys?tt.role==="agency"||tt.role==="agency"?t("/Dashboard"):t("/"):se.warning("Please complete all required fields")},500)}catch(Oe){if(console.error("[CompleteProfile Submit]","Request failed",Oe),console.log("[CompleteProfile Submit]","Error name:",Oe?.name,"message:",Oe?.message),a("POST /profile/complete FAILED:",Oe),Oe?.response){if(console.log("[CompleteProfile Submit]","Response status:",Oe.response.status),console.log("[CompleteProfile Submit]","Response data:",Oe.response.data),console.log("[CompleteProfile Submit]","Response headers:",JSON.stringify(Oe.response.headers,null,2)),a("Error response status:",Oe.response.status),a("Error response data:",Oe.response.data),a("Error response headers:",Oe.response.headers),Oe.response.status===403){const ft=Oe.response?.data?.message||Oe.response?.data?.error||"You do not have permission to update your profile. Please contact administrator.";se.error(ft);return}typeof Oe.response.data=="string"&&a("Error response (string, first 500 chars):",Oe.response.data.slice(0,500)),Oe.response?.data?.errors?(console.log("[CompleteProfile Submit]","Validation errors (422)",Oe.response.data.errors),Object.values(Oe.response.data.errors).flat().forEach(kt=>se.error(kt))):(console.log("[CompleteProfile Submit]","Error message:",Oe.response?.data?.message),se.error(Oe.response?.data?.message||"Failed to complete profile"))}else Oe?.request?(console.log("[CompleteProfile Submit]","No response received (network/CORS)",Oe.request),a("No response received. Request:",Oe.request),se.error("No response from server. Check network/CORS/auth.")):(a("Unknown error:",Oe?.message||Oe),se.error("Unexpected error occurred."));a("If you see https://.../api/api/... then your axios baseURL already contains /api and your proxy/route also adds /api."),a("Fix by adjusting api.defaults.baseURL OR Vite proxy OR route prefix so it becomes /api/profile/complete only once.")}finally{u(!1)}};return i?e.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-background via-primary/5 to-secondary/5",children:[e.jsxs("div",{className:"w-full max-w-3xl",children:[e.jsxs("div",{className:"flex flex-col items-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-primary to-secondary flex items-center justify-center shadow-lg mb-4",children:e.jsx(zt,{className:"w-8 h-8 text-primary-foreground"})}),e.jsx("h1",{className:"text-3xl font-bold gradient-text",children:"Complete Your Profile"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:i?.role==="client"?"Client Profile":"Agency Profile"}),h&&e.jsxs("div",{className:"mt-4 w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Profile Completion"}),e.jsxs("span",{className:"text-sm font-semibold",children:[h.completion_percentage,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-teal-500 to-cyan-500 h-2 rounded-full transition-all",style:{width:`${h.completion_percentage}%`}})})]})]}),e.jsxs(Te,{className:"hover-glow shadow-xl",children:[e.jsxs(rs,{children:[e.jsxs(is,{className:"text-2xl",children:["Complete Your ",i?.role==="client"?"Client":"agency"," Profile"]}),e.jsx(am,{children:"Please fill all required fields to continue"})]}),e.jsx(Re,{children:e.jsxs("form",{onSubmit:nt,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(q,{children:"First Name *"}),e.jsx(oe,{type:"text",name:"first_name",value:f.first_name,onChange:Le,required:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Last Name *"}),e.jsx(oe,{type:"text",name:"last_name",value:f.last_name,onChange:Le,required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(q,{children:"Gender *"}),e.jsxs(Je,{value:f.gender,onValueChange:Ae=>Se("gender",Ae),children:[e.jsx(Qe,{children:e.jsx(et,{placeholder:"Select"})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"male",children:"Male"}),e.jsx(de,{value:"female",children:"Female"}),e.jsx(de,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Birth Date *"}),e.jsx(oe,{type:"date",name:"birth_date",value:f.birth_date,onChange:Le,max:new Date().toISOString().split("T")[0],required:!0})]})]}),e.jsxs("div",{children:[e.jsx(q,{children:"City *"}),e.jsxs(Je,{value:f.city,onValueChange:Ae=>Se("city",Ae),children:[e.jsx(Qe,{children:e.jsx(et,{placeholder:"Select your city"})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"beirut",children:"Beirut"}),e.jsx(de,{value:"mount-liban",children:"Mount Liban"}),e.jsx(de,{value:"south",children:"South"}),e.jsx(de,{value:"north",children:"North"}),e.jsx(de,{value:"bekaa",children:"Bekaa"}),e.jsx(de,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Bio (optional)"}),e.jsx("textarea",{name:"bio",value:f.bio,onChange:Le,rows:3,className:"w-full px-3 py-2 rounded-md border border-input bg-background",placeholder:"Tell us about yourself..."})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Profile Picture (optional)"}),e.jsx(oe,{type:"file",name:"profile_picture",onChange:Le,accept:"image/jpeg,image/jpg,image/png"}),f.profile_picture&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:f.profile_picture.name})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(q,{children:"ID Card - Front *"}),e.jsx(oe,{type:"file",name:"id_card_front",onChange:Le,accept:"image/jpeg,image/jpg,image/png,application/pdf",required:!0}),f.id_card_front&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:f.id_card_front.name})]}),e.jsxs("div",{children:[e.jsx(q,{children:"ID Card - Back *"}),e.jsx(oe,{type:"file",name:"id_card_back",onChange:Le,accept:"image/jpeg,image/jpg,image/png,application/pdf",required:!0}),f.id_card_back&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:f.id_card_back.name})]})]})]}),e.jsx("hr",{className:"my-6"}),i?.role==="client"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Client Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(q,{children:"License Number *"}),e.jsx(oe,{type:"text",name:"license_number",value:f.license_number,onChange:Le,required:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Driver License *"}),e.jsx(oe,{type:"file",name:"driver_license",onChange:Le,accept:"image/jpeg,image/jpg,image/png,application/pdf",required:!0}),f.driver_license&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:f.driver_license.name})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(q,{children:"Profession *"}),e.jsxs(Je,{value:f.profession,onValueChange:Ae=>Se("profession",Ae),children:[e.jsx(Qe,{children:e.jsx(et,{placeholder:"Choose..."})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"employee",children:"Employee"}),e.jsx(de,{value:"freelancer",children:"Freelancer"}),e.jsx(de,{value:"business",children:"Business"}),e.jsx(de,{value:"student",children:"Student"}),e.jsx(de,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Average Salary *"}),e.jsxs(Je,{value:f.avg_salary,onValueChange:Ae=>Se("avg_salary",Ae),children:[e.jsx(Qe,{children:e.jsx(et,{placeholder:"Select..."})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"200-500",children:"$200-500"}),e.jsx(de,{value:"500-1000",children:"$500-1000"}),e.jsx(de,{value:"1000-2000",children:"$1000-2000"}),e.jsx(de,{value:"2000+",children:"$2000+"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Promo Code (optional)"}),e.jsx(oe,{type:"text",name:"promo_code",value:f.promo_code,onChange:Le})]})]}),(i?.role==="agency"||i?.role==="agency")&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Agency Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(q,{children:"Business Type *"}),e.jsxs(Je,{value:f.business_type,onValueChange:Ae=>{Se("business_type",Ae),j(Ae==="company")},children:[e.jsx(Qe,{children:e.jsx(et,{placeholder:"Select"})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"rental",children:"Rental"}),e.jsx(de,{value:"private",children:"Private"}),e.jsx(de,{value:"company",children:"Company"}),e.jsx(de,{value:"marina",children:"Marina"})]})]})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Profession *"}),e.jsxs(Je,{value:f.profession,onValueChange:Ae=>Se("profession",Ae),children:[e.jsx(Qe,{children:e.jsx(et,{placeholder:"Choose..."})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"manager",children:"Manager"}),e.jsx(de,{value:"owner",children:"Owner"})]})]})]})]}),v&&e.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/30",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(pl,{className:"w-4 h-4"}),e.jsx("p",{children:"Company Details (Required)"})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Company Number *"}),e.jsx(oe,{type:"text",name:"company_number",value:f.company_number,onChange:Le,required:v})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Business Document *"}),e.jsx(oe,{type:"file",name:"business_doc",onChange:Le,accept:"image/jpeg,image/jpg,image/png,application/pdf",required:v}),f.business_doc&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:f.business_doc.name})]})]}),e.jsxs("div",{id:"agency-location-section",children:[e.jsx(q,{children:"Address (region) *"}),e.jsxs(Je,{value:f.city||"",onValueChange:Ae=>Se("city",Ae),children:[e.jsx(Qe,{className:"mb-3",children:e.jsx(et,{placeholder:"Select your region"})}),e.jsx(Ze,{children:vee.map(Ae=>e.jsx(de,{value:Ae.value,children:Ae.label},Ae.value))})]}),e.jsx(q,{children:"Location *"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(q,{className:"text-muted-foreground text-xs",children:"Paste Google Maps link"}),e.jsxs("div",{className:"flex gap-2 mt-1",children:[e.jsx(oe,{placeholder:"e.g. https://www.google.com/maps/@33.8938,35.5018,17z",value:E,onChange:Ae=>G(Ae.target.value),onBlur:Ae=>{const Ye=Ae.target.value?.trim();Ye&&le(Ye)},className:"flex-1"}),e.jsx(K,{type:"button",variant:"outline",onClick:()=>E.trim()&&le(E),children:"Apply"})]})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-muted-foreground text-xs",children:"Search address"}),e.jsxs("div",{className:"flex gap-2 mt-1",children:[e.jsx(oe,{placeholder:"Search address or place...",value:A,onChange:Ae=>F(Ae.target.value),onKeyDown:Ae=>Ae.key==="Enter"&&(Ae.preventDefault(),fe()),className:"flex-1"}),e.jsx(K,{type:"button",variant:"outline",onClick:fe,disabled:M,children:e.jsx(Ea,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsxs(K,{type:"button",variant:"outline",className:"flex-1 min-w-[140px]",onClick:L,children:[e.jsx(nD,{className:"w-4 h-4 mr-2"}),"Use Current Location"]}),e.jsxs(K,{type:"button",variant:"outline",className:"flex-1 min-w-[140px]",onClick:$,children:[e.jsx(bs,{className:"w-4 h-4 mr-2"}),"Select on Map"]})]}),N?e.jsx("div",{className:"p-4 bg-primary/10 border-2 border-primary/20 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center flex-shrink-0",children:e.jsx(bs,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-sm mb-1",children:"Location Selected"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Latitude: ",N.lat]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Longitude: ",N.lng]})]})]})}):e.jsxs("div",{className:"p-4 bg-muted/30 border-2 border-dashed rounded-lg text-center",children:[e.jsx(bs,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"No location selected yet"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Click one of the buttons above to set your location"})]}),e.jsx("input",{type:"hidden",name:"location",value:f.location,required:!0})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4",children:e.jsxs("div",{children:[e.jsx(q,{children:"Website (optional)"}),e.jsx(oe,{type:"url",name:"website",value:f.website,onChange:Le,placeholder:"https://example.com"})]})}),e.jsxs("div",{children:[e.jsx(q,{children:"Contract Form (optional)"}),e.jsx("textarea",{name:"contract_form",value:f.contract_form,onChange:Le,rows:2,className:"w-full px-3 py-2 rounded-md border border-input bg-background"})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Policies (optional)"}),e.jsx("textarea",{name:"policies",value:f.policies,onChange:Le,rows:2,className:"w-full px-3 py-2 rounded-md border border-input bg-background"})]})]}),e.jsx(K,{type:"submit",className:"w-full bg-gradient-to-r from-secondary to-accent font-semibold text-lg py-6",disabled:d,children:d?"Saving...":"Save Profile"})]})})]})]}),e.jsx(Va,{open:w,onOpenChange:Ae=>{_(Ae),Ae||ee("")},children:e.jsxs(Ra,{className:"max-w-4xl max-h-[90vh]",children:[e.jsxs(Ma,{children:[e.jsx(Pa,{children:"Select Your Location"}),e.jsx(vi,{children:"Search for a place or click on the map to select your business location"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex gap-2 flex-wrap",children:e.jsxs("div",{className:"flex flex-1 min-w-[200px] rounded-md overflow-hidden border border-input",children:[e.jsx(oe,{placeholder:"Search address or place...",value:R,onChange:Ae=>ee(Ae.target.value),onKeyDown:Ae=>Ae.key==="Enter"&&(Ae.preventDefault(),Ne()),className:"rounded-r-none border-0 h-10 focus-visible:ring-0"}),e.jsx(K,{type:"button",variant:"secondary",onClick:Ne,disabled:Y,className:"rounded-l-none h-10 px-4",children:e.jsx(Ea,{className:"w-4 h-4"})})]})}),e.jsx("div",{className:"w-full h-[500px] bg-muted rounded-lg overflow-hidden",children:e.jsx(Nee,{center:D,selectedLocation:N,onLocationSelect:z})}),N&&e.jsx("div",{className:"p-3 bg-muted/50 rounded-md",children:e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Selected:"})," ",N.lat,", ",N.lng]})}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(K,{variant:"outline",onClick:()=>_(!1),children:"Cancel"}),e.jsx(K,{onClick:ie,children:"Confirm Location"})]})]})]})})]}):null}function Nee({center:t,selectedLocation:s,onLocationSelect:a}){const n=qe.useRef(null),r=qe.useRef(null);y.useEffect(()=>{if(typeof window<"u"&&!window.L){const l=document.createElement("link");l.rel="stylesheet",l.href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",document.head.appendChild(l);const d=document.createElement("script");d.src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js",d.onload=()=>i(),document.head.appendChild(d)}else window.L&&i()},[]),y.useEffect(()=>{n.current&&window.L&&n.current.setView([parseFloat(t.lat),parseFloat(t.lng)],13)},[t]),y.useEffect(()=>{s&&r.current&&window.L&&r.current.setLatLng([parseFloat(s.lat),parseFloat(s.lng)])},[s]);const i=()=>{if(!window.L||n.current)return;const l=window.L.map("map-container").setView([parseFloat(t.lat),parseFloat(t.lng)],13);window.L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap contributors"}).addTo(l);const d=window.L.marker([parseFloat(t.lat),parseFloat(t.lng)],{draggable:!0}).addTo(l);d.on("dragend",u=>{const h=u.target.getLatLng();a(h.lat,h.lng)}),l.on("click",u=>{d.setLatLng(u.latlng),a(u.latlng.lat,u.latlng.lng)}),n.current=l,r.current=d};return e.jsx("div",{id:"map-container",className:"w-full h-full"})}const ls={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640",tealDim:"rgba(0, 140, 149, 0.1)",limeGreenDim:"rgba(138, 198, 64, 0.1)"};function _ee(){const[t,s]=y.useState([]),[a,n]=y.useState(null),[r,i]=y.useState([]),[l,d]=y.useState(""),[u,h]=y.useState(!1),[p,f]=y.useState(!0),[x,v]=y.useState(!1),[j,w]=y.useState(null),[_,N]=y.useState(""),k=y.useRef(null),D=y.useRef(null),T=y.useRef(null),E=y.useRef(null),G=y.useRef(null),[A]=y.useState(()=>localStorage.getItem("token")),F=(H,L)=>{const $=H?.created_at??H?.createdAt??H?.data?.created_at??null,z=H?.read_at??H?.data?.read_at??(H?.is_read?$:null);return{id:H?.id??H?.data?.id??`rt-${Date.now()}`,booking_id:H?.booking_id??H?.data?.booking_id??L,sender_id:H?.sender_id??H?.data?.sender_id??H?.sender?.id,receiver_id:H?.receiver_id??H?.data?.receiver_id??null,message:H?.message??H?.data?.message??"",read_at:z,created_at:$,sender:H?.sender??H?.data?.sender??null}};y.useEffect(()=>{if(!A){w("Authentication required. Please log in.");return}window.Pusher=oP,T.current=new iP({broadcaster:"pusher",key:"316e84fa5f5bf1a94b26",cluster:"ap1",forceTLS:!0,encrypted:!0,enabledTransports:["ws","wss"],authEndpoint:"https://rento-lb.com/api/api/broadcasting/auth",auth:{headers:{Authorization:`Bearer ${A}`,Accept:"application/json"}}});const H=T.current.connector.pusher;H.connection.bind("initialized",()=>console.log("[PUSHER] initialized")),H.connection.bind("connecting",()=>console.log("[PUSHER] connecting...")),H.connection.bind("connected",()=>console.log("[PUSHER]  connected")),H.connection.bind("disconnected",()=>console.log("[PUSHER] disconnected")),H.connection.bind("unavailable",()=>console.log("[PUSHER] unavailable")),H.connection.bind("failed",()=>console.log("[PUSHER]  failed")),H.connection.bind("error",L=>console.error("[PUSHER] error:",L)),console.log("[ECHO] authEndpoint:","https://rento-lb.com/api/api/broadcasting/auth"),console.log("[ECHO] cluster:","ap1"),console.log("[ECHO] key:","316e84fa5f5bf1a94b26");try{T.current.connector?.pusher?.connection?.bind("error",L=>{console.error("Pusher connection error:",L)})}catch{}return xe.get("/profile").then(({data:L})=>{E.current=L.user?.id,console.log("Current user ID:",E.current)}).catch(L=>{console.error("Failed to fetch profile:",L),w("Failed to load user profile")}),()=>{T.current?.disconnect()}},[A]),y.useEffect(()=>{A&&M()},[A]);const M=async()=>{f(!0),w(null);try{const{data:H}=await xe.get("/bookings"),$=(H?.bookings?.data??[]).filter(z=>z.booking_request_status==="confirmed"||z.booking_request_status==="accepted");s($)}catch(H){console.error("Failed to fetch bookings:",H),w("Failed to load bookings"),s([])}finally{f(!1)}},J=()=>{const H=k.current;H&&(H.scrollTop=H.scrollHeight)};y.useEffect(()=>{J()},[r]);const R=async H=>{h(!0),w(null);try{const{data:L}=await xe.get(`/bookings/${H}/chat`),$=L?.data?.data??L?.data?.messages??L?.messages??[];i($),$.forEach(z=>{!z.read_at&&z.sender_id!==E.current&&Y(H,z.id)})}catch(L){console.error("Failed to load messages:",L),w("Failed to load messages"),i([])}finally{h(!1)}};y.useEffect(()=>{if(!a?.id||!T.current)return;const H=a.id,L=`private-booking.${H}`;console.log("[ECHO] subscribing to:",L);const $=T.current.connector.pusher,z=$.subscribe(L);z.bind("pusher:subscription_succeeded",()=>{console.log("[PUSHER]  subscription_succeeded:",L)}),z.bind("pusher:subscription_error",ne=>{console.error("[PUSHER]  subscription_error:",L,"status:",ne),console.error("-> If status=403, your /broadcasting/auth or channels.php auth is rejecting the user.")});const ie=T.current.private(`booking.${H}`),le=ne=>{const fe=F(ne,H);i(Ne=>Ne.some(Le=>String(Le.id)===String(fe.id))?Ne:[...Ne,fe]),fe.sender_id&&fe.sender_id!==E.current&&Y(H,fe.id)};return ie.listen(".message.sent",le),ie.listen("message.sent",le),ie.listenForWhisper("typing",ne=>{ne?.user_id&&ne.user_id!==E.current&&(v(!0),G.current&&clearTimeout(G.current),G.current=setTimeout(()=>v(!1),3e3))}),ie.listen(".message.read",ne=>console.log("[ECHO] message.read:",ne)),R(H),()=>{console.log("[ECHO] leaving:",L),T.current?.leave(`booking.${H}`),$.unsubscribe(L)}},[a?.id]);const ee=async H=>{if(H.preventDefault(),!l.trim()||!a?.id)return;const L=a.id,$=l.trim();d("");try{const{data:z}=await xe.post(`/bookings/${L}/chat`,{booking_id:L,message:$}),ie=z?.data??z?.message;ie&&i(le=>[...le,ie])}catch(z){console.error("Failed to send message:",z),w("Failed to send message"),d($)}},Y=async(H,L)=>{try{await xe.post(`/bookings/${H}/chat/mark-read`,{message_id:L})}catch($){console.error("Failed to mark message as read:",$)}},re=async()=>{try{if(!t?.length)return;const H=await Promise.all(t.map(async $=>{try{const{data:z}=await xe.get(`/bookings/${$.id}/chat/unread-count`),ie=z?.data?.unread_count??z?.data??z?.unread_count??0;return{id:$.id,count:Number(ie)||0}}catch(z){return console.error(`Failed unread count for booking ${$.id}:`,z),{id:$.id,count:0}}})),L=Object.fromEntries(H.map($=>[$.id,$.count]));s($=>$.map(z=>({...z,unread_count:L[z.id]??0})))}catch(H){console.error("Failed to fetch unread counts:",H)}};y.useEffect(()=>{if(!A)return;t.length&&re();const H=setInterval(re,1e4);return()=>clearInterval(H)},[A,t.length]);const te=H=>{if(!H)return"";const L=new Date(H);if(Number.isNaN(L.getTime()))return"";const z=Math.floor((new Date-L)/6e4);if(z<1)return"Just now";if(z<60)return`${z}m ago`;const ie=Math.floor(z/60);if(ie<24)return`${ie}h ago`;const le=Math.floor(ie/24);return le<7?`${le}d ago`:L.toLocaleDateString("en-US",{month:"short",day:"numeric"})},V=H=>{if(!H)return"";const L=new Date(H);return Number.isNaN(L.getTime())?"":L.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},U=t.filter(H=>{if(!_)return!0;const L=_.toLowerCase(),$=`${H.car?.agent?.first_name||""} ${H.car?.agent?.last_name||""}`.toLowerCase(),z=`${H.car?.make||""} ${H.car?.model||""}`.toLowerCase();return $.includes(L)||z.includes(L)});return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-black dark:via-gray-900 dark:to-gray-950 pt-20",children:e.jsxs("div",{className:"container mx-auto px-4 py-6",children:[e.jsx(Ve.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center shadow-lg",style:{background:`linear-gradient(135deg, ${ls.teal}, ${ls.darkBlue})`},children:e.jsx(Ur,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(135deg, ${ls.darkBlue}, ${ls.teal}, ${ls.limeGreen})`},children:"My Bookings Chat"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Message your car agent"})]})]})}),e.jsx(go,{children:j&&e.jsx(Ve.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-4 p-4 rounded-xl border-2",style:{background:"rgba(220, 38, 38, 0.1)",borderColor:"#DC2626"},children:e.jsxs("p",{className:"text-red-800 dark:text-red-200 flex items-center gap-2",children:[e.jsx(ea,{className:"w-5 h-5"}),j]})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 h-[calc(100vh-180px)]",children:[e.jsxs("div",{className:"lg:col-span-1 bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden flex flex-col border border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ea,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search conversations...",value:_,onChange:H=>N(H.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 dark:text-white text-sm"})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:p?e.jsx("div",{className:"flex justify-center items-center h-full",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-t-transparent",style:{borderColor:ls.tealDim,borderTopColor:"transparent"}})}):U.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-gray-400",children:[e.jsx(Ur,{className:"w-16 h-16 mb-3",style:{color:ls.teal,opacity:.3}}),e.jsx("p",{className:"text-center font-medium",children:"No bookings found"}),e.jsx("p",{className:"text-xs text-center mt-1",children:"Book a car to start chatting"})]}):U.map(H=>{const L=H.car?.agent,$=L?.profile_picture?`/api/storage/${L.profile_picture}`:"/default-avatar.png";return e.jsx(Ve.div,{whileHover:{x:5},onClick:()=>n(H),className:`p-4 border-b border-gray-200 dark:border-gray-700 cursor-pointer transition-all ${a?.id===H.id?"border-l-4":"hover:bg-gray-50 dark:hover:bg-gray-700"}`,style:a?.id===H.id?{background:ls.tealDim,borderLeftColor:ls.teal}:{},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:$,alt:L?.first_name||"Agent",className:"w-12 h-12 rounded-full object-cover ring-2 ring-white dark:ring-gray-700"}),(H.unread_count??0)>0&&e.jsx(Ve.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},className:"absolute -top-1 -right-1 w-5 h-5 rounded-full flex items-center justify-center shadow-lg",style:{background:ls.limeGreen},children:e.jsx("span",{className:"text-xs text-white font-bold",children:H.unread_count})})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white truncate flex items-center gap-1",children:[L?.first_name||"N/A"," ",L?.last_name||"",L?.verified_by_admin&&e.jsx(Bn,{className:"w-3 h-3",style:{color:ls.teal}})]}),(H.unread_count??0)>0&&e.jsx(sn,{className:"w-4 h-4",style:{color:ls.teal}})]}),e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate flex items-center gap-1",children:[e.jsx(zt,{className:"w-3 h-3"}),H.car?.make||"N/A"," ",H.car?.model||""]})]})]})},H.id)})})]}),e.jsx("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden flex flex-col border border-gray-200 dark:border-gray-700",children:a?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4 text-white relative overflow-hidden",style:{background:`linear-gradient(135deg, ${ls.darkBlue}, ${ls.teal}, ${ls.limeGreen})`},children:[e.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-white/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-white/10 rounded-full blur-2xl"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:a.car?.agent?.profile_picture?`/api/storage/${a.car.agent.profile_picture}`:"/default-avatar.png",alt:a.car?.agent?.first_name||"Agent",className:"w-12 h-12 rounded-full object-cover border-2 border-white shadow-lg"}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",children:[a.car?.agent?.first_name||"N/A"," ",a.car?.agent?.last_name||"",a.car?.agent?.verified_by_admin&&e.jsx(Bn,{className:"w-4 h-4"})]}),e.jsx("p",{className:"text-xs opacity-90",children:"Car Agent"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[a.car?.agent?.phone_number&&e.jsx(Ve.a,{whileHover:{scale:1.1},whileTap:{scale:.9},href:`tel:${a.car.agent.phone_number}`,className:"p-2 bg-white/20 backdrop-blur-sm rounded-xl hover:bg-white/30 transition-colors",children:e.jsx(Gr,{className:"w-4 h-4"})}),a.car?.agent?.email&&e.jsx(Ve.a,{whileHover:{scale:1.1},whileTap:{scale:.9},href:`mailto:${a.car.agent.email}`,className:"p-2 bg-white/20 backdrop-blur-sm rounded-xl hover:bg-white/30 transition-colors",children:e.jsx(Nr,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"p-3 bg-white/10 backdrop-blur-sm rounded-xl",children:e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(zt,{className:"w-4 h-4"}),e.jsxs("span",{className:"truncate",children:[a.car?.make||"N/A"," ",a.car?.model||""]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Rs,{className:"w-4 h-4"}),e.jsx("span",{className:"truncate",children:a.start_datetime?V(a.start_datetime):"N/A"})]})]})})]})]}),e.jsxs("div",{ref:k,className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gradient-to-b from-gray-50/50 to-white dark:from-gray-900/50 dark:to-gray-800",style:{maxHeight:"calc(100vh - 450px)"},children:[u?e.jsx("div",{className:"flex justify-center items-center h-full",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-t-transparent",style:{borderColor:ls.tealDim,borderTopColor:"transparent"}})}):r.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[e.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mb-4",style:{background:ls.tealDim},children:e.jsx(Ur,{className:"w-10 h-10",style:{color:ls.teal}})}),e.jsx("p",{className:"text-lg font-medium",children:"No messages yet"}),e.jsx("p",{className:"text-sm",children:"Start the conversation!"})]}):e.jsxs(e.Fragment,{children:[r.map((H,L)=>{const $=H.sender_id===E.current||H.sender?.id===E.current,z=r[L-1],ie=L===0||z?.sender_id!==H.sender_id;return e.jsxs(Ve.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex items-end gap-2 ${$?"justify-end":"justify-start"}`,children:[!$&&ie&&e.jsx("img",{src:H.sender?.profile_picture?`/api/storage/${H.sender.profile_picture}`:"/default-avatar.png",alt:H.sender?.first_name||"User",className:"w-8 h-8 rounded-full object-cover ring-2 ring-white dark:ring-gray-700"}),!$&&!ie&&e.jsx("div",{className:"w-8"}),e.jsxs("div",{className:`flex flex-col ${$?"items-end":"items-start"} max-w-[70%]`,children:[e.jsx(Ve.div,{whileHover:{scale:1.02},className:`rounded-2xl px-4 py-2 shadow-md ${$?"text-white rounded-br-none":"bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-bl-none border border-gray-200 dark:border-gray-600"}`,style:$?{background:`linear-gradient(135deg, ${ls.teal}, ${ls.darkBlue})`}:{},children:e.jsx("p",{className:"text-sm whitespace-pre-wrap break-words leading-relaxed",children:H.message})}),e.jsxs("div",{className:"flex items-center gap-1 mt-1 px-1",children:[e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:te(H.created_at)}),$&&e.jsx("span",{children:H.read_at?e.jsx(YT,{className:"w-3 h-3",style:{color:ls.teal}}):e.jsx(Jn,{className:"w-3 h-3 text-gray-400"})})]})]}),$&&ie&&e.jsx("img",{src:H.sender?.profile_picture?`/api/storage/${H.sender.profile_picture}`:"/default-avatar.png",alt:H.sender?.first_name||"You",className:"w-8 h-8 rounded-full object-cover ring-2 ring-white dark:ring-gray-700"}),$&&!ie&&e.jsx("div",{className:"w-8"})]},H.id)}),e.jsx("div",{ref:D})]}),e.jsx(go,{children:x&&e.jsxs(Ve.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"flex items-center gap-2",children:[e.jsx("img",{src:a.car?.agent?.profile_picture?`/api/storage/${a.car.agent.profile_picture}`:"/default-avatar.png",alt:a.car?.agent?.first_name||"Agent",className:"w-8 h-8 rounded-full object-cover ring-2 ring-white dark:ring-gray-700"}),e.jsx("div",{className:"bg-white dark:bg-gray-700 rounded-2xl rounded-bl-none px-4 py-3 border border-gray-200 dark:border-gray-600",children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{background:ls.teal,animationDelay:"0ms"}}),e.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{background:ls.darkBlue,animationDelay:"150ms"}}),e.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{background:ls.limeGreen,animationDelay:"300ms"}})]})})]})})]}),e.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsx(Ve.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 rounded-xl transition-colors",style:{background:ls.tealDim,color:ls.teal},type:"button",children:e.jsx(rD,{className:"w-5 h-5"})}),e.jsx(Ve.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 rounded-xl transition-colors",style:{background:ls.limeGreenDim,color:ls.limeGreen},type:"button",children:e.jsx(oD,{className:"w-5 h-5"})}),e.jsx("div",{className:"flex-1 relative",children:e.jsx("textarea",{value:l,onChange:H=>{d(H.target.value)},onKeyDown:H=>{H.key==="Enter"&&!H.shiftKey&&(H.preventDefault(),ee(H))},placeholder:"Type your message...",rows:1,className:"w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 dark:bg-gray-700 dark:text-white resize-none"})}),e.jsx(Ve.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:ee,disabled:!l.trim(),className:"p-3 rounded-xl text-white font-semibold disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg hover:shadow-xl",style:{background:`linear-gradient(135deg, ${ls.teal}, ${ls.darkBlue})`},type:"button",children:e.jsx(rx,{className:"w-5 h-5"})})]})})]}):e.jsx("div",{className:"flex-1 flex flex-col items-center justify-center",children:e.jsxs(Ve.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"text-center",children:[e.jsx("div",{className:"w-24 h-24 rounded-full flex items-center justify-center mb-6 mx-auto",style:{background:`linear-gradient(135deg, ${ls.tealDim}, ${ls.limeGreenDim})`},children:e.jsx(Ur,{className:"w-12 h-12",style:{color:ls.teal}})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Select a Booking"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Choose a conversation to start chatting"})]})})})]})]})})}function Vm(t){return t+.5|0}const cl=(t,s,a)=>Math.max(Math.min(t,a),s);function Bh(t){return cl(Vm(t*2.55),0,255)}function fl(t){return cl(Vm(t*255),0,255)}function so(t){return cl(Vm(t/2.55)/100,0,1)}function bA(t){return cl(Vm(t*100),0,100)}const vr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},vj=[..."0123456789ABCDEF"],Cee=t=>vj[t&15],kee=t=>vj[(t&240)>>4]+vj[t&15],Dp=t=>(t&240)>>4===(t&15),See=t=>Dp(t.r)&&Dp(t.g)&&Dp(t.b)&&Dp(t.a);function Aee(t){var s=t.length,a;return t[0]==="#"&&(s===4||s===5?a={r:255&vr[t[1]]*17,g:255&vr[t[2]]*17,b:255&vr[t[3]]*17,a:s===5?vr[t[4]]*17:255}:(s===7||s===9)&&(a={r:vr[t[1]]<<4|vr[t[2]],g:vr[t[3]]<<4|vr[t[4]],b:vr[t[5]]<<4|vr[t[6]],a:s===9?vr[t[7]]<<4|vr[t[8]]:255})),a}const Tee=(t,s)=>t<255?s(t):"";function Dee(t){var s=See(t)?Cee:kee;return t?"#"+s(t.r)+s(t.g)+s(t.b)+Tee(t.a,s):void 0}const Eee=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function cP(t,s,a){const n=s*Math.min(a,1-a),r=(i,l=(i+t/30)%12)=>a-n*Math.max(Math.min(l-3,9-l,1),-1);return[r(0),r(8),r(4)]}function Ree(t,s,a){const n=(r,i=(r+t/60)%6)=>a-a*s*Math.max(Math.min(i,4-i,1),0);return[n(5),n(3),n(1)]}function Mee(t,s,a){const n=cP(t,1,.5);let r;for(s+a>1&&(r=1/(s+a),s*=r,a*=r),r=0;r<3;r++)n[r]*=1-s-a,n[r]+=s;return n}function Pee(t,s,a,n,r){return t===r?(s-a)/n+(s<a?6:0):s===r?(a-t)/n+2:(t-s)/n+4}function c1(t){const a=t.r/255,n=t.g/255,r=t.b/255,i=Math.max(a,n,r),l=Math.min(a,n,r),d=(i+l)/2;let u,h,p;return i!==l&&(p=i-l,h=d>.5?p/(2-i-l):p/(i+l),u=Pee(a,n,r,p,i),u=u*60+.5),[u|0,h||0,d]}function d1(t,s,a,n){return(Array.isArray(s)?t(s[0],s[1],s[2]):t(s,a,n)).map(fl)}function u1(t,s,a){return d1(cP,t,s,a)}function Oee(t,s,a){return d1(Mee,t,s,a)}function Lee(t,s,a){return d1(Ree,t,s,a)}function dP(t){return(t%360+360)%360}function Bee(t){const s=Eee.exec(t);let a=255,n;if(!s)return;s[5]!==n&&(a=s[6]?Bh(+s[5]):fl(+s[5]));const r=dP(+s[2]),i=+s[3]/100,l=+s[4]/100;return s[1]==="hwb"?n=Oee(r,i,l):s[1]==="hsv"?n=Lee(r,i,l):n=u1(r,i,l),{r:n[0],g:n[1],b:n[2],a}}function Fee(t,s){var a=c1(t);a[0]=dP(a[0]+s),a=u1(a),t.r=a[0],t.g=a[1],t.b=a[2]}function Iee(t){if(!t)return;const s=c1(t),a=s[0],n=bA(s[1]),r=bA(s[2]);return t.a<255?`hsla(${a}, ${n}%, ${r}%, ${so(t.a)})`:`hsl(${a}, ${n}%, ${r}%)`}const vA={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},jA={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function $ee(){const t={},s=Object.keys(jA),a=Object.keys(vA);let n,r,i,l,d;for(n=0;n<s.length;n++){for(l=d=s[n],r=0;r<a.length;r++)i=a[r],d=d.replace(i,vA[i]);i=parseInt(jA[l],16),t[d]=[i>>16&255,i>>8&255,i&255]}return t}let Ep;function zee(t){Ep||(Ep=$ee(),Ep.transparent=[0,0,0,0]);const s=Ep[t.toLowerCase()];return s&&{r:s[0],g:s[1],b:s[2],a:s.length===4?s[3]:255}}const Vee=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function Uee(t){const s=Vee.exec(t);let a=255,n,r,i;if(s){if(s[7]!==n){const l=+s[7];a=s[8]?Bh(l):cl(l*255,0,255)}return n=+s[1],r=+s[3],i=+s[5],n=255&(s[2]?Bh(n):cl(n,0,255)),r=255&(s[4]?Bh(r):cl(r,0,255)),i=255&(s[6]?Bh(i):cl(i,0,255)),{r:n,g:r,b:i,a}}}function Hee(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${so(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const Kb=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Md=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function qee(t,s,a){const n=Md(so(t.r)),r=Md(so(t.g)),i=Md(so(t.b));return{r:fl(Kb(n+a*(Md(so(s.r))-n))),g:fl(Kb(r+a*(Md(so(s.g))-r))),b:fl(Kb(i+a*(Md(so(s.b))-i))),a:t.a+a*(s.a-t.a)}}function Rp(t,s,a){if(t){let n=c1(t);n[s]=Math.max(0,Math.min(n[s]+n[s]*a,s===0?360:1)),n=u1(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function uP(t,s){return t&&Object.assign(s||{},t)}function wA(t){var s={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(s={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(s.a=fl(t[3]))):(s=uP(t,{r:0,g:0,b:0,a:1}),s.a=fl(s.a)),s}function Gee(t){return t.charAt(0)==="r"?Uee(t):Bee(t)}class hm{constructor(s){if(s instanceof hm)return s;const a=typeof s;let n;a==="object"?n=wA(s):a==="string"&&(n=Aee(s)||zee(s)||Gee(s)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var s=uP(this._rgb);return s&&(s.a=so(s.a)),s}set rgb(s){this._rgb=wA(s)}rgbString(){return this._valid?Hee(this._rgb):void 0}hexString(){return this._valid?Dee(this._rgb):void 0}hslString(){return this._valid?Iee(this._rgb):void 0}mix(s,a){if(s){const n=this.rgb,r=s.rgb;let i;const l=a===i?.5:a,d=2*l-1,u=n.a-r.a,h=((d*u===-1?d:(d+u)/(1+d*u))+1)/2;i=1-h,n.r=255&h*n.r+i*r.r+.5,n.g=255&h*n.g+i*r.g+.5,n.b=255&h*n.b+i*r.b+.5,n.a=l*n.a+(1-l)*r.a,this.rgb=n}return this}interpolate(s,a){return s&&(this._rgb=qee(this._rgb,s._rgb,a)),this}clone(){return new hm(this.rgb)}alpha(s){return this._rgb.a=fl(s),this}clearer(s){const a=this._rgb;return a.a*=1-s,this}greyscale(){const s=this._rgb,a=Vm(s.r*.3+s.g*.59+s.b*.11);return s.r=s.g=s.b=a,this}opaquer(s){const a=this._rgb;return a.a*=1+s,this}negate(){const s=this._rgb;return s.r=255-s.r,s.g=255-s.g,s.b=255-s.b,this}lighten(s){return Rp(this._rgb,2,s),this}darken(s){return Rp(this._rgb,2,-s),this}saturate(s){return Rp(this._rgb,1,s),this}desaturate(s){return Rp(this._rgb,1,-s),this}rotate(s){return Fee(this._rgb,s),this}}function Ji(){}const Wee=(()=>{let t=0;return()=>t++})();function Kt(t){return t==null}function Ws(t){if(Array.isArray&&Array.isArray(t))return!0;const s=Object.prototype.toString.call(t);return s.slice(0,7)==="[object"&&s.slice(-6)==="Array]"}function es(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function la(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Qn(t,s){return la(t)?t:s}function Ft(t,s){return typeof t>"u"?s:t}const Yee=(t,s)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/s,hP=(t,s)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*s:+t;function Ls(t,s,a){if(t&&typeof t.call=="function")return t.apply(a,s)}function _s(t,s,a,n){let r,i,l;if(Ws(t))for(i=t.length,r=0;r<i;r++)s.call(a,t[r],r);else if(es(t))for(l=Object.keys(t),i=l.length,r=0;r<i;r++)s.call(a,t[l[r]],l[r])}function zg(t,s){let a,n,r,i;if(!t||!s||t.length!==s.length)return!1;for(a=0,n=t.length;a<n;++a)if(r=t[a],i=s[a],r.datasetIndex!==i.datasetIndex||r.index!==i.index)return!1;return!0}function Vg(t){if(Ws(t))return t.map(Vg);if(es(t)){const s=Object.create(null),a=Object.keys(t),n=a.length;let r=0;for(;r<n;++r)s[a[r]]=Vg(t[a[r]]);return s}return t}function mP(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function Kee(t,s,a,n){if(!mP(t))return;const r=s[t],i=a[t];es(r)&&es(i)?mm(r,i,n):s[t]=Vg(i)}function mm(t,s,a){const n=Ws(s)?s:[s],r=n.length;if(!es(t))return t;a=a||{};const i=a.merger||Kee;let l;for(let d=0;d<r;++d){if(l=n[d],!es(l))continue;const u=Object.keys(l);for(let h=0,p=u.length;h<p;++h)i(u[h],t,l,a)}return t}function Yh(t,s){return mm(t,s,{merger:Xee})}function Xee(t,s,a){if(!mP(t))return;const n=s[t],r=a[t];es(n)&&es(r)?Yh(n,r):Object.prototype.hasOwnProperty.call(s,t)||(s[t]=Vg(r))}const NA={"":t=>t,x:t=>t.x,y:t=>t.y};function Qee(t){const s=t.split("."),a=[];let n="";for(const r of s)n+=r,n.endsWith("\\")?n=n.slice(0,-1)+".":(a.push(n),n="");return a}function Zee(t){const s=Qee(t);return a=>{for(const n of s){if(n==="")break;a=a&&a[n]}return a}}function _l(t,s){return(NA[s]||(NA[s]=Zee(s)))(t)}function h1(t){return t.charAt(0).toUpperCase()+t.slice(1)}const fm=t=>typeof t<"u",Cl=t=>typeof t=="function",_A=(t,s)=>{if(t.size!==s.size)return!1;for(const a of t)if(!s.has(a))return!1;return!0};function Jee(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const ms=Math.PI,Vs=2*ms,ete=Vs+ms,Ug=Number.POSITIVE_INFINITY,tte=ms/180,ma=ms/2,ic=ms/4,CA=ms*2/3,dl=Math.log10,Ni=Math.sign;function Kh(t,s,a){return Math.abs(t-s)<a}function kA(t){const s=Math.round(t);t=Kh(t,s,t/1e3)?s:t;const a=Math.pow(10,Math.floor(dl(t))),n=t/a;return(n<=1?1:n<=2?2:n<=5?5:10)*a}function ste(t){const s=[],a=Math.sqrt(t);let n;for(n=1;n<a;n++)t%n===0&&(s.push(n),s.push(t/n));return a===(a|0)&&s.push(a),s.sort((r,i)=>r-i).pop(),s}function ate(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function au(t){return!ate(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function nte(t,s){const a=Math.round(t);return a-s<=t&&a+s>=t}function fP(t,s,a){let n,r,i;for(n=0,r=t.length;n<r;n++)i=t[n][a],isNaN(i)||(s.min=Math.min(s.min,i),s.max=Math.max(s.max,i))}function Hr(t){return t*(ms/180)}function m1(t){return t*(180/ms)}function SA(t){if(!la(t))return;let s=1,a=0;for(;Math.round(t*s)/s!==t;)s*=10,a++;return a}function pP(t,s){const a=s.x-t.x,n=s.y-t.y,r=Math.sqrt(a*a+n*n);let i=Math.atan2(n,a);return i<-.5*ms&&(i+=Vs),{angle:i,distance:r}}function jj(t,s){return Math.sqrt(Math.pow(s.x-t.x,2)+Math.pow(s.y-t.y,2))}function rte(t,s){return(t-s+ete)%Vs-ms}function Ja(t){return(t%Vs+Vs)%Vs}function pm(t,s,a,n){const r=Ja(t),i=Ja(s),l=Ja(a),d=Ja(i-r),u=Ja(l-r),h=Ja(r-i),p=Ja(r-l);return r===i||r===l||n&&i===l||d>u&&h<p}function za(t,s,a){return Math.max(s,Math.min(a,t))}function ite(t){return za(t,-32768,32767)}function ao(t,s,a,n=1e-6){return t>=Math.min(s,a)-n&&t<=Math.max(s,a)+n}function f1(t,s,a){a=a||(l=>t[l]<s);let n=t.length-1,r=0,i;for(;n-r>1;)i=r+n>>1,a(i)?r=i:n=i;return{lo:r,hi:n}}const no=(t,s,a,n)=>f1(t,a,n?r=>{const i=t[r][s];return i<a||i===a&&t[r+1][s]===a}:r=>t[r][s]<a),ote=(t,s,a)=>f1(t,a,n=>t[n][s]>=a);function lte(t,s,a){let n=0,r=t.length;for(;n<r&&t[n]<s;)n++;for(;r>n&&t[r-1]>a;)r--;return n>0||r<t.length?t.slice(n,r):t}const gP=["push","pop","shift","splice","unshift"];function cte(t,s){if(t._chartjs){t._chartjs.listeners.push(s);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[s]}}),gP.forEach(a=>{const n="_onData"+h1(a),r=t[a];Object.defineProperty(t,a,{configurable:!0,enumerable:!1,value(...i){const l=r.apply(this,i);return t._chartjs.listeners.forEach(d=>{typeof d[n]=="function"&&d[n](...i)}),l}})})}function AA(t,s){const a=t._chartjs;if(!a)return;const n=a.listeners,r=n.indexOf(s);r!==-1&&n.splice(r,1),!(n.length>0)&&(gP.forEach(i=>{delete t[i]}),delete t._chartjs)}function xP(t){const s=new Set(t);return s.size===t.length?t:Array.from(s)}const yP=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function bP(t,s){let a=[],n=!1;return function(...r){a=r,n||(n=!0,yP.call(window,()=>{n=!1,t.apply(s,a)}))}}function dte(t,s){let a;return function(...n){return s?(clearTimeout(a),a=setTimeout(t,s,n)):t.apply(this,n),s}}const p1=t=>t==="start"?"left":t==="end"?"right":"center",Za=(t,s,a)=>t==="start"?s:t==="end"?a:(s+a)/2,ute=(t,s,a,n)=>t===(n?"left":"right")?a:t==="center"?(s+a)/2:s;function vP(t,s,a){const n=s.length;let r=0,i=n;if(t._sorted){const{iScale:l,vScale:d,_parsed:u}=t,h=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,p=l.axis,{min:f,max:x,minDefined:v,maxDefined:j}=l.getUserBounds();if(v){if(r=Math.min(no(u,p,f).lo,a?n:no(s,p,l.getPixelForValue(f)).lo),h){const w=u.slice(0,r+1).reverse().findIndex(_=>!Kt(_[d.axis]));r-=Math.max(0,w)}r=za(r,0,n-1)}if(j){let w=Math.max(no(u,l.axis,x,!0).hi+1,a?0:no(s,p,l.getPixelForValue(x),!0).hi+1);if(h){const _=u.slice(w-1).findIndex(N=>!Kt(N[d.axis]));w+=Math.max(0,_)}i=za(w,r,n)-r}else i=n-r}return{start:r,count:i}}function jP(t){const{xScale:s,yScale:a,_scaleRanges:n}=t,r={xmin:s.min,xmax:s.max,ymin:a.min,ymax:a.max};if(!n)return t._scaleRanges=r,!0;const i=n.xmin!==s.min||n.xmax!==s.max||n.ymin!==a.min||n.ymax!==a.max;return Object.assign(n,r),i}const Mp=t=>t===0||t===1,TA=(t,s,a)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-s)*Vs/a)),DA=(t,s,a)=>Math.pow(2,-10*t)*Math.sin((t-s)*Vs/a)+1,Xh={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*ma)+1,easeOutSine:t=>Math.sin(t*ma),easeInOutSine:t=>-.5*(Math.cos(ms*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Mp(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Mp(t)?t:TA(t,.075,.3),easeOutElastic:t=>Mp(t)?t:DA(t,.075,.3),easeInOutElastic(t){return Mp(t)?t:t<.5?.5*TA(t*2,.1125,.45):.5+.5*DA(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let s=1.70158;return(t/=.5)<1?.5*(t*t*(((s*=1.525)+1)*t-s)):.5*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)},easeInBounce:t=>1-Xh.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?Xh.easeInBounce(t*2)*.5:Xh.easeOutBounce(t*2-1)*.5+.5};function g1(t){if(t&&typeof t=="object"){const s=t.toString();return s==="[object CanvasPattern]"||s==="[object CanvasGradient]"}return!1}function EA(t){return g1(t)?t:new hm(t)}function Xb(t){return g1(t)?t:new hm(t).saturate(.5).darken(.1).hexString()}const hte=["x","y","borderWidth","radius","tension"],mte=["color","borderColor","backgroundColor"];function fte(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:s=>s!=="onProgress"&&s!=="onComplete"&&s!=="fn"}),t.set("animations",{colors:{type:"color",properties:mte},numbers:{type:"number",properties:hte}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:s=>s|0}}}})}function pte(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const RA=new Map;function gte(t,s){s=s||{};const a=t+JSON.stringify(s);let n=RA.get(a);return n||(n=new Intl.NumberFormat(t,s),RA.set(a,n)),n}function Um(t,s,a){return gte(s,a).format(t)}const wP={values(t){return Ws(t)?t:""+t},numeric(t,s,a){if(t===0)return"0";const n=this.chart.options.locale;let r,i=t;if(a.length>1){const h=Math.max(Math.abs(a[0].value),Math.abs(a[a.length-1].value));(h<1e-4||h>1e15)&&(r="scientific"),i=xte(t,a)}const l=dl(Math.abs(i)),d=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),u={notation:r,minimumFractionDigits:d,maximumFractionDigits:d};return Object.assign(u,this.options.ticks.format),Um(t,n,u)},logarithmic(t,s,a){if(t===0)return"0";const n=a[s].significand||t/Math.pow(10,Math.floor(dl(t)));return[1,2,3,5,10,15].includes(n)||s>.8*a.length?wP.numeric.call(this,t,s,a):""}};function xte(t,s){let a=s.length>3?s[2].value-s[1].value:s[1].value-s[0].value;return Math.abs(a)>=1&&t!==Math.floor(t)&&(a=t-Math.floor(t)),a}var Px={formatters:wP};function yte(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(s,a)=>a.lineWidth,tickColor:(s,a)=>a.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:Px.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:s=>!s.startsWith("before")&&!s.startsWith("after")&&s!=="callback"&&s!=="parser",_indexable:s=>s!=="borderDash"&&s!=="tickBorderDash"&&s!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:s=>s!=="backdropPadding"&&s!=="callback",_indexable:s=>s!=="backdropPadding"})}const Ic=Object.create(null),wj=Object.create(null);function Qh(t,s){if(!s)return t;const a=s.split(".");for(let n=0,r=a.length;n<r;++n){const i=a[n];t=t[i]||(t[i]=Object.create(null))}return t}function Qb(t,s,a){return typeof s=="string"?mm(Qh(t,s),a):mm(Qh(t,""),s)}class bte{constructor(s,a){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,r)=>Xb(r.backgroundColor),this.hoverBorderColor=(n,r)=>Xb(r.borderColor),this.hoverColor=(n,r)=>Xb(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(s),this.apply(a)}set(s,a){return Qb(this,s,a)}get(s){return Qh(this,s)}describe(s,a){return Qb(wj,s,a)}override(s,a){return Qb(Ic,s,a)}route(s,a,n,r){const i=Qh(this,s),l=Qh(this,n),d="_"+a;Object.defineProperties(i,{[d]:{value:i[a],writable:!0},[a]:{enumerable:!0,get(){const u=this[d],h=l[r];return es(u)?Object.assign({},h,u):Ft(u,h)},set(u){this[d]=u}}})}apply(s){s.forEach(a=>a(this))}}var Qs=new bte({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[fte,pte,yte]);function vte(t){return!t||Kt(t.size)||Kt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Hg(t,s,a,n,r){let i=s[r];return i||(i=s[r]=t.measureText(r).width,a.push(r)),i>n&&(n=i),n}function jte(t,s,a,n){n=n||{};let r=n.data=n.data||{},i=n.garbageCollect=n.garbageCollect||[];n.font!==s&&(r=n.data={},i=n.garbageCollect=[],n.font=s),t.save(),t.font=s;let l=0;const d=a.length;let u,h,p,f,x;for(u=0;u<d;u++)if(f=a[u],f!=null&&!Ws(f))l=Hg(t,r,i,l,f);else if(Ws(f))for(h=0,p=f.length;h<p;h++)x=f[h],x!=null&&!Ws(x)&&(l=Hg(t,r,i,l,x));t.restore();const v=i.length/2;if(v>a.length){for(u=0;u<v;u++)delete r[i[u]];i.splice(0,v)}return l}function oc(t,s,a){const n=t.currentDevicePixelRatio,r=a!==0?Math.max(a/2,.5):0;return Math.round((s-r)*n)/n+r}function MA(t,s){!s&&!t||(s=s||t.getContext("2d"),s.save(),s.resetTransform(),s.clearRect(0,0,t.width,t.height),s.restore())}function Nj(t,s,a,n){NP(t,s,a,n,null)}function NP(t,s,a,n,r){let i,l,d,u,h,p,f,x;const v=s.pointStyle,j=s.rotation,w=s.radius;let _=(j||0)*tte;if(v&&typeof v=="object"&&(i=v.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(a,n),t.rotate(_),t.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),t.restore();return}if(!(isNaN(w)||w<=0)){switch(t.beginPath(),v){default:r?t.ellipse(a,n,r/2,w,0,0,Vs):t.arc(a,n,w,0,Vs),t.closePath();break;case"triangle":p=r?r/2:w,t.moveTo(a+Math.sin(_)*p,n-Math.cos(_)*w),_+=CA,t.lineTo(a+Math.sin(_)*p,n-Math.cos(_)*w),_+=CA,t.lineTo(a+Math.sin(_)*p,n-Math.cos(_)*w),t.closePath();break;case"rectRounded":h=w*.516,u=w-h,l=Math.cos(_+ic)*u,f=Math.cos(_+ic)*(r?r/2-h:u),d=Math.sin(_+ic)*u,x=Math.sin(_+ic)*(r?r/2-h:u),t.arc(a-f,n-d,h,_-ms,_-ma),t.arc(a+x,n-l,h,_-ma,_),t.arc(a+f,n+d,h,_,_+ma),t.arc(a-x,n+l,h,_+ma,_+ms),t.closePath();break;case"rect":if(!j){u=Math.SQRT1_2*w,p=r?r/2:u,t.rect(a-p,n-u,2*p,2*u);break}_+=ic;case"rectRot":f=Math.cos(_)*(r?r/2:w),l=Math.cos(_)*w,d=Math.sin(_)*w,x=Math.sin(_)*(r?r/2:w),t.moveTo(a-f,n-d),t.lineTo(a+x,n-l),t.lineTo(a+f,n+d),t.lineTo(a-x,n+l),t.closePath();break;case"crossRot":_+=ic;case"cross":f=Math.cos(_)*(r?r/2:w),l=Math.cos(_)*w,d=Math.sin(_)*w,x=Math.sin(_)*(r?r/2:w),t.moveTo(a-f,n-d),t.lineTo(a+f,n+d),t.moveTo(a+x,n-l),t.lineTo(a-x,n+l);break;case"star":f=Math.cos(_)*(r?r/2:w),l=Math.cos(_)*w,d=Math.sin(_)*w,x=Math.sin(_)*(r?r/2:w),t.moveTo(a-f,n-d),t.lineTo(a+f,n+d),t.moveTo(a+x,n-l),t.lineTo(a-x,n+l),_+=ic,f=Math.cos(_)*(r?r/2:w),l=Math.cos(_)*w,d=Math.sin(_)*w,x=Math.sin(_)*(r?r/2:w),t.moveTo(a-f,n-d),t.lineTo(a+f,n+d),t.moveTo(a+x,n-l),t.lineTo(a-x,n+l);break;case"line":l=r?r/2:Math.cos(_)*w,d=Math.sin(_)*w,t.moveTo(a-l,n-d),t.lineTo(a+l,n+d);break;case"dash":t.moveTo(a,n),t.lineTo(a+Math.cos(_)*(r?r/2:w),n+Math.sin(_)*w);break;case!1:t.closePath();break}t.fill(),s.borderWidth>0&&t.stroke()}}function ro(t,s,a){return a=a||.5,!s||t&&t.x>s.left-a&&t.x<s.right+a&&t.y>s.top-a&&t.y<s.bottom+a}function Ox(t,s){t.save(),t.beginPath(),t.rect(s.left,s.top,s.right-s.left,s.bottom-s.top),t.clip()}function Lx(t){t.restore()}function wte(t,s,a,n,r){if(!s)return t.lineTo(a.x,a.y);if(r==="middle"){const i=(s.x+a.x)/2;t.lineTo(i,s.y),t.lineTo(i,a.y)}else r==="after"!=!!n?t.lineTo(s.x,a.y):t.lineTo(a.x,s.y);t.lineTo(a.x,a.y)}function Nte(t,s,a,n){if(!s)return t.lineTo(a.x,a.y);t.bezierCurveTo(n?s.cp1x:s.cp2x,n?s.cp1y:s.cp2y,n?a.cp2x:a.cp1x,n?a.cp2y:a.cp1y,a.x,a.y)}function _te(t,s){s.translation&&t.translate(s.translation[0],s.translation[1]),Kt(s.rotation)||t.rotate(s.rotation),s.color&&(t.fillStyle=s.color),s.textAlign&&(t.textAlign=s.textAlign),s.textBaseline&&(t.textBaseline=s.textBaseline)}function Cte(t,s,a,n,r){if(r.strikethrough||r.underline){const i=t.measureText(n),l=s-i.actualBoundingBoxLeft,d=s+i.actualBoundingBoxRight,u=a-i.actualBoundingBoxAscent,h=a+i.actualBoundingBoxDescent,p=r.strikethrough?(u+h)/2:h;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(l,p),t.lineTo(d,p),t.stroke()}}function kte(t,s){const a=t.fillStyle;t.fillStyle=s.color,t.fillRect(s.left,s.top,s.width,s.height),t.fillStyle=a}function $c(t,s,a,n,r,i={}){const l=Ws(s)?s:[s],d=i.strokeWidth>0&&i.strokeColor!=="";let u,h;for(t.save(),t.font=r.string,_te(t,i),u=0;u<l.length;++u)h=l[u],i.backdrop&&kte(t,i.backdrop),d&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),Kt(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(h,a,n,i.maxWidth)),t.fillText(h,a,n,i.maxWidth),Cte(t,a,n,h,i),n+=Number(r.lineHeight);t.restore()}function gm(t,s){const{x:a,y:n,w:r,h:i,radius:l}=s;t.arc(a+l.topLeft,n+l.topLeft,l.topLeft,1.5*ms,ms,!0),t.lineTo(a,n+i-l.bottomLeft),t.arc(a+l.bottomLeft,n+i-l.bottomLeft,l.bottomLeft,ms,ma,!0),t.lineTo(a+r-l.bottomRight,n+i),t.arc(a+r-l.bottomRight,n+i-l.bottomRight,l.bottomRight,ma,0,!0),t.lineTo(a+r,n+l.topRight),t.arc(a+r-l.topRight,n+l.topRight,l.topRight,0,-ma,!0),t.lineTo(a+l.topLeft,n)}const Ste=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Ate=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Tte(t,s){const a=(""+t).match(Ste);if(!a||a[1]==="normal")return s*1.2;switch(t=+a[2],a[3]){case"px":return t;case"%":t/=100;break}return s*t}const Dte=t=>+t||0;function x1(t,s){const a={},n=es(s),r=n?Object.keys(s):s,i=es(t)?n?l=>Ft(t[l],t[s[l]]):l=>t[l]:()=>t;for(const l of r)a[l]=Dte(i(l));return a}function _P(t){return x1(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Ac(t){return x1(t,["topLeft","topRight","bottomLeft","bottomRight"])}function ln(t){const s=_P(t);return s.width=s.left+s.right,s.height=s.top+s.bottom,s}function Da(t,s){t=t||{},s=s||Qs.font;let a=Ft(t.size,s.size);typeof a=="string"&&(a=parseInt(a,10));let n=Ft(t.style,s.style);n&&!(""+n).match(Ate)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const r={family:Ft(t.family,s.family),lineHeight:Tte(Ft(t.lineHeight,s.lineHeight),a),size:a,style:n,weight:Ft(t.weight,s.weight),string:""};return r.string=vte(r),r}function Fh(t,s,a,n){let r,i,l;for(r=0,i=t.length;r<i;++r)if(l=t[r],l!==void 0&&l!==void 0)return l}function Ete(t,s,a){const{min:n,max:r}=t,i=hP(s,(r-n)/2),l=(d,u)=>a&&d===0?0:d+u;return{min:l(n,-Math.abs(i)),max:l(r,i)}}function Dl(t,s){return Object.assign(Object.create(t),s)}function y1(t,s=[""],a,n,r=()=>t[0]){const i=a||t;typeof n>"u"&&(n=AP("_fallback",t));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:n,_getTarget:r,override:d=>y1([d,...t],s,i,n)};return new Proxy(l,{deleteProperty(d,u){return delete d[u],delete d._keys,delete t[0][u],!0},get(d,u){return kP(d,u,()=>Ite(u,s,t,d))},getOwnPropertyDescriptor(d,u){return Reflect.getOwnPropertyDescriptor(d._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(d,u){return OA(d).includes(u)},ownKeys(d){return OA(d)},set(d,u,h){const p=d._storage||(d._storage=r());return d[u]=p[u]=h,delete d._keys,!0}})}function nu(t,s,a,n){const r={_cacheable:!1,_proxy:t,_context:s,_subProxy:a,_stack:new Set,_descriptors:CP(t,n),setContext:i=>nu(t,i,a,n),override:i=>nu(t.override(i),s,a,n)};return new Proxy(r,{deleteProperty(i,l){return delete i[l],delete t[l],!0},get(i,l,d){return kP(i,l,()=>Mte(i,l,d))},getOwnPropertyDescriptor(i,l){return i._descriptors.allKeys?Reflect.has(t,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,l)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,l){return Reflect.has(t,l)},ownKeys(){return Reflect.ownKeys(t)},set(i,l,d){return t[l]=d,delete i[l],!0}})}function CP(t,s={scriptable:!0,indexable:!0}){const{_scriptable:a=s.scriptable,_indexable:n=s.indexable,_allKeys:r=s.allKeys}=t;return{allKeys:r,scriptable:a,indexable:n,isScriptable:Cl(a)?a:()=>a,isIndexable:Cl(n)?n:()=>n}}const Rte=(t,s)=>t?t+h1(s):s,b1=(t,s)=>es(s)&&t!=="adapters"&&(Object.getPrototypeOf(s)===null||s.constructor===Object);function kP(t,s,a){if(Object.prototype.hasOwnProperty.call(t,s)||s==="constructor")return t[s];const n=a();return t[s]=n,n}function Mte(t,s,a){const{_proxy:n,_context:r,_subProxy:i,_descriptors:l}=t;let d=n[s];return Cl(d)&&l.isScriptable(s)&&(d=Pte(s,d,t,a)),Ws(d)&&d.length&&(d=Ote(s,d,t,l.isIndexable)),b1(s,d)&&(d=nu(d,r,i&&i[s],l)),d}function Pte(t,s,a,n){const{_proxy:r,_context:i,_subProxy:l,_stack:d}=a;if(d.has(t))throw new Error("Recursion detected: "+Array.from(d).join("->")+"->"+t);d.add(t);let u=s(i,l||n);return d.delete(t),b1(t,u)&&(u=v1(r._scopes,r,t,u)),u}function Ote(t,s,a,n){const{_proxy:r,_context:i,_subProxy:l,_descriptors:d}=a;if(typeof i.index<"u"&&n(t))return s[i.index%s.length];if(es(s[0])){const u=s,h=r._scopes.filter(p=>p!==u);s=[];for(const p of u){const f=v1(h,r,t,p);s.push(nu(f,i,l&&l[t],d))}}return s}function SP(t,s,a){return Cl(t)?t(s,a):t}const Lte=(t,s)=>t===!0?s:typeof t=="string"?_l(s,t):void 0;function Bte(t,s,a,n,r){for(const i of s){const l=Lte(a,i);if(l){t.add(l);const d=SP(l._fallback,a,r);if(typeof d<"u"&&d!==a&&d!==n)return d}else if(l===!1&&typeof n<"u"&&a!==n)return null}return!1}function v1(t,s,a,n){const r=s._rootScopes,i=SP(s._fallback,a,n),l=[...t,...r],d=new Set;d.add(n);let u=PA(d,l,a,i||a,n);return u===null||typeof i<"u"&&i!==a&&(u=PA(d,l,i,u,n),u===null)?!1:y1(Array.from(d),[""],r,i,()=>Fte(s,a,n))}function PA(t,s,a,n,r){for(;a;)a=Bte(t,s,a,n,r);return a}function Fte(t,s,a){const n=t._getTarget();s in n||(n[s]={});const r=n[s];return Ws(r)&&es(a)?a:r||{}}function Ite(t,s,a,n){let r;for(const i of s)if(r=AP(Rte(i,t),a),typeof r<"u")return b1(t,r)?v1(a,n,t,r):r}function AP(t,s){for(const a of s){if(!a)continue;const n=a[t];if(typeof n<"u")return n}}function OA(t){let s=t._keys;return s||(s=t._keys=$te(t._scopes)),s}function $te(t){const s=new Set;for(const a of t)for(const n of Object.keys(a).filter(r=>!r.startsWith("_")))s.add(n);return Array.from(s)}function TP(t,s,a,n){const{iScale:r}=t,{key:i="r"}=this._parsing,l=new Array(n);let d,u,h,p;for(d=0,u=n;d<u;++d)h=d+a,p=s[h],l[d]={r:r.parse(_l(p,i),h)};return l}const zte=Number.EPSILON||1e-14,ru=(t,s)=>s<t.length&&!t[s].skip&&t[s],DP=t=>t==="x"?"y":"x";function Vte(t,s,a,n){const r=t.skip?s:t,i=s,l=a.skip?s:a,d=jj(i,r),u=jj(l,i);let h=d/(d+u),p=u/(d+u);h=isNaN(h)?0:h,p=isNaN(p)?0:p;const f=n*h,x=n*p;return{previous:{x:i.x-f*(l.x-r.x),y:i.y-f*(l.y-r.y)},next:{x:i.x+x*(l.x-r.x),y:i.y+x*(l.y-r.y)}}}function Ute(t,s,a){const n=t.length;let r,i,l,d,u,h=ru(t,0);for(let p=0;p<n-1;++p)if(u=h,h=ru(t,p+1),!(!u||!h)){if(Kh(s[p],0,zte)){a[p]=a[p+1]=0;continue}r=a[p]/s[p],i=a[p+1]/s[p],d=Math.pow(r,2)+Math.pow(i,2),!(d<=9)&&(l=3/Math.sqrt(d),a[p]=r*l*s[p],a[p+1]=i*l*s[p])}}function Hte(t,s,a="x"){const n=DP(a),r=t.length;let i,l,d,u=ru(t,0);for(let h=0;h<r;++h){if(l=d,d=u,u=ru(t,h+1),!d)continue;const p=d[a],f=d[n];l&&(i=(p-l[a])/3,d[`cp1${a}`]=p-i,d[`cp1${n}`]=f-i*s[h]),u&&(i=(u[a]-p)/3,d[`cp2${a}`]=p+i,d[`cp2${n}`]=f+i*s[h])}}function qte(t,s="x"){const a=DP(s),n=t.length,r=Array(n).fill(0),i=Array(n);let l,d,u,h=ru(t,0);for(l=0;l<n;++l)if(d=u,u=h,h=ru(t,l+1),!!u){if(h){const p=h[s]-u[s];r[l]=p!==0?(h[a]-u[a])/p:0}i[l]=d?h?Ni(r[l-1])!==Ni(r[l])?0:(r[l-1]+r[l])/2:r[l-1]:r[l]}Ute(t,r,i),Hte(t,i,s)}function Pp(t,s,a){return Math.max(Math.min(t,a),s)}function Gte(t,s){let a,n,r,i,l,d=ro(t[0],s);for(a=0,n=t.length;a<n;++a)l=i,i=d,d=a<n-1&&ro(t[a+1],s),i&&(r=t[a],l&&(r.cp1x=Pp(r.cp1x,s.left,s.right),r.cp1y=Pp(r.cp1y,s.top,s.bottom)),d&&(r.cp2x=Pp(r.cp2x,s.left,s.right),r.cp2y=Pp(r.cp2y,s.top,s.bottom)))}function Wte(t,s,a,n,r){let i,l,d,u;if(s.spanGaps&&(t=t.filter(h=>!h.skip)),s.cubicInterpolationMode==="monotone")qte(t,r);else{let h=n?t[t.length-1]:t[0];for(i=0,l=t.length;i<l;++i)d=t[i],u=Vte(h,d,t[Math.min(i+1,l-(n?0:1))%l],s.tension),d.cp1x=u.previous.x,d.cp1y=u.previous.y,d.cp2x=u.next.x,d.cp2y=u.next.y,h=d}s.capBezierPoints&&Gte(t,a)}function j1(){return typeof window<"u"&&typeof document<"u"}function w1(t){let s=t.parentNode;return s&&s.toString()==="[object ShadowRoot]"&&(s=s.host),s}function qg(t,s,a){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*s.parentNode[a])):n=t,n}const Bx=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function Yte(t,s){return Bx(t).getPropertyValue(s)}const Kte=["top","right","bottom","left"];function Tc(t,s,a){const n={};a=a?"-"+a:"";for(let r=0;r<4;r++){const i=Kte[r];n[i]=parseFloat(t[s+"-"+i+a])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const Xte=(t,s,a)=>(t>0||s>0)&&(!a||!a.shadowRoot);function Qte(t,s){const a=t.touches,n=a&&a.length?a[0]:t,{offsetX:r,offsetY:i}=n;let l=!1,d,u;if(Xte(r,i,t.target))d=r,u=i;else{const h=s.getBoundingClientRect();d=n.clientX-h.left,u=n.clientY-h.top,l=!0}return{x:d,y:u,box:l}}function gc(t,s){if("native"in t)return t;const{canvas:a,currentDevicePixelRatio:n}=s,r=Bx(a),i=r.boxSizing==="border-box",l=Tc(r,"padding"),d=Tc(r,"border","width"),{x:u,y:h,box:p}=Qte(t,a),f=l.left+(p&&d.left),x=l.top+(p&&d.top);let{width:v,height:j}=s;return i&&(v-=l.width+d.width,j-=l.height+d.height),{x:Math.round((u-f)/v*a.width/n),y:Math.round((h-x)/j*a.height/n)}}function Zte(t,s,a){let n,r;if(s===void 0||a===void 0){const i=t&&w1(t);if(!i)s=t.clientWidth,a=t.clientHeight;else{const l=i.getBoundingClientRect(),d=Bx(i),u=Tc(d,"border","width"),h=Tc(d,"padding");s=l.width-h.width-u.width,a=l.height-h.height-u.height,n=qg(d.maxWidth,i,"clientWidth"),r=qg(d.maxHeight,i,"clientHeight")}}return{width:s,height:a,maxWidth:n||Ug,maxHeight:r||Ug}}const ul=t=>Math.round(t*10)/10;function Jte(t,s,a,n){const r=Bx(t),i=Tc(r,"margin"),l=qg(r.maxWidth,t,"clientWidth")||Ug,d=qg(r.maxHeight,t,"clientHeight")||Ug,u=Zte(t,s,a);let{width:h,height:p}=u;if(r.boxSizing==="content-box"){const x=Tc(r,"border","width"),v=Tc(r,"padding");h-=v.width+x.width,p-=v.height+x.height}return h=Math.max(0,h-i.width),p=Math.max(0,n?h/n:p-i.height),h=ul(Math.min(h,l,u.maxWidth)),p=ul(Math.min(p,d,u.maxHeight)),h&&!p&&(p=ul(h/2)),(s!==void 0||a!==void 0)&&n&&u.height&&p>u.height&&(p=u.height,h=ul(Math.floor(p*n))),{width:h,height:p}}function LA(t,s,a){const n=s||1,r=ul(t.height*n),i=ul(t.width*n);t.height=ul(t.height),t.width=ul(t.width);const l=t.canvas;return l.style&&(a||!l.style.height&&!l.style.width)&&(l.style.height=`${t.height}px`,l.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||l.height!==r||l.width!==i?(t.currentDevicePixelRatio=n,l.height=r,l.width=i,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const ese=(function(){let t=!1;try{const s={get passive(){return t=!0,!1}};j1()&&(window.addEventListener("test",null,s),window.removeEventListener("test",null,s))}catch{}return t})();function BA(t,s){const a=Yte(t,s),n=a&&a.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function xc(t,s,a,n){return{x:t.x+a*(s.x-t.x),y:t.y+a*(s.y-t.y)}}function tse(t,s,a,n){return{x:t.x+a*(s.x-t.x),y:n==="middle"?a<.5?t.y:s.y:n==="after"?a<1?t.y:s.y:a>0?s.y:t.y}}function sse(t,s,a,n){const r={x:t.cp2x,y:t.cp2y},i={x:s.cp1x,y:s.cp1y},l=xc(t,r,a),d=xc(r,i,a),u=xc(i,s,a),h=xc(l,d,a),p=xc(d,u,a);return xc(h,p,a)}const ase=function(t,s){return{x(a){return t+t+s-a},setWidth(a){s=a},textAlign(a){return a==="center"?a:a==="right"?"left":"right"},xPlus(a,n){return a-n},leftForLtr(a,n){return a-n}}},nse=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,s){return t+s},leftForLtr(t,s){return t}}};function Kd(t,s,a){return t?ase(s,a):nse()}function EP(t,s){let a,n;(s==="ltr"||s==="rtl")&&(a=t.canvas.style,n=[a.getPropertyValue("direction"),a.getPropertyPriority("direction")],a.setProperty("direction",s,"important"),t.prevTextDirection=n)}function RP(t,s){s!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",s[0],s[1]))}function MP(t){return t==="angle"?{between:pm,compare:rte,normalize:Ja}:{between:ao,compare:(s,a)=>s-a,normalize:s=>s}}function FA({start:t,end:s,count:a,loop:n,style:r}){return{start:t%a,end:s%a,loop:n&&(s-t+1)%a===0,style:r}}function rse(t,s,a){const{property:n,start:r,end:i}=a,{between:l,normalize:d}=MP(n),u=s.length;let{start:h,end:p,loop:f}=t,x,v;if(f){for(h+=u,p+=u,x=0,v=u;x<v&&l(d(s[h%u][n]),r,i);++x)h--,p--;h%=u,p%=u}return p<h&&(p+=u),{start:h,end:p,loop:f,style:t.style}}function PP(t,s,a){if(!a)return[t];const{property:n,start:r,end:i}=a,l=s.length,{compare:d,between:u,normalize:h}=MP(n),{start:p,end:f,loop:x,style:v}=rse(t,s,a),j=[];let w=!1,_=null,N,k,D;const T=()=>u(r,D,N)&&d(r,D)!==0,E=()=>d(i,N)===0||u(i,D,N),G=()=>w||T(),A=()=>!w||E();for(let F=p,M=p;F<=f;++F)k=s[F%l],!k.skip&&(N=h(k[n]),N!==D&&(w=u(N,r,i),_===null&&G()&&(_=d(N,r)===0?F:M),_!==null&&A()&&(j.push(FA({start:_,end:F,loop:x,count:l,style:v})),_=null),M=F,D=N));return _!==null&&j.push(FA({start:_,end:f,loop:x,count:l,style:v})),j}function OP(t,s){const a=[],n=t.segments;for(let r=0;r<n.length;r++){const i=PP(n[r],t.points,s);i.length&&a.push(...i)}return a}function ise(t,s,a,n){let r=0,i=s-1;if(a&&!n)for(;r<s&&!t[r].skip;)r++;for(;r<s&&t[r].skip;)r++;for(r%=s,a&&(i+=r);i>r&&t[i%s].skip;)i--;return i%=s,{start:r,end:i}}function ose(t,s,a,n){const r=t.length,i=[];let l=s,d=t[s],u;for(u=s+1;u<=a;++u){const h=t[u%r];h.skip||h.stop?d.skip||(n=!1,i.push({start:s%r,end:(u-1)%r,loop:n}),s=l=h.stop?u:null):(l=u,d.skip&&(s=u)),d=h}return l!==null&&i.push({start:s%r,end:l%r,loop:n}),i}function lse(t,s){const a=t.points,n=t.options.spanGaps,r=a.length;if(!r)return[];const i=!!t._loop,{start:l,end:d}=ise(a,r,i,n);if(n===!0)return IA(t,[{start:l,end:d,loop:i}],a,s);const u=d<l?d+r:d,h=!!t._fullLoop&&l===0&&d===r-1;return IA(t,ose(a,l,u,h),a,s)}function IA(t,s,a,n){return!n||!n.setContext||!a?s:cse(t,s,a,n)}function cse(t,s,a,n){const r=t._chart.getContext(),i=$A(t.options),{_datasetIndex:l,options:{spanGaps:d}}=t,u=a.length,h=[];let p=i,f=s[0].start,x=f;function v(j,w,_,N){const k=d?-1:1;if(j!==w){for(j+=u;a[j%u].skip;)j-=k;for(;a[w%u].skip;)w+=k;j%u!==w%u&&(h.push({start:j%u,end:w%u,loop:_,style:N}),p=N,f=w%u)}}for(const j of s){f=d?f:j.start;let w=a[f%u],_;for(x=f+1;x<=j.end;x++){const N=a[x%u];_=$A(n.setContext(Dl(r,{type:"segment",p0:w,p1:N,p0DataIndex:(x-1)%u,p1DataIndex:x%u,datasetIndex:l}))),dse(_,p)&&v(f,x-1,j.loop,p),w=N,p=_}f<x-1&&v(f,x-1,j.loop,p)}return h}function $A(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function dse(t,s){if(!s)return!1;const a=[],n=function(r,i){return g1(i)?(a.includes(i)||a.push(i),a.indexOf(i)):i};return JSON.stringify(t,n)!==JSON.stringify(s,n)}function Op(t,s,a){return t.options.clip?t[a]:s[a]}function use(t,s){const{xScale:a,yScale:n}=t;return a&&n?{left:Op(a,s,"left"),right:Op(a,s,"right"),top:Op(n,s,"top"),bottom:Op(n,s,"bottom")}:s}function LP(t,s){const a=s._clip;if(a.disabled)return!1;const n=use(s,t.chartArea);return{left:a.left===!1?0:n.left-(a.left===!0?0:a.left),right:a.right===!1?t.width:n.right+(a.right===!0?0:a.right),top:a.top===!1?0:n.top-(a.top===!0?0:a.top),bottom:a.bottom===!1?t.height:n.bottom+(a.bottom===!0?0:a.bottom)}}class hse{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(s,a,n,r){const i=a.listeners[r],l=a.duration;i.forEach(d=>d({chart:s,initial:a.initial,numSteps:l,currentStep:Math.min(n-a.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=yP.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(s=Date.now()){let a=0;this._charts.forEach((n,r)=>{if(!n.running||!n.items.length)return;const i=n.items;let l=i.length-1,d=!1,u;for(;l>=0;--l)u=i[l],u._active?(u._total>n.duration&&(n.duration=u._total),u.tick(s),d=!0):(i[l]=i[i.length-1],i.pop());d&&(r.draw(),this._notify(r,n,s,"progress")),i.length||(n.running=!1,this._notify(r,n,s,"complete"),n.initial=!1),a+=i.length}),this._lastDate=s,a===0&&(this._running=!1)}_getAnims(s){const a=this._charts;let n=a.get(s);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},a.set(s,n)),n}listen(s,a,n){this._getAnims(s).listeners[a].push(n)}add(s,a){!a||!a.length||this._getAnims(s).items.push(...a)}has(s){return this._getAnims(s).items.length>0}start(s){const a=this._charts.get(s);a&&(a.running=!0,a.start=Date.now(),a.duration=a.items.reduce((n,r)=>Math.max(n,r._duration),0),this._refresh())}running(s){if(!this._running)return!1;const a=this._charts.get(s);return!(!a||!a.running||!a.items.length)}stop(s){const a=this._charts.get(s);if(!a||!a.items.length)return;const n=a.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();a.items=[],this._notify(s,a,Date.now(),"complete")}remove(s){return this._charts.delete(s)}}var eo=new hse;const zA="transparent",mse={boolean(t,s,a){return a>.5?s:t},color(t,s,a){const n=EA(t||zA),r=n.valid&&EA(s||zA);return r&&r.valid?r.mix(n,a).hexString():s},number(t,s,a){return t+(s-t)*a}};class fse{constructor(s,a,n,r){const i=a[n];r=Fh([s.to,r,i,s.from]);const l=Fh([s.from,i,r]);this._active=!0,this._fn=s.fn||mse[s.type||typeof l],this._easing=Xh[s.easing]||Xh.linear,this._start=Math.floor(Date.now()+(s.delay||0)),this._duration=this._total=Math.floor(s.duration),this._loop=!!s.loop,this._target=a,this._prop=n,this._from=l,this._to=r,this._promises=void 0}active(){return this._active}update(s,a,n){if(this._active){this._notify(!1);const r=this._target[this._prop],i=n-this._start,l=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(l,s.duration)),this._total+=i,this._loop=!!s.loop,this._to=Fh([s.to,a,r,s.from]),this._from=Fh([s.from,r,a])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(s){const a=s-this._start,n=this._duration,r=this._prop,i=this._from,l=this._loop,d=this._to;let u;if(this._active=i!==d&&(l||a<n),!this._active){this._target[r]=d,this._notify(!0);return}if(a<0){this._target[r]=i;return}u=a/n%2,u=l&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[r]=this._fn(i,d,u)}wait(){const s=this._promises||(this._promises=[]);return new Promise((a,n)=>{s.push({res:a,rej:n})})}_notify(s){const a=s?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][a]()}}class BP{constructor(s,a){this._chart=s,this._properties=new Map,this.configure(a)}configure(s){if(!es(s))return;const a=Object.keys(Qs.animation),n=this._properties;Object.getOwnPropertyNames(s).forEach(r=>{const i=s[r];if(!es(i))return;const l={};for(const d of a)l[d]=i[d];(Ws(i.properties)&&i.properties||[r]).forEach(d=>{(d===r||!n.has(d))&&n.set(d,l)})})}_animateOptions(s,a){const n=a.options,r=gse(s,n);if(!r)return[];const i=this._createAnimations(r,n);return n.$shared&&pse(s.options.$animations,n).then(()=>{s.options=n},()=>{}),i}_createAnimations(s,a){const n=this._properties,r=[],i=s.$animations||(s.$animations={}),l=Object.keys(a),d=Date.now();let u;for(u=l.length-1;u>=0;--u){const h=l[u];if(h.charAt(0)==="$")continue;if(h==="options"){r.push(...this._animateOptions(s,a));continue}const p=a[h];let f=i[h];const x=n.get(h);if(f)if(x&&f.active()){f.update(x,p,d);continue}else f.cancel();if(!x||!x.duration){s[h]=p;continue}i[h]=f=new fse(x,s,h,p),r.push(f)}return r}update(s,a){if(this._properties.size===0){Object.assign(s,a);return}const n=this._createAnimations(s,a);if(n.length)return eo.add(this._chart,n),!0}}function pse(t,s){const a=[],n=Object.keys(s);for(let r=0;r<n.length;r++){const i=t[n[r]];i&&i.active()&&a.push(i.wait())}return Promise.all(a)}function gse(t,s){if(!s)return;let a=t.options;if(!a){t.options=s;return}return a.$shared&&(t.options=a=Object.assign({},a,{$shared:!1,$animations:{}})),a}function VA(t,s){const a=t&&t.options||{},n=a.reverse,r=a.min===void 0?s:0,i=a.max===void 0?s:0;return{start:n?i:r,end:n?r:i}}function xse(t,s,a){if(a===!1)return!1;const n=VA(t,a),r=VA(s,a);return{top:r.end,right:n.end,bottom:r.start,left:n.start}}function yse(t){let s,a,n,r;return es(t)?(s=t.top,a=t.right,n=t.bottom,r=t.left):s=a=n=r=t,{top:s,right:a,bottom:n,left:r,disabled:t===!1}}function FP(t,s){const a=[],n=t._getSortedDatasetMetas(s);let r,i;for(r=0,i=n.length;r<i;++r)a.push(n[r].index);return a}function UA(t,s,a,n={}){const r=t.keys,i=n.mode==="single";let l,d,u,h;if(s===null)return;let p=!1;for(l=0,d=r.length;l<d;++l){if(u=+r[l],u===a){if(p=!0,n.all)continue;break}h=t.values[u],la(h)&&(i||s===0||Ni(s)===Ni(h))&&(s+=h)}return!p&&!n.all?0:s}function bse(t,s){const{iScale:a,vScale:n}=s,r=a.axis==="x"?"x":"y",i=n.axis==="x"?"x":"y",l=Object.keys(t),d=new Array(l.length);let u,h,p;for(u=0,h=l.length;u<h;++u)p=l[u],d[u]={[r]:p,[i]:t[p]};return d}function Zb(t,s){const a=t&&t.options.stacked;return a||a===void 0&&s.stack!==void 0}function vse(t,s,a){return`${t.id}.${s.id}.${a.stack||a.type}`}function jse(t){const{min:s,max:a,minDefined:n,maxDefined:r}=t.getUserBounds();return{min:n?s:Number.NEGATIVE_INFINITY,max:r?a:Number.POSITIVE_INFINITY}}function wse(t,s,a){const n=t[s]||(t[s]={});return n[a]||(n[a]={})}function HA(t,s,a,n){for(const r of s.getMatchingVisibleMetas(n).reverse()){const i=t[r.index];if(a&&i>0||!a&&i<0)return r.index}return null}function qA(t,s){const{chart:a,_cachedMeta:n}=t,r=a._stacks||(a._stacks={}),{iScale:i,vScale:l,index:d}=n,u=i.axis,h=l.axis,p=vse(i,l,n),f=s.length;let x;for(let v=0;v<f;++v){const j=s[v],{[u]:w,[h]:_}=j,N=j._stacks||(j._stacks={});x=N[h]=wse(r,p,w),x[d]=_,x._top=HA(x,l,!0,n.type),x._bottom=HA(x,l,!1,n.type);const k=x._visualValues||(x._visualValues={});k[d]=_}}function Jb(t,s){const a=t.scales;return Object.keys(a).filter(n=>a[n].axis===s).shift()}function Nse(t,s){return Dl(t,{active:!1,dataset:void 0,datasetIndex:s,index:s,mode:"default",type:"dataset"})}function _se(t,s,a){return Dl(t,{active:!1,dataIndex:s,parsed:void 0,raw:void 0,element:a,index:s,mode:"default",type:"data"})}function Ah(t,s){const a=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){s=s||t._parsed;for(const r of s){const i=r._stacks;if(!i||i[n]===void 0||i[n][a]===void 0)return;delete i[n][a],i[n]._visualValues!==void 0&&i[n]._visualValues[a]!==void 0&&delete i[n]._visualValues[a]}}}const ev=t=>t==="reset"||t==="none",GA=(t,s)=>s?t:Object.assign({},t),Cse=(t,s,a)=>t&&!s.hidden&&s._stacked&&{keys:FP(a,!0),values:null};class El{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(s,a){this.chart=s,this._ctx=s.ctx,this.index=a,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const s=this._cachedMeta;this.configure(),this.linkScales(),s._stacked=Zb(s.vScale,s),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(s){this.index!==s&&Ah(this._cachedMeta),this.index=s}linkScales(){const s=this.chart,a=this._cachedMeta,n=this.getDataset(),r=(f,x,v,j)=>f==="x"?x:f==="r"?j:v,i=a.xAxisID=Ft(n.xAxisID,Jb(s,"x")),l=a.yAxisID=Ft(n.yAxisID,Jb(s,"y")),d=a.rAxisID=Ft(n.rAxisID,Jb(s,"r")),u=a.indexAxis,h=a.iAxisID=r(u,i,l,d),p=a.vAxisID=r(u,l,i,d);a.xScale=this.getScaleForId(i),a.yScale=this.getScaleForId(l),a.rScale=this.getScaleForId(d),a.iScale=this.getScaleForId(h),a.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(s){return this.chart.scales[s]}_getOtherScale(s){const a=this._cachedMeta;return s===a.iScale?a.vScale:a.iScale}reset(){this._update("reset")}_destroy(){const s=this._cachedMeta;this._data&&AA(this._data,this),s._stacked&&Ah(s)}_dataCheck(){const s=this.getDataset(),a=s.data||(s.data=[]),n=this._data;if(es(a)){const r=this._cachedMeta;this._data=bse(a,r)}else if(n!==a){if(n){AA(n,this);const r=this._cachedMeta;Ah(r),r._parsed=[]}a&&Object.isExtensible(a)&&cte(a,this),this._syncList=[],this._data=a}}addElements(){const s=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(s.dataset=new this.datasetElementType)}buildOrUpdateElements(s){const a=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const i=a._stacked;a._stacked=Zb(a.vScale,a),a.stack!==n.stack&&(r=!0,Ah(a),a.stack=n.stack),this._resyncElements(s),(r||i!==a._stacked)&&(qA(this,a._parsed),a._stacked=Zb(a.vScale,a))}configure(){const s=this.chart.config,a=s.datasetScopeKeys(this._type),n=s.getOptionScopes(this.getDataset(),a,!0);this.options=s.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(s,a){const{_cachedMeta:n,_data:r}=this,{iScale:i,_stacked:l}=n,d=i.axis;let u=s===0&&a===r.length?!0:n._sorted,h=s>0&&n._parsed[s-1],p,f,x;if(this._parsing===!1)n._parsed=r,n._sorted=!0,x=r;else{Ws(r[s])?x=this.parseArrayData(n,r,s,a):es(r[s])?x=this.parseObjectData(n,r,s,a):x=this.parsePrimitiveData(n,r,s,a);const v=()=>f[d]===null||h&&f[d]<h[d];for(p=0;p<a;++p)n._parsed[p+s]=f=x[p],u&&(v()&&(u=!1),h=f);n._sorted=u}l&&qA(this,x)}parsePrimitiveData(s,a,n,r){const{iScale:i,vScale:l}=s,d=i.axis,u=l.axis,h=i.getLabels(),p=i===l,f=new Array(r);let x,v,j;for(x=0,v=r;x<v;++x)j=x+n,f[x]={[d]:p||i.parse(h[j],j),[u]:l.parse(a[j],j)};return f}parseArrayData(s,a,n,r){const{xScale:i,yScale:l}=s,d=new Array(r);let u,h,p,f;for(u=0,h=r;u<h;++u)p=u+n,f=a[p],d[u]={x:i.parse(f[0],p),y:l.parse(f[1],p)};return d}parseObjectData(s,a,n,r){const{xScale:i,yScale:l}=s,{xAxisKey:d="x",yAxisKey:u="y"}=this._parsing,h=new Array(r);let p,f,x,v;for(p=0,f=r;p<f;++p)x=p+n,v=a[x],h[p]={x:i.parse(_l(v,d),x),y:l.parse(_l(v,u),x)};return h}getParsed(s){return this._cachedMeta._parsed[s]}getDataElement(s){return this._cachedMeta.data[s]}applyStack(s,a,n){const r=this.chart,i=this._cachedMeta,l=a[s.axis],d={keys:FP(r,!0),values:a._stacks[s.axis]._visualValues};return UA(d,l,i.index,{mode:n})}updateRangeFromParsed(s,a,n,r){const i=n[a.axis];let l=i===null?NaN:i;const d=r&&n._stacks[a.axis];r&&d&&(r.values=d,l=UA(r,i,this._cachedMeta.index)),s.min=Math.min(s.min,l),s.max=Math.max(s.max,l)}getMinMax(s,a){const n=this._cachedMeta,r=n._parsed,i=n._sorted&&s===n.iScale,l=r.length,d=this._getOtherScale(s),u=Cse(a,n,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:f}=jse(d);let x,v;function j(){v=r[x];const w=v[d.axis];return!la(v[s.axis])||p>w||f<w}for(x=0;x<l&&!(!j()&&(this.updateRangeFromParsed(h,s,v,u),i));++x);if(i){for(x=l-1;x>=0;--x)if(!j()){this.updateRangeFromParsed(h,s,v,u);break}}return h}getAllParsedValues(s){const a=this._cachedMeta._parsed,n=[];let r,i,l;for(r=0,i=a.length;r<i;++r)l=a[r][s.axis],la(l)&&n.push(l);return n}getMaxOverflow(){return!1}getLabelAndValue(s){const a=this._cachedMeta,n=a.iScale,r=a.vScale,i=this.getParsed(s);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(s){const a=this._cachedMeta;this.update(s||"default"),a._clip=yse(Ft(this.options.clip,xse(a.xScale,a.yScale,this.getMaxOverflow())))}update(s){}draw(){const s=this._ctx,a=this.chart,n=this._cachedMeta,r=n.data||[],i=a.chartArea,l=[],d=this._drawStart||0,u=this._drawCount||r.length-d,h=this.options.drawActiveElementsOnTop;let p;for(n.dataset&&n.dataset.draw(s,i,d,u),p=d;p<d+u;++p){const f=r[p];f.hidden||(f.active&&h?l.push(f):f.draw(s,i))}for(p=0;p<l.length;++p)l[p].draw(s,i)}getStyle(s,a){const n=a?"active":"default";return s===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(s||0,n)}getContext(s,a,n){const r=this.getDataset();let i;if(s>=0&&s<this._cachedMeta.data.length){const l=this._cachedMeta.data[s];i=l.$context||(l.$context=_se(this.getContext(),s,l)),i.parsed=this.getParsed(s),i.raw=r.data[s],i.index=i.dataIndex=s}else i=this.$context||(this.$context=Nse(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!a,i.mode=n,i}resolveDatasetElementOptions(s){return this._resolveElementOptions(this.datasetElementType.id,s)}resolveDataElementOptions(s,a){return this._resolveElementOptions(this.dataElementType.id,a,s)}_resolveElementOptions(s,a="default",n){const r=a==="active",i=this._cachedDataOpts,l=s+"-"+a,d=i[l],u=this.enableOptionSharing&&fm(n);if(d)return GA(d,u);const h=this.chart.config,p=h.datasetElementScopeKeys(this._type,s),f=r?[`${s}Hover`,"hover",s,""]:[s,""],x=h.getOptionScopes(this.getDataset(),p),v=Object.keys(Qs.elements[s]),j=()=>this.getContext(n,r,a),w=h.resolveNamedOptions(x,v,j,f);return w.$shared&&(w.$shared=u,i[l]=Object.freeze(GA(w,u))),w}_resolveAnimations(s,a,n){const r=this.chart,i=this._cachedDataOpts,l=`animation-${a}`,d=i[l];if(d)return d;let u;if(r.options.animation!==!1){const p=this.chart.config,f=p.datasetAnimationScopeKeys(this._type,a),x=p.getOptionScopes(this.getDataset(),f);u=p.createResolver(x,this.getContext(s,n,a))}const h=new BP(r,u&&u.animations);return u&&u._cacheable&&(i[l]=Object.freeze(h)),h}getSharedOptions(s){if(s.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},s))}includeOptions(s,a){return!a||ev(s)||this.chart._animationsDisabled}_getSharedOptions(s,a){const n=this.resolveDataElementOptions(s,a),r=this._sharedOptions,i=this.getSharedOptions(n),l=this.includeOptions(a,i)||i!==r;return this.updateSharedOptions(i,a,n),{sharedOptions:i,includeOptions:l}}updateElement(s,a,n,r){ev(r)?Object.assign(s,n):this._resolveAnimations(a,r).update(s,n)}updateSharedOptions(s,a,n){s&&!ev(a)&&this._resolveAnimations(void 0,a).update(s,n)}_setStyle(s,a,n,r){s.active=r;const i=this.getStyle(a,r);this._resolveAnimations(a,n,r).update(s,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(s,a,n){this._setStyle(s,n,"active",!1)}setHoverStyle(s,a,n){this._setStyle(s,n,"active",!0)}_removeDatasetHoverStyle(){const s=this._cachedMeta.dataset;s&&this._setStyle(s,void 0,"active",!1)}_setDatasetHoverStyle(){const s=this._cachedMeta.dataset;s&&this._setStyle(s,void 0,"active",!0)}_resyncElements(s){const a=this._data,n=this._cachedMeta.data;for(const[d,u,h]of this._syncList)this[d](u,h);this._syncList=[];const r=n.length,i=a.length,l=Math.min(i,r);l&&this.parse(0,l),i>r?this._insertElements(r,i-r,s):i<r&&this._removeElements(i,r-i)}_insertElements(s,a,n=!0){const r=this._cachedMeta,i=r.data,l=s+a;let d;const u=h=>{for(h.length+=a,d=h.length-1;d>=l;d--)h[d]=h[d-a]};for(u(i),d=s;d<l;++d)i[d]=new this.dataElementType;this._parsing&&u(r._parsed),this.parse(s,a),n&&this.updateElements(i,s,a,"reset")}updateElements(s,a,n,r){}_removeElements(s,a){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(s,a);n._stacked&&Ah(n,r)}n.data.splice(s,a)}_sync(s){if(this._parsing)this._syncList.push(s);else{const[a,n,r]=s;this[a](n,r)}this.chart._dataChanges.push([this.index,...s])}_onDataPush(){const s=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-s,s])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(s,a){a&&this._sync(["_removeElements",s,a]);const n=arguments.length-2;n&&this._sync(["_insertElements",s,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function kse(t,s){if(!t._cache.$bar){const a=t.getMatchingVisibleMetas(s);let n=[];for(let r=0,i=a.length;r<i;r++)n=n.concat(a[r].controller.getAllParsedValues(t));t._cache.$bar=xP(n.sort((r,i)=>r-i))}return t._cache.$bar}function Sse(t){const s=t.iScale,a=kse(s,t.type);let n=s._length,r,i,l,d;const u=()=>{l===32767||l===-32768||(fm(d)&&(n=Math.min(n,Math.abs(l-d)||n)),d=l)};for(r=0,i=a.length;r<i;++r)l=s.getPixelForValue(a[r]),u();for(d=void 0,r=0,i=s.ticks.length;r<i;++r)l=s.getPixelForTick(r),u();return n}function Ase(t,s,a,n){const r=a.barThickness;let i,l;return Kt(r)?(i=s.min*a.categoryPercentage,l=a.barPercentage):(i=r*n,l=1),{chunk:i/n,ratio:l,start:s.pixels[t]-i/2}}function Tse(t,s,a,n){const r=s.pixels,i=r[t];let l=t>0?r[t-1]:null,d=t<r.length-1?r[t+1]:null;const u=a.categoryPercentage;l===null&&(l=i-(d===null?s.end-s.start:d-i)),d===null&&(d=i+i-l);const h=i-(i-Math.min(l,d))/2*u;return{chunk:Math.abs(d-l)/2*u/n,ratio:a.barPercentage,start:h}}function Dse(t,s,a,n){const r=a.parse(t[0],n),i=a.parse(t[1],n),l=Math.min(r,i),d=Math.max(r,i);let u=l,h=d;Math.abs(l)>Math.abs(d)&&(u=d,h=l),s[a.axis]=h,s._custom={barStart:u,barEnd:h,start:r,end:i,min:l,max:d}}function IP(t,s,a,n){return Ws(t)?Dse(t,s,a,n):s[a.axis]=a.parse(t,n),s}function WA(t,s,a,n){const r=t.iScale,i=t.vScale,l=r.getLabels(),d=r===i,u=[];let h,p,f,x;for(h=a,p=a+n;h<p;++h)x=s[h],f={},f[r.axis]=d||r.parse(l[h],h),u.push(IP(x,f,i,h));return u}function tv(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function Ese(t,s,a){return t!==0?Ni(t):(s.isHorizontal()?1:-1)*(s.min>=a?1:-1)}function Rse(t){let s,a,n,r,i;return t.horizontal?(s=t.base>t.x,a="left",n="right"):(s=t.base<t.y,a="bottom",n="top"),s?(r="end",i="start"):(r="start",i="end"),{start:a,end:n,reverse:s,top:r,bottom:i}}function Mse(t,s,a,n){let r=s.borderSkipped;const i={};if(!r){t.borderSkipped=i;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:d,reverse:u,top:h,bottom:p}=Rse(t);r==="middle"&&a&&(t.enableBorderRadius=!0,(a._top||0)===n?r=h:(a._bottom||0)===n?r=p:(i[YA(p,l,d,u)]=!0,r=h)),i[YA(r,l,d,u)]=!0,t.borderSkipped=i}function YA(t,s,a,n){return n?(t=Pse(t,s,a),t=KA(t,a,s)):t=KA(t,s,a),t}function Pse(t,s,a){return t===s?a:t===a?s:t}function KA(t,s,a){return t==="start"?s:t==="end"?a:t}function Ose(t,{inflateAmount:s},a){t.inflateAmount=s==="auto"?a===1?.33:0:s}class Lse extends El{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(s,a,n,r){return WA(s,a,n,r)}parseArrayData(s,a,n,r){return WA(s,a,n,r)}parseObjectData(s,a,n,r){const{iScale:i,vScale:l}=s,{xAxisKey:d="x",yAxisKey:u="y"}=this._parsing,h=i.axis==="x"?d:u,p=l.axis==="x"?d:u,f=[];let x,v,j,w;for(x=n,v=n+r;x<v;++x)w=a[x],j={},j[i.axis]=i.parse(_l(w,h),x),f.push(IP(_l(w,p),j,l,x));return f}updateRangeFromParsed(s,a,n,r){super.updateRangeFromParsed(s,a,n,r);const i=n._custom;i&&a===this._cachedMeta.vScale&&(s.min=Math.min(s.min,i.min),s.max=Math.max(s.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(s){const a=this._cachedMeta,{iScale:n,vScale:r}=a,i=this.getParsed(s),l=i._custom,d=tv(l)?"["+l.start+", "+l.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:d}}initialize(){this.enableOptionSharing=!0,super.initialize();const s=this._cachedMeta;s.stack=this.getDataset().stack}update(s){const a=this._cachedMeta;this.updateElements(a.data,0,a.data.length,s)}updateElements(s,a,n,r){const i=r==="reset",{index:l,_cachedMeta:{vScale:d}}=this,u=d.getBasePixel(),h=d.isHorizontal(),p=this._getRuler(),{sharedOptions:f,includeOptions:x}=this._getSharedOptions(a,r);for(let v=a;v<a+n;v++){const j=this.getParsed(v),w=i||Kt(j[d.axis])?{base:u,head:u}:this._calculateBarValuePixels(v),_=this._calculateBarIndexPixels(v,p),N=(j._stacks||{})[d.axis],k={horizontal:h,base:w.base,enableBorderRadius:!N||tv(j._custom)||l===N._top||l===N._bottom,x:h?w.head:_.center,y:h?_.center:w.head,height:h?_.size:Math.abs(w.size),width:h?Math.abs(w.size):_.size};x&&(k.options=f||this.resolveDataElementOptions(v,s[v].active?"active":r));const D=k.options||s[v].options;Mse(k,D,N,l),Ose(k,D,p.ratio),this.updateElement(s[v],v,k,r)}}_getStacks(s,a){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),i=n.options.stacked,l=[],d=this._cachedMeta.controller.getParsed(a),u=d&&d[n.axis],h=p=>{const f=p._parsed.find(v=>v[n.axis]===u),x=f&&f[p.vScale.axis];if(Kt(x)||isNaN(x))return!0};for(const p of r)if(!(a!==void 0&&h(p))&&((i===!1||l.indexOf(p.stack)===-1||i===void 0&&p.stack===void 0)&&l.push(p.stack),p.index===s))break;return l.length||l.push(void 0),l}_getStackCount(s){return this._getStacks(void 0,s).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const s=this.chart.scales,a=this.chart.options.indexAxis;return Object.keys(s).filter(n=>s[n].axis===a).shift()}_getAxis(){const s={},a=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)s[Ft(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,a)]=!0;return Object.keys(s)}_getStackIndex(s,a,n){const r=this._getStacks(s,n),i=a!==void 0?r.indexOf(a):-1;return i===-1?r.length-1:i}_getRuler(){const s=this.options,a=this._cachedMeta,n=a.iScale,r=[];let i,l;for(i=0,l=a.data.length;i<l;++i)r.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const d=s.barThickness;return{min:d||Sse(a),pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:s.grouped,ratio:d?1:s.categoryPercentage*s.barPercentage}}_calculateBarValuePixels(s){const{_cachedMeta:{vScale:a,_stacked:n,index:r},options:{base:i,minBarLength:l}}=this,d=i||0,u=this.getParsed(s),h=u._custom,p=tv(h);let f=u[a.axis],x=0,v=n?this.applyStack(a,u,n):f,j,w;v!==f&&(x=v-f,v=f),p&&(f=h.barStart,v=h.barEnd-h.barStart,f!==0&&Ni(f)!==Ni(h.barEnd)&&(x=0),x+=f);const _=!Kt(i)&&!p?i:x;let N=a.getPixelForValue(_);if(this.chart.getDataVisibility(s)?j=a.getPixelForValue(x+v):j=N,w=j-N,Math.abs(w)<l){w=Ese(w,a,d)*l,f===d&&(N-=w/2);const k=a.getPixelForDecimal(0),D=a.getPixelForDecimal(1),T=Math.min(k,D),E=Math.max(k,D);N=Math.max(Math.min(N,E),T),j=N+w,n&&!p&&(u._stacks[a.axis]._visualValues[r]=a.getValueForPixel(j)-a.getValueForPixel(N))}if(N===a.getPixelForValue(d)){const k=Ni(w)*a.getLineWidthForValue(d)/2;N+=k,w-=k}return{size:w,base:N,head:j,center:j+w/2}}_calculateBarIndexPixels(s,a){const n=a.scale,r=this.options,i=r.skipNull,l=Ft(r.maxBarThickness,1/0);let d,u;const h=this._getAxisCount();if(a.grouped){const p=i?this._getStackCount(s):a.stackCount,f=r.barThickness==="flex"?Tse(s,a,r,p*h):Ase(s,a,r,p*h),x=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,v=this._getAxis().indexOf(Ft(x,this.getFirstScaleIdForIndexAxis())),j=this._getStackIndex(this.index,this._cachedMeta.stack,i?s:void 0)+v;d=f.start+f.chunk*j+f.chunk/2,u=Math.min(l,f.chunk*f.ratio)}else d=n.getPixelForValue(this.getParsed(s)[n.axis],s),u=Math.min(l,a.min*a.ratio);return{base:d-u/2,head:d+u/2,center:d,size:u}}draw(){const s=this._cachedMeta,a=s.vScale,n=s.data,r=n.length;let i=0;for(;i<r;++i)this.getParsed(i)[a.axis]!==null&&!n[i].hidden&&n[i].draw(this._ctx)}}class Bse extends El{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(s,a,n,r){const i=super.parsePrimitiveData(s,a,n,r);for(let l=0;l<i.length;l++)i[l]._custom=this.resolveDataElementOptions(l+n).radius;return i}parseArrayData(s,a,n,r){const i=super.parseArrayData(s,a,n,r);for(let l=0;l<i.length;l++){const d=a[n+l];i[l]._custom=Ft(d[2],this.resolveDataElementOptions(l+n).radius)}return i}parseObjectData(s,a,n,r){const i=super.parseObjectData(s,a,n,r);for(let l=0;l<i.length;l++){const d=a[n+l];i[l]._custom=Ft(d&&d.r&&+d.r,this.resolveDataElementOptions(l+n).radius)}return i}getMaxOverflow(){const s=this._cachedMeta.data;let a=0;for(let n=s.length-1;n>=0;--n)a=Math.max(a,s[n].size(this.resolveDataElementOptions(n))/2);return a>0&&a}getLabelAndValue(s){const a=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:i}=a,l=this.getParsed(s),d=r.getLabelForValue(l.x),u=i.getLabelForValue(l.y),h=l._custom;return{label:n[s]||"",value:"("+d+", "+u+(h?", "+h:"")+")"}}update(s){const a=this._cachedMeta.data;this.updateElements(a,0,a.length,s)}updateElements(s,a,n,r){const i=r==="reset",{iScale:l,vScale:d}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(a,r),p=l.axis,f=d.axis;for(let x=a;x<a+n;x++){const v=s[x],j=!i&&this.getParsed(x),w={},_=w[p]=i?l.getPixelForDecimal(.5):l.getPixelForValue(j[p]),N=w[f]=i?d.getBasePixel():d.getPixelForValue(j[f]);w.skip=isNaN(_)||isNaN(N),h&&(w.options=u||this.resolveDataElementOptions(x,v.active?"active":r),i&&(w.options.radius=0)),this.updateElement(v,x,w,r)}}resolveDataElementOptions(s,a){const n=this.getParsed(s);let r=super.resolveDataElementOptions(s,a);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const i=r.radius;return a!=="active"&&(r.radius=0),r.radius+=Ft(n&&n._custom,i),r}}function Fse(t,s,a){let n=1,r=1,i=0,l=0;if(s<Vs){const d=t,u=d+s,h=Math.cos(d),p=Math.sin(d),f=Math.cos(u),x=Math.sin(u),v=(D,T,E)=>pm(D,d,u,!0)?1:Math.max(T,T*a,E,E*a),j=(D,T,E)=>pm(D,d,u,!0)?-1:Math.min(T,T*a,E,E*a),w=v(0,h,f),_=v(ma,p,x),N=j(ms,h,f),k=j(ms+ma,p,x);n=(w-N)/2,r=(_-k)/2,i=-(w+N)/2,l=-(_+k)/2}return{ratioX:n,ratioY:r,offsetX:i,offsetY:l}}class N1 extends El{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:s=>s!=="spacing",_indexable:s=>s!=="spacing"&&!s.startsWith("borderDash")&&!s.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(s){const a=s.data,{labels:{pointStyle:n,textAlign:r,color:i,useBorderRadius:l,borderRadius:d}}=s.legend.options;return a.labels.length&&a.datasets.length?a.labels.map((u,h)=>{const f=s.getDatasetMeta(0).controller.getStyle(h);return{text:u,fillStyle:f.backgroundColor,fontColor:i,hidden:!s.getDataVisibility(h),lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:f.borderWidth,strokeStyle:f.borderColor,textAlign:r,pointStyle:n,borderRadius:l&&(d||f.borderRadius),index:h}}):[]}},onClick(s,a,n){n.chart.toggleDataVisibility(a.index),n.chart.update()}}}};constructor(s,a){super(s,a),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(s,a){const n=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=n;else{let i=u=>+n[u];if(es(n[s])){const{key:u="value"}=this._parsing;i=h=>+_l(n[h],u)}let l,d;for(l=s,d=s+a;l<d;++l)r._parsed[l]=i(l)}}_getRotation(){return Hr(this.options.rotation-90)}_getCircumference(){return Hr(this.options.circumference)}_getRotationExtents(){let s=Vs,a=-Vs;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const r=this.chart.getDatasetMeta(n).controller,i=r._getRotation(),l=r._getCircumference();s=Math.min(s,i),a=Math.max(a,i+l)}return{rotation:s,circumference:a-s}}update(s){const a=this.chart,{chartArea:n}=a,r=this._cachedMeta,i=r.data,l=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,d=Math.max((Math.min(n.width,n.height)-l)/2,0),u=Math.min(Yee(this.options.cutout,d),1),h=this._getRingWeight(this.index),{circumference:p,rotation:f}=this._getRotationExtents(),{ratioX:x,ratioY:v,offsetX:j,offsetY:w}=Fse(f,p,u),_=(n.width-l)/x,N=(n.height-l)/v,k=Math.max(Math.min(_,N)/2,0),D=hP(this.options.radius,k),T=Math.max(D*u,0),E=(D-T)/this._getVisibleDatasetWeightTotal();this.offsetX=j*D,this.offsetY=w*D,r.total=this.calculateTotal(),this.outerRadius=D-E*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-E*h,0),this.updateElements(i,0,i.length,s)}_circumference(s,a){const n=this.options,r=this._cachedMeta,i=this._getCircumference();return a&&n.animation.animateRotate||!this.chart.getDataVisibility(s)||r._parsed[s]===null||r.data[s].hidden?0:this.calculateCircumference(r._parsed[s]*i/Vs)}updateElements(s,a,n,r){const i=r==="reset",l=this.chart,d=l.chartArea,h=l.options.animation,p=(d.left+d.right)/2,f=(d.top+d.bottom)/2,x=i&&h.animateScale,v=x?0:this.innerRadius,j=x?0:this.outerRadius,{sharedOptions:w,includeOptions:_}=this._getSharedOptions(a,r);let N=this._getRotation(),k;for(k=0;k<a;++k)N+=this._circumference(k,i);for(k=a;k<a+n;++k){const D=this._circumference(k,i),T=s[k],E={x:p+this.offsetX,y:f+this.offsetY,startAngle:N,endAngle:N+D,circumference:D,outerRadius:j,innerRadius:v};_&&(E.options=w||this.resolveDataElementOptions(k,T.active?"active":r)),N+=D,this.updateElement(T,k,E,r)}}calculateTotal(){const s=this._cachedMeta,a=s.data;let n=0,r;for(r=0;r<a.length;r++){const i=s._parsed[r];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(r)&&!a[r].hidden&&(n+=Math.abs(i))}return n}calculateCircumference(s){const a=this._cachedMeta.total;return a>0&&!isNaN(s)?Vs*(Math.abs(s)/a):0}getLabelAndValue(s){const a=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=Um(a._parsed[s],n.options.locale);return{label:r[s]||"",value:i}}getMaxBorderWidth(s){let a=0;const n=this.chart;let r,i,l,d,u;if(!s){for(r=0,i=n.data.datasets.length;r<i;++r)if(n.isDatasetVisible(r)){l=n.getDatasetMeta(r),s=l.data,d=l.controller;break}}if(!s)return 0;for(r=0,i=s.length;r<i;++r)u=d.resolveDataElementOptions(r),u.borderAlign!=="inner"&&(a=Math.max(a,u.borderWidth||0,u.hoverBorderWidth||0));return a}getMaxOffset(s){let a=0;for(let n=0,r=s.length;n<r;++n){const i=this.resolveDataElementOptions(n);a=Math.max(a,i.offset||0,i.hoverOffset||0)}return a}_getRingWeightOffset(s){let a=0;for(let n=0;n<s;++n)this.chart.isDatasetVisible(n)&&(a+=this._getRingWeight(n));return a}_getRingWeight(s){return Math.max(Ft(this.chart.data.datasets[s].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class Ise extends El{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(s){const a=this._cachedMeta,{dataset:n,data:r=[],_dataset:i}=a,l=this.chart._animationsDisabled;let{start:d,count:u}=vP(a,r,l);this._drawStart=d,this._drawCount=u,jP(a)&&(d=0,u=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=r;const h=this.resolveDatasetElementOptions(s);this.options.showLine||(h.borderWidth=0),h.segment=this.options.segment,this.updateElement(n,void 0,{animated:!l,options:h},s),this.updateElements(r,d,u,s)}updateElements(s,a,n,r){const i=r==="reset",{iScale:l,vScale:d,_stacked:u,_dataset:h}=this._cachedMeta,{sharedOptions:p,includeOptions:f}=this._getSharedOptions(a,r),x=l.axis,v=d.axis,{spanGaps:j,segment:w}=this.options,_=au(j)?j:Number.POSITIVE_INFINITY,N=this.chart._animationsDisabled||i||r==="none",k=a+n,D=s.length;let T=a>0&&this.getParsed(a-1);for(let E=0;E<D;++E){const G=s[E],A=N?G:{};if(E<a||E>=k){A.skip=!0;continue}const F=this.getParsed(E),M=Kt(F[v]),J=A[x]=l.getPixelForValue(F[x],E),R=A[v]=i||M?d.getBasePixel():d.getPixelForValue(u?this.applyStack(d,F,u):F[v],E);A.skip=isNaN(J)||isNaN(R)||M,A.stop=E>0&&Math.abs(F[x]-T[x])>_,w&&(A.parsed=F,A.raw=h.data[E]),f&&(A.options=p||this.resolveDataElementOptions(E,G.active?"active":r)),N||this.updateElement(G,E,A,r),T=F}}getMaxOverflow(){const s=this._cachedMeta,a=s.dataset,n=a.options&&a.options.borderWidth||0,r=s.data||[];if(!r.length)return n;const i=r[0].size(this.resolveDataElementOptions(0)),l=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,i,l)/2}draw(){const s=this._cachedMeta;s.dataset.updateControlPoints(this.chart.chartArea,s.iScale.axis),super.draw()}}class $P extends El{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(s){const a=s.data;if(a.labels.length&&a.datasets.length){const{labels:{pointStyle:n,color:r}}=s.legend.options;return a.labels.map((i,l)=>{const u=s.getDatasetMeta(0).controller.getStyle(l);return{text:i,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:r,lineWidth:u.borderWidth,pointStyle:n,hidden:!s.getDataVisibility(l),index:l}})}return[]}},onClick(s,a,n){n.chart.toggleDataVisibility(a.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(s,a){super(s,a),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(s){const a=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=Um(a._parsed[s].r,n.options.locale);return{label:r[s]||"",value:i}}parseObjectData(s,a,n,r){return TP.bind(this)(s,a,n,r)}update(s){const a=this._cachedMeta.data;this._updateRadius(),this.updateElements(a,0,a.length,s)}getMinMax(){const s=this._cachedMeta,a={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return s.data.forEach((n,r)=>{const i=this.getParsed(r).r;!isNaN(i)&&this.chart.getDataVisibility(r)&&(i<a.min&&(a.min=i),i>a.max&&(a.max=i))}),a}_updateRadius(){const s=this.chart,a=s.chartArea,n=s.options,r=Math.min(a.right-a.left,a.bottom-a.top),i=Math.max(r/2,0),l=Math.max(n.cutoutPercentage?i/100*n.cutoutPercentage:1,0),d=(i-l)/s.getVisibleDatasetCount();this.outerRadius=i-d*this.index,this.innerRadius=this.outerRadius-d}updateElements(s,a,n,r){const i=r==="reset",l=this.chart,u=l.options.animation,h=this._cachedMeta.rScale,p=h.xCenter,f=h.yCenter,x=h.getIndexAngle(0)-.5*ms;let v=x,j;const w=360/this.countVisibleElements();for(j=0;j<a;++j)v+=this._computeAngle(j,r,w);for(j=a;j<a+n;j++){const _=s[j];let N=v,k=v+this._computeAngle(j,r,w),D=l.getDataVisibility(j)?h.getDistanceFromCenterForValue(this.getParsed(j).r):0;v=k,i&&(u.animateScale&&(D=0),u.animateRotate&&(N=k=x));const T={x:p,y:f,innerRadius:0,outerRadius:D,startAngle:N,endAngle:k,options:this.resolveDataElementOptions(j,_.active?"active":r)};this.updateElement(_,j,T,r)}}countVisibleElements(){const s=this._cachedMeta;let a=0;return s.data.forEach((n,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&a++}),a}_computeAngle(s,a,n){return this.chart.getDataVisibility(s)?Hr(this.resolveDataElementOptions(s,a).angle||n):0}}class $se extends N1{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class zse extends El{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(s){const a=this._cachedMeta.vScale,n=this.getParsed(s);return{label:a.getLabels()[s],value:""+a.getLabelForValue(n[a.axis])}}parseObjectData(s,a,n,r){return TP.bind(this)(s,a,n,r)}update(s){const a=this._cachedMeta,n=a.dataset,r=a.data||[],i=a.iScale.getLabels();if(n.points=r,s!=="resize"){const l=this.resolveDatasetElementOptions(s);this.options.showLine||(l.borderWidth=0);const d={_loop:!0,_fullLoop:i.length===r.length,options:l};this.updateElement(n,void 0,d,s)}this.updateElements(r,0,r.length,s)}updateElements(s,a,n,r){const i=this._cachedMeta.rScale,l=r==="reset";for(let d=a;d<a+n;d++){const u=s[d],h=this.resolveDataElementOptions(d,u.active?"active":r),p=i.getPointPositionForValue(d,this.getParsed(d).r),f=l?i.xCenter:p.x,x=l?i.yCenter:p.y,v={x:f,y:x,angle:p.angle,skip:isNaN(f)||isNaN(x),options:h};this.updateElement(u,d,v,r)}}}class Vse extends El{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(s){const a=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:i}=a,l=this.getParsed(s),d=r.getLabelForValue(l.x),u=i.getLabelForValue(l.y);return{label:n[s]||"",value:"("+d+", "+u+")"}}update(s){const a=this._cachedMeta,{data:n=[]}=a,r=this.chart._animationsDisabled;let{start:i,count:l}=vP(a,n,r);if(this._drawStart=i,this._drawCount=l,jP(a)&&(i=0,l=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:d,_dataset:u}=a;d._chart=this.chart,d._datasetIndex=this.index,d._decimated=!!u._decimated,d.points=n;const h=this.resolveDatasetElementOptions(s);h.segment=this.options.segment,this.updateElement(d,void 0,{animated:!r,options:h},s)}else this.datasetElementType&&(delete a.dataset,this.datasetElementType=!1);this.updateElements(n,i,l,s)}addElements(){const{showLine:s}=this.options;!this.datasetElementType&&s&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(s,a,n,r){const i=r==="reset",{iScale:l,vScale:d,_stacked:u,_dataset:h}=this._cachedMeta,p=this.resolveDataElementOptions(a,r),f=this.getSharedOptions(p),x=this.includeOptions(r,f),v=l.axis,j=d.axis,{spanGaps:w,segment:_}=this.options,N=au(w)?w:Number.POSITIVE_INFINITY,k=this.chart._animationsDisabled||i||r==="none";let D=a>0&&this.getParsed(a-1);for(let T=a;T<a+n;++T){const E=s[T],G=this.getParsed(T),A=k?E:{},F=Kt(G[j]),M=A[v]=l.getPixelForValue(G[v],T),J=A[j]=i||F?d.getBasePixel():d.getPixelForValue(u?this.applyStack(d,G,u):G[j],T);A.skip=isNaN(M)||isNaN(J)||F,A.stop=T>0&&Math.abs(G[v]-D[v])>N,_&&(A.parsed=G,A.raw=h.data[T]),x&&(A.options=f||this.resolveDataElementOptions(T,E.active?"active":r)),k||this.updateElement(E,T,A,r),D=G}this.updateSharedOptions(f,r,p)}getMaxOverflow(){const s=this._cachedMeta,a=s.data||[];if(!this.options.showLine){let d=0;for(let u=a.length-1;u>=0;--u)d=Math.max(d,a[u].size(this.resolveDataElementOptions(u))/2);return d>0&&d}const n=s.dataset,r=n.options&&n.options.borderWidth||0;if(!a.length)return r;const i=a[0].size(this.resolveDataElementOptions(0)),l=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(r,i,l)/2}}var Use=Object.freeze({__proto__:null,BarController:Lse,BubbleController:Bse,DoughnutController:N1,LineController:Ise,PieController:$se,PolarAreaController:$P,RadarController:zse,ScatterController:Vse});function lc(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class _1{static override(s){Object.assign(_1.prototype,s)}options;constructor(s){this.options=s||{}}init(){}formats(){return lc()}parse(){return lc()}format(){return lc()}add(){return lc()}diff(){return lc()}startOf(){return lc()}endOf(){return lc()}}var Hse={_date:_1};function qse(t,s,a,n){const{controller:r,data:i,_sorted:l}=t,d=r._cachedMeta.iScale,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(d&&s===d.axis&&s!=="r"&&l&&i.length){const h=d._reversePixels?ote:no;if(n){if(r._sharedOptions){const p=i[0],f=typeof p.getRange=="function"&&p.getRange(s);if(f){const x=h(i,s,a-f),v=h(i,s,a+f);return{lo:x.lo,hi:v.hi}}}}else{const p=h(i,s,a);if(u){const{vScale:f}=r._cachedMeta,{_parsed:x}=t,v=x.slice(0,p.lo+1).reverse().findIndex(w=>!Kt(w[f.axis]));p.lo-=Math.max(0,v);const j=x.slice(p.hi).findIndex(w=>!Kt(w[f.axis]));p.hi+=Math.max(0,j)}return p}}return{lo:0,hi:i.length-1}}function Fx(t,s,a,n,r){const i=t.getSortedVisibleDatasetMetas(),l=a[s];for(let d=0,u=i.length;d<u;++d){const{index:h,data:p}=i[d],{lo:f,hi:x}=qse(i[d],s,l,r);for(let v=f;v<=x;++v){const j=p[v];j.skip||n(j,h,v)}}}function Gse(t){const s=t.indexOf("x")!==-1,a=t.indexOf("y")!==-1;return function(n,r){const i=s?Math.abs(n.x-r.x):0,l=a?Math.abs(n.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(l,2))}}function sv(t,s,a,n,r){const i=[];return!r&&!t.isPointInArea(s)||Fx(t,a,s,function(d,u,h){!r&&!ro(d,t.chartArea,0)||d.inRange(s.x,s.y,n)&&i.push({element:d,datasetIndex:u,index:h})},!0),i}function Wse(t,s,a,n){let r=[];function i(l,d,u){const{startAngle:h,endAngle:p}=l.getProps(["startAngle","endAngle"],n),{angle:f}=pP(l,{x:s.x,y:s.y});pm(f,h,p)&&r.push({element:l,datasetIndex:d,index:u})}return Fx(t,a,s,i),r}function Yse(t,s,a,n,r,i){let l=[];const d=Gse(a);let u=Number.POSITIVE_INFINITY;function h(p,f,x){const v=p.inRange(s.x,s.y,r);if(n&&!v)return;const j=p.getCenterPoint(r);if(!(!!i||t.isPointInArea(j))&&!v)return;const _=d(s,j);_<u?(l=[{element:p,datasetIndex:f,index:x}],u=_):_===u&&l.push({element:p,datasetIndex:f,index:x})}return Fx(t,a,s,h),l}function av(t,s,a,n,r,i){return!i&&!t.isPointInArea(s)?[]:a==="r"&&!n?Wse(t,s,a,r):Yse(t,s,a,n,r,i)}function XA(t,s,a,n,r){const i=[],l=a==="x"?"inXRange":"inYRange";let d=!1;return Fx(t,a,s,(u,h,p)=>{u[l]&&u[l](s[a],r)&&(i.push({element:u,datasetIndex:h,index:p}),d=d||u.inRange(s.x,s.y,r))}),n&&!d?[]:i}var Kse={modes:{index(t,s,a,n){const r=gc(s,t),i=a.axis||"x",l=a.includeInvisible||!1,d=a.intersect?sv(t,r,i,n,l):av(t,r,i,!1,n,l),u=[];return d.length?(t.getSortedVisibleDatasetMetas().forEach(h=>{const p=d[0].index,f=h.data[p];f&&!f.skip&&u.push({element:f,datasetIndex:h.index,index:p})}),u):[]},dataset(t,s,a,n){const r=gc(s,t),i=a.axis||"xy",l=a.includeInvisible||!1;let d=a.intersect?sv(t,r,i,n,l):av(t,r,i,!1,n,l);if(d.length>0){const u=d[0].datasetIndex,h=t.getDatasetMeta(u).data;d=[];for(let p=0;p<h.length;++p)d.push({element:h[p],datasetIndex:u,index:p})}return d},point(t,s,a,n){const r=gc(s,t),i=a.axis||"xy",l=a.includeInvisible||!1;return sv(t,r,i,n,l)},nearest(t,s,a,n){const r=gc(s,t),i=a.axis||"xy",l=a.includeInvisible||!1;return av(t,r,i,a.intersect,n,l)},x(t,s,a,n){const r=gc(s,t);return XA(t,r,"x",a.intersect,n)},y(t,s,a,n){const r=gc(s,t);return XA(t,r,"y",a.intersect,n)}}};const zP=["left","top","right","bottom"];function Th(t,s){return t.filter(a=>a.pos===s)}function QA(t,s){return t.filter(a=>zP.indexOf(a.pos)===-1&&a.box.axis===s)}function Dh(t,s){return t.sort((a,n)=>{const r=s?n:a,i=s?a:n;return r.weight===i.weight?r.index-i.index:r.weight-i.weight})}function Xse(t){const s=[];let a,n,r,i,l,d;for(a=0,n=(t||[]).length;a<n;++a)r=t[a],{position:i,options:{stack:l,stackWeight:d=1}}=r,s.push({index:a,box:r,pos:i,horizontal:r.isHorizontal(),weight:r.weight,stack:l&&i+l,stackWeight:d});return s}function Qse(t){const s={};for(const a of t){const{stack:n,pos:r,stackWeight:i}=a;if(!n||!zP.includes(r))continue;const l=s[n]||(s[n]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=i}return s}function Zse(t,s){const a=Qse(t),{vBoxMaxWidth:n,hBoxMaxHeight:r}=s;let i,l,d;for(i=0,l=t.length;i<l;++i){d=t[i];const{fullSize:u}=d.box,h=a[d.stack],p=h&&d.stackWeight/h.weight;d.horizontal?(d.width=p?p*n:u&&s.availableWidth,d.height=r):(d.width=n,d.height=p?p*r:u&&s.availableHeight)}return a}function Jse(t){const s=Xse(t),a=Dh(s.filter(h=>h.box.fullSize),!0),n=Dh(Th(s,"left"),!0),r=Dh(Th(s,"right")),i=Dh(Th(s,"top"),!0),l=Dh(Th(s,"bottom")),d=QA(s,"x"),u=QA(s,"y");return{fullSize:a,leftAndTop:n.concat(i),rightAndBottom:r.concat(u).concat(l).concat(d),chartArea:Th(s,"chartArea"),vertical:n.concat(r).concat(u),horizontal:i.concat(l).concat(d)}}function ZA(t,s,a,n){return Math.max(t[a],s[a])+Math.max(t[n],s[n])}function VP(t,s){t.top=Math.max(t.top,s.top),t.left=Math.max(t.left,s.left),t.bottom=Math.max(t.bottom,s.bottom),t.right=Math.max(t.right,s.right)}function eae(t,s,a,n){const{pos:r,box:i}=a,l=t.maxPadding;if(!es(r)){a.size&&(t[r]-=a.size);const f=n[a.stack]||{size:0,count:1};f.size=Math.max(f.size,a.horizontal?i.height:i.width),a.size=f.size/f.count,t[r]+=a.size}i.getPadding&&VP(l,i.getPadding());const d=Math.max(0,s.outerWidth-ZA(l,t,"left","right")),u=Math.max(0,s.outerHeight-ZA(l,t,"top","bottom")),h=d!==t.w,p=u!==t.h;return t.w=d,t.h=u,a.horizontal?{same:h,other:p}:{same:p,other:h}}function tae(t){const s=t.maxPadding;function a(n){const r=Math.max(s[n]-t[n],0);return t[n]+=r,r}t.y+=a("top"),t.x+=a("left"),a("right"),a("bottom")}function sae(t,s){const a=s.maxPadding;function n(r){const i={left:0,top:0,right:0,bottom:0};return r.forEach(l=>{i[l]=Math.max(s[l],a[l])}),i}return n(t?["left","right"]:["top","bottom"])}function Ih(t,s,a,n){const r=[];let i,l,d,u,h,p;for(i=0,l=t.length,h=0;i<l;++i){d=t[i],u=d.box,u.update(d.width||s.w,d.height||s.h,sae(d.horizontal,s));const{same:f,other:x}=eae(s,a,d,n);h|=f&&r.length,p=p||x,u.fullSize||r.push(d)}return h&&Ih(r,s,a,n)||p}function Lp(t,s,a,n,r){t.top=a,t.left=s,t.right=s+n,t.bottom=a+r,t.width=n,t.height=r}function JA(t,s,a,n){const r=a.padding;let{x:i,y:l}=s;for(const d of t){const u=d.box,h=n[d.stack]||{placed:0,weight:1},p=d.stackWeight/h.weight||1;if(d.horizontal){const f=s.w*p,x=h.size||u.height;fm(h.start)&&(l=h.start),u.fullSize?Lp(u,r.left,l,a.outerWidth-r.right-r.left,x):Lp(u,s.left+h.placed,l,f,x),h.start=l,h.placed+=f,l=u.bottom}else{const f=s.h*p,x=h.size||u.width;fm(h.start)&&(i=h.start),u.fullSize?Lp(u,i,r.top,x,a.outerHeight-r.bottom-r.top):Lp(u,i,s.top+h.placed,x,f),h.start=i,h.placed+=f,i=u.right}}s.x=i,s.y=l}var nn={addBox(t,s){t.boxes||(t.boxes=[]),s.fullSize=s.fullSize||!1,s.position=s.position||"top",s.weight=s.weight||0,s._layers=s._layers||function(){return[{z:0,draw(a){s.draw(a)}}]},t.boxes.push(s)},removeBox(t,s){const a=t.boxes?t.boxes.indexOf(s):-1;a!==-1&&t.boxes.splice(a,1)},configure(t,s,a){s.fullSize=a.fullSize,s.position=a.position,s.weight=a.weight},update(t,s,a,n){if(!t)return;const r=ln(t.options.layout.padding),i=Math.max(s-r.width,0),l=Math.max(a-r.height,0),d=Jse(t.boxes),u=d.vertical,h=d.horizontal;_s(t.boxes,w=>{typeof w.beforeLayout=="function"&&w.beforeLayout()});const p=u.reduce((w,_)=>_.box.options&&_.box.options.display===!1?w:w+1,0)||1,f=Object.freeze({outerWidth:s,outerHeight:a,padding:r,availableWidth:i,availableHeight:l,vBoxMaxWidth:i/2/p,hBoxMaxHeight:l/2}),x=Object.assign({},r);VP(x,ln(n));const v=Object.assign({maxPadding:x,w:i,h:l,x:r.left,y:r.top},r),j=Zse(u.concat(h),f);Ih(d.fullSize,v,f,j),Ih(u,v,f,j),Ih(h,v,f,j)&&Ih(u,v,f,j),tae(v),JA(d.leftAndTop,v,f,j),v.x+=v.w,v.y+=v.h,JA(d.rightAndBottom,v,f,j),t.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},_s(d.chartArea,w=>{const _=w.box;Object.assign(_,t.chartArea),_.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class UP{acquireContext(s,a){}releaseContext(s){return!1}addEventListener(s,a,n){}removeEventListener(s,a,n){}getDevicePixelRatio(){return 1}getMaximumSize(s,a,n,r){return a=Math.max(0,a||s.width),n=n||s.height,{width:a,height:Math.max(0,r?Math.floor(a/r):n)}}isAttached(s){return!0}updateConfig(s){}}class aae extends UP{acquireContext(s){return s&&s.getContext&&s.getContext("2d")||null}updateConfig(s){s.options.animation=!1}}const og="$chartjs",nae={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},e4=t=>t===null||t==="";function rae(t,s){const a=t.style,n=t.getAttribute("height"),r=t.getAttribute("width");if(t[og]={initial:{height:n,width:r,style:{display:a.display,height:a.height,width:a.width}}},a.display=a.display||"block",a.boxSizing=a.boxSizing||"border-box",e4(r)){const i=BA(t,"width");i!==void 0&&(t.width=i)}if(e4(n))if(t.style.height==="")t.height=t.width/(s||2);else{const i=BA(t,"height");i!==void 0&&(t.height=i)}return t}const HP=ese?{passive:!0}:!1;function iae(t,s,a){t&&t.addEventListener(s,a,HP)}function oae(t,s,a){t&&t.canvas&&t.canvas.removeEventListener(s,a,HP)}function lae(t,s){const a=nae[t.type]||t.type,{x:n,y:r}=gc(t,s);return{type:a,chart:s,native:t,x:n!==void 0?n:null,y:r!==void 0?r:null}}function Gg(t,s){for(const a of t)if(a===s||a.contains(s))return!0}function cae(t,s,a){const n=t.canvas,r=new MutationObserver(i=>{let l=!1;for(const d of i)l=l||Gg(d.addedNodes,n),l=l&&!Gg(d.removedNodes,n);l&&a()});return r.observe(document,{childList:!0,subtree:!0}),r}function dae(t,s,a){const n=t.canvas,r=new MutationObserver(i=>{let l=!1;for(const d of i)l=l||Gg(d.removedNodes,n),l=l&&!Gg(d.addedNodes,n);l&&a()});return r.observe(document,{childList:!0,subtree:!0}),r}const xm=new Map;let t4=0;function qP(){const t=window.devicePixelRatio;t!==t4&&(t4=t,xm.forEach((s,a)=>{a.currentDevicePixelRatio!==t&&s()}))}function uae(t,s){xm.size||window.addEventListener("resize",qP),xm.set(t,s)}function hae(t){xm.delete(t),xm.size||window.removeEventListener("resize",qP)}function mae(t,s,a){const n=t.canvas,r=n&&w1(n);if(!r)return;const i=bP((d,u)=>{const h=r.clientWidth;a(d,u),h<r.clientWidth&&a()},window),l=new ResizeObserver(d=>{const u=d[0],h=u.contentRect.width,p=u.contentRect.height;h===0&&p===0||i(h,p)});return l.observe(r),uae(t,i),l}function nv(t,s,a){a&&a.disconnect(),s==="resize"&&hae(t)}function fae(t,s,a){const n=t.canvas,r=bP(i=>{t.ctx!==null&&a(lae(i,t))},t);return iae(n,s,r),r}class pae extends UP{acquireContext(s,a){const n=s&&s.getContext&&s.getContext("2d");return n&&n.canvas===s?(rae(s,a),n):null}releaseContext(s){const a=s.canvas;if(!a[og])return!1;const n=a[og].initial;["height","width"].forEach(i=>{const l=n[i];Kt(l)?a.removeAttribute(i):a.setAttribute(i,l)});const r=n.style||{};return Object.keys(r).forEach(i=>{a.style[i]=r[i]}),a.width=a.width,delete a[og],!0}addEventListener(s,a,n){this.removeEventListener(s,a);const r=s.$proxies||(s.$proxies={}),l={attach:cae,detach:dae,resize:mae}[a]||fae;r[a]=l(s,a,n)}removeEventListener(s,a){const n=s.$proxies||(s.$proxies={}),r=n[a];if(!r)return;({attach:nv,detach:nv,resize:nv}[a]||oae)(s,a,r),n[a]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(s,a,n,r){return Jte(s,a,n,r)}isAttached(s){const a=s&&w1(s);return!!(a&&a.isConnected)}}function gae(t){return!j1()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?aae:pae}let bo=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(s){const{x:a,y:n}=this.getProps(["x","y"],s);return{x:a,y:n}}hasValue(){return au(this.x)&&au(this.y)}getProps(s,a){const n=this.$animations;if(!a||!n)return this;const r={};return s.forEach(i=>{r[i]=n[i]&&n[i].active()?n[i]._to:this[i]}),r}};function xae(t,s){const a=t.options.ticks,n=yae(t),r=Math.min(a.maxTicksLimit||n,n),i=a.major.enabled?vae(s):[],l=i.length,d=i[0],u=i[l-1],h=[];if(l>r)return jae(s,h,i,l/r),h;const p=bae(i,s,r);if(l>0){let f,x;const v=l>1?Math.round((u-d)/(l-1)):null;for(Bp(s,h,p,Kt(v)?0:d-v,d),f=0,x=l-1;f<x;f++)Bp(s,h,p,i[f],i[f+1]);return Bp(s,h,p,u,Kt(v)?s.length:u+v),h}return Bp(s,h,p),h}function yae(t){const s=t.options.offset,a=t._tickSize(),n=t._length/a+(s?0:1),r=t._maxLength/a;return Math.floor(Math.min(n,r))}function bae(t,s,a){const n=wae(t),r=s.length/a;if(!n)return Math.max(r,1);const i=ste(n);for(let l=0,d=i.length-1;l<d;l++){const u=i[l];if(u>r)return u}return Math.max(r,1)}function vae(t){const s=[];let a,n;for(a=0,n=t.length;a<n;a++)t[a].major&&s.push(a);return s}function jae(t,s,a,n){let r=0,i=a[0],l;for(n=Math.ceil(n),l=0;l<t.length;l++)l===i&&(s.push(t[l]),r++,i=a[r*n])}function Bp(t,s,a,n,r){const i=Ft(n,0),l=Math.min(Ft(r,t.length),t.length);let d=0,u,h,p;for(a=Math.ceil(a),r&&(u=r-n,a=u/Math.floor(u/a)),p=i;p<0;)d++,p=Math.round(i+d*a);for(h=Math.max(i,0);h<l;h++)h===p&&(s.push(t[h]),d++,p=Math.round(i+d*a))}function wae(t){const s=t.length;let a,n;if(s<2)return!1;for(n=t[0],a=1;a<s;++a)if(t[a]-t[a-1]!==n)return!1;return n}const Nae=t=>t==="left"?"right":t==="right"?"left":t,s4=(t,s,a)=>s==="top"||s==="left"?t[s]+a:t[s]-a,a4=(t,s)=>Math.min(s||t,t);function n4(t,s){const a=[],n=t.length/s,r=t.length;let i=0;for(;i<r;i+=n)a.push(t[Math.floor(i)]);return a}function _ae(t,s,a){const n=t.ticks.length,r=Math.min(s,n-1),i=t._startPixel,l=t._endPixel,d=1e-6;let u=t.getPixelForTick(r),h;if(!(a&&(n===1?h=Math.max(u-i,l-u):s===0?h=(t.getPixelForTick(1)-u)/2:h=(u-t.getPixelForTick(r-1))/2,u+=r<s?h:-h,u<i-d||u>l+d)))return u}function Cae(t,s){_s(t,a=>{const n=a.gc,r=n.length/2;let i;if(r>s){for(i=0;i<r;++i)delete a.data[n[i]];n.splice(0,r)}})}function Eh(t){return t.drawTicks?t.tickLength:0}function r4(t,s){if(!t.display)return 0;const a=Da(t.font,s),n=ln(t.padding);return(Ws(t.text)?t.text.length:1)*a.lineHeight+n.height}function kae(t,s){return Dl(t,{scale:s,type:"scale"})}function Sae(t,s,a){return Dl(t,{tick:a,index:s,type:"tick"})}function Aae(t,s,a){let n=p1(t);return(a&&s!=="right"||!a&&s==="right")&&(n=Nae(n)),n}function Tae(t,s,a,n){const{top:r,left:i,bottom:l,right:d,chart:u}=t,{chartArea:h,scales:p}=u;let f=0,x,v,j;const w=l-r,_=d-i;if(t.isHorizontal()){if(v=Za(n,i,d),es(a)){const N=Object.keys(a)[0],k=a[N];j=p[N].getPixelForValue(k)+w-s}else a==="center"?j=(h.bottom+h.top)/2+w-s:j=s4(t,a,s);x=d-i}else{if(es(a)){const N=Object.keys(a)[0],k=a[N];v=p[N].getPixelForValue(k)-_+s}else a==="center"?v=(h.left+h.right)/2-_+s:v=s4(t,a,s);j=Za(n,l,r),f=a==="left"?-ma:ma}return{titleX:v,titleY:j,maxWidth:x,rotation:f}}class zc extends bo{constructor(s){super(),this.id=s.id,this.type=s.type,this.options=void 0,this.ctx=s.ctx,this.chart=s.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(s){this.options=s.setContext(this.getContext()),this.axis=s.axis,this._userMin=this.parse(s.min),this._userMax=this.parse(s.max),this._suggestedMin=this.parse(s.suggestedMin),this._suggestedMax=this.parse(s.suggestedMax)}parse(s,a){return s}getUserBounds(){let{_userMin:s,_userMax:a,_suggestedMin:n,_suggestedMax:r}=this;return s=Qn(s,Number.POSITIVE_INFINITY),a=Qn(a,Number.NEGATIVE_INFINITY),n=Qn(n,Number.POSITIVE_INFINITY),r=Qn(r,Number.NEGATIVE_INFINITY),{min:Qn(s,n),max:Qn(a,r),minDefined:la(s),maxDefined:la(a)}}getMinMax(s){let{min:a,max:n,minDefined:r,maxDefined:i}=this.getUserBounds(),l;if(r&&i)return{min:a,max:n};const d=this.getMatchingVisibleMetas();for(let u=0,h=d.length;u<h;++u)l=d[u].controller.getMinMax(this,s),r||(a=Math.min(a,l.min)),i||(n=Math.max(n,l.max));return a=i&&a>n?n:a,n=r&&a>n?a:n,{min:Qn(a,Qn(n,a)),max:Qn(n,Qn(a,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const s=this.chart.data;return this.options.labels||(this.isHorizontal()?s.xLabels:s.yLabels)||s.labels||[]}getLabelItems(s=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(s))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Ls(this.options.beforeUpdate,[this])}update(s,a,n){const{beginAtZero:r,grace:i,ticks:l}=this.options,d=l.sampleSize;this.beforeUpdate(),this.maxWidth=s,this.maxHeight=a,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Ete(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=d<this.ticks.length;this._convertTicksToLabels(u?n4(this.ticks,d):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=xae(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let s=this.options.reverse,a,n;this.isHorizontal()?(a=this.left,n=this.right):(a=this.top,n=this.bottom,s=!s),this._startPixel=a,this._endPixel=n,this._reversePixels=s,this._length=n-a,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Ls(this.options.afterUpdate,[this])}beforeSetDimensions(){Ls(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Ls(this.options.afterSetDimensions,[this])}_callHooks(s){this.chart.notifyPlugins(s,this.getContext()),Ls(this.options[s],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Ls(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(s){const a=this.options.ticks;let n,r,i;for(n=0,r=s.length;n<r;n++)i=s[n],i.label=Ls(a.callback,[i.value,n,s],this)}afterTickToLabelConversion(){Ls(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Ls(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const s=this.options,a=s.ticks,n=a4(this.ticks.length,s.ticks.maxTicksLimit),r=a.minRotation||0,i=a.maxRotation;let l=r,d,u,h;if(!this._isVisible()||!a.display||r>=i||n<=1||!this.isHorizontal()){this.labelRotation=r;return}const p=this._getLabelSizes(),f=p.widest.width,x=p.highest.height,v=za(this.chart.width-f,0,this.maxWidth);d=s.offset?this.maxWidth/n:v/(n-1),f+6>d&&(d=v/(n-(s.offset?.5:1)),u=this.maxHeight-Eh(s.grid)-a.padding-r4(s.title,this.chart.options.font),h=Math.sqrt(f*f+x*x),l=m1(Math.min(Math.asin(za((p.highest.height+6)/d,-1,1)),Math.asin(za(u/h,-1,1))-Math.asin(za(x/h,-1,1)))),l=Math.max(r,Math.min(i,l))),this.labelRotation=l}afterCalculateLabelRotation(){Ls(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Ls(this.options.beforeFit,[this])}fit(){const s={width:0,height:0},{chart:a,options:{ticks:n,title:r,grid:i}}=this,l=this._isVisible(),d=this.isHorizontal();if(l){const u=r4(r,a.options.font);if(d?(s.width=this.maxWidth,s.height=Eh(i)+u):(s.height=this.maxHeight,s.width=Eh(i)+u),n.display&&this.ticks.length){const{first:h,last:p,widest:f,highest:x}=this._getLabelSizes(),v=n.padding*2,j=Hr(this.labelRotation),w=Math.cos(j),_=Math.sin(j);if(d){const N=n.mirror?0:_*f.width+w*x.height;s.height=Math.min(this.maxHeight,s.height+N+v)}else{const N=n.mirror?0:w*f.width+_*x.height;s.width=Math.min(this.maxWidth,s.width+N+v)}this._calculatePadding(h,p,_,w)}}this._handleMargins(),d?(this.width=this._length=a.width-this._margins.left-this._margins.right,this.height=s.height):(this.width=s.width,this.height=this._length=a.height-this._margins.top-this._margins.bottom)}_calculatePadding(s,a,n,r){const{ticks:{align:i,padding:l},position:d}=this.options,u=this.labelRotation!==0,h=d!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let x=0,v=0;u?h?(x=r*s.width,v=n*a.height):(x=n*s.height,v=r*a.width):i==="start"?v=a.width:i==="end"?x=s.width:i!=="inner"&&(x=s.width/2,v=a.width/2),this.paddingLeft=Math.max((x-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((v-f+l)*this.width/(this.width-f),0)}else{let p=a.height/2,f=s.height/2;i==="start"?(p=0,f=s.height):i==="end"&&(p=a.height,f=0),this.paddingTop=p+l,this.paddingBottom=f+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Ls(this.options.afterFit,[this])}isHorizontal(){const{axis:s,position:a}=this.options;return a==="top"||a==="bottom"||s==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(s){this.beforeTickToLabelConversion(),this.generateTickLabels(s);let a,n;for(a=0,n=s.length;a<n;a++)Kt(s[a].label)&&(s.splice(a,1),n--,a--);this.afterTickToLabelConversion()}_getLabelSizes(){let s=this._labelSizes;if(!s){const a=this.options.ticks.sampleSize;let n=this.ticks;a<n.length&&(n=n4(n,a)),this._labelSizes=s=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return s}_computeLabelSizes(s,a,n){const{ctx:r,_longestTextCache:i}=this,l=[],d=[],u=Math.floor(a/a4(a,n));let h=0,p=0,f,x,v,j,w,_,N,k,D,T,E;for(f=0;f<a;f+=u){if(j=s[f].label,w=this._resolveTickFontOptions(f),r.font=_=w.string,N=i[_]=i[_]||{data:{},gc:[]},k=w.lineHeight,D=T=0,!Kt(j)&&!Ws(j))D=Hg(r,N.data,N.gc,D,j),T=k;else if(Ws(j))for(x=0,v=j.length;x<v;++x)E=j[x],!Kt(E)&&!Ws(E)&&(D=Hg(r,N.data,N.gc,D,E),T+=k);l.push(D),d.push(T),h=Math.max(D,h),p=Math.max(T,p)}Cae(i,a);const G=l.indexOf(h),A=d.indexOf(p),F=M=>({width:l[M]||0,height:d[M]||0});return{first:F(0),last:F(a-1),widest:F(G),highest:F(A),widths:l,heights:d}}getLabelForValue(s){return s}getPixelForValue(s,a){return NaN}getValueForPixel(s){}getPixelForTick(s){const a=this.ticks;return s<0||s>a.length-1?null:this.getPixelForValue(a[s].value)}getPixelForDecimal(s){this._reversePixels&&(s=1-s);const a=this._startPixel+s*this._length;return ite(this._alignToPixels?oc(this.chart,a,0):a)}getDecimalForPixel(s){const a=(s-this._startPixel)/this._length;return this._reversePixels?1-a:a}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:s,max:a}=this;return s<0&&a<0?a:s>0&&a>0?s:0}getContext(s){const a=this.ticks||[];if(s>=0&&s<a.length){const n=a[s];return n.$context||(n.$context=Sae(this.getContext(),s,n))}return this.$context||(this.$context=kae(this.chart.getContext(),this))}_tickSize(){const s=this.options.ticks,a=Hr(this.labelRotation),n=Math.abs(Math.cos(a)),r=Math.abs(Math.sin(a)),i=this._getLabelSizes(),l=s.autoSkipPadding||0,d=i?i.widest.width+l:0,u=i?i.highest.height+l:0;return this.isHorizontal()?u*n>d*r?d/n:u/r:u*r<d*n?u/n:d/r}_isVisible(){const s=this.options.display;return s!=="auto"?!!s:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(s){const a=this.axis,n=this.chart,r=this.options,{grid:i,position:l,border:d}=r,u=i.offset,h=this.isHorizontal(),f=this.ticks.length+(u?1:0),x=Eh(i),v=[],j=d.setContext(this.getContext()),w=j.display?j.width:0,_=w/2,N=function(V){return oc(n,V,w)};let k,D,T,E,G,A,F,M,J,R,ee,Y;if(l==="top")k=N(this.bottom),A=this.bottom-x,M=k-_,R=N(s.top)+_,Y=s.bottom;else if(l==="bottom")k=N(this.top),R=s.top,Y=N(s.bottom)-_,A=k+_,M=this.top+x;else if(l==="left")k=N(this.right),G=this.right-x,F=k-_,J=N(s.left)+_,ee=s.right;else if(l==="right")k=N(this.left),J=s.left,ee=N(s.right)-_,G=k+_,F=this.left+x;else if(a==="x"){if(l==="center")k=N((s.top+s.bottom)/2+.5);else if(es(l)){const V=Object.keys(l)[0],U=l[V];k=N(this.chart.scales[V].getPixelForValue(U))}R=s.top,Y=s.bottom,A=k+_,M=A+x}else if(a==="y"){if(l==="center")k=N((s.left+s.right)/2);else if(es(l)){const V=Object.keys(l)[0],U=l[V];k=N(this.chart.scales[V].getPixelForValue(U))}G=k-_,F=G-x,J=s.left,ee=s.right}const re=Ft(r.ticks.maxTicksLimit,f),te=Math.max(1,Math.ceil(f/re));for(D=0;D<f;D+=te){const V=this.getContext(D),U=i.setContext(V),H=d.setContext(V),L=U.lineWidth,$=U.color,z=H.dash||[],ie=H.dashOffset,le=U.tickWidth,ne=U.tickColor,fe=U.tickBorderDash||[],Ne=U.tickBorderDashOffset;T=_ae(this,D,u),T!==void 0&&(E=oc(n,T,L),h?G=F=J=ee=E:A=M=R=Y=E,v.push({tx1:G,ty1:A,tx2:F,ty2:M,x1:J,y1:R,x2:ee,y2:Y,width:L,color:$,borderDash:z,borderDashOffset:ie,tickWidth:le,tickColor:ne,tickBorderDash:fe,tickBorderDashOffset:Ne}))}return this._ticksLength=f,this._borderValue=k,v}_computeLabelItems(s){const a=this.axis,n=this.options,{position:r,ticks:i}=n,l=this.isHorizontal(),d=this.ticks,{align:u,crossAlign:h,padding:p,mirror:f}=i,x=Eh(n.grid),v=x+p,j=f?-p:v,w=-Hr(this.labelRotation),_=[];let N,k,D,T,E,G,A,F,M,J,R,ee,Y="middle";if(r==="top")G=this.bottom-j,A=this._getXAxisLabelAlignment();else if(r==="bottom")G=this.top+j,A=this._getXAxisLabelAlignment();else if(r==="left"){const te=this._getYAxisLabelAlignment(x);A=te.textAlign,E=te.x}else if(r==="right"){const te=this._getYAxisLabelAlignment(x);A=te.textAlign,E=te.x}else if(a==="x"){if(r==="center")G=(s.top+s.bottom)/2+v;else if(es(r)){const te=Object.keys(r)[0],V=r[te];G=this.chart.scales[te].getPixelForValue(V)+v}A=this._getXAxisLabelAlignment()}else if(a==="y"){if(r==="center")E=(s.left+s.right)/2-v;else if(es(r)){const te=Object.keys(r)[0],V=r[te];E=this.chart.scales[te].getPixelForValue(V)}A=this._getYAxisLabelAlignment(x).textAlign}a==="y"&&(u==="start"?Y="top":u==="end"&&(Y="bottom"));const re=this._getLabelSizes();for(N=0,k=d.length;N<k;++N){D=d[N],T=D.label;const te=i.setContext(this.getContext(N));F=this.getPixelForTick(N)+i.labelOffset,M=this._resolveTickFontOptions(N),J=M.lineHeight,R=Ws(T)?T.length:1;const V=R/2,U=te.color,H=te.textStrokeColor,L=te.textStrokeWidth;let $=A;l?(E=F,A==="inner"&&(N===k-1?$=this.options.reverse?"left":"right":N===0?$=this.options.reverse?"right":"left":$="center"),r==="top"?h==="near"||w!==0?ee=-R*J+J/2:h==="center"?ee=-re.highest.height/2-V*J+J:ee=-re.highest.height+J/2:h==="near"||w!==0?ee=J/2:h==="center"?ee=re.highest.height/2-V*J:ee=re.highest.height-R*J,f&&(ee*=-1),w!==0&&!te.showLabelBackdrop&&(E+=J/2*Math.sin(w))):(G=F,ee=(1-R)*J/2);let z;if(te.showLabelBackdrop){const ie=ln(te.backdropPadding),le=re.heights[N],ne=re.widths[N];let fe=ee-ie.top,Ne=0-ie.left;switch(Y){case"middle":fe-=le/2;break;case"bottom":fe-=le;break}switch(A){case"center":Ne-=ne/2;break;case"right":Ne-=ne;break;case"inner":N===k-1?Ne-=ne:N>0&&(Ne-=ne/2);break}z={left:Ne,top:fe,width:ne+ie.width,height:le+ie.height,color:te.backdropColor}}_.push({label:T,font:M,textOffset:ee,options:{rotation:w,color:U,strokeColor:H,strokeWidth:L,textAlign:$,textBaseline:Y,translation:[E,G],backdrop:z}})}return _}_getXAxisLabelAlignment(){const{position:s,ticks:a}=this.options;if(-Hr(this.labelRotation))return s==="top"?"left":"right";let r="center";return a.align==="start"?r="left":a.align==="end"?r="right":a.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(s){const{position:a,ticks:{crossAlign:n,mirror:r,padding:i}}=this.options,l=this._getLabelSizes(),d=s+i,u=l.widest.width;let h,p;return a==="left"?r?(p=this.right+i,n==="near"?h="left":n==="center"?(h="center",p+=u/2):(h="right",p+=u)):(p=this.right-d,n==="near"?h="right":n==="center"?(h="center",p-=u/2):(h="left",p=this.left)):a==="right"?r?(p=this.left+i,n==="near"?h="right":n==="center"?(h="center",p-=u/2):(h="left",p-=u)):(p=this.left+d,n==="near"?h="left":n==="center"?(h="center",p+=u/2):(h="right",p=this.right)):h="right",{textAlign:h,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const s=this.chart,a=this.options.position;if(a==="left"||a==="right")return{top:0,left:this.left,bottom:s.height,right:this.right};if(a==="top"||a==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:s.width}}drawBackground(){const{ctx:s,options:{backgroundColor:a},left:n,top:r,width:i,height:l}=this;a&&(s.save(),s.fillStyle=a,s.fillRect(n,r,i,l),s.restore())}getLineWidthForValue(s){const a=this.options.grid;if(!this._isVisible()||!a.display)return 0;const r=this.ticks.findIndex(i=>i.value===s);return r>=0?a.setContext(this.getContext(r)).lineWidth:0}drawGrid(s){const a=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(s));let i,l;const d=(u,h,p)=>{!p.width||!p.color||(n.save(),n.lineWidth=p.width,n.strokeStyle=p.color,n.setLineDash(p.borderDash||[]),n.lineDashOffset=p.borderDashOffset,n.beginPath(),n.moveTo(u.x,u.y),n.lineTo(h.x,h.y),n.stroke(),n.restore())};if(a.display)for(i=0,l=r.length;i<l;++i){const u=r[i];a.drawOnChartArea&&d({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),a.drawTicks&&d({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:s,ctx:a,options:{border:n,grid:r}}=this,i=n.setContext(this.getContext()),l=n.display?i.width:0;if(!l)return;const d=r.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let h,p,f,x;this.isHorizontal()?(h=oc(s,this.left,l)-l/2,p=oc(s,this.right,d)+d/2,f=x=u):(f=oc(s,this.top,l)-l/2,x=oc(s,this.bottom,d)+d/2,h=p=u),a.save(),a.lineWidth=i.width,a.strokeStyle=i.color,a.beginPath(),a.moveTo(h,f),a.lineTo(p,x),a.stroke(),a.restore()}drawLabels(s){if(!this.options.ticks.display)return;const n=this.ctx,r=this._computeLabelArea();r&&Ox(n,r);const i=this.getLabelItems(s);for(const l of i){const d=l.options,u=l.font,h=l.label,p=l.textOffset;$c(n,h,0,p,u,d)}r&&Lx(n)}drawTitle(){const{ctx:s,options:{position:a,title:n,reverse:r}}=this;if(!n.display)return;const i=Da(n.font),l=ln(n.padding),d=n.align;let u=i.lineHeight/2;a==="bottom"||a==="center"||es(a)?(u+=l.bottom,Ws(n.text)&&(u+=i.lineHeight*(n.text.length-1))):u+=l.top;const{titleX:h,titleY:p,maxWidth:f,rotation:x}=Tae(this,u,a,d);$c(s,n.text,0,0,i,{color:n.color,maxWidth:f,rotation:x,textAlign:Aae(d,a,r),textBaseline:"middle",translation:[h,p]})}draw(s){this._isVisible()&&(this.drawBackground(),this.drawGrid(s),this.drawBorder(),this.drawTitle(),this.drawLabels(s))}_layers(){const s=this.options,a=s.ticks&&s.ticks.z||0,n=Ft(s.grid&&s.grid.z,-1),r=Ft(s.border&&s.border.z,0);return!this._isVisible()||this.draw!==zc.prototype.draw?[{z:a,draw:i=>{this.draw(i)}}]:[{z:n,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:a,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(s){const a=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let i,l;for(i=0,l=a.length;i<l;++i){const d=a[i];d[n]===this.id&&(!s||d.type===s)&&r.push(d)}return r}_resolveTickFontOptions(s){const a=this.options.ticks.setContext(this.getContext(s));return Da(a.font)}_maxDigits(){const s=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/s}}class Fp{constructor(s,a,n){this.type=s,this.scope=a,this.override=n,this.items=Object.create(null)}isForType(s){return Object.prototype.isPrototypeOf.call(this.type.prototype,s.prototype)}register(s){const a=Object.getPrototypeOf(s);let n;Rae(a)&&(n=this.register(a));const r=this.items,i=s.id,l=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+s);return i in r||(r[i]=s,Dae(s,l,n),this.override&&Qs.override(s.id,s.overrides)),l}get(s){return this.items[s]}unregister(s){const a=this.items,n=s.id,r=this.scope;n in a&&delete a[n],r&&n in Qs[r]&&(delete Qs[r][n],this.override&&delete Ic[n])}}function Dae(t,s,a){const n=mm(Object.create(null),[a?Qs.get(a):{},Qs.get(s),t.defaults]);Qs.set(s,n),t.defaultRoutes&&Eae(s,t.defaultRoutes),t.descriptors&&Qs.describe(s,t.descriptors)}function Eae(t,s){Object.keys(s).forEach(a=>{const n=a.split("."),r=n.pop(),i=[t].concat(n).join("."),l=s[a].split("."),d=l.pop(),u=l.join(".");Qs.route(i,r,u,d)})}function Rae(t){return"id"in t&&"defaults"in t}class Mae{constructor(){this.controllers=new Fp(El,"datasets",!0),this.elements=new Fp(bo,"elements"),this.plugins=new Fp(Object,"plugins"),this.scales=new Fp(zc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...s){this._each("register",s)}remove(...s){this._each("unregister",s)}addControllers(...s){this._each("register",s,this.controllers)}addElements(...s){this._each("register",s,this.elements)}addPlugins(...s){this._each("register",s,this.plugins)}addScales(...s){this._each("register",s,this.scales)}getController(s){return this._get(s,this.controllers,"controller")}getElement(s){return this._get(s,this.elements,"element")}getPlugin(s){return this._get(s,this.plugins,"plugin")}getScale(s){return this._get(s,this.scales,"scale")}removeControllers(...s){this._each("unregister",s,this.controllers)}removeElements(...s){this._each("unregister",s,this.elements)}removePlugins(...s){this._each("unregister",s,this.plugins)}removeScales(...s){this._each("unregister",s,this.scales)}_each(s,a,n){[...a].forEach(r=>{const i=n||this._getRegistryForType(r);n||i.isForType(r)||i===this.plugins&&r.id?this._exec(s,i,r):_s(r,l=>{const d=n||this._getRegistryForType(l);this._exec(s,d,l)})})}_exec(s,a,n){const r=h1(s);Ls(n["before"+r],[],n),a[s](n),Ls(n["after"+r],[],n)}_getRegistryForType(s){for(let a=0;a<this._typedRegistries.length;a++){const n=this._typedRegistries[a];if(n.isForType(s))return n}return this.plugins}_get(s,a,n){const r=a.get(s);if(r===void 0)throw new Error('"'+s+'" is not a registered '+n+".");return r}}var hi=new Mae;class Pae{constructor(){this._init=void 0}notify(s,a,n,r){if(a==="beforeInit"&&(this._init=this._createDescriptors(s,!0),this._notify(this._init,s,"install")),this._init===void 0)return;const i=r?this._descriptors(s).filter(r):this._descriptors(s),l=this._notify(i,s,a,n);return a==="afterDestroy"&&(this._notify(i,s,"stop"),this._notify(this._init,s,"uninstall"),this._init=void 0),l}_notify(s,a,n,r){r=r||{};for(const i of s){const l=i.plugin,d=l[n],u=[a,r,i.options];if(Ls(d,u,l)===!1&&r.cancelable)return!1}return!0}invalidate(){Kt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(s){if(this._cache)return this._cache;const a=this._cache=this._createDescriptors(s);return this._notifyStateChanges(s),a}_createDescriptors(s,a){const n=s&&s.config,r=Ft(n.options&&n.options.plugins,{}),i=Oae(n);return r===!1&&!a?[]:Bae(s,i,r,a)}_notifyStateChanges(s){const a=this._oldCache||[],n=this._cache,r=(i,l)=>i.filter(d=>!l.some(u=>d.plugin.id===u.plugin.id));this._notify(r(a,n),s,"stop"),this._notify(r(n,a),s,"start")}}function Oae(t){const s={},a=[],n=Object.keys(hi.plugins.items);for(let i=0;i<n.length;i++)a.push(hi.getPlugin(n[i]));const r=t.plugins||[];for(let i=0;i<r.length;i++){const l=r[i];a.indexOf(l)===-1&&(a.push(l),s[l.id]=!0)}return{plugins:a,localIds:s}}function Lae(t,s){return!s&&t===!1?null:t===!0?{}:t}function Bae(t,{plugins:s,localIds:a},n,r){const i=[],l=t.getContext();for(const d of s){const u=d.id,h=Lae(n[u],r);h!==null&&i.push({plugin:d,options:Fae(t.config,{plugin:d,local:a[u]},h,l)})}return i}function Fae(t,{plugin:s,local:a},n,r){const i=t.pluginScopeKeys(s),l=t.getOptionScopes(n,i);return a&&s.defaults&&l.push(s.defaults),t.createResolver(l,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function _j(t,s){const a=Qs.datasets[t]||{};return((s.datasets||{})[t]||{}).indexAxis||s.indexAxis||a.indexAxis||"x"}function Iae(t,s){let a=t;return t==="_index_"?a=s:t==="_value_"&&(a=s==="x"?"y":"x"),a}function $ae(t,s){return t===s?"_index_":"_value_"}function i4(t){if(t==="x"||t==="y"||t==="r")return t}function zae(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Cj(t,...s){if(i4(t))return t;for(const a of s){const n=a.axis||zae(a.position)||t.length>1&&i4(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function o4(t,s,a){if(a[s+"AxisID"]===t)return{axis:s}}function Vae(t,s){if(s.data&&s.data.datasets){const a=s.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(a.length)return o4(t,"x",a[0])||o4(t,"y",a[0])}return{}}function Uae(t,s){const a=Ic[t.type]||{scales:{}},n=s.scales||{},r=_j(t.type,s),i=Object.create(null);return Object.keys(n).forEach(l=>{const d=n[l];if(!es(d))return console.error(`Invalid scale configuration for scale: ${l}`);if(d._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const u=Cj(l,d,Vae(l,t),Qs.scales[d.type]),h=$ae(u,r),p=a.scales||{};i[l]=Yh(Object.create(null),[{axis:u},d,p[u],p[h]])}),t.data.datasets.forEach(l=>{const d=l.type||t.type,u=l.indexAxis||_j(d,s),p=(Ic[d]||{}).scales||{};Object.keys(p).forEach(f=>{const x=Iae(f,u),v=l[x+"AxisID"]||x;i[v]=i[v]||Object.create(null),Yh(i[v],[{axis:x},n[v],p[f]])})}),Object.keys(i).forEach(l=>{const d=i[l];Yh(d,[Qs.scales[d.type],Qs.scale])}),i}function GP(t){const s=t.options||(t.options={});s.plugins=Ft(s.plugins,{}),s.scales=Uae(t,s)}function WP(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function Hae(t){return t=t||{},t.data=WP(t.data),GP(t),t}const l4=new Map,YP=new Set;function Ip(t,s){let a=l4.get(t);return a||(a=s(),l4.set(t,a),YP.add(a)),a}const Rh=(t,s,a)=>{const n=_l(s,a);n!==void 0&&t.add(n)};class qae{constructor(s){this._config=Hae(s),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(s){this._config.type=s}get data(){return this._config.data}set data(s){this._config.data=WP(s)}get options(){return this._config.options}set options(s){this._config.options=s}get plugins(){return this._config.plugins}update(){const s=this._config;this.clearCache(),GP(s)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(s){return Ip(s,()=>[[`datasets.${s}`,""]])}datasetAnimationScopeKeys(s,a){return Ip(`${s}.transition.${a}`,()=>[[`datasets.${s}.transitions.${a}`,`transitions.${a}`],[`datasets.${s}`,""]])}datasetElementScopeKeys(s,a){return Ip(`${s}-${a}`,()=>[[`datasets.${s}.elements.${a}`,`datasets.${s}`,`elements.${a}`,""]])}pluginScopeKeys(s){const a=s.id,n=this.type;return Ip(`${n}-plugin-${a}`,()=>[[`plugins.${a}`,...s.additionalOptionScopes||[]]])}_cachedScopes(s,a){const n=this._scopeCache;let r=n.get(s);return(!r||a)&&(r=new Map,n.set(s,r)),r}getOptionScopes(s,a,n){const{options:r,type:i}=this,l=this._cachedScopes(s,n),d=l.get(a);if(d)return d;const u=new Set;a.forEach(p=>{s&&(u.add(s),p.forEach(f=>Rh(u,s,f))),p.forEach(f=>Rh(u,r,f)),p.forEach(f=>Rh(u,Ic[i]||{},f)),p.forEach(f=>Rh(u,Qs,f)),p.forEach(f=>Rh(u,wj,f))});const h=Array.from(u);return h.length===0&&h.push(Object.create(null)),YP.has(a)&&l.set(a,h),h}chartOptionScopes(){const{options:s,type:a}=this;return[s,Ic[a]||{},Qs.datasets[a]||{},{type:a},Qs,wj]}resolveNamedOptions(s,a,n,r=[""]){const i={$shared:!0},{resolver:l,subPrefixes:d}=c4(this._resolverCache,s,r);let u=l;if(Wae(l,a)){i.$shared=!1,n=Cl(n)?n():n;const h=this.createResolver(s,n,d);u=nu(l,n,h)}for(const h of a)i[h]=u[h];return i}createResolver(s,a,n=[""],r){const{resolver:i}=c4(this._resolverCache,s,n);return es(a)?nu(i,a,void 0,r):i}}function c4(t,s,a){let n=t.get(s);n||(n=new Map,t.set(s,n));const r=a.join();let i=n.get(r);return i||(i={resolver:y1(s,a),subPrefixes:a.filter(d=>!d.toLowerCase().includes("hover"))},n.set(r,i)),i}const Gae=t=>es(t)&&Object.getOwnPropertyNames(t).some(s=>Cl(t[s]));function Wae(t,s){const{isScriptable:a,isIndexable:n}=CP(t);for(const r of s){const i=a(r),l=n(r),d=(l||i)&&t[r];if(i&&(Cl(d)||Gae(d))||l&&Ws(d))return!0}return!1}var Yae="4.5.1";const Kae=["top","bottom","left","right","chartArea"];function d4(t,s){return t==="top"||t==="bottom"||Kae.indexOf(t)===-1&&s==="x"}function u4(t,s){return function(a,n){return a[t]===n[t]?a[s]-n[s]:a[t]-n[t]}}function h4(t){const s=t.chart,a=s.options.animation;s.notifyPlugins("afterRender"),Ls(a&&a.onComplete,[t],s)}function Xae(t){const s=t.chart,a=s.options.animation;Ls(a&&a.onProgress,[t],s)}function KP(t){return j1()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const lg={},m4=t=>{const s=KP(t);return Object.values(lg).filter(a=>a.canvas===s).pop()};function Qae(t,s,a){const n=Object.keys(t);for(const r of n){const i=+r;if(i>=s){const l=t[r];delete t[r],(a>0||i>s)&&(t[i+a]=l)}}}function Zae(t,s,a,n){return!a||t.type==="mouseout"?null:n?s:t}class kl{static defaults=Qs;static instances=lg;static overrides=Ic;static registry=hi;static version=Yae;static getChart=m4;static register(...s){hi.add(...s),f4()}static unregister(...s){hi.remove(...s),f4()}constructor(s,a){const n=this.config=new qae(a),r=KP(s),i=m4(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const l=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||gae(r)),this.platform.updateConfig(n);const d=this.platform.acquireContext(r,l.aspectRatio),u=d&&d.canvas,h=u&&u.height,p=u&&u.width;if(this.id=Wee(),this.ctx=d,this.canvas=u,this.width=p,this.height=h,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Pae,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=dte(f=>this.update(f),l.resizeDelay||0),this._dataChanges=[],lg[this.id]=this,!d||!u){console.error("Failed to create chart: can't acquire context from the given item");return}eo.listen(this,"complete",h4),eo.listen(this,"progress",Xae),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:s,maintainAspectRatio:a},width:n,height:r,_aspectRatio:i}=this;return Kt(s)?a&&i?i:r?n/r:null:s}get data(){return this.config.data}set data(s){this.config.data=s}get options(){return this._options}set options(s){this.config.options=s}get registry(){return hi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():LA(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return MA(this.canvas,this.ctx),this}stop(){return eo.stop(this),this}resize(s,a){eo.running(this)?this._resizeBeforeDraw={width:s,height:a}:this._resize(s,a)}_resize(s,a){const n=this.options,r=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(r,s,a,i),d=n.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,LA(this,d,!0)&&(this.notifyPlugins("resize",{size:l}),Ls(n.onResize,[this,l],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const a=this.options.scales||{};_s(a,(n,r)=>{n.id=r})}buildOrUpdateScales(){const s=this.options,a=s.scales,n=this.scales,r=Object.keys(n).reduce((l,d)=>(l[d]=!1,l),{});let i=[];a&&(i=i.concat(Object.keys(a).map(l=>{const d=a[l],u=Cj(l,d),h=u==="r",p=u==="x";return{options:d,dposition:h?"chartArea":p?"bottom":"left",dtype:h?"radialLinear":p?"category":"linear"}}))),_s(i,l=>{const d=l.options,u=d.id,h=Cj(u,d),p=Ft(d.type,l.dtype);(d.position===void 0||d4(d.position,h)!==d4(l.dposition))&&(d.position=l.dposition),r[u]=!0;let f=null;if(u in n&&n[u].type===p)f=n[u];else{const x=hi.getScale(p);f=new x({id:u,type:p,ctx:this.ctx,chart:this}),n[f.id]=f}f.init(d,s)}),_s(r,(l,d)=>{l||delete n[d]}),_s(n,l=>{nn.configure(this,l,l.options),nn.addBox(this,l)})}_updateMetasets(){const s=this._metasets,a=this.data.datasets.length,n=s.length;if(s.sort((r,i)=>r.index-i.index),n>a){for(let r=a;r<n;++r)this._destroyDatasetMeta(r);s.splice(a,n-a)}this._sortedMetasets=s.slice(0).sort(u4("order","index"))}_removeUnreferencedMetasets(){const{_metasets:s,data:{datasets:a}}=this;s.length>a.length&&delete this._stacks,s.forEach((n,r)=>{a.filter(i=>i===n._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const s=[],a=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=a.length;n<r;n++){const i=a[n];let l=this.getDatasetMeta(n);const d=i.type||this.config.type;if(l.type&&l.type!==d&&(this._destroyDatasetMeta(n),l=this.getDatasetMeta(n)),l.type=d,l.indexAxis=i.indexAxis||_j(d,this.options),l.order=i.order||0,l.index=n,l.label=""+i.label,l.visible=this.isDatasetVisible(n),l.controller)l.controller.updateIndex(n),l.controller.linkScales();else{const u=hi.getController(d),{datasetElementType:h,dataElementType:p}=Qs.datasets[d];Object.assign(u,{dataElementType:hi.getElement(p),datasetElementType:h&&hi.getElement(h)}),l.controller=new u(this,n),s.push(l.controller)}}return this._updateMetasets(),s}_resetElements(){_s(this.data.datasets,(s,a)=>{this.getDatasetMeta(a).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(s){const a=this.config;a.update();const n=this._options=a.createResolver(a.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:s,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let h=0,p=this.data.datasets.length;h<p;h++){const{controller:f}=this.getDatasetMeta(h),x=!r&&i.indexOf(f)===-1;f.buildOrUpdateElements(x),l=Math.max(+f.getMaxOverflow(),l)}l=this._minPadding=n.layout.autoPadding?l:0,this._updateLayout(l),r||_s(i,h=>{h.reset()}),this._updateDatasets(s),this.notifyPlugins("afterUpdate",{mode:s}),this._layers.sort(u4("z","_idx"));const{_active:d,_lastEvent:u}=this;u?this._eventHandler(u,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){_s(this.scales,s=>{nn.removeBox(this,s)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const s=this.options,a=new Set(Object.keys(this._listeners)),n=new Set(s.events);(!_A(a,n)||!!this._responsiveListeners!==s.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:s}=this,a=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:i}of a){const l=n==="_removeElements"?-i:i;Qae(s,r,l)}}_getUniformDataChanges(){const s=this._dataChanges;if(!s||!s.length)return;this._dataChanges=[];const a=this.data.datasets.length,n=i=>new Set(s.filter(l=>l[0]===i).map((l,d)=>d+","+l.splice(1).join(","))),r=n(0);for(let i=1;i<a;i++)if(!_A(r,n(i)))return;return Array.from(r).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(s){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;nn.update(this,this.width,this.height,s);const a=this.chartArea,n=a.width<=0||a.height<=0;this._layers=[],_s(this.boxes,r=>{n&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,i)=>{r._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(s){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:s,cancelable:!0})!==!1){for(let a=0,n=this.data.datasets.length;a<n;++a)this.getDatasetMeta(a).controller.configure();for(let a=0,n=this.data.datasets.length;a<n;++a)this._updateDataset(a,Cl(s)?s({datasetIndex:a}):s);this.notifyPlugins("afterDatasetsUpdate",{mode:s})}}_updateDataset(s,a){const n=this.getDatasetMeta(s),r={meta:n,index:s,mode:a,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(n.controller._update(a),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(eo.has(this)?this.attached&&!eo.running(this)&&eo.start(this):(this.draw(),h4({chart:this})))}draw(){let s;if(this._resizeBeforeDraw){const{width:n,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const a=this._layers;for(s=0;s<a.length&&a[s].z<=0;++s)a[s].draw(this.chartArea);for(this._drawDatasets();s<a.length;++s)a[s].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(s){const a=this._sortedMetasets,n=[];let r,i;for(r=0,i=a.length;r<i;++r){const l=a[r];(!s||l.visible)&&n.push(l)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const s=this.getSortedVisibleDatasetMetas();for(let a=s.length-1;a>=0;--a)this._drawDataset(s[a]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(s){const a=this.ctx,n={meta:s,index:s.index,cancelable:!0},r=LP(this,s);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(r&&Ox(a,r),s.controller.draw(),r&&Lx(a),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(s){return ro(s,this.chartArea,this._minPadding)}getElementsAtEventForMode(s,a,n,r){const i=Kse.modes[a];return typeof i=="function"?i(this,s,n,r):[]}getDatasetMeta(s){const a=this.data.datasets[s],n=this._metasets;let r=n.filter(i=>i&&i._dataset===a).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:a&&a.order||0,index:s,_dataset:a,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=Dl(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(s){const a=this.data.datasets[s];if(!a)return!1;const n=this.getDatasetMeta(s);return typeof n.hidden=="boolean"?!n.hidden:!a.hidden}setDatasetVisibility(s,a){const n=this.getDatasetMeta(s);n.hidden=!a}toggleDataVisibility(s){this._hiddenIndices[s]=!this._hiddenIndices[s]}getDataVisibility(s){return!this._hiddenIndices[s]}_updateVisibility(s,a,n){const r=n?"show":"hide",i=this.getDatasetMeta(s),l=i.controller._resolveAnimations(void 0,r);fm(a)?(i.data[a].hidden=!n,this.update()):(this.setDatasetVisibility(s,n),l.update(i,{visible:n}),this.update(d=>d.datasetIndex===s?r:void 0))}hide(s,a){this._updateVisibility(s,a,!1)}show(s,a){this._updateVisibility(s,a,!0)}_destroyDatasetMeta(s){const a=this._metasets[s];a&&a.controller&&a.controller._destroy(),delete this._metasets[s]}_stop(){let s,a;for(this.stop(),eo.remove(this),s=0,a=this.data.datasets.length;s<a;++s)this._destroyDatasetMeta(s)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:s,ctx:a}=this;this._stop(),this.config.clearCache(),s&&(this.unbindEvents(),MA(s,a),this.platform.releaseContext(a),this.canvas=null,this.ctx=null),delete lg[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...s){return this.canvas.toDataURL(...s)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const s=this._listeners,a=this.platform,n=(i,l)=>{a.addEventListener(this,i,l),s[i]=l},r=(i,l,d)=>{i.offsetX=l,i.offsetY=d,this._eventHandler(i)};_s(this.options.events,i=>n(i,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const s=this._responsiveListeners,a=this.platform,n=(u,h)=>{a.addEventListener(this,u,h),s[u]=h},r=(u,h)=>{s[u]&&(a.removeEventListener(this,u,h),delete s[u])},i=(u,h)=>{this.canvas&&this.resize(u,h)};let l;const d=()=>{r("attach",d),this.attached=!0,this.resize(),n("resize",i),n("detach",l)};l=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),n("attach",d)},a.isAttached(this.canvas)?d():l()}unbindEvents(){_s(this._listeners,(s,a)=>{this.platform.removeEventListener(this,a,s)}),this._listeners={},_s(this._responsiveListeners,(s,a)=>{this.platform.removeEventListener(this,a,s)}),this._responsiveListeners=void 0}updateHoverStyle(s,a,n){const r=n?"set":"remove";let i,l,d,u;for(a==="dataset"&&(i=this.getDatasetMeta(s[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),d=0,u=s.length;d<u;++d){l=s[d];const h=l&&this.getDatasetMeta(l.datasetIndex).controller;h&&h[r+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(s){const a=this._active||[],n=s.map(({datasetIndex:i,index:l})=>{const d=this.getDatasetMeta(i);if(!d)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:d.data[l],index:l}});!zg(n,a)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,a))}notifyPlugins(s,a,n){return this._plugins.notify(this,s,a,n)}isPluginEnabled(s){return this._plugins._cache.filter(a=>a.plugin.id===s).length===1}_updateHoverStyles(s,a,n){const r=this.options.hover,i=(u,h)=>u.filter(p=>!h.some(f=>p.datasetIndex===f.datasetIndex&&p.index===f.index)),l=i(a,s),d=n?s:i(s,a);l.length&&this.updateHoverStyle(l,r.mode,!1),d.length&&r.mode&&this.updateHoverStyle(d,r.mode,!0)}_eventHandler(s,a){const n={event:s,replay:a,cancelable:!0,inChartArea:this.isPointInArea(s)},r=l=>(l.options.events||this.options.events).includes(s.native.type);if(this.notifyPlugins("beforeEvent",n,r)===!1)return;const i=this._handleEvent(s,a,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(i||n.changed)&&this.render(),this}_handleEvent(s,a,n){const{_active:r=[],options:i}=this,l=a,d=this._getActiveElements(s,r,n,l),u=Jee(s),h=Zae(s,this._lastEvent,n,u);n&&(this._lastEvent=null,Ls(i.onHover,[s,d,this],this),u&&Ls(i.onClick,[s,d,this],this));const p=!zg(d,r);return(p||a)&&(this._active=d,this._updateHoverStyles(d,r,a)),this._lastEvent=h,p}_getActiveElements(s,a,n,r){if(s.type==="mouseout")return[];if(!n)return a;const i=this.options.hover;return this.getElementsAtEventForMode(s,i.mode,i,r)}}function f4(){return _s(kl.instances,t=>t._plugins.invalidate())}function Jae(t,s,a){const{startAngle:n,x:r,y:i,outerRadius:l,innerRadius:d,options:u}=s,{borderWidth:h,borderJoinStyle:p}=u,f=Math.min(h/l,Ja(n-a));if(t.beginPath(),t.arc(r,i,l-h/2,n+f/2,a-f/2),d>0){const x=Math.min(h/d,Ja(n-a));t.arc(r,i,d+h/2,a-x/2,n+x/2,!0)}else{const x=Math.min(h/2,l*Ja(n-a));if(p==="round")t.arc(r,i,x,a-ms/2,n+ms/2,!0);else if(p==="bevel"){const v=2*x*x,j=-v*Math.cos(a+ms/2)+r,w=-v*Math.sin(a+ms/2)+i,_=v*Math.cos(n+ms/2)+r,N=v*Math.sin(n+ms/2)+i;t.lineTo(j,w),t.lineTo(_,N)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function ene(t,s,a){const{startAngle:n,pixelMargin:r,x:i,y:l,outerRadius:d,innerRadius:u}=s;let h=r/d;t.beginPath(),t.arc(i,l,d,n-h,a+h),u>r?(h=r/u,t.arc(i,l,u,a+h,n-h,!0)):t.arc(i,l,r,a+ma,n-ma),t.closePath(),t.clip()}function tne(t){return x1(t,["outerStart","outerEnd","innerStart","innerEnd"])}function sne(t,s,a,n){const r=tne(t.options.borderRadius),i=(a-s)/2,l=Math.min(i,n*s/2),d=u=>{const h=(a-Math.min(i,u))*n/2;return za(u,0,Math.min(i,h))};return{outerStart:d(r.outerStart),outerEnd:d(r.outerEnd),innerStart:za(r.innerStart,0,l),innerEnd:za(r.innerEnd,0,l)}}function Pd(t,s,a,n){return{x:a+t*Math.cos(s),y:n+t*Math.sin(s)}}function Wg(t,s,a,n,r,i){const{x:l,y:d,startAngle:u,pixelMargin:h,innerRadius:p}=s,f=Math.max(s.outerRadius+n+a-h,0),x=p>0?p+n+a+h:0;let v=0;const j=r-u;if(n){const te=p>0?p-n:0,V=f>0?f-n:0,U=(te+V)/2,H=U!==0?j*U/(U+n):j;v=(j-H)/2}const w=Math.max(.001,j*f-a/ms)/f,_=(j-w)/2,N=u+_+v,k=r-_-v,{outerStart:D,outerEnd:T,innerStart:E,innerEnd:G}=sne(s,x,f,k-N),A=f-D,F=f-T,M=N+D/A,J=k-T/F,R=x+E,ee=x+G,Y=N+E/R,re=k-G/ee;if(t.beginPath(),i){const te=(M+J)/2;if(t.arc(l,d,f,M,te),t.arc(l,d,f,te,J),T>0){const L=Pd(F,J,l,d);t.arc(L.x,L.y,T,J,k+ma)}const V=Pd(ee,k,l,d);if(t.lineTo(V.x,V.y),G>0){const L=Pd(ee,re,l,d);t.arc(L.x,L.y,G,k+ma,re+Math.PI)}const U=(k-G/x+(N+E/x))/2;if(t.arc(l,d,x,k-G/x,U,!0),t.arc(l,d,x,U,N+E/x,!0),E>0){const L=Pd(R,Y,l,d);t.arc(L.x,L.y,E,Y+Math.PI,N-ma)}const H=Pd(A,N,l,d);if(t.lineTo(H.x,H.y),D>0){const L=Pd(A,M,l,d);t.arc(L.x,L.y,D,N-ma,M)}}else{t.moveTo(l,d);const te=Math.cos(M)*f+l,V=Math.sin(M)*f+d;t.lineTo(te,V);const U=Math.cos(J)*f+l,H=Math.sin(J)*f+d;t.lineTo(U,H)}t.closePath()}function ane(t,s,a,n,r){const{fullCircles:i,startAngle:l,circumference:d}=s;let u=s.endAngle;if(i){Wg(t,s,a,n,u,r);for(let h=0;h<i;++h)t.fill();isNaN(d)||(u=l+(d%Vs||Vs))}return Wg(t,s,a,n,u,r),t.fill(),u}function nne(t,s,a,n,r){const{fullCircles:i,startAngle:l,circumference:d,options:u}=s,{borderWidth:h,borderJoinStyle:p,borderDash:f,borderDashOffset:x,borderRadius:v}=u,j=u.borderAlign==="inner";if(!h)return;t.setLineDash(f||[]),t.lineDashOffset=x,j?(t.lineWidth=h*2,t.lineJoin=p||"round"):(t.lineWidth=h,t.lineJoin=p||"bevel");let w=s.endAngle;if(i){Wg(t,s,a,n,w,r);for(let _=0;_<i;++_)t.stroke();isNaN(d)||(w=l+(d%Vs||Vs))}j&&ene(t,s,w),u.selfJoin&&w-l>=ms&&v===0&&p!=="miter"&&Jae(t,s,w),i||(Wg(t,s,a,n,w,r),t.stroke())}class rne extends bo{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:s=>s!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(s){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,s&&Object.assign(this,s)}inRange(s,a,n){const r=this.getProps(["x","y"],n),{angle:i,distance:l}=pP(r,{x:s,y:a}),{startAngle:d,endAngle:u,innerRadius:h,outerRadius:p,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),x=(this.options.spacing+this.options.borderWidth)/2,v=Ft(f,u-d),j=pm(i,d,u)&&d!==u,w=v>=Vs||j,_=ao(l,h+x,p+x);return w&&_}getCenterPoint(s){const{x:a,y:n,startAngle:r,endAngle:i,innerRadius:l,outerRadius:d}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],s),{offset:u,spacing:h}=this.options,p=(r+i)/2,f=(l+d+h+u)/2;return{x:a+Math.cos(p)*f,y:n+Math.sin(p)*f}}tooltipPosition(s){return this.getCenterPoint(s)}draw(s){const{options:a,circumference:n}=this,r=(a.offset||0)/4,i=(a.spacing||0)/2,l=a.circular;if(this.pixelMargin=a.borderAlign==="inner"?.33:0,this.fullCircles=n>Vs?Math.floor(n/Vs):0,n===0||this.innerRadius<0||this.outerRadius<0)return;s.save();const d=(this.startAngle+this.endAngle)/2;s.translate(Math.cos(d)*r,Math.sin(d)*r);const u=1-Math.sin(Math.min(ms,n||0)),h=r*u;s.fillStyle=a.backgroundColor,s.strokeStyle=a.borderColor,ane(s,this,h,i,l),nne(s,this,h,i,l),s.restore()}}function XP(t,s,a=s){t.lineCap=Ft(a.borderCapStyle,s.borderCapStyle),t.setLineDash(Ft(a.borderDash,s.borderDash)),t.lineDashOffset=Ft(a.borderDashOffset,s.borderDashOffset),t.lineJoin=Ft(a.borderJoinStyle,s.borderJoinStyle),t.lineWidth=Ft(a.borderWidth,s.borderWidth),t.strokeStyle=Ft(a.borderColor,s.borderColor)}function ine(t,s,a){t.lineTo(a.x,a.y)}function one(t){return t.stepped?wte:t.tension||t.cubicInterpolationMode==="monotone"?Nte:ine}function QP(t,s,a={}){const n=t.length,{start:r=0,end:i=n-1}=a,{start:l,end:d}=s,u=Math.max(r,l),h=Math.min(i,d),p=r<l&&i<l||r>d&&i>d;return{count:n,start:u,loop:s.loop,ilen:h<u&&!p?n+h-u:h-u}}function lne(t,s,a,n){const{points:r,options:i}=s,{count:l,start:d,loop:u,ilen:h}=QP(r,a,n),p=one(i);let{move:f=!0,reverse:x}=n||{},v,j,w;for(v=0;v<=h;++v)j=r[(d+(x?h-v:v))%l],!j.skip&&(f?(t.moveTo(j.x,j.y),f=!1):p(t,w,j,x,i.stepped),w=j);return u&&(j=r[(d+(x?h:0))%l],p(t,w,j,x,i.stepped)),!!u}function cne(t,s,a,n){const r=s.points,{count:i,start:l,ilen:d}=QP(r,a,n),{move:u=!0,reverse:h}=n||{};let p=0,f=0,x,v,j,w,_,N;const k=T=>(l+(h?d-T:T))%i,D=()=>{w!==_&&(t.lineTo(p,_),t.lineTo(p,w),t.lineTo(p,N))};for(u&&(v=r[k(0)],t.moveTo(v.x,v.y)),x=0;x<=d;++x){if(v=r[k(x)],v.skip)continue;const T=v.x,E=v.y,G=T|0;G===j?(E<w?w=E:E>_&&(_=E),p=(f*p+T)/++f):(D(),t.lineTo(T,E),j=G,f=0,w=_=E),N=E}D()}function kj(t){const s=t.options,a=s.borderDash&&s.borderDash.length;return!t._decimated&&!t._loop&&!s.tension&&s.cubicInterpolationMode!=="monotone"&&!s.stepped&&!a?cne:lne}function dne(t){return t.stepped?tse:t.tension||t.cubicInterpolationMode==="monotone"?sse:xc}function une(t,s,a,n){let r=s._path;r||(r=s._path=new Path2D,s.path(r,a,n)&&r.closePath()),XP(t,s.options),t.stroke(r)}function hne(t,s,a,n){const{segments:r,options:i}=s,l=kj(s);for(const d of r)XP(t,i,d.style),t.beginPath(),l(t,s,d,{start:a,end:a+n-1})&&t.closePath(),t.stroke()}const mne=typeof Path2D=="function";function fne(t,s,a,n){mne&&!s.options.segment?une(t,s,a,n):hne(t,s,a,n)}class Ix extends bo{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:s=>s!=="borderDash"&&s!=="fill"};constructor(s){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,s&&Object.assign(this,s)}updateControlPoints(s,a){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;Wte(this._points,n,s,r,a),this._pointsUpdated=!0}}set points(s){this._points=s,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=lse(this,this.options.segment))}first(){const s=this.segments,a=this.points;return s.length&&a[s[0].start]}last(){const s=this.segments,a=this.points,n=s.length;return n&&a[s[n-1].end]}interpolate(s,a){const n=this.options,r=s[a],i=this.points,l=OP(this,{property:a,start:r,end:r});if(!l.length)return;const d=[],u=dne(n);let h,p;for(h=0,p=l.length;h<p;++h){const{start:f,end:x}=l[h],v=i[f],j=i[x];if(v===j){d.push(v);continue}const w=Math.abs((r-v[a])/(j[a]-v[a])),_=u(v,j,w,n.stepped);_[a]=s[a],d.push(_)}return d.length===1?d[0]:d}pathSegment(s,a,n){return kj(this)(s,this,a,n)}path(s,a,n){const r=this.segments,i=kj(this);let l=this._loop;a=a||0,n=n||this.points.length-a;for(const d of r)l&=i(s,this,d,{start:a,end:a+n-1});return!!l}draw(s,a,n,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(s.save(),fne(s,this,n,r),s.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function p4(t,s,a,n){const r=t.options,{[a]:i}=t.getProps([a],n);return Math.abs(s-i)<r.radius+r.hitRadius}class pne extends bo{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(s){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,s&&Object.assign(this,s)}inRange(s,a,n){const r=this.options,{x:i,y:l}=this.getProps(["x","y"],n);return Math.pow(s-i,2)+Math.pow(a-l,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(s,a){return p4(this,s,"x",a)}inYRange(s,a){return p4(this,s,"y",a)}getCenterPoint(s){const{x:a,y:n}=this.getProps(["x","y"],s);return{x:a,y:n}}size(s){s=s||this.options||{};let a=s.radius||0;a=Math.max(a,a&&s.hoverRadius||0);const n=a&&s.borderWidth||0;return(a+n)*2}draw(s,a){const n=this.options;this.skip||n.radius<.1||!ro(this,a,this.size(n)/2)||(s.strokeStyle=n.borderColor,s.lineWidth=n.borderWidth,s.fillStyle=n.backgroundColor,Nj(s,n,this.x,this.y))}getRange(){const s=this.options||{};return s.radius+s.hitRadius}}function ZP(t,s){const{x:a,y:n,base:r,width:i,height:l}=t.getProps(["x","y","base","width","height"],s);let d,u,h,p,f;return t.horizontal?(f=l/2,d=Math.min(a,r),u=Math.max(a,r),h=n-f,p=n+f):(f=i/2,d=a-f,u=a+f,h=Math.min(n,r),p=Math.max(n,r)),{left:d,top:h,right:u,bottom:p}}function hl(t,s,a,n){return t?0:za(s,a,n)}function gne(t,s,a){const n=t.options.borderWidth,r=t.borderSkipped,i=_P(n);return{t:hl(r.top,i.top,0,a),r:hl(r.right,i.right,0,s),b:hl(r.bottom,i.bottom,0,a),l:hl(r.left,i.left,0,s)}}function xne(t,s,a){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,i=Ac(r),l=Math.min(s,a),d=t.borderSkipped,u=n||es(r);return{topLeft:hl(!u||d.top||d.left,i.topLeft,0,l),topRight:hl(!u||d.top||d.right,i.topRight,0,l),bottomLeft:hl(!u||d.bottom||d.left,i.bottomLeft,0,l),bottomRight:hl(!u||d.bottom||d.right,i.bottomRight,0,l)}}function yne(t){const s=ZP(t),a=s.right-s.left,n=s.bottom-s.top,r=gne(t,a/2,n/2),i=xne(t,a/2,n/2);return{outer:{x:s.left,y:s.top,w:a,h:n,radius:i},inner:{x:s.left+r.l,y:s.top+r.t,w:a-r.l-r.r,h:n-r.t-r.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,i.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(r.b,r.r))}}}}function rv(t,s,a,n){const r=s===null,i=a===null,d=t&&!(r&&i)&&ZP(t,n);return d&&(r||ao(s,d.left,d.right))&&(i||ao(a,d.top,d.bottom))}function bne(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function vne(t,s){t.rect(s.x,s.y,s.w,s.h)}function iv(t,s,a={}){const n=t.x!==a.x?-s:0,r=t.y!==a.y?-s:0,i=(t.x+t.w!==a.x+a.w?s:0)-n,l=(t.y+t.h!==a.y+a.h?s:0)-r;return{x:t.x+n,y:t.y+r,w:t.w+i,h:t.h+l,radius:t.radius}}class jne extends bo{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(s){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,s&&Object.assign(this,s)}draw(s){const{inflateAmount:a,options:{borderColor:n,backgroundColor:r}}=this,{inner:i,outer:l}=yne(this),d=bne(l.radius)?gm:vne;s.save(),(l.w!==i.w||l.h!==i.h)&&(s.beginPath(),d(s,iv(l,a,i)),s.clip(),d(s,iv(i,-a,l)),s.fillStyle=n,s.fill("evenodd")),s.beginPath(),d(s,iv(i,a)),s.fillStyle=r,s.fill(),s.restore()}inRange(s,a,n){return rv(this,s,a,n)}inXRange(s,a){return rv(this,s,null,a)}inYRange(s,a){return rv(this,null,s,a)}getCenterPoint(s){const{x:a,y:n,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],s);return{x:i?(a+r)/2:a,y:i?n:(n+r)/2}}getRange(s){return s==="x"?this.width/2:this.height/2}}var wne=Object.freeze({__proto__:null,ArcElement:rne,BarElement:jne,LineElement:Ix,PointElement:pne});const Sj=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],g4=Sj.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function JP(t){return Sj[t%Sj.length]}function e3(t){return g4[t%g4.length]}function Nne(t,s){return t.borderColor=JP(s),t.backgroundColor=e3(s),++s}function _ne(t,s){return t.backgroundColor=t.data.map(()=>JP(s++)),s}function Cne(t,s){return t.backgroundColor=t.data.map(()=>e3(s++)),s}function kne(t){let s=0;return(a,n)=>{const r=t.getDatasetMeta(n).controller;r instanceof N1?s=_ne(a,s):r instanceof $P?s=Cne(a,s):r&&(s=Nne(a,s))}}function x4(t){let s;for(s in t)if(t[s].borderColor||t[s].backgroundColor)return!0;return!1}function Sne(t){return t&&(t.borderColor||t.backgroundColor)}function Ane(){return Qs.borderColor!=="rgba(0,0,0,0.1)"||Qs.backgroundColor!=="rgba(0,0,0,0.1)"}var Tne={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,s,a){if(!a.enabled)return;const{data:{datasets:n},options:r}=t.config,{elements:i}=r,l=x4(n)||Sne(r)||i&&x4(i)||Ane();if(!a.forceOverride&&l)return;const d=kne(t);n.forEach(d)}};function Dne(t,s,a,n,r){const i=r.samples||n;if(i>=a)return t.slice(s,s+a);const l=[],d=(a-2)/(i-2);let u=0;const h=s+a-1;let p=s,f,x,v,j,w;for(l[u++]=t[p],f=0;f<i-2;f++){let _=0,N=0,k;const D=Math.floor((f+1)*d)+1+s,T=Math.min(Math.floor((f+2)*d)+1,a)+s,E=T-D;for(k=D;k<T;k++)_+=t[k].x,N+=t[k].y;_/=E,N/=E;const G=Math.floor(f*d)+1+s,A=Math.min(Math.floor((f+1)*d)+1,a)+s,{x:F,y:M}=t[p];for(v=j=-1,k=G;k<A;k++)j=.5*Math.abs((F-_)*(t[k].y-M)-(F-t[k].x)*(N-M)),j>v&&(v=j,x=t[k],w=k);l[u++]=x,p=w}return l[u++]=t[h],l}function Ene(t,s,a,n){let r=0,i=0,l,d,u,h,p,f,x,v,j,w;const _=[],N=s+a-1,k=t[s].x,T=t[N].x-k;for(l=s;l<s+a;++l){d=t[l],u=(d.x-k)/T*n,h=d.y;const E=u|0;if(E===p)h<j?(j=h,f=l):h>w&&(w=h,x=l),r=(i*r+d.x)/++i;else{const G=l-1;if(!Kt(f)&&!Kt(x)){const A=Math.min(f,x),F=Math.max(f,x);A!==v&&A!==G&&_.push({...t[A],x:r}),F!==v&&F!==G&&_.push({...t[F],x:r})}l>0&&G!==v&&_.push(t[G]),_.push(d),p=E,i=0,j=w=h,f=x=v=l}}return _}function t3(t){if(t._decimated){const s=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:s})}}function y4(t){t.data.datasets.forEach(s=>{t3(s)})}function Rne(t,s){const a=s.length;let n=0,r;const{iScale:i}=t,{min:l,max:d,minDefined:u,maxDefined:h}=i.getUserBounds();return u&&(n=za(no(s,i.axis,l).lo,0,a-1)),h?r=za(no(s,i.axis,d).hi+1,n,a)-n:r=a-n,{start:n,count:r}}var Mne={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,s,a)=>{if(!a.enabled){y4(t);return}const n=t.width;t.data.datasets.forEach((r,i)=>{const{_data:l,indexAxis:d}=r,u=t.getDatasetMeta(i),h=l||r.data;if(Fh([d,t.options.indexAxis])==="y"||!u.controller.supportsDecimation)return;const p=t.scales[u.xAxisID];if(p.type!=="linear"&&p.type!=="time"||t.options.parsing)return;let{start:f,count:x}=Rne(u,h);const v=a.threshold||4*n;if(x<=v){t3(r);return}Kt(l)&&(r._data=h,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(w){this._data=w}}));let j;switch(a.algorithm){case"lttb":j=Dne(h,f,x,n,a);break;case"min-max":j=Ene(h,f,x,n);break;default:throw new Error(`Unsupported decimation algorithm '${a.algorithm}'`)}r._decimated=j})},destroy(t){y4(t)}};function Pne(t,s,a){const n=t.segments,r=t.points,i=s.points,l=[];for(const d of n){let{start:u,end:h}=d;h=$x(u,h,r);const p=Aj(a,r[u],r[h],d.loop);if(!s.segments){l.push({source:d,target:p,start:r[u],end:r[h]});continue}const f=OP(s,p);for(const x of f){const v=Aj(a,i[x.start],i[x.end],x.loop),j=PP(d,r,v);for(const w of j)l.push({source:w,target:x,start:{[a]:b4(p,v,"start",Math.max)},end:{[a]:b4(p,v,"end",Math.min)}})}}return l}function Aj(t,s,a,n){if(n)return;let r=s[t],i=a[t];return t==="angle"&&(r=Ja(r),i=Ja(i)),{property:t,start:r,end:i}}function One(t,s){const{x:a=null,y:n=null}=t||{},r=s.points,i=[];return s.segments.forEach(({start:l,end:d})=>{d=$x(l,d,r);const u=r[l],h=r[d];n!==null?(i.push({x:u.x,y:n}),i.push({x:h.x,y:n})):a!==null&&(i.push({x:a,y:u.y}),i.push({x:a,y:h.y}))}),i}function $x(t,s,a){for(;s>t;s--){const n=a[s];if(!isNaN(n.x)&&!isNaN(n.y))break}return s}function b4(t,s,a,n){return t&&s?n(t[a],s[a]):t?t[a]:s?s[a]:0}function s3(t,s){let a=[],n=!1;return Ws(t)?(n=!0,a=t):a=One(t,s),a.length?new Ix({points:a,options:{tension:0},_loop:n,_fullLoop:n}):null}function v4(t){return t&&t.fill!==!1}function Lne(t,s,a){let r=t[s].fill;const i=[s];let l;if(!a)return r;for(;r!==!1&&i.indexOf(r)===-1;){if(!la(r))return r;if(l=t[r],!l)return!1;if(l.visible)return r;i.push(r),r=l.fill}return!1}function Bne(t,s,a){const n=zne(t);if(es(n))return isNaN(n.value)?!1:n;let r=parseFloat(n);return la(r)&&Math.floor(r)===r?Fne(n[0],s,r,a):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function Fne(t,s,a,n){return(t==="-"||t==="+")&&(a=s+a),a===s||a<0||a>=n?!1:a}function Ine(t,s){let a=null;return t==="start"?a=s.bottom:t==="end"?a=s.top:es(t)?a=s.getPixelForValue(t.value):s.getBasePixel&&(a=s.getBasePixel()),a}function $ne(t,s,a){let n;return t==="start"?n=a:t==="end"?n=s.options.reverse?s.min:s.max:es(t)?n=t.value:n=s.getBaseValue(),n}function zne(t){const s=t.options,a=s.fill;let n=Ft(a&&a.target,a);return n===void 0&&(n=!!s.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function Vne(t){const{scale:s,index:a,line:n}=t,r=[],i=n.segments,l=n.points,d=Une(s,a);d.push(s3({x:null,y:s.bottom},n));for(let u=0;u<i.length;u++){const h=i[u];for(let p=h.start;p<=h.end;p++)Hne(r,l[p],d)}return new Ix({points:r,options:{}})}function Une(t,s){const a=[],n=t.getMatchingVisibleMetas("line");for(let r=0;r<n.length;r++){const i=n[r];if(i.index===s)break;i.hidden||a.unshift(i.dataset)}return a}function Hne(t,s,a){const n=[];for(let r=0;r<a.length;r++){const i=a[r],{first:l,last:d,point:u}=qne(i,s,"x");if(!(!u||l&&d)){if(l)n.unshift(u);else if(t.push(u),!d)break}}t.push(...n)}function qne(t,s,a){const n=t.interpolate(s,a);if(!n)return{};const r=n[a],i=t.segments,l=t.points;let d=!1,u=!1;for(let h=0;h<i.length;h++){const p=i[h],f=l[p.start][a],x=l[p.end][a];if(ao(r,f,x)){d=r===f,u=r===x;break}}return{first:d,last:u,point:n}}class a3{constructor(s){this.x=s.x,this.y=s.y,this.radius=s.radius}pathSegment(s,a,n){const{x:r,y:i,radius:l}=this;return a=a||{start:0,end:Vs},s.arc(r,i,l,a.end,a.start,!0),!n.bounds}interpolate(s){const{x:a,y:n,radius:r}=this,i=s.angle;return{x:a+Math.cos(i)*r,y:n+Math.sin(i)*r,angle:i}}}function Gne(t){const{chart:s,fill:a,line:n}=t;if(la(a))return Wne(s,a);if(a==="stack")return Vne(t);if(a==="shape")return!0;const r=Yne(t);return r instanceof a3?r:s3(r,n)}function Wne(t,s){const a=t.getDatasetMeta(s);return a&&t.isDatasetVisible(s)?a.dataset:null}function Yne(t){return(t.scale||{}).getPointPositionForValue?Xne(t):Kne(t)}function Kne(t){const{scale:s={},fill:a}=t,n=Ine(a,s);if(la(n)){const r=s.isHorizontal();return{x:r?n:null,y:r?null:n}}return null}function Xne(t){const{scale:s,fill:a}=t,n=s.options,r=s.getLabels().length,i=n.reverse?s.max:s.min,l=$ne(a,s,i),d=[];if(n.grid.circular){const u=s.getPointPositionForValue(0,i);return new a3({x:u.x,y:u.y,radius:s.getDistanceFromCenterForValue(l)})}for(let u=0;u<r;++u)d.push(s.getPointPositionForValue(u,l));return d}function ov(t,s,a){const n=Gne(s),{chart:r,index:i,line:l,scale:d,axis:u}=s,h=l.options,p=h.fill,f=h.backgroundColor,{above:x=f,below:v=f}=p||{},j=r.getDatasetMeta(i),w=LP(r,j);n&&l.points.length&&(Ox(t,a),Qne(t,{line:l,target:n,above:x,below:v,area:a,scale:d,axis:u,clip:w}),Lx(t))}function Qne(t,s){const{line:a,target:n,above:r,below:i,area:l,scale:d,clip:u}=s,h=a._loop?"angle":s.axis;t.save();let p=i;i!==r&&(h==="x"?(j4(t,n,l.top),lv(t,{line:a,target:n,color:r,scale:d,property:h,clip:u}),t.restore(),t.save(),j4(t,n,l.bottom)):h==="y"&&(w4(t,n,l.left),lv(t,{line:a,target:n,color:i,scale:d,property:h,clip:u}),t.restore(),t.save(),w4(t,n,l.right),p=r)),lv(t,{line:a,target:n,color:p,scale:d,property:h,clip:u}),t.restore()}function j4(t,s,a){const{segments:n,points:r}=s;let i=!0,l=!1;t.beginPath();for(const d of n){const{start:u,end:h}=d,p=r[u],f=r[$x(u,h,r)];i?(t.moveTo(p.x,p.y),i=!1):(t.lineTo(p.x,a),t.lineTo(p.x,p.y)),l=!!s.pathSegment(t,d,{move:l}),l?t.closePath():t.lineTo(f.x,a)}t.lineTo(s.first().x,a),t.closePath(),t.clip()}function w4(t,s,a){const{segments:n,points:r}=s;let i=!0,l=!1;t.beginPath();for(const d of n){const{start:u,end:h}=d,p=r[u],f=r[$x(u,h,r)];i?(t.moveTo(p.x,p.y),i=!1):(t.lineTo(a,p.y),t.lineTo(p.x,p.y)),l=!!s.pathSegment(t,d,{move:l}),l?t.closePath():t.lineTo(a,f.y)}t.lineTo(a,s.first().y),t.closePath(),t.clip()}function lv(t,s){const{line:a,target:n,property:r,color:i,scale:l,clip:d}=s,u=Pne(a,n,r);for(const{source:h,target:p,start:f,end:x}of u){const{style:{backgroundColor:v=i}={}}=h,j=n!==!0;t.save(),t.fillStyle=v,Zne(t,l,d,j&&Aj(r,f,x)),t.beginPath();const w=!!a.pathSegment(t,h);let _;if(j){w?t.closePath():N4(t,n,x,r);const N=!!n.pathSegment(t,p,{move:w,reverse:!0});_=w&&N,_||N4(t,n,f,r)}t.closePath(),t.fill(_?"evenodd":"nonzero"),t.restore()}}function Zne(t,s,a,n){const r=s.chart.chartArea,{property:i,start:l,end:d}=n||{};if(i==="x"||i==="y"){let u,h,p,f;i==="x"?(u=l,h=r.top,p=d,f=r.bottom):(u=r.left,h=l,p=r.right,f=d),t.beginPath(),a&&(u=Math.max(u,a.left),p=Math.min(p,a.right),h=Math.max(h,a.top),f=Math.min(f,a.bottom)),t.rect(u,h,p-u,f-h),t.clip()}}function N4(t,s,a,n){const r=s.interpolate(a,n);r&&t.lineTo(r.x,r.y)}var Jne={id:"filler",afterDatasetsUpdate(t,s,a){const n=(t.data.datasets||[]).length,r=[];let i,l,d,u;for(l=0;l<n;++l)i=t.getDatasetMeta(l),d=i.dataset,u=null,d&&d.options&&d instanceof Ix&&(u={visible:t.isDatasetVisible(l),index:l,fill:Bne(d,l,n),chart:t,axis:i.controller.options.indexAxis,scale:i.vScale,line:d}),i.$filler=u,r.push(u);for(l=0;l<n;++l)u=r[l],!(!u||u.fill===!1)&&(u.fill=Lne(r,l,a.propagate))},beforeDraw(t,s,a){const n=a.drawTime==="beforeDraw",r=t.getSortedVisibleDatasetMetas(),i=t.chartArea;for(let l=r.length-1;l>=0;--l){const d=r[l].$filler;d&&(d.line.updateControlPoints(i,d.axis),n&&d.fill&&ov(t.ctx,d,i))}},beforeDatasetsDraw(t,s,a){if(a.drawTime!=="beforeDatasetsDraw")return;const n=t.getSortedVisibleDatasetMetas();for(let r=n.length-1;r>=0;--r){const i=n[r].$filler;v4(i)&&ov(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,s,a){const n=s.meta.$filler;!v4(n)||a.drawTime!=="beforeDatasetDraw"||ov(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const _4=(t,s)=>{let{boxHeight:a=s,boxWidth:n=s}=t;return t.usePointStyle&&(a=Math.min(a,s),n=t.pointStyleWidth||Math.min(n,s)),{boxWidth:n,boxHeight:a,itemHeight:Math.max(s,a)}},ere=(t,s)=>t!==null&&s!==null&&t.datasetIndex===s.datasetIndex&&t.index===s.index;class C4 extends bo{constructor(s){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=s.chart,this.options=s.options,this.ctx=s.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(s,a,n){this.maxWidth=s,this.maxHeight=a,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const s=this.options.labels||{};let a=Ls(s.generateLabels,[this.chart],this)||[];s.filter&&(a=a.filter(n=>s.filter(n,this.chart.data))),s.sort&&(a=a.sort((n,r)=>s.sort(n,r,this.chart.data))),this.options.reverse&&a.reverse(),this.legendItems=a}fit(){const{options:s,ctx:a}=this;if(!s.display){this.width=this.height=0;return}const n=s.labels,r=Da(n.font),i=r.size,l=this._computeTitleHeight(),{boxWidth:d,itemHeight:u}=_4(n,i);let h,p;a.font=r.string,this.isHorizontal()?(h=this.maxWidth,p=this._fitRows(l,i,d,u)+10):(p=this.maxHeight,h=this._fitCols(l,r,d,u)+10),this.width=Math.min(h,s.maxWidth||this.maxWidth),this.height=Math.min(p,s.maxHeight||this.maxHeight)}_fitRows(s,a,n,r){const{ctx:i,maxWidth:l,options:{labels:{padding:d}}}=this,u=this.legendHitBoxes=[],h=this.lineWidths=[0],p=r+d;let f=s;i.textAlign="left",i.textBaseline="middle";let x=-1,v=-p;return this.legendItems.forEach((j,w)=>{const _=n+a/2+i.measureText(j.text).width;(w===0||h[h.length-1]+_+2*d>l)&&(f+=p,h[h.length-(w>0?0:1)]=0,v+=p,x++),u[w]={left:0,top:v,row:x,width:_,height:r},h[h.length-1]+=_+d}),f}_fitCols(s,a,n,r){const{ctx:i,maxHeight:l,options:{labels:{padding:d}}}=this,u=this.legendHitBoxes=[],h=this.columnSizes=[],p=l-s;let f=d,x=0,v=0,j=0,w=0;return this.legendItems.forEach((_,N)=>{const{itemWidth:k,itemHeight:D}=tre(n,a,i,_,r);N>0&&v+D+2*d>p&&(f+=x+d,h.push({width:x,height:v}),j+=x+d,w++,x=v=0),u[N]={left:j,top:v,col:w,width:k,height:D},x=Math.max(x,k),v+=D+d}),f+=x,h.push({width:x,height:v}),f}adjustHitBoxes(){if(!this.options.display)return;const s=this._computeTitleHeight(),{legendHitBoxes:a,options:{align:n,labels:{padding:r},rtl:i}}=this,l=Kd(i,this.left,this.width);if(this.isHorizontal()){let d=0,u=Za(n,this.left+r,this.right-this.lineWidths[d]);for(const h of a)d!==h.row&&(d=h.row,u=Za(n,this.left+r,this.right-this.lineWidths[d])),h.top+=this.top+s+r,h.left=l.leftForLtr(l.x(u),h.width),u+=h.width+r}else{let d=0,u=Za(n,this.top+s+r,this.bottom-this.columnSizes[d].height);for(const h of a)h.col!==d&&(d=h.col,u=Za(n,this.top+s+r,this.bottom-this.columnSizes[d].height)),h.top=u,h.left+=this.left+r,h.left=l.leftForLtr(l.x(h.left),h.width),u+=h.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const s=this.ctx;Ox(s,this),this._draw(),Lx(s)}}_draw(){const{options:s,columnSizes:a,lineWidths:n,ctx:r}=this,{align:i,labels:l}=s,d=Qs.color,u=Kd(s.rtl,this.left,this.width),h=Da(l.font),{padding:p}=l,f=h.size,x=f/2;let v;this.drawTitle(),r.textAlign=u.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=h.string;const{boxWidth:j,boxHeight:w,itemHeight:_}=_4(l,f),N=function(G,A,F){if(isNaN(j)||j<=0||isNaN(w)||w<0)return;r.save();const M=Ft(F.lineWidth,1);if(r.fillStyle=Ft(F.fillStyle,d),r.lineCap=Ft(F.lineCap,"butt"),r.lineDashOffset=Ft(F.lineDashOffset,0),r.lineJoin=Ft(F.lineJoin,"miter"),r.lineWidth=M,r.strokeStyle=Ft(F.strokeStyle,d),r.setLineDash(Ft(F.lineDash,[])),l.usePointStyle){const J={radius:w*Math.SQRT2/2,pointStyle:F.pointStyle,rotation:F.rotation,borderWidth:M},R=u.xPlus(G,j/2),ee=A+x;NP(r,J,R,ee,l.pointStyleWidth&&j)}else{const J=A+Math.max((f-w)/2,0),R=u.leftForLtr(G,j),ee=Ac(F.borderRadius);r.beginPath(),Object.values(ee).some(Y=>Y!==0)?gm(r,{x:R,y:J,w:j,h:w,radius:ee}):r.rect(R,J,j,w),r.fill(),M!==0&&r.stroke()}r.restore()},k=function(G,A,F){$c(r,F.text,G,A+_/2,h,{strikethrough:F.hidden,textAlign:u.textAlign(F.textAlign)})},D=this.isHorizontal(),T=this._computeTitleHeight();D?v={x:Za(i,this.left+p,this.right-n[0]),y:this.top+p+T,line:0}:v={x:this.left+p,y:Za(i,this.top+T+p,this.bottom-a[0].height),line:0},EP(this.ctx,s.textDirection);const E=_+p;this.legendItems.forEach((G,A)=>{r.strokeStyle=G.fontColor,r.fillStyle=G.fontColor;const F=r.measureText(G.text).width,M=u.textAlign(G.textAlign||(G.textAlign=l.textAlign)),J=j+x+F;let R=v.x,ee=v.y;u.setWidth(this.width),D?A>0&&R+J+p>this.right&&(ee=v.y+=E,v.line++,R=v.x=Za(i,this.left+p,this.right-n[v.line])):A>0&&ee+E>this.bottom&&(R=v.x=R+a[v.line].width+p,v.line++,ee=v.y=Za(i,this.top+T+p,this.bottom-a[v.line].height));const Y=u.x(R);if(N(Y,ee,G),R=ute(M,R+j+x,D?R+J:this.right,s.rtl),k(u.x(R),ee,G),D)v.x+=J+p;else if(typeof G.text!="string"){const re=h.lineHeight;v.y+=n3(G,re)+p}else v.y+=E}),RP(this.ctx,s.textDirection)}drawTitle(){const s=this.options,a=s.title,n=Da(a.font),r=ln(a.padding);if(!a.display)return;const i=Kd(s.rtl,this.left,this.width),l=this.ctx,d=a.position,u=n.size/2,h=r.top+u;let p,f=this.left,x=this.width;if(this.isHorizontal())x=Math.max(...this.lineWidths),p=this.top+h,f=Za(s.align,f,this.right-x);else{const j=this.columnSizes.reduce((w,_)=>Math.max(w,_.height),0);p=h+Za(s.align,this.top,this.bottom-j-s.labels.padding-this._computeTitleHeight())}const v=Za(d,f,f+x);l.textAlign=i.textAlign(p1(d)),l.textBaseline="middle",l.strokeStyle=a.color,l.fillStyle=a.color,l.font=n.string,$c(l,a.text,v,p,n)}_computeTitleHeight(){const s=this.options.title,a=Da(s.font),n=ln(s.padding);return s.display?a.lineHeight+n.height:0}_getLegendItemAt(s,a){let n,r,i;if(ao(s,this.left,this.right)&&ao(a,this.top,this.bottom)){for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(r=i[n],ao(s,r.left,r.left+r.width)&&ao(a,r.top,r.top+r.height))return this.legendItems[n]}return null}handleEvent(s){const a=this.options;if(!nre(s.type,a))return;const n=this._getLegendItemAt(s.x,s.y);if(s.type==="mousemove"||s.type==="mouseout"){const r=this._hoveredItem,i=ere(r,n);r&&!i&&Ls(a.onLeave,[s,r,this],this),this._hoveredItem=n,n&&!i&&Ls(a.onHover,[s,n,this],this)}else n&&Ls(a.onClick,[s,n,this],this)}}function tre(t,s,a,n,r){const i=sre(n,t,s,a),l=are(r,n,s.lineHeight);return{itemWidth:i,itemHeight:l}}function sre(t,s,a,n){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((i,l)=>i.length>l.length?i:l)),s+a.size/2+n.measureText(r).width}function are(t,s,a){let n=t;return typeof s.text!="string"&&(n=n3(s,a)),n}function n3(t,s){const a=t.text?t.text.length:0;return s*a}function nre(t,s){return!!((t==="mousemove"||t==="mouseout")&&(s.onHover||s.onLeave)||s.onClick&&(t==="click"||t==="mouseup"))}var rre={id:"legend",_element:C4,start(t,s,a){const n=t.legend=new C4({ctx:t.ctx,options:a,chart:t});nn.configure(t,n,a),nn.addBox(t,n)},stop(t){nn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,s,a){const n=t.legend;nn.configure(t,n,a),n.options=a},afterUpdate(t){const s=t.legend;s.buildLabels(),s.adjustHitBoxes()},afterEvent(t,s){s.replay||t.legend.handleEvent(s.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,s,a){const n=s.datasetIndex,r=a.chart;r.isDatasetVisible(n)?(r.hide(n),s.hidden=!0):(r.show(n),s.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const s=t.data.datasets,{labels:{usePointStyle:a,pointStyle:n,textAlign:r,color:i,useBorderRadius:l,borderRadius:d}}=t.legend.options;return t._getSortedDatasetMetas().map(u=>{const h=u.controller.getStyle(a?0:void 0),p=ln(h.borderWidth);return{text:s[u.index].label,fillStyle:h.backgroundColor,fontColor:i,hidden:!u.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:h.borderColor,pointStyle:n||h.pointStyle,rotation:h.rotation,textAlign:r||h.textAlign,borderRadius:l&&(d||h.borderRadius),datasetIndex:u.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class C1 extends bo{constructor(s){super(),this.chart=s.chart,this.options=s.options,this.ctx=s.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(s,a){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=s,this.height=this.bottom=a;const r=Ws(n.text)?n.text.length:1;this._padding=ln(n.padding);const i=r*Da(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const s=this.options.position;return s==="top"||s==="bottom"}_drawArgs(s){const{top:a,left:n,bottom:r,right:i,options:l}=this,d=l.align;let u=0,h,p,f;return this.isHorizontal()?(p=Za(d,n,i),f=a+s,h=i-n):(l.position==="left"?(p=n+s,f=Za(d,r,a),u=ms*-.5):(p=i-s,f=Za(d,a,r),u=ms*.5),h=r-a),{titleX:p,titleY:f,maxWidth:h,rotation:u}}draw(){const s=this.ctx,a=this.options;if(!a.display)return;const n=Da(a.font),i=n.lineHeight/2+this._padding.top,{titleX:l,titleY:d,maxWidth:u,rotation:h}=this._drawArgs(i);$c(s,a.text,0,0,n,{color:a.color,maxWidth:u,rotation:h,textAlign:p1(a.align),textBaseline:"middle",translation:[l,d]})}}function ire(t,s){const a=new C1({ctx:t.ctx,options:s,chart:t});nn.configure(t,a,s),nn.addBox(t,a),t.titleBlock=a}var ore={id:"title",_element:C1,start(t,s,a){ire(t,a)},stop(t){const s=t.titleBlock;nn.removeBox(t,s),delete t.titleBlock},beforeUpdate(t,s,a){const n=t.titleBlock;nn.configure(t,n,a),n.options=a},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const $p=new WeakMap;var lre={id:"subtitle",start(t,s,a){const n=new C1({ctx:t.ctx,options:a,chart:t});nn.configure(t,n,a),nn.addBox(t,n),$p.set(t,n)},stop(t){nn.removeBox(t,$p.get(t)),$p.delete(t)},beforeUpdate(t,s,a){const n=$p.get(t);nn.configure(t,n,a),n.options=a},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const $h={average(t){if(!t.length)return!1;let s,a,n=new Set,r=0,i=0;for(s=0,a=t.length;s<a;++s){const d=t[s].element;if(d&&d.hasValue()){const u=d.tooltipPosition();n.add(u.x),r+=u.y,++i}}return i===0||n.size===0?!1:{x:[...n].reduce((d,u)=>d+u)/n.size,y:r/i}},nearest(t,s){if(!t.length)return!1;let a=s.x,n=s.y,r=Number.POSITIVE_INFINITY,i,l,d;for(i=0,l=t.length;i<l;++i){const u=t[i].element;if(u&&u.hasValue()){const h=u.getCenterPoint(),p=jj(s,h);p<r&&(r=p,d=u)}}if(d){const u=d.tooltipPosition();a=u.x,n=u.y}return{x:a,y:n}}};function ui(t,s){return s&&(Ws(s)?Array.prototype.push.apply(t,s):t.push(s)),t}function to(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function cre(t,s){const{element:a,datasetIndex:n,index:r}=s,i=t.getDatasetMeta(n).controller,{label:l,value:d}=i.getLabelAndValue(r);return{chart:t,label:l,parsed:i.getParsed(r),raw:t.data.datasets[n].data[r],formattedValue:d,dataset:i.getDataset(),dataIndex:r,datasetIndex:n,element:a}}function k4(t,s){const a=t.chart.ctx,{body:n,footer:r,title:i}=t,{boxWidth:l,boxHeight:d}=s,u=Da(s.bodyFont),h=Da(s.titleFont),p=Da(s.footerFont),f=i.length,x=r.length,v=n.length,j=ln(s.padding);let w=j.height,_=0,N=n.reduce((T,E)=>T+E.before.length+E.lines.length+E.after.length,0);if(N+=t.beforeBody.length+t.afterBody.length,f&&(w+=f*h.lineHeight+(f-1)*s.titleSpacing+s.titleMarginBottom),N){const T=s.displayColors?Math.max(d,u.lineHeight):u.lineHeight;w+=v*T+(N-v)*u.lineHeight+(N-1)*s.bodySpacing}x&&(w+=s.footerMarginTop+x*p.lineHeight+(x-1)*s.footerSpacing);let k=0;const D=function(T){_=Math.max(_,a.measureText(T).width+k)};return a.save(),a.font=h.string,_s(t.title,D),a.font=u.string,_s(t.beforeBody.concat(t.afterBody),D),k=s.displayColors?l+2+s.boxPadding:0,_s(n,T=>{_s(T.before,D),_s(T.lines,D),_s(T.after,D)}),k=0,a.font=p.string,_s(t.footer,D),a.restore(),_+=j.width,{width:_,height:w}}function dre(t,s){const{y:a,height:n}=s;return a<n/2?"top":a>t.height-n/2?"bottom":"center"}function ure(t,s,a,n){const{x:r,width:i}=n,l=a.caretSize+a.caretPadding;if(t==="left"&&r+i+l>s.width||t==="right"&&r-i-l<0)return!0}function hre(t,s,a,n){const{x:r,width:i}=a,{width:l,chartArea:{left:d,right:u}}=t;let h="center";return n==="center"?h=r<=(d+u)/2?"left":"right":r<=i/2?h="left":r>=l-i/2&&(h="right"),ure(h,t,s,a)&&(h="center"),h}function S4(t,s,a){const n=a.yAlign||s.yAlign||dre(t,a);return{xAlign:a.xAlign||s.xAlign||hre(t,s,a,n),yAlign:n}}function mre(t,s){let{x:a,width:n}=t;return s==="right"?a-=n:s==="center"&&(a-=n/2),a}function fre(t,s,a){let{y:n,height:r}=t;return s==="top"?n+=a:s==="bottom"?n-=r+a:n-=r/2,n}function A4(t,s,a,n){const{caretSize:r,caretPadding:i,cornerRadius:l}=t,{xAlign:d,yAlign:u}=a,h=r+i,{topLeft:p,topRight:f,bottomLeft:x,bottomRight:v}=Ac(l);let j=mre(s,d);const w=fre(s,u,h);return u==="center"?d==="left"?j+=h:d==="right"&&(j-=h):d==="left"?j-=Math.max(p,x)+r:d==="right"&&(j+=Math.max(f,v)+r),{x:za(j,0,n.width-s.width),y:za(w,0,n.height-s.height)}}function zp(t,s,a){const n=ln(a.padding);return s==="center"?t.x+t.width/2:s==="right"?t.x+t.width-n.right:t.x+n.left}function T4(t){return ui([],to(t))}function pre(t,s,a){return Dl(t,{tooltip:s,tooltipItems:a,type:"tooltip"})}function D4(t,s){const a=s&&s.dataset&&s.dataset.tooltip&&s.dataset.tooltip.callbacks;return a?t.override(a):t}const r3={beforeTitle:Ji,title(t){if(t.length>0){const s=t[0],a=s.chart.data.labels,n=a?a.length:0;if(this&&this.options&&this.options.mode==="dataset")return s.dataset.label||"";if(s.label)return s.label;if(n>0&&s.dataIndex<n)return a[s.dataIndex]}return""},afterTitle:Ji,beforeBody:Ji,beforeLabel:Ji,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let s=t.dataset.label||"";s&&(s+=": ");const a=t.formattedValue;return Kt(a)||(s+=a),s},labelColor(t){const a=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:a.borderColor,backgroundColor:a.backgroundColor,borderWidth:a.borderWidth,borderDash:a.borderDash,borderDashOffset:a.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const a=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:a.pointStyle,rotation:a.rotation}},afterLabel:Ji,afterBody:Ji,beforeFooter:Ji,footer:Ji,afterFooter:Ji};function Tn(t,s,a,n){const r=t[s].call(a,n);return typeof r>"u"?r3[s].call(a,n):r}class E4 extends bo{static positioners=$h;constructor(s){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=s.chart,this.options=s.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(s){this.options=s,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const s=this._cachedAnimations;if(s)return s;const a=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&a.options.animation&&n.animations,i=new BP(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=pre(this.chart.getContext(),this,this._tooltipItems))}getTitle(s,a){const{callbacks:n}=a,r=Tn(n,"beforeTitle",this,s),i=Tn(n,"title",this,s),l=Tn(n,"afterTitle",this,s);let d=[];return d=ui(d,to(r)),d=ui(d,to(i)),d=ui(d,to(l)),d}getBeforeBody(s,a){return T4(Tn(a.callbacks,"beforeBody",this,s))}getBody(s,a){const{callbacks:n}=a,r=[];return _s(s,i=>{const l={before:[],lines:[],after:[]},d=D4(n,i);ui(l.before,to(Tn(d,"beforeLabel",this,i))),ui(l.lines,Tn(d,"label",this,i)),ui(l.after,to(Tn(d,"afterLabel",this,i))),r.push(l)}),r}getAfterBody(s,a){return T4(Tn(a.callbacks,"afterBody",this,s))}getFooter(s,a){const{callbacks:n}=a,r=Tn(n,"beforeFooter",this,s),i=Tn(n,"footer",this,s),l=Tn(n,"afterFooter",this,s);let d=[];return d=ui(d,to(r)),d=ui(d,to(i)),d=ui(d,to(l)),d}_createItems(s){const a=this._active,n=this.chart.data,r=[],i=[],l=[];let d=[],u,h;for(u=0,h=a.length;u<h;++u)d.push(cre(this.chart,a[u]));return s.filter&&(d=d.filter((p,f,x)=>s.filter(p,f,x,n))),s.itemSort&&(d=d.sort((p,f)=>s.itemSort(p,f,n))),_s(d,p=>{const f=D4(s.callbacks,p);r.push(Tn(f,"labelColor",this,p)),i.push(Tn(f,"labelPointStyle",this,p)),l.push(Tn(f,"labelTextColor",this,p))}),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=l,this.dataPoints=d,d}update(s,a){const n=this.options.setContext(this.getContext()),r=this._active;let i,l=[];if(!r.length)this.opacity!==0&&(i={opacity:0});else{const d=$h[n.position].call(this,r,this._eventPosition);l=this._createItems(n),this.title=this.getTitle(l,n),this.beforeBody=this.getBeforeBody(l,n),this.body=this.getBody(l,n),this.afterBody=this.getAfterBody(l,n),this.footer=this.getFooter(l,n);const u=this._size=k4(this,n),h=Object.assign({},d,u),p=S4(this.chart,n,h),f=A4(n,h,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,i={opacity:1,x:f.x,y:f.y,width:u.width,height:u.height,caretX:d.x,caretY:d.y}}this._tooltipItems=l,this.$context=void 0,i&&this._resolveAnimations().update(this,i),s&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:a})}drawCaret(s,a,n,r){const i=this.getCaretPosition(s,n,r);a.lineTo(i.x1,i.y1),a.lineTo(i.x2,i.y2),a.lineTo(i.x3,i.y3)}getCaretPosition(s,a,n){const{xAlign:r,yAlign:i}=this,{caretSize:l,cornerRadius:d}=n,{topLeft:u,topRight:h,bottomLeft:p,bottomRight:f}=Ac(d),{x,y:v}=s,{width:j,height:w}=a;let _,N,k,D,T,E;return i==="center"?(T=v+w/2,r==="left"?(_=x,N=_-l,D=T+l,E=T-l):(_=x+j,N=_+l,D=T-l,E=T+l),k=_):(r==="left"?N=x+Math.max(u,p)+l:r==="right"?N=x+j-Math.max(h,f)-l:N=this.caretX,i==="top"?(D=v,T=D-l,_=N-l,k=N+l):(D=v+w,T=D+l,_=N+l,k=N-l),E=D),{x1:_,x2:N,x3:k,y1:D,y2:T,y3:E}}drawTitle(s,a,n){const r=this.title,i=r.length;let l,d,u;if(i){const h=Kd(n.rtl,this.x,this.width);for(s.x=zp(this,n.titleAlign,n),a.textAlign=h.textAlign(n.titleAlign),a.textBaseline="middle",l=Da(n.titleFont),d=n.titleSpacing,a.fillStyle=n.titleColor,a.font=l.string,u=0;u<i;++u)a.fillText(r[u],h.x(s.x),s.y+l.lineHeight/2),s.y+=l.lineHeight+d,u+1===i&&(s.y+=n.titleMarginBottom-d)}}_drawColorBox(s,a,n,r,i){const l=this.labelColors[n],d=this.labelPointStyles[n],{boxHeight:u,boxWidth:h}=i,p=Da(i.bodyFont),f=zp(this,"left",i),x=r.x(f),v=u<p.lineHeight?(p.lineHeight-u)/2:0,j=a.y+v;if(i.usePointStyle){const w={radius:Math.min(h,u)/2,pointStyle:d.pointStyle,rotation:d.rotation,borderWidth:1},_=r.leftForLtr(x,h)+h/2,N=j+u/2;s.strokeStyle=i.multiKeyBackground,s.fillStyle=i.multiKeyBackground,Nj(s,w,_,N),s.strokeStyle=l.borderColor,s.fillStyle=l.backgroundColor,Nj(s,w,_,N)}else{s.lineWidth=es(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,s.strokeStyle=l.borderColor,s.setLineDash(l.borderDash||[]),s.lineDashOffset=l.borderDashOffset||0;const w=r.leftForLtr(x,h),_=r.leftForLtr(r.xPlus(x,1),h-2),N=Ac(l.borderRadius);Object.values(N).some(k=>k!==0)?(s.beginPath(),s.fillStyle=i.multiKeyBackground,gm(s,{x:w,y:j,w:h,h:u,radius:N}),s.fill(),s.stroke(),s.fillStyle=l.backgroundColor,s.beginPath(),gm(s,{x:_,y:j+1,w:h-2,h:u-2,radius:N}),s.fill()):(s.fillStyle=i.multiKeyBackground,s.fillRect(w,j,h,u),s.strokeRect(w,j,h,u),s.fillStyle=l.backgroundColor,s.fillRect(_,j+1,h-2,u-2))}s.fillStyle=this.labelTextColors[n]}drawBody(s,a,n){const{body:r}=this,{bodySpacing:i,bodyAlign:l,displayColors:d,boxHeight:u,boxWidth:h,boxPadding:p}=n,f=Da(n.bodyFont);let x=f.lineHeight,v=0;const j=Kd(n.rtl,this.x,this.width),w=function(F){a.fillText(F,j.x(s.x+v),s.y+x/2),s.y+=x+i},_=j.textAlign(l);let N,k,D,T,E,G,A;for(a.textAlign=l,a.textBaseline="middle",a.font=f.string,s.x=zp(this,_,n),a.fillStyle=n.bodyColor,_s(this.beforeBody,w),v=d&&_!=="right"?l==="center"?h/2+p:h+2+p:0,T=0,G=r.length;T<G;++T){for(N=r[T],k=this.labelTextColors[T],a.fillStyle=k,_s(N.before,w),D=N.lines,d&&D.length&&(this._drawColorBox(a,s,T,j,n),x=Math.max(f.lineHeight,u)),E=0,A=D.length;E<A;++E)w(D[E]),x=f.lineHeight;_s(N.after,w)}v=0,x=f.lineHeight,_s(this.afterBody,w),s.y-=i}drawFooter(s,a,n){const r=this.footer,i=r.length;let l,d;if(i){const u=Kd(n.rtl,this.x,this.width);for(s.x=zp(this,n.footerAlign,n),s.y+=n.footerMarginTop,a.textAlign=u.textAlign(n.footerAlign),a.textBaseline="middle",l=Da(n.footerFont),a.fillStyle=n.footerColor,a.font=l.string,d=0;d<i;++d)a.fillText(r[d],u.x(s.x),s.y+l.lineHeight/2),s.y+=l.lineHeight+n.footerSpacing}}drawBackground(s,a,n,r){const{xAlign:i,yAlign:l}=this,{x:d,y:u}=s,{width:h,height:p}=n,{topLeft:f,topRight:x,bottomLeft:v,bottomRight:j}=Ac(r.cornerRadius);a.fillStyle=r.backgroundColor,a.strokeStyle=r.borderColor,a.lineWidth=r.borderWidth,a.beginPath(),a.moveTo(d+f,u),l==="top"&&this.drawCaret(s,a,n,r),a.lineTo(d+h-x,u),a.quadraticCurveTo(d+h,u,d+h,u+x),l==="center"&&i==="right"&&this.drawCaret(s,a,n,r),a.lineTo(d+h,u+p-j),a.quadraticCurveTo(d+h,u+p,d+h-j,u+p),l==="bottom"&&this.drawCaret(s,a,n,r),a.lineTo(d+v,u+p),a.quadraticCurveTo(d,u+p,d,u+p-v),l==="center"&&i==="left"&&this.drawCaret(s,a,n,r),a.lineTo(d,u+f),a.quadraticCurveTo(d,u,d+f,u),a.closePath(),a.fill(),r.borderWidth>0&&a.stroke()}_updateAnimationTarget(s){const a=this.chart,n=this.$animations,r=n&&n.x,i=n&&n.y;if(r||i){const l=$h[s.position].call(this,this._active,this._eventPosition);if(!l)return;const d=this._size=k4(this,s),u=Object.assign({},l,this._size),h=S4(a,s,u),p=A4(s,u,h,a);(r._to!==p.x||i._to!==p.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=d.width,this.height=d.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(s){const a=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(a);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const l=ln(a.padding),d=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;a.enabled&&d&&(s.save(),s.globalAlpha=n,this.drawBackground(i,s,r,a),EP(s,a.textDirection),i.y+=l.top,this.drawTitle(i,s,a),this.drawBody(i,s,a),this.drawFooter(i,s,a),RP(s,a.textDirection),s.restore())}getActiveElements(){return this._active||[]}setActiveElements(s,a){const n=this._active,r=s.map(({datasetIndex:d,index:u})=>{const h=this.chart.getDatasetMeta(d);if(!h)throw new Error("Cannot find a dataset at index "+d);return{datasetIndex:d,element:h.data[u],index:u}}),i=!zg(n,r),l=this._positionChanged(r,a);(i||l)&&(this._active=r,this._eventPosition=a,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(s,a,n=!0){if(a&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],l=this._getActiveElements(s,i,a,n),d=this._positionChanged(l,s),u=a||!zg(l,i)||d;return u&&(this._active=l,(r.enabled||r.external)&&(this._eventPosition={x:s.x,y:s.y},this.update(!0,a))),u}_getActiveElements(s,a,n,r){const i=this.options;if(s.type==="mouseout")return[];if(!r)return a.filter(d=>this.chart.data.datasets[d.datasetIndex]&&this.chart.getDatasetMeta(d.datasetIndex).controller.getParsed(d.index)!==void 0);const l=this.chart.getElementsAtEventForMode(s,i.mode,i,n);return i.reverse&&l.reverse(),l}_positionChanged(s,a){const{caretX:n,caretY:r,options:i}=this,l=$h[i.position].call(this,s,a);return l!==!1&&(n!==l.x||r!==l.y)}}var gre={id:"tooltip",_element:E4,positioners:$h,afterInit(t,s,a){a&&(t.tooltip=new E4({chart:t,options:a}))},beforeUpdate(t,s,a){t.tooltip&&t.tooltip.initialize(a)},reset(t,s,a){t.tooltip&&t.tooltip.initialize(a)},afterDraw(t){const s=t.tooltip;if(s&&s._willRender()){const a={tooltip:s};if(t.notifyPlugins("beforeTooltipDraw",{...a,cancelable:!0})===!1)return;s.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",a)}},afterEvent(t,s){if(t.tooltip){const a=s.replay;t.tooltip.handleEvent(s.event,a,s.inChartArea)&&(s.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,s)=>s.bodyFont.size,boxWidth:(t,s)=>s.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:r3},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},xre=Object.freeze({__proto__:null,Colors:Tne,Decimation:Mne,Filler:Jne,Legend:rre,SubTitle:lre,Title:ore,Tooltip:gre});const yre=(t,s,a,n)=>(typeof s=="string"?(a=t.push(s)-1,n.unshift({index:a,label:s})):isNaN(s)&&(a=null),a);function bre(t,s,a,n){const r=t.indexOf(s);if(r===-1)return yre(t,s,a,n);const i=t.lastIndexOf(s);return r!==i?a:r}const vre=(t,s)=>t===null?null:za(Math.round(t),0,s);function R4(t){const s=this.getLabels();return t>=0&&t<s.length?s[t]:t}class jre extends zc{static id="category";static defaults={ticks:{callback:R4}};constructor(s){super(s),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(s){const a=this._addedLabels;if(a.length){const n=this.getLabels();for(const{index:r,label:i}of a)n[r]===i&&n.splice(r,1);this._addedLabels=[]}super.init(s)}parse(s,a){if(Kt(s))return null;const n=this.getLabels();return a=isFinite(a)&&n[a]===s?a:bre(n,s,Ft(a,s),this._addedLabels),vre(a,n.length-1)}determineDataLimits(){const{minDefined:s,maxDefined:a}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(s||(n=0),a||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const s=this.min,a=this.max,n=this.options.offset,r=[];let i=this.getLabels();i=s===0&&a===i.length-1?i:i.slice(s,a+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let l=s;l<=a;l++)r.push({value:l});return r}getLabelForValue(s){return R4.call(this,s)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(s){return typeof s!="number"&&(s=this.parse(s)),s===null?NaN:this.getPixelForDecimal((s-this._startValue)/this._valueRange)}getPixelForTick(s){const a=this.ticks;return s<0||s>a.length-1?null:this.getPixelForValue(a[s].value)}getValueForPixel(s){return Math.round(this._startValue+this.getDecimalForPixel(s)*this._valueRange)}getBasePixel(){return this.bottom}}function wre(t,s){const a=[],{bounds:r,step:i,min:l,max:d,precision:u,count:h,maxTicks:p,maxDigits:f,includeBounds:x}=t,v=i||1,j=p-1,{min:w,max:_}=s,N=!Kt(l),k=!Kt(d),D=!Kt(h),T=(_-w)/(f+1);let E=kA((_-w)/j/v)*v,G,A,F,M;if(E<1e-14&&!N&&!k)return[{value:w},{value:_}];M=Math.ceil(_/E)-Math.floor(w/E),M>j&&(E=kA(M*E/j/v)*v),Kt(u)||(G=Math.pow(10,u),E=Math.ceil(E*G)/G),r==="ticks"?(A=Math.floor(w/E)*E,F=Math.ceil(_/E)*E):(A=w,F=_),N&&k&&i&&nte((d-l)/i,E/1e3)?(M=Math.round(Math.min((d-l)/E,p)),E=(d-l)/M,A=l,F=d):D?(A=N?l:A,F=k?d:F,M=h-1,E=(F-A)/M):(M=(F-A)/E,Kh(M,Math.round(M),E/1e3)?M=Math.round(M):M=Math.ceil(M));const J=Math.max(SA(E),SA(A));G=Math.pow(10,Kt(u)?J:u),A=Math.round(A*G)/G,F=Math.round(F*G)/G;let R=0;for(N&&(x&&A!==l?(a.push({value:l}),A<l&&R++,Kh(Math.round((A+R*E)*G)/G,l,M4(l,T,t))&&R++):A<l&&R++);R<M;++R){const ee=Math.round((A+R*E)*G)/G;if(k&&ee>d)break;a.push({value:ee})}return k&&x&&F!==d?a.length&&Kh(a[a.length-1].value,d,M4(d,T,t))?a[a.length-1].value=d:a.push({value:d}):(!k||F===d)&&a.push({value:F}),a}function M4(t,s,{horizontal:a,minRotation:n}){const r=Hr(n),i=(a?Math.sin(r):Math.cos(r))||.001,l=.75*s*(""+t).length;return Math.min(s/i,l)}class Yg extends zc{constructor(s){super(s),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(s,a){return Kt(s)||(typeof s=="number"||s instanceof Number)&&!isFinite(+s)?null:+s}handleTickRangeOptions(){const{beginAtZero:s}=this.options,{minDefined:a,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this;const l=u=>r=a?r:u,d=u=>i=n?i:u;if(s){const u=Ni(r),h=Ni(i);u<0&&h<0?d(0):u>0&&h>0&&l(0)}if(r===i){let u=i===0?1:Math.abs(i*.05);d(i+u),s||l(r-u)}this.min=r,this.max=i}getTickLimit(){const s=this.options.ticks;let{maxTicksLimit:a,stepSize:n}=s,r;return n?(r=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),a=a||11),a&&(r=Math.min(a,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const s=this.options,a=s.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r={maxTicks:n,bounds:s.bounds,min:s.min,max:s.max,precision:a.precision,step:a.stepSize,count:a.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:a.minRotation||0,includeBounds:a.includeBounds!==!1},i=this._range||this,l=wre(r,i);return s.bounds==="ticks"&&fP(l,this,"value"),s.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const s=this.ticks;let a=this.min,n=this.max;if(super.configure(),this.options.offset&&s.length){const r=(n-a)/Math.max(s.length-1,1)/2;a-=r,n+=r}this._startValue=a,this._endValue=n,this._valueRange=n-a}getLabelForValue(s){return Um(s,this.chart.options.locale,this.options.ticks.format)}}class Nre extends Yg{static id="linear";static defaults={ticks:{callback:Px.formatters.numeric}};determineDataLimits(){const{min:s,max:a}=this.getMinMax(!0);this.min=la(s)?s:0,this.max=la(a)?a:1,this.handleTickRangeOptions()}computeTickLimit(){const s=this.isHorizontal(),a=s?this.width:this.height,n=Hr(this.options.ticks.minRotation),r=(s?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(a/Math.min(40,i.lineHeight/r))}getPixelForValue(s){return s===null?NaN:this.getPixelForDecimal((s-this._startValue)/this._valueRange)}getValueForPixel(s){return this._startValue+this.getDecimalForPixel(s)*this._valueRange}}const ym=t=>Math.floor(dl(t)),cc=(t,s)=>Math.pow(10,ym(t)+s);function P4(t){return t/Math.pow(10,ym(t))===1}function O4(t,s,a){const n=Math.pow(10,a),r=Math.floor(t/n);return Math.ceil(s/n)-r}function _re(t,s){const a=s-t;let n=ym(a);for(;O4(t,s,n)>10;)n++;for(;O4(t,s,n)<10;)n--;return Math.min(n,ym(t))}function Cre(t,{min:s,max:a}){s=Qn(t.min,s);const n=[],r=ym(s);let i=_re(s,a),l=i<0?Math.pow(10,Math.abs(i)):1;const d=Math.pow(10,i),u=r>i?Math.pow(10,r):0,h=Math.round((s-u)*l)/l,p=Math.floor((s-u)/d/10)*d*10;let f=Math.floor((h-p)/Math.pow(10,i)),x=Qn(t.min,Math.round((u+p+f*Math.pow(10,i))*l)/l);for(;x<a;)n.push({value:x,major:P4(x),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(i++,f=2,l=i>=0?1:l),x=Math.round((u+p+f*Math.pow(10,i))*l)/l;const v=Qn(t.max,x);return n.push({value:v,major:P4(v),significand:f}),n}class kre extends zc{static id="logarithmic";static defaults={ticks:{callback:Px.formatters.logarithmic,major:{enabled:!0}}};constructor(s){super(s),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(s,a){const n=Yg.prototype.parse.apply(this,[s,a]);if(n===0){this._zero=!0;return}return la(n)&&n>0?n:null}determineDataLimits(){const{min:s,max:a}=this.getMinMax(!0);this.min=la(s)?Math.max(0,s):null,this.max=la(a)?Math.max(0,a):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!la(this._userMin)&&(this.min=s===cc(this.min,0)?cc(this.min,-1):cc(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:s,maxDefined:a}=this.getUserBounds();let n=this.min,r=this.max;const i=d=>n=s?n:d,l=d=>r=a?r:d;n===r&&(n<=0?(i(1),l(10)):(i(cc(n,-1)),l(cc(r,1)))),n<=0&&i(cc(r,-1)),r<=0&&l(cc(n,1)),this.min=n,this.max=r}buildTicks(){const s=this.options,a={min:this._userMin,max:this._userMax},n=Cre(a,this);return s.bounds==="ticks"&&fP(n,this,"value"),s.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(s){return s===void 0?"0":Um(s,this.chart.options.locale,this.options.ticks.format)}configure(){const s=this.min;super.configure(),this._startValue=dl(s),this._valueRange=dl(this.max)-dl(s)}getPixelForValue(s){return(s===void 0||s===0)&&(s=this.min),s===null||isNaN(s)?NaN:this.getPixelForDecimal(s===this.min?0:(dl(s)-this._startValue)/this._valueRange)}getValueForPixel(s){const a=this.getDecimalForPixel(s);return Math.pow(10,this._startValue+a*this._valueRange)}}function Tj(t){const s=t.ticks;if(s.display&&t.display){const a=ln(s.backdropPadding);return Ft(s.font&&s.font.size,Qs.font.size)+a.height}return 0}function Sre(t,s,a){return a=Ws(a)?a:[a],{w:jte(t,s.string,a),h:a.length*s.lineHeight}}function L4(t,s,a,n,r){return t===n||t===r?{start:s-a/2,end:s+a/2}:t<n||t>r?{start:s-a,end:s}:{start:s,end:s+a}}function Are(t){const s={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},a=Object.assign({},s),n=[],r=[],i=t._pointLabels.length,l=t.options.pointLabels,d=l.centerPointLabels?ms/i:0;for(let u=0;u<i;u++){const h=l.setContext(t.getPointLabelContext(u));r[u]=h.padding;const p=t.getPointPosition(u,t.drawingArea+r[u],d),f=Da(h.font),x=Sre(t.ctx,f,t._pointLabels[u]);n[u]=x;const v=Ja(t.getIndexAngle(u)+d),j=Math.round(m1(v)),w=L4(j,p.x,x.w,0,180),_=L4(j,p.y,x.h,90,270);Tre(a,s,v,w,_)}t.setCenterPoint(s.l-a.l,a.r-s.r,s.t-a.t,a.b-s.b),t._pointLabelItems=Rre(t,n,r)}function Tre(t,s,a,n,r){const i=Math.abs(Math.sin(a)),l=Math.abs(Math.cos(a));let d=0,u=0;n.start<s.l?(d=(s.l-n.start)/i,t.l=Math.min(t.l,s.l-d)):n.end>s.r&&(d=(n.end-s.r)/i,t.r=Math.max(t.r,s.r+d)),r.start<s.t?(u=(s.t-r.start)/l,t.t=Math.min(t.t,s.t-u)):r.end>s.b&&(u=(r.end-s.b)/l,t.b=Math.max(t.b,s.b+u))}function Dre(t,s,a){const n=t.drawingArea,{extra:r,additionalAngle:i,padding:l,size:d}=a,u=t.getPointPosition(s,n+r+l,i),h=Math.round(m1(Ja(u.angle+ma))),p=Ore(u.y,d.h,h),f=Mre(h),x=Pre(u.x,d.w,f);return{visible:!0,x:u.x,y:p,textAlign:f,left:x,top:p,right:x+d.w,bottom:p+d.h}}function Ere(t,s){if(!s)return!0;const{left:a,top:n,right:r,bottom:i}=t;return!(ro({x:a,y:n},s)||ro({x:a,y:i},s)||ro({x:r,y:n},s)||ro({x:r,y:i},s))}function Rre(t,s,a){const n=[],r=t._pointLabels.length,i=t.options,{centerPointLabels:l,display:d}=i.pointLabels,u={extra:Tj(i)/2,additionalAngle:l?ms/r:0};let h;for(let p=0;p<r;p++){u.padding=a[p],u.size=s[p];const f=Dre(t,p,u);n.push(f),d==="auto"&&(f.visible=Ere(f,h),f.visible&&(h=f))}return n}function Mre(t){return t===0||t===180?"center":t<180?"left":"right"}function Pre(t,s,a){return a==="right"?t-=s:a==="center"&&(t-=s/2),t}function Ore(t,s,a){return a===90||a===270?t-=s/2:(a>270||a<90)&&(t-=s),t}function Lre(t,s,a){const{left:n,top:r,right:i,bottom:l}=a,{backdropColor:d}=s;if(!Kt(d)){const u=Ac(s.borderRadius),h=ln(s.backdropPadding);t.fillStyle=d;const p=n-h.left,f=r-h.top,x=i-n+h.width,v=l-r+h.height;Object.values(u).some(j=>j!==0)?(t.beginPath(),gm(t,{x:p,y:f,w:x,h:v,radius:u}),t.fill()):t.fillRect(p,f,x,v)}}function Bre(t,s){const{ctx:a,options:{pointLabels:n}}=t;for(let r=s-1;r>=0;r--){const i=t._pointLabelItems[r];if(!i.visible)continue;const l=n.setContext(t.getPointLabelContext(r));Lre(a,l,i);const d=Da(l.font),{x:u,y:h,textAlign:p}=i;$c(a,t._pointLabels[r],u,h+d.lineHeight/2,d,{color:l.color,textAlign:p,textBaseline:"middle"})}}function i3(t,s,a,n){const{ctx:r}=t;if(a)r.arc(t.xCenter,t.yCenter,s,0,Vs);else{let i=t.getPointPosition(0,s);r.moveTo(i.x,i.y);for(let l=1;l<n;l++)i=t.getPointPosition(l,s),r.lineTo(i.x,i.y)}}function Fre(t,s,a,n,r){const i=t.ctx,l=s.circular,{color:d,lineWidth:u}=s;!l&&!n||!d||!u||a<0||(i.save(),i.strokeStyle=d,i.lineWidth=u,i.setLineDash(r.dash||[]),i.lineDashOffset=r.dashOffset,i.beginPath(),i3(t,a,l,n),i.closePath(),i.stroke(),i.restore())}function Ire(t,s,a){return Dl(t,{label:a,index:s,type:"pointLabel"})}class $re extends Yg{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:Px.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(s){return s},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(s){super(s),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const s=this._padding=ln(Tj(this.options)/2),a=this.width=this.maxWidth-s.width,n=this.height=this.maxHeight-s.height;this.xCenter=Math.floor(this.left+a/2+s.left),this.yCenter=Math.floor(this.top+n/2+s.top),this.drawingArea=Math.floor(Math.min(a,n)/2)}determineDataLimits(){const{min:s,max:a}=this.getMinMax(!1);this.min=la(s)&&!isNaN(s)?s:0,this.max=la(a)&&!isNaN(a)?a:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Tj(this.options))}generateTickLabels(s){Yg.prototype.generateTickLabels.call(this,s),this._pointLabels=this.getLabels().map((a,n)=>{const r=Ls(this.options.pointLabels.callback,[a,n],this);return r||r===0?r:""}).filter((a,n)=>this.chart.getDataVisibility(n))}fit(){const s=this.options;s.display&&s.pointLabels.display?Are(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(s,a,n,r){this.xCenter+=Math.floor((s-a)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(s,a,n,r))}getIndexAngle(s){const a=Vs/(this._pointLabels.length||1),n=this.options.startAngle||0;return Ja(s*a+Hr(n))}getDistanceFromCenterForValue(s){if(Kt(s))return NaN;const a=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-s)*a:(s-this.min)*a}getValueForDistanceFromCenter(s){if(Kt(s))return NaN;const a=s/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-a:this.min+a}getPointLabelContext(s){const a=this._pointLabels||[];if(s>=0&&s<a.length){const n=a[s];return Ire(this.getContext(),s,n)}}getPointPosition(s,a,n=0){const r=this.getIndexAngle(s)-ma+n;return{x:Math.cos(r)*a+this.xCenter,y:Math.sin(r)*a+this.yCenter,angle:r}}getPointPositionForValue(s,a){return this.getPointPosition(s,this.getDistanceFromCenterForValue(a))}getBasePosition(s){return this.getPointPositionForValue(s||0,this.getBaseValue())}getPointLabelPosition(s){const{left:a,top:n,right:r,bottom:i}=this._pointLabelItems[s];return{left:a,top:n,right:r,bottom:i}}drawBackground(){const{backgroundColor:s,grid:{circular:a}}=this.options;if(s){const n=this.ctx;n.save(),n.beginPath(),i3(this,this.getDistanceFromCenterForValue(this._endValue),a,this._pointLabels.length),n.closePath(),n.fillStyle=s,n.fill(),n.restore()}}drawGrid(){const s=this.ctx,a=this.options,{angleLines:n,grid:r,border:i}=a,l=this._pointLabels.length;let d,u,h;if(a.pointLabels.display&&Bre(this,l),r.display&&this.ticks.forEach((p,f)=>{if(f!==0||f===0&&this.min<0){u=this.getDistanceFromCenterForValue(p.value);const x=this.getContext(f),v=r.setContext(x),j=i.setContext(x);Fre(this,v,u,l,j)}}),n.display){for(s.save(),d=l-1;d>=0;d--){const p=n.setContext(this.getPointLabelContext(d)),{color:f,lineWidth:x}=p;!x||!f||(s.lineWidth=x,s.strokeStyle=f,s.setLineDash(p.borderDash),s.lineDashOffset=p.borderDashOffset,u=this.getDistanceFromCenterForValue(a.reverse?this.min:this.max),h=this.getPointPosition(d,u),s.beginPath(),s.moveTo(this.xCenter,this.yCenter),s.lineTo(h.x,h.y),s.stroke())}s.restore()}}drawBorder(){}drawLabels(){const s=this.ctx,a=this.options,n=a.ticks;if(!n.display)return;const r=this.getIndexAngle(0);let i,l;s.save(),s.translate(this.xCenter,this.yCenter),s.rotate(r),s.textAlign="center",s.textBaseline="middle",this.ticks.forEach((d,u)=>{if(u===0&&this.min>=0&&!a.reverse)return;const h=n.setContext(this.getContext(u)),p=Da(h.font);if(i=this.getDistanceFromCenterForValue(this.ticks[u].value),h.showLabelBackdrop){s.font=p.string,l=s.measureText(d.label).width,s.fillStyle=h.backdropColor;const f=ln(h.backdropPadding);s.fillRect(-l/2-f.left,-i-p.size/2-f.top,l+f.width,p.size+f.height)}$c(s,d.label,0,-i,p,{color:h.color,strokeColor:h.textStrokeColor,strokeWidth:h.textStrokeWidth})}),s.restore()}drawTitle(){}}const zx={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Mn=Object.keys(zx);function B4(t,s){return t-s}function F4(t,s){if(Kt(s))return null;const a=t._adapter,{parser:n,round:r,isoWeekday:i}=t._parseOpts;let l=s;return typeof n=="function"&&(l=n(l)),la(l)||(l=typeof n=="string"?a.parse(l,n):a.parse(l)),l===null?null:(r&&(l=r==="week"&&(au(i)||i===!0)?a.startOf(l,"isoWeek",i):a.startOf(l,r)),+l)}function I4(t,s,a,n){const r=Mn.length;for(let i=Mn.indexOf(t);i<r-1;++i){const l=zx[Mn[i]],d=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((a-s)/(d*l.size))<=n)return Mn[i]}return Mn[r-1]}function zre(t,s,a,n,r){for(let i=Mn.length-1;i>=Mn.indexOf(a);i--){const l=Mn[i];if(zx[l].common&&t._adapter.diff(r,n,l)>=s-1)return l}return Mn[a?Mn.indexOf(a):0]}function Vre(t){for(let s=Mn.indexOf(t)+1,a=Mn.length;s<a;++s)if(zx[Mn[s]].common)return Mn[s]}function $4(t,s,a){if(!a)t[s]=!0;else if(a.length){const{lo:n,hi:r}=f1(a,s),i=a[n]>=s?a[n]:a[r];t[i]=!0}}function Ure(t,s,a,n){const r=t._adapter,i=+r.startOf(s[0].value,n),l=s[s.length-1].value;let d,u;for(d=i;d<=l;d=+r.add(d,1,n))u=a[d],u>=0&&(s[u].major=!0);return s}function z4(t,s,a){const n=[],r={},i=s.length;let l,d;for(l=0;l<i;++l)d=s[l],r[d]=l,n.push({value:d,major:!1});return i===0||!a?n:Ure(t,n,r,a)}class Dj extends zc{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(s){super(s),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(s,a={}){const n=s.time||(s.time={}),r=this._adapter=new Hse._date(s.adapters.date);r.init(a),Yh(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(s),this._normalized=a.normalized}parse(s,a){return s===void 0?null:F4(this,s)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const s=this.options,a=this._adapter,n=s.time.unit||"day";let{min:r,max:i,minDefined:l,maxDefined:d}=this.getUserBounds();function u(h){!l&&!isNaN(h.min)&&(r=Math.min(r,h.min)),!d&&!isNaN(h.max)&&(i=Math.max(i,h.max))}(!l||!d)&&(u(this._getLabelBounds()),(s.bounds!=="ticks"||s.ticks.source!=="labels")&&u(this.getMinMax(!1))),r=la(r)&&!isNaN(r)?r:+a.startOf(Date.now(),n),i=la(i)&&!isNaN(i)?i:+a.endOf(Date.now(),n)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const s=this.getLabelTimestamps();let a=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return s.length&&(a=s[0],n=s[s.length-1]),{min:a,max:n}}buildTicks(){const s=this.options,a=s.time,n=s.ticks,r=n.source==="labels"?this.getLabelTimestamps():this._generate();s.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,l=this.max,d=lte(r,i,l);return this._unit=a.unit||(n.autoSkip?I4(a.minUnit,this.min,this.max,this._getLabelCapacity(i)):zre(this,d.length,a.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:Vre(this._unit),this.initOffsets(r),s.reverse&&d.reverse(),z4(this,d,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(s=>+s.value))}initOffsets(s=[]){let a=0,n=0,r,i;this.options.offset&&s.length&&(r=this.getDecimalForValue(s[0]),s.length===1?a=1-r:a=(this.getDecimalForValue(s[1])-r)/2,i=this.getDecimalForValue(s[s.length-1]),s.length===1?n=i:n=(i-this.getDecimalForValue(s[s.length-2]))/2);const l=s.length<3?.5:.25;a=za(a,0,l),n=za(n,0,l),this._offsets={start:a,end:n,factor:1/(a+1+n)}}_generate(){const s=this._adapter,a=this.min,n=this.max,r=this.options,i=r.time,l=i.unit||I4(i.minUnit,a,n,this._getLabelCapacity(a)),d=Ft(r.ticks.stepSize,1),u=l==="week"?i.isoWeekday:!1,h=au(u)||u===!0,p={};let f=a,x,v;if(h&&(f=+s.startOf(f,"isoWeek",u)),f=+s.startOf(f,h?"day":l),s.diff(n,a,l)>1e5*d)throw new Error(a+" and "+n+" are too far apart with stepSize of "+d+" "+l);const j=r.ticks.source==="data"&&this.getDataTimestamps();for(x=f,v=0;x<n;x=+s.add(x,d,l),v++)$4(p,x,j);return(x===n||r.bounds==="ticks"||v===1)&&$4(p,x,j),Object.keys(p).sort(B4).map(w=>+w)}getLabelForValue(s){const a=this._adapter,n=this.options.time;return n.tooltipFormat?a.format(s,n.tooltipFormat):a.format(s,n.displayFormats.datetime)}format(s,a){const r=this.options.time.displayFormats,i=this._unit,l=a||r[i];return this._adapter.format(s,l)}_tickFormatFunction(s,a,n,r){const i=this.options,l=i.ticks.callback;if(l)return Ls(l,[s,a,n],this);const d=i.time.displayFormats,u=this._unit,h=this._majorUnit,p=u&&d[u],f=h&&d[h],x=n[a],v=h&&f&&x&&x.major;return this._adapter.format(s,r||(v?f:p))}generateTickLabels(s){let a,n,r;for(a=0,n=s.length;a<n;++a)r=s[a],r.label=this._tickFormatFunction(r.value,a,s)}getDecimalForValue(s){return s===null?NaN:(s-this.min)/(this.max-this.min)}getPixelForValue(s){const a=this._offsets,n=this.getDecimalForValue(s);return this.getPixelForDecimal((a.start+n)*a.factor)}getValueForPixel(s){const a=this._offsets,n=this.getDecimalForPixel(s)/a.factor-a.end;return this.min+n*(this.max-this.min)}_getLabelSize(s){const a=this.options.ticks,n=this.ctx.measureText(s).width,r=Hr(this.isHorizontal()?a.maxRotation:a.minRotation),i=Math.cos(r),l=Math.sin(r),d=this._resolveTickFontOptions(0).size;return{w:n*i+d*l,h:n*l+d*i}}_getLabelCapacity(s){const a=this.options.time,n=a.displayFormats,r=n[a.unit]||n.millisecond,i=this._tickFormatFunction(s,0,z4(this,[s],this._majorUnit),r),l=this._getLabelSize(i),d=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return d>0?d:1}getDataTimestamps(){let s=this._cache.data||[],a,n;if(s.length)return s;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(a=0,n=r.length;a<n;++a)s=s.concat(r[a].controller.getAllParsedValues(this));return this._cache.data=this.normalize(s)}getLabelTimestamps(){const s=this._cache.labels||[];let a,n;if(s.length)return s;const r=this.getLabels();for(a=0,n=r.length;a<n;++a)s.push(F4(this,r[a]));return this._cache.labels=this._normalized?s:this.normalize(s)}normalize(s){return xP(s.sort(B4))}}function Vp(t,s,a){let n=0,r=t.length-1,i,l,d,u;a?(s>=t[n].pos&&s<=t[r].pos&&({lo:n,hi:r}=no(t,"pos",s)),{pos:i,time:d}=t[n],{pos:l,time:u}=t[r]):(s>=t[n].time&&s<=t[r].time&&({lo:n,hi:r}=no(t,"time",s)),{time:i,pos:d}=t[n],{time:l,pos:u}=t[r]);const h=l-i;return h?d+(u-d)*(s-i)/h:d}class Hre extends Dj{static id="timeseries";static defaults=Dj.defaults;constructor(s){super(s),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const s=this._getTimestampsForTable(),a=this._table=this.buildLookupTable(s);this._minPos=Vp(a,this.min),this._tableRange=Vp(a,this.max)-this._minPos,super.initOffsets(s)}buildLookupTable(s){const{min:a,max:n}=this,r=[],i=[];let l,d,u,h,p;for(l=0,d=s.length;l<d;++l)h=s[l],h>=a&&h<=n&&r.push(h);if(r.length<2)return[{time:a,pos:0},{time:n,pos:1}];for(l=0,d=r.length;l<d;++l)p=r[l+1],u=r[l-1],h=r[l],Math.round((p+u)/2)!==h&&i.push({time:h,pos:l/(d-1)});return i}_generate(){const s=this.min,a=this.max;let n=super.getDataTimestamps();return(!n.includes(s)||!n.length)&&n.splice(0,0,s),(!n.includes(a)||n.length===1)&&n.push(a),n.sort((r,i)=>r-i)}_getTimestampsForTable(){let s=this._cache.all||[];if(s.length)return s;const a=this.getDataTimestamps(),n=this.getLabelTimestamps();return a.length&&n.length?s=this.normalize(a.concat(n)):s=a.length?a:n,s=this._cache.all=s,s}getDecimalForValue(s){return(Vp(this._table,s)-this._minPos)/this._tableRange}getValueForPixel(s){const a=this._offsets,n=this.getDecimalForPixel(s)/a.factor-a.end;return Vp(this._table,n*this._tableRange+this._minPos,!0)}}var qre=Object.freeze({__proto__:null,CategoryScale:jre,LinearScale:Nre,LogarithmicScale:kre,RadialLinearScale:$re,TimeScale:Dj,TimeSeriesScale:Hre});const k1=[Use,wne,xre,qre];kl.register(...k1);const Gre={normal:"Normal",sport:"Sport",luxury:"Luxury",commercial:"Commercial",industrial:"Industrial",event:"Event",sea:"Sea"},Wre={"4x4":"4x4 / AWD","2_front":"Front Wheel","2_back":"Rear Wheel",autoblock:"Autoblock"},Yre={automatic:"Automatic",manual:"Manual"},Kre={benz:"Gasoline",diesel:"Diesel",electric:"Electric",hybrid:"Hybrid"},Tt={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640"},o3=[{key:"7d",label:"Last 7 days",period:"days",period_value:7},{key:"30d",label:"Last 30 days",period:"days",period_value:30},{key:"3m",label:"Last 3 months",period:"months",period_value:3},{key:"12m",label:"Last 12 months",period:"months",period_value:12},{key:"all",label:"All time",period:null,period_value:null}];function Xre(t,s,a){if(t==="custom"&&s&&a)return{date_from:s,date_to:a};const n=o3.find(r=>r.key===t);return!n||n.key==="all"||!n.period?{}:{period:n.period,period_value:n.period_value}}function Qre(t){if(!t)return"";if(t.length===10)return new Date(t+"T12:00:00").toLocaleDateString("en-US",{month:"short",day:"numeric"});if(t.length===7){const[s,a]=t.split("-");return new Date(parseInt(s,10),parseInt(a,10)-1).toLocaleDateString("en-US",{month:"short",year:"numeric"})}if(t.match(/^\d{4}-\d{1,2}$/)){const[s,a]=t.split("-");return`Week ${a}, ${s}`}return t}const Zre=()=>{const[t,s]=y.useState(!1),[a,n]=y.useState(null),[r,i]=y.useState(null),[l,d]=y.useState(null),[u,h]=y.useState(!0),[p,f]=y.useState(null),[x,v]=y.useState("30d"),[j,w]=y.useState(""),[_,N]=y.useState(""),k=y.useRef({});y.useEffect(()=>{const A=localStorage.getItem("theme"),F=window.matchMedia("(prefers-color-scheme: dark)").matches,M=A==="dark"||!A&&F;s(M),document.documentElement.classList.toggle("dark",M)},[]);const D=()=>{const A=!t;s(A),document.documentElement.classList.toggle("dark",A),localStorage.setItem("theme",A?"dark":"light")};y.useEffect(()=>{const A=JSON.parse(localStorage.getItem("user"));A&&n(A)},[]);const T=y.useCallback(async()=>{try{h(!0),f(null);const A=Xre(x,j,_),F=await oee(A);if(F.data?.success)i(F.data.data??null),d(F.data.filter_applied??null);else throw new Error("Invalid response format")}catch(A){console.error("Statistics fetch error:",A);const F=A.response?.data?.message||A.message||"Failed to load statistics";f(F),se.error(F),A.response?.status===401&&se.error("Please log in to view statistics")}finally{h(!1)}},[x,j,_]);y.useEffect(()=>{T()},[T]);const E={darkBlue:`${Tt.darkBlue}CC`,teal:`${Tt.teal}CC`,limeGreen:`${Tt.limeGreen}CC`,tealSolid:Tt.teal,limeGreenSolid:Tt.limeGreen,tealLight:`${Tt.teal}44`};y.useEffect(()=>{if(!r)return;const A=()=>{Object.values(k.current).forEach(M=>{M&&typeof M.destroy=="function"&&M.destroy()}),k.current={}},F=(M,J,R,ee,Y,re={})=>{const te=document.getElementById(M);if(!te)return;const V=Array.isArray(Y)?Y:[Y],U=new kl(te,{type:J,data:{labels:R,datasets:[{label:re.label||"Count",data:ee,backgroundColor:V,borderColor:V.map(H=>H.replace(/CC$/,"FF").replace(/44$/,"FF")),borderWidth:3,borderRadius:J==="bar"?12:0,hoverOffset:J==="doughnut"||J==="pie"?20:0,fill:re.fill!==void 0?re.fill:!1,tension:re.tension||0,pointRadius:re.pointRadius||3,pointBackgroundColor:re.pointColor||E.limeGreenSolid,pointBorderColor:"#fff",pointBorderWidth:2,pointHoverRadius:re.pointHoverRadius||5}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:J==="bar"||J==="line"?"top":"bottom",labels:{color:t?"#9ca3af":"#4b5563",padding:15,font:{size:12,weight:"600"},usePointStyle:!0,pointStyle:"circle"}},tooltip:{backgroundColor:t?"rgba(0,0,0,0.9)":"rgba(255,255,255,0.95)",titleColor:t?"#fff":"#000",bodyColor:t?"#e5e7eb":"#374151",borderColor:E.tealSolid,borderWidth:1,padding:12,titleFont:{size:13,weight:"bold"},bodyFont:{size:12},cornerRadius:8}},animation:{duration:1200,easing:"easeOutQuart"},scales:J==="bar"||J==="line"?{y:{beginAtZero:!0,grid:{color:t?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.05)"},ticks:{color:t?"#9ca3af":"#6b7280",font:{size:11,weight:"600"}}},x:{grid:{display:!1},ticks:{color:t?"#9ca3af":"#6b7280",font:{size:11,weight:"600"}}}}:{}}});k.current[M]=U};if(A(),r.by_category?.length>0&&F("catChart","doughnut",r.by_category.map(M=>Gre[M.category]||M.category),r.by_category.map(M=>M.total),[E.darkBlue,E.teal,E.limeGreen]),r.by_make?.length>0){const M=r.by_make.slice(0,6);F("makeChart","bar",M.map(J=>J.make),M.map(J=>J.total),E.teal)}if(r.by_transmission?.length>0&&F("transChart","pie",r.by_transmission.map(M=>Yre[M.transmission]||M.transmission),r.by_transmission.map(M=>M.total),[E.darkBlue,E.limeGreen]),r.by_fuel_type?.length>0&&F("fuelChart","doughnut",r.by_fuel_type.map(M=>Kre[M.fuel_type]||M.fuel_type),r.by_fuel_type.map(M=>M.total),[E.teal,E.limeGreen]),r.by_drive_type?.length>0&&F("driveChart","doughnut",r.by_drive_type.map(M=>Wre[M.drive_type]||M.drive_type),r.by_drive_type.map(M=>M.total),[E.darkBlue,E.teal,E.limeGreen]),r.by_city?.length>0){const M=r.by_city.slice(0,10);F("cityChart","bar",M.map(J=>J.city),M.map(J=>J.total),E.teal)}if(r.search_trends?.length>0){const M=document.getElementById("trendsChart");if(M){const J=M.getContext("2d").createLinearGradient(0,0,0,300);J.addColorStop(0,E.tealLight),J.addColorStop(1,"rgba(255,255,255,0)");const R=new kl(M,{type:"line",data:{labels:r.search_trends.map(ee=>Qre(ee.date)),datasets:[{label:"Daily Searches",data:r.search_trends.map(ee=>ee.total),backgroundColor:J,borderColor:E.tealSolid,borderWidth:3,fill:!0,tension:.4,pointRadius:6,pointBackgroundColor:E.limeGreenSolid,pointBorderColor:"#fff",pointBorderWidth:2,pointHoverRadius:8}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:t?"rgba(0,0,0,0.9)":"rgba(255,255,255,0.95)",titleColor:t?"#fff":"#000",bodyColor:t?"#e5e7eb":"#374151",borderColor:E.tealSolid,borderWidth:1,padding:12,cornerRadius:8}},animation:{duration:1200,easing:"easeOutQuart"},scales:{y:{beginAtZero:!0,grid:{color:t?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.05)"},ticks:{color:t?"#9ca3af":"#6b7280",font:{size:11,weight:"600"}}},x:{grid:{display:!1},ticks:{color:t?"#9ca3af":"#6b7280",font:{size:11,weight:"600"}}}}}});k.current.trendsChart=R}}return()=>A()},[t,r]);const G=()=>{localStorage.clear(),window.location.href="/auth"};return u?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-t-transparent rounded-full animate-spin mx-auto mb-4",style:{borderColor:Tt.teal,borderTopColor:"transparent"}}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading statistics..."})]})}):p?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-red-100 dark:bg-red-900/20 flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-3xl",children:""})}),e.jsx("p",{className:"text-red-600 dark:text-red-400 mb-4",children:p}),e.jsx(K,{onClick:()=>window.location.reload(),style:{backgroundColor:Tt.teal},children:"Retry"})]})}):r?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900",children:[e.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:[e.jsx(Ve.div,{animate:{scale:[1,1.15,1],opacity:[.08,.12,.08]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute -top-1/4 -left-1/4 w-1/3 h-1/3 rounded-full blur-3xl",style:{backgroundColor:`${Tt.darkBlue}30`}}),e.jsx(Ve.div,{animate:{scale:[1,1.2,1],opacity:[.06,.1,.06]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:2},className:"absolute top-1/2 -right-1/4 w-1/3 h-1/3 rounded-full blur-3xl",style:{backgroundColor:`${Tt.teal}30`}})]}),e.jsx("header",{className:"border-b border-gray-200 dark:border-gray-800 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl sticky top-0 z-50 shadow-sm",children:e.jsx("div",{className:"container mx-auto px-4 md:px-6 py-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(Qd,{className:"w-6 h-6 md:w-7 md:h-7",style:{color:Tt.teal}}),e.jsx("div",{children:e.jsx("h1",{className:"text-lg md:text-2xl font-bold bg-gradient-to-r from-[#0E4C81] via-[#008C95] to-[#8AC640] bg-clip-text text-transparent",children:"Search Analytics"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[a&&e.jsxs(Me,{variant:"outline",className:"hidden md:flex items-center gap-2 px-3 py-1",style:{borderColor:Tt.teal},children:[e.jsx(fs,{className:"w-3 h-3",style:{color:Tt.teal}}),e.jsx("span",{className:"text-sm font-semibold",children:a?.username||"User"})]}),e.jsx(K,{variant:"ghost",size:"icon",onClick:D,className:"hover:bg-gray-100 dark:hover:bg-gray-800 h-9 w-9","aria-label":"Toggle dark mode",children:t?e.jsx(vg,{className:"w-4 h-4"}):e.jsx(bg,{className:"w-4 h-4"})}),e.jsx(K,{variant:"ghost",size:"icon",onClick:G,className:"hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-600 h-9 w-9","aria-label":"Log out",children:e.jsx(yl,{className:"w-4 h-4"})})]})]})})}),e.jsxs("main",{className:"container mx-auto px-4 md:px-6 py-6 md:py-8 max-w-7xl relative z-10",children:[e.jsxs(Ve.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[o3.map(A=>e.jsx(K,{variant:x===A.key?"default":"outline",size:"sm",onClick:()=>v(A.key),style:x===A.key?{backgroundColor:Tt.teal}:{},children:A.label},A.key)),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Custom:"}),e.jsx("input",{type:"date",value:j,onChange:A=>w(A.target.value),className:"rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm px-2 py-1.5"}),e.jsx("span",{className:"text-gray-500",children:""}),e.jsx("input",{type:"date",value:_,onChange:A=>N(A.target.value),className:"rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm px-2 py-1.5"}),e.jsx(K,{size:"sm",onClick:()=>v("custom"),disabled:!j||!_,style:{backgroundColor:Tt.darkBlue},children:"Apply"})]})]}),e.jsx("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:l?.label??"All time"})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4 mb-6 md:mb-8",children:[e.jsx(Up,{icon:tm,title:"Total Searches",value:r.total_searches?.toLocaleString()??"0",gradient:`linear-gradient(135deg, ${Tt.darkBlue}, ${Tt.teal})`,delay:0}),e.jsx(Up,{icon:fs,title:"Active Users",value:r.total_users?.toString()??"0",subtitle:Number(r.total_users)>0?`~${Math.round(Number(r.total_searches)/Number(r.total_users))} avg searches`:void 0,gradient:`linear-gradient(135deg, ${Tt.teal}, ${Tt.limeGreen})`,delay:.1}),e.jsx(Up,{icon:bl,title:"Top Make",value:r.by_make?.[0]?.make||"",subtitle:`${r.by_make?.[0]?.total||0} searches`,gradient:`linear-gradient(135deg, ${Tt.limeGreen}, ${Tt.teal})`,delay:.2}),e.jsx(Up,{icon:ll,title:"Popular Category",value:r.by_category?.[0]?.category||"",subtitle:`${r.by_category?.[0]?.total||0} searches`,gradient:`linear-gradient(135deg, ${Tt.darkBlue}, ${Tt.limeGreen})`,delay:.3})]}),r.search_trends?.length>0&&e.jsx(Ve.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"mb-6 md:mb-8",children:e.jsx(Te,{className:"bg-white/90 dark:bg-gray-900/90 backdrop-blur shadow-xl rounded-xl border hover:shadow-2xl transition-all duration-300",style:{borderColor:`${Tt.teal}40`},children:e.jsxs(Re,{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-9 h-9 md:w-10 md:h-10 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${Tt.darkBlue}, ${Tt.teal})`},children:e.jsx(bl,{className:"w-4 h-4 md:w-5 md:h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base md:text-lg font-bold dark:text-white",children:"Search Trends"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Daily activity"})]})]}),e.jsx(Me,{className:"text-xs px-2 py-1",style:{backgroundColor:`${Tt.limeGreen}30`,color:Tt.limeGreen},children:l?.label??(r.search_trends.length?`${r.search_trends.length} points`:"")})]}),e.jsx("div",{className:"h-48 md:h-56",children:e.jsx("canvas",{id:"trendsChart"})})]})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6 mb-6 md:mb-8",children:[r.by_category?.length>0&&e.jsx(Od,{title:"By Category",subtitle:"Distribution",icon:zt,id:"catChart",delay:.5}),r.by_make?.length>0&&e.jsx(Od,{title:"Top Makes",subtitle:"Most searched",icon:Ys,id:"makeChart",delay:.6}),r.by_transmission?.length>0&&e.jsx(Od,{title:"Transmission",subtitle:"Preferences",icon:ll,id:"transChart",delay:.7}),r.by_fuel_type?.length>0&&e.jsx(Od,{title:"Fuel Type",subtitle:"Distribution",icon:_g,id:"fuelChart",delay:.8}),r.by_drive_type?.length>0&&e.jsx(Od,{title:"Drive Type",subtitle:"Distribution",icon:ll,id:"driveChart",delay:.85}),r.by_city?.length>0&&e.jsx(Od,{title:"Top Cities",subtitle:"Most searched",icon:bs,id:"cityChart",delay:.9})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6 mb-6 md:mb-8",children:[r.by_price_range?.length>0&&e.jsx(Ve.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:.95},children:e.jsx(Te,{className:"bg-white/90 dark:bg-gray-900/90 backdrop-blur shadow-xl rounded-xl border",style:{borderColor:`${Tt.teal}40`},children:e.jsxs(Re,{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${Tt.darkBlue}, ${Tt.teal})`},children:e.jsx(Bs,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-bold dark:text-white",children:"By Price Range"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Daily rate ranges"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[e.jsx("th",{className:"text-left py-2 font-semibold dark:text-white",children:"Range"}),e.jsx("th",{className:"text-right py-2 font-semibold dark:text-white",children:"Searches"})]})}),e.jsx("tbody",{children:r.by_price_range.map((A,F)=>e.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800",children:[e.jsx("td",{className:"py-2 text-gray-700 dark:text-gray-300",children:A.daily_rate_min!=null||A.daily_rate_max!=null?`${A.daily_rate_min??""}  ${A.daily_rate_max??""}`:"Any"}),e.jsx("td",{className:"py-2 text-right font-medium dark:text-white",children:A.total})]},F))})]})})]})})}),r.top_features?.length>0&&e.jsx(Ve.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:1},children:e.jsx(Te,{className:"bg-white/90 dark:bg-gray-900/90 backdrop-blur shadow-xl rounded-xl border",style:{borderColor:`${Tt.darkBlue}40`},children:e.jsxs(Re,{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${Tt.teal}, ${Tt.limeGreen})`},children:e.jsx(jg,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-bold dark:text-white",children:"Top Features"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Popular options"})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.top_features.map((A,F)=>e.jsxs(Me,{variant:"secondary",className:"text-xs px-3 py-1",style:{backgroundColor:`${Tt.teal}20`,color:Tt.darkBlue},children:[A.feature," (",A.count,")"]},F))})]})})})]}),r.most_active_users?.length>0&&e.jsx(Ve.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:1.05},className:"mb-6 md:mb-8",children:e.jsx(Te,{className:"bg-white/90 dark:bg-gray-900/90 backdrop-blur shadow-xl rounded-xl border",style:{borderColor:`${Tt.limeGreen}40`},children:e.jsxs(Re,{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${Tt.limeGreen}, ${Tt.teal})`},children:e.jsx(wg,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-bold dark:text-white",children:"Most Active Users"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Top searchers"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[e.jsx("th",{className:"text-left py-2 font-semibold dark:text-white",children:"User"}),e.jsx("th",{className:"text-right py-2 font-semibold dark:text-white",children:"Searches"})]})}),e.jsx("tbody",{children:r.most_active_users.map(A=>e.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800",children:[e.jsx("td",{className:"py-2 text-gray-700 dark:text-gray-300",children:A.user_name??`User #${A.user_id}`}),e.jsx("td",{className:"py-2 text-right font-medium dark:text-white",children:A.total_searches})]},A.user_id))})]})})]})})}),e.jsx(Ve.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:.9},children:e.jsx(Te,{className:"bg-white/90 dark:bg-gray-900/90 backdrop-blur shadow-xl rounded-xl border",style:{borderColor:`${Tt.darkBlue}40`},children:e.jsxs(Re,{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-9 h-9 md:w-10 md:h-10 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${Tt.darkBlue}, ${Tt.teal})`},children:e.jsx(hu,{className:"w-4 h-4 md:w-5 md:h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base md:text-lg font-bold dark:text-white",children:"Recent Searches"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Latest queries"})]})]}),r.recent_searches?.length>0?e.jsx("div",{className:"space-y-2",children:r.recent_searches.map((A,F)=>e.jsxs(Ve.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:1+F*.1},className:"flex flex-col md:flex-row md:items-center justify-between p-3 rounded-lg bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-700 hover:shadow-md transition-all duration-300 gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-1",children:[e.jsxs("p",{className:"font-bold text-sm md:text-base dark:text-white truncate",children:[A.make||"Any Make"," ",A.model||""]}),A.year_min!=null&&e.jsxs(Me,{variant:"secondary",className:"text-xs px-2 py-0.5",children:[A.year_min,"",A.year_max??""]}),A.user_name&&e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["by ",A.user_name]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400 flex-wrap",children:[A.city&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(bs,{className:"w-3 h-3",style:{color:Tt.teal}}),A.city]}),(A.daily_rate_min!=null||A.daily_rate_max!=null)&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Bs,{className:"w-3 h-3"}),A.daily_rate_min??"","  ",A.daily_rate_max??""]}),A.transmission&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(ll,{className:"w-3 h-3",style:{color:Tt.teal}}),A.transmission]}),A.fuel_type&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(_g,{className:"w-3 h-3",style:{color:Tt.limeGreen}}),A.fuel_type]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Rs,{className:"w-3 h-3"}),A.last_searched_at?new Date(A.last_searched_at).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):""]})]})]}),e.jsxs(Me,{className:"self-start md:self-center text-xs md:text-sm px-3 py-1 font-bold",style:{backgroundColor:`${Tt.teal}30`,color:Tt.teal},children:[A.search_count,""]})]},A.id))}):e.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 italic py-8 text-sm",children:"No recent searches"})]})})})]})]}):null},Up=({icon:t,title:s,value:a,subtitle:n,gradient:r,delay:i})=>e.jsx(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:i},whileHover:{scale:1.02,y:-3},children:e.jsx(Te,{className:"bg-white/90 dark:bg-gray-900/90 backdrop-blur shadow-lg rounded-xl border-0 hover:shadow-xl transition-all duration-300 h-full",children:e.jsxs(Re,{className:"p-3 md:p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("div",{className:"w-9 h-9 md:w-11 md:h-11 rounded-xl flex items-center justify-center shadow-md",style:{background:r},children:e.jsx(t,{className:"w-4 h-4 md:w-5 md:h-5 text-white"})}),e.jsx(Me,{variant:"secondary",className:"text-[9px] md:text-[10px] px-1.5 py-0.5",children:"Live"})]}),e.jsx("p",{className:"text-[10px] md:text-xs text-gray-600 dark:text-gray-400 font-medium mb-1",children:s}),e.jsx("p",{className:"text-xl md:text-3xl font-black dark:text-white mb-0.5",children:a}),n&&e.jsx("p",{className:"text-[9px] md:text-xs text-gray-500 dark:text-gray-500",children:n})]})})}),Od=({title:t,subtitle:s,icon:a,id:n,delay:r})=>e.jsx(Ve.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:r},whileHover:{scale:1.01},children:e.jsx(Te,{className:"bg-white/90 dark:bg-gray-900/90 backdrop-blur shadow-xl rounded-xl border hover:shadow-2xl transition-all duration-300",style:{borderColor:`${Tt.teal}40`},children:e.jsxs(Re,{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-9 h-9 md:w-10 md:h-10 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${Tt.darkBlue}, ${Tt.teal})`},children:e.jsx(a,{className:"w-4 h-4 md:w-5 md:h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm md:text-base font-bold dark:text-white",children:t}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:s})]})]}),e.jsx("div",{className:"h-48 md:h-56",children:e.jsx("canvas",{id:n})})]})})});function Jre(){return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[e.jsx("div",{className:"bg-gradient-to-r from-teal-600 to-cyan-700 text-white py-12 px-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Bn,{className:"w-12 h-12"}),e.jsx("h1",{className:"text-4xl font-bold",children:"Privacy Policy"})]}),e.jsx("p",{className:"text-blue-100 text-lg",children:"Rento LB - Car Rental Marketplace"}),e.jsx("p",{className:"text-blue-200 text-sm mt-2",children:"Last updated: December 2025"})]})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-sm p-8 mb-6",children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:'Rento LB ("Rento", "we", "us", or "our") operates a mobile application that enables users to search, book, and connect with car rental providers in Lebanon. The application is operated by Rami Zeaiter as an individual developer on behalf of the Rento LB service. We are committed to protecting your privacy and handling your data in a transparent and secure manner.'})}),e.jsxs(Dn,{icon:e.jsx(_i,{}),title:"1. Who We Are (Data Controller)",color:"blue",children:[e.jsxs(eie,{children:[e.jsx(Ld,{label:"Operator",value:"Rami Zeaiter"}),e.jsx(Ld,{label:"Service Name",value:"Rento LB"}),e.jsx(Ld,{label:"Official App Email",value:"social@rento-lb.com",icon:e.jsx(Nr,{className:"w-4 h-4"})}),e.jsx(Ld,{label:"Support Email",value:"ramizaiter1989@gmail.com",icon:e.jsx(Nr,{className:"w-4 h-4"})}),e.jsx(Ld,{label:"Phone",value:"+961 81 001 301",icon:e.jsx(Gr,{className:"w-4 h-4"})}),e.jsx(Ld,{label:"Service Area",value:"Lebanon",icon:e.jsx(bs,{className:"w-4 h-4"})})]}),e.jsx("p",{className:"mt-4 text-gray-600 italic",children:"Rento LB acts as a digital marketplace that facilitates search and booking between renters and car owners or rental agencies."})]}),e.jsxs(Dn,{icon:e.jsx(gl,{}),title:"2. Information We Collect",color:"purple",children:[e.jsxs(cv,{title:"A. Information You Provide",children:[e.jsx("p",{className:"text-gray-600 mb-3",children:"We may collect the following data when you use the app:"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx(hs,{children:"Full name"}),e.jsx(hs,{children:"Phone number"}),e.jsx(hs,{children:"Email address"}),e.jsx(hs,{children:"Government-issued ID (passport or national ID)"}),e.jsx(hs,{children:"Driver's license"}),e.jsx(hs,{children:"Booking requests and history"}),e.jsx(hs,{children:"Messages, feedback, support tickets, and appeals"})]}),e.jsx("div",{className:"mt-4 bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded",children:e.jsxs("p",{className:"text-yellow-800 font-medium flex items-center gap-2",children:[e.jsx(pl,{className:"w-5 h-5"}),"We do not collect selfie or facial verification data."]})})]}),e.jsxs(cv,{title:"B. Car Owner Information",children:[e.jsx("p",{className:"text-gray-600 mb-3",children:"If you list a vehicle (private owner or agency), we may collect:"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx(hs,{children:"Identity and contact information"}),e.jsx(hs,{children:"Vehicle details and registration documents"}),e.jsx(hs,{children:"Uploaded images and legal documentation"})]}),e.jsx("p",{className:"mt-3 text-gray-600 text-sm",children:"Each submission is reviewed, and we reserve the right to approve or reject any listing if documents are missing, incomplete, or not legally valid."})]}),e.jsx(cv,{title:"C. Automatically Collected Data",children:e.jsxs("ul",{className:"space-y-2",children:[e.jsx(hs,{children:"App usage data (non-sensitive)"}),e.jsx(hs,{children:"Device and technical information (for app functionality and security)"})]})})]}),e.jsx(Dn,{icon:e.jsx(bs,{}),title:"3. Location Data",color:"green",children:e.jsx("p",{className:"text-gray-600",children:"We may use location data only to display available cars within Lebanon and improve search results. We do not track users continuously or in the background."})}),e.jsx(Dn,{icon:e.jsx(Bs,{}),title:"4. Payments",color:"emerald",children:e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:e.jsxs("ul",{className:"space-y-3",children:[e.jsxs(hs,{color:"green",children:["Payments are currently ",e.jsx("strong",{children:"cash only"})]}),e.jsx(hs,{color:"green",children:"All payments are made directly between renter and car owner"}),e.jsx(hs,{color:"green",children:"Rento LB does not process, store, or collect payment information"}),e.jsx(hs,{color:"green",children:"A commission model may be introduced in the future, and users will be informed in advance"})]})})}),e.jsxs(Dn,{icon:e.jsx(Rn,{}),title:"5. Purpose of Data Collection",color:"indigo",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"We collect and use data to:"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx(hs,{children:"Enable car search and booking"}),e.jsx(hs,{children:"Verify eligibility to rent vehicles"}),e.jsx(hs,{children:"Connect renters with car owners or agencies"}),e.jsx(hs,{children:"Ensure safety, legality, and transparency"}),e.jsx(hs,{children:"Manage ratings, reviews, feedback, and disputes"}),e.jsx(hs,{children:"Provide customer support and communication"}),e.jsx(hs,{children:"Improve app functionality and user experience"})]})]}),e.jsx(Dn,{icon:e.jsx(pl,{}),title:"6. Marketplace Responsibility Disclaimer",color:"orange",children:e.jsxs("div",{className:"bg-orange-50 border-l-4 border-orange-400 p-6 rounded",children:[e.jsx("p",{className:"text-orange-900 font-semibold mb-3",children:"Rento LB acts only as an intermediary platform."}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx(hs,{color:"orange",children:"We facilitate search, booking, and connection"}),e.jsx(hs,{color:"orange",children:"We are not responsible for future actions, disputes, damages, or agreements between renters and owners"}),e.jsx(hs,{color:"orange",children:"Any rental agreement is strictly between the two parties"})]})]})}),e.jsx(Dn,{icon:e.jsx(fs,{}),title:"7. Data Sharing & Disclosure",color:"red",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[e.jsx("p",{className:"text-red-900 font-semibold mb-4",children:"We do not sell or share personal data with third parties."}),e.jsx("p",{className:"text-gray-600 mb-3",children:"Data may only be disclosed if:"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx(hs,{children:"Required by Lebanese law"}),e.jsx(hs,{children:"Ordered by a court or legal authority"}),e.jsx(hs,{children:"Necessary to protect users, legal rights, or public safety"})]})]})}),e.jsxs(Dn,{icon:e.jsx(Bn,{}),title:"8. User Rights & Control",color:"cyan",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Both renters and owners have the right to:"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[e.jsx(Mh,{children:"Accept or reject booking requests"}),e.jsx(Mh,{children:"Delete their listings or accounts"}),e.jsx(Mh,{children:"Request correction or deletion of personal data"}),e.jsx(Mh,{children:"Submit feedback, appeals, or support tickets"}),e.jsx(Mh,{children:"Rate and review each other"})]}),e.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-gray-700",children:["To request data deletion, contact:"," ",e.jsx("a",{href:"mailto:social@rento-lb.com",className:"text-blue-600 font-semibold hover:underline",children:"social@rento-lb.com"})]})})]}),e.jsxs(Dn,{icon:e.jsx(ol,{}),title:"9. Data Security",color:"slate",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"We apply reasonable administrative and technical measures to protect your data from:"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsx(dv,{children:"Unauthorized access"}),e.jsx(dv,{children:"Loss or misuse"}),e.jsx(dv,{children:"Alteration or disclosure"})]}),e.jsx("p",{className:"mt-4 text-gray-600 italic",children:"Access to data is strictly limited to authorized personnel."})]}),e.jsxs(Dn,{icon:e.jsx(Rs,{}),title:"10. Data Retention",color:"violet",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"We retain personal data only as long as necessary to:"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx(hs,{children:"Operate the service"}),e.jsx(hs,{children:"Comply with legal obligations"}),e.jsx(hs,{children:"Resolve disputes"})]}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Users may request deletion at any time unless retention is legally required."})]}),e.jsx(Dn,{icon:e.jsx(_i,{}),title:"11. Minimum Age Requirement",color:"pink",children:e.jsx("div",{className:"bg-pink-50 border-l-4 border-pink-400 p-6 rounded",children:e.jsx("p",{className:"text-pink-900 font-semibold text-lg",children:"You must be at least 18 years old to use Rento LB."})})}),e.jsxs(Dn,{icon:e.jsx(Rn,{}),title:"12. Transparency & Legal Compliance",color:"teal",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"All vehicles listed on Rento LB must be:"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsx(uv,{children:"Fully legal"}),e.jsx(uv,{children:"Properly documented"}),e.jsx(uv,{children:"Approved by our review team"})]}),e.jsx("p",{className:"mt-4 text-gray-600",children:"We reserve the right to reject or remove any content or listing that does not meet legal or platform standards."})]}),e.jsx(Dn,{icon:e.jsx(gl,{}),title:"13. Changes to This Policy",color:"gray",children:e.jsx("p",{className:"text-gray-600",children:"We may update this Privacy Policy from time to time. Any changes will be published inside the app and become effective immediately."})}),e.jsxs(Dn,{icon:e.jsx(Nr,{}),title:"14. Contact Us",color:"blue",children:[e.jsx("p",{className:"text-gray-600 mb-6",children:"If you have any questions or requests regarding this Privacy Policy:"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsx(hv,{icon:e.jsx(Nr,{className:"w-5 h-5"}),value:"social@rento-lb.com",href:"mailto:social@rento-lb.com"}),e.jsx(hv,{icon:e.jsx(Nr,{className:"w-5 h-5"}),value:"ramizaiter1989@gmail.com",href:"mailto:ramizaiter1989@gmail.com"}),e.jsx(hv,{icon:e.jsx(Gr,{className:"w-5 h-5"}),value:"+961 81 001 301",href:"tel:+96181001301"})]})]})]}),e.jsx("div",{className:"bg-slate-800 text-slate-300 py-8 px-6 mt-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx("p",{className:"text-sm",children:" 2025 Rento LB. Operated by Rami Zeaiter. All rights reserved."}),e.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"This privacy policy is effective as of December 2025"})]})})]})}function Dn({icon:t,title:s,children:a,color:n="blue"}){const r={blue:"text-blue-600 bg-blue-50",purple:"text-purple-600 bg-purple-50",green:"text-green-600 bg-green-50",emerald:"text-emerald-600 bg-emerald-50",indigo:"text-indigo-600 bg-indigo-50",orange:"text-orange-600 bg-orange-50",red:"text-red-600 bg-red-50",cyan:"text-cyan-600 bg-cyan-50",slate:"text-slate-600 bg-slate-50",violet:"text-violet-600 bg-violet-50",pink:"text-pink-600 bg-pink-50",teal:"text-teal-600 bg-teal-50",gray:"text-gray-600 bg-gray-50"};return e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-8 mb-6",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-6",children:[e.jsx("div",{className:`${r[n]} p-2 rounded-lg`,children:qe.cloneElement(t,{className:"w-6 h-6"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 flex-1",children:s})]}),a]})}function cv({title:t,children:s}){return e.jsxs("div",{className:"mb-6 last:mb-0",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:t}),s]})}function hs({children:t,color:s="blue"}){const a={blue:"bg-blue-500",green:"bg-green-500",orange:"bg-orange-500"};return e.jsxs("li",{className:"flex items-start gap-3 text-gray-700",children:[e.jsx("span",{className:`${a[s]} w-1.5 h-1.5 rounded-full mt-2 flex-shrink-0`}),e.jsx("span",{children:t})]})}function eie({children:t}){return e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:t})}function Ld({label:t,value:s,icon:a}){return e.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:t}),e.jsxs("p",{className:"text-gray-900 font-medium flex items-center gap-2",children:[a&&e.jsx("span",{className:"text-blue-600",children:a}),s]})]})}function Mh({children:t}){return e.jsxs("div",{className:"bg-cyan-50 border border-cyan-200 rounded-lg p-4 flex items-center gap-3",children:[e.jsx(Rn,{className:"w-5 h-5 text-cyan-600 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:t})]})}function dv({children:t}){return e.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4 flex items-center gap-3",children:[e.jsx(ol,{className:"w-5 h-5 text-slate-600 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:t})]})}function uv({children:t}){return e.jsxs("div",{className:"bg-teal-50 border border-teal-200 rounded-lg p-4 text-center",children:[e.jsx(Rn,{className:"w-6 h-6 text-teal-600 mx-auto mb-2"}),e.jsx("span",{className:"text-gray-700 font-medium",children:t})]})}function hv({icon:t,value:s,href:a}){return e.jsxs("a",{href:a,className:"bg-blue-50 hover:bg-blue-100 transition-colors border border-blue-200 rounded-lg p-4 flex flex-col items-center gap-2 text-center",children:[e.jsx("div",{className:"text-blue-600",children:t}),e.jsx("span",{className:"text-gray-700 font-medium text-sm break-all",children:s})]})}function tie(){return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[e.jsx("div",{className:"bg-gradient-to-r from-cyan-700 to-teal-700 text-white py-12 px-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(gl,{className:"w-12 h-12"}),e.jsx("h1",{className:"text-4xl font-bold",children:"Terms & Conditions"})]}),e.jsx("p",{className:"text-emerald-100 text-lg",children:"Rento LB - Car Rental Marketplace"}),e.jsx("p",{className:"text-emerald-200 text-sm mt-2",children:"Last updated: December 2025"})]})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-sm p-8 mb-6",children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:'Welcome to Rento LB ("Rento", "we", "us", "our"). By accessing or using the Rento LB mobile application, you agree to these Terms & Conditions.'})}),e.jsxs(jr,{icon:e.jsx(Bn,{}),title:"1. Service Description",color:"blue",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Rento LB is a digital marketplace that allows users to:"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsx($r,{children:"Search and book rental cars"}),e.jsx($r,{children:"Connect directly with private car owners or rental agencies"})]}),e.jsx("div",{className:"mt-6 bg-blue-50 border-l-4 border-blue-400 p-4 rounded",children:e.jsxs("p",{className:"text-blue-900 font-semibold flex items-center gap-2",children:[e.jsx(qd,{className:"w-5 h-5"}),"Rento does not own vehicles and does not act as a rental company."]})})]}),e.jsx(jr,{icon:e.jsx(fs,{}),title:"2. Eligibility",color:"purple",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(mv,{icon:e.jsx(Rn,{}),color:"green",children:"Users must be at least 18 years old"}),e.jsx(mv,{icon:e.jsx(Rn,{}),color:"green",children:"Users must provide valid identification and a driver's license"}),e.jsx(mv,{icon:e.jsx(tr,{}),color:"red",children:"False or misleading information may result in account suspension"})]})}),e.jsxs(jr,{icon:e.jsx(fs,{}),title:"3. User Accounts",color:"indigo",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"You agree to:"}),e.jsx("div",{className:"bg-indigo-50 rounded-lg p-6 mb-4",children:e.jsxs("ul",{className:"space-y-3",children:[e.jsx($r,{children:"Provide accurate and legal information"}),e.jsx($r,{children:"Keep your account secure"}),e.jsx($r,{children:"Accept responsibility for activity under your account"})]})}),e.jsx("div",{className:"bg-orange-50 border-l-4 border-orange-400 p-4 rounded",children:e.jsx("p",{className:"text-orange-900 font-medium",children:"Rento reserves the right to suspend or terminate accounts that violate these terms."})})]}),e.jsxs(jr,{icon:e.jsx(zt,{}),title:"4. Car Owners & Listings",color:"cyan",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Car owners and agencies:"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[e.jsx(fv,{children:"Must upload legal vehicle documents"}),e.jsx(fv,{children:"Must ensure vehicles are road-legal and insured"}),e.jsx(fv,{children:"Have full right to accept or reject booking requests"})]}),e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsx("p",{className:"text-red-900 font-medium",children:"Rento may review, approve, reject, or remove any listing at its sole discretion."})})]}),e.jsx(jr,{icon:e.jsx(K2,{}),title:"5. Bookings & Payments",color:"green",children:e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(Hp,{icon:e.jsx(K2,{}),children:"Payments are currently cash only"}),e.jsx(Hp,{icon:e.jsx(fs,{}),children:"Payments are made directly to the car owner"}),e.jsx(Hp,{icon:e.jsx(tr,{}),children:"Rento does not handle or store payments"}),e.jsx(Hp,{icon:e.jsx(qd,{}),children:"A commission model may be introduced in the future with prior notice"})]})})}),e.jsx(jr,{icon:e.jsx(qd,{}),title:"6. Marketplace Disclaimer",color:"orange",children:e.jsxs("div",{className:"bg-orange-50 border-l-4 border-orange-500 p-6 rounded",children:[e.jsx("h3",{className:"font-bold text-orange-900 text-lg mb-4",children:"Rento:"}),e.jsxs("ul",{className:"space-y-3 mb-4",children:[e.jsx($r,{color:"orange",children:"Only facilitates search, booking, and connection"}),e.jsx($r,{color:"orange",children:"Is not responsible for disputes, damages, accidents, delays, or agreements"}),e.jsx($r,{color:"orange",children:"Is not a party to rental contracts"})]}),e.jsx("div",{className:"bg-orange-100 border border-orange-300 rounded p-4",children:e.jsx("p",{className:"text-orange-900 font-bold text-center",children:"All agreements are strictly between renter and owner."})})]})}),e.jsxs(jr,{icon:e.jsx(Ys,{}),title:"7. Ratings, Reviews & Feedback",color:"yellow",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Users may:"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-4",children:[e.jsx(pv,{children:"Rate and review each other"}),e.jsx(pv,{children:"Submit feedback"}),e.jsx(pv,{children:"File support tickets or appeals"})]}),e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsx("p",{className:"text-red-900 font-medium",children:"Abusive, false, or misleading content may be removed."})})]}),e.jsxs(jr,{icon:e.jsx(iD,{}),title:"8. Legal Compliance",color:"red",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Users must comply with:"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(V4,{children:"Lebanese laws and regulations"}),e.jsx(V4,{children:"Traffic, insurance, and rental requirements"})]}),e.jsx("div",{className:"mt-6 bg-red-50 border-l-4 border-red-500 p-4 rounded",children:e.jsx("p",{className:"text-red-900 font-bold",children:"Illegal behavior will result in immediate suspension."})})]}),e.jsxs(jr,{icon:e.jsx(WT,{}),title:"9. Account Termination",color:"slate",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"We reserve the right to suspend or terminate accounts for:"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsx(gv,{children:"Fraud"}),e.jsx(gv,{children:"Legal violations"}),e.jsx(gv,{children:"Abuse of the platform"})]})]}),e.jsx(jr,{icon:e.jsx(Bn,{}),title:"10. Limitation of Liability",color:"violet",children:e.jsxs("div",{className:"bg-violet-50 border border-violet-200 rounded-lg p-6",children:[e.jsx("p",{className:"text-violet-900 font-bold mb-4",children:"Rento shall not be liable for:"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsx($r,{color:"violet",children:"Losses or damages between users"}),e.jsx($r,{color:"violet",children:"Vehicle condition or availability"}),e.jsx($r,{color:"violet",children:"Third-party actions"})]})]})}),e.jsx(jr,{icon:e.jsx(gl,{}),title:"11. Changes to Terms",color:"teal",children:e.jsx("div",{className:"bg-teal-50 border border-teal-200 rounded-lg p-6",children:e.jsxs("p",{className:"text-gray-700",children:["Terms may be updated at any time."," ",e.jsx("span",{className:"font-bold text-teal-900",children:"Continued use means acceptance."})]})})}),e.jsxs(jr,{icon:e.jsx(Nr,{}),title:"12. Contact",color:"blue",children:[e.jsx("p",{className:"text-gray-600 mb-6",children:"If you have questions about these Terms & Conditions:"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsx(U4,{icon:e.jsx(Nr,{className:"w-5 h-5"}),value:"social@rento-lb.com",href:"mailto:social@rento-lb.com"}),e.jsx(U4,{icon:e.jsx(Gr,{className:"w-5 h-5"}),value:"+961 81 001 301",href:"tel:+96181001301"})]})]})]}),e.jsx("div",{className:"bg-slate-800 text-slate-300 py-8 px-6 mt-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx("p",{className:"text-sm",children:" 2025 Rento LB. Operated by Rami Zeaiter. All rights reserved."}),e.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"These terms are effective as of December 2025"})]})})]})}function jr({icon:t,title:s,children:a,color:n="blue"}){const r={blue:"text-blue-600 bg-blue-50",purple:"text-purple-600 bg-purple-50",indigo:"text-indigo-600 bg-indigo-50",cyan:"text-cyan-600 bg-cyan-50",green:"text-green-600 bg-green-50",yellow:"text-yellow-600 bg-yellow-50",orange:"text-orange-600 bg-orange-50",red:"text-red-600 bg-red-50",slate:"text-slate-600 bg-slate-50",violet:"text-violet-600 bg-violet-50",teal:"text-teal-600 bg-teal-50"};return e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-8 mb-6",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-6",children:[e.jsx("div",{className:`${r[n]} p-2 rounded-lg`,children:qe.cloneElement(t,{className:"w-6 h-6"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 flex-1",children:s})]}),a]})}function $r({children:t,color:s="blue"}){const a={blue:"bg-blue-500",orange:"bg-orange-500",violet:"bg-violet-500"};return e.jsxs("li",{className:"flex items-start gap-3 text-gray-700",children:[e.jsx("span",{className:`${a[s]} w-1.5 h-1.5 rounded-full mt-2 flex-shrink-0`}),e.jsx("span",{children:t})]})}function mv({icon:t,color:s,children:a}){const n={green:"bg-green-50 border-green-200 text-green-900",red:"bg-red-50 border-red-200 text-red-900"};return e.jsxs("div",{className:`${n[s]} border rounded-lg p-4 flex items-center gap-3`,children:[qe.cloneElement(t,{className:"w-5 h-5 flex-shrink-0"}),e.jsx("span",{className:"font-medium",children:a})]})}function fv({children:t}){return e.jsxs("div",{className:"bg-cyan-50 border border-cyan-200 rounded-lg p-4 flex items-center gap-3",children:[e.jsx(Rn,{className:"w-5 h-5 text-cyan-600 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:t})]})}function Hp({icon:t,children:s}){return e.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[e.jsx("div",{className:"text-green-600 mt-1",children:qe.cloneElement(t,{className:"w-5 h-5"})}),e.jsx("span",{className:"font-medium",children:s})]})}function pv({children:t}){return e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 text-center",children:[e.jsx(Ys,{className:"w-6 h-6 text-yellow-600 mx-auto mb-2"}),e.jsx("span",{className:"text-gray-700 font-medium",children:t})]})}function V4({children:t}){return e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-3",children:[e.jsx(iD,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700 font-medium",children:t})]})}function gv({children:t}){return e.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4 text-center",children:[e.jsx(WT,{className:"w-6 h-6 text-slate-600 mx-auto mb-2"}),e.jsx("span",{className:"text-gray-700 font-medium",children:t})]})}function U4({icon:t,value:s,href:a}){return e.jsxs("a",{href:a,className:"bg-blue-50 hover:bg-blue-100 transition-colors border border-blue-200 rounded-lg p-6 flex flex-col items-center gap-3 text-center",children:[e.jsx("div",{className:"text-blue-600",children:t}),e.jsx("span",{className:"text-gray-700 font-medium break-all",children:s})]})}const sie="https://play.google.com/store/apps/details?id=com.rentolb.app&pcampaignid=web_share",aie="https://apps.apple.com/us/app/rento-lb/id6756906813?l=en-GB";function nie(){return e.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-12",children:e.jsxs("div",{className:"w-full max-w-5xl mx-auto space-y-10",children:[e.jsxs("div",{className:"text-center space-y-3",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold tracking-tight text-gray-900 dark:text-white",children:"Rento LB Mobile App"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:["Book cars on the go with our mobile app on both"," ",e.jsx("span",{className:"font-semibold",children:"Google Play"})," and"," ",e.jsx("span",{className:"font-semibold",children:"Apple App Store"}),"."]})]}),e.jsxs("div",{className:"grid gap-8 md:grid-cols-2",children:[e.jsxs("a",{href:sie,target:"_blank",rel:"noopener noreferrer",className:"group flex flex-col items-center gap-6 p-4",children:[e.jsx("div",{className:"w-full flex justify-center mobile-phone-3d",children:e.jsx("img",{src:"/mobileapp.png",alt:"Rento LB mobile app preview for Google Play"})}),e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("p",{className:"text-sm font-medium uppercase tracking-[0.2em] text-emerald-600 dark:text-emerald-400",children:"Get it on"}),e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/7/78/Google_Play_Store_badge_EN.svg",alt:"Get it on Google Play",className:"h-10 sm:h-12"})]})]}),e.jsxs("a",{href:aie,target:"_blank",rel:"noopener noreferrer",className:"group flex flex-col items-center gap-6 p-4",children:[e.jsx("div",{className:"w-full flex justify-center mobile-phone-3d",children:e.jsx("img",{src:"/mobileapp.png",alt:"Rento LB mobile app preview for App Store"})}),e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("p",{className:"text-sm font-medium uppercase tracking-[0.2em] text-sky-700 dark:text-sky-400",children:"Download on the"}),e.jsx("img",{src:"https://developer.apple.com/assets/elements/badges/download-on-the-app-store.svg",alt:"Download on the App Store",className:"h-10 sm:h-12"})]})]})]}),e.jsxs("p",{className:"text-xs text-center text-gray-500 dark:text-gray-400",children:["Note: Make sure the image file is available at ",e.jsx("code",{children:"/mobile-app.png"})," in your"," ",e.jsx("code",{children:"public"})," folder so that the preview renders correctly."]})]})})}var rie=Symbol("radix.slottable");function iie(t){const s=({children:a})=>e.jsx(e.Fragment,{children:a});return s.displayName=`${t}.Slottable`,s.__radixId=rie,s}var l3="AlertDialog",[oie]=nr(l3,[TR]),vo=TR(),c3=t=>{const{__scopeAlertDialog:s,...a}=t,n=vo(s);return e.jsx(qR,{...n,...a,modal:!0})};c3.displayName=l3;var lie="AlertDialogTrigger",cie=y.forwardRef((t,s)=>{const{__scopeAlertDialog:a,...n}=t,r=vo(a);return e.jsx(GR,{...r,...n,ref:s})});cie.displayName=lie;var die="AlertDialogPortal",d3=t=>{const{__scopeAlertDialog:s,...a}=t,n=vo(s);return e.jsx(WR,{...n,...a})};d3.displayName=die;var uie="AlertDialogOverlay",u3=y.forwardRef((t,s)=>{const{__scopeAlertDialog:a,...n}=t,r=vo(a);return e.jsx(vw,{...r,...n,ref:s})});u3.displayName=uie;var Xd="AlertDialogContent",[hie,mie]=oie(Xd),fie=iie("AlertDialogContent"),h3=y.forwardRef((t,s)=>{const{__scopeAlertDialog:a,children:n,...r}=t,i=vo(a),l=y.useRef(null),d=Ht(s,l),u=y.useRef(null);return e.jsx(sW,{contentName:Xd,titleName:m3,docsSlug:"alert-dialog",children:e.jsx(hie,{scope:a,cancelRef:u,children:e.jsxs(jw,{role:"alertdialog",...i,...r,ref:d,onOpenAutoFocus:st(r.onOpenAutoFocus,h=>{h.preventDefault(),u.current?.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[e.jsx(fie,{children:n}),e.jsx(gie,{contentRef:l})]})})})});h3.displayName=Xd;var m3="AlertDialogTitle",f3=y.forwardRef((t,s)=>{const{__scopeAlertDialog:a,...n}=t,r=vo(a);return e.jsx(ww,{...r,...n,ref:s})});f3.displayName=m3;var p3="AlertDialogDescription",g3=y.forwardRef((t,s)=>{const{__scopeAlertDialog:a,...n}=t,r=vo(a);return e.jsx(Nw,{...r,...n,ref:s})});g3.displayName=p3;var pie="AlertDialogAction",x3=y.forwardRef((t,s)=>{const{__scopeAlertDialog:a,...n}=t,r=vo(a);return e.jsx(_w,{...r,...n,ref:s})});x3.displayName=pie;var y3="AlertDialogCancel",b3=y.forwardRef((t,s)=>{const{__scopeAlertDialog:a,...n}=t,{cancelRef:r}=mie(y3,a),i=vo(a),l=Ht(s,r);return e.jsx(_w,{...i,...n,ref:l})});b3.displayName=y3;var gie=({contentRef:t})=>{const s=`\`${Xd}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Xd}\` by passing a \`${p3}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Xd}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return y.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(s)},[s,t]),null},xie=c3,yie=d3,v3=u3,j3=h3,w3=x3,N3=b3,_3=f3,C3=g3;const Vx=xie,bie=yie,k3=y.forwardRef(({className:t,...s},a)=>e.jsx(v3,{className:mt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s,ref:a}));k3.displayName=v3.displayName;const Hm=y.forwardRef(({className:t,...s},a)=>e.jsxs(bie,{children:[e.jsx(k3,{}),e.jsx(j3,{ref:a,className:mt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...s})]}));Hm.displayName=j3.displayName;const qm=({className:t,...s})=>e.jsx("div",{className:mt("flex flex-col space-y-2 text-center sm:text-left",t),...s});qm.displayName="AlertDialogHeader";const Gm=({className:t,...s})=>e.jsx("div",{className:mt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});Gm.displayName="AlertDialogFooter";const Wm=y.forwardRef(({className:t,...s},a)=>e.jsx(_3,{ref:a,className:mt("text-lg font-semibold",t),...s}));Wm.displayName=_3.displayName;const Ym=y.forwardRef(({className:t,...s},a)=>e.jsx(C3,{ref:a,className:mt("text-sm text-muted-foreground",t),...s}));Ym.displayName=C3.displayName;const Km=y.forwardRef(({className:t,...s},a)=>e.jsx(w3,{ref:a,className:mt(Gj(),t),...s}));Km.displayName=w3.displayName;const Xm=y.forwardRef(({className:t,...s},a)=>e.jsx(N3,{ref:a,className:mt(Gj({variant:"outline"}),"mt-2 sm:mt-0",t),...s}));Xm.displayName=N3.displayName;var Ux="Switch",[vie]=nr(Ux),[jie,wie]=vie(Ux),S3=y.forwardRef((t,s)=>{const{__scopeSwitch:a,name:n,checked:r,defaultChecked:i,required:l,disabled:d,value:u="on",onCheckedChange:h,form:p,...f}=t,[x,v]=y.useState(null),j=Ht(s,D=>v(D)),w=y.useRef(!1),_=x?p||!!x.closest("form"):!0,[N,k]=co({prop:r,defaultProp:i??!1,onChange:h,caller:Ux});return e.jsxs(jie,{scope:a,checked:N,disabled:d,children:[e.jsx(Dt.button,{type:"button",role:"switch","aria-checked":N,"aria-required":l,"data-state":E3(N),"data-disabled":d?"":void 0,disabled:d,value:u,...f,ref:j,onClick:st(t.onClick,D=>{k(T=>!T),_&&(w.current=D.isPropagationStopped(),w.current||D.stopPropagation())})}),_&&e.jsx(D3,{control:x,bubbles:!w.current,name:n,value:u,checked:N,required:l,disabled:d,form:p,style:{transform:"translateX(-100%)"}})]})});S3.displayName=Ux;var A3="SwitchThumb",T3=y.forwardRef((t,s)=>{const{__scopeSwitch:a,...n}=t,r=wie(A3,a);return e.jsx(Dt.span,{"data-state":E3(r.checked),"data-disabled":r.disabled?"":void 0,...n,ref:s})});T3.displayName=A3;var Nie="SwitchBubbleInput",D3=y.forwardRef(({__scopeSwitch:t,control:s,checked:a,bubbles:n=!0,...r},i)=>{const l=y.useRef(null),d=Ht(l,i),u=vx(a),h=bx(s);return y.useEffect(()=>{const p=l.current;if(!p)return;const f=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(f,"checked").set;if(u!==a&&v){const j=new Event("click",{bubbles:n});v.call(p,a),p.dispatchEvent(j)}},[u,a,n]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...r,tabIndex:-1,ref:d,style:{...r.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});D3.displayName=Nie;function E3(t){return t?"checked":"unchecked"}var R3=S3,_ie=T3;const fn=y.forwardRef(({className:t,...s},a)=>e.jsx(R3,{className:mt("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...s,ref:a,children:e.jsx(_ie,{className:mt("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));fn.displayName=R3.displayName;const bm=(t={})=>xe.get("/admin/users",{params:t}),Cie=t=>xe.get(`/admin/users/${t}`),M3=(t={})=>{const s={with_images:!0,...t};return xe.get("/admin/cars",{params:s})},kie=t=>xe.get(`/admin/cars/${t}`),P3=(t,s)=>{const a=new FormData;return Object.keys(s).forEach(n=>{const r=s[n];r!=null&&(n.endsWith("_image")&&r instanceof File||n.endsWith("_image")&&typeof r=="string"?a.append(n,r):n.endsWith("_image")||(Array.isArray(r)||typeof r=="object"&&r!==null&&!(r instanceof File)?a.append(n,JSON.stringify(r)):a.append(n,r)))}),xe.put(`/admin/cars/${t}`,a,{headers:{"Content-Type":"multipart/form-data"}})},H4=(t,s)=>xe.put(`/admin/cars/${t}`,{car_accepted:s},{headers:{"Content-Type":"application/json"}}),Sie=t=>xe.delete(`/admin/cars/${t}`),Aie=(t,s,a)=>{const n=new FormData;return n.append("image",s),n.append("type",a),xe.post(`/admin/cars/${t}/photo`,n,{headers:{"Content-Type":"multipart/form-data"}})},Tie=async(t,s)=>(await xe.get(`/admin/cars/${t}/images/${s}/download`,{responseType:"blob"})).data,Die=(t={})=>xe.get("/admin/payments",{params:t}),Eie=t=>xe.post("/admin/payments/issue",t),Rie=t=>xe.get(`/admin/agents/${t}/fee-summary`),Mie=t=>xe.get(`/admin/agents/${t}/fee-percentage`),Pie=(t,s)=>xe.put(`/admin/agents/${t}/fee-percentage`,s),Oie=(t={})=>xe.get("/admin/announcements",{params:t}),Lie=t=>xe.delete(`/admin/announcements/${t}`),Bie=(t={})=>xe.get("/admin/appeals",{params:t}),Fie=(t,s)=>xe.put(`/admin/appeals/${t}`,s),Iie=(t={})=>xe.get("/admin/ads",{params:t}),$ie=t=>xe.post("/admin/ads",t),zie=t=>xe.delete(`/admin/ads/${t}`),Vie=(t={})=>xe.get("/admin/featured-cars",{params:t}),Uie=t=>xe.post("/admin/featured-cars",t),Hie=t=>xe.delete(`/admin/featured-cars/${t}`),qie=(t={})=>xe.get("/admin/holidays",{params:t}),Gie=t=>xe.post("/admin/holidays",t),Wie=t=>xe.delete(`/admin/holidays/${t}`),Yie=t=>xe.get(`/admin/real-user-data/${t}`),Kie=(t,s)=>xe.post(`/admin/real-user-data/${t}`,s),Xie=(t,s)=>xe.patch(`/admin/real-user-data/${t}/status`,s),Qie=t=>xe.delete(`/admin/real-user-data/${t}`),O3=(t={})=>xe.get("/admin/promo-codes",{params:t}),L3=t=>xe.post("/admin/promo-codes",t),B3=(t,s)=>xe.put(`/admin/promo-codes/${t}`,s),F3=t=>xe.delete(`/admin/promo-codes/${t}`),Zie=(t,s={})=>xe.get(`/admin/promo-codes/${t}/users`,{params:s}),Ej=(t,s={})=>xe.get(`/admin/brokers/${t}/referrals`,{params:s}),S1=t=>xe.post("/admin/users",{...t,role:"broker"}),I3=t=>xe.get(`/admin/brokers/${t}/balance`),$3=(t,s={})=>xe.get(`/admin/brokers/${t}/payouts`,{params:s}),Kg=(t,s={})=>xe.get(`/admin/brokers/${t}/commissions`,{params:s}),z3=t=>xe.post("/admin/broker-payouts",t),V3=(t={})=>xe.get("/admin/broker-commissions",{params:t}),U3=t=>xe.put(`/admin/broker-commissions/${t}/cancel`),H3=t=>xe.delete(`/admin/broker-referrals/${t}`),Jie=t=>xe.post("/admin/notifications/send-to-all",t),eoe=(t={})=>xe.get("/admin/otps",{params:t}),q3=(t={})=>xe.get("/services",{params:t}),toe=(t,s)=>{const a=new FormData;return Object.entries(s).forEach(([n,r])=>{r!=null&&(Array.isArray(r)?r.forEach(i=>{a.append(n,i)}):a.append(n,r))}),xe.post(`/admin/third-parties/${t}/services`,a,{headers:{"Content-Type":"multipart/form-data"}})},soe=(t,s)=>xe.put(`/admin/services/${t}`,s),G3=t=>xe.delete(`/admin/services/${t}`),W3=t=>xe.get(`/services/${t}/items`),aoe=(t,s)=>xe.post(`/admin/services/${t}/items`,s),noe=(t,s)=>xe.put(`/admin/services/items/${t}`,s),Y3=t=>xe.delete(`/admin/services/items/${t}`),K3=(t={})=>xe.get("/admin/third-parties",{params:t}),roe=t=>xe.post("/admin/third-parties",t),ioe=(t,s)=>xe.put(`/admin/third-parties/${t}`,s),X3=t=>xe.delete(`/admin/third-parties/${t}`),Q3=(t={})=>xe.get("/admin/feedbacks",{params:t}),Z3=t=>xe.delete(`/admin/feedbacks/${t}`),J3=(t,s,a="export")=>{const n=s.map(p=>p.label||p.key).join(","),r=t.map(p=>s.map(f=>{let x=p[f.key];if(f.transform&&typeof f.transform=="function"&&(x=f.transform(p)),x==null)return"";const v=String(x);return v.includes(",")||v.includes('"')||v.includes(`
`)?`"${v.replace(/"/g,'""')}"`:v}).join(",")),i=[n,...r].join(`
`),l="\uFEFF",d=new Blob([l+i],{type:"text/csv;charset=utf-8;"}),u=document.createElement("a"),h=URL.createObjectURL(d);u.setAttribute("href",h),u.setAttribute("download",`${a}.csv`),u.style.visibility="hidden",document.body.appendChild(u),u.click(),document.body.removeChild(u)},eO=(t,s,a="Export",n="export")=>{const r=`
    <div>
      <h1>${a}</h1>
      <p>Generated on: ${new Date().toLocaleString()}</p>
      <table>
        <thead>
          <tr>
            ${s.map(l=>`<th>${l.label||l.key}</th>`).join("")}
          </tr>
        </thead>
        <tbody>
          ${t.map(l=>`
            <tr>
              ${s.map(d=>`<td>${l[d.key]??""}</td>`).join("")}
            </tr>
          `).join("")}
        </tbody>
      </table>
    </div>
  `,i=window.open("","_blank");i.document.write(`
    <html>
      <head>
        <title>${n}</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 20px; }
          h1 { color: #333; }
          table { border-collapse: collapse; width: 100%; margin-top: 20px; }
          th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
          th { background-color: #f2f2f2; font-weight: bold; }
          @media print {
            body { margin: 0; }
            @page { margin: 1cm; }
          }
        </style>
      </head>
      <body>
        ${r}
      </body>
    </html>
  `),i.document.close(),i.focus(),setTimeout(()=>{i.print(),i.close()},250)};function tO({onSubmit:t,loading:s=!1}){const[a,n]=y.useState({user_id:"",website:"",company_type:"",image_url:"",target_url:"",ads_text:"",amount_cost:"",start_at:"",expire_at:"",online:!1}),r=l=>{const{name:d,value:u,type:h,checked:p}=l.target;n(f=>({...f,[d]:h==="checkbox"?p:u}))},i=l=>{l.preventDefault();const d={...a,user_id:parseInt(a.user_id),amount_cost:a.amount_cost?parseFloat(a.amount_cost):0,start_at:a.start_at||new Date().toISOString().slice(0,19).replace("T"," "),expire_at:a.expire_at||new Date(Date.now()+720*60*60*1e3).toISOString().slice(0,19).replace("T"," ")};t(d)};return e.jsxs("form",{onSubmit:i,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(q,{children:"User ID *"}),e.jsx(oe,{type:"number",name:"user_id",value:a.user_id,onChange:r,required:!0,placeholder:"Enter user ID"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(q,{children:"Start Date/Time *"}),e.jsx(oe,{type:"datetime-local",name:"start_at",value:a.start_at,onChange:r,required:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Expire Date/Time *"}),e.jsx(oe,{type:"datetime-local",name:"expire_at",value:a.expire_at,onChange:r,required:!0})]})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Website"}),e.jsx(oe,{type:"text",name:"website",value:a.website,onChange:r,placeholder:"example.com"})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Company Type"}),e.jsx(oe,{type:"text",name:"company_type",value:a.company_type,onChange:r,placeholder:"rental"})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Image URL"}),e.jsx(oe,{type:"text",name:"image_url",value:a.image_url,onChange:r,placeholder:"https://example.com/image.jpg or /path/to/image.jpg"})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Target URL"}),e.jsx(oe,{type:"text",name:"target_url",value:a.target_url,onChange:r,placeholder:"https://example.com"})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Ad Text"}),e.jsx(tn,{name:"ads_text",value:a.ads_text,onChange:r,placeholder:"Advertisement text content"})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Amount Cost"}),e.jsx(oe,{type:"number",step:"0.01",name:"amount_cost",value:a.amount_cost,onChange:r,placeholder:"0.00"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(q,{children:"Online"}),e.jsx(fn,{checked:a.online,onCheckedChange:l=>n(d=>({...d,online:l}))})]}),e.jsx("div",{className:"flex gap-2 pt-4",children:e.jsx(K,{type:"submit",disabled:s,className:"flex-1",children:s?"Creating...":"Create Ad"})})]})}function ooe({onSubmit:t,loading:s=!1}){const[a,n]=y.useState({user_id:"",name:"",amount:"",source:"bank",type:"income",status:"pending",due_date:"",description:"",metadata:""}),r=d=>{const{name:u,value:h}=d.target;n(p=>({...p,[u]:h}))},i=(d,u)=>{n(h=>({...h,[d]:u}))},l=d=>{d.preventDefault();const u={...a,user_id:parseInt(a.user_id),amount:parseFloat(a.amount),due_date:a.due_date||new Date().toISOString().slice(0,19).replace("T"," "),...a.metadata&&{metadata:JSON.parse(a.metadata)}};t(u)};return e.jsxs("form",{onSubmit:l,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(q,{children:"User ID *"}),e.jsx(oe,{type:"number",name:"user_id",value:a.user_id,onChange:r,required:!0,placeholder:"Enter user ID"})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Name/Description *"}),e.jsx(oe,{type:"text",name:"name",value:a.name,onChange:r,required:!0,placeholder:"Payment name",maxLength:100})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Amount *"}),e.jsx(oe,{type:"number",step:"0.01",name:"amount",value:a.amount,onChange:r,required:!0,placeholder:"99.99"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(q,{children:"Source *"}),e.jsxs(Je,{value:a.source,onValueChange:d=>i("source",d),children:[e.jsx(Qe,{children:e.jsx(et,{})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"wish",children:"Wish"}),e.jsx(de,{value:"omt",children:"OMT"}),e.jsx(de,{value:"bank",children:"Bank"}),e.jsx(de,{value:"cash",children:"Cash"}),e.jsx(de,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Type *"}),e.jsxs(Je,{value:a.type,onValueChange:d=>i("type",d),children:[e.jsx(Qe,{children:e.jsx(et,{})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"income",children:"Income"}),e.jsx(de,{value:"expense",children:"Expense"}),e.jsx(de,{value:"debit",children:"Debit"}),e.jsx(de,{value:"upcoming_income",children:"Upcoming Income"}),e.jsx(de,{value:"credit",children:"Credit"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(q,{children:"Status"}),e.jsxs(Je,{value:a.status,onValueChange:d=>i("status",d),children:[e.jsx(Qe,{children:e.jsx(et,{})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"pending",children:"Pending"}),e.jsx(de,{value:"paid",children:"Paid"}),e.jsx(de,{value:"overdue",children:"Overdue"}),e.jsx(de,{value:"cancelled",children:"Cancelled"})]})]})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Due Date"}),e.jsx(oe,{type:"datetime-local",name:"due_date",value:a.due_date,onChange:r})]})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Description"}),e.jsx(tn,{name:"description",value:a.description,onChange:r,placeholder:"Additional description"})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Metadata (JSON)"}),e.jsx(tn,{name:"metadata",value:a.metadata,onChange:r,placeholder:'{"key": "value"}'})]}),e.jsx("div",{className:"flex gap-2 pt-4",children:e.jsx(K,{type:"submit",disabled:s,className:"flex-1",children:s?"Issuing...":"Issue Payment/Invoice"})})]})}function sO({onSubmit:t,loading:s=!1}){const[a,n]=y.useState({car_id:"",duration:"",start_at:""}),r=l=>{const{name:d,value:u}=l.target;n(h=>({...h,[d]:u}))},i=l=>{l.preventDefault();const d={...a,car_id:parseInt(a.car_id),duration:parseInt(a.duration),start_at:a.start_at||new Date().toISOString().slice(0,19).replace("T"," ")};t(d)};return e.jsxs("form",{onSubmit:i,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(q,{children:"Car ID *"}),e.jsx(oe,{type:"number",name:"car_id",value:a.car_id,onChange:r,required:!0,placeholder:"Enter car ID"})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Duration (Days) *"}),e.jsx(oe,{type:"number",name:"duration",value:a.duration,onChange:r,required:!0,min:"1",max:"365",placeholder:"30"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Number of days to feature (1-365)"})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Start Date/Time"}),e.jsx(oe,{type:"datetime-local",name:"start_at",value:a.start_at,onChange:r,placeholder:"Leave empty to start now"})]}),e.jsx("div",{className:"flex gap-2 pt-4",children:e.jsx(K,{type:"submit",disabled:s,className:"flex-1",children:s?"Creating...":"Create Featured Car"})})]})}const aO=y.createContext(null);function cn(){const t=y.useContext(aO);if(!t)throw new Error("useAdmin must be used within AdminProvider");return t}const qr={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640"};function loe(){const{summary:t}=cn();return e.jsx("div",{className:"space-y-6",children:t&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(Te,{children:[e.jsxs(rs,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(is,{className:"text-sm font-medium",children:"Total Users"}),e.jsx(fs,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(Re,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.total_users}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.active_users," active"]})]})]}),e.jsxs(Te,{children:[e.jsxs(rs,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(is,{className:"text-sm font-medium",children:"Total Bookings"}),e.jsx(Rs,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(Re,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.total_bookings}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.pending_bookings," pending"]})]})]}),e.jsxs(Te,{children:[e.jsxs(rs,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(is,{className:"text-sm font-medium",children:"Total Revenue"}),e.jsx(Bs,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(Re,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:["$",t.total_revenue?.toLocaleString()]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["$",t.total_refunds?.toLocaleString()," refunds"]})]})]}),e.jsxs(Te,{children:[e.jsxs(rs,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(is,{className:"text-sm font-medium",children:"Total Cars"}),e.jsx(zt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(Re,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.total_cars}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.available_cars," available"]})]})]})]})})}function coe(){const{users:t,filters:s,setFilters:a,navigate:n,fetchUsers:r,fetchUserDetails:i,setSelectedItem:l,setModalType:d,setModalOpen:u,showConfirmDialog:h,deleteUser:p}=cn(),f=t?.data??(Array.isArray(t)?t:[]);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oe,{placeholder:"Search users...",className:"w-64"}),e.jsxs(Je,{value:s.users.role,onValueChange:x=>a(v=>({...v,users:{...v.users,role:x}})),children:[e.jsx(Qe,{className:"w-32",children:e.jsx(et,{placeholder:"Role"})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"all",children:"All Roles"}),e.jsx(de,{value:"client",children:"Client"}),e.jsx(de,{value:"agency",children:"Agency"}),e.jsx(de,{value:"admin",children:"Admin"})]})]}),e.jsx(K,{variant:"outline",size:"icon",onClick:r,children:e.jsx(_t,{className:"w-4 h-4"})})]}),e.jsxs(K,{onClick:()=>n("/admin/real-user-data"),style:{background:`linear-gradient(to right, ${qr.darkBlue}, ${qr.teal})`},className:"text-white flex items-center gap-2",children:[e.jsx(wg,{className:"w-4 h-4"}),"Manage Real User Data"]})]}),e.jsx(Te,{children:e.jsx(Re,{className:"p-0",children:e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"ID"}),e.jsx(Z,{children:"Name"}),e.jsx(Z,{children:"Email"}),e.jsx(Z,{children:"Role"}),e.jsx(Z,{children:"Status"}),e.jsx(Z,{children:"Verified"}),e.jsx(Z,{children:"Actions"})]})}),e.jsx(Nt,{children:(Array.isArray(f)?f:[]).map(x=>e.jsxs(ke,{children:[e.jsx(W,{children:x.id}),e.jsx(W,{children:x.first_name&&x.last_name?`${x.first_name} ${x.last_name}`:x.username||"N/A"}),e.jsx(W,{children:x.email||x.phone_number||"N/A"}),e.jsx(W,{children:e.jsx(Me,{variant:"outline",children:x.role})}),e.jsx(W,{children:e.jsx(Me,{variant:x.status?"default":"secondary",children:x.status?"Active":"Inactive"})}),e.jsx(W,{children:x.verified_by_admin?e.jsx($a,{className:"w-4 h-4 text-green-500"}):e.jsx(tr,{className:"w-4 h-4 text-gray-400"})}),e.jsx(W,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{variant:"ghost",size:"icon",onClick:async()=>{const v=await i(x.id);v&&(l(v),d("view-user"),u(!0))},title:"View Details",children:e.jsx(sa,{className:"w-4 h-4"})}),e.jsx(K,{variant:"ghost",size:"icon",onClick:async()=>{const v=await i(x.id);v&&(l(v),d("edit-user"),u(!0))},children:e.jsx(ca,{className:"w-4 h-4"})}),e.jsx(K,{variant:"ghost",size:"icon",onClick:()=>h("Delete User","Are you sure you want to delete this user?",()=>p(x.id)),children:e.jsx(Ks,{className:"w-4 h-4 text-red-500"})})]})})]},x.id))})]})})})]})}function doe(){const{cars:t,filters:s,setFilters:a,fetchCars:n,fetchCarDetails:r,setSelectedItem:i,setModalType:l,setModalOpen:d,showConfirmDialog:u,deleteCar:h}=cn(),p=t?.data??(Array.isArray(t)?t:[]);return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Je,{value:s.cars.status,onValueChange:f=>a(x=>({...x,cars:{...x.cars,status:f}})),children:[e.jsx(Qe,{className:"w-40",children:e.jsx(et,{placeholder:"Status"})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"all",children:"All Statuses"}),e.jsx(de,{value:"available",children:"Available"}),e.jsx(de,{value:"rented",children:"Rented"}),e.jsx(de,{value:"maintenance",children:"Maintenance"}),e.jsx(de,{value:"unavailable",children:"Unavailable"})]})]}),e.jsx(K,{variant:"outline",size:"icon",onClick:n,children:e.jsx(_t,{className:"w-4 h-4"})})]})}),e.jsx(Te,{children:e.jsx(Re,{className:"p-0",children:e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"ID"}),e.jsx(Z,{children:"Make/Model"}),e.jsx(Z,{children:"Year"}),e.jsx(Z,{children:"Status"}),e.jsx(Z,{children:"Approved"}),e.jsx(Z,{children:"Daily Rate"}),e.jsx(Z,{children:"Actions"})]})}),e.jsx(Nt,{children:(Array.isArray(p)?p:[]).map(f=>e.jsxs(ke,{children:[e.jsx(W,{children:f.id}),e.jsxs(W,{children:[f.make," ",f.model]}),e.jsx(W,{children:f.year}),e.jsx(W,{children:e.jsx(Me,{variant:"outline",children:f.status})}),e.jsx(W,{children:f.car_accepted?e.jsx($a,{className:"w-4 h-4 text-green-500"}):e.jsx(tr,{className:"w-4 h-4 text-gray-400"})}),e.jsxs(W,{children:["$",f.daily_rate]}),e.jsx(W,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{variant:"ghost",size:"icon",onClick:async()=>{const x=await r(f.id);x&&(i(x),l("view-car"),d(!0))},title:"View Details",children:e.jsx(sa,{className:"w-4 h-4"})}),e.jsx(K,{variant:"ghost",size:"icon",onClick:async()=>{const x=await r(f.id);x&&(i(x),l("edit-car"),d(!0))},children:e.jsx(ca,{className:"w-4 h-4"})}),e.jsx(K,{variant:"ghost",size:"icon",onClick:()=>u("Delete Car","Are you sure you want to delete this car?",()=>h(f.id)),children:e.jsx(Ks,{className:"w-4 h-4 text-red-500"})})]})})]},f.id))})]})})})]})}function uoe(){const{bookings:t,filters:s,setFilters:a,fetchBookings:n,fetchBookingDetails:r,setSelectedItem:i,setModalType:l,setModalOpen:d,forceCompleteBooking:u}=cn(),h=t?.data??(Array.isArray(t)?t:[]);return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Je,{value:s.bookings.status,onValueChange:p=>a(f=>({...f,bookings:{...f.bookings,status:p}})),children:[e.jsx(Qe,{className:"w-40",children:e.jsx(et,{placeholder:"Status"})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"all",children:"All Statuses"}),e.jsx(de,{value:"pending",children:"Pending"}),e.jsx(de,{value:"confirmed",children:"Confirmed"}),e.jsx(de,{value:"cancelled",children:"Cancelled"}),e.jsx(de,{value:"completed",children:"Completed"}),e.jsx(de,{value:"rejected",children:"Rejected"})]})]}),e.jsx(K,{variant:"outline",size:"icon",onClick:n,children:e.jsx(_t,{className:"w-4 h-4"})})]})}),e.jsx(Te,{children:e.jsx(Re,{className:"p-0",children:e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"ID"}),e.jsx(Z,{children:"Client"}),e.jsx(Z,{children:"Car"}),e.jsx(Z,{children:"Status"}),e.jsx(Z,{children:"Payment"}),e.jsx(Z,{children:"Total Price"}),e.jsx(Z,{children:"Actions"})]})}),e.jsx(Nt,{children:(Array.isArray(h)?h:[]).map(p=>e.jsxs(ke,{children:[e.jsx(W,{children:p.id}),e.jsx(W,{children:p.client?.first_name&&p.client?.last_name?`${p.client.first_name} ${p.client.last_name}`:p.client?.username||"N/A"}),e.jsxs(W,{children:[p.car?.make," ",p.car?.model]}),e.jsx(W,{children:e.jsx(Me,{variant:"outline",children:p.booking_request_status})}),e.jsx(W,{children:e.jsx(Me,{variant:p.payment_status==="paid"?"default":"secondary",children:p.payment_status})}),e.jsxs(W,{children:["$",p.total_booking_price]}),e.jsx(W,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{variant:"ghost",size:"icon",onClick:async()=>{const f=await r(p.id);f&&(i(f),l("view-booking"),d(!0))},title:"View Details",children:e.jsx(sa,{className:"w-4 h-4"})}),e.jsx(K,{variant:"ghost",size:"icon",onClick:async()=>{const f=await r(p.id);f&&(i(f),l("edit-booking"),d(!0))},children:e.jsx(ca,{className:"w-4 h-4"})}),p.booking_request_status==="confirmed"&&e.jsx(K,{variant:"ghost",size:"icon",onClick:()=>u(p.id),title:"Force Complete","aria-label":"Force complete booking",children:e.jsx($a,{className:"w-4 h-4 text-green-500"})})]})})]},p.id))})]})})})]})}function hoe(){const{payments:t,setSelectedItem:s,setModalType:a,setModalOpen:n,fetchPayments:r,processRefund:i}=cn(),l=t?.data??(Array.isArray(t)?t:[]),d=[{key:"id",label:"ID"},{key:"user",label:"User",transform:u=>u.user?.name||"N/A"},{key:"amount",label:"Amount",transform:u=>`$${u.amount}`},{key:"type",label:"Type"},{key:"status",label:"Status"},{key:"source",label:"Source"},{key:"name",label:"Name"},{key:"created_at",label:"Created At",transform:u=>new Date(u.created_at).toLocaleString()}];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(K,{onClick:()=>{s(null),a("create-payment"),n(!0)},children:[e.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Issue Payment/Invoice"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(K,{variant:"outline",onClick:()=>{const u=(Array.isArray(l)?l:[]).map(h=>({...h,user:h.user?.name||"N/A",amount:`$${h.amount}`,created_at:new Date(h.created_at).toLocaleString()}));J3(u,d,"invoices")},children:[e.jsx(Zd,{className:"w-4 h-4 mr-2"}),"Export Excel"]}),e.jsxs(K,{variant:"outline",onClick:()=>{const u=(Array.isArray(l)?l:[]).map(h=>({...h,user:h.user?.name||"N/A",amount:`$${h.amount}`,created_at:new Date(h.created_at).toLocaleString()}));eO(u,d,"Invoices Report","invoices")},children:[e.jsx(Zd,{className:"w-4 h-4 mr-2"}),"Export PDF"]}),e.jsx(K,{variant:"outline",size:"icon",onClick:r,"aria-label":"Refresh payments",children:e.jsx(_t,{className:"w-4 h-4"})})]})]}),e.jsx(Te,{children:e.jsx(Re,{className:"p-0",children:e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"ID"}),e.jsx(Z,{children:"User"}),e.jsx(Z,{children:"Amount"}),e.jsx(Z,{children:"Type"}),e.jsx(Z,{children:"Status"}),e.jsx(Z,{children:"Source"}),e.jsx(Z,{children:"Actions"})]})}),e.jsx(Nt,{children:(Array.isArray(l)?l:[]).map(u=>e.jsxs(ke,{children:[e.jsx(W,{children:u.id}),e.jsx(W,{children:u.user?.name||"N/A"}),e.jsxs(W,{children:["$",u.amount]}),e.jsx(W,{children:e.jsx(Me,{variant:"outline",children:u.type})}),e.jsx(W,{children:e.jsx(Me,{variant:u.status==="paid"?"default":"secondary",children:u.status})}),e.jsx(W,{children:u.source}),e.jsx(W,{children:u.type==="refund"&&u.status!=="processed"&&e.jsx(K,{variant:"ghost",size:"sm",onClick:()=>{const h=u.reference_id||u.id;i(h)},children:"Process Refund"})})]},u.id))})]})})})]})}function moe(){const{announcements:t,setSelectedItem:s,setModalType:a,setModalOpen:n,fetchAnnouncements:r,showConfirmDialog:i,deleteAnnouncement:l}=cn(),d=t?.data??(Array.isArray(t)?t:[]);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(K,{onClick:()=>{s(null),a("create-announcement"),n(!0)},children:[e.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Create Announcement"]}),e.jsx(K,{variant:"outline",size:"icon",onClick:r,children:e.jsx(_t,{className:"w-4 h-4"})})]}),e.jsx(Te,{children:e.jsx(Re,{className:"p-0",children:e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"ID"}),e.jsx(Z,{children:"Title"}),e.jsx(Z,{children:"Status"}),e.jsx(Z,{children:"Priority"}),e.jsx(Z,{children:"Target Audience"}),e.jsx(Z,{children:"Actions"})]})}),e.jsx(Nt,{children:(Array.isArray(d)?d:[]).map(u=>e.jsxs(ke,{children:[e.jsx(W,{children:u.id}),e.jsx(W,{children:u.title}),e.jsx(W,{children:e.jsx(Me,{variant:"outline",children:u.status})}),e.jsx(W,{children:e.jsx(Me,{variant:"outline",children:u.priority})}),e.jsx(W,{children:u.target_audience?.join(", ")||"All"}),e.jsx(W,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{variant:"ghost",size:"icon",onClick:()=>{s(u),a("edit-announcement"),n(!0)},"aria-label":"Edit announcement",children:e.jsx(ca,{className:"w-4 h-4"})}),e.jsx(K,{variant:"ghost",size:"icon",onClick:()=>i("Delete Announcement","Are you sure you want to delete this announcement?",()=>l(u.id)),children:e.jsx(Ks,{className:"w-4 h-4 text-red-500"})})]})})]},u.id))})]})})})]})}function foe(){const{appeals:t,filters:s,setFilters:a,setSelectedItem:n,setModalType:r,setModalOpen:i,fetchAppeals:l}=cn(),d=t?.data??(Array.isArray(t)?t:[]);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Je,{value:s.appeals.status,onValueChange:u=>a(h=>({...h,appeals:{...h.appeals,status:u}})),children:[e.jsx(Qe,{className:"w-40",children:e.jsx(et,{placeholder:"Status"})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"all",children:"All Statuses"}),e.jsx(de,{value:"submitted",children:"Submitted"}),e.jsx(de,{value:"under_review",children:"Under Review"}),e.jsx(de,{value:"resolved",children:"Resolved"}),e.jsx(de,{value:"rejected",children:"Rejected"}),e.jsx(de,{value:"escalated",children:"Escalated"})]})]}),e.jsx(K,{variant:"outline",size:"icon",onClick:l,children:e.jsx(_t,{className:"w-4 h-4"})})]}),e.jsx(Te,{children:e.jsx(Re,{className:"p-0",children:e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"ID"}),e.jsx(Z,{children:"User"}),e.jsx(Z,{children:"Type"}),e.jsx(Z,{children:"Status"}),e.jsx(Z,{children:"Priority"}),e.jsx(Z,{children:"Actions"})]})}),e.jsx(Nt,{children:(Array.isArray(d)?d:[]).map(u=>e.jsxs(ke,{children:[e.jsx(W,{children:u.id}),e.jsx(W,{children:u.user?.username||u.user?.email||"N/A"}),e.jsx(W,{children:u.type||"N/A"}),e.jsx(W,{children:e.jsx(Me,{variant:"outline",children:u.status})}),e.jsx(W,{children:e.jsx(Me,{variant:"outline",children:u.priority||"N/A"})}),e.jsx(W,{children:e.jsx(K,{variant:"ghost",size:"icon",onClick:()=>{n(u),r("edit-appeal"),i(!0)},children:e.jsx(ca,{className:"w-4 h-4"})})})]},u.id))})]})})})]})}function poe(){const{ads:t,navigate:s,setSelectedItem:a,setModalType:n,setModalOpen:r,fetchAds:i,showConfirmDialog:l,deleteAd:d}=cn(),u=t?.data??(Array.isArray(t)?t:[]);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(K,{onClick:()=>{a(null),n("create-ad"),r(!0)},children:[e.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Create Ad"]}),e.jsxs(K,{variant:"outline",onClick:()=>s("/admin/ads-analytics"),children:[e.jsx(Qd,{className:"w-4 h-4 mr-2"}),"View Analytics"]})]}),e.jsx(K,{variant:"outline",size:"icon",onClick:i,"aria-label":"Refresh ads",children:e.jsx(_t,{className:"w-4 h-4"})})]}),e.jsx(Te,{children:e.jsx(Re,{className:"p-0",children:e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"ID"}),e.jsx(Z,{children:"Website"}),e.jsx(Z,{children:"Company Type"}),e.jsx(Z,{children:"Online"}),e.jsx(Z,{children:"Views"}),e.jsx(Z,{children:"Clicks"}),e.jsx(Z,{children:"Actions"})]})}),e.jsx(Nt,{children:(Array.isArray(u)?u:[]).map(h=>e.jsxs(ke,{children:[e.jsx(W,{children:h.id}),e.jsx(W,{children:h.website}),e.jsx(W,{children:h.company_type}),e.jsx(W,{children:h.online?e.jsx($a,{className:"w-4 h-4 text-green-500"}):e.jsx(tr,{className:"w-4 h-4 text-gray-400"})}),e.jsx(W,{children:h.nb_views}),e.jsx(W,{children:h.nb_clicks}),e.jsx(W,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{variant:"ghost",size:"icon",onClick:()=>{a(h),n("edit-ad"),r(!0)},children:e.jsx(ca,{className:"w-4 h-4"})}),e.jsx(K,{variant:"ghost",size:"icon",onClick:()=>l("Delete Ad","Are you sure you want to delete this ad?",()=>d(h.id)),children:e.jsx(Ks,{className:"w-4 h-4 text-red-500"})})]})})]},h.id))})]})})})]})}function goe(){const{promoCodes:t,brokers:s,filters:a,setFilters:n,setBrokerForm:r,setSelectedItem:i,setModalType:l,setModalOpen:d,fetchPromoCodes:u,fetchPromoCodeUsers:h,fetchBrokerReferrals:p,showConfirmDialog:f,handleDeletePromoCode:x}=cn(),v=t?.data??(Array.isArray(t)?t:[]);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(K,{onClick:()=>{i(null),l("create-promo-code"),d(!0)},children:[e.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Create Promo Code"]}),e.jsxs(K,{variant:"outline",onClick:()=>{r({username:"",phone_number:"",email:"",password:"",password_confirmation:"",first_name:"",last_name:""}),l("create-broker"),d(!0)},children:[e.jsx(fs,{className:"w-4 h-4 mr-2"}),"Create Broker"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Je,{value:a.promoCodes.broker_id||"all",onValueChange:j=>n(w=>({...w,promoCodes:{...w.promoCodes,broker_id:j}})),children:[e.jsx(Qe,{className:"w-[180px]",children:e.jsx(et,{placeholder:"Filter by broker"})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"all",children:"All brokers"}),(Array.isArray(s)?s:[]).map(j=>e.jsx(de,{value:String(j.id),children:j.username||`${j.first_name||""} ${j.last_name||""}`||`Broker #${j.id}`},j.id))]})]}),e.jsxs(Je,{value:a.promoCodes.is_active,onValueChange:j=>n(w=>({...w,promoCodes:{...w.promoCodes,is_active:j}})),children:[e.jsx(Qe,{className:"w-[150px]",children:e.jsx(et,{placeholder:"Status"})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"all",children:"All status"}),e.jsx(de,{value:"true",children:"Active"}),e.jsx(de,{value:"false",children:"Inactive"})]})]})]})]}),e.jsx(K,{variant:"outline",size:"icon",onClick:u,"aria-label":"Refresh promo codes",children:e.jsx(_t,{className:"w-4 h-4"})})]}),e.jsx(Te,{children:e.jsx(Re,{className:"p-0",children:e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"Code"}),e.jsx(Z,{children:"Broker"}),e.jsx(Z,{children:"Description"}),e.jsx(Z,{children:"Uses"}),e.jsx(Z,{children:"Commission %"}),e.jsx(Z,{children:"Status"}),e.jsx(Z,{children:"Expires At"}),e.jsx(Z,{children:"Actions"})]})}),e.jsx(Nt,{children:(Array.isArray(v)?v:[]).map(j=>e.jsxs(ke,{children:[e.jsx(W,{className:"font-mono font-semibold",children:j.code}),e.jsx(W,{children:j.broker?j.broker.username||`${j.broker.first_name||""} ${j.broker.last_name||""}`:"N/A"}),e.jsx(W,{className:"max-w-xs truncate",children:j.description||""}),e.jsxs(W,{children:[j.current_uses," / ",j.max_uses??""]}),e.jsxs(W,{children:[j.commission_percentage??0,"%"]}),e.jsx(W,{children:e.jsx(Me,{variant:j.is_active?"default":"secondary",children:j.is_active?"Active":"Inactive"})}),e.jsx(W,{children:j.expires_at?new Date(j.expires_at).toLocaleDateString():"No expiry"}),e.jsx(W,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{variant:"ghost",size:"icon",onClick:()=>{i(j),l("edit-promo-code"),d(!0)},children:e.jsx(ca,{className:"w-4 h-4"})}),e.jsx(K,{variant:"ghost",size:"icon",onClick:()=>{i(j),h(j.id),p(j.broker_id),l("view-promo-users"),d(!0)},children:e.jsx(fs,{className:"w-4 h-4"})}),e.jsx(K,{variant:"ghost",size:"icon",onClick:()=>f("Delete Promo Code","Are you sure you want to delete this promo code?",()=>x(j.id)),children:e.jsx(Ks,{className:"w-4 h-4 text-red-500"})})]})})]},j.id))})]})})})]})}function xoe(){const{brokers:t,selectedBroker:s,brokerDetailTab:a,setBrokerDetailTab:n,brokerBalance:r,brokerCommissions:i,brokerPayouts:l,brokerReferrals:d,brokerCommissionsList:u,commissionStatusFilter:h,setCommissionStatusFilter:p,setBrokerCommissions:f,setBrokerForm:x,setPayoutForm:v,setSelectedBroker:j,setModalType:w,setModalOpen:_,fetchBrokers:N,fetchBrokerCommissionsList:k,openBrokerDetail:D,closeBrokerDetail:T,showConfirmDialog:E,handleCancelCommission:G,handleDeleteBrokerReferral:A}=cn(),F=async M=>{if(s?.id){p(M);try{const J=await Kg(s.id,{status:M==="all"?void 0:M}),R=J.data?.commissions?.data??J.data?.commissions;f({data:Array.isArray(R)?R:[],statistics:J.data?.statistics||{}})}catch(J){console.error("Failed to fetch broker commissions:",J)}}};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(K,{variant:"outline",onClick:()=>{x({username:"",phone_number:"",email:"",password:"",password_confirmation:"",first_name:"",last_name:""}),w("create-broker"),_(!0)},children:[e.jsx(fs,{className:"w-4 h-4 mr-2"}),"Create Broker"]}),e.jsxs(K,{onClick:()=>{v({broker_id:s?.id?String(s.id):"select",amount:s?.id&&r?.balance!=null?String(r.balance):"",reference:"",notes:""}),w("create-broker-payout"),_(!0)},children:[e.jsx(Bs,{className:"w-4 h-4 mr-2"}),"Create Payout"]})]}),e.jsx(K,{variant:"outline",size:"icon",onClick:()=>{N(),k()},children:e.jsx(_t,{className:"w-4 h-4"})})]}),s?e.jsxs(Te,{children:[e.jsxs(rs,{className:"flex flex-row items-center justify-between",children:[e.jsxs(is,{className:"flex items-center gap-2",children:[e.jsx(fs,{className:"w-5 h-5"}),s.username||`${s.first_name||""} ${s.last_name||""}`.trim()||`Broker #${s.id}`]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(K,{variant:"outline",size:"sm",onClick:()=>{v({broker_id:String(s.id),amount:r?.balance?String(r.balance):"",reference:"",notes:""}),w("create-broker-payout"),_(!0)},children:[e.jsx(Bs,{className:"w-4 h-4 mr-1"}),"Pay broker"]}),e.jsx(K,{variant:"ghost",size:"sm",onClick:T,children:"Close"})]})]}),e.jsx(Re,{children:e.jsxs(uo,{value:a,onValueChange:n,className:"w-full",children:[e.jsxs(ki,{className:"grid w-full grid-cols-4",children:[e.jsx(Pt,{value:"overview",children:"Overview"}),e.jsx(Pt,{value:"commissions",children:"Commissions"}),e.jsx(Pt,{value:"payouts",children:"Payouts"}),e.jsx(Pt,{value:"referrals",children:"Referrals"})]}),e.jsx($t,{value:"overview",className:"space-y-4 mt-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(Te,{children:e.jsxs(Re,{className:"pt-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Balance"}),e.jsxs("p",{className:"text-2xl font-bold",style:{color:qr.limeGreen},children:["$",(r?.balance??0).toFixed(2)]})]})}),e.jsx(Te,{children:e.jsxs(Re,{className:"pt-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total commissions"}),e.jsxs("p",{className:"text-2xl font-bold",children:["$",(r?.total_commissions??i.statistics?.total_commissions??0).toFixed(2)]})]})}),e.jsx(Te,{children:e.jsxs(Re,{className:"pt-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total payouts"}),e.jsxs("p",{className:"text-2xl font-bold",children:["$",(r?.total_payouts??i.statistics?.total_payouts??0).toFixed(2)]})]})})]})}),e.jsxs($t,{value:"commissions",className:"mt-4",children:[e.jsx("div",{className:"flex gap-2 mb-4",children:["all","pending","paid","cancelled"].map(M=>e.jsx(K,{variant:h===M?"default":"outline",size:"sm",onClick:()=>F(M),children:M.charAt(0).toUpperCase()+M.slice(1)},M))}),e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"ID"}),e.jsx(Z,{children:"Referred user"}),e.jsx(Z,{children:"Promo code"}),e.jsx(Z,{children:"Booking amount"}),e.jsx(Z,{children:"Commission"}),e.jsx(Z,{children:"Status"}),e.jsx(Z,{children:"Completed at"}),e.jsx(Z,{children:"Actions"})]})}),e.jsx(Nt,{children:(Array.isArray(i.data)?i.data:[]).map(M=>e.jsxs(ke,{children:[e.jsx(W,{children:M.id}),e.jsx(W,{children:M.referredUser?`${M.referredUser.first_name||""} ${M.referredUser.last_name||""}`.trim()||M.referredUser.username:M.referred_user_id}),e.jsx(W,{children:M.promoCode?.code||""}),e.jsxs(W,{children:["$",Number(M.booking_amount||0).toFixed(2)]}),e.jsxs(W,{children:["$",Number(M.commission_amount||0).toFixed(2)," (",M.commission_percentage,"%)"]}),e.jsx(W,{children:e.jsx(Me,{variant:M.status==="paid"?"default":M.status==="cancelled"?"secondary":"outline",children:M.status})}),e.jsx(W,{children:M.booking_completed_at?new Date(M.booking_completed_at).toLocaleDateString():""}),e.jsx(W,{children:M.status==="pending"&&e.jsx(K,{variant:"ghost",size:"sm",onClick:()=>E("Cancel commission","Are you sure? This cannot be undone.",()=>G(M.id)),children:"Cancel"})})]},M.id))})]})]}),e.jsx($t,{value:"payouts",className:"mt-4",children:e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"Reference ID"}),e.jsx(Z,{children:"Amount"}),e.jsx(Z,{children:"Paid at"}),e.jsx(Z,{children:"Description"})]})}),e.jsx(Nt,{children:(Array.isArray(l.data)?l.data:[]).map(M=>e.jsxs(ke,{children:[e.jsx(W,{className:"font-mono text-xs",children:M.reference_id||M.id}),e.jsxs(W,{children:["$",((M.amount||0)/100).toFixed(2)]}),e.jsx(W,{children:M.paid_at?new Date(M.paid_at).toLocaleString():""}),e.jsx(W,{children:M.description||M.metadata?.reference||""})]},M.id))})]})}),e.jsx($t,{value:"referrals",className:"mt-4",children:e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"ID"}),e.jsx(Z,{children:"Referred user"}),e.jsx(Z,{children:"Promo code"}),e.jsx(Z,{children:"Actions"})]})}),e.jsx(Nt,{children:(Array.isArray(d)?d:[]).map(M=>e.jsxs(ke,{children:[e.jsx(W,{children:M.id}),e.jsx(W,{children:M.referredUser?`${M.referredUser.first_name||""} ${M.referredUser.last_name||""}`.trim()||M.referredUser.username:M.referred_user_id}),e.jsx(W,{children:M.promoCode?.code||""}),e.jsx(W,{children:e.jsx(K,{variant:"ghost",size:"sm",className:"text-red-500",onClick:()=>E("Delete referral","Remove this referral link? This cannot be undone.",()=>A(M.id)),children:"Delete"})})]},M.id))})]})})]})})]}):e.jsxs(e.Fragment,{children:[e.jsxs(Te,{children:[e.jsxs(rs,{children:[e.jsx(is,{children:"Brokers"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Click Manage to view balance, commissions, payouts, and referrals."})]}),e.jsx(Re,{className:"p-0",children:e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"ID"}),e.jsx(Z,{children:"Username"}),e.jsx(Z,{children:"Name"}),e.jsx(Z,{children:"Phone"}),e.jsx(Z,{children:"Actions"})]})}),e.jsx(Nt,{children:(Array.isArray(t)?t:[]).map(M=>e.jsxs(ke,{children:[e.jsx(W,{children:M.id}),e.jsx(W,{children:M.username}),e.jsx(W,{children:[M.first_name,M.last_name].filter(Boolean).join(" ")||""}),e.jsx(W,{children:M.phone_number||""}),e.jsx(W,{children:e.jsx(K,{variant:"outline",size:"sm",onClick:()=>D(M),children:"Manage"})})]},M.id))})]})})]}),e.jsxs(Te,{children:[e.jsx(rs,{children:e.jsx(is,{children:"All broker commissions"})}),e.jsx(Re,{className:"p-0",children:e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"ID"}),e.jsx(Z,{children:"Broker"}),e.jsx(Z,{children:"Referred user"}),e.jsx(Z,{children:"Promo"}),e.jsx(Z,{children:"Amount"}),e.jsx(Z,{children:"Status"})]})}),e.jsx(Nt,{children:(Array.isArray(u?.data)?u.data:[]).map(M=>e.jsxs(ke,{children:[e.jsx(W,{children:M.id}),e.jsx(W,{children:M.broker?M.broker.username||`${M.broker.first_name||""} ${M.broker.last_name||""}`:M.broker_id}),e.jsx(W,{children:M.referredUser?`${M.referredUser.first_name||""} ${M.referredUser.last_name||""}`.trim()||M.referredUser.username:""}),e.jsx(W,{children:M.promoCode?.code||""}),e.jsxs(W,{children:["$",Number(M.commission_amount||0).toFixed(2)]}),e.jsx(W,{children:e.jsx(Me,{variant:M.status==="paid"?"default":M.status==="cancelled"?"secondary":"outline",children:M.status})})]},M.id))})]})})]})]})]})}function yoe(){const{featuredCars:t,setSelectedItem:s,setModalType:a,setModalOpen:n,fetchFeaturedCars:r,showConfirmDialog:i,deleteFeaturedCar:l}=cn(),d=t?.data??(Array.isArray(t)?t:[]);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(K,{onClick:()=>{s(null),a("create-featured-car"),n(!0)},children:[e.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Create Featured Car"]}),e.jsx(K,{variant:"outline",size:"icon",onClick:r,children:e.jsx(_t,{className:"w-4 h-4"})})]}),e.jsx(Te,{children:e.jsx(Re,{className:"p-0",children:e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"ID"}),e.jsx(Z,{children:"Car"}),e.jsx(Z,{children:"Duration"}),e.jsx(Z,{children:"Start Date"}),e.jsx(Z,{children:"Expire Date"}),e.jsx(Z,{children:"Actions"})]})}),e.jsx(Nt,{children:(Array.isArray(d)?d:[]).map(u=>e.jsxs(ke,{children:[e.jsx(W,{children:u.id}),e.jsxs(W,{children:[u.car?.make," ",u.car?.model]}),e.jsxs(W,{children:[u.duration," days"]}),e.jsx(W,{children:new Date(u.start_at).toLocaleDateString()}),e.jsx(W,{children:new Date(u.expire_at).toLocaleDateString()}),e.jsx(W,{children:e.jsx(K,{variant:"ghost",size:"icon",onClick:()=>i("Remove Featured Car","Are you sure?",()=>l(u.id)),children:e.jsx(Ks,{className:"w-4 h-4 text-red-500"})})})]},u.id))})]})})})]})}function boe(){const{holidays:t,setSelectedItem:s,setModalType:a,setModalOpen:n,fetchHolidays:r,showConfirmDialog:i,deleteHoliday:l}=cn(),d=t?.data??(Array.isArray(t)?t:[]);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(K,{onClick:()=>{s(null),a("create-holiday"),n(!0)},children:[e.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Create Holiday"]}),e.jsx(K,{variant:"outline",size:"icon",onClick:r,children:e.jsx(_t,{className:"w-4 h-4"})})]}),e.jsx(Te,{children:e.jsx(Re,{className:"p-0",children:e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"ID"}),e.jsx(Z,{children:"Car"}),e.jsx(Z,{children:"Holiday Name"}),e.jsx(Z,{children:"Dates"}),e.jsx(Z,{children:"Increase %"}),e.jsx(Z,{children:"Active"}),e.jsx(Z,{children:"Actions"})]})}),e.jsx(Nt,{children:(Array.isArray(d)?d:[]).map(u=>e.jsxs(ke,{children:[e.jsx(W,{children:u.id}),e.jsxs(W,{children:[u.car?.make," ",u.car?.model]}),e.jsx(W,{children:u.holiday_name}),e.jsxs(W,{children:[u.holiday_dates?.start," - ",u.holiday_dates?.end]}),e.jsxs(W,{children:[u.percentage_increase,"%"]}),e.jsx(W,{children:u.is_active?e.jsx($a,{className:"w-4 h-4 text-green-500"}):e.jsx(tr,{className:"w-4 h-4 text-gray-400"})}),e.jsx(W,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{variant:"ghost",size:"icon",onClick:()=>{s(u),a("edit-holiday"),n(!0)},children:e.jsx(ca,{className:"w-4 h-4"})}),e.jsx(K,{variant:"ghost",size:"icon",onClick:()=>i("Delete Holiday","Are you sure you want to delete this holiday?",()=>l(u.id)),children:e.jsx(Ks,{className:"w-4 h-4 text-red-500"})})]})})]},u.id))})]})})})]})}function voe(){const{suggestions:t,setSelectedItem:s,setModalType:a,setModalOpen:n,fetchSuggestions:r,showConfirmDialog:i,deleteSuggestion:l}=cn(),d=t?.data??(Array.isArray(t)?t:[]);return e.jsxs("div",{className:"space-y-4",children:[e.jsx(K,{variant:"outline",size:"icon",onClick:r,"aria-label":"Refresh suggestions",children:e.jsx(_t,{className:"w-4 h-4"})}),e.jsx(Te,{children:e.jsx(Re,{className:"p-0",children:e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"ID"}),e.jsx(Z,{children:"User"}),e.jsx(Z,{children:"Title"}),e.jsx(Z,{children:"Status"}),e.jsx(Z,{children:"Actions"})]})}),e.jsx(Nt,{children:(Array.isArray(d)?d:[]).map(u=>e.jsxs(ke,{children:[e.jsx(W,{children:u.id}),e.jsx(W,{children:u.user?.name||"N/A"}),e.jsx(W,{children:u.title}),e.jsx(W,{children:e.jsx(Me,{variant:"outline",children:u.status})}),e.jsx(W,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{variant:"ghost",size:"icon",onClick:()=>{s(u),a("edit-suggestion"),n(!0)},children:e.jsx(ca,{className:"w-4 h-4"})}),e.jsx(K,{variant:"ghost",size:"icon",onClick:()=>i("Delete Suggestion","Are you sure you want to delete this suggestion?",()=>l(u.id)),children:e.jsx(Ks,{className:"w-4 h-4 text-red-500"})})]})})]},u.id))})]})})})]})}function joe(){const{notifications:t,setSelectedItem:s,setModalType:a,setModalOpen:n,fetchNotifications:r}=cn(),i=t?.data??(Array.isArray(t)?t:[]);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(K,{onClick:()=>{s(null),a("send-notification"),n(!0)},children:[e.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Send to All Users"]}),e.jsx(K,{variant:"outline",size:"icon",onClick:r,children:e.jsx(_t,{className:"w-4 h-4"})})]}),e.jsx(Te,{children:e.jsx(Re,{className:"p-0",children:e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"ID"}),e.jsx(Z,{children:"Title"}),e.jsx(Z,{children:"Type"}),e.jsx(Z,{children:"Read"}),e.jsx(Z,{children:"Sent"}),e.jsx(Z,{children:"Created"})]})}),e.jsx(Nt,{children:(Array.isArray(i)?i:[]).map(l=>e.jsxs(ke,{children:[e.jsx(W,{children:l.id}),e.jsx(W,{children:l.title}),e.jsx(W,{children:e.jsx(Me,{variant:"outline",children:l.type})}),e.jsx(W,{children:l.is_read?e.jsx($a,{className:"w-4 h-4 text-green-500"}):e.jsx(tr,{className:"w-4 h-4 text-gray-400"})}),e.jsx(W,{children:l.is_sent?e.jsx($a,{className:"w-4 h-4 text-green-500"}):e.jsx(tr,{className:"w-4 h-4 text-gray-400"})}),e.jsx(W,{children:new Date(l.created_at).toLocaleDateString()})]},l.id))})]})})})]})}function woe(){const{otps:t,loading:s,filters:a,setFilters:n,fetchOtps:r}=cn(),i=t?.data??(Array.isArray(t)?t:[]);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oe,{placeholder:"Search by phone number...",className:"w-64",value:a.otps.phone_number,onChange:l=>n(d=>({...d,otps:{...d.otps,phone_number:l.target.value}}))}),e.jsxs(Je,{value:a.otps.expired,onValueChange:l=>n(d=>({...d,otps:{...d.otps,expired:l}})),children:[e.jsx(Qe,{className:"w-40",children:e.jsx(et,{placeholder:"Expired"})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"all",children:"All OTPs"}),e.jsx(de,{value:"false",children:"Active"}),e.jsx(de,{value:"true",children:"Expired"})]})]})]}),e.jsx(K,{variant:"outline",size:"icon",onClick:r,children:e.jsx(_t,{className:"w-4 h-4"})})]}),e.jsx(Te,{children:e.jsx(Re,{className:"p-0",children:e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"ID"}),e.jsx(Z,{children:"Phone Number"}),e.jsx(Z,{children:"OTP Code"}),e.jsx(Z,{children:"Created At"}),e.jsx(Z,{children:"Expires At"}),e.jsx(Z,{children:"Status"})]})}),e.jsx(Nt,{children:s&&(Array.isArray(i)?i:[]).length===0?e.jsx(ke,{children:e.jsxs(W,{colSpan:6,className:"text-center py-8",children:[e.jsx(_t,{className:"w-6 h-6 animate-spin mx-auto mb-2"}),"Loading OTPs..."]})}):(Array.isArray(i)?i:[]).length===0?e.jsx(ke,{children:e.jsx(W,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"No OTPs found"})}):(Array.isArray(i)?i:[]).map(l=>{const d=new Date(l.expired_at)<new Date;return e.jsxs(ke,{children:[e.jsx(W,{children:l.id}),e.jsx(W,{children:l.phone_number}),e.jsx(W,{className:"font-mono font-bold",children:l.code}),e.jsx(W,{children:new Date(l.created_at).toLocaleString()}),e.jsx(W,{children:new Date(l.expired_at).toLocaleString()}),e.jsx(W,{children:d?e.jsx(Me,{variant:"destructive",children:"Expired"}):e.jsx(Me,{variant:"default",children:"Active"})})]},l.id)})})]})})})]})}function Noe(){const t=cn(),{services:s,thirdParties:a,serviceItems:n,serviceFeedbacks:r,loading:i,filters:l,setFilters:d,selectedServiceId:u,setSelectedItem:h,setModalType:p,setModalOpen:f,setConfirmDialog:x,fetchServices:v,fetchThirdParties:j,fetchServiceItems:w,fetchServiceFeedbacks:_,handleDeleteService:N,handleDeleteFeedback:k,handleDeleteServiceItem:D}=t;return e.jsx("div",{className:"space-y-6",children:e.jsxs(uo,{defaultValue:"services-list",className:"w-full",children:[e.jsxs(ki,{className:"grid w-full grid-cols-4 mb-4",children:[e.jsxs(Pt,{value:"services-list",className:"text-xs",children:[e.jsx(Rc,{className:"w-4 h-4 mr-1"}),"Services"]}),e.jsxs(Pt,{value:"third-parties",className:"text-xs",children:[e.jsx(sm,{className:"w-4 h-4 mr-1"}),"Third Parties"]}),e.jsxs(Pt,{value:"service-items",className:"text-xs",children:[e.jsx(pi,{className:"w-4 h-4 mr-1"}),"Service Items"]}),e.jsxs(Pt,{value:"service-feedbacks",className:"text-xs",children:[e.jsx(Ur,{className:"w-4 h-4 mr-1"}),"Feedbacks"]})]}),e.jsxs($t,{value:"services-list",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(K,{onClick:()=>{h(null),p("create-service"),f(!0)},children:[e.jsx(Gs,{className:"w-4 h-4 mr-1"}),"Create Service"]}),e.jsx(K,{variant:"outline",size:"icon",onClick:v,"aria-label":"Refresh services",children:e.jsx(_t,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oe,{placeholder:"Search services...",value:l.services.search,onChange:T=>d({...l,services:{...l.services,search:T.target.value}}),className:"w-48"}),e.jsxs(Je,{value:l.services.category,onValueChange:T=>d({...l,services:{...l.services,category:T}}),children:[e.jsx(Qe,{className:"w-40",children:e.jsx(et,{placeholder:"Category"})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"all",children:"All"}),e.jsx(de,{value:"transport",children:"Transport"}),e.jsx(de,{value:"accommodation",children:"Accommodation"}),e.jsx(de,{value:"food",children:"Food"}),e.jsx(de,{value:"entertainment",children:"Entertainment"}),e.jsx(de,{value:"other",children:"Other"})]})]}),e.jsx(K,{onClick:v,children:e.jsx(Ea,{className:"w-4 h-4"})})]})]}),e.jsx(Te,{children:e.jsx(Re,{className:"p-0",children:e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"ID"}),e.jsx(Z,{children:"Name"}),e.jsx(Z,{children:"Owner"}),e.jsx(Z,{children:"Category"}),e.jsx(Z,{children:"Price"}),e.jsx(Z,{children:"Rating"}),e.jsx(Z,{children:"Featured"}),e.jsx(Z,{children:"Actions"})]})}),e.jsx(Nt,{children:i?e.jsx(ke,{children:e.jsx(W,{colSpan:8,className:"text-center py-8",children:"Loading..."})}):(Array.isArray(s)?s:[]).length===0?e.jsx(ke,{children:e.jsx(W,{colSpan:8,className:"text-center py-8",children:"No services found"})}):(Array.isArray(s)?s:[]).map(T=>e.jsxs(ke,{children:[e.jsx(W,{children:T.id}),e.jsx(W,{className:"font-medium",children:T.name}),e.jsx(W,{children:T.third_party?e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-medium",children:T.third_party.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:T.third_party.email})]}):T.third_party_id?e.jsxs("span",{className:"text-muted-foreground",children:["ID: ",T.third_party_id]}):e.jsx("span",{className:"text-muted-foreground",children:"-"})}),e.jsx(W,{children:e.jsx(Me,{variant:"outline",children:T.category})}),e.jsxs(W,{children:["$",(parseFloat(T.price)||0).toFixed(2)]}),e.jsx(W,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ys,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}),T.rating?(parseFloat(T.rating)||0).toFixed(1):"N/A"]})}),e.jsx(W,{children:e.jsx(Me,{variant:T.featured?"default":"secondary",children:T.featured?"Yes":"No"})}),e.jsx(W,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(K,{size:"sm",variant:"ghost",onClick:()=>{h(T),p("view-service"),f(!0)},children:e.jsx(sa,{className:"w-4 h-4"})}),e.jsx(K,{size:"sm",variant:"ghost",onClick:()=>{h(T),p("edit-service"),f(!0)},children:e.jsx(ca,{className:"w-4 h-4"})}),e.jsx(K,{size:"sm",variant:"ghost",onClick:()=>t.fetchServiceItems(T.id),children:e.jsx(pi,{className:"w-4 h-4"})}),e.jsx(K,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>x({open:!0,title:"Delete Service",message:`Are you sure you want to delete "${T.name}"?`,onConfirm:()=>N(T.id)}),children:e.jsx(Ks,{className:"w-4 h-4"})})]})})]},T.id))})]})})})]}),e.jsxs($t,{value:"third-parties",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(K,{onClick:()=>{h(null),p("create-third-party"),f(!0)},children:[e.jsx(Gs,{className:"w-4 h-4 mr-1"}),"Create Third Party"]}),e.jsx(K,{variant:"outline",size:"icon",onClick:j,children:e.jsx(_t,{className:"w-4 h-4"})})]}),e.jsx(oe,{placeholder:"Search third parties...",value:l.thirdParties.search,onChange:T=>d({...l,thirdParties:{...l.thirdParties,search:T.target.value}}),className:"w-64"})]}),e.jsx(Te,{children:e.jsx(Re,{className:"p-0",children:e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"ID"}),e.jsx(Z,{children:"Name"}),e.jsx(Z,{children:"Contact"}),e.jsx(Z,{children:"Category"}),e.jsx(Z,{children:"City"}),e.jsx(Z,{children:"Subscription"}),e.jsx(Z,{children:"Created At"}),e.jsx(Z,{children:"Actions"})]})}),e.jsx(Nt,{children:i?e.jsx(ke,{children:e.jsx(W,{colSpan:8,className:"text-center py-8",children:"Loading..."})}):(Array.isArray(a)?a:[]).length===0?e.jsx(ke,{children:e.jsx(W,{colSpan:8,className:"text-center py-8",children:"No third parties found"})}):(Array.isArray(a)?a:[]).map(T=>e.jsxs(ke,{children:[e.jsx(W,{children:T.id}),e.jsx(W,{children:e.jsx("p",{className:"font-medium",children:T.name})}),e.jsx(W,{children:T.email||T.phone||"-"}),e.jsx(W,{children:e.jsx(Me,{variant:"outline",children:T.category||"-"})}),e.jsx(W,{children:T.city||"-"}),e.jsx(W,{children:T.subscription_status||"-"}),e.jsx(W,{children:T.created_at?new Date(T.created_at).toLocaleDateString():"-"}),e.jsx(W,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(K,{size:"sm",variant:"ghost",onClick:()=>{h(T),p("view-third-party"),f(!0)},children:e.jsx(sa,{className:"w-4 h-4"})}),e.jsx(K,{size:"sm",variant:"ghost",onClick:()=>{h(T),p("edit-third-party"),f(!0)},children:e.jsx(ca,{className:"w-4 h-4"})}),e.jsx(K,{size:"sm",variant:"ghost",onClick:()=>{h(T),p("create-service-for-tp"),f(!0)},children:e.jsx(Gs,{className:"w-4 h-4"})}),e.jsx(K,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>x({open:!0,title:"Delete Third Party",message:"Are you sure?",onConfirm:()=>t.handleDeleteThirdParty(T.id)}),children:e.jsx(Ks,{className:"w-4 h-4"})})]})})]},T.id))})]})})})]}),e.jsxs($t,{value:"service-items",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-2",children:u&&e.jsxs(e.Fragment,{children:[e.jsxs(K,{onClick:()=>{h(null),p("create-service-item"),f(!0)},children:[e.jsx(Gs,{className:"w-4 h-4 mr-1"}),"Add Item"]}),e.jsx(K,{variant:"outline",size:"icon",onClick:()=>w(u),children:e.jsx(_t,{className:"w-4 h-4"})})]})}),e.jsxs(Je,{value:u?.toString()||"",onValueChange:T=>T&&t.fetchServiceItems(parseInt(T)),children:[e.jsx(Qe,{className:"w-64",children:e.jsx(et,{placeholder:"Select a service to view items"})}),e.jsx(Ze,{children:(Array.isArray(s)?s:[]).map(T=>e.jsx(de,{value:String(T.id),children:T.name},T.id))})]})]}),u?e.jsxs(Te,{children:[e.jsx(rs,{children:e.jsxs(is,{children:["Items for Service #",u]})}),e.jsx(Re,{className:"p-0",children:e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"ID"}),e.jsx(Z,{children:"Name"}),e.jsx(Z,{children:"Description"}),e.jsx(Z,{children:"Price"}),e.jsx(Z,{children:"Image"}),e.jsx(Z,{children:"Actions"})]})}),e.jsx(Nt,{children:i?e.jsx(ke,{children:e.jsx(W,{colSpan:6,className:"text-center py-8",children:"Loading..."})}):(Array.isArray(n)?n:[]).length===0?e.jsx(ke,{children:e.jsx(W,{colSpan:6,className:"text-center py-8",children:"No items found"})}):(Array.isArray(n)?n:[]).map(T=>e.jsxs(ke,{children:[e.jsx(W,{children:T.id}),e.jsx(W,{className:"font-medium",children:T.name}),e.jsx(W,{className:"max-w-xs truncate",children:T.description||"N/A"}),e.jsxs(W,{children:["$",(parseFloat(T.price)||0).toFixed(2)]}),e.jsx(W,{children:T.image?e.jsx("img",{src:T.image,alt:T.name,className:"w-10 h-10 object-cover rounded"}):e.jsx("span",{className:"text-muted-foreground",children:"No image"})}),e.jsx(W,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(K,{size:"sm",variant:"ghost",onClick:()=>{h(T),p("edit-service-item"),f(!0)},children:e.jsx(ca,{className:"w-4 h-4"})}),e.jsx(K,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>x({open:!0,title:"Delete Item",message:`Delete "${T.name}"?`,onConfirm:()=>D(T.id)}),children:e.jsx(Ks,{className:"w-4 h-4"})})]})})]},T.id))})]})})]}):e.jsx(Te,{children:e.jsxs(Re,{className:"py-12 text-center text-muted-foreground",children:[e.jsx(pi,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Select a service from the dropdown above"})]})})]}),e.jsxs($t,{value:"service-feedbacks",className:"space-y-4",children:[e.jsx(K,{variant:"outline",size:"icon",onClick:_,children:e.jsx(_t,{className:"w-4 h-4"})}),e.jsx(Te,{children:e.jsx(Re,{className:"p-0",children:e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"ID"}),e.jsx(Z,{children:"Service"}),e.jsx(Z,{children:"User"}),e.jsx(Z,{children:"Rating"}),e.jsx(Z,{children:"Comment"}),e.jsx(Z,{children:"Helpful"}),e.jsx(Z,{children:"Created At"}),e.jsx(Z,{children:"Actions"})]})}),e.jsx(Nt,{children:i?e.jsx(ke,{children:e.jsx(W,{colSpan:8,className:"text-center py-8",children:"Loading..."})}):(Array.isArray(r)?r:[]).length===0?e.jsx(ke,{children:e.jsx(W,{colSpan:8,className:"text-center py-8",children:"No feedbacks found"})}):(Array.isArray(r)?r:[]).map(T=>e.jsxs(ke,{children:[e.jsx(W,{children:T.id}),e.jsx(W,{children:T.service?.name||T.service_id}),e.jsx(W,{children:T.user?.name||T.user_id}),e.jsx(W,{children:e.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((E,G)=>e.jsx(Ys,{className:`w-4 h-4 ${G<T.rating?"text-yellow-500 fill-yellow-500":"text-gray-300"}`},G))})}),e.jsx(W,{className:"max-w-xs truncate",children:T.comment||"N/A"}),e.jsx(W,{children:T.helpful_count||0}),e.jsx(W,{children:new Date(T.created_at).toLocaleDateString()}),e.jsx(W,{children:e.jsx(K,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>x({open:!0,title:"Delete Feedback",message:"Are you sure?",onConfirm:()=>k(T.id)}),children:e.jsx(Ks,{className:"w-4 h-4"})})})]},T.id))})]})})})]})]})})}function _oe(){const t=Ua(),[s,a]=y.useState("dashboard"),[n,r]=y.useState(!1),[i,l]=y.useState(null),[d,u]=y.useState([]),[h,p]=y.useState([]),[f,x]=y.useState([]),[v,j]=y.useState([]),[w,_]=y.useState([]),[N,k]=y.useState([]),[D,T]=y.useState([]),[E,G]=y.useState([]),[A,F]=y.useState([]),[M,J]=y.useState([]),[R,ee]=y.useState([]),[Y,re]=y.useState([]),[te,V]=y.useState([]),[U,H]=y.useState([]),[L,$]=y.useState([]),[z,ie]=y.useState([]),[le,ne]=y.useState({username:"",phone_number:"",email:"",password:"",password_confirmation:"",first_name:"",last_name:""}),[fe,Ne]=y.useState(null),[ye,Le]=y.useState("overview"),[Se,Ge]=y.useState(null),[nt,Ae]=y.useState({data:[],statistics:{}}),[Ye,Oe]=y.useState({data:[]}),[ft,kt]=y.useState({data:[]}),[tt,ps]=y.useState({broker_id:"",amount:"",reference:"",notes:""}),[ys,Fs]=y.useState("all"),[pe,Ce]=y.useState({}),[he,Ie]=y.useState({}),[ze,rt]=y.useState([]),[yt,dt]=y.useState([]),[Vt,St]=y.useState([]),[Gt,Us]=y.useState([]),[ns,gs]=y.useState(null),[pt,Ms]=y.useState({users:{page:1,per_page:50},cars:{page:1,per_page:50},bookings:{page:1,per_page:50},payments:{page:1,per_page:50},announcements:{page:1,per_page:50},appeals:{page:1,per_page:50},ads:{page:1,per_page:50},featuredCars:{page:1,per_page:50},holidays:{page:1,per_page:50},suggestions:{page:1,per_page:50},notifications:{page:1,per_page:50},otps:{page:1,per_page:50},services:{page:1,per_page:50},thirdParties:{page:1,per_page:50},serviceFeedbacks:{page:1,per_page:50},promoCodes:{page:1,per_page:50}}),[ve,Xe]=y.useState({users:{role:"all",status:"all"},cars:{status:"all",car_accepted:"all",agent_id:""},bookings:{status:"all"},payments:{type:"all"},announcements:{status:"all"},appeals:{status:"all",priority:"all"},ads:{status:"all"},featuredCars:{status:"all"},holidays:{car_id:"",active:"all"},suggestions:{status:"all"},notifications:{type:"all",is_read:"all"},otps:{phone_number:"",expired:"all"},services:{category:"all",city:"",featured:"all",search:""},thirdParties:{search:""},promoCodes:{broker_id:"all",is_active:"all"}}),[Is,vs]=y.useState(null),[Ha,Ds]=y.useState(null),[_a,bt]=y.useState("month"),[X,xt]=y.useState(null),[Hs,gt]=y.useState(!1),[He,os]=y.useState(""),[Js,Ps]=y.useState({open:!1,title:"",message:"",onConfirm:null}),Ca=async()=>{try{const{data:B}=await xe.get("/admin/reports/summary");l(B.summary)}catch(B){console.error("Error fetching summary:",B),se.error("Failed to load dashboard summary")}},yn=async()=>{r(!0);try{const B={page:pt.users.page,per_page:pt.users.per_page};ve.users.role&&ve.users.role!=="all"&&(B.role=ve.users.role),ve.users.status&&ve.users.status!=="all"&&(B.status=ve.users.status==="active"||ve.users.status==="true");const ce=await bm(B);u(ce.data.users)}catch{se.error("Failed to fetch users")}finally{r(!1)}},dn=async B=>{try{const{data:ce}=await xe.get(`/admin/users/${B}`);return ce.user}catch{return se.error("Failed to fetch user details"),null}},Qr=async()=>{r(!0);try{const B={page:pt.cars.page,per_page:pt.cars.per_page,with_images:!0};ve.cars.status&&ve.cars.status!=="all"&&(B.status=ve.cars.status),ve.cars.car_accepted&&ve.cars.car_accepted!=="all"&&(B.car_accepted=ve.cars.car_accepted),ve.cars.agent_id&&ve.cars.agent_id!=="all"&&(B.agent_id=ve.cars.agent_id);const ce=await M3(B);p(ce.data.cars)}catch{se.error("Failed to fetch cars")}finally{r(!1)}},Hc=async B=>{try{const{data:ce}=await xe.get(`/admin/cars/${B}`);return ce.car}catch{return se.error("Failed to fetch car details"),null}},un=async()=>{r(!0);try{const B=new URLSearchParams;ve.bookings.status&&ve.bookings.status!=="all"&&B.append("status",ve.bookings.status),B.append("page",pt.bookings.page),B.append("per_page",pt.bookings.per_page);const{data:ce}=await xe.get(`/admin/bookings?${B}`);x(ce.bookings)}catch{se.error("Failed to fetch bookings")}finally{r(!1)}},da=async B=>{try{const{data:ce}=await xe.get(`/admin/bookings/${B}`);return ce.booking}catch{return se.error("Failed to fetch booking details"),null}},aa=async()=>{r(!0);try{const B={page:pt.payments.page,per_page:pt.payments.per_page};ve.payments.type&&ve.payments.type!=="all"&&(B.type=ve.payments.type);const ce=await Die(B);j(ce.data.payments)}catch{se.error("Failed to fetch payments")}finally{r(!1)}},pa=async()=>{r(!0);try{const B=new URLSearchParams;ve.announcements.status&&ve.announcements.status!=="all"&&B.append("status",ve.announcements.status),B.append("page",pt.announcements.page),B.append("per_page",pt.announcements.per_page);const{data:ce}=await xe.get(`/admin/announcements?${B}`);_(ce.announcements)}catch{se.error("Failed to fetch announcements")}finally{r(!1)}},Ti=async()=>{r(!0);try{const B=new URLSearchParams;ve.appeals.status&&ve.appeals.status!=="all"&&B.append("status",ve.appeals.status),ve.appeals.priority&&ve.appeals.priority!=="all"&&B.append("priority",ve.appeals.priority),B.append("page",pt.appeals.page),B.append("per_page",pt.appeals.per_page);const{data:ce}=await xe.get(`/admin/appeals?${B}`);k(ce.appeals)}catch{se.error("Failed to fetch appeals")}finally{r(!1)}},Di=async()=>{r(!0);try{const B=new URLSearchParams;ve.ads.status&&ve.ads.status!=="all"&&B.append("status",ve.ads.status),B.append("page",pt.ads.page),B.append("per_page",pt.ads.per_page);const{data:ce}=await xe.get(`/admin/ads?${B}`);T(ce.ads)}catch{se.error("Failed to fetch ads")}finally{r(!1)}},jo=async()=>{r(!0);try{const B=new URLSearchParams;ve.featuredCars.status&&ve.featuredCars.status!=="all"&&B.append("status",ve.featuredCars.status),B.append("page",pt.featuredCars.page),B.append("per_page",pt.featuredCars.per_page);const{data:ce}=await xe.get(`/admin/featured-cars?${B}`);G(ce.featured_cars)}catch{se.error("Failed to fetch featured cars")}finally{r(!1)}},rr=async()=>{r(!0);try{const B=new URLSearchParams;ve.holidays.car_id&&ve.holidays.car_id!=="all"&&B.append("car_id",ve.holidays.car_id),ve.holidays.active&&ve.holidays.active!=="all"&&B.append("active",ve.holidays.active),B.append("page",pt.holidays.page),B.append("per_page",pt.holidays.per_page);const{data:ce}=await xe.get(`/admin/holidays?${B}`);F(ce.holidays)}catch{se.error("Failed to fetch holidays")}finally{r(!1)}},Er=async B=>{try{await xe.post("/admin/holidays",B),se.success("Holiday created successfully"),rr(),gt(!1)}catch(ce){se.error(ce.response?.data?.message||"Failed to create holiday")}},Rl=async(B,ce)=>{try{await xe.put(`/admin/holidays/${B}`,ce),se.success("Holiday updated successfully"),rr(),gt(!1)}catch{se.error("Failed to update holiday")}},Zr=async B=>{try{await xe.delete(`/admin/holidays/${B}`),se.success("Holiday deleted successfully"),rr()}catch{se.error("Failed to delete holiday")}},Fn=async()=>{r(!0);try{const B=new URLSearchParams;ve.suggestions.status&&ve.suggestions.status!=="all"&&B.append("status",ve.suggestions.status),B.append("page",pt.suggestions.page),B.append("per_page",pt.suggestions.per_page);const{data:ce}=await xe.get(`/admin/suggestions?${B}`);J(ce.suggestions)}catch{se.error("Failed to fetch suggestions")}finally{r(!1)}},Jr=async()=>{r(!0);try{const B=new URLSearchParams;ve.notifications.type&&ve.notifications.type!=="all"&&B.append("type",ve.notifications.type),ve.notifications.is_read&&ve.notifications.is_read!=="all"&&B.append("is_read",ve.notifications.is_read),B.append("page",pt.notifications.page),B.append("per_page",pt.notifications.per_page);const{data:ce}=await xe.get(`/admin/notifications?${B}`);ee(ce.notifications)}catch{se.error("Failed to fetch notifications")}finally{r(!1)}},In=async()=>{r(!0);try{const B={};ve.otps.phone_number&&(B.phone_number=ve.otps.phone_number),ve.otps.expired&&ve.otps.expired!=="all"&&(B.expired=ve.otps.expired),B.per_page=pt.otps.per_page,B.page=pt.otps.page;const ce=await eoe(B);re(ce.data.otps)}catch(B){se.error(B.response?.data?.message||"Failed to fetch OTPs")}finally{r(!1)}},Cs=async()=>{r(!0);try{const B={per_page:pt.services.per_page,page:pt.services.page};ve.services.category&&ve.services.category!=="all"&&(B.category=ve.services.category),ve.services.city&&(B.city=ve.services.city),ve.services.featured&&ve.services.featured!=="all"&&(B.featured=ve.services.featured==="true"),ve.services.search&&(B.search=ve.services.search);const ce=await q3(B);rt(ce.data.services?.data||ce.data.services||[])}catch(B){se.error(B.response?.data?.message||"Failed to fetch services")}finally{r(!1)}},wo=async B=>{try{const{third_party_id:ce,...at}=B;if(!ce){se.error("Please select a third party owner for this service");return}const cs={category:at.category,name:at.name,description:at.description||void 0,tagline:at.tagline||void 0,city:at.city||void 0,contact_phone:at.contact_phone||at.phone||void 0,contact_email:at.contact_email||void 0,min_price:at.price??void 0,max_price:at.price??void 0,currency:"USD"};console.log("Creating service for third party",ce,"with payload:",cs),await toe(ce,cs),se.success("Service created successfully"),Cs(),gt(!1)}catch(ce){console.error("Create service failed:",{status:ce.response?.status,data:ce.response?.data});const at=ce.response?.data?.message||(typeof ce.response?.data=="string"?ce.response.data:null);se.error(at||"Failed to create service")}},Ml=async(B,ce)=>{try{await soe(B,ce),se.success("Service updated successfully"),Cs(),gt(!1)}catch(at){se.error(at.response?.data?.message||"Failed to update service")}},ir=async B=>{try{await G3(B),se.success("Service deleted successfully"),Cs()}catch(ce){se.error(ce.response?.data?.message||"Failed to delete service")}},hn=async()=>{r(!0);try{const B={per_page:pt.thirdParties.per_page,page:pt.thirdParties.page},ce=await K3(B);dt(ce.data.third_parties?.data||ce.data.third_parties||[])}catch(B){se.error(B.response?.data?.message||"Failed to fetch third parties")}finally{r(!1)}},bn=async B=>{const ce={business_name:B.name,username:B.username,email:B.email,password:B.password,phone_number:B.phone,subscription:B.subscription||void 0,permissions:B.permissions||[]};console.log("Creating third party with payload:",ce);try{await roe(ce),se.success("Third party created successfully"),hn(),gt(!1)}catch(at){console.error("Create third party failed:",{payload:ce,status:at.response?.status,data:at.response?.data});const cs=at.response?.data?.message||(typeof at.response?.data=="string"?at.response.data:null);se.error(cs||"Failed to create third party")}},No=async(B,ce)=>{try{const at={business_name:ce.name,username:ce.username,email:ce.email,phone_number:ce.phone,subscription:ce.subscription||void 0,permissions:ce.permissions||[]};ce.password&&(at.password=ce.password),await ioe(B,at),se.success("Third party updated successfully"),hn(),gt(!1)}catch(at){se.error(at.response?.data?.message||"Failed to update third party")}},$n=async B=>{try{await X3(B),se.success("Third party deleted successfully"),hn()}catch(ce){se.error(ce.response?.data?.message||"Failed to delete third party")}},zn=async B=>{if(B){r(!0);try{const ce=await W3(B);St(ce.data.items||[]),gs(B)}catch(ce){se.error(ce.response?.data?.message||"Failed to fetch service items")}finally{r(!1)}}},Ei=async(B,ce)=>{try{await aoe(B,ce),se.success("Service item created successfully"),zn(B),gt(!1)}catch(at){se.error(at.response?.data?.message||"Failed to create service item")}},Ri=async(B,ce)=>{try{await noe(B,ce),se.success("Service item updated successfully"),ns&&zn(ns),gt(!1)}catch(at){se.error(at.response?.data?.message||"Failed to update service item")}},vn=async B=>{try{await Y3(B),se.success("Service item deleted successfully"),ns&&zn(ns)}catch(ce){se.error(ce.response?.data?.message||"Failed to delete service item")}},Oa=async()=>{r(!0);try{const B={per_page:pt.serviceFeedbacks.per_page,page:pt.serviceFeedbacks.page},ce=await Q3(B);Us(ce.data.feedbacks?.data||ce.data.feedbacks||[])}catch(B){se.error(B.response?.data?.message||"Failed to fetch feedbacks")}finally{r(!1)}},Mi=async B=>{try{await Z3(B),se.success("Feedback deleted successfully"),Oa()}catch(ce){se.error(ce.response?.data?.message||"Failed to delete feedback")}},_u=async(B="month")=>{try{const{data:ce}=await xe.get(`/admin/reports/statistics?period=${B}`);vs(ce.statistics)}catch{se.error("Failed to fetch statistics")}},Pl=async(B="month")=>{try{const{data:ce}=await xe.get(`/admin/reports/chart-data?period=${B}`);Ds(ce)}catch{se.error("Failed to fetch chart data")}},_o=async(B,ce)=>{try{await xe.put(`/admin/users/${B}`,ce),se.success("User updated successfully"),yn(),gt(!1)}catch(at){se.error(at.response?.data?.message||"Failed to update user")}},Rr=async(B,ce=!1)=>{try{await xe.delete(`/admin/users/${B}${ce?"/force":""}`),se.success(ce?"User permanently deleted":"User deactivated"),yn()}catch{se.error("Failed to delete user")}},ei=async(B,ce)=>{try{const at={...ce};["main_image","front_image","back_image","left_image","right_image"].forEach(xa=>{he[B]&&he[B][xa]&&(at[xa]=he[B][xa])}),await P3(B,at),se.success("Car updated successfully"),Ie(xa=>{const Ba={...xa};return delete Ba[B],Ba}),Qr(),gt(!1)}catch{se.error("Failed to update car")}},ga=(B,ce,at)=>{at&&Ie(cs=>({...cs,[B]:{...cs[B],[ce]:at}}))},Mr=async B=>{try{await xe.delete(`/admin/cars/${B}`),se.success("Car deleted successfully"),Qr()}catch{se.error("Failed to delete car")}},Ol=async(B,ce)=>{try{await xe.put(`/admin/bookings/${B}`,ce),se.success("Booking updated successfully"),un(),gt(!1)}catch{se.error("Failed to update booking")}},Ll=async B=>{try{await xe.post(`/admin/bookings/${B}/force-complete`),se.success("Booking force completed"),un()}catch{se.error("Failed to force complete booking")}},ti=async(B,ce="")=>{try{await xe.post(`/admin/refunds/${B}`,{description:ce}),se.success("Refund processed successfully"),aa()}catch(at){se.error(at.response?.data?.message||"Failed to process refund")}},qc=async B=>{try{const ce={title:B.title,message:B.message,priority:B.priority||"medium",target_audience:B.target_audience||[],status:B.status||"draft"};B.scheduled_at&&(ce.scheduled_at=B.scheduled_at),B.expires_at&&(ce.expires_at=B.expires_at),B.categories&&B.categories.length>0&&(ce.categories=B.categories),B.media&&B.media.length>0&&(ce.media=B.media),await xe.post("/admin/announcements",ce),se.success("Announcement created successfully"),pa(),gt(!1)}catch(ce){se.error(ce.response?.data?.message||"Failed to create announcement")}},Gc=async(B,ce)=>{try{await xe.put(`/admin/announcements/${B}`,ce),se.success("Announcement updated successfully"),pa(),gt(!1)}catch{se.error("Failed to update announcement")}},si=async B=>{try{await xe.delete(`/admin/announcements/${B}`),se.success("Announcement deleted successfully"),pa()}catch{se.error("Failed to delete announcement")}},Cu=async(B,ce)=>{try{await xe.put(`/admin/appeals/${B}`,ce),se.success("Appeal updated successfully"),Ti(),gt(!1)}catch{se.error("Failed to update appeal")}},Co=async(B,ce)=>{try{await xe.put(`/admin/ads/${B}`,ce),se.success("Ad updated successfully"),Di(),gt(!1)}catch{se.error("Failed to update ad")}},or=async B=>{try{await $ie(B),se.success("Ad created successfully"),Di(),gt(!1)}catch(ce){se.error(ce.response?.data?.message||"Failed to create ad")}},Bl=async B=>{try{await xe.delete(`/admin/ads/${B}`),se.success("Ad deleted successfully"),Di()}catch{se.error("Failed to delete ad")}},ku=async B=>{try{await Eie(B),se.success("Payment/Invoice issued successfully"),aa(),gt(!1)}catch(ce){se.error(ce.response?.data?.message||"Failed to issue payment")}},Su=async B=>{try{await Uie(B),se.success("Featured car created successfully"),jo(),gt(!1)}catch(ce){se.error(ce.response?.data?.message||"Failed to create featured car")}},ko=async B=>{try{await xe.delete(`/admin/featured-cars/${B}`),se.success("Featured car removed successfully"),jo()}catch{se.error("Failed to remove featured car")}},jn=async(B,ce)=>{try{await xe.put(`/admin/suggestions/${B}`,ce),se.success("Suggestion updated successfully"),Fn(),gt(!1)}catch{se.error("Failed to update suggestion")}},Fl=async B=>{try{await xe.delete(`/admin/suggestions/${B}`),se.success("Suggestion deleted successfully"),Fn()}catch{se.error("Failed to delete suggestion")}},So=async B=>{try{await xe.post("/admin/notifications/send-to-all",B),se.success("Notification sent to all users successfully"),gt(!1)}catch{se.error("Failed to send notification")}},Pr=async B=>{try{const ce=await Rie(B),at=await Mie(B);return Ce(cs=>({...cs,[B]:{...ce.data,app_fees_percentage:at.data.fee_percentage||0}})),ce.data}catch(ce){return se.error(ce.response?.data?.message||"Failed to fetch agent fee data"),null}},ai=async(B,ce)=>{try{await Pie(B,{app_fees:ce}),se.success("Agent fee percentage updated successfully"),await Pr(B),yn()}catch(at){se.error(at.response?.data?.message||"Failed to update agent fee percentage")}},Wc=(B,ce,at)=>{Ps({open:!0,title:B,message:ce,onConfirm:at})},ni=async()=>{try{const B=await bm({role:"broker",per_page:200}),ce=B.data?.users?.data??B.data?.users??B.data?.data;ie(Array.isArray(ce)?ce:[])}catch(B){console.error("Failed to fetch brokers:",B)}},Pi=async()=>{r(!0);try{const B={page:pt.promoCodes.page,per_page:pt.promoCodes.per_page};ve.promoCodes.broker_id&&ve.promoCodes.broker_id!=="all"&&(B.broker_id=ve.promoCodes.broker_id),ve.promoCodes.is_active!=="all"&&(B.is_active=ve.promoCodes.is_active);const ce=await O3(B);V(ce.data?.promo_codes||ce.data?.promoCodes||ce.data||[])}catch(B){console.error("Failed to fetch promo codes:",B),se.error("Failed to load promo codes")}finally{r(!1)}},ri=async(B,ce)=>{r(!0);try{ce?(await B3(ce.id,B),se.success("Promo code updated successfully")):(await L3(B),se.success("Promo code created successfully")),gt(!1),xt(null),await Pi()}catch(at){console.error("Failed to save promo code:",at);const cs=at.response?.data?.message||"Failed to save promo code";se.error(cs)}finally{r(!1)}},Vn=async B=>{r(!0);try{await F3(B),se.success("Promo code deleted successfully"),await Pi()}catch(ce){console.error("Failed to delete promo code:",ce),se.error("Failed to delete promo code")}finally{r(!1)}},Il=async B=>{try{const ce=await Zie(B,{per_page:50});H(ce.data?.users||[])}catch(ce){console.error("Failed to fetch promo code users:",ce),se.error("Failed to load users for this promo code")}},Oi=async B=>{try{const ce=await Ej(B,{per_page:50});$(ce.data?.referrals||[])}catch(ce){console.error("Failed to fetch broker referrals:",ce),se.error("Failed to load broker referrals")}},wn=async()=>{const{username:B,phone_number:ce,email:at,password:cs,password_confirmation:xa,first_name:Ba,last_name:Or}=le;if(!B?.trim()){se.error("Username is required");return}if(!ce?.trim()){se.error("Phone number is required");return}if(!Ba?.trim()){se.error("First name is required");return}if(!Or?.trim()){se.error("Last name is required");return}if(!cs){se.error("Password is required");return}if(cs.length<6){se.error("Password must be at least 6 characters");return}if(cs!==xa){se.error("Password and confirmation do not match");return}r(!0);try{await S1({username:B.trim(),phone_number:ce.trim().replace(/^\+?/,""),email:at?.trim()||void 0,password:cs,password_confirmation:xa||cs,first_name:Ba.trim(),last_name:Or.trim()}),se.success("Broker created successfully"),gt(!1),ne({username:"",phone_number:"",email:"",password:"",password_confirmation:"",first_name:"",last_name:""}),await ni()}catch(dr){console.error("Failed to create broker:",dr);const Do=dr.response?.data,Eo=Do?.message||(Do?.errors?Object.values(Do.errors).flat().join(" "):null)||"Failed to create broker";se.error(Eo)}finally{r(!1)}};y.useEffect(()=>{s==="dashboard"?(Ca(),_u(_a),Pl(_a)):s==="users"?yn():s==="cars"?Qr():s==="bookings"?un():s==="payments"?aa():s==="announcements"?pa():s==="appeals"?Ti():s==="ads"?Di():s==="featured-cars"?jo():s==="holidays"?rr():s==="suggestions"?Fn():s==="notifications"?Jr():s==="otps"?In():s==="services"?(Cs(),hn()):s==="promo-codes"?(Pi(),z.length||ni()):s==="brokers"&&(ni(),Nn())},[s,_a]);const Ao=async B=>{if(Ne(B),Le("overview"),B?.id)try{const[ce,at,cs,xa]=await Promise.all([I3(B.id).catch(()=>({data:null})),Kg(B.id).catch(()=>({data:{data:[],statistics:{}}})),$3(B.id).catch(()=>({data:{payouts:{data:[]},summary:{}}})),Ej(B.id).catch(()=>({data:{referrals:[]}}))]);Ge(ce.data);const Ba=at.data?.commissions?.data??at.data?.commissions,Or=Array.isArray(Ba)?Ba:[];Ae({data:Or,statistics:at.data?.statistics||{}});const dr=cs.data?.payouts||cs.data,Do=Array.isArray(dr)?dr:Array.isArray(dr?.data)?dr.data:[];Oe({data:Do});const Eo=xa.data?.referrals??xa.data?.data;$(Array.isArray(Eo)?Eo:[])}catch(ce){console.error("Failed to load broker detail:",ce)}},To=()=>{Ne(null),Ge(null),Ae({data:[],statistics:{}}),Oe({data:[]})},At=async()=>{fe?.id&&(await Ao(fe),await Nn())},Nn=async()=>{try{const B=await V3({per_page:50}),ce=B.data?.commissions?.data??B.data?.commissions;kt({data:Array.isArray(ce)?ce:[]})}catch(B){console.error("Failed to fetch broker commissions:",B)}},lr=async()=>{const B=tt.broker_id?Number(tt.broker_id):fe?.id,ce=parseFloat(tt.amount);if(!B||!ce||ce<.01){se.error("Select a broker and enter amount (min 0.01)");return}r(!0);try{await z3({broker_id:B,amount:ce,reference:tt.reference?.trim()||void 0,notes:tt.notes?.trim()||void 0}),se.success("Broker payout created successfully"),gt(!1),ps({broker_id:"",amount:"",reference:"",notes:""}),await At(),await Nn()}catch(at){const cs=at.response?.data,xa=cs?.message||(cs?.errors?Object.values(cs.errors).flat().join(" "):null)||"Failed to create payout",Ba=cs?.pending_balance;se.error(Ba!=null?`${xa} (Max: $${Number(Ba).toFixed(2)})`:xa)}finally{r(!1)}},Yc=async B=>{try{await U3(B),se.success("Commission cancelled"),await At(),await Nn()}catch(ce){se.error(ce.response?.data?.message||"Failed to cancel commission")}},La=async B=>{try{await H3(B),se.success("Referral deleted"),await At()}catch(ce){se.error(ce.response?.data?.message||"Failed to delete referral")}},cr=y.useMemo(()=>({COLORS:qr,loading:n,summary:i,users:d,cars:h,bookings:f,payments:v,announcements:w,appeals:N,ads:D,featuredCars:E,holidays:A,suggestions:M,notifications:R,otps:Y,promoCodes:te,promoCodeUsers:U,brokerReferrals:L,brokers:z,brokerForm:le,setBrokerForm:ne,selectedBroker:fe,setSelectedBroker:Ne,brokerDetailTab:ye,setBrokerDetailTab:Le,brokerBalance:Se,brokerCommissions:nt,setBrokerCommissions:Ae,brokerPayouts:Ye,brokerCommissionsList:ft,payoutForm:tt,setPayoutForm:ps,commissionStatusFilter:ys,setCommissionStatusFilter:Fs,filters:ve,setFilters:Xe,pagination:pt,setPagination:Ms,selectedItem:X,setSelectedItem:xt,modalOpen:Hs,setModalOpen:gt,modalType:He,setModalType:os,confirmDialog:Js,setConfirmDialog:Ps,navigate:t,fetchUsers:yn,fetchUserDetails:dn,fetchCars:Qr,fetchCarDetails:Hc,fetchBookings:un,fetchBookingDetails:da,fetchPayments:aa,fetchAnnouncements:pa,fetchAppeals:Ti,fetchAds:Di,fetchFeaturedCars:jo,fetchHolidays:rr,fetchSuggestions:Fn,fetchNotifications:Jr,fetchOtps:In,updateUser:_o,deleteUser:Rr,updateCar:ei,deleteCar:Mr,updateBooking:Ol,forceCompleteBooking:Ll,processRefund:ti,deleteAnnouncement:si,deleteAd:Bl,deleteFeaturedCar:ko,deleteHoliday:Zr,deleteSuggestion:Fl,showConfirmDialog:Wc,fetchPromoCodes:Pi,fetchPromoCodeUsers:Il,fetchBrokerReferrals:Oi,fetchBrokers:ni,handleCreateOrUpdatePromoCode:ri,handleDeletePromoCode:Vn,handleCreateBroker:wn,openBrokerDetail:Ao,closeBrokerDetail:To,refreshBrokerDetail:At,fetchBrokerCommissionsList:Nn,handleCreateBrokerPayout:lr,handleCancelCommission:Yc,handleDeleteBrokerReferral:La,services:ze,thirdParties:yt,serviceItems:Vt,serviceFeedbacks:Gt,selectedServiceId:ns,setSelectedServiceId:gs,fetchServices:Cs,fetchThirdParties:hn,fetchServiceItems:zn,fetchServiceFeedbacks:Oa,handleCreateService:wo,handleUpdateService:Ml,handleDeleteService:ir,handleCreateThirdParty:bn,handleUpdateThirdParty:No,handleDeleteThirdParty:$n,handleCreateServiceItem:Ei,handleUpdateServiceItem:Ri,handleDeleteServiceItem:vn,handleDeleteFeedback:Mi}),[n,i,d,h,f,v,w,N,D,E,A,M,R,Y,te,U,L,z,le,fe,ye,Se,nt,Ye,ft,tt,ys,ve,pt,X,Hs,He,Js,ze,yt,Vt,Gt,ns]);return e.jsx(aO.Provider,{value:cr,children:e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900",children:[e.jsx("header",{className:"sticky top-0 z-50 backdrop-blur-xl bg-white/80 dark:bg-gray-900/80 border-b border-gray-200/50 dark:border-gray-800/50 shadow-sm",children:e.jsx("div",{className:"container mx-auto px-4 sm:px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(K,{variant:"ghost",size:"icon",onClick:()=>t("/"),className:"h-9 w-9","aria-label":"Go to home page",children:e.jsx(ZT,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(to right, ${qr.darkBlue}, ${qr.teal}, ${qr.limeGreen})`},children:"Admin Dashboard"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Manage your platform"})]})]}),e.jsx(K,{variant:"ghost",size:"icon",onClick:()=>{localStorage.clear(),t("/auth")},className:"h-9 w-9","aria-label":"Logout",children:e.jsx(yl,{className:"w-5 h-5"})})]})})}),e.jsx("main",{className:"container mx-auto px-4 sm:px-6 py-6 max-w-7xl",children:e.jsxs(uo,{value:s,onValueChange:a,className:"w-full",children:[e.jsxs(ki,{className:"grid w-full grid-cols-8 lg:grid-cols-16 mb-6 h-auto p-1 bg-gray-100 dark:bg-gray-800",children:[e.jsxs(Pt,{value:"dashboard",className:"text-xs",children:[e.jsx(Qd,{className:"w-4 h-4 mr-1"}),"Dashboard"]}),e.jsxs(Pt,{value:"users",className:"text-xs",children:[e.jsx(fs,{className:"w-4 h-4 mr-1"}),"Users"]}),e.jsxs(Pt,{value:"cars",className:"text-xs",children:[e.jsx(zt,{className:"w-4 h-4 mr-1"}),"Cars"]}),e.jsxs(Pt,{value:"bookings",className:"text-xs",children:[e.jsx(Rs,{className:"w-4 h-4 mr-1"}),"Bookings"]}),e.jsxs(Pt,{value:"payments",className:"text-xs",children:[e.jsx(Bs,{className:"w-4 h-4 mr-1"}),"Payments"]}),e.jsxs(Pt,{value:"promo-codes",className:"text-xs",children:[e.jsx(jg,{className:"w-4 h-4 mr-1"}),"Promo Codes"]}),e.jsxs(Pt,{value:"brokers",className:"text-xs",children:[e.jsx(fs,{className:"w-4 h-4 mr-1"}),"Brokers"]}),e.jsxs(Pt,{value:"announcements",className:"text-xs",children:[e.jsx(sD,{className:"w-4 h-4 mr-1"}),"Announcements"]}),e.jsxs(Pt,{value:"appeals",className:"text-xs",children:[e.jsx(pl,{className:"w-4 h-4 mr-1"}),"Appeals"]}),e.jsxs(Pt,{value:"ads",className:"text-xs",children:[e.jsx(gl,{className:"w-4 h-4 mr-1"}),"Ads"]}),e.jsxs(Pt,{value:"featured-cars",className:"text-xs",children:[e.jsx(Ys,{className:"w-4 h-4 mr-1"}),"Featured"]}),e.jsxs(Pt,{value:"holidays",className:"text-xs",children:[e.jsx(yg,{className:"w-4 h-4 mr-1"}),"Holidays"]}),e.jsxs(Pt,{value:"suggestions",className:"text-xs",children:[e.jsx(e7,{className:"w-4 h-4 mr-1"}),"Suggestions"]}),e.jsxs(Pt,{value:"notifications",className:"text-xs",children:[e.jsx(xg,{className:"w-4 h-4 mr-1"}),"Notifications"]}),e.jsxs(Pt,{value:"otps",className:"text-xs",children:[e.jsx(eD,{className:"w-4 h-4 mr-1"}),"OTPs"]}),e.jsxs(Pt,{value:"services",className:"text-xs",children:[e.jsx(Rc,{className:"w-4 h-4 mr-1"}),"Services"]})]}),e.jsx($t,{value:"dashboard",className:"space-y-6",children:e.jsx(loe,{})}),e.jsx($t,{value:"users",className:"space-y-4",children:e.jsx(coe,{})}),e.jsx($t,{value:"cars",className:"space-y-4",children:e.jsx(doe,{})}),e.jsx($t,{value:"bookings",className:"space-y-4",children:e.jsx(uoe,{})}),e.jsx($t,{value:"payments",className:"space-y-4",children:e.jsx(hoe,{})}),e.jsx($t,{value:"announcements",className:"space-y-4",children:e.jsx(moe,{})}),e.jsx($t,{value:"appeals",className:"space-y-4",children:e.jsx(foe,{})}),e.jsx($t,{value:"ads",className:"space-y-4",children:e.jsx(poe,{})}),e.jsx($t,{value:"promo-codes",className:"space-y-4",children:e.jsx(goe,{})}),e.jsx($t,{value:"brokers",className:"space-y-4",children:e.jsx(xoe,{})}),e.jsx($t,{value:"featured-cars",className:"space-y-4",children:e.jsx(yoe,{})}),e.jsx($t,{value:"holidays",className:"space-y-4",children:e.jsx(boe,{})}),e.jsx($t,{value:"suggestions",className:"space-y-4",children:e.jsx(voe,{})}),e.jsx($t,{value:"notifications",className:"space-y-4",children:e.jsx(joe,{})}),e.jsx($t,{value:"otps",className:"space-y-4",children:e.jsx(woe,{})}),e.jsx($t,{value:"services",className:"space-y-6",children:e.jsx(Noe,{})}),e.jsx($t,{value:"services-legacy",style:{display:"none"},children:e.jsxs(uo,{defaultValue:"services-list",className:"w-full",children:[e.jsxs(ki,{className:"grid w-full grid-cols-4 mb-4",children:[e.jsxs(Pt,{value:"services-list",className:"text-xs",children:[e.jsx(Rc,{className:"w-4 h-4 mr-1"}),"Services"]}),e.jsxs(Pt,{value:"third-parties",className:"text-xs",children:[e.jsx(sm,{className:"w-4 h-4 mr-1"}),"Third Parties"]}),e.jsxs(Pt,{value:"service-items",className:"text-xs",children:[e.jsx(pi,{className:"w-4 h-4 mr-1"}),"Service Items"]}),e.jsxs(Pt,{value:"service-feedbacks",className:"text-xs",children:[e.jsx(Ur,{className:"w-4 h-4 mr-1"}),"Feedbacks"]})]}),e.jsxs($t,{value:"services-list",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(K,{onClick:()=>{xt(null),os("create-service"),gt(!0)},children:[e.jsx(Gs,{className:"w-4 h-4 mr-1"}),"Create Service"]}),e.jsx(K,{variant:"outline",size:"icon",onClick:Cs,"aria-label":"Refresh services",children:e.jsx(_t,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oe,{placeholder:"Search services...",value:ve.services.search,onChange:B=>Xe({...ve,services:{...ve.services,search:B.target.value}}),className:"w-48"}),e.jsxs(Je,{value:ve.services.category,onValueChange:B=>Xe({...ve,services:{...ve.services,category:B}}),children:[e.jsx(Qe,{className:"w-40",children:e.jsx(et,{placeholder:"Category"})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"all",children:"All Categories"}),e.jsx(de,{value:"transport",children:"Transport"}),e.jsx(de,{value:"accommodation",children:"Accommodation"}),e.jsx(de,{value:"food",children:"Food & Dining"}),e.jsx(de,{value:"entertainment",children:"Entertainment"}),e.jsx(de,{value:"other",children:"Other"})]})]}),e.jsxs(Je,{value:ve.services.featured,onValueChange:B=>Xe({...ve,services:{...ve.services,featured:B}}),children:[e.jsx(Qe,{className:"w-32",children:e.jsx(et,{placeholder:"Featured"})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"all",children:"All"}),e.jsx(de,{value:"true",children:"Featured"}),e.jsx(de,{value:"false",children:"Not Featured"})]})]}),e.jsx(K,{onClick:Cs,children:e.jsx(Ea,{className:"w-4 h-4"})})]})]}),e.jsx(Te,{children:e.jsx(Re,{className:"p-0",children:e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"ID"}),e.jsx(Z,{children:"Name"}),e.jsx(Z,{children:"Owner"}),e.jsx(Z,{children:"Category"}),e.jsx(Z,{children:"Price"}),e.jsx(Z,{children:"Rating"}),e.jsx(Z,{children:"Featured"}),e.jsx(Z,{children:"Actions"})]})}),e.jsx(Nt,{children:n?e.jsx(ke,{children:e.jsx(W,{colSpan:8,className:"text-center py-8",children:"Loading..."})}):ze.length===0?e.jsx(ke,{children:e.jsx(W,{colSpan:8,className:"text-center py-8",children:"No services found"})}):ze.map(B=>e.jsxs(ke,{children:[e.jsx(W,{children:B.id}),e.jsx(W,{className:"font-medium",children:B.name}),e.jsx(W,{children:B.third_party?e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-medium",children:B.third_party.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:B.third_party.email})]}):B.third_party_id?e.jsxs("span",{className:"text-muted-foreground",children:["ID: ",B.third_party_id]}):e.jsx("span",{className:"text-muted-foreground",children:"-"})}),e.jsx(W,{children:e.jsx(Me,{variant:"outline",children:B.category})}),e.jsxs(W,{children:["$",(parseFloat(B.price)||0).toFixed(2)]}),e.jsx(W,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ys,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}),B.rating?(parseFloat(B.rating)||0).toFixed(1):"N/A"]})}),e.jsx(W,{children:e.jsx(Me,{variant:B.featured?"default":"secondary",children:B.featured?"Yes":"No"})}),e.jsx(W,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(K,{size:"sm",variant:"ghost",onClick:()=>{xt(B),os("view-service"),gt(!0)},children:e.jsx(sa,{className:"w-4 h-4"})}),e.jsx(K,{size:"sm",variant:"ghost",onClick:()=>{xt(B),os("edit-service"),gt(!0)},children:e.jsx(ca,{className:"w-4 h-4"})}),e.jsx(K,{size:"sm",variant:"ghost",onClick:()=>zn(B.id),children:e.jsx(pi,{className:"w-4 h-4"})}),e.jsx(K,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>Ps({open:!0,title:"Delete Service",message:`Are you sure you want to delete "${B.name}"?`,onConfirm:()=>ir(B.id)}),children:e.jsx(Ks,{className:"w-4 h-4"})})]})})]},B.id))})]})})})]}),e.jsxs($t,{value:"third-parties",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(K,{onClick:()=>{xt(null),os("create-third-party"),gt(!0)},children:[e.jsx(Gs,{className:"w-4 h-4 mr-1"}),"Create Third Party"]}),e.jsx(K,{variant:"outline",size:"icon",onClick:hn,"aria-label":"Refresh third parties",children:e.jsx(_t,{className:"w-4 h-4"})})]}),e.jsx(oe,{placeholder:"Search third parties...",value:ve.thirdParties.search,onChange:B=>Xe({...ve,thirdParties:{...ve.thirdParties,search:B.target.value}}),className:"w-64"})]}),e.jsx(Te,{children:e.jsx(Re,{className:"p-0",children:e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"ID"}),e.jsx(Z,{children:"Name"}),e.jsx(Z,{children:"Contact"}),e.jsx(Z,{children:"Category"}),e.jsx(Z,{children:"City"}),e.jsx(Z,{children:"Subscription"}),e.jsx(Z,{children:"Created At"}),e.jsx(Z,{children:"Actions"})]})}),e.jsx(Nt,{children:n?e.jsx(ke,{children:e.jsx(W,{colSpan:8,className:"text-center py-8",children:"Loading..."})}):yt.length===0?e.jsx(ke,{children:e.jsx(W,{colSpan:8,className:"text-center py-8",children:"No third parties found"})}):yt.map(B=>e.jsxs(ke,{children:[e.jsx(W,{children:B.id}),e.jsx(W,{children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:B.name}),B.description&&e.jsx("p",{className:"text-xs text-muted-foreground truncate max-w-[200px]",children:B.description})]})}),e.jsx(W,{children:e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{children:B.email}),B.phone&&e.jsx("p",{className:"text-muted-foreground",children:B.phone})]})}),e.jsx(W,{children:e.jsx(Me,{variant:"outline",children:B.category||"N/A"})}),e.jsx(W,{children:B.city||"N/A"}),e.jsx(W,{children:e.jsx(Me,{variant:B.subscription==="premium"||B.subscription==="enterprise"?"default":"secondary",children:B.subscription||"Free"})}),e.jsx(W,{children:new Date(B.created_at).toLocaleDateString()}),e.jsx(W,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(K,{size:"sm",variant:"ghost",title:"View Details",onClick:()=>{xt(B),os("view-third-party"),gt(!0)},children:e.jsx(sa,{className:"w-4 h-4"})}),e.jsx(K,{size:"sm",variant:"ghost",title:"Edit",onClick:()=>{xt(B),os("edit-third-party"),gt(!0)},children:e.jsx(ca,{className:"w-4 h-4"})}),e.jsx(K,{size:"sm",variant:"ghost",title:"Add Service for this Third Party",onClick:()=>{xt({third_party_id:B.id,third_party_name:B.name}),os("create-service-for-tp"),gt(!0)},children:e.jsx(Gs,{className:"w-4 h-4"})}),e.jsx(K,{size:"sm",variant:"ghost",className:"text-destructive",title:"Delete",onClick:()=>Ps({open:!0,title:"Delete Third Party",message:`Are you sure you want to delete "${B.name}"?`,onConfirm:()=>$n(B.id)}),children:e.jsx(Ks,{className:"w-4 h-4"})})]})})]},B.id))})]})})})]}),e.jsxs($t,{value:"service-items",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-2",children:ns&&e.jsxs(e.Fragment,{children:[e.jsxs(K,{onClick:()=>{xt(null),os("create-service-item"),gt(!0)},children:[e.jsx(Gs,{className:"w-4 h-4 mr-1"}),"Add Item"]}),e.jsx(K,{variant:"outline",size:"icon",onClick:()=>zn(ns),"aria-label":"Refresh service items",children:e.jsx(_t,{className:"w-4 h-4"})})]})}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(Je,{value:ns?.toString()||"",onValueChange:B=>{B&&zn(parseInt(B))},children:[e.jsx(Qe,{className:"w-64",children:e.jsx(et,{placeholder:"Select a service to view items"})}),e.jsx(Ze,{children:ze.map(B=>e.jsx(de,{value:B.id.toString(),children:B.name},B.id))})]})})]}),ns?e.jsxs(Te,{children:[e.jsx(rs,{children:e.jsxs(is,{className:"text-lg",children:["Items for Service #",ns]})}),e.jsx(Re,{className:"p-0",children:e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"ID"}),e.jsx(Z,{children:"Name"}),e.jsx(Z,{children:"Description"}),e.jsx(Z,{children:"Price"}),e.jsx(Z,{children:"Image"}),e.jsx(Z,{children:"Actions"})]})}),e.jsx(Nt,{children:n?e.jsx(ke,{children:e.jsx(W,{colSpan:6,className:"text-center py-8",children:"Loading..."})}):Vt.length===0?e.jsx(ke,{children:e.jsx(W,{colSpan:6,className:"text-center py-8",children:"No items found for this service"})}):Vt.map(B=>e.jsxs(ke,{children:[e.jsx(W,{children:B.id}),e.jsx(W,{className:"font-medium",children:B.name}),e.jsx(W,{className:"max-w-xs truncate",children:B.description||"N/A"}),e.jsxs(W,{children:["$",(parseFloat(B.price)||0).toFixed(2)]}),e.jsx(W,{children:B.image?e.jsx("img",{src:B.image,alt:B.name,className:"w-10 h-10 object-cover rounded"}):e.jsx("span",{className:"text-muted-foreground",children:"No image"})}),e.jsx(W,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(K,{size:"sm",variant:"ghost",onClick:()=>{xt(B),os("edit-service-item"),gt(!0)},children:e.jsx(ca,{className:"w-4 h-4"})}),e.jsx(K,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>Ps({open:!0,title:"Delete Item",message:`Are you sure you want to delete "${B.name}"?`,onConfirm:()=>vn(B.id)}),children:e.jsx(Ks,{className:"w-4 h-4"})})]})})]},B.id))})]})})]}):e.jsx(Te,{children:e.jsxs(Re,{className:"py-12 text-center text-muted-foreground",children:[e.jsx(pi,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Select a service from the dropdown above to view its items"}),e.jsxs("p",{className:"text-sm mt-2",children:["Or click the ",e.jsx(pi,{className:"w-4 h-4 inline"})," icon on a service in the Services tab"]})]})})]}),e.jsxs($t,{value:"service-feedbacks",className:"space-y-4",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(K,{variant:"outline",size:"icon",onClick:Oa,"aria-label":"Refresh service feedbacks",children:e.jsx(_t,{className:"w-4 h-4"})})}),e.jsx(Te,{children:e.jsx(Re,{className:"p-0",children:e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"ID"}),e.jsx(Z,{children:"Service"}),e.jsx(Z,{children:"User"}),e.jsx(Z,{children:"Rating"}),e.jsx(Z,{children:"Comment"}),e.jsx(Z,{children:"Helpful"}),e.jsx(Z,{children:"Created At"}),e.jsx(Z,{children:"Actions"})]})}),e.jsx(Nt,{children:n?e.jsx(ke,{children:e.jsx(W,{colSpan:8,className:"text-center py-8",children:"Loading..."})}):Gt.length===0?e.jsx(ke,{children:e.jsx(W,{colSpan:8,className:"text-center py-8",children:"No feedbacks found"})}):Gt.map(B=>e.jsxs(ke,{children:[e.jsx(W,{children:B.id}),e.jsx(W,{children:B.service?.name||B.service_id}),e.jsx(W,{children:B.user?.name||B.user_id}),e.jsx(W,{children:e.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((ce,at)=>e.jsx(Ys,{className:`w-4 h-4 ${at<B.rating?"text-yellow-500 fill-yellow-500":"text-gray-300"}`},at))})}),e.jsx(W,{className:"max-w-xs truncate",children:B.comment||"N/A"}),e.jsx(W,{children:B.helpful_count||0}),e.jsx(W,{children:new Date(B.created_at).toLocaleDateString()}),e.jsx(W,{children:e.jsx(K,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>Ps({open:!0,title:"Delete Feedback",message:"Are you sure you want to delete this feedback?",onConfirm:()=>Mi(B.id)}),children:e.jsx(Ks,{className:"w-4 h-4"})})})]},B.id))})]})})})]})]})})]})}),e.jsx(Vx,{open:Js.open,onOpenChange:B=>Ps({...Js,open:B}),children:e.jsxs(Hm,{children:[e.jsxs(qm,{children:[e.jsx(Wm,{children:Js.title}),e.jsx(Ym,{children:Js.message})]}),e.jsxs(Gm,{children:[e.jsx(Xm,{onClick:()=>Ps({...Js,open:!1}),children:"Cancel"}),e.jsx(Km,{onClick:()=>{Js.onConfirm&&Js.onConfirm(),Ps({...Js,open:!1})},children:"Confirm"})]})]})}),e.jsx(go,{children:Hs&&e.jsx(Va,{open:Hs,onOpenChange:gt,children:e.jsxs(Ra,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Ma,{children:e.jsxs(Pa,{children:[He==="view-user"&&"User Details",He==="edit-user"&&"Edit User",He==="view-car"&&"Car Details",He==="edit-car"&&"Edit Car",He==="view-booking"&&"Booking Details",He==="edit-booking"&&"Edit Booking",He==="create-announcement"&&"Create Announcement",He==="edit-announcement"&&"Edit Announcement",He==="edit-appeal"&&"Edit Appeal",He==="edit-ad"&&"Edit Ad",He==="edit-suggestion"&&"Edit Suggestion",He==="send-notification"&&"Send Notification to All Users",He==="create-holiday"&&"Create Holiday",He==="edit-holiday"&&"Edit Holiday",He==="create-ad"&&"Create Ad",He==="create-payment"&&"Issue Payment/Invoice",He==="create-featured-car"&&"Create Featured Car",He==="create-service"&&"Create Service",He==="view-service"&&"Service Details",He==="edit-service"&&"Edit Service",He==="create-third-party"&&"Create Third Party",He==="view-third-party"&&"Third Party Details",He==="edit-third-party"&&"Edit Third Party",He==="create-service-for-tp"&&`Add Service for ${X?.third_party_name||"Third Party"}`,He==="create-service-item"&&"Create Service Item",He==="edit-service-item"&&"Edit Service Item",He==="create-promo-code"&&"Create Promo Code",He==="edit-promo-code"&&"Edit Promo Code",He==="create-broker"&&"Create Broker",He==="create-broker-payout"&&"Create Broker Payout",He==="view-promo-users"&&"Promo Code Users"]})}),He==="view-user"&&X&&e.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"ID"}),e.jsx("p",{className:"text-sm",children:X.id})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Username"}),e.jsx("p",{className:"text-sm",children:X.username||"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Email"}),e.jsx("p",{className:"text-sm",children:X.email||"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Phone Number"}),e.jsx("p",{className:"text-sm",children:X.phone_number||"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"First Name"}),e.jsx("p",{className:"text-sm",children:X.first_name||"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Last Name"}),e.jsx("p",{className:"text-sm",children:X.last_name||"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Gender"}),e.jsx("p",{className:"text-sm",children:X.gender||"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Birth Date"}),e.jsx("p",{className:"text-sm",children:X.birth_date?new Date(X.birth_date).toLocaleDateString():"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"City"}),e.jsx("p",{className:"text-sm",children:X.city||"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Role"}),e.jsx("p",{className:"text-sm",children:X.role||"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Status"}),e.jsx(Me,{variant:X.status?"default":"secondary",children:X.status?"Active":"Inactive"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Verified by Admin"}),e.jsx(Me,{variant:X.verified_by_admin?"default":"secondary",children:X.verified_by_admin?"Yes":"No"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Is Locked"}),e.jsx(Me,{variant:X.is_locked?"destructive":"default",children:X.is_locked?"Locked":"Unlocked"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Created At"}),e.jsx("p",{className:"text-sm",children:new Date(X.created_at).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Updated At"}),e.jsx("p",{className:"text-sm",children:new Date(X.updated_at).toLocaleString()})]})]}),X.bio&&e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Bio"}),e.jsx("p",{className:"text-sm",children:X.bio})]}),X.client&&e.jsxs("div",{className:"border-t pt-4",children:[e.jsx(q,{className:"text-sm font-semibold mb-2 block",children:"Client Details"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(q,{className:"text-xs",children:"License Number"}),e.jsx("p",{className:"text-sm",children:X.client.license_number||"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-xs",children:"Profession"}),e.jsx("p",{className:"text-sm",children:X.client.profession||"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-xs",children:"Average Salary"}),e.jsx("p",{className:"text-sm",children:X.client.avg_salary||"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-xs",children:"Promo Code"}),e.jsx("p",{className:"text-sm",children:X.client.promo_code||"N/A"})]})]})]}),X.agent&&e.jsxs("div",{className:"border-t pt-4",children:[e.jsx(q,{className:"text-sm font-semibold mb-2 block",children:"Agent/Agency Details"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(q,{className:"text-xs",children:"Business Type"}),e.jsx("p",{className:"text-sm",children:X.agent.business_type||"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-xs",children:"Company Number"}),e.jsx("p",{className:"text-sm",children:X.agent.company_number||"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-xs",children:"Profession"}),e.jsx("p",{className:"text-sm",children:X.agent.profession||"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-xs",children:"Website"}),e.jsx("p",{className:"text-sm",children:X.agent.website||"N/A"})]})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(K,{onClick:()=>{os("edit-user")},className:"flex-1",children:"Edit User"}),e.jsx(K,{variant:"outline",onClick:()=>gt(!1),children:"Close"})]})]}),He==="edit-user"&&X&&e.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(q,{children:"ID"}),e.jsx(oe,{value:X.id||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Username"}),e.jsx(oe,{value:X.username||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Email"}),e.jsx(oe,{type:"email",value:X.email||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Phone Number"}),e.jsx(oe,{value:X.phone_number||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"First Name"}),e.jsx(oe,{value:X.first_name||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Last Name"}),e.jsx(oe,{value:X.last_name||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Gender"}),e.jsx(oe,{value:X.gender||"N/A",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Birth Date"}),e.jsx(oe,{type:"date",value:X.birth_date?new Date(X.birth_date).toISOString().split("T")[0]:"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"City"}),e.jsx(oe,{value:X.city||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Role"}),e.jsx(oe,{value:X.role||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Created At"}),e.jsx(oe,{value:new Date(X.created_at).toLocaleString(),disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Updated At"}),e.jsx(oe,{value:new Date(X.updated_at).toLocaleString(),disabled:!0})]})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Bio"}),e.jsx(tn,{value:X.bio||"",disabled:!0})]}),X.client&&e.jsxs("div",{className:"border-t pt-4",children:[e.jsx(q,{className:"text-sm font-semibold mb-2 block",children:"Client Details (Read-only)"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(q,{className:"text-xs",children:"License Number"}),e.jsx(oe,{value:X.client.license_number||"N/A",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-xs",children:"Profession"}),e.jsx(oe,{value:X.client.profession||"N/A",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-xs",children:"Average Salary"}),e.jsx(oe,{value:X.client.avg_salary||"N/A",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-xs",children:"Promo Code"}),e.jsx(oe,{value:X.client.promo_code||"N/A",disabled:!0})]})]})]}),X.agent&&e.jsxs("div",{className:"border-t pt-4",children:[e.jsx(q,{className:"text-sm font-semibold mb-2 block",children:"Agent/Agency Details (Read-only)"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(q,{className:"text-xs",children:"Business Type"}),e.jsx(oe,{value:X.agent.business_type||"N/A",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-xs",children:"Company Number"}),e.jsx(oe,{value:X.agent.company_number||"N/A",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-xs",children:"Profession"}),e.jsx(oe,{value:X.agent.profession||"N/A",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-xs",children:"Website"}),e.jsx(oe,{value:X.agent.website||"N/A",disabled:!0})]})]})]}),e.jsxs("div",{className:"border-t pt-4 space-y-3",children:[e.jsx(q,{className:"text-sm font-semibold block",children:"Editable Fields"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(q,{children:"Verified by Admin"}),e.jsx(fn,{checked:X.verified_by_admin||!1,onCheckedChange:B=>xt({...X,verified_by_admin:B})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(q,{children:"Status (Active)"}),e.jsx(fn,{checked:X.status!==void 0?X.status:!0,onCheckedChange:B=>xt({...X,status:B})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(q,{children:"Is Locked"}),e.jsx(fn,{checked:X.is_locked||!1,onCheckedChange:B=>xt({...X,is_locked:B})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(q,{children:"Update Access (Allow Profile Updates)"}),e.jsx(fn,{checked:X.update_access!==void 0?X.update_access:!0,onCheckedChange:B=>xt({...X,update_access:B})})]})]}),(X.role==="agency"||X.role==="agent")&&e.jsxs("div",{className:"border-t pt-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(q,{className:"text-sm font-semibold",children:"App Fees Management"}),e.jsxs(K,{variant:"outline",size:"sm",onClick:async()=>{await Pr(X.id)},children:[e.jsx(_t,{className:"w-4 h-4 mr-1"}),"Refresh Balance"]})]}),pe[X.id]?e.jsxs("div",{className:"space-y-2 p-3 bg-gray-50 dark:bg-gray-800 rounded-md",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Current App Fees %:"}),e.jsxs("span",{className:"font-semibold",children:[pe[X.id].app_fees_percentage||0,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Total Balance:"}),e.jsxs("span",{className:"font-semibold",children:["$",pe[X.id].total_balance||0]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Paid Amount:"}),e.jsxs("span",{className:"text-green-600",children:["$",pe[X.id].breakdown?.paid_amount||0]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Remaining Balance:"}),e.jsxs("span",{className:"text-orange-600",children:["$",pe[X.id].breakdown?.remaining_balance||0]})]})]}):e.jsx("p",{className:"text-sm text-gray-500",children:'Click "Refresh Balance" to load app fees data'}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{children:"Update App Fees Percentage"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(oe,{type:"number",step:"0.01",min:"0",max:"100",placeholder:"e.g., 10.00",defaultValue:pe[X.id]?.app_fees_percentage||"",onChange:B=>{const ce=parseFloat(B.target.value);!isNaN(ce)&&ce>=0&&ce<=100&&xt({...X,app_fees_percentage:ce})}}),e.jsx(K,{onClick:()=>{X.app_fees_percentage!==void 0?ai(X.id,X.app_fees_percentage):se.error("Please enter a valid app fees percentage")},variant:"outline",children:"Update %"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Enter percentage (0-100), e.g., 10.00 for 10%"})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(K,{onClick:()=>_o(X.id,{verified_by_admin:X.verified_by_admin,status:X.status,is_locked:X.is_locked,update_access:X.update_access!==void 0?X.update_access:!0}),className:"flex-1",children:"Update User"}),e.jsx(K,{variant:"outline",onClick:()=>gt(!1),children:"Cancel"})]})]}),He==="view-car"&&X&&e.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"ID"}),e.jsx("p",{className:"text-sm",children:X.id})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Make"}),e.jsx("p",{className:"text-sm",children:X.make||"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Model"}),e.jsx("p",{className:"text-sm",children:X.model||"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Year"}),e.jsx("p",{className:"text-sm",children:X.year||"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"License Plate"}),e.jsx("p",{className:"text-sm",children:X.license_plate||"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Color"}),e.jsx("p",{className:"text-sm",children:X.color||"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Mileage"}),e.jsx("p",{className:"text-sm",children:X.mileage?.toLocaleString()||"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Fuel Type"}),e.jsx("p",{className:"text-sm",children:X.fuel_type||"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Transmission"}),e.jsx("p",{className:"text-sm",children:X.transmission||"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Wheels Drive"}),e.jsx("p",{className:"text-sm",children:X.wheels_drive||"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Category"}),e.jsx("p",{className:"text-sm",children:X.car_category||"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Seats"}),e.jsx("p",{className:"text-sm",children:X.seats||"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Doors"}),e.jsx("p",{className:"text-sm",children:X.doors||"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Daily Rate"}),e.jsxs("p",{className:"text-sm",children:["$",X.daily_rate||"0.00"]})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Holiday Rate"}),e.jsxs("p",{className:"text-sm",children:["$",X.holiday_rate||"N/A"]})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Status"}),e.jsx(Me,{variant:"outline",children:X.status||"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Car Accepted"}),e.jsx(Me,{variant:X.car_accepted?"default":"secondary",children:X.car_accepted?"Yes":"No"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"With Driver"}),e.jsx(Me,{variant:X.with_driver?"default":"secondary",children:X.with_driver?"Yes":"No"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Is Delivered"}),e.jsx(Me,{variant:X.is_delivered?"default":"secondary",children:X.is_delivered?"Yes":"No"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Min Rental Days"}),e.jsx("p",{className:"text-sm",children:X.min_rental_days||"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Views Count"}),e.jsx("p",{className:"text-sm",children:X.views_count||0})]})]}),X.features&&X.features.length>0&&e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Features"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:X.features.map((B,ce)=>e.jsx(Me,{variant:"outline",children:B},ce))})]}),X.car_add_on&&X.car_add_on.length>0&&e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Add-ons"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:X.car_add_on.map((B,ce)=>e.jsx(Me,{variant:"outline",children:B},ce))})]}),X.notes&&e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Notes"}),e.jsx("p",{className:"text-sm whitespace-pre-wrap",children:X.notes})]}),X.agent&&e.jsxs("div",{className:"border-t pt-4",children:[e.jsx(q,{className:"text-sm font-semibold mb-2 block",children:"Agent"}),e.jsxs("p",{className:"text-sm",children:[X.agent.username||X.agent.first_name," ",X.agent.last_name]}),e.jsx("p",{className:"text-xs text-gray-500",children:X.agent.phone_number})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(K,{onClick:()=>{os("edit-car")},className:"flex-1",children:"Edit Car"}),e.jsx(K,{variant:"outline",onClick:()=>gt(!1),children:"Close"})]})]}),He==="edit-car"&&X&&e.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(q,{children:"ID"}),e.jsx(oe,{value:X.id||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Make"}),e.jsx(oe,{value:X.make||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Model"}),e.jsx(oe,{value:X.model||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Year"}),e.jsx(oe,{value:X.year||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"License Plate"}),e.jsx(oe,{value:X.license_plate||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Color"}),e.jsx(oe,{value:X.color||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Mileage"}),e.jsx(oe,{value:X.mileage?.toLocaleString()||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Fuel Type"}),e.jsx(oe,{value:X.fuel_type||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Transmission"}),e.jsx(oe,{value:X.transmission||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Wheels Drive"}),e.jsx(oe,{value:X.wheels_drive||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Category"}),e.jsx(oe,{value:X.car_category||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Seats"}),e.jsx(oe,{value:X.seats||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Doors"}),e.jsx(oe,{value:X.doors||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Daily Rate"}),e.jsx(oe,{value:`$${X.daily_rate||"0.00"}`,disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Holiday Rate"}),e.jsx(oe,{value:`$${X.holiday_rate||"N/A"}`,disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Min Rental Days"}),e.jsx(oe,{value:X.min_rental_days||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Views Count"}),e.jsx(oe,{value:X.views_count||0,disabled:!0})]})]}),X.features&&X.features.length>0&&e.jsxs("div",{children:[e.jsx(q,{children:"Features"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:X.features.map((B,ce)=>e.jsx(Me,{variant:"outline",children:B},ce))})]}),X.car_add_on&&X.car_add_on.length>0&&e.jsxs("div",{children:[e.jsx(q,{children:"Add-ons"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:X.car_add_on.map((B,ce)=>e.jsx(Me,{variant:"outline",children:B},ce))})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx(q,{className:"text-sm font-semibold block mb-3",children:"Car Images"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(q,{children:"Main Image"}),X.main_image_url&&e.jsx("div",{className:"mb-2",children:e.jsx("img",{src:`/api/storage/${X.main_image_url}`,alt:"Main",className:"w-full h-32 object-cover rounded-lg border"})}),e.jsx(oe,{type:"file",accept:"image/*",onChange:B=>ga(X.id,"main_image",B.target.files[0]),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Front Image"}),X.front_image_url&&e.jsx("div",{className:"mb-2",children:e.jsx("img",{src:`/api/storage/${X.front_image_url}`,alt:"Front",className:"w-full h-32 object-cover rounded-lg border"})}),e.jsx(oe,{type:"file",accept:"image/*",onChange:B=>ga(X.id,"front_image",B.target.files[0]),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Back Image"}),X.back_image_url&&e.jsx("div",{className:"mb-2",children:e.jsx("img",{src:`/api/storage/${X.back_image_url}`,alt:"Back",className:"w-full h-32 object-cover rounded-lg border"})}),e.jsx(oe,{type:"file",accept:"image/*",onChange:B=>ga(X.id,"back_image",B.target.files[0]),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Left Image"}),X.left_image_url&&e.jsx("div",{className:"mb-2",children:e.jsx("img",{src:`/api/storage/${X.left_image_url}`,alt:"Left",className:"w-full h-32 object-cover rounded-lg border"})}),e.jsx(oe,{type:"file",accept:"image/*",onChange:B=>ga(X.id,"left_image",B.target.files[0]),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Right Image"}),X.right_image_url&&e.jsx("div",{className:"mb-2",children:e.jsx("img",{src:`/api/storage/${X.right_image_url}`,alt:"Right",className:"w-full h-32 object-cover rounded-lg border"})}),e.jsx(oe,{type:"file",accept:"image/*",onChange:B=>ga(X.id,"right_image",B.target.files[0]),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx(q,{className:"text-sm font-semibold block mb-3",children:"Editable Fields"}),e.jsxs("div",{children:[e.jsx(q,{children:"Status"}),e.jsxs(Je,{value:X.status||"",onValueChange:B=>xt({...X,status:B}),children:[e.jsx(Qe,{children:e.jsx(et,{})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"available",children:"Available"}),e.jsx(de,{value:"rented",children:"Rented"}),e.jsx(de,{value:"maintenance",children:"Maintenance"}),e.jsx(de,{value:"unavailable",children:"Unavailable"})]})]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx(q,{children:"Notes"}),e.jsx(tn,{value:X.notes||"",onChange:B=>xt({...X,notes:B.target.value}),rows:4})]}),e.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[e.jsx(q,{children:"Car Accepted"}),e.jsx(fn,{checked:X.car_accepted||!1,onCheckedChange:B=>xt({...X,car_accepted:B})})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(K,{onClick:()=>ei(X.id,{status:X.status,car_accepted:X.car_accepted,notes:X.notes}),className:"flex-1",disabled:n,children:"Update Car"}),e.jsx(K,{variant:"outline",onClick:()=>gt(!1),children:"Cancel"})]})]}),He==="view-booking"&&X&&e.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Booking ID"}),e.jsx("p",{className:"text-sm",children:X.id})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Client"}),e.jsx("p",{className:"text-sm",children:X.client?.first_name&&X.client?.last_name?`${X.client.first_name} ${X.client.last_name}`:X.client?.username||"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Car"}),e.jsxs("p",{className:"text-sm",children:[X.car?.make," ",X.car?.model," (",X.car?.year,")"]})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Agent"}),e.jsx("p",{className:"text-sm",children:X.car?.agent?.username||X.car?.agent?.first_name||"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Start Date"}),e.jsx("p",{className:"text-sm",children:new Date(X.start_datetime).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"End Date"}),e.jsx("p",{className:"text-sm",children:new Date(X.end_datetime).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Total Price"}),e.jsxs("p",{className:"text-sm font-semibold",children:["$",X.total_booking_price||"0.00"]})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Booking Status"}),e.jsx(Me,{variant:"outline",children:X.booking_request_status||"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Payment Status"}),e.jsx(Me,{variant:X.payment_status==="paid"?"default":"secondary",children:X.payment_status||"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Payment Method"}),e.jsx("p",{className:"text-sm",children:X.payment_method||"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Is Paid Online"}),e.jsx(Me,{variant:X.is_paid_online?"default":"secondary",children:X.is_paid_online?"Yes":"No"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Is Delivered"}),e.jsx(Me,{variant:X.is_delivered?"default":"secondary",children:X.is_delivered?"Yes":"No"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Pickup Location"}),e.jsx("p",{className:"text-sm",children:X.pickup_location||"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Dropoff Location"}),e.jsx("p",{className:"text-sm",children:X.dropoff_location||"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Reason of Booking"}),e.jsx("p",{className:"text-sm",children:X.reason_of_booking||"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Extra Charge"}),e.jsxs("p",{className:"text-sm",children:["$",X.extra_charge||"0.00"]})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Cancellation Date"}),e.jsx("p",{className:"text-sm",children:X.cancelation_date?new Date(X.cancelation_date).toLocaleString():"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Cancellation Reason"}),e.jsx("p",{className:"text-sm",children:X.cancelation_reason||"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Created At"}),e.jsx("p",{className:"text-sm",children:new Date(X.created_at).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Updated At"}),e.jsx("p",{className:"text-sm",children:new Date(X.updated_at).toLocaleString()})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(K,{onClick:()=>{os("edit-booking")},className:"flex-1",children:"Edit Booking"}),e.jsx(K,{variant:"outline",onClick:()=>gt(!1),children:"Close"})]})]}),He==="edit-booking"&&X&&e.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(q,{children:"Booking ID"}),e.jsx(oe,{value:X.id||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Client"}),e.jsx(oe,{value:X.client?.first_name&&X.client?.last_name?`${X.client.first_name} ${X.client.last_name}`:X.client?.username||"N/A",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Car"}),e.jsx(oe,{value:`${X.car?.make||""} ${X.car?.model||""} (${X.car?.year||""})`,disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Start Date & Time"}),e.jsx(oe,{value:new Date(X.start_datetime).toLocaleString(),disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"End Date & Time"}),e.jsx(oe,{value:new Date(X.end_datetime).toLocaleString(),disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Payment Status"}),e.jsx(oe,{value:X.payment_status||"N/A",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Payment Method"}),e.jsx(oe,{value:X.payment_method||"N/A",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Is Paid Online"}),e.jsx(oe,{value:X.is_paid_online?"Yes":"No",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Is Delivered"}),e.jsx(oe,{value:X.is_delivered?"Yes":"No",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Pickup Location"}),e.jsx(oe,{value:X.pickup_location||"N/A",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Dropoff Location"}),e.jsx(oe,{value:X.dropoff_location||"N/A",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Reason of Booking"}),e.jsx(oe,{value:X.reason_of_booking||"N/A",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Extra Charge"}),e.jsx(oe,{value:`$${X.extra_charge||"0.00"}`,disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Cancellation Date"}),e.jsx(oe,{value:X.cancelation_date?new Date(X.cancelation_date).toLocaleString():"N/A",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Cancellation Reason"}),e.jsx(oe,{value:X.cancelation_reason||"N/A",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Created At"}),e.jsx(oe,{value:new Date(X.created_at).toLocaleString(),disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Updated At"}),e.jsx(oe,{value:new Date(X.updated_at).toLocaleString(),disabled:!0})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx(q,{className:"text-sm font-semibold block mb-3",children:"Editable Fields"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(q,{children:"Booking Status"}),e.jsxs(Je,{value:X.booking_request_status||"",onValueChange:B=>xt({...X,booking_request_status:B}),children:[e.jsx(Qe,{children:e.jsx(et,{})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"pending",children:"Pending"}),e.jsx(de,{value:"confirmed",children:"Confirmed"}),e.jsx(de,{value:"cancelled",children:"Cancelled"}),e.jsx(de,{value:"completed",children:"Completed"}),e.jsx(de,{value:"rejected",children:"Rejected"})]})]})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Total Booking Price"}),e.jsx(oe,{type:"number",step:"0.01",value:X.total_booking_price||"",onChange:B=>xt({...X,total_booking_price:B.target.value})})]})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(K,{onClick:()=>Ol(X.id,{booking_request_status:X.booking_request_status,total_booking_price:X.total_booking_price}),className:"flex-1",children:"Update Booking"}),e.jsx(K,{variant:"outline",onClick:()=>gt(!1),children:"Cancel"})]})]}),(He==="create-announcement"||He==="edit-announcement")&&e.jsx(koe,{announcement:X,onSubmit:B=>{He==="create-announcement"?qc(B):Gc(X.id,B)}}),He==="edit-appeal"&&X&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(q,{children:"Status"}),e.jsxs(Je,{value:X.status,onValueChange:B=>xt({...X,status:B}),children:[e.jsx(Qe,{children:e.jsx(et,{})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"submitted",children:"Submitted"}),e.jsx(de,{value:"under_review",children:"Under Review"}),e.jsx(de,{value:"resolved",children:"Resolved"}),e.jsx(de,{value:"rejected",children:"Rejected"}),e.jsx(de,{value:"escalated",children:"Escalated"})]})]})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Priority"}),e.jsxs(Je,{value:X.priority,onValueChange:B=>xt({...X,priority:B}),children:[e.jsx(Qe,{children:e.jsx(et,{})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"low",children:"Low"}),e.jsx(de,{value:"medium",children:"Medium"}),e.jsx(de,{value:"high",children:"High"}),e.jsx(de,{value:"urgent",children:"Urgent"})]})]})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Response"}),e.jsx(tn,{value:X.response||"",onChange:B=>xt({...X,response:B.target.value})})]}),e.jsx(K,{onClick:()=>Cu(X.id,{status:X.status,priority:X.priority,response:X.response}),children:"Update Appeal"})]}),He==="edit-ad"&&X&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(q,{children:"Online"}),e.jsx(fn,{checked:X.online,onCheckedChange:B=>xt({...X,online:B})})]}),e.jsx(K,{onClick:()=>Co(X.id,{online:X.online}),children:"Update Ad"})]}),He==="edit-suggestion"&&X&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(q,{children:"Status"}),e.jsxs(Je,{value:X.status,onValueChange:B=>xt({...X,status:B}),children:[e.jsx(Qe,{children:e.jsx(et,{})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"pending",children:"Pending"}),e.jsx(de,{value:"received",children:"Received"}),e.jsx(de,{value:"implemented",children:"Implemented"}),e.jsx(de,{value:"rejected",children:"Rejected"})]})]})]}),e.jsx(K,{onClick:()=>jn(X.id,{status:X.status}),children:"Update Suggestion"})]}),He==="send-notification"&&e.jsx(Soe,{onSubmit:B=>So(B)}),(He==="create-holiday"||He==="edit-holiday")&&e.jsx(Coe,{holiday:X,onSubmit:B=>{He==="create-holiday"?Er(B):Rl(X.id,B)}}),He==="create-ad"&&e.jsx(tO,{onSubmit:or,loading:n}),He==="create-payment"&&e.jsx(ooe,{onSubmit:ku,loading:n}),He==="create-featured-car"&&e.jsx(sO,{onSubmit:Su,loading:n}),He==="view-service"&&X&&e.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"ID"}),e.jsx("p",{className:"text-sm",children:X.id})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Name"}),e.jsx("p",{className:"text-sm",children:X.name||"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Category"}),e.jsx("p",{className:"text-sm",children:X.category||"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Price"}),e.jsxs("p",{className:"text-sm",children:["$",X.price?.toFixed(2)||"0.00"]})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Rating"}),e.jsx("p",{className:"text-sm",children:X.rating?.toFixed(1)||"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Featured"}),e.jsx(Me,{variant:X.featured?"default":"secondary",children:X.featured?"Yes":"No"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"City"}),e.jsx("p",{className:"text-sm",children:X.city||"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Clicks"}),e.jsx("p",{className:"text-sm",children:X.clicks||0})]})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Description"}),e.jsx("p",{className:"text-sm",children:X.description||"N/A"})]}),X.images&&X.images.length>0&&e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Images"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:X.images.map((B,ce)=>e.jsx("img",{src:B,alt:`Service ${ce+1}`,className:"w-20 h-20 object-cover rounded"},ce))})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(K,{onClick:()=>os("edit-service"),className:"flex-1",children:"Edit Service"}),e.jsx(K,{variant:"outline",onClick:()=>gt(!1),children:"Close"})]})]}),(He==="create-service"||He==="edit-service")&&e.jsx(Aoe,{service:He==="edit-service"?X:null,thirdParties:yt,onSubmit:B=>{He==="edit-service"&&X?Ml(X.id,B):wo(B)}}),He==="create-broker-payout"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Record a payment to a broker. Amount will be allocated to pending commissions (FIFO)."}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{children:[e.jsx(q,{children:"Broker *"}),e.jsxs(Je,{value:tt.broker_id||"select",onValueChange:B=>ps(ce=>({...ce,broker_id:B})),disabled:!!fe?.id,children:[e.jsx(Qe,{children:e.jsx(et,{placeholder:"Select broker"})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"select",children:"Select broker"}),(Array.isArray(z)?z:[]).map(B=>e.jsx(de,{value:String(B.id),children:B.username||`${B.first_name||""} ${B.last_name||""}`||`Broker #${B.id}`},B.id))]})]})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Amount *"}),e.jsx(oe,{type:"number",min:.01,step:.01,value:tt.amount,onChange:B=>ps(ce=>({...ce,amount:B.target.value})),placeholder:"e.g. 300.00"}),Se?.balance!=null&&fe&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Balance: $",Number(Se.balance).toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Reference"}),e.jsx(oe,{value:tt.reference,onChange:B=>ps(ce=>({...ce,reference:B.target.value})),placeholder:"e.g. BANK-REF-123",maxLength:255})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Notes"}),e.jsx(tn,{value:tt.notes,onChange:B=>ps(ce=>({...ce,notes:B.target.value.slice(0,1e3)})),placeholder:"Optional notes",rows:3})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[e.jsx(K,{variant:"outline",onClick:()=>gt(!1),children:"Cancel"}),e.jsx(K,{onClick:lr,disabled:n||!tt.broker_id||tt.broker_id==="select"||!tt.amount||parseFloat(tt.amount)<.01,children:n?"Creating...":"Create Payout"})]})]}),He==="create-broker"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a new broker user (role: broker). Brokers can be assigned promo codes for the referral program."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(q,{children:"Username *"}),e.jsx(oe,{value:le.username,onChange:B=>ne(ce=>({...ce,username:B.target.value})),placeholder:"broker_john",maxLength:100})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Phone number *"}),e.jsx(oe,{value:le.phone_number,onChange:B=>ne(ce=>({...ce,phone_number:B.target.value})),placeholder:"9613123456",maxLength:20})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(q,{children:"Email"}),e.jsx(oe,{type:"email",value:le.email,onChange:B=>ne(ce=>({...ce,email:B.target.value})),placeholder:"john@example.com (optional)"})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Password *"}),e.jsx(oe,{type:"password",value:le.password,onChange:B=>ne(ce=>({...ce,password:B.target.value})),placeholder:"Min 6 characters"})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Confirm password *"}),e.jsx(oe,{type:"password",value:le.password_confirmation,onChange:B=>ne(ce=>({...ce,password_confirmation:B.target.value})),placeholder:"Repeat password"})]}),e.jsxs("div",{children:[e.jsx(q,{children:"First name *"}),e.jsx(oe,{value:le.first_name,onChange:B=>ne(ce=>({...ce,first_name:B.target.value})),placeholder:"John",maxLength:100})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Last name *"}),e.jsx(oe,{value:le.last_name,onChange:B=>ne(ce=>({...ce,last_name:B.target.value})),placeholder:"Doe",maxLength:100})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[e.jsx(K,{variant:"outline",onClick:()=>gt(!1),children:"Cancel"}),e.jsx(K,{onClick:wn,disabled:n||!le.username?.trim()||!le.phone_number?.trim()||!le.first_name?.trim()||!le.last_name?.trim()||!le.password||le.password.length<6||le.password!==le.password_confirmation,children:n?"Creating...":"Create Broker"})]})]}),(He==="create-promo-code"||He==="edit-promo-code")&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(q,{children:"Code"}),e.jsx(oe,{value:X?.code||"",onChange:B=>xt(ce=>({...ce||{},code:B.target.value})),placeholder:"SAVE20"})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Broker *"}),e.jsxs(Je,{value:X?.broker_id?String(X.broker_id):"select",onValueChange:B=>xt(ce=>({...ce||{},broker_id:B&&B!=="select"?Number(B):null})),children:[e.jsx(Qe,{children:e.jsx(et,{placeholder:"Select broker"})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"select",children:"Select broker"}),(Array.isArray(z)?z:[]).map(B=>e.jsx(de,{value:String(B.id),children:B.username||`${B.first_name||""} ${B.last_name||""}`||`Broker #${B.id}`},B.id))]})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(q,{children:"Description"}),e.jsx(tn,{value:X?.description||"",onChange:B=>xt(ce=>({...ce||{},description:B.target.value})),placeholder:"Optional description"})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Max Uses"}),e.jsx(oe,{type:"number",min:1,value:X?.max_uses??"",onChange:B=>xt(ce=>({...ce||{},max_uses:B.target.value?Number(B.target.value):null})),placeholder:"Leave empty for unlimited"})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Expires At"}),e.jsx(oe,{type:"date",value:X?.expires_at||"",onChange:B=>xt(ce=>({...ce||{},expires_at:B.target.value}))})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Commission %"}),e.jsx(oe,{type:"number",min:0,max:100,step:.1,value:X?.commission_percentage??"",onChange:B=>xt(ce=>({...ce||{},commission_percentage:B.target.value?Number(B.target.value):null})),placeholder:"e.g. 5"})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-6",children:[e.jsx(fn,{checked:X?.is_active??!0,onCheckedChange:B=>xt(ce=>({...ce||{},is_active:B}))}),e.jsx("span",{className:"text-sm",children:"Active"})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[e.jsx(K,{variant:"outline",onClick:()=>gt(!1),children:"Cancel"}),e.jsx(K,{onClick:()=>{if(He==="create-promo-code"&&(!X?.code?.trim()||!X?.broker_id)){se.error("Code and Broker are required");return}const B={code:X?.code?.trim(),broker_id:X?.broker_id||void 0,description:X?.description?.trim()||void 0,is_active:X?.is_active??!0,max_uses:X?.max_uses||void 0,expires_at:X?.expires_at||void 0,commission_percentage:X?.commission_percentage};ri(B,He==="edit-promo-code"?X:null)},disabled:n,children:n?"Saving...":"Save"})]})]}),He==="view-promo-users"&&X&&e.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(jg,{className:"w-4 h-4"}),"Promo Code: ",e.jsx("span",{className:"font-mono",children:X.code})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Broker:"," ",X.broker?X.broker.username||`${X.broker.first_name||""} ${X.broker.last_name||""}`:"N/A"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-semibold text-sm",children:"Users who used this code"}),e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"ID"}),e.jsx(Z,{children:"Username"}),e.jsx(Z,{children:"Name"}),e.jsx(Z,{children:"Phone"}),e.jsx(Z,{children:"Email"}),e.jsx(Z,{children:"Referred At"})]})}),e.jsx(Nt,{children:U.map(B=>e.jsxs(ke,{children:[e.jsx(W,{children:B.id}),e.jsx(W,{children:B.username}),e.jsx(W,{children:B.first_name||B.last_name?`${B.first_name||""} ${B.last_name||""}`:"N/A"}),e.jsx(W,{children:B.phone_number||"N/A"}),e.jsx(W,{children:B.email||"N/A"}),e.jsx(W,{children:B.referred_at?new Date(B.referred_at).toLocaleString():"N/A"})]},B.id))})]})]}),Array.isArray(L)&&L.length>0&&e.jsxs("div",{className:"space-y-2 pt-2",children:[e.jsx("h4",{className:"font-semibold text-sm",children:"Broker referrals (all codes)"}),e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"ID"}),e.jsx(Z,{children:"Referred User"}),e.jsx(Z,{children:"Promo Code"})]})}),e.jsx(Nt,{children:(Array.isArray(L)?L:[]).map(B=>e.jsxs(ke,{children:[e.jsx(W,{children:B.id}),e.jsx(W,{children:B.referredUser?B.referredUser.username||`${B.referredUser.first_name||""} ${B.referredUser.last_name||""}`:B.referred_user_id}),e.jsx(W,{children:B.promoCode?.code||"N/A"})]},B.id))})]})]}),e.jsx("div",{className:"flex justify-end pt-3",children:e.jsx(K,{variant:"outline",onClick:()=>gt(!1),children:"Close"})})]}),He==="view-third-party"&&X&&e.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"ID"}),e.jsx("p",{className:"text-sm",children:X.id})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Name"}),e.jsx("p",{className:"text-sm",children:X.name||"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Email"}),e.jsx("p",{className:"text-sm",children:X.email||"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Phone"}),e.jsx("p",{className:"text-sm",children:X.phone||"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Contact Email"}),e.jsx("p",{className:"text-sm",children:X.contact_email||"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Category"}),e.jsx(Me,{variant:"outline",children:X.category||"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"City"}),e.jsx("p",{className:"text-sm",children:X.city||"N/A"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Subscription"}),e.jsx(Me,{variant:X.subscription==="premium"||X.subscription==="enterprise"?"default":"secondary",children:X.subscription||"Free"})]}),e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Created At"}),e.jsx("p",{className:"text-sm",children:new Date(X.created_at).toLocaleString()})]})]}),X.description&&e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Description"}),e.jsx("p",{className:"text-sm",children:X.description})]}),X.permissions&&X.permissions.length>0&&e.jsxs("div",{children:[e.jsx(q,{className:"text-sm font-semibold",children:"Permissions"}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:X.permissions.map((B,ce)=>e.jsx(Me,{variant:"secondary",className:"text-xs",children:B},ce))})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(K,{onClick:()=>os("edit-third-party"),className:"flex-1",children:"Edit Third Party"}),e.jsxs(K,{variant:"outline",onClick:()=>{xt({third_party_id:X.id,third_party_name:X.name}),os("create-service-for-tp")},children:[e.jsx(Gs,{className:"w-4 h-4 mr-1"}),"Add Service"]}),e.jsx(K,{variant:"outline",onClick:()=>gt(!1),children:"Close"})]})]}),(He==="create-third-party"||He==="edit-third-party")&&e.jsx(Toe,{thirdParty:He==="edit-third-party"?X:null,onSubmit:B=>{He==="edit-third-party"&&X?No(X.id,B):bn(B)}}),He==="create-service-for-tp"&&X&&e.jsx(Eoe,{thirdPartyId:X.third_party_id,thirdPartyName:X.third_party_name,onSubmit:B=>{wo({...B,third_party_id:X.third_party_id})}}),(He==="create-service-item"||He==="edit-service-item")&&e.jsx(Doe,{item:He==="edit-service-item"?X:null,onSubmit:B=>{He==="edit-service-item"&&X?Ri(X.id,B):ns&&Ei(ns,B)}})]})})})]})})}function Coe({holiday:t,onSubmit:s}){const[a,n]=y.useState({car_id:t?.car_id||"",holiday_name:t?.holiday_name||"",holiday_dates:{start:t?.holiday_dates?.start||"",end:t?.holiday_dates?.end||""},percentage_increase:t?.percentage_increase||"",is_active:t?.is_active!==void 0?t.is_active:!0});return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(q,{children:"Car ID *"}),e.jsx(oe,{type:"number",value:a.car_id,onChange:r=>n({...a,car_id:r.target.value}),placeholder:"Enter car ID",required:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Holiday Name *"}),e.jsx(oe,{value:a.holiday_name,onChange:r=>n({...a,holiday_name:r.target.value}),placeholder:"e.g., New Year",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(q,{children:"Start Date *"}),e.jsx(oe,{type:"date",value:a.holiday_dates.start,onChange:r=>n({...a,holiday_dates:{...a.holiday_dates,start:r.target.value}}),required:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"End Date *"}),e.jsx(oe,{type:"date",value:a.holiday_dates.end,onChange:r=>n({...a,holiday_dates:{...a.holiday_dates,end:r.target.value}}),required:!0})]})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Percentage Increase *"}),e.jsx(oe,{type:"number",step:"0.01",min:"0",max:"100",value:a.percentage_increase,onChange:r=>n({...a,percentage_increase:r.target.value}),placeholder:"20.00",required:!0})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fn,{id:"is_active",checked:a.is_active,onCheckedChange:r=>n({...a,is_active:r})}),e.jsx(q,{htmlFor:"is_active",children:"Active"})]}),e.jsxs(K,{onClick:()=>s(a),children:[t?"Update":"Create"," Holiday"]})]})}function koe({announcement:t,onSubmit:s}){const a=u=>{if(!u)return"";const h=new Date(u),p=h.getFullYear(),f=String(h.getMonth()+1).padStart(2,"0"),x=String(h.getDate()).padStart(2,"0"),v=String(h.getHours()).padStart(2,"0"),j=String(h.getMinutes()).padStart(2,"0"),w=String(h.getSeconds()).padStart(2,"0");return`${p}-${f}-${x} ${v}:${j}:${w}`},n=u=>u?u.includes(" ")?u.replace(" ","T"):new Date(u).toISOString().slice(0,16):"",[r,i]=y.useState({title:t?.title||"",message:t?.message||"",scheduled_at:n(t?.scheduled_at)||"",expires_at:n(t?.expires_at)||"",priority:t?.priority||"medium",target_audience:t?.target_audience||[],status:t?.status||"draft",categories:t?.categories||[],media:t?.media||[]}),l=(u,h)=>{i(p=>{const f=p.target_audience||[];return h?{...p,target_audience:[...f,u]}:{...p,target_audience:f.filter(x=>x!==u)}})},d=()=>{const u={...r,scheduled_at:r.scheduled_at?a(r.scheduled_at):void 0,expires_at:r.expires_at?a(r.expires_at):void 0,categories:r.categories.length>0?r.categories:void 0,media:r.media.length>0?r.media:void 0};s(u)};return e.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[e.jsxs("div",{children:[e.jsx(q,{children:"Title *"}),e.jsx(oe,{required:!0,value:r.title,onChange:u=>i({...r,title:u.target.value}),placeholder:"Enter announcement title"})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Message *"}),e.jsx(tn,{required:!0,value:r.message,onChange:u=>i({...r,message:u.target.value}),placeholder:"Enter announcement message",rows:5})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(q,{children:"Scheduled At"}),e.jsx(oe,{type:"datetime-local",value:r.scheduled_at,onChange:u=>i({...r,scheduled_at:u.target.value})})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Expires At"}),e.jsx(oe,{type:"datetime-local",value:r.expires_at,onChange:u=>i({...r,expires_at:u.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(q,{children:"Priority"}),e.jsxs(Je,{value:r.priority,onValueChange:u=>i({...r,priority:u}),children:[e.jsx(Qe,{children:e.jsx(et,{})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"low",children:"Low"}),e.jsx(de,{value:"medium",children:"Medium"}),e.jsx(de,{value:"high",children:"High"})]})]})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Status"}),e.jsxs(Je,{value:r.status,onValueChange:u=>i({...r,status:u}),children:[e.jsx(Qe,{children:e.jsx(et,{})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"draft",children:"Draft"}),e.jsx(de,{value:"published",children:"Published"}),e.jsx(de,{value:"archived",children:"Archived"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Target Audience"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:["client","agency","agent","admin"].map(u=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:`target-${u}`,checked:r.target_audience.includes(u),onChange:h=>l(u,h.target.checked),className:"rounded"}),e.jsx(q,{htmlFor:`target-${u}`,className:"text-sm font-normal cursor-pointer",children:u.charAt(0).toUpperCase()+u.slice(1)})]},u))})]}),e.jsx("div",{className:"flex gap-2 pt-4",children:e.jsxs(K,{onClick:d,className:"flex-1",children:[t?"Update":"Create"," Announcement"]})})]})}function Soe({onSubmit:t}){const[s,a]=y.useState({title:"",message:"",type:"general",data:{}});return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(q,{children:"Title"}),e.jsx(oe,{value:s.title,onChange:n=>a({...s,title:n.target.value})})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Message"}),e.jsx(tn,{value:s.message,onChange:n=>a({...s,message:n.target.value})})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Type"}),e.jsxs(Je,{value:s.type,onValueChange:n=>a({...s,type:n}),children:[e.jsx(Qe,{children:e.jsx(et,{})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"general",children:"General"}),e.jsx(de,{value:"booking",children:"Booking"}),e.jsx(de,{value:"payment",children:"Payment"}),e.jsx(de,{value:"system",children:"System"})]})]})]}),e.jsx(K,{onClick:()=>t(s),children:"Send Notification"})]})}function Aoe({service:t,onSubmit:s,thirdParties:a=[]}){const[n,r]=y.useState({name:t?.name||"",description:t?.description||"",category:t?.category||"",price:t?.price||"",featured:t?.featured||!1,images:t?.images||[],third_party_id:t?.third_party_id||"",city:t?.city||"",availability:t?.availability!==!1}),[i,l]=y.useState(""),d=()=>{i.trim()&&(r({...n,images:[...n.images,i.trim()]}),l(""))},u=h=>{r({...n,images:n.images.filter((p,f)=>f!==h)})};return e.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[a.length>0&&e.jsxs("div",{children:[e.jsx(q,{children:"Service Owner (Third Party) *"}),e.jsxs(Je,{value:n.third_party_id?.toString()||"",onValueChange:h=>r({...n,third_party_id:parseInt(h)}),children:[e.jsx(Qe,{children:e.jsx(et,{placeholder:"Select third party owner"})}),e.jsx(Ze,{children:a.map(h=>e.jsxs(de,{value:h.id.toString(),children:[h.name," (",h.email,")"]},h.id))})]})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Name *"}),e.jsx(oe,{required:!0,value:n.name,onChange:h=>r({...n,name:h.target.value}),placeholder:"Enter service name"})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Description *"}),e.jsx(tn,{required:!0,value:n.description,onChange:h=>r({...n,description:h.target.value}),placeholder:"Enter service description",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(q,{children:"Category *"}),e.jsxs(Je,{value:n.category,onValueChange:h=>r({...n,category:h}),children:[e.jsx(Qe,{children:e.jsx(et,{placeholder:"Select category"})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"hotel",children:"Hotel"}),e.jsx(de,{value:"restaurant",children:"Restaurant"}),e.jsx(de,{value:"spa",children:"Spa"}),e.jsx(de,{value:"nightclub",children:"Nightclub"}),e.jsx(de,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Price *"}),e.jsx(oe,{type:"number",step:"0.01",min:"0",required:!0,value:n.price,onChange:h=>r({...n,price:parseFloat(h.target.value)||""}),placeholder:"0.00"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(q,{children:"City"}),e.jsx(oe,{value:n.city,onChange:h=>r({...n,city:h.target.value}),placeholder:"Enter city"})]}),e.jsxs("div",{className:"flex items-center justify-between pt-6",children:[e.jsx(q,{children:"Availability"}),e.jsx(fn,{checked:n.availability,onCheckedChange:h=>r({...n,availability:h})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(q,{children:"Featured"}),e.jsx(fn,{checked:n.featured,onCheckedChange:h=>r({...n,featured:h})})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Images"}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx(oe,{value:i,onChange:h=>l(h.target.value),placeholder:"Enter image URL",className:"flex-1"}),e.jsx(K,{type:"button",variant:"outline",onClick:d,children:"Add"})]}),n.images.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.images.map((h,p)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:h,alt:`Image ${p+1}`,className:"w-16 h-16 object-cover rounded"}),e.jsx("button",{type:"button",onClick:()=>u(p),className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-4 h-4 text-xs",children:""})]},p))})]}),e.jsx("div",{className:"flex gap-2 pt-4",children:e.jsxs(K,{onClick:()=>s(n),className:"flex-1",children:[t?"Update":"Create"," Service"]})})]})}function Toe({thirdParty:t,onSubmit:s}){const[a,n]=y.useState({name:t?.business_name||t?.name||"",username:t?.username||"",email:t?.email||"",password:"",subscription:t?.subscription||"",permissions:t?.permissions||[],description:t?.description||"",category:t?.category||"",city:t?.city||"",contact_email:t?.contact_email||"",phone:t?.phone||""}),r=["services:read","services:write","items:read","items:write","feedbacks:read","feedbacks:respond"],i=l=>{a.permissions.includes(l)?n({...a,permissions:a.permissions.filter(d=>d!==l)}):n({...a,permissions:[...a.permissions,l]})};return e.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[e.jsx("div",{className:"border-b pb-2 mb-2",children:e.jsx("h3",{className:"font-semibold text-sm text-muted-foreground",children:"Account Information"})}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(q,{children:"Business Name *"}),e.jsx(oe,{required:!0,value:a.name,onChange:l=>n({...a,name:l.target.value}),placeholder:"Enter business/company name"})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Username *"}),e.jsx(oe,{required:!0,value:a.username,onChange:l=>n({...a,username:l.target.value}),placeholder:"Unique username for login"})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Email *"}),e.jsx(oe,{type:"email",required:!0,value:a.email,onChange:l=>n({...a,email:l.target.value}),placeholder:"Enter login email"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(q,{children:t?"Password (leave blank to keep current)":"Password *"}),e.jsx(oe,{type:"password",required:!t,value:a.password,onChange:l=>n({...a,password:l.target.value}),placeholder:"Enter password"})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Subscription"}),e.jsxs(Je,{value:a.subscription,onValueChange:l=>n({...a,subscription:l}),children:[e.jsx(Qe,{children:e.jsx(et,{placeholder:"Select subscription"})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"free",children:"Free"}),e.jsx(de,{value:"basic",children:"Basic"}),e.jsx(de,{value:"premium",children:"Premium"}),e.jsx(de,{value:"enterprise",children:"Enterprise"})]})]})]})]}),e.jsx("div",{className:"border-b pb-2 mb-2 mt-4",children:e.jsx("h3",{className:"font-semibold text-sm text-muted-foreground",children:"Profile Information"})}),e.jsxs("div",{children:[e.jsx(q,{children:"Description"}),e.jsx(tn,{value:a.description,onChange:l=>n({...a,description:l.target.value}),placeholder:"Enter business description",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(q,{children:"Category"}),e.jsxs(Je,{value:a.category,onValueChange:l=>n({...a,category:l}),children:[e.jsx(Qe,{children:e.jsx(et,{placeholder:"Select category"})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"transport",children:"Transport"}),e.jsx(de,{value:"accommodation",children:"Accommodation"}),e.jsx(de,{value:"food",children:"Food & Dining"}),e.jsx(de,{value:"entertainment",children:"Entertainment"}),e.jsx(de,{value:"tourism",children:"Tourism"}),e.jsx(de,{value:"rental",children:"Rental Services"}),e.jsx(de,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsx(q,{children:"City"}),e.jsx(oe,{value:a.city,onChange:l=>n({...a,city:l.target.value}),placeholder:"Enter city"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(q,{children:"Contact Email"}),e.jsx(oe,{type:"email",value:a.contact_email,onChange:l=>n({...a,contact_email:l.target.value}),placeholder:"Enter public contact email"})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Phone"}),e.jsx(oe,{value:a.phone,onChange:l=>n({...a,phone:l.target.value}),placeholder:"Enter phone number"})]})]}),e.jsx("div",{className:"border-b pb-2 mb-2 mt-4",children:e.jsx("h3",{className:"font-semibold text-sm text-muted-foreground",children:"Permissions"})}),e.jsx("div",{className:"flex flex-wrap gap-3",children:r.map(l=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:`perm-${l}`,checked:a.permissions.includes(l),onChange:()=>i(l),className:"rounded"}),e.jsx(q,{htmlFor:`perm-${l}`,className:"text-sm font-normal cursor-pointer",children:l})]},l))}),e.jsx("div",{className:"flex gap-2 pt-4",children:e.jsxs(K,{onClick:()=>{const l={...a};t&&!l.password&&delete l.password,s(l)},className:"flex-1",children:[t?"Update":"Create"," Third Party"]})})]})}function Doe({item:t,onSubmit:s}){const[a,n]=y.useState({name:t?.name||"",description:t?.description||"",price:t?.price||"",image:t?.image||""});return e.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[e.jsxs("div",{children:[e.jsx(q,{children:"Name *"}),e.jsx(oe,{required:!0,value:a.name,onChange:r=>n({...a,name:r.target.value}),placeholder:"Enter item name"})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Description"}),e.jsx(tn,{value:a.description,onChange:r=>n({...a,description:r.target.value}),placeholder:"Enter item description",rows:3})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Price *"}),e.jsx(oe,{type:"number",step:"0.01",min:"0",required:!0,value:a.price,onChange:r=>n({...a,price:parseFloat(r.target.value)||""}),placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Image URL"}),e.jsx(oe,{value:a.image,onChange:r=>n({...a,image:r.target.value}),placeholder:"Enter image URL"}),a.image&&e.jsx("img",{src:a.image,alt:"Preview",className:"w-20 h-20 object-cover rounded mt-2"})]}),e.jsx("div",{className:"flex gap-2 pt-4",children:e.jsxs(K,{onClick:()=>s(a),className:"flex-1",children:[t?"Update":"Create"," Item"]})})]})}function Eoe({thirdPartyId:t,thirdPartyName:s,onSubmit:a}){const[n,r]=y.useState({name:"",description:"",category:"",price:"",featured:!1,images:[],city:"",availability:!0}),[i,l]=y.useState(""),d=()=>{i.trim()&&(r({...n,images:[...n.images,i.trim()]}),l(""))},u=h=>{r({...n,images:n.images.filter((p,f)=>f!==h)})};return e.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg border border-blue-200 dark:border-blue-800",children:e.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[e.jsx("strong",{children:"Owner:"})," ",s," (ID: ",t,")"]})}),e.jsxs("div",{children:[e.jsx(q,{children:"Service Name *"}),e.jsx(oe,{required:!0,value:n.name,onChange:h=>r({...n,name:h.target.value}),placeholder:"Enter service name"})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Description *"}),e.jsx(tn,{required:!0,value:n.description,onChange:h=>r({...n,description:h.target.value}),placeholder:"Enter service description",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(q,{children:"Category *"}),e.jsxs(Je,{value:n.category,onValueChange:h=>r({...n,category:h}),children:[e.jsx(Qe,{children:e.jsx(et,{placeholder:"Select category"})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"hotel",children:"Hotel"}),e.jsx(de,{value:"restaurant",children:"Restaurant"}),e.jsx(de,{value:"spa",children:"Spa"}),e.jsx(de,{value:"nightclub",children:"Nightclub"}),e.jsx(de,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Price *"}),e.jsx(oe,{type:"number",step:"0.01",min:"0",required:!0,value:n.price,onChange:h=>r({...n,price:parseFloat(h.target.value)||""}),placeholder:"0.00"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(q,{children:"City"}),e.jsx(oe,{value:n.city,onChange:h=>r({...n,city:h.target.value}),placeholder:"Enter city"})]}),e.jsxs("div",{className:"flex items-center justify-between pt-6",children:[e.jsx(q,{children:"Availability"}),e.jsx(fn,{checked:n.availability,onCheckedChange:h=>r({...n,availability:h})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(q,{children:"Featured"}),e.jsx(fn,{checked:n.featured,onCheckedChange:h=>r({...n,featured:h})})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Images"}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx(oe,{value:i,onChange:h=>l(h.target.value),placeholder:"Enter image URL",className:"flex-1"}),e.jsx(K,{type:"button",variant:"outline",onClick:d,children:"Add"})]}),n.images.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.images.map((h,p)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:h,alt:`Image ${p+1}`,className:"w-16 h-16 object-cover rounded"}),e.jsx("button",{type:"button",onClick:()=>u(p),className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-4 h-4 text-xs",children:""})]},p))})]}),e.jsx("div",{className:"flex gap-2 pt-4",children:e.jsx(K,{onClick:()=>a(n),className:"flex-1",children:"Create Service"})})]})}const Roe=t=>t.replace(/\D/g,""),Moe=({countries:t,iso2:s,setIso2:a,phone:n,setPhone:r,disabledPhone:i})=>e.jsxs("div",{className:"flex gap-2 w-full",children:[e.jsx("select",{value:s,onChange:l=>a(l.target.value),className:"w-[100px] sm:w-[120px] shrink-0 bg-white dark:bg-gray-800 text-gray-900 dark:text-white p-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm focus:ring-2 focus:ring-[#008C95] focus:border-transparent",disabled:i,children:t.map(l=>e.jsxs("option",{value:l.iso2,children:[l.iso2," (",l.dialCode,")"]},l.iso2))}),e.jsx("input",{type:"tel",inputMode:"numeric",value:n,onChange:l=>r(Roe(l.target.value)),placeholder:"70123456",className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-800 text-sm focus:ring-2 focus:ring-[#008C95] focus:border-transparent",disabled:i})]}),Xn={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640"};function Poe(){const t=Ua(),[s,a]=y.useState("login"),[n,r]=y.useState(!1),[i,l]=y.useState(""),[d,u]=y.useState(""),[h,p]=y.useState(""),[f,x]=y.useState("LB"),[v,j]=y.useState(!1),[w,_]=y.useState(""),[N,k]=y.useState(!1),[D,T]=y.useState(!1),[E,G]=y.useState(0),[A,F]=y.useState({username:"",email:"",first_name:"",last_name:"",password:"",password_confirmation:"",role:"admin",business_type:""}),M=y.useMemo(()=>vR.map(L=>({name:L.name,iso2:L.iso2,dialCode:L.dialCode.startsWith("+")?L.dialCode:`+${L.dialCode}`})).sort((L,$)=>L.name.localeCompare($.name)),[]),J=y.useMemo(()=>{const L=new Map;for(const $ of M)L.set($.iso2,$.dialCode);return L},[M]),R=L=>J.get(L)||"+961";y.useEffect(()=>{let L;return E>0&&(L=setInterval(()=>{G($=>$<=1?(T(!0),0):$-1)},1e3)),()=>clearInterval(L)},[E]);const ee=()=>{p(""),j(!1),_(""),k(!1),T(!1),G(0),F({username:"",email:"",first_name:"",last_name:"",password:"",password_confirmation:"",role:"admin",business_type:""})},Y=()=>{j(!1),_(""),k(!1),T(!1),G(0),p("")},re=async()=>{if(!h)return se.error("Please enter a phone number.");const L=`${R(f)}${h.replace(/^0+/,"")}`;if(!/^\+\d{8,15}$/.test(L))return se.error("Please enter a valid phone number with country code.");try{r(!0);const $=await UV(L);$.message&&se.success($.message),$.warning&&se.warning($.warning),j(!0),T(!1),G(60)}catch($){$.response?.data?.errors?Object.values($.response.data.errors).flat().forEach(z=>se.error(z)):se.error($.response?.data?.message||"Failed to send OTP.")}finally{r(!1)}},te=async()=>{D&&await re()},V=async()=>{if(!w)return se.error("Please enter the OTP code.");if(w.length!==6)return se.error("OTP code must be 6 digits.");const L=`${R(f)}${h.replace(/^0+/,"")}`;try{r(!0);const $=await RD(L,w);$.message?se.success($.message):se.success("OTP verified! Complete your registration."),k(!0)}catch($){se.error($.response?.data?.message||$.response?.data?.error||"Invalid or expired OTP.")}finally{r(!1)}},U=async L=>{if(L.preventDefault(),!i||!d)return se.error("Please fill all fields");try{r(!0);let $={password:d};i.includes("@")?$.email=i:$.phone_number=i;const z=await xe.post("/auth/login",$),ie=z.data.user;if(ie.role!=="admin"){se.error("Access denied. Admin privileges required."),localStorage.removeItem("authToken"),localStorage.removeItem("token"),localStorage.removeItem("user");return}localStorage.setItem("authToken",z.data.token),localStorage.setItem("token",z.data.token),localStorage.setItem("user",JSON.stringify(ie)),se.success("Login successful!"),t("/admin")}catch($){const z=$.response?.data?.message||$.response?.data?.error||"Login failed.";se.error(z)}finally{r(!1)}},H=async L=>{L.preventDefault();const{username:$,email:z,first_name:ie,last_name:le,password:ne,password_confirmation:fe,role:Ne,business_type:ye}=A;if(!$?.trim()||!ie?.trim()||!le?.trim()||!ne||!fe)return se.error("Please fill all required fields");if(Ne==="agency"&&!ye?.trim())return se.error("Business type is required for agency");if(ne.length<6)return se.error("Password must be at least 6 characters");if(ne!==fe)return se.error("Passwords do not match");const Se=`${R(f)}${h.replace(/^0+/,"")}`.replace(/^\+/,"");try{r(!0);const Ge={phone_number:Se,otp_code:w,username:$.trim(),first_name:ie.trim(),last_name:le.trim(),password:ne,password_confirmation:fe,role:Ne||"admin"};z?.trim()&&(Ge.email=z.trim()),Ne==="agency"&&ye?.trim()&&(Ge.business_type=ye.trim());const nt=await xe.post("/auth/register",Ge),Ae=nt.data?.user,Ye=Ae?.role||Ne||"admin";localStorage.setItem("authToken",nt.data.token),localStorage.setItem("token",nt.data.token),localStorage.setItem("user",JSON.stringify(Ae||nt.data.user)),se.success("Account created!"),t(Ye==="admin"?"/admin":"/Complete-Profile")}catch(Ge){const nt=Ge.response?.data?.message||Ge.response?.data?.error||"Registration failed.";Ge.response?.data?.errors?Object.values(Ge.response.data.errors).flat().forEach(Ae=>se.error(Ae)):se.error(nt)}finally{r(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900 flex items-center justify-center p-4",children:e.jsx(Ve.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:e.jsxs(Te,{className:"border-0 shadow-2xl",children:[e.jsxs(rs,{className:"text-center space-y-4 pb-8",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center",style:{background:`linear-gradient(to right, ${Xn.darkBlue}, ${Xn.teal})`},children:e.jsx(Bn,{className:"w-8 h-8 text-white"})})}),e.jsxs("div",{children:[e.jsx(is,{className:"text-2xl font-bold bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(to right, ${Xn.darkBlue}, ${Xn.teal}, ${Xn.limeGreen})`},children:"Admin Login"}),e.jsx(am,{className:"mt-2",children:"Sign in to access the admin dashboard"})]})]}),e.jsxs(Re,{children:[e.jsxs(uo,{value:s,onValueChange:a,children:[e.jsxs(ki,{className:"grid w-full grid-cols-2 mb-6",children:[e.jsx(Pt,{value:"login",children:"Login"}),e.jsx(Pt,{value:"register",children:"Register"})]}),e.jsx($t,{value:"login",children:e.jsxs("form",{onSubmit:U,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{htmlFor:"email",children:"Email or Phone"}),e.jsxs("div",{className:"relative",children:[e.jsx(_i,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(oe,{id:"email",type:"text",placeholder:"admin@example.com or +96170123456",value:i,onChange:L=>l(L.target.value),className:"pl-10",disabled:n,required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{htmlFor:"password",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(ol,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(oe,{id:"password",type:"password",placeholder:"Enter your password",value:d,onChange:L=>u(L.target.value),className:"pl-10",disabled:n,required:!0})]})]}),e.jsx(K,{type:"submit",className:"w-full text-white",style:{background:`linear-gradient(to right, ${Xn.darkBlue}, ${Xn.teal})`},disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Signing in..."]}):e.jsxs(e.Fragment,{children:["Sign In",e.jsx(Ec,{className:"w-4 h-4 ml-2"})]})})]})}),e.jsx($t,{value:"register",children:N?e.jsxs("form",{onSubmit:H,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{children:"Username *"}),e.jsx(oe,{value:A.username,onChange:L=>F($=>({...$,username:L.target.value})),placeholder:"admin_username",disabled:n,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{children:"Email"}),e.jsx(oe,{type:"email",value:A.email,onChange:L=>F($=>({...$,email:L.target.value})),placeholder:"admin@example.com",disabled:n})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{children:"Role *"}),e.jsxs(Je,{value:A.role||"admin",onValueChange:L=>F($=>({...$,role:L})),children:[e.jsx(Qe,{children:e.jsx(et,{placeholder:"Select role"})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"client",children:"Client"}),e.jsx(de,{value:"agency",children:"Agency"}),e.jsx(de,{value:"admin",children:"Admin"})]})]})]}),A.role==="agency"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{children:"Business Type *"}),e.jsx(oe,{value:A.business_type,onChange:L=>F($=>({...$,business_type:L.target.value})),placeholder:"e.g. Car Rental Agency",disabled:n})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{children:"First Name *"}),e.jsx(oe,{value:A.first_name,onChange:L=>F($=>({...$,first_name:L.target.value})),placeholder:"First",disabled:n,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{children:"Last Name *"}),e.jsx(oe,{value:A.last_name,onChange:L=>F($=>({...$,last_name:L.target.value})),placeholder:"Last",disabled:n,required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{children:"Password *"}),e.jsx(oe,{type:"password",value:A.password,onChange:L=>F($=>({...$,password:L.target.value})),placeholder:"Min 6 characters",disabled:n,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{children:"Confirm Password *"}),e.jsx(oe,{type:"password",value:A.password_confirmation,onChange:L=>F($=>({...$,password_confirmation:L.target.value})),placeholder:"Repeat password",disabled:n,required:!0})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(K,{type:"button",variant:"outline",onClick:ee,disabled:n,children:"Back"}),e.jsx(K,{type:"submit",className:"flex-1 text-white",style:{background:`linear-gradient(to right, ${Xn.darkBlue}, ${Xn.teal})`},disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(_t,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(nz,{className:"w-4 h-4 mr-2"}),"Create Admin Account"]})})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(q,{className:"flex items-center gap-2",children:[e.jsx(Gr,{className:"w-4 h-4"}),"Phone Number"]}),e.jsx(Moe,{countries:M,iso2:f,setIso2:x,phone:h,setPhone:p,disabledPhone:v})]}),v&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{children:"OTP Code"}),e.jsx(oe,{type:"text",inputMode:"numeric",value:w,onChange:L=>{const $=L.target.value.replace(/\D/g,"");$.length<=6&&_($)},placeholder:"Enter 6-digit OTP",maxLength:6,className:"text-center text-xl font-bold tracking-widest"}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsx("span",{children:"Check your phone"}),E>0?e.jsxs("span",{children:["Resend in ",E,"s"]}):e.jsxs(K,{type:"button",variant:"link",size:"sm",className:"h-auto p-0 text-xs",onClick:te,disabled:!D||n,children:[e.jsx(_t,{className:"w-3 h-3 mr-1"}),"Resend OTP"]})]})]}),e.jsx("div",{className:"flex gap-2",children:v?e.jsxs(e.Fragment,{children:[e.jsx(K,{type:"button",variant:"outline",onClick:Y,disabled:n,children:"Change"}),e.jsx(K,{type:"button",onClick:V,className:"flex-1 text-white",style:{background:`linear-gradient(to right, ${Xn.darkBlue}, ${Xn.teal})`},disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(_t,{className:"w-4 h-4 mr-2 animate-spin"}),"Verifying..."]}):"Verify OTP"})]}):e.jsx(K,{type:"button",onClick:re,className:"w-full text-white",style:{background:`linear-gradient(to right, ${Xn.darkBlue}, ${Xn.teal})`},disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(_t,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):"Send OTP"})})]})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx(K,{variant:"ghost",onClick:()=>t("/"),className:"text-sm text-gray-600 dark:text-gray-400",children:" Back to Home"})})]})]})})})}var Ooe=Symbol("radix.slottable");function Loe(t){const s=({children:a})=>e.jsx(e.Fragment,{children:a});return s.displayName=`${t}.Slottable`,s.__radixId=Ooe,s}var[Hx]=nr("Tooltip",[yu]),A1=yu(),nO="TooltipProvider",Boe=700,q4="tooltip.open",[Foe,rO]=Hx(nO),iO=t=>{const{__scopeTooltip:s,delayDuration:a=Boe,skipDelayDuration:n=300,disableHoverableContent:r=!1,children:i}=t,l=y.useRef(!0),d=y.useRef(!1),u=y.useRef(0);return y.useEffect(()=>{const h=u.current;return()=>window.clearTimeout(h)},[]),e.jsx(Foe,{scope:s,isOpenDelayedRef:l,delayDuration:a,onOpen:y.useCallback(()=>{window.clearTimeout(u.current),l.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l.current=!0,n)},[n]),isPointerInTransitRef:d,onPointerInTransitChange:y.useCallback(h=>{d.current=h},[]),disableHoverableContent:r,children:i})};iO.displayName=nO;var oO="Tooltip",[gue,Qm]=Hx(oO),Rj="TooltipTrigger",Ioe=y.forwardRef((t,s)=>{const{__scopeTooltip:a,...n}=t,r=Qm(Rj,a),i=rO(Rj,a),l=A1(a),d=y.useRef(null),u=Ht(s,d,r.onTriggerChange),h=y.useRef(!1),p=y.useRef(!1),f=y.useCallback(()=>h.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),e.jsx(dw,{asChild:!0,...l,children:e.jsx(Dt.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...n,ref:u,onPointerMove:st(t.onPointerMove,x=>{x.pointerType!=="touch"&&!p.current&&!i.isPointerInTransitRef.current&&(r.onTriggerEnter(),p.current=!0)}),onPointerLeave:st(t.onPointerLeave,()=>{r.onTriggerLeave(),p.current=!1}),onPointerDown:st(t.onPointerDown,()=>{r.open&&r.onClose(),h.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:st(t.onFocus,()=>{h.current||r.onOpen()}),onBlur:st(t.onBlur,r.onClose),onClick:st(t.onClick,r.onClose)})})});Ioe.displayName=Rj;var T1="TooltipPortal",[$oe,zoe]=Hx(T1,{forceMount:void 0}),lO=t=>{const{__scopeTooltip:s,forceMount:a,children:n,container:r}=t,i=Qm(T1,s);return e.jsx($oe,{scope:s,forceMount:a,children:e.jsx(Dr,{present:a||i.open,children:e.jsx(Bm,{asChild:!0,container:r,children:n})})})};lO.displayName=T1;var iu="TooltipContent",cO=y.forwardRef((t,s)=>{const a=zoe(iu,t.__scopeTooltip),{forceMount:n=a.forceMount,side:r="top",...i}=t,l=Qm(iu,t.__scopeTooltip);return e.jsx(Dr,{present:n||l.open,children:l.disableHoverableContent?e.jsx(dO,{side:r,...i,ref:s}):e.jsx(Voe,{side:r,...i,ref:s})})}),Voe=y.forwardRef((t,s)=>{const a=Qm(iu,t.__scopeTooltip),n=rO(iu,t.__scopeTooltip),r=y.useRef(null),i=Ht(s,r),[l,d]=y.useState(null),{trigger:u,onClose:h}=a,p=r.current,{onPointerInTransitChange:f}=n,x=y.useCallback(()=>{d(null),f(!1)},[f]),v=y.useCallback((j,w)=>{const _=j.currentTarget,N={x:j.clientX,y:j.clientY},k=Woe(N,_.getBoundingClientRect()),D=Yoe(N,k),T=Koe(w.getBoundingClientRect()),E=Qoe([...D,...T]);d(E),f(!0)},[f]);return y.useEffect(()=>()=>x(),[x]),y.useEffect(()=>{if(u&&p){const j=_=>v(_,p),w=_=>v(_,u);return u.addEventListener("pointerleave",j),p.addEventListener("pointerleave",w),()=>{u.removeEventListener("pointerleave",j),p.removeEventListener("pointerleave",w)}}},[u,p,v,x]),y.useEffect(()=>{if(l){const j=w=>{const _=w.target,N={x:w.clientX,y:w.clientY},k=u?.contains(_)||p?.contains(_),D=!Xoe(N,l);k?x():D&&(x(),h())};return document.addEventListener("pointermove",j),()=>document.removeEventListener("pointermove",j)}},[u,p,l,h,x]),e.jsx(dO,{...t,ref:i})}),[Uoe,Hoe]=Hx(oO,{isInside:!1}),qoe=Loe("TooltipContent"),dO=y.forwardRef((t,s)=>{const{__scopeTooltip:a,children:n,"aria-label":r,onEscapeKeyDown:i,onPointerDownOutside:l,...d}=t,u=Qm(iu,a),h=A1(a),{onClose:p}=u;return y.useEffect(()=>(document.addEventListener(q4,p),()=>document.removeEventListener(q4,p)),[p]),y.useEffect(()=>{if(u.trigger){const f=x=>{x.target?.contains(u.trigger)&&p()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[u.trigger,p]),e.jsx(Om,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:f=>f.preventDefault(),onDismiss:p,children:e.jsxs(uw,{"data-state":u.stateAttribute,...h,...d,ref:s,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(qoe,{children:n}),e.jsx(Uoe,{scope:a,isInside:!0,children:e.jsx(yq,{id:u.contentId,role:"tooltip",children:r||n})})]})})});cO.displayName=iu;var uO="TooltipArrow",Goe=y.forwardRef((t,s)=>{const{__scopeTooltip:a,...n}=t,r=A1(a);return Hoe(uO,a).isInside?null:e.jsx(hw,{...r,...n,ref:s})});Goe.displayName=uO;function Woe(t,s){const a=Math.abs(s.top-t.y),n=Math.abs(s.bottom-t.y),r=Math.abs(s.right-t.x),i=Math.abs(s.left-t.x);switch(Math.min(a,n,r,i)){case i:return"left";case r:return"right";case a:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function Yoe(t,s,a=5){const n=[];switch(s){case"top":n.push({x:t.x-a,y:t.y+a},{x:t.x+a,y:t.y+a});break;case"bottom":n.push({x:t.x-a,y:t.y-a},{x:t.x+a,y:t.y-a});break;case"left":n.push({x:t.x+a,y:t.y-a},{x:t.x+a,y:t.y+a});break;case"right":n.push({x:t.x-a,y:t.y-a},{x:t.x-a,y:t.y+a});break}return n}function Koe(t){const{top:s,right:a,bottom:n,left:r}=t;return[{x:r,y:s},{x:a,y:s},{x:a,y:n},{x:r,y:n}]}function Xoe(t,s){const{x:a,y:n}=t;let r=!1;for(let i=0,l=s.length-1;i<s.length;l=i++){const d=s[i],u=s[l],h=d.x,p=d.y,f=u.x,x=u.y;p>n!=x>n&&a<(f-h)*(n-p)/(x-p)+h&&(r=!r)}return r}function Qoe(t){const s=t.slice();return s.sort((a,n)=>a.x<n.x?-1:a.x>n.x?1:a.y<n.y?-1:a.y>n.y?1:0),Zoe(s)}function Zoe(t){if(t.length<=1)return t.slice();const s=[];for(let n=0;n<t.length;n++){const r=t[n];for(;s.length>=2;){const i=s[s.length-1],l=s[s.length-2];if((i.x-l.x)*(r.y-l.y)>=(i.y-l.y)*(r.x-l.x))s.pop();else break}s.push(r)}s.pop();const a=[];for(let n=t.length-1;n>=0;n--){const r=t[n];for(;a.length>=2;){const i=a[a.length-1],l=a[a.length-2];if((i.x-l.x)*(r.y-l.y)>=(i.y-l.y)*(r.x-l.x))a.pop();else break}a.push(r)}return a.pop(),s.length===1&&a.length===1&&s[0].x===a[0].x&&s[0].y===a[0].y?s:s.concat(a)}var Joe=iO,ele=lO,hO=cO;const tle=Joe,sle=y.forwardRef(({className:t,sideOffset:s=4,...a},n)=>e.jsx(ele,{children:e.jsx(hO,{ref:n,sideOffset:s,className:mt("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...a})}));sle.displayName=hO.displayName;function ale(t){const s=nle(t),a=y.forwardRef((n,r)=>{const{children:i,...l}=n,d=y.Children.toArray(i),u=d.find(ile);if(u){const h=u.props.children,p=d.map(f=>f===u?y.Children.count(h)>1?y.Children.only(null):y.isValidElement(h)?h.props.children:null:f);return e.jsx(s,{...l,ref:r,children:y.isValidElement(h)?y.cloneElement(h,void 0,p):null})}return e.jsx(s,{...l,ref:r,children:i})});return a.displayName=`${t}.Slot`,a}function nle(t){const s=y.forwardRef((a,n)=>{const{children:r,...i}=a;if(y.isValidElement(r)){const l=lle(r),d=ole(i,r.props);return r.type!==y.Fragment&&(d.ref=n?xo(n,l):l),y.cloneElement(r,d)}return y.Children.count(r)>1?y.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var rle=Symbol("radix.slottable");function ile(t){return y.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===rle}function ole(t,s){const a={...s};for(const n in s){const r=t[n],i=s[n];/^on[A-Z]/.test(n)?r&&i?a[n]=(...d)=>{const u=i(...d);return r(...d),u}:r&&(a[n]=r):n==="style"?a[n]={...r,...i}:n==="className"&&(a[n]=[r,i].filter(Boolean).join(" "))}return{...t,...a}}function lle(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var Mj=["Enter"," "],cle=["ArrowDown","PageUp","Home"],mO=["ArrowUp","PageDown","End"],dle=[...cle,...mO],ule={ltr:[...Mj,"ArrowRight"],rtl:[...Mj,"ArrowLeft"]},hle={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Zm="Menu",[vm,mle,fle]=ux(Zm),[Vc,fO]=nr(Zm,[fle,yu,hx]),qx=yu(),pO=hx(),[ple,Uc]=Vc(Zm),[gle,Jm]=Vc(Zm),gO=t=>{const{__scopeMenu:s,open:a=!1,children:n,dir:r,onOpenChange:i,modal:l=!0}=t,d=qx(s),[u,h]=y.useState(null),p=y.useRef(!1),f=Ci(i),x=Mm(r);return y.useEffect(()=>{const v=()=>{p.current=!0,document.addEventListener("pointerdown",j,{capture:!0,once:!0}),document.addEventListener("pointermove",j,{capture:!0,once:!0})},j=()=>p.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",j,{capture:!0}),document.removeEventListener("pointermove",j,{capture:!0})}},[]),e.jsx(kE,{...d,children:e.jsx(ple,{scope:s,open:a,onOpenChange:f,content:u,onContentChange:h,children:e.jsx(gle,{scope:s,onClose:y.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:p,dir:x,modal:l,children:n})})})};gO.displayName=Zm;var xle="MenuAnchor",D1=y.forwardRef((t,s)=>{const{__scopeMenu:a,...n}=t,r=qx(a);return e.jsx(dw,{...r,...n,ref:s})});D1.displayName=xle;var E1="MenuPortal",[yle,xO]=Vc(E1,{forceMount:void 0}),yO=t=>{const{__scopeMenu:s,forceMount:a,children:n,container:r}=t,i=Uc(E1,s);return e.jsx(yle,{scope:s,forceMount:a,children:e.jsx(Dr,{present:a||i.open,children:e.jsx(Bm,{asChild:!0,container:r,children:n})})})};yO.displayName=E1;var kr="MenuContent",[ble,R1]=Vc(kr),bO=y.forwardRef((t,s)=>{const a=xO(kr,t.__scopeMenu),{forceMount:n=a.forceMount,...r}=t,i=Uc(kr,t.__scopeMenu),l=Jm(kr,t.__scopeMenu);return e.jsx(vm.Provider,{scope:t.__scopeMenu,children:e.jsx(Dr,{present:n||i.open,children:e.jsx(vm.Slot,{scope:t.__scopeMenu,children:l.modal?e.jsx(vle,{...r,ref:s}):e.jsx(jle,{...r,ref:s})})})})}),vle=y.forwardRef((t,s)=>{const a=Uc(kr,t.__scopeMenu),n=y.useRef(null),r=Ht(s,n);return y.useEffect(()=>{const i=n.current;if(i)return mw(i)},[]),e.jsx(M1,{...t,ref:r,trapFocus:a.open,disableOutsidePointerEvents:a.open,disableOutsideScroll:!0,onFocusOutside:st(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>a.onOpenChange(!1)})}),jle=y.forwardRef((t,s)=>{const a=Uc(kr,t.__scopeMenu);return e.jsx(M1,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>a.onOpenChange(!1)})}),wle=ale("MenuContent.ScrollLock"),M1=y.forwardRef((t,s)=>{const{__scopeMenu:a,loop:n=!1,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:d,onEntryFocus:u,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:f,onInteractOutside:x,onDismiss:v,disableOutsideScroll:j,...w}=t,_=Uc(kr,a),N=Jm(kr,a),k=qx(a),D=pO(a),T=mle(a),[E,G]=y.useState(null),A=y.useRef(null),F=Ht(s,A,_.onContentChange),M=y.useRef(0),J=y.useRef(""),R=y.useRef(0),ee=y.useRef(null),Y=y.useRef("right"),re=y.useRef(0),te=j?wx:y.Fragment,V=j?{as:wle,allowPinchZoom:!0}:void 0,U=L=>{const $=J.current+L,z=T().filter(ye=>!ye.disabled),ie=document.activeElement,le=z.find(ye=>ye.ref.current===ie)?.textValue,ne=z.map(ye=>ye.textValue),fe=Ple(ne,$,le),Ne=z.find(ye=>ye.textValue===fe)?.ref.current;(function ye(Le){J.current=Le,window.clearTimeout(M.current),Le!==""&&(M.current=window.setTimeout(()=>ye(""),1e3))})($),Ne&&setTimeout(()=>Ne.focus())};y.useEffect(()=>()=>window.clearTimeout(M.current),[]),tw();const H=y.useCallback(L=>Y.current===ee.current?.side&&Lle(L,ee.current?.area),[]);return e.jsx(ble,{scope:a,searchRef:J,onItemEnter:y.useCallback(L=>{H(L)&&L.preventDefault()},[H]),onItemLeave:y.useCallback(L=>{H(L)||(A.current?.focus(),G(null))},[H]),onTriggerLeave:y.useCallback(L=>{H(L)&&L.preventDefault()},[H]),pointerGraceTimerRef:R,onPointerGraceIntentChange:y.useCallback(L=>{ee.current=L},[]),children:e.jsx(te,{...V,children:e.jsx(fx,{asChild:!0,trapped:r,onMountAutoFocus:st(i,L=>{L.preventDefault(),A.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:e.jsx(Om,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:f,onInteractOutside:x,onDismiss:v,children:e.jsx(zD,{asChild:!0,...D,dir:N.dir,orientation:"vertical",loop:n,currentTabStopId:E,onCurrentTabStopIdChange:G,onEntryFocus:st(u,L=>{N.isUsingKeyboardRef.current||L.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(uw,{role:"menu","aria-orientation":"vertical","data-state":OO(_.open),"data-radix-menu-content":"",dir:N.dir,...k,...w,ref:F,style:{outline:"none",...w.style},onKeyDown:st(w.onKeyDown,L=>{const z=L.target.closest("[data-radix-menu-content]")===L.currentTarget,ie=L.ctrlKey||L.altKey||L.metaKey,le=L.key.length===1;z&&(L.key==="Tab"&&L.preventDefault(),!ie&&le&&U(L.key));const ne=A.current;if(L.target!==ne||!dle.includes(L.key))return;L.preventDefault();const Ne=T().filter(ye=>!ye.disabled).map(ye=>ye.ref.current);mO.includes(L.key)&&Ne.reverse(),Rle(Ne)}),onBlur:st(t.onBlur,L=>{L.currentTarget.contains(L.target)||(window.clearTimeout(M.current),J.current="")}),onPointerMove:st(t.onPointerMove,jm(L=>{const $=L.target,z=re.current!==L.clientX;if(L.currentTarget.contains($)&&z){const ie=L.clientX>re.current?"right":"left";Y.current=ie,re.current=L.clientX}}))})})})})})})});bO.displayName=kr;var Nle="MenuGroup",P1=y.forwardRef((t,s)=>{const{__scopeMenu:a,...n}=t;return e.jsx(Dt.div,{role:"group",...n,ref:s})});P1.displayName=Nle;var _le="MenuLabel",vO=y.forwardRef((t,s)=>{const{__scopeMenu:a,...n}=t;return e.jsx(Dt.div,{...n,ref:s})});vO.displayName=_le;var Xg="MenuItem",G4="menu.itemSelect",Gx=y.forwardRef((t,s)=>{const{disabled:a=!1,onSelect:n,...r}=t,i=y.useRef(null),l=Jm(Xg,t.__scopeMenu),d=R1(Xg,t.__scopeMenu),u=Ht(s,i),h=y.useRef(!1),p=()=>{const f=i.current;if(!a&&f){const x=new CustomEvent(G4,{bubbles:!0,cancelable:!0});f.addEventListener(G4,v=>n?.(v),{once:!0}),OD(f,x),x.defaultPrevented?h.current=!1:l.onClose()}};return e.jsx(jO,{...r,ref:u,disabled:a,onClick:st(t.onClick,p),onPointerDown:f=>{t.onPointerDown?.(f),h.current=!0},onPointerUp:st(t.onPointerUp,f=>{h.current||f.currentTarget?.click()}),onKeyDown:st(t.onKeyDown,f=>{const x=d.searchRef.current!=="";a||x&&f.key===" "||Mj.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Gx.displayName=Xg;var jO=y.forwardRef((t,s)=>{const{__scopeMenu:a,disabled:n=!1,textValue:r,...i}=t,l=R1(Xg,a),d=pO(a),u=y.useRef(null),h=Ht(s,u),[p,f]=y.useState(!1),[x,v]=y.useState("");return y.useEffect(()=>{const j=u.current;j&&v((j.textContent??"").trim())},[i.children]),e.jsx(vm.ItemSlot,{scope:a,disabled:n,textValue:r??x,children:e.jsx(VD,{asChild:!0,...d,focusable:!n,children:e.jsx(Dt.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:h,onPointerMove:st(t.onPointerMove,jm(j=>{n?l.onItemLeave(j):(l.onItemEnter(j),j.defaultPrevented||j.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:st(t.onPointerLeave,jm(j=>l.onItemLeave(j))),onFocus:st(t.onFocus,()=>f(!0)),onBlur:st(t.onBlur,()=>f(!1))})})})}),Cle="MenuCheckboxItem",wO=y.forwardRef((t,s)=>{const{checked:a=!1,onCheckedChange:n,...r}=t;return e.jsx(SO,{scope:t.__scopeMenu,checked:a,children:e.jsx(Gx,{role:"menuitemcheckbox","aria-checked":Qg(a)?"mixed":a,...r,ref:s,"data-state":L1(a),onSelect:st(r.onSelect,()=>n?.(Qg(a)?!0:!a),{checkForDefaultPrevented:!1})})})});wO.displayName=Cle;var NO="MenuRadioGroup",[kle,Sle]=Vc(NO,{value:void 0,onValueChange:()=>{}}),_O=y.forwardRef((t,s)=>{const{value:a,onValueChange:n,...r}=t,i=Ci(n);return e.jsx(kle,{scope:t.__scopeMenu,value:a,onValueChange:i,children:e.jsx(P1,{...r,ref:s})})});_O.displayName=NO;var CO="MenuRadioItem",kO=y.forwardRef((t,s)=>{const{value:a,...n}=t,r=Sle(CO,t.__scopeMenu),i=a===r.value;return e.jsx(SO,{scope:t.__scopeMenu,checked:i,children:e.jsx(Gx,{role:"menuitemradio","aria-checked":i,...n,ref:s,"data-state":L1(i),onSelect:st(n.onSelect,()=>r.onValueChange?.(a),{checkForDefaultPrevented:!1})})})});kO.displayName=CO;var O1="MenuItemIndicator",[SO,Ale]=Vc(O1,{checked:!1}),AO=y.forwardRef((t,s)=>{const{__scopeMenu:a,forceMount:n,...r}=t,i=Ale(O1,a);return e.jsx(Dr,{present:n||Qg(i.checked)||i.checked===!0,children:e.jsx(Dt.span,{...r,ref:s,"data-state":L1(i.checked)})})});AO.displayName=O1;var Tle="MenuSeparator",TO=y.forwardRef((t,s)=>{const{__scopeMenu:a,...n}=t;return e.jsx(Dt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:s})});TO.displayName=Tle;var Dle="MenuArrow",DO=y.forwardRef((t,s)=>{const{__scopeMenu:a,...n}=t,r=qx(a);return e.jsx(hw,{...r,...n,ref:s})});DO.displayName=Dle;var Ele="MenuSub",[xue,EO]=Vc(Ele),zh="MenuSubTrigger",RO=y.forwardRef((t,s)=>{const a=Uc(zh,t.__scopeMenu),n=Jm(zh,t.__scopeMenu),r=EO(zh,t.__scopeMenu),i=R1(zh,t.__scopeMenu),l=y.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:u}=i,h={__scopeMenu:t.__scopeMenu},p=y.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return y.useEffect(()=>p,[p]),y.useEffect(()=>{const f=d.current;return()=>{window.clearTimeout(f),u(null)}},[d,u]),e.jsx(D1,{asChild:!0,...h,children:e.jsx(jO,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":r.contentId,"data-state":OO(a.open),...t,ref:xo(s,r.onTriggerChange),onClick:f=>{t.onClick?.(f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),a.open||a.onOpenChange(!0))},onPointerMove:st(t.onPointerMove,jm(f=>{i.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!a.open&&!l.current&&(i.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{a.onOpenChange(!0),p()},100))})),onPointerLeave:st(t.onPointerLeave,jm(f=>{p();const x=a.content?.getBoundingClientRect();if(x){const v=a.content?.dataset.side,j=v==="right",w=j?-5:5,_=x[j?"left":"right"],N=x[j?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+w,y:f.clientY},{x:_,y:x.top},{x:N,y:x.top},{x:N,y:x.bottom},{x:_,y:x.bottom}],side:v}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:st(t.onKeyDown,f=>{const x=i.searchRef.current!=="";t.disabled||x&&f.key===" "||ule[n.dir].includes(f.key)&&(a.onOpenChange(!0),a.content?.focus(),f.preventDefault())})})})});RO.displayName=zh;var MO="MenuSubContent",PO=y.forwardRef((t,s)=>{const a=xO(kr,t.__scopeMenu),{forceMount:n=a.forceMount,...r}=t,i=Uc(kr,t.__scopeMenu),l=Jm(kr,t.__scopeMenu),d=EO(MO,t.__scopeMenu),u=y.useRef(null),h=Ht(s,u);return e.jsx(vm.Provider,{scope:t.__scopeMenu,children:e.jsx(Dr,{present:n||i.open,children:e.jsx(vm.Slot,{scope:t.__scopeMenu,children:e.jsx(M1,{id:d.contentId,"aria-labelledby":d.triggerId,...r,ref:h,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{l.isUsingKeyboardRef.current&&u.current?.focus(),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:st(t.onFocusOutside,p=>{p.target!==d.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:st(t.onEscapeKeyDown,p=>{l.onClose(),p.preventDefault()}),onKeyDown:st(t.onKeyDown,p=>{const f=p.currentTarget.contains(p.target),x=hle[l.dir].includes(p.key);f&&x&&(i.onOpenChange(!1),d.trigger?.focus(),p.preventDefault())})})})})})});PO.displayName=MO;function OO(t){return t?"open":"closed"}function Qg(t){return t==="indeterminate"}function L1(t){return Qg(t)?"indeterminate":t?"checked":"unchecked"}function Rle(t){const s=document.activeElement;for(const a of t)if(a===s||(a.focus(),document.activeElement!==s))return}function Mle(t,s){return t.map((a,n)=>t[(s+n)%t.length])}function Ple(t,s,a){const r=s.length>1&&Array.from(s).every(h=>h===s[0])?s[0]:s,i=a?t.indexOf(a):-1;let l=Mle(t,Math.max(i,0));r.length===1&&(l=l.filter(h=>h!==a));const u=l.find(h=>h.toLowerCase().startsWith(r.toLowerCase()));return u!==a?u:void 0}function Ole(t,s){const{x:a,y:n}=t;let r=!1;for(let i=0,l=s.length-1;i<s.length;l=i++){const d=s[i],u=s[l],h=d.x,p=d.y,f=u.x,x=u.y;p>n!=x>n&&a<(f-h)*(n-p)/(x-p)+h&&(r=!r)}return r}function Lle(t,s){if(!s)return!1;const a={x:t.clientX,y:t.clientY};return Ole(a,s)}function jm(t){return s=>s.pointerType==="mouse"?t(s):void 0}var Ble=gO,Fle=D1,Ile=yO,$le=bO,zle=P1,Vle=vO,Ule=Gx,Hle=wO,qle=_O,Gle=kO,Wle=AO,Yle=TO,Kle=DO,Xle=RO,Qle=PO,Wx="DropdownMenu",[Zle]=nr(Wx,[fO]),xn=fO(),[Jle,LO]=Zle(Wx),BO=t=>{const{__scopeDropdownMenu:s,children:a,dir:n,open:r,defaultOpen:i,onOpenChange:l,modal:d=!0}=t,u=xn(s),h=y.useRef(null),[p,f]=co({prop:r,defaultProp:i??!1,onChange:l,caller:Wx});return e.jsx(Jle,{scope:s,triggerId:yi(),triggerRef:h,contentId:yi(),open:p,onOpenChange:f,onOpenToggle:y.useCallback(()=>f(x=>!x),[f]),modal:d,children:e.jsx(Ble,{...u,open:p,onOpenChange:f,dir:n,modal:d,children:a})})};BO.displayName=Wx;var FO="DropdownMenuTrigger",IO=y.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,disabled:n=!1,...r}=t,i=LO(FO,a),l=xn(a);return e.jsx(Fle,{asChild:!0,...l,children:e.jsx(Dt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...r,ref:xo(s,i.triggerRef),onPointerDown:st(t.onPointerDown,d=>{!n&&d.button===0&&d.ctrlKey===!1&&(i.onOpenToggle(),i.open||d.preventDefault())}),onKeyDown:st(t.onKeyDown,d=>{n||(["Enter"," "].includes(d.key)&&i.onOpenToggle(),d.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});IO.displayName=FO;var ece="DropdownMenuPortal",$O=t=>{const{__scopeDropdownMenu:s,...a}=t,n=xn(s);return e.jsx(Ile,{...n,...a})};$O.displayName=ece;var zO="DropdownMenuContent",VO=y.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...n}=t,r=LO(zO,a),i=xn(a),l=y.useRef(!1);return e.jsx($le,{id:r.contentId,"aria-labelledby":r.triggerId,...i,...n,ref:s,onCloseAutoFocus:st(t.onCloseAutoFocus,d=>{l.current||r.triggerRef.current?.focus(),l.current=!1,d.preventDefault()}),onInteractOutside:st(t.onInteractOutside,d=>{const u=d.detail.originalEvent,h=u.button===0&&u.ctrlKey===!0,p=u.button===2||h;(!r.modal||p)&&(l.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});VO.displayName=zO;var tce="DropdownMenuGroup",sce=y.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...n}=t,r=xn(a);return e.jsx(zle,{...r,...n,ref:s})});sce.displayName=tce;var ace="DropdownMenuLabel",UO=y.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...n}=t,r=xn(a);return e.jsx(Vle,{...r,...n,ref:s})});UO.displayName=ace;var nce="DropdownMenuItem",HO=y.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...n}=t,r=xn(a);return e.jsx(Ule,{...r,...n,ref:s})});HO.displayName=nce;var rce="DropdownMenuCheckboxItem",qO=y.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...n}=t,r=xn(a);return e.jsx(Hle,{...r,...n,ref:s})});qO.displayName=rce;var ice="DropdownMenuRadioGroup",oce=y.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...n}=t,r=xn(a);return e.jsx(qle,{...r,...n,ref:s})});oce.displayName=ice;var lce="DropdownMenuRadioItem",GO=y.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...n}=t,r=xn(a);return e.jsx(Gle,{...r,...n,ref:s})});GO.displayName=lce;var cce="DropdownMenuItemIndicator",WO=y.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...n}=t,r=xn(a);return e.jsx(Wle,{...r,...n,ref:s})});WO.displayName=cce;var dce="DropdownMenuSeparator",YO=y.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...n}=t,r=xn(a);return e.jsx(Yle,{...r,...n,ref:s})});YO.displayName=dce;var uce="DropdownMenuArrow",hce=y.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...n}=t,r=xn(a);return e.jsx(Kle,{...r,...n,ref:s})});hce.displayName=uce;var mce="DropdownMenuSubTrigger",KO=y.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...n}=t,r=xn(a);return e.jsx(Xle,{...r,...n,ref:s})});KO.displayName=mce;var fce="DropdownMenuSubContent",XO=y.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...n}=t,r=xn(a);return e.jsx(Qle,{...r,...n,ref:s,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});XO.displayName=fce;var pce=BO,gce=IO,xce=$O,QO=VO,ZO=UO,JO=HO,eL=qO,tL=GO,sL=WO,aL=YO,nL=KO,rL=XO;const yce=pce,bce=gce,vce=y.forwardRef(({className:t,inset:s,children:a,...n},r)=>e.jsxs(nL,{ref:r,className:mt("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",t),...n,children:[a,e.jsx(sn,{className:"ml-auto"})]}));vce.displayName=nL.displayName;const jce=y.forwardRef(({className:t,...s},a)=>e.jsx(rL,{ref:a,className:mt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...s}));jce.displayName=rL.displayName;const iL=y.forwardRef(({className:t,sideOffset:s=4,...a},n)=>e.jsx(xce,{children:e.jsx(QO,{ref:n,sideOffset:s,className:mt("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...a})}));iL.displayName=QO.displayName;const Pj=y.forwardRef(({className:t,inset:s,...a},n)=>e.jsx(JO,{ref:n,className:mt("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",s&&"pl-8",t),...a}));Pj.displayName=JO.displayName;const wce=y.forwardRef(({className:t,children:s,checked:a,...n},r)=>e.jsxs(eL,{ref:r,className:mt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:a,...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(sL,{children:e.jsx(Jn,{className:"h-4 w-4"})})}),s]}));wce.displayName=eL.displayName;const Nce=y.forwardRef(({className:t,children:s,...a},n)=>e.jsxs(tL,{ref:n,className:mt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(sL,{children:e.jsx(C$,{className:"h-2 w-2 fill-current"})})}),s]}));Nce.displayName=tL.displayName;const _ce=y.forwardRef(({className:t,inset:s,...a},n)=>e.jsx(ZO,{ref:n,className:mt("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",t),...a}));_ce.displayName=ZO.displayName;const oL=y.forwardRef(({className:t,...s},a)=>e.jsx(aL,{ref:a,className:mt("-mx-1 my-1 h-px bg-muted",t),...s}));oL.displayName=aL.displayName;const W4=[{id:"main",title:"MAIN",items:[{to:"/admin",label:"Dashboard",icon:Yj}]},{id:"management",title:"MANAGEMENT",items:[{to:"/admin/users",label:"Users",icon:fs},{to:"/admin/real-user-data",label:"Real User Data",icon:QT},{to:"/admin/cars",label:"Cars",icon:zt},{to:"/admin/bookings",label:"Bookings",icon:Wj},{to:"/admin/payments",label:"Payments",icon:Bs},{to:"/admin/promo-codes",label:"Promo Codes",icon:jg},{to:"/admin/brokers",label:"Brokers",icon:fs},{to:"/admin/ads",label:"Ads",icon:sD},{to:"/admin/featured",label:"Featured",icon:Ys},{to:"/admin/holidays",label:"Holidays",icon:Rs}]},{id:"system",title:"SYSTEM",items:[{to:"/admin/services",label:"Services",icon:Rc},{to:"/admin/announcements",label:"Announcements",icon:xg},{to:"/admin/appeals",label:"Appeals",icon:pl},{to:"/admin/suggestions",label:"Suggestions",icon:nx},{to:"/admin/notifications",label:"Notifications",icon:xg,badge:3},{to:"/admin/otps",label:"OTPs",icon:eD}]}],Cce=()=>{const t=Tr(),{logout:s}=pu(),[a,n]=y.useState(localStorage.getItem("admin_sidebar")==="true"),[r,i]=y.useState(""),[l,d]=y.useState(!1);y.useEffect(()=>{localStorage.setItem("admin_sidebar",a)},[a]),y.useEffect(()=>{window.innerWidth<768&&n(!0)},[]);const u=y.useMemo(()=>r?W4.map(p=>({...p,items:p.items.filter(f=>f.label.toLowerCase().includes(r.toLowerCase()))})).filter(p=>p.items.length>0):W4,[r]),h=t.pathname.replace("/admin","").split("/").filter(Boolean).map(p=>p[0].toUpperCase()+p.slice(1)).join(" / ")||"Dashboard";return e.jsx(tle,{delayDuration:0,children:e.jsxs("div",{className:"flex min-h-screen bg-background",children:[e.jsx(go,{children:e.jsxs(Ve.aside,{initial:{width:a?88:256},animate:{width:a?88:256},transition:{type:"spring",stiffness:260,damping:30},className:"relative border-r bg-card/95 backdrop-blur p-4 flex flex-col",children:[e.jsx("button",{onClick:()=>n(!a),className:"absolute -right-3 top-6 bg-card border rounded-full p-1 shadow hover:bg-muted",children:e.jsx(yo,{className:mt("w-4 h-4 transition-transform",a&&"rotate-180")})}),e.jsxs(yce,{children:[e.jsx(bce,{asChild:!0,children:e.jsxs("button",{className:"flex items-center gap-3 mb-4 rounded-xl px-2 py-2 hover:bg-muted",children:[e.jsx("img",{src:"/rento-512.png",className:"w-10 h-10 rounded-full"}),!a&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold",children:"Abbas Nemer"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Lead Developer"})]})]})}),e.jsxs(iL,{children:[e.jsxs(Pj,{children:[e.jsx(_i,{className:"w-4 h-4 mr-2"})," Profile"]}),e.jsx(oL,{}),e.jsxs(Pj,{onClick:s,className:"text-red-600",children:[e.jsx(yl,{className:"w-4 h-4 mr-2"})," Logout"]})]})]}),!a&&e.jsxs("div",{className:"mb-4 relative",children:[e.jsx(Ea,{className:"absolute left-3 top-2.5 w-4 h-4 text-muted-foreground"}),e.jsx(oe,{value:r,onChange:p=>i(p.target.value),placeholder:"Search...",className:"pl-9"})]}),e.jsx("nav",{className:"flex-1 space-y-6 overflow-y-auto",children:u.map(p=>e.jsxs("div",{children:[!a&&e.jsx("p",{className:"px-3 mb-2 text-xs font-semibold text-muted-foreground",children:p.title}),e.jsx("div",{className:"space-y-1",children:p.items.map(({to:f,label:x,icon:v,badge:j})=>e.jsx("div",{children:e.jsxs(AT,{to:f,end:!0,className:({isActive:w})=>mt("group relative flex items-center gap-3 rounded-xl px-3 py-2.5 text-sm font-medium","transition-all duration-200","hover:scale-[1.05]",w?"bg-primary/10 text-primary shadow-sm":"text-muted-foreground hover:bg-muted"),children:[e.jsx("span",{className:"absolute inset-0 rounded-xl bg-primary/10 opacity-0 group-[.active]:opacity-100 blur-sm"}),e.jsx(v,{className:"relative w-4 h-4"}),!a&&e.jsx("span",{children:x}),j&&!a&&e.jsx(Ve.span,{animate:{scale:[1,1.15,1]},transition:{repeat:1/0,duration:1.8},className:"ml-auto bg-primary text-white text-xs px-2 py-0.5 rounded-full",children:j})]})},f))})]},p.id))})]})}),e.jsxs("main",{className:"flex-1 p-6 overflow-y-auto",children:[e.jsxs("div",{className:"mb-4 text-sm text-muted-foreground",children:["Admin / ",h]}),e.jsx(Ve.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.25},children:e.jsx(RF,{})},t.pathname)]})]})})};kl.register(...k1);const kce=({data:t})=>{const s=y.useRef(null),a=y.useRef(null);return y.useEffect(()=>{if(!t?.length||!s.current)return;const n=s.current.getContext("2d");a.current&&(a.current.destroy(),a.current=null);const r=t.map(l=>l.label),i=[{key:"pending",label:"Pending",color:"#facc15"},{key:"completed",label:"Completed",color:"#22c55e"},{key:"cancelled",label:"Cancelled",color:"#ef4444"},{key:"total",label:"Total",color:"#3b82f6"}];return a.current=new kl(n,{type:"line",data:{labels:r,datasets:i.map(({key:l,label:d,color:u})=>({label:d,data:t.map(h=>h[l]??0),borderColor:u,backgroundColor:`${u}20`,fill:!1,tension:.2}))},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top"},tooltip:{mode:"index",intersect:!1}},scales:{x:{grid:{display:!1},ticks:{maxRotation:45,font:{size:11}}},y:{beginAtZero:!0,ticks:{stepSize:1,font:{size:11}},grid:{color:"rgba(0,0,0,0.06)"}}},animation:{duration:400}}}),()=>{a.current&&(a.current.destroy(),a.current=null)}},[t]),!t||t.length===0?null:e.jsx("div",{className:"w-full h-[320px]",children:e.jsx("canvas",{ref:s})})};kl.register(...k1);const Sce="#00A19C",Ace=({data:t})=>{const s=y.useRef(null),a=y.useRef(null);return y.useEffect(()=>{if(!t?.length||!s.current)return;const n=s.current.getContext("2d");return a.current&&(a.current.destroy(),a.current=null),a.current=new kl(n,{type:"bar",data:{labels:t.map(r=>r.label),datasets:[{label:"Cars",data:t.map(r=>r.count),backgroundColor:Sce,borderRadius:6}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:r=>"Cars: "+r.raw}}},scales:{x:{grid:{display:!1},ticks:{maxRotation:45,minRotation:0,font:{size:12}}},y:{beginAtZero:!0,ticks:{stepSize:1,font:{size:12}},grid:{color:"rgba(0,0,0,0.06)"}}},animation:{duration:600}}}),()=>{a.current&&(a.current.destroy(),a.current=null)}},[t]),t?.length?e.jsx("div",{className:"w-full h-full min-h-[280px]",children:e.jsx("canvas",{ref:s})}):null},Hd=t=>t.toISOString().split("T")[0],Tce=(t,s,a)=>{const n={},r=new Date,i=(l,d)=>{l[d]||(l[d]=0),l[d]++};if(s==="day"){const l=new Date(a.from),d=new Date(a.to);for(;l<=d;){const u=Hd(l);n[u]={label:l.toLocaleDateString("en-US",{month:"short",day:"numeric"}),total:0,pending:0,completed:0,cancelled:0},l.setDate(l.getDate()+1)}return t.forEach(u=>{if(!u.start_datetime)return;const h=Hd(new Date(u.start_datetime));n[h]&&(n[h].total++,i(n[h],u.booking_request_status))}),Object.values(n)}if(s==="week"){for(let l=6;l>=0;l--){const d=new Date;d.setDate(r.getDate()-l);const u=Hd(d);n[u]={label:d.toLocaleDateString("en-US",{weekday:"short"}),total:0,pending:0,completed:0,cancelled:0}}return t.forEach(l=>{if(!l.start_datetime)return;const d=Hd(new Date(l.start_datetime));n[d]&&(n[d].total++,i(n[d],l.booking_request_status))}),Object.values(n)}if(s==="month"){const l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return l.forEach(d=>{n[d]={label:d,total:0,pending:0,completed:0,cancelled:0}}),t.forEach(d=>{if(!d.start_datetime)return;const u=new Date(d.start_datetime);if(u.getFullYear()!==r.getFullYear())return;const h=u.toLocaleString("en-US",{month:"short"});n[h].total++,i(n[h],d.booking_request_status)}),l.map(d=>n[d])}return t.forEach(l=>{if(!l.start_datetime)return;const d=new Date(l.start_datetime).getFullYear();n[d]||(n[d]={label:String(d),total:0,pending:0,completed:0,cancelled:0}),n[d].total++,i(n[d],l.booking_request_status)}),Object.values(n).sort((l,d)=>Number(l.label)-Number(d.label))},Dce=()=>{const[t,s]=y.useState({users:0,cars:0,bookings:0,revenue:0}),[a,n]=y.useState(!0),r=new Date,i=new Date;i.setDate(r.getDate()-29);const[l,d]=y.useState("day"),[u,h]=y.useState({from:i,to:r}),[p,f]=y.useState([]),[x,v]=y.useState(!0);y.useEffect(()=>{(async()=>{try{n(!0);const R=await xe.get("/admin/users"),ee=await xe.get("/cars"),Y=await xe.get("/admin/bookings"),re=await xe.get("/admin/payments");s({users:R.data?.users?.total??0,cars:ee.data?.cars?.total??ee.data?.total??0,bookings:Y.data?.bookings?.total??Y.data?.total??0,revenue:re.data?.total_revenue??re.data?.revenue??0})}catch(R){console.error("Dashboard stats error:",R)}finally{n(!1)}})()},[]),y.useEffect(()=>{(async()=>{try{v(!0);const ee=(await xe.get("/admin/bookings"))?.data?.bookings?.data||[],Y=Tce(ee,l,u);f(Y)}catch(R){console.error("Chart error:",R),f([])}finally{v(!1)}})()},[l,u]);const j=({title:J,value:R,icon:ee,color:Y})=>e.jsx(Te,{children:e.jsxs(Re,{className:"p-6 flex items-center gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-xl ${Y} flex items-center justify-center`,children:e.jsx(ee,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:J}),e.jsx("h2",{className:"text-2xl font-bold",children:a?"":R})]})]})}),[w,_]=y.useState([]),[N,k]=y.useState(""),[D,T]=y.useState(""),[E,G]=y.useState([]);y.useEffect(()=>{(async()=>{try{const R=await xe.get("admin/cars");_(R.data?.cars?.data||R.data?.cars||[])}catch(R){console.error("Cars fetch error",R)}})()},[]);const A=J=>[...new Set(J.map(R=>R.make).filter(Boolean))].sort(),F=(J,R,ee)=>{let Y=[...J];ee&&(Y=Y.filter(te=>te.model===ee)),R&&(Y=Y.filter(te=>te.make===R));const re={};return Y.forEach(te=>{let V;ee&&R?V=`${te.make} ${te.model}`:ee?V=te.make:R?V=te.model:V=te.make,V&&(re[V]=(re[V]||0)+1)}),Object.entries(re).map(([te,V])=>({label:te,count:V}))},M=(J,R)=>{const ee=R?J.filter(Y=>Y.make===R):J;return[...new Set(ee.map(Y=>Y.model).filter(Boolean))].sort()};return y.useEffect(()=>{T("")},[N]),y.useEffect(()=>{const J=F(w,N,D);G(J)},[w,N,D]),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Dashboard"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(j,{title:"Total Users",value:t.users,icon:fs,color:"bg-blue-500"}),e.jsx(j,{title:"Total Cars",value:t.cars,icon:zt,color:"bg-[#00A19C]"}),e.jsx(j,{title:"Total Bookings",value:t.bookings,icon:Wj,color:"bg-purple-500"}),e.jsx(j,{title:"Total Revenue",value:`$${t.revenue}`,icon:Bs,color:"bg-green-500"})]}),e.jsx(Te,{children:e.jsxs(Re,{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Booking Overview"}),e.jsxs("div",{className:"flex flex-col gap-3 min-w-[160px]",children:[e.jsxs("select",{value:l,onChange:J=>d(J.target.value),className:"border rounded-md px-3 py-1 text-sm bg-background",children:[e.jsx("option",{value:"day",children:"Daily"}),e.jsx("option",{value:"week",children:"Week"}),e.jsx("option",{value:"month",children:"Month"}),e.jsx("option",{value:"year",children:"Year"})]}),l==="day"&&e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:"From"}),e.jsx("input",{type:"date",value:Hd(u.from),onChange:J=>h(R=>({...R,from:new Date(J.target.value)})),className:"border rounded-md px-2 py-1 text-sm w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:"To"}),e.jsx("input",{type:"date",value:Hd(u.to),onChange:J=>h(R=>({...R,to:new Date(J.target.value)})),className:"border rounded-md px-2 py-1 text-sm w-full"})]})]})]})]}),e.jsx("div",{className:"w-full h-[320px]",children:x?e.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"Loading chart data..."}):p.length===0?e.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"No booking data"}):e.jsx(kce,{data:p})})]})}),e.jsx(Te,{children:e.jsxs(Re,{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Cars Distribution"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("select",{value:N,onChange:J=>k(J.target.value),className:"border rounded-md px-3 py-1 text-sm bg-background",children:[e.jsx("option",{value:"",children:"All Makes"}),A(w).map(J=>e.jsx("option",{value:J,children:J},J))]}),e.jsxs("select",{value:D,onChange:J=>T(J.target.value),className:"border rounded-md px-3 py-1 text-sm bg-background",disabled:!w.length,children:[e.jsx("option",{value:"",children:"All Models"}),M(w,N).map(J=>e.jsx("option",{value:J,children:J},J))]})]})]}),e.jsx("div",{className:"h-[300px] w-full",children:E.length===0?e.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"No car data"}):e.jsx(Ace,{data:E})})]})})]})},Ece=1,Rce=1e6;let xv=0;function Mce(){return xv=(xv+1)%Number.MAX_SAFE_INTEGER,xv.toString()}const yv=new Map,Y4=t=>{if(yv.has(t))return;const s=setTimeout(()=>{yv.delete(t),Zh({type:"REMOVE_TOAST",toastId:t})},Rce);yv.set(t,s)},Pce=(t,s)=>{switch(s.type){case"ADD_TOAST":return{...t,toasts:[s.toast,...t.toasts].slice(0,Ece)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(a=>a.id===s.toast.id?{...a,...s.toast}:a)};case"DISMISS_TOAST":{const{toastId:a}=s;return a?Y4(a):t.toasts.forEach(n=>{Y4(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===a||a===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==s.toastId)}}},cg=[];let dg={toasts:[]};function Zh(t){dg=Pce(dg,t),cg.forEach(s=>{s(dg)})}function rn({...t}){const s=Mce(),a=r=>Zh({type:"UPDATE_TOAST",toast:{...r,id:s}}),n=()=>Zh({type:"DISMISS_TOAST",toastId:s});return Zh({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:r=>{r||n()}}}),{id:s,dismiss:n,update:a}}function Yx(){const[t,s]=y.useState(dg);return y.useEffect(()=>(cg.push(s),()=>{const a=cg.indexOf(s);a>-1&&cg.splice(a,1)}),[t]),{...t,toast:rn,dismiss:a=>Zh({type:"DISMISS_TOAST",toastId:a})}}function Oce(t,s=14){return t?t.length>s?`${t.slice(0,s)}...`:t:"N/A"}const Lce=()=>{Ua();const{toast:t}=Yx(),[s,a]=y.useState([]),[n,r]=y.useState(0),[i,l]=y.useState(!0),[d,u]=y.useState(null),[h,p]=y.useState(!1),[f,x]=y.useState(""),[v,j]=y.useState(null),[w,_]=y.useState(""),[N,k]=y.useState([]),[D,T]=y.useState("newest"),[E,G]=y.useState("all"),[A,F]=y.useState(!1);y.useEffect(()=>{(async()=>{try{const V=await xe.get("/admin/users");a(V.data?.users?.data||[]),r(V.data?.users?.total||0)}catch{t({title:"Error",description:"Failed to load users",variant:"destructive"})}finally{l(!1)}})()},[t]);const M=async te=>{try{const{data:V}=await xe.get(`/admin/users/${te}`);return V.user}catch{return t({title:"Error",description:"Failed to fetch user details",variant:"destructive"}),null}},J="/avatar.png",R="https://rento-lb.com/api/storage/",ee=te=>{const V=te?.profile_picture;if(!V)return J;if(V.startsWith("http"))return V;const U=V.startsWith("/")?V.slice(1):V;return R+U},Y=y.useMemo(()=>{let te=[...s];if(w){const V=w.toLowerCase();te=te.filter(U=>U.username?.toLowerCase().includes(V)||U.phone_number?.includes(V)||U.role?.toLowerCase().includes(V))}if(N.length>0&&(te=te.filter(V=>N.includes(V.role))),E!=="all"){const V=E==="active";te=te.filter(U=>!!U.update_access===V)}return D==="az"&&te.sort((V,U)=>V.username.localeCompare(U.username)),D==="za"&&te.sort((V,U)=>U.username.localeCompare(V.username)),D==="newest"&&te.sort((V,U)=>new Date(U.created_at)-new Date(V.created_at)),te},[s,w,N,E,D]),re=async te=>{if(confirm("Delete this user?"))try{await xe.delete(`/admin/users/${te}`),a(V=>V.filter(U=>U.id!==te)),t({title:"User deleted"})}catch{t({title:"Error",description:"Delete failed",variant:"destructive"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx(Va,{open:h,onOpenChange:p,children:e.jsxs(Ra,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsx(Ma,{children:e.jsx(Pa,{children:f==="edit-user"?"Edit User":"User Details"})}),f==="view-user"&&d&&e.jsx(Uce,{user:d,onEdit:()=>{j({...d}),x("edit-user")},onClose:()=>p(!1)}),f==="edit-user"&&v&&e.jsx(Hce,{user:v,setUser:j,onClose:()=>{p(!1),x("view-user")},onSaved:te=>{u(te),j({...te}),x("view-user")}})]})}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h1",{className:"text-2xl font-bold",children:"Users"})}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{className:"relative w-full sm:w-72",children:[e.jsx(Ea,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(oe,{placeholder:"Search user...",className:"pl-9",value:w,onChange:te=>_(te.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(fs,{className:"h-4 w-4"}),e.jsx("span",{children:"Total:"}),e.jsx("span",{className:"font-semibold text-foreground",children:Y.length})]}),e.jsx(K,{variant:"outline",size:"sm",onClick:()=>F(te=>!te),children:"Filters"})]})]}),A&&e.jsxs("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-3 gap-4 rounded-lg border p-4 bg-background",children:[e.jsxs(Je,{value:D,onValueChange:T,children:[e.jsx(Qe,{children:e.jsx(et,{placeholder:"Sort by"})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"newest",children:"Newest"}),e.jsx(de,{value:"az",children:"AZ"}),e.jsx(de,{value:"za",children:"ZA"})]})]}),e.jsxs(Je,{value:E,onValueChange:G,children:[e.jsx(Qe,{children:e.jsx(et,{placeholder:"Status"})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"all",children:"All"}),e.jsx(de,{value:"active",children:"Active"}),e.jsx(de,{value:"blocked",children:"Blocked"})]})]}),e.jsx("div",{className:"flex flex-wrap gap-3 text-sm",children:["client","agency","admin"].map(te=>e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:N.includes(te),onChange:V=>{const U=V.target.checked;k(H=>U?[...H,te]:H.filter(L=>L!==te))}}),e.jsx("span",{className:"capitalize",children:te})]},te))})]}),e.jsx(Te,{children:e.jsx(Re,{className:"p-0",children:i?e.jsx("p",{className:"p-6 text-muted-foreground",children:"Loading users..."}):e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"User"}),e.jsx(Z,{children:"Phone"}),e.jsx(Z,{children:"Role"}),e.jsx(Z,{children:"Status"}),e.jsx(Z,{className:"text-right",children:"Actions"})]})}),e.jsxs(Nt,{children:[Y.map(te=>e.jsxs(ke,{children:[e.jsx(W,{className:"font-medium",children:e.jsxs("span",{className:"item-name-hover inline-flex items-center gap-2 cursor-pointer",title:Bce(te),role:"button",tabIndex:0,onClick:()=>Fce(te.id,M,u,x,p),children:[e.jsx("img",{src:ee(te),alt:te.username||"User",className:"h-7 w-7 rounded-full object-cover",onError:V=>{V.currentTarget.onerror=null,V.currentTarget.src="/avatar.png"}}),Oce(te.first_name&&te.last_name?`${te.first_name} ${te.last_name}`:te.username,14)]})}),e.jsx(W,{children:te.phone_number}),e.jsx(W,{children:e.jsx(Me,{variant:"outline",children:te.role})}),e.jsx(W,{children:te.update_access?e.jsx(Me,{className:"bg-green-500",children:"Active"}):e.jsx(Me,{variant:"destructive",children:"Blocked"})}),e.jsx(W,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(K,{variant:"ghost",size:"icon",onClick:async()=>{const V=await M(te.id);V&&(u(V),x("view-user"),p(!0))},title:"View Details",children:e.jsx(sa,{className:"w-4 h-4"})}),e.jsx(K,{variant:"ghost",size:"icon",onClick:async()=>{const V=await M(te.id);V&&(u(V),j({...V}),x("edit-user"),p(!0))},title:"Edit User",children:e.jsx(ca,{className:"w-4 h-4"})}),e.jsx(K,{size:"icon",variant:"ghost","aria-label":"Delete user",className:"text-red-500",onClick:()=>re(te.id),title:"Remove User",children:e.jsx(Ks,{className:"h-4 w-4"})})]})})]},te.id)),Y.length===0&&e.jsx(ke,{children:e.jsx(W,{colSpan:5,className:"text-center text-muted-foreground py-6",children:"No users found"})})]})]})})})]})};function Bce(t){if(!t)return"";const s=t.client||{},a=s.qualification_code||{};return[`User ID : ${t.id??"N/A"}`,`Age : ${a.age??"N/A"}`,`Gender : ${t.gender??"N/A"}`,`City : ${t.city??"N/A"}`,`Bio : ${t.bio??"N/A"}`,`Profession : ${s.profession??"N/A"}`,`Email : ${t.email??"N/A"}`,`License number : ${s.license_number??"N/A"}`,`Average rating : ${s.average_rating??"N/A"}`,`OTP verification : ${t.otp_verification??"N/A"}`].join(`
`)}async function Fce(t,s,a,n,r){const i=await s(t);i&&(a(i),n("view-user"),r(!0))}function lL(t){if(!t)return"N/A";const s=new Date(t);return Number.isNaN(s.getTime())?String(t):s.toLocaleDateString("en-US",{month:"numeric",day:"numeric",year:"numeric"})}function Zg(t){if(!t)return"N/A";const s=new Date(t);return Number.isNaN(s.getTime())?String(t):s.toLocaleString("en-US",{timeZone:"Asia/Beirut",month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit",hour12:!0})}const Ice="https://rento-lb.com/api/storage/",$ce="/avatar.png";function zce(t,s=null){if(!t)return s;if(t.startsWith("http"))return t;const a=t.startsWith("/")?t.slice(1):t;return Ice+a}function Vce(t){return t?String(t).toLowerCase().split("?")[0].endsWith(".pdf"):!1}function qp({title:t,path:s,fallback:a=null}){const n=zce(s,a);if(!n)return e.jsx("div",{className:"text-sm text-muted-foreground",children:"N/A"});if(Vce(n)){const r=`${n}#toolbar=0&navpanes=0&scrollbar=0`;return e.jsx("iframe",{title:t,src:r,className:"w-full max-w-[260px] h-[180px] rounded-md border bg-white"})}return e.jsx("img",{src:n,alt:t,className:"w-full max-w-[260px] h-[180px] object-cover rounded-md border",onError:r=>{a&&(r.currentTarget.onerror=null,r.currentTarget.src=a)}})}function Uce({user:t,onEdit:s,onClose:a}){const n=t?.client||{};function r({label:d,value:u}){return e.jsxs("div",{className:"flex items-center gap-2 test-sm",children:[e.jsxs("span",{className:"text-muted-foreground",children:[d," :"]}),e.jsx("span",{className:"text-foreground",children:u??"N/A"})]})}const i=({label:d,value:u,tone:h="neutral"})=>{const p=h==="teal"?"bg-teal-600 text-white":h==="red"?"bg-red-600 text-white":"bg-muted text-foreground";return e.jsxs("div",{className:"flex items-center gap-2 whitespace-nowrap",children:[e.jsx("span",{className:" text-muted-foreground",children:d}),e.jsx("span",{className:`inline-flex items-center justify-center px-2 h-5 rounded text-xs font-semibold leading-none ${p}`,children:u})]})},l=t?.status?"Active":"Inactive";return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-x-10 gap-y-3",children:[e.jsx(r,{label:"ID",value:t?.id}),e.jsx(r,{label:"Username",value:t?.username}),e.jsx(r,{label:"Email",value:t?.email}),e.jsx(r,{label:"Phone Number",value:t?.phone_number}),e.jsx(r,{label:"First Name",value:t?.first_name}),e.jsx(r,{label:"Last Name",value:t?.last_name}),e.jsx(r,{label:"Gender",value:t?.gender}),e.jsx(r,{label:"Birth Date",value:lL(t?.birth_date)}),e.jsx(r,{label:"City",value:t?.city}),e.jsx(r,{label:"Role",value:t?.role}),e.jsx("div",{className:"flex flex-wrap items-center gap-8 pt-1",children:e.jsx(i,{label:"Status:",value:l,tone:t?.status?"teal":"red"})}),e.jsx("div",{className:"flex flex-wrap items-center gap-8 pt-1",children:e.jsx(i,{label:"Verified by Admin:",value:t?.verified_by_admin?"Yes":"No",tone:t?.verified_by_admin?"teal":"red"})}),e.jsx("div",{className:"flex flex-wrap items-center gap-8 pt-1",children:e.jsx(i,{label:"Is Locked:",value:t?.is_locked?"Locked":"Unlocked",tone:t?.is_locked?"red":"teal"})}),e.jsx(r,{label:"Created At",value:Zg(t?.created_at)}),e.jsx(r,{label:"Updated At",value:Zg(t?.updated_at)})]}),e.jsx("div",{className:"grid grid-cols-2 gap-x-10 gap-y-3",children:e.jsx(r,{label:"Bio",value:t?.bio})}),e.jsx("div",{className:"border-t pt-3"}),e.jsx("div",{className:"text-sm font-semibold",children:"Client Details"}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-10 gap-y-3",children:[e.jsx(r,{label:"License Number",value:n?.license_number}),e.jsx(r,{label:"Profession",value:n?.profession}),e.jsx(r,{label:"Average Salary",value:n?.avg_salary}),e.jsx(r,{label:"Promo Code",value:n?.promo_code})]}),e.jsx("div",{className:"border-t pt-3"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-sm font-semibold",children:"Documents"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-muted-foreground",children:"Profile Picture"}),e.jsx(qp,{title:"Profile Picture",path:t?.profile_picture,fallback:$ce})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted-foreground",children:"Driver License"}),e.jsx(qp,{title:"Driver License",path:n?.driver_license})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted-foreground",children:"ID Card Front"}),e.jsx(qp,{title:"ID Card Front",path:t?.id_card_front})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted-foreground",children:"ID Card Back"}),e.jsx(qp,{title:"ID Card Back",path:t?.id_card_back})]})]})]}),e.jsxs("div",{className:"pt-3 flex gap-2",children:[e.jsx(K,{className:"flex-1",onClick:s,children:"Edit User"}),e.jsx(K,{variant:"outline",className:"w-28",onClick:a,children:"Close"})]})]})}function Hce({user:t,setUser:s,onClose:a,onSaved:n}){const{toast:r}=Yx(),i=(h,p)=>s(f=>({...f,[h]:p})),l=t?.client||{},d=async()=>{try{const h={verified_by_admin:!!t?.verified_by_admin,status:!!t?.status,is_locked:!!t?.is_locked,update_access:!!t?.update_access},{data:p}=await xe.put(`/admin/users/${t.id}`,h),f=p.user??p.data??t;r({title:"Saved",description:"User updated successfully"}),n?.(f)}catch{r({title:"Error",description:"Failed to update user",variant:"destructive"})}},u=({label:h,value:p,onChange:f})=>e.jsxs("div",{className:"flex items-center justify-between gap-3 py-2",children:[e.jsx("div",{className:"text-sm",children:h}),e.jsx("button",{type:"button",role:"switch","aria-checked":!!p,onClick:()=>f(!p),className:["relative inline-flex h-5 w-10 items-center rounded-full transition-colors",p?"bg-teal-600":"bg-muted","focus:outline-none focus:ring-2 focus:ring-teal-500/40"].join(" "),children:e.jsx("span",{className:["inline-block h-4 w-4 transform rounded-full bg-white transition-transform",p?"translate-x-5":"translate-x-1","shadow"].join(" ")})})]});return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-x-10 gap-y-3",children:[e.jsxs("div",{children:[e.jsx(q,{children:"ID"}),e.jsx(oe,{value:t?.id??"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Username"}),e.jsx(oe,{value:t?.username??"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Email"}),e.jsx(oe,{value:t?.email??"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Phone Number"}),e.jsx(oe,{value:t?.phone_number??"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"First Name"}),e.jsx(oe,{value:t?.first_name??"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Last Name"}),e.jsx(oe,{value:t?.last_name??"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Gender"}),e.jsx(oe,{value:t?.gender??"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Birth Date"}),e.jsx(oe,{value:lL(t?.birth_date),disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"City"}),e.jsx(oe,{value:t?.city??"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Role"}),e.jsx(oe,{value:t?.role??"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Created At"}),e.jsx(oe,{value:Zg(t?.created_at),disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Updated At"}),e.jsx(oe,{value:Zg(t?.updated_at),disabled:!0})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx(q,{children:"Bio"}),e.jsx("textarea",{className:"w-full border rounded-md p-2 min-h-[90px]",value:t?.bio??"",disabled:!0})]})]}),e.jsx("div",{className:"border-t pt-3"}),e.jsx("div",{className:"text-sm font-semibold",children:"Client Details (Read-only)"}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-10 gap-y-3",children:[e.jsxs("div",{children:[e.jsx(q,{children:"License Number"}),e.jsx(oe,{value:l?.license_number??"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Profession"}),e.jsx(oe,{value:l?.profession??"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Average Salary"}),e.jsx(oe,{value:l?.avg_salary??"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Promo Code"}),e.jsx(oe,{value:l?.promo_code??"",disabled:!0})]})]}),e.jsx("div",{className:"border-t pt-3"}),e.jsx("div",{className:"text-sm font-semibold",children:"Editable Fields"}),e.jsxs("div",{className:"rounded-md border p-3 space-y-1",children:[e.jsx(u,{label:"Verified by Admin",value:t?.verified_by_admin,onChange:h=>i("verified_by_admin",h)}),e.jsx(u,{label:"Status (Active)",value:t?.status,onChange:h=>i("status",h)}),e.jsx(u,{label:"Is Locked",value:t?.is_locked,onChange:h=>i("is_locked",h)}),e.jsx(u,{label:"Update Access Allow Profile Updates",value:t?.update_access,onChange:h=>i("update_access",h)})]}),e.jsxs("div",{className:"pt-3 flex gap-2 justify-end",children:[e.jsx(K,{className:"w-36",onClick:d,children:"Update User"}),e.jsx(K,{variant:"outline",className:"w-28",onClick:a,children:"Cancel"})]})]})}const Gp=20,qce=[{value:"all",label:"All Status"},{value:"available",label:"Available"},{value:"not_available",label:"Not Available"},{value:"rented",label:"Rented"},{value:"maintenance",label:"Maintenance"}],Gce=[{value:"all",label:"All"},{value:"true",label:"Accepted"},{value:"false",label:"Not Accepted"}],Wce=[{value:"all",label:"All"},{value:"true",label:"Private"},{value:"false",label:"Public"}],Yce=()=>{const[t,s]=y.useState([]),[a,n]=y.useState({current_page:1,last_page:1,per_page:Gp,total:0}),[r,i]=y.useState(!0),[l,d]=y.useState(1),[u,h]=y.useState("all"),[p,f]=y.useState("all"),[x,v]=y.useState("all"),[j,w]=y.useState(""),[_,N]=y.useState(""),[k,D]=y.useState([]),[T,E]=y.useState([]),[G,A]=y.useState("newest"),[F,M]=y.useState(!1),[J,R]=y.useState(null),[ee,Y]=y.useState(!1),[re,te]=y.useState(""),{toast:V}=Yx(),[U,H]=y.useState(null),[L,$]=y.useState({open:!1,title:"",message:"",onConfirm:null}),[z,ie]=y.useState(""),[le,ne]=y.useState(""),[fe,Ne]=y.useState(""),[ye,Le]=y.useState(""),Se=y.useCallback(async()=>{i(!0);try{const he={per_page:Gp,page:l,...u&&u!=="all"&&{status:u},...p&&p!=="all"&&{car_accepted:p},...x&&x!=="all"&&{is_private:x},...j&&{agent_id:Number(j)},..._&&_.trim()&&{search:_.trim()}},Ie=await M3(he),ze=Ie.data||Ie,rt=Array.isArray(ze.cars)?ze.cars:ze.cars?.data??[],yt=ze.meta||ze.cars&&{total:ze.cars.total,current_page:ze.cars.current_page??l,last_page:ze.cars.last_page??1,per_page:ze.cars.per_page??Gp}||a;s(rt),n(dt=>({...dt,...yt,total:yt.total??dt.total,current_page:yt.current_page??l,last_page:yt.last_page??dt.last_page,per_page:yt.per_page??Gp}))}catch(he){he.response?.status===403?V({title:"Access denied",description:"Super admin access required",variant:"destructive"}):he.response?.status===401?V({title:"Unauthorized",description:"Please log in again",variant:"destructive"}):(console.error("Failed to load cars",he),V({title:"Error",description:"Failed to load cars",variant:"destructive"}))}finally{i(!1)}},[l,u,p,x,j,_]);y.useEffect(()=>{Se()},[Se]);const Ge=async he=>{try{const Ie=await kie(he),ze=Ie.data||Ie;return ze?.car??ze??null}catch(Ie){return Ie.response?.status===403?V({title:"Access denied",description:"Super admin access required",variant:"destructive"}):Ie.response?.status===404?V({title:"Full details unavailable",description:"Showing list data (GET /admin/cars/{id} returned 404).",variant:"destructive"}):V({title:"Error",description:"Failed to fetch car details",variant:"destructive"}),null}},nt=he=>{R(he),te("view-car"),Y(!0),Ge(he.id).then(Ie=>{Ie&&R(Ie)})},Ae=he=>{R(he),H({...he}),te("edit-car"),Y(!0),Ge(he.id).then(Ie=>{Ie&&(R(Ie),H({...Ie}))})},Ye="/car-avatar.png",Oe=y.useMemo(()=>`${"https://rento-lb.com/api/api".trim().replace(/\/+$/,"").replace(/\/api\/api\/?$/,"")}/api/storage/`,[]),ft=he=>{if(!he)return null;if(he.startsWith("http"))return he;const Ie=he.startsWith("/")?he.slice(1):he;return`${Oe}${Ie}`},kt=he=>ft(he)||Ye,tt=(he,Ie,ze)=>{$({open:!0,title:he,message:Ie,onConfirm:ze})},ps=async he=>{try{const Ie=await H4(he.id,!0),ze=Ie.data||Ie,rt=ze?.car??ze??{...he,car_accepted:!0};s(yt=>yt.map(dt=>dt.id===he.id?{...dt,car_accepted:!0}:dt)),J?.id===he.id&&R(rt),U?.id===he.id&&H(rt),V({title:"Success",description:"Car accepted successfully"})}catch(Ie){Ie.response?.status===403?V({title:"Access denied",description:"Super admin access required",variant:"destructive"}):V({title:"Error",description:Ie.response?.data?.message||"Failed to accept car",variant:"destructive"})}},ys=async he=>{try{const Ie=await H4(he.id,!1),ze=Ie.data||Ie,rt=ze?.car??ze??{...he,car_accepted:!1};s(yt=>yt.map(dt=>dt.id===he.id?{...dt,car_accepted:!1}:dt)),J?.id===he.id&&R(rt),U?.id===he.id&&H(rt),V({title:"Success",description:"Car rejected successfully"})}catch(Ie){Ie.response?.status===403?V({title:"Access denied",description:"Super admin access required",variant:"destructive"}):V({title:"Error",description:Ie.response?.data?.message||"Failed to reject car",variant:"destructive"})}},Fs=async he=>{try{await Sie(he),V({title:"Success",description:"Car deleted successfully"}),Se(),Y(!1)}catch{V({title:"Error",description:"Failed to delete car",variant:"destructive"})}},pe=he=>{if(he==null||he==="")return NaN;if(typeof he=="number")return he;const Ie=String(he).replace(/[^0-9.]/g,""),ze=Number(Ie);return Number.isNaN(ze)?NaN:ze},Ce=y.useMemo(()=>{let he=[...t];k.length>0&&(he=he.filter(dt=>k.includes(dt.car_category))),T.length>0&&(he=he.filter(dt=>T.includes(dt.status)));const Ie=z?Number(z):null,ze=le?Number(le):null;(Ie!==null||ze!==null)&&(he=he.filter(dt=>{const Vt=Number(dt.year);return!(Number.isNaN(Vt)||Ie!==null&&Vt<Ie||ze!==null&&Vt>ze)}));const rt=fe!==""?pe(fe):null,yt=ye!==""?pe(ye):null;return(rt!==null||yt!==null)&&(he=he.filter(dt=>{const Vt=pe(dt.daily_rate);return!(Number.isNaN(Vt)||rt!==null&&!Number.isNaN(rt)&&Vt<rt||yt!==null&&!Number.isNaN(yt)&&Vt>yt)})),G==="newest"&&he.sort((dt,Vt)=>new Date(Vt.created_at)-new Date(dt.created_at)),G==="price"&&he.sort((dt,Vt)=>{const St=pe(dt.daily_rate),Gt=pe(Vt.daily_rate);return Number.isNaN(St)&&Number.isNaN(Gt)?0:Number.isNaN(St)?1:Number.isNaN(Gt)?-1:St-Gt}),(G==="year_asc"||G==="year_desc")&&he.sort((dt,Vt)=>{const St=Number(dt.year),Gt=Number(Vt.year);return Number.isNaN(St)&&Number.isNaN(Gt)?0:Number.isNaN(St)?1:Number.isNaN(Gt)?-1:G==="year_asc"?St-Gt:Gt-St}),(G==="views_asc"||G==="views_desc")&&he.sort((dt,Vt)=>{const St=Number(dt.views_count),Gt=Number(Vt.views_count);return Number.isNaN(St)&&Number.isNaN(Gt)?0:Number.isNaN(St)?1:Number.isNaN(Gt)?-1:G==="views_asc"?St-Gt:Gt-St}),he},[t,k,T,G,z,le,fe,ye]);return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h1",{className:"text-2xl font-bold",children:"Cars"})}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("div",{className:"relative w-full sm:w-72",children:[e.jsx(Ea,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(oe,{placeholder:"Search make, model, plate, color...",className:"pl-9 h-9",value:_,onChange:he=>{N(he.target.value),d(1)}})]}),e.jsx(oe,{type:"number",placeholder:"Agent ID",className:"h-9 w-[100px]",value:j,onChange:he=>{w(he.target.value),d(1)},min:1}),e.jsxs(Je,{value:u,onValueChange:he=>{h(he),d(1)},children:[e.jsx(Qe,{className:"h-9 w-[140px]",children:e.jsx(et,{placeholder:"Status"})}),e.jsx(Ze,{children:qce.map(he=>e.jsx(de,{value:he.value,children:he.label},he.value))})]}),e.jsxs(Je,{value:p,onValueChange:he=>{f(he),d(1)},children:[e.jsx(Qe,{className:"h-9 w-[130px]",children:e.jsx(et,{placeholder:"Accepted"})}),e.jsx(Ze,{children:Gce.map(he=>e.jsx(de,{value:he.value,children:he.label},he.value))})]}),e.jsxs(Je,{value:x,onValueChange:he=>{v(he),d(1)},children:[e.jsx(Qe,{className:"h-9 w-[110px]",children:e.jsx(et,{placeholder:"Visibility"})}),e.jsx(Ze,{children:Wce.map(he=>e.jsx(de,{value:he.value,children:he.label},he.value))})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(zt,{className:"h-4 w-4"}),e.jsx("span",{className:"font-semibold text-foreground",children:a.total}),e.jsx("span",{children:"cars"})]}),e.jsx(K,{variant:"outline",size:"sm",onClick:()=>M(he=>!he),children:"More filters"})]})]}),F&&e.jsx("div",{className:"mt-3 rounded-lg border bg-background p-3",children:e.jsxs("div",{className:"flex flex-wrap gap-3 items-end",children:[e.jsxs(Je,{value:G,onValueChange:A,children:[e.jsx(Qe,{className:"h-9 w-[180px]",children:e.jsx(et,{placeholder:"Sort"})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"newest",children:"Newest"}),e.jsx(de,{value:"price",children:"Price "}),e.jsx(de,{value:"year_asc",children:"Year "}),e.jsx(de,{value:"year_desc",children:"Year "}),e.jsx(de,{value:"views_asc",children:"Views "}),e.jsx(de,{value:"views_desc",children:"Views "})]})]}),e.jsxs(Je,{value:k[0]??"all",onValueChange:he=>D(he==="all"?[]:[he]),children:[e.jsx(Qe,{className:"h-9 w-[160px]",children:e.jsx(et,{placeholder:"Category"})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"all",children:"All Categories"}),e.jsx(de,{value:"normal",children:"Normal"}),e.jsx(de,{value:"luxury",children:"Luxury"}),e.jsx(de,{value:"sport",children:"Sport"})]})]}),e.jsxs(Je,{value:T[0]??"all",onValueChange:he=>E(he==="all"?[]:[he]),children:[e.jsx(Qe,{className:"h-9 w-[150px]",children:e.jsx(et,{placeholder:"Status"})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"all",children:"All Status"}),e.jsx(de,{value:"available",children:"Available"}),e.jsx(de,{value:"reserved",children:"Reserved"})]})]}),e.jsx(oe,{type:"number",placeholder:"Year from",className:"h-9 w-[120px]",value:z,onChange:he=>ie(he.target.value)}),e.jsx(oe,{type:"number",placeholder:"Year to",className:"h-9 w-[120px]",value:le,onChange:he=>ne(he.target.value)}),e.jsx(oe,{type:"number",placeholder:"Rate from",className:"h-9 w-[120px]",value:fe,onChange:he=>Ne(he.target.value)}),e.jsx(oe,{type:"number",placeholder:"Rate to",className:"h-9 w-[120px]",value:ye,onChange:he=>Le(he.target.value)})]})}),r?e.jsx("p",{className:"text-muted-foreground",children:"Loading cars..."}):e.jsxs(Te,{children:[e.jsx(Re,{className:"p-0 overflow-x-auto",children:e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"Car"}),e.jsx(Z,{children:"Year"}),e.jsx(Z,{children:"Category"}),e.jsx(Z,{children:"Daily Rate"}),e.jsx(Z,{children:"Agent"}),e.jsx(Z,{children:"Status"}),e.jsx(Z,{children:"Accepted"}),e.jsx(Z,{children:"Views"}),e.jsx(Z,{children:"Actions"})]})}),e.jsxs(Nt,{children:[Ce.map(he=>e.jsxs(ke,{children:[e.jsx(W,{className:"font-medium",children:e.jsxs("span",{className:"item-name-hover inline-flex items-center gap-2 cursor-pointer",title:Kce(he),role:"button",tabIndex:0,onClick:()=>nt(he),children:[he.make," ",he.model]})}),e.jsx(W,{children:he.year}),e.jsx(W,{children:e.jsx(Me,{variant:"outline",children:he.car_category})}),e.jsxs(W,{children:["$",he.daily_rate]}),e.jsx(W,{children:e.jsx("span",{className:"car-make-model-hover inline-flex items-center gap-2 cursor-pointer",title:Xce(he),children:he.agent?.username||""})}),e.jsxs(W,{children:[he.status==="available"&&e.jsx(Me,{className:"bg-green-500",children:"Available"}),he.status==="not_available"&&e.jsx(Me,{variant:"secondary",children:"Not Available"}),he.status==="rented"&&e.jsx(Me,{variant:"default",children:"Rented"}),he.status==="maintenance"&&e.jsx(Me,{variant:"outline",children:"Maintenance"}),!["available","not_available","rented","maintenance"].includes(he.status)&&e.jsx(Me,{variant:"outline",children:he.status||""})]}),e.jsxs(W,{children:[he.car_accepted?e.jsx(Me,{className:"bg-green-600",children:"Yes"}):e.jsx(Me,{variant:"secondary",children:"No"}),e.jsx("div",{className:"flex gap-1 mt-1",children:he.car_accepted?e.jsxs(K,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:()=>ys(he),title:"Reject car",children:[e.jsx(ea,{className:"h-3 w-3 mr-1"}),"Reject"]}):e.jsxs(K,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:()=>ps(he),title:"Accept car",children:[e.jsx(Jn,{className:"h-3 w-3 mr-1"}),"Accept"]})})]}),e.jsx(W,{children:he.views_count}),e.jsx(W,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{variant:"ghost",size:"icon","aria-label":"View Details",onClick:()=>nt(he),title:"View Details",children:e.jsx(sa,{className:"w-4 h-4"})}),e.jsx(K,{variant:"ghost",size:"icon","aria-label":"Edit Details",onClick:()=>Ae(he),title:"Edit Details",children:e.jsx(ca,{className:"w-4 h-4"})}),e.jsx(K,{variant:"ghost",size:"icon","aria-label":"Delete Car",onClick:()=>tt("Delete Car","Are you sure you want to delete this car?",()=>Fs(he.id)),title:"Remove Car",children:e.jsx(Ks,{className:"w-4 h-4 text-red-500"})})]})})]},he.id)),Ce.length===0&&e.jsx(ke,{children:e.jsx(W,{colSpan:9,className:"text-center text-muted-foreground py-6",children:"No cars found"})})]})]})}),a.last_page>1&&e.jsxs("div",{className:"flex items-center justify-between border-t px-4 py-2",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Page ",a.current_page," of ",a.last_page," (",a.total," total)"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(K,{variant:"outline",size:"sm",disabled:a.current_page<=1,onClick:()=>d(he=>Math.max(1,he-1)),children:"Previous"}),e.jsx(K,{variant:"outline",size:"sm",disabled:a.current_page>=a.last_page,onClick:()=>d(he=>Math.min(a.last_page,he+1)),children:"Next"})]})]})]}),e.jsx(Va,{open:ee,onOpenChange:Y,children:e.jsxs(Ra,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[e.jsx(Ma,{children:e.jsx(Pa,{children:re==="view-car"?"Car Details":"Edit Car"})}),J?re==="view-car"?e.jsx(Zce,{car:J,imgUrl:kt,getStorageUrl:ft,onEdit:()=>{H({...J}),te("edit-car")},onClose:()=>Y(!1),onAccept:()=>ps(J),onReject:()=>ys(J)}):U&&e.jsx(ede,{car:U,setCar:H,imgUrl:kt,onClose:()=>te("view-car"),onSaved:he=>{R(he),H({...he}),te("view-car")}}):e.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})})]})};function Kce(t){return[`Car ID: ${t.id??"N/A"}`,`Agent ID : ${t.agent_id??"N/A"}`,`Status: ${t.status??"N/A"}`,`year: ${t.year??"N/A"}`,`Car_category: ${t.car_category??"N/A"}`,`Color: ${t.color??"N/A"}`,`Seats: ${t.seats??"N/A"}`,`Doors: ${t.doors??"N/A"}`,`Cylinder number: ${t.cylinder_number??"N/A"}`,`Transmission: ${t.transmission??"N/A"}`,`wheels drive: ${t.wheels_drive??"N/A"}`,`Daily rate: ${t.daily_rate??"N/A"}`,`License plate: ${t.license_plate??"N/A"}`].join(`
`)}function Xce(t){const s=t?.agent;return s?[`ID : ${s.id??"N/A"}`,`Phone number : ${s.phone_number??"N/A"}`,`Email : ${s.email??"N/A"}`,`Verified by admin : ${s.verified_by_admin??"N/A"}`,`Gender : ${s.gender??"N/A"}`,`Birth date : ${Qce(s.birth_date??"N/A")}`,`City : ${s.city??"N/A"}`,`Bio : ${s.bio??"N/A"}`,`Created at : ${K4(s.created_at??"N/A")}`,`Updated at : ${K4(s.updated_at??"N/A")}`].join(`
`):"No agent"}function Qce(t){if(!t)return"N/A";const s=new Date(t);return Number.isNaN(s.getTime())?String(t):s.toLocaleDateString("en-US",{month:"numeric",day:"numeric",year:"numeric"})}function K4(t){if(!t)return"N/A";const s=new Date(t);return Number.isNaN(s.getTime())?String(t):s.toLocaleString("en-US",{timeZone:"Asia/Beirut",month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit",hour12:!0})}function dc({title:t,items:s,renderItem:a}){const n=Array.isArray(s)?s:[];return n.length===0?null:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"text-sm font-semibold",children:[t," (",n.length,")"]}),e.jsxs("ul",{className:"text-sm text-muted-foreground list-disc list-inside space-y-0.5 max-h-24 overflow-y-auto",children:[n.slice(0,10).map((r,i)=>e.jsx("li",{children:a(r)},r?.id??i)),n.length>10&&e.jsxs("li",{children:[" and ",n.length-10," more"]})]})]})}function Zce({car:t,imgUrl:s,getStorageUrl:a,onEdit:n,onClose:r,onAccept:i,onReject:l}){const d=t?.agent||null,[u,h]=y.useState(null),p=(N,k)=>{const D=t?.[k];return a?.(D)||s(D)},f=async N=>{if(t?.id){h(N);try{const k=await Tie(t.id,N),D=window.URL.createObjectURL(k),T=document.createElement("a");T.href=D,T.download=`car_${t.id}_${N}.jpg`,T.click(),window.URL.revokeObjectURL(D)}catch(k){console.error(k)}finally{h(null)}}};function x({label:N,value:k}){return e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsxs("span",{className:"text-muted-foreground",children:[N," :"]}),e.jsx("span",{className:"text-foreground",children:k??"N/A"})]})}const v=({label:N,ok:k})=>e.jsxs("div",{className:"flex items-center gap-2 whitespace-nowrap",children:[e.jsx("span",{className:"text-muted-foreground",children:N}),e.jsx(Me,{className:k?"bg-green-600":"",variant:k?"default":"destructive",children:k?"Yes":"No"})]}),j=({status:N})=>{const k=String(N).toLowerCase()==="available";return e.jsxs("div",{className:"flex items-center gap-2 whitespace-nowrap",children:[e.jsx("span",{className:"text-muted-foreground",children:"Status"}),e.jsx(Me,{className:k?"bg-green-600":"",variant:k?"default":"destructive",children:N??"N/A"})]})},w=N=>{if(N==null||N==="")return"N/A";const k=Number(N);return Number.isNaN(k)?String(N):`$${k.toFixed(2)}`},_=N=>!Array.isArray(N)||N.length===0?e.jsx("div",{className:"text-sm text-muted-foreground",children:"N/A"}):e.jsx("div",{className:"flex flex-wrap gap-2",children:N.map((k,D)=>e.jsx(Me,{variant:"outline",children:typeof k=="string"?k:k?.name??JSON.stringify(k)},D))});return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-10 gap-y-3",children:[e.jsx(x,{label:"ID",value:t?.id}),e.jsx(x,{label:"Make",value:t?.make}),e.jsx(x,{label:"Model",value:t?.model}),e.jsx(x,{label:"Year",value:t?.year}),e.jsx(x,{label:"License Plate",value:t?.license_plate}),e.jsx(x,{label:"Color",value:t?.color}),e.jsx(x,{label:"Mileage",value:t?.mileage}),e.jsx(x,{label:"Fuel Type",value:t?.fuel_type}),e.jsx(x,{label:"Transmission",value:t?.transmission}),e.jsx(x,{label:"Wheels Drive",value:t?.wheels_drive}),e.jsx(x,{label:"Category",value:t?.car_category}),e.jsx(x,{label:"Seats",value:t?.seats}),e.jsx(x,{label:"Doors",value:t?.doors}),e.jsx(x,{label:"Daily Rate",value:w(t?.daily_rate)}),e.jsx(x,{label:"Holiday Rate",value:w(t?.holiday_rate)}),e.jsx("div",{className:"pt-1",children:e.jsx(j,{status:t?.status})}),e.jsxs("div",{className:"flex flex-wrap gap-6 pt-1",children:[e.jsx(v,{label:"Car Accepted",ok:!!t?.car_accepted}),e.jsx(v,{label:"With Driver",ok:!!t?.with_driver}),e.jsx(v,{label:"Is Delivered",ok:!!t?.is_delivered})]}),e.jsx(x,{label:"Min Rental Days",value:t?.min_rental_days}),e.jsx(x,{label:"Views Count",value:t?.views_count}),e.jsx(x,{label:"Clicks Count",value:t?.clicks_count}),e.jsx(x,{label:"Search Count",value:t?.search_count}),e.jsx(x,{label:"Cylinder",value:t?.cylinder_number}),e.jsx("div",{className:"pt-1",children:e.jsx(v,{label:"Is Private",ok:!!t?.is_private})})]}),e.jsx("div",{className:"border-t pt-3"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm font-semibold",children:"Features"}),_(t?.features)]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm font-semibold",children:"Add-ons"}),_(t?.add_ons)]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm font-semibold",children:"Notes"}),e.jsx("div",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:t?.notes??"N/A"})]}),e.jsx("div",{className:"border-t pt-3"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-sm font-semibold",children:"Agent"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-10 gap-y-3",children:[e.jsx(x,{label:"ID",value:d?.id??t?.agent_id}),e.jsx(x,{label:"Username",value:d?.username??"N/A"}),e.jsx(x,{label:"Phone Number",value:d?.phone_number??"N/A"}),e.jsx(x,{label:"Email",value:d?.email??"N/A"}),e.jsx(x,{label:"Gender",value:d?.gender??"N/A"}),e.jsx(x,{label:"City",value:d?.city??"N/A"})]})]}),e.jsx(dc,{title:"Bookings",items:t?.bookings,renderItem:N=>`#${N?.id} ${N?.status??""} ${N?.start_date??""}`}),e.jsx(dc,{title:"Check photos",items:t?.check_photos,renderItem:N=>`#${N?.id}`}),e.jsx(dc,{title:"Holidays",items:t?.holidays,renderItem:N=>`${N?.date??N?.id}`}),e.jsx(dc,{title:"Feedbacks",items:t?.feedbacks,renderItem:N=>`#${N?.id} ${N?.rating??""}`}),e.jsx(dc,{title:"Deposits",items:t?.deposits,renderItem:N=>`#${N?.id} ${N?.amount??""}`}),e.jsx(dc,{title:"Balances",items:t?.balances,renderItem:N=>`#${N?.id}`}),e.jsx(dc,{title:"Favorites",items:t?.favorites,renderItem:N=>`User ${N?.user_id??N?.id}`}),e.jsx("div",{className:"border-t pt-3"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-sm font-semibold",children:"Car Images"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"Main"}),e.jsxs(K,{variant:"outline",size:"sm",disabled:u==="main",onClick:()=>f("main"),children:[e.jsx(Zd,{className:"h-4 w-4 mr-1"}),"Download"]})]}),e.jsx("img",{src:p("main_image_full_url","main_image_url"),alt:"Main Car",className:"w-full max-h-[260px] object-cover rounded-md border"})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{label:"Front",type:"front",fullKey:"front_image_full_url",pathKey:"front_image_url"},{label:"Back",type:"back",fullKey:"back_image_full_url",pathKey:"back_image_url"},{label:"Left",type:"left",fullKey:"left_image_full_url",pathKey:"left_image_url"},{label:"Right",type:"right",fullKey:"right_image_full_url",pathKey:"right_image_url"}].map(({label:N,type:k,fullKey:D,pathKey:T})=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between gap-1",children:[e.jsx("span",{className:"text-muted-foreground",children:N}),e.jsx(K,{variant:"ghost",size:"sm",className:"h-7 px-1",disabled:u===k,onClick:()=>f(k),title:"Download",children:e.jsx(Zd,{className:"h-3 w-3"})})]}),e.jsx("img",{src:p(D,T),alt:N,className:"h-[120px] w-full object-cover rounded-md border"})]},k))})]}),e.jsxs("div",{className:"pt-3 flex flex-wrap gap-2",children:[!t?.car_accepted&&i&&e.jsxs(K,{className:"bg-green-600 hover:bg-green-700",onClick:i,children:[e.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Accept Car"]}),t?.car_accepted&&l&&e.jsxs(K,{variant:"destructive",onClick:l,children:[e.jsx(ea,{className:"h-4 w-4 mr-2"}),"Reject Car"]}),e.jsx(K,{className:"flex-1",onClick:n,children:"Edit Car"}),e.jsx(K,{variant:"outline",className:"w-28",onClick:r,children:"Close"})]})]})}const Jce=[{type:"main",label:"Main",fullKey:"main_image_full_url",pathKey:"main_image_url"},{type:"front",label:"Front",fullKey:"front_image_full_url",pathKey:"front_image_url"},{type:"back",label:"Back",fullKey:"back_image_full_url",pathKey:"back_image_url"},{type:"left",label:"Left",fullKey:"left_image_full_url",pathKey:"left_image_url"},{type:"right",label:"Right",fullKey:"right_image_full_url",pathKey:"right_image_url"}];function ede({car:t,setCar:s,imgUrl:a,onClose:n,onSaved:r}){const{toast:i}=Yx(),[l,d]=y.useState(null),u=qe.useRef({}),h=(k,D)=>s(T=>({...T,[k]:D})),p=(k,D)=>{const T=t?.[k];return T||a(t?.[D])},f=async(k,D)=>{if(!(!D||!t?.id)){d(k);try{const T=await Aie(t.id,D,k),E=T.data||T,G=E?.car??E??t;s(G),i({title:"Image updated",description:`${k} image replaced successfully`})}catch(T){const E=T.response?.data?.errors?.image?.[0]||T.response?.data?.message||"Failed to replace image";i({title:"Error",description:E,variant:"destructive"})}finally{d(null),u.current[k]&&(u.current[k].value="")}}},x=k=>{if(k==null||k==="")return"";const D=Number(k);return Number.isNaN(D)?k:D},v=k=>!Array.isArray(k)||k.length===0?e.jsx("div",{className:"text-sm text-muted-foreground",children:"N/A"}):e.jsx("div",{className:"flex flex-wrap gap-2",children:k.map((D,T)=>e.jsx(Me,{variant:"outline",children:typeof D=="string"?D:D?.name??JSON.stringify(D)},T))}),j=({label:k,value:D,onChange:T})=>e.jsxs("div",{className:"flex items-center justify-between gap-3 py-2",children:[e.jsx("div",{className:"text-sm",children:k}),e.jsx("button",{type:"button",role:"switch","aria-checked":!!D,onClick:()=>T(!D),className:["relative inline-flex h-5 w-10 items-center rounded-full transition-colors",D?"bg-teal-600":"bg-muted","focus:outline-none focus:ring-2 focus:ring-teal-500/40"].join(" "),children:e.jsx("span",{className:["inline-block h-4 w-4 transform rounded-full bg-white transition-transform",D?"translate-x-5":"translate-x-1","shadow"].join(" ")})})]});function w({label:k,field:D,type:T="text",disabled:E=!1}){return e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:k}),e.jsx(oe,{type:T,value:t?.[D]??"",onChange:G=>h(D,T==="number"?G.target.value===""?"":Number(G.target.value):G.target.value),disabled:E})]})}function _({label:k,field:D,options:T,emptySentinel:E}){const G=t?.[D],A=E?(G??"")||E:String(G??""),F=M=>h(D,E&&M===E?"":M);return e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:k}),e.jsxs(Je,{value:A,onValueChange:F,children:[e.jsx(Qe,{children:e.jsx(et,{placeholder:"Select..."})}),e.jsx(Ze,{children:T.map(M=>{const J=M.value===""||M.value==null?E||"__none__":String(M.value);return e.jsx(de,{value:J,children:M.label},J)})})]})]})}const N=async()=>{try{const k={make:t.make,model:t.model,year:t.year,cylinder_number:t.cylinder_number==="__none__"||t.cylinder_number===""?void 0:t.cylinder_number,license_plate:t.license_plate,color:t.color,mileage:t.mileage,fuel_type:t.fuel_type,transmission:t.transmission,wheels_drive:t.wheels_drive,car_category:t.car_category,seats:t.seats,doors:t.doors,daily_rate:x(t.daily_rate),holiday_rate:x(t.holiday_rate),is_deposit:!!t.is_deposit,deposit:x(t.deposit),status:t.status,car_accepted:!!t.car_accepted,is_private:!!t.is_private,is_delivered:!!t.is_delivered,delivery_fees:x(t.delivery_fees),with_driver:!!t.with_driver,driver_fees:x(t.driver_fees),max_driving_mileage:t.max_driving_mileage!=null&&t.max_driving_mileage!==""?Number(t.max_driving_mileage):void 0,min_rental_days:t.min_rental_days,notes:t.notes,agent_id:t.agent_id!=null&&t.agent_id!==""?Number(t.agent_id):void 0,insurance_expiry:t.insurance_expiry||void 0,registration_expiry:t.registration_expiry||void 0,views_count:t.views_count!=null&&t.views_count!==""?Number(t.views_count):void 0,clicks_count:t.clicks_count!=null&&t.clicks_count!==""?Number(t.clicks_count):void 0,search_count:t.search_count!=null&&t.search_count!==""?Number(t.search_count):void 0},D=await P3(t.id,k),T=D.data||D,E=T?.car??T??t;i({title:"Saved",description:"Car updated successfully"}),r?.(E)}catch(k){if(k.response?.status===422&&k.response?.data?.errors){const D=Object.entries(k.response.data.errors).map(([T,E])=>`${T}: ${(E||[]).join(", ")}`).join("; ");i({title:"Validation Error",description:D||"Invalid data",variant:"destructive"})}else i({title:"Error",description:"Failed to update car",variant:"destructive"})}};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-10 gap-y-3",children:[e.jsx(w,{label:"ID",field:"id",disabled:!0}),e.jsx(w,{label:"Make",field:"make"}),e.jsx(w,{label:"Model",field:"model"}),e.jsx(w,{label:"Year",field:"year",type:"number"}),e.jsx(_,{label:"Cylinder",field:"cylinder_number",emptySentinel:"__none__",options:[{label:"",value:""},{label:"4",value:"4"},{label:"6",value:"6"},{label:"8",value:"8"},{label:"10",value:"10"},{label:"12",value:"12"}]}),e.jsx(w,{label:"License Plate",field:"license_plate"}),e.jsx(w,{label:"Color",field:"color"}),e.jsx(w,{label:"Mileage",field:"mileage",type:"number"}),e.jsx(w,{label:"Fuel Type",field:"fuel_type"}),e.jsx(w,{label:"Transmission",field:"transmission"}),e.jsx(w,{label:"Wheels Drive",field:"wheels_drive"}),e.jsx(w,{label:"Category",field:"car_category"}),e.jsx(w,{label:"Seats",field:"seats",type:"number"}),e.jsx(w,{label:"Doors",field:"doors",type:"number"}),e.jsx(w,{label:"Daily Rate",field:"daily_rate",type:"number"}),e.jsx(w,{label:"Holiday Rate",field:"holiday_rate",type:"number"}),e.jsx(w,{label:"Deposit",field:"deposit",type:"number"}),e.jsx(w,{label:"Delivery Fees",field:"delivery_fees",type:"number"}),e.jsx(w,{label:"Driver Fees",field:"driver_fees",type:"number"}),e.jsx(w,{label:"Min Rental Days",field:"min_rental_days",type:"number"}),e.jsx(w,{label:"Max Driving Mileage",field:"max_driving_mileage",type:"number"}),e.jsx(w,{label:"Agent ID (reassign owner)",field:"agent_id",type:"number"}),e.jsx(w,{label:"Insurance Expiry",field:"insurance_expiry",type:"date"}),e.jsx(w,{label:"Registration Expiry",field:"registration_expiry",type:"date"}),e.jsx(w,{label:"Views Count",field:"views_count",type:"number"}),e.jsx(w,{label:"Clicks Count",field:"clicks_count",type:"number"}),e.jsx(w,{label:"Search Count",field:"search_count",type:"number"})]}),e.jsx("div",{className:"border-t pt-3"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm font-semibold",children:"Features"}),v(t?.features)]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm font-semibold",children:"Add-ons"}),v(t?.add_ons)]}),e.jsx("div",{className:"border-t pt-3"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-sm font-semibold",children:"Car Images"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"Main"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx("input",{ref:k=>u.current.main=k,type:"file",accept:"image/jpeg,image/jpg,image/png",className:"hidden",onChange:k=>{const D=k.target.files?.[0];D&&f("main",D)}}),e.jsx(K,{type:"button",variant:"outline",size:"sm",disabled:l==="main",onClick:()=>u.current.main?.click(),children:l==="main"?"Uploading":"Replace"})]})]}),e.jsx("a",{href:p("main_image_full_url","main_image_url"),target:"_blank",rel:"noreferrer",children:e.jsx("img",{src:p("main_image_full_url","main_image_url"),alt:"Main",className:"w-full max-h-[260px] object-cover rounded-md border"})})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:Jce.filter(k=>k.type!=="main").map(({type:k,label:D,fullKey:T,pathKey:E})=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between gap-1",children:[e.jsx("span",{className:"text-muted-foreground",children:D}),e.jsx("input",{ref:G=>u.current[k]=G,type:"file",accept:"image/jpeg,image/jpg,image/png",className:"hidden",onChange:G=>{const A=G.target.files?.[0];A&&f(k,A)}}),e.jsx(K,{type:"button",variant:"outline",size:"sm",className:"h-7 px-1",disabled:l===k,onClick:()=>u.current[k]?.click(),children:l===k?"":"Replace"})]}),e.jsx("a",{href:p(T,E),target:"_blank",rel:"noreferrer",children:e.jsx("img",{src:p(T,E),alt:D,className:"h-[120px] w-full object-cover rounded-md border"})})]},k))})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(_,{label:"Status",field:"status",options:[{label:"Available",value:"available"},{label:"Not Available",value:"not_available"},{label:"Rented",value:"rented"},{label:"Maintenance",value:"maintenance"}]}),e.jsx("div",{className:"text-sm font-semibold",children:"Notes"}),e.jsx("textarea",{className:"w-full border rounded-md p-2 min-h-[90px]",value:t?.notes??"",onChange:k=>h("notes",k.target.value)})]}),e.jsx(j,{label:"Car Accepted",value:t?.car_accepted,onChange:k=>h("car_accepted",k?1:0)}),e.jsx(j,{label:"Is Private",value:t?.is_private,onChange:k=>h("is_private",k?1:0)}),e.jsx(j,{label:"Is Deposit",value:t?.is_deposit,onChange:k=>h("is_deposit",k?1:0)}),e.jsx(j,{label:"With Driver",value:t?.with_driver,onChange:k=>h("with_driver",k?1:0)}),e.jsx(j,{label:"Is Delivered",value:t?.is_delivered,onChange:k=>h("is_delivered",k?1:0)}),e.jsxs("div",{className:"pt-3 flex gap-2",children:[e.jsx(K,{className:"flex-1",onClick:N,children:"Update Car"}),e.jsx(K,{variant:"outline",className:"w-28",onClick:n,children:"Cancel"})]})]})}const tde={pending:"bg-yellow-100 text-yellow-700",confirmed:"bg-green-100 text-green-700",cancelled:"bg-red-100 text-red-700",completed:"bg-blue-100 text-blue-700",rejected:"bg-gray-200 text-gray-700"};function sde(t,s=14){return t?t.length>s?`${t.slice(0,s)}...`:t:"N/A"}function ade(){const[t,s]=y.useState([]),[a,n]=y.useState({}),[r,i]=y.useState(!1),[l,d]=y.useState(""),[u,h]=y.useState([]),[p,f]=y.useState("newest"),[x,v]=y.useState("all"),[j,w]=y.useState(!1),[_,N]=y.useState(null),[k,D]=y.useState(!1),[T,E]=y.useState(null),[G,A]=y.useState(null),[F,M]=y.useState(!1),[J,R]=y.useState(""),ee=async()=>{i(!0);try{const ne={page:1,per_page:50},{data:fe}=await xe.get("/admin/bookings",{params:ne}),Ne=fe.bookings?.data||[];s(Ne),Ne.forEach(ye=>{a[ye.client_id]||Y(ye.client_id)})}catch(ne){console.error(ne)}finally{i(!1)}},Y=async ne=>{try{const{data:fe}=await xe.get(`/admin/users/${ne}`),Ne=fe.user?.first_name&&fe.user?.last_name?`${fe.user.first_name} ${fe.user.last_name}`:fe.user?.username||`User #${ne}`;n(ye=>({...ye,[ne]:Ne}))}catch{n(fe=>({...fe,[ne]:`User #${ne}`}))}};y.useEffect(()=>{ee()},[]);const re=async ne=>{try{const{data:fe}=await xe.get(`/admin/bookings/${ne}`);return fe.booking??fe.data??fe}catch{return se({title:"Error",description:"Failed to fetch booking details",variant:"destructive"}),null}},te=y.useMemo(()=>{let ne=[...t];if(l){const fe=l.toLowerCase().trim();ne=ne.filter(Ne=>{const ye=(a[Ne.client_id]??"").toLowerCase(),Le=(Ne.car?.make??"").toLowerCase(),Se=(Ne.car?.model??"").toLowerCase(),Ge=`${Le} ${Se}`.trim(),nt=(Ne.car?.agent?.username??"").toLowerCase();return[Ne.id,Ne.client_id,Ne.car_id,ye,Le,Se,Ge,nt].join(" ").toLowerCase().includes(fe)})}return u.length>0&&(ne=ne.filter(fe=>u.includes(fe.booking_request_status))),x!=="all"&&(ne=ne.filter(fe=>(fe.payment_status??"").toLowerCase()===x)),ne.sort((fe,Ne)=>{if(p==="newest"){const ye=new Date(fe.created_at??0).getTime(),Le=new Date(Ne.created_at??0).getTime();return Le!==ye?Le-ye:Number(Ne.id)-Number(fe.id)}if(p==="client_az"||p==="client_za"){const ye=(a[fe.client_id]??"").toLowerCase(),Le=(a[Ne.client_id]??"").toLowerCase();return ye<Le?p==="client_az"?-1:1:ye>Le?p==="client_az"?1:-1:Number(Ne.id)-Number(fe.id)}return p==="total_high"?Number(Ne.total_booking_price||0)-Number(fe.total_booking_price||0):p==="total_low"?Number(fe.total_booking_price||0)-Number(Ne.total_booking_price||0):0}),ne},[t,l,a,u,x,p]),V=y.useMemo(()=>te.reduce((ne,fe)=>ne+Number(fe.total_booking_price||0),0),[te]),U=y.useMemo(()=>{const ne={pending:0,confirmed:0,cancelled:0,completed:0,rejected:0};for(const fe of t){const Ne=(fe.booking_request_status??"").toLowerCase();ne[Ne]!==void 0&&(ne[Ne]+=1)}return ne},[t]),H=ne=>{E({...ne}),D(!0)},L=async()=>{try{const ne={booking_request_status:T.booking_request_status,payment_status:T.payment_status,payment_method:T.payment_method,total_booking_price:T.total_booking_price,extra_charge:T.extra_charge,with_driver:T.with_driver,is_delivered:T.is_delivered,start_datetime:T.start_datetime,end_datetime:T.end_datetime,pickup_location:T.pickup_location,dropoff_location:T.dropoff_location,reason_of_booking:T.reason_of_booking};await xe.put(`/admin/bookings/${T.id}`,ne),se.success("Booking updated successfully"),D(!1),ee()}catch{se.error("Failed to update booking")}},$=async ne=>{await xe.post(`/admin/bookings/${ne}/force-complete`),ee()},z="/avatar.png",ie="https://rento-lb.com/api/storage/",le=ne=>{const fe=ne?.client.profile_picture;if(!fe)return z;if(fe.startsWith("http"))return fe;const Ne=fe.startsWith("/")?fe.slice(1):fe;return ie+Ne};return e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Bookings"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"px-3 py-1.5 rounded-lg border bg-muted text-sm font-semibold",children:[e.jsxs("p",{children:["Total Bookings : ",te.length," "]}),e.jsxs("p",{children:["Total : $",V.toLocaleString()]})]}),e.jsx(oe,{placeholder:"Search client / car / agent  ",className:"h-8 w-44 text-xs",value:l,onChange:ne=>d(ne.target.value)}),e.jsxs(Te,{className:"p-3",children:[e.jsx("div",{className:"text-sm font-medium mb-2",children:"Status"}),e.jsx("div",{className:"flex flex-wrap gap-4",children:["pending","confirmed","cancelled","completed","rejected"].map(ne=>{const fe=u.includes(ne);return e.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:fe,onChange:Ne=>{const ye=Ne.target.checked;h(Le=>ye?[...Le,ne]:Le.filter(Se=>Se!==ne))}}),e.jsxs("span",{className:"capitalize flex items-center gap-2",children:[ne,e.jsx("span",{className:"inline-flex items-center justify-center h-5 min-w-6 px-2 rounded-full text-[11px] font-semibold bg-muted text-foreground",children:U?.[ne]??0})]})]},ne)})}),u.length>0&&e.jsx("button",{type:"button",className:"mt-2 text-xs text-muted-foreground underline",onClick:()=>h([]),children:"Clear status filter"})]}),e.jsx("div",{className:"w-44",children:e.jsxs(Je,{value:x,onValueChange:v,children:[e.jsx(Qe,{className:"h-8 text-xs",children:e.jsx(et,{placeholder:"Payment status"})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"all",children:"All Payments"}),e.jsx(de,{value:"pending",children:"Pending"}),e.jsx(de,{value:"paid",children:"Paid"})]})]})}),e.jsx("div",{className:"w-44",children:e.jsxs(Je,{value:p,onValueChange:f,children:[e.jsx(Qe,{className:"h-8 text-xs",children:e.jsx(et,{placeholder:"Sort by"})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"newest",children:"Newest"}),e.jsx(de,{value:"client_az",children:"Client A - Z"}),e.jsx(de,{value:"client_za",children:"Client Z - A"}),e.jsx(de,{value:"total_high",children:"Total High  Low"}),e.jsx(de,{value:"total_low",children:"Total Low  High"})]})]})}),e.jsx(K,{size:"icon",variant:"ghost","aria-label":"Refresh",onClick:ee,children:e.jsx(_t,{size:16})})]})]}),e.jsx("div",{className:"rounded-xl border",children:e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"ID"}),e.jsx(Z,{children:"Client"}),e.jsx(Z,{children:"Car"}),e.jsx(Z,{children:"Agent"}),e.jsx(Z,{children:"Status"}),e.jsx(Z,{children:"Payment"}),e.jsx(Z,{children:"Total"}),e.jsx(Z,{className:"text-right",children:"Actions"})]})}),e.jsxs(Nt,{children:[te.map(ne=>e.jsxs(ke,{children:[e.jsx(W,{children:e.jsxs("span",{className:"item-name-hover inline-flex items-center gap-2 cursor-pointer",title:ide(ne),onClick:()=>X4(ne.id,re,A,R,M),children:[ne.id," "]})}),e.jsx(W,{children:e.jsxs("span",{className:"item-name-hover inline-flex items-center gap-2 cursor-pointer",title:nde(ne),children:[e.jsx("img",{src:le(ne),alt:ne.client.username||"User",className:"h-7 w-7 rounded-full object-cover",onError:fe=>{fe.currentTarget.onerror=null,fe.currentTarget.src="/avatar.png"}}),sde(a[ne.client_id]||`User #${ne.client_id}`,14)]})}),e.jsx(W,{children:e.jsx("span",{className:"item-name-hover inline-flex items-center gap-2 cursor-pointer",title:rde(ne),children:ne.car?`${ne.car.make} ${ne.car.model}`:`#${ne.car_id}`})}),e.jsx(W,{children:e.jsx("span",{className:"item-name-hover inline-flex items-center gap-2 cursor-pointer",title:ode(ne),children:ne.car?.agent?.username??""})}),e.jsxs(W,{className:"flex items-center gap-2",children:[e.jsx(Me,{className:tde[ne.booking_request_status],children:ne.booking_request_status}),ne.booking_request_status==="confirmed"?e.jsx($a,{className:"w-4 h-4 text-green-600"}):e.jsx(qd,{className:"w-4 h-4 text-red-500"})]}),e.jsx(W,{children:e.jsx(Me,{variant:ne.payment_status==="paid"?"default":"secondary",children:ne.payment_status})}),e.jsxs(W,{children:["$",ne.total_booking_price]}),e.jsxs(W,{className:"flex justify-end gap-1",children:[e.jsx(K,{size:"icon",variant:"ghost","aria-label":"View",onClick:()=>X4(ne.id,re,A,R,M),title:"View Details",children:e.jsx(sa,{size:16})}),e.jsx(K,{size:"icon",variant:"ghost","aria-label":"Edit",onClick:()=>H(ne),title:"Edit Details",children:e.jsx(ca,{size:16})}),ne.booking_request_status==="confirmed"?e.jsx(K,{size:"icon",variant:"ghost","aria-label":"Force complete",title:"Confirmed",onClick:()=>$(ne.id),children:e.jsx($a,{size:16,className:"text-green-600"})}):e.jsx(K,{size:"icon",variant:"ghost","aria-label":"Disabled",disabled:!0,children:e.jsx(m7,{size:16})})]})]},ne.id)),!r&&te.length===0&&e.jsx(ke,{children:e.jsx(W,{colSpan:7,className:"text-center py-10 text-muted-foreground",children:"No bookings found"})})]})]})}),e.jsx(Va,{open:F,onOpenChange:M,children:e.jsxs(Ra,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Ma,{children:[e.jsx(Pa,{children:"Booking Details"}),e.jsx(vi,{children:"Complete booking information (read-only)."})]}),J==="view-booking"&&G&&e.jsx("div",{className:"space-y-6 text-sm",children:e.jsx(lde,{booking:G,clients:a,onClose:()=>M(!1)})})]})}),e.jsx(Va,{open:k,onOpenChange:D,children:e.jsxs(Ra,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Ma,{children:[e.jsx(Pa,{children:"Edit Booking"}),e.jsx(vi,{children:"All fields below are editable"})]}),T&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(q,{children:"Status"}),e.jsxs(Je,{value:T.booking_request_status,onValueChange:ne=>E({...T,booking_request_status:ne}),children:[e.jsx(Qe,{children:e.jsx(et,{})}),e.jsx(Ze,{children:["pending","confirmed","cancelled","completed","rejected"].map(ne=>e.jsx(de,{value:ne,children:ne},ne))})]})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Payment Status"}),e.jsxs(Je,{value:T.payment_status,onValueChange:ne=>E({...T,payment_status:ne}),children:[e.jsx(Qe,{children:e.jsx(et,{})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"pending",children:"Pending"}),e.jsx(de,{value:"paid",children:"Paid"}),e.jsx(de,{value:"failed",children:"Failed"})]})]})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Total Price"}),e.jsx(oe,{type:"number",value:T.total_booking_price,onChange:ne=>E({...T,total_booking_price:ne.target.value})})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Extra Charge"}),e.jsx(oe,{type:"number",value:T.extra_charge||0,onChange:ne=>E({...T,extra_charge:ne.target.value})})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Pickup Location"}),e.jsx(oe,{value:T.pickup_location||"",onChange:ne=>E({...T,pickup_location:ne.target.value})})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Dropoff Location"}),e.jsx(oe,{value:T.dropoff_location||"",onChange:ne=>E({...T,dropoff_location:ne.target.value})})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Start"}),e.jsx(oe,{type:"datetime-local",value:T.start_datetime?.slice(0,16),onChange:ne=>E({...T,start_datetime:ne.target.value})})]}),e.jsxs("div",{children:[e.jsx(q,{children:"End"}),e.jsx(oe,{type:"datetime-local",value:T.end_datetime?.slice(0,16),onChange:ne=>E({...T,end_datetime:ne.target.value})})]})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Reason / Notes"}),e.jsx("textarea",{className:"w-full border rounded-md p-2",rows:3,value:T.reason_of_booking||"",onChange:ne=>E({...T,reason_of_booking:ne.target.value})})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(K,{variant:"outline",onClick:()=>D(!1),children:"Cancel"}),e.jsx(K,{onClick:L,children:"Save Changes"})]})]})]})})]})}async function X4(t,s,a,n,r){const i=await s(t);i&&(a(i),n("view-booking"),r(!0))}function nde(t){return t?[`User ID : ${t.client.id??"N/A"}`,`username : ${t.client.username??"N/A"}`,`Phone Number : ${t.client.phone_number??"N/A"}`,`Email : ${t.client.email??"N/A"}`,`verified By Admin : ${t.client.verified_by_admin??"N/A"}`,`Gender : ${t.client.gender??"N/A"}`,`Birth Date : ${cL(t.client.birth_date??"N/A")}`,`city : ${t.client.city??"N/A"}`,`bio : ${t.client.bio??"N/A"}`].join(`
`):""}function rde(t){return t?[`Car ID : ${t.car.id??"N/A"}`,`Agent ID : ${t.car.agent_id??"N/A"}`,`Year : ${t.car.year??"N/A"}`,`Cylinder Number : ${t.car.cylinder_number??"N/A"}`,`License Plate : ${t.car.license_plate??"N/A"}`,`Color : ${t.car.color??"N/A"}`,`Mileage : ${t.car.mileage??"N/A"}`,`Transmission : ${t.car.transmission??"N/A"}`,`Wheels Drive : ${t.car.wheels_drive??"N/A"}`,`Category : ${t.car.car_category??"N/A"}`,`Seats : ${t.car.seats??"N/A"}`,`Doors : ${t.car.doors??"N/A"}`,`Daily_rate : ${t.car.daily_rate??"N/A"}`,`hHliday Rate : ${t.car.holiday_rate??"N/A"}`,`Status : ${t.car.status??"N/A"}`].join(`
`):""}function ide(t){return t?[`Client Id : ${t.client_id??"N/A"}`,`Car Id : ${t.car_id??"N/A"}`,`Reason Of Booking : ${t.reason_of_booking??"N/A"}`,`Total Booking Price : ${t.total_booking_price??"N/A"}`,`Is Paid Online : ${t.is_paid_online??"N/A"}`,`Is Delivered : ${t.is_delivered??"N/A"}`,`Pickup Location : ${t.pickup_location??"N/A"}`,`Dropoff Location : ${t.dropoff_location??"N/A"}`].join(`
`):""}function ode(t){return t?[`ID : ${t.car?.agent?.id??"N/A"}`,`Username : ${t.car?.agent?.username??"N/A"}`,`First Name : ${t.car?.agent?.first_name??"N/A"}`,`Last Name : ${t.car?.agent?.last_name??"N/A"}`,`Real User Id : ${t.car?.agent?.real_user_id??"N/A"}`,`Email : ${t.car?.agent?.email??"N/A"}`,`Verified_by_admin : ${t.car?.agent?.verified_by_admin??"N/A"}`,`Gender : ${t.car?.agent?.gender??"N/A"}`,`Birth date : ${cL(t.car?.agent?.birth_date??"N/A")}`,`City : ${t.car?.agent?.city??"N/A"}`,`Bio : ${t.car?.agent?.bio??"N/A"}`].join(`
`):""}function Q4(t){if(!t)return"N/A";const s=new Date(t);return Number.isNaN(s.getTime())?String(t):s.toLocaleString("en-US",{timeZone:"Asia/Beirut",month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit",hour12:!0})}function cL(t){if(!t)return"N/A";const s=new Date(t);return Number.isNaN(s.getTime())?String(t):s.toLocaleString("en-US",{timeZone:"Asia/Beirut",month:"numeric",day:"numeric",year:"numeric"})}function bv(t){if(t==null||t==="")return"N/A";const s=Number(t);return Number.isNaN(s)?String(t):`$${s.toLocaleString("en-US")}`}function lde({booking:t,clients:s,onClose:a}){const n=t?.client||{},r=t?.car||{};function i({label:x,value:v}){return e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsxs("span",{className:"text-muted-foreground",children:[x," :"]}),e.jsx("span",{className:"text-foreground break-words",children:v??"N/A"})]})}const l=({label:x,value:v,tone:j="neutral"})=>{const w=j==="teal"?"bg-teal-600 text-white":j==="red"?"bg-red-600 text-white":j==="yellow"?"bg-yellow-500 text-white":"bg-muted text-foreground";return e.jsxs("div",{className:"flex items-center gap-2 whitespace-nowrap",children:[e.jsx("span",{className:"text-muted-foreground",children:x}),e.jsx("span",{className:`inline-flex items-center justify-center px-2 h-5 rounded text-xs font-semibold leading-none ${w}`,children:v??"N/A"})]})},d=t?.booking_request_status??"N/A",u=d==="completed"?"teal":d==="pending"?"yellow":d==="cancelled"||d==="rejected"?"red":"neutral",h=t?.payment_status??"N/A",p=h==="paid"?"teal":h==="pending"?"yellow":h==="failed"?"red":"neutral",f=(n?.first_name&&n?.last_name?`${n.first_name} ${n.last_name}`:n?.username)||s?.[t?.client_id]||`User #${t?.client_id??"N/A"}`;return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"text-sm font-semibold",children:"Booking"}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-10 gap-y-3",children:[e.jsx(i,{label:"Booking ID",value:t?.id}),e.jsx(i,{label:"Car ID",value:t?.car_id??r?.id}),e.jsx(i,{label:"Start",value:Q4(t?.start_datetime)}),e.jsx(i,{label:"End",value:Q4(t?.end_datetime)}),e.jsx("div",{className:"flex flex-wrap items-center gap-8 pt-1",children:e.jsx(l,{label:"Status:",value:d,tone:u})}),e.jsx("div",{className:"flex flex-wrap items-center gap-8 pt-1",children:e.jsx(l,{label:"Payment:",value:h,tone:p})}),e.jsx(i,{label:"Total",value:bv(t?.total_booking_price)}),e.jsx(i,{label:"Extra Charge",value:bv(t?.extra_charge??0)}),e.jsx(i,{label:"Deposit",value:bv(t?.deposit??0)}),e.jsx(i,{label:"Paid Online",value:t?.is_paid_online?"Yes":"No"}),e.jsx(i,{label:"Payment Method",value:t?.payment_method??"N/A"}),e.jsx(i,{label:"With Driver",value:t?.with_driver?"Yes":"No"})]}),e.jsx("div",{className:"border-t pt-3"}),e.jsx("div",{className:"text-sm font-semibold",children:"Client"}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-10 gap-y-3",children:[e.jsx(i,{label:"Client Name",value:f}),e.jsx(i,{label:"Client ID",value:t?.client_id??n?.id}),e.jsx(i,{label:"Email",value:n?.email??"N/A"}),e.jsx(i,{label:"Phone",value:n?.phone_number??"N/A"})]}),e.jsx("div",{className:"border-t pt-3"}),t?.car&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-sm font-semibold",children:"Car"}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-10 gap-y-3",children:[e.jsx(i,{label:"Make",value:r?.make}),e.jsx(i,{label:"Model",value:r?.model}),e.jsx(i,{label:"Year",value:r?.year}),e.jsx(i,{label:"Plate",value:r?.license_plate}),e.jsx(i,{label:"Color",value:r?.color}),e.jsx(i,{label:"Transmission",value:r?.transmission}),e.jsx(i,{label:"Fuel",value:r?.fuel_type})]}),e.jsx("div",{className:"border-t pt-3"})]}),e.jsx("div",{className:"text-sm font-semibold",children:"Locations"}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-10 gap-y-3",children:[e.jsx(i,{label:"Pickup",value:t?.pickup_location??"N/A"}),e.jsx(i,{label:"Dropoff",value:t?.dropoff_location??"N/A"}),e.jsx(i,{label:"Delivery Address",value:t?.delivery_location?.address??"N/A"}),e.jsx(i,{label:"Return Address",value:t?.return_location?.address??"N/A"})]}),t?.reason_of_booking&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border-t pt-3"}),e.jsx("div",{className:"text-sm font-semibold",children:"Reason / Notes"}),e.jsx("div",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:t?.reason_of_booking})]}),e.jsx("div",{className:"pt-3 flex gap-2 justify-end",children:e.jsx(K,{variant:"outline",className:"w-28",onClick:a,children:"Close"})})]})}const cde={paid:"bg-green-100 text-green-700",pending:"bg-yellow-100 text-yellow-700",cancelled:"bg-red-100 text-red-700"},dde={income:"bg-blue-100 text-blue-700",expense:"bg-purple-100 text-purple-700"};function ude(t,s=14){return t?t.length>s?`${t.slice(0,s)}...`:t:"N/A"}function hde(){const[t,s]=y.useState([]),[a,n]=y.useState(!1),[r,i]=y.useState(""),[l,d]=y.useState(!1),[u,h]=y.useState(!1),[p,f]=y.useState(null),[x,v]=y.useState(!1),[j,w]=y.useState(null),[_,N]=y.useState(!1),[k,D]=y.useState({user_id:"",amount:"",source:"cash",type:"income",status:"pending",due_date:"",description:""}),T=async()=>{n(!0);try{const{data:Y}=await xe.get("/admin/payments",{params:{per_page:50}});s(Y.payments?.data||[])}catch{se.error("Failed to load payments")}finally{n(!1)}};y.useEffect(()=>{T()},[]);const E=y.useMemo(()=>{let Y=[...t];return r&&(Y=Y.filter(re=>`${re.id} ${re.reference_id} ${re.user?.first_name??""} ${re.user?.last_name??""}`.toLowerCase().includes(r.toLowerCase()))),Y.sort((re,te)=>l?re.amount-te.amount:te.amount-re.amount),Y},[t,r,l]),G=Y=>{f(Y),h(!0)},A=Y=>{w({...Y}),v(!0)},F=async()=>{try{const Y={status:j.status,source:j.source,due_date:j.due_date,description:j.description};await xe.put(`/admin/payments/${j.id}`,Y),se.success("Payment updated"),v(!1),T()}catch{se.error("Failed to update payment")}},M=async()=>{try{const Y={user_id:Number(k.user_id),amount:Number(k.amount),source:k.source,type:k.type,status:k.status,due_date:k.due_date,description:k.description};await xe.post("/admin/payments",Y),se.success("Payment created"),N(!1),D({user_id:"",amount:"",source:"cash",type:"income",status:"pending",due_date:"",description:""}),T()}catch{se.error("Failed to create payment")}},J="/avatar.png",R="https://rento-lb.com/api/storage/",ee=Y=>{const re=Y?.user.profile_picture;if(!re)return J;if(re.startsWith("http"))return re;const te=re.startsWith("/")?re.slice(1):re;return R+te};return e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Payments"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(K,{size:"sm",onClick:()=>N(!0),children:[e.jsx(Gs,{size:16,className:"mr-1"}),"Add Payment"]}),e.jsx(oe,{placeholder:"Search",className:"h-8 w-48 text-xs",value:r,onChange:Y=>i(Y.target.value)}),e.jsx(K,{size:"icon",variant:"ghost","aria-label":"Sort amount",onClick:()=>d(!l),children:e.jsx(XI,{size:16})}),e.jsx(K,{size:"icon",variant:"ghost","aria-label":"Refresh payments",onClick:T,children:e.jsx(_t,{size:16})})]})]}),e.jsx("div",{className:"rounded-xl border bg-background",children:e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"ID"}),e.jsx(Z,{children:"User"}),e.jsx(Z,{children:"Type"}),e.jsx(Z,{children:"Status"}),e.jsx(Z,{children:"Source"}),e.jsx(Z,{children:"Amount"}),e.jsx(Z,{className:"text-right",children:"Actions"})]})}),e.jsxs(Nt,{children:[E.map(Y=>e.jsxs(ke,{children:[e.jsx(W,{children:e.jsx("span",{className:"item-name-hover inline-flex items-center gap-2 cursor-pointer",title:fde(Y),role:"button",tabIndex:0,onClick:()=>G(Y),children:Y.id})}),e.jsx(W,{children:e.jsxs("span",{className:"item-name-hover inline-flex items-center gap-2 cursor-pointer",title:mde(Y),children:[e.jsx("img",{src:ee(Y),alt:Y.user.username||"User",className:"h-7 w-7 rounded-full object-cover",onError:re=>{re.currentTarget.onerror=null,re.currentTarget.src="/avatar.png"}}),ude(Y.user?`${Y.user.first_name} ${Y.user.last_name}`:"",14)]})}),e.jsx(W,{children:e.jsx(Me,{className:dde[Y.type],children:Y.type})}),e.jsx(W,{children:e.jsx(Me,{className:cde[Y.status],children:Y.status})}),e.jsx(W,{children:Y.source}),e.jsxs(W,{children:["$",Y.amount]}),e.jsxs(W,{className:"flex justify-end gap-1",children:[e.jsx(K,{size:"icon",variant:"ghost","aria-label":"View payment",onClick:()=>G(Y),children:e.jsx(sa,{size:16})}),e.jsx(K,{size:"icon",variant:"ghost","aria-label":"Edit payment",onClick:()=>A(Y),children:e.jsx(ca,{size:16})})]})]},Y.id)),!a&&E.length===0&&e.jsx(ke,{children:e.jsx(W,{colSpan:7,className:"text-center py-10 text-muted-foreground",children:"No payments found"})})]})]})}),e.jsx(Va,{open:u,onOpenChange:h,children:e.jsxs(Ra,{className:"max-w-3xl",children:[e.jsxs(Ma,{children:[e.jsx(Pa,{children:"Payment Details"}),e.jsx(vi,{children:"Read-only"})]}),p&&e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("b",{children:"ID:"})," ",p.id]}),e.jsxs("div",{children:[e.jsx("b",{children:"Reference:"})," ",p.reference_id]}),e.jsxs("div",{children:[e.jsx("b",{children:"User:"})," ",p.user?.first_name," ",p.user?.last_name]}),e.jsxs("div",{children:[e.jsx("b",{children:"Type:"})," ",p.type]}),e.jsxs("div",{children:[e.jsx("b",{children:"Status:"})," ",p.status]}),e.jsxs("div",{children:[e.jsx("b",{children:"Source:"})," ",p.source]}),e.jsxs("div",{children:[e.jsx("b",{children:"Amount:"})," $",p.amount]}),e.jsxs("div",{children:[e.jsx("b",{children:"Due:"})," ",new Date(p.due_date).toLocaleString()]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("b",{children:"Description:"})," ",p.description||""]})]})]})}),e.jsx(Va,{open:x,onOpenChange:v,children:e.jsxs(Ra,{className:"max-w-xl",children:[e.jsxs(Ma,{children:[e.jsx(Pa,{children:"Edit Payment"}),e.jsx(vi,{children:"Editable fields only"})]}),j&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(q,{children:"Status"}),e.jsxs(Je,{value:j.status,onValueChange:Y=>w({...j,status:Y}),children:[e.jsx(Qe,{children:e.jsx(et,{})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"pending",children:"Pending"}),e.jsx(de,{value:"paid",children:"Paid"}),e.jsx(de,{value:"cancelled",children:"Cancelled"})]})]})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Source"}),e.jsx(oe,{value:j.source,onChange:Y=>w({...j,source:Y.target.value})})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Due Date"}),e.jsx(oe,{type:"datetime-local",value:j.due_date?.slice(0,16),onChange:Y=>w({...j,due_date:Y.target.value})})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Description"}),e.jsx(oe,{value:j.description||"",onChange:Y=>w({...j,description:Y.target.value})})]}),e.jsx(K,{className:"w-full",onClick:F,children:"Save Changes"})]})]})}),e.jsx(Va,{open:_,onOpenChange:N,children:e.jsxs(Ra,{className:"max-w-xl",children:[e.jsxs(Ma,{children:[e.jsx(Pa,{children:"Add Payment"}),e.jsx(vi,{children:"Create a new payment"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(oe,{type:"number",placeholder:"User ID",value:k.user_id,onChange:Y=>D({...k,user_id:Y.target.value})}),e.jsx(oe,{type:"number",placeholder:"Amount",value:k.amount,onChange:Y=>D({...k,amount:Y.target.value})}),e.jsxs(Je,{value:k.type,onValueChange:Y=>D({...k,type:Y}),children:[e.jsx(Qe,{children:e.jsx(et,{})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"income",children:"Income"}),e.jsx(de,{value:"expense",children:"Expense"})]})]}),e.jsxs(Je,{value:k.status,onValueChange:Y=>D({...k,status:Y}),children:[e.jsx(Qe,{children:e.jsx(et,{})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"pending",children:"Pending"}),e.jsx(de,{value:"paid",children:"Paid"}),e.jsx(de,{value:"cancelled",children:"Cancelled"})]})]}),e.jsxs(Je,{value:k.source,onValueChange:Y=>D({...k,source:Y}),children:[e.jsx(Qe,{children:e.jsx(et,{})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"cash",children:"Cash"}),e.jsx(de,{value:"bank",children:"Bank"})]})]}),e.jsx(oe,{type:"datetime-local",value:k.due_date,onChange:Y=>D({...k,due_date:Y.target.value})}),e.jsx(oe,{placeholder:"Description",value:k.description,onChange:Y=>D({...k,description:Y.target.value})}),e.jsx(K,{className:"w-full",onClick:M,children:"Create Payment"})]})]})})]})}function mde(t){if(!t)return"";const s=t.user||{};return[`User ID : ${s.id??"N/A"}`,`Real User ID : ${s.real_user_id??"N/A"}`,`Username : ${s.username??"N/A"}`,`Phone Number : ${s.phone_number??"N/A"}`,`Email : ${s.email??"N/A"}`,`Verified ByAadmin : ${s.verified_by_admin??"N/A"}`,`Gender : ${s.gender??"N/A"}`,`Birth Date : ${pde(s.birth_date??"N/A")}`,`City : ${s.city??"N/A"}`,`Bio : ${s.bio??"N/A"}`,`Role : ${s.role??"N/A"}`].join(`
`)}function fde(t){return t?[`User ID : ${t.user_id??"N/A"}`,`Name : ${t.name??"N/A"}`,`Issue Date : ${Z4(t.issue_date??"N/A")}`,`Due Date : ${Z4(t.due_date??"N/A")}`,`Reference ID : ${t.reference_id??"N/A"}`,`Description : ${t.description??"N/A"}`].join(`
`):""}function pde(t){if(!t)return"N/A";const s=new Date(t);return Number.isNaN(s.getTime())?String(t):s.toLocaleDateString("en-US",{month:"numeric",day:"numeric",year:"numeric"})}function Z4(t){if(!t)return"N/A";const s=new Date(t);return Number.isNaN(s.getTime())?String(t):s.toLocaleString("en-US",{timeZone:"Asia/Beirut",month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit",hour12:!0})}const gde=()=>{const[t,s]=y.useState([]),[a,n]=y.useState(!1),[r,i]=y.useState(!1),l=async()=>{i(!0);try{const{data:u}=await Iie();s(u.ads.data)}finally{i(!1)}};y.useEffect(()=>{l()},[]);const d=async u=>{if(confirm("Delete this ad?"))try{await zie(u),rn({title:"Ad deleted"}),l()}catch{rn({title:"Failed to delete ad",variant:"destructive"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Ads"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(K,{size:"sm","aria-label":"Create new ad",onClick:()=>n(u=>!u),children:[e.jsx(Gs,{className:"h-4 w-4 mr-1"}),"Create Ad"]}),e.jsx(K,{size:"icon","aria-label":"refresh data",variant:"outline",onClick:l,children:e.jsx(_t,{className:"h-4 w-4"})})]})]}),a&&e.jsxs(Te,{children:[e.jsx(rs,{children:e.jsx(is,{children:"Create Advertisement"})}),e.jsx(Re,{children:e.jsx(tO,{onSuccess:()=>{n(!1),l()}})})]}),e.jsx(Te,{children:e.jsxs(Re,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"ID"}),e.jsx(Z,{children:"Website"}),e.jsx(Z,{children:"Company"}),e.jsx(Z,{children:"User"}),e.jsx(Z,{children:"Online"}),e.jsx(Z,{children:"Views"}),e.jsx(Z,{children:"Clicks"}),e.jsx(Z,{children:"Cost"}),e.jsx(Z,{className:"text-right",children:"Actions"})]})}),e.jsx(Nt,{children:t.map(u=>e.jsxs(ke,{children:[e.jsx(W,{children:u.id}),e.jsx(W,{className:"max-w-[160px] truncate",children:e.jsx("a",{href:u.website,target:"_blank",className:"text-blue-400 hover:underline",children:u.website})}),e.jsx(W,{children:u.company_type}),e.jsx(W,{children:u.user?.username??""}),e.jsx(W,{children:e.jsx(Me,{variant:u.online?"success":"secondary",children:u.online?"Online":"Offline"})}),e.jsx(W,{children:u.nb_views}),e.jsx(W,{children:u.nb_clicks}),e.jsxs(W,{children:["$",Number(u.amount_cost).toFixed(2)]}),e.jsx(W,{className:"text-right",children:e.jsx(K,{size:"sm",variant:"destructive","aria-label":"Delete ad",onClick:()=>d(u.id),children:e.jsx(Sm,{className:"h-3 w-3"})})})]},u.id))})]})}),!r&&t.length===0&&e.jsx("p",{className:"text-center text-muted-foreground py-6",children:"No ads found"})]})})]})},xde=()=>{const[t,s]=y.useState([]),[a,n]=y.useState(!1),[r,i]=y.useState(!1),l=async()=>{i(!0);try{const{data:h}=await Vie();s(h.featured_cars.data)}finally{i(!1)}};y.useEffect(()=>{l()},[]);const d=async h=>{if(confirm("Delete this featured car?"))try{await Hie(h),rn({title:"Featured car removed"}),l()}catch{rn({title:"Failed to delete featured car",variant:"destructive"})}},u=(h,p)=>{const f=new Date(h),x=new Date(p);return`${Math.ceil((x-f)/(1e3*60*60*24))||0} days`};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Featured Cars"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(K,{size:"sm","aria-label":"Create new featured car",onClick:()=>n(h=>!h),children:[e.jsx(Gs,{className:"h-4 w-4 mr-1"}),"Create Featured Car"]}),e.jsx(K,{size:"icon","aria-label":"refresh data",variant:"outline",onClick:l,children:e.jsx(_t,{className:"h-4 w-4"})})]})]}),a&&e.jsxs(Te,{children:[e.jsx(rs,{children:e.jsx(is,{children:"Create Featured Car"})}),e.jsx(Re,{children:e.jsx(sO,{onSuccess:()=>{n(!1),l()}})})]}),e.jsx(Te,{children:e.jsxs(Re,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"ID"}),e.jsx(Z,{children:"Car"}),e.jsx(Z,{children:"Duration"}),e.jsx(Z,{children:"Start Date"}),e.jsx(Z,{children:"Expire Date"}),e.jsx(Z,{className:"text-right",children:"Actions"})]})}),e.jsx(Nt,{children:t.map(h=>e.jsxs(ke,{children:[e.jsx(W,{children:h.id}),e.jsxs(W,{children:[h.car?.make," ",h.car?.model]}),e.jsx(W,{children:u(h.start_at,h.expire_at)}),e.jsx(W,{children:new Date(h.start_at).toLocaleDateString()}),e.jsx(W,{children:new Date(h.expire_at).toLocaleDateString()}),e.jsx(W,{className:"text-right",children:e.jsx(K,{size:"icon","aria-label":"Delete featured car",variant:"destructive",onClick:()=>d(h.id),children:e.jsx(Sm,{className:"h-3 w-3"})})})]},h.id))})]})}),!r&&t.length===0&&e.jsx("p",{className:"text-center text-muted-foreground py-6",children:"No featured cars found"})]})})]})},yde=({onSuccess:t})=>{const[s,a]=y.useState(!1),[n,r]=y.useState({car_id:"",holiday_name:"",start:"",end:"",percentage_increase:"",is_active:!0}),i=(d,u)=>r(h=>({...h,[d]:u})),l=async d=>{d.preventDefault(),a(!0);try{await Gie({car_id:Number(n.car_id),holiday_name:n.holiday_name,holiday_dates:{start:n.start,end:n.end},percentage_increase:Number(n.percentage_increase),is_active:n.is_active}),rn({title:"Holiday created"}),t?.()}catch{rn({title:"Failed to create holiday",variant:"destructive"})}finally{a(!1)}};return e.jsxs("form",{onSubmit:l,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(q,{children:"Car ID"}),e.jsx(oe,{value:n.car_id,onChange:d=>i("car_id",d.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Holiday Name"}),e.jsx(oe,{value:n.holiday_name,onChange:d=>i("holiday_name",d.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Start Date"}),e.jsx(oe,{type:"date",value:n.start,onChange:d=>i("start",d.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"End Date"}),e.jsx(oe,{type:"date",value:n.end,onChange:d=>i("end",d.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Increase %"}),e.jsx(oe,{type:"number",step:"0.01",value:n.percentage_increase,onChange:d=>i("percentage_increase",d.target.value),required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3 mt-6",children:[e.jsx(fn,{checked:n.is_active,onCheckedChange:d=>i("is_active",d)}),e.jsx(q,{children:"Active"})]}),e.jsx("div",{className:"md:col-span-2 flex justify-end gap-2",children:e.jsx(K,{type:"submit",disabled:s,children:s?"Saving...":"Create Holiday"})})]})},bde=()=>{const[t,s]=y.useState([]),[a,n]=y.useState(!1),[r,i]=y.useState(!0),l=async()=>{i(!0);try{const u=await qie();console.log("HOLIDAYS API RESPONSE:",u.data),s(u.data.holidays.data)}catch(u){console.error(u),rn({title:"Failed to load holidays",variant:"destructive"})}finally{i(!1)}};y.useEffect(()=>{l()},[]);const d=async u=>{if(confirm("Delete this holiday?"))try{await Wie(u),rn({title:"Holiday deleted"}),l()}catch{rn({title:"Failed to delete holiday",variant:"destructive"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Holidays"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(K,{size:"sm","aria-label":"Create new holiday",onClick:()=>n(u=>!u),children:[e.jsx(Gs,{className:"h-4 w-4 mr-1"}),"Create Holiday"]}),e.jsx(K,{size:"icon","aria-label":"refresh data",variant:"outline",onClick:l,children:e.jsx(_t,{className:"h-4 w-4"})})]})]}),a&&e.jsxs(Te,{children:[e.jsx(rs,{children:e.jsx(is,{children:"Create Holiday"})}),e.jsx(Re,{children:e.jsx(yde,{onSuccess:()=>{n(!1),l()}})})]}),e.jsx(Te,{children:e.jsx(Re,{children:r?e.jsx("p",{className:"text-center py-6 text-muted-foreground",children:"Loading holidays..."}):t.length===0?e.jsx("p",{className:"text-center py-6 text-muted-foreground",children:"No holidays found"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"ID"}),e.jsx(Z,{children:"Car"}),e.jsx(Z,{children:"Holiday Name"}),e.jsx(Z,{children:"Dates"}),e.jsx(Z,{children:"Increase %"}),e.jsx(Z,{children:"Active"}),e.jsx(Z,{className:"text-right",children:"Actions"})]})}),e.jsx(Nt,{children:t.map(u=>e.jsxs(ke,{children:[e.jsx(W,{children:u.id}),e.jsxs(W,{children:[u.car?.make," ",u.car?.model]}),e.jsx(W,{children:u.holiday_name}),e.jsxs(W,{className:"text-xs",children:[u.holiday_dates.start," "," ",u.holiday_dates.end]}),e.jsxs(W,{children:[u.percentage_increase,"%"]}),e.jsx(W,{children:e.jsx(Me,{variant:u.is_active?"success":"secondary",children:u.is_active?"Yes":"No"})}),e.jsx(W,{className:"text-right",children:e.jsx(K,{size:"icon","aria-label":"Delete holiday",variant:"destructive",onClick:()=>d(u.id),children:e.jsx(Sm,{className:"h-3 w-3"})})})]},u.id))})]})})})})]})};function vde(){const[t,s]=y.useState([]),[a,n]=y.useState(null),[r,i]=y.useState(!0),[l,d]=y.useState({search:"",status:"",page:1}),u=y.useCallback(async()=>{i(!0);try{const f=await Oie({search:l.search||void 0,status:l.status||void 0,page:l.page});console.log("ANNOUNCEMENTS API RESPONSE:",f.data),s(f.data.announcements.data),n(f.data.announcements)}catch(f){console.error(f),rn({title:"Failed to load announcements",variant:"destructive"})}finally{i(!1)}},[l]);return y.useEffect(()=>{u()},[u]),{announcements:t,meta:a,loading:r,filters:l,setFilters:d,refresh:()=>{u()},removeAnnouncement:async f=>{if(confirm("Delete this announcement?"))try{await Lie(f),rn({title:"Announcement deleted"}),u()}catch{rn({title:"Failed to delete announcement",variant:"destructive"})}}}}function jde(){const{announcements:t,meta:s,loading:a,filters:n,setFilters:r,refresh:i,removeAnnouncement:l}=vde();return console.log("ANNOUNCEMENTS IN PAGE:",t),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Announcements"}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx(oe,{className:"w-56",placeholder:"Search...",value:n.search,onChange:d=>r({...n,search:d.target.value,page:1})}),e.jsxs(Je,{value:n.status,onValueChange:d=>r({...n,status:d,page:1}),children:[e.jsx(Qe,{className:"w-36",children:e.jsx(et,{placeholder:"Status"})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"draft",children:"Draft"}),e.jsx(de,{value:"published",children:"Published"})]})]}),e.jsx(K,{variant:"outline",onClick:i,children:e.jsx(mu,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"border rounded-xl bg-card",children:e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"ID"}),e.jsx(Z,{children:"Title"}),e.jsx(Z,{children:"Status"}),e.jsx(Z,{children:"Priority"}),e.jsx(Z,{children:"Audience"}),e.jsx(Z,{className:"text-right",children:"Actions"})]})}),e.jsxs(Nt,{children:[t.map(d=>e.jsxs(ke,{children:[e.jsx(W,{children:d.id}),e.jsx(W,{className:"font-medium",children:d.title}),e.jsx(W,{children:e.jsx(Me,{children:d.status})}),e.jsx(W,{children:d.priority}),e.jsx(W,{children:d.target_audience?.length?d.target_audience.join(", "):"All"}),e.jsx(W,{className:"text-right",children:e.jsx(K,{size:"icon","aria-label":"Delete announcement",variant:"destructive",onClick:()=>l(d.id),children:e.jsx(Sm,{className:"w-3 h-3"})})})]},d.id)),!a&&t.length===0&&e.jsx(ke,{children:e.jsx(W,{colSpan:6,className:"text-center py-6 text-muted-foreground",children:"No announcements found"})})]})]})}),s&&e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",s.from,"",s.to," of ",s.total]})]})}function wde(){const[t,s]=y.useState([]),[a,n]=y.useState(null),[r,i]=y.useState(!0),[l,d]=y.useState({search:"",status:"",page:1}),u=y.useCallback(async()=>{i(!0);try{const f=await Bie({search:l.search||void 0,status:l.status||void 0,page:l.page});console.log("APPEALS API RESPONSE:",f.data),s(f.data.appeals.data),n(f.data.appeals)}catch(f){console.error(f),rn({title:"Failed to load appeals",variant:"destructive"})}finally{i(!1)}},[l]);return y.useEffect(()=>{u()},[u]),{appeals:t,meta:a,loading:r,filters:l,setFilters:d,refresh:()=>u(),updateStatus:async(f,x)=>{try{await Fie(f,x),rn({title:"Appeal updated"}),u()}catch{rn({title:"Failed to update appeal",variant:"destructive"})}}}}function Nde(){const{appeals:t,meta:s,loading:a,filters:n,setFilters:r,refresh:i,updateStatus:l}=wde();return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Appeals"}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx(oe,{className:"w-56",placeholder:"Search...",value:n.search,onChange:d=>r({...n,search:d.target.value,page:1})}),e.jsxs(Je,{value:n.status||"all",onValueChange:d=>r({...n,status:d==="all"?"":d,page:1}),children:[e.jsx(Qe,{className:"w-36",children:e.jsx(et,{placeholder:"Status"})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"all",children:"All"}),e.jsx(de,{value:"submitted",children:"Submitted"}),e.jsx(de,{value:"under_review",children:"Under Review"}),e.jsx(de,{value:"resolved",children:"Resolved"}),e.jsx(de,{value:"rejected",children:"Rejected"})]})]}),e.jsx(K,{variant:"outline",onClick:i,children:e.jsx(mu,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"border rounded-xl bg-card",children:e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"ID"}),e.jsx(Z,{children:"User"}),e.jsx(Z,{children:"Message"}),e.jsx(Z,{children:"Status"}),e.jsx(Z,{className:"text-right",children:"Actions"})]})}),e.jsxs(Nt,{children:[t.map(d=>e.jsxs(ke,{children:[e.jsx(W,{children:d.id}),e.jsx(W,{children:d.user?.username??""}),e.jsx(W,{className:"max-w-xs truncate",children:d.message}),e.jsx(W,{children:e.jsx(Me,{children:d.status})}),e.jsx(W,{className:"text-right",children:e.jsx(K,{size:"sm",onClick:()=>l(d.id,{status:"resolved"}),children:"Resolve"})})]},d.id)),!a&&t.length===0&&e.jsx(ke,{children:e.jsx(W,{colSpan:5,className:"text-center py-6 text-muted-foreground",children:"No appeals found"})})]})]})}),s&&e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",s.from,"",s.to," of ",s.total]})]})}function _de(){const[t,s]=y.useState([]),[a,n]=y.useState(null),[r,i]=y.useState(!1),[l,d]=y.useState({page:1}),u=y.useCallback(async()=>{try{i(!0);const p=(await xe.get("/admin/suggestions",{params:{page:l.page}})).data?.suggestions;s(p?.data||[]),n({current_page:p?.current_page,last_page:p?.last_page,from:p?.from,to:p?.to,total:p?.total})}catch(h){console.error("Failed to fetch suggestions:",h),s([]),n(null)}finally{i(!1)}},[l.page]);return y.useEffect(()=>{u()},[u]),{suggestions:t,meta:a,loading:r,filters:l,setFilters:d,refresh:u}}function Cde(){const{suggestions:t,meta:s,loading:a,filters:n,setFilters:r,refresh:i}=_de();return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Suggestions"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(K,{variant:"outline",onClick:i,children:[e.jsx(mu,{className:"w-4 h-4 mr-2"}),"Refresh"]}),s&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{size:"icon",variant:"outline","aria-label":"Previous Page",disabled:s.current_page===1,onClick:()=>r({...n,page:s.current_page-1}),children:e.jsx(yo,{className:"w-4 h-4"})}),e.jsxs("span",{className:"text-sm",children:["Page ",s.current_page," of ",s.last_page]}),e.jsx(K,{size:"icon",variant:"outline","aria-label":"Next Page",disabled:s.current_page===s.last_page,onClick:()=>r({...n,page:s.current_page+1}),children:e.jsx(sn,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"border rounded-xl bg-card",children:e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"ID"}),e.jsx(Z,{children:"User"}),e.jsx(Z,{children:"Message"}),e.jsx(Z,{children:"Created At"})]})}),e.jsxs(Nt,{children:[t.map(l=>e.jsxs(ke,{children:[e.jsx(W,{children:l.id}),e.jsx(W,{children:l.user?.username||""}),e.jsx(W,{className:"max-w-[400px] truncate",children:l.message||l.suggestion||""}),e.jsx(W,{children:new Date(l.created_at).toLocaleString()})]},l.id)),!a&&t.length===0&&e.jsx(ke,{children:e.jsx(W,{colSpan:4,className:"text-center py-6 text-muted-foreground",children:"No suggestions found"})}),a&&e.jsx(ke,{children:e.jsx(W,{colSpan:4,className:"text-center py-6 text-muted-foreground",children:"Loading..."})})]})]})}),s&&e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",s.from,"",s.to," of ",s.total]})]})}function kde(){const[t,s]=y.useState([]),[a,n]=y.useState(null),[r,i]=y.useState(!1),[l,d]=y.useState({page:1}),u=y.useCallback(async()=>{try{i(!0);const x=(await xe.get("/admin/notifications",{params:{page:l.page}})).data?.notifications;s(x?.data||[]),n({current_page:x?.current_page,last_page:x?.last_page,from:x?.from,to:x?.to,total:x?.total})}catch(f){console.error("Failed to fetch notifications:",f),s([]),n(null)}finally{i(!1)}},[l.page]);return y.useEffect(()=>{u()},[u]),{notifications:t,meta:a,loading:r,filters:l,setFilters:d,refresh:u,deleteNotification:async f=>{if(confirm("Delete this notification?"))try{await xe.delete(`/admin/notifications/${f}`),u()}catch(x){console.error("Delete failed:",x)}},sendToAll:async()=>{const f=prompt("Notification title:");if(!f)return;const x=prompt("Notification message:");if(x)try{await Jie({title:f,message:x,type:"general"}),alert("Notification sent to all users"),u()}catch(v){console.error("Send failed:",v),alert("Failed to send notification")}}}}function Sde(){const{notifications:t,meta:s,loading:a,filters:n,setFilters:r,refresh:i,deleteNotification:l,sendToAll:d}=kde();return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Notifications"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(K,{variant:"outline",onClick:i,children:[e.jsx(mu,{className:"w-4 h-4 mr-2"}),"Refresh"]}),e.jsxs(K,{onClick:d,children:[e.jsx(rx,{className:"w-4 h-4 mr-2"}),"Send to All"]})]}),s&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{size:"icon",variant:"outline","aria-label":"Previous Page",disabled:s.current_page===1,onClick:()=>r({...n,page:s.current_page-1}),children:e.jsx(yo,{className:"w-4 h-4"})}),e.jsxs("span",{className:"text-sm",children:["Page ",s.current_page," of ",s.last_page]}),e.jsx(K,{size:"icon",variant:"outline","aria-label":"Next Page",disabled:s.current_page===s.last_page,onClick:()=>r({...n,page:s.current_page+1}),children:e.jsx(sn,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"border rounded-xl bg-card",children:e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"ID"}),e.jsx(Z,{children:"Title"}),e.jsx(Z,{children:"Type"}),e.jsx(Z,{children:"Read"}),e.jsx(Z,{children:"Sent"}),e.jsx(Z,{children:"Created"}),e.jsx(Z,{className:"text-right",children:"Actions"})]})}),e.jsxs(Nt,{children:[t.map(u=>e.jsxs(ke,{children:[e.jsx(W,{children:u.id}),e.jsx(W,{className:"font-medium",children:u.title||""}),e.jsx(W,{children:e.jsx(Me,{variant:"outline",children:u.type||"general"})}),e.jsx(W,{children:e.jsx(Me,{variant:u.is_read?"success":"secondary",children:u.is_read?"Yes":"No"})}),e.jsx(W,{children:e.jsx(Me,{variant:u.sent?"success":"secondary",children:u.sent?"Yes":"No"})}),e.jsx(W,{children:new Date(u.created_at).toLocaleString()}),e.jsx(W,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(K,{size:"icon","aria-label":"Edit",variant:"ghost",children:e.jsx(ca,{className:"w-3 h-3"})}),e.jsx(K,{size:"icon",variant:"ghost","aria-label":"Delete",onClick:()=>l(u.id),children:e.jsx(Sm,{className:"w-3 h-3 text-red-500"})})]})})]},u.id)),!a&&t.length===0&&e.jsx(ke,{children:e.jsx(W,{colSpan:7,className:"text-center py-6 text-muted-foreground",children:"No notifications found"})}),a&&e.jsx(ke,{children:e.jsx(W,{colSpan:7,className:"text-center py-6 text-muted-foreground",children:"Loading..."})})]})]})}),s&&e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",s.from,"",s.to," of ",s.total]})]})}function Ade(){const[t,s]=y.useState([]),[a,n]=y.useState(null),[r,i]=y.useState(!1),[l,d]=y.useState({page:1}),u=y.useCallback(async()=>{try{i(!0);const p=(await xe.get("/admin/otps",{params:{page:l.page}})).data?.otps;s(p?.data||[]),n({current_page:p?.current_page,last_page:p?.last_page,from:p?.from,to:p?.to,total:p?.total})}catch(h){console.error("Failed to fetch OTPs:",h),s([]),n(null)}finally{i(!1)}},[l.page]);return y.useEffect(()=>{u()},[u]),{otps:t,meta:a,loading:r,filters:l,setFilters:d,refresh:u}}function Tde(){const{otps:t,meta:s,loading:a,filters:n,setFilters:r,refresh:i}=Ade(),l=d=>new Date(d)<new Date;return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"OTPs"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(K,{variant:"outline",onClick:i,children:[e.jsx(mu,{className:"w-4 h-4 mr-2"}),"Refresh"]}),s&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(K,{size:"icon",variant:"outline","aria-label":"Previous Page",disabled:s.current_page===1,onClick:()=>r({...n,page:s.current_page-1}),children:e.jsx(yo,{className:"w-4 h-4"})}),e.jsxs("span",{className:"text-sm",children:["Page ",s.current_page," of ",s.last_page]}),e.jsx(K,{size:"icon",variant:"outline","aria-label":"Next Page",disabled:s.current_page===s.last_page,onClick:()=>r({...n,page:s.current_page+1}),children:e.jsx(sn,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"border rounded-xl bg-card",children:e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"ID"}),e.jsx(Z,{children:"Phone Number"}),e.jsx(Z,{children:"OTP Code"}),e.jsx(Z,{children:"Created At"}),e.jsx(Z,{children:"Expires At"}),e.jsx(Z,{children:"Status"})]})}),e.jsxs(Nt,{children:[t.map(d=>{const u=l(d.expires_at);return e.jsxs(ke,{children:[e.jsx(W,{children:d.id}),e.jsx(W,{children:d.phone_number}),e.jsx(W,{className:"font-mono",children:d.code}),e.jsx(W,{children:new Date(d.created_at).toLocaleString()}),e.jsx(W,{children:new Date(d.expires_at).toLocaleString()}),e.jsx(W,{children:e.jsx(Me,{variant:u?"destructive":"default",children:u?"Expired":"Active"})})]},d.id)}),!a&&t.length===0&&e.jsx(ke,{children:e.jsx(W,{colSpan:6,className:"text-center py-6 text-muted-foreground",children:"No OTPs found"})}),a&&e.jsx(ke,{children:e.jsx(W,{colSpan:6,className:"text-center py-6 text-muted-foreground",children:"Loading..."})})]})]})}),s&&e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",s.from,"",s.to," of ",s.total]})]})}function Dde(){const[t,s]=y.useState([]),[a,n]=y.useState([]),[r,i]=y.useState(!0),[l,d]=y.useState({broker_id:"all",is_active:"all"}),[u,h]=y.useState({open:!1,title:"",message:"",onConfirm:null}),[p,f]=y.useState({open:!1,type:null,item:null}),[x,v]=y.useState({code:"",broker_id:"",description:"",max_uses:"",commission_percentage:"",is_active:!0,expires_at:"",username:"",phone_number:"",email:"",password:"",password_confirmation:"",first_name:"",last_name:""}),j=y.useCallback(async()=>{i(!0);try{const A={per_page:100};l.broker_id!=="all"&&(A.broker_id=l.broker_id),l.is_active!=="all"&&(A.is_active=l.is_active);const F=await O3(A),M=F.data?.data??F.data?.promo_codes??F.data;s(Array.isArray(M)?M:[])}catch(A){console.error(A),se.error("Failed to load promo codes"),s([])}finally{i(!1)}},[l.broker_id,l.is_active]),w=y.useCallback(async()=>{try{const A=await bm({role:"broker",per_page:200}),F=A.data?.users?.data??A.data?.users??A.data?.data;n(Array.isArray(F)?F:[])}catch(A){console.error(A),n([])}},[]);y.useEffect(()=>{j()},[j]),y.useEffect(()=>{w()},[w]);const _=A=>{h({open:!0,title:"Delete Promo Code",message:`Are you sure you want to delete "${A.code}"?`,onConfirm:async()=>{try{await F3(A.id),se.success("Promo code deleted"),j()}catch(F){se.error(F.response?.data?.message||"Delete failed")}}})},N=A=>{v({code:A.code??"",broker_id:A.broker_id?String(A.broker_id):"",description:A.description??"",max_uses:A.max_uses??"",commission_percentage:A.commission_percentage??"",is_active:A.is_active!==!1,expires_at:A.expires_at?A.expires_at.slice(0,10):""}),f({open:!0,type:"edit",item:A})},k=()=>{v({code:"",broker_id:"",description:"",max_uses:"",commission_percentage:"",is_active:!0,expires_at:""}),f({open:!0,type:"create",item:null})},D=()=>{v({username:"",phone_number:"",email:"",password:"",password_confirmation:"",first_name:"",last_name:""}),f({open:!0,type:"create-broker",item:null})},T=async()=>{try{const A={code:x.code.trim(),broker_id:x.broker_id?parseInt(x.broker_id,10):null,description:x.description.trim()||null,max_uses:x.max_uses?parseInt(x.max_uses,10):null,commission_percentage:x.commission_percentage?parseFloat(x.commission_percentage):0,is_active:x.is_active,expires_at:x.expires_at||null};p.type==="edit"?(await B3(p.item.id,A),se.success("Promo code updated")):(await L3(A),se.success("Promo code created")),f({open:!1,type:null,item:null}),j()}catch(A){const F=A.response?.data?.message||A.response?.data?.errors&&Object.values(A.response.data.errors).flat().join(" ")||"Failed";se.error(F)}},E=async()=>{try{await S1({username:x.username.trim(),phone_number:x.phone_number.trim(),email:x.email.trim()||void 0,password:x.password,password_confirmation:x.password_confirmation,first_name:x.first_name.trim(),last_name:x.last_name.trim()}),se.success("Broker created"),f({open:!1,type:null,item:null}),w(),j()}catch(A){const F=A.response?.data?.message||A.response?.data?.errors&&Object.values(A.response.data.errors).flat().join(" ")||"Failed";se.error(F)}},G=Array.isArray(t)?t:[];return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Promo Codes"}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs(K,{onClick:k,children:[e.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Create Promo Code"]}),e.jsxs(K,{variant:"outline",onClick:D,children:[e.jsx(fs,{className:"w-4 h-4 mr-2"}),"Create Broker"]}),e.jsxs(Je,{value:l.broker_id,onValueChange:A=>d(F=>({...F,broker_id:A})),children:[e.jsx(Qe,{className:"w-[180px]",children:e.jsx(et,{placeholder:"Broker"})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"all",children:"All brokers"}),a.map(A=>e.jsx(de,{value:String(A.id),children:A.username||[A.first_name,A.last_name].filter(Boolean).join(" ")||`#${A.id}`},A.id))]})]}),e.jsxs(Je,{value:l.is_active,onValueChange:A=>d(F=>({...F,is_active:A})),children:[e.jsx(Qe,{className:"w-[130px]",children:e.jsx(et,{placeholder:"Status"})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"all",children:"All"}),e.jsx(de,{value:"true",children:"Active"}),e.jsx(de,{value:"false",children:"Inactive"})]})]})]}),e.jsx(K,{variant:"outline",size:"icon",onClick:j,"aria-label":"Refresh",children:e.jsx(_t,{className:"w-4 h-4"})})]}),e.jsx(Te,{children:e.jsx(Re,{className:"p-0",children:e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"Code"}),e.jsx(Z,{children:"Broker"}),e.jsx(Z,{children:"Description"}),e.jsx(Z,{children:"Uses"}),e.jsx(Z,{children:"Commission %"}),e.jsx(Z,{children:"Status"}),e.jsx(Z,{children:"Expires"}),e.jsx(Z,{className:"w-[100px]",children:"Actions"})]})}),e.jsx(Nt,{children:r?e.jsx(ke,{children:e.jsx(W,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:"Loading..."})}):G.length===0?e.jsx(ke,{children:e.jsx(W,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:"No promo codes found"})}):G.map(A=>e.jsxs(ke,{children:[e.jsx(W,{className:"font-mono font-semibold",children:A.code}),e.jsx(W,{children:A.broker?A.broker.username||[A.broker.first_name,A.broker.last_name].filter(Boolean).join(" ")||"":"N/A"}),e.jsx(W,{className:"max-w-[200px] truncate",children:A.description||""}),e.jsxs(W,{children:[A.current_uses??0," / ",A.max_uses??""]}),e.jsxs(W,{children:[A.commission_percentage??0,"%"]}),e.jsx(W,{children:e.jsx(Me,{variant:A.is_active?"default":"secondary",children:A.is_active?"Active":"Inactive"})}),e.jsx(W,{children:A.expires_at?new Date(A.expires_at).toLocaleDateString():"No expiry"}),e.jsx(W,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(K,{variant:"ghost",size:"icon",onClick:()=>N(A),"aria-label":"Edit",children:e.jsx(ca,{className:"w-4 h-4"})}),e.jsx(K,{variant:"ghost",size:"icon",onClick:()=>_(A),"aria-label":"Delete",className:"text-destructive",children:e.jsx(Ks,{className:"w-4 h-4"})})]})})]},A.id))})]})})}),e.jsx(Va,{open:p.open&&(p.type==="create"||p.type==="edit"),onOpenChange:A=>!A&&f({open:!1,type:null,item:null}),children:e.jsxs(Ra,{className:"max-w-md",children:[e.jsx(Ma,{children:e.jsx(Pa,{children:p.type==="edit"?"Edit Promo Code":"Create Promo Code"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(q,{children:"Code"}),e.jsx(oe,{value:x.code,onChange:A=>v(F=>({...F,code:A.target.value})),placeholder:"PROMO20",disabled:p.type==="edit"})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Broker"}),e.jsxs(Je,{value:x.broker_id,onValueChange:A=>v(F=>({...F,broker_id:A})),children:[e.jsx(Qe,{children:e.jsx(et,{placeholder:"Select broker"})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"",children:"None"}),a.map(A=>e.jsx(de,{value:String(A.id),children:A.username||`#${A.id}`},A.id))]})]})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Description (optional)"}),e.jsx(oe,{value:x.description,onChange:A=>v(F=>({...F,description:A.target.value})),placeholder:"Description"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(q,{children:"Max uses (optional)"}),e.jsx(oe,{type:"number",min:0,value:x.max_uses,onChange:A=>v(F=>({...F,max_uses:A.target.value})),placeholder:""})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Commission %"}),e.jsx(oe,{type:"number",min:0,step:.01,value:x.commission_percentage,onChange:A=>v(F=>({...F,commission_percentage:A.target.value}))})]})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Expires at (optional)"}),e.jsx(oe,{type:"date",value:x.expires_at,onChange:A=>v(F=>({...F,expires_at:A.target.value}))})]}),p.type==="edit"&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"active",checked:x.is_active,onChange:A=>v(F=>({...F,is_active:A.target.checked}))}),e.jsx(q,{htmlFor:"active",children:"Active"})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(K,{variant:"outline",onClick:()=>f({open:!1,type:null,item:null}),children:"Cancel"}),e.jsx(K,{onClick:T,children:p.type==="edit"?"Update":"Create"})]})]})]})}),e.jsx(Va,{open:p.open&&p.type==="create-broker",onOpenChange:A=>!A&&f({open:!1,type:null,item:null}),children:e.jsxs(Ra,{className:"max-w-md",children:[e.jsx(Ma,{children:e.jsx(Pa,{children:"Create Broker"})}),e.jsxs("div",{className:"space-y-4",children:[["username","first_name","last_name","phone_number","email","password","password_confirmation"].map(A=>e.jsxs("div",{children:[e.jsx(q,{children:A.replace(/_/g," ")}),e.jsx(oe,{type:A.includes("password")?"password":"text",value:x[A],onChange:F=>v(M=>({...M,[A]:F.target.value})),placeholder:A,required:["username","first_name","last_name","phone_number","password","password_confirmation"].includes(A)})]},A)),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(K,{variant:"outline",onClick:()=>f({open:!1,type:null,item:null}),children:"Cancel"}),e.jsx(K,{onClick:E,children:"Create Broker"})]})]})]})}),e.jsx(Vx,{open:u.open,onOpenChange:A=>h(F=>({...F,open:A})),children:e.jsxs(Hm,{children:[e.jsxs(qm,{children:[e.jsx(Wm,{children:u.title}),e.jsx(Ym,{children:u.message})]}),e.jsxs(Gm,{children:[e.jsx(Xm,{children:"Cancel"}),e.jsx(Km,{onClick:u.onConfirm,children:"Confirm"})]})]})})]})}function Bd(t){return t?.username||[t?.first_name,t?.last_name].filter(Boolean).join(" ")||`Broker #${t?.id}`}function Ede(){const[t,s]=y.useState([]),[a,n]=y.useState({data:[]}),[r,i]=y.useState(!0),[l,d]=y.useState(null),[u,h]=y.useState("overview"),[p,f]=y.useState(null),[x,v]=y.useState({data:[],statistics:{}}),[j,w]=y.useState({data:[]}),[_,N]=y.useState([]),[k,D]=y.useState("all"),[T,E]=y.useState({open:!1,title:"",message:"",onConfirm:null}),[G,A]=y.useState({open:!1,type:null}),[F,M]=y.useState({username:"",phone_number:"",email:"",password:"",password_confirmation:"",first_name:"",last_name:"",broker_id:"",amount:"",reference:"",notes:""}),J=y.useCallback(async()=>{i(!0);try{const L=await bm({role:"broker",per_page:200}),$=L.data?.users?.data??L.data?.users??L.data?.data;s(Array.isArray($)?$:[])}catch(L){console.error(L),se.error("Failed to load brokers"),s([])}finally{i(!1)}},[]),R=y.useCallback(async()=>{try{const L=await V3({per_page:100}),$=L.data?.data??L.data?.commissions??L.data;n({data:Array.isArray($)?$:[]})}catch{n({data:[]})}},[]),ee=y.useCallback(async L=>{if(d(L),h("overview"),!!L?.id)try{const[$,z,ie,le]=await Promise.all([I3(L.id).catch(()=>({data:null})),Kg(L.id).catch(()=>({data:{data:[],statistics:{}}})),$3(L.id).catch(()=>({data:{payouts:{data:[]}}})),Ej(L.id).catch(()=>({data:{referrals:[]}}))]);f($.data);const ne=z.data?.commissions?.data??z.data?.commissions;v({data:Array.isArray(ne)?ne:[],statistics:z.data?.statistics||{}});const fe=ie.data?.payouts?.data??ie.data?.data??ie.data;w({data:Array.isArray(fe)?fe:[]});const Ne=le.data?.referrals??le.data?.data??le.data;N(Array.isArray(Ne)?Ne:[])}catch{se.error("Failed to load broker detail")}},[]),Y=()=>{d(null),f(null),v({data:[],statistics:{}}),w({data:[]}),N([])},re=async L=>{if(l?.id){D(L);try{const $=await Kg(l.id,{status:L==="all"?void 0:L}),z=$.data?.commissions?.data??$.data?.commissions;v({data:Array.isArray(z)?z:[],statistics:$.data?.statistics||{}})}catch($){console.error($)}}};y.useEffect(()=>{J(),R()},[J,R]);const te=async()=>{try{await S1({username:F.username.trim(),phone_number:F.phone_number.trim(),email:F.email.trim()||void 0,password:F.password,password_confirmation:F.password_confirmation,first_name:F.first_name.trim(),last_name:F.last_name.trim()}),se.success("Broker created"),A({open:!1,type:null}),J()}catch(L){se.error(L.response?.data?.message||"Failed")}},V=async()=>{try{await z3({broker_id:parseInt(F.broker_id,10),amount:parseFloat(F.amount)*100,reference:F.reference.trim()||void 0,notes:F.notes.trim()||void 0}),se.success("Payout created"),A({open:!1,type:null}),l?.id&&ee(l),R()}catch(L){se.error(L.response?.data?.message||"Payout failed")}},U=L=>{E({open:!0,title:"Cancel commission",message:"Are you sure?",onConfirm:async()=>{try{await U3(L.id),se.success("Commission cancelled"),l?.id&&re(k),R()}catch($){se.error($.response?.data?.message||"Failed")}}})},H=L=>{E({open:!0,title:"Delete referral",message:"Remove this referral?",onConfirm:async()=>{try{await H3(L.id),se.success("Referral deleted"),l?.id&&ee(l)}catch($){se.error($.response?.data?.message||"Failed")}}})};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Brokers"}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(K,{variant:"outline",onClick:()=>{M({username:"",phone_number:"",email:"",password:"",password_confirmation:"",first_name:"",last_name:""}),A({open:!0,type:"create-broker"})},children:[e.jsx(fs,{className:"w-4 h-4 mr-2"})," Create Broker"]}),e.jsxs(K,{onClick:()=>{M({broker_id:l?.id?String(l.id):"",amount:p?.balance!=null?String(p.balance):"",reference:"",notes:""}),A({open:!0,type:"create-payout"})},children:[e.jsx(Bs,{className:"w-4 h-4 mr-2"})," Create Payout"]})]}),e.jsx(K,{variant:"outline",size:"icon",onClick:()=>{J(),R()},"aria-label":"Refresh",children:e.jsx(_t,{className:"w-4 h-4"})})]}),l?e.jsxs(Te,{children:[e.jsxs(rs,{className:"flex flex-row items-center justify-between",children:[e.jsxs(is,{className:"flex items-center gap-2",children:[e.jsx(fs,{className:"w-5 h-5"}),Bd(l)]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(K,{variant:"outline",size:"sm",onClick:()=>{M({broker_id:String(l.id),amount:p?.balance?String(p.balance):"",reference:"",notes:""}),A({open:!0,type:"create-payout"})},children:[e.jsx(Bs,{className:"w-4 h-4 mr-1"})," Pay broker"]}),e.jsxs(K,{variant:"ghost",size:"sm",onClick:Y,children:[e.jsx(yo,{className:"w-4 h-4 mr-1"})," Close"]})]})]}),e.jsx(Re,{children:e.jsxs(uo,{value:u,onValueChange:h,children:[e.jsxs(ki,{className:"grid w-full grid-cols-4",children:[e.jsx(Pt,{value:"overview",children:"Overview"}),e.jsx(Pt,{value:"commissions",children:"Commissions"}),e.jsx(Pt,{value:"payouts",children:"Payouts"}),e.jsx(Pt,{value:"referrals",children:"Referrals"})]}),e.jsx($t,{value:"overview",className:"space-y-4 mt-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(Te,{children:e.jsxs(Re,{className:"pt-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Balance"}),e.jsxs("p",{className:"text-2xl font-bold text-primary",children:["$",(p?.balance??0).toFixed(2)]})]})}),e.jsx(Te,{children:e.jsxs(Re,{className:"pt-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total commissions"}),e.jsxs("p",{className:"text-2xl font-bold",children:["$",(p?.total_commissions??x.statistics?.total_commissions??0).toFixed(2)]})]})}),e.jsx(Te,{children:e.jsxs(Re,{className:"pt-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total payouts"}),e.jsxs("p",{className:"text-2xl font-bold",children:["$",(p?.total_payouts??x.statistics?.total_payouts??0).toFixed(2)]})]})})]})}),e.jsxs($t,{value:"commissions",className:"mt-4",children:[e.jsx("div",{className:"flex gap-2 mb-4",children:["all","pending","paid","cancelled"].map(L=>e.jsx(K,{variant:k===L?"default":"outline",size:"sm",onClick:()=>re(L),children:L.charAt(0).toUpperCase()+L.slice(1)},L))}),e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"ID"}),e.jsx(Z,{children:"Referred user"}),e.jsx(Z,{children:"Promo"}),e.jsx(Z,{children:"Amount"}),e.jsx(Z,{children:"Commission"}),e.jsx(Z,{children:"Status"}),e.jsx(Z,{children:"Actions"})]})}),e.jsx(Nt,{children:(x.data||[]).map(L=>e.jsxs(ke,{children:[e.jsx(W,{children:L.id}),e.jsx(W,{children:L.referredUser?Bd(L.referredUser):L.referred_user_id}),e.jsx(W,{children:L.promoCode?.code||""}),e.jsxs(W,{children:["$",Number(L.booking_amount||0).toFixed(2)]}),e.jsxs(W,{children:["$",Number(L.commission_amount||0).toFixed(2)," (",L.commission_percentage,"%)"]}),e.jsx(W,{children:e.jsx(Me,{variant:L.status==="paid"?"default":L.status==="cancelled"?"secondary":"outline",children:L.status})}),e.jsx(W,{children:L.status==="pending"&&e.jsx(K,{variant:"ghost",size:"sm",onClick:()=>U(L),children:"Cancel"})})]},L.id))})]})]}),e.jsx($t,{value:"payouts",className:"mt-4",children:e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"Reference"}),e.jsx(Z,{children:"Amount"}),e.jsx(Z,{children:"Paid at"}),e.jsx(Z,{children:"Description"})]})}),e.jsx(Nt,{children:(j.data||[]).map(L=>e.jsxs(ke,{children:[e.jsx(W,{className:"font-mono text-xs",children:L.reference_id||L.id}),e.jsxs(W,{children:["$",((L.amount||0)/100).toFixed(2)]}),e.jsx(W,{children:L.paid_at?new Date(L.paid_at).toLocaleString():""}),e.jsx(W,{children:L.description||L.metadata?.reference||""})]},L.id))})]})}),e.jsx($t,{value:"referrals",className:"mt-4",children:e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"ID"}),e.jsx(Z,{children:"Referred user"}),e.jsx(Z,{children:"Promo"}),e.jsx(Z,{children:"Actions"})]})}),e.jsx(Nt,{children:(_||[]).map(L=>e.jsxs(ke,{children:[e.jsx(W,{children:L.id}),e.jsx(W,{children:L.referredUser?Bd(L.referredUser):L.referred_user_id}),e.jsx(W,{children:L.promoCode?.code||""}),e.jsx(W,{children:e.jsx(K,{variant:"ghost",size:"sm",className:"text-destructive",onClick:()=>H(L),children:"Delete"})})]},L.id))})]})})]})})]}):e.jsxs(e.Fragment,{children:[e.jsxs(Te,{children:[e.jsxs(rs,{children:[e.jsx(is,{children:"Brokers"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Click Manage to view balance, commissions, payouts, and referrals."})]}),e.jsx(Re,{className:"p-0",children:e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"ID"}),e.jsx(Z,{children:"Username"}),e.jsx(Z,{children:"Name"}),e.jsx(Z,{children:"Phone"}),e.jsx(Z,{children:"Actions"})]})}),e.jsx(Nt,{children:r?e.jsx(ke,{children:e.jsx(W,{colSpan:5,className:"text-center py-8",children:"Loading..."})}):t.length===0?e.jsx(ke,{children:e.jsx(W,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"No brokers found"})}):t.map(L=>e.jsxs(ke,{children:[e.jsx(W,{children:L.id}),e.jsx(W,{children:L.username}),e.jsx(W,{children:[L.first_name,L.last_name].filter(Boolean).join(" ")||""}),e.jsx(W,{children:L.phone_number||""}),e.jsx(W,{children:e.jsx(K,{variant:"outline",size:"sm",onClick:()=>ee(L),children:"Manage"})})]},L.id))})]})})]}),e.jsxs(Te,{children:[e.jsx(rs,{children:e.jsx(is,{children:"All broker commissions"})}),e.jsx(Re,{className:"p-0",children:e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"ID"}),e.jsx(Z,{children:"Broker"}),e.jsx(Z,{children:"Referred user"}),e.jsx(Z,{children:"Promo"}),e.jsx(Z,{children:"Amount"}),e.jsx(Z,{children:"Status"})]})}),e.jsx(Nt,{children:(a.data||[]).map(L=>e.jsxs(ke,{children:[e.jsx(W,{children:L.id}),e.jsx(W,{children:L.broker?Bd(L.broker):L.broker_id}),e.jsx(W,{children:L.referredUser?Bd(L.referredUser):""}),e.jsx(W,{children:L.promoCode?.code||""}),e.jsxs(W,{children:["$",Number(L.commission_amount||0).toFixed(2)]}),e.jsx(W,{children:e.jsx(Me,{variant:L.status==="paid"?"default":L.status==="cancelled"?"secondary":"outline",children:L.status})})]},L.id))})]})})]})]}),e.jsx(Va,{open:G.open&&G.type==="create-broker",onOpenChange:L=>!L&&A({open:!1,type:null}),children:e.jsxs(Ra,{className:"max-w-md",children:[e.jsx(Ma,{children:e.jsx(Pa,{children:"Create Broker"})}),e.jsxs("div",{className:"space-y-4",children:[["username","first_name","last_name","phone_number","email","password","password_confirmation"].map(L=>e.jsxs("div",{children:[e.jsx(q,{children:L.replace(/_/g," ")}),e.jsx(oe,{type:L.includes("password")?"password":"text",value:F[L],onChange:$=>M(z=>({...z,[L]:$.target.value}))})]},L)),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(K,{variant:"outline",onClick:()=>A({open:!1,type:null}),children:"Cancel"}),e.jsx(K,{onClick:te,children:"Create"})]})]})]})}),e.jsx(Va,{open:G.open&&G.type==="create-payout",onOpenChange:L=>!L&&A({open:!1,type:null}),children:e.jsxs(Ra,{className:"max-w-md",children:[e.jsx(Ma,{children:e.jsx(Pa,{children:"Create Payout"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(q,{children:"Broker"}),e.jsxs("select",{className:"w-full border rounded-md px-3 py-2",value:F.broker_id,onChange:L=>M($=>({...$,broker_id:L.target.value})),children:[e.jsx("option",{value:"",children:"Select broker"}),t.map(L=>e.jsx("option",{value:L.id,children:Bd(L)},L.id))]})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Amount ($)"}),e.jsx(oe,{type:"number",step:.01,value:F.amount,onChange:L=>M($=>({...$,amount:L.target.value}))})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Reference (optional)"}),e.jsx(oe,{value:F.reference,onChange:L=>M($=>({...$,reference:L.target.value}))})]}),e.jsxs("div",{children:[e.jsx(q,{children:"Notes (optional)"}),e.jsx(oe,{value:F.notes,onChange:L=>M($=>({...$,notes:L.target.value}))})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(K,{variant:"outline",onClick:()=>A({open:!1,type:null}),children:"Cancel"}),e.jsx(K,{onClick:V,children:"Create Payout"})]})]})]})}),e.jsx(Vx,{open:T.open,onOpenChange:L=>E($=>({...$,open:L})),children:e.jsxs(Hm,{children:[e.jsxs(qm,{children:[e.jsx(Wm,{children:T.title}),e.jsx(Ym,{children:T.message})]}),e.jsxs(Gm,{children:[e.jsx(Xm,{children:"Cancel"}),e.jsx(Km,{onClick:T.onConfirm,children:"Confirm"})]})]})})]})}function Rde(){const[t,s]=y.useState([]),[a,n]=y.useState([]),[r,i]=y.useState([]),[l,d]=y.useState([]),[u,h]=y.useState(!1),[p,f]=y.useState(""),[x,v]=y.useState({services:{search:"",category:"all"},thirdParties:{search:""}}),[j,w]=y.useState({open:!1,title:"",message:"",onConfirm:null}),_=y.useCallback(async()=>{h(!0);try{const M={};x.services.search&&(M.search=x.services.search),x.services.category!=="all"&&(M.category=x.services.category);const J=await q3({...M,per_page:100}),R=J.data?.data??J.data?.services??J.data;s(Array.isArray(R)?R:[])}catch(M){console.error(M),se.error("Failed to load services"),s([])}finally{h(!1)}},[x.services.search,x.services.category]),N=y.useCallback(async()=>{h(!0);try{const M=await K3({per_page:100}),J=M.data?.data??M.data?.third_parties??M.data;n(Array.isArray(J)?J:[])}catch(M){console.error(M),se.error("Failed to load third parties"),n([])}finally{h(!1)}},[]),k=y.useCallback(async M=>{if(!M){i([]);return}h(!0);try{const J=await W3(parseInt(M,10)),R=J.data?.data??J.data?.items??J.data;i(Array.isArray(R)?R:[])}catch(J){console.error(J),i([])}finally{h(!1)}},[]),D=y.useCallback(async()=>{h(!0);try{const M=await Q3({per_page:100}),J=M.data?.data??M.data?.feedbacks??M.data;d(Array.isArray(J)?J:[])}catch(M){console.error(M),se.error("Failed to load feedbacks"),d([])}finally{h(!1)}},[]);y.useEffect(()=>{_()},[_]),y.useEffect(()=>{p?k(p):i([])},[p,k]);const T=(M,J,R)=>{w({open:!0,title:M,message:J,onConfirm:R})},E=M=>{T("Delete Service",`Delete "${M.name}"?`,async()=>{try{await G3(M.id),se.success("Service deleted"),_()}catch(J){se.error(J.response?.data?.message||"Failed")}})},G=M=>{T("Delete Third Party","Are you sure?",async()=>{try{await X3(M.id),se.success("Third party deleted"),N()}catch(J){se.error(J.response?.data?.message||"Failed")}})},A=M=>{T("Delete Item",`Delete "${M.name}"?`,async()=>{try{await Y3(M.id),se.success("Item deleted"),p&&k(p)}catch(J){se.error(J.response?.data?.message||"Failed")}})},F=M=>{T("Delete Feedback","Are you sure?",async()=>{try{await Z3(M.id),se.success("Feedback deleted"),D()}catch(J){se.error(J.response?.data?.message||"Failed")}})};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Services"}),e.jsxs(uo,{defaultValue:"services-list",className:"w-full",children:[e.jsxs(ki,{className:"grid w-full grid-cols-4 mb-4",children:[e.jsxs(Pt,{value:"services-list",children:[e.jsx(Rc,{className:"w-4 h-4 mr-1"})," Services"]}),e.jsxs(Pt,{value:"third-parties",onClick:()=>N(),children:[e.jsx(sm,{className:"w-4 h-4 mr-1"})," Third Parties"]}),e.jsxs(Pt,{value:"service-items",children:[e.jsx(pi,{className:"w-4 h-4 mr-1"})," Service Items"]}),e.jsxs(Pt,{value:"service-feedbacks",onClick:()=>D(),children:[e.jsx(Ur,{className:"w-4 h-4 mr-1"})," Feedbacks"]})]}),e.jsxs($t,{value:"services-list",className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(oe,{placeholder:"Search services...",value:x.services.search,onChange:M=>v(J=>({...J,services:{...J.services,search:M.target.value}})),className:"w-48"}),e.jsxs(Je,{value:x.services.category,onValueChange:M=>v(J=>({...J,services:{...J.services,category:M}})),children:[e.jsx(Qe,{className:"w-40",children:e.jsx(et,{placeholder:"Category"})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"all",children:"All"}),e.jsx(de,{value:"transport",children:"Transport"}),e.jsx(de,{value:"accommodation",children:"Accommodation"}),e.jsx(de,{value:"food",children:"Food"}),e.jsx(de,{value:"entertainment",children:"Entertainment"}),e.jsx(de,{value:"other",children:"Other"})]})]}),e.jsx(K,{variant:"outline",size:"icon",onClick:_,"aria-label":"Refresh",children:e.jsx(_t,{className:"w-4 h-4"})})]}),e.jsx(Te,{children:e.jsx(Re,{className:"p-0",children:e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"ID"}),e.jsx(Z,{children:"Name"}),e.jsx(Z,{children:"Owner"}),e.jsx(Z,{children:"Category"}),e.jsx(Z,{children:"Price"}),e.jsx(Z,{children:"Rating"}),e.jsx(Z,{children:"Featured"}),e.jsx(Z,{children:"Actions"})]})}),e.jsx(Nt,{children:u?e.jsx(ke,{children:e.jsx(W,{colSpan:8,className:"text-center py-8",children:"Loading..."})}):t.length===0?e.jsx(ke,{children:e.jsx(W,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:"No services found"})}):t.map(M=>e.jsxs(ke,{children:[e.jsx(W,{children:M.id}),e.jsx(W,{className:"font-medium",children:M.name}),e.jsx(W,{children:M.third_party?M.third_party.name||M.third_party.email:M.third_party_id||""}),e.jsx(W,{children:e.jsx(Me,{variant:"outline",children:M.category||""})}),e.jsxs(W,{children:["$",(parseFloat(M.price)||0).toFixed(2)]}),e.jsx(W,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ys,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}),M.rating?Number(M.rating).toFixed(1):"N/A"]})}),e.jsx(W,{children:e.jsx(Me,{variant:M.featured?"default":"secondary",children:M.featured?"Yes":"No"})}),e.jsx(W,{children:e.jsx(K,{variant:"ghost",size:"sm",className:"text-destructive",onClick:()=>E(M),children:e.jsx(Ks,{className:"w-4 h-4"})})})]},M.id))})]})})})]}),e.jsxs($t,{value:"third-parties",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oe,{placeholder:"Search third parties...",value:x.thirdParties.search,onChange:M=>v(J=>({...J,thirdParties:{...J.thirdParties,search:M.target.value}})),className:"w-64"}),e.jsx(K,{variant:"outline",size:"icon",onClick:N,"aria-label":"Refresh",children:e.jsx(_t,{className:"w-4 h-4"})})]}),e.jsx(Te,{children:e.jsx(Re,{className:"p-0",children:e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"ID"}),e.jsx(Z,{children:"Name"}),e.jsx(Z,{children:"Contact"}),e.jsx(Z,{children:"Category"}),e.jsx(Z,{children:"City"}),e.jsx(Z,{children:"Subscription"}),e.jsx(Z,{children:"Created"}),e.jsx(Z,{children:"Actions"})]})}),e.jsx(Nt,{children:u?e.jsx(ke,{children:e.jsx(W,{colSpan:8,className:"text-center py-8",children:"Loading..."})}):a.length===0?e.jsx(ke,{children:e.jsx(W,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:"No third parties found"})}):a.map(M=>e.jsxs(ke,{children:[e.jsx(W,{children:M.id}),e.jsx(W,{className:"font-medium",children:M.name}),e.jsx(W,{children:M.email||M.phone||""}),e.jsx(W,{children:e.jsx(Me,{variant:"outline",children:M.category||""})}),e.jsx(W,{children:M.city||""}),e.jsx(W,{children:M.subscription_status||""}),e.jsx(W,{children:M.created_at?new Date(M.created_at).toLocaleDateString():""}),e.jsx(W,{children:e.jsx(K,{variant:"ghost",size:"sm",className:"text-destructive",onClick:()=>G(M),children:e.jsx(Ks,{className:"w-4 h-4"})})})]},M.id))})]})})})]}),e.jsxs($t,{value:"service-items",className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs(Je,{value:p,onValueChange:M=>f(M),children:[e.jsx(Qe,{className:"w-64",children:e.jsx(et,{placeholder:"Select a service to view items"})}),e.jsx(Ze,{children:t.map(M=>e.jsx(de,{value:String(M.id),children:M.name},M.id))})]}),p&&e.jsx(K,{variant:"outline",size:"icon",onClick:()=>k(p),"aria-label":"Refresh",children:e.jsx(_t,{className:"w-4 h-4"})})]}),p?e.jsxs(Te,{children:[e.jsx(rs,{children:e.jsxs(is,{children:["Items for Service #",p]})}),e.jsx(Re,{className:"p-0",children:e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"ID"}),e.jsx(Z,{children:"Name"}),e.jsx(Z,{children:"Description"}),e.jsx(Z,{children:"Price"}),e.jsx(Z,{children:"Actions"})]})}),e.jsx(Nt,{children:u?e.jsx(ke,{children:e.jsx(W,{colSpan:5,className:"text-center py-8",children:"Loading..."})}):r.length===0?e.jsx(ke,{children:e.jsx(W,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"No items found"})}):r.map(M=>e.jsxs(ke,{children:[e.jsx(W,{children:M.id}),e.jsx(W,{className:"font-medium",children:M.name}),e.jsx(W,{className:"max-w-xs truncate",children:M.description||"N/A"}),e.jsxs(W,{children:["$",(parseFloat(M.price)||0).toFixed(2)]}),e.jsx(W,{children:e.jsx(K,{variant:"ghost",size:"sm",className:"text-destructive",onClick:()=>A(M),children:e.jsx(Ks,{className:"w-4 h-4"})})})]},M.id))})]})})]}):e.jsx(Te,{children:e.jsxs(Re,{className:"py-12 text-center text-muted-foreground",children:[e.jsx(pi,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Select a service from the dropdown above"})]})})]}),e.jsxs($t,{value:"service-feedbacks",className:"space-y-4",children:[e.jsx(K,{variant:"outline",size:"icon",onClick:D,"aria-label":"Refresh",children:e.jsx(_t,{className:"w-4 h-4"})}),e.jsx(Te,{children:e.jsx(Re,{className:"p-0",children:e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"ID"}),e.jsx(Z,{children:"Service"}),e.jsx(Z,{children:"User"}),e.jsx(Z,{children:"Rating"}),e.jsx(Z,{children:"Comment"}),e.jsx(Z,{children:"Created"}),e.jsx(Z,{children:"Actions"})]})}),e.jsx(Nt,{children:u?e.jsx(ke,{children:e.jsx(W,{colSpan:7,className:"text-center py-8",children:"Loading..."})}):l.length===0?e.jsx(ke,{children:e.jsx(W,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"No feedbacks found"})}):l.map(M=>e.jsxs(ke,{children:[e.jsx(W,{children:M.id}),e.jsx(W,{children:M.service?.name||M.service_id}),e.jsx(W,{children:M.user?.name||M.user_id}),e.jsx(W,{children:e.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((J,R)=>e.jsx(Ys,{className:`w-4 h-4 ${R<(M.rating||0)?"text-yellow-500 fill-yellow-500":"text-gray-300"}`},R))})}),e.jsx(W,{className:"max-w-xs truncate",children:M.comment||"N/A"}),e.jsx(W,{children:M.created_at?new Date(M.created_at).toLocaleDateString():""}),e.jsx(W,{children:e.jsx(K,{variant:"ghost",size:"sm",className:"text-destructive",onClick:()=>F(M),children:e.jsx(Ks,{className:"w-4 h-4"})})})]},M.id))})]})})})]})]}),e.jsx(Vx,{open:j.open,onOpenChange:M=>w(J=>({...J,open:M})),children:e.jsxs(Hm,{children:[e.jsxs(qm,{children:[e.jsx(Wm,{children:j.title}),e.jsx(Ym,{children:j.message})]}),e.jsxs(Gm,{children:[e.jsx(Xm,{children:"Cancel"}),e.jsx(Km,{onClick:j.onConfirm,children:"Confirm"})]})]})})]})}const dL="https://rento-lb.com/api/storage/",uL="/avatar.png",Mde=20;function Pde(t,s=null){if(!t)return s;if(t.startsWith("http"))return t;const a=t.startsWith("/")?t.slice(1):t;return dL+a}function Ode(t){return t?String(t).toLowerCase().split("?")[0].endsWith(".pdf"):!1}const yc=360,bc=260,nl=120,Wp=2.5;function Lde({src:t,alt:s,className:a=""}){const[n,r]=y.useState(!1),[i,l]=y.useState({x:0,y:0}),d=y.useRef(null),u=w=>{if(!d.current)return;const _=d.current.getBoundingClientRect(),N=(w.clientX-_.left)/_.width,k=(w.clientY-_.top)/_.height;l({x:Math.max(0,Math.min(1,N)),y:Math.max(0,Math.min(1,k))})},h=i.x*yc,p=i.y*bc,f=-(h*Wp-nl/2),x=-(p*Wp-nl/2),v=Math.max(0,Math.min(yc-nl,i.x*yc-nl/2)),j=Math.max(0,Math.min(bc-nl,i.y*bc-nl/2));return e.jsxs("div",{ref:d,className:`relative overflow-hidden rounded-md border cursor-crosshair ${a}`,style:{width:yc,height:bc},onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),onMouseMove:u,children:[e.jsx("img",{src:t,alt:s,className:"w-full h-full object-contain",style:{width:yc,height:bc},draggable:!1,onError:w=>{w.currentTarget.onerror=null,w.currentTarget.src="/avatar.png"}}),n&&e.jsx("div",{className:"absolute pointer-events-none rounded-full border-2 border-white shadow-xl bg-no-repeat",style:{width:nl,height:nl,left:v,top:j,backgroundImage:`url(${t})`,backgroundSize:`${yc*Wp}px ${bc*Wp}px`,backgroundPosition:`${f}px ${x}px`}})]})}function vv({title:t,path:s,fallback:a=null}){const n=Pde(s,a);if(!n)return e.jsx("div",{className:"text-sm text-muted-foreground",children:"N/A"});if(Ode(n)){const r=`${n}#toolbar=0&navpanes=0&scrollbar=0`;return e.jsx("iframe",{title:t,src:r,className:"w-full rounded-md border bg-white",style:{width:yc,height:bc}})}return e.jsx(Lde,{src:n,alt:t})}function Bde(t){const s=t?.profile_picture;if(!s)return uL;if(s.startsWith("http"))return s;const a=s.startsWith("/")?s.slice(1):s;return dL+a}function Fde(){const[t,s]=y.useState([]),[a,n]=y.useState({current_page:1,last_page:1,total:0}),[r,i]=y.useState(!0),[l,d]=y.useState(1),[u,h]=y.useState(""),[p,f]=y.useState("all"),[x,v]=y.useState(!1),[j,w]=y.useState(null),[_,N]=y.useState(null),[k,D]=y.useState({first_name:"",middle_name:"",last_name:"",id_number:"",passport_number:"",driver_license_number:"",gender:"",date_of_birth:"",mother_name:"",place_of_birth:""}),[T,E]=y.useState(null),[G,A]=y.useState(!1),F=async()=>{i(!0);try{const L={page:l,per_page:Mde};p&&p!=="all"&&(L.role=p),u?.trim()&&(L.search=u.trim());const $=await bm(L),z=$.data?.users||$.data,ie=z?.data||[];s(ie),n({current_page:z.current_page??1,last_page:z.last_page??1,total:z.total??0})}catch(L){se.error(L.response?.data?.message||"Failed to load users"),s([])}finally{i(!1)}};y.useEffect(()=>{F()},[l,p]);const M=()=>{d(1),F()},J=async L=>{w(L),v(!0),N(null),E(null),D({first_name:"",middle_name:"",last_name:"",id_number:"",passport_number:"",driver_license_number:"",gender:"",date_of_birth:"",mother_name:"",place_of_birth:""});try{const $=await Cie(L.id),z=$.data?.user||$.data;N(z);try{const ie=await Yie(L.id),le=ie.data?.data??ie.data?.real_user_data;le&&(E(le),D({first_name:le.first_name||"",middle_name:le.middle_name||"",last_name:le.last_name||"",id_number:le.id_number||"",passport_number:le.passport_number||"",driver_license_number:le.driver_license_number||"",gender:le.gender||"",date_of_birth:le.date_of_birth||"",mother_name:le.mother_name||"",place_of_birth:le.place_of_birth||""}))}catch{}}catch{se.error("Failed to load user details")}},R=()=>{v(!1),w(null),N(null),E(null)},ee=L=>{const{name:$,value:z}=L.target;D(ie=>({...ie,[$]:z}))},Y=(L,$)=>{D(z=>({...z,[L]:$}))},re=async L=>{if(L.preventDefault(),!j)return;const $={...k};if(!$.first_name||!$.last_name||!$.gender){se.error("First name, last name, and gender are required");return}if(!!!($.id_number||$.passport_number||$.driver_license_number)){se.error("At least one of ID number, passport number, or driver license number is required");return}A(!0);try{await Kie(j.id,$),se.success("Real user data saved. User is now verified."),R(),F()}catch(ie){se.error(ie.response?.data?.message||"Failed to save")}finally{A(!1)}},te=async L=>{if(T?.id)try{await Xie(T.id,{status:L}),se.success(L==="approved"?"User verified.":"Status updated."),R(),F()}catch($){se.error($.response?.data?.message||"Failed to update status")}},V=async()=>{if(j&&confirm("Delete real user data for this user?"))try{await Qie(j.id),se.success("Real user data deleted."),R(),F()}catch(L){se.error(L.response?.data?.message||"Failed to delete")}},U=t,H=L=>L?.first_name&&L?.last_name?`${L.first_name} ${L.last_name}`:L?.username||L?.name||`User #${L?.id}`;return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Real User Data"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxs("div",{className:"relative flex-1 min-w-[200px] max-w-sm",children:[e.jsx(Ea,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(oe,{placeholder:"Search by name, email, phone, username...",value:u,onChange:L=>h(L.target.value),onKeyDown:L=>L.key==="Enter"&&M(),className:"pl-9"})]}),e.jsxs(Je,{value:p,onValueChange:L=>{f(L),d(1)},children:[e.jsx(Qe,{className:"w-36",children:e.jsx(et,{placeholder:"Role"})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"all",children:"All Roles"}),e.jsx(de,{value:"client",children:"Client"}),e.jsx(de,{value:"agency",children:"Agency"}),e.jsx(de,{value:"admin",children:"Admin"})]})]}),e.jsx(K,{variant:"outline",onClick:M,children:"Search"}),e.jsx(K,{variant:"outline",size:"icon",onClick:F,children:e.jsx(mu,{className:"h-4 w-4"})})]}),e.jsxs(Te,{children:[e.jsx(rs,{children:e.jsxs(is,{className:"flex items-center gap-2",children:[e.jsx(fs,{className:"w-5 h-5"}),"Users  select one to fill real user data"]})}),e.jsx(Re,{className:"p-0",children:r?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(Q2,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"ID"}),e.jsx(Z,{children:"User"}),e.jsx(Z,{children:"Name"}),e.jsx(Z,{children:"Phone"}),e.jsx(Z,{children:"Username"}),e.jsx(Z,{children:"Verified"}),e.jsx(Z,{className:"text-right",children:"Action"})]})}),e.jsxs(Nt,{children:[U.map(L=>e.jsxs(ke,{className:"hover:bg-muted/50",children:[e.jsx(W,{className:"font-medium",children:L.id}),e.jsx(W,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:Bde(L),alt:"",className:"h-8 w-8 rounded-full object-cover",onError:$=>{$.currentTarget.onerror=null,$.currentTarget.src=uL}}),e.jsx("span",{children:H(L)})]})}),e.jsx(W,{children:L.first_name&&L.last_name?`${L.first_name} ${L.last_name}`:""}),e.jsx(W,{children:L.phone_number||""}),e.jsx(W,{children:L.username||""}),e.jsx(W,{children:L.verified_by_admin?e.jsx(wg,{className:"h-4 w-4 text-green-600"}):e.jsx("span",{className:"text-muted-foreground",children:""})}),e.jsx(W,{className:"text-right",children:e.jsxs(K,{size:"sm",onClick:()=>J(L),style:{background:`linear-gradient(to right, ${qr.darkBlue}, ${qr.teal})`},className:"text-white",children:[e.jsx(ca,{className:"w-4 h-4 mr-2"}),"Fill Real Data"]})})]},L.id)),U.length===0&&e.jsx(ke,{children:e.jsx(W,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"No users found"})})]})]})})]}),a.last_page>1&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-muted-foreground",children:["Page ",a.current_page," of ",a.last_page,"  Total ",a.total]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(K,{variant:"outline",size:"sm",disabled:l<=1,onClick:()=>d(L=>L-1),children:"Previous"}),e.jsx(K,{variant:"outline",size:"sm",disabled:l>=a.last_page,onClick:()=>d(L=>L+1),children:"Next"})]})]}),e.jsx(go,{children:x&&j&&e.jsx(Va,{open:x,onOpenChange:L=>!L&&R(),children:e.jsxs(Ra,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Ma,{children:e.jsxs(Pa,{className:"flex items-center gap-2",children:[e.jsx(wg,{className:"w-5 h-5"}),"Real User Data  ",H(j)," (ID: ",j.id,")"]})}),e.jsxs("form",{onSubmit:re,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Hover over images to magnify and see details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(Te,{children:[e.jsx(rs,{children:e.jsxs(is,{className:"text-sm flex items-center gap-2",children:[e.jsx(mc,{className:"w-4 h-4"}),"ID Card  Front"]})}),e.jsx(Re,{children:e.jsx("div",{className:"w-full bg-muted rounded-lg flex items-center justify-center overflow-hidden border-2 border-dashed min-h-[260px]",children:_?.id_card_front?e.jsx(vv,{title:"ID Card Front",path:_.id_card_front}):e.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[e.jsx(mc,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"No Front ID"})]})})})]}),e.jsxs(Te,{children:[e.jsx(rs,{children:e.jsxs(is,{className:"text-sm flex items-center gap-2",children:[e.jsx(mc,{className:"w-4 h-4"}),"ID Card  Back"]})}),e.jsx(Re,{children:e.jsx("div",{className:"w-full bg-muted rounded-lg flex items-center justify-center overflow-hidden border-2 border-dashed min-h-[260px]",children:_?.id_card_back?e.jsx(vv,{title:"ID Card Back",path:_.id_card_back}):e.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[e.jsx(mc,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"No Back ID"})]})})})]}),e.jsxs(Te,{children:[e.jsx(rs,{children:e.jsxs(is,{className:"text-sm flex items-center gap-2",children:[e.jsx(mc,{className:"w-4 h-4"}),"Driver License"]})}),e.jsx(Re,{children:e.jsx("div",{className:"w-full bg-muted rounded-lg flex items-center justify-center overflow-hidden border-2 border-dashed min-h-[260px]",children:_?.client?.driver_license?e.jsx(vv,{title:"Driver License",path:_.client.driver_license}):e.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[e.jsx(mc,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"No License"})]})})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{htmlFor:"first_name",children:"First Name *"}),e.jsx(oe,{id:"first_name",name:"first_name",value:k.first_name,onChange:ee,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{htmlFor:"middle_name",children:"Middle Name"}),e.jsx(oe,{id:"middle_name",name:"middle_name",value:k.middle_name,onChange:ee})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{htmlFor:"last_name",children:"Last Name *"}),e.jsx(oe,{id:"last_name",name:"last_name",value:k.last_name,onChange:ee,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{htmlFor:"id_number",children:"ID Number"}),e.jsx(oe,{id:"id_number",name:"id_number",value:k.id_number,onChange:ee})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{htmlFor:"passport_number",children:"Passport Number"}),e.jsx(oe,{id:"passport_number",name:"passport_number",value:k.passport_number,onChange:ee})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{htmlFor:"driver_license_number",children:"Driver License Number"}),e.jsx(oe,{id:"driver_license_number",name:"driver_license_number",value:k.driver_license_number,onChange:ee})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{htmlFor:"gender",children:"Gender *"}),e.jsxs(Je,{value:k.gender,onValueChange:L=>Y("gender",L),children:[e.jsx(Qe,{children:e.jsx(et,{placeholder:"Select"})}),e.jsxs(Ze,{children:[e.jsx(de,{value:"male",children:"Male"}),e.jsx(de,{value:"female",children:"Female"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{htmlFor:"date_of_birth",children:"Date of Birth"}),e.jsx(oe,{id:"date_of_birth",name:"date_of_birth",type:"date",value:k.date_of_birth,onChange:ee})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{htmlFor:"mother_name",children:"Mother's Name"}),e.jsx(oe,{id:"mother_name",name:"mother_name",value:k.mother_name,onChange:ee})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(q,{htmlFor:"place_of_birth",children:"Place of Birth"}),e.jsx(oe,{id:"place_of_birth",name:"place_of_birth",value:k.place_of_birth,onChange:ee})]})]}),e.jsxs(KR,{className:"flex-wrap gap-2",children:[T&&e.jsxs(e.Fragment,{children:[T.status!=="approved"&&e.jsxs(K,{type:"button",onClick:()=>te("approved"),className:"bg-green-600 hover:bg-green-700",children:[e.jsx(Jn,{className:"h-4 w-4 mr-2"}),"Approve"]}),T.status!=="not_approved"&&e.jsxs(K,{type:"button",variant:"destructive",onClick:()=>te("not_approved"),children:[e.jsx(ea,{className:"h-4 w-4 mr-2"}),"Reject"]}),e.jsx(K,{type:"button",variant:"outline",onClick:V,className:"text-red-500",children:"Delete Real Data"})]}),e.jsx(K,{type:"button",variant:"outline",onClick:R,disabled:G,children:"Cancel"}),e.jsx(K,{type:"submit",disabled:G,style:{background:`linear-gradient(to right, ${qr.darkBlue}, ${qr.teal})`},className:"text-white",children:G?e.jsxs(e.Fragment,{children:[e.jsx(Q2,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(D7,{className:"w-4 h-4 mr-2"}),"Save Real Data"]})})]})]})]})})})]})}const Yp={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640"};function Ide(){const t=Ua(),[s,a]=y.useState(!1),[n,r]=y.useState([]),[i,l]=y.useState({totalAds:0,activeAds:0,totalViews:0,totalClicks:0,averageCTR:0});y.useEffect(()=>{d()},[]);const d=async()=>{a(!0);try{const f=(await xe.get("/admin/ads?per_page=100")).data?.ads||[];r(f);const x=f.filter(_=>{if(!_.online)return!1;const N=new Date,k=new Date(_.start_at),D=new Date(_.expire_at);return N>=k&&N<=D}),v=f.reduce((_,N)=>_+(N.nb_views||0),0),j=f.reduce((_,N)=>_+(N.nb_clicks||0),0),w=v>0?(j/v*100).toFixed(2):0;l({totalAds:f.length,activeAds:x.length,totalViews:v,totalClicks:j,averageCTR:parseFloat(w)})}catch(p){se.error(p.response?.data?.message||"Failed to fetch ads")}finally{a(!1)}},u=()=>{const p=[{key:"id",label:"ID"},{key:"website",label:"Website"},{key:"company_type",label:"Company Type"},{key:"nb_views",label:"Views"},{key:"nb_clicks",label:"Clicks"},{key:"ctr",label:"CTR (%)",transform:x=>{const v=x.nb_views||0,j=x.nb_clicks||0;return v>0?(j/v*100).toFixed(2):"0.00"}},{key:"online",label:"Status",transform:x=>x.online?"Online":"Offline"},{key:"start_at",label:"Start Date",transform:x=>new Date(x.start_at).toLocaleString()},{key:"expire_at",label:"Expire Date",transform:x=>new Date(x.expire_at).toLocaleString()}],f=n.map(x=>({...x,ctr:p.find(v=>v.key==="ctr")?.transform?.(x),online:p.find(v=>v.key==="online")?.transform?.(x),start_at:p.find(v=>v.key==="start_at")?.transform?.(x),expire_at:p.find(v=>v.key==="expire_at")?.transform?.(x)}));J3(f,p,"ads-analytics")},h=()=>{const p=[{key:"id",label:"ID"},{key:"website",label:"Website"},{key:"company_type",label:"Company Type"},{key:"nb_views",label:"Views"},{key:"nb_clicks",label:"Clicks"},{key:"ctr",label:"CTR (%)",transform:x=>{const v=x.nb_views||0,j=x.nb_clicks||0;return v>0?(j/v*100).toFixed(2):"0.00"}},{key:"online",label:"Status",transform:x=>x.online?"Online":"Offline"}],f=n.map(x=>({...x,ctr:p.find(v=>v.key==="ctr")?.transform?.(x),online:p.find(v=>v.key==="online")?.transform?.(x)}));eO(f,p,"Ads Analytics Report","ads-analytics")};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900 p-4 sm:p-6 lg:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(to right, ${Yp.darkBlue}, ${Yp.teal}, ${Yp.limeGreen})`},children:"Ads Analytics"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Track views, clicks, and performance metrics for all ads"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(K,{variant:"outline",onClick:u,children:[e.jsx(Zd,{className:"w-4 h-4 mr-2"}),"Export Excel"]}),e.jsxs(K,{variant:"outline",onClick:h,children:[e.jsx(Zd,{className:"w-4 h-4 mr-2"}),"Export PDF"]}),e.jsxs(K,{variant:"outline",onClick:()=>t("/admin-panel-page"),className:"flex items-center gap-2",children:[e.jsx(xi,{className:"w-4 h-4"}),"Back to Admin Panel"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-6",children:[e.jsxs(Te,{children:[e.jsxs(rs,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(is,{className:"text-sm font-medium",children:"Total Ads"}),e.jsx(Qd,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(Re,{children:e.jsx("div",{className:"text-2xl font-bold",children:i.totalAds})})]}),e.jsxs(Te,{children:[e.jsxs(rs,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(is,{className:"text-sm font-medium",children:"Active Ads"}),e.jsx(Rs,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(Re,{children:e.jsx("div",{className:"text-2xl font-bold",children:i.activeAds})})]}),e.jsxs(Te,{children:[e.jsxs(rs,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(is,{className:"text-sm font-medium",children:"Total Views"}),e.jsx(sa,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(Re,{children:e.jsx("div",{className:"text-2xl font-bold",children:i.totalViews.toLocaleString()})})]}),e.jsxs(Te,{children:[e.jsxs(rs,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(is,{className:"text-sm font-medium",children:"Total Clicks"}),e.jsx(_c,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(Re,{children:e.jsx("div",{className:"text-2xl font-bold",children:i.totalClicks.toLocaleString()})})]}),e.jsxs(Te,{children:[e.jsxs(rs,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(is,{className:"text-sm font-medium",children:"Avg CTR"}),e.jsx(bl,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(Re,{children:e.jsxs("div",{className:"text-2xl font-bold",children:[i.averageCTR,"%"]})})]})]}),e.jsxs(Te,{children:[e.jsx(rs,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(is,{children:"Ads Performance"}),e.jsx(K,{variant:"outline",size:"icon",onClick:d,disabled:s,children:e.jsx(_t,{className:`w-4 h-4 ${s?"animate-spin":""}`})})]})}),e.jsx(Re,{children:s?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(_t,{className:"w-8 h-8 animate-spin",style:{color:Yp.teal}})}):n.length===0?e.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[e.jsx(Qd,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No ads found"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(jt,{children:[e.jsx(wt,{children:e.jsxs(ke,{children:[e.jsx(Z,{children:"ID"}),e.jsx(Z,{children:"Website"}),e.jsx(Z,{children:"Company Type"}),e.jsx(Z,{children:"Views"}),e.jsx(Z,{children:"Clicks"}),e.jsx(Z,{children:"CTR (%)"}),e.jsx(Z,{children:"Status"}),e.jsx(Z,{children:"Start Date"}),e.jsx(Z,{children:"Expire Date"})]})}),e.jsx(Nt,{children:n.map(p=>{const f=p.nb_views||0,x=p.nb_clicks||0,v=f>0?(x/f*100).toFixed(2):"0.00",j=p.online&&new Date>=new Date(p.start_at)&&new Date<=new Date(p.expire_at);return e.jsxs(ke,{children:[e.jsx(W,{className:"font-medium",children:p.id}),e.jsx(W,{children:p.website||"N/A"}),e.jsx(W,{children:p.company_type||"N/A"}),e.jsx(W,{children:f.toLocaleString()}),e.jsx(W,{children:x.toLocaleString()}),e.jsx(W,{children:e.jsxs("span",{className:`font-semibold ${parseFloat(v)>2?"text-green-600":parseFloat(v)>1?"text-yellow-600":"text-gray-600"}`,children:[v,"%"]})}),e.jsx(W,{children:j?e.jsx(Me,{variant:"default",children:"Active"}):e.jsx(Me,{variant:"secondary",children:"Inactive"})}),e.jsx(W,{children:new Date(p.start_at).toLocaleDateString()}),e.jsx(W,{children:new Date(p.expire_at).toLocaleDateString()})]},p.id)})})]})})})]})]})})}const $de=async()=>{try{return(await xe.get("/ads")).data?.ads||[]}catch(t){return console.error("Error fetching active ads:",t),[]}},zde=async t=>{try{await xe.post(`/ads/${t}/view`)}catch(s){console.error("Error tracking ad view:",s)}},Vde=async t=>{try{await xe.post(`/ads/${t}/click`)}catch(s){console.error("Error tracking ad click:",s)}};function jv(){const[t,s]=y.useState(!1),[a,n]=y.useState(null);y.useEffect(()=>{if(sessionStorage.getItem("adsPopupShown"))return;const d=async()=>{try{const h=await $de();if(h.length>0){const p=h[Math.floor(Math.random()*h.length)];n(p),s(!0),p.id&&await zde(p.id)}}catch(h){console.error("Error fetching ads:",h)}},u=setTimeout(()=>{d()},2e4);return()=>clearTimeout(u)},[]);const r=()=>{s(!1),sessionStorage.setItem("adsPopupShown","true")},i=async()=>{if(a?.id)try{await Vde(a.id)}catch(l){console.error("Error tracking ad click:",l)}finally{a.target_url&&window.open(a.target_url,"_blank")}};return!t||!a?null:e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-fade-in",children:e.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-lg shadow-2xl max-w-2xl w-full mx-4 animate-scale-in",children:[e.jsx(K,{variant:"ghost",size:"icon",onClick:r,className:"absolute top-2 right-2 z-10",children:e.jsx(ea,{className:"w-5 h-5"})}),e.jsxs("div",{className:"p-6",children:[a.image_url&&e.jsx("div",{className:"cursor-pointer mb-4 rounded-lg overflow-hidden",onClick:i,children:e.jsx("img",{src:a.image_url.startsWith("http")?a.image_url:`/api/storage/${a.image_url}`,alt:a.ads_text||"Advertisement",className:"w-full h-auto object-contain max-h-96"})}),a.ads_text&&e.jsx("div",{className:"text-center cursor-pointer",onClick:i,children:e.jsx("p",{className:"text-lg font-semibold mb-2",children:a.ads_text})}),a.target_url&&e.jsx("div",{className:"mt-4 text-center",children:e.jsx(K,{onClick:i,className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white",children:"Visit Website"})})]})]})})}const J4="https://rento-lb.com/watch",Ude="https://rento-lb.com/hero.mp4",hL="https://images.unsplash.com/photo-1492144534655-ae79c964c9d7?w=1280&q=80",Hde={"@context":"https://schema.org","@type":"VideoObject","@id":`${J4}#video`,name:"Rento LB  Rent a Car in Lebanon",description:"Premium car rental in Lebanon. Compare and book from agencies and private owners.",thumbnailUrl:hL,uploadDate:"2024-01-01T00:00:00Z",contentUrl:Ude,embedUrl:J4,publisher:{"@id":"https://rento-lb.com/#organization"}};function qde(){const t=Ua();return y.useEffect(()=>{document.title="Watch  Rento LB | Car Rental Lebanon";const s=document.createElement("script");return s.type="application/ld+json",s.setAttribute("data-watch-page-schema","true"),s.textContent=JSON.stringify(Hde),document.head.appendChild(s),()=>{const a=document.querySelector('script[data-watch-page-schema="true"]');a&&document.head.removeChild(a)}},[]),e.jsxs("div",{className:"min-h-screen bg-black",children:[e.jsx("div",{className:"absolute top-4 left-4 z-10",children:e.jsxs(K,{variant:"secondary",size:"sm",onClick:()=>t("/"),className:"gap-2",children:[e.jsx(xi,{className:"w-4 h-4"}),"Back to Home"]})}),e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:[e.jsx("h1",{className:"sr-only",children:"Rento LB  Rent a Car in Lebanon"}),e.jsxs("video",{className:"w-full max-w-4xl rounded-lg shadow-2xl",controls:!0,autoPlay:!0,playsInline:!0,poster:hL,src:"/hero.mp4",children:[e.jsx("source",{src:"/hero.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]}),e.jsx("p",{className:"mt-4 text-white/80 text-sm text-center max-w-lg",children:"Premium car rental in Lebanon. Compare and book from trusted agencies and private owners."})]})]})}const mL=async()=>{try{return(await xe.get("/profile/status")).data.is_complete}catch(t){return console.error("Profile status check failed:",t),!1}},Gde=({children:t})=>!localStorage.getItem("authToken")?e.jsx(oo,{to:"/auth",replace:!0}):t,uc=({children:t})=>{const[s,a]=y.useState(!0),[n,r]=y.useState(!1),i=!!localStorage.getItem("authToken");return y.useEffect(()=>{(async()=>{if(!i){a(!1);return}const d=await mL();r(d),a(!1)})()},[i]),i?s?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n?t:e.jsx(oo,{to:"/Complete-Profile",replace:!0}):e.jsx(oo,{to:"/auth",replace:!0})},hc=({children:t})=>{const[s,a]=y.useState(!0),[n,r]=y.useState(!1),i=!!localStorage.getItem("authToken"),l=JSON.parse(localStorage.getItem("user")||"{}");return y.useEffect(()=>{(async()=>{if(!i){a(!1);return}const u=await mL();r(u),a(!1)})()},[i]),i?l.role!=="agency"&&l.role!=="agent"?e.jsx(oo,{to:"/",replace:!0}):s?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n?t:e.jsx(oo,{to:"/Complete-Profile",replace:!0}):e.jsx(oo,{to:"/auth",replace:!0})},wv=({children:t})=>{const s=!!localStorage.getItem("authToken"),a=JSON.parse(localStorage.getItem("user")||"{}");return s?a.role!=="admin"?e.jsx(oo,{to:"/admin-auth",replace:!0}):t:e.jsx(oo,{to:"/admin-auth",replace:!0})},Ka=({children:t,noIndex:s=!1})=>e.jsxs(e.Fragment,{children:[e.jsx(bee,{noIndex:s}),e.jsx(zV,{}),t,e.jsx(ED,{})]});function Wde(){const{i18n:t}=O8(),s=Tr();return y.useEffect(()=>{const a=localStorage.getItem("language")||"en";document.documentElement.lang=a,document.documentElement.dir=a==="ar"?"rtl":"ltr"},[]),y.useEffect(()=>{typeof window.fbq=="function"&&window.fbq("track","PageView")},[s.pathname]),e.jsxs("div",{className:"min-h-screen",children:[e.jsxs(PF,{children:[e.jsx(Mt,{path:"/",element:e.jsxs(e.Fragment,{children:[e.jsx(Ka,{children:e.jsx(IG,{})}),e.jsx(jv,{})]})}),e.jsx(Mt,{path:"/auth",element:e.jsx(Ka,{noIndex:!0,children:e.jsx(OG,{})})}),e.jsx(Mt,{path:"/about",element:e.jsx(Ka,{children:e.jsx(HW,{})})}),e.jsx(Mt,{path:"/contact",element:e.jsx(Ka,{children:e.jsx(qW,{})})}),e.jsx(Mt,{path:"/watch",element:e.jsx(qde,{})}),e.jsx(Mt,{path:"/mobile-app",element:e.jsx(Ka,{children:e.jsx(nie,{})})}),e.jsx(Mt,{path:"/Privacy-Policy",element:e.jsx(Jre,{})}),e.jsx(Mt,{path:"/Terms-and-Conditions",element:e.jsx(tie,{})}),e.jsx(Mt,{path:"/admin-auth",element:e.jsx(Ka,{noIndex:!0,children:e.jsx(Poe,{})})}),e.jsx(Mt,{path:"/admin-panel-page",element:e.jsx(wv,{children:e.jsx(Ka,{noIndex:!0,children:e.jsx(_oe,{})})})}),e.jsx(Mt,{path:"/admin/ads-analytics",element:e.jsx(wv,{children:e.jsx(Ka,{noIndex:!0,children:e.jsx(Ide,{})})})}),e.jsxs(Mt,{path:"/admin",element:e.jsx(wv,{children:e.jsx(Cce,{})}),children:[e.jsx(Mt,{index:!0,element:e.jsx(Dce,{})}),e.jsx(Mt,{path:"users",element:e.jsx(Lce,{})}),e.jsx(Mt,{path:"cars",element:e.jsx(Yce,{})}),e.jsx(Mt,{path:"bookings",element:e.jsx(ade,{})}),e.jsx(Mt,{path:"real-user-data",element:e.jsx(Fde,{})}),e.jsx(Mt,{path:"payments",element:e.jsx(hde,{})}),e.jsx(Mt,{path:"promo-codes",element:e.jsx(Dde,{})}),e.jsx(Mt,{path:"brokers",element:e.jsx(Ede,{})}),e.jsx(Mt,{path:"ads",element:e.jsx(gde,{})}),e.jsx(Mt,{path:"featured",element:e.jsx(xde,{})}),e.jsx(Mt,{path:"holidays",element:e.jsx(bde,{})}),e.jsx(Mt,{path:"announcements",element:e.jsx(jde,{})}),e.jsx(Mt,{path:"appeals",element:e.jsx(Nde,{})}),e.jsx(Mt,{path:"suggestions",element:e.jsx(Cde,{})}),e.jsx(Mt,{path:"services",element:e.jsx(Rde,{})}),e.jsx(Mt,{path:"notifications",element:e.jsx(Sde,{})}),e.jsx(Mt,{path:"otps",element:e.jsx(Tde,{})})]}),e.jsx(Mt,{path:"/Complete-Profile",element:e.jsx(Gde,{children:e.jsx(Ka,{noIndex:!0,children:e.jsx(wee,{})})})}),e.jsx(Mt,{path:"/Dashboard",element:e.jsx(hc,{children:e.jsx(nc,{children:e.jsx(xee,{})})})}),e.jsx(Mt,{path:"/Statistic",element:e.jsx(hc,{children:e.jsx(nc,{children:e.jsx(Zre,{})})})}),e.jsx(Mt,{path:"/Mycars",element:e.jsx(hc,{children:e.jsx(nc,{children:e.jsx(WJ,{})})})}),e.jsx(Mt,{path:"/Mycars-bookings",element:e.jsx(hc,{children:e.jsx(nc,{children:e.jsx(dee,{})})})}),e.jsx(Mt,{path:"/Balance",element:e.jsx(hc,{children:e.jsx(nc,{children:e.jsx(yee,{})})})}),e.jsx(Mt,{path:"/add-car",element:e.jsx(hc,{children:e.jsx(nc,{children:e.jsx(rK,{})})})}),e.jsx(Mt,{path:"/Add/car/qualification",element:e.jsx(hc,{children:e.jsx(nc,{children:e.jsx(gee,{})})})}),e.jsx(Mt,{path:"/BookingChat",element:e.jsx(uc,{children:e.jsx(Ka,{children:e.jsx(aee,{})})})}),e.jsx(Mt,{path:"/client-Chat",element:e.jsx(uc,{children:e.jsx(Ka,{children:e.jsx(_ee,{})})})}),e.jsx(Mt,{path:"/socialmedia",element:e.jsx(Ka,{children:e.jsx(hee,{})})}),e.jsx(Mt,{path:"/cars",element:e.jsxs(e.Fragment,{children:[e.jsx(uc,{children:e.jsx(Ka,{children:e.jsx(Uk,{})})}),e.jsx(jv,{})]})}),e.jsx(Mt,{path:"/ClientBookings",element:e.jsx(uc,{children:e.jsx(Ka,{children:e.jsx(QY,{})})})}),e.jsx(Mt,{path:"/luxury-car-rental-lebanon",element:e.jsxs(e.Fragment,{children:[e.jsx(uc,{children:e.jsx(Ka,{children:e.jsx(Uk,{})})}),e.jsx(jv,{})]})}),e.jsx(Mt,{path:"/cars/:id",element:e.jsx(uc,{children:e.jsx(Ka,{children:e.jsx(zW,{})})})}),e.jsx(Mt,{path:"/favorites",element:e.jsx(uc,{children:e.jsx(Ka,{children:e.jsx(UW,{})})})}),e.jsx(Mt,{path:"*",element:e.jsx(oo,{to:"/",replace:!0})})]}),e.jsx(H9,{position:"top-right",richColors:!0})]})}function Yde(){return e.jsx("div",{className:"App",children:e.jsx(n9,{children:e.jsx(Wde,{})})})}W6.createRoot(document.getElementById("root")).render(qe.createElement(qe.StrictMode,null,qe.createElement(Yde)));
