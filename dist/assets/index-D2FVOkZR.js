function J6(t,s){for(var a=0;a<s.length;a++){const n=s[a];if(typeof n!="string"&&!Array.isArray(n)){for(const r in n)if(r!=="default"&&!(r in t)){const i=Object.getOwnPropertyDescriptor(n,r);i&&Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:()=>n[r]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const s=document.createElement("link").relList;if(s&&s.supports&&s.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const l of i.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&n(l)}).observe(document,{childList:!0,subtree:!0});function a(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=a(r);fetch(r.href,i)}})();function rx(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var nb={exports:{}},Bt={};var n2;function e8(){if(n2)return Bt;n2=1;var t=Symbol.for("react.transitional.element"),s=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),r=Symbol.for("react.profiler"),i=Symbol.for("react.consumer"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),p=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),y=Symbol.iterator;function v(z){return z===null||typeof z!="object"?null:(z=y&&z[y]||z["@@iterator"],typeof z=="function"?z:null)}var j={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},N=Object.assign,w={};function _(z,ie,le){this.props=z,this.context=ie,this.refs=w,this.updater=le||j}_.prototype.isReactComponent={},_.prototype.setState=function(z,ie){if(typeof z!="object"&&typeof z!="function"&&z!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,z,ie,"setState")},_.prototype.forceUpdate=function(z){this.updater.enqueueForceUpdate(this,z,"forceUpdate")};function T(){}T.prototype=_.prototype;function R(z,ie,le){this.props=z,this.context=ie,this.refs=w,this.updater=le||j}var E=R.prototype=new T;E.constructor=R,N(E,_.prototype),E.isPureReactComponent=!0;var A=Array.isArray;function V(){}var k={H:null,A:null,T:null,S:null},B=Object.prototype.hasOwnProperty;function P(z,ie,le){var re=le.ref;return{$$typeof:t,type:z,key:ie,ref:re!==void 0?re:null,props:le}}function H(z,ie){return P(z.type,ie,z.props)}function D(z){return typeof z=="object"&&z!==null&&z.$$typeof===t}function K(z){var ie={"=":"=0",":":"=2"};return"$"+z.replace(/[=:]/g,function(le){return ie[le]})}var X=/\/+/g;function ne(z,ie){return typeof z=="object"&&z!==null&&z.key!=null?K(""+z.key):ie.toString(36)}function te(z){switch(z.status){case"fulfilled":return z.value;case"rejected":throw z.reason;default:switch(typeof z.status=="string"?z.then(V,V):(z.status="pending",z.then(function(ie){z.status==="pending"&&(z.status="fulfilled",z.value=ie)},function(ie){z.status==="pending"&&(z.status="rejected",z.reason=ie)})),z.status){case"fulfilled":return z.value;case"rejected":throw z.reason}}throw z}function U(z,ie,le,re,fe){var we=typeof z;(we==="undefined"||we==="boolean")&&(z=null);var ye=!1;if(z===null)ye=!0;else switch(we){case"bigint":case"string":case"number":ye=!0;break;case"object":switch(z.$$typeof){case t:case s:ye=!0;break;case p:return ye=z._init,U(ye(z._payload),ie,le,re,fe)}}if(ye)return fe=fe(z),ye=re===""?"."+ne(z,0):re,A(fe)?(le="",ye!=null&&(le=ye.replace(X,"$&/")+"/"),U(fe,ie,le,"",function(Ye){return Ye})):fe!=null&&(D(fe)&&(fe=H(fe,le+(fe.key==null||z&&z.key===fe.key?"":(""+fe.key).replace(X,"$&/")+"/")+ye)),ie.push(fe)),1;ye=0;var Be=re===""?".":re+":";if(A(z))for(var ke=0;ke<z.length;ke++)re=z[ke],we=Be+ne(re,ke),ye+=U(re,ie,le,we,fe);else if(ke=v(z),typeof ke=="function")for(z=ke.call(z),ke=0;!(re=z.next()).done;)re=re.value,we=Be+ne(re,ke++),ye+=U(re,ie,le,we,fe);else if(we==="object"){if(typeof z.then=="function")return U(te(z),ie,le,re,fe);throw ie=String(z),Error("Objects are not valid as a React child (found: "+(ie==="[object Object]"?"object with keys {"+Object.keys(z).join(", ")+"}":ie)+"). If you meant to render a collection of children, use an array instead.")}return ye}function q(z,ie,le){if(z==null)return z;var re=[],fe=0;return U(z,re,"","",function(we){return ie.call(le,we,fe++)}),re}function G(z){if(z._status===-1){var ie=z._result;ie=ie(),ie.then(function(le){(z._status===0||z._status===-1)&&(z._status=1,z._result=le)},function(le){(z._status===0||z._status===-1)&&(z._status=2,z._result=le)}),z._status===-1&&(z._status=0,z._result=ie)}if(z._status===1)return z._result.default;throw z._result}var F=typeof reportError=="function"?reportError:function(z){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var ie=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof z=="object"&&z!==null&&typeof z.message=="string"?String(z.message):String(z),error:z});if(!window.dispatchEvent(ie))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",z);return}console.error(z)},M={map:q,forEach:function(z,ie,le){q(z,function(){ie.apply(this,arguments)},le)},count:function(z){var ie=0;return q(z,function(){ie++}),ie},toArray:function(z){return q(z,function(ie){return ie})||[]},only:function(z){if(!D(z))throw Error("React.Children.only expected to receive a single React element child.");return z}};return Bt.Activity=f,Bt.Children=M,Bt.Component=_,Bt.Fragment=a,Bt.Profiler=r,Bt.PureComponent=R,Bt.StrictMode=n,Bt.Suspense=u,Bt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=k,Bt.__COMPILER_RUNTIME={__proto__:null,c:function(z){return k.H.useMemoCache(z)}},Bt.cache=function(z){return function(){return z.apply(null,arguments)}},Bt.cacheSignal=function(){return null},Bt.cloneElement=function(z,ie,le){if(z==null)throw Error("The argument must be a React element, but you passed "+z+".");var re=N({},z.props),fe=z.key;if(ie!=null)for(we in ie.key!==void 0&&(fe=""+ie.key),ie)!B.call(ie,we)||we==="key"||we==="__self"||we==="__source"||we==="ref"&&ie.ref===void 0||(re[we]=ie[we]);var we=arguments.length-2;if(we===1)re.children=le;else if(1<we){for(var ye=Array(we),Be=0;Be<we;Be++)ye[Be]=arguments[Be+2];re.children=ye}return P(z.type,fe,re)},Bt.createContext=function(z){return z={$$typeof:l,_currentValue:z,_currentValue2:z,_threadCount:0,Provider:null,Consumer:null},z.Provider=z,z.Consumer={$$typeof:i,_context:z},z},Bt.createElement=function(z,ie,le){var re,fe={},we=null;if(ie!=null)for(re in ie.key!==void 0&&(we=""+ie.key),ie)B.call(ie,re)&&re!=="key"&&re!=="__self"&&re!=="__source"&&(fe[re]=ie[re]);var ye=arguments.length-2;if(ye===1)fe.children=le;else if(1<ye){for(var Be=Array(ye),ke=0;ke<ye;ke++)Be[ke]=arguments[ke+2];fe.children=Be}if(z&&z.defaultProps)for(re in ye=z.defaultProps,ye)fe[re]===void 0&&(fe[re]=ye[re]);return P(z,we,fe)},Bt.createRef=function(){return{current:null}},Bt.forwardRef=function(z){return{$$typeof:d,render:z}},Bt.isValidElement=D,Bt.lazy=function(z){return{$$typeof:p,_payload:{_status:-1,_result:z},_init:G}},Bt.memo=function(z,ie){return{$$typeof:h,type:z,compare:ie===void 0?null:ie}},Bt.startTransition=function(z){var ie=k.T,le={};k.T=le;try{var re=z(),fe=k.S;fe!==null&&fe(le,re),typeof re=="object"&&re!==null&&typeof re.then=="function"&&re.then(V,F)}catch(we){F(we)}finally{ie!==null&&le.types!==null&&(ie.types=le.types),k.T=ie}},Bt.unstable_useCacheRefresh=function(){return k.H.useCacheRefresh()},Bt.use=function(z){return k.H.use(z)},Bt.useActionState=function(z,ie,le){return k.H.useActionState(z,ie,le)},Bt.useCallback=function(z,ie){return k.H.useCallback(z,ie)},Bt.useContext=function(z){return k.H.useContext(z)},Bt.useDebugValue=function(){},Bt.useDeferredValue=function(z,ie){return k.H.useDeferredValue(z,ie)},Bt.useEffect=function(z,ie){return k.H.useEffect(z,ie)},Bt.useEffectEvent=function(z){return k.H.useEffectEvent(z)},Bt.useId=function(){return k.H.useId()},Bt.useImperativeHandle=function(z,ie,le){return k.H.useImperativeHandle(z,ie,le)},Bt.useInsertionEffect=function(z,ie){return k.H.useInsertionEffect(z,ie)},Bt.useLayoutEffect=function(z,ie){return k.H.useLayoutEffect(z,ie)},Bt.useMemo=function(z,ie){return k.H.useMemo(z,ie)},Bt.useOptimistic=function(z,ie){return k.H.useOptimistic(z,ie)},Bt.useReducer=function(z,ie,le){return k.H.useReducer(z,ie,le)},Bt.useRef=function(z){return k.H.useRef(z)},Bt.useState=function(z){return k.H.useState(z)},Bt.useSyncExternalStore=function(z,ie,le){return k.H.useSyncExternalStore(z,ie,le)},Bt.useTransition=function(){return k.H.useTransition()},Bt.version="19.2.1",Bt}var r2;function Cm(){return r2||(r2=1,nb.exports=e8()),nb.exports}var x=Cm();const We=rx(x),zj=J6({__proto__:null,default:We},[x]);var rb={exports:{}},wh={},ib={exports:{}},ob={};var i2;function t8(){return i2||(i2=1,(function(t){function s(U,q){var G=U.length;U.push(q);e:for(;0<G;){var F=G-1>>>1,M=U[F];if(0<r(M,q))U[F]=q,U[G]=M,G=F;else break e}}function a(U){return U.length===0?null:U[0]}function n(U){if(U.length===0)return null;var q=U[0],G=U.pop();if(G!==q){U[0]=G;e:for(var F=0,M=U.length,z=M>>>1;F<z;){var ie=2*(F+1)-1,le=U[ie],re=ie+1,fe=U[re];if(0>r(le,G))re<M&&0>r(fe,le)?(U[F]=fe,U[re]=G,F=re):(U[F]=le,U[ie]=G,F=ie);else if(re<M&&0>r(fe,G))U[F]=fe,U[re]=G,F=re;else break e}}return q}function r(U,q){var G=U.sortIndex-q.sortIndex;return G!==0?G:U.id-q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,d=l.now();t.unstable_now=function(){return l.now()-d}}var u=[],h=[],p=1,f=null,y=3,v=!1,j=!1,N=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,R=typeof setImmediate<"u"?setImmediate:null;function E(U){for(var q=a(h);q!==null;){if(q.callback===null)n(h);else if(q.startTime<=U)n(h),q.sortIndex=q.expirationTime,s(u,q);else break;q=a(h)}}function A(U){if(N=!1,E(U),!j)if(a(u)!==null)j=!0,V||(V=!0,K());else{var q=a(h);q!==null&&te(A,q.startTime-U)}}var V=!1,k=-1,B=5,P=-1;function H(){return w?!0:!(t.unstable_now()-P<B)}function D(){if(w=!1,V){var U=t.unstable_now();P=U;var q=!0;try{e:{j=!1,N&&(N=!1,T(k),k=-1),v=!0;var G=y;try{t:{for(E(U),f=a(u);f!==null&&!(f.expirationTime>U&&H());){var F=f.callback;if(typeof F=="function"){f.callback=null,y=f.priorityLevel;var M=F(f.expirationTime<=U);if(U=t.unstable_now(),typeof M=="function"){f.callback=M,E(U),q=!0;break t}f===a(u)&&n(u),E(U)}else n(u);f=a(u)}if(f!==null)q=!0;else{var z=a(h);z!==null&&te(A,z.startTime-U),q=!1}}break e}finally{f=null,y=G,v=!1}q=void 0}}finally{q?K():V=!1}}}var K;if(typeof R=="function")K=function(){R(D)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,ne=X.port2;X.port1.onmessage=D,K=function(){ne.postMessage(null)}}else K=function(){_(D,0)};function te(U,q){k=_(function(){U(t.unstable_now())},q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):B=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_next=function(U){switch(y){case 1:case 2:case 3:var q=3;break;default:q=y}var G=y;y=q;try{return U()}finally{y=G}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(U,q){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var G=y;y=U;try{return q()}finally{y=G}},t.unstable_scheduleCallback=function(U,q,G){var F=t.unstable_now();switch(typeof G=="object"&&G!==null?(G=G.delay,G=typeof G=="number"&&0<G?F+G:F):G=F,U){case 1:var M=-1;break;case 2:M=250;break;case 5:M=1073741823;break;case 4:M=1e4;break;default:M=5e3}return M=G+M,U={id:p++,callback:q,priorityLevel:U,startTime:G,expirationTime:M,sortIndex:-1},G>F?(U.sortIndex=G,s(h,U),a(u)===null&&U===a(h)&&(N?(T(k),k=-1):N=!0,te(A,G-F))):(U.sortIndex=M,s(u,U),j||v||(j=!0,V||(V=!0,K()))),U},t.unstable_shouldYield=H,t.unstable_wrapCallback=function(U){var q=y;return function(){var G=y;y=q;try{return U.apply(this,arguments)}finally{y=G}}}})(ob)),ob}var o2;function s8(){return o2||(o2=1,ib.exports=t8()),ib.exports}var lb={exports:{}},Qa={};var l2;function a8(){if(l2)return Qa;l2=1;var t=Cm();function s(u){var h="https://react.dev/errors/"+u;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+u+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function a(){}var n={d:{f:a,r:function(){throw Error(s(522))},D:a,C:a,L:a,m:a,X:a,S:a,M:a},p:0,findDOMNode:null},r=Symbol.for("react.portal");function i(u,h,p){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:r,key:f==null?null:""+f,children:u,containerInfo:h,implementation:p}}var l=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function d(u,h){if(u==="font")return"";if(typeof h=="string")return h==="use-credentials"?h:""}return Qa.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Qa.createPortal=function(u,h){var p=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!h||h.nodeType!==1&&h.nodeType!==9&&h.nodeType!==11)throw Error(s(299));return i(u,h,null,p)},Qa.flushSync=function(u){var h=l.T,p=n.p;try{if(l.T=null,n.p=2,u)return u()}finally{l.T=h,n.p=p,n.d.f()}},Qa.preconnect=function(u,h){typeof u=="string"&&(h?(h=h.crossOrigin,h=typeof h=="string"?h==="use-credentials"?h:"":void 0):h=null,n.d.C(u,h))},Qa.prefetchDNS=function(u){typeof u=="string"&&n.d.D(u)},Qa.preinit=function(u,h){if(typeof u=="string"&&h&&typeof h.as=="string"){var p=h.as,f=d(p,h.crossOrigin),y=typeof h.integrity=="string"?h.integrity:void 0,v=typeof h.fetchPriority=="string"?h.fetchPriority:void 0;p==="style"?n.d.S(u,typeof h.precedence=="string"?h.precedence:void 0,{crossOrigin:f,integrity:y,fetchPriority:v}):p==="script"&&n.d.X(u,{crossOrigin:f,integrity:y,fetchPriority:v,nonce:typeof h.nonce=="string"?h.nonce:void 0})}},Qa.preinitModule=function(u,h){if(typeof u=="string")if(typeof h=="object"&&h!==null){if(h.as==null||h.as==="script"){var p=d(h.as,h.crossOrigin);n.d.M(u,{crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0})}}else h==null&&n.d.M(u)},Qa.preload=function(u,h){if(typeof u=="string"&&typeof h=="object"&&h!==null&&typeof h.as=="string"){var p=h.as,f=d(p,h.crossOrigin);n.d.L(u,p,{crossOrigin:f,integrity:typeof h.integrity=="string"?h.integrity:void 0,nonce:typeof h.nonce=="string"?h.nonce:void 0,type:typeof h.type=="string"?h.type:void 0,fetchPriority:typeof h.fetchPriority=="string"?h.fetchPriority:void 0,referrerPolicy:typeof h.referrerPolicy=="string"?h.referrerPolicy:void 0,imageSrcSet:typeof h.imageSrcSet=="string"?h.imageSrcSet:void 0,imageSizes:typeof h.imageSizes=="string"?h.imageSizes:void 0,media:typeof h.media=="string"?h.media:void 0})}},Qa.preloadModule=function(u,h){if(typeof u=="string")if(h){var p=d(h.as,h.crossOrigin);n.d.m(u,{as:typeof h.as=="string"&&h.as!=="script"?h.as:void 0,crossOrigin:p,integrity:typeof h.integrity=="string"?h.integrity:void 0})}else n.d.m(u)},Qa.requestFormReset=function(u){n.d.r(u)},Qa.unstable_batchedUpdates=function(u,h){return u(h)},Qa.useFormState=function(u,h,p){return l.H.useFormState(u,h,p)},Qa.useFormStatus=function(){return l.H.useHostTransitionStatus()},Qa.version="19.2.1",Qa}var c2;function cT(){if(c2)return lb.exports;c2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(s){console.error(s)}}return t(),lb.exports=a8(),lb.exports}var d2;function n8(){if(d2)return wh;d2=1;var t=s8(),s=Cm(),a=cT();function n(o){var c="https://react.dev/errors/"+o;if(1<arguments.length){c+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)c+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+o+"; visit "+c+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(o){return!(!o||o.nodeType!==1&&o.nodeType!==9&&o.nodeType!==11)}function i(o){var c=o,m=o;if(o.alternate)for(;c.return;)c=c.return;else{o=c;do c=o,(c.flags&4098)!==0&&(m=c.return),o=c.return;while(o)}return c.tag===3?m:null}function l(o){if(o.tag===13){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function d(o){if(o.tag===31){var c=o.memoizedState;if(c===null&&(o=o.alternate,o!==null&&(c=o.memoizedState)),c!==null)return c.dehydrated}return null}function u(o){if(i(o)!==o)throw Error(n(188))}function h(o){var c=o.alternate;if(!c){if(c=i(o),c===null)throw Error(n(188));return c!==o?null:o}for(var m=o,g=c;;){var b=m.return;if(b===null)break;var C=b.alternate;if(C===null){if(g=b.return,g!==null){m=g;continue}break}if(b.child===C.child){for(C=b.child;C;){if(C===m)return u(b),o;if(C===g)return u(b),c;C=C.sibling}throw Error(n(188))}if(m.return!==g.return)m=b,g=C;else{for(var O=!1,ee=b.child;ee;){if(ee===m){O=!0,m=b,g=C;break}if(ee===g){O=!0,g=b,m=C;break}ee=ee.sibling}if(!O){for(ee=C.child;ee;){if(ee===m){O=!0,m=C,g=b;break}if(ee===g){O=!0,g=C,m=b;break}ee=ee.sibling}if(!O)throw Error(n(189))}}if(m.alternate!==g)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?o:c}function p(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o;for(o=o.child;o!==null;){if(c=p(o),c!==null)return c;o=o.sibling}return null}var f=Object.assign,y=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),j=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),T=Symbol.for("react.consumer"),R=Symbol.for("react.context"),E=Symbol.for("react.forward_ref"),A=Symbol.for("react.suspense"),V=Symbol.for("react.suspense_list"),k=Symbol.for("react.memo"),B=Symbol.for("react.lazy"),P=Symbol.for("react.activity"),H=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function K(o){return o===null||typeof o!="object"?null:(o=D&&o[D]||o["@@iterator"],typeof o=="function"?o:null)}var X=Symbol.for("react.client.reference");function ne(o){if(o==null)return null;if(typeof o=="function")return o.$$typeof===X?null:o.displayName||o.name||null;if(typeof o=="string")return o;switch(o){case N:return"Fragment";case _:return"Profiler";case w:return"StrictMode";case A:return"Suspense";case V:return"SuspenseList";case P:return"Activity"}if(typeof o=="object")switch(o.$$typeof){case j:return"Portal";case R:return o.displayName||"Context";case T:return(o._context.displayName||"Context")+".Consumer";case E:var c=o.render;return o=o.displayName,o||(o=c.displayName||c.name||"",o=o!==""?"ForwardRef("+o+")":"ForwardRef"),o;case k:return c=o.displayName||null,c!==null?c:ne(o.type)||"Memo";case B:c=o._payload,o=o._init;try{return ne(o(c))}catch{}}return null}var te=Array.isArray,U=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q=a.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,G={pending:!1,data:null,method:null,action:null},F=[],M=-1;function z(o){return{current:o}}function ie(o){0>M||(o.current=F[M],F[M]=null,M--)}function le(o,c){M++,F[M]=o.current,o.current=c}var re=z(null),fe=z(null),we=z(null),ye=z(null);function Be(o,c){switch(le(we,c),le(fe,o),le(re,null),c.nodeType){case 9:case 11:o=(o=c.documentElement)&&(o=o.namespaceURI)?SC(o):0;break;default:if(o=c.tagName,c=c.namespaceURI)c=SC(c),o=AC(c,o);else switch(o){case"svg":o=1;break;case"math":o=2;break;default:o=0}}ie(re),le(re,o)}function ke(){ie(re),ie(fe),ie(we)}function Ye(o){o.memoizedState!==null&&le(ye,o);var c=re.current,m=AC(c,o.type);c!==m&&(le(fe,o),le(re,m))}function rt(o){fe.current===o&&(ie(re),ie(fe)),ye.current===o&&(ie(ye),yh._currentValue=G)}var Se,Xe;function Pe(o){if(Se===void 0)try{throw Error()}catch(m){var c=m.stack.trim().match(/\n( *(at )?)/);Se=c&&c[1]||"",Xe=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Se+o+Xe}var mt=!1;function _t(o,c){if(!o||mt)return"";mt=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var g={DetermineComponentFrameRoot:function(){try{if(c){var ze=function(){throw Error()};if(Object.defineProperty(ze.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ze,[])}catch(De){var Ce=De}Reflect.construct(o,[],ze)}else{try{ze.call()}catch(De){Ce=De}o.call(ze.prototype)}}else{try{throw Error()}catch(De){Ce=De}(ze=o())&&typeof ze.catch=="function"&&ze.catch(function(){})}}catch(De){if(De&&Ce&&typeof De.stack=="string")return[De.stack,Ce.stack]}return[null,null]}};g.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var b=Object.getOwnPropertyDescriptor(g.DetermineComponentFrameRoot,"name");b&&b.configurable&&Object.defineProperty(g.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=g.DetermineComponentFrameRoot(),O=C[0],ee=C[1];if(O&&ee){var me=O.split(`
`),je=ee.split(`
`);for(b=g=0;g<me.length&&!me[g].includes("DetermineComponentFrameRoot");)g++;for(;b<je.length&&!je[b].includes("DetermineComponentFrameRoot");)b++;if(g===me.length||b===je.length)for(g=me.length-1,b=je.length-1;1<=g&&0<=b&&me[g]!==je[b];)b--;for(;1<=g&&0<=b;g--,b--)if(me[g]!==je[b]){if(g!==1||b!==1)do if(g--,b--,0>b||me[g]!==je[b]){var Oe=`
`+me[g].replace(" at new "," at ");return o.displayName&&Oe.includes("<anonymous>")&&(Oe=Oe.replace("<anonymous>",o.displayName)),Oe}while(1<=g&&0<=b);break}}}finally{mt=!1,Error.prepareStackTrace=m}return(m=o?o.displayName||o.name:"")?Pe(m):""}function at(o,c){switch(o.tag){case 26:case 27:case 5:return Pe(o.type);case 16:return Pe("Lazy");case 13:return o.child!==c&&c!==null?Pe("Suspense Fallback"):Pe("Suspense");case 19:return Pe("SuspenseList");case 0:case 15:return _t(o.type,!1);case 11:return _t(o.type.render,!1);case 1:return _t(o.type,!0);case 31:return Pe("Activity");default:return""}}function ds(o){try{var c="",m=null;do c+=at(o,m),m=o,o=o.return;while(o);return c}catch(g){return`
Error generating stack: `+g.message+`
`+g.stack}}var us=Object.prototype.hasOwnProperty,Ps=t.unstable_scheduleCallback,pe=t.unstable_cancelCallback,_e=t.unstable_shouldYield,he=t.unstable_requestPaint,$e=t.unstable_now,Ve=t.unstable_getCurrentPriorityLevel,dt=t.unstable_ImmediatePriority,xt=t.unstable_UserBlockingPriority,ot=t.unstable_NormalPriority,It=t.unstable_LowPriority,Dt=t.unstable_IdlePriority,es=t.log,Us=t.unstable_setDisableYieldValue,is=null,bs=null;function Me(o){if(typeof es=="function"&&Us(o),bs&&typeof bs.setStrictMode=="function")try{bs.setStrictMode(is,o)}catch{}}var Ue=Math.clz32?Math.clz32:Es,Fe=Math.log,os=Math.LN2;function Es(o){return o>>>=0,o===0?32:31-(Fe(o)/os|0)|0}var js=256,rr=262144,da=4194304;function Xa(o){var c=o&42;if(c!==0)return c;switch(o&-o){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return o&261888;case 262144:case 524288:case 1048576:case 2097152:return o&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return o&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return o}}function kt(o,c,m){var g=o.pendingLanes;if(g===0)return 0;var b=0,C=o.suspendedLanes,O=o.pingedLanes;o=o.warmLanes;var ee=g&134217727;return ee!==0?(g=ee&~C,g!==0?b=Xa(g):(O&=ee,O!==0?b=Xa(O):m||(m=ee&~o,m!==0&&(b=Xa(m))))):(ee=g&~C,ee!==0?b=Xa(ee):O!==0?b=Xa(O):m||(m=g&~o,m!==0&&(b=Xa(m)))),b===0?0:c!==0&&c!==b&&(c&C)===0&&(C=b&-b,m=c&-c,C>=m||C===32&&(m&4194048)!==0)?c:b}function Z(o,c){return(o.pendingLanes&~(o.suspendedLanes&~o.pingedLanes)&c)===0}function yt(o,c){switch(o){case 1:case 2:case 4:case 8:case 64:return c+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hs(){var o=da;return da<<=1,(da&62914560)===0&&(da=4194304),o}function gt(o){for(var c=[],m=0;31>m;m++)c.push(o);return c}function Ge(o,c){o.pendingLanes|=c,c!==268435456&&(o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0)}function ls(o,c,m,g,b,C){var O=o.pendingLanes;o.pendingLanes=m,o.suspendedLanes=0,o.pingedLanes=0,o.warmLanes=0,o.expiredLanes&=m,o.entangledLanes&=m,o.errorRecoveryDisabledLanes&=m,o.shellSuspendCounter=0;var ee=o.entanglements,me=o.expirationTimes,je=o.hiddenUpdates;for(m=O&~m;0<m;){var Oe=31-Ue(m),ze=1<<Oe;ee[Oe]=0,me[Oe]=-1;var Ce=je[Oe];if(Ce!==null)for(je[Oe]=null,Oe=0;Oe<Ce.length;Oe++){var De=Ce[Oe];De!==null&&(De.lane&=-536870913)}m&=~ze}g!==0&&ea(o,g,0),C!==0&&b===0&&o.tag!==0&&(o.suspendedLanes|=C&~(O&~c))}function ea(o,c,m){o.pendingLanes|=c,o.suspendedLanes&=~c;var g=31-Ue(c);o.entangledLanes|=c,o.entanglements[g]=o.entanglements[g]|1073741824|m&261930}function Os(o,c){var m=o.entangledLanes|=c;for(o=o.entanglements;m;){var g=31-Ue(m),b=1<<g;b&c|o[g]&c&&(o[g]|=c),m&=~b}}function Ta(o,c){var m=c&-c;return m=(m&42)!==0?1:yn(m),(m&(o.suspendedLanes|c))!==0?0:m}function yn(o){switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=128;break;case 268435456:o=134217728;break;default:o=0}return o}function dn(o){return o&=-o,2<o?8<o?(o&134217727)!==0?32:268435456:8:2}function Zr(){var o=q.p;return o!==0?o:(o=window.event,o===void 0?32:QC(o.type))}function Wc(o,c){var m=q.p;try{return q.p=o,c()}finally{q.p=m}}var un=Math.random().toString(36).slice(2),ua="__reactFiber$"+un,aa="__reactProps$"+un,ga="__reactContainer$"+un,Di="__reactEvents$"+un,Ei="__reactListeners$"+un,_o="__reactHandles$"+un,ir="__reactResources$"+un,Rr="__reactMarker$"+un;function Ol(o){delete o[ua],delete o[aa],delete o[Di],delete o[Ei],delete o[_o]}function Jr(o){var c=o[ua];if(c)return c;for(var m=o.parentNode;m;){if(c=m[ga]||m[ua]){if(m=c.alternate,c.child!==null||m!==null&&m.child!==null)for(o=OC(o);o!==null;){if(m=o[ua])return m;o=OC(o)}return c}o=m,m=o.parentNode}return null}function In(o){if(o=o[ua]||o[ga]){var c=o.tag;if(c===5||c===6||c===13||c===31||c===26||c===27||c===3)return o}return null}function ei(o){var c=o.tag;if(c===5||c===26||c===27||c===6)return o.stateNode;throw Error(n(33))}function $n(o){var c=o[ir];return c||(c=o[ir]={hoistableStyles:new Map,hoistableScripts:new Map}),c}function ks(o){o[Rr]=!0}var Co=new Set,Ll={};function or(o,c){hn(o,c),hn(o+"Capture",c)}function hn(o,c){for(Ll[o]=c,o=0;o<c.length;o++)Co.add(c[o])}var bn=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),ko={},zn={};function Vn(o){return us.call(zn,o)?!0:us.call(ko,o)?!1:bn.test(o)?zn[o]=!0:(ko[o]=!0,!1)}function Ri(o,c,m){if(Vn(c))if(m===null)o.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":o.removeAttribute(c);return;case"boolean":var g=c.toLowerCase().slice(0,5);if(g!=="data-"&&g!=="aria-"){o.removeAttribute(c);return}}o.setAttribute(c,""+m)}}function Mi(o,c,m){if(m===null)o.removeAttribute(c);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(c);return}o.setAttribute(c,""+m)}}function vn(o,c,m,g){if(g===null)o.removeAttribute(m);else{switch(typeof g){case"undefined":case"function":case"symbol":case"boolean":o.removeAttribute(m);return}o.setAttributeNS(c,m,""+g)}}function Ba(o){switch(typeof o){case"bigint":case"boolean":case"number":case"string":case"undefined":return o;case"object":return o;default:return""}}function Pi(o){var c=o.type;return(o=o.nodeName)&&o.toLowerCase()==="input"&&(c==="checkbox"||c==="radio")}function Su(o,c,m){var g=Object.getOwnPropertyDescriptor(o.constructor.prototype,c);if(!o.hasOwnProperty(c)&&typeof g<"u"&&typeof g.get=="function"&&typeof g.set=="function"){var b=g.get,C=g.set;return Object.defineProperty(o,c,{configurable:!0,get:function(){return b.call(this)},set:function(O){m=""+O,C.call(this,O)}}),Object.defineProperty(o,c,{enumerable:g.enumerable}),{getValue:function(){return m},setValue:function(O){m=""+O},stopTracking:function(){o._valueTracker=null,delete o[c]}}}}function Bl(o){if(!o._valueTracker){var c=Pi(o)?"checked":"value";o._valueTracker=Su(o,c,""+o[c])}}function So(o){if(!o)return!1;var c=o._valueTracker;if(!c)return!0;var m=c.getValue(),g="";return o&&(g=Pi(o)?o.checked?"true":"false":o.value),o=g,o!==m?(c.setValue(o),!0):!1}function Mr(o){if(o=o||(typeof document<"u"?document:void 0),typeof o>"u")return null;try{return o.activeElement||o.body}catch{return o.body}}var ti=/[\n"\\]/g;function xa(o){return o.replace(ti,function(c){return"\\"+c.charCodeAt(0).toString(16)+" "})}function Pr(o,c,m,g,b,C,O,ee){o.name="",O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"?o.type=O:o.removeAttribute("type"),c!=null?O==="number"?(c===0&&o.value===""||o.value!=c)&&(o.value=""+Ba(c)):o.value!==""+Ba(c)&&(o.value=""+Ba(c)):O!=="submit"&&O!=="reset"||o.removeAttribute("value"),c!=null?Il(o,O,Ba(c)):m!=null?Il(o,O,Ba(m)):g!=null&&o.removeAttribute("value"),b==null&&C!=null&&(o.defaultChecked=!!C),b!=null&&(o.checked=b&&typeof b!="function"&&typeof b!="symbol"),ee!=null&&typeof ee!="function"&&typeof ee!="symbol"&&typeof ee!="boolean"?o.name=""+Ba(ee):o.removeAttribute("name")}function Fl(o,c,m,g,b,C,O,ee){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(o.type=C),c!=null||m!=null){if(!(C!=="submit"&&C!=="reset"||c!=null)){Bl(o);return}m=m!=null?""+Ba(m):"",c=c!=null?""+Ba(c):m,ee||c===o.value||(o.value=c),o.defaultValue=c}g=g??b,g=typeof g!="function"&&typeof g!="symbol"&&!!g,o.checked=ee?o.checked:!!g,o.defaultChecked=!!g,O!=null&&typeof O!="function"&&typeof O!="symbol"&&typeof O!="boolean"&&(o.name=O),Bl(o)}function Il(o,c,m){c==="number"&&Mr(o.ownerDocument)===o||o.defaultValue===""+m||(o.defaultValue=""+m)}function si(o,c,m,g){if(o=o.options,c){c={};for(var b=0;b<m.length;b++)c["$"+m[b]]=!0;for(m=0;m<o.length;m++)b=c.hasOwnProperty("$"+o[m].value),o[m].selected!==b&&(o[m].selected=b),b&&g&&(o[m].defaultSelected=!0)}else{for(m=""+Ba(m),c=null,b=0;b<o.length;b++){if(o[b].value===m){o[b].selected=!0,g&&(o[b].defaultSelected=!0);return}c!==null||o[b].disabled||(c=o[b])}c!==null&&(c.selected=!0)}}function Yc(o,c,m){if(c!=null&&(c=""+Ba(c),c!==o.value&&(o.value=c),m==null)){o.defaultValue!==c&&(o.defaultValue=c);return}o.defaultValue=m!=null?""+Ba(m):""}function Kc(o,c,m,g){if(c==null){if(g!=null){if(m!=null)throw Error(n(92));if(te(g)){if(1<g.length)throw Error(n(93));g=g[0]}m=g}m==null&&(m=""),c=m}m=Ba(c),o.defaultValue=m,g=o.textContent,g===m&&g!==""&&g!==null&&(o.value=g),Bl(o)}function ai(o,c){if(c){var m=o.firstChild;if(m&&m===o.lastChild&&m.nodeType===3){m.nodeValue=c;return}}o.textContent=c}var Au=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Ao(o,c,m){var g=c.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?g?o.setProperty(c,""):c==="float"?o.cssFloat="":o[c]="":g?o.setProperty(c,m):typeof m!="number"||m===0||Au.has(c)?c==="float"?o.cssFloat=m:o[c]=(""+m).trim():o[c]=m+"px"}function lr(o,c,m){if(c!=null&&typeof c!="object")throw Error(n(62));if(o=o.style,m!=null){for(var g in m)!m.hasOwnProperty(g)||c!=null&&c.hasOwnProperty(g)||(g.indexOf("--")===0?o.setProperty(g,""):g==="float"?o.cssFloat="":o[g]="");for(var b in c)g=c[b],c.hasOwnProperty(b)&&m[b]!==g&&Ao(o,b,g)}else for(var C in c)c.hasOwnProperty(C)&&Ao(o,C,c[C])}function $l(o){if(o.indexOf("-")===-1)return!1;switch(o){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Du=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function To(o){return Du.test(""+o)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":o}function jn(){}var zl=null;function Do(o){return o=o.target||o.srcElement||window,o.correspondingUseElement&&(o=o.correspondingUseElement),o.nodeType===3?o.parentNode:o}var Or=null,ni=null;function Xc(o){var c=In(o);if(c&&(o=c.stateNode)){var m=o[aa]||null;e:switch(o=c.stateNode,c.type){case"input":if(Pr(o,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),c=m.name,m.type==="radio"&&c!=null){for(m=o;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+xa(""+c)+'"][type="radio"]'),c=0;c<m.length;c++){var g=m[c];if(g!==o&&g.form===o.form){var b=g[aa]||null;if(!b)throw Error(n(90));Pr(g,b.value,b.defaultValue,b.defaultValue,b.checked,b.defaultChecked,b.type,b.name)}}for(c=0;c<m.length;c++)g=m[c],g.form===o.form&&So(g)}break e;case"textarea":Yc(o,m.value,m.defaultValue);break e;case"select":c=m.value,c!=null&&si(o,!!m.multiple,c,!1)}}}var ri=!1;function Oi(o,c,m){if(ri)return o(c,m);ri=!0;try{var g=o(c);return g}finally{if(ri=!1,(Or!==null||ni!==null)&&(Gf(),Or&&(c=Or,o=ni,ni=Or=null,Xc(c),o)))for(c=0;c<o.length;c++)Xc(o[c])}}function ii(o,c){var m=o.stateNode;if(m===null)return null;var g=m[aa]||null;if(g===null)return null;m=g[c];e:switch(c){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(g=!g.disabled)||(o=o.type,g=!(o==="button"||o==="input"||o==="select"||o==="textarea")),o=!g;break e;default:o=!1}if(o)return null;if(m&&typeof m!="function")throw Error(n(231,c,typeof m));return m}var Un=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Vl=!1;if(Un)try{var Li={};Object.defineProperty(Li,"passive",{get:function(){Vl=!0}}),window.addEventListener("test",Li,Li),window.removeEventListener("test",Li,Li)}catch{Vl=!1}var wn=null,Eo=null,Ro=null;function St(){if(Ro)return Ro;var o,c=Eo,m=c.length,g,b="value"in wn?wn.value:wn.textContent,C=b.length;for(o=0;o<m&&c[o]===b[o];o++);var O=m-o;for(g=1;g<=O&&c[m-g]===b[C-g];g++);return Ro=b.slice(o,1<g?1-g:void 0)}function Nn(o){var c=o.keyCode;return"charCode"in o?(o=o.charCode,o===0&&c===13&&(o=13)):o=c,o===10&&(o=13),32<=o||o===13?o:0}function cr(){return!0}function Qc(){return!1}function Fa(o){function c(m,g,b,C,O){this._reactName=m,this._targetInst=b,this.type=g,this.nativeEvent=C,this.target=O,this.currentTarget=null;for(var ee in o)o.hasOwnProperty(ee)&&(m=o[ee],this[ee]=m?m(C):C[ee]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?cr:Qc,this.isPropagationStopped=Qc,this}return f(c.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=cr)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=cr)},persist:function(){},isPersistent:cr}),c}var dr={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(o){return o.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},I=Fa(dr),de=f({},dr,{view:0,detail:0}),nt=Fa(de),hs,ya,Ia,Lr=f({},de,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ru,button:0,buttons:0,relatedTarget:function(o){return o.relatedTarget===void 0?o.fromElement===o.srcElement?o.toElement:o.fromElement:o.relatedTarget},movementX:function(o){return"movementX"in o?o.movementX:(o!==Ia&&(Ia&&o.type==="mousemove"?(hs=o.screenX-Ia.screenX,ya=o.screenY-Ia.screenY):ya=hs=0,Ia=o),hs)},movementY:function(o){return"movementY"in o?o.movementY:ya}}),ur=Fa(Lr),Mo=f({},Lr,{dataTransfer:0}),Po=Fa(Mo),e0=f({},de,{relatedTarget:0}),Eu=Fa(e0),t0=f({},dr,{animationName:0,elapsedTime:0,pseudoElement:0}),s0=Fa(t0),a0=f({},dr,{clipboardData:function(o){return"clipboardData"in o?o.clipboardData:window.clipboardData}}),n0=Fa(a0),r0=f({},dr,{data:0}),nf=Fa(r0),i0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},l0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function c0(o){var c=this.nativeEvent;return c.getModifierState?c.getModifierState(o):(o=l0[o])?!!c[o]:!1}function Ru(){return c0}var d0=f({},de,{key:function(o){if(o.key){var c=i0[o.key]||o.key;if(c!=="Unidentified")return c}return o.type==="keypress"?(o=Nn(o),o===13?"Enter":String.fromCharCode(o)):o.type==="keydown"||o.type==="keyup"?o0[o.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ru,charCode:function(o){return o.type==="keypress"?Nn(o):0},keyCode:function(o){return o.type==="keydown"||o.type==="keyup"?o.keyCode:0},which:function(o){return o.type==="keypress"?Nn(o):o.type==="keydown"||o.type==="keyup"?o.keyCode:0}}),Da=Fa(d0),Mu=f({},Lr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),rf=Fa(Mu),$=f({},de,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ru}),S=Fa($),L=f({},dr,{propertyName:0,elapsedTime:0,pseudoElement:0}),ae=Fa(L),ue=f({},Lr,{deltaX:function(o){return"deltaX"in o?o.deltaX:"wheelDeltaX"in o?-o.wheelDeltaX:0},deltaY:function(o){return"deltaY"in o?o.deltaY:"wheelDeltaY"in o?-o.wheelDeltaY:"wheelDelta"in o?-o.wheelDelta:0},deltaZ:0,deltaMode:0}),Le=Fa(ue),Qe=f({},dr,{newState:0,oldState:0}),ht=Fa(Qe),Lt=[9,13,27,32],Kt=Un&&"CompositionEvent"in window,ts=null;Un&&"documentMode"in document&&(ts=document.documentMode);var na=Un&&"TextEvent"in window&&!ts,Ul=Un&&(!Kt||ts&&8<ts&&11>=ts),of=" ",Pu=!1;function lf(o,c){switch(o){case"keyup":return Lt.indexOf(c.keyCode)!==-1;case"keydown":return c.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ou(o){return o=o.detail,typeof o=="object"&&"data"in o?o.data:null}var Oo=!1;function cf(o,c){switch(o){case"compositionend":return Ou(c);case"keypress":return c.which!==32?null:(Pu=!0,of);case"textInput":return o=c.data,o===of&&Pu?null:o;default:return null}}function u0(o,c){if(Oo)return o==="compositionend"||!Kt&&lf(o,c)?(o=St(),Ro=Eo=wn=null,Oo=!1,o):null;switch(o){case"paste":return null;case"keypress":if(!(c.ctrlKey||c.altKey||c.metaKey)||c.ctrlKey&&c.altKey){if(c.char&&1<c.char.length)return c.char;if(c.which)return String.fromCharCode(c.which)}return null;case"compositionend":return Ul&&c.locale!=="ko"?null:c.data;default:return null}}var h0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Lu(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c==="input"?!!h0[o.type]:c==="textarea"}function Bu(o,c,m,g){Or?ni?ni.push(g):ni=[g]:Or=g,c=Jf(c,"onChange"),0<c.length&&(m=new I("onChange","change",null,m,g),o.push({event:m,listeners:c}))}var Lo=null,Bi=null;function Fu(o){jC(o,0)}function Hl(o){var c=ei(o);if(So(c))return o}function df(o,c){if(o==="change")return c}var uf=!1;if(Un){var Iu;if(Un){var $u="oninput"in document;if(!$u){var zu=document.createElement("div");zu.setAttribute("oninput","return;"),$u=typeof zu.oninput=="function"}Iu=$u}else Iu=!1;uf=Iu&&(!document.documentMode||9<document.documentMode)}function U1(){Lo&&(Lo.detachEvent("onpropertychange",H1),Bi=Lo=null)}function H1(o){if(o.propertyName==="value"&&Hl(Bi)){var c=[];Bu(c,Bi,o,Do(o)),Oi(Fu,c)}}function SL(o,c,m){o==="focusin"?(U1(),Lo=c,Bi=m,Lo.attachEvent("onpropertychange",H1)):o==="focusout"&&U1()}function AL(o){if(o==="selectionchange"||o==="keyup"||o==="keydown")return Hl(Bi)}function TL(o,c){if(o==="click")return Hl(c)}function DL(o,c){if(o==="input"||o==="change")return Hl(c)}function EL(o,c){return o===c&&(o!==0||1/o===1/c)||o!==o&&c!==c}var Hn=typeof Object.is=="function"?Object.is:EL;function Vu(o,c){if(Hn(o,c))return!0;if(typeof o!="object"||o===null||typeof c!="object"||c===null)return!1;var m=Object.keys(o),g=Object.keys(c);if(m.length!==g.length)return!1;for(g=0;g<m.length;g++){var b=m[g];if(!us.call(c,b)||!Hn(o[b],c[b]))return!1}return!0}function q1(o){for(;o&&o.firstChild;)o=o.firstChild;return o}function G1(o,c){var m=q1(o);o=0;for(var g;m;){if(m.nodeType===3){if(g=o+m.textContent.length,o<=c&&g>=c)return{node:m,offset:c-o};o=g}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=q1(m)}}function W1(o,c){return o&&c?o===c?!0:o&&o.nodeType===3?!1:c&&c.nodeType===3?W1(o,c.parentNode):"contains"in o?o.contains(c):o.compareDocumentPosition?!!(o.compareDocumentPosition(c)&16):!1:!1}function Y1(o){o=o!=null&&o.ownerDocument!=null&&o.ownerDocument.defaultView!=null?o.ownerDocument.defaultView:window;for(var c=Mr(o.document);c instanceof o.HTMLIFrameElement;){try{var m=typeof c.contentWindow.location.href=="string"}catch{m=!1}if(m)o=c.contentWindow;else break;c=Mr(o.document)}return c}function m0(o){var c=o&&o.nodeName&&o.nodeName.toLowerCase();return c&&(c==="input"&&(o.type==="text"||o.type==="search"||o.type==="tel"||o.type==="url"||o.type==="password")||c==="textarea"||o.contentEditable==="true")}var RL=Un&&"documentMode"in document&&11>=document.documentMode,Zc=null,f0=null,Uu=null,p0=!1;function K1(o,c,m){var g=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;p0||Zc==null||Zc!==Mr(g)||(g=Zc,"selectionStart"in g&&m0(g)?g={start:g.selectionStart,end:g.selectionEnd}:(g=(g.ownerDocument&&g.ownerDocument.defaultView||window).getSelection(),g={anchorNode:g.anchorNode,anchorOffset:g.anchorOffset,focusNode:g.focusNode,focusOffset:g.focusOffset}),Uu&&Vu(Uu,g)||(Uu=g,g=Jf(f0,"onSelect"),0<g.length&&(c=new I("onSelect","select",null,c,m),o.push({event:c,listeners:g}),c.target=Zc)))}function ql(o,c){var m={};return m[o.toLowerCase()]=c.toLowerCase(),m["Webkit"+o]="webkit"+c,m["Moz"+o]="moz"+c,m}var Jc={animationend:ql("Animation","AnimationEnd"),animationiteration:ql("Animation","AnimationIteration"),animationstart:ql("Animation","AnimationStart"),transitionrun:ql("Transition","TransitionRun"),transitionstart:ql("Transition","TransitionStart"),transitioncancel:ql("Transition","TransitionCancel"),transitionend:ql("Transition","TransitionEnd")},g0={},X1={};Un&&(X1=document.createElement("div").style,"AnimationEvent"in window||(delete Jc.animationend.animation,delete Jc.animationiteration.animation,delete Jc.animationstart.animation),"TransitionEvent"in window||delete Jc.transitionend.transition);function Gl(o){if(g0[o])return g0[o];if(!Jc[o])return o;var c=Jc[o],m;for(m in c)if(c.hasOwnProperty(m)&&m in X1)return g0[o]=c[m];return o}var Q1=Gl("animationend"),Z1=Gl("animationiteration"),J1=Gl("animationstart"),ML=Gl("transitionrun"),PL=Gl("transitionstart"),OL=Gl("transitioncancel"),eN=Gl("transitionend"),tN=new Map,x0="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");x0.push("scrollEnd");function Br(o,c){tN.set(o,c),or(c,[o])}var hf=typeof reportError=="function"?reportError:function(o){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var c=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof o=="object"&&o!==null&&typeof o.message=="string"?String(o.message):String(o),error:o});if(!window.dispatchEvent(c))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",o);return}console.error(o)},hr=[],ed=0,y0=0;function mf(){for(var o=ed,c=y0=ed=0;c<o;){var m=hr[c];hr[c++]=null;var g=hr[c];hr[c++]=null;var b=hr[c];hr[c++]=null;var C=hr[c];if(hr[c++]=null,g!==null&&b!==null){var O=g.pending;O===null?b.next=b:(b.next=O.next,O.next=b),g.pending=b}C!==0&&sN(m,b,C)}}function ff(o,c,m,g){hr[ed++]=o,hr[ed++]=c,hr[ed++]=m,hr[ed++]=g,y0|=g,o.lanes|=g,o=o.alternate,o!==null&&(o.lanes|=g)}function b0(o,c,m,g){return ff(o,c,m,g),pf(o)}function Wl(o,c){return ff(o,null,null,c),pf(o)}function sN(o,c,m){o.lanes|=m;var g=o.alternate;g!==null&&(g.lanes|=m);for(var b=!1,C=o.return;C!==null;)C.childLanes|=m,g=C.alternate,g!==null&&(g.childLanes|=m),C.tag===22&&(o=C.stateNode,o===null||o._visibility&1||(b=!0)),o=C,C=C.return;return o.tag===3?(C=o.stateNode,b&&c!==null&&(b=31-Ue(m),o=C.hiddenUpdates,g=o[b],g===null?o[b]=[c]:g.push(c),c.lane=m|536870912),C):null}function pf(o){if(50<uh)throw uh=0,Ay=null,Error(n(185));for(var c=o.return;c!==null;)o=c,c=o.return;return o.tag===3?o.stateNode:null}var td={};function LL(o,c,m,g){this.tag=o,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=c,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qn(o,c,m,g){return new LL(o,c,m,g)}function v0(o){return o=o.prototype,!(!o||!o.isReactComponent)}function Fi(o,c){var m=o.alternate;return m===null?(m=qn(o.tag,c,o.key,o.mode),m.elementType=o.elementType,m.type=o.type,m.stateNode=o.stateNode,m.alternate=o,o.alternate=m):(m.pendingProps=c,m.type=o.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=o.flags&65011712,m.childLanes=o.childLanes,m.lanes=o.lanes,m.child=o.child,m.memoizedProps=o.memoizedProps,m.memoizedState=o.memoizedState,m.updateQueue=o.updateQueue,c=o.dependencies,m.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext},m.sibling=o.sibling,m.index=o.index,m.ref=o.ref,m.refCleanup=o.refCleanup,m}function aN(o,c){o.flags&=65011714;var m=o.alternate;return m===null?(o.childLanes=0,o.lanes=c,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=m.childLanes,o.lanes=m.lanes,o.child=m.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=m.memoizedProps,o.memoizedState=m.memoizedState,o.updateQueue=m.updateQueue,o.type=m.type,c=m.dependencies,o.dependencies=c===null?null:{lanes:c.lanes,firstContext:c.firstContext}),o}function gf(o,c,m,g,b,C){var O=0;if(g=o,typeof o=="function")v0(o)&&(O=1);else if(typeof o=="string")O=z6(o,m,re.current)?26:o==="html"||o==="head"||o==="body"?27:5;else e:switch(o){case P:return o=qn(31,m,c,b),o.elementType=P,o.lanes=C,o;case N:return Yl(m.children,b,C,c);case w:O=8,b|=24;break;case _:return o=qn(12,m,c,b|2),o.elementType=_,o.lanes=C,o;case A:return o=qn(13,m,c,b),o.elementType=A,o.lanes=C,o;case V:return o=qn(19,m,c,b),o.elementType=V,o.lanes=C,o;default:if(typeof o=="object"&&o!==null)switch(o.$$typeof){case R:O=10;break e;case T:O=9;break e;case E:O=11;break e;case k:O=14;break e;case B:O=16,g=null;break e}O=29,m=Error(n(130,o===null?"null":typeof o,"")),g=null}return c=qn(O,m,c,b),c.elementType=o,c.type=g,c.lanes=C,c}function Yl(o,c,m,g){return o=qn(7,o,g,c),o.lanes=m,o}function j0(o,c,m){return o=qn(6,o,null,c),o.lanes=m,o}function nN(o){var c=qn(18,null,null,0);return c.stateNode=o,c}function w0(o,c,m){return c=qn(4,o.children!==null?o.children:[],o.key,c),c.lanes=m,c.stateNode={containerInfo:o.containerInfo,pendingChildren:null,implementation:o.implementation},c}var rN=new WeakMap;function mr(o,c){if(typeof o=="object"&&o!==null){var m=rN.get(o);return m!==void 0?m:(c={value:o,source:c,stack:ds(c)},rN.set(o,c),c)}return{value:o,source:c,stack:ds(c)}}var sd=[],ad=0,xf=null,Hu=0,fr=[],pr=0,Bo=null,oi=1,li="";function Ii(o,c){sd[ad++]=Hu,sd[ad++]=xf,xf=o,Hu=c}function iN(o,c,m){fr[pr++]=oi,fr[pr++]=li,fr[pr++]=Bo,Bo=o;var g=oi;o=li;var b=32-Ue(g)-1;g&=~(1<<b),m+=1;var C=32-Ue(c)+b;if(30<C){var O=b-b%5;C=(g&(1<<O)-1).toString(32),g>>=O,b-=O,oi=1<<32-Ue(c)+b|m<<b|g,li=C+o}else oi=1<<C|m<<b|g,li=o}function N0(o){o.return!==null&&(Ii(o,1),iN(o,1,0))}function _0(o){for(;o===xf;)xf=sd[--ad],sd[ad]=null,Hu=sd[--ad],sd[ad]=null;for(;o===Bo;)Bo=fr[--pr],fr[pr]=null,li=fr[--pr],fr[pr]=null,oi=fr[--pr],fr[pr]=null}function oN(o,c){fr[pr++]=oi,fr[pr++]=li,fr[pr++]=Bo,oi=c.id,li=c.overflow,Bo=o}var Ha=null,$s=null,ss=!1,Fo=null,gr=!1,C0=Error(n(519));function Io(o){var c=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw qu(mr(c,o)),C0}function lN(o){var c=o.stateNode,m=o.type,g=o.memoizedProps;switch(c[ua]=o,c[aa]=g,m){case"dialog":Wt("cancel",c),Wt("close",c);break;case"iframe":case"object":case"embed":Wt("load",c);break;case"video":case"audio":for(m=0;m<mh.length;m++)Wt(mh[m],c);break;case"source":Wt("error",c);break;case"img":case"image":case"link":Wt("error",c),Wt("load",c);break;case"details":Wt("toggle",c);break;case"input":Wt("invalid",c),Fl(c,g.value,g.defaultValue,g.checked,g.defaultChecked,g.type,g.name,!0);break;case"select":Wt("invalid",c);break;case"textarea":Wt("invalid",c),Kc(c,g.value,g.defaultValue,g.children)}m=g.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||c.textContent===""+m||g.suppressHydrationWarning===!0||CC(c.textContent,m)?(g.popover!=null&&(Wt("beforetoggle",c),Wt("toggle",c)),g.onScroll!=null&&Wt("scroll",c),g.onScrollEnd!=null&&Wt("scrollend",c),g.onClick!=null&&(c.onclick=jn),c=!0):c=!1,c||Io(o,!0)}function cN(o){for(Ha=o.return;Ha;)switch(Ha.tag){case 5:case 31:case 13:gr=!1;return;case 27:case 3:gr=!0;return;default:Ha=Ha.return}}function nd(o){if(o!==Ha)return!1;if(!ss)return cN(o),ss=!0,!1;var c=o.tag,m;if((m=c!==3&&c!==27)&&((m=c===5)&&(m=o.type,m=!(m!=="form"&&m!=="button")||Uy(o.type,o.memoizedProps)),m=!m),m&&$s&&Io(o),cN(o),c===13){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));$s=PC(o)}else if(c===31){if(o=o.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(317));$s=PC(o)}else c===27?(c=$s,Jo(o.type)?(o=Yy,Yy=null,$s=o):$s=c):$s=Ha?yr(o.stateNode.nextSibling):null;return!0}function Kl(){$s=Ha=null,ss=!1}function k0(){var o=Fo;return o!==null&&(Sn===null?Sn=o:Sn.push.apply(Sn,o),Fo=null),o}function qu(o){Fo===null?Fo=[o]:Fo.push(o)}var S0=z(null),Xl=null,$i=null;function $o(o,c,m){le(S0,c._currentValue),c._currentValue=m}function zi(o){o._currentValue=S0.current,ie(S0)}function A0(o,c,m){for(;o!==null;){var g=o.alternate;if((o.childLanes&c)!==c?(o.childLanes|=c,g!==null&&(g.childLanes|=c)):g!==null&&(g.childLanes&c)!==c&&(g.childLanes|=c),o===m)break;o=o.return}}function T0(o,c,m,g){var b=o.child;for(b!==null&&(b.return=o);b!==null;){var C=b.dependencies;if(C!==null){var O=b.child;C=C.firstContext;e:for(;C!==null;){var ee=C;C=b;for(var me=0;me<c.length;me++)if(ee.context===c[me]){C.lanes|=m,ee=C.alternate,ee!==null&&(ee.lanes|=m),A0(C.return,m,o),g||(O=null);break e}C=ee.next}}else if(b.tag===18){if(O=b.return,O===null)throw Error(n(341));O.lanes|=m,C=O.alternate,C!==null&&(C.lanes|=m),A0(O,m,o),O=null}else O=b.child;if(O!==null)O.return=b;else for(O=b;O!==null;){if(O===o){O=null;break}if(b=O.sibling,b!==null){b.return=O.return,O=b;break}O=O.return}b=O}}function rd(o,c,m,g){o=null;for(var b=c,C=!1;b!==null;){if(!C){if((b.flags&524288)!==0)C=!0;else if((b.flags&262144)!==0)break}if(b.tag===10){var O=b.alternate;if(O===null)throw Error(n(387));if(O=O.memoizedProps,O!==null){var ee=b.type;Hn(b.pendingProps.value,O.value)||(o!==null?o.push(ee):o=[ee])}}else if(b===ye.current){if(O=b.alternate,O===null)throw Error(n(387));O.memoizedState.memoizedState!==b.memoizedState.memoizedState&&(o!==null?o.push(yh):o=[yh])}b=b.return}o!==null&&T0(c,o,m,g),c.flags|=262144}function yf(o){for(o=o.firstContext;o!==null;){if(!Hn(o.context._currentValue,o.memoizedValue))return!0;o=o.next}return!1}function Ql(o){Xl=o,$i=null,o=o.dependencies,o!==null&&(o.firstContext=null)}function qa(o){return dN(Xl,o)}function bf(o,c){return Xl===null&&Ql(o),dN(o,c)}function dN(o,c){var m=c._currentValue;if(c={context:c,memoizedValue:m,next:null},$i===null){if(o===null)throw Error(n(308));$i=c,o.dependencies={lanes:0,firstContext:c},o.flags|=524288}else $i=$i.next=c;return m}var BL=typeof AbortController<"u"?AbortController:function(){var o=[],c=this.signal={aborted:!1,addEventListener:function(m,g){o.push(g)}};this.abort=function(){c.aborted=!0,o.forEach(function(m){return m()})}},FL=t.unstable_scheduleCallback,IL=t.unstable_NormalPriority,ba={$$typeof:R,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function D0(){return{controller:new BL,data:new Map,refCount:0}}function Gu(o){o.refCount--,o.refCount===0&&FL(IL,function(){o.controller.abort()})}var Wu=null,E0=0,id=0,od=null;function $L(o,c){if(Wu===null){var m=Wu=[];E0=0,id=Py(),od={status:"pending",value:void 0,then:function(g){m.push(g)}}}return E0++,c.then(uN,uN),c}function uN(){if(--E0===0&&Wu!==null){od!==null&&(od.status="fulfilled");var o=Wu;Wu=null,id=0,od=null;for(var c=0;c<o.length;c++)(0,o[c])()}}function zL(o,c){var m=[],g={status:"pending",value:null,reason:null,then:function(b){m.push(b)}};return o.then(function(){g.status="fulfilled",g.value=c;for(var b=0;b<m.length;b++)(0,m[b])(c)},function(b){for(g.status="rejected",g.reason=b,b=0;b<m.length;b++)(0,m[b])(void 0)}),g}var hN=U.S;U.S=function(o,c){K_=$e(),typeof c=="object"&&c!==null&&typeof c.then=="function"&&$L(o,c),hN!==null&&hN(o,c)};var Zl=z(null);function R0(){var o=Zl.current;return o!==null?o:Rs.pooledCache}function vf(o,c){c===null?le(Zl,Zl.current):le(Zl,c.pool)}function mN(){var o=R0();return o===null?null:{parent:ba._currentValue,pool:o}}var ld=Error(n(460)),M0=Error(n(474)),jf=Error(n(542)),wf={then:function(){}};function fN(o){return o=o.status,o==="fulfilled"||o==="rejected"}function pN(o,c,m){switch(m=o[m],m===void 0?o.push(c):m!==c&&(c.then(jn,jn),c=m),c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,xN(o),o;default:if(typeof c.status=="string")c.then(jn,jn);else{if(o=Rs,o!==null&&100<o.shellSuspendCounter)throw Error(n(482));o=c,o.status="pending",o.then(function(g){if(c.status==="pending"){var b=c;b.status="fulfilled",b.value=g}},function(g){if(c.status==="pending"){var b=c;b.status="rejected",b.reason=g}})}switch(c.status){case"fulfilled":return c.value;case"rejected":throw o=c.reason,xN(o),o}throw ec=c,ld}}function Jl(o){try{var c=o._init;return c(o._payload)}catch(m){throw m!==null&&typeof m=="object"&&typeof m.then=="function"?(ec=m,ld):m}}var ec=null;function gN(){if(ec===null)throw Error(n(459));var o=ec;return ec=null,o}function xN(o){if(o===ld||o===jf)throw Error(n(483))}var cd=null,Yu=0;function Nf(o){var c=Yu;return Yu+=1,cd===null&&(cd=[]),pN(cd,o,c)}function Ku(o,c){c=c.props.ref,o.ref=c!==void 0?c:null}function _f(o,c){throw c.$$typeof===y?Error(n(525)):(o=Object.prototype.toString.call(c),Error(n(31,o==="[object Object]"?"object with keys {"+Object.keys(c).join(", ")+"}":o)))}function yN(o){function c(be,ge){if(o){var ve=be.deletions;ve===null?(be.deletions=[ge],be.flags|=16):ve.push(ge)}}function m(be,ge){if(!o)return null;for(;ge!==null;)c(be,ge),ge=ge.sibling;return null}function g(be){for(var ge=new Map;be!==null;)be.key!==null?ge.set(be.key,be):ge.set(be.index,be),be=be.sibling;return ge}function b(be,ge){return be=Fi(be,ge),be.index=0,be.sibling=null,be}function C(be,ge,ve){return be.index=ve,o?(ve=be.alternate,ve!==null?(ve=ve.index,ve<ge?(be.flags|=67108866,ge):ve):(be.flags|=67108866,ge)):(be.flags|=1048576,ge)}function O(be){return o&&be.alternate===null&&(be.flags|=67108866),be}function ee(be,ge,ve,Ie){return ge===null||ge.tag!==6?(ge=j0(ve,be.mode,Ie),ge.return=be,ge):(ge=b(ge,ve),ge.return=be,ge)}function me(be,ge,ve,Ie){var bt=ve.type;return bt===N?Oe(be,ge,ve.props.children,Ie,ve.key):ge!==null&&(ge.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===B&&Jl(bt)===ge.type)?(ge=b(ge,ve.props),Ku(ge,ve),ge.return=be,ge):(ge=gf(ve.type,ve.key,ve.props,null,be.mode,Ie),Ku(ge,ve),ge.return=be,ge)}function je(be,ge,ve,Ie){return ge===null||ge.tag!==4||ge.stateNode.containerInfo!==ve.containerInfo||ge.stateNode.implementation!==ve.implementation?(ge=w0(ve,be.mode,Ie),ge.return=be,ge):(ge=b(ge,ve.children||[]),ge.return=be,ge)}function Oe(be,ge,ve,Ie,bt){return ge===null||ge.tag!==7?(ge=Yl(ve,be.mode,Ie,bt),ge.return=be,ge):(ge=b(ge,ve),ge.return=be,ge)}function ze(be,ge,ve){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return ge=j0(""+ge,be.mode,ve),ge.return=be,ge;if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case v:return ve=gf(ge.type,ge.key,ge.props,null,be.mode,ve),Ku(ve,ge),ve.return=be,ve;case j:return ge=w0(ge,be.mode,ve),ge.return=be,ge;case B:return ge=Jl(ge),ze(be,ge,ve)}if(te(ge)||K(ge))return ge=Yl(ge,be.mode,ve,null),ge.return=be,ge;if(typeof ge.then=="function")return ze(be,Nf(ge),ve);if(ge.$$typeof===R)return ze(be,bf(be,ge),ve);_f(be,ge)}return null}function Ce(be,ge,ve,Ie){var bt=ge!==null?ge.key:null;if(typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint")return bt!==null?null:ee(be,ge,""+ve,Ie);if(typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case v:return ve.key===bt?me(be,ge,ve,Ie):null;case j:return ve.key===bt?je(be,ge,ve,Ie):null;case B:return ve=Jl(ve),Ce(be,ge,ve,Ie)}if(te(ve)||K(ve))return bt!==null?null:Oe(be,ge,ve,Ie,null);if(typeof ve.then=="function")return Ce(be,ge,Nf(ve),Ie);if(ve.$$typeof===R)return Ce(be,ge,bf(be,ve),Ie);_f(be,ve)}return null}function De(be,ge,ve,Ie,bt){if(typeof Ie=="string"&&Ie!==""||typeof Ie=="number"||typeof Ie=="bigint")return be=be.get(ve)||null,ee(ge,be,""+Ie,bt);if(typeof Ie=="object"&&Ie!==null){switch(Ie.$$typeof){case v:return be=be.get(Ie.key===null?ve:Ie.key)||null,me(ge,be,Ie,bt);case j:return be=be.get(Ie.key===null?ve:Ie.key)||null,je(ge,be,Ie,bt);case B:return Ie=Jl(Ie),De(be,ge,ve,Ie,bt)}if(te(Ie)||K(Ie))return be=be.get(ve)||null,Oe(ge,be,Ie,bt,null);if(typeof Ie.then=="function")return De(be,ge,ve,Nf(Ie),bt);if(Ie.$$typeof===R)return De(be,ge,ve,bf(ge,Ie),bt);_f(ge,Ie)}return null}function it(be,ge,ve,Ie){for(var bt=null,ms=null,ft=ge,Ut=ge=0,Qt=null;ft!==null&&Ut<ve.length;Ut++){ft.index>Ut?(Qt=ft,ft=null):Qt=ft.sibling;var fs=Ce(be,ft,ve[Ut],Ie);if(fs===null){ft===null&&(ft=Qt);break}o&&ft&&fs.alternate===null&&c(be,ft),ge=C(fs,ge,Ut),ms===null?bt=fs:ms.sibling=fs,ms=fs,ft=Qt}if(Ut===ve.length)return m(be,ft),ss&&Ii(be,Ut),bt;if(ft===null){for(;Ut<ve.length;Ut++)ft=ze(be,ve[Ut],Ie),ft!==null&&(ge=C(ft,ge,Ut),ms===null?bt=ft:ms.sibling=ft,ms=ft);return ss&&Ii(be,Ut),bt}for(ft=g(ft);Ut<ve.length;Ut++)Qt=De(ft,be,Ut,ve[Ut],Ie),Qt!==null&&(o&&Qt.alternate!==null&&ft.delete(Qt.key===null?Ut:Qt.key),ge=C(Qt,ge,Ut),ms===null?bt=Qt:ms.sibling=Qt,ms=Qt);return o&&ft.forEach(function(nl){return c(be,nl)}),ss&&Ii(be,Ut),bt}function Ct(be,ge,ve,Ie){if(ve==null)throw Error(n(151));for(var bt=null,ms=null,ft=ge,Ut=ge=0,Qt=null,fs=ve.next();ft!==null&&!fs.done;Ut++,fs=ve.next()){ft.index>Ut?(Qt=ft,ft=null):Qt=ft.sibling;var nl=Ce(be,ft,fs.value,Ie);if(nl===null){ft===null&&(ft=Qt);break}o&&ft&&nl.alternate===null&&c(be,ft),ge=C(nl,ge,Ut),ms===null?bt=nl:ms.sibling=nl,ms=nl,ft=Qt}if(fs.done)return m(be,ft),ss&&Ii(be,Ut),bt;if(ft===null){for(;!fs.done;Ut++,fs=ve.next())fs=ze(be,fs.value,Ie),fs!==null&&(ge=C(fs,ge,Ut),ms===null?bt=fs:ms.sibling=fs,ms=fs);return ss&&Ii(be,Ut),bt}for(ft=g(ft);!fs.done;Ut++,fs=ve.next())fs=De(ft,be,Ut,fs.value,Ie),fs!==null&&(o&&fs.alternate!==null&&ft.delete(fs.key===null?Ut:fs.key),ge=C(fs,ge,Ut),ms===null?bt=fs:ms.sibling=fs,ms=fs);return o&&ft.forEach(function(Z6){return c(be,Z6)}),ss&&Ii(be,Ut),bt}function Ts(be,ge,ve,Ie){if(typeof ve=="object"&&ve!==null&&ve.type===N&&ve.key===null&&(ve=ve.props.children),typeof ve=="object"&&ve!==null){switch(ve.$$typeof){case v:e:{for(var bt=ve.key;ge!==null;){if(ge.key===bt){if(bt=ve.type,bt===N){if(ge.tag===7){m(be,ge.sibling),Ie=b(ge,ve.props.children),Ie.return=be,be=Ie;break e}}else if(ge.elementType===bt||typeof bt=="object"&&bt!==null&&bt.$$typeof===B&&Jl(bt)===ge.type){m(be,ge.sibling),Ie=b(ge,ve.props),Ku(Ie,ve),Ie.return=be,be=Ie;break e}m(be,ge);break}else c(be,ge);ge=ge.sibling}ve.type===N?(Ie=Yl(ve.props.children,be.mode,Ie,ve.key),Ie.return=be,be=Ie):(Ie=gf(ve.type,ve.key,ve.props,null,be.mode,Ie),Ku(Ie,ve),Ie.return=be,be=Ie)}return O(be);case j:e:{for(bt=ve.key;ge!==null;){if(ge.key===bt)if(ge.tag===4&&ge.stateNode.containerInfo===ve.containerInfo&&ge.stateNode.implementation===ve.implementation){m(be,ge.sibling),Ie=b(ge,ve.children||[]),Ie.return=be,be=Ie;break e}else{m(be,ge);break}else c(be,ge);ge=ge.sibling}Ie=w0(ve,be.mode,Ie),Ie.return=be,be=Ie}return O(be);case B:return ve=Jl(ve),Ts(be,ge,ve,Ie)}if(te(ve))return it(be,ge,ve,Ie);if(K(ve)){if(bt=K(ve),typeof bt!="function")throw Error(n(150));return ve=bt.call(ve),Ct(be,ge,ve,Ie)}if(typeof ve.then=="function")return Ts(be,ge,Nf(ve),Ie);if(ve.$$typeof===R)return Ts(be,ge,bf(be,ve),Ie);_f(be,ve)}return typeof ve=="string"&&ve!==""||typeof ve=="number"||typeof ve=="bigint"?(ve=""+ve,ge!==null&&ge.tag===6?(m(be,ge.sibling),Ie=b(ge,ve),Ie.return=be,be=Ie):(m(be,ge),Ie=j0(ve,be.mode,Ie),Ie.return=be,be=Ie),O(be)):m(be,ge)}return function(be,ge,ve,Ie){try{Yu=0;var bt=Ts(be,ge,ve,Ie);return cd=null,bt}catch(ft){if(ft===ld||ft===jf)throw ft;var ms=qn(29,ft,null,be.mode);return ms.lanes=Ie,ms.return=be,ms}finally{}}}var tc=yN(!0),bN=yN(!1),zo=!1;function P0(o){o.updateQueue={baseState:o.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function O0(o,c){o=o.updateQueue,c.updateQueue===o&&(c.updateQueue={baseState:o.baseState,firstBaseUpdate:o.firstBaseUpdate,lastBaseUpdate:o.lastBaseUpdate,shared:o.shared,callbacks:null})}function Vo(o){return{lane:o,tag:0,payload:null,callback:null,next:null}}function Uo(o,c,m){var g=o.updateQueue;if(g===null)return null;if(g=g.shared,(ys&2)!==0){var b=g.pending;return b===null?c.next=c:(c.next=b.next,b.next=c),g.pending=c,c=pf(o),sN(o,null,m),c}return ff(o,g,c,m),pf(o)}function Xu(o,c,m){if(c=c.updateQueue,c!==null&&(c=c.shared,(m&4194048)!==0)){var g=c.lanes;g&=o.pendingLanes,m|=g,c.lanes=m,Os(o,m)}}function L0(o,c){var m=o.updateQueue,g=o.alternate;if(g!==null&&(g=g.updateQueue,m===g)){var b=null,C=null;if(m=m.firstBaseUpdate,m!==null){do{var O={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};C===null?b=C=O:C=C.next=O,m=m.next}while(m!==null);C===null?b=C=c:C=C.next=c}else b=C=c;m={baseState:g.baseState,firstBaseUpdate:b,lastBaseUpdate:C,shared:g.shared,callbacks:g.callbacks},o.updateQueue=m;return}o=m.lastBaseUpdate,o===null?m.firstBaseUpdate=c:o.next=c,m.lastBaseUpdate=c}var B0=!1;function Qu(){if(B0){var o=od;if(o!==null)throw o}}function Zu(o,c,m,g){B0=!1;var b=o.updateQueue;zo=!1;var C=b.firstBaseUpdate,O=b.lastBaseUpdate,ee=b.shared.pending;if(ee!==null){b.shared.pending=null;var me=ee,je=me.next;me.next=null,O===null?C=je:O.next=je,O=me;var Oe=o.alternate;Oe!==null&&(Oe=Oe.updateQueue,ee=Oe.lastBaseUpdate,ee!==O&&(ee===null?Oe.firstBaseUpdate=je:ee.next=je,Oe.lastBaseUpdate=me))}if(C!==null){var ze=b.baseState;O=0,Oe=je=me=null,ee=C;do{var Ce=ee.lane&-536870913,De=Ce!==ee.lane;if(De?(Xt&Ce)===Ce:(g&Ce)===Ce){Ce!==0&&Ce===id&&(B0=!0),Oe!==null&&(Oe=Oe.next={lane:0,tag:ee.tag,payload:ee.payload,callback:null,next:null});e:{var it=o,Ct=ee;Ce=c;var Ts=m;switch(Ct.tag){case 1:if(it=Ct.payload,typeof it=="function"){ze=it.call(Ts,ze,Ce);break e}ze=it;break e;case 3:it.flags=it.flags&-65537|128;case 0:if(it=Ct.payload,Ce=typeof it=="function"?it.call(Ts,ze,Ce):it,Ce==null)break e;ze=f({},ze,Ce);break e;case 2:zo=!0}}Ce=ee.callback,Ce!==null&&(o.flags|=64,De&&(o.flags|=8192),De=b.callbacks,De===null?b.callbacks=[Ce]:De.push(Ce))}else De={lane:Ce,tag:ee.tag,payload:ee.payload,callback:ee.callback,next:null},Oe===null?(je=Oe=De,me=ze):Oe=Oe.next=De,O|=Ce;if(ee=ee.next,ee===null){if(ee=b.shared.pending,ee===null)break;De=ee,ee=De.next,De.next=null,b.lastBaseUpdate=De,b.shared.pending=null}}while(!0);Oe===null&&(me=ze),b.baseState=me,b.firstBaseUpdate=je,b.lastBaseUpdate=Oe,C===null&&(b.shared.lanes=0),Yo|=O,o.lanes=O,o.memoizedState=ze}}function vN(o,c){if(typeof o!="function")throw Error(n(191,o));o.call(c)}function jN(o,c){var m=o.callbacks;if(m!==null)for(o.callbacks=null,o=0;o<m.length;o++)vN(m[o],c)}var dd=z(null),Cf=z(0);function wN(o,c){o=Xi,le(Cf,o),le(dd,c),Xi=o|c.baseLanes}function F0(){le(Cf,Xi),le(dd,dd.current)}function I0(){Xi=Cf.current,ie(dd),ie(Cf)}var Gn=z(null),xr=null;function Ho(o){var c=o.alternate;le(ha,ha.current&1),le(Gn,o),xr===null&&(c===null||dd.current!==null||c.memoizedState!==null)&&(xr=o)}function $0(o){le(ha,ha.current),le(Gn,o),xr===null&&(xr=o)}function NN(o){o.tag===22?(le(ha,ha.current),le(Gn,o),xr===null&&(xr=o)):qo()}function qo(){le(ha,ha.current),le(Gn,Gn.current)}function Wn(o){ie(Gn),xr===o&&(xr=null),ie(ha)}var ha=z(0);function kf(o){for(var c=o;c!==null;){if(c.tag===13){var m=c.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||Gy(m)||Wy(m)))return c}else if(c.tag===19&&(c.memoizedProps.revealOrder==="forwards"||c.memoizedProps.revealOrder==="backwards"||c.memoizedProps.revealOrder==="unstable_legacy-backwards"||c.memoizedProps.revealOrder==="together")){if((c.flags&128)!==0)return c}else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return null;c=c.return}c.sibling.return=c.return,c=c.sibling}return null}var Vi=0,$t=null,Ss=null,va=null,Sf=!1,ud=!1,sc=!1,Af=0,Ju=0,hd=null,VL=0;function ra(){throw Error(n(321))}function z0(o,c){if(c===null)return!1;for(var m=0;m<c.length&&m<o.length;m++)if(!Hn(o[m],c[m]))return!1;return!0}function V0(o,c,m,g,b,C){return Vi=C,$t=c,c.memoizedState=null,c.updateQueue=null,c.lanes=0,U.H=o===null||o.memoizedState===null?i_:ay,sc=!1,C=m(g,b),sc=!1,ud&&(C=CN(c,m,g,b)),_N(o),C}function _N(o){U.H=sh;var c=Ss!==null&&Ss.next!==null;if(Vi=0,va=Ss=$t=null,Sf=!1,Ju=0,hd=null,c)throw Error(n(300));o===null||ja||(o=o.dependencies,o!==null&&yf(o)&&(ja=!0))}function CN(o,c,m,g){$t=o;var b=0;do{if(ud&&(hd=null),Ju=0,ud=!1,25<=b)throw Error(n(301));if(b+=1,va=Ss=null,o.updateQueue!=null){var C=o.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}U.H=o_,C=c(m,g)}while(ud);return C}function UL(){var o=U.H,c=o.useState()[0];return c=typeof c.then=="function"?eh(c):c,o=o.useState()[0],(Ss!==null?Ss.memoizedState:null)!==o&&($t.flags|=1024),c}function U0(){var o=Af!==0;return Af=0,o}function H0(o,c,m){c.updateQueue=o.updateQueue,c.flags&=-2053,o.lanes&=~m}function q0(o){if(Sf){for(o=o.memoizedState;o!==null;){var c=o.queue;c!==null&&(c.pending=null),o=o.next}Sf=!1}Vi=0,va=Ss=$t=null,ud=!1,Ju=Af=0,hd=null}function mn(){var o={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return va===null?$t.memoizedState=va=o:va=va.next=o,va}function ma(){if(Ss===null){var o=$t.alternate;o=o!==null?o.memoizedState:null}else o=Ss.next;var c=va===null?$t.memoizedState:va.next;if(c!==null)va=c,Ss=o;else{if(o===null)throw $t.alternate===null?Error(n(467)):Error(n(310));Ss=o,o={memoizedState:Ss.memoizedState,baseState:Ss.baseState,baseQueue:Ss.baseQueue,queue:Ss.queue,next:null},va===null?$t.memoizedState=va=o:va=va.next=o}return va}function Tf(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function eh(o){var c=Ju;return Ju+=1,hd===null&&(hd=[]),o=pN(hd,o,c),c=$t,(va===null?c.memoizedState:va.next)===null&&(c=c.alternate,U.H=c===null||c.memoizedState===null?i_:ay),o}function Df(o){if(o!==null&&typeof o=="object"){if(typeof o.then=="function")return eh(o);if(o.$$typeof===R)return qa(o)}throw Error(n(438,String(o)))}function G0(o){var c=null,m=$t.updateQueue;if(m!==null&&(c=m.memoCache),c==null){var g=$t.alternate;g!==null&&(g=g.updateQueue,g!==null&&(g=g.memoCache,g!=null&&(c={data:g.data.map(function(b){return b.slice()}),index:0})))}if(c==null&&(c={data:[],index:0}),m===null&&(m=Tf(),$t.updateQueue=m),m.memoCache=c,m=c.data[c.index],m===void 0)for(m=c.data[c.index]=Array(o),g=0;g<o;g++)m[g]=H;return c.index++,m}function Ui(o,c){return typeof c=="function"?c(o):c}function Ef(o){var c=ma();return W0(c,Ss,o)}function W0(o,c,m){var g=o.queue;if(g===null)throw Error(n(311));g.lastRenderedReducer=m;var b=o.baseQueue,C=g.pending;if(C!==null){if(b!==null){var O=b.next;b.next=C.next,C.next=O}c.baseQueue=b=C,g.pending=null}if(C=o.baseState,b===null)o.memoizedState=C;else{c=b.next;var ee=O=null,me=null,je=c,Oe=!1;do{var ze=je.lane&-536870913;if(ze!==je.lane?(Xt&ze)===ze:(Vi&ze)===ze){var Ce=je.revertLane;if(Ce===0)me!==null&&(me=me.next={lane:0,revertLane:0,gesture:null,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null}),ze===id&&(Oe=!0);else if((Vi&Ce)===Ce){je=je.next,Ce===id&&(Oe=!0);continue}else ze={lane:0,revertLane:je.revertLane,gesture:null,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null},me===null?(ee=me=ze,O=C):me=me.next=ze,$t.lanes|=Ce,Yo|=Ce;ze=je.action,sc&&m(C,ze),C=je.hasEagerState?je.eagerState:m(C,ze)}else Ce={lane:ze,revertLane:je.revertLane,gesture:je.gesture,action:je.action,hasEagerState:je.hasEagerState,eagerState:je.eagerState,next:null},me===null?(ee=me=Ce,O=C):me=me.next=Ce,$t.lanes|=ze,Yo|=ze;je=je.next}while(je!==null&&je!==c);if(me===null?O=C:me.next=ee,!Hn(C,o.memoizedState)&&(ja=!0,Oe&&(m=od,m!==null)))throw m;o.memoizedState=C,o.baseState=O,o.baseQueue=me,g.lastRenderedState=C}return b===null&&(g.lanes=0),[o.memoizedState,g.dispatch]}function Y0(o){var c=ma(),m=c.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=o;var g=m.dispatch,b=m.pending,C=c.memoizedState;if(b!==null){m.pending=null;var O=b=b.next;do C=o(C,O.action),O=O.next;while(O!==b);Hn(C,c.memoizedState)||(ja=!0),c.memoizedState=C,c.baseQueue===null&&(c.baseState=C),m.lastRenderedState=C}return[C,g]}function kN(o,c,m){var g=$t,b=ma(),C=ss;if(C){if(m===void 0)throw Error(n(407));m=m()}else m=c();var O=!Hn((Ss||b).memoizedState,m);if(O&&(b.memoizedState=m,ja=!0),b=b.queue,Q0(TN.bind(null,g,b,o),[o]),b.getSnapshot!==c||O||va!==null&&va.memoizedState.tag&1){if(g.flags|=2048,md(9,{destroy:void 0},AN.bind(null,g,b,m,c),null),Rs===null)throw Error(n(349));C||(Vi&127)!==0||SN(g,c,m)}return m}function SN(o,c,m){o.flags|=16384,o={getSnapshot:c,value:m},c=$t.updateQueue,c===null?(c=Tf(),$t.updateQueue=c,c.stores=[o]):(m=c.stores,m===null?c.stores=[o]:m.push(o))}function AN(o,c,m,g){c.value=m,c.getSnapshot=g,DN(c)&&EN(o)}function TN(o,c,m){return m(function(){DN(c)&&EN(o)})}function DN(o){var c=o.getSnapshot;o=o.value;try{var m=c();return!Hn(o,m)}catch{return!0}}function EN(o){var c=Wl(o,2);c!==null&&An(c,o,2)}function K0(o){var c=mn();if(typeof o=="function"){var m=o;if(o=m(),sc){Me(!0);try{m()}finally{Me(!1)}}}return c.memoizedState=c.baseState=o,c.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:o},c}function RN(o,c,m,g){return o.baseState=m,W0(o,Ss,typeof g=="function"?g:Ui)}function HL(o,c,m,g,b){if(Pf(o))throw Error(n(485));if(o=c.action,o!==null){var C={payload:b,action:o,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(O){C.listeners.push(O)}};U.T!==null?m(!0):C.isTransition=!1,g(C),m=c.pending,m===null?(C.next=c.pending=C,MN(c,C)):(C.next=m.next,c.pending=m.next=C)}}function MN(o,c){var m=c.action,g=c.payload,b=o.state;if(c.isTransition){var C=U.T,O={};U.T=O;try{var ee=m(b,g),me=U.S;me!==null&&me(O,ee),PN(o,c,ee)}catch(je){X0(o,c,je)}finally{C!==null&&O.types!==null&&(C.types=O.types),U.T=C}}else try{C=m(b,g),PN(o,c,C)}catch(je){X0(o,c,je)}}function PN(o,c,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(g){ON(o,c,g)},function(g){return X0(o,c,g)}):ON(o,c,m)}function ON(o,c,m){c.status="fulfilled",c.value=m,LN(c),o.state=m,c=o.pending,c!==null&&(m=c.next,m===c?o.pending=null:(m=m.next,c.next=m,MN(o,m)))}function X0(o,c,m){var g=o.pending;if(o.pending=null,g!==null){g=g.next;do c.status="rejected",c.reason=m,LN(c),c=c.next;while(c!==g)}o.action=null}function LN(o){o=o.listeners;for(var c=0;c<o.length;c++)(0,o[c])()}function BN(o,c){return c}function FN(o,c){if(ss){var m=Rs.formState;if(m!==null){e:{var g=$t;if(ss){if($s){t:{for(var b=$s,C=gr;b.nodeType!==8;){if(!C){b=null;break t}if(b=yr(b.nextSibling),b===null){b=null;break t}}C=b.data,b=C==="F!"||C==="F"?b:null}if(b){$s=yr(b.nextSibling),g=b.data==="F!";break e}}Io(g)}g=!1}g&&(c=m[0])}}return m=mn(),m.memoizedState=m.baseState=c,g={pending:null,lanes:0,dispatch:null,lastRenderedReducer:BN,lastRenderedState:c},m.queue=g,m=a_.bind(null,$t,g),g.dispatch=m,g=K0(!1),C=sy.bind(null,$t,!1,g.queue),g=mn(),b={state:c,dispatch:null,action:o,pending:null},g.queue=b,m=HL.bind(null,$t,b,C,m),b.dispatch=m,g.memoizedState=o,[c,m,!1]}function IN(o){var c=ma();return $N(c,Ss,o)}function $N(o,c,m){if(c=W0(o,c,BN)[0],o=Ef(Ui)[0],typeof c=="object"&&c!==null&&typeof c.then=="function")try{var g=eh(c)}catch(O){throw O===ld?jf:O}else g=c;c=ma();var b=c.queue,C=b.dispatch;return m!==c.memoizedState&&($t.flags|=2048,md(9,{destroy:void 0},qL.bind(null,b,m),null)),[g,C,o]}function qL(o,c){o.action=c}function zN(o){var c=ma(),m=Ss;if(m!==null)return $N(c,m,o);ma(),c=c.memoizedState,m=ma();var g=m.queue.dispatch;return m.memoizedState=o,[c,g,!1]}function md(o,c,m,g){return o={tag:o,create:m,deps:g,inst:c,next:null},c=$t.updateQueue,c===null&&(c=Tf(),$t.updateQueue=c),m=c.lastEffect,m===null?c.lastEffect=o.next=o:(g=m.next,m.next=o,o.next=g,c.lastEffect=o),o}function VN(){return ma().memoizedState}function Rf(o,c,m,g){var b=mn();$t.flags|=o,b.memoizedState=md(1|c,{destroy:void 0},m,g===void 0?null:g)}function Mf(o,c,m,g){var b=ma();g=g===void 0?null:g;var C=b.memoizedState.inst;Ss!==null&&g!==null&&z0(g,Ss.memoizedState.deps)?b.memoizedState=md(c,C,m,g):($t.flags|=o,b.memoizedState=md(1|c,C,m,g))}function UN(o,c){Rf(8390656,8,o,c)}function Q0(o,c){Mf(2048,8,o,c)}function GL(o){$t.flags|=4;var c=$t.updateQueue;if(c===null)c=Tf(),$t.updateQueue=c,c.events=[o];else{var m=c.events;m===null?c.events=[o]:m.push(o)}}function HN(o){var c=ma().memoizedState;return GL({ref:c,nextImpl:o}),function(){if((ys&2)!==0)throw Error(n(440));return c.impl.apply(void 0,arguments)}}function qN(o,c){return Mf(4,2,o,c)}function GN(o,c){return Mf(4,4,o,c)}function WN(o,c){if(typeof c=="function"){o=o();var m=c(o);return function(){typeof m=="function"?m():c(null)}}if(c!=null)return o=o(),c.current=o,function(){c.current=null}}function YN(o,c,m){m=m!=null?m.concat([o]):null,Mf(4,4,WN.bind(null,c,o),m)}function Z0(){}function KN(o,c){var m=ma();c=c===void 0?null:c;var g=m.memoizedState;return c!==null&&z0(c,g[1])?g[0]:(m.memoizedState=[o,c],o)}function XN(o,c){var m=ma();c=c===void 0?null:c;var g=m.memoizedState;if(c!==null&&z0(c,g[1]))return g[0];if(g=o(),sc){Me(!0);try{o()}finally{Me(!1)}}return m.memoizedState=[g,c],g}function J0(o,c,m){return m===void 0||(Vi&1073741824)!==0&&(Xt&261930)===0?o.memoizedState=c:(o.memoizedState=m,o=Q_(),$t.lanes|=o,Yo|=o,m)}function QN(o,c,m,g){return Hn(m,c)?m:dd.current!==null?(o=J0(o,m,g),Hn(o,c)||(ja=!0),o):(Vi&42)===0||(Vi&1073741824)!==0&&(Xt&261930)===0?(ja=!0,o.memoizedState=m):(o=Q_(),$t.lanes|=o,Yo|=o,c)}function ZN(o,c,m,g,b){var C=q.p;q.p=C!==0&&8>C?C:8;var O=U.T,ee={};U.T=ee,sy(o,!1,c,m);try{var me=b(),je=U.S;if(je!==null&&je(ee,me),me!==null&&typeof me=="object"&&typeof me.then=="function"){var Oe=zL(me,g);th(o,c,Oe,Xn(o))}else th(o,c,g,Xn(o))}catch(ze){th(o,c,{then:function(){},status:"rejected",reason:ze},Xn())}finally{q.p=C,O!==null&&ee.types!==null&&(O.types=ee.types),U.T=O}}function WL(){}function ey(o,c,m,g){if(o.tag!==5)throw Error(n(476));var b=JN(o).queue;ZN(o,b,c,G,m===null?WL:function(){return e_(o),m(g)})}function JN(o){var c=o.memoizedState;if(c!==null)return c;c={memoizedState:G,baseState:G,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:G},next:null};var m={};return c.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ui,lastRenderedState:m},next:null},o.memoizedState=c,o=o.alternate,o!==null&&(o.memoizedState=c),c}function e_(o){var c=JN(o);c.next===null&&(c=o.alternate.memoizedState),th(o,c.next.queue,{},Xn())}function ty(){return qa(yh)}function t_(){return ma().memoizedState}function s_(){return ma().memoizedState}function YL(o){for(var c=o.return;c!==null;){switch(c.tag){case 24:case 3:var m=Xn();o=Vo(m);var g=Uo(c,o,m);g!==null&&(An(g,c,m),Xu(g,c,m)),c={cache:D0()},o.payload=c;return}c=c.return}}function KL(o,c,m){var g=Xn();m={lane:g,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null},Pf(o)?n_(c,m):(m=b0(o,c,m,g),m!==null&&(An(m,o,g),r_(m,c,g)))}function a_(o,c,m){var g=Xn();th(o,c,m,g)}function th(o,c,m,g){var b={lane:g,revertLane:0,gesture:null,action:m,hasEagerState:!1,eagerState:null,next:null};if(Pf(o))n_(c,b);else{var C=o.alternate;if(o.lanes===0&&(C===null||C.lanes===0)&&(C=c.lastRenderedReducer,C!==null))try{var O=c.lastRenderedState,ee=C(O,m);if(b.hasEagerState=!0,b.eagerState=ee,Hn(ee,O))return ff(o,c,b,0),Rs===null&&mf(),!1}catch{}finally{}if(m=b0(o,c,b,g),m!==null)return An(m,o,g),r_(m,c,g),!0}return!1}function sy(o,c,m,g){if(g={lane:2,revertLane:Py(),gesture:null,action:g,hasEagerState:!1,eagerState:null,next:null},Pf(o)){if(c)throw Error(n(479))}else c=b0(o,m,g,2),c!==null&&An(c,o,2)}function Pf(o){var c=o.alternate;return o===$t||c!==null&&c===$t}function n_(o,c){ud=Sf=!0;var m=o.pending;m===null?c.next=c:(c.next=m.next,m.next=c),o.pending=c}function r_(o,c,m){if((m&4194048)!==0){var g=c.lanes;g&=o.pendingLanes,m|=g,c.lanes=m,Os(o,m)}}var sh={readContext:qa,use:Df,useCallback:ra,useContext:ra,useEffect:ra,useImperativeHandle:ra,useLayoutEffect:ra,useInsertionEffect:ra,useMemo:ra,useReducer:ra,useRef:ra,useState:ra,useDebugValue:ra,useDeferredValue:ra,useTransition:ra,useSyncExternalStore:ra,useId:ra,useHostTransitionStatus:ra,useFormState:ra,useActionState:ra,useOptimistic:ra,useMemoCache:ra,useCacheRefresh:ra};sh.useEffectEvent=ra;var i_={readContext:qa,use:Df,useCallback:function(o,c){return mn().memoizedState=[o,c===void 0?null:c],o},useContext:qa,useEffect:UN,useImperativeHandle:function(o,c,m){m=m!=null?m.concat([o]):null,Rf(4194308,4,WN.bind(null,c,o),m)},useLayoutEffect:function(o,c){return Rf(4194308,4,o,c)},useInsertionEffect:function(o,c){Rf(4,2,o,c)},useMemo:function(o,c){var m=mn();c=c===void 0?null:c;var g=o();if(sc){Me(!0);try{o()}finally{Me(!1)}}return m.memoizedState=[g,c],g},useReducer:function(o,c,m){var g=mn();if(m!==void 0){var b=m(c);if(sc){Me(!0);try{m(c)}finally{Me(!1)}}}else b=c;return g.memoizedState=g.baseState=b,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:o,lastRenderedState:b},g.queue=o,o=o.dispatch=KL.bind(null,$t,o),[g.memoizedState,o]},useRef:function(o){var c=mn();return o={current:o},c.memoizedState=o},useState:function(o){o=K0(o);var c=o.queue,m=a_.bind(null,$t,c);return c.dispatch=m,[o.memoizedState,m]},useDebugValue:Z0,useDeferredValue:function(o,c){var m=mn();return J0(m,o,c)},useTransition:function(){var o=K0(!1);return o=ZN.bind(null,$t,o.queue,!0,!1),mn().memoizedState=o,[!1,o]},useSyncExternalStore:function(o,c,m){var g=$t,b=mn();if(ss){if(m===void 0)throw Error(n(407));m=m()}else{if(m=c(),Rs===null)throw Error(n(349));(Xt&127)!==0||SN(g,c,m)}b.memoizedState=m;var C={value:m,getSnapshot:c};return b.queue=C,UN(TN.bind(null,g,C,o),[o]),g.flags|=2048,md(9,{destroy:void 0},AN.bind(null,g,C,m,c),null),m},useId:function(){var o=mn(),c=Rs.identifierPrefix;if(ss){var m=li,g=oi;m=(g&~(1<<32-Ue(g)-1)).toString(32)+m,c="_"+c+"R_"+m,m=Af++,0<m&&(c+="H"+m.toString(32)),c+="_"}else m=VL++,c="_"+c+"r_"+m.toString(32)+"_";return o.memoizedState=c},useHostTransitionStatus:ty,useFormState:FN,useActionState:FN,useOptimistic:function(o){var c=mn();c.memoizedState=c.baseState=o;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return c.queue=m,c=sy.bind(null,$t,!0,m),m.dispatch=c,[o,c]},useMemoCache:G0,useCacheRefresh:function(){return mn().memoizedState=YL.bind(null,$t)},useEffectEvent:function(o){var c=mn(),m={impl:o};return c.memoizedState=m,function(){if((ys&2)!==0)throw Error(n(440));return m.impl.apply(void 0,arguments)}}},ay={readContext:qa,use:Df,useCallback:KN,useContext:qa,useEffect:Q0,useImperativeHandle:YN,useInsertionEffect:qN,useLayoutEffect:GN,useMemo:XN,useReducer:Ef,useRef:VN,useState:function(){return Ef(Ui)},useDebugValue:Z0,useDeferredValue:function(o,c){var m=ma();return QN(m,Ss.memoizedState,o,c)},useTransition:function(){var o=Ef(Ui)[0],c=ma().memoizedState;return[typeof o=="boolean"?o:eh(o),c]},useSyncExternalStore:kN,useId:t_,useHostTransitionStatus:ty,useFormState:IN,useActionState:IN,useOptimistic:function(o,c){var m=ma();return RN(m,Ss,o,c)},useMemoCache:G0,useCacheRefresh:s_};ay.useEffectEvent=HN;var o_={readContext:qa,use:Df,useCallback:KN,useContext:qa,useEffect:Q0,useImperativeHandle:YN,useInsertionEffect:qN,useLayoutEffect:GN,useMemo:XN,useReducer:Y0,useRef:VN,useState:function(){return Y0(Ui)},useDebugValue:Z0,useDeferredValue:function(o,c){var m=ma();return Ss===null?J0(m,o,c):QN(m,Ss.memoizedState,o,c)},useTransition:function(){var o=Y0(Ui)[0],c=ma().memoizedState;return[typeof o=="boolean"?o:eh(o),c]},useSyncExternalStore:kN,useId:t_,useHostTransitionStatus:ty,useFormState:zN,useActionState:zN,useOptimistic:function(o,c){var m=ma();return Ss!==null?RN(m,Ss,o,c):(m.baseState=o,[o,m.queue.dispatch])},useMemoCache:G0,useCacheRefresh:s_};o_.useEffectEvent=HN;function ny(o,c,m,g){c=o.memoizedState,m=m(g,c),m=m==null?c:f({},c,m),o.memoizedState=m,o.lanes===0&&(o.updateQueue.baseState=m)}var ry={enqueueSetState:function(o,c,m){o=o._reactInternals;var g=Xn(),b=Vo(g);b.payload=c,m!=null&&(b.callback=m),c=Uo(o,b,g),c!==null&&(An(c,o,g),Xu(c,o,g))},enqueueReplaceState:function(o,c,m){o=o._reactInternals;var g=Xn(),b=Vo(g);b.tag=1,b.payload=c,m!=null&&(b.callback=m),c=Uo(o,b,g),c!==null&&(An(c,o,g),Xu(c,o,g))},enqueueForceUpdate:function(o,c){o=o._reactInternals;var m=Xn(),g=Vo(m);g.tag=2,c!=null&&(g.callback=c),c=Uo(o,g,m),c!==null&&(An(c,o,m),Xu(c,o,m))}};function l_(o,c,m,g,b,C,O){return o=o.stateNode,typeof o.shouldComponentUpdate=="function"?o.shouldComponentUpdate(g,C,O):c.prototype&&c.prototype.isPureReactComponent?!Vu(m,g)||!Vu(b,C):!0}function c_(o,c,m,g){o=c.state,typeof c.componentWillReceiveProps=="function"&&c.componentWillReceiveProps(m,g),typeof c.UNSAFE_componentWillReceiveProps=="function"&&c.UNSAFE_componentWillReceiveProps(m,g),c.state!==o&&ry.enqueueReplaceState(c,c.state,null)}function ac(o,c){var m=c;if("ref"in c){m={};for(var g in c)g!=="ref"&&(m[g]=c[g])}if(o=o.defaultProps){m===c&&(m=f({},m));for(var b in o)m[b]===void 0&&(m[b]=o[b])}return m}function d_(o){hf(o)}function u_(o){console.error(o)}function h_(o){hf(o)}function Of(o,c){try{var m=o.onUncaughtError;m(c.value,{componentStack:c.stack})}catch(g){setTimeout(function(){throw g})}}function m_(o,c,m){try{var g=o.onCaughtError;g(m.value,{componentStack:m.stack,errorBoundary:c.tag===1?c.stateNode:null})}catch(b){setTimeout(function(){throw b})}}function iy(o,c,m){return m=Vo(m),m.tag=3,m.payload={element:null},m.callback=function(){Of(o,c)},m}function f_(o){return o=Vo(o),o.tag=3,o}function p_(o,c,m,g){var b=m.type.getDerivedStateFromError;if(typeof b=="function"){var C=g.value;o.payload=function(){return b(C)},o.callback=function(){m_(c,m,g)}}var O=m.stateNode;O!==null&&typeof O.componentDidCatch=="function"&&(o.callback=function(){m_(c,m,g),typeof b!="function"&&(Ko===null?Ko=new Set([this]):Ko.add(this));var ee=g.stack;this.componentDidCatch(g.value,{componentStack:ee!==null?ee:""})})}function XL(o,c,m,g,b){if(m.flags|=32768,g!==null&&typeof g=="object"&&typeof g.then=="function"){if(c=m.alternate,c!==null&&rd(c,m,b,!0),m=Gn.current,m!==null){switch(m.tag){case 31:case 13:return xr===null?Wf():m.alternate===null&&ia===0&&(ia=3),m.flags&=-257,m.flags|=65536,m.lanes=b,g===wf?m.flags|=16384:(c=m.updateQueue,c===null?m.updateQueue=new Set([g]):c.add(g),Ey(o,g,b)),!1;case 22:return m.flags|=65536,g===wf?m.flags|=16384:(c=m.updateQueue,c===null?(c={transitions:null,markerInstances:null,retryQueue:new Set([g])},m.updateQueue=c):(m=c.retryQueue,m===null?c.retryQueue=new Set([g]):m.add(g)),Ey(o,g,b)),!1}throw Error(n(435,m.tag))}return Ey(o,g,b),Wf(),!1}if(ss)return c=Gn.current,c!==null?((c.flags&65536)===0&&(c.flags|=256),c.flags|=65536,c.lanes=b,g!==C0&&(o=Error(n(422),{cause:g}),qu(mr(o,m)))):(g!==C0&&(c=Error(n(423),{cause:g}),qu(mr(c,m))),o=o.current.alternate,o.flags|=65536,b&=-b,o.lanes|=b,g=mr(g,m),b=iy(o.stateNode,g,b),L0(o,b),ia!==4&&(ia=2)),!1;var C=Error(n(520),{cause:g});if(C=mr(C,m),dh===null?dh=[C]:dh.push(C),ia!==4&&(ia=2),c===null)return!0;g=mr(g,m),m=c;do{switch(m.tag){case 3:return m.flags|=65536,o=b&-b,m.lanes|=o,o=iy(m.stateNode,g,o),L0(m,o),!1;case 1:if(c=m.type,C=m.stateNode,(m.flags&128)===0&&(typeof c.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Ko===null||!Ko.has(C))))return m.flags|=65536,b&=-b,m.lanes|=b,b=f_(b),p_(b,o,m,g),L0(m,b),!1}m=m.return}while(m!==null);return!1}var oy=Error(n(461)),ja=!1;function Ga(o,c,m,g){c.child=o===null?bN(c,null,m,g):tc(c,o.child,m,g)}function g_(o,c,m,g,b){m=m.render;var C=c.ref;if("ref"in g){var O={};for(var ee in g)ee!=="ref"&&(O[ee]=g[ee])}else O=g;return Ql(c),g=V0(o,c,m,O,C,b),ee=U0(),o!==null&&!ja?(H0(o,c,b),Hi(o,c,b)):(ss&&ee&&N0(c),c.flags|=1,Ga(o,c,g,b),c.child)}function x_(o,c,m,g,b){if(o===null){var C=m.type;return typeof C=="function"&&!v0(C)&&C.defaultProps===void 0&&m.compare===null?(c.tag=15,c.type=C,y_(o,c,C,g,b)):(o=gf(m.type,null,g,c,c.mode,b),o.ref=c.ref,o.return=c,c.child=o)}if(C=o.child,!py(o,b)){var O=C.memoizedProps;if(m=m.compare,m=m!==null?m:Vu,m(O,g)&&o.ref===c.ref)return Hi(o,c,b)}return c.flags|=1,o=Fi(C,g),o.ref=c.ref,o.return=c,c.child=o}function y_(o,c,m,g,b){if(o!==null){var C=o.memoizedProps;if(Vu(C,g)&&o.ref===c.ref)if(ja=!1,c.pendingProps=g=C,py(o,b))(o.flags&131072)!==0&&(ja=!0);else return c.lanes=o.lanes,Hi(o,c,b)}return ly(o,c,m,g,b)}function b_(o,c,m,g){var b=g.children,C=o!==null?o.memoizedState:null;if(o===null&&c.stateNode===null&&(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),g.mode==="hidden"){if((c.flags&128)!==0){if(C=C!==null?C.baseLanes|m:m,o!==null){for(g=c.child=o.child,b=0;g!==null;)b=b|g.lanes|g.childLanes,g=g.sibling;g=b&~C}else g=0,c.child=null;return v_(o,c,C,m,g)}if((m&536870912)!==0)c.memoizedState={baseLanes:0,cachePool:null},o!==null&&vf(c,C!==null?C.cachePool:null),C!==null?wN(c,C):F0(),NN(c);else return g=c.lanes=536870912,v_(o,c,C!==null?C.baseLanes|m:m,m,g)}else C!==null?(vf(c,C.cachePool),wN(c,C),qo(),c.memoizedState=null):(o!==null&&vf(c,null),F0(),qo());return Ga(o,c,b,m),c.child}function ah(o,c){return o!==null&&o.tag===22||c.stateNode!==null||(c.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),c.sibling}function v_(o,c,m,g,b){var C=R0();return C=C===null?null:{parent:ba._currentValue,pool:C},c.memoizedState={baseLanes:m,cachePool:C},o!==null&&vf(c,null),F0(),NN(c),o!==null&&rd(o,c,g,!0),c.childLanes=b,null}function Lf(o,c){return c=Ff({mode:c.mode,children:c.children},o.mode),c.ref=o.ref,o.child=c,c.return=o,c}function j_(o,c,m){return tc(c,o.child,null,m),o=Lf(c,c.pendingProps),o.flags|=2,Wn(c),c.memoizedState=null,o}function QL(o,c,m){var g=c.pendingProps,b=(c.flags&128)!==0;if(c.flags&=-129,o===null){if(ss){if(g.mode==="hidden")return o=Lf(c,g),c.lanes=536870912,ah(null,o);if($0(c),(o=$s)?(o=MC(o,gr),o=o!==null&&o.data==="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:Bo!==null?{id:oi,overflow:li}:null,retryLane:536870912,hydrationErrors:null},m=nN(o),m.return=c,c.child=m,Ha=c,$s=null)):o=null,o===null)throw Io(c);return c.lanes=536870912,null}return Lf(c,g)}var C=o.memoizedState;if(C!==null){var O=C.dehydrated;if($0(c),b)if(c.flags&256)c.flags&=-257,c=j_(o,c,m);else if(c.memoizedState!==null)c.child=o.child,c.flags|=128,c=null;else throw Error(n(558));else if(ja||rd(o,c,m,!1),b=(m&o.childLanes)!==0,ja||b){if(g=Rs,g!==null&&(O=Ta(g,m),O!==0&&O!==C.retryLane))throw C.retryLane=O,Wl(o,O),An(g,o,O),oy;Wf(),c=j_(o,c,m)}else o=C.treeContext,$s=yr(O.nextSibling),Ha=c,ss=!0,Fo=null,gr=!1,o!==null&&oN(c,o),c=Lf(c,g),c.flags|=4096;return c}return o=Fi(o.child,{mode:g.mode,children:g.children}),o.ref=c.ref,c.child=o,o.return=c,o}function Bf(o,c){var m=c.ref;if(m===null)o!==null&&o.ref!==null&&(c.flags|=4194816);else{if(typeof m!="function"&&typeof m!="object")throw Error(n(284));(o===null||o.ref!==m)&&(c.flags|=4194816)}}function ly(o,c,m,g,b){return Ql(c),m=V0(o,c,m,g,void 0,b),g=U0(),o!==null&&!ja?(H0(o,c,b),Hi(o,c,b)):(ss&&g&&N0(c),c.flags|=1,Ga(o,c,m,b),c.child)}function w_(o,c,m,g,b,C){return Ql(c),c.updateQueue=null,m=CN(c,g,m,b),_N(o),g=U0(),o!==null&&!ja?(H0(o,c,C),Hi(o,c,C)):(ss&&g&&N0(c),c.flags|=1,Ga(o,c,m,C),c.child)}function N_(o,c,m,g,b){if(Ql(c),c.stateNode===null){var C=td,O=m.contextType;typeof O=="object"&&O!==null&&(C=qa(O)),C=new m(g,C),c.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=ry,c.stateNode=C,C._reactInternals=c,C=c.stateNode,C.props=g,C.state=c.memoizedState,C.refs={},P0(c),O=m.contextType,C.context=typeof O=="object"&&O!==null?qa(O):td,C.state=c.memoizedState,O=m.getDerivedStateFromProps,typeof O=="function"&&(ny(c,m,O,g),C.state=c.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(O=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),O!==C.state&&ry.enqueueReplaceState(C,C.state,null),Zu(c,g,C,b),Qu(),C.state=c.memoizedState),typeof C.componentDidMount=="function"&&(c.flags|=4194308),g=!0}else if(o===null){C=c.stateNode;var ee=c.memoizedProps,me=ac(m,ee);C.props=me;var je=C.context,Oe=m.contextType;O=td,typeof Oe=="object"&&Oe!==null&&(O=qa(Oe));var ze=m.getDerivedStateFromProps;Oe=typeof ze=="function"||typeof C.getSnapshotBeforeUpdate=="function",ee=c.pendingProps!==ee,Oe||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(ee||je!==O)&&c_(c,C,g,O),zo=!1;var Ce=c.memoizedState;C.state=Ce,Zu(c,g,C,b),Qu(),je=c.memoizedState,ee||Ce!==je||zo?(typeof ze=="function"&&(ny(c,m,ze,g),je=c.memoizedState),(me=zo||l_(c,m,me,g,Ce,je,O))?(Oe||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(c.flags|=4194308)):(typeof C.componentDidMount=="function"&&(c.flags|=4194308),c.memoizedProps=g,c.memoizedState=je),C.props=g,C.state=je,C.context=O,g=me):(typeof C.componentDidMount=="function"&&(c.flags|=4194308),g=!1)}else{C=c.stateNode,O0(o,c),O=c.memoizedProps,Oe=ac(m,O),C.props=Oe,ze=c.pendingProps,Ce=C.context,je=m.contextType,me=td,typeof je=="object"&&je!==null&&(me=qa(je)),ee=m.getDerivedStateFromProps,(je=typeof ee=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(O!==ze||Ce!==me)&&c_(c,C,g,me),zo=!1,Ce=c.memoizedState,C.state=Ce,Zu(c,g,C,b),Qu();var De=c.memoizedState;O!==ze||Ce!==De||zo||o!==null&&o.dependencies!==null&&yf(o.dependencies)?(typeof ee=="function"&&(ny(c,m,ee,g),De=c.memoizedState),(Oe=zo||l_(c,m,Oe,g,Ce,De,me)||o!==null&&o.dependencies!==null&&yf(o.dependencies))?(je||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(g,De,me),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(g,De,me)),typeof C.componentDidUpdate=="function"&&(c.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(c.flags|=1024)):(typeof C.componentDidUpdate!="function"||O===o.memoizedProps&&Ce===o.memoizedState||(c.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||O===o.memoizedProps&&Ce===o.memoizedState||(c.flags|=1024),c.memoizedProps=g,c.memoizedState=De),C.props=g,C.state=De,C.context=me,g=Oe):(typeof C.componentDidUpdate!="function"||O===o.memoizedProps&&Ce===o.memoizedState||(c.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||O===o.memoizedProps&&Ce===o.memoizedState||(c.flags|=1024),g=!1)}return C=g,Bf(o,c),g=(c.flags&128)!==0,C||g?(C=c.stateNode,m=g&&typeof m.getDerivedStateFromError!="function"?null:C.render(),c.flags|=1,o!==null&&g?(c.child=tc(c,o.child,null,b),c.child=tc(c,null,m,b)):Ga(o,c,m,b),c.memoizedState=C.state,o=c.child):o=Hi(o,c,b),o}function __(o,c,m,g){return Kl(),c.flags|=256,Ga(o,c,m,g),c.child}var cy={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function dy(o){return{baseLanes:o,cachePool:mN()}}function uy(o,c,m){return o=o!==null?o.childLanes&~m:0,c&&(o|=Kn),o}function C_(o,c,m){var g=c.pendingProps,b=!1,C=(c.flags&128)!==0,O;if((O=C)||(O=o!==null&&o.memoizedState===null?!1:(ha.current&2)!==0),O&&(b=!0,c.flags&=-129),O=(c.flags&32)!==0,c.flags&=-33,o===null){if(ss){if(b?Ho(c):qo(),(o=$s)?(o=MC(o,gr),o=o!==null&&o.data!=="&"?o:null,o!==null&&(c.memoizedState={dehydrated:o,treeContext:Bo!==null?{id:oi,overflow:li}:null,retryLane:536870912,hydrationErrors:null},m=nN(o),m.return=c,c.child=m,Ha=c,$s=null)):o=null,o===null)throw Io(c);return Wy(o)?c.lanes=32:c.lanes=536870912,null}var ee=g.children;return g=g.fallback,b?(qo(),b=c.mode,ee=Ff({mode:"hidden",children:ee},b),g=Yl(g,b,m,null),ee.return=c,g.return=c,ee.sibling=g,c.child=ee,g=c.child,g.memoizedState=dy(m),g.childLanes=uy(o,O,m),c.memoizedState=cy,ah(null,g)):(Ho(c),hy(c,ee))}var me=o.memoizedState;if(me!==null&&(ee=me.dehydrated,ee!==null)){if(C)c.flags&256?(Ho(c),c.flags&=-257,c=my(o,c,m)):c.memoizedState!==null?(qo(),c.child=o.child,c.flags|=128,c=null):(qo(),ee=g.fallback,b=c.mode,g=Ff({mode:"visible",children:g.children},b),ee=Yl(ee,b,m,null),ee.flags|=2,g.return=c,ee.return=c,g.sibling=ee,c.child=g,tc(c,o.child,null,m),g=c.child,g.memoizedState=dy(m),g.childLanes=uy(o,O,m),c.memoizedState=cy,c=ah(null,g));else if(Ho(c),Wy(ee)){if(O=ee.nextSibling&&ee.nextSibling.dataset,O)var je=O.dgst;O=je,g=Error(n(419)),g.stack="",g.digest=O,qu({value:g,source:null,stack:null}),c=my(o,c,m)}else if(ja||rd(o,c,m,!1),O=(m&o.childLanes)!==0,ja||O){if(O=Rs,O!==null&&(g=Ta(O,m),g!==0&&g!==me.retryLane))throw me.retryLane=g,Wl(o,g),An(O,o,g),oy;Gy(ee)||Wf(),c=my(o,c,m)}else Gy(ee)?(c.flags|=192,c.child=o.child,c=null):(o=me.treeContext,$s=yr(ee.nextSibling),Ha=c,ss=!0,Fo=null,gr=!1,o!==null&&oN(c,o),c=hy(c,g.children),c.flags|=4096);return c}return b?(qo(),ee=g.fallback,b=c.mode,me=o.child,je=me.sibling,g=Fi(me,{mode:"hidden",children:g.children}),g.subtreeFlags=me.subtreeFlags&65011712,je!==null?ee=Fi(je,ee):(ee=Yl(ee,b,m,null),ee.flags|=2),ee.return=c,g.return=c,g.sibling=ee,c.child=g,ah(null,g),g=c.child,ee=o.child.memoizedState,ee===null?ee=dy(m):(b=ee.cachePool,b!==null?(me=ba._currentValue,b=b.parent!==me?{parent:me,pool:me}:b):b=mN(),ee={baseLanes:ee.baseLanes|m,cachePool:b}),g.memoizedState=ee,g.childLanes=uy(o,O,m),c.memoizedState=cy,ah(o.child,g)):(Ho(c),m=o.child,o=m.sibling,m=Fi(m,{mode:"visible",children:g.children}),m.return=c,m.sibling=null,o!==null&&(O=c.deletions,O===null?(c.deletions=[o],c.flags|=16):O.push(o)),c.child=m,c.memoizedState=null,m)}function hy(o,c){return c=Ff({mode:"visible",children:c},o.mode),c.return=o,o.child=c}function Ff(o,c){return o=qn(22,o,null,c),o.lanes=0,o}function my(o,c,m){return tc(c,o.child,null,m),o=hy(c,c.pendingProps.children),o.flags|=2,c.memoizedState=null,o}function k_(o,c,m){o.lanes|=c;var g=o.alternate;g!==null&&(g.lanes|=c),A0(o.return,c,m)}function fy(o,c,m,g,b,C){var O=o.memoizedState;O===null?o.memoizedState={isBackwards:c,rendering:null,renderingStartTime:0,last:g,tail:m,tailMode:b,treeForkCount:C}:(O.isBackwards=c,O.rendering=null,O.renderingStartTime=0,O.last=g,O.tail=m,O.tailMode=b,O.treeForkCount=C)}function S_(o,c,m){var g=c.pendingProps,b=g.revealOrder,C=g.tail;g=g.children;var O=ha.current,ee=(O&2)!==0;if(ee?(O=O&1|2,c.flags|=128):O&=1,le(ha,O),Ga(o,c,g,m),g=ss?Hu:0,!ee&&o!==null&&(o.flags&128)!==0)e:for(o=c.child;o!==null;){if(o.tag===13)o.memoizedState!==null&&k_(o,m,c);else if(o.tag===19)k_(o,m,c);else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===c)break e;for(;o.sibling===null;){if(o.return===null||o.return===c)break e;o=o.return}o.sibling.return=o.return,o=o.sibling}switch(b){case"forwards":for(m=c.child,b=null;m!==null;)o=m.alternate,o!==null&&kf(o)===null&&(b=m),m=m.sibling;m=b,m===null?(b=c.child,c.child=null):(b=m.sibling,m.sibling=null),fy(c,!1,b,m,C,g);break;case"backwards":case"unstable_legacy-backwards":for(m=null,b=c.child,c.child=null;b!==null;){if(o=b.alternate,o!==null&&kf(o)===null){c.child=b;break}o=b.sibling,b.sibling=m,m=b,b=o}fy(c,!0,m,null,C,g);break;case"together":fy(c,!1,null,null,void 0,g);break;default:c.memoizedState=null}return c.child}function Hi(o,c,m){if(o!==null&&(c.dependencies=o.dependencies),Yo|=c.lanes,(m&c.childLanes)===0)if(o!==null){if(rd(o,c,m,!1),(m&c.childLanes)===0)return null}else return null;if(o!==null&&c.child!==o.child)throw Error(n(153));if(c.child!==null){for(o=c.child,m=Fi(o,o.pendingProps),c.child=m,m.return=c;o.sibling!==null;)o=o.sibling,m=m.sibling=Fi(o,o.pendingProps),m.return=c;m.sibling=null}return c.child}function py(o,c){return(o.lanes&c)!==0?!0:(o=o.dependencies,!!(o!==null&&yf(o)))}function ZL(o,c,m){switch(c.tag){case 3:Be(c,c.stateNode.containerInfo),$o(c,ba,o.memoizedState.cache),Kl();break;case 27:case 5:Ye(c);break;case 4:Be(c,c.stateNode.containerInfo);break;case 10:$o(c,c.type,c.memoizedProps.value);break;case 31:if(c.memoizedState!==null)return c.flags|=128,$0(c),null;break;case 13:var g=c.memoizedState;if(g!==null)return g.dehydrated!==null?(Ho(c),c.flags|=128,null):(m&c.child.childLanes)!==0?C_(o,c,m):(Ho(c),o=Hi(o,c,m),o!==null?o.sibling:null);Ho(c);break;case 19:var b=(o.flags&128)!==0;if(g=(m&c.childLanes)!==0,g||(rd(o,c,m,!1),g=(m&c.childLanes)!==0),b){if(g)return S_(o,c,m);c.flags|=128}if(b=c.memoizedState,b!==null&&(b.rendering=null,b.tail=null,b.lastEffect=null),le(ha,ha.current),g)break;return null;case 22:return c.lanes=0,b_(o,c,m,c.pendingProps);case 24:$o(c,ba,o.memoizedState.cache)}return Hi(o,c,m)}function A_(o,c,m){if(o!==null)if(o.memoizedProps!==c.pendingProps)ja=!0;else{if(!py(o,m)&&(c.flags&128)===0)return ja=!1,ZL(o,c,m);ja=(o.flags&131072)!==0}else ja=!1,ss&&(c.flags&1048576)!==0&&iN(c,Hu,c.index);switch(c.lanes=0,c.tag){case 16:e:{var g=c.pendingProps;if(o=Jl(c.elementType),c.type=o,typeof o=="function")v0(o)?(g=ac(o,g),c.tag=1,c=N_(null,c,o,g,m)):(c.tag=0,c=ly(null,c,o,g,m));else{if(o!=null){var b=o.$$typeof;if(b===E){c.tag=11,c=g_(null,c,o,g,m);break e}else if(b===k){c.tag=14,c=x_(null,c,o,g,m);break e}}throw c=ne(o)||o,Error(n(306,c,""))}}return c;case 0:return ly(o,c,c.type,c.pendingProps,m);case 1:return g=c.type,b=ac(g,c.pendingProps),N_(o,c,g,b,m);case 3:e:{if(Be(c,c.stateNode.containerInfo),o===null)throw Error(n(387));g=c.pendingProps;var C=c.memoizedState;b=C.element,O0(o,c),Zu(c,g,null,m);var O=c.memoizedState;if(g=O.cache,$o(c,ba,g),g!==C.cache&&T0(c,[ba],m,!0),Qu(),g=O.element,C.isDehydrated)if(C={element:g,isDehydrated:!1,cache:O.cache},c.updateQueue.baseState=C,c.memoizedState=C,c.flags&256){c=__(o,c,g,m);break e}else if(g!==b){b=mr(Error(n(424)),c),qu(b),c=__(o,c,g,m);break e}else{switch(o=c.stateNode.containerInfo,o.nodeType){case 9:o=o.body;break;default:o=o.nodeName==="HTML"?o.ownerDocument.body:o}for($s=yr(o.firstChild),Ha=c,ss=!0,Fo=null,gr=!0,m=bN(c,null,g,m),c.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling}else{if(Kl(),g===b){c=Hi(o,c,m);break e}Ga(o,c,g,m)}c=c.child}return c;case 26:return Bf(o,c),o===null?(m=IC(c.type,null,c.pendingProps,null))?c.memoizedState=m:ss||(m=c.type,o=c.pendingProps,g=ep(we.current).createElement(m),g[ua]=c,g[aa]=o,Wa(g,m,o),ks(g),c.stateNode=g):c.memoizedState=IC(c.type,o.memoizedProps,c.pendingProps,o.memoizedState),null;case 27:return Ye(c),o===null&&ss&&(g=c.stateNode=LC(c.type,c.pendingProps,we.current),Ha=c,gr=!0,b=$s,Jo(c.type)?(Yy=b,$s=yr(g.firstChild)):$s=b),Ga(o,c,c.pendingProps.children,m),Bf(o,c),o===null&&(c.flags|=4194304),c.child;case 5:return o===null&&ss&&((b=g=$s)&&(g=A6(g,c.type,c.pendingProps,gr),g!==null?(c.stateNode=g,Ha=c,$s=yr(g.firstChild),gr=!1,b=!0):b=!1),b||Io(c)),Ye(c),b=c.type,C=c.pendingProps,O=o!==null?o.memoizedProps:null,g=C.children,Uy(b,C)?g=null:O!==null&&Uy(b,O)&&(c.flags|=32),c.memoizedState!==null&&(b=V0(o,c,UL,null,null,m),yh._currentValue=b),Bf(o,c),Ga(o,c,g,m),c.child;case 6:return o===null&&ss&&((o=m=$s)&&(m=T6(m,c.pendingProps,gr),m!==null?(c.stateNode=m,Ha=c,$s=null,o=!0):o=!1),o||Io(c)),null;case 13:return C_(o,c,m);case 4:return Be(c,c.stateNode.containerInfo),g=c.pendingProps,o===null?c.child=tc(c,null,g,m):Ga(o,c,g,m),c.child;case 11:return g_(o,c,c.type,c.pendingProps,m);case 7:return Ga(o,c,c.pendingProps,m),c.child;case 8:return Ga(o,c,c.pendingProps.children,m),c.child;case 12:return Ga(o,c,c.pendingProps.children,m),c.child;case 10:return g=c.pendingProps,$o(c,c.type,g.value),Ga(o,c,g.children,m),c.child;case 9:return b=c.type._context,g=c.pendingProps.children,Ql(c),b=qa(b),g=g(b),c.flags|=1,Ga(o,c,g,m),c.child;case 14:return x_(o,c,c.type,c.pendingProps,m);case 15:return y_(o,c,c.type,c.pendingProps,m);case 19:return S_(o,c,m);case 31:return QL(o,c,m);case 22:return b_(o,c,m,c.pendingProps);case 24:return Ql(c),g=qa(ba),o===null?(b=R0(),b===null&&(b=Rs,C=D0(),b.pooledCache=C,C.refCount++,C!==null&&(b.pooledCacheLanes|=m),b=C),c.memoizedState={parent:g,cache:b},P0(c),$o(c,ba,b)):((o.lanes&m)!==0&&(O0(o,c),Zu(c,null,null,m),Qu()),b=o.memoizedState,C=c.memoizedState,b.parent!==g?(b={parent:g,cache:g},c.memoizedState=b,c.lanes===0&&(c.memoizedState=c.updateQueue.baseState=b),$o(c,ba,g)):(g=C.cache,$o(c,ba,g),g!==b.cache&&T0(c,[ba],m,!0))),Ga(o,c,c.pendingProps.children,m),c.child;case 29:throw c.pendingProps}throw Error(n(156,c.tag))}function qi(o){o.flags|=4}function gy(o,c,m,g,b){if((c=(o.mode&32)!==0)&&(c=!1),c){if(o.flags|=16777216,(b&335544128)===b)if(o.stateNode.complete)o.flags|=8192;else if(tC())o.flags|=8192;else throw ec=wf,M0}else o.flags&=-16777217}function T_(o,c){if(c.type!=="stylesheet"||(c.state.loading&4)!==0)o.flags&=-16777217;else if(o.flags|=16777216,!HC(c))if(tC())o.flags|=8192;else throw ec=wf,M0}function If(o,c){c!==null&&(o.flags|=4),o.flags&16384&&(c=o.tag!==22?Hs():536870912,o.lanes|=c,xd|=c)}function nh(o,c){if(!ss)switch(o.tailMode){case"hidden":c=o.tail;for(var m=null;c!==null;)c.alternate!==null&&(m=c),c=c.sibling;m===null?o.tail=null:m.sibling=null;break;case"collapsed":m=o.tail;for(var g=null;m!==null;)m.alternate!==null&&(g=m),m=m.sibling;g===null?c||o.tail===null?o.tail=null:o.tail.sibling=null:g.sibling=null}}function zs(o){var c=o.alternate!==null&&o.alternate.child===o.child,m=0,g=0;if(c)for(var b=o.child;b!==null;)m|=b.lanes|b.childLanes,g|=b.subtreeFlags&65011712,g|=b.flags&65011712,b.return=o,b=b.sibling;else for(b=o.child;b!==null;)m|=b.lanes|b.childLanes,g|=b.subtreeFlags,g|=b.flags,b.return=o,b=b.sibling;return o.subtreeFlags|=g,o.childLanes=m,c}function JL(o,c,m){var g=c.pendingProps;switch(_0(c),c.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return zs(c),null;case 1:return zs(c),null;case 3:return m=c.stateNode,g=null,o!==null&&(g=o.memoizedState.cache),c.memoizedState.cache!==g&&(c.flags|=2048),zi(ba),ke(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(o===null||o.child===null)&&(nd(c)?qi(c):o===null||o.memoizedState.isDehydrated&&(c.flags&256)===0||(c.flags|=1024,k0())),zs(c),null;case 26:var b=c.type,C=c.memoizedState;return o===null?(qi(c),C!==null?(zs(c),T_(c,C)):(zs(c),gy(c,b,null,g,m))):C?C!==o.memoizedState?(qi(c),zs(c),T_(c,C)):(zs(c),c.flags&=-16777217):(o=o.memoizedProps,o!==g&&qi(c),zs(c),gy(c,b,o,g,m)),null;case 27:if(rt(c),m=we.current,b=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==g&&qi(c);else{if(!g){if(c.stateNode===null)throw Error(n(166));return zs(c),null}o=re.current,nd(c)?lN(c):(o=LC(b,g,m),c.stateNode=o,qi(c))}return zs(c),null;case 5:if(rt(c),b=c.type,o!==null&&c.stateNode!=null)o.memoizedProps!==g&&qi(c);else{if(!g){if(c.stateNode===null)throw Error(n(166));return zs(c),null}if(C=re.current,nd(c))lN(c);else{var O=ep(we.current);switch(C){case 1:C=O.createElementNS("http://www.w3.org/2000/svg",b);break;case 2:C=O.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;default:switch(b){case"svg":C=O.createElementNS("http://www.w3.org/2000/svg",b);break;case"math":C=O.createElementNS("http://www.w3.org/1998/Math/MathML",b);break;case"script":C=O.createElement("div"),C.innerHTML="<script><\/script>",C=C.removeChild(C.firstChild);break;case"select":C=typeof g.is=="string"?O.createElement("select",{is:g.is}):O.createElement("select"),g.multiple?C.multiple=!0:g.size&&(C.size=g.size);break;default:C=typeof g.is=="string"?O.createElement(b,{is:g.is}):O.createElement(b)}}C[ua]=c,C[aa]=g;e:for(O=c.child;O!==null;){if(O.tag===5||O.tag===6)C.appendChild(O.stateNode);else if(O.tag!==4&&O.tag!==27&&O.child!==null){O.child.return=O,O=O.child;continue}if(O===c)break e;for(;O.sibling===null;){if(O.return===null||O.return===c)break e;O=O.return}O.sibling.return=O.return,O=O.sibling}c.stateNode=C;e:switch(Wa(C,b,g),b){case"button":case"input":case"select":case"textarea":g=!!g.autoFocus;break e;case"img":g=!0;break e;default:g=!1}g&&qi(c)}}return zs(c),gy(c,c.type,o===null?null:o.memoizedProps,c.pendingProps,m),null;case 6:if(o&&c.stateNode!=null)o.memoizedProps!==g&&qi(c);else{if(typeof g!="string"&&c.stateNode===null)throw Error(n(166));if(o=we.current,nd(c)){if(o=c.stateNode,m=c.memoizedProps,g=null,b=Ha,b!==null)switch(b.tag){case 27:case 5:g=b.memoizedProps}o[ua]=c,o=!!(o.nodeValue===m||g!==null&&g.suppressHydrationWarning===!0||CC(o.nodeValue,m)),o||Io(c,!0)}else o=ep(o).createTextNode(g),o[ua]=c,c.stateNode=o}return zs(c),null;case 31:if(m=c.memoizedState,o===null||o.memoizedState!==null){if(g=nd(c),m!==null){if(o===null){if(!g)throw Error(n(318));if(o=c.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(n(557));o[ua]=c}else Kl(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;zs(c),o=!1}else m=k0(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=m),o=!0;if(!o)return c.flags&256?(Wn(c),c):(Wn(c),null);if((c.flags&128)!==0)throw Error(n(558))}return zs(c),null;case 13:if(g=c.memoizedState,o===null||o.memoizedState!==null&&o.memoizedState.dehydrated!==null){if(b=nd(c),g!==null&&g.dehydrated!==null){if(o===null){if(!b)throw Error(n(318));if(b=c.memoizedState,b=b!==null?b.dehydrated:null,!b)throw Error(n(317));b[ua]=c}else Kl(),(c.flags&128)===0&&(c.memoizedState=null),c.flags|=4;zs(c),b=!1}else b=k0(),o!==null&&o.memoizedState!==null&&(o.memoizedState.hydrationErrors=b),b=!0;if(!b)return c.flags&256?(Wn(c),c):(Wn(c),null)}return Wn(c),(c.flags&128)!==0?(c.lanes=m,c):(m=g!==null,o=o!==null&&o.memoizedState!==null,m&&(g=c.child,b=null,g.alternate!==null&&g.alternate.memoizedState!==null&&g.alternate.memoizedState.cachePool!==null&&(b=g.alternate.memoizedState.cachePool.pool),C=null,g.memoizedState!==null&&g.memoizedState.cachePool!==null&&(C=g.memoizedState.cachePool.pool),C!==b&&(g.flags|=2048)),m!==o&&m&&(c.child.flags|=8192),If(c,c.updateQueue),zs(c),null);case 4:return ke(),o===null&&Fy(c.stateNode.containerInfo),zs(c),null;case 10:return zi(c.type),zs(c),null;case 19:if(ie(ha),g=c.memoizedState,g===null)return zs(c),null;if(b=(c.flags&128)!==0,C=g.rendering,C===null)if(b)nh(g,!1);else{if(ia!==0||o!==null&&(o.flags&128)!==0)for(o=c.child;o!==null;){if(C=kf(o),C!==null){for(c.flags|=128,nh(g,!1),o=C.updateQueue,c.updateQueue=o,If(c,o),c.subtreeFlags=0,o=m,m=c.child;m!==null;)aN(m,o),m=m.sibling;return le(ha,ha.current&1|2),ss&&Ii(c,g.treeForkCount),c.child}o=o.sibling}g.tail!==null&&$e()>Hf&&(c.flags|=128,b=!0,nh(g,!1),c.lanes=4194304)}else{if(!b)if(o=kf(C),o!==null){if(c.flags|=128,b=!0,o=o.updateQueue,c.updateQueue=o,If(c,o),nh(g,!0),g.tail===null&&g.tailMode==="hidden"&&!C.alternate&&!ss)return zs(c),null}else 2*$e()-g.renderingStartTime>Hf&&m!==536870912&&(c.flags|=128,b=!0,nh(g,!1),c.lanes=4194304);g.isBackwards?(C.sibling=c.child,c.child=C):(o=g.last,o!==null?o.sibling=C:c.child=C,g.last=C)}return g.tail!==null?(o=g.tail,g.rendering=o,g.tail=o.sibling,g.renderingStartTime=$e(),o.sibling=null,m=ha.current,le(ha,b?m&1|2:m&1),ss&&Ii(c,g.treeForkCount),o):(zs(c),null);case 22:case 23:return Wn(c),I0(),g=c.memoizedState!==null,o!==null?o.memoizedState!==null!==g&&(c.flags|=8192):g&&(c.flags|=8192),g?(m&536870912)!==0&&(c.flags&128)===0&&(zs(c),c.subtreeFlags&6&&(c.flags|=8192)):zs(c),m=c.updateQueue,m!==null&&If(c,m.retryQueue),m=null,o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),g=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(g=c.memoizedState.cachePool.pool),g!==m&&(c.flags|=2048),o!==null&&ie(Zl),null;case 24:return m=null,o!==null&&(m=o.memoizedState.cache),c.memoizedState.cache!==m&&(c.flags|=2048),zi(ba),zs(c),null;case 25:return null;case 30:return null}throw Error(n(156,c.tag))}function e6(o,c){switch(_0(c),c.tag){case 1:return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 3:return zi(ba),ke(),o=c.flags,(o&65536)!==0&&(o&128)===0?(c.flags=o&-65537|128,c):null;case 26:case 27:case 5:return rt(c),null;case 31:if(c.memoizedState!==null){if(Wn(c),c.alternate===null)throw Error(n(340));Kl()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 13:if(Wn(c),o=c.memoizedState,o!==null&&o.dehydrated!==null){if(c.alternate===null)throw Error(n(340));Kl()}return o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 19:return ie(ha),null;case 4:return ke(),null;case 10:return zi(c.type),null;case 22:case 23:return Wn(c),I0(),o!==null&&ie(Zl),o=c.flags,o&65536?(c.flags=o&-65537|128,c):null;case 24:return zi(ba),null;case 25:return null;default:return null}}function D_(o,c){switch(_0(c),c.tag){case 3:zi(ba),ke();break;case 26:case 27:case 5:rt(c);break;case 4:ke();break;case 31:c.memoizedState!==null&&Wn(c);break;case 13:Wn(c);break;case 19:ie(ha);break;case 10:zi(c.type);break;case 22:case 23:Wn(c),I0(),o!==null&&ie(Zl);break;case 24:zi(ba)}}function rh(o,c){try{var m=c.updateQueue,g=m!==null?m.lastEffect:null;if(g!==null){var b=g.next;m=b;do{if((m.tag&o)===o){g=void 0;var C=m.create,O=m.inst;g=C(),O.destroy=g}m=m.next}while(m!==b)}}catch(ee){Ns(c,c.return,ee)}}function Go(o,c,m){try{var g=c.updateQueue,b=g!==null?g.lastEffect:null;if(b!==null){var C=b.next;g=C;do{if((g.tag&o)===o){var O=g.inst,ee=O.destroy;if(ee!==void 0){O.destroy=void 0,b=c;var me=m,je=ee;try{je()}catch(Oe){Ns(b,me,Oe)}}}g=g.next}while(g!==C)}}catch(Oe){Ns(c,c.return,Oe)}}function E_(o){var c=o.updateQueue;if(c!==null){var m=o.stateNode;try{jN(c,m)}catch(g){Ns(o,o.return,g)}}}function R_(o,c,m){m.props=ac(o.type,o.memoizedProps),m.state=o.memoizedState;try{m.componentWillUnmount()}catch(g){Ns(o,c,g)}}function ih(o,c){try{var m=o.ref;if(m!==null){switch(o.tag){case 26:case 27:case 5:var g=o.stateNode;break;case 30:g=o.stateNode;break;default:g=o.stateNode}typeof m=="function"?o.refCleanup=m(g):m.current=g}}catch(b){Ns(o,c,b)}}function ci(o,c){var m=o.ref,g=o.refCleanup;if(m!==null)if(typeof g=="function")try{g()}catch(b){Ns(o,c,b)}finally{o.refCleanup=null,o=o.alternate,o!=null&&(o.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(b){Ns(o,c,b)}else m.current=null}function M_(o){var c=o.type,m=o.memoizedProps,g=o.stateNode;try{e:switch(c){case"button":case"input":case"select":case"textarea":m.autoFocus&&g.focus();break e;case"img":m.src?g.src=m.src:m.srcSet&&(g.srcset=m.srcSet)}}catch(b){Ns(o,o.return,b)}}function xy(o,c,m){try{var g=o.stateNode;w6(g,o.type,m,c),g[aa]=c}catch(b){Ns(o,o.return,b)}}function P_(o){return o.tag===5||o.tag===3||o.tag===26||o.tag===27&&Jo(o.type)||o.tag===4}function yy(o){e:for(;;){for(;o.sibling===null;){if(o.return===null||P_(o.return))return null;o=o.return}for(o.sibling.return=o.return,o=o.sibling;o.tag!==5&&o.tag!==6&&o.tag!==18;){if(o.tag===27&&Jo(o.type)||o.flags&2||o.child===null||o.tag===4)continue e;o.child.return=o,o=o.child}if(!(o.flags&2))return o.stateNode}}function by(o,c,m){var g=o.tag;if(g===5||g===6)o=o.stateNode,c?(m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m).insertBefore(o,c):(c=m.nodeType===9?m.body:m.nodeName==="HTML"?m.ownerDocument.body:m,c.appendChild(o),m=m._reactRootContainer,m!=null||c.onclick!==null||(c.onclick=jn));else if(g!==4&&(g===27&&Jo(o.type)&&(m=o.stateNode,c=null),o=o.child,o!==null))for(by(o,c,m),o=o.sibling;o!==null;)by(o,c,m),o=o.sibling}function $f(o,c,m){var g=o.tag;if(g===5||g===6)o=o.stateNode,c?m.insertBefore(o,c):m.appendChild(o);else if(g!==4&&(g===27&&Jo(o.type)&&(m=o.stateNode),o=o.child,o!==null))for($f(o,c,m),o=o.sibling;o!==null;)$f(o,c,m),o=o.sibling}function O_(o){var c=o.stateNode,m=o.memoizedProps;try{for(var g=o.type,b=c.attributes;b.length;)c.removeAttributeNode(b[0]);Wa(c,g,m),c[ua]=o,c[aa]=m}catch(C){Ns(o,o.return,C)}}var Gi=!1,wa=!1,vy=!1,L_=typeof WeakSet=="function"?WeakSet:Set,$a=null;function t6(o,c){if(o=o.containerInfo,zy=op,o=Y1(o),m0(o)){if("selectionStart"in o)var m={start:o.selectionStart,end:o.selectionEnd};else e:{m=(m=o.ownerDocument)&&m.defaultView||window;var g=m.getSelection&&m.getSelection();if(g&&g.rangeCount!==0){m=g.anchorNode;var b=g.anchorOffset,C=g.focusNode;g=g.focusOffset;try{m.nodeType,C.nodeType}catch{m=null;break e}var O=0,ee=-1,me=-1,je=0,Oe=0,ze=o,Ce=null;t:for(;;){for(var De;ze!==m||b!==0&&ze.nodeType!==3||(ee=O+b),ze!==C||g!==0&&ze.nodeType!==3||(me=O+g),ze.nodeType===3&&(O+=ze.nodeValue.length),(De=ze.firstChild)!==null;)Ce=ze,ze=De;for(;;){if(ze===o)break t;if(Ce===m&&++je===b&&(ee=O),Ce===C&&++Oe===g&&(me=O),(De=ze.nextSibling)!==null)break;ze=Ce,Ce=ze.parentNode}ze=De}m=ee===-1||me===-1?null:{start:ee,end:me}}else m=null}m=m||{start:0,end:0}}else m=null;for(Vy={focusedElem:o,selectionRange:m},op=!1,$a=c;$a!==null;)if(c=$a,o=c.child,(c.subtreeFlags&1028)!==0&&o!==null)o.return=c,$a=o;else for(;$a!==null;){switch(c=$a,C=c.alternate,o=c.flags,c.tag){case 0:if((o&4)!==0&&(o=c.updateQueue,o=o!==null?o.events:null,o!==null))for(m=0;m<o.length;m++)b=o[m],b.ref.impl=b.nextImpl;break;case 11:case 15:break;case 1:if((o&1024)!==0&&C!==null){o=void 0,m=c,b=C.memoizedProps,C=C.memoizedState,g=m.stateNode;try{var it=ac(m.type,b);o=g.getSnapshotBeforeUpdate(it,C),g.__reactInternalSnapshotBeforeUpdate=o}catch(Ct){Ns(m,m.return,Ct)}}break;case 3:if((o&1024)!==0){if(o=c.stateNode.containerInfo,m=o.nodeType,m===9)qy(o);else if(m===1)switch(o.nodeName){case"HEAD":case"HTML":case"BODY":qy(o);break;default:o.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((o&1024)!==0)throw Error(n(163))}if(o=c.sibling,o!==null){o.return=c.return,$a=o;break}$a=c.return}}function B_(o,c,m){var g=m.flags;switch(m.tag){case 0:case 11:case 15:Yi(o,m),g&4&&rh(5,m);break;case 1:if(Yi(o,m),g&4)if(o=m.stateNode,c===null)try{o.componentDidMount()}catch(O){Ns(m,m.return,O)}else{var b=ac(m.type,c.memoizedProps);c=c.memoizedState;try{o.componentDidUpdate(b,c,o.__reactInternalSnapshotBeforeUpdate)}catch(O){Ns(m,m.return,O)}}g&64&&E_(m),g&512&&ih(m,m.return);break;case 3:if(Yi(o,m),g&64&&(o=m.updateQueue,o!==null)){if(c=null,m.child!==null)switch(m.child.tag){case 27:case 5:c=m.child.stateNode;break;case 1:c=m.child.stateNode}try{jN(o,c)}catch(O){Ns(m,m.return,O)}}break;case 27:c===null&&g&4&&O_(m);case 26:case 5:Yi(o,m),c===null&&g&4&&M_(m),g&512&&ih(m,m.return);break;case 12:Yi(o,m);break;case 31:Yi(o,m),g&4&&$_(o,m);break;case 13:Yi(o,m),g&4&&z_(o,m),g&64&&(o=m.memoizedState,o!==null&&(o=o.dehydrated,o!==null&&(m=d6.bind(null,m),D6(o,m))));break;case 22:if(g=m.memoizedState!==null||Gi,!g){c=c!==null&&c.memoizedState!==null||wa,b=Gi;var C=wa;Gi=g,(wa=c)&&!C?Ki(o,m,(m.subtreeFlags&8772)!==0):Yi(o,m),Gi=b,wa=C}break;case 30:break;default:Yi(o,m)}}function F_(o){var c=o.alternate;c!==null&&(o.alternate=null,F_(c)),o.child=null,o.deletions=null,o.sibling=null,o.tag===5&&(c=o.stateNode,c!==null&&Ol(c)),o.stateNode=null,o.return=null,o.dependencies=null,o.memoizedProps=null,o.memoizedState=null,o.pendingProps=null,o.stateNode=null,o.updateQueue=null}var qs=null,_n=!1;function Wi(o,c,m){for(m=m.child;m!==null;)I_(o,c,m),m=m.sibling}function I_(o,c,m){if(bs&&typeof bs.onCommitFiberUnmount=="function")try{bs.onCommitFiberUnmount(is,m)}catch{}switch(m.tag){case 26:wa||ci(m,c),Wi(o,c,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:wa||ci(m,c);var g=qs,b=_n;Jo(m.type)&&(qs=m.stateNode,_n=!1),Wi(o,c,m),ph(m.stateNode),qs=g,_n=b;break;case 5:wa||ci(m,c);case 6:if(g=qs,b=_n,qs=null,Wi(o,c,m),qs=g,_n=b,qs!==null)if(_n)try{(qs.nodeType===9?qs.body:qs.nodeName==="HTML"?qs.ownerDocument.body:qs).removeChild(m.stateNode)}catch(C){Ns(m,c,C)}else try{qs.removeChild(m.stateNode)}catch(C){Ns(m,c,C)}break;case 18:qs!==null&&(_n?(o=qs,EC(o.nodeType===9?o.body:o.nodeName==="HTML"?o.ownerDocument.body:o,m.stateNode),Cd(o)):EC(qs,m.stateNode));break;case 4:g=qs,b=_n,qs=m.stateNode.containerInfo,_n=!0,Wi(o,c,m),qs=g,_n=b;break;case 0:case 11:case 14:case 15:Go(2,m,c),wa||Go(4,m,c),Wi(o,c,m);break;case 1:wa||(ci(m,c),g=m.stateNode,typeof g.componentWillUnmount=="function"&&R_(m,c,g)),Wi(o,c,m);break;case 21:Wi(o,c,m);break;case 22:wa=(g=wa)||m.memoizedState!==null,Wi(o,c,m),wa=g;break;default:Wi(o,c,m)}}function $_(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null))){o=o.dehydrated;try{Cd(o)}catch(m){Ns(c,c.return,m)}}}function z_(o,c){if(c.memoizedState===null&&(o=c.alternate,o!==null&&(o=o.memoizedState,o!==null&&(o=o.dehydrated,o!==null))))try{Cd(o)}catch(m){Ns(c,c.return,m)}}function s6(o){switch(o.tag){case 31:case 13:case 19:var c=o.stateNode;return c===null&&(c=o.stateNode=new L_),c;case 22:return o=o.stateNode,c=o._retryCache,c===null&&(c=o._retryCache=new L_),c;default:throw Error(n(435,o.tag))}}function zf(o,c){var m=s6(o);c.forEach(function(g){if(!m.has(g)){m.add(g);var b=u6.bind(null,o,g);g.then(b,b)}})}function Cn(o,c){var m=c.deletions;if(m!==null)for(var g=0;g<m.length;g++){var b=m[g],C=o,O=c,ee=O;e:for(;ee!==null;){switch(ee.tag){case 27:if(Jo(ee.type)){qs=ee.stateNode,_n=!1;break e}break;case 5:qs=ee.stateNode,_n=!1;break e;case 3:case 4:qs=ee.stateNode.containerInfo,_n=!0;break e}ee=ee.return}if(qs===null)throw Error(n(160));I_(C,O,b),qs=null,_n=!1,C=b.alternate,C!==null&&(C.return=null),b.return=null}if(c.subtreeFlags&13886)for(c=c.child;c!==null;)V_(c,o),c=c.sibling}var Fr=null;function V_(o,c){var m=o.alternate,g=o.flags;switch(o.tag){case 0:case 11:case 14:case 15:Cn(c,o),kn(o),g&4&&(Go(3,o,o.return),rh(3,o),Go(5,o,o.return));break;case 1:Cn(c,o),kn(o),g&512&&(wa||m===null||ci(m,m.return)),g&64&&Gi&&(o=o.updateQueue,o!==null&&(g=o.callbacks,g!==null&&(m=o.shared.hiddenCallbacks,o.shared.hiddenCallbacks=m===null?g:m.concat(g))));break;case 26:var b=Fr;if(Cn(c,o),kn(o),g&512&&(wa||m===null||ci(m,m.return)),g&4){var C=m!==null?m.memoizedState:null;if(g=o.memoizedState,m===null)if(g===null)if(o.stateNode===null){e:{g=o.type,m=o.memoizedProps,b=b.ownerDocument||b;t:switch(g){case"title":C=b.getElementsByTagName("title")[0],(!C||C[Rr]||C[ua]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=b.createElement(g),b.head.insertBefore(C,b.querySelector("head > title"))),Wa(C,g,m),C[ua]=o,ks(C),g=C;break e;case"link":var O=VC("link","href",b).get(g+(m.href||""));if(O){for(var ee=0;ee<O.length;ee++)if(C=O[ee],C.getAttribute("href")===(m.href==null||m.href===""?null:m.href)&&C.getAttribute("rel")===(m.rel==null?null:m.rel)&&C.getAttribute("title")===(m.title==null?null:m.title)&&C.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){O.splice(ee,1);break t}}C=b.createElement(g),Wa(C,g,m),b.head.appendChild(C);break;case"meta":if(O=VC("meta","content",b).get(g+(m.content||""))){for(ee=0;ee<O.length;ee++)if(C=O[ee],C.getAttribute("content")===(m.content==null?null:""+m.content)&&C.getAttribute("name")===(m.name==null?null:m.name)&&C.getAttribute("property")===(m.property==null?null:m.property)&&C.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&C.getAttribute("charset")===(m.charSet==null?null:m.charSet)){O.splice(ee,1);break t}}C=b.createElement(g),Wa(C,g,m),b.head.appendChild(C);break;default:throw Error(n(468,g))}C[ua]=o,ks(C),g=C}o.stateNode=g}else UC(b,o.type,o.stateNode);else o.stateNode=zC(b,g,o.memoizedProps);else C!==g?(C===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):C.count--,g===null?UC(b,o.type,o.stateNode):zC(b,g,o.memoizedProps)):g===null&&o.stateNode!==null&&xy(o,o.memoizedProps,m.memoizedProps)}break;case 27:Cn(c,o),kn(o),g&512&&(wa||m===null||ci(m,m.return)),m!==null&&g&4&&xy(o,o.memoizedProps,m.memoizedProps);break;case 5:if(Cn(c,o),kn(o),g&512&&(wa||m===null||ci(m,m.return)),o.flags&32){b=o.stateNode;try{ai(b,"")}catch(it){Ns(o,o.return,it)}}g&4&&o.stateNode!=null&&(b=o.memoizedProps,xy(o,b,m!==null?m.memoizedProps:b)),g&1024&&(vy=!0);break;case 6:if(Cn(c,o),kn(o),g&4){if(o.stateNode===null)throw Error(n(162));g=o.memoizedProps,m=o.stateNode;try{m.nodeValue=g}catch(it){Ns(o,o.return,it)}}break;case 3:if(ap=null,b=Fr,Fr=tp(c.containerInfo),Cn(c,o),Fr=b,kn(o),g&4&&m!==null&&m.memoizedState.isDehydrated)try{Cd(c.containerInfo)}catch(it){Ns(o,o.return,it)}vy&&(vy=!1,U_(o));break;case 4:g=Fr,Fr=tp(o.stateNode.containerInfo),Cn(c,o),kn(o),Fr=g;break;case 12:Cn(c,o),kn(o);break;case 31:Cn(c,o),kn(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,zf(o,g)));break;case 13:Cn(c,o),kn(o),o.child.flags&8192&&o.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&(Uf=$e()),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,zf(o,g)));break;case 22:b=o.memoizedState!==null;var me=m!==null&&m.memoizedState!==null,je=Gi,Oe=wa;if(Gi=je||b,wa=Oe||me,Cn(c,o),wa=Oe,Gi=je,kn(o),g&8192)e:for(c=o.stateNode,c._visibility=b?c._visibility&-2:c._visibility|1,b&&(m===null||me||Gi||wa||nc(o)),m=null,c=o;;){if(c.tag===5||c.tag===26){if(m===null){me=m=c;try{if(C=me.stateNode,b)O=C.style,typeof O.setProperty=="function"?O.setProperty("display","none","important"):O.display="none";else{ee=me.stateNode;var ze=me.memoizedProps.style,Ce=ze!=null&&ze.hasOwnProperty("display")?ze.display:null;ee.style.display=Ce==null||typeof Ce=="boolean"?"":(""+Ce).trim()}}catch(it){Ns(me,me.return,it)}}}else if(c.tag===6){if(m===null){me=c;try{me.stateNode.nodeValue=b?"":me.memoizedProps}catch(it){Ns(me,me.return,it)}}}else if(c.tag===18){if(m===null){me=c;try{var De=me.stateNode;b?RC(De,!0):RC(me.stateNode,!1)}catch(it){Ns(me,me.return,it)}}}else if((c.tag!==22&&c.tag!==23||c.memoizedState===null||c===o)&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===o)break e;for(;c.sibling===null;){if(c.return===null||c.return===o)break e;m===c&&(m=null),c=c.return}m===c&&(m=null),c.sibling.return=c.return,c=c.sibling}g&4&&(g=o.updateQueue,g!==null&&(m=g.retryQueue,m!==null&&(g.retryQueue=null,zf(o,m))));break;case 19:Cn(c,o),kn(o),g&4&&(g=o.updateQueue,g!==null&&(o.updateQueue=null,zf(o,g)));break;case 30:break;case 21:break;default:Cn(c,o),kn(o)}}function kn(o){var c=o.flags;if(c&2){try{for(var m,g=o.return;g!==null;){if(P_(g)){m=g;break}g=g.return}if(m==null)throw Error(n(160));switch(m.tag){case 27:var b=m.stateNode,C=yy(o);$f(o,C,b);break;case 5:var O=m.stateNode;m.flags&32&&(ai(O,""),m.flags&=-33);var ee=yy(o);$f(o,ee,O);break;case 3:case 4:var me=m.stateNode.containerInfo,je=yy(o);by(o,je,me);break;default:throw Error(n(161))}}catch(Oe){Ns(o,o.return,Oe)}o.flags&=-3}c&4096&&(o.flags&=-4097)}function U_(o){if(o.subtreeFlags&1024)for(o=o.child;o!==null;){var c=o;U_(c),c.tag===5&&c.flags&1024&&c.stateNode.reset(),o=o.sibling}}function Yi(o,c){if(c.subtreeFlags&8772)for(c=c.child;c!==null;)B_(o,c.alternate,c),c=c.sibling}function nc(o){for(o=o.child;o!==null;){var c=o;switch(c.tag){case 0:case 11:case 14:case 15:Go(4,c,c.return),nc(c);break;case 1:ci(c,c.return);var m=c.stateNode;typeof m.componentWillUnmount=="function"&&R_(c,c.return,m),nc(c);break;case 27:ph(c.stateNode);case 26:case 5:ci(c,c.return),nc(c);break;case 22:c.memoizedState===null&&nc(c);break;case 30:nc(c);break;default:nc(c)}o=o.sibling}}function Ki(o,c,m){for(m=m&&(c.subtreeFlags&8772)!==0,c=c.child;c!==null;){var g=c.alternate,b=o,C=c,O=C.flags;switch(C.tag){case 0:case 11:case 15:Ki(b,C,m),rh(4,C);break;case 1:if(Ki(b,C,m),g=C,b=g.stateNode,typeof b.componentDidMount=="function")try{b.componentDidMount()}catch(je){Ns(g,g.return,je)}if(g=C,b=g.updateQueue,b!==null){var ee=g.stateNode;try{var me=b.shared.hiddenCallbacks;if(me!==null)for(b.shared.hiddenCallbacks=null,b=0;b<me.length;b++)vN(me[b],ee)}catch(je){Ns(g,g.return,je)}}m&&O&64&&E_(C),ih(C,C.return);break;case 27:O_(C);case 26:case 5:Ki(b,C,m),m&&g===null&&O&4&&M_(C),ih(C,C.return);break;case 12:Ki(b,C,m);break;case 31:Ki(b,C,m),m&&O&4&&$_(b,C);break;case 13:Ki(b,C,m),m&&O&4&&z_(b,C);break;case 22:C.memoizedState===null&&Ki(b,C,m),ih(C,C.return);break;case 30:break;default:Ki(b,C,m)}c=c.sibling}}function jy(o,c){var m=null;o!==null&&o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(m=o.memoizedState.cachePool.pool),o=null,c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(o=c.memoizedState.cachePool.pool),o!==m&&(o!=null&&o.refCount++,m!=null&&Gu(m))}function wy(o,c){o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Gu(o))}function Ir(o,c,m,g){if(c.subtreeFlags&10256)for(c=c.child;c!==null;)H_(o,c,m,g),c=c.sibling}function H_(o,c,m,g){var b=c.flags;switch(c.tag){case 0:case 11:case 15:Ir(o,c,m,g),b&2048&&rh(9,c);break;case 1:Ir(o,c,m,g);break;case 3:Ir(o,c,m,g),b&2048&&(o=null,c.alternate!==null&&(o=c.alternate.memoizedState.cache),c=c.memoizedState.cache,c!==o&&(c.refCount++,o!=null&&Gu(o)));break;case 12:if(b&2048){Ir(o,c,m,g),o=c.stateNode;try{var C=c.memoizedProps,O=C.id,ee=C.onPostCommit;typeof ee=="function"&&ee(O,c.alternate===null?"mount":"update",o.passiveEffectDuration,-0)}catch(me){Ns(c,c.return,me)}}else Ir(o,c,m,g);break;case 31:Ir(o,c,m,g);break;case 13:Ir(o,c,m,g);break;case 23:break;case 22:C=c.stateNode,O=c.alternate,c.memoizedState!==null?C._visibility&2?Ir(o,c,m,g):oh(o,c):C._visibility&2?Ir(o,c,m,g):(C._visibility|=2,fd(o,c,m,g,(c.subtreeFlags&10256)!==0||!1)),b&2048&&jy(O,c);break;case 24:Ir(o,c,m,g),b&2048&&wy(c.alternate,c);break;default:Ir(o,c,m,g)}}function fd(o,c,m,g,b){for(b=b&&((c.subtreeFlags&10256)!==0||!1),c=c.child;c!==null;){var C=o,O=c,ee=m,me=g,je=O.flags;switch(O.tag){case 0:case 11:case 15:fd(C,O,ee,me,b),rh(8,O);break;case 23:break;case 22:var Oe=O.stateNode;O.memoizedState!==null?Oe._visibility&2?fd(C,O,ee,me,b):oh(C,O):(Oe._visibility|=2,fd(C,O,ee,me,b)),b&&je&2048&&jy(O.alternate,O);break;case 24:fd(C,O,ee,me,b),b&&je&2048&&wy(O.alternate,O);break;default:fd(C,O,ee,me,b)}c=c.sibling}}function oh(o,c){if(c.subtreeFlags&10256)for(c=c.child;c!==null;){var m=o,g=c,b=g.flags;switch(g.tag){case 22:oh(m,g),b&2048&&jy(g.alternate,g);break;case 24:oh(m,g),b&2048&&wy(g.alternate,g);break;default:oh(m,g)}c=c.sibling}}var lh=8192;function pd(o,c,m){if(o.subtreeFlags&lh)for(o=o.child;o!==null;)q_(o,c,m),o=o.sibling}function q_(o,c,m){switch(o.tag){case 26:pd(o,c,m),o.flags&lh&&o.memoizedState!==null&&V6(m,Fr,o.memoizedState,o.memoizedProps);break;case 5:pd(o,c,m);break;case 3:case 4:var g=Fr;Fr=tp(o.stateNode.containerInfo),pd(o,c,m),Fr=g;break;case 22:o.memoizedState===null&&(g=o.alternate,g!==null&&g.memoizedState!==null?(g=lh,lh=16777216,pd(o,c,m),lh=g):pd(o,c,m));break;default:pd(o,c,m)}}function G_(o){var c=o.alternate;if(c!==null&&(o=c.child,o!==null)){c.child=null;do c=o.sibling,o.sibling=null,o=c;while(o!==null)}}function ch(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var g=c[m];$a=g,Y_(g,o)}G_(o)}if(o.subtreeFlags&10256)for(o=o.child;o!==null;)W_(o),o=o.sibling}function W_(o){switch(o.tag){case 0:case 11:case 15:ch(o),o.flags&2048&&Go(9,o,o.return);break;case 3:ch(o);break;case 12:ch(o);break;case 22:var c=o.stateNode;o.memoizedState!==null&&c._visibility&2&&(o.return===null||o.return.tag!==13)?(c._visibility&=-3,Vf(o)):ch(o);break;default:ch(o)}}function Vf(o){var c=o.deletions;if((o.flags&16)!==0){if(c!==null)for(var m=0;m<c.length;m++){var g=c[m];$a=g,Y_(g,o)}G_(o)}for(o=o.child;o!==null;){switch(c=o,c.tag){case 0:case 11:case 15:Go(8,c,c.return),Vf(c);break;case 22:m=c.stateNode,m._visibility&2&&(m._visibility&=-3,Vf(c));break;default:Vf(c)}o=o.sibling}}function Y_(o,c){for(;$a!==null;){var m=$a;switch(m.tag){case 0:case 11:case 15:Go(8,m,c);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var g=m.memoizedState.cachePool.pool;g!=null&&g.refCount++}break;case 24:Gu(m.memoizedState.cache)}if(g=m.child,g!==null)g.return=m,$a=g;else e:for(m=o;$a!==null;){g=$a;var b=g.sibling,C=g.return;if(F_(g),g===m){$a=null;break e}if(b!==null){b.return=C,$a=b;break e}$a=C}}}var a6={getCacheForType:function(o){var c=qa(ba),m=c.data.get(o);return m===void 0&&(m=o(),c.data.set(o,m)),m},cacheSignal:function(){return qa(ba).controller.signal}},n6=typeof WeakMap=="function"?WeakMap:Map,ys=0,Rs=null,Gt=null,Xt=0,ws=0,Yn=null,Wo=!1,gd=!1,Ny=!1,Xi=0,ia=0,Yo=0,rc=0,_y=0,Kn=0,xd=0,dh=null,Sn=null,Cy=!1,Uf=0,K_=0,Hf=1/0,qf=null,Ko=null,Ea=0,Xo=null,yd=null,Qi=0,ky=0,Sy=null,X_=null,uh=0,Ay=null;function Xn(){return(ys&2)!==0&&Xt!==0?Xt&-Xt:U.T!==null?Py():Zr()}function Q_(){if(Kn===0)if((Xt&536870912)===0||ss){var o=rr;rr<<=1,(rr&3932160)===0&&(rr=262144),Kn=o}else Kn=536870912;return o=Gn.current,o!==null&&(o.flags|=32),Kn}function An(o,c,m){(o===Rs&&(ws===2||ws===9)||o.cancelPendingCommit!==null)&&(bd(o,0),Qo(o,Xt,Kn,!1)),Ge(o,m),((ys&2)===0||o!==Rs)&&(o===Rs&&((ys&2)===0&&(rc|=m),ia===4&&Qo(o,Xt,Kn,!1)),di(o))}function Z_(o,c,m){if((ys&6)!==0)throw Error(n(327));var g=!m&&(c&127)===0&&(c&o.expiredLanes)===0||Z(o,c),b=g?o6(o,c):Dy(o,c,!0),C=g;do{if(b===0){gd&&!g&&Qo(o,c,0,!1);break}else{if(m=o.current.alternate,C&&!r6(m)){b=Dy(o,c,!1),C=!1;continue}if(b===2){if(C=c,o.errorRecoveryDisabledLanes&C)var O=0;else O=o.pendingLanes&-536870913,O=O!==0?O:O&536870912?536870912:0;if(O!==0){c=O;e:{var ee=o;b=dh;var me=ee.current.memoizedState.isDehydrated;if(me&&(bd(ee,O).flags|=256),O=Dy(ee,O,!1),O!==2){if(Ny&&!me){ee.errorRecoveryDisabledLanes|=C,rc|=C,b=4;break e}C=Sn,Sn=b,C!==null&&(Sn===null?Sn=C:Sn.push.apply(Sn,C))}b=O}if(C=!1,b!==2)continue}}if(b===1){bd(o,0),Qo(o,c,0,!0);break}e:{switch(g=o,C=b,C){case 0:case 1:throw Error(n(345));case 4:if((c&4194048)!==c)break;case 6:Qo(g,c,Kn,!Wo);break e;case 2:Sn=null;break;case 3:case 5:break;default:throw Error(n(329))}if((c&62914560)===c&&(b=Uf+300-$e(),10<b)){if(Qo(g,c,Kn,!Wo),kt(g,0,!0)!==0)break e;Qi=c,g.timeoutHandle=TC(J_.bind(null,g,m,Sn,qf,Cy,c,Kn,rc,xd,Wo,C,"Throttled",-0,0),b);break e}J_(g,m,Sn,qf,Cy,c,Kn,rc,xd,Wo,C,null,-0,0)}}break}while(!0);di(o)}function J_(o,c,m,g,b,C,O,ee,me,je,Oe,ze,Ce,De){if(o.timeoutHandle=-1,ze=c.subtreeFlags,ze&8192||(ze&16785408)===16785408){ze={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:jn},q_(c,C,ze);var it=(C&62914560)===C?Uf-$e():(C&4194048)===C?K_-$e():0;if(it=U6(ze,it),it!==null){Qi=C,o.cancelPendingCommit=it(oC.bind(null,o,c,C,m,g,b,O,ee,me,Oe,ze,null,Ce,De)),Qo(o,C,O,!je);return}}oC(o,c,C,m,g,b,O,ee,me)}function r6(o){for(var c=o;;){var m=c.tag;if((m===0||m===11||m===15)&&c.flags&16384&&(m=c.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var g=0;g<m.length;g++){var b=m[g],C=b.getSnapshot;b=b.value;try{if(!Hn(C(),b))return!1}catch{return!1}}if(m=c.child,c.subtreeFlags&16384&&m!==null)m.return=c,c=m;else{if(c===o)break;for(;c.sibling===null;){if(c.return===null||c.return===o)return!0;c=c.return}c.sibling.return=c.return,c=c.sibling}}return!0}function Qo(o,c,m,g){c&=~_y,c&=~rc,o.suspendedLanes|=c,o.pingedLanes&=~c,g&&(o.warmLanes|=c),g=o.expirationTimes;for(var b=c;0<b;){var C=31-Ue(b),O=1<<C;g[C]=-1,b&=~O}m!==0&&ea(o,m,c)}function Gf(){return(ys&6)===0?(hh(0),!1):!0}function Ty(){if(Gt!==null){if(ws===0)var o=Gt.return;else o=Gt,$i=Xl=null,q0(o),cd=null,Yu=0,o=Gt;for(;o!==null;)D_(o.alternate,o),o=o.return;Gt=null}}function bd(o,c){var m=o.timeoutHandle;m!==-1&&(o.timeoutHandle=-1,C6(m)),m=o.cancelPendingCommit,m!==null&&(o.cancelPendingCommit=null,m()),Qi=0,Ty(),Rs=o,Gt=m=Fi(o.current,null),Xt=c,ws=0,Yn=null,Wo=!1,gd=Z(o,c),Ny=!1,xd=Kn=_y=rc=Yo=ia=0,Sn=dh=null,Cy=!1,(c&8)!==0&&(c|=c&32);var g=o.entangledLanes;if(g!==0)for(o=o.entanglements,g&=c;0<g;){var b=31-Ue(g),C=1<<b;c|=o[b],g&=~C}return Xi=c,mf(),m}function eC(o,c){$t=null,U.H=sh,c===ld||c===jf?(c=gN(),ws=3):c===M0?(c=gN(),ws=4):ws=c===oy?8:c!==null&&typeof c=="object"&&typeof c.then=="function"?6:1,Yn=c,Gt===null&&(ia=1,Of(o,mr(c,o.current)))}function tC(){var o=Gn.current;return o===null?!0:(Xt&4194048)===Xt?xr===null:(Xt&62914560)===Xt||(Xt&536870912)!==0?o===xr:!1}function sC(){var o=U.H;return U.H=sh,o===null?sh:o}function aC(){var o=U.A;return U.A=a6,o}function Wf(){ia=4,Wo||(Xt&4194048)!==Xt&&Gn.current!==null||(gd=!0),(Yo&134217727)===0&&(rc&134217727)===0||Rs===null||Qo(Rs,Xt,Kn,!1)}function Dy(o,c,m){var g=ys;ys|=2;var b=sC(),C=aC();(Rs!==o||Xt!==c)&&(qf=null,bd(o,c)),c=!1;var O=ia;e:do try{if(ws!==0&&Gt!==null){var ee=Gt,me=Yn;switch(ws){case 8:Ty(),O=6;break e;case 3:case 2:case 9:case 6:Gn.current===null&&(c=!0);var je=ws;if(ws=0,Yn=null,vd(o,ee,me,je),m&&gd){O=0;break e}break;default:je=ws,ws=0,Yn=null,vd(o,ee,me,je)}}i6(),O=ia;break}catch(Oe){eC(o,Oe)}while(!0);return c&&o.shellSuspendCounter++,$i=Xl=null,ys=g,U.H=b,U.A=C,Gt===null&&(Rs=null,Xt=0,mf()),O}function i6(){for(;Gt!==null;)nC(Gt)}function o6(o,c){var m=ys;ys|=2;var g=sC(),b=aC();Rs!==o||Xt!==c?(qf=null,Hf=$e()+500,bd(o,c)):gd=Z(o,c);e:do try{if(ws!==0&&Gt!==null){c=Gt;var C=Yn;t:switch(ws){case 1:ws=0,Yn=null,vd(o,c,C,1);break;case 2:case 9:if(fN(C)){ws=0,Yn=null,rC(c);break}c=function(){ws!==2&&ws!==9||Rs!==o||(ws=7),di(o)},C.then(c,c);break e;case 3:ws=7;break e;case 4:ws=5;break e;case 7:fN(C)?(ws=0,Yn=null,rC(c)):(ws=0,Yn=null,vd(o,c,C,7));break;case 5:var O=null;switch(Gt.tag){case 26:O=Gt.memoizedState;case 5:case 27:var ee=Gt;if(O?HC(O):ee.stateNode.complete){ws=0,Yn=null;var me=ee.sibling;if(me!==null)Gt=me;else{var je=ee.return;je!==null?(Gt=je,Yf(je)):Gt=null}break t}}ws=0,Yn=null,vd(o,c,C,5);break;case 6:ws=0,Yn=null,vd(o,c,C,6);break;case 8:Ty(),ia=6;break e;default:throw Error(n(462))}}l6();break}catch(Oe){eC(o,Oe)}while(!0);return $i=Xl=null,U.H=g,U.A=b,ys=m,Gt!==null?0:(Rs=null,Xt=0,mf(),ia)}function l6(){for(;Gt!==null&&!_e();)nC(Gt)}function nC(o){var c=A_(o.alternate,o,Xi);o.memoizedProps=o.pendingProps,c===null?Yf(o):Gt=c}function rC(o){var c=o,m=c.alternate;switch(c.tag){case 15:case 0:c=w_(m,c,c.pendingProps,c.type,void 0,Xt);break;case 11:c=w_(m,c,c.pendingProps,c.type.render,c.ref,Xt);break;case 5:q0(c);default:D_(m,c),c=Gt=aN(c,Xi),c=A_(m,c,Xi)}o.memoizedProps=o.pendingProps,c===null?Yf(o):Gt=c}function vd(o,c,m,g){$i=Xl=null,q0(c),cd=null,Yu=0;var b=c.return;try{if(XL(o,b,c,m,Xt)){ia=1,Of(o,mr(m,o.current)),Gt=null;return}}catch(C){if(b!==null)throw Gt=b,C;ia=1,Of(o,mr(m,o.current)),Gt=null;return}c.flags&32768?(ss||g===1?o=!0:gd||(Xt&536870912)!==0?o=!1:(Wo=o=!0,(g===2||g===9||g===3||g===6)&&(g=Gn.current,g!==null&&g.tag===13&&(g.flags|=16384))),iC(c,o)):Yf(c)}function Yf(o){var c=o;do{if((c.flags&32768)!==0){iC(c,Wo);return}o=c.return;var m=JL(c.alternate,c,Xi);if(m!==null){Gt=m;return}if(c=c.sibling,c!==null){Gt=c;return}Gt=c=o}while(c!==null);ia===0&&(ia=5)}function iC(o,c){do{var m=e6(o.alternate,o);if(m!==null){m.flags&=32767,Gt=m;return}if(m=o.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!c&&(o=o.sibling,o!==null)){Gt=o;return}Gt=o=m}while(o!==null);ia=6,Gt=null}function oC(o,c,m,g,b,C,O,ee,me){o.cancelPendingCommit=null;do Kf();while(Ea!==0);if((ys&6)!==0)throw Error(n(327));if(c!==null){if(c===o.current)throw Error(n(177));if(C=c.lanes|c.childLanes,C|=y0,ls(o,m,C,O,ee,me),o===Rs&&(Gt=Rs=null,Xt=0),yd=c,Xo=o,Qi=m,ky=C,Sy=b,X_=g,(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?(o.callbackNode=null,o.callbackPriority=0,h6(ot,function(){return hC(),null})):(o.callbackNode=null,o.callbackPriority=0),g=(c.flags&13878)!==0,(c.subtreeFlags&13878)!==0||g){g=U.T,U.T=null,b=q.p,q.p=2,O=ys,ys|=4;try{t6(o,c,m)}finally{ys=O,q.p=b,U.T=g}}Ea=1,lC(),cC(),dC()}}function lC(){if(Ea===1){Ea=0;var o=Xo,c=yd,m=(c.flags&13878)!==0;if((c.subtreeFlags&13878)!==0||m){m=U.T,U.T=null;var g=q.p;q.p=2;var b=ys;ys|=4;try{V_(c,o);var C=Vy,O=Y1(o.containerInfo),ee=C.focusedElem,me=C.selectionRange;if(O!==ee&&ee&&ee.ownerDocument&&W1(ee.ownerDocument.documentElement,ee)){if(me!==null&&m0(ee)){var je=me.start,Oe=me.end;if(Oe===void 0&&(Oe=je),"selectionStart"in ee)ee.selectionStart=je,ee.selectionEnd=Math.min(Oe,ee.value.length);else{var ze=ee.ownerDocument||document,Ce=ze&&ze.defaultView||window;if(Ce.getSelection){var De=Ce.getSelection(),it=ee.textContent.length,Ct=Math.min(me.start,it),Ts=me.end===void 0?Ct:Math.min(me.end,it);!De.extend&&Ct>Ts&&(O=Ts,Ts=Ct,Ct=O);var be=G1(ee,Ct),ge=G1(ee,Ts);if(be&&ge&&(De.rangeCount!==1||De.anchorNode!==be.node||De.anchorOffset!==be.offset||De.focusNode!==ge.node||De.focusOffset!==ge.offset)){var ve=ze.createRange();ve.setStart(be.node,be.offset),De.removeAllRanges(),Ct>Ts?(De.addRange(ve),De.extend(ge.node,ge.offset)):(ve.setEnd(ge.node,ge.offset),De.addRange(ve))}}}}for(ze=[],De=ee;De=De.parentNode;)De.nodeType===1&&ze.push({element:De,left:De.scrollLeft,top:De.scrollTop});for(typeof ee.focus=="function"&&ee.focus(),ee=0;ee<ze.length;ee++){var Ie=ze[ee];Ie.element.scrollLeft=Ie.left,Ie.element.scrollTop=Ie.top}}op=!!zy,Vy=zy=null}finally{ys=b,q.p=g,U.T=m}}o.current=c,Ea=2}}function cC(){if(Ea===2){Ea=0;var o=Xo,c=yd,m=(c.flags&8772)!==0;if((c.subtreeFlags&8772)!==0||m){m=U.T,U.T=null;var g=q.p;q.p=2;var b=ys;ys|=4;try{B_(o,c.alternate,c)}finally{ys=b,q.p=g,U.T=m}}Ea=3}}function dC(){if(Ea===4||Ea===3){Ea=0,he();var o=Xo,c=yd,m=Qi,g=X_;(c.subtreeFlags&10256)!==0||(c.flags&10256)!==0?Ea=5:(Ea=0,yd=Xo=null,uC(o,o.pendingLanes));var b=o.pendingLanes;if(b===0&&(Ko=null),dn(m),c=c.stateNode,bs&&typeof bs.onCommitFiberRoot=="function")try{bs.onCommitFiberRoot(is,c,void 0,(c.current.flags&128)===128)}catch{}if(g!==null){c=U.T,b=q.p,q.p=2,U.T=null;try{for(var C=o.onRecoverableError,O=0;O<g.length;O++){var ee=g[O];C(ee.value,{componentStack:ee.stack})}}finally{U.T=c,q.p=b}}(Qi&3)!==0&&Kf(),di(o),b=o.pendingLanes,(m&261930)!==0&&(b&42)!==0?o===Ay?uh++:(uh=0,Ay=o):uh=0,hh(0)}}function uC(o,c){(o.pooledCacheLanes&=c)===0&&(c=o.pooledCache,c!=null&&(o.pooledCache=null,Gu(c)))}function Kf(){return lC(),cC(),dC(),hC()}function hC(){if(Ea!==5)return!1;var o=Xo,c=ky;ky=0;var m=dn(Qi),g=U.T,b=q.p;try{q.p=32>m?32:m,U.T=null,m=Sy,Sy=null;var C=Xo,O=Qi;if(Ea=0,yd=Xo=null,Qi=0,(ys&6)!==0)throw Error(n(331));var ee=ys;if(ys|=4,W_(C.current),H_(C,C.current,O,m),ys=ee,hh(0,!1),bs&&typeof bs.onPostCommitFiberRoot=="function")try{bs.onPostCommitFiberRoot(is,C)}catch{}return!0}finally{q.p=b,U.T=g,uC(o,c)}}function mC(o,c,m){c=mr(m,c),c=iy(o.stateNode,c,2),o=Uo(o,c,2),o!==null&&(Ge(o,2),di(o))}function Ns(o,c,m){if(o.tag===3)mC(o,o,m);else for(;c!==null;){if(c.tag===3){mC(c,o,m);break}else if(c.tag===1){var g=c.stateNode;if(typeof c.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ko===null||!Ko.has(g))){o=mr(m,o),m=f_(2),g=Uo(c,m,2),g!==null&&(p_(m,g,c,o),Ge(g,2),di(g));break}}c=c.return}}function Ey(o,c,m){var g=o.pingCache;if(g===null){g=o.pingCache=new n6;var b=new Set;g.set(c,b)}else b=g.get(c),b===void 0&&(b=new Set,g.set(c,b));b.has(m)||(Ny=!0,b.add(m),o=c6.bind(null,o,c,m),c.then(o,o))}function c6(o,c,m){var g=o.pingCache;g!==null&&g.delete(c),o.pingedLanes|=o.suspendedLanes&m,o.warmLanes&=~m,Rs===o&&(Xt&m)===m&&(ia===4||ia===3&&(Xt&62914560)===Xt&&300>$e()-Uf?(ys&2)===0&&bd(o,0):_y|=m,xd===Xt&&(xd=0)),di(o)}function fC(o,c){c===0&&(c=Hs()),o=Wl(o,c),o!==null&&(Ge(o,c),di(o))}function d6(o){var c=o.memoizedState,m=0;c!==null&&(m=c.retryLane),fC(o,m)}function u6(o,c){var m=0;switch(o.tag){case 31:case 13:var g=o.stateNode,b=o.memoizedState;b!==null&&(m=b.retryLane);break;case 19:g=o.stateNode;break;case 22:g=o.stateNode._retryCache;break;default:throw Error(n(314))}g!==null&&g.delete(c),fC(o,m)}function h6(o,c){return Ps(o,c)}var Xf=null,jd=null,Ry=!1,Qf=!1,My=!1,Zo=0;function di(o){o!==jd&&o.next===null&&(jd===null?Xf=jd=o:jd=jd.next=o),Qf=!0,Ry||(Ry=!0,f6())}function hh(o,c){if(!My&&Qf){My=!0;do for(var m=!1,g=Xf;g!==null;){if(o!==0){var b=g.pendingLanes;if(b===0)var C=0;else{var O=g.suspendedLanes,ee=g.pingedLanes;C=(1<<31-Ue(42|o)+1)-1,C&=b&~(O&~ee),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(m=!0,yC(g,C))}else C=Xt,C=kt(g,g===Rs?C:0,g.cancelPendingCommit!==null||g.timeoutHandle!==-1),(C&3)===0||Z(g,C)||(m=!0,yC(g,C));g=g.next}while(m);My=!1}}function m6(){pC()}function pC(){Qf=Ry=!1;var o=0;Zo!==0&&_6()&&(o=Zo);for(var c=$e(),m=null,g=Xf;g!==null;){var b=g.next,C=gC(g,c);C===0?(g.next=null,m===null?Xf=b:m.next=b,b===null&&(jd=m)):(m=g,(o!==0||(C&3)!==0)&&(Qf=!0)),g=b}Ea!==0&&Ea!==5||hh(o),Zo!==0&&(Zo=0)}function gC(o,c){for(var m=o.suspendedLanes,g=o.pingedLanes,b=o.expirationTimes,C=o.pendingLanes&-62914561;0<C;){var O=31-Ue(C),ee=1<<O,me=b[O];me===-1?((ee&m)===0||(ee&g)!==0)&&(b[O]=yt(ee,c)):me<=c&&(o.expiredLanes|=ee),C&=~ee}if(c=Rs,m=Xt,m=kt(o,o===c?m:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g=o.callbackNode,m===0||o===c&&(ws===2||ws===9)||o.cancelPendingCommit!==null)return g!==null&&g!==null&&pe(g),o.callbackNode=null,o.callbackPriority=0;if((m&3)===0||Z(o,m)){if(c=m&-m,c===o.callbackPriority)return c;switch(g!==null&&pe(g),dn(m)){case 2:case 8:m=xt;break;case 32:m=ot;break;case 268435456:m=Dt;break;default:m=ot}return g=xC.bind(null,o),m=Ps(m,g),o.callbackPriority=c,o.callbackNode=m,c}return g!==null&&g!==null&&pe(g),o.callbackPriority=2,o.callbackNode=null,2}function xC(o,c){if(Ea!==0&&Ea!==5)return o.callbackNode=null,o.callbackPriority=0,null;var m=o.callbackNode;if(Kf()&&o.callbackNode!==m)return null;var g=Xt;return g=kt(o,o===Rs?g:0,o.cancelPendingCommit!==null||o.timeoutHandle!==-1),g===0?null:(Z_(o,g,c),gC(o,$e()),o.callbackNode!=null&&o.callbackNode===m?xC.bind(null,o):null)}function yC(o,c){if(Kf())return null;Z_(o,c,!0)}function f6(){k6(function(){(ys&6)!==0?Ps(dt,m6):pC()})}function Py(){if(Zo===0){var o=id;o===0&&(o=js,js<<=1,(js&261888)===0&&(js=256)),Zo=o}return Zo}function bC(o){return o==null||typeof o=="symbol"||typeof o=="boolean"?null:typeof o=="function"?o:To(""+o)}function vC(o,c){var m=c.ownerDocument.createElement("input");return m.name=c.name,m.value=c.value,o.id&&m.setAttribute("form",o.id),c.parentNode.insertBefore(m,c),o=new FormData(o),m.parentNode.removeChild(m),o}function p6(o,c,m,g,b){if(c==="submit"&&m&&m.stateNode===b){var C=bC((b[aa]||null).action),O=g.submitter;O&&(c=(c=O[aa]||null)?bC(c.formAction):O.getAttribute("formAction"),c!==null&&(C=c,O=null));var ee=new I("action","action",null,g,b);o.push({event:ee,listeners:[{instance:null,listener:function(){if(g.defaultPrevented){if(Zo!==0){var me=O?vC(b,O):new FormData(b);ey(m,{pending:!0,data:me,method:b.method,action:C},null,me)}}else typeof C=="function"&&(ee.preventDefault(),me=O?vC(b,O):new FormData(b),ey(m,{pending:!0,data:me,method:b.method,action:C},C,me))},currentTarget:b}]})}}for(var Oy=0;Oy<x0.length;Oy++){var Ly=x0[Oy],g6=Ly.toLowerCase(),x6=Ly[0].toUpperCase()+Ly.slice(1);Br(g6,"on"+x6)}Br(Q1,"onAnimationEnd"),Br(Z1,"onAnimationIteration"),Br(J1,"onAnimationStart"),Br("dblclick","onDoubleClick"),Br("focusin","onFocus"),Br("focusout","onBlur"),Br(ML,"onTransitionRun"),Br(PL,"onTransitionStart"),Br(OL,"onTransitionCancel"),Br(eN,"onTransitionEnd"),hn("onMouseEnter",["mouseout","mouseover"]),hn("onMouseLeave",["mouseout","mouseover"]),hn("onPointerEnter",["pointerout","pointerover"]),hn("onPointerLeave",["pointerout","pointerover"]),or("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),or("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),or("onBeforeInput",["compositionend","keypress","textInput","paste"]),or("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),or("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),or("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mh="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),y6=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(mh));function jC(o,c){c=(c&4)!==0;for(var m=0;m<o.length;m++){var g=o[m],b=g.event;g=g.listeners;e:{var C=void 0;if(c)for(var O=g.length-1;0<=O;O--){var ee=g[O],me=ee.instance,je=ee.currentTarget;if(ee=ee.listener,me!==C&&b.isPropagationStopped())break e;C=ee,b.currentTarget=je;try{C(b)}catch(Oe){hf(Oe)}b.currentTarget=null,C=me}else for(O=0;O<g.length;O++){if(ee=g[O],me=ee.instance,je=ee.currentTarget,ee=ee.listener,me!==C&&b.isPropagationStopped())break e;C=ee,b.currentTarget=je;try{C(b)}catch(Oe){hf(Oe)}b.currentTarget=null,C=me}}}}function Wt(o,c){var m=c[Di];m===void 0&&(m=c[Di]=new Set);var g=o+"__bubble";m.has(g)||(wC(c,o,2,!1),m.add(g))}function By(o,c,m){var g=0;c&&(g|=4),wC(m,o,g,c)}var Zf="_reactListening"+Math.random().toString(36).slice(2);function Fy(o){if(!o[Zf]){o[Zf]=!0,Co.forEach(function(m){m!=="selectionchange"&&(y6.has(m)||By(m,!1,o),By(m,!0,o))});var c=o.nodeType===9?o:o.ownerDocument;c===null||c[Zf]||(c[Zf]=!0,By("selectionchange",!1,c))}}function wC(o,c,m,g){switch(QC(c)){case 2:var b=G6;break;case 8:b=W6;break;default:b=Jy}m=b.bind(null,c,m,o),b=void 0,!Vl||c!=="touchstart"&&c!=="touchmove"&&c!=="wheel"||(b=!0),g?b!==void 0?o.addEventListener(c,m,{capture:!0,passive:b}):o.addEventListener(c,m,!0):b!==void 0?o.addEventListener(c,m,{passive:b}):o.addEventListener(c,m,!1)}function Iy(o,c,m,g,b){var C=g;if((c&1)===0&&(c&2)===0&&g!==null)e:for(;;){if(g===null)return;var O=g.tag;if(O===3||O===4){var ee=g.stateNode.containerInfo;if(ee===b)break;if(O===4)for(O=g.return;O!==null;){var me=O.tag;if((me===3||me===4)&&O.stateNode.containerInfo===b)return;O=O.return}for(;ee!==null;){if(O=Jr(ee),O===null)return;if(me=O.tag,me===5||me===6||me===26||me===27){g=C=O;continue e}ee=ee.parentNode}}g=g.return}Oi(function(){var je=C,Oe=Do(m),ze=[];e:{var Ce=tN.get(o);if(Ce!==void 0){var De=I,it=o;switch(o){case"keypress":if(Nn(m)===0)break e;case"keydown":case"keyup":De=Da;break;case"focusin":it="focus",De=Eu;break;case"focusout":it="blur",De=Eu;break;case"beforeblur":case"afterblur":De=Eu;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":De=ur;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":De=Po;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":De=S;break;case Q1:case Z1:case J1:De=s0;break;case eN:De=ae;break;case"scroll":case"scrollend":De=nt;break;case"wheel":De=Le;break;case"copy":case"cut":case"paste":De=n0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":De=rf;break;case"toggle":case"beforetoggle":De=ht}var Ct=(c&4)!==0,Ts=!Ct&&(o==="scroll"||o==="scrollend"),be=Ct?Ce!==null?Ce+"Capture":null:Ce;Ct=[];for(var ge=je,ve;ge!==null;){var Ie=ge;if(ve=Ie.stateNode,Ie=Ie.tag,Ie!==5&&Ie!==26&&Ie!==27||ve===null||be===null||(Ie=ii(ge,be),Ie!=null&&Ct.push(fh(ge,Ie,ve))),Ts)break;ge=ge.return}0<Ct.length&&(Ce=new De(Ce,it,null,m,Oe),ze.push({event:Ce,listeners:Ct}))}}if((c&7)===0){e:{if(Ce=o==="mouseover"||o==="pointerover",De=o==="mouseout"||o==="pointerout",Ce&&m!==zl&&(it=m.relatedTarget||m.fromElement)&&(Jr(it)||it[ga]))break e;if((De||Ce)&&(Ce=Oe.window===Oe?Oe:(Ce=Oe.ownerDocument)?Ce.defaultView||Ce.parentWindow:window,De?(it=m.relatedTarget||m.toElement,De=je,it=it?Jr(it):null,it!==null&&(Ts=i(it),Ct=it.tag,it!==Ts||Ct!==5&&Ct!==27&&Ct!==6)&&(it=null)):(De=null,it=je),De!==it)){if(Ct=ur,Ie="onMouseLeave",be="onMouseEnter",ge="mouse",(o==="pointerout"||o==="pointerover")&&(Ct=rf,Ie="onPointerLeave",be="onPointerEnter",ge="pointer"),Ts=De==null?Ce:ei(De),ve=it==null?Ce:ei(it),Ce=new Ct(Ie,ge+"leave",De,m,Oe),Ce.target=Ts,Ce.relatedTarget=ve,Ie=null,Jr(Oe)===je&&(Ct=new Ct(be,ge+"enter",it,m,Oe),Ct.target=ve,Ct.relatedTarget=Ts,Ie=Ct),Ts=Ie,De&&it)t:{for(Ct=b6,be=De,ge=it,ve=0,Ie=be;Ie;Ie=Ct(Ie))ve++;Ie=0;for(var bt=ge;bt;bt=Ct(bt))Ie++;for(;0<ve-Ie;)be=Ct(be),ve--;for(;0<Ie-ve;)ge=Ct(ge),Ie--;for(;ve--;){if(be===ge||ge!==null&&be===ge.alternate){Ct=be;break t}be=Ct(be),ge=Ct(ge)}Ct=null}else Ct=null;De!==null&&NC(ze,Ce,De,Ct,!1),it!==null&&Ts!==null&&NC(ze,Ts,it,Ct,!0)}}e:{if(Ce=je?ei(je):window,De=Ce.nodeName&&Ce.nodeName.toLowerCase(),De==="select"||De==="input"&&Ce.type==="file")var ms=df;else if(Lu(Ce))if(uf)ms=DL;else{ms=AL;var ft=SL}else De=Ce.nodeName,!De||De.toLowerCase()!=="input"||Ce.type!=="checkbox"&&Ce.type!=="radio"?je&&$l(je.elementType)&&(ms=df):ms=TL;if(ms&&(ms=ms(o,je))){Bu(ze,ms,m,Oe);break e}ft&&ft(o,Ce,je),o==="focusout"&&je&&Ce.type==="number"&&je.memoizedProps.value!=null&&Il(Ce,"number",Ce.value)}switch(ft=je?ei(je):window,o){case"focusin":(Lu(ft)||ft.contentEditable==="true")&&(Zc=ft,f0=je,Uu=null);break;case"focusout":Uu=f0=Zc=null;break;case"mousedown":p0=!0;break;case"contextmenu":case"mouseup":case"dragend":p0=!1,K1(ze,m,Oe);break;case"selectionchange":if(RL)break;case"keydown":case"keyup":K1(ze,m,Oe)}var Ut;if(Kt)e:{switch(o){case"compositionstart":var Qt="onCompositionStart";break e;case"compositionend":Qt="onCompositionEnd";break e;case"compositionupdate":Qt="onCompositionUpdate";break e}Qt=void 0}else Oo?lf(o,m)&&(Qt="onCompositionEnd"):o==="keydown"&&m.keyCode===229&&(Qt="onCompositionStart");Qt&&(Ul&&m.locale!=="ko"&&(Oo||Qt!=="onCompositionStart"?Qt==="onCompositionEnd"&&Oo&&(Ut=St()):(wn=Oe,Eo="value"in wn?wn.value:wn.textContent,Oo=!0)),ft=Jf(je,Qt),0<ft.length&&(Qt=new nf(Qt,o,null,m,Oe),ze.push({event:Qt,listeners:ft}),Ut?Qt.data=Ut:(Ut=Ou(m),Ut!==null&&(Qt.data=Ut)))),(Ut=na?cf(o,m):u0(o,m))&&(Qt=Jf(je,"onBeforeInput"),0<Qt.length&&(ft=new nf("onBeforeInput","beforeinput",null,m,Oe),ze.push({event:ft,listeners:Qt}),ft.data=Ut)),p6(ze,o,je,m,Oe)}jC(ze,c)})}function fh(o,c,m){return{instance:o,listener:c,currentTarget:m}}function Jf(o,c){for(var m=c+"Capture",g=[];o!==null;){var b=o,C=b.stateNode;if(b=b.tag,b!==5&&b!==26&&b!==27||C===null||(b=ii(o,m),b!=null&&g.unshift(fh(o,b,C)),b=ii(o,c),b!=null&&g.push(fh(o,b,C))),o.tag===3)return g;o=o.return}return[]}function b6(o){if(o===null)return null;do o=o.return;while(o&&o.tag!==5&&o.tag!==27);return o||null}function NC(o,c,m,g,b){for(var C=c._reactName,O=[];m!==null&&m!==g;){var ee=m,me=ee.alternate,je=ee.stateNode;if(ee=ee.tag,me!==null&&me===g)break;ee!==5&&ee!==26&&ee!==27||je===null||(me=je,b?(je=ii(m,C),je!=null&&O.unshift(fh(m,je,me))):b||(je=ii(m,C),je!=null&&O.push(fh(m,je,me)))),m=m.return}O.length!==0&&o.push({event:c,listeners:O})}var v6=/\r\n?/g,j6=/\u0000|\uFFFD/g;function _C(o){return(typeof o=="string"?o:""+o).replace(v6,`
`).replace(j6,"")}function CC(o,c){return c=_C(c),_C(o)===c}function As(o,c,m,g,b,C){switch(m){case"children":typeof g=="string"?c==="body"||c==="textarea"&&g===""||ai(o,g):(typeof g=="number"||typeof g=="bigint")&&c!=="body"&&ai(o,""+g);break;case"className":Mi(o,"class",g);break;case"tabIndex":Mi(o,"tabindex",g);break;case"dir":case"role":case"viewBox":case"width":case"height":Mi(o,m,g);break;case"style":lr(o,g,C);break;case"data":if(c!=="object"){Mi(o,"data",g);break}case"src":case"href":if(g===""&&(c!=="a"||m!=="href")){o.removeAttribute(m);break}if(g==null||typeof g=="function"||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(m);break}g=To(""+g),o.setAttribute(m,g);break;case"action":case"formAction":if(typeof g=="function"){o.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(m==="formAction"?(c!=="input"&&As(o,c,"name",b.name,b,null),As(o,c,"formEncType",b.formEncType,b,null),As(o,c,"formMethod",b.formMethod,b,null),As(o,c,"formTarget",b.formTarget,b,null)):(As(o,c,"encType",b.encType,b,null),As(o,c,"method",b.method,b,null),As(o,c,"target",b.target,b,null)));if(g==null||typeof g=="symbol"||typeof g=="boolean"){o.removeAttribute(m);break}g=To(""+g),o.setAttribute(m,g);break;case"onClick":g!=null&&(o.onclick=jn);break;case"onScroll":g!=null&&Wt("scroll",o);break;case"onScrollEnd":g!=null&&Wt("scrollend",o);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(m=g.__html,m!=null){if(b.children!=null)throw Error(n(60));o.innerHTML=m}}break;case"multiple":o.multiple=g&&typeof g!="function"&&typeof g!="symbol";break;case"muted":o.muted=g&&typeof g!="function"&&typeof g!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(g==null||typeof g=="function"||typeof g=="boolean"||typeof g=="symbol"){o.removeAttribute("xlink:href");break}m=To(""+g),o.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(m,""+g):o.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":g&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(m,""):o.removeAttribute(m);break;case"capture":case"download":g===!0?o.setAttribute(m,""):g!==!1&&g!=null&&typeof g!="function"&&typeof g!="symbol"?o.setAttribute(m,g):o.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":g!=null&&typeof g!="function"&&typeof g!="symbol"&&!isNaN(g)&&1<=g?o.setAttribute(m,g):o.removeAttribute(m);break;case"rowSpan":case"start":g==null||typeof g=="function"||typeof g=="symbol"||isNaN(g)?o.removeAttribute(m):o.setAttribute(m,g);break;case"popover":Wt("beforetoggle",o),Wt("toggle",o),Ri(o,"popover",g);break;case"xlinkActuate":vn(o,"http://www.w3.org/1999/xlink","xlink:actuate",g);break;case"xlinkArcrole":vn(o,"http://www.w3.org/1999/xlink","xlink:arcrole",g);break;case"xlinkRole":vn(o,"http://www.w3.org/1999/xlink","xlink:role",g);break;case"xlinkShow":vn(o,"http://www.w3.org/1999/xlink","xlink:show",g);break;case"xlinkTitle":vn(o,"http://www.w3.org/1999/xlink","xlink:title",g);break;case"xlinkType":vn(o,"http://www.w3.org/1999/xlink","xlink:type",g);break;case"xmlBase":vn(o,"http://www.w3.org/XML/1998/namespace","xml:base",g);break;case"xmlLang":vn(o,"http://www.w3.org/XML/1998/namespace","xml:lang",g);break;case"xmlSpace":vn(o,"http://www.w3.org/XML/1998/namespace","xml:space",g);break;case"is":Ri(o,"is",g);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=Tu.get(m)||m,Ri(o,m,g))}}function $y(o,c,m,g,b,C){switch(m){case"style":lr(o,g,C);break;case"dangerouslySetInnerHTML":if(g!=null){if(typeof g!="object"||!("__html"in g))throw Error(n(61));if(m=g.__html,m!=null){if(b.children!=null)throw Error(n(60));o.innerHTML=m}}break;case"children":typeof g=="string"?ai(o,g):(typeof g=="number"||typeof g=="bigint")&&ai(o,""+g);break;case"onScroll":g!=null&&Wt("scroll",o);break;case"onScrollEnd":g!=null&&Wt("scrollend",o);break;case"onClick":g!=null&&(o.onclick=jn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Ll.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(b=m.endsWith("Capture"),c=m.slice(2,b?m.length-7:void 0),C=o[aa]||null,C=C!=null?C[m]:null,typeof C=="function"&&o.removeEventListener(c,C,b),typeof g=="function")){typeof C!="function"&&C!==null&&(m in o?o[m]=null:o.hasAttribute(m)&&o.removeAttribute(m)),o.addEventListener(c,g,b);break e}m in o?o[m]=g:g===!0?o.setAttribute(m,""):Ri(o,m,g)}}}function Wa(o,c,m){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Wt("error",o),Wt("load",o);var g=!1,b=!1,C;for(C in m)if(m.hasOwnProperty(C)){var O=m[C];if(O!=null)switch(C){case"src":g=!0;break;case"srcSet":b=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:As(o,c,C,O,m,null)}}b&&As(o,c,"srcSet",m.srcSet,m,null),g&&As(o,c,"src",m.src,m,null);return;case"input":Wt("invalid",o);var ee=C=O=b=null,me=null,je=null;for(g in m)if(m.hasOwnProperty(g)){var Oe=m[g];if(Oe!=null)switch(g){case"name":b=Oe;break;case"type":O=Oe;break;case"checked":me=Oe;break;case"defaultChecked":je=Oe;break;case"value":C=Oe;break;case"defaultValue":ee=Oe;break;case"children":case"dangerouslySetInnerHTML":if(Oe!=null)throw Error(n(137,c));break;default:As(o,c,g,Oe,m,null)}}Fl(o,C,ee,me,je,O,b,!1);return;case"select":Wt("invalid",o),g=O=C=null;for(b in m)if(m.hasOwnProperty(b)&&(ee=m[b],ee!=null))switch(b){case"value":C=ee;break;case"defaultValue":O=ee;break;case"multiple":g=ee;default:As(o,c,b,ee,m,null)}c=C,m=O,o.multiple=!!g,c!=null?si(o,!!g,c,!1):m!=null&&si(o,!!g,m,!0);return;case"textarea":Wt("invalid",o),C=b=g=null;for(O in m)if(m.hasOwnProperty(O)&&(ee=m[O],ee!=null))switch(O){case"value":g=ee;break;case"defaultValue":b=ee;break;case"children":C=ee;break;case"dangerouslySetInnerHTML":if(ee!=null)throw Error(n(91));break;default:As(o,c,O,ee,m,null)}Kc(o,g,b,C);return;case"option":for(me in m)if(m.hasOwnProperty(me)&&(g=m[me],g!=null))switch(me){case"selected":o.selected=g&&typeof g!="function"&&typeof g!="symbol";break;default:As(o,c,me,g,m,null)}return;case"dialog":Wt("beforetoggle",o),Wt("toggle",o),Wt("cancel",o),Wt("close",o);break;case"iframe":case"object":Wt("load",o);break;case"video":case"audio":for(g=0;g<mh.length;g++)Wt(mh[g],o);break;case"image":Wt("error",o),Wt("load",o);break;case"details":Wt("toggle",o);break;case"embed":case"source":case"link":Wt("error",o),Wt("load",o);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(je in m)if(m.hasOwnProperty(je)&&(g=m[je],g!=null))switch(je){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,c));default:As(o,c,je,g,m,null)}return;default:if($l(c)){for(Oe in m)m.hasOwnProperty(Oe)&&(g=m[Oe],g!==void 0&&$y(o,c,Oe,g,m,void 0));return}}for(ee in m)m.hasOwnProperty(ee)&&(g=m[ee],g!=null&&As(o,c,ee,g,m,null))}function w6(o,c,m,g){switch(c){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var b=null,C=null,O=null,ee=null,me=null,je=null,Oe=null;for(De in m){var ze=m[De];if(m.hasOwnProperty(De)&&ze!=null)switch(De){case"checked":break;case"value":break;case"defaultValue":me=ze;default:g.hasOwnProperty(De)||As(o,c,De,null,g,ze)}}for(var Ce in g){var De=g[Ce];if(ze=m[Ce],g.hasOwnProperty(Ce)&&(De!=null||ze!=null))switch(Ce){case"type":C=De;break;case"name":b=De;break;case"checked":je=De;break;case"defaultChecked":Oe=De;break;case"value":O=De;break;case"defaultValue":ee=De;break;case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(n(137,c));break;default:De!==ze&&As(o,c,Ce,De,g,ze)}}Pr(o,O,ee,me,je,Oe,C,b);return;case"select":De=O=ee=Ce=null;for(C in m)if(me=m[C],m.hasOwnProperty(C)&&me!=null)switch(C){case"value":break;case"multiple":De=me;default:g.hasOwnProperty(C)||As(o,c,C,null,g,me)}for(b in g)if(C=g[b],me=m[b],g.hasOwnProperty(b)&&(C!=null||me!=null))switch(b){case"value":Ce=C;break;case"defaultValue":ee=C;break;case"multiple":O=C;default:C!==me&&As(o,c,b,C,g,me)}c=ee,m=O,g=De,Ce!=null?si(o,!!m,Ce,!1):!!g!=!!m&&(c!=null?si(o,!!m,c,!0):si(o,!!m,m?[]:"",!1));return;case"textarea":De=Ce=null;for(ee in m)if(b=m[ee],m.hasOwnProperty(ee)&&b!=null&&!g.hasOwnProperty(ee))switch(ee){case"value":break;case"children":break;default:As(o,c,ee,null,g,b)}for(O in g)if(b=g[O],C=m[O],g.hasOwnProperty(O)&&(b!=null||C!=null))switch(O){case"value":Ce=b;break;case"defaultValue":De=b;break;case"children":break;case"dangerouslySetInnerHTML":if(b!=null)throw Error(n(91));break;default:b!==C&&As(o,c,O,b,g,C)}Yc(o,Ce,De);return;case"option":for(var it in m)if(Ce=m[it],m.hasOwnProperty(it)&&Ce!=null&&!g.hasOwnProperty(it))switch(it){case"selected":o.selected=!1;break;default:As(o,c,it,null,g,Ce)}for(me in g)if(Ce=g[me],De=m[me],g.hasOwnProperty(me)&&Ce!==De&&(Ce!=null||De!=null))switch(me){case"selected":o.selected=Ce&&typeof Ce!="function"&&typeof Ce!="symbol";break;default:As(o,c,me,Ce,g,De)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Ct in m)Ce=m[Ct],m.hasOwnProperty(Ct)&&Ce!=null&&!g.hasOwnProperty(Ct)&&As(o,c,Ct,null,g,Ce);for(je in g)if(Ce=g[je],De=m[je],g.hasOwnProperty(je)&&Ce!==De&&(Ce!=null||De!=null))switch(je){case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(n(137,c));break;default:As(o,c,je,Ce,g,De)}return;default:if($l(c)){for(var Ts in m)Ce=m[Ts],m.hasOwnProperty(Ts)&&Ce!==void 0&&!g.hasOwnProperty(Ts)&&$y(o,c,Ts,void 0,g,Ce);for(Oe in g)Ce=g[Oe],De=m[Oe],!g.hasOwnProperty(Oe)||Ce===De||Ce===void 0&&De===void 0||$y(o,c,Oe,Ce,g,De);return}}for(var be in m)Ce=m[be],m.hasOwnProperty(be)&&Ce!=null&&!g.hasOwnProperty(be)&&As(o,c,be,null,g,Ce);for(ze in g)Ce=g[ze],De=m[ze],!g.hasOwnProperty(ze)||Ce===De||Ce==null&&De==null||As(o,c,ze,Ce,g,De)}function kC(o){switch(o){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function N6(){if(typeof performance.getEntriesByType=="function"){for(var o=0,c=0,m=performance.getEntriesByType("resource"),g=0;g<m.length;g++){var b=m[g],C=b.transferSize,O=b.initiatorType,ee=b.duration;if(C&&ee&&kC(O)){for(O=0,ee=b.responseEnd,g+=1;g<m.length;g++){var me=m[g],je=me.startTime;if(je>ee)break;var Oe=me.transferSize,ze=me.initiatorType;Oe&&kC(ze)&&(me=me.responseEnd,O+=Oe*(me<ee?1:(ee-je)/(me-je)))}if(--g,c+=8*(C+O)/(b.duration/1e3),o++,10<o)break}}if(0<o)return c/o/1e6}return navigator.connection&&(o=navigator.connection.downlink,typeof o=="number")?o:5}var zy=null,Vy=null;function ep(o){return o.nodeType===9?o:o.ownerDocument}function SC(o){switch(o){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function AC(o,c){if(o===0)switch(c){case"svg":return 1;case"math":return 2;default:return 0}return o===1&&c==="foreignObject"?0:o}function Uy(o,c){return o==="textarea"||o==="noscript"||typeof c.children=="string"||typeof c.children=="number"||typeof c.children=="bigint"||typeof c.dangerouslySetInnerHTML=="object"&&c.dangerouslySetInnerHTML!==null&&c.dangerouslySetInnerHTML.__html!=null}var Hy=null;function _6(){var o=window.event;return o&&o.type==="popstate"?o===Hy?!1:(Hy=o,!0):(Hy=null,!1)}var TC=typeof setTimeout=="function"?setTimeout:void 0,C6=typeof clearTimeout=="function"?clearTimeout:void 0,DC=typeof Promise=="function"?Promise:void 0,k6=typeof queueMicrotask=="function"?queueMicrotask:typeof DC<"u"?function(o){return DC.resolve(null).then(o).catch(S6)}:TC;function S6(o){setTimeout(function(){throw o})}function Jo(o){return o==="head"}function EC(o,c){var m=c,g=0;do{var b=m.nextSibling;if(o.removeChild(m),b&&b.nodeType===8)if(m=b.data,m==="/$"||m==="/&"){if(g===0){o.removeChild(b),Cd(c);return}g--}else if(m==="$"||m==="$?"||m==="$~"||m==="$!"||m==="&")g++;else if(m==="html")ph(o.ownerDocument.documentElement);else if(m==="head"){m=o.ownerDocument.head,ph(m);for(var C=m.firstChild;C;){var O=C.nextSibling,ee=C.nodeName;C[Rr]||ee==="SCRIPT"||ee==="STYLE"||ee==="LINK"&&C.rel.toLowerCase()==="stylesheet"||m.removeChild(C),C=O}}else m==="body"&&ph(o.ownerDocument.body);m=b}while(m);Cd(c)}function RC(o,c){var m=o;o=0;do{var g=m.nextSibling;if(m.nodeType===1?c?(m._stashedDisplay=m.style.display,m.style.display="none"):(m.style.display=m._stashedDisplay||"",m.getAttribute("style")===""&&m.removeAttribute("style")):m.nodeType===3&&(c?(m._stashedText=m.nodeValue,m.nodeValue=""):m.nodeValue=m._stashedText||""),g&&g.nodeType===8)if(m=g.data,m==="/$"){if(o===0)break;o--}else m!=="$"&&m!=="$?"&&m!=="$~"&&m!=="$!"||o++;m=g}while(m)}function qy(o){var c=o.firstChild;for(c&&c.nodeType===10&&(c=c.nextSibling);c;){var m=c;switch(c=c.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":qy(m),Ol(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}o.removeChild(m)}}function A6(o,c,m,g){for(;o.nodeType===1;){var b=m;if(o.nodeName.toLowerCase()!==c.toLowerCase()){if(!g&&(o.nodeName!=="INPUT"||o.type!=="hidden"))break}else if(g){if(!o[Rr])switch(c){case"meta":if(!o.hasAttribute("itemprop"))break;return o;case"link":if(C=o.getAttribute("rel"),C==="stylesheet"&&o.hasAttribute("data-precedence"))break;if(C!==b.rel||o.getAttribute("href")!==(b.href==null||b.href===""?null:b.href)||o.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin)||o.getAttribute("title")!==(b.title==null?null:b.title))break;return o;case"style":if(o.hasAttribute("data-precedence"))break;return o;case"script":if(C=o.getAttribute("src"),(C!==(b.src==null?null:b.src)||o.getAttribute("type")!==(b.type==null?null:b.type)||o.getAttribute("crossorigin")!==(b.crossOrigin==null?null:b.crossOrigin))&&C&&o.hasAttribute("async")&&!o.hasAttribute("itemprop"))break;return o;default:return o}}else if(c==="input"&&o.type==="hidden"){var C=b.name==null?null:""+b.name;if(b.type==="hidden"&&o.getAttribute("name")===C)return o}else return o;if(o=yr(o.nextSibling),o===null)break}return null}function T6(o,c,m){if(c==="")return null;for(;o.nodeType!==3;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!m||(o=yr(o.nextSibling),o===null))return null;return o}function MC(o,c){for(;o.nodeType!==8;)if((o.nodeType!==1||o.nodeName!=="INPUT"||o.type!=="hidden")&&!c||(o=yr(o.nextSibling),o===null))return null;return o}function Gy(o){return o.data==="$?"||o.data==="$~"}function Wy(o){return o.data==="$!"||o.data==="$?"&&o.ownerDocument.readyState!=="loading"}function D6(o,c){var m=o.ownerDocument;if(o.data==="$~")o._reactRetry=c;else if(o.data!=="$?"||m.readyState!=="loading")c();else{var g=function(){c(),m.removeEventListener("DOMContentLoaded",g)};m.addEventListener("DOMContentLoaded",g),o._reactRetry=g}}function yr(o){for(;o!=null;o=o.nextSibling){var c=o.nodeType;if(c===1||c===3)break;if(c===8){if(c=o.data,c==="$"||c==="$!"||c==="$?"||c==="$~"||c==="&"||c==="F!"||c==="F")break;if(c==="/$"||c==="/&")return null}}return o}var Yy=null;function PC(o){o=o.nextSibling;for(var c=0;o;){if(o.nodeType===8){var m=o.data;if(m==="/$"||m==="/&"){if(c===0)return yr(o.nextSibling);c--}else m!=="$"&&m!=="$!"&&m!=="$?"&&m!=="$~"&&m!=="&"||c++}o=o.nextSibling}return null}function OC(o){o=o.previousSibling;for(var c=0;o;){if(o.nodeType===8){var m=o.data;if(m==="$"||m==="$!"||m==="$?"||m==="$~"||m==="&"){if(c===0)return o;c--}else m!=="/$"&&m!=="/&"||c++}o=o.previousSibling}return null}function LC(o,c,m){switch(c=ep(m),o){case"html":if(o=c.documentElement,!o)throw Error(n(452));return o;case"head":if(o=c.head,!o)throw Error(n(453));return o;case"body":if(o=c.body,!o)throw Error(n(454));return o;default:throw Error(n(451))}}function ph(o){for(var c=o.attributes;c.length;)o.removeAttributeNode(c[0]);Ol(o)}var br=new Map,BC=new Set;function tp(o){return typeof o.getRootNode=="function"?o.getRootNode():o.nodeType===9?o:o.ownerDocument}var Zi=q.d;q.d={f:E6,r:R6,D:M6,C:P6,L:O6,m:L6,X:F6,S:B6,M:I6};function E6(){var o=Zi.f(),c=Gf();return o||c}function R6(o){var c=In(o);c!==null&&c.tag===5&&c.type==="form"?e_(c):Zi.r(o)}var wd=typeof document>"u"?null:document;function FC(o,c,m){var g=wd;if(g&&typeof c=="string"&&c){var b=xa(c);b='link[rel="'+o+'"][href="'+b+'"]',typeof m=="string"&&(b+='[crossorigin="'+m+'"]'),BC.has(b)||(BC.add(b),o={rel:o,crossOrigin:m,href:c},g.querySelector(b)===null&&(c=g.createElement("link"),Wa(c,"link",o),ks(c),g.head.appendChild(c)))}}function M6(o){Zi.D(o),FC("dns-prefetch",o,null)}function P6(o,c){Zi.C(o,c),FC("preconnect",o,c)}function O6(o,c,m){Zi.L(o,c,m);var g=wd;if(g&&o&&c){var b='link[rel="preload"][as="'+xa(c)+'"]';c==="image"&&m&&m.imageSrcSet?(b+='[imagesrcset="'+xa(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(b+='[imagesizes="'+xa(m.imageSizes)+'"]')):b+='[href="'+xa(o)+'"]';var C=b;switch(c){case"style":C=Nd(o);break;case"script":C=_d(o)}br.has(C)||(o=f({rel:"preload",href:c==="image"&&m&&m.imageSrcSet?void 0:o,as:c},m),br.set(C,o),g.querySelector(b)!==null||c==="style"&&g.querySelector(gh(C))||c==="script"&&g.querySelector(xh(C))||(c=g.createElement("link"),Wa(c,"link",o),ks(c),g.head.appendChild(c)))}}function L6(o,c){Zi.m(o,c);var m=wd;if(m&&o){var g=c&&typeof c.as=="string"?c.as:"script",b='link[rel="modulepreload"][as="'+xa(g)+'"][href="'+xa(o)+'"]',C=b;switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=_d(o)}if(!br.has(C)&&(o=f({rel:"modulepreload",href:o},c),br.set(C,o),m.querySelector(b)===null)){switch(g){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(xh(C)))return}g=m.createElement("link"),Wa(g,"link",o),ks(g),m.head.appendChild(g)}}}function B6(o,c,m){Zi.S(o,c,m);var g=wd;if(g&&o){var b=$n(g).hoistableStyles,C=Nd(o);c=c||"default";var O=b.get(C);if(!O){var ee={loading:0,preload:null};if(O=g.querySelector(gh(C)))ee.loading=5;else{o=f({rel:"stylesheet",href:o,"data-precedence":c},m),(m=br.get(C))&&Ky(o,m);var me=O=g.createElement("link");ks(me),Wa(me,"link",o),me._p=new Promise(function(je,Oe){me.onload=je,me.onerror=Oe}),me.addEventListener("load",function(){ee.loading|=1}),me.addEventListener("error",function(){ee.loading|=2}),ee.loading|=4,sp(O,c,g)}O={type:"stylesheet",instance:O,count:1,state:ee},b.set(C,O)}}}function F6(o,c){Zi.X(o,c);var m=wd;if(m&&o){var g=$n(m).hoistableScripts,b=_d(o),C=g.get(b);C||(C=m.querySelector(xh(b)),C||(o=f({src:o,async:!0},c),(c=br.get(b))&&Xy(o,c),C=m.createElement("script"),ks(C),Wa(C,"link",o),m.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},g.set(b,C))}}function I6(o,c){Zi.M(o,c);var m=wd;if(m&&o){var g=$n(m).hoistableScripts,b=_d(o),C=g.get(b);C||(C=m.querySelector(xh(b)),C||(o=f({src:o,async:!0,type:"module"},c),(c=br.get(b))&&Xy(o,c),C=m.createElement("script"),ks(C),Wa(C,"link",o),m.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},g.set(b,C))}}function IC(o,c,m,g){var b=(b=we.current)?tp(b):null;if(!b)throw Error(n(446));switch(o){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(c=Nd(m.href),m=$n(b).hoistableStyles,g=m.get(c),g||(g={type:"style",instance:null,count:0,state:null},m.set(c,g)),g):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){o=Nd(m.href);var C=$n(b).hoistableStyles,O=C.get(o);if(O||(b=b.ownerDocument||b,O={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(o,O),(C=b.querySelector(gh(o)))&&!C._p&&(O.instance=C,O.state.loading=5),br.has(o)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},br.set(o,m),C||$6(b,o,m,O.state))),c&&g===null)throw Error(n(528,""));return O}if(c&&g!==null)throw Error(n(529,""));return null;case"script":return c=m.async,m=m.src,typeof m=="string"&&c&&typeof c!="function"&&typeof c!="symbol"?(c=_d(m),m=$n(b).hoistableScripts,g=m.get(c),g||(g={type:"script",instance:null,count:0,state:null},m.set(c,g)),g):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,o))}}function Nd(o){return'href="'+xa(o)+'"'}function gh(o){return'link[rel="stylesheet"]['+o+"]"}function $C(o){return f({},o,{"data-precedence":o.precedence,precedence:null})}function $6(o,c,m,g){o.querySelector('link[rel="preload"][as="style"]['+c+"]")?g.loading=1:(c=o.createElement("link"),g.preload=c,c.addEventListener("load",function(){return g.loading|=1}),c.addEventListener("error",function(){return g.loading|=2}),Wa(c,"link",m),ks(c),o.head.appendChild(c))}function _d(o){return'[src="'+xa(o)+'"]'}function xh(o){return"script[async]"+o}function zC(o,c,m){if(c.count++,c.instance===null)switch(c.type){case"style":var g=o.querySelector('style[data-href~="'+xa(m.href)+'"]');if(g)return c.instance=g,ks(g),g;var b=f({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return g=(o.ownerDocument||o).createElement("style"),ks(g),Wa(g,"style",b),sp(g,m.precedence,o),c.instance=g;case"stylesheet":b=Nd(m.href);var C=o.querySelector(gh(b));if(C)return c.state.loading|=4,c.instance=C,ks(C),C;g=$C(m),(b=br.get(b))&&Ky(g,b),C=(o.ownerDocument||o).createElement("link"),ks(C);var O=C;return O._p=new Promise(function(ee,me){O.onload=ee,O.onerror=me}),Wa(C,"link",g),c.state.loading|=4,sp(C,m.precedence,o),c.instance=C;case"script":return C=_d(m.src),(b=o.querySelector(xh(C)))?(c.instance=b,ks(b),b):(g=m,(b=br.get(C))&&(g=f({},m),Xy(g,b)),o=o.ownerDocument||o,b=o.createElement("script"),ks(b),Wa(b,"link",g),o.head.appendChild(b),c.instance=b);case"void":return null;default:throw Error(n(443,c.type))}else c.type==="stylesheet"&&(c.state.loading&4)===0&&(g=c.instance,c.state.loading|=4,sp(g,m.precedence,o));return c.instance}function sp(o,c,m){for(var g=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),b=g.length?g[g.length-1]:null,C=b,O=0;O<g.length;O++){var ee=g[O];if(ee.dataset.precedence===c)C=ee;else if(C!==b)break}C?C.parentNode.insertBefore(o,C.nextSibling):(c=m.nodeType===9?m.head:m,c.insertBefore(o,c.firstChild))}function Ky(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.title==null&&(o.title=c.title)}function Xy(o,c){o.crossOrigin==null&&(o.crossOrigin=c.crossOrigin),o.referrerPolicy==null&&(o.referrerPolicy=c.referrerPolicy),o.integrity==null&&(o.integrity=c.integrity)}var ap=null;function VC(o,c,m){if(ap===null){var g=new Map,b=ap=new Map;b.set(m,g)}else b=ap,g=b.get(m),g||(g=new Map,b.set(m,g));if(g.has(o))return g;for(g.set(o,null),m=m.getElementsByTagName(o),b=0;b<m.length;b++){var C=m[b];if(!(C[Rr]||C[ua]||o==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var O=C.getAttribute(c)||"";O=o+O;var ee=g.get(O);ee?ee.push(C):g.set(O,[C])}}return g}function UC(o,c,m){o=o.ownerDocument||o,o.head.insertBefore(m,c==="title"?o.querySelector("head > title"):null)}function z6(o,c,m){if(m===1||c.itemProp!=null)return!1;switch(o){case"meta":case"title":return!0;case"style":if(typeof c.precedence!="string"||typeof c.href!="string"||c.href==="")break;return!0;case"link":if(typeof c.rel!="string"||typeof c.href!="string"||c.href===""||c.onLoad||c.onError)break;switch(c.rel){case"stylesheet":return o=c.disabled,typeof c.precedence=="string"&&o==null;default:return!0}case"script":if(c.async&&typeof c.async!="function"&&typeof c.async!="symbol"&&!c.onLoad&&!c.onError&&c.src&&typeof c.src=="string")return!0}return!1}function HC(o){return!(o.type==="stylesheet"&&(o.state.loading&3)===0)}function V6(o,c,m,g){if(m.type==="stylesheet"&&(typeof g.media!="string"||matchMedia(g.media).matches!==!1)&&(m.state.loading&4)===0){if(m.instance===null){var b=Nd(g.href),C=c.querySelector(gh(b));if(C){c=C._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(o.count++,o=np.bind(o),c.then(o,o)),m.state.loading|=4,m.instance=C,ks(C);return}C=c.ownerDocument||c,g=$C(g),(b=br.get(b))&&Ky(g,b),C=C.createElement("link"),ks(C);var O=C;O._p=new Promise(function(ee,me){O.onload=ee,O.onerror=me}),Wa(C,"link",g),m.instance=C}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(m,c),(c=m.state.preload)&&(m.state.loading&3)===0&&(o.count++,m=np.bind(o),c.addEventListener("load",m),c.addEventListener("error",m))}}var Qy=0;function U6(o,c){return o.stylesheets&&o.count===0&&ip(o,o.stylesheets),0<o.count||0<o.imgCount?function(m){var g=setTimeout(function(){if(o.stylesheets&&ip(o,o.stylesheets),o.unsuspend){var C=o.unsuspend;o.unsuspend=null,C()}},6e4+c);0<o.imgBytes&&Qy===0&&(Qy=62500*N6());var b=setTimeout(function(){if(o.waitingForImages=!1,o.count===0&&(o.stylesheets&&ip(o,o.stylesheets),o.unsuspend)){var C=o.unsuspend;o.unsuspend=null,C()}},(o.imgBytes>Qy?50:800)+c);return o.unsuspend=m,function(){o.unsuspend=null,clearTimeout(g),clearTimeout(b)}}:null}function np(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)ip(this,this.stylesheets);else if(this.unsuspend){var o=this.unsuspend;this.unsuspend=null,o()}}}var rp=null;function ip(o,c){o.stylesheets=null,o.unsuspend!==null&&(o.count++,rp=new Map,c.forEach(H6,o),rp=null,np.call(o))}function H6(o,c){if(!(c.state.loading&4)){var m=rp.get(o);if(m)var g=m.get(null);else{m=new Map,rp.set(o,m);for(var b=o.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<b.length;C++){var O=b[C];(O.nodeName==="LINK"||O.getAttribute("media")!=="not all")&&(m.set(O.dataset.precedence,O),g=O)}g&&m.set(null,g)}b=c.instance,O=b.getAttribute("data-precedence"),C=m.get(O)||g,C===g&&m.set(null,b),m.set(O,b),this.count++,g=np.bind(this),b.addEventListener("load",g),b.addEventListener("error",g),C?C.parentNode.insertBefore(b,C.nextSibling):(o=o.nodeType===9?o.head:o,o.insertBefore(b,o.firstChild)),c.state.loading|=4}}var yh={$$typeof:R,Provider:null,Consumer:null,_currentValue:G,_currentValue2:G,_threadCount:0};function q6(o,c,m,g,b,C,O,ee,me){this.tag=1,this.containerInfo=o,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=gt(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=gt(0),this.hiddenUpdates=gt(null),this.identifierPrefix=g,this.onUncaughtError=b,this.onCaughtError=C,this.onRecoverableError=O,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=me,this.incompleteTransitions=new Map}function qC(o,c,m,g,b,C,O,ee,me,je,Oe,ze){return o=new q6(o,c,m,O,me,je,Oe,ze,ee),c=1,C===!0&&(c|=24),C=qn(3,null,null,c),o.current=C,C.stateNode=o,c=D0(),c.refCount++,o.pooledCache=c,c.refCount++,C.memoizedState={element:g,isDehydrated:m,cache:c},P0(C),o}function GC(o){return o?(o=td,o):td}function WC(o,c,m,g,b,C){b=GC(b),g.context===null?g.context=b:g.pendingContext=b,g=Vo(c),g.payload={element:m},C=C===void 0?null:C,C!==null&&(g.callback=C),m=Uo(o,g,c),m!==null&&(An(m,o,c),Xu(m,o,c))}function YC(o,c){if(o=o.memoizedState,o!==null&&o.dehydrated!==null){var m=o.retryLane;o.retryLane=m!==0&&m<c?m:c}}function Zy(o,c){YC(o,c),(o=o.alternate)&&YC(o,c)}function KC(o){if(o.tag===13||o.tag===31){var c=Wl(o,67108864);c!==null&&An(c,o,67108864),Zy(o,67108864)}}function XC(o){if(o.tag===13||o.tag===31){var c=Xn();c=yn(c);var m=Wl(o,c);m!==null&&An(m,o,c),Zy(o,c)}}var op=!0;function G6(o,c,m,g){var b=U.T;U.T=null;var C=q.p;try{q.p=2,Jy(o,c,m,g)}finally{q.p=C,U.T=b}}function W6(o,c,m,g){var b=U.T;U.T=null;var C=q.p;try{q.p=8,Jy(o,c,m,g)}finally{q.p=C,U.T=b}}function Jy(o,c,m,g){if(op){var b=eb(g);if(b===null)Iy(o,c,g,lp,m),ZC(o,g);else if(K6(b,o,c,m,g))g.stopPropagation();else if(ZC(o,g),c&4&&-1<Y6.indexOf(o)){for(;b!==null;){var C=In(b);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var O=Xa(C.pendingLanes);if(O!==0){var ee=C;for(ee.pendingLanes|=2,ee.entangledLanes|=2;O;){var me=1<<31-Ue(O);ee.entanglements[1]|=me,O&=~me}di(C),(ys&6)===0&&(Hf=$e()+500,hh(0))}}break;case 31:case 13:ee=Wl(C,2),ee!==null&&An(ee,C,2),Gf(),Zy(C,2)}if(C=eb(g),C===null&&Iy(o,c,g,lp,m),C===b)break;b=C}b!==null&&g.stopPropagation()}else Iy(o,c,g,null,m)}}function eb(o){return o=Do(o),tb(o)}var lp=null;function tb(o){if(lp=null,o=Jr(o),o!==null){var c=i(o);if(c===null)o=null;else{var m=c.tag;if(m===13){if(o=l(c),o!==null)return o;o=null}else if(m===31){if(o=d(c),o!==null)return o;o=null}else if(m===3){if(c.stateNode.current.memoizedState.isDehydrated)return c.tag===3?c.stateNode.containerInfo:null;o=null}else c!==o&&(o=null)}}return lp=o,null}function QC(o){switch(o){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ve()){case dt:return 2;case xt:return 8;case ot:case It:return 32;case Dt:return 268435456;default:return 32}default:return 32}}var sb=!1,el=null,tl=null,sl=null,bh=new Map,vh=new Map,al=[],Y6="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function ZC(o,c){switch(o){case"focusin":case"focusout":el=null;break;case"dragenter":case"dragleave":tl=null;break;case"mouseover":case"mouseout":sl=null;break;case"pointerover":case"pointerout":bh.delete(c.pointerId);break;case"gotpointercapture":case"lostpointercapture":vh.delete(c.pointerId)}}function jh(o,c,m,g,b,C){return o===null||o.nativeEvent!==C?(o={blockedOn:c,domEventName:m,eventSystemFlags:g,nativeEvent:C,targetContainers:[b]},c!==null&&(c=In(c),c!==null&&KC(c)),o):(o.eventSystemFlags|=g,c=o.targetContainers,b!==null&&c.indexOf(b)===-1&&c.push(b),o)}function K6(o,c,m,g,b){switch(c){case"focusin":return el=jh(el,o,c,m,g,b),!0;case"dragenter":return tl=jh(tl,o,c,m,g,b),!0;case"mouseover":return sl=jh(sl,o,c,m,g,b),!0;case"pointerover":var C=b.pointerId;return bh.set(C,jh(bh.get(C)||null,o,c,m,g,b)),!0;case"gotpointercapture":return C=b.pointerId,vh.set(C,jh(vh.get(C)||null,o,c,m,g,b)),!0}return!1}function JC(o){var c=Jr(o.target);if(c!==null){var m=i(c);if(m!==null){if(c=m.tag,c===13){if(c=l(m),c!==null){o.blockedOn=c,Wc(o.priority,function(){XC(m)});return}}else if(c===31){if(c=d(m),c!==null){o.blockedOn=c,Wc(o.priority,function(){XC(m)});return}}else if(c===3&&m.stateNode.current.memoizedState.isDehydrated){o.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}o.blockedOn=null}function cp(o){if(o.blockedOn!==null)return!1;for(var c=o.targetContainers;0<c.length;){var m=eb(o.nativeEvent);if(m===null){m=o.nativeEvent;var g=new m.constructor(m.type,m);zl=g,m.target.dispatchEvent(g),zl=null}else return c=In(m),c!==null&&KC(c),o.blockedOn=m,!1;c.shift()}return!0}function e2(o,c,m){cp(o)&&m.delete(c)}function X6(){sb=!1,el!==null&&cp(el)&&(el=null),tl!==null&&cp(tl)&&(tl=null),sl!==null&&cp(sl)&&(sl=null),bh.forEach(e2),vh.forEach(e2)}function dp(o,c){o.blockedOn===c&&(o.blockedOn=null,sb||(sb=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,X6)))}var up=null;function t2(o){up!==o&&(up=o,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){up===o&&(up=null);for(var c=0;c<o.length;c+=3){var m=o[c],g=o[c+1],b=o[c+2];if(typeof g!="function"){if(tb(g||m)===null)continue;break}var C=In(m);C!==null&&(o.splice(c,3),c-=3,ey(C,{pending:!0,data:b,method:m.method,action:g},g,b))}}))}function Cd(o){function c(me){return dp(me,o)}el!==null&&dp(el,o),tl!==null&&dp(tl,o),sl!==null&&dp(sl,o),bh.forEach(c),vh.forEach(c);for(var m=0;m<al.length;m++){var g=al[m];g.blockedOn===o&&(g.blockedOn=null)}for(;0<al.length&&(m=al[0],m.blockedOn===null);)JC(m),m.blockedOn===null&&al.shift();if(m=(o.ownerDocument||o).$$reactFormReplay,m!=null)for(g=0;g<m.length;g+=3){var b=m[g],C=m[g+1],O=b[aa]||null;if(typeof C=="function")O||t2(m);else if(O){var ee=null;if(C&&C.hasAttribute("formAction")){if(b=C,O=C[aa]||null)ee=O.formAction;else if(tb(b)!==null)continue}else ee=O.action;typeof ee=="function"?m[g+1]=ee:(m.splice(g,3),g-=3),t2(m)}}}function s2(){function o(C){C.canIntercept&&C.info==="react-transition"&&C.intercept({handler:function(){return new Promise(function(O){return b=O})},focusReset:"manual",scroll:"manual"})}function c(){b!==null&&(b(),b=null),g||setTimeout(m,20)}function m(){if(!g&&!navigation.transition){var C=navigation.currentEntry;C&&C.url!=null&&navigation.navigate(C.url,{state:C.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var g=!1,b=null;return navigation.addEventListener("navigate",o),navigation.addEventListener("navigatesuccess",c),navigation.addEventListener("navigateerror",c),setTimeout(m,100),function(){g=!0,navigation.removeEventListener("navigate",o),navigation.removeEventListener("navigatesuccess",c),navigation.removeEventListener("navigateerror",c),b!==null&&(b(),b=null)}}}function ab(o){this._internalRoot=o}hp.prototype.render=ab.prototype.render=function(o){var c=this._internalRoot;if(c===null)throw Error(n(409));var m=c.current,g=Xn();WC(m,g,o,c,null,null)},hp.prototype.unmount=ab.prototype.unmount=function(){var o=this._internalRoot;if(o!==null){this._internalRoot=null;var c=o.containerInfo;WC(o.current,2,null,o,null,null),Gf(),c[ga]=null}};function hp(o){this._internalRoot=o}hp.prototype.unstable_scheduleHydration=function(o){if(o){var c=Zr();o={blockedOn:null,target:o,priority:c};for(var m=0;m<al.length&&c!==0&&c<al[m].priority;m++);al.splice(m,0,o),m===0&&JC(o)}};var a2=s.version;if(a2!=="19.2.1")throw Error(n(527,a2,"19.2.1"));q.findDOMNode=function(o){var c=o._reactInternals;if(c===void 0)throw typeof o.render=="function"?Error(n(188)):(o=Object.keys(o).join(","),Error(n(268,o)));return o=h(c),o=o!==null?p(o):null,o=o===null?null:o.stateNode,o};var Q6={bundleType:0,version:"19.2.1",rendererPackageName:"react-dom",currentDispatcherRef:U,reconcilerVersion:"19.2.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var mp=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!mp.isDisabled&&mp.supportsFiber)try{is=mp.inject(Q6),bs=mp}catch{}}return wh.createRoot=function(o,c){if(!r(o))throw Error(n(299));var m=!1,g="",b=d_,C=u_,O=h_;return c!=null&&(c.unstable_strictMode===!0&&(m=!0),c.identifierPrefix!==void 0&&(g=c.identifierPrefix),c.onUncaughtError!==void 0&&(b=c.onUncaughtError),c.onCaughtError!==void 0&&(C=c.onCaughtError),c.onRecoverableError!==void 0&&(O=c.onRecoverableError)),c=qC(o,1,!1,null,null,m,g,null,b,C,O,s2),o[ga]=c.current,Fy(o),new ab(c)},wh.hydrateRoot=function(o,c,m){if(!r(o))throw Error(n(299));var g=!1,b="",C=d_,O=u_,ee=h_,me=null;return m!=null&&(m.unstable_strictMode===!0&&(g=!0),m.identifierPrefix!==void 0&&(b=m.identifierPrefix),m.onUncaughtError!==void 0&&(C=m.onUncaughtError),m.onCaughtError!==void 0&&(O=m.onCaughtError),m.onRecoverableError!==void 0&&(ee=m.onRecoverableError),m.formState!==void 0&&(me=m.formState)),c=qC(o,1,!0,c,m??null,g,b,me,C,O,ee,s2),c.context=GC(null),m=c.current,g=Xn(),g=yn(g),b=Vo(g),b.callback=null,Uo(m,b,g),m=g,c.current.lanes=m,Ge(c,m),di(c),o[ga]=c.current,Fy(o),new hp(c)},wh.version="19.2.1",wh}var u2;function dT(){if(u2)return rb.exports;u2=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(s){console.error(s)}}return t(),rb.exports=n8(),rb.exports}var r8=dT();const i8=rx(r8);var cb={exports:{}},Nh={};var h2;function o8(){if(h2)return Nh;h2=1;var t=Symbol.for("react.transitional.element"),s=Symbol.for("react.fragment");function a(n,r,i){var l=null;if(i!==void 0&&(l=""+i),r.key!==void 0&&(l=""+r.key),"key"in r){i={};for(var d in r)d!=="key"&&(i[d]=r[d])}else i=r;return r=i.ref,{$$typeof:t,type:n,key:l,ref:r!==void 0?r:null,props:i}}return Nh.Fragment=s,Nh.jsx=a,Nh.jsxs=a,Nh}var m2;function l8(){return m2||(m2=1,cb.exports=o8()),cb.exports}var e=l8();const Ot=t=>typeof t=="string",_h=()=>{let t,s;const a=new Promise((n,r)=>{t=n,s=r});return a.resolve=t,a.reject=s,a},f2=t=>t==null?"":""+t,c8=(t,s,a)=>{t.forEach(n=>{s[n]&&(a[n]=s[n])})},d8=/###/g,p2=t=>t&&t.indexOf("###")>-1?t.replace(d8,"."):t,g2=t=>!t||Ot(t),Gh=(t,s,a)=>{const n=Ot(s)?s.split("."):s;let r=0;for(;r<n.length-1;){if(g2(t))return{};const i=p2(n[r]);!t[i]&&a&&(t[i]=new a),Object.prototype.hasOwnProperty.call(t,i)?t=t[i]:t={},++r}return g2(t)?{}:{obj:t,k:p2(n[r])}},x2=(t,s,a)=>{const{obj:n,k:r}=Gh(t,s,Object);if(n!==void 0||s.length===1){n[r]=a;return}let i=s[s.length-1],l=s.slice(0,s.length-1),d=Gh(t,l,Object);for(;d.obj===void 0&&l.length;)i=`${l[l.length-1]}.${i}`,l=l.slice(0,l.length-1),d=Gh(t,l,Object),d?.obj&&typeof d.obj[`${d.k}.${i}`]<"u"&&(d.obj=void 0);d.obj[`${d.k}.${i}`]=a},u8=(t,s,a,n)=>{const{obj:r,k:i}=Gh(t,s,Object);r[i]=r[i]||[],r[i].push(a)},pg=(t,s)=>{const{obj:a,k:n}=Gh(t,s);if(a&&Object.prototype.hasOwnProperty.call(a,n))return a[n]},h8=(t,s,a)=>{const n=pg(t,a);return n!==void 0?n:pg(s,a)},uT=(t,s,a)=>{for(const n in s)n!=="__proto__"&&n!=="constructor"&&(n in t?Ot(t[n])||t[n]instanceof String||Ot(s[n])||s[n]instanceof String?a&&(t[n]=s[n]):uT(t[n],s[n],a):t[n]=s[n]);return t},kd=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var m8={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const f8=t=>Ot(t)?t.replace(/[&<>"'\/]/g,s=>m8[s]):t;class p8{constructor(s){this.capacity=s,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(s){const a=this.regExpMap.get(s);if(a!==void 0)return a;const n=new RegExp(s);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(s,n),this.regExpQueue.push(s),n}}const g8=[" ",",","?","!",";"],x8=new p8(20),y8=(t,s,a)=>{s=s||"",a=a||"";const n=g8.filter(l=>s.indexOf(l)<0&&a.indexOf(l)<0);if(n.length===0)return!0;const r=x8.getRegExp(`(${n.map(l=>l==="?"?"\\?":l).join("|")})`);let i=!r.test(t);if(!i){const l=t.indexOf(a);l>0&&!r.test(t.substring(0,l))&&(i=!0)}return i},Av=(t,s,a=".")=>{if(!t)return;if(t[s])return Object.prototype.hasOwnProperty.call(t,s)?t[s]:void 0;const n=s.split(a);let r=t;for(let i=0;i<n.length;){if(!r||typeof r!="object")return;let l,d="";for(let u=i;u<n.length;++u)if(u!==i&&(d+=a),d+=n[u],l=r[d],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&u<n.length-1)continue;i+=u-i+1;break}r=l}return r},am=t=>t?.replace("_","-"),b8={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,s){console?.[t]?.apply?.(console,s)}};class gg{constructor(s,a={}){this.init(s,a)}init(s,a={}){this.prefix=a.prefix||"i18next:",this.logger=s||b8,this.options=a,this.debug=a.debug}log(...s){return this.forward(s,"log","",!0)}warn(...s){return this.forward(s,"warn","",!0)}error(...s){return this.forward(s,"error","")}deprecate(...s){return this.forward(s,"warn","WARNING DEPRECATED: ",!0)}forward(s,a,n,r){return r&&!this.debug?null:(Ot(s[0])&&(s[0]=`${n}${this.prefix} ${s[0]}`),this.logger[a](s))}create(s){return new gg(this.logger,{prefix:`${this.prefix}:${s}:`,...this.options})}clone(s){return s=s||this.options,s.prefix=s.prefix||this.prefix,new gg(this.logger,s)}}var pi=new gg;class ix{constructor(){this.observers={}}on(s,a){return s.split(" ").forEach(n=>{this.observers[n]||(this.observers[n]=new Map);const r=this.observers[n].get(a)||0;this.observers[n].set(a,r+1)}),this}off(s,a){if(this.observers[s]){if(!a){delete this.observers[s];return}this.observers[s].delete(a)}}emit(s,...a){this.observers[s]&&Array.from(this.observers[s].entries()).forEach(([r,i])=>{for(let l=0;l<i;l++)r(...a)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([r,i])=>{for(let l=0;l<i;l++)r.apply(r,[s,...a])})}}class y2 extends ix{constructor(s,a={ns:["translation"],defaultNS:"translation"}){super(),this.data=s||{},this.options=a,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(s){this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}removeNamespaces(s){const a=this.options.ns.indexOf(s);a>-1&&this.options.ns.splice(a,1)}getResource(s,a,n,r={}){const i=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,l=r.ignoreJSONStructure!==void 0?r.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;s.indexOf(".")>-1?d=s.split("."):(d=[s,a],n&&(Array.isArray(n)?d.push(...n):Ot(n)&&i?d.push(...n.split(i)):d.push(n)));const u=pg(this.data,d);return!u&&!a&&!n&&s.indexOf(".")>-1&&(s=d[0],a=d[1],n=d.slice(2).join(".")),u||!l||!Ot(n)?u:Av(this.data?.[s]?.[a],n,i)}addResource(s,a,n,r,i={silent:!1}){const l=i.keySeparator!==void 0?i.keySeparator:this.options.keySeparator;let d=[s,a];n&&(d=d.concat(l?n.split(l):n)),s.indexOf(".")>-1&&(d=s.split("."),r=a,a=d[1]),this.addNamespaces(a),x2(this.data,d,r),i.silent||this.emit("added",s,a,n,r)}addResources(s,a,n,r={silent:!1}){for(const i in n)(Ot(n[i])||Array.isArray(n[i]))&&this.addResource(s,a,i,n[i],{silent:!0});r.silent||this.emit("added",s,a,n)}addResourceBundle(s,a,n,r,i,l={silent:!1,skipCopy:!1}){let d=[s,a];s.indexOf(".")>-1&&(d=s.split("."),r=n,n=a,a=d[1]),this.addNamespaces(a);let u=pg(this.data,d)||{};l.skipCopy||(n=JSON.parse(JSON.stringify(n))),r?uT(u,n,i):u={...u,...n},x2(this.data,d,u),l.silent||this.emit("added",s,a,n)}removeResourceBundle(s,a){this.hasResourceBundle(s,a)&&delete this.data[s][a],this.removeNamespaces(a),this.emit("removed",s,a)}hasResourceBundle(s,a){return this.getResource(s,a)!==void 0}getResourceBundle(s,a){return a||(a=this.options.defaultNS),this.getResource(s,a)}getDataByLanguage(s){return this.data[s]}hasLanguageSomeTranslations(s){const a=this.getDataByLanguage(s);return!!(a&&Object.keys(a)||[]).find(r=>a[r]&&Object.keys(a[r]).length>0)}toJSON(){return this.data}}var hT={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,s,a,n,r){return t.forEach(i=>{s=this.processors[i]?.process(s,a,n,r)??s}),s}};const mT=Symbol("i18next/PATH_KEY");function v8(){const t=[],s=Object.create(null);let a;return s.get=(n,r)=>(a?.revoke?.(),r===mT?t:(t.push(r),a=Proxy.revocable(n,s),a.proxy)),Proxy.revocable(Object.create(null),s).proxy}function Tv(t,s){const{[mT]:a}=t(v8());return a.join(s?.keySeparator??".")}const b2={},db=t=>!Ot(t)&&typeof t!="boolean"&&typeof t!="number";class xg extends ix{constructor(s,a={}){super(),c8(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],s,this),this.options=a,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=pi.create("translator")}changeLanguage(s){s&&(this.language=s)}exists(s,a={interpolation:{}}){const n={...a};if(s==null)return!1;const r=this.resolve(s,n);if(r?.res===void 0)return!1;const i=db(r.res);return!(n.returnObjects===!1&&i)}extractFromKey(s,a){let n=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;n===void 0&&(n=":");const r=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let i=a.ns||this.options.defaultNS||[];const l=n&&s.indexOf(n)>-1,d=!this.options.userDefinedKeySeparator&&!a.keySeparator&&!this.options.userDefinedNsSeparator&&!a.nsSeparator&&!y8(s,n,r);if(l&&!d){const u=s.match(this.interpolator.nestingRegexp);if(u&&u.length>0)return{key:s,namespaces:Ot(i)?[i]:i};const h=s.split(n);(n!==r||n===r&&this.options.ns.indexOf(h[0])>-1)&&(i=h.shift()),s=h.join(r)}return{key:s,namespaces:Ot(i)?[i]:i}}translate(s,a,n){let r=typeof a=="object"?{...a}:a;if(typeof r!="object"&&this.options.overloadTranslationOptionHandler&&(r=this.options.overloadTranslationOptionHandler(arguments)),typeof r=="object"&&(r={...r}),r||(r={}),s==null)return"";typeof s=="function"&&(s=Tv(s,{...this.options,...r})),Array.isArray(s)||(s=[String(s)]);const i=r.returnDetails!==void 0?r.returnDetails:this.options.returnDetails,l=r.keySeparator!==void 0?r.keySeparator:this.options.keySeparator,{key:d,namespaces:u}=this.extractFromKey(s[s.length-1],r),h=u[u.length-1];let p=r.nsSeparator!==void 0?r.nsSeparator:this.options.nsSeparator;p===void 0&&(p=":");const f=r.lng||this.language,y=r.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(f?.toLowerCase()==="cimode")return y?i?{res:`${h}${p}${d}`,usedKey:d,exactUsedKey:d,usedLng:f,usedNS:h,usedParams:this.getUsedParamsDetails(r)}:`${h}${p}${d}`:i?{res:d,usedKey:d,exactUsedKey:d,usedLng:f,usedNS:h,usedParams:this.getUsedParamsDetails(r)}:d;const v=this.resolve(s,r);let j=v?.res;const N=v?.usedKey||d,w=v?.exactUsedKey||d,_=["[object Number]","[object Function]","[object RegExp]"],T=r.joinArrays!==void 0?r.joinArrays:this.options.joinArrays,R=!this.i18nFormat||this.i18nFormat.handleAsObject,E=r.count!==void 0&&!Ot(r.count),A=xg.hasDefaultValue(r),V=E?this.pluralResolver.getSuffix(f,r.count,r):"",k=r.ordinal&&E?this.pluralResolver.getSuffix(f,r.count,{ordinal:!1}):"",B=E&&!r.ordinal&&r.count===0,P=B&&r[`defaultValue${this.options.pluralSeparator}zero`]||r[`defaultValue${V}`]||r[`defaultValue${k}`]||r.defaultValue;let H=j;R&&!j&&A&&(H=P);const D=db(H),K=Object.prototype.toString.apply(H);if(R&&H&&D&&_.indexOf(K)<0&&!(Ot(T)&&Array.isArray(H))){if(!r.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const X=this.options.returnedObjectHandler?this.options.returnedObjectHandler(N,H,{...r,ns:u}):`key '${d} (${this.language})' returned an object instead of string.`;return i?(v.res=X,v.usedParams=this.getUsedParamsDetails(r),v):X}if(l){const X=Array.isArray(H),ne=X?[]:{},te=X?w:N;for(const U in H)if(Object.prototype.hasOwnProperty.call(H,U)){const q=`${te}${l}${U}`;A&&!j?ne[U]=this.translate(q,{...r,defaultValue:db(P)?P[U]:void 0,joinArrays:!1,ns:u}):ne[U]=this.translate(q,{...r,joinArrays:!1,ns:u}),ne[U]===q&&(ne[U]=H[U])}j=ne}}else if(R&&Ot(T)&&Array.isArray(j))j=j.join(T),j&&(j=this.extendTranslation(j,s,r,n));else{let X=!1,ne=!1;!this.isValidLookup(j)&&A&&(X=!0,j=P),this.isValidLookup(j)||(ne=!0,j=d);const U=(r.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&ne?void 0:j,q=A&&P!==j&&this.options.updateMissing;if(ne||X||q){if(this.logger.log(q?"updateKey":"missingKey",f,h,d,q?P:j),l){const z=this.resolve(d,{...r,keySeparator:!1});z&&z.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let G=[];const F=this.languageUtils.getFallbackCodes(this.options.fallbackLng,r.lng||this.language);if(this.options.saveMissingTo==="fallback"&&F&&F[0])for(let z=0;z<F.length;z++)G.push(F[z]);else this.options.saveMissingTo==="all"?G=this.languageUtils.toResolveHierarchy(r.lng||this.language):G.push(r.lng||this.language);const M=(z,ie,le)=>{const re=A&&le!==j?le:U;this.options.missingKeyHandler?this.options.missingKeyHandler(z,h,ie,re,q,r):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(z,h,ie,re,q,r),this.emit("missingKey",z,h,ie,j)};this.options.saveMissing&&(this.options.saveMissingPlurals&&E?G.forEach(z=>{const ie=this.pluralResolver.getSuffixes(z,r);B&&r[`defaultValue${this.options.pluralSeparator}zero`]&&ie.indexOf(`${this.options.pluralSeparator}zero`)<0&&ie.push(`${this.options.pluralSeparator}zero`),ie.forEach(le=>{M([z],d+le,r[`defaultValue${le}`]||P)})}):M(G,d,P))}j=this.extendTranslation(j,s,r,v,n),ne&&j===d&&this.options.appendNamespaceToMissingKey&&(j=`${h}${p}${d}`),(ne||X)&&this.options.parseMissingKeyHandler&&(j=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}${p}${d}`:d,X?j:void 0,r))}return i?(v.res=j,v.usedParams=this.getUsedParamsDetails(r),v):j}extendTranslation(s,a,n,r,i){if(this.i18nFormat?.parse)s=this.i18nFormat.parse(s,{...this.options.interpolation.defaultVariables,...n},n.lng||this.language||r.usedLng,r.usedNS,r.usedKey,{resolved:r});else if(!n.skipInterpolation){n.interpolation&&this.interpolator.init({...n,interpolation:{...this.options.interpolation,...n.interpolation}});const u=Ot(s)&&(n?.interpolation?.skipOnVariables!==void 0?n.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let h;if(u){const f=s.match(this.interpolator.nestingRegexp);h=f&&f.length}let p=n.replace&&!Ot(n.replace)?n.replace:n;if(this.options.interpolation.defaultVariables&&(p={...this.options.interpolation.defaultVariables,...p}),s=this.interpolator.interpolate(s,p,n.lng||this.language||r.usedLng,n),u){const f=s.match(this.interpolator.nestingRegexp),y=f&&f.length;h<y&&(n.nest=!1)}!n.lng&&r&&r.res&&(n.lng=this.language||r.usedLng),n.nest!==!1&&(s=this.interpolator.nest(s,(...f)=>i?.[0]===f[0]&&!n.context?(this.logger.warn(`It seems you are nesting recursively key: ${f[0]} in key: ${a[0]}`),null):this.translate(...f,a),n)),n.interpolation&&this.interpolator.reset()}const l=n.postProcess||this.options.postProcess,d=Ot(l)?[l]:l;return s!=null&&d?.length&&n.applyPostProcessor!==!1&&(s=hT.handle(d,s,a,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...r,usedParams:this.getUsedParamsDetails(n)},...n}:n,this)),s}resolve(s,a={}){let n,r,i,l,d;return Ot(s)&&(s=[s]),s.forEach(u=>{if(this.isValidLookup(n))return;const h=this.extractFromKey(u,a),p=h.key;r=p;let f=h.namespaces;this.options.fallbackNS&&(f=f.concat(this.options.fallbackNS));const y=a.count!==void 0&&!Ot(a.count),v=y&&!a.ordinal&&a.count===0,j=a.context!==void 0&&(Ot(a.context)||typeof a.context=="number")&&a.context!=="",N=a.lngs?a.lngs:this.languageUtils.toResolveHierarchy(a.lng||this.language,a.fallbackLng);f.forEach(w=>{this.isValidLookup(n)||(d=w,!b2[`${N[0]}-${w}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(d)&&(b2[`${N[0]}-${w}`]=!0,this.logger.warn(`key "${r}" for languages "${N.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),N.forEach(_=>{if(this.isValidLookup(n))return;l=_;const T=[p];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(T,p,_,w,a);else{let E;y&&(E=this.pluralResolver.getSuffix(_,a.count,a));const A=`${this.options.pluralSeparator}zero`,V=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(y&&(a.ordinal&&E.indexOf(V)===0&&T.push(p+E.replace(V,this.options.pluralSeparator)),T.push(p+E),v&&T.push(p+A)),j){const k=`${p}${this.options.contextSeparator||"_"}${a.context}`;T.push(k),y&&(a.ordinal&&E.indexOf(V)===0&&T.push(k+E.replace(V,this.options.pluralSeparator)),T.push(k+E),v&&T.push(k+A))}}let R;for(;R=T.pop();)this.isValidLookup(n)||(i=R,n=this.getResource(_,w,R,a))}))})}),{res:n,usedKey:r,exactUsedKey:i,usedLng:l,usedNS:d}}isValidLookup(s){return s!==void 0&&!(!this.options.returnNull&&s===null)&&!(!this.options.returnEmptyString&&s==="")}getResource(s,a,n,r={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(s,a,n,r):this.resourceStore.getResource(s,a,n,r)}getUsedParamsDetails(s={}){const a=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],n=s.replace&&!Ot(s.replace);let r=n?s.replace:s;if(n&&typeof s.count<"u"&&(r.count=s.count),this.options.interpolation.defaultVariables&&(r={...this.options.interpolation.defaultVariables,...r}),!n){r={...r};for(const i of a)delete r[i]}return r}static hasDefaultValue(s){const a="defaultValue";for(const n in s)if(Object.prototype.hasOwnProperty.call(s,n)&&a===n.substring(0,a.length)&&s[n]!==void 0)return!0;return!1}}class v2{constructor(s){this.options=s,this.supportedLngs=this.options.supportedLngs||!1,this.logger=pi.create("languageUtils")}getScriptPartFromCode(s){if(s=am(s),!s||s.indexOf("-")<0)return null;const a=s.split("-");return a.length===2||(a.pop(),a[a.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(a.join("-"))}getLanguagePartFromCode(s){if(s=am(s),!s||s.indexOf("-")<0)return s;const a=s.split("-");return this.formatLanguageCode(a[0])}formatLanguageCode(s){if(Ot(s)&&s.indexOf("-")>-1){let a;try{a=Intl.getCanonicalLocales(s)[0]}catch{}return a&&this.options.lowerCaseLng&&(a=a.toLowerCase()),a||(this.options.lowerCaseLng?s.toLowerCase():s)}return this.options.cleanCode||this.options.lowerCaseLng?s.toLowerCase():s}isSupportedCode(s){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(s=this.getLanguagePartFromCode(s)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(s)>-1}getBestMatchFromCodes(s){if(!s)return null;let a;return s.forEach(n=>{if(a)return;const r=this.formatLanguageCode(n);(!this.options.supportedLngs||this.isSupportedCode(r))&&(a=r)}),!a&&this.options.supportedLngs&&s.forEach(n=>{if(a)return;const r=this.getScriptPartFromCode(n);if(this.isSupportedCode(r))return a=r;const i=this.getLanguagePartFromCode(n);if(this.isSupportedCode(i))return a=i;a=this.options.supportedLngs.find(l=>{if(l===i)return l;if(!(l.indexOf("-")<0&&i.indexOf("-")<0)&&(l.indexOf("-")>0&&i.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===i||l.indexOf(i)===0&&i.length>1))return l})}),a||(a=this.getFallbackCodes(this.options.fallbackLng)[0]),a}getFallbackCodes(s,a){if(!s)return[];if(typeof s=="function"&&(s=s(a)),Ot(s)&&(s=[s]),Array.isArray(s))return s;if(!a)return s.default||[];let n=s[a];return n||(n=s[this.getScriptPartFromCode(a)]),n||(n=s[this.formatLanguageCode(a)]),n||(n=s[this.getLanguagePartFromCode(a)]),n||(n=s.default),n||[]}toResolveHierarchy(s,a){const n=this.getFallbackCodes((a===!1?[]:a)||this.options.fallbackLng||[],s),r=[],i=l=>{l&&(this.isSupportedCode(l)?r.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return Ot(s)&&(s.indexOf("-")>-1||s.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&i(this.formatLanguageCode(s)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&i(this.getScriptPartFromCode(s)),this.options.load!=="currentOnly"&&i(this.getLanguagePartFromCode(s))):Ot(s)&&i(this.formatLanguageCode(s)),n.forEach(l=>{r.indexOf(l)<0&&i(this.formatLanguageCode(l))}),r}}const j2={zero:0,one:1,two:2,few:3,many:4,other:5},w2={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class j8{constructor(s,a={}){this.languageUtils=s,this.options=a,this.logger=pi.create("pluralResolver"),this.pluralRulesCache={}}addRule(s,a){this.rules[s]=a}clearCache(){this.pluralRulesCache={}}getRule(s,a={}){const n=am(s==="dev"?"en":s),r=a.ordinal?"ordinal":"cardinal",i=JSON.stringify({cleanedCode:n,type:r});if(i in this.pluralRulesCache)return this.pluralRulesCache[i];let l;try{l=new Intl.PluralRules(n,{type:r})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),w2;if(!s.match(/-|_/))return w2;const u=this.languageUtils.getLanguagePartFromCode(s);l=this.getRule(u,a)}return this.pluralRulesCache[i]=l,l}needsPlural(s,a={}){let n=this.getRule(s,a);return n||(n=this.getRule("dev",a)),n?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(s,a,n={}){return this.getSuffixes(s,n).map(r=>`${a}${r}`)}getSuffixes(s,a={}){let n=this.getRule(s,a);return n||(n=this.getRule("dev",a)),n?n.resolvedOptions().pluralCategories.sort((r,i)=>j2[r]-j2[i]).map(r=>`${this.options.prepend}${a.ordinal?`ordinal${this.options.prepend}`:""}${r}`):[]}getSuffix(s,a,n={}){const r=this.getRule(s,n);return r?`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${r.select(a)}`:(this.logger.warn(`no plural rule found for: ${s}`),this.getSuffix("dev",a,n))}}const N2=(t,s,a,n=".",r=!0)=>{let i=h8(t,s,a);return!i&&r&&Ot(a)&&(i=Av(t,a,n),i===void 0&&(i=Av(s,a,n))),i},ub=t=>t.replace(/\$/g,"$$$$");class _2{constructor(s={}){this.logger=pi.create("interpolator"),this.options=s,this.format=s?.interpolation?.format||(a=>a),this.init(s)}init(s={}){s.interpolation||(s.interpolation={escapeValue:!0});const{escape:a,escapeValue:n,useRawValueToEscape:r,prefix:i,prefixEscaped:l,suffix:d,suffixEscaped:u,formatSeparator:h,unescapeSuffix:p,unescapePrefix:f,nestingPrefix:y,nestingPrefixEscaped:v,nestingSuffix:j,nestingSuffixEscaped:N,nestingOptionsSeparator:w,maxReplaces:_,alwaysFormat:T}=s.interpolation;this.escape=a!==void 0?a:f8,this.escapeValue=n!==void 0?n:!0,this.useRawValueToEscape=r!==void 0?r:!1,this.prefix=i?kd(i):l||"{{",this.suffix=d?kd(d):u||"}}",this.formatSeparator=h||",",this.unescapePrefix=p?"":f||"-",this.unescapeSuffix=this.unescapePrefix?"":p||"",this.nestingPrefix=y?kd(y):v||kd("$t("),this.nestingSuffix=j?kd(j):N||kd(")"),this.nestingOptionsSeparator=w||",",this.maxReplaces=_||1e3,this.alwaysFormat=T!==void 0?T:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const s=(a,n)=>a?.source===n?(a.lastIndex=0,a):new RegExp(n,"g");this.regexp=s(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=s(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=s(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(s,a,n,r){let i,l,d;const u=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=v=>{if(v.indexOf(this.formatSeparator)<0){const _=N2(a,u,v,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(_,void 0,n,{...r,...a,interpolationkey:v}):_}const j=v.split(this.formatSeparator),N=j.shift().trim(),w=j.join(this.formatSeparator).trim();return this.format(N2(a,u,N,this.options.keySeparator,this.options.ignoreJSONStructure),w,n,{...r,...a,interpolationkey:N})};this.resetRegExp();const p=r?.missingInterpolationHandler||this.options.missingInterpolationHandler,f=r?.interpolation?.skipOnVariables!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:v=>ub(v)},{regex:this.regexp,safeValue:v=>this.escapeValue?ub(this.escape(v)):ub(v)}].forEach(v=>{for(d=0;i=v.regex.exec(s);){const j=i[1].trim();if(l=h(j),l===void 0)if(typeof p=="function"){const w=p(s,i,r);l=Ot(w)?w:""}else if(r&&Object.prototype.hasOwnProperty.call(r,j))l="";else if(f){l=i[0];continue}else this.logger.warn(`missed to pass in variable ${j} for interpolating ${s}`),l="";else!Ot(l)&&!this.useRawValueToEscape&&(l=f2(l));const N=v.safeValue(l);if(s=s.replace(i[0],N),f?(v.regex.lastIndex+=l.length,v.regex.lastIndex-=i[0].length):v.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),s}nest(s,a,n={}){let r,i,l;const d=(u,h)=>{const p=this.nestingOptionsSeparator;if(u.indexOf(p)<0)return u;const f=u.split(new RegExp(`${p}[ ]*{`));let y=`{${f[1]}`;u=f[0],y=this.interpolate(y,l);const v=y.match(/'/g),j=y.match(/"/g);((v?.length??0)%2===0&&!j||j.length%2!==0)&&(y=y.replace(/'/g,'"'));try{l=JSON.parse(y),h&&(l={...h,...l})}catch(N){return this.logger.warn(`failed parsing options string in nesting for key ${u}`,N),`${u}${p}${y}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,u};for(;r=this.nestingRegexp.exec(s);){let u=[];l={...n},l=l.replace&&!Ot(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;const h=/{.*}/.test(r[1])?r[1].lastIndexOf("}")+1:r[1].indexOf(this.formatSeparator);if(h!==-1&&(u=r[1].slice(h).split(this.formatSeparator).map(p=>p.trim()).filter(Boolean),r[1]=r[1].slice(0,h)),i=a(d.call(this,r[1].trim(),l),l),i&&r[0]===s&&!Ot(i))return i;Ot(i)||(i=f2(i)),i||(this.logger.warn(`missed to resolve ${r[1]} for nesting ${s}`),i=""),u.length&&(i=u.reduce((p,f)=>this.format(p,f,n.lng,{...n,interpolationkey:r[1].trim()}),i.trim())),s=s.replace(r[0],i),this.regexp.lastIndex=0}return s}}const w8=t=>{let s=t.toLowerCase().trim();const a={};if(t.indexOf("(")>-1){const n=t.split("(");s=n[0].toLowerCase().trim();const r=n[1].substring(0,n[1].length-1);s==="currency"&&r.indexOf(":")<0?a.currency||(a.currency=r.trim()):s==="relativetime"&&r.indexOf(":")<0?a.range||(a.range=r.trim()):r.split(";").forEach(l=>{if(l){const[d,...u]=l.split(":"),h=u.join(":").trim().replace(/^'+|'+$/g,""),p=d.trim();a[p]||(a[p]=h),h==="false"&&(a[p]=!1),h==="true"&&(a[p]=!0),isNaN(h)||(a[p]=parseInt(h,10))}})}return{formatName:s,formatOptions:a}},C2=t=>{const s={};return(a,n,r)=>{let i=r;r&&r.interpolationkey&&r.formatParams&&r.formatParams[r.interpolationkey]&&r[r.interpolationkey]&&(i={...i,[r.interpolationkey]:void 0});const l=n+JSON.stringify(i);let d=s[l];return d||(d=t(am(n),r),s[l]=d),d(a)}},N8=t=>(s,a,n)=>t(am(a),n)(s);class _8{constructor(s={}){this.logger=pi.create("formatter"),this.options=s,this.init(s)}init(s,a={interpolation:{}}){this.formatSeparator=a.interpolation.formatSeparator||",";const n=a.cacheInBuiltFormats?C2:N8;this.formats={number:n((r,i)=>{const l=new Intl.NumberFormat(r,{...i});return d=>l.format(d)}),currency:n((r,i)=>{const l=new Intl.NumberFormat(r,{...i,style:"currency"});return d=>l.format(d)}),datetime:n((r,i)=>{const l=new Intl.DateTimeFormat(r,{...i});return d=>l.format(d)}),relativetime:n((r,i)=>{const l=new Intl.RelativeTimeFormat(r,{...i});return d=>l.format(d,i.range||"day")}),list:n((r,i)=>{const l=new Intl.ListFormat(r,{...i});return d=>l.format(d)})}}add(s,a){this.formats[s.toLowerCase().trim()]=a}addCached(s,a){this.formats[s.toLowerCase().trim()]=C2(a)}format(s,a,n,r={}){const i=a.split(this.formatSeparator);if(i.length>1&&i[0].indexOf("(")>1&&i[0].indexOf(")")<0&&i.find(d=>d.indexOf(")")>-1)){const d=i.findIndex(u=>u.indexOf(")")>-1);i[0]=[i[0],...i.splice(1,d)].join(this.formatSeparator)}return i.reduce((d,u)=>{const{formatName:h,formatOptions:p}=w8(u);if(this.formats[h]){let f=d;try{const y=r?.formatParams?.[r.interpolationkey]||{},v=y.locale||y.lng||r.locale||r.lng||n;f=this.formats[h](d,v,{...p,...r,...y})}catch(y){this.logger.warn(y)}return f}else this.logger.warn(`there was no format function for ${h}`);return d},s)}}const C8=(t,s)=>{t.pending[s]!==void 0&&(delete t.pending[s],t.pendingCount--)};class k8 extends ix{constructor(s,a,n,r={}){super(),this.backend=s,this.store=a,this.services=n,this.languageUtils=n.languageUtils,this.options=r,this.logger=pi.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=r.maxParallelReads||10,this.readingCalls=0,this.maxRetries=r.maxRetries>=0?r.maxRetries:5,this.retryTimeout=r.retryTimeout>=1?r.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(n,r.backend,r)}queueLoad(s,a,n,r){const i={},l={},d={},u={};return s.forEach(h=>{let p=!0;a.forEach(f=>{const y=`${h}|${f}`;!n.reload&&this.store.hasResourceBundle(h,f)?this.state[y]=2:this.state[y]<0||(this.state[y]===1?l[y]===void 0&&(l[y]=!0):(this.state[y]=1,p=!1,l[y]===void 0&&(l[y]=!0),i[y]===void 0&&(i[y]=!0),u[f]===void 0&&(u[f]=!0)))}),p||(d[h]=!0)}),(Object.keys(i).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:r}),{toLoad:Object.keys(i),pending:Object.keys(l),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(u)}}loaded(s,a,n){const r=s.split("|"),i=r[0],l=r[1];a&&this.emit("failedLoading",i,l,a),!a&&n&&this.store.addResourceBundle(i,l,n,void 0,void 0,{skipCopy:!0}),this.state[s]=a?-1:2,a&&n&&(this.state[s]=0);const d={};this.queue.forEach(u=>{u8(u.loaded,[i],l),C8(u,s),a&&u.errors.push(a),u.pendingCount===0&&!u.done&&(Object.keys(u.loaded).forEach(h=>{d[h]||(d[h]={});const p=u.loaded[h];p.length&&p.forEach(f=>{d[h][f]===void 0&&(d[h][f]=!0)})}),u.done=!0,u.errors.length?u.callback(u.errors):u.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(u=>!u.done)}read(s,a,n,r=0,i=this.retryTimeout,l){if(!s.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:s,ns:a,fcName:n,tried:r,wait:i,callback:l});return}this.readingCalls++;const d=(h,p)=>{if(this.readingCalls--,this.waitingReads.length>0){const f=this.waitingReads.shift();this.read(f.lng,f.ns,f.fcName,f.tried,f.wait,f.callback)}if(h&&p&&r<this.maxRetries){setTimeout(()=>{this.read.call(this,s,a,n,r+1,i*2,l)},i);return}l(h,p)},u=this.backend[n].bind(this.backend);if(u.length===2){try{const h=u(s,a);h&&typeof h.then=="function"?h.then(p=>d(null,p)).catch(d):d(null,h)}catch(h){d(h)}return}return u(s,a,d)}prepareLoading(s,a,n={},r){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),r&&r();Ot(s)&&(s=this.languageUtils.toResolveHierarchy(s)),Ot(a)&&(a=[a]);const i=this.queueLoad(s,a,n,r);if(!i.toLoad.length)return i.pending.length||r(),null;i.toLoad.forEach(l=>{this.loadOne(l)})}load(s,a,n){this.prepareLoading(s,a,{},n)}reload(s,a,n){this.prepareLoading(s,a,{reload:!0},n)}loadOne(s,a=""){const n=s.split("|"),r=n[0],i=n[1];this.read(r,i,"read",void 0,void 0,(l,d)=>{l&&this.logger.warn(`${a}loading namespace ${i} for language ${r} failed`,l),!l&&d&&this.logger.log(`${a}loaded namespace ${i} for language ${r}`,d),this.loaded(s,l,d)})}saveMissing(s,a,n,r,i,l={},d=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(a)){this.logger.warn(`did not save key "${n}" as the namespace "${a}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(n==null||n==="")){if(this.backend?.create){const u={...l,isUpdate:i},h=this.backend.create.bind(this.backend);if(h.length<6)try{let p;h.length===5?p=h(s,a,n,r,u):p=h(s,a,n,r),p&&typeof p.then=="function"?p.then(f=>d(null,f)).catch(d):d(null,p)}catch(p){d(p)}else h(s,a,n,r,d,u)}!s||!s[0]||this.store.addResource(s[0],a,n,r)}}}const k2=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let s={};if(typeof t[1]=="object"&&(s=t[1]),Ot(t[1])&&(s.defaultValue=t[1]),Ot(t[2])&&(s.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const a=t[3]||t[2];Object.keys(a).forEach(n=>{s[n]=a[n]})}return s},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),S2=t=>(Ot(t.ns)&&(t.ns=[t.ns]),Ot(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),Ot(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),fp=()=>{},S8=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(a=>{typeof t[a]=="function"&&(t[a]=t[a].bind(t))})};class Wh extends ix{constructor(s={},a){if(super(),this.options=S2(s),this.services={},this.logger=pi,this.modules={external:[]},S8(this),a&&!this.isInitialized&&!s.isClone){if(!this.options.initAsync)return this.init(s,a),this;setTimeout(()=>{this.init(s,a)},0)}}init(s={},a){this.isInitializing=!0,typeof s=="function"&&(a=s,s={}),s.defaultNS==null&&s.ns&&(Ot(s.ns)?s.defaultNS=s.ns:s.ns.indexOf("translation")<0&&(s.defaultNS=s.ns[0]));const n=k2();this.options={...n,...this.options,...S2(s)},this.options.interpolation={...n.interpolation,...this.options.interpolation},s.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=s.keySeparator),s.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=s.nsSeparator);const r=h=>h?typeof h=="function"?new h:h:null;if(!this.options.isClone){this.modules.logger?pi.init(r(this.modules.logger),this.options):pi.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:h=_8;const p=new v2(this.options);this.store=new y2(this.options.resources,this.options);const f=this.services;f.logger=pi,f.resourceStore=this.store,f.languageUtils=p,f.pluralResolver=new j8(p,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==n.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),h&&(!this.options.interpolation.format||this.options.interpolation.format===n.interpolation.format)&&(f.formatter=r(h),f.formatter.init&&f.formatter.init(f,this.options),this.options.interpolation.format=f.formatter.format.bind(f.formatter)),f.interpolator=new _2(this.options),f.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},f.backendConnector=new k8(r(this.modules.backend),f.resourceStore,f,this.options),f.backendConnector.on("*",(v,...j)=>{this.emit(v,...j)}),this.modules.languageDetector&&(f.languageDetector=r(this.modules.languageDetector),f.languageDetector.init&&f.languageDetector.init(f,this.options.detection,this.options)),this.modules.i18nFormat&&(f.i18nFormat=r(this.modules.i18nFormat),f.i18nFormat.init&&f.i18nFormat.init(this)),this.translator=new xg(this.services,this.options),this.translator.on("*",(v,...j)=>{this.emit(v,...j)}),this.modules.external.forEach(v=>{v.init&&v.init(this)})}if(this.format=this.options.interpolation.format,a||(a=fp),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=(...p)=>this.store[h](...p)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=(...p)=>(this.store[h](...p),this)});const d=_h(),u=()=>{const h=(p,f)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(f),a(p,f)};if(this.languages&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initAsync?u():setTimeout(u,0),d}loadResources(s,a=fp){let n=a;const r=Ot(s)?s:this.language;if(typeof s=="function"&&(n=s),!this.options.resources||this.options.partialBundledLanguages){if(r?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return n();const i=[],l=d=>{if(!d||d==="cimode")return;this.services.languageUtils.toResolveHierarchy(d).forEach(h=>{h!=="cimode"&&i.indexOf(h)<0&&i.push(h)})};r?l(r):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(u=>l(u)),this.options.preload?.forEach?.(d=>l(d)),this.services.backendConnector.load(i,this.options.ns,d=>{!d&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),n(d)})}else n(null)}reloadResources(s,a,n){const r=_h();return typeof s=="function"&&(n=s,s=void 0),typeof a=="function"&&(n=a,a=void 0),s||(s=this.languages),a||(a=this.options.ns),n||(n=fp),this.services.backendConnector.reload(s,a,i=>{r.resolve(),n(i)}),r}use(s){if(!s)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!s.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return s.type==="backend"&&(this.modules.backend=s),(s.type==="logger"||s.log&&s.warn&&s.error)&&(this.modules.logger=s),s.type==="languageDetector"&&(this.modules.languageDetector=s),s.type==="i18nFormat"&&(this.modules.i18nFormat=s),s.type==="postProcessor"&&hT.addPostProcessor(s),s.type==="formatter"&&(this.modules.formatter=s),s.type==="3rdParty"&&this.modules.external.push(s),this}setResolvedLanguage(s){if(!(!s||!this.languages)&&!(["cimode","dev"].indexOf(s)>-1)){for(let a=0;a<this.languages.length;a++){const n=this.languages[a];if(!(["cimode","dev"].indexOf(n)>-1)&&this.store.hasLanguageSomeTranslations(n)){this.resolvedLanguage=n;break}}!this.resolvedLanguage&&this.languages.indexOf(s)<0&&this.store.hasLanguageSomeTranslations(s)&&(this.resolvedLanguage=s,this.languages.unshift(s))}}changeLanguage(s,a){this.isLanguageChangingTo=s;const n=_h();this.emit("languageChanging",s);const r=d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},i=(d,u)=>{u?this.isLanguageChangingTo===s&&(r(u),this.translator.changeLanguage(u),this.isLanguageChangingTo=void 0,this.emit("languageChanged",u),this.logger.log("languageChanged",u)):this.isLanguageChangingTo=void 0,n.resolve((...h)=>this.t(...h)),a&&a(d,(...h)=>this.t(...h))},l=d=>{!s&&!d&&this.services.languageDetector&&(d=[]);const u=Ot(d)?d:d&&d[0],h=this.store.hasLanguageSomeTranslations(u)?u:this.services.languageUtils.getBestMatchFromCodes(Ot(d)?[d]:d);h&&(this.language||r(h),this.translator.language||this.translator.changeLanguage(h),this.services.languageDetector?.cacheUserLanguage?.(h)),this.loadResources(h,p=>{i(p,h)})};return!s&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!s&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(s),n}getFixedT(s,a,n){const r=(i,l,...d)=>{let u;typeof l!="object"?u=this.options.overloadTranslationOptionHandler([i,l].concat(d)):u={...l},u.lng=u.lng||r.lng,u.lngs=u.lngs||r.lngs,u.ns=u.ns||r.ns,u.keyPrefix!==""&&(u.keyPrefix=u.keyPrefix||n||r.keyPrefix);const h=this.options.keySeparator||".";let p;return u.keyPrefix&&Array.isArray(i)?p=i.map(f=>(typeof f=="function"&&(f=Tv(f,{...this.options,...l})),`${u.keyPrefix}${h}${f}`)):(typeof i=="function"&&(i=Tv(i,{...this.options,...l})),p=u.keyPrefix?`${u.keyPrefix}${h}${i}`:i),this.t(p,u)};return Ot(s)?r.lng=s:r.lngs=s,r.ns=a,r.keyPrefix=n,r}t(...s){return this.translator?.translate(...s)}exists(...s){return this.translator?.exists(...s)}setDefaultNamespace(s){this.options.defaultNS=s}hasLoadedNamespace(s,a={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const n=a.lng||this.resolvedLanguage||this.languages[0],r=this.options?this.options.fallbackLng:!1,i=this.languages[this.languages.length-1];if(n.toLowerCase()==="cimode")return!0;const l=(d,u)=>{const h=this.services.backendConnector.state[`${d}|${u}`];return h===-1||h===0||h===2};if(a.precheck){const d=a.precheck(this,l);if(d!==void 0)return d}return!!(this.hasResourceBundle(n,s)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(n,s)&&(!r||l(i,s)))}loadNamespaces(s,a){const n=_h();return this.options.ns?(Ot(s)&&(s=[s]),s.forEach(r=>{this.options.ns.indexOf(r)<0&&this.options.ns.push(r)}),this.loadResources(r=>{n.resolve(),a&&a(r)}),n):(a&&a(),Promise.resolve())}loadLanguages(s,a){const n=_h();Ot(s)&&(s=[s]);const r=this.options.preload||[],i=s.filter(l=>r.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return i.length?(this.options.preload=r.concat(i),this.loadResources(l=>{n.resolve(),a&&a(l)}),n):(a&&a(),Promise.resolve())}dir(s){if(s||(s=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!s)return"rtl";try{const r=new Intl.Locale(s);if(r&&r.getTextInfo){const i=r.getTextInfo();if(i&&i.direction)return i.direction}}catch{}const a=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],n=this.services?.languageUtils||new v2(k2());return s.toLowerCase().indexOf("-latn")>1?"ltr":a.indexOf(n.getLanguagePartFromCode(s))>-1||s.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(s={},a){const n=new Wh(s,a);return n.createInstance=Wh.createInstance,n}cloneInstance(s={},a=fp){const n=s.forkResourceStore;n&&delete s.forkResourceStore;const r={...this.options,...s,isClone:!0},i=new Wh(r);if((s.debug!==void 0||s.prefix!==void 0)&&(i.logger=i.logger.clone(s)),["store","services","language"].forEach(d=>{i[d]=this[d]}),i.services={...this.services},i.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},n){const d=Object.keys(this.store.data).reduce((u,h)=>(u[h]={...this.store.data[h]},u[h]=Object.keys(u[h]).reduce((p,f)=>(p[f]={...u[h][f]},p),u[h]),u),{});i.store=new y2(d,r),i.services.resourceStore=i.store}return s.interpolation&&(i.services.interpolator=new _2(r)),i.translator=new xg(i.services,r),i.translator.on("*",(d,...u)=>{i.emit(d,...u)}),i.init(r,a),i.translator.options=r,i.translator.backendConnector.services.utils={hasLoadedNamespace:i.hasLoadedNamespace.bind(i)},i}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const gn=Wh.createInstance();gn.createInstance;gn.dir;gn.init;gn.loadResources;gn.reloadResources;gn.use;gn.changeLanguage;gn.getFixedT;gn.t;gn.exists;gn.setDefaultNamespace;gn.hasLoadedNamespace;gn.loadNamespaces;gn.loadLanguages;const A8=(t,s,a,n)=>{const r=[a,{code:s,...n||{}}];if(t?.services?.logger?.forward)return t.services.logger.forward(r,"warn","react-i18next::",!0);Mc(r[0])&&(r[0]=`react-i18next:: ${r[0]}`),t?.services?.logger?.warn?t.services.logger.warn(...r):console?.warn&&console.warn(...r)},A2={},fT=(t,s,a,n)=>{Mc(a)&&A2[a]||(Mc(a)&&(A2[a]=new Date),A8(t,s,a,n))},pT=(t,s)=>()=>{if(t.isInitialized)s();else{const a=()=>{setTimeout(()=>{t.off("initialized",a)},0),s()};t.on("initialized",a)}},Dv=(t,s,a)=>{t.loadNamespaces(s,pT(t,a))},T2=(t,s,a,n)=>{if(Mc(a)&&(a=[a]),t.options.preload&&t.options.preload.indexOf(s)>-1)return Dv(t,a,n);a.forEach(r=>{t.options.ns.indexOf(r)<0&&t.options.ns.push(r)}),t.loadLanguages(s,pT(t,n))},T8=(t,s,a={})=>!s.languages||!s.languages.length?(fT(s,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:s.languages}),!0):s.hasLoadedNamespace(t,{lng:a.lng,precheck:(n,r)=>{if(a.bindI18n&&a.bindI18n.indexOf("languageChanging")>-1&&n.services.backendConnector.backend&&n.isLanguageChangingTo&&!r(n.isLanguageChangingTo,t))return!1}}),Mc=t=>typeof t=="string",D8=t=>typeof t=="object"&&t!==null,E8=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,R8={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},M8=t=>R8[t],P8=t=>t.replace(E8,M8);let Ev={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:P8};const O8=(t={})=>{Ev={...Ev,...t}},L8=()=>Ev;let gT;const B8=t=>{gT=t},F8=()=>gT,I8={type:"3rdParty",init(t){O8(t.options.react),B8(t)}},$8=x.createContext();class z8{constructor(){this.usedNamespaces={}}addUsedNamespaces(s){s.forEach(a=>{this.usedNamespaces[a]||(this.usedNamespaces[a]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var hb={exports:{}},mb={};var D2;function V8(){if(D2)return mb;D2=1;var t=Cm();function s(f,y){return f===y&&(f!==0||1/f===1/y)||f!==f&&y!==y}var a=typeof Object.is=="function"?Object.is:s,n=t.useState,r=t.useEffect,i=t.useLayoutEffect,l=t.useDebugValue;function d(f,y){var v=y(),j=n({inst:{value:v,getSnapshot:y}}),N=j[0].inst,w=j[1];return i(function(){N.value=v,N.getSnapshot=y,u(N)&&w({inst:N})},[f,v,y]),r(function(){return u(N)&&w({inst:N}),f(function(){u(N)&&w({inst:N})})},[f]),l(v),v}function u(f){var y=f.getSnapshot;f=f.value;try{var v=y();return!a(f,v)}catch{return!0}}function h(f,y){return y()}var p=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?h:d;return mb.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:p,mb}var E2;function U8(){return E2||(E2=1,hb.exports=V8()),hb.exports}var H8=U8();const q8=(t,s)=>Mc(s)?s:D8(s)&&Mc(s.defaultValue)?s.defaultValue:Array.isArray(t)?t[t.length-1]:t,G8={t:q8,ready:!1},W8=()=>()=>{},Y8=(t,s={})=>{const{i18n:a}=s,{i18n:n,defaultNS:r}=x.useContext($8)||{},i=a||n||F8();i&&!i.reportNamespaces&&(i.reportNamespaces=new z8),i||fT(i,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const l=x.useMemo(()=>({...L8(),...i?.options?.react,...s}),[i,s]),{useSuspense:d,keyPrefix:u}=l,h=r||i?.options?.defaultNS,p=Mc(h)?[h]:h||["translation"],f=x.useMemo(()=>p,p);i?.reportNamespaces?.addUsedNamespaces?.(f);const y=x.useRef(0),v=x.useCallback(P=>{if(!i)return W8;const{bindI18n:H,bindI18nStore:D}=l,K=()=>{y.current+=1,P()};return H&&i.on(H,K),D&&i.store.on(D,K),()=>{H&&H.split(" ").forEach(X=>i.off(X,K)),D&&D.split(" ").forEach(X=>i.store.off(X,K))}},[i,l]),j=x.useRef(),N=x.useCallback(()=>{if(!i)return G8;const P=!!(i.isInitialized||i.initializedStoreOnce)&&f.every(te=>T8(te,i,l)),H=s.lng||i.language,D=y.current,K=j.current;if(K&&K.ready===P&&K.lng===H&&K.keyPrefix===u&&K.revision===D)return K;const ne={t:i.getFixedT(H,l.nsMode==="fallback"?f:f[0],u),ready:P,lng:H,keyPrefix:u,revision:D};return j.current=ne,ne},[i,f,u,l,s.lng]),[w,_]=x.useState(0),{t:T,ready:R}=H8.useSyncExternalStore(v,N,N);x.useEffect(()=>{if(i&&!R&&!d){const P=()=>_(H=>H+1);s.lng?T2(i,s.lng,f,P):Dv(i,f,P)}},[i,s.lng,f,R,d,w]);const E=i||{},A=x.useRef(null),V=x.useRef(),k=P=>{const H=Object.getOwnPropertyDescriptors(P);H.__original&&delete H.__original;const D=Object.create(Object.getPrototypeOf(P),H);if(!Object.prototype.hasOwnProperty.call(D,"__original"))try{Object.defineProperty(D,"__original",{value:P,writable:!1,enumerable:!1,configurable:!1})}catch{}return D},B=x.useMemo(()=>{const P=E,H=P?.language;let D=P;P&&(A.current&&A.current.__original===P?V.current!==H?(D=k(P),A.current=D,V.current=H):D=A.current:(D=k(P),A.current=D,V.current=H));const K=[T,D,R];return K.t=T,K.i18n=D,K.ready=R,K},[T,E,R,E.resolvedLanguage,E.language,E.languages]);if(i&&d&&!R)throw new Promise(P=>{const H=()=>P();s.lng?T2(i,s.lng,f,H):Dv(i,f,H)});return B},{slice:K8,forEach:X8}=[];function Q8(t){return X8.call(K8.call(arguments,1),s=>{if(s)for(const a in s)t[a]===void 0&&(t[a]=s[a])}),t}function Z8(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(a=>a.test(t))}const R2=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,J8=function(t,s){const n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},r=encodeURIComponent(s);let i=`${t}=${r}`;if(n.maxAge>0){const l=n.maxAge-0;if(Number.isNaN(l))throw new Error("maxAge should be a Number");i+=`; Max-Age=${Math.floor(l)}`}if(n.domain){if(!R2.test(n.domain))throw new TypeError("option domain is invalid");i+=`; Domain=${n.domain}`}if(n.path){if(!R2.test(n.path))throw new TypeError("option path is invalid");i+=`; Path=${n.path}`}if(n.expires){if(typeof n.expires.toUTCString!="function")throw new TypeError("option expires is invalid");i+=`; Expires=${n.expires.toUTCString()}`}if(n.httpOnly&&(i+="; HttpOnly"),n.secure&&(i+="; Secure"),n.sameSite)switch(typeof n.sameSite=="string"?n.sameSite.toLowerCase():n.sameSite){case!0:i+="; SameSite=Strict";break;case"lax":i+="; SameSite=Lax";break;case"strict":i+="; SameSite=Strict";break;case"none":i+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return n.partitioned&&(i+="; Partitioned"),i},M2={create(t,s,a,n){let r=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};a&&(r.expires=new Date,r.expires.setTime(r.expires.getTime()+a*60*1e3)),n&&(r.domain=n),document.cookie=J8(t,s,r)},read(t){const s=`${t}=`,a=document.cookie.split(";");for(let n=0;n<a.length;n++){let r=a[n];for(;r.charAt(0)===" ";)r=r.substring(1,r.length);if(r.indexOf(s)===0)return r.substring(s.length,r.length)}return null},remove(t,s){this.create(t,"",-1,s)}};var eB={name:"cookie",lookup(t){let{lookupCookie:s}=t;if(s&&typeof document<"u")return M2.read(s)||void 0},cacheUserLanguage(t,s){let{lookupCookie:a,cookieMinutes:n,cookieDomain:r,cookieOptions:i}=s;a&&typeof document<"u"&&M2.create(a,t,n,r,i)}},tB={name:"querystring",lookup(t){let{lookupQuerystring:s}=t,a;if(typeof window<"u"){let{search:n}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(n=window.location.hash.substring(window.location.hash.indexOf("?")));const i=n.substring(1).split("&");for(let l=0;l<i.length;l++){const d=i[l].indexOf("=");d>0&&i[l].substring(0,d)===s&&(a=i[l].substring(d+1))}}return a}},sB={name:"hash",lookup(t){let{lookupHash:s,lookupFromHashIndex:a}=t,n;if(typeof window<"u"){const{hash:r}=window.location;if(r&&r.length>2){const i=r.substring(1);if(s){const l=i.split("&");for(let d=0;d<l.length;d++){const u=l[d].indexOf("=");u>0&&l[d].substring(0,u)===s&&(n=l[d].substring(u+1))}}if(n)return n;if(!n&&a>-1){const l=r.match(/\/([a-zA-Z-]*)/g);return Array.isArray(l)?l[typeof a=="number"?a:0]?.replace("/",""):void 0}}}return n}};let Sd=null;const P2=()=>{if(Sd!==null)return Sd;try{if(Sd=typeof window<"u"&&window.localStorage!==null,!Sd)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{Sd=!1}return Sd};var aB={name:"localStorage",lookup(t){let{lookupLocalStorage:s}=t;if(s&&P2())return window.localStorage.getItem(s)||void 0},cacheUserLanguage(t,s){let{lookupLocalStorage:a}=s;a&&P2()&&window.localStorage.setItem(a,t)}};let Ad=null;const O2=()=>{if(Ad!==null)return Ad;try{if(Ad=typeof window<"u"&&window.sessionStorage!==null,!Ad)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Ad=!1}return Ad};var nB={name:"sessionStorage",lookup(t){let{lookupSessionStorage:s}=t;if(s&&O2())return window.sessionStorage.getItem(s)||void 0},cacheUserLanguage(t,s){let{lookupSessionStorage:a}=s;a&&O2()&&window.sessionStorage.setItem(a,t)}},rB={name:"navigator",lookup(t){const s=[];if(typeof navigator<"u"){const{languages:a,userLanguage:n,language:r}=navigator;if(a)for(let i=0;i<a.length;i++)s.push(a[i]);n&&s.push(n),r&&s.push(r)}return s.length>0?s:void 0}},iB={name:"htmlTag",lookup(t){let{htmlTag:s}=t,a;const n=s||(typeof document<"u"?document.documentElement:null);return n&&typeof n.getAttribute=="function"&&(a=n.getAttribute("lang")),a}},oB={name:"path",lookup(t){let{lookupFromPathIndex:s}=t;if(typeof window>"u")return;const a=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(a)?a[typeof s=="number"?s:0]?.replace("/",""):void 0}},lB={name:"subdomain",lookup(t){let{lookupFromSubdomainIndex:s}=t;const a=typeof s=="number"?s+1:1,n=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(n)return n[a]}};let xT=!1;try{document.cookie,xT=!0}catch{}const yT=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];xT||yT.splice(1,1);const cB=()=>({order:yT,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class bT{constructor(s){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(s,a)}init(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=s,this.options=Q8(a,this.options||{},cB()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=r=>r.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=n,this.addDetector(eB),this.addDetector(tB),this.addDetector(aB),this.addDetector(nB),this.addDetector(rB),this.addDetector(iB),this.addDetector(oB),this.addDetector(lB),this.addDetector(sB)}addDetector(s){return this.detectors[s.name]=s,this}detect(){let s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,a=[];return s.forEach(n=>{if(this.detectors[n]){let r=this.detectors[n].lookup(this.options);r&&typeof r=="string"&&(r=[r]),r&&(a=a.concat(r))}}),a=a.filter(n=>n!=null&&!Z8(n)).map(n=>this.options.convertDetectedLanguage(n)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?a:a.length>0?a[0]:null}cacheUserLanguage(s){let a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;a&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(s)>-1||a.forEach(n=>{this.detectors[n]&&this.detectors[n].cacheUserLanguage(s,this.options)}))}}bT.type="languageDetector";const dB={name:"RENTO",tagline:"Your premium car rental experience"},uB={home:"Home",browseCars:"Browse Cars",about:"About",contact:"Contact",favorites:"Favorites",logout:"Logout",lightMode:"Light Mode",darkMode:"Dark Mode",myAccount:"My Account"},hB={badge:"Premium Car Rental Service",title:"Experience Luxury",titleAccent:"On Every Journey",description:"Discover Lebanons 10,000+ premium cars  the only platform with full search and filters.",searchBtn:"Search Available Cars",location:"Location",pickupDate:"Pickup Date",returnDate:"Return Date"},mB={customers:"Happy Customers",vehicles:"Luxury Vehicles",experience:"Years Experience",satisfaction:"Satisfaction Rate"},fB={badge:"Our Fleet",title:"Featured Luxury Vehicles",description:"Explore our handpicked selection of premium vehicles, ready to elevate your driving experience",viewAll:"View All Vehicles"},pB={badge:"Why Choose Us",title:"Premium Service, Unforgettable Experience",description:"We're committed to providing exceptional service and the finest vehicles for your journey",insurance:{title:"Premium Insurance",description:"Comprehensive coverage included with every rental for your peace of mind"},support:{title:"24/7 Support",description:"Round-the-clock customer service to assist you whenever you need"},price:{title:"Best Price Guarantee",description:"Competitive rates with no hidden fees or surprises"},fleet:{title:"Premium Fleet",description:"Exclusive selection of luxury and high-performance vehicles"}},gB={badge:"Testimonials",title:"What Our Customers Say",description:"Real experiences from our valued customers who trust us for their luxury car needs"},xB={title:"Ready to Experience Luxury?",description:"Book your dream car today and enjoy an unforgettable driving experience",browseFleet:"Browse Our Fleet",contactUs:"Contact Us"},yB={badge:"Browse Fleet",title:"Discover Your Perfect Ride",description:"Explore our premium collection of {{count}} luxury vehicles",showing:"Showing",vehicles:"vehicles",sortBy:"Sort by:",featured:"Featured",priceLow:"Price: Low to High",priceHigh:"Price: High to Low",rating:"Highest Rated",popular:"Most Popular",filters:"Filters",reset:"Reset",search:"Search",brand:"Brand",vehicleType:"Vehicle Type",transmission:"Transmission",priceRange:"Price Range",allBrands:"All Brands",allTypes:"All Types",all:"All",perDay:"/day",viewDetails:"View Details",noResults:"No vehicles found",tryAdjusting:"Try adjusting your filters to see more results",resetFilters:"Reset Filters"},bB={backToCars:"Back to Cars",rentalPrice:"Rental Price",bookNow:"Book Now",specifications:"Specifications",seats:"Seats",people:"People",fuelType:"Fuel Type",features:"Features & Amenities",reviews:"reviews"},vB={title:"Book {{car}}",description:"Fill in your details to complete the booking. We'll contact you to confirm.",fullName:"Full Name",email:"Email",phone:"Phone Number",pickupLocation:"Pickup Location",pickupDate:"Pickup Date",returnDate:"Return Date",dailyRate:"Daily Rate",duration:"Duration",day:"day",days:"days",totalPrice:"Total Price",confirmBooking:"Confirm Booking",success:"Booking confirmed for {{car}}! We'll contact you shortly."},jB={badge:"Favorites",title:"Your Favorite Vehicles",count:"You have {{count}} vehicle in your favorites",count_plural:"You have {{count}} vehicles in your favorites",empty:"No favorites yet. Start exploring our fleet!",emptyTitle:"No Favorites Yet",emptyDescription:"Start adding vehicles to your favorites to keep track of the cars you love. Click the heart icon on any vehicle card to add it here.",browseCars:"Browse Our Fleet"},wB={badge:"About Us",title:"Redefining Luxury Car Rental",description:"For over 15 years, RENTO has been the trusted name in premium vehicle rentals, providing discerning customers with access to the world's finest automobiles.",stats:{years:"Years in Business",customers:"Happy Customers",vehicles:"Premium Vehicles",cities:"Cities Covered"},story:{badge:"Our Story",title:"Passion for Automotive Excellence",p1:"RENTO was born from a simple vision: to make the world's most prestigious vehicles accessible to those who appreciate the finer things in life. Founded in 2008 by automotive enthusiasts, we've grown from a small boutique operation to a leading name in luxury car rentals.",p2:"Every vehicle in our fleet is carefully selected and maintained to the highest standards. We believe that driving a premium vehicle isn't just about transportationit's about experiencing craftsmanship, performance, and luxury in their purest forms.",p3:"Today, we're proud to serve thousands of satisfied customers across 25 cities, offering everything from exotic sports cars to elegant luxury sedans. Our commitment to excellence and customer satisfaction remains as strong as ever."},values:{badge:"Our Values",title:"What Drives Us Forward",description:"Our core values guide every decision we make and every service we provide",customer:{title:"Customer First",description:"Your satisfaction and experience are at the heart of everything we do"},trust:{title:"Trust & Safety",description:"Every vehicle is meticulously maintained and fully insured for your protection"},excellence:{title:"Excellence",description:"We strive for perfection in service quality and vehicle condition"},accessibility:{title:"Accessibility",description:"Premium vehicles available across multiple locations for your convenience"}},team:{badge:"Meet Our Team",title:"The People Behind the Wheels",description:"Our passionate team of automotive experts is dedicated to making your experience exceptional"},cta:{title:"Experience the RENTO Difference",description:"Join thousands of satisfied customers who trust us for their luxury vehicle needs"}},NB={badge:"Contact Us",title:"Get in Touch",description:"Have questions? We're here to help. Reach out to our team for any inquiries about our vehicles or services.",visitUs:"Visit Us",callUs:"Call Us",emailUs:"Email Us",businessHours:"Business Hours",sendMessage:"Send Us a Message",name:"Full Name",email:"Email Address",phone:"Phone Number",subject:"Subject",message:"Message",send:"Send Message",success:"Message sent successfully! We'll get back to you soon.",locations:"Our Locations",faq:{badge:"FAQ",title:"Frequently Asked Questions",description:"Find quick answers to common questions about our services"}},_B={welcome:"Welcome",description:"Sign in to your account or create a new one",login:"Login",register:"Register",email:"Email",password:"Password",confirmPassword:"Confirm Password",fullName:"Full Name",phone:"Phone Number",rememberMe:"Remember me",forgotPassword:"Forgot password?",signIn:"Sign In",createAccount:"Create Account",orContinueWith:"OR CONTINUE WITH",google:"Google",apple:"Apple",continueAsGuest:"Continue as guest",terms:"By continuing, you agree to our",termsOfService:"Terms of Service",and:"and",privacyPolicy:"Privacy Policy",back:"Back",loginSuccess:"Welcome back! Login successful.",registerSuccess:"Account created successfully! Welcome to RENTO.",fillFields:"Please fill in all required fields",passwordMatch:"Passwords do not match",passwordLength:"Password must be at least 6 characters",logoutSuccess:"Logged out successfully"},CB={skip:"Skip",next:"Next",getStarted:"Get Started",of:"of",slides:{fleet:{title:"Premium Luxury Fleet",description:"Access the world's finest vehicles. From sports cars to luxury SUVs, find your perfect ride for any occasion."},safe:{title:"Safe & Secure",description:"Every vehicle is fully insured with comprehensive coverage. Drive with complete peace of mind."},support:{title:"24/7 Support",description:"Our dedicated team is always here to help. Book instantly and get support whenever you need it."},price:{title:"Best Price Guarantee",description:"Competitive rates with no hidden fees. Experience luxury without breaking the bank."}}},kB={from:"From",to:"to",popular:"Popular",sports:"Sports",luxury:"Luxury",electric:"Electric",suv:"SUV",sedan:"Sedan",convertible:"Convertible",automatic:"Automatic",manual:"Manual",petrol:"Petrol",diesel:"Diesel",hybrid:"Hybrid"},SB={brand:dB,nav:uB,hero:hB,stats:mB,featured:fB,features:pB,testimonials:gB,cta:xB,cars:yB,carDetail:bB,booking:vB,favorites:jB,about:wB,contact:NB,auth:_B,intro:CB,common:kB},AB={name:"",tagline:"   "},TB={home:"",browseCars:" ",about:" ",contact:" ",favorites:"",logout:" ",lightMode:" ",darkMode:" ",myAccount:""},DB={badge:"   ",title:" ",titleAccent:"  ",description:"    .              .",searchBtn:"   ",location:"",pickupDate:" ",returnDate:" "},EB={customers:" ",vehicles:" ",experience:"  ",satisfaction:" "},RB={badge:"",title:"  ",description:"             ",viewAll:"  "},MB={badge:" ",title:"    ",description:"       ",insurance:{title:" ",description:"       "},support:{title:" 24/7",description:"       "},price:{title:"  ",description:"      "},fleet:{title:" ",description:"      "}},PB={badge:" ",title:"  ",description:"           "},OB={title:"    ",description:"        ",browseFleet:" ",contactUs:" "},LB={badge:" ",title:"  ",description:"    {{count}}  ",showing:"",vehicles:"",sortBy:" :",featured:"",priceLow:":   ",priceHigh:":   ",rating:" ",popular:" ",filters:"",reset:" ",search:"",brand:"",vehicleType:" ",transmission:" ",priceRange:" ",allBrands:" ",allTypes:" ",all:"",perDay:"/",viewDetails:" ",noResults:"    ",tryAdjusting:"      ",resetFilters:"  "},BB={backToCars:" ",rentalPrice:" ",bookNow:" ",specifications:"",seats:"",people:"",fuelType:" ",features:" ",reviews:""},FB={title:" {{car}}",description:"   .   .",fullName:" ",email:" ",phone:" ",pickupLocation:" ",pickupDate:" ",returnDate:" ",dailyRate:" ",duration:"",day:"",days:"",totalPrice:" ",confirmBooking:" ",success:"   {{car}}!   ."},IB={badge:"",title:" ",count:" {{count}}   ",count_plural:" {{count}}   ",empty:"   .   !",emptyTitle:"   ",emptyDescription:"        .          .",browseCars:" "},$B={badge:" ",title:"    ",description:"  15                    .",stats:{years:"  ",customers:" ",vehicles:" ",cities:" "},story:{badge:"",title:"    ",p1:"    :               .    2008               .",p2:"          .          -        .",p3:"        25            .          ."},values:{badge:"",title:"  ",description:"        ",customer:{title:" ",description:"       "},trust:{title:" ",description:"       "},excellence:{title:"",description:"      "},accessibility:{title:" ",description:"      "}},team:{badge:"  ",title:"  ",description:"        "},cta:{title:"  ",description:"           "}},zB={badge:" ",title:"  ",description:"     .         .",visitUs:" ",callUs:" ",emailUs:"",businessHours:" ",sendMessage:"  ",name:" ",email:" ",phone:" ",subject:"",message:"",send:" ",success:"   !   .",locations:"",faq:{badge:" ",title:" ",description:"       "}},VB={welcome:"",description:"       ",login:" ",register:" ",email:" ",password:" ",confirmPassword:"  ",fullName:" ",phone:" ",rememberMe:"",forgotPassword:"  ",signIn:" ",createAccount:" ",orContinueWith:"  ",google:"",apple:"",continueAsGuest:" ",terms:"   ",termsOfService:" ",and:"",privacyPolicy:" ",back:"",loginSuccess:" !    .",registerSuccess:"   !    .",fillFields:"    ",passwordMatch:"   ",passwordLength:"     6   ",logoutSuccess:"   "},UB={skip:"",next:"",getStarted:" ",of:"",slides:{fleet:{title:"  ",description:"     .              ."},safe:{title:" ",description:"      .     ."},support:{title:" 24/7",description:"    .       ."},price:{title:"  ",description:"    .     ."}}},HB={from:"",to:"",popular:"",sports:"",luxury:"",electric:"",suv:" ",sedan:"",convertible:" ",automatic:"",manual:"",petrol:"",diesel:"",hybrid:""},qB={brand:AB,nav:TB,hero:DB,stats:EB,featured:RB,features:MB,testimonials:PB,cta:OB,cars:LB,carDetail:BB,booking:FB,favorites:IB,about:$B,contact:zB,auth:VB,intro:UB,common:HB},GB={en:{translation:SB},ar:{translation:qB}};gn.use(bT).use(I8).init({resources:GB,fallbackLng:"en",lng:localStorage.getItem("language")||"en",interpolation:{escapeValue:!1},react:{useSuspense:!1}});var L2="popstate";function WB(t={}){function s(n,r){let{pathname:i,search:l,hash:d}=n.location;return Rv("",{pathname:i,search:l,hash:d},r.state&&r.state.usr||null,r.state&&r.state.key||"default")}function a(n,r){return typeof r=="string"?r:nm(r)}return KB(s,a,null,t)}function Js(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function Ar(t,s){if(!t){typeof console<"u"&&console.warn(s);try{throw new Error(s)}catch{}}}function YB(){return Math.random().toString(36).substring(2,10)}function B2(t,s){return{usr:t.state,key:t.key,idx:s}}function Rv(t,s,a=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof s=="string"?du(s):s,state:a,key:s&&s.key||n||YB()}}function nm({pathname:t="/",search:s="",hash:a=""}){return s&&s!=="?"&&(t+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(t+=a.charAt(0)==="#"?a:"#"+a),t}function du(t){let s={};if(t){let a=t.indexOf("#");a>=0&&(s.hash=t.substring(a),t=t.substring(0,a));let n=t.indexOf("?");n>=0&&(s.search=t.substring(n),t=t.substring(0,n)),t&&(s.pathname=t)}return s}function KB(t,s,a,n={}){let{window:r=document.defaultView,v5Compat:i=!1}=n,l=r.history,d="POP",u=null,h=p();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function p(){return(l.state||{idx:null}).idx}function f(){d="POP";let w=p(),_=w==null?null:w-h;h=w,u&&u({action:d,location:N.location,delta:_})}function y(w,_){d="PUSH";let T=Rv(N.location,w,_);h=p()+1;let R=B2(T,h),E=N.createHref(T);try{l.pushState(R,"",E)}catch(A){if(A instanceof DOMException&&A.name==="DataCloneError")throw A;r.location.assign(E)}i&&u&&u({action:d,location:N.location,delta:1})}function v(w,_){d="REPLACE";let T=Rv(N.location,w,_);h=p();let R=B2(T,h),E=N.createHref(T);l.replaceState(R,"",E),i&&u&&u({action:d,location:N.location,delta:0})}function j(w){return XB(w)}let N={get action(){return d},get location(){return t(r,l)},listen(w){if(u)throw new Error("A history only accepts one active listener");return r.addEventListener(L2,f),u=w,()=>{r.removeEventListener(L2,f),u=null}},createHref(w){return s(r,w)},createURL:j,encodeLocation(w){let _=j(w);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:y,replace:v,go(w){return l.go(w)}};return N}function XB(t,s=!1){let a="http://localhost";typeof window<"u"&&(a=window.location.origin!=="null"?window.location.origin:window.location.href),Js(a,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:nm(t);return n=n.replace(/ $/,"%20"),!s&&n.startsWith("//")&&(n=a+n),new URL(n,a)}function vT(t,s,a="/"){return QB(t,s,a,!1)}function QB(t,s,a,n){let r=typeof s=="string"?du(s):s,i=uo(r.pathname||"/",a);if(i==null)return null;let l=jT(t);ZB(l);let d=null;for(let u=0;d==null&&u<l.length;++u){let h=cF(i);d=oF(l[u],h,n)}return d}function jT(t,s=[],a=[],n="",r=!1){let i=(l,d,u=r,h)=>{let p={relativePath:h===void 0?l.path||"":h,caseSensitive:l.caseSensitive===!0,childrenIndex:d,route:l};if(p.relativePath.startsWith("/")){if(!p.relativePath.startsWith(n)&&u)return;Js(p.relativePath.startsWith(n),`Absolute route path "${p.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),p.relativePath=p.relativePath.slice(n.length)}let f=lo([n,p.relativePath]),y=a.concat(p);l.children&&l.children.length>0&&(Js(l.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),jT(l.children,s,y,f,u)),!(l.path==null&&!l.index)&&s.push({path:f,score:rF(f,l.index),routesMeta:y})};return t.forEach((l,d)=>{if(l.path===""||!l.path?.includes("?"))i(l,d);else for(let u of wT(l.path))i(l,d,!0,u)}),s}function wT(t){let s=t.split("/");if(s.length===0)return[];let[a,...n]=s,r=a.endsWith("?"),i=a.replace(/\?$/,"");if(n.length===0)return r?[i,""]:[i];let l=wT(n.join("/")),d=[];return d.push(...l.map(u=>u===""?i:[i,u].join("/"))),r&&d.push(...l),d.map(u=>t.startsWith("/")&&u===""?"/":u)}function ZB(t){t.sort((s,a)=>s.score!==a.score?a.score-s.score:iF(s.routesMeta.map(n=>n.childrenIndex),a.routesMeta.map(n=>n.childrenIndex)))}var JB=/^:[\w-]+$/,eF=3,tF=2,sF=1,aF=10,nF=-2,F2=t=>t==="*";function rF(t,s){let a=t.split("/"),n=a.length;return a.some(F2)&&(n+=nF),s&&(n+=tF),a.filter(r=>!F2(r)).reduce((r,i)=>r+(JB.test(i)?eF:i===""?sF:aF),n)}function iF(t,s){return t.length===s.length&&t.slice(0,-1).every((n,r)=>n===s[r])?t[t.length-1]-s[s.length-1]:0}function oF(t,s,a=!1){let{routesMeta:n}=t,r={},i="/",l=[];for(let d=0;d<n.length;++d){let u=n[d],h=d===n.length-1,p=i==="/"?s:s.slice(i.length)||"/",f=yg({path:u.relativePath,caseSensitive:u.caseSensitive,end:h},p),y=u.route;if(!f&&h&&a&&!n[n.length-1].route.index&&(f=yg({path:u.relativePath,caseSensitive:u.caseSensitive,end:!1},p)),!f)return null;Object.assign(r,f.params),l.push({params:r,pathname:lo([i,f.pathname]),pathnameBase:mF(lo([i,f.pathnameBase])),route:y}),f.pathnameBase!=="/"&&(i=lo([i,f.pathnameBase]))}return l}function yg(t,s){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[a,n]=lF(t.path,t.caseSensitive,t.end),r=s.match(a);if(!r)return null;let i=r[0],l=i.replace(/(.)\/+$/,"$1"),d=r.slice(1);return{params:n.reduce((h,{paramName:p,isOptional:f},y)=>{if(p==="*"){let j=d[y]||"";l=i.slice(0,i.length-j.length).replace(/(.)\/+$/,"$1")}const v=d[y];return f&&!v?h[p]=void 0:h[p]=(v||"").replace(/%2F/g,"/"),h},{}),pathname:i,pathnameBase:l,pattern:t}}function lF(t,s=!1,a=!0){Ar(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],r="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,u)=>(n.push({paramName:d,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),r+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):a?r+="\\/*$":t!==""&&t!=="/"&&(r+="(?:(?=\\/|$))"),[new RegExp(r,s?void 0:"i"),n]}function cF(t){try{return t.split("/").map(s=>decodeURIComponent(s).replace(/\//g,"%2F")).join("/")}catch(s){return Ar(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${s}).`),t}}function uo(t,s){if(s==="/")return t;if(!t.toLowerCase().startsWith(s.toLowerCase()))return null;let a=s.endsWith("/")?s.length-1:s.length,n=t.charAt(a);return n&&n!=="/"?null:t.slice(a)||"/"}var NT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dF=t=>NT.test(t);function uF(t,s="/"){let{pathname:a,search:n="",hash:r=""}=typeof t=="string"?du(t):t,i;if(a)if(dF(a))i=a;else{if(a.includes("//")){let l=a;a=a.replace(/\/\/+/g,"/"),Ar(!1,`Pathnames cannot have embedded double slashes - normalizing ${l} -> ${a}`)}a.startsWith("/")?i=I2(a.substring(1),"/"):i=I2(a,s)}else i=s;return{pathname:i,search:fF(n),hash:pF(r)}}function I2(t,s){let a=s.replace(/\/+$/,"").split("/");return t.split("/").forEach(r=>{r===".."?a.length>1&&a.pop():r!=="."&&a.push(r)}),a.length>1?a.join("/"):"/"}function fb(t,s,a,n){return`Cannot include a '${t}' character in a manually specified \`to.${s}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${a}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function hF(t){return t.filter((s,a)=>a===0||s.route.path&&s.route.path.length>0)}function Vj(t){let s=hF(t);return s.map((a,n)=>n===s.length-1?a.pathname:a.pathnameBase)}function Uj(t,s,a,n=!1){let r;typeof t=="string"?r=du(t):(r={...t},Js(!r.pathname||!r.pathname.includes("?"),fb("?","pathname","search",r)),Js(!r.pathname||!r.pathname.includes("#"),fb("#","pathname","hash",r)),Js(!r.search||!r.search.includes("#"),fb("#","search","hash",r)));let i=t===""||r.pathname==="",l=i?"/":r.pathname,d;if(l==null)d=a;else{let f=s.length-1;if(!n&&l.startsWith("..")){let y=l.split("/");for(;y[0]==="..";)y.shift(),f-=1;r.pathname=y.join("/")}d=f>=0?s[f]:"/"}let u=uF(r,d),h=l&&l!=="/"&&l.endsWith("/"),p=(i||l===".")&&a.endsWith("/");return!u.pathname.endsWith("/")&&(h||p)&&(u.pathname+="/"),u}var lo=t=>t.join("/").replace(/\/\/+/g,"/"),mF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,pF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,gF=class{constructor(t,s,a,n=!1){this.status=t,this.statusText=s||"",this.internal=n,a instanceof Error?(this.data=a.toString(),this.error=a):this.data=a}};function xF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function yF(t){return t.map(s=>s.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var _T=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function CT(t,s){let a=t;if(typeof a!="string"||!NT.test(a))return{absoluteURL:void 0,isExternal:!1,to:a};let n=a,r=!1;if(_T)try{let i=new URL(window.location.href),l=a.startsWith("//")?new URL(i.protocol+a):new URL(a),d=uo(l.pathname,s);l.origin===i.origin&&d!=null?a=d+l.search+l.hash:r=!0}catch{Ar(!1,`<Link to="${a}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:r,to:a}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var kT=["POST","PUT","PATCH","DELETE"];new Set(kT);var bF=["GET",...kT];new Set(bF);var uu=x.createContext(null);uu.displayName="DataRouter";var ox=x.createContext(null);ox.displayName="DataRouterState";var vF=x.createContext(!1),ST=x.createContext({isTransitioning:!1});ST.displayName="ViewTransition";var jF=x.createContext(new Map);jF.displayName="Fetchers";var wF=x.createContext(null);wF.displayName="Await";var ar=x.createContext(null);ar.displayName="Navigation";var km=x.createContext(null);km.displayName="Location";var Tr=x.createContext({outlet:null,matches:[],isDataRoute:!1});Tr.displayName="Route";var Hj=x.createContext(null);Hj.displayName="RouteError";var AT="REACT_ROUTER_ERROR",NF="REDIRECT",_F="ROUTE_ERROR_RESPONSE";function CF(t){if(t.startsWith(`${AT}:${NF}:{`))try{let s=JSON.parse(t.slice(28));if(typeof s=="object"&&s&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.location=="string"&&typeof s.reloadDocument=="boolean"&&typeof s.replace=="boolean")return s}catch{}}function kF(t){if(t.startsWith(`${AT}:${_F}:{`))try{let s=JSON.parse(t.slice(40));if(typeof s=="object"&&s&&typeof s.status=="number"&&typeof s.statusText=="string")return new gF(s.status,s.statusText,s.data)}catch{}}function SF(t,{relative:s}={}){Js(hu(),"useHref() may be used only in the context of a <Router> component.");let{basename:a,navigator:n}=x.useContext(ar),{hash:r,pathname:i,search:l}=Sm(t,{relative:s}),d=i;return a!=="/"&&(d=i==="/"?a:lo([a,i])),n.createHref({pathname:d,search:l,hash:r})}function hu(){return x.useContext(km)!=null}function Dr(){return Js(hu(),"useLocation() may be used only in the context of a <Router> component."),x.useContext(km).location}var TT="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function DT(t){x.useContext(ar).static||x.useLayoutEffect(t)}function Ua(){let{isDataRoute:t}=x.useContext(Tr);return t?UF():AF()}function AF(){Js(hu(),"useNavigate() may be used only in the context of a <Router> component.");let t=x.useContext(uu),{basename:s,navigator:a}=x.useContext(ar),{matches:n}=x.useContext(Tr),{pathname:r}=Dr(),i=JSON.stringify(Vj(n)),l=x.useRef(!1);return DT(()=>{l.current=!0}),x.useCallback((u,h={})=>{if(Ar(l.current,TT),!l.current)return;if(typeof u=="number"){a.go(u);return}let p=Uj(u,JSON.parse(i),r,h.relative==="path");t==null&&s!=="/"&&(p.pathname=p.pathname==="/"?s:lo([s,p.pathname])),(h.replace?a.replace:a.push)(p,h.state,h)},[s,a,i,r,t])}var TF=x.createContext(null);function DF(t){let s=x.useContext(Tr).outlet;return x.useMemo(()=>s&&x.createElement(TF.Provider,{value:t},s),[s,t])}function EF(){let{matches:t}=x.useContext(Tr),s=t[t.length-1];return s?s.params:{}}function Sm(t,{relative:s}={}){let{matches:a}=x.useContext(Tr),{pathname:n}=Dr(),r=JSON.stringify(Vj(a));return x.useMemo(()=>Uj(t,JSON.parse(r),n,s==="path"),[t,r,n,s])}function RF(t,s){return ET(t,s)}function ET(t,s,a,n,r){Js(hu(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=x.useContext(ar),{matches:l}=x.useContext(Tr),d=l[l.length-1],u=d?d.params:{},h=d?d.pathname:"/",p=d?d.pathnameBase:"/",f=d&&d.route;{let T=f&&f.path||"";MT(h,!f||T.endsWith("*")||T.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${T}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${T}"> to <Route path="${T==="/"?"*":`${T}/*`}">.`)}let y=Dr(),v;if(s){let T=typeof s=="string"?du(s):s;Js(p==="/"||T.pathname?.startsWith(p),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${p}" but pathname "${T.pathname}" was given in the \`location\` prop.`),v=T}else v=y;let j=v.pathname||"/",N=j;if(p!=="/"){let T=p.replace(/^\//,"").split("/");N="/"+j.replace(/^\//,"").split("/").slice(T.length).join("/")}let w=vT(t,{pathname:N});Ar(f||w!=null,`No routes matched location "${v.pathname}${v.search}${v.hash}" `),Ar(w==null||w[w.length-1].route.element!==void 0||w[w.length-1].route.Component!==void 0||w[w.length-1].route.lazy!==void 0,`Matched leaf route at location "${v.pathname}${v.search}${v.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let _=BF(w&&w.map(T=>Object.assign({},T,{params:Object.assign({},u,T.params),pathname:lo([p,i.encodeLocation?i.encodeLocation(T.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathname]),pathnameBase:T.pathnameBase==="/"?p:lo([p,i.encodeLocation?i.encodeLocation(T.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:T.pathnameBase])})),l,a,n,r);return s&&_?x.createElement(km.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...v},navigationType:"POP"}},_):_}function MF(){let t=VF(),s=xF(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),a=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",r={padding:"0.5rem",backgroundColor:n},i={padding:"2px 4px",backgroundColor:n},l=null;return console.error("Error handled by React Router default ErrorBoundary:",t),l=x.createElement(x.Fragment,null,x.createElement("p",null," Hey developer "),x.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",x.createElement("code",{style:i},"ErrorBoundary")," or"," ",x.createElement("code",{style:i},"errorElement")," prop on your route.")),x.createElement(x.Fragment,null,x.createElement("h2",null,"Unexpected Application Error!"),x.createElement("h3",{style:{fontStyle:"italic"}},s),a?x.createElement("pre",{style:r},a):null,l)}var PF=x.createElement(MF,null),RT=class extends x.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,s){return s.location!==t.location||s.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:s.error,location:s.location,revalidation:t.revalidation||s.revalidation}}componentDidCatch(t,s){this.props.onError?this.props.onError(t,s):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const a=kF(t.digest);a&&(t=a)}let s=t!==void 0?x.createElement(Tr.Provider,{value:this.props.routeContext},x.createElement(Hj.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?x.createElement(OF,{error:t},s):s}};RT.contextType=vF;var pb=new WeakMap;function OF({children:t,error:s}){let{basename:a}=x.useContext(ar);if(typeof s=="object"&&s&&"digest"in s&&typeof s.digest=="string"){let n=CF(s.digest);if(n){let r=pb.get(s);if(r)throw r;let i=CT(n.location,a);if(_T&&!pb.get(s))if(i.isExternal||n.reloadDocument)window.location.href=i.absoluteURL||i.to;else{const l=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(i.to,{replace:n.replace}));throw pb.set(s,l),l}return x.createElement("meta",{httpEquiv:"refresh",content:`0;url=${i.absoluteURL||i.to}`})}}return t}function LF({routeContext:t,match:s,children:a}){let n=x.useContext(uu);return n&&n.static&&n.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=s.route.id),x.createElement(Tr.Provider,{value:t},a)}function BF(t,s=[],a=null,n=null,r=null){if(t==null){if(!a)return null;if(a.errors)t=a.matches;else if(s.length===0&&!a.initialized&&a.matches.length>0)t=a.matches;else return null}let i=t,l=a?.errors;if(l!=null){let p=i.findIndex(f=>f.route.id&&l?.[f.route.id]!==void 0);Js(p>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(l).join(",")}`),i=i.slice(0,Math.min(i.length,p+1))}let d=!1,u=-1;if(a)for(let p=0;p<i.length;p++){let f=i[p];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=p),f.route.id){let{loaderData:y,errors:v}=a,j=f.route.loader&&!y.hasOwnProperty(f.route.id)&&(!v||v[f.route.id]===void 0);if(f.route.lazy||j){d=!0,u>=0?i=i.slice(0,u+1):i=[i[0]];break}}}let h=a&&n?(p,f)=>{n(p,{location:a.location,params:a.matches?.[0]?.params??{},unstable_pattern:yF(a.matches),errorInfo:f})}:void 0;return i.reduceRight((p,f,y)=>{let v,j=!1,N=null,w=null;a&&(v=l&&f.route.id?l[f.route.id]:void 0,N=f.route.errorElement||PF,d&&(u<0&&y===0?(MT("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),j=!0,w=null):u===y&&(j=!0,w=f.route.hydrateFallbackElement||null)));let _=s.concat(i.slice(0,y+1)),T=()=>{let R;return v?R=N:j?R=w:f.route.Component?R=x.createElement(f.route.Component,null):f.route.element?R=f.route.element:R=p,x.createElement(LF,{match:f,routeContext:{outlet:p,matches:_,isDataRoute:a!=null},children:R})};return a&&(f.route.ErrorBoundary||f.route.errorElement||y===0)?x.createElement(RT,{location:a.location,revalidation:a.revalidation,component:N,error:v,children:T(),routeContext:{outlet:null,matches:_,isDataRoute:!0},onError:h}):T()},null)}function qj(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FF(t){let s=x.useContext(uu);return Js(s,qj(t)),s}function IF(t){let s=x.useContext(ox);return Js(s,qj(t)),s}function $F(t){let s=x.useContext(Tr);return Js(s,qj(t)),s}function Gj(t){let s=$F(t),a=s.matches[s.matches.length-1];return Js(a.route.id,`${t} can only be used on routes that contain a unique "id"`),a.route.id}function zF(){return Gj("useRouteId")}function VF(){let t=x.useContext(Hj),s=IF("useRouteError"),a=Gj("useRouteError");return t!==void 0?t:s.errors?.[a]}function UF(){let{router:t}=FF("useNavigate"),s=Gj("useNavigate"),a=x.useRef(!1);return DT(()=>{a.current=!0}),x.useCallback(async(r,i={})=>{Ar(a.current,TT),a.current&&(typeof r=="number"?await t.navigate(r):await t.navigate(r,{fromRouteId:s,...i}))},[t,s])}var $2={};function MT(t,s,a){!s&&!$2[t]&&($2[t]=!0,Ar(!1,a))}x.memo(HF);function HF({routes:t,future:s,state:a,onError:n}){return ET(t,void 0,a,n,s)}function co({to:t,replace:s,state:a,relative:n}){Js(hu(),"<Navigate> may be used only in the context of a <Router> component.");let{static:r}=x.useContext(ar);Ar(!r,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:i}=x.useContext(Tr),{pathname:l}=Dr(),d=Ua(),u=Uj(t,Vj(i),l,n==="path"),h=JSON.stringify(u);return x.useEffect(()=>{d(JSON.parse(h),{replace:s,state:a,relative:n})},[d,h,n,s,a]),null}function qF(t){return DF(t.context)}function Et(t){Js(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function GF({basename:t="/",children:s=null,location:a,navigationType:n="POP",navigator:r,static:i=!1,unstable_useTransitions:l}){Js(!hu(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=t.replace(/^\/*/,"/"),u=x.useMemo(()=>({basename:d,navigator:r,static:i,unstable_useTransitions:l,future:{}}),[d,r,i,l]);typeof a=="string"&&(a=du(a));let{pathname:h="/",search:p="",hash:f="",state:y=null,key:v="default"}=a,j=x.useMemo(()=>{let N=uo(h,d);return N==null?null:{location:{pathname:N,search:p,hash:f,state:y,key:v},navigationType:n}},[d,h,p,f,y,v,n]);return Ar(j!=null,`<Router basename="${d}"> is not able to match the URL "${h}${p}${f}" because it does not start with the basename, so the <Router> won't render anything.`),j==null?null:x.createElement(ar.Provider,{value:u},x.createElement(km.Provider,{children:s,value:j}))}function WF({children:t,location:s}){return RF(Mv(t),s)}function Mv(t,s=[]){let a=[];return x.Children.forEach(t,(n,r)=>{if(!x.isValidElement(n))return;let i=[...s,r];if(n.type===x.Fragment){a.push.apply(a,Mv(n.props.children,i));return}Js(n.type===Et,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Js(!n.props.index||!n.props.children,"An index route cannot have child routes.");let l={id:n.props.id||i.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(l.children=Mv(n.props.children,i)),a.push(l)}),a}var Jp="get",eg="application/x-www-form-urlencoded";function lx(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function YF(t){return lx(t)&&t.tagName.toLowerCase()==="button"}function KF(t){return lx(t)&&t.tagName.toLowerCase()==="form"}function XF(t){return lx(t)&&t.tagName.toLowerCase()==="input"}function QF(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function ZF(t,s){return t.button===0&&(!s||s==="_self")&&!QF(t)}var pp=null;function JF(){if(pp===null)try{new FormData(document.createElement("form"),0),pp=!1}catch{pp=!0}return pp}var e9=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function gb(t){return t!=null&&!e9.has(t)?(Ar(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${eg}"`),null):t}function t9(t,s){let a,n,r,i,l;if(KF(t)){let d=t.getAttribute("action");n=d?uo(d,s):null,a=t.getAttribute("method")||Jp,r=gb(t.getAttribute("enctype"))||eg,i=new FormData(t)}else if(YF(t)||XF(t)&&(t.type==="submit"||t.type==="image")){let d=t.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let u=t.getAttribute("formaction")||d.getAttribute("action");if(n=u?uo(u,s):null,a=t.getAttribute("formmethod")||d.getAttribute("method")||Jp,r=gb(t.getAttribute("formenctype"))||gb(d.getAttribute("enctype"))||eg,i=new FormData(d,t),!JF()){let{name:h,type:p,value:f}=t;if(p==="image"){let y=h?`${h}.`:"";i.append(`${y}x`,"0"),i.append(`${y}y`,"0")}else h&&i.append(h,f)}}else{if(lx(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');a=Jp,n=null,r=eg,l=t}return i&&r==="text/plain"&&(l=i,i=void 0),{action:n,method:a.toLowerCase(),encType:r,formData:i,body:l}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Wj(t,s){if(t===!1||t===null||typeof t>"u")throw new Error(s)}function s9(t,s,a,n){let r=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return a?r.pathname.endsWith("/")?r.pathname=`${r.pathname}_.${n}`:r.pathname=`${r.pathname}.${n}`:r.pathname==="/"?r.pathname=`_root.${n}`:s&&uo(r.pathname,s)==="/"?r.pathname=`${s.replace(/\/$/,"")}/_root.${n}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${n}`,r}async function a9(t,s){if(t.id in s)return s[t.id];try{let a=await import(t.module);return s[t.id]=a,a}catch(a){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(a),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function n9(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function r9(t,s,a){let n=await Promise.all(t.map(async r=>{let i=s.routes[r.route.id];if(i){let l=await a9(i,a);return l.links?l.links():[]}return[]}));return c9(n.flat(1).filter(n9).filter(r=>r.rel==="stylesheet"||r.rel==="preload").map(r=>r.rel==="stylesheet"?{...r,rel:"prefetch",as:"style"}:{...r,rel:"prefetch"}))}function z2(t,s,a,n,r,i){let l=(u,h)=>a[h]?u.route.id!==a[h].route.id:!0,d=(u,h)=>a[h].pathname!==u.pathname||a[h].route.path?.endsWith("*")&&a[h].params["*"]!==u.params["*"];return i==="assets"?s.filter((u,h)=>l(u,h)||d(u,h)):i==="data"?s.filter((u,h)=>{let p=n.routes[u.route.id];if(!p||!p.hasLoader)return!1;if(l(u,h)||d(u,h))return!0;if(u.route.shouldRevalidate){let f=u.route.shouldRevalidate({currentUrl:new URL(r.pathname+r.search+r.hash,window.origin),currentParams:a[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:u.params,defaultShouldRevalidate:!0});if(typeof f=="boolean")return f}return!0}):[]}function i9(t,s,{includeHydrateFallback:a}={}){return o9(t.map(n=>{let r=s.routes[n.route.id];if(!r)return[];let i=[r.module];return r.clientActionModule&&(i=i.concat(r.clientActionModule)),r.clientLoaderModule&&(i=i.concat(r.clientLoaderModule)),a&&r.hydrateFallbackModule&&(i=i.concat(r.hydrateFallbackModule)),r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function o9(t){return[...new Set(t)]}function l9(t){let s={},a=Object.keys(t).sort();for(let n of a)s[n]=t[n];return s}function c9(t,s){let a=new Set;return new Set(s),t.reduce((n,r)=>{let i=JSON.stringify(l9(r));return a.has(i)||(a.add(i),n.push({key:i,link:r})),n},[])}function PT(){let t=x.useContext(uu);return Wj(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function d9(){let t=x.useContext(ox);return Wj(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var Yj=x.createContext(void 0);Yj.displayName="FrameworkContext";function OT(){let t=x.useContext(Yj);return Wj(t,"You must render this element inside a <HydratedRouter> element"),t}function u9(t,s){let a=x.useContext(Yj),[n,r]=x.useState(!1),[i,l]=x.useState(!1),{onFocus:d,onBlur:u,onMouseEnter:h,onMouseLeave:p,onTouchStart:f}=s,y=x.useRef(null);x.useEffect(()=>{if(t==="render"&&l(!0),t==="viewport"){let N=_=>{_.forEach(T=>{l(T.isIntersecting)})},w=new IntersectionObserver(N,{threshold:.5});return y.current&&w.observe(y.current),()=>{w.disconnect()}}},[t]),x.useEffect(()=>{if(n){let N=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(N)}}},[n]);let v=()=>{r(!0)},j=()=>{r(!1),l(!1)};return a?t!=="intent"?[i,y,{}]:[i,y,{onFocus:Ch(d,v),onBlur:Ch(u,j),onMouseEnter:Ch(h,v),onMouseLeave:Ch(p,j),onTouchStart:Ch(f,v)}]:[!1,y,{}]}function Ch(t,s){return a=>{t&&t(a),a.defaultPrevented||s(a)}}function h9({page:t,...s}){let{router:a}=PT(),n=x.useMemo(()=>vT(a.routes,t,a.basename),[a.routes,t,a.basename]);return n?x.createElement(f9,{page:t,matches:n,...s}):null}function m9(t){let{manifest:s,routeModules:a}=OT(),[n,r]=x.useState([]);return x.useEffect(()=>{let i=!1;return r9(t,s,a).then(l=>{i||r(l)}),()=>{i=!0}},[t,s,a]),n}function f9({page:t,matches:s,...a}){let n=Dr(),{future:r,manifest:i,routeModules:l}=OT(),{basename:d}=PT(),{loaderData:u,matches:h}=d9(),p=x.useMemo(()=>z2(t,s,h,i,n,"data"),[t,s,h,i,n]),f=x.useMemo(()=>z2(t,s,h,i,n,"assets"),[t,s,h,i,n]),y=x.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let N=new Set,w=!1;if(s.forEach(T=>{let R=i.routes[T.route.id];!R||!R.hasLoader||(!p.some(E=>E.route.id===T.route.id)&&T.route.id in u&&l[T.route.id]?.shouldRevalidate||R.hasClientLoader?w=!0:N.add(T.route.id))}),N.size===0)return[];let _=s9(t,d,r.unstable_trailingSlashAwareDataRequests,"data");return w&&N.size>0&&_.searchParams.set("_routes",s.filter(T=>N.has(T.route.id)).map(T=>T.route.id).join(",")),[_.pathname+_.search]},[d,r.unstable_trailingSlashAwareDataRequests,u,n,i,p,s,t,l]),v=x.useMemo(()=>i9(f,i),[f,i]),j=m9(f);return x.createElement(x.Fragment,null,y.map(N=>x.createElement("link",{key:N,rel:"prefetch",as:"fetch",href:N,...a})),v.map(N=>x.createElement("link",{key:N,rel:"modulepreload",href:N,...a})),j.map(({key:N,link:w})=>x.createElement("link",{key:N,nonce:a.nonce,...w})))}function p9(...t){return s=>{t.forEach(a=>{typeof a=="function"?a(s):a!=null&&(a.current=s)})}}var g9=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{g9&&(window.__reactRouterVersion="7.12.0")}catch{}function x9({basename:t,children:s,unstable_useTransitions:a,window:n}){let r=x.useRef();r.current==null&&(r.current=WB({window:n,v5Compat:!0}));let i=r.current,[l,d]=x.useState({action:i.action,location:i.location}),u=x.useCallback(h=>{a===!1?d(h):x.startTransition(()=>d(h))},[a]);return x.useLayoutEffect(()=>i.listen(u),[i,u]),x.createElement(GF,{basename:t,children:s,location:l.location,navigationType:l.action,navigator:i,unstable_useTransitions:a})}var LT=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ds=x.forwardRef(function({onClick:s,discover:a="render",prefetch:n="none",relative:r,reloadDocument:i,replace:l,state:d,target:u,to:h,preventScrollReset:p,viewTransition:f,unstable_defaultShouldRevalidate:y,...v},j){let{basename:N,unstable_useTransitions:w}=x.useContext(ar),_=typeof h=="string"&&LT.test(h),T=CT(h,N);h=T.to;let R=SF(h,{relative:r}),[E,A,V]=u9(n,v),k=v9(h,{replace:l,state:d,target:u,preventScrollReset:p,relative:r,viewTransition:f,unstable_defaultShouldRevalidate:y,unstable_useTransitions:w});function B(H){s&&s(H),H.defaultPrevented||k(H)}let P=x.createElement("a",{...v,...V,href:T.absoluteURL||R,onClick:T.isExternal||i?s:B,ref:p9(j,A),target:u,"data-discover":!_&&a==="render"?"true":void 0});return E&&!_?x.createElement(x.Fragment,null,P,x.createElement(h9,{page:R})):P});Ds.displayName="Link";var BT=x.forwardRef(function({"aria-current":s="page",caseSensitive:a=!1,className:n="",end:r=!1,style:i,to:l,viewTransition:d,children:u,...h},p){let f=Sm(l,{relative:h.relative}),y=Dr(),v=x.useContext(ox),{navigator:j,basename:N}=x.useContext(ar),w=v!=null&&C9(f)&&d===!0,_=j.encodeLocation?j.encodeLocation(f).pathname:f.pathname,T=y.pathname,R=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;a||(T=T.toLowerCase(),R=R?R.toLowerCase():null,_=_.toLowerCase()),R&&N&&(R=uo(R,N)||R);const E=_!=="/"&&_.endsWith("/")?_.length-1:_.length;let A=T===_||!r&&T.startsWith(_)&&T.charAt(E)==="/",V=R!=null&&(R===_||!r&&R.startsWith(_)&&R.charAt(_.length)==="/"),k={isActive:A,isPending:V,isTransitioning:w},B=A?s:void 0,P;typeof n=="function"?P=n(k):P=[n,A?"active":null,V?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let H=typeof i=="function"?i(k):i;return x.createElement(Ds,{...h,"aria-current":B,className:P,ref:p,style:H,to:l,viewTransition:d},typeof u=="function"?u(k):u)});BT.displayName="NavLink";var y9=x.forwardRef(({discover:t="render",fetcherKey:s,navigate:a,reloadDocument:n,replace:r,state:i,method:l=Jp,action:d,onSubmit:u,relative:h,preventScrollReset:p,viewTransition:f,unstable_defaultShouldRevalidate:y,...v},j)=>{let{unstable_useTransitions:N}=x.useContext(ar),w=N9(),_=_9(d,{relative:h}),T=l.toLowerCase()==="get"?"get":"post",R=typeof d=="string"&&LT.test(d),E=A=>{if(u&&u(A),A.defaultPrevented)return;A.preventDefault();let V=A.nativeEvent.submitter,k=V?.getAttribute("formmethod")||l,B=()=>w(V||A.currentTarget,{fetcherKey:s,method:k,navigate:a,replace:r,state:i,relative:h,preventScrollReset:p,viewTransition:f,unstable_defaultShouldRevalidate:y});N&&a!==!1?x.startTransition(()=>B()):B()};return x.createElement("form",{ref:j,method:T,action:_,onSubmit:n?u:E,...v,"data-discover":!R&&t==="render"?"true":void 0})});y9.displayName="Form";function b9(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FT(t){let s=x.useContext(uu);return Js(s,b9(t)),s}function v9(t,{target:s,replace:a,state:n,preventScrollReset:r,relative:i,viewTransition:l,unstable_defaultShouldRevalidate:d,unstable_useTransitions:u}={}){let h=Ua(),p=Dr(),f=Sm(t,{relative:i});return x.useCallback(y=>{if(ZF(y,s)){y.preventDefault();let v=a!==void 0?a:nm(p)===nm(f),j=()=>h(t,{replace:v,state:n,preventScrollReset:r,relative:i,viewTransition:l,unstable_defaultShouldRevalidate:d});u?x.startTransition(()=>j()):j()}},[p,h,f,a,n,s,t,r,i,l,d,u])}var j9=0,w9=()=>`__${String(++j9)}__`;function N9(){let{router:t}=FT("useSubmit"),{basename:s}=x.useContext(ar),a=zF(),n=t.fetch,r=t.navigate;return x.useCallback(async(i,l={})=>{let{action:d,method:u,encType:h,formData:p,body:f}=t9(i,s);if(l.navigate===!1){let y=l.fetcherKey||w9();await n(y,a,l.action||d,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:f,formMethod:l.method||u,formEncType:l.encType||h,flushSync:l.flushSync})}else await r(l.action||d,{unstable_defaultShouldRevalidate:l.unstable_defaultShouldRevalidate,preventScrollReset:l.preventScrollReset,formData:p,body:f,formMethod:l.method||u,formEncType:l.encType||h,replace:l.replace,state:l.state,fromRouteId:a,flushSync:l.flushSync,viewTransition:l.viewTransition})},[n,r,s,a])}function _9(t,{relative:s}={}){let{basename:a}=x.useContext(ar),n=x.useContext(Tr);Js(n,"useFormAction must be used inside a RouteContext");let[r]=n.matches.slice(-1),i={...Sm(t||".",{relative:s})},l=Dr();if(t==null){i.search=l.search;let d=new URLSearchParams(i.search),u=d.getAll("index");if(u.some(p=>p==="")){d.delete("index"),u.filter(f=>f).forEach(f=>d.append("index",f));let p=d.toString();i.search=p?`?${p}`:""}}return(!t||t===".")&&r.route.index&&(i.search=i.search?i.search.replace(/^\?/,"?index&"):"?index"),a!=="/"&&(i.pathname=i.pathname==="/"?a:lo([a,i.pathname])),nm(i)}function C9(t,{relative:s}={}){let a=x.useContext(ST);Js(a!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=FT("useViewTransitionState"),r=Sm(t,{relative:s});if(!a.isTransitioning)return!1;let i=uo(a.currentLocation.pathname,n)||a.currentLocation.pathname,l=uo(a.nextLocation.pathname,n)||a.nextLocation.pathname;return yg(r.pathname,l)!=null||yg(r.pathname,i)!=null}var Am=cT();const IT=rx(Am);var k9=(t,s,a,n,r,i,l,d)=>{let u=document.documentElement,h=["light","dark"];function p(v){(Array.isArray(t)?t:[t]).forEach(j=>{let N=j==="class",w=N&&i?r.map(_=>i[_]||_):r;N?(u.classList.remove(...w),u.classList.add(i&&i[v]?i[v]:v)):u.setAttribute(j,v)}),f(v)}function f(v){d&&h.includes(v)&&(u.style.colorScheme=v)}function y(){return window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}if(n)p(n);else try{let v=localStorage.getItem(s)||a,j=l&&v==="system"?y():v;p(j)}catch{}},S9=x.createContext(void 0),A9={setTheme:t=>{},themes:[]},T9=()=>{var t;return(t=x.useContext(S9))!=null?t:A9};x.memo(({forcedTheme:t,storageKey:s,attribute:a,enableSystem:n,enableColorScheme:r,defaultTheme:i,value:l,themes:d,nonce:u,scriptProps:h})=>{let p=JSON.stringify([a,s,i,t,d,l,n,r]).slice(1,-1);return x.createElement("script",{...h,suppressHydrationWarning:!0,nonce:typeof window>"u"?u:"",dangerouslySetInnerHTML:{__html:`(${k9.toString()})(${p})`}})});function D9(t){if(typeof document>"u")return;let s=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",s.appendChild(a),a.styleSheet?a.styleSheet.cssText=t:a.appendChild(document.createTextNode(t))}const E9=t=>{switch(t){case"success":return P9;case"info":return L9;case"warning":return O9;case"error":return B9;default:return null}},R9=Array(12).fill(0),M9=({visible:t,className:s})=>We.createElement("div",{className:["sonner-loading-wrapper",s].filter(Boolean).join(" "),"data-visible":t},We.createElement("div",{className:"sonner-spinner"},R9.map((a,n)=>We.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),P9=We.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},We.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),O9=We.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},We.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),L9=We.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},We.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),B9=We.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},We.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),F9=We.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},We.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),We.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),I9=()=>{const[t,s]=We.useState(document.hidden);return We.useEffect(()=>{const a=()=>{s(document.hidden)};return document.addEventListener("visibilitychange",a),()=>window.removeEventListener("visibilitychange",a)},[]),t};let Pv=1;class $9{constructor(){this.subscribe=s=>(this.subscribers.push(s),()=>{const a=this.subscribers.indexOf(s);this.subscribers.splice(a,1)}),this.publish=s=>{this.subscribers.forEach(a=>a(s))},this.addToast=s=>{this.publish(s),this.toasts=[...this.toasts,s]},this.create=s=>{var a;const{message:n,...r}=s,i=typeof s?.id=="number"||((a=s.id)==null?void 0:a.length)>0?s.id:Pv++,l=this.toasts.find(u=>u.id===i),d=s.dismissible===void 0?!0:s.dismissible;return this.dismissedToasts.has(i)&&this.dismissedToasts.delete(i),l?this.toasts=this.toasts.map(u=>u.id===i?(this.publish({...u,...s,id:i,title:n}),{...u,...s,id:i,dismissible:d,title:n}):u):this.addToast({title:n,...r,dismissible:d,id:i}),i},this.dismiss=s=>(s?(this.dismissedToasts.add(s),requestAnimationFrame(()=>this.subscribers.forEach(a=>a({id:s,dismiss:!0})))):this.toasts.forEach(a=>{this.subscribers.forEach(n=>n({id:a.id,dismiss:!0}))}),s),this.message=(s,a)=>this.create({...a,message:s}),this.error=(s,a)=>this.create({...a,message:s,type:"error"}),this.success=(s,a)=>this.create({...a,type:"success",message:s}),this.info=(s,a)=>this.create({...a,type:"info",message:s}),this.warning=(s,a)=>this.create({...a,type:"warning",message:s}),this.loading=(s,a)=>this.create({...a,type:"loading",message:s}),this.promise=(s,a)=>{if(!a)return;let n;a.loading!==void 0&&(n=this.create({...a,promise:s,type:"loading",message:a.loading,description:typeof a.description!="function"?a.description:void 0}));const r=Promise.resolve(s instanceof Function?s():s);let i=n!==void 0,l;const d=r.then(async h=>{if(l=["resolve",h],We.isValidElement(h))i=!1,this.create({id:n,type:"default",message:h});else if(V9(h)&&!h.ok){i=!1;const f=typeof a.error=="function"?await a.error(`HTTP error! status: ${h.status}`):a.error,y=typeof a.description=="function"?await a.description(`HTTP error! status: ${h.status}`):a.description,j=typeof f=="object"&&!We.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:y,...j})}else if(h instanceof Error){i=!1;const f=typeof a.error=="function"?await a.error(h):a.error,y=typeof a.description=="function"?await a.description(h):a.description,j=typeof f=="object"&&!We.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:y,...j})}else if(a.success!==void 0){i=!1;const f=typeof a.success=="function"?await a.success(h):a.success,y=typeof a.description=="function"?await a.description(h):a.description,j=typeof f=="object"&&!We.isValidElement(f)?f:{message:f};this.create({id:n,type:"success",description:y,...j})}}).catch(async h=>{if(l=["reject",h],a.error!==void 0){i=!1;const p=typeof a.error=="function"?await a.error(h):a.error,f=typeof a.description=="function"?await a.description(h):a.description,v=typeof p=="object"&&!We.isValidElement(p)?p:{message:p};this.create({id:n,type:"error",description:f,...v})}}).finally(()=>{i&&(this.dismiss(n),n=void 0),a.finally==null||a.finally.call(a)}),u=()=>new Promise((h,p)=>d.then(()=>l[0]==="reject"?p(l[1]):h(l[1])).catch(p));return typeof n!="string"&&typeof n!="number"?{unwrap:u}:Object.assign(n,{unwrap:u})},this.custom=(s,a)=>{const n=a?.id||Pv++;return this.create({jsx:s(n),id:n,...a}),n},this.getActiveToasts=()=>this.toasts.filter(s=>!this.dismissedToasts.has(s.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const En=new $9,z9=(t,s)=>{const a=s?.id||Pv++;return En.addToast({title:t,...s,id:a}),a},V9=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",U9=z9,H9=()=>En.toasts,q9=()=>En.getActiveToasts(),se=Object.assign(U9,{success:En.success,info:En.info,warning:En.warning,error:En.error,custom:En.custom,message:En.message,promise:En.promise,dismiss:En.dismiss,loading:En.loading},{getHistory:H9,getToasts:q9});D9("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function gp(t){return t.label!==void 0}const G9=3,W9="24px",Y9="16px",V2=4e3,K9=356,X9=14,Q9=45,Z9=200;function ui(...t){return t.filter(Boolean).join(" ")}function J9(t){const[s,a]=t.split("-"),n=[];return s&&n.push(s),a&&n.push(a),n}const eI=t=>{var s,a,n,r,i,l,d,u,h;const{invert:p,toast:f,unstyled:y,interacting:v,setHeights:j,visibleToasts:N,heights:w,index:_,toasts:T,expanded:R,removeToast:E,defaultRichColors:A,closeButton:V,style:k,cancelButtonStyle:B,actionButtonStyle:P,className:H="",descriptionClassName:D="",duration:K,position:X,gap:ne,expandByDefault:te,classNames:U,icons:q,closeButtonAriaLabel:G="Close toast"}=t,[F,M]=We.useState(null),[z,ie]=We.useState(null),[le,re]=We.useState(!1),[fe,we]=We.useState(!1),[ye,Be]=We.useState(!1),[ke,Ye]=We.useState(!1),[rt,Se]=We.useState(!1),[Xe,Pe]=We.useState(0),[mt,_t]=We.useState(0),at=We.useRef(f.duration||K||V2),ds=We.useRef(null),us=We.useRef(null),Ps=_===0,pe=_+1<=N,_e=f.type,he=f.dismissible!==!1,$e=f.className||"",Ve=f.descriptionClassName||"",dt=We.useMemo(()=>w.findIndex(kt=>kt.toastId===f.id)||0,[w,f.id]),xt=We.useMemo(()=>{var kt;return(kt=f.closeButton)!=null?kt:V},[f.closeButton,V]),ot=We.useMemo(()=>f.duration||K||V2,[f.duration,K]),It=We.useRef(0),Dt=We.useRef(0),es=We.useRef(0),Us=We.useRef(null),[is,bs]=X.split("-"),Me=We.useMemo(()=>w.reduce((kt,Z,yt)=>yt>=dt?kt:kt+Z.height,0),[w,dt]),Ue=I9(),Fe=f.invert||p,os=_e==="loading";Dt.current=We.useMemo(()=>dt*ne+Me,[dt,Me]),We.useEffect(()=>{at.current=ot},[ot]),We.useEffect(()=>{re(!0)},[]),We.useEffect(()=>{const kt=us.current;if(kt){const Z=kt.getBoundingClientRect().height;return _t(Z),j(yt=>[{toastId:f.id,height:Z,position:f.position},...yt]),()=>j(yt=>yt.filter(Hs=>Hs.toastId!==f.id))}},[j,f.id]),We.useLayoutEffect(()=>{if(!le)return;const kt=us.current,Z=kt.style.height;kt.style.height="auto";const yt=kt.getBoundingClientRect().height;kt.style.height=Z,_t(yt),j(Hs=>Hs.find(Ge=>Ge.toastId===f.id)?Hs.map(Ge=>Ge.toastId===f.id?{...Ge,height:yt}:Ge):[{toastId:f.id,height:yt,position:f.position},...Hs])},[le,f.title,f.description,j,f.id,f.jsx,f.action,f.cancel]);const Es=We.useCallback(()=>{we(!0),Pe(Dt.current),j(kt=>kt.filter(Z=>Z.toastId!==f.id)),setTimeout(()=>{E(f)},Z9)},[f,E,j,Dt]);We.useEffect(()=>{if(f.promise&&_e==="loading"||f.duration===1/0||f.type==="loading")return;let kt;return R||v||Ue?(()=>{if(es.current<It.current){const Hs=new Date().getTime()-It.current;at.current=at.current-Hs}es.current=new Date().getTime()})():(()=>{at.current!==1/0&&(It.current=new Date().getTime(),kt=setTimeout(()=>{f.onAutoClose==null||f.onAutoClose.call(f,f),Es()},at.current))})(),()=>clearTimeout(kt)},[R,v,f,_e,Ue,Es]),We.useEffect(()=>{f.delete&&(Es(),f.onDismiss==null||f.onDismiss.call(f,f))},[Es,f.delete]);function js(){var kt;if(q?.loading){var Z;return We.createElement("div",{className:ui(U?.loader,f==null||(Z=f.classNames)==null?void 0:Z.loader,"sonner-loader"),"data-visible":_e==="loading"},q.loading)}return We.createElement(M9,{className:ui(U?.loader,f==null||(kt=f.classNames)==null?void 0:kt.loader),visible:_e==="loading"})}const rr=f.icon||q?.[_e]||E9(_e);var da,Xa;return We.createElement("li",{tabIndex:0,ref:us,className:ui(H,$e,U?.toast,f==null||(s=f.classNames)==null?void 0:s.toast,U?.default,U?.[_e],f==null||(a=f.classNames)==null?void 0:a[_e]),"data-sonner-toast":"","data-rich-colors":(da=f.richColors)!=null?da:A,"data-styled":!(f.jsx||f.unstyled||y),"data-mounted":le,"data-promise":!!f.promise,"data-swiped":rt,"data-removed":fe,"data-visible":pe,"data-y-position":is,"data-x-position":bs,"data-index":_,"data-front":Ps,"data-swiping":ye,"data-dismissible":he,"data-type":_e,"data-invert":Fe,"data-swipe-out":ke,"data-swipe-direction":z,"data-expanded":!!(R||te&&le),"data-testid":f.testId,style:{"--index":_,"--toasts-before":_,"--z-index":T.length-_,"--offset":`${fe?Xe:Dt.current}px`,"--initial-height":te?"auto":`${mt}px`,...k,...f.style},onDragEnd:()=>{Be(!1),M(null),Us.current=null},onPointerDown:kt=>{kt.button!==2&&(os||!he||(ds.current=new Date,Pe(Dt.current),kt.target.setPointerCapture(kt.pointerId),kt.target.tagName!=="BUTTON"&&(Be(!0),Us.current={x:kt.clientX,y:kt.clientY})))},onPointerUp:()=>{var kt,Z,yt;if(ke||!he)return;Us.current=null;const Hs=Number(((kt=us.current)==null?void 0:kt.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),gt=Number(((Z=us.current)==null?void 0:Z.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Ge=new Date().getTime()-((yt=ds.current)==null?void 0:yt.getTime()),ls=F==="x"?Hs:gt,ea=Math.abs(ls)/Ge;if(Math.abs(ls)>=Q9||ea>.11){Pe(Dt.current),f.onDismiss==null||f.onDismiss.call(f,f),ie(F==="x"?Hs>0?"right":"left":gt>0?"down":"up"),Es(),Ye(!0);return}else{var Os,Ta;(Os=us.current)==null||Os.style.setProperty("--swipe-amount-x","0px"),(Ta=us.current)==null||Ta.style.setProperty("--swipe-amount-y","0px")}Se(!1),Be(!1),M(null)},onPointerMove:kt=>{var Z,yt,Hs;if(!Us.current||!he||((Z=window.getSelection())==null?void 0:Z.toString().length)>0)return;const Ge=kt.clientY-Us.current.y,ls=kt.clientX-Us.current.x;var ea;const Os=(ea=t.swipeDirections)!=null?ea:J9(X);!F&&(Math.abs(ls)>1||Math.abs(Ge)>1)&&M(Math.abs(ls)>Math.abs(Ge)?"x":"y");let Ta={x:0,y:0};const yn=dn=>1/(1.5+Math.abs(dn)/20);if(F==="y"){if(Os.includes("top")||Os.includes("bottom"))if(Os.includes("top")&&Ge<0||Os.includes("bottom")&&Ge>0)Ta.y=Ge;else{const dn=Ge*yn(Ge);Ta.y=Math.abs(dn)<Math.abs(Ge)?dn:Ge}}else if(F==="x"&&(Os.includes("left")||Os.includes("right")))if(Os.includes("left")&&ls<0||Os.includes("right")&&ls>0)Ta.x=ls;else{const dn=ls*yn(ls);Ta.x=Math.abs(dn)<Math.abs(ls)?dn:ls}(Math.abs(Ta.x)>0||Math.abs(Ta.y)>0)&&Se(!0),(yt=us.current)==null||yt.style.setProperty("--swipe-amount-x",`${Ta.x}px`),(Hs=us.current)==null||Hs.style.setProperty("--swipe-amount-y",`${Ta.y}px`)}},xt&&!f.jsx&&_e!=="loading"?We.createElement("button",{"aria-label":G,"data-disabled":os,"data-close-button":!0,onClick:os||!he?()=>{}:()=>{Es(),f.onDismiss==null||f.onDismiss.call(f,f)},className:ui(U?.closeButton,f==null||(n=f.classNames)==null?void 0:n.closeButton)},(Xa=q?.close)!=null?Xa:F9):null,(_e||f.icon||f.promise)&&f.icon!==null&&(q?.[_e]!==null||f.icon)?We.createElement("div",{"data-icon":"",className:ui(U?.icon,f==null||(r=f.classNames)==null?void 0:r.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||js():null,f.type!=="loading"?rr:null):null,We.createElement("div",{"data-content":"",className:ui(U?.content,f==null||(i=f.classNames)==null?void 0:i.content)},We.createElement("div",{"data-title":"",className:ui(U?.title,f==null||(l=f.classNames)==null?void 0:l.title)},f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title),f.description?We.createElement("div",{"data-description":"",className:ui(D,Ve,U?.description,f==null||(d=f.classNames)==null?void 0:d.description)},typeof f.description=="function"?f.description():f.description):null),We.isValidElement(f.cancel)?f.cancel:f.cancel&&gp(f.cancel)?We.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||B,onClick:kt=>{gp(f.cancel)&&he&&(f.cancel.onClick==null||f.cancel.onClick.call(f.cancel,kt),Es())},className:ui(U?.cancelButton,f==null||(u=f.classNames)==null?void 0:u.cancelButton)},f.cancel.label):null,We.isValidElement(f.action)?f.action:f.action&&gp(f.action)?We.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||P,onClick:kt=>{gp(f.action)&&(f.action.onClick==null||f.action.onClick.call(f.action,kt),!kt.defaultPrevented&&Es())},className:ui(U?.actionButton,f==null||(h=f.classNames)==null?void 0:h.actionButton)},f.action.label):null)};function U2(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function tI(t,s){const a={};return[t,s].forEach((n,r)=>{const i=r===1,l=i?"--mobile-offset":"--offset",d=i?Y9:W9;function u(h){["top","right","bottom","left"].forEach(p=>{a[`${l}-${p}`]=typeof h=="number"?`${h}px`:h})}typeof n=="number"||typeof n=="string"?u(n):typeof n=="object"?["top","right","bottom","left"].forEach(h=>{n[h]===void 0?a[`${l}-${h}`]=d:a[`${l}-${h}`]=typeof n[h]=="number"?`${n[h]}px`:n[h]}):u(d)}),a}const sI=We.forwardRef(function(s,a){const{id:n,invert:r,position:i="bottom-right",hotkey:l=["altKey","KeyT"],expand:d,closeButton:u,className:h,offset:p,mobileOffset:f,theme:y="light",richColors:v,duration:j,style:N,visibleToasts:w=G9,toastOptions:_,dir:T=U2(),gap:R=X9,icons:E,containerAriaLabel:A="Notifications"}=s,[V,k]=We.useState([]),B=We.useMemo(()=>n?V.filter(le=>le.toasterId===n):V.filter(le=>!le.toasterId),[V,n]),P=We.useMemo(()=>Array.from(new Set([i].concat(B.filter(le=>le.position).map(le=>le.position)))),[B,i]),[H,D]=We.useState([]),[K,X]=We.useState(!1),[ne,te]=We.useState(!1),[U,q]=We.useState(y!=="system"?y:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),G=We.useRef(null),F=l.join("+").replace(/Key/g,"").replace(/Digit/g,""),M=We.useRef(null),z=We.useRef(!1),ie=We.useCallback(le=>{k(re=>{var fe;return(fe=re.find(we=>we.id===le.id))!=null&&fe.delete||En.dismiss(le.id),re.filter(({id:we})=>we!==le.id)})},[]);return We.useEffect(()=>En.subscribe(le=>{if(le.dismiss){requestAnimationFrame(()=>{k(re=>re.map(fe=>fe.id===le.id?{...fe,delete:!0}:fe))});return}setTimeout(()=>{IT.flushSync(()=>{k(re=>{const fe=re.findIndex(we=>we.id===le.id);return fe!==-1?[...re.slice(0,fe),{...re[fe],...le},...re.slice(fe+1)]:[le,...re]})})})}),[V]),We.useEffect(()=>{if(y!=="system"){q(y);return}if(y==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?q("dark"):q("light")),typeof window>"u")return;const le=window.matchMedia("(prefers-color-scheme: dark)");try{le.addEventListener("change",({matches:re})=>{q(re?"dark":"light")})}catch{le.addListener(({matches:fe})=>{try{q(fe?"dark":"light")}catch(we){console.error(we)}})}},[y]),We.useEffect(()=>{V.length<=1&&X(!1)},[V]),We.useEffect(()=>{const le=re=>{var fe;if(l.every(Be=>re[Be]||re.code===Be)){var ye;X(!0),(ye=G.current)==null||ye.focus()}re.code==="Escape"&&(document.activeElement===G.current||(fe=G.current)!=null&&fe.contains(document.activeElement))&&X(!1)};return document.addEventListener("keydown",le),()=>document.removeEventListener("keydown",le)},[l]),We.useEffect(()=>{if(G.current)return()=>{M.current&&(M.current.focus({preventScroll:!0}),M.current=null,z.current=!1)}},[G.current]),We.createElement("section",{ref:a,"aria-label":`${A} ${F}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},P.map((le,re)=>{var fe;const[we,ye]=le.split("-");return B.length?We.createElement("ol",{key:le,dir:T==="auto"?U2():T,tabIndex:-1,ref:G,className:h,"data-sonner-toaster":!0,"data-sonner-theme":U,"data-y-position":we,"data-x-position":ye,style:{"--front-toast-height":`${((fe=H[0])==null?void 0:fe.height)||0}px`,"--width":`${K9}px`,"--gap":`${R}px`,...N,...tI(p,f)},onBlur:Be=>{z.current&&!Be.currentTarget.contains(Be.relatedTarget)&&(z.current=!1,M.current&&(M.current.focus({preventScroll:!0}),M.current=null))},onFocus:Be=>{Be.target instanceof HTMLElement&&Be.target.dataset.dismissible==="false"||z.current||(z.current=!0,M.current=Be.relatedTarget)},onMouseEnter:()=>X(!0),onMouseMove:()=>X(!0),onMouseLeave:()=>{ne||X(!1)},onDragEnd:()=>X(!1),onPointerDown:Be=>{Be.target instanceof HTMLElement&&Be.target.dataset.dismissible==="false"||te(!0)},onPointerUp:()=>te(!1)},B.filter(Be=>!Be.position&&re===0||Be.position===le).map((Be,ke)=>{var Ye,rt;return We.createElement(eI,{key:Be.id,icons:E,index:ke,toast:Be,defaultRichColors:v,duration:(Ye=_?.duration)!=null?Ye:j,className:_?.className,descriptionClassName:_?.descriptionClassName,invert:r,visibleToasts:w,closeButton:(rt=_?.closeButton)!=null?rt:u,interacting:ne,position:le,style:_?.style,unstyled:_?.unstyled,classNames:_?.classNames,cancelButtonStyle:_?.cancelButtonStyle,actionButtonStyle:_?.actionButtonStyle,closeButtonAriaLabel:_?.closeButtonAriaLabel,removeToast:ie,toasts:B.filter(Se=>Se.position==Be.position),heights:H.filter(Se=>Se.position==Be.position),setHeights:D,expandByDefault:d,gap:R,expanded:K,swipeDirections:s.swipeDirections})})):null}))}),aI=({...t})=>{const{theme:s="system"}=T9();return e.jsx(sI,{theme:s,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};function H2(t,s){if(typeof t=="function")return t(s);t!=null&&(t.current=s)}function vo(...t){return s=>{let a=!1;const n=t.map(r=>{const i=H2(r,s);return!a&&typeof i=="function"&&(a=!0),i});if(a)return()=>{for(let r=0;r<n.length;r++){const i=n[r];typeof i=="function"?i():H2(t[r],null)}}}}function Ht(...t){return x.useCallback(vo(...t),t)}var nI=Symbol.for("react.lazy"),bg=zj[" use ".trim().toString()];function rI(t){return typeof t=="object"&&t!==null&&"then"in t}function $T(t){return t!=null&&typeof t=="object"&&"$$typeof"in t&&t.$$typeof===nI&&"_payload"in t&&rI(t._payload)}function Kj(t){const s=oI(t),a=x.forwardRef((n,r)=>{let{children:i,...l}=n;$T(i)&&typeof bg=="function"&&(i=bg(i._payload));const d=x.Children.toArray(i),u=d.find(cI);if(u){const h=u.props.children,p=d.map(f=>f===u?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:f);return e.jsx(s,{...l,ref:r,children:x.isValidElement(h)?x.cloneElement(h,void 0,p):null})}return e.jsx(s,{...l,ref:r,children:i})});return a.displayName=`${t}.Slot`,a}var iI=Kj("Slot");function oI(t){const s=x.forwardRef((a,n)=>{let{children:r,...i}=a;if($T(r)&&typeof bg=="function"&&(r=bg(r._payload)),x.isValidElement(r)){const l=uI(r),d=dI(i,r.props);return r.type!==x.Fragment&&(d.ref=n?vo(n,l):l),x.cloneElement(r,d)}return x.Children.count(r)>1?x.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var lI=Symbol("radix.slottable");function cI(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===lI}function dI(t,s){const a={...s};for(const n in s){const r=t[n],i=s[n];/^on[A-Z]/.test(n)?r&&i?a[n]=(...d)=>{const u=i(...d);return r(...d),u}:r&&(a[n]=r):n==="style"?a[n]={...r,...i}:n==="className"&&(a[n]=[r,i].filter(Boolean).join(" "))}return{...t,...a}}function uI(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}function zT(t){var s,a,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var r=t.length;for(s=0;s<r;s++)t[s]&&(a=zT(t[s]))&&(n&&(n+=" "),n+=a)}else for(a in t)t[a]&&(n&&(n+=" "),n+=a);return n}function VT(){for(var t,s,a=0,n="",r=arguments.length;a<r;a++)(t=arguments[a])&&(s=zT(t))&&(n&&(n+=" "),n+=s);return n}const q2=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,G2=VT,Xj=(t,s)=>a=>{var n;if(s?.variants==null)return G2(t,a?.class,a?.className);const{variants:r,defaultVariants:i}=s,l=Object.keys(r).map(h=>{const p=a?.[h],f=i?.[h];if(p===null)return null;const y=q2(p)||q2(f);return r[h][y]}),d=a&&Object.entries(a).reduce((h,p)=>{let[f,y]=p;return y===void 0||(h[f]=y),h},{}),u=s==null||(n=s.compoundVariants)===null||n===void 0?void 0:n.reduce((h,p)=>{let{class:f,className:y,...v}=p;return Object.entries(v).every(j=>{let[N,w]=j;return Array.isArray(w)?w.includes({...i,...d}[N]):{...i,...d}[N]===w})?[...h,f,y]:h},[]);return G2(t,l,u,a?.class,a?.className)},hI=(t,s)=>{const a=new Array(t.length+s.length);for(let n=0;n<t.length;n++)a[n]=t[n];for(let n=0;n<s.length;n++)a[t.length+n]=s[n];return a},mI=(t,s)=>({classGroupId:t,validator:s}),UT=(t=new Map,s=null,a)=>({nextPart:t,validators:s,classGroupId:a}),vg="-",W2=[],fI="arbitrary..",pI=t=>{const s=xI(t),{conflictingClassGroups:a,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:l=>{if(l.startsWith("[")&&l.endsWith("]"))return gI(l);const d=l.split(vg),u=d[0]===""&&d.length>1?1:0;return HT(d,u,s)},getConflictingClassGroupIds:(l,d)=>{if(d){const u=n[l],h=a[l];return u?h?hI(h,u):u:h||W2}return a[l]||W2}}},HT=(t,s,a)=>{if(t.length-s===0)return a.classGroupId;const r=t[s],i=a.nextPart.get(r);if(i){const h=HT(t,s+1,i);if(h)return h}const l=a.validators;if(l===null)return;const d=s===0?t.join(vg):t.slice(s).join(vg),u=l.length;for(let h=0;h<u;h++){const p=l[h];if(p.validator(d))return p.classGroupId}},gI=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const s=t.slice(1,-1),a=s.indexOf(":"),n=s.slice(0,a);return n?fI+n:void 0})(),xI=t=>{const{theme:s,classGroups:a}=t;return yI(a,s)},yI=(t,s)=>{const a=UT();for(const n in t){const r=t[n];Qj(r,a,n,s)}return a},Qj=(t,s,a,n)=>{const r=t.length;for(let i=0;i<r;i++){const l=t[i];bI(l,s,a,n)}},bI=(t,s,a,n)=>{if(typeof t=="string"){vI(t,s,a);return}if(typeof t=="function"){jI(t,s,a,n);return}wI(t,s,a,n)},vI=(t,s,a)=>{const n=t===""?s:qT(s,t);n.classGroupId=a},jI=(t,s,a,n)=>{if(NI(t)){Qj(t(n),s,a,n);return}s.validators===null&&(s.validators=[]),s.validators.push(mI(a,t))},wI=(t,s,a,n)=>{const r=Object.entries(t),i=r.length;for(let l=0;l<i;l++){const[d,u]=r[l];Qj(u,qT(s,d),a,n)}},qT=(t,s)=>{let a=t;const n=s.split(vg),r=n.length;for(let i=0;i<r;i++){const l=n[i];let d=a.nextPart.get(l);d||(d=UT(),a.nextPart.set(l,d)),a=d}return a},NI=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,_I=t=>{if(t<1)return{get:()=>{},set:()=>{}};let s=0,a=Object.create(null),n=Object.create(null);const r=(i,l)=>{a[i]=l,s++,s>t&&(s=0,n=a,a=Object.create(null))};return{get(i){let l=a[i];if(l!==void 0)return l;if((l=n[i])!==void 0)return r(i,l),l},set(i,l){i in a?a[i]=l:r(i,l)}}},Ov="!",Y2=":",CI=[],K2=(t,s,a,n,r)=>({modifiers:t,hasImportantModifier:s,baseClassName:a,maybePostfixModifierPosition:n,isExternal:r}),kI=t=>{const{prefix:s,experimentalParseClassName:a}=t;let n=r=>{const i=[];let l=0,d=0,u=0,h;const p=r.length;for(let N=0;N<p;N++){const w=r[N];if(l===0&&d===0){if(w===Y2){i.push(r.slice(u,N)),u=N+1;continue}if(w==="/"){h=N;continue}}w==="["?l++:w==="]"?l--:w==="("?d++:w===")"&&d--}const f=i.length===0?r:r.slice(u);let y=f,v=!1;f.endsWith(Ov)?(y=f.slice(0,-1),v=!0):f.startsWith(Ov)&&(y=f.slice(1),v=!0);const j=h&&h>u?h-u:void 0;return K2(i,v,y,j)};if(s){const r=s+Y2,i=n;n=l=>l.startsWith(r)?i(l.slice(r.length)):K2(CI,!1,l,void 0,!0)}if(a){const r=n;n=i=>a({className:i,parseClassName:r})}return n},SI=t=>{const s=new Map;return t.orderSensitiveModifiers.forEach((a,n)=>{s.set(a,1e6+n)}),a=>{const n=[];let r=[];for(let i=0;i<a.length;i++){const l=a[i],d=l[0]==="[",u=s.has(l);d||u?(r.length>0&&(r.sort(),n.push(...r),r=[]),n.push(l)):r.push(l)}return r.length>0&&(r.sort(),n.push(...r)),n}},AI=t=>({cache:_I(t.cacheSize),parseClassName:kI(t),sortModifiers:SI(t),...pI(t)}),TI=/\s+/,DI=(t,s)=>{const{parseClassName:a,getClassGroupId:n,getConflictingClassGroupIds:r,sortModifiers:i}=s,l=[],d=t.trim().split(TI);let u="";for(let h=d.length-1;h>=0;h-=1){const p=d[h],{isExternal:f,modifiers:y,hasImportantModifier:v,baseClassName:j,maybePostfixModifierPosition:N}=a(p);if(f){u=p+(u.length>0?" "+u:u);continue}let w=!!N,_=n(w?j.substring(0,N):j);if(!_){if(!w){u=p+(u.length>0?" "+u:u);continue}if(_=n(j),!_){u=p+(u.length>0?" "+u:u);continue}w=!1}const T=y.length===0?"":y.length===1?y[0]:i(y).join(":"),R=v?T+Ov:T,E=R+_;if(l.indexOf(E)>-1)continue;l.push(E);const A=r(_,w);for(let V=0;V<A.length;++V){const k=A[V];l.push(R+k)}u=p+(u.length>0?" "+u:u)}return u},EI=(...t)=>{let s=0,a,n,r="";for(;s<t.length;)(a=t[s++])&&(n=GT(a))&&(r&&(r+=" "),r+=n);return r},GT=t=>{if(typeof t=="string")return t;let s,a="";for(let n=0;n<t.length;n++)t[n]&&(s=GT(t[n]))&&(a&&(a+=" "),a+=s);return a},RI=(t,...s)=>{let a,n,r,i;const l=u=>{const h=s.reduce((p,f)=>f(p),t());return a=AI(h),n=a.cache.get,r=a.cache.set,i=d,d(u)},d=u=>{const h=n(u);if(h)return h;const p=DI(u,a);return r(u,p),p};return i=l,(...u)=>i(EI(...u))},MI=[],Ra=t=>{const s=a=>a[t]||MI;return s.isThemeGetter=!0,s},WT=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,YT=/^\((?:(\w[\w-]*):)?(.+)\)$/i,PI=/^\d+\/\d+$/,OI=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,LI=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,BI=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,FI=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,II=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Td=t=>PI.test(t),qt=t=>!!t&&!Number.isNaN(Number(t)),rl=t=>!!t&&Number.isInteger(Number(t)),xb=t=>t.endsWith("%")&&qt(t.slice(0,-1)),Ji=t=>OI.test(t),$I=()=>!0,zI=t=>LI.test(t)&&!BI.test(t),KT=()=>!1,VI=t=>FI.test(t),UI=t=>II.test(t),HI=t=>!lt(t)&&!ct(t),qI=t=>mu(t,ZT,KT),lt=t=>WT.test(t),ic=t=>mu(t,JT,zI),yb=t=>mu(t,XI,qt),X2=t=>mu(t,XT,KT),GI=t=>mu(t,QT,UI),xp=t=>mu(t,eD,VI),ct=t=>YT.test(t),kh=t=>fu(t,JT),WI=t=>fu(t,QI),Q2=t=>fu(t,XT),YI=t=>fu(t,ZT),KI=t=>fu(t,QT),yp=t=>fu(t,eD,!0),mu=(t,s,a)=>{const n=WT.exec(t);return n?n[1]?s(n[1]):a(n[2]):!1},fu=(t,s,a=!1)=>{const n=YT.exec(t);return n?n[1]?s(n[1]):a:!1},XT=t=>t==="position"||t==="percentage",QT=t=>t==="image"||t==="url",ZT=t=>t==="length"||t==="size"||t==="bg-size",JT=t=>t==="length",XI=t=>t==="number",QI=t=>t==="family-name",eD=t=>t==="shadow",ZI=()=>{const t=Ra("color"),s=Ra("font"),a=Ra("text"),n=Ra("font-weight"),r=Ra("tracking"),i=Ra("leading"),l=Ra("breakpoint"),d=Ra("container"),u=Ra("spacing"),h=Ra("radius"),p=Ra("shadow"),f=Ra("inset-shadow"),y=Ra("text-shadow"),v=Ra("drop-shadow"),j=Ra("blur"),N=Ra("perspective"),w=Ra("aspect"),_=Ra("ease"),T=Ra("animate"),R=()=>["auto","avoid","all","avoid-page","page","left","right","column"],E=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],A=()=>[...E(),ct,lt],V=()=>["auto","hidden","clip","visible","scroll"],k=()=>["auto","contain","none"],B=()=>[ct,lt,u],P=()=>[Td,"full","auto",...B()],H=()=>[rl,"none","subgrid",ct,lt],D=()=>["auto",{span:["full",rl,ct,lt]},rl,ct,lt],K=()=>[rl,"auto",ct,lt],X=()=>["auto","min","max","fr",ct,lt],ne=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],te=()=>["start","end","center","stretch","center-safe","end-safe"],U=()=>["auto",...B()],q=()=>[Td,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...B()],G=()=>[t,ct,lt],F=()=>[...E(),Q2,X2,{position:[ct,lt]}],M=()=>["no-repeat",{repeat:["","x","y","space","round"]}],z=()=>["auto","cover","contain",YI,qI,{size:[ct,lt]}],ie=()=>[xb,kh,ic],le=()=>["","none","full",h,ct,lt],re=()=>["",qt,kh,ic],fe=()=>["solid","dashed","dotted","double"],we=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],ye=()=>[qt,xb,Q2,X2],Be=()=>["","none",j,ct,lt],ke=()=>["none",qt,ct,lt],Ye=()=>["none",qt,ct,lt],rt=()=>[qt,ct,lt],Se=()=>[Td,"full",...B()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Ji],breakpoint:[Ji],color:[$I],container:[Ji],"drop-shadow":[Ji],ease:["in","out","in-out"],font:[HI],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Ji],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Ji],shadow:[Ji],spacing:["px",qt],text:[Ji],"text-shadow":[Ji],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Td,lt,ct,w]}],container:["container"],columns:[{columns:[qt,lt,ct,d]}],"break-after":[{"break-after":R()}],"break-before":[{"break-before":R()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:A()}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:k()}],"overscroll-x":[{"overscroll-x":k()}],"overscroll-y":[{"overscroll-y":k()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:P()}],"inset-x":[{"inset-x":P()}],"inset-y":[{"inset-y":P()}],start:[{start:P()}],end:[{end:P()}],top:[{top:P()}],right:[{right:P()}],bottom:[{bottom:P()}],left:[{left:P()}],visibility:["visible","invisible","collapse"],z:[{z:[rl,"auto",ct,lt]}],basis:[{basis:[Td,"full","auto",d,...B()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[qt,Td,"auto","initial","none",lt]}],grow:[{grow:["",qt,ct,lt]}],shrink:[{shrink:["",qt,ct,lt]}],order:[{order:[rl,"first","last","none",ct,lt]}],"grid-cols":[{"grid-cols":H()}],"col-start-end":[{col:D()}],"col-start":[{"col-start":K()}],"col-end":[{"col-end":K()}],"grid-rows":[{"grid-rows":H()}],"row-start-end":[{row:D()}],"row-start":[{"row-start":K()}],"row-end":[{"row-end":K()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":X()}],"auto-rows":[{"auto-rows":X()}],gap:[{gap:B()}],"gap-x":[{"gap-x":B()}],"gap-y":[{"gap-y":B()}],"justify-content":[{justify:[...ne(),"normal"]}],"justify-items":[{"justify-items":[...te(),"normal"]}],"justify-self":[{"justify-self":["auto",...te()]}],"align-content":[{content:["normal",...ne()]}],"align-items":[{items:[...te(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...te(),{baseline:["","last"]}]}],"place-content":[{"place-content":ne()}],"place-items":[{"place-items":[...te(),"baseline"]}],"place-self":[{"place-self":["auto",...te()]}],p:[{p:B()}],px:[{px:B()}],py:[{py:B()}],ps:[{ps:B()}],pe:[{pe:B()}],pt:[{pt:B()}],pr:[{pr:B()}],pb:[{pb:B()}],pl:[{pl:B()}],m:[{m:U()}],mx:[{mx:U()}],my:[{my:U()}],ms:[{ms:U()}],me:[{me:U()}],mt:[{mt:U()}],mr:[{mr:U()}],mb:[{mb:U()}],ml:[{ml:U()}],"space-x":[{"space-x":B()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":B()}],"space-y-reverse":["space-y-reverse"],size:[{size:q()}],w:[{w:[d,"screen",...q()]}],"min-w":[{"min-w":[d,"screen","none",...q()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[l]},...q()]}],h:[{h:["screen","lh",...q()]}],"min-h":[{"min-h":["screen","lh","none",...q()]}],"max-h":[{"max-h":["screen","lh",...q()]}],"font-size":[{text:["base",a,kh,ic]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[n,ct,yb]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",xb,lt]}],"font-family":[{font:[WI,lt,s]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[r,ct,lt]}],"line-clamp":[{"line-clamp":[qt,"none",ct,yb]}],leading:[{leading:[i,...B()]}],"list-image":[{"list-image":["none",ct,lt]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",ct,lt]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:G()}],"text-color":[{text:G()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...fe(),"wavy"]}],"text-decoration-thickness":[{decoration:[qt,"from-font","auto",ct,ic]}],"text-decoration-color":[{decoration:G()}],"underline-offset":[{"underline-offset":[qt,"auto",ct,lt]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ct,lt]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ct,lt]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:F()}],"bg-repeat":[{bg:M()}],"bg-size":[{bg:z()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},rl,ct,lt],radial:["",ct,lt],conic:[rl,ct,lt]},KI,GI]}],"bg-color":[{bg:G()}],"gradient-from-pos":[{from:ie()}],"gradient-via-pos":[{via:ie()}],"gradient-to-pos":[{to:ie()}],"gradient-from":[{from:G()}],"gradient-via":[{via:G()}],"gradient-to":[{to:G()}],rounded:[{rounded:le()}],"rounded-s":[{"rounded-s":le()}],"rounded-e":[{"rounded-e":le()}],"rounded-t":[{"rounded-t":le()}],"rounded-r":[{"rounded-r":le()}],"rounded-b":[{"rounded-b":le()}],"rounded-l":[{"rounded-l":le()}],"rounded-ss":[{"rounded-ss":le()}],"rounded-se":[{"rounded-se":le()}],"rounded-ee":[{"rounded-ee":le()}],"rounded-es":[{"rounded-es":le()}],"rounded-tl":[{"rounded-tl":le()}],"rounded-tr":[{"rounded-tr":le()}],"rounded-br":[{"rounded-br":le()}],"rounded-bl":[{"rounded-bl":le()}],"border-w":[{border:re()}],"border-w-x":[{"border-x":re()}],"border-w-y":[{"border-y":re()}],"border-w-s":[{"border-s":re()}],"border-w-e":[{"border-e":re()}],"border-w-t":[{"border-t":re()}],"border-w-r":[{"border-r":re()}],"border-w-b":[{"border-b":re()}],"border-w-l":[{"border-l":re()}],"divide-x":[{"divide-x":re()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":re()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...fe(),"hidden","none"]}],"divide-style":[{divide:[...fe(),"hidden","none"]}],"border-color":[{border:G()}],"border-color-x":[{"border-x":G()}],"border-color-y":[{"border-y":G()}],"border-color-s":[{"border-s":G()}],"border-color-e":[{"border-e":G()}],"border-color-t":[{"border-t":G()}],"border-color-r":[{"border-r":G()}],"border-color-b":[{"border-b":G()}],"border-color-l":[{"border-l":G()}],"divide-color":[{divide:G()}],"outline-style":[{outline:[...fe(),"none","hidden"]}],"outline-offset":[{"outline-offset":[qt,ct,lt]}],"outline-w":[{outline:["",qt,kh,ic]}],"outline-color":[{outline:G()}],shadow:[{shadow:["","none",p,yp,xp]}],"shadow-color":[{shadow:G()}],"inset-shadow":[{"inset-shadow":["none",f,yp,xp]}],"inset-shadow-color":[{"inset-shadow":G()}],"ring-w":[{ring:re()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:G()}],"ring-offset-w":[{"ring-offset":[qt,ic]}],"ring-offset-color":[{"ring-offset":G()}],"inset-ring-w":[{"inset-ring":re()}],"inset-ring-color":[{"inset-ring":G()}],"text-shadow":[{"text-shadow":["none",y,yp,xp]}],"text-shadow-color":[{"text-shadow":G()}],opacity:[{opacity:[qt,ct,lt]}],"mix-blend":[{"mix-blend":[...we(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":we()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[qt]}],"mask-image-linear-from-pos":[{"mask-linear-from":ye()}],"mask-image-linear-to-pos":[{"mask-linear-to":ye()}],"mask-image-linear-from-color":[{"mask-linear-from":G()}],"mask-image-linear-to-color":[{"mask-linear-to":G()}],"mask-image-t-from-pos":[{"mask-t-from":ye()}],"mask-image-t-to-pos":[{"mask-t-to":ye()}],"mask-image-t-from-color":[{"mask-t-from":G()}],"mask-image-t-to-color":[{"mask-t-to":G()}],"mask-image-r-from-pos":[{"mask-r-from":ye()}],"mask-image-r-to-pos":[{"mask-r-to":ye()}],"mask-image-r-from-color":[{"mask-r-from":G()}],"mask-image-r-to-color":[{"mask-r-to":G()}],"mask-image-b-from-pos":[{"mask-b-from":ye()}],"mask-image-b-to-pos":[{"mask-b-to":ye()}],"mask-image-b-from-color":[{"mask-b-from":G()}],"mask-image-b-to-color":[{"mask-b-to":G()}],"mask-image-l-from-pos":[{"mask-l-from":ye()}],"mask-image-l-to-pos":[{"mask-l-to":ye()}],"mask-image-l-from-color":[{"mask-l-from":G()}],"mask-image-l-to-color":[{"mask-l-to":G()}],"mask-image-x-from-pos":[{"mask-x-from":ye()}],"mask-image-x-to-pos":[{"mask-x-to":ye()}],"mask-image-x-from-color":[{"mask-x-from":G()}],"mask-image-x-to-color":[{"mask-x-to":G()}],"mask-image-y-from-pos":[{"mask-y-from":ye()}],"mask-image-y-to-pos":[{"mask-y-to":ye()}],"mask-image-y-from-color":[{"mask-y-from":G()}],"mask-image-y-to-color":[{"mask-y-to":G()}],"mask-image-radial":[{"mask-radial":[ct,lt]}],"mask-image-radial-from-pos":[{"mask-radial-from":ye()}],"mask-image-radial-to-pos":[{"mask-radial-to":ye()}],"mask-image-radial-from-color":[{"mask-radial-from":G()}],"mask-image-radial-to-color":[{"mask-radial-to":G()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":E()}],"mask-image-conic-pos":[{"mask-conic":[qt]}],"mask-image-conic-from-pos":[{"mask-conic-from":ye()}],"mask-image-conic-to-pos":[{"mask-conic-to":ye()}],"mask-image-conic-from-color":[{"mask-conic-from":G()}],"mask-image-conic-to-color":[{"mask-conic-to":G()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:F()}],"mask-repeat":[{mask:M()}],"mask-size":[{mask:z()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",ct,lt]}],filter:[{filter:["","none",ct,lt]}],blur:[{blur:Be()}],brightness:[{brightness:[qt,ct,lt]}],contrast:[{contrast:[qt,ct,lt]}],"drop-shadow":[{"drop-shadow":["","none",v,yp,xp]}],"drop-shadow-color":[{"drop-shadow":G()}],grayscale:[{grayscale:["",qt,ct,lt]}],"hue-rotate":[{"hue-rotate":[qt,ct,lt]}],invert:[{invert:["",qt,ct,lt]}],saturate:[{saturate:[qt,ct,lt]}],sepia:[{sepia:["",qt,ct,lt]}],"backdrop-filter":[{"backdrop-filter":["","none",ct,lt]}],"backdrop-blur":[{"backdrop-blur":Be()}],"backdrop-brightness":[{"backdrop-brightness":[qt,ct,lt]}],"backdrop-contrast":[{"backdrop-contrast":[qt,ct,lt]}],"backdrop-grayscale":[{"backdrop-grayscale":["",qt,ct,lt]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[qt,ct,lt]}],"backdrop-invert":[{"backdrop-invert":["",qt,ct,lt]}],"backdrop-opacity":[{"backdrop-opacity":[qt,ct,lt]}],"backdrop-saturate":[{"backdrop-saturate":[qt,ct,lt]}],"backdrop-sepia":[{"backdrop-sepia":["",qt,ct,lt]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":B()}],"border-spacing-x":[{"border-spacing-x":B()}],"border-spacing-y":[{"border-spacing-y":B()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",ct,lt]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[qt,"initial",ct,lt]}],ease:[{ease:["linear","initial",_,ct,lt]}],delay:[{delay:[qt,ct,lt]}],animate:[{animate:["none",T,ct,lt]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[N,ct,lt]}],"perspective-origin":[{"perspective-origin":A()}],rotate:[{rotate:ke()}],"rotate-x":[{"rotate-x":ke()}],"rotate-y":[{"rotate-y":ke()}],"rotate-z":[{"rotate-z":ke()}],scale:[{scale:Ye()}],"scale-x":[{"scale-x":Ye()}],"scale-y":[{"scale-y":Ye()}],"scale-z":[{"scale-z":Ye()}],"scale-3d":["scale-3d"],skew:[{skew:rt()}],"skew-x":[{"skew-x":rt()}],"skew-y":[{"skew-y":rt()}],transform:[{transform:[ct,lt,"","none","gpu","cpu"]}],"transform-origin":[{origin:A()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Se()}],"translate-x":[{"translate-x":Se()}],"translate-y":[{"translate-y":Se()}],"translate-z":[{"translate-z":Se()}],"translate-none":["translate-none"],accent:[{accent:G()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:G()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ct,lt]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ct,lt]}],fill:[{fill:["none",...G()]}],"stroke-w":[{stroke:[qt,kh,ic,yb]}],stroke:[{stroke:["none",...G()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},JI=RI(ZI);function pt(...t){return JI(VT(t))}const Zj=Xj("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),Q=x.forwardRef(({className:t,variant:s,size:a,asChild:n=!1,children:r,"aria-label":i,"aria-labelledby":l,...d},u)=>{const h=n?iI:"button";return x.useEffect(()=>{},[r,i,l,d.title,a]),e.jsx(h,{className:pt(Zj({variant:s,size:a,className:t})),ref:u,"aria-label":i,"aria-labelledby":l,...d,children:r})});Q.displayName="Button";const e$=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),t$=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(s,a,n)=>n?n.toUpperCase():a.toLowerCase()),Z2=t=>{const s=t$(t);return s.charAt(0).toUpperCase()+s.slice(1)},tD=(...t)=>t.filter((s,a,n)=>!!s&&s.trim()!==""&&n.indexOf(s)===a).join(" ").trim(),s$=t=>{for(const s in t)if(s.startsWith("aria-")||s==="role"||s==="title")return!0};var a$={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const n$=x.forwardRef(({color:t="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:n,className:r="",children:i,iconNode:l,...d},u)=>x.createElement("svg",{ref:u,...a$,width:s,height:s,stroke:t,strokeWidth:n?Number(a)*24/Number(s):a,className:tD("lucide",r),...!i&&!s$(d)&&{"aria-hidden":"true"},...d},[...l.map(([h,p])=>x.createElement(h,p)),...Array.isArray(i)?i:[i]]));const He=(t,s)=>{const a=x.forwardRef(({className:n,...r},i)=>x.createElement(n$,{ref:i,iconNode:s,className:tD(`lucide-${e$(Z2(t))}`,`lucide-${t}`,n),...r}));return a.displayName=Z2(t),a};const r$=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],rm=He("activity",r$);const i$=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],yi=He("arrow-left",i$);const o$=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Pc=He("arrow-right",o$);const l$=[["path",{d:"m21 16-4 4-4-4",key:"f6ql7i"}],["path",{d:"M17 20V4",key:"1ejh1v"}],["path",{d:"m3 8 4-4 4 4",key:"11wl7u"}],["path",{d:"M7 4v16",key:"1glfcx"}]],c$=He("arrow-up-down",l$);const d$=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],Lv=He("award",d$);const u$=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],J2=He("badge-check",u$);const h$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]],sD=He("ban",h$);const m$=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],jg=He("bell",m$);const f$=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],ek=He("bookmark",f$);const p$=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],Oc=He("briefcase",p$);const g$=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],no=He("building-2",g$);const x$=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"m9 16 2 2 4-4",key:"19s6y9"}]],Jj=He("calendar-check",x$);const y$=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]],wg=He("calendar-days",y$);const b$=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ms=He("calendar",b$);const v$=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],Vt=He("car",v$);const j$=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],eu=He("chart-column",j$);const w$=[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]],aD=He("check-check",w$);const N$=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],er=He("check",N$);const _$=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],nD=He("chevron-down",_$);const C$=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],jo=He("chevron-left",C$);const k$=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],sn=He("chevron-right",k$);const S$=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],A$=He("chevron-up",S$);const T$=[["path",{d:"m11 17-5-5 5-5",key:"13zhaf"}],["path",{d:"m18 17-5-5 5-5",key:"h8a8et"}]],D$=He("chevrons-left",T$);const E$=[["path",{d:"m6 17 5-5-5-5",key:"xnjwq"}],["path",{d:"m13 17 5-5-5-5",key:"17xmmf"}]],R$=He("chevrons-right",E$);const M$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],bl=He("circle-alert",M$);const P$=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Rn=He("circle-check-big",P$);const O$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Pa=He("circle-check",O$);const L$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Bn=He("circle-x",L$);const B$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],F$=He("circle",B$);const I$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],$$=He("clock-4",I$);const z$=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],pu=He("clock",z$);const V$=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],tk=He("credit-card",V$);const U$=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Is=He("dollar-sign",U$);const H$=[["path",{d:"M10 12h.01",key:"1kxr2c"}],["path",{d:"M18 20V6a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v14",key:"36qu9e"}],["path",{d:"M2 20h20",key:"owomy5"}]],q$=He("door-closed",H$);const G$=[["path",{d:"M11 20H2",key:"nlcfvz"}],["path",{d:"M11 4.562v16.157a1 1 0 0 0 1.242.97L19 20V5.562a2 2 0 0 0-1.515-1.94l-4-1A2 2 0 0 0 11 4.561z",key:"au4z13"}],["path",{d:"M11 4H8a2 2 0 0 0-2 2v14",key:"74r1mk"}],["path",{d:"M14 12h.01",key:"1jfl7z"}],["path",{d:"M22 20h-3",key:"vhrsz"}]],W$=He("door-open",G$);const Y$=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],tu=He("download",Y$);const K$=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],Ng=He("external-link",K$);const X$=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Ys=He("eye",X$);const Q$=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],rD=He("facebook",Q$);const Z$=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]],iD=He("file-check",Z$);const J$=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],ho=He("file-text",J$);const e7=[["line",{x1:"3",x2:"15",y1:"22",y2:"22",key:"xegly4"}],["line",{x1:"4",x2:"14",y1:"9",y2:"9",key:"xcnuvu"}],["path",{d:"M14 22V4a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v18",key:"16j0yd"}],["path",{d:"M14 13h2a2 2 0 0 1 2 2v2a2 2 0 0 0 2 2a2 2 0 0 0 2-2V9.83a2 2 0 0 0-.59-1.42L18 5",key:"7cu91f"}]],cx=He("fuel",e7);const t7=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],s7=He("funnel",t7);const a7=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],hl=He("gauge",a7);const n7=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],r7=He("globe",n7);const i7=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],vl=He("heart",i7);const o7=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],oD=He("house",o7);const l7=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],gc=He("image",l7);const c7=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],lD=He("instagram",c7);const d7=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],cD=He("key-round",d7);const u7=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],ew=He("layout-dashboard",u7);const h7=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],m7=He("lightbulb",h7);const f7=[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]],dD=He("linkedin",f7);const p7=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],_g=He("loader-circle",p7);const g7=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ul=He("lock",g7);const x7=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],jl=He("log-out",x7);const y7=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],sk=He("log-in",y7);const b7=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],_r=He("mail",b7);const v7=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],vs=He("map-pin",v7);const j7=[["path",{d:"m3 11 18-5v12L3 14v-3z",key:"n962bs"}],["path",{d:"M11.6 16.8a3 3 0 1 1-5.8-1.6",key:"1yl0tm"}]],uD=He("megaphone",j7);const w7=[["path",{d:"M4 12h16",key:"1lakjw"}],["path",{d:"M4 18h16",key:"19g7jn"}],["path",{d:"M4 6h16",key:"1o0s65"}]],hD=He("menu",w7);const N7=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Hr=He("message-circle",N7);const _7=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],dx=He("message-square",_7);const C7=[["path",{d:"M5 12h14",key:"1ays0h"}]],k7=He("minus",C7);const S7=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],Cg=He("moon",S7);const A7=[["path",{d:"M14 4.1 12 6",key:"ita8i4"}],["path",{d:"m5.1 8-2.9-.8",key:"1go3kf"}],["path",{d:"m6 12-1.9 2",key:"mnht97"}],["path",{d:"M7.2 2.2 8 5.1",key:"1cfko1"}],["path",{d:"M9.037 9.69a.498.498 0 0 1 .653-.653l11 4.5a.5.5 0 0 1-.074.949l-4.349 1.041a1 1 0 0 0-.74.739l-1.04 4.35a.5.5 0 0 1-.95.074z",key:"s0h3yz"}]],Sc=He("mouse-pointer-click",A7);const T7=[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]],mD=He("navigation",T7);const D7=[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["polyline",{points:"3.29 7 12 12 20.71 7",key:"ousv84"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]],gi=He("package",D7);const E7=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],R7=He("palette",E7);const M7=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],fD=He("paperclip",M7);const P7=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],ak=He("pen",P7);const O7=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],nk=He("percent",O7);const L7=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],Wr=He("phone",L7);const B7=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Gs=He("plus",B7);const F7=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],I7=He("receipt",F7);const $7=[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]],gu=He("refresh-ccw",$7);const z7=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Nt=He("refresh-cw",z7);const V7=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],U7=He("save",V7);const H7=[["path",{d:"m16 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"7g6ntu"}],["path",{d:"m2 16 3-8 3 8c-.87.65-1.92 1-3 1s-2.13-.35-3-1Z",key:"ijws7r"}],["path",{d:"M7 21h10",key:"1b0cd5"}],["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"M3 7h2c2 0 5-1 7-2 2 1 5 2 7 2h2",key:"3gwbw2"}]],pD=He("scale",H7);const q7=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Ca=He("search",q7);const G7=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],ux=He("send",G7);const W7=[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]],rk=He("settings-2",W7);const Y7=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Tm=He("settings",Y7);const K7=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],X7=He("shield-check",K7);const Q7=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Fn=He("shield",Q7);const Z7=[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]],J7=He("sliders-horizontal",Z7);const ez=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],gD=He("smile",ez);const tz=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],zd=He("sparkles",tz);const sz=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ca=He("square-pen",sz);const az=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Ks=He("star",az);const nz=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],rz=He("store",nz);const iz=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],kg=He("sun",iz);const oz=[["path",{d:"M9 3H5a2 2 0 0 0-2 2v4m6-6h10a2 2 0 0 1 2 2v4M9 3v18m0 0h10a2 2 0 0 0 2-2V9M9 21H5a2 2 0 0 1-2-2V9m0 0h18",key:"gugj83"}]],lz=He("table-2",oz);const cz=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],Sg=He("tag",cz);const dz=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],Bv=He("timer",dz);const uz=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],Xs=He("trash-2",uz);const hz=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}]],Dm=He("trash",hz);const mz=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],wl=He("trending-up",mz);const fz=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Yd=He("triangle-alert",fz);const pz=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],xD=He("twitter",pz);const gz=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],ik=He("upload",gz);const xz=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],Ag=He("user-check",xz);const yz=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],bz=He("user-plus",yz);const vz=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ci=He("user",vz);const jz=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],xs=He("users",jz);const wz=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Tg=He("wallet",wz);const Nz=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],ta=He("x",Nz);const _z=[["path",{d:"M2.5 17a24.12 24.12 0 0 1 0-10 2 2 0 0 1 1.4-1.4 49.56 49.56 0 0 1 16.2 0A2 2 0 0 1 21.5 7a24.12 24.12 0 0 1 0 10 2 2 0 0 1-1.4 1.4 49.55 49.55 0 0 1-16.2 0A2 2 0 0 1 2.5 17",key:"1q2vi4"}],["path",{d:"m10 15 5-3-5-3z",key:"1jp15x"}]],Cz=He("youtube",_z);const kz=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Dg=He("zap",kz);function yD(t,s){return function(){return t.apply(s,arguments)}}const{toString:Sz}=Object.prototype,{getPrototypeOf:tw}=Object,{iterator:hx,toStringTag:bD}=Symbol,mx=(t=>s=>{const a=Sz.call(s);return t[a]||(t[a]=a.slice(8,-1).toLowerCase())})(Object.create(null)),Xr=t=>(t=t.toLowerCase(),s=>mx(s)===t),fx=t=>s=>typeof s===t,{isArray:xu}=Array,su=fx("undefined");function Em(t){return t!==null&&!su(t)&&t.constructor!==null&&!su(t.constructor)&&On(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const vD=Xr("ArrayBuffer");function Az(t){let s;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?s=ArrayBuffer.isView(t):s=t&&t.buffer&&vD(t.buffer),s}const Tz=fx("string"),On=fx("function"),jD=fx("number"),Rm=t=>t!==null&&typeof t=="object",Dz=t=>t===!0||t===!1,tg=t=>{if(mx(t)!=="object")return!1;const s=tw(t);return(s===null||s===Object.prototype||Object.getPrototypeOf(s)===null)&&!(bD in t)&&!(hx in t)},Ez=t=>{if(!Rm(t)||Em(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Rz=Xr("Date"),Mz=Xr("File"),Pz=Xr("Blob"),Oz=Xr("FileList"),Lz=t=>Rm(t)&&On(t.pipe),Bz=t=>{let s;return t&&(typeof FormData=="function"&&t instanceof FormData||On(t.append)&&((s=mx(t))==="formdata"||s==="object"&&On(t.toString)&&t.toString()==="[object FormData]"))},Fz=Xr("URLSearchParams"),[Iz,$z,zz,Vz]=["ReadableStream","Request","Response","Headers"].map(Xr),Uz=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Mm(t,s,{allOwnKeys:a=!1}={}){if(t===null||typeof t>"u")return;let n,r;if(typeof t!="object"&&(t=[t]),xu(t))for(n=0,r=t.length;n<r;n++)s.call(null,t[n],n,t);else{if(Em(t))return;const i=a?Object.getOwnPropertyNames(t):Object.keys(t),l=i.length;let d;for(n=0;n<l;n++)d=i[n],s.call(null,t[d],d,t)}}function wD(t,s){if(Em(t))return null;s=s.toLowerCase();const a=Object.keys(t);let n=a.length,r;for(;n-- >0;)if(r=a[n],s===r.toLowerCase())return r;return null}const Nc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ND=t=>!su(t)&&t!==Nc;function Fv(){const{caseless:t,skipUndefined:s}=ND(this)&&this||{},a={},n=(r,i)=>{if(i==="__proto__"||i==="constructor"||i==="prototype")return;const l=t&&wD(a,i)||i;tg(a[l])&&tg(r)?a[l]=Fv(a[l],r):tg(r)?a[l]=Fv({},r):xu(r)?a[l]=r.slice():(!s||!su(r))&&(a[l]=r)};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&Mm(arguments[r],n);return a}const Hz=(t,s,a,{allOwnKeys:n}={})=>(Mm(s,(r,i)=>{a&&On(r)?Object.defineProperty(t,i,{value:yD(r,a),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(t,i,{value:r,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:n}),t),qz=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Gz=(t,s,a,n)=>{t.prototype=Object.create(s.prototype,n),Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(t,"super",{value:s.prototype}),a&&Object.assign(t.prototype,a)},Wz=(t,s,a,n)=>{let r,i,l;const d={};if(s=s||{},t==null)return s;do{for(r=Object.getOwnPropertyNames(t),i=r.length;i-- >0;)l=r[i],(!n||n(l,t,s))&&!d[l]&&(s[l]=t[l],d[l]=!0);t=a!==!1&&tw(t)}while(t&&(!a||a(t,s))&&t!==Object.prototype);return s},Yz=(t,s,a)=>{t=String(t),(a===void 0||a>t.length)&&(a=t.length),a-=s.length;const n=t.indexOf(s,a);return n!==-1&&n===a},Kz=t=>{if(!t)return null;if(xu(t))return t;let s=t.length;if(!jD(s))return null;const a=new Array(s);for(;s-- >0;)a[s]=t[s];return a},Xz=(t=>s=>t&&s instanceof t)(typeof Uint8Array<"u"&&tw(Uint8Array)),Qz=(t,s)=>{const n=(t&&t[hx]).call(t);let r;for(;(r=n.next())&&!r.done;){const i=r.value;s.call(t,i[0],i[1])}},Zz=(t,s)=>{let a;const n=[];for(;(a=t.exec(s))!==null;)n.push(a);return n},Jz=Xr("HTMLFormElement"),eV=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(a,n,r){return n.toUpperCase()+r}),ok=(({hasOwnProperty:t})=>(s,a)=>t.call(s,a))(Object.prototype),tV=Xr("RegExp"),_D=(t,s)=>{const a=Object.getOwnPropertyDescriptors(t),n={};Mm(a,(r,i)=>{let l;(l=s(r,i,t))!==!1&&(n[i]=l||r)}),Object.defineProperties(t,n)},sV=t=>{_D(t,(s,a)=>{if(On(t)&&["arguments","caller","callee"].indexOf(a)!==-1)return!1;const n=t[a];if(On(n)){if(s.enumerable=!1,"writable"in s){s.writable=!1;return}s.set||(s.set=()=>{throw Error("Can not rewrite read-only method '"+a+"'")})}})},aV=(t,s)=>{const a={},n=r=>{r.forEach(i=>{a[i]=!0})};return xu(t)?n(t):n(String(t).split(s)),a},nV=()=>{},rV=(t,s)=>t!=null&&Number.isFinite(t=+t)?t:s;function iV(t){return!!(t&&On(t.append)&&t[bD]==="FormData"&&t[hx])}const oV=t=>{const s=new Array(10),a=(n,r)=>{if(Rm(n)){if(s.indexOf(n)>=0)return;if(Em(n))return n;if(!("toJSON"in n)){s[r]=n;const i=xu(n)?[]:{};return Mm(n,(l,d)=>{const u=a(l,r+1);!su(u)&&(i[d]=u)}),s[r]=void 0,i}}return n};return a(t,0)},lV=Xr("AsyncFunction"),cV=t=>t&&(Rm(t)||On(t))&&On(t.then)&&On(t.catch),CD=((t,s)=>t?setImmediate:s?((a,n)=>(Nc.addEventListener("message",({source:r,data:i})=>{r===Nc&&i===a&&n.length&&n.shift()()},!1),r=>{n.push(r),Nc.postMessage(a,"*")}))(`axios@${Math.random()}`,[]):a=>setTimeout(a))(typeof setImmediate=="function",On(Nc.postMessage)),dV=typeof queueMicrotask<"u"?queueMicrotask.bind(Nc):typeof process<"u"&&process.nextTick||CD,uV=t=>t!=null&&On(t[hx]),Te={isArray:xu,isArrayBuffer:vD,isBuffer:Em,isFormData:Bz,isArrayBufferView:Az,isString:Tz,isNumber:jD,isBoolean:Dz,isObject:Rm,isPlainObject:tg,isEmptyObject:Ez,isReadableStream:Iz,isRequest:$z,isResponse:zz,isHeaders:Vz,isUndefined:su,isDate:Rz,isFile:Mz,isBlob:Pz,isRegExp:tV,isFunction:On,isStream:Lz,isURLSearchParams:Fz,isTypedArray:Xz,isFileList:Oz,forEach:Mm,merge:Fv,extend:Hz,trim:Uz,stripBOM:qz,inherits:Gz,toFlatObject:Wz,kindOf:mx,kindOfTest:Xr,endsWith:Yz,toArray:Kz,forEachEntry:Qz,matchAll:Zz,isHTMLForm:Jz,hasOwnProperty:ok,hasOwnProp:ok,reduceDescriptors:_D,freezeMethods:sV,toObjectSet:aV,toCamelCase:eV,noop:nV,toFiniteNumber:rV,findKey:wD,global:Nc,isContextDefined:ND,isSpecCompliantForm:iV,toJSONObject:oV,isAsyncFn:lV,isThenable:cV,setImmediate:CD,asap:dV,isIterable:uV};let Mt=class kD extends Error{static from(s,a,n,r,i,l){const d=new kD(s.message,a||s.code,n,r,i);return d.cause=s,d.name=s.name,l&&Object.assign(d,l),d}constructor(s,a,n,r,i){super(s),this.name="AxiosError",this.isAxiosError=!0,a&&(this.code=a),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Te.toJSONObject(this.config),code:this.code,status:this.status}}};Mt.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Mt.ERR_BAD_OPTION="ERR_BAD_OPTION";Mt.ECONNABORTED="ECONNABORTED";Mt.ETIMEDOUT="ETIMEDOUT";Mt.ERR_NETWORK="ERR_NETWORK";Mt.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Mt.ERR_DEPRECATED="ERR_DEPRECATED";Mt.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Mt.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Mt.ERR_CANCELED="ERR_CANCELED";Mt.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Mt.ERR_INVALID_URL="ERR_INVALID_URL";const hV=null;function Iv(t){return Te.isPlainObject(t)||Te.isArray(t)}function SD(t){return Te.endsWith(t,"[]")?t.slice(0,-2):t}function lk(t,s,a){return t?t.concat(s).map(function(r,i){return r=SD(r),!a&&i?"["+r+"]":r}).join(a?".":""):s}function mV(t){return Te.isArray(t)&&!t.some(Iv)}const fV=Te.toFlatObject(Te,{},null,function(s){return/^is[A-Z]/.test(s)});function px(t,s,a){if(!Te.isObject(t))throw new TypeError("target must be an object");s=s||new FormData,a=Te.toFlatObject(a,{metaTokens:!0,dots:!1,indexes:!1},!1,function(N,w){return!Te.isUndefined(w[N])});const n=a.metaTokens,r=a.visitor||p,i=a.dots,l=a.indexes,u=(a.Blob||typeof Blob<"u"&&Blob)&&Te.isSpecCompliantForm(s);if(!Te.isFunction(r))throw new TypeError("visitor must be a function");function h(j){if(j===null)return"";if(Te.isDate(j))return j.toISOString();if(Te.isBoolean(j))return j.toString();if(!u&&Te.isBlob(j))throw new Mt("Blob is not supported. Use a Buffer instead.");return Te.isArrayBuffer(j)||Te.isTypedArray(j)?u&&typeof Blob=="function"?new Blob([j]):Buffer.from(j):j}function p(j,N,w){let _=j;if(j&&!w&&typeof j=="object"){if(Te.endsWith(N,"{}"))N=n?N:N.slice(0,-2),j=JSON.stringify(j);else if(Te.isArray(j)&&mV(j)||(Te.isFileList(j)||Te.endsWith(N,"[]"))&&(_=Te.toArray(j)))return N=SD(N),_.forEach(function(R,E){!(Te.isUndefined(R)||R===null)&&s.append(l===!0?lk([N],E,i):l===null?N:N+"[]",h(R))}),!1}return Iv(j)?!0:(s.append(lk(w,N,i),h(j)),!1)}const f=[],y=Object.assign(fV,{defaultVisitor:p,convertValue:h,isVisitable:Iv});function v(j,N){if(!Te.isUndefined(j)){if(f.indexOf(j)!==-1)throw Error("Circular reference detected in "+N.join("."));f.push(j),Te.forEach(j,function(_,T){(!(Te.isUndefined(_)||_===null)&&r.call(s,_,Te.isString(T)?T.trim():T,N,y))===!0&&v(_,N?N.concat(T):[T])}),f.pop()}}if(!Te.isObject(t))throw new TypeError("data must be an object");return v(t),s}function ck(t){const s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return s[n]})}function sw(t,s){this._pairs=[],t&&px(t,this,s)}const AD=sw.prototype;AD.append=function(s,a){this._pairs.push([s,a])};AD.toString=function(s){const a=s?function(n){return s.call(this,n,ck)}:ck;return this._pairs.map(function(r){return a(r[0])+"="+a(r[1])},"").join("&")};function pV(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function TD(t,s,a){if(!s)return t;const n=a&&a.encode||pV,r=Te.isFunction(a)?{serialize:a}:a,i=r&&r.serialize;let l;if(i?l=i(s,r):l=Te.isURLSearchParams(s)?s.toString():new sw(s,r).toString(n),l){const d=t.indexOf("#");d!==-1&&(t=t.slice(0,d)),t+=(t.indexOf("?")===-1?"?":"&")+l}return t}class dk{constructor(){this.handlers=[]}use(s,a,n){return this.handlers.push({fulfilled:s,rejected:a,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(s){this.handlers[s]&&(this.handlers[s]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(s){Te.forEach(this.handlers,function(n){n!==null&&s(n)})}}const aw={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1,legacyInterceptorReqResOrdering:!0},gV=typeof URLSearchParams<"u"?URLSearchParams:sw,xV=typeof FormData<"u"?FormData:null,yV=typeof Blob<"u"?Blob:null,bV={isBrowser:!0,classes:{URLSearchParams:gV,FormData:xV,Blob:yV},protocols:["http","https","file","blob","url","data"]},nw=typeof window<"u"&&typeof document<"u",$v=typeof navigator=="object"&&navigator||void 0,vV=nw&&(!$v||["ReactNative","NativeScript","NS"].indexOf($v.product)<0),jV=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",wV=nw&&window.location.href||"http://localhost",NV=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:nw,hasStandardBrowserEnv:vV,hasStandardBrowserWebWorkerEnv:jV,navigator:$v,origin:wV},Symbol.toStringTag,{value:"Module"})),en={...NV,...bV};function _V(t,s){return px(t,new en.classes.URLSearchParams,{visitor:function(a,n,r,i){return en.isNode&&Te.isBuffer(a)?(this.append(n,a.toString("base64")),!1):i.defaultVisitor.apply(this,arguments)},...s})}function CV(t){return Te.matchAll(/\w+|\[(\w*)]/g,t).map(s=>s[0]==="[]"?"":s[1]||s[0])}function kV(t){const s={},a=Object.keys(t);let n;const r=a.length;let i;for(n=0;n<r;n++)i=a[n],s[i]=t[i];return s}function DD(t){function s(a,n,r,i){let l=a[i++];if(l==="__proto__")return!0;const d=Number.isFinite(+l),u=i>=a.length;return l=!l&&Te.isArray(r)?r.length:l,u?(Te.hasOwnProp(r,l)?r[l]=[r[l],n]:r[l]=n,!d):((!r[l]||!Te.isObject(r[l]))&&(r[l]=[]),s(a,n,r[l],i)&&Te.isArray(r[l])&&(r[l]=kV(r[l])),!d)}if(Te.isFormData(t)&&Te.isFunction(t.entries)){const a={};return Te.forEachEntry(t,(n,r)=>{s(CV(n),r,a,0)}),a}return null}function SV(t,s,a){if(Te.isString(t))try{return(s||JSON.parse)(t),Te.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(a||JSON.stringify)(t)}const Pm={transitional:aw,adapter:["xhr","http","fetch"],transformRequest:[function(s,a){const n=a.getContentType()||"",r=n.indexOf("application/json")>-1,i=Te.isObject(s);if(i&&Te.isHTMLForm(s)&&(s=new FormData(s)),Te.isFormData(s))return r?JSON.stringify(DD(s)):s;if(Te.isArrayBuffer(s)||Te.isBuffer(s)||Te.isStream(s)||Te.isFile(s)||Te.isBlob(s)||Te.isReadableStream(s))return s;if(Te.isArrayBufferView(s))return s.buffer;if(Te.isURLSearchParams(s))return a.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),s.toString();let d;if(i){if(n.indexOf("application/x-www-form-urlencoded")>-1)return _V(s,this.formSerializer).toString();if((d=Te.isFileList(s))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return px(d?{"files[]":s}:s,u&&new u,this.formSerializer)}}return i||r?(a.setContentType("application/json",!1),SV(s)):s}],transformResponse:[function(s){const a=this.transitional||Pm.transitional,n=a&&a.forcedJSONParsing,r=this.responseType==="json";if(Te.isResponse(s)||Te.isReadableStream(s))return s;if(s&&Te.isString(s)&&(n&&!this.responseType||r)){const l=!(a&&a.silentJSONParsing)&&r;try{return JSON.parse(s,this.parseReviver)}catch(d){if(l)throw d.name==="SyntaxError"?Mt.from(d,Mt.ERR_BAD_RESPONSE,this,null,this.response):d}}return s}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:en.classes.FormData,Blob:en.classes.Blob},validateStatus:function(s){return s>=200&&s<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Te.forEach(["delete","get","head","post","put","patch"],t=>{Pm.headers[t]={}});const AV=Te.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),TV=t=>{const s={};let a,n,r;return t&&t.split(`
`).forEach(function(l){r=l.indexOf(":"),a=l.substring(0,r).trim().toLowerCase(),n=l.substring(r+1).trim(),!(!a||s[a]&&AV[a])&&(a==="set-cookie"?s[a]?s[a].push(n):s[a]=[n]:s[a]=s[a]?s[a]+", "+n:n)}),s},uk=Symbol("internals");function Sh(t){return t&&String(t).trim().toLowerCase()}function sg(t){return t===!1||t==null?t:Te.isArray(t)?t.map(sg):String(t)}function DV(t){const s=Object.create(null),a=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=a.exec(t);)s[n[1]]=n[2];return s}const EV=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function bb(t,s,a,n,r){if(Te.isFunction(n))return n.call(this,s,a);if(r&&(s=a),!!Te.isString(s)){if(Te.isString(n))return s.indexOf(n)!==-1;if(Te.isRegExp(n))return n.test(s)}}function RV(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(s,a,n)=>a.toUpperCase()+n)}function MV(t,s){const a=Te.toCamelCase(" "+s);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+a,{value:function(r,i,l){return this[n].call(this,s,r,i,l)},configurable:!0})})}let Ln=class{constructor(s){s&&this.set(s)}set(s,a,n){const r=this;function i(d,u,h){const p=Sh(u);if(!p)throw new Error("header name must be a non-empty string");const f=Te.findKey(r,p);(!f||r[f]===void 0||h===!0||h===void 0&&r[f]!==!1)&&(r[f||u]=sg(d))}const l=(d,u)=>Te.forEach(d,(h,p)=>i(h,p,u));if(Te.isPlainObject(s)||s instanceof this.constructor)l(s,a);else if(Te.isString(s)&&(s=s.trim())&&!EV(s))l(TV(s),a);else if(Te.isObject(s)&&Te.isIterable(s)){let d={},u,h;for(const p of s){if(!Te.isArray(p))throw TypeError("Object iterator must return a key-value pair");d[h=p[0]]=(u=d[h])?Te.isArray(u)?[...u,p[1]]:[u,p[1]]:p[1]}l(d,a)}else s!=null&&i(a,s,n);return this}get(s,a){if(s=Sh(s),s){const n=Te.findKey(this,s);if(n){const r=this[n];if(!a)return r;if(a===!0)return DV(r);if(Te.isFunction(a))return a.call(this,r,n);if(Te.isRegExp(a))return a.exec(r);throw new TypeError("parser must be boolean|regexp|function")}}}has(s,a){if(s=Sh(s),s){const n=Te.findKey(this,s);return!!(n&&this[n]!==void 0&&(!a||bb(this,this[n],n,a)))}return!1}delete(s,a){const n=this;let r=!1;function i(l){if(l=Sh(l),l){const d=Te.findKey(n,l);d&&(!a||bb(n,n[d],d,a))&&(delete n[d],r=!0)}}return Te.isArray(s)?s.forEach(i):i(s),r}clear(s){const a=Object.keys(this);let n=a.length,r=!1;for(;n--;){const i=a[n];(!s||bb(this,this[i],i,s,!0))&&(delete this[i],r=!0)}return r}normalize(s){const a=this,n={};return Te.forEach(this,(r,i)=>{const l=Te.findKey(n,i);if(l){a[l]=sg(r),delete a[i];return}const d=s?RV(i):String(i).trim();d!==i&&delete a[i],a[d]=sg(r),n[d]=!0}),this}concat(...s){return this.constructor.concat(this,...s)}toJSON(s){const a=Object.create(null);return Te.forEach(this,(n,r)=>{n!=null&&n!==!1&&(a[r]=s&&Te.isArray(n)?n.join(", "):n)}),a}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([s,a])=>s+": "+a).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(s){return s instanceof this?s:new this(s)}static concat(s,...a){const n=new this(s);return a.forEach(r=>n.set(r)),n}static accessor(s){const n=(this[uk]=this[uk]={accessors:{}}).accessors,r=this.prototype;function i(l){const d=Sh(l);n[d]||(MV(r,l),n[d]=!0)}return Te.isArray(s)?s.forEach(i):i(s),this}};Ln.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Te.reduceDescriptors(Ln.prototype,({value:t},s)=>{let a=s[0].toUpperCase()+s.slice(1);return{get:()=>t,set(n){this[a]=n}}});Te.freezeMethods(Ln);function vb(t,s){const a=this||Pm,n=s||a,r=Ln.from(n.headers);let i=n.data;return Te.forEach(t,function(d){i=d.call(a,i,r.normalize(),s?s.status:void 0)}),r.normalize(),i}function ED(t){return!!(t&&t.__CANCEL__)}let Om=class extends Mt{constructor(s,a,n){super(s??"canceled",Mt.ERR_CANCELED,a,n),this.name="CanceledError",this.__CANCEL__=!0}};function RD(t,s,a){const n=a.config.validateStatus;!a.status||!n||n(a.status)?t(a):s(new Mt("Request failed with status code "+a.status,[Mt.ERR_BAD_REQUEST,Mt.ERR_BAD_RESPONSE][Math.floor(a.status/100)-4],a.config,a.request,a))}function PV(t){const s=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return s&&s[1]||""}function OV(t,s){t=t||10;const a=new Array(t),n=new Array(t);let r=0,i=0,l;return s=s!==void 0?s:1e3,function(u){const h=Date.now(),p=n[i];l||(l=h),a[r]=u,n[r]=h;let f=i,y=0;for(;f!==r;)y+=a[f++],f=f%t;if(r=(r+1)%t,r===i&&(i=(i+1)%t),h-l<s)return;const v=p&&h-p;return v?Math.round(y*1e3/v):void 0}}function LV(t,s){let a=0,n=1e3/s,r,i;const l=(h,p=Date.now())=>{a=p,r=null,i&&(clearTimeout(i),i=null),t(...h)};return[(...h)=>{const p=Date.now(),f=p-a;f>=n?l(h,p):(r=h,i||(i=setTimeout(()=>{i=null,l(r)},n-f)))},()=>r&&l(r)]}const Eg=(t,s,a=3)=>{let n=0;const r=OV(50,250);return LV(i=>{const l=i.loaded,d=i.lengthComputable?i.total:void 0,u=l-n,h=r(u),p=l<=d;n=l;const f={loaded:l,total:d,progress:d?l/d:void 0,bytes:u,rate:h||void 0,estimated:h&&d&&p?(d-l)/h:void 0,event:i,lengthComputable:d!=null,[s?"download":"upload"]:!0};t(f)},a)},hk=(t,s)=>{const a=t!=null;return[n=>s[0]({lengthComputable:a,total:t,loaded:n}),s[1]]},mk=t=>(...s)=>Te.asap(()=>t(...s)),BV=en.hasStandardBrowserEnv?((t,s)=>a=>(a=new URL(a,en.origin),t.protocol===a.protocol&&t.host===a.host&&(s||t.port===a.port)))(new URL(en.origin),en.navigator&&/(msie|trident)/i.test(en.navigator.userAgent)):()=>!0,FV=en.hasStandardBrowserEnv?{write(t,s,a,n,r,i,l){if(typeof document>"u")return;const d=[`${t}=${encodeURIComponent(s)}`];Te.isNumber(a)&&d.push(`expires=${new Date(a).toUTCString()}`),Te.isString(n)&&d.push(`path=${n}`),Te.isString(r)&&d.push(`domain=${r}`),i===!0&&d.push("secure"),Te.isString(l)&&d.push(`SameSite=${l}`),document.cookie=d.join("; ")},read(t){if(typeof document>"u")return null;const s=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return s?decodeURIComponent(s[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function IV(t){return typeof t!="string"?!1:/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function $V(t,s){return s?t.replace(/\/?\/$/,"")+"/"+s.replace(/^\/+/,""):t}function MD(t,s,a){let n=!IV(s);return t&&(n||a==!1)?$V(t,s):s}const fk=t=>t instanceof Ln?{...t}:t;function Lc(t,s){s=s||{};const a={};function n(h,p,f,y){return Te.isPlainObject(h)&&Te.isPlainObject(p)?Te.merge.call({caseless:y},h,p):Te.isPlainObject(p)?Te.merge({},p):Te.isArray(p)?p.slice():p}function r(h,p,f,y){if(Te.isUndefined(p)){if(!Te.isUndefined(h))return n(void 0,h,f,y)}else return n(h,p,f,y)}function i(h,p){if(!Te.isUndefined(p))return n(void 0,p)}function l(h,p){if(Te.isUndefined(p)){if(!Te.isUndefined(h))return n(void 0,h)}else return n(void 0,p)}function d(h,p,f){if(f in s)return n(h,p);if(f in t)return n(void 0,h)}const u={url:i,method:i,data:i,baseURL:l,transformRequest:l,transformResponse:l,paramsSerializer:l,timeout:l,timeoutMessage:l,withCredentials:l,withXSRFToken:l,adapter:l,responseType:l,xsrfCookieName:l,xsrfHeaderName:l,onUploadProgress:l,onDownloadProgress:l,decompress:l,maxContentLength:l,maxBodyLength:l,beforeRedirect:l,transport:l,httpAgent:l,httpsAgent:l,cancelToken:l,socketPath:l,responseEncoding:l,validateStatus:d,headers:(h,p,f)=>r(fk(h),fk(p),f,!0)};return Te.forEach(Object.keys({...t,...s}),function(p){if(p==="__proto__"||p==="constructor"||p==="prototype")return;const f=Te.hasOwnProp(u,p)?u[p]:r,y=f(t[p],s[p],p);Te.isUndefined(y)&&f!==d||(a[p]=y)}),a}const PD=t=>{const s=Lc({},t);let{data:a,withXSRFToken:n,xsrfHeaderName:r,xsrfCookieName:i,headers:l,auth:d}=s;if(s.headers=l=Ln.from(l),s.url=TD(MD(s.baseURL,s.url,s.allowAbsoluteUrls),t.params,t.paramsSerializer),d&&l.set("Authorization","Basic "+btoa((d.username||"")+":"+(d.password?unescape(encodeURIComponent(d.password)):""))),Te.isFormData(a)){if(en.hasStandardBrowserEnv||en.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(Te.isFunction(a.getHeaders)){const u=a.getHeaders(),h=["content-type","content-length"];Object.entries(u).forEach(([p,f])=>{h.includes(p.toLowerCase())&&l.set(p,f)})}}if(en.hasStandardBrowserEnv&&(n&&Te.isFunction(n)&&(n=n(s)),n||n!==!1&&BV(s.url))){const u=r&&i&&FV.read(i);u&&l.set(r,u)}return s},zV=typeof XMLHttpRequest<"u",VV=zV&&function(t){return new Promise(function(a,n){const r=PD(t);let i=r.data;const l=Ln.from(r.headers).normalize();let{responseType:d,onUploadProgress:u,onDownloadProgress:h}=r,p,f,y,v,j;function N(){v&&v(),j&&j(),r.cancelToken&&r.cancelToken.unsubscribe(p),r.signal&&r.signal.removeEventListener("abort",p)}let w=new XMLHttpRequest;w.open(r.method.toUpperCase(),r.url,!0),w.timeout=r.timeout;function _(){if(!w)return;const R=Ln.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),A={data:!d||d==="text"||d==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:R,config:t,request:w};RD(function(k){a(k),N()},function(k){n(k),N()},A),w=null}"onloadend"in w?w.onloadend=_:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(_)},w.onabort=function(){w&&(n(new Mt("Request aborted",Mt.ECONNABORTED,t,w)),w=null)},w.onerror=function(E){const A=E&&E.message?E.message:"Network Error",V=new Mt(A,Mt.ERR_NETWORK,t,w);V.event=E||null,n(V),w=null},w.ontimeout=function(){let E=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const A=r.transitional||aw;r.timeoutErrorMessage&&(E=r.timeoutErrorMessage),n(new Mt(E,A.clarifyTimeoutError?Mt.ETIMEDOUT:Mt.ECONNABORTED,t,w)),w=null},i===void 0&&l.setContentType(null),"setRequestHeader"in w&&Te.forEach(l.toJSON(),function(E,A){w.setRequestHeader(A,E)}),Te.isUndefined(r.withCredentials)||(w.withCredentials=!!r.withCredentials),d&&d!=="json"&&(w.responseType=r.responseType),h&&([y,j]=Eg(h,!0),w.addEventListener("progress",y)),u&&w.upload&&([f,v]=Eg(u),w.upload.addEventListener("progress",f),w.upload.addEventListener("loadend",v)),(r.cancelToken||r.signal)&&(p=R=>{w&&(n(!R||R.type?new Om(null,t,w):R),w.abort(),w=null)},r.cancelToken&&r.cancelToken.subscribe(p),r.signal&&(r.signal.aborted?p():r.signal.addEventListener("abort",p)));const T=PV(r.url);if(T&&en.protocols.indexOf(T)===-1){n(new Mt("Unsupported protocol "+T+":",Mt.ERR_BAD_REQUEST,t));return}w.send(i||null)})},UV=(t,s)=>{const{length:a}=t=t?t.filter(Boolean):[];if(s||a){let n=new AbortController,r;const i=function(h){if(!r){r=!0,d();const p=h instanceof Error?h:this.reason;n.abort(p instanceof Mt?p:new Om(p instanceof Error?p.message:p))}};let l=s&&setTimeout(()=>{l=null,i(new Mt(`timeout of ${s}ms exceeded`,Mt.ETIMEDOUT))},s);const d=()=>{t&&(l&&clearTimeout(l),l=null,t.forEach(h=>{h.unsubscribe?h.unsubscribe(i):h.removeEventListener("abort",i)}),t=null)};t.forEach(h=>h.addEventListener("abort",i));const{signal:u}=n;return u.unsubscribe=()=>Te.asap(d),u}},HV=function*(t,s){let a=t.byteLength;if(a<s){yield t;return}let n=0,r;for(;n<a;)r=n+s,yield t.slice(n,r),n=r},qV=async function*(t,s){for await(const a of GV(t))yield*HV(a,s)},GV=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const s=t.getReader();try{for(;;){const{done:a,value:n}=await s.read();if(a)break;yield n}}finally{await s.cancel()}},pk=(t,s,a,n)=>{const r=qV(t,s);let i=0,l,d=u=>{l||(l=!0,n&&n(u))};return new ReadableStream({async pull(u){try{const{done:h,value:p}=await r.next();if(h){d(),u.close();return}let f=p.byteLength;if(a){let y=i+=f;a(y)}u.enqueue(new Uint8Array(p))}catch(h){throw d(h),h}},cancel(u){return d(u),r.return()}},{highWaterMark:2})},gk=64*1024,{isFunction:bp}=Te,WV=(({Request:t,Response:s})=>({Request:t,Response:s}))(Te.global),{ReadableStream:xk,TextEncoder:yk}=Te.global,bk=(t,...s)=>{try{return!!t(...s)}catch{return!1}},YV=t=>{t=Te.merge.call({skipUndefined:!0},WV,t);const{fetch:s,Request:a,Response:n}=t,r=s?bp(s):typeof fetch=="function",i=bp(a),l=bp(n);if(!r)return!1;const d=r&&bp(xk),u=r&&(typeof yk=="function"?(j=>N=>j.encode(N))(new yk):async j=>new Uint8Array(await new a(j).arrayBuffer())),h=i&&d&&bk(()=>{let j=!1;const N=new a(en.origin,{body:new xk,method:"POST",get duplex(){return j=!0,"half"}}).headers.has("Content-Type");return j&&!N}),p=l&&d&&bk(()=>Te.isReadableStream(new n("").body)),f={stream:p&&(j=>j.body)};r&&["text","arrayBuffer","blob","formData","stream"].forEach(j=>{!f[j]&&(f[j]=(N,w)=>{let _=N&&N[j];if(_)return _.call(N);throw new Mt(`Response type '${j}' is not supported`,Mt.ERR_NOT_SUPPORT,w)})});const y=async j=>{if(j==null)return 0;if(Te.isBlob(j))return j.size;if(Te.isSpecCompliantForm(j))return(await new a(en.origin,{method:"POST",body:j}).arrayBuffer()).byteLength;if(Te.isArrayBufferView(j)||Te.isArrayBuffer(j))return j.byteLength;if(Te.isURLSearchParams(j)&&(j=j+""),Te.isString(j))return(await u(j)).byteLength},v=async(j,N)=>{const w=Te.toFiniteNumber(j.getContentLength());return w??y(N)};return async j=>{let{url:N,method:w,data:_,signal:T,cancelToken:R,timeout:E,onDownloadProgress:A,onUploadProgress:V,responseType:k,headers:B,withCredentials:P="same-origin",fetchOptions:H}=PD(j),D=s||fetch;k=k?(k+"").toLowerCase():"text";let K=UV([T,R&&R.toAbortSignal()],E),X=null;const ne=K&&K.unsubscribe&&(()=>{K.unsubscribe()});let te;try{if(V&&h&&w!=="get"&&w!=="head"&&(te=await v(B,_))!==0){let z=new a(N,{method:"POST",body:_,duplex:"half"}),ie;if(Te.isFormData(_)&&(ie=z.headers.get("content-type"))&&B.setContentType(ie),z.body){const[le,re]=hk(te,Eg(mk(V)));_=pk(z.body,gk,le,re)}}Te.isString(P)||(P=P?"include":"omit");const U=i&&"credentials"in a.prototype,q={...H,signal:K,method:w.toUpperCase(),headers:B.normalize().toJSON(),body:_,duplex:"half",credentials:U?P:void 0};X=i&&new a(N,q);let G=await(i?D(X,H):D(N,q));const F=p&&(k==="stream"||k==="response");if(p&&(A||F&&ne)){const z={};["status","statusText","headers"].forEach(fe=>{z[fe]=G[fe]});const ie=Te.toFiniteNumber(G.headers.get("content-length")),[le,re]=A&&hk(ie,Eg(mk(A),!0))||[];G=new n(pk(G.body,gk,le,()=>{re&&re(),ne&&ne()}),z)}k=k||"text";let M=await f[Te.findKey(f,k)||"text"](G,j);return!F&&ne&&ne(),await new Promise((z,ie)=>{RD(z,ie,{data:M,headers:Ln.from(G.headers),status:G.status,statusText:G.statusText,config:j,request:X})})}catch(U){throw ne&&ne(),U&&U.name==="TypeError"&&/Load failed|fetch/i.test(U.message)?Object.assign(new Mt("Network Error",Mt.ERR_NETWORK,j,X,U&&U.response),{cause:U.cause||U}):Mt.from(U,U&&U.code,j,X,U&&U.response)}}},KV=new Map,OD=t=>{let s=t&&t.env||{};const{fetch:a,Request:n,Response:r}=s,i=[n,r,a];let l=i.length,d=l,u,h,p=KV;for(;d--;)u=i[d],h=p.get(u),h===void 0&&p.set(u,h=d?new Map:YV(s)),p=h;return h};OD();const rw={http:hV,xhr:VV,fetch:{get:OD}};Te.forEach(rw,(t,s)=>{if(t){try{Object.defineProperty(t,"name",{value:s})}catch{}Object.defineProperty(t,"adapterName",{value:s})}});const vk=t=>`- ${t}`,XV=t=>Te.isFunction(t)||t===null||t===!1;function QV(t,s){t=Te.isArray(t)?t:[t];const{length:a}=t;let n,r;const i={};for(let l=0;l<a;l++){n=t[l];let d;if(r=n,!XV(n)&&(r=rw[(d=String(n)).toLowerCase()],r===void 0))throw new Mt(`Unknown adapter '${d}'`);if(r&&(Te.isFunction(r)||(r=r.get(s))))break;i[d||"#"+l]=r}if(!r){const l=Object.entries(i).map(([u,h])=>`adapter ${u} `+(h===!1?"is not supported by the environment":"is not available in the build"));let d=a?l.length>1?`since :
`+l.map(vk).join(`
`):" "+vk(l[0]):"as no adapter specified";throw new Mt("There is no suitable adapter to dispatch the request "+d,"ERR_NOT_SUPPORT")}return r}const LD={getAdapter:QV,adapters:rw};function jb(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Om(null,t)}function jk(t){return jb(t),t.headers=Ln.from(t.headers),t.data=vb.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),LD.getAdapter(t.adapter||Pm.adapter,t)(t).then(function(n){return jb(t),n.data=vb.call(t,t.transformResponse,n),n.headers=Ln.from(n.headers),n},function(n){return ED(n)||(jb(t),n&&n.response&&(n.response.data=vb.call(t,t.transformResponse,n.response),n.response.headers=Ln.from(n.response.headers))),Promise.reject(n)})}const BD="1.13.5",gx={};["object","boolean","number","function","string","symbol"].forEach((t,s)=>{gx[t]=function(n){return typeof n===t||"a"+(s<1?"n ":" ")+t}});const wk={};gx.transitional=function(s,a,n){function r(i,l){return"[Axios v"+BD+"] Transitional option '"+i+"'"+l+(n?". "+n:"")}return(i,l,d)=>{if(s===!1)throw new Mt(r(l," has been removed"+(a?" in "+a:"")),Mt.ERR_DEPRECATED);return a&&!wk[l]&&(wk[l]=!0,console.warn(r(l," has been deprecated since v"+a+" and will be removed in the near future"))),s?s(i,l,d):!0}};gx.spelling=function(s){return(a,n)=>(console.warn(`${n} is likely a misspelling of ${s}`),!0)};function ZV(t,s,a){if(typeof t!="object")throw new Mt("options must be an object",Mt.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let r=n.length;for(;r-- >0;){const i=n[r],l=s[i];if(l){const d=t[i],u=d===void 0||l(d,i,t);if(u!==!0)throw new Mt("option "+i+" must be "+u,Mt.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new Mt("Unknown option "+i,Mt.ERR_BAD_OPTION)}}const ag={assertOptions:ZV,validators:gx},vr=ag.validators;let Ac=class{constructor(s){this.defaults=s||{},this.interceptors={request:new dk,response:new dk}}async request(s,a){try{return await this._request(s,a)}catch(n){if(n instanceof Error){let r={};Error.captureStackTrace?Error.captureStackTrace(r):r=new Error;const i=r.stack?r.stack.replace(/^.+\n/,""):"";try{n.stack?i&&!String(n.stack).endsWith(i.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+i):n.stack=i}catch{}}throw n}}_request(s,a){typeof s=="string"?(a=a||{},a.url=s):a=s||{},a=Lc(this.defaults,a);const{transitional:n,paramsSerializer:r,headers:i}=a;n!==void 0&&ag.assertOptions(n,{silentJSONParsing:vr.transitional(vr.boolean),forcedJSONParsing:vr.transitional(vr.boolean),clarifyTimeoutError:vr.transitional(vr.boolean),legacyInterceptorReqResOrdering:vr.transitional(vr.boolean)},!1),r!=null&&(Te.isFunction(r)?a.paramsSerializer={serialize:r}:ag.assertOptions(r,{encode:vr.function,serialize:vr.function},!0)),a.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?a.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:a.allowAbsoluteUrls=!0),ag.assertOptions(a,{baseUrl:vr.spelling("baseURL"),withXsrfToken:vr.spelling("withXSRFToken")},!0),a.method=(a.method||this.defaults.method||"get").toLowerCase();let l=i&&Te.merge(i.common,i[a.method]);i&&Te.forEach(["delete","get","head","post","put","patch","common"],j=>{delete i[j]}),a.headers=Ln.concat(l,i);const d=[];let u=!0;this.interceptors.request.forEach(function(N){if(typeof N.runWhen=="function"&&N.runWhen(a)===!1)return;u=u&&N.synchronous;const w=a.transitional||aw;w&&w.legacyInterceptorReqResOrdering?d.unshift(N.fulfilled,N.rejected):d.push(N.fulfilled,N.rejected)});const h=[];this.interceptors.response.forEach(function(N){h.push(N.fulfilled,N.rejected)});let p,f=0,y;if(!u){const j=[jk.bind(this),void 0];for(j.unshift(...d),j.push(...h),y=j.length,p=Promise.resolve(a);f<y;)p=p.then(j[f++],j[f++]);return p}y=d.length;let v=a;for(;f<y;){const j=d[f++],N=d[f++];try{v=j(v)}catch(w){N.call(this,w);break}}try{p=jk.call(this,v)}catch(j){return Promise.reject(j)}for(f=0,y=h.length;f<y;)p=p.then(h[f++],h[f++]);return p}getUri(s){s=Lc(this.defaults,s);const a=MD(s.baseURL,s.url,s.allowAbsoluteUrls);return TD(a,s.params,s.paramsSerializer)}};Te.forEach(["delete","get","head","options"],function(s){Ac.prototype[s]=function(a,n){return this.request(Lc(n||{},{method:s,url:a,data:(n||{}).data}))}});Te.forEach(["post","put","patch"],function(s){function a(n){return function(i,l,d){return this.request(Lc(d||{},{method:s,headers:n?{"Content-Type":"multipart/form-data"}:{},url:i,data:l}))}}Ac.prototype[s]=a(),Ac.prototype[s+"Form"]=a(!0)});let JV=class FD{constructor(s){if(typeof s!="function")throw new TypeError("executor must be a function.");let a;this.promise=new Promise(function(i){a=i});const n=this;this.promise.then(r=>{if(!n._listeners)return;let i=n._listeners.length;for(;i-- >0;)n._listeners[i](r);n._listeners=null}),this.promise.then=r=>{let i;const l=new Promise(d=>{n.subscribe(d),i=d}).then(r);return l.cancel=function(){n.unsubscribe(i)},l},s(function(i,l,d){n.reason||(n.reason=new Om(i,l,d),a(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(s){if(this.reason){s(this.reason);return}this._listeners?this._listeners.push(s):this._listeners=[s]}unsubscribe(s){if(!this._listeners)return;const a=this._listeners.indexOf(s);a!==-1&&this._listeners.splice(a,1)}toAbortSignal(){const s=new AbortController,a=n=>{s.abort(n)};return this.subscribe(a),s.signal.unsubscribe=()=>this.unsubscribe(a),s.signal}static source(){let s;return{token:new FD(function(r){s=r}),cancel:s}}};function eU(t){return function(a){return t.apply(null,a)}}function tU(t){return Te.isObject(t)&&t.isAxiosError===!0}const zv={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(zv).forEach(([t,s])=>{zv[s]=t});function ID(t){const s=new Ac(t),a=yD(Ac.prototype.request,s);return Te.extend(a,Ac.prototype,s,{allOwnKeys:!0}),Te.extend(a,s,null,{allOwnKeys:!0}),a.create=function(r){return ID(Lc(t,r))},a}const pa=ID(Pm);pa.Axios=Ac;pa.CanceledError=Om;pa.CancelToken=JV;pa.isCancel=ED;pa.VERSION=BD;pa.toFormData=px;pa.AxiosError=Mt;pa.Cancel=pa.CanceledError;pa.all=function(s){return Promise.all(s)};pa.spread=eU;pa.isAxiosError=tU;pa.mergeConfig=Lc;pa.AxiosHeaders=Ln;pa.formToJSON=t=>DD(Te.isHTMLForm(t)?new FormData(t):t);pa.getAdapter=LD.getAdapter;pa.HttpStatusCode=zv;pa.default=pa;const{Axios:bue,AxiosError:vue,CanceledError:jue,isCancel:wue,CancelToken:Nue,VERSION:_ue,all:Cue,Cancel:kue,isAxiosError:Sue,spread:Aue,toFormData:Tue,AxiosHeaders:Due,HttpStatusCode:Eue,formToJSON:Rue,getAdapter:Mue,mergeConfig:Pue}=pa;let Vv="https://rento-lb.com/api/api";Vv=Vv.trim().replace(/\/+$/,"");const xe=pa.create({baseURL:Vv,headers:{Accept:"application/json","Content-Type":"application/json"}});xe.interceptors.request.use(t=>{const s=localStorage.getItem("token")||localStorage.getItem("authToken");return s&&(t.headers.Authorization=`Bearer ${s}`),t},t=>Promise.reject(t));xe.interceptors.response.use(t=>t,t=>(t.response?.status===401&&(localStorage.removeItem("token"),localStorage.removeItem("authToken"),localStorage.removeItem("user")),Promise.reject(t)));const yu=()=>{const[t,s]=x.useState(null),[a,n]=x.useState(!1),[r,i]=x.useState(!0);x.useEffect(()=>{const N=()=>{try{const _=localStorage.getItem("token")||localStorage.getItem("authToken"),T=localStorage.getItem("user");if(_&&T){const R=JSON.parse(T);s(R),n(!0)}else s(null),n(!1)}catch(_){console.error("Error loading user:",_),s(null),n(!1)}finally{i(!1)}};N();const w=_=>{(_.key==="user"||_.key==="token"||_.key==="authToken")&&N()};return window.addEventListener("storage",w),()=>window.removeEventListener("storage",w)},[]);const l=N=>{N?(localStorage.setItem("user",JSON.stringify(N)),s(N),n(!0)):(localStorage.removeItem("user"),s(null),n(!1))},d=()=>{localStorage.removeItem("token"),localStorage.removeItem("authToken"),localStorage.removeItem("user"),s(null),n(!1)},u=t?.role==="client",h=t?.role==="agency"||t?.role==="agent",p=t?.role==="agency",f=t?.role==="agent",y=t?.role==="admin";return{user:t,isAuthenticated:a,loading:r,updateUser:l,logout:d,isClient:u,isAgent:h,isAgency:p,isAgentRole:f,isAdmin:y,hasRole:N=>t?Array.isArray(N)?N.includes(t.role):t.role===N:!1,hasPermission:N=>t?({client:["view_cars","book_cars","view_own_bookings","manage_own_profile","view_favorites"],agency:["view_cars","manage_cars","view_all_bookings","manage_bookings","view_dashboard","view_statistics","manage_own_profile"],agent:["view_cars","manage_cars","view_all_bookings","manage_bookings","view_dashboard","view_statistics","manage_own_profile"]}[t.role]||[]).includes(N):!1}},sU=()=>{const[t,s]=x.useState(!1),[a,n]=x.useState(!0),[r,i]=x.useState(0),[l,d]=x.useState(!1),u=Dr(),h=Ua(),{isAuthenticated:p,isClient:f,isAgent:y,user:v,logout:j}=yu();x.useEffect(()=>{const k=localStorage.getItem("theme"),B=window.matchMedia("(prefers-color-scheme: dark)").matches,P=k==="dark"||!k&&B;n(P),P&&document.documentElement.classList.add("dark")},[]);const N=x.useCallback(async()=>{try{const k=await xe.get("/cars/favorites/list",{params:{page:1,per_page:1}}),B=Number(k.data?.favorites?.total??0);i(Number.isFinite(B)?B:0)}catch(k){console.error("Fav count fetch error:",k),i(0)}},[]);x.useEffect(()=>{if(!p){i(0);return}N();const k=()=>N();return window.addEventListener("favoritesUpdated",k),()=>window.removeEventListener("favoritesUpdated",k)},[p,N,u.pathname]),x.useEffect(()=>{const k=()=>d(window.scrollY>20);return window.addEventListener("scroll",k),()=>window.removeEventListener("scroll",k)},[]);const w=()=>{const k=!a;n(k),k?(document.documentElement.classList.add("dark"),localStorage.setItem("theme","dark")):(document.documentElement.classList.remove("dark"),localStorage.setItem("theme","light"))},_=async()=>{try{await xe.post("/logout")}catch(k){console.error("Logout error:",k)}j(),se.success("Logged out successfully"),h("/"),s(!1)},T=[{to:"/",label:"Home"},{to:"/luxury-car-rental-lebanon",label:"Browse Cars"},{to:"/socialmedia",label:"About"},{to:"/contact",label:"Contact"}],R=f?[{to:"/ClientBookings",label:"My Bookings",icon:Ms}]:[],E=y?[{to:"/Dashboard",label:"Dashboard",icon:ew},{to:"/Mycars",label:"My Cars",icon:Vt},{to:"/Mycars-bookings",label:"Bookings",icon:Ms}]:[],A=[...T],V=k=>u.pathname===k;return e.jsx("nav",{className:`fixed top-0 left-0 right-0 z-50 glass-strong shadow-lg transition-all duration-300 ${l?"backdrop-blur":""}`,children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex items-center justify-between h-16 md:h-12",children:[e.jsxs(Ds,{to:"/",className:"flex items-center space-x-2 group",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-transparent flex items-center justify-center hover-glow",children:e.jsx("img",{src:"/rentologo.png",alt:"Rento Logo",className:"rounded-lg w-10 h-10 object-contain"})}),e.jsx("span",{className:"text-xl md:text-2xl text-primary-foreground font-bold gradient-text hidden sm:block",children:"RENTO LB"})]}),e.jsxs("div",{className:"hidden md:flex text-primary-foreground items-center space-x-1",children:[A.map(k=>e.jsx(Ds,{to:k.to,className:`px-4 py-2 rounded-lg text-sm font-medium transition-all ${V(k.to)?"bg-primary text-primary-foreground":"text-foreground/80 hover:text-foreground hover:bg-muted"}`,children:k.label},k.to)),y&&E.map(k=>e.jsxs(Ds,{to:k.to,className:`px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-1.5 ${V(k.to)?"bg-primary text-primary-foreground":"text-foreground/80 hover:text-foreground hover:bg-muted"}`,children:[k.icon&&e.jsx(k.icon,{className:"w-4 h-4"}),k.label]},k.to)),f&&R.map(k=>e.jsxs(Ds,{to:k.to,className:`px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-1.5 ${V(k.to)?"bg-primary text-primary-foreground":"text-foreground/80 hover:text-foreground hover:bg-muted"}`,children:[k.icon&&e.jsx(k.icon,{className:"w-4 h-4"}),k.label]},k.to))]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[p&&e.jsx(Ds,{to:"/favorites",children:e.jsxs(Q,{variant:"ghost",size:"icon",className:"relative hover-glow","aria-label":"Open favorites",children:[e.jsx(vl,{className:`w-5 h-5 ${r>0?"fill-accent text-accent":""}`,"aria-hidden":"true"}),r>0&&e.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-accent text-accent-foreground text-xs font-bold rounded-full flex items-center justify-center",children:r})]})}),p?e.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-primary/10 text-primary-foreground",children:[e.jsx(Ci,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:v?.username||"User"})]}),e.jsx(Q,{variant:"ghost",size:"icon",onClick:_,className:"hover-glow hover:bg-red-500/10 hover:text-red-500","aria-label":"Logout",children:e.jsx(jl,{className:"w-5 h-5"})})]}):e.jsx(Ds,{to:"/auth",className:"hidden md:block",children:e.jsxs(Q,{variant:"default",size:"sm",className:"hover-glow",children:[e.jsx(sk,{className:"w-4 h-4 mr-2"}),"Login"]})}),e.jsx(Q,{variant:"ghost",size:"icon",onClick:w,className:"hover-glow hidden sm:flex","aria-label":a?"Switch to light mode":"Switch to dark mode",children:a?e.jsx(kg,{className:"w-5 h-5","aria-hidden":"true"}):e.jsx(Cg,{className:"w-5 h-5","aria-hidden":"true"})}),e.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>s(!t),className:"md:hidden","aria-label":t?"Close menu":"Open menu","aria-expanded":t,"aria-controls":"mobile-nav",children:t?e.jsx(ta,{className:"w-6 h-6","aria-hidden":"true"}):e.jsx(hD,{className:"w-6 h-6","aria-hidden":"true"})})]})]}),t&&e.jsxs("div",{id:"mobile-nav",className:"md:hidden pb-4 space-y-2",children:[A.map(k=>e.jsx(Ds,{to:k.to,onClick:()=>s(!1),className:`block px-4 py-3 rounded-lg text-sm font-medium transition-all ${V(k.to)?"bg-primary text-primary-foreground":"text-foreground/80 hover:bg-muted"}`,children:k.label},k.to)),y&&E.map(k=>e.jsxs(Ds,{to:k.to,onClick:()=>s(!1),className:`block px-4 py-3 rounded-lg text-sm font-medium transition-all flex items-center gap-2 ${V(k.to)?"bg-primary text-primary-foreground":"text-foreground/80 hover:bg-muted"}`,children:[k.icon&&e.jsx(k.icon,{className:"w-4 h-4"}),k.label]},k.to)),f&&R.map(k=>e.jsxs(Ds,{to:k.to,onClick:()=>s(!1),className:`block px-4 py-3 rounded-lg text-sm font-medium transition-all flex items-center gap-2 ${V(k.to)?"bg-primary text-primary-foreground":"text-foreground/80 hover:bg-muted"}`,children:[k.icon&&e.jsx(k.icon,{className:"w-4 h-4"}),k.label]},k.to)),p?e.jsx(e.Fragment,{children:e.jsxs("div",{className:"px-4 py-2 border-t border-gray-200 dark:border-gray-700 mt-2 pt-2",children:[e.jsxs("div",{className:"flex items-center gap-2 px-2 py-2 rounded-lg bg-primary/10 text-primary-foreground mb-2",children:[e.jsx(Ci,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:v?.username||"User"})]}),e.jsxs("button",{onClick:_,className:"w-full px-4 py-3 rounded-lg text-sm font-medium text-red-600 dark:text-red-400 hover:bg-red-500/10 text-left flex items-center gap-2",children:[e.jsx(jl,{className:"w-4 h-4"}),"Logout"]})]})}):e.jsxs(Ds,{to:"/auth",onClick:()=>s(!1),className:"block px-4 py-3 rounded-lg text-sm font-medium bg-primary text-primary-foreground hover:opacity-90 transition-all flex items-center gap-2",children:[e.jsx(sk,{className:"w-4 h-4"}),"Login / Register"]}),e.jsxs("button",{onClick:()=>{w(),s(!1)},className:"w-full px-4 py-3 rounded-lg text-sm font-medium text-foreground hover:bg-muted text-left flex items-center justify-between","aria-label":a?"Switch to light mode":"Switch to dark mode",children:[e.jsx("span",{children:a?"Light Mode":"Dark Mode"}),a?e.jsx(kg,{className:"w-5 h-5","aria-hidden":"true"}):e.jsx(Cg,{className:"w-5 h-5","aria-hidden":"true"})]})]})]})})},Na={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640"},$D=()=>{const t=new Date().getFullYear(),s={company:[{label:"About Us",to:"/about"},{label:"Our Fleet",to:"/luxury-car-rental-lebanon"},{label:"Contact",to:"/contact"},{label:"Careers",to:"#"}],support:[{label:"Help Center",to:"#"},{label:"Safety",to:"#"},{label:"Terms of Service",to:"/Terms-and-Conditions"},{label:"Privacy Policy",to:"/Privacy-Policy"}],services:[{label:"Airport Pickup",to:"#"},{label:"Long-term Rental",to:"#"},{label:"Chauffeur Service",to:"#"},{label:"Corporate Plans",to:"#"}]},a=[{icon:rD,href:"https://www.facebook.com/profile.php?id=61585450048575",label:"Facebook",color:Na.darkBlue},{icon:xD,href:"https://x.com/RENTO_lb",label:"Twitter",color:Na.teal},{icon:lD,href:"https://www.instagram.com/rentolebanon/?hl=en",label:"Instagram",color:Na.limeGreen},{icon:dD,href:"https://www.linkedin.com/company/rento-lb/about/",label:"LinkedIn",color:Na.darkBlue}];return x.useEffect(()=>{const n="https://images.dmca.com/Badges/DMCABadgeHelper.min.js";if(document.querySelector(`script[src="${n}"]`))return;const i=document.createElement("script");i.src=n,i.async=!0,document.body.appendChild(i)},[]),e.jsx("footer",{className:"bg-white dark:bg-gray-900 border-t border-gray-200 dark:border-gray-800 mt-12",children:e.jsxs("div",{className:"container mx-auto px-4 py-8 sm:py-10",children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-6 lg:gap-8",children:[e.jsxs("div",{className:"lg:col-span-2 mb-4 sm:mb-0",children:[e.jsxs(Ds,{to:"/",className:"flex items-center space-x-2 mb-4",children:[e.jsx("img",{src:"/rentologo.png",alt:"Rento Logo",className:"rounded-lg w-10 h-10 object-contain"}),e.jsx("span",{className:"text-2xl font-bold bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(135deg, ${Na.darkBlue}, ${Na.teal}, ${Na.limeGreen})`},children:"RENTO LB"})]}),e.jsxs("div",{className:"space-y-2.5 text-sm",children:[e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(vs,{className:"w-4 h-4 mt-0.5 flex-shrink-0",style:{color:Na.teal}}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-snug",children:"124-128 City Road, London, England, EC1V 2NX"})})]}),e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx(vs,{className:"w-4 h-4 mt-0.5 flex-shrink-0",style:{color:Na.teal}}),e.jsx("div",{className:"flex-1",children:e.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-snug",children:"Mount Lebanon, Baouchrieh, Lebanon"})})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Wr,{className:"w-4 h-4 flex-shrink-0",style:{color:Na.darkBlue}}),e.jsx("a",{href:"tel:+96181001301",className:"text-gray-700 dark:text-gray-300 hover:underline",style:{color:Na.darkBlue},children:"+961 (81) 001-301"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(_r,{className:"w-4 h-4 flex-shrink-0",style:{color:Na.limeGreen}}),e.jsx("a",{href:"mailto:social@rento-lb.com",className:"text-gray-700 dark:text-gray-300 hover:underline",style:{color:Na.limeGreen},children:"social@rento-lb.com"})]})]})]}),e.jsxs("div",{className:"mb-4 sm:mb-0",children:[e.jsx("h3",{className:"font-bold mb-3 text-base text-gray-900 dark:text-white",style:{color:Na.darkBlue},children:"Company"}),e.jsx("ul",{className:"space-y-2",children:s.company.map(n=>e.jsx("li",{children:e.jsx(Ds,{to:n.to,className:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:n.label})},n.label))})]}),e.jsxs("div",{className:"mb-4 sm:mb-0",children:[e.jsx("h3",{className:"font-bold mb-3 text-base text-gray-900 dark:text-white",style:{color:Na.teal},children:"Support"}),e.jsx("ul",{className:"space-y-2",children:s.support.map(n=>e.jsx("li",{children:e.jsx(Ds,{to:n.to,className:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:n.label})},n.label))})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold mb-3 text-base text-gray-900 dark:text-white",style:{color:Na.limeGreen},children:"Services"}),e.jsx("ul",{className:"space-y-2",children:s.services.map(n=>e.jsx("li",{children:e.jsx(Ds,{to:n.to,className:"text-sm text-gray-600 dark:text-gray-400 hover:text-gray-900 dark:hover:text-white transition-colors",children:n.label})},n.label))})]})]}),e.jsx("div",{className:"my-8 border-t border-gray-200 dark:border-gray-800"}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-3 text-center sm:text-left",children:"Follow Us"}),e.jsx("div",{className:"flex justify-center sm:justify-start items-center gap-3",children:a.map(n=>e.jsx("a",{href:n.href,target:"_blank",rel:"noopener noreferrer",className:"w-10 h-10 rounded-full flex items-center justify-center transition-all hover:scale-110 shadow-md hover:shadow-lg",style:{background:n.color},"aria-label":n.label,children:e.jsx(n.icon,{className:"w-5 h-5 text-white","aria-hidden":"true"})},n.label))})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h4",{className:"text-sm font-semibold text-gray-900 dark:text-white mb-3 text-center sm:text-left",children:"Trust & Security"}),e.jsxs("div",{className:"flex flex-wrap justify-center sm:justify-start items-center gap-3",children:[e.jsx("a",{href:"https://www.dmca.com/r/em2gpk5",title:"DMCA.com Protection Status",className:"dmca-badge",target:"_blank",rel:"noopener noreferrer",children:e.jsx("img",{src:"https://images.dmca.com/Badges/DMCA_logo-std-btn120w.png?ID=25eee832-1169-46e9-9a63-19f82b7e1b01",alt:"DMCA.com Protection Status",className:"h-8 w-auto"})}),e.jsx("a",{href:"https://www.trustpilot.com/evaluate/rento-lb.com",target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 rounded-lg text-white text-xs font-semibold shadow-md hover:shadow-lg transition-all hover:scale-105",style:{background:Na.teal},children:" Trustpilot Review"}),e.jsx("span",{className:"px-4 py-2 rounded-lg text-white text-xs font-semibold shadow-md",style:{background:Na.limeGreen},children:" Google Verified"}),e.jsx("a",{href:"https://find-and-update.company-information.service.gov.uk/company/16292007",target:"_blank",rel:"noopener noreferrer",className:"px-4 py-2 rounded-lg text-white text-xs font-semibold shadow-md hover:shadow-lg transition-all hover:scale-105",style:{background:Na.darkBlue},children:" UK Registered"})]})]}),e.jsx("div",{className:"pt-6 border-t border-gray-200 dark:border-gray-800",children:e.jsxs("div",{className:"flex flex-col items-center text-center space-y-3",children:[e.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:[" ",t," ",e.jsx("span",{className:"font-semibold",style:{color:Na.teal},children:"RENTO LB"}),". All rights reserved."]}),e.jsxs("div",{className:"flex flex-wrap justify-center items-center gap-4 text-xs text-gray-500 dark:text-gray-500",children:[e.jsx(Ds,{to:"#",className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"Privacy Policy"}),e.jsx("span",{className:"text-gray-300 dark:text-gray-700",children:""}),e.jsx(Ds,{to:"#",className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"Terms of Service"}),e.jsx("span",{className:"text-gray-300 dark:text-gray-700",children:""}),e.jsx(Ds,{to:"#",className:"hover:text-gray-900 dark:hover:text-white transition-colors",children:"Cookie Policy"})]}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:["Made with ",e.jsx("span",{className:"text-red-500",children:""})," in Lebanon & UK"]})]})})]})})},aU=()=>{const t=Dr(),s=Ua(),{user:a,logout:n}=yu(),[r,i]=x.useState(!1),[l,d]=x.useState(!1);x.useEffect(()=>{const f=()=>i(window.scrollY>20);return window.addEventListener("scroll",f),()=>window.removeEventListener("scroll",f)},[]);const u=async()=>{try{await xe.post("/logout")}catch(f){console.error("Logout error:",f)}n(),se.success("Logged out successfully"),s("/")},h=[{to:"/Dashboard",label:"Dashboard",icon:ew},{to:"/Statistic",label:"Statistics",icon:eu},{to:"/Mycars",label:"My Cars",icon:Vt},{to:"/Mycars-bookings",label:"Bookings",icon:Ms},{to:"/Balance",label:"Balance",icon:Tg},{to:"/add-car",label:"Add Car",icon:Gs},{to:"/Add/car/qualification",label:"Qualifications",icon:iD}],p=f=>f==="/Dashboard"?t.pathname==="/Dashboard":t.pathname.startsWith(f);return e.jsx("nav",{className:`fixed top-0 left-0 right-0 z-50 glass-strong shadow-lg transition-all duration-300 ${r?"backdrop-blur":""}`,children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"flex items-center justify-between h-16 md:h-12",children:[e.jsxs(Ds,{to:"/",className:"flex items-center space-x-2 group",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-transparent flex items-center justify-center hover-glow",children:e.jsx("img",{src:"/rentologo.png",alt:"Rento Logo",className:"rounded-lg w-10 h-10 object-contain"})}),e.jsx("span",{className:"text-xl md:text-2xl text-primary-foreground font-bold gradient-text hidden sm:block",children:"RENTO LB"})]}),e.jsx("div",{className:"hidden md:flex text-primary-foreground items-center space-x-1 flex-1 justify-center",children:h.map(f=>e.jsxs(Ds,{to:f.to,className:`px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-1.5 ${p(f.to)?"bg-primary text-primary-foreground":"text-foreground/80 hover:text-foreground hover:bg-muted"}`,children:[f.icon&&e.jsx(f.icon,{className:"w-4 h-4"}),f.label]},f.to))}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(Ds,{to:"/",children:e.jsx(Q,{variant:"ghost",size:"icon",className:"hover-glow","aria-label":"Go to home",children:e.jsx(oD,{className:"w-5 h-5"})})}),e.jsxs("div",{className:"hidden md:flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg bg-primary/10 text-primary-foreground",children:[e.jsx(Ci,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:a?.username||"Agent"})]}),e.jsx(Q,{variant:"ghost",size:"icon",onClick:u,className:"hover-glow hover:bg-red-500/10 hover:text-red-500","aria-label":"Logout",children:e.jsx(jl,{className:"w-5 h-5"})})]}),e.jsx("div",{className:"md:hidden",children:e.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>d(!l),className:"hover-glow","aria-label":"Menu",children:l?e.jsx("svg",{className:"w-6 h-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{d:"M6 18L18 6M6 6l12 12"})}):e.jsx("svg",{className:"w-6 h-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:e.jsx("path",{d:"M4 6h16M4 12h16M4 18h16"})})})})]})]}),l&&e.jsx("div",{className:"md:hidden pb-4 border-t border-border/40 mt-2 pt-4",children:e.jsxs("div",{className:"flex flex-col space-y-2",children:[h.map(f=>e.jsxs(Ds,{to:f.to,onClick:()=>d(!1),className:`px-4 py-2 rounded-lg text-sm font-medium transition-all flex items-center gap-2 ${p(f.to)?"bg-primary text-primary-foreground":"text-foreground/80 hover:text-foreground hover:bg-muted"}`,children:[f.icon&&e.jsx(f.icon,{className:"w-4 h-4"}),f.label]},f.to)),e.jsxs("div",{className:"flex items-center gap-2 px-4 py-2 mt-2",children:[e.jsx(Ci,{className:"w-4 h-4"}),e.jsx("span",{className:"text-sm font-medium",children:a?.username||"Agent"})]}),e.jsxs(Q,{variant:"ghost",onClick:()=>{d(!1),u()},className:"w-full justify-start hover:bg-red-500/10 hover:text-red-500",children:[e.jsx(jl,{className:"w-4 h-4 mr-2"}),"Logout"]})]})})]})})},oc=({children:t,noIndex:s=!1})=>e.jsxs(e.Fragment,{children:[e.jsx(aU,{}),e.jsx("main",{className:"pt-16 md:pt-12 min-h-screen",children:t}),e.jsx($D,{})]}),Nk="rento_device_id",Bh=64;function _k(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,t=>{const s=Math.random()*16|0;return(t==="x"?s:s&3|8).toString(16)})}function zD(){try{let t=typeof localStorage<"u"?localStorage.getItem(Nk):null;return(!t||t.length>Bh)&&(t=_k(),t.length>Bh&&(t=t.slice(0,Bh)),typeof localStorage<"u"&&localStorage.setItem(Nk,t)),t}catch{return _k().slice(0,Bh)}}const VD=async(t,s)=>{const a=typeof t=="string"&&t.trim()?t.trim().startsWith("+")?t.trim():`+${t.trim()}`:"",n=s&&String(s).slice(0,Bh)||zD();return(await xe.post("/auth/send-otp",{phone_number:a,device_id:n})).data},nU=async t=>{const s=t.trim().startsWith("+")?t.trim():`+${t.trim()}`;return(await xe.post("/auth/forgot-password",{phone_number:s})).data},UD=async(t,s)=>{const a=t.replace(/^\+/,"");return(await xe.post("/auth/verify-otp",{phone_number:a,otp_code:s})).data},oe=x.forwardRef(({className:t,type:s,...a},n)=>e.jsx("input",{type:s,className:pt("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:n,...a}));oe.displayName="Input";var rU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],iU=rU.reduce((t,s)=>{const a=Kj(`Primitive.${s}`),n=x.forwardRef((r,i)=>{const{asChild:l,...d}=r,u=l?a:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(u,{...d,ref:i})});return n.displayName=`Primitive.${s}`,{...t,[s]:n}},{}),oU="Label",HD=x.forwardRef((t,s)=>e.jsx(iU.label,{...t,ref:s,onMouseDown:a=>{a.target.closest("button, input, select, textarea")||(t.onMouseDown?.(a),!a.defaultPrevented&&a.detail>1&&a.preventDefault())}}));HD.displayName=oU;var qD=HD;const lU=Xj("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),W=x.forwardRef(({className:t,...s},a)=>e.jsx(qD,{ref:a,className:pt(lU(),t),...s}));W.displayName=qD.displayName;const Ae=x.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:pt("rounded-xl border bg-card text-card-foreground shadow",t),...s}));Ae.displayName="Card";const ns=x.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:pt("flex flex-col space-y-1.5 p-6",t),...s}));ns.displayName="CardHeader";const rs=x.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:pt("font-semibold leading-none tracking-tight",t),...s}));rs.displayName="CardTitle";const im=x.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:pt("text-sm text-muted-foreground",t),...s}));im.displayName="CardDescription";const Ee=x.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:pt("p-6 pt-0",t),...s}));Ee.displayName="CardContent";const cU=x.forwardRef(({className:t,...s},a)=>e.jsx("div",{ref:a,className:pt("flex items-center p-6 pt-0",t),...s}));cU.displayName="CardFooter";function st(t,s,{checkForDefaultPrevented:a=!0}={}){return function(r){if(t?.(r),a===!1||!r.defaultPrevented)return s?.(r)}}function dU(t,s){const a=x.createContext(s),n=i=>{const{children:l,...d}=i,u=x.useMemo(()=>d,Object.values(d));return e.jsx(a.Provider,{value:u,children:l})};n.displayName=t+"Provider";function r(i){const l=x.useContext(a);if(l)return l;if(s!==void 0)return s;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[n,r]}function nr(t,s=[]){let a=[];function n(i,l){const d=x.createContext(l),u=a.length;a=[...a,l];const h=f=>{const{scope:y,children:v,...j}=f,N=y?.[t]?.[u]||d,w=x.useMemo(()=>j,Object.values(j));return e.jsx(N.Provider,{value:w,children:v})};h.displayName=i+"Provider";function p(f,y){const v=y?.[t]?.[u]||d,j=x.useContext(v);if(j)return j;if(l!==void 0)return l;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[h,p]}const r=()=>{const i=a.map(l=>x.createContext(l));return function(d){const u=d?.[t]||i;return x.useMemo(()=>({[`__scope${t}`]:{...d,[t]:u}}),[d,u])}};return r.scopeName=t,[n,uU(r,...s)]}function uU(...t){const s=t[0];if(t.length===1)return s;const a=()=>{const n=t.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const l=n.reduce((d,{useScope:u,scopeName:h})=>{const f=u(i)[`__scope${h}`];return{...d,...f}},{});return x.useMemo(()=>({[`__scope${s.scopeName}`]:l}),[l])}};return a.scopeName=s.scopeName,a}function Ck(t){const s=hU(t),a=x.forwardRef((n,r)=>{const{children:i,...l}=n,d=x.Children.toArray(i),u=d.find(fU);if(u){const h=u.props.children,p=d.map(f=>f===u?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:f);return e.jsx(s,{...l,ref:r,children:x.isValidElement(h)?x.cloneElement(h,void 0,p):null})}return e.jsx(s,{...l,ref:r,children:i})});return a.displayName=`${t}.Slot`,a}function hU(t){const s=x.forwardRef((a,n)=>{const{children:r,...i}=a;if(x.isValidElement(r)){const l=gU(r),d=pU(i,r.props);return r.type!==x.Fragment&&(d.ref=n?vo(n,l):l),x.cloneElement(r,d)}return x.Children.count(r)>1?x.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var mU=Symbol("radix.slottable");function fU(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===mU}function pU(t,s){const a={...s};for(const n in s){const r=t[n],i=s[n];/^on[A-Z]/.test(n)?r&&i?a[n]=(...d)=>{const u=i(...d);return r(...d),u}:r&&(a[n]=r):n==="style"?a[n]={...r,...i}:n==="className"&&(a[n]=[r,i].filter(Boolean).join(" "))}return{...t,...a}}function gU(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}function xx(t){const s=t+"CollectionProvider",[a,n]=nr(s),[r,i]=a(s,{collectionRef:{current:null},itemMap:new Map}),l=N=>{const{scope:w,children:_}=N,T=We.useRef(null),R=We.useRef(new Map).current;return e.jsx(r,{scope:w,itemMap:R,collectionRef:T,children:_})};l.displayName=s;const d=t+"CollectionSlot",u=Ck(d),h=We.forwardRef((N,w)=>{const{scope:_,children:T}=N,R=i(d,_),E=Ht(w,R.collectionRef);return e.jsx(u,{ref:E,children:T})});h.displayName=d;const p=t+"CollectionItemSlot",f="data-radix-collection-item",y=Ck(p),v=We.forwardRef((N,w)=>{const{scope:_,children:T,...R}=N,E=We.useRef(null),A=Ht(w,E),V=i(p,_);return We.useEffect(()=>(V.itemMap.set(E,{ref:E,...R}),()=>void V.itemMap.delete(E))),e.jsx(y,{[f]:"",ref:A,children:T})});v.displayName=p;function j(N){const w=i(t+"CollectionConsumer",N);return We.useCallback(()=>{const T=w.collectionRef.current;if(!T)return[];const R=Array.from(T.querySelectorAll(`[${f}]`));return Array.from(w.itemMap.values()).sort((V,k)=>R.indexOf(V.ref.current)-R.indexOf(k.ref.current))},[w.collectionRef,w.itemMap])}return[{Provider:l,Slot:h,ItemSlot:v},j,n]}var on=globalThis?.document?x.useLayoutEffect:()=>{},xU=zj[" useId ".trim().toString()]||(()=>{}),yU=0;function bi(t){const[s,a]=x.useState(xU());return on(()=>{a(n=>n??String(yU++))},[t]),s?`radix-${s}`:""}function bU(t){const s=vU(t),a=x.forwardRef((n,r)=>{const{children:i,...l}=n,d=x.Children.toArray(i),u=d.find(wU);if(u){const h=u.props.children,p=d.map(f=>f===u?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:f);return e.jsx(s,{...l,ref:r,children:x.isValidElement(h)?x.cloneElement(h,void 0,p):null})}return e.jsx(s,{...l,ref:r,children:i})});return a.displayName=`${t}.Slot`,a}function vU(t){const s=x.forwardRef((a,n)=>{const{children:r,...i}=a;if(x.isValidElement(r)){const l=_U(r),d=NU(i,r.props);return r.type!==x.Fragment&&(d.ref=n?vo(n,l):l),x.cloneElement(r,d)}return x.Children.count(r)>1?x.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var jU=Symbol("radix.slottable");function wU(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===jU}function NU(t,s){const a={...s};for(const n in s){const r=t[n],i=s[n];/^on[A-Z]/.test(n)?r&&i?a[n]=(...d)=>{const u=i(...d);return r(...d),u}:r&&(a[n]=r):n==="style"?a[n]={...r,...i}:n==="className"&&(a[n]=[r,i].filter(Boolean).join(" "))}return{...t,...a}}function _U(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var CU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Tt=CU.reduce((t,s)=>{const a=bU(`Primitive.${s}`),n=x.forwardRef((r,i)=>{const{asChild:l,...d}=r,u=l?a:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(u,{...d,ref:i})});return n.displayName=`Primitive.${s}`,{...t,[s]:n}},{});function GD(t,s){t&&Am.flushSync(()=>t.dispatchEvent(s))}function ki(t){const s=x.useRef(t);return x.useEffect(()=>{s.current=t}),x.useMemo(()=>(...a)=>s.current?.(...a),[])}var kU=zj[" useInsertionEffect ".trim().toString()]||on;function mo({prop:t,defaultProp:s,onChange:a=()=>{},caller:n}){const[r,i,l]=SU({defaultProp:s,onChange:a}),d=t!==void 0,u=d?t:r;{const p=x.useRef(t!==void 0);x.useEffect(()=>{const f=p.current;f!==d&&console.warn(`${n} is changing from ${f?"controlled":"uncontrolled"} to ${d?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),p.current=d},[d,n])}const h=x.useCallback(p=>{if(d){const f=AU(p)?p(t):p;f!==t&&l.current?.(f)}else i(p)},[d,t,i,l]);return[u,h]}function SU({defaultProp:t,onChange:s}){const[a,n]=x.useState(t),r=x.useRef(a),i=x.useRef(s);return kU(()=>{i.current=s},[s]),x.useEffect(()=>{r.current!==a&&(i.current?.(a),r.current=a)},[a,r]),[a,n,i]}function AU(t){return typeof t=="function"}var TU=x.createContext(void 0);function Lm(t){const s=x.useContext(TU);return t||s||"ltr"}var wb="rovingFocusGroup.onEntryFocus",DU={bubbles:!1,cancelable:!0},Bm="RovingFocusGroup",[Uv,WD,EU]=xx(Bm),[RU,yx]=nr(Bm,[EU]),[MU,PU]=RU(Bm),YD=x.forwardRef((t,s)=>e.jsx(Uv.Provider,{scope:t.__scopeRovingFocusGroup,children:e.jsx(Uv.Slot,{scope:t.__scopeRovingFocusGroup,children:e.jsx(OU,{...t,ref:s})})}));YD.displayName=Bm;var OU=x.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:a,orientation:n,loop:r=!1,dir:i,currentTabStopId:l,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:u,onEntryFocus:h,preventScrollOnEntryFocus:p=!1,...f}=t,y=x.useRef(null),v=Ht(s,y),j=Lm(i),[N,w]=mo({prop:l,defaultProp:d??null,onChange:u,caller:Bm}),[_,T]=x.useState(!1),R=ki(h),E=WD(a),A=x.useRef(!1),[V,k]=x.useState(0);return x.useEffect(()=>{const B=y.current;if(B)return B.addEventListener(wb,R),()=>B.removeEventListener(wb,R)},[R]),e.jsx(MU,{scope:a,orientation:n,dir:j,loop:r,currentTabStopId:N,onItemFocus:x.useCallback(B=>w(B),[w]),onItemShiftTab:x.useCallback(()=>T(!0),[]),onFocusableItemAdd:x.useCallback(()=>k(B=>B+1),[]),onFocusableItemRemove:x.useCallback(()=>k(B=>B-1),[]),children:e.jsx(Tt.div,{tabIndex:_||V===0?-1:0,"data-orientation":n,...f,ref:v,style:{outline:"none",...t.style},onMouseDown:st(t.onMouseDown,()=>{A.current=!0}),onFocus:st(t.onFocus,B=>{const P=!A.current;if(B.target===B.currentTarget&&P&&!_){const H=new CustomEvent(wb,DU);if(B.currentTarget.dispatchEvent(H),!H.defaultPrevented){const D=E().filter(U=>U.focusable),K=D.find(U=>U.active),X=D.find(U=>U.id===N),te=[K,X,...D].filter(Boolean).map(U=>U.ref.current);QD(te,p)}}A.current=!1}),onBlur:st(t.onBlur,()=>T(!1))})})}),KD="RovingFocusGroupItem",XD=x.forwardRef((t,s)=>{const{__scopeRovingFocusGroup:a,focusable:n=!0,active:r=!1,tabStopId:i,children:l,...d}=t,u=bi(),h=i||u,p=PU(KD,a),f=p.currentTabStopId===h,y=WD(a),{onFocusableItemAdd:v,onFocusableItemRemove:j,currentTabStopId:N}=p;return x.useEffect(()=>{if(n)return v(),()=>j()},[n,v,j]),e.jsx(Uv.ItemSlot,{scope:a,id:h,focusable:n,active:r,children:e.jsx(Tt.span,{tabIndex:f?0:-1,"data-orientation":p.orientation,...d,ref:s,onMouseDown:st(t.onMouseDown,w=>{n?p.onItemFocus(h):w.preventDefault()}),onFocus:st(t.onFocus,()=>p.onItemFocus(h)),onKeyDown:st(t.onKeyDown,w=>{if(w.key==="Tab"&&w.shiftKey){p.onItemShiftTab();return}if(w.target!==w.currentTarget)return;const _=FU(w,p.orientation,p.dir);if(_!==void 0){if(w.metaKey||w.ctrlKey||w.altKey||w.shiftKey)return;w.preventDefault();let R=y().filter(E=>E.focusable).map(E=>E.ref.current);if(_==="last")R.reverse();else if(_==="prev"||_==="next"){_==="prev"&&R.reverse();const E=R.indexOf(w.currentTarget);R=p.loop?IU(R,E+1):R.slice(E+1)}setTimeout(()=>QD(R))}}),children:typeof l=="function"?l({isCurrentTabStop:f,hasTabStop:N!=null}):l})})});XD.displayName=KD;var LU={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function BU(t,s){return s!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function FU(t,s,a){const n=BU(t.key,a);if(!(s==="vertical"&&["ArrowLeft","ArrowRight"].includes(n))&&!(s==="horizontal"&&["ArrowUp","ArrowDown"].includes(n)))return LU[n]}function QD(t,s=!1){const a=document.activeElement;for(const n of t)if(n===a||(n.focus({preventScroll:s}),document.activeElement!==a))return}function IU(t,s){return t.map((a,n)=>t[(s+n)%t.length])}var ZD=YD,JD=XD;function $U(t,s){return x.useReducer((a,n)=>s[a][n]??a,t)}var Er=t=>{const{present:s,children:a}=t,n=zU(s),r=typeof a=="function"?a({present:n.isPresent}):x.Children.only(a),i=Ht(n.ref,VU(r));return typeof a=="function"||n.isPresent?x.cloneElement(r,{ref:i}):null};Er.displayName="Presence";function zU(t){const[s,a]=x.useState(),n=x.useRef(null),r=x.useRef(t),i=x.useRef("none"),l=t?"mounted":"unmounted",[d,u]=$U(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return x.useEffect(()=>{const h=vp(n.current);i.current=d==="mounted"?h:"none"},[d]),on(()=>{const h=n.current,p=r.current;if(p!==t){const y=i.current,v=vp(h);t?u("MOUNT"):v==="none"||h?.display==="none"?u("UNMOUNT"):u(p&&y!==v?"ANIMATION_OUT":"UNMOUNT"),r.current=t}},[t,u]),on(()=>{if(s){let h;const p=s.ownerDocument.defaultView??window,f=v=>{const N=vp(n.current).includes(CSS.escape(v.animationName));if(v.target===s&&N&&(u("ANIMATION_END"),!r.current)){const w=s.style.animationFillMode;s.style.animationFillMode="forwards",h=p.setTimeout(()=>{s.style.animationFillMode==="forwards"&&(s.style.animationFillMode=w)})}},y=v=>{v.target===s&&(i.current=vp(n.current))};return s.addEventListener("animationstart",y),s.addEventListener("animationcancel",f),s.addEventListener("animationend",f),()=>{p.clearTimeout(h),s.removeEventListener("animationstart",y),s.removeEventListener("animationcancel",f),s.removeEventListener("animationend",f)}}else u("ANIMATION_END")},[s,u]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:x.useCallback(h=>{n.current=h?getComputedStyle(h):null,a(h)},[])}}function vp(t){return t?.animationName||"none"}function VU(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var bx="Tabs",[UU]=nr(bx,[yx]),eE=yx(),[HU,iw]=UU(bx),tE=x.forwardRef((t,s)=>{const{__scopeTabs:a,value:n,onValueChange:r,defaultValue:i,orientation:l="horizontal",dir:d,activationMode:u="automatic",...h}=t,p=Lm(d),[f,y]=mo({prop:n,onChange:r,defaultProp:i??"",caller:bx});return e.jsx(HU,{scope:a,baseId:bi(),value:f,onValueChange:y,orientation:l,dir:p,activationMode:u,children:e.jsx(Tt.div,{dir:p,"data-orientation":l,...h,ref:s})})});tE.displayName=bx;var sE="TabsList",aE=x.forwardRef((t,s)=>{const{__scopeTabs:a,loop:n=!0,...r}=t,i=iw(sE,a),l=eE(a);return e.jsx(ZD,{asChild:!0,...l,orientation:i.orientation,dir:i.dir,loop:n,children:e.jsx(Tt.div,{role:"tablist","aria-orientation":i.orientation,...r,ref:s})})});aE.displayName=sE;var nE="TabsTrigger",rE=x.forwardRef((t,s)=>{const{__scopeTabs:a,value:n,disabled:r=!1,...i}=t,l=iw(nE,a),d=eE(a),u=lE(l.baseId,n),h=cE(l.baseId,n),p=n===l.value;return e.jsx(JD,{asChild:!0,...d,focusable:!r,active:p,children:e.jsx(Tt.button,{type:"button",role:"tab","aria-selected":p,"aria-controls":h,"data-state":p?"active":"inactive","data-disabled":r?"":void 0,disabled:r,id:u,...i,ref:s,onMouseDown:st(t.onMouseDown,f=>{!r&&f.button===0&&f.ctrlKey===!1?l.onValueChange(n):f.preventDefault()}),onKeyDown:st(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&l.onValueChange(n)}),onFocus:st(t.onFocus,()=>{const f=l.activationMode!=="manual";!p&&!r&&f&&l.onValueChange(n)})})})});rE.displayName=nE;var iE="TabsContent",oE=x.forwardRef((t,s)=>{const{__scopeTabs:a,value:n,forceMount:r,children:i,...l}=t,d=iw(iE,a),u=lE(d.baseId,n),h=cE(d.baseId,n),p=n===d.value,f=x.useRef(p);return x.useEffect(()=>{const y=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(y)},[]),e.jsx(Er,{present:r||p,children:({present:y})=>e.jsx(Tt.div,{"data-state":p?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":u,hidden:!y,id:h,tabIndex:0,...l,ref:s,style:{...t.style,animationDuration:f.current?"0s":void 0},children:y&&i})})});oE.displayName=iE;function lE(t,s){return`${t}-trigger-${s}`}function cE(t,s){return`${t}-content-${s}`}var qU=tE,dE=aE,uE=rE,hE=oE;const fo=qU,Si=x.forwardRef(({className:t,...s},a)=>e.jsx(dE,{ref:a,className:pt("inline-flex h-9 items-center justify-center rounded-lg bg-muted p-1 text-muted-foreground",t),...s}));Si.displayName=dE.displayName;const Pt=x.forwardRef(({className:t,...s},a)=>e.jsx(uE,{ref:a,className:pt("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow",t),...s}));Pt.displayName=uE.displayName;const zt=x.forwardRef(({className:t,...s},a)=>e.jsx(hE,{ref:a,className:pt("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...s}));zt.displayName=hE.displayName;function Rg(t,[s,a]){return Math.min(a,Math.max(s,t))}function GU(t,s=globalThis?.document){const a=ki(t);x.useEffect(()=>{const n=r=>{r.key==="Escape"&&a(r)};return s.addEventListener("keydown",n,{capture:!0}),()=>s.removeEventListener("keydown",n,{capture:!0})},[a,s])}var WU="DismissableLayer",Hv="dismissableLayer.update",YU="dismissableLayer.pointerDownOutside",KU="dismissableLayer.focusOutside",kk,mE=x.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Fm=x.forwardRef((t,s)=>{const{disableOutsidePointerEvents:a=!1,onEscapeKeyDown:n,onPointerDownOutside:r,onFocusOutside:i,onInteractOutside:l,onDismiss:d,...u}=t,h=x.useContext(mE),[p,f]=x.useState(null),y=p?.ownerDocument??globalThis?.document,[,v]=x.useState({}),j=Ht(s,k=>f(k)),N=Array.from(h.layers),[w]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),_=N.indexOf(w),T=p?N.indexOf(p):-1,R=h.layersWithOutsidePointerEventsDisabled.size>0,E=T>=_,A=ZU(k=>{const B=k.target,P=[...h.branches].some(H=>H.contains(B));!E||P||(r?.(k),l?.(k),k.defaultPrevented||d?.())},y),V=JU(k=>{const B=k.target;[...h.branches].some(H=>H.contains(B))||(i?.(k),l?.(k),k.defaultPrevented||d?.())},y);return GU(k=>{T===h.layers.size-1&&(n?.(k),!k.defaultPrevented&&d&&(k.preventDefault(),d()))},y),x.useEffect(()=>{if(p)return a&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(kk=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(p)),h.layers.add(p),Sk(),()=>{a&&h.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=kk)}},[p,y,a,h]),x.useEffect(()=>()=>{p&&(h.layers.delete(p),h.layersWithOutsidePointerEventsDisabled.delete(p),Sk())},[p,h]),x.useEffect(()=>{const k=()=>v({});return document.addEventListener(Hv,k),()=>document.removeEventListener(Hv,k)},[]),e.jsx(Tt.div,{...u,ref:j,style:{pointerEvents:R?E?"auto":"none":void 0,...t.style},onFocusCapture:st(t.onFocusCapture,V.onFocusCapture),onBlurCapture:st(t.onBlurCapture,V.onBlurCapture),onPointerDownCapture:st(t.onPointerDownCapture,A.onPointerDownCapture)})});Fm.displayName=WU;var XU="DismissableLayerBranch",QU=x.forwardRef((t,s)=>{const a=x.useContext(mE),n=x.useRef(null),r=Ht(s,n);return x.useEffect(()=>{const i=n.current;if(i)return a.branches.add(i),()=>{a.branches.delete(i)}},[a.branches]),e.jsx(Tt.div,{...t,ref:r})});QU.displayName=XU;function ZU(t,s=globalThis?.document){const a=ki(t),n=x.useRef(!1),r=x.useRef(()=>{});return x.useEffect(()=>{const i=d=>{if(d.target&&!n.current){let u=function(){fE(YU,a,h,{discrete:!0})};const h={originalEvent:d};d.pointerType==="touch"?(s.removeEventListener("click",r.current),r.current=u,s.addEventListener("click",r.current,{once:!0})):u()}else s.removeEventListener("click",r.current);n.current=!1},l=window.setTimeout(()=>{s.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(l),s.removeEventListener("pointerdown",i),s.removeEventListener("click",r.current)}},[s,a]),{onPointerDownCapture:()=>n.current=!0}}function JU(t,s=globalThis?.document){const a=ki(t),n=x.useRef(!1);return x.useEffect(()=>{const r=i=>{i.target&&!n.current&&fE(KU,a,{originalEvent:i},{discrete:!1})};return s.addEventListener("focusin",r),()=>s.removeEventListener("focusin",r)},[s,a]),{onFocusCapture:()=>n.current=!0,onBlurCapture:()=>n.current=!1}}function Sk(){const t=new CustomEvent(Hv);document.dispatchEvent(t)}function fE(t,s,a,{discrete:n}){const r=a.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:a});s&&r.addEventListener(t,s,{once:!0}),n?GD(r,i):r.dispatchEvent(i)}var Nb=0;function ow(){x.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??Ak()),document.body.insertAdjacentElement("beforeend",t[1]??Ak()),Nb++,()=>{Nb===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(s=>s.remove()),Nb--}},[])}function Ak(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var _b="focusScope.autoFocusOnMount",Cb="focusScope.autoFocusOnUnmount",Tk={bubbles:!1,cancelable:!0},eH="FocusScope",vx=x.forwardRef((t,s)=>{const{loop:a=!1,trapped:n=!1,onMountAutoFocus:r,onUnmountAutoFocus:i,...l}=t,[d,u]=x.useState(null),h=ki(r),p=ki(i),f=x.useRef(null),y=Ht(s,N=>u(N)),v=x.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;x.useEffect(()=>{if(n){let N=function(R){if(v.paused||!d)return;const E=R.target;d.contains(E)?f.current=E:cl(f.current,{select:!0})},w=function(R){if(v.paused||!d)return;const E=R.relatedTarget;E!==null&&(d.contains(E)||cl(f.current,{select:!0}))},_=function(R){if(document.activeElement===document.body)for(const A of R)A.removedNodes.length>0&&cl(d)};document.addEventListener("focusin",N),document.addEventListener("focusout",w);const T=new MutationObserver(_);return d&&T.observe(d,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",N),document.removeEventListener("focusout",w),T.disconnect()}}},[n,d,v.paused]),x.useEffect(()=>{if(d){Ek.add(v);const N=document.activeElement;if(!d.contains(N)){const _=new CustomEvent(_b,Tk);d.addEventListener(_b,h),d.dispatchEvent(_),_.defaultPrevented||(tH(iH(pE(d)),{select:!0}),document.activeElement===N&&cl(d))}return()=>{d.removeEventListener(_b,h),setTimeout(()=>{const _=new CustomEvent(Cb,Tk);d.addEventListener(Cb,p),d.dispatchEvent(_),_.defaultPrevented||cl(N??document.body,{select:!0}),d.removeEventListener(Cb,p),Ek.remove(v)},0)}}},[d,h,p,v]);const j=x.useCallback(N=>{if(!a&&!n||v.paused)return;const w=N.key==="Tab"&&!N.altKey&&!N.ctrlKey&&!N.metaKey,_=document.activeElement;if(w&&_){const T=N.currentTarget,[R,E]=sH(T);R&&E?!N.shiftKey&&_===E?(N.preventDefault(),a&&cl(R,{select:!0})):N.shiftKey&&_===R&&(N.preventDefault(),a&&cl(E,{select:!0})):_===T&&N.preventDefault()}},[a,n,v.paused]);return e.jsx(Tt.div,{tabIndex:-1,...l,ref:y,onKeyDown:j})});vx.displayName=eH;function tH(t,{select:s=!1}={}){const a=document.activeElement;for(const n of t)if(cl(n,{select:s}),document.activeElement!==a)return}function sH(t){const s=pE(t),a=Dk(s,t),n=Dk(s.reverse(),t);return[a,n]}function pE(t){const s=[],a=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:n=>{const r=n.tagName==="INPUT"&&n.type==="hidden";return n.disabled||n.hidden||r?NodeFilter.FILTER_SKIP:n.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;a.nextNode();)s.push(a.currentNode);return s}function Dk(t,s){for(const a of t)if(!aH(a,{upTo:s}))return a}function aH(t,{upTo:s}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(s!==void 0&&t===s)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function nH(t){return t instanceof HTMLInputElement&&"select"in t}function cl(t,{select:s=!1}={}){if(t&&t.focus){const a=document.activeElement;t.focus({preventScroll:!0}),t!==a&&nH(t)&&s&&t.select()}}var Ek=rH();function rH(){let t=[];return{add(s){const a=t[0];s!==a&&a?.pause(),t=Rk(t,s),t.unshift(s)},remove(s){t=Rk(t,s),t[0]?.resume()}}}function Rk(t,s){const a=[...t],n=a.indexOf(s);return n!==-1&&a.splice(n,1),a}function iH(t){return t.filter(s=>s.tagName!=="A")}const oH=["top","right","bottom","left"],Nl=Math.min,Jn=Math.max,Mg=Math.round,jp=Math.floor,vi=t=>({x:t,y:t}),lH={left:"right",right:"left",bottom:"top",top:"bottom"},cH={start:"end",end:"start"};function qv(t,s,a){return Jn(t,Nl(s,a))}function po(t,s){return typeof t=="function"?t(s):t}function go(t){return t.split("-")[0]}function bu(t){return t.split("-")[1]}function lw(t){return t==="x"?"y":"x"}function cw(t){return t==="y"?"height":"width"}const dH=new Set(["top","bottom"]);function xi(t){return dH.has(go(t))?"y":"x"}function dw(t){return lw(xi(t))}function uH(t,s,a){a===void 0&&(a=!1);const n=bu(t),r=dw(t),i=cw(r);let l=r==="x"?n===(a?"end":"start")?"right":"left":n==="start"?"bottom":"top";return s.reference[i]>s.floating[i]&&(l=Pg(l)),[l,Pg(l)]}function hH(t){const s=Pg(t);return[Gv(t),s,Gv(s)]}function Gv(t){return t.replace(/start|end/g,s=>cH[s])}const Mk=["left","right"],Pk=["right","left"],mH=["top","bottom"],fH=["bottom","top"];function pH(t,s,a){switch(t){case"top":case"bottom":return a?s?Pk:Mk:s?Mk:Pk;case"left":case"right":return s?mH:fH;default:return[]}}function gH(t,s,a,n){const r=bu(t);let i=pH(go(t),a==="start",n);return r&&(i=i.map(l=>l+"-"+r),s&&(i=i.concat(i.map(Gv)))),i}function Pg(t){return t.replace(/left|right|bottom|top/g,s=>lH[s])}function xH(t){return{top:0,right:0,bottom:0,left:0,...t}}function gE(t){return typeof t!="number"?xH(t):{top:t,right:t,bottom:t,left:t}}function Og(t){const{x:s,y:a,width:n,height:r}=t;return{width:n,height:r,top:a,left:s,right:s+n,bottom:a+r,x:s,y:a}}function Ok(t,s,a){let{reference:n,floating:r}=t;const i=xi(s),l=dw(s),d=cw(l),u=go(s),h=i==="y",p=n.x+n.width/2-r.width/2,f=n.y+n.height/2-r.height/2,y=n[d]/2-r[d]/2;let v;switch(u){case"top":v={x:p,y:n.y-r.height};break;case"bottom":v={x:p,y:n.y+n.height};break;case"right":v={x:n.x+n.width,y:f};break;case"left":v={x:n.x-r.width,y:f};break;default:v={x:n.x,y:n.y}}switch(bu(s)){case"start":v[l]-=y*(a&&h?-1:1);break;case"end":v[l]+=y*(a&&h?-1:1);break}return v}const yH=async(t,s,a)=>{const{placement:n="bottom",strategy:r="absolute",middleware:i=[],platform:l}=a,d=i.filter(Boolean),u=await(l.isRTL==null?void 0:l.isRTL(s));let h=await l.getElementRects({reference:t,floating:s,strategy:r}),{x:p,y:f}=Ok(h,n,u),y=n,v={},j=0;for(let N=0;N<d.length;N++){const{name:w,fn:_}=d[N],{x:T,y:R,data:E,reset:A}=await _({x:p,y:f,initialPlacement:n,placement:y,strategy:r,middlewareData:v,rects:h,platform:l,elements:{reference:t,floating:s}});p=T??p,f=R??f,v={...v,[w]:{...v[w],...E}},A&&j<=50&&(j++,typeof A=="object"&&(A.placement&&(y=A.placement),A.rects&&(h=A.rects===!0?await l.getElementRects({reference:t,floating:s,strategy:r}):A.rects),{x:p,y:f}=Ok(h,y,u)),N=-1)}return{x:p,y:f,placement:y,strategy:r,middlewareData:v}};async function om(t,s){var a;s===void 0&&(s={});const{x:n,y:r,platform:i,rects:l,elements:d,strategy:u}=t,{boundary:h="clippingAncestors",rootBoundary:p="viewport",elementContext:f="floating",altBoundary:y=!1,padding:v=0}=po(s,t),j=gE(v),w=d[y?f==="floating"?"reference":"floating":f],_=Og(await i.getClippingRect({element:(a=await(i.isElement==null?void 0:i.isElement(w)))==null||a?w:w.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(d.floating)),boundary:h,rootBoundary:p,strategy:u})),T=f==="floating"?{x:n,y:r,width:l.floating.width,height:l.floating.height}:l.reference,R=await(i.getOffsetParent==null?void 0:i.getOffsetParent(d.floating)),E=await(i.isElement==null?void 0:i.isElement(R))?await(i.getScale==null?void 0:i.getScale(R))||{x:1,y:1}:{x:1,y:1},A=Og(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:d,rect:T,offsetParent:R,strategy:u}):T);return{top:(_.top-A.top+j.top)/E.y,bottom:(A.bottom-_.bottom+j.bottom)/E.y,left:(_.left-A.left+j.left)/E.x,right:(A.right-_.right+j.right)/E.x}}const bH=t=>({name:"arrow",options:t,async fn(s){const{x:a,y:n,placement:r,rects:i,platform:l,elements:d,middlewareData:u}=s,{element:h,padding:p=0}=po(t,s)||{};if(h==null)return{};const f=gE(p),y={x:a,y:n},v=dw(r),j=cw(v),N=await l.getDimensions(h),w=v==="y",_=w?"top":"left",T=w?"bottom":"right",R=w?"clientHeight":"clientWidth",E=i.reference[j]+i.reference[v]-y[v]-i.floating[j],A=y[v]-i.reference[v],V=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let k=V?V[R]:0;(!k||!await(l.isElement==null?void 0:l.isElement(V)))&&(k=d.floating[R]||i.floating[j]);const B=E/2-A/2,P=k/2-N[j]/2-1,H=Nl(f[_],P),D=Nl(f[T],P),K=H,X=k-N[j]-D,ne=k/2-N[j]/2+B,te=qv(K,ne,X),U=!u.arrow&&bu(r)!=null&&ne!==te&&i.reference[j]/2-(ne<K?H:D)-N[j]/2<0,q=U?ne<K?ne-K:ne-X:0;return{[v]:y[v]+q,data:{[v]:te,centerOffset:ne-te-q,...U&&{alignmentOffset:q}},reset:U}}}),vH=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(s){var a,n;const{placement:r,middlewareData:i,rects:l,initialPlacement:d,platform:u,elements:h}=s,{mainAxis:p=!0,crossAxis:f=!0,fallbackPlacements:y,fallbackStrategy:v="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:N=!0,...w}=po(t,s);if((a=i.arrow)!=null&&a.alignmentOffset)return{};const _=go(r),T=xi(d),R=go(d)===d,E=await(u.isRTL==null?void 0:u.isRTL(h.floating)),A=y||(R||!N?[Pg(d)]:hH(d)),V=j!=="none";!y&&V&&A.push(...gH(d,N,j,E));const k=[d,...A],B=await om(s,w),P=[];let H=((n=i.flip)==null?void 0:n.overflows)||[];if(p&&P.push(B[_]),f){const ne=uH(r,l,E);P.push(B[ne[0]],B[ne[1]])}if(H=[...H,{placement:r,overflows:P}],!P.every(ne=>ne<=0)){var D,K;const ne=(((D=i.flip)==null?void 0:D.index)||0)+1,te=k[ne];if(te&&(!(f==="alignment"?T!==xi(te):!1)||H.every(G=>xi(G.placement)===T?G.overflows[0]>0:!0)))return{data:{index:ne,overflows:H},reset:{placement:te}};let U=(K=H.filter(q=>q.overflows[0]<=0).sort((q,G)=>q.overflows[1]-G.overflows[1])[0])==null?void 0:K.placement;if(!U)switch(v){case"bestFit":{var X;const q=(X=H.filter(G=>{if(V){const F=xi(G.placement);return F===T||F==="y"}return!0}).map(G=>[G.placement,G.overflows.filter(F=>F>0).reduce((F,M)=>F+M,0)]).sort((G,F)=>G[1]-F[1])[0])==null?void 0:X[0];q&&(U=q);break}case"initialPlacement":U=d;break}if(r!==U)return{reset:{placement:U}}}return{}}}};function Lk(t,s){return{top:t.top-s.height,right:t.right-s.width,bottom:t.bottom-s.height,left:t.left-s.width}}function Bk(t){return oH.some(s=>t[s]>=0)}const jH=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(s){const{rects:a}=s,{strategy:n="referenceHidden",...r}=po(t,s);switch(n){case"referenceHidden":{const i=await om(s,{...r,elementContext:"reference"}),l=Lk(i,a.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:Bk(l)}}}case"escaped":{const i=await om(s,{...r,altBoundary:!0}),l=Lk(i,a.floating);return{data:{escapedOffsets:l,escaped:Bk(l)}}}default:return{}}}}},xE=new Set(["left","top"]);async function wH(t,s){const{placement:a,platform:n,elements:r}=t,i=await(n.isRTL==null?void 0:n.isRTL(r.floating)),l=go(a),d=bu(a),u=xi(a)==="y",h=xE.has(l)?-1:1,p=i&&u?-1:1,f=po(s,t);let{mainAxis:y,crossAxis:v,alignmentAxis:j}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return d&&typeof j=="number"&&(v=d==="end"?j*-1:j),u?{x:v*p,y:y*h}:{x:y*h,y:v*p}}const NH=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(s){var a,n;const{x:r,y:i,placement:l,middlewareData:d}=s,u=await wH(s,t);return l===((a=d.offset)==null?void 0:a.placement)&&(n=d.arrow)!=null&&n.alignmentOffset?{}:{x:r+u.x,y:i+u.y,data:{...u,placement:l}}}}},_H=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(s){const{x:a,y:n,placement:r}=s,{mainAxis:i=!0,crossAxis:l=!1,limiter:d={fn:w=>{let{x:_,y:T}=w;return{x:_,y:T}}},...u}=po(t,s),h={x:a,y:n},p=await om(s,u),f=xi(go(r)),y=lw(f);let v=h[y],j=h[f];if(i){const w=y==="y"?"top":"left",_=y==="y"?"bottom":"right",T=v+p[w],R=v-p[_];v=qv(T,v,R)}if(l){const w=f==="y"?"top":"left",_=f==="y"?"bottom":"right",T=j+p[w],R=j-p[_];j=qv(T,j,R)}const N=d.fn({...s,[y]:v,[f]:j});return{...N,data:{x:N.x-a,y:N.y-n,enabled:{[y]:i,[f]:l}}}}}},CH=function(t){return t===void 0&&(t={}),{options:t,fn(s){const{x:a,y:n,placement:r,rects:i,middlewareData:l}=s,{offset:d=0,mainAxis:u=!0,crossAxis:h=!0}=po(t,s),p={x:a,y:n},f=xi(r),y=lw(f);let v=p[y],j=p[f];const N=po(d,s),w=typeof N=="number"?{mainAxis:N,crossAxis:0}:{mainAxis:0,crossAxis:0,...N};if(u){const R=y==="y"?"height":"width",E=i.reference[y]-i.floating[R]+w.mainAxis,A=i.reference[y]+i.reference[R]-w.mainAxis;v<E?v=E:v>A&&(v=A)}if(h){var _,T;const R=y==="y"?"width":"height",E=xE.has(go(r)),A=i.reference[f]-i.floating[R]+(E&&((_=l.offset)==null?void 0:_[f])||0)+(E?0:w.crossAxis),V=i.reference[f]+i.reference[R]+(E?0:((T=l.offset)==null?void 0:T[f])||0)-(E?w.crossAxis:0);j<A?j=A:j>V&&(j=V)}return{[y]:v,[f]:j}}}},kH=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(s){var a,n;const{placement:r,rects:i,platform:l,elements:d}=s,{apply:u=()=>{},...h}=po(t,s),p=await om(s,h),f=go(r),y=bu(r),v=xi(r)==="y",{width:j,height:N}=i.floating;let w,_;f==="top"||f==="bottom"?(w=f,_=y===(await(l.isRTL==null?void 0:l.isRTL(d.floating))?"start":"end")?"left":"right"):(_=f,w=y==="end"?"top":"bottom");const T=N-p.top-p.bottom,R=j-p.left-p.right,E=Nl(N-p[w],T),A=Nl(j-p[_],R),V=!s.middlewareData.shift;let k=E,B=A;if((a=s.middlewareData.shift)!=null&&a.enabled.x&&(B=R),(n=s.middlewareData.shift)!=null&&n.enabled.y&&(k=T),V&&!y){const H=Jn(p.left,0),D=Jn(p.right,0),K=Jn(p.top,0),X=Jn(p.bottom,0);v?B=j-2*(H!==0||D!==0?H+D:Jn(p.left,p.right)):k=N-2*(K!==0||X!==0?K+X:Jn(p.top,p.bottom))}await u({...s,availableWidth:B,availableHeight:k});const P=await l.getDimensions(d.floating);return j!==P.width||N!==P.height?{reset:{rects:!0}}:{}}}};function jx(){return typeof window<"u"}function vu(t){return yE(t)?(t.nodeName||"").toLowerCase():"#document"}function tr(t){var s;return(t==null||(s=t.ownerDocument)==null?void 0:s.defaultView)||window}function Ti(t){var s;return(s=(yE(t)?t.ownerDocument:t.document)||window.document)==null?void 0:s.documentElement}function yE(t){return jx()?t instanceof Node||t instanceof tr(t).Node:!1}function Yr(t){return jx()?t instanceof Element||t instanceof tr(t).Element:!1}function Ai(t){return jx()?t instanceof HTMLElement||t instanceof tr(t).HTMLElement:!1}function Fk(t){return!jx()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof tr(t).ShadowRoot}const SH=new Set(["inline","contents"]);function Im(t){const{overflow:s,overflowX:a,overflowY:n,display:r}=Kr(t);return/auto|scroll|overlay|hidden|clip/.test(s+n+a)&&!SH.has(r)}const AH=new Set(["table","td","th"]);function TH(t){return AH.has(vu(t))}const DH=[":popover-open",":modal"];function wx(t){return DH.some(s=>{try{return t.matches(s)}catch{return!1}})}const EH=["transform","translate","scale","rotate","perspective"],RH=["transform","translate","scale","rotate","perspective","filter"],MH=["paint","layout","strict","content"];function uw(t){const s=hw(),a=Yr(t)?Kr(t):t;return EH.some(n=>a[n]?a[n]!=="none":!1)||(a.containerType?a.containerType!=="normal":!1)||!s&&(a.backdropFilter?a.backdropFilter!=="none":!1)||!s&&(a.filter?a.filter!=="none":!1)||RH.some(n=>(a.willChange||"").includes(n))||MH.some(n=>(a.contain||"").includes(n))}function PH(t){let s=_l(t);for(;Ai(s)&&!au(s);){if(uw(s))return s;if(wx(s))return null;s=_l(s)}return null}function hw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const OH=new Set(["html","body","#document"]);function au(t){return OH.has(vu(t))}function Kr(t){return tr(t).getComputedStyle(t)}function Nx(t){return Yr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function _l(t){if(vu(t)==="html")return t;const s=t.assignedSlot||t.parentNode||Fk(t)&&t.host||Ti(t);return Fk(s)?s.host:s}function bE(t){const s=_l(t);return au(s)?t.ownerDocument?t.ownerDocument.body:t.body:Ai(s)&&Im(s)?s:bE(s)}function lm(t,s,a){var n;s===void 0&&(s=[]),a===void 0&&(a=!0);const r=bE(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),l=tr(r);if(i){const d=Wv(l);return s.concat(l,l.visualViewport||[],Im(r)?r:[],d&&a?lm(d):[])}return s.concat(r,lm(r,[],a))}function Wv(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function vE(t){const s=Kr(t);let a=parseFloat(s.width)||0,n=parseFloat(s.height)||0;const r=Ai(t),i=r?t.offsetWidth:a,l=r?t.offsetHeight:n,d=Mg(a)!==i||Mg(n)!==l;return d&&(a=i,n=l),{width:a,height:n,$:d}}function mw(t){return Yr(t)?t:t.contextElement}function Kd(t){const s=mw(t);if(!Ai(s))return vi(1);const a=s.getBoundingClientRect(),{width:n,height:r,$:i}=vE(s);let l=(i?Mg(a.width):a.width)/n,d=(i?Mg(a.height):a.height)/r;return(!l||!Number.isFinite(l))&&(l=1),(!d||!Number.isFinite(d))&&(d=1),{x:l,y:d}}const LH=vi(0);function jE(t){const s=tr(t);return!hw()||!s.visualViewport?LH:{x:s.visualViewport.offsetLeft,y:s.visualViewport.offsetTop}}function BH(t,s,a){return s===void 0&&(s=!1),!a||s&&a!==tr(t)?!1:s}function Bc(t,s,a,n){s===void 0&&(s=!1),a===void 0&&(a=!1);const r=t.getBoundingClientRect(),i=mw(t);let l=vi(1);s&&(n?Yr(n)&&(l=Kd(n)):l=Kd(t));const d=BH(i,a,n)?jE(i):vi(0);let u=(r.left+d.x)/l.x,h=(r.top+d.y)/l.y,p=r.width/l.x,f=r.height/l.y;if(i){const y=tr(i),v=n&&Yr(n)?tr(n):n;let j=y,N=Wv(j);for(;N&&n&&v!==j;){const w=Kd(N),_=N.getBoundingClientRect(),T=Kr(N),R=_.left+(N.clientLeft+parseFloat(T.paddingLeft))*w.x,E=_.top+(N.clientTop+parseFloat(T.paddingTop))*w.y;u*=w.x,h*=w.y,p*=w.x,f*=w.y,u+=R,h+=E,j=tr(N),N=Wv(j)}}return Og({width:p,height:f,x:u,y:h})}function _x(t,s){const a=Nx(t).scrollLeft;return s?s.left+a:Bc(Ti(t)).left+a}function wE(t,s){const a=t.getBoundingClientRect(),n=a.left+s.scrollLeft-_x(t,a),r=a.top+s.scrollTop;return{x:n,y:r}}function FH(t){let{elements:s,rect:a,offsetParent:n,strategy:r}=t;const i=r==="fixed",l=Ti(n),d=s?wx(s.floating):!1;if(n===l||d&&i)return a;let u={scrollLeft:0,scrollTop:0},h=vi(1);const p=vi(0),f=Ai(n);if((f||!f&&!i)&&((vu(n)!=="body"||Im(l))&&(u=Nx(n)),Ai(n))){const v=Bc(n);h=Kd(n),p.x=v.x+n.clientLeft,p.y=v.y+n.clientTop}const y=l&&!f&&!i?wE(l,u):vi(0);return{width:a.width*h.x,height:a.height*h.y,x:a.x*h.x-u.scrollLeft*h.x+p.x+y.x,y:a.y*h.y-u.scrollTop*h.y+p.y+y.y}}function IH(t){return Array.from(t.getClientRects())}function $H(t){const s=Ti(t),a=Nx(t),n=t.ownerDocument.body,r=Jn(s.scrollWidth,s.clientWidth,n.scrollWidth,n.clientWidth),i=Jn(s.scrollHeight,s.clientHeight,n.scrollHeight,n.clientHeight);let l=-a.scrollLeft+_x(t);const d=-a.scrollTop;return Kr(n).direction==="rtl"&&(l+=Jn(s.clientWidth,n.clientWidth)-r),{width:r,height:i,x:l,y:d}}const Ik=25;function zH(t,s){const a=tr(t),n=Ti(t),r=a.visualViewport;let i=n.clientWidth,l=n.clientHeight,d=0,u=0;if(r){i=r.width,l=r.height;const p=hw();(!p||p&&s==="fixed")&&(d=r.offsetLeft,u=r.offsetTop)}const h=_x(n);if(h<=0){const p=n.ownerDocument,f=p.body,y=getComputedStyle(f),v=p.compatMode==="CSS1Compat"&&parseFloat(y.marginLeft)+parseFloat(y.marginRight)||0,j=Math.abs(n.clientWidth-f.clientWidth-v);j<=Ik&&(i-=j)}else h<=Ik&&(i+=h);return{width:i,height:l,x:d,y:u}}const VH=new Set(["absolute","fixed"]);function UH(t,s){const a=Bc(t,!0,s==="fixed"),n=a.top+t.clientTop,r=a.left+t.clientLeft,i=Ai(t)?Kd(t):vi(1),l=t.clientWidth*i.x,d=t.clientHeight*i.y,u=r*i.x,h=n*i.y;return{width:l,height:d,x:u,y:h}}function $k(t,s,a){let n;if(s==="viewport")n=zH(t,a);else if(s==="document")n=$H(Ti(t));else if(Yr(s))n=UH(s,a);else{const r=jE(t);n={x:s.x-r.x,y:s.y-r.y,width:s.width,height:s.height}}return Og(n)}function NE(t,s){const a=_l(t);return a===s||!Yr(a)||au(a)?!1:Kr(a).position==="fixed"||NE(a,s)}function HH(t,s){const a=s.get(t);if(a)return a;let n=lm(t,[],!1).filter(d=>Yr(d)&&vu(d)!=="body"),r=null;const i=Kr(t).position==="fixed";let l=i?_l(t):t;for(;Yr(l)&&!au(l);){const d=Kr(l),u=uw(l);!u&&d.position==="fixed"&&(r=null),(i?!u&&!r:!u&&d.position==="static"&&!!r&&VH.has(r.position)||Im(l)&&!u&&NE(t,l))?n=n.filter(p=>p!==l):r=d,l=_l(l)}return s.set(t,n),n}function qH(t){let{element:s,boundary:a,rootBoundary:n,strategy:r}=t;const l=[...a==="clippingAncestors"?wx(s)?[]:HH(s,this._c):[].concat(a),n],d=l[0],u=l.reduce((h,p)=>{const f=$k(s,p,r);return h.top=Jn(f.top,h.top),h.right=Nl(f.right,h.right),h.bottom=Nl(f.bottom,h.bottom),h.left=Jn(f.left,h.left),h},$k(s,d,r));return{width:u.right-u.left,height:u.bottom-u.top,x:u.left,y:u.top}}function GH(t){const{width:s,height:a}=vE(t);return{width:s,height:a}}function WH(t,s,a){const n=Ai(s),r=Ti(s),i=a==="fixed",l=Bc(t,!0,i,s);let d={scrollLeft:0,scrollTop:0};const u=vi(0);function h(){u.x=_x(r)}if(n||!n&&!i)if((vu(s)!=="body"||Im(r))&&(d=Nx(s)),n){const v=Bc(s,!0,i,s);u.x=v.x+s.clientLeft,u.y=v.y+s.clientTop}else r&&h();i&&!n&&r&&h();const p=r&&!n&&!i?wE(r,d):vi(0),f=l.left+d.scrollLeft-u.x-p.x,y=l.top+d.scrollTop-u.y-p.y;return{x:f,y,width:l.width,height:l.height}}function kb(t){return Kr(t).position==="static"}function zk(t,s){if(!Ai(t)||Kr(t).position==="fixed")return null;if(s)return s(t);let a=t.offsetParent;return Ti(t)===a&&(a=a.ownerDocument.body),a}function _E(t,s){const a=tr(t);if(wx(t))return a;if(!Ai(t)){let r=_l(t);for(;r&&!au(r);){if(Yr(r)&&!kb(r))return r;r=_l(r)}return a}let n=zk(t,s);for(;n&&TH(n)&&kb(n);)n=zk(n,s);return n&&au(n)&&kb(n)&&!uw(n)?a:n||PH(t)||a}const YH=async function(t){const s=this.getOffsetParent||_E,a=this.getDimensions,n=await a(t.floating);return{reference:WH(t.reference,await s(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function KH(t){return Kr(t).direction==="rtl"}const XH={convertOffsetParentRelativeRectToViewportRelativeRect:FH,getDocumentElement:Ti,getClippingRect:qH,getOffsetParent:_E,getElementRects:YH,getClientRects:IH,getDimensions:GH,getScale:Kd,isElement:Yr,isRTL:KH};function CE(t,s){return t.x===s.x&&t.y===s.y&&t.width===s.width&&t.height===s.height}function QH(t,s){let a=null,n;const r=Ti(t);function i(){var d;clearTimeout(n),(d=a)==null||d.disconnect(),a=null}function l(d,u){d===void 0&&(d=!1),u===void 0&&(u=1),i();const h=t.getBoundingClientRect(),{left:p,top:f,width:y,height:v}=h;if(d||s(),!y||!v)return;const j=jp(f),N=jp(r.clientWidth-(p+y)),w=jp(r.clientHeight-(f+v)),_=jp(p),R={rootMargin:-j+"px "+-N+"px "+-w+"px "+-_+"px",threshold:Jn(0,Nl(1,u))||1};let E=!0;function A(V){const k=V[0].intersectionRatio;if(k!==u){if(!E)return l();k?l(!1,k):n=setTimeout(()=>{l(!1,1e-7)},1e3)}k===1&&!CE(h,t.getBoundingClientRect())&&l(),E=!1}try{a=new IntersectionObserver(A,{...R,root:r.ownerDocument})}catch{a=new IntersectionObserver(A,R)}a.observe(t)}return l(!0),i}function ZH(t,s,a,n){n===void 0&&(n={});const{ancestorScroll:r=!0,ancestorResize:i=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:d=typeof IntersectionObserver=="function",animationFrame:u=!1}=n,h=mw(t),p=r||i?[...h?lm(h):[],...lm(s)]:[];p.forEach(_=>{r&&_.addEventListener("scroll",a,{passive:!0}),i&&_.addEventListener("resize",a)});const f=h&&d?QH(h,a):null;let y=-1,v=null;l&&(v=new ResizeObserver(_=>{let[T]=_;T&&T.target===h&&v&&(v.unobserve(s),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var R;(R=v)==null||R.observe(s)})),a()}),h&&!u&&v.observe(h),v.observe(s));let j,N=u?Bc(t):null;u&&w();function w(){const _=Bc(t);N&&!CE(N,_)&&a(),N=_,j=requestAnimationFrame(w)}return a(),()=>{var _;p.forEach(T=>{r&&T.removeEventListener("scroll",a),i&&T.removeEventListener("resize",a)}),f?.(),(_=v)==null||_.disconnect(),v=null,u&&cancelAnimationFrame(j)}}const JH=NH,eq=_H,tq=vH,sq=kH,aq=jH,Vk=bH,nq=CH,rq=(t,s,a)=>{const n=new Map,r={platform:XH,...a},i={...r.platform,_c:n};return yH(t,s,{...r,platform:i})};var iq=typeof document<"u",oq=function(){},ng=iq?x.useLayoutEffect:oq;function Lg(t,s){if(t===s)return!0;if(typeof t!=typeof s)return!1;if(typeof t=="function"&&t.toString()===s.toString())return!0;let a,n,r;if(t&&s&&typeof t=="object"){if(Array.isArray(t)){if(a=t.length,a!==s.length)return!1;for(n=a;n--!==0;)if(!Lg(t[n],s[n]))return!1;return!0}if(r=Object.keys(t),a=r.length,a!==Object.keys(s).length)return!1;for(n=a;n--!==0;)if(!{}.hasOwnProperty.call(s,r[n]))return!1;for(n=a;n--!==0;){const i=r[n];if(!(i==="_owner"&&t.$$typeof)&&!Lg(t[i],s[i]))return!1}return!0}return t!==t&&s!==s}function kE(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function Uk(t,s){const a=kE(t);return Math.round(s*a)/a}function Sb(t){const s=x.useRef(t);return ng(()=>{s.current=t}),s}function lq(t){t===void 0&&(t={});const{placement:s="bottom",strategy:a="absolute",middleware:n=[],platform:r,elements:{reference:i,floating:l}={},transform:d=!0,whileElementsMounted:u,open:h}=t,[p,f]=x.useState({x:0,y:0,strategy:a,placement:s,middlewareData:{},isPositioned:!1}),[y,v]=x.useState(n);Lg(y,n)||v(n);const[j,N]=x.useState(null),[w,_]=x.useState(null),T=x.useCallback(G=>{G!==V.current&&(V.current=G,N(G))},[]),R=x.useCallback(G=>{G!==k.current&&(k.current=G,_(G))},[]),E=i||j,A=l||w,V=x.useRef(null),k=x.useRef(null),B=x.useRef(p),P=u!=null,H=Sb(u),D=Sb(r),K=Sb(h),X=x.useCallback(()=>{if(!V.current||!k.current)return;const G={placement:s,strategy:a,middleware:y};D.current&&(G.platform=D.current),rq(V.current,k.current,G).then(F=>{const M={...F,isPositioned:K.current!==!1};ne.current&&!Lg(B.current,M)&&(B.current=M,Am.flushSync(()=>{f(M)}))})},[y,s,a,D,K]);ng(()=>{h===!1&&B.current.isPositioned&&(B.current.isPositioned=!1,f(G=>({...G,isPositioned:!1})))},[h]);const ne=x.useRef(!1);ng(()=>(ne.current=!0,()=>{ne.current=!1}),[]),ng(()=>{if(E&&(V.current=E),A&&(k.current=A),E&&A){if(H.current)return H.current(E,A,X);X()}},[E,A,X,H,P]);const te=x.useMemo(()=>({reference:V,floating:k,setReference:T,setFloating:R}),[T,R]),U=x.useMemo(()=>({reference:E,floating:A}),[E,A]),q=x.useMemo(()=>{const G={position:a,left:0,top:0};if(!U.floating)return G;const F=Uk(U.floating,p.x),M=Uk(U.floating,p.y);return d?{...G,transform:"translate("+F+"px, "+M+"px)",...kE(U.floating)>=1.5&&{willChange:"transform"}}:{position:a,left:F,top:M}},[a,d,U.floating,p.x,p.y]);return x.useMemo(()=>({...p,update:X,refs:te,elements:U,floatingStyles:q}),[p,X,te,U,q])}const cq=t=>{function s(a){return{}.hasOwnProperty.call(a,"current")}return{name:"arrow",options:t,fn(a){const{element:n,padding:r}=typeof t=="function"?t(a):t;return n&&s(n)?n.current!=null?Vk({element:n.current,padding:r}).fn(a):{}:n?Vk({element:n,padding:r}).fn(a):{}}}},dq=(t,s)=>({...JH(t),options:[t,s]}),uq=(t,s)=>({...eq(t),options:[t,s]}),hq=(t,s)=>({...nq(t),options:[t,s]}),mq=(t,s)=>({...tq(t),options:[t,s]}),fq=(t,s)=>({...sq(t),options:[t,s]}),pq=(t,s)=>({...aq(t),options:[t,s]}),gq=(t,s)=>({...cq(t),options:[t,s]});var xq="Arrow",SE=x.forwardRef((t,s)=>{const{children:a,width:n=10,height:r=5,...i}=t;return e.jsx(Tt.svg,{...i,ref:s,width:n,height:r,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?a:e.jsx("polygon",{points:"0,0 30,0 15,10"})})});SE.displayName=xq;var yq=SE;function Cx(t){const[s,a]=x.useState(void 0);return on(()=>{if(t){a({width:t.offsetWidth,height:t.offsetHeight});const n=new ResizeObserver(r=>{if(!Array.isArray(r)||!r.length)return;const i=r[0];let l,d;if("borderBoxSize"in i){const u=i.borderBoxSize,h=Array.isArray(u)?u[0]:u;l=h.inlineSize,d=h.blockSize}else l=t.offsetWidth,d=t.offsetHeight;a({width:l,height:d})});return n.observe(t,{box:"border-box"}),()=>n.unobserve(t)}else a(void 0)},[t]),s}var fw="Popper",[AE,ju]=nr(fw),[bq,TE]=AE(fw),DE=t=>{const{__scopePopper:s,children:a}=t,[n,r]=x.useState(null);return e.jsx(bq,{scope:s,anchor:n,onAnchorChange:r,children:a})};DE.displayName=fw;var EE="PopperAnchor",RE=x.forwardRef((t,s)=>{const{__scopePopper:a,virtualRef:n,...r}=t,i=TE(EE,a),l=x.useRef(null),d=Ht(s,l),u=x.useRef(null);return x.useEffect(()=>{const h=u.current;u.current=n?.current||l.current,h!==u.current&&i.onAnchorChange(u.current)}),n?null:e.jsx(Tt.div,{...r,ref:d})});RE.displayName=EE;var pw="PopperContent",[vq,jq]=AE(pw),ME=x.forwardRef((t,s)=>{const{__scopePopper:a,side:n="bottom",sideOffset:r=0,align:i="center",alignOffset:l=0,arrowPadding:d=0,avoidCollisions:u=!0,collisionBoundary:h=[],collisionPadding:p=0,sticky:f="partial",hideWhenDetached:y=!1,updatePositionStrategy:v="optimized",onPlaced:j,...N}=t,w=TE(pw,a),[_,T]=x.useState(null),R=Ht(s,ye=>T(ye)),[E,A]=x.useState(null),V=Cx(E),k=V?.width??0,B=V?.height??0,P=n+(i!=="center"?"-"+i:""),H=typeof p=="number"?p:{top:0,right:0,bottom:0,left:0,...p},D=Array.isArray(h)?h:[h],K=D.length>0,X={padding:H,boundary:D.filter(Nq),altBoundary:K},{refs:ne,floatingStyles:te,placement:U,isPositioned:q,middlewareData:G}=lq({strategy:"fixed",placement:P,whileElementsMounted:(...ye)=>ZH(...ye,{animationFrame:v==="always"}),elements:{reference:w.anchor},middleware:[dq({mainAxis:r+B,alignmentAxis:l}),u&&uq({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?hq():void 0,...X}),u&&mq({...X}),fq({...X,apply:({elements:ye,rects:Be,availableWidth:ke,availableHeight:Ye})=>{const{width:rt,height:Se}=Be.reference,Xe=ye.floating.style;Xe.setProperty("--radix-popper-available-width",`${ke}px`),Xe.setProperty("--radix-popper-available-height",`${Ye}px`),Xe.setProperty("--radix-popper-anchor-width",`${rt}px`),Xe.setProperty("--radix-popper-anchor-height",`${Se}px`)}}),E&&gq({element:E,padding:d}),_q({arrowWidth:k,arrowHeight:B}),y&&pq({strategy:"referenceHidden",...X})]}),[F,M]=LE(U),z=ki(j);on(()=>{q&&z?.()},[q,z]);const ie=G.arrow?.x,le=G.arrow?.y,re=G.arrow?.centerOffset!==0,[fe,we]=x.useState();return on(()=>{_&&we(window.getComputedStyle(_).zIndex)},[_]),e.jsx("div",{ref:ne.setFloating,"data-radix-popper-content-wrapper":"",style:{...te,transform:q?te.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:fe,"--radix-popper-transform-origin":[G.transformOrigin?.x,G.transformOrigin?.y].join(" "),...G.hide?.referenceHidden&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:e.jsx(vq,{scope:a,placedSide:F,onArrowChange:A,arrowX:ie,arrowY:le,shouldHideArrow:re,children:e.jsx(Tt.div,{"data-side":F,"data-align":M,...N,ref:R,style:{...N.style,animation:q?void 0:"none"}})})})});ME.displayName=pw;var PE="PopperArrow",wq={top:"bottom",right:"left",bottom:"top",left:"right"},OE=x.forwardRef(function(s,a){const{__scopePopper:n,...r}=s,i=jq(PE,n),l=wq[i.placedSide];return e.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:e.jsx(yq,{...r,ref:a,style:{...r.style,display:"block"}})})});OE.displayName=PE;function Nq(t){return t!==null}var _q=t=>({name:"transformOrigin",options:t,fn(s){const{placement:a,rects:n,middlewareData:r}=s,l=r.arrow?.centerOffset!==0,d=l?0:t.arrowWidth,u=l?0:t.arrowHeight,[h,p]=LE(a),f={start:"0%",center:"50%",end:"100%"}[p],y=(r.arrow?.x??0)+d/2,v=(r.arrow?.y??0)+u/2;let j="",N="";return h==="bottom"?(j=l?f:`${y}px`,N=`${-u}px`):h==="top"?(j=l?f:`${y}px`,N=`${n.floating.height+u}px`):h==="right"?(j=`${-u}px`,N=l?f:`${v}px`):h==="left"&&(j=`${n.floating.width+u}px`,N=l?f:`${v}px`),{data:{x:j,y:N}}}});function LE(t){const[s,a="center"]=t.split("-");return[s,a]}var BE=DE,gw=RE,xw=ME,yw=OE,Cq="Portal",$m=x.forwardRef((t,s)=>{const{container:a,...n}=t,[r,i]=x.useState(!1);on(()=>i(!0),[]);const l=a||r&&globalThis?.document?.body;return l?IT.createPortal(e.jsx(Tt.div,{...n,ref:s}),l):null});$m.displayName=Cq;function kq(t){const s=Sq(t),a=x.forwardRef((n,r)=>{const{children:i,...l}=n,d=x.Children.toArray(i),u=d.find(Tq);if(u){const h=u.props.children,p=d.map(f=>f===u?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:f);return e.jsx(s,{...l,ref:r,children:x.isValidElement(h)?x.cloneElement(h,void 0,p):null})}return e.jsx(s,{...l,ref:r,children:i})});return a.displayName=`${t}.Slot`,a}function Sq(t){const s=x.forwardRef((a,n)=>{const{children:r,...i}=a;if(x.isValidElement(r)){const l=Eq(r),d=Dq(i,r.props);return r.type!==x.Fragment&&(d.ref=n?vo(n,l):l),x.cloneElement(r,d)}return x.Children.count(r)>1?x.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var Aq=Symbol("radix.slottable");function Tq(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Aq}function Dq(t,s){const a={...s};for(const n in s){const r=t[n],i=s[n];/^on[A-Z]/.test(n)?r&&i?a[n]=(...d)=>{const u=i(...d);return r(...d),u}:r&&(a[n]=r):n==="style"?a[n]={...r,...i}:n==="className"&&(a[n]=[r,i].filter(Boolean).join(" "))}return{...t,...a}}function Eq(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}function kx(t){const s=x.useRef({value:t,previous:t});return x.useMemo(()=>(s.current.value!==t&&(s.current.previous=s.current.value,s.current.value=t),s.current.previous),[t])}var FE=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),Rq="VisuallyHidden",IE=x.forwardRef((t,s)=>e.jsx(Tt.span,{...t,ref:s,style:{...FE,...t.style}}));IE.displayName=Rq;var Mq=IE,Pq=function(t){if(typeof document>"u")return null;var s=Array.isArray(t)?t[0]:t;return s.ownerDocument.body},Dd=new WeakMap,wp=new WeakMap,Np={},Ab=0,$E=function(t){return t&&(t.host||$E(t.parentNode))},Oq=function(t,s){return s.map(function(a){if(t.contains(a))return a;var n=$E(a);return n&&t.contains(n)?n:(console.error("aria-hidden",a,"in not contained inside",t,". Doing nothing"),null)}).filter(function(a){return!!a})},Lq=function(t,s,a,n){var r=Oq(s,Array.isArray(t)?t:[t]);Np[a]||(Np[a]=new WeakMap);var i=Np[a],l=[],d=new Set,u=new Set(r),h=function(f){!f||d.has(f)||(d.add(f),h(f.parentNode))};r.forEach(h);var p=function(f){!f||u.has(f)||Array.prototype.forEach.call(f.children,function(y){if(d.has(y))p(y);else try{var v=y.getAttribute(n),j=v!==null&&v!=="false",N=(Dd.get(y)||0)+1,w=(i.get(y)||0)+1;Dd.set(y,N),i.set(y,w),l.push(y),N===1&&j&&wp.set(y,!0),w===1&&y.setAttribute(a,"true"),j||y.setAttribute(n,"true")}catch(_){console.error("aria-hidden: cannot operate on ",y,_)}})};return p(s),d.clear(),Ab++,function(){l.forEach(function(f){var y=Dd.get(f)-1,v=i.get(f)-1;Dd.set(f,y),i.set(f,v),y||(wp.has(f)||f.removeAttribute(n),wp.delete(f)),v||f.removeAttribute(a)}),Ab--,Ab||(Dd=new WeakMap,Dd=new WeakMap,wp=new WeakMap,Np={})}},bw=function(t,s,a){a===void 0&&(a="data-aria-hidden");var n=Array.from(Array.isArray(t)?t:[t]),r=Pq(t);return r?(n.push.apply(n,Array.from(r.querySelectorAll("[aria-live], script"))),Lq(n,r,a,"aria-hidden")):function(){return null}},fi=function(){return fi=Object.assign||function(s){for(var a,n=1,r=arguments.length;n<r;n++){a=arguments[n];for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&(s[i]=a[i])}return s},fi.apply(this,arguments)};function zE(t,s){var a={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&s.indexOf(n)<0&&(a[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)s.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(a[n[r]]=t[n[r]]);return a}function Bq(t,s,a){if(a||arguments.length===2)for(var n=0,r=s.length,i;n<r;n++)(i||!(n in s))&&(i||(i=Array.prototype.slice.call(s,0,n)),i[n]=s[n]);return t.concat(i||Array.prototype.slice.call(s))}var rg="right-scroll-bar-position",ig="width-before-scroll-bar",Fq="with-scroll-bars-hidden",Iq="--removed-body-scroll-bar-size";function Tb(t,s){return typeof t=="function"?t(s):t&&(t.current=s),t}function $q(t,s){var a=x.useState(function(){return{value:t,callback:s,facade:{get current(){return a.value},set current(n){var r=a.value;r!==n&&(a.value=n,a.callback(n,r))}}}})[0];return a.callback=s,a.facade}var zq=typeof window<"u"?x.useLayoutEffect:x.useEffect,Hk=new WeakMap;function Vq(t,s){var a=$q(null,function(n){return t.forEach(function(r){return Tb(r,n)})});return zq(function(){var n=Hk.get(a);if(n){var r=new Set(n),i=new Set(t),l=a.current;r.forEach(function(d){i.has(d)||Tb(d,null)}),i.forEach(function(d){r.has(d)||Tb(d,l)})}Hk.set(a,t)},[t]),a}function Uq(t){return t}function Hq(t,s){s===void 0&&(s=Uq);var a=[],n=!1,r={read:function(){if(n)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return a.length?a[a.length-1]:t},useMedium:function(i){var l=s(i,n);return a.push(l),function(){a=a.filter(function(d){return d!==l})}},assignSyncMedium:function(i){for(n=!0;a.length;){var l=a;a=[],l.forEach(i)}a={push:function(d){return i(d)},filter:function(){return a}}},assignMedium:function(i){n=!0;var l=[];if(a.length){var d=a;a=[],d.forEach(i),l=a}var u=function(){var p=l;l=[],p.forEach(i)},h=function(){return Promise.resolve().then(u)};h(),a={push:function(p){l.push(p),h()},filter:function(p){return l=l.filter(p),a}}}};return r}function qq(t){t===void 0&&(t={});var s=Hq(null);return s.options=fi({async:!0,ssr:!1},t),s}var VE=function(t){var s=t.sideCar,a=zE(t,["sideCar"]);if(!s)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var n=s.read();if(!n)throw new Error("Sidecar medium not found");return x.createElement(n,fi({},a))};VE.isSideCarExport=!0;function Gq(t,s){return t.useMedium(s),VE}var UE=qq(),Db=function(){},Sx=x.forwardRef(function(t,s){var a=x.useRef(null),n=x.useState({onScrollCapture:Db,onWheelCapture:Db,onTouchMoveCapture:Db}),r=n[0],i=n[1],l=t.forwardProps,d=t.children,u=t.className,h=t.removeScrollBar,p=t.enabled,f=t.shards,y=t.sideCar,v=t.noRelative,j=t.noIsolation,N=t.inert,w=t.allowPinchZoom,_=t.as,T=_===void 0?"div":_,R=t.gapMode,E=zE(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),A=y,V=Vq([a,s]),k=fi(fi({},E),r);return x.createElement(x.Fragment,null,p&&x.createElement(A,{sideCar:UE,removeScrollBar:h,shards:f,noRelative:v,noIsolation:j,inert:N,setCallbacks:i,allowPinchZoom:!!w,lockRef:a,gapMode:R}),l?x.cloneElement(x.Children.only(d),fi(fi({},k),{ref:V})):x.createElement(T,fi({},k,{className:u,ref:V}),d))});Sx.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Sx.classNames={fullWidth:ig,zeroRight:rg};var Wq=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function Yq(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var s=Wq();return s&&t.setAttribute("nonce",s),t}function Kq(t,s){t.styleSheet?t.styleSheet.cssText=s:t.appendChild(document.createTextNode(s))}function Xq(t){var s=document.head||document.getElementsByTagName("head")[0];s.appendChild(t)}var Qq=function(){var t=0,s=null;return{add:function(a){t==0&&(s=Yq())&&(Kq(s,a),Xq(s)),t++},remove:function(){t--,!t&&s&&(s.parentNode&&s.parentNode.removeChild(s),s=null)}}},Zq=function(){var t=Qq();return function(s,a){x.useEffect(function(){return t.add(s),function(){t.remove()}},[s&&a])}},HE=function(){var t=Zq(),s=function(a){var n=a.styles,r=a.dynamic;return t(n,r),null};return s},Jq={left:0,top:0,right:0,gap:0},Eb=function(t){return parseInt(t||"",10)||0},eG=function(t){var s=window.getComputedStyle(document.body),a=s[t==="padding"?"paddingLeft":"marginLeft"],n=s[t==="padding"?"paddingTop":"marginTop"],r=s[t==="padding"?"paddingRight":"marginRight"];return[Eb(a),Eb(n),Eb(r)]},tG=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return Jq;var s=eG(t),a=document.documentElement.clientWidth,n=window.innerWidth;return{left:s[0],top:s[1],right:s[2],gap:Math.max(0,n-a+s[2]-s[0])}},sG=HE(),Xd="data-scroll-locked",aG=function(t,s,a,n){var r=t.left,i=t.top,l=t.right,d=t.gap;return a===void 0&&(a="margin"),`
  .`.concat(Fq,` {
   overflow: hidden `).concat(n,`;
   padding-right: `).concat(d,"px ").concat(n,`;
  }
  body[`).concat(Xd,`] {
    overflow: hidden `).concat(n,`;
    overscroll-behavior: contain;
    `).concat([s&&"position: relative ".concat(n,";"),a==="margin"&&`
    padding-left: `.concat(r,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(d,"px ").concat(n,`;
    `),a==="padding"&&"padding-right: ".concat(d,"px ").concat(n,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(rg,` {
    right: `).concat(d,"px ").concat(n,`;
  }
  
  .`).concat(ig,` {
    margin-right: `).concat(d,"px ").concat(n,`;
  }
  
  .`).concat(rg," .").concat(rg,` {
    right: 0 `).concat(n,`;
  }
  
  .`).concat(ig," .").concat(ig,` {
    margin-right: 0 `).concat(n,`;
  }
  
  body[`).concat(Xd,`] {
    `).concat(Iq,": ").concat(d,`px;
  }
`)},qk=function(){var t=parseInt(document.body.getAttribute(Xd)||"0",10);return isFinite(t)?t:0},nG=function(){x.useEffect(function(){return document.body.setAttribute(Xd,(qk()+1).toString()),function(){var t=qk()-1;t<=0?document.body.removeAttribute(Xd):document.body.setAttribute(Xd,t.toString())}},[])},rG=function(t){var s=t.noRelative,a=t.noImportant,n=t.gapMode,r=n===void 0?"margin":n;nG();var i=x.useMemo(function(){return tG(r)},[r]);return x.createElement(sG,{styles:aG(i,!s,r,a?"":"!important")})},Yv=!1;if(typeof window<"u")try{var _p=Object.defineProperty({},"passive",{get:function(){return Yv=!0,!0}});window.addEventListener("test",_p,_p),window.removeEventListener("test",_p,_p)}catch{Yv=!1}var Ed=Yv?{passive:!1}:!1,iG=function(t){return t.tagName==="TEXTAREA"},qE=function(t,s){if(!(t instanceof Element))return!1;var a=window.getComputedStyle(t);return a[s]!=="hidden"&&!(a.overflowY===a.overflowX&&!iG(t)&&a[s]==="visible")},oG=function(t){return qE(t,"overflowY")},lG=function(t){return qE(t,"overflowX")},Gk=function(t,s){var a=s.ownerDocument,n=s;do{typeof ShadowRoot<"u"&&n instanceof ShadowRoot&&(n=n.host);var r=GE(t,n);if(r){var i=WE(t,n),l=i[1],d=i[2];if(l>d)return!0}n=n.parentNode}while(n&&n!==a.body);return!1},cG=function(t){var s=t.scrollTop,a=t.scrollHeight,n=t.clientHeight;return[s,a,n]},dG=function(t){var s=t.scrollLeft,a=t.scrollWidth,n=t.clientWidth;return[s,a,n]},GE=function(t,s){return t==="v"?oG(s):lG(s)},WE=function(t,s){return t==="v"?cG(s):dG(s)},uG=function(t,s){return t==="h"&&s==="rtl"?-1:1},hG=function(t,s,a,n,r){var i=uG(t,window.getComputedStyle(s).direction),l=i*n,d=a.target,u=s.contains(d),h=!1,p=l>0,f=0,y=0;do{if(!d)break;var v=WE(t,d),j=v[0],N=v[1],w=v[2],_=N-w-i*j;(j||_)&&GE(t,d)&&(f+=_,y+=j);var T=d.parentNode;d=T&&T.nodeType===Node.DOCUMENT_FRAGMENT_NODE?T.host:T}while(!u&&d!==document.body||u&&(s.contains(d)||s===d));return(p&&Math.abs(f)<1||!p&&Math.abs(y)<1)&&(h=!0),h},Cp=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},Wk=function(t){return[t.deltaX,t.deltaY]},Yk=function(t){return t&&"current"in t?t.current:t},mG=function(t,s){return t[0]===s[0]&&t[1]===s[1]},fG=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},pG=0,Rd=[];function gG(t){var s=x.useRef([]),a=x.useRef([0,0]),n=x.useRef(),r=x.useState(pG++)[0],i=x.useState(HE)[0],l=x.useRef(t);x.useEffect(function(){l.current=t},[t]),x.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(r));var N=Bq([t.lockRef.current],(t.shards||[]).map(Yk),!0).filter(Boolean);return N.forEach(function(w){return w.classList.add("allow-interactivity-".concat(r))}),function(){document.body.classList.remove("block-interactivity-".concat(r)),N.forEach(function(w){return w.classList.remove("allow-interactivity-".concat(r))})}}},[t.inert,t.lockRef.current,t.shards]);var d=x.useCallback(function(N,w){if("touches"in N&&N.touches.length===2||N.type==="wheel"&&N.ctrlKey)return!l.current.allowPinchZoom;var _=Cp(N),T=a.current,R="deltaX"in N?N.deltaX:T[0]-_[0],E="deltaY"in N?N.deltaY:T[1]-_[1],A,V=N.target,k=Math.abs(R)>Math.abs(E)?"h":"v";if("touches"in N&&k==="h"&&V.type==="range")return!1;var B=window.getSelection(),P=B&&B.anchorNode,H=P?P===V||P.contains(V):!1;if(H)return!1;var D=Gk(k,V);if(!D)return!0;if(D?A=k:(A=k==="v"?"h":"v",D=Gk(k,V)),!D)return!1;if(!n.current&&"changedTouches"in N&&(R||E)&&(n.current=A),!A)return!0;var K=n.current||A;return hG(K,w,N,K==="h"?R:E)},[]),u=x.useCallback(function(N){var w=N;if(!(!Rd.length||Rd[Rd.length-1]!==i)){var _="deltaY"in w?Wk(w):Cp(w),T=s.current.filter(function(A){return A.name===w.type&&(A.target===w.target||w.target===A.shadowParent)&&mG(A.delta,_)})[0];if(T&&T.should){w.cancelable&&w.preventDefault();return}if(!T){var R=(l.current.shards||[]).map(Yk).filter(Boolean).filter(function(A){return A.contains(w.target)}),E=R.length>0?d(w,R[0]):!l.current.noIsolation;E&&w.cancelable&&w.preventDefault()}}},[]),h=x.useCallback(function(N,w,_,T){var R={name:N,delta:w,target:_,should:T,shadowParent:xG(_)};s.current.push(R),setTimeout(function(){s.current=s.current.filter(function(E){return E!==R})},1)},[]),p=x.useCallback(function(N){a.current=Cp(N),n.current=void 0},[]),f=x.useCallback(function(N){h(N.type,Wk(N),N.target,d(N,t.lockRef.current))},[]),y=x.useCallback(function(N){h(N.type,Cp(N),N.target,d(N,t.lockRef.current))},[]);x.useEffect(function(){return Rd.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:y}),document.addEventListener("wheel",u,Ed),document.addEventListener("touchmove",u,Ed),document.addEventListener("touchstart",p,Ed),function(){Rd=Rd.filter(function(N){return N!==i}),document.removeEventListener("wheel",u,Ed),document.removeEventListener("touchmove",u,Ed),document.removeEventListener("touchstart",p,Ed)}},[]);var v=t.removeScrollBar,j=t.inert;return x.createElement(x.Fragment,null,j?x.createElement(i,{styles:fG(r)}):null,v?x.createElement(rG,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function xG(t){for(var s=null;t!==null;)t instanceof ShadowRoot&&(s=t.host,t=t.host),t=t.parentNode;return s}const yG=Gq(UE,gG);var Ax=x.forwardRef(function(t,s){return x.createElement(Sx,fi({},t,{ref:s,sideCar:yG}))});Ax.classNames=Sx.classNames;var bG=[" ","Enter","ArrowUp","ArrowDown"],vG=[" ","Enter"],Fc="Select",[Tx,Dx,jG]=xx(Fc),[wu]=nr(Fc,[jG,ju]),Ex=ju(),[wG,Dl]=wu(Fc),[NG,_G]=wu(Fc),YE=t=>{const{__scopeSelect:s,children:a,open:n,defaultOpen:r,onOpenChange:i,value:l,defaultValue:d,onValueChange:u,dir:h,name:p,autoComplete:f,disabled:y,required:v,form:j}=t,N=Ex(s),[w,_]=x.useState(null),[T,R]=x.useState(null),[E,A]=x.useState(!1),V=Lm(h),[k,B]=mo({prop:n,defaultProp:r??!1,onChange:i,caller:Fc}),[P,H]=mo({prop:l,defaultProp:d,onChange:u,caller:Fc}),D=x.useRef(null),K=w?j||!!w.closest("form"):!0,[X,ne]=x.useState(new Set),te=Array.from(X).map(U=>U.props.value).join(";");return e.jsx(BE,{...N,children:e.jsxs(wG,{required:v,scope:s,trigger:w,onTriggerChange:_,valueNode:T,onValueNodeChange:R,valueNodeHasChildren:E,onValueNodeHasChildrenChange:A,contentId:bi(),value:P,onValueChange:H,open:k,onOpenChange:B,dir:V,triggerPointerDownPosRef:D,disabled:y,children:[e.jsx(Tx.Provider,{scope:s,children:e.jsx(NG,{scope:t.__scopeSelect,onNativeOptionAdd:x.useCallback(U=>{ne(q=>new Set(q).add(U))},[]),onNativeOptionRemove:x.useCallback(U=>{ne(q=>{const G=new Set(q);return G.delete(U),G})},[]),children:a})}),K?e.jsxs(yR,{"aria-hidden":!0,required:v,tabIndex:-1,name:p,autoComplete:f,value:P,onChange:U=>H(U.target.value),disabled:y,form:j,children:[P===void 0?e.jsx("option",{value:""}):null,Array.from(X)]},te):null]})})};YE.displayName=Fc;var KE="SelectTrigger",XE=x.forwardRef((t,s)=>{const{__scopeSelect:a,disabled:n=!1,...r}=t,i=Ex(a),l=Dl(KE,a),d=l.disabled||n,u=Ht(s,l.onTriggerChange),h=Dx(a),p=x.useRef("touch"),[f,y,v]=vR(N=>{const w=h().filter(R=>!R.disabled),_=w.find(R=>R.value===l.value),T=jR(w,N,_);T!==void 0&&l.onValueChange(T.value)}),j=N=>{d||(l.onOpenChange(!0),v()),N&&(l.triggerPointerDownPosRef.current={x:Math.round(N.pageX),y:Math.round(N.pageY)})};return e.jsx(gw,{asChild:!0,...i,children:e.jsx(Tt.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:d,"data-disabled":d?"":void 0,"data-placeholder":bR(l.value)?"":void 0,...r,ref:u,onClick:st(r.onClick,N=>{N.currentTarget.focus(),p.current!=="mouse"&&j(N)}),onPointerDown:st(r.onPointerDown,N=>{p.current=N.pointerType;const w=N.target;w.hasPointerCapture(N.pointerId)&&w.releasePointerCapture(N.pointerId),N.button===0&&N.ctrlKey===!1&&N.pointerType==="mouse"&&(j(N),N.preventDefault())}),onKeyDown:st(r.onKeyDown,N=>{const w=f.current!=="";!(N.ctrlKey||N.altKey||N.metaKey)&&N.key.length===1&&y(N.key),!(w&&N.key===" ")&&bG.includes(N.key)&&(j(),N.preventDefault())})})})});XE.displayName=KE;var QE="SelectValue",ZE=x.forwardRef((t,s)=>{const{__scopeSelect:a,className:n,style:r,children:i,placeholder:l="",...d}=t,u=Dl(QE,a),{onValueNodeHasChildrenChange:h}=u,p=i!==void 0,f=Ht(s,u.onValueNodeChange);return on(()=>{h(p)},[h,p]),e.jsx(Tt.span,{...d,ref:f,style:{pointerEvents:"none"},children:bR(u.value)?e.jsx(e.Fragment,{children:l}):i})});ZE.displayName=QE;var CG="SelectIcon",JE=x.forwardRef((t,s)=>{const{__scopeSelect:a,children:n,...r}=t;return e.jsx(Tt.span,{"aria-hidden":!0,...r,ref:s,children:n||""})});JE.displayName=CG;var kG="SelectPortal",eR=t=>e.jsx($m,{asChild:!0,...t});eR.displayName=kG;var Ic="SelectContent",tR=x.forwardRef((t,s)=>{const a=Dl(Ic,t.__scopeSelect),[n,r]=x.useState();if(on(()=>{r(new DocumentFragment)},[]),!a.open){const i=n;return i?Am.createPortal(e.jsx(sR,{scope:t.__scopeSelect,children:e.jsx(Tx.Slot,{scope:t.__scopeSelect,children:e.jsx("div",{children:t.children})})}),i):null}return e.jsx(aR,{...t,ref:s})});tR.displayName=Ic;var Vr=10,[sR,El]=wu(Ic),SG="SelectContentImpl",AG=kq("SelectContent.RemoveScroll"),aR=x.forwardRef((t,s)=>{const{__scopeSelect:a,position:n="item-aligned",onCloseAutoFocus:r,onEscapeKeyDown:i,onPointerDownOutside:l,side:d,sideOffset:u,align:h,alignOffset:p,arrowPadding:f,collisionBoundary:y,collisionPadding:v,sticky:j,hideWhenDetached:N,avoidCollisions:w,..._}=t,T=Dl(Ic,a),[R,E]=x.useState(null),[A,V]=x.useState(null),k=Ht(s,ye=>E(ye)),[B,P]=x.useState(null),[H,D]=x.useState(null),K=Dx(a),[X,ne]=x.useState(!1),te=x.useRef(!1);x.useEffect(()=>{if(R)return bw(R)},[R]),ow();const U=x.useCallback(ye=>{const[Be,...ke]=K().map(Se=>Se.ref.current),[Ye]=ke.slice(-1),rt=document.activeElement;for(const Se of ye)if(Se===rt||(Se?.scrollIntoView({block:"nearest"}),Se===Be&&A&&(A.scrollTop=0),Se===Ye&&A&&(A.scrollTop=A.scrollHeight),Se?.focus(),document.activeElement!==rt))return},[K,A]),q=x.useCallback(()=>U([B,R]),[U,B,R]);x.useEffect(()=>{X&&q()},[X,q]);const{onOpenChange:G,triggerPointerDownPosRef:F}=T;x.useEffect(()=>{if(R){let ye={x:0,y:0};const Be=Ye=>{ye={x:Math.abs(Math.round(Ye.pageX)-(F.current?.x??0)),y:Math.abs(Math.round(Ye.pageY)-(F.current?.y??0))}},ke=Ye=>{ye.x<=10&&ye.y<=10?Ye.preventDefault():R.contains(Ye.target)||G(!1),document.removeEventListener("pointermove",Be),F.current=null};return F.current!==null&&(document.addEventListener("pointermove",Be),document.addEventListener("pointerup",ke,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Be),document.removeEventListener("pointerup",ke,{capture:!0})}}},[R,G,F]),x.useEffect(()=>{const ye=()=>G(!1);return window.addEventListener("blur",ye),window.addEventListener("resize",ye),()=>{window.removeEventListener("blur",ye),window.removeEventListener("resize",ye)}},[G]);const[M,z]=vR(ye=>{const Be=K().filter(rt=>!rt.disabled),ke=Be.find(rt=>rt.ref.current===document.activeElement),Ye=jR(Be,ye,ke);Ye&&setTimeout(()=>Ye.ref.current.focus())}),ie=x.useCallback((ye,Be,ke)=>{const Ye=!te.current&&!ke;(T.value!==void 0&&T.value===Be||Ye)&&(P(ye),Ye&&(te.current=!0))},[T.value]),le=x.useCallback(()=>R?.focus(),[R]),re=x.useCallback((ye,Be,ke)=>{const Ye=!te.current&&!ke;(T.value!==void 0&&T.value===Be||Ye)&&D(ye)},[T.value]),fe=n==="popper"?Kv:nR,we=fe===Kv?{side:d,sideOffset:u,align:h,alignOffset:p,arrowPadding:f,collisionBoundary:y,collisionPadding:v,sticky:j,hideWhenDetached:N,avoidCollisions:w}:{};return e.jsx(sR,{scope:a,content:R,viewport:A,onViewportChange:V,itemRefCallback:ie,selectedItem:B,onItemLeave:le,itemTextRefCallback:re,focusSelectedItem:q,selectedItemText:H,position:n,isPositioned:X,searchRef:M,children:e.jsx(Ax,{as:AG,allowPinchZoom:!0,children:e.jsx(vx,{asChild:!0,trapped:T.open,onMountAutoFocus:ye=>{ye.preventDefault()},onUnmountAutoFocus:st(r,ye=>{T.trigger?.focus({preventScroll:!0}),ye.preventDefault()}),children:e.jsx(Fm,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:ye=>ye.preventDefault(),onDismiss:()=>T.onOpenChange(!1),children:e.jsx(fe,{role:"listbox",id:T.contentId,"data-state":T.open?"open":"closed",dir:T.dir,onContextMenu:ye=>ye.preventDefault(),..._,...we,onPlaced:()=>ne(!0),ref:k,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:st(_.onKeyDown,ye=>{const Be=ye.ctrlKey||ye.altKey||ye.metaKey;if(ye.key==="Tab"&&ye.preventDefault(),!Be&&ye.key.length===1&&z(ye.key),["ArrowUp","ArrowDown","Home","End"].includes(ye.key)){let Ye=K().filter(rt=>!rt.disabled).map(rt=>rt.ref.current);if(["ArrowUp","End"].includes(ye.key)&&(Ye=Ye.slice().reverse()),["ArrowUp","ArrowDown"].includes(ye.key)){const rt=ye.target,Se=Ye.indexOf(rt);Ye=Ye.slice(Se+1)}setTimeout(()=>U(Ye)),ye.preventDefault()}})})})})})})});aR.displayName=SG;var TG="SelectItemAlignedPosition",nR=x.forwardRef((t,s)=>{const{__scopeSelect:a,onPlaced:n,...r}=t,i=Dl(Ic,a),l=El(Ic,a),[d,u]=x.useState(null),[h,p]=x.useState(null),f=Ht(s,k=>p(k)),y=Dx(a),v=x.useRef(!1),j=x.useRef(!0),{viewport:N,selectedItem:w,selectedItemText:_,focusSelectedItem:T}=l,R=x.useCallback(()=>{if(i.trigger&&i.valueNode&&d&&h&&N&&w&&_){const k=i.trigger.getBoundingClientRect(),B=h.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),H=_.getBoundingClientRect();if(i.dir!=="rtl"){const rt=H.left-B.left,Se=P.left-rt,Xe=k.left-Se,Pe=k.width+Xe,mt=Math.max(Pe,B.width),_t=window.innerWidth-Vr,at=Rg(Se,[Vr,Math.max(Vr,_t-mt)]);d.style.minWidth=Pe+"px",d.style.left=at+"px"}else{const rt=B.right-H.right,Se=window.innerWidth-P.right-rt,Xe=window.innerWidth-k.right-Se,Pe=k.width+Xe,mt=Math.max(Pe,B.width),_t=window.innerWidth-Vr,at=Rg(Se,[Vr,Math.max(Vr,_t-mt)]);d.style.minWidth=Pe+"px",d.style.right=at+"px"}const D=y(),K=window.innerHeight-Vr*2,X=N.scrollHeight,ne=window.getComputedStyle(h),te=parseInt(ne.borderTopWidth,10),U=parseInt(ne.paddingTop,10),q=parseInt(ne.borderBottomWidth,10),G=parseInt(ne.paddingBottom,10),F=te+U+X+G+q,M=Math.min(w.offsetHeight*5,F),z=window.getComputedStyle(N),ie=parseInt(z.paddingTop,10),le=parseInt(z.paddingBottom,10),re=k.top+k.height/2-Vr,fe=K-re,we=w.offsetHeight/2,ye=w.offsetTop+we,Be=te+U+ye,ke=F-Be;if(Be<=re){const rt=D.length>0&&w===D[D.length-1].ref.current;d.style.bottom="0px";const Se=h.clientHeight-N.offsetTop-N.offsetHeight,Xe=Math.max(fe,we+(rt?le:0)+Se+q),Pe=Be+Xe;d.style.height=Pe+"px"}else{const rt=D.length>0&&w===D[0].ref.current;d.style.top="0px";const Xe=Math.max(re,te+N.offsetTop+(rt?ie:0)+we)+ke;d.style.height=Xe+"px",N.scrollTop=Be-re+N.offsetTop}d.style.margin=`${Vr}px 0`,d.style.minHeight=M+"px",d.style.maxHeight=K+"px",n?.(),requestAnimationFrame(()=>v.current=!0)}},[y,i.trigger,i.valueNode,d,h,N,w,_,i.dir,n]);on(()=>R(),[R]);const[E,A]=x.useState();on(()=>{h&&A(window.getComputedStyle(h).zIndex)},[h]);const V=x.useCallback(k=>{k&&j.current===!0&&(R(),T?.(),j.current=!1)},[R,T]);return e.jsx(EG,{scope:a,contentWrapper:d,shouldExpandOnScrollRef:v,onScrollButtonChange:V,children:e.jsx("div",{ref:u,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:E},children:e.jsx(Tt.div,{...r,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...r.style}})})})});nR.displayName=TG;var DG="SelectPopperPosition",Kv=x.forwardRef((t,s)=>{const{__scopeSelect:a,align:n="start",collisionPadding:r=Vr,...i}=t,l=Ex(a);return e.jsx(xw,{...l,...i,ref:s,align:n,collisionPadding:r,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});Kv.displayName=DG;var[EG,vw]=wu(Ic,{}),Xv="SelectViewport",rR=x.forwardRef((t,s)=>{const{__scopeSelect:a,nonce:n,...r}=t,i=El(Xv,a),l=vw(Xv,a),d=Ht(s,i.onViewportChange),u=x.useRef(0);return e.jsxs(e.Fragment,{children:[e.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:n}),e.jsx(Tx.Slot,{scope:a,children:e.jsx(Tt.div,{"data-radix-select-viewport":"",role:"presentation",...r,ref:d,style:{position:"relative",flex:1,overflow:"hidden auto",...r.style},onScroll:st(r.onScroll,h=>{const p=h.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:y}=l;if(y?.current&&f){const v=Math.abs(u.current-p.scrollTop);if(v>0){const j=window.innerHeight-Vr*2,N=parseFloat(f.style.minHeight),w=parseFloat(f.style.height),_=Math.max(N,w);if(_<j){const T=_+v,R=Math.min(j,T),E=T-R;f.style.height=R+"px",f.style.bottom==="0px"&&(p.scrollTop=E>0?E:0,f.style.justifyContent="flex-end")}}}u.current=p.scrollTop})})})]})});rR.displayName=Xv;var iR="SelectGroup",[RG,MG]=wu(iR),PG=x.forwardRef((t,s)=>{const{__scopeSelect:a,...n}=t,r=bi();return e.jsx(RG,{scope:a,id:r,children:e.jsx(Tt.div,{role:"group","aria-labelledby":r,...n,ref:s})})});PG.displayName=iR;var oR="SelectLabel",lR=x.forwardRef((t,s)=>{const{__scopeSelect:a,...n}=t,r=MG(oR,a);return e.jsx(Tt.div,{id:r.id,...n,ref:s})});lR.displayName=oR;var Bg="SelectItem",[OG,cR]=wu(Bg),dR=x.forwardRef((t,s)=>{const{__scopeSelect:a,value:n,disabled:r=!1,textValue:i,...l}=t,d=Dl(Bg,a),u=El(Bg,a),h=d.value===n,[p,f]=x.useState(i??""),[y,v]=x.useState(!1),j=Ht(s,T=>u.itemRefCallback?.(T,n,r)),N=bi(),w=x.useRef("touch"),_=()=>{r||(d.onValueChange(n),d.onOpenChange(!1))};if(n==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return e.jsx(OG,{scope:a,value:n,disabled:r,textId:N,isSelected:h,onItemTextChange:x.useCallback(T=>{f(R=>R||(T?.textContent??"").trim())},[]),children:e.jsx(Tx.ItemSlot,{scope:a,value:n,disabled:r,textValue:p,children:e.jsx(Tt.div,{role:"option","aria-labelledby":N,"data-highlighted":y?"":void 0,"aria-selected":h&&y,"data-state":h?"checked":"unchecked","aria-disabled":r||void 0,"data-disabled":r?"":void 0,tabIndex:r?void 0:-1,...l,ref:j,onFocus:st(l.onFocus,()=>v(!0)),onBlur:st(l.onBlur,()=>v(!1)),onClick:st(l.onClick,()=>{w.current!=="mouse"&&_()}),onPointerUp:st(l.onPointerUp,()=>{w.current==="mouse"&&_()}),onPointerDown:st(l.onPointerDown,T=>{w.current=T.pointerType}),onPointerMove:st(l.onPointerMove,T=>{w.current=T.pointerType,r?u.onItemLeave?.():w.current==="mouse"&&T.currentTarget.focus({preventScroll:!0})}),onPointerLeave:st(l.onPointerLeave,T=>{T.currentTarget===document.activeElement&&u.onItemLeave?.()}),onKeyDown:st(l.onKeyDown,T=>{u.searchRef?.current!==""&&T.key===" "||(vG.includes(T.key)&&_(),T.key===" "&&T.preventDefault())})})})})});dR.displayName=Bg;var Fh="SelectItemText",uR=x.forwardRef((t,s)=>{const{__scopeSelect:a,className:n,style:r,...i}=t,l=Dl(Fh,a),d=El(Fh,a),u=cR(Fh,a),h=_G(Fh,a),[p,f]=x.useState(null),y=Ht(s,_=>f(_),u.onItemTextChange,_=>d.itemTextRefCallback?.(_,u.value,u.disabled)),v=p?.textContent,j=x.useMemo(()=>e.jsx("option",{value:u.value,disabled:u.disabled,children:v},u.value),[u.disabled,u.value,v]),{onNativeOptionAdd:N,onNativeOptionRemove:w}=h;return on(()=>(N(j),()=>w(j)),[N,w,j]),e.jsxs(e.Fragment,{children:[e.jsx(Tt.span,{id:u.textId,...i,ref:y}),u.isSelected&&l.valueNode&&!l.valueNodeHasChildren?Am.createPortal(i.children,l.valueNode):null]})});uR.displayName=Fh;var hR="SelectItemIndicator",mR=x.forwardRef((t,s)=>{const{__scopeSelect:a,...n}=t;return cR(hR,a).isSelected?e.jsx(Tt.span,{"aria-hidden":!0,...n,ref:s}):null});mR.displayName=hR;var Qv="SelectScrollUpButton",fR=x.forwardRef((t,s)=>{const a=El(Qv,t.__scopeSelect),n=vw(Qv,t.__scopeSelect),[r,i]=x.useState(!1),l=Ht(s,n.onScrollButtonChange);return on(()=>{if(a.viewport&&a.isPositioned){let d=function(){const h=u.scrollTop>0;i(h)};const u=a.viewport;return d(),u.addEventListener("scroll",d),()=>u.removeEventListener("scroll",d)}},[a.viewport,a.isPositioned]),r?e.jsx(gR,{...t,ref:l,onAutoScroll:()=>{const{viewport:d,selectedItem:u}=a;d&&u&&(d.scrollTop=d.scrollTop-u.offsetHeight)}}):null});fR.displayName=Qv;var Zv="SelectScrollDownButton",pR=x.forwardRef((t,s)=>{const a=El(Zv,t.__scopeSelect),n=vw(Zv,t.__scopeSelect),[r,i]=x.useState(!1),l=Ht(s,n.onScrollButtonChange);return on(()=>{if(a.viewport&&a.isPositioned){let d=function(){const h=u.scrollHeight-u.clientHeight,p=Math.ceil(u.scrollTop)<h;i(p)};const u=a.viewport;return d(),u.addEventListener("scroll",d),()=>u.removeEventListener("scroll",d)}},[a.viewport,a.isPositioned]),r?e.jsx(gR,{...t,ref:l,onAutoScroll:()=>{const{viewport:d,selectedItem:u}=a;d&&u&&(d.scrollTop=d.scrollTop+u.offsetHeight)}}):null});pR.displayName=Zv;var gR=x.forwardRef((t,s)=>{const{__scopeSelect:a,onAutoScroll:n,...r}=t,i=El("SelectScrollButton",a),l=x.useRef(null),d=Dx(a),u=x.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return x.useEffect(()=>()=>u(),[u]),on(()=>{d().find(p=>p.ref.current===document.activeElement)?.ref.current?.scrollIntoView({block:"nearest"})},[d]),e.jsx(Tt.div,{"aria-hidden":!0,...r,ref:s,style:{flexShrink:0,...r.style},onPointerDown:st(r.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(n,50))}),onPointerMove:st(r.onPointerMove,()=>{i.onItemLeave?.(),l.current===null&&(l.current=window.setInterval(n,50))}),onPointerLeave:st(r.onPointerLeave,()=>{u()})})}),LG="SelectSeparator",xR=x.forwardRef((t,s)=>{const{__scopeSelect:a,...n}=t;return e.jsx(Tt.div,{"aria-hidden":!0,...n,ref:s})});xR.displayName=LG;var Jv="SelectArrow",BG=x.forwardRef((t,s)=>{const{__scopeSelect:a,...n}=t,r=Ex(a),i=Dl(Jv,a),l=El(Jv,a);return i.open&&l.position==="popper"?e.jsx(yw,{...r,...n,ref:s}):null});BG.displayName=Jv;var FG="SelectBubbleInput",yR=x.forwardRef(({__scopeSelect:t,value:s,...a},n)=>{const r=x.useRef(null),i=Ht(n,r),l=kx(s);return x.useEffect(()=>{const d=r.current;if(!d)return;const u=window.HTMLSelectElement.prototype,p=Object.getOwnPropertyDescriptor(u,"value").set;if(l!==s&&p){const f=new Event("change",{bubbles:!0});p.call(d,s),d.dispatchEvent(f)}},[l,s]),e.jsx(Tt.select,{...a,style:{...FE,...a.style},ref:i,defaultValue:s})});yR.displayName=FG;function bR(t){return t===""||t===void 0}function vR(t){const s=ki(t),a=x.useRef(""),n=x.useRef(0),r=x.useCallback(l=>{const d=a.current+l;s(d),(function u(h){a.current=h,window.clearTimeout(n.current),h!==""&&(n.current=window.setTimeout(()=>u(""),1e3))})(d)},[s]),i=x.useCallback(()=>{a.current="",window.clearTimeout(n.current)},[]);return x.useEffect(()=>()=>window.clearTimeout(n.current),[]),[a,r,i]}function jR(t,s,a){const r=s.length>1&&Array.from(s).every(h=>h===s[0])?s[0]:s,i=a?t.indexOf(a):-1;let l=IG(t,Math.max(i,0));r.length===1&&(l=l.filter(h=>h!==a));const u=l.find(h=>h.textValue.toLowerCase().startsWith(r.toLowerCase()));return u!==a?u:void 0}function IG(t,s){return t.map((a,n)=>t[(s+n)%t.length])}var $G=YE,wR=XE,zG=ZE,VG=JE,UG=eR,NR=tR,HG=rR,_R=lR,CR=dR,qG=uR,GG=mR,kR=fR,SR=pR,AR=xR;const et=$G,tt=zG,Ze=x.forwardRef(({className:t,children:s,...a},n)=>e.jsxs(wR,{ref:n,className:pt("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-input bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-1 focus:ring-ring disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...a,children:[s,e.jsx(VG,{asChild:!0,children:e.jsx(nD,{className:"h-4 w-4 opacity-50"})})]}));Ze.displayName=wR.displayName;const TR=x.forwardRef(({className:t,...s},a)=>e.jsx(kR,{ref:a,className:pt("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(A$,{className:"h-4 w-4"})}));TR.displayName=kR.displayName;const DR=x.forwardRef(({className:t,...s},a)=>e.jsx(SR,{ref:a,className:pt("flex cursor-default items-center justify-center py-1",t),...s,children:e.jsx(nD,{className:"h-4 w-4"})}));DR.displayName=SR.displayName;const Je=x.forwardRef(({className:t,children:s,position:a="popper",...n},r)=>e.jsx(UG,{children:e.jsxs(NR,{ref:r,className:pt("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",a==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:a,...n,children:[e.jsx(TR,{}),e.jsx(HG,{className:pt("p-1",a==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),e.jsx(DR,{})]})}));Je.displayName=NR.displayName;const WG=x.forwardRef(({className:t,...s},a)=>e.jsx(_R,{ref:a,className:pt("px-2 py-1.5 text-sm font-semibold",t),...s}));WG.displayName=_R.displayName;const ce=x.forwardRef(({className:t,children:s,...a},n)=>e.jsxs(CR,{ref:n,className:pt("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...a,children:[e.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(GG,{children:e.jsx(er,{className:"h-4 w-4"})})}),e.jsx(qG,{children:s})]}));ce.displayName=CR.displayName;const YG=x.forwardRef(({className:t,...s},a)=>e.jsx(AR,{ref:a,className:pt("-mx-1 my-1 h-px bg-muted",t),...s}));YG.displayName=AR.displayName;const ER=JSON.parse('[{"name":"Afghanistan","iso2":"AF","dialCode":"+93"},{"name":"Albania","iso2":"AL","dialCode":"+355"},{"name":"Algeria","iso2":"DZ","dialCode":"+213"},{"name":"American Samoa","iso2":"AS","dialCode":"+1684"},{"name":"Andorra","iso2":"AD","dialCode":"+376"},{"name":"Angola","iso2":"AO","dialCode":"+244"},{"name":"Anguilla","iso2":"AI","dialCode":"+1264"},{"name":"Antarctica","iso2":"AQ","dialCode":"+672"},{"name":"Antigua and Barbuda","iso2":"AG","dialCode":"+1268"},{"name":"Argentina","iso2":"AR","dialCode":"+54"},{"name":"Armenia","iso2":"AM","dialCode":"+374"},{"name":"Aruba","iso2":"AW","dialCode":"+297"},{"name":"Australia","iso2":"AU","dialCode":"+61"},{"name":"Austria","iso2":"AT","dialCode":"+43"},{"name":"Azerbaijan","iso2":"AZ","dialCode":"+994"},{"name":"Bahamas","iso2":"BS","dialCode":"+1242"},{"name":"Bahrain","iso2":"BH","dialCode":"+973"},{"name":"Bangladesh","iso2":"BD","dialCode":"+880"},{"name":"Barbados","iso2":"BB","dialCode":"+1246"},{"name":"Belarus","iso2":"BY","dialCode":"+375"},{"name":"Belgium","iso2":"BE","dialCode":"+32"},{"name":"Belize","iso2":"BZ","dialCode":"+501"},{"name":"Benin","iso2":"BJ","dialCode":"+229"},{"name":"Bermuda","iso2":"BM","dialCode":"+1441"},{"name":"Bhutan","iso2":"BT","dialCode":"+975"},{"name":"Bolivia","iso2":"BO","dialCode":"+591"},{"name":"Bosnia and Herzegovina","iso2":"BA","dialCode":"+387"},{"name":"Botswana","iso2":"BW","dialCode":"+267"},{"name":"Brazil","iso2":"BR","dialCode":"+55"},{"name":"British Indian Ocean Territory","iso2":"IO","dialCode":"+246"},{"name":"Brunei Darussalam","iso2":"BN","dialCode":"+673"},{"name":"Bulgaria","iso2":"BG","dialCode":"+359"},{"name":"Burkina Faso","iso2":"BF","dialCode":"+226"},{"name":"Burundi","iso2":"BI","dialCode":"+257"},{"name":"Cambodia","iso2":"KH","dialCode":"+855"},{"name":"Cameroon","iso2":"CM","dialCode":"+237"},{"name":"Canada","iso2":"CA","dialCode":"+1"},{"name":"Cape Verde","iso2":"CV","dialCode":"+238"},{"name":"Cayman Islands","iso2":"KY","dialCode":"+1345"},{"name":"Central African Republic","iso2":"CF","dialCode":"+236"},{"name":"Chad","iso2":"TD","dialCode":"+235"},{"name":"Chile","iso2":"CL","dialCode":"+56"},{"name":"China","iso2":"CN","dialCode":"+86"},{"name":"Colombia","iso2":"CO","dialCode":"+57"},{"name":"Comoros","iso2":"KM","dialCode":"+269"},{"name":"Congo","iso2":"CG","dialCode":"+242"},{"name":"Costa Rica","iso2":"CR","dialCode":"+506"},{"name":"Croatia","iso2":"HR","dialCode":"+385"},{"name":"Cuba","iso2":"CU","dialCode":"+53"},{"name":"Cyprus","iso2":"CY","dialCode":"+357"},{"name":"Czech Republic","iso2":"CZ","dialCode":"+420"},{"name":"Denmark","iso2":"DK","dialCode":"+45"},{"name":"Djibouti","iso2":"DJ","dialCode":"+253"},{"name":"Dominica","iso2":"DM","dialCode":"+1767"},{"name":"Dominican Republic","iso2":"DO","dialCode":"+1849"},{"name":"Ecuador","iso2":"EC","dialCode":"+593"},{"name":"Egypt","iso2":"EG","dialCode":"+20"},{"name":"El Salvador","iso2":"SV","dialCode":"+503"},{"name":"Equatorial Guinea","iso2":"GQ","dialCode":"+240"},{"name":"Eritrea","iso2":"ER","dialCode":"+291"},{"name":"Estonia","iso2":"EE","dialCode":"+372"},{"name":"Ethiopia","iso2":"ET","dialCode":"+251"},{"name":"Fiji","iso2":"FJ","dialCode":"+679"},{"name":"Finland","iso2":"FI","dialCode":"+358"},{"name":"France","iso2":"FR","dialCode":"+33"},{"name":"Gabon","iso2":"GA","dialCode":"+241"},{"name":"Gambia","iso2":"GM","dialCode":"+220"},{"name":"Georgia","iso2":"GE","dialCode":"+995"},{"name":"Germany","iso2":"DE","dialCode":"+49"},{"name":"Ghana","iso2":"GH","dialCode":"+233"},{"name":"Greece","iso2":"GR","dialCode":"+30"},{"name":"Greenland","iso2":"GL","dialCode":"+299"},{"name":"Guatemala","iso2":"GT","dialCode":"+502"},{"name":"Guinea","iso2":"GN","dialCode":"+224"},{"name":"GuineaBissau","iso2":"GW","dialCode":"+245"},{"name":"Guyana","iso2":"GY","dialCode":"+592"},{"name":"Haiti","iso2":"HT","dialCode":"+509"},{"name":"Honduras","iso2":"HN","dialCode":"+504"},{"name":"Hungary","iso2":"HU","dialCode":"+36"},{"name":"Iceland","iso2":"IS","dialCode":"+354"},{"name":"India","iso2":"IN","dialCode":"+91"},{"name":"Indonesia","iso2":"ID","dialCode":"+62"},{"name":"Iran","iso2":"IR","dialCode":"+98"},{"name":"Iraq","iso2":"IQ","dialCode":"+964"},{"name":"Ireland","iso2":"IE","dialCode":"+353"},{"name":"Israel","iso2":"IL","dialCode":"+972"},{"name":"Italy","iso2":"IT","dialCode":"+39"},{"name":"Jamaica","iso2":"JM","dialCode":"+1876"},{"name":"Japan","iso2":"JP","dialCode":"+81"},{"name":"Jordan","iso2":"JO","dialCode":"+962"},{"name":"Kazakhstan","iso2":"KZ","dialCode":"+7"},{"name":"Kenya","iso2":"KE","dialCode":"+254"},{"name":"Kiribati","iso2":"KI","dialCode":"+686"},{"name":"Kuwait","iso2":"KW","dialCode":"+965"},{"name":"Kyrgyzstan","iso2":"KG","dialCode":"+996"},{"name":"Laos","iso2":"LA","dialCode":"+856"},{"name":"Latvia","iso2":"LV","dialCode":"+371"},{"name":"Lebanon","iso2":"LB","dialCode":"+961"},{"name":"Lesotho","iso2":"LS","dialCode":"+266"},{"name":"Liberia","iso2":"LR","dialCode":"+231"},{"name":"Libya","iso2":"LY","dialCode":"+218"},{"name":"Liechtenstein","iso2":"LI","dialCode":"+423"},{"name":"Lithuania","iso2":"LT","dialCode":"+370"},{"name":"Luxembourg","iso2":"LU","dialCode":"+352"},{"name":"Madagascar","iso2":"MG","dialCode":"+261"},{"name":"Malawi","iso2":"MW","dialCode":"+265"},{"name":"Malaysia","iso2":"MY","dialCode":"+60"},{"name":"Maldives","iso2":"MV","dialCode":"+960"},{"name":"Mali","iso2":"ML","dialCode":"+223"},{"name":"Malta","iso2":"MT","dialCode":"+356"},{"name":"Marshall Islands","iso2":"MH","dialCode":"+692"},{"name":"Mauritania","iso2":"MR","dialCode":"+222"},{"name":"Mauritius","iso2":"MU","dialCode":"+230"},{"name":"Mexico","iso2":"MX","dialCode":"+52"},{"name":"Micronesia","iso2":"FM","dialCode":"+691"},{"name":"Moldova","iso2":"MD","dialCode":"+373"},{"name":"Monaco","iso2":"MC","dialCode":"+377"},{"name":"Mongolia","iso2":"MN","dialCode":"+976"},{"name":"Montenegro","iso2":"ME","dialCode":"+382"},{"name":"Morocco","iso2":"MA","dialCode":"+212"},{"name":"Mozambique","iso2":"MZ","dialCode":"+258"},{"name":"Myanmar","iso2":"MM","dialCode":"+95"},{"name":"Namibia","iso2":"NA","dialCode":"+264"},{"name":"Nauru","iso2":"NR","dialCode":"+674"},{"name":"Nepal","iso2":"NP","dialCode":"+977"},{"name":"Netherlands","iso2":"NL","dialCode":"+31"},{"name":"New Zealand","iso2":"NZ","dialCode":"+64"},{"name":"Nicaragua","iso2":"NI","dialCode":"+505"},{"name":"Niger","iso2":"NE","dialCode":"+227"},{"name":"Nigeria","iso2":"NG","dialCode":"+234"},{"name":"North Korea","iso2":"KP","dialCode":"+850"},{"name":"North Macedonia","iso2":"MK","dialCode":"+389"},{"name":"Norway","iso2":"NO","dialCode":"+47"},{"name":"Oman","iso2":"OM","dialCode":"+968"},{"name":"Pakistan","iso2":"PK","dialCode":"+92"},{"name":"Palau","iso2":"PW","dialCode":"+680"},{"name":"Palestine","iso2":"PS","dialCode":"+970"},{"name":"Panama","iso2":"PA","dialCode":"+507"},{"name":"Papua New Guinea","iso2":"PG","dialCode":"+675"},{"name":"Paraguay","iso2":"PY","dialCode":"+595"},{"name":"Peru","iso2":"PE","dialCode":"+51"},{"name":"Philippines","iso2":"PH","dialCode":"+63"},{"name":"Poland","iso2":"PL","dialCode":"+48"},{"name":"Portugal","iso2":"PT","dialCode":"+351"},{"name":"Puerto Rico","iso2":"PR","dialCode":"+1"},{"name":"Qatar","iso2":"QA","dialCode":"+974"},{"name":"Romania","iso2":"RO","dialCode":"+40"},{"name":"Russia","iso2":"RU","dialCode":"+7"},{"name":"Rwanda","iso2":"RW","dialCode":"+250"},{"name":"Saint Kitts and Nevis","iso2":"KN","dialCode":"+1869"},{"name":"Saint Lucia","iso2":"LC","dialCode":"+1758"},{"name":"Saint Vincent and the Grenadines","iso2":"VC","dialCode":"+1784"},{"name":"Samoa","iso2":"WS","dialCode":"+685"},{"name":"San Marino","iso2":"SM","dialCode":"+378"},{"name":"Sao Tome and Principe","iso2":"ST","dialCode":"+239"},{"name":"Saudi Arabia","iso2":"SA","dialCode":"+966"},{"name":"Senegal","iso2":"SN","dialCode":"+221"},{"name":"Serbia","iso2":"RS","dialCode":"+381"},{"name":"Seychelles","iso2":"SC","dialCode":"+248"},{"name":"Sierra Leone","iso2":"SL","dialCode":"+232"},{"name":"Singapore","iso2":"SG","dialCode":"+65"},{"name":"Slovakia","iso2":"SK","dialCode":"+421"},{"name":"Slovenia","iso2":"SI","dialCode":"+386"},{"name":"Solomon Islands","iso2":"SB","dialCode":"+677"},{"name":"Somalia","iso2":"SO","dialCode":"+252"},{"name":"South Africa","iso2":"ZA","dialCode":"+27"},{"name":"South Korea","iso2":"KR","dialCode":"+82"},{"name":"South Sudan","iso2":"SS","dialCode":"+211"},{"name":"Spain","iso2":"ES","dialCode":"+34"},{"name":"Sri Lanka","iso2":"LK","dialCode":"+94"},{"name":"Sudan","iso2":"SD","dialCode":"+249"},{"name":"Suriname","iso2":"SR","dialCode":"+597"},{"name":"Sweden","iso2":"SE","dialCode":"+46"},{"name":"Switzerland","iso2":"CH","dialCode":"+41"},{"name":"Syria","iso2":"SY","dialCode":"+963"},{"name":"Taiwan","iso2":"TW","dialCode":"+886"},{"name":"Tajikistan","iso2":"TJ","dialCode":"+992"},{"name":"Tanzania","iso2":"TZ","dialCode":"+255"},{"name":"Thailand","iso2":"TH","dialCode":"+66"},{"name":"Timor-Leste","iso2":"TL","dialCode":"+670"},{"name":"Togo","iso2":"TG","dialCode":"+228"},{"name":"Tonga","iso2":"TO","dialCode":"+676"},{"name":"Trinidad and Tobago","iso2":"TT","dialCode":"+1868"},{"name":"Tunisia","iso2":"TN","dialCode":"+216"},{"name":"Turkey","iso2":"TR","dialCode":"+90"},{"name":"Turkmenistan","iso2":"TM","dialCode":"+993"},{"name":"Tuvalu","iso2":"TV","dialCode":"+688"},{"name":"Uganda","iso2":"UG","dialCode":"+256"},{"name":"Ukraine","iso2":"UA","dialCode":"+380"},{"name":"United Arab Emirates","iso2":"AE","dialCode":"+971"},{"name":"United Kingdom","iso2":"GB","dialCode":"+44"},{"name":"United States","iso2":"US","dialCode":"+1"},{"name":"Uruguay","iso2":"UY","dialCode":"+598"},{"name":"Uzbekistan","iso2":"UZ","dialCode":"+998"},{"name":"Vanuatu","iso2":"VU","dialCode":"+678"},{"name":"Vatican City","iso2":"VA","dialCode":"+379"},{"name":"Venezuela","iso2":"VE","dialCode":"+58"},{"name":"Vietnam","iso2":"VN","dialCode":"+84"},{"name":"Yemen","iso2":"YE","dialCode":"+967"},{"name":"Zambia","iso2":"ZM","dialCode":"+260"},{"name":"Zimbabwe","iso2":"ZW","dialCode":"+263"}]'),KG=t=>t.replace(/\D/g,""),Rb=({countries:t,iso2:s,setIso2:a,phone:n,setPhone:r,disabledPhone:i})=>e.jsxs("div",{className:"flex gap-2 w-full",children:[e.jsx("select",{value:s,onChange:l=>a(l.target.value),className:"w-[100px] sm:w-[120px] shrink-0 bg-white dark:bg-gray-800 text-gray-900 dark:text-white p-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm focus:ring-2 focus:ring-[#00A19C] focus:border-transparent transition-all",disabled:i,children:t.map(l=>e.jsxs("option",{value:l.iso2,children:[l.iso2," (",l.dialCode,")"]},l.iso2))}),e.jsx("input",{type:"tel",inputMode:"numeric",value:n,onChange:l=>r(KG(l.target.value)),placeholder:"70123456",className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-800 text-sm focus:ring-2 focus:ring-[#00A19C] focus:border-transparent transition-all",disabled:i})]});function XG(){const t=Ua(),[s,a]=x.useState("login"),[n,r]=x.useState(!1),[i,l]=x.useState(!1),d=x.useMemo(()=>ER.map(Me=>({name:Me.name,iso2:Me.iso2,dialCode:Me.dialCode.startsWith("+")?Me.dialCode:`+${Me.dialCode}`})).sort((Me,Ue)=>Me.name.localeCompare(Ue.name)),[]),u=x.useMemo(()=>{const Me=new Map;for(const Ue of d)Me.set(Ue.iso2,Ue.dialCode);return Me},[d]),h=Me=>u.get(Me)||"+961",[p,f]=x.useState(""),[y,v]=x.useState("LB"),[j,N]=x.useState(""),w=async()=>{const Me=`${h(y)}${p.replace(/^0+/,"")}`;if(!p||!j)return se.error("Please fill all fields");if(!/^\+\d{8,15}$/.test(Me))return se.error("Invalid phone number.");try{r(!0);const Ue=await xe.post("/auth/login",{phone_number:Me,password:j});if(localStorage.setItem("authToken",Ue.data.token),localStorage.setItem("token",Ue.data.token),localStorage.setItem("user",JSON.stringify(Ue.data.user)),se.success("Login successful!"),!Ue.data.user.profile_complete){t("/Complete-Profile");return}Ue.data.user.role==="agency"||Ue.data.user.role==="agency"?t("/Dashboard"):t("/")}catch(Ue){se.error(Ue.response?.data?.message||"Login failed.")}finally{r(!1)}},[_,T]=x.useState(""),[R,E]=x.useState("LB"),[A,V]=x.useState(!1),[k,B]=x.useState(""),[P,H]=x.useState(!1),[D,K]=x.useState(!1),[X,ne]=x.useState(0),[te,U]=x.useState({username:"",first_name:"",last_name:"",license_number:"",password:"",password_confirmation:"",role:"client",business_type:""}),[q,G]=x.useState({username:!1,first_name:!1,last_name:!1,license_number:!1,password:!1,password_confirmation:!1,role:!1,business_type:!1,terms:!1}),[F,M]=x.useState(!1),z=x.useRef(null),ie=x.useRef(null),le=x.useRef(null),re=x.useRef(null),fe=x.useRef(null),we=x.useRef(null),ye=x.useRef(null);x.useEffect(()=>{let Me;return X>0&&(Me=setInterval(()=>{ne(Ue=>Ue<=1?(K(!0),0):Ue-1)},1e3)),()=>clearInterval(Me)},[X]);const Be=()=>{T(""),V(!1),B(""),H(!1),K(!1),ne(0),M(!1),U({username:"",first_name:"",last_name:"",license_number:"",password:"",password_confirmation:"",role:"client",business_type:""}),G({username:!1,first_name:!1,last_name:!1,license_number:!1,password:!1,password_confirmation:!1,role:!1,business_type:!1,terms:!1})},ke=()=>{V(!1),B(""),H(!1),K(!1),ne(0),T("")},Ye=async()=>{if(!_)return se.error("Please enter a phone number.");const Me=`${h(R)}${_.replace(/^0+/,"")}`;if(!/^\+\d{8,15}$/.test(Me))return se.error("Please enter a valid phone number with country code.");try{r(!0);const Ue=zD(),Fe=await VD(Me,Ue);Fe.message&&se.success(Fe.message),Fe.warning&&se.warning(Fe.warning),V(!0),K(!1),ne(60)}catch(Ue){if(Ue.response?.status===429){const Fe=Ue.response?.headers?.["retry-after"],os=Fe?parseInt(Fe,10):60;!Number.isNaN(os)&&os>0?se.error(`Too many attempts. Try again in ${os} second${os!==1?"s":""}.`):se.error("Too many attempts. Try again in a minute.")}else if(Ue.response?.status===422&&Ue.response?.data?.errors){const Fe=Ue.response.data.errors;Object.keys(Fe).forEach(os=>{(Fe[os]||[]).forEach(Es=>se.error(Es))})}else Ue.response?.data?.error?se.error(Ue.response.data.error):se.error(Ue.response?.data?.message||"Failed to send OTP. Please try again.")}finally{r(!1)}},rt=async()=>{D&&await Ye()},Se=async()=>{if(!k)return se.error("Please enter the OTP code.");if(k.length!==6)return se.error("OTP code must be 6 digits.");const Me=`${h(R)}${_.replace(/^0+/,"")}`;try{r(!0);const Ue=await UD(Me,k);Ue.message?se.success(Ue.message):se.success("OTP verified! Complete your registration."),H(!0)}catch(Ue){Ue.response?.data?.error?se.error(Ue.response.data.error):se.error(Ue.response?.data?.message||"Invalid or expired OTP.")}finally{r(!1)}},Xe=async()=>{let Me=!1;const Ue={username:!1,first_name:!1,last_name:!1,license_number:!1,password:!1,password_confirmation:!1,role:!1,business_type:!1,terms:!1};if(te.username.trim()||(Ue.username=!0,Me=!0),te.first_name.trim()||(Ue.first_name=!0,Me=!0),te.last_name.trim()||(Ue.last_name=!0,Me=!0),te.role==="client"&&!te.license_number.trim()&&(Ue.license_number=!0,Me=!0),te.password||(Ue.password=!0,Me=!0),te.password!==te.password_confirmation&&(Ue.password=!0,Ue.password_confirmation=!0,Me=!0),te.password.length<6&&(Ue.password=!0,Me=!0),te.password_confirmation||(Ue.password_confirmation=!0,Me=!0),F||(Ue.terms=!0,Me=!0),Me){G(Ue);const os=["username","first_name","last_name","license_number","password","password_confirmation","terms"],Es={username:z,first_name:ie,last_name:le,license_number:re,password:fe,password_confirmation:we,terms:ye},js=os.find(rr=>Ue[rr]);if(js){const da=Es[js]?.current;da&&(typeof da.focus=="function"&&da.focus(),da.scrollIntoView({behavior:"smooth",block:"center"}))}se.error("Please fill in the required fields highlighted in red.");return}const Fe=`${h(R)}${_.replace(/^0+/,"")}`;try{r(!0);const Es={phone_number:Fe.replace(/^\+/,""),otp_code:k,...te,role:"client"},js=await xe.post("/auth/register",Es);localStorage.setItem("authToken",js.data.token),localStorage.setItem("token",js.data.token),localStorage.setItem("user",JSON.stringify(js.data.user)),se.success("Registration successful! Please complete your profile."),t("/Complete-Profile")}catch(os){os.response?.data?.errors?Object.keys(os.response.data.errors).forEach(Es=>{os.response.data.errors[Es].forEach(js=>se.error(js))}):se.error(os.response?.data?.message||"Registration failed.")}finally{r(!1)}},[Pe,mt]=x.useState(""),[_t,at]=x.useState("LB"),[ds,us]=x.useState(!1),[Ps,pe]=x.useState(""),[_e,he]=x.useState(""),[$e,Ve]=x.useState(""),[dt,xt]=x.useState(!1),[ot,It]=x.useState(0);x.useEffect(()=>{let Me;return ot>0&&(Me=setInterval(()=>{It(Ue=>Ue<=1?(xt(!0),0):Ue-1)},1e3)),()=>clearInterval(Me)},[ot]);const Dt=()=>{l(!1),mt(""),us(!1),pe(""),he(""),Ve(""),xt(!1),It(0)},es=()=>{mt(""),us(!1),pe(""),he(""),Ve(""),xt(!1),It(0)},Us=async()=>{if(!Pe)return se.error("Please enter your phone number.");const Me=`${h(_t)}${Pe.replace(/^0+/,"")}`;if(!/^\+\d{8,15}$/.test(Me))return se.error("Please enter a valid phone number with country code.");try{r(!0);const Ue=await nU(Me);Ue.message&&se.success(Ue.message),Ue.warning&&se.warning(Ue.warning),us(!0),xt(!1),It(60)}catch(Ue){if(Ue.response?.status===429)se.error("Too many requests. Please try again in a minute.");else if(Ue.response?.data?.error)se.error(Ue.response.data.error);else if(Ue.response?.data?.errors){const Fe=Ue.response.data.errors;Object.keys(Fe).forEach(os=>{Fe[os].forEach(Es=>se.error(Es))})}else se.error(Ue.response?.data?.message||"Failed to send OTP.")}finally{r(!1)}},is=async()=>{dt&&await Us()},bs=async()=>{if(!Ps)return se.error("Please enter the OTP code.");if(Ps.length!==6)return se.error("OTP code must be 6 digits.");if(!_e||!$e)return se.error("Please enter your new password.");if(_e!==$e)return se.error("Passwords do not match!");if(_e.length<6)return se.error("Password must be at least 6 characters long.");const Me=`${h(_t)}${Pe.replace(/^0+/,"")}`,Ue=Me.trim().startsWith("+")?Me:`+${Me}`;try{r(!0);const Fe=await xe.post("/auth/reset-password",{phone_number:Ue,otp_code:Ps,new_password:_e,new_password_confirmation:$e});se.success(Fe.data?.message||"Password reset successfully! You can now login."),Dt(),a("login")}catch(Fe){if(Fe.response?.data?.error)se.error(Fe.response.data.error);else if(Fe.response?.data?.errors){const os=Fe.response.data.errors;Object.keys(os).forEach(Es=>{os[Es].forEach(js=>se.error(js))})}else se.error(Fe.response?.data?.message||"Failed to reset password.")}finally{r(!1)}};return i?e.jsxs("div",{className:"min-h-screen flex items-center justify-center px-4 py-8 bg-gradient-to-br from-gray-50 via-white to-[#8EDC81]/10 dark:from-gray-950 dark:via-gray-900 dark:to-gray-800 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-[#1e5f7a]/10 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-[#00A19C]/10 rounded-full blur-3xl animate-pulse animation-delay-700"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 w-96 h-96 bg-[#8EDC81]/10 rounded-full blur-3xl animate-pulse animation-delay-1400"})]}),e.jsxs("div",{className:"w-full max-w-md relative z-10 animate-fade-in-up",children:[e.jsxs(Q,{variant:"ghost",onClick:Dt,className:"mb-6 hover:bg-[#00A19C]/10 transition-all hover:scale-105",children:[e.jsx(yi,{className:"w-4 h-4 mr-2"}),"Back to Login"]}),e.jsxs("div",{className:"flex flex-col items-center mb-8 animate-fade-in",children:[e.jsx("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] flex items-center justify-center shadow-xl shadow-[#00A19C]/30 mb-4 animate-float",children:e.jsx(Vt,{className:"w-10 h-10 text-white"})}),e.jsx("h1",{className:"text-4xl font-black bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] bg-clip-text text-transparent",children:"Rento LB"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2 font-medium",children:"Reset Your Password"})]}),e.jsxs(Ae,{className:"border-2 border-gray-200 dark:border-gray-700 hover:border-[#00A19C] transition-all duration-500 hover:shadow-2xl hover:shadow-[#00A19C]/20 bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm",children:[e.jsxs(ns,{children:[e.jsx(rs,{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Reset Password"}),e.jsx(im,{children:"Enter your phone number to receive an OTP"})]}),e.jsx(Ee,{children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Phone Number"}),e.jsx(Rb,{countries:d,iso2:_t,setIso2:at,phone:Pe,setPhone:mt,disabledPhone:!1}),ds&&e.jsx(Q,{type:"button",variant:"link",size:"sm",onClick:es,className:"px-0 text-[#00A19C] hover:text-[#8EDC81] transition-colors",children:"Change number"})]}),ds&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2 animate-fade-in-up",children:[e.jsx(W,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"OTP Code"}),e.jsx(oe,{type:"text",inputMode:"numeric",value:Ps,onChange:Me=>{const Ue=Me.target.value.replace(/\D/g,"");Ue.length<=6&&pe(Ue)},placeholder:"Enter 6-digit OTP",maxLength:6,className:"border-2 border-gray-300 dark:border-gray-600 focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all"}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Check your phone"}),ot>0?e.jsxs("p",{className:"text-xs text-[#00A19C] font-semibold",children:["Resend in ",ot,"s"]}):e.jsxs(Q,{type:"button",variant:"link",size:"sm",onClick:is,disabled:!dt||n,className:"h-auto p-0 text-xs text-[#00A19C] hover:text-[#8EDC81] transition-colors",children:[e.jsx(Nt,{className:"w-3 h-3 mr-1"}),"Resend OTP"]})]})]}),e.jsxs("div",{className:"space-y-2 animate-fade-in-up animation-delay-200",children:[e.jsx(W,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(ul,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(oe,{type:"password",value:_e,onChange:Me=>he(Me.target.value),className:"pl-10 border-2 border-gray-300 dark:border-gray-600 focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all",minLength:6,placeholder:"At least 6 characters"})]})]}),e.jsxs("div",{className:"space-y-2 animate-fade-in-up animation-delay-300",children:[e.jsx(W,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Confirm New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(ul,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(oe,{type:"password",value:$e,onChange:Me=>Ve(Me.target.value),className:"pl-10 border-2 border-gray-300 dark:border-gray-600 focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all",placeholder:"Re-enter password"})]})]})]}),ds?e.jsx(Q,{onClick:bs,className:"w-full bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] hover:from-[#184a5e] hover:via-[#008c88] hover:to-[#7bc876] text-white font-bold py-6 rounded-xl shadow-lg shadow-[#00A19C]/30 hover:shadow-xl hover:shadow-[#00A19C]/40 transition-all duration-300 hover:scale-105",disabled:n,children:n?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Nt,{className:"w-4 h-4 animate-spin"}),"Resetting..."]}):"Reset Password"}):e.jsx(Q,{onClick:Us,className:"w-full bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] hover:from-[#184a5e] hover:via-[#008c88] hover:to-[#7bc876] text-white font-bold py-6 rounded-xl shadow-lg shadow-[#00A19C]/30 hover:shadow-xl hover:shadow-[#00A19C]/40 transition-all duration-300 hover:scale-105",disabled:n,children:n?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Nt,{className:"w-4 h-4 animate-spin"}),"Sending..."]}):"Send OTP"})]})})]})]})]}):e.jsxs("div",{className:"min-h-screen flex items-center justify-center px-4 py-8 bg-gradient-to-br from-gray-50 via-white to-[#8EDC81]/10 dark:from-gray-950 dark:via-gray-900 dark:to-gray-800 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-[#1e5f7a]/10 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-[#00A19C]/10 rounded-full blur-3xl animate-pulse animation-delay-700"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 w-96 h-96 bg-[#8EDC81]/10 rounded-full blur-3xl animate-pulse animation-delay-1400"}),e.jsx("div",{className:"absolute top-[10%] left-[15%] w-3 h-3 bg-[#00A19C] rounded-full animate-float animation-delay-500 opacity-20"}),e.jsx("div",{className:"absolute top-[60%] left-[80%] w-4 h-4 bg-[#8EDC81] rounded-full animate-float animation-delay-1000 opacity-20"}),e.jsx("div",{className:"absolute top-[80%] left-[20%] w-2 h-2 bg-[#1e5f7a] rounded-full animate-float animation-delay-1500 opacity-20"}),e.jsx("div",{className:"absolute top-[30%] left-[70%] w-3 h-3 bg-[#00A19C] rounded-full animate-float animation-delay-2000 opacity-20"})]}),e.jsxs("div",{className:"w-full max-w-md relative z-10 animate-fade-in-up",children:[e.jsxs(Q,{variant:"ghost",onClick:()=>t("/"),className:"mb-6 hover:bg-[#00A19C]/10 transition-all hover:scale-105 group",children:[e.jsx(yi,{className:"w-4 h-4 mr-2 group-hover:-translate-x-1 transition-transform"}),"Back to Home"]}),e.jsxs("div",{className:"flex flex-col items-center mb-8 animate-fade-in",children:[e.jsx("div",{className:"w-24 h-24 rounded-2xl flex items-center justify-center mb-4 animate-float hover:scale-110 transition-transform duration-300 cursor-pointer shadow-md shadow-gray-400/20",children:e.jsx("img",{src:"/rentologo.png",alt:"Rento LB Logo",className:"w-24 h-24 object-contain"})}),e.jsx("h1",{className:"text-4xl font-black bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] bg-clip-text text-transparent mb-2",children:"Rento LB"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 font-medium flex items-center gap-2",children:[e.jsx(zd,{className:"w-4 h-4 text-[#00A19C]"}),"Lebanon's Premier Car Rental",e.jsx(zd,{className:"w-4 h-4 text-[#8EDC81]"})]})]}),e.jsxs(Ae,{className:"border-2 border-gray-200 dark:border-gray-700 hover:border-[#00A19C] transition-all duration-500 hover:shadow-2xl hover:shadow-[#00A19C]/20 bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm",children:[e.jsxs(ns,{className:"text-center",children:[e.jsx(rs,{className:"text-3xl font-black text-gray-900 dark:text-white",children:"Welcome Back"}),e.jsx(im,{className:"text-base",children:"Login or register to access your account"})]}),e.jsxs(Ee,{children:[e.jsxs(fo,{value:s,onValueChange:Me=>{a(Me),Me==="register"&&Be()},className:"w-full",children:[e.jsxs(Si,{className:"grid w-full grid-cols-2 mb-6 bg-gray-100 dark:bg-gray-700 p-1 rounded-xl",children:[e.jsx(Pt,{value:"login",className:"rounded-lg data-[state=active]:bg-gradient-to-r data-[state=active]:from-[#1e5f7a] data-[state=active]:via-[#00A19C] data-[state=active]:to-[#8EDC81] data-[state=active]:text-white font-semibold transition-all",children:"Login"}),e.jsx(Pt,{value:"register",className:"rounded-lg data-[state=active]:bg-gradient-to-r data-[state=active]:from-[#1e5f7a] data-[state=active]:via-[#00A19C] data-[state=active]:to-[#8EDC81] data-[state=active]:text-white font-semibold transition-all",children:"Register"})]}),e.jsx(zt,{value:"login",className:"animate-fade-in",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(W,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[e.jsx(Wr,{className:"w-4 h-4 text-[#00A19C]"}),"Phone Number"]}),e.jsx(Rb,{countries:d,iso2:y,setIso2:v,phone:p,setPhone:f,disabledPhone:!1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(W,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[e.jsx(ul,{className:"w-4 h-4 text-[#00A19C]"}),"Password"]}),e.jsxs("div",{className:"relative",children:[e.jsx(ul,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(oe,{type:"password",value:j,onChange:Me=>N(Me.target.value),className:"pl-10 border-2 border-gray-300 dark:border-gray-600 focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all",placeholder:"Enter your password",onKeyPress:Me=>Me.key==="Enter"&&w()})]})]}),e.jsx(Q,{type:"button",variant:"link",className:"w-full text-sm p-0 h-auto text-[#00A19C] hover:text-[#8EDC81] font-semibold transition-colors",onClick:()=>l(!0),children:"Forgot Password?"}),e.jsx(Q,{onClick:w,disabled:n,className:"w-full bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] hover:from-[#184a5e] hover:via-[#008c88] hover:to-[#7bc876] text-white font-bold py-6 rounded-xl shadow-lg shadow-[#00A19C]/30 hover:shadow-xl hover:shadow-[#00A19C]/40 transition-all duration-300 hover:scale-105 group",children:n?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Nt,{className:"w-5 h-5 animate-spin"}),"Logging in..."]}):e.jsxs("span",{className:"flex items-center gap-2",children:["Login",e.jsx(yi,{className:"w-5 h-5 rotate-180 group-hover:translate-x-1 transition-transform"})]})})]})}),e.jsx(zt,{value:"register",className:"animate-fade-in",children:P?e.jsxs("div",{className:"space-y-5 animate-fade-in",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(W,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[e.jsx(Ci,{className:"w-4 h-4 text-[#00A19C]"}),"Username"]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ci,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(oe,{type:"text",ref:z,value:te.username,onChange:Me=>{U({...te,username:Me.target.value}),G(Ue=>({...Ue,username:!1}))},className:`pl-10 border-2 ${q.username?"border-red-500":"border-gray-300 dark:border-gray-600"} focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all`,placeholder:"Choose a username"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"First Name"}),e.jsx(oe,{type:"text",ref:ie,value:te.first_name,onChange:Me=>{U({...te,first_name:Me.target.value}),G(Ue=>({...Ue,first_name:!1}))},className:`border-2 ${q.first_name?"border-red-500":"border-gray-300 dark:border-gray-600"} focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all`,placeholder:"First name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Last Name"}),e.jsx(oe,{type:"text",ref:le,value:te.last_name,onChange:Me=>{U({...te,last_name:Me.target.value}),G(Ue=>({...Ue,last_name:!1}))},className:`border-2 ${q.last_name?"border-red-500":"border-gray-300 dark:border-gray-600"} focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all`,placeholder:"Last name"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Driver's License Number"}),e.jsx(oe,{type:"text",ref:re,value:te.license_number,onChange:Me=>{U({...te,license_number:Me.target.value}),G(Ue=>({...Ue,license_number:!1}))},className:`border-2 ${q.license_number?"border-red-500":"border-gray-300 dark:border-gray-600"} focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all`,placeholder:"License number"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(W,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[e.jsx(ul,{className:"w-4 h-4 text-[#00A19C]"}),"Password"]}),e.jsx(oe,{type:"password",ref:fe,value:te.password,onChange:Me=>{U({...te,password:Me.target.value}),G(Ue=>({...Ue,password:!1}))},minLength:6,className:`border-2 ${q.password?"border-red-500":"border-gray-300 dark:border-gray-600"} focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all`,placeholder:"At least 6 characters"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Minimum 6 characters"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Confirm Password"}),e.jsx(oe,{type:"password",ref:we,value:te.password_confirmation,onChange:Me=>{U({...te,password_confirmation:Me.target.value}),G(Ue=>({...Ue,password_confirmation:!1}))},className:`border-2 ${q.password_confirmation?"border-red-500":"border-gray-300 dark:border-gray-600"} focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all`,placeholder:"Re-enter password"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("input",{type:"checkbox",id:"terms-accept",ref:ye,checked:F,onChange:Me=>{M(Me.target.checked),G(Ue=>({...Ue,terms:!1}))},className:`mt-1 h-4 w-4 rounded ${q.terms?"border-red-500":"border-gray-300"} text-[#00A19C] focus:ring-[#00A19C]`}),e.jsxs(W,{htmlFor:"terms-accept",className:"text-sm text-gray-600 dark:text-gray-400 cursor-pointer leading-tight",children:["I accept the"," ",e.jsx("a",{href:"/Terms-and-Conditions",target:"_blank",rel:"noopener noreferrer",className:"text-[#00A19C] hover:underline font-medium",children:"Terms of Use"})," ","and"," ",e.jsx("a",{href:"/Privacy-Policy",target:"_blank",rel:"noopener noreferrer",className:"text-[#00A19C] hover:underline font-medium",children:"Privacy Policy"}),e.jsx("span",{className:"text-red-500",children:" *"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(Q,{variant:"outline",onClick:()=>H(!1),className:"w-1/3 border-2 border-gray-300 hover:border-[#00A19C] hover:bg-[#00A19C]/10 transition-all",disabled:n,children:"Back"}),e.jsx(Q,{onClick:Xe,className:"w-2/3 bg-gradient-to-r from-[#00A19C] to-[#8EDC81] hover:from-[#008c88] hover:to-[#7bc876] text-white font-bold py-6 rounded-xl shadow-lg shadow-[#00A19C]/30 hover:shadow-xl hover:shadow-[#00A19C]/40 transition-all duration-300 hover:scale-105",disabled:n,children:n?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Nt,{className:"w-5 h-5 animate-spin"}),"Registering..."]}):"Complete Registration"})]})]}):e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(W,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[e.jsx(Wr,{className:"w-4 h-4 text-[#00A19C]"}),"Phone Number"]}),e.jsx(Rb,{countries:d,iso2:R,setIso2:E,phone:_,setPhone:T,disabledPhone:A})]}),A&&e.jsxs("div",{className:"space-y-2 animate-fade-in-up",children:[e.jsx(W,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"OTP Code"}),e.jsx(oe,{type:"text",inputMode:"numeric",value:k,onChange:Me=>{const Ue=Me.target.value.replace(/\D/g,"");Ue.length<=6&&B(Ue)},placeholder:"Enter 6-digit OTP",maxLength:6,className:"border-2 border-gray-300 dark:border-gray-600 focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 transition-all text-center text-2xl font-bold tracking-widest"}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Check your phone"}),X>0?e.jsxs("p",{className:"text-xs text-[#00A19C] font-semibold",children:["Resend in ",X,"s"]}):e.jsxs(Q,{type:"button",variant:"link",size:"sm",onClick:rt,disabled:!D||n,className:"h-auto p-0 text-xs text-[#00A19C] hover:text-[#8EDC81] transition-colors",children:[e.jsx(Nt,{className:"w-3 h-3 mr-1"}),"Resend OTP"]})]})]}),e.jsx("div",{className:"flex gap-2",children:A?e.jsxs(e.Fragment,{children:[e.jsx(Q,{variant:"outline",onClick:ke,className:"w-1/3 border-2 border-gray-300 hover:border-[#00A19C] hover:bg-[#00A19C]/10 transition-all",disabled:n,children:"Change"}),e.jsx(Q,{onClick:Se,className:"w-2/3 bg-gradient-to-r from-[#00A19C] to-[#8EDC81] hover:from-[#008c88] hover:to-[#7bc876] text-white font-bold py-6 rounded-xl shadow-lg shadow-[#00A19C]/30 hover:shadow-xl hover:shadow-[#00A19C]/40 transition-all duration-300 hover:scale-105",disabled:n,children:n?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Nt,{className:"w-5 h-5 animate-spin"}),"Verifying..."]}):"Verify OTP"})]}):e.jsx(Q,{onClick:Ye,className:"w-full bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] hover:from-[#184a5e] hover:via-[#008c88] hover:to-[#7bc876] text-white font-bold py-6 rounded-xl shadow-lg shadow-[#00A19C]/30 hover:shadow-xl hover:shadow-[#00A19C]/40 transition-all duration-300 hover:scale-105",disabled:n,children:n?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Nt,{className:"w-5 h-5 animate-spin"}),"Sending..."]}):"Send OTP"})})]})})]}),e.jsx("div",{className:"mt-6 text-center border-t border-gray-200 dark:border-gray-700 pt-6",children:e.jsxs("button",{onClick:()=>t("/"),className:"text-sm text-gray-600 dark:text-gray-400 hover:text-[#00A19C] dark:hover:text-[#8EDC81] transition-colors font-medium flex items-center gap-2 mx-auto group",children:[e.jsx(zd,{className:"w-4 h-4 group-hover:animate-pulse"}),"Continue as Guest",e.jsx(zd,{className:"w-4 h-4 group-hover:animate-pulse"})]})})]})]}),e.jsx("div",{className:"mt-6 text-center text-xs text-gray-500 dark:text-gray-400",children:e.jsx("p",{children:" 2024 Rento LB. All rights reserved."})})]})]})}const QG=Xj("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Re({className:t,variant:s,...a}){return e.jsx("div",{className:pt(QG({variant:s}),t),...a})}const ZG=({feedbacks:t,onClose:s})=>e.jsx("div",{className:"fixed inset-0 bg-black/60 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",onClick:s,children:e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-6 max-w-md w-full max-h-[80vh] overflow-y-auto shadow-2xl border border-gray-200 dark:border-gray-700 animate-scale-in",onClick:a=>a.stopPropagation(),children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsxs("h3",{className:"text-xl font-bold text-gray-900 dark:text-white flex items-center gap-2",children:[e.jsx(dx,{className:"w-5 h-5 text-[#00A19C]"}),"Customer Feedback"]}),e.jsx("button",{onClick:s,className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200 transition-colors hover:scale-110 w-8 h-8 rounded-full hover:bg-gray-100 dark:hover:bg-gray-800 flex items-center justify-center","aria-label":"Close feedbacks",children:""})]}),t&&t.length>0?e.jsx("ul",{className:"space-y-4",children:t.map((a,n)=>e.jsxs("li",{className:"border-b border-gray-200 dark:border-gray-700 pb-4 last:border-0 animate-fade-in-up",style:{animationDelay:`${n*.1}s`},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ks,{className:"w-4 h-4 text-[#8EDC81] fill-[#8EDC81]"}),e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:a.rating?`${a.rating}/5`:"N/A"})]}),e.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:a.comments||"No comment provided."})]},n))}):e.jsx("p",{className:"text-gray-500 dark:text-gray-400 italic text-center py-8",children:"No feedback yet. Be the first to review!"})]})}),JG=({car:t,forceFavorite:s=!1,onToggleFavoriteApi:a})=>{const[n,r]=x.useState(!1),[i,l]=x.useState(!1),[d,u]=x.useState(!1),[h,p]=x.useState(!1),{isAuthenticated:f}=yu();x.useEffect(()=>{if(s){r(!0);return}r(!1)},[t?.id,s]);const y=async j=>{if(j.preventDefault(),j.stopPropagation(),!t?.id||i)return;if(!f){se.error("Please log in to save favorites.");return}if(a)return a();const N=!n;r(N),l(!0);try{await xe.post(`/cars/${t.id}/favorite`),window.dispatchEvent(new Event("favoritesUpdated"))}catch(w){console.error("Favorite toggle error:",w),r(!N)}finally{l(!1)}},v={id:t.id,image:t.main_image_url||t.image||"/placeholder.png",brand:t.make||t.brand||"Car",model:t.model||"Model",year:t.year||"N/A",category:t.car_category||t.type||t.category||"Standard",seats:t.seats||4,transmission:t.transmission||"Auto",fuelType:t.fuel_type||t.fuelType||"Petrol",price:t.daily_rate||t.price||0,holidayRate:t.holiday_rate||null,deposit:t.deposit||null,isDeposit:t.is_deposit||!1,feedbacks:t.feedbacks||[],popular:t.popular||!1,location:t.live_location?.address||t.location||null};return e.jsxs(e.Fragment,{children:[e.jsx(Ds,{to:`/cars/${v.id}`,className:"block group",children:e.jsxs(Ae,{className:"relative overflow-hidden h-full flex flex-col bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 hover:border-[#00A19C] transition-all duration-300 hover:shadow-lg hover:shadow-[#00A19C]/20 hover:-translate-y-1",children:[e.jsxs("div",{className:"relative overflow-hidden aspect-square bg-gray-100 dark:bg-gray-700",children:[!d&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 dark:from-gray-700 dark:via-gray-600 dark:to-gray-700 animate-pulse"}),e.jsx("img",{src:`/api/storage/${v.image}`,alt:`${v.brand} ${v.model}`,onLoad:()=>u(!0),className:`w-full h-full object-cover transition-transform duration-500 group-hover:scale-105 ${d?"opacity-100":"opacity-0"}`}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/10 to-transparent opacity-50 group-hover:opacity-70 transition-opacity duration-300"}),e.jsx("button",{onClick:y,disabled:i,"aria-label":n?"Remove from favorites":"Add to favorites",className:`absolute top-2 right-2 w-8 h-8 rounded-full backdrop-blur-sm flex items-center justify-center transition-all duration-300 z-20 ${n?"bg-red-500 shadow-md":"bg-white/90 dark:bg-gray-800/90 hover:scale-110"} ${i?"opacity-70 cursor-not-allowed":""}`,children:e.jsx(vl,{className:`w-4 h-4 transition-all ${n?"fill-white text-white":"text-gray-700 dark:text-gray-300"}`})}),e.jsx("div",{className:"absolute top-2 left-2 z-10",children:e.jsx(Re,{className:"bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm text-[#00A19C] dark:text-[#8EDC81] border border-[#00A19C]/30 dark:border-[#8EDC81]/30 text-xs font-semibold px-2 py-0.5",children:v.category})}),v.popular&&e.jsx("div",{className:"absolute bottom-2 left-2 z-10",children:e.jsxs(Re,{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white text-xs font-bold border-0 px-2 py-0.5 flex items-center gap-1",children:[e.jsx(Ks,{className:"w-3 h-3 fill-white"}),"Popular"]})}),e.jsx("div",{className:"absolute bottom-2 right-2 z-10",children:e.jsxs(Re,{className:"bg-gradient-to-r from-[#00A19C] to-[#8EDC81] text-white text-xs font-bold px-2 py-1",children:["$",v.price,"/day"]})})]}),e.jsxs(Ee,{className:"p-2.5 flex-grow",children:[e.jsxs("div",{className:"mb-1.5",children:[e.jsxs("div",{className:"flex items-baseline justify-between gap-2",children:[e.jsx("p",{className:"text-xs font-semibold text-[#00A19C] dark:text-[#8EDC81] uppercase tracking-wide",children:v.brand}),e.jsxs("div",{className:"flex flex-col items-end",children:[e.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:v.year}),v.location&&e.jsxs("div",{className:"flex items-center gap-0.5 mt-0.5",children:[e.jsx(vs,{className:"w-2.5 h-2.5 text-gray-400 dark:text-gray-500"}),e.jsx("p",{className:"text-[9px] text-gray-500 dark:text-gray-400 line-clamp-1",children:v.location})]})]})]}),e.jsx("h3",{className:"text-sm font-bold text-gray-900 dark:text-white line-clamp-1 group-hover:text-[#00A19C] dark:group-hover:text-[#8EDC81] transition-colors",children:v.model})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-1 mb-1.5",children:[e.jsxs("div",{className:"flex flex-col items-center p-1 rounded bg-gray-50 dark:bg-gray-700/50 group-hover:bg-[#00A19C]/10 dark:group-hover:bg-[#00A19C]/20 transition-colors",children:[e.jsx(xs,{className:"w-3 h-3 text-[#00A19C] dark:text-[#8EDC81] mb-0.5"}),e.jsx("span",{className:"text-[10px] font-semibold text-gray-700 dark:text-gray-300",children:v.seats})]}),e.jsxs("div",{className:"flex flex-col items-center p-1 rounded bg-gray-50 dark:bg-gray-700/50 group-hover:bg-[#00A19C]/10 dark:group-hover:bg-[#00A19C]/20 transition-colors",children:[e.jsx(Tm,{className:"w-3 h-3 text-[#00A19C] dark:text-[#8EDC81] mb-0.5"}),e.jsx("span",{className:"text-[10px] font-semibold text-gray-700 dark:text-gray-300 truncate w-full text-center",children:v.transmission.slice(0,4)})]}),e.jsxs("div",{className:"flex flex-col items-center p-1 rounded bg-gray-50 dark:bg-gray-700/50 group-hover:bg-[#00A19C]/10 dark:group-hover:bg-[#00A19C]/20 transition-colors",children:[e.jsx(cx,{className:"w-3 h-3 text-[#00A19C] dark:text-[#8EDC81] mb-0.5"}),e.jsx("span",{className:"text-[10px] font-semibold text-gray-700 dark:text-gray-300 truncate w-full text-center",children:v.fuelType.slice(0,4)})]})]}),(v.holidayRate||v.isDeposit)&&e.jsxs("div",{className:"flex items-center gap-1 mb-1.5 text-[10px]",children:[v.holidayRate&&e.jsxs("div",{className:"flex-1 text-center p-1 bg-gradient-to-br from-[#00A19C]/10 to-[#8EDC81]/10 dark:from-[#1e5f7a]/20 dark:to-[#00A19C]/20 rounded border border-[#00A19C]/20",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium text-[9px] leading-tight",children:"Holiday"}),e.jsxs("p",{className:"font-bold text-[#1e5f7a] dark:text-[#8EDC81] text-xs leading-tight",children:["$",v.holidayRate]})]}),v.isDeposit&&e.jsxs("div",{className:"flex-1 text-center p-1 bg-amber-50 dark:bg-amber-900/20 rounded border border-amber-200 dark:border-amber-800",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium text-[9px] leading-tight",children:"Deposit"}),e.jsxs("p",{className:"font-bold text-amber-600 dark:text-amber-400 text-xs leading-tight",children:["$",v.deposit]})]})]}),e.jsxs("button",{onClick:j=>{j.preventDefault(),j.stopPropagation(),p(!0)},className:"w-full flex items-center justify-between p-1 rounded bg-gray-50 dark:bg-gray-700/50 hover:bg-[#00A19C]/10 dark:hover:bg-[#00A19C]/20 transition-all border border-gray-200 dark:border-gray-700 hover:border-[#00A19C] group/feedback mb-1.5","aria-label":"Open customer feedback",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(dx,{className:"w-3 h-3 text-[#00A19C] dark:text-[#8EDC81]"}),e.jsx("span",{className:"text-[10px] font-semibold text-gray-900 dark:text-white",children:"Reviews"})]}),e.jsx(Re,{className:"bg-gradient-to-r from-[#00A19C] to-[#8EDC81] text-white text-[10px] font-bold px-1.5 py-0",children:v.feedbacks.length})]}),e.jsx(Q,{className:"w-full bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] hover:from-[#184a5e] hover:via-[#008c88] hover:to-[#7bc876] text-white font-bold py-2 text-xs rounded-lg shadow-md hover:shadow-lg transition-all duration-300 hover:scale-[1.02] group/btn",children:e.jsxs("span",{className:"flex items-center justify-center gap-1",children:[e.jsx(Ys,{className:"w-3 h-3"}),"View Details",e.jsx(Pc,{className:"w-3 h-3 group-hover/btn:translate-x-0.5 transition-transform"})]})})]})]})}),h&&e.jsx(ZG,{feedbacks:v.feedbacks,onClose:()=>p(!1)})]})},eW=()=>{const[t,s]=x.useState({location:"",pickupDate:"",returnDate:""}),[a,n]=x.useState([]),[r,i]=x.useState(!0),[l,d]=x.useState("");x.useEffect(()=>{(async()=>{try{const y=await xe.get("/guest-cars");if(!y.data||!y.data.cars)throw new Error("Invalid response from server");n(y.data.cars)}catch(y){console.error("Error fetching cars:",y.response?.data||y.message),d("Failed to load cars. Please try again later.")}finally{i(!1)}})()},[]);const u=f=>{f.preventDefault(),window.location.href="/luxury-car-rental-lebanon"},h=[{icon:Fn,title:"Premium Insurance",description:"Comprehensive coverage with every rental",gradient:"from-[#1e5f7a] to-[#00A19C]"},{icon:pu,title:"24/7 Support",description:"Round-the-clock customer service",gradient:"from-[#00A19C] to-[#8EDC81]"},{icon:Is,title:"Best Price Guarantee",description:"Competitive rates, no hidden fees",gradient:"from-[#1e5f7a] to-[#8EDC81]"},{icon:Lv,title:"Premium Fleet",description:"Luxury and high-performance vehicles",gradient:"from-[#8EDC81] to-[#00A19C]"}],p=[{value:"10K+",label:"Happy Customers",icon:xs,color:"from-[#1e5f7a] to-[#00A19C]"},{value:"50+",label:"Luxury Vehicles",icon:Vt,color:"from-[#00A19C] to-[#8EDC81]"},{value:"15",label:"Years Experience",icon:wl,color:"from-[#1e5f7a] to-[#8EDC81]"},{value:"99%",label:"Satisfaction Rate",icon:Ks,color:"from-[#8EDC81] to-[#00A19C]"}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-[#8EDC81]/10 dark:from-gray-950 dark:via-gray-900 dark:to-gray-800",children:[e.jsxs("section",{className:"relative min-h-[85vh] sm:min-h-[80vh] flex items-center justify-center overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-1/4 left-1/4 w-72 h-72 md:w-96 md:h-96 bg-[#1e5f7a]/10 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-72 h-72 md:w-96 md:h-96 bg-[#00A19C]/10 rounded-full blur-3xl animate-pulse animation-delay-700"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 w-72 h-72 md:w-96 md:h-96 bg-[#8EDC81]/10 rounded-full blur-3xl animate-pulse animation-delay-1400"})]}),e.jsxs("div",{className:"absolute inset-0 z-0",children:[e.jsx("video",{autoPlay:!0,loop:!0,muted:!0,playsInline:!0,className:"w-full h-full object-cover opacity-90",poster:"https://images.unsplash.com/photo-1492144534655-ae79c964c9d7?w=1920&q=80",children:e.jsx("source",{src:"/hero.mp4",type:"video/mp4"})}),e.jsx("div",{className:"absolute inset-0 bg-transparent"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-gray-900/10 via-transparent to-transparent"})]}),e.jsx("div",{className:"container mx-auto px-4 relative z-10 pt-24 pb-16 sm:pt-32 sm:pb-20",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center mb-8 sm:mb-12 animate-fade-in-up",children:[e.jsxs(Re,{className:"mb-4 sm:mb-6 bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8fdc81bf] text-white border-0 px-4 sm:px-6 py-2 sm:py-2.5 text-xs sm:text-sm font-bold shadow-lg shadow-[#00A19C]/30 hover:shadow-xl hover:scale-105 transition-all animate-pulse-glow",children:[e.jsx(zd,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 mr-1.5 sm:mr-2 inline"}),"Premium Car Rental Service"]}),e.jsxs("h1",{className:"text-3xl sm:text-5xl md:text-6xl lg:text-7xl font-black text-white mb-4 sm:mb-6 leading-tight drop-shadow-2xl",children:["Rent a Car in Lebanon",e.jsx("span",{className:"block mt-2 bg-gradient-to-r from-[#8EDC81] via-[#00A19C] to-[#1e5f7a] bg-clip-text text-transparent",children:"10,000+ Luxury & Premium Vehicles"})]}),e.jsx("p",{className:"text-base sm:text-xl md:text-2xl text-gray-100 mb-6 sm:mb-12 max-w-2xl mx-auto font-medium drop-shadow-lg px-4",children:"All you need in one place  the only platform with full search and filters"}),e.jsx(Ae,{className:"bg-white/95 dark:bg-gray-800/95 backdrop-blur-xl border-0 shadow-2xl shadow-black/20 p-4 sm:p-6 md:p-8 rounded-2xl animate-scale-in",children:e.jsxs("form",{onSubmit:u,children:[e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3 mb-3 sm:mb-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(vs,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 text-[#00A19C] pointer-events-none"}),e.jsx(oe,{type:"text",placeholder:"Location",value:t.location,onChange:f=>s({...t,location:f.target.value}),className:"pl-10 sm:pl-12 h-12 sm:h-14 border-2 border-gray-300 dark:border-gray-600 focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 rounded-xl text-sm sm:text-base transition-all"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ms,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 text-[#00A19C] pointer-events-none"}),e.jsx(oe,{type:"date",value:t.pickupDate,onChange:f=>s({...t,pickupDate:f.target.value}),className:"pl-10 sm:pl-12 h-12 sm:h-14 border-2 border-gray-300 dark:border-gray-600 focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 rounded-xl text-sm sm:text-base transition-all"})]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ms,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 sm:w-5 sm:h-5 text-[#00A19C] pointer-events-none"}),e.jsx(oe,{type:"date",value:t.returnDate,onChange:f=>s({...t,returnDate:f.target.value}),className:"pl-10 sm:pl-12 h-12 sm:h-14 border-2 border-gray-300 dark:border-gray-600 focus:border-[#00A19C] focus:ring-2 focus:ring-[#00A19C]/20 rounded-xl text-sm sm:text-base transition-all"})]})]}),e.jsxs(Q,{type:"submit",size:"lg",className:"w-full h-14 sm:h-16 bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] hover:from-[#184a5e] hover:via-[#008c88] hover:to-[#7bc876] text-white font-bold text-base sm:text-lg rounded-xl shadow-lg shadow-[#00A19C]/30 hover:shadow-xl hover:shadow-[#00A19C]/40 transition-all duration-300 hover:scale-[1.02] group",children:[e.jsx(Ca,{className:"w-5 h-5 sm:w-6 sm:h-6 mr-2 sm:mr-3 group-hover:rotate-90 transition-transform duration-300"}),"Search Available Cars",e.jsx(Pc,{className:"w-5 h-5 sm:w-6 sm:h-6 ml-2 sm:ml-3 group-hover:translate-x-1 transition-transform"})]})]})})]})})]}),e.jsx("section",{className:"py-16 sm:py-24 bg-gradient-to-br from-gray-50 to-[#8EDC81]/10 dark:from-gray-950 dark:to-gray-900",children:e.jsx("div",{className:"container mx-auto px-4",children:r?e.jsxs("div",{className:"flex flex-col justify-center items-center py-16 sm:py-20",children:[e.jsx("div",{className:"w-12 h-12 sm:w-16 sm:h-16 border-4 border-[#00A19C] border-t-transparent rounded-full animate-spin mb-4"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium text-sm sm:text-base",children:"Loading premium vehicles..."})]}):l?e.jsxs("div",{className:"text-center py-16 sm:py-20 px-4",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-red-100 dark:bg-red-900/20 rounded-full flex items-center justify-center mx-auto mb-4",children:e.jsx(Vt,{className:"w-8 h-8 sm:w-10 sm:h-10 text-red-500"})}),e.jsx("p",{className:"text-lg sm:text-xl text-red-500 font-semibold mb-2",children:l}),e.jsx(Q,{onClick:()=>window.location.reload(),variant:"outline",className:"mt-4 border-red-300 text-red-600 hover:bg-red-50",children:"Try Again"})]}):a.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-4 mb-10 sm:mb-12",children:a.slice(0,4).map((f,y)=>e.jsx("div",{className:"animate-fade-in-up",style:{animationDelay:`${y*.1}s`},children:e.jsx(JG,{car:f})},f.id))}),e.jsx("div",{className:"text-center",children:e.jsx(Ds,{to:"/luxury-car-rental-lebanon",children:e.jsxs(Q,{size:"lg",className:"bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] hover:from-[#184a5e] hover:via-[#008c88] hover:to-[#7bc876] text-white font-bold px-8 sm:px-10 py-6 sm:py-7 rounded-xl shadow-lg shadow-[#00A19C]/30 hover:shadow-xl hover:shadow-[#00A19C]/40 transition-all duration-300 hover:scale-105 text-base sm:text-lg group",children:["View All Vehicles",e.jsx(Pc,{className:"w-4 h-4 sm:w-5 sm:h-5 ml-2 group-hover:translate-x-1 transition-transform"})]})})})]}):e.jsxs("div",{className:"text-center py-16 sm:py-20 px-4",children:[e.jsx(Vt,{className:"w-12 h-12 sm:w-16 sm:h-16 text-gray-400 mx-auto mb-4"}),e.jsx("p",{className:"text-lg sm:text-xl text-gray-500 dark:text-gray-400",children:"No cars available at the moment."})]})})}),e.jsxs("section",{className:"py-12 sm:py-20 bg-white dark:bg-gray-900 relative overflow-hidden border-y border-gray-200 dark:border-gray-800",children:[e.jsx("div",{className:"absolute inset-0 opacity-5",children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81]"})}),e.jsx("div",{className:"container mx-auto px-4 relative z-10",children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 sm:gap-8",children:p.map((f,y)=>e.jsxs("div",{className:"text-center group cursor-default animate-fade-in-up",style:{animationDelay:`${y*.1}s`},children:[e.jsx("div",{className:`w-14 h-14 sm:w-20 sm:h-20 rounded-2xl bg-gradient-to-br ${f.color} flex items-center justify-center mx-auto mb-3 sm:mb-4 group-hover:scale-110 group-hover:rotate-3 transition-all duration-300 shadow-lg shadow-[#00A19C]/20`,children:e.jsx(f.icon,{className:"w-7 h-7 sm:w-10 sm:h-10 text-white"})}),e.jsx("p",{className:"text-3xl sm:text-4xl md:text-5xl font-black bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] bg-clip-text text-transparent mb-1 sm:mb-2 group-hover:scale-105 transition-transform",children:f.value}),e.jsx("p",{className:"text-xs sm:text-sm md:text-base text-gray-600 dark:text-gray-400 font-semibold",children:f.label})]},y))})})]}),e.jsx("section",{className:"py-16 sm:py-24 bg-white dark:bg-gray-900",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12 sm:mb-16 animate-fade-in",children:[e.jsxs(Re,{className:"mb-3 sm:mb-4 bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] text-white border-0 px-4 sm:px-5 py-1.5 sm:py-2 font-bold shadow-lg shadow-[#00A19C]/20 text-xs sm:text-sm",children:[e.jsx(Lv,{className:"w-3.5 h-3.5 sm:w-4 sm:h-4 inline mr-1.5 sm:mr-2"}),"Why Choose Us"]}),e.jsx("h2",{className:"text-3xl sm:text-4xl md:text-5xl lg:text-6xl font-black text-gray-900 dark:text-white mb-3 sm:mb-4 px-4",children:"All Cars, All Options"}),e.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-600 dark:text-gray-400 max-w-3xl mx-auto px-4",children:"Connecting you with the perfect car for every journey"})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 sm:gap-6 lg:gap-8",children:h.map((f,y)=>e.jsx(Ae,{className:"text-center border-2 border-gray-200 dark:border-gray-700 hover:border-[#00A19C] dark:hover:border-[#8EDC81] transition-all duration-500 hover:shadow-2xl hover:shadow-[#00A19C]/20 hover:-translate-y-2 bg-white dark:bg-gray-800 group/card animate-fade-in-up",style:{animationDelay:`${y*.1}s`},children:e.jsxs(Ee,{className:"pt-8 sm:pt-10 pb-8 sm:pb-10 px-4",children:[e.jsx("div",{className:`w-16 h-16 sm:w-20 sm:h-20 rounded-2xl bg-gradient-to-br ${f.gradient} flex items-center justify-center mx-auto mb-4 sm:mb-6 shadow-lg shadow-[#00A19C]/20 group-hover/card:scale-110 group-hover/card:rotate-3 transition-all duration-300`,children:e.jsx(f.icon,{className:"w-8 h-8 sm:w-10 sm:h-10 text-white"})}),e.jsx("h3",{className:"text-lg sm:text-xl font-bold mb-3 sm:mb-4 text-gray-900 dark:text-white group-hover/card:text-[#00A19C] dark:group-hover/card:text-[#8EDC81] transition-colors",children:f.title}),e.jsx("p",{className:"text-sm sm:text-base text-gray-600 dark:text-gray-400 leading-relaxed",children:f.description})]})},y))})]})})]})};var Rx="Checkbox",[tW]=nr(Rx),[sW,jw]=tW(Rx);function aW(t){const{__scopeCheckbox:s,checked:a,children:n,defaultChecked:r,disabled:i,form:l,name:d,onCheckedChange:u,required:h,value:p="on",internal_do_not_use_render:f}=t,[y,v]=mo({prop:a,defaultProp:r??!1,onChange:u,caller:Rx}),[j,N]=x.useState(null),[w,_]=x.useState(null),T=x.useRef(!1),R=j?!!l||!!j.closest("form"):!0,E={checked:y,disabled:i,setChecked:v,control:j,setControl:N,name:d,form:l,value:p,hasConsumerStoppedPropagationRef:T,required:h,defaultChecked:xl(r)?!1:r,isFormControl:R,bubbleInput:w,setBubbleInput:_};return e.jsx(sW,{scope:s,...E,children:nW(f)?f(E):n})}var RR="CheckboxTrigger",MR=x.forwardRef(({__scopeCheckbox:t,onKeyDown:s,onClick:a,...n},r)=>{const{control:i,value:l,disabled:d,checked:u,required:h,setControl:p,setChecked:f,hasConsumerStoppedPropagationRef:y,isFormControl:v,bubbleInput:j}=jw(RR,t),N=Ht(r,p),w=x.useRef(u);return x.useEffect(()=>{const _=i?.form;if(_){const T=()=>f(w.current);return _.addEventListener("reset",T),()=>_.removeEventListener("reset",T)}},[i,f]),e.jsx(Tt.button,{type:"button",role:"checkbox","aria-checked":xl(u)?"mixed":u,"aria-required":h,"data-state":FR(u),"data-disabled":d?"":void 0,disabled:d,value:l,...n,ref:N,onKeyDown:st(s,_=>{_.key==="Enter"&&_.preventDefault()}),onClick:st(a,_=>{f(T=>xl(T)?!0:!T),j&&v&&(y.current=_.isPropagationStopped(),y.current||_.stopPropagation())})})});MR.displayName=RR;var ww=x.forwardRef((t,s)=>{const{__scopeCheckbox:a,name:n,checked:r,defaultChecked:i,required:l,disabled:d,value:u,onCheckedChange:h,form:p,...f}=t;return e.jsx(aW,{__scopeCheckbox:a,checked:r,defaultChecked:i,disabled:d,required:l,onCheckedChange:h,name:n,form:p,value:u,internal_do_not_use_render:({isFormControl:y})=>e.jsxs(e.Fragment,{children:[e.jsx(MR,{...f,ref:s,__scopeCheckbox:a}),y&&e.jsx(BR,{__scopeCheckbox:a})]})})});ww.displayName=Rx;var PR="CheckboxIndicator",OR=x.forwardRef((t,s)=>{const{__scopeCheckbox:a,forceMount:n,...r}=t,i=jw(PR,a);return e.jsx(Er,{present:n||xl(i.checked)||i.checked===!0,children:e.jsx(Tt.span,{"data-state":FR(i.checked),"data-disabled":i.disabled?"":void 0,...r,ref:s,style:{pointerEvents:"none",...t.style}})})});OR.displayName=PR;var LR="CheckboxBubbleInput",BR=x.forwardRef(({__scopeCheckbox:t,...s},a)=>{const{control:n,hasConsumerStoppedPropagationRef:r,checked:i,defaultChecked:l,required:d,disabled:u,name:h,value:p,form:f,bubbleInput:y,setBubbleInput:v}=jw(LR,t),j=Ht(a,v),N=kx(i),w=Cx(n);x.useEffect(()=>{const T=y;if(!T)return;const R=window.HTMLInputElement.prototype,A=Object.getOwnPropertyDescriptor(R,"checked").set,V=!r.current;if(N!==i&&A){const k=new Event("click",{bubbles:V});T.indeterminate=xl(i),A.call(T,xl(i)?!1:i),T.dispatchEvent(k)}},[y,N,i,r]);const _=x.useRef(xl(i)?!1:i);return e.jsx(Tt.input,{type:"checkbox","aria-hidden":!0,defaultChecked:l??_.current,required:d,disabled:u,name:h,value:p,form:f,...s,tabIndex:-1,ref:j,style:{...s.style,...w,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});BR.displayName=LR;function nW(t){return typeof t=="function"}function xl(t){return t==="indeterminate"}function FR(t){return xl(t)?"indeterminate":t?"checked":"unchecked"}const Ih=x.forwardRef(({className:t,...s},a)=>e.jsx(ww,{ref:a,className:pt("peer h-4 w-4 shrink-0 rounded-sm border border-primary shadow focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...s,children:e.jsx(OR,{className:pt("flex items-center justify-center text-current"),children:e.jsx(er,{className:"h-4 w-4"})})}));Ih.displayName=ww.displayName;function rW(t){const s=iW(t),a=x.forwardRef((n,r)=>{const{children:i,...l}=n,d=x.Children.toArray(i),u=d.find(lW);if(u){const h=u.props.children,p=d.map(f=>f===u?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:f);return e.jsx(s,{...l,ref:r,children:x.isValidElement(h)?x.cloneElement(h,void 0,p):null})}return e.jsx(s,{...l,ref:r,children:i})});return a.displayName=`${t}.Slot`,a}function iW(t){const s=x.forwardRef((a,n)=>{const{children:r,...i}=a;if(x.isValidElement(r)){const l=dW(r),d=cW(i,r.props);return r.type!==x.Fragment&&(d.ref=n?vo(n,l):l),x.cloneElement(r,d)}return x.Children.count(r)>1?x.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var oW=Symbol("radix.slottable");function lW(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===oW}function cW(t,s){const a={...s};for(const n in s){const r=t[n],i=s[n];/^on[A-Z]/.test(n)?r&&i?a[n]=(...d)=>{const u=i(...d);return r(...d),u}:r&&(a[n]=r):n==="style"?a[n]={...r,...i}:n==="className"&&(a[n]=[r,i].filter(Boolean).join(" "))}return{...t,...a}}function dW(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var Mx="Dialog",[IR,$R]=nr(Mx),[uW,Qr]=IR(Mx),zR=t=>{const{__scopeDialog:s,children:a,open:n,defaultOpen:r,onOpenChange:i,modal:l=!0}=t,d=x.useRef(null),u=x.useRef(null),[h,p]=mo({prop:n,defaultProp:r??!1,onChange:i,caller:Mx});return e.jsx(uW,{scope:s,triggerRef:d,contentRef:u,contentId:bi(),titleId:bi(),descriptionId:bi(),open:h,onOpenChange:p,onOpenToggle:x.useCallback(()=>p(f=>!f),[p]),modal:l,children:a})};zR.displayName=Mx;var VR="DialogTrigger",UR=x.forwardRef((t,s)=>{const{__scopeDialog:a,...n}=t,r=Qr(VR,a),i=Ht(s,r.triggerRef);return e.jsx(Tt.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":Cw(r.open),...n,ref:i,onClick:st(t.onClick,r.onOpenToggle)})});UR.displayName=VR;var Nw="DialogPortal",[hW,HR]=IR(Nw,{forceMount:void 0}),qR=t=>{const{__scopeDialog:s,forceMount:a,children:n,container:r}=t,i=Qr(Nw,s);return e.jsx(hW,{scope:s,forceMount:a,children:x.Children.map(n,l=>e.jsx(Er,{present:a||i.open,children:e.jsx($m,{asChild:!0,container:r,children:l})}))})};qR.displayName=Nw;var Fg="DialogOverlay",GR=x.forwardRef((t,s)=>{const a=HR(Fg,t.__scopeDialog),{forceMount:n=a.forceMount,...r}=t,i=Qr(Fg,t.__scopeDialog);return i.modal?e.jsx(Er,{present:n||i.open,children:e.jsx(fW,{...r,ref:s})}):null});GR.displayName=Fg;var mW=rW("DialogOverlay.RemoveScroll"),fW=x.forwardRef((t,s)=>{const{__scopeDialog:a,...n}=t,r=Qr(Fg,a);return e.jsx(Ax,{as:mW,allowPinchZoom:!0,shards:[r.contentRef],children:e.jsx(Tt.div,{"data-state":Cw(r.open),...n,ref:s,style:{pointerEvents:"auto",...n.style}})})}),$c="DialogContent",WR=x.forwardRef((t,s)=>{const a=HR($c,t.__scopeDialog),{forceMount:n=a.forceMount,...r}=t,i=Qr($c,t.__scopeDialog);return e.jsx(Er,{present:n||i.open,children:i.modal?e.jsx(pW,{...r,ref:s}):e.jsx(gW,{...r,ref:s})})});WR.displayName=$c;var pW=x.forwardRef((t,s)=>{const a=Qr($c,t.__scopeDialog),n=x.useRef(null),r=Ht(s,a.contentRef,n);return x.useEffect(()=>{const i=n.current;if(i)return bw(i)},[]),e.jsx(YR,{...t,ref:r,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:st(t.onCloseAutoFocus,i=>{i.preventDefault(),a.triggerRef.current?.focus()}),onPointerDownOutside:st(t.onPointerDownOutside,i=>{const l=i.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0;(l.button===2||d)&&i.preventDefault()}),onFocusOutside:st(t.onFocusOutside,i=>i.preventDefault())})}),gW=x.forwardRef((t,s)=>{const a=Qr($c,t.__scopeDialog),n=x.useRef(!1),r=x.useRef(!1);return e.jsx(YR,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{t.onCloseAutoFocus?.(i),i.defaultPrevented||(n.current||a.triggerRef.current?.focus(),i.preventDefault()),n.current=!1,r.current=!1},onInteractOutside:i=>{t.onInteractOutside?.(i),i.defaultPrevented||(n.current=!0,i.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const l=i.target;a.triggerRef.current?.contains(l)&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&r.current&&i.preventDefault()}})}),YR=x.forwardRef((t,s)=>{const{__scopeDialog:a,trapFocus:n,onOpenAutoFocus:r,onCloseAutoFocus:i,...l}=t,d=Qr($c,a),u=x.useRef(null),h=Ht(s,u);return ow(),e.jsxs(e.Fragment,{children:[e.jsx(vx,{asChild:!0,loop:!0,trapped:n,onMountAutoFocus:r,onUnmountAutoFocus:i,children:e.jsx(Fm,{role:"dialog",id:d.contentId,"aria-describedby":d.descriptionId,"aria-labelledby":d.titleId,"data-state":Cw(d.open),...l,ref:h,onDismiss:()=>d.onOpenChange(!1)})}),e.jsxs(e.Fragment,{children:[e.jsx(yW,{titleId:d.titleId}),e.jsx(vW,{contentRef:u,descriptionId:d.descriptionId})]})]})}),_w="DialogTitle",KR=x.forwardRef((t,s)=>{const{__scopeDialog:a,...n}=t,r=Qr(_w,a);return e.jsx(Tt.h2,{id:r.titleId,...n,ref:s})});KR.displayName=_w;var XR="DialogDescription",QR=x.forwardRef((t,s)=>{const{__scopeDialog:a,...n}=t,r=Qr(XR,a);return e.jsx(Tt.p,{id:r.descriptionId,...n,ref:s})});QR.displayName=XR;var ZR="DialogClose",JR=x.forwardRef((t,s)=>{const{__scopeDialog:a,...n}=t,r=Qr(ZR,a);return e.jsx(Tt.button,{type:"button",...n,ref:s,onClick:st(t.onClick,()=>r.onOpenChange(!1))})});JR.displayName=ZR;function Cw(t){return t?"open":"closed"}var e5="DialogTitleWarning",[xW,t5]=dU(e5,{contentName:$c,titleName:_w,docsSlug:"dialog"}),yW=({titleId:t})=>{const s=t5(e5),a=`\`${s.contentName}\` requires a \`${s.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${s.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${s.docsSlug}`;return x.useEffect(()=>{t&&(document.getElementById(t)||console.error(a))},[a,t]),null},bW="DialogDescriptionWarning",vW=({contentRef:t,descriptionId:s})=>{const n=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${t5(bW).contentName}}.`;return x.useEffect(()=>{const r=t.current?.getAttribute("aria-describedby");s&&r&&(document.getElementById(s)||console.warn(n))},[n,t,s]),null},s5=zR,a5=UR,n5=qR,kw=GR,Sw=WR,Aw=KR,Tw=QR,Dw=JR;const La=s5,jW=a5,wW=n5,r5=x.forwardRef(({className:t,...s},a)=>e.jsx(kw,{ref:a,className:pt("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s}));r5.displayName=kw.displayName;const ka=x.forwardRef(({className:t,children:s,...a},n)=>e.jsxs(wW,{children:[e.jsx(r5,{}),e.jsxs(Sw,{ref:n,className:pt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...a,children:[s,e.jsxs(Dw,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[e.jsx(ta,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));ka.displayName=Sw.displayName;const Sa=({className:t,...s})=>e.jsx("div",{className:pt("flex flex-col space-y-1.5 text-center sm:text-left",t),...s});Sa.displayName="DialogHeader";const i5=({className:t,...s})=>e.jsx("div",{className:pt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});i5.displayName="DialogFooter";const Aa=x.forwardRef(({className:t,...s},a)=>e.jsx(Aw,{ref:a,className:pt("text-lg font-semibold leading-none tracking-tight",t),...s}));Aa.displayName=Aw.displayName;const ji=x.forwardRef(({className:t,...s},a)=>e.jsx(Tw,{ref:a,className:pt("text-sm text-muted-foreground",t),...s}));ji.displayName=Tw.displayName;var o5=["PageUp","PageDown"],l5=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],c5={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},Nu="Slider",[ej,NW,_W]=xx(Nu),[d5]=nr(Nu,[_W]),[CW,Px]=d5(Nu),u5=x.forwardRef((t,s)=>{const{name:a,min:n=0,max:r=100,step:i=1,orientation:l="horizontal",disabled:d=!1,minStepsBetweenThumbs:u=0,defaultValue:h=[n],value:p,onValueChange:f=()=>{},onValueCommit:y=()=>{},inverted:v=!1,form:j,...N}=t,w=x.useRef(new Set),_=x.useRef(0),R=l==="horizontal"?kW:SW,[E=[],A]=mo({prop:p,defaultProp:h,onChange:D=>{[...w.current][_.current]?.focus(),f(D)}}),V=x.useRef(E);function k(D){const K=RW(E,D);H(D,K)}function B(D){H(D,_.current)}function P(){const D=V.current[_.current];E[_.current]!==D&&y(E)}function H(D,K,{commit:X}={commit:!1}){const ne=LW(i),te=BW(Math.round((D-n)/i)*i+n,ne),U=Rg(te,[n,r]);A((q=[])=>{const G=DW(q,U,K);if(OW(G,u*i)){_.current=G.indexOf(U);const F=String(G)!==String(q);return F&&X&&y(G),F?G:q}else return q})}return e.jsx(CW,{scope:t.__scopeSlider,name:a,disabled:d,min:n,max:r,valueIndexToChangeRef:_,thumbs:w.current,values:E,orientation:l,form:j,children:e.jsx(ej.Provider,{scope:t.__scopeSlider,children:e.jsx(ej.Slot,{scope:t.__scopeSlider,children:e.jsx(R,{"aria-disabled":d,"data-disabled":d?"":void 0,...N,ref:s,onPointerDown:st(N.onPointerDown,()=>{d||(V.current=E)}),min:n,max:r,inverted:v,onSlideStart:d?void 0:k,onSlideMove:d?void 0:B,onSlideEnd:d?void 0:P,onHomeKeyDown:()=>!d&&H(n,0,{commit:!0}),onEndKeyDown:()=>!d&&H(r,E.length-1,{commit:!0}),onStepKeyDown:({event:D,direction:K})=>{if(!d){const te=o5.includes(D.key)||D.shiftKey&&l5.includes(D.key)?10:1,U=_.current,q=E[U],G=i*te*K;H(q+G,U,{commit:!0})}}})})})})});u5.displayName=Nu;var[h5,m5]=d5(Nu,{startEdge:"left",endEdge:"right",size:"width",direction:1}),kW=x.forwardRef((t,s)=>{const{min:a,max:n,dir:r,inverted:i,onSlideStart:l,onSlideMove:d,onSlideEnd:u,onStepKeyDown:h,...p}=t,[f,y]=x.useState(null),v=Ht(s,R=>y(R)),j=x.useRef(void 0),N=Lm(r),w=N==="ltr",_=w&&!i||!w&&i;function T(R){const E=j.current||f.getBoundingClientRect(),A=[0,E.width],k=Ew(A,_?[a,n]:[n,a]);return j.current=E,k(R-E.left)}return e.jsx(h5,{scope:t.__scopeSlider,startEdge:_?"left":"right",endEdge:_?"right":"left",direction:_?1:-1,size:"width",children:e.jsx(f5,{dir:N,"data-orientation":"horizontal",...p,ref:v,style:{...p.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:R=>{const E=T(R.clientX);l?.(E)},onSlideMove:R=>{const E=T(R.clientX);d?.(E)},onSlideEnd:()=>{j.current=void 0,u?.()},onStepKeyDown:R=>{const A=c5[_?"from-left":"from-right"].includes(R.key);h?.({event:R,direction:A?-1:1})}})})}),SW=x.forwardRef((t,s)=>{const{min:a,max:n,inverted:r,onSlideStart:i,onSlideMove:l,onSlideEnd:d,onStepKeyDown:u,...h}=t,p=x.useRef(null),f=Ht(s,p),y=x.useRef(void 0),v=!r;function j(N){const w=y.current||p.current.getBoundingClientRect(),_=[0,w.height],R=Ew(_,v?[n,a]:[a,n]);return y.current=w,R(N-w.top)}return e.jsx(h5,{scope:t.__scopeSlider,startEdge:v?"bottom":"top",endEdge:v?"top":"bottom",size:"height",direction:v?1:-1,children:e.jsx(f5,{"data-orientation":"vertical",...h,ref:f,style:{...h.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:N=>{const w=j(N.clientY);i?.(w)},onSlideMove:N=>{const w=j(N.clientY);l?.(w)},onSlideEnd:()=>{y.current=void 0,d?.()},onStepKeyDown:N=>{const _=c5[v?"from-bottom":"from-top"].includes(N.key);u?.({event:N,direction:_?-1:1})}})})}),f5=x.forwardRef((t,s)=>{const{__scopeSlider:a,onSlideStart:n,onSlideMove:r,onSlideEnd:i,onHomeKeyDown:l,onEndKeyDown:d,onStepKeyDown:u,...h}=t,p=Px(Nu,a);return e.jsx(Tt.span,{...h,ref:s,onKeyDown:st(t.onKeyDown,f=>{f.key==="Home"?(l(f),f.preventDefault()):f.key==="End"?(d(f),f.preventDefault()):o5.concat(l5).includes(f.key)&&(u(f),f.preventDefault())}),onPointerDown:st(t.onPointerDown,f=>{const y=f.target;y.setPointerCapture(f.pointerId),f.preventDefault(),p.thumbs.has(y)?y.focus():n(f)}),onPointerMove:st(t.onPointerMove,f=>{f.target.hasPointerCapture(f.pointerId)&&r(f)}),onPointerUp:st(t.onPointerUp,f=>{const y=f.target;y.hasPointerCapture(f.pointerId)&&(y.releasePointerCapture(f.pointerId),i(f))})})}),p5="SliderTrack",g5=x.forwardRef((t,s)=>{const{__scopeSlider:a,...n}=t,r=Px(p5,a);return e.jsx(Tt.span,{"data-disabled":r.disabled?"":void 0,"data-orientation":r.orientation,...n,ref:s})});g5.displayName=p5;var tj="SliderRange",x5=x.forwardRef((t,s)=>{const{__scopeSlider:a,...n}=t,r=Px(tj,a),i=m5(tj,a),l=x.useRef(null),d=Ht(s,l),u=r.values.length,h=r.values.map(y=>v5(y,r.min,r.max)),p=u>1?Math.min(...h):0,f=100-Math.max(...h);return e.jsx(Tt.span,{"data-orientation":r.orientation,"data-disabled":r.disabled?"":void 0,...n,ref:d,style:{...t.style,[i.startEdge]:p+"%",[i.endEdge]:f+"%"}})});x5.displayName=tj;var sj="SliderThumb",y5=x.forwardRef((t,s)=>{const a=NW(t.__scopeSlider),[n,r]=x.useState(null),i=Ht(s,d=>r(d)),l=x.useMemo(()=>n?a().findIndex(d=>d.ref.current===n):-1,[a,n]);return e.jsx(AW,{...t,ref:i,index:l})}),AW=x.forwardRef((t,s)=>{const{__scopeSlider:a,index:n,name:r,...i}=t,l=Px(sj,a),d=m5(sj,a),[u,h]=x.useState(null),p=Ht(s,T=>h(T)),f=u?l.form||!!u.closest("form"):!0,y=Cx(u),v=l.values[n],j=v===void 0?0:v5(v,l.min,l.max),N=EW(n,l.values.length),w=y?.[d.size],_=w?MW(w,j,d.direction):0;return x.useEffect(()=>{if(u)return l.thumbs.add(u),()=>{l.thumbs.delete(u)}},[u,l.thumbs]),e.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[d.startEdge]:`calc(${j}% + ${_}px)`},children:[e.jsx(ej.ItemSlot,{scope:t.__scopeSlider,children:e.jsx(Tt.span,{role:"slider","aria-label":t["aria-label"]||N,"aria-valuemin":l.min,"aria-valuenow":v,"aria-valuemax":l.max,"aria-orientation":l.orientation,"data-orientation":l.orientation,"data-disabled":l.disabled?"":void 0,tabIndex:l.disabled?void 0:0,...i,ref:p,style:v===void 0?{display:"none"}:t.style,onFocus:st(t.onFocus,()=>{l.valueIndexToChangeRef.current=n})})}),f&&e.jsx(b5,{name:r??(l.name?l.name+(l.values.length>1?"[]":""):void 0),form:l.form,value:v},n)]})});y5.displayName=sj;var TW="RadioBubbleInput",b5=x.forwardRef(({__scopeSlider:t,value:s,...a},n)=>{const r=x.useRef(null),i=Ht(r,n),l=kx(s);return x.useEffect(()=>{const d=r.current;if(!d)return;const u=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(u,"value").set;if(l!==s&&p){const f=new Event("input",{bubbles:!0});p.call(d,s),d.dispatchEvent(f)}},[l,s]),e.jsx(Tt.input,{style:{display:"none"},...a,ref:i,defaultValue:s})});b5.displayName=TW;function DW(t=[],s,a){const n=[...t];return n[a]=s,n.sort((r,i)=>r-i)}function v5(t,s,a){const i=100/(a-s)*(t-s);return Rg(i,[0,100])}function EW(t,s){return s>2?`Value ${t+1} of ${s}`:s===2?["Minimum","Maximum"][t]:void 0}function RW(t,s){if(t.length===1)return 0;const a=t.map(r=>Math.abs(r-s)),n=Math.min(...a);return a.indexOf(n)}function MW(t,s,a){const n=t/2,i=Ew([0,50],[0,n]);return(n-i(s)*a)*a}function PW(t){return t.slice(0,-1).map((s,a)=>t[a+1]-s)}function OW(t,s){if(s>0){const a=PW(t);return Math.min(...a)>=s}return!0}function Ew(t,s){return a=>{if(t[0]===t[1]||s[0]===s[1])return s[0];const n=(s[1]-s[0])/(t[1]-t[0]);return s[0]+n*(a-t[0])}}function LW(t){return(String(t).split(".")[1]||"").length}function BW(t,s){const a=Math.pow(10,s);return Math.round(t*a)/a}var j5=u5,FW=g5,IW=x5,$W=y5;const w5=x.forwardRef(({className:t,...s},a)=>e.jsxs(j5,{ref:a,className:pt("relative flex w-full touch-none select-none items-center",t),...s,children:[e.jsx(FW,{className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/20",children:e.jsx(IW,{className:"absolute h-full bg-primary"})}),e.jsx($W,{className:"block h-4 w-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"})]}));w5.displayName=j5.displayName;const zW=({feedbacks:t,onClose:s})=>e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl p-6 max-w-md w-full max-h-[80vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex justify-between items-center mb-4",children:[e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Customer Feedback"}),e.jsx("button",{onClick:s,className:"text-gray-500 dark:text-gray-400 hover:text-gray-700 dark:hover:text-gray-200","aria-label":"Close feedbacks",children:""})]}),t&&t.length>0?e.jsx("ul",{className:"space-y-4",children:t.map((a,n)=>e.jsxs("li",{className:"border-b border-gray-200 dark:border-gray-700 pb-4",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx(Ks,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}),e.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:a.rating?`${a.rating}/5`:"N/A"})]}),e.jsx("p",{className:"text-gray-700 dark:text-gray-300",children:a.comments||"No comment provided."})]},n))}):e.jsx("p",{className:"text-gray-500 dark:text-gray-400 italic",children:"No feedback yet."})]})}),Rw=({car:t,forceFavorite:s=!1,onToggleFavoriteApi:a})=>{const[n,r]=x.useState(!1),[i,l]=x.useState(!1),[d,u]=x.useState(!1),[h,p]=x.useState(!1),{isAuthenticated:f}=yu();x.useEffect(()=>{if(s){r(!0);return}r(!1)},[t?.id,s]);const y=async w=>{if(w.preventDefault(),w.stopPropagation(),!t?.id||i)return;if(!f){se.error("Please log in to save favorites.");return}if(a)return a();const _=!n;r(_),l(!0);try{await xe.post(`/cars/${t.id}/favorite`),se.success(_?"Added to favorites":"Removed from favorites"),window.dispatchEvent(new Event("favoritesUpdated"))}catch(T){console.error("Favorite toggle error:",T),r(!_),se.error("Failed to update favorite. Please try again.")}finally{l(!1)}},v={id:t.id,image:t.main_image_url||t.image||"/placeholder.png",brand:t.make||t.brand||"Car",model:t.model||"Model",year:t.year||"N/A",category:t.car_category||t.type||t.category||"Standard",seats:t.seats||4,transmission:t.transmission||"Auto",fuelType:t.fuel_type||t.fuelType||"Petrol",price:t.daily_rate||t.price||0,holidayRate:t.holiday_rate||null,deposit:t.deposit||null,isDeposit:t.is_deposit||!1,feedbacks:t.feedbacks||[],popular:t.popular||!1,location:t.live_location?.address||t.location||null},N=(w=>w.startsWith("data:")||/^https?:\/\//i.test(w)||w.startsWith("/api/")?w:w.startsWith("/storage/")?`/api${w}`:`/api/storage/${w.replace(/^storage\//i,"")}`)(v.image);return e.jsxs(Ds,{to:`/cars/${v.id}`,className:"block group",children:[e.jsxs(Ae,{className:"relative overflow-hidden h-full flex flex-col bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 hover:border-[#00A19C] transition-all duration-300 hover:shadow-lg hover:shadow-[#00A19C]/20 hover:-translate-y-1 aspect-[2/3]",children:[e.jsxs("div",{className:"relative overflow-hidden bg-gray-100 dark:bg-gray-700",style:{height:"60%"},children:[!d&&e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-gray-200 via-gray-300 to-gray-200 dark:from-gray-700 dark:via-gray-600 dark:to-gray-700 animate-pulse"}),e.jsx("img",{src:N,alt:`${v.brand} ${v.model}`,onLoad:()=>u(!0),onError:w=>{w.currentTarget.src.endsWith("/placeholder.png")||(w.currentTarget.onerror=null,w.currentTarget.src="/placeholder.png",u(!0))},className:`w-full h-full object-cover transition-transform duration-500 group-hover:scale-105 ${d?"opacity-100":"opacity-0"}`}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-black/10 to-transparent opacity-50 group-hover:opacity-70 transition-opacity duration-300"}),e.jsx("button",{onClick:y,disabled:i,"aria-label":n?"Remove from favorites":"Add to favorites",className:`absolute top-1.5 right-1.5 w-7 h-7 rounded-full backdrop-blur-sm flex items-center justify-center transition-all duration-300 z-20 ${n?"bg-red-500 shadow-md":"bg-white/90 dark:bg-gray-800/90 hover:scale-110"} ${i?"opacity-70 cursor-not-allowed":""}`,children:e.jsx(vl,{className:`w-3.5 h-3.5 transition-all ${n?"fill-white text-white":"text-gray-700 dark:text-gray-300"}`})}),e.jsx("div",{className:"absolute top-1.5 left-1.5 z-10",children:e.jsx(Re,{className:"bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm text-[#00A19C] dark:text-[#8EDC81] border border-[#00A19C]/30 dark:border-[#8EDC81]/30 text-[10px] font-semibold px-1.5 py-0.5",children:v.category})}),v.popular&&e.jsx("div",{className:"absolute bottom-1.5 left-1.5 z-10",children:e.jsxs(Re,{className:"bg-gradient-to-r from-amber-500 to-orange-500 text-white text-[10px] font-bold border-0 px-1.5 py-0.5 flex items-center gap-0.5",children:[e.jsx(Ks,{className:"w-2.5 h-2.5 fill-white"}),"Popular"]})}),e.jsx("div",{className:"absolute bottom-1.5 right-1.5 z-10",children:e.jsxs(Re,{className:"bg-gradient-to-r from-[#00A19C] to-[#8EDC81] text-white text-[10px] font-bold px-1.5 py-0.5",children:["$",v.price,"/day"]})})]}),e.jsxs(Ee,{className:"p-2 flex-grow flex flex-col",style:{height:"40%"},children:[e.jsx("div",{className:"mb-1",children:e.jsxs("div",{className:"flex items-start justify-between gap-2",children:[e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-[10px] font-semibold text-[#00A19C] dark:text-[#8EDC81] uppercase tracking-wide",children:v.brand}),e.jsx("h3",{className:"text-xs font-bold text-gray-900 dark:text-white line-clamp-1 group-hover:text-[#00A19C] dark:group-hover:text-[#8EDC81] transition-colors",children:v.model})]}),e.jsxs("div",{className:"flex flex-col items-end gap-0.5",children:[e.jsx("p",{className:"text-[9px] text-gray-500 dark:text-gray-400",children:v.year}),v.location&&v.location.trim()!==""&&e.jsxs("div",{className:"flex items-center gap-0.5",children:[e.jsx(vs,{className:"w-2.5 h-2.5 text-gray-400 dark:text-gray-500"}),e.jsx("p",{className:"text-[9px] text-gray-500 dark:text-gray-400 line-clamp-1",children:v.location.trim()})]})]})]})}),e.jsxs("div",{className:"grid grid-cols-3 gap-1 mb-1",children:[e.jsxs("div",{className:"flex flex-col items-center p-1 rounded bg-gray-50 dark:bg-gray-700/50 group-hover:bg-[#00A19C]/10 dark:group-hover:bg-[#00A19C]/20 transition-colors",children:[e.jsx(xs,{className:"w-2.5 h-2.5 text-[#00A19C] dark:text-[#8EDC81] mb-0.5"}),e.jsx("span",{className:"text-[9px] font-semibold text-gray-700 dark:text-gray-300",children:v.seats})]}),e.jsxs("div",{className:"flex flex-col items-center p-1 rounded bg-gray-50 dark:bg-gray-700/50 group-hover:bg-[#00A19C]/10 dark:group-hover:bg-[#00A19C]/20 transition-colors",children:[e.jsx(Tm,{className:"w-2.5 h-2.5 text-[#00A19C] dark:text-[#8EDC81] mb-0.5"}),e.jsx("span",{className:"text-[9px] font-semibold text-gray-700 dark:text-gray-300 truncate w-full text-center",children:v.transmission.slice(0,4)})]}),e.jsxs("div",{className:"flex flex-col items-center p-1 rounded bg-gray-50 dark:bg-gray-700/50 group-hover:bg-[#00A19C]/10 dark:group-hover:bg-[#00A19C]/20 transition-colors",children:[e.jsx(cx,{className:"w-2.5 h-2.5 text-[#00A19C] dark:text-[#8EDC81] mb-0.5"}),e.jsx("span",{className:"text-[9px] font-semibold text-gray-700 dark:text-gray-300 truncate w-full text-center",children:v.fuelType.slice(0,4)})]})]}),(v.holidayRate||v.isDeposit)&&e.jsxs("div",{className:"flex items-center gap-1 mb-1 text-[9px]",children:[v.holidayRate&&e.jsxs("div",{className:"flex-1 text-center p-1 bg-gradient-to-br from-[#00A19C]/10 to-[#8EDC81]/10 dark:from-[#1e5f7a]/20 dark:to-[#00A19C]/20 rounded border border-[#00A19C]/20",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium text-[8px] leading-tight",children:"Holiday"}),e.jsxs("p",{className:"font-bold text-[#1e5f7a] dark:text-[#8EDC81] text-[10px] leading-tight",children:["$",v.holidayRate]})]}),v.isDeposit&&e.jsxs("div",{className:"flex-1 text-center p-1 bg-amber-50 dark:bg-amber-900/20 rounded border border-amber-200 dark:border-amber-800",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 font-medium text-[8px] leading-tight",children:"Deposit"}),e.jsxs("p",{className:"font-bold text-amber-600 dark:text-amber-400 text-[10px] leading-tight",children:["$",v.deposit]})]})]}),e.jsxs("button",{onClick:w=>{w.preventDefault(),w.stopPropagation(),p(!0)},className:"w-full flex items-center justify-between p-1 rounded bg-gray-50 dark:bg-gray-700/50 hover:bg-[#00A19C]/10 dark:hover:bg-[#00A19C]/20 transition-all border border-gray-200 dark:border-gray-700 hover:border-[#00A19C] group/feedback mb-1","aria-label":"Open customer feedback",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(dx,{className:"w-2.5 h-2.5 text-[#00A19C] dark:text-[#8EDC81]"}),e.jsx("span",{className:"text-[9px] font-semibold text-gray-900 dark:text-white",children:"Reviews"})]}),e.jsx(Re,{className:"bg-gradient-to-r from-[#00A19C] to-[#8EDC81] text-white text-[9px] font-bold px-1 py-0",children:v.feedbacks.length})]}),e.jsx(Q,{className:"w-full bg-gradient-to-r from-[#1e5f7a] via-[#00A19C] to-[#8EDC81] hover:from-[#184a5e] hover:via-[#008c88] hover:to-[#7bc876] text-white font-bold py-1.5 text-[10px] rounded-lg shadow-md hover:shadow-lg transition-all duration-300 hover:scale-[1.02] group/btn",children:e.jsxs("span",{className:"flex items-center justify-center gap-1",children:[e.jsx(Ys,{className:"w-2.5 h-2.5"}),"View Details",e.jsx(Pc,{className:"w-2.5 h-2.5 group-hover/btn:translate-x-0.5 transition-transform"})]})})]})]}),h&&e.jsx(zW,{feedbacks:t.feedbacks||[],onClose:()=>p(!1)})]})},VW=["All Brands","BMW","Mercedes","Audi","Tesla","Porsche","Lexus","Range Rover","Jaguar"],UW=["All Types","Sedan","SUV","Sports","Luxury","Electric","Convertible"],HW=["All","Automatic","Manual"],qW=[{id:1,brand:"BMW",model:"M5 Competition",type:"Sports",transmission:"Automatic",fuelType:"Petrol",seats:5,price:299,rating:4.8,reviews:127,image:"/ali1.jpg",images:["/ali2.jpg","/ali3.jpg","/ali4.jpg"],description:"Experience the perfect blend of luxury and performance with the BMW M5 Competition. This high-performance sedan delivers 617 horsepower and can accelerate from 0-60 mph in just 3.1 seconds.",features:["Sport Mode","Leather Interior","Premium Sound","Navigation","Adaptive Cruise Control","Parking Assist"],popular:!0},{id:2,brand:"Mercedes",model:"S-Class",type:"Luxury",transmission:"Automatic",fuelType:"Hybrid",seats:5,price:349,rating:4.9,reviews:203,image:"/ali6.jpg",images:["https://images.unsplash.com/photo-1618843479313-40f8afb4b4d8?w=800&q=80","https://images.unsplash.com/photo-1617531653520-bd788a65c79a?w=800&q=80","https://images.unsplash.com/photo-1609521263047-f8f205293f24?w=800&q=80"],description:"The epitome of luxury and innovation. The Mercedes S-Class offers unparalleled comfort with cutting-edge technology and a supremely refined driving experience.",features:["Massage Seats","Ambient Lighting","Executive Rear Seats","Burmester Sound","Active Safety","Night Vision"],popular:!0},{id:3,brand:"Tesla",model:"Model S Plaid",type:"Electric",transmission:"Automatic",fuelType:"Electric",seats:5,price:279,rating:4.7,reviews:189,image:"https://images.unsplash.com/photo-1617788138017-80ad40651399?w=800&q=80",images:["https://images.unsplash.com/photo-1617788138017-80ad40651399?w=800&q=80","https://images.unsplash.com/photo-1560958089-b8a1929cea89?w=800&q=80","https://images.unsplash.com/photo-1536700503339-1e4b06520771?w=800&q=80"],description:"The quickest accelerating production car ever made. The Tesla Model S Plaid reaches 0-60 mph in under 2 seconds with a top speed of 200 mph.",features:["Autopilot","Premium Connectivity","Supercharging","Glass Roof","HEPA Air Filter","Gaming Computer"],popular:!0},{id:4,brand:"Range Rover",model:"Sport HSE",type:"SUV",transmission:"Automatic",fuelType:"Diesel",seats:7,price:329,rating:4.6,reviews:145,image:"https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=800&q=80",images:["https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=800&q=80","https://images.unsplash.com/photo-1519641471654-76ce0107ad1b?w=800&q=80","https://images.unsplash.com/photo-1533473359331-0135ef1b58bf?w=800&q=80"],description:"Commanding presence meets refined luxury. The Range Rover Sport HSE delivers exceptional off-road capability while maintaining an elegant and comfortable ride.",features:["Terrain Response","Air Suspension","Panoramic Roof","Meridian Sound","Wade Sensing","7-Seater"],popular:!1},{id:5,brand:"Porsche",model:"911 Carrera",type:"Sports",transmission:"Manual",fuelType:"Petrol",seats:2,price:399,rating:4.9,reviews:167,image:"https://images.unsplash.com/photo-1503376780353-7e6692767b70?w=800&q=80",images:["https://images.unsplash.com/photo-1503376780353-7e6692767b70?w=800&q=80","https://images.unsplash.com/photo-1614200187524-dc4b892acf16?w=800&q=80","https://images.unsplash.com/photo-1611651149758-ab7796b5e5ec?w=800&q=80"],description:"The iconic sports car that defines performance excellence. The Porsche 911 Carrera combines timeless design with cutting-edge engineering for an unforgettable driving experience.",features:["Sport Chrono","PASM Suspension","Sport Exhaust","Porsche Track Precision","Carbon Fiber","Launch Control"],popular:!0},{id:6,brand:"Audi",model:"e-tron GT",type:"Electric",transmission:"Automatic",fuelType:"Electric",seats:4,price:289,rating:4.7,reviews:134,image:"https://images.unsplash.com/photo-1614162692292-7ac56d7f8f8c?w=800&q=80",images:["https://images.unsplash.com/photo-1614162692292-7ac56d7f8f8c?w=800&q=80","https://images.unsplash.com/photo-1610768764270-790fbec18178?w=800&q=80","https://images.unsplash.com/photo-1606152421802-db97b9c7a11b?w=800&q=80"],description:"Electric performance redefined. The Audi e-tron GT delivers exhilarating acceleration and exceptional range in a stunning grand tourer package.",features:["Quattro AWD","Matrix LED","Virtual Cockpit","Fast Charging","Adaptive Air Suspension","Bang & Olufsen"],popular:!1},{id:7,brand:"Lexus",model:"LC 500",type:"Luxury",transmission:"Automatic",fuelType:"Petrol",seats:2,price:319,rating:4.8,reviews:98,image:"https://images.unsplash.com/photo-1621939514649-280e2ee25f60?w=800&q=80",images:["https://images.unsplash.com/photo-1621939514649-280e2ee25f60?w=800&q=80","https://images.unsplash.com/photo-1563720360172-67b8f3dce741?w=800&q=80","https://images.unsplash.com/photo-1552519507-da3b142c6e3d?w=800&q=80"],description:"A masterpiece of Japanese craftsmanship. The Lexus LC 500 combines breathtaking design with a naturally aspirated V8 engine for an unforgettable grand touring experience.",features:["Mark Levinson Audio","Adaptive Variable Suspension","Head-Up Display","Handcrafted Interior","Sport Mode","Active Rear Steering"],popular:!1},{id:8,brand:"BMW",model:"X7 M50i",type:"SUV",transmission:"Automatic",fuelType:"Petrol",seats:7,price:359,rating:4.7,reviews:112,image:"https://images.unsplash.com/photo-1617814076367-b759c7d7e738?w=800&q=80",images:["https://images.unsplash.com/photo-1617814076367-b759c7d7e738?w=800&q=80","https://images.unsplash.com/photo-1552519507-da3b142c6e3d?w=800&q=80","https://images.unsplash.com/photo-1606220945770-b5b6c2c55bf1?w=800&q=80"],description:"The ultimate luxury SUV for families who demand both space and performance. The BMW X7 M50i offers seating for seven without compromising on power or prestige.",features:["Sky Lounge Panoramic","Executive Lounge Seating","Gesture Control","Harman Kardon","Wireless Charging","Trailer Assist"],popular:!1},{id:9,brand:"Mercedes",model:"AMG GT",type:"Sports",transmission:"Automatic",fuelType:"Petrol",seats:2,price:429,rating:4.9,reviews:156,image:"https://images.unsplash.com/photo-1618843479313-40f8afb4b4d8?w=800&q=80",images:["https://images.unsplash.com/photo-1618843479313-40f8afb4b4d8?w=800&q=80","https://images.unsplash.com/photo-1614200187524-dc4b892acf16?w=800&q=80","https://images.unsplash.com/photo-1611651149758-ab7796b5e5ec?w=800&q=80"],description:"Pure automotive passion. The Mercedes-AMG GT combines race-bred performance with everyday usability, delivering an exhilarating driving experience on any road.",features:["AMG Performance Exhaust","AMG Ride Control","Race Mode","Carbon Fiber Package","Performance Seats","AMG Track Pace"],popular:!0},{id:10,brand:"Jaguar",model:"F-Type R",type:"Convertible",transmission:"Automatic",fuelType:"Petrol",seats:2,price:339,rating:4.6,reviews:87,image:"https://images.unsplash.com/photo-1580414057167-d31b2f96f6c8?w=800&q=80",images:["https://images.unsplash.com/photo-1580414057167-d31b2f96f6c8?w=800&q=80","https://images.unsplash.com/photo-1552519507-da3b142c6e3d?w=800&q=80","https://images.unsplash.com/photo-1567818735868-e71b99932e29?w=800&q=80"],description:"British sports car excellence. The Jaguar F-Type R delivers supercharged V8 performance with stunning design and an exhaust note that will make your heart race.",features:["Configurable Dynamics","Active Exhaust","Convertible Top","Meridian Sound","Performance Brakes","Torque Vectoring"],popular:!1},{id:11,brand:"Audi",model:"RS Q8",type:"SUV",transmission:"Automatic",fuelType:"Petrol",seats:5,price:369,rating:4.8,reviews:143,image:"https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=800&q=80",images:["https://images.unsplash.com/photo-1606664515524-ed2f786a0bd6?w=800&q=80","https://images.unsplash.com/photo-1519641471654-76ce0107ad1b?w=800&q=80","https://images.unsplash.com/photo-1533473359331-0135ef1b58bf?w=800&q=80"],description:"The pinnacle of performance SUVs. The Audi RS Q8 combines brutal acceleration with sophisticated handling and luxurious comfort for the ultimate all-weather sports car.",features:["Sport Differential","Dynamic All-Wheel Steering","Carbon Ceramic Brakes","RS Sport Exhaust","Matrix LED","Virtual Cockpit Plus"],popular:!1},{id:12,brand:"Tesla",model:"Model X",type:"SUV",transmission:"Automatic",fuelType:"Electric",seats:7,price:299,rating:4.7,reviews:201,image:"https://images.unsplash.com/photo-1560958089-b8a1929cea89?w=800&q=80",images:["https://images.unsplash.com/photo-1560958089-b8a1929cea89?w=800&q=80","https://images.unsplash.com/photo-1536700503339-1e4b06520771?w=800&q=80","https://images.unsplash.com/photo-1617788138017-80ad40651399?w=800&q=80"],description:"The future of family transportation. The Tesla Model X offers falcon-wing doors, seating for seven, and acceleration that rivals sports cars, all with zero emissions.",features:["Falcon Wing Doors","Full Self-Driving","HEPA Filter","Bioweapon Defense Mode",'17" Touchscreen',"Dog Mode"],popular:!0}];qW.filter(t=>t.popular);const GW=["GPS Navigation","Bluetooth","Backup Camera","Sunroof","Leather Seats","Heated Seats","Apple CarPlay","Android Auto","Parking Sensors","Cruise Control","Lane Assist","Collision Warning","Blind Spot Monitor","Keyless Entry","Push Start","Climate Control","USB Charging","Premium Sound"],WW=[{value:"all",label:"All Fuel Types"},{value:"benz",label:"Gasoline"},{value:"diesel",label:"Diesel"},{value:"electric",label:"Electric"},{value:"hybrid",label:"Hybrid"}],YW=[{value:"all",label:"All Drive Types"},{value:"4x4",label:"4x4 / AWD"},{value:"2_front",label:"Front Wheel Drive"},{value:"2_back",label:"Rear Wheel Drive"},{value:"autoblock",label:"Autoblock"}],KW=["Black","White","Silver","Gray","Red","Blue","Green","Yellow","Orange","Brown"],XW=[{value:"all",label:"All Cylinders"},{value:"4",label:"4 Cylinder"},{value:"6",label:"6 Cylinder"},{value:"8",label:"8 Cylinder"},{value:"10",label:"10 Cylinder"},{value:"12",label:"12 Cylinder"}],Kk=()=>{const[t,s]=x.useState([]),[a,n]=x.useState([]),[r,i]=x.useState(!0),[l,d]=x.useState({brand:"All Brands",type:"All Types",transmission:"All",priceRange:[0,1500],search:"",startDate:"",endDate:""}),[u,h]=x.useState({yearMin:"",yearMax:"",cylinderNumber:"all",color:"all",mileageMax:"",fuelType:"all",wheelsDrive:"all",seatsMin:"",doorsMin:"",features:[],withDriver:!1,isDelivered:!1,requiresDeposit:!1,holidayRateMax:""}),[p,f]=x.useState("featured"),[y,v]=x.useState(!1),[j,N]=x.useState(!1),w=x.useRef(!1),_=x.useRef(null),T=x.useRef(null),R=x.useCallback(D=>{w.current=!0,d(K=>({...K,...D}))},[]),E=x.useCallback(D=>{w.current=!0,h(K=>({...K,...D}))},[]);x.useEffect(()=>{(async()=>{try{i(!0);const ne=((await xe.get("/cars")).data.cars??[]).map(te=>{const U=te.feedbacks??[],q=U.length>0?(U.reduce((G,F)=>G+(Number(F.rating)||0),0)/U.length).toFixed(1):null;return{id:te.id,brand:te.make,make:te.make,model:te.model,year:te.year,type:te.car_category,category:te.car_category,transmission:te.transmission,price:Number(te.daily_rate),holidayRate:Number(te.holiday_rate||te.daily_rate),image:te.main_image_url,rating:q,reviews:U.length,popular:(te.views_count??0)>20,seats:te.seats,doors:te.doors,fuel_type:te.fuel_type,fuelType:te.fuel_type,wheelsDrive:te.wheels_drive,cylinderNumber:te.cylinder_number,color:te.color,mileage:te.mileage,features:te.features||[],withDriver:te.with_driver,isDelivered:te.is_delivered,feedbacks:U}});n(ne),s(ne)}catch(K){console.error("Cars fetch error:",K)}finally{i(!1)}})()},[]),x.useEffect(()=>{let D=[...a];switch(l.search&&(D=D.filter(K=>`${K.brand} ${K.model}`.toLowerCase().includes(l.search.toLowerCase()))),l.brand!=="All Brands"&&(D=D.filter(K=>K.brand===l.brand)),l.type!=="All Types"&&(D=D.filter(K=>K.type===l.type)),l.transmission!=="All"&&(D=D.filter(K=>K.transmission===l.transmission)),D=D.filter(K=>K.price>=l.priceRange[0]&&K.price<=l.priceRange[1]),u.yearMin&&(D=D.filter(K=>K.year>=Number(u.yearMin))),u.yearMax&&(D=D.filter(K=>K.year<=Number(u.yearMax))),u.cylinderNumber!=="all"&&(D=D.filter(K=>K.cylinderNumber===u.cylinderNumber)),u.color!=="all"&&(D=D.filter(K=>K.color?.toLowerCase()===u.color.toLowerCase())),u.mileageMax&&(D=D.filter(K=>(K.mileage||0)<=Number(u.mileageMax))),u.fuelType!=="all"&&(D=D.filter(K=>K.fuelType===u.fuelType)),u.wheelsDrive!=="all"&&(D=D.filter(K=>K.wheelsDrive===u.wheelsDrive)),u.seatsMin&&(D=D.filter(K=>(K.seats||0)>=Number(u.seatsMin))),u.doorsMin&&(D=D.filter(K=>(K.doors||0)>=Number(u.doorsMin))),u.holidayRateMax&&(D=D.filter(K=>(K.holidayRate||K.price)<=Number(u.holidayRateMax))),u.withDriver&&(D=D.filter(K=>K.withDriver)),u.isDelivered&&(D=D.filter(K=>K.isDelivered)),u.features.length>0&&(D=D.filter(K=>{const X=K.features||[];return u.features.every(ne=>X.includes(ne))})),p){case"price-low":D.sort((K,X)=>K.price-X.price);break;case"price-high":D.sort((K,X)=>X.price-K.price);break;case"rating":D.sort((K,X)=>(Number(X.rating)||0)-(Number(K.rating)||0));break;case"popular":D.sort((K,X)=>(X.reviews??0)-(K.reviews??0));break;case"year-new":D.sort((K,X)=>(X.year||0)-(K.year||0));break;case"year-old":D.sort((K,X)=>(K.year||0)-(X.year||0));break;default:D.sort((K,X)=>(X.popular?1:0)-(K.popular?1:0))}s(D)},[l,u,p,a]);const A=D=>({Sedan:"normal",SUV:"normal",Hatchback:"normal",Coupe:"sport",Convertible:"sport","Sports Car":"sport",Luxury:"luxury","Luxury Sedan":"luxury",Van:"commercial",Minivan:"commercial",Truck:"commercial",Pickup:"commercial",Bus:"commercial",Commercial:"commercial",Industrial:"industrial",Event:"event",Boat:"sea",Yacht:"sea","Jet Ski":"sea"})[D]||"normal",V=x.useCallback(()=>{const D={},K=(l.brand||"").trim(),X=(l.type||"").trim(),ne=(l.transmission||"").trim(),te=(l.search||"").trim();if(K&&K!=="All Brands")D.make=K,te&&(D.model=te);else if(te){const G=te.split(/\s+/).filter(Boolean);G.length>=2?(D.make=G[0],D.model=G.slice(1).join(" ")):G.length===1&&(D.model=te)}X&&X!=="All Types"&&(D.car_category=A(X)),ne&&ne!=="All"&&(D.transmission=ne.toLowerCase());const[U,q]=l.priceRange;return U>0&&(D.daily_rate_min=U),q<1500&&(D.daily_rate_max=q),u.yearMin&&(D.year_min=Number(u.yearMin)),u.yearMax&&(D.year_max=Number(u.yearMax)),u.cylinderNumber&&u.cylinderNumber!=="all"&&(D.cylinder_number=u.cylinderNumber),u.color&&u.color!=="all"&&(D.color=u.color),u.mileageMax&&(D.mileage=Number(u.mileageMax)),u.fuelType&&u.fuelType!=="all"&&(D.fuel_type=u.fuelType),u.wheelsDrive&&u.wheelsDrive!=="all"&&(D.wheels_drive=u.wheelsDrive),u.seatsMin&&(D.seats=Number(u.seatsMin)),u.doorsMin&&(D.doors=Number(u.doorsMin)),u.features.length>0&&(D.features=u.features),u.withDriver&&(D.with_driver=1),u.isDelivered&&(D.is_delivered=1),u.requiresDeposit&&(D.is_deposit=1),u.holidayRateMax&&(D.holiday_rate=Number(u.holidayRateMax)),D},[l,u]),k=x.useMemo(()=>{const D=[l.brand!=="All Brands",l.type!=="All Types",l.transmission!=="All",l.priceRange[0]!==0||l.priceRange[1]!==1500,l.search.trim()!=="",l.startDate!=="",l.endDate!==""].filter(Boolean).length,K=[u.yearMin!=="",u.yearMax!=="",u.cylinderNumber!=="all",u.color!=="all",u.mileageMax!=="",u.fuelType!=="all",u.wheelsDrive!=="all",u.seatsMin!=="",u.doorsMin!=="",u.features.length>0,u.withDriver,u.isDelivered,u.requiresDeposit,u.holidayRateMax!==""].filter(Boolean).length;return D+K},[l,u]),B=x.useCallback(async D=>{if(Object.keys(D).length===0)return;const K=JSON.stringify(D);if(T.current===K)return;let X,ne;if(l.startDate&&l.endDate){const U=q=>q?q.replace("T"," ")+":00":"";X=U(l.startDate),ne=U(l.endDate)}else{const U=new Date,q=new Date;q.setDate(U.getDate()+7);const G=F=>{const M=F.getFullYear(),z=String(F.getMonth()+1).padStart(2,"0"),ie=String(F.getDate()).padStart(2,"0"),le=String(F.getHours()).padStart(2,"0"),re=String(F.getMinutes()).padStart(2,"0"),fe=String(F.getSeconds()).padStart(2,"0");return`${M}-${z}-${ie} ${le}:${re}:${fe}`};X=G(U),ne=G(q)}const te={...D,start_datetime:X,end_datetime:ne};try{await xe.get("/cars/search",{params:te}),T.current=K,console.log(" Search saved to frequent searches")}catch(U){U.response?.status===422&&console.error(" Validation error details:",U.response?.data?.errors),console.warn("Could not save frequent search:",U.response?.data?.message||U.message)}},[l]);x.useEffect(()=>{if(w.current&&k!==0)return _.current&&clearTimeout(_.current),_.current=setTimeout(()=>{const D=V();B(D)},1500),()=>{_.current&&clearTimeout(_.current)}},[l,u,k,V,B]);const P=x.useCallback(()=>{w.current=!0,d({brand:"All Brands",type:"All Types",transmission:"All",priceRange:[0,1500],search:"",startDate:"",endDate:""}),h({yearMin:"",yearMax:"",cylinderNumber:"all",color:"all",mileageMax:"",fuelType:"all",wheelsDrive:"all",seatsMin:"",doorsMin:"",features:[],withDriver:!1,isDelivered:!1,requiresDeposit:!1,holidayRateMax:""}),f("featured")},[]),H=x.useCallback(D=>{h(K=>({...K,features:K.features.includes(D)?K.features.filter(X=>X!==D):[...K.features,D]}))},[]);return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-cyan-50/30 dark:from-gray-950 dark:via-gray-900 dark:to-cyan-950/30",children:[e.jsxs("section",{className:"relative bg-gradient-to-r from-cyan-700 via-teal-600 to-cyan-800 dark:from-cyan-900 dark:via-teal-800 dark:to-cyan-950 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-grid-white/[0.05] bg-[size:20px_20px]"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/10 to-transparent"}),e.jsx("div",{className:"container mx-auto px-4 py-12 relative",children:e.jsxs("div",{className:"max-w-4xl",children:[e.jsx("p",{className:"text-cyan-50 text-lg md:text-xl mb-6 max-w-2xl"}),e.jsxs("p",{className:"text-cyan-50 text-lg md:text-xl mb-6 max-w-2xl",children:["Explore our premium collection of"," ",e.jsx("span",{className:"font-bold text-white bg-white/20 px-2 py-0.5 rounded",children:a.length})," ","vehicles from top brands"]})]})})]}),e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsx("div",{className:"lg:hidden mb-6",children:e.jsxs(Q,{onClick:()=>v(!y),variant:"outline",className:"w-full h-12 border-2 border-cyan-700 hover:bg-cyan-50 dark:hover:bg-cyan-900/30 transition-all rounded-xl font-semibold text-cyan-700 shadow-sm",children:[e.jsx(s7,{className:"w-5 h-5 mr-2"}),y?"Hide Filters":"Show Filters",k>0&&e.jsx(Re,{className:"ml-auto bg-cyan-700 text-white h-6 px-2",children:k})]})}),e.jsxs("div",{className:"flex flex-col lg:flex-row gap-8",children:[e.jsx("aside",{className:`lg:w-80 flex-shrink-0 ${y?"block":"hidden lg:block"}`,children:e.jsxs("div",{className:"sticky top-24 space-y-4",children:[e.jsxs(Ae,{className:"border-0 shadow-lg bg-white dark:bg-gray-900 overflow-hidden",children:[e.jsx(ns,{className:"pb-4 bg-gradient-to-r from-cyan-50 to-teal-50 dark:from-cyan-900/20 dark:to-teal-900/20 border-b border-gray-200 dark:border-gray-800",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(rs,{className:"flex items-center gap-2 text-lg",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg bg-gradient-to-br from-cyan-700 to-teal-600 flex items-center justify-center",children:e.jsx(J7,{className:"w-4 h-4 text-white"})}),e.jsx("span",{children:"Search Filters"})]}),k>0&&e.jsx(Q,{variant:"ghost",size:"sm",onClick:P,className:"text-xs text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/30 h-8 px-3 font-semibold",children:"Clear All"})]})}),e.jsxs(Ee,{className:"space-y-5 pt-5 pb-6",children:[e.jsxs("div",{children:[e.jsxs(W,{htmlFor:"search",className:"mb-2.5 text-sm font-semibold flex items-center gap-2 text-gray-700 dark:text-gray-300",children:[e.jsx(Ca,{className:"w-4 h-4 text-cyan-700"}),"Quick Search"]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ca,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(oe,{id:"search",placeholder:"e.g., BMW X5, Mercedes...",value:l.search,onChange:D=>R({search:D.target.value}),className:"h-11 text-sm pl-10 pr-10 border-gray-300 focus:border-cyan-500 focus:ring-cyan-500"}),l.search&&e.jsx("button",{onClick:()=>R({search:""}),className:"absolute right-3 top-1/2 -translate-y-1/2 hover:bg-gray-100 dark:hover:bg-gray-800 p-1.5 rounded-full transition-colors","aria-label":"Clear search",children:e.jsx(ta,{className:"w-4 h-4 text-gray-500"})})]})]}),e.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-gray-300 dark:via-gray-700 to-transparent"}),e.jsxs("div",{className:"bg-gradient-to-br from-yellow-50 to-amber-50 dark:from-yellow-900/20 dark:to-amber-900/20 border-2 border-yellow-300 dark:border-yellow-800 rounded-xl p-4 shadow-sm",children:[e.jsxs(W,{className:"mb-3 text-sm font-bold flex items-center gap-2 text-yellow-900 dark:text-yellow-200",children:[e.jsx(wg,{className:"w-4 h-4"}),"Rental Period"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"startDate",className:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-1.5 block",children:"Pick-up"}),e.jsx(oe,{id:"startDate",type:"datetime-local",value:l.startDate,onChange:D=>R({startDate:D.target.value}),className:"h-10 text-sm bg-white dark:bg-gray-800 border-yellow-200 dark:border-yellow-800",min:new Date().toISOString().slice(0,16)})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"endDate",className:"text-xs font-semibold text-gray-700 dark:text-gray-300 mb-1.5 block",children:"Return"}),e.jsx(oe,{id:"endDate",type:"datetime-local",value:l.endDate,onChange:D=>R({endDate:D.target.value}),className:"h-10 text-sm bg-white dark:bg-gray-800 border-yellow-200 dark:border-yellow-800",min:l.startDate||new Date().toISOString().slice(0,16)})]}),l.startDate&&l.endDate&&e.jsxs("div",{className:"flex items-center gap-2 text-xs text-yellow-900 dark:text-yellow-200 bg-yellow-100 dark:bg-yellow-900/40 p-2.5 rounded-lg font-semibold",children:[e.jsx(Ms,{className:"w-3.5 h-3.5"}),e.jsxs("span",{children:["Duration: ",(()=>{const D=new Date(l.startDate),K=new Date(l.endDate),X=Math.ceil((K-D)/(1e3*60*60*24));return`${X} day${X!==1?"s":""}`})()]})]})]})]}),e.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-gray-300 dark:via-gray-700 to-transparent"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(W,{className:"mb-2 text-xs font-semibold block text-gray-700 dark:text-gray-300",children:"Brand"}),e.jsxs(et,{value:l.brand,onValueChange:D=>R({brand:D}),children:[e.jsx(Ze,{className:"h-10 text-sm border-gray-300",children:e.jsx(tt,{})}),e.jsx(Je,{children:VW.map(D=>e.jsx(ce,{value:D,className:"text-sm",children:D},D))})]})]}),e.jsxs("div",{children:[e.jsx(W,{className:"mb-2 text-xs font-semibold block text-gray-700 dark:text-gray-300",children:"Type"}),e.jsxs(et,{value:l.type,onValueChange:D=>R({type:D}),children:[e.jsx(Ze,{className:"h-10 text-sm border-gray-300",children:e.jsx(tt,{})}),e.jsx(Je,{children:UW.map(D=>e.jsx(ce,{value:D,className:"text-sm",children:D},D))})]})]})]}),e.jsxs("div",{children:[e.jsx(W,{className:"mb-2 text-xs font-semibold block text-gray-700 dark:text-gray-300",children:"Transmission"}),e.jsxs(et,{value:l.transmission,onValueChange:D=>R({transmission:D}),children:[e.jsx(Ze,{className:"h-10 text-sm border-gray-300",children:e.jsx(tt,{})}),e.jsx(Je,{children:HW.map(D=>e.jsx(ce,{value:D,className:"text-sm",children:D},D))})]})]}),e.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-gray-300 dark:via-gray-700 to-transparent"}),e.jsxs("div",{className:"bg-gradient-to-br from-cyan-50 to-teal-50 dark:from-cyan-900/20 dark:to-teal-900/20 rounded-xl p-4 border border-cyan-200 dark:border-cyan-800",children:[e.jsxs(W,{className:"mb-4 text-sm font-bold flex items-center justify-between text-gray-900 dark:text-white",children:[e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(Is,{className:"w-4 h-4 text-cyan-700"}),"Daily Rate"]}),e.jsxs("span",{className:"text-cyan-700 dark:text-cyan-300 font-bold text-lg",children:["$",l.priceRange[0]," - $",l.priceRange[1]]})]}),e.jsx(w5,{value:l.priceRange,onValueChange:D=>R({priceRange:D}),min:0,max:1500,step:10,className:"mt-2"}),e.jsxs("div",{className:"flex justify-between text-xs text-gray-600 dark:text-gray-400 mt-2 font-semibold",children:[e.jsx("span",{children:"$0"}),e.jsx("span",{children:"$1500+"})]})]}),e.jsx("div",{className:"h-px bg-gradient-to-r from-transparent via-gray-300 dark:via-gray-700 to-transparent"}),e.jsxs(La,{open:j,onOpenChange:N,children:[e.jsx(jW,{asChild:!0,children:e.jsxs(Q,{variant:"outline",className:"w-full h-11 border-2 border-cyan-700 text-cyan-700 hover:bg-gradient-to-r hover:from-cyan-700 hover:to-teal-600 hover:text-white transition-all font-semibold shadow-sm",children:[e.jsx(rk,{className:"w-4 h-4 mr-2"}),"Advanced Filters",k-[l.brand!=="All Brands",l.type!=="All Types",l.transmission!=="All",l.priceRange[0]!==0||l.priceRange[1]!==1500,l.search.trim()!=="",l.startDate!=="",l.endDate!==""].filter(Boolean).length>0&&e.jsxs(Re,{className:"ml-auto bg-cyan-700 text-white h-5 px-2 text-xs",children:["+",k-[l.brand!=="All Brands",l.type!=="All Types",l.transmission!=="All",l.priceRange[0]!==0||l.priceRange[1]!==1500,l.search.trim()!=="",l.startDate!=="",l.endDate!==""].filter(Boolean).length]})]})}),e.jsxs(ka,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Sa,{children:[e.jsxs(Aa,{className:"flex items-center gap-2 text-xl",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl bg-gradient-to-br from-cyan-700 to-teal-600 flex items-center justify-center",children:e.jsx(rk,{className:"w-5 h-5 text-white"})}),"Advanced Search Filters"]}),e.jsx(ji,{className:"text-base",children:"Fine-tune your search with detailed criteria to find the perfect vehicle"})]}),e.jsxs("div",{className:"space-y-6 py-6",children:[e.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700",children:[e.jsxs(W,{className:"text-sm font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[e.jsx(Ms,{className:"w-5 h-5 text-cyan-700"}),"Year Range"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"yearMin",className:"text-xs text-gray-600 dark:text-gray-400 font-semibold",children:"From Year"}),e.jsx(oe,{id:"yearMin",type:"number",placeholder:"2015",value:u.yearMin,onChange:D=>E({yearMin:D.target.value}),className:"h-10 text-sm mt-1.5",min:"1900",max:new Date().getFullYear()+1})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"yearMax",className:"text-xs text-gray-600 dark:text-gray-400 font-semibold",children:"To Year"}),e.jsx(oe,{id:"yearMax",type:"number",placeholder:"2024",value:u.yearMax,onChange:D=>E({yearMax:D.target.value}),className:"h-10 text-sm mt-1.5",min:"1900",max:new Date().getFullYear()+1})]})]})]}),e.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700",children:[e.jsxs(W,{className:"text-sm font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[e.jsx(hl,{className:"w-5 h-5 text-cyan-700"}),"Engine & Performance"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"cylinder",className:"text-xs text-gray-600 dark:text-gray-400 font-semibold",children:"Cylinders"}),e.jsxs(et,{value:u.cylinderNumber,onValueChange:D=>E({cylinderNumber:D}),children:[e.jsx(Ze,{id:"cylinder",className:"h-10 text-sm mt-1.5",children:e.jsx(tt,{})}),e.jsx(Je,{children:XW.map(D=>e.jsx(ce,{value:D.value,className:"text-sm",children:D.label},D.value))})]})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"mileage",className:"text-xs text-gray-600 dark:text-gray-400 font-semibold",children:"Max Mileage"}),e.jsx(oe,{id:"mileage",type:"number",placeholder:"100000",value:u.mileageMax,onChange:D=>E({mileageMax:D.target.value}),className:"h-10 text-sm mt-1.5",min:"0"})]})]})]}),e.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700",children:[e.jsxs(W,{className:"text-sm font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[e.jsx(cx,{className:"w-5 h-5 text-cyan-700"}),"Fuel & Drive Type"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"fuelType",className:"text-xs text-gray-600 dark:text-gray-400 font-semibold",children:"Fuel Type"}),e.jsxs(et,{value:u.fuelType,onValueChange:D=>E({fuelType:D}),children:[e.jsx(Ze,{id:"fuelType",className:"h-10 text-sm mt-1.5",children:e.jsx(tt,{})}),e.jsx(Je,{children:WW.map(D=>e.jsx(ce,{value:D.value,className:"text-sm",children:D.label},D.value))})]})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"wheelsDrive",className:"text-xs text-gray-600 dark:text-gray-400 font-semibold",children:"Drive Type"}),e.jsxs(et,{value:u.wheelsDrive,onValueChange:D=>E({wheelsDrive:D}),children:[e.jsx(Ze,{id:"wheelsDrive",className:"h-10 text-sm mt-1.5",children:e.jsx(tt,{})}),e.jsx(Je,{children:YW.map(D=>e.jsx(ce,{value:D.value,className:"text-sm",children:D.label},D.value))})]})]})]})]}),e.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700",children:[e.jsxs(W,{className:"text-sm font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[e.jsx(R7,{className:"w-5 h-5 text-cyan-700"}),"Color Preference"]}),e.jsxs(et,{value:u.color,onValueChange:D=>E({color:D}),children:[e.jsx(Ze,{className:"h-10 text-sm",children:e.jsx(tt,{placeholder:"Select color"})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"all",className:"text-sm font-semibold",children:"All Colors"}),KW.map(D=>e.jsx(ce,{value:D,className:"text-sm",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded-full border border-gray-300",style:{backgroundColor:D.toLowerCase()}}),D]})},D))]})]})]}),e.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700",children:[e.jsxs(W,{className:"text-sm font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[e.jsx(xs,{className:"w-5 h-5 text-cyan-700"}),"Capacity Requirements"]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"seats",className:"text-xs text-gray-600 dark:text-gray-400 font-semibold",children:"Min Seats"}),e.jsx(oe,{id:"seats",type:"number",placeholder:"5",value:u.seatsMin,onChange:D=>E({seatsMin:D.target.value}),className:"h-10 text-sm mt-1.5",min:"1",max:"50"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"doors",className:"text-xs text-gray-600 dark:text-gray-400 font-semibold",children:"Min Doors"}),e.jsx(oe,{id:"doors",type:"number",placeholder:"4",value:u.doorsMin,onChange:D=>E({doorsMin:D.target.value}),className:"h-10 text-sm mt-1.5",min:"1",max:"10"})]})]})]}),e.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700",children:[e.jsxs(W,{className:"text-sm font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[e.jsx(Is,{className:"w-5 h-5 text-cyan-700"}),"Holiday Pricing"]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"holidayRate",className:"text-xs text-gray-600 dark:text-gray-400 font-semibold",children:"Max Holiday Rate"}),e.jsx(oe,{id:"holidayRate",type:"number",placeholder:"200",value:u.holidayRateMax,onChange:D=>E({holidayRateMax:D.target.value}),className:"h-10 text-sm mt-1.5",min:"0"})]})]}),e.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700",children:[e.jsxs(W,{className:"text-sm font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[e.jsx(vs,{className:"w-5 h-5 text-cyan-700"}),"Additional Services"]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 hover:border-cyan-500 transition-colors",children:[e.jsx(Ih,{id:"withDriver",checked:u.withDriver,onCheckedChange:D=>E({withDriver:D}),className:"data-[state=checked]:bg-cyan-700 data-[state=checked]:border-cyan-700"}),e.jsx(W,{htmlFor:"withDriver",className:"text-sm cursor-pointer font-medium flex-1",children:"Available with driver"})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 hover:border-cyan-500 transition-colors",children:[e.jsx(Ih,{id:"isDelivered",checked:u.isDelivered,onCheckedChange:D=>E({isDelivered:D}),className:"data-[state=checked]:bg-cyan-700 data-[state=checked]:border-cyan-700"}),e.jsx(W,{htmlFor:"isDelivered",className:"text-sm cursor-pointer font-medium flex-1",children:"Delivery available"})]}),e.jsxs("div",{className:"flex items-center space-x-3 p-3 bg-white dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700 hover:border-cyan-500 transition-colors",children:[e.jsx(Ih,{id:"requiresDeposit",checked:u.requiresDeposit,onCheckedChange:D=>E({requiresDeposit:D}),className:"data-[state=checked]:bg-cyan-700 data-[state=checked]:border-cyan-700"}),e.jsx(W,{htmlFor:"requiresDeposit",className:"text-sm cursor-pointer font-medium flex-1",children:"Requires deposit"})]})]})]}),e.jsxs("div",{className:"space-y-3 p-4 bg-gray-50 dark:bg-gray-800/50 rounded-xl border border-gray-200 dark:border-gray-700",children:[e.jsxs(W,{className:"text-sm font-bold flex items-center gap-2 text-gray-900 dark:text-white",children:[e.jsx(W$,{className:"w-5 h-5 text-cyan-700"}),"Features & Amenities"]}),e.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-80 overflow-y-auto p-3 bg-white dark:bg-gray-900 rounded-lg border border-gray-200 dark:border-gray-700",children:GW.map(D=>e.jsxs("div",{className:"flex items-center space-x-2 p-2 hover:bg-gray-50 dark:hover:bg-gray-800 rounded-md transition-colors",children:[e.jsx(Ih,{id:`feature-${D}`,checked:u.features.includes(D),onCheckedChange:()=>H(D),className:"data-[state=checked]:bg-cyan-700 data-[state=checked]:border-cyan-700"}),e.jsx(W,{htmlFor:`feature-${D}`,className:"text-xs cursor-pointer font-medium",children:D})]},D))}),u.features.length>0&&e.jsxs("p",{className:"text-sm text-cyan-700 dark:text-cyan-300 font-semibold bg-cyan-50 dark:bg-cyan-900/30 p-2 rounded-lg text-center",children:[" ",u.features.length," feature",u.features.length!==1?"s":""," selected"]})]})]}),e.jsxs("div",{className:"flex justify-between gap-3 pt-6 border-t-2 border-gray-200 dark:border-gray-700",children:[e.jsx(Q,{variant:"outline",onClick:()=>{h({yearMin:"",yearMax:"",cylinderNumber:"all",color:"all",mileageMax:"",fuelType:"all",wheelsDrive:"all",seatsMin:"",doorsMin:"",features:[],withDriver:!1,isDelivered:!1,requiresDeposit:!1,holidayRateMax:""})},className:"h-11 px-6 border-2 font-semibold",children:"Clear Advanced"}),e.jsx(Q,{onClick:()=>N(!1),className:"h-11 px-8 bg-gradient-to-r from-cyan-700 to-teal-600 hover:from-cyan-800 hover:to-teal-700 text-white font-semibold shadow-lg",children:"Apply Filters"})]})]})]})]})]}),e.jsx(Ae,{className:"border-0 shadow-md bg-gradient-to-br from-cyan-50 to-teal-50 dark:from-cyan-900/20 dark:to-teal-900/20",children:e.jsx(Ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-gradient-to-br from-cyan-700 to-teal-600 flex items-center justify-center flex-shrink-0",children:e.jsx(Vt,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-bold text-sm text-gray-900 dark:text-white mb-1",children:"Need Help Choosing?"}),e.jsx("p",{className:"text-xs text-gray-700 dark:text-gray-300 leading-relaxed",children:"Use filters to narrow down your search and find the perfect vehicle for your needs."})]})]})})})]})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-xl p-5 mb-6 border-0 shadow-md",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-cyan-700 to-teal-600 rounded-xl flex items-center justify-center shadow-md",children:e.jsx(Vt,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium uppercase tracking-wide",children:"Available Now"}),e.jsxs("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[t.length," ",t.length===1?"Vehicle":"Vehicles"]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:[e.jsx(W,{htmlFor:"sort",className:"text-sm font-bold text-gray-700 dark:text-gray-300 whitespace-nowrap",children:"Sort by:"}),e.jsxs(et,{value:p,onValueChange:f,children:[e.jsx(Ze,{id:"sort",className:"w-full sm:w-[200px] h-10 text-sm border-gray-300 font-medium",children:e.jsx(tt,{})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"featured",className:"text-sm font-medium",children:" Featured"}),e.jsx(ce,{value:"price-low",className:"text-sm font-medium",children:" Price: Low to High"}),e.jsx(ce,{value:"price-high",className:"text-sm font-medium",children:" Price: High to Low"}),e.jsx(ce,{value:"rating",className:"text-sm font-medium",children:" Highest Rated"}),e.jsx(ce,{value:"popular",className:"text-sm font-medium",children:" Most Popular"}),e.jsx(ce,{value:"year-new",className:"text-sm font-medium",children:" Newest First"}),e.jsx(ce,{value:"year-old",className:"text-sm font-medium",children:" Oldest First"})]})]})]})]}),k>0&&e.jsxs("div",{className:"mt-5 pt-5 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("p",{className:"text-sm font-bold text-gray-700 dark:text-gray-300",children:["Active Filters (",k,")"]}),e.jsx(Q,{variant:"ghost",size:"sm",onClick:P,className:"h-7 text-xs text-red-600 hover:text-red-700 hover:bg-red-50 dark:hover:bg-red-900/30 font-semibold",children:"Clear All "})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.startDate&&e.jsxs(Re,{variant:"secondary",className:"text-xs bg-yellow-100 dark:bg-yellow-900/30 border border-yellow-300 dark:border-yellow-700 px-3 py-1.5 font-medium",children:[" ",new Date(l.startDate).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),e.jsx("button",{onClick:()=>R({startDate:""}),className:"ml-2 hover:text-red-600",children:e.jsx(ta,{className:"w-3 h-3"})})]}),l.endDate&&e.jsxs(Re,{variant:"secondary",className:"text-xs bg-yellow-100 dark:bg-yellow-900/30 border border-yellow-300 dark:border-yellow-700 px-3 py-1.5 font-medium",children:[" ",new Date(l.endDate).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),e.jsx("button",{onClick:()=>R({endDate:""}),className:"ml-2 hover:text-red-600",children:e.jsx(ta,{className:"w-3 h-3"})})]}),l.brand!=="All Brands"&&e.jsxs(Re,{variant:"secondary",className:"text-xs bg-cyan-100 dark:bg-cyan-900/30 border border-cyan-300 dark:border-cyan-700 px-3 py-1.5 font-medium",children:[" ",l.brand,e.jsx("button",{onClick:()=>R({brand:"All Brands"}),className:"ml-2 hover:text-red-600",children:e.jsx(ta,{className:"w-3 h-3"})})]}),l.type!=="All Types"&&e.jsxs(Re,{variant:"secondary",className:"text-xs bg-purple-100 dark:bg-purple-900/30 border border-purple-300 dark:border-purple-700 px-3 py-1.5 font-medium",children:[" ",l.type,e.jsx("button",{onClick:()=>R({type:"All Types"}),className:"ml-2 hover:text-red-600",children:e.jsx(ta,{className:"w-3 h-3"})})]}),l.transmission!=="All"&&e.jsxs(Re,{variant:"secondary",className:"text-xs bg-green-100 dark:bg-green-900/30 border border-green-300 dark:border-green-700 px-3 py-1.5 font-medium",children:[" ",l.transmission,e.jsx("button",{onClick:()=>R({transmission:"All"}),className:"ml-2 hover:text-red-600",children:e.jsx(ta,{className:"w-3 h-3"})})]}),(l.priceRange[0]!==0||l.priceRange[1]!==1500)&&e.jsxs(Re,{variant:"secondary",className:"text-xs bg-emerald-100 dark:bg-emerald-900/30 border border-emerald-300 dark:border-emerald-700 px-3 py-1.5 font-medium",children:[" $",l.priceRange[0]," - $",l.priceRange[1],e.jsx("button",{onClick:()=>R({priceRange:[0,1500]}),className:"ml-2 hover:text-red-600",children:e.jsx(ta,{className:"w-3 h-3"})})]}),u.yearMin&&e.jsxs(Re,{variant:"secondary",className:"text-xs bg-blue-100 dark:bg-blue-900/30 border border-blue-300 dark:border-blue-700 px-3 py-1.5 font-medium",children:[" Year  ",u.yearMin,e.jsx("button",{onClick:()=>E({yearMin:""}),className:"ml-2 hover:text-red-600",children:e.jsx(ta,{className:"w-3 h-3"})})]}),u.yearMax&&e.jsxs(Re,{variant:"secondary",className:"text-xs bg-blue-100 dark:bg-blue-900/30 border border-blue-300 dark:border-blue-700 px-3 py-1.5 font-medium",children:[" Year  ",u.yearMax,e.jsx("button",{onClick:()=>E({yearMax:""}),className:"ml-2 hover:text-red-600",children:e.jsx(ta,{className:"w-3 h-3"})})]}),u.features.length>0&&e.jsxs(Re,{variant:"secondary",className:"text-xs bg-indigo-100 dark:bg-indigo-900/30 border border-indigo-300 dark:border-indigo-700 px-3 py-1.5 font-medium",children:[" ",u.features.length," Feature",u.features.length!==1?"s":"",e.jsx("button",{onClick:()=>E({features:[]}),className:"ml-2 hover:text-red-600",children:e.jsx(ta,{className:"w-3 h-3"})})]})]})]})]}),r?e.jsx("div",{className:"flex items-center justify-center py-32",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 border-4 border-cyan-700 border-t-transparent rounded-full animate-spin mx-auto mb-6"}),e.jsx("p",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Loading Vehicles"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Please wait while we fetch the best options..."})]})}):t.length>0?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6 sm:gap-8",children:t.map(D=>e.jsx(Rw,{car:D},D.id))}):e.jsx(Ae,{className:"p-16 text-center border-2 border-dashed border-gray-300 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50 rounded-2xl",children:e.jsxs("div",{className:"max-w-md mx-auto",children:[e.jsx("div",{className:"w-20 h-20 rounded-full bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-700 mx-auto mb-6 flex items-center justify-center shadow-inner",children:e.jsx(Ca,{className:"w-10 h-10 text-gray-400 dark:text-gray-500"})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-3",children:"No Vehicles Found"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-8 leading-relaxed",children:"We couldn't find any vehicles matching your criteria. Try adjusting your filters or broadening your search."}),e.jsxs(Q,{onClick:P,className:"bg-gradient-to-r from-cyan-700 to-teal-600 hover:from-cyan-800 hover:to-teal-700 text-white font-bold px-8 py-6 rounded-xl shadow-lg hover:shadow-xl transition-all",children:[e.jsx(ta,{className:"w-5 h-5 mr-2"}),"Reset All Filters"]})]})})]})]})]})]})};var QW=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ZW=QW.reduce((t,s)=>{const a=Kj(`Primitive.${s}`),n=x.forwardRef((r,i)=>{const{asChild:l,...d}=r,u=l?a:s;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),e.jsx(u,{...d,ref:i})});return n.displayName=`Primitive.${s}`,{...t,[s]:n}},{}),JW="Separator",Xk="horizontal",eY=["horizontal","vertical"],N5=x.forwardRef((t,s)=>{const{decorative:a,orientation:n=Xk,...r}=t,i=tY(n)?n:Xk,d=a?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return e.jsx(ZW.div,{"data-orientation":i,...d,...r,ref:s})});N5.displayName=JW;function tY(t){return eY.includes(t)}var _5=N5;const _c=x.forwardRef(({className:t,orientation:s="horizontal",decorative:a=!0,...n},r)=>e.jsx(_5,{ref:r,decorative:a,orientation:s,className:pt("shrink-0 bg-border",s==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...n}));_c.displayName=_5.displayName;const sY=()=>{const{id:t}=EF(),s=Ua();yu();const[a,n]=x.useState(null),[r,i]=x.useState(!0),[l,d]=x.useState(!1),[u,h]=x.useState(0),[p,f]=x.useState(!1),[y,v]=x.useState({pickupDate:"",returnDate:"",location:"",reason:""}),[j,N]=x.useState(!1),[w,_]=x.useState(!1),[T,R]=x.useState([]),E=x.useMemo(()=>new Date().toISOString().slice(0,16),[]),A=x.useMemo(()=>a?.images?.length?a.images[Math.min(u,a.images.length-1)]:"",[a,u]),V=ne=>Array.isArray(ne)?ne:Array.isArray(ne?.cars)?ne.cars:Array.isArray(ne?.favorites)?ne.favorites:Array.isArray(ne?.data)?ne.data:[],k=(ne,te)=>{const U=String(te);return ne.some(q=>q==null?!1:typeof q=="string"||typeof q=="number"?String(q)===U:String(q.id??q.car_id??q.car?.id)===U)};x.useEffect(()=>{let ne=!0;return(async()=>{i(!0);try{const q=(await xe.get(`/cars/${t}`)).data.car,G=q.feedbacks??[],F=G.length>0?(G.reduce((ie,le)=>ie+le.rating,0)/G.length).toFixed(1):null,M={id:q.id,brand:q.make,model:q.model,year:q.year,type:q.car_category,seats:q.seats,doors:q.doors,transmission:q.transmission,fuelType:q.fuel_type,mileage:q.mileage,drive:q.wheels_drive,location:q.live_location?.address??"N/A",price:Number(q.daily_rate),holidayRate:Number(q.holiday_rate),rating:F,reviews:G.length,features:q.features??[],description:q.notes??"",images:[q.main_image_url,q.front_image_url,q.back_image_url,q.left_image_url,q.right_image_url].filter(Boolean),deliveryAvailable:!!q.delivery_available};if(!ne)return;if(n(M),h(0),localStorage.getItem("authToken")||localStorage.getItem("token")){_(!0);try{const ie=await xe.get("/cars/favorites/list"),le=V(ie.data);if(!ne)return;d(k(le,M.id))}catch{if(!ne)return;d(!1)}finally{ne&&_(!1)}}else _(!1);try{const ie=await xe.get("/cars"),le=ie.data?.cars??ie.data?.data??[],re=(Array.isArray(le)?le:[]).filter(fe=>String(fe.id)!==String(q.id)).slice(0,3).map(fe=>{const we=fe.feedbacks??[],ye=we.length>0?(we.reduce((Be,ke)=>Be+(Number(ke.rating)||0),0)/we.length).toFixed(1):null;return{id:fe.id,brand:fe.make,make:fe.make,model:fe.model,year:fe.year,type:fe.car_category,category:fe.car_category,price:Number(fe.daily_rate),image:fe.main_image_url,rating:ye,reviews:we.length,seats:fe.seats,doors:fe.doors,fuel_type:fe.fuel_type,fuelType:fe.fuel_type}});ne&&R(re)}catch{ne&&R([])}}catch(U){console.error("Car fetch error:",U),se.error("Failed to load car details."),ne&&n(null)}finally{ne&&i(!1)}})(),window.scrollTo(0,0),()=>{ne=!1}},[t]),x.useEffect(()=>{!p||!a||a.deliveryAvailable||v(ne=>({...ne,location:a.location||"N/A"}))},[p,a]);const P=(()=>{if(!y.pickupDate||!y.returnDate)return 0;const ne=new Date(y.pickupDate),te=new Date(y.returnDate),U=Math.ceil((te-ne)/(1e3*60*60*24));return U>0?U:0})(),H=a?P*a.price:0,D=async()=>{if(!a||w)return;if(!(localStorage.getItem("authToken")||localStorage.getItem("token"))){se.error("Please log in to save favorites.");return}const te=!l;d(te),window.dispatchEvent(new Event("favoritesUpdated"));try{await xe.post(`/cars/${a.id}/favorite`),se.success(te?"Added to favorites":"Removed from favorites")}catch(U){console.error("Favorite toggle error:",U),d(!te),window.dispatchEvent(new Event("favoritesUpdated")),se.error("Failed to update favorite. Please try again.")}},K=()=>{if(!a)return!1;if(a.deliveryAvailable&&!y.location.trim())return se.error("Please enter pickup location."),!1;if(!y.pickupDate)return se.error("Please select pickup date/time."),!1;if(!y.returnDate)return se.error("Please select return date/time."),!1;const ne=new Date(y.pickupDate);return new Date(y.returnDate)<=ne?(se.error("Return date must be after pickup date."),!1):!0},X=async ne=>{if(ne.preventDefault(),!!K()){N(!0);try{const te={car_id:a.id,start_datetime:y.pickupDate,end_datetime:y.returnDate,pickup_location:a.deliveryAvailable?y.location:a.location,reason_of_booking:y.reason};(await xe.post("/bookings",te)).status===201?(se.success("Booking request submitted successfully! We'll contact you shortly.",{duration:5e3}),f(!1),v({pickupDate:"",returnDate:"",location:"",reason:""})):se.error("Unexpected response from server. Please try again.")}catch(te){console.error("Booking error:",te);let U="Failed to submit booking request. Please try again.";if(te.response){if(te.response.status===400)U=te.response.data.message||U;else if(te.response.status===422){const q=te.response.data.errors;U=Object.values(q).flat().join(`
`)}}se.error(U,{duration:5e3})}finally{N(!1)}}};return r?e.jsx("div",{className:"min-h-screen pt-20 flex items-center justify-center bg-background",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-12 h-10 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto mb-3"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Loading car details..."})]})}):a?e.jsxs("div",{className:"min-h-screen pt-20 bg-background",children:[e.jsx("div",{className:"sticky top-16 z-40 border-b bg-background/80 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:e.jsxs("div",{className:"container mx-auto px-4 py-3 flex items-center justify-between gap-3",children:[e.jsxs(Q,{variant:"ghost",onClick:()=>s("/cars"),"aria-label":"Back to cars",children:[e.jsx(yi,{className:"w-5 h-5 mr-2","aria-hidden":"true"}),"Back"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Q,{variant:l?"secondary":"outline",onClick:D,"aria-label":l?"Remove from favorites":"Add to favorites",disabled:w,children:[e.jsx(vl,{className:`w-4 h-4 mr-2 ${l?"fill-primary text-primary":""}`,"aria-hidden":"true"}),l?"Saved":"Save"]}),e.jsx(Q,{onClick:()=>f(!0),className:"bg-gradient-to-r from-teal-600 to-cyan-600 text-white",children:"Book Now"})]})]})}),e.jsxs("div",{className:"container mx-auto px-4 py-6 grid lg:grid-cols-12 gap-6",children:[e.jsxs("div",{className:"lg:col-span-8 space-y-6",children:[e.jsx(Ae,{className:"overflow-hidden",children:e.jsxs(Ee,{className:"p-0",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"aspect-[16/9] bg-muted",children:A?e.jsx("img",{src:`/api/storage/${A}`,alt:`${a.brand} ${a.model}`,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center text-sm text-muted-foreground",children:"No images available"})}),a.type&&e.jsx("div",{className:"absolute left-4 top-4",children:e.jsx(Re,{className:"rounded-full",children:a.type})}),a.rating&&e.jsxs("div",{className:"absolute right-4 top-4 rounded-full bg-background/80 backdrop-blur px-3 py-1 flex items-center gap-2 border",children:[e.jsx(Ks,{className:"w-4 h-4 fill-yellow-500 text-yellow-500","aria-hidden":"true"}),e.jsx("span",{className:"text-sm font-semibold",children:a.rating}),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["(",a.reviews,")"]})]})]}),a.images?.length>1&&e.jsx("div",{className:"p-4 border-t",children:e.jsx("div",{className:"grid grid-cols-5 sm:grid-cols-6 md:grid-cols-7 gap-2",children:a.images.map((ne,te)=>e.jsx("button",{onClick:()=>h(te),className:`relative rounded-lg overflow-hidden border transition ${u===te?"ring-2 ring-primary border-transparent":"hover:border-primary/40"}`,"aria-label":`View image ${te+1}`,children:e.jsx("img",{src:`/api/storage/${ne}`,alt:`Thumbnail ${te+1}`,className:"h-14 w-full object-cover",loading:"lazy"})},`${ne}-${te}`))})})]})}),e.jsx(Ae,{children:e.jsxs(Ee,{className:"p-5 space-y-4",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-start sm:justify-between gap-3",children:[e.jsxs("div",{children:[e.jsxs("h1",{className:"text-2xl md:text-3xl font-bold tracking-tight",children:[a.brand," ",a.model," ",e.jsxs("span",{className:"text-muted-foreground font-semibold",children:["(",a.year,")"]})]}),e.jsxs("div",{className:"mt-2 flex flex-wrap gap-2",children:[e.jsx(aY,{icon:e.jsx(vs,{className:"w-4 h-4"}),label:a.location}),e.jsx(Re,{variant:"secondary",className:"rounded-full",children:a.deliveryAvailable?"Delivery available":"Pickup only"})]})]}),e.jsxs("div",{className:"text-left sm:text-right",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Starting from"}),e.jsxs("p",{className:"text-3xl font-bold",children:["$",a.price,e.jsx("span",{className:"text-sm font-semibold text-muted-foreground",children:"/day"})]}),Number.isFinite(a.holidayRate)&&a.holidayRate>0&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Holiday: ",e.jsxs("span",{className:"font-semibold",children:["$",a.holidayRate]})]})]})]}),e.jsx(_c,{}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3",children:[e.jsx(Md,{icon:xs,label:"Seats",value:a.seats??"N/A"}),e.jsx(Md,{icon:q$,label:"Doors",value:a.doors??"N/A"}),e.jsx(Md,{icon:cx,label:"Fuel",value:a.fuelType??"N/A"}),e.jsx(Md,{icon:Tm,label:"Transmission",value:a.transmission??"N/A"}),e.jsx(Md,{icon:hl,label:"Mileage",value:a.mileage?`${a.mileage} km`:"N/A"}),e.jsx(Md,{icon:Vt,label:"Drive",value:a.drive??"N/A"})]})]})}),e.jsx(Ae,{children:e.jsxs(Ee,{className:"p-5 space-y-3",children:[e.jsx("h3",{className:"text-base font-semibold",children:"Description"}),e.jsx("p",{className:"text-sm leading-relaxed text-muted-foreground",children:a.description?.trim()?a.description:"No description provided."})]})}),a.features?.length>0&&e.jsx(Ae,{children:e.jsxs(Ee,{className:"p-5 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-base font-semibold",children:"Features"}),e.jsxs(Re,{variant:"secondary",className:"rounded-full",children:[a.features.length," included"]})]}),e.jsx("div",{className:"grid sm:grid-cols-2 gap-3",children:a.features.map((ne,te)=>e.jsxs("div",{className:"flex items-start gap-2 rounded-lg border p-3",children:[e.jsx(Pa,{className:"w-4 h-4 text-primary mt-0.5","aria-hidden":"true"}),e.jsx("span",{className:"text-sm",children:ne})]},`${ne}-${te}`))})]})})]}),e.jsx("div",{className:"lg:col-span-4",children:e.jsx(Ae,{className:"sticky top-28",children:e.jsxs(Ee,{className:"p-5 space-y-4",children:[e.jsxs("div",{className:"flex items-start justify-between gap-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(Re,{className:"rounded-full w-fit",children:a.type||"Car"}),e.jsxs("h2",{className:"text-lg font-semibold leading-tight",children:[a.brand," ",a.model]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Price: ",e.jsxs("span",{className:"font-semibold",children:["$",a.price,"/day"]})]})]}),a.rating&&e.jsxs("div",{className:"rounded-xl border px-3 py-2 text-center",children:[e.jsxs("div",{className:"flex items-center justify-center gap-1",children:[e.jsx(Ks,{className:"w-4 h-4 fill-yellow-500 text-yellow-500","aria-hidden":"true"}),e.jsx("span",{className:"font-semibold",children:a.rating})]}),e.jsxs("p",{className:"text-[11px] text-muted-foreground",children:[a.reviews," reviews"]})]})]}),e.jsx(_c,{}),e.jsxs("div",{className:"rounded-xl border bg-muted/30 p-4 space-y-2",children:[e.jsx(kp,{label:"Pickup type",value:a.deliveryAvailable?"Delivery":"Pickup only"}),e.jsx(kp,{label:"Car location",value:a.location}),e.jsx(kp,{label:"Fuel",value:a.fuelType??"N/A"}),e.jsx(kp,{label:"Transmission",value:a.transmission??"N/A"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Q,{className:"flex-1 bg-gradient-to-r from-teal-600 to-cyan-600 text-white",onClick:()=>f(!0),children:"Book Now"}),e.jsx(Q,{variant:"outline",onClick:D,"aria-label":l?"Remove from favorites":"Add to favorites",disabled:w,children:e.jsx(vl,{className:`w-4 h-4 ${l?"fill-primary text-primary":""}`,"aria-hidden":"true"})})]}),e.jsx("p",{className:"text-[11px] text-muted-foreground leading-relaxed",children:"Submit a booking request and our team will confirm availability with you."})]})})})]}),T.length>0&&e.jsxs("div",{className:"container mx-auto px-4 py-6 border-t",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"You might also like"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4",children:T.map(ne=>e.jsx(Rw,{car:ne},ne.id))}),e.jsx("div",{className:"mt-4 text-center",children:e.jsx(Q,{variant:"outline",asChild:!0,children:e.jsx(Ds,{to:"/cars",children:"View all cars"})})})]}),e.jsx(La,{open:p,onOpenChange:f,children:e.jsxs(ka,{className:"max-w-lg max-h-[90vh] overflow-y-auto",children:[e.jsxs(Sa,{children:[e.jsxs(Aa,{className:"text-xl",children:["Book ",a.brand," ",a.model]}),e.jsx(ji,{className:"text-sm",children:a.deliveryAvailable?"Choose pickup location and rental dates.":"Delivery is not available for this car. Pickup is at the car location."})]}),e.jsxs("form",{onSubmit:X,className:"space-y-4 mt-2",children:[a.deliveryAvailable?e.jsxs("div",{children:[e.jsx(W,{htmlFor:"location",className:"text-xs",children:"Pickup Location *"}),e.jsxs("div",{className:"relative",children:[e.jsx(vs,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-muted-foreground"}),e.jsx(oe,{id:"location",required:!0,value:y.location,onChange:ne=>v({...y,location:ne.target.value}),placeholder:"City, Airport, or Address",className:"pl-8 h-9 text-sm"})]})]}):e.jsxs("div",{className:"rounded-lg border bg-muted/30 p-4",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-1",children:"Pickup location"}),e.jsx("p",{className:"text-sm font-semibold",children:a.location||"N/A"}),e.jsx("p",{className:"text-[11px] text-muted-foreground mt-1",children:"Pickup is at the car location."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"pickupDate",className:"text-xs",children:"Start Date *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ms,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-muted-foreground"}),e.jsx(oe,{id:"pickupDate",type:"datetime-local",required:!0,value:y.pickupDate,onChange:ne=>v(te=>({...te,pickupDate:ne.target.value,returnDate:te.returnDate&&new Date(te.returnDate)<=new Date(ne.target.value)?"":te.returnDate})),min:E,className:"pl-8 h-9 text-sm"})]})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"returnDate",className:"text-xs",children:"End Date *"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ms,{className:"absolute left-2.5 top-1/2 -translate-y-1/2 w-3.5 h-3.5 text-muted-foreground"}),e.jsx(oe,{id:"returnDate",type:"datetime-local",required:!0,value:y.returnDate,onChange:ne=>v({...y,returnDate:ne.target.value}),min:y.pickupDate||E,className:"pl-8 h-9 text-sm"})]})]})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"reason",className:"text-xs",children:"Reason (optional)"}),e.jsx(oe,{id:"reason",value:y.reason,onChange:ne=>v({...y,reason:ne.target.value}),placeholder:"Vacation, business trip, wedding...",className:"h-9 text-sm"})]}),e.jsx(_c,{}),e.jsxs("div",{className:"rounded-lg border bg-muted/30 p-4 space-y-2",children:[e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Daily rate"}),e.jsxs("span",{className:"font-medium",children:["$",a.price,"/day"]})]}),e.jsxs("div",{className:"flex justify-between text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Days"}),e.jsx("span",{className:"font-medium",children:P>0?P:"--"})]}),e.jsx(_c,{}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx("span",{className:"font-semibold",children:"Estimated total"}),e.jsx("span",{className:"text-2xl font-bold text-teal-600 dark:text-teal-400",children:P>0?`$${H}`:"--"})]}),e.jsx("p",{className:"text-[11px] text-muted-foreground",children:"Final confirmation depends on availability and terms."})]}),e.jsx(Q,{type:"submit",className:"w-full bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 font-semibold h-10 text-sm",disabled:j,children:j?"Submitting...":"Confirm Booking Request"})]})]})})]}):e.jsx("div",{className:"min-h-screen pt-20 flex items-center justify-center p-4 bg-background",children:e.jsx(Ae,{className:"max-w-md w-full",children:e.jsxs(Ee,{className:"p-6 text-center space-y-4",children:[e.jsx("h2",{className:"text-xl font-semibold",children:"Car not found"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"The vehicle you're looking for doesn't exist or was removed."}),e.jsxs(Q,{onClick:()=>s("/cars"),className:"w-full",children:[e.jsx(yi,{className:"w-4 h-4 mr-2"}),"Back to Cars"]})]})})})},aY=({icon:t,label:s})=>e.jsxs("div",{className:"inline-flex items-center gap-2 rounded-full border bg-background px-3 py-1 text-xs text-muted-foreground",children:[e.jsx("span",{"aria-hidden":"true",children:t}),e.jsx("span",{className:"truncate max-w-[260px]",children:s})]}),Md=({icon:t,label:s,value:a})=>e.jsx("div",{className:"rounded-xl border p-4 bg-background hover:bg-muted/30 transition",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-lg bg-muted flex items-center justify-center",children:e.jsx(t,{className:"w-5 h-5","aria-hidden":"true"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:s}),e.jsx("p",{className:"font-semibold",children:a})]})]})}),kp=({label:t,value:s})=>e.jsxs("div",{className:"flex items-start justify-between gap-4",children:[e.jsx("span",{className:"text-xs text-muted-foreground",children:t}),e.jsx("span",{className:"text-xs font-medium text-right",children:s})]}),nY=()=>{const[t,s]=x.useState([]),[a,n]=x.useState(!0),[r,i]=x.useState(1),[l,d]=x.useState({current_page:1,last_page:1,per_page:20,total:0,next_page_url:null,prev_page_url:null}),u=j=>{const N=j.feedbacks??[],w=N.length>0?(N.reduce((_,T)=>_+(Number(T.rating)||0),0)/N.length).toFixed(1):null;return{id:j.id,make:j.make,brand:j.make,model:j.model,year:j.year,type:j.car_category,category:j.car_category,seats:j.seats,doors:j.doors,transmission:j.transmission,fuelType:j.fuel_type,fuel_type:j.fuel_type,drive:j.wheels_drive,cylinders:j.cylinder_number,mileage:j.mileage,color:j.color,dailyRate:Number(j.daily_rate),holidayRate:Number(j.holiday_rate),price:Number(j.daily_rate),hasDeposit:!!j.is_deposit,deposit:Number(j.deposit),maxMileage:j.max_driving_mileage,minDays:j.min_rental_days,withDriver:!!j.with_driver,driverFees:Number(j.driver_fees),location:j.live_location?.address??"N/A",isDelivered:!!j.is_delivered,deliveryFees:Number(j.delivery_fees),description:j.notes??"",features:j.features??[],addons:j.car_add_on??[],rating:w,reviews:N.length,feedbacks:N,images:[j.main_image_url,j.front_image_url,j.back_image_url,j.left_image_url,j.right_image_url].filter(Boolean),image:j.main_image_url||j.front_image_url||""}},h=x.useCallback(async(j=1)=>{n(!0);try{const w=(await xe.get("/cars/favorites/list",{params:{page:j}})).data?.favorites,_=(w?.data??[]).map(u);s(_),d({current_page:w?.current_page??j,last_page:w?.last_page??1,per_page:w?.per_page??20,total:w?.total??_.length,next_page_url:w?.next_page_url??null,prev_page_url:w?.prev_page_url??null}),i(w?.current_page??j)}catch(N){console.error("Favorites fetch error:",N),se.error("Failed to load favorites. Please try again."),s([])}finally{n(!1)}},[]),p=x.useCallback(async j=>{const N=t;s(w=>w.filter(_=>_.id!==j));try{await xe.post(`/cars/${j}/favorite`),se.success("Removed from favorites"),window.dispatchEvent(new Event("favoritesUpdated")),h(r)}catch(w){console.error("Toggle favorite error:",w),se.error("Failed to update favorite. Please try again."),s(N)}},[t,h,r]);x.useEffect(()=>{h(1);const j=()=>h(r);return window.addEventListener("favoritesUpdated",j),()=>window.removeEventListener("favoritesUpdated",j)},[h,r]);const f=x.useMemo(()=>a?"Loading your favorites...":l.total===0?"No favorites yet. Start exploring our fleet!":`You have ${l.total} vehicle${l.total>1?"s":""} in your favorites`,[a,l.total]),y=l.prev_page_url&&r>1,v=l.next_page_url&&r<l.last_page;return e.jsxs("div",{className:"min-h-screen pt-20",children:[e.jsx("section",{className:"bg-gradient-to-br from-accent/5 via-secondary/5 to-primary/5 py-12",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-3xl",children:[e.jsxs("div",{className:"flex items-center gap-3 flex-wrap",children:[e.jsxs(Re,{className:"mb-2 bg-accent/10 text-accent-foreground border-accent/20",children:[e.jsx(vl,{className:"w-3 h-3 mr-1 fill-current"}),"Favorites"]}),e.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>h(r),disabled:a,"aria-label":"Refresh favorites",className:"mb-2",children:[e.jsx(Nt,{className:`w-4 h-4 mr-2 ${a?"animate-spin":""}`}),"Refresh"]})]}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Your Favorite Vehicles"}),e.jsx("p",{className:"text-lg text-muted-foreground",children:f}),!a&&l.total>0&&e.jsxs("p",{className:"text-sm text-muted-foreground mt-2",children:["Page ",l.current_page," of ",l.last_page]})]})})}),e.jsx("div",{className:"container mx-auto px-4 py-12",children:a?e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6",children:Array.from({length:6}).map((j,N)=>e.jsxs(Ae,{className:"p-6",children:[e.jsx("div",{className:"h-40 rounded-xl bg-muted animate-pulse mb-4"}),e.jsx("div",{className:"h-4 bg-muted rounded animate-pulse w-2/3 mb-2"}),e.jsx("div",{className:"h-4 bg-muted rounded animate-pulse w-1/2"})]},N))}):t.length>0?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-6",children:t.map(j=>e.jsx(Rw,{car:j,forceFavorite:!0,onToggleFavoriteApi:()=>p(j.id)},j.id))}),(l.last_page??1)>1&&e.jsxs("div",{className:"flex items-center justify-center gap-3 mt-10",children:[e.jsxs(Q,{variant:"outline",onClick:()=>h(r-1),disabled:!y||a,"aria-label":"Previous page",children:[e.jsx(jo,{className:"w-4 h-4 mr-2"}),"Prev"]}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:["Page ",e.jsx("span",{className:"font-semibold",children:l.current_page})," /"," ",e.jsx("span",{className:"font-semibold",children:l.last_page})]}),e.jsxs(Q,{variant:"outline",onClick:()=>h(r+1),disabled:!v||a,"aria-label":"Next page",children:["Next",e.jsx(sn,{className:"w-4 h-4 ml-2"})]})]})]}):e.jsxs(Ae,{className:"p-12 text-center max-w-2xl mx-auto",children:[e.jsx("div",{className:"w-24 h-24 rounded-full bg-muted mx-auto mb-6 flex items-center justify-center",children:e.jsx(vl,{className:"w-12 h-12 text-muted-foreground"})}),e.jsx("h2",{className:"text-3xl font-bold mb-4",children:"No Favorites Yet"}),e.jsx("p",{className:"text-muted-foreground mb-8 max-w-md mx-auto",children:"Start adding vehicles to your favorites to keep track of the cars you love. Click the heart icon on any vehicle card to add it here."}),e.jsx(Ds,{to:"/cars",children:e.jsxs(Q,{size:"lg",className:"bg-primary hover:bg-primary-light text-primary-foreground",children:["Browse Our Fleet",e.jsx(Pc,{className:"w-5 h-5 ml-2"})]})})]})})]})},rY=()=>{const t=[{icon:vl,title:"Customer First",description:"Your satisfaction and experience are at the heart of everything we do."},{icon:Fn,title:"Trust & Safety",description:"All vehicles are fully insured and professionally maintained for maximum safety."},{icon:Lv,title:"Excellence",description:"We provide premium-quality cars and top-tier customer service across Lebanon."},{icon:r7,title:"Accessibility",description:"Car rental services available across Beirut, airport, and major Lebanese cities."}],s=[{value:"15+",label:"Years in Car Rental in Lebanon"},{value:"10,000+",label:"Happy Clients"},{value:"50+",label:"Premium Rental Cars"},{value:"25",label:"Lebanese Cities Covered"}],a=[{name:"Rami Z.",role:"Co-Founder",image:"https://media.licdn.com/dms/image/v2/D4D03AQE-SI2RbsIKJg/profile-displayphoto-scale_400_400/B4DZkR13KuIEAw-/0/1756940957455?e=1766620800&v=beta&t=zeHYUyUBfpn25qt5t5noPx63zsRssAtxFJfix_St0u8",bio:"Expert in the Lebanese car rental industry for over 15 years."},{name:"Ali Z.",role:"Operations Director",image:"https://i.pravatar.cc/200?img=1",bio:"Specialist in fleet management and customer satisfaction."},{name:"Dib Bailoun",role:"Fleet Manager",image:"https://media.licdn.com/dms/image/v2/D4E03AQG5-k6KT0xAkQ/profile-displayphoto-shrink_800_800/profile-displayphoto-shrink_800_800/0/1676234982153?e=1766620800&v=beta&t=9DRUyjBNMmfBBksjIy_xP0VADrIcR6ikoHK2R8bUPjM",bio:"Ensures all cars meet the highest maintenance and safety standards."},{name:"Ahmad",role:"Customer Relations",image:"https://i.pravatar.cc/200?img=1",bio:"Dedicated to providing fast and friendly rental service."}];return e.jsxs("div",{className:"min-h-screen pt-20",children:[e.jsx("script",{type:"application/ld+json",children:JSON.stringify({"@context":"https://schema.org","@type":"CarRental",name:"Rento LB",url:"https://rento-lb.com",address:{"@type":"PostalAddress",addressCountry:"LB",addressLocality:"Beirut",streetAddress:"Beirut, Lebanon"},description:"Rent a car in Lebanon  luxury, SUV, sedan, economy cars. Beirut airport delivery. Affordable daily and monthly prices.",openingHours:"Mo-Su 00:00-23:59",telephone:"+961 81 001301",image:"https://rento-lb.com/og-image.jpg"})}),e.jsx("section",{className:"relative py-20 bg-gradient-to-br from-primary/5 via-secondary/5 to-accent/5",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[e.jsx(Re,{className:"mb-4 bg-secondary/10 text-secondary border-secondary/20",children:"About Rento LB"}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-6",children:"The #1 Car Rental Company in Lebanon"}),e.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:"RENTO LB provides premium, affordable, and reliable car rental services across Lebanon. With 15+ years of experience, we offer luxury, SUV, and economy cars with airport pickup, 24/7 support, and delivery anywhere in Beirut and surrounding cities."})]})})}),e.jsx("section",{className:"py-12 bg-card border-y border-border",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-8",children:s.map((n,r)=>e.jsxs("div",{className:"text-center",children:[e.jsx("p",{className:"text-3xl md:text-4xl font-bold gradient-text-accent mb-2",children:n.value}),e.jsx("p",{className:"text-muted-foreground",children:n.label})]},r))})})}),e.jsx("section",{className:"py-20",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12 items-center",children:[e.jsxs("div",{children:[e.jsx(Re,{className:"mb-4 bg-primary/10 text-primary border-primary/20",children:"Our Story"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-6",children:"Leading the Car Rental Industry in Lebanon"}),e.jsxs("div",{className:"space-y-4 text-muted-foreground leading-relaxed",children:[e.jsx("p",{children:"Rento LB started with a mission to offer safe, reliable, and affordable car rental services in Lebanon. Since 2008, weve grown into one of the leading rental companies in Beirut, serving thousands of happy clients every year."}),e.jsx("p",{children:"We offer a full range of vehiclesfrom economic cars for everyday use, to SUVs for families, to luxury cars for special occasions."}),e.jsx("p",{children:"Whether you're a tourist or a resident, our goal is to deliver the best car rental experience with transparent pricing, clean vehicles, and fast service."})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsx("img",{src:"https://images.unsplash.com/photo-1492144534655-ae79c964c9d7?w=600&q=80",alt:"Affordable luxury car rental in Beirut Lebanon - Rento LB",className:"rounded-2xl w-full h-64 object-cover hover-glow"}),e.jsx("img",{src:"https://images.unsplash.com/photo-1555215695-3004980ad54e?w=600&q=80",alt:"Rent a BMW in Beirut Lebanon - Cheap car rental",className:"rounded-2xl w-full h-64 object-cover hover-glow mt-8"}),e.jsx("img",{src:"https://images.unsplash.com/photo-1503376780353-7e6692767b70?w=600&q=80",alt:"Best car rental company in Lebanon - Rento LB",className:"rounded-2xl w-full h-64 object-cover hover-glow"}),e.jsx("img",{src:"https://images.unsplash.com/photo-1618843479313-40f8afb4b4d8?w=600&q=80",alt:"SUV rental in Beirut Lebanon",className:"rounded-2xl w-full h-64 object-cover hover-glow mt-8"})]})]})})}),e.jsx("section",{className:"py-20 bg-muted/30",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx(Re,{className:"mb-4 bg-accent/10 text-accent-foreground border-accent/20",children:"Our Values"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Why Customers Choose Rento LB"}),e.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"We focus on reliability, transparency, and exceptional service across Lebanon."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:t.map((n,r)=>e.jsx(Ae,{className:"text-center hover-glow transition-all",children:e.jsxs(Ee,{className:"pt-8 pb-8",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-primary to-secondary flex items-center justify-center mx-auto mb-4",children:e.jsx(n.icon,{className:"w-8 h-8 text-primary-foreground"})}),e.jsx("h3",{className:"text-xl font-bold mb-3",children:n.title}),e.jsx("p",{className:"text-muted-foreground",children:n.description})]})},r))})]})}),e.jsx("section",{className:"py-20",children:e.jsxs("div",{className:"container mx-auto px-4",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx(Re,{className:"mb-4 bg-secondary/10 text-secondary border-secondary/20",children:"Our Lebanese Team"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Meet the People Behind Rento LB"}),e.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Our experienced team ensures the highest level of service in the Lebanese car rental industry."})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:a.map((n,r)=>e.jsxs(Ae,{className:"overflow-hidden hover-glow transition-all",children:[e.jsx("div",{className:"aspect-square overflow-hidden",children:e.jsx("img",{src:n.image,alt:`${n.name} - Rento LB Car Rental Lebanon`,className:"w-full h-full object-cover"})}),e.jsxs(Ee,{className:"p-6 text-center",children:[e.jsx("h3",{className:"text-xl font-bold mb-1",children:n.name}),e.jsx("p",{className:"text-secondary font-medium mb-2",children:n.role}),e.jsx("p",{className:"text-sm text-muted-foreground",children:n.bio})]})]},r))})]})}),e.jsxs("section",{className:"py-20 bg-gradient-to-br from-primary via-primary-light to-secondary relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 opacity-10",children:[e.jsx("div",{className:"absolute top-0 left-0 w-96 h-96 bg-white rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 right-0 w-96 h-96 bg-accent rounded-full blur-3xl"})]}),e.jsxs("div",{className:"container mx-auto px-4 relative z-10 text-center",children:[e.jsx("h2",{className:"text-3xl md:text-4xl font-bold text-white mb-6",children:"Book Your Car Rental in Lebanon Today"}),e.jsx("p",{className:"text-lg text-white/90 mb-8 max-w-2xl mx-auto",children:"Select your car and enjoy fast delivery anywhere in Lebanon."}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[e.jsx("a",{href:"/cars",children:e.jsx("button",{className:"px-8 py-3 bg-white text-primary hover:bg-white/90 font-semibold rounded-lg transition-smooth",children:"View Available Cars"})}),e.jsx("a",{href:"/contact",children:e.jsx("button",{className:"px-8 py-3 border-2 border-white text-white hover:bg-white/10 font-semibold rounded-lg transition-smooth",children:"Contact Rento LB"})})]})]})]})]})},tn=x.forwardRef(({className:t,...s},a)=>e.jsx("textarea",{className:pt("flex min-h-[60px] w-full rounded-md border border-input bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:a,...s}));tn.displayName="Textarea";const iY=()=>{const[t,s]=x.useState({name:"",email:"",phone:"",subject:"",message:""}),a=i=>{i.preventDefault(),se.success("Message sent successfully! We'll get back to you soon.",{duration:5e3}),s({name:"",email:"",phone:"",subject:"",message:""})},n=[{icon:vs,title:"Visit Us",details:["Mount Liban","Baouchrieh, Lebanon"],color:"from-primary to-primary-light"},{icon:Wr,title:"Call Us",details:["+961 (81) 001-301"],color:"from-secondary to-secondary-light"},{icon:_r,title:"Email Us",details:["social@rento-lb.com"],color:"from-accent to-accent-light"},{icon:pu,title:"Business Hours",details:["24/7"],color:"from-primary-dark to-secondary"}],r=[{city:"London",address:"124-128 City Road, London, England, EC1V 2NX",phone:"Not available"},{city:"Mount Liban",address:"Baouchrieh, Lebanon",phone:"+961 (81) 001-301"}];return e.jsxs("div",{className:"min-h-screen pt-20",children:[e.jsx("section",{className:"bg-gradient-to-br from-primary/5 via-secondary/5 to-accent/5 py-12",children:e.jsx("div",{className:"container mx-auto px-4",children:e.jsxs("div",{className:"max-w-3xl mx-auto text-center",children:[e.jsx(Re,{className:"mb-4 bg-secondary/10 text-secondary border-secondary/20",children:"Contact Us"}),e.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4",children:"Get in Touch"}),e.jsx("p",{className:"text-lg text-muted-foreground",children:"Have questions? We're here to help. Reach out to our team for any inquiries about our vehicles or services."})]})})}),e.jsxs("div",{className:"container mx-auto px-4 py-12",children:[e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-12",children:n.map((i,l)=>e.jsx(Ae,{className:"hover-glow transition-all",children:e.jsxs(Ee,{className:"pt-6 text-center",children:[e.jsx("div",{className:`w-16 h-16 rounded-2xl bg-gradient-to-br ${i.color} flex items-center justify-center mx-auto mb-4`,children:e.jsx(i.icon,{className:"w-8 h-8 text-white"})}),e.jsx("h3",{className:"font-bold text-lg mb-3",children:i.title}),i.details.map((d,u)=>e.jsx("p",{className:"text-muted-foreground text-sm",children:d},u))]})},l))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[e.jsx(Ae,{children:e.jsxs(Ee,{className:"p-8",children:[e.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Send Us a Message"}),e.jsxs("form",{onSubmit:a,className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx(W,{htmlFor:"name",children:"Full Name *"}),e.jsx(oe,{id:"name",required:!0,value:t.name,onChange:i=>s({...t,name:i.target.value}),placeholder:"John Doe"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"email",children:"Email Address *"}),e.jsx(oe,{id:"email",type:"email",required:!0,value:t.email,onChange:i=>s({...t,email:i.target.value}),placeholder:"john@example.com"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"phone",children:"Phone Number"}),e.jsx(oe,{id:"phone",type:"tel",value:t.phone,onChange:i=>s({...t,phone:i.target.value}),placeholder:"+96181001301"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"subject",children:"Subject *"}),e.jsx(oe,{id:"subject",required:!0,value:t.subject,onChange:i=>s({...t,subject:i.target.value}),placeholder:"How can we help you?"})]}),e.jsxs("div",{children:[e.jsx(W,{htmlFor:"message",children:"Message *"}),e.jsx(tn,{id:"message",required:!0,value:t.message,onChange:i=>s({...t,message:i.target.value}),placeholder:"Tell us more about your inquiry...",rows:6})]}),e.jsxs(Q,{type:"submit",size:"lg",className:"w-full bg-secondary hover:bg-secondary-light text-secondary-foreground font-semibold",children:[e.jsx(ux,{className:"w-5 h-5 mr-2"}),"Send Message"]})]})]})}),e.jsxs("div",{className:"space-y-6",children:[e.jsx(Ae,{className:"overflow-hidden",children:e.jsx("a",{href:"https://www.google.com/maps?q=33.8861985,35.5591084",target:"_blank",rel:"noopener noreferrer",children:e.jsxs("div",{className:"aspect-video bg-muted relative cursor-pointer",children:[e.jsx("img",{src:"https://www.mountain-forecast.com/locationmaps/Mount-Lebanon.10.gif",alt:"Map Location",className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 to-transparent"}),e.jsxs("div",{className:"absolute bottom-4 left-4 text-white",children:[e.jsx("p",{className:"font-bold text-lg",children:"Main Office"}),e.jsx("p",{className:"text-sm",children:"Mount Liban, Baouchrieh, Lebanon"})]})]})})}),e.jsx(Ae,{children:e.jsxs(Ee,{className:"p-6",children:[e.jsx("h3",{className:"text-xl font-bold mb-4",children:"Our Locations"}),e.jsx("div",{className:"space-y-4",children:r.map((i,l)=>e.jsxs("div",{className:"pb-4 border-b border-border last:border-0 last:pb-0",children:[e.jsx("h4",{className:"font-semibold text-lg mb-1",children:i.city}),e.jsx("p",{className:"text-sm text-muted-foreground mb-1",children:i.address}),e.jsx("p",{className:"text-sm text-secondary font-medium",children:i.phone})]},l))})]})})]})]}),e.jsxs("section",{className:"mt-20",children:[e.jsxs("div",{className:"text-center mb-12",children:[e.jsx(Re,{className:"mb-4 bg-accent/10 text-accent-foreground border-accent/20",children:"FAQ"}),e.jsx("h2",{className:"text-3xl md:text-4xl font-bold mb-4",children:"Frequently Asked Questions"}),e.jsx("p",{className:"text-muted-foreground max-w-2xl mx-auto",children:"Find quick answers to common questions about our services"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 max-w-5xl mx-auto",children:[e.jsx(Ae,{children:e.jsxs(Ee,{className:"p-6",children:[e.jsx("h3",{className:"font-bold text-lg mb-2",children:"What documents do I need to rent?"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"You'll need a valid driver's license, a major credit card in your name, and proof of insurance. International customers may need additional documentation."})]})}),e.jsx(Ae,{children:e.jsxs(Ee,{className:"p-6",children:[e.jsx("h3",{className:"font-bold text-lg mb-2",children:"What's your cancellation policy?"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Free cancellation up to 48 hours before pickup. Cancellations within 48 hours may incur a fee. Please contact us for specific details."})]})}),e.jsx(Ae,{children:e.jsxs(Ee,{className:"p-6",children:[e.jsx("h3",{className:"font-bold text-lg mb-2",children:"Is insurance included?"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Basic insurance is included with all rentals. Additional coverage options are available for purchase during booking."})]})}),e.jsx(Ae,{children:e.jsxs(Ee,{className:"p-6",children:[e.jsx("h3",{className:"font-bold text-lg mb-2",children:"Can I extend my rental period?"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Yes! Contact us at least 24 hours before your scheduled return to extend your rental, subject to vehicle availability."})]})}),e.jsx(Ae,{children:e.jsxs(Ee,{className:"p-6",children:[e.jsx("h3",{className:"font-bold text-lg mb-2",children:"Do you offer airport pickup?"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Absolutely! We offer complimentary airport pickup and drop-off at major airports. Please specify this when booking."})]})}),e.jsx(Ae,{children:e.jsxs(Ee,{className:"p-6",children:[e.jsx("h3",{className:"font-bold text-lg mb-2",children:"What's the minimum rental period?"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Our minimum rental period is 24 hours. We also offer attractive rates for weekly and monthly rentals."})]})})]})]})]})]})};function sr(t){const s=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&s==="[object Date]"?new t.constructor(+t):typeof t=="number"||s==="[object Number]"||typeof t=="string"||s==="[object String]"?new Date(t):new Date(NaN)}function zc(t,s){return t instanceof Date?new t.constructor(s):new Date(s)}const C5=6048e5,oY=864e5;let lY={};function Ox(){return lY}function cm(t,s){const a=Ox(),n=s?.weekStartsOn??s?.locale?.options?.weekStartsOn??a.weekStartsOn??a.locale?.options?.weekStartsOn??0,r=sr(t),i=r.getDay(),l=(i<n?7:0)+i-n;return r.setDate(r.getDate()-l),r.setHours(0,0,0,0),r}function Ig(t){return cm(t,{weekStartsOn:1})}function k5(t){const s=sr(t),a=s.getFullYear(),n=zc(t,0);n.setFullYear(a+1,0,4),n.setHours(0,0,0,0);const r=Ig(n),i=zc(t,0);i.setFullYear(a,0,4),i.setHours(0,0,0,0);const l=Ig(i);return s.getTime()>=r.getTime()?a+1:s.getTime()>=l.getTime()?a:a-1}function Qk(t){const s=sr(t);return s.setHours(0,0,0,0),s}function Zk(t){const s=sr(t),a=new Date(Date.UTC(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes(),s.getSeconds(),s.getMilliseconds()));return a.setUTCFullYear(s.getFullYear()),+t-+a}function S5(t,s){const a=Qk(t),n=Qk(s),r=+a-Zk(a),i=+n-Zk(n);return Math.round((r-i)/oY)}function cY(t){const s=k5(t),a=zc(t,0);return a.setFullYear(s,0,4),a.setHours(0,0,0,0),Ig(a)}function dY(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function uY(t){if(!dY(t)&&typeof t!="number")return!1;const s=sr(t);return!isNaN(Number(s))}function hY(t,s){const a=sr(t),n=sr(s),r=Jk(a,n),i=Math.abs(S5(a,n));a.setDate(a.getDate()-r*i);const l=+(Jk(a,n)===-r),d=r*(i-l);return d===0?0:d}function Jk(t,s){const a=t.getFullYear()-s.getFullYear()||t.getMonth()-s.getMonth()||t.getDate()-s.getDate()||t.getHours()-s.getHours()||t.getMinutes()-s.getMinutes()||t.getSeconds()-s.getSeconds()||t.getMilliseconds()-s.getMilliseconds();return a<0?-1:a>0?1:a}function mY(t){const s=sr(t),a=zc(t,0);return a.setFullYear(s.getFullYear(),0,1),a.setHours(0,0,0,0),a}const fY={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},pY=(t,s,a)=>{let n;const r=fY[t];return typeof r=="string"?n=r:s===1?n=r.one:n=r.other.replace("{{count}}",s.toString()),a?.addSuffix?a.comparison&&a.comparison>0?"in "+n:n+" ago":n};function Mb(t){return(s={})=>{const a=s.width?String(s.width):t.defaultWidth;return t.formats[a]||t.formats[t.defaultWidth]}}const gY={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},xY={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},yY={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},bY={date:Mb({formats:gY,defaultWidth:"full"}),time:Mb({formats:xY,defaultWidth:"full"}),dateTime:Mb({formats:yY,defaultWidth:"full"})},vY={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},jY=(t,s,a,n)=>vY[t];function Ah(t){return(s,a)=>{const n=a?.context?String(a.context):"standalone";let r;if(n==="formatting"&&t.formattingValues){const l=t.defaultFormattingWidth||t.defaultWidth,d=a?.width?String(a.width):l;r=t.formattingValues[d]||t.formattingValues[l]}else{const l=t.defaultWidth,d=a?.width?String(a.width):t.defaultWidth;r=t.values[d]||t.values[l]}const i=t.argumentCallback?t.argumentCallback(s):s;return r[i]}}const wY={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},NY={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},_Y={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},CY={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},kY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},SY={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},AY=(t,s)=>{const a=Number(t),n=a%100;if(n>20||n<10)switch(n%10){case 1:return a+"st";case 2:return a+"nd";case 3:return a+"rd"}return a+"th"},TY={ordinalNumber:AY,era:Ah({values:wY,defaultWidth:"wide"}),quarter:Ah({values:NY,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ah({values:_Y,defaultWidth:"wide"}),day:Ah({values:CY,defaultWidth:"wide"}),dayPeriod:Ah({values:kY,defaultWidth:"wide",formattingValues:SY,defaultFormattingWidth:"wide"})};function Th(t){return(s,a={})=>{const n=a.width,r=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],i=s.match(r);if(!i)return null;const l=i[0],d=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(d)?EY(d,f=>f.test(l)):DY(d,f=>f.test(l));let h;h=t.valueCallback?t.valueCallback(u):u,h=a.valueCallback?a.valueCallback(h):h;const p=s.slice(l.length);return{value:h,rest:p}}}function DY(t,s){for(const a in t)if(Object.prototype.hasOwnProperty.call(t,a)&&s(t[a]))return a}function EY(t,s){for(let a=0;a<t.length;a++)if(s(t[a]))return a}function RY(t){return(s,a={})=>{const n=s.match(t.matchPattern);if(!n)return null;const r=n[0],i=s.match(t.parsePattern);if(!i)return null;let l=t.valueCallback?t.valueCallback(i[0]):i[0];l=a.valueCallback?a.valueCallback(l):l;const d=s.slice(r.length);return{value:l,rest:d}}}const MY=/^(\d+)(th|st|nd|rd)?/i,PY=/\d+/i,OY={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},LY={any:[/^b/i,/^(a|c)/i]},BY={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},FY={any:[/1/i,/2/i,/3/i,/4/i]},IY={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},$Y={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},zY={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},VY={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},UY={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},HY={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},qY={ordinalNumber:RY({matchPattern:MY,parsePattern:PY,valueCallback:t=>parseInt(t,10)}),era:Th({matchPatterns:OY,defaultMatchWidth:"wide",parsePatterns:LY,defaultParseWidth:"any"}),quarter:Th({matchPatterns:BY,defaultMatchWidth:"wide",parsePatterns:FY,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Th({matchPatterns:IY,defaultMatchWidth:"wide",parsePatterns:$Y,defaultParseWidth:"any"}),day:Th({matchPatterns:zY,defaultMatchWidth:"wide",parsePatterns:VY,defaultParseWidth:"any"}),dayPeriod:Th({matchPatterns:UY,defaultMatchWidth:"any",parsePatterns:HY,defaultParseWidth:"any"})},GY={code:"en-US",formatDistance:pY,formatLong:bY,formatRelative:jY,localize:TY,match:qY,options:{weekStartsOn:0,firstWeekContainsDate:1}};function WY(t){const s=sr(t);return S5(s,mY(s))+1}function YY(t){const s=sr(t),a=+Ig(s)-+cY(s);return Math.round(a/C5)+1}function A5(t,s){const a=sr(t),n=a.getFullYear(),r=Ox(),i=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??r.firstWeekContainsDate??r.locale?.options?.firstWeekContainsDate??1,l=zc(t,0);l.setFullYear(n+1,0,i),l.setHours(0,0,0,0);const d=cm(l,s),u=zc(t,0);u.setFullYear(n,0,i),u.setHours(0,0,0,0);const h=cm(u,s);return a.getTime()>=d.getTime()?n+1:a.getTime()>=h.getTime()?n:n-1}function KY(t,s){const a=Ox(),n=s?.firstWeekContainsDate??s?.locale?.options?.firstWeekContainsDate??a.firstWeekContainsDate??a.locale?.options?.firstWeekContainsDate??1,r=A5(t,s),i=zc(t,0);return i.setFullYear(r,0,n),i.setHours(0,0,0,0),cm(i,s)}function XY(t,s){const a=sr(t),n=+cm(a,s)-+KY(a,s);return Math.round(n/C5)+1}function _s(t,s){const a=t<0?"-":"",n=Math.abs(t).toString().padStart(s,"0");return a+n}const il={y(t,s){const a=t.getFullYear(),n=a>0?a:1-a;return _s(s==="yy"?n%100:n,s.length)},M(t,s){const a=t.getMonth();return s==="M"?String(a+1):_s(a+1,2)},d(t,s){return _s(t.getDate(),s.length)},a(t,s){const a=t.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return a.toUpperCase();case"aaa":return a;case"aaaaa":return a[0];case"aaaa":default:return a==="am"?"a.m.":"p.m."}},h(t,s){return _s(t.getHours()%12||12,s.length)},H(t,s){return _s(t.getHours(),s.length)},m(t,s){return _s(t.getMinutes(),s.length)},s(t,s){return _s(t.getSeconds(),s.length)},S(t,s){const a=s.length,n=t.getMilliseconds(),r=Math.trunc(n*Math.pow(10,a-3));return _s(r,s.length)}},Pd={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},eS={G:function(t,s,a){const n=t.getFullYear()>0?1:0;switch(s){case"G":case"GG":case"GGG":return a.era(n,{width:"abbreviated"});case"GGGGG":return a.era(n,{width:"narrow"});case"GGGG":default:return a.era(n,{width:"wide"})}},y:function(t,s,a){if(s==="yo"){const n=t.getFullYear(),r=n>0?n:1-n;return a.ordinalNumber(r,{unit:"year"})}return il.y(t,s)},Y:function(t,s,a,n){const r=A5(t,n),i=r>0?r:1-r;if(s==="YY"){const l=i%100;return _s(l,2)}return s==="Yo"?a.ordinalNumber(i,{unit:"year"}):_s(i,s.length)},R:function(t,s){const a=k5(t);return _s(a,s.length)},u:function(t,s){const a=t.getFullYear();return _s(a,s.length)},Q:function(t,s,a){const n=Math.ceil((t.getMonth()+1)/3);switch(s){case"Q":return String(n);case"QQ":return _s(n,2);case"Qo":return a.ordinalNumber(n,{unit:"quarter"});case"QQQ":return a.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return a.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return a.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,s,a){const n=Math.ceil((t.getMonth()+1)/3);switch(s){case"q":return String(n);case"qq":return _s(n,2);case"qo":return a.ordinalNumber(n,{unit:"quarter"});case"qqq":return a.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return a.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return a.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,s,a){const n=t.getMonth();switch(s){case"M":case"MM":return il.M(t,s);case"Mo":return a.ordinalNumber(n+1,{unit:"month"});case"MMM":return a.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return a.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return a.month(n,{width:"wide",context:"formatting"})}},L:function(t,s,a){const n=t.getMonth();switch(s){case"L":return String(n+1);case"LL":return _s(n+1,2);case"Lo":return a.ordinalNumber(n+1,{unit:"month"});case"LLL":return a.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return a.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return a.month(n,{width:"wide",context:"standalone"})}},w:function(t,s,a,n){const r=XY(t,n);return s==="wo"?a.ordinalNumber(r,{unit:"week"}):_s(r,s.length)},I:function(t,s,a){const n=YY(t);return s==="Io"?a.ordinalNumber(n,{unit:"week"}):_s(n,s.length)},d:function(t,s,a){return s==="do"?a.ordinalNumber(t.getDate(),{unit:"date"}):il.d(t,s)},D:function(t,s,a){const n=WY(t);return s==="Do"?a.ordinalNumber(n,{unit:"dayOfYear"}):_s(n,s.length)},E:function(t,s,a){const n=t.getDay();switch(s){case"E":case"EE":case"EEE":return a.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return a.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return a.day(n,{width:"short",context:"formatting"});case"EEEE":default:return a.day(n,{width:"wide",context:"formatting"})}},e:function(t,s,a,n){const r=t.getDay(),i=(r-n.weekStartsOn+8)%7||7;switch(s){case"e":return String(i);case"ee":return _s(i,2);case"eo":return a.ordinalNumber(i,{unit:"day"});case"eee":return a.day(r,{width:"abbreviated",context:"formatting"});case"eeeee":return a.day(r,{width:"narrow",context:"formatting"});case"eeeeee":return a.day(r,{width:"short",context:"formatting"});case"eeee":default:return a.day(r,{width:"wide",context:"formatting"})}},c:function(t,s,a,n){const r=t.getDay(),i=(r-n.weekStartsOn+8)%7||7;switch(s){case"c":return String(i);case"cc":return _s(i,s.length);case"co":return a.ordinalNumber(i,{unit:"day"});case"ccc":return a.day(r,{width:"abbreviated",context:"standalone"});case"ccccc":return a.day(r,{width:"narrow",context:"standalone"});case"cccccc":return a.day(r,{width:"short",context:"standalone"});case"cccc":default:return a.day(r,{width:"wide",context:"standalone"})}},i:function(t,s,a){const n=t.getDay(),r=n===0?7:n;switch(s){case"i":return String(r);case"ii":return _s(r,s.length);case"io":return a.ordinalNumber(r,{unit:"day"});case"iii":return a.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return a.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return a.day(n,{width:"short",context:"formatting"});case"iiii":default:return a.day(n,{width:"wide",context:"formatting"})}},a:function(t,s,a){const r=t.getHours()/12>=1?"pm":"am";switch(s){case"a":case"aa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"aaaa":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(t,s,a){const n=t.getHours();let r;switch(n===12?r=Pd.noon:n===0?r=Pd.midnight:r=n/12>=1?"pm":"am",s){case"b":case"bb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"bbbb":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(t,s,a){const n=t.getHours();let r;switch(n>=17?r=Pd.evening:n>=12?r=Pd.afternoon:n>=4?r=Pd.morning:r=Pd.night,s){case"B":case"BB":case"BBB":return a.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return a.dayPeriod(r,{width:"narrow",context:"formatting"});case"BBBB":default:return a.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(t,s,a){if(s==="ho"){let n=t.getHours()%12;return n===0&&(n=12),a.ordinalNumber(n,{unit:"hour"})}return il.h(t,s)},H:function(t,s,a){return s==="Ho"?a.ordinalNumber(t.getHours(),{unit:"hour"}):il.H(t,s)},K:function(t,s,a){const n=t.getHours()%12;return s==="Ko"?a.ordinalNumber(n,{unit:"hour"}):_s(n,s.length)},k:function(t,s,a){let n=t.getHours();return n===0&&(n=24),s==="ko"?a.ordinalNumber(n,{unit:"hour"}):_s(n,s.length)},m:function(t,s,a){return s==="mo"?a.ordinalNumber(t.getMinutes(),{unit:"minute"}):il.m(t,s)},s:function(t,s,a){return s==="so"?a.ordinalNumber(t.getSeconds(),{unit:"second"}):il.s(t,s)},S:function(t,s){return il.S(t,s)},X:function(t,s,a){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(s){case"X":return sS(n);case"XXXX":case"XX":return xc(n);case"XXXXX":case"XXX":default:return xc(n,":")}},x:function(t,s,a){const n=t.getTimezoneOffset();switch(s){case"x":return sS(n);case"xxxx":case"xx":return xc(n);case"xxxxx":case"xxx":default:return xc(n,":")}},O:function(t,s,a){const n=t.getTimezoneOffset();switch(s){case"O":case"OO":case"OOO":return"GMT"+tS(n,":");case"OOOO":default:return"GMT"+xc(n,":")}},z:function(t,s,a){const n=t.getTimezoneOffset();switch(s){case"z":case"zz":case"zzz":return"GMT"+tS(n,":");case"zzzz":default:return"GMT"+xc(n,":")}},t:function(t,s,a){const n=Math.trunc(t.getTime()/1e3);return _s(n,s.length)},T:function(t,s,a){const n=t.getTime();return _s(n,s.length)}};function tS(t,s=""){const a=t>0?"-":"+",n=Math.abs(t),r=Math.trunc(n/60),i=n%60;return i===0?a+String(r):a+String(r)+s+_s(i,2)}function sS(t,s){return t%60===0?(t>0?"-":"+")+_s(Math.abs(t)/60,2):xc(t,s)}function xc(t,s=""){const a=t>0?"-":"+",n=Math.abs(t),r=_s(Math.trunc(n/60),2),i=_s(n%60,2);return a+r+s+i}const aS=(t,s)=>{switch(t){case"P":return s.date({width:"short"});case"PP":return s.date({width:"medium"});case"PPP":return s.date({width:"long"});case"PPPP":default:return s.date({width:"full"})}},T5=(t,s)=>{switch(t){case"p":return s.time({width:"short"});case"pp":return s.time({width:"medium"});case"ppp":return s.time({width:"long"});case"pppp":default:return s.time({width:"full"})}},QY=(t,s)=>{const a=t.match(/(P+)(p+)?/)||[],n=a[1],r=a[2];if(!r)return aS(t,s);let i;switch(n){case"P":i=s.dateTime({width:"short"});break;case"PP":i=s.dateTime({width:"medium"});break;case"PPP":i=s.dateTime({width:"long"});break;case"PPPP":default:i=s.dateTime({width:"full"});break}return i.replace("{{date}}",aS(n,s)).replace("{{time}}",T5(r,s))},ZY={p:T5,P:QY},JY=/^D+$/,eK=/^Y+$/,tK=["D","DD","YY","YYYY"];function sK(t){return JY.test(t)}function aK(t){return eK.test(t)}function nK(t,s,a){const n=rK(t,s,a);if(console.warn(n),tK.includes(t))throw new RangeError(n)}function rK(t,s,a){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${s}\`) for formatting ${n} to the input \`${a}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const iK=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,oK=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,lK=/^'([^]*?)'?$/,cK=/''/g,dK=/[a-zA-Z]/;function nS(t,s,a){const n=Ox(),r=n.locale??GY,i=n.firstWeekContainsDate??n.locale?.options?.firstWeekContainsDate??1,l=n.weekStartsOn??n.locale?.options?.weekStartsOn??0,d=sr(t);if(!uY(d))throw new RangeError("Invalid time value");let u=s.match(oK).map(p=>{const f=p[0];if(f==="p"||f==="P"){const y=ZY[f];return y(p,r.formatLong)}return p}).join("").match(iK).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const f=p[0];if(f==="'")return{isToken:!1,value:uK(p)};if(eS[f])return{isToken:!0,value:p};if(f.match(dK))throw new RangeError("Format string contains an unescaped latin alphabet character `"+f+"`");return{isToken:!1,value:p}});r.localize.preprocessor&&(u=r.localize.preprocessor(d,u));const h={firstWeekContainsDate:i,weekStartsOn:l,locale:r};return u.map(p=>{if(!p.isToken)return p.value;const f=p.value;(aK(f)||sK(f))&&nK(f,s,String(t));const y=eS[f[0]];return y(d,f,r.localize,h)}).join("")}function uK(t){const s=t.match(lK);return s?s[1].replace(cK,"'"):t}const hK=()=>{const t=Ua(),[s,a]=x.useState([]),[n,r]=x.useState([]),[i,l]=x.useState("all"),[d,u]=x.useState(!0),[h,p]=x.useState(null);x.useEffect(()=>{(async()=>{try{const T=(await xe.get("/driver/bookings/client")).data.bookings.data;a(T),r(T)}catch(_){console.error("Error fetching bookings:",_),p("Failed to load bookings"),se.error("Could not load your bookings")}finally{u(!1)}})()},[]),x.useEffect(()=>{r(i==="all"?s:s.filter(w=>w.booking_request_status===i))},[i,s]);const f=w=>{const _={pending:{text:"Pending",icon:e.jsx($$,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),color:"bg-gradient-to-r from-yellow-100 to-amber-100 text-yellow-800 border-yellow-200 dark:from-yellow-900/30 dark:to-amber-900/30 dark:text-yellow-300 dark:border-yellow-700",badgeClass:"bg-yellow-500"},confirmed:{text:"Confirmed",icon:e.jsx(Rn,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),color:"bg-gradient-to-r from-green-100 to-emerald-100 text-green-800 border-green-200 dark:from-green-900/30 dark:to-emerald-900/30 dark:text-green-300 dark:border-green-700",badgeClass:"bg-green-500"},cancelled:{text:"Cancelled",icon:e.jsx(Bn,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),color:"bg-gradient-to-r from-gray-100 to-slate-100 text-gray-800 border-gray-200 dark:from-gray-800/30 dark:to-slate-800/30 dark:text-gray-300 dark:border-gray-700",badgeClass:"bg-gray-500"},rejected:{text:"Rejected",icon:e.jsx(bl,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),color:"bg-gradient-to-r from-red-100 to-rose-100 text-red-800 border-red-200 dark:from-red-900/30 dark:to-rose-900/30 dark:text-red-300 dark:border-red-700",badgeClass:"bg-red-500"},completed:{text:"Completed",icon:e.jsx(Rn,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5"}),color:"bg-gradient-to-r from-blue-100 to-cyan-100 text-blue-800 border-blue-200 dark:from-blue-900/30 dark:to-cyan-900/30 dark:text-blue-300 dark:border-blue-700",badgeClass:"bg-blue-500"}};return _[w]||_.pending},y=(w,_,T)=>{!w||!_||w===0||_===0||window.open(`https://www.google.com/maps?q=${w},${_}`,"_blank")},v=w=>nS(new Date(w),"MMM dd, yyyy"),j=w=>nS(new Date(w),"h:mm a"),N=({car:w})=>{const[_,T]=x.useState(0),R=[w.main_image_url,w.front_image_url,w.back_image_url,w.left_image_url,w.right_image_url].filter(Boolean),E=()=>T(V=>(V+1)%R.length),A=()=>T(V=>(V-1+R.length)%R.length);return R.length?e.jsxs("div",{className:"relative group aspect-[16/10] rounded-t-xl overflow-hidden bg-gray-900",children:[e.jsx("img",{src:`/api/storage/${R[_]}`,alt:"Car",className:"w-full h-full object-cover transition-transform duration-500 group-hover:scale-105"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),R.length>1&&e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:A,className:"absolute left-2 sm:left-3 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white text-gray-900 p-1.5 sm:p-2 rounded-full opacity-0 group-hover:opacity-100 transition-all duration-300 shadow-lg hover:scale-110 active:scale-95",children:e.jsx(jo,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),e.jsx("button",{onClick:E,className:"absolute right-2 sm:right-3 top-1/2 -translate-y-1/2 bg-white/90 hover:bg-white text-gray-900 p-1.5 sm:p-2 rounded-full opacity-0 group-hover:opacity-100 transition-all duration-300 shadow-lg hover:scale-110 active:scale-95",children:e.jsx(sn,{className:"w-4 h-4 sm:w-5 sm:h-5"})}),e.jsx("div",{className:"absolute bottom-3 sm:bottom-4 left-1/2 -translate-x-1/2 flex gap-1.5 sm:gap-2",children:R.map((V,k)=>e.jsx("button",{onClick:()=>T(k),className:`transition-all duration-300 rounded-full ${k===_?"bg-white w-6 sm:w-8 h-1.5 sm:h-2":"bg-white/60 hover:bg-white/80 w-1.5 sm:w-2 h-1.5 sm:h-2"}`},k))})]})]}):e.jsx("div",{className:"aspect-[16/10] bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-900 border-2 border-dashed rounded-t-xl flex items-center justify-center",children:e.jsx(Vt,{className:"w-12 h-12 sm:w-16 sm:h-16 text-gray-400"})})};return d?e.jsx("div",{className:"min-h-screen pt-16 sm:pt-20 flex items-center justify-center bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-900 dark:via-gray-900 dark:to-gray-800 px-4",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsxs("div",{className:"relative w-16 h-16 sm:w-20 sm:h-20 mx-auto",children:[e.jsx("div",{className:"absolute inset-0 border-4 border-teal-200 dark:border-teal-900 rounded-full"}),e.jsx("div",{className:"absolute inset-0 border-4 border-teal-600 border-t-transparent rounded-full animate-spin"})]}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground font-medium",children:"Loading your bookings..."})]})}):h?e.jsx("div",{className:"min-h-screen pt-16 sm:pt-20 bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-900 dark:via-gray-900 dark:to-gray-800 px-4",children:e.jsx("div",{className:"container mx-auto py-8 sm:py-12 max-w-2xl",children:e.jsxs(Ae,{className:"p-8 sm:p-12 text-center border-2 shadow-xl",children:[e.jsx("div",{className:"w-16 h-16 sm:w-20 sm:h-20 bg-red-100 dark:bg-red-900/30 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6",children:e.jsx(bl,{className:"w-8 h-8 sm:w-10 sm:h-10 text-red-600 dark:text-red-400"})}),e.jsx("h2",{className:"text-xl sm:text-2xl font-bold mb-3",children:"Oops! Something went wrong"}),e.jsx("p",{className:"text-sm sm:text-base text-muted-foreground mb-6 sm:mb-8",children:h}),e.jsx(Q,{onClick:()=>window.location.reload(),size:"lg",className:"bg-teal-600 hover:bg-teal-700 w-full sm:w-auto",children:"Try Again"})]})})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-900 dark:via-gray-900 dark:to-gray-800 pt-16 sm:pt-20",children:e.jsxs("div",{className:"container mx-auto px-3 sm:px-4 py-4 sm:py-8 max-w-7xl",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-3 sm:gap-4 mb-6 sm:mb-8",children:[e.jsxs(Q,{variant:"ghost",onClick:()=>t(-1),className:"hover:bg-teal-50 dark:hover:bg-teal-900/20 transition-colors -ml-2 sm:ml-0 h-9 sm:h-10 px-2 sm:px-4",size:"sm",children:[e.jsx(yi,{className:"w-4 h-4 sm:w-5 sm:h-5 mr-1 sm:mr-2"}),e.jsx("span",{className:"text-sm sm:text-base",children:"Back"})]}),e.jsxs("div",{className:"text-left sm:text-center flex-1 w-full sm:w-auto",children:[e.jsx("h1",{className:"text-2xl sm:text-3xl lg:text-4xl font-bold bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent mb-1 sm:mb-2",children:"My Bookings"}),e.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground",children:[s.length," ",s.length===1?"booking":"bookings"," total"]})]}),e.jsx("div",{className:"hidden sm:block w-[100px]"})," "]}),e.jsx("div",{className:"mb-6 sm:mb-8 -mx-3 sm:mx-0 px-3 sm:px-0 overflow-x-auto scrollbar-hide",children:e.jsx(fo,{value:i,onValueChange:l,children:e.jsxs(Si,{className:"inline-flex sm:grid w-auto sm:w-full min-w-full sm:max-w-3xl sm:mx-auto grid-cols-6 h-11 sm:h-14 bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm border shadow-lg gap-0.5 sm:gap-1 p-1",children:[e.jsx(Pt,{value:"all",className:"data-[state=active]:bg-gradient-to-r data-[state=active]:from-teal-500 data-[state=active]:to-cyan-500 data-[state=active]:text-white font-medium text-xs sm:text-sm px-2 sm:px-4 whitespace-nowrap",children:"All"}),e.jsxs(Pt,{value:"confirmed",className:"data-[state=active]:bg-green-500 data-[state=active]:text-white font-medium text-xs sm:text-sm px-2 sm:px-4 whitespace-nowrap",children:[e.jsx("span",{className:"hidden sm:inline",children:"Confirmed"}),e.jsx("span",{className:"sm:hidden",children:"Confirm"})]}),e.jsx(Pt,{value:"pending",className:"data-[state=active]:bg-yellow-500 data-[state=active]:text-white font-medium text-xs sm:text-sm px-2 sm:px-4 whitespace-nowrap",children:"Pending"}),e.jsxs(Pt,{value:"cancelled",className:"data-[state=active]:bg-gray-500 data-[state=active]:text-white font-medium text-xs sm:text-sm px-2 sm:px-4 whitespace-nowrap",children:[e.jsx("span",{className:"hidden sm:inline",children:"Cancelled"}),e.jsx("span",{className:"sm:hidden",children:"Cancel"})]}),e.jsx(Pt,{value:"rejected",className:"data-[state=active]:bg-red-500 data-[state=active]:text-white font-medium text-xs sm:text-sm px-2 sm:px-4 whitespace-nowrap",children:"Rejected"}),e.jsxs(Pt,{value:"completed",className:"data-[state=active]:bg-blue-500 data-[state=active]:text-white font-medium text-xs sm:text-sm px-2 sm:px-4 whitespace-nowrap",children:[e.jsx("span",{className:"hidden sm:inline",children:"Completed"}),e.jsx("span",{className:"sm:hidden",children:"Done"})]})]})})}),n.length===0?e.jsxs(Ae,{className:"p-8 sm:p-16 text-center max-w-2xl mx-auto border-2 shadow-xl bg-white/50 dark:bg-gray-800/50 backdrop-blur-sm",children:[e.jsx("div",{className:"w-20 h-20 sm:w-24 sm:h-24 bg-gradient-to-br from-teal-100 to-cyan-100 dark:from-teal-900/30 dark:to-cyan-900/30 rounded-full flex items-center justify-center mx-auto mb-4 sm:mb-6",children:e.jsx(Vt,{className:"w-10 h-10 sm:w-12 sm:h-12 text-teal-600 dark:text-teal-400"})}),e.jsx("h2",{className:"text-2xl sm:text-3xl font-bold mb-3 sm:mb-4",children:i==="all"?"No Bookings Yet":`No ${i.charAt(0).toUpperCase()+i.slice(1)} Bookings`}),e.jsx("p",{className:"text-sm sm:text-base lg:text-lg text-muted-foreground mb-6 sm:mb-8",children:i==="all"?"Ready to hit the road? Browse our amazing fleet!":"You have no bookings in this category."}),i==="all"&&e.jsx(Q,{onClick:()=>t("/cars"),size:"lg",className:"bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white shadow-lg w-full sm:w-auto",children:"Browse Cars"})]}):e.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-2 gap-4 sm:gap-6",children:n.map(w=>{const _=f(w.booking_request_status),T=hY(new Date(w.end_datetime),new Date(w.start_datetime))+1,R=w.pickup_location||w.car.delivery_location||{},E=w.dropoff_location||w.car.return_location||{},A=R.address||"To be confirmed",V=R.latitude,k=R.longitude,B=E.address||"To be confirmed",P=E.latitude,H=E.longitude,D=parseFloat(w.car.deposit||0),K=D>0,X=V&&k&&V!==0&&k!==0,ne=P&&H&&P!==0&&H!==0;return e.jsxs(Ae,{className:"overflow-hidden hover:shadow-2xl transition-all duration-500 flex flex-col h-full border-2 bg-white/80 dark:bg-gray-800/80 backdrop-blur-sm hover:-translate-y-1 group",children:[e.jsxs("div",{className:"relative",children:[e.jsx(N,{car:w.car}),e.jsx("div",{className:"absolute top-2 sm:top-4 right-2 sm:right-4 z-10",children:e.jsxs(Re,{className:`${_.color} shadow-xl font-semibold px-2 py-1 sm:px-3 sm:py-1.5 border backdrop-blur-sm text-xs sm:text-sm`,children:[_.icon," ",e.jsx("span",{className:"ml-1",children:_.text})]})}),w.payment_status==="pending"&&e.jsxs(Re,{className:"absolute top-2 sm:top-4 left-2 sm:left-4 bg-orange-500 text-white shadow-xl border-0 backdrop-blur-sm px-2 py-1 sm:px-3 sm:py-1.5 font-semibold text-xs sm:text-sm",children:[e.jsx(Is,{className:"w-3 h-3 sm:w-3.5 sm:h-3.5 mr-1"}),e.jsx("span",{className:"hidden xs:inline",children:"Payment Due"}),e.jsx("span",{className:"xs:hidden",children:"Due"})]}),e.jsxs("div",{className:"absolute bottom-2 sm:bottom-4 left-2 sm:left-4 bg-black/70 backdrop-blur-md text-white px-3 py-1.5 sm:px-4 sm:py-2 rounded-full text-xs sm:text-sm font-semibold shadow-lg flex items-center gap-1.5 sm:gap-2",children:[e.jsx(pu,{className:"w-3 h-3 sm:w-4 sm:h-4"}),T," day",T>1?"s":""]})]}),e.jsxs(ns,{className:"pb-3 sm:pb-4 pt-4 sm:pt-6 px-4 sm:px-6",children:[e.jsxs(rs,{className:"text-lg sm:text-xl lg:text-2xl font-bold flex items-start sm:items-center justify-between gap-2 flex-col xs:flex-row",children:[e.jsxs("span",{className:"truncate",children:[w.car.make," ",w.car.model]}),e.jsx(Re,{variant:"outline",className:"font-mono text-xs shrink-0 self-start xs:self-auto",children:w.car.year})]}),e.jsxs("div",{className:"flex items-center gap-2 sm:gap-3 text-xs sm:text-sm text-muted-foreground pt-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(gi,{className:"w-3 h-3 sm:w-4 sm:h-4"}),e.jsx("span",{className:"truncate",children:w.car.car_category})]}),e.jsx(_c,{orientation:"vertical",className:"h-3 sm:h-4"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(xs,{className:"w-3 h-3 sm:w-4 sm:h-4"}),w.car.seats]})]})]}),e.jsxs(Ee,{className:"flex-1 space-y-4 sm:space-y-6 pt-0 px-4 sm:px-6 pb-4 sm:pb-6",children:[e.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"relative pl-5 sm:pl-6 pb-4 sm:pb-6 border-l-2 border-teal-200 dark:border-teal-800",children:[e.jsx("div",{className:"absolute -left-1.5 sm:-left-2 top-0 w-3 h-3 sm:w-4 sm:h-4 rounded-full bg-teal-500 ring-2 sm:ring-4 ring-teal-100 dark:ring-teal-900"}),e.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 font-semibold text-xs sm:text-sm text-teal-700 dark:text-teal-400",children:[e.jsx(Ms,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Pickup"]}),e.jsx("p",{className:"text-xs sm:text-sm font-medium",children:v(w.start_datetime)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:j(w.start_datetime)}),e.jsxs("button",{onClick:()=>y(V,k),disabled:!X,className:`flex items-start gap-1.5 sm:gap-2 text-xs transition-all mt-1.5 sm:mt-2 group/btn ${X?"text-gray-700 dark:text-gray-300 hover:text-teal-600 dark:hover:text-teal-400 active:text-teal-700":"text-gray-400 cursor-not-allowed"}`,children:[e.jsx(vs,{className:"w-3 h-3 sm:w-4 sm:h-4 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"flex-1 text-left line-clamp-2",children:A}),X&&e.jsx(Ng,{className:"w-3 h-3 opacity-60 group-hover/btn:opacity-100 transition-opacity flex-shrink-0 mt-0.5"})]})]})]}),e.jsxs("div",{className:"relative pl-5 sm:pl-6",children:[e.jsx("div",{className:"absolute -left-1.5 sm:-left-2 top-0 w-3 h-3 sm:w-4 sm:h-4 rounded-full bg-cyan-500 ring-2 sm:ring-4 ring-cyan-100 dark:ring-cyan-900"}),e.jsxs("div",{className:"space-y-1.5 sm:space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 font-semibold text-xs sm:text-sm text-cyan-700 dark:text-cyan-400",children:[e.jsx(Ms,{className:"w-3 h-3 sm:w-4 sm:h-4"}),"Return"]}),e.jsx("p",{className:"text-xs sm:text-sm font-medium",children:v(w.end_datetime)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:j(w.end_datetime)}),e.jsxs("button",{onClick:()=>y(P,H),disabled:!ne,className:`flex items-start gap-1.5 sm:gap-2 text-xs transition-all mt-1.5 sm:mt-2 group/btn ${ne?"text-gray-700 dark:text-gray-300 hover:text-cyan-600 dark:hover:text-cyan-400 active:text-cyan-700":"text-gray-400 cursor-not-allowed"}`,children:[e.jsx(vs,{className:"w-3 h-3 sm:w-4 sm:h-4 mt-0.5 flex-shrink-0"}),e.jsx("span",{className:"flex-1 text-left line-clamp-2",children:B}),ne&&e.jsx(Ng,{className:"w-3 h-3 opacity-60 group-hover/btn:opacity-100 transition-opacity flex-shrink-0 mt-0.5"})]})]})]})]}),w.reason_of_booking&&e.jsx("div",{className:"bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800/50 dark:to-gray-700/50 rounded-lg p-3 sm:p-4 border",children:e.jsxs("div",{className:"flex items-start gap-2 sm:gap-3",children:[e.jsx(Ks,{className:"w-3 h-3 sm:w-4 sm:h-4 text-amber-500 mt-0.5 flex-shrink-0"}),e.jsxs("p",{className:"text-xs sm:text-sm text-gray-700 dark:text-gray-300 italic leading-relaxed",children:['"',w.reason_of_booking,'"']})]})}),e.jsx(_c,{}),e.jsxs("div",{className:`rounded-xl p-3 sm:p-4 border-2 transition-all ${K?"bg-gradient-to-br from-amber-50 to-orange-50 border-amber-200 dark:from-amber-900/20 dark:to-orange-900/20 dark:border-amber-700":"bg-gradient-to-br from-green-50 to-emerald-50 border-green-200 dark:from-green-900/20 dark:to-emerald-900/20 dark:border-green-700"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-1.5 sm:mb-2",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2",children:[e.jsx("div",{className:`p-1 sm:p-1.5 rounded-lg ${K?"bg-amber-200 dark:bg-amber-800":"bg-green-200 dark:bg-green-800"}`,children:e.jsx(X7,{className:`w-4 h-4 sm:w-5 sm:h-5 ${K?"text-amber-700 dark:text-amber-300":"text-green-700 dark:text-green-300"}`})}),e.jsx("span",{className:`text-xs sm:text-sm font-semibold ${K?"text-amber-900 dark:text-amber-200":"text-green-900 dark:text-green-200"}`,children:"Deposit"})]}),e.jsx("span",{className:`text-base sm:text-lg font-bold ${K?"text-amber-900 dark:text-amber-200":"text-green-900 dark:text-green-200"}`,children:K?`$${D.toFixed(2)}`:"$0.00"})]}),e.jsx("p",{className:`text-xs ${K?"text-amber-700 dark:text-amber-400":"text-green-700 dark:text-green-400"}`,children:K?"Refundable upon safe return":"No deposit required"})]}),e.jsxs("div",{className:"flex items-end justify-between pt-2 gap-3",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-wide mb-0.5 sm:mb-1 text-muted-foreground",children:"Total"}),e.jsxs("p",{className:"text-2xl sm:text-3xl font-bold bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent",children:["$",parseFloat(w.total_booking_price).toFixed(2)]})]}),e.jsxs(Q,{size:"default",onClick:()=>t(`/booking/${w.id}`),className:"bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white shadow-lg hover:shadow-xl transition-all group h-10 sm:h-11 px-4 sm:px-6 text-sm sm:text-base",children:[e.jsx("span",{className:"hidden xs:inline",children:"View Details"}),e.jsx("span",{className:"xs:hidden",children:"Details"}),e.jsx(sn,{className:"w-4 h-4 ml-1 group-hover:translate-x-1 transition-transform"})]})]})]})]},w.id)})})]})})},Sp={BMW:["1 Series","3 Series","5 Series","7 Series","X1","X3","X5","X7","M3","M5","Z4","i4","i7","iX"],"Mercedes-Benz":["A-Class","C-Class","E-Class","S-Class","GLA","GLC","GLE","GLS","G-Class","AMG GT","Maybach","EQE","EQS"],Audi:["A3","A4","A6","A8","Q3","Q5","Q7","Q8","TT","R8","e-tron"],Porsche:["911","Cayenne","Macan","Panamera","Taycan","Boxster","Cayman"],Volkswagen:["Polo","Golf","Jetta","Passat","Tiguan","Touareg","Arteon","ID.4","ID.7"],Opel:["Corsa","Astra","Insignia","Mokka","Grandland"],Smart:["Fortwo","Forfour"],Ferrari:["Roma","Portofino","F8","812","SF90","Purosangue"],Lamborghini:["Huracan","Aventador","Urus","Revuelto"],Maserati:["Ghibli","Quattroporte","Levante","Grecale","MC20"],"Alfa Romeo":["Giulia","Stelvio","Tonale","Giulietta"],Fiat:["500","Panda","Tipo","Doblo"],Pagani:["Huayra","Zonda"],"Rolls-Royce":["Phantom","Ghost","Wraith","Cullinan","Spectre"],Bentley:["Continental GT","Flying Spur","Bentayga"],"Aston Martin":["Vantage","DB11","DB12","DBX","Valhalla"],Jaguar:["XE","XF","XJ","F-Type","E-Pace","F-Pace"],"Land Rover":["Range Rover","Range Rover Sport","Velar","Evoque","Defender","Discovery"],McLaren:["720S","750S","Artura","GT"],Mini:["Cooper","Countryman","Clubman"],Lotus:["Emira","Evija","Eletre"],Tesla:["Model 3","Model S","Model X","Model Y","Cybertruck","Roadster"],Ford:["Fiesta","Focus","Mustang","Explorer","Escape","Edge","F-150","Bronco"],Chevrolet:["Spark","Malibu","Camaro","Corvette","Tahoe","Suburban","Silverado"],Dodge:["Charger","Challenger","Durango"],Jeep:["Wrangler","Grand Cherokee","Compass","Renegade","Gladiator"],Cadillac:["CT4","CT5","Escalade","Lyriq"],Chrysler:["300","Pacifica"],GMC:["Sierra","Yukon","Acadia"],Rivian:["R1T","R1S"],Lucid:["Air","Gravity"],Toyota:["Corolla","Camry","Yaris","Prius","RAV4","Highlander","Land Cruiser","Supra","Hilux"],Lexus:["IS","ES","GS","LS","NX","RX","GX","LX","LC"],Honda:["Civic","Accord","City","CR-V","HR-V","Pilot","Odyssey"],Nissan:["Micra","Sentra","Altima","Maxima","Qashqai","X-Trail","GT-R","370Z"],Infiniti:["Q50","Q60","QX50","QX60","QX80"],Mazda:["Mazda2","Mazda3","Mazda6","CX-5","CX-9","MX-5"],Subaru:["Impreza","Legacy","Outback","Forester","WRX","BRZ"],Mitsubishi:["Mirage","Lancer","ASX","Outlander","Pajero"],Suzuki:["Swift","Vitara","Jimny","Baleno"],Isuzu:["D-Max","MU-X"],Hyundai:["Accent","Elantra","Sonata","Kona","Tucson","Santa Fe","Palisade","Ioniq 5"],Kia:["Rio","Cerato","K5","Soul","Sportage","Sorento","Telluride","EV6"],Genesis:["G70","G80","G90","GV70","GV80"],Peugeot:["208","308","508","2008","3008","5008"],Renault:["Clio","Megane","Talisman","Captur","Kadjar","Koleos"],Citron:["C3","C4","C5","C5 Aircross"],Bugatti:["Chiron","Mistral","Tourbillon"],"DS Automobiles":["DS3","DS4","DS7"],BYD:["Atto 3","Han","Tang","Seal"],Geely:["Coolray","Emgrand","Tugella"],Chery:["Tiggo 7","Tiggo 8"],"Great Wall":["Haval H6","Tank 300"],NIO:["ES6","ES8","ET5","ET7"],XPeng:["P7","G6","G9"],MG:["ZS","HS","MG4","MG5"],Zeekr:["001","X"],Volvo:["S60","S90","V60","XC40","XC60","XC90"],Polestar:["Polestar 2","Polestar 3","Polestar 4"],Koenigsegg:["Jesko","Regera","Gemera"],Rimac:["Nevera"],Hennessey:["Venom F5"],SSC:["Tuatara"],Mahindra:["Scorpio","XUV700"],Tata:["Nexon","Harrier","Safari"]},mK=["White","Black","Silver","Gray","Red","Blue","Green","Yellow","Orange","Brown","Beige","Gold","Purple","Pink","Pearl White","Metallic Gray","Metallic Blue","Dark Blue","Light Blue","Burgundy"],fK=["GPS","Bluetooth","Backup Camera","Sunroof","Leather Seats","Apple CarPlay","Android Auto","Heated Seats","Cruise Control","Parking Sensors"],pK=["Child Seat","GPS Device","Phone Holder","WiFi Hotspot","Roof Rack"],gK=["Vacation","Business Trip","Wedding","Daily Use","Long Trip","Airport Transfer"],xK=["Beirut","Mount Lebanon","North","South","Bekaa","Baalbek","Keserwan","Nabatieh","Akkar"];function yK(t){if(!t||typeof t!="string")return null;const s=t.trim(),a=s.match(/@(-?\d+\.?\d*),(-?\d+\.?\d*)/);if(a)return{lat:parseFloat(a[1]),lng:parseFloat(a[2])};const n=s.match(/[?&]q=(-?\d+\.?\d*),(-?\d+\.?\d*)/);if(n)return{lat:parseFloat(n[1]),lng:parseFloat(n[2])};const r=s.match(/(?:!3d|!4d|!1d)(-?\d+\.?\d*)/g);if(r&&r.length>=2){const i=parseFloat(r[0].replace(/\D/g,"")),l=parseFloat(r[1].replace(/\D/g,""));if(!isNaN(i)&&!isNaN(l))return{lat:i,lng:l}}return null}function rS(){try{const t=localStorage.getItem("user");if(!t)return null;let a=JSON.parse(t)?.agent?.location;if(!a)return null;typeof a=="string"&&(a=JSON.parse(a),typeof a=="string"&&(a=JSON.parse(a)));const n=a?.lat??a?.latitude,r=a?.lng??a?.longitude;return n!=null&&r!=null?{latitude:String(Number(n)),longitude:String(Number(r))}:null}catch{return null}}function bK({center:t,selectedLocation:s,onLocationSelect:a}){const n=x.useRef(null),r=x.useRef(null);x.useEffect(()=>{if(typeof window<"u"&&!window.L){const l=document.createElement("link");l.rel="stylesheet",l.href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",document.head.appendChild(l);const d=document.createElement("script");d.src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js",d.onload=()=>i(),document.head.appendChild(d)}else window.L&&i()},[]),x.useEffect(()=>{if(n.current&&window.L&&t?.latitude!=null&&t?.longitude!=null){const l=parseFloat(t.latitude),d=parseFloat(t.longitude);n.current.setView([l,d],13)}},[t?.latitude,t?.longitude]),x.useEffect(()=>{s&&r.current&&window.L&&r.current.setLatLng([parseFloat(s.latitude),parseFloat(s.longitude)])},[s]);const i=()=>{if(!window.L||n.current)return;const l=parseFloat(t?.latitude)||33.8547,d=parseFloat(t?.longitude)||35.8623,u=window.L.map("map-container").setView([l,d],13);window.L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap contributors"}).addTo(u);const h=window.L.marker([l,d],{draggable:!0}).addTo(u);h.on("dragend",p=>{const f=p.target.getLatLng();a(f.lat,f.lng)}),u.on("click",p=>{h.setLatLng(p.latlng),a(p.latlng.lat,p.latlng.lng)}),n.current=u,r.current=h};return e.jsx("div",{id:"map-container",className:"w-full h-full"})}const vK=()=>{const t=Ua(),[s,a]=x.useState(!1),[n,r]=x.useState([]),[i,l]=x.useState(!1),[d,u]=x.useState(null),[h,p]=x.useState(null),[f,y]=x.useState(""),[v,j]=x.useState(!1),[N,w]=x.useState({liveLocation:"",deliveryLocation:"",returnLocation:""}),[_,T]=x.useState({make:"",model:"",customMake:"",customModel:"",year:new Date().getFullYear(),licensePlate:"",color:"",mileage:0,fuelType:"",transmission:"",wheelsDrive:"",carCategory:"",seats:5,doors:4,dailyRate:"",holidayRate:"",notes:"",requireDeposit:!1,depositAmount:0,deliveryAvailable:!1,deliveryFees:0,driverAvailable:!1,driverFees:0,maxDrivingMileage:"",minRentalDays:1,selectedFeatures:[],selectedAddons:[],selectedReasons:[],liveLocation:{address:"",latitude:0,longitude:0},deliveryLocation:{address:"",latitude:0,longitude:0},returnLocation:{address:"",latitude:0,longitude:0}}),[R,E]=x.useState({main:null,front:null,back:null,left:null,right:null}),[A,V]=x.useState({main:null,front:null,back:null,left:null,right:null});x.useEffect(()=>{_.make&&Sp[_.make]?(r(Sp[_.make]),!Sp[_.make].includes(_.model)&&_.model!=="Other"&&T(M=>({...M,model:""}))):(r([]),_.make&&_.make!=="Other"&&_.model&&T(M=>({...M,model:""})))},[_.make]);const k=(M,z,ie)=>{z.includes(M)?ie(z.filter(le=>le!==M)):ie([...z,M])},B=(M,z)=>{z&&(E(ie=>({...ie,[M]:z})),V(ie=>({...ie,[M]:URL.createObjectURL(z)})))},P=M=>{E(z=>({...z,[M]:null})),V(z=>({...z,[M]:null}))},H=M=>{if(!navigator.geolocation){se.error("Geolocation is not supported by your browser");return}se.info("Getting your location..."),navigator.geolocation.getCurrentPosition(z=>{const ie={address:_[M].address||"",latitude:z.coords.latitude.toFixed(6),longitude:z.coords.longitude.toFixed(6)};T(le=>({...le,[M]:ie})),se.success("Location detected successfully!")},z=>{console.error("Geolocation error:",z),se.error("Could not get your location. Please select manually.")})},D=M=>{u(M);const z=_[M];p({latitude:z.latitude||33.8547,longitude:z.longitude||35.8623}),l(!0)},K=(M,z)=>{p({latitude:M.toFixed(6),longitude:z.toFixed(6)})},X=()=>{h&&d?(T(M=>({...M,[d]:{address:M[d].address||"",latitude:h.latitude,longitude:h.longitude}})),se.success("Location selected!"),l(!1),u(null)):se.error("Please select a location on the map")},ne=(M,z)=>{T(ie=>({...ie,[M]:{...ie[M],address:z}}))},te=(M,z)=>{const ie=yK(z);ie?(T(le=>({...le,[M]:{...le[M],latitude:ie.lat.toFixed(6),longitude:ie.lng.toFixed(6),address:le[M].address||""}})),se.success("Location set from Google Maps link.")):se.error("Could not read coordinates from this link. Use a link with lat,lng (e.g. @33.89,35.50 or ?q=33.89,35.50).")},U=async()=>{const M=f.trim();if(M){j(!0);try{const ie=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(M)}&limit=1`,{headers:{Accept:"application/json"}})).json();if(ie&&ie[0]){const le=parseFloat(ie[0].lat),re=parseFloat(ie[0].lon);p({latitude:le.toFixed(6),longitude:re.toFixed(6)}),se.success("Location found. Adjust marker if needed.")}else se.error("No results found. Try another search.")}catch{se.error("Search failed. Try again.")}finally{j(!1)}}},q=()=>{const M=rS();M?(p(M),se.success("Office location set. Confirm to use it.")):se.error("Office location not found. Complete your agency profile with a location first.")},G=M=>{const z=rS();z?(T(ie=>({...ie,[M]:{...ie[M],latitude:z.latitude,longitude:z.longitude,address:ie[M].address||""}})),se.success("Location set to your agency office.")):se.error("Office location not found. Complete your agency profile with a location first.")},F=async M=>{M.preventDefault(),a(!0);const z=new FormData,ie=_.make==="Other",le=_.model==="Other",re=ie?_.customMake.trim():_.make,fe=ie||le?_.customModel.trim():_.model;if(!re){se.error("Please enter the car make"),a(!1);return}if(!fe){se.error("Please enter the car model"),a(!1);return}z.append("make",re),z.append("model",fe),z.append("year",_.year),z.append("license_plate",_.licensePlate.toUpperCase());const we={Petrol:"benz",Diesel:"diesel",Electric:"electric",Hybrid:"hybrid"};z.append("fuel_type",we[_.fuelType]||_.fuelType.toLowerCase()),z.append("transmission",_.transmission.toLowerCase()),z.append("car_category",_.carCategory.toLowerCase()),z.append("daily_rate",_.dailyRate),z.append("seats",_.seats),z.append("doors",_.doors),_.color&&z.append("color",_.color),_.mileage&&z.append("mileage",_.mileage),_.wheelsDrive&&z.append("wheels_drive",_.wheelsDrive.toLowerCase()),_.holidayRate&&z.append("holiday_rate",_.holidayRate),_.notes&&z.append("notes",_.notes),_.maxDrivingMileage&&z.append("max_driving_mileage",_.maxDrivingMileage),_.minRentalDays&&z.append("min_rental_days",_.minRentalDays),_.selectedFeatures.forEach(ye=>z.append("features[]",ye)),_.selectedAddons.forEach(ye=>z.append("car_add_on[]",ye)),_.selectedReasons.forEach(ye=>z.append("reason_of_rent[]",ye)),z.append("is_deposit",_.requireDeposit?"1":"0"),_.requireDeposit&&_.depositAmount>0&&z.append("deposit",_.depositAmount),z.append("is_delivered",_.deliveryAvailable?"1":"0"),_.deliveryAvailable&&_.deliveryFees>0&&z.append("delivery_fees",_.deliveryFees),z.append("with_driver",_.driverAvailable?"1":"0"),_.driverAvailable&&_.driverFees>0&&z.append("driver_fees",_.driverFees),z.append("live_location",JSON.stringify(_.liveLocation)),z.append("delivery_location",JSON.stringify(_.deliveryLocation)),z.append("return_location",JSON.stringify(_.returnLocation)),R.main&&z.append("main_image_url",R.main),R.front&&z.append("front_image_url",R.front),R.back&&z.append("back_image_url",R.back),R.left&&z.append("left_image_url",R.left),R.right&&z.append("right_image_url",R.right);try{const ye=await xe.post("/cars",z,{headers:{"Content-Type":"multipart/form-data"}});console.log("Car created successfully:",ye.data),se.success("Car created successfully! Waiting for admin approval."),t("/agent/cars")}catch(ye){console.error("Create car error:",ye.response?.data);const Be=ye.response?.data?.errors;if(Be)Object.entries(Be).forEach(([ke,Ye])=>{Ye.forEach(rt=>se.error(`${ke}: ${rt}`))});else{const ke=ye.response?.data?.error||ye.response?.data?.message||"Failed to create car";se.error(ke)}}finally{a(!1)}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-teal-50/30 to-cyan-50/30 dark:from-gray-950 dark:via-teal-950/20 dark:to-cyan-950/20 pt-20",children:[e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-teal-500/10 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-cyan-500/10 rounded-full blur-3xl animate-pulse delay-700"})]}),e.jsxs("div",{className:"container mx-auto px-4 py-8 relative z-10",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxs(Q,{variant:"ghost",className:"text-gray-600 dark:text-gray-400 hover:text-teal-600 dark:hover:text-teal-400 transition-colors",onClick:()=>t(-1),children:[e.jsx(yi,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),e.jsxs(Q,{variant:"secondary",className:"text-gray-600 dark:text-gray-400 hover:text-teal-600 dark:hover:text-teal-400 transition-colors",onClick:()=>t("/agent/cars"),children:[e.jsx(Vt,{className:"w-4 h-4 mr-2"}),"Go to Cars Page"]})]}),e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-teal-500 to-cyan-500 flex items-center justify-center shadow-lg",children:e.jsx(Vt,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-black text-gray-900 dark:text-white",children:"Create New Car"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Add a premium vehicle to your fleet"})]})]})]}),e.jsxs("form",{onSubmit:F,className:"space-y-6",children:[e.jsx(Ae,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:e.jsxs(Ee,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-teal-500 to-cyan-500 flex items-center justify-center",children:e.jsx(ho,{className:"w-6 h-6 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Basic Information"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Make ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{required:!0,value:_.make,onChange:M=>{const z=M.target.value;T(ie=>({...ie,make:z,...z!=="Other"?{customMake:""}:{}}))},className:"w-full h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl px-4 bg-white dark:bg-gray-900",children:[e.jsx("option",{value:"",children:"Select Make..."}),Object.keys(Sp).sort().map(M=>e.jsx("option",{value:M,children:M},M)),e.jsx("option",{value:"Other",children:"Other"})]})]}),_.make==="Other"&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Custom Make ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(oe,{required:!0,placeholder:"Type the make",value:_.customMake,onChange:M=>T({..._,customMake:M.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Model ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{required:_.make!=="Other",value:_.model,onChange:M=>{const z=M.target.value;T(ie=>({...ie,model:z,...z!=="Other"?{customModel:""}:{}}))},disabled:!_.make||_.make==="Other",className:"w-full h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl px-4 bg-white dark:bg-gray-900 disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx("option",{value:"",children:"Select Model..."}),n.map(M=>e.jsx("option",{value:M,children:M},M)),_.make&&_.make!=="Other"&&e.jsx("option",{value:"Other",children:"Other"})]}),!_.make&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Please select a make first"}),_.make==="Other"&&e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select a custom make above to enter a model."})]}),(_.make==="Other"||_.model==="Other")&&e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Custom Model ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(oe,{required:!0,placeholder:"Type the model",value:_.customModel,onChange:M=>T({..._,customModel:M.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Year ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(oe,{required:!0,type:"number",placeholder:"e.g., 2024",value:_.year,onChange:M=>T({..._,year:M.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["License Plate ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(oe,{required:!0,placeholder:"e.g., ABC-1234",value:_.licensePlate,onChange:M=>T({..._,licensePlate:M.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Color"}),e.jsxs("select",{value:_.color,onChange:M=>T({..._,color:M.target.value}),className:"w-full h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl px-4 bg-white dark:bg-gray-900",children:[e.jsx("option",{value:"",children:"Select Color..."}),mK.map(M=>e.jsx("option",{value:M,children:M},M))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Mileage (km)"}),e.jsx(oe,{type:"number",placeholder:"e.g., 15000",value:_.mileage,onChange:M=>T({..._,mileage:M.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]})]})]})}),e.jsx(Ae,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:e.jsxs(Ee,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-cyan-500 to-blue-500 flex items-center justify-center",children:e.jsx(Tm,{className:"w-6 h-6 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Technical Specifications"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Fuel Type ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{required:!0,value:_.fuelType,onChange:M=>T({..._,fuelType:M.target.value}),className:"w-full h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl px-4 bg-white dark:bg-gray-900",children:[e.jsx("option",{value:"",children:"Select..."}),e.jsx("option",{value:"Petrol",children:"Petrol"}),e.jsx("option",{value:"Diesel",children:"Diesel"}),e.jsx("option",{value:"Electric",children:"Electric"}),e.jsx("option",{value:"Hybrid",children:"Hybrid"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Transmission ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{required:!0,value:_.transmission,onChange:M=>T({..._,transmission:M.target.value}),className:"w-full h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl px-4 bg-white dark:bg-gray-900",children:[e.jsx("option",{value:"",children:"Select..."}),e.jsx("option",{value:"Automatic",children:"Automatic"}),e.jsx("option",{value:"Manual",children:"Manual"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Wheels Drive"}),e.jsxs("select",{value:_.wheelsDrive,onChange:M=>T({..._,wheelsDrive:M.target.value}),className:"w-full h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl px-4 bg-white dark:bg-gray-900",children:[e.jsx("option",{value:"",children:"Select..."}),e.jsx("option",{value:"4x4",children:"4x4"}),e.jsx("option",{value:"Front",children:"Front"}),e.jsx("option",{value:"Rear",children:"Rear"}),e.jsx("option",{value:"Autoblock",children:"Autoblock"})]})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Seats ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(oe,{required:!0,type:"number",placeholder:"e.g., 5",value:_.seats,onChange:M=>T({..._,seats:M.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Doors ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(oe,{required:!0,type:"number",placeholder:"e.g., 4",value:_.doors,onChange:M=>T({..._,doors:M.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Category ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("select",{required:!0,value:_.carCategory,onChange:M=>T({..._,carCategory:M.target.value}),className:"w-full h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl px-4 bg-white dark:bg-gray-900",children:[e.jsx("option",{value:"",children:"Select..."}),e.jsx("option",{value:"Luxury",children:"Luxury"}),e.jsx("option",{value:"Sport",children:"Sport"}),e.jsx("option",{value:"Commercial",children:"Commercial"}),e.jsx("option",{value:"Industrial",children:"Industrial"}),e.jsx("option",{value:"Normal",children:"Normal"}),e.jsx("option",{value:"Event",children:"Event"}),e.jsx("option",{value:"Sea",children:"Sea"})]})]})]})]})}),e.jsx(Ae,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:e.jsxs(Ee,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-teal-600 to-teal-400 flex items-center justify-center",children:e.jsx(zd,{className:"w-6 h-6 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Features & Add-ons"})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Features (Click to select)"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:fK.map(M=>e.jsxs(Re,{onClick:()=>k(M,_.selectedFeatures,z=>T({..._,selectedFeatures:z})),className:`cursor-pointer px-4 py-2 text-sm transition-all duration-300 ${_.selectedFeatures.includes(M)?"bg-gradient-to-r from-teal-600 to-cyan-600 text-white hover:from-teal-700 hover:to-cyan-700":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[_.selectedFeatures.includes(M)&&e.jsx(er,{className:"w-3 h-3 mr-1"}),M]},M))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Add-ons (Click to select)"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:pK.map(M=>e.jsxs(Re,{onClick:()=>k(M,_.selectedAddons,z=>T({..._,selectedAddons:z})),className:`cursor-pointer px-4 py-2 text-sm transition-all duration-300 ${_.selectedAddons.includes(M)?"bg-gradient-to-r from-cyan-600 to-blue-600 text-white hover:from-cyan-700 hover:to-blue-700":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[_.selectedAddons.includes(M)&&e.jsx(er,{className:"w-3 h-3 mr-1"}),M]},M))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-3",children:"Reason of Rent (Click to select)"}),e.jsx("div",{className:"flex flex-wrap gap-3",children:gK.map(M=>e.jsxs(Re,{onClick:()=>k(M,_.selectedReasons,z=>T({..._,selectedReasons:z})),className:`cursor-pointer px-4 py-2 text-sm transition-all duration-300 ${_.selectedReasons.includes(M)?"bg-gradient-to-r from-teal-500 to-cyan-500 text-white hover:from-teal-600 hover:to-cyan-600":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[_.selectedReasons.includes(M)&&e.jsx(er,{className:"w-3 h-3 mr-1"}),M]},M))})]})]})]})}),e.jsx(Ae,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:e.jsxs(Ee,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-amber-500 to-yellow-500 flex items-center justify-center",children:e.jsx(Is,{className:"w-6 h-6 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Pricing & Rental Terms"})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Daily Rate ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),e.jsx(oe,{required:!0,type:"number",placeholder:"100",value:_.dailyRate,onChange:M=>T({..._,dailyRate:M.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl pl-8"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Holiday Rate"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),e.jsx(oe,{type:"number",placeholder:"150",value:_.holidayRate,onChange:M=>T({..._,holidayRate:M.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl pl-8"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Min Rental Days"}),e.jsx(oe,{type:"number",placeholder:"e.g., 1",value:_.minRentalDays,onChange:M=>T({..._,minRentalDays:M.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Max Driving Mileage/Day (km)"}),e.jsx(oe,{type:"number",placeholder:"e.g., 200",value:_.maxDrivingMileage,onChange:M=>T({..._,maxDrivingMileage:M.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]}),e.jsxs("div",{className:"flex items-center space-x-3 pt-8",children:[e.jsx("input",{type:"checkbox",id:"requireDeposit",checked:_.requireDeposit,onChange:M=>T({..._,requireDeposit:M.target.checked}),className:"w-5 h-5 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500"}),e.jsx("label",{htmlFor:"requireDeposit",className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Require Deposit"})]}),_.requireDeposit&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Deposit Amount"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),e.jsx(oe,{type:"number",placeholder:"500",value:_.depositAmount,onChange:M=>T({..._,depositAmount:M.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl pl-8"})]})]})]})]})}),e.jsx(Ae,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:e.jsxs(Ee,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-teal-500 to-cyan-500 flex items-center justify-center",children:e.jsx(Vt,{className:"w-6 h-6 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Delivery & Driver Options"})]}),e.jsxs("div",{className:"flex flex-wrap gap-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"deliveryAvailable",checked:_.deliveryAvailable,onChange:M=>T({..._,deliveryAvailable:M.target.checked}),className:"w-5 h-5 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500"}),e.jsx("label",{htmlFor:"deliveryAvailable",className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Delivery Available"})]}),_.deliveryAvailable&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Delivery Fee"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),e.jsx(oe,{type:"number",placeholder:"50",value:_.deliveryFees,onChange:M=>T({..._,deliveryFees:M.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl pl-8"})]})]}),e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("input",{type:"checkbox",id:"driverAvailable",checked:_.driverAvailable,onChange:M=>T({..._,driverAvailable:M.target.checked}),className:"w-5 h-5 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500"}),e.jsx("label",{htmlFor:"driverAvailable",className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Driver Available"})]}),_.driverAvailable&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Driver Fee Per Day"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500",children:"$"}),e.jsx(oe,{type:"number",placeholder:"50",value:_.driverFees,onChange:M=>T({..._,driverFees:M.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl pl-8"})]})]})]})]})}),e.jsx(Ae,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:e.jsxs(Ee,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-cyan-600 to-blue-500 flex items-center justify-center",children:e.jsx(gc,{className:"w-6 h-6 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Car Images"})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-6",children:["main","front","back","left","right"].map(M=>e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:M==="main"?"Main Image *":`${M.charAt(0).toUpperCase()+M.slice(1)} Image`}),e.jsx("div",{className:"relative",children:A[M]?e.jsxs("div",{className:"aspect-square rounded-xl overflow-hidden border-2 border-gray-300",children:[e.jsx("img",{src:A[M],alt:"",className:"w-full h-full object-cover"}),e.jsx("button",{type:"button",onClick:()=>P(M),className:"absolute top-2 right-2 bg-red-500 text-white p-1.5 rounded-full hover:bg-red-600",children:e.jsx(ta,{className:"w-4 h-4"})})]}):e.jsxs("label",{className:"block cursor-pointer",children:[e.jsx("input",{type:"file",accept:"image/*",className:"hidden",onChange:z=>B(M,z.target.files[0])}),e.jsxs("div",{className:"aspect-square border-2 border-dashed rounded-xl flex flex-col items-center justify-center hover:border-teal-500 transition bg-gray-50",children:[e.jsx(ik,{className:"w-10 h-10 text-gray-400"}),e.jsx("span",{className:"text-sm text-gray-500 mt-2",children:"Click to upload"})]})]})})]},M))})]})}),e.jsx(Ae,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:e.jsxs(Ee,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-teal-600 to-cyan-600 flex items-center justify-center",children:e.jsx(vs,{className:"w-6 h-6 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Location Information"})]}),["liveLocation","deliveryLocation","returnLocation"].map(M=>{const z=M==="liveLocation"?"Live Location":M==="deliveryLocation"?"Delivery Location":"Return Location",ie=_[M],le=ie.latitude&&ie.longitude&&ie.latitude!==0&&ie.longitude!==0;return e.jsxs("div",{className:"mb-6 p-5 border-2 rounded-lg bg-gray-50 dark:bg-gray-800",children:[e.jsx("h4",{className:"font-semibold mb-4 text-lg",children:z}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Address (region)"}),e.jsxs("select",{value:ie.address||"",onChange:re=>ne(M,re.target.value),className:"w-full h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl px-4 bg-white dark:bg-gray-900",children:[e.jsx("option",{value:"",children:"Select region..."}),xK.map(re=>e.jsx("option",{value:re,children:re},re))]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Paste Google Maps link (to set coordinates)"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(oe,{placeholder:"e.g. https://www.google.com/maps/@33.8938,35.5018,17z",value:N[M]||"",onChange:re=>w(fe=>({...fe,[M]:re.target.value})),onBlur:re=>{const fe=re.target.value?.trim();fe&&te(M,fe)},className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl flex-1"}),e.jsx(Q,{type:"button",variant:"outline",onClick:()=>{const re=N[M];re?.trim()&&te(M,re)},className:"h-12 shrink-0",children:"Apply"})]}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Paste a link with coordinates to fill the pin location if missing."})]}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs(Q,{type:"button",variant:"outline",className:"flex-1 min-w-[140px]",onClick:()=>H(M),children:[e.jsx(mD,{className:"w-4 h-4 mr-2"}),"Use Current Location"]}),e.jsxs(Q,{type:"button",variant:"outline",className:"flex-1 min-w-[140px]",onClick:()=>D(M),children:[e.jsx(vs,{className:"w-4 h-4 mr-2"}),"Select on Map"]}),e.jsxs(Q,{type:"button",variant:"outline",className:"flex-1 min-w-[140px]",onClick:()=>G(M),children:[e.jsx(no,{className:"w-4 h-4 mr-2"}),"Office location"]})]}),le?e.jsx("div",{className:"p-4 bg-primary/10 border-2 border-primary/20 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center flex-shrink-0",children:e.jsx(vs,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-sm mb-1",children:"Location Selected"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Latitude: ",ie.latitude]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Longitude: ",ie.longitude]})]})]})}):e.jsxs("div",{className:"p-4 bg-muted/30 border-2 border-dashed rounded-lg text-center",children:[e.jsx(vs,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"No location selected yet"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Click one of the buttons above to set location"})]})]})]},M)})]})}),e.jsx(Ae,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:e.jsxs(Ee,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-teal-500 to-cyan-500 flex items-center justify-center",children:e.jsx(ho,{className:"w-6 h-6 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Additional Information"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Notes"}),e.jsx("textarea",{placeholder:"Any additional information about the vehicle...",value:_.notes,onChange:M=>T({..._,notes:M.target.value}),rows:5,className:"w-full border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl p-4 bg-white dark:bg-gray-900 resize-none"})]})]})}),e.jsxs("div",{className:"flex gap-4 justify-end",children:[e.jsx(Q,{type:"button",variant:"outline",size:"lg",className:"px-8 py-6 rounded-xl border-2 border-gray-300 dark:border-gray-700 hover:bg-gray-100 dark:hover:bg-gray-800",onClick:()=>t(-1),children:"Cancel"}),e.jsxs(Q,{type:"submit",size:"lg",disabled:s||!R.main,className:"px-8 py-6 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-bold rounded-xl shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",children:[e.jsx(ik,{className:"w-5 h-5 mr-2"}),s?"Creating Car...":"Create Car Listing"]})]})]})]})]}),e.jsx(La,{open:i,onOpenChange:M=>{l(M),M||y("")},children:e.jsxs(ka,{className:"max-w-4xl max-h-[90vh]",children:[e.jsxs(Sa,{children:[e.jsx(Aa,{children:"Select Location"}),e.jsx(ji,{children:"Search or click on the map, or use your office location. Drag the marker to adjust."})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("div",{className:"flex flex-1 min-w-[200px] rounded-lg overflow-hidden border-2 border-gray-200 dark:border-gray-700",children:[e.jsx(oe,{placeholder:"Search address or place...",value:f,onChange:M=>y(M.target.value),onKeyDown:M=>{M.key==="Enter"&&(M.preventDefault(),U())},className:"rounded-r-none border-0 h-11 focus-visible:ring-0"}),e.jsx(Q,{type:"button",variant:"secondary",onClick:U,disabled:v,className:"rounded-l-none h-11 px-4",children:e.jsx(Ca,{className:"w-4 h-4"})})]}),e.jsxs(Q,{type:"button",variant:"outline",onClick:q,className:"h-11 shrink-0",children:[e.jsx(no,{className:"w-4 h-4 mr-2"}),"Office location"]})]}),e.jsx("div",{className:"w-full h-[500px] bg-muted rounded-lg overflow-hidden",children:h&&e.jsx(bK,{center:h,selectedLocation:h,onLocationSelect:K})}),h&&e.jsx("div",{className:"p-3 bg-muted/50 rounded-md",children:e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Selected:"})," ",h.latitude,", ",h.longitude]})}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(Q,{variant:"outline",onClick:()=>l(!1),children:"Cancel"}),e.jsx(Q,{onClick:X,children:"Confirm Location"})]})]})]})})]})};var Od={},Pb={exports:{}},Ob,iS;function jK(){if(iS)return Ob;iS=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return Ob=t,Ob}var Lb,oS;function wK(){if(oS)return Lb;oS=1;var t=jK();function s(){}function a(){}return a.resetWarningCache=s,Lb=function(){function n(l,d,u,h,p,f){if(f!==t){var y=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw y.name="Invariant Violation",y}}n.isRequired=n;function r(){return n}var i={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:r,element:n,elementType:n,instanceOf:r,node:n,objectOf:r,oneOf:r,oneOfType:r,shape:r,exact:r,checkPropTypes:a,resetWarningCache:s};return i.PropTypes=i,i},Lb}var lS;function NK(){return lS||(lS=1,Pb.exports=wK()()),Pb.exports}var cS;function _K(){if(cS)return Od;cS=1,Object.defineProperty(Od,"__esModule",{value:!0}),Od.default=void 0;var t=Object.assign||function(k){for(var B=1;B<arguments.length;B++){var P=arguments[B];for(var H in P)Object.prototype.hasOwnProperty.call(P,H)&&(k[H]=P[H])}return k},s=(function(){function k(B,P){for(var H=0;H<P.length;H++){var D=P[H];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(B,D.key,D)}}return function(B,P,H){return P&&k(B.prototype,P),H&&k(B,H),B}})(),a,n;Od.confirmAlert=V;var r=Cm(),i=h(r),l=NK(),d=h(l),u=dT();function h(k){return k&&k.__esModule?k:{default:k}}function p(k,B){if(!(k instanceof B))throw new TypeError("Cannot call a class as a function")}function f(k,B){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B&&(typeof B=="object"||typeof B=="function")?B:k}function y(k,B){if(typeof B!="function"&&B!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof B);k.prototype=Object.create(B&&B.prototype,{constructor:{value:k,enumerable:!1,writable:!0,configurable:!0}}),B&&(Object.setPrototypeOf?Object.setPrototypeOf(k,B):k.__proto__=B)}var v=(n=a=(function(k){y(B,k);function B(){var P,H,D,K;p(this,B);for(var X=arguments.length,ne=Array(X),te=0;te<X;te++)ne[te]=arguments[te];return K=(H=(D=f(this,(P=B.__proto__||Object.getPrototypeOf(B)).call.apply(P,[this].concat(ne))),D),D.handleClickButton=function(U){U.onClick&&U.onClick(),D.close()},D.handleClickOverlay=function(U){var q=D.props,G=q.closeOnClickOutside,F=q.onClickOutside,M=U.target===D.overlay;G&&M&&(F(),D.close()),U.stopPropagation()},D.close=function(){var U=D.props.afterClose;A(),R(D.props),_(U)},D.keyboard=function(U){var q=D.props,G=q.closeOnEscape,F=q.onKeypressEscape,M=q.onkeyPress,z=q.keyCodeForClose,ie=U.keyCode,le=ie===27;z.includes(ie)&&D.close(),G&&le&&(F(U),D.close()),M&&M()},D.componentDidMount=function(){document.addEventListener("keydown",D.keyboard,!1)},D.componentWillUnmount=function(){document.removeEventListener("keydown",D.keyboard,!1),D.props.willUnmount()},D.renderCustomUI=function(){var U=D.props,q=U.title,G=U.message,F=U.buttons,M=U.customUI,z={title:q,message:G,buttons:F,onClose:D.close};return M(z)},H),f(D,K)}return s(B,[{key:"render",value:function(){var H=this,D=this.props,K=D.title,X=D.message,ne=D.buttons,te=D.childrenElement,U=D.customUI,q=D.overlayClassName;return i.default.createElement("div",{className:"react-confirm-alert-overlay "+q,ref:function(F){return H.overlay=F},onClick:this.handleClickOverlay},i.default.createElement("div",{className:"react-confirm-alert"},U?this.renderCustomUI():i.default.createElement("div",{className:"react-confirm-alert-body"},K&&i.default.createElement("h1",null,K),X,te(),i.default.createElement("div",{className:"react-confirm-alert-button-group"},ne.map(function(G,F){return i.default.createElement("button",t({key:F,className:G.className},G,{onClick:function(z){return H.handleClickButton(G)}}),G.label)})))))}}]),B})(r.Component),a.propTypes={title:d.default.string,message:d.default.string,buttons:d.default.array.isRequired,childrenElement:d.default.func,customUI:d.default.func,closeOnClickOutside:d.default.bool,closeOnEscape:d.default.bool,keyCodeForClose:d.default.arrayOf(d.default.number),willUnmount:d.default.func,afterClose:d.default.func,onClickOutside:d.default.func,onKeypressEscape:d.default.func,onkeyPress:d.default.func,overlayClassName:d.default.string},a.defaultProps={buttons:[{label:"Cancel",onClick:function(){return null},className:null},{label:"Confirm",onClick:function(){return null},className:null}],childrenElement:function(){return null},closeOnClickOutside:!0,closeOnEscape:!0,keyCodeForClose:[],willUnmount:function(){return null},afterClose:function(){return null},onClickOutside:function(){return null},onKeypressEscape:function(){return null}},n);Od.default=v;var j=null,N="react-confirm-alert";function w(){var k=document.getElementById("react-confirm-alert-firm-svg");if(!k){var B="http://www.w3.org/2000/svg",P=document.createElementNS(B,"feGaussianBlur");P.setAttribute("stdDeviation","0.3");var H=document.createElementNS(B,"filter");H.setAttribute("id","gaussian-blur"),H.appendChild(P);var D=document.createElementNS(B,"svg");D.setAttribute("id","react-confirm-alert-firm-svg"),D.setAttribute("class","react-confirm-alert-svg"),D.appendChild(H),document.body.appendChild(D)}}function _(k){var B=document.getElementById("react-confirm-alert-firm-svg");B&&B.parentNode.removeChild(B),document.body.children[0].classList.remove("react-confirm-alert-blur"),k()}function T(k){var B=document.getElementById(k.targetId||N);k.targetId&&!B&&console.error("React Confirm Alert:","Can not get element id (#"+k.targetId+")"),B?(j=(0,u.createRoot)(B),j.render(i.default.createElement(v,k))):(document.body.children[0].classList.add("react-confirm-alert-blur"),B=document.createElement("div"),B.id=N,document.body.appendChild(B),j=(0,u.createRoot)(B),j.render(i.default.createElement(v,k)))}function R(k){var B=document.getElementById(k.targetId||N);B&&j.unmount(B)}function E(){document.body.classList.add("react-confirm-alert-body-element")}function A(){document.body.classList.remove("react-confirm-alert-body-element")}function V(k){E(),w(),T(k)}return Od}var CK=_K();const Mw=x.createContext({});function Pw(t){const s=x.useRef(null);return s.current===null&&(s.current=t()),s.current}const Ow=typeof window<"u",D5=Ow?x.useLayoutEffect:x.useEffect,Lx=x.createContext(null);function Lw(t,s){t.indexOf(s)===-1&&t.push(s)}function Bw(t,s){const a=t.indexOf(s);a>-1&&t.splice(a,1)}const xo=(t,s,a)=>a>s?s:a<t?t:a;let Fw=()=>{};const yo={},E5=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function R5(t){return typeof t=="object"&&t!==null}const M5=t=>/^0[^.\s]+$/u.test(t);function Iw(t){let s;return()=>(s===void 0&&(s=t()),s)}const kr=t=>t,kK=(t,s)=>a=>s(t(a)),zm=(...t)=>t.reduce(kK),dm=(t,s,a)=>{const n=s-t;return n===0?1:(a-t)/n};class $w{constructor(){this.subscriptions=[]}add(s){return Lw(this.subscriptions,s),()=>Bw(this.subscriptions,s)}notify(s,a,n){const r=this.subscriptions.length;if(r)if(r===1)this.subscriptions[0](s,a,n);else for(let i=0;i<r;i++){const l=this.subscriptions[i];l&&l(s,a,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const wi=t=>t*1e3,Cr=t=>t/1e3;function P5(t,s){return s?t*(1e3/s):0}const O5=(t,s,a)=>(((1-3*a+3*s)*t+(3*a-6*s))*t+3*s)*t,SK=1e-7,AK=12;function TK(t,s,a,n,r){let i,l,d=0;do l=s+(a-s)/2,i=O5(l,n,r)-t,i>0?a=l:s=l;while(Math.abs(i)>SK&&++d<AK);return l}function Vm(t,s,a,n){if(t===s&&a===n)return kr;const r=i=>TK(i,0,1,t,a);return i=>i===0||i===1?i:O5(r(i),s,n)}const L5=t=>s=>s<=.5?t(2*s)/2:(2-t(2*(1-s)))/2,B5=t=>s=>1-t(1-s),F5=Vm(.33,1.53,.69,.99),zw=B5(F5),I5=L5(zw),$5=t=>(t*=2)<1?.5*zw(t):.5*(2-Math.pow(2,-10*(t-1))),Vw=t=>1-Math.sin(Math.acos(t)),z5=B5(Vw),V5=L5(Vw),DK=Vm(.42,0,1,1),EK=Vm(0,0,.58,1),U5=Vm(.42,0,.58,1),RK=t=>Array.isArray(t)&&typeof t[0]!="number",H5=t=>Array.isArray(t)&&typeof t[0]=="number",MK={linear:kr,easeIn:DK,easeInOut:U5,easeOut:EK,circIn:Vw,circInOut:V5,circOut:z5,backIn:zw,backInOut:I5,backOut:F5,anticipate:$5},PK=t=>typeof t=="string",dS=t=>{if(H5(t)){Fw(t.length===4);const[s,a,n,r]=t;return Vm(s,a,n,r)}else if(PK(t))return MK[t];return t},Ap=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function OK(t,s){let a=new Set,n=new Set,r=!1,i=!1;const l=new WeakSet;let d={delta:0,timestamp:0,isProcessing:!1};function u(p){l.has(p)&&(h.schedule(p),t()),p(d)}const h={schedule:(p,f=!1,y=!1)=>{const j=y&&r?a:n;return f&&l.add(p),j.has(p)||j.add(p),p},cancel:p=>{n.delete(p),l.delete(p)},process:p=>{if(d=p,r){i=!0;return}r=!0,[a,n]=[n,a],a.forEach(u),a.clear(),r=!1,i&&(i=!1,h.process(p))}};return h}const LK=40;function q5(t,s){let a=!1,n=!0;const r={delta:0,timestamp:0,isProcessing:!1},i=()=>a=!0,l=Ap.reduce((R,E)=>(R[E]=OK(i),R),{}),{setup:d,read:u,resolveKeyframes:h,preUpdate:p,update:f,preRender:y,render:v,postRender:j}=l,N=()=>{const R=yo.useManualTiming?r.timestamp:performance.now();a=!1,yo.useManualTiming||(r.delta=n?1e3/60:Math.max(Math.min(R-r.timestamp,LK),1)),r.timestamp=R,r.isProcessing=!0,d.process(r),u.process(r),h.process(r),p.process(r),f.process(r),y.process(r),v.process(r),j.process(r),r.isProcessing=!1,a&&s&&(n=!1,t(N))},w=()=>{a=!0,n=!0,r.isProcessing||t(N)};return{schedule:Ap.reduce((R,E)=>{const A=l[E];return R[E]=(V,k=!1,B=!1)=>(a||w(),A.schedule(V,k,B)),R},{}),cancel:R=>{for(let E=0;E<Ap.length;E++)l[Ap[E]].cancel(R)},state:r,steps:l}}const{schedule:Qs,cancel:Cl,state:Ka,steps:Bb}=q5(typeof requestAnimationFrame<"u"?requestAnimationFrame:kr,!0);let og;function BK(){og=void 0}const Pn={now:()=>(og===void 0&&Pn.set(Ka.isProcessing||yo.useManualTiming?Ka.timestamp:performance.now()),og),set:t=>{og=t,queueMicrotask(BK)}},G5=t=>s=>typeof s=="string"&&s.startsWith(t),W5=G5("--"),FK=G5("var(--"),Uw=t=>FK(t)?IK.test(t.split("/*")[0].trim()):!1,IK=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,_u={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},um={..._u,transform:t=>xo(0,1,t)},Tp={..._u,default:1},Yh=t=>Math.round(t*1e5)/1e5,Hw=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function $K(t){return t==null}const zK=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,qw=(t,s)=>a=>!!(typeof a=="string"&&zK.test(a)&&a.startsWith(t)||s&&!$K(a)&&Object.prototype.hasOwnProperty.call(a,s)),Y5=(t,s,a)=>n=>{if(typeof n!="string")return n;const[r,i,l,d]=n.match(Hw);return{[t]:parseFloat(r),[s]:parseFloat(i),[a]:parseFloat(l),alpha:d!==void 0?parseFloat(d):1}},VK=t=>xo(0,255,t),Fb={..._u,transform:t=>Math.round(VK(t))},Cc={test:qw("rgb","red"),parse:Y5("red","green","blue"),transform:({red:t,green:s,blue:a,alpha:n=1})=>"rgba("+Fb.transform(t)+", "+Fb.transform(s)+", "+Fb.transform(a)+", "+Yh(um.transform(n))+")"};function UK(t){let s="",a="",n="",r="";return t.length>5?(s=t.substring(1,3),a=t.substring(3,5),n=t.substring(5,7),r=t.substring(7,9)):(s=t.substring(1,2),a=t.substring(2,3),n=t.substring(3,4),r=t.substring(4,5),s+=s,a+=a,n+=n,r+=r),{red:parseInt(s,16),green:parseInt(a,16),blue:parseInt(n,16),alpha:r?parseInt(r,16)/255:1}}const aj={test:qw("#"),parse:UK,transform:Cc.transform},Um=t=>({test:s=>typeof s=="string"&&s.endsWith(t)&&s.split(" ").length===1,parse:parseFloat,transform:s=>`${s}${t}`}),dl=Um("deg"),Ni=Um("%"),Rt=Um("px"),HK=Um("vh"),qK=Um("vw"),uS={...Ni,parse:t=>Ni.parse(t)/100,transform:t=>Ni.transform(t*100)},Vd={test:qw("hsl","hue"),parse:Y5("hue","saturation","lightness"),transform:({hue:t,saturation:s,lightness:a,alpha:n=1})=>"hsla("+Math.round(t)+", "+Ni.transform(Yh(s))+", "+Ni.transform(Yh(a))+", "+Yh(um.transform(n))+")"},_a={test:t=>Cc.test(t)||aj.test(t)||Vd.test(t),parse:t=>Cc.test(t)?Cc.parse(t):Vd.test(t)?Vd.parse(t):aj.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?Cc.transform(t):Vd.transform(t),getAnimatableNone:t=>{const s=_a.parse(t);return s.alpha=0,_a.transform(s)}},GK=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function WK(t){return isNaN(t)&&typeof t=="string"&&(t.match(Hw)?.length||0)+(t.match(GK)?.length||0)>0}const K5="number",X5="color",YK="var",KK="var(",hS="${}",XK=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function hm(t){const s=t.toString(),a=[],n={color:[],number:[],var:[]},r=[];let i=0;const d=s.replace(XK,u=>(_a.test(u)?(n.color.push(i),r.push(X5),a.push(_a.parse(u))):u.startsWith(KK)?(n.var.push(i),r.push(YK),a.push(u)):(n.number.push(i),r.push(K5),a.push(parseFloat(u))),++i,hS)).split(hS);return{values:a,split:d,indexes:n,types:r}}function Q5(t){return hm(t).values}function Z5(t){const{split:s,types:a}=hm(t),n=s.length;return r=>{let i="";for(let l=0;l<n;l++)if(i+=s[l],r[l]!==void 0){const d=a[l];d===K5?i+=Yh(r[l]):d===X5?i+=_a.transform(r[l]):i+=r[l]}return i}}const QK=t=>typeof t=="number"?0:_a.test(t)?_a.getAnimatableNone(t):t;function ZK(t){const s=Q5(t);return Z5(t)(s.map(QK))}const kl={test:WK,parse:Q5,createTransformer:Z5,getAnimatableNone:ZK};function Ib(t,s,a){return a<0&&(a+=1),a>1&&(a-=1),a<1/6?t+(s-t)*6*a:a<1/2?s:a<2/3?t+(s-t)*(2/3-a)*6:t}function JK({hue:t,saturation:s,lightness:a,alpha:n}){t/=360,s/=100,a/=100;let r=0,i=0,l=0;if(!s)r=i=l=a;else{const d=a<.5?a*(1+s):a+s-a*s,u=2*a-d;r=Ib(u,d,t+1/3),i=Ib(u,d,t),l=Ib(u,d,t-1/3)}return{red:Math.round(r*255),green:Math.round(i*255),blue:Math.round(l*255),alpha:n}}function $g(t,s){return a=>a>0?s:t}const sa=(t,s,a)=>t+(s-t)*a,$b=(t,s,a)=>{const n=t*t,r=a*(s*s-n)+n;return r<0?0:Math.sqrt(r)},eX=[aj,Cc,Vd],tX=t=>eX.find(s=>s.test(t));function mS(t){const s=tX(t);if(!s)return!1;let a=s.parse(t);return s===Vd&&(a=JK(a)),a}const fS=(t,s)=>{const a=mS(t),n=mS(s);if(!a||!n)return $g(t,s);const r={...a};return i=>(r.red=$b(a.red,n.red,i),r.green=$b(a.green,n.green,i),r.blue=$b(a.blue,n.blue,i),r.alpha=sa(a.alpha,n.alpha,i),Cc.transform(r))},nj=new Set(["none","hidden"]);function sX(t,s){return nj.has(t)?a=>a<=0?t:s:a=>a>=1?s:t}function aX(t,s){return a=>sa(t,s,a)}function Gw(t){return typeof t=="number"?aX:typeof t=="string"?Uw(t)?$g:_a.test(t)?fS:iX:Array.isArray(t)?J5:typeof t=="object"?_a.test(t)?fS:nX:$g}function J5(t,s){const a=[...t],n=a.length,r=t.map((i,l)=>Gw(i)(i,s[l]));return i=>{for(let l=0;l<n;l++)a[l]=r[l](i);return a}}function nX(t,s){const a={...t,...s},n={};for(const r in a)t[r]!==void 0&&s[r]!==void 0&&(n[r]=Gw(t[r])(t[r],s[r]));return r=>{for(const i in n)a[i]=n[i](r);return a}}function rX(t,s){const a=[],n={color:0,var:0,number:0};for(let r=0;r<s.values.length;r++){const i=s.types[r],l=t.indexes[i][n[i]],d=t.values[l]??0;a[r]=d,n[i]++}return a}const iX=(t,s)=>{const a=kl.createTransformer(s),n=hm(t),r=hm(s);return n.indexes.var.length===r.indexes.var.length&&n.indexes.color.length===r.indexes.color.length&&n.indexes.number.length>=r.indexes.number.length?nj.has(t)&&!r.values.length||nj.has(s)&&!n.values.length?sX(t,s):zm(J5(rX(n,r),r.values),a):$g(t,s)};function eM(t,s,a){return typeof t=="number"&&typeof s=="number"&&typeof a=="number"?sa(t,s,a):Gw(t)(t,s)}const oX=t=>{const s=({timestamp:a})=>t(a);return{start:(a=!0)=>Qs.update(s,a),stop:()=>Cl(s),now:()=>Ka.isProcessing?Ka.timestamp:Pn.now()}},tM=(t,s,a=10)=>{let n="";const r=Math.max(Math.round(s/a),2);for(let i=0;i<r;i++)n+=Math.round(t(i/(r-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},zg=2e4;function Ww(t){let s=0;const a=50;let n=t.next(s);for(;!n.done&&s<zg;)s+=a,n=t.next(s);return s>=zg?1/0:s}function lX(t,s=100,a){const n=a({...t,keyframes:[0,s]}),r=Math.min(Ww(n),zg);return{type:"keyframes",ease:i=>n.next(r*i).value/s,duration:Cr(r)}}const cX=5;function sM(t,s,a){const n=Math.max(s-cX,0);return P5(a-t(n),s-n)}const oa={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},zb=.001;function dX({duration:t=oa.duration,bounce:s=oa.bounce,velocity:a=oa.velocity,mass:n=oa.mass}){let r,i,l=1-s;l=xo(oa.minDamping,oa.maxDamping,l),t=xo(oa.minDuration,oa.maxDuration,Cr(t)),l<1?(r=h=>{const p=h*l,f=p*t,y=p-a,v=rj(h,l),j=Math.exp(-f);return zb-y/v*j},i=h=>{const f=h*l*t,y=f*a+a,v=Math.pow(l,2)*Math.pow(h,2)*t,j=Math.exp(-f),N=rj(Math.pow(h,2),l);return(-r(h)+zb>0?-1:1)*((y-v)*j)/N}):(r=h=>{const p=Math.exp(-h*t),f=(h-a)*t+1;return-zb+p*f},i=h=>{const p=Math.exp(-h*t),f=(a-h)*(t*t);return p*f});const d=5/t,u=hX(r,i,d);if(t=wi(t),isNaN(u))return{stiffness:oa.stiffness,damping:oa.damping,duration:t};{const h=Math.pow(u,2)*n;return{stiffness:h,damping:l*2*Math.sqrt(n*h),duration:t}}}const uX=12;function hX(t,s,a){let n=a;for(let r=1;r<uX;r++)n=n-t(n)/s(n);return n}function rj(t,s){return t*Math.sqrt(1-s*s)}const mX=["duration","bounce"],fX=["stiffness","damping","mass"];function pS(t,s){return s.some(a=>t[a]!==void 0)}function pX(t){let s={velocity:oa.velocity,stiffness:oa.stiffness,damping:oa.damping,mass:oa.mass,isResolvedFromDuration:!1,...t};if(!pS(t,fX)&&pS(t,mX))if(t.visualDuration){const a=t.visualDuration,n=2*Math.PI/(a*1.2),r=n*n,i=2*xo(.05,1,1-(t.bounce||0))*Math.sqrt(r);s={...s,mass:oa.mass,stiffness:r,damping:i}}else{const a=dX(t);s={...s,...a,mass:oa.mass},s.isResolvedFromDuration=!0}return s}function Vg(t=oa.visualDuration,s=oa.bounce){const a=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:s}:t;let{restSpeed:n,restDelta:r}=a;const i=a.keyframes[0],l=a.keyframes[a.keyframes.length-1],d={done:!1,value:i},{stiffness:u,damping:h,mass:p,duration:f,velocity:y,isResolvedFromDuration:v}=pX({...a,velocity:-Cr(a.velocity||0)}),j=y||0,N=h/(2*Math.sqrt(u*p)),w=l-i,_=Cr(Math.sqrt(u/p)),T=Math.abs(w)<5;n||(n=T?oa.restSpeed.granular:oa.restSpeed.default),r||(r=T?oa.restDelta.granular:oa.restDelta.default);let R;if(N<1){const A=rj(_,N);R=V=>{const k=Math.exp(-N*_*V);return l-k*((j+N*_*w)/A*Math.sin(A*V)+w*Math.cos(A*V))}}else if(N===1)R=A=>l-Math.exp(-_*A)*(w+(j+_*w)*A);else{const A=_*Math.sqrt(N*N-1);R=V=>{const k=Math.exp(-N*_*V),B=Math.min(A*V,300);return l-k*((j+N*_*w)*Math.sinh(B)+A*w*Math.cosh(B))/A}}const E={calculatedDuration:v&&f||null,next:A=>{const V=R(A);if(v)d.done=A>=f;else{let k=A===0?j:0;N<1&&(k=A===0?wi(j):sM(R,A,V));const B=Math.abs(k)<=n,P=Math.abs(l-V)<=r;d.done=B&&P}return d.value=d.done?l:V,d},toString:()=>{const A=Math.min(Ww(E),zg),V=tM(k=>E.next(A*k).value,A,30);return A+"ms "+V},toTransition:()=>{}};return E}Vg.applyToOptions=t=>{const s=lX(t,100,Vg);return t.ease=s.ease,t.duration=wi(s.duration),t.type="keyframes",t};function ij({keyframes:t,velocity:s=0,power:a=.8,timeConstant:n=325,bounceDamping:r=10,bounceStiffness:i=500,modifyTarget:l,min:d,max:u,restDelta:h=.5,restSpeed:p}){const f=t[0],y={done:!1,value:f},v=B=>d!==void 0&&B<d||u!==void 0&&B>u,j=B=>d===void 0?u:u===void 0||Math.abs(d-B)<Math.abs(u-B)?d:u;let N=a*s;const w=f+N,_=l===void 0?w:l(w);_!==w&&(N=_-f);const T=B=>-N*Math.exp(-B/n),R=B=>_+T(B),E=B=>{const P=T(B),H=R(B);y.done=Math.abs(P)<=h,y.value=y.done?_:H};let A,V;const k=B=>{v(y.value)&&(A=B,V=Vg({keyframes:[y.value,j(y.value)],velocity:sM(R,B,y.value),damping:r,stiffness:i,restDelta:h,restSpeed:p}))};return k(0),{calculatedDuration:null,next:B=>{let P=!1;return!V&&A===void 0&&(P=!0,E(B),k(B)),A!==void 0&&B>=A?V.next(B-A):(!P&&E(B),y)}}}function gX(t,s,a){const n=[],r=a||yo.mix||eM,i=t.length-1;for(let l=0;l<i;l++){let d=r(t[l],t[l+1]);if(s){const u=Array.isArray(s)?s[l]||kr:s;d=zm(u,d)}n.push(d)}return n}function xX(t,s,{clamp:a=!0,ease:n,mixer:r}={}){const i=t.length;if(Fw(i===s.length),i===1)return()=>s[0];if(i===2&&s[0]===s[1])return()=>s[1];const l=t[0]===t[1];t[0]>t[i-1]&&(t=[...t].reverse(),s=[...s].reverse());const d=gX(s,n,r),u=d.length,h=p=>{if(l&&p<t[0])return s[0];let f=0;if(u>1)for(;f<t.length-2&&!(p<t[f+1]);f++);const y=dm(t[f],t[f+1],p);return d[f](y)};return a?p=>h(xo(t[0],t[i-1],p)):h}function yX(t,s){const a=t[t.length-1];for(let n=1;n<=s;n++){const r=dm(0,s,n);t.push(sa(a,1,r))}}function bX(t){const s=[0];return yX(s,t.length-1),s}function vX(t,s){return t.map(a=>a*s)}function jX(t,s){return t.map(()=>s||U5).splice(0,t.length-1)}function Kh({duration:t=300,keyframes:s,times:a,ease:n="easeInOut"}){const r=RK(n)?n.map(dS):dS(n),i={done:!1,value:s[0]},l=vX(a&&a.length===s.length?a:bX(s),t),d=xX(l,s,{ease:Array.isArray(r)?r:jX(s,r)});return{calculatedDuration:t,next:u=>(i.value=d(u),i.done=u>=t,i)}}const wX=t=>t!==null;function Yw(t,{repeat:s,repeatType:a="loop"},n,r=1){const i=t.filter(wX),d=r<0||s&&a!=="loop"&&s%2===1?0:i.length-1;return!d||n===void 0?i[d]:n}const NX={decay:ij,inertia:ij,tween:Kh,keyframes:Kh,spring:Vg};function aM(t){typeof t.type=="string"&&(t.type=NX[t.type])}class Kw{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(s=>{this.resolve=s})}notifyFinished(){this.resolve()}then(s,a){return this.finished.then(s,a)}}const _X=t=>t/100;class Xw extends Kw{constructor(s){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:a}=this.options;a&&a.updatedAt!==Pn.now()&&this.tick(Pn.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=s,this.initAnimation(),this.play(),s.autoplay===!1&&this.pause()}initAnimation(){const{options:s}=this;aM(s);const{type:a=Kh,repeat:n=0,repeatDelay:r=0,repeatType:i,velocity:l=0}=s;let{keyframes:d}=s;const u=a||Kh;u!==Kh&&typeof d[0]!="number"&&(this.mixKeyframes=zm(_X,eM(d[0],d[1])),d=[0,100]);const h=u({...s,keyframes:d});i==="mirror"&&(this.mirroredGenerator=u({...s,keyframes:[...d].reverse(),velocity:-l})),h.calculatedDuration===null&&(h.calculatedDuration=Ww(h));const{calculatedDuration:p}=h;this.calculatedDuration=p,this.resolvedDuration=p+r,this.totalDuration=this.resolvedDuration*(n+1)-r,this.generator=h}updateTime(s){const a=Math.round(s-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=a}tick(s,a=!1){const{generator:n,totalDuration:r,mixKeyframes:i,mirroredGenerator:l,resolvedDuration:d,calculatedDuration:u}=this;if(this.startTime===null)return n.next(0);const{delay:h=0,keyframes:p,repeat:f,repeatType:y,repeatDelay:v,type:j,onUpdate:N,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,s):this.speed<0&&(this.startTime=Math.min(s-r/this.speed,this.startTime)),a?this.currentTime=s:this.updateTime(s);const _=this.currentTime-h*(this.playbackSpeed>=0?1:-1),T=this.playbackSpeed>=0?_<0:_>r;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=r);let R=this.currentTime,E=n;if(f){const B=Math.min(this.currentTime,r)/d;let P=Math.floor(B),H=B%1;!H&&B>=1&&(H=1),H===1&&P--,P=Math.min(P,f+1),!!(P%2)&&(y==="reverse"?(H=1-H,v&&(H-=v/d)):y==="mirror"&&(E=l)),R=xo(0,1,H)*d}const A=T?{done:!1,value:p[0]}:E.next(R);i&&(A.value=i(A.value));let{done:V}=A;!T&&u!==null&&(V=this.playbackSpeed>=0?this.currentTime>=r:this.currentTime<=0);const k=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&V);return k&&j!==ij&&(A.value=Yw(p,this.options,w,this.speed)),N&&N(A.value),k&&this.finish(),A}then(s,a){return this.finished.then(s,a)}get duration(){return Cr(this.calculatedDuration)}get iterationDuration(){const{delay:s=0}=this.options||{};return this.duration+Cr(s)}get time(){return Cr(this.currentTime)}set time(s){s=wi(s),this.currentTime=s,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=s:this.driver&&(this.startTime=this.driver.now()-s/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(s){this.updateTime(Pn.now());const a=this.playbackSpeed!==s;this.playbackSpeed=s,a&&(this.time=Cr(this.currentTime))}play(){if(this.isStopped)return;const{driver:s=oX,startTime:a}=this.options;this.driver||(this.driver=s(r=>this.tick(r))),this.options.onPlay?.();const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=a??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Pn.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(s){return this.startTime=0,this.tick(s,!0)}attachTimeline(s){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),s.observe(this)}}function CX(t){for(let s=1;s<t.length;s++)t[s]??(t[s]=t[s-1])}const kc=t=>t*180/Math.PI,oj=t=>{const s=kc(Math.atan2(t[1],t[0]));return lj(s)},kX={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:oj,rotateZ:oj,skewX:t=>kc(Math.atan(t[1])),skewY:t=>kc(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},lj=t=>(t=t%360,t<0&&(t+=360),t),gS=oj,xS=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),yS=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),SX={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:xS,scaleY:yS,scale:t=>(xS(t)+yS(t))/2,rotateX:t=>lj(kc(Math.atan2(t[6],t[5]))),rotateY:t=>lj(kc(Math.atan2(-t[2],t[0]))),rotateZ:gS,rotate:gS,skewX:t=>kc(Math.atan(t[4])),skewY:t=>kc(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function cj(t){return t.includes("scale")?1:0}function dj(t,s){if(!t||t==="none")return cj(s);const a=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,r;if(a)n=SX,r=a;else{const d=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=kX,r=d}if(!r)return cj(s);const i=n[s],l=r[1].split(",").map(TX);return typeof i=="function"?i(l):l[i]}const AX=(t,s)=>{const{transform:a="none"}=getComputedStyle(t);return dj(a,s)};function TX(t){return parseFloat(t.trim())}const Cu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ku=new Set(Cu),bS=t=>t===_u||t===Rt,DX=new Set(["x","y","z"]),EX=Cu.filter(t=>!DX.has(t));function RX(t){const s=[];return EX.forEach(a=>{const n=t.getValue(a);n!==void 0&&(s.push([a,n.get()]),n.set(a.startsWith("scale")?1:0))}),s}const Tc={width:({x:t},{paddingLeft:s="0",paddingRight:a="0"})=>t.max-t.min-parseFloat(s)-parseFloat(a),height:({y:t},{paddingTop:s="0",paddingBottom:a="0"})=>t.max-t.min-parseFloat(s)-parseFloat(a),top:(t,{top:s})=>parseFloat(s),left:(t,{left:s})=>parseFloat(s),bottom:({y:t},{top:s})=>parseFloat(s)+(t.max-t.min),right:({x:t},{left:s})=>parseFloat(s)+(t.max-t.min),x:(t,{transform:s})=>dj(s,"x"),y:(t,{transform:s})=>dj(s,"y")};Tc.translateX=Tc.x;Tc.translateY=Tc.y;const Dc=new Set;let uj=!1,hj=!1,mj=!1;function nM(){if(hj){const t=Array.from(Dc).filter(n=>n.needsMeasurement),s=new Set(t.map(n=>n.element)),a=new Map;s.forEach(n=>{const r=RX(n);r.length&&(a.set(n,r),n.render())}),t.forEach(n=>n.measureInitialState()),s.forEach(n=>{n.render();const r=a.get(n);r&&r.forEach(([i,l])=>{n.getValue(i)?.set(l)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}hj=!1,uj=!1,Dc.forEach(t=>t.complete(mj)),Dc.clear()}function rM(){Dc.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(hj=!0)})}function MX(){mj=!0,rM(),nM(),mj=!1}class Qw{constructor(s,a,n,r,i,l=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...s],this.onComplete=a,this.name=n,this.motionValue=r,this.element=i,this.isAsync=l}scheduleResolve(){this.state="scheduled",this.isAsync?(Dc.add(this),uj||(uj=!0,Qs.read(rM),Qs.resolveKeyframes(nM))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:s,name:a,element:n,motionValue:r}=this;if(s[0]===null){const i=r?.get(),l=s[s.length-1];if(i!==void 0)s[0]=i;else if(n&&a){const d=n.readValue(a,l);d!=null&&(s[0]=d)}s[0]===void 0&&(s[0]=l),r&&i===void 0&&r.set(s[0])}CX(s)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(s=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,s),Dc.delete(this)}cancel(){this.state==="scheduled"&&(Dc.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const PX=t=>t.startsWith("--");function OX(t,s,a){PX(s)?t.style.setProperty(s,a):t.style[s]=a}const LX=Iw(()=>window.ScrollTimeline!==void 0),BX={};function FX(t,s){const a=Iw(t);return()=>BX[s]??a()}const iM=FX(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),$h=([t,s,a,n])=>`cubic-bezier(${t}, ${s}, ${a}, ${n})`,vS={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$h([0,.65,.55,1]),circOut:$h([.55,0,1,.45]),backIn:$h([.31,.01,.66,-.59]),backOut:$h([.33,1.53,.69,.99])};function oM(t,s){if(t)return typeof t=="function"?iM()?tM(t,s):"ease-out":H5(t)?$h(t):Array.isArray(t)?t.map(a=>oM(a,s)||vS.easeOut):vS[t]}function IX(t,s,a,{delay:n=0,duration:r=300,repeat:i=0,repeatType:l="loop",ease:d="easeOut",times:u}={},h=void 0){const p={[s]:a};u&&(p.offset=u);const f=oM(d,r);Array.isArray(f)&&(p.easing=f);const y={delay:n,duration:r,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:i+1,direction:l==="reverse"?"alternate":"normal"};return h&&(y.pseudoElement=h),t.animate(p,y)}function lM(t){return typeof t=="function"&&"applyToOptions"in t}function $X({type:t,...s}){return lM(t)&&iM()?t.applyToOptions(s):(s.duration??(s.duration=300),s.ease??(s.ease="easeOut"),s)}class zX extends Kw{constructor(s){if(super(),this.finishedTime=null,this.isStopped=!1,!s)return;const{element:a,name:n,keyframes:r,pseudoElement:i,allowFlatten:l=!1,finalKeyframe:d,onComplete:u}=s;this.isPseudoElement=!!i,this.allowFlatten=l,this.options=s,Fw(typeof s.type!="string");const h=$X(s);this.animation=IX(a,n,r,h,i),h.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!i){const p=Yw(r,this.options,d,this.speed);this.updateMotionValue?this.updateMotionValue(p):OX(a,n,p),this.animation.cancel()}u?.(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:s}=this;s==="idle"||s==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){this.isPseudoElement||this.animation.commitStyles?.()}get duration(){const s=this.animation.effect?.getComputedTiming?.().duration||0;return Cr(Number(s))}get iterationDuration(){const{delay:s=0}=this.options||{};return this.duration+Cr(s)}get time(){return Cr(Number(this.animation.currentTime)||0)}set time(s){this.finishedTime=null,this.animation.currentTime=wi(s)}get speed(){return this.animation.playbackRate}set speed(s){s<0&&(this.finishedTime=null),this.animation.playbackRate=s}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(s){this.animation.startTime=s}attachTimeline({timeline:s,observe:a}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,s&&LX()?(this.animation.timeline=s,kr):a(this)}}const cM={anticipate:$5,backInOut:I5,circInOut:V5};function VX(t){return t in cM}function UX(t){typeof t.ease=="string"&&VX(t.ease)&&(t.ease=cM[t.ease])}const jS=10;class HX extends zX{constructor(s){UX(s),aM(s),super(s),s.startTime&&(this.startTime=s.startTime),this.options=s}updateMotionValue(s){const{motionValue:a,onUpdate:n,onComplete:r,element:i,...l}=this.options;if(!a)return;if(s!==void 0){a.set(s);return}const d=new Xw({...l,autoplay:!1}),u=wi(this.finishedTime??this.time);a.setWithVelocity(d.sample(u-jS).value,d.sample(u).value,jS),d.stop()}}const wS=(t,s)=>s==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(kl.test(t)||t==="0")&&!t.startsWith("url("));function qX(t){const s=t[0];if(t.length===1)return!0;for(let a=0;a<t.length;a++)if(t[a]!==s)return!0}function GX(t,s,a,n){const r=t[0];if(r===null)return!1;if(s==="display"||s==="visibility")return!0;const i=t[t.length-1],l=wS(r,s),d=wS(i,s);return!l||!d?!1:qX(t)||(a==="spring"||lM(a))&&n}function fj(t){t.duration=0,t.type="keyframes"}const WX=new Set(["opacity","clipPath","filter","transform"]),YX=Iw(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function KX(t){const{motionValue:s,name:a,repeatDelay:n,repeatType:r,damping:i,type:l}=t;if(!(s?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:u,transformTemplate:h}=s.owner.getProps();return YX()&&a&&WX.has(a)&&(a!=="transform"||!h)&&!u&&!n&&r!=="mirror"&&i!==0&&l!=="inertia"}const XX=40;class QX extends Kw{constructor({autoplay:s=!0,delay:a=0,type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:l="loop",keyframes:d,name:u,motionValue:h,element:p,...f}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Pn.now();const y={autoplay:s,delay:a,type:n,repeat:r,repeatDelay:i,repeatType:l,name:u,motionValue:h,element:p,...f},v=p?.KeyframeResolver||Qw;this.keyframeResolver=new v(d,(j,N,w)=>this.onKeyframesResolved(j,N,y,!w),u,h,p),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(s,a,n,r){this.keyframeResolver=void 0;const{name:i,type:l,velocity:d,delay:u,isHandoff:h,onUpdate:p}=n;this.resolvedAt=Pn.now(),GX(s,i,l,d)||((yo.instantAnimations||!u)&&p?.(Yw(s,n,a)),s[0]=s[s.length-1],fj(n),n.repeat=0);const y={startTime:r?this.resolvedAt?this.resolvedAt-this.createdAt>XX?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:a,...n,keyframes:s},v=!h&&KX(y)?new HX({...y,element:y.motionValue.owner.current}):new Xw(y);v.finished.then(()=>this.notifyFinished()).catch(kr),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(s,a){return this.finished.finally(s).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),MX()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(s){this.animation.time=s}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(s){this.animation.speed=s}get startTime(){return this.animation.startTime}attachTimeline(s){return this._animation?this.stopTimeline=this.animation.attachTimeline(s):this.pendingTimeline=s,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}const ZX=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function JX(t){const s=ZX.exec(t);if(!s)return[,];const[,a,n,r]=s;return[`--${a??n}`,r]}function dM(t,s,a=1){const[n,r]=JX(t);if(!n)return;const i=window.getComputedStyle(s).getPropertyValue(n);if(i){const l=i.trim();return E5(l)?parseFloat(l):l}return Uw(r)?dM(r,s,a+1):r}function Zw(t,s){return t?.[s]??t?.default??t}const uM=new Set(["width","height","top","left","right","bottom",...Cu]),eQ={test:t=>t==="auto",parse:t=>t},hM=t=>s=>s.test(t),mM=[_u,Rt,Ni,dl,qK,HK,eQ],NS=t=>mM.find(hM(t));function tQ(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||M5(t):!0}const sQ=new Set(["brightness","contrast","saturate","opacity"]);function aQ(t){const[s,a]=t.slice(0,-1).split("(");if(s==="drop-shadow")return t;const[n]=a.match(Hw)||[];if(!n)return t;const r=a.replace(n,"");let i=sQ.has(s)?1:0;return n!==a&&(i*=100),s+"("+i+r+")"}const nQ=/\b([a-z-]*)\(.*?\)/gu,pj={...kl,getAnimatableNone:t=>{const s=t.match(nQ);return s?s.map(aQ).join(" "):t}},_S={..._u,transform:Math.round},rQ={rotate:dl,rotateX:dl,rotateY:dl,rotateZ:dl,scale:Tp,scaleX:Tp,scaleY:Tp,scaleZ:Tp,skew:dl,skewX:dl,skewY:dl,distance:Rt,translateX:Rt,translateY:Rt,translateZ:Rt,x:Rt,y:Rt,z:Rt,perspective:Rt,transformPerspective:Rt,opacity:um,originX:uS,originY:uS,originZ:Rt},Jw={borderWidth:Rt,borderTopWidth:Rt,borderRightWidth:Rt,borderBottomWidth:Rt,borderLeftWidth:Rt,borderRadius:Rt,radius:Rt,borderTopLeftRadius:Rt,borderTopRightRadius:Rt,borderBottomRightRadius:Rt,borderBottomLeftRadius:Rt,width:Rt,maxWidth:Rt,height:Rt,maxHeight:Rt,top:Rt,right:Rt,bottom:Rt,left:Rt,padding:Rt,paddingTop:Rt,paddingRight:Rt,paddingBottom:Rt,paddingLeft:Rt,margin:Rt,marginTop:Rt,marginRight:Rt,marginBottom:Rt,marginLeft:Rt,backgroundPositionX:Rt,backgroundPositionY:Rt,...rQ,zIndex:_S,fillOpacity:um,strokeOpacity:um,numOctaves:_S},iQ={...Jw,color:_a,backgroundColor:_a,outlineColor:_a,fill:_a,stroke:_a,borderColor:_a,borderTopColor:_a,borderRightColor:_a,borderBottomColor:_a,borderLeftColor:_a,filter:pj,WebkitFilter:pj},fM=t=>iQ[t];function pM(t,s){let a=fM(t);return a!==pj&&(a=kl),a.getAnimatableNone?a.getAnimatableNone(s):void 0}const oQ=new Set(["auto","none","0"]);function lQ(t,s,a){let n=0,r;for(;n<t.length&&!r;){const i=t[n];typeof i=="string"&&!oQ.has(i)&&hm(i).values.length&&(r=t[n]),n++}if(r&&a)for(const i of s)t[i]=pM(a,r)}class cQ extends Qw{constructor(s,a,n,r,i){super(s,a,n,r,i,!0)}readKeyframes(){const{unresolvedKeyframes:s,element:a,name:n}=this;if(!a||!a.current)return;super.readKeyframes();for(let u=0;u<s.length;u++){let h=s[u];if(typeof h=="string"&&(h=h.trim(),Uw(h))){const p=dM(h,a.current);p!==void 0&&(s[u]=p),u===s.length-1&&(this.finalKeyframe=h)}}if(this.resolveNoneKeyframes(),!uM.has(n)||s.length!==2)return;const[r,i]=s,l=NS(r),d=NS(i);if(l!==d)if(bS(l)&&bS(d))for(let u=0;u<s.length;u++){const h=s[u];typeof h=="string"&&(s[u]=parseFloat(h))}else Tc[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:s,name:a}=this,n=[];for(let r=0;r<s.length;r++)(s[r]===null||tQ(s[r]))&&n.push(r);n.length&&lQ(s,n,a)}measureInitialState(){const{element:s,unresolvedKeyframes:a,name:n}=this;if(!s||!s.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Tc[n](s.measureViewportBox(),window.getComputedStyle(s.current)),a[0]=this.measuredOrigin;const r=a[a.length-1];r!==void 0&&s.getValue(n,r).jump(r,!1)}measureEndState(){const{element:s,name:a,unresolvedKeyframes:n}=this;if(!s||!s.current)return;const r=s.getValue(a);r&&r.jump(this.measuredOrigin,!1);const i=n.length-1,l=n[i];n[i]=Tc[a](s.measureViewportBox(),window.getComputedStyle(s.current)),l!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=l),this.removedTransforms?.length&&this.removedTransforms.forEach(([d,u])=>{s.getValue(d).set(u)}),this.resolveNoneKeyframes()}}function dQ(t,s,a){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const r=a?.[t]??n.querySelectorAll(t);return r?Array.from(r):[]}return Array.from(t)}const gM=(t,s)=>s&&typeof t=="number"?s.transform(t):t;function xM(t){return R5(t)&&"offsetHeight"in t}const CS=30,uQ=t=>!isNaN(parseFloat(t));class hQ{constructor(s,a={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{const r=Pn.now();if(this.updatedAt!==r&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const i of this.dependents)i.dirty()},this.hasAnimated=!1,this.setCurrent(s),this.owner=a.owner}setCurrent(s){this.current=s,this.updatedAt=Pn.now(),this.canTrackVelocity===null&&s!==void 0&&(this.canTrackVelocity=uQ(this.current))}setPrevFrameValue(s=this.current){this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt}onChange(s){return this.on("change",s)}on(s,a){this.events[s]||(this.events[s]=new $w);const n=this.events[s].add(a);return s==="change"?()=>{n(),Qs.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const s in this.events)this.events[s].clear()}attach(s,a){this.passiveEffect=s,this.stopPassiveEffect=a}set(s){this.passiveEffect?this.passiveEffect(s,this.updateAndNotify):this.updateAndNotify(s)}setWithVelocity(s,a,n){this.set(a),this.prev=void 0,this.prevFrameValue=s,this.prevUpdatedAt=this.updatedAt-n}jump(s,a=!0){this.updateAndNotify(s),this.prev=s,this.prevUpdatedAt=this.prevFrameValue=void 0,a&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(s){this.dependents||(this.dependents=new Set),this.dependents.add(s)}removeDependent(s){this.dependents&&this.dependents.delete(s)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const s=Pn.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||s-this.updatedAt>CS)return 0;const a=Math.min(this.updatedAt-this.prevUpdatedAt,CS);return P5(parseFloat(this.current)-parseFloat(this.prevFrameValue),a)}start(s){return this.stop(),new Promise(a=>{this.hasAnimated=!0,this.animation=s(a),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function nu(t,s){return new hQ(t,s)}const{schedule:e1}=q5(queueMicrotask,!1),Ur={x:!1,y:!1};function yM(){return Ur.x||Ur.y}function mQ(t){return t==="x"||t==="y"?Ur[t]?null:(Ur[t]=!0,()=>{Ur[t]=!1}):Ur.x||Ur.y?null:(Ur.x=Ur.y=!0,()=>{Ur.x=Ur.y=!1})}function bM(t,s){const a=dQ(t),n=new AbortController,r={passive:!0,...s,signal:n.signal};return[a,r,()=>n.abort()]}function kS(t){return!(t.pointerType==="touch"||yM())}function fQ(t,s,a={}){const[n,r,i]=bM(t,a),l=d=>{if(!kS(d))return;const{target:u}=d,h=s(u,d);if(typeof h!="function"||!u)return;const p=f=>{kS(f)&&(h(f),u.removeEventListener("pointerleave",p))};u.addEventListener("pointerleave",p,r)};return n.forEach(d=>{d.addEventListener("pointerenter",l,r)}),i}const vM=(t,s)=>s?t===s?!0:vM(t,s.parentElement):!1,t1=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,pQ=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function gQ(t){return pQ.has(t.tagName)||t.tabIndex!==-1}const lg=new WeakSet;function SS(t){return s=>{s.key==="Enter"&&t(s)}}function Vb(t,s){t.dispatchEvent(new PointerEvent("pointer"+s,{isPrimary:!0,bubbles:!0}))}const xQ=(t,s)=>{const a=t.currentTarget;if(!a)return;const n=SS(()=>{if(lg.has(a))return;Vb(a,"down");const r=SS(()=>{Vb(a,"up")}),i=()=>Vb(a,"cancel");a.addEventListener("keyup",r,s),a.addEventListener("blur",i,s)});a.addEventListener("keydown",n,s),a.addEventListener("blur",()=>a.removeEventListener("keydown",n),s)};function AS(t){return t1(t)&&!yM()}function yQ(t,s,a={}){const[n,r,i]=bM(t,a),l=d=>{const u=d.currentTarget;if(!AS(d))return;lg.add(u);const h=s(u,d),p=(v,j)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",y),lg.has(u)&&lg.delete(u),AS(v)&&typeof h=="function"&&h(v,{success:j})},f=v=>{p(v,u===window||u===document||a.useGlobalTarget||vM(u,v.target))},y=v=>{p(v,!1)};window.addEventListener("pointerup",f,r),window.addEventListener("pointercancel",y,r)};return n.forEach(d=>{(a.useGlobalTarget?window:d).addEventListener("pointerdown",l,r),xM(d)&&(d.addEventListener("focus",h=>xQ(h,r)),!gQ(d)&&!d.hasAttribute("tabindex")&&(d.tabIndex=0))}),i}function jM(t){return R5(t)&&"ownerSVGElement"in t}function bQ(t){return jM(t)&&t.tagName==="svg"}const an=t=>!!(t&&t.getVelocity),vQ=[...mM,_a,kl],jQ=t=>vQ.find(hM(t)),s1=x.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function TS(t,s){if(typeof t=="function")return t(s);t!=null&&(t.current=s)}function wQ(...t){return s=>{let a=!1;const n=t.map(r=>{const i=TS(r,s);return!a&&typeof i=="function"&&(a=!0),i});if(a)return()=>{for(let r=0;r<n.length;r++){const i=n[r];typeof i=="function"?i():TS(t[r],null)}}}}function NQ(...t){return x.useCallback(wQ(...t),t)}class _Q extends x.Component{getSnapshotBeforeUpdate(s){const a=this.props.childRef.current;if(a&&s.isPresent&&!this.props.isPresent){const n=a.offsetParent,r=xM(n)&&n.offsetWidth||0,i=this.props.sizeRef.current;i.height=a.offsetHeight||0,i.width=a.offsetWidth||0,i.top=a.offsetTop,i.left=a.offsetLeft,i.right=r-i.width-i.left}return null}componentDidUpdate(){}render(){return this.props.children}}function CQ({children:t,isPresent:s,anchorX:a,root:n}){const r=x.useId(),i=x.useRef(null),l=x.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:d}=x.useContext(s1),u=NQ(i,t?.ref);return x.useInsertionEffect(()=>{const{width:h,height:p,top:f,left:y,right:v}=l.current;if(s||!i.current||!h||!p)return;const j=a==="left"?`left: ${y}`:`right: ${v}`;i.current.dataset.motionPopId=r;const N=document.createElement("style");d&&(N.nonce=d);const w=n??document.head;return w.appendChild(N),N.sheet&&N.sheet.insertRule(`
          [data-motion-pop-id="${r}"] {
            position: absolute !important;
            width: ${h}px !important;
            height: ${p}px !important;
            ${j}px !important;
            top: ${f}px !important;
          }
        `),()=>{w.contains(N)&&w.removeChild(N)}},[s]),e.jsx(_Q,{isPresent:s,childRef:i,sizeRef:l,children:x.cloneElement(t,{ref:u})})}const kQ=({children:t,initial:s,isPresent:a,onExitComplete:n,custom:r,presenceAffectsLayout:i,mode:l,anchorX:d,root:u})=>{const h=Pw(SQ),p=x.useId();let f=!0,y=x.useMemo(()=>(f=!1,{id:p,initial:s,isPresent:a,custom:r,onExitComplete:v=>{h.set(v,!0);for(const j of h.values())if(!j)return;n&&n()},register:v=>(h.set(v,!1),()=>h.delete(v))}),[a,h,n]);return i&&f&&(y={...y}),x.useMemo(()=>{h.forEach((v,j)=>h.set(j,!1))},[a]),x.useEffect(()=>{!a&&!h.size&&n&&n()},[a]),l==="popLayout"&&(t=e.jsx(CQ,{isPresent:a,anchorX:d,root:u,children:t})),e.jsx(Lx.Provider,{value:y,children:t})};function SQ(){return new Map}function wM(t=!0){const s=x.useContext(Lx);if(s===null)return[!0,null];const{isPresent:a,onExitComplete:n,register:r}=s,i=x.useId();x.useEffect(()=>{if(t)return r(i)},[t]);const l=x.useCallback(()=>t&&n&&n(i),[i,n,t]);return!a&&n?[!1,l]:[!0]}const Dp=t=>t.key||"";function DS(t){const s=[];return x.Children.forEach(t,a=>{x.isValidElement(a)&&s.push(a)}),s}const bo=({children:t,custom:s,initial:a=!0,onExitComplete:n,presenceAffectsLayout:r=!0,mode:i="sync",propagate:l=!1,anchorX:d="left",root:u})=>{const[h,p]=wM(l),f=x.useMemo(()=>DS(t),[t]),y=l&&!h?[]:f.map(Dp),v=x.useRef(!0),j=x.useRef(f),N=Pw(()=>new Map),[w,_]=x.useState(f),[T,R]=x.useState(f);D5(()=>{v.current=!1,j.current=f;for(let V=0;V<T.length;V++){const k=Dp(T[V]);y.includes(k)?N.delete(k):N.get(k)!==!0&&N.set(k,!1)}},[T,y.length,y.join("-")]);const E=[];if(f!==w){let V=[...f];for(let k=0;k<T.length;k++){const B=T[k],P=Dp(B);y.includes(P)||(V.splice(k,0,B),E.push(B))}return i==="wait"&&E.length&&(V=E),R(DS(V)),_(f),null}const{forceRender:A}=x.useContext(Mw);return e.jsx(e.Fragment,{children:T.map(V=>{const k=Dp(V),B=l&&!h?!1:f===T||y.includes(k),P=()=>{if(N.has(k))N.set(k,!0);else return;let H=!0;N.forEach(D=>{D||(H=!1)}),H&&(A?.(),R(j.current),l&&p?.(),n&&n())};return e.jsx(kQ,{isPresent:B,initial:!v.current||a?void 0:!1,custom:s,presenceAffectsLayout:r,mode:i,root:u,onExitComplete:B?void 0:P,anchorX:d,children:V},k)})})},NM=x.createContext({strict:!1}),ES={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ru={};for(const t in ES)ru[t]={isEnabled:s=>ES[t].some(a=>!!s[a])};function AQ(t){for(const s in t)ru[s]={...ru[s],...t[s]}}const TQ=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Ug(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||TQ.has(t)}let _M=t=>!Ug(t);function DQ(t){typeof t=="function"&&(_M=s=>s.startsWith("on")?!Ug(s):t(s))}try{DQ(require("@emotion/is-prop-valid").default)}catch{}function EQ(t,s,a){const n={};for(const r in t)r==="values"&&typeof t.values=="object"||(_M(r)||a===!0&&Ug(r)||!s&&!Ug(r)||t.draggable&&r.startsWith("onDrag"))&&(n[r]=t[r]);return n}const Bx=x.createContext({});function Fx(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function mm(t){return typeof t=="string"||Array.isArray(t)}const a1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],n1=["initial",...a1];function Ix(t){return Fx(t.animate)||n1.some(s=>mm(t[s]))}function CM(t){return!!(Ix(t)||t.variants)}function RQ(t,s){if(Ix(t)){const{initial:a,animate:n}=t;return{initial:a===!1||mm(a)?a:void 0,animate:mm(n)?n:void 0}}return t.inherit!==!1?s:{}}function MQ(t){const{initial:s,animate:a}=RQ(t,x.useContext(Bx));return x.useMemo(()=>({initial:s,animate:a}),[RS(s),RS(a)])}function RS(t){return Array.isArray(t)?t.join(" "):t}function MS(t,s){return s.max===s.min?0:t/(s.max-s.min)*100}const Dh={correct:(t,s)=>{if(!s.target)return t;if(typeof t=="string")if(Rt.test(t))t=parseFloat(t);else return t;const a=MS(t,s.target.x),n=MS(t,s.target.y);return`${a}% ${n}%`}},PQ={correct:(t,{treeScale:s,projectionDelta:a})=>{const n=t,r=kl.parse(t);if(r.length>5)return n;const i=kl.createTransformer(t),l=typeof r[0]!="number"?1:0,d=a.x.scale*s.x,u=a.y.scale*s.y;r[0+l]/=d,r[1+l]/=u;const h=sa(d,u,.5);return typeof r[2+l]=="number"&&(r[2+l]/=h),typeof r[3+l]=="number"&&(r[3+l]/=h),i(r)}},gj={borderRadius:{...Dh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Dh,borderTopRightRadius:Dh,borderBottomLeftRadius:Dh,borderBottomRightRadius:Dh,boxShadow:PQ};function kM(t,{layout:s,layoutId:a}){return ku.has(t)||t.startsWith("origin")||(s||a!==void 0)&&(!!gj[t]||t==="opacity")}const OQ={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},LQ=Cu.length;function BQ(t,s,a){let n="",r=!0;for(let i=0;i<LQ;i++){const l=Cu[i],d=t[l];if(d===void 0)continue;let u=!0;if(typeof d=="number"?u=d===(l.startsWith("scale")?1:0):u=parseFloat(d)===0,!u||a){const h=gM(d,Jw[l]);if(!u){r=!1;const p=OQ[l]||l;n+=`${p}(${h}) `}a&&(s[l]=h)}}return n=n.trim(),a?n=a(s,r?"":n):r&&(n="none"),n}function r1(t,s,a){const{style:n,vars:r,transformOrigin:i}=t;let l=!1,d=!1;for(const u in s){const h=s[u];if(ku.has(u)){l=!0;continue}else if(W5(u)){r[u]=h;continue}else{const p=gM(h,Jw[u]);u.startsWith("origin")?(d=!0,i[u]=p):n[u]=p}}if(s.transform||(l||a?n.transform=BQ(s,t.transform,a):n.transform&&(n.transform="none")),d){const{originX:u="50%",originY:h="50%",originZ:p=0}=i;n.transformOrigin=`${u} ${h} ${p}`}}const i1=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function SM(t,s,a){for(const n in s)!an(s[n])&&!kM(n,a)&&(t[n]=s[n])}function FQ({transformTemplate:t},s){return x.useMemo(()=>{const a=i1();return r1(a,s,t),Object.assign({},a.vars,a.style)},[s])}function IQ(t,s){const a=t.style||{},n={};return SM(n,a,t),Object.assign(n,FQ(t,s)),n}function $Q(t,s){const a={},n=IQ(t,s);return t.drag&&t.dragListener!==!1&&(a.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(a.tabIndex=0),a.style=n,a}const zQ={offset:"stroke-dashoffset",array:"stroke-dasharray"},VQ={offset:"strokeDashoffset",array:"strokeDasharray"};function UQ(t,s,a=1,n=0,r=!0){t.pathLength=1;const i=r?zQ:VQ;t[i.offset]=Rt.transform(-n);const l=Rt.transform(s),d=Rt.transform(a);t[i.array]=`${l} ${d}`}function AM(t,{attrX:s,attrY:a,attrScale:n,pathLength:r,pathSpacing:i=1,pathOffset:l=0,...d},u,h,p){if(r1(t,d,h),u){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:y}=t;f.transform&&(y.transform=f.transform,delete f.transform),(y.transform||f.transformOrigin)&&(y.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),y.transform&&(y.transformBox=p?.transformBox??"fill-box",delete f.transformBox),s!==void 0&&(f.x=s),a!==void 0&&(f.y=a),n!==void 0&&(f.scale=n),r!==void 0&&UQ(f,r,i,l,!1)}const TM=()=>({...i1(),attrs:{}}),DM=t=>typeof t=="string"&&t.toLowerCase()==="svg";function HQ(t,s,a,n){const r=x.useMemo(()=>{const i=TM();return AM(i,s,DM(n),t.transformTemplate,t.style),{...i.attrs,style:{...i.style}}},[s]);if(t.style){const i={};SM(i,t.style,t),r.style={...i,...r.style}}return r}const qQ=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function o1(t){return typeof t!="string"||t.includes("-")?!1:!!(qQ.indexOf(t)>-1||/[A-Z]/u.test(t))}function GQ(t,s,a,{latestValues:n},r,i=!1){const d=(o1(t)?HQ:$Q)(s,n,r,t),u=EQ(s,typeof t=="string",i),h=t!==x.Fragment?{...u,...d,ref:a}:{},{children:p}=s,f=x.useMemo(()=>an(p)?p.get():p,[p]);return x.createElement(t,{...h,children:f})}function PS(t){const s=[{},{}];return t?.values.forEach((a,n)=>{s[0][n]=a.get(),s[1][n]=a.getVelocity()}),s}function l1(t,s,a,n){if(typeof s=="function"){const[r,i]=PS(n);s=s(a!==void 0?a:t.custom,r,i)}if(typeof s=="string"&&(s=t.variants&&t.variants[s]),typeof s=="function"){const[r,i]=PS(n);s=s(a!==void 0?a:t.custom,r,i)}return s}function cg(t){return an(t)?t.get():t}function WQ({scrapeMotionValuesFromProps:t,createRenderState:s},a,n,r){return{latestValues:YQ(a,n,r,t),renderState:s()}}function YQ(t,s,a,n){const r={},i=n(t,{});for(const y in i)r[y]=cg(i[y]);let{initial:l,animate:d}=t;const u=Ix(t),h=CM(t);s&&h&&!u&&t.inherit!==!1&&(l===void 0&&(l=s.initial),d===void 0&&(d=s.animate));let p=a?a.initial===!1:!1;p=p||l===!1;const f=p?d:l;if(f&&typeof f!="boolean"&&!Fx(f)){const y=Array.isArray(f)?f:[f];for(let v=0;v<y.length;v++){const j=l1(t,y[v]);if(j){const{transitionEnd:N,transition:w,..._}=j;for(const T in _){let R=_[T];if(Array.isArray(R)){const E=p?R.length-1:0;R=R[E]}R!==null&&(r[T]=R)}for(const T in N)r[T]=N[T]}}}return r}const EM=t=>(s,a)=>{const n=x.useContext(Bx),r=x.useContext(Lx),i=()=>WQ(t,s,n,r);return a?i():Pw(i)};function c1(t,s,a){const{style:n}=t,r={};for(const i in n)(an(n[i])||s.style&&an(s.style[i])||kM(i,t)||a?.getValue(i)?.liveStyle!==void 0)&&(r[i]=n[i]);return r}const KQ=EM({scrapeMotionValuesFromProps:c1,createRenderState:i1});function RM(t,s,a){const n=c1(t,s,a);for(const r in t)if(an(t[r])||an(s[r])){const i=Cu.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}const XQ=EM({scrapeMotionValuesFromProps:RM,createRenderState:TM}),QQ=Symbol.for("motionComponentSymbol");function Ud(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function ZQ(t,s,a){return x.useCallback(n=>{n&&t.onMount&&t.onMount(n),s&&(n?s.mount(n):s.unmount()),a&&(typeof a=="function"?a(n):Ud(a)&&(a.current=n))},[s])}const d1=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),JQ="framerAppearId",MM="data-"+d1(JQ),PM=x.createContext({});function eZ(t,s,a,n,r){const{visualElement:i}=x.useContext(Bx),l=x.useContext(NM),d=x.useContext(Lx),u=x.useContext(s1).reducedMotion,h=x.useRef(null);n=n||l.renderer,!h.current&&n&&(h.current=n(t,{visualState:s,parent:i,props:a,presenceContext:d,blockInitialAnimation:d?d.initial===!1:!1,reducedMotionConfig:u}));const p=h.current,f=x.useContext(PM);p&&!p.projection&&r&&(p.type==="html"||p.type==="svg")&&tZ(h.current,a,r,f);const y=x.useRef(!1);x.useInsertionEffect(()=>{p&&y.current&&p.update(a,d)});const v=a[MM],j=x.useRef(!!v&&!window.MotionHandoffIsComplete?.(v)&&window.MotionHasOptimisedAnimation?.(v));return D5(()=>{p&&(y.current=!0,window.MotionIsMounted=!0,p.updateFeatures(),p.scheduleRenderMicrotask(),j.current&&p.animationState&&p.animationState.animateChanges())}),x.useEffect(()=>{p&&(!j.current&&p.animationState&&p.animationState.animateChanges(),j.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(v)}),j.current=!1),p.enteringChildren=void 0)}),p}function tZ(t,s,a,n){const{layoutId:r,layout:i,drag:l,dragConstraints:d,layoutScroll:u,layoutRoot:h,layoutCrossfade:p}=s;t.projection=new a(t.latestValues,s["data-framer-portal-id"]?void 0:OM(t.parent)),t.projection.setOptions({layoutId:r,layout:i,alwaysMeasureLayout:!!l||d&&Ud(d),visualElement:t,animationType:typeof i=="string"?i:"both",initialPromotionConfig:n,crossfade:p,layoutScroll:u,layoutRoot:h})}function OM(t){if(t)return t.options.allowProjection!==!1?t.projection:OM(t.parent)}function Ub(t,{forwardMotionProps:s=!1}={},a,n){a&&AQ(a);const r=o1(t)?XQ:KQ;function i(d,u){let h;const p={...x.useContext(s1),...d,layoutId:sZ(d)},{isStatic:f}=p,y=MQ(d),v=r(d,f);if(!f&&Ow){aZ();const j=nZ(p);h=j.MeasureLayout,y.visualElement=eZ(t,v,p,n,j.ProjectionNode)}return e.jsxs(Bx.Provider,{value:y,children:[h&&y.visualElement?e.jsx(h,{visualElement:y.visualElement,...p}):null,GQ(t,d,ZQ(v,y.visualElement,u),v,f,s)]})}i.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const l=x.forwardRef(i);return l[QQ]=t,l}function sZ({layoutId:t}){const s=x.useContext(Mw).id;return s&&t!==void 0?s+"-"+t:t}function aZ(t,s){x.useContext(NM).strict}function nZ(t){const{drag:s,layout:a}=ru;if(!s&&!a)return{};const n={...s,...a};return{MeasureLayout:s?.isEnabled(t)||a?.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function rZ(t,s){if(typeof Proxy>"u")return Ub;const a=new Map,n=(i,l)=>Ub(i,l,t,s),r=(i,l)=>n(i,l);return new Proxy(r,{get:(i,l)=>l==="create"?n:(a.has(l)||a.set(l,Ub(l,void 0,t,s)),a.get(l))})}function LM({top:t,left:s,right:a,bottom:n}){return{x:{min:s,max:a},y:{min:t,max:n}}}function iZ({x:t,y:s}){return{top:s.min,right:t.max,bottom:s.max,left:t.min}}function oZ(t,s){if(!s)return t;const a=s({x:t.left,y:t.top}),n=s({x:t.right,y:t.bottom});return{top:a.y,left:a.x,bottom:n.y,right:n.x}}function Hb(t){return t===void 0||t===1}function xj({scale:t,scaleX:s,scaleY:a}){return!Hb(t)||!Hb(s)||!Hb(a)}function yc(t){return xj(t)||BM(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function BM(t){return OS(t.x)||OS(t.y)}function OS(t){return t&&t!=="0%"}function Hg(t,s,a){const n=t-a,r=s*n;return a+r}function LS(t,s,a,n,r){return r!==void 0&&(t=Hg(t,r,n)),Hg(t,a,n)+s}function yj(t,s=0,a=1,n,r){t.min=LS(t.min,s,a,n,r),t.max=LS(t.max,s,a,n,r)}function FM(t,{x:s,y:a}){yj(t.x,s.translate,s.scale,s.originPoint),yj(t.y,a.translate,a.scale,a.originPoint)}const BS=.999999999999,FS=1.0000000000001;function lZ(t,s,a,n=!1){const r=a.length;if(!r)return;s.x=s.y=1;let i,l;for(let d=0;d<r;d++){i=a[d],l=i.projectionDelta;const{visualElement:u}=i.options;u&&u.props.style&&u.props.style.display==="contents"||(n&&i.options.layoutScroll&&i.scroll&&i!==i.root&&qd(t,{x:-i.scroll.offset.x,y:-i.scroll.offset.y}),l&&(s.x*=l.x.scale,s.y*=l.y.scale,FM(t,l)),n&&yc(i.latestValues)&&qd(t,i.latestValues))}s.x<FS&&s.x>BS&&(s.x=1),s.y<FS&&s.y>BS&&(s.y=1)}function Hd(t,s){t.min=t.min+s,t.max=t.max+s}function IS(t,s,a,n,r=.5){const i=sa(t.min,t.max,r);yj(t,s,a,i,n)}function qd(t,s){IS(t.x,s.x,s.scaleX,s.scale,s.originX),IS(t.y,s.y,s.scaleY,s.scale,s.originY)}function IM(t,s){return LM(oZ(t.getBoundingClientRect(),s))}function cZ(t,s,a){const n=IM(t,a),{scroll:r}=s;return r&&(Hd(n.x,r.offset.x),Hd(n.y,r.offset.y)),n}const $S=()=>({translate:0,scale:1,origin:0,originPoint:0}),Gd=()=>({x:$S(),y:$S()}),zS=()=>({min:0,max:0}),Ma=()=>({x:zS(),y:zS()}),bj={current:null},$M={current:!1};function dZ(){if($M.current=!0,!!Ow)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),s=()=>bj.current=t.matches;t.addEventListener("change",s),s()}else bj.current=!1}const uZ=new WeakMap;function hZ(t,s,a){for(const n in s){const r=s[n],i=a[n];if(an(r))t.addValue(n,r);else if(an(i))t.addValue(n,nu(r,{owner:t}));else if(i!==r)if(t.hasValue(n)){const l=t.getValue(n);l.liveStyle===!0?l.jump(r):l.hasAnimated||l.set(r)}else{const l=t.getStaticValue(n);t.addValue(n,nu(l!==void 0?l:r,{owner:t}))}}for(const n in a)s[n]===void 0&&t.removeValue(n);return s}const VS=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class mZ{scrapeMotionValuesFromProps(s,a,n){return{}}constructor({parent:s,props:a,presenceContext:n,reducedMotionConfig:r,blockInitialAnimation:i,visualState:l},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Qw,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const y=Pn.now();this.renderScheduledAt<y&&(this.renderScheduledAt=y,Qs.render(this.render,!1,!0))};const{latestValues:u,renderState:h}=l;this.latestValues=u,this.baseTarget={...u},this.initialValues=a.initial?{...u}:{},this.renderState=h,this.parent=s,this.props=a,this.presenceContext=n,this.depth=s?s.depth+1:0,this.reducedMotionConfig=r,this.options=d,this.blockInitialAnimation=!!i,this.isControllingVariants=Ix(a),this.isVariantNode=CM(a),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(s&&s.current);const{willChange:p,...f}=this.scrapeMotionValuesFromProps(a,{},this);for(const y in f){const v=f[y];u[y]!==void 0&&an(v)&&v.set(u[y])}}mount(s){this.current=s,uZ.set(s,this),this.projection&&!this.projection.instance&&this.projection.mount(s),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((a,n)=>this.bindToMotionValue(n,a)),$M.current||dZ(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:bj.current,this.parent?.addChild(this),this.update(this.props,this.presenceContext)}unmount(){this.projection&&this.projection.unmount(),Cl(this.notifyUpdate),Cl(this.render),this.valueSubscriptions.forEach(s=>s()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const s in this.events)this.events[s].clear();for(const s in this.features){const a=this.features[s];a&&(a.unmount(),a.isMounted=!1)}this.current=null}addChild(s){this.children.add(s),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(s)}removeChild(s){this.children.delete(s),this.enteringChildren&&this.enteringChildren.delete(s)}bindToMotionValue(s,a){this.valueSubscriptions.has(s)&&this.valueSubscriptions.get(s)();const n=ku.has(s);n&&this.onBindTransform&&this.onBindTransform();const r=a.on("change",l=>{this.latestValues[s]=l,this.props.onUpdate&&Qs.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let i;window.MotionCheckAppearSync&&(i=window.MotionCheckAppearSync(this,s,a)),this.valueSubscriptions.set(s,()=>{r(),i&&i(),a.owner&&a.stop()})}sortNodePosition(s){return!this.current||!this.sortInstanceNodePosition||this.type!==s.type?0:this.sortInstanceNodePosition(this.current,s.current)}updateFeatures(){let s="animation";for(s in ru){const a=ru[s];if(!a)continue;const{isEnabled:n,Feature:r}=a;if(!this.features[s]&&r&&n(this.props)&&(this.features[s]=new r(this)),this.features[s]){const i=this.features[s];i.isMounted?i.update():(i.mount(),i.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ma()}getStaticValue(s){return this.latestValues[s]}setStaticValue(s,a){this.latestValues[s]=a}update(s,a){(s.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=s,this.prevPresenceContext=this.presenceContext,this.presenceContext=a;for(let n=0;n<VS.length;n++){const r=VS[n];this.propEventSubscriptions[r]&&(this.propEventSubscriptions[r](),delete this.propEventSubscriptions[r]);const i="on"+r,l=s[i];l&&(this.propEventSubscriptions[r]=this.on(r,l))}this.prevMotionValues=hZ(this,this.scrapeMotionValuesFromProps(s,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(s){return this.props.variants?this.props.variants[s]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(s){const a=this.getClosestVariantNode();if(a)return a.variantChildren&&a.variantChildren.add(s),()=>a.variantChildren.delete(s)}addValue(s,a){const n=this.values.get(s);a!==n&&(n&&this.removeValue(s),this.bindToMotionValue(s,a),this.values.set(s,a),this.latestValues[s]=a.get())}removeValue(s){this.values.delete(s);const a=this.valueSubscriptions.get(s);a&&(a(),this.valueSubscriptions.delete(s)),delete this.latestValues[s],this.removeValueFromRenderState(s,this.renderState)}hasValue(s){return this.values.has(s)}getValue(s,a){if(this.props.values&&this.props.values[s])return this.props.values[s];let n=this.values.get(s);return n===void 0&&a!==void 0&&(n=nu(a===null?void 0:a,{owner:this}),this.addValue(s,n)),n}readValue(s,a){let n=this.latestValues[s]!==void 0||!this.current?this.latestValues[s]:this.getBaseTargetFromProps(this.props,s)??this.readValueFromInstance(this.current,s,this.options);return n!=null&&(typeof n=="string"&&(E5(n)||M5(n))?n=parseFloat(n):!jQ(n)&&kl.test(a)&&(n=pM(s,a)),this.setBaseTarget(s,an(n)?n.get():n)),an(n)?n.get():n}setBaseTarget(s,a){this.baseTarget[s]=a}getBaseTarget(s){const{initial:a}=this.props;let n;if(typeof a=="string"||typeof a=="object"){const i=l1(this.props,a,this.presenceContext?.custom);i&&(n=i[s])}if(a&&n!==void 0)return n;const r=this.getBaseTargetFromProps(this.props,s);return r!==void 0&&!an(r)?r:this.initialValues[s]!==void 0&&n===void 0?void 0:this.baseTarget[s]}on(s,a){return this.events[s]||(this.events[s]=new $w),this.events[s].add(a)}notify(s,...a){this.events[s]&&this.events[s].notify(...a)}scheduleRenderMicrotask(){e1.render(this.render)}}class zM extends mZ{constructor(){super(...arguments),this.KeyframeResolver=cQ}sortInstanceNodePosition(s,a){return s.compareDocumentPosition(a)&2?1:-1}getBaseTargetFromProps(s,a){return s.style?s.style[a]:void 0}removeValueFromRenderState(s,{vars:a,style:n}){delete a[s],delete n[s]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:s}=this.props;an(s)&&(this.childSubscription=s.on("change",a=>{this.current&&(this.current.textContent=`${a}`)}))}}function VM(t,{style:s,vars:a},n,r){const i=t.style;let l;for(l in s)i[l]=s[l];r?.applyProjectionStyles(i,n);for(l in a)i.setProperty(l,a[l])}function fZ(t){return window.getComputedStyle(t)}class pZ extends zM{constructor(){super(...arguments),this.type="html",this.renderInstance=VM}readValueFromInstance(s,a){if(ku.has(a))return this.projection?.isProjecting?cj(a):AX(s,a);{const n=fZ(s),r=(W5(a)?n.getPropertyValue(a):n[a])||0;return typeof r=="string"?r.trim():r}}measureInstanceViewportBox(s,{transformPagePoint:a}){return IM(s,a)}build(s,a,n){r1(s,a,n.transformTemplate)}scrapeMotionValuesFromProps(s,a,n){return c1(s,a,n)}}const UM=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function gZ(t,s,a,n){VM(t,s,void 0,n);for(const r in s.attrs)t.setAttribute(UM.has(r)?r:d1(r),s.attrs[r])}class xZ extends zM{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ma}getBaseTargetFromProps(s,a){return s[a]}readValueFromInstance(s,a){if(ku.has(a)){const n=fM(a);return n&&n.default||0}return a=UM.has(a)?a:d1(a),s.getAttribute(a)}scrapeMotionValuesFromProps(s,a,n){return RM(s,a,n)}build(s,a,n){AM(s,a,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(s,a,n,r){gZ(s,a,n,r)}mount(s){this.isSVGTag=DM(s.tagName),super.mount(s)}}const yZ=(t,s)=>o1(t)?new xZ(s):new pZ(s,{allowProjection:t!==x.Fragment});function Qd(t,s,a){const n=t.getProps();return l1(n,s,a!==void 0?a:n.custom,t)}const vj=t=>Array.isArray(t);function bZ(t,s,a){t.hasValue(s)?t.getValue(s).set(a):t.addValue(s,nu(a))}function vZ(t){return vj(t)?t[t.length-1]||0:t}function jZ(t,s){const a=Qd(t,s);let{transitionEnd:n={},transition:r={},...i}=a||{};i={...i,...n};for(const l in i){const d=vZ(i[l]);bZ(t,l,d)}}function wZ(t){return!!(an(t)&&t.add)}function jj(t,s){const a=t.getValue("willChange");if(wZ(a))return a.add(s);if(!a&&yo.WillChange){const n=new yo.WillChange("auto");t.addValue("willChange",n),n.add(s)}}function HM(t){return t.props[MM]}const NZ=t=>t!==null;function _Z(t,{repeat:s,repeatType:a="loop"},n){const r=t.filter(NZ),i=s&&a!=="loop"&&s%2===1?0:r.length-1;return r[i]}const CZ={type:"spring",stiffness:500,damping:25,restSpeed:10},kZ=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),SZ={type:"keyframes",duration:.8},AZ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},TZ=(t,{keyframes:s})=>s.length>2?SZ:ku.has(t)?t.startsWith("scale")?kZ(s[1]):CZ:AZ;function DZ({when:t,delay:s,delayChildren:a,staggerChildren:n,staggerDirection:r,repeat:i,repeatType:l,repeatDelay:d,from:u,elapsed:h,...p}){return!!Object.keys(p).length}const u1=(t,s,a,n={},r,i)=>l=>{const d=Zw(n,t)||{},u=d.delay||n.delay||0;let{elapsed:h=0}=n;h=h-wi(u);const p={keyframes:Array.isArray(a)?a:[null,a],ease:"easeOut",velocity:s.getVelocity(),...d,delay:-h,onUpdate:y=>{s.set(y),d.onUpdate&&d.onUpdate(y)},onComplete:()=>{l(),d.onComplete&&d.onComplete()},name:t,motionValue:s,element:i?void 0:r};DZ(d)||Object.assign(p,TZ(t,p)),p.duration&&(p.duration=wi(p.duration)),p.repeatDelay&&(p.repeatDelay=wi(p.repeatDelay)),p.from!==void 0&&(p.keyframes[0]=p.from);let f=!1;if((p.type===!1||p.duration===0&&!p.repeatDelay)&&(fj(p),p.delay===0&&(f=!0)),(yo.instantAnimations||yo.skipAnimations)&&(f=!0,fj(p),p.delay=0),p.allowFlatten=!d.type&&!d.ease,f&&!i&&s.get()!==void 0){const y=_Z(p.keyframes,d);if(y!==void 0){Qs.update(()=>{p.onUpdate(y),p.onComplete()});return}}return d.isSync?new Xw(p):new QX(p)};function EZ({protectedKeys:t,needsAnimating:s},a){const n=t.hasOwnProperty(a)&&s[a]!==!0;return s[a]=!1,n}function qM(t,s,{delay:a=0,transitionOverride:n,type:r}={}){let{transition:i=t.getDefaultTransition(),transitionEnd:l,...d}=s;n&&(i=n);const u=[],h=r&&t.animationState&&t.animationState.getState()[r];for(const p in d){const f=t.getValue(p,t.latestValues[p]??null),y=d[p];if(y===void 0||h&&EZ(h,p))continue;const v={delay:a,...Zw(i||{},p)},j=f.get();if(j!==void 0&&!f.isAnimating&&!Array.isArray(y)&&y===j&&!v.velocity)continue;let N=!1;if(window.MotionHandoffAnimation){const _=HM(t);if(_){const T=window.MotionHandoffAnimation(_,p,Qs);T!==null&&(v.startTime=T,N=!0)}}jj(t,p),f.start(u1(p,f,y,t.shouldReduceMotion&&uM.has(p)?{type:!1}:v,t,N));const w=f.animation;w&&u.push(w)}return l&&Promise.all(u).then(()=>{Qs.update(()=>{l&&jZ(t,l)})}),u}function GM(t,s,a,n=0,r=1){const i=Array.from(t).sort((h,p)=>h.sortNodePosition(p)).indexOf(s),l=t.size,d=(l-1)*n;return typeof a=="function"?a(i,l):r===1?i*n:d-i*n}function wj(t,s,a={}){const n=Qd(t,s,a.type==="exit"?t.presenceContext?.custom:void 0);let{transition:r=t.getDefaultTransition()||{}}=n||{};a.transitionOverride&&(r=a.transitionOverride);const i=n?()=>Promise.all(qM(t,n,a)):()=>Promise.resolve(),l=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:h=0,staggerChildren:p,staggerDirection:f}=r;return RZ(t,s,u,h,p,f,a)}:()=>Promise.resolve(),{when:d}=r;if(d){const[u,h]=d==="beforeChildren"?[i,l]:[l,i];return u().then(()=>h())}else return Promise.all([i(),l(a.delay)])}function RZ(t,s,a=0,n=0,r=0,i=1,l){const d=[];for(const u of t.variantChildren)u.notify("AnimationStart",s),d.push(wj(u,s,{...l,delay:a+(typeof n=="function"?0:n)+GM(t.variantChildren,u,n,r,i)}).then(()=>u.notify("AnimationComplete",s)));return Promise.all(d)}function MZ(t,s,a={}){t.notify("AnimationStart",s);let n;if(Array.isArray(s)){const r=s.map(i=>wj(t,i,a));n=Promise.all(r)}else if(typeof s=="string")n=wj(t,s,a);else{const r=typeof s=="function"?Qd(t,s,a.custom):s;n=Promise.all(qM(t,r,a))}return n.then(()=>{t.notify("AnimationComplete",s)})}function WM(t,s){if(!Array.isArray(s))return!1;const a=s.length;if(a!==t.length)return!1;for(let n=0;n<a;n++)if(s[n]!==t[n])return!1;return!0}const PZ=n1.length;function YM(t){if(!t)return;if(!t.isControllingVariants){const a=t.parent?YM(t.parent)||{}:{};return t.props.initial!==void 0&&(a.initial=t.props.initial),a}const s={};for(let a=0;a<PZ;a++){const n=n1[a],r=t.props[n];(mm(r)||r===!1)&&(s[n]=r)}return s}const OZ=[...a1].reverse(),LZ=a1.length;function BZ(t){return s=>Promise.all(s.map(({animation:a,options:n})=>MZ(t,a,n)))}function FZ(t){let s=BZ(t),a=US(),n=!0;const r=u=>(h,p)=>{const f=Qd(t,p,u==="exit"?t.presenceContext?.custom:void 0);if(f){const{transition:y,transitionEnd:v,...j}=f;h={...h,...j,...v}}return h};function i(u){s=u(t)}function l(u){const{props:h}=t,p=YM(t.parent)||{},f=[],y=new Set;let v={},j=1/0;for(let w=0;w<LZ;w++){const _=OZ[w],T=a[_],R=h[_]!==void 0?h[_]:p[_],E=mm(R),A=_===u?T.isActive:null;A===!1&&(j=w);let V=R===p[_]&&R!==h[_]&&E;if(V&&n&&t.manuallyAnimateOnMount&&(V=!1),T.protectedKeys={...v},!T.isActive&&A===null||!R&&!T.prevProp||Fx(R)||typeof R=="boolean")continue;const k=IZ(T.prevProp,R);let B=k||_===u&&T.isActive&&!V&&E||w>j&&E,P=!1;const H=Array.isArray(R)?R:[R];let D=H.reduce(r(_),{});A===!1&&(D={});const{prevResolvedValues:K={}}=T,X={...K,...D},ne=q=>{B=!0,y.has(q)&&(P=!0,y.delete(q)),T.needsAnimating[q]=!0;const G=t.getValue(q);G&&(G.liveStyle=!1)};for(const q in X){const G=D[q],F=K[q];if(v.hasOwnProperty(q))continue;let M=!1;vj(G)&&vj(F)?M=!WM(G,F):M=G!==F,M?G!=null?ne(q):y.add(q):G!==void 0&&y.has(q)?ne(q):T.protectedKeys[q]=!0}T.prevProp=R,T.prevResolvedValues=D,T.isActive&&(v={...v,...D}),n&&t.blockInitialAnimation&&(B=!1);const te=V&&k;B&&(!te||P)&&f.push(...H.map(q=>{const G={type:_};if(typeof q=="string"&&n&&!te&&t.manuallyAnimateOnMount&&t.parent){const{parent:F}=t,M=Qd(F,q);if(F.enteringChildren&&M){const{delayChildren:z}=M.transition||{};G.delay=GM(F.enteringChildren,t,z)}}return{animation:q,options:G}}))}if(y.size){const w={};if(typeof h.initial!="boolean"){const _=Qd(t,Array.isArray(h.initial)?h.initial[0]:h.initial);_&&_.transition&&(w.transition=_.transition)}y.forEach(_=>{const T=t.getBaseTarget(_),R=t.getValue(_);R&&(R.liveStyle=!0),w[_]=T??null}),f.push({animation:w})}let N=!!f.length;return n&&(h.initial===!1||h.initial===h.animate)&&!t.manuallyAnimateOnMount&&(N=!1),n=!1,N?s(f):Promise.resolve()}function d(u,h){if(a[u].isActive===h)return Promise.resolve();t.variantChildren?.forEach(f=>f.animationState?.setActive(u,h)),a[u].isActive=h;const p=l(u);for(const f in a)a[f].protectedKeys={};return p}return{animateChanges:l,setActive:d,setAnimateFunction:i,getState:()=>a,reset:()=>{a=US()}}}function IZ(t,s){return typeof s=="string"?s!==t:Array.isArray(s)?!WM(s,t):!1}function lc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function US(){return{animate:lc(!0),whileInView:lc(),whileHover:lc(),whileTap:lc(),whileDrag:lc(),whileFocus:lc(),exit:lc()}}class Rl{constructor(s){this.isMounted=!1,this.node=s}update(){}}class $Z extends Rl{constructor(s){super(s),s.animationState||(s.animationState=FZ(s))}updateAnimationControlsSubscription(){const{animate:s}=this.node.getProps();Fx(s)&&(this.unmountControls=s.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:s}=this.node.getProps(),{animate:a}=this.node.prevProps||{};s!==a&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let zZ=0;class VZ extends Rl{constructor(){super(...arguments),this.id=zZ++}update(){if(!this.node.presenceContext)return;const{isPresent:s,onExitComplete:a}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||s===n)return;const r=this.node.animationState.setActive("exit",!s);a&&!s&&r.then(()=>{a(this.id)})}mount(){const{register:s,onExitComplete:a}=this.node.presenceContext||{};a&&a(this.id),s&&(this.unmount=s(this.id))}unmount(){}}const UZ={animation:{Feature:$Z},exit:{Feature:VZ}};function fm(t,s,a,n={passive:!0}){return t.addEventListener(s,a,n),()=>t.removeEventListener(s,a)}function Hm(t){return{point:{x:t.pageX,y:t.pageY}}}const HZ=t=>s=>t1(s)&&t(s,Hm(s));function Xh(t,s,a,n){return fm(t,s,HZ(a),n)}const KM=1e-4,qZ=1-KM,GZ=1+KM,XM=.01,WZ=0-XM,YZ=0+XM;function pn(t){return t.max-t.min}function KZ(t,s,a){return Math.abs(t-s)<=a}function HS(t,s,a,n=.5){t.origin=n,t.originPoint=sa(s.min,s.max,t.origin),t.scale=pn(a)/pn(s),t.translate=sa(a.min,a.max,t.origin)-t.originPoint,(t.scale>=qZ&&t.scale<=GZ||isNaN(t.scale))&&(t.scale=1),(t.translate>=WZ&&t.translate<=YZ||isNaN(t.translate))&&(t.translate=0)}function Qh(t,s,a,n){HS(t.x,s.x,a.x,n?n.originX:void 0),HS(t.y,s.y,a.y,n?n.originY:void 0)}function qS(t,s,a){t.min=a.min+s.min,t.max=t.min+pn(s)}function XZ(t,s,a){qS(t.x,s.x,a.x),qS(t.y,s.y,a.y)}function GS(t,s,a){t.min=s.min-a.min,t.max=t.min+pn(s)}function qg(t,s,a){GS(t.x,s.x,a.x),GS(t.y,s.y,a.y)}function Nr(t){return[t("x"),t("y")]}const QM=({current:t})=>t?t.ownerDocument.defaultView:null,WS=(t,s)=>Math.abs(t-s);function QZ(t,s){const a=WS(t.x,s.x),n=WS(t.y,s.y);return Math.sqrt(a**2+n**2)}class ZM{constructor(s,a,{transformPagePoint:n,contextWindow:r=window,dragSnapToOrigin:i=!1,distanceThreshold:l=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const y=Gb(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,j=QZ(y.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!j)return;const{point:N}=y,{timestamp:w}=Ka;this.history.push({...N,timestamp:w});const{onStart:_,onMove:T}=this.handlers;v||(_&&_(this.lastMoveEvent,y),this.startEvent=this.lastMoveEvent),T&&T(this.lastMoveEvent,y)},this.handlePointerMove=(y,v)=>{this.lastMoveEvent=y,this.lastMoveEventInfo=qb(v,this.transformPagePoint),Qs.update(this.updatePoint,!0)},this.handlePointerUp=(y,v)=>{this.end();const{onEnd:j,onSessionEnd:N,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=Gb(y.type==="pointercancel"?this.lastMoveEventInfo:qb(v,this.transformPagePoint),this.history);this.startEvent&&j&&j(y,_),N&&N(y,_)},!t1(s))return;this.dragSnapToOrigin=i,this.handlers=a,this.transformPagePoint=n,this.distanceThreshold=l,this.contextWindow=r||window;const d=Hm(s),u=qb(d,this.transformPagePoint),{point:h}=u,{timestamp:p}=Ka;this.history=[{...h,timestamp:p}];const{onSessionStart:f}=a;f&&f(s,Gb(u,this.history)),this.removeListeners=zm(Xh(this.contextWindow,"pointermove",this.handlePointerMove),Xh(this.contextWindow,"pointerup",this.handlePointerUp),Xh(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(s){this.handlers=s}end(){this.removeListeners&&this.removeListeners(),Cl(this.updatePoint)}}function qb(t,s){return s?{point:s(t.point)}:t}function YS(t,s){return{x:t.x-s.x,y:t.y-s.y}}function Gb({point:t},s){return{point:t,delta:YS(t,JM(s)),offset:YS(t,ZZ(s)),velocity:JZ(s,.1)}}function ZZ(t){return t[0]}function JM(t){return t[t.length-1]}function JZ(t,s){if(t.length<2)return{x:0,y:0};let a=t.length-1,n=null;const r=JM(t);for(;a>=0&&(n=t[a],!(r.timestamp-n.timestamp>wi(s)));)a--;if(!n)return{x:0,y:0};const i=Cr(r.timestamp-n.timestamp);if(i===0)return{x:0,y:0};const l={x:(r.x-n.x)/i,y:(r.y-n.y)/i};return l.x===1/0&&(l.x=0),l.y===1/0&&(l.y=0),l}function eJ(t,{min:s,max:a},n){return s!==void 0&&t<s?t=n?sa(s,t,n.min):Math.max(t,s):a!==void 0&&t>a&&(t=n?sa(a,t,n.max):Math.min(t,a)),t}function KS(t,s,a){return{min:s!==void 0?t.min+s:void 0,max:a!==void 0?t.max+a-(t.max-t.min):void 0}}function tJ(t,{top:s,left:a,bottom:n,right:r}){return{x:KS(t.x,a,r),y:KS(t.y,s,n)}}function XS(t,s){let a=s.min-t.min,n=s.max-t.max;return s.max-s.min<t.max-t.min&&([a,n]=[n,a]),{min:a,max:n}}function sJ(t,s){return{x:XS(t.x,s.x),y:XS(t.y,s.y)}}function aJ(t,s){let a=.5;const n=pn(t),r=pn(s);return r>n?a=dm(s.min,s.max-n,t.min):n>r&&(a=dm(t.min,t.max-r,s.min)),xo(0,1,a)}function nJ(t,s){const a={};return s.min!==void 0&&(a.min=s.min-t.min),s.max!==void 0&&(a.max=s.max-t.min),a}const Nj=.35;function rJ(t=Nj){return t===!1?t=0:t===!0&&(t=Nj),{x:QS(t,"left","right"),y:QS(t,"top","bottom")}}function QS(t,s,a){return{min:ZS(t,s),max:ZS(t,a)}}function ZS(t,s){return typeof t=="number"?t:t[s]||0}const iJ=new WeakMap;class oJ{constructor(s){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ma(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=s}start(s,{snapToCursor:a=!1,distanceThreshold:n}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=f=>{const{dragSnapToOrigin:y}=this.getProps();y?this.pauseAnimation():this.stopAnimation(),a&&this.snapToCursor(Hm(f).point)},l=(f,y)=>{const{drag:v,dragPropagation:j,onDragStart:N}=this.getProps();if(v&&!j&&(this.openDragLock&&this.openDragLock(),this.openDragLock=mQ(v),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=y,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Nr(_=>{let T=this.getAxisMotionValue(_).get()||0;if(Ni.test(T)){const{projection:R}=this.visualElement;if(R&&R.layout){const E=R.layout.layoutBox[_];E&&(T=pn(E)*(parseFloat(T)/100))}}this.originPoint[_]=T}),N&&Qs.postRender(()=>N(f,y)),jj(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},d=(f,y)=>{this.latestPointerEvent=f,this.latestPanInfo=y;const{dragPropagation:v,dragDirectionLock:j,onDirectionLock:N,onDrag:w}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:_}=y;if(j&&this.currentDirection===null){this.currentDirection=lJ(_),this.currentDirection!==null&&N&&N(this.currentDirection);return}this.updateAxis("x",y.point,_),this.updateAxis("y",y.point,_),this.visualElement.render(),w&&w(f,y)},u=(f,y)=>{this.latestPointerEvent=f,this.latestPanInfo=y,this.stop(f,y),this.latestPointerEvent=null,this.latestPanInfo=null},h=()=>Nr(f=>this.getAnimationState(f)==="paused"&&this.getAxisMotionValue(f).animation?.play()),{dragSnapToOrigin:p}=this.getProps();this.panSession=new ZM(s,{onSessionStart:i,onStart:l,onMove:d,onSessionEnd:u,resumeAnimation:h},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,distanceThreshold:n,contextWindow:QM(this.visualElement)})}stop(s,a){const n=s||this.latestPointerEvent,r=a||this.latestPanInfo,i=this.isDragging;if(this.cancel(),!i||!r||!n)return;const{velocity:l}=r;this.startAnimation(l);const{onDragEnd:d}=this.getProps();d&&Qs.postRender(()=>d(n,r))}cancel(){this.isDragging=!1;const{projection:s,animationState:a}=this.visualElement;s&&(s.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),a&&a.setActive("whileDrag",!1)}updateAxis(s,a,n){const{drag:r}=this.getProps();if(!n||!Ep(s,r,this.currentDirection))return;const i=this.getAxisMotionValue(s);let l=this.originPoint[s]+n[s];this.constraints&&this.constraints[s]&&(l=eJ(l,this.constraints[s],this.elastic[s])),i.set(l)}resolveConstraints(){const{dragConstraints:s,dragElastic:a}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,r=this.constraints;s&&Ud(s)?this.constraints||(this.constraints=this.resolveRefConstraints()):s&&n?this.constraints=tJ(n.layoutBox,s):this.constraints=!1,this.elastic=rJ(a),r!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Nr(i=>{this.constraints!==!1&&this.getAxisMotionValue(i)&&(this.constraints[i]=nJ(n.layoutBox[i],this.constraints[i]))})}resolveRefConstraints(){const{dragConstraints:s,onMeasureDragConstraints:a}=this.getProps();if(!s||!Ud(s))return!1;const n=s.current,{projection:r}=this.visualElement;if(!r||!r.layout)return!1;const i=cZ(n,r.root,this.visualElement.getTransformPagePoint());let l=sJ(r.layout.layoutBox,i);if(a){const d=a(iZ(l));this.hasMutatedConstraints=!!d,d&&(l=LM(d))}return l}startAnimation(s){const{drag:a,dragMomentum:n,dragElastic:r,dragTransition:i,dragSnapToOrigin:l,onDragTransitionEnd:d}=this.getProps(),u=this.constraints||{},h=Nr(p=>{if(!Ep(p,a,this.currentDirection))return;let f=u&&u[p]||{};l&&(f={min:0,max:0});const y=r?200:1e6,v=r?40:1e7,j={type:"inertia",velocity:n?s[p]:0,bounceStiffness:y,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...i,...f};return this.startAxisValueAnimation(p,j)});return Promise.all(h).then(d)}startAxisValueAnimation(s,a){const n=this.getAxisMotionValue(s);return jj(this.visualElement,s),n.start(u1(s,n,0,a,this.visualElement,!1))}stopAnimation(){Nr(s=>this.getAxisMotionValue(s).stop())}pauseAnimation(){Nr(s=>this.getAxisMotionValue(s).animation?.pause())}getAnimationState(s){return this.getAxisMotionValue(s).animation?.state}getAxisMotionValue(s){const a=`_drag${s.toUpperCase()}`,n=this.visualElement.getProps(),r=n[a];return r||this.visualElement.getValue(s,(n.initial?n.initial[s]:void 0)||0)}snapToCursor(s){Nr(a=>{const{drag:n}=this.getProps();if(!Ep(a,n,this.currentDirection))return;const{projection:r}=this.visualElement,i=this.getAxisMotionValue(a);if(r&&r.layout){const{min:l,max:d}=r.layout.layoutBox[a];i.set(s[a]-sa(l,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:s,dragConstraints:a}=this.getProps(),{projection:n}=this.visualElement;if(!Ud(a)||!n||!this.constraints)return;this.stopAnimation();const r={x:0,y:0};Nr(l=>{const d=this.getAxisMotionValue(l);if(d&&this.constraints!==!1){const u=d.get();r[l]=aJ({min:u,max:u},this.constraints[l])}});const{transformTemplate:i}=this.visualElement.getProps();this.visualElement.current.style.transform=i?i({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Nr(l=>{if(!Ep(l,s,null))return;const d=this.getAxisMotionValue(l),{min:u,max:h}=this.constraints[l];d.set(sa(u,h,r[l]))})}addListeners(){if(!this.visualElement.current)return;iJ.set(this.visualElement,this);const s=this.visualElement.current,a=Xh(s,"pointerdown",u=>{const{drag:h,dragListener:p=!0}=this.getProps();h&&p&&this.start(u)}),n=()=>{const{dragConstraints:u}=this.getProps();Ud(u)&&u.current&&(this.constraints=this.resolveRefConstraints())},{projection:r}=this.visualElement,i=r.addEventListener("measure",n);r&&!r.layout&&(r.root&&r.root.updateScroll(),r.updateLayout()),Qs.read(n);const l=fm(window,"resize",()=>this.scalePositionWithinConstraints()),d=r.addEventListener("didUpdate",(({delta:u,hasLayoutChanged:h})=>{this.isDragging&&h&&(Nr(p=>{const f=this.getAxisMotionValue(p);f&&(this.originPoint[p]+=u[p].translate,f.set(f.get()+u[p].translate))}),this.visualElement.render())}));return()=>{l(),a(),i(),d&&d()}}getProps(){const s=this.visualElement.getProps(),{drag:a=!1,dragDirectionLock:n=!1,dragPropagation:r=!1,dragConstraints:i=!1,dragElastic:l=Nj,dragMomentum:d=!0}=s;return{...s,drag:a,dragDirectionLock:n,dragPropagation:r,dragConstraints:i,dragElastic:l,dragMomentum:d}}}function Ep(t,s,a){return(s===!0||s===t)&&(a===null||a===t)}function lJ(t,s=10){let a=null;return Math.abs(t.y)>s?a="y":Math.abs(t.x)>s&&(a="x"),a}class cJ extends Rl{constructor(s){super(s),this.removeGroupControls=kr,this.removeListeners=kr,this.controls=new oJ(s)}mount(){const{dragControls:s}=this.node.getProps();s&&(this.removeGroupControls=s.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||kr}unmount(){this.removeGroupControls(),this.removeListeners()}}const JS=t=>(s,a)=>{t&&Qs.postRender(()=>t(s,a))};class dJ extends Rl{constructor(){super(...arguments),this.removePointerDownListener=kr}onPointerDown(s){this.session=new ZM(s,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:QM(this.node)})}createPanHandlers(){const{onPanSessionStart:s,onPanStart:a,onPan:n,onPanEnd:r}=this.node.getProps();return{onSessionStart:JS(s),onStart:JS(a),onMove:n,onEnd:(i,l)=>{delete this.session,r&&Qs.postRender(()=>r(i,l))}}}mount(){this.removePointerDownListener=Xh(this.node.current,"pointerdown",s=>this.onPointerDown(s))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const dg={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let Wb=!1;class uJ extends x.Component{componentDidMount(){const{visualElement:s,layoutGroup:a,switchLayoutGroup:n,layoutId:r}=this.props,{projection:i}=s;i&&(a.group&&a.group.add(i),n&&n.register&&r&&n.register(i),Wb&&i.root.didUpdate(),i.addEventListener("animationComplete",()=>{this.safeToRemove()}),i.setOptions({...i.options,onExitComplete:()=>this.safeToRemove()})),dg.hasEverUpdated=!0}getSnapshotBeforeUpdate(s){const{layoutDependency:a,visualElement:n,drag:r,isPresent:i}=this.props,{projection:l}=n;return l&&(l.isPresent=i,Wb=!0,r||s.layoutDependency!==a||a===void 0||s.isPresent!==i?l.willUpdate():this.safeToRemove(),s.isPresent!==i&&(i?l.promote():l.relegate()||Qs.postRender(()=>{const d=l.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:s}=this.props.visualElement;s&&(s.root.didUpdate(),e1.postRender(()=>{!s.currentAnimation&&s.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:s,layoutGroup:a,switchLayoutGroup:n}=this.props,{projection:r}=s;Wb=!0,r&&(r.scheduleCheckAfterUnmount(),a&&a.group&&a.group.remove(r),n&&n.deregister&&n.deregister(r))}safeToRemove(){const{safeToRemove:s}=this.props;s&&s()}render(){return null}}function eP(t){const[s,a]=wM(),n=x.useContext(Mw);return e.jsx(uJ,{...t,layoutGroup:n,switchLayoutGroup:x.useContext(PM),isPresent:s,safeToRemove:a})}function hJ(t,s,a){const n=an(t)?t:nu(t);return n.start(u1("",n,s,a)),n.animation}const mJ=(t,s)=>t.depth-s.depth;class fJ{constructor(){this.children=[],this.isDirty=!1}add(s){Lw(this.children,s),this.isDirty=!0}remove(s){Bw(this.children,s),this.isDirty=!0}forEach(s){this.isDirty&&this.children.sort(mJ),this.isDirty=!1,this.children.forEach(s)}}function pJ(t,s){const a=Pn.now(),n=({timestamp:r})=>{const i=r-a;i>=s&&(Cl(n),t(i-s))};return Qs.setup(n,!0),()=>Cl(n)}const tP=["TopLeft","TopRight","BottomLeft","BottomRight"],gJ=tP.length,eA=t=>typeof t=="string"?parseFloat(t):t,tA=t=>typeof t=="number"||Rt.test(t);function xJ(t,s,a,n,r,i){r?(t.opacity=sa(0,a.opacity??1,yJ(n)),t.opacityExit=sa(s.opacity??1,0,bJ(n))):i&&(t.opacity=sa(s.opacity??1,a.opacity??1,n));for(let l=0;l<gJ;l++){const d=`border${tP[l]}Radius`;let u=sA(s,d),h=sA(a,d);if(u===void 0&&h===void 0)continue;u||(u=0),h||(h=0),u===0||h===0||tA(u)===tA(h)?(t[d]=Math.max(sa(eA(u),eA(h),n),0),(Ni.test(h)||Ni.test(u))&&(t[d]+="%")):t[d]=h}(s.rotate||a.rotate)&&(t.rotate=sa(s.rotate||0,a.rotate||0,n))}function sA(t,s){return t[s]!==void 0?t[s]:t.borderRadius}const yJ=sP(0,.5,z5),bJ=sP(.5,.95,kr);function sP(t,s,a){return n=>n<t?0:n>s?1:a(dm(t,s,n))}function aA(t,s){t.min=s.min,t.max=s.max}function $r(t,s){aA(t.x,s.x),aA(t.y,s.y)}function nA(t,s){t.translate=s.translate,t.scale=s.scale,t.originPoint=s.originPoint,t.origin=s.origin}function rA(t,s,a,n,r){return t-=s,t=Hg(t,1/a,n),r!==void 0&&(t=Hg(t,1/r,n)),t}function vJ(t,s=0,a=1,n=.5,r,i=t,l=t){if(Ni.test(s)&&(s=parseFloat(s),s=sa(l.min,l.max,s/100)-l.min),typeof s!="number")return;let d=sa(i.min,i.max,n);t===i&&(d-=s),t.min=rA(t.min,s,a,d,r),t.max=rA(t.max,s,a,d,r)}function iA(t,s,[a,n,r],i,l){vJ(t,s[a],s[n],s[r],s.scale,i,l)}const jJ=["x","scaleX","originX"],wJ=["y","scaleY","originY"];function oA(t,s,a,n){iA(t.x,s,jJ,a?a.x:void 0,n?n.x:void 0),iA(t.y,s,wJ,a?a.y:void 0,n?n.y:void 0)}function lA(t){return t.translate===0&&t.scale===1}function aP(t){return lA(t.x)&&lA(t.y)}function cA(t,s){return t.min===s.min&&t.max===s.max}function NJ(t,s){return cA(t.x,s.x)&&cA(t.y,s.y)}function dA(t,s){return Math.round(t.min)===Math.round(s.min)&&Math.round(t.max)===Math.round(s.max)}function nP(t,s){return dA(t.x,s.x)&&dA(t.y,s.y)}function uA(t){return pn(t.x)/pn(t.y)}function hA(t,s){return t.translate===s.translate&&t.scale===s.scale&&t.originPoint===s.originPoint}class _J{constructor(){this.members=[]}add(s){Lw(this.members,s),s.scheduleRender()}remove(s){if(Bw(this.members,s),s===this.prevLead&&(this.prevLead=void 0),s===this.lead){const a=this.members[this.members.length-1];a&&this.promote(a)}}relegate(s){const a=this.members.findIndex(r=>s===r);if(a===0)return!1;let n;for(let r=a;r>=0;r--){const i=this.members[r];if(i.isPresent!==!1){n=i;break}}return n?(this.promote(n),!0):!1}promote(s,a){const n=this.lead;if(s!==n&&(this.prevLead=n,this.lead=s,s.show(),n)){n.instance&&n.scheduleRender(),s.scheduleRender(),s.resumeFrom=n,a&&(s.resumeFrom.preserveOpacity=!0),n.snapshot&&(s.snapshot=n.snapshot,s.snapshot.latestValues=n.animationValues||n.latestValues),s.root&&s.root.isUpdating&&(s.isLayoutDirty=!0);const{crossfade:r}=s.options;r===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(s=>{const{options:a,resumingFrom:n}=s;a.onExitComplete&&a.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(s=>{s.instance&&s.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function CJ(t,s,a){let n="";const r=t.x.translate/s.x,i=t.y.translate/s.y,l=a?.z||0;if((r||i||l)&&(n=`translate3d(${r}px, ${i}px, ${l}px) `),(s.x!==1||s.y!==1)&&(n+=`scale(${1/s.x}, ${1/s.y}) `),a){const{transformPerspective:h,rotate:p,rotateX:f,rotateY:y,skewX:v,skewY:j}=a;h&&(n=`perspective(${h}px) ${n}`),p&&(n+=`rotate(${p}deg) `),f&&(n+=`rotateX(${f}deg) `),y&&(n+=`rotateY(${y}deg) `),v&&(n+=`skewX(${v}deg) `),j&&(n+=`skewY(${j}deg) `)}const d=t.x.scale*s.x,u=t.y.scale*s.y;return(d!==1||u!==1)&&(n+=`scale(${d}, ${u})`),n||"none"}const Yb=["","X","Y","Z"],kJ=1e3;let SJ=0;function Kb(t,s,a,n){const{latestValues:r}=s;r[t]&&(a[t]=r[t],s.setStaticValue(t,0),n&&(n[t]=0))}function rP(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:s}=t.options;if(!s)return;const a=HM(s);if(window.MotionHasOptimisedAnimation(a,"transform")){const{layout:r,layoutId:i}=t.options;window.MotionCancelOptimisedAnimation(a,"transform",Qs,!(r||i))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&rP(n)}function iP({attachResizeListener:t,defaultParent:s,measureScroll:a,checkIsScrollRoot:n,resetTransform:r}){return class{constructor(l={},d=s?.()){this.id=SJ++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(DJ),this.nodes.forEach(PJ),this.nodes.forEach(OJ),this.nodes.forEach(EJ)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=l,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let u=0;u<this.path.length;u++)this.path[u].shouldResetTransform=!0;this.root===this&&(this.nodes=new fJ)}addEventListener(l,d){return this.eventHandlers.has(l)||this.eventHandlers.set(l,new $w),this.eventHandlers.get(l).add(d)}notifyListeners(l,...d){const u=this.eventHandlers.get(l);u&&u.notify(...d)}hasListeners(l){return this.eventHandlers.has(l)}mount(l){if(this.instance)return;this.isSVG=jM(l)&&!bQ(l),this.instance=l;const{layoutId:d,layout:u,visualElement:h}=this.options;if(h&&!h.current&&h.mount(l),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(u||d)&&(this.isLayoutDirty=!0),t){let p,f=0;const y=()=>this.root.updateBlockedByResize=!1;Qs.read(()=>{f=window.innerWidth}),t(l,()=>{const v=window.innerWidth;v!==f&&(f=v,this.root.updateBlockedByResize=!0,p&&p(),p=pJ(y,250),dg.hasAnimatedSinceResize&&(dg.hasAnimatedSinceResize=!1,this.nodes.forEach(pA)))})}d&&this.root.registerSharedNode(d,this),this.options.animate!==!1&&h&&(d||u)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:f,hasRelativeLayoutChanged:y,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const j=this.options.transition||h.getDefaultTransition()||$J,{onLayoutAnimationStart:N,onLayoutAnimationComplete:w}=h.getProps(),_=!this.targetLayout||!nP(this.targetLayout,v),T=!f&&y;if(this.options.layoutRoot||this.resumeFrom||T||f&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const R={...Zw(j,"layout"),onPlay:N,onComplete:w};(h.shouldReduceMotion||this.options.layoutRoot)&&(R.delay=0,R.type=!1),this.startAnimation(R),this.setAnimationOrigin(p,T)}else f||pA(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const l=this.getStack();l&&l.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Cl(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(LJ),this.animationId++)}getTransformTemplate(){const{visualElement:l}=this.options;return l&&l.getProps().transformTemplate}willUpdate(l=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&rP(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let p=0;p<this.path.length;p++){const f=this.path[p];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:d,layout:u}=this.options;if(d===void 0&&!u)return;const h=this.getTransformTemplate();this.prevTransformTemplateValue=h?h(this.latestValues,""):void 0,this.updateSnapshot(),l&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(mA);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(fA);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(MJ),this.nodes.forEach(AJ),this.nodes.forEach(TJ)):this.nodes.forEach(fA),this.clearAllSnapshots();const d=Pn.now();Ka.delta=xo(0,1e3/60,d-Ka.timestamp),Ka.timestamp=d,Ka.isProcessing=!0,Bb.update.process(Ka),Bb.preRender.process(Ka),Bb.render.process(Ka),Ka.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,e1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(RJ),this.sharedNodes.forEach(BJ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qs.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qs.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!pn(this.snapshot.measuredBox.x)&&!pn(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let u=0;u<this.path.length;u++)this.path[u].updateScroll();const l=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=Ma(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,l?l.layoutBox:void 0)}updateScroll(l="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===l&&(d=!1),d&&this.instance){const u=n(this.instance);this.scroll={animationId:this.root.animationId,phase:l,isRoot:u,offset:a(this.instance),wasRoot:this.scroll?this.scroll.isRoot:u}}}resetTransform(){if(!r)return;const l=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!aP(this.projectionDelta),u=this.getTransformTemplate(),h=u?u(this.latestValues,""):void 0,p=h!==this.prevTransformTemplateValue;l&&this.instance&&(d||yc(this.latestValues)||p)&&(r(this.instance,h),this.shouldResetTransform=!1,this.scheduleRender())}measure(l=!0){const d=this.measurePageBox();let u=this.removeElementScroll(d);return l&&(u=this.removeTransform(u)),zJ(u),{animationId:this.root.animationId,measuredBox:d,layoutBox:u,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:l}=this.options;if(!l)return Ma();const d=l.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(VJ))){const{scroll:h}=this.root;h&&(Hd(d.x,h.offset.x),Hd(d.y,h.offset.y))}return d}removeElementScroll(l){const d=Ma();if($r(d,l),this.scroll?.wasRoot)return d;for(let u=0;u<this.path.length;u++){const h=this.path[u],{scroll:p,options:f}=h;h!==this.root&&p&&f.layoutScroll&&(p.wasRoot&&$r(d,l),Hd(d.x,p.offset.x),Hd(d.y,p.offset.y))}return d}applyTransform(l,d=!1){const u=Ma();$r(u,l);for(let h=0;h<this.path.length;h++){const p=this.path[h];!d&&p.options.layoutScroll&&p.scroll&&p!==p.root&&qd(u,{x:-p.scroll.offset.x,y:-p.scroll.offset.y}),yc(p.latestValues)&&qd(u,p.latestValues)}return yc(this.latestValues)&&qd(u,this.latestValues),u}removeTransform(l){const d=Ma();$r(d,l);for(let u=0;u<this.path.length;u++){const h=this.path[u];if(!h.instance||!yc(h.latestValues))continue;xj(h.latestValues)&&h.updateSnapshot();const p=Ma(),f=h.measurePageBox();$r(p,f),oA(d,h.latestValues,h.snapshot?h.snapshot.layoutBox:void 0,p)}return yc(this.latestValues)&&oA(d,this.latestValues),d}setTargetDelta(l){this.targetDelta=l,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(l){this.options={...this.options,...l,crossfade:l.crossfade!==void 0?l.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Ka.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(l=!1){const d=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=d.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=d.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=d.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==d;if(!(l||u&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:f}=this.options;if(!this.layout||!(p||f))return;this.resolvedRelativeTargetAt=Ka.timestamp;const y=this.getClosestProjectingParent();y&&this.linkedParentVersion!==y.layoutVersion&&!y.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(y&&y.layout?this.createRelativeTarget(y,this.layout.layoutBox,y.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=Ma(),this.targetWithTransforms=Ma()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),XZ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):$r(this.target,this.layout.layoutBox),FM(this.target,this.targetDelta)):$r(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,y&&!!y.resumingFrom==!!this.resumingFrom&&!y.options.layoutScroll&&y.target&&this.animationProgress!==1?this.createRelativeTarget(y,this.target,y.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||xj(this.parent.latestValues)||BM(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(l,d,u){this.relativeParent=l,this.linkedParentVersion=l.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ma(),this.relativeTargetOrigin=Ma(),qg(this.relativeTargetOrigin,d,u),$r(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const l=this.getLead(),d=!!this.resumingFrom||this!==l;let u=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(u=!1),d&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Ka.timestamp&&(u=!1),u)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;$r(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,y=this.treeScale.y;lZ(this.layoutCorrected,this.treeScale,this.path,d),l.layout&&!l.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(l.target=l.layout.layoutBox,l.targetWithTransforms=Ma());const{target:v}=l;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(nA(this.prevProjectionDelta.x,this.projectionDelta.x),nA(this.prevProjectionDelta.y,this.projectionDelta.y)),Qh(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==y||!hA(this.projectionDelta.x,this.prevProjectionDelta.x)||!hA(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(l=!0){if(this.options.visualElement?.scheduleRender(),l){const d=this.getStack();d&&d.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Gd(),this.projectionDelta=Gd(),this.projectionDeltaWithTransform=Gd()}setAnimationOrigin(l,d=!1){const u=this.snapshot,h=u?u.latestValues:{},p={...this.latestValues},f=Gd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const y=Ma(),v=u?u.source:void 0,j=this.layout?this.layout.source:void 0,N=v!==j,w=this.getStack(),_=!w||w.members.length<=1,T=!!(N&&!_&&this.options.crossfade===!0&&!this.path.some(IJ));this.animationProgress=0;let R;this.mixTargetDelta=E=>{const A=E/1e3;gA(f.x,l.x,A),gA(f.y,l.y,A),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(qg(y,this.layout.layoutBox,this.relativeParent.layout.layoutBox),FJ(this.relativeTarget,this.relativeTargetOrigin,y,A),R&&NJ(this.relativeTarget,R)&&(this.isProjectionDirty=!1),R||(R=Ma()),$r(R,this.relativeTarget)),N&&(this.animationValues=p,xJ(p,h,this.latestValues,A,T,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=A},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(l){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Cl(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qs.update(()=>{dg.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=nu(0)),this.currentAnimation=hJ(this.motionValue,[0,1e3],{...l,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),l.onUpdate&&l.onUpdate(d)},onStop:()=>{},onComplete:()=>{l.onComplete&&l.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const l=this.getStack();l&&l.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(kJ),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const l=this.getLead();let{targetWithTransforms:d,target:u,layout:h,latestValues:p}=l;if(!(!d||!u||!h)){if(this!==l&&this.layout&&h&&oP(this.options.animationType,this.layout.layoutBox,h.layoutBox)){u=this.target||Ma();const f=pn(this.layout.layoutBox.x);u.x.min=l.target.x.min,u.x.max=u.x.min+f;const y=pn(this.layout.layoutBox.y);u.y.min=l.target.y.min,u.y.max=u.y.min+y}$r(d,u),qd(d,p),Qh(this.projectionDeltaWithTransform,this.layoutCorrected,d,p)}}registerSharedNode(l,d){this.sharedNodes.has(l)||this.sharedNodes.set(l,new _J),this.sharedNodes.get(l).add(d);const h=d.options.initialPromotionConfig;d.promote({transition:h?h.transition:void 0,preserveFollowOpacity:h&&h.shouldPreserveFollowOpacity?h.shouldPreserveFollowOpacity(d):void 0})}isLead(){const l=this.getStack();return l?l.lead===this:!0}getLead(){const{layoutId:l}=this.options;return l?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:l}=this.options;return l?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:l}=this.options;if(l)return this.root.sharedNodes.get(l)}promote({needsReset:l,transition:d,preserveFollowOpacity:u}={}){const h=this.getStack();h&&h.promote(this,u),l&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const l=this.getStack();return l?l.relegate(this):!1}resetSkewAndRotation(){const{visualElement:l}=this.options;if(!l)return;let d=!1;const{latestValues:u}=l;if((u.z||u.rotate||u.rotateX||u.rotateY||u.rotateZ||u.skewX||u.skewY)&&(d=!0),!d)return;const h={};u.z&&Kb("z",l,h,this.animationValues);for(let p=0;p<Yb.length;p++)Kb(`rotate${Yb[p]}`,l,h,this.animationValues),Kb(`skew${Yb[p]}`,l,h,this.animationValues);l.render();for(const p in h)l.setStaticValue(p,h[p]),this.animationValues&&(this.animationValues[p]=h[p]);l.scheduleRender()}applyProjectionStyles(l,d){if(!this.instance||this.isSVG)return;if(!this.isVisible){l.visibility="hidden";return}const u=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,l.visibility="",l.opacity="",l.pointerEvents=cg(d?.pointerEvents)||"",l.transform=u?u(this.latestValues,""):"none";return}const h=this.getLead();if(!this.projectionDelta||!this.layout||!h.target){this.options.layoutId&&(l.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,l.pointerEvents=cg(d?.pointerEvents)||""),this.hasProjected&&!yc(this.latestValues)&&(l.transform=u?u({},""):"none",this.hasProjected=!1);return}l.visibility="";const p=h.animationValues||h.latestValues;this.applyTransformsToTarget();let f=CJ(this.projectionDeltaWithTransform,this.treeScale,p);u&&(f=u(p,f)),l.transform=f;const{x:y,y:v}=this.projectionDelta;l.transformOrigin=`${y.origin*100}% ${v.origin*100}% 0`,h.animationValues?l.opacity=h===this?p.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:l.opacity=h===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const j in gj){if(p[j]===void 0)continue;const{correct:N,applyTo:w,isCSSVariable:_}=gj[j],T=f==="none"?p[j]:N(p[j],h);if(w){const R=w.length;for(let E=0;E<R;E++)l[w[E]]=T}else _?this.options.visualElement.renderState.vars[j]=T:l[j]=T}this.options.layoutId&&(l.pointerEvents=h===this?cg(d?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(l=>l.currentAnimation?.stop()),this.root.nodes.forEach(mA),this.root.sharedNodes.clear()}}}function AJ(t){t.updateLayout()}function TJ(t){const s=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&s&&t.hasListeners("didUpdate")){const{layoutBox:a,measuredBox:n}=t.layout,{animationType:r}=t.options,i=s.source!==t.layout.source;r==="size"?Nr(p=>{const f=i?s.measuredBox[p]:s.layoutBox[p],y=pn(f);f.min=a[p].min,f.max=f.min+y}):oP(r,s.layoutBox,a)&&Nr(p=>{const f=i?s.measuredBox[p]:s.layoutBox[p],y=pn(a[p]);f.max=f.min+y,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+y)});const l=Gd();Qh(l,a,s.layoutBox);const d=Gd();i?Qh(d,t.applyTransform(n,!0),s.measuredBox):Qh(d,a,s.layoutBox);const u=!aP(l);let h=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:f,layout:y}=p;if(f&&y){const v=Ma();qg(v,s.layoutBox,f.layoutBox);const j=Ma();qg(j,a,y.layoutBox),nP(v,j)||(h=!0),p.options.layoutRoot&&(t.relativeTarget=j,t.relativeTargetOrigin=v,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:a,snapshot:s,delta:d,layoutDelta:l,hasLayoutChanged:u,hasRelativeLayoutChanged:h})}else if(t.isLead()){const{onExitComplete:a}=t.options;a&&a()}t.options.transition=void 0}function DJ(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function EJ(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function RJ(t){t.clearSnapshot()}function mA(t){t.clearMeasurements()}function fA(t){t.isLayoutDirty=!1}function MJ(t){const{visualElement:s}=t.options;s&&s.getProps().onBeforeLayoutMeasure&&s.notify("BeforeLayoutMeasure"),t.resetTransform()}function pA(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function PJ(t){t.resolveTargetDelta()}function OJ(t){t.calcProjection()}function LJ(t){t.resetSkewAndRotation()}function BJ(t){t.removeLeadSnapshot()}function gA(t,s,a){t.translate=sa(s.translate,0,a),t.scale=sa(s.scale,1,a),t.origin=s.origin,t.originPoint=s.originPoint}function xA(t,s,a,n){t.min=sa(s.min,a.min,n),t.max=sa(s.max,a.max,n)}function FJ(t,s,a,n){xA(t.x,s.x,a.x,n),xA(t.y,s.y,a.y,n)}function IJ(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const $J={duration:.45,ease:[.4,0,.1,1]},yA=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),bA=yA("applewebkit/")&&!yA("chrome/")?Math.round:kr;function vA(t){t.min=bA(t.min),t.max=bA(t.max)}function zJ(t){vA(t.x),vA(t.y)}function oP(t,s,a){return t==="position"||t==="preserve-aspect"&&!KZ(uA(s),uA(a),.2)}function VJ(t){return t!==t.root&&t.scroll?.wasRoot}const UJ=iP({attachResizeListener:(t,s)=>fm(t,"resize",s),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Xb={current:void 0},lP=iP({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Xb.current){const t=new UJ({});t.mount(window),t.setOptions({layoutScroll:!0}),Xb.current=t}return Xb.current},resetTransform:(t,s)=>{t.style.transform=s!==void 0?s:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),HJ={pan:{Feature:dJ},drag:{Feature:cJ,ProjectionNode:lP,MeasureLayout:eP}};function jA(t,s,a){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",a==="Start");const r="onHover"+a,i=n[r];i&&Qs.postRender(()=>i(s,Hm(s)))}class qJ extends Rl{mount(){const{current:s}=this.node;s&&(this.unmount=fQ(s,(a,n)=>(jA(this.node,n,"Start"),r=>jA(this.node,r,"End"))))}unmount(){}}class GJ extends Rl{constructor(){super(...arguments),this.isActive=!1}onFocus(){let s=!1;try{s=this.node.current.matches(":focus-visible")}catch{s=!0}!s||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=zm(fm(this.node.current,"focus",()=>this.onFocus()),fm(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function wA(t,s,a){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",a==="Start");const r="onTap"+(a==="End"?"":a),i=n[r];i&&Qs.postRender(()=>i(s,Hm(s)))}class WJ extends Rl{mount(){const{current:s}=this.node;s&&(this.unmount=yQ(s,(a,n)=>(wA(this.node,n,"Start"),(r,{success:i})=>wA(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const _j=new WeakMap,Qb=new WeakMap,YJ=t=>{const s=_j.get(t.target);s&&s(t)},KJ=t=>{t.forEach(YJ)};function XJ({root:t,...s}){const a=t||document;Qb.has(a)||Qb.set(a,{});const n=Qb.get(a),r=JSON.stringify(s);return n[r]||(n[r]=new IntersectionObserver(KJ,{root:t,...s})),n[r]}function QJ(t,s,a){const n=XJ(s);return _j.set(t,a),n.observe(t),()=>{_j.delete(t),n.unobserve(t)}}const ZJ={some:0,all:1};class JJ extends Rl{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:s={}}=this.node.getProps(),{root:a,margin:n,amount:r="some",once:i}=s,l={root:a?a.current:void 0,rootMargin:n,threshold:typeof r=="number"?r:ZJ[r]},d=u=>{const{isIntersecting:h}=u;if(this.isInView===h||(this.isInView=h,i&&!h&&this.hasEnteredView))return;h&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",h);const{onViewportEnter:p,onViewportLeave:f}=this.node.getProps(),y=h?p:f;y&&y(u)};return QJ(this.node.current,l,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:s,prevProps:a}=this.node;["amount","margin","root"].some(eee(s,a))&&this.startObserver()}unmount(){}}function eee({viewport:t={}},{viewport:s={}}={}){return a=>t[a]!==s[a]}const tee={inView:{Feature:JJ},tap:{Feature:WJ},focus:{Feature:GJ},hover:{Feature:qJ}},see={layout:{ProjectionNode:lP,MeasureLayout:eP}},aee={...UZ,...tee,...HJ,...see},qe=rZ(aee,yZ),ut={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640",darkBlueDim:"rgba(14, 76, 129, 0.1)",tealDim:"rgba(0, 140, 149, 0.1)",limeGreenDim:"rgba(138, 198, 64, 0.1)"},nee=[{value:"all",label:"All Categories"},{value:"luxury",label:"Luxury"},{value:"sport",label:"Sport"},{value:"normal",label:"Normal"},{value:"commercial",label:"Commercial"},{value:"industrial",label:"Industrial"},{value:"event",label:"Event"},{value:"sea",label:"Sea"}],ree=[{value:"all",label:"All Statuses"},{value:"pending",label:"Pending"},{value:"approved",label:"Approved"},{value:"rejected",label:"Rejected"}],cP=t=>{switch(t){case"approved":return"bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200";case"pending":return"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200";case"rejected":default:return"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200"}},iee=t=>{switch(t){case"luxury":return ut.darkBlue;case"sport":return ut.limeGreen;default:return ut.teal}},oee=({car:t,onClose:s})=>{if(!t)return null;const a=n=>Array.isArray(n)?n:[];return e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:e.jsxs(qe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.95},className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-4xl p-6 relative overflow-y-auto max-h-[90vh]",children:[e.jsx("button",{className:"absolute top-4 right-4 w-8 h-8 rounded-full flex items-center justify-center transition-all hover:scale-110",style:{background:ut.tealDim},onClick:s,children:e.jsx(ta,{className:"w-5 h-5",style:{color:ut.teal}})}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{background:`linear-gradient(135deg, ${ut.teal}, ${ut.darkBlue})`},children:e.jsx(Vt,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:[t.make," ",t.model]}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[t.year,"  ",t.license_plate]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-3 mt-4",children:[e.jsxs("div",{className:"bg-gradient-to-br p-3 rounded-xl",style:{background:ut.tealDim},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Ys,{className:"w-4 h-4",style:{color:ut.teal}}),e.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Views"})]}),e.jsx("p",{className:"text-xl font-bold",style:{color:ut.teal},children:t.views_count||0})]}),e.jsxs("div",{className:"bg-gradient-to-br p-3 rounded-xl",style:{background:ut.darkBlueDim},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Sc,{className:"w-4 h-4",style:{color:ut.darkBlue}}),e.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Clicks"})]}),e.jsx("p",{className:"text-xl font-bold",style:{color:ut.darkBlue},children:t.clicks_count??0})]}),e.jsxs("div",{className:"bg-gradient-to-br p-3 rounded-xl",style:{background:ut.limeGreenDim},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Is,{className:"w-4 h-4",style:{color:ut.limeGreen}}),e.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Daily Rate"})]}),e.jsxs("p",{className:"text-xl font-bold",style:{color:ut.limeGreen},children:["$",t.daily_rate]})]}),e.jsxs("div",{className:"bg-gradient-to-br p-3 rounded-xl",style:{background:ut.tealDim},children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx(Ms,{className:"w-4 h-4",style:{color:ut.teal}}),e.jsx("span",{className:"text-xs font-medium text-gray-600 dark:text-gray-400",children:"Status"})]}),e.jsx(Re,{className:`text-xs ${cP(t.status)}`,children:t.status})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"relative rounded-xl overflow-hidden shadow-lg",style:{height:"240px"},children:t.main_image_url?e.jsx("img",{src:`/api/storage/${t.main_image_url}`,alt:"Main",className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{background:ut.tealDim},children:e.jsx(Vt,{className:"w-16 h-16",style:{color:ut.teal,opacity:.3}})})}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:["front","back","left","right"].map(n=>t[`${n}_image_url`]?e.jsx("div",{className:"relative rounded-lg overflow-hidden shadow",style:{height:"70px"},children:e.jsx("img",{src:`/api/storage/${t[`${n}_image_url`]}`,alt:n,className:"w-full h-full object-cover"})},n):e.jsx("div",{className:"rounded-lg flex items-center justify-center",style:{height:"70px",background:ut.tealDim},children:e.jsx(Vt,{className:"w-6 h-6",style:{color:ut.teal,opacity:.3}})},n))})]}),e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsx(za,{icon:Vt,label:"Category",value:t.car_category}),e.jsx(za,{icon:Is,label:"Holiday Rate",value:`$${t.holiday_rate}/day`}),e.jsx(za,{icon:hl,label:"Mileage",value:`${t.mileage?.toLocaleString()} km`}),e.jsx(za,{label:"Color",value:t.color}),e.jsx(za,{label:"Fuel Type",value:t.fuel_type}),e.jsx(za,{label:"Transmission",value:t.transmission}),e.jsx(za,{label:"Wheel Drive",value:t.wheels_drive}),e.jsx(za,{label:"Seats",value:t.seats}),e.jsx(za,{label:"Doors",value:t.doors}),e.jsx(za,{label:"Max Driving Mileage",value:`${t.max_driving_mileage} km`}),e.jsx(za,{label:"Min Rental Days",value:t.min_rental_days}),e.jsx(za,{label:"Add-Ons",value:a(t.car_add_on).join(", ")||"N/A"}),e.jsx(za,{label:"Features",value:a(t.features).join(", ")||"N/A"}),e.jsx(za,{label:"Reason for Rent",value:a(t.reason_of_rent).join(", ")||"N/A"}),t.notes&&e.jsx(za,{label:"Notes",value:t.notes}),e.jsx(za,{icon:vs,label:"Delivery Location",value:t.delivery_location?.address||"N/A"}),e.jsx(za,{icon:vs,label:"Return Location",value:t.return_location?.address||"N/A"}),t.live_location&&e.jsx(za,{icon:vs,label:"Current Location",value:t.live_location.address,badge:!0})]})]})]})})},za=({icon:t,label:s,value:a,badge:n})=>e.jsxs("div",{className:"flex items-start gap-2 py-2 border-b border-gray-100 dark:border-gray-800",children:[t&&e.jsx(t,{className:"w-4 h-4 mt-0.5",style:{color:ut.teal}}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:[s,":"]}),n?e.jsx(Re,{className:"ml-2 text-xs",style:{background:ut.teal,color:"white"},children:a}):e.jsx("span",{className:"ml-2 text-gray-600 dark:text-gray-400",children:a})]})]}),lee=()=>{const t=Ua(),[s,a]=x.useState([]),[n,r]=x.useState(!0),[i,l]=x.useState({search:"",category:"all",status:"all"}),[d,u]=x.useState({currentPage:1,perPage:10}),[h,p]=x.useState(null),[f,y]=x.useState(!1),[v,j]=x.useState({}),N=async()=>{r(!0);try{const{data:X}=await xe.get("/cars/agent/Mycars");a(X.cars.data||[])}catch{se.error("Failed to fetch cars.")}finally{r(!1)}};x.useEffect(()=>{N()},[]);const w=(X,ne)=>{l(te=>({...te,[X]:ne})),u(te=>({...te,currentPage:1}))},_=()=>l({search:"",category:"all",status:"all"}),T=X=>{CK.confirmAlert({title:"Confirm Deletion",message:"Are you sure you want to delete this car?",buttons:[{label:"Yes, Delete",onClick:async()=>{try{await xe.delete(`/cars/${X}`),se.success("Car deleted successfully."),a(ne=>ne.filter(te=>te.id!==X))}catch(ne){se.error(ne.response?.data?.error||"Failed to delete car.")}}},{label:"Cancel"}]})},R=X=>{p(X),j({delivery_location:X.delivery_location?.address||"",return_location:X.return_location?.address||"",mileage:X.mileage||0,daily_rate:X.daily_rate||0,holiday_rate:X.holiday_rate||0}),y(!0)},E=(X,ne)=>{j(te=>({...te,[X]:ne}))},A=async()=>{try{const{data:X}=await xe.put(`/cars/${h.id}`,{mileage:v.mileage,daily_rate:v.daily_rate,holiday_rate:v.holiday_rate});se.success("Car updated successfully"),a(ne=>ne.map(te=>te.id===h.id?{...te,...X.car}:te)),y(!1)}catch(X){se.error(X.response?.data?.error||"Failed to update car")}},V=x.useMemo(()=>s.filter(X=>{const ne=i.category==="all"||X.car_category===i.category,te=i.status==="all"||X.status===i.status,U=[X.make,X.model,X.license_plate].some(q=>q?.toLowerCase().includes(i.search.toLowerCase()));return ne&&te&&U}),[s,i]),k=Math.ceil(V.length/d.perPage),B=x.useMemo(()=>{const X=(d.currentPage-1)*d.perPage;return V.slice(X,X+d.perPage)},[V,d]),P=X=>u(ne=>({...ne,currentPage:Math.max(1,Math.min(X,k))})),H=s.reduce((X,ne)=>X+(ne.views_count||0),0),D=s.reduce((X,ne)=>X+(ne.clicks_count||0),0),K=s.filter(X=>X.status==="approved").length;return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-black dark:via-gray-900 dark:to-gray-950 pt-20",children:e.jsxs("div",{className:"container mx-auto px-4 py-8",children:[e.jsxs("div",{className:"flex flex-col md:flex-row md:items-center md:justify-between mb-6 gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-xl flex items-center justify-center shadow-lg",style:{background:`linear-gradient(135deg, ${ut.teal}, ${ut.darkBlue})`},children:e.jsx(Vt,{className:"w-7 h-7 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:"My Cars"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Manage your listed vehicles"})]})]}),e.jsxs(Q,{onClick:()=>t("/add-car"),className:"h-11 rounded-xl text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105",style:{background:`linear-gradient(135deg, ${ut.teal}, ${ut.darkBlue})`},children:[e.jsx(Gs,{className:"w-5 h-5 mr-2"}),"Add New Car"]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6",children:[e.jsx(Rp,{icon:Vt,label:"Total Cars",value:s.length,gradient:`linear-gradient(135deg, ${ut.teal}, ${ut.darkBlue})`}),e.jsx(Rp,{icon:Ys,label:"Total Views",value:H,gradient:`linear-gradient(135deg, ${ut.darkBlue}, ${ut.teal})`}),e.jsx(Rp,{icon:Sc,label:"Total Clicks",value:D,gradient:`linear-gradient(135deg, ${ut.teal}, ${ut.limeGreen})`}),e.jsx(Rp,{icon:wl,label:"Approved",value:K,gradient:`linear-gradient(135deg, ${ut.limeGreen}, ${ut.teal})`})]}),e.jsx(Ae,{className:"mb-6 border-2 border-transparent shadow-lg rounded-xl",children:e.jsx(Ee,{className:"p-5",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-3 items-end",children:[e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Search"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ca,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(oe,{placeholder:"Search cars...",value:i.search,onChange:X=>w("search",X.target.value),className:"pl-9 h-10 border-2 rounded-xl transition-all duration-200",style:{borderColor:i.search?ut.teal:void 0}})]})]}),e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Category"}),e.jsxs(et,{value:i.category,onValueChange:X=>w("category",X),children:[e.jsx(Ze,{className:"h-10 border-2 rounded-xl",children:e.jsx(tt,{placeholder:"Select category"})}),e.jsx(Je,{children:nee.map(X=>e.jsx(ce,{value:X.value,children:X.label},X.value))})]})]}),e.jsxs("div",{className:"md:col-span-1",children:[e.jsx("label",{className:"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Status"}),e.jsxs(et,{value:i.status,onValueChange:X=>w("status",X),children:[e.jsx(Ze,{className:"h-10 border-2 rounded-xl",children:e.jsx(tt,{placeholder:"Select status"})}),e.jsx(Je,{children:ree.map(X=>e.jsx(ce,{value:X.value,children:X.label},X.value))})]})]}),e.jsx("div",{className:"md:col-span-1 flex justify-end",children:(i.search||i.category!=="all"||i.status!=="all")&&e.jsx(Q,{variant:"outline",className:"h-10 rounded-xl border-2",style:{borderColor:ut.teal,color:ut.teal},onClick:_,children:"Clear Filters"})})]})})}),e.jsxs(Ae,{className:"border-2 border-transparent shadow-lg rounded-xl",children:[e.jsx(ns,{className:"pb-4",children:e.jsxs(rs,{className:"text-xl font-bold text-gray-900 dark:text-white",children:["Your Listed Cars (",V.length,")"]})}),e.jsx(Ee,{children:n?e.jsx("div",{className:"flex justify-center py-12",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-t-transparent",style:{borderColor:ut.teal,borderTopColor:"transparent"}})}):B.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center py-12 gap-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center",style:{background:ut.tealDim},children:e.jsx(Vt,{className:"w-8 h-8",style:{color:ut.teal}})}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400",children:["No cars found."," ",e.jsx(Q,{variant:"link",className:"p-0 h-auto",style:{color:ut.teal},onClick:()=>t("/Add/car"),children:"Add your first car"})]})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[e.jsx("thead",{className:"bg-gray-50 dark:bg-gray-800",children:e.jsxs("tr",{children:[e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Vehicle"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"License"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Category"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Rate"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Performance"}),e.jsx("th",{className:"px-4 py-3 text-left text-xs font-semibold text-gray-700 dark:text-gray-300 uppercase tracking-wider",children:"Actions"})]})}),e.jsx("tbody",{className:"bg-white dark:bg-gray-900 divide-y divide-gray-200 dark:divide-gray-700",children:B.map((X,ne)=>e.jsxs(qe.tr,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{duration:.3,delay:ne*.05},className:"hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors",children:[e.jsx("td",{className:"px-4 py-3 whitespace-nowrap",children:e.jsxs("div",{className:"flex gap-3 items-center",children:[e.jsx("div",{className:"w-14 h-10 rounded-lg overflow-hidden shadow-sm",children:X.main_image_url?e.jsx("img",{src:`/api/storage/${X.main_image_url}`,alt:X.make,className:"w-full h-full object-cover"}):e.jsx("div",{className:"w-full h-full flex items-center justify-center",style:{background:ut.tealDim},children:e.jsx(Vt,{className:"w-5 h-5",style:{color:ut.teal,opacity:.5}})})}),e.jsxs("div",{children:[e.jsx("div",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:X.make}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:[X.model," (",X.year,")"]})]})]})}),e.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white font-mono",children:X.license_plate}),e.jsx("td",{className:"px-4 py-3",children:e.jsx(Re,{className:"px-2 py-1 text-xs text-white font-semibold",style:{background:iee(X.car_category)},children:X.car_category})}),e.jsxs("td",{className:"px-4 py-3",children:[e.jsxs("div",{className:"text-sm font-bold",style:{color:ut.teal},children:["$",X.daily_rate]}),e.jsx("div",{className:"text-xs text-gray-500",children:"per day"})]}),e.jsx("td",{className:"px-4 py-3",children:e.jsx(Re,{className:`px-2 py-1 text-xs ${cP(X.status)}`,children:X.status})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex gap-3",children:[e.jsxs("div",{className:"flex items-center gap-1",title:"Impressions in list/search",children:[e.jsx(Ys,{className:"w-4 h-4",style:{color:ut.darkBlue}}),e.jsx("span",{className:"text-sm font-semibold",style:{color:ut.darkBlue},children:X.views_count??0})]}),e.jsxs("div",{className:"flex items-center gap-1",title:"Detail page opens",children:[e.jsx(Sc,{className:"w-4 h-4",style:{color:ut.teal}}),e.jsx("span",{className:"text-sm font-semibold",style:{color:ut.teal},children:X.clicks_count??0})]})]})}),e.jsx("td",{className:"px-4 py-3",children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx(Q,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:scale-110 transition-transform",style:{color:ut.teal},onClick:()=>p(X),children:e.jsx(Ys,{className:"w-4 h-4"})}),e.jsx(Q,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 hover:scale-110 transition-transform",style:{color:ut.darkBlue},onClick:()=>R(X),children:e.jsx(ak,{className:"w-4 h-4"})}),e.jsx(Q,{variant:"ghost",size:"sm",className:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:scale-110 transition-transform",onClick:()=>T(X.id),children:e.jsx(Xs,{className:"w-4 h-4"})})]})})]},X.id))})]})})})]}),k>1&&e.jsxs("div",{className:"flex items-center justify-between mt-6",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{onClick:()=>P(1),disabled:d.currentPage===1,variant:"outline",size:"sm",className:"h-9 w-9 p-0 rounded-lg",children:e.jsx(D$,{className:"w-4 h-4"})}),e.jsx(Q,{onClick:()=>P(d.currentPage-1),disabled:d.currentPage===1,variant:"outline",size:"sm",className:"h-9 w-9 p-0 rounded-lg",children:e.jsx(jo,{className:"w-4 h-4"})}),e.jsxs("div",{className:"px-4 py-2 bg-gray-100 dark:bg-gray-800 rounded-lg text-sm font-semibold",children:["Page ",d.currentPage," of ",k]}),e.jsx(Q,{onClick:()=>P(d.currentPage+1),disabled:d.currentPage===k,variant:"outline",size:"sm",className:"h-9 w-9 p-0 rounded-lg",children:e.jsx(sn,{className:"w-4 h-4"})}),e.jsx(Q,{onClick:()=>P(k),disabled:d.currentPage===k,variant:"outline",size:"sm",className:"h-9 w-9 p-0 rounded-lg",children:e.jsx(R$,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400",children:["Showing ",(d.currentPage-1)*d.perPage+1," - ",Math.min(d.currentPage*d.perPage,V.length)," of ",V.length]})]}),h&&e.jsx(oee,{car:h,onClose:()=>p(null)}),f&&h&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:e.jsxs(qe.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-lg p-6 relative",children:[e.jsx("button",{className:"absolute top-4 right-4 w-8 h-8 rounded-full flex items-center justify-center transition-all hover:scale-110",style:{background:ut.tealDim},onClick:()=>y(!1),children:e.jsx(ta,{className:"w-5 h-5",style:{color:ut.teal}})}),e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center",style:{background:`linear-gradient(135deg, ${ut.darkBlue}, ${ut.teal})`},children:e.jsx(ak,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Edit Car"}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[h.make," ",h.model]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(vs,{className:"w-4 h-4 inline mr-1",style:{color:ut.teal}}),"Delivery Location"]}),e.jsx(oe,{value:v.delivery_location,onChange:X=>E("delivery_location",X.target.value),placeholder:"Enter delivery location",className:"h-10 border-2 rounded-xl"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(vs,{className:"w-4 h-4 inline mr-1",style:{color:ut.teal}}),"Return Location"]}),e.jsx(oe,{value:v.return_location,onChange:X=>E("return_location",X.target.value),placeholder:"Enter return location",className:"h-10 border-2 rounded-xl"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(hl,{className:"w-4 h-4 inline mr-1",style:{color:ut.teal}}),"Mileage (km)"]}),e.jsx(oe,{type:"number",value:v.mileage,onChange:X=>E("mileage",Number(X.target.value)),placeholder:"Enter mileage",className:"h-10 border-2 rounded-xl"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(Is,{className:"w-4 h-4 inline mr-1",style:{color:ut.teal}}),"Daily Rate"]}),e.jsx(oe,{type:"number",value:v.daily_rate,onChange:X=>E("daily_rate",Number(X.target.value)),placeholder:"Daily rate",className:"h-10 border-2 rounded-xl"})]}),e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:[e.jsx(Is,{className:"w-4 h-4 inline mr-1",style:{color:ut.darkBlue}}),"Holiday Rate"]}),e.jsx(oe,{type:"number",value:v.holiday_rate,onChange:X=>E("holiday_rate",Number(X.target.value)),placeholder:"Holiday rate",className:"h-10 border-2 rounded-xl"})]})]})]}),e.jsxs("div",{className:"mt-6 flex justify-end gap-3",children:[e.jsx(Q,{variant:"outline",onClick:()=>y(!1),className:"h-10 rounded-xl",children:"Cancel"}),e.jsx(Q,{onClick:A,className:"h-10 rounded-xl text-white font-semibold",style:{background:`linear-gradient(135deg, ${ut.teal}, ${ut.darkBlue})`},children:"Save Changes"})]})]})})]})})},Rp=({icon:t,label:s,value:a,gradient:n})=>e.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4},children:e.jsx(Ae,{className:"border-2 border-transparent hover:shadow-lg transition-all duration-300 rounded-xl",children:e.jsx(Ee,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-11 h-11 rounded-xl flex items-center justify-center shadow-md",style:{background:n},children:e.jsx(t,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 font-medium",children:s}),e.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:a})]})]})})})});class h1{constructor(){this.notificationCreatedEvent=".Illuminate\\Notifications\\Events\\BroadcastNotificationCreated"}listenForWhisper(s,a){return this.listen(".client-"+s,a)}notification(s){return this.listen(this.notificationCreatedEvent,s)}stopListeningForNotification(s){return this.stopListening(this.notificationCreatedEvent,s)}stopListeningForWhisper(s,a){return this.stopListening(".client-"+s,a)}}class dP{constructor(s){this.namespace=s}format(s){return[".","\\"].includes(s.charAt(0))?s.substring(1):(this.namespace&&(s=this.namespace+"."+s),s.replace(/\./g,"\\"))}setNamespace(s){this.namespace=s}}function cee(t){try{new t}catch(s){if(s instanceof Error&&s.message.includes("is not a constructor"))return!1}return!0}class m1 extends h1{constructor(s,a,n){super(),this.name=a,this.pusher=s,this.options=n,this.eventFormatter=new dP(this.options.namespace),this.subscribe()}subscribe(){this.subscription=this.pusher.subscribe(this.name)}unsubscribe(){this.pusher.unsubscribe(this.name)}listen(s,a){return this.on(this.eventFormatter.format(s),a),this}listenToAll(s){return this.subscription.bind_global((a,n)=>{if(a.startsWith("pusher:"))return;let r=String(this.options.namespace??"").replace(/\./g,"\\"),i=a.startsWith(r)?a.substring(r.length+1):"."+a;s(i,n)}),this}stopListening(s,a){return a?this.subscription.unbind(this.eventFormatter.format(s),a):this.subscription.unbind(this.eventFormatter.format(s)),this}stopListeningToAll(s){return s?this.subscription.unbind_global(s):this.subscription.unbind_global(),this}subscribed(s){return this.on("pusher:subscription_succeeded",()=>{s()}),this}error(s){return this.on("pusher:subscription_error",a=>{s(a)}),this}on(s,a){return this.subscription.bind(s,a),this}}class uP extends m1{whisper(s,a){return this.pusher.channels.channels[this.name].trigger(`client-${s}`,a),this}}class dee extends m1{whisper(s,a){return this.pusher.channels.channels[this.name].trigger(`client-${s}`,a),this}}class uee extends uP{here(s){return this.on("pusher:subscription_succeeded",a=>{s(Object.keys(a.members).map(n=>a.members[n]))}),this}joining(s){return this.on("pusher:member_added",a=>{s(a.info)}),this}whisper(s,a){return this.pusher.channels.channels[this.name].trigger(`client-${s}`,a),this}leaving(s){return this.on("pusher:member_removed",a=>{s(a.info)}),this}}class hP extends h1{constructor(s,a,n){super(),this.events={},this.listeners={},this.name=a,this.socket=s,this.options=n,this.eventFormatter=new dP(this.options.namespace),this.subscribe()}subscribe(){this.socket.emit("subscribe",{channel:this.name,auth:this.options.auth||{}})}unsubscribe(){this.unbind(),this.socket.emit("unsubscribe",{channel:this.name,auth:this.options.auth||{}})}listen(s,a){return this.on(this.eventFormatter.format(s),a),this}stopListening(s,a){return this.unbindEvent(this.eventFormatter.format(s),a),this}subscribed(s){return this.on("connect",a=>{s(a)}),this}error(s){return this}on(s,a){return this.listeners[s]=this.listeners[s]||[],this.events[s]||(this.events[s]=(n,r)=>{this.name===n&&this.listeners[s]&&this.listeners[s].forEach(i=>i(r))},this.socket.on(s,this.events[s])),this.listeners[s].push(a),this}unbind(){Object.keys(this.events).forEach(s=>{this.unbindEvent(s)})}unbindEvent(s,a){this.listeners[s]=this.listeners[s]||[],a&&(this.listeners[s]=this.listeners[s].filter(n=>n!==a)),(!a||this.listeners[s].length===0)&&(this.events[s]&&(this.socket.removeListener(s,this.events[s]),delete this.events[s]),delete this.listeners[s])}}class mP extends hP{whisper(s,a){return this.socket.emit("client event",{channel:this.name,event:`client-${s}`,data:a}),this}}class hee extends mP{here(s){return this.on("presence:subscribed",a=>{s(a.map(n=>n.user_info))}),this}joining(s){return this.on("presence:joining",a=>s(a.user_info)),this}whisper(s,a){return this.socket.emit("client event",{channel:this.name,event:`client-${s}`,data:a}),this}leaving(s){return this.on("presence:leaving",a=>s(a.user_info)),this}}class Gg extends h1{subscribe(){}unsubscribe(){}listen(s,a){return this}listenToAll(s){return this}stopListening(s,a){return this}subscribed(s){return this}error(s){return this}on(s,a){return this}}class fP extends Gg{whisper(s,a){return this}}class mee extends Gg{whisper(s,a){return this}}class fee extends fP{here(s){return this}joining(s){return this}whisper(s,a){return this}leaving(s){return this}}const pP=class gP{constructor(s){this.setOptions(s),this.connect()}setOptions(s){this.options={...gP._defaultOptions,...s,broadcaster:s.broadcaster};let a=this.csrfToken();a&&(this.options.auth.headers["X-CSRF-TOKEN"]=a,this.options.userAuthentication.headers["X-CSRF-TOKEN"]=a),a=this.options.bearerToken,a&&(this.options.auth.headers.Authorization="Bearer "+a,this.options.userAuthentication.headers.Authorization="Bearer "+a)}csrfToken(){var s,a;return typeof window<"u"&&(s=window.Laravel)!=null&&s.csrfToken?window.Laravel.csrfToken:this.options.csrfToken?this.options.csrfToken:typeof document<"u"&&typeof document.querySelector=="function"?((a=document.querySelector('meta[name="csrf-token"]'))==null?void 0:a.getAttribute("content"))??null:null}};pP._defaultOptions={auth:{headers:{}},authEndpoint:"/broadcasting/auth",userAuthentication:{endpoint:"/broadcasting/user-auth",headers:{}},csrfToken:null,bearerToken:null,host:null,key:null,namespace:"App.Events"};let f1=pP;class Mp extends f1{constructor(){super(...arguments),this.channels={}}connect(){if(typeof this.options.client<"u")this.pusher=this.options.client;else if(this.options.Pusher)this.pusher=new this.options.Pusher(this.options.key,this.options);else if(typeof window<"u"&&typeof window.Pusher<"u")this.pusher=new window.Pusher(this.options.key,this.options);else throw new Error("Pusher client not found. Should be globally available or passed via options.client")}signin(){this.pusher.signin()}listen(s,a,n){return this.channel(s).listen(a,n)}channel(s){return this.channels[s]||(this.channels[s]=new m1(this.pusher,s,this.options)),this.channels[s]}privateChannel(s){return this.channels["private-"+s]||(this.channels["private-"+s]=new uP(this.pusher,"private-"+s,this.options)),this.channels["private-"+s]}encryptedPrivateChannel(s){return this.channels["private-encrypted-"+s]||(this.channels["private-encrypted-"+s]=new dee(this.pusher,"private-encrypted-"+s,this.options)),this.channels["private-encrypted-"+s]}presenceChannel(s){return this.channels["presence-"+s]||(this.channels["presence-"+s]=new uee(this.pusher,"presence-"+s,this.options)),this.channels["presence-"+s]}leave(s){[s,"private-"+s,"private-encrypted-"+s,"presence-"+s].forEach(a=>{this.leaveChannel(a)})}leaveChannel(s){this.channels[s]&&(this.channels[s].unsubscribe(),delete this.channels[s])}socketId(){return this.pusher.connection.socket_id}disconnect(){this.pusher.disconnect()}}class pee extends f1{constructor(){super(...arguments),this.channels={}}connect(){let s=this.getSocketIO();this.socket=s(this.options.host??void 0,this.options),this.socket.io.on("reconnect",()=>{Object.values(this.channels).forEach(a=>{a.subscribe()})})}getSocketIO(){if(typeof this.options.client<"u")return this.options.client;if(typeof window<"u"&&typeof window.io<"u")return window.io;throw new Error("Socket.io client not found. Should be globally available or passed via options.client")}listen(s,a,n){return this.channel(s).listen(a,n)}channel(s){return this.channels[s]||(this.channels[s]=new hP(this.socket,s,this.options)),this.channels[s]}privateChannel(s){return this.channels["private-"+s]||(this.channels["private-"+s]=new mP(this.socket,"private-"+s,this.options)),this.channels["private-"+s]}presenceChannel(s){return this.channels["presence-"+s]||(this.channels["presence-"+s]=new hee(this.socket,"presence-"+s,this.options)),this.channels["presence-"+s]}leave(s){[s,"private-"+s,"presence-"+s].forEach(a=>{this.leaveChannel(a)})}leaveChannel(s){this.channels[s]&&(this.channels[s].unsubscribe(),delete this.channels[s])}socketId(){return this.socket.id}disconnect(){this.socket.disconnect()}}class NA extends f1{constructor(){super(...arguments),this.channels={}}connect(){}listen(s,a,n){return new Gg}channel(s){return new Gg}privateChannel(s){return new fP}encryptedPrivateChannel(s){return new mee}presenceChannel(s){return new fee}leave(s){}leaveChannel(s){}socketId(){return"fake-socket-id"}disconnect(){}}class xP{constructor(s){this.options=s,this.connect(),this.options.withoutInterceptors||this.registerInterceptors()}channel(s){return this.connector.channel(s)}connect(){if(this.options.broadcaster==="reverb")this.connector=new Mp({...this.options,cluster:""});else if(this.options.broadcaster==="pusher")this.connector=new Mp(this.options);else if(this.options.broadcaster==="ably")this.connector=new Mp({...this.options,cluster:"",broadcaster:"pusher"});else if(this.options.broadcaster==="socket.io")this.connector=new pee(this.options);else if(this.options.broadcaster==="null")this.connector=new NA(this.options);else if(typeof this.options.broadcaster=="function"&&cee(this.options.broadcaster))this.connector=new this.options.broadcaster(this.options);else throw new Error(`Broadcaster ${typeof this.options.broadcaster} ${String(this.options.broadcaster)} is not supported.`)}disconnect(){this.connector.disconnect()}join(s){return this.connector.presenceChannel(s)}leave(s){this.connector.leave(s)}leaveChannel(s){this.connector.leaveChannel(s)}leaveAllChannels(){for(const s in this.connector.channels)this.leaveChannel(s)}listen(s,a,n){return this.connector.listen(s,a,n)}private(s){return this.connector.privateChannel(s)}encryptedPrivate(s){if(this.connectorSupportsEncryptedPrivateChannels(this.connector))return this.connector.encryptedPrivateChannel(s);throw new Error(`Broadcaster ${typeof this.options.broadcaster} ${String(this.options.broadcaster)} does not support encrypted private channels.`)}connectorSupportsEncryptedPrivateChannels(s){return s instanceof Mp||s instanceof NA}socketId(){return this.connector.socketId()}registerInterceptors(){typeof Vue<"u"&&Vue!=null&&Vue.http&&this.registerVueRequestInterceptor(),typeof axios=="function"&&this.registerAxiosRequestInterceptor(),typeof jQuery=="function"&&this.registerjQueryAjaxSetup(),typeof Turbo=="object"&&this.registerTurboRequestInterceptor()}registerVueRequestInterceptor(){Vue.http.interceptors.push((s,a)=>{this.socketId()&&s.headers.set("X-Socket-ID",this.socketId()),a()})}registerAxiosRequestInterceptor(){axios.interceptors.request.use(s=>(this.socketId()&&(s.headers["X-Socket-Id"]=this.socketId()),s))}registerjQueryAjaxSetup(){typeof jQuery.ajax<"u"&&jQuery.ajaxPrefilter((s,a,n)=>{this.socketId()&&n.setRequestHeader("X-Socket-Id",this.socketId())})}registerTurboRequestInterceptor(){document.addEventListener("turbo:before-fetch-request",s=>{s.detail.fetchOptions.headers["X-Socket-Id"]=this.socketId()})}}var Zb={exports:{}};var _A;function gee(){return _A||(_A=1,(function(t,s){(function(n,r){t.exports=r()})(window,function(){return(function(a){var n={};function r(i){if(n[i])return n[i].exports;var l=n[i]={i,l:!1,exports:{}};return a[i].call(l.exports,l,l.exports,r),l.l=!0,l.exports}return r.m=a,r.c=n,r.d=function(i,l,d){r.o(i,l)||Object.defineProperty(i,l,{enumerable:!0,get:d})},r.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},r.t=function(i,l){if(l&1&&(i=r(i)),l&8||l&4&&typeof i=="object"&&i&&i.__esModule)return i;var d=Object.create(null);if(r.r(d),Object.defineProperty(d,"default",{enumerable:!0,value:i}),l&2&&typeof i!="string")for(var u in i)r.d(d,u,(function(h){return i[h]}).bind(null,u));return d},r.n=function(i){var l=i&&i.__esModule?function(){return i.default}:function(){return i};return r.d(l,"a",l),l},r.o=function(i,l){return Object.prototype.hasOwnProperty.call(i,l)},r.p="",r(r.s=2)})([(function(a,n,r){var i=this&&this.__extends||(function(){var N=function(w,_){return N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,R){T.__proto__=R}||function(T,R){for(var E in R)R.hasOwnProperty(E)&&(T[E]=R[E])},N(w,_)};return function(w,_){N(w,_);function T(){this.constructor=w}w.prototype=_===null?Object.create(_):(T.prototype=_.prototype,new T)}})();Object.defineProperty(n,"__esModule",{value:!0});var l=256,d=(function(){function N(w){w===void 0&&(w="="),this._paddingCharacter=w}return N.prototype.encodedLength=function(w){return this._paddingCharacter?(w+2)/3*4|0:(w*8+5)/6|0},N.prototype.encode=function(w){for(var _="",T=0;T<w.length-2;T+=3){var R=w[T]<<16|w[T+1]<<8|w[T+2];_+=this._encodeByte(R>>>18&63),_+=this._encodeByte(R>>>12&63),_+=this._encodeByte(R>>>6&63),_+=this._encodeByte(R>>>0&63)}var E=w.length-T;if(E>0){var R=w[T]<<16|(E===2?w[T+1]<<8:0);_+=this._encodeByte(R>>>18&63),_+=this._encodeByte(R>>>12&63),E===2?_+=this._encodeByte(R>>>6&63):_+=this._paddingCharacter||"",_+=this._paddingCharacter||""}return _},N.prototype.maxDecodedLength=function(w){return this._paddingCharacter?w/4*3|0:(w*6+7)/8|0},N.prototype.decodedLength=function(w){return this.maxDecodedLength(w.length-this._getPaddingLength(w))},N.prototype.decode=function(w){if(w.length===0)return new Uint8Array(0);for(var _=this._getPaddingLength(w),T=w.length-_,R=new Uint8Array(this.maxDecodedLength(T)),E=0,A=0,V=0,k=0,B=0,P=0,H=0;A<T-4;A+=4)k=this._decodeChar(w.charCodeAt(A+0)),B=this._decodeChar(w.charCodeAt(A+1)),P=this._decodeChar(w.charCodeAt(A+2)),H=this._decodeChar(w.charCodeAt(A+3)),R[E++]=k<<2|B>>>4,R[E++]=B<<4|P>>>2,R[E++]=P<<6|H,V|=k&l,V|=B&l,V|=P&l,V|=H&l;if(A<T-1&&(k=this._decodeChar(w.charCodeAt(A)),B=this._decodeChar(w.charCodeAt(A+1)),R[E++]=k<<2|B>>>4,V|=k&l,V|=B&l),A<T-2&&(P=this._decodeChar(w.charCodeAt(A+2)),R[E++]=B<<4|P>>>2,V|=P&l),A<T-3&&(H=this._decodeChar(w.charCodeAt(A+3)),R[E++]=P<<6|H,V|=H&l),V!==0)throw new Error("Base64Coder: incorrect characters for decoding");return R},N.prototype._encodeByte=function(w){var _=w;return _+=65,_+=25-w>>>8&6,_+=51-w>>>8&-75,_+=61-w>>>8&-15,_+=62-w>>>8&3,String.fromCharCode(_)},N.prototype._decodeChar=function(w){var _=l;return _+=(42-w&w-44)>>>8&-l+w-43+62,_+=(46-w&w-48)>>>8&-l+w-47+63,_+=(47-w&w-58)>>>8&-l+w-48+52,_+=(64-w&w-91)>>>8&-l+w-65+0,_+=(96-w&w-123)>>>8&-l+w-97+26,_},N.prototype._getPaddingLength=function(w){var _=0;if(this._paddingCharacter){for(var T=w.length-1;T>=0&&w[T]===this._paddingCharacter;T--)_++;if(w.length<4||_>2)throw new Error("Base64Coder: incorrect padding")}return _},N})();n.Coder=d;var u=new d;function h(N){return u.encode(N)}n.encode=h;function p(N){return u.decode(N)}n.decode=p;var f=(function(N){i(w,N);function w(){return N!==null&&N.apply(this,arguments)||this}return w.prototype._encodeByte=function(_){var T=_;return T+=65,T+=25-_>>>8&6,T+=51-_>>>8&-75,T+=61-_>>>8&-13,T+=62-_>>>8&49,String.fromCharCode(T)},w.prototype._decodeChar=function(_){var T=l;return T+=(44-_&_-46)>>>8&-l+_-45+62,T+=(94-_&_-96)>>>8&-l+_-95+63,T+=(47-_&_-58)>>>8&-l+_-48+52,T+=(64-_&_-91)>>>8&-l+_-65+0,T+=(96-_&_-123)>>>8&-l+_-97+26,T},w})(d);n.URLSafeCoder=f;var y=new f;function v(N){return y.encode(N)}n.encodeURLSafe=v;function j(N){return y.decode(N)}n.decodeURLSafe=j,n.encodedLength=function(N){return u.encodedLength(N)},n.maxDecodedLength=function(N){return u.maxDecodedLength(N)},n.decodedLength=function(N){return u.decodedLength(N)}}),(function(a,n,r){Object.defineProperty(n,"__esModule",{value:!0});var i="utf8: invalid string",l="utf8: invalid source encoding";function d(p){for(var f=new Uint8Array(u(p)),y=0,v=0;v<p.length;v++){var j=p.charCodeAt(v);j<128?f[y++]=j:j<2048?(f[y++]=192|j>>6,f[y++]=128|j&63):j<55296?(f[y++]=224|j>>12,f[y++]=128|j>>6&63,f[y++]=128|j&63):(v++,j=(j&1023)<<10,j|=p.charCodeAt(v)&1023,j+=65536,f[y++]=240|j>>18,f[y++]=128|j>>12&63,f[y++]=128|j>>6&63,f[y++]=128|j&63)}return f}n.encode=d;function u(p){for(var f=0,y=0;y<p.length;y++){var v=p.charCodeAt(y);if(v<128)f+=1;else if(v<2048)f+=2;else if(v<55296)f+=3;else if(v<=57343){if(y>=p.length-1)throw new Error(i);y++,f+=4}else throw new Error(i)}return f}n.encodedLength=u;function h(p){for(var f=[],y=0;y<p.length;y++){var v=p[y];if(v&128){var j=void 0;if(v<224){if(y>=p.length)throw new Error(l);var N=p[++y];if((N&192)!==128)throw new Error(l);v=(v&31)<<6|N&63,j=128}else if(v<240){if(y>=p.length-1)throw new Error(l);var N=p[++y],w=p[++y];if((N&192)!==128||(w&192)!==128)throw new Error(l);v=(v&15)<<12|(N&63)<<6|w&63,j=2048}else if(v<248){if(y>=p.length-2)throw new Error(l);var N=p[++y],w=p[++y],_=p[++y];if((N&192)!==128||(w&192)!==128||(_&192)!==128)throw new Error(l);v=(v&15)<<18|(N&63)<<12|(w&63)<<6|_&63,j=65536}else throw new Error(l);if(v<j||v>=55296&&v<=57343)throw new Error(l);if(v>=65536){if(v>1114111)throw new Error(l);v-=65536,f.push(String.fromCharCode(55296|v>>10)),v=56320|v&1023}}f.push(String.fromCharCode(v))}return f.join("")}n.decode=h}),(function(a,n,r){a.exports=r(3).default}),(function(a,n,r){r.r(n);class i{constructor(S,L){this.lastId=0,this.prefix=S,this.name=L}create(S){this.lastId++;var L=this.lastId,ae=this.prefix+L,ue=this.name+"["+L+"]",Le=!1,Qe=function(){Le||(S.apply(null,arguments),Le=!0)};return this[L]=Qe,{number:L,id:ae,name:ue,callback:Qe}}remove(S){delete this[S.number]}}var l=new i("_pusher_script_","Pusher.ScriptReceivers"),d={VERSION:"8.4.0",PROTOCOL:7,wsPort:80,wssPort:443,wsPath:"",httpHost:"sockjs.pusher.com",httpPort:80,httpsPort:443,httpPath:"/pusher",stats_host:"stats.pusher.com",authEndpoint:"/pusher/auth",authTransport:"ajax",activityTimeout:12e4,pongTimeout:3e4,unavailableTimeout:1e4,userAuthentication:{endpoint:"/pusher/user-auth",transport:"ajax"},channelAuthorization:{endpoint:"/pusher/auth",transport:"ajax"},cdn_http:"http://js.pusher.com",cdn_https:"https://js.pusher.com",dependency_suffix:""},u=d;class h{constructor(S){this.options=S,this.receivers=S.receivers||l,this.loading={}}load(S,L,ae){var ue=this;if(ue.loading[S]&&ue.loading[S].length>0)ue.loading[S].push(ae);else{ue.loading[S]=[ae];var Le=St.createScriptRequest(ue.getPath(S,L)),Qe=ue.receivers.create(function(ht){if(ue.receivers.remove(Qe),ue.loading[S]){var Lt=ue.loading[S];delete ue.loading[S];for(var Kt=function(na){na||Le.cleanup()},ts=0;ts<Lt.length;ts++)Lt[ts](ht,Kt)}});Le.send(Qe)}}getRoot(S){var L,ae=St.getDocument().location.protocol;return S&&S.useTLS||ae==="https:"?L=this.options.cdn_https:L=this.options.cdn_http,L.replace(/\/*$/,"")+"/"+this.options.version}getPath(S,L){return this.getRoot(L)+"/"+S+this.options.suffix+".js"}}var p=new i("_pusher_dependencies","Pusher.DependenciesReceivers"),f=new h({cdn_http:u.cdn_http,cdn_https:u.cdn_https,version:u.VERSION,suffix:u.dependency_suffix,receivers:p});const y={baseUrl:"https://pusher.com",urls:{authenticationEndpoint:{path:"/docs/channels/server_api/authenticating_users"},authorizationEndpoint:{path:"/docs/channels/server_api/authorizing-users/"},javascriptQuickStart:{path:"/docs/javascript_quick_start"},triggeringClientEvents:{path:"/docs/client_api_guide/client_events#trigger-events"},encryptedChannelSupport:{fullUrl:"https://github.com/pusher/pusher-js/tree/cc491015371a4bde5743d1c87a0fbac0feb53195#encrypted-channel-support"}}};var j={buildLogSuffix:function($){const S="See:",L=y.urls[$];if(!L)return"";let ae;return L.fullUrl?ae=L.fullUrl:L.path&&(ae=y.baseUrl+L.path),ae?`${S} ${ae}`:""}},N;(function($){$.UserAuthentication="user-authentication",$.ChannelAuthorization="channel-authorization"})(N||(N={}));class w extends Error{constructor(S){super(S),Object.setPrototypeOf(this,new.target.prototype)}}class _ extends Error{constructor(S){super(S),Object.setPrototypeOf(this,new.target.prototype)}}class T extends Error{constructor(S){super(S),Object.setPrototypeOf(this,new.target.prototype)}}class R extends Error{constructor(S){super(S),Object.setPrototypeOf(this,new.target.prototype)}}class E extends Error{constructor(S){super(S),Object.setPrototypeOf(this,new.target.prototype)}}class A extends Error{constructor(S){super(S),Object.setPrototypeOf(this,new.target.prototype)}}class V extends Error{constructor(S){super(S),Object.setPrototypeOf(this,new.target.prototype)}}class k extends Error{constructor(S){super(S),Object.setPrototypeOf(this,new.target.prototype)}}class B extends Error{constructor(S,L){super(L),this.status=S,Object.setPrototypeOf(this,new.target.prototype)}}var H=function($,S,L,ae,ue){const Le=St.createXHR();Le.open("POST",L.endpoint,!0),Le.setRequestHeader("Content-Type","application/x-www-form-urlencoded");for(var Qe in L.headers)Le.setRequestHeader(Qe,L.headers[Qe]);if(L.headersProvider!=null){let ht=L.headersProvider();for(var Qe in ht)Le.setRequestHeader(Qe,ht[Qe])}return Le.onreadystatechange=function(){if(Le.readyState===4)if(Le.status===200){let ht,Lt=!1;try{ht=JSON.parse(Le.responseText),Lt=!0}catch{ue(new B(200,`JSON returned from ${ae.toString()} endpoint was invalid, yet status code was 200. Data was: ${Le.responseText}`),null)}Lt&&ue(null,ht)}else{let ht="";switch(ae){case N.UserAuthentication:ht=j.buildLogSuffix("authenticationEndpoint");break;case N.ChannelAuthorization:ht=`Clients must be authorized to join private or presence channels. ${j.buildLogSuffix("authorizationEndpoint")}`;break}ue(new B(Le.status,`Unable to retrieve auth string from ${ae.toString()} endpoint - received status: ${Le.status} from ${L.endpoint}. ${ht}`),null)}},Le.send(S),Le};function D($){return q(te($))}var K=String.fromCharCode,X="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ne=function($){var S=$.charCodeAt(0);return S<128?$:S<2048?K(192|S>>>6)+K(128|S&63):K(224|S>>>12&15)+K(128|S>>>6&63)+K(128|S&63)},te=function($){return $.replace(/[^\x00-\x7F]/g,ne)},U=function($){var S=[0,2,1][$.length%3],L=$.charCodeAt(0)<<16|($.length>1?$.charCodeAt(1):0)<<8|($.length>2?$.charCodeAt(2):0),ae=[X.charAt(L>>>18),X.charAt(L>>>12&63),S>=2?"=":X.charAt(L>>>6&63),S>=1?"=":X.charAt(L&63)];return ae.join("")},q=window.btoa||function($){return $.replace(/[\s\S]{1,3}/g,U)};class G{constructor(S,L,ae,ue){this.clear=L,this.timer=S(()=>{this.timer&&(this.timer=ue(this.timer))},ae)}isRunning(){return this.timer!==null}ensureAborted(){this.timer&&(this.clear(this.timer),this.timer=null)}}var F=G;function M($){window.clearTimeout($)}function z($){window.clearInterval($)}class ie extends F{constructor(S,L){super(setTimeout,M,S,function(ae){return L(),null})}}class le extends F{constructor(S,L){super(setInterval,z,S,function(ae){return L(),ae})}}var re={now(){return Date.now?Date.now():new Date().valueOf()},defer($){return new ie(0,$)},method($,...S){var L=Array.prototype.slice.call(arguments,1);return function(ae){return ae[$].apply(ae,L.concat(arguments))}}},fe=re;function we($,...S){for(var L=0;L<S.length;L++){var ae=S[L];for(var ue in ae)ae[ue]&&ae[ue].constructor&&ae[ue].constructor===Object?$[ue]=we($[ue]||{},ae[ue]):$[ue]=ae[ue]}return $}function ye(){for(var $=["Pusher"],S=0;S<arguments.length;S++)typeof arguments[S]=="string"?$.push(arguments[S]):$.push(he(arguments[S]));return $.join(" : ")}function Be($,S){var L=Array.prototype.indexOf;if($===null)return-1;if(L&&$.indexOf===L)return $.indexOf(S);for(var ae=0,ue=$.length;ae<ue;ae++)if($[ae]===S)return ae;return-1}function ke($,S){for(var L in $)Object.prototype.hasOwnProperty.call($,L)&&S($[L],L,$)}function Ye($){var S=[];return ke($,function(L,ae){S.push(ae)}),S}function rt($){var S=[];return ke($,function(L){S.push(L)}),S}function Se($,S,L){for(var ae=0;ae<$.length;ae++)S.call(L||window,$[ae],ae,$)}function Xe($,S){for(var L=[],ae=0;ae<$.length;ae++)L.push(S($[ae],ae,$,L));return L}function Pe($,S){var L={};return ke($,function(ae,ue){L[ue]=S(ae)}),L}function mt($,S){S=S||function(ue){return!!ue};for(var L=[],ae=0;ae<$.length;ae++)S($[ae],ae,$,L)&&L.push($[ae]);return L}function _t($,S){var L={};return ke($,function(ae,ue){(S&&S(ae,ue,$,L)||ae)&&(L[ue]=ae)}),L}function at($){var S=[];return ke($,function(L,ae){S.push([ae,L])}),S}function ds($,S){for(var L=0;L<$.length;L++)if(S($[L],L,$))return!0;return!1}function us($,S){for(var L=0;L<$.length;L++)if(!S($[L],L,$))return!1;return!0}function Ps($){return Pe($,function(S){return typeof S=="object"&&(S=he(S)),encodeURIComponent(D(S.toString()))})}function pe($){var S=_t($,function(ae){return ae!==void 0}),L=Xe(at(Ps(S)),fe.method("join","=")).join("&");return L}function _e($){var S=[],L=[];return(function ae(ue,Le){var Qe,ht,Lt;switch(typeof ue){case"object":if(!ue)return null;for(Qe=0;Qe<S.length;Qe+=1)if(S[Qe]===ue)return{$ref:L[Qe]};if(S.push(ue),L.push(Le),Object.prototype.toString.apply(ue)==="[object Array]")for(Lt=[],Qe=0;Qe<ue.length;Qe+=1)Lt[Qe]=ae(ue[Qe],Le+"["+Qe+"]");else{Lt={};for(ht in ue)Object.prototype.hasOwnProperty.call(ue,ht)&&(Lt[ht]=ae(ue[ht],Le+"["+JSON.stringify(ht)+"]"))}return Lt;case"number":case"string":case"boolean":return ue}})($,"$")}function he($){try{return JSON.stringify($)}catch{return JSON.stringify(_e($))}}class $e{constructor(){this.globalLog=S=>{window.console&&window.console.log&&window.console.log(S)}}debug(...S){this.log(this.globalLog,S)}warn(...S){this.log(this.globalLogWarn,S)}error(...S){this.log(this.globalLogError,S)}globalLogWarn(S){window.console&&window.console.warn?window.console.warn(S):this.globalLog(S)}globalLogError(S){window.console&&window.console.error?window.console.error(S):this.globalLogWarn(S)}log(S,...L){var ae=ye.apply(this,arguments);Mu.log?Mu.log(ae):Mu.logToConsole&&S.bind(this)(ae)}}var Ve=new $e,dt=function($,S,L,ae,ue){(L.headers!==void 0||L.headersProvider!=null)&&Ve.warn(`To send headers with the ${ae.toString()} request, you must use AJAX, rather than JSONP.`);var Le=$.nextAuthCallbackID.toString();$.nextAuthCallbackID++;var Qe=$.getDocument(),ht=Qe.createElement("script");$.auth_callbacks[Le]=function(ts){ue(null,ts)};var Lt="Pusher.auth_callbacks['"+Le+"']";ht.src=L.endpoint+"?callback="+encodeURIComponent(Lt)+"&"+S;var Kt=Qe.getElementsByTagName("head")[0]||Qe.documentElement;Kt.insertBefore(ht,Kt.firstChild)},xt=dt;class ot{constructor(S){this.src=S}send(S){var L=this,ae="Error loading "+L.src;L.script=document.createElement("script"),L.script.id=S.id,L.script.src=L.src,L.script.type="text/javascript",L.script.charset="UTF-8",L.script.addEventListener?(L.script.onerror=function(){S.callback(ae)},L.script.onload=function(){S.callback(null)}):L.script.onreadystatechange=function(){(L.script.readyState==="loaded"||L.script.readyState==="complete")&&S.callback(null)},L.script.async===void 0&&document.attachEvent&&/opera/i.test(navigator.userAgent)?(L.errorScript=document.createElement("script"),L.errorScript.id=S.id+"_error",L.errorScript.text=S.name+"('"+ae+"');",L.script.async=L.errorScript.async=!1):L.script.async=!0;var ue=document.getElementsByTagName("head")[0];ue.insertBefore(L.script,ue.firstChild),L.errorScript&&ue.insertBefore(L.errorScript,L.script.nextSibling)}cleanup(){this.script&&(this.script.onload=this.script.onerror=null,this.script.onreadystatechange=null),this.script&&this.script.parentNode&&this.script.parentNode.removeChild(this.script),this.errorScript&&this.errorScript.parentNode&&this.errorScript.parentNode.removeChild(this.errorScript),this.script=null,this.errorScript=null}}class It{constructor(S,L){this.url=S,this.data=L}send(S){if(!this.request){var L=pe(this.data),ae=this.url+"/"+S.number+"?"+L;this.request=St.createScriptRequest(ae),this.request.send(S)}}cleanup(){this.request&&this.request.cleanup()}}var Dt=function($,S){return function(L,ae){var ue="http"+(S?"s":"")+"://",Le=ue+($.host||$.options.host)+$.options.path,Qe=St.createJSONPRequest(Le,L),ht=St.ScriptReceivers.create(function(Lt,Kt){l.remove(ht),Qe.cleanup(),Kt&&Kt.host&&($.host=Kt.host),ae&&ae(Lt,Kt)});Qe.send(ht)}},es={name:"jsonp",getAgent:Dt},Us=es;function is($,S,L){var ae=$+(S.useTLS?"s":""),ue=S.useTLS?S.hostTLS:S.hostNonTLS;return ae+"://"+ue+L}function bs($,S){var L="/app/"+$,ae="?protocol="+u.PROTOCOL+"&client=js&version="+u.VERSION+(S?"&"+S:"");return L+ae}var Me={getInitial:function($,S){var L=(S.httpPath||"")+bs($,"flash=false");return is("ws",S,L)}},Ue={getInitial:function($,S){var L=(S.httpPath||"/pusher")+bs($);return is("http",S,L)}},Fe={getInitial:function($,S){return is("http",S,S.httpPath||"/pusher")},getPath:function($,S){return bs($)}};class os{constructor(){this._callbacks={}}get(S){return this._callbacks[Es(S)]}add(S,L,ae){var ue=Es(S);this._callbacks[ue]=this._callbacks[ue]||[],this._callbacks[ue].push({fn:L,context:ae})}remove(S,L,ae){if(!S&&!L&&!ae){this._callbacks={};return}var ue=S?[Es(S)]:Ye(this._callbacks);L||ae?this.removeCallback(ue,L,ae):this.removeAllCallbacks(ue)}removeCallback(S,L,ae){Se(S,function(ue){this._callbacks[ue]=mt(this._callbacks[ue]||[],function(Le){return L&&L!==Le.fn||ae&&ae!==Le.context}),this._callbacks[ue].length===0&&delete this._callbacks[ue]},this)}removeAllCallbacks(S){Se(S,function(L){delete this._callbacks[L]},this)}}function Es($){return"_"+$}class js{constructor(S){this.callbacks=new os,this.global_callbacks=[],this.failThrough=S}bind(S,L,ae){return this.callbacks.add(S,L,ae),this}bind_global(S){return this.global_callbacks.push(S),this}unbind(S,L,ae){return this.callbacks.remove(S,L,ae),this}unbind_global(S){return S?(this.global_callbacks=mt(this.global_callbacks||[],L=>L!==S),this):(this.global_callbacks=[],this)}unbind_all(){return this.unbind(),this.unbind_global(),this}emit(S,L,ae){for(var ue=0;ue<this.global_callbacks.length;ue++)this.global_callbacks[ue](S,L);var Le=this.callbacks.get(S),Qe=[];if(ae?Qe.push(L,ae):L&&Qe.push(L),Le&&Le.length>0)for(var ue=0;ue<Le.length;ue++)Le[ue].fn.apply(Le[ue].context||window,Qe);else this.failThrough&&this.failThrough(S,L);return this}}class rr extends js{constructor(S,L,ae,ue,Le){super(),this.initialize=St.transportConnectionInitializer,this.hooks=S,this.name=L,this.priority=ae,this.key=ue,this.options=Le,this.state="new",this.timeline=Le.timeline,this.activityTimeout=Le.activityTimeout,this.id=this.timeline.generateUniqueID()}handlesActivityChecks(){return!!this.hooks.handlesActivityChecks}supportsPing(){return!!this.hooks.supportsPing}connect(){if(this.socket||this.state!=="initialized")return!1;var S=this.hooks.urls.getInitial(this.key,this.options);try{this.socket=this.hooks.getSocket(S,this.options)}catch(L){return fe.defer(()=>{this.onError(L),this.changeState("closed")}),!1}return this.bindListeners(),Ve.debug("Connecting",{transport:this.name,url:S}),this.changeState("connecting"),!0}close(){return this.socket?(this.socket.close(),!0):!1}send(S){return this.state==="open"?(fe.defer(()=>{this.socket&&this.socket.send(S)}),!0):!1}ping(){this.state==="open"&&this.supportsPing()&&this.socket.ping()}onOpen(){this.hooks.beforeOpen&&this.hooks.beforeOpen(this.socket,this.hooks.urls.getPath(this.key,this.options)),this.changeState("open"),this.socket.onopen=void 0}onError(S){this.emit("error",{type:"WebSocketError",error:S}),this.timeline.error(this.buildTimelineMessage({error:S.toString()}))}onClose(S){S?this.changeState("closed",{code:S.code,reason:S.reason,wasClean:S.wasClean}):this.changeState("closed"),this.unbindListeners(),this.socket=void 0}onMessage(S){this.emit("message",S)}onActivity(){this.emit("activity")}bindListeners(){this.socket.onopen=()=>{this.onOpen()},this.socket.onerror=S=>{this.onError(S)},this.socket.onclose=S=>{this.onClose(S)},this.socket.onmessage=S=>{this.onMessage(S)},this.supportsPing()&&(this.socket.onactivity=()=>{this.onActivity()})}unbindListeners(){this.socket&&(this.socket.onopen=void 0,this.socket.onerror=void 0,this.socket.onclose=void 0,this.socket.onmessage=void 0,this.supportsPing()&&(this.socket.onactivity=void 0))}changeState(S,L){this.state=S,this.timeline.info(this.buildTimelineMessage({state:S,params:L})),this.emit(S,L)}buildTimelineMessage(S){return we({cid:this.id},S)}}class da{constructor(S){this.hooks=S}isSupported(S){return this.hooks.isSupported(S)}createConnection(S,L,ae,ue){return new rr(this.hooks,S,L,ae,ue)}}var Xa=new da({urls:Me,handlesActivityChecks:!1,supportsPing:!1,isInitialized:function(){return!!St.getWebSocketAPI()},isSupported:function(){return!!St.getWebSocketAPI()},getSocket:function($){return St.createWebSocket($)}}),kt={urls:Ue,handlesActivityChecks:!1,supportsPing:!0,isInitialized:function(){return!0}},Z=we({getSocket:function($){return St.HTTPFactory.createStreamingSocket($)}},kt),yt=we({getSocket:function($){return St.HTTPFactory.createPollingSocket($)}},kt),Hs={isSupported:function(){return St.isXHRSupported()}},gt=new da(we({},Z,Hs)),Ge=new da(we({},yt,Hs)),ls={ws:Xa,xhr_streaming:gt,xhr_polling:Ge},ea=ls,Os=new da({file:"sockjs",urls:Fe,handlesActivityChecks:!0,supportsPing:!1,isSupported:function(){return!0},isInitialized:function(){return window.SockJS!==void 0},getSocket:function($,S){return new window.SockJS($,null,{js_path:f.getPath("sockjs",{useTLS:S.useTLS}),ignore_null_origin:S.ignoreNullOrigin})},beforeOpen:function($,S){$.send(JSON.stringify({path:S}))}}),Ta={isSupported:function($){var S=St.isXDRSupported($.useTLS);return S}},yn=new da(we({},Z,Ta)),dn=new da(we({},yt,Ta));ea.xdr_streaming=yn,ea.xdr_polling=dn,ea.sockjs=Os;var Zr=ea;class Wc extends js{constructor(){super();var S=this;window.addEventListener!==void 0&&(window.addEventListener("online",function(){S.emit("online")},!1),window.addEventListener("offline",function(){S.emit("offline")},!1))}isOnline(){return window.navigator.onLine===void 0?!0:window.navigator.onLine}}var un=new Wc;class ua{constructor(S,L,ae){this.manager=S,this.transport=L,this.minPingDelay=ae.minPingDelay,this.maxPingDelay=ae.maxPingDelay,this.pingDelay=void 0}createConnection(S,L,ae,ue){ue=we({},ue,{activityTimeout:this.pingDelay});var Le=this.transport.createConnection(S,L,ae,ue),Qe=null,ht=function(){Le.unbind("open",ht),Le.bind("closed",Lt),Qe=fe.now()},Lt=Kt=>{if(Le.unbind("closed",Lt),Kt.code===1002||Kt.code===1003)this.manager.reportDeath();else if(!Kt.wasClean&&Qe){var ts=fe.now()-Qe;ts<2*this.maxPingDelay&&(this.manager.reportDeath(),this.pingDelay=Math.max(ts/2,this.minPingDelay))}};return Le.bind("open",ht),Le}isSupported(S){return this.manager.isAlive()&&this.transport.isSupported(S)}}const aa={decodeMessage:function($){try{var S=JSON.parse($.data),L=S.data;if(typeof L=="string")try{L=JSON.parse(S.data)}catch{}var ae={event:S.event,channel:S.channel,data:L};return S.user_id&&(ae.user_id=S.user_id),ae}catch(ue){throw{type:"MessageParseError",error:ue,data:$.data}}},encodeMessage:function($){return JSON.stringify($)},processHandshake:function($){var S=aa.decodeMessage($);if(S.event==="pusher:connection_established"){if(!S.data.activity_timeout)throw"No activity timeout specified in handshake";return{action:"connected",id:S.data.socket_id,activityTimeout:S.data.activity_timeout*1e3}}else{if(S.event==="pusher:error")return{action:this.getCloseAction(S.data),error:this.getCloseError(S.data)};throw"Invalid handshake"}},getCloseAction:function($){return $.code<4e3?$.code>=1002&&$.code<=1004?"backoff":null:$.code===4e3?"tls_only":$.code<4100?"refused":$.code<4200?"backoff":$.code<4300?"retry":"refused"},getCloseError:function($){return $.code!==1e3&&$.code!==1001?{type:"PusherError",data:{code:$.code,message:$.reason||$.message}}:null}};var ga=aa;class Di extends js{constructor(S,L){super(),this.id=S,this.transport=L,this.activityTimeout=L.activityTimeout,this.bindListeners()}handlesActivityChecks(){return this.transport.handlesActivityChecks()}send(S){return this.transport.send(S)}send_event(S,L,ae){var ue={event:S,data:L};return ae&&(ue.channel=ae),Ve.debug("Event sent",ue),this.send(ga.encodeMessage(ue))}ping(){this.transport.supportsPing()?this.transport.ping():this.send_event("pusher:ping",{})}close(){this.transport.close()}bindListeners(){var S={message:ae=>{var ue;try{ue=ga.decodeMessage(ae)}catch(Le){this.emit("error",{type:"MessageParseError",error:Le,data:ae.data})}if(ue!==void 0){switch(Ve.debug("Event recd",ue),ue.event){case"pusher:error":this.emit("error",{type:"PusherError",data:ue.data});break;case"pusher:ping":this.emit("ping");break;case"pusher:pong":this.emit("pong");break}this.emit("message",ue)}},activity:()=>{this.emit("activity")},error:ae=>{this.emit("error",ae)},closed:ae=>{L(),ae&&ae.code&&this.handleCloseEvent(ae),this.transport=null,this.emit("closed")}},L=()=>{ke(S,(ae,ue)=>{this.transport.unbind(ue,ae)})};ke(S,(ae,ue)=>{this.transport.bind(ue,ae)})}handleCloseEvent(S){var L=ga.getCloseAction(S),ae=ga.getCloseError(S);ae&&this.emit("error",ae),L&&this.emit(L,{action:L,error:ae})}}class Ei{constructor(S,L){this.transport=S,this.callback=L,this.bindListeners()}close(){this.unbindListeners(),this.transport.close()}bindListeners(){this.onMessage=S=>{this.unbindListeners();var L;try{L=ga.processHandshake(S)}catch(ae){this.finish("error",{error:ae}),this.transport.close();return}L.action==="connected"?this.finish("connected",{connection:new Di(L.id,this.transport),activityTimeout:L.activityTimeout}):(this.finish(L.action,{error:L.error}),this.transport.close())},this.onClosed=S=>{this.unbindListeners();var L=ga.getCloseAction(S)||"backoff",ae=ga.getCloseError(S);this.finish(L,{error:ae})},this.transport.bind("message",this.onMessage),this.transport.bind("closed",this.onClosed)}unbindListeners(){this.transport.unbind("message",this.onMessage),this.transport.unbind("closed",this.onClosed)}finish(S,L){this.callback(we({transport:this.transport,action:S},L))}}class _o{constructor(S,L){this.timeline=S,this.options=L||{}}send(S,L){this.timeline.isEmpty()||this.timeline.send(St.TimelineTransport.getAgent(this,S),L)}}class ir extends js{constructor(S,L){super(function(ae,ue){Ve.debug("No callbacks on "+S+" for "+ae)}),this.name=S,this.pusher=L,this.subscribed=!1,this.subscriptionPending=!1,this.subscriptionCancelled=!1}authorize(S,L){return L(null,{auth:""})}trigger(S,L){if(S.indexOf("client-")!==0)throw new w("Event '"+S+"' does not start with 'client-'");if(!this.subscribed){var ae=j.buildLogSuffix("triggeringClientEvents");Ve.warn(`Client event triggered before channel 'subscription_succeeded' event . ${ae}`)}return this.pusher.send_event(S,L,this.name)}disconnect(){this.subscribed=!1,this.subscriptionPending=!1}handleEvent(S){var L=S.event,ae=S.data;if(L==="pusher_internal:subscription_succeeded")this.handleSubscriptionSucceededEvent(S);else if(L==="pusher_internal:subscription_count")this.handleSubscriptionCountEvent(S);else if(L.indexOf("pusher_internal:")!==0){var ue={};this.emit(L,ae,ue)}}handleSubscriptionSucceededEvent(S){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):this.emit("pusher:subscription_succeeded",S.data)}handleSubscriptionCountEvent(S){S.data.subscription_count&&(this.subscriptionCount=S.data.subscription_count),this.emit("pusher:subscription_count",S.data)}subscribe(){this.subscribed||(this.subscriptionPending=!0,this.subscriptionCancelled=!1,this.authorize(this.pusher.connection.socket_id,(S,L)=>{S?(this.subscriptionPending=!1,Ve.error(S.toString()),this.emit("pusher:subscription_error",Object.assign({},{type:"AuthError",error:S.message},S instanceof B?{status:S.status}:{}))):this.pusher.send_event("pusher:subscribe",{auth:L.auth,channel_data:L.channel_data,channel:this.name})}))}unsubscribe(){this.subscribed=!1,this.pusher.send_event("pusher:unsubscribe",{channel:this.name})}cancelSubscription(){this.subscriptionCancelled=!0}reinstateSubscription(){this.subscriptionCancelled=!1}}class Rr extends ir{authorize(S,L){return this.pusher.config.channelAuthorizer({channelName:this.name,socketId:S},L)}}class Ol{constructor(){this.reset()}get(S){return Object.prototype.hasOwnProperty.call(this.members,S)?{id:S,info:this.members[S]}:null}each(S){ke(this.members,(L,ae)=>{S(this.get(ae))})}setMyID(S){this.myID=S}onSubscription(S){this.members=S.presence.hash,this.count=S.presence.count,this.me=this.get(this.myID)}addMember(S){return this.get(S.user_id)===null&&this.count++,this.members[S.user_id]=S.user_info,this.get(S.user_id)}removeMember(S){var L=this.get(S.user_id);return L&&(delete this.members[S.user_id],this.count--),L}reset(){this.members={},this.count=0,this.myID=null,this.me=null}}var Jr=function($,S,L,ae){function ue(Le){return Le instanceof L?Le:new L(function(Qe){Qe(Le)})}return new(L||(L=Promise))(function(Le,Qe){function ht(ts){try{Kt(ae.next(ts))}catch(na){Qe(na)}}function Lt(ts){try{Kt(ae.throw(ts))}catch(na){Qe(na)}}function Kt(ts){ts.done?Le(ts.value):ue(ts.value).then(ht,Lt)}Kt((ae=ae.apply($,S||[])).next())})};class In extends Rr{constructor(S,L){super(S,L),this.members=new Ol}authorize(S,L){super.authorize(S,(ae,ue)=>Jr(this,void 0,void 0,function*(){if(!ae)if(ue=ue,ue.channel_data!=null){var Le=JSON.parse(ue.channel_data);this.members.setMyID(Le.user_id)}else if(yield this.pusher.user.signinDonePromise,this.pusher.user.user_data!=null)this.members.setMyID(this.pusher.user.user_data.id);else{let Qe=j.buildLogSuffix("authorizationEndpoint");Ve.error(`Invalid auth response for channel '${this.name}', expected 'channel_data' field. ${Qe}, or the user should be signed in.`),L("Invalid auth response");return}L(ae,ue)}))}handleEvent(S){var L=S.event;if(L.indexOf("pusher_internal:")===0)this.handleInternalEvent(S);else{var ae=S.data,ue={};S.user_id&&(ue.user_id=S.user_id),this.emit(L,ae,ue)}}handleInternalEvent(S){var L=S.event,ae=S.data;switch(L){case"pusher_internal:subscription_succeeded":this.handleSubscriptionSucceededEvent(S);break;case"pusher_internal:subscription_count":this.handleSubscriptionCountEvent(S);break;case"pusher_internal:member_added":var ue=this.members.addMember(ae);this.emit("pusher:member_added",ue);break;case"pusher_internal:member_removed":var Le=this.members.removeMember(ae);Le&&this.emit("pusher:member_removed",Le);break}}handleSubscriptionSucceededEvent(S){this.subscriptionPending=!1,this.subscribed=!0,this.subscriptionCancelled?this.pusher.unsubscribe(this.name):(this.members.onSubscription(S.data),this.emit("pusher:subscription_succeeded",this.members))}disconnect(){this.members.reset(),super.disconnect()}}var ei=r(1),$n=r(0);class ks extends Rr{constructor(S,L,ae){super(S,L),this.key=null,this.nacl=ae}authorize(S,L){super.authorize(S,(ae,ue)=>{if(ae){L(ae,ue);return}let Le=ue.shared_secret;if(!Le){L(new Error(`No shared_secret key in auth payload for encrypted channel: ${this.name}`),null);return}this.key=Object($n.decode)(Le),delete ue.shared_secret,L(null,ue)})}trigger(S,L){throw new A("Client events are not currently supported for encrypted channels")}handleEvent(S){var L=S.event,ae=S.data;if(L.indexOf("pusher_internal:")===0||L.indexOf("pusher:")===0){super.handleEvent(S);return}this.handleEncryptedEvent(L,ae)}handleEncryptedEvent(S,L){if(!this.key){Ve.debug("Received encrypted event before key has been retrieved from the authEndpoint");return}if(!L.ciphertext||!L.nonce){Ve.error("Unexpected format for encrypted event, expected object with `ciphertext` and `nonce` fields, got: "+L);return}let ae=Object($n.decode)(L.ciphertext);if(ae.length<this.nacl.secretbox.overheadLength){Ve.error(`Expected encrypted event ciphertext length to be ${this.nacl.secretbox.overheadLength}, got: ${ae.length}`);return}let ue=Object($n.decode)(L.nonce);if(ue.length<this.nacl.secretbox.nonceLength){Ve.error(`Expected encrypted event nonce length to be ${this.nacl.secretbox.nonceLength}, got: ${ue.length}`);return}let Le=this.nacl.secretbox.open(ae,ue,this.key);if(Le===null){Ve.debug("Failed to decrypt an event, probably because it was encrypted with a different key. Fetching a new key from the authEndpoint..."),this.authorize(this.pusher.connection.socket_id,(Qe,ht)=>{if(Qe){Ve.error(`Failed to make a request to the authEndpoint: ${ht}. Unable to fetch new key, so dropping encrypted event`);return}if(Le=this.nacl.secretbox.open(ae,ue,this.key),Le===null){Ve.error("Failed to decrypt event with new key. Dropping encrypted event");return}this.emit(S,this.getDataToEmit(Le))});return}this.emit(S,this.getDataToEmit(Le))}getDataToEmit(S){let L=Object(ei.decode)(S);try{return JSON.parse(L)}catch{return L}}}class Co extends js{constructor(S,L){super(),this.state="initialized",this.connection=null,this.key=S,this.options=L,this.timeline=this.options.timeline,this.usingTLS=this.options.useTLS,this.errorCallbacks=this.buildErrorCallbacks(),this.connectionCallbacks=this.buildConnectionCallbacks(this.errorCallbacks),this.handshakeCallbacks=this.buildHandshakeCallbacks(this.errorCallbacks);var ae=St.getNetwork();ae.bind("online",()=>{this.timeline.info({netinfo:"online"}),(this.state==="connecting"||this.state==="unavailable")&&this.retryIn(0)}),ae.bind("offline",()=>{this.timeline.info({netinfo:"offline"}),this.connection&&this.sendActivityCheck()}),this.updateStrategy()}connect(){if(!(this.connection||this.runner)){if(!this.strategy.isSupported()){this.updateState("failed");return}this.updateState("connecting"),this.startConnecting(),this.setUnavailableTimer()}}send(S){return this.connection?this.connection.send(S):!1}send_event(S,L,ae){return this.connection?this.connection.send_event(S,L,ae):!1}disconnect(){this.disconnectInternally(),this.updateState("disconnected")}isUsingTLS(){return this.usingTLS}startConnecting(){var S=(L,ae)=>{L?this.runner=this.strategy.connect(0,S):ae.action==="error"?(this.emit("error",{type:"HandshakeError",error:ae.error}),this.timeline.error({handshakeError:ae.error})):(this.abortConnecting(),this.handshakeCallbacks[ae.action](ae))};this.runner=this.strategy.connect(0,S)}abortConnecting(){this.runner&&(this.runner.abort(),this.runner=null)}disconnectInternally(){if(this.abortConnecting(),this.clearRetryTimer(),this.clearUnavailableTimer(),this.connection){var S=this.abandonConnection();S.close()}}updateStrategy(){this.strategy=this.options.getStrategy({key:this.key,timeline:this.timeline,useTLS:this.usingTLS})}retryIn(S){this.timeline.info({action:"retry",delay:S}),S>0&&this.emit("connecting_in",Math.round(S/1e3)),this.retryTimer=new ie(S||0,()=>{this.disconnectInternally(),this.connect()})}clearRetryTimer(){this.retryTimer&&(this.retryTimer.ensureAborted(),this.retryTimer=null)}setUnavailableTimer(){this.unavailableTimer=new ie(this.options.unavailableTimeout,()=>{this.updateState("unavailable")})}clearUnavailableTimer(){this.unavailableTimer&&this.unavailableTimer.ensureAborted()}sendActivityCheck(){this.stopActivityCheck(),this.connection.ping(),this.activityTimer=new ie(this.options.pongTimeout,()=>{this.timeline.error({pong_timed_out:this.options.pongTimeout}),this.retryIn(0)})}resetActivityCheck(){this.stopActivityCheck(),this.connection&&!this.connection.handlesActivityChecks()&&(this.activityTimer=new ie(this.activityTimeout,()=>{this.sendActivityCheck()}))}stopActivityCheck(){this.activityTimer&&this.activityTimer.ensureAborted()}buildConnectionCallbacks(S){return we({},S,{message:L=>{this.resetActivityCheck(),this.emit("message",L)},ping:()=>{this.send_event("pusher:pong",{})},activity:()=>{this.resetActivityCheck()},error:L=>{this.emit("error",L)},closed:()=>{this.abandonConnection(),this.shouldRetry()&&this.retryIn(1e3)}})}buildHandshakeCallbacks(S){return we({},S,{connected:L=>{this.activityTimeout=Math.min(this.options.activityTimeout,L.activityTimeout,L.connection.activityTimeout||1/0),this.clearUnavailableTimer(),this.setConnection(L.connection),this.socket_id=this.connection.id,this.updateState("connected",{socket_id:this.socket_id})}})}buildErrorCallbacks(){let S=L=>ae=>{ae.error&&this.emit("error",{type:"WebSocketError",error:ae.error}),L(ae)};return{tls_only:S(()=>{this.usingTLS=!0,this.updateStrategy(),this.retryIn(0)}),refused:S(()=>{this.disconnect()}),backoff:S(()=>{this.retryIn(1e3)}),retry:S(()=>{this.retryIn(0)})}}setConnection(S){this.connection=S;for(var L in this.connectionCallbacks)this.connection.bind(L,this.connectionCallbacks[L]);this.resetActivityCheck()}abandonConnection(){if(this.connection){this.stopActivityCheck();for(var S in this.connectionCallbacks)this.connection.unbind(S,this.connectionCallbacks[S]);var L=this.connection;return this.connection=null,L}}updateState(S,L){var ae=this.state;if(this.state=S,ae!==S){var ue=S;ue==="connected"&&(ue+=" with new socket ID "+L.socket_id),Ve.debug("State changed",ae+" -> "+ue),this.timeline.info({state:S,params:L}),this.emit("state_change",{previous:ae,current:S}),this.emit(S,L)}}shouldRetry(){return this.state==="connecting"||this.state==="connected"}}class Ll{constructor(){this.channels={}}add(S,L){return this.channels[S]||(this.channels[S]=or(S,L)),this.channels[S]}all(){return rt(this.channels)}find(S){return this.channels[S]}remove(S){var L=this.channels[S];return delete this.channels[S],L}disconnect(){ke(this.channels,function(S){S.disconnect()})}}function or($,S){if($.indexOf("private-encrypted-")===0){if(S.config.nacl)return bn.createEncryptedChannel($,S,S.config.nacl);let L="Tried to subscribe to a private-encrypted- channel but no nacl implementation available",ae=j.buildLogSuffix("encryptedChannelSupport");throw new A(`${L}. ${ae}`)}else{if($.indexOf("private-")===0)return bn.createPrivateChannel($,S);if($.indexOf("presence-")===0)return bn.createPresenceChannel($,S);if($.indexOf("#")===0)throw new _('Cannot create a channel with name "'+$+'".');return bn.createChannel($,S)}}var hn={createChannels(){return new Ll},createConnectionManager($,S){return new Co($,S)},createChannel($,S){return new ir($,S)},createPrivateChannel($,S){return new Rr($,S)},createPresenceChannel($,S){return new In($,S)},createEncryptedChannel($,S,L){return new ks($,S,L)},createTimelineSender($,S){return new _o($,S)},createHandshake($,S){return new Ei($,S)},createAssistantToTheTransportManager($,S,L){return new ua($,S,L)}},bn=hn;class ko{constructor(S){this.options=S||{},this.livesLeft=this.options.lives||1/0}getAssistant(S){return bn.createAssistantToTheTransportManager(this,S,{minPingDelay:this.options.minPingDelay,maxPingDelay:this.options.maxPingDelay})}isAlive(){return this.livesLeft>0}reportDeath(){this.livesLeft-=1}}class zn{constructor(S,L){this.strategies=S,this.loop=!!L.loop,this.failFast=!!L.failFast,this.timeout=L.timeout,this.timeoutLimit=L.timeoutLimit}isSupported(){return ds(this.strategies,fe.method("isSupported"))}connect(S,L){var ae=this.strategies,ue=0,Le=this.timeout,Qe=null,ht=(Lt,Kt)=>{Kt?L(null,Kt):(ue=ue+1,this.loop&&(ue=ue%ae.length),ue<ae.length?(Le&&(Le=Le*2,this.timeoutLimit&&(Le=Math.min(Le,this.timeoutLimit))),Qe=this.tryStrategy(ae[ue],S,{timeout:Le,failFast:this.failFast},ht)):L(!0))};return Qe=this.tryStrategy(ae[ue],S,{timeout:Le,failFast:this.failFast},ht),{abort:function(){Qe.abort()},forceMinPriority:function(Lt){S=Lt,Qe&&Qe.forceMinPriority(Lt)}}}tryStrategy(S,L,ae,ue){var Le=null,Qe=null;return ae.timeout>0&&(Le=new ie(ae.timeout,function(){Qe.abort(),ue(!0)})),Qe=S.connect(L,function(ht,Lt){ht&&Le&&Le.isRunning()&&!ae.failFast||(Le&&Le.ensureAborted(),ue(ht,Lt))}),{abort:function(){Le&&Le.ensureAborted(),Qe.abort()},forceMinPriority:function(ht){Qe.forceMinPriority(ht)}}}}class Vn{constructor(S){this.strategies=S}isSupported(){return ds(this.strategies,fe.method("isSupported"))}connect(S,L){return Ri(this.strategies,S,function(ae,ue){return function(Le,Qe){if(ue[ae].error=Le,Le){Mi(ue)&&L(!0);return}Se(ue,function(ht){ht.forceMinPriority(Qe.transport.priority)}),L(null,Qe)}})}}function Ri($,S,L){var ae=Xe($,function(ue,Le,Qe,ht){return ue.connect(S,L(Le,ht))});return{abort:function(){Se(ae,vn)},forceMinPriority:function(ue){Se(ae,function(Le){Le.forceMinPriority(ue)})}}}function Mi($){return us($,function(S){return!!S.error})}function vn($){!$.error&&!$.aborted&&($.abort(),$.aborted=!0)}class Ba{constructor(S,L,ae){this.strategy=S,this.transports=L,this.ttl=ae.ttl||1800*1e3,this.usingTLS=ae.useTLS,this.timeline=ae.timeline}isSupported(){return this.strategy.isSupported()}connect(S,L){var ae=this.usingTLS,ue=Su(ae),Le=ue&&ue.cacheSkipCount?ue.cacheSkipCount:0,Qe=[this.strategy];if(ue&&ue.timestamp+this.ttl>=fe.now()){var ht=this.transports[ue.transport];ht&&(["ws","wss"].includes(ue.transport)||Le>3?(this.timeline.info({cached:!0,transport:ue.transport,latency:ue.latency}),Qe.push(new zn([ht],{timeout:ue.latency*2+1e3,failFast:!0}))):Le++)}var Lt=fe.now(),Kt=Qe.pop().connect(S,function ts(na,Ul){na?(So(ae),Qe.length>0?(Lt=fe.now(),Kt=Qe.pop().connect(S,ts)):L(na)):(Bl(ae,Ul.transport.name,fe.now()-Lt,Le),L(null,Ul))});return{abort:function(){Kt.abort()},forceMinPriority:function(ts){S=ts,Kt&&Kt.forceMinPriority(ts)}}}}function Pi($){return"pusherTransport"+($?"TLS":"NonTLS")}function Su($){var S=St.getLocalStorage();if(S)try{var L=S[Pi($)];if(L)return JSON.parse(L)}catch{So($)}return null}function Bl($,S,L,ae){var ue=St.getLocalStorage();if(ue)try{ue[Pi($)]=he({timestamp:fe.now(),transport:S,latency:L,cacheSkipCount:ae})}catch{}}function So($){var S=St.getLocalStorage();if(S)try{delete S[Pi($)]}catch{}}class Mr{constructor(S,{delay:L}){this.strategy=S,this.options={delay:L}}isSupported(){return this.strategy.isSupported()}connect(S,L){var ae=this.strategy,ue,Le=new ie(this.options.delay,function(){ue=ae.connect(S,L)});return{abort:function(){Le.ensureAborted(),ue&&ue.abort()},forceMinPriority:function(Qe){S=Qe,ue&&ue.forceMinPriority(Qe)}}}}class ti{constructor(S,L,ae){this.test=S,this.trueBranch=L,this.falseBranch=ae}isSupported(){var S=this.test()?this.trueBranch:this.falseBranch;return S.isSupported()}connect(S,L){var ae=this.test()?this.trueBranch:this.falseBranch;return ae.connect(S,L)}}class xa{constructor(S){this.strategy=S}isSupported(){return this.strategy.isSupported()}connect(S,L){var ae=this.strategy.connect(S,function(ue,Le){Le&&ae.abort(),L(ue,Le)});return ae}}function Pr($){return function(){return $.isSupported()}}var Fl=function($,S,L){var ae={};function ue(Hl,df,uf,Iu,$u){var zu=L($,Hl,df,uf,Iu,$u);return ae[Hl]=zu,zu}var Le=Object.assign({},S,{hostNonTLS:$.wsHost+":"+$.wsPort,hostTLS:$.wsHost+":"+$.wssPort,httpPath:$.wsPath}),Qe=Object.assign({},Le,{useTLS:!0}),ht=Object.assign({},S,{hostNonTLS:$.httpHost+":"+$.httpPort,hostTLS:$.httpHost+":"+$.httpsPort,httpPath:$.httpPath}),Lt={loop:!0,timeout:15e3,timeoutLimit:6e4},Kt=new ko({minPingDelay:1e4,maxPingDelay:$.activityTimeout}),ts=new ko({lives:2,minPingDelay:1e4,maxPingDelay:$.activityTimeout}),na=ue("ws","ws",3,Le,Kt),Ul=ue("wss","ws",3,Qe,Kt),of=ue("sockjs","sockjs",1,ht),Pu=ue("xhr_streaming","xhr_streaming",1,ht,ts),lf=ue("xdr_streaming","xdr_streaming",1,ht,ts),Ou=ue("xhr_polling","xhr_polling",1,ht),Oo=ue("xdr_polling","xdr_polling",1,ht),cf=new zn([na],Lt),u0=new zn([Ul],Lt),h0=new zn([of],Lt),Lu=new zn([new ti(Pr(Pu),Pu,lf)],Lt),Bu=new zn([new ti(Pr(Ou),Ou,Oo)],Lt),Lo=new zn([new ti(Pr(Lu),new Vn([Lu,new Mr(Bu,{delay:4e3})]),Bu)],Lt),Bi=new ti(Pr(Lo),Lo,h0),Fu;return S.useTLS?Fu=new Vn([cf,new Mr(Bi,{delay:2e3})]):Fu=new Vn([cf,new Mr(u0,{delay:2e3}),new Mr(Bi,{delay:5e3})]),new Ba(new xa(new ti(Pr(na),Fu,Bi)),ae,{ttl:18e5,timeline:S.timeline,useTLS:S.useTLS})},Il=Fl,si=(function(){var $=this;$.timeline.info($.buildTimelineMessage({transport:$.name+($.options.useTLS?"s":"")})),$.hooks.isInitialized()?$.changeState("initialized"):$.hooks.file?($.changeState("initializing"),f.load($.hooks.file,{useTLS:$.options.useTLS},function(S,L){$.hooks.isInitialized()?($.changeState("initialized"),L(!0)):(S&&$.onError(S),$.onClose(),L(!1))})):$.onClose()}),Yc={getRequest:function($){var S=new window.XDomainRequest;return S.ontimeout=function(){$.emit("error",new T),$.close()},S.onerror=function(L){$.emit("error",L),$.close()},S.onprogress=function(){S.responseText&&S.responseText.length>0&&$.onChunk(200,S.responseText)},S.onload=function(){S.responseText&&S.responseText.length>0&&$.onChunk(200,S.responseText),$.emit("finished",200),$.close()},S},abortRequest:function($){$.ontimeout=$.onerror=$.onprogress=$.onload=null,$.abort()}},Kc=Yc;const ai=256*1024;class Au extends js{constructor(S,L,ae){super(),this.hooks=S,this.method=L,this.url=ae}start(S){this.position=0,this.xhr=this.hooks.getRequest(this),this.unloader=()=>{this.close()},St.addUnloadListener(this.unloader),this.xhr.open(this.method,this.url,!0),this.xhr.setRequestHeader&&this.xhr.setRequestHeader("Content-Type","application/json"),this.xhr.send(S)}close(){this.unloader&&(St.removeUnloadListener(this.unloader),this.unloader=null),this.xhr&&(this.hooks.abortRequest(this.xhr),this.xhr=null)}onChunk(S,L){for(;;){var ae=this.advanceBuffer(L);if(ae)this.emit("chunk",{status:S,data:ae});else break}this.isBufferTooLong(L)&&this.emit("buffer_too_long")}advanceBuffer(S){var L=S.slice(this.position),ae=L.indexOf(`
`);return ae!==-1?(this.position+=ae+1,L.slice(0,ae)):null}isBufferTooLong(S){return this.position===S.length&&S.length>ai}}var Ao;(function($){$[$.CONNECTING=0]="CONNECTING",$[$.OPEN=1]="OPEN",$[$.CLOSED=3]="CLOSED"})(Ao||(Ao={}));var lr=Ao,$l=1;class Tu{constructor(S,L){this.hooks=S,this.session=Do(1e3)+"/"+Or(8),this.location=Du(L),this.readyState=lr.CONNECTING,this.openStream()}send(S){return this.sendRaw(JSON.stringify([S]))}ping(){this.hooks.sendHeartbeat(this)}close(S,L){this.onClose(S,L,!0)}sendRaw(S){if(this.readyState===lr.OPEN)try{return St.createSocketRequest("POST",jn(To(this.location,this.session))).start(S),!0}catch{return!1}else return!1}reconnect(){this.closeStream(),this.openStream()}onClose(S,L,ae){this.closeStream(),this.readyState=lr.CLOSED,this.onclose&&this.onclose({code:S,reason:L,wasClean:ae})}onChunk(S){if(S.status===200){this.readyState===lr.OPEN&&this.onActivity();var L,ae=S.data.slice(0,1);switch(ae){case"o":L=JSON.parse(S.data.slice(1)||"{}"),this.onOpen(L);break;case"a":L=JSON.parse(S.data.slice(1)||"[]");for(var ue=0;ue<L.length;ue++)this.onEvent(L[ue]);break;case"m":L=JSON.parse(S.data.slice(1)||"null"),this.onEvent(L);break;case"h":this.hooks.onHeartbeat(this);break;case"c":L=JSON.parse(S.data.slice(1)||"[]"),this.onClose(L[0],L[1],!0);break}}}onOpen(S){this.readyState===lr.CONNECTING?(S&&S.hostname&&(this.location.base=zl(this.location.base,S.hostname)),this.readyState=lr.OPEN,this.onopen&&this.onopen()):this.onClose(1006,"Server lost session",!0)}onEvent(S){this.readyState===lr.OPEN&&this.onmessage&&this.onmessage({data:S})}onActivity(){this.onactivity&&this.onactivity()}onError(S){this.onerror&&this.onerror(S)}openStream(){this.stream=St.createSocketRequest("POST",jn(this.hooks.getReceiveURL(this.location,this.session))),this.stream.bind("chunk",S=>{this.onChunk(S)}),this.stream.bind("finished",S=>{this.hooks.onFinished(this,S)}),this.stream.bind("buffer_too_long",()=>{this.reconnect()});try{this.stream.start()}catch(S){fe.defer(()=>{this.onError(S),this.onClose(1006,"Could not start streaming",!1)})}}closeStream(){this.stream&&(this.stream.unbind_all(),this.stream.close(),this.stream=null)}}function Du($){var S=/([^\?]*)\/*(\??.*)/.exec($);return{base:S[1],queryString:S[2]}}function To($,S){return $.base+"/"+S+"/xhr_send"}function jn($){var S=$.indexOf("?")===-1?"?":"&";return $+S+"t="+ +new Date+"&n="+$l++}function zl($,S){var L=/(https?:\/\/)([^\/:]+)((\/|:)?.*)/.exec($);return L[1]+S+L[3]}function Do($){return St.randomInt($)}function Or($){for(var S=[],L=0;L<$;L++)S.push(Do(32).toString(32));return S.join("")}var ni=Tu,Xc={getReceiveURL:function($,S){return $.base+"/"+S+"/xhr_streaming"+$.queryString},onHeartbeat:function($){$.sendRaw("[]")},sendHeartbeat:function($){$.sendRaw("[]")},onFinished:function($,S){$.onClose(1006,"Connection interrupted ("+S+")",!1)}},ri=Xc,Oi={getReceiveURL:function($,S){return $.base+"/"+S+"/xhr"+$.queryString},onHeartbeat:function(){},sendHeartbeat:function($){$.sendRaw("[]")},onFinished:function($,S){S===200?$.reconnect():$.onClose(1006,"Connection interrupted ("+S+")",!1)}},ii=Oi,Un={getRequest:function($){var S=St.getXHRAPI(),L=new S;return L.onreadystatechange=L.onprogress=function(){switch(L.readyState){case 3:L.responseText&&L.responseText.length>0&&$.onChunk(L.status,L.responseText);break;case 4:L.responseText&&L.responseText.length>0&&$.onChunk(L.status,L.responseText),$.emit("finished",L.status),$.close();break}},L},abortRequest:function($){$.onreadystatechange=null,$.abort()}},Vl=Un,Li={createStreamingSocket($){return this.createSocket(ri,$)},createPollingSocket($){return this.createSocket(ii,$)},createSocket($,S){return new ni($,S)},createXHR($,S){return this.createRequest(Vl,$,S)},createRequest($,S,L){return new Au($,S,L)}},wn=Li;wn.createXDR=function($,S){return this.createRequest(Kc,$,S)};var Eo=wn,Ro={nextAuthCallbackID:1,auth_callbacks:{},ScriptReceivers:l,DependenciesReceivers:p,getDefaultStrategy:Il,Transports:Zr,transportConnectionInitializer:si,HTTPFactory:Eo,TimelineTransport:Us,getXHRAPI(){return window.XMLHttpRequest},getWebSocketAPI(){return window.WebSocket||window.MozWebSocket},setup($){window.Pusher=$;var S=()=>{this.onDocumentBody($.ready)};window.JSON?S():f.load("json2",{},S)},getDocument(){return document},getProtocol(){return this.getDocument().location.protocol},getAuthorizers(){return{ajax:H,jsonp:xt}},onDocumentBody($){document.body?$():setTimeout(()=>{this.onDocumentBody($)},0)},createJSONPRequest($,S){return new It($,S)},createScriptRequest($){return new ot($)},getLocalStorage(){try{return window.localStorage}catch{return}},createXHR(){return this.getXHRAPI()?this.createXMLHttpRequest():this.createMicrosoftXHR()},createXMLHttpRequest(){var $=this.getXHRAPI();return new $},createMicrosoftXHR(){return new ActiveXObject("Microsoft.XMLHTTP")},getNetwork(){return un},createWebSocket($){var S=this.getWebSocketAPI();return new S($)},createSocketRequest($,S){if(this.isXHRSupported())return this.HTTPFactory.createXHR($,S);if(this.isXDRSupported(S.indexOf("https:")===0))return this.HTTPFactory.createXDR($,S);throw"Cross-origin HTTP requests are not supported"},isXHRSupported(){var $=this.getXHRAPI();return!!$&&new $().withCredentials!==void 0},isXDRSupported($){var S=$?"https:":"http:",L=this.getProtocol();return!!window.XDomainRequest&&L===S},addUnloadListener($){window.addEventListener!==void 0?window.addEventListener("unload",$,!1):window.attachEvent!==void 0&&window.attachEvent("onunload",$)},removeUnloadListener($){window.addEventListener!==void 0?window.removeEventListener("unload",$,!1):window.detachEvent!==void 0&&window.detachEvent("onunload",$)},randomInt($){return Math.floor(function(){return(window.crypto||window.msCrypto).getRandomValues(new Uint32Array(1))[0]/Math.pow(2,32)}()*$)}},St=Ro,Nn;(function($){$[$.ERROR=3]="ERROR",$[$.INFO=6]="INFO",$[$.DEBUG=7]="DEBUG"})(Nn||(Nn={}));var cr=Nn;class Qc{constructor(S,L,ae){this.key=S,this.session=L,this.events=[],this.options=ae||{},this.sent=0,this.uniqueID=0}log(S,L){S<=this.options.level&&(this.events.push(we({},L,{timestamp:fe.now()})),this.options.limit&&this.events.length>this.options.limit&&this.events.shift())}error(S){this.log(cr.ERROR,S)}info(S){this.log(cr.INFO,S)}debug(S){this.log(cr.DEBUG,S)}isEmpty(){return this.events.length===0}send(S,L){var ae=we({session:this.session,bundle:this.sent+1,key:this.key,lib:"js",version:this.options.version,cluster:this.options.cluster,features:this.options.features,timeline:this.events},this.options.params);return this.events=[],S(ae,(ue,Le)=>{ue||this.sent++,L&&L(ue,Le)}),!0}generateUniqueID(){return this.uniqueID++,this.uniqueID}}class Fa{constructor(S,L,ae,ue){this.name=S,this.priority=L,this.transport=ae,this.options=ue||{}}isSupported(){return this.transport.isSupported({useTLS:this.options.useTLS})}connect(S,L){if(this.isSupported()){if(this.priority<S)return dr(new R,L)}else return dr(new k,L);var ae=!1,ue=this.transport.createConnection(this.name,this.priority,this.options.key,this.options),Le=null,Qe=function(){ue.unbind("initialized",Qe),ue.connect()},ht=function(){Le=bn.createHandshake(ue,function(na){ae=!0,ts(),L(null,na)})},Lt=function(na){ts(),L(na)},Kt=function(){ts();var na;na=he(ue),L(new E(na))},ts=function(){ue.unbind("initialized",Qe),ue.unbind("open",ht),ue.unbind("error",Lt),ue.unbind("closed",Kt)};return ue.bind("initialized",Qe),ue.bind("open",ht),ue.bind("error",Lt),ue.bind("closed",Kt),ue.initialize(),{abort:()=>{ae||(ts(),Le?Le.close():ue.close())},forceMinPriority:na=>{ae||this.priority<na&&(Le?Le.close():ue.close())}}}}function dr($,S){return fe.defer(function(){S($)}),{abort:function(){},forceMinPriority:function(){}}}const{Transports:I}=St;var de=function($,S,L,ae,ue,Le){var Qe=I[L];if(!Qe)throw new V(L);var ht=(!$.enabledTransports||Be($.enabledTransports,S)!==-1)&&(!$.disabledTransports||Be($.disabledTransports,S)===-1),Lt;return ht?(ue=Object.assign({ignoreNullOrigin:$.ignoreNullOrigin},ue),Lt=new Fa(S,ae,Le?Le.getAssistant(Qe):Qe,ue)):Lt=nt,Lt},nt={isSupported:function(){return!1},connect:function($,S){var L=fe.defer(function(){S(new k)});return{abort:function(){L.ensureAborted()},forceMinPriority:function(){}}}};function hs($){if($==null)throw"You must pass an options object";if($.cluster==null)throw"Options object must provide a cluster";"disableStats"in $&&Ve.warn("The disableStats option is deprecated in favor of enableStats")}const ya=($,S)=>{var L="socket_id="+encodeURIComponent($.socketId);for(var ae in S.params)L+="&"+encodeURIComponent(ae)+"="+encodeURIComponent(S.params[ae]);if(S.paramsProvider!=null){let ue=S.paramsProvider();for(var ae in ue)L+="&"+encodeURIComponent(ae)+"="+encodeURIComponent(ue[ae])}return L};var Lr=$=>{if(typeof St.getAuthorizers()[$.transport]>"u")throw`'${$.transport}' is not a recognized auth transport`;return(S,L)=>{const ae=ya(S,$);St.getAuthorizers()[$.transport](St,ae,$,N.UserAuthentication,L)}};const ur=($,S)=>{var L="socket_id="+encodeURIComponent($.socketId);L+="&channel_name="+encodeURIComponent($.channelName);for(var ae in S.params)L+="&"+encodeURIComponent(ae)+"="+encodeURIComponent(S.params[ae]);if(S.paramsProvider!=null){let ue=S.paramsProvider();for(var ae in ue)L+="&"+encodeURIComponent(ae)+"="+encodeURIComponent(ue[ae])}return L};var Po=$=>{if(typeof St.getAuthorizers()[$.transport]>"u")throw`'${$.transport}' is not a recognized auth transport`;return(S,L)=>{const ae=ur(S,$);St.getAuthorizers()[$.transport](St,ae,$,N.ChannelAuthorization,L)}};const e0=($,S,L)=>{const ae={authTransport:S.transport,authEndpoint:S.endpoint,auth:{params:S.params,headers:S.headers}};return(ue,Le)=>{const Qe=$.channel(ue.channelName);L(Qe,ae).authorize(ue.socketId,Le)}};function Eu($,S){let L={activityTimeout:$.activityTimeout||u.activityTimeout,cluster:$.cluster,httpPath:$.httpPath||u.httpPath,httpPort:$.httpPort||u.httpPort,httpsPort:$.httpsPort||u.httpsPort,pongTimeout:$.pongTimeout||u.pongTimeout,statsHost:$.statsHost||u.stats_host,unavailableTimeout:$.unavailableTimeout||u.unavailableTimeout,wsPath:$.wsPath||u.wsPath,wsPort:$.wsPort||u.wsPort,wssPort:$.wssPort||u.wssPort,enableStats:r0($),httpHost:t0($),useTLS:n0($),wsHost:s0($),userAuthenticator:nf($),channelAuthorizer:o0($,S)};return"disabledTransports"in $&&(L.disabledTransports=$.disabledTransports),"enabledTransports"in $&&(L.enabledTransports=$.enabledTransports),"ignoreNullOrigin"in $&&(L.ignoreNullOrigin=$.ignoreNullOrigin),"timelineParams"in $&&(L.timelineParams=$.timelineParams),"nacl"in $&&(L.nacl=$.nacl),L}function t0($){return $.httpHost?$.httpHost:$.cluster?`sockjs-${$.cluster}.pusher.com`:u.httpHost}function s0($){return $.wsHost?$.wsHost:a0($.cluster)}function a0($){return`ws-${$}.pusher.com`}function n0($){return St.getProtocol()==="https:"?!0:$.forceTLS!==!1}function r0($){return"enableStats"in $?$.enableStats:"disableStats"in $?!$.disableStats:!1}function nf($){const S=Object.assign(Object.assign({},u.userAuthentication),$.userAuthentication);return"customHandler"in S&&S.customHandler!=null?S.customHandler:Lr(S)}function i0($,S){let L;return"channelAuthorization"in $?L=Object.assign(Object.assign({},u.channelAuthorization),$.channelAuthorization):(L={transport:$.authTransport||u.authTransport,endpoint:$.authEndpoint||u.authEndpoint},"auth"in $&&("params"in $.auth&&(L.params=$.auth.params),"headers"in $.auth&&(L.headers=$.auth.headers)),"authorizer"in $&&(L.customHandler=e0(S,L,$.authorizer))),L}function o0($,S){const L=i0($,S);return"customHandler"in L&&L.customHandler!=null?L.customHandler:Po(L)}class l0 extends js{constructor(S){super(function(L,ae){Ve.debug(`No callbacks on watchlist events for ${L}`)}),this.pusher=S,this.bindWatchlistInternalEvent()}handleEvent(S){S.data.events.forEach(L=>{this.emit(L.name,L)})}bindWatchlistInternalEvent(){this.pusher.connection.bind("message",S=>{var L=S.event;L==="pusher_internal:watchlist_events"&&this.handleEvent(S)})}}function c0(){let $,S;return{promise:new Promise((ae,ue)=>{$=ae,S=ue}),resolve:$,reject:S}}var Ru=c0;class d0 extends js{constructor(S){super(function(L,ae){Ve.debug("No callbacks on user for "+L)}),this.signin_requested=!1,this.user_data=null,this.serverToUserChannel=null,this.signinDonePromise=null,this._signinDoneResolve=null,this._onAuthorize=(L,ae)=>{if(L){Ve.warn(`Error during signin: ${L}`),this._cleanup();return}this.pusher.send_event("pusher:signin",{auth:ae.auth,user_data:ae.user_data})},this.pusher=S,this.pusher.connection.bind("state_change",({previous:L,current:ae})=>{L!=="connected"&&ae==="connected"&&this._signin(),L==="connected"&&ae!=="connected"&&(this._cleanup(),this._newSigninPromiseIfNeeded())}),this.watchlist=new l0(S),this.pusher.connection.bind("message",L=>{var ae=L.event;ae==="pusher:signin_success"&&this._onSigninSuccess(L.data),this.serverToUserChannel&&this.serverToUserChannel.name===L.channel&&this.serverToUserChannel.handleEvent(L)})}signin(){this.signin_requested||(this.signin_requested=!0,this._signin())}_signin(){this.signin_requested&&(this._newSigninPromiseIfNeeded(),this.pusher.connection.state==="connected"&&this.pusher.config.userAuthenticator({socketId:this.pusher.connection.socket_id},this._onAuthorize))}_onSigninSuccess(S){try{this.user_data=JSON.parse(S.user_data)}catch{Ve.error(`Failed parsing user data after signin: ${S.user_data}`),this._cleanup();return}if(typeof this.user_data.id!="string"||this.user_data.id===""){Ve.error(`user_data doesn't contain an id. user_data: ${this.user_data}`),this._cleanup();return}this._signinDoneResolve(),this._subscribeChannels()}_subscribeChannels(){const S=L=>{L.subscriptionPending&&L.subscriptionCancelled?L.reinstateSubscription():!L.subscriptionPending&&this.pusher.connection.state==="connected"&&L.subscribe()};this.serverToUserChannel=new ir(`#server-to-user-${this.user_data.id}`,this.pusher),this.serverToUserChannel.bind_global((L,ae)=>{L.indexOf("pusher_internal:")===0||L.indexOf("pusher:")===0||this.emit(L,ae)}),S(this.serverToUserChannel)}_cleanup(){this.user_data=null,this.serverToUserChannel&&(this.serverToUserChannel.unbind_all(),this.serverToUserChannel.disconnect(),this.serverToUserChannel=null),this.signin_requested&&this._signinDoneResolve()}_newSigninPromiseIfNeeded(){if(!this.signin_requested||this.signinDonePromise&&!this.signinDonePromise.done)return;const{promise:S,resolve:L}=Ru();S.done=!1;const ae=()=>{S.done=!0};S.then(ae).catch(ae),this.signinDonePromise=S,this._signinDoneResolve=L}}class Da{static ready(){Da.isReady=!0;for(var S=0,L=Da.instances.length;S<L;S++)Da.instances[S].connect()}static getClientFeatures(){return Ye(_t({ws:St.Transports.ws},function(S){return S.isSupported({})}))}constructor(S,L){rf(S),hs(L),this.key=S,this.config=Eu(L,this),this.channels=bn.createChannels(),this.global_emitter=new js,this.sessionID=St.randomInt(1e9),this.timeline=new Qc(this.key,this.sessionID,{cluster:this.config.cluster,features:Da.getClientFeatures(),params:this.config.timelineParams||{},limit:50,level:cr.INFO,version:u.VERSION}),this.config.enableStats&&(this.timelineSender=bn.createTimelineSender(this.timeline,{host:this.config.statsHost,path:"/timeline/v2/"+St.TimelineTransport.name}));var ae=ue=>St.getDefaultStrategy(this.config,ue,de);this.connection=bn.createConnectionManager(this.key,{getStrategy:ae,timeline:this.timeline,activityTimeout:this.config.activityTimeout,pongTimeout:this.config.pongTimeout,unavailableTimeout:this.config.unavailableTimeout,useTLS:!!this.config.useTLS}),this.connection.bind("connected",()=>{this.subscribeAll(),this.timelineSender&&this.timelineSender.send(this.connection.isUsingTLS())}),this.connection.bind("message",ue=>{var Le=ue.event,Qe=Le.indexOf("pusher_internal:")===0;if(ue.channel){var ht=this.channel(ue.channel);ht&&ht.handleEvent(ue)}Qe||this.global_emitter.emit(ue.event,ue.data)}),this.connection.bind("connecting",()=>{this.channels.disconnect()}),this.connection.bind("disconnected",()=>{this.channels.disconnect()}),this.connection.bind("error",ue=>{Ve.warn(ue)}),Da.instances.push(this),this.timeline.info({instances:Da.instances.length}),this.user=new d0(this),Da.isReady&&this.connect()}channel(S){return this.channels.find(S)}allChannels(){return this.channels.all()}connect(){if(this.connection.connect(),this.timelineSender&&!this.timelineSenderTimer){var S=this.connection.isUsingTLS(),L=this.timelineSender;this.timelineSenderTimer=new le(6e4,function(){L.send(S)})}}disconnect(){this.connection.disconnect(),this.timelineSenderTimer&&(this.timelineSenderTimer.ensureAborted(),this.timelineSenderTimer=null)}bind(S,L,ae){return this.global_emitter.bind(S,L,ae),this}unbind(S,L,ae){return this.global_emitter.unbind(S,L,ae),this}bind_global(S){return this.global_emitter.bind_global(S),this}unbind_global(S){return this.global_emitter.unbind_global(S),this}unbind_all(S){return this.global_emitter.unbind_all(),this}subscribeAll(){var S;for(S in this.channels.channels)this.channels.channels.hasOwnProperty(S)&&this.subscribe(S)}subscribe(S){var L=this.channels.add(S,this);return L.subscriptionPending&&L.subscriptionCancelled?L.reinstateSubscription():!L.subscriptionPending&&this.connection.state==="connected"&&L.subscribe(),L}unsubscribe(S){var L=this.channels.find(S);L&&L.subscriptionPending?L.cancelSubscription():(L=this.channels.remove(S),L&&L.subscribed&&L.unsubscribe())}send_event(S,L,ae){return this.connection.send_event(S,L,ae)}shouldUseTLS(){return this.config.useTLS}signin(){this.user.signin()}}Da.instances=[],Da.isReady=!1,Da.logToConsole=!1,Da.Runtime=St,Da.ScriptReceivers=St.ScriptReceivers,Da.DependenciesReceivers=St.DependenciesReceivers,Da.auth_callbacks=St.auth_callbacks;var Mu=n.default=Da;function rf($){if($==null)throw"You must pass your app key when you instantiate Pusher."}St.setup(Da)})])})})(Zb)),Zb.exports}var xee=gee();const yP=rx(xee),as={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640",tealDim:"rgba(0, 140, 149, 0.1)",limeGreenDim:"rgba(138, 198, 64, 0.1)"};function yee(){const[t,s]=x.useState([]),[a,n]=x.useState(null),[r,i]=x.useState([]),[l,d]=x.useState(""),[u,h]=x.useState(!1),[p,f]=x.useState(!0),[y,v]=x.useState(!1),[j,N]=x.useState(null),[w,_]=x.useState(""),T=x.useRef(null),R=x.useRef(null),E=x.useRef(null),A=x.useRef(null),[V]=x.useState(()=>localStorage.getItem("token"));x.useEffect(()=>{console.log("Token:",V),console.log("API Base:","https://rento-lb.com/api/api")},[]);const k=q=>{const G=q?.created_at??q?.createdAt??q?.data?.created_at??null;return{id:q?.id??q?.data?.id??`rt-${Date.now()}`,booking_id:q?.booking_id??q?.data?.booking_id??a?.id,sender_id:q?.sender_id??q?.data?.sender_id??q?.sender?.id,receiver_id:q?.receiver_id??q?.data?.receiver_id??null,message:q?.message??q?.data?.message??"",read_at:q?.read_at??q?.data?.read_at??null,created_at:G,sender:q?.sender??q?.data?.sender??null}};x.useEffect(()=>{if(!V){console.error("No token found in localStorage"),N("Authentication required. Please log in.");return}window.Pusher=yP,E.current=new xP({broadcaster:"pusher",key:"316e84fa5f5bf1a94b26",cluster:"ap1",forceTLS:!0,encrypted:!0,enabledTransports:["ws","wss"],authEndpoint:"https://rento-lb.com/api/api/broadcasting/auth",auth:{headers:{Authorization:`Bearer ${V}`,Accept:"application/json"}}});const q=E.current.connector.pusher;return q.connection.bind("initialized",()=>console.log("[PUSHER] initialized")),q.connection.bind("connecting",()=>console.log("[PUSHER] connecting...")),q.connection.bind("connected",()=>console.log("[PUSHER]  connected")),q.connection.bind("disconnected",()=>console.log("[PUSHER] disconnected")),q.connection.bind("unavailable",()=>console.log("[PUSHER] unavailable")),q.connection.bind("failed",()=>console.log("[PUSHER]  failed")),q.connection.bind("error",G=>console.error("[PUSHER] error:",G)),console.log("[ECHO] authEndpoint:","https://rento-lb.com/api/api/broadcasting/auth"),console.log("[ECHO] cluster:","ap1"),console.log("[ECHO] key:","316e84fa5f5bf1a94b26"),xe.get("/profile").then(({data:G})=>{A.current=G.user?.id,console.log("Current user ID:",A.current)}).catch(G=>{console.error("Failed to fetch profile:",G),N("Failed to load user profile")}),()=>{E.current?.disconnect()}},[V]),x.useEffect(()=>{V&&B()},[V]);const B=async()=>{f(!0),N(null);try{const{data:q}=await xe.get("/driver/bookings");console.log("Bookings response:",q);const F=(q.data||[]).filter(M=>M.booking_request_status==="confirmed"||M.booking_request_status==="accepted");s(F)}catch(q){console.error("Failed to fetch bookings:",q),N("Failed to load bookings"),s([])}finally{f(!1)}},P=()=>{const q=T.current;q&&(q.scrollTop=q.scrollHeight)};x.useEffect(()=>{P()},[r]);const H=async q=>{h(!0),N(null);try{const{data:G}=await xe.get(`/bookings/${q}/chat`),F=G.data?.data||G.data?.messages||[];i(F),F.forEach(M=>{!M.read_at&&M.sender_id!==A.current&&K(M.id)})}catch(G){console.error("Failed to load messages:",G),N("Failed to load messages"),i([])}finally{h(!1)}};x.useEffect(()=>{if(!a?.id||!E.current)return;const q=a.id,G=`private-booking.${q}`;console.log("[ECHO] subscribing to:",G);const F=E.current.connector.pusher,M=F.subscribe(G);M.bind("pusher:subscription_succeeded",()=>{console.log("[PUSHER]  subscription_succeeded:",G)}),M.bind("pusher:subscription_error",le=>{console.error("[PUSHER]  subscription_error:",G,"status:",le),console.error("-> If status=403, your /broadcasting/auth or channels.php auth is rejecting the user.")});const z=E.current.private(`booking.${q}`),ie=le=>{const re=k(le);i(fe=>fe.some(ye=>String(ye.id)===String(re.id))?fe:[...fe,re]),re.sender_id&&re.sender_id!==A.current&&K(q,re.id)};return z.listen(".message.sent",ie),z.listen("message.sent",ie),z.listen(".message.read",le=>console.log("[ECHO] message.read:",le)),H(q),()=>{console.log("[ECHO] leaving:",G),E.current?.leave(`booking.${q}`),F.unsubscribe(G)}},[a?.id]);const D=async q=>{if(q.preventDefault(),!l.trim()||!a)return;const G=l.trim();d("");try{const{data:F}=await xe.post(`/bookings/${a.id}/chat`,{booking_id:a.id,message:G});F.data&&i(M=>[...M,F.data])}catch(F){console.error("Failed to send message:",F),N("Failed to send message"),d(G)}},K=async q=>{try{await xe.post(`/bookings/${a?.id}/chat/mark-read`,{message_id:q})}catch(G){console.error("Failed to mark message as read:",G)}},X=async()=>{try{if(!t?.length)return;const q=await Promise.all(t.map(async F=>{try{const{data:M}=await xe.get(`/bookings/${F.id}/chat/unread-count`),z=M?.data?.unread_count??M?.data??M?.unread_count??0;return{id:F.id,count:Number(z)||0}}catch(M){return console.error(`Failed unread count for booking ${F.id}:`,M),{id:F.id,count:0}}})),G=Object.fromEntries(q.map(F=>[F.id,F.count]));s(F=>F.map(M=>({...M,unread_count:G[M.id]??0})))}catch(q){console.error("Failed to fetch unread counts:",q)}};x.useEffect(()=>{if(V){X();const q=setInterval(X,1e4);return()=>clearInterval(q)}},[V]),x.useRef(null);const ne=q=>{if(!q)return"";const G=new Date(q);if(Number.isNaN(G.getTime()))return"";const M=Math.floor((new Date-G)/6e4);if(M<1)return"Just now";if(M<60)return`${M}m ago`;const z=Math.floor(M/60);if(z<24)return`${z}h ago`;const ie=Math.floor(z/24);return ie<7?`${ie}d ago`:G.toLocaleDateString("en-US",{month:"short",day:"numeric"})},te=q=>{if(!q)return"";const G=new Date(q);return Number.isNaN(G.getTime())?"":G.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},U=t.filter(q=>{if(!w)return!0;const G=w.toLowerCase(),F=`${q.client?.first_name||""} ${q.client?.last_name||""}`.toLowerCase(),M=`${q.car?.make||""} ${q.car?.model||""}`.toLowerCase();return F.includes(G)||M.includes(G)});return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-black dark:via-gray-900 dark:to-gray-950 pt-20",children:e.jsxs("div",{className:"container mx-auto px-4 py-6",children:[e.jsx(qe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center shadow-lg",style:{background:`linear-gradient(135deg, ${as.teal}, ${as.darkBlue})`},children:e.jsx(Hr,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(135deg, ${as.darkBlue}, ${as.teal}, ${as.limeGreen})`},children:"Booking Messages"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Stay connected with your clients"})]})]})}),e.jsx(bo,{children:j&&e.jsx(qe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-4 p-4 rounded-xl border-2",style:{background:"rgba(220, 38, 38, 0.1)",borderColor:"#DC2626"},children:e.jsxs("p",{className:"text-red-800 dark:text-red-200 flex items-center gap-2",children:[e.jsx(ta,{className:"w-5 h-5"}),j]})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 h-[calc(100vh-180px)]",children:[e.jsxs("div",{className:"lg:col-span-1 bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden flex flex-col border border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ca,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search conversations...",value:w,onChange:q=>_(q.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 dark:text-white text-sm",style:{focusRing:as.teal}})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:p?e.jsx("div",{className:"flex justify-center items-center h-full",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-t-transparent",style:{borderColor:as.tealDim,borderTopColor:"transparent"}})}):U.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-gray-400",children:[e.jsx(Hr,{className:"w-16 h-16 mb-3",style:{color:as.teal,opacity:.3}}),e.jsx("p",{className:"text-center font-medium",children:"No bookings found"}),e.jsx("p",{className:"text-xs text-center mt-1",children:"Try adjusting your search"})]}):U.map(q=>e.jsx(qe.div,{whileHover:{x:5},onClick:()=>n(q),className:`p-4 border-b border-gray-200 dark:border-gray-700 cursor-pointer transition-all ${a?.id===q.id?"border-l-4":"hover:bg-gray-50 dark:hover:bg-gray-700"}`,style:a?.id===q.id?{background:as.tealDim,borderLeftColor:as.teal}:{},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:q.client?.profile_picture?`/api/storage/${q.client.profile_picture}`:"/default-avatar.png",alt:q.client?.first_name||"Client",className:"w-12 h-12 rounded-full object-cover ring-2 ring-white dark:ring-gray-700"}),q.unread_count>0&&e.jsx(qe.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},className:"absolute -top-1 -right-1 w-5 h-5 rounded-full flex items-center justify-center shadow-lg",style:{background:as.limeGreen},children:e.jsx("span",{className:"text-xs text-white font-bold",children:q.unread_count})})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white truncate flex items-center gap-1",children:[q.client?.first_name||"N/A"," ",q.client?.last_name||"",q.client?.verified_by_admin&&e.jsx(Fn,{className:"w-3 h-3",style:{color:as.teal}})]}),q.unread_count>0&&e.jsx(sn,{className:"w-4 h-4",style:{color:as.teal}})]}),e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate flex items-center gap-1",children:[e.jsx(Vt,{className:"w-3 h-3"}),q.car?.make||"N/A"," ",q.car?.model||""]})]})]})},q.id))})]}),e.jsx("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden flex flex-col border border-gray-200 dark:border-gray-700",children:a?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4 text-white relative overflow-hidden",style:{background:`linear-gradient(135deg, ${as.darkBlue}, ${as.teal}, ${as.limeGreen})`},children:[e.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-white/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-white/10 rounded-full blur-2xl"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:a.client?.profile_picture?`/api/storage/${a.client.profile_picture}`:"/default-avatar.png",alt:a.client?.first_name||"Client",className:"w-12 h-12 rounded-full object-cover border-2 border-white shadow-lg"}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",children:[a.client?.first_name||"N/A"," ",a.client?.last_name||"",a.client?.verified_by_admin&&e.jsx(Fn,{className:"w-4 h-4"})]}),e.jsxs("p",{className:"text-xs opacity-90",children:["@",a.client?.username||"unknown"]})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[a.client?.phone_number&&e.jsx(qe.a,{whileHover:{scale:1.1},whileTap:{scale:.9},href:`tel:${a.client.phone_number}`,className:"p-2 bg-white/20 backdrop-blur-sm rounded-xl hover:bg-white/30 transition-colors",children:e.jsx(Wr,{className:"w-4 h-4"})}),a.client?.email&&e.jsx(qe.a,{whileHover:{scale:1.1},whileTap:{scale:.9},href:`mailto:${a.client.email}`,className:"p-2 bg-white/20 backdrop-blur-sm rounded-xl hover:bg-white/30 transition-colors",children:e.jsx(_r,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"p-3 bg-white/10 backdrop-blur-sm rounded-xl",children:e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Vt,{className:"w-4 h-4"}),e.jsxs("span",{className:"truncate",children:[a.car?.make||"N/A"," ",a.car?.model||""]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ms,{className:"w-4 h-4"}),e.jsx("span",{className:"truncate",children:a.start_datetime?te(a.start_datetime):"N/A"})]})]})})]})]}),e.jsxs("div",{ref:T,className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gradient-to-b from-gray-50/50 to-white dark:from-gray-900/50 dark:to-gray-800",style:{maxHeight:"calc(100vh - 450px)"},children:[u?e.jsx("div",{className:"flex justify-center items-center h-full",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-t-transparent",style:{borderColor:as.tealDim,borderTopColor:"transparent"}})}):r.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[e.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mb-4",style:{background:as.tealDim},children:e.jsx(Hr,{className:"w-10 h-10",style:{color:as.teal}})}),e.jsx("p",{className:"text-lg font-medium",children:"No messages yet"}),e.jsx("p",{className:"text-sm",children:"Start the conversation!"})]}):e.jsxs(e.Fragment,{children:[r.map((q,G)=>{const F=q.sender_id===A.current||q.sender?.id===A.current,M=G===0||r[G-1].sender_id!==q.sender_id;return e.jsxs(qe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex items-end gap-2 ${F?"justify-end":"justify-start"}`,children:[!F&&M&&e.jsx("img",{src:q.sender?.profile_picture?`/api/storage/${q.sender.profile_picture}`:"/default-avatar.png",alt:q.sender?.first_name||"User",className:"w-8 h-8 rounded-full object-cover ring-2 ring-white dark:ring-gray-700"}),!F&&!M&&e.jsx("div",{className:"w-8"}),e.jsxs("div",{className:`flex flex-col ${F?"items-end":"items-start"} max-w-[70%]`,children:[e.jsx(qe.div,{whileHover:{scale:1.02},className:`rounded-2xl px-4 py-2 shadow-md ${F?"text-white rounded-br-none":"bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-bl-none border border-gray-200 dark:border-gray-600"}`,style:F?{background:`linear-gradient(135deg, ${as.teal}, ${as.darkBlue})`}:{},children:e.jsx("p",{className:"text-sm whitespace-pre-wrap break-words leading-relaxed",children:q.message})}),e.jsxs("div",{className:"flex items-center gap-1 mt-1 px-1",children:[e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:ne(q.created_at)}),F&&e.jsx("span",{children:q.read_at?e.jsx(aD,{className:"w-3 h-3",style:{color:as.teal}}):e.jsx(er,{className:"w-3 h-3 text-gray-400"})})]})]}),F&&M&&e.jsx("img",{src:q.sender?.profile_picture?`/api/storage/${q.sender.profile_picture}`:"/default-avatar.png",alt:q.sender?.first_name||"You",className:"w-8 h-8 rounded-full object-cover ring-2 ring-white dark:ring-gray-700"}),F&&!M&&e.jsx("div",{className:"w-8"})]},q.id)}),e.jsx("div",{ref:R})]}),e.jsx(bo,{children:y&&e.jsxs(qe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"flex items-center gap-2",children:[e.jsx("img",{src:a.client?.profile_picture?`/api/storage/${a.client.profile_picture}`:"/default-avatar.png",alt:a.client?.first_name||"Client",className:"w-8 h-8 rounded-full object-cover ring-2 ring-white dark:ring-gray-700"}),e.jsx("div",{className:"bg-white dark:bg-gray-700 rounded-2xl rounded-bl-none px-4 py-3 border border-gray-200 dark:border-gray-600",children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{background:as.teal,animationDelay:"0ms"}}),e.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{background:as.darkBlue,animationDelay:"150ms"}}),e.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{background:as.limeGreen,animationDelay:"300ms"}})]})})]})})]}),e.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsx(qe.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>console.log("Attach file"),className:"p-2 rounded-xl transition-colors",style:{background:as.tealDim,color:as.teal},children:e.jsx(fD,{className:"w-5 h-5"})}),e.jsx(qe.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>console.log("Send emoji"),className:"p-2 rounded-xl transition-colors",style:{background:as.limeGreenDim,color:as.limeGreen},children:e.jsx(gD,{className:"w-5 h-5"})}),e.jsx("div",{className:"flex-1 relative",children:e.jsx("textarea",{value:l,onChange:q=>{d(q.target.value)},onKeyPress:q=>{q.key==="Enter"&&!q.shiftKey&&(q.preventDefault(),D(q))},placeholder:"Type your message...",rows:1,className:"w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 dark:bg-gray-700 dark:text-white resize-none",style:{focusRing:as.teal}})}),e.jsx(qe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:D,disabled:!l.trim(),className:"p-3 rounded-xl text-white font-semibold disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg hover:shadow-xl",style:{background:`linear-gradient(135deg, ${as.teal}, ${as.darkBlue})`},children:e.jsx(ux,{className:"w-5 h-5"})})]})})]}):e.jsx("div",{className:"flex-1 flex flex-col items-center justify-center",children:e.jsxs(qe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"text-center",children:[e.jsx("div",{className:"w-24 h-24 rounded-full flex items-center justify-center mb-6 mx-auto",style:{background:`linear-gradient(135deg, ${as.tealDim}, ${as.limeGreenDim})`},children:e.jsx(Hr,{className:"w-12 h-12",style:{color:as.teal}})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Select a Booking"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Choose a conversation to start chatting"})]})})})]})]})})}const bee=()=>xe.get("/bookings/feedback-templates"),vee=(t,s)=>xe.post(`/bookings/${t}/client-rating`,{rating:s.rating,template_selections:s.template_selections||[],comment:(s.comment||"").slice(0,1e3)}),jee=async()=>{const a=((await xe.get("/driver/bookings")).data?.data||[]).filter(l=>l.booking_request_status==="confirmed"||l.booking_request_status==="completed"),n=a.reduce((l,d)=>l+parseFloat(d.total_booking_price||0),0),r=a.reduce((l,d)=>l+(Number(d.app_fees_amount)||0),0);let i=null;try{const l=await xe.get("/profile");i=l.data?.user?.agent?.app_fees??l.data?.agent?.app_fees??null}catch{}return{total_amount:n,app_fees_amount:r,net_earnings:n-r,bookings_count:a.length,app_fees_percentage:i}},bP=async()=>{try{return await xe.get("/owner/earnings")}catch(t){if(t.response?.status===404)return{data:await jee()};throw t}},wee=(t={})=>xe.get("/frequent-searches/statistics",{params:t}),vt=x.forwardRef(({className:t,...s},a)=>e.jsx("div",{className:"relative w-full overflow-auto",children:e.jsx("table",{ref:a,className:pt("w-full caption-bottom text-sm",t),...s})}));vt.displayName="Table";const jt=x.forwardRef(({className:t,...s},a)=>e.jsx("thead",{ref:a,className:pt("[&_tr]:border-b",t),...s}));jt.displayName="TableHeader";const wt=x.forwardRef(({className:t,...s},a)=>e.jsx("tbody",{ref:a,className:pt("[&_tr:last-child]:border-0",t),...s}));wt.displayName="TableBody";const Nee=x.forwardRef(({className:t,...s},a)=>e.jsx("tfoot",{ref:a,className:pt("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...s}));Nee.displayName="TableFooter";const Ne=x.forwardRef(({className:t,...s},a)=>e.jsx("tr",{ref:a,className:pt("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...s}));Ne.displayName="TableRow";const J=x.forwardRef(({className:t,...s},a)=>e.jsx("th",{ref:a,className:pt("h-10 px-2 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...s}));J.displayName="TableHead";const Y=x.forwardRef(({className:t,...s},a)=>e.jsx("td",{ref:a,className:pt("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",t),...s}));Y.displayName="TableCell";const _ee=x.forwardRef(({className:t,...s},a)=>e.jsx("caption",{ref:a,className:pt("mt-4 text-sm text-muted-foreground",t),...s}));_ee.displayName="TableCaption";const Ke={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640",darkBlueDim:"rgba(14, 76, 129, 0.1)",tealDim:"rgba(0, 140, 149, 0.1)",limeGreenDim:"rgba(138, 198, 64, 0.1)"};function Cee(){const[t,s]=x.useState([]),[a,n]=x.useState(!0),[r,i]=x.useState(null),[l,d]=x.useState(!1),[u,h]=x.useState(null),[p,f]=x.useState("list"),[y,v]=x.useState(new Date),[j,N]=x.useState(0),[w,_]=x.useState("all"),[T,R]=x.useState(""),[E,A]=x.useState([]),[V,k]=x.useState(null),[B,P]=x.useState({rating:0,template_selections:[],comment:""}),[H,D]=x.useState(!1),K=async()=>{n(!0);try{const{data:pe}=await xe.get("/driver/bookings");s(pe.data||[])}catch(pe){console.error("Error fetching bookings:",pe),s([]),se.error("Failed to fetch bookings")}finally{n(!1)}};x.useEffect(()=>{K()},[]),x.useEffect(()=>{(async()=>{try{const{data:_e}=await bee();A(_e?.agent_rates_client||[])}catch(_e){console.error("Failed to load feedback templates:",_e)}})()},[]),x.useEffect(()=>{const pe=Be();if(pe.length>1){const _e=setInterval(()=>{N(he=>(he+1)%pe.length)},5e3);return()=>clearInterval(_e)}},[t]);const X=t.reduce((pe,_e)=>{const he=_e.car?.id;return he&&(pe[he]||(pe[he]={car:_e.car,bookings:[]}),pe[he].bookings.push(_e)),pe},{}),ne=async pe=>{h(pe);try{if(await xe.post(`/driver/bookings/${pe}/accept`),await K(),r){const _e=t.filter(he=>he.car?.id===r.car?.id);i({...r,bookings:_e})}se.success(" Booking accepted successfully!")}catch(_e){console.error("Error accepting booking:",_e),se.error("Failed to accept booking")}finally{h(null)}},te=async pe=>{if(confirm("Are you sure you want to reject this booking?")){h(pe);try{if(await xe.post(`/driver/bookings/${pe}/decline`),await K(),r){const _e=t.filter(he=>he.car?.id===r.car?.id&&he.id!==pe);_e.length===0?q():i({...r,bookings:_e})}se.success("Booking rejected successfully")}catch(_e){console.error("Error rejecting booking:",_e),se.error("Failed to reject booking")}finally{h(null)}}},U=pe=>{i(pe),d(!0)},q=()=>{i(null),d(!1)},G=pe=>{const _e=pe?.booking_request_status,he=_e==="confirmed"||_e==="accepted",$e=pe?.end_datetime&&new Date(pe.end_datetime)<new Date,Ve=!pe?.client_rating;return!!(he&&$e&&Ve)},F=pe=>{k(pe),P({rating:0,template_selections:[],comment:""})},M=()=>{k(null),P({rating:0,template_selections:[],comment:""})},z=pe=>{P(_e=>({..._e,template_selections:_e.template_selections.includes(pe)?_e.template_selections.filter(he=>he!==pe):[..._e.template_selections,pe]}))},ie=async()=>{if(!V||B.rating<1||B.rating>5){se.error("Please select a rating (15 stars).");return}D(!0);try{if(await vee(V.id,{rating:B.rating,template_selections:B.template_selections,comment:B.comment.slice(0,1e3)}),se.success("Rating submitted successfully."),M(),await K(),r?.bookings?.length){const pe=r.bookings.map(_e=>_e.id===V.id?{..._e,client_rating:!0}:_e);i({...r,bookings:pe})}}catch(pe){const _e=pe.response?.data?.message||pe.response?.data?.error||pe.response?.data?.errors&&Object.values(pe.response.data.errors).flat().join(" ")||"Failed to submit rating.";se.error(_e)}finally{D(!1)}},le=pe=>{const _e={pending:{label:"Pending",color:Ke.teal,bgColor:Ke.tealDim,textColor:Ke.teal,icon:Bv},confirmed:{label:"Confirmed",color:Ke.limeGreen,bgColor:Ke.limeGreenDim,textColor:Ke.limeGreen,icon:Pa},accepted:{label:"Accepted",color:Ke.darkBlue,bgColor:Ke.darkBlueDim,textColor:Ke.darkBlue,icon:er},rejected:{label:"Rejected",color:"#DC2626",bgColor:"rgba(220, 38, 38, 0.1)",textColor:"#DC2626",icon:Bn},completed:{label:"Completed",color:Ke.limeGreen,bgColor:Ke.limeGreenDim,textColor:Ke.limeGreen,icon:Pa}};return _e[pe]||_e.pending},re=(pe,_e)=>{const he=new Date(pe),$e=new Date(_e),Ve=Math.abs($e-he);return Math.ceil(Ve/(1e3*60*60*24))},fe=pe=>new Date(pe).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),we=pe=>new Date(pe).toLocaleDateString("en-US",{month:"short",day:"numeric"}),ye=pe=>{const _e=new Date(pe),he=new Date;return _e.toDateString()===he.toDateString()},Be=()=>t.filter(pe=>ye(pe.start_datetime)||ye(pe.end_datetime)),Ye=(()=>{const pe=t.length,_e=t.filter(dt=>dt.booking_request_status==="pending").length,he=t.filter(dt=>dt.booking_request_status==="confirmed"||dt.booking_request_status==="accepted").length,$e=t.filter(dt=>dt.booking_request_status==="rejected").length,Ve=t.filter(dt=>dt.booking_request_status==="confirmed"||dt.booking_request_status==="accepted").reduce((dt,xt)=>dt+parseFloat(xt.total_booking_price||0),0);return{total:pe,pending:_e,confirmed:he,rejected:$e,totalRevenue:Ve}})(),rt=Object.entries(X).reduce((pe,[_e,he])=>{let $e=he.bookings;return w!=="all"&&($e=$e.filter(Ve=>Ve.booking_request_status===w)),T&&($e=$e.filter(Ve=>{const dt=T.toLowerCase(),xt=`${Ve.car?.make} ${Ve.car?.model}`.toLowerCase().includes(dt),ot=`${Ve.client?.first_name} ${Ve.client?.last_name}`.toLowerCase().includes(dt),It=Ve.client?.email?.toLowerCase().includes(dt);return xt||ot||It})),$e.length>0&&(pe[_e]={...he,bookings:$e}),pe},{}),Se=pe=>{const _e=pe.getFullYear(),he=pe.getMonth(),$e=new Date(_e,he,1),dt=new Date(_e,he+1,0).getDate(),xt=$e.getDay();return{daysInMonth:dt,startingDayOfWeek:xt,year:_e,month:he}},Xe=pe=>t.filter(_e=>{const he=new Date(_e.start_datetime),$e=new Date(_e.end_datetime);return he.setHours(0,0,0,0),$e.setHours(0,0,0,0),pe.setHours(0,0,0,0),pe.getTime()===he.getTime()||pe.getTime()===$e.getTime()}),Pe=()=>{const{daysInMonth:pe,startingDayOfWeek:_e,year:he,month:$e}=Se(y),Ve=["January","February","March","April","May","June","July","August","September","October","November","December"],dt=["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],xt=()=>{v(new Date(y.getFullYear(),y.getMonth()-1))},ot=()=>{v(new Date(y.getFullYear(),y.getMonth()+1))},It=[];for(let Dt=0;Dt<_e;Dt++)It.push(e.jsx("div",{className:"aspect-square"},`empty-${Dt}`));for(let Dt=1;Dt<=pe;Dt++){const es=new Date(he,$e,Dt),Us=Xe(es),is=ye(es.toISOString());It.push(e.jsxs(qe.div,{whileHover:{scale:1.05},className:`aspect-square border rounded-xl p-2 transition-all cursor-pointer ${is?"border-2 shadow-lg":"bg-white dark:bg-gray-800 border-gray-200 dark:border-gray-700 hover:shadow-md"}`,style:is?{background:`linear-gradient(135deg, ${Ke.tealDim}, ${Ke.limeGreenDim})`,borderColor:Ke.teal}:{},onClick:()=>{if(Us.length>0){const bs=Us.reduce((Me,Ue)=>{const Fe=Ue.car?.id;return Me[Fe]||(Me[Fe]={car:Ue.car,bookings:[]}),Me[Fe].bookings.push(Ue),Me},{});U(Object.values(bs)[0])}},children:[e.jsx("div",{className:`text-sm font-bold mb-1 ${is?"dark:text-gray-800":"text-gray-700 dark:text-gray-300"}`,style:is?{color:Ke.teal}:{},children:Dt}),Us.length>0&&e.jsxs("div",{className:"space-y-1",children:[Us.slice(0,2).map(bs=>{const Me=le(bs.booking_request_status);return e.jsx("div",{className:"text-xs px-1.5 py-0.5 rounded-md truncate font-medium shadow-sm",style:{background:Me.bgColor,color:Me.textColor},children:bs.car?.make},bs.id)}),Us.length>2&&e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:["+",Us.length-2," more"]})]})]},Dt))}return e.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl p-5 border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-center mb-5",children:[e.jsxs("h2",{className:"text-2xl font-bold bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(135deg, ${Ke.teal}, ${Ke.darkBlue})`},children:[Ve[$e]," ",he]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(qe.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:xt,className:"p-2 rounded-xl transition-colors",style:{background:Ke.tealDim,color:Ke.teal},children:e.jsx(jo,{className:"w-5 h-5"})}),e.jsx(qe.button,{whileHover:{scale:1.1},whileTap:{scale:.9},onClick:ot,className:"p-2 rounded-xl transition-colors",style:{background:Ke.tealDim,color:Ke.teal},children:e.jsx(sn,{className:"w-5 h-5"})})]})]}),e.jsxs("div",{className:"grid grid-cols-7 gap-2",children:[dt.map(Dt=>e.jsx("div",{className:"text-center font-bold text-sm text-gray-600 dark:text-gray-400 py-2",children:Dt},Dt)),It]}),e.jsx("div",{className:"flex justify-center gap-6 mt-5 pt-5 border-t border-gray-200 dark:border-gray-700",children:["pending","confirmed","rejected"].map(Dt=>{const es=le(Dt);return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded-md shadow-sm",style:{background:es.color}}),e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:es.label})]},Dt)})})]})},mt=pe=>{if(!pe.length)return{start:new Date,end:new Date};const _e=pe.flatMap(Ve=>[new Date(Ve.start_datetime),new Date(Ve.end_datetime)]),he=new Date(Math.min(..._e.map(Ve=>Ve.getTime()))),$e=new Date(Math.max(..._e.map(Ve=>Ve.getTime())));return he.setDate(he.getDate()-2),$e.setDate($e.getDate()+2),{start:he,end:$e}},_t=({startDate:pe,endDate:_e})=>{const he=[],$e=new Date(pe);for(;$e<=_e;){const Ve=ye($e.toISOString());he.push({date:$e.toLocaleDateString("en-US",{day:"numeric",month:"short"}),day:$e.toLocaleDateString("en-US",{weekday:"short"}),isToday:Ve}),$e.setDate($e.getDate()+1)}return e.jsx("div",{className:"flex border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-gray-900/50",children:he.map((Ve,dt)=>e.jsxs("div",{className:`px-4 py-3 text-sm font-semibold text-center ${Ve.isToday,""}`,style:Ve.isToday?{background:Ke.tealDim,color:Ke.teal}:{},children:[e.jsx("div",{className:"font-bold",children:Ve.day}),e.jsx("div",{className:"text-xs opacity-80",children:Ve.date})]},dt))})},at=({car:pe,bookings:_e,dateRange:he,onBookingClick:$e})=>{const{start:Ve,end:dt}=he,xt=Math.ceil((dt-Ve)/(1e3*60*60*24));return e.jsxs(qe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"flex items-center border-b border-gray-200 dark:border-gray-700 py-3 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:[e.jsxs("div",{className:"w-56 flex items-center gap-3 px-4",children:[e.jsx("img",{src:pe.main_image_url?`/api/storage/${pe.main_image_url}`:"/placeholder.png",alt:pe.model,className:"w-14 h-10 object-cover rounded-lg shadow-md"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"font-bold text-gray-900 dark:text-white",children:[pe.make," ",pe.model]}),e.jsxs("div",{className:"text-xs text-gray-500 dark:text-gray-400 flex items-center gap-1",children:[e.jsx(Ms,{className:"w-3 h-3"}),_e.length," booking",_e.length!==1?"s":""]})]})]}),e.jsx("div",{className:"relative flex-1 h-14 px-2",children:_e.map(ot=>{const It=new Date(ot.start_datetime),Dt=new Date(ot.end_datetime),es=Math.max(0,Math.floor((It-Ve)/(1e3*60*60*24))),Us=Math.max(1,Math.ceil((Dt-It)/(1e3*60*60*24))),is=le(ot.booking_request_status);return e.jsx(qe.div,{whileHover:{scale:1.05,zIndex:10},className:"absolute h-10 rounded-xl cursor-pointer shadow-lg hover:shadow-xl transition-all flex items-center justify-center text-white text-xs font-semibold",style:{left:`${es/xt*100}%`,width:`${Us/xt*100}%`,background:is.color},title:`${ot.client?.first_name} ${ot.client?.last_name}
${fe(ot.start_datetime)} - ${fe(ot.end_datetime)}
Total: $${ot.total_booking_price}`,onClick:()=>$e({car:pe,bookings:[ot]}),children:e.jsx("span",{className:"truncate px-2",children:ot.client?.first_name})},ot.id)})})]})},ds=()=>{const pe=mt(t);return e.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden border border-gray-200 dark:border-gray-700",children:[e.jsx(_t,{startDate:pe.start,endDate:pe.end}),e.jsx("div",{className:"max-h-[600px] overflow-y-auto",children:Object.values(X).map(({car:_e,bookings:he})=>e.jsx(at,{car:_e,bookings:he,dateRange:pe,onBookingClick:U},_e.id))}),e.jsx("div",{className:"flex justify-center gap-6 p-4 bg-gray-50 dark:bg-gray-900/50 border-t border-gray-200 dark:border-gray-700",children:["pending","confirmed","rejected"].map(_e=>{const he=le(_e);return e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-4 h-4 rounded-md shadow-sm",style:{background:he.color}}),e.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:he.label})]},_e)})})]})},us=()=>{const pe=Be();if(pe.length===0)return null;const _e=pe[j],he=ye(_e.start_datetime),$e=ye(_e.end_datetime);return e.jsxs(qe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-5 rounded-2xl shadow-2xl p-5 text-white overflow-hidden relative",style:{background:`linear-gradient(135deg, ${Ke.darkBlue}, ${Ke.teal}, ${Ke.limeGreen})`},children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/5 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-48 h-48 bg-white/5 rounded-full blur-3xl"}),e.jsx("div",{className:"relative z-10",children:e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx(qe.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,repeatDelay:3},className:"p-3 bg-white/20 backdrop-blur-sm rounded-2xl",children:e.jsx(Dg,{className:"w-7 h-7"})}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("h3",{className:"text-xl font-bold",children:"Today's Action Required!"}),pe.length>1&&e.jsxs("span",{className:"text-xs bg-white/30 backdrop-blur-sm px-3 py-1 rounded-full font-semibold",children:[j+1," of ",pe.length]})]}),e.jsx("p",{className:"text-sm opacity-90 mb-4 flex items-center gap-2",children:he&&$e?e.jsxs(e.Fragment,{children:[e.jsx(rm,{className:"w-4 h-4"}),"Booking starts AND ends today"]}):he?e.jsxs(e.Fragment,{children:[e.jsx(wg,{className:"w-4 h-4"}),"Booking starts today"]}):e.jsxs(e.Fragment,{children:[e.jsx(Pa,{className:"w-4 h-4"}),"Booking ends today"]})}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-4",children:[e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3 border border-white/20",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:_e.car?.main_image_url?`/api/storage/${_e.car.main_image_url}`:"/placeholder.png",alt:_e.car?.model,className:"w-12 h-12 rounded-lg object-cover border-2 border-white/30 shadow-lg"}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-bold text-lg",children:[_e.car?.make," ",_e.car?.model]}),e.jsxs("div",{className:"text-xs opacity-80 flex items-center gap-1",children:[e.jsx(Vt,{className:"w-3 h-3"}),_e.car?.year,"  ",_e.car?.car_category]})]})]})}),e.jsx("div",{className:"bg-white/10 backdrop-blur-sm rounded-xl p-3 border border-white/20",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:_e.client?.profile_picture?`/api/storage/${_e.client.profile_picture}`:"/default-avatar.png",alt:_e.client?.username,className:"w-12 h-12 rounded-full object-cover border-2 border-white/30 shadow-lg"}),e.jsxs("div",{children:[e.jsxs("div",{className:"font-bold text-lg flex items-center gap-1",children:[_e.client?.first_name," ",_e.client?.last_name,_e.client?.verified_by_admin&&e.jsx(J2,{className:"w-4 h-4"})]}),e.jsxs("div",{className:"text-xs opacity-80",children:["@",_e.client?.username]})]})]})})]}),e.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-sm px-3 py-2 rounded-lg",children:[e.jsx(pu,{className:"w-4 h-4"}),e.jsx("span",{className:"font-medium",children:fe(_e.start_datetime)})]}),e.jsxs("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-sm px-3 py-2 rounded-lg",children:[e.jsx(Is,{className:"w-4 h-4"}),e.jsxs("span",{className:"font-bold",children:["$",_e.total_booking_price]})]}),_e.app_fees_amount!=null&&e.jsxs("div",{className:"flex items-center gap-2 bg-white/10 backdrop-blur-sm px-3 py-2 rounded-lg",children:[e.jsx("span",{className:"opacity-90",children:"App fee:"}),e.jsxs("span",{children:["$",_e.app_fees_amount]})]}),e.jsx("div",{className:"px-3 py-1.5 rounded-lg font-semibold text-xs bg-white/20",children:_e.booking_request_status.toUpperCase()})]})]})]})}),pe.length>1&&e.jsx("div",{className:"absolute bottom-4 right-6 flex gap-2",children:pe.map((Ve,dt)=>e.jsx(qe.div,{animate:{scale:dt===j?1.2:1},className:`h-2 rounded-full transition-all ${dt===j?"bg-white w-8":"bg-white/40 w-2"}`},dt))})]})},Ps=()=>{const pe=[{title:"Total Bookings",value:Ye.total,icon:Ms,gradient:`linear-gradient(135deg, ${Ke.teal}, ${Ke.darkBlue})`,change:"+12%"},{title:"Pending Review",value:Ye.pending,icon:Bv,gradient:`linear-gradient(135deg, ${Ke.darkBlue}, ${Ke.teal})`,change:"Needs action",alert:Ye.pending>0},{title:"Confirmed",value:Ye.confirmed,icon:Pa,gradient:`linear-gradient(135deg, ${Ke.limeGreen}, ${Ke.teal})`,change:"+8%"},{title:"Total Revenue",value:`$${Ye.totalRevenue.toFixed(2)}`,icon:Is,gradient:`linear-gradient(135deg, ${Ke.teal}, ${Ke.limeGreen})`,change:"+15%"}];return e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 mb-5",children:pe.map((_e,he)=>e.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:he*.1},whileHover:{y:-5},className:"relative",children:e.jsxs("div",{className:"relative z-10 bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-4 border border-gray-200 dark:border-gray-700 group",children:[e.jsxs("div",{className:"flex justify-between items-start mb-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-xl p-2.5 shadow-lg",style:{background:_e.gradient},children:e.jsx(_e.icon,{className:"w-full h-full text-white"})}),_e.alert&&e.jsx(qe.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},className:"w-3 h-3 rounded-full",style:{background:Ke.teal}})]}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-1",children:_e.title}),e.jsx("p",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:_e.value}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500",children:_e.change})]})},he))})};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 dark:from-gray-950 dark:via-gray-900 dark:to-black pt-20",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[e.jsx("div",{className:"mb-5",children:e.jsx(qe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},children:e.jsx("h1",{className:"text-4xl font-bold bg-clip-text text-transparent mb-2",style:{backgroundImage:`linear-gradient(135deg, ${Ke.darkBlue}, ${Ke.teal}, ${Ke.limeGreen})`},children:"Booking Management"})})}),e.jsx(us,{}),e.jsx(Ps,{}),e.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg p-4 mb-4 border border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(Ca,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search by car, client, or email...",value:T,onChange:pe=>R(pe.target.value),className:"w-full pl-11 pr-4 py-2.5 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 dark:text-white",style:{focusRing:Ke.teal}})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs("select",{value:w,onChange:pe=>_(pe.target.value),className:"px-4 py-2.5 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 dark:text-white",style:{focusRing:Ke.teal},children:[e.jsx("option",{value:"all",children:"All Status"}),e.jsx("option",{value:"pending",children:"Pending"}),e.jsx("option",{value:"confirmed",children:"Confirmed"}),e.jsx("option",{value:"accepted",children:"Accepted"}),e.jsx("option",{value:"rejected",children:"Rejected"})]}),e.jsx(qe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:K,className:"p-2.5 rounded-xl transition-colors",style:{background:Ke.tealDim,color:Ke.teal},children:e.jsx(Nt,{className:"w-5 h-5"})})]})]})}),e.jsx("div",{className:"flex gap-2 mb-5 overflow-x-auto pb-2",children:[{id:"list",label:"List View",icon:ho},{id:"table",label:"Table",icon:lz},{id:"timeline",label:"Timeline",icon:rm},{id:"calendar",label:"Calendar",icon:Ms}].map(pe=>e.jsxs(qe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},className:`flex items-center gap-2 px-5 py-2.5 rounded-xl font-medium whitespace-nowrap transition-all ${p===pe.id?"text-white shadow-lg":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700 border border-gray-200 dark:border-gray-700"}`,style:p===pe.id?{background:`linear-gradient(135deg, ${Ke.teal}, ${Ke.darkBlue})`}:{},onClick:()=>f(pe.id),children:[e.jsx(pe.icon,{className:"w-5 h-5"}),pe.label]},pe.id))}),a?e.jsx("div",{className:"flex justify-center items-center h-64",children:e.jsx(qe.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-16 h-16 border-4 border-t-4 rounded-full",style:{borderColor:Ke.tealDim,borderTopColor:Ke.teal}})}):Object.keys(rt).length===0?e.jsxs(qe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-20 bg-white dark:bg-gray-800 rounded-2xl shadow-lg border border-gray-200 dark:border-gray-700",children:[e.jsx(xs,{className:"w-20 h-20 mx-auto mb-4",style:{color:Ke.teal,opacity:.3}}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-lg font-medium mb-2",children:"No bookings found"}),e.jsx("p",{className:"text-gray-500 dark:text-gray-500 text-sm",children:"Try adjusting your filters or search query"})]}):p==="calendar"?e.jsx(Pe,{}):p==="timeline"?e.jsx(ds,{}):p==="table"?e.jsx(qe.div,{initial:{opacity:0},animate:{opacity:1},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden border border-gray-200 dark:border-gray-700",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{className:"border-gray-200 dark:border-gray-700",children:[e.jsx(J,{className:"text-gray-700 dark:text-gray-300",children:"Car"}),e.jsx(J,{className:"text-gray-700 dark:text-gray-300",children:"Client"}),e.jsx(J,{className:"text-gray-700 dark:text-gray-300",children:"Dates"}),e.jsx(J,{className:"text-gray-700 dark:text-gray-300",children:"Status"}),e.jsx(J,{className:"text-gray-700 dark:text-gray-300 text-right",children:"Amount"}),e.jsx(J,{className:"text-gray-700 dark:text-gray-300 text-right",children:"App Fee"}),e.jsx(J,{className:"text-gray-700 dark:text-gray-300 text-right",children:"Net"})]})}),e.jsx(wt,{children:Object.values(rt).flatMap(pe=>pe.bookings).map(pe=>{const _e=le(pe.booking_request_status),he=parseFloat(pe.total_booking_price||0),$e=Number(pe.app_fees_amount)||0,Ve=he-$e;return e.jsxs(Ne,{className:"cursor-pointer hover:bg-gray-50 dark:hover:bg-gray-700/50 border-gray-200 dark:border-gray-700",onClick:()=>U({car:pe.car,bookings:[pe]}),children:[e.jsxs(Y,{className:"font-medium text-gray-900 dark:text-white",children:[pe.car?.make," ",pe.car?.model]}),e.jsxs(Y,{className:"text-gray-600 dark:text-gray-400",children:[pe.client?.first_name," ",pe.client?.last_name]}),e.jsxs(Y,{className:"text-gray-600 dark:text-gray-400 text-sm",children:[we(pe.start_datetime),"  ",we(pe.end_datetime)]}),e.jsx(Y,{children:e.jsx("span",{className:"px-2 py-1 rounded-lg text-xs font-semibold",style:{background:_e.bgColor,color:_e.textColor},children:_e.label})}),e.jsxs(Y,{className:"text-right font-semibold",style:{color:Ke.limeGreen},children:["$",he.toFixed(2)]}),e.jsxs(Y,{className:"text-right text-gray-600 dark:text-gray-400",children:["$",$e.toFixed(2)]}),e.jsxs(Y,{className:"text-right font-bold",style:{color:Ke.teal},children:["$",Ve.toFixed(2)]})]},pe.id)})})]})})}):e.jsx(qe.div,{initial:{opacity:0},animate:{opacity:1},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-5",children:Object.values(rt).map(({car:pe,bookings:_e},he)=>{const $e=_e.filter(dt=>dt.booking_request_status==="pending").length,Ve=_e.filter(dt=>dt.booking_request_status==="confirmed"||dt.booking_request_status==="accepted").length;return e.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:he*.1},whileHover:{y:-8,scale:1.02},className:"bg-white dark:bg-gray-800 rounded-2xl shadow-lg hover:shadow-2xl transition-all duration-300 overflow-hidden cursor-pointer border border-gray-200 dark:border-gray-700 group",onClick:()=>U({car:pe,bookings:_e}),children:[e.jsxs("div",{className:"relative overflow-hidden",children:[e.jsx("img",{src:pe?.main_image_url?`/api/storage/${pe.main_image_url}`:"/placeholder.png",alt:pe?.model||"Car",className:"w-full h-48 object-cover group-hover:scale-110 transition-transform duration-500"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),e.jsx("div",{className:"absolute top-3 right-3 bg-white/90 dark:bg-gray-900/90 backdrop-blur-sm rounded-full px-3 py-1.5 shadow-lg",children:e.jsxs("span",{className:"text-sm font-bold text-gray-900 dark:text-white flex items-center gap-1",children:[e.jsx(Ms,{className:"w-4 h-4"}),_e.length]})})]}),e.jsxs("div",{className:"p-5",children:[e.jsxs("h2",{className:"font-bold text-xl text-gray-900 dark:text-white mb-1",children:[pe?.make||"Unknown"," ",pe?.model||""]}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-3 flex items-center gap-2",children:[e.jsx(Vt,{className:"w-4 h-4"}),pe?.year||"N/A","  ",pe?.car_category||"N/A"]}),pe?.notes&&e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-3 line-clamp-2",children:pe.notes}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[$e>0&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg border",style:{background:Ke.tealDim,borderColor:Ke.teal},children:[e.jsx(qe.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},className:"w-2 h-2 rounded-full",style:{background:Ke.teal}}),e.jsxs("span",{className:"text-xs font-semibold",style:{color:Ke.teal},children:[$e," Pending"]})]}),Ve>0&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-lg border",style:{background:Ke.limeGreenDim,borderColor:Ke.limeGreen},children:[e.jsx(Pa,{className:"w-4 h-4",style:{color:Ke.limeGreen}}),e.jsxs("span",{className:"text-xs font-semibold",style:{color:Ke.limeGreen},children:[Ve," Confirmed"]})]})]})]})]},pe.id)})}),e.jsx(bo,{children:l&&r&&e.jsx(qe.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm p-4",onClick:q,children:e.jsxs(qe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},exit:{scale:.9,opacity:0},className:"bg-white dark:bg-gray-800 rounded-2xl w-full max-w-4xl mx-4 shadow-2xl overflow-hidden border border-gray-200 dark:border-gray-700",style:{maxHeight:"90vh"},onClick:pe=>pe.stopPropagation(),children:[e.jsxs("div",{className:"p-5 text-white relative overflow-hidden",style:{background:`linear-gradient(135deg, ${Ke.teal}, ${Ke.darkBlue})`},children:[e.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-white/10 rounded-full blur-3xl"}),e.jsxs("div",{className:"relative z-10 flex justify-between items-center",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"p-2.5 bg-white/20 backdrop-blur-sm rounded-2xl",children:e.jsx(Vt,{className:"w-6 h-6"})}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl font-bold",children:[r.car?.make," ",r.car?.model]}),e.jsxs("p",{className:"text-sm opacity-90 flex items-center gap-2 mt-1",children:[e.jsx(Ms,{className:"w-4 h-4"}),r.bookings?.length||0," booking request",r.bookings?.length!==1?"s":""]})]})]}),e.jsx(qe.button,{whileHover:{scale:1.1,rotate:90},whileTap:{scale:.9},onClick:q,className:"p-2 rounded-full hover:bg-white/20 transition-colors",children:e.jsx(ta,{className:"w-6 h-6"})})]})]}),e.jsx("div",{className:"overflow-y-auto p-5",style:{maxHeight:"calc(90vh - 120px)"},children:r.bookings?.length===0?e.jsxs("div",{className:"p-12 text-center",children:[e.jsx(xs,{className:"w-16 h-16 mx-auto mb-4",style:{color:Ke.teal,opacity:.3}}),e.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:"No bookings for this car yet."})]}):e.jsx("div",{className:"space-y-5",children:r.bookings?.map((pe,_e)=>{const he=pe.client,$e=he?.profile||{},Ve=le(pe.booking_request_status),dt=Ve.icon;return e.jsxs(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:_e*.1},className:"bg-gradient-to-br from-gray-50 to-white dark:from-gray-900 dark:to-gray-800 rounded-2xl p-5 shadow-lg border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex justify-between items-start mb-5",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:he?.profile_picture?`/api/storage/${he.profile_picture}`:"/default-avatar.png",alt:he?.username||"Client",className:"w-14 h-14 rounded-2xl object-cover border-4 border-white dark:border-gray-700 shadow-lg"}),$e?.trusted_by_app&&e.jsx("div",{className:"absolute -bottom-2 -right-2 w-6 h-6 rounded-full border-4 border-white dark:border-gray-700 flex items-center justify-center shadow-lg",style:{background:Ke.darkBlue},children:e.jsx(Fn,{className:"w-3 h-3 text-white"})})]}),e.jsxs("div",{children:[e.jsx("div",{className:"flex items-center gap-2 mb-1",children:e.jsxs("h3",{className:"font-bold text-xl text-gray-900 dark:text-white flex items-center gap-2",children:[he?.first_name||"N/A"," ",he?.last_name||"",he?.verified_by_admin&&e.jsx(J2,{className:"w-5 h-5",style:{color:Ke.teal}})]})}),e.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:["@",he?.username||"Unknown","  Booked ",we(pe.created_at)]})]})]}),e.jsxs("div",{className:"flex items-center gap-2 px-3 py-1.5 rounded-xl border-2",style:{background:Ve.bgColor,borderColor:Ve.color},children:[e.jsx(dt,{className:"w-5 h-5",style:{color:Ve.textColor}}),e.jsx("span",{className:"font-bold text-sm",style:{color:Ve.textColor},children:Ve.label})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-4",children:[e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-3 border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"p-2 rounded-lg",style:{background:Ke.tealDim},children:e.jsx(wg,{className:"w-4 h-4",style:{color:Ke.teal}})}),e.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:"Rental Period"})]}),e.jsxs("div",{className:"space-y-1.5 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Start:"}),e.jsx("span",{className:"font-semibold",children:fe(pe.start_datetime)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"End:"}),e.jsx("span",{className:"font-semibold",children:fe(pe.end_datetime)})]}),e.jsxs("div",{className:"flex justify-between pt-1.5 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Duration:"}),e.jsxs("span",{className:"font-bold",style:{color:Ke.teal},children:[re(pe.start_datetime,pe.end_datetime)," days"]})]})]})]}),e.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-3 border border-gray-200 dark:border-gray-700",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[e.jsx("div",{className:"p-2 rounded-lg",style:{background:Ke.limeGreenDim},children:e.jsx(Is,{className:"w-4 h-4",style:{color:Ke.limeGreen}})}),e.jsx("span",{className:"font-bold text-gray-900 dark:text-white",children:"Payment Details"})]}),e.jsxs("div",{className:"space-y-1.5 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Total (client paid):"}),e.jsxs("span",{className:"font-bold text-lg",style:{color:Ke.limeGreen},children:["$",pe.total_booking_price??"0.00"]})]}),pe.app_fees_amount!=null&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"App fee:"}),e.jsxs("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:["$",pe.app_fees_amount]})]}),e.jsxs("div",{className:"flex justify-between pt-1.5 border-t border-gray-200 dark:border-gray-700",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Your net:"}),e.jsxs("span",{className:"font-bold",style:{color:Ke.teal},children:["$",(parseFloat(pe.total_booking_price||0)-(pe.app_fees_amount||0)).toFixed(2)]})]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Pickup:"}),e.jsx("span",{className:"font-semibold text-right truncate max-w-[160px]",children:pe.pickup_location||"N/A"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-gray-600 dark:text-gray-400",children:"Dropoff:"}),e.jsx("span",{className:"font-semibold text-right truncate max-w-[160px]",children:pe.dropoff_location||"N/A"})]})]})]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 mb-4",children:[{label:"Email",value:he?.email,icon:_r},{label:"Phone",value:he?.phone_number,icon:Wr},{label:"City",value:he?.city,icon:vs},{label:"Profession",value:$e?.profession,icon:Oc}].map((xt,ot)=>e.jsxs("div",{className:"bg-white dark:bg-gray-700 p-2.5 rounded-xl shadow-sm border border-gray-200 dark:border-gray-600",children:[e.jsxs("div",{className:"flex items-center gap-1.5 mb-1",children:[e.jsx(xt.icon,{className:"w-3 h-3 text-gray-400"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:xt.label})]}),e.jsx("p",{className:"font-semibold text-sm truncate text-gray-800 dark:text-gray-200",children:xt.value||"N/A"})]},ot))}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2 mb-4",children:[{label:"Age",value:$e?.age},{label:"Gender",value:he?.gender},{label:"Salary",value:$e?.avg_salary},{label:"License",value:$e?.license_number}].map((xt,ot)=>e.jsxs("div",{className:"bg-white dark:bg-gray-700 p-2.5 rounded-xl shadow-sm border border-gray-200 dark:border-gray-600",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:xt.label}),e.jsx("p",{className:"font-semibold text-sm truncate text-gray-800 dark:text-gray-200",children:xt.value||"N/A"})]},ot))}),$e?.average_rating&&e.jsxs("div",{className:"inline-flex items-center gap-2 px-3 py-2 rounded-xl mb-4 border",style:{background:Ke.limeGreenDim,borderColor:Ke.limeGreen},children:[e.jsx(Ks,{className:"w-5 h-5 fill-current",style:{color:Ke.limeGreen}}),e.jsxs("span",{className:"font-bold",style:{color:Ke.limeGreen},children:[$e.average_rating," Average Rating"]})]}),pe.client_rating&&e.jsxs("div",{className:"flex items-center gap-2 px-3 py-2 rounded-xl mb-4 border",style:{background:Ke.limeGreenDim,borderColor:Ke.limeGreen},children:[e.jsx(Pa,{className:"w-5 h-5",style:{color:Ke.limeGreen}}),e.jsx("span",{className:"font-semibold",style:{color:Ke.limeGreen},children:"Rating submitted"})]}),!pe.client_rating&&G(pe)&&e.jsx("div",{className:"pt-3 border-t border-gray-200 dark:border-gray-700 mb-4",children:e.jsxs(qe.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:xt=>{xt.stopPropagation(),F(pe)},className:"flex items-center justify-center gap-2 py-2.5 px-4 rounded-xl font-bold text-white shadow-lg hover:shadow-xl transition-all w-full sm:w-auto",style:{background:`linear-gradient(135deg, ${Ke.teal}, ${Ke.darkBlue})`},children:[e.jsx(Ks,{className:"w-5 h-5"}),"Rate client"]})}),pe.booking_request_status==="pending"&&e.jsxs("div",{className:"flex gap-2.5 pt-3 border-t border-gray-200 dark:border-gray-700",children:[e.jsxs(qe.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:xt=>{xt.stopPropagation(),ne(pe.id)},disabled:u===pe.id,className:"flex-1 py-2.5 px-4 rounded-xl font-bold flex items-center justify-center gap-2 transition-all text-white shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",style:{background:`linear-gradient(135deg, ${Ke.limeGreen}, ${Ke.teal})`},children:[e.jsx(er,{className:"w-5 h-5"}),u===pe.id?"Processing...":"Accept Booking"]}),e.jsxs(qe.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:xt=>{xt.stopPropagation(),te(pe.id)},disabled:u===pe.id,className:"flex-1 py-2.5 px-4 rounded-xl font-bold flex items-center justify-center gap-2 transition-all bg-gradient-to-r from-red-500 to-rose-500 hover:from-red-600 hover:to-rose-600 text-white shadow-lg hover:shadow-xl disabled:opacity-50 disabled:cursor-not-allowed",children:[e.jsx(Bn,{className:"w-5 h-5"}),u===pe.id?"Processing...":"Reject Booking"]})]})]},pe.id)})})})]})})}),e.jsx(La,{open:!!V,onOpenChange:pe=>!pe&&M(),children:e.jsxs(ka,{className:"sm:max-w-md bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700",children:[e.jsx(Sa,{children:e.jsxs(Aa,{className:"flex items-center gap-2",style:{color:Ke.darkBlue},children:[e.jsx(Ks,{className:"w-5 h-5",style:{color:Ke.teal}}),"Rate client",V?.client&&e.jsxs("span",{className:"font-normal text-gray-600 dark:text-gray-400",children:[" ",V.client.first_name," ",V.client.last_name]})]})}),e.jsxs("div",{className:"space-y-4 pt-2",children:[e.jsxs("div",{children:[e.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:["Rating ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx("div",{className:"flex gap-2",children:[1,2,3,4,5].map(pe=>e.jsx(qe.button,{type:"button",whileHover:{scale:1.1},whileTap:{scale:.95},onClick:()=>P(_e=>({..._e,rating:pe})),className:`p-2 rounded-lg border-2 transition-colors ${B.rating>=pe?"border-amber-400 bg-amber-50 dark:bg-amber-900/20":"border-gray-200 dark:border-gray-600 hover:border-amber-300"}`,children:e.jsx(Ks,{className:`w-6 h-6 ${B.rating>=pe?"fill-amber-400 text-amber-400":"text-gray-400"}`})},pe))})]}),E.length>0&&e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Tags (optional)"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:E.map(pe=>e.jsx("button",{type:"button",onClick:()=>z(pe.id),className:`px-3 py-1.5 rounded-full text-sm font-medium border-2 transition-colors ${B.template_selections.includes(pe.id)?"border-teal-500 bg-teal-50 dark:bg-teal-900/30 text-teal-700 dark:text-teal-300":"border-gray-200 dark:border-gray-600 hover:border-gray-300 dark:hover:border-gray-500"}`,style:B.template_selections.includes(pe.id)?{borderColor:Ke.teal,background:Ke.tealDim,color:Ke.teal}:{},children:pe.label},pe.id))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Comment (optional, max 1000 characters)"}),e.jsx("textarea",{value:B.comment,onChange:pe=>P(_e=>({..._e,comment:pe.target.value.slice(0,1e3)})),placeholder:"e.g. Very good renter. Would rent to again.",rows:3,className:"w-full px-3 py-2 rounded-xl border border-gray-200 dark:border-gray-600 bg-white dark:bg-gray-900 text-gray-900 dark:text-gray-100 focus:ring-2 focus:ring-teal-500 focus:border-teal-500"}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:[B.comment.length,"/1000"]})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[e.jsx(qe.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:M,className:"flex-1 py-2.5 px-4 rounded-xl font-semibold border-2 border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancel"}),e.jsx(qe.button,{type:"button",whileHover:{scale:1.02},whileTap:{scale:.98},onClick:ie,disabled:H||B.rating<1,className:"flex-1 py-2.5 px-4 rounded-xl font-bold text-white shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",style:{background:`linear-gradient(135deg, ${Ke.teal}, ${Ke.darkBlue})`},children:H?"Submitting":"Submit rating"})]})]})]})})]})})}const kee=[{name:"Instagram",url:"https://www.instagram.com/rentolebanon/?hl=en",icon:lD,gradient:"from-pink-500 to-purple-500"},{name:"Facebook",url:"https://www.facebook.com/profile.php?id=61585450048575",icon:rD,gradient:"from-pink-500 to-purple-500"},{name:"Twitter / X",url:"https://x.com/RENTO_lb",icon:xD,gradient:"from-blue-500 to-cyan-500"},{name:"LinkedIn",url:"https://www.linkedin.com/company/rento-lb/about/",icon:dD,gradient:"from-blue-700 to-blue-500"},{name:"Pinterest",url:"https://www.pinterest.com/rento1065/",icon:ek,gradient:"from-red-500 to-rose-500"},{name:"Tiktok",url:"https://www.tiktok.com/@rentolebanon",icon:ek,gradient:"from-black-500 to-white-500"},{name:"YouTube",url:"https://www.youtube.com/channel/UCW1dt_Y0qq0oczELUoGDI7Q",icon:Cz,gradient:"from-red-600 to-red-400"}];function See(){return e.jsxs("div",{className:"min-h-screen bg-white dark:bg-gradient-to-br dark:from-gray-950 dark:via-gray-900 dark:to-teal-950 py-20 px-4",children:[e.jsxs("div",{className:"container mx-auto max-w-4xl text-center mb-16",children:[e.jsx(Re,{className:"mb-6 bg-gradient-to-r from-teal-500 to-cyan-500 text-white border-0 px-6 py-2 text-sm font-bold shadow-lg",children:"Official Rento LB Social Media"}),e.jsxs("h1",{className:"text-5xl font-black text-gray-900 dark:text-white mb-6",children:["Stay Connected With",e.jsx("span",{className:"block bg-gradient-to-r from-teal-400 via-cyan-400 to-blue-400 bg-clip-text text-transparent",children:"Rento Lebanon"})]}),e.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Follow us on all platforms for updates, new car listings, offers, and more."})]}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-10 container mx-auto max-w-5xl",children:kee.map((t,s)=>e.jsx(Ae,{className:"group border border-gray-200 dark:border-gray-800 bg-white dark:bg-gray-900 hover:border-teal-500 transition-all duration-300 hover:shadow-xl hover:-translate-y-1",children:e.jsxs(Ee,{className:"p-6 text-center",children:[e.jsx("div",{className:`w-24 h-24 mx-auto mb-6 rounded-2xl bg-gradient-to-br ${t.gradient} flex items-center justify-center shadow-lg group-hover:scale-110 transition-transform duration-300`,children:e.jsx(t.icon,{className:"w-12 h-12 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-3",children:t.name}),e.jsx("a",{href:t.url,target:"_blank",rel:"noopener noreferrer",children:e.jsxs(Q,{className:"w-full bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-bold py-3 rounded-xl shadow-md hover:shadow-lg transition-all duration-300",children:["Visit Page",e.jsx(Pc,{className:"w-5 h-5 ml-2"})]})})]})},s))})]})}const Aee=["Beirut","Tripoli","Sidon","Tyre","Other"],Tee=["Employee","Freelancer","Business Owner","Student","Other"],Dee=["Male","Female","Other","Any"],Eee=()=>{const t=Ua(),[s,a]=x.useState(!1),[n,r]=x.useState(!1),[i,l]=x.useState([]),[d,u]=x.useState(null),[h,p]=x.useState(null),[f,y]=x.useState({enableAge:!1,minAge:25,maxAge:65,enableGender:!1,selectedGenders:[],enableCities:!1,selectedCities:[],enableProfessions:!1,selectedProfessions:[],enableSalary:!1,minSalary:1e3,enableRating:!1,minRating:4,verifiedByAdmin:!1,trustedByApp:!1,hasDeposit:!1});x.useEffect(()=>{v()},[]);const v=async()=>{try{const A=await xe.get("/cars"),V=A.data.cars?.data||A.data.cars||[];l(V)}catch(A){console.error("Error loading cars:",A),se.error("Failed to load cars")}},j=async A=>{try{const V=await xe.get(`/cars/${A}/qualifications`);if(V.data.qualifications){const k=V.data.qualifications,B=K=>K.charAt(0).toUpperCase()+K.slice(1).toLowerCase(),P=K=>!K||!K.length?[]:K.map(X=>B(X)),H=K=>!K||!K.length?[]:K.map(X=>B(X)),D=K=>!K||!K.length?[]:K.map(X=>X.split("_").map(ne=>B(ne)).join(" "));y({enableAge:!!(k.min_age||k.max_age),minAge:k.min_age||25,maxAge:k.max_age||65,enableGender:!!(k.gender&&k.gender.length),selectedGenders:P(k.gender),enableCities:!!(k.required_cities&&k.required_cities.length),selectedCities:H(k.required_cities),enableProfessions:!!(k.professions&&k.professions.length),selectedProfessions:D(k.professions),enableSalary:!!k.min_salary,minSalary:k.min_salary||1e3,enableRating:!!k.min_rating,minRating:k.min_rating||4,verifiedByAdmin:k.verified_by_admin||!1,trustedByApp:k.trusted_by_app||!1,hasDeposit:k.has_deposit||!1}),setTimeout(()=>T(),100)}}catch(V){console.error("Error loading qualifications:",V),V.response?.status===404&&console.info("Qualifications endpoint not available for this car")}},N=A=>{const V=i.find(k=>k.id===parseInt(A));u(V),p(null),V?j(V.id):y({enableAge:!1,minAge:25,maxAge:65,enableGender:!1,selectedGenders:[],enableCities:!1,selectedCities:[],enableProfessions:!1,selectedProfessions:[],enableSalary:!1,minSalary:1e3,enableRating:!1,minRating:4,verifiedByAdmin:!1,trustedByApp:!1,hasDeposit:!1})},w=(A,V)=>{y(k=>{const B=k[V];return B.includes(A)?{...k,[V]:B.filter(P=>P!==A)}:{...k,[V]:[...B,A]}})},_=()=>{const A={};return f.enableAge&&(f.minAge&&(A.min_age=parseInt(f.minAge)),f.maxAge&&(A.max_age=parseInt(f.maxAge))),f.enableGender&&f.selectedGenders.length&&(A.gender=f.selectedGenders.map(V=>V.toLowerCase())),f.enableCities&&f.selectedCities.length&&(A.required_cities=f.selectedCities.map(V=>V.toLowerCase())),f.enableProfessions&&f.selectedProfessions.length&&(A.professions=f.selectedProfessions.map(V=>V.toLowerCase().replace(/ /g,"_"))),f.enableSalary&&f.minSalary&&(A.min_salary=parseInt(f.minSalary)),f.enableRating&&f.minRating&&(A.min_rating=parseFloat(f.minRating)),f.verifiedByAdmin&&(A.verified_by_admin=!0),f.trustedByApp&&(A.trusted_by_app=!0),f.hasDeposit&&(A.has_deposit=!0),A},T=async()=>{const A=_();r(!0);try{const V=await xe.post("/cars/qualifications/preview",A);p(V.data)}catch(V){console.error("Preview error:",V),se.error("Failed to preview qualifications")}finally{r(!1)}},R=async A=>{if(A.preventDefault(),!d){se.error("Please select a car first");return}const V=_();a(!0);try{await xe.post(`/cars/${d.id}/qualifications`,V),se.success("Qualifications saved successfully!")}catch(k){console.error("Save error:",k);const B=k.response?.data?.message||"Failed to save qualifications";se.error(B)}finally{a(!1)}},E=async()=>{if(!d){se.error("Please select a car first");return}if(confirm("Clear all qualifications for this car? It will be visible to all clients."))try{await xe.delete(`/cars/${d.id}/qualifications`),se.success("Qualifications cleared successfully!"),y({enableAge:!1,minAge:25,maxAge:65,enableGender:!1,selectedGenders:[],enableCities:!1,selectedCities:[],enableProfessions:!1,selectedProfessions:[],enableSalary:!1,minSalary:1e3,enableRating:!1,minRating:4,verifiedByAdmin:!1,trustedByApp:!1,hasDeposit:!1}),p(null)}catch(A){console.error("Clear error:",A),se.error("Failed to clear qualifications")}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-teal-50/30 to-cyan-50/30 dark:from-gray-950 dark:via-teal-950/20 dark:to-cyan-950/20 pt-20",children:[e.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-teal-500/10 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-cyan-500/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"700ms"}})]}),e.jsxs("div",{className:"container mx-auto px-4 py-8 relative z-10",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[e.jsxs(Q,{variant:"ghost",className:"text-gray-600 dark:text-gray-400 hover:text-teal-600 dark:hover:text-teal-400 transition-colors",onClick:()=>t(-1),children:[e.jsx(yi,{className:"w-4 h-4 mr-2"}),"Back to Dashboard"]}),e.jsxs(Q,{variant:"secondary",className:"text-gray-600 dark:text-gray-400 hover:text-teal-600 dark:hover:text-teal-400 transition-colors",onClick:()=>t("/agent/cars"),children:[e.jsx(Vt,{className:"w-4 h-4 mr-2"}),"Go to Cars Page"]})]}),e.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-teal-500 to-cyan-500 flex items-center justify-center shadow-lg",children:e.jsx(Fn,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-4xl md:text-5xl font-black text-gray-900 dark:text-white",children:"Set Car Qualifications"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-1",children:"Control who can see and book your vehicles"})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsx(Ae,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:e.jsxs(Ee,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center",children:e.jsx(Vt,{className:"w-6 h-6 text-white"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Select Car"})]}),e.jsxs("select",{value:d?.id||"",onChange:A=>N(A.target.value),className:"w-full h-14 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl px-4 bg-white dark:bg-gray-900 text-lg font-medium transition-colors",children:[e.jsx("option",{value:"",children:"-- Select a car --"}),i.map(A=>e.jsxs("option",{value:A.id,children:[A.make," ",A.model," (",A.year,") - ",A.license_plate]},A.id))]}),d&&e.jsx("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:e.jsxs("p",{className:"text-sm font-medium text-blue-900 dark:text-blue-100",children:["Selected: ",d.make," ",d.model," - Daily Rate: $",d.daily_rate]})})]})}),e.jsxs("form",{onSubmit:R,className:"space-y-6",children:[e.jsx(Ae,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:e.jsxs(Ee,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("input",{type:"checkbox",id:"enableAge",checked:f.enableAge,onChange:A=>y({...f,enableAge:A.target.checked}),className:"w-6 h-6 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500 cursor-pointer"}),e.jsx(Ms,{className:"w-6 h-6 text-teal-600"}),e.jsx("label",{htmlFor:"enableAge",className:"text-xl font-bold text-gray-900 dark:text-white cursor-pointer",children:"Age Requirement"})]}),f.enableAge&&e.jsxs("div",{className:"grid grid-cols-2 gap-6 ml-9",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Minimum Age"}),e.jsx(oe,{type:"number",min:"18",max:"100",placeholder:"e.g., 25",value:f.minAge,onChange:A=>y({...f,minAge:A.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Maximum Age"}),e.jsx(oe,{type:"number",min:"18",max:"100",placeholder:"e.g., 65",value:f.maxAge,onChange:A=>y({...f,maxAge:A.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]})]})]})}),e.jsx(Ae,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:e.jsxs(Ee,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("input",{type:"checkbox",id:"enableGender",checked:f.enableGender,onChange:A=>y({...f,enableGender:A.target.checked}),className:"w-6 h-6 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500 cursor-pointer"}),e.jsx(xs,{className:"w-6 h-6 text-teal-600"}),e.jsx("label",{htmlFor:"enableGender",className:"text-xl font-bold text-gray-900 dark:text-white cursor-pointer",children:"Gender Restriction"})]}),f.enableGender&&e.jsx("div",{className:"flex flex-wrap gap-3 ml-9",children:Dee.map(A=>e.jsxs(Re,{onClick:()=>w(A,"selectedGenders"),className:`cursor-pointer px-4 py-2 text-sm transition-all duration-300 ${f.selectedGenders.includes(A)?"bg-gradient-to-r from-teal-600 to-cyan-600 text-white hover:from-teal-700 hover:to-cyan-700":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[f.selectedGenders.includes(A)&&e.jsx(Rn,{className:"w-3 h-3 mr-1"}),A]},A))})]})}),e.jsx(Ae,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:e.jsxs(Ee,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("input",{type:"checkbox",id:"enableCities",checked:f.enableCities,onChange:A=>y({...f,enableCities:A.target.checked}),className:"w-6 h-6 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500 cursor-pointer"}),e.jsx(vs,{className:"w-6 h-6 text-teal-600"}),e.jsx("label",{htmlFor:"enableCities",className:"text-xl font-bold text-gray-900 dark:text-white cursor-pointer",children:"City Restriction"})]}),f.enableCities&&e.jsx("div",{className:"flex flex-wrap gap-3 ml-9",children:Aee.map(A=>e.jsxs(Re,{onClick:()=>w(A,"selectedCities"),className:`cursor-pointer px-4 py-2 text-sm transition-all duration-300 ${f.selectedCities.includes(A)?"bg-gradient-to-r from-cyan-600 to-blue-600 text-white hover:from-cyan-700 hover:to-blue-700":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[f.selectedCities.includes(A)&&e.jsx(Rn,{className:"w-3 h-3 mr-1"}),A]},A))})]})}),e.jsx(Ae,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:e.jsxs(Ee,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("input",{type:"checkbox",id:"enableProfessions",checked:f.enableProfessions,onChange:A=>y({...f,enableProfessions:A.target.checked}),className:"w-6 h-6 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500 cursor-pointer"}),e.jsx(Oc,{className:"w-6 h-6 text-teal-600"}),e.jsx("label",{htmlFor:"enableProfessions",className:"text-xl font-bold text-gray-900 dark:text-white cursor-pointer",children:"Profession Restriction"})]}),f.enableProfessions&&e.jsx("div",{className:"flex flex-wrap gap-3 ml-9",children:Tee.map(A=>e.jsxs(Re,{onClick:()=>w(A,"selectedProfessions"),className:`cursor-pointer px-4 py-2 text-sm transition-all duration-300 ${f.selectedProfessions.includes(A)?"bg-gradient-to-r from-teal-500 to-cyan-500 text-white hover:from-teal-600 hover:to-cyan-600":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-700"}`,children:[f.selectedProfessions.includes(A)&&e.jsx(Rn,{className:"w-3 h-3 mr-1"}),A]},A))})]})}),e.jsx(Ae,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:e.jsxs(Ee,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("input",{type:"checkbox",id:"enableSalary",checked:f.enableSalary,onChange:A=>y({...f,enableSalary:A.target.checked}),className:"w-6 h-6 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500 cursor-pointer"}),e.jsx(Is,{className:"w-6 h-6 text-amber-600"}),e.jsx("label",{htmlFor:"enableSalary",className:"text-xl font-bold text-gray-900 dark:text-white cursor-pointer",children:"Minimum Salary"})]}),f.enableSalary&&e.jsxs("div",{className:"ml-9",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Monthly Salary (USD)"}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-gray-500 font-bold",children:"$"}),e.jsx(oe,{type:"number",min:"0",step:"100",placeholder:"e.g., 1000",value:f.minSalary,onChange:A=>y({...f,minSalary:A.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl pl-8"})]})]})]})}),e.jsx(Ae,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:e.jsxs(Ee,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("input",{type:"checkbox",id:"enableRating",checked:f.enableRating,onChange:A=>y({...f,enableRating:A.target.checked}),className:"w-6 h-6 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500 cursor-pointer"}),e.jsx(Ks,{className:"w-6 h-6 text-yellow-500"}),e.jsx("label",{htmlFor:"enableRating",className:"text-xl font-bold text-gray-900 dark:text-white cursor-pointer",children:"Minimum Rating"})]}),f.enableRating&&e.jsxs("div",{className:"ml-9",children:[e.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Rating (0 to 5 stars)"}),e.jsx(oe,{type:"number",min:"0",max:"5",step:"0.1",placeholder:"e.g., 4.0",value:f.minRating,onChange:A=>y({...f,minRating:A.target.value}),className:"h-12 border-2 border-gray-200 dark:border-gray-700 focus:border-teal-500 rounded-xl"})]})]})}),e.jsx(Ae,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg",children:e.jsxs(Ee,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx(Fn,{className:"w-6 h-6 text-green-600"}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Verification Requirements"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("label",{className:"flex items-center gap-3 p-4 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:f.verifiedByAdmin,onChange:A=>y({...f,verifiedByAdmin:A.target.checked}),className:"w-5 h-5 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Must be verified by admin"})]}),e.jsxs("label",{className:"flex items-center gap-3 p-4 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:f.trustedByApp,onChange:A=>y({...f,trustedByApp:A.target.checked}),className:"w-5 h-5 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Must be trusted by app"})]}),e.jsxs("label",{className:"flex items-center gap-3 p-4 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-800 transition-colors cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:f.hasDeposit,onChange:A=>y({...f,hasDeposit:A.target.checked}),className:"w-5 h-5 rounded border-2 border-gray-300 text-teal-600 focus:ring-teal-500"}),e.jsx("span",{className:"font-medium text-gray-900 dark:text-white",children:"Must have deposit on account"})]})]})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs(Q,{type:"button",variant:"outline",size:"lg",onClick:T,disabled:!d||n,className:"flex-1 px-8 py-6 rounded-xl border-2 border-teal-500 text-teal-600 hover:bg-teal-50 dark:hover:bg-teal-950",children:[e.jsx(Ys,{className:"w-5 h-5 mr-2"}),n?"Loading...":"Preview Results"]}),e.jsxs(Q,{type:"submit",size:"lg",disabled:!d||s,className:"flex-1 px-8 py-6 bg-gradient-to-r from-teal-600 to-cyan-600 hover:from-teal-700 hover:to-cyan-700 text-white font-bold rounded-xl shadow-lg hover:shadow-xl transition-all duration-300",children:[e.jsx(Rn,{className:"w-5 h-5 mr-2"}),s?"Saving...":"Save Qualifications"]})]}),e.jsxs(Q,{type:"button",variant:"outline",size:"lg",onClick:E,disabled:!d,className:"w-full px-8 py-6 rounded-xl border-2 border-red-300 dark:border-red-700 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-950",children:[e.jsx(Bn,{className:"w-5 h-5 mr-2"}),"Clear All Requirements"]})]})]}),e.jsx("div",{className:"lg:col-span-1",children:e.jsx(Ae,{className:"border-2 border-transparent hover:border-teal-500/30 transition-all duration-300 shadow-lg sticky top-6",children:e.jsxs(Ee,{className:"p-8",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl bg-gradient-to-br from-teal-500 to-cyan-500 flex items-center justify-center",children:e.jsx(xs,{className:"w-6 h-6 text-white"})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Qualified Clients"})]}),n&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-4 border-teal-500 border-t-transparent"}),e.jsx("p",{className:"mt-4 text-sm text-gray-600 dark:text-gray-400",children:"Calculating..."})]}),!n&&!h&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(xs,{className:"w-20 h-20 mx-auto text-gray-300 dark:text-gray-700 mb-4"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:'Set requirements and click "Preview Results" to see how many clients qualify'})]}),!n&&h&&e.jsxs("div",{children:[e.jsxs("div",{className:"text-center mb-6 p-8 bg-gradient-to-br from-teal-50 to-cyan-50 dark:from-teal-950/30 dark:to-cyan-950/30 rounded-2xl border-2 border-teal-200 dark:border-teal-800",children:[e.jsxs("div",{className:"text-6xl font-black bg-gradient-to-r from-teal-600 to-cyan-600 bg-clip-text text-transparent mb-2",children:[h.percentage,"%"]}),e.jsx("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2 font-medium",children:"of clients qualify"}),e.jsxs("div",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:[h.qualified_clients," / ",h.total_clients]})]}),h.breakdown&&Object.keys(h.breakdown).length>0&&e.jsxs("div",{className:"space-y-3 mb-6",children:[e.jsx("h3",{className:"text-sm font-bold text-gray-700 dark:text-gray-300 uppercase tracking-wide mb-3",children:"Breakdown by Requirement"}),Object.entries(h.breakdown).map(([A,V])=>{const k=A.replace(/_/g," ").replace(/\b\w/g,B=>B.toUpperCase());return e.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-gray-800/50 rounded-lg",children:[e.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:[k,":"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm font-bold text-gray-900 dark:text-white",children:V.qualified}),e.jsxs(Re,{className:"bg-teal-100 dark:bg-teal-900 text-teal-700 dark:text-teal-300",children:[V.percentage,"%"]})]})]},A)})]}),h.percentage<10&&e.jsx("div",{className:"p-4 bg-yellow-50 dark:bg-yellow-900/20 border-2 border-yellow-200 dark:border-yellow-800 rounded-xl",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Yd,{className:"w-5 h-5 text-yellow-600 dark:text-yellow-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-yellow-800 dark:text-yellow-200 mb-1",children:"Warning: Very Restrictive"}),e.jsx("p",{className:"text-xs text-yellow-700 dark:text-yellow-300",children:"Very few clients qualify. Consider relaxing some requirements to increase visibility."})]})]})}),h.percentage>=10&&h.percentage<30&&e.jsx("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 border-2 border-blue-200 dark:border-blue-800 rounded-xl",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Yd,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-blue-800 dark:text-blue-200 mb-1",children:"Selective Requirements"}),e.jsx("p",{className:"text-xs text-blue-700 dark:text-blue-300",children:"Your requirements are quite selective. This can help ensure quality bookings."})]})]})}),h.percentage>=30&&e.jsx("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 border-2 border-green-200 dark:border-green-800 rounded-xl",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Rn,{className:"w-5 h-5 text-green-600 dark:text-green-400 flex-shrink-0 mt-0.5"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-bold text-green-800 dark:text-green-200 mb-1",children:"Good Balance"}),e.jsx("p",{className:"text-xs text-green-700 dark:text-green-300",children:"Your requirements allow good visibility while maintaining quality standards."})]})]})})]})]})})})]})]})]})},Zt={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640"};function Ree(){const t=Ua(),[s,a]=x.useState(null),[n,r]=x.useState({totalCars:0,activeBookings:0,pendingBookings:0,confirmedBookings:0,totalRevenue:0,totalViews:0,totalClicks:0,totalSearches:0,avgViewsPerCar:0,topViewedCar:null,topClickedCar:null,topSearchedCar:null}),[i,l]=x.useState([]),[d,u]=x.useState([]),[h,p]=x.useState(null),[f,y]=x.useState(!0),[v,j]=x.useState(!1),[N,w]=x.useState(!1),[_,T]=x.useState(!1);x.useEffect(()=>{const D=localStorage.getItem("theme"),K=window.matchMedia("(prefers-color-scheme: dark)").matches,X=D==="dark"||!D&&K;T(X),document.documentElement.classList.toggle("dark",X)},[]);const R=()=>{const D=!_;T(D),document.documentElement.classList.toggle("dark",D),localStorage.setItem("theme",D?"dark":"light")},E=async()=>{y(!0),j(!1);try{const[D,K,X]=await Promise.all([xe.get("/cars/agent/Mycars"),xe.get("/driver/bookings"),bP().catch(()=>({data:null}))]),ne=D.data.cars?.data||[],te=K.data.data||[];p(X?.data??null);const U=ne.reduce((ke,Ye)=>ke+(Ye.views_count||0),0),q=ne.reduce((ke,Ye)=>ke+(Ye.clicks_count||0),0),G=ne.reduce((ke,Ye)=>ke+(Ye.search_count||0),0),F=ne.length>0?Math.round(U/ne.length):0,M=ne.length?ne.reduce((ke,Ye)=>(Ye.views_count||0)>(ke?.views_count||0)?Ye:ke,ne[0]):null,z=ne.length?ne.reduce((ke,Ye)=>(Ye.clicks_count||0)>(ke?.clicks_count||0)?Ye:ke,ne[0]):null,ie=ne.length?ne.reduce((ke,Ye)=>(Ye.search_count||0)>(ke?.search_count||0)?Ye:ke,ne[0]):null,le=te.filter(ke=>["pending","confirmed","arrived","started"].includes(ke.booking_request_status)),re=te.filter(ke=>ke.booking_request_status==="pending"),fe=te.filter(ke=>ke.booking_request_status==="confirmed"),we=te.filter(ke=>ke.booking_request_status==="confirmed").reduce((ke,Ye)=>ke+parseFloat(Ye.total_booking_price||0),0);r({totalCars:D.data.cars?.total||ne.length,activeBookings:le.length,pendingBookings:re.length,confirmedBookings:fe.length,totalRevenue:we,totalViews:U,totalClicks:q,totalSearches:G,avgViewsPerCar:F,topViewedCar:M,topClickedCar:z,topSearchedCar:ie});const ye=[...ne].sort((ke,Ye)=>(Ye.views_count||0)+(Ye.clicks_count||0)*2+(Ye.search_count||0)-((ke.views_count||0)+(ke.clicks_count||0)*2+(ke.search_count||0))).slice(0,3).map(ke=>({id:ke.id,name:`${ke.make} ${ke.model}`,image:ke.main_image_url,views:ke.views_count||0,clicks:ke.clicks_count||0,searches:ke.search_count||0,dailyRate:ke.daily_rate,category:ke.car_category}));u(ye);const Be=te.sort((ke,Ye)=>new Date(Ye.created_at)-new Date(ke.created_at)).slice(0,8).map(ke=>{const Ye={pending:"New booking request received",confirmed:"Booking confirmed",cancelled:"Booking cancelled",completed:"Trip completed successfully",arrived:"Driver arrived",started:"Ride in progress"},rt=ke.car?`${ke.car.make} ${ke.car.model}`:"Unknown Car",Se=ke.client?`${ke.client.first_name} ${ke.client.last_name}`:"Unknown Client";return{message:Ye[ke.booking_request_status]||"Status updated",car:rt,client:Se,time:new Date(ke.created_at).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}),date:new Date(ke.created_at).toLocaleDateString([],{month:"short",day:"numeric"}),status:ke.booking_request_status,amount:ke.total_booking_price,location:ke.pickup_location||"N/A"}});l(Be.length?Be:[{message:"No recent activity",time:"",isEmpty:!0}])}catch(D){console.error("Dashboard error:",D),j(!0),se.error("Failed to load dashboard data.")}finally{y(!1)}};x.useEffect(()=>{const D=JSON.parse(localStorage.getItem("user"));D&&a(D),E()},[]);const A=async()=>{try{await xe.post("/logout")}catch{}localStorage.clear(),t("/auth")},V=[{title:"Add New Car",icon:Gs,href:"/add-car",color:Zt.teal,description:"List a new vehicle"},{title:"My Fleet",icon:Vt,href:"/Mycars",color:Zt.darkBlue,description:"Manage your cars"},{title:"Bookings",icon:Jj,href:"/Mycars-bookings",color:Zt.limeGreen,description:"View all bookings"},{title:"Analytics",icon:wl,href:"/statistic",color:Zt.teal,description:"View statistics"},{title:"Balance",icon:Tg,href:"/Balance",color:Zt.limeGreen,description:"Earnings & app fees"}],k=D=>{const K={pending:{color:"bg-amber-500",icon:Bv,label:"Pending",bgColor:"bg-amber-500/10",textColor:"text-amber-600 dark:text-amber-400"},confirmed:{color:"bg-blue-500",icon:Pa,label:"Confirmed",bgColor:"bg-blue-500/10",textColor:"text-blue-600 dark:text-blue-400"},cancelled:{color:"bg-gray-500",icon:Bn,label:"Cancelled",bgColor:"bg-gray-500/10",textColor:"text-gray-600 dark:text-gray-400"},completed:{color:"bg-emerald-500",icon:Pa,label:"Completed",bgColor:"bg-emerald-500/10",textColor:"text-emerald-600 dark:text-emerald-400"},arrived:{color:"bg-cyan-500",icon:vs,label:"Arrived",bgColor:"bg-cyan-500/10",textColor:"text-cyan-600 dark:text-cyan-400"},started:{color:"bg-purple-500",icon:Dg,label:"In Progress",bgColor:"bg-purple-500/10",textColor:"text-purple-600 dark:text-purple-400"}};return K[D]||K.pending},B={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.08}}},P={hidden:{opacity:0,y:15},visible:{opacity:1,y:0,transition:{type:"spring",stiffness:100,damping:12}}},H=[{title:"Total Fleet",value:n.totalCars,icon:Vt,color:Zt.darkBlue,change:`${n.totalCars} vehicles`,changeType:"neutral",description:"Active listings"},{title:"Total Views",value:n.totalViews.toLocaleString(),icon:Ys,color:Zt.teal,change:`${n.avgViewsPerCar} avg/car`,changeType:"neutral",description:"All time views"},{title:"Total Clicks",value:n.totalClicks.toLocaleString(),icon:Sc,color:Zt.limeGreen,change:"Detail opens",changeType:"neutral",description:"Car detail page opens"},{title:"Active Bookings",value:n.activeBookings,icon:rm,color:Zt.teal,change:`${n.confirmedBookings} confirmed`,changeType:"neutral",description:"Ongoing rentals"}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900",children:[e.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:[e.jsx(qe.div,{animate:{scale:[1,1.1,1],opacity:[.06,.1,.06]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute -top-1/4 -left-1/4 w-1/3 h-1/3 rounded-full blur-3xl",style:{backgroundColor:`${Zt.darkBlue}30`}}),e.jsx(qe.div,{animate:{scale:[1,1.15,1],opacity:[.05,.08,.05]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:2},className:"absolute top-1/2 -right-1/4 w-1/3 h-1/3 rounded-full blur-3xl",style:{backgroundColor:`${Zt.teal}30`}})]}),e.jsx("header",{className:"sticky top-0 z-50 backdrop-blur-xl bg-white/80 dark:bg-gray-900/80 border-b border-gray-200/50 dark:border-gray-800/50 shadow-sm",children:e.jsx("div",{className:"container mx-auto px-4 sm:px-6 py-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(qe.div,{whileHover:{rotate:90},transition:{duration:.3},children:e.jsx(Q,{variant:"ghost",size:"icon",className:"lg:hidden h-8 w-8",children:e.jsx(hD,{className:"w-4 h-4"})})}),e.jsxs("div",{children:[e.jsxs("h1",{className:"text-lg sm:text-xl md:text-2xl font-bold bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(to right, ${Zt.darkBlue}, ${Zt.teal}, ${Zt.limeGreen})`},children:["Welcome back",s?.username?`, ${s.username}`:"","!"]}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 hidden sm:block",children:"Your fleet performance dashboard"})]})]}),e.jsxs("div",{className:"flex items-center gap-1.5",children:[e.jsxs("div",{className:"relative",children:[e.jsx(qe.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsxs(Q,{variant:"ghost",size:"icon",className:"relative h-8 w-8",onClick:()=>w(!N),children:[e.jsx(jg,{className:"w-4 h-4"}),n.pendingBookings>0&&e.jsx(qe.span,{initial:{scale:0},animate:{scale:1},className:"absolute -top-0.5 -right-0.5 text-white text-[10px] font-bold rounded-full w-4 h-4 flex items-center justify-center shadow-lg",style:{backgroundColor:Zt.teal},children:n.pendingBookings})]})}),e.jsx(bo,{children:N&&e.jsxs(qe.div,{initial:{opacity:0,y:-10,scale:.95},animate:{opacity:1,y:0,scale:1},exit:{opacity:0,y:-10,scale:.95},className:"absolute right-0 mt-2 w-80 bg-white dark:bg-gray-900 rounded-xl shadow-2xl border border-gray-200 dark:border-gray-800 overflow-hidden",children:[e.jsxs("div",{className:"p-3 text-white",style:{background:`linear-gradient(to right, ${Zt.darkBlue}, ${Zt.teal})`},children:[e.jsx("h3",{className:"font-bold text-base",children:"Notifications"}),e.jsxs("p",{className:"text-xs opacity-90",children:[n.pendingBookings," pending actions"]})]}),e.jsx("div",{className:"max-h-80 overflow-y-auto",children:i.slice(0,5).map((D,K)=>{const X=k(D.status);return e.jsx("div",{className:"p-3 border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-colors",children:e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("div",{className:`w-7 h-7 rounded-full ${X.color} flex items-center justify-center flex-shrink-0`,children:e.jsx(X.icon,{className:"w-3 h-3 text-white"})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"text-xs font-medium text-gray-900 dark:text-gray-100",children:D.message}),e.jsx("p",{className:"text-[10px] text-gray-500 dark:text-gray-400 truncate",children:D.car}),D.amount&&e.jsxs("p",{className:"text-[10px] font-semibold",style:{color:Zt.teal},children:["$",D.amount]}),e.jsxs("p",{className:"text-[10px] text-gray-400 dark:text-gray-500 mt-0.5",children:[D.date," at ",D.time]})]})]})},K)})}),e.jsx("div",{className:"p-2 bg-gray-50 dark:bg-gray-800/50",children:e.jsxs(Q,{variant:"ghost",className:"w-full text-xs h-8",style:{color:Zt.teal},onClick:()=>t("/Mycars-bookings"),children:["View All Bookings",e.jsx(sn,{className:"w-3 h-3 ml-1"})]})})]})})]}),e.jsx(qe.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(Q,{variant:"ghost",size:"icon",onClick:R,className:"h-8 w-8",children:_?e.jsx(kg,{className:"w-4 h-4"}):e.jsx(Cg,{className:"w-4 h-4"})})}),e.jsx(qe.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(Q,{variant:"ghost",size:"icon",className:"h-8 w-8 hidden sm:flex",children:e.jsx(Tm,{className:"w-4 h-4"})})}),e.jsx(qe.div,{whileHover:{scale:1.05},whileTap:{scale:.95},children:e.jsx(Q,{variant:"ghost",size:"icon",onClick:A,className:"h-8 w-8 hover:bg-red-50 dark:hover:bg-red-950/30 text-red-600 dark:text-red-400",children:e.jsx(jl,{className:"w-4 h-4"})})})]})]})})}),e.jsxs("main",{className:"container mx-auto px-4 sm:px-6 py-6 max-w-7xl relative z-10",children:[f&&e.jsx(qe.div,{initial:{opacity:0},animate:{opacity:1},className:"space-y-6",children:e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4",children:[1,2,3,4].map(D=>e.jsx(Ae,{className:"overflow-hidden",children:e.jsx(Ee,{className:"p-3 md:p-4",children:e.jsxs("div",{className:"animate-pulse space-y-2",children:[e.jsxs("div",{className:"flex justify-between items-start",children:[e.jsx("div",{className:"h-9 w-9 bg-gray-200 dark:bg-gray-700 rounded-lg"}),e.jsx("div",{className:"h-4 w-12 bg-gray-200 dark:bg-gray-700 rounded-full"})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"h-3 w-20 bg-gray-200 dark:bg-gray-700 rounded"}),e.jsx("div",{className:"h-6 w-14 bg-gray-300 dark:bg-gray-600 rounded"})]})]})})},D))})}),!f&&v&&e.jsxs(qe.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"text-center py-16",children:[e.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 rounded-full bg-red-100 dark:bg-red-900/20 mb-4",children:e.jsx(bl,{className:"w-8 h-8 text-red-600 dark:text-red-400"})}),e.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-2",children:"Unable to Load Dashboard"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-4",children:"Please try again."}),e.jsxs(Q,{onClick:E,className:"text-white",style:{background:`linear-gradient(to right, ${Zt.darkBlue}, ${Zt.teal})`},children:[e.jsx(rm,{className:"w-4 h-4 mr-2"}),"Retry"]})]}),!f&&!v&&e.jsxs(qe.div,{variants:B,initial:"hidden",animate:"visible",className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4",children:[H.map((D,K)=>e.jsx(qe.div,{variants:P,whileHover:{y:-4,transition:{duration:.2}},children:e.jsxs(Ae,{className:"relative overflow-hidden group hover:shadow-xl transition-all duration-300 border-0 bg-white dark:bg-gray-900",children:[e.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-10 transition-opacity duration-300",style:{backgroundColor:D.color}}),e.jsxs(Ee,{className:"p-3 md:p-4 relative",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("div",{className:"w-9 h-9 md:w-10 md:h-10 rounded-lg p-2 shadow-md group-hover:scale-110 transition-transform duration-300",style:{backgroundColor:D.color},children:e.jsx(D.icon,{className:"w-full h-full text-white"})}),e.jsx("div",{className:`flex items-center gap-0.5 px-1.5 py-0.5 rounded-full text-[10px] font-semibold
                          ${D.changeType==="up"?"bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400":""}
                          ${D.changeType==="neutral"?"bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-400":""}
                        `,children:D.change})]}),e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("p",{className:"text-[10px] md:text-xs font-medium text-gray-600 dark:text-gray-400",children:D.title}),e.jsx("p",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-white tracking-tight",children:D.value}),e.jsx("p",{className:"text-[9px] md:text-[10px] text-gray-500 dark:text-gray-500",children:D.description})]}),e.jsx("div",{className:"absolute -bottom-2 -right-2 w-20 h-20 rounded-full blur-2xl opacity-5 group-hover:opacity-20 transition-opacity duration-300",style:{backgroundColor:D.color}})]})]})},K)),h!=null&&e.jsx(qe.div,{variants:P,children:e.jsxs(Ae,{className:"relative overflow-hidden group hover:shadow-xl transition-all duration-300 border-0 bg-white dark:bg-gray-900 cursor-pointer",onClick:()=>t("/Balance"),children:[e.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-10 transition-opacity duration-300",style:{backgroundColor:Zt.limeGreen}}),e.jsxs(Ee,{className:"p-3 md:p-4 relative",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("div",{className:"w-9 h-9 md:w-10 md:h-10 rounded-lg p-2 shadow-md group-hover:scale-110 transition-transform duration-300",style:{backgroundColor:Zt.limeGreen},children:e.jsx(Tg,{className:"w-full h-full text-white"})}),e.jsx("span",{className:"text-[10px] font-semibold bg-emerald-100 text-emerald-700 dark:bg-emerald-900/30 dark:text-emerald-400 px-1.5 py-0.5 rounded-full",children:"Net earnings"})]}),e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("p",{className:"text-[10px] md:text-xs font-medium text-gray-600 dark:text-gray-400",children:"Your earnings"}),e.jsxs("p",{className:"text-xl md:text-2xl font-bold text-gray-900 dark:text-white tracking-tight",children:["$",(parseFloat(h?.net_earnings)||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]}),e.jsx("p",{className:"text-[9px] md:text-[10px] text-gray-500 dark:text-gray-500",children:"View balance "})]})]})]})})]}),e.jsxs(qe.div,{variants:P,children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-white",children:"Quick Actions"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-0.5",children:"Manage your fleet"})]})}),e.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4",children:V.map((D,K)=>e.jsx(qe.div,{variants:P,whileHover:{scale:1.02,y:-3},whileTap:{scale:.98},children:e.jsx("a",{href:D.href,className:"block group",children:e.jsxs(Ae,{className:"relative overflow-hidden hover:shadow-xl transition-all duration-300 border-0 h-full",children:[e.jsx("div",{className:"absolute inset-0 opacity-5 group-hover:opacity-15 transition-opacity duration-300",style:{backgroundColor:D.color}}),e.jsx("div",{className:"absolute inset-0 opacity-0 group-hover:opacity-100 transition-opacity duration-500",children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent -translate-x-full group-hover:translate-x-full transition-transform duration-1000"})}),e.jsxs(Ee,{className:"p-4 md:p-6 text-center relative",children:[e.jsxs("div",{className:"relative mb-3 inline-block",children:[e.jsx("div",{className:"w-12 h-12 md:w-14 md:h-14 rounded-xl p-3 shadow-lg group-hover:shadow-xl group-hover:scale-110 transition-all duration-300",style:{backgroundColor:D.color},children:e.jsx(D.icon,{className:"w-full h-full text-white"})}),e.jsx("div",{className:"absolute inset-0 rounded-xl blur-lg opacity-0 group-hover:opacity-50 transition-opacity duration-300",style:{backgroundColor:D.color}})]}),e.jsx("h4",{className:"text-sm md:text-base font-bold text-gray-900 dark:text-white mb-1",children:D.title}),e.jsx("p",{className:"text-[10px] md:text-xs text-gray-600 dark:text-gray-400",children:D.description}),e.jsxs("div",{className:"mt-2 flex items-center justify-center gap-1 opacity-0 group-hover:opacity-100 transition-all duration-300 transform translate-y-1 group-hover:translate-y-0",style:{color:D.color},children:[e.jsx("span",{className:"text-xs font-semibold",children:"Go"}),e.jsx(sn,{className:"w-3 h-3"})]})]})]})})},K))})]}),d.length>0&&e.jsxs(qe.div,{variants:P,children:[e.jsx("div",{className:"flex items-center justify-between mb-4",children:e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-white",children:"Top Performing Cars"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-0.5",children:"Views, clicks & search count"})]})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-2 gap-3 md:gap-4",children:d.map((D,K)=>e.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1*K},whileHover:{y:-4},children:e.jsx(Ae,{className:"overflow-hidden hover:shadow-xl transition-all duration-300 border-0",children:e.jsxs(Ee,{className:"p-0",children:[e.jsxs("div",{className:"relative h-32 bg-gray-100 dark:bg-gray-800",children:[e.jsx("img",{src:`/api/storage/${D.image}`,alt:D.name,className:"w-full h-full object-cover"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 to-transparent"}),e.jsx(Re,{className:"absolute top-2 right-2 text-white border-0",style:{backgroundColor:Zt.teal},children:D.category})]}),e.jsxs("div",{className:"p-3",children:[e.jsx("h4",{className:"font-bold text-sm mb-2 text-gray-900 dark:text-white truncate",children:D.name}),e.jsxs("div",{className:"flex flex-wrap items-center gap-x-3 gap-y-1.5 text-xs",children:[e.jsxs("div",{className:"flex items-center gap-1",style:{color:Zt.teal},title:"Views (impressions)",children:[e.jsx(Ys,{className:"w-3 h-3 shrink-0"}),e.jsx("span",{className:"font-semibold",children:D.views})]}),e.jsxs("div",{className:"flex items-center gap-1",style:{color:Zt.limeGreen},title:"Clicks (detail opens)",children:[e.jsx(Sc,{className:"w-3 h-3 shrink-0"}),e.jsx("span",{className:"font-semibold",children:D.clicks})]}),e.jsxs("div",{className:"flex items-center gap-1",style:{color:Zt.darkBlue},title:"Search count",children:[e.jsx(Ca,{className:"w-3 h-3 shrink-0"}),e.jsx("span",{className:"font-semibold",children:D.searches})]}),e.jsxs("div",{className:"font-bold ml-auto",style:{color:Zt.darkBlue},children:["$",D.dailyRate,"/day"]})]})]})]})})},D.id))})]}),h!=null&&e.jsx(qe.div,{variants:P,children:e.jsx(Ae,{className:"overflow-hidden border-0 shadow-lg cursor-pointer hover:shadow-xl transition-all",style:{background:`linear-gradient(to bottom right, ${Zt.darkBlue}, ${Zt.teal})`},onClick:()=>t("/Balance"),children:e.jsxs(Ee,{className:"p-4 md:p-6 text-white",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-bold",children:"Earnings & Balance"}),e.jsx("span",{className:"text-xs opacity-90",children:"View details "})]}),e.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium opacity-90",children:"Total booking amount"}),e.jsxs("p",{className:"text-xl md:text-2xl font-bold",children:["$",(parseFloat(h.total_amount)||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium opacity-90",children:"App fees"}),e.jsxs("p",{className:"text-xl md:text-2xl font-bold",children:["$",(parseFloat(h.app_fees_amount)||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium opacity-90",children:"Your net earnings"}),e.jsxs("p",{className:"text-xl md:text-2xl font-bold",style:{color:Zt.limeGreen},children:["$",(parseFloat(h.net_earnings)||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium opacity-90",children:"From bookings"}),e.jsx("p",{className:"text-xl md:text-2xl font-bold",children:h.bookings_count??0})]})]}),h.app_fees_percentage!=null&&e.jsxs("p",{className:"text-xs mt-3 opacity-90",children:["Fee: ",h.app_fees_percentage,"%"]})]})})}),e.jsx(qe.div,{variants:P,children:e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6",children:[e.jsx(Ae,{className:"overflow-hidden border-0 shadow-lg text-white",style:{background:`linear-gradient(to bottom right, ${Zt.teal}, ${Zt.limeGreen})`},children:e.jsxs(Ee,{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium mb-1 opacity-90",children:"Total Revenue"}),e.jsxs("h3",{className:"text-3xl md:text-4xl font-bold",children:["$",h!=null?(parseFloat(h.total_amount)||0).toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2}):n.totalRevenue.toFixed(2)]})]}),e.jsx("div",{className:"w-11 h-11 md:w-12 md:h-12 rounded-lg bg-white/20 backdrop-blur-sm p-2.5",children:e.jsx(Is,{className:"w-full h-full"})})]}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-full bg-white/20 backdrop-blur-sm text-[10px] font-semibold",children:[e.jsx(wl,{className:"w-2.5 h-2.5"}),h!=null?`${h.bookings_count??0} confirmed + completed`:`${n.confirmedBookings} confirmed`," bookings"]})}),e.jsx("div",{className:"mt-4 pt-4 border-t border-white/20",children:e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"opacity-90",children:"Pending bookings"}),e.jsx("span",{className:"font-bold",children:n.pendingBookings})]})})]})}),e.jsx(Ae,{className:"overflow-hidden border-0 shadow-lg text-white",style:{background:`linear-gradient(to bottom right, ${Zt.darkBlue}, ${Zt.teal})`},children:e.jsxs(Ee,{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium mb-1 opacity-90",children:"Fleet Visibility"}),e.jsx("h3",{className:"text-3xl md:text-4xl font-bold",children:n.totalViews.toLocaleString()}),e.jsx("p",{className:"text-xs opacity-90 mt-0.5",children:"Total views (impressions)"})]}),e.jsx("div",{className:"w-11 h-11 md:w-12 md:h-12 rounded-lg bg-white/20 backdrop-blur-sm p-2.5",children:e.jsx(Ys,{className:"w-full h-full"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"opacity-90",children:"Total clicks (detail opens)"}),e.jsx("span",{className:"font-bold",children:n.totalClicks.toLocaleString()})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"opacity-90",children:"Total searches"}),e.jsx("span",{className:"font-bold",children:n.totalSearches.toLocaleString()})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs",children:[e.jsx("span",{className:"opacity-90",children:"Avg per vehicle"}),e.jsxs("span",{className:"font-bold",children:[n.avgViewsPerCar," views"]})]})]}),e.jsxs("div",{className:"mt-4 pt-4 border-t border-white/20 space-y-2",children:[e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-full bg-white/20 backdrop-blur-sm text-[10px] font-semibold w-fit",children:[e.jsx(Ys,{className:"w-2.5 h-2.5"}),"Most viewed: ",n.topViewedCar?.make," ",n.topViewedCar?.model]}),e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-full bg-white/20 backdrop-blur-sm text-[10px] font-semibold w-fit",children:[e.jsx(Sc,{className:"w-2.5 h-2.5"}),"Most clicked: ",n.topClickedCar?.make," ",n.topClickedCar?.model]}),e.jsxs("div",{className:"flex items-center gap-1 px-2 py-1 rounded-full bg-white/20 backdrop-blur-sm text-[10px] font-semibold w-fit",children:[e.jsx(Ca,{className:"w-2.5 h-2.5"}),"Most searched: ",n.topSearchedCar?.make," ",n.topSearchedCar?.model]})]})]})})]})})]}),e.jsxs(qe.div,{variants:P,children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg md:text-xl font-bold text-gray-900 dark:text-white",children:"Recent Activity"}),e.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mt-0.5",children:"Latest bookings"})]}),e.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>t("/Mycars-bookings"),className:"hidden sm:flex text-xs h-8",children:["View All",e.jsx(sn,{className:"w-3 h-3 ml-1"})]})]}),e.jsx(Ae,{className:"overflow-hidden border-0 shadow-lg bg-white dark:bg-gray-900",children:e.jsx(Ee,{className:"p-0",children:i.map((D,K)=>{const X=k(D.status),ne=X.icon;return e.jsx(qe.div,{initial:{opacity:0,x:-15},animate:{opacity:1,x:0},transition:{delay:K*.04},className:"group hover:bg-gray-50 dark:hover:bg-gray-800/50 transition-all duration-200 border-b border-gray-100 dark:border-gray-800 last:border-b-0",children:e.jsxs("div",{className:"p-3 md:p-4 flex items-center gap-3",children:[e.jsx("div",{className:`flex-shrink-0 w-9 h-9 md:w-10 md:h-10 rounded-lg ${X.bgColor} flex items-center justify-center group-hover:scale-110 transition-transform duration-200`,children:e.jsx(ne,{className:`w-4 h-4 md:w-5 md:h-5 ${X.textColor}`})}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-start justify-between gap-2 mb-0.5",children:[e.jsx("p",{className:`text-xs md:text-sm font-semibold ${D.isEmpty?"italic text-gray-500":"text-gray-900 dark:text-gray-100"}`,children:D.message}),e.jsx(Re,{className:`${X.bgColor} ${X.textColor} border-0 flex-shrink-0 text-[10px] px-2 py-0.5`,children:X.label})]}),e.jsx("div",{className:"flex items-center gap-2 md:gap-3 text-[10px] md:text-xs text-gray-500 dark:text-gray-400 flex-wrap",children:!D.isEmpty&&e.jsxs(e.Fragment,{children:[e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Vt,{className:"w-2.5 h-2.5 md:w-3 md:h-3"}),e.jsx("span",{className:"truncate max-w-[100px]",children:D.car})]}),D.amount&&e.jsxs("span",{className:"font-bold",style:{color:Zt.teal},children:["$",D.amount]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(pu,{className:"w-2.5 h-2.5 md:w-3 md:h-3"}),D.date," ",D.time]})]})})]}),!D.isEmpty&&e.jsx(sn,{className:"w-4 h-4 text-gray-400 opacity-0 group-hover:opacity-100 group-hover:translate-x-0.5 transition-all duration-200 hidden md:block"})]})},K)})})})]})]})]})}const Ls={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640",darkBlueDim:"rgba(14, 76, 129, 0.1)",tealDim:"rgba(0, 140, 149, 0.1)",limeGreenDim:"rgba(138, 198, 64, 0.1)"},Jb=t=>{if(t==null||t==="")return"0.00";const s=parseFloat(t);return Number.isNaN(s)?"0.00":s.toLocaleString("en-US",{minimumFractionDigits:2,maximumFractionDigits:2})};function Mee(){const t=Ua(),[s,a]=x.useState(!0),[n,r]=x.useState(!1),[i,l]=x.useState(null),d=async()=>{a(!0),r(!1);try{const{data:u}=await bP();l(u)}catch(u){console.error("Failed to load earnings:",u),r(!0),se.error("Failed to load earnings. Please try again.")}finally{a(!1)}};return x.useEffect(()=>{d()},[]),s&&!i?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900 pt-20 flex items-center justify-center",children:e.jsx(qe.div,{animate:{rotate:360},transition:{duration:1,repeat:1/0,ease:"linear"},className:"w-14 h-14 rounded-full border-4 border-t-transparent",style:{borderColor:Ls.tealDim,borderTopColor:Ls.teal}})}):e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900 pt-20",children:e.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[e.jsx(qe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"mb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{className:"w-14 h-14 rounded-xl flex items-center justify-center shadow-lg",style:{background:`linear-gradient(135deg, ${Ls.teal}, ${Ls.darkBlue})`},children:e.jsx(Tg,{className:"w-7 h-7 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(135deg, ${Ls.darkBlue}, ${Ls.teal})`},children:"Balance & Earnings"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mt-1",children:"Total amount, app fees, and your net earnings"})]})]}),e.jsxs(qe.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:d,disabled:s,className:"flex items-center gap-2 px-4 py-2.5 rounded-xl font-medium border-2 transition-colors",style:{borderColor:Ls.teal,color:Ls.teal},children:[e.jsx(Nt,{className:`w-5 h-5 ${s?"animate-spin":""}`}),"Refresh"]})]})}),n&&!i?e.jsxs(Ae,{className:"border-2 rounded-2xl p-8 text-center",children:[e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-4",children:"Could not load earnings."}),e.jsx(qe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:d,className:"px-5 py-2.5 rounded-xl text-white font-semibold",style:{background:`linear-gradient(135deg, ${Ls.teal}, ${Ls.darkBlue})`},children:"Try again"})]}):i?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8",children:[e.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:e.jsx(Ae,{className:"border-2 rounded-2xl overflow-hidden shadow-lg h-full",style:{borderColor:Ls.tealDim},children:e.jsxs(Ee,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2.5 rounded-xl",style:{background:Ls.tealDim},children:e.jsx(Is,{className:"w-6 h-6",style:{color:Ls.teal}})}),e.jsx("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Total booking amount"})]}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:["$",Jb(i.total_amount)]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"What clients paid (confirmed + completed)"})]})})}),e.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:e.jsx(Ae,{className:"border-2 rounded-2xl overflow-hidden shadow-lg h-full",style:{borderColor:Ls.darkBlueDim},children:e.jsxs(Ee,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2.5 rounded-xl",style:{background:Ls.darkBlueDim},children:e.jsx(nk,{className:"w-6 h-6",style:{color:Ls.darkBlue}})}),e.jsx("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:"App fees (platform)"})]}),e.jsxs("p",{className:"text-3xl font-bold text-gray-900 dark:text-white",children:["$",Jb(i.app_fees_amount)]}),e.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:["Deducted from you  Fee: ",i.app_fees_percentage!=null?`${i.app_fees_percentage}%`:""]})]})})}),e.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:e.jsx(Ae,{className:"border-2 rounded-2xl overflow-hidden shadow-lg h-full",style:{borderColor:Ls.limeGreenDim},children:e.jsxs(Ee,{className:"p-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{className:"p-2.5 rounded-xl",style:{background:Ls.limeGreenDim},children:e.jsx(wl,{className:"w-6 h-6",style:{color:Ls.limeGreen}})}),e.jsx("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Your net earnings"})]}),e.jsxs("p",{className:"text-3xl font-bold",style:{color:Ls.limeGreen},children:["$",Jb(i.net_earnings)]}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Total amount  app fees"})]})})})]}),e.jsxs(qe.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.4},className:"flex flex-wrap items-center gap-6 p-4 rounded-2xl border-2 bg-white dark:bg-gray-800/50",style:{borderColor:Ls.tealDim},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(I7,{className:"w-5 h-5",style:{color:Ls.teal}}),e.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["From ",e.jsx("strong",{children:i.bookings_count??0})," bookings"]})]}),i.app_fees_percentage!=null&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(nk,{className:"w-5 h-5",style:{color:Ls.darkBlue}}),e.jsxs("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:["Your app fee: ",e.jsxs("strong",{children:[i.app_fees_percentage,"%"]})]})]})]}),e.jsx(qe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-8",children:e.jsx(Ae,{className:"border-2 rounded-2xl overflow-hidden cursor-pointer hover:shadow-xl transition-all",style:{borderColor:Ls.tealDim},onClick:()=>t("/Mycars-bookings"),children:e.jsxs(Ee,{className:"p-4 flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"p-2 rounded-xl",style:{background:Ls.tealDim},children:e.jsx(Ms,{className:"w-5 h-5",style:{color:Ls.teal}})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-semibold text-gray-900 dark:text-white",children:"View bookings"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"See amount and app fee per booking"})]})]}),e.jsx(sn,{className:"w-5 h-5 text-gray-400"})]})})})]}):null]})})}const Pee=({noIndex:t=!1})=>{x.useEffect(()=>{document.title="Rento LB | Rent & Compare Cars in Lebanon";let d=document.querySelector('meta[name="robots"]');d||(d=document.createElement("meta"),d.setAttribute("name","robots"),document.head.appendChild(d)),d.setAttribute("content",t?"noindex,nofollow":"index,follow")},[t]);const s=!1,a={en:[{question:"How do I rent a car on Rento LB?",answer:"Rento LB makes car rental easy. Simply browse our selection of vehicles from trusted agencies and private owners, choose your rental dates, and complete your booking online."}],fr:[{question:"Comment louer une voiture sur Rento LB ?",answer:"Rento LB simplifie la location de voitures en vous connectant directement avec des agences et propritaires."}],ar:[{question:"    Rento LB",answer:"         ."}]},n={"@context":"https://schema.org","@type":"RentalCarAgency","@id":"https://rento-lb.com/#organization",name:"Rento LB",alternateName:"Rento Lebanon",url:"https://rento-lb.com/",logo:{"@type":"ImageObject","@id":"https://rento-lb.com/#logo",url:"https://rento-lb.com/rento-512.png",contentUrl:"https://rento-lb.com/rento-512.png",width:512,height:512},image:"https://rento-lb.com/rento-512.png",telephone:"+96181001301",email:"social@rento-lb.com",address:{"@type":"PostalAddress",streetAddress:"City Center",addressLocality:"Beirut",addressCountry:"LB"},areaServed:{"@type":"Country",name:"Lebanon"},description:"Car rental marketplace in Lebanon connecting renters with private owners and agencies. Transparent pricing and direct communication.",priceRange:"$$",currenciesAccepted:"USD, LBP",paymentAccepted:["Cash"],founder:{"@type":"Person",name:"Rami Zeaiter"},contactPoint:[{"@type":"ContactPoint",telephone:"+96181001301",contactType:"customer support",areaServed:"LB",availableLanguage:["English","French","Arabic"]}],sameAs:["https://www.facebook.com/profile.php?id=61585450048575","https://www.instagram.com/rentolebanon","https://www.tiktok.com/@rentolebanon","https://x.com/RENTO_lb","https://www.linkedin.com/company/rento-lb/about/"],...s},r={"@context":"https://schema.org","@type":"WebSite","@id":"https://rento-lb.com/#website",name:"Rento LB",url:"https://rento-lb.com/",publisher:{"@id":"https://rento-lb.com/#organization"},potentialAction:{"@type":"SearchAction",target:"https://rento-lb.com/search?query={search_term_string}","query-input":"required name=search_term_string"},inLanguage:["en","fr","ar"]},i={"@context":"https://schema.org","@type":"FAQPage","@id":"https://rento-lb.com/#faq",mainEntity:Object.values(a).flat().map(d=>({"@type":"Question",name:d.question,acceptedAnswer:{"@type":"Answer",text:d.answer}}))},l={"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:[{"@type":"ListItem",position:1,name:"Home",item:"https://rento-lb.com/"}]};return e.jsxs(e.Fragment,{children:[e.jsx("meta",{name:"trustpilot-one-time-domain-verification-id",content:"2ddec9a3-46a7-4ab8-a397-7482d145e508"}),e.jsx("meta",{name:"description",content:"Compare rental cars in Lebanon from agencies and private owners. Book easily and communicate directly."}),e.jsx("meta",{name:"keywords",content:"car rental Lebanon, rent a car Beirut, private car rental Lebanon"}),e.jsx("meta",{name:"viewport",content:"width=device-width, initial-scale=1"}),e.jsx("meta",{name:"theme-color",content:"#0d9488"}),e.jsx("meta",{name:"author",content:"Rento LB"}),e.jsx("link",{rel:"canonical",href:"https://rento-lb.com"}),e.jsx("meta",{property:"og:type",content:"website"}),e.jsx("meta",{property:"og:url",content:"https://rento-lb.com"}),e.jsx("meta",{property:"og:title",content:"Rento LB | Car Rental in Lebanon"}),e.jsx("meta",{property:"og:description",content:"Find rental cars across Lebanon."}),e.jsx("meta",{property:"og:image",content:"https://rento-lb.com/og-cover.png"}),e.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(n)}}),e.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(r)}}),e.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(i)}}),e.jsx("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(l)}})]})},Oee=[{label:"Beirut",value:"beirut"},{label:"Mount Lebanon",value:"mount-liban"},{label:"North",value:"north"},{label:"South",value:"south"},{label:"Bekaa",value:"bekaa"},{label:"Baalbek",value:"baalbek"},{label:"Keserwan",value:"keserwan"},{label:"Nabatieh",value:"nabatieh"},{label:"Akkar",value:"akkar"}];function Lee(t){if(!t||typeof t!="string")return null;const s=t.trim(),a=s.match(/@(-?\d+\.?\d*),(-?\d+\.?\d*)/);if(a)return{lat:parseFloat(a[1]),lng:parseFloat(a[2])};const n=s.match(/[?&]q=(-?\d+\.?\d*),(-?\d+\.?\d*)/);if(n)return{lat:parseFloat(n[1]),lng:parseFloat(n[2])};const r=s.match(/(?:!3d|!4d|!1d)(-?\d+\.?\d*)/g);if(r&&r.length>=2){const i=parseFloat(String(r[0]).replace(/\D/g,"")),l=parseFloat(String(r[1]).replace(/\D/g,""));if(!isNaN(i)&&!isNaN(l))return{lat:i,lng:l}}return null}function Bee(){const t=Ua(),s=x.useMemo(()=>`cp_${Date.now()}_${Math.random().toString(16).slice(2)}`,[]),a=(...Se)=>{console.log(`[CompleteProfile ${s}]`,...Se)},n=()=>{try{a("axios.baseURL =",xe?.defaults?.baseURL),a("axios.withCredentials =",xe?.defaults?.withCredentials),a("axios.headers.Authorization =",xe?.defaults?.headers?.common?.Authorization)}catch(Se){a("Failed to read axios defaults",Se)}},r=Se=>{try{const Xe=[];for(const[Pe,mt]of Se.entries())mt instanceof File?Xe.push({key:Pe,type:"File",name:mt.name,size:mt.size,mime:mt.type}):Xe.push({key:Pe,type:typeof mt,value:mt});return a("FormData entries =>",Xe),Xe}catch(Xe){return a("Failed to dump FormData",Xe),null}},[i,l]=x.useState(null),[d,u]=x.useState(!1),[h,p]=x.useState(null),[f,y]=x.useState({first_name:"",last_name:"",gender:"",birth_date:"",city:"",bio:"",profile_picture:null,id_card_front:null,id_card_back:null,license_number:"",driver_license:null,profession:"",avg_salary:"",promo_code:"",business_type:"",company_number:"",business_doc:null,location:"",app_fees:"",contract_form:"",policies:"",website:""}),[v,j]=x.useState(!1),[N,w]=x.useState(!1),[_,T]=x.useState(null),[R,E]=x.useState({lat:33.8547,lng:35.8623}),[A,V]=x.useState(""),[k,B]=x.useState(""),[P,H]=x.useState(!1),[D,K]=x.useState(""),[X,ne]=x.useState(!1),te=i?.role==="client",U=i?.role==="agency"||i?.role==="agency",q=Se=>Se?String(Se).slice(0,10):"",G=Se=>{const Xe=Se?.user||{},Pe=Se?.client||Xe?.client||{},mt=Se?.agency||Xe?.agency||Se?.agency||{};y(at=>({...at,first_name:Xe.first_name??at.first_name??"",last_name:Xe.last_name??at.last_name??"",gender:Xe.gender??at.gender??"",birth_date:q(Xe.birth_date)||at.birth_date||"",city:Xe.city??at.city??"",bio:Xe.bio??at.bio??"",license_number:Pe.license_number??at.license_number??"",profession:Pe.profession??at.profession??"",avg_salary:Pe.avg_salary??at.avg_salary??"",promo_code:Pe.promo_code??at.promo_code??"",business_type:mt.business_type??at.business_type??"",company_number:mt.company_number??at.company_number??"",location:mt.location?typeof mt.location=="string"?mt.location:JSON.stringify(mt.location):at.location??"",app_fees:mt.app_fees??at.app_fees??"",contract_form:mt.contract_form??at.contract_form??"",policies:mt.policies??at.policies??"",website:mt.website??at.website??""}));const _t=(mt.business_type||"").toString();if(j(_t==="company"),mt.location)try{const at=typeof mt.location=="string"?JSON.parse(mt.location):mt.location;at.latitude&&at.longitude&&(T({lat:at.latitude,lng:at.longitude}),E({lat:at.latitude,lng:at.longitude}))}catch(at){a("Failed to parse existing location",at)}},F=()=>{if(!navigator.geolocation){se.error("Geolocation is not supported by your browser"),M();return}se.info("Getting your location...");const Se={enableHighAccuracy:!0,timeout:15e3,maximumAge:6e4};navigator.geolocation.getCurrentPosition(Xe=>{const Pe={lat:parseFloat(Xe.coords.latitude.toFixed(6)),lng:parseFloat(Xe.coords.longitude.toFixed(6))};T(Pe),E(Pe);const mt={latitude:Pe.lat,longitude:Pe.lng,country:"Lebanon"};y(_t=>({..._t,location:JSON.stringify(mt)})),se.success("Location detected successfully!"),a("Current location:",mt)},Xe=>{a("Geolocation error:",Xe),se.info("Location could not be detected. Select your location on the map."),w(!0)},Se)},M=()=>{w(!0)},z=(Se,Xe)=>{const Pe={lat:parseFloat(Se.toFixed(6)),lng:parseFloat(Xe.toFixed(6))};T(Pe),a("Map clicked location:",Pe)},ie=()=>{if(_){const Se={latitude:_.lat,longitude:_.lng,country:"Lebanon"};y(Xe=>({...Xe,location:JSON.stringify(Se)})),se.success("Location selected!"),w(!1)}else se.error("Please select a location on the map")},le=Se=>{const Xe=Lee(Se);if(Xe){const Pe={lat:parseFloat(Xe.lat.toFixed(6)),lng:parseFloat(Xe.lng.toFixed(6))};T(Pe),E(Pe);const mt={latitude:Pe.lat,longitude:Pe.lng,country:"Lebanon"};y(_t=>({..._t,location:JSON.stringify(mt)})),se.success("Location set from Google Maps link.")}else se.error("Could not read coordinates. Use a link with lat,lng (e.g. @33.89,35.50 or ?q=33.89,35.50).")},re=async(Se,Xe)=>{const Pe=Se.trim();if(Pe){Xe?ne(!0):H(!0);try{const _t=await(await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(Pe)}&limit=1`,{headers:{Accept:"application/json"}})).json();if(_t&&_t[0]){const at=parseFloat(_t[0].lat),ds=parseFloat(_t[0].lon),us={lat:at,lng:ds};T(us),E(us);const Ps={latitude:at,longitude:ds,country:"Lebanon"};y(pe=>({...pe,location:JSON.stringify(Ps)})),se.success("Location found. Confirm in the modal if needed.")}else se.error("No results found. Try another search.")}catch{se.error("Search failed. Try again.")}finally{Xe?ne(!1):H(!1)}}},fe=()=>re(k,!1),we=()=>re(D,!0),ye=async()=>{try{n(),a("GET /profile/status starting...");const Se=await xe.get("/profile/status",{headers:{"X-Debug-Id":s}});if(a("GET /profile/status success:",Se.status,Se.data),p(Se.data),G(Se.data),Se.data?.is_complete){const Xe=Se.data.user;a("Profile already complete. Redirecting. role =",Xe?.role),Xe?.role==="agency"||Xe?.role==="agency"?t("/Dashboard"):t("/")}}catch(Se){a("GET /profile/status FAILED",Se),Se?.response&&a("Status error response:",Se.response.status,Se.response.data)}};x.useEffect(()=>{const Se=JSON.parse(localStorage.getItem("user"));if(!Se){se.error("Please login first"),t("/auth");return}l(Se),a("Loaded user from localStorage:",Se),ye()},[t]);const Be=Se=>{const{name:Xe,value:Pe,files:mt}=Se.target;if(mt){const _t=mt[0]||null;y(at=>({...at,[Xe]:_t})),a("File changed:",Xe,_t?{name:_t.name,size:_t.size,type:_t.type}:null);return}y(_t=>({..._t,[Xe]:Pe})),a("Field changed:",Xe,Pe),Xe==="business_type"&&j(Pe==="company")},ke=(Se,Xe)=>{y(Pe=>({...Pe,[Se]:Xe})),a("Select changed:",Se,Xe),Se==="business_type"&&j(Xe==="company")},Ye=()=>{if(!f.first_name||!f.last_name||!f.gender||!f.birth_date||!f.city)return se.error("Please fill all required base fields"),!1;if(!f.id_card_front||!f.id_card_back)return se.error("Please upload both ID card photos"),!1;if(te){if(!f.license_number||!f.driver_license||!f.profession||!f.avg_salary)return se.error("Please fill all required client fields"),!1;if(!["employee","freelancer","business","student","other"].includes(f.profession))return se.error("Please select a valid profession"),!1;if(!["200-500","500-1000","1000-2000","2000+"].includes(f.avg_salary))return se.error("Please select a valid salary range"),!1}if(U){if(console.log("[CompleteProfile Validate]","Agency validation started",{business_type:f.business_type,profession:f.profession,hasLocation:!!f.location,locationLength:f.location?.length}),!f.business_type||!f.profession)return console.log("[CompleteProfile Validate]","Failed: missing business_type or profession"),se.error("Please fill all required agency fields"),!1;if(!f.location)return console.log("[CompleteProfile Validate]","Failed: no location"),se.error("Please select your agency location. Opening map..."),w(!0),setTimeout(()=>document.getElementById("agency-location-section")?.scrollIntoView({behavior:"smooth"}),100),!1;if(!["rental","private","company","marina"].includes(f.business_type))return console.log("[CompleteProfile Validate]","Failed: invalid business_type",f.business_type),se.error("Please select a valid business type"),!1;if(!["owner","manager"].includes(f.profession))return console.log("[CompleteProfile Validate]","Failed: invalid profession",f.profession),se.error("Please select a valid profession"),!1;try{const Pe=JSON.parse(f.location);if(!Pe.latitude||!Pe.longitude)return console.log("[CompleteProfile Validate]","Failed: location missing lat/lng",Pe),se.error("Invalid location data. Please select your location again"),!1;console.log("[CompleteProfile Validate]","Location OK",Pe)}catch(Pe){return console.log("[CompleteProfile Validate]","Failed: location parse error",Pe,"raw:",f.location),se.error("Invalid location format. Please select your location again"),!1}if(f.business_type==="company"&&(!f.company_number||!f.business_doc))return console.log("[CompleteProfile Validate]","Failed: company fields",{company_number:f.company_number,business_doc:!!f.business_doc}),se.error("Please fill company number and upload business document"),!1;console.log("[CompleteProfile Validate]","Agency validation passed")}return!0},rt=async Se=>{Se.preventDefault();const Xe="[CompleteProfile Submit]";if(console.log(Xe,"Submit clicked",{role:i?.role,isClient:te,isAgency:U,formKeys:Object.keys(f)}),(i?.role==="agency"||i?.role==="agency")&&console.log(Xe,"Agency form state",{business_type:f.business_type,profession:f.profession,location:f.location,locationParsed:(()=>{try{return f.location?JSON.parse(f.location):null}catch(Pe){return{parseError:String(Pe.message)}}})(),company_number:f.company_number,business_doc:f.business_doc?.name??f.business_doc,app_fees:f.app_fees,contract_form:f.contract_form,policies:f.policies,website:f.website}),a("Submit clicked. role =",i?.role,"isClient =",te,"isAgency =",U),n(),!Ye()){console.log(Xe,"Validation failed on client side."),a("Validation failed on client side.");return}try{u(!0);const Pe=new FormData;if(Pe.append("first_name",f.first_name),Pe.append("last_name",f.last_name),Pe.append("gender",f.gender.toLowerCase()),Pe.append("birth_date",f.birth_date),Pe.append("city",f.city.toLowerCase()),Pe.append("bio",f.bio||""),f.id_card_front&&Pe.append("id_card_front",f.id_card_front),f.id_card_back&&Pe.append("id_card_back",f.id_card_back),f.profile_picture&&Pe.append("profile_picture",f.profile_picture),te)Pe.append("license_number",f.license_number),f.driver_license&&Pe.append("driver_license",f.driver_license),Pe.append("profession",f.profession.toLowerCase()),Pe.append("avg_salary",f.avg_salary),f.promo_code?.trim()&&Pe.append("promo_code",f.promo_code.trim());else if(U){console.log("[CompleteProfile Submit]","Building agency FormData..."),Pe.append("business_type",f.business_type.toLowerCase()),Pe.append("profession",f.profession.toLowerCase());let Ps;try{Ps=JSON.parse(f.location);const _e=JSON.stringify({latitude:parseFloat(Ps.latitude),longitude:parseFloat(Ps.longitude),country:Ps.country||"Lebanon"});Pe.append("location",_e),console.log("[CompleteProfile Submit]","Location appended",{cleanedLocation:_e,locationData:Ps})}catch(_e){throw console.error("[CompleteProfile Submit]","Location parse/append error",_e),console.log("[CompleteProfile Submit]","form.location raw:",f.location),_e}f.app_fees?.trim()&&Pe.append("app_fees",f.app_fees.trim()),f.contract_form?.trim()&&Pe.append("contract_form",f.contract_form.trim()),f.policies?.trim()&&Pe.append("policies",f.policies.trim()),f.website?.trim()&&Pe.append("website",f.website.trim()),f.business_type==="company"&&(Pe.append("company_number",f.company_number),f.business_doc&&Pe.append("business_doc",f.business_doc),console.log("[CompleteProfile Submit]","Company fields appended",{company_number:f.company_number,business_doc:f.business_doc?.name??(f.business_doc?"present":"missing")}));const pe=[];Pe.forEach((_e,he)=>{pe.push({key:he,value:_e instanceof File?`File: ${_e.name}`:_e})}),console.log("[CompleteProfile Submit]","FormData entries (agency)",pe)}r(Pe);const mt=xe.defaults?.baseURL?`${xe.defaults.baseURL}/profile/complete`:"/profile/complete";console.log("[CompleteProfile Submit]","POST /profile/complete",{apiUrl:mt,contentType:"multipart/form-data"}),a("POST /profile/complete starting...");const _t=await xe.post("/profile/complete",Pe,{headers:{"Content-Type":"multipart/form-data","X-Debug-Id":s}});console.log("[CompleteProfile Submit]","POST /profile/complete success",_t.status,_t.data),a("POST /profile/complete success:",_t.status,_t.data);const at=_t.data.user;localStorage.setItem("user",JSON.stringify(at)),l(at),se.success("Profile completed successfully!"),a("Refreshing status...");const ds=await xe.get("/profile/status",{headers:{"X-Debug-Id":s}});a("GET /profile/status after submit:",ds.status,ds.data),p(ds.data);const us=ds.data.is_complete;setTimeout(()=>{us?at.role==="agency"||at.role==="agency"?t("/Dashboard"):t("/"):se.warning("Please complete all required fields")},500)}catch(Pe){if(console.error("[CompleteProfile Submit]","Request failed",Pe),console.log("[CompleteProfile Submit]","Error name:",Pe?.name,"message:",Pe?.message),a("POST /profile/complete FAILED:",Pe),Pe?.response){if(console.log("[CompleteProfile Submit]","Response status:",Pe.response.status),console.log("[CompleteProfile Submit]","Response data:",Pe.response.data),console.log("[CompleteProfile Submit]","Response headers:",JSON.stringify(Pe.response.headers,null,2)),a("Error response status:",Pe.response.status),a("Error response data:",Pe.response.data),a("Error response headers:",Pe.response.headers),Pe.response.status===403){const mt=Pe.response?.data?.message||Pe.response?.data?.error||"You do not have permission to update your profile. Please contact administrator.";se.error(mt);return}typeof Pe.response.data=="string"&&a("Error response (string, first 500 chars):",Pe.response.data.slice(0,500)),Pe.response?.data?.errors?(console.log("[CompleteProfile Submit]","Validation errors (422)",Pe.response.data.errors),Object.values(Pe.response.data.errors).flat().forEach(_t=>se.error(_t))):(console.log("[CompleteProfile Submit]","Error message:",Pe.response?.data?.message),se.error(Pe.response?.data?.message||"Failed to complete profile"))}else Pe?.request?(console.log("[CompleteProfile Submit]","No response received (network/CORS)",Pe.request),a("No response received. Request:",Pe.request),se.error("No response from server. Check network/CORS/auth.")):(a("Unknown error:",Pe?.message||Pe),se.error("Unexpected error occurred."));a("If you see https://.../api/api/... then your axios baseURL already contains /api and your proxy/route also adds /api."),a("Fix by adjusting api.defaults.baseURL OR Vite proxy OR route prefix so it becomes /api/profile/complete only once.")}finally{u(!1)}};return i?e.jsxs("div",{className:"min-h-screen flex items-center justify-center p-4 bg-gradient-to-br from-background via-primary/5 to-secondary/5",children:[e.jsxs("div",{className:"w-full max-w-3xl",children:[e.jsxs("div",{className:"flex flex-col items-center mb-8",children:[e.jsx("div",{className:"w-16 h-16 rounded-2xl bg-gradient-to-br from-primary to-secondary flex items-center justify-center shadow-lg mb-4",children:e.jsx(Vt,{className:"w-8 h-8 text-primary-foreground"})}),e.jsx("h1",{className:"text-3xl font-bold gradient-text",children:"Complete Your Profile"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:i?.role==="client"?"Client Profile":"Agency Profile"}),h&&e.jsxs("div",{className:"mt-4 w-full max-w-md",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Profile Completion"}),e.jsxs("span",{className:"text-sm font-semibold",children:[h.completion_percentage,"%"]})]}),e.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-teal-500 to-cyan-500 h-2 rounded-full transition-all",style:{width:`${h.completion_percentage}%`}})})]})]}),e.jsxs(Ae,{className:"hover-glow shadow-xl",children:[e.jsxs(ns,{children:[e.jsxs(rs,{className:"text-2xl",children:["Complete Your ",i?.role==="client"?"Client":"agency"," Profile"]}),e.jsx(im,{children:"Please fill all required fields to continue"})]}),e.jsx(Ee,{children:e.jsxs("form",{onSubmit:rt,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{children:"First Name *"}),e.jsx(oe,{type:"text",name:"first_name",value:f.first_name,onChange:Be,required:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Last Name *"}),e.jsx(oe,{type:"text",name:"last_name",value:f.last_name,onChange:Be,required:!0})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{children:"Gender *"}),e.jsxs(et,{value:f.gender,onValueChange:Se=>ke("gender",Se),children:[e.jsx(Ze,{children:e.jsx(tt,{placeholder:"Select"})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"male",children:"Male"}),e.jsx(ce,{value:"female",children:"Female"}),e.jsx(ce,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Birth Date *"}),e.jsx(oe,{type:"date",name:"birth_date",value:f.birth_date,onChange:Be,max:new Date().toISOString().split("T")[0],required:!0})]})]}),e.jsxs("div",{children:[e.jsx(W,{children:"City *"}),e.jsxs(et,{value:f.city,onValueChange:Se=>ke("city",Se),children:[e.jsx(Ze,{children:e.jsx(tt,{placeholder:"Select your city"})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"beirut",children:"Beirut"}),e.jsx(ce,{value:"mount-liban",children:"Mount Liban"}),e.jsx(ce,{value:"south",children:"South"}),e.jsx(ce,{value:"north",children:"North"}),e.jsx(ce,{value:"bekaa",children:"Bekaa"}),e.jsx(ce,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Bio (optional)"}),e.jsx("textarea",{name:"bio",value:f.bio,onChange:Be,rows:3,className:"w-full px-3 py-2 rounded-md border border-input bg-background",placeholder:"Tell us about yourself..."})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Profile Picture (optional)"}),e.jsx(oe,{type:"file",name:"profile_picture",onChange:Be,accept:"image/jpeg,image/jpg,image/png"}),f.profile_picture&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:f.profile_picture.name})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{children:"ID Card - Front *"}),e.jsx(oe,{type:"file",name:"id_card_front",onChange:Be,accept:"image/jpeg,image/jpg,image/png,application/pdf",required:!0}),f.id_card_front&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:f.id_card_front.name})]}),e.jsxs("div",{children:[e.jsx(W,{children:"ID Card - Back *"}),e.jsx(oe,{type:"file",name:"id_card_back",onChange:Be,accept:"image/jpeg,image/jpg,image/png,application/pdf",required:!0}),f.id_card_back&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:f.id_card_back.name})]})]})]}),e.jsx("hr",{className:"my-6"}),i?.role==="client"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Client Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{children:"License Number *"}),e.jsx(oe,{type:"text",name:"license_number",value:f.license_number,onChange:Be,required:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Driver License *"}),e.jsx(oe,{type:"file",name:"driver_license",onChange:Be,accept:"image/jpeg,image/jpg,image/png,application/pdf",required:!0}),f.driver_license&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:f.driver_license.name})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{children:"Profession *"}),e.jsxs(et,{value:f.profession,onValueChange:Se=>ke("profession",Se),children:[e.jsx(Ze,{children:e.jsx(tt,{placeholder:"Choose..."})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"employee",children:"Employee"}),e.jsx(ce,{value:"freelancer",children:"Freelancer"}),e.jsx(ce,{value:"business",children:"Business"}),e.jsx(ce,{value:"student",children:"Student"}),e.jsx(ce,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Average Salary *"}),e.jsxs(et,{value:f.avg_salary,onValueChange:Se=>ke("avg_salary",Se),children:[e.jsx(Ze,{children:e.jsx(tt,{placeholder:"Select..."})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"200-500",children:"$200-500"}),e.jsx(ce,{value:"500-1000",children:"$500-1000"}),e.jsx(ce,{value:"1000-2000",children:"$1000-2000"}),e.jsx(ce,{value:"2000+",children:"$2000+"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Promo Code (optional)"}),e.jsx(oe,{type:"text",name:"promo_code",value:f.promo_code,onChange:Be})]})]}),(i?.role==="agency"||i?.role==="agency")&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"text-lg font-semibold",children:"Agency Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{children:"Business Type *"}),e.jsxs(et,{value:f.business_type,onValueChange:Se=>{ke("business_type",Se),j(Se==="company")},children:[e.jsx(Ze,{children:e.jsx(tt,{placeholder:"Select"})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"rental",children:"Rental"}),e.jsx(ce,{value:"private",children:"Private"}),e.jsx(ce,{value:"company",children:"Company"}),e.jsx(ce,{value:"marina",children:"Marina"})]})]})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Profession *"}),e.jsxs(et,{value:f.profession,onValueChange:Se=>ke("profession",Se),children:[e.jsx(Ze,{children:e.jsx(tt,{placeholder:"Choose..."})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"manager",children:"Manager"}),e.jsx(ce,{value:"owner",children:"Owner"})]})]})]})]}),v&&e.jsxs("div",{className:"space-y-4 p-4 border rounded-lg bg-muted/30",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(bl,{className:"w-4 h-4"}),e.jsx("p",{children:"Company Details (Required)"})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Company Number *"}),e.jsx(oe,{type:"text",name:"company_number",value:f.company_number,onChange:Be,required:v})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Business Document *"}),e.jsx(oe,{type:"file",name:"business_doc",onChange:Be,accept:"image/jpeg,image/jpg,image/png,application/pdf",required:v}),f.business_doc&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:f.business_doc.name})]})]}),e.jsxs("div",{id:"agency-location-section",children:[e.jsx(W,{children:"Address (region) *"}),e.jsxs(et,{value:f.city||"",onValueChange:Se=>ke("city",Se),children:[e.jsx(Ze,{className:"mb-3",children:e.jsx(tt,{placeholder:"Select your region"})}),e.jsx(Je,{children:Oee.map(Se=>e.jsx(ce,{value:Se.value,children:Se.label},Se.value))})]}),e.jsx(W,{children:"Location *"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(W,{className:"text-muted-foreground text-xs",children:"Paste Google Maps link"}),e.jsxs("div",{className:"flex gap-2 mt-1",children:[e.jsx(oe,{placeholder:"e.g. https://www.google.com/maps/@33.8938,35.5018,17z",value:A,onChange:Se=>V(Se.target.value),onBlur:Se=>{const Xe=Se.target.value?.trim();Xe&&le(Xe)},className:"flex-1"}),e.jsx(Q,{type:"button",variant:"outline",onClick:()=>A.trim()&&le(A),children:"Apply"})]})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-muted-foreground text-xs",children:"Search address"}),e.jsxs("div",{className:"flex gap-2 mt-1",children:[e.jsx(oe,{placeholder:"Search address or place...",value:k,onChange:Se=>B(Se.target.value),onKeyDown:Se=>Se.key==="Enter"&&(Se.preventDefault(),fe()),className:"flex-1"}),e.jsx(Q,{type:"button",variant:"outline",onClick:fe,disabled:P,children:e.jsx(Ca,{className:"w-4 h-4"})})]})]}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsxs(Q,{type:"button",variant:"outline",className:"flex-1 min-w-[140px]",onClick:F,children:[e.jsx(mD,{className:"w-4 h-4 mr-2"}),"Use Current Location"]}),e.jsxs(Q,{type:"button",variant:"outline",className:"flex-1 min-w-[140px]",onClick:M,children:[e.jsx(vs,{className:"w-4 h-4 mr-2"}),"Select on Map"]})]}),_?e.jsx("div",{className:"p-4 bg-primary/10 border-2 border-primary/20 rounded-lg",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-primary/20 flex items-center justify-center flex-shrink-0",children:e.jsx(vs,{className:"w-5 h-5 text-primary"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"font-semibold text-sm mb-1",children:"Location Selected"}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Latitude: ",_.lat]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Longitude: ",_.lng]})]})]})}):e.jsxs("div",{className:"p-4 bg-muted/30 border-2 border-dashed rounded-lg text-center",children:[e.jsx(vs,{className:"w-8 h-8 text-muted-foreground mx-auto mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"No location selected yet"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Click one of the buttons above to set your location"})]}),e.jsx("input",{type:"hidden",name:"location",value:f.location,required:!0})]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-1 gap-4",children:e.jsxs("div",{children:[e.jsx(W,{children:"Website (optional)"}),e.jsx(oe,{type:"url",name:"website",value:f.website,onChange:Be,placeholder:"https://example.com"})]})}),e.jsxs("div",{children:[e.jsx(W,{children:"Contract Form (optional)"}),e.jsx("textarea",{name:"contract_form",value:f.contract_form,onChange:Be,rows:2,className:"w-full px-3 py-2 rounded-md border border-input bg-background"})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Policies (optional)"}),e.jsx("textarea",{name:"policies",value:f.policies,onChange:Be,rows:2,className:"w-full px-3 py-2 rounded-md border border-input bg-background"})]})]}),e.jsx(Q,{type:"submit",className:"w-full bg-gradient-to-r from-secondary to-accent font-semibold text-lg py-6",disabled:d,children:d?"Saving...":"Save Profile"})]})})]})]}),e.jsx(La,{open:N,onOpenChange:Se=>{w(Se),Se||K("")},children:e.jsxs(ka,{className:"max-w-4xl max-h-[90vh]",children:[e.jsxs(Sa,{children:[e.jsx(Aa,{children:"Select Your Location"}),e.jsx(ji,{children:"Search for a place or click on the map to select your business location"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex gap-2 flex-wrap",children:e.jsxs("div",{className:"flex flex-1 min-w-[200px] rounded-md overflow-hidden border border-input",children:[e.jsx(oe,{placeholder:"Search address or place...",value:D,onChange:Se=>K(Se.target.value),onKeyDown:Se=>Se.key==="Enter"&&(Se.preventDefault(),we()),className:"rounded-r-none border-0 h-10 focus-visible:ring-0"}),e.jsx(Q,{type:"button",variant:"secondary",onClick:we,disabled:X,className:"rounded-l-none h-10 px-4",children:e.jsx(Ca,{className:"w-4 h-4"})})]})}),e.jsx("div",{className:"w-full h-[500px] bg-muted rounded-lg overflow-hidden",children:e.jsx(Fee,{center:R,selectedLocation:_,onLocationSelect:z})}),_&&e.jsx("div",{className:"p-3 bg-muted/50 rounded-md",children:e.jsxs("p",{className:"text-sm",children:[e.jsx("span",{className:"font-medium",children:"Selected:"})," ",_.lat,", ",_.lng]})}),e.jsxs("div",{className:"flex gap-2 justify-end",children:[e.jsx(Q,{variant:"outline",onClick:()=>w(!1),children:"Cancel"}),e.jsx(Q,{onClick:ie,children:"Confirm Location"})]})]})]})})]}):null}function Fee({center:t,selectedLocation:s,onLocationSelect:a}){const n=We.useRef(null),r=We.useRef(null);x.useEffect(()=>{if(typeof window<"u"&&!window.L){const l=document.createElement("link");l.rel="stylesheet",l.href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css",document.head.appendChild(l);const d=document.createElement("script");d.src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js",d.onload=()=>i(),document.head.appendChild(d)}else window.L&&i()},[]),x.useEffect(()=>{n.current&&window.L&&n.current.setView([parseFloat(t.lat),parseFloat(t.lng)],13)},[t]),x.useEffect(()=>{s&&r.current&&window.L&&r.current.setLatLng([parseFloat(s.lat),parseFloat(s.lng)])},[s]);const i=()=>{if(!window.L||n.current)return;const l=window.L.map("map-container").setView([parseFloat(t.lat),parseFloat(t.lng)],13);window.L.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:" OpenStreetMap contributors"}).addTo(l);const d=window.L.marker([parseFloat(t.lat),parseFloat(t.lng)],{draggable:!0}).addTo(l);d.on("dragend",u=>{const h=u.target.getLatLng();a(h.lat,h.lng)}),l.on("click",u=>{d.setLatLng(u.latlng),a(u.latlng.lat,u.latlng.lng)}),n.current=l,r.current=d};return e.jsx("div",{id:"map-container",className:"w-full h-full"})}const cs={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640",tealDim:"rgba(0, 140, 149, 0.1)",limeGreenDim:"rgba(138, 198, 64, 0.1)"};function Iee(){const[t,s]=x.useState([]),[a,n]=x.useState(null),[r,i]=x.useState([]),[l,d]=x.useState(""),[u,h]=x.useState(!1),[p,f]=x.useState(!0),[y,v]=x.useState(!1),[j,N]=x.useState(null),[w,_]=x.useState(""),T=x.useRef(null),R=x.useRef(null),E=x.useRef(null),A=x.useRef(null),V=x.useRef(null),[k]=x.useState(()=>localStorage.getItem("token")),B=(G,F)=>{const M=G?.created_at??G?.createdAt??G?.data?.created_at??null,z=G?.read_at??G?.data?.read_at??(G?.is_read?M:null);return{id:G?.id??G?.data?.id??`rt-${Date.now()}`,booking_id:G?.booking_id??G?.data?.booking_id??F,sender_id:G?.sender_id??G?.data?.sender_id??G?.sender?.id,receiver_id:G?.receiver_id??G?.data?.receiver_id??null,message:G?.message??G?.data?.message??"",read_at:z,created_at:M,sender:G?.sender??G?.data?.sender??null}};x.useEffect(()=>{if(!k){N("Authentication required. Please log in.");return}window.Pusher=yP,E.current=new xP({broadcaster:"pusher",key:"316e84fa5f5bf1a94b26",cluster:"ap1",forceTLS:!0,encrypted:!0,enabledTransports:["ws","wss"],authEndpoint:"https://rento-lb.com/api/api/broadcasting/auth",auth:{headers:{Authorization:`Bearer ${k}`,Accept:"application/json"}}});const G=E.current.connector.pusher;G.connection.bind("initialized",()=>console.log("[PUSHER] initialized")),G.connection.bind("connecting",()=>console.log("[PUSHER] connecting...")),G.connection.bind("connected",()=>console.log("[PUSHER]  connected")),G.connection.bind("disconnected",()=>console.log("[PUSHER] disconnected")),G.connection.bind("unavailable",()=>console.log("[PUSHER] unavailable")),G.connection.bind("failed",()=>console.log("[PUSHER]  failed")),G.connection.bind("error",F=>console.error("[PUSHER] error:",F)),console.log("[ECHO] authEndpoint:","https://rento-lb.com/api/api/broadcasting/auth"),console.log("[ECHO] cluster:","ap1"),console.log("[ECHO] key:","316e84fa5f5bf1a94b26");try{E.current.connector?.pusher?.connection?.bind("error",F=>{console.error("Pusher connection error:",F)})}catch{}return xe.get("/profile").then(({data:F})=>{A.current=F.user?.id,console.log("Current user ID:",A.current)}).catch(F=>{console.error("Failed to fetch profile:",F),N("Failed to load user profile")}),()=>{E.current?.disconnect()}},[k]),x.useEffect(()=>{k&&P()},[k]);const P=async()=>{f(!0),N(null);try{const{data:G}=await xe.get("/bookings"),M=(G?.bookings?.data??[]).filter(z=>z.booking_request_status==="confirmed"||z.booking_request_status==="accepted");s(M)}catch(G){console.error("Failed to fetch bookings:",G),N("Failed to load bookings"),s([])}finally{f(!1)}},H=()=>{const G=T.current;G&&(G.scrollTop=G.scrollHeight)};x.useEffect(()=>{H()},[r]);const D=async G=>{h(!0),N(null);try{const{data:F}=await xe.get(`/bookings/${G}/chat`),M=F?.data?.data??F?.data?.messages??F?.messages??[];i(M),M.forEach(z=>{!z.read_at&&z.sender_id!==A.current&&X(G,z.id)})}catch(F){console.error("Failed to load messages:",F),N("Failed to load messages"),i([])}finally{h(!1)}};x.useEffect(()=>{if(!a?.id||!E.current)return;const G=a.id,F=`private-booking.${G}`;console.log("[ECHO] subscribing to:",F);const M=E.current.connector.pusher,z=M.subscribe(F);z.bind("pusher:subscription_succeeded",()=>{console.log("[PUSHER]  subscription_succeeded:",F)}),z.bind("pusher:subscription_error",re=>{console.error("[PUSHER]  subscription_error:",F,"status:",re),console.error("-> If status=403, your /broadcasting/auth or channels.php auth is rejecting the user.")});const ie=E.current.private(`booking.${G}`),le=re=>{const fe=B(re,G);i(we=>we.some(Be=>String(Be.id)===String(fe.id))?we:[...we,fe]),fe.sender_id&&fe.sender_id!==A.current&&X(G,fe.id)};return ie.listen(".message.sent",le),ie.listen("message.sent",le),ie.listenForWhisper("typing",re=>{re?.user_id&&re.user_id!==A.current&&(v(!0),V.current&&clearTimeout(V.current),V.current=setTimeout(()=>v(!1),3e3))}),ie.listen(".message.read",re=>console.log("[ECHO] message.read:",re)),D(G),()=>{console.log("[ECHO] leaving:",F),E.current?.leave(`booking.${G}`),M.unsubscribe(F)}},[a?.id]);const K=async G=>{if(G.preventDefault(),!l.trim()||!a?.id)return;const F=a.id,M=l.trim();d("");try{const{data:z}=await xe.post(`/bookings/${F}/chat`,{booking_id:F,message:M}),ie=z?.data??z?.message;ie&&i(le=>[...le,ie])}catch(z){console.error("Failed to send message:",z),N("Failed to send message"),d(M)}},X=async(G,F)=>{try{await xe.post(`/bookings/${G}/chat/mark-read`,{message_id:F})}catch(M){console.error("Failed to mark message as read:",M)}},ne=async()=>{try{if(!t?.length)return;const G=await Promise.all(t.map(async M=>{try{const{data:z}=await xe.get(`/bookings/${M.id}/chat/unread-count`),ie=z?.data?.unread_count??z?.data??z?.unread_count??0;return{id:M.id,count:Number(ie)||0}}catch(z){return console.error(`Failed unread count for booking ${M.id}:`,z),{id:M.id,count:0}}})),F=Object.fromEntries(G.map(M=>[M.id,M.count]));s(M=>M.map(z=>({...z,unread_count:F[z.id]??0})))}catch(G){console.error("Failed to fetch unread counts:",G)}};x.useEffect(()=>{if(!k)return;t.length&&ne();const G=setInterval(ne,1e4);return()=>clearInterval(G)},[k,t.length]);const te=G=>{if(!G)return"";const F=new Date(G);if(Number.isNaN(F.getTime()))return"";const z=Math.floor((new Date-F)/6e4);if(z<1)return"Just now";if(z<60)return`${z}m ago`;const ie=Math.floor(z/60);if(ie<24)return`${ie}h ago`;const le=Math.floor(ie/24);return le<7?`${le}d ago`:F.toLocaleDateString("en-US",{month:"short",day:"numeric"})},U=G=>{if(!G)return"";const F=new Date(G);return Number.isNaN(F.getTime())?"":F.toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},q=t.filter(G=>{if(!w)return!0;const F=w.toLowerCase(),M=`${G.car?.agent?.first_name||""} ${G.car?.agent?.last_name||""}`.toLowerCase(),z=`${G.car?.make||""} ${G.car?.model||""}`.toLowerCase();return M.includes(F)||z.includes(F)});return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-black dark:via-gray-900 dark:to-gray-950 pt-20",children:e.jsxs("div",{className:"container mx-auto px-4 py-6",children:[e.jsx(qe.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"mb-6",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-12 h-12 rounded-xl flex items-center justify-center shadow-lg",style:{background:`linear-gradient(135deg, ${cs.teal}, ${cs.darkBlue})`},children:e.jsx(Hr,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(135deg, ${cs.darkBlue}, ${cs.teal}, ${cs.limeGreen})`},children:"My Bookings Chat"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Message your car agent"})]})]})}),e.jsx(bo,{children:j&&e.jsx(qe.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"mb-4 p-4 rounded-xl border-2",style:{background:"rgba(220, 38, 38, 0.1)",borderColor:"#DC2626"},children:e.jsxs("p",{className:"text-red-800 dark:text-red-200 flex items-center gap-2",children:[e.jsx(ta,{className:"w-5 h-5"}),j]})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-4 h-[calc(100vh-180px)]",children:[e.jsxs("div",{className:"lg:col-span-1 bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden flex flex-col border border-gray-200 dark:border-gray-700",children:[e.jsx("div",{className:"p-4 border-b border-gray-200 dark:border-gray-700",children:e.jsxs("div",{className:"relative",children:[e.jsx(Ca,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx("input",{type:"text",placeholder:"Search conversations...",value:w,onChange:G=>_(G.target.value),className:"w-full pl-10 pr-4 py-2 bg-gray-50 dark:bg-gray-900 border border-gray-200 dark:border-gray-700 rounded-xl focus:outline-none focus:ring-2 dark:text-white text-sm"})]})}),e.jsx("div",{className:"flex-1 overflow-y-auto",children:p?e.jsx("div",{className:"flex justify-center items-center h-full",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-t-transparent",style:{borderColor:cs.tealDim,borderTopColor:"transparent"}})}):q.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full p-8 text-gray-400",children:[e.jsx(Hr,{className:"w-16 h-16 mb-3",style:{color:cs.teal,opacity:.3}}),e.jsx("p",{className:"text-center font-medium",children:"No bookings found"}),e.jsx("p",{className:"text-xs text-center mt-1",children:"Book a car to start chatting"})]}):q.map(G=>{const F=G.car?.agent,M=F?.profile_picture?`/api/storage/${F.profile_picture}`:"/default-avatar.png";return e.jsx(qe.div,{whileHover:{x:5},onClick:()=>n(G),className:`p-4 border-b border-gray-200 dark:border-gray-700 cursor-pointer transition-all ${a?.id===G.id?"border-l-4":"hover:bg-gray-50 dark:hover:bg-gray-700"}`,style:a?.id===G.id?{background:cs.tealDim,borderLeftColor:cs.teal}:{},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:M,alt:F?.first_name||"Agent",className:"w-12 h-12 rounded-full object-cover ring-2 ring-white dark:ring-gray-700"}),(G.unread_count??0)>0&&e.jsx(qe.div,{animate:{scale:[1,1.2,1]},transition:{duration:1,repeat:1/0},className:"absolute -top-1 -right-1 w-5 h-5 rounded-full flex items-center justify-center shadow-lg",style:{background:cs.limeGreen},children:e.jsx("span",{className:"text-xs text-white font-bold",children:G.unread_count})})]}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center justify-between mb-1",children:[e.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white truncate flex items-center gap-1",children:[F?.first_name||"N/A"," ",F?.last_name||"",F?.verified_by_admin&&e.jsx(Fn,{className:"w-3 h-3",style:{color:cs.teal}})]}),(G.unread_count??0)>0&&e.jsx(sn,{className:"w-4 h-4",style:{color:cs.teal}})]}),e.jsxs("p",{className:"text-xs text-gray-600 dark:text-gray-400 truncate flex items-center gap-1",children:[e.jsx(Vt,{className:"w-3 h-3"}),G.car?.make||"N/A"," ",G.car?.model||""]})]})]})},G.id)})})]}),e.jsx("div",{className:"lg:col-span-2 bg-white dark:bg-gray-800 rounded-2xl shadow-xl overflow-hidden flex flex-col border border-gray-200 dark:border-gray-700",children:a?e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"p-4 text-white relative overflow-hidden",style:{background:`linear-gradient(135deg, ${cs.darkBlue}, ${cs.teal}, ${cs.limeGreen})`},children:[e.jsx("div",{className:"absolute top-0 right-0 w-48 h-48 bg-white/10 rounded-full blur-3xl"}),e.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-white/10 rounded-full blur-2xl"}),e.jsxs("div",{className:"relative z-10",children:[e.jsxs("div",{className:"flex items-center justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:a.car?.agent?.profile_picture?`/api/storage/${a.car.agent.profile_picture}`:"/default-avatar.png",alt:a.car?.agent?.first_name||"Agent",className:"w-12 h-12 rounded-full object-cover border-2 border-white shadow-lg"}),e.jsxs("div",{children:[e.jsxs("h2",{className:"text-lg font-bold flex items-center gap-2",children:[a.car?.agent?.first_name||"N/A"," ",a.car?.agent?.last_name||"",a.car?.agent?.verified_by_admin&&e.jsx(Fn,{className:"w-4 h-4"})]}),e.jsx("p",{className:"text-xs opacity-90",children:"Car Agent"})]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[a.car?.agent?.phone_number&&e.jsx(qe.a,{whileHover:{scale:1.1},whileTap:{scale:.9},href:`tel:${a.car.agent.phone_number}`,className:"p-2 bg-white/20 backdrop-blur-sm rounded-xl hover:bg-white/30 transition-colors",children:e.jsx(Wr,{className:"w-4 h-4"})}),a.car?.agent?.email&&e.jsx(qe.a,{whileHover:{scale:1.1},whileTap:{scale:.9},href:`mailto:${a.car.agent.email}`,className:"p-2 bg-white/20 backdrop-blur-sm rounded-xl hover:bg-white/30 transition-colors",children:e.jsx(_r,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"p-3 bg-white/10 backdrop-blur-sm rounded-xl",children:e.jsxs("div",{className:"grid grid-cols-2 gap-3 text-sm",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Vt,{className:"w-4 h-4"}),e.jsxs("span",{className:"truncate",children:[a.car?.make||"N/A"," ",a.car?.model||""]})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ms,{className:"w-4 h-4"}),e.jsx("span",{className:"truncate",children:a.start_datetime?U(a.start_datetime):"N/A"})]})]})})]})]}),e.jsxs("div",{ref:T,className:"flex-1 overflow-y-auto p-4 space-y-4 bg-gradient-to-b from-gray-50/50 to-white dark:from-gray-900/50 dark:to-gray-800",style:{maxHeight:"calc(100vh - 450px)"},children:[u?e.jsx("div",{className:"flex justify-center items-center h-full",children:e.jsx("div",{className:"animate-spin rounded-full h-10 w-10 border-4 border-t-transparent",style:{borderColor:cs.tealDim,borderTopColor:"transparent"}})}):r.length===0?e.jsxs("div",{className:"flex flex-col items-center justify-center h-full text-gray-400",children:[e.jsx("div",{className:"w-20 h-20 rounded-full flex items-center justify-center mb-4",style:{background:cs.tealDim},children:e.jsx(Hr,{className:"w-10 h-10",style:{color:cs.teal}})}),e.jsx("p",{className:"text-lg font-medium",children:"No messages yet"}),e.jsx("p",{className:"text-sm",children:"Start the conversation!"})]}):e.jsxs(e.Fragment,{children:[r.map((G,F)=>{const M=G.sender_id===A.current||G.sender?.id===A.current,z=r[F-1],ie=F===0||z?.sender_id!==G.sender_id;return e.jsxs(qe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`flex items-end gap-2 ${M?"justify-end":"justify-start"}`,children:[!M&&ie&&e.jsx("img",{src:G.sender?.profile_picture?`/api/storage/${G.sender.profile_picture}`:"/default-avatar.png",alt:G.sender?.first_name||"User",className:"w-8 h-8 rounded-full object-cover ring-2 ring-white dark:ring-gray-700"}),!M&&!ie&&e.jsx("div",{className:"w-8"}),e.jsxs("div",{className:`flex flex-col ${M?"items-end":"items-start"} max-w-[70%]`,children:[e.jsx(qe.div,{whileHover:{scale:1.02},className:`rounded-2xl px-4 py-2 shadow-md ${M?"text-white rounded-br-none":"bg-white dark:bg-gray-700 text-gray-900 dark:text-white rounded-bl-none border border-gray-200 dark:border-gray-600"}`,style:M?{background:`linear-gradient(135deg, ${cs.teal}, ${cs.darkBlue})`}:{},children:e.jsx("p",{className:"text-sm whitespace-pre-wrap break-words leading-relaxed",children:G.message})}),e.jsxs("div",{className:"flex items-center gap-1 mt-1 px-1",children:[e.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:te(G.created_at)}),M&&e.jsx("span",{children:G.read_at?e.jsx(aD,{className:"w-3 h-3",style:{color:cs.teal}}):e.jsx(er,{className:"w-3 h-3 text-gray-400"})})]})]}),M&&ie&&e.jsx("img",{src:G.sender?.profile_picture?`/api/storage/${G.sender.profile_picture}`:"/default-avatar.png",alt:G.sender?.first_name||"You",className:"w-8 h-8 rounded-full object-cover ring-2 ring-white dark:ring-gray-700"}),M&&!ie&&e.jsx("div",{className:"w-8"})]},G.id)}),e.jsx("div",{ref:R})]}),e.jsx(bo,{children:y&&e.jsxs(qe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"flex items-center gap-2",children:[e.jsx("img",{src:a.car?.agent?.profile_picture?`/api/storage/${a.car.agent.profile_picture}`:"/default-avatar.png",alt:a.car?.agent?.first_name||"Agent",className:"w-8 h-8 rounded-full object-cover ring-2 ring-white dark:ring-gray-700"}),e.jsx("div",{className:"bg-white dark:bg-gray-700 rounded-2xl rounded-bl-none px-4 py-3 border border-gray-200 dark:border-gray-600",children:e.jsxs("div",{className:"flex gap-1",children:[e.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{background:cs.teal,animationDelay:"0ms"}}),e.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{background:cs.darkBlue,animationDelay:"150ms"}}),e.jsx("div",{className:"w-2 h-2 rounded-full animate-bounce",style:{background:cs.limeGreen,animationDelay:"300ms"}})]})})]})})]}),e.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-white dark:bg-gray-800",children:e.jsxs("div",{className:"flex items-end gap-2",children:[e.jsx(qe.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 rounded-xl transition-colors",style:{background:cs.tealDim,color:cs.teal},type:"button",children:e.jsx(fD,{className:"w-5 h-5"})}),e.jsx(qe.button,{whileHover:{scale:1.1},whileTap:{scale:.9},className:"p-2 rounded-xl transition-colors",style:{background:cs.limeGreenDim,color:cs.limeGreen},type:"button",children:e.jsx(gD,{className:"w-5 h-5"})}),e.jsx("div",{className:"flex-1 relative",children:e.jsx("textarea",{value:l,onChange:G=>{d(G.target.value)},onKeyDown:G=>{G.key==="Enter"&&!G.shiftKey&&(G.preventDefault(),K(G))},placeholder:"Type your message...",rows:1,className:"w-full px-4 py-3 border-2 border-gray-200 dark:border-gray-600 rounded-xl focus:outline-none focus:ring-2 dark:bg-gray-700 dark:text-white resize-none"})}),e.jsx(qe.button,{whileHover:{scale:1.05},whileTap:{scale:.95},onClick:K,disabled:!l.trim(),className:"p-3 rounded-xl text-white font-semibold disabled:opacity-50 disabled:cursor-not-allowed transition-all shadow-lg hover:shadow-xl",style:{background:`linear-gradient(135deg, ${cs.teal}, ${cs.darkBlue})`},type:"button",children:e.jsx(ux,{className:"w-5 h-5"})})]})})]}):e.jsx("div",{className:"flex-1 flex flex-col items-center justify-center",children:e.jsxs(qe.div,{initial:{scale:.9,opacity:0},animate:{scale:1,opacity:1},className:"text-center",children:[e.jsx("div",{className:"w-24 h-24 rounded-full flex items-center justify-center mb-6 mx-auto",style:{background:`linear-gradient(135deg, ${cs.tealDim}, ${cs.limeGreenDim})`},children:e.jsx(Hr,{className:"w-12 h-12",style:{color:cs.teal}})}),e.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Select a Booking"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Choose a conversation to start chatting"})]})})})]})]})})}function qm(t){return t+.5|0}const ml=(t,s,a)=>Math.max(Math.min(t,a),s);function zh(t){return ml(qm(t*2.55),0,255)}function yl(t){return ml(qm(t*255),0,255)}function ao(t){return ml(qm(t/2.55)/100,0,1)}function CA(t){return ml(qm(t*100),0,100)}const jr={0:0,1:1,2:2,3:3,4:4,5:5,6:6,7:7,8:8,9:9,A:10,B:11,C:12,D:13,E:14,F:15,a:10,b:11,c:12,d:13,e:14,f:15},Cj=[..."0123456789ABCDEF"],$ee=t=>Cj[t&15],zee=t=>Cj[(t&240)>>4]+Cj[t&15],Pp=t=>(t&240)>>4===(t&15),Vee=t=>Pp(t.r)&&Pp(t.g)&&Pp(t.b)&&Pp(t.a);function Uee(t){var s=t.length,a;return t[0]==="#"&&(s===4||s===5?a={r:255&jr[t[1]]*17,g:255&jr[t[2]]*17,b:255&jr[t[3]]*17,a:s===5?jr[t[4]]*17:255}:(s===7||s===9)&&(a={r:jr[t[1]]<<4|jr[t[2]],g:jr[t[3]]<<4|jr[t[4]],b:jr[t[5]]<<4|jr[t[6]],a:s===9?jr[t[7]]<<4|jr[t[8]]:255})),a}const Hee=(t,s)=>t<255?s(t):"";function qee(t){var s=Vee(t)?$ee:zee;return t?"#"+s(t.r)+s(t.g)+s(t.b)+Hee(t.a,s):void 0}const Gee=/^(hsla?|hwb|hsv)\(\s*([-+.e\d]+)(?:deg)?[\s,]+([-+.e\d]+)%[\s,]+([-+.e\d]+)%(?:[\s,]+([-+.e\d]+)(%)?)?\s*\)$/;function vP(t,s,a){const n=s*Math.min(a,1-a),r=(i,l=(i+t/30)%12)=>a-n*Math.max(Math.min(l-3,9-l,1),-1);return[r(0),r(8),r(4)]}function Wee(t,s,a){const n=(r,i=(r+t/60)%6)=>a-a*s*Math.max(Math.min(i,4-i,1),0);return[n(5),n(3),n(1)]}function Yee(t,s,a){const n=vP(t,1,.5);let r;for(s+a>1&&(r=1/(s+a),s*=r,a*=r),r=0;r<3;r++)n[r]*=1-s-a,n[r]+=s;return n}function Kee(t,s,a,n,r){return t===r?(s-a)/n+(s<a?6:0):s===r?(a-t)/n+2:(t-s)/n+4}function p1(t){const a=t.r/255,n=t.g/255,r=t.b/255,i=Math.max(a,n,r),l=Math.min(a,n,r),d=(i+l)/2;let u,h,p;return i!==l&&(p=i-l,h=d>.5?p/(2-i-l):p/(i+l),u=Kee(a,n,r,p,i),u=u*60+.5),[u|0,h||0,d]}function g1(t,s,a,n){return(Array.isArray(s)?t(s[0],s[1],s[2]):t(s,a,n)).map(yl)}function x1(t,s,a){return g1(vP,t,s,a)}function Xee(t,s,a){return g1(Yee,t,s,a)}function Qee(t,s,a){return g1(Wee,t,s,a)}function jP(t){return(t%360+360)%360}function Zee(t){const s=Gee.exec(t);let a=255,n;if(!s)return;s[5]!==n&&(a=s[6]?zh(+s[5]):yl(+s[5]));const r=jP(+s[2]),i=+s[3]/100,l=+s[4]/100;return s[1]==="hwb"?n=Xee(r,i,l):s[1]==="hsv"?n=Qee(r,i,l):n=x1(r,i,l),{r:n[0],g:n[1],b:n[2],a}}function Jee(t,s){var a=p1(t);a[0]=jP(a[0]+s),a=x1(a),t.r=a[0],t.g=a[1],t.b=a[2]}function ete(t){if(!t)return;const s=p1(t),a=s[0],n=CA(s[1]),r=CA(s[2]);return t.a<255?`hsla(${a}, ${n}%, ${r}%, ${ao(t.a)})`:`hsl(${a}, ${n}%, ${r}%)`}const kA={x:"dark",Z:"light",Y:"re",X:"blu",W:"gr",V:"medium",U:"slate",A:"ee",T:"ol",S:"or",B:"ra",C:"lateg",D:"ights",R:"in",Q:"turquois",E:"hi",P:"ro",O:"al",N:"le",M:"de",L:"yello",F:"en",K:"ch",G:"arks",H:"ea",I:"ightg",J:"wh"},SA={OiceXe:"f0f8ff",antiquewEte:"faebd7",aqua:"ffff",aquamarRe:"7fffd4",azuY:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"0",blanKedOmond:"ffebcd",Xe:"ff",XeviTet:"8a2be2",bPwn:"a52a2a",burlywood:"deb887",caMtXe:"5f9ea0",KartYuse:"7fff00",KocTate:"d2691e",cSO:"ff7f50",cSnflowerXe:"6495ed",cSnsilk:"fff8dc",crimson:"dc143c",cyan:"ffff",xXe:"8b",xcyan:"8b8b",xgTMnPd:"b8860b",xWay:"a9a9a9",xgYF:"6400",xgYy:"a9a9a9",xkhaki:"bdb76b",xmagFta:"8b008b",xTivegYF:"556b2f",xSange:"ff8c00",xScEd:"9932cc",xYd:"8b0000",xsOmon:"e9967a",xsHgYF:"8fbc8f",xUXe:"483d8b",xUWay:"2f4f4f",xUgYy:"2f4f4f",xQe:"ced1",xviTet:"9400d3",dAppRk:"ff1493",dApskyXe:"bfff",dimWay:"696969",dimgYy:"696969",dodgerXe:"1e90ff",fiYbrick:"b22222",flSOwEte:"fffaf0",foYstWAn:"228b22",fuKsia:"ff00ff",gaRsbSo:"dcdcdc",ghostwEte:"f8f8ff",gTd:"ffd700",gTMnPd:"daa520",Way:"808080",gYF:"8000",gYFLw:"adff2f",gYy:"808080",honeyMw:"f0fff0",hotpRk:"ff69b4",RdianYd:"cd5c5c",Rdigo:"4b0082",ivSy:"fffff0",khaki:"f0e68c",lavFMr:"e6e6fa",lavFMrXsh:"fff0f5",lawngYF:"7cfc00",NmoncEffon:"fffacd",ZXe:"add8e6",ZcSO:"f08080",Zcyan:"e0ffff",ZgTMnPdLw:"fafad2",ZWay:"d3d3d3",ZgYF:"90ee90",ZgYy:"d3d3d3",ZpRk:"ffb6c1",ZsOmon:"ffa07a",ZsHgYF:"20b2aa",ZskyXe:"87cefa",ZUWay:"778899",ZUgYy:"778899",ZstAlXe:"b0c4de",ZLw:"ffffe0",lime:"ff00",limegYF:"32cd32",lRF:"faf0e6",magFta:"ff00ff",maPon:"800000",VaquamarRe:"66cdaa",VXe:"cd",VScEd:"ba55d3",VpurpN:"9370db",VsHgYF:"3cb371",VUXe:"7b68ee",VsprRggYF:"fa9a",VQe:"48d1cc",VviTetYd:"c71585",midnightXe:"191970",mRtcYam:"f5fffa",mistyPse:"ffe4e1",moccasR:"ffe4b5",navajowEte:"ffdead",navy:"80",Tdlace:"fdf5e6",Tive:"808000",TivedBb:"6b8e23",Sange:"ffa500",SangeYd:"ff4500",ScEd:"da70d6",pOegTMnPd:"eee8aa",pOegYF:"98fb98",pOeQe:"afeeee",pOeviTetYd:"db7093",papayawEp:"ffefd5",pHKpuff:"ffdab9",peru:"cd853f",pRk:"ffc0cb",plum:"dda0dd",powMrXe:"b0e0e6",purpN:"800080",YbeccapurpN:"663399",Yd:"ff0000",Psybrown:"bc8f8f",PyOXe:"4169e1",saddNbPwn:"8b4513",sOmon:"fa8072",sandybPwn:"f4a460",sHgYF:"2e8b57",sHshell:"fff5ee",siFna:"a0522d",silver:"c0c0c0",skyXe:"87ceeb",UXe:"6a5acd",UWay:"708090",UgYy:"708090",snow:"fffafa",sprRggYF:"ff7f",stAlXe:"4682b4",tan:"d2b48c",teO:"8080",tEstN:"d8bfd8",tomato:"ff6347",Qe:"40e0d0",viTet:"ee82ee",JHt:"f5deb3",wEte:"ffffff",wEtesmoke:"f5f5f5",Lw:"ffff00",LwgYF:"9acd32"};function tte(){const t={},s=Object.keys(SA),a=Object.keys(kA);let n,r,i,l,d;for(n=0;n<s.length;n++){for(l=d=s[n],r=0;r<a.length;r++)i=a[r],d=d.replace(i,kA[i]);i=parseInt(SA[l],16),t[d]=[i>>16&255,i>>8&255,i&255]}return t}let Op;function ste(t){Op||(Op=tte(),Op.transparent=[0,0,0,0]);const s=Op[t.toLowerCase()];return s&&{r:s[0],g:s[1],b:s[2],a:s.length===4?s[3]:255}}const ate=/^rgba?\(\s*([-+.\d]+)(%)?[\s,]+([-+.e\d]+)(%)?[\s,]+([-+.e\d]+)(%)?(?:[\s,/]+([-+.e\d]+)(%)?)?\s*\)$/;function nte(t){const s=ate.exec(t);let a=255,n,r,i;if(s){if(s[7]!==n){const l=+s[7];a=s[8]?zh(l):ml(l*255,0,255)}return n=+s[1],r=+s[3],i=+s[5],n=255&(s[2]?zh(n):ml(n,0,255)),r=255&(s[4]?zh(r):ml(r,0,255)),i=255&(s[6]?zh(i):ml(i,0,255)),{r:n,g:r,b:i,a}}}function rte(t){return t&&(t.a<255?`rgba(${t.r}, ${t.g}, ${t.b}, ${ao(t.a)})`:`rgb(${t.r}, ${t.g}, ${t.b})`)}const ev=t=>t<=.0031308?t*12.92:Math.pow(t,1/2.4)*1.055-.055,Ld=t=>t<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4);function ite(t,s,a){const n=Ld(ao(t.r)),r=Ld(ao(t.g)),i=Ld(ao(t.b));return{r:yl(ev(n+a*(Ld(ao(s.r))-n))),g:yl(ev(r+a*(Ld(ao(s.g))-r))),b:yl(ev(i+a*(Ld(ao(s.b))-i))),a:t.a+a*(s.a-t.a)}}function Lp(t,s,a){if(t){let n=p1(t);n[s]=Math.max(0,Math.min(n[s]+n[s]*a,s===0?360:1)),n=x1(n),t.r=n[0],t.g=n[1],t.b=n[2]}}function wP(t,s){return t&&Object.assign(s||{},t)}function AA(t){var s={r:0,g:0,b:0,a:255};return Array.isArray(t)?t.length>=3&&(s={r:t[0],g:t[1],b:t[2],a:255},t.length>3&&(s.a=yl(t[3]))):(s=wP(t,{r:0,g:0,b:0,a:1}),s.a=yl(s.a)),s}function ote(t){return t.charAt(0)==="r"?nte(t):Zee(t)}class pm{constructor(s){if(s instanceof pm)return s;const a=typeof s;let n;a==="object"?n=AA(s):a==="string"&&(n=Uee(s)||ste(s)||ote(s)),this._rgb=n,this._valid=!!n}get valid(){return this._valid}get rgb(){var s=wP(this._rgb);return s&&(s.a=ao(s.a)),s}set rgb(s){this._rgb=AA(s)}rgbString(){return this._valid?rte(this._rgb):void 0}hexString(){return this._valid?qee(this._rgb):void 0}hslString(){return this._valid?ete(this._rgb):void 0}mix(s,a){if(s){const n=this.rgb,r=s.rgb;let i;const l=a===i?.5:a,d=2*l-1,u=n.a-r.a,h=((d*u===-1?d:(d+u)/(1+d*u))+1)/2;i=1-h,n.r=255&h*n.r+i*r.r+.5,n.g=255&h*n.g+i*r.g+.5,n.b=255&h*n.b+i*r.b+.5,n.a=l*n.a+(1-l)*r.a,this.rgb=n}return this}interpolate(s,a){return s&&(this._rgb=ite(this._rgb,s._rgb,a)),this}clone(){return new pm(this.rgb)}alpha(s){return this._rgb.a=yl(s),this}clearer(s){const a=this._rgb;return a.a*=1-s,this}greyscale(){const s=this._rgb,a=qm(s.r*.3+s.g*.59+s.b*.11);return s.r=s.g=s.b=a,this}opaquer(s){const a=this._rgb;return a.a*=1+s,this}negate(){const s=this._rgb;return s.r=255-s.r,s.g=255-s.g,s.b=255-s.b,this}lighten(s){return Lp(this._rgb,2,s),this}darken(s){return Lp(this._rgb,2,-s),this}saturate(s){return Lp(this._rgb,1,s),this}desaturate(s){return Lp(this._rgb,1,-s),this}rotate(s){return Jee(this._rgb,s),this}}function eo(){}const lte=(()=>{let t=0;return()=>t++})();function Yt(t){return t==null}function Ws(t){if(Array.isArray&&Array.isArray(t))return!0;const s=Object.prototype.toString.call(t);return s.slice(0,7)==="[object"&&s.slice(-6)==="Array]"}function Jt(t){return t!==null&&Object.prototype.toString.call(t)==="[object Object]"}function la(t){return(typeof t=="number"||t instanceof Number)&&isFinite(+t)}function Zn(t,s){return la(t)?t:s}function Ft(t,s){return typeof t>"u"?s:t}const cte=(t,s)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100:+t/s,NP=(t,s)=>typeof t=="string"&&t.endsWith("%")?parseFloat(t)/100*s:+t;function Fs(t,s,a){if(t&&typeof t.call=="function")return t.apply(a,s)}function Cs(t,s,a,n){let r,i,l;if(Ws(t))for(i=t.length,r=0;r<i;r++)s.call(a,t[r],r);else if(Jt(t))for(l=Object.keys(t),i=l.length,r=0;r<i;r++)s.call(a,t[l[r]],l[r])}function Wg(t,s){let a,n,r,i;if(!t||!s||t.length!==s.length)return!1;for(a=0,n=t.length;a<n;++a)if(r=t[a],i=s[a],r.datasetIndex!==i.datasetIndex||r.index!==i.index)return!1;return!0}function Yg(t){if(Ws(t))return t.map(Yg);if(Jt(t)){const s=Object.create(null),a=Object.keys(t),n=a.length;let r=0;for(;r<n;++r)s[a[r]]=Yg(t[a[r]]);return s}return t}function _P(t){return["__proto__","prototype","constructor"].indexOf(t)===-1}function dte(t,s,a,n){if(!_P(t))return;const r=s[t],i=a[t];Jt(r)&&Jt(i)?gm(r,i,n):s[t]=Yg(i)}function gm(t,s,a){const n=Ws(s)?s:[s],r=n.length;if(!Jt(t))return t;a=a||{};const i=a.merger||dte;let l;for(let d=0;d<r;++d){if(l=n[d],!Jt(l))continue;const u=Object.keys(l);for(let h=0,p=u.length;h<p;++h)i(u[h],t,l,a)}return t}function Zh(t,s){return gm(t,s,{merger:ute})}function ute(t,s,a){if(!_P(t))return;const n=s[t],r=a[t];Jt(n)&&Jt(r)?Zh(n,r):Object.prototype.hasOwnProperty.call(s,t)||(s[t]=Yg(r))}const TA={"":t=>t,x:t=>t.x,y:t=>t.y};function hte(t){const s=t.split("."),a=[];let n="";for(const r of s)n+=r,n.endsWith("\\")?n=n.slice(0,-1)+".":(a.push(n),n="");return a}function mte(t){const s=hte(t);return a=>{for(const n of s){if(n==="")break;a=a&&a[n]}return a}}function Sl(t,s){return(TA[s]||(TA[s]=mte(s)))(t)}function y1(t){return t.charAt(0).toUpperCase()+t.slice(1)}const xm=t=>typeof t<"u",Al=t=>typeof t=="function",DA=(t,s)=>{if(t.size!==s.size)return!1;for(const a of t)if(!s.has(a))return!1;return!0};function fte(t){return t.type==="mouseup"||t.type==="click"||t.type==="contextmenu"}const gs=Math.PI,Vs=2*gs,pte=Vs+gs,Kg=Number.POSITIVE_INFINITY,gte=gs/180,fa=gs/2,cc=gs/4,EA=gs*2/3,fl=Math.log10,_i=Math.sign;function Jh(t,s,a){return Math.abs(t-s)<a}function RA(t){const s=Math.round(t);t=Jh(t,s,t/1e3)?s:t;const a=Math.pow(10,Math.floor(fl(t))),n=t/a;return(n<=1?1:n<=2?2:n<=5?5:10)*a}function xte(t){const s=[],a=Math.sqrt(t);let n;for(n=1;n<a;n++)t%n===0&&(s.push(n),s.push(t/n));return a===(a|0)&&s.push(a),s.sort((r,i)=>r-i).pop(),s}function yte(t){return typeof t=="symbol"||typeof t=="object"&&t!==null&&!(Symbol.toPrimitive in t||"toString"in t||"valueOf"in t)}function iu(t){return!yte(t)&&!isNaN(parseFloat(t))&&isFinite(t)}function bte(t,s){const a=Math.round(t);return a-s<=t&&a+s>=t}function CP(t,s,a){let n,r,i;for(n=0,r=t.length;n<r;n++)i=t[n][a],isNaN(i)||(s.min=Math.min(s.min,i),s.max=Math.max(s.max,i))}function qr(t){return t*(gs/180)}function b1(t){return t*(180/gs)}function MA(t){if(!la(t))return;let s=1,a=0;for(;Math.round(t*s)/s!==t;)s*=10,a++;return a}function kP(t,s){const a=s.x-t.x,n=s.y-t.y,r=Math.sqrt(a*a+n*n);let i=Math.atan2(n,a);return i<-.5*gs&&(i+=Vs),{angle:i,distance:r}}function kj(t,s){return Math.sqrt(Math.pow(s.x-t.x,2)+Math.pow(s.y-t.y,2))}function vte(t,s){return(t-s+pte)%Vs-gs}function Ja(t){return(t%Vs+Vs)%Vs}function ym(t,s,a,n){const r=Ja(t),i=Ja(s),l=Ja(a),d=Ja(i-r),u=Ja(l-r),h=Ja(r-i),p=Ja(r-l);return r===i||r===l||n&&i===l||d>u&&h<p}function Va(t,s,a){return Math.max(s,Math.min(a,t))}function jte(t){return Va(t,-32768,32767)}function ro(t,s,a,n=1e-6){return t>=Math.min(s,a)-n&&t<=Math.max(s,a)+n}function v1(t,s,a){a=a||(l=>t[l]<s);let n=t.length-1,r=0,i;for(;n-r>1;)i=r+n>>1,a(i)?r=i:n=i;return{lo:r,hi:n}}const io=(t,s,a,n)=>v1(t,a,n?r=>{const i=t[r][s];return i<a||i===a&&t[r+1][s]===a}:r=>t[r][s]<a),wte=(t,s,a)=>v1(t,a,n=>t[n][s]>=a);function Nte(t,s,a){let n=0,r=t.length;for(;n<r&&t[n]<s;)n++;for(;r>n&&t[r-1]>a;)r--;return n>0||r<t.length?t.slice(n,r):t}const SP=["push","pop","shift","splice","unshift"];function _te(t,s){if(t._chartjs){t._chartjs.listeners.push(s);return}Object.defineProperty(t,"_chartjs",{configurable:!0,enumerable:!1,value:{listeners:[s]}}),SP.forEach(a=>{const n="_onData"+y1(a),r=t[a];Object.defineProperty(t,a,{configurable:!0,enumerable:!1,value(...i){const l=r.apply(this,i);return t._chartjs.listeners.forEach(d=>{typeof d[n]=="function"&&d[n](...i)}),l}})})}function PA(t,s){const a=t._chartjs;if(!a)return;const n=a.listeners,r=n.indexOf(s);r!==-1&&n.splice(r,1),!(n.length>0)&&(SP.forEach(i=>{delete t[i]}),delete t._chartjs)}function AP(t){const s=new Set(t);return s.size===t.length?t:Array.from(s)}const TP=(function(){return typeof window>"u"?function(t){return t()}:window.requestAnimationFrame})();function DP(t,s){let a=[],n=!1;return function(...r){a=r,n||(n=!0,TP.call(window,()=>{n=!1,t.apply(s,a)}))}}function Cte(t,s){let a;return function(...n){return s?(clearTimeout(a),a=setTimeout(t,s,n)):t.apply(this,n),s}}const j1=t=>t==="start"?"left":t==="end"?"right":"center",Za=(t,s,a)=>t==="start"?s:t==="end"?a:(s+a)/2,kte=(t,s,a,n)=>t===(n?"left":"right")?a:t==="center"?(s+a)/2:s;function EP(t,s,a){const n=s.length;let r=0,i=n;if(t._sorted){const{iScale:l,vScale:d,_parsed:u}=t,h=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null,p=l.axis,{min:f,max:y,minDefined:v,maxDefined:j}=l.getUserBounds();if(v){if(r=Math.min(io(u,p,f).lo,a?n:io(s,p,l.getPixelForValue(f)).lo),h){const N=u.slice(0,r+1).reverse().findIndex(w=>!Yt(w[d.axis]));r-=Math.max(0,N)}r=Va(r,0,n-1)}if(j){let N=Math.max(io(u,l.axis,y,!0).hi+1,a?0:io(s,p,l.getPixelForValue(y),!0).hi+1);if(h){const w=u.slice(N-1).findIndex(_=>!Yt(_[d.axis]));N+=Math.max(0,w)}i=Va(N,r,n)-r}else i=n-r}return{start:r,count:i}}function RP(t){const{xScale:s,yScale:a,_scaleRanges:n}=t,r={xmin:s.min,xmax:s.max,ymin:a.min,ymax:a.max};if(!n)return t._scaleRanges=r,!0;const i=n.xmin!==s.min||n.xmax!==s.max||n.ymin!==a.min||n.ymax!==a.max;return Object.assign(n,r),i}const Bp=t=>t===0||t===1,OA=(t,s,a)=>-(Math.pow(2,10*(t-=1))*Math.sin((t-s)*Vs/a)),LA=(t,s,a)=>Math.pow(2,-10*t)*Math.sin((t-s)*Vs/a)+1,em={linear:t=>t,easeInQuad:t=>t*t,easeOutQuad:t=>-t*(t-2),easeInOutQuad:t=>(t/=.5)<1?.5*t*t:-.5*(--t*(t-2)-1),easeInCubic:t=>t*t*t,easeOutCubic:t=>(t-=1)*t*t+1,easeInOutCubic:t=>(t/=.5)<1?.5*t*t*t:.5*((t-=2)*t*t+2),easeInQuart:t=>t*t*t*t,easeOutQuart:t=>-((t-=1)*t*t*t-1),easeInOutQuart:t=>(t/=.5)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),easeInQuint:t=>t*t*t*t*t,easeOutQuint:t=>(t-=1)*t*t*t*t+1,easeInOutQuint:t=>(t/=.5)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),easeInSine:t=>-Math.cos(t*fa)+1,easeOutSine:t=>Math.sin(t*fa),easeInOutSine:t=>-.5*(Math.cos(gs*t)-1),easeInExpo:t=>t===0?0:Math.pow(2,10*(t-1)),easeOutExpo:t=>t===1?1:-Math.pow(2,-10*t)+1,easeInOutExpo:t=>Bp(t)?t:t<.5?.5*Math.pow(2,10*(t*2-1)):.5*(-Math.pow(2,-10*(t*2-1))+2),easeInCirc:t=>t>=1?t:-(Math.sqrt(1-t*t)-1),easeOutCirc:t=>Math.sqrt(1-(t-=1)*t),easeInOutCirc:t=>(t/=.5)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),easeInElastic:t=>Bp(t)?t:OA(t,.075,.3),easeOutElastic:t=>Bp(t)?t:LA(t,.075,.3),easeInOutElastic(t){return Bp(t)?t:t<.5?.5*OA(t*2,.1125,.45):.5+.5*LA(t*2-1,.1125,.45)},easeInBack(t){return t*t*((1.70158+1)*t-1.70158)},easeOutBack(t){return(t-=1)*t*((1.70158+1)*t+1.70158)+1},easeInOutBack(t){let s=1.70158;return(t/=.5)<1?.5*(t*t*(((s*=1.525)+1)*t-s)):.5*((t-=2)*t*(((s*=1.525)+1)*t+s)+2)},easeInBounce:t=>1-em.easeOutBounce(1-t),easeOutBounce(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},easeInOutBounce:t=>t<.5?em.easeInBounce(t*2)*.5:em.easeOutBounce(t*2-1)*.5+.5};function w1(t){if(t&&typeof t=="object"){const s=t.toString();return s==="[object CanvasPattern]"||s==="[object CanvasGradient]"}return!1}function BA(t){return w1(t)?t:new pm(t)}function tv(t){return w1(t)?t:new pm(t).saturate(.5).darken(.1).hexString()}const Ste=["x","y","borderWidth","radius","tension"],Ate=["color","borderColor","backgroundColor"];function Tte(t){t.set("animation",{delay:void 0,duration:1e3,easing:"easeOutQuart",fn:void 0,from:void 0,loop:void 0,to:void 0,type:void 0}),t.describe("animation",{_fallback:!1,_indexable:!1,_scriptable:s=>s!=="onProgress"&&s!=="onComplete"&&s!=="fn"}),t.set("animations",{colors:{type:"color",properties:Ate},numbers:{type:"number",properties:Ste}}),t.describe("animations",{_fallback:"animation"}),t.set("transitions",{active:{animation:{duration:400}},resize:{animation:{duration:0}},show:{animations:{colors:{from:"transparent"},visible:{type:"boolean",duration:0}}},hide:{animations:{colors:{to:"transparent"},visible:{type:"boolean",easing:"linear",fn:s=>s|0}}}})}function Dte(t){t.set("layout",{autoPadding:!0,padding:{top:0,right:0,bottom:0,left:0}})}const FA=new Map;function Ete(t,s){s=s||{};const a=t+JSON.stringify(s);let n=FA.get(a);return n||(n=new Intl.NumberFormat(t,s),FA.set(a,n)),n}function Gm(t,s,a){return Ete(s,a).format(t)}const MP={values(t){return Ws(t)?t:""+t},numeric(t,s,a){if(t===0)return"0";const n=this.chart.options.locale;let r,i=t;if(a.length>1){const h=Math.max(Math.abs(a[0].value),Math.abs(a[a.length-1].value));(h<1e-4||h>1e15)&&(r="scientific"),i=Rte(t,a)}const l=fl(Math.abs(i)),d=isNaN(l)?1:Math.max(Math.min(-1*Math.floor(l),20),0),u={notation:r,minimumFractionDigits:d,maximumFractionDigits:d};return Object.assign(u,this.options.ticks.format),Gm(t,n,u)},logarithmic(t,s,a){if(t===0)return"0";const n=a[s].significand||t/Math.pow(10,Math.floor(fl(t)));return[1,2,3,5,10,15].includes(n)||s>.8*a.length?MP.numeric.call(this,t,s,a):""}};function Rte(t,s){let a=s.length>3?s[2].value-s[1].value:s[1].value-s[0].value;return Math.abs(a)>=1&&t!==Math.floor(t)&&(a=t-Math.floor(t)),a}var $x={formatters:MP};function Mte(t){t.set("scale",{display:!0,offset:!1,reverse:!1,beginAtZero:!1,bounds:"ticks",clip:!0,grace:0,grid:{display:!0,lineWidth:1,drawOnChartArea:!0,drawTicks:!0,tickLength:8,tickWidth:(s,a)=>a.lineWidth,tickColor:(s,a)=>a.color,offset:!1},border:{display:!0,dash:[],dashOffset:0,width:1},title:{display:!1,text:"",padding:{top:4,bottom:4}},ticks:{minRotation:0,maxRotation:50,mirror:!1,textStrokeWidth:0,textStrokeColor:"",padding:3,display:!0,autoSkip:!0,autoSkipPadding:3,labelOffset:0,callback:$x.formatters.values,minor:{},major:{},align:"center",crossAlign:"near",showLabelBackdrop:!1,backdropColor:"rgba(255, 255, 255, 0.75)",backdropPadding:2}}),t.route("scale.ticks","color","","color"),t.route("scale.grid","color","","borderColor"),t.route("scale.border","color","","borderColor"),t.route("scale.title","color","","color"),t.describe("scale",{_fallback:!1,_scriptable:s=>!s.startsWith("before")&&!s.startsWith("after")&&s!=="callback"&&s!=="parser",_indexable:s=>s!=="borderDash"&&s!=="tickBorderDash"&&s!=="dash"}),t.describe("scales",{_fallback:"scale"}),t.describe("scale.ticks",{_scriptable:s=>s!=="backdropPadding"&&s!=="callback",_indexable:s=>s!=="backdropPadding"})}const Vc=Object.create(null),Sj=Object.create(null);function tm(t,s){if(!s)return t;const a=s.split(".");for(let n=0,r=a.length;n<r;++n){const i=a[n];t=t[i]||(t[i]=Object.create(null))}return t}function sv(t,s,a){return typeof s=="string"?gm(tm(t,s),a):gm(tm(t,""),s)}class Pte{constructor(s,a){this.animation=void 0,this.backgroundColor="rgba(0,0,0,0.1)",this.borderColor="rgba(0,0,0,0.1)",this.color="#666",this.datasets={},this.devicePixelRatio=n=>n.chart.platform.getDevicePixelRatio(),this.elements={},this.events=["mousemove","mouseout","click","touchstart","touchmove"],this.font={family:"'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",size:12,style:"normal",lineHeight:1.2,weight:null},this.hover={},this.hoverBackgroundColor=(n,r)=>tv(r.backgroundColor),this.hoverBorderColor=(n,r)=>tv(r.borderColor),this.hoverColor=(n,r)=>tv(r.color),this.indexAxis="x",this.interaction={mode:"nearest",intersect:!0,includeInvisible:!1},this.maintainAspectRatio=!0,this.onHover=null,this.onClick=null,this.parsing=!0,this.plugins={},this.responsive=!0,this.scale=void 0,this.scales={},this.showLine=!0,this.drawActiveElementsOnTop=!0,this.describe(s),this.apply(a)}set(s,a){return sv(this,s,a)}get(s){return tm(this,s)}describe(s,a){return sv(Sj,s,a)}override(s,a){return sv(Vc,s,a)}route(s,a,n,r){const i=tm(this,s),l=tm(this,n),d="_"+a;Object.defineProperties(i,{[d]:{value:i[a],writable:!0},[a]:{enumerable:!0,get(){const u=this[d],h=l[r];return Jt(u)?Object.assign({},h,u):Ft(u,h)},set(u){this[d]=u}}})}apply(s){s.forEach(a=>a(this))}}var Zs=new Pte({_scriptable:t=>!t.startsWith("on"),_indexable:t=>t!=="events",hover:{_fallback:"interaction"},interaction:{_scriptable:!1,_indexable:!1}},[Tte,Dte,Mte]);function Ote(t){return!t||Yt(t.size)||Yt(t.family)?null:(t.style?t.style+" ":"")+(t.weight?t.weight+" ":"")+t.size+"px "+t.family}function Xg(t,s,a,n,r){let i=s[r];return i||(i=s[r]=t.measureText(r).width,a.push(r)),i>n&&(n=i),n}function Lte(t,s,a,n){n=n||{};let r=n.data=n.data||{},i=n.garbageCollect=n.garbageCollect||[];n.font!==s&&(r=n.data={},i=n.garbageCollect=[],n.font=s),t.save(),t.font=s;let l=0;const d=a.length;let u,h,p,f,y;for(u=0;u<d;u++)if(f=a[u],f!=null&&!Ws(f))l=Xg(t,r,i,l,f);else if(Ws(f))for(h=0,p=f.length;h<p;h++)y=f[h],y!=null&&!Ws(y)&&(l=Xg(t,r,i,l,y));t.restore();const v=i.length/2;if(v>a.length){for(u=0;u<v;u++)delete r[i[u]];i.splice(0,v)}return l}function dc(t,s,a){const n=t.currentDevicePixelRatio,r=a!==0?Math.max(a/2,.5):0;return Math.round((s-r)*n)/n+r}function IA(t,s){!s&&!t||(s=s||t.getContext("2d"),s.save(),s.resetTransform(),s.clearRect(0,0,t.width,t.height),s.restore())}function Aj(t,s,a,n){PP(t,s,a,n,null)}function PP(t,s,a,n,r){let i,l,d,u,h,p,f,y;const v=s.pointStyle,j=s.rotation,N=s.radius;let w=(j||0)*gte;if(v&&typeof v=="object"&&(i=v.toString(),i==="[object HTMLImageElement]"||i==="[object HTMLCanvasElement]")){t.save(),t.translate(a,n),t.rotate(w),t.drawImage(v,-v.width/2,-v.height/2,v.width,v.height),t.restore();return}if(!(isNaN(N)||N<=0)){switch(t.beginPath(),v){default:r?t.ellipse(a,n,r/2,N,0,0,Vs):t.arc(a,n,N,0,Vs),t.closePath();break;case"triangle":p=r?r/2:N,t.moveTo(a+Math.sin(w)*p,n-Math.cos(w)*N),w+=EA,t.lineTo(a+Math.sin(w)*p,n-Math.cos(w)*N),w+=EA,t.lineTo(a+Math.sin(w)*p,n-Math.cos(w)*N),t.closePath();break;case"rectRounded":h=N*.516,u=N-h,l=Math.cos(w+cc)*u,f=Math.cos(w+cc)*(r?r/2-h:u),d=Math.sin(w+cc)*u,y=Math.sin(w+cc)*(r?r/2-h:u),t.arc(a-f,n-d,h,w-gs,w-fa),t.arc(a+y,n-l,h,w-fa,w),t.arc(a+f,n+d,h,w,w+fa),t.arc(a-y,n+l,h,w+fa,w+gs),t.closePath();break;case"rect":if(!j){u=Math.SQRT1_2*N,p=r?r/2:u,t.rect(a-p,n-u,2*p,2*u);break}w+=cc;case"rectRot":f=Math.cos(w)*(r?r/2:N),l=Math.cos(w)*N,d=Math.sin(w)*N,y=Math.sin(w)*(r?r/2:N),t.moveTo(a-f,n-d),t.lineTo(a+y,n-l),t.lineTo(a+f,n+d),t.lineTo(a-y,n+l),t.closePath();break;case"crossRot":w+=cc;case"cross":f=Math.cos(w)*(r?r/2:N),l=Math.cos(w)*N,d=Math.sin(w)*N,y=Math.sin(w)*(r?r/2:N),t.moveTo(a-f,n-d),t.lineTo(a+f,n+d),t.moveTo(a+y,n-l),t.lineTo(a-y,n+l);break;case"star":f=Math.cos(w)*(r?r/2:N),l=Math.cos(w)*N,d=Math.sin(w)*N,y=Math.sin(w)*(r?r/2:N),t.moveTo(a-f,n-d),t.lineTo(a+f,n+d),t.moveTo(a+y,n-l),t.lineTo(a-y,n+l),w+=cc,f=Math.cos(w)*(r?r/2:N),l=Math.cos(w)*N,d=Math.sin(w)*N,y=Math.sin(w)*(r?r/2:N),t.moveTo(a-f,n-d),t.lineTo(a+f,n+d),t.moveTo(a+y,n-l),t.lineTo(a-y,n+l);break;case"line":l=r?r/2:Math.cos(w)*N,d=Math.sin(w)*N,t.moveTo(a-l,n-d),t.lineTo(a+l,n+d);break;case"dash":t.moveTo(a,n),t.lineTo(a+Math.cos(w)*(r?r/2:N),n+Math.sin(w)*N);break;case!1:t.closePath();break}t.fill(),s.borderWidth>0&&t.stroke()}}function oo(t,s,a){return a=a||.5,!s||t&&t.x>s.left-a&&t.x<s.right+a&&t.y>s.top-a&&t.y<s.bottom+a}function zx(t,s){t.save(),t.beginPath(),t.rect(s.left,s.top,s.right-s.left,s.bottom-s.top),t.clip()}function Vx(t){t.restore()}function Bte(t,s,a,n,r){if(!s)return t.lineTo(a.x,a.y);if(r==="middle"){const i=(s.x+a.x)/2;t.lineTo(i,s.y),t.lineTo(i,a.y)}else r==="after"!=!!n?t.lineTo(s.x,a.y):t.lineTo(a.x,s.y);t.lineTo(a.x,a.y)}function Fte(t,s,a,n){if(!s)return t.lineTo(a.x,a.y);t.bezierCurveTo(n?s.cp1x:s.cp2x,n?s.cp1y:s.cp2y,n?a.cp2x:a.cp1x,n?a.cp2y:a.cp1y,a.x,a.y)}function Ite(t,s){s.translation&&t.translate(s.translation[0],s.translation[1]),Yt(s.rotation)||t.rotate(s.rotation),s.color&&(t.fillStyle=s.color),s.textAlign&&(t.textAlign=s.textAlign),s.textBaseline&&(t.textBaseline=s.textBaseline)}function $te(t,s,a,n,r){if(r.strikethrough||r.underline){const i=t.measureText(n),l=s-i.actualBoundingBoxLeft,d=s+i.actualBoundingBoxRight,u=a-i.actualBoundingBoxAscent,h=a+i.actualBoundingBoxDescent,p=r.strikethrough?(u+h)/2:h;t.strokeStyle=t.fillStyle,t.beginPath(),t.lineWidth=r.decorationWidth||2,t.moveTo(l,p),t.lineTo(d,p),t.stroke()}}function zte(t,s){const a=t.fillStyle;t.fillStyle=s.color,t.fillRect(s.left,s.top,s.width,s.height),t.fillStyle=a}function Uc(t,s,a,n,r,i={}){const l=Ws(s)?s:[s],d=i.strokeWidth>0&&i.strokeColor!=="";let u,h;for(t.save(),t.font=r.string,Ite(t,i),u=0;u<l.length;++u)h=l[u],i.backdrop&&zte(t,i.backdrop),d&&(i.strokeColor&&(t.strokeStyle=i.strokeColor),Yt(i.strokeWidth)||(t.lineWidth=i.strokeWidth),t.strokeText(h,a,n,i.maxWidth)),t.fillText(h,a,n,i.maxWidth),$te(t,a,n,h,i),n+=Number(r.lineHeight);t.restore()}function bm(t,s){const{x:a,y:n,w:r,h:i,radius:l}=s;t.arc(a+l.topLeft,n+l.topLeft,l.topLeft,1.5*gs,gs,!0),t.lineTo(a,n+i-l.bottomLeft),t.arc(a+l.bottomLeft,n+i-l.bottomLeft,l.bottomLeft,gs,fa,!0),t.lineTo(a+r-l.bottomRight,n+i),t.arc(a+r-l.bottomRight,n+i-l.bottomRight,l.bottomRight,fa,0,!0),t.lineTo(a+r,n+l.topRight),t.arc(a+r-l.topRight,n+l.topRight,l.topRight,0,-fa,!0),t.lineTo(a+l.topLeft,n)}const Vte=/^(normal|(\d+(?:\.\d+)?)(px|em|%)?)$/,Ute=/^(normal|italic|initial|inherit|unset|(oblique( -?[0-9]?[0-9]deg)?))$/;function Hte(t,s){const a=(""+t).match(Vte);if(!a||a[1]==="normal")return s*1.2;switch(t=+a[2],a[3]){case"px":return t;case"%":t/=100;break}return s*t}const qte=t=>+t||0;function N1(t,s){const a={},n=Jt(s),r=n?Object.keys(s):s,i=Jt(t)?n?l=>Ft(t[l],t[s[l]]):l=>t[l]:()=>t;for(const l of r)a[l]=qte(i(l));return a}function OP(t){return N1(t,{top:"y",right:"x",bottom:"y",left:"x"})}function Ec(t){return N1(t,["topLeft","topRight","bottomLeft","bottomRight"])}function ln(t){const s=OP(t);return s.width=s.left+s.right,s.height=s.top+s.bottom,s}function Oa(t,s){t=t||{},s=s||Zs.font;let a=Ft(t.size,s.size);typeof a=="string"&&(a=parseInt(a,10));let n=Ft(t.style,s.style);n&&!(""+n).match(Ute)&&(console.warn('Invalid font style specified: "'+n+'"'),n=void 0);const r={family:Ft(t.family,s.family),lineHeight:Hte(Ft(t.lineHeight,s.lineHeight),a),size:a,style:n,weight:Ft(t.weight,s.weight),string:""};return r.string=Ote(r),r}function Vh(t,s,a,n){let r,i,l;for(r=0,i=t.length;r<i;++r)if(l=t[r],l!==void 0&&l!==void 0)return l}function Gte(t,s,a){const{min:n,max:r}=t,i=NP(s,(r-n)/2),l=(d,u)=>a&&d===0?0:d+u;return{min:l(n,-Math.abs(i)),max:l(r,i)}}function Ml(t,s){return Object.assign(Object.create(t),s)}function _1(t,s=[""],a,n,r=()=>t[0]){const i=a||t;typeof n>"u"&&(n=IP("_fallback",t));const l={[Symbol.toStringTag]:"Object",_cacheable:!0,_scopes:t,_rootScopes:i,_fallback:n,_getTarget:r,override:d=>_1([d,...t],s,i,n)};return new Proxy(l,{deleteProperty(d,u){return delete d[u],delete d._keys,delete t[0][u],!0},get(d,u){return BP(d,u,()=>ese(u,s,t,d))},getOwnPropertyDescriptor(d,u){return Reflect.getOwnPropertyDescriptor(d._scopes[0],u)},getPrototypeOf(){return Reflect.getPrototypeOf(t[0])},has(d,u){return zA(d).includes(u)},ownKeys(d){return zA(d)},set(d,u,h){const p=d._storage||(d._storage=r());return d[u]=p[u]=h,delete d._keys,!0}})}function ou(t,s,a,n){const r={_cacheable:!1,_proxy:t,_context:s,_subProxy:a,_stack:new Set,_descriptors:LP(t,n),setContext:i=>ou(t,i,a,n),override:i=>ou(t.override(i),s,a,n)};return new Proxy(r,{deleteProperty(i,l){return delete i[l],delete t[l],!0},get(i,l,d){return BP(i,l,()=>Yte(i,l,d))},getOwnPropertyDescriptor(i,l){return i._descriptors.allKeys?Reflect.has(t,l)?{enumerable:!0,configurable:!0}:void 0:Reflect.getOwnPropertyDescriptor(t,l)},getPrototypeOf(){return Reflect.getPrototypeOf(t)},has(i,l){return Reflect.has(t,l)},ownKeys(){return Reflect.ownKeys(t)},set(i,l,d){return t[l]=d,delete i[l],!0}})}function LP(t,s={scriptable:!0,indexable:!0}){const{_scriptable:a=s.scriptable,_indexable:n=s.indexable,_allKeys:r=s.allKeys}=t;return{allKeys:r,scriptable:a,indexable:n,isScriptable:Al(a)?a:()=>a,isIndexable:Al(n)?n:()=>n}}const Wte=(t,s)=>t?t+y1(s):s,C1=(t,s)=>Jt(s)&&t!=="adapters"&&(Object.getPrototypeOf(s)===null||s.constructor===Object);function BP(t,s,a){if(Object.prototype.hasOwnProperty.call(t,s)||s==="constructor")return t[s];const n=a();return t[s]=n,n}function Yte(t,s,a){const{_proxy:n,_context:r,_subProxy:i,_descriptors:l}=t;let d=n[s];return Al(d)&&l.isScriptable(s)&&(d=Kte(s,d,t,a)),Ws(d)&&d.length&&(d=Xte(s,d,t,l.isIndexable)),C1(s,d)&&(d=ou(d,r,i&&i[s],l)),d}function Kte(t,s,a,n){const{_proxy:r,_context:i,_subProxy:l,_stack:d}=a;if(d.has(t))throw new Error("Recursion detected: "+Array.from(d).join("->")+"->"+t);d.add(t);let u=s(i,l||n);return d.delete(t),C1(t,u)&&(u=k1(r._scopes,r,t,u)),u}function Xte(t,s,a,n){const{_proxy:r,_context:i,_subProxy:l,_descriptors:d}=a;if(typeof i.index<"u"&&n(t))return s[i.index%s.length];if(Jt(s[0])){const u=s,h=r._scopes.filter(p=>p!==u);s=[];for(const p of u){const f=k1(h,r,t,p);s.push(ou(f,i,l&&l[t],d))}}return s}function FP(t,s,a){return Al(t)?t(s,a):t}const Qte=(t,s)=>t===!0?s:typeof t=="string"?Sl(s,t):void 0;function Zte(t,s,a,n,r){for(const i of s){const l=Qte(a,i);if(l){t.add(l);const d=FP(l._fallback,a,r);if(typeof d<"u"&&d!==a&&d!==n)return d}else if(l===!1&&typeof n<"u"&&a!==n)return null}return!1}function k1(t,s,a,n){const r=s._rootScopes,i=FP(s._fallback,a,n),l=[...t,...r],d=new Set;d.add(n);let u=$A(d,l,a,i||a,n);return u===null||typeof i<"u"&&i!==a&&(u=$A(d,l,i,u,n),u===null)?!1:_1(Array.from(d),[""],r,i,()=>Jte(s,a,n))}function $A(t,s,a,n,r){for(;a;)a=Zte(t,s,a,n,r);return a}function Jte(t,s,a){const n=t._getTarget();s in n||(n[s]={});const r=n[s];return Ws(r)&&Jt(a)?a:r||{}}function ese(t,s,a,n){let r;for(const i of s)if(r=IP(Wte(i,t),a),typeof r<"u")return C1(t,r)?k1(a,n,t,r):r}function IP(t,s){for(const a of s){if(!a)continue;const n=a[t];if(typeof n<"u")return n}}function zA(t){let s=t._keys;return s||(s=t._keys=tse(t._scopes)),s}function tse(t){const s=new Set;for(const a of t)for(const n of Object.keys(a).filter(r=>!r.startsWith("_")))s.add(n);return Array.from(s)}function $P(t,s,a,n){const{iScale:r}=t,{key:i="r"}=this._parsing,l=new Array(n);let d,u,h,p;for(d=0,u=n;d<u;++d)h=d+a,p=s[h],l[d]={r:r.parse(Sl(p,i),h)};return l}const sse=Number.EPSILON||1e-14,lu=(t,s)=>s<t.length&&!t[s].skip&&t[s],zP=t=>t==="x"?"y":"x";function ase(t,s,a,n){const r=t.skip?s:t,i=s,l=a.skip?s:a,d=kj(i,r),u=kj(l,i);let h=d/(d+u),p=u/(d+u);h=isNaN(h)?0:h,p=isNaN(p)?0:p;const f=n*h,y=n*p;return{previous:{x:i.x-f*(l.x-r.x),y:i.y-f*(l.y-r.y)},next:{x:i.x+y*(l.x-r.x),y:i.y+y*(l.y-r.y)}}}function nse(t,s,a){const n=t.length;let r,i,l,d,u,h=lu(t,0);for(let p=0;p<n-1;++p)if(u=h,h=lu(t,p+1),!(!u||!h)){if(Jh(s[p],0,sse)){a[p]=a[p+1]=0;continue}r=a[p]/s[p],i=a[p+1]/s[p],d=Math.pow(r,2)+Math.pow(i,2),!(d<=9)&&(l=3/Math.sqrt(d),a[p]=r*l*s[p],a[p+1]=i*l*s[p])}}function rse(t,s,a="x"){const n=zP(a),r=t.length;let i,l,d,u=lu(t,0);for(let h=0;h<r;++h){if(l=d,d=u,u=lu(t,h+1),!d)continue;const p=d[a],f=d[n];l&&(i=(p-l[a])/3,d[`cp1${a}`]=p-i,d[`cp1${n}`]=f-i*s[h]),u&&(i=(u[a]-p)/3,d[`cp2${a}`]=p+i,d[`cp2${n}`]=f+i*s[h])}}function ise(t,s="x"){const a=zP(s),n=t.length,r=Array(n).fill(0),i=Array(n);let l,d,u,h=lu(t,0);for(l=0;l<n;++l)if(d=u,u=h,h=lu(t,l+1),!!u){if(h){const p=h[s]-u[s];r[l]=p!==0?(h[a]-u[a])/p:0}i[l]=d?h?_i(r[l-1])!==_i(r[l])?0:(r[l-1]+r[l])/2:r[l-1]:r[l]}nse(t,r,i),rse(t,i,s)}function Fp(t,s,a){return Math.max(Math.min(t,a),s)}function ose(t,s){let a,n,r,i,l,d=oo(t[0],s);for(a=0,n=t.length;a<n;++a)l=i,i=d,d=a<n-1&&oo(t[a+1],s),i&&(r=t[a],l&&(r.cp1x=Fp(r.cp1x,s.left,s.right),r.cp1y=Fp(r.cp1y,s.top,s.bottom)),d&&(r.cp2x=Fp(r.cp2x,s.left,s.right),r.cp2y=Fp(r.cp2y,s.top,s.bottom)))}function lse(t,s,a,n,r){let i,l,d,u;if(s.spanGaps&&(t=t.filter(h=>!h.skip)),s.cubicInterpolationMode==="monotone")ise(t,r);else{let h=n?t[t.length-1]:t[0];for(i=0,l=t.length;i<l;++i)d=t[i],u=ase(h,d,t[Math.min(i+1,l-(n?0:1))%l],s.tension),d.cp1x=u.previous.x,d.cp1y=u.previous.y,d.cp2x=u.next.x,d.cp2y=u.next.y,h=d}s.capBezierPoints&&ose(t,a)}function S1(){return typeof window<"u"&&typeof document<"u"}function A1(t){let s=t.parentNode;return s&&s.toString()==="[object ShadowRoot]"&&(s=s.host),s}function Qg(t,s,a){let n;return typeof t=="string"?(n=parseInt(t,10),t.indexOf("%")!==-1&&(n=n/100*s.parentNode[a])):n=t,n}const Ux=t=>t.ownerDocument.defaultView.getComputedStyle(t,null);function cse(t,s){return Ux(t).getPropertyValue(s)}const dse=["top","right","bottom","left"];function Rc(t,s,a){const n={};a=a?"-"+a:"";for(let r=0;r<4;r++){const i=dse[r];n[i]=parseFloat(t[s+"-"+i+a])||0}return n.width=n.left+n.right,n.height=n.top+n.bottom,n}const use=(t,s,a)=>(t>0||s>0)&&(!a||!a.shadowRoot);function hse(t,s){const a=t.touches,n=a&&a.length?a[0]:t,{offsetX:r,offsetY:i}=n;let l=!1,d,u;if(use(r,i,t.target))d=r,u=i;else{const h=s.getBoundingClientRect();d=n.clientX-h.left,u=n.clientY-h.top,l=!0}return{x:d,y:u,box:l}}function bc(t,s){if("native"in t)return t;const{canvas:a,currentDevicePixelRatio:n}=s,r=Ux(a),i=r.boxSizing==="border-box",l=Rc(r,"padding"),d=Rc(r,"border","width"),{x:u,y:h,box:p}=hse(t,a),f=l.left+(p&&d.left),y=l.top+(p&&d.top);let{width:v,height:j}=s;return i&&(v-=l.width+d.width,j-=l.height+d.height),{x:Math.round((u-f)/v*a.width/n),y:Math.round((h-y)/j*a.height/n)}}function mse(t,s,a){let n,r;if(s===void 0||a===void 0){const i=t&&A1(t);if(!i)s=t.clientWidth,a=t.clientHeight;else{const l=i.getBoundingClientRect(),d=Ux(i),u=Rc(d,"border","width"),h=Rc(d,"padding");s=l.width-h.width-u.width,a=l.height-h.height-u.height,n=Qg(d.maxWidth,i,"clientWidth"),r=Qg(d.maxHeight,i,"clientHeight")}}return{width:s,height:a,maxWidth:n||Kg,maxHeight:r||Kg}}const pl=t=>Math.round(t*10)/10;function fse(t,s,a,n){const r=Ux(t),i=Rc(r,"margin"),l=Qg(r.maxWidth,t,"clientWidth")||Kg,d=Qg(r.maxHeight,t,"clientHeight")||Kg,u=mse(t,s,a);let{width:h,height:p}=u;if(r.boxSizing==="content-box"){const y=Rc(r,"border","width"),v=Rc(r,"padding");h-=v.width+y.width,p-=v.height+y.height}return h=Math.max(0,h-i.width),p=Math.max(0,n?h/n:p-i.height),h=pl(Math.min(h,l,u.maxWidth)),p=pl(Math.min(p,d,u.maxHeight)),h&&!p&&(p=pl(h/2)),(s!==void 0||a!==void 0)&&n&&u.height&&p>u.height&&(p=u.height,h=pl(Math.floor(p*n))),{width:h,height:p}}function VA(t,s,a){const n=s||1,r=pl(t.height*n),i=pl(t.width*n);t.height=pl(t.height),t.width=pl(t.width);const l=t.canvas;return l.style&&(a||!l.style.height&&!l.style.width)&&(l.style.height=`${t.height}px`,l.style.width=`${t.width}px`),t.currentDevicePixelRatio!==n||l.height!==r||l.width!==i?(t.currentDevicePixelRatio=n,l.height=r,l.width=i,t.ctx.setTransform(n,0,0,n,0,0),!0):!1}const pse=(function(){let t=!1;try{const s={get passive(){return t=!0,!1}};S1()&&(window.addEventListener("test",null,s),window.removeEventListener("test",null,s))}catch{}return t})();function UA(t,s){const a=cse(t,s),n=a&&a.match(/^(\d+)(\.\d+)?px$/);return n?+n[1]:void 0}function vc(t,s,a,n){return{x:t.x+a*(s.x-t.x),y:t.y+a*(s.y-t.y)}}function gse(t,s,a,n){return{x:t.x+a*(s.x-t.x),y:n==="middle"?a<.5?t.y:s.y:n==="after"?a<1?t.y:s.y:a>0?s.y:t.y}}function xse(t,s,a,n){const r={x:t.cp2x,y:t.cp2y},i={x:s.cp1x,y:s.cp1y},l=vc(t,r,a),d=vc(r,i,a),u=vc(i,s,a),h=vc(l,d,a),p=vc(d,u,a);return vc(h,p,a)}const yse=function(t,s){return{x(a){return t+t+s-a},setWidth(a){s=a},textAlign(a){return a==="center"?a:a==="right"?"left":"right"},xPlus(a,n){return a-n},leftForLtr(a,n){return a-n}}},bse=function(){return{x(t){return t},setWidth(t){},textAlign(t){return t},xPlus(t,s){return t+s},leftForLtr(t,s){return t}}};function Zd(t,s,a){return t?yse(s,a):bse()}function VP(t,s){let a,n;(s==="ltr"||s==="rtl")&&(a=t.canvas.style,n=[a.getPropertyValue("direction"),a.getPropertyPriority("direction")],a.setProperty("direction",s,"important"),t.prevTextDirection=n)}function UP(t,s){s!==void 0&&(delete t.prevTextDirection,t.canvas.style.setProperty("direction",s[0],s[1]))}function HP(t){return t==="angle"?{between:ym,compare:vte,normalize:Ja}:{between:ro,compare:(s,a)=>s-a,normalize:s=>s}}function HA({start:t,end:s,count:a,loop:n,style:r}){return{start:t%a,end:s%a,loop:n&&(s-t+1)%a===0,style:r}}function vse(t,s,a){const{property:n,start:r,end:i}=a,{between:l,normalize:d}=HP(n),u=s.length;let{start:h,end:p,loop:f}=t,y,v;if(f){for(h+=u,p+=u,y=0,v=u;y<v&&l(d(s[h%u][n]),r,i);++y)h--,p--;h%=u,p%=u}return p<h&&(p+=u),{start:h,end:p,loop:f,style:t.style}}function qP(t,s,a){if(!a)return[t];const{property:n,start:r,end:i}=a,l=s.length,{compare:d,between:u,normalize:h}=HP(n),{start:p,end:f,loop:y,style:v}=vse(t,s,a),j=[];let N=!1,w=null,_,T,R;const E=()=>u(r,R,_)&&d(r,R)!==0,A=()=>d(i,_)===0||u(i,R,_),V=()=>N||E(),k=()=>!N||A();for(let B=p,P=p;B<=f;++B)T=s[B%l],!T.skip&&(_=h(T[n]),_!==R&&(N=u(_,r,i),w===null&&V()&&(w=d(_,r)===0?B:P),w!==null&&k()&&(j.push(HA({start:w,end:B,loop:y,count:l,style:v})),w=null),P=B,R=_));return w!==null&&j.push(HA({start:w,end:f,loop:y,count:l,style:v})),j}function GP(t,s){const a=[],n=t.segments;for(let r=0;r<n.length;r++){const i=qP(n[r],t.points,s);i.length&&a.push(...i)}return a}function jse(t,s,a,n){let r=0,i=s-1;if(a&&!n)for(;r<s&&!t[r].skip;)r++;for(;r<s&&t[r].skip;)r++;for(r%=s,a&&(i+=r);i>r&&t[i%s].skip;)i--;return i%=s,{start:r,end:i}}function wse(t,s,a,n){const r=t.length,i=[];let l=s,d=t[s],u;for(u=s+1;u<=a;++u){const h=t[u%r];h.skip||h.stop?d.skip||(n=!1,i.push({start:s%r,end:(u-1)%r,loop:n}),s=l=h.stop?u:null):(l=u,d.skip&&(s=u)),d=h}return l!==null&&i.push({start:s%r,end:l%r,loop:n}),i}function Nse(t,s){const a=t.points,n=t.options.spanGaps,r=a.length;if(!r)return[];const i=!!t._loop,{start:l,end:d}=jse(a,r,i,n);if(n===!0)return qA(t,[{start:l,end:d,loop:i}],a,s);const u=d<l?d+r:d,h=!!t._fullLoop&&l===0&&d===r-1;return qA(t,wse(a,l,u,h),a,s)}function qA(t,s,a,n){return!n||!n.setContext||!a?s:_se(t,s,a,n)}function _se(t,s,a,n){const r=t._chart.getContext(),i=GA(t.options),{_datasetIndex:l,options:{spanGaps:d}}=t,u=a.length,h=[];let p=i,f=s[0].start,y=f;function v(j,N,w,_){const T=d?-1:1;if(j!==N){for(j+=u;a[j%u].skip;)j-=T;for(;a[N%u].skip;)N+=T;j%u!==N%u&&(h.push({start:j%u,end:N%u,loop:w,style:_}),p=_,f=N%u)}}for(const j of s){f=d?f:j.start;let N=a[f%u],w;for(y=f+1;y<=j.end;y++){const _=a[y%u];w=GA(n.setContext(Ml(r,{type:"segment",p0:N,p1:_,p0DataIndex:(y-1)%u,p1DataIndex:y%u,datasetIndex:l}))),Cse(w,p)&&v(f,y-1,j.loop,p),N=_,p=w}f<y-1&&v(f,y-1,j.loop,p)}return h}function GA(t){return{backgroundColor:t.backgroundColor,borderCapStyle:t.borderCapStyle,borderDash:t.borderDash,borderDashOffset:t.borderDashOffset,borderJoinStyle:t.borderJoinStyle,borderWidth:t.borderWidth,borderColor:t.borderColor}}function Cse(t,s){if(!s)return!1;const a=[],n=function(r,i){return w1(i)?(a.includes(i)||a.push(i),a.indexOf(i)):i};return JSON.stringify(t,n)!==JSON.stringify(s,n)}function Ip(t,s,a){return t.options.clip?t[a]:s[a]}function kse(t,s){const{xScale:a,yScale:n}=t;return a&&n?{left:Ip(a,s,"left"),right:Ip(a,s,"right"),top:Ip(n,s,"top"),bottom:Ip(n,s,"bottom")}:s}function WP(t,s){const a=s._clip;if(a.disabled)return!1;const n=kse(s,t.chartArea);return{left:a.left===!1?0:n.left-(a.left===!0?0:a.left),right:a.right===!1?t.width:n.right+(a.right===!0?0:a.right),top:a.top===!1?0:n.top-(a.top===!0?0:a.top),bottom:a.bottom===!1?t.height:n.bottom+(a.bottom===!0?0:a.bottom)}}class Sse{constructor(){this._request=null,this._charts=new Map,this._running=!1,this._lastDate=void 0}_notify(s,a,n,r){const i=a.listeners[r],l=a.duration;i.forEach(d=>d({chart:s,initial:a.initial,numSteps:l,currentStep:Math.min(n-a.start,l)}))}_refresh(){this._request||(this._running=!0,this._request=TP.call(window,()=>{this._update(),this._request=null,this._running&&this._refresh()}))}_update(s=Date.now()){let a=0;this._charts.forEach((n,r)=>{if(!n.running||!n.items.length)return;const i=n.items;let l=i.length-1,d=!1,u;for(;l>=0;--l)u=i[l],u._active?(u._total>n.duration&&(n.duration=u._total),u.tick(s),d=!0):(i[l]=i[i.length-1],i.pop());d&&(r.draw(),this._notify(r,n,s,"progress")),i.length||(n.running=!1,this._notify(r,n,s,"complete"),n.initial=!1),a+=i.length}),this._lastDate=s,a===0&&(this._running=!1)}_getAnims(s){const a=this._charts;let n=a.get(s);return n||(n={running:!1,initial:!0,items:[],listeners:{complete:[],progress:[]}},a.set(s,n)),n}listen(s,a,n){this._getAnims(s).listeners[a].push(n)}add(s,a){!a||!a.length||this._getAnims(s).items.push(...a)}has(s){return this._getAnims(s).items.length>0}start(s){const a=this._charts.get(s);a&&(a.running=!0,a.start=Date.now(),a.duration=a.items.reduce((n,r)=>Math.max(n,r._duration),0),this._refresh())}running(s){if(!this._running)return!1;const a=this._charts.get(s);return!(!a||!a.running||!a.items.length)}stop(s){const a=this._charts.get(s);if(!a||!a.items.length)return;const n=a.items;let r=n.length-1;for(;r>=0;--r)n[r].cancel();a.items=[],this._notify(s,a,Date.now(),"complete")}remove(s){return this._charts.delete(s)}}var to=new Sse;const WA="transparent",Ase={boolean(t,s,a){return a>.5?s:t},color(t,s,a){const n=BA(t||WA),r=n.valid&&BA(s||WA);return r&&r.valid?r.mix(n,a).hexString():s},number(t,s,a){return t+(s-t)*a}};class Tse{constructor(s,a,n,r){const i=a[n];r=Vh([s.to,r,i,s.from]);const l=Vh([s.from,i,r]);this._active=!0,this._fn=s.fn||Ase[s.type||typeof l],this._easing=em[s.easing]||em.linear,this._start=Math.floor(Date.now()+(s.delay||0)),this._duration=this._total=Math.floor(s.duration),this._loop=!!s.loop,this._target=a,this._prop=n,this._from=l,this._to=r,this._promises=void 0}active(){return this._active}update(s,a,n){if(this._active){this._notify(!1);const r=this._target[this._prop],i=n-this._start,l=this._duration-i;this._start=n,this._duration=Math.floor(Math.max(l,s.duration)),this._total+=i,this._loop=!!s.loop,this._to=Vh([s.to,a,r,s.from]),this._from=Vh([s.from,r,a])}}cancel(){this._active&&(this.tick(Date.now()),this._active=!1,this._notify(!1))}tick(s){const a=s-this._start,n=this._duration,r=this._prop,i=this._from,l=this._loop,d=this._to;let u;if(this._active=i!==d&&(l||a<n),!this._active){this._target[r]=d,this._notify(!0);return}if(a<0){this._target[r]=i;return}u=a/n%2,u=l&&u>1?2-u:u,u=this._easing(Math.min(1,Math.max(0,u))),this._target[r]=this._fn(i,d,u)}wait(){const s=this._promises||(this._promises=[]);return new Promise((a,n)=>{s.push({res:a,rej:n})})}_notify(s){const a=s?"res":"rej",n=this._promises||[];for(let r=0;r<n.length;r++)n[r][a]()}}class YP{constructor(s,a){this._chart=s,this._properties=new Map,this.configure(a)}configure(s){if(!Jt(s))return;const a=Object.keys(Zs.animation),n=this._properties;Object.getOwnPropertyNames(s).forEach(r=>{const i=s[r];if(!Jt(i))return;const l={};for(const d of a)l[d]=i[d];(Ws(i.properties)&&i.properties||[r]).forEach(d=>{(d===r||!n.has(d))&&n.set(d,l)})})}_animateOptions(s,a){const n=a.options,r=Ese(s,n);if(!r)return[];const i=this._createAnimations(r,n);return n.$shared&&Dse(s.options.$animations,n).then(()=>{s.options=n},()=>{}),i}_createAnimations(s,a){const n=this._properties,r=[],i=s.$animations||(s.$animations={}),l=Object.keys(a),d=Date.now();let u;for(u=l.length-1;u>=0;--u){const h=l[u];if(h.charAt(0)==="$")continue;if(h==="options"){r.push(...this._animateOptions(s,a));continue}const p=a[h];let f=i[h];const y=n.get(h);if(f)if(y&&f.active()){f.update(y,p,d);continue}else f.cancel();if(!y||!y.duration){s[h]=p;continue}i[h]=f=new Tse(y,s,h,p),r.push(f)}return r}update(s,a){if(this._properties.size===0){Object.assign(s,a);return}const n=this._createAnimations(s,a);if(n.length)return to.add(this._chart,n),!0}}function Dse(t,s){const a=[],n=Object.keys(s);for(let r=0;r<n.length;r++){const i=t[n[r]];i&&i.active()&&a.push(i.wait())}return Promise.all(a)}function Ese(t,s){if(!s)return;let a=t.options;if(!a){t.options=s;return}return a.$shared&&(t.options=a=Object.assign({},a,{$shared:!1,$animations:{}})),a}function YA(t,s){const a=t&&t.options||{},n=a.reverse,r=a.min===void 0?s:0,i=a.max===void 0?s:0;return{start:n?i:r,end:n?r:i}}function Rse(t,s,a){if(a===!1)return!1;const n=YA(t,a),r=YA(s,a);return{top:r.end,right:n.end,bottom:r.start,left:n.start}}function Mse(t){let s,a,n,r;return Jt(t)?(s=t.top,a=t.right,n=t.bottom,r=t.left):s=a=n=r=t,{top:s,right:a,bottom:n,left:r,disabled:t===!1}}function KP(t,s){const a=[],n=t._getSortedDatasetMetas(s);let r,i;for(r=0,i=n.length;r<i;++r)a.push(n[r].index);return a}function KA(t,s,a,n={}){const r=t.keys,i=n.mode==="single";let l,d,u,h;if(s===null)return;let p=!1;for(l=0,d=r.length;l<d;++l){if(u=+r[l],u===a){if(p=!0,n.all)continue;break}h=t.values[u],la(h)&&(i||s===0||_i(s)===_i(h))&&(s+=h)}return!p&&!n.all?0:s}function Pse(t,s){const{iScale:a,vScale:n}=s,r=a.axis==="x"?"x":"y",i=n.axis==="x"?"x":"y",l=Object.keys(t),d=new Array(l.length);let u,h,p;for(u=0,h=l.length;u<h;++u)p=l[u],d[u]={[r]:p,[i]:t[p]};return d}function av(t,s){const a=t&&t.options.stacked;return a||a===void 0&&s.stack!==void 0}function Ose(t,s,a){return`${t.id}.${s.id}.${a.stack||a.type}`}function Lse(t){const{min:s,max:a,minDefined:n,maxDefined:r}=t.getUserBounds();return{min:n?s:Number.NEGATIVE_INFINITY,max:r?a:Number.POSITIVE_INFINITY}}function Bse(t,s,a){const n=t[s]||(t[s]={});return n[a]||(n[a]={})}function XA(t,s,a,n){for(const r of s.getMatchingVisibleMetas(n).reverse()){const i=t[r.index];if(a&&i>0||!a&&i<0)return r.index}return null}function QA(t,s){const{chart:a,_cachedMeta:n}=t,r=a._stacks||(a._stacks={}),{iScale:i,vScale:l,index:d}=n,u=i.axis,h=l.axis,p=Ose(i,l,n),f=s.length;let y;for(let v=0;v<f;++v){const j=s[v],{[u]:N,[h]:w}=j,_=j._stacks||(j._stacks={});y=_[h]=Bse(r,p,N),y[d]=w,y._top=XA(y,l,!0,n.type),y._bottom=XA(y,l,!1,n.type);const T=y._visualValues||(y._visualValues={});T[d]=w}}function nv(t,s){const a=t.scales;return Object.keys(a).filter(n=>a[n].axis===s).shift()}function Fse(t,s){return Ml(t,{active:!1,dataset:void 0,datasetIndex:s,index:s,mode:"default",type:"dataset"})}function Ise(t,s,a){return Ml(t,{active:!1,dataIndex:s,parsed:void 0,raw:void 0,element:a,index:s,mode:"default",type:"data"})}function Eh(t,s){const a=t.controller.index,n=t.vScale&&t.vScale.axis;if(n){s=s||t._parsed;for(const r of s){const i=r._stacks;if(!i||i[n]===void 0||i[n][a]===void 0)return;delete i[n][a],i[n]._visualValues!==void 0&&i[n]._visualValues[a]!==void 0&&delete i[n]._visualValues[a]}}}const rv=t=>t==="reset"||t==="none",ZA=(t,s)=>s?t:Object.assign({},t),$se=(t,s,a)=>t&&!s.hidden&&s._stacked&&{keys:KP(a,!0),values:null};class Pl{static defaults={};static datasetElementType=null;static dataElementType=null;constructor(s,a){this.chart=s,this._ctx=s.ctx,this.index=a,this._cachedDataOpts={},this._cachedMeta=this.getMeta(),this._type=this._cachedMeta.type,this.options=void 0,this._parsing=!1,this._data=void 0,this._objectData=void 0,this._sharedOptions=void 0,this._drawStart=void 0,this._drawCount=void 0,this.enableOptionSharing=!1,this.supportsDecimation=!1,this.$context=void 0,this._syncList=[],this.datasetElementType=new.target.datasetElementType,this.dataElementType=new.target.dataElementType,this.initialize()}initialize(){const s=this._cachedMeta;this.configure(),this.linkScales(),s._stacked=av(s.vScale,s),this.addElements(),this.options.fill&&!this.chart.isPluginEnabled("filler")&&console.warn("Tried to use the 'fill' option without the 'Filler' plugin enabled. Please import and register the 'Filler' plugin and make sure it is not disabled in the options")}updateIndex(s){this.index!==s&&Eh(this._cachedMeta),this.index=s}linkScales(){const s=this.chart,a=this._cachedMeta,n=this.getDataset(),r=(f,y,v,j)=>f==="x"?y:f==="r"?j:v,i=a.xAxisID=Ft(n.xAxisID,nv(s,"x")),l=a.yAxisID=Ft(n.yAxisID,nv(s,"y")),d=a.rAxisID=Ft(n.rAxisID,nv(s,"r")),u=a.indexAxis,h=a.iAxisID=r(u,i,l,d),p=a.vAxisID=r(u,l,i,d);a.xScale=this.getScaleForId(i),a.yScale=this.getScaleForId(l),a.rScale=this.getScaleForId(d),a.iScale=this.getScaleForId(h),a.vScale=this.getScaleForId(p)}getDataset(){return this.chart.data.datasets[this.index]}getMeta(){return this.chart.getDatasetMeta(this.index)}getScaleForId(s){return this.chart.scales[s]}_getOtherScale(s){const a=this._cachedMeta;return s===a.iScale?a.vScale:a.iScale}reset(){this._update("reset")}_destroy(){const s=this._cachedMeta;this._data&&PA(this._data,this),s._stacked&&Eh(s)}_dataCheck(){const s=this.getDataset(),a=s.data||(s.data=[]),n=this._data;if(Jt(a)){const r=this._cachedMeta;this._data=Pse(a,r)}else if(n!==a){if(n){PA(n,this);const r=this._cachedMeta;Eh(r),r._parsed=[]}a&&Object.isExtensible(a)&&_te(a,this),this._syncList=[],this._data=a}}addElements(){const s=this._cachedMeta;this._dataCheck(),this.datasetElementType&&(s.dataset=new this.datasetElementType)}buildOrUpdateElements(s){const a=this._cachedMeta,n=this.getDataset();let r=!1;this._dataCheck();const i=a._stacked;a._stacked=av(a.vScale,a),a.stack!==n.stack&&(r=!0,Eh(a),a.stack=n.stack),this._resyncElements(s),(r||i!==a._stacked)&&(QA(this,a._parsed),a._stacked=av(a.vScale,a))}configure(){const s=this.chart.config,a=s.datasetScopeKeys(this._type),n=s.getOptionScopes(this.getDataset(),a,!0);this.options=s.createResolver(n,this.getContext()),this._parsing=this.options.parsing,this._cachedDataOpts={}}parse(s,a){const{_cachedMeta:n,_data:r}=this,{iScale:i,_stacked:l}=n,d=i.axis;let u=s===0&&a===r.length?!0:n._sorted,h=s>0&&n._parsed[s-1],p,f,y;if(this._parsing===!1)n._parsed=r,n._sorted=!0,y=r;else{Ws(r[s])?y=this.parseArrayData(n,r,s,a):Jt(r[s])?y=this.parseObjectData(n,r,s,a):y=this.parsePrimitiveData(n,r,s,a);const v=()=>f[d]===null||h&&f[d]<h[d];for(p=0;p<a;++p)n._parsed[p+s]=f=y[p],u&&(v()&&(u=!1),h=f);n._sorted=u}l&&QA(this,y)}parsePrimitiveData(s,a,n,r){const{iScale:i,vScale:l}=s,d=i.axis,u=l.axis,h=i.getLabels(),p=i===l,f=new Array(r);let y,v,j;for(y=0,v=r;y<v;++y)j=y+n,f[y]={[d]:p||i.parse(h[j],j),[u]:l.parse(a[j],j)};return f}parseArrayData(s,a,n,r){const{xScale:i,yScale:l}=s,d=new Array(r);let u,h,p,f;for(u=0,h=r;u<h;++u)p=u+n,f=a[p],d[u]={x:i.parse(f[0],p),y:l.parse(f[1],p)};return d}parseObjectData(s,a,n,r){const{xScale:i,yScale:l}=s,{xAxisKey:d="x",yAxisKey:u="y"}=this._parsing,h=new Array(r);let p,f,y,v;for(p=0,f=r;p<f;++p)y=p+n,v=a[y],h[p]={x:i.parse(Sl(v,d),y),y:l.parse(Sl(v,u),y)};return h}getParsed(s){return this._cachedMeta._parsed[s]}getDataElement(s){return this._cachedMeta.data[s]}applyStack(s,a,n){const r=this.chart,i=this._cachedMeta,l=a[s.axis],d={keys:KP(r,!0),values:a._stacks[s.axis]._visualValues};return KA(d,l,i.index,{mode:n})}updateRangeFromParsed(s,a,n,r){const i=n[a.axis];let l=i===null?NaN:i;const d=r&&n._stacks[a.axis];r&&d&&(r.values=d,l=KA(r,i,this._cachedMeta.index)),s.min=Math.min(s.min,l),s.max=Math.max(s.max,l)}getMinMax(s,a){const n=this._cachedMeta,r=n._parsed,i=n._sorted&&s===n.iScale,l=r.length,d=this._getOtherScale(s),u=$se(a,n,this.chart),h={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY},{min:p,max:f}=Lse(d);let y,v;function j(){v=r[y];const N=v[d.axis];return!la(v[s.axis])||p>N||f<N}for(y=0;y<l&&!(!j()&&(this.updateRangeFromParsed(h,s,v,u),i));++y);if(i){for(y=l-1;y>=0;--y)if(!j()){this.updateRangeFromParsed(h,s,v,u);break}}return h}getAllParsedValues(s){const a=this._cachedMeta._parsed,n=[];let r,i,l;for(r=0,i=a.length;r<i;++r)l=a[r][s.axis],la(l)&&n.push(l);return n}getMaxOverflow(){return!1}getLabelAndValue(s){const a=this._cachedMeta,n=a.iScale,r=a.vScale,i=this.getParsed(s);return{label:n?""+n.getLabelForValue(i[n.axis]):"",value:r?""+r.getLabelForValue(i[r.axis]):""}}_update(s){const a=this._cachedMeta;this.update(s||"default"),a._clip=Mse(Ft(this.options.clip,Rse(a.xScale,a.yScale,this.getMaxOverflow())))}update(s){}draw(){const s=this._ctx,a=this.chart,n=this._cachedMeta,r=n.data||[],i=a.chartArea,l=[],d=this._drawStart||0,u=this._drawCount||r.length-d,h=this.options.drawActiveElementsOnTop;let p;for(n.dataset&&n.dataset.draw(s,i,d,u),p=d;p<d+u;++p){const f=r[p];f.hidden||(f.active&&h?l.push(f):f.draw(s,i))}for(p=0;p<l.length;++p)l[p].draw(s,i)}getStyle(s,a){const n=a?"active":"default";return s===void 0&&this._cachedMeta.dataset?this.resolveDatasetElementOptions(n):this.resolveDataElementOptions(s||0,n)}getContext(s,a,n){const r=this.getDataset();let i;if(s>=0&&s<this._cachedMeta.data.length){const l=this._cachedMeta.data[s];i=l.$context||(l.$context=Ise(this.getContext(),s,l)),i.parsed=this.getParsed(s),i.raw=r.data[s],i.index=i.dataIndex=s}else i=this.$context||(this.$context=Fse(this.chart.getContext(),this.index)),i.dataset=r,i.index=i.datasetIndex=this.index;return i.active=!!a,i.mode=n,i}resolveDatasetElementOptions(s){return this._resolveElementOptions(this.datasetElementType.id,s)}resolveDataElementOptions(s,a){return this._resolveElementOptions(this.dataElementType.id,a,s)}_resolveElementOptions(s,a="default",n){const r=a==="active",i=this._cachedDataOpts,l=s+"-"+a,d=i[l],u=this.enableOptionSharing&&xm(n);if(d)return ZA(d,u);const h=this.chart.config,p=h.datasetElementScopeKeys(this._type,s),f=r?[`${s}Hover`,"hover",s,""]:[s,""],y=h.getOptionScopes(this.getDataset(),p),v=Object.keys(Zs.elements[s]),j=()=>this.getContext(n,r,a),N=h.resolveNamedOptions(y,v,j,f);return N.$shared&&(N.$shared=u,i[l]=Object.freeze(ZA(N,u))),N}_resolveAnimations(s,a,n){const r=this.chart,i=this._cachedDataOpts,l=`animation-${a}`,d=i[l];if(d)return d;let u;if(r.options.animation!==!1){const p=this.chart.config,f=p.datasetAnimationScopeKeys(this._type,a),y=p.getOptionScopes(this.getDataset(),f);u=p.createResolver(y,this.getContext(s,n,a))}const h=new YP(r,u&&u.animations);return u&&u._cacheable&&(i[l]=Object.freeze(h)),h}getSharedOptions(s){if(s.$shared)return this._sharedOptions||(this._sharedOptions=Object.assign({},s))}includeOptions(s,a){return!a||rv(s)||this.chart._animationsDisabled}_getSharedOptions(s,a){const n=this.resolveDataElementOptions(s,a),r=this._sharedOptions,i=this.getSharedOptions(n),l=this.includeOptions(a,i)||i!==r;return this.updateSharedOptions(i,a,n),{sharedOptions:i,includeOptions:l}}updateElement(s,a,n,r){rv(r)?Object.assign(s,n):this._resolveAnimations(a,r).update(s,n)}updateSharedOptions(s,a,n){s&&!rv(a)&&this._resolveAnimations(void 0,a).update(s,n)}_setStyle(s,a,n,r){s.active=r;const i=this.getStyle(a,r);this._resolveAnimations(a,n,r).update(s,{options:!r&&this.getSharedOptions(i)||i})}removeHoverStyle(s,a,n){this._setStyle(s,n,"active",!1)}setHoverStyle(s,a,n){this._setStyle(s,n,"active",!0)}_removeDatasetHoverStyle(){const s=this._cachedMeta.dataset;s&&this._setStyle(s,void 0,"active",!1)}_setDatasetHoverStyle(){const s=this._cachedMeta.dataset;s&&this._setStyle(s,void 0,"active",!0)}_resyncElements(s){const a=this._data,n=this._cachedMeta.data;for(const[d,u,h]of this._syncList)this[d](u,h);this._syncList=[];const r=n.length,i=a.length,l=Math.min(i,r);l&&this.parse(0,l),i>r?this._insertElements(r,i-r,s):i<r&&this._removeElements(i,r-i)}_insertElements(s,a,n=!0){const r=this._cachedMeta,i=r.data,l=s+a;let d;const u=h=>{for(h.length+=a,d=h.length-1;d>=l;d--)h[d]=h[d-a]};for(u(i),d=s;d<l;++d)i[d]=new this.dataElementType;this._parsing&&u(r._parsed),this.parse(s,a),n&&this.updateElements(i,s,a,"reset")}updateElements(s,a,n,r){}_removeElements(s,a){const n=this._cachedMeta;if(this._parsing){const r=n._parsed.splice(s,a);n._stacked&&Eh(n,r)}n.data.splice(s,a)}_sync(s){if(this._parsing)this._syncList.push(s);else{const[a,n,r]=s;this[a](n,r)}this.chart._dataChanges.push([this.index,...s])}_onDataPush(){const s=arguments.length;this._sync(["_insertElements",this.getDataset().data.length-s,s])}_onDataPop(){this._sync(["_removeElements",this._cachedMeta.data.length-1,1])}_onDataShift(){this._sync(["_removeElements",0,1])}_onDataSplice(s,a){a&&this._sync(["_removeElements",s,a]);const n=arguments.length-2;n&&this._sync(["_insertElements",s,n])}_onDataUnshift(){this._sync(["_insertElements",0,arguments.length])}}function zse(t,s){if(!t._cache.$bar){const a=t.getMatchingVisibleMetas(s);let n=[];for(let r=0,i=a.length;r<i;r++)n=n.concat(a[r].controller.getAllParsedValues(t));t._cache.$bar=AP(n.sort((r,i)=>r-i))}return t._cache.$bar}function Vse(t){const s=t.iScale,a=zse(s,t.type);let n=s._length,r,i,l,d;const u=()=>{l===32767||l===-32768||(xm(d)&&(n=Math.min(n,Math.abs(l-d)||n)),d=l)};for(r=0,i=a.length;r<i;++r)l=s.getPixelForValue(a[r]),u();for(d=void 0,r=0,i=s.ticks.length;r<i;++r)l=s.getPixelForTick(r),u();return n}function Use(t,s,a,n){const r=a.barThickness;let i,l;return Yt(r)?(i=s.min*a.categoryPercentage,l=a.barPercentage):(i=r*n,l=1),{chunk:i/n,ratio:l,start:s.pixels[t]-i/2}}function Hse(t,s,a,n){const r=s.pixels,i=r[t];let l=t>0?r[t-1]:null,d=t<r.length-1?r[t+1]:null;const u=a.categoryPercentage;l===null&&(l=i-(d===null?s.end-s.start:d-i)),d===null&&(d=i+i-l);const h=i-(i-Math.min(l,d))/2*u;return{chunk:Math.abs(d-l)/2*u/n,ratio:a.barPercentage,start:h}}function qse(t,s,a,n){const r=a.parse(t[0],n),i=a.parse(t[1],n),l=Math.min(r,i),d=Math.max(r,i);let u=l,h=d;Math.abs(l)>Math.abs(d)&&(u=d,h=l),s[a.axis]=h,s._custom={barStart:u,barEnd:h,start:r,end:i,min:l,max:d}}function XP(t,s,a,n){return Ws(t)?qse(t,s,a,n):s[a.axis]=a.parse(t,n),s}function JA(t,s,a,n){const r=t.iScale,i=t.vScale,l=r.getLabels(),d=r===i,u=[];let h,p,f,y;for(h=a,p=a+n;h<p;++h)y=s[h],f={},f[r.axis]=d||r.parse(l[h],h),u.push(XP(y,f,i,h));return u}function iv(t){return t&&t.barStart!==void 0&&t.barEnd!==void 0}function Gse(t,s,a){return t!==0?_i(t):(s.isHorizontal()?1:-1)*(s.min>=a?1:-1)}function Wse(t){let s,a,n,r,i;return t.horizontal?(s=t.base>t.x,a="left",n="right"):(s=t.base<t.y,a="bottom",n="top"),s?(r="end",i="start"):(r="start",i="end"),{start:a,end:n,reverse:s,top:r,bottom:i}}function Yse(t,s,a,n){let r=s.borderSkipped;const i={};if(!r){t.borderSkipped=i;return}if(r===!0){t.borderSkipped={top:!0,right:!0,bottom:!0,left:!0};return}const{start:l,end:d,reverse:u,top:h,bottom:p}=Wse(t);r==="middle"&&a&&(t.enableBorderRadius=!0,(a._top||0)===n?r=h:(a._bottom||0)===n?r=p:(i[e4(p,l,d,u)]=!0,r=h)),i[e4(r,l,d,u)]=!0,t.borderSkipped=i}function e4(t,s,a,n){return n?(t=Kse(t,s,a),t=t4(t,a,s)):t=t4(t,s,a),t}function Kse(t,s,a){return t===s?a:t===a?s:t}function t4(t,s,a){return t==="start"?s:t==="end"?a:t}function Xse(t,{inflateAmount:s},a){t.inflateAmount=s==="auto"?a===1?.33:0:s}class Qse extends Pl{static id="bar";static defaults={datasetElementType:!1,dataElementType:"bar",categoryPercentage:.8,barPercentage:.9,grouped:!0,animations:{numbers:{type:"number",properties:["x","y","base","width","height"]}}};static overrides={scales:{_index_:{type:"category",offset:!0,grid:{offset:!0}},_value_:{type:"linear",beginAtZero:!0}}};parsePrimitiveData(s,a,n,r){return JA(s,a,n,r)}parseArrayData(s,a,n,r){return JA(s,a,n,r)}parseObjectData(s,a,n,r){const{iScale:i,vScale:l}=s,{xAxisKey:d="x",yAxisKey:u="y"}=this._parsing,h=i.axis==="x"?d:u,p=l.axis==="x"?d:u,f=[];let y,v,j,N;for(y=n,v=n+r;y<v;++y)N=a[y],j={},j[i.axis]=i.parse(Sl(N,h),y),f.push(XP(Sl(N,p),j,l,y));return f}updateRangeFromParsed(s,a,n,r){super.updateRangeFromParsed(s,a,n,r);const i=n._custom;i&&a===this._cachedMeta.vScale&&(s.min=Math.min(s.min,i.min),s.max=Math.max(s.max,i.max))}getMaxOverflow(){return 0}getLabelAndValue(s){const a=this._cachedMeta,{iScale:n,vScale:r}=a,i=this.getParsed(s),l=i._custom,d=iv(l)?"["+l.start+", "+l.end+"]":""+r.getLabelForValue(i[r.axis]);return{label:""+n.getLabelForValue(i[n.axis]),value:d}}initialize(){this.enableOptionSharing=!0,super.initialize();const s=this._cachedMeta;s.stack=this.getDataset().stack}update(s){const a=this._cachedMeta;this.updateElements(a.data,0,a.data.length,s)}updateElements(s,a,n,r){const i=r==="reset",{index:l,_cachedMeta:{vScale:d}}=this,u=d.getBasePixel(),h=d.isHorizontal(),p=this._getRuler(),{sharedOptions:f,includeOptions:y}=this._getSharedOptions(a,r);for(let v=a;v<a+n;v++){const j=this.getParsed(v),N=i||Yt(j[d.axis])?{base:u,head:u}:this._calculateBarValuePixels(v),w=this._calculateBarIndexPixels(v,p),_=(j._stacks||{})[d.axis],T={horizontal:h,base:N.base,enableBorderRadius:!_||iv(j._custom)||l===_._top||l===_._bottom,x:h?N.head:w.center,y:h?w.center:N.head,height:h?w.size:Math.abs(N.size),width:h?Math.abs(N.size):w.size};y&&(T.options=f||this.resolveDataElementOptions(v,s[v].active?"active":r));const R=T.options||s[v].options;Yse(T,R,_,l),Xse(T,R,p.ratio),this.updateElement(s[v],v,T,r)}}_getStacks(s,a){const{iScale:n}=this._cachedMeta,r=n.getMatchingVisibleMetas(this._type).filter(p=>p.controller.options.grouped),i=n.options.stacked,l=[],d=this._cachedMeta.controller.getParsed(a),u=d&&d[n.axis],h=p=>{const f=p._parsed.find(v=>v[n.axis]===u),y=f&&f[p.vScale.axis];if(Yt(y)||isNaN(y))return!0};for(const p of r)if(!(a!==void 0&&h(p))&&((i===!1||l.indexOf(p.stack)===-1||i===void 0&&p.stack===void 0)&&l.push(p.stack),p.index===s))break;return l.length||l.push(void 0),l}_getStackCount(s){return this._getStacks(void 0,s).length}_getAxisCount(){return this._getAxis().length}getFirstScaleIdForIndexAxis(){const s=this.chart.scales,a=this.chart.options.indexAxis;return Object.keys(s).filter(n=>s[n].axis===a).shift()}_getAxis(){const s={},a=this.getFirstScaleIdForIndexAxis();for(const n of this.chart.data.datasets)s[Ft(this.chart.options.indexAxis==="x"?n.xAxisID:n.yAxisID,a)]=!0;return Object.keys(s)}_getStackIndex(s,a,n){const r=this._getStacks(s,n),i=a!==void 0?r.indexOf(a):-1;return i===-1?r.length-1:i}_getRuler(){const s=this.options,a=this._cachedMeta,n=a.iScale,r=[];let i,l;for(i=0,l=a.data.length;i<l;++i)r.push(n.getPixelForValue(this.getParsed(i)[n.axis],i));const d=s.barThickness;return{min:d||Vse(a),pixels:r,start:n._startPixel,end:n._endPixel,stackCount:this._getStackCount(),scale:n,grouped:s.grouped,ratio:d?1:s.categoryPercentage*s.barPercentage}}_calculateBarValuePixels(s){const{_cachedMeta:{vScale:a,_stacked:n,index:r},options:{base:i,minBarLength:l}}=this,d=i||0,u=this.getParsed(s),h=u._custom,p=iv(h);let f=u[a.axis],y=0,v=n?this.applyStack(a,u,n):f,j,N;v!==f&&(y=v-f,v=f),p&&(f=h.barStart,v=h.barEnd-h.barStart,f!==0&&_i(f)!==_i(h.barEnd)&&(y=0),y+=f);const w=!Yt(i)&&!p?i:y;let _=a.getPixelForValue(w);if(this.chart.getDataVisibility(s)?j=a.getPixelForValue(y+v):j=_,N=j-_,Math.abs(N)<l){N=Gse(N,a,d)*l,f===d&&(_-=N/2);const T=a.getPixelForDecimal(0),R=a.getPixelForDecimal(1),E=Math.min(T,R),A=Math.max(T,R);_=Math.max(Math.min(_,A),E),j=_+N,n&&!p&&(u._stacks[a.axis]._visualValues[r]=a.getValueForPixel(j)-a.getValueForPixel(_))}if(_===a.getPixelForValue(d)){const T=_i(N)*a.getLineWidthForValue(d)/2;_+=T,N-=T}return{size:N,base:_,head:j,center:j+N/2}}_calculateBarIndexPixels(s,a){const n=a.scale,r=this.options,i=r.skipNull,l=Ft(r.maxBarThickness,1/0);let d,u;const h=this._getAxisCount();if(a.grouped){const p=i?this._getStackCount(s):a.stackCount,f=r.barThickness==="flex"?Hse(s,a,r,p*h):Use(s,a,r,p*h),y=this.chart.options.indexAxis==="x"?this.getDataset().xAxisID:this.getDataset().yAxisID,v=this._getAxis().indexOf(Ft(y,this.getFirstScaleIdForIndexAxis())),j=this._getStackIndex(this.index,this._cachedMeta.stack,i?s:void 0)+v;d=f.start+f.chunk*j+f.chunk/2,u=Math.min(l,f.chunk*f.ratio)}else d=n.getPixelForValue(this.getParsed(s)[n.axis],s),u=Math.min(l,a.min*a.ratio);return{base:d-u/2,head:d+u/2,center:d,size:u}}draw(){const s=this._cachedMeta,a=s.vScale,n=s.data,r=n.length;let i=0;for(;i<r;++i)this.getParsed(i)[a.axis]!==null&&!n[i].hidden&&n[i].draw(this._ctx)}}class Zse extends Pl{static id="bubble";static defaults={datasetElementType:!1,dataElementType:"point",animations:{numbers:{type:"number",properties:["x","y","borderWidth","radius"]}}};static overrides={scales:{x:{type:"linear"},y:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,super.initialize()}parsePrimitiveData(s,a,n,r){const i=super.parsePrimitiveData(s,a,n,r);for(let l=0;l<i.length;l++)i[l]._custom=this.resolveDataElementOptions(l+n).radius;return i}parseArrayData(s,a,n,r){const i=super.parseArrayData(s,a,n,r);for(let l=0;l<i.length;l++){const d=a[n+l];i[l]._custom=Ft(d[2],this.resolveDataElementOptions(l+n).radius)}return i}parseObjectData(s,a,n,r){const i=super.parseObjectData(s,a,n,r);for(let l=0;l<i.length;l++){const d=a[n+l];i[l]._custom=Ft(d&&d.r&&+d.r,this.resolveDataElementOptions(l+n).radius)}return i}getMaxOverflow(){const s=this._cachedMeta.data;let a=0;for(let n=s.length-1;n>=0;--n)a=Math.max(a,s[n].size(this.resolveDataElementOptions(n))/2);return a>0&&a}getLabelAndValue(s){const a=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:i}=a,l=this.getParsed(s),d=r.getLabelForValue(l.x),u=i.getLabelForValue(l.y),h=l._custom;return{label:n[s]||"",value:"("+d+", "+u+(h?", "+h:"")+")"}}update(s){const a=this._cachedMeta.data;this.updateElements(a,0,a.length,s)}updateElements(s,a,n,r){const i=r==="reset",{iScale:l,vScale:d}=this._cachedMeta,{sharedOptions:u,includeOptions:h}=this._getSharedOptions(a,r),p=l.axis,f=d.axis;for(let y=a;y<a+n;y++){const v=s[y],j=!i&&this.getParsed(y),N={},w=N[p]=i?l.getPixelForDecimal(.5):l.getPixelForValue(j[p]),_=N[f]=i?d.getBasePixel():d.getPixelForValue(j[f]);N.skip=isNaN(w)||isNaN(_),h&&(N.options=u||this.resolveDataElementOptions(y,v.active?"active":r),i&&(N.options.radius=0)),this.updateElement(v,y,N,r)}}resolveDataElementOptions(s,a){const n=this.getParsed(s);let r=super.resolveDataElementOptions(s,a);r.$shared&&(r=Object.assign({},r,{$shared:!1}));const i=r.radius;return a!=="active"&&(r.radius=0),r.radius+=Ft(n&&n._custom,i),r}}function Jse(t,s,a){let n=1,r=1,i=0,l=0;if(s<Vs){const d=t,u=d+s,h=Math.cos(d),p=Math.sin(d),f=Math.cos(u),y=Math.sin(u),v=(R,E,A)=>ym(R,d,u,!0)?1:Math.max(E,E*a,A,A*a),j=(R,E,A)=>ym(R,d,u,!0)?-1:Math.min(E,E*a,A,A*a),N=v(0,h,f),w=v(fa,p,y),_=j(gs,h,f),T=j(gs+fa,p,y);n=(N-_)/2,r=(w-T)/2,i=-(N+_)/2,l=-(w+T)/2}return{ratioX:n,ratioY:r,offsetX:i,offsetY:l}}class T1 extends Pl{static id="doughnut";static defaults={datasetElementType:!1,dataElementType:"arc",animation:{animateRotate:!0,animateScale:!1},animations:{numbers:{type:"number",properties:["circumference","endAngle","innerRadius","outerRadius","startAngle","x","y","offset","borderWidth","spacing"]}},cutout:"50%",rotation:0,circumference:360,radius:"100%",spacing:0,indexAxis:"r"};static descriptors={_scriptable:s=>s!=="spacing",_indexable:s=>s!=="spacing"&&!s.startsWith("borderDash")&&!s.startsWith("hoverBorderDash")};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(s){const a=s.data,{labels:{pointStyle:n,textAlign:r,color:i,useBorderRadius:l,borderRadius:d}}=s.legend.options;return a.labels.length&&a.datasets.length?a.labels.map((u,h)=>{const f=s.getDatasetMeta(0).controller.getStyle(h);return{text:u,fillStyle:f.backgroundColor,fontColor:i,hidden:!s.getDataVisibility(h),lineDash:f.borderDash,lineDashOffset:f.borderDashOffset,lineJoin:f.borderJoinStyle,lineWidth:f.borderWidth,strokeStyle:f.borderColor,textAlign:r,pointStyle:n,borderRadius:l&&(d||f.borderRadius),index:h}}):[]}},onClick(s,a,n){n.chart.toggleDataVisibility(a.index),n.chart.update()}}}};constructor(s,a){super(s,a),this.enableOptionSharing=!0,this.innerRadius=void 0,this.outerRadius=void 0,this.offsetX=void 0,this.offsetY=void 0}linkScales(){}parse(s,a){const n=this.getDataset().data,r=this._cachedMeta;if(this._parsing===!1)r._parsed=n;else{let i=u=>+n[u];if(Jt(n[s])){const{key:u="value"}=this._parsing;i=h=>+Sl(n[h],u)}let l,d;for(l=s,d=s+a;l<d;++l)r._parsed[l]=i(l)}}_getRotation(){return qr(this.options.rotation-90)}_getCircumference(){return qr(this.options.circumference)}_getRotationExtents(){let s=Vs,a=-Vs;for(let n=0;n<this.chart.data.datasets.length;++n)if(this.chart.isDatasetVisible(n)&&this.chart.getDatasetMeta(n).type===this._type){const r=this.chart.getDatasetMeta(n).controller,i=r._getRotation(),l=r._getCircumference();s=Math.min(s,i),a=Math.max(a,i+l)}return{rotation:s,circumference:a-s}}update(s){const a=this.chart,{chartArea:n}=a,r=this._cachedMeta,i=r.data,l=this.getMaxBorderWidth()+this.getMaxOffset(i)+this.options.spacing,d=Math.max((Math.min(n.width,n.height)-l)/2,0),u=Math.min(cte(this.options.cutout,d),1),h=this._getRingWeight(this.index),{circumference:p,rotation:f}=this._getRotationExtents(),{ratioX:y,ratioY:v,offsetX:j,offsetY:N}=Jse(f,p,u),w=(n.width-l)/y,_=(n.height-l)/v,T=Math.max(Math.min(w,_)/2,0),R=NP(this.options.radius,T),E=Math.max(R*u,0),A=(R-E)/this._getVisibleDatasetWeightTotal();this.offsetX=j*R,this.offsetY=N*R,r.total=this.calculateTotal(),this.outerRadius=R-A*this._getRingWeightOffset(this.index),this.innerRadius=Math.max(this.outerRadius-A*h,0),this.updateElements(i,0,i.length,s)}_circumference(s,a){const n=this.options,r=this._cachedMeta,i=this._getCircumference();return a&&n.animation.animateRotate||!this.chart.getDataVisibility(s)||r._parsed[s]===null||r.data[s].hidden?0:this.calculateCircumference(r._parsed[s]*i/Vs)}updateElements(s,a,n,r){const i=r==="reset",l=this.chart,d=l.chartArea,h=l.options.animation,p=(d.left+d.right)/2,f=(d.top+d.bottom)/2,y=i&&h.animateScale,v=y?0:this.innerRadius,j=y?0:this.outerRadius,{sharedOptions:N,includeOptions:w}=this._getSharedOptions(a,r);let _=this._getRotation(),T;for(T=0;T<a;++T)_+=this._circumference(T,i);for(T=a;T<a+n;++T){const R=this._circumference(T,i),E=s[T],A={x:p+this.offsetX,y:f+this.offsetY,startAngle:_,endAngle:_+R,circumference:R,outerRadius:j,innerRadius:v};w&&(A.options=N||this.resolveDataElementOptions(T,E.active?"active":r)),_+=R,this.updateElement(E,T,A,r)}}calculateTotal(){const s=this._cachedMeta,a=s.data;let n=0,r;for(r=0;r<a.length;r++){const i=s._parsed[r];i!==null&&!isNaN(i)&&this.chart.getDataVisibility(r)&&!a[r].hidden&&(n+=Math.abs(i))}return n}calculateCircumference(s){const a=this._cachedMeta.total;return a>0&&!isNaN(s)?Vs*(Math.abs(s)/a):0}getLabelAndValue(s){const a=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=Gm(a._parsed[s],n.options.locale);return{label:r[s]||"",value:i}}getMaxBorderWidth(s){let a=0;const n=this.chart;let r,i,l,d,u;if(!s){for(r=0,i=n.data.datasets.length;r<i;++r)if(n.isDatasetVisible(r)){l=n.getDatasetMeta(r),s=l.data,d=l.controller;break}}if(!s)return 0;for(r=0,i=s.length;r<i;++r)u=d.resolveDataElementOptions(r),u.borderAlign!=="inner"&&(a=Math.max(a,u.borderWidth||0,u.hoverBorderWidth||0));return a}getMaxOffset(s){let a=0;for(let n=0,r=s.length;n<r;++n){const i=this.resolveDataElementOptions(n);a=Math.max(a,i.offset||0,i.hoverOffset||0)}return a}_getRingWeightOffset(s){let a=0;for(let n=0;n<s;++n)this.chart.isDatasetVisible(n)&&(a+=this._getRingWeight(n));return a}_getRingWeight(s){return Math.max(Ft(this.chart.data.datasets[s].weight,1),0)}_getVisibleDatasetWeightTotal(){return this._getRingWeightOffset(this.chart.data.datasets.length)||1}}class eae extends Pl{static id="line";static defaults={datasetElementType:"line",dataElementType:"point",showLine:!0,spanGaps:!1};static overrides={scales:{_index_:{type:"category"},_value_:{type:"linear"}}};initialize(){this.enableOptionSharing=!0,this.supportsDecimation=!0,super.initialize()}update(s){const a=this._cachedMeta,{dataset:n,data:r=[],_dataset:i}=a,l=this.chart._animationsDisabled;let{start:d,count:u}=EP(a,r,l);this._drawStart=d,this._drawCount=u,RP(a)&&(d=0,u=r.length),n._chart=this.chart,n._datasetIndex=this.index,n._decimated=!!i._decimated,n.points=r;const h=this.resolveDatasetElementOptions(s);this.options.showLine||(h.borderWidth=0),h.segment=this.options.segment,this.updateElement(n,void 0,{animated:!l,options:h},s),this.updateElements(r,d,u,s)}updateElements(s,a,n,r){const i=r==="reset",{iScale:l,vScale:d,_stacked:u,_dataset:h}=this._cachedMeta,{sharedOptions:p,includeOptions:f}=this._getSharedOptions(a,r),y=l.axis,v=d.axis,{spanGaps:j,segment:N}=this.options,w=iu(j)?j:Number.POSITIVE_INFINITY,_=this.chart._animationsDisabled||i||r==="none",T=a+n,R=s.length;let E=a>0&&this.getParsed(a-1);for(let A=0;A<R;++A){const V=s[A],k=_?V:{};if(A<a||A>=T){k.skip=!0;continue}const B=this.getParsed(A),P=Yt(B[v]),H=k[y]=l.getPixelForValue(B[y],A),D=k[v]=i||P?d.getBasePixel():d.getPixelForValue(u?this.applyStack(d,B,u):B[v],A);k.skip=isNaN(H)||isNaN(D)||P,k.stop=A>0&&Math.abs(B[y]-E[y])>w,N&&(k.parsed=B,k.raw=h.data[A]),f&&(k.options=p||this.resolveDataElementOptions(A,V.active?"active":r)),_||this.updateElement(V,A,k,r),E=B}}getMaxOverflow(){const s=this._cachedMeta,a=s.dataset,n=a.options&&a.options.borderWidth||0,r=s.data||[];if(!r.length)return n;const i=r[0].size(this.resolveDataElementOptions(0)),l=r[r.length-1].size(this.resolveDataElementOptions(r.length-1));return Math.max(n,i,l)/2}draw(){const s=this._cachedMeta;s.dataset.updateControlPoints(this.chart.chartArea,s.iScale.axis),super.draw()}}class QP extends Pl{static id="polarArea";static defaults={dataElementType:"arc",animation:{animateRotate:!0,animateScale:!0},animations:{numbers:{type:"number",properties:["x","y","startAngle","endAngle","innerRadius","outerRadius"]}},indexAxis:"r",startAngle:0};static overrides={aspectRatio:1,plugins:{legend:{labels:{generateLabels(s){const a=s.data;if(a.labels.length&&a.datasets.length){const{labels:{pointStyle:n,color:r}}=s.legend.options;return a.labels.map((i,l)=>{const u=s.getDatasetMeta(0).controller.getStyle(l);return{text:i,fillStyle:u.backgroundColor,strokeStyle:u.borderColor,fontColor:r,lineWidth:u.borderWidth,pointStyle:n,hidden:!s.getDataVisibility(l),index:l}})}return[]}},onClick(s,a,n){n.chart.toggleDataVisibility(a.index),n.chart.update()}}},scales:{r:{type:"radialLinear",angleLines:{display:!1},beginAtZero:!0,grid:{circular:!0},pointLabels:{display:!1},startAngle:0}}};constructor(s,a){super(s,a),this.innerRadius=void 0,this.outerRadius=void 0}getLabelAndValue(s){const a=this._cachedMeta,n=this.chart,r=n.data.labels||[],i=Gm(a._parsed[s].r,n.options.locale);return{label:r[s]||"",value:i}}parseObjectData(s,a,n,r){return $P.bind(this)(s,a,n,r)}update(s){const a=this._cachedMeta.data;this._updateRadius(),this.updateElements(a,0,a.length,s)}getMinMax(){const s=this._cachedMeta,a={min:Number.POSITIVE_INFINITY,max:Number.NEGATIVE_INFINITY};return s.data.forEach((n,r)=>{const i=this.getParsed(r).r;!isNaN(i)&&this.chart.getDataVisibility(r)&&(i<a.min&&(a.min=i),i>a.max&&(a.max=i))}),a}_updateRadius(){const s=this.chart,a=s.chartArea,n=s.options,r=Math.min(a.right-a.left,a.bottom-a.top),i=Math.max(r/2,0),l=Math.max(n.cutoutPercentage?i/100*n.cutoutPercentage:1,0),d=(i-l)/s.getVisibleDatasetCount();this.outerRadius=i-d*this.index,this.innerRadius=this.outerRadius-d}updateElements(s,a,n,r){const i=r==="reset",l=this.chart,u=l.options.animation,h=this._cachedMeta.rScale,p=h.xCenter,f=h.yCenter,y=h.getIndexAngle(0)-.5*gs;let v=y,j;const N=360/this.countVisibleElements();for(j=0;j<a;++j)v+=this._computeAngle(j,r,N);for(j=a;j<a+n;j++){const w=s[j];let _=v,T=v+this._computeAngle(j,r,N),R=l.getDataVisibility(j)?h.getDistanceFromCenterForValue(this.getParsed(j).r):0;v=T,i&&(u.animateScale&&(R=0),u.animateRotate&&(_=T=y));const E={x:p,y:f,innerRadius:0,outerRadius:R,startAngle:_,endAngle:T,options:this.resolveDataElementOptions(j,w.active?"active":r)};this.updateElement(w,j,E,r)}}countVisibleElements(){const s=this._cachedMeta;let a=0;return s.data.forEach((n,r)=>{!isNaN(this.getParsed(r).r)&&this.chart.getDataVisibility(r)&&a++}),a}_computeAngle(s,a,n){return this.chart.getDataVisibility(s)?qr(this.resolveDataElementOptions(s,a).angle||n):0}}class tae extends T1{static id="pie";static defaults={cutout:0,rotation:0,circumference:360,radius:"100%"}}class sae extends Pl{static id="radar";static defaults={datasetElementType:"line",dataElementType:"point",indexAxis:"r",showLine:!0,elements:{line:{fill:"start"}}};static overrides={aspectRatio:1,scales:{r:{type:"radialLinear"}}};getLabelAndValue(s){const a=this._cachedMeta.vScale,n=this.getParsed(s);return{label:a.getLabels()[s],value:""+a.getLabelForValue(n[a.axis])}}parseObjectData(s,a,n,r){return $P.bind(this)(s,a,n,r)}update(s){const a=this._cachedMeta,n=a.dataset,r=a.data||[],i=a.iScale.getLabels();if(n.points=r,s!=="resize"){const l=this.resolveDatasetElementOptions(s);this.options.showLine||(l.borderWidth=0);const d={_loop:!0,_fullLoop:i.length===r.length,options:l};this.updateElement(n,void 0,d,s)}this.updateElements(r,0,r.length,s)}updateElements(s,a,n,r){const i=this._cachedMeta.rScale,l=r==="reset";for(let d=a;d<a+n;d++){const u=s[d],h=this.resolveDataElementOptions(d,u.active?"active":r),p=i.getPointPositionForValue(d,this.getParsed(d).r),f=l?i.xCenter:p.x,y=l?i.yCenter:p.y,v={x:f,y,angle:p.angle,skip:isNaN(f)||isNaN(y),options:h};this.updateElement(u,d,v,r)}}}class aae extends Pl{static id="scatter";static defaults={datasetElementType:!1,dataElementType:"point",showLine:!1,fill:!1};static overrides={interaction:{mode:"point"},scales:{x:{type:"linear"},y:{type:"linear"}}};getLabelAndValue(s){const a=this._cachedMeta,n=this.chart.data.labels||[],{xScale:r,yScale:i}=a,l=this.getParsed(s),d=r.getLabelForValue(l.x),u=i.getLabelForValue(l.y);return{label:n[s]||"",value:"("+d+", "+u+")"}}update(s){const a=this._cachedMeta,{data:n=[]}=a,r=this.chart._animationsDisabled;let{start:i,count:l}=EP(a,n,r);if(this._drawStart=i,this._drawCount=l,RP(a)&&(i=0,l=n.length),this.options.showLine){this.datasetElementType||this.addElements();const{dataset:d,_dataset:u}=a;d._chart=this.chart,d._datasetIndex=this.index,d._decimated=!!u._decimated,d.points=n;const h=this.resolveDatasetElementOptions(s);h.segment=this.options.segment,this.updateElement(d,void 0,{animated:!r,options:h},s)}else this.datasetElementType&&(delete a.dataset,this.datasetElementType=!1);this.updateElements(n,i,l,s)}addElements(){const{showLine:s}=this.options;!this.datasetElementType&&s&&(this.datasetElementType=this.chart.registry.getElement("line")),super.addElements()}updateElements(s,a,n,r){const i=r==="reset",{iScale:l,vScale:d,_stacked:u,_dataset:h}=this._cachedMeta,p=this.resolveDataElementOptions(a,r),f=this.getSharedOptions(p),y=this.includeOptions(r,f),v=l.axis,j=d.axis,{spanGaps:N,segment:w}=this.options,_=iu(N)?N:Number.POSITIVE_INFINITY,T=this.chart._animationsDisabled||i||r==="none";let R=a>0&&this.getParsed(a-1);for(let E=a;E<a+n;++E){const A=s[E],V=this.getParsed(E),k=T?A:{},B=Yt(V[j]),P=k[v]=l.getPixelForValue(V[v],E),H=k[j]=i||B?d.getBasePixel():d.getPixelForValue(u?this.applyStack(d,V,u):V[j],E);k.skip=isNaN(P)||isNaN(H)||B,k.stop=E>0&&Math.abs(V[v]-R[v])>_,w&&(k.parsed=V,k.raw=h.data[E]),y&&(k.options=f||this.resolveDataElementOptions(E,A.active?"active":r)),T||this.updateElement(A,E,k,r),R=V}this.updateSharedOptions(f,r,p)}getMaxOverflow(){const s=this._cachedMeta,a=s.data||[];if(!this.options.showLine){let d=0;for(let u=a.length-1;u>=0;--u)d=Math.max(d,a[u].size(this.resolveDataElementOptions(u))/2);return d>0&&d}const n=s.dataset,r=n.options&&n.options.borderWidth||0;if(!a.length)return r;const i=a[0].size(this.resolveDataElementOptions(0)),l=a[a.length-1].size(this.resolveDataElementOptions(a.length-1));return Math.max(r,i,l)/2}}var nae=Object.freeze({__proto__:null,BarController:Qse,BubbleController:Zse,DoughnutController:T1,LineController:eae,PieController:tae,PolarAreaController:QP,RadarController:sae,ScatterController:aae});function uc(){throw new Error("This method is not implemented: Check that a complete date adapter is provided.")}class D1{static override(s){Object.assign(D1.prototype,s)}options;constructor(s){this.options=s||{}}init(){}formats(){return uc()}parse(){return uc()}format(){return uc()}add(){return uc()}diff(){return uc()}startOf(){return uc()}endOf(){return uc()}}var rae={_date:D1};function iae(t,s,a,n){const{controller:r,data:i,_sorted:l}=t,d=r._cachedMeta.iScale,u=t.dataset&&t.dataset.options?t.dataset.options.spanGaps:null;if(d&&s===d.axis&&s!=="r"&&l&&i.length){const h=d._reversePixels?wte:io;if(n){if(r._sharedOptions){const p=i[0],f=typeof p.getRange=="function"&&p.getRange(s);if(f){const y=h(i,s,a-f),v=h(i,s,a+f);return{lo:y.lo,hi:v.hi}}}}else{const p=h(i,s,a);if(u){const{vScale:f}=r._cachedMeta,{_parsed:y}=t,v=y.slice(0,p.lo+1).reverse().findIndex(N=>!Yt(N[f.axis]));p.lo-=Math.max(0,v);const j=y.slice(p.hi).findIndex(N=>!Yt(N[f.axis]));p.hi+=Math.max(0,j)}return p}}return{lo:0,hi:i.length-1}}function Hx(t,s,a,n,r){const i=t.getSortedVisibleDatasetMetas(),l=a[s];for(let d=0,u=i.length;d<u;++d){const{index:h,data:p}=i[d],{lo:f,hi:y}=iae(i[d],s,l,r);for(let v=f;v<=y;++v){const j=p[v];j.skip||n(j,h,v)}}}function oae(t){const s=t.indexOf("x")!==-1,a=t.indexOf("y")!==-1;return function(n,r){const i=s?Math.abs(n.x-r.x):0,l=a?Math.abs(n.y-r.y):0;return Math.sqrt(Math.pow(i,2)+Math.pow(l,2))}}function ov(t,s,a,n,r){const i=[];return!r&&!t.isPointInArea(s)||Hx(t,a,s,function(d,u,h){!r&&!oo(d,t.chartArea,0)||d.inRange(s.x,s.y,n)&&i.push({element:d,datasetIndex:u,index:h})},!0),i}function lae(t,s,a,n){let r=[];function i(l,d,u){const{startAngle:h,endAngle:p}=l.getProps(["startAngle","endAngle"],n),{angle:f}=kP(l,{x:s.x,y:s.y});ym(f,h,p)&&r.push({element:l,datasetIndex:d,index:u})}return Hx(t,a,s,i),r}function cae(t,s,a,n,r,i){let l=[];const d=oae(a);let u=Number.POSITIVE_INFINITY;function h(p,f,y){const v=p.inRange(s.x,s.y,r);if(n&&!v)return;const j=p.getCenterPoint(r);if(!(!!i||t.isPointInArea(j))&&!v)return;const w=d(s,j);w<u?(l=[{element:p,datasetIndex:f,index:y}],u=w):w===u&&l.push({element:p,datasetIndex:f,index:y})}return Hx(t,a,s,h),l}function lv(t,s,a,n,r,i){return!i&&!t.isPointInArea(s)?[]:a==="r"&&!n?lae(t,s,a,r):cae(t,s,a,n,r,i)}function s4(t,s,a,n,r){const i=[],l=a==="x"?"inXRange":"inYRange";let d=!1;return Hx(t,a,s,(u,h,p)=>{u[l]&&u[l](s[a],r)&&(i.push({element:u,datasetIndex:h,index:p}),d=d||u.inRange(s.x,s.y,r))}),n&&!d?[]:i}var dae={modes:{index(t,s,a,n){const r=bc(s,t),i=a.axis||"x",l=a.includeInvisible||!1,d=a.intersect?ov(t,r,i,n,l):lv(t,r,i,!1,n,l),u=[];return d.length?(t.getSortedVisibleDatasetMetas().forEach(h=>{const p=d[0].index,f=h.data[p];f&&!f.skip&&u.push({element:f,datasetIndex:h.index,index:p})}),u):[]},dataset(t,s,a,n){const r=bc(s,t),i=a.axis||"xy",l=a.includeInvisible||!1;let d=a.intersect?ov(t,r,i,n,l):lv(t,r,i,!1,n,l);if(d.length>0){const u=d[0].datasetIndex,h=t.getDatasetMeta(u).data;d=[];for(let p=0;p<h.length;++p)d.push({element:h[p],datasetIndex:u,index:p})}return d},point(t,s,a,n){const r=bc(s,t),i=a.axis||"xy",l=a.includeInvisible||!1;return ov(t,r,i,n,l)},nearest(t,s,a,n){const r=bc(s,t),i=a.axis||"xy",l=a.includeInvisible||!1;return lv(t,r,i,a.intersect,n,l)},x(t,s,a,n){const r=bc(s,t);return s4(t,r,"x",a.intersect,n)},y(t,s,a,n){const r=bc(s,t);return s4(t,r,"y",a.intersect,n)}}};const ZP=["left","top","right","bottom"];function Rh(t,s){return t.filter(a=>a.pos===s)}function a4(t,s){return t.filter(a=>ZP.indexOf(a.pos)===-1&&a.box.axis===s)}function Mh(t,s){return t.sort((a,n)=>{const r=s?n:a,i=s?a:n;return r.weight===i.weight?r.index-i.index:r.weight-i.weight})}function uae(t){const s=[];let a,n,r,i,l,d;for(a=0,n=(t||[]).length;a<n;++a)r=t[a],{position:i,options:{stack:l,stackWeight:d=1}}=r,s.push({index:a,box:r,pos:i,horizontal:r.isHorizontal(),weight:r.weight,stack:l&&i+l,stackWeight:d});return s}function hae(t){const s={};for(const a of t){const{stack:n,pos:r,stackWeight:i}=a;if(!n||!ZP.includes(r))continue;const l=s[n]||(s[n]={count:0,placed:0,weight:0,size:0});l.count++,l.weight+=i}return s}function mae(t,s){const a=hae(t),{vBoxMaxWidth:n,hBoxMaxHeight:r}=s;let i,l,d;for(i=0,l=t.length;i<l;++i){d=t[i];const{fullSize:u}=d.box,h=a[d.stack],p=h&&d.stackWeight/h.weight;d.horizontal?(d.width=p?p*n:u&&s.availableWidth,d.height=r):(d.width=n,d.height=p?p*r:u&&s.availableHeight)}return a}function fae(t){const s=uae(t),a=Mh(s.filter(h=>h.box.fullSize),!0),n=Mh(Rh(s,"left"),!0),r=Mh(Rh(s,"right")),i=Mh(Rh(s,"top"),!0),l=Mh(Rh(s,"bottom")),d=a4(s,"x"),u=a4(s,"y");return{fullSize:a,leftAndTop:n.concat(i),rightAndBottom:r.concat(u).concat(l).concat(d),chartArea:Rh(s,"chartArea"),vertical:n.concat(r).concat(u),horizontal:i.concat(l).concat(d)}}function n4(t,s,a,n){return Math.max(t[a],s[a])+Math.max(t[n],s[n])}function JP(t,s){t.top=Math.max(t.top,s.top),t.left=Math.max(t.left,s.left),t.bottom=Math.max(t.bottom,s.bottom),t.right=Math.max(t.right,s.right)}function pae(t,s,a,n){const{pos:r,box:i}=a,l=t.maxPadding;if(!Jt(r)){a.size&&(t[r]-=a.size);const f=n[a.stack]||{size:0,count:1};f.size=Math.max(f.size,a.horizontal?i.height:i.width),a.size=f.size/f.count,t[r]+=a.size}i.getPadding&&JP(l,i.getPadding());const d=Math.max(0,s.outerWidth-n4(l,t,"left","right")),u=Math.max(0,s.outerHeight-n4(l,t,"top","bottom")),h=d!==t.w,p=u!==t.h;return t.w=d,t.h=u,a.horizontal?{same:h,other:p}:{same:p,other:h}}function gae(t){const s=t.maxPadding;function a(n){const r=Math.max(s[n]-t[n],0);return t[n]+=r,r}t.y+=a("top"),t.x+=a("left"),a("right"),a("bottom")}function xae(t,s){const a=s.maxPadding;function n(r){const i={left:0,top:0,right:0,bottom:0};return r.forEach(l=>{i[l]=Math.max(s[l],a[l])}),i}return n(t?["left","right"]:["top","bottom"])}function Uh(t,s,a,n){const r=[];let i,l,d,u,h,p;for(i=0,l=t.length,h=0;i<l;++i){d=t[i],u=d.box,u.update(d.width||s.w,d.height||s.h,xae(d.horizontal,s));const{same:f,other:y}=pae(s,a,d,n);h|=f&&r.length,p=p||y,u.fullSize||r.push(d)}return h&&Uh(r,s,a,n)||p}function $p(t,s,a,n,r){t.top=a,t.left=s,t.right=s+n,t.bottom=a+r,t.width=n,t.height=r}function r4(t,s,a,n){const r=a.padding;let{x:i,y:l}=s;for(const d of t){const u=d.box,h=n[d.stack]||{placed:0,weight:1},p=d.stackWeight/h.weight||1;if(d.horizontal){const f=s.w*p,y=h.size||u.height;xm(h.start)&&(l=h.start),u.fullSize?$p(u,r.left,l,a.outerWidth-r.right-r.left,y):$p(u,s.left+h.placed,l,f,y),h.start=l,h.placed+=f,l=u.bottom}else{const f=s.h*p,y=h.size||u.width;xm(h.start)&&(i=h.start),u.fullSize?$p(u,i,r.top,y,a.outerHeight-r.bottom-r.top):$p(u,i,s.top+h.placed,y,f),h.start=i,h.placed+=f,i=u.right}}s.x=i,s.y=l}var nn={addBox(t,s){t.boxes||(t.boxes=[]),s.fullSize=s.fullSize||!1,s.position=s.position||"top",s.weight=s.weight||0,s._layers=s._layers||function(){return[{z:0,draw(a){s.draw(a)}}]},t.boxes.push(s)},removeBox(t,s){const a=t.boxes?t.boxes.indexOf(s):-1;a!==-1&&t.boxes.splice(a,1)},configure(t,s,a){s.fullSize=a.fullSize,s.position=a.position,s.weight=a.weight},update(t,s,a,n){if(!t)return;const r=ln(t.options.layout.padding),i=Math.max(s-r.width,0),l=Math.max(a-r.height,0),d=fae(t.boxes),u=d.vertical,h=d.horizontal;Cs(t.boxes,N=>{typeof N.beforeLayout=="function"&&N.beforeLayout()});const p=u.reduce((N,w)=>w.box.options&&w.box.options.display===!1?N:N+1,0)||1,f=Object.freeze({outerWidth:s,outerHeight:a,padding:r,availableWidth:i,availableHeight:l,vBoxMaxWidth:i/2/p,hBoxMaxHeight:l/2}),y=Object.assign({},r);JP(y,ln(n));const v=Object.assign({maxPadding:y,w:i,h:l,x:r.left,y:r.top},r),j=mae(u.concat(h),f);Uh(d.fullSize,v,f,j),Uh(u,v,f,j),Uh(h,v,f,j)&&Uh(u,v,f,j),gae(v),r4(d.leftAndTop,v,f,j),v.x+=v.w,v.y+=v.h,r4(d.rightAndBottom,v,f,j),t.chartArea={left:v.left,top:v.top,right:v.left+v.w,bottom:v.top+v.h,height:v.h,width:v.w},Cs(d.chartArea,N=>{const w=N.box;Object.assign(w,t.chartArea),w.update(v.w,v.h,{left:0,top:0,right:0,bottom:0})})}};class e3{acquireContext(s,a){}releaseContext(s){return!1}addEventListener(s,a,n){}removeEventListener(s,a,n){}getDevicePixelRatio(){return 1}getMaximumSize(s,a,n,r){return a=Math.max(0,a||s.width),n=n||s.height,{width:a,height:Math.max(0,r?Math.floor(a/r):n)}}isAttached(s){return!0}updateConfig(s){}}class yae extends e3{acquireContext(s){return s&&s.getContext&&s.getContext("2d")||null}updateConfig(s){s.options.animation=!1}}const ug="$chartjs",bae={touchstart:"mousedown",touchmove:"mousemove",touchend:"mouseup",pointerenter:"mouseenter",pointerdown:"mousedown",pointermove:"mousemove",pointerup:"mouseup",pointerleave:"mouseout",pointerout:"mouseout"},i4=t=>t===null||t==="";function vae(t,s){const a=t.style,n=t.getAttribute("height"),r=t.getAttribute("width");if(t[ug]={initial:{height:n,width:r,style:{display:a.display,height:a.height,width:a.width}}},a.display=a.display||"block",a.boxSizing=a.boxSizing||"border-box",i4(r)){const i=UA(t,"width");i!==void 0&&(t.width=i)}if(i4(n))if(t.style.height==="")t.height=t.width/(s||2);else{const i=UA(t,"height");i!==void 0&&(t.height=i)}return t}const t3=pse?{passive:!0}:!1;function jae(t,s,a){t&&t.addEventListener(s,a,t3)}function wae(t,s,a){t&&t.canvas&&t.canvas.removeEventListener(s,a,t3)}function Nae(t,s){const a=bae[t.type]||t.type,{x:n,y:r}=bc(t,s);return{type:a,chart:s,native:t,x:n!==void 0?n:null,y:r!==void 0?r:null}}function Zg(t,s){for(const a of t)if(a===s||a.contains(s))return!0}function _ae(t,s,a){const n=t.canvas,r=new MutationObserver(i=>{let l=!1;for(const d of i)l=l||Zg(d.addedNodes,n),l=l&&!Zg(d.removedNodes,n);l&&a()});return r.observe(document,{childList:!0,subtree:!0}),r}function Cae(t,s,a){const n=t.canvas,r=new MutationObserver(i=>{let l=!1;for(const d of i)l=l||Zg(d.removedNodes,n),l=l&&!Zg(d.addedNodes,n);l&&a()});return r.observe(document,{childList:!0,subtree:!0}),r}const vm=new Map;let o4=0;function s3(){const t=window.devicePixelRatio;t!==o4&&(o4=t,vm.forEach((s,a)=>{a.currentDevicePixelRatio!==t&&s()}))}function kae(t,s){vm.size||window.addEventListener("resize",s3),vm.set(t,s)}function Sae(t){vm.delete(t),vm.size||window.removeEventListener("resize",s3)}function Aae(t,s,a){const n=t.canvas,r=n&&A1(n);if(!r)return;const i=DP((d,u)=>{const h=r.clientWidth;a(d,u),h<r.clientWidth&&a()},window),l=new ResizeObserver(d=>{const u=d[0],h=u.contentRect.width,p=u.contentRect.height;h===0&&p===0||i(h,p)});return l.observe(r),kae(t,i),l}function cv(t,s,a){a&&a.disconnect(),s==="resize"&&Sae(t)}function Tae(t,s,a){const n=t.canvas,r=DP(i=>{t.ctx!==null&&a(Nae(i,t))},t);return jae(n,s,r),r}class Dae extends e3{acquireContext(s,a){const n=s&&s.getContext&&s.getContext("2d");return n&&n.canvas===s?(vae(s,a),n):null}releaseContext(s){const a=s.canvas;if(!a[ug])return!1;const n=a[ug].initial;["height","width"].forEach(i=>{const l=n[i];Yt(l)?a.removeAttribute(i):a.setAttribute(i,l)});const r=n.style||{};return Object.keys(r).forEach(i=>{a.style[i]=r[i]}),a.width=a.width,delete a[ug],!0}addEventListener(s,a,n){this.removeEventListener(s,a);const r=s.$proxies||(s.$proxies={}),l={attach:_ae,detach:Cae,resize:Aae}[a]||Tae;r[a]=l(s,a,n)}removeEventListener(s,a){const n=s.$proxies||(s.$proxies={}),r=n[a];if(!r)return;({attach:cv,detach:cv,resize:cv}[a]||wae)(s,a,r),n[a]=void 0}getDevicePixelRatio(){return window.devicePixelRatio}getMaximumSize(s,a,n,r){return fse(s,a,n,r)}isAttached(s){const a=s&&A1(s);return!!(a&&a.isConnected)}}function Eae(t){return!S1()||typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas?yae:Dae}let wo=class{static defaults={};static defaultRoutes=void 0;x;y;active=!1;options;$animations;tooltipPosition(s){const{x:a,y:n}=this.getProps(["x","y"],s);return{x:a,y:n}}hasValue(){return iu(this.x)&&iu(this.y)}getProps(s,a){const n=this.$animations;if(!a||!n)return this;const r={};return s.forEach(i=>{r[i]=n[i]&&n[i].active()?n[i]._to:this[i]}),r}};function Rae(t,s){const a=t.options.ticks,n=Mae(t),r=Math.min(a.maxTicksLimit||n,n),i=a.major.enabled?Oae(s):[],l=i.length,d=i[0],u=i[l-1],h=[];if(l>r)return Lae(s,h,i,l/r),h;const p=Pae(i,s,r);if(l>0){let f,y;const v=l>1?Math.round((u-d)/(l-1)):null;for(zp(s,h,p,Yt(v)?0:d-v,d),f=0,y=l-1;f<y;f++)zp(s,h,p,i[f],i[f+1]);return zp(s,h,p,u,Yt(v)?s.length:u+v),h}return zp(s,h,p),h}function Mae(t){const s=t.options.offset,a=t._tickSize(),n=t._length/a+(s?0:1),r=t._maxLength/a;return Math.floor(Math.min(n,r))}function Pae(t,s,a){const n=Bae(t),r=s.length/a;if(!n)return Math.max(r,1);const i=xte(n);for(let l=0,d=i.length-1;l<d;l++){const u=i[l];if(u>r)return u}return Math.max(r,1)}function Oae(t){const s=[];let a,n;for(a=0,n=t.length;a<n;a++)t[a].major&&s.push(a);return s}function Lae(t,s,a,n){let r=0,i=a[0],l;for(n=Math.ceil(n),l=0;l<t.length;l++)l===i&&(s.push(t[l]),r++,i=a[r*n])}function zp(t,s,a,n,r){const i=Ft(n,0),l=Math.min(Ft(r,t.length),t.length);let d=0,u,h,p;for(a=Math.ceil(a),r&&(u=r-n,a=u/Math.floor(u/a)),p=i;p<0;)d++,p=Math.round(i+d*a);for(h=Math.max(i,0);h<l;h++)h===p&&(s.push(t[h]),d++,p=Math.round(i+d*a))}function Bae(t){const s=t.length;let a,n;if(s<2)return!1;for(n=t[0],a=1;a<s;++a)if(t[a]-t[a-1]!==n)return!1;return n}const Fae=t=>t==="left"?"right":t==="right"?"left":t,l4=(t,s,a)=>s==="top"||s==="left"?t[s]+a:t[s]-a,c4=(t,s)=>Math.min(s||t,t);function d4(t,s){const a=[],n=t.length/s,r=t.length;let i=0;for(;i<r;i+=n)a.push(t[Math.floor(i)]);return a}function Iae(t,s,a){const n=t.ticks.length,r=Math.min(s,n-1),i=t._startPixel,l=t._endPixel,d=1e-6;let u=t.getPixelForTick(r),h;if(!(a&&(n===1?h=Math.max(u-i,l-u):s===0?h=(t.getPixelForTick(1)-u)/2:h=(u-t.getPixelForTick(r-1))/2,u+=r<s?h:-h,u<i-d||u>l+d)))return u}function $ae(t,s){Cs(t,a=>{const n=a.gc,r=n.length/2;let i;if(r>s){for(i=0;i<r;++i)delete a.data[n[i]];n.splice(0,r)}})}function Ph(t){return t.drawTicks?t.tickLength:0}function u4(t,s){if(!t.display)return 0;const a=Oa(t.font,s),n=ln(t.padding);return(Ws(t.text)?t.text.length:1)*a.lineHeight+n.height}function zae(t,s){return Ml(t,{scale:s,type:"scale"})}function Vae(t,s,a){return Ml(t,{tick:a,index:s,type:"tick"})}function Uae(t,s,a){let n=j1(t);return(a&&s!=="right"||!a&&s==="right")&&(n=Fae(n)),n}function Hae(t,s,a,n){const{top:r,left:i,bottom:l,right:d,chart:u}=t,{chartArea:h,scales:p}=u;let f=0,y,v,j;const N=l-r,w=d-i;if(t.isHorizontal()){if(v=Za(n,i,d),Jt(a)){const _=Object.keys(a)[0],T=a[_];j=p[_].getPixelForValue(T)+N-s}else a==="center"?j=(h.bottom+h.top)/2+N-s:j=l4(t,a,s);y=d-i}else{if(Jt(a)){const _=Object.keys(a)[0],T=a[_];v=p[_].getPixelForValue(T)-w+s}else a==="center"?v=(h.left+h.right)/2-w+s:v=l4(t,a,s);j=Za(n,l,r),f=a==="left"?-fa:fa}return{titleX:v,titleY:j,maxWidth:y,rotation:f}}class Hc extends wo{constructor(s){super(),this.id=s.id,this.type=s.type,this.options=void 0,this.ctx=s.ctx,this.chart=s.chart,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this._margins={left:0,right:0,top:0,bottom:0},this.maxWidth=void 0,this.maxHeight=void 0,this.paddingTop=void 0,this.paddingBottom=void 0,this.paddingLeft=void 0,this.paddingRight=void 0,this.axis=void 0,this.labelRotation=void 0,this.min=void 0,this.max=void 0,this._range=void 0,this.ticks=[],this._gridLineItems=null,this._labelItems=null,this._labelSizes=null,this._length=0,this._maxLength=0,this._longestTextCache={},this._startPixel=void 0,this._endPixel=void 0,this._reversePixels=!1,this._userMax=void 0,this._userMin=void 0,this._suggestedMax=void 0,this._suggestedMin=void 0,this._ticksLength=0,this._borderValue=0,this._cache={},this._dataLimitsCached=!1,this.$context=void 0}init(s){this.options=s.setContext(this.getContext()),this.axis=s.axis,this._userMin=this.parse(s.min),this._userMax=this.parse(s.max),this._suggestedMin=this.parse(s.suggestedMin),this._suggestedMax=this.parse(s.suggestedMax)}parse(s,a){return s}getUserBounds(){let{_userMin:s,_userMax:a,_suggestedMin:n,_suggestedMax:r}=this;return s=Zn(s,Number.POSITIVE_INFINITY),a=Zn(a,Number.NEGATIVE_INFINITY),n=Zn(n,Number.POSITIVE_INFINITY),r=Zn(r,Number.NEGATIVE_INFINITY),{min:Zn(s,n),max:Zn(a,r),minDefined:la(s),maxDefined:la(a)}}getMinMax(s){let{min:a,max:n,minDefined:r,maxDefined:i}=this.getUserBounds(),l;if(r&&i)return{min:a,max:n};const d=this.getMatchingVisibleMetas();for(let u=0,h=d.length;u<h;++u)l=d[u].controller.getMinMax(this,s),r||(a=Math.min(a,l.min)),i||(n=Math.max(n,l.max));return a=i&&a>n?n:a,n=r&&a>n?a:n,{min:Zn(a,Zn(n,a)),max:Zn(n,Zn(a,n))}}getPadding(){return{left:this.paddingLeft||0,top:this.paddingTop||0,right:this.paddingRight||0,bottom:this.paddingBottom||0}}getTicks(){return this.ticks}getLabels(){const s=this.chart.data;return this.options.labels||(this.isHorizontal()?s.xLabels:s.yLabels)||s.labels||[]}getLabelItems(s=this.chart.chartArea){return this._labelItems||(this._labelItems=this._computeLabelItems(s))}beforeLayout(){this._cache={},this._dataLimitsCached=!1}beforeUpdate(){Fs(this.options.beforeUpdate,[this])}update(s,a,n){const{beginAtZero:r,grace:i,ticks:l}=this.options,d=l.sampleSize;this.beforeUpdate(),this.maxWidth=s,this.maxHeight=a,this._margins=n=Object.assign({left:0,right:0,top:0,bottom:0},n),this.ticks=null,this._labelSizes=null,this._gridLineItems=null,this._labelItems=null,this.beforeSetDimensions(),this.setDimensions(),this.afterSetDimensions(),this._maxLength=this.isHorizontal()?this.width+n.left+n.right:this.height+n.top+n.bottom,this._dataLimitsCached||(this.beforeDataLimits(),this.determineDataLimits(),this.afterDataLimits(),this._range=Gte(this,i,r),this._dataLimitsCached=!0),this.beforeBuildTicks(),this.ticks=this.buildTicks()||[],this.afterBuildTicks();const u=d<this.ticks.length;this._convertTicksToLabels(u?d4(this.ticks,d):this.ticks),this.configure(),this.beforeCalculateLabelRotation(),this.calculateLabelRotation(),this.afterCalculateLabelRotation(),l.display&&(l.autoSkip||l.source==="auto")&&(this.ticks=Rae(this,this.ticks),this._labelSizes=null,this.afterAutoSkip()),u&&this._convertTicksToLabels(this.ticks),this.beforeFit(),this.fit(),this.afterFit(),this.afterUpdate()}configure(){let s=this.options.reverse,a,n;this.isHorizontal()?(a=this.left,n=this.right):(a=this.top,n=this.bottom,s=!s),this._startPixel=a,this._endPixel=n,this._reversePixels=s,this._length=n-a,this._alignToPixels=this.options.alignToPixels}afterUpdate(){Fs(this.options.afterUpdate,[this])}beforeSetDimensions(){Fs(this.options.beforeSetDimensions,[this])}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=0,this.right=this.width):(this.height=this.maxHeight,this.top=0,this.bottom=this.height),this.paddingLeft=0,this.paddingTop=0,this.paddingRight=0,this.paddingBottom=0}afterSetDimensions(){Fs(this.options.afterSetDimensions,[this])}_callHooks(s){this.chart.notifyPlugins(s,this.getContext()),Fs(this.options[s],[this])}beforeDataLimits(){this._callHooks("beforeDataLimits")}determineDataLimits(){}afterDataLimits(){this._callHooks("afterDataLimits")}beforeBuildTicks(){this._callHooks("beforeBuildTicks")}buildTicks(){return[]}afterBuildTicks(){this._callHooks("afterBuildTicks")}beforeTickToLabelConversion(){Fs(this.options.beforeTickToLabelConversion,[this])}generateTickLabels(s){const a=this.options.ticks;let n,r,i;for(n=0,r=s.length;n<r;n++)i=s[n],i.label=Fs(a.callback,[i.value,n,s],this)}afterTickToLabelConversion(){Fs(this.options.afterTickToLabelConversion,[this])}beforeCalculateLabelRotation(){Fs(this.options.beforeCalculateLabelRotation,[this])}calculateLabelRotation(){const s=this.options,a=s.ticks,n=c4(this.ticks.length,s.ticks.maxTicksLimit),r=a.minRotation||0,i=a.maxRotation;let l=r,d,u,h;if(!this._isVisible()||!a.display||r>=i||n<=1||!this.isHorizontal()){this.labelRotation=r;return}const p=this._getLabelSizes(),f=p.widest.width,y=p.highest.height,v=Va(this.chart.width-f,0,this.maxWidth);d=s.offset?this.maxWidth/n:v/(n-1),f+6>d&&(d=v/(n-(s.offset?.5:1)),u=this.maxHeight-Ph(s.grid)-a.padding-u4(s.title,this.chart.options.font),h=Math.sqrt(f*f+y*y),l=b1(Math.min(Math.asin(Va((p.highest.height+6)/d,-1,1)),Math.asin(Va(u/h,-1,1))-Math.asin(Va(y/h,-1,1)))),l=Math.max(r,Math.min(i,l))),this.labelRotation=l}afterCalculateLabelRotation(){Fs(this.options.afterCalculateLabelRotation,[this])}afterAutoSkip(){}beforeFit(){Fs(this.options.beforeFit,[this])}fit(){const s={width:0,height:0},{chart:a,options:{ticks:n,title:r,grid:i}}=this,l=this._isVisible(),d=this.isHorizontal();if(l){const u=u4(r,a.options.font);if(d?(s.width=this.maxWidth,s.height=Ph(i)+u):(s.height=this.maxHeight,s.width=Ph(i)+u),n.display&&this.ticks.length){const{first:h,last:p,widest:f,highest:y}=this._getLabelSizes(),v=n.padding*2,j=qr(this.labelRotation),N=Math.cos(j),w=Math.sin(j);if(d){const _=n.mirror?0:w*f.width+N*y.height;s.height=Math.min(this.maxHeight,s.height+_+v)}else{const _=n.mirror?0:N*f.width+w*y.height;s.width=Math.min(this.maxWidth,s.width+_+v)}this._calculatePadding(h,p,w,N)}}this._handleMargins(),d?(this.width=this._length=a.width-this._margins.left-this._margins.right,this.height=s.height):(this.width=s.width,this.height=this._length=a.height-this._margins.top-this._margins.bottom)}_calculatePadding(s,a,n,r){const{ticks:{align:i,padding:l},position:d}=this.options,u=this.labelRotation!==0,h=d!=="top"&&this.axis==="x";if(this.isHorizontal()){const p=this.getPixelForTick(0)-this.left,f=this.right-this.getPixelForTick(this.ticks.length-1);let y=0,v=0;u?h?(y=r*s.width,v=n*a.height):(y=n*s.height,v=r*a.width):i==="start"?v=a.width:i==="end"?y=s.width:i!=="inner"&&(y=s.width/2,v=a.width/2),this.paddingLeft=Math.max((y-p+l)*this.width/(this.width-p),0),this.paddingRight=Math.max((v-f+l)*this.width/(this.width-f),0)}else{let p=a.height/2,f=s.height/2;i==="start"?(p=0,f=s.height):i==="end"&&(p=a.height,f=0),this.paddingTop=p+l,this.paddingBottom=f+l}}_handleMargins(){this._margins&&(this._margins.left=Math.max(this.paddingLeft,this._margins.left),this._margins.top=Math.max(this.paddingTop,this._margins.top),this._margins.right=Math.max(this.paddingRight,this._margins.right),this._margins.bottom=Math.max(this.paddingBottom,this._margins.bottom))}afterFit(){Fs(this.options.afterFit,[this])}isHorizontal(){const{axis:s,position:a}=this.options;return a==="top"||a==="bottom"||s==="x"}isFullSize(){return this.options.fullSize}_convertTicksToLabels(s){this.beforeTickToLabelConversion(),this.generateTickLabels(s);let a,n;for(a=0,n=s.length;a<n;a++)Yt(s[a].label)&&(s.splice(a,1),n--,a--);this.afterTickToLabelConversion()}_getLabelSizes(){let s=this._labelSizes;if(!s){const a=this.options.ticks.sampleSize;let n=this.ticks;a<n.length&&(n=d4(n,a)),this._labelSizes=s=this._computeLabelSizes(n,n.length,this.options.ticks.maxTicksLimit)}return s}_computeLabelSizes(s,a,n){const{ctx:r,_longestTextCache:i}=this,l=[],d=[],u=Math.floor(a/c4(a,n));let h=0,p=0,f,y,v,j,N,w,_,T,R,E,A;for(f=0;f<a;f+=u){if(j=s[f].label,N=this._resolveTickFontOptions(f),r.font=w=N.string,_=i[w]=i[w]||{data:{},gc:[]},T=N.lineHeight,R=E=0,!Yt(j)&&!Ws(j))R=Xg(r,_.data,_.gc,R,j),E=T;else if(Ws(j))for(y=0,v=j.length;y<v;++y)A=j[y],!Yt(A)&&!Ws(A)&&(R=Xg(r,_.data,_.gc,R,A),E+=T);l.push(R),d.push(E),h=Math.max(R,h),p=Math.max(E,p)}$ae(i,a);const V=l.indexOf(h),k=d.indexOf(p),B=P=>({width:l[P]||0,height:d[P]||0});return{first:B(0),last:B(a-1),widest:B(V),highest:B(k),widths:l,heights:d}}getLabelForValue(s){return s}getPixelForValue(s,a){return NaN}getValueForPixel(s){}getPixelForTick(s){const a=this.ticks;return s<0||s>a.length-1?null:this.getPixelForValue(a[s].value)}getPixelForDecimal(s){this._reversePixels&&(s=1-s);const a=this._startPixel+s*this._length;return jte(this._alignToPixels?dc(this.chart,a,0):a)}getDecimalForPixel(s){const a=(s-this._startPixel)/this._length;return this._reversePixels?1-a:a}getBasePixel(){return this.getPixelForValue(this.getBaseValue())}getBaseValue(){const{min:s,max:a}=this;return s<0&&a<0?a:s>0&&a>0?s:0}getContext(s){const a=this.ticks||[];if(s>=0&&s<a.length){const n=a[s];return n.$context||(n.$context=Vae(this.getContext(),s,n))}return this.$context||(this.$context=zae(this.chart.getContext(),this))}_tickSize(){const s=this.options.ticks,a=qr(this.labelRotation),n=Math.abs(Math.cos(a)),r=Math.abs(Math.sin(a)),i=this._getLabelSizes(),l=s.autoSkipPadding||0,d=i?i.widest.width+l:0,u=i?i.highest.height+l:0;return this.isHorizontal()?u*n>d*r?d/n:u/r:u*r<d*n?u/n:d/r}_isVisible(){const s=this.options.display;return s!=="auto"?!!s:this.getMatchingVisibleMetas().length>0}_computeGridLineItems(s){const a=this.axis,n=this.chart,r=this.options,{grid:i,position:l,border:d}=r,u=i.offset,h=this.isHorizontal(),f=this.ticks.length+(u?1:0),y=Ph(i),v=[],j=d.setContext(this.getContext()),N=j.display?j.width:0,w=N/2,_=function(U){return dc(n,U,N)};let T,R,E,A,V,k,B,P,H,D,K,X;if(l==="top")T=_(this.bottom),k=this.bottom-y,P=T-w,D=_(s.top)+w,X=s.bottom;else if(l==="bottom")T=_(this.top),D=s.top,X=_(s.bottom)-w,k=T+w,P=this.top+y;else if(l==="left")T=_(this.right),V=this.right-y,B=T-w,H=_(s.left)+w,K=s.right;else if(l==="right")T=_(this.left),H=s.left,K=_(s.right)-w,V=T+w,B=this.left+y;else if(a==="x"){if(l==="center")T=_((s.top+s.bottom)/2+.5);else if(Jt(l)){const U=Object.keys(l)[0],q=l[U];T=_(this.chart.scales[U].getPixelForValue(q))}D=s.top,X=s.bottom,k=T+w,P=k+y}else if(a==="y"){if(l==="center")T=_((s.left+s.right)/2);else if(Jt(l)){const U=Object.keys(l)[0],q=l[U];T=_(this.chart.scales[U].getPixelForValue(q))}V=T-w,B=V-y,H=s.left,K=s.right}const ne=Ft(r.ticks.maxTicksLimit,f),te=Math.max(1,Math.ceil(f/ne));for(R=0;R<f;R+=te){const U=this.getContext(R),q=i.setContext(U),G=d.setContext(U),F=q.lineWidth,M=q.color,z=G.dash||[],ie=G.dashOffset,le=q.tickWidth,re=q.tickColor,fe=q.tickBorderDash||[],we=q.tickBorderDashOffset;E=Iae(this,R,u),E!==void 0&&(A=dc(n,E,F),h?V=B=H=K=A:k=P=D=X=A,v.push({tx1:V,ty1:k,tx2:B,ty2:P,x1:H,y1:D,x2:K,y2:X,width:F,color:M,borderDash:z,borderDashOffset:ie,tickWidth:le,tickColor:re,tickBorderDash:fe,tickBorderDashOffset:we}))}return this._ticksLength=f,this._borderValue=T,v}_computeLabelItems(s){const a=this.axis,n=this.options,{position:r,ticks:i}=n,l=this.isHorizontal(),d=this.ticks,{align:u,crossAlign:h,padding:p,mirror:f}=i,y=Ph(n.grid),v=y+p,j=f?-p:v,N=-qr(this.labelRotation),w=[];let _,T,R,E,A,V,k,B,P,H,D,K,X="middle";if(r==="top")V=this.bottom-j,k=this._getXAxisLabelAlignment();else if(r==="bottom")V=this.top+j,k=this._getXAxisLabelAlignment();else if(r==="left"){const te=this._getYAxisLabelAlignment(y);k=te.textAlign,A=te.x}else if(r==="right"){const te=this._getYAxisLabelAlignment(y);k=te.textAlign,A=te.x}else if(a==="x"){if(r==="center")V=(s.top+s.bottom)/2+v;else if(Jt(r)){const te=Object.keys(r)[0],U=r[te];V=this.chart.scales[te].getPixelForValue(U)+v}k=this._getXAxisLabelAlignment()}else if(a==="y"){if(r==="center")A=(s.left+s.right)/2-v;else if(Jt(r)){const te=Object.keys(r)[0],U=r[te];A=this.chart.scales[te].getPixelForValue(U)}k=this._getYAxisLabelAlignment(y).textAlign}a==="y"&&(u==="start"?X="top":u==="end"&&(X="bottom"));const ne=this._getLabelSizes();for(_=0,T=d.length;_<T;++_){R=d[_],E=R.label;const te=i.setContext(this.getContext(_));B=this.getPixelForTick(_)+i.labelOffset,P=this._resolveTickFontOptions(_),H=P.lineHeight,D=Ws(E)?E.length:1;const U=D/2,q=te.color,G=te.textStrokeColor,F=te.textStrokeWidth;let M=k;l?(A=B,k==="inner"&&(_===T-1?M=this.options.reverse?"left":"right":_===0?M=this.options.reverse?"right":"left":M="center"),r==="top"?h==="near"||N!==0?K=-D*H+H/2:h==="center"?K=-ne.highest.height/2-U*H+H:K=-ne.highest.height+H/2:h==="near"||N!==0?K=H/2:h==="center"?K=ne.highest.height/2-U*H:K=ne.highest.height-D*H,f&&(K*=-1),N!==0&&!te.showLabelBackdrop&&(A+=H/2*Math.sin(N))):(V=B,K=(1-D)*H/2);let z;if(te.showLabelBackdrop){const ie=ln(te.backdropPadding),le=ne.heights[_],re=ne.widths[_];let fe=K-ie.top,we=0-ie.left;switch(X){case"middle":fe-=le/2;break;case"bottom":fe-=le;break}switch(k){case"center":we-=re/2;break;case"right":we-=re;break;case"inner":_===T-1?we-=re:_>0&&(we-=re/2);break}z={left:we,top:fe,width:re+ie.width,height:le+ie.height,color:te.backdropColor}}w.push({label:E,font:P,textOffset:K,options:{rotation:N,color:q,strokeColor:G,strokeWidth:F,textAlign:M,textBaseline:X,translation:[A,V],backdrop:z}})}return w}_getXAxisLabelAlignment(){const{position:s,ticks:a}=this.options;if(-qr(this.labelRotation))return s==="top"?"left":"right";let r="center";return a.align==="start"?r="left":a.align==="end"?r="right":a.align==="inner"&&(r="inner"),r}_getYAxisLabelAlignment(s){const{position:a,ticks:{crossAlign:n,mirror:r,padding:i}}=this.options,l=this._getLabelSizes(),d=s+i,u=l.widest.width;let h,p;return a==="left"?r?(p=this.right+i,n==="near"?h="left":n==="center"?(h="center",p+=u/2):(h="right",p+=u)):(p=this.right-d,n==="near"?h="right":n==="center"?(h="center",p-=u/2):(h="left",p=this.left)):a==="right"?r?(p=this.left+i,n==="near"?h="right":n==="center"?(h="center",p-=u/2):(h="left",p-=u)):(p=this.left+d,n==="near"?h="left":n==="center"?(h="center",p+=u/2):(h="right",p=this.right)):h="right",{textAlign:h,x:p}}_computeLabelArea(){if(this.options.ticks.mirror)return;const s=this.chart,a=this.options.position;if(a==="left"||a==="right")return{top:0,left:this.left,bottom:s.height,right:this.right};if(a==="top"||a==="bottom")return{top:this.top,left:0,bottom:this.bottom,right:s.width}}drawBackground(){const{ctx:s,options:{backgroundColor:a},left:n,top:r,width:i,height:l}=this;a&&(s.save(),s.fillStyle=a,s.fillRect(n,r,i,l),s.restore())}getLineWidthForValue(s){const a=this.options.grid;if(!this._isVisible()||!a.display)return 0;const r=this.ticks.findIndex(i=>i.value===s);return r>=0?a.setContext(this.getContext(r)).lineWidth:0}drawGrid(s){const a=this.options.grid,n=this.ctx,r=this._gridLineItems||(this._gridLineItems=this._computeGridLineItems(s));let i,l;const d=(u,h,p)=>{!p.width||!p.color||(n.save(),n.lineWidth=p.width,n.strokeStyle=p.color,n.setLineDash(p.borderDash||[]),n.lineDashOffset=p.borderDashOffset,n.beginPath(),n.moveTo(u.x,u.y),n.lineTo(h.x,h.y),n.stroke(),n.restore())};if(a.display)for(i=0,l=r.length;i<l;++i){const u=r[i];a.drawOnChartArea&&d({x:u.x1,y:u.y1},{x:u.x2,y:u.y2},u),a.drawTicks&&d({x:u.tx1,y:u.ty1},{x:u.tx2,y:u.ty2},{color:u.tickColor,width:u.tickWidth,borderDash:u.tickBorderDash,borderDashOffset:u.tickBorderDashOffset})}}drawBorder(){const{chart:s,ctx:a,options:{border:n,grid:r}}=this,i=n.setContext(this.getContext()),l=n.display?i.width:0;if(!l)return;const d=r.setContext(this.getContext(0)).lineWidth,u=this._borderValue;let h,p,f,y;this.isHorizontal()?(h=dc(s,this.left,l)-l/2,p=dc(s,this.right,d)+d/2,f=y=u):(f=dc(s,this.top,l)-l/2,y=dc(s,this.bottom,d)+d/2,h=p=u),a.save(),a.lineWidth=i.width,a.strokeStyle=i.color,a.beginPath(),a.moveTo(h,f),a.lineTo(p,y),a.stroke(),a.restore()}drawLabels(s){if(!this.options.ticks.display)return;const n=this.ctx,r=this._computeLabelArea();r&&zx(n,r);const i=this.getLabelItems(s);for(const l of i){const d=l.options,u=l.font,h=l.label,p=l.textOffset;Uc(n,h,0,p,u,d)}r&&Vx(n)}drawTitle(){const{ctx:s,options:{position:a,title:n,reverse:r}}=this;if(!n.display)return;const i=Oa(n.font),l=ln(n.padding),d=n.align;let u=i.lineHeight/2;a==="bottom"||a==="center"||Jt(a)?(u+=l.bottom,Ws(n.text)&&(u+=i.lineHeight*(n.text.length-1))):u+=l.top;const{titleX:h,titleY:p,maxWidth:f,rotation:y}=Hae(this,u,a,d);Uc(s,n.text,0,0,i,{color:n.color,maxWidth:f,rotation:y,textAlign:Uae(d,a,r),textBaseline:"middle",translation:[h,p]})}draw(s){this._isVisible()&&(this.drawBackground(),this.drawGrid(s),this.drawBorder(),this.drawTitle(),this.drawLabels(s))}_layers(){const s=this.options,a=s.ticks&&s.ticks.z||0,n=Ft(s.grid&&s.grid.z,-1),r=Ft(s.border&&s.border.z,0);return!this._isVisible()||this.draw!==Hc.prototype.draw?[{z:a,draw:i=>{this.draw(i)}}]:[{z:n,draw:i=>{this.drawBackground(),this.drawGrid(i),this.drawTitle()}},{z:r,draw:()=>{this.drawBorder()}},{z:a,draw:i=>{this.drawLabels(i)}}]}getMatchingVisibleMetas(s){const a=this.chart.getSortedVisibleDatasetMetas(),n=this.axis+"AxisID",r=[];let i,l;for(i=0,l=a.length;i<l;++i){const d=a[i];d[n]===this.id&&(!s||d.type===s)&&r.push(d)}return r}_resolveTickFontOptions(s){const a=this.options.ticks.setContext(this.getContext(s));return Oa(a.font)}_maxDigits(){const s=this._resolveTickFontOptions(0).lineHeight;return(this.isHorizontal()?this.width:this.height)/s}}class Vp{constructor(s,a,n){this.type=s,this.scope=a,this.override=n,this.items=Object.create(null)}isForType(s){return Object.prototype.isPrototypeOf.call(this.type.prototype,s.prototype)}register(s){const a=Object.getPrototypeOf(s);let n;Wae(a)&&(n=this.register(a));const r=this.items,i=s.id,l=this.scope+"."+i;if(!i)throw new Error("class does not have id: "+s);return i in r||(r[i]=s,qae(s,l,n),this.override&&Zs.override(s.id,s.overrides)),l}get(s){return this.items[s]}unregister(s){const a=this.items,n=s.id,r=this.scope;n in a&&delete a[n],r&&n in Zs[r]&&(delete Zs[r][n],this.override&&delete Vc[n])}}function qae(t,s,a){const n=gm(Object.create(null),[a?Zs.get(a):{},Zs.get(s),t.defaults]);Zs.set(s,n),t.defaultRoutes&&Gae(s,t.defaultRoutes),t.descriptors&&Zs.describe(s,t.descriptors)}function Gae(t,s){Object.keys(s).forEach(a=>{const n=a.split("."),r=n.pop(),i=[t].concat(n).join("."),l=s[a].split("."),d=l.pop(),u=l.join(".");Zs.route(i,r,u,d)})}function Wae(t){return"id"in t&&"defaults"in t}class Yae{constructor(){this.controllers=new Vp(Pl,"datasets",!0),this.elements=new Vp(wo,"elements"),this.plugins=new Vp(Object,"plugins"),this.scales=new Vp(Hc,"scales"),this._typedRegistries=[this.controllers,this.scales,this.elements]}add(...s){this._each("register",s)}remove(...s){this._each("unregister",s)}addControllers(...s){this._each("register",s,this.controllers)}addElements(...s){this._each("register",s,this.elements)}addPlugins(...s){this._each("register",s,this.plugins)}addScales(...s){this._each("register",s,this.scales)}getController(s){return this._get(s,this.controllers,"controller")}getElement(s){return this._get(s,this.elements,"element")}getPlugin(s){return this._get(s,this.plugins,"plugin")}getScale(s){return this._get(s,this.scales,"scale")}removeControllers(...s){this._each("unregister",s,this.controllers)}removeElements(...s){this._each("unregister",s,this.elements)}removePlugins(...s){this._each("unregister",s,this.plugins)}removeScales(...s){this._each("unregister",s,this.scales)}_each(s,a,n){[...a].forEach(r=>{const i=n||this._getRegistryForType(r);n||i.isForType(r)||i===this.plugins&&r.id?this._exec(s,i,r):Cs(r,l=>{const d=n||this._getRegistryForType(l);this._exec(s,d,l)})})}_exec(s,a,n){const r=y1(s);Fs(n["before"+r],[],n),a[s](n),Fs(n["after"+r],[],n)}_getRegistryForType(s){for(let a=0;a<this._typedRegistries.length;a++){const n=this._typedRegistries[a];if(n.isForType(s))return n}return this.plugins}_get(s,a,n){const r=a.get(s);if(r===void 0)throw new Error('"'+s+'" is not a registered '+n+".");return r}}var mi=new Yae;class Kae{constructor(){this._init=void 0}notify(s,a,n,r){if(a==="beforeInit"&&(this._init=this._createDescriptors(s,!0),this._notify(this._init,s,"install")),this._init===void 0)return;const i=r?this._descriptors(s).filter(r):this._descriptors(s),l=this._notify(i,s,a,n);return a==="afterDestroy"&&(this._notify(i,s,"stop"),this._notify(this._init,s,"uninstall"),this._init=void 0),l}_notify(s,a,n,r){r=r||{};for(const i of s){const l=i.plugin,d=l[n],u=[a,r,i.options];if(Fs(d,u,l)===!1&&r.cancelable)return!1}return!0}invalidate(){Yt(this._cache)||(this._oldCache=this._cache,this._cache=void 0)}_descriptors(s){if(this._cache)return this._cache;const a=this._cache=this._createDescriptors(s);return this._notifyStateChanges(s),a}_createDescriptors(s,a){const n=s&&s.config,r=Ft(n.options&&n.options.plugins,{}),i=Xae(n);return r===!1&&!a?[]:Zae(s,i,r,a)}_notifyStateChanges(s){const a=this._oldCache||[],n=this._cache,r=(i,l)=>i.filter(d=>!l.some(u=>d.plugin.id===u.plugin.id));this._notify(r(a,n),s,"stop"),this._notify(r(n,a),s,"start")}}function Xae(t){const s={},a=[],n=Object.keys(mi.plugins.items);for(let i=0;i<n.length;i++)a.push(mi.getPlugin(n[i]));const r=t.plugins||[];for(let i=0;i<r.length;i++){const l=r[i];a.indexOf(l)===-1&&(a.push(l),s[l.id]=!0)}return{plugins:a,localIds:s}}function Qae(t,s){return!s&&t===!1?null:t===!0?{}:t}function Zae(t,{plugins:s,localIds:a},n,r){const i=[],l=t.getContext();for(const d of s){const u=d.id,h=Qae(n[u],r);h!==null&&i.push({plugin:d,options:Jae(t.config,{plugin:d,local:a[u]},h,l)})}return i}function Jae(t,{plugin:s,local:a},n,r){const i=t.pluginScopeKeys(s),l=t.getOptionScopes(n,i);return a&&s.defaults&&l.push(s.defaults),t.createResolver(l,r,[""],{scriptable:!1,indexable:!1,allKeys:!0})}function Tj(t,s){const a=Zs.datasets[t]||{};return((s.datasets||{})[t]||{}).indexAxis||s.indexAxis||a.indexAxis||"x"}function ene(t,s){let a=t;return t==="_index_"?a=s:t==="_value_"&&(a=s==="x"?"y":"x"),a}function tne(t,s){return t===s?"_index_":"_value_"}function h4(t){if(t==="x"||t==="y"||t==="r")return t}function sne(t){if(t==="top"||t==="bottom")return"x";if(t==="left"||t==="right")return"y"}function Dj(t,...s){if(h4(t))return t;for(const a of s){const n=a.axis||sne(a.position)||t.length>1&&h4(t[0].toLowerCase());if(n)return n}throw new Error(`Cannot determine type of '${t}' axis. Please provide 'axis' or 'position' option.`)}function m4(t,s,a){if(a[s+"AxisID"]===t)return{axis:s}}function ane(t,s){if(s.data&&s.data.datasets){const a=s.data.datasets.filter(n=>n.xAxisID===t||n.yAxisID===t);if(a.length)return m4(t,"x",a[0])||m4(t,"y",a[0])}return{}}function nne(t,s){const a=Vc[t.type]||{scales:{}},n=s.scales||{},r=Tj(t.type,s),i=Object.create(null);return Object.keys(n).forEach(l=>{const d=n[l];if(!Jt(d))return console.error(`Invalid scale configuration for scale: ${l}`);if(d._proxy)return console.warn(`Ignoring resolver passed as options for scale: ${l}`);const u=Dj(l,d,ane(l,t),Zs.scales[d.type]),h=tne(u,r),p=a.scales||{};i[l]=Zh(Object.create(null),[{axis:u},d,p[u],p[h]])}),t.data.datasets.forEach(l=>{const d=l.type||t.type,u=l.indexAxis||Tj(d,s),p=(Vc[d]||{}).scales||{};Object.keys(p).forEach(f=>{const y=ene(f,u),v=l[y+"AxisID"]||y;i[v]=i[v]||Object.create(null),Zh(i[v],[{axis:y},n[v],p[f]])})}),Object.keys(i).forEach(l=>{const d=i[l];Zh(d,[Zs.scales[d.type],Zs.scale])}),i}function a3(t){const s=t.options||(t.options={});s.plugins=Ft(s.plugins,{}),s.scales=nne(t,s)}function n3(t){return t=t||{},t.datasets=t.datasets||[],t.labels=t.labels||[],t}function rne(t){return t=t||{},t.data=n3(t.data),a3(t),t}const f4=new Map,r3=new Set;function Up(t,s){let a=f4.get(t);return a||(a=s(),f4.set(t,a),r3.add(a)),a}const Oh=(t,s,a)=>{const n=Sl(s,a);n!==void 0&&t.add(n)};class ine{constructor(s){this._config=rne(s),this._scopeCache=new Map,this._resolverCache=new Map}get platform(){return this._config.platform}get type(){return this._config.type}set type(s){this._config.type=s}get data(){return this._config.data}set data(s){this._config.data=n3(s)}get options(){return this._config.options}set options(s){this._config.options=s}get plugins(){return this._config.plugins}update(){const s=this._config;this.clearCache(),a3(s)}clearCache(){this._scopeCache.clear(),this._resolverCache.clear()}datasetScopeKeys(s){return Up(s,()=>[[`datasets.${s}`,""]])}datasetAnimationScopeKeys(s,a){return Up(`${s}.transition.${a}`,()=>[[`datasets.${s}.transitions.${a}`,`transitions.${a}`],[`datasets.${s}`,""]])}datasetElementScopeKeys(s,a){return Up(`${s}-${a}`,()=>[[`datasets.${s}.elements.${a}`,`datasets.${s}`,`elements.${a}`,""]])}pluginScopeKeys(s){const a=s.id,n=this.type;return Up(`${n}-plugin-${a}`,()=>[[`plugins.${a}`,...s.additionalOptionScopes||[]]])}_cachedScopes(s,a){const n=this._scopeCache;let r=n.get(s);return(!r||a)&&(r=new Map,n.set(s,r)),r}getOptionScopes(s,a,n){const{options:r,type:i}=this,l=this._cachedScopes(s,n),d=l.get(a);if(d)return d;const u=new Set;a.forEach(p=>{s&&(u.add(s),p.forEach(f=>Oh(u,s,f))),p.forEach(f=>Oh(u,r,f)),p.forEach(f=>Oh(u,Vc[i]||{},f)),p.forEach(f=>Oh(u,Zs,f)),p.forEach(f=>Oh(u,Sj,f))});const h=Array.from(u);return h.length===0&&h.push(Object.create(null)),r3.has(a)&&l.set(a,h),h}chartOptionScopes(){const{options:s,type:a}=this;return[s,Vc[a]||{},Zs.datasets[a]||{},{type:a},Zs,Sj]}resolveNamedOptions(s,a,n,r=[""]){const i={$shared:!0},{resolver:l,subPrefixes:d}=p4(this._resolverCache,s,r);let u=l;if(lne(l,a)){i.$shared=!1,n=Al(n)?n():n;const h=this.createResolver(s,n,d);u=ou(l,n,h)}for(const h of a)i[h]=u[h];return i}createResolver(s,a,n=[""],r){const{resolver:i}=p4(this._resolverCache,s,n);return Jt(a)?ou(i,a,void 0,r):i}}function p4(t,s,a){let n=t.get(s);n||(n=new Map,t.set(s,n));const r=a.join();let i=n.get(r);return i||(i={resolver:_1(s,a),subPrefixes:a.filter(d=>!d.toLowerCase().includes("hover"))},n.set(r,i)),i}const one=t=>Jt(t)&&Object.getOwnPropertyNames(t).some(s=>Al(t[s]));function lne(t,s){const{isScriptable:a,isIndexable:n}=LP(t);for(const r of s){const i=a(r),l=n(r),d=(l||i)&&t[r];if(i&&(Al(d)||one(d))||l&&Ws(d))return!0}return!1}var cne="4.5.1";const dne=["top","bottom","left","right","chartArea"];function g4(t,s){return t==="top"||t==="bottom"||dne.indexOf(t)===-1&&s==="x"}function x4(t,s){return function(a,n){return a[t]===n[t]?a[s]-n[s]:a[t]-n[t]}}function y4(t){const s=t.chart,a=s.options.animation;s.notifyPlugins("afterRender"),Fs(a&&a.onComplete,[t],s)}function une(t){const s=t.chart,a=s.options.animation;Fs(a&&a.onProgress,[t],s)}function i3(t){return S1()&&typeof t=="string"?t=document.getElementById(t):t&&t.length&&(t=t[0]),t&&t.canvas&&(t=t.canvas),t}const hg={},b4=t=>{const s=i3(t);return Object.values(hg).filter(a=>a.canvas===s).pop()};function hne(t,s,a){const n=Object.keys(t);for(const r of n){const i=+r;if(i>=s){const l=t[r];delete t[r],(a>0||i>s)&&(t[i+a]=l)}}}function mne(t,s,a,n){return!a||t.type==="mouseout"?null:n?s:t}class Tl{static defaults=Zs;static instances=hg;static overrides=Vc;static registry=mi;static version=cne;static getChart=b4;static register(...s){mi.add(...s),v4()}static unregister(...s){mi.remove(...s),v4()}constructor(s,a){const n=this.config=new ine(a),r=i3(s),i=b4(r);if(i)throw new Error("Canvas is already in use. Chart with ID '"+i.id+"' must be destroyed before the canvas with ID '"+i.canvas.id+"' can be reused.");const l=n.createResolver(n.chartOptionScopes(),this.getContext());this.platform=new(n.platform||Eae(r)),this.platform.updateConfig(n);const d=this.platform.acquireContext(r,l.aspectRatio),u=d&&d.canvas,h=u&&u.height,p=u&&u.width;if(this.id=lte(),this.ctx=d,this.canvas=u,this.width=p,this.height=h,this._options=l,this._aspectRatio=this.aspectRatio,this._layers=[],this._metasets=[],this._stacks=void 0,this.boxes=[],this.currentDevicePixelRatio=void 0,this.chartArea=void 0,this._active=[],this._lastEvent=void 0,this._listeners={},this._responsiveListeners=void 0,this._sortedMetasets=[],this.scales={},this._plugins=new Kae,this.$proxies={},this._hiddenIndices={},this.attached=!1,this._animationsDisabled=void 0,this.$context=void 0,this._doResize=Cte(f=>this.update(f),l.resizeDelay||0),this._dataChanges=[],hg[this.id]=this,!d||!u){console.error("Failed to create chart: can't acquire context from the given item");return}to.listen(this,"complete",y4),to.listen(this,"progress",une),this._initialize(),this.attached&&this.update()}get aspectRatio(){const{options:{aspectRatio:s,maintainAspectRatio:a},width:n,height:r,_aspectRatio:i}=this;return Yt(s)?a&&i?i:r?n/r:null:s}get data(){return this.config.data}set data(s){this.config.data=s}get options(){return this._options}set options(s){this.config.options=s}get registry(){return mi}_initialize(){return this.notifyPlugins("beforeInit"),this.options.responsive?this.resize():VA(this,this.options.devicePixelRatio),this.bindEvents(),this.notifyPlugins("afterInit"),this}clear(){return IA(this.canvas,this.ctx),this}stop(){return to.stop(this),this}resize(s,a){to.running(this)?this._resizeBeforeDraw={width:s,height:a}:this._resize(s,a)}_resize(s,a){const n=this.options,r=this.canvas,i=n.maintainAspectRatio&&this.aspectRatio,l=this.platform.getMaximumSize(r,s,a,i),d=n.devicePixelRatio||this.platform.getDevicePixelRatio(),u=this.width?"resize":"attach";this.width=l.width,this.height=l.height,this._aspectRatio=this.aspectRatio,VA(this,d,!0)&&(this.notifyPlugins("resize",{size:l}),Fs(n.onResize,[this,l],this),this.attached&&this._doResize(u)&&this.render())}ensureScalesHaveIDs(){const a=this.options.scales||{};Cs(a,(n,r)=>{n.id=r})}buildOrUpdateScales(){const s=this.options,a=s.scales,n=this.scales,r=Object.keys(n).reduce((l,d)=>(l[d]=!1,l),{});let i=[];a&&(i=i.concat(Object.keys(a).map(l=>{const d=a[l],u=Dj(l,d),h=u==="r",p=u==="x";return{options:d,dposition:h?"chartArea":p?"bottom":"left",dtype:h?"radialLinear":p?"category":"linear"}}))),Cs(i,l=>{const d=l.options,u=d.id,h=Dj(u,d),p=Ft(d.type,l.dtype);(d.position===void 0||g4(d.position,h)!==g4(l.dposition))&&(d.position=l.dposition),r[u]=!0;let f=null;if(u in n&&n[u].type===p)f=n[u];else{const y=mi.getScale(p);f=new y({id:u,type:p,ctx:this.ctx,chart:this}),n[f.id]=f}f.init(d,s)}),Cs(r,(l,d)=>{l||delete n[d]}),Cs(n,l=>{nn.configure(this,l,l.options),nn.addBox(this,l)})}_updateMetasets(){const s=this._metasets,a=this.data.datasets.length,n=s.length;if(s.sort((r,i)=>r.index-i.index),n>a){for(let r=a;r<n;++r)this._destroyDatasetMeta(r);s.splice(a,n-a)}this._sortedMetasets=s.slice(0).sort(x4("order","index"))}_removeUnreferencedMetasets(){const{_metasets:s,data:{datasets:a}}=this;s.length>a.length&&delete this._stacks,s.forEach((n,r)=>{a.filter(i=>i===n._dataset).length===0&&this._destroyDatasetMeta(r)})}buildOrUpdateControllers(){const s=[],a=this.data.datasets;let n,r;for(this._removeUnreferencedMetasets(),n=0,r=a.length;n<r;n++){const i=a[n];let l=this.getDatasetMeta(n);const d=i.type||this.config.type;if(l.type&&l.type!==d&&(this._destroyDatasetMeta(n),l=this.getDatasetMeta(n)),l.type=d,l.indexAxis=i.indexAxis||Tj(d,this.options),l.order=i.order||0,l.index=n,l.label=""+i.label,l.visible=this.isDatasetVisible(n),l.controller)l.controller.updateIndex(n),l.controller.linkScales();else{const u=mi.getController(d),{datasetElementType:h,dataElementType:p}=Zs.datasets[d];Object.assign(u,{dataElementType:mi.getElement(p),datasetElementType:h&&mi.getElement(h)}),l.controller=new u(this,n),s.push(l.controller)}}return this._updateMetasets(),s}_resetElements(){Cs(this.data.datasets,(s,a)=>{this.getDatasetMeta(a).controller.reset()},this)}reset(){this._resetElements(),this.notifyPlugins("reset")}update(s){const a=this.config;a.update();const n=this._options=a.createResolver(a.chartOptionScopes(),this.getContext()),r=this._animationsDisabled=!n.animation;if(this._updateScales(),this._checkEventBindings(),this._updateHiddenIndices(),this._plugins.invalidate(),this.notifyPlugins("beforeUpdate",{mode:s,cancelable:!0})===!1)return;const i=this.buildOrUpdateControllers();this.notifyPlugins("beforeElementsUpdate");let l=0;for(let h=0,p=this.data.datasets.length;h<p;h++){const{controller:f}=this.getDatasetMeta(h),y=!r&&i.indexOf(f)===-1;f.buildOrUpdateElements(y),l=Math.max(+f.getMaxOverflow(),l)}l=this._minPadding=n.layout.autoPadding?l:0,this._updateLayout(l),r||Cs(i,h=>{h.reset()}),this._updateDatasets(s),this.notifyPlugins("afterUpdate",{mode:s}),this._layers.sort(x4("z","_idx"));const{_active:d,_lastEvent:u}=this;u?this._eventHandler(u,!0):d.length&&this._updateHoverStyles(d,d,!0),this.render()}_updateScales(){Cs(this.scales,s=>{nn.removeBox(this,s)}),this.ensureScalesHaveIDs(),this.buildOrUpdateScales()}_checkEventBindings(){const s=this.options,a=new Set(Object.keys(this._listeners)),n=new Set(s.events);(!DA(a,n)||!!this._responsiveListeners!==s.responsive)&&(this.unbindEvents(),this.bindEvents())}_updateHiddenIndices(){const{_hiddenIndices:s}=this,a=this._getUniformDataChanges()||[];for(const{method:n,start:r,count:i}of a){const l=n==="_removeElements"?-i:i;hne(s,r,l)}}_getUniformDataChanges(){const s=this._dataChanges;if(!s||!s.length)return;this._dataChanges=[];const a=this.data.datasets.length,n=i=>new Set(s.filter(l=>l[0]===i).map((l,d)=>d+","+l.splice(1).join(","))),r=n(0);for(let i=1;i<a;i++)if(!DA(r,n(i)))return;return Array.from(r).map(i=>i.split(",")).map(i=>({method:i[1],start:+i[2],count:+i[3]}))}_updateLayout(s){if(this.notifyPlugins("beforeLayout",{cancelable:!0})===!1)return;nn.update(this,this.width,this.height,s);const a=this.chartArea,n=a.width<=0||a.height<=0;this._layers=[],Cs(this.boxes,r=>{n&&r.position==="chartArea"||(r.configure&&r.configure(),this._layers.push(...r._layers()))},this),this._layers.forEach((r,i)=>{r._idx=i}),this.notifyPlugins("afterLayout")}_updateDatasets(s){if(this.notifyPlugins("beforeDatasetsUpdate",{mode:s,cancelable:!0})!==!1){for(let a=0,n=this.data.datasets.length;a<n;++a)this.getDatasetMeta(a).controller.configure();for(let a=0,n=this.data.datasets.length;a<n;++a)this._updateDataset(a,Al(s)?s({datasetIndex:a}):s);this.notifyPlugins("afterDatasetsUpdate",{mode:s})}}_updateDataset(s,a){const n=this.getDatasetMeta(s),r={meta:n,index:s,mode:a,cancelable:!0};this.notifyPlugins("beforeDatasetUpdate",r)!==!1&&(n.controller._update(a),r.cancelable=!1,this.notifyPlugins("afterDatasetUpdate",r))}render(){this.notifyPlugins("beforeRender",{cancelable:!0})!==!1&&(to.has(this)?this.attached&&!to.running(this)&&to.start(this):(this.draw(),y4({chart:this})))}draw(){let s;if(this._resizeBeforeDraw){const{width:n,height:r}=this._resizeBeforeDraw;this._resizeBeforeDraw=null,this._resize(n,r)}if(this.clear(),this.width<=0||this.height<=0||this.notifyPlugins("beforeDraw",{cancelable:!0})===!1)return;const a=this._layers;for(s=0;s<a.length&&a[s].z<=0;++s)a[s].draw(this.chartArea);for(this._drawDatasets();s<a.length;++s)a[s].draw(this.chartArea);this.notifyPlugins("afterDraw")}_getSortedDatasetMetas(s){const a=this._sortedMetasets,n=[];let r,i;for(r=0,i=a.length;r<i;++r){const l=a[r];(!s||l.visible)&&n.push(l)}return n}getSortedVisibleDatasetMetas(){return this._getSortedDatasetMetas(!0)}_drawDatasets(){if(this.notifyPlugins("beforeDatasetsDraw",{cancelable:!0})===!1)return;const s=this.getSortedVisibleDatasetMetas();for(let a=s.length-1;a>=0;--a)this._drawDataset(s[a]);this.notifyPlugins("afterDatasetsDraw")}_drawDataset(s){const a=this.ctx,n={meta:s,index:s.index,cancelable:!0},r=WP(this,s);this.notifyPlugins("beforeDatasetDraw",n)!==!1&&(r&&zx(a,r),s.controller.draw(),r&&Vx(a),n.cancelable=!1,this.notifyPlugins("afterDatasetDraw",n))}isPointInArea(s){return oo(s,this.chartArea,this._minPadding)}getElementsAtEventForMode(s,a,n,r){const i=dae.modes[a];return typeof i=="function"?i(this,s,n,r):[]}getDatasetMeta(s){const a=this.data.datasets[s],n=this._metasets;let r=n.filter(i=>i&&i._dataset===a).pop();return r||(r={type:null,data:[],dataset:null,controller:null,hidden:null,xAxisID:null,yAxisID:null,order:a&&a.order||0,index:s,_dataset:a,_parsed:[],_sorted:!1},n.push(r)),r}getContext(){return this.$context||(this.$context=Ml(null,{chart:this,type:"chart"}))}getVisibleDatasetCount(){return this.getSortedVisibleDatasetMetas().length}isDatasetVisible(s){const a=this.data.datasets[s];if(!a)return!1;const n=this.getDatasetMeta(s);return typeof n.hidden=="boolean"?!n.hidden:!a.hidden}setDatasetVisibility(s,a){const n=this.getDatasetMeta(s);n.hidden=!a}toggleDataVisibility(s){this._hiddenIndices[s]=!this._hiddenIndices[s]}getDataVisibility(s){return!this._hiddenIndices[s]}_updateVisibility(s,a,n){const r=n?"show":"hide",i=this.getDatasetMeta(s),l=i.controller._resolveAnimations(void 0,r);xm(a)?(i.data[a].hidden=!n,this.update()):(this.setDatasetVisibility(s,n),l.update(i,{visible:n}),this.update(d=>d.datasetIndex===s?r:void 0))}hide(s,a){this._updateVisibility(s,a,!1)}show(s,a){this._updateVisibility(s,a,!0)}_destroyDatasetMeta(s){const a=this._metasets[s];a&&a.controller&&a.controller._destroy(),delete this._metasets[s]}_stop(){let s,a;for(this.stop(),to.remove(this),s=0,a=this.data.datasets.length;s<a;++s)this._destroyDatasetMeta(s)}destroy(){this.notifyPlugins("beforeDestroy");const{canvas:s,ctx:a}=this;this._stop(),this.config.clearCache(),s&&(this.unbindEvents(),IA(s,a),this.platform.releaseContext(a),this.canvas=null,this.ctx=null),delete hg[this.id],this.notifyPlugins("afterDestroy")}toBase64Image(...s){return this.canvas.toDataURL(...s)}bindEvents(){this.bindUserEvents(),this.options.responsive?this.bindResponsiveEvents():this.attached=!0}bindUserEvents(){const s=this._listeners,a=this.platform,n=(i,l)=>{a.addEventListener(this,i,l),s[i]=l},r=(i,l,d)=>{i.offsetX=l,i.offsetY=d,this._eventHandler(i)};Cs(this.options.events,i=>n(i,r))}bindResponsiveEvents(){this._responsiveListeners||(this._responsiveListeners={});const s=this._responsiveListeners,a=this.platform,n=(u,h)=>{a.addEventListener(this,u,h),s[u]=h},r=(u,h)=>{s[u]&&(a.removeEventListener(this,u,h),delete s[u])},i=(u,h)=>{this.canvas&&this.resize(u,h)};let l;const d=()=>{r("attach",d),this.attached=!0,this.resize(),n("resize",i),n("detach",l)};l=()=>{this.attached=!1,r("resize",i),this._stop(),this._resize(0,0),n("attach",d)},a.isAttached(this.canvas)?d():l()}unbindEvents(){Cs(this._listeners,(s,a)=>{this.platform.removeEventListener(this,a,s)}),this._listeners={},Cs(this._responsiveListeners,(s,a)=>{this.platform.removeEventListener(this,a,s)}),this._responsiveListeners=void 0}updateHoverStyle(s,a,n){const r=n?"set":"remove";let i,l,d,u;for(a==="dataset"&&(i=this.getDatasetMeta(s[0].datasetIndex),i.controller["_"+r+"DatasetHoverStyle"]()),d=0,u=s.length;d<u;++d){l=s[d];const h=l&&this.getDatasetMeta(l.datasetIndex).controller;h&&h[r+"HoverStyle"](l.element,l.datasetIndex,l.index)}}getActiveElements(){return this._active||[]}setActiveElements(s){const a=this._active||[],n=s.map(({datasetIndex:i,index:l})=>{const d=this.getDatasetMeta(i);if(!d)throw new Error("No dataset found at index "+i);return{datasetIndex:i,element:d.data[l],index:l}});!Wg(n,a)&&(this._active=n,this._lastEvent=null,this._updateHoverStyles(n,a))}notifyPlugins(s,a,n){return this._plugins.notify(this,s,a,n)}isPluginEnabled(s){return this._plugins._cache.filter(a=>a.plugin.id===s).length===1}_updateHoverStyles(s,a,n){const r=this.options.hover,i=(u,h)=>u.filter(p=>!h.some(f=>p.datasetIndex===f.datasetIndex&&p.index===f.index)),l=i(a,s),d=n?s:i(s,a);l.length&&this.updateHoverStyle(l,r.mode,!1),d.length&&r.mode&&this.updateHoverStyle(d,r.mode,!0)}_eventHandler(s,a){const n={event:s,replay:a,cancelable:!0,inChartArea:this.isPointInArea(s)},r=l=>(l.options.events||this.options.events).includes(s.native.type);if(this.notifyPlugins("beforeEvent",n,r)===!1)return;const i=this._handleEvent(s,a,n.inChartArea);return n.cancelable=!1,this.notifyPlugins("afterEvent",n,r),(i||n.changed)&&this.render(),this}_handleEvent(s,a,n){const{_active:r=[],options:i}=this,l=a,d=this._getActiveElements(s,r,n,l),u=fte(s),h=mne(s,this._lastEvent,n,u);n&&(this._lastEvent=null,Fs(i.onHover,[s,d,this],this),u&&Fs(i.onClick,[s,d,this],this));const p=!Wg(d,r);return(p||a)&&(this._active=d,this._updateHoverStyles(d,r,a)),this._lastEvent=h,p}_getActiveElements(s,a,n,r){if(s.type==="mouseout")return[];if(!n)return a;const i=this.options.hover;return this.getElementsAtEventForMode(s,i.mode,i,r)}}function v4(){return Cs(Tl.instances,t=>t._plugins.invalidate())}function fne(t,s,a){const{startAngle:n,x:r,y:i,outerRadius:l,innerRadius:d,options:u}=s,{borderWidth:h,borderJoinStyle:p}=u,f=Math.min(h/l,Ja(n-a));if(t.beginPath(),t.arc(r,i,l-h/2,n+f/2,a-f/2),d>0){const y=Math.min(h/d,Ja(n-a));t.arc(r,i,d+h/2,a-y/2,n+y/2,!0)}else{const y=Math.min(h/2,l*Ja(n-a));if(p==="round")t.arc(r,i,y,a-gs/2,n+gs/2,!0);else if(p==="bevel"){const v=2*y*y,j=-v*Math.cos(a+gs/2)+r,N=-v*Math.sin(a+gs/2)+i,w=v*Math.cos(n+gs/2)+r,_=v*Math.sin(n+gs/2)+i;t.lineTo(j,N),t.lineTo(w,_)}}t.closePath(),t.moveTo(0,0),t.rect(0,0,t.canvas.width,t.canvas.height),t.clip("evenodd")}function pne(t,s,a){const{startAngle:n,pixelMargin:r,x:i,y:l,outerRadius:d,innerRadius:u}=s;let h=r/d;t.beginPath(),t.arc(i,l,d,n-h,a+h),u>r?(h=r/u,t.arc(i,l,u,a+h,n-h,!0)):t.arc(i,l,r,a+fa,n-fa),t.closePath(),t.clip()}function gne(t){return N1(t,["outerStart","outerEnd","innerStart","innerEnd"])}function xne(t,s,a,n){const r=gne(t.options.borderRadius),i=(a-s)/2,l=Math.min(i,n*s/2),d=u=>{const h=(a-Math.min(i,u))*n/2;return Va(u,0,Math.min(i,h))};return{outerStart:d(r.outerStart),outerEnd:d(r.outerEnd),innerStart:Va(r.innerStart,0,l),innerEnd:Va(r.innerEnd,0,l)}}function Bd(t,s,a,n){return{x:a+t*Math.cos(s),y:n+t*Math.sin(s)}}function Jg(t,s,a,n,r,i){const{x:l,y:d,startAngle:u,pixelMargin:h,innerRadius:p}=s,f=Math.max(s.outerRadius+n+a-h,0),y=p>0?p+n+a+h:0;let v=0;const j=r-u;if(n){const te=p>0?p-n:0,U=f>0?f-n:0,q=(te+U)/2,G=q!==0?j*q/(q+n):j;v=(j-G)/2}const N=Math.max(.001,j*f-a/gs)/f,w=(j-N)/2,_=u+w+v,T=r-w-v,{outerStart:R,outerEnd:E,innerStart:A,innerEnd:V}=xne(s,y,f,T-_),k=f-R,B=f-E,P=_+R/k,H=T-E/B,D=y+A,K=y+V,X=_+A/D,ne=T-V/K;if(t.beginPath(),i){const te=(P+H)/2;if(t.arc(l,d,f,P,te),t.arc(l,d,f,te,H),E>0){const F=Bd(B,H,l,d);t.arc(F.x,F.y,E,H,T+fa)}const U=Bd(K,T,l,d);if(t.lineTo(U.x,U.y),V>0){const F=Bd(K,ne,l,d);t.arc(F.x,F.y,V,T+fa,ne+Math.PI)}const q=(T-V/y+(_+A/y))/2;if(t.arc(l,d,y,T-V/y,q,!0),t.arc(l,d,y,q,_+A/y,!0),A>0){const F=Bd(D,X,l,d);t.arc(F.x,F.y,A,X+Math.PI,_-fa)}const G=Bd(k,_,l,d);if(t.lineTo(G.x,G.y),R>0){const F=Bd(k,P,l,d);t.arc(F.x,F.y,R,_-fa,P)}}else{t.moveTo(l,d);const te=Math.cos(P)*f+l,U=Math.sin(P)*f+d;t.lineTo(te,U);const q=Math.cos(H)*f+l,G=Math.sin(H)*f+d;t.lineTo(q,G)}t.closePath()}function yne(t,s,a,n,r){const{fullCircles:i,startAngle:l,circumference:d}=s;let u=s.endAngle;if(i){Jg(t,s,a,n,u,r);for(let h=0;h<i;++h)t.fill();isNaN(d)||(u=l+(d%Vs||Vs))}return Jg(t,s,a,n,u,r),t.fill(),u}function bne(t,s,a,n,r){const{fullCircles:i,startAngle:l,circumference:d,options:u}=s,{borderWidth:h,borderJoinStyle:p,borderDash:f,borderDashOffset:y,borderRadius:v}=u,j=u.borderAlign==="inner";if(!h)return;t.setLineDash(f||[]),t.lineDashOffset=y,j?(t.lineWidth=h*2,t.lineJoin=p||"round"):(t.lineWidth=h,t.lineJoin=p||"bevel");let N=s.endAngle;if(i){Jg(t,s,a,n,N,r);for(let w=0;w<i;++w)t.stroke();isNaN(d)||(N=l+(d%Vs||Vs))}j&&pne(t,s,N),u.selfJoin&&N-l>=gs&&v===0&&p!=="miter"&&fne(t,s,N),i||(Jg(t,s,a,n,N,r),t.stroke())}class vne extends wo{static id="arc";static defaults={borderAlign:"center",borderColor:"#fff",borderDash:[],borderDashOffset:0,borderJoinStyle:void 0,borderRadius:0,borderWidth:2,offset:0,spacing:0,angle:void 0,circular:!0,selfJoin:!1};static defaultRoutes={backgroundColor:"backgroundColor"};static descriptors={_scriptable:!0,_indexable:s=>s!=="borderDash"};circumference;endAngle;fullCircles;innerRadius;outerRadius;pixelMargin;startAngle;constructor(s){super(),this.options=void 0,this.circumference=void 0,this.startAngle=void 0,this.endAngle=void 0,this.innerRadius=void 0,this.outerRadius=void 0,this.pixelMargin=0,this.fullCircles=0,s&&Object.assign(this,s)}inRange(s,a,n){const r=this.getProps(["x","y"],n),{angle:i,distance:l}=kP(r,{x:s,y:a}),{startAngle:d,endAngle:u,innerRadius:h,outerRadius:p,circumference:f}=this.getProps(["startAngle","endAngle","innerRadius","outerRadius","circumference"],n),y=(this.options.spacing+this.options.borderWidth)/2,v=Ft(f,u-d),j=ym(i,d,u)&&d!==u,N=v>=Vs||j,w=ro(l,h+y,p+y);return N&&w}getCenterPoint(s){const{x:a,y:n,startAngle:r,endAngle:i,innerRadius:l,outerRadius:d}=this.getProps(["x","y","startAngle","endAngle","innerRadius","outerRadius"],s),{offset:u,spacing:h}=this.options,p=(r+i)/2,f=(l+d+h+u)/2;return{x:a+Math.cos(p)*f,y:n+Math.sin(p)*f}}tooltipPosition(s){return this.getCenterPoint(s)}draw(s){const{options:a,circumference:n}=this,r=(a.offset||0)/4,i=(a.spacing||0)/2,l=a.circular;if(this.pixelMargin=a.borderAlign==="inner"?.33:0,this.fullCircles=n>Vs?Math.floor(n/Vs):0,n===0||this.innerRadius<0||this.outerRadius<0)return;s.save();const d=(this.startAngle+this.endAngle)/2;s.translate(Math.cos(d)*r,Math.sin(d)*r);const u=1-Math.sin(Math.min(gs,n||0)),h=r*u;s.fillStyle=a.backgroundColor,s.strokeStyle=a.borderColor,yne(s,this,h,i,l),bne(s,this,h,i,l),s.restore()}}function o3(t,s,a=s){t.lineCap=Ft(a.borderCapStyle,s.borderCapStyle),t.setLineDash(Ft(a.borderDash,s.borderDash)),t.lineDashOffset=Ft(a.borderDashOffset,s.borderDashOffset),t.lineJoin=Ft(a.borderJoinStyle,s.borderJoinStyle),t.lineWidth=Ft(a.borderWidth,s.borderWidth),t.strokeStyle=Ft(a.borderColor,s.borderColor)}function jne(t,s,a){t.lineTo(a.x,a.y)}function wne(t){return t.stepped?Bte:t.tension||t.cubicInterpolationMode==="monotone"?Fte:jne}function l3(t,s,a={}){const n=t.length,{start:r=0,end:i=n-1}=a,{start:l,end:d}=s,u=Math.max(r,l),h=Math.min(i,d),p=r<l&&i<l||r>d&&i>d;return{count:n,start:u,loop:s.loop,ilen:h<u&&!p?n+h-u:h-u}}function Nne(t,s,a,n){const{points:r,options:i}=s,{count:l,start:d,loop:u,ilen:h}=l3(r,a,n),p=wne(i);let{move:f=!0,reverse:y}=n||{},v,j,N;for(v=0;v<=h;++v)j=r[(d+(y?h-v:v))%l],!j.skip&&(f?(t.moveTo(j.x,j.y),f=!1):p(t,N,j,y,i.stepped),N=j);return u&&(j=r[(d+(y?h:0))%l],p(t,N,j,y,i.stepped)),!!u}function _ne(t,s,a,n){const r=s.points,{count:i,start:l,ilen:d}=l3(r,a,n),{move:u=!0,reverse:h}=n||{};let p=0,f=0,y,v,j,N,w,_;const T=E=>(l+(h?d-E:E))%i,R=()=>{N!==w&&(t.lineTo(p,w),t.lineTo(p,N),t.lineTo(p,_))};for(u&&(v=r[T(0)],t.moveTo(v.x,v.y)),y=0;y<=d;++y){if(v=r[T(y)],v.skip)continue;const E=v.x,A=v.y,V=E|0;V===j?(A<N?N=A:A>w&&(w=A),p=(f*p+E)/++f):(R(),t.lineTo(E,A),j=V,f=0,N=w=A),_=A}R()}function Ej(t){const s=t.options,a=s.borderDash&&s.borderDash.length;return!t._decimated&&!t._loop&&!s.tension&&s.cubicInterpolationMode!=="monotone"&&!s.stepped&&!a?_ne:Nne}function Cne(t){return t.stepped?gse:t.tension||t.cubicInterpolationMode==="monotone"?xse:vc}function kne(t,s,a,n){let r=s._path;r||(r=s._path=new Path2D,s.path(r,a,n)&&r.closePath()),o3(t,s.options),t.stroke(r)}function Sne(t,s,a,n){const{segments:r,options:i}=s,l=Ej(s);for(const d of r)o3(t,i,d.style),t.beginPath(),l(t,s,d,{start:a,end:a+n-1})&&t.closePath(),t.stroke()}const Ane=typeof Path2D=="function";function Tne(t,s,a,n){Ane&&!s.options.segment?kne(t,s,a,n):Sne(t,s,a,n)}class qx extends wo{static id="line";static defaults={borderCapStyle:"butt",borderDash:[],borderDashOffset:0,borderJoinStyle:"miter",borderWidth:3,capBezierPoints:!0,cubicInterpolationMode:"default",fill:!1,spanGaps:!1,stepped:!1,tension:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};static descriptors={_scriptable:!0,_indexable:s=>s!=="borderDash"&&s!=="fill"};constructor(s){super(),this.animated=!0,this.options=void 0,this._chart=void 0,this._loop=void 0,this._fullLoop=void 0,this._path=void 0,this._points=void 0,this._segments=void 0,this._decimated=!1,this._pointsUpdated=!1,this._datasetIndex=void 0,s&&Object.assign(this,s)}updateControlPoints(s,a){const n=this.options;if((n.tension||n.cubicInterpolationMode==="monotone")&&!n.stepped&&!this._pointsUpdated){const r=n.spanGaps?this._loop:this._fullLoop;lse(this._points,n,s,r,a),this._pointsUpdated=!0}}set points(s){this._points=s,delete this._segments,delete this._path,this._pointsUpdated=!1}get points(){return this._points}get segments(){return this._segments||(this._segments=Nse(this,this.options.segment))}first(){const s=this.segments,a=this.points;return s.length&&a[s[0].start]}last(){const s=this.segments,a=this.points,n=s.length;return n&&a[s[n-1].end]}interpolate(s,a){const n=this.options,r=s[a],i=this.points,l=GP(this,{property:a,start:r,end:r});if(!l.length)return;const d=[],u=Cne(n);let h,p;for(h=0,p=l.length;h<p;++h){const{start:f,end:y}=l[h],v=i[f],j=i[y];if(v===j){d.push(v);continue}const N=Math.abs((r-v[a])/(j[a]-v[a])),w=u(v,j,N,n.stepped);w[a]=s[a],d.push(w)}return d.length===1?d[0]:d}pathSegment(s,a,n){return Ej(this)(s,this,a,n)}path(s,a,n){const r=this.segments,i=Ej(this);let l=this._loop;a=a||0,n=n||this.points.length-a;for(const d of r)l&=i(s,this,d,{start:a,end:a+n-1});return!!l}draw(s,a,n,r){const i=this.options||{};(this.points||[]).length&&i.borderWidth&&(s.save(),Tne(s,this,n,r),s.restore()),this.animated&&(this._pointsUpdated=!1,this._path=void 0)}}function j4(t,s,a,n){const r=t.options,{[a]:i}=t.getProps([a],n);return Math.abs(s-i)<r.radius+r.hitRadius}class Dne extends wo{static id="point";parsed;skip;stop;static defaults={borderWidth:1,hitRadius:1,hoverBorderWidth:1,hoverRadius:4,pointStyle:"circle",radius:3,rotation:0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(s){super(),this.options=void 0,this.parsed=void 0,this.skip=void 0,this.stop=void 0,s&&Object.assign(this,s)}inRange(s,a,n){const r=this.options,{x:i,y:l}=this.getProps(["x","y"],n);return Math.pow(s-i,2)+Math.pow(a-l,2)<Math.pow(r.hitRadius+r.radius,2)}inXRange(s,a){return j4(this,s,"x",a)}inYRange(s,a){return j4(this,s,"y",a)}getCenterPoint(s){const{x:a,y:n}=this.getProps(["x","y"],s);return{x:a,y:n}}size(s){s=s||this.options||{};let a=s.radius||0;a=Math.max(a,a&&s.hoverRadius||0);const n=a&&s.borderWidth||0;return(a+n)*2}draw(s,a){const n=this.options;this.skip||n.radius<.1||!oo(this,a,this.size(n)/2)||(s.strokeStyle=n.borderColor,s.lineWidth=n.borderWidth,s.fillStyle=n.backgroundColor,Aj(s,n,this.x,this.y))}getRange(){const s=this.options||{};return s.radius+s.hitRadius}}function c3(t,s){const{x:a,y:n,base:r,width:i,height:l}=t.getProps(["x","y","base","width","height"],s);let d,u,h,p,f;return t.horizontal?(f=l/2,d=Math.min(a,r),u=Math.max(a,r),h=n-f,p=n+f):(f=i/2,d=a-f,u=a+f,h=Math.min(n,r),p=Math.max(n,r)),{left:d,top:h,right:u,bottom:p}}function gl(t,s,a,n){return t?0:Va(s,a,n)}function Ene(t,s,a){const n=t.options.borderWidth,r=t.borderSkipped,i=OP(n);return{t:gl(r.top,i.top,0,a),r:gl(r.right,i.right,0,s),b:gl(r.bottom,i.bottom,0,a),l:gl(r.left,i.left,0,s)}}function Rne(t,s,a){const{enableBorderRadius:n}=t.getProps(["enableBorderRadius"]),r=t.options.borderRadius,i=Ec(r),l=Math.min(s,a),d=t.borderSkipped,u=n||Jt(r);return{topLeft:gl(!u||d.top||d.left,i.topLeft,0,l),topRight:gl(!u||d.top||d.right,i.topRight,0,l),bottomLeft:gl(!u||d.bottom||d.left,i.bottomLeft,0,l),bottomRight:gl(!u||d.bottom||d.right,i.bottomRight,0,l)}}function Mne(t){const s=c3(t),a=s.right-s.left,n=s.bottom-s.top,r=Ene(t,a/2,n/2),i=Rne(t,a/2,n/2);return{outer:{x:s.left,y:s.top,w:a,h:n,radius:i},inner:{x:s.left+r.l,y:s.top+r.t,w:a-r.l-r.r,h:n-r.t-r.b,radius:{topLeft:Math.max(0,i.topLeft-Math.max(r.t,r.l)),topRight:Math.max(0,i.topRight-Math.max(r.t,r.r)),bottomLeft:Math.max(0,i.bottomLeft-Math.max(r.b,r.l)),bottomRight:Math.max(0,i.bottomRight-Math.max(r.b,r.r))}}}}function dv(t,s,a,n){const r=s===null,i=a===null,d=t&&!(r&&i)&&c3(t,n);return d&&(r||ro(s,d.left,d.right))&&(i||ro(a,d.top,d.bottom))}function Pne(t){return t.topLeft||t.topRight||t.bottomLeft||t.bottomRight}function One(t,s){t.rect(s.x,s.y,s.w,s.h)}function uv(t,s,a={}){const n=t.x!==a.x?-s:0,r=t.y!==a.y?-s:0,i=(t.x+t.w!==a.x+a.w?s:0)-n,l=(t.y+t.h!==a.y+a.h?s:0)-r;return{x:t.x+n,y:t.y+r,w:t.w+i,h:t.h+l,radius:t.radius}}class Lne extends wo{static id="bar";static defaults={borderSkipped:"start",borderWidth:0,borderRadius:0,inflateAmount:"auto",pointStyle:void 0};static defaultRoutes={backgroundColor:"backgroundColor",borderColor:"borderColor"};constructor(s){super(),this.options=void 0,this.horizontal=void 0,this.base=void 0,this.width=void 0,this.height=void 0,this.inflateAmount=void 0,s&&Object.assign(this,s)}draw(s){const{inflateAmount:a,options:{borderColor:n,backgroundColor:r}}=this,{inner:i,outer:l}=Mne(this),d=Pne(l.radius)?bm:One;s.save(),(l.w!==i.w||l.h!==i.h)&&(s.beginPath(),d(s,uv(l,a,i)),s.clip(),d(s,uv(i,-a,l)),s.fillStyle=n,s.fill("evenodd")),s.beginPath(),d(s,uv(i,a)),s.fillStyle=r,s.fill(),s.restore()}inRange(s,a,n){return dv(this,s,a,n)}inXRange(s,a){return dv(this,s,null,a)}inYRange(s,a){return dv(this,null,s,a)}getCenterPoint(s){const{x:a,y:n,base:r,horizontal:i}=this.getProps(["x","y","base","horizontal"],s);return{x:i?(a+r)/2:a,y:i?n:(n+r)/2}}getRange(s){return s==="x"?this.width/2:this.height/2}}var Bne=Object.freeze({__proto__:null,ArcElement:vne,BarElement:Lne,LineElement:qx,PointElement:Dne});const Rj=["rgb(54, 162, 235)","rgb(255, 99, 132)","rgb(255, 159, 64)","rgb(255, 205, 86)","rgb(75, 192, 192)","rgb(153, 102, 255)","rgb(201, 203, 207)"],w4=Rj.map(t=>t.replace("rgb(","rgba(").replace(")",", 0.5)"));function d3(t){return Rj[t%Rj.length]}function u3(t){return w4[t%w4.length]}function Fne(t,s){return t.borderColor=d3(s),t.backgroundColor=u3(s),++s}function Ine(t,s){return t.backgroundColor=t.data.map(()=>d3(s++)),s}function $ne(t,s){return t.backgroundColor=t.data.map(()=>u3(s++)),s}function zne(t){let s=0;return(a,n)=>{const r=t.getDatasetMeta(n).controller;r instanceof T1?s=Ine(a,s):r instanceof QP?s=$ne(a,s):r&&(s=Fne(a,s))}}function N4(t){let s;for(s in t)if(t[s].borderColor||t[s].backgroundColor)return!0;return!1}function Vne(t){return t&&(t.borderColor||t.backgroundColor)}function Une(){return Zs.borderColor!=="rgba(0,0,0,0.1)"||Zs.backgroundColor!=="rgba(0,0,0,0.1)"}var Hne={id:"colors",defaults:{enabled:!0,forceOverride:!1},beforeLayout(t,s,a){if(!a.enabled)return;const{data:{datasets:n},options:r}=t.config,{elements:i}=r,l=N4(n)||Vne(r)||i&&N4(i)||Une();if(!a.forceOverride&&l)return;const d=zne(t);n.forEach(d)}};function qne(t,s,a,n,r){const i=r.samples||n;if(i>=a)return t.slice(s,s+a);const l=[],d=(a-2)/(i-2);let u=0;const h=s+a-1;let p=s,f,y,v,j,N;for(l[u++]=t[p],f=0;f<i-2;f++){let w=0,_=0,T;const R=Math.floor((f+1)*d)+1+s,E=Math.min(Math.floor((f+2)*d)+1,a)+s,A=E-R;for(T=R;T<E;T++)w+=t[T].x,_+=t[T].y;w/=A,_/=A;const V=Math.floor(f*d)+1+s,k=Math.min(Math.floor((f+1)*d)+1,a)+s,{x:B,y:P}=t[p];for(v=j=-1,T=V;T<k;T++)j=.5*Math.abs((B-w)*(t[T].y-P)-(B-t[T].x)*(_-P)),j>v&&(v=j,y=t[T],N=T);l[u++]=y,p=N}return l[u++]=t[h],l}function Gne(t,s,a,n){let r=0,i=0,l,d,u,h,p,f,y,v,j,N;const w=[],_=s+a-1,T=t[s].x,E=t[_].x-T;for(l=s;l<s+a;++l){d=t[l],u=(d.x-T)/E*n,h=d.y;const A=u|0;if(A===p)h<j?(j=h,f=l):h>N&&(N=h,y=l),r=(i*r+d.x)/++i;else{const V=l-1;if(!Yt(f)&&!Yt(y)){const k=Math.min(f,y),B=Math.max(f,y);k!==v&&k!==V&&w.push({...t[k],x:r}),B!==v&&B!==V&&w.push({...t[B],x:r})}l>0&&V!==v&&w.push(t[V]),w.push(d),p=A,i=0,j=N=h,f=y=v=l}}return w}function h3(t){if(t._decimated){const s=t._data;delete t._decimated,delete t._data,Object.defineProperty(t,"data",{configurable:!0,enumerable:!0,writable:!0,value:s})}}function _4(t){t.data.datasets.forEach(s=>{h3(s)})}function Wne(t,s){const a=s.length;let n=0,r;const{iScale:i}=t,{min:l,max:d,minDefined:u,maxDefined:h}=i.getUserBounds();return u&&(n=Va(io(s,i.axis,l).lo,0,a-1)),h?r=Va(io(s,i.axis,d).hi+1,n,a)-n:r=a-n,{start:n,count:r}}var Yne={id:"decimation",defaults:{algorithm:"min-max",enabled:!1},beforeElementsUpdate:(t,s,a)=>{if(!a.enabled){_4(t);return}const n=t.width;t.data.datasets.forEach((r,i)=>{const{_data:l,indexAxis:d}=r,u=t.getDatasetMeta(i),h=l||r.data;if(Vh([d,t.options.indexAxis])==="y"||!u.controller.supportsDecimation)return;const p=t.scales[u.xAxisID];if(p.type!=="linear"&&p.type!=="time"||t.options.parsing)return;let{start:f,count:y}=Wne(u,h);const v=a.threshold||4*n;if(y<=v){h3(r);return}Yt(l)&&(r._data=h,delete r.data,Object.defineProperty(r,"data",{configurable:!0,enumerable:!0,get:function(){return this._decimated},set:function(N){this._data=N}}));let j;switch(a.algorithm){case"lttb":j=qne(h,f,y,n,a);break;case"min-max":j=Gne(h,f,y,n);break;default:throw new Error(`Unsupported decimation algorithm '${a.algorithm}'`)}r._decimated=j})},destroy(t){_4(t)}};function Kne(t,s,a){const n=t.segments,r=t.points,i=s.points,l=[];for(const d of n){let{start:u,end:h}=d;h=Gx(u,h,r);const p=Mj(a,r[u],r[h],d.loop);if(!s.segments){l.push({source:d,target:p,start:r[u],end:r[h]});continue}const f=GP(s,p);for(const y of f){const v=Mj(a,i[y.start],i[y.end],y.loop),j=qP(d,r,v);for(const N of j)l.push({source:N,target:y,start:{[a]:C4(p,v,"start",Math.max)},end:{[a]:C4(p,v,"end",Math.min)}})}}return l}function Mj(t,s,a,n){if(n)return;let r=s[t],i=a[t];return t==="angle"&&(r=Ja(r),i=Ja(i)),{property:t,start:r,end:i}}function Xne(t,s){const{x:a=null,y:n=null}=t||{},r=s.points,i=[];return s.segments.forEach(({start:l,end:d})=>{d=Gx(l,d,r);const u=r[l],h=r[d];n!==null?(i.push({x:u.x,y:n}),i.push({x:h.x,y:n})):a!==null&&(i.push({x:a,y:u.y}),i.push({x:a,y:h.y}))}),i}function Gx(t,s,a){for(;s>t;s--){const n=a[s];if(!isNaN(n.x)&&!isNaN(n.y))break}return s}function C4(t,s,a,n){return t&&s?n(t[a],s[a]):t?t[a]:s?s[a]:0}function m3(t,s){let a=[],n=!1;return Ws(t)?(n=!0,a=t):a=Xne(t,s),a.length?new qx({points:a,options:{tension:0},_loop:n,_fullLoop:n}):null}function k4(t){return t&&t.fill!==!1}function Qne(t,s,a){let r=t[s].fill;const i=[s];let l;if(!a)return r;for(;r!==!1&&i.indexOf(r)===-1;){if(!la(r))return r;if(l=t[r],!l)return!1;if(l.visible)return r;i.push(r),r=l.fill}return!1}function Zne(t,s,a){const n=sre(t);if(Jt(n))return isNaN(n.value)?!1:n;let r=parseFloat(n);return la(r)&&Math.floor(r)===r?Jne(n[0],s,r,a):["origin","start","end","stack","shape"].indexOf(n)>=0&&n}function Jne(t,s,a,n){return(t==="-"||t==="+")&&(a=s+a),a===s||a<0||a>=n?!1:a}function ere(t,s){let a=null;return t==="start"?a=s.bottom:t==="end"?a=s.top:Jt(t)?a=s.getPixelForValue(t.value):s.getBasePixel&&(a=s.getBasePixel()),a}function tre(t,s,a){let n;return t==="start"?n=a:t==="end"?n=s.options.reverse?s.min:s.max:Jt(t)?n=t.value:n=s.getBaseValue(),n}function sre(t){const s=t.options,a=s.fill;let n=Ft(a&&a.target,a);return n===void 0&&(n=!!s.backgroundColor),n===!1||n===null?!1:n===!0?"origin":n}function are(t){const{scale:s,index:a,line:n}=t,r=[],i=n.segments,l=n.points,d=nre(s,a);d.push(m3({x:null,y:s.bottom},n));for(let u=0;u<i.length;u++){const h=i[u];for(let p=h.start;p<=h.end;p++)rre(r,l[p],d)}return new qx({points:r,options:{}})}function nre(t,s){const a=[],n=t.getMatchingVisibleMetas("line");for(let r=0;r<n.length;r++){const i=n[r];if(i.index===s)break;i.hidden||a.unshift(i.dataset)}return a}function rre(t,s,a){const n=[];for(let r=0;r<a.length;r++){const i=a[r],{first:l,last:d,point:u}=ire(i,s,"x");if(!(!u||l&&d)){if(l)n.unshift(u);else if(t.push(u),!d)break}}t.push(...n)}function ire(t,s,a){const n=t.interpolate(s,a);if(!n)return{};const r=n[a],i=t.segments,l=t.points;let d=!1,u=!1;for(let h=0;h<i.length;h++){const p=i[h],f=l[p.start][a],y=l[p.end][a];if(ro(r,f,y)){d=r===f,u=r===y;break}}return{first:d,last:u,point:n}}class f3{constructor(s){this.x=s.x,this.y=s.y,this.radius=s.radius}pathSegment(s,a,n){const{x:r,y:i,radius:l}=this;return a=a||{start:0,end:Vs},s.arc(r,i,l,a.end,a.start,!0),!n.bounds}interpolate(s){const{x:a,y:n,radius:r}=this,i=s.angle;return{x:a+Math.cos(i)*r,y:n+Math.sin(i)*r,angle:i}}}function ore(t){const{chart:s,fill:a,line:n}=t;if(la(a))return lre(s,a);if(a==="stack")return are(t);if(a==="shape")return!0;const r=cre(t);return r instanceof f3?r:m3(r,n)}function lre(t,s){const a=t.getDatasetMeta(s);return a&&t.isDatasetVisible(s)?a.dataset:null}function cre(t){return(t.scale||{}).getPointPositionForValue?ure(t):dre(t)}function dre(t){const{scale:s={},fill:a}=t,n=ere(a,s);if(la(n)){const r=s.isHorizontal();return{x:r?n:null,y:r?null:n}}return null}function ure(t){const{scale:s,fill:a}=t,n=s.options,r=s.getLabels().length,i=n.reverse?s.max:s.min,l=tre(a,s,i),d=[];if(n.grid.circular){const u=s.getPointPositionForValue(0,i);return new f3({x:u.x,y:u.y,radius:s.getDistanceFromCenterForValue(l)})}for(let u=0;u<r;++u)d.push(s.getPointPositionForValue(u,l));return d}function hv(t,s,a){const n=ore(s),{chart:r,index:i,line:l,scale:d,axis:u}=s,h=l.options,p=h.fill,f=h.backgroundColor,{above:y=f,below:v=f}=p||{},j=r.getDatasetMeta(i),N=WP(r,j);n&&l.points.length&&(zx(t,a),hre(t,{line:l,target:n,above:y,below:v,area:a,scale:d,axis:u,clip:N}),Vx(t))}function hre(t,s){const{line:a,target:n,above:r,below:i,area:l,scale:d,clip:u}=s,h=a._loop?"angle":s.axis;t.save();let p=i;i!==r&&(h==="x"?(S4(t,n,l.top),mv(t,{line:a,target:n,color:r,scale:d,property:h,clip:u}),t.restore(),t.save(),S4(t,n,l.bottom)):h==="y"&&(A4(t,n,l.left),mv(t,{line:a,target:n,color:i,scale:d,property:h,clip:u}),t.restore(),t.save(),A4(t,n,l.right),p=r)),mv(t,{line:a,target:n,color:p,scale:d,property:h,clip:u}),t.restore()}function S4(t,s,a){const{segments:n,points:r}=s;let i=!0,l=!1;t.beginPath();for(const d of n){const{start:u,end:h}=d,p=r[u],f=r[Gx(u,h,r)];i?(t.moveTo(p.x,p.y),i=!1):(t.lineTo(p.x,a),t.lineTo(p.x,p.y)),l=!!s.pathSegment(t,d,{move:l}),l?t.closePath():t.lineTo(f.x,a)}t.lineTo(s.first().x,a),t.closePath(),t.clip()}function A4(t,s,a){const{segments:n,points:r}=s;let i=!0,l=!1;t.beginPath();for(const d of n){const{start:u,end:h}=d,p=r[u],f=r[Gx(u,h,r)];i?(t.moveTo(p.x,p.y),i=!1):(t.lineTo(a,p.y),t.lineTo(p.x,p.y)),l=!!s.pathSegment(t,d,{move:l}),l?t.closePath():t.lineTo(a,f.y)}t.lineTo(a,s.first().y),t.closePath(),t.clip()}function mv(t,s){const{line:a,target:n,property:r,color:i,scale:l,clip:d}=s,u=Kne(a,n,r);for(const{source:h,target:p,start:f,end:y}of u){const{style:{backgroundColor:v=i}={}}=h,j=n!==!0;t.save(),t.fillStyle=v,mre(t,l,d,j&&Mj(r,f,y)),t.beginPath();const N=!!a.pathSegment(t,h);let w;if(j){N?t.closePath():T4(t,n,y,r);const _=!!n.pathSegment(t,p,{move:N,reverse:!0});w=N&&_,w||T4(t,n,f,r)}t.closePath(),t.fill(w?"evenodd":"nonzero"),t.restore()}}function mre(t,s,a,n){const r=s.chart.chartArea,{property:i,start:l,end:d}=n||{};if(i==="x"||i==="y"){let u,h,p,f;i==="x"?(u=l,h=r.top,p=d,f=r.bottom):(u=r.left,h=l,p=r.right,f=d),t.beginPath(),a&&(u=Math.max(u,a.left),p=Math.min(p,a.right),h=Math.max(h,a.top),f=Math.min(f,a.bottom)),t.rect(u,h,p-u,f-h),t.clip()}}function T4(t,s,a,n){const r=s.interpolate(a,n);r&&t.lineTo(r.x,r.y)}var fre={id:"filler",afterDatasetsUpdate(t,s,a){const n=(t.data.datasets||[]).length,r=[];let i,l,d,u;for(l=0;l<n;++l)i=t.getDatasetMeta(l),d=i.dataset,u=null,d&&d.options&&d instanceof qx&&(u={visible:t.isDatasetVisible(l),index:l,fill:Zne(d,l,n),chart:t,axis:i.controller.options.indexAxis,scale:i.vScale,line:d}),i.$filler=u,r.push(u);for(l=0;l<n;++l)u=r[l],!(!u||u.fill===!1)&&(u.fill=Qne(r,l,a.propagate))},beforeDraw(t,s,a){const n=a.drawTime==="beforeDraw",r=t.getSortedVisibleDatasetMetas(),i=t.chartArea;for(let l=r.length-1;l>=0;--l){const d=r[l].$filler;d&&(d.line.updateControlPoints(i,d.axis),n&&d.fill&&hv(t.ctx,d,i))}},beforeDatasetsDraw(t,s,a){if(a.drawTime!=="beforeDatasetsDraw")return;const n=t.getSortedVisibleDatasetMetas();for(let r=n.length-1;r>=0;--r){const i=n[r].$filler;k4(i)&&hv(t.ctx,i,t.chartArea)}},beforeDatasetDraw(t,s,a){const n=s.meta.$filler;!k4(n)||a.drawTime!=="beforeDatasetDraw"||hv(t.ctx,n,t.chartArea)},defaults:{propagate:!0,drawTime:"beforeDatasetDraw"}};const D4=(t,s)=>{let{boxHeight:a=s,boxWidth:n=s}=t;return t.usePointStyle&&(a=Math.min(a,s),n=t.pointStyleWidth||Math.min(n,s)),{boxWidth:n,boxHeight:a,itemHeight:Math.max(s,a)}},pre=(t,s)=>t!==null&&s!==null&&t.datasetIndex===s.datasetIndex&&t.index===s.index;class E4 extends wo{constructor(s){super(),this._added=!1,this.legendHitBoxes=[],this._hoveredItem=null,this.doughnutMode=!1,this.chart=s.chart,this.options=s.options,this.ctx=s.ctx,this.legendItems=void 0,this.columnSizes=void 0,this.lineWidths=void 0,this.maxHeight=void 0,this.maxWidth=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.height=void 0,this.width=void 0,this._margins=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(s,a,n){this.maxWidth=s,this.maxHeight=a,this._margins=n,this.setDimensions(),this.buildLabels(),this.fit()}setDimensions(){this.isHorizontal()?(this.width=this.maxWidth,this.left=this._margins.left,this.right=this.width):(this.height=this.maxHeight,this.top=this._margins.top,this.bottom=this.height)}buildLabels(){const s=this.options.labels||{};let a=Fs(s.generateLabels,[this.chart],this)||[];s.filter&&(a=a.filter(n=>s.filter(n,this.chart.data))),s.sort&&(a=a.sort((n,r)=>s.sort(n,r,this.chart.data))),this.options.reverse&&a.reverse(),this.legendItems=a}fit(){const{options:s,ctx:a}=this;if(!s.display){this.width=this.height=0;return}const n=s.labels,r=Oa(n.font),i=r.size,l=this._computeTitleHeight(),{boxWidth:d,itemHeight:u}=D4(n,i);let h,p;a.font=r.string,this.isHorizontal()?(h=this.maxWidth,p=this._fitRows(l,i,d,u)+10):(p=this.maxHeight,h=this._fitCols(l,r,d,u)+10),this.width=Math.min(h,s.maxWidth||this.maxWidth),this.height=Math.min(p,s.maxHeight||this.maxHeight)}_fitRows(s,a,n,r){const{ctx:i,maxWidth:l,options:{labels:{padding:d}}}=this,u=this.legendHitBoxes=[],h=this.lineWidths=[0],p=r+d;let f=s;i.textAlign="left",i.textBaseline="middle";let y=-1,v=-p;return this.legendItems.forEach((j,N)=>{const w=n+a/2+i.measureText(j.text).width;(N===0||h[h.length-1]+w+2*d>l)&&(f+=p,h[h.length-(N>0?0:1)]=0,v+=p,y++),u[N]={left:0,top:v,row:y,width:w,height:r},h[h.length-1]+=w+d}),f}_fitCols(s,a,n,r){const{ctx:i,maxHeight:l,options:{labels:{padding:d}}}=this,u=this.legendHitBoxes=[],h=this.columnSizes=[],p=l-s;let f=d,y=0,v=0,j=0,N=0;return this.legendItems.forEach((w,_)=>{const{itemWidth:T,itemHeight:R}=gre(n,a,i,w,r);_>0&&v+R+2*d>p&&(f+=y+d,h.push({width:y,height:v}),j+=y+d,N++,y=v=0),u[_]={left:j,top:v,col:N,width:T,height:R},y=Math.max(y,T),v+=R+d}),f+=y,h.push({width:y,height:v}),f}adjustHitBoxes(){if(!this.options.display)return;const s=this._computeTitleHeight(),{legendHitBoxes:a,options:{align:n,labels:{padding:r},rtl:i}}=this,l=Zd(i,this.left,this.width);if(this.isHorizontal()){let d=0,u=Za(n,this.left+r,this.right-this.lineWidths[d]);for(const h of a)d!==h.row&&(d=h.row,u=Za(n,this.left+r,this.right-this.lineWidths[d])),h.top+=this.top+s+r,h.left=l.leftForLtr(l.x(u),h.width),u+=h.width+r}else{let d=0,u=Za(n,this.top+s+r,this.bottom-this.columnSizes[d].height);for(const h of a)h.col!==d&&(d=h.col,u=Za(n,this.top+s+r,this.bottom-this.columnSizes[d].height)),h.top=u,h.left+=this.left+r,h.left=l.leftForLtr(l.x(h.left),h.width),u+=h.height+r}}isHorizontal(){return this.options.position==="top"||this.options.position==="bottom"}draw(){if(this.options.display){const s=this.ctx;zx(s,this),this._draw(),Vx(s)}}_draw(){const{options:s,columnSizes:a,lineWidths:n,ctx:r}=this,{align:i,labels:l}=s,d=Zs.color,u=Zd(s.rtl,this.left,this.width),h=Oa(l.font),{padding:p}=l,f=h.size,y=f/2;let v;this.drawTitle(),r.textAlign=u.textAlign("left"),r.textBaseline="middle",r.lineWidth=.5,r.font=h.string;const{boxWidth:j,boxHeight:N,itemHeight:w}=D4(l,f),_=function(V,k,B){if(isNaN(j)||j<=0||isNaN(N)||N<0)return;r.save();const P=Ft(B.lineWidth,1);if(r.fillStyle=Ft(B.fillStyle,d),r.lineCap=Ft(B.lineCap,"butt"),r.lineDashOffset=Ft(B.lineDashOffset,0),r.lineJoin=Ft(B.lineJoin,"miter"),r.lineWidth=P,r.strokeStyle=Ft(B.strokeStyle,d),r.setLineDash(Ft(B.lineDash,[])),l.usePointStyle){const H={radius:N*Math.SQRT2/2,pointStyle:B.pointStyle,rotation:B.rotation,borderWidth:P},D=u.xPlus(V,j/2),K=k+y;PP(r,H,D,K,l.pointStyleWidth&&j)}else{const H=k+Math.max((f-N)/2,0),D=u.leftForLtr(V,j),K=Ec(B.borderRadius);r.beginPath(),Object.values(K).some(X=>X!==0)?bm(r,{x:D,y:H,w:j,h:N,radius:K}):r.rect(D,H,j,N),r.fill(),P!==0&&r.stroke()}r.restore()},T=function(V,k,B){Uc(r,B.text,V,k+w/2,h,{strikethrough:B.hidden,textAlign:u.textAlign(B.textAlign)})},R=this.isHorizontal(),E=this._computeTitleHeight();R?v={x:Za(i,this.left+p,this.right-n[0]),y:this.top+p+E,line:0}:v={x:this.left+p,y:Za(i,this.top+E+p,this.bottom-a[0].height),line:0},VP(this.ctx,s.textDirection);const A=w+p;this.legendItems.forEach((V,k)=>{r.strokeStyle=V.fontColor,r.fillStyle=V.fontColor;const B=r.measureText(V.text).width,P=u.textAlign(V.textAlign||(V.textAlign=l.textAlign)),H=j+y+B;let D=v.x,K=v.y;u.setWidth(this.width),R?k>0&&D+H+p>this.right&&(K=v.y+=A,v.line++,D=v.x=Za(i,this.left+p,this.right-n[v.line])):k>0&&K+A>this.bottom&&(D=v.x=D+a[v.line].width+p,v.line++,K=v.y=Za(i,this.top+E+p,this.bottom-a[v.line].height));const X=u.x(D);if(_(X,K,V),D=kte(P,D+j+y,R?D+H:this.right,s.rtl),T(u.x(D),K,V),R)v.x+=H+p;else if(typeof V.text!="string"){const ne=h.lineHeight;v.y+=p3(V,ne)+p}else v.y+=A}),UP(this.ctx,s.textDirection)}drawTitle(){const s=this.options,a=s.title,n=Oa(a.font),r=ln(a.padding);if(!a.display)return;const i=Zd(s.rtl,this.left,this.width),l=this.ctx,d=a.position,u=n.size/2,h=r.top+u;let p,f=this.left,y=this.width;if(this.isHorizontal())y=Math.max(...this.lineWidths),p=this.top+h,f=Za(s.align,f,this.right-y);else{const j=this.columnSizes.reduce((N,w)=>Math.max(N,w.height),0);p=h+Za(s.align,this.top,this.bottom-j-s.labels.padding-this._computeTitleHeight())}const v=Za(d,f,f+y);l.textAlign=i.textAlign(j1(d)),l.textBaseline="middle",l.strokeStyle=a.color,l.fillStyle=a.color,l.font=n.string,Uc(l,a.text,v,p,n)}_computeTitleHeight(){const s=this.options.title,a=Oa(s.font),n=ln(s.padding);return s.display?a.lineHeight+n.height:0}_getLegendItemAt(s,a){let n,r,i;if(ro(s,this.left,this.right)&&ro(a,this.top,this.bottom)){for(i=this.legendHitBoxes,n=0;n<i.length;++n)if(r=i[n],ro(s,r.left,r.left+r.width)&&ro(a,r.top,r.top+r.height))return this.legendItems[n]}return null}handleEvent(s){const a=this.options;if(!bre(s.type,a))return;const n=this._getLegendItemAt(s.x,s.y);if(s.type==="mousemove"||s.type==="mouseout"){const r=this._hoveredItem,i=pre(r,n);r&&!i&&Fs(a.onLeave,[s,r,this],this),this._hoveredItem=n,n&&!i&&Fs(a.onHover,[s,n,this],this)}else n&&Fs(a.onClick,[s,n,this],this)}}function gre(t,s,a,n,r){const i=xre(n,t,s,a),l=yre(r,n,s.lineHeight);return{itemWidth:i,itemHeight:l}}function xre(t,s,a,n){let r=t.text;return r&&typeof r!="string"&&(r=r.reduce((i,l)=>i.length>l.length?i:l)),s+a.size/2+n.measureText(r).width}function yre(t,s,a){let n=t;return typeof s.text!="string"&&(n=p3(s,a)),n}function p3(t,s){const a=t.text?t.text.length:0;return s*a}function bre(t,s){return!!((t==="mousemove"||t==="mouseout")&&(s.onHover||s.onLeave)||s.onClick&&(t==="click"||t==="mouseup"))}var vre={id:"legend",_element:E4,start(t,s,a){const n=t.legend=new E4({ctx:t.ctx,options:a,chart:t});nn.configure(t,n,a),nn.addBox(t,n)},stop(t){nn.removeBox(t,t.legend),delete t.legend},beforeUpdate(t,s,a){const n=t.legend;nn.configure(t,n,a),n.options=a},afterUpdate(t){const s=t.legend;s.buildLabels(),s.adjustHitBoxes()},afterEvent(t,s){s.replay||t.legend.handleEvent(s.event)},defaults:{display:!0,position:"top",align:"center",fullSize:!0,reverse:!1,weight:1e3,onClick(t,s,a){const n=s.datasetIndex,r=a.chart;r.isDatasetVisible(n)?(r.hide(n),s.hidden=!0):(r.show(n),s.hidden=!1)},onHover:null,onLeave:null,labels:{color:t=>t.chart.options.color,boxWidth:40,padding:10,generateLabels(t){const s=t.data.datasets,{labels:{usePointStyle:a,pointStyle:n,textAlign:r,color:i,useBorderRadius:l,borderRadius:d}}=t.legend.options;return t._getSortedDatasetMetas().map(u=>{const h=u.controller.getStyle(a?0:void 0),p=ln(h.borderWidth);return{text:s[u.index].label,fillStyle:h.backgroundColor,fontColor:i,hidden:!u.visible,lineCap:h.borderCapStyle,lineDash:h.borderDash,lineDashOffset:h.borderDashOffset,lineJoin:h.borderJoinStyle,lineWidth:(p.width+p.height)/4,strokeStyle:h.borderColor,pointStyle:n||h.pointStyle,rotation:h.rotation,textAlign:r||h.textAlign,borderRadius:l&&(d||h.borderRadius),datasetIndex:u.index}},this)}},title:{color:t=>t.chart.options.color,display:!1,position:"center",text:""}},descriptors:{_scriptable:t=>!t.startsWith("on"),labels:{_scriptable:t=>!["generateLabels","filter","sort"].includes(t)}}};class E1 extends wo{constructor(s){super(),this.chart=s.chart,this.options=s.options,this.ctx=s.ctx,this._padding=void 0,this.top=void 0,this.bottom=void 0,this.left=void 0,this.right=void 0,this.width=void 0,this.height=void 0,this.position=void 0,this.weight=void 0,this.fullSize=void 0}update(s,a){const n=this.options;if(this.left=0,this.top=0,!n.display){this.width=this.height=this.right=this.bottom=0;return}this.width=this.right=s,this.height=this.bottom=a;const r=Ws(n.text)?n.text.length:1;this._padding=ln(n.padding);const i=r*Oa(n.font).lineHeight+this._padding.height;this.isHorizontal()?this.height=i:this.width=i}isHorizontal(){const s=this.options.position;return s==="top"||s==="bottom"}_drawArgs(s){const{top:a,left:n,bottom:r,right:i,options:l}=this,d=l.align;let u=0,h,p,f;return this.isHorizontal()?(p=Za(d,n,i),f=a+s,h=i-n):(l.position==="left"?(p=n+s,f=Za(d,r,a),u=gs*-.5):(p=i-s,f=Za(d,a,r),u=gs*.5),h=r-a),{titleX:p,titleY:f,maxWidth:h,rotation:u}}draw(){const s=this.ctx,a=this.options;if(!a.display)return;const n=Oa(a.font),i=n.lineHeight/2+this._padding.top,{titleX:l,titleY:d,maxWidth:u,rotation:h}=this._drawArgs(i);Uc(s,a.text,0,0,n,{color:a.color,maxWidth:u,rotation:h,textAlign:j1(a.align),textBaseline:"middle",translation:[l,d]})}}function jre(t,s){const a=new E1({ctx:t.ctx,options:s,chart:t});nn.configure(t,a,s),nn.addBox(t,a),t.titleBlock=a}var wre={id:"title",_element:E1,start(t,s,a){jre(t,a)},stop(t){const s=t.titleBlock;nn.removeBox(t,s),delete t.titleBlock},beforeUpdate(t,s,a){const n=t.titleBlock;nn.configure(t,n,a),n.options=a},defaults:{align:"center",display:!1,font:{weight:"bold"},fullSize:!0,padding:10,position:"top",text:"",weight:2e3},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Hp=new WeakMap;var Nre={id:"subtitle",start(t,s,a){const n=new E1({ctx:t.ctx,options:a,chart:t});nn.configure(t,n,a),nn.addBox(t,n),Hp.set(t,n)},stop(t){nn.removeBox(t,Hp.get(t)),Hp.delete(t)},beforeUpdate(t,s,a){const n=Hp.get(t);nn.configure(t,n,a),n.options=a},defaults:{align:"center",display:!1,font:{weight:"normal"},fullSize:!0,padding:0,position:"top",text:"",weight:1500},defaultRoutes:{color:"color"},descriptors:{_scriptable:!0,_indexable:!1}};const Hh={average(t){if(!t.length)return!1;let s,a,n=new Set,r=0,i=0;for(s=0,a=t.length;s<a;++s){const d=t[s].element;if(d&&d.hasValue()){const u=d.tooltipPosition();n.add(u.x),r+=u.y,++i}}return i===0||n.size===0?!1:{x:[...n].reduce((d,u)=>d+u)/n.size,y:r/i}},nearest(t,s){if(!t.length)return!1;let a=s.x,n=s.y,r=Number.POSITIVE_INFINITY,i,l,d;for(i=0,l=t.length;i<l;++i){const u=t[i].element;if(u&&u.hasValue()){const h=u.getCenterPoint(),p=kj(s,h);p<r&&(r=p,d=u)}}if(d){const u=d.tooltipPosition();a=u.x,n=u.y}return{x:a,y:n}}};function hi(t,s){return s&&(Ws(s)?Array.prototype.push.apply(t,s):t.push(s)),t}function so(t){return(typeof t=="string"||t instanceof String)&&t.indexOf(`
`)>-1?t.split(`
`):t}function _re(t,s){const{element:a,datasetIndex:n,index:r}=s,i=t.getDatasetMeta(n).controller,{label:l,value:d}=i.getLabelAndValue(r);return{chart:t,label:l,parsed:i.getParsed(r),raw:t.data.datasets[n].data[r],formattedValue:d,dataset:i.getDataset(),dataIndex:r,datasetIndex:n,element:a}}function R4(t,s){const a=t.chart.ctx,{body:n,footer:r,title:i}=t,{boxWidth:l,boxHeight:d}=s,u=Oa(s.bodyFont),h=Oa(s.titleFont),p=Oa(s.footerFont),f=i.length,y=r.length,v=n.length,j=ln(s.padding);let N=j.height,w=0,_=n.reduce((E,A)=>E+A.before.length+A.lines.length+A.after.length,0);if(_+=t.beforeBody.length+t.afterBody.length,f&&(N+=f*h.lineHeight+(f-1)*s.titleSpacing+s.titleMarginBottom),_){const E=s.displayColors?Math.max(d,u.lineHeight):u.lineHeight;N+=v*E+(_-v)*u.lineHeight+(_-1)*s.bodySpacing}y&&(N+=s.footerMarginTop+y*p.lineHeight+(y-1)*s.footerSpacing);let T=0;const R=function(E){w=Math.max(w,a.measureText(E).width+T)};return a.save(),a.font=h.string,Cs(t.title,R),a.font=u.string,Cs(t.beforeBody.concat(t.afterBody),R),T=s.displayColors?l+2+s.boxPadding:0,Cs(n,E=>{Cs(E.before,R),Cs(E.lines,R),Cs(E.after,R)}),T=0,a.font=p.string,Cs(t.footer,R),a.restore(),w+=j.width,{width:w,height:N}}function Cre(t,s){const{y:a,height:n}=s;return a<n/2?"top":a>t.height-n/2?"bottom":"center"}function kre(t,s,a,n){const{x:r,width:i}=n,l=a.caretSize+a.caretPadding;if(t==="left"&&r+i+l>s.width||t==="right"&&r-i-l<0)return!0}function Sre(t,s,a,n){const{x:r,width:i}=a,{width:l,chartArea:{left:d,right:u}}=t;let h="center";return n==="center"?h=r<=(d+u)/2?"left":"right":r<=i/2?h="left":r>=l-i/2&&(h="right"),kre(h,t,s,a)&&(h="center"),h}function M4(t,s,a){const n=a.yAlign||s.yAlign||Cre(t,a);return{xAlign:a.xAlign||s.xAlign||Sre(t,s,a,n),yAlign:n}}function Are(t,s){let{x:a,width:n}=t;return s==="right"?a-=n:s==="center"&&(a-=n/2),a}function Tre(t,s,a){let{y:n,height:r}=t;return s==="top"?n+=a:s==="bottom"?n-=r+a:n-=r/2,n}function P4(t,s,a,n){const{caretSize:r,caretPadding:i,cornerRadius:l}=t,{xAlign:d,yAlign:u}=a,h=r+i,{topLeft:p,topRight:f,bottomLeft:y,bottomRight:v}=Ec(l);let j=Are(s,d);const N=Tre(s,u,h);return u==="center"?d==="left"?j+=h:d==="right"&&(j-=h):d==="left"?j-=Math.max(p,y)+r:d==="right"&&(j+=Math.max(f,v)+r),{x:Va(j,0,n.width-s.width),y:Va(N,0,n.height-s.height)}}function qp(t,s,a){const n=ln(a.padding);return s==="center"?t.x+t.width/2:s==="right"?t.x+t.width-n.right:t.x+n.left}function O4(t){return hi([],so(t))}function Dre(t,s,a){return Ml(t,{tooltip:s,tooltipItems:a,type:"tooltip"})}function L4(t,s){const a=s&&s.dataset&&s.dataset.tooltip&&s.dataset.tooltip.callbacks;return a?t.override(a):t}const g3={beforeTitle:eo,title(t){if(t.length>0){const s=t[0],a=s.chart.data.labels,n=a?a.length:0;if(this&&this.options&&this.options.mode==="dataset")return s.dataset.label||"";if(s.label)return s.label;if(n>0&&s.dataIndex<n)return a[s.dataIndex]}return""},afterTitle:eo,beforeBody:eo,beforeLabel:eo,label(t){if(this&&this.options&&this.options.mode==="dataset")return t.label+": "+t.formattedValue||t.formattedValue;let s=t.dataset.label||"";s&&(s+=": ");const a=t.formattedValue;return Yt(a)||(s+=a),s},labelColor(t){const a=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{borderColor:a.borderColor,backgroundColor:a.backgroundColor,borderWidth:a.borderWidth,borderDash:a.borderDash,borderDashOffset:a.borderDashOffset,borderRadius:0}},labelTextColor(){return this.options.bodyColor},labelPointStyle(t){const a=t.chart.getDatasetMeta(t.datasetIndex).controller.getStyle(t.dataIndex);return{pointStyle:a.pointStyle,rotation:a.rotation}},afterLabel:eo,afterBody:eo,beforeFooter:eo,footer:eo,afterFooter:eo};function Tn(t,s,a,n){const r=t[s].call(a,n);return typeof r>"u"?g3[s].call(a,n):r}class B4 extends wo{static positioners=Hh;constructor(s){super(),this.opacity=0,this._active=[],this._eventPosition=void 0,this._size=void 0,this._cachedAnimations=void 0,this._tooltipItems=[],this.$animations=void 0,this.$context=void 0,this.chart=s.chart,this.options=s.options,this.dataPoints=void 0,this.title=void 0,this.beforeBody=void 0,this.body=void 0,this.afterBody=void 0,this.footer=void 0,this.xAlign=void 0,this.yAlign=void 0,this.x=void 0,this.y=void 0,this.height=void 0,this.width=void 0,this.caretX=void 0,this.caretY=void 0,this.labelColors=void 0,this.labelPointStyles=void 0,this.labelTextColors=void 0}initialize(s){this.options=s,this._cachedAnimations=void 0,this.$context=void 0}_resolveAnimations(){const s=this._cachedAnimations;if(s)return s;const a=this.chart,n=this.options.setContext(this.getContext()),r=n.enabled&&a.options.animation&&n.animations,i=new YP(this.chart,r);return r._cacheable&&(this._cachedAnimations=Object.freeze(i)),i}getContext(){return this.$context||(this.$context=Dre(this.chart.getContext(),this,this._tooltipItems))}getTitle(s,a){const{callbacks:n}=a,r=Tn(n,"beforeTitle",this,s),i=Tn(n,"title",this,s),l=Tn(n,"afterTitle",this,s);let d=[];return d=hi(d,so(r)),d=hi(d,so(i)),d=hi(d,so(l)),d}getBeforeBody(s,a){return O4(Tn(a.callbacks,"beforeBody",this,s))}getBody(s,a){const{callbacks:n}=a,r=[];return Cs(s,i=>{const l={before:[],lines:[],after:[]},d=L4(n,i);hi(l.before,so(Tn(d,"beforeLabel",this,i))),hi(l.lines,Tn(d,"label",this,i)),hi(l.after,so(Tn(d,"afterLabel",this,i))),r.push(l)}),r}getAfterBody(s,a){return O4(Tn(a.callbacks,"afterBody",this,s))}getFooter(s,a){const{callbacks:n}=a,r=Tn(n,"beforeFooter",this,s),i=Tn(n,"footer",this,s),l=Tn(n,"afterFooter",this,s);let d=[];return d=hi(d,so(r)),d=hi(d,so(i)),d=hi(d,so(l)),d}_createItems(s){const a=this._active,n=this.chart.data,r=[],i=[],l=[];let d=[],u,h;for(u=0,h=a.length;u<h;++u)d.push(_re(this.chart,a[u]));return s.filter&&(d=d.filter((p,f,y)=>s.filter(p,f,y,n))),s.itemSort&&(d=d.sort((p,f)=>s.itemSort(p,f,n))),Cs(d,p=>{const f=L4(s.callbacks,p);r.push(Tn(f,"labelColor",this,p)),i.push(Tn(f,"labelPointStyle",this,p)),l.push(Tn(f,"labelTextColor",this,p))}),this.labelColors=r,this.labelPointStyles=i,this.labelTextColors=l,this.dataPoints=d,d}update(s,a){const n=this.options.setContext(this.getContext()),r=this._active;let i,l=[];if(!r.length)this.opacity!==0&&(i={opacity:0});else{const d=Hh[n.position].call(this,r,this._eventPosition);l=this._createItems(n),this.title=this.getTitle(l,n),this.beforeBody=this.getBeforeBody(l,n),this.body=this.getBody(l,n),this.afterBody=this.getAfterBody(l,n),this.footer=this.getFooter(l,n);const u=this._size=R4(this,n),h=Object.assign({},d,u),p=M4(this.chart,n,h),f=P4(n,h,p,this.chart);this.xAlign=p.xAlign,this.yAlign=p.yAlign,i={opacity:1,x:f.x,y:f.y,width:u.width,height:u.height,caretX:d.x,caretY:d.y}}this._tooltipItems=l,this.$context=void 0,i&&this._resolveAnimations().update(this,i),s&&n.external&&n.external.call(this,{chart:this.chart,tooltip:this,replay:a})}drawCaret(s,a,n,r){const i=this.getCaretPosition(s,n,r);a.lineTo(i.x1,i.y1),a.lineTo(i.x2,i.y2),a.lineTo(i.x3,i.y3)}getCaretPosition(s,a,n){const{xAlign:r,yAlign:i}=this,{caretSize:l,cornerRadius:d}=n,{topLeft:u,topRight:h,bottomLeft:p,bottomRight:f}=Ec(d),{x:y,y:v}=s,{width:j,height:N}=a;let w,_,T,R,E,A;return i==="center"?(E=v+N/2,r==="left"?(w=y,_=w-l,R=E+l,A=E-l):(w=y+j,_=w+l,R=E-l,A=E+l),T=w):(r==="left"?_=y+Math.max(u,p)+l:r==="right"?_=y+j-Math.max(h,f)-l:_=this.caretX,i==="top"?(R=v,E=R-l,w=_-l,T=_+l):(R=v+N,E=R+l,w=_+l,T=_-l),A=R),{x1:w,x2:_,x3:T,y1:R,y2:E,y3:A}}drawTitle(s,a,n){const r=this.title,i=r.length;let l,d,u;if(i){const h=Zd(n.rtl,this.x,this.width);for(s.x=qp(this,n.titleAlign,n),a.textAlign=h.textAlign(n.titleAlign),a.textBaseline="middle",l=Oa(n.titleFont),d=n.titleSpacing,a.fillStyle=n.titleColor,a.font=l.string,u=0;u<i;++u)a.fillText(r[u],h.x(s.x),s.y+l.lineHeight/2),s.y+=l.lineHeight+d,u+1===i&&(s.y+=n.titleMarginBottom-d)}}_drawColorBox(s,a,n,r,i){const l=this.labelColors[n],d=this.labelPointStyles[n],{boxHeight:u,boxWidth:h}=i,p=Oa(i.bodyFont),f=qp(this,"left",i),y=r.x(f),v=u<p.lineHeight?(p.lineHeight-u)/2:0,j=a.y+v;if(i.usePointStyle){const N={radius:Math.min(h,u)/2,pointStyle:d.pointStyle,rotation:d.rotation,borderWidth:1},w=r.leftForLtr(y,h)+h/2,_=j+u/2;s.strokeStyle=i.multiKeyBackground,s.fillStyle=i.multiKeyBackground,Aj(s,N,w,_),s.strokeStyle=l.borderColor,s.fillStyle=l.backgroundColor,Aj(s,N,w,_)}else{s.lineWidth=Jt(l.borderWidth)?Math.max(...Object.values(l.borderWidth)):l.borderWidth||1,s.strokeStyle=l.borderColor,s.setLineDash(l.borderDash||[]),s.lineDashOffset=l.borderDashOffset||0;const N=r.leftForLtr(y,h),w=r.leftForLtr(r.xPlus(y,1),h-2),_=Ec(l.borderRadius);Object.values(_).some(T=>T!==0)?(s.beginPath(),s.fillStyle=i.multiKeyBackground,bm(s,{x:N,y:j,w:h,h:u,radius:_}),s.fill(),s.stroke(),s.fillStyle=l.backgroundColor,s.beginPath(),bm(s,{x:w,y:j+1,w:h-2,h:u-2,radius:_}),s.fill()):(s.fillStyle=i.multiKeyBackground,s.fillRect(N,j,h,u),s.strokeRect(N,j,h,u),s.fillStyle=l.backgroundColor,s.fillRect(w,j+1,h-2,u-2))}s.fillStyle=this.labelTextColors[n]}drawBody(s,a,n){const{body:r}=this,{bodySpacing:i,bodyAlign:l,displayColors:d,boxHeight:u,boxWidth:h,boxPadding:p}=n,f=Oa(n.bodyFont);let y=f.lineHeight,v=0;const j=Zd(n.rtl,this.x,this.width),N=function(B){a.fillText(B,j.x(s.x+v),s.y+y/2),s.y+=y+i},w=j.textAlign(l);let _,T,R,E,A,V,k;for(a.textAlign=l,a.textBaseline="middle",a.font=f.string,s.x=qp(this,w,n),a.fillStyle=n.bodyColor,Cs(this.beforeBody,N),v=d&&w!=="right"?l==="center"?h/2+p:h+2+p:0,E=0,V=r.length;E<V;++E){for(_=r[E],T=this.labelTextColors[E],a.fillStyle=T,Cs(_.before,N),R=_.lines,d&&R.length&&(this._drawColorBox(a,s,E,j,n),y=Math.max(f.lineHeight,u)),A=0,k=R.length;A<k;++A)N(R[A]),y=f.lineHeight;Cs(_.after,N)}v=0,y=f.lineHeight,Cs(this.afterBody,N),s.y-=i}drawFooter(s,a,n){const r=this.footer,i=r.length;let l,d;if(i){const u=Zd(n.rtl,this.x,this.width);for(s.x=qp(this,n.footerAlign,n),s.y+=n.footerMarginTop,a.textAlign=u.textAlign(n.footerAlign),a.textBaseline="middle",l=Oa(n.footerFont),a.fillStyle=n.footerColor,a.font=l.string,d=0;d<i;++d)a.fillText(r[d],u.x(s.x),s.y+l.lineHeight/2),s.y+=l.lineHeight+n.footerSpacing}}drawBackground(s,a,n,r){const{xAlign:i,yAlign:l}=this,{x:d,y:u}=s,{width:h,height:p}=n,{topLeft:f,topRight:y,bottomLeft:v,bottomRight:j}=Ec(r.cornerRadius);a.fillStyle=r.backgroundColor,a.strokeStyle=r.borderColor,a.lineWidth=r.borderWidth,a.beginPath(),a.moveTo(d+f,u),l==="top"&&this.drawCaret(s,a,n,r),a.lineTo(d+h-y,u),a.quadraticCurveTo(d+h,u,d+h,u+y),l==="center"&&i==="right"&&this.drawCaret(s,a,n,r),a.lineTo(d+h,u+p-j),a.quadraticCurveTo(d+h,u+p,d+h-j,u+p),l==="bottom"&&this.drawCaret(s,a,n,r),a.lineTo(d+v,u+p),a.quadraticCurveTo(d,u+p,d,u+p-v),l==="center"&&i==="left"&&this.drawCaret(s,a,n,r),a.lineTo(d,u+f),a.quadraticCurveTo(d,u,d+f,u),a.closePath(),a.fill(),r.borderWidth>0&&a.stroke()}_updateAnimationTarget(s){const a=this.chart,n=this.$animations,r=n&&n.x,i=n&&n.y;if(r||i){const l=Hh[s.position].call(this,this._active,this._eventPosition);if(!l)return;const d=this._size=R4(this,s),u=Object.assign({},l,this._size),h=M4(a,s,u),p=P4(s,u,h,a);(r._to!==p.x||i._to!==p.y)&&(this.xAlign=h.xAlign,this.yAlign=h.yAlign,this.width=d.width,this.height=d.height,this.caretX=l.x,this.caretY=l.y,this._resolveAnimations().update(this,p))}}_willRender(){return!!this.opacity}draw(s){const a=this.options.setContext(this.getContext());let n=this.opacity;if(!n)return;this._updateAnimationTarget(a);const r={width:this.width,height:this.height},i={x:this.x,y:this.y};n=Math.abs(n)<.001?0:n;const l=ln(a.padding),d=this.title.length||this.beforeBody.length||this.body.length||this.afterBody.length||this.footer.length;a.enabled&&d&&(s.save(),s.globalAlpha=n,this.drawBackground(i,s,r,a),VP(s,a.textDirection),i.y+=l.top,this.drawTitle(i,s,a),this.drawBody(i,s,a),this.drawFooter(i,s,a),UP(s,a.textDirection),s.restore())}getActiveElements(){return this._active||[]}setActiveElements(s,a){const n=this._active,r=s.map(({datasetIndex:d,index:u})=>{const h=this.chart.getDatasetMeta(d);if(!h)throw new Error("Cannot find a dataset at index "+d);return{datasetIndex:d,element:h.data[u],index:u}}),i=!Wg(n,r),l=this._positionChanged(r,a);(i||l)&&(this._active=r,this._eventPosition=a,this._ignoreReplayEvents=!0,this.update(!0))}handleEvent(s,a,n=!0){if(a&&this._ignoreReplayEvents)return!1;this._ignoreReplayEvents=!1;const r=this.options,i=this._active||[],l=this._getActiveElements(s,i,a,n),d=this._positionChanged(l,s),u=a||!Wg(l,i)||d;return u&&(this._active=l,(r.enabled||r.external)&&(this._eventPosition={x:s.x,y:s.y},this.update(!0,a))),u}_getActiveElements(s,a,n,r){const i=this.options;if(s.type==="mouseout")return[];if(!r)return a.filter(d=>this.chart.data.datasets[d.datasetIndex]&&this.chart.getDatasetMeta(d.datasetIndex).controller.getParsed(d.index)!==void 0);const l=this.chart.getElementsAtEventForMode(s,i.mode,i,n);return i.reverse&&l.reverse(),l}_positionChanged(s,a){const{caretX:n,caretY:r,options:i}=this,l=Hh[i.position].call(this,s,a);return l!==!1&&(n!==l.x||r!==l.y)}}var Ere={id:"tooltip",_element:B4,positioners:Hh,afterInit(t,s,a){a&&(t.tooltip=new B4({chart:t,options:a}))},beforeUpdate(t,s,a){t.tooltip&&t.tooltip.initialize(a)},reset(t,s,a){t.tooltip&&t.tooltip.initialize(a)},afterDraw(t){const s=t.tooltip;if(s&&s._willRender()){const a={tooltip:s};if(t.notifyPlugins("beforeTooltipDraw",{...a,cancelable:!0})===!1)return;s.draw(t.ctx),t.notifyPlugins("afterTooltipDraw",a)}},afterEvent(t,s){if(t.tooltip){const a=s.replay;t.tooltip.handleEvent(s.event,a,s.inChartArea)&&(s.changed=!0)}},defaults:{enabled:!0,external:null,position:"average",backgroundColor:"rgba(0,0,0,0.8)",titleColor:"#fff",titleFont:{weight:"bold"},titleSpacing:2,titleMarginBottom:6,titleAlign:"left",bodyColor:"#fff",bodySpacing:2,bodyFont:{},bodyAlign:"left",footerColor:"#fff",footerSpacing:2,footerMarginTop:6,footerFont:{weight:"bold"},footerAlign:"left",padding:6,caretPadding:2,caretSize:5,cornerRadius:6,boxHeight:(t,s)=>s.bodyFont.size,boxWidth:(t,s)=>s.bodyFont.size,multiKeyBackground:"#fff",displayColors:!0,boxPadding:0,borderColor:"rgba(0,0,0,0)",borderWidth:0,animation:{duration:400,easing:"easeOutQuart"},animations:{numbers:{type:"number",properties:["x","y","width","height","caretX","caretY"]},opacity:{easing:"linear",duration:200}},callbacks:g3},defaultRoutes:{bodyFont:"font",footerFont:"font",titleFont:"font"},descriptors:{_scriptable:t=>t!=="filter"&&t!=="itemSort"&&t!=="external",_indexable:!1,callbacks:{_scriptable:!1,_indexable:!1},animation:{_fallback:!1},animations:{_fallback:"animation"}},additionalOptionScopes:["interaction"]},Rre=Object.freeze({__proto__:null,Colors:Hne,Decimation:Yne,Filler:fre,Legend:vre,SubTitle:Nre,Title:wre,Tooltip:Ere});const Mre=(t,s,a,n)=>(typeof s=="string"?(a=t.push(s)-1,n.unshift({index:a,label:s})):isNaN(s)&&(a=null),a);function Pre(t,s,a,n){const r=t.indexOf(s);if(r===-1)return Mre(t,s,a,n);const i=t.lastIndexOf(s);return r!==i?a:r}const Ore=(t,s)=>t===null?null:Va(Math.round(t),0,s);function F4(t){const s=this.getLabels();return t>=0&&t<s.length?s[t]:t}class Lre extends Hc{static id="category";static defaults={ticks:{callback:F4}};constructor(s){super(s),this._startValue=void 0,this._valueRange=0,this._addedLabels=[]}init(s){const a=this._addedLabels;if(a.length){const n=this.getLabels();for(const{index:r,label:i}of a)n[r]===i&&n.splice(r,1);this._addedLabels=[]}super.init(s)}parse(s,a){if(Yt(s))return null;const n=this.getLabels();return a=isFinite(a)&&n[a]===s?a:Pre(n,s,Ft(a,s),this._addedLabels),Ore(a,n.length-1)}determineDataLimits(){const{minDefined:s,maxDefined:a}=this.getUserBounds();let{min:n,max:r}=this.getMinMax(!0);this.options.bounds==="ticks"&&(s||(n=0),a||(r=this.getLabels().length-1)),this.min=n,this.max=r}buildTicks(){const s=this.min,a=this.max,n=this.options.offset,r=[];let i=this.getLabels();i=s===0&&a===i.length-1?i:i.slice(s,a+1),this._valueRange=Math.max(i.length-(n?0:1),1),this._startValue=this.min-(n?.5:0);for(let l=s;l<=a;l++)r.push({value:l});return r}getLabelForValue(s){return F4.call(this,s)}configure(){super.configure(),this.isHorizontal()||(this._reversePixels=!this._reversePixels)}getPixelForValue(s){return typeof s!="number"&&(s=this.parse(s)),s===null?NaN:this.getPixelForDecimal((s-this._startValue)/this._valueRange)}getPixelForTick(s){const a=this.ticks;return s<0||s>a.length-1?null:this.getPixelForValue(a[s].value)}getValueForPixel(s){return Math.round(this._startValue+this.getDecimalForPixel(s)*this._valueRange)}getBasePixel(){return this.bottom}}function Bre(t,s){const a=[],{bounds:r,step:i,min:l,max:d,precision:u,count:h,maxTicks:p,maxDigits:f,includeBounds:y}=t,v=i||1,j=p-1,{min:N,max:w}=s,_=!Yt(l),T=!Yt(d),R=!Yt(h),E=(w-N)/(f+1);let A=RA((w-N)/j/v)*v,V,k,B,P;if(A<1e-14&&!_&&!T)return[{value:N},{value:w}];P=Math.ceil(w/A)-Math.floor(N/A),P>j&&(A=RA(P*A/j/v)*v),Yt(u)||(V=Math.pow(10,u),A=Math.ceil(A*V)/V),r==="ticks"?(k=Math.floor(N/A)*A,B=Math.ceil(w/A)*A):(k=N,B=w),_&&T&&i&&bte((d-l)/i,A/1e3)?(P=Math.round(Math.min((d-l)/A,p)),A=(d-l)/P,k=l,B=d):R?(k=_?l:k,B=T?d:B,P=h-1,A=(B-k)/P):(P=(B-k)/A,Jh(P,Math.round(P),A/1e3)?P=Math.round(P):P=Math.ceil(P));const H=Math.max(MA(A),MA(k));V=Math.pow(10,Yt(u)?H:u),k=Math.round(k*V)/V,B=Math.round(B*V)/V;let D=0;for(_&&(y&&k!==l?(a.push({value:l}),k<l&&D++,Jh(Math.round((k+D*A)*V)/V,l,I4(l,E,t))&&D++):k<l&&D++);D<P;++D){const K=Math.round((k+D*A)*V)/V;if(T&&K>d)break;a.push({value:K})}return T&&y&&B!==d?a.length&&Jh(a[a.length-1].value,d,I4(d,E,t))?a[a.length-1].value=d:a.push({value:d}):(!T||B===d)&&a.push({value:B}),a}function I4(t,s,{horizontal:a,minRotation:n}){const r=qr(n),i=(a?Math.sin(r):Math.cos(r))||.001,l=.75*s*(""+t).length;return Math.min(s/i,l)}class ex extends Hc{constructor(s){super(s),this.start=void 0,this.end=void 0,this._startValue=void 0,this._endValue=void 0,this._valueRange=0}parse(s,a){return Yt(s)||(typeof s=="number"||s instanceof Number)&&!isFinite(+s)?null:+s}handleTickRangeOptions(){const{beginAtZero:s}=this.options,{minDefined:a,maxDefined:n}=this.getUserBounds();let{min:r,max:i}=this;const l=u=>r=a?r:u,d=u=>i=n?i:u;if(s){const u=_i(r),h=_i(i);u<0&&h<0?d(0):u>0&&h>0&&l(0)}if(r===i){let u=i===0?1:Math.abs(i*.05);d(i+u),s||l(r-u)}this.min=r,this.max=i}getTickLimit(){const s=this.options.ticks;let{maxTicksLimit:a,stepSize:n}=s,r;return n?(r=Math.ceil(this.max/n)-Math.floor(this.min/n)+1,r>1e3&&(console.warn(`scales.${this.id}.ticks.stepSize: ${n} would result generating up to ${r} ticks. Limiting to 1000.`),r=1e3)):(r=this.computeTickLimit(),a=a||11),a&&(r=Math.min(a,r)),r}computeTickLimit(){return Number.POSITIVE_INFINITY}buildTicks(){const s=this.options,a=s.ticks;let n=this.getTickLimit();n=Math.max(2,n);const r={maxTicks:n,bounds:s.bounds,min:s.min,max:s.max,precision:a.precision,step:a.stepSize,count:a.count,maxDigits:this._maxDigits(),horizontal:this.isHorizontal(),minRotation:a.minRotation||0,includeBounds:a.includeBounds!==!1},i=this._range||this,l=Bre(r,i);return s.bounds==="ticks"&&CP(l,this,"value"),s.reverse?(l.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),l}configure(){const s=this.ticks;let a=this.min,n=this.max;if(super.configure(),this.options.offset&&s.length){const r=(n-a)/Math.max(s.length-1,1)/2;a-=r,n+=r}this._startValue=a,this._endValue=n,this._valueRange=n-a}getLabelForValue(s){return Gm(s,this.chart.options.locale,this.options.ticks.format)}}class Fre extends ex{static id="linear";static defaults={ticks:{callback:$x.formatters.numeric}};determineDataLimits(){const{min:s,max:a}=this.getMinMax(!0);this.min=la(s)?s:0,this.max=la(a)?a:1,this.handleTickRangeOptions()}computeTickLimit(){const s=this.isHorizontal(),a=s?this.width:this.height,n=qr(this.options.ticks.minRotation),r=(s?Math.sin(n):Math.cos(n))||.001,i=this._resolveTickFontOptions(0);return Math.ceil(a/Math.min(40,i.lineHeight/r))}getPixelForValue(s){return s===null?NaN:this.getPixelForDecimal((s-this._startValue)/this._valueRange)}getValueForPixel(s){return this._startValue+this.getDecimalForPixel(s)*this._valueRange}}const jm=t=>Math.floor(fl(t)),hc=(t,s)=>Math.pow(10,jm(t)+s);function $4(t){return t/Math.pow(10,jm(t))===1}function z4(t,s,a){const n=Math.pow(10,a),r=Math.floor(t/n);return Math.ceil(s/n)-r}function Ire(t,s){const a=s-t;let n=jm(a);for(;z4(t,s,n)>10;)n++;for(;z4(t,s,n)<10;)n--;return Math.min(n,jm(t))}function $re(t,{min:s,max:a}){s=Zn(t.min,s);const n=[],r=jm(s);let i=Ire(s,a),l=i<0?Math.pow(10,Math.abs(i)):1;const d=Math.pow(10,i),u=r>i?Math.pow(10,r):0,h=Math.round((s-u)*l)/l,p=Math.floor((s-u)/d/10)*d*10;let f=Math.floor((h-p)/Math.pow(10,i)),y=Zn(t.min,Math.round((u+p+f*Math.pow(10,i))*l)/l);for(;y<a;)n.push({value:y,major:$4(y),significand:f}),f>=10?f=f<15?15:20:f++,f>=20&&(i++,f=2,l=i>=0?1:l),y=Math.round((u+p+f*Math.pow(10,i))*l)/l;const v=Zn(t.max,y);return n.push({value:v,major:$4(v),significand:f}),n}class zre extends Hc{static id="logarithmic";static defaults={ticks:{callback:$x.formatters.logarithmic,major:{enabled:!0}}};constructor(s){super(s),this.start=void 0,this.end=void 0,this._startValue=void 0,this._valueRange=0}parse(s,a){const n=ex.prototype.parse.apply(this,[s,a]);if(n===0){this._zero=!0;return}return la(n)&&n>0?n:null}determineDataLimits(){const{min:s,max:a}=this.getMinMax(!0);this.min=la(s)?Math.max(0,s):null,this.max=la(a)?Math.max(0,a):null,this.options.beginAtZero&&(this._zero=!0),this._zero&&this.min!==this._suggestedMin&&!la(this._userMin)&&(this.min=s===hc(this.min,0)?hc(this.min,-1):hc(this.min,0)),this.handleTickRangeOptions()}handleTickRangeOptions(){const{minDefined:s,maxDefined:a}=this.getUserBounds();let n=this.min,r=this.max;const i=d=>n=s?n:d,l=d=>r=a?r:d;n===r&&(n<=0?(i(1),l(10)):(i(hc(n,-1)),l(hc(r,1)))),n<=0&&i(hc(r,-1)),r<=0&&l(hc(n,1)),this.min=n,this.max=r}buildTicks(){const s=this.options,a={min:this._userMin,max:this._userMax},n=$re(a,this);return s.bounds==="ticks"&&CP(n,this,"value"),s.reverse?(n.reverse(),this.start=this.max,this.end=this.min):(this.start=this.min,this.end=this.max),n}getLabelForValue(s){return s===void 0?"0":Gm(s,this.chart.options.locale,this.options.ticks.format)}configure(){const s=this.min;super.configure(),this._startValue=fl(s),this._valueRange=fl(this.max)-fl(s)}getPixelForValue(s){return(s===void 0||s===0)&&(s=this.min),s===null||isNaN(s)?NaN:this.getPixelForDecimal(s===this.min?0:(fl(s)-this._startValue)/this._valueRange)}getValueForPixel(s){const a=this.getDecimalForPixel(s);return Math.pow(10,this._startValue+a*this._valueRange)}}function Pj(t){const s=t.ticks;if(s.display&&t.display){const a=ln(s.backdropPadding);return Ft(s.font&&s.font.size,Zs.font.size)+a.height}return 0}function Vre(t,s,a){return a=Ws(a)?a:[a],{w:Lte(t,s.string,a),h:a.length*s.lineHeight}}function V4(t,s,a,n,r){return t===n||t===r?{start:s-a/2,end:s+a/2}:t<n||t>r?{start:s-a,end:s}:{start:s,end:s+a}}function Ure(t){const s={l:t.left+t._padding.left,r:t.right-t._padding.right,t:t.top+t._padding.top,b:t.bottom-t._padding.bottom},a=Object.assign({},s),n=[],r=[],i=t._pointLabels.length,l=t.options.pointLabels,d=l.centerPointLabels?gs/i:0;for(let u=0;u<i;u++){const h=l.setContext(t.getPointLabelContext(u));r[u]=h.padding;const p=t.getPointPosition(u,t.drawingArea+r[u],d),f=Oa(h.font),y=Vre(t.ctx,f,t._pointLabels[u]);n[u]=y;const v=Ja(t.getIndexAngle(u)+d),j=Math.round(b1(v)),N=V4(j,p.x,y.w,0,180),w=V4(j,p.y,y.h,90,270);Hre(a,s,v,N,w)}t.setCenterPoint(s.l-a.l,a.r-s.r,s.t-a.t,a.b-s.b),t._pointLabelItems=Wre(t,n,r)}function Hre(t,s,a,n,r){const i=Math.abs(Math.sin(a)),l=Math.abs(Math.cos(a));let d=0,u=0;n.start<s.l?(d=(s.l-n.start)/i,t.l=Math.min(t.l,s.l-d)):n.end>s.r&&(d=(n.end-s.r)/i,t.r=Math.max(t.r,s.r+d)),r.start<s.t?(u=(s.t-r.start)/l,t.t=Math.min(t.t,s.t-u)):r.end>s.b&&(u=(r.end-s.b)/l,t.b=Math.max(t.b,s.b+u))}function qre(t,s,a){const n=t.drawingArea,{extra:r,additionalAngle:i,padding:l,size:d}=a,u=t.getPointPosition(s,n+r+l,i),h=Math.round(b1(Ja(u.angle+fa))),p=Xre(u.y,d.h,h),f=Yre(h),y=Kre(u.x,d.w,f);return{visible:!0,x:u.x,y:p,textAlign:f,left:y,top:p,right:y+d.w,bottom:p+d.h}}function Gre(t,s){if(!s)return!0;const{left:a,top:n,right:r,bottom:i}=t;return!(oo({x:a,y:n},s)||oo({x:a,y:i},s)||oo({x:r,y:n},s)||oo({x:r,y:i},s))}function Wre(t,s,a){const n=[],r=t._pointLabels.length,i=t.options,{centerPointLabels:l,display:d}=i.pointLabels,u={extra:Pj(i)/2,additionalAngle:l?gs/r:0};let h;for(let p=0;p<r;p++){u.padding=a[p],u.size=s[p];const f=qre(t,p,u);n.push(f),d==="auto"&&(f.visible=Gre(f,h),f.visible&&(h=f))}return n}function Yre(t){return t===0||t===180?"center":t<180?"left":"right"}function Kre(t,s,a){return a==="right"?t-=s:a==="center"&&(t-=s/2),t}function Xre(t,s,a){return a===90||a===270?t-=s/2:(a>270||a<90)&&(t-=s),t}function Qre(t,s,a){const{left:n,top:r,right:i,bottom:l}=a,{backdropColor:d}=s;if(!Yt(d)){const u=Ec(s.borderRadius),h=ln(s.backdropPadding);t.fillStyle=d;const p=n-h.left,f=r-h.top,y=i-n+h.width,v=l-r+h.height;Object.values(u).some(j=>j!==0)?(t.beginPath(),bm(t,{x:p,y:f,w:y,h:v,radius:u}),t.fill()):t.fillRect(p,f,y,v)}}function Zre(t,s){const{ctx:a,options:{pointLabels:n}}=t;for(let r=s-1;r>=0;r--){const i=t._pointLabelItems[r];if(!i.visible)continue;const l=n.setContext(t.getPointLabelContext(r));Qre(a,l,i);const d=Oa(l.font),{x:u,y:h,textAlign:p}=i;Uc(a,t._pointLabels[r],u,h+d.lineHeight/2,d,{color:l.color,textAlign:p,textBaseline:"middle"})}}function x3(t,s,a,n){const{ctx:r}=t;if(a)r.arc(t.xCenter,t.yCenter,s,0,Vs);else{let i=t.getPointPosition(0,s);r.moveTo(i.x,i.y);for(let l=1;l<n;l++)i=t.getPointPosition(l,s),r.lineTo(i.x,i.y)}}function Jre(t,s,a,n,r){const i=t.ctx,l=s.circular,{color:d,lineWidth:u}=s;!l&&!n||!d||!u||a<0||(i.save(),i.strokeStyle=d,i.lineWidth=u,i.setLineDash(r.dash||[]),i.lineDashOffset=r.dashOffset,i.beginPath(),x3(t,a,l,n),i.closePath(),i.stroke(),i.restore())}function eie(t,s,a){return Ml(t,{label:a,index:s,type:"pointLabel"})}class tie extends ex{static id="radialLinear";static defaults={display:!0,animate:!0,position:"chartArea",angleLines:{display:!0,lineWidth:1,borderDash:[],borderDashOffset:0},grid:{circular:!1},startAngle:0,ticks:{showLabelBackdrop:!0,callback:$x.formatters.numeric},pointLabels:{backdropColor:void 0,backdropPadding:2,display:!0,font:{size:10},callback(s){return s},padding:5,centerPointLabels:!1}};static defaultRoutes={"angleLines.color":"borderColor","pointLabels.color":"color","ticks.color":"color"};static descriptors={angleLines:{_fallback:"grid"}};constructor(s){super(s),this.xCenter=void 0,this.yCenter=void 0,this.drawingArea=void 0,this._pointLabels=[],this._pointLabelItems=[]}setDimensions(){const s=this._padding=ln(Pj(this.options)/2),a=this.width=this.maxWidth-s.width,n=this.height=this.maxHeight-s.height;this.xCenter=Math.floor(this.left+a/2+s.left),this.yCenter=Math.floor(this.top+n/2+s.top),this.drawingArea=Math.floor(Math.min(a,n)/2)}determineDataLimits(){const{min:s,max:a}=this.getMinMax(!1);this.min=la(s)&&!isNaN(s)?s:0,this.max=la(a)&&!isNaN(a)?a:0,this.handleTickRangeOptions()}computeTickLimit(){return Math.ceil(this.drawingArea/Pj(this.options))}generateTickLabels(s){ex.prototype.generateTickLabels.call(this,s),this._pointLabels=this.getLabels().map((a,n)=>{const r=Fs(this.options.pointLabels.callback,[a,n],this);return r||r===0?r:""}).filter((a,n)=>this.chart.getDataVisibility(n))}fit(){const s=this.options;s.display&&s.pointLabels.display?Ure(this):this.setCenterPoint(0,0,0,0)}setCenterPoint(s,a,n,r){this.xCenter+=Math.floor((s-a)/2),this.yCenter+=Math.floor((n-r)/2),this.drawingArea-=Math.min(this.drawingArea/2,Math.max(s,a,n,r))}getIndexAngle(s){const a=Vs/(this._pointLabels.length||1),n=this.options.startAngle||0;return Ja(s*a+qr(n))}getDistanceFromCenterForValue(s){if(Yt(s))return NaN;const a=this.drawingArea/(this.max-this.min);return this.options.reverse?(this.max-s)*a:(s-this.min)*a}getValueForDistanceFromCenter(s){if(Yt(s))return NaN;const a=s/(this.drawingArea/(this.max-this.min));return this.options.reverse?this.max-a:this.min+a}getPointLabelContext(s){const a=this._pointLabels||[];if(s>=0&&s<a.length){const n=a[s];return eie(this.getContext(),s,n)}}getPointPosition(s,a,n=0){const r=this.getIndexAngle(s)-fa+n;return{x:Math.cos(r)*a+this.xCenter,y:Math.sin(r)*a+this.yCenter,angle:r}}getPointPositionForValue(s,a){return this.getPointPosition(s,this.getDistanceFromCenterForValue(a))}getBasePosition(s){return this.getPointPositionForValue(s||0,this.getBaseValue())}getPointLabelPosition(s){const{left:a,top:n,right:r,bottom:i}=this._pointLabelItems[s];return{left:a,top:n,right:r,bottom:i}}drawBackground(){const{backgroundColor:s,grid:{circular:a}}=this.options;if(s){const n=this.ctx;n.save(),n.beginPath(),x3(this,this.getDistanceFromCenterForValue(this._endValue),a,this._pointLabels.length),n.closePath(),n.fillStyle=s,n.fill(),n.restore()}}drawGrid(){const s=this.ctx,a=this.options,{angleLines:n,grid:r,border:i}=a,l=this._pointLabels.length;let d,u,h;if(a.pointLabels.display&&Zre(this,l),r.display&&this.ticks.forEach((p,f)=>{if(f!==0||f===0&&this.min<0){u=this.getDistanceFromCenterForValue(p.value);const y=this.getContext(f),v=r.setContext(y),j=i.setContext(y);Jre(this,v,u,l,j)}}),n.display){for(s.save(),d=l-1;d>=0;d--){const p=n.setContext(this.getPointLabelContext(d)),{color:f,lineWidth:y}=p;!y||!f||(s.lineWidth=y,s.strokeStyle=f,s.setLineDash(p.borderDash),s.lineDashOffset=p.borderDashOffset,u=this.getDistanceFromCenterForValue(a.reverse?this.min:this.max),h=this.getPointPosition(d,u),s.beginPath(),s.moveTo(this.xCenter,this.yCenter),s.lineTo(h.x,h.y),s.stroke())}s.restore()}}drawBorder(){}drawLabels(){const s=this.ctx,a=this.options,n=a.ticks;if(!n.display)return;const r=this.getIndexAngle(0);let i,l;s.save(),s.translate(this.xCenter,this.yCenter),s.rotate(r),s.textAlign="center",s.textBaseline="middle",this.ticks.forEach((d,u)=>{if(u===0&&this.min>=0&&!a.reverse)return;const h=n.setContext(this.getContext(u)),p=Oa(h.font);if(i=this.getDistanceFromCenterForValue(this.ticks[u].value),h.showLabelBackdrop){s.font=p.string,l=s.measureText(d.label).width,s.fillStyle=h.backdropColor;const f=ln(h.backdropPadding);s.fillRect(-l/2-f.left,-i-p.size/2-f.top,l+f.width,p.size+f.height)}Uc(s,d.label,0,-i,p,{color:h.color,strokeColor:h.textStrokeColor,strokeWidth:h.textStrokeWidth})}),s.restore()}drawTitle(){}}const Wx={millisecond:{common:!0,size:1,steps:1e3},second:{common:!0,size:1e3,steps:60},minute:{common:!0,size:6e4,steps:60},hour:{common:!0,size:36e5,steps:24},day:{common:!0,size:864e5,steps:30},week:{common:!1,size:6048e5,steps:4},month:{common:!0,size:2628e6,steps:12},quarter:{common:!1,size:7884e6,steps:4},year:{common:!0,size:3154e7}},Mn=Object.keys(Wx);function U4(t,s){return t-s}function H4(t,s){if(Yt(s))return null;const a=t._adapter,{parser:n,round:r,isoWeekday:i}=t._parseOpts;let l=s;return typeof n=="function"&&(l=n(l)),la(l)||(l=typeof n=="string"?a.parse(l,n):a.parse(l)),l===null?null:(r&&(l=r==="week"&&(iu(i)||i===!0)?a.startOf(l,"isoWeek",i):a.startOf(l,r)),+l)}function q4(t,s,a,n){const r=Mn.length;for(let i=Mn.indexOf(t);i<r-1;++i){const l=Wx[Mn[i]],d=l.steps?l.steps:Number.MAX_SAFE_INTEGER;if(l.common&&Math.ceil((a-s)/(d*l.size))<=n)return Mn[i]}return Mn[r-1]}function sie(t,s,a,n,r){for(let i=Mn.length-1;i>=Mn.indexOf(a);i--){const l=Mn[i];if(Wx[l].common&&t._adapter.diff(r,n,l)>=s-1)return l}return Mn[a?Mn.indexOf(a):0]}function aie(t){for(let s=Mn.indexOf(t)+1,a=Mn.length;s<a;++s)if(Wx[Mn[s]].common)return Mn[s]}function G4(t,s,a){if(!a)t[s]=!0;else if(a.length){const{lo:n,hi:r}=v1(a,s),i=a[n]>=s?a[n]:a[r];t[i]=!0}}function nie(t,s,a,n){const r=t._adapter,i=+r.startOf(s[0].value,n),l=s[s.length-1].value;let d,u;for(d=i;d<=l;d=+r.add(d,1,n))u=a[d],u>=0&&(s[u].major=!0);return s}function W4(t,s,a){const n=[],r={},i=s.length;let l,d;for(l=0;l<i;++l)d=s[l],r[d]=l,n.push({value:d,major:!1});return i===0||!a?n:nie(t,n,r,a)}class Oj extends Hc{static id="time";static defaults={bounds:"data",adapters:{},time:{parser:!1,unit:!1,round:!1,isoWeekday:!1,minUnit:"millisecond",displayFormats:{}},ticks:{source:"auto",callback:!1,major:{enabled:!1}}};constructor(s){super(s),this._cache={data:[],labels:[],all:[]},this._unit="day",this._majorUnit=void 0,this._offsets={},this._normalized=!1,this._parseOpts=void 0}init(s,a={}){const n=s.time||(s.time={}),r=this._adapter=new rae._date(s.adapters.date);r.init(a),Zh(n.displayFormats,r.formats()),this._parseOpts={parser:n.parser,round:n.round,isoWeekday:n.isoWeekday},super.init(s),this._normalized=a.normalized}parse(s,a){return s===void 0?null:H4(this,s)}beforeLayout(){super.beforeLayout(),this._cache={data:[],labels:[],all:[]}}determineDataLimits(){const s=this.options,a=this._adapter,n=s.time.unit||"day";let{min:r,max:i,minDefined:l,maxDefined:d}=this.getUserBounds();function u(h){!l&&!isNaN(h.min)&&(r=Math.min(r,h.min)),!d&&!isNaN(h.max)&&(i=Math.max(i,h.max))}(!l||!d)&&(u(this._getLabelBounds()),(s.bounds!=="ticks"||s.ticks.source!=="labels")&&u(this.getMinMax(!1))),r=la(r)&&!isNaN(r)?r:+a.startOf(Date.now(),n),i=la(i)&&!isNaN(i)?i:+a.endOf(Date.now(),n)+1,this.min=Math.min(r,i-1),this.max=Math.max(r+1,i)}_getLabelBounds(){const s=this.getLabelTimestamps();let a=Number.POSITIVE_INFINITY,n=Number.NEGATIVE_INFINITY;return s.length&&(a=s[0],n=s[s.length-1]),{min:a,max:n}}buildTicks(){const s=this.options,a=s.time,n=s.ticks,r=n.source==="labels"?this.getLabelTimestamps():this._generate();s.bounds==="ticks"&&r.length&&(this.min=this._userMin||r[0],this.max=this._userMax||r[r.length-1]);const i=this.min,l=this.max,d=Nte(r,i,l);return this._unit=a.unit||(n.autoSkip?q4(a.minUnit,this.min,this.max,this._getLabelCapacity(i)):sie(this,d.length,a.minUnit,this.min,this.max)),this._majorUnit=!n.major.enabled||this._unit==="year"?void 0:aie(this._unit),this.initOffsets(r),s.reverse&&d.reverse(),W4(this,d,this._majorUnit)}afterAutoSkip(){this.options.offsetAfterAutoskip&&this.initOffsets(this.ticks.map(s=>+s.value))}initOffsets(s=[]){let a=0,n=0,r,i;this.options.offset&&s.length&&(r=this.getDecimalForValue(s[0]),s.length===1?a=1-r:a=(this.getDecimalForValue(s[1])-r)/2,i=this.getDecimalForValue(s[s.length-1]),s.length===1?n=i:n=(i-this.getDecimalForValue(s[s.length-2]))/2);const l=s.length<3?.5:.25;a=Va(a,0,l),n=Va(n,0,l),this._offsets={start:a,end:n,factor:1/(a+1+n)}}_generate(){const s=this._adapter,a=this.min,n=this.max,r=this.options,i=r.time,l=i.unit||q4(i.minUnit,a,n,this._getLabelCapacity(a)),d=Ft(r.ticks.stepSize,1),u=l==="week"?i.isoWeekday:!1,h=iu(u)||u===!0,p={};let f=a,y,v;if(h&&(f=+s.startOf(f,"isoWeek",u)),f=+s.startOf(f,h?"day":l),s.diff(n,a,l)>1e5*d)throw new Error(a+" and "+n+" are too far apart with stepSize of "+d+" "+l);const j=r.ticks.source==="data"&&this.getDataTimestamps();for(y=f,v=0;y<n;y=+s.add(y,d,l),v++)G4(p,y,j);return(y===n||r.bounds==="ticks"||v===1)&&G4(p,y,j),Object.keys(p).sort(U4).map(N=>+N)}getLabelForValue(s){const a=this._adapter,n=this.options.time;return n.tooltipFormat?a.format(s,n.tooltipFormat):a.format(s,n.displayFormats.datetime)}format(s,a){const r=this.options.time.displayFormats,i=this._unit,l=a||r[i];return this._adapter.format(s,l)}_tickFormatFunction(s,a,n,r){const i=this.options,l=i.ticks.callback;if(l)return Fs(l,[s,a,n],this);const d=i.time.displayFormats,u=this._unit,h=this._majorUnit,p=u&&d[u],f=h&&d[h],y=n[a],v=h&&f&&y&&y.major;return this._adapter.format(s,r||(v?f:p))}generateTickLabels(s){let a,n,r;for(a=0,n=s.length;a<n;++a)r=s[a],r.label=this._tickFormatFunction(r.value,a,s)}getDecimalForValue(s){return s===null?NaN:(s-this.min)/(this.max-this.min)}getPixelForValue(s){const a=this._offsets,n=this.getDecimalForValue(s);return this.getPixelForDecimal((a.start+n)*a.factor)}getValueForPixel(s){const a=this._offsets,n=this.getDecimalForPixel(s)/a.factor-a.end;return this.min+n*(this.max-this.min)}_getLabelSize(s){const a=this.options.ticks,n=this.ctx.measureText(s).width,r=qr(this.isHorizontal()?a.maxRotation:a.minRotation),i=Math.cos(r),l=Math.sin(r),d=this._resolveTickFontOptions(0).size;return{w:n*i+d*l,h:n*l+d*i}}_getLabelCapacity(s){const a=this.options.time,n=a.displayFormats,r=n[a.unit]||n.millisecond,i=this._tickFormatFunction(s,0,W4(this,[s],this._majorUnit),r),l=this._getLabelSize(i),d=Math.floor(this.isHorizontal()?this.width/l.w:this.height/l.h)-1;return d>0?d:1}getDataTimestamps(){let s=this._cache.data||[],a,n;if(s.length)return s;const r=this.getMatchingVisibleMetas();if(this._normalized&&r.length)return this._cache.data=r[0].controller.getAllParsedValues(this);for(a=0,n=r.length;a<n;++a)s=s.concat(r[a].controller.getAllParsedValues(this));return this._cache.data=this.normalize(s)}getLabelTimestamps(){const s=this._cache.labels||[];let a,n;if(s.length)return s;const r=this.getLabels();for(a=0,n=r.length;a<n;++a)s.push(H4(this,r[a]));return this._cache.labels=this._normalized?s:this.normalize(s)}normalize(s){return AP(s.sort(U4))}}function Gp(t,s,a){let n=0,r=t.length-1,i,l,d,u;a?(s>=t[n].pos&&s<=t[r].pos&&({lo:n,hi:r}=io(t,"pos",s)),{pos:i,time:d}=t[n],{pos:l,time:u}=t[r]):(s>=t[n].time&&s<=t[r].time&&({lo:n,hi:r}=io(t,"time",s)),{time:i,pos:d}=t[n],{time:l,pos:u}=t[r]);const h=l-i;return h?d+(u-d)*(s-i)/h:d}class rie extends Oj{static id="timeseries";static defaults=Oj.defaults;constructor(s){super(s),this._table=[],this._minPos=void 0,this._tableRange=void 0}initOffsets(){const s=this._getTimestampsForTable(),a=this._table=this.buildLookupTable(s);this._minPos=Gp(a,this.min),this._tableRange=Gp(a,this.max)-this._minPos,super.initOffsets(s)}buildLookupTable(s){const{min:a,max:n}=this,r=[],i=[];let l,d,u,h,p;for(l=0,d=s.length;l<d;++l)h=s[l],h>=a&&h<=n&&r.push(h);if(r.length<2)return[{time:a,pos:0},{time:n,pos:1}];for(l=0,d=r.length;l<d;++l)p=r[l+1],u=r[l-1],h=r[l],Math.round((p+u)/2)!==h&&i.push({time:h,pos:l/(d-1)});return i}_generate(){const s=this.min,a=this.max;let n=super.getDataTimestamps();return(!n.includes(s)||!n.length)&&n.splice(0,0,s),(!n.includes(a)||n.length===1)&&n.push(a),n.sort((r,i)=>r-i)}_getTimestampsForTable(){let s=this._cache.all||[];if(s.length)return s;const a=this.getDataTimestamps(),n=this.getLabelTimestamps();return a.length&&n.length?s=this.normalize(a.concat(n)):s=a.length?a:n,s=this._cache.all=s,s}getDecimalForValue(s){return(Gp(this._table,s)-this._minPos)/this._tableRange}getValueForPixel(s){const a=this._offsets,n=this.getDecimalForPixel(s)/a.factor-a.end;return Gp(this._table,n*this._tableRange+this._minPos,!0)}}var iie=Object.freeze({__proto__:null,CategoryScale:Lre,LinearScale:Fre,LogarithmicScale:zre,RadialLinearScale:tie,TimeScale:Oj,TimeSeriesScale:rie});const R1=[nae,Bne,Rre,iie];Tl.register(...R1);const oie={normal:"Normal",sport:"Sport",luxury:"Luxury",commercial:"Commercial",industrial:"Industrial",event:"Event",sea:"Sea"},lie={"4x4":"4x4 / AWD","2_front":"Front Wheel","2_back":"Rear Wheel",autoblock:"Autoblock"},cie={automatic:"Automatic",manual:"Manual"},die={benz:"Gasoline",diesel:"Diesel",electric:"Electric",hybrid:"Hybrid"},At={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640"},y3=[{key:"7d",label:"Last 7 days",period:"days",period_value:7},{key:"30d",label:"Last 30 days",period:"days",period_value:30},{key:"3m",label:"Last 3 months",period:"months",period_value:3},{key:"12m",label:"Last 12 months",period:"months",period_value:12},{key:"all",label:"All time",period:null,period_value:null}];function uie(t,s,a){if(t==="custom"&&s&&a)return{date_from:s,date_to:a};const n=y3.find(r=>r.key===t);return!n||n.key==="all"||!n.period?{}:{period:n.period,period_value:n.period_value}}function hie(t){if(!t)return"";if(t.length===10)return new Date(t+"T12:00:00").toLocaleDateString("en-US",{month:"short",day:"numeric"});if(t.length===7){const[s,a]=t.split("-");return new Date(parseInt(s,10),parseInt(a,10)-1).toLocaleDateString("en-US",{month:"short",year:"numeric"})}if(t.match(/^\d{4}-\d{1,2}$/)){const[s,a]=t.split("-");return`Week ${a}, ${s}`}return t}const mie=()=>{const[t,s]=x.useState(!1),[a,n]=x.useState(null),[r,i]=x.useState(null),[l,d]=x.useState(null),[u,h]=x.useState(!0),[p,f]=x.useState(null),[y,v]=x.useState("30d"),[j,N]=x.useState(""),[w,_]=x.useState(""),T=x.useRef({});x.useEffect(()=>{const k=localStorage.getItem("theme"),B=window.matchMedia("(prefers-color-scheme: dark)").matches,P=k==="dark"||!k&&B;s(P),document.documentElement.classList.toggle("dark",P)},[]);const R=()=>{const k=!t;s(k),document.documentElement.classList.toggle("dark",k),localStorage.setItem("theme",k?"dark":"light")};x.useEffect(()=>{const k=JSON.parse(localStorage.getItem("user"));k&&n(k)},[]);const E=x.useCallback(async()=>{try{h(!0),f(null);const k=uie(y,j,w),B=await wee(k);if(B.data?.success)i(B.data.data??null),d(B.data.filter_applied??null);else throw new Error("Invalid response format")}catch(k){console.error("Statistics fetch error:",k);const B=k.response?.data?.message||k.message||"Failed to load statistics";f(B),se.error(B),k.response?.status===401&&se.error("Please log in to view statistics")}finally{h(!1)}},[y,j,w]);x.useEffect(()=>{E()},[E]);const A={darkBlue:`${At.darkBlue}CC`,teal:`${At.teal}CC`,limeGreen:`${At.limeGreen}CC`,tealSolid:At.teal,limeGreenSolid:At.limeGreen,tealLight:`${At.teal}44`};x.useEffect(()=>{if(!r)return;const k=()=>{Object.values(T.current).forEach(P=>{P&&typeof P.destroy=="function"&&P.destroy()}),T.current={}},B=(P,H,D,K,X,ne={})=>{const te=document.getElementById(P);if(!te)return;const U=Array.isArray(X)?X:[X],q=new Tl(te,{type:H,data:{labels:D,datasets:[{label:ne.label||"Count",data:K,backgroundColor:U,borderColor:U.map(G=>G.replace(/CC$/,"FF").replace(/44$/,"FF")),borderWidth:3,borderRadius:H==="bar"?12:0,hoverOffset:H==="doughnut"||H==="pie"?20:0,fill:ne.fill!==void 0?ne.fill:!1,tension:ne.tension||0,pointRadius:ne.pointRadius||3,pointBackgroundColor:ne.pointColor||A.limeGreenSolid,pointBorderColor:"#fff",pointBorderWidth:2,pointHoverRadius:ne.pointHoverRadius||5}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{position:H==="bar"||H==="line"?"top":"bottom",labels:{color:t?"#9ca3af":"#4b5563",padding:15,font:{size:12,weight:"600"},usePointStyle:!0,pointStyle:"circle"}},tooltip:{backgroundColor:t?"rgba(0,0,0,0.9)":"rgba(255,255,255,0.95)",titleColor:t?"#fff":"#000",bodyColor:t?"#e5e7eb":"#374151",borderColor:A.tealSolid,borderWidth:1,padding:12,titleFont:{size:13,weight:"bold"},bodyFont:{size:12},cornerRadius:8}},animation:{duration:1200,easing:"easeOutQuart"},scales:H==="bar"||H==="line"?{y:{beginAtZero:!0,grid:{color:t?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.05)"},ticks:{color:t?"#9ca3af":"#6b7280",font:{size:11,weight:"600"}}},x:{grid:{display:!1},ticks:{color:t?"#9ca3af":"#6b7280",font:{size:11,weight:"600"}}}}:{}}});T.current[P]=q};if(k(),r.by_category?.length>0&&B("catChart","doughnut",r.by_category.map(P=>oie[P.category]||P.category),r.by_category.map(P=>P.total),[A.darkBlue,A.teal,A.limeGreen]),r.by_make?.length>0){const P=r.by_make.slice(0,6);B("makeChart","bar",P.map(H=>H.make),P.map(H=>H.total),A.teal)}if(r.by_transmission?.length>0&&B("transChart","pie",r.by_transmission.map(P=>cie[P.transmission]||P.transmission),r.by_transmission.map(P=>P.total),[A.darkBlue,A.limeGreen]),r.by_fuel_type?.length>0&&B("fuelChart","doughnut",r.by_fuel_type.map(P=>die[P.fuel_type]||P.fuel_type),r.by_fuel_type.map(P=>P.total),[A.teal,A.limeGreen]),r.by_drive_type?.length>0&&B("driveChart","doughnut",r.by_drive_type.map(P=>lie[P.drive_type]||P.drive_type),r.by_drive_type.map(P=>P.total),[A.darkBlue,A.teal,A.limeGreen]),r.by_city?.length>0){const P=r.by_city.slice(0,10);B("cityChart","bar",P.map(H=>H.city),P.map(H=>H.total),A.teal)}if(r.search_trends?.length>0){const P=document.getElementById("trendsChart");if(P){const H=P.getContext("2d").createLinearGradient(0,0,0,300);H.addColorStop(0,A.tealLight),H.addColorStop(1,"rgba(255,255,255,0)");const D=new Tl(P,{type:"line",data:{labels:r.search_trends.map(K=>hie(K.date)),datasets:[{label:"Daily Searches",data:r.search_trends.map(K=>K.total),backgroundColor:H,borderColor:A.tealSolid,borderWidth:3,fill:!0,tension:.4,pointRadius:6,pointBackgroundColor:A.limeGreenSolid,pointBorderColor:"#fff",pointBorderWidth:2,pointHoverRadius:8}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{backgroundColor:t?"rgba(0,0,0,0.9)":"rgba(255,255,255,0.95)",titleColor:t?"#fff":"#000",bodyColor:t?"#e5e7eb":"#374151",borderColor:A.tealSolid,borderWidth:1,padding:12,cornerRadius:8}},animation:{duration:1200,easing:"easeOutQuart"},scales:{y:{beginAtZero:!0,grid:{color:t?"rgba(255,255,255,0.05)":"rgba(0,0,0,0.05)"},ticks:{color:t?"#9ca3af":"#6b7280",font:{size:11,weight:"600"}}},x:{grid:{display:!1},ticks:{color:t?"#9ca3af":"#6b7280",font:{size:11,weight:"600"}}}}}});T.current.trendsChart=D}}return()=>k()},[t,r]);const V=()=>{localStorage.clear(),window.location.href="/auth"};return u?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 border-4 border-t-transparent rounded-full animate-spin mx-auto mb-4",style:{borderColor:At.teal,borderTopColor:"transparent"}}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Loading statistics..."})]})}):p?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-16 h-16 rounded-full bg-red-100 dark:bg-red-900/20 flex items-center justify-center mx-auto mb-4",children:e.jsx("span",{className:"text-3xl",children:""})}),e.jsx("p",{className:"text-red-600 dark:text-red-400 mb-4",children:p}),e.jsx(Q,{onClick:()=>window.location.reload(),style:{backgroundColor:At.teal},children:"Retry"})]})}):r?e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900",children:[e.jsxs("div",{className:"fixed inset-0 overflow-hidden pointer-events-none z-0",children:[e.jsx(qe.div,{animate:{scale:[1,1.15,1],opacity:[.08,.12,.08]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},className:"absolute -top-1/4 -left-1/4 w-1/3 h-1/3 rounded-full blur-3xl",style:{backgroundColor:`${At.darkBlue}30`}}),e.jsx(qe.div,{animate:{scale:[1,1.2,1],opacity:[.06,.1,.06]},transition:{duration:10,repeat:1/0,ease:"easeInOut",delay:2},className:"absolute top-1/2 -right-1/4 w-1/3 h-1/3 rounded-full blur-3xl",style:{backgroundColor:`${At.teal}30`}})]}),e.jsx("header",{className:"border-b border-gray-200 dark:border-gray-800 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl sticky top-0 z-50 shadow-sm",children:e.jsx("div",{className:"container mx-auto px-4 md:px-6 py-3",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx(eu,{className:"w-6 h-6 md:w-7 md:h-7",style:{color:At.teal}}),e.jsx("div",{children:e.jsx("h1",{className:"text-lg md:text-2xl font-bold bg-gradient-to-r from-[#0E4C81] via-[#008C95] to-[#8AC640] bg-clip-text text-transparent",children:"Search Analytics"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[a&&e.jsxs(Re,{variant:"outline",className:"hidden md:flex items-center gap-2 px-3 py-1",style:{borderColor:At.teal},children:[e.jsx(xs,{className:"w-3 h-3",style:{color:At.teal}}),e.jsx("span",{className:"text-sm font-semibold",children:a?.username||"User"})]}),e.jsx(Q,{variant:"ghost",size:"icon",onClick:R,className:"hover:bg-gray-100 dark:hover:bg-gray-800 h-9 w-9","aria-label":"Toggle dark mode",children:t?e.jsx(kg,{className:"w-4 h-4"}):e.jsx(Cg,{className:"w-4 h-4"})}),e.jsx(Q,{variant:"ghost",size:"icon",onClick:V,className:"hover:bg-red-50 dark:hover:bg-red-900/20 hover:text-red-600 h-9 w-9","aria-label":"Log out",children:e.jsx(jl,{className:"w-4 h-4"})})]})]})})}),e.jsxs("main",{className:"container mx-auto px-4 md:px-6 py-6 md:py-8 max-w-7xl relative z-10",children:[e.jsxs(qe.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[y3.map(k=>e.jsx(Q,{variant:y===k.key?"default":"outline",size:"sm",onClick:()=>v(k.key),style:y===k.key?{backgroundColor:At.teal}:{},children:k.label},k.key)),e.jsxs("div",{className:"flex items-center gap-2 flex-wrap",children:[e.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Custom:"}),e.jsx("input",{type:"date",value:j,onChange:k=>N(k.target.value),className:"rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm px-2 py-1.5"}),e.jsx("span",{className:"text-gray-500",children:""}),e.jsx("input",{type:"date",value:w,onChange:k=>_(k.target.value),className:"rounded-lg border border-gray-300 dark:border-gray-600 bg-white dark:bg-gray-800 text-sm px-2 py-1.5"}),e.jsx(Q,{size:"sm",onClick:()=>v("custom"),disabled:!j||!w,style:{backgroundColor:At.darkBlue},children:"Apply"})]})]}),e.jsx("div",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:l?.label??"All time"})]}),e.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 md:gap-4 mb-6 md:mb-8",children:[e.jsx(Wp,{icon:rm,title:"Total Searches",value:r.total_searches?.toLocaleString()??"0",gradient:`linear-gradient(135deg, ${At.darkBlue}, ${At.teal})`,delay:0}),e.jsx(Wp,{icon:xs,title:"Active Users",value:r.total_users?.toString()??"0",subtitle:Number(r.total_users)>0?`~${Math.round(Number(r.total_searches)/Number(r.total_users))} avg searches`:void 0,gradient:`linear-gradient(135deg, ${At.teal}, ${At.limeGreen})`,delay:.1}),e.jsx(Wp,{icon:wl,title:"Top Make",value:r.by_make?.[0]?.make||"",subtitle:`${r.by_make?.[0]?.total||0} searches`,gradient:`linear-gradient(135deg, ${At.limeGreen}, ${At.teal})`,delay:.2}),e.jsx(Wp,{icon:hl,title:"Popular Category",value:r.by_category?.[0]?.category||"",subtitle:`${r.by_category?.[0]?.total||0} searches`,gradient:`linear-gradient(135deg, ${At.darkBlue}, ${At.limeGreen})`,delay:.3})]}),r.search_trends?.length>0&&e.jsx(qe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"mb-6 md:mb-8",children:e.jsx(Ae,{className:"bg-white/90 dark:bg-gray-900/90 backdrop-blur shadow-xl rounded-xl border hover:shadow-2xl transition-all duration-300",style:{borderColor:`${At.teal}40`},children:e.jsxs(Ee,{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{className:"w-9 h-9 md:w-10 md:h-10 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${At.darkBlue}, ${At.teal})`},children:e.jsx(wl,{className:"w-4 h-4 md:w-5 md:h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base md:text-lg font-bold dark:text-white",children:"Search Trends"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Daily activity"})]})]}),e.jsx(Re,{className:"text-xs px-2 py-1",style:{backgroundColor:`${At.limeGreen}30`,color:At.limeGreen},children:l?.label??(r.search_trends.length?`${r.search_trends.length} points`:"")})]}),e.jsx("div",{className:"h-48 md:h-56",children:e.jsx("canvas",{id:"trendsChart"})})]})})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6 mb-6 md:mb-8",children:[r.by_category?.length>0&&e.jsx(Fd,{title:"By Category",subtitle:"Distribution",icon:Vt,id:"catChart",delay:.5}),r.by_make?.length>0&&e.jsx(Fd,{title:"Top Makes",subtitle:"Most searched",icon:Ks,id:"makeChart",delay:.6}),r.by_transmission?.length>0&&e.jsx(Fd,{title:"Transmission",subtitle:"Preferences",icon:hl,id:"transChart",delay:.7}),r.by_fuel_type?.length>0&&e.jsx(Fd,{title:"Fuel Type",subtitle:"Distribution",icon:Dg,id:"fuelChart",delay:.8}),r.by_drive_type?.length>0&&e.jsx(Fd,{title:"Drive Type",subtitle:"Distribution",icon:hl,id:"driveChart",delay:.85}),r.by_city?.length>0&&e.jsx(Fd,{title:"Top Cities",subtitle:"Most searched",icon:vs,id:"cityChart",delay:.9})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 md:gap-6 mb-6 md:mb-8",children:[r.by_price_range?.length>0&&e.jsx(qe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:.95},children:e.jsx(Ae,{className:"bg-white/90 dark:bg-gray-900/90 backdrop-blur shadow-xl rounded-xl border",style:{borderColor:`${At.teal}40`},children:e.jsxs(Ee,{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${At.darkBlue}, ${At.teal})`},children:e.jsx(Is,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-bold dark:text-white",children:"By Price Range"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Daily rate ranges"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[e.jsx("th",{className:"text-left py-2 font-semibold dark:text-white",children:"Range"}),e.jsx("th",{className:"text-right py-2 font-semibold dark:text-white",children:"Searches"})]})}),e.jsx("tbody",{children:r.by_price_range.map((k,B)=>e.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800",children:[e.jsx("td",{className:"py-2 text-gray-700 dark:text-gray-300",children:k.daily_rate_min!=null||k.daily_rate_max!=null?`${k.daily_rate_min??""}  ${k.daily_rate_max??""}`:"Any"}),e.jsx("td",{className:"py-2 text-right font-medium dark:text-white",children:k.total})]},B))})]})})]})})}),r.top_features?.length>0&&e.jsx(qe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:1},children:e.jsx(Ae,{className:"bg-white/90 dark:bg-gray-900/90 backdrop-blur shadow-xl rounded-xl border",style:{borderColor:`${At.darkBlue}40`},children:e.jsxs(Ee,{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${At.teal}, ${At.limeGreen})`},children:e.jsx(Sg,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-bold dark:text-white",children:"Top Features"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Popular options"})]})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:r.top_features.map((k,B)=>e.jsxs(Re,{variant:"secondary",className:"text-xs px-3 py-1",style:{backgroundColor:`${At.teal}20`,color:At.darkBlue},children:[k.feature," (",k.count,")"]},B))})]})})})]}),r.most_active_users?.length>0&&e.jsx(qe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:1.05},className:"mb-6 md:mb-8",children:e.jsx(Ae,{className:"bg-white/90 dark:bg-gray-900/90 backdrop-blur shadow-xl rounded-xl border",style:{borderColor:`${At.limeGreen}40`},children:e.jsxs(Ee,{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-9 h-9 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${At.limeGreen}, ${At.teal})`},children:e.jsx(Ag,{className:"w-4 h-4 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base font-bold dark:text-white",children:"Most Active Users"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Top searchers"})]})]}),e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full text-sm",children:[e.jsx("thead",{children:e.jsxs("tr",{className:"border-b border-gray-200 dark:border-gray-700",children:[e.jsx("th",{className:"text-left py-2 font-semibold dark:text-white",children:"User"}),e.jsx("th",{className:"text-right py-2 font-semibold dark:text-white",children:"Searches"})]})}),e.jsx("tbody",{children:r.most_active_users.map(k=>e.jsxs("tr",{className:"border-b border-gray-100 dark:border-gray-800",children:[e.jsx("td",{className:"py-2 text-gray-700 dark:text-gray-300",children:k.user_name??`User #${k.user_id}`}),e.jsx("td",{className:"py-2 text-right font-medium dark:text-white",children:k.total_searches})]},k.user_id))})]})})]})})}),e.jsx(qe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:.9},children:e.jsx(Ae,{className:"bg-white/90 dark:bg-gray-900/90 backdrop-blur shadow-xl rounded-xl border",style:{borderColor:`${At.darkBlue}40`},children:e.jsxs(Ee,{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-9 h-9 md:w-10 md:h-10 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${At.darkBlue}, ${At.teal})`},children:e.jsx(pu,{className:"w-4 h-4 md:w-5 md:h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-base md:text-lg font-bold dark:text-white",children:"Recent Searches"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Latest queries"})]})]}),r.recent_searches?.length>0?e.jsx("div",{className:"space-y-2",children:r.recent_searches.map((k,B)=>e.jsxs(qe.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:1+B*.1},className:"flex flex-col md:flex-row md:items-center justify-between p-3 rounded-lg bg-gradient-to-r from-gray-50 to-gray-100 dark:from-gray-800 dark:to-gray-700 hover:shadow-md transition-all duration-300 gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsxs("div",{className:"flex items-center gap-2 flex-wrap mb-1",children:[e.jsxs("p",{className:"font-bold text-sm md:text-base dark:text-white truncate",children:[k.make||"Any Make"," ",k.model||""]}),k.year_min!=null&&e.jsxs(Re,{variant:"secondary",className:"text-xs px-2 py-0.5",children:[k.year_min,"",k.year_max??""]}),k.user_name&&e.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["by ",k.user_name]})]}),e.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-500 dark:text-gray-400 flex-wrap",children:[k.city&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(vs,{className:"w-3 h-3",style:{color:At.teal}}),k.city]}),(k.daily_rate_min!=null||k.daily_rate_max!=null)&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Is,{className:"w-3 h-3"}),k.daily_rate_min??"","  ",k.daily_rate_max??""]}),k.transmission&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(hl,{className:"w-3 h-3",style:{color:At.teal}}),k.transmission]}),k.fuel_type&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Dg,{className:"w-3 h-3",style:{color:At.limeGreen}}),k.fuel_type]}),e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(Ms,{className:"w-3 h-3"}),k.last_searched_at?new Date(k.last_searched_at).toLocaleString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}):""]})]})]}),e.jsxs(Re,{className:"self-start md:self-center text-xs md:text-sm px-3 py-1 font-bold",style:{backgroundColor:`${At.teal}30`,color:At.teal},children:[k.search_count,""]})]},k.id))}):e.jsx("p",{className:"text-center text-gray-500 dark:text-gray-400 italic py-8 text-sm",children:"No recent searches"})]})})})]})]}):null},Wp=({icon:t,title:s,value:a,subtitle:n,gradient:r,delay:i})=>e.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.4,delay:i},whileHover:{scale:1.02,y:-3},children:e.jsx(Ae,{className:"bg-white/90 dark:bg-gray-900/90 backdrop-blur shadow-lg rounded-xl border-0 hover:shadow-xl transition-all duration-300 h-full",children:e.jsxs(Ee,{className:"p-3 md:p-4",children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx("div",{className:"w-9 h-9 md:w-11 md:h-11 rounded-xl flex items-center justify-center shadow-md",style:{background:r},children:e.jsx(t,{className:"w-4 h-4 md:w-5 md:h-5 text-white"})}),e.jsx(Re,{variant:"secondary",className:"text-[9px] md:text-[10px] px-1.5 py-0.5",children:"Live"})]}),e.jsx("p",{className:"text-[10px] md:text-xs text-gray-600 dark:text-gray-400 font-medium mb-1",children:s}),e.jsx("p",{className:"text-xl md:text-3xl font-black dark:text-white mb-0.5",children:a}),n&&e.jsx("p",{className:"text-[9px] md:text-xs text-gray-500 dark:text-gray-500",children:n})]})})}),Fd=({title:t,subtitle:s,icon:a,id:n,delay:r})=>e.jsx(qe.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5,delay:r},whileHover:{scale:1.01},children:e.jsx(Ae,{className:"bg-white/90 dark:bg-gray-900/90 backdrop-blur shadow-xl rounded-xl border hover:shadow-2xl transition-all duration-300",style:{borderColor:`${At.teal}40`},children:e.jsxs(Ee,{className:"p-4 md:p-6",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[e.jsx("div",{className:"w-9 h-9 md:w-10 md:h-10 rounded-lg flex items-center justify-center",style:{background:`linear-gradient(135deg, ${At.darkBlue}, ${At.teal})`},children:e.jsx(a,{className:"w-4 h-4 md:w-5 md:h-5 text-white"})}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-sm md:text-base font-bold dark:text-white",children:t}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:s})]})]}),e.jsx("div",{className:"h-48 md:h-56",children:e.jsx("canvas",{id:n})})]})})});function fie(){return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[e.jsx("div",{className:"bg-gradient-to-r from-teal-600 to-cyan-700 text-white py-12 px-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(Fn,{className:"w-12 h-12"}),e.jsx("h1",{className:"text-4xl font-bold",children:"Privacy Policy"})]}),e.jsx("p",{className:"text-blue-100 text-lg",children:"Rento LB - Car Rental Marketplace"}),e.jsx("p",{className:"text-blue-200 text-sm mt-2",children:"Last updated: December 2025"})]})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-sm p-8 mb-6",children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:'Rento LB ("Rento", "we", "us", or "our") operates a mobile application that enables users to search, book, and connect with car rental providers in Lebanon. The application is operated by Rami Zeaiter as an individual developer on behalf of the Rento LB service. We are committed to protecting your privacy and handling your data in a transparent and secure manner.'})}),e.jsxs(Dn,{icon:e.jsx(Ci,{}),title:"1. Who We Are (Data Controller)",color:"blue",children:[e.jsxs(pie,{children:[e.jsx(Id,{label:"Operator",value:"Rami Zeaiter"}),e.jsx(Id,{label:"Service Name",value:"Rento LB"}),e.jsx(Id,{label:"Official App Email",value:"social@rento-lb.com",icon:e.jsx(_r,{className:"w-4 h-4"})}),e.jsx(Id,{label:"Support Email",value:"ramizaiter1989@gmail.com",icon:e.jsx(_r,{className:"w-4 h-4"})}),e.jsx(Id,{label:"Phone",value:"+961 81 001 301",icon:e.jsx(Wr,{className:"w-4 h-4"})}),e.jsx(Id,{label:"Service Area",value:"Lebanon",icon:e.jsx(vs,{className:"w-4 h-4"})})]}),e.jsx("p",{className:"mt-4 text-gray-600 italic",children:"Rento LB acts as a digital marketplace that facilitates search and booking between renters and car owners or rental agencies."})]}),e.jsxs(Dn,{icon:e.jsx(ho,{}),title:"2. Information We Collect",color:"purple",children:[e.jsxs(fv,{title:"A. Information You Provide",children:[e.jsx("p",{className:"text-gray-600 mb-3",children:"We may collect the following data when you use the app:"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx(ps,{children:"Full name"}),e.jsx(ps,{children:"Phone number"}),e.jsx(ps,{children:"Email address"}),e.jsx(ps,{children:"Government-issued ID (passport or national ID)"}),e.jsx(ps,{children:"Driver's license"}),e.jsx(ps,{children:"Booking requests and history"}),e.jsx(ps,{children:"Messages, feedback, support tickets, and appeals"})]}),e.jsx("div",{className:"mt-4 bg-yellow-50 border-l-4 border-yellow-400 p-4 rounded",children:e.jsxs("p",{className:"text-yellow-800 font-medium flex items-center gap-2",children:[e.jsx(bl,{className:"w-5 h-5"}),"We do not collect selfie or facial verification data."]})})]}),e.jsxs(fv,{title:"B. Car Owner Information",children:[e.jsx("p",{className:"text-gray-600 mb-3",children:"If you list a vehicle (private owner or agency), we may collect:"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx(ps,{children:"Identity and contact information"}),e.jsx(ps,{children:"Vehicle details and registration documents"}),e.jsx(ps,{children:"Uploaded images and legal documentation"})]}),e.jsx("p",{className:"mt-3 text-gray-600 text-sm",children:"Each submission is reviewed, and we reserve the right to approve or reject any listing if documents are missing, incomplete, or not legally valid."})]}),e.jsx(fv,{title:"C. Automatically Collected Data",children:e.jsxs("ul",{className:"space-y-2",children:[e.jsx(ps,{children:"App usage data (non-sensitive)"}),e.jsx(ps,{children:"Device and technical information (for app functionality and security)"})]})})]}),e.jsx(Dn,{icon:e.jsx(vs,{}),title:"3. Location Data",color:"green",children:e.jsx("p",{className:"text-gray-600",children:"We may use location data only to display available cars within Lebanon and improve search results. We do not track users continuously or in the background."})}),e.jsx(Dn,{icon:e.jsx(Is,{}),title:"4. Payments",color:"emerald",children:e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:e.jsxs("ul",{className:"space-y-3",children:[e.jsxs(ps,{color:"green",children:["Payments are currently ",e.jsx("strong",{children:"cash only"})]}),e.jsx(ps,{color:"green",children:"All payments are made directly between renter and car owner"}),e.jsx(ps,{color:"green",children:"Rento LB does not process, store, or collect payment information"}),e.jsx(ps,{color:"green",children:"A commission model may be introduced in the future, and users will be informed in advance"})]})})}),e.jsxs(Dn,{icon:e.jsx(Rn,{}),title:"5. Purpose of Data Collection",color:"indigo",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"We collect and use data to:"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx(ps,{children:"Enable car search and booking"}),e.jsx(ps,{children:"Verify eligibility to rent vehicles"}),e.jsx(ps,{children:"Connect renters with car owners or agencies"}),e.jsx(ps,{children:"Ensure safety, legality, and transparency"}),e.jsx(ps,{children:"Manage ratings, reviews, feedback, and disputes"}),e.jsx(ps,{children:"Provide customer support and communication"}),e.jsx(ps,{children:"Improve app functionality and user experience"})]})]}),e.jsx(Dn,{icon:e.jsx(bl,{}),title:"6. Marketplace Responsibility Disclaimer",color:"orange",children:e.jsxs("div",{className:"bg-orange-50 border-l-4 border-orange-400 p-6 rounded",children:[e.jsx("p",{className:"text-orange-900 font-semibold mb-3",children:"Rento LB acts only as an intermediary platform."}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx(ps,{color:"orange",children:"We facilitate search, booking, and connection"}),e.jsx(ps,{color:"orange",children:"We are not responsible for future actions, disputes, damages, or agreements between renters and owners"}),e.jsx(ps,{color:"orange",children:"Any rental agreement is strictly between the two parties"})]})]})}),e.jsx(Dn,{icon:e.jsx(xs,{}),title:"7. Data Sharing & Disclosure",color:"red",children:e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-6",children:[e.jsx("p",{className:"text-red-900 font-semibold mb-4",children:"We do not sell or share personal data with third parties."}),e.jsx("p",{className:"text-gray-600 mb-3",children:"Data may only be disclosed if:"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx(ps,{children:"Required by Lebanese law"}),e.jsx(ps,{children:"Ordered by a court or legal authority"}),e.jsx(ps,{children:"Necessary to protect users, legal rights, or public safety"})]})]})}),e.jsxs(Dn,{icon:e.jsx(Fn,{}),title:"8. User Rights & Control",color:"cyan",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Both renters and owners have the right to:"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-3",children:[e.jsx(Lh,{children:"Accept or reject booking requests"}),e.jsx(Lh,{children:"Delete their listings or accounts"}),e.jsx(Lh,{children:"Request correction or deletion of personal data"}),e.jsx(Lh,{children:"Submit feedback, appeals, or support tickets"}),e.jsx(Lh,{children:"Rate and review each other"})]}),e.jsx("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4",children:e.jsxs("p",{className:"text-gray-700",children:["To request data deletion, contact:"," ",e.jsx("a",{href:"mailto:social@rento-lb.com",className:"text-blue-600 font-semibold hover:underline",children:"social@rento-lb.com"})]})})]}),e.jsxs(Dn,{icon:e.jsx(ul,{}),title:"9. Data Security",color:"slate",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"We apply reasonable administrative and technical measures to protect your data from:"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsx(pv,{children:"Unauthorized access"}),e.jsx(pv,{children:"Loss or misuse"}),e.jsx(pv,{children:"Alteration or disclosure"})]}),e.jsx("p",{className:"mt-4 text-gray-600 italic",children:"Access to data is strictly limited to authorized personnel."})]}),e.jsxs(Dn,{icon:e.jsx(Ms,{}),title:"10. Data Retention",color:"violet",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"We retain personal data only as long as necessary to:"}),e.jsxs("ul",{className:"space-y-2",children:[e.jsx(ps,{children:"Operate the service"}),e.jsx(ps,{children:"Comply with legal obligations"}),e.jsx(ps,{children:"Resolve disputes"})]}),e.jsx("p",{className:"mt-4 text-gray-600",children:"Users may request deletion at any time unless retention is legally required."})]}),e.jsx(Dn,{icon:e.jsx(Ci,{}),title:"11. Minimum Age Requirement",color:"pink",children:e.jsx("div",{className:"bg-pink-50 border-l-4 border-pink-400 p-6 rounded",children:e.jsx("p",{className:"text-pink-900 font-semibold text-lg",children:"You must be at least 18 years old to use Rento LB."})})}),e.jsxs(Dn,{icon:e.jsx(Rn,{}),title:"12. Transparency & Legal Compliance",color:"teal",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"All vehicles listed on Rento LB must be:"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsx(gv,{children:"Fully legal"}),e.jsx(gv,{children:"Properly documented"}),e.jsx(gv,{children:"Approved by our review team"})]}),e.jsx("p",{className:"mt-4 text-gray-600",children:"We reserve the right to reject or remove any content or listing that does not meet legal or platform standards."})]}),e.jsx(Dn,{icon:e.jsx(ho,{}),title:"13. Changes to This Policy",color:"gray",children:e.jsx("p",{className:"text-gray-600",children:"We may update this Privacy Policy from time to time. Any changes will be published inside the app and become effective immediately."})}),e.jsxs(Dn,{icon:e.jsx(_r,{}),title:"14. Contact Us",color:"blue",children:[e.jsx("p",{className:"text-gray-600 mb-6",children:"If you have any questions or requests regarding this Privacy Policy:"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsx(xv,{icon:e.jsx(_r,{className:"w-5 h-5"}),value:"social@rento-lb.com",href:"mailto:social@rento-lb.com"}),e.jsx(xv,{icon:e.jsx(_r,{className:"w-5 h-5"}),value:"ramizaiter1989@gmail.com",href:"mailto:ramizaiter1989@gmail.com"}),e.jsx(xv,{icon:e.jsx(Wr,{className:"w-5 h-5"}),value:"+961 81 001 301",href:"tel:+96181001301"})]})]})]}),e.jsx("div",{className:"bg-slate-800 text-slate-300 py-8 px-6 mt-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx("p",{className:"text-sm",children:" 2025 Rento LB. Operated by Rami Zeaiter. All rights reserved."}),e.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"This privacy policy is effective as of December 2025"})]})})]})}function Dn({icon:t,title:s,children:a,color:n="blue"}){const r={blue:"text-blue-600 bg-blue-50",purple:"text-purple-600 bg-purple-50",green:"text-green-600 bg-green-50",emerald:"text-emerald-600 bg-emerald-50",indigo:"text-indigo-600 bg-indigo-50",orange:"text-orange-600 bg-orange-50",red:"text-red-600 bg-red-50",cyan:"text-cyan-600 bg-cyan-50",slate:"text-slate-600 bg-slate-50",violet:"text-violet-600 bg-violet-50",pink:"text-pink-600 bg-pink-50",teal:"text-teal-600 bg-teal-50",gray:"text-gray-600 bg-gray-50"};return e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-8 mb-6",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-6",children:[e.jsx("div",{className:`${r[n]} p-2 rounded-lg`,children:We.cloneElement(t,{className:"w-6 h-6"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 flex-1",children:s})]}),a]})}function fv({title:t,children:s}){return e.jsxs("div",{className:"mb-6 last:mb-0",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-3",children:t}),s]})}function ps({children:t,color:s="blue"}){const a={blue:"bg-blue-500",green:"bg-green-500",orange:"bg-orange-500"};return e.jsxs("li",{className:"flex items-start gap-3 text-gray-700",children:[e.jsx("span",{className:`${a[s]} w-1.5 h-1.5 rounded-full mt-2 flex-shrink-0`}),e.jsx("span",{children:t})]})}function pie({children:t}){return e.jsx("div",{className:"grid md:grid-cols-2 gap-4",children:t})}function Id({label:t,value:s,icon:a}){return e.jsxs("div",{className:"bg-slate-50 rounded-lg p-4",children:[e.jsx("p",{className:"text-sm text-gray-500 mb-1",children:t}),e.jsxs("p",{className:"text-gray-900 font-medium flex items-center gap-2",children:[a&&e.jsx("span",{className:"text-blue-600",children:a}),s]})]})}function Lh({children:t}){return e.jsxs("div",{className:"bg-cyan-50 border border-cyan-200 rounded-lg p-4 flex items-center gap-3",children:[e.jsx(Rn,{className:"w-5 h-5 text-cyan-600 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:t})]})}function pv({children:t}){return e.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4 flex items-center gap-3",children:[e.jsx(ul,{className:"w-5 h-5 text-slate-600 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:t})]})}function gv({children:t}){return e.jsxs("div",{className:"bg-teal-50 border border-teal-200 rounded-lg p-4 text-center",children:[e.jsx(Rn,{className:"w-6 h-6 text-teal-600 mx-auto mb-2"}),e.jsx("span",{className:"text-gray-700 font-medium",children:t})]})}function xv({icon:t,value:s,href:a}){return e.jsxs("a",{href:a,className:"bg-blue-50 hover:bg-blue-100 transition-colors border border-blue-200 rounded-lg p-4 flex flex-col items-center gap-2 text-center",children:[e.jsx("div",{className:"text-blue-600",children:t}),e.jsx("span",{className:"text-gray-700 font-medium text-sm break-all",children:s})]})}function gie(){return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-slate-100",children:[e.jsx("div",{className:"bg-gradient-to-r from-cyan-700 to-teal-700 text-white py-12 px-6",children:e.jsxs("div",{className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx(ho,{className:"w-12 h-12"}),e.jsx("h1",{className:"text-4xl font-bold",children:"Terms & Conditions"})]}),e.jsx("p",{className:"text-emerald-100 text-lg",children:"Rento LB - Car Rental Marketplace"}),e.jsx("p",{className:"text-emerald-200 text-sm mt-2",children:"Last updated: December 2025"})]})}),e.jsxs("div",{className:"max-w-4xl mx-auto px-6 py-12",children:[e.jsx("div",{className:"bg-white rounded-2xl shadow-sm p-8 mb-6",children:e.jsx("p",{className:"text-gray-700 leading-relaxed",children:'Welcome to Rento LB ("Rento", "we", "us", "our"). By accessing or using the Rento LB mobile application, you agree to these Terms & Conditions.'})}),e.jsxs(wr,{icon:e.jsx(Fn,{}),title:"1. Service Description",color:"blue",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Rento LB is a digital marketplace that allows users to:"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsx(zr,{children:"Search and book rental cars"}),e.jsx(zr,{children:"Connect directly with private car owners or rental agencies"})]}),e.jsx("div",{className:"mt-6 bg-blue-50 border-l-4 border-blue-400 p-4 rounded",children:e.jsxs("p",{className:"text-blue-900 font-semibold flex items-center gap-2",children:[e.jsx(Yd,{className:"w-5 h-5"}),"Rento does not own vehicles and does not act as a rental company."]})})]}),e.jsx(wr,{icon:e.jsx(xs,{}),title:"2. Eligibility",color:"purple",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(yv,{icon:e.jsx(Rn,{}),color:"green",children:"Users must be at least 18 years old"}),e.jsx(yv,{icon:e.jsx(Rn,{}),color:"green",children:"Users must provide valid identification and a driver's license"}),e.jsx(yv,{icon:e.jsx(Bn,{}),color:"red",children:"False or misleading information may result in account suspension"})]})}),e.jsxs(wr,{icon:e.jsx(xs,{}),title:"3. User Accounts",color:"indigo",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"You agree to:"}),e.jsx("div",{className:"bg-indigo-50 rounded-lg p-6 mb-4",children:e.jsxs("ul",{className:"space-y-3",children:[e.jsx(zr,{children:"Provide accurate and legal information"}),e.jsx(zr,{children:"Keep your account secure"}),e.jsx(zr,{children:"Accept responsibility for activity under your account"})]})}),e.jsx("div",{className:"bg-orange-50 border-l-4 border-orange-400 p-4 rounded",children:e.jsx("p",{className:"text-orange-900 font-medium",children:"Rento reserves the right to suspend or terminate accounts that violate these terms."})})]}),e.jsxs(wr,{icon:e.jsx(Vt,{}),title:"4. Car Owners & Listings",color:"cyan",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Car owners and agencies:"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4 mb-6",children:[e.jsx(bv,{children:"Must upload legal vehicle documents"}),e.jsx(bv,{children:"Must ensure vehicles are road-legal and insured"}),e.jsx(bv,{children:"Have full right to accept or reject booking requests"})]}),e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsx("p",{className:"text-red-900 font-medium",children:"Rento may review, approve, reject, or remove any listing at its sole discretion."})})]}),e.jsx(wr,{icon:e.jsx(tk,{}),title:"5. Bookings & Payments",color:"green",children:e.jsx("div",{className:"bg-green-50 border border-green-200 rounded-lg p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx(Yp,{icon:e.jsx(tk,{}),children:"Payments are currently cash only"}),e.jsx(Yp,{icon:e.jsx(xs,{}),children:"Payments are made directly to the car owner"}),e.jsx(Yp,{icon:e.jsx(Bn,{}),children:"Rento does not handle or store payments"}),e.jsx(Yp,{icon:e.jsx(Yd,{}),children:"A commission model may be introduced in the future with prior notice"})]})})}),e.jsx(wr,{icon:e.jsx(Yd,{}),title:"6. Marketplace Disclaimer",color:"orange",children:e.jsxs("div",{className:"bg-orange-50 border-l-4 border-orange-500 p-6 rounded",children:[e.jsx("h3",{className:"font-bold text-orange-900 text-lg mb-4",children:"Rento:"}),e.jsxs("ul",{className:"space-y-3 mb-4",children:[e.jsx(zr,{color:"orange",children:"Only facilitates search, booking, and connection"}),e.jsx(zr,{color:"orange",children:"Is not responsible for disputes, damages, accidents, delays, or agreements"}),e.jsx(zr,{color:"orange",children:"Is not a party to rental contracts"})]}),e.jsx("div",{className:"bg-orange-100 border border-orange-300 rounded p-4",children:e.jsx("p",{className:"text-orange-900 font-bold text-center",children:"All agreements are strictly between renter and owner."})})]})}),e.jsxs(wr,{icon:e.jsx(Ks,{}),title:"7. Ratings, Reviews & Feedback",color:"yellow",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Users may:"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4 mb-4",children:[e.jsx(vv,{children:"Rate and review each other"}),e.jsx(vv,{children:"Submit feedback"}),e.jsx(vv,{children:"File support tickets or appeals"})]}),e.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4",children:e.jsx("p",{className:"text-red-900 font-medium",children:"Abusive, false, or misleading content may be removed."})})]}),e.jsxs(wr,{icon:e.jsx(pD,{}),title:"8. Legal Compliance",color:"red",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"Users must comply with:"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(Y4,{children:"Lebanese laws and regulations"}),e.jsx(Y4,{children:"Traffic, insurance, and rental requirements"})]}),e.jsx("div",{className:"mt-6 bg-red-50 border-l-4 border-red-500 p-4 rounded",children:e.jsx("p",{className:"text-red-900 font-bold",children:"Illegal behavior will result in immediate suspension."})})]}),e.jsxs(wr,{icon:e.jsx(sD,{}),title:"9. Account Termination",color:"slate",children:[e.jsx("p",{className:"text-gray-600 mb-4",children:"We reserve the right to suspend or terminate accounts for:"}),e.jsxs("div",{className:"grid md:grid-cols-3 gap-4",children:[e.jsx(jv,{children:"Fraud"}),e.jsx(jv,{children:"Legal violations"}),e.jsx(jv,{children:"Abuse of the platform"})]})]}),e.jsx(wr,{icon:e.jsx(Fn,{}),title:"10. Limitation of Liability",color:"violet",children:e.jsxs("div",{className:"bg-violet-50 border border-violet-200 rounded-lg p-6",children:[e.jsx("p",{className:"text-violet-900 font-bold mb-4",children:"Rento shall not be liable for:"}),e.jsxs("ul",{className:"space-y-3",children:[e.jsx(zr,{color:"violet",children:"Losses or damages between users"}),e.jsx(zr,{color:"violet",children:"Vehicle condition or availability"}),e.jsx(zr,{color:"violet",children:"Third-party actions"})]})]})}),e.jsx(wr,{icon:e.jsx(ho,{}),title:"11. Changes to Terms",color:"teal",children:e.jsx("div",{className:"bg-teal-50 border border-teal-200 rounded-lg p-6",children:e.jsxs("p",{className:"text-gray-700",children:["Terms may be updated at any time."," ",e.jsx("span",{className:"font-bold text-teal-900",children:"Continued use means acceptance."})]})})}),e.jsxs(wr,{icon:e.jsx(_r,{}),title:"12. Contact",color:"blue",children:[e.jsx("p",{className:"text-gray-600 mb-6",children:"If you have questions about these Terms & Conditions:"}),e.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[e.jsx(K4,{icon:e.jsx(_r,{className:"w-5 h-5"}),value:"social@rento-lb.com",href:"mailto:social@rento-lb.com"}),e.jsx(K4,{icon:e.jsx(Wr,{className:"w-5 h-5"}),value:"+961 81 001 301",href:"tel:+96181001301"})]})]})]}),e.jsx("div",{className:"bg-slate-800 text-slate-300 py-8 px-6 mt-12",children:e.jsxs("div",{className:"max-w-4xl mx-auto text-center",children:[e.jsx("p",{className:"text-sm",children:" 2025 Rento LB. Operated by Rami Zeaiter. All rights reserved."}),e.jsx("p",{className:"text-xs text-slate-400 mt-2",children:"These terms are effective as of December 2025"})]})})]})}function wr({icon:t,title:s,children:a,color:n="blue"}){const r={blue:"text-blue-600 bg-blue-50",purple:"text-purple-600 bg-purple-50",indigo:"text-indigo-600 bg-indigo-50",cyan:"text-cyan-600 bg-cyan-50",green:"text-green-600 bg-green-50",yellow:"text-yellow-600 bg-yellow-50",orange:"text-orange-600 bg-orange-50",red:"text-red-600 bg-red-50",slate:"text-slate-600 bg-slate-50",violet:"text-violet-600 bg-violet-50",teal:"text-teal-600 bg-teal-50"};return e.jsxs("div",{className:"bg-white rounded-2xl shadow-sm p-8 mb-6",children:[e.jsxs("div",{className:"flex items-start gap-3 mb-6",children:[e.jsx("div",{className:`${r[n]} p-2 rounded-lg`,children:We.cloneElement(t,{className:"w-6 h-6"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 flex-1",children:s})]}),a]})}function zr({children:t,color:s="blue"}){const a={blue:"bg-blue-500",orange:"bg-orange-500",violet:"bg-violet-500"};return e.jsxs("li",{className:"flex items-start gap-3 text-gray-700",children:[e.jsx("span",{className:`${a[s]} w-1.5 h-1.5 rounded-full mt-2 flex-shrink-0`}),e.jsx("span",{children:t})]})}function yv({icon:t,color:s,children:a}){const n={green:"bg-green-50 border-green-200 text-green-900",red:"bg-red-50 border-red-200 text-red-900"};return e.jsxs("div",{className:`${n[s]} border rounded-lg p-4 flex items-center gap-3`,children:[We.cloneElement(t,{className:"w-5 h-5 flex-shrink-0"}),e.jsx("span",{className:"font-medium",children:a})]})}function bv({children:t}){return e.jsxs("div",{className:"bg-cyan-50 border border-cyan-200 rounded-lg p-4 flex items-center gap-3",children:[e.jsx(Rn,{className:"w-5 h-5 text-cyan-600 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700",children:t})]})}function Yp({icon:t,children:s}){return e.jsxs("div",{className:"flex items-start gap-3 text-gray-700",children:[e.jsx("div",{className:"text-green-600 mt-1",children:We.cloneElement(t,{className:"w-5 h-5"})}),e.jsx("span",{className:"font-medium",children:s})]})}function vv({children:t}){return e.jsxs("div",{className:"bg-yellow-50 border border-yellow-200 rounded-lg p-4 text-center",children:[e.jsx(Ks,{className:"w-6 h-6 text-yellow-600 mx-auto mb-2"}),e.jsx("span",{className:"text-gray-700 font-medium",children:t})]})}function Y4({children:t}){return e.jsxs("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 flex items-center gap-3",children:[e.jsx(pD,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),e.jsx("span",{className:"text-gray-700 font-medium",children:t})]})}function jv({children:t}){return e.jsxs("div",{className:"bg-slate-50 border border-slate-200 rounded-lg p-4 text-center",children:[e.jsx(sD,{className:"w-6 h-6 text-slate-600 mx-auto mb-2"}),e.jsx("span",{className:"text-gray-700 font-medium",children:t})]})}function K4({icon:t,value:s,href:a}){return e.jsxs("a",{href:a,className:"bg-blue-50 hover:bg-blue-100 transition-colors border border-blue-200 rounded-lg p-6 flex flex-col items-center gap-3 text-center",children:[e.jsx("div",{className:"text-blue-600",children:t}),e.jsx("span",{className:"text-gray-700 font-medium break-all",children:s})]})}const xie="https://play.google.com/store/apps/details?id=com.rentolb.app&pcampaignid=web_share",yie="https://apps.apple.com/us/app/rento-lb/id6756906813?l=en-GB";function bie(){return e.jsx("div",{className:"min-h-screen flex items-center justify-center px-4 py-12",children:e.jsxs("div",{className:"w-full max-w-5xl mx-auto space-y-10",children:[e.jsxs("div",{className:"text-center space-y-3",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl font-extrabold tracking-tight text-gray-900 dark:text-white",children:"Rento LB Mobile App"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:["Book cars on the go with our mobile app on both"," ",e.jsx("span",{className:"font-semibold",children:"Google Play"})," and"," ",e.jsx("span",{className:"font-semibold",children:"Apple App Store"}),"."]})]}),e.jsxs("div",{className:"grid gap-8 md:grid-cols-2",children:[e.jsxs("a",{href:xie,target:"_blank",rel:"noopener noreferrer",className:"group flex flex-col items-center gap-6 p-4",children:[e.jsx("div",{className:"w-full flex justify-center mobile-phone-3d",children:e.jsx("img",{src:"/mobileapp.png",alt:"Rento LB mobile app preview for Google Play"})}),e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("p",{className:"text-sm font-medium uppercase tracking-[0.2em] text-emerald-600 dark:text-emerald-400",children:"Get it on"}),e.jsx("img",{src:"https://upload.wikimedia.org/wikipedia/commons/7/78/Google_Play_Store_badge_EN.svg",alt:"Get it on Google Play",className:"h-10 sm:h-12"})]})]}),e.jsxs("a",{href:yie,target:"_blank",rel:"noopener noreferrer",className:"group flex flex-col items-center gap-6 p-4",children:[e.jsx("div",{className:"w-full flex justify-center mobile-phone-3d",children:e.jsx("img",{src:"/mobileapp.png",alt:"Rento LB mobile app preview for App Store"})}),e.jsxs("div",{className:"flex flex-col items-center gap-3",children:[e.jsx("p",{className:"text-sm font-medium uppercase tracking-[0.2em] text-sky-700 dark:text-sky-400",children:"Download on the"}),e.jsx("img",{src:"https://developer.apple.com/assets/elements/badges/download-on-the-app-store.svg",alt:"Download on the App Store",className:"h-10 sm:h-12"})]})]})]}),e.jsxs("p",{className:"text-xs text-center text-gray-500 dark:text-gray-400",children:["Note: Make sure the image file is available at ",e.jsx("code",{children:"/mobile-app.png"})," in your"," ",e.jsx("code",{children:"public"})," folder so that the preview renders correctly."]})]})})}var vie=Symbol("radix.slottable");function jie(t){const s=({children:a})=>e.jsx(e.Fragment,{children:a});return s.displayName=`${t}.Slottable`,s.__radixId=vie,s}var b3="AlertDialog",[wie]=nr(b3,[$R]),No=$R(),v3=t=>{const{__scopeAlertDialog:s,...a}=t,n=No(s);return e.jsx(s5,{...n,...a,modal:!0})};v3.displayName=b3;var Nie="AlertDialogTrigger",_ie=x.forwardRef((t,s)=>{const{__scopeAlertDialog:a,...n}=t,r=No(a);return e.jsx(a5,{...r,...n,ref:s})});_ie.displayName=Nie;var Cie="AlertDialogPortal",j3=t=>{const{__scopeAlertDialog:s,...a}=t,n=No(s);return e.jsx(n5,{...n,...a})};j3.displayName=Cie;var kie="AlertDialogOverlay",w3=x.forwardRef((t,s)=>{const{__scopeAlertDialog:a,...n}=t,r=No(a);return e.jsx(kw,{...r,...n,ref:s})});w3.displayName=kie;var Jd="AlertDialogContent",[Sie,Aie]=wie(Jd),Tie=jie("AlertDialogContent"),N3=x.forwardRef((t,s)=>{const{__scopeAlertDialog:a,children:n,...r}=t,i=No(a),l=x.useRef(null),d=Ht(s,l),u=x.useRef(null);return e.jsx(xW,{contentName:Jd,titleName:_3,docsSlug:"alert-dialog",children:e.jsx(Sie,{scope:a,cancelRef:u,children:e.jsxs(Sw,{role:"alertdialog",...i,...r,ref:d,onOpenAutoFocus:st(r.onOpenAutoFocus,h=>{h.preventDefault(),u.current?.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[e.jsx(Tie,{children:n}),e.jsx(Eie,{contentRef:l})]})})})});N3.displayName=Jd;var _3="AlertDialogTitle",C3=x.forwardRef((t,s)=>{const{__scopeAlertDialog:a,...n}=t,r=No(a);return e.jsx(Aw,{...r,...n,ref:s})});C3.displayName=_3;var k3="AlertDialogDescription",S3=x.forwardRef((t,s)=>{const{__scopeAlertDialog:a,...n}=t,r=No(a);return e.jsx(Tw,{...r,...n,ref:s})});S3.displayName=k3;var Die="AlertDialogAction",A3=x.forwardRef((t,s)=>{const{__scopeAlertDialog:a,...n}=t,r=No(a);return e.jsx(Dw,{...r,...n,ref:s})});A3.displayName=Die;var T3="AlertDialogCancel",D3=x.forwardRef((t,s)=>{const{__scopeAlertDialog:a,...n}=t,{cancelRef:r}=Aie(T3,a),i=No(a),l=Ht(s,r);return e.jsx(Dw,{...i,...n,ref:l})});D3.displayName=T3;var Eie=({contentRef:t})=>{const s=`\`${Jd}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${Jd}\` by passing a \`${k3}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${Jd}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return x.useEffect(()=>{document.getElementById(t.current?.getAttribute("aria-describedby"))||console.warn(s)},[s,t]),null},Rie=v3,Mie=j3,E3=w3,R3=N3,M3=A3,P3=D3,O3=C3,L3=S3;const Yx=Rie,Pie=Mie,B3=x.forwardRef(({className:t,...s},a)=>e.jsx(E3,{className:pt("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...s,ref:a}));B3.displayName=E3.displayName;const Wm=x.forwardRef(({className:t,...s},a)=>e.jsxs(Pie,{children:[e.jsx(B3,{}),e.jsx(R3,{ref:a,className:pt("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...s})]}));Wm.displayName=R3.displayName;const Ym=({className:t,...s})=>e.jsx("div",{className:pt("flex flex-col space-y-2 text-center sm:text-left",t),...s});Ym.displayName="AlertDialogHeader";const Km=({className:t,...s})=>e.jsx("div",{className:pt("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s});Km.displayName="AlertDialogFooter";const Xm=x.forwardRef(({className:t,...s},a)=>e.jsx(O3,{ref:a,className:pt("text-lg font-semibold",t),...s}));Xm.displayName=O3.displayName;const Qm=x.forwardRef(({className:t,...s},a)=>e.jsx(L3,{ref:a,className:pt("text-sm text-muted-foreground",t),...s}));Qm.displayName=L3.displayName;const Zm=x.forwardRef(({className:t,...s},a)=>e.jsx(M3,{ref:a,className:pt(Zj(),t),...s}));Zm.displayName=M3.displayName;const Jm=x.forwardRef(({className:t,...s},a)=>e.jsx(P3,{ref:a,className:pt(Zj({variant:"outline"}),"mt-2 sm:mt-0",t),...s}));Jm.displayName=P3.displayName;var Kx="Switch",[Oie]=nr(Kx),[Lie,Bie]=Oie(Kx),F3=x.forwardRef((t,s)=>{const{__scopeSwitch:a,name:n,checked:r,defaultChecked:i,required:l,disabled:d,value:u="on",onCheckedChange:h,form:p,...f}=t,[y,v]=x.useState(null),j=Ht(s,R=>v(R)),N=x.useRef(!1),w=y?p||!!y.closest("form"):!0,[_,T]=mo({prop:r,defaultProp:i??!1,onChange:h,caller:Kx});return e.jsxs(Lie,{scope:a,checked:_,disabled:d,children:[e.jsx(Tt.button,{type:"button",role:"switch","aria-checked":_,"aria-required":l,"data-state":V3(_),"data-disabled":d?"":void 0,disabled:d,value:u,...f,ref:j,onClick:st(t.onClick,R=>{T(E=>!E),w&&(N.current=R.isPropagationStopped(),N.current||R.stopPropagation())})}),w&&e.jsx(z3,{control:y,bubbles:!N.current,name:n,value:u,checked:_,required:l,disabled:d,form:p,style:{transform:"translateX(-100%)"}})]})});F3.displayName=Kx;var I3="SwitchThumb",$3=x.forwardRef((t,s)=>{const{__scopeSwitch:a,...n}=t,r=Bie(I3,a);return e.jsx(Tt.span,{"data-state":V3(r.checked),"data-disabled":r.disabled?"":void 0,...n,ref:s})});$3.displayName=I3;var Fie="SwitchBubbleInput",z3=x.forwardRef(({__scopeSwitch:t,control:s,checked:a,bubbles:n=!0,...r},i)=>{const l=x.useRef(null),d=Ht(l,i),u=kx(a),h=Cx(s);return x.useEffect(()=>{const p=l.current;if(!p)return;const f=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(f,"checked").set;if(u!==a&&v){const j=new Event("click",{bubbles:n});v.call(p,a),p.dispatchEvent(j)}},[u,a,n]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a,...r,tabIndex:-1,ref:d,style:{...r.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});z3.displayName=Fie;function V3(t){return t?"checked":"unchecked"}var U3=F3,Iie=$3;const fn=x.forwardRef(({className:t,...s},a)=>e.jsx(U3,{className:pt("peer inline-flex h-5 w-9 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent shadow-sm transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",t),...s,ref:a,children:e.jsx(Iie,{className:pt("pointer-events-none block h-4 w-4 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-4 data-[state=unchecked]:translate-x-0")})}));fn.displayName=U3.displayName;const wm=(t={})=>xe.get("/admin/users",{params:t}),$ie=t=>xe.get(`/admin/users/${t}`),H3=(t={})=>xe.get("/admin/cars",{params:t}),zie=t=>xe.get(`/admin/cars/${t}`),q3=(t,s)=>{const a=["main_image","front_image","back_image","left_image","right_image"];if(Object.keys(s).some(i=>a.includes(i)&&s[i]instanceof File)){const i=new FormData;Object.keys(s).forEach(d=>{const u=s[d];u!=null&&(u instanceof File?i.append(d,u):Array.isArray(u)||typeof u=="object"&&u!==null?i.append(d,JSON.stringify(u)):i.append(d,u))});const l={headers:{...xe.defaults.headers.common,...xe.defaults.headers.put||{}}};return delete l.headers["Content-Type"],xe.put(`/admin/cars/${t}`,i,l)}const r={};return Object.keys(s).forEach(i=>{const l=s[i];l!=null&&(r[i]=l)}),xe.put(`/admin/cars/${t}`,r,{headers:{"Content-Type":"application/json"}})},X4=(t,s)=>xe.put(`/admin/cars/${t}`,{car_accepted:s},{headers:{"Content-Type":"application/json"}}),Vie=t=>xe.delete(`/admin/cars/${t}`),G3=(t,s,a)=>{const n=new FormData;n.append("image",s);const r=String(a??"").trim().toLowerCase();return n.append("type",r),xe.post(`/admin/cars/${t}/photo`,n,{transformRequest:[(i,l)=>(typeof FormData<"u"&&i instanceof FormData&&delete l["Content-Type"],i)]})},Uie=async(t,s)=>(await xe.get(`/admin/cars/${t}/images/${s}/download`,{responseType:"blob"})).data,Hie=(t={})=>xe.get("/admin/agencies",{params:t}),qie=t=>xe.get(`/admin/agencies/${t}`),Gie=(t={})=>xe.get("/admin/payments",{params:t}),Wie=t=>xe.post("/admin/payments/issue",t),Yie=t=>xe.get(`/admin/agents/${t}/fee-summary`),Kie=t=>xe.get(`/admin/agents/${t}/fee-percentage`),Xie=(t,s)=>xe.put(`/admin/agents/${t}/fee-percentage`,s),Qie=(t={})=>xe.get("/admin/announcements",{params:t}),Zie=t=>xe.delete(`/admin/announcements/${t}`),Jie=(t={})=>xe.get("/admin/appeals",{params:t}),eoe=(t,s)=>xe.put(`/admin/appeals/${t}`,s),toe=(t={})=>xe.get("/admin/ads",{params:t}),soe=t=>xe.post("/admin/ads",t),aoe=t=>xe.delete(`/admin/ads/${t}`),noe=(t={})=>xe.get("/admin/featured-cars",{params:t}),roe=t=>xe.post("/admin/featured-cars",t),ioe=t=>xe.delete(`/admin/featured-cars/${t}`),ooe=(t={})=>xe.get("/admin/holidays",{params:t}),loe=t=>xe.post("/admin/holidays",t),coe=t=>xe.delete(`/admin/holidays/${t}`),doe=t=>xe.get(`/admin/real-user-data/${t}`),uoe=(t,s)=>xe.post(`/admin/real-user-data/${t}`,s),hoe=(t,s)=>xe.patch(`/admin/real-user-data/${t}/status`,s),moe=t=>xe.delete(`/admin/real-user-data/${t}`),W3=(t={})=>xe.get("/admin/promo-codes",{params:t}),Y3=t=>xe.post("/admin/promo-codes",t),K3=(t,s)=>xe.put(`/admin/promo-codes/${t}`,s),X3=t=>xe.delete(`/admin/promo-codes/${t}`),foe=(t,s={})=>xe.get(`/admin/promo-codes/${t}/users`,{params:s}),Lj=(t,s={})=>xe.get(`/admin/brokers/${t}/referrals`,{params:s}),M1=t=>xe.post("/admin/users",{...t,role:"broker"}),Q3=t=>xe.get(`/admin/brokers/${t}/balance`),Z3=(t,s={})=>xe.get(`/admin/brokers/${t}/payouts`,{params:s}),tx=(t,s={})=>xe.get(`/admin/brokers/${t}/commissions`,{params:s}),J3=t=>xe.post("/admin/broker-payouts",t),eO=(t={})=>xe.get("/admin/broker-commissions",{params:t}),tO=t=>xe.put(`/admin/broker-commissions/${t}/cancel`),sO=t=>xe.delete(`/admin/broker-referrals/${t}`),poe=t=>xe.post("/admin/notifications/send-to-all",t),goe=(t={})=>xe.get("/admin/otps",{params:t}),aO=(t={})=>xe.get("/services",{params:t}),xoe=(t,s)=>{const a=new FormData;return Object.entries(s).forEach(([n,r])=>{r!=null&&(Array.isArray(r)?r.forEach(i=>{a.append(n,i)}):a.append(n,r))}),xe.post(`/admin/third-parties/${t}/services`,a,{headers:{"Content-Type":"multipart/form-data"}})},yoe=(t,s)=>xe.put(`/admin/services/${t}`,s),nO=t=>xe.delete(`/admin/services/${t}`),rO=t=>xe.get(`/services/${t}/items`),boe=(t,s)=>xe.post(`/admin/services/${t}/items`,s),voe=(t,s)=>xe.put(`/admin/services/items/${t}`,s),iO=t=>xe.delete(`/admin/services/items/${t}`),oO=(t={})=>xe.get("/admin/third-parties",{params:t}),joe=t=>xe.post("/admin/third-parties",t),woe=(t,s)=>xe.put(`/admin/third-parties/${t}`,s),lO=t=>xe.delete(`/admin/third-parties/${t}`),cO=(t={})=>xe.get("/admin/feedbacks",{params:t}),dO=t=>xe.delete(`/admin/feedbacks/${t}`),uO=(t,s,a="export")=>{const n=s.map(p=>p.label||p.key).join(","),r=t.map(p=>s.map(f=>{let y=p[f.key];if(f.transform&&typeof f.transform=="function"&&(y=f.transform(p)),y==null)return"";const v=String(y);return v.includes(",")||v.includes('"')||v.includes(`
`)?`"${v.replace(/"/g,'""')}"`:v}).join(",")),i=[n,...r].join(`
`),l="\uFEFF",d=new Blob([l+i],{type:"text/csv;charset=utf-8;"}),u=document.createElement("a"),h=URL.createObjectURL(d);u.setAttribute("href",h),u.setAttribute("download",`${a}.csv`),u.style.visibility="hidden",document.body.appendChild(u),u.click(),document.body.removeChild(u)},hO=(t,s,a="Export",n="export")=>{const r=`
    <div>
      <h1>${a}</h1>
      <p>Generated on: ${new Date().toLocaleString()}</p>
      <table>
        <thead>
          <tr>
            ${s.map(l=>`<th>${l.label||l.key}</th>`).join("")}
          </tr>
        </thead>
        <tbody>
          ${t.map(l=>`
            <tr>
              ${s.map(d=>`<td>${l[d.key]??""}</td>`).join("")}
            </tr>
          `).join("")}
        </tbody>
      </table>
    </div>
  `,i=window.open("","_blank");i.document.write(`
    <html>
      <head>
        <title>${n}</title>
        <style>
          body { font-family: Arial, sans-serif; margin: 20px; }
          h1 { color: #333; }
          table { border-collapse: collapse; width: 100%; margin-top: 20px; }
          th, td { border: 1px solid #ddd; padding: 8px; text-align: left; }
          th { background-color: #f2f2f2; font-weight: bold; }
          @media print {
            body { margin: 0; }
            @page { margin: 1cm; }
          }
        </style>
      </head>
      <body>
        ${r}
      </body>
    </html>
  `),i.document.close(),i.focus(),setTimeout(()=>{i.print(),i.close()},250)};function mO({onSubmit:t,loading:s=!1}){const[a,n]=x.useState({user_id:"",website:"",company_type:"",image_url:"",target_url:"",ads_text:"",amount_cost:"",start_at:"",expire_at:"",online:!1}),r=l=>{const{name:d,value:u,type:h,checked:p}=l.target;n(f=>({...f,[d]:h==="checkbox"?p:u}))},i=l=>{l.preventDefault();const d={...a,user_id:parseInt(a.user_id),amount_cost:a.amount_cost?parseFloat(a.amount_cost):0,start_at:a.start_at||new Date().toISOString().slice(0,19).replace("T"," "),expire_at:a.expire_at||new Date(Date.now()+720*60*60*1e3).toISOString().slice(0,19).replace("T"," ")};t(d)};return e.jsxs("form",{onSubmit:i,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(W,{children:"User ID *"}),e.jsx(oe,{type:"number",name:"user_id",value:a.user_id,onChange:r,required:!0,placeholder:"Enter user ID"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{children:"Start Date/Time *"}),e.jsx(oe,{type:"datetime-local",name:"start_at",value:a.start_at,onChange:r,required:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Expire Date/Time *"}),e.jsx(oe,{type:"datetime-local",name:"expire_at",value:a.expire_at,onChange:r,required:!0})]})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Website"}),e.jsx(oe,{type:"text",name:"website",value:a.website,onChange:r,placeholder:"example.com"})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Company Type"}),e.jsx(oe,{type:"text",name:"company_type",value:a.company_type,onChange:r,placeholder:"rental"})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Image URL"}),e.jsx(oe,{type:"text",name:"image_url",value:a.image_url,onChange:r,placeholder:"https://example.com/image.jpg or /path/to/image.jpg"})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Target URL"}),e.jsx(oe,{type:"text",name:"target_url",value:a.target_url,onChange:r,placeholder:"https://example.com"})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Ad Text"}),e.jsx(tn,{name:"ads_text",value:a.ads_text,onChange:r,placeholder:"Advertisement text content"})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Amount Cost"}),e.jsx(oe,{type:"number",step:"0.01",name:"amount_cost",value:a.amount_cost,onChange:r,placeholder:"0.00"})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(W,{children:"Online"}),e.jsx(fn,{checked:a.online,onCheckedChange:l=>n(d=>({...d,online:l}))})]}),e.jsx("div",{className:"flex gap-2 pt-4",children:e.jsx(Q,{type:"submit",disabled:s,className:"flex-1",children:s?"Creating...":"Create Ad"})})]})}function Noe({onSubmit:t,loading:s=!1}){const[a,n]=x.useState({user_id:"",name:"",amount:"",source:"bank",type:"income",status:"pending",due_date:"",description:"",metadata:""}),r=d=>{const{name:u,value:h}=d.target;n(p=>({...p,[u]:h}))},i=(d,u)=>{n(h=>({...h,[d]:u}))},l=d=>{d.preventDefault();const u={...a,user_id:parseInt(a.user_id),amount:parseFloat(a.amount),due_date:a.due_date||new Date().toISOString().slice(0,19).replace("T"," "),...a.metadata&&{metadata:JSON.parse(a.metadata)}};t(u)};return e.jsxs("form",{onSubmit:l,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(W,{children:"User ID *"}),e.jsx(oe,{type:"number",name:"user_id",value:a.user_id,onChange:r,required:!0,placeholder:"Enter user ID"})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Name/Description *"}),e.jsx(oe,{type:"text",name:"name",value:a.name,onChange:r,required:!0,placeholder:"Payment name",maxLength:100})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Amount *"}),e.jsx(oe,{type:"number",step:"0.01",name:"amount",value:a.amount,onChange:r,required:!0,placeholder:"99.99"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{children:"Source *"}),e.jsxs(et,{value:a.source,onValueChange:d=>i("source",d),children:[e.jsx(Ze,{children:e.jsx(tt,{})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"wish",children:"Wish"}),e.jsx(ce,{value:"omt",children:"OMT"}),e.jsx(ce,{value:"bank",children:"Bank"}),e.jsx(ce,{value:"cash",children:"Cash"}),e.jsx(ce,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Type *"}),e.jsxs(et,{value:a.type,onValueChange:d=>i("type",d),children:[e.jsx(Ze,{children:e.jsx(tt,{})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"income",children:"Income"}),e.jsx(ce,{value:"expense",children:"Expense"}),e.jsx(ce,{value:"debit",children:"Debit"}),e.jsx(ce,{value:"upcoming_income",children:"Upcoming Income"}),e.jsx(ce,{value:"credit",children:"Credit"})]})]})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{children:"Status"}),e.jsxs(et,{value:a.status,onValueChange:d=>i("status",d),children:[e.jsx(Ze,{children:e.jsx(tt,{})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"pending",children:"Pending"}),e.jsx(ce,{value:"paid",children:"Paid"}),e.jsx(ce,{value:"overdue",children:"Overdue"}),e.jsx(ce,{value:"cancelled",children:"Cancelled"})]})]})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Due Date"}),e.jsx(oe,{type:"datetime-local",name:"due_date",value:a.due_date,onChange:r})]})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Description"}),e.jsx(tn,{name:"description",value:a.description,onChange:r,placeholder:"Additional description"})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Metadata (JSON)"}),e.jsx(tn,{name:"metadata",value:a.metadata,onChange:r,placeholder:'{"key": "value"}'})]}),e.jsx("div",{className:"flex gap-2 pt-4",children:e.jsx(Q,{type:"submit",disabled:s,className:"flex-1",children:s?"Issuing...":"Issue Payment/Invoice"})})]})}function fO({onSubmit:t,loading:s=!1}){const[a,n]=x.useState({car_id:"",duration:"",start_at:""}),r=l=>{const{name:d,value:u}=l.target;n(h=>({...h,[d]:u}))},i=l=>{l.preventDefault();const d={...a,car_id:parseInt(a.car_id),duration:parseInt(a.duration),start_at:a.start_at||new Date().toISOString().slice(0,19).replace("T"," ")};t(d)};return e.jsxs("form",{onSubmit:i,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(W,{children:"Car ID *"}),e.jsx(oe,{type:"number",name:"car_id",value:a.car_id,onChange:r,required:!0,placeholder:"Enter car ID"})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Duration (Days) *"}),e.jsx(oe,{type:"number",name:"duration",value:a.duration,onChange:r,required:!0,min:"1",max:"365",placeholder:"30"}),e.jsx("p",{className:"text-xs text-muted-foreground mt-1",children:"Number of days to feature (1-365)"})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Start Date/Time"}),e.jsx(oe,{type:"datetime-local",name:"start_at",value:a.start_at,onChange:r,placeholder:"Leave empty to start now"})]}),e.jsx("div",{className:"flex gap-2 pt-4",children:e.jsx(Q,{type:"submit",disabled:s,className:"flex-1",children:s?"Creating...":"Create Featured Car"})})]})}const pO=x.createContext(null);function cn(){const t=x.useContext(pO);if(!t)throw new Error("useAdmin must be used within AdminProvider");return t}const Gr={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640"};function _oe(){const{summary:t}=cn();return e.jsx("div",{className:"space-y-6",children:t&&e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[e.jsxs(Ae,{children:[e.jsxs(ns,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(rs,{className:"text-sm font-medium",children:"Total Users"}),e.jsx(xs,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(Ee,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.total_users}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.active_users," active"]})]})]}),e.jsxs(Ae,{children:[e.jsxs(ns,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(rs,{className:"text-sm font-medium",children:"Total Bookings"}),e.jsx(Ms,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(Ee,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.total_bookings}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.pending_bookings," pending"]})]})]}),e.jsxs(Ae,{children:[e.jsxs(ns,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(rs,{className:"text-sm font-medium",children:"Total Revenue"}),e.jsx(Is,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(Ee,{children:[e.jsxs("div",{className:"text-2xl font-bold",children:["$",t.total_revenue?.toLocaleString()]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["$",t.total_refunds?.toLocaleString()," refunds"]})]})]}),e.jsxs(Ae,{children:[e.jsxs(ns,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(rs,{className:"text-sm font-medium",children:"Total Cars"}),e.jsx(Vt,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsxs(Ee,{children:[e.jsx("div",{className:"text-2xl font-bold",children:t.total_cars}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[t.available_cars," available"]})]})]})]})})}function Coe(){const{users:t,filters:s,setFilters:a,navigate:n,fetchUsers:r,fetchUserDetails:i,setSelectedItem:l,setModalType:d,setModalOpen:u,showConfirmDialog:h,deleteUser:p}=cn(),f=t?.data??(Array.isArray(t)?t:[]);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oe,{placeholder:"Search users...",className:"w-64"}),e.jsxs(et,{value:s.users.role,onValueChange:y=>a(v=>({...v,users:{...v.users,role:y}})),children:[e.jsx(Ze,{className:"w-32",children:e.jsx(tt,{placeholder:"Role"})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"all",children:"All Roles"}),e.jsx(ce,{value:"client",children:"Client"}),e.jsx(ce,{value:"agency",children:"Agency"}),e.jsx(ce,{value:"admin",children:"Admin"})]})]}),e.jsx(Q,{variant:"outline",size:"icon",onClick:r,children:e.jsx(Nt,{className:"w-4 h-4"})})]}),e.jsxs(Q,{onClick:()=>n("/admin/real-user-data"),style:{background:`linear-gradient(to right, ${Gr.darkBlue}, ${Gr.teal})`},className:"text-white flex items-center gap-2",children:[e.jsx(Ag,{className:"w-4 h-4"}),"Manage Real User Data"]})]}),e.jsx(Ae,{children:e.jsx(Ee,{className:"p-0",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"ID"}),e.jsx(J,{children:"Name"}),e.jsx(J,{children:"Email"}),e.jsx(J,{children:"Role"}),e.jsx(J,{children:"Status"}),e.jsx(J,{children:"Verified"}),e.jsx(J,{children:"Actions"})]})}),e.jsx(wt,{children:(Array.isArray(f)?f:[]).map(y=>e.jsxs(Ne,{children:[e.jsx(Y,{children:y.id}),e.jsx(Y,{children:y.first_name&&y.last_name?`${y.first_name} ${y.last_name}`:y.username||"N/A"}),e.jsx(Y,{children:y.email||y.phone_number||"N/A"}),e.jsx(Y,{children:e.jsx(Re,{variant:"outline",children:y.role})}),e.jsx(Y,{children:e.jsx(Re,{variant:y.status?"default":"secondary",children:y.status?"Active":"Inactive"})}),e.jsx(Y,{children:y.verified_by_admin?e.jsx(Pa,{className:"w-4 h-4 text-green-500"}):e.jsx(Bn,{className:"w-4 h-4 text-gray-400"})}),e.jsx(Y,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{variant:"ghost",size:"icon",onClick:async()=>{const v=await i(y.id);v&&(l(v),d("view-user"),u(!0))},title:"View Details",children:e.jsx(Ys,{className:"w-4 h-4"})}),e.jsx(Q,{variant:"ghost",size:"icon",onClick:async()=>{const v=await i(y.id);v&&(l(v),d("edit-user"),u(!0))},children:e.jsx(ca,{className:"w-4 h-4"})}),e.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>h("Delete User","Are you sure you want to delete this user?",()=>p(y.id)),children:e.jsx(Xs,{className:"w-4 h-4 text-red-500"})})]})})]},y.id))})]})})})]})}function koe(){const{cars:t,filters:s,setFilters:a,fetchCars:n,fetchCarDetails:r,setSelectedItem:i,setModalType:l,setModalOpen:d,showConfirmDialog:u,deleteCar:h}=cn(),p=t?.data??(Array.isArray(t)?t:[]);return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(et,{value:s.cars.status,onValueChange:f=>a(y=>({...y,cars:{...y.cars,status:f}})),children:[e.jsx(Ze,{className:"w-40",children:e.jsx(tt,{placeholder:"Status"})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"all",children:"All Statuses"}),e.jsx(ce,{value:"available",children:"Available"}),e.jsx(ce,{value:"not_available",children:"Not Available"}),e.jsx(ce,{value:"rented",children:"Rented"}),e.jsx(ce,{value:"maintenance",children:"Maintenance"})]})]}),e.jsx(Q,{variant:"outline",size:"icon",onClick:n,children:e.jsx(Nt,{className:"w-4 h-4"})})]})}),e.jsx(Ae,{children:e.jsx(Ee,{className:"p-0",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"ID"}),e.jsx(J,{children:"Make/Model"}),e.jsx(J,{children:"Year"}),e.jsx(J,{children:"Status"}),e.jsx(J,{children:"Approved"}),e.jsx(J,{children:"Daily Rate"}),e.jsx(J,{children:"Actions"})]})}),e.jsx(wt,{children:(Array.isArray(p)?p:[]).map(f=>e.jsxs(Ne,{children:[e.jsx(Y,{children:f.id}),e.jsxs(Y,{children:[f.make," ",f.model]}),e.jsx(Y,{children:f.year}),e.jsx(Y,{children:e.jsx(Re,{variant:"outline",children:f.status})}),e.jsx(Y,{children:f.car_accepted?e.jsx(Pa,{className:"w-4 h-4 text-green-500"}):e.jsx(Bn,{className:"w-4 h-4 text-gray-400"})}),e.jsxs(Y,{children:["$",f.daily_rate]}),e.jsx(Y,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{variant:"ghost",size:"icon",onClick:async()=>{const y=await r(f.id);y&&(i(y),l("view-car"),d(!0))},title:"View Details",children:e.jsx(Ys,{className:"w-4 h-4"})}),e.jsx(Q,{variant:"ghost",size:"icon",onClick:async()=>{const y=await r(f.id);y&&(i(y),l("edit-car"),d(!0))},children:e.jsx(ca,{className:"w-4 h-4"})}),e.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>u("Delete Car","Are you sure you want to delete this car?",()=>h(f.id)),children:e.jsx(Xs,{className:"w-4 h-4 text-red-500"})})]})})]},f.id))})]})})})]})}function Soe(){const{bookings:t,filters:s,setFilters:a,fetchBookings:n,fetchBookingDetails:r,setSelectedItem:i,setModalType:l,setModalOpen:d,forceCompleteBooking:u}=cn(),h=t?.data??(Array.isArray(t)?t:[]);return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(et,{value:s.bookings.status,onValueChange:p=>a(f=>({...f,bookings:{...f.bookings,status:p}})),children:[e.jsx(Ze,{className:"w-40",children:e.jsx(tt,{placeholder:"Status"})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"all",children:"All Statuses"}),e.jsx(ce,{value:"pending",children:"Pending"}),e.jsx(ce,{value:"confirmed",children:"Confirmed"}),e.jsx(ce,{value:"cancelled",children:"Cancelled"}),e.jsx(ce,{value:"completed",children:"Completed"}),e.jsx(ce,{value:"rejected",children:"Rejected"})]})]}),e.jsx(Q,{variant:"outline",size:"icon",onClick:n,children:e.jsx(Nt,{className:"w-4 h-4"})})]})}),e.jsx(Ae,{children:e.jsx(Ee,{className:"p-0",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"ID"}),e.jsx(J,{children:"Client"}),e.jsx(J,{children:"Car"}),e.jsx(J,{children:"Status"}),e.jsx(J,{children:"Payment"}),e.jsx(J,{children:"Total Price"}),e.jsx(J,{children:"Actions"})]})}),e.jsx(wt,{children:(Array.isArray(h)?h:[]).map(p=>e.jsxs(Ne,{children:[e.jsx(Y,{children:p.id}),e.jsx(Y,{children:p.client?.first_name&&p.client?.last_name?`${p.client.first_name} ${p.client.last_name}`:p.client?.username||"N/A"}),e.jsxs(Y,{children:[p.car?.make," ",p.car?.model]}),e.jsx(Y,{children:e.jsx(Re,{variant:"outline",children:p.booking_request_status})}),e.jsx(Y,{children:e.jsx(Re,{variant:p.payment_status==="paid"?"default":"secondary",children:p.payment_status})}),e.jsxs(Y,{children:["$",p.total_booking_price]}),e.jsx(Y,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{variant:"ghost",size:"icon",onClick:async()=>{const f=await r(p.id);f&&(i(f),l("view-booking"),d(!0))},title:"View Details",children:e.jsx(Ys,{className:"w-4 h-4"})}),e.jsx(Q,{variant:"ghost",size:"icon",onClick:async()=>{const f=await r(p.id);f&&(i(f),l("edit-booking"),d(!0))},children:e.jsx(ca,{className:"w-4 h-4"})}),p.booking_request_status==="confirmed"&&e.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>u(p.id),title:"Force Complete","aria-label":"Force complete booking",children:e.jsx(Pa,{className:"w-4 h-4 text-green-500"})})]})})]},p.id))})]})})})]})}function Aoe(){const{payments:t,setSelectedItem:s,setModalType:a,setModalOpen:n,fetchPayments:r,processRefund:i}=cn(),l=t?.data??(Array.isArray(t)?t:[]),d=[{key:"id",label:"ID"},{key:"user",label:"User",transform:u=>u.user?.name||"N/A"},{key:"amount",label:"Amount",transform:u=>`$${u.amount}`},{key:"type",label:"Type"},{key:"status",label:"Status"},{key:"source",label:"Source"},{key:"name",label:"Name"},{key:"created_at",label:"Created At",transform:u=>new Date(u.created_at).toLocaleString()}];return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(Q,{onClick:()=>{s(null),a("create-payment"),n(!0)},children:[e.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Issue Payment/Invoice"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Q,{variant:"outline",onClick:()=>{const u=(Array.isArray(l)?l:[]).map(h=>({...h,user:h.user?.name||"N/A",amount:`$${h.amount}`,created_at:new Date(h.created_at).toLocaleString()}));uO(u,d,"invoices")},children:[e.jsx(tu,{className:"w-4 h-4 mr-2"}),"Export Excel"]}),e.jsxs(Q,{variant:"outline",onClick:()=>{const u=(Array.isArray(l)?l:[]).map(h=>({...h,user:h.user?.name||"N/A",amount:`$${h.amount}`,created_at:new Date(h.created_at).toLocaleString()}));hO(u,d,"Invoices Report","invoices")},children:[e.jsx(tu,{className:"w-4 h-4 mr-2"}),"Export PDF"]}),e.jsx(Q,{variant:"outline",size:"icon",onClick:r,"aria-label":"Refresh payments",children:e.jsx(Nt,{className:"w-4 h-4"})})]})]}),e.jsx(Ae,{children:e.jsx(Ee,{className:"p-0",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"ID"}),e.jsx(J,{children:"User"}),e.jsx(J,{children:"Amount"}),e.jsx(J,{children:"Type"}),e.jsx(J,{children:"Status"}),e.jsx(J,{children:"Source"}),e.jsx(J,{children:"Actions"})]})}),e.jsx(wt,{children:(Array.isArray(l)?l:[]).map(u=>e.jsxs(Ne,{children:[e.jsx(Y,{children:u.id}),e.jsx(Y,{children:u.user?.name||"N/A"}),e.jsxs(Y,{children:["$",u.amount]}),e.jsx(Y,{children:e.jsx(Re,{variant:"outline",children:u.type})}),e.jsx(Y,{children:e.jsx(Re,{variant:u.status==="paid"?"default":"secondary",children:u.status})}),e.jsx(Y,{children:u.source}),e.jsx(Y,{children:u.type==="refund"&&u.status!=="processed"&&e.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>{const h=u.reference_id||u.id;i(h)},children:"Process Refund"})})]},u.id))})]})})})]})}function Toe(){const{announcements:t,setSelectedItem:s,setModalType:a,setModalOpen:n,fetchAnnouncements:r,showConfirmDialog:i,deleteAnnouncement:l}=cn(),d=t?.data??(Array.isArray(t)?t:[]);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(Q,{onClick:()=>{s(null),a("create-announcement"),n(!0)},children:[e.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Create Announcement"]}),e.jsx(Q,{variant:"outline",size:"icon",onClick:r,children:e.jsx(Nt,{className:"w-4 h-4"})})]}),e.jsx(Ae,{children:e.jsx(Ee,{className:"p-0",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"ID"}),e.jsx(J,{children:"Title"}),e.jsx(J,{children:"Status"}),e.jsx(J,{children:"Priority"}),e.jsx(J,{children:"Target Audience"}),e.jsx(J,{children:"Actions"})]})}),e.jsx(wt,{children:(Array.isArray(d)?d:[]).map(u=>e.jsxs(Ne,{children:[e.jsx(Y,{children:u.id}),e.jsx(Y,{children:u.title}),e.jsx(Y,{children:e.jsx(Re,{variant:"outline",children:u.status})}),e.jsx(Y,{children:e.jsx(Re,{variant:"outline",children:u.priority})}),e.jsx(Y,{children:u.target_audience?.join(", ")||"All"}),e.jsx(Y,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>{s(u),a("edit-announcement"),n(!0)},"aria-label":"Edit announcement",children:e.jsx(ca,{className:"w-4 h-4"})}),e.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>i("Delete Announcement","Are you sure you want to delete this announcement?",()=>l(u.id)),children:e.jsx(Xs,{className:"w-4 h-4 text-red-500"})})]})})]},u.id))})]})})})]})}function Doe(){const{appeals:t,filters:s,setFilters:a,setSelectedItem:n,setModalType:r,setModalOpen:i,fetchAppeals:l}=cn(),d=t?.data??(Array.isArray(t)?t:[]);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(et,{value:s.appeals.status,onValueChange:u=>a(h=>({...h,appeals:{...h.appeals,status:u}})),children:[e.jsx(Ze,{className:"w-40",children:e.jsx(tt,{placeholder:"Status"})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"all",children:"All Statuses"}),e.jsx(ce,{value:"submitted",children:"Submitted"}),e.jsx(ce,{value:"under_review",children:"Under Review"}),e.jsx(ce,{value:"resolved",children:"Resolved"}),e.jsx(ce,{value:"rejected",children:"Rejected"}),e.jsx(ce,{value:"escalated",children:"Escalated"})]})]}),e.jsx(Q,{variant:"outline",size:"icon",onClick:l,children:e.jsx(Nt,{className:"w-4 h-4"})})]}),e.jsx(Ae,{children:e.jsx(Ee,{className:"p-0",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"ID"}),e.jsx(J,{children:"User"}),e.jsx(J,{children:"Type"}),e.jsx(J,{children:"Status"}),e.jsx(J,{children:"Priority"}),e.jsx(J,{children:"Actions"})]})}),e.jsx(wt,{children:(Array.isArray(d)?d:[]).map(u=>e.jsxs(Ne,{children:[e.jsx(Y,{children:u.id}),e.jsx(Y,{children:u.user?.username||u.user?.email||"N/A"}),e.jsx(Y,{children:u.type||"N/A"}),e.jsx(Y,{children:e.jsx(Re,{variant:"outline",children:u.status})}),e.jsx(Y,{children:e.jsx(Re,{variant:"outline",children:u.priority||"N/A"})}),e.jsx(Y,{children:e.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>{n(u),r("edit-appeal"),i(!0)},children:e.jsx(ca,{className:"w-4 h-4"})})})]},u.id))})]})})})]})}function Eoe(){const{ads:t,navigate:s,setSelectedItem:a,setModalType:n,setModalOpen:r,fetchAds:i,showConfirmDialog:l,deleteAd:d}=cn(),u=t?.data??(Array.isArray(t)?t:[]);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Q,{onClick:()=>{a(null),n("create-ad"),r(!0)},children:[e.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Create Ad"]}),e.jsxs(Q,{variant:"outline",onClick:()=>s("/admin/ads-analytics"),children:[e.jsx(eu,{className:"w-4 h-4 mr-2"}),"View Analytics"]})]}),e.jsx(Q,{variant:"outline",size:"icon",onClick:i,"aria-label":"Refresh ads",children:e.jsx(Nt,{className:"w-4 h-4"})})]}),e.jsx(Ae,{children:e.jsx(Ee,{className:"p-0",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"ID"}),e.jsx(J,{children:"Website"}),e.jsx(J,{children:"Company Type"}),e.jsx(J,{children:"Online"}),e.jsx(J,{children:"Views"}),e.jsx(J,{children:"Clicks"}),e.jsx(J,{children:"Actions"})]})}),e.jsx(wt,{children:(Array.isArray(u)?u:[]).map(h=>e.jsxs(Ne,{children:[e.jsx(Y,{children:h.id}),e.jsx(Y,{children:h.website}),e.jsx(Y,{children:h.company_type}),e.jsx(Y,{children:h.online?e.jsx(Pa,{className:"w-4 h-4 text-green-500"}):e.jsx(Bn,{className:"w-4 h-4 text-gray-400"})}),e.jsx(Y,{children:h.nb_views}),e.jsx(Y,{children:h.nb_clicks}),e.jsx(Y,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>{a(h),n("edit-ad"),r(!0)},children:e.jsx(ca,{className:"w-4 h-4"})}),e.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>l("Delete Ad","Are you sure you want to delete this ad?",()=>d(h.id)),children:e.jsx(Xs,{className:"w-4 h-4 text-red-500"})})]})})]},h.id))})]})})})]})}function Roe(){const{promoCodes:t,brokers:s,filters:a,setFilters:n,setBrokerForm:r,setSelectedItem:i,setModalType:l,setModalOpen:d,fetchPromoCodes:u,fetchPromoCodeUsers:h,fetchBrokerReferrals:p,showConfirmDialog:f,handleDeletePromoCode:y}=cn(),v=t?.data??(Array.isArray(t)?t:[]);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Q,{onClick:()=>{i(null),l("create-promo-code"),d(!0)},children:[e.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Create Promo Code"]}),e.jsxs(Q,{variant:"outline",onClick:()=>{r({username:"",phone_number:"",email:"",password:"",password_confirmation:"",first_name:"",last_name:""}),l("create-broker"),d(!0)},children:[e.jsx(xs,{className:"w-4 h-4 mr-2"}),"Create Broker"]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(et,{value:a.promoCodes.broker_id||"all",onValueChange:j=>n(N=>({...N,promoCodes:{...N.promoCodes,broker_id:j}})),children:[e.jsx(Ze,{className:"w-[180px]",children:e.jsx(tt,{placeholder:"Filter by broker"})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"all",children:"All brokers"}),(Array.isArray(s)?s:[]).map(j=>e.jsx(ce,{value:String(j.id),children:j.username||`${j.first_name||""} ${j.last_name||""}`||`Broker #${j.id}`},j.id))]})]}),e.jsxs(et,{value:a.promoCodes.is_active,onValueChange:j=>n(N=>({...N,promoCodes:{...N.promoCodes,is_active:j}})),children:[e.jsx(Ze,{className:"w-[150px]",children:e.jsx(tt,{placeholder:"Status"})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"all",children:"All status"}),e.jsx(ce,{value:"true",children:"Active"}),e.jsx(ce,{value:"false",children:"Inactive"})]})]})]})]}),e.jsx(Q,{variant:"outline",size:"icon",onClick:u,"aria-label":"Refresh promo codes",children:e.jsx(Nt,{className:"w-4 h-4"})})]}),e.jsx(Ae,{children:e.jsx(Ee,{className:"p-0",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"Code"}),e.jsx(J,{children:"Broker"}),e.jsx(J,{children:"Description"}),e.jsx(J,{children:"Uses"}),e.jsx(J,{children:"Commission %"}),e.jsx(J,{children:"Status"}),e.jsx(J,{children:"Expires At"}),e.jsx(J,{children:"Actions"})]})}),e.jsx(wt,{children:(Array.isArray(v)?v:[]).map(j=>e.jsxs(Ne,{children:[e.jsx(Y,{className:"font-mono font-semibold",children:j.code}),e.jsx(Y,{children:j.broker?j.broker.username||`${j.broker.first_name||""} ${j.broker.last_name||""}`:"N/A"}),e.jsx(Y,{className:"max-w-xs truncate",children:j.description||""}),e.jsxs(Y,{children:[j.current_uses," / ",j.max_uses??""]}),e.jsxs(Y,{children:[j.commission_percentage??0,"%"]}),e.jsx(Y,{children:e.jsx(Re,{variant:j.is_active?"default":"secondary",children:j.is_active?"Active":"Inactive"})}),e.jsx(Y,{children:j.expires_at?new Date(j.expires_at).toLocaleDateString():"No expiry"}),e.jsx(Y,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>{i(j),l("edit-promo-code"),d(!0)},children:e.jsx(ca,{className:"w-4 h-4"})}),e.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>{i(j),h(j.id),p(j.broker_id),l("view-promo-users"),d(!0)},children:e.jsx(xs,{className:"w-4 h-4"})}),e.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>f("Delete Promo Code","Are you sure you want to delete this promo code?",()=>y(j.id)),children:e.jsx(Xs,{className:"w-4 h-4 text-red-500"})})]})})]},j.id))})]})})})]})}function Moe(){const{brokers:t,selectedBroker:s,brokerDetailTab:a,setBrokerDetailTab:n,brokerBalance:r,brokerCommissions:i,brokerPayouts:l,brokerReferrals:d,brokerCommissionsList:u,commissionStatusFilter:h,setCommissionStatusFilter:p,setBrokerCommissions:f,setBrokerForm:y,setPayoutForm:v,setSelectedBroker:j,setModalType:N,setModalOpen:w,fetchBrokers:_,fetchBrokerCommissionsList:T,openBrokerDetail:R,closeBrokerDetail:E,showConfirmDialog:A,handleCancelCommission:V,handleDeleteBrokerReferral:k}=cn(),B=async P=>{if(s?.id){p(P);try{const H=await tx(s.id,{status:P==="all"?void 0:P}),D=H.data?.commissions?.data??H.data?.commissions;f({data:Array.isArray(D)?D:[],statistics:H.data?.statistics||{}})}catch(H){console.error("Failed to fetch broker commissions:",H)}}};return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Q,{variant:"outline",onClick:()=>{y({username:"",phone_number:"",email:"",password:"",password_confirmation:"",first_name:"",last_name:""}),N("create-broker"),w(!0)},children:[e.jsx(xs,{className:"w-4 h-4 mr-2"}),"Create Broker"]}),e.jsxs(Q,{onClick:()=>{v({broker_id:s?.id?String(s.id):"select",amount:s?.id&&r?.balance!=null?String(r.balance):"",reference:"",notes:""}),N("create-broker-payout"),w(!0)},children:[e.jsx(Is,{className:"w-4 h-4 mr-2"}),"Create Payout"]})]}),e.jsx(Q,{variant:"outline",size:"icon",onClick:()=>{_(),T()},children:e.jsx(Nt,{className:"w-4 h-4"})})]}),s?e.jsxs(Ae,{children:[e.jsxs(ns,{className:"flex flex-row items-center justify-between",children:[e.jsxs(rs,{className:"flex items-center gap-2",children:[e.jsx(xs,{className:"w-5 h-5"}),s.username||`${s.first_name||""} ${s.last_name||""}`.trim()||`Broker #${s.id}`]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>{v({broker_id:String(s.id),amount:r?.balance?String(r.balance):"",reference:"",notes:""}),N("create-broker-payout"),w(!0)},children:[e.jsx(Is,{className:"w-4 h-4 mr-1"}),"Pay broker"]}),e.jsx(Q,{variant:"ghost",size:"sm",onClick:E,children:"Close"})]})]}),e.jsx(Ee,{children:e.jsxs(fo,{value:a,onValueChange:n,className:"w-full",children:[e.jsxs(Si,{className:"grid w-full grid-cols-4",children:[e.jsx(Pt,{value:"overview",children:"Overview"}),e.jsx(Pt,{value:"commissions",children:"Commissions"}),e.jsx(Pt,{value:"payouts",children:"Payouts"}),e.jsx(Pt,{value:"referrals",children:"Referrals"})]}),e.jsx(zt,{value:"overview",className:"space-y-4 mt-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(Ae,{children:e.jsxs(Ee,{className:"pt-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Balance"}),e.jsxs("p",{className:"text-2xl font-bold",style:{color:Gr.limeGreen},children:["$",(r?.balance??0).toFixed(2)]})]})}),e.jsx(Ae,{children:e.jsxs(Ee,{className:"pt-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total commissions"}),e.jsxs("p",{className:"text-2xl font-bold",children:["$",(r?.total_commissions??i.statistics?.total_commissions??0).toFixed(2)]})]})}),e.jsx(Ae,{children:e.jsxs(Ee,{className:"pt-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total payouts"}),e.jsxs("p",{className:"text-2xl font-bold",children:["$",(r?.total_payouts??i.statistics?.total_payouts??0).toFixed(2)]})]})})]})}),e.jsxs(zt,{value:"commissions",className:"mt-4",children:[e.jsx("div",{className:"flex gap-2 mb-4",children:["all","pending","paid","cancelled"].map(P=>e.jsx(Q,{variant:h===P?"default":"outline",size:"sm",onClick:()=>B(P),children:P.charAt(0).toUpperCase()+P.slice(1)},P))}),e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"ID"}),e.jsx(J,{children:"Referred user"}),e.jsx(J,{children:"Promo code"}),e.jsx(J,{children:"Booking amount"}),e.jsx(J,{children:"Commission"}),e.jsx(J,{children:"Status"}),e.jsx(J,{children:"Completed at"}),e.jsx(J,{children:"Actions"})]})}),e.jsx(wt,{children:(Array.isArray(i.data)?i.data:[]).map(P=>e.jsxs(Ne,{children:[e.jsx(Y,{children:P.id}),e.jsx(Y,{children:P.referredUser?`${P.referredUser.first_name||""} ${P.referredUser.last_name||""}`.trim()||P.referredUser.username:P.referred_user_id}),e.jsx(Y,{children:P.promoCode?.code||""}),e.jsxs(Y,{children:["$",Number(P.booking_amount||0).toFixed(2)]}),e.jsxs(Y,{children:["$",Number(P.commission_amount||0).toFixed(2)," (",P.commission_percentage,"%)"]}),e.jsx(Y,{children:e.jsx(Re,{variant:P.status==="paid"?"default":P.status==="cancelled"?"secondary":"outline",children:P.status})}),e.jsx(Y,{children:P.booking_completed_at?new Date(P.booking_completed_at).toLocaleDateString():""}),e.jsx(Y,{children:P.status==="pending"&&e.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>A("Cancel commission","Are you sure? This cannot be undone.",()=>V(P.id)),children:"Cancel"})})]},P.id))})]})]}),e.jsx(zt,{value:"payouts",className:"mt-4",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"Reference ID"}),e.jsx(J,{children:"Amount"}),e.jsx(J,{children:"Paid at"}),e.jsx(J,{children:"Description"})]})}),e.jsx(wt,{children:(Array.isArray(l.data)?l.data:[]).map(P=>e.jsxs(Ne,{children:[e.jsx(Y,{className:"font-mono text-xs",children:P.reference_id||P.id}),e.jsxs(Y,{children:["$",((P.amount||0)/100).toFixed(2)]}),e.jsx(Y,{children:P.paid_at?new Date(P.paid_at).toLocaleString():""}),e.jsx(Y,{children:P.description||P.metadata?.reference||""})]},P.id))})]})}),e.jsx(zt,{value:"referrals",className:"mt-4",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"ID"}),e.jsx(J,{children:"Referred user"}),e.jsx(J,{children:"Promo code"}),e.jsx(J,{children:"Actions"})]})}),e.jsx(wt,{children:(Array.isArray(d)?d:[]).map(P=>e.jsxs(Ne,{children:[e.jsx(Y,{children:P.id}),e.jsx(Y,{children:P.referredUser?`${P.referredUser.first_name||""} ${P.referredUser.last_name||""}`.trim()||P.referredUser.username:P.referred_user_id}),e.jsx(Y,{children:P.promoCode?.code||""}),e.jsx(Y,{children:e.jsx(Q,{variant:"ghost",size:"sm",className:"text-red-500",onClick:()=>A("Delete referral","Remove this referral link? This cannot be undone.",()=>k(P.id)),children:"Delete"})})]},P.id))})]})})]})})]}):e.jsxs(e.Fragment,{children:[e.jsxs(Ae,{children:[e.jsxs(ns,{children:[e.jsx(rs,{children:"Brokers"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Click Manage to view balance, commissions, payouts, and referrals."})]}),e.jsx(Ee,{className:"p-0",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"ID"}),e.jsx(J,{children:"Username"}),e.jsx(J,{children:"Name"}),e.jsx(J,{children:"Phone"}),e.jsx(J,{children:"Actions"})]})}),e.jsx(wt,{children:(Array.isArray(t)?t:[]).map(P=>e.jsxs(Ne,{children:[e.jsx(Y,{children:P.id}),e.jsx(Y,{children:P.username}),e.jsx(Y,{children:[P.first_name,P.last_name].filter(Boolean).join(" ")||""}),e.jsx(Y,{children:P.phone_number||""}),e.jsx(Y,{children:e.jsx(Q,{variant:"outline",size:"sm",onClick:()=>R(P),children:"Manage"})})]},P.id))})]})})]}),e.jsxs(Ae,{children:[e.jsx(ns,{children:e.jsx(rs,{children:"All broker commissions"})}),e.jsx(Ee,{className:"p-0",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"ID"}),e.jsx(J,{children:"Broker"}),e.jsx(J,{children:"Referred user"}),e.jsx(J,{children:"Promo"}),e.jsx(J,{children:"Amount"}),e.jsx(J,{children:"Status"})]})}),e.jsx(wt,{children:(Array.isArray(u?.data)?u.data:[]).map(P=>e.jsxs(Ne,{children:[e.jsx(Y,{children:P.id}),e.jsx(Y,{children:P.broker?P.broker.username||`${P.broker.first_name||""} ${P.broker.last_name||""}`:P.broker_id}),e.jsx(Y,{children:P.referredUser?`${P.referredUser.first_name||""} ${P.referredUser.last_name||""}`.trim()||P.referredUser.username:""}),e.jsx(Y,{children:P.promoCode?.code||""}),e.jsxs(Y,{children:["$",Number(P.commission_amount||0).toFixed(2)]}),e.jsx(Y,{children:e.jsx(Re,{variant:P.status==="paid"?"default":P.status==="cancelled"?"secondary":"outline",children:P.status})})]},P.id))})]})})]})]})]})}function Poe(){const{featuredCars:t,setSelectedItem:s,setModalType:a,setModalOpen:n,fetchFeaturedCars:r,showConfirmDialog:i,deleteFeaturedCar:l}=cn(),d=t?.data??(Array.isArray(t)?t:[]);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(Q,{onClick:()=>{s(null),a("create-featured-car"),n(!0)},children:[e.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Create Featured Car"]}),e.jsx(Q,{variant:"outline",size:"icon",onClick:r,children:e.jsx(Nt,{className:"w-4 h-4"})})]}),e.jsx(Ae,{children:e.jsx(Ee,{className:"p-0",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"ID"}),e.jsx(J,{children:"Car"}),e.jsx(J,{children:"Duration"}),e.jsx(J,{children:"Start Date"}),e.jsx(J,{children:"Expire Date"}),e.jsx(J,{children:"Actions"})]})}),e.jsx(wt,{children:(Array.isArray(d)?d:[]).map(u=>e.jsxs(Ne,{children:[e.jsx(Y,{children:u.id}),e.jsxs(Y,{children:[u.car?.make," ",u.car?.model]}),e.jsxs(Y,{children:[u.duration," days"]}),e.jsx(Y,{children:new Date(u.start_at).toLocaleDateString()}),e.jsx(Y,{children:new Date(u.expire_at).toLocaleDateString()}),e.jsx(Y,{children:e.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>i("Remove Featured Car","Are you sure?",()=>l(u.id)),children:e.jsx(Xs,{className:"w-4 h-4 text-red-500"})})})]},u.id))})]})})})]})}function Ooe(){const{holidays:t,setSelectedItem:s,setModalType:a,setModalOpen:n,fetchHolidays:r,showConfirmDialog:i,deleteHoliday:l}=cn(),d=t?.data??(Array.isArray(t)?t:[]);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(Q,{onClick:()=>{s(null),a("create-holiday"),n(!0)},children:[e.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Create Holiday"]}),e.jsx(Q,{variant:"outline",size:"icon",onClick:r,children:e.jsx(Nt,{className:"w-4 h-4"})})]}),e.jsx(Ae,{children:e.jsx(Ee,{className:"p-0",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"ID"}),e.jsx(J,{children:"Car"}),e.jsx(J,{children:"Holiday Name"}),e.jsx(J,{children:"Dates"}),e.jsx(J,{children:"Increase %"}),e.jsx(J,{children:"Active"}),e.jsx(J,{children:"Actions"})]})}),e.jsx(wt,{children:(Array.isArray(d)?d:[]).map(u=>e.jsxs(Ne,{children:[e.jsx(Y,{children:u.id}),e.jsxs(Y,{children:[u.car?.make," ",u.car?.model]}),e.jsx(Y,{children:u.holiday_name}),e.jsxs(Y,{children:[u.holiday_dates?.start," - ",u.holiday_dates?.end]}),e.jsxs(Y,{children:[u.percentage_increase,"%"]}),e.jsx(Y,{children:u.is_active?e.jsx(Pa,{className:"w-4 h-4 text-green-500"}):e.jsx(Bn,{className:"w-4 h-4 text-gray-400"})}),e.jsx(Y,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>{s(u),a("edit-holiday"),n(!0)},children:e.jsx(ca,{className:"w-4 h-4"})}),e.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>i("Delete Holiday","Are you sure you want to delete this holiday?",()=>l(u.id)),children:e.jsx(Xs,{className:"w-4 h-4 text-red-500"})})]})})]},u.id))})]})})})]})}function Loe(){const{suggestions:t,setSelectedItem:s,setModalType:a,setModalOpen:n,fetchSuggestions:r,showConfirmDialog:i,deleteSuggestion:l}=cn(),d=t?.data??(Array.isArray(t)?t:[]);return e.jsxs("div",{className:"space-y-4",children:[e.jsx(Q,{variant:"outline",size:"icon",onClick:r,"aria-label":"Refresh suggestions",children:e.jsx(Nt,{className:"w-4 h-4"})}),e.jsx(Ae,{children:e.jsx(Ee,{className:"p-0",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"ID"}),e.jsx(J,{children:"User"}),e.jsx(J,{children:"Title"}),e.jsx(J,{children:"Status"}),e.jsx(J,{children:"Actions"})]})}),e.jsx(wt,{children:(Array.isArray(d)?d:[]).map(u=>e.jsxs(Ne,{children:[e.jsx(Y,{children:u.id}),e.jsx(Y,{children:u.user?.name||"N/A"}),e.jsx(Y,{children:u.title}),e.jsx(Y,{children:e.jsx(Re,{variant:"outline",children:u.status})}),e.jsx(Y,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>{s(u),a("edit-suggestion"),n(!0)},children:e.jsx(ca,{className:"w-4 h-4"})}),e.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>i("Delete Suggestion","Are you sure you want to delete this suggestion?",()=>l(u.id)),children:e.jsx(Xs,{className:"w-4 h-4 text-red-500"})})]})})]},u.id))})]})})})]})}function Boe(){const{notifications:t,setSelectedItem:s,setModalType:a,setModalOpen:n,fetchNotifications:r}=cn(),i=t?.data??(Array.isArray(t)?t:[]);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(Q,{onClick:()=>{s(null),a("send-notification"),n(!0)},children:[e.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Send to All Users"]}),e.jsx(Q,{variant:"outline",size:"icon",onClick:r,children:e.jsx(Nt,{className:"w-4 h-4"})})]}),e.jsx(Ae,{children:e.jsx(Ee,{className:"p-0",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"ID"}),e.jsx(J,{children:"Title"}),e.jsx(J,{children:"Type"}),e.jsx(J,{children:"Read"}),e.jsx(J,{children:"Sent"}),e.jsx(J,{children:"Created"})]})}),e.jsx(wt,{children:(Array.isArray(i)?i:[]).map(l=>e.jsxs(Ne,{children:[e.jsx(Y,{children:l.id}),e.jsx(Y,{children:l.title}),e.jsx(Y,{children:e.jsx(Re,{variant:"outline",children:l.type})}),e.jsx(Y,{children:l.is_read?e.jsx(Pa,{className:"w-4 h-4 text-green-500"}):e.jsx(Bn,{className:"w-4 h-4 text-gray-400"})}),e.jsx(Y,{children:l.is_sent?e.jsx(Pa,{className:"w-4 h-4 text-green-500"}):e.jsx(Bn,{className:"w-4 h-4 text-gray-400"})}),e.jsx(Y,{children:new Date(l.created_at).toLocaleDateString()})]},l.id))})]})})})]})}function Foe(){const{otps:t,loading:s,filters:a,setFilters:n,fetchOtps:r}=cn(),i=t?.data??(Array.isArray(t)?t:[]);return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oe,{placeholder:"Search by phone number...",className:"w-64",value:a.otps.phone_number,onChange:l=>n(d=>({...d,otps:{...d.otps,phone_number:l.target.value}}))}),e.jsxs(et,{value:a.otps.expired,onValueChange:l=>n(d=>({...d,otps:{...d.otps,expired:l}})),children:[e.jsx(Ze,{className:"w-40",children:e.jsx(tt,{placeholder:"Expired"})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"all",children:"All OTPs"}),e.jsx(ce,{value:"false",children:"Active"}),e.jsx(ce,{value:"true",children:"Expired"})]})]})]}),e.jsx(Q,{variant:"outline",size:"icon",onClick:r,children:e.jsx(Nt,{className:"w-4 h-4"})})]}),e.jsx(Ae,{children:e.jsx(Ee,{className:"p-0",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"ID"}),e.jsx(J,{children:"Phone Number"}),e.jsx(J,{children:"OTP Code"}),e.jsx(J,{children:"Created At"}),e.jsx(J,{children:"Expires At"}),e.jsx(J,{children:"Status"})]})}),e.jsx(wt,{children:s&&(Array.isArray(i)?i:[]).length===0?e.jsx(Ne,{children:e.jsxs(Y,{colSpan:6,className:"text-center py-8",children:[e.jsx(Nt,{className:"w-6 h-6 animate-spin mx-auto mb-2"}),"Loading OTPs..."]})}):(Array.isArray(i)?i:[]).length===0?e.jsx(Ne,{children:e.jsx(Y,{colSpan:6,className:"text-center py-8 text-muted-foreground",children:"No OTPs found"})}):(Array.isArray(i)?i:[]).map(l=>{const d=new Date(l.expired_at)<new Date;return e.jsxs(Ne,{children:[e.jsx(Y,{children:l.id}),e.jsx(Y,{children:l.phone_number}),e.jsx(Y,{className:"font-mono font-bold",children:l.code}),e.jsx(Y,{children:new Date(l.created_at).toLocaleString()}),e.jsx(Y,{children:new Date(l.expired_at).toLocaleString()}),e.jsx(Y,{children:d?e.jsx(Re,{variant:"destructive",children:"Expired"}):e.jsx(Re,{variant:"default",children:"Active"})})]},l.id)})})]})})})]})}function Ioe(){const t=cn(),{services:s,thirdParties:a,serviceItems:n,serviceFeedbacks:r,loading:i,filters:l,setFilters:d,selectedServiceId:u,setSelectedItem:h,setModalType:p,setModalOpen:f,setConfirmDialog:y,fetchServices:v,fetchThirdParties:j,fetchServiceItems:N,fetchServiceFeedbacks:w,handleDeleteService:_,handleDeleteFeedback:T,handleDeleteServiceItem:R}=t;return e.jsx("div",{className:"space-y-6",children:e.jsxs(fo,{defaultValue:"services-list",className:"w-full",children:[e.jsxs(Si,{className:"grid w-full grid-cols-4 mb-4",children:[e.jsxs(Pt,{value:"services-list",className:"text-xs",children:[e.jsx(Oc,{className:"w-4 h-4 mr-1"}),"Services"]}),e.jsxs(Pt,{value:"third-parties",className:"text-xs",children:[e.jsx(no,{className:"w-4 h-4 mr-1"}),"Third Parties"]}),e.jsxs(Pt,{value:"service-items",className:"text-xs",children:[e.jsx(gi,{className:"w-4 h-4 mr-1"}),"Service Items"]}),e.jsxs(Pt,{value:"service-feedbacks",className:"text-xs",children:[e.jsx(Hr,{className:"w-4 h-4 mr-1"}),"Feedbacks"]})]}),e.jsxs(zt,{value:"services-list",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Q,{onClick:()=>{h(null),p("create-service"),f(!0)},children:[e.jsx(Gs,{className:"w-4 h-4 mr-1"}),"Create Service"]}),e.jsx(Q,{variant:"outline",size:"icon",onClick:v,"aria-label":"Refresh services",children:e.jsx(Nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oe,{placeholder:"Search services...",value:l.services.search,onChange:E=>d({...l,services:{...l.services,search:E.target.value}}),className:"w-48"}),e.jsxs(et,{value:l.services.category,onValueChange:E=>d({...l,services:{...l.services,category:E}}),children:[e.jsx(Ze,{className:"w-40",children:e.jsx(tt,{placeholder:"Category"})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"all",children:"All"}),e.jsx(ce,{value:"transport",children:"Transport"}),e.jsx(ce,{value:"accommodation",children:"Accommodation"}),e.jsx(ce,{value:"food",children:"Food"}),e.jsx(ce,{value:"entertainment",children:"Entertainment"}),e.jsx(ce,{value:"other",children:"Other"})]})]}),e.jsx(Q,{onClick:v,children:e.jsx(Ca,{className:"w-4 h-4"})})]})]}),e.jsx(Ae,{children:e.jsx(Ee,{className:"p-0",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"ID"}),e.jsx(J,{children:"Name"}),e.jsx(J,{children:"Owner"}),e.jsx(J,{children:"Category"}),e.jsx(J,{children:"Price"}),e.jsx(J,{children:"Rating"}),e.jsx(J,{children:"Featured"}),e.jsx(J,{children:"Actions"})]})}),e.jsx(wt,{children:i?e.jsx(Ne,{children:e.jsx(Y,{colSpan:8,className:"text-center py-8",children:"Loading..."})}):(Array.isArray(s)?s:[]).length===0?e.jsx(Ne,{children:e.jsx(Y,{colSpan:8,className:"text-center py-8",children:"No services found"})}):(Array.isArray(s)?s:[]).map(E=>e.jsxs(Ne,{children:[e.jsx(Y,{children:E.id}),e.jsx(Y,{className:"font-medium",children:E.name}),e.jsx(Y,{children:E.third_party?e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-medium",children:E.third_party.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:E.third_party.email})]}):E.third_party_id?e.jsxs("span",{className:"text-muted-foreground",children:["ID: ",E.third_party_id]}):e.jsx("span",{className:"text-muted-foreground",children:"-"})}),e.jsx(Y,{children:e.jsx(Re,{variant:"outline",children:E.category})}),e.jsxs(Y,{children:["$",(parseFloat(E.price)||0).toFixed(2)]}),e.jsx(Y,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ks,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}),E.rating?(parseFloat(E.rating)||0).toFixed(1):"N/A"]})}),e.jsx(Y,{children:e.jsx(Re,{variant:E.featured?"default":"secondary",children:E.featured?"Yes":"No"})}),e.jsx(Y,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Q,{size:"sm",variant:"ghost",onClick:()=>{h(E),p("view-service"),f(!0)},children:e.jsx(Ys,{className:"w-4 h-4"})}),e.jsx(Q,{size:"sm",variant:"ghost",onClick:()=>{h(E),p("edit-service"),f(!0)},children:e.jsx(ca,{className:"w-4 h-4"})}),e.jsx(Q,{size:"sm",variant:"ghost",onClick:()=>t.fetchServiceItems(E.id),children:e.jsx(gi,{className:"w-4 h-4"})}),e.jsx(Q,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>y({open:!0,title:"Delete Service",message:`Are you sure you want to delete "${E.name}"?`,onConfirm:()=>_(E.id)}),children:e.jsx(Xs,{className:"w-4 h-4"})})]})})]},E.id))})]})})})]}),e.jsxs(zt,{value:"third-parties",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Q,{onClick:()=>{h(null),p("create-third-party"),f(!0)},children:[e.jsx(Gs,{className:"w-4 h-4 mr-1"}),"Create Third Party"]}),e.jsx(Q,{variant:"outline",size:"icon",onClick:j,children:e.jsx(Nt,{className:"w-4 h-4"})})]}),e.jsx(oe,{placeholder:"Search third parties...",value:l.thirdParties.search,onChange:E=>d({...l,thirdParties:{...l.thirdParties,search:E.target.value}}),className:"w-64"})]}),e.jsx(Ae,{children:e.jsx(Ee,{className:"p-0",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"ID"}),e.jsx(J,{children:"Name"}),e.jsx(J,{children:"Contact"}),e.jsx(J,{children:"Category"}),e.jsx(J,{children:"City"}),e.jsx(J,{children:"Subscription"}),e.jsx(J,{children:"Created At"}),e.jsx(J,{children:"Actions"})]})}),e.jsx(wt,{children:i?e.jsx(Ne,{children:e.jsx(Y,{colSpan:8,className:"text-center py-8",children:"Loading..."})}):(Array.isArray(a)?a:[]).length===0?e.jsx(Ne,{children:e.jsx(Y,{colSpan:8,className:"text-center py-8",children:"No third parties found"})}):(Array.isArray(a)?a:[]).map(E=>e.jsxs(Ne,{children:[e.jsx(Y,{children:E.id}),e.jsx(Y,{children:e.jsx("p",{className:"font-medium",children:E.name})}),e.jsx(Y,{children:E.email||E.phone||"-"}),e.jsx(Y,{children:e.jsx(Re,{variant:"outline",children:E.category||"-"})}),e.jsx(Y,{children:E.city||"-"}),e.jsx(Y,{children:E.subscription_status||"-"}),e.jsx(Y,{children:E.created_at?new Date(E.created_at).toLocaleDateString():"-"}),e.jsx(Y,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Q,{size:"sm",variant:"ghost",onClick:()=>{h(E),p("view-third-party"),f(!0)},children:e.jsx(Ys,{className:"w-4 h-4"})}),e.jsx(Q,{size:"sm",variant:"ghost",onClick:()=>{h(E),p("edit-third-party"),f(!0)},children:e.jsx(ca,{className:"w-4 h-4"})}),e.jsx(Q,{size:"sm",variant:"ghost",onClick:()=>{h(E),p("create-service-for-tp"),f(!0)},children:e.jsx(Gs,{className:"w-4 h-4"})}),e.jsx(Q,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>y({open:!0,title:"Delete Third Party",message:"Are you sure?",onConfirm:()=>t.handleDeleteThirdParty(E.id)}),children:e.jsx(Xs,{className:"w-4 h-4"})})]})})]},E.id))})]})})})]}),e.jsxs(zt,{value:"service-items",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-2",children:u&&e.jsxs(e.Fragment,{children:[e.jsxs(Q,{onClick:()=>{h(null),p("create-service-item"),f(!0)},children:[e.jsx(Gs,{className:"w-4 h-4 mr-1"}),"Add Item"]}),e.jsx(Q,{variant:"outline",size:"icon",onClick:()=>N(u),children:e.jsx(Nt,{className:"w-4 h-4"})})]})}),e.jsxs(et,{value:u?.toString()||"",onValueChange:E=>E&&t.fetchServiceItems(parseInt(E)),children:[e.jsx(Ze,{className:"w-64",children:e.jsx(tt,{placeholder:"Select a service to view items"})}),e.jsx(Je,{children:(Array.isArray(s)?s:[]).map(E=>e.jsx(ce,{value:String(E.id),children:E.name},E.id))})]})]}),u?e.jsxs(Ae,{children:[e.jsx(ns,{children:e.jsxs(rs,{children:["Items for Service #",u]})}),e.jsx(Ee,{className:"p-0",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"ID"}),e.jsx(J,{children:"Name"}),e.jsx(J,{children:"Description"}),e.jsx(J,{children:"Price"}),e.jsx(J,{children:"Image"}),e.jsx(J,{children:"Actions"})]})}),e.jsx(wt,{children:i?e.jsx(Ne,{children:e.jsx(Y,{colSpan:6,className:"text-center py-8",children:"Loading..."})}):(Array.isArray(n)?n:[]).length===0?e.jsx(Ne,{children:e.jsx(Y,{colSpan:6,className:"text-center py-8",children:"No items found"})}):(Array.isArray(n)?n:[]).map(E=>e.jsxs(Ne,{children:[e.jsx(Y,{children:E.id}),e.jsx(Y,{className:"font-medium",children:E.name}),e.jsx(Y,{className:"max-w-xs truncate",children:E.description||"N/A"}),e.jsxs(Y,{children:["$",(parseFloat(E.price)||0).toFixed(2)]}),e.jsx(Y,{children:E.image?e.jsx("img",{src:E.image,alt:E.name,className:"w-10 h-10 object-cover rounded"}):e.jsx("span",{className:"text-muted-foreground",children:"No image"})}),e.jsx(Y,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Q,{size:"sm",variant:"ghost",onClick:()=>{h(E),p("edit-service-item"),f(!0)},children:e.jsx(ca,{className:"w-4 h-4"})}),e.jsx(Q,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>y({open:!0,title:"Delete Item",message:`Delete "${E.name}"?`,onConfirm:()=>R(E.id)}),children:e.jsx(Xs,{className:"w-4 h-4"})})]})})]},E.id))})]})})]}):e.jsx(Ae,{children:e.jsxs(Ee,{className:"py-12 text-center text-muted-foreground",children:[e.jsx(gi,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Select a service from the dropdown above"})]})})]}),e.jsxs(zt,{value:"service-feedbacks",className:"space-y-4",children:[e.jsx(Q,{variant:"outline",size:"icon",onClick:w,children:e.jsx(Nt,{className:"w-4 h-4"})}),e.jsx(Ae,{children:e.jsx(Ee,{className:"p-0",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"ID"}),e.jsx(J,{children:"Service"}),e.jsx(J,{children:"User"}),e.jsx(J,{children:"Rating"}),e.jsx(J,{children:"Comment"}),e.jsx(J,{children:"Helpful"}),e.jsx(J,{children:"Created At"}),e.jsx(J,{children:"Actions"})]})}),e.jsx(wt,{children:i?e.jsx(Ne,{children:e.jsx(Y,{colSpan:8,className:"text-center py-8",children:"Loading..."})}):(Array.isArray(r)?r:[]).length===0?e.jsx(Ne,{children:e.jsx(Y,{colSpan:8,className:"text-center py-8",children:"No feedbacks found"})}):(Array.isArray(r)?r:[]).map(E=>e.jsxs(Ne,{children:[e.jsx(Y,{children:E.id}),e.jsx(Y,{children:E.service?.name||E.service_id}),e.jsx(Y,{children:E.user?.name||E.user_id}),e.jsx(Y,{children:e.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((A,V)=>e.jsx(Ks,{className:`w-4 h-4 ${V<E.rating?"text-yellow-500 fill-yellow-500":"text-gray-300"}`},V))})}),e.jsx(Y,{className:"max-w-xs truncate",children:E.comment||"N/A"}),e.jsx(Y,{children:E.helpful_count||0}),e.jsx(Y,{children:new Date(E.created_at).toLocaleDateString()}),e.jsx(Y,{children:e.jsx(Q,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>y({open:!0,title:"Delete Feedback",message:"Are you sure?",onConfirm:()=>T(E.id)}),children:e.jsx(Xs,{className:"w-4 h-4"})})})]},E.id))})]})})})]})]})})}function $oe(){const t=Ua(),[s,a]=x.useState("dashboard"),[n,r]=x.useState(!1),[i,l]=x.useState(null),[d,u]=x.useState([]),[h,p]=x.useState([]),[f,y]=x.useState([]),[v,j]=x.useState([]),[N,w]=x.useState([]),[_,T]=x.useState([]),[R,E]=x.useState([]),[A,V]=x.useState([]),[k,B]=x.useState([]),[P,H]=x.useState([]),[D,K]=x.useState([]),[X,ne]=x.useState([]),[te,U]=x.useState([]),[q,G]=x.useState([]),[F,M]=x.useState([]),[z,ie]=x.useState([]),[le,re]=x.useState({username:"",phone_number:"",email:"",password:"",password_confirmation:"",first_name:"",last_name:""}),[fe,we]=x.useState(null),[ye,Be]=x.useState("overview"),[ke,Ye]=x.useState(null),[rt,Se]=x.useState({data:[],statistics:{}}),[Xe,Pe]=x.useState({data:[]}),[mt,_t]=x.useState({data:[]}),[at,ds]=x.useState({broker_id:"",amount:"",reference:"",notes:""}),[us,Ps]=x.useState("all"),[pe,_e]=x.useState({}),[he,$e]=x.useState({}),[Ve,dt]=x.useState([]),[xt,ot]=x.useState([]),[It,Dt]=x.useState([]),[es,Us]=x.useState([]),[is,bs]=x.useState(null),[Me,Ue]=x.useState({users:{page:1,per_page:50},cars:{page:1,per_page:50},bookings:{page:1,per_page:50},payments:{page:1,per_page:50},announcements:{page:1,per_page:50},appeals:{page:1,per_page:50},ads:{page:1,per_page:50},featuredCars:{page:1,per_page:50},holidays:{page:1,per_page:50},suggestions:{page:1,per_page:50},notifications:{page:1,per_page:50},otps:{page:1,per_page:50},services:{page:1,per_page:50},thirdParties:{page:1,per_page:50},serviceFeedbacks:{page:1,per_page:50},promoCodes:{page:1,per_page:50}}),[Fe,os]=x.useState({users:{role:"all",status:"all"},cars:{status:"all",car_accepted:"all",agent_id:""},bookings:{status:"all"},payments:{type:"all"},announcements:{status:"all"},appeals:{status:"all",priority:"all"},ads:{status:"all"},featuredCars:{status:"all"},holidays:{car_id:"",active:"all"},suggestions:{status:"all"},notifications:{type:"all",is_read:"all"},otps:{phone_number:"",expired:"all"},services:{category:"all",city:"",featured:"all",search:""},thirdParties:{search:""},promoCodes:{broker_id:"all",is_active:"all"}}),[Es,js]=x.useState(null),[rr,da]=x.useState(null),[Xa,kt]=x.useState("month"),[Z,yt]=x.useState(null),[Hs,gt]=x.useState(!1),[Ge,ls]=x.useState(""),[ea,Os]=x.useState({open:!1,title:"",message:"",onConfirm:null}),Ta=async()=>{try{const{data:I}=await xe.get("/admin/reports/summary");l(I.summary)}catch(I){console.error("Error fetching summary:",I),se.error("Failed to load dashboard summary")}},yn=async()=>{r(!0);try{const I={page:Me.users.page,per_page:Me.users.per_page};Fe.users.role&&Fe.users.role!=="all"&&(I.role=Fe.users.role),Fe.users.status&&Fe.users.status!=="all"&&(I.status=Fe.users.status==="active"||Fe.users.status==="true");const de=await wm(I);u(de.data.users)}catch{se.error("Failed to fetch users")}finally{r(!1)}},dn=async I=>{try{const{data:de}=await xe.get(`/admin/users/${I}`);return de.user}catch{return se.error("Failed to fetch user details"),null}},Zr=async()=>{r(!0);try{const I={page:Me.cars.page,per_page:Me.cars.per_page,with_images:!0};Fe.cars.status&&Fe.cars.status!=="all"&&(I.status=Fe.cars.status),Fe.cars.car_accepted&&Fe.cars.car_accepted!=="all"&&(I.car_accepted=Fe.cars.car_accepted),Fe.cars.agent_id&&Fe.cars.agent_id!=="all"&&(I.agent_id=Fe.cars.agent_id);const de=await H3(I);p(de.data.cars)}catch{se.error("Failed to fetch cars")}finally{r(!1)}},Wc=async I=>{try{const{data:de}=await xe.get(`/admin/cars/${I}`);return de.car}catch{return se.error("Failed to fetch car details"),null}},un=async()=>{r(!0);try{const I=new URLSearchParams;Fe.bookings.status&&Fe.bookings.status!=="all"&&I.append("status",Fe.bookings.status),I.append("page",Me.bookings.page),I.append("per_page",Me.bookings.per_page);const{data:de}=await xe.get(`/admin/bookings?${I}`);y(de.bookings)}catch{se.error("Failed to fetch bookings")}finally{r(!1)}},ua=async I=>{try{const{data:de}=await xe.get(`/admin/bookings/${I}`);return de.booking}catch{return se.error("Failed to fetch booking details"),null}},aa=async()=>{r(!0);try{const I={page:Me.payments.page,per_page:Me.payments.per_page};Fe.payments.type&&Fe.payments.type!=="all"&&(I.type=Fe.payments.type);const de=await Gie(I);j(de.data.payments)}catch{se.error("Failed to fetch payments")}finally{r(!1)}},ga=async()=>{r(!0);try{const I=new URLSearchParams;Fe.announcements.status&&Fe.announcements.status!=="all"&&I.append("status",Fe.announcements.status),I.append("page",Me.announcements.page),I.append("per_page",Me.announcements.per_page);const{data:de}=await xe.get(`/admin/announcements?${I}`);w(de.announcements)}catch{se.error("Failed to fetch announcements")}finally{r(!1)}},Di=async()=>{r(!0);try{const I=new URLSearchParams;Fe.appeals.status&&Fe.appeals.status!=="all"&&I.append("status",Fe.appeals.status),Fe.appeals.priority&&Fe.appeals.priority!=="all"&&I.append("priority",Fe.appeals.priority),I.append("page",Me.appeals.page),I.append("per_page",Me.appeals.per_page);const{data:de}=await xe.get(`/admin/appeals?${I}`);T(de.appeals)}catch{se.error("Failed to fetch appeals")}finally{r(!1)}},Ei=async()=>{r(!0);try{const I=new URLSearchParams;Fe.ads.status&&Fe.ads.status!=="all"&&I.append("status",Fe.ads.status),I.append("page",Me.ads.page),I.append("per_page",Me.ads.per_page);const{data:de}=await xe.get(`/admin/ads?${I}`);E(de.ads)}catch{se.error("Failed to fetch ads")}finally{r(!1)}},_o=async()=>{r(!0);try{const I=new URLSearchParams;Fe.featuredCars.status&&Fe.featuredCars.status!=="all"&&I.append("status",Fe.featuredCars.status),I.append("page",Me.featuredCars.page),I.append("per_page",Me.featuredCars.per_page);const{data:de}=await xe.get(`/admin/featured-cars?${I}`);V(de.featured_cars)}catch{se.error("Failed to fetch featured cars")}finally{r(!1)}},ir=async()=>{r(!0);try{const I=new URLSearchParams;Fe.holidays.car_id&&Fe.holidays.car_id!=="all"&&I.append("car_id",Fe.holidays.car_id),Fe.holidays.active&&Fe.holidays.active!=="all"&&I.append("active",Fe.holidays.active),I.append("page",Me.holidays.page),I.append("per_page",Me.holidays.per_page);const{data:de}=await xe.get(`/admin/holidays?${I}`);B(de.holidays)}catch{se.error("Failed to fetch holidays")}finally{r(!1)}},Rr=async I=>{try{await xe.post("/admin/holidays",I),se.success("Holiday created successfully"),ir(),gt(!1)}catch(de){se.error(de.response?.data?.message||"Failed to create holiday")}},Ol=async(I,de)=>{try{await xe.put(`/admin/holidays/${I}`,de),se.success("Holiday updated successfully"),ir(),gt(!1)}catch{se.error("Failed to update holiday")}},Jr=async I=>{try{await xe.delete(`/admin/holidays/${I}`),se.success("Holiday deleted successfully"),ir()}catch{se.error("Failed to delete holiday")}},In=async()=>{r(!0);try{const I=new URLSearchParams;Fe.suggestions.status&&Fe.suggestions.status!=="all"&&I.append("status",Fe.suggestions.status),I.append("page",Me.suggestions.page),I.append("per_page",Me.suggestions.per_page);const{data:de}=await xe.get(`/admin/suggestions?${I}`);H(de.suggestions)}catch{se.error("Failed to fetch suggestions")}finally{r(!1)}},ei=async()=>{r(!0);try{const I=new URLSearchParams;Fe.notifications.type&&Fe.notifications.type!=="all"&&I.append("type",Fe.notifications.type),Fe.notifications.is_read&&Fe.notifications.is_read!=="all"&&I.append("is_read",Fe.notifications.is_read),I.append("page",Me.notifications.page),I.append("per_page",Me.notifications.per_page);const{data:de}=await xe.get(`/admin/notifications?${I}`);K(de.notifications)}catch{se.error("Failed to fetch notifications")}finally{r(!1)}},$n=async()=>{r(!0);try{const I={};Fe.otps.phone_number&&(I.phone_number=Fe.otps.phone_number),Fe.otps.expired&&Fe.otps.expired!=="all"&&(I.expired=Fe.otps.expired),I.per_page=Me.otps.per_page,I.page=Me.otps.page;const de=await goe(I);ne(de.data.otps)}catch(I){se.error(I.response?.data?.message||"Failed to fetch OTPs")}finally{r(!1)}},ks=async()=>{r(!0);try{const I={per_page:Me.services.per_page,page:Me.services.page};Fe.services.category&&Fe.services.category!=="all"&&(I.category=Fe.services.category),Fe.services.city&&(I.city=Fe.services.city),Fe.services.featured&&Fe.services.featured!=="all"&&(I.featured=Fe.services.featured==="true"),Fe.services.search&&(I.search=Fe.services.search);const de=await aO(I);dt(de.data.services?.data||de.data.services||[])}catch(I){se.error(I.response?.data?.message||"Failed to fetch services")}finally{r(!1)}},Co=async I=>{try{const{third_party_id:de,...nt}=I;if(!de){se.error("Please select a third party owner for this service");return}const hs={category:nt.category,name:nt.name,description:nt.description||void 0,tagline:nt.tagline||void 0,city:nt.city||void 0,contact_phone:nt.contact_phone||nt.phone||void 0,contact_email:nt.contact_email||void 0,min_price:nt.price??void 0,max_price:nt.price??void 0,currency:"USD"};console.log("Creating service for third party",de,"with payload:",hs),await xoe(de,hs),se.success("Service created successfully"),ks(),gt(!1)}catch(de){console.error("Create service failed:",{status:de.response?.status,data:de.response?.data});const nt=de.response?.data?.message||(typeof de.response?.data=="string"?de.response.data:null);se.error(nt||"Failed to create service")}},Ll=async(I,de)=>{try{await yoe(I,de),se.success("Service updated successfully"),ks(),gt(!1)}catch(nt){se.error(nt.response?.data?.message||"Failed to update service")}},or=async I=>{try{await nO(I),se.success("Service deleted successfully"),ks()}catch(de){se.error(de.response?.data?.message||"Failed to delete service")}},hn=async()=>{r(!0);try{const I={per_page:Me.thirdParties.per_page,page:Me.thirdParties.page},de=await oO(I);ot(de.data.third_parties?.data||de.data.third_parties||[])}catch(I){se.error(I.response?.data?.message||"Failed to fetch third parties")}finally{r(!1)}},bn=async I=>{const de={business_name:I.name,username:I.username,email:I.email,password:I.password,phone_number:I.phone,subscription:I.subscription||void 0,permissions:I.permissions||[]};console.log("Creating third party with payload:",de);try{await joe(de),se.success("Third party created successfully"),hn(),gt(!1)}catch(nt){console.error("Create third party failed:",{payload:de,status:nt.response?.status,data:nt.response?.data});const hs=nt.response?.data?.message||(typeof nt.response?.data=="string"?nt.response.data:null);se.error(hs||"Failed to create third party")}},ko=async(I,de)=>{try{const nt={business_name:de.name,username:de.username,email:de.email,phone_number:de.phone,subscription:de.subscription||void 0,permissions:de.permissions||[]};de.password&&(nt.password=de.password),await woe(I,nt),se.success("Third party updated successfully"),hn(),gt(!1)}catch(nt){se.error(nt.response?.data?.message||"Failed to update third party")}},zn=async I=>{try{await lO(I),se.success("Third party deleted successfully"),hn()}catch(de){se.error(de.response?.data?.message||"Failed to delete third party")}},Vn=async I=>{if(I){r(!0);try{const de=await rO(I);Dt(de.data.items||[]),bs(I)}catch(de){se.error(de.response?.data?.message||"Failed to fetch service items")}finally{r(!1)}}},Ri=async(I,de)=>{try{await boe(I,de),se.success("Service item created successfully"),Vn(I),gt(!1)}catch(nt){se.error(nt.response?.data?.message||"Failed to create service item")}},Mi=async(I,de)=>{try{await voe(I,de),se.success("Service item updated successfully"),is&&Vn(is),gt(!1)}catch(nt){se.error(nt.response?.data?.message||"Failed to update service item")}},vn=async I=>{try{await iO(I),se.success("Service item deleted successfully"),is&&Vn(is)}catch(de){se.error(de.response?.data?.message||"Failed to delete service item")}},Ba=async()=>{r(!0);try{const I={per_page:Me.serviceFeedbacks.per_page,page:Me.serviceFeedbacks.page},de=await cO(I);Us(de.data.feedbacks?.data||de.data.feedbacks||[])}catch(I){se.error(I.response?.data?.message||"Failed to fetch feedbacks")}finally{r(!1)}},Pi=async I=>{try{await dO(I),se.success("Feedback deleted successfully"),Ba()}catch(de){se.error(de.response?.data?.message||"Failed to delete feedback")}},Su=async(I="month")=>{try{const{data:de}=await xe.get(`/admin/reports/statistics?period=${I}`);js(de.statistics)}catch{se.error("Failed to fetch statistics")}},Bl=async(I="month")=>{try{const{data:de}=await xe.get(`/admin/reports/chart-data?period=${I}`);da(de)}catch{se.error("Failed to fetch chart data")}},So=async(I,de)=>{try{await xe.put(`/admin/users/${I}`,de),se.success("User updated successfully"),yn(),gt(!1)}catch(nt){se.error(nt.response?.data?.message||"Failed to update user")}},Mr=async(I,de=!1)=>{try{await xe.delete(`/admin/users/${I}${de?"/force":""}`),se.success(de?"User permanently deleted":"User deactivated"),yn()}catch{se.error("Failed to delete user")}},ti=async(I,de)=>{try{const nt={...de};["main_image","front_image","back_image","left_image","right_image"].forEach(ya=>{he[I]&&he[I][ya]&&(nt[ya]=he[I][ya])}),await q3(I,nt),se.success("Car updated successfully"),$e(ya=>{const Ia={...ya};return delete Ia[I],Ia}),Zr(),gt(!1)}catch{se.error("Failed to update car")}},xa=(I,de,nt)=>{nt&&$e(hs=>({...hs,[I]:{...hs[I],[de]:nt}}))},Pr=async I=>{try{await xe.delete(`/admin/cars/${I}`),se.success("Car deleted successfully"),Zr()}catch{se.error("Failed to delete car")}},Fl=async(I,de)=>{try{await xe.put(`/admin/bookings/${I}`,de),se.success("Booking updated successfully"),un(),gt(!1)}catch{se.error("Failed to update booking")}},Il=async I=>{try{await xe.post(`/admin/bookings/${I}/force-complete`),se.success("Booking force completed"),un()}catch{se.error("Failed to force complete booking")}},si=async(I,de="")=>{try{await xe.post(`/admin/refunds/${I}`,{description:de}),se.success("Refund processed successfully"),aa()}catch(nt){se.error(nt.response?.data?.message||"Failed to process refund")}},Yc=async I=>{try{const de={title:I.title,message:I.message,priority:I.priority||"medium",target_audience:I.target_audience||[],status:I.status||"draft"};I.scheduled_at&&(de.scheduled_at=I.scheduled_at),I.expires_at&&(de.expires_at=I.expires_at),I.categories&&I.categories.length>0&&(de.categories=I.categories),I.media&&I.media.length>0&&(de.media=I.media),await xe.post("/admin/announcements",de),se.success("Announcement created successfully"),ga(),gt(!1)}catch(de){se.error(de.response?.data?.message||"Failed to create announcement")}},Kc=async(I,de)=>{try{await xe.put(`/admin/announcements/${I}`,de),se.success("Announcement updated successfully"),ga(),gt(!1)}catch{se.error("Failed to update announcement")}},ai=async I=>{try{await xe.delete(`/admin/announcements/${I}`),se.success("Announcement deleted successfully"),ga()}catch{se.error("Failed to delete announcement")}},Au=async(I,de)=>{try{await xe.put(`/admin/appeals/${I}`,de),se.success("Appeal updated successfully"),Di(),gt(!1)}catch{se.error("Failed to update appeal")}},Ao=async(I,de)=>{try{await xe.put(`/admin/ads/${I}`,de),se.success("Ad updated successfully"),Ei(),gt(!1)}catch{se.error("Failed to update ad")}},lr=async I=>{try{await soe(I),se.success("Ad created successfully"),Ei(),gt(!1)}catch(de){se.error(de.response?.data?.message||"Failed to create ad")}},$l=async I=>{try{await xe.delete(`/admin/ads/${I}`),se.success("Ad deleted successfully"),Ei()}catch{se.error("Failed to delete ad")}},Tu=async I=>{try{await Wie(I),se.success("Payment/Invoice issued successfully"),aa(),gt(!1)}catch(de){se.error(de.response?.data?.message||"Failed to issue payment")}},Du=async I=>{try{await roe(I),se.success("Featured car created successfully"),_o(),gt(!1)}catch(de){se.error(de.response?.data?.message||"Failed to create featured car")}},To=async I=>{try{await xe.delete(`/admin/featured-cars/${I}`),se.success("Featured car removed successfully"),_o()}catch{se.error("Failed to remove featured car")}},jn=async(I,de)=>{try{await xe.put(`/admin/suggestions/${I}`,de),se.success("Suggestion updated successfully"),In(),gt(!1)}catch{se.error("Failed to update suggestion")}},zl=async I=>{try{await xe.delete(`/admin/suggestions/${I}`),se.success("Suggestion deleted successfully"),In()}catch{se.error("Failed to delete suggestion")}},Do=async I=>{try{await xe.post("/admin/notifications/send-to-all",I),se.success("Notification sent to all users successfully"),gt(!1)}catch{se.error("Failed to send notification")}},Or=async I=>{try{const de=await Yie(I),nt=await Kie(I);return _e(hs=>({...hs,[I]:{...de.data,app_fees_percentage:nt.data.fee_percentage||0}})),de.data}catch(de){return se.error(de.response?.data?.message||"Failed to fetch agent fee data"),null}},ni=async(I,de)=>{try{await Xie(I,{app_fees:de}),se.success("Agent fee percentage updated successfully"),await Or(I),yn()}catch(nt){se.error(nt.response?.data?.message||"Failed to update agent fee percentage")}},Xc=(I,de,nt)=>{Os({open:!0,title:I,message:de,onConfirm:nt})},ri=async()=>{try{const I=await wm({role:"broker",per_page:200}),de=I.data?.users?.data??I.data?.users??I.data?.data;ie(Array.isArray(de)?de:[])}catch(I){console.error("Failed to fetch brokers:",I)}},Oi=async()=>{r(!0);try{const I={page:Me.promoCodes.page,per_page:Me.promoCodes.per_page};Fe.promoCodes.broker_id&&Fe.promoCodes.broker_id!=="all"&&(I.broker_id=Fe.promoCodes.broker_id),Fe.promoCodes.is_active!=="all"&&(I.is_active=Fe.promoCodes.is_active);const de=await W3(I);U(de.data?.promo_codes||de.data?.promoCodes||de.data||[])}catch(I){console.error("Failed to fetch promo codes:",I),se.error("Failed to load promo codes")}finally{r(!1)}},ii=async(I,de)=>{r(!0);try{de?(await K3(de.id,I),se.success("Promo code updated successfully")):(await Y3(I),se.success("Promo code created successfully")),gt(!1),yt(null),await Oi()}catch(nt){console.error("Failed to save promo code:",nt);const hs=nt.response?.data?.message||"Failed to save promo code";se.error(hs)}finally{r(!1)}},Un=async I=>{r(!0);try{await X3(I),se.success("Promo code deleted successfully"),await Oi()}catch(de){console.error("Failed to delete promo code:",de),se.error("Failed to delete promo code")}finally{r(!1)}},Vl=async I=>{try{const de=await foe(I,{per_page:50});G(de.data?.users||[])}catch(de){console.error("Failed to fetch promo code users:",de),se.error("Failed to load users for this promo code")}},Li=async I=>{try{const de=await Lj(I,{per_page:50});M(de.data?.referrals||[])}catch(de){console.error("Failed to fetch broker referrals:",de),se.error("Failed to load broker referrals")}},wn=async()=>{const{username:I,phone_number:de,email:nt,password:hs,password_confirmation:ya,first_name:Ia,last_name:Lr}=le;if(!I?.trim()){se.error("Username is required");return}if(!de?.trim()){se.error("Phone number is required");return}if(!Ia?.trim()){se.error("First name is required");return}if(!Lr?.trim()){se.error("Last name is required");return}if(!hs){se.error("Password is required");return}if(hs.length<6){se.error("Password must be at least 6 characters");return}if(hs!==ya){se.error("Password and confirmation do not match");return}r(!0);try{await M1({username:I.trim(),phone_number:de.trim().replace(/^\+?/,""),email:nt?.trim()||void 0,password:hs,password_confirmation:ya||hs,first_name:Ia.trim(),last_name:Lr.trim()}),se.success("Broker created successfully"),gt(!1),re({username:"",phone_number:"",email:"",password:"",password_confirmation:"",first_name:"",last_name:""}),await ri()}catch(ur){console.error("Failed to create broker:",ur);const Mo=ur.response?.data,Po=Mo?.message||(Mo?.errors?Object.values(Mo.errors).flat().join(" "):null)||"Failed to create broker";se.error(Po)}finally{r(!1)}};x.useEffect(()=>{s==="dashboard"?(Ta(),Su(Xa),Bl(Xa)):s==="users"?yn():s==="cars"?Zr():s==="bookings"?un():s==="payments"?aa():s==="announcements"?ga():s==="appeals"?Di():s==="ads"?Ei():s==="featured-cars"?_o():s==="holidays"?ir():s==="suggestions"?In():s==="notifications"?ei():s==="otps"?$n():s==="services"?(ks(),hn()):s==="promo-codes"?(Oi(),z.length||ri()):s==="brokers"&&(ri(),Nn())},[s,Xa]);const Eo=async I=>{if(we(I),Be("overview"),I?.id)try{const[de,nt,hs,ya]=await Promise.all([Q3(I.id).catch(()=>({data:null})),tx(I.id).catch(()=>({data:{data:[],statistics:{}}})),Z3(I.id).catch(()=>({data:{payouts:{data:[]},summary:{}}})),Lj(I.id).catch(()=>({data:{referrals:[]}}))]);Ye(de.data);const Ia=nt.data?.commissions?.data??nt.data?.commissions,Lr=Array.isArray(Ia)?Ia:[];Se({data:Lr,statistics:nt.data?.statistics||{}});const ur=hs.data?.payouts||hs.data,Mo=Array.isArray(ur)?ur:Array.isArray(ur?.data)?ur.data:[];Pe({data:Mo});const Po=ya.data?.referrals??ya.data?.data;M(Array.isArray(Po)?Po:[])}catch(de){console.error("Failed to load broker detail:",de)}},Ro=()=>{we(null),Ye(null),Se({data:[],statistics:{}}),Pe({data:[]})},St=async()=>{fe?.id&&(await Eo(fe),await Nn())},Nn=async()=>{try{const I=await eO({per_page:50}),de=I.data?.commissions?.data??I.data?.commissions;_t({data:Array.isArray(de)?de:[]})}catch(I){console.error("Failed to fetch broker commissions:",I)}},cr=async()=>{const I=at.broker_id?Number(at.broker_id):fe?.id,de=parseFloat(at.amount);if(!I||!de||de<.01){se.error("Select a broker and enter amount (min 0.01)");return}r(!0);try{await J3({broker_id:I,amount:de,reference:at.reference?.trim()||void 0,notes:at.notes?.trim()||void 0}),se.success("Broker payout created successfully"),gt(!1),ds({broker_id:"",amount:"",reference:"",notes:""}),await St(),await Nn()}catch(nt){const hs=nt.response?.data,ya=hs?.message||(hs?.errors?Object.values(hs.errors).flat().join(" "):null)||"Failed to create payout",Ia=hs?.pending_balance;se.error(Ia!=null?`${ya} (Max: $${Number(Ia).toFixed(2)})`:ya)}finally{r(!1)}},Qc=async I=>{try{await tO(I),se.success("Commission cancelled"),await St(),await Nn()}catch(de){se.error(de.response?.data?.message||"Failed to cancel commission")}},Fa=async I=>{try{await sO(I),se.success("Referral deleted"),await St()}catch(de){se.error(de.response?.data?.message||"Failed to delete referral")}},dr=x.useMemo(()=>({COLORS:Gr,loading:n,summary:i,users:d,cars:h,bookings:f,payments:v,announcements:N,appeals:_,ads:R,featuredCars:A,holidays:k,suggestions:P,notifications:D,otps:X,promoCodes:te,promoCodeUsers:q,brokerReferrals:F,brokers:z,brokerForm:le,setBrokerForm:re,selectedBroker:fe,setSelectedBroker:we,brokerDetailTab:ye,setBrokerDetailTab:Be,brokerBalance:ke,brokerCommissions:rt,setBrokerCommissions:Se,brokerPayouts:Xe,brokerCommissionsList:mt,payoutForm:at,setPayoutForm:ds,commissionStatusFilter:us,setCommissionStatusFilter:Ps,filters:Fe,setFilters:os,pagination:Me,setPagination:Ue,selectedItem:Z,setSelectedItem:yt,modalOpen:Hs,setModalOpen:gt,modalType:Ge,setModalType:ls,confirmDialog:ea,setConfirmDialog:Os,navigate:t,fetchUsers:yn,fetchUserDetails:dn,fetchCars:Zr,fetchCarDetails:Wc,fetchBookings:un,fetchBookingDetails:ua,fetchPayments:aa,fetchAnnouncements:ga,fetchAppeals:Di,fetchAds:Ei,fetchFeaturedCars:_o,fetchHolidays:ir,fetchSuggestions:In,fetchNotifications:ei,fetchOtps:$n,updateUser:So,deleteUser:Mr,updateCar:ti,deleteCar:Pr,updateBooking:Fl,forceCompleteBooking:Il,processRefund:si,deleteAnnouncement:ai,deleteAd:$l,deleteFeaturedCar:To,deleteHoliday:Jr,deleteSuggestion:zl,showConfirmDialog:Xc,fetchPromoCodes:Oi,fetchPromoCodeUsers:Vl,fetchBrokerReferrals:Li,fetchBrokers:ri,handleCreateOrUpdatePromoCode:ii,handleDeletePromoCode:Un,handleCreateBroker:wn,openBrokerDetail:Eo,closeBrokerDetail:Ro,refreshBrokerDetail:St,fetchBrokerCommissionsList:Nn,handleCreateBrokerPayout:cr,handleCancelCommission:Qc,handleDeleteBrokerReferral:Fa,services:Ve,thirdParties:xt,serviceItems:It,serviceFeedbacks:es,selectedServiceId:is,setSelectedServiceId:bs,fetchServices:ks,fetchThirdParties:hn,fetchServiceItems:Vn,fetchServiceFeedbacks:Ba,handleCreateService:Co,handleUpdateService:Ll,handleDeleteService:or,handleCreateThirdParty:bn,handleUpdateThirdParty:ko,handleDeleteThirdParty:zn,handleCreateServiceItem:Ri,handleUpdateServiceItem:Mi,handleDeleteServiceItem:vn,handleDeleteFeedback:Pi}),[n,i,d,h,f,v,N,_,R,A,k,P,D,X,te,q,F,z,le,fe,ye,ke,rt,Xe,mt,at,us,Fe,Me,Z,Hs,Ge,ea,Ve,xt,It,es,is]);return e.jsx(pO.Provider,{value:dr,children:e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900",children:[e.jsx("header",{className:"sticky top-0 z-50 backdrop-blur-xl bg-white/80 dark:bg-gray-900/80 border-b border-gray-200/50 dark:border-gray-800/50 shadow-sm",children:e.jsx("div",{className:"container mx-auto px-4 sm:px-6 py-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>t("/"),className:"h-9 w-9","aria-label":"Go to home page",children:e.jsx(oD,{className:"w-5 h-5"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(to right, ${Gr.darkBlue}, ${Gr.teal}, ${Gr.limeGreen})`},children:"Admin Dashboard"}),e.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Manage your platform"})]})]}),e.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>{localStorage.clear(),t("/auth")},className:"h-9 w-9","aria-label":"Logout",children:e.jsx(jl,{className:"w-5 h-5"})})]})})}),e.jsx("main",{className:"container mx-auto px-4 sm:px-6 py-6 max-w-7xl",children:e.jsxs(fo,{value:s,onValueChange:a,className:"w-full",children:[e.jsxs(Si,{className:"grid w-full grid-cols-8 lg:grid-cols-16 mb-6 h-auto p-1 bg-gray-100 dark:bg-gray-800",children:[e.jsxs(Pt,{value:"dashboard",className:"text-xs",children:[e.jsx(eu,{className:"w-4 h-4 mr-1"}),"Dashboard"]}),e.jsxs(Pt,{value:"users",className:"text-xs",children:[e.jsx(xs,{className:"w-4 h-4 mr-1"}),"Users"]}),e.jsxs(Pt,{value:"cars",className:"text-xs",children:[e.jsx(Vt,{className:"w-4 h-4 mr-1"}),"Cars"]}),e.jsxs(Pt,{value:"bookings",className:"text-xs",children:[e.jsx(Ms,{className:"w-4 h-4 mr-1"}),"Bookings"]}),e.jsxs(Pt,{value:"payments",className:"text-xs",children:[e.jsx(Is,{className:"w-4 h-4 mr-1"}),"Payments"]}),e.jsxs(Pt,{value:"promo-codes",className:"text-xs",children:[e.jsx(Sg,{className:"w-4 h-4 mr-1"}),"Promo Codes"]}),e.jsxs(Pt,{value:"brokers",className:"text-xs",children:[e.jsx(xs,{className:"w-4 h-4 mr-1"}),"Brokers"]}),e.jsxs(Pt,{value:"announcements",className:"text-xs",children:[e.jsx(uD,{className:"w-4 h-4 mr-1"}),"Announcements"]}),e.jsxs(Pt,{value:"appeals",className:"text-xs",children:[e.jsx(bl,{className:"w-4 h-4 mr-1"}),"Appeals"]}),e.jsxs(Pt,{value:"ads",className:"text-xs",children:[e.jsx(ho,{className:"w-4 h-4 mr-1"}),"Ads"]}),e.jsxs(Pt,{value:"featured-cars",className:"text-xs",children:[e.jsx(Ks,{className:"w-4 h-4 mr-1"}),"Featured"]}),e.jsxs(Pt,{value:"holidays",className:"text-xs",children:[e.jsx(wg,{className:"w-4 h-4 mr-1"}),"Holidays"]}),e.jsxs(Pt,{value:"suggestions",className:"text-xs",children:[e.jsx(m7,{className:"w-4 h-4 mr-1"}),"Suggestions"]}),e.jsxs(Pt,{value:"notifications",className:"text-xs",children:[e.jsx(jg,{className:"w-4 h-4 mr-1"}),"Notifications"]}),e.jsxs(Pt,{value:"otps",className:"text-xs",children:[e.jsx(cD,{className:"w-4 h-4 mr-1"}),"OTPs"]}),e.jsxs(Pt,{value:"services",className:"text-xs",children:[e.jsx(Oc,{className:"w-4 h-4 mr-1"}),"Services"]})]}),e.jsx(zt,{value:"dashboard",className:"space-y-6",children:e.jsx(_oe,{})}),e.jsx(zt,{value:"users",className:"space-y-4",children:e.jsx(Coe,{})}),e.jsx(zt,{value:"cars",className:"space-y-4",children:e.jsx(koe,{})}),e.jsx(zt,{value:"bookings",className:"space-y-4",children:e.jsx(Soe,{})}),e.jsx(zt,{value:"payments",className:"space-y-4",children:e.jsx(Aoe,{})}),e.jsx(zt,{value:"announcements",className:"space-y-4",children:e.jsx(Toe,{})}),e.jsx(zt,{value:"appeals",className:"space-y-4",children:e.jsx(Doe,{})}),e.jsx(zt,{value:"ads",className:"space-y-4",children:e.jsx(Eoe,{})}),e.jsx(zt,{value:"promo-codes",className:"space-y-4",children:e.jsx(Roe,{})}),e.jsx(zt,{value:"brokers",className:"space-y-4",children:e.jsx(Moe,{})}),e.jsx(zt,{value:"featured-cars",className:"space-y-4",children:e.jsx(Poe,{})}),e.jsx(zt,{value:"holidays",className:"space-y-4",children:e.jsx(Ooe,{})}),e.jsx(zt,{value:"suggestions",className:"space-y-4",children:e.jsx(Loe,{})}),e.jsx(zt,{value:"notifications",className:"space-y-4",children:e.jsx(Boe,{})}),e.jsx(zt,{value:"otps",className:"space-y-4",children:e.jsx(Foe,{})}),e.jsx(zt,{value:"services",className:"space-y-6",children:e.jsx(Ioe,{})}),e.jsx(zt,{value:"services-legacy",style:{display:"none"},children:e.jsxs(fo,{defaultValue:"services-list",className:"w-full",children:[e.jsxs(Si,{className:"grid w-full grid-cols-4 mb-4",children:[e.jsxs(Pt,{value:"services-list",className:"text-xs",children:[e.jsx(Oc,{className:"w-4 h-4 mr-1"}),"Services"]}),e.jsxs(Pt,{value:"third-parties",className:"text-xs",children:[e.jsx(no,{className:"w-4 h-4 mr-1"}),"Third Parties"]}),e.jsxs(Pt,{value:"service-items",className:"text-xs",children:[e.jsx(gi,{className:"w-4 h-4 mr-1"}),"Service Items"]}),e.jsxs(Pt,{value:"service-feedbacks",className:"text-xs",children:[e.jsx(Hr,{className:"w-4 h-4 mr-1"}),"Feedbacks"]})]}),e.jsxs(zt,{value:"services-list",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Q,{onClick:()=>{yt(null),ls("create-service"),gt(!0)},children:[e.jsx(Gs,{className:"w-4 h-4 mr-1"}),"Create Service"]}),e.jsx(Q,{variant:"outline",size:"icon",onClick:ks,"aria-label":"Refresh services",children:e.jsx(Nt,{className:"w-4 h-4"})})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oe,{placeholder:"Search services...",value:Fe.services.search,onChange:I=>os({...Fe,services:{...Fe.services,search:I.target.value}}),className:"w-48"}),e.jsxs(et,{value:Fe.services.category,onValueChange:I=>os({...Fe,services:{...Fe.services,category:I}}),children:[e.jsx(Ze,{className:"w-40",children:e.jsx(tt,{placeholder:"Category"})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"all",children:"All Categories"}),e.jsx(ce,{value:"transport",children:"Transport"}),e.jsx(ce,{value:"accommodation",children:"Accommodation"}),e.jsx(ce,{value:"food",children:"Food & Dining"}),e.jsx(ce,{value:"entertainment",children:"Entertainment"}),e.jsx(ce,{value:"other",children:"Other"})]})]}),e.jsxs(et,{value:Fe.services.featured,onValueChange:I=>os({...Fe,services:{...Fe.services,featured:I}}),children:[e.jsx(Ze,{className:"w-32",children:e.jsx(tt,{placeholder:"Featured"})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"all",children:"All"}),e.jsx(ce,{value:"true",children:"Featured"}),e.jsx(ce,{value:"false",children:"Not Featured"})]})]}),e.jsx(Q,{onClick:ks,children:e.jsx(Ca,{className:"w-4 h-4"})})]})]}),e.jsx(Ae,{children:e.jsx(Ee,{className:"p-0",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"ID"}),e.jsx(J,{children:"Name"}),e.jsx(J,{children:"Owner"}),e.jsx(J,{children:"Category"}),e.jsx(J,{children:"Price"}),e.jsx(J,{children:"Rating"}),e.jsx(J,{children:"Featured"}),e.jsx(J,{children:"Actions"})]})}),e.jsx(wt,{children:n?e.jsx(Ne,{children:e.jsx(Y,{colSpan:8,className:"text-center py-8",children:"Loading..."})}):Ve.length===0?e.jsx(Ne,{children:e.jsx(Y,{colSpan:8,className:"text-center py-8",children:"No services found"})}):Ve.map(I=>e.jsxs(Ne,{children:[e.jsx(Y,{children:I.id}),e.jsx(Y,{className:"font-medium",children:I.name}),e.jsx(Y,{children:I.third_party?e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-medium",children:I.third_party.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:I.third_party.email})]}):I.third_party_id?e.jsxs("span",{className:"text-muted-foreground",children:["ID: ",I.third_party_id]}):e.jsx("span",{className:"text-muted-foreground",children:"-"})}),e.jsx(Y,{children:e.jsx(Re,{variant:"outline",children:I.category})}),e.jsxs(Y,{children:["$",(parseFloat(I.price)||0).toFixed(2)]}),e.jsx(Y,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ks,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}),I.rating?(parseFloat(I.rating)||0).toFixed(1):"N/A"]})}),e.jsx(Y,{children:e.jsx(Re,{variant:I.featured?"default":"secondary",children:I.featured?"Yes":"No"})}),e.jsx(Y,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Q,{size:"sm",variant:"ghost",onClick:()=>{yt(I),ls("view-service"),gt(!0)},children:e.jsx(Ys,{className:"w-4 h-4"})}),e.jsx(Q,{size:"sm",variant:"ghost",onClick:()=>{yt(I),ls("edit-service"),gt(!0)},children:e.jsx(ca,{className:"w-4 h-4"})}),e.jsx(Q,{size:"sm",variant:"ghost",onClick:()=>Vn(I.id),children:e.jsx(gi,{className:"w-4 h-4"})}),e.jsx(Q,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>Os({open:!0,title:"Delete Service",message:`Are you sure you want to delete "${I.name}"?`,onConfirm:()=>or(I.id)}),children:e.jsx(Xs,{className:"w-4 h-4"})})]})})]},I.id))})]})})})]}),e.jsxs(zt,{value:"third-parties",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Q,{onClick:()=>{yt(null),ls("create-third-party"),gt(!0)},children:[e.jsx(Gs,{className:"w-4 h-4 mr-1"}),"Create Third Party"]}),e.jsx(Q,{variant:"outline",size:"icon",onClick:hn,"aria-label":"Refresh third parties",children:e.jsx(Nt,{className:"w-4 h-4"})})]}),e.jsx(oe,{placeholder:"Search third parties...",value:Fe.thirdParties.search,onChange:I=>os({...Fe,thirdParties:{...Fe.thirdParties,search:I.target.value}}),className:"w-64"})]}),e.jsx(Ae,{children:e.jsx(Ee,{className:"p-0",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"ID"}),e.jsx(J,{children:"Name"}),e.jsx(J,{children:"Contact"}),e.jsx(J,{children:"Category"}),e.jsx(J,{children:"City"}),e.jsx(J,{children:"Subscription"}),e.jsx(J,{children:"Created At"}),e.jsx(J,{children:"Actions"})]})}),e.jsx(wt,{children:n?e.jsx(Ne,{children:e.jsx(Y,{colSpan:8,className:"text-center py-8",children:"Loading..."})}):xt.length===0?e.jsx(Ne,{children:e.jsx(Y,{colSpan:8,className:"text-center py-8",children:"No third parties found"})}):xt.map(I=>e.jsxs(Ne,{children:[e.jsx(Y,{children:I.id}),e.jsx(Y,{children:e.jsxs("div",{children:[e.jsx("p",{className:"font-medium",children:I.name}),I.description&&e.jsx("p",{className:"text-xs text-muted-foreground truncate max-w-[200px]",children:I.description})]})}),e.jsx(Y,{children:e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{children:I.email}),I.phone&&e.jsx("p",{className:"text-muted-foreground",children:I.phone})]})}),e.jsx(Y,{children:e.jsx(Re,{variant:"outline",children:I.category||"N/A"})}),e.jsx(Y,{children:I.city||"N/A"}),e.jsx(Y,{children:e.jsx(Re,{variant:I.subscription==="premium"||I.subscription==="enterprise"?"default":"secondary",children:I.subscription||"Free"})}),e.jsx(Y,{children:new Date(I.created_at).toLocaleDateString()}),e.jsx(Y,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Q,{size:"sm",variant:"ghost",title:"View Details",onClick:()=>{yt(I),ls("view-third-party"),gt(!0)},children:e.jsx(Ys,{className:"w-4 h-4"})}),e.jsx(Q,{size:"sm",variant:"ghost",title:"Edit",onClick:()=>{yt(I),ls("edit-third-party"),gt(!0)},children:e.jsx(ca,{className:"w-4 h-4"})}),e.jsx(Q,{size:"sm",variant:"ghost",title:"Add Service for this Third Party",onClick:()=>{yt({third_party_id:I.id,third_party_name:I.name}),ls("create-service-for-tp"),gt(!0)},children:e.jsx(Gs,{className:"w-4 h-4"})}),e.jsx(Q,{size:"sm",variant:"ghost",className:"text-destructive",title:"Delete",onClick:()=>Os({open:!0,title:"Delete Third Party",message:`Are you sure you want to delete "${I.name}"?`,onConfirm:()=>zn(I.id)}),children:e.jsx(Xs,{className:"w-4 h-4"})})]})})]},I.id))})]})})})]}),e.jsxs(zt,{value:"service-items",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("div",{className:"flex items-center gap-2",children:is&&e.jsxs(e.Fragment,{children:[e.jsxs(Q,{onClick:()=>{yt(null),ls("create-service-item"),gt(!0)},children:[e.jsx(Gs,{className:"w-4 h-4 mr-1"}),"Add Item"]}),e.jsx(Q,{variant:"outline",size:"icon",onClick:()=>Vn(is),"aria-label":"Refresh service items",children:e.jsx(Nt,{className:"w-4 h-4"})})]})}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(et,{value:is?.toString()||"",onValueChange:I=>{I&&Vn(parseInt(I))},children:[e.jsx(Ze,{className:"w-64",children:e.jsx(tt,{placeholder:"Select a service to view items"})}),e.jsx(Je,{children:Ve.map(I=>e.jsx(ce,{value:I.id.toString(),children:I.name},I.id))})]})})]}),is?e.jsxs(Ae,{children:[e.jsx(ns,{children:e.jsxs(rs,{className:"text-lg",children:["Items for Service #",is]})}),e.jsx(Ee,{className:"p-0",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"ID"}),e.jsx(J,{children:"Name"}),e.jsx(J,{children:"Description"}),e.jsx(J,{children:"Price"}),e.jsx(J,{children:"Image"}),e.jsx(J,{children:"Actions"})]})}),e.jsx(wt,{children:n?e.jsx(Ne,{children:e.jsx(Y,{colSpan:6,className:"text-center py-8",children:"Loading..."})}):It.length===0?e.jsx(Ne,{children:e.jsx(Y,{colSpan:6,className:"text-center py-8",children:"No items found for this service"})}):It.map(I=>e.jsxs(Ne,{children:[e.jsx(Y,{children:I.id}),e.jsx(Y,{className:"font-medium",children:I.name}),e.jsx(Y,{className:"max-w-xs truncate",children:I.description||"N/A"}),e.jsxs(Y,{children:["$",(parseFloat(I.price)||0).toFixed(2)]}),e.jsx(Y,{children:I.image?e.jsx("img",{src:I.image,alt:I.name,className:"w-10 h-10 object-cover rounded"}):e.jsx("span",{className:"text-muted-foreground",children:"No image"})}),e.jsx(Y,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Q,{size:"sm",variant:"ghost",onClick:()=>{yt(I),ls("edit-service-item"),gt(!0)},children:e.jsx(ca,{className:"w-4 h-4"})}),e.jsx(Q,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>Os({open:!0,title:"Delete Item",message:`Are you sure you want to delete "${I.name}"?`,onConfirm:()=>vn(I.id)}),children:e.jsx(Xs,{className:"w-4 h-4"})})]})})]},I.id))})]})})]}):e.jsx(Ae,{children:e.jsxs(Ee,{className:"py-12 text-center text-muted-foreground",children:[e.jsx(gi,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Select a service from the dropdown above to view its items"}),e.jsxs("p",{className:"text-sm mt-2",children:["Or click the ",e.jsx(gi,{className:"w-4 h-4 inline"})," icon on a service in the Services tab"]})]})})]}),e.jsxs(zt,{value:"service-feedbacks",className:"space-y-4",children:[e.jsx("div",{className:"flex items-center gap-2",children:e.jsx(Q,{variant:"outline",size:"icon",onClick:Ba,"aria-label":"Refresh service feedbacks",children:e.jsx(Nt,{className:"w-4 h-4"})})}),e.jsx(Ae,{children:e.jsx(Ee,{className:"p-0",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"ID"}),e.jsx(J,{children:"Service"}),e.jsx(J,{children:"User"}),e.jsx(J,{children:"Rating"}),e.jsx(J,{children:"Comment"}),e.jsx(J,{children:"Helpful"}),e.jsx(J,{children:"Created At"}),e.jsx(J,{children:"Actions"})]})}),e.jsx(wt,{children:n?e.jsx(Ne,{children:e.jsx(Y,{colSpan:8,className:"text-center py-8",children:"Loading..."})}):es.length===0?e.jsx(Ne,{children:e.jsx(Y,{colSpan:8,className:"text-center py-8",children:"No feedbacks found"})}):es.map(I=>e.jsxs(Ne,{children:[e.jsx(Y,{children:I.id}),e.jsx(Y,{children:I.service?.name||I.service_id}),e.jsx(Y,{children:I.user?.name||I.user_id}),e.jsx(Y,{children:e.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((de,nt)=>e.jsx(Ks,{className:`w-4 h-4 ${nt<I.rating?"text-yellow-500 fill-yellow-500":"text-gray-300"}`},nt))})}),e.jsx(Y,{className:"max-w-xs truncate",children:I.comment||"N/A"}),e.jsx(Y,{children:I.helpful_count||0}),e.jsx(Y,{children:new Date(I.created_at).toLocaleDateString()}),e.jsx(Y,{children:e.jsx(Q,{size:"sm",variant:"ghost",className:"text-destructive",onClick:()=>Os({open:!0,title:"Delete Feedback",message:"Are you sure you want to delete this feedback?",onConfirm:()=>Pi(I.id)}),children:e.jsx(Xs,{className:"w-4 h-4"})})})]},I.id))})]})})})]})]})})]})}),e.jsx(Yx,{open:ea.open,onOpenChange:I=>Os({...ea,open:I}),children:e.jsxs(Wm,{children:[e.jsxs(Ym,{children:[e.jsx(Xm,{children:ea.title}),e.jsx(Qm,{children:ea.message})]}),e.jsxs(Km,{children:[e.jsx(Jm,{onClick:()=>Os({...ea,open:!1}),children:"Cancel"}),e.jsx(Zm,{onClick:()=>{ea.onConfirm&&ea.onConfirm(),Os({...ea,open:!1})},children:"Confirm"})]})]})}),e.jsx(bo,{children:Hs&&e.jsx(La,{open:Hs,onOpenChange:gt,children:e.jsxs(ka,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Sa,{children:e.jsxs(Aa,{children:[Ge==="view-user"&&"User Details",Ge==="edit-user"&&"Edit User",Ge==="view-car"&&"Car Details",Ge==="edit-car"&&"Edit Car",Ge==="view-booking"&&"Booking Details",Ge==="edit-booking"&&"Edit Booking",Ge==="create-announcement"&&"Create Announcement",Ge==="edit-announcement"&&"Edit Announcement",Ge==="edit-appeal"&&"Edit Appeal",Ge==="edit-ad"&&"Edit Ad",Ge==="edit-suggestion"&&"Edit Suggestion",Ge==="send-notification"&&"Send Notification to All Users",Ge==="create-holiday"&&"Create Holiday",Ge==="edit-holiday"&&"Edit Holiday",Ge==="create-ad"&&"Create Ad",Ge==="create-payment"&&"Issue Payment/Invoice",Ge==="create-featured-car"&&"Create Featured Car",Ge==="create-service"&&"Create Service",Ge==="view-service"&&"Service Details",Ge==="edit-service"&&"Edit Service",Ge==="create-third-party"&&"Create Third Party",Ge==="view-third-party"&&"Third Party Details",Ge==="edit-third-party"&&"Edit Third Party",Ge==="create-service-for-tp"&&`Add Service for ${Z?.third_party_name||"Third Party"}`,Ge==="create-service-item"&&"Create Service Item",Ge==="edit-service-item"&&"Edit Service Item",Ge==="create-promo-code"&&"Create Promo Code",Ge==="edit-promo-code"&&"Edit Promo Code",Ge==="create-broker"&&"Create Broker",Ge==="create-broker-payout"&&"Create Broker Payout",Ge==="view-promo-users"&&"Promo Code Users"]})}),Ge==="view-user"&&Z&&e.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"ID"}),e.jsx("p",{className:"text-sm",children:Z.id})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Username"}),e.jsx("p",{className:"text-sm",children:Z.username||"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Email"}),e.jsx("p",{className:"text-sm",children:Z.email||"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Phone Number"}),e.jsx("p",{className:"text-sm",children:Z.phone_number||"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"First Name"}),e.jsx("p",{className:"text-sm",children:Z.first_name||"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Last Name"}),e.jsx("p",{className:"text-sm",children:Z.last_name||"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Gender"}),e.jsx("p",{className:"text-sm",children:Z.gender||"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Birth Date"}),e.jsx("p",{className:"text-sm",children:Z.birth_date?new Date(Z.birth_date).toLocaleDateString():"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"City"}),e.jsx("p",{className:"text-sm",children:Z.city||"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Role"}),e.jsx("p",{className:"text-sm",children:Z.role||"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Status"}),e.jsx(Re,{variant:Z.status?"default":"secondary",children:Z.status?"Active":"Inactive"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Verified by Admin"}),e.jsx(Re,{variant:Z.verified_by_admin?"default":"secondary",children:Z.verified_by_admin?"Yes":"No"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Is Locked"}),e.jsx(Re,{variant:Z.is_locked?"destructive":"default",children:Z.is_locked?"Locked":"Unlocked"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Created At"}),e.jsx("p",{className:"text-sm",children:new Date(Z.created_at).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Updated At"}),e.jsx("p",{className:"text-sm",children:new Date(Z.updated_at).toLocaleString()})]})]}),Z.bio&&e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Bio"}),e.jsx("p",{className:"text-sm",children:Z.bio})]}),Z.client&&e.jsxs("div",{className:"border-t pt-4",children:[e.jsx(W,{className:"text-sm font-semibold mb-2 block",children:"Client Details"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{className:"text-xs",children:"License Number"}),e.jsx("p",{className:"text-sm",children:Z.client.license_number||"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-xs",children:"Profession"}),e.jsx("p",{className:"text-sm",children:Z.client.profession||"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-xs",children:"Average Salary"}),e.jsx("p",{className:"text-sm",children:Z.client.avg_salary||"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-xs",children:"Promo Code"}),e.jsx("p",{className:"text-sm",children:Z.client.promo_code||"N/A"})]})]})]}),Z.agent&&e.jsxs("div",{className:"border-t pt-4",children:[e.jsx(W,{className:"text-sm font-semibold mb-2 block",children:"Agent/Agency Details"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{className:"text-xs",children:"Business Type"}),e.jsx("p",{className:"text-sm",children:Z.agent.business_type||"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-xs",children:"Company Number"}),e.jsx("p",{className:"text-sm",children:Z.agent.company_number||"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-xs",children:"Profession"}),e.jsx("p",{className:"text-sm",children:Z.agent.profession||"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-xs",children:"Website"}),e.jsx("p",{className:"text-sm",children:Z.agent.website||"N/A"})]})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(Q,{onClick:()=>{ls("edit-user")},className:"flex-1",children:"Edit User"}),e.jsx(Q,{variant:"outline",onClick:()=>gt(!1),children:"Close"})]})]}),Ge==="edit-user"&&Z&&e.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{children:"ID"}),e.jsx(oe,{value:Z.id||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Username"}),e.jsx(oe,{value:Z.username||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Email"}),e.jsx(oe,{type:"email",value:Z.email||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Phone Number"}),e.jsx(oe,{value:Z.phone_number||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"First Name"}),e.jsx(oe,{value:Z.first_name||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Last Name"}),e.jsx(oe,{value:Z.last_name||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Gender"}),e.jsx(oe,{value:Z.gender||"N/A",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Birth Date"}),e.jsx(oe,{type:"date",value:Z.birth_date?new Date(Z.birth_date).toISOString().split("T")[0]:"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"City"}),e.jsx(oe,{value:Z.city||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Role"}),e.jsx(oe,{value:Z.role||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Created At"}),e.jsx(oe,{value:new Date(Z.created_at).toLocaleString(),disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Updated At"}),e.jsx(oe,{value:new Date(Z.updated_at).toLocaleString(),disabled:!0})]})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Bio"}),e.jsx(tn,{value:Z.bio||"",disabled:!0})]}),Z.client&&e.jsxs("div",{className:"border-t pt-4",children:[e.jsx(W,{className:"text-sm font-semibold mb-2 block",children:"Client Details (Read-only)"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{className:"text-xs",children:"License Number"}),e.jsx(oe,{value:Z.client.license_number||"N/A",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-xs",children:"Profession"}),e.jsx(oe,{value:Z.client.profession||"N/A",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-xs",children:"Average Salary"}),e.jsx(oe,{value:Z.client.avg_salary||"N/A",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-xs",children:"Promo Code"}),e.jsx(oe,{value:Z.client.promo_code||"N/A",disabled:!0})]})]})]}),Z.agent&&e.jsxs("div",{className:"border-t pt-4",children:[e.jsx(W,{className:"text-sm font-semibold mb-2 block",children:"Agent/Agency Details (Read-only)"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{className:"text-xs",children:"Business Type"}),e.jsx(oe,{value:Z.agent.business_type||"N/A",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-xs",children:"Company Number"}),e.jsx(oe,{value:Z.agent.company_number||"N/A",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-xs",children:"Profession"}),e.jsx(oe,{value:Z.agent.profession||"N/A",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-xs",children:"Website"}),e.jsx(oe,{value:Z.agent.website||"N/A",disabled:!0})]})]})]}),e.jsxs("div",{className:"border-t pt-4 space-y-3",children:[e.jsx(W,{className:"text-sm font-semibold block",children:"Editable Fields"}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(W,{children:"Verified by Admin"}),e.jsx(fn,{checked:Z.verified_by_admin||!1,onCheckedChange:I=>yt({...Z,verified_by_admin:I})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(W,{children:"Status (Active)"}),e.jsx(fn,{checked:Z.status!==void 0?Z.status:!0,onCheckedChange:I=>yt({...Z,status:I})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(W,{children:"Is Locked"}),e.jsx(fn,{checked:Z.is_locked||!1,onCheckedChange:I=>yt({...Z,is_locked:I})})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(W,{children:"Update Access (Allow Profile Updates)"}),e.jsx(fn,{checked:Z.update_access!==void 0?Z.update_access:!0,onCheckedChange:I=>yt({...Z,update_access:I})})]})]}),(Z.role==="agency"||Z.role==="agent")&&e.jsxs("div",{className:"border-t pt-4 space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx(W,{className:"text-sm font-semibold",children:"App Fees Management"}),e.jsxs(Q,{variant:"outline",size:"sm",onClick:async()=>{await Or(Z.id)},children:[e.jsx(Nt,{className:"w-4 h-4 mr-1"}),"Refresh Balance"]})]}),pe[Z.id]?e.jsxs("div",{className:"space-y-2 p-3 bg-gray-50 dark:bg-gray-800 rounded-md",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Current App Fees %:"}),e.jsxs("span",{className:"font-semibold",children:[pe[Z.id].app_fees_percentage||0,"%"]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Total Balance:"}),e.jsxs("span",{className:"font-semibold",children:["$",pe[Z.id].total_balance||0]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Paid Amount:"}),e.jsxs("span",{className:"text-green-600",children:["$",pe[Z.id].breakdown?.paid_amount||0]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-sm",children:"Remaining Balance:"}),e.jsxs("span",{className:"text-orange-600",children:["$",pe[Z.id].breakdown?.remaining_balance||0]})]})]}):e.jsx("p",{className:"text-sm text-gray-500",children:'Click "Refresh Balance" to load app fees data'}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{children:"Update App Fees Percentage"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(oe,{type:"number",step:"0.01",min:"0",max:"100",placeholder:"e.g., 10.00",defaultValue:pe[Z.id]?.app_fees_percentage||"",onChange:I=>{const de=parseFloat(I.target.value);!isNaN(de)&&de>=0&&de<=100&&yt({...Z,app_fees_percentage:de})}}),e.jsx(Q,{onClick:()=>{Z.app_fees_percentage!==void 0?ni(Z.id,Z.app_fees_percentage):se.error("Please enter a valid app fees percentage")},variant:"outline",children:"Update %"})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"Enter percentage (0-100), e.g., 10.00 for 10%"})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(Q,{onClick:()=>So(Z.id,{verified_by_admin:Z.verified_by_admin,status:Z.status,is_locked:Z.is_locked,update_access:Z.update_access!==void 0?Z.update_access:!0}),className:"flex-1",children:"Update User"}),e.jsx(Q,{variant:"outline",onClick:()=>gt(!1),children:"Cancel"})]})]}),Ge==="view-car"&&Z&&e.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"ID"}),e.jsx("p",{className:"text-sm",children:Z.id})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Make"}),e.jsx("p",{className:"text-sm",children:Z.make||"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Model"}),e.jsx("p",{className:"text-sm",children:Z.model||"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Year"}),e.jsx("p",{className:"text-sm",children:Z.year||"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"License Plate"}),e.jsx("p",{className:"text-sm",children:Z.license_plate||"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Color"}),e.jsx("p",{className:"text-sm",children:Z.color||"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Mileage"}),e.jsx("p",{className:"text-sm",children:Z.mileage?.toLocaleString()||"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Fuel Type"}),e.jsx("p",{className:"text-sm",children:Z.fuel_type||"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Transmission"}),e.jsx("p",{className:"text-sm",children:Z.transmission||"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Wheels Drive"}),e.jsx("p",{className:"text-sm",children:Z.wheels_drive||"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Category"}),e.jsx("p",{className:"text-sm",children:Z.car_category||"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Seats"}),e.jsx("p",{className:"text-sm",children:Z.seats||"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Doors"}),e.jsx("p",{className:"text-sm",children:Z.doors||"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Daily Rate"}),e.jsxs("p",{className:"text-sm",children:["$",Z.daily_rate||"0.00"]})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Holiday Rate"}),e.jsxs("p",{className:"text-sm",children:["$",Z.holiday_rate||"N/A"]})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Status"}),e.jsx(Re,{variant:"outline",children:Z.status||"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Car Accepted"}),e.jsx(Re,{variant:Z.car_accepted?"default":"secondary",children:Z.car_accepted?"Yes":"No"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"With Driver"}),e.jsx(Re,{variant:Z.with_driver?"default":"secondary",children:Z.with_driver?"Yes":"No"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Is Delivered"}),e.jsx(Re,{variant:Z.is_delivered?"default":"secondary",children:Z.is_delivered?"Yes":"No"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Min Rental Days"}),e.jsx("p",{className:"text-sm",children:Z.min_rental_days||"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Views Count"}),e.jsx("p",{className:"text-sm",children:Z.views_count||0})]})]}),Z.features&&Z.features.length>0&&e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Features"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:Z.features.map((I,de)=>e.jsx(Re,{variant:"outline",children:I},de))})]}),Z.car_add_on&&Z.car_add_on.length>0&&e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Add-ons"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:Z.car_add_on.map((I,de)=>e.jsx(Re,{variant:"outline",children:I},de))})]}),Z.notes&&e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Notes"}),e.jsx("p",{className:"text-sm whitespace-pre-wrap",children:Z.notes})]}),Z.agent&&e.jsxs("div",{className:"border-t pt-4",children:[e.jsx(W,{className:"text-sm font-semibold mb-2 block",children:"Agent"}),e.jsxs("p",{className:"text-sm",children:[Z.agent.username||Z.agent.first_name," ",Z.agent.last_name]}),e.jsx("p",{className:"text-xs text-gray-500",children:Z.agent.phone_number})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(Q,{onClick:()=>{ls("edit-car")},className:"flex-1",children:"Edit Car"}),e.jsx(Q,{variant:"outline",onClick:()=>gt(!1),children:"Close"})]})]}),Ge==="edit-car"&&Z&&e.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{children:"ID"}),e.jsx(oe,{value:Z.id||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Make"}),e.jsx(oe,{value:Z.make||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Model"}),e.jsx(oe,{value:Z.model||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Year"}),e.jsx(oe,{value:Z.year||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"License Plate"}),e.jsx(oe,{value:Z.license_plate||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Color"}),e.jsx(oe,{value:Z.color||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Mileage"}),e.jsx(oe,{value:Z.mileage?.toLocaleString()||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Fuel Type"}),e.jsx(oe,{value:Z.fuel_type||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Transmission"}),e.jsx(oe,{value:Z.transmission||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Wheels Drive"}),e.jsx(oe,{value:Z.wheels_drive||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Category"}),e.jsx(oe,{value:Z.car_category||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Seats"}),e.jsx(oe,{value:Z.seats||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Doors"}),e.jsx(oe,{value:Z.doors||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Daily Rate"}),e.jsx(oe,{value:`$${Z.daily_rate||"0.00"}`,disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Holiday Rate"}),e.jsx(oe,{value:`$${Z.holiday_rate||"N/A"}`,disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Min Rental Days"}),e.jsx(oe,{value:Z.min_rental_days||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Views Count"}),e.jsx(oe,{value:Z.views_count||0,disabled:!0})]})]}),Z.features&&Z.features.length>0&&e.jsxs("div",{children:[e.jsx(W,{children:"Features"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:Z.features.map((I,de)=>e.jsx(Re,{variant:"outline",children:I},de))})]}),Z.car_add_on&&Z.car_add_on.length>0&&e.jsxs("div",{children:[e.jsx(W,{children:"Add-ons"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:Z.car_add_on.map((I,de)=>e.jsx(Re,{variant:"outline",children:I},de))})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx(W,{className:"text-sm font-semibold block mb-3",children:"Car Images"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{children:"Main Image"}),Z.main_image_url&&e.jsx("div",{className:"mb-2",children:e.jsx("img",{src:`/api/storage/${Z.main_image_url}`,alt:"Main",className:"w-full h-32 object-cover rounded-lg border"})}),e.jsx(oe,{type:"file",accept:"image/*",onChange:I=>xa(Z.id,"main_image",I.target.files[0]),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Front Image"}),Z.front_image_url&&e.jsx("div",{className:"mb-2",children:e.jsx("img",{src:`/api/storage/${Z.front_image_url}`,alt:"Front",className:"w-full h-32 object-cover rounded-lg border"})}),e.jsx(oe,{type:"file",accept:"image/*",onChange:I=>xa(Z.id,"front_image",I.target.files[0]),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Back Image"}),Z.back_image_url&&e.jsx("div",{className:"mb-2",children:e.jsx("img",{src:`/api/storage/${Z.back_image_url}`,alt:"Back",className:"w-full h-32 object-cover rounded-lg border"})}),e.jsx(oe,{type:"file",accept:"image/*",onChange:I=>xa(Z.id,"back_image",I.target.files[0]),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Left Image"}),Z.left_image_url&&e.jsx("div",{className:"mb-2",children:e.jsx("img",{src:`/api/storage/${Z.left_image_url}`,alt:"Left",className:"w-full h-32 object-cover rounded-lg border"})}),e.jsx(oe,{type:"file",accept:"image/*",onChange:I=>xa(Z.id,"left_image",I.target.files[0]),className:"mt-1"})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Right Image"}),Z.right_image_url&&e.jsx("div",{className:"mb-2",children:e.jsx("img",{src:`/api/storage/${Z.right_image_url}`,alt:"Right",className:"w-full h-32 object-cover rounded-lg border"})}),e.jsx(oe,{type:"file",accept:"image/*",onChange:I=>xa(Z.id,"right_image",I.target.files[0]),className:"mt-1"})]})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx(W,{className:"text-sm font-semibold block mb-3",children:"Editable Fields"}),e.jsxs("div",{children:[e.jsx(W,{children:"Status"}),e.jsxs(et,{value:Z.status||"",onValueChange:I=>yt({...Z,status:I}),children:[e.jsx(Ze,{children:e.jsx(tt,{})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"available",children:"Available"}),e.jsx(ce,{value:"rented",children:"Rented"}),e.jsx(ce,{value:"maintenance",children:"Maintenance"}),e.jsx(ce,{value:"unavailable",children:"Unavailable"})]})]})]}),e.jsxs("div",{className:"mt-3",children:[e.jsx(W,{children:"Notes"}),e.jsx(tn,{value:Z.notes||"",onChange:I=>yt({...Z,notes:I.target.value}),rows:4})]}),e.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[e.jsx(W,{children:"Car Accepted"}),e.jsx(fn,{checked:Z.car_accepted||!1,onCheckedChange:I=>yt({...Z,car_accepted:I})})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(Q,{onClick:()=>ti(Z.id,{status:Z.status,car_accepted:Z.car_accepted,notes:Z.notes}),className:"flex-1",disabled:n,children:"Update Car"}),e.jsx(Q,{variant:"outline",onClick:()=>gt(!1),children:"Cancel"})]})]}),Ge==="view-booking"&&Z&&e.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Booking ID"}),e.jsx("p",{className:"text-sm",children:Z.id})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Client"}),e.jsx("p",{className:"text-sm",children:Z.client?.first_name&&Z.client?.last_name?`${Z.client.first_name} ${Z.client.last_name}`:Z.client?.username||"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Car"}),e.jsxs("p",{className:"text-sm",children:[Z.car?.make," ",Z.car?.model," (",Z.car?.year,")"]})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Agent"}),e.jsx("p",{className:"text-sm",children:Z.car?.agent?.username||Z.car?.agent?.first_name||"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Start Date"}),e.jsx("p",{className:"text-sm",children:new Date(Z.start_datetime).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"End Date"}),e.jsx("p",{className:"text-sm",children:new Date(Z.end_datetime).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Total Price"}),e.jsxs("p",{className:"text-sm font-semibold",children:["$",Z.total_booking_price||"0.00"]})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Booking Status"}),e.jsx(Re,{variant:"outline",children:Z.booking_request_status||"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Payment Status"}),e.jsx(Re,{variant:Z.payment_status==="paid"?"default":"secondary",children:Z.payment_status||"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Payment Method"}),e.jsx("p",{className:"text-sm",children:Z.payment_method||"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Is Paid Online"}),e.jsx(Re,{variant:Z.is_paid_online?"default":"secondary",children:Z.is_paid_online?"Yes":"No"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Is Delivered"}),e.jsx(Re,{variant:Z.is_delivered?"default":"secondary",children:Z.is_delivered?"Yes":"No"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Pickup Location"}),e.jsx("p",{className:"text-sm",children:Z.pickup_location||"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Dropoff Location"}),e.jsx("p",{className:"text-sm",children:Z.dropoff_location||"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Reason of Booking"}),e.jsx("p",{className:"text-sm",children:Z.reason_of_booking||"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Extra Charge"}),e.jsxs("p",{className:"text-sm",children:["$",Z.extra_charge||"0.00"]})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Cancellation Date"}),e.jsx("p",{className:"text-sm",children:Z.cancelation_date?new Date(Z.cancelation_date).toLocaleString():"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Cancellation Reason"}),e.jsx("p",{className:"text-sm",children:Z.cancelation_reason||"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Created At"}),e.jsx("p",{className:"text-sm",children:new Date(Z.created_at).toLocaleString()})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Updated At"}),e.jsx("p",{className:"text-sm",children:new Date(Z.updated_at).toLocaleString()})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(Q,{onClick:()=>{ls("edit-booking")},className:"flex-1",children:"Edit Booking"}),e.jsx(Q,{variant:"outline",onClick:()=>gt(!1),children:"Close"})]})]}),Ge==="edit-booking"&&Z&&e.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{children:"Booking ID"}),e.jsx(oe,{value:Z.id||"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Client"}),e.jsx(oe,{value:Z.client?.first_name&&Z.client?.last_name?`${Z.client.first_name} ${Z.client.last_name}`:Z.client?.username||"N/A",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Car"}),e.jsx(oe,{value:`${Z.car?.make||""} ${Z.car?.model||""} (${Z.car?.year||""})`,disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Start Date & Time"}),e.jsx(oe,{value:new Date(Z.start_datetime).toLocaleString(),disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"End Date & Time"}),e.jsx(oe,{value:new Date(Z.end_datetime).toLocaleString(),disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Payment Status"}),e.jsx(oe,{value:Z.payment_status||"N/A",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Payment Method"}),e.jsx(oe,{value:Z.payment_method||"N/A",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Is Paid Online"}),e.jsx(oe,{value:Z.is_paid_online?"Yes":"No",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Is Delivered"}),e.jsx(oe,{value:Z.is_delivered?"Yes":"No",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Pickup Location"}),e.jsx(oe,{value:Z.pickup_location||"N/A",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Dropoff Location"}),e.jsx(oe,{value:Z.dropoff_location||"N/A",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Reason of Booking"}),e.jsx(oe,{value:Z.reason_of_booking||"N/A",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Extra Charge"}),e.jsx(oe,{value:`$${Z.extra_charge||"0.00"}`,disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Cancellation Date"}),e.jsx(oe,{value:Z.cancelation_date?new Date(Z.cancelation_date).toLocaleString():"N/A",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Cancellation Reason"}),e.jsx(oe,{value:Z.cancelation_reason||"N/A",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Created At"}),e.jsx(oe,{value:new Date(Z.created_at).toLocaleString(),disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Updated At"}),e.jsx(oe,{value:new Date(Z.updated_at).toLocaleString(),disabled:!0})]})]}),e.jsxs("div",{className:"border-t pt-4",children:[e.jsx(W,{className:"text-sm font-semibold block mb-3",children:"Editable Fields"}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{children:"Booking Status"}),e.jsxs(et,{value:Z.booking_request_status||"",onValueChange:I=>yt({...Z,booking_request_status:I}),children:[e.jsx(Ze,{children:e.jsx(tt,{})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"pending",children:"Pending"}),e.jsx(ce,{value:"confirmed",children:"Confirmed"}),e.jsx(ce,{value:"cancelled",children:"Cancelled"}),e.jsx(ce,{value:"completed",children:"Completed"}),e.jsx(ce,{value:"rejected",children:"Rejected"})]})]})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Total Booking Price"}),e.jsx(oe,{type:"number",step:"0.01",value:Z.total_booking_price||"",onChange:I=>yt({...Z,total_booking_price:I.target.value})})]})]})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(Q,{onClick:()=>Fl(Z.id,{booking_request_status:Z.booking_request_status,total_booking_price:Z.total_booking_price}),className:"flex-1",children:"Update Booking"}),e.jsx(Q,{variant:"outline",onClick:()=>gt(!1),children:"Cancel"})]})]}),(Ge==="create-announcement"||Ge==="edit-announcement")&&e.jsx(Voe,{announcement:Z,onSubmit:I=>{Ge==="create-announcement"?Yc(I):Kc(Z.id,I)}}),Ge==="edit-appeal"&&Z&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(W,{children:"Status"}),e.jsxs(et,{value:Z.status,onValueChange:I=>yt({...Z,status:I}),children:[e.jsx(Ze,{children:e.jsx(tt,{})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"submitted",children:"Submitted"}),e.jsx(ce,{value:"under_review",children:"Under Review"}),e.jsx(ce,{value:"resolved",children:"Resolved"}),e.jsx(ce,{value:"rejected",children:"Rejected"}),e.jsx(ce,{value:"escalated",children:"Escalated"})]})]})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Priority"}),e.jsxs(et,{value:Z.priority,onValueChange:I=>yt({...Z,priority:I}),children:[e.jsx(Ze,{children:e.jsx(tt,{})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"low",children:"Low"}),e.jsx(ce,{value:"medium",children:"Medium"}),e.jsx(ce,{value:"high",children:"High"}),e.jsx(ce,{value:"urgent",children:"Urgent"})]})]})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Response"}),e.jsx(tn,{value:Z.response||"",onChange:I=>yt({...Z,response:I.target.value})})]}),e.jsx(Q,{onClick:()=>Au(Z.id,{status:Z.status,priority:Z.priority,response:Z.response}),children:"Update Appeal"})]}),Ge==="edit-ad"&&Z&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(W,{children:"Online"}),e.jsx(fn,{checked:Z.online,onCheckedChange:I=>yt({...Z,online:I})})]}),e.jsx(Q,{onClick:()=>Ao(Z.id,{online:Z.online}),children:"Update Ad"})]}),Ge==="edit-suggestion"&&Z&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(W,{children:"Status"}),e.jsxs(et,{value:Z.status,onValueChange:I=>yt({...Z,status:I}),children:[e.jsx(Ze,{children:e.jsx(tt,{})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"pending",children:"Pending"}),e.jsx(ce,{value:"received",children:"Received"}),e.jsx(ce,{value:"implemented",children:"Implemented"}),e.jsx(ce,{value:"rejected",children:"Rejected"})]})]})]}),e.jsx(Q,{onClick:()=>jn(Z.id,{status:Z.status}),children:"Update Suggestion"})]}),Ge==="send-notification"&&e.jsx(Uoe,{onSubmit:I=>Do(I)}),(Ge==="create-holiday"||Ge==="edit-holiday")&&e.jsx(zoe,{holiday:Z,onSubmit:I=>{Ge==="create-holiday"?Rr(I):Ol(Z.id,I)}}),Ge==="create-ad"&&e.jsx(mO,{onSubmit:lr,loading:n}),Ge==="create-payment"&&e.jsx(Noe,{onSubmit:Tu,loading:n}),Ge==="create-featured-car"&&e.jsx(fO,{onSubmit:Du,loading:n}),Ge==="view-service"&&Z&&e.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"ID"}),e.jsx("p",{className:"text-sm",children:Z.id})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Name"}),e.jsx("p",{className:"text-sm",children:Z.name||"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Category"}),e.jsx("p",{className:"text-sm",children:Z.category||"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Price"}),e.jsxs("p",{className:"text-sm",children:["$",Z.price?.toFixed(2)||"0.00"]})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Rating"}),e.jsx("p",{className:"text-sm",children:Z.rating?.toFixed(1)||"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Featured"}),e.jsx(Re,{variant:Z.featured?"default":"secondary",children:Z.featured?"Yes":"No"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"City"}),e.jsx("p",{className:"text-sm",children:Z.city||"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Clicks"}),e.jsx("p",{className:"text-sm",children:Z.clicks||0})]})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Description"}),e.jsx("p",{className:"text-sm",children:Z.description||"N/A"})]}),Z.images&&Z.images.length>0&&e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Images"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:Z.images.map((I,de)=>e.jsx("img",{src:I,alt:`Service ${de+1}`,className:"w-20 h-20 object-cover rounded"},de))})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(Q,{onClick:()=>ls("edit-service"),className:"flex-1",children:"Edit Service"}),e.jsx(Q,{variant:"outline",onClick:()=>gt(!1),children:"Close"})]})]}),(Ge==="create-service"||Ge==="edit-service")&&e.jsx(Hoe,{service:Ge==="edit-service"?Z:null,thirdParties:xt,onSubmit:I=>{Ge==="edit-service"&&Z?Ll(Z.id,I):Co(I)}}),Ge==="create-broker-payout"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Record a payment to a broker. Amount will be allocated to pending commissions (FIFO)."}),e.jsxs("div",{className:"grid grid-cols-1 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{children:"Broker *"}),e.jsxs(et,{value:at.broker_id||"select",onValueChange:I=>ds(de=>({...de,broker_id:I})),disabled:!!fe?.id,children:[e.jsx(Ze,{children:e.jsx(tt,{placeholder:"Select broker"})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"select",children:"Select broker"}),(Array.isArray(z)?z:[]).map(I=>e.jsx(ce,{value:String(I.id),children:I.username||`${I.first_name||""} ${I.last_name||""}`||`Broker #${I.id}`},I.id))]})]})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Amount *"}),e.jsx(oe,{type:"number",min:.01,step:.01,value:at.amount,onChange:I=>ds(de=>({...de,amount:I.target.value})),placeholder:"e.g. 300.00"}),ke?.balance!=null&&fe&&e.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["Balance: $",Number(ke.balance).toFixed(2)]})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Reference"}),e.jsx(oe,{value:at.reference,onChange:I=>ds(de=>({...de,reference:I.target.value})),placeholder:"e.g. BANK-REF-123",maxLength:255})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Notes"}),e.jsx(tn,{value:at.notes,onChange:I=>ds(de=>({...de,notes:I.target.value.slice(0,1e3)})),placeholder:"Optional notes",rows:3})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[e.jsx(Q,{variant:"outline",onClick:()=>gt(!1),children:"Cancel"}),e.jsx(Q,{onClick:cr,disabled:n||!at.broker_id||at.broker_id==="select"||!at.amount||parseFloat(at.amount)<.01,children:n?"Creating...":"Create Payout"})]})]}),Ge==="create-broker"&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Create a new broker user (role: broker). Brokers can be assigned promo codes for the referral program."}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{children:"Username *"}),e.jsx(oe,{value:le.username,onChange:I=>re(de=>({...de,username:I.target.value})),placeholder:"broker_john",maxLength:100})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Phone number *"}),e.jsx(oe,{value:le.phone_number,onChange:I=>re(de=>({...de,phone_number:I.target.value})),placeholder:"9613123456",maxLength:20})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(W,{children:"Email"}),e.jsx(oe,{type:"email",value:le.email,onChange:I=>re(de=>({...de,email:I.target.value})),placeholder:"john@example.com (optional)"})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Password *"}),e.jsx(oe,{type:"password",value:le.password,onChange:I=>re(de=>({...de,password:I.target.value})),placeholder:"Min 6 characters"})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Confirm password *"}),e.jsx(oe,{type:"password",value:le.password_confirmation,onChange:I=>re(de=>({...de,password_confirmation:I.target.value})),placeholder:"Repeat password"})]}),e.jsxs("div",{children:[e.jsx(W,{children:"First name *"}),e.jsx(oe,{value:le.first_name,onChange:I=>re(de=>({...de,first_name:I.target.value})),placeholder:"John",maxLength:100})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Last name *"}),e.jsx(oe,{value:le.last_name,onChange:I=>re(de=>({...de,last_name:I.target.value})),placeholder:"Doe",maxLength:100})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[e.jsx(Q,{variant:"outline",onClick:()=>gt(!1),children:"Cancel"}),e.jsx(Q,{onClick:wn,disabled:n||!le.username?.trim()||!le.phone_number?.trim()||!le.first_name?.trim()||!le.last_name?.trim()||!le.password||le.password.length<6||le.password!==le.password_confirmation,children:n?"Creating...":"Create Broker"})]})]}),(Ge==="create-promo-code"||Ge==="edit-promo-code")&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{children:"Code"}),e.jsx(oe,{value:Z?.code||"",onChange:I=>yt(de=>({...de||{},code:I.target.value})),placeholder:"SAVE20"})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Broker *"}),e.jsxs(et,{value:Z?.broker_id?String(Z.broker_id):"select",onValueChange:I=>yt(de=>({...de||{},broker_id:I&&I!=="select"?Number(I):null})),children:[e.jsx(Ze,{children:e.jsx(tt,{placeholder:"Select broker"})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"select",children:"Select broker"}),(Array.isArray(z)?z:[]).map(I=>e.jsx(ce,{value:String(I.id),children:I.username||`${I.first_name||""} ${I.last_name||""}`||`Broker #${I.id}`},I.id))]})]})]}),e.jsxs("div",{className:"md:col-span-2",children:[e.jsx(W,{children:"Description"}),e.jsx(tn,{value:Z?.description||"",onChange:I=>yt(de=>({...de||{},description:I.target.value})),placeholder:"Optional description"})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Max Uses"}),e.jsx(oe,{type:"number",min:1,value:Z?.max_uses??"",onChange:I=>yt(de=>({...de||{},max_uses:I.target.value?Number(I.target.value):null})),placeholder:"Leave empty for unlimited"})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Expires At"}),e.jsx(oe,{type:"date",value:Z?.expires_at||"",onChange:I=>yt(de=>({...de||{},expires_at:I.target.value}))})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Commission %"}),e.jsx(oe,{type:"number",min:0,max:100,step:.1,value:Z?.commission_percentage??"",onChange:I=>yt(de=>({...de||{},commission_percentage:I.target.value?Number(I.target.value):null})),placeholder:"e.g. 5"})]}),e.jsxs("div",{className:"flex items-center gap-2 mt-6",children:[e.jsx(fn,{checked:Z?.is_active??!0,onCheckedChange:I=>yt(de=>({...de||{},is_active:I}))}),e.jsx("span",{className:"text-sm",children:"Active"})]})]}),e.jsxs("div",{className:"flex justify-end gap-2 pt-2",children:[e.jsx(Q,{variant:"outline",onClick:()=>gt(!1),children:"Cancel"}),e.jsx(Q,{onClick:()=>{if(Ge==="create-promo-code"&&(!Z?.code?.trim()||!Z?.broker_id)){se.error("Code and Broker are required");return}const I={code:Z?.code?.trim(),broker_id:Z?.broker_id||void 0,description:Z?.description?.trim()||void 0,is_active:Z?.is_active??!0,max_uses:Z?.max_uses||void 0,expires_at:Z?.expires_at||void 0,commission_percentage:Z?.commission_percentage};ii(I,Ge==="edit-promo-code"?Z:null)},disabled:n,children:n?"Saving...":"Save"})]})]}),Ge==="view-promo-users"&&Z&&e.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(Sg,{className:"w-4 h-4"}),"Promo Code: ",e.jsx("span",{className:"font-mono",children:Z.code})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Broker:"," ",Z.broker?Z.broker.username||`${Z.broker.first_name||""} ${Z.broker.last_name||""}`:"N/A"]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h4",{className:"font-semibold text-sm",children:"Users who used this code"}),e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"ID"}),e.jsx(J,{children:"Username"}),e.jsx(J,{children:"Name"}),e.jsx(J,{children:"Phone"}),e.jsx(J,{children:"Email"}),e.jsx(J,{children:"Referred At"})]})}),e.jsx(wt,{children:q.map(I=>e.jsxs(Ne,{children:[e.jsx(Y,{children:I.id}),e.jsx(Y,{children:I.username}),e.jsx(Y,{children:I.first_name||I.last_name?`${I.first_name||""} ${I.last_name||""}`:"N/A"}),e.jsx(Y,{children:I.phone_number||"N/A"}),e.jsx(Y,{children:I.email||"N/A"}),e.jsx(Y,{children:I.referred_at?new Date(I.referred_at).toLocaleString():"N/A"})]},I.id))})]})]}),Array.isArray(F)&&F.length>0&&e.jsxs("div",{className:"space-y-2 pt-2",children:[e.jsx("h4",{className:"font-semibold text-sm",children:"Broker referrals (all codes)"}),e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"ID"}),e.jsx(J,{children:"Referred User"}),e.jsx(J,{children:"Promo Code"})]})}),e.jsx(wt,{children:(Array.isArray(F)?F:[]).map(I=>e.jsxs(Ne,{children:[e.jsx(Y,{children:I.id}),e.jsx(Y,{children:I.referredUser?I.referredUser.username||`${I.referredUser.first_name||""} ${I.referredUser.last_name||""}`:I.referred_user_id}),e.jsx(Y,{children:I.promoCode?.code||"N/A"})]},I.id))})]})]}),e.jsx("div",{className:"flex justify-end pt-3",children:e.jsx(Q,{variant:"outline",onClick:()=>gt(!1),children:"Close"})})]}),Ge==="view-third-party"&&Z&&e.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"ID"}),e.jsx("p",{className:"text-sm",children:Z.id})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Name"}),e.jsx("p",{className:"text-sm",children:Z.name||"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Email"}),e.jsx("p",{className:"text-sm",children:Z.email||"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Phone"}),e.jsx("p",{className:"text-sm",children:Z.phone||"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Contact Email"}),e.jsx("p",{className:"text-sm",children:Z.contact_email||"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Category"}),e.jsx(Re,{variant:"outline",children:Z.category||"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"City"}),e.jsx("p",{className:"text-sm",children:Z.city||"N/A"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Subscription"}),e.jsx(Re,{variant:Z.subscription==="premium"||Z.subscription==="enterprise"?"default":"secondary",children:Z.subscription||"Free"})]}),e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Created At"}),e.jsx("p",{className:"text-sm",children:new Date(Z.created_at).toLocaleString()})]})]}),Z.description&&e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Description"}),e.jsx("p",{className:"text-sm",children:Z.description})]}),Z.permissions&&Z.permissions.length>0&&e.jsxs("div",{children:[e.jsx(W,{className:"text-sm font-semibold",children:"Permissions"}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:Z.permissions.map((I,de)=>e.jsx(Re,{variant:"secondary",className:"text-xs",children:I},de))})]}),e.jsxs("div",{className:"flex gap-2 pt-4",children:[e.jsx(Q,{onClick:()=>ls("edit-third-party"),className:"flex-1",children:"Edit Third Party"}),e.jsxs(Q,{variant:"outline",onClick:()=>{yt({third_party_id:Z.id,third_party_name:Z.name}),ls("create-service-for-tp")},children:[e.jsx(Gs,{className:"w-4 h-4 mr-1"}),"Add Service"]}),e.jsx(Q,{variant:"outline",onClick:()=>gt(!1),children:"Close"})]})]}),(Ge==="create-third-party"||Ge==="edit-third-party")&&e.jsx(qoe,{thirdParty:Ge==="edit-third-party"?Z:null,onSubmit:I=>{Ge==="edit-third-party"&&Z?ko(Z.id,I):bn(I)}}),Ge==="create-service-for-tp"&&Z&&e.jsx(Woe,{thirdPartyId:Z.third_party_id,thirdPartyName:Z.third_party_name,onSubmit:I=>{Co({...I,third_party_id:Z.third_party_id})}}),(Ge==="create-service-item"||Ge==="edit-service-item")&&e.jsx(Goe,{item:Ge==="edit-service-item"?Z:null,onSubmit:I=>{Ge==="edit-service-item"&&Z?Mi(Z.id,I):is&&Ri(is,I)}})]})})})]})})}function zoe({holiday:t,onSubmit:s}){const[a,n]=x.useState({car_id:t?.car_id||"",holiday_name:t?.holiday_name||"",holiday_dates:{start:t?.holiday_dates?.start||"",end:t?.holiday_dates?.end||""},percentage_increase:t?.percentage_increase||"",is_active:t?.is_active!==void 0?t.is_active:!0});return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(W,{children:"Car ID *"}),e.jsx(oe,{type:"number",value:a.car_id,onChange:r=>n({...a,car_id:r.target.value}),placeholder:"Enter car ID",required:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Holiday Name *"}),e.jsx(oe,{value:a.holiday_name,onChange:r=>n({...a,holiday_name:r.target.value}),placeholder:"e.g., New Year",required:!0})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{children:"Start Date *"}),e.jsx(oe,{type:"date",value:a.holiday_dates.start,onChange:r=>n({...a,holiday_dates:{...a.holiday_dates,start:r.target.value}}),required:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"End Date *"}),e.jsx(oe,{type:"date",value:a.holiday_dates.end,onChange:r=>n({...a,holiday_dates:{...a.holiday_dates,end:r.target.value}}),required:!0})]})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Percentage Increase *"}),e.jsx(oe,{type:"number",step:"0.01",min:"0",max:"100",value:a.percentage_increase,onChange:r=>n({...a,percentage_increase:r.target.value}),placeholder:"20.00",required:!0})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(fn,{id:"is_active",checked:a.is_active,onCheckedChange:r=>n({...a,is_active:r})}),e.jsx(W,{htmlFor:"is_active",children:"Active"})]}),e.jsxs(Q,{onClick:()=>s(a),children:[t?"Update":"Create"," Holiday"]})]})}function Voe({announcement:t,onSubmit:s}){const a=u=>{if(!u)return"";const h=new Date(u),p=h.getFullYear(),f=String(h.getMonth()+1).padStart(2,"0"),y=String(h.getDate()).padStart(2,"0"),v=String(h.getHours()).padStart(2,"0"),j=String(h.getMinutes()).padStart(2,"0"),N=String(h.getSeconds()).padStart(2,"0");return`${p}-${f}-${y} ${v}:${j}:${N}`},n=u=>u?u.includes(" ")?u.replace(" ","T"):new Date(u).toISOString().slice(0,16):"",[r,i]=x.useState({title:t?.title||"",message:t?.message||"",scheduled_at:n(t?.scheduled_at)||"",expires_at:n(t?.expires_at)||"",priority:t?.priority||"medium",target_audience:t?.target_audience||[],status:t?.status||"draft",categories:t?.categories||[],media:t?.media||[]}),l=(u,h)=>{i(p=>{const f=p.target_audience||[];return h?{...p,target_audience:[...f,u]}:{...p,target_audience:f.filter(y=>y!==u)}})},d=()=>{const u={...r,scheduled_at:r.scheduled_at?a(r.scheduled_at):void 0,expires_at:r.expires_at?a(r.expires_at):void 0,categories:r.categories.length>0?r.categories:void 0,media:r.media.length>0?r.media:void 0};s(u)};return e.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[e.jsxs("div",{children:[e.jsx(W,{children:"Title *"}),e.jsx(oe,{required:!0,value:r.title,onChange:u=>i({...r,title:u.target.value}),placeholder:"Enter announcement title"})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Message *"}),e.jsx(tn,{required:!0,value:r.message,onChange:u=>i({...r,message:u.target.value}),placeholder:"Enter announcement message",rows:5})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{children:"Scheduled At"}),e.jsx(oe,{type:"datetime-local",value:r.scheduled_at,onChange:u=>i({...r,scheduled_at:u.target.value})})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Expires At"}),e.jsx(oe,{type:"datetime-local",value:r.expires_at,onChange:u=>i({...r,expires_at:u.target.value})})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{children:"Priority"}),e.jsxs(et,{value:r.priority,onValueChange:u=>i({...r,priority:u}),children:[e.jsx(Ze,{children:e.jsx(tt,{})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"low",children:"Low"}),e.jsx(ce,{value:"medium",children:"Medium"}),e.jsx(ce,{value:"high",children:"High"})]})]})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Status"}),e.jsxs(et,{value:r.status,onValueChange:u=>i({...r,status:u}),children:[e.jsx(Ze,{children:e.jsx(tt,{})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"draft",children:"Draft"}),e.jsx(ce,{value:"published",children:"Published"}),e.jsx(ce,{value:"archived",children:"Archived"})]})]})]})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Target Audience"}),e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:["client","agency","agent","admin"].map(u=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:`target-${u}`,checked:r.target_audience.includes(u),onChange:h=>l(u,h.target.checked),className:"rounded"}),e.jsx(W,{htmlFor:`target-${u}`,className:"text-sm font-normal cursor-pointer",children:u.charAt(0).toUpperCase()+u.slice(1)})]},u))})]}),e.jsx("div",{className:"flex gap-2 pt-4",children:e.jsxs(Q,{onClick:d,className:"flex-1",children:[t?"Update":"Create"," Announcement"]})})]})}function Uoe({onSubmit:t}){const[s,a]=x.useState({title:"",message:"",type:"general",data:{}});return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(W,{children:"Title"}),e.jsx(oe,{value:s.title,onChange:n=>a({...s,title:n.target.value})})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Message"}),e.jsx(tn,{value:s.message,onChange:n=>a({...s,message:n.target.value})})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Type"}),e.jsxs(et,{value:s.type,onValueChange:n=>a({...s,type:n}),children:[e.jsx(Ze,{children:e.jsx(tt,{})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"general",children:"General"}),e.jsx(ce,{value:"booking",children:"Booking"}),e.jsx(ce,{value:"payment",children:"Payment"}),e.jsx(ce,{value:"system",children:"System"})]})]})]}),e.jsx(Q,{onClick:()=>t(s),children:"Send Notification"})]})}function Hoe({service:t,onSubmit:s,thirdParties:a=[]}){const[n,r]=x.useState({name:t?.name||"",description:t?.description||"",category:t?.category||"",price:t?.price||"",featured:t?.featured||!1,images:t?.images||[],third_party_id:t?.third_party_id||"",city:t?.city||"",availability:t?.availability!==!1}),[i,l]=x.useState(""),d=()=>{i.trim()&&(r({...n,images:[...n.images,i.trim()]}),l(""))},u=h=>{r({...n,images:n.images.filter((p,f)=>f!==h)})};return e.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[a.length>0&&e.jsxs("div",{children:[e.jsx(W,{children:"Service Owner (Third Party) *"}),e.jsxs(et,{value:n.third_party_id?.toString()||"",onValueChange:h=>r({...n,third_party_id:parseInt(h)}),children:[e.jsx(Ze,{children:e.jsx(tt,{placeholder:"Select third party owner"})}),e.jsx(Je,{children:a.map(h=>e.jsxs(ce,{value:h.id.toString(),children:[h.name," (",h.email,")"]},h.id))})]})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Name *"}),e.jsx(oe,{required:!0,value:n.name,onChange:h=>r({...n,name:h.target.value}),placeholder:"Enter service name"})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Description *"}),e.jsx(tn,{required:!0,value:n.description,onChange:h=>r({...n,description:h.target.value}),placeholder:"Enter service description",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{children:"Category *"}),e.jsxs(et,{value:n.category,onValueChange:h=>r({...n,category:h}),children:[e.jsx(Ze,{children:e.jsx(tt,{placeholder:"Select category"})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"hotel",children:"Hotel"}),e.jsx(ce,{value:"restaurant",children:"Restaurant"}),e.jsx(ce,{value:"spa",children:"Spa"}),e.jsx(ce,{value:"nightclub",children:"Nightclub"}),e.jsx(ce,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Price *"}),e.jsx(oe,{type:"number",step:"0.01",min:"0",required:!0,value:n.price,onChange:h=>r({...n,price:parseFloat(h.target.value)||""}),placeholder:"0.00"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{children:"City"}),e.jsx(oe,{value:n.city,onChange:h=>r({...n,city:h.target.value}),placeholder:"Enter city"})]}),e.jsxs("div",{className:"flex items-center justify-between pt-6",children:[e.jsx(W,{children:"Availability"}),e.jsx(fn,{checked:n.availability,onCheckedChange:h=>r({...n,availability:h})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(W,{children:"Featured"}),e.jsx(fn,{checked:n.featured,onCheckedChange:h=>r({...n,featured:h})})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Images"}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx(oe,{value:i,onChange:h=>l(h.target.value),placeholder:"Enter image URL",className:"flex-1"}),e.jsx(Q,{type:"button",variant:"outline",onClick:d,children:"Add"})]}),n.images.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.images.map((h,p)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:h,alt:`Image ${p+1}`,className:"w-16 h-16 object-cover rounded"}),e.jsx("button",{type:"button",onClick:()=>u(p),className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-4 h-4 text-xs",children:""})]},p))})]}),e.jsx("div",{className:"flex gap-2 pt-4",children:e.jsxs(Q,{onClick:()=>s(n),className:"flex-1",children:[t?"Update":"Create"," Service"]})})]})}function qoe({thirdParty:t,onSubmit:s}){const[a,n]=x.useState({name:t?.business_name||t?.name||"",username:t?.username||"",email:t?.email||"",password:"",subscription:t?.subscription||"",permissions:t?.permissions||[],description:t?.description||"",category:t?.category||"",city:t?.city||"",contact_email:t?.contact_email||"",phone:t?.phone||""}),r=["services:read","services:write","items:read","items:write","feedbacks:read","feedbacks:respond"],i=l=>{a.permissions.includes(l)?n({...a,permissions:a.permissions.filter(d=>d!==l)}):n({...a,permissions:[...a.permissions,l]})};return e.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[e.jsx("div",{className:"border-b pb-2 mb-2",children:e.jsx("h3",{className:"font-semibold text-sm text-muted-foreground",children:"Account Information"})}),e.jsxs("div",{className:"grid grid-cols-3 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{children:"Business Name *"}),e.jsx(oe,{required:!0,value:a.name,onChange:l=>n({...a,name:l.target.value}),placeholder:"Enter business/company name"})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Username *"}),e.jsx(oe,{required:!0,value:a.username,onChange:l=>n({...a,username:l.target.value}),placeholder:"Unique username for login"})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Email *"}),e.jsx(oe,{type:"email",required:!0,value:a.email,onChange:l=>n({...a,email:l.target.value}),placeholder:"Enter login email"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{children:t?"Password (leave blank to keep current)":"Password *"}),e.jsx(oe,{type:"password",required:!t,value:a.password,onChange:l=>n({...a,password:l.target.value}),placeholder:"Enter password"})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Subscription"}),e.jsxs(et,{value:a.subscription,onValueChange:l=>n({...a,subscription:l}),children:[e.jsx(Ze,{children:e.jsx(tt,{placeholder:"Select subscription"})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"free",children:"Free"}),e.jsx(ce,{value:"basic",children:"Basic"}),e.jsx(ce,{value:"premium",children:"Premium"}),e.jsx(ce,{value:"enterprise",children:"Enterprise"})]})]})]})]}),e.jsx("div",{className:"border-b pb-2 mb-2 mt-4",children:e.jsx("h3",{className:"font-semibold text-sm text-muted-foreground",children:"Profile Information"})}),e.jsxs("div",{children:[e.jsx(W,{children:"Description"}),e.jsx(tn,{value:a.description,onChange:l=>n({...a,description:l.target.value}),placeholder:"Enter business description",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{children:"Category"}),e.jsxs(et,{value:a.category,onValueChange:l=>n({...a,category:l}),children:[e.jsx(Ze,{children:e.jsx(tt,{placeholder:"Select category"})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"transport",children:"Transport"}),e.jsx(ce,{value:"accommodation",children:"Accommodation"}),e.jsx(ce,{value:"food",children:"Food & Dining"}),e.jsx(ce,{value:"entertainment",children:"Entertainment"}),e.jsx(ce,{value:"tourism",children:"Tourism"}),e.jsx(ce,{value:"rental",children:"Rental Services"}),e.jsx(ce,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsx(W,{children:"City"}),e.jsx(oe,{value:a.city,onChange:l=>n({...a,city:l.target.value}),placeholder:"Enter city"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{children:"Contact Email"}),e.jsx(oe,{type:"email",value:a.contact_email,onChange:l=>n({...a,contact_email:l.target.value}),placeholder:"Enter public contact email"})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Phone"}),e.jsx(oe,{value:a.phone,onChange:l=>n({...a,phone:l.target.value}),placeholder:"Enter phone number"})]})]}),e.jsx("div",{className:"border-b pb-2 mb-2 mt-4",children:e.jsx("h3",{className:"font-semibold text-sm text-muted-foreground",children:"Permissions"})}),e.jsx("div",{className:"flex flex-wrap gap-3",children:r.map(l=>e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("input",{type:"checkbox",id:`perm-${l}`,checked:a.permissions.includes(l),onChange:()=>i(l),className:"rounded"}),e.jsx(W,{htmlFor:`perm-${l}`,className:"text-sm font-normal cursor-pointer",children:l})]},l))}),e.jsx("div",{className:"flex gap-2 pt-4",children:e.jsxs(Q,{onClick:()=>{const l={...a};t&&!l.password&&delete l.password,s(l)},className:"flex-1",children:[t?"Update":"Create"," Third Party"]})})]})}function Goe({item:t,onSubmit:s}){const[a,n]=x.useState({name:t?.name||"",description:t?.description||"",price:t?.price||"",image:t?.image||""});return e.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[e.jsxs("div",{children:[e.jsx(W,{children:"Name *"}),e.jsx(oe,{required:!0,value:a.name,onChange:r=>n({...a,name:r.target.value}),placeholder:"Enter item name"})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Description"}),e.jsx(tn,{value:a.description,onChange:r=>n({...a,description:r.target.value}),placeholder:"Enter item description",rows:3})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Price *"}),e.jsx(oe,{type:"number",step:"0.01",min:"0",required:!0,value:a.price,onChange:r=>n({...a,price:parseFloat(r.target.value)||""}),placeholder:"0.00"})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Image URL"}),e.jsx(oe,{value:a.image,onChange:r=>n({...a,image:r.target.value}),placeholder:"Enter image URL"}),a.image&&e.jsx("img",{src:a.image,alt:"Preview",className:"w-20 h-20 object-cover rounded mt-2"})]}),e.jsx("div",{className:"flex gap-2 pt-4",children:e.jsxs(Q,{onClick:()=>s(a),className:"flex-1",children:[t?"Update":"Create"," Item"]})})]})}function Woe({thirdPartyId:t,thirdPartyName:s,onSubmit:a}){const[n,r]=x.useState({name:"",description:"",category:"",price:"",featured:!1,images:[],city:"",availability:!0}),[i,l]=x.useState(""),d=()=>{i.trim()&&(r({...n,images:[...n.images,i.trim()]}),l(""))},u=h=>{r({...n,images:n.images.filter((p,f)=>f!==h)})};return e.jsxs("div",{className:"space-y-4 max-h-[70vh] overflow-y-auto",children:[e.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg border border-blue-200 dark:border-blue-800",children:e.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[e.jsx("strong",{children:"Owner:"})," ",s," (ID: ",t,")"]})}),e.jsxs("div",{children:[e.jsx(W,{children:"Service Name *"}),e.jsx(oe,{required:!0,value:n.name,onChange:h=>r({...n,name:h.target.value}),placeholder:"Enter service name"})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Description *"}),e.jsx(tn,{required:!0,value:n.description,onChange:h=>r({...n,description:h.target.value}),placeholder:"Enter service description",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{children:"Category *"}),e.jsxs(et,{value:n.category,onValueChange:h=>r({...n,category:h}),children:[e.jsx(Ze,{children:e.jsx(tt,{placeholder:"Select category"})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"hotel",children:"Hotel"}),e.jsx(ce,{value:"restaurant",children:"Restaurant"}),e.jsx(ce,{value:"spa",children:"Spa"}),e.jsx(ce,{value:"nightclub",children:"Nightclub"}),e.jsx(ce,{value:"other",children:"Other"})]})]})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Price *"}),e.jsx(oe,{type:"number",step:"0.01",min:"0",required:!0,value:n.price,onChange:h=>r({...n,price:parseFloat(h.target.value)||""}),placeholder:"0.00"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{children:"City"}),e.jsx(oe,{value:n.city,onChange:h=>r({...n,city:h.target.value}),placeholder:"Enter city"})]}),e.jsxs("div",{className:"flex items-center justify-between pt-6",children:[e.jsx(W,{children:"Availability"}),e.jsx(fn,{checked:n.availability,onCheckedChange:h=>r({...n,availability:h})})]})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(W,{children:"Featured"}),e.jsx(fn,{checked:n.featured,onCheckedChange:h=>r({...n,featured:h})})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Images"}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx(oe,{value:i,onChange:h=>l(h.target.value),placeholder:"Enter image URL",className:"flex-1"}),e.jsx(Q,{type:"button",variant:"outline",onClick:d,children:"Add"})]}),n.images.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:n.images.map((h,p)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:h,alt:`Image ${p+1}`,className:"w-16 h-16 object-cover rounded"}),e.jsx("button",{type:"button",onClick:()=>u(p),className:"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-4 h-4 text-xs",children:""})]},p))})]}),e.jsx("div",{className:"flex gap-2 pt-4",children:e.jsx(Q,{onClick:()=>a(n),className:"flex-1",children:"Create Service"})})]})}const Yoe=t=>t.replace(/\D/g,""),Koe=({countries:t,iso2:s,setIso2:a,phone:n,setPhone:r,disabledPhone:i})=>e.jsxs("div",{className:"flex gap-2 w-full",children:[e.jsx("select",{value:s,onChange:l=>a(l.target.value),className:"w-[100px] sm:w-[120px] shrink-0 bg-white dark:bg-gray-800 text-gray-900 dark:text-white p-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm focus:ring-2 focus:ring-[#008C95] focus:border-transparent",disabled:i,children:t.map(l=>e.jsxs("option",{value:l.iso2,children:[l.iso2," (",l.dialCode,")"]},l.iso2))}),e.jsx("input",{type:"tel",inputMode:"numeric",value:n,onChange:l=>r(Yoe(l.target.value)),placeholder:"70123456",className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-800 text-sm focus:ring-2 focus:ring-[#008C95] focus:border-transparent",disabled:i})]}),Qn={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640"};function Xoe(){const t=Ua(),[s,a]=x.useState("login"),[n,r]=x.useState(!1),[i,l]=x.useState(""),[d,u]=x.useState(""),[h,p]=x.useState(""),[f,y]=x.useState("LB"),[v,j]=x.useState(!1),[N,w]=x.useState(""),[_,T]=x.useState(!1),[R,E]=x.useState(!1),[A,V]=x.useState(0),[k,B]=x.useState({username:"",email:"",first_name:"",last_name:"",password:"",password_confirmation:"",role:"admin",business_type:""}),P=x.useMemo(()=>ER.map(F=>({name:F.name,iso2:F.iso2,dialCode:F.dialCode.startsWith("+")?F.dialCode:`+${F.dialCode}`})).sort((F,M)=>F.name.localeCompare(M.name)),[]),H=x.useMemo(()=>{const F=new Map;for(const M of P)F.set(M.iso2,M.dialCode);return F},[P]),D=F=>H.get(F)||"+961";x.useEffect(()=>{let F;return A>0&&(F=setInterval(()=>{V(M=>M<=1?(E(!0),0):M-1)},1e3)),()=>clearInterval(F)},[A]);const K=()=>{p(""),j(!1),w(""),T(!1),E(!1),V(0),B({username:"",email:"",first_name:"",last_name:"",password:"",password_confirmation:"",role:"admin",business_type:""})},X=()=>{j(!1),w(""),T(!1),E(!1),V(0),p("")},ne=async()=>{if(!h)return se.error("Please enter a phone number.");const F=`${D(f)}${h.replace(/^0+/,"")}`;if(!/^\+\d{8,15}$/.test(F))return se.error("Please enter a valid phone number with country code.");try{r(!0);const M=await VD(F);M.message&&se.success(M.message),M.warning&&se.warning(M.warning),j(!0),E(!1),V(60)}catch(M){M.response?.data?.errors?Object.values(M.response.data.errors).flat().forEach(z=>se.error(z)):se.error(M.response?.data?.message||"Failed to send OTP.")}finally{r(!1)}},te=async()=>{R&&await ne()},U=async()=>{if(!N)return se.error("Please enter the OTP code.");if(N.length!==6)return se.error("OTP code must be 6 digits.");const F=`${D(f)}${h.replace(/^0+/,"")}`;try{r(!0);const M=await UD(F,N);M.message?se.success(M.message):se.success("OTP verified! Complete your registration."),T(!0)}catch(M){se.error(M.response?.data?.message||M.response?.data?.error||"Invalid or expired OTP.")}finally{r(!1)}},q=async F=>{if(F.preventDefault(),!i||!d)return se.error("Please fill all fields");try{r(!0);let M={password:d};i.includes("@")?M.email=i:M.phone_number=i;const z=await xe.post("/auth/login",M),ie=z.data.user;if(ie.role!=="admin"){se.error("Access denied. Admin privileges required."),localStorage.removeItem("authToken"),localStorage.removeItem("token"),localStorage.removeItem("user");return}localStorage.setItem("authToken",z.data.token),localStorage.setItem("token",z.data.token),localStorage.setItem("user",JSON.stringify(ie)),se.success("Login successful!"),t("/admin")}catch(M){const z=M.response?.data?.message||M.response?.data?.error||"Login failed.";se.error(z)}finally{r(!1)}},G=async F=>{F.preventDefault();const{username:M,email:z,first_name:ie,last_name:le,password:re,password_confirmation:fe,role:we,business_type:ye}=k;if(!M?.trim()||!ie?.trim()||!le?.trim()||!re||!fe)return se.error("Please fill all required fields");if(we==="agency"&&!ye?.trim())return se.error("Business type is required for agency");if(re.length<6)return se.error("Password must be at least 6 characters");if(re!==fe)return se.error("Passwords do not match");const ke=`${D(f)}${h.replace(/^0+/,"")}`.replace(/^\+/,"");try{r(!0);const Ye={phone_number:ke,otp_code:N,username:M.trim(),first_name:ie.trim(),last_name:le.trim(),password:re,password_confirmation:fe,role:we||"admin"};z?.trim()&&(Ye.email=z.trim()),we==="agency"&&ye?.trim()&&(Ye.business_type=ye.trim());const rt=await xe.post("/auth/register",Ye),Se=rt.data?.user,Xe=Se?.role||we||"admin";localStorage.setItem("authToken",rt.data.token),localStorage.setItem("token",rt.data.token),localStorage.setItem("user",JSON.stringify(Se||rt.data.user)),se.success("Account created!"),t(Xe==="admin"?"/admin":"/Complete-Profile")}catch(Ye){const rt=Ye.response?.data?.message||Ye.response?.data?.error||"Registration failed.";Ye.response?.data?.errors?Object.values(Ye.response.data.errors).flat().forEach(Se=>se.error(Se)):se.error(rt)}finally{r(!1)}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900 flex items-center justify-center p-4",children:e.jsx(qe.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"w-full max-w-md",children:e.jsxs(Ae,{className:"border-0 shadow-2xl",children:[e.jsxs(ns,{className:"text-center space-y-4 pb-8",children:[e.jsx("div",{className:"flex justify-center",children:e.jsx("div",{className:"w-16 h-16 rounded-full flex items-center justify-center",style:{background:`linear-gradient(to right, ${Qn.darkBlue}, ${Qn.teal})`},children:e.jsx(Fn,{className:"w-8 h-8 text-white"})})}),e.jsxs("div",{children:[e.jsx(rs,{className:"text-2xl font-bold bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(to right, ${Qn.darkBlue}, ${Qn.teal}, ${Qn.limeGreen})`},children:"Admin Login"}),e.jsx(im,{className:"mt-2",children:"Sign in to access the admin dashboard"})]})]}),e.jsxs(Ee,{children:[e.jsxs(fo,{value:s,onValueChange:a,children:[e.jsxs(Si,{className:"grid w-full grid-cols-2 mb-6",children:[e.jsx(Pt,{value:"login",children:"Login"}),e.jsx(Pt,{value:"register",children:"Register"})]}),e.jsx(zt,{value:"login",children:e.jsxs("form",{onSubmit:q,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"email",children:"Email or Phone"}),e.jsxs("div",{className:"relative",children:[e.jsx(Ci,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(oe,{id:"email",type:"text",placeholder:"admin@example.com or +96170123456",value:i,onChange:F=>l(F.target.value),className:"pl-10",disabled:n,required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"password",children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(ul,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),e.jsx(oe,{id:"password",type:"password",placeholder:"Enter your password",value:d,onChange:F=>u(F.target.value),className:"pl-10",disabled:n,required:!0})]})]}),e.jsx(Q,{type:"submit",className:"w-full text-white",style:{background:`linear-gradient(to right, ${Qn.darkBlue}, ${Qn.teal})`},disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Signing in..."]}):e.jsxs(e.Fragment,{children:["Sign In",e.jsx(Pc,{className:"w-4 h-4 ml-2"})]})})]})}),e.jsx(zt,{value:"register",children:_?e.jsxs("form",{onSubmit:G,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{children:"Username *"}),e.jsx(oe,{value:k.username,onChange:F=>B(M=>({...M,username:F.target.value})),placeholder:"admin_username",disabled:n,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{children:"Email"}),e.jsx(oe,{type:"email",value:k.email,onChange:F=>B(M=>({...M,email:F.target.value})),placeholder:"admin@example.com",disabled:n})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{children:"Role *"}),e.jsxs(et,{value:k.role||"admin",onValueChange:F=>B(M=>({...M,role:F})),children:[e.jsx(Ze,{children:e.jsx(tt,{placeholder:"Select role"})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"client",children:"Client"}),e.jsx(ce,{value:"agency",children:"Agency"}),e.jsx(ce,{value:"admin",children:"Admin"})]})]})]}),k.role==="agency"&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{children:"Business Type *"}),e.jsx(oe,{value:k.business_type,onChange:F=>B(M=>({...M,business_type:F.target.value})),placeholder:"e.g. Car Rental Agency",disabled:n})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{children:"First Name *"}),e.jsx(oe,{value:k.first_name,onChange:F=>B(M=>({...M,first_name:F.target.value})),placeholder:"First",disabled:n,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{children:"Last Name *"}),e.jsx(oe,{value:k.last_name,onChange:F=>B(M=>({...M,last_name:F.target.value})),placeholder:"Last",disabled:n,required:!0})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{children:"Password *"}),e.jsx(oe,{type:"password",value:k.password,onChange:F=>B(M=>({...M,password:F.target.value})),placeholder:"Min 6 characters",disabled:n,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{children:"Confirm Password *"}),e.jsx(oe,{type:"password",value:k.password_confirmation,onChange:F=>B(M=>({...M,password_confirmation:F.target.value})),placeholder:"Repeat password",disabled:n,required:!0})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Q,{type:"button",variant:"outline",onClick:K,disabled:n,children:"Back"}),e.jsx(Q,{type:"submit",className:"flex-1 text-white",style:{background:`linear-gradient(to right, ${Qn.darkBlue}, ${Qn.teal})`},disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(Nt,{className:"w-4 h-4 mr-2 animate-spin"}),"Creating..."]}):e.jsxs(e.Fragment,{children:[e.jsx(bz,{className:"w-4 h-4 mr-2"}),"Create Admin Account"]})})]})]}):e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(W,{className:"flex items-center gap-2",children:[e.jsx(Wr,{className:"w-4 h-4"}),"Phone Number"]}),e.jsx(Koe,{countries:P,iso2:f,setIso2:y,phone:h,setPhone:p,disabledPhone:v})]}),v&&e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{children:"OTP Code"}),e.jsx(oe,{type:"text",inputMode:"numeric",value:N,onChange:F=>{const M=F.target.value.replace(/\D/g,"");M.length<=6&&w(M)},placeholder:"Enter 6-digit OTP",maxLength:6,className:"text-center text-xl font-bold tracking-widest"}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsx("span",{children:"Check your phone"}),A>0?e.jsxs("span",{children:["Resend in ",A,"s"]}):e.jsxs(Q,{type:"button",variant:"link",size:"sm",className:"h-auto p-0 text-xs",onClick:te,disabled:!R||n,children:[e.jsx(Nt,{className:"w-3 h-3 mr-1"}),"Resend OTP"]})]})]}),e.jsx("div",{className:"flex gap-2",children:v?e.jsxs(e.Fragment,{children:[e.jsx(Q,{type:"button",variant:"outline",onClick:X,disabled:n,children:"Change"}),e.jsx(Q,{type:"button",onClick:U,className:"flex-1 text-white",style:{background:`linear-gradient(to right, ${Qn.darkBlue}, ${Qn.teal})`},disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(Nt,{className:"w-4 h-4 mr-2 animate-spin"}),"Verifying..."]}):"Verify OTP"})]}):e.jsx(Q,{type:"button",onClick:ne,className:"w-full text-white",style:{background:`linear-gradient(to right, ${Qn.darkBlue}, ${Qn.teal})`},disabled:n,children:n?e.jsxs(e.Fragment,{children:[e.jsx(Nt,{className:"w-4 h-4 mr-2 animate-spin"}),"Sending..."]}):"Send OTP"})})]})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsx(Q,{variant:"ghost",onClick:()=>t("/"),className:"text-sm text-gray-600 dark:text-gray-400",children:" Back to Home"})})]})]})})})}var Qoe=Symbol("radix.slottable");function Zoe(t){const s=({children:a})=>e.jsx(e.Fragment,{children:a});return s.displayName=`${t}.Slottable`,s.__radixId=Qoe,s}var[Xx]=nr("Tooltip",[ju]),P1=ju(),gO="TooltipProvider",Joe=700,Q4="tooltip.open",[ele,xO]=Xx(gO),yO=t=>{const{__scopeTooltip:s,delayDuration:a=Joe,skipDelayDuration:n=300,disableHoverableContent:r=!1,children:i}=t,l=x.useRef(!0),d=x.useRef(!1),u=x.useRef(0);return x.useEffect(()=>{const h=u.current;return()=>window.clearTimeout(h)},[]),e.jsx(ele,{scope:s,isOpenDelayedRef:l,delayDuration:a,onOpen:x.useCallback(()=>{window.clearTimeout(u.current),l.current=!1},[]),onClose:x.useCallback(()=>{window.clearTimeout(u.current),u.current=window.setTimeout(()=>l.current=!0,n)},[n]),isPointerInTransitRef:d,onPointerInTransitChange:x.useCallback(h=>{d.current=h},[]),disableHoverableContent:r,children:i})};yO.displayName=gO;var bO="Tooltip",[Bue,ef]=Xx(bO),Bj="TooltipTrigger",tle=x.forwardRef((t,s)=>{const{__scopeTooltip:a,...n}=t,r=ef(Bj,a),i=xO(Bj,a),l=P1(a),d=x.useRef(null),u=Ht(s,d,r.onTriggerChange),h=x.useRef(!1),p=x.useRef(!1),f=x.useCallback(()=>h.current=!1,[]);return x.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),e.jsx(gw,{asChild:!0,...l,children:e.jsx(Tt.button,{"aria-describedby":r.open?r.contentId:void 0,"data-state":r.stateAttribute,...n,ref:u,onPointerMove:st(t.onPointerMove,y=>{y.pointerType!=="touch"&&!p.current&&!i.isPointerInTransitRef.current&&(r.onTriggerEnter(),p.current=!0)}),onPointerLeave:st(t.onPointerLeave,()=>{r.onTriggerLeave(),p.current=!1}),onPointerDown:st(t.onPointerDown,()=>{r.open&&r.onClose(),h.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:st(t.onFocus,()=>{h.current||r.onOpen()}),onBlur:st(t.onBlur,r.onClose),onClick:st(t.onClick,r.onClose)})})});tle.displayName=Bj;var O1="TooltipPortal",[sle,ale]=Xx(O1,{forceMount:void 0}),vO=t=>{const{__scopeTooltip:s,forceMount:a,children:n,container:r}=t,i=ef(O1,s);return e.jsx(sle,{scope:s,forceMount:a,children:e.jsx(Er,{present:a||i.open,children:e.jsx($m,{asChild:!0,container:r,children:n})})})};vO.displayName=O1;var cu="TooltipContent",jO=x.forwardRef((t,s)=>{const a=ale(cu,t.__scopeTooltip),{forceMount:n=a.forceMount,side:r="top",...i}=t,l=ef(cu,t.__scopeTooltip);return e.jsx(Er,{present:n||l.open,children:l.disableHoverableContent?e.jsx(wO,{side:r,...i,ref:s}):e.jsx(nle,{side:r,...i,ref:s})})}),nle=x.forwardRef((t,s)=>{const a=ef(cu,t.__scopeTooltip),n=xO(cu,t.__scopeTooltip),r=x.useRef(null),i=Ht(s,r),[l,d]=x.useState(null),{trigger:u,onClose:h}=a,p=r.current,{onPointerInTransitChange:f}=n,y=x.useCallback(()=>{d(null),f(!1)},[f]),v=x.useCallback((j,N)=>{const w=j.currentTarget,_={x:j.clientX,y:j.clientY},T=cle(_,w.getBoundingClientRect()),R=dle(_,T),E=ule(N.getBoundingClientRect()),A=mle([...R,...E]);d(A),f(!0)},[f]);return x.useEffect(()=>()=>y(),[y]),x.useEffect(()=>{if(u&&p){const j=w=>v(w,p),N=w=>v(w,u);return u.addEventListener("pointerleave",j),p.addEventListener("pointerleave",N),()=>{u.removeEventListener("pointerleave",j),p.removeEventListener("pointerleave",N)}}},[u,p,v,y]),x.useEffect(()=>{if(l){const j=N=>{const w=N.target,_={x:N.clientX,y:N.clientY},T=u?.contains(w)||p?.contains(w),R=!hle(_,l);T?y():R&&(y(),h())};return document.addEventListener("pointermove",j),()=>document.removeEventListener("pointermove",j)}},[u,p,l,h,y]),e.jsx(wO,{...t,ref:i})}),[rle,ile]=Xx(bO,{isInside:!1}),ole=Zoe("TooltipContent"),wO=x.forwardRef((t,s)=>{const{__scopeTooltip:a,children:n,"aria-label":r,onEscapeKeyDown:i,onPointerDownOutside:l,...d}=t,u=ef(cu,a),h=P1(a),{onClose:p}=u;return x.useEffect(()=>(document.addEventListener(Q4,p),()=>document.removeEventListener(Q4,p)),[p]),x.useEffect(()=>{if(u.trigger){const f=y=>{y.target?.contains(u.trigger)&&p()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[u.trigger,p]),e.jsx(Fm,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:f=>f.preventDefault(),onDismiss:p,children:e.jsxs(xw,{"data-state":u.stateAttribute,...h,...d,ref:s,style:{...d.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[e.jsx(ole,{children:n}),e.jsx(rle,{scope:a,isInside:!0,children:e.jsx(Mq,{id:u.contentId,role:"tooltip",children:r||n})})]})})});jO.displayName=cu;var NO="TooltipArrow",lle=x.forwardRef((t,s)=>{const{__scopeTooltip:a,...n}=t,r=P1(a);return ile(NO,a).isInside?null:e.jsx(yw,{...r,...n,ref:s})});lle.displayName=NO;function cle(t,s){const a=Math.abs(s.top-t.y),n=Math.abs(s.bottom-t.y),r=Math.abs(s.right-t.x),i=Math.abs(s.left-t.x);switch(Math.min(a,n,r,i)){case i:return"left";case r:return"right";case a:return"top";case n:return"bottom";default:throw new Error("unreachable")}}function dle(t,s,a=5){const n=[];switch(s){case"top":n.push({x:t.x-a,y:t.y+a},{x:t.x+a,y:t.y+a});break;case"bottom":n.push({x:t.x-a,y:t.y-a},{x:t.x+a,y:t.y-a});break;case"left":n.push({x:t.x+a,y:t.y-a},{x:t.x+a,y:t.y+a});break;case"right":n.push({x:t.x-a,y:t.y-a},{x:t.x-a,y:t.y+a});break}return n}function ule(t){const{top:s,right:a,bottom:n,left:r}=t;return[{x:r,y:s},{x:a,y:s},{x:a,y:n},{x:r,y:n}]}function hle(t,s){const{x:a,y:n}=t;let r=!1;for(let i=0,l=s.length-1;i<s.length;l=i++){const d=s[i],u=s[l],h=d.x,p=d.y,f=u.x,y=u.y;p>n!=y>n&&a<(f-h)*(n-p)/(y-p)+h&&(r=!r)}return r}function mle(t){const s=t.slice();return s.sort((a,n)=>a.x<n.x?-1:a.x>n.x?1:a.y<n.y?-1:a.y>n.y?1:0),fle(s)}function fle(t){if(t.length<=1)return t.slice();const s=[];for(let n=0;n<t.length;n++){const r=t[n];for(;s.length>=2;){const i=s[s.length-1],l=s[s.length-2];if((i.x-l.x)*(r.y-l.y)>=(i.y-l.y)*(r.x-l.x))s.pop();else break}s.push(r)}s.pop();const a=[];for(let n=t.length-1;n>=0;n--){const r=t[n];for(;a.length>=2;){const i=a[a.length-1],l=a[a.length-2];if((i.x-l.x)*(r.y-l.y)>=(i.y-l.y)*(r.x-l.x))a.pop();else break}a.push(r)}return a.pop(),s.length===1&&a.length===1&&s[0].x===a[0].x&&s[0].y===a[0].y?s:s.concat(a)}var ple=yO,gle=vO,_O=jO;const xle=ple,yle=x.forwardRef(({className:t,sideOffset:s=4,...a},n)=>e.jsx(gle,{children:e.jsx(_O,{ref:n,sideOffset:s,className:pt("z-50 overflow-hidden rounded-md bg-primary px-3 py-1.5 text-xs text-primary-foreground animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...a})}));yle.displayName=_O.displayName;function ble(t){const s=vle(t),a=x.forwardRef((n,r)=>{const{children:i,...l}=n,d=x.Children.toArray(i),u=d.find(wle);if(u){const h=u.props.children,p=d.map(f=>f===u?x.Children.count(h)>1?x.Children.only(null):x.isValidElement(h)?h.props.children:null:f);return e.jsx(s,{...l,ref:r,children:x.isValidElement(h)?x.cloneElement(h,void 0,p):null})}return e.jsx(s,{...l,ref:r,children:i})});return a.displayName=`${t}.Slot`,a}function vle(t){const s=x.forwardRef((a,n)=>{const{children:r,...i}=a;if(x.isValidElement(r)){const l=_le(r),d=Nle(i,r.props);return r.type!==x.Fragment&&(d.ref=n?vo(n,l):l),x.cloneElement(r,d)}return x.Children.count(r)>1?x.Children.only(null):null});return s.displayName=`${t}.SlotClone`,s}var jle=Symbol("radix.slottable");function wle(t){return x.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===jle}function Nle(t,s){const a={...s};for(const n in s){const r=t[n],i=s[n];/^on[A-Z]/.test(n)?r&&i?a[n]=(...d)=>{const u=i(...d);return r(...d),u}:r&&(a[n]=r):n==="style"?a[n]={...r,...i}:n==="className"&&(a[n]=[r,i].filter(Boolean).join(" "))}return{...t,...a}}function _le(t){let s=Object.getOwnPropertyDescriptor(t.props,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning;return a?t.ref:(s=Object.getOwnPropertyDescriptor(t,"ref")?.get,a=s&&"isReactWarning"in s&&s.isReactWarning,a?t.props.ref:t.props.ref||t.ref)}var Fj=["Enter"," "],Cle=["ArrowDown","PageUp","Home"],CO=["ArrowUp","PageDown","End"],kle=[...Cle,...CO],Sle={ltr:[...Fj,"ArrowRight"],rtl:[...Fj,"ArrowLeft"]},Ale={ltr:["ArrowLeft"],rtl:["ArrowRight"]},tf="Menu",[Nm,Tle,Dle]=xx(tf),[qc,kO]=nr(tf,[Dle,ju,yx]),Qx=ju(),SO=yx(),[Ele,Gc]=qc(tf),[Rle,sf]=qc(tf),AO=t=>{const{__scopeMenu:s,open:a=!1,children:n,dir:r,onOpenChange:i,modal:l=!0}=t,d=Qx(s),[u,h]=x.useState(null),p=x.useRef(!1),f=ki(i),y=Lm(r);return x.useEffect(()=>{const v=()=>{p.current=!0,document.addEventListener("pointerdown",j,{capture:!0,once:!0}),document.addEventListener("pointermove",j,{capture:!0,once:!0})},j=()=>p.current=!1;return document.addEventListener("keydown",v,{capture:!0}),()=>{document.removeEventListener("keydown",v,{capture:!0}),document.removeEventListener("pointerdown",j,{capture:!0}),document.removeEventListener("pointermove",j,{capture:!0})}},[]),e.jsx(BE,{...d,children:e.jsx(Ele,{scope:s,open:a,onOpenChange:f,content:u,onContentChange:h,children:e.jsx(Rle,{scope:s,onClose:x.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:p,dir:y,modal:l,children:n})})})};AO.displayName=tf;var Mle="MenuAnchor",L1=x.forwardRef((t,s)=>{const{__scopeMenu:a,...n}=t,r=Qx(a);return e.jsx(gw,{...r,...n,ref:s})});L1.displayName=Mle;var B1="MenuPortal",[Ple,TO]=qc(B1,{forceMount:void 0}),DO=t=>{const{__scopeMenu:s,forceMount:a,children:n,container:r}=t,i=Gc(B1,s);return e.jsx(Ple,{scope:s,forceMount:a,children:e.jsx(Er,{present:a||i.open,children:e.jsx($m,{asChild:!0,container:r,children:n})})})};DO.displayName=B1;var Sr="MenuContent",[Ole,F1]=qc(Sr),EO=x.forwardRef((t,s)=>{const a=TO(Sr,t.__scopeMenu),{forceMount:n=a.forceMount,...r}=t,i=Gc(Sr,t.__scopeMenu),l=sf(Sr,t.__scopeMenu);return e.jsx(Nm.Provider,{scope:t.__scopeMenu,children:e.jsx(Er,{present:n||i.open,children:e.jsx(Nm.Slot,{scope:t.__scopeMenu,children:l.modal?e.jsx(Lle,{...r,ref:s}):e.jsx(Ble,{...r,ref:s})})})})}),Lle=x.forwardRef((t,s)=>{const a=Gc(Sr,t.__scopeMenu),n=x.useRef(null),r=Ht(s,n);return x.useEffect(()=>{const i=n.current;if(i)return bw(i)},[]),e.jsx(I1,{...t,ref:r,trapFocus:a.open,disableOutsidePointerEvents:a.open,disableOutsideScroll:!0,onFocusOutside:st(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>a.onOpenChange(!1)})}),Ble=x.forwardRef((t,s)=>{const a=Gc(Sr,t.__scopeMenu);return e.jsx(I1,{...t,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>a.onOpenChange(!1)})}),Fle=ble("MenuContent.ScrollLock"),I1=x.forwardRef((t,s)=>{const{__scopeMenu:a,loop:n=!1,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:d,onEntryFocus:u,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:f,onInteractOutside:y,onDismiss:v,disableOutsideScroll:j,...N}=t,w=Gc(Sr,a),_=sf(Sr,a),T=Qx(a),R=SO(a),E=Tle(a),[A,V]=x.useState(null),k=x.useRef(null),B=Ht(s,k,w.onContentChange),P=x.useRef(0),H=x.useRef(""),D=x.useRef(0),K=x.useRef(null),X=x.useRef("right"),ne=x.useRef(0),te=j?Ax:x.Fragment,U=j?{as:Fle,allowPinchZoom:!0}:void 0,q=F=>{const M=H.current+F,z=E().filter(ye=>!ye.disabled),ie=document.activeElement,le=z.find(ye=>ye.ref.current===ie)?.textValue,re=z.map(ye=>ye.textValue),fe=Xle(re,M,le),we=z.find(ye=>ye.textValue===fe)?.ref.current;(function ye(Be){H.current=Be,window.clearTimeout(P.current),Be!==""&&(P.current=window.setTimeout(()=>ye(""),1e3))})(M),we&&setTimeout(()=>we.focus())};x.useEffect(()=>()=>window.clearTimeout(P.current),[]),ow();const G=x.useCallback(F=>X.current===K.current?.side&&Zle(F,K.current?.area),[]);return e.jsx(Ole,{scope:a,searchRef:H,onItemEnter:x.useCallback(F=>{G(F)&&F.preventDefault()},[G]),onItemLeave:x.useCallback(F=>{G(F)||(k.current?.focus(),V(null))},[G]),onTriggerLeave:x.useCallback(F=>{G(F)&&F.preventDefault()},[G]),pointerGraceTimerRef:D,onPointerGraceIntentChange:x.useCallback(F=>{K.current=F},[]),children:e.jsx(te,{...U,children:e.jsx(vx,{asChild:!0,trapped:r,onMountAutoFocus:st(i,F=>{F.preventDefault(),k.current?.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:e.jsx(Fm,{asChild:!0,disableOutsidePointerEvents:d,onEscapeKeyDown:h,onPointerDownOutside:p,onFocusOutside:f,onInteractOutside:y,onDismiss:v,children:e.jsx(ZD,{asChild:!0,...R,dir:_.dir,orientation:"vertical",loop:n,currentTabStopId:A,onCurrentTabStopIdChange:V,onEntryFocus:st(u,F=>{_.isUsingKeyboardRef.current||F.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(xw,{role:"menu","aria-orientation":"vertical","data-state":WO(w.open),"data-radix-menu-content":"",dir:_.dir,...T,...N,ref:B,style:{outline:"none",...N.style},onKeyDown:st(N.onKeyDown,F=>{const z=F.target.closest("[data-radix-menu-content]")===F.currentTarget,ie=F.ctrlKey||F.altKey||F.metaKey,le=F.key.length===1;z&&(F.key==="Tab"&&F.preventDefault(),!ie&&le&&q(F.key));const re=k.current;if(F.target!==re||!kle.includes(F.key))return;F.preventDefault();const we=E().filter(ye=>!ye.disabled).map(ye=>ye.ref.current);CO.includes(F.key)&&we.reverse(),Yle(we)}),onBlur:st(t.onBlur,F=>{F.currentTarget.contains(F.target)||(window.clearTimeout(P.current),H.current="")}),onPointerMove:st(t.onPointerMove,_m(F=>{const M=F.target,z=ne.current!==F.clientX;if(F.currentTarget.contains(M)&&z){const ie=F.clientX>ne.current?"right":"left";X.current=ie,ne.current=F.clientX}}))})})})})})})});EO.displayName=Sr;var Ile="MenuGroup",$1=x.forwardRef((t,s)=>{const{__scopeMenu:a,...n}=t;return e.jsx(Tt.div,{role:"group",...n,ref:s})});$1.displayName=Ile;var $le="MenuLabel",RO=x.forwardRef((t,s)=>{const{__scopeMenu:a,...n}=t;return e.jsx(Tt.div,{...n,ref:s})});RO.displayName=$le;var sx="MenuItem",Z4="menu.itemSelect",Zx=x.forwardRef((t,s)=>{const{disabled:a=!1,onSelect:n,...r}=t,i=x.useRef(null),l=sf(sx,t.__scopeMenu),d=F1(sx,t.__scopeMenu),u=Ht(s,i),h=x.useRef(!1),p=()=>{const f=i.current;if(!a&&f){const y=new CustomEvent(Z4,{bubbles:!0,cancelable:!0});f.addEventListener(Z4,v=>n?.(v),{once:!0}),GD(f,y),y.defaultPrevented?h.current=!1:l.onClose()}};return e.jsx(MO,{...r,ref:u,disabled:a,onClick:st(t.onClick,p),onPointerDown:f=>{t.onPointerDown?.(f),h.current=!0},onPointerUp:st(t.onPointerUp,f=>{h.current||f.currentTarget?.click()}),onKeyDown:st(t.onKeyDown,f=>{const y=d.searchRef.current!=="";a||y&&f.key===" "||Fj.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Zx.displayName=sx;var MO=x.forwardRef((t,s)=>{const{__scopeMenu:a,disabled:n=!1,textValue:r,...i}=t,l=F1(sx,a),d=SO(a),u=x.useRef(null),h=Ht(s,u),[p,f]=x.useState(!1),[y,v]=x.useState("");return x.useEffect(()=>{const j=u.current;j&&v((j.textContent??"").trim())},[i.children]),e.jsx(Nm.ItemSlot,{scope:a,disabled:n,textValue:r??y,children:e.jsx(JD,{asChild:!0,...d,focusable:!n,children:e.jsx(Tt.div,{role:"menuitem","data-highlighted":p?"":void 0,"aria-disabled":n||void 0,"data-disabled":n?"":void 0,...i,ref:h,onPointerMove:st(t.onPointerMove,_m(j=>{n?l.onItemLeave(j):(l.onItemEnter(j),j.defaultPrevented||j.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:st(t.onPointerLeave,_m(j=>l.onItemLeave(j))),onFocus:st(t.onFocus,()=>f(!0)),onBlur:st(t.onBlur,()=>f(!1))})})})}),zle="MenuCheckboxItem",PO=x.forwardRef((t,s)=>{const{checked:a=!1,onCheckedChange:n,...r}=t;return e.jsx(IO,{scope:t.__scopeMenu,checked:a,children:e.jsx(Zx,{role:"menuitemcheckbox","aria-checked":ax(a)?"mixed":a,...r,ref:s,"data-state":V1(a),onSelect:st(r.onSelect,()=>n?.(ax(a)?!0:!a),{checkForDefaultPrevented:!1})})})});PO.displayName=zle;var OO="MenuRadioGroup",[Vle,Ule]=qc(OO,{value:void 0,onValueChange:()=>{}}),LO=x.forwardRef((t,s)=>{const{value:a,onValueChange:n,...r}=t,i=ki(n);return e.jsx(Vle,{scope:t.__scopeMenu,value:a,onValueChange:i,children:e.jsx($1,{...r,ref:s})})});LO.displayName=OO;var BO="MenuRadioItem",FO=x.forwardRef((t,s)=>{const{value:a,...n}=t,r=Ule(BO,t.__scopeMenu),i=a===r.value;return e.jsx(IO,{scope:t.__scopeMenu,checked:i,children:e.jsx(Zx,{role:"menuitemradio","aria-checked":i,...n,ref:s,"data-state":V1(i),onSelect:st(n.onSelect,()=>r.onValueChange?.(a),{checkForDefaultPrevented:!1})})})});FO.displayName=BO;var z1="MenuItemIndicator",[IO,Hle]=qc(z1,{checked:!1}),$O=x.forwardRef((t,s)=>{const{__scopeMenu:a,forceMount:n,...r}=t,i=Hle(z1,a);return e.jsx(Er,{present:n||ax(i.checked)||i.checked===!0,children:e.jsx(Tt.span,{...r,ref:s,"data-state":V1(i.checked)})})});$O.displayName=z1;var qle="MenuSeparator",zO=x.forwardRef((t,s)=>{const{__scopeMenu:a,...n}=t;return e.jsx(Tt.div,{role:"separator","aria-orientation":"horizontal",...n,ref:s})});zO.displayName=qle;var Gle="MenuArrow",VO=x.forwardRef((t,s)=>{const{__scopeMenu:a,...n}=t,r=Qx(a);return e.jsx(yw,{...r,...n,ref:s})});VO.displayName=Gle;var Wle="MenuSub",[Fue,UO]=qc(Wle),qh="MenuSubTrigger",HO=x.forwardRef((t,s)=>{const a=Gc(qh,t.__scopeMenu),n=sf(qh,t.__scopeMenu),r=UO(qh,t.__scopeMenu),i=F1(qh,t.__scopeMenu),l=x.useRef(null),{pointerGraceTimerRef:d,onPointerGraceIntentChange:u}=i,h={__scopeMenu:t.__scopeMenu},p=x.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return x.useEffect(()=>p,[p]),x.useEffect(()=>{const f=d.current;return()=>{window.clearTimeout(f),u(null)}},[d,u]),e.jsx(L1,{asChild:!0,...h,children:e.jsx(MO,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":a.open,"aria-controls":r.contentId,"data-state":WO(a.open),...t,ref:vo(s,r.onTriggerChange),onClick:f=>{t.onClick?.(f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),a.open||a.onOpenChange(!0))},onPointerMove:st(t.onPointerMove,_m(f=>{i.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!a.open&&!l.current&&(i.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{a.onOpenChange(!0),p()},100))})),onPointerLeave:st(t.onPointerLeave,_m(f=>{p();const y=a.content?.getBoundingClientRect();if(y){const v=a.content?.dataset.side,j=v==="right",N=j?-5:5,w=y[j?"left":"right"],_=y[j?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+N,y:f.clientY},{x:w,y:y.top},{x:_,y:y.top},{x:_,y:y.bottom},{x:w,y:y.bottom}],side:v}),window.clearTimeout(d.current),d.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:st(t.onKeyDown,f=>{const y=i.searchRef.current!=="";t.disabled||y&&f.key===" "||Sle[n.dir].includes(f.key)&&(a.onOpenChange(!0),a.content?.focus(),f.preventDefault())})})})});HO.displayName=qh;var qO="MenuSubContent",GO=x.forwardRef((t,s)=>{const a=TO(Sr,t.__scopeMenu),{forceMount:n=a.forceMount,...r}=t,i=Gc(Sr,t.__scopeMenu),l=sf(Sr,t.__scopeMenu),d=UO(qO,t.__scopeMenu),u=x.useRef(null),h=Ht(s,u);return e.jsx(Nm.Provider,{scope:t.__scopeMenu,children:e.jsx(Er,{present:n||i.open,children:e.jsx(Nm.Slot,{scope:t.__scopeMenu,children:e.jsx(I1,{id:d.contentId,"aria-labelledby":d.triggerId,...r,ref:h,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:p=>{l.isUsingKeyboardRef.current&&u.current?.focus(),p.preventDefault()},onCloseAutoFocus:p=>p.preventDefault(),onFocusOutside:st(t.onFocusOutside,p=>{p.target!==d.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:st(t.onEscapeKeyDown,p=>{l.onClose(),p.preventDefault()}),onKeyDown:st(t.onKeyDown,p=>{const f=p.currentTarget.contains(p.target),y=Ale[l.dir].includes(p.key);f&&y&&(i.onOpenChange(!1),d.trigger?.focus(),p.preventDefault())})})})})})});GO.displayName=qO;function WO(t){return t?"open":"closed"}function ax(t){return t==="indeterminate"}function V1(t){return ax(t)?"indeterminate":t?"checked":"unchecked"}function Yle(t){const s=document.activeElement;for(const a of t)if(a===s||(a.focus(),document.activeElement!==s))return}function Kle(t,s){return t.map((a,n)=>t[(s+n)%t.length])}function Xle(t,s,a){const r=s.length>1&&Array.from(s).every(h=>h===s[0])?s[0]:s,i=a?t.indexOf(a):-1;let l=Kle(t,Math.max(i,0));r.length===1&&(l=l.filter(h=>h!==a));const u=l.find(h=>h.toLowerCase().startsWith(r.toLowerCase()));return u!==a?u:void 0}function Qle(t,s){const{x:a,y:n}=t;let r=!1;for(let i=0,l=s.length-1;i<s.length;l=i++){const d=s[i],u=s[l],h=d.x,p=d.y,f=u.x,y=u.y;p>n!=y>n&&a<(f-h)*(n-p)/(y-p)+h&&(r=!r)}return r}function Zle(t,s){if(!s)return!1;const a={x:t.clientX,y:t.clientY};return Qle(a,s)}function _m(t){return s=>s.pointerType==="mouse"?t(s):void 0}var Jle=AO,ece=L1,tce=DO,sce=EO,ace=$1,nce=RO,rce=Zx,ice=PO,oce=LO,lce=FO,cce=$O,dce=zO,uce=VO,hce=HO,mce=GO,Jx="DropdownMenu",[fce]=nr(Jx,[kO]),xn=kO(),[pce,YO]=fce(Jx),KO=t=>{const{__scopeDropdownMenu:s,children:a,dir:n,open:r,defaultOpen:i,onOpenChange:l,modal:d=!0}=t,u=xn(s),h=x.useRef(null),[p,f]=mo({prop:r,defaultProp:i??!1,onChange:l,caller:Jx});return e.jsx(pce,{scope:s,triggerId:bi(),triggerRef:h,contentId:bi(),open:p,onOpenChange:f,onOpenToggle:x.useCallback(()=>f(y=>!y),[f]),modal:d,children:e.jsx(Jle,{...u,open:p,onOpenChange:f,dir:n,modal:d,children:a})})};KO.displayName=Jx;var XO="DropdownMenuTrigger",QO=x.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,disabled:n=!1,...r}=t,i=YO(XO,a),l=xn(a);return e.jsx(ece,{asChild:!0,...l,children:e.jsx(Tt.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":n?"":void 0,disabled:n,...r,ref:vo(s,i.triggerRef),onPointerDown:st(t.onPointerDown,d=>{!n&&d.button===0&&d.ctrlKey===!1&&(i.onOpenToggle(),i.open||d.preventDefault())}),onKeyDown:st(t.onKeyDown,d=>{n||(["Enter"," "].includes(d.key)&&i.onOpenToggle(),d.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(d.key)&&d.preventDefault())})})})});QO.displayName=XO;var gce="DropdownMenuPortal",ZO=t=>{const{__scopeDropdownMenu:s,...a}=t,n=xn(s);return e.jsx(tce,{...n,...a})};ZO.displayName=gce;var JO="DropdownMenuContent",eL=x.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...n}=t,r=YO(JO,a),i=xn(a),l=x.useRef(!1);return e.jsx(sce,{id:r.contentId,"aria-labelledby":r.triggerId,...i,...n,ref:s,onCloseAutoFocus:st(t.onCloseAutoFocus,d=>{l.current||r.triggerRef.current?.focus(),l.current=!1,d.preventDefault()}),onInteractOutside:st(t.onInteractOutside,d=>{const u=d.detail.originalEvent,h=u.button===0&&u.ctrlKey===!0,p=u.button===2||h;(!r.modal||p)&&(l.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});eL.displayName=JO;var xce="DropdownMenuGroup",yce=x.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...n}=t,r=xn(a);return e.jsx(ace,{...r,...n,ref:s})});yce.displayName=xce;var bce="DropdownMenuLabel",tL=x.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...n}=t,r=xn(a);return e.jsx(nce,{...r,...n,ref:s})});tL.displayName=bce;var vce="DropdownMenuItem",sL=x.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...n}=t,r=xn(a);return e.jsx(rce,{...r,...n,ref:s})});sL.displayName=vce;var jce="DropdownMenuCheckboxItem",aL=x.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...n}=t,r=xn(a);return e.jsx(ice,{...r,...n,ref:s})});aL.displayName=jce;var wce="DropdownMenuRadioGroup",Nce=x.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...n}=t,r=xn(a);return e.jsx(oce,{...r,...n,ref:s})});Nce.displayName=wce;var _ce="DropdownMenuRadioItem",nL=x.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...n}=t,r=xn(a);return e.jsx(lce,{...r,...n,ref:s})});nL.displayName=_ce;var Cce="DropdownMenuItemIndicator",rL=x.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...n}=t,r=xn(a);return e.jsx(cce,{...r,...n,ref:s})});rL.displayName=Cce;var kce="DropdownMenuSeparator",iL=x.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...n}=t,r=xn(a);return e.jsx(dce,{...r,...n,ref:s})});iL.displayName=kce;var Sce="DropdownMenuArrow",Ace=x.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...n}=t,r=xn(a);return e.jsx(uce,{...r,...n,ref:s})});Ace.displayName=Sce;var Tce="DropdownMenuSubTrigger",oL=x.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...n}=t,r=xn(a);return e.jsx(hce,{...r,...n,ref:s})});oL.displayName=Tce;var Dce="DropdownMenuSubContent",lL=x.forwardRef((t,s)=>{const{__scopeDropdownMenu:a,...n}=t,r=xn(a);return e.jsx(mce,{...r,...n,ref:s,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});lL.displayName=Dce;var Ece=KO,Rce=QO,Mce=ZO,cL=eL,dL=tL,uL=sL,hL=aL,mL=nL,fL=rL,pL=iL,gL=oL,xL=lL;const Pce=Ece,Oce=Rce,Lce=x.forwardRef(({className:t,inset:s,children:a,...n},r)=>e.jsxs(gL,{ref:r,className:pt("flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",s&&"pl-8",t),...n,children:[a,e.jsx(sn,{className:"ml-auto"})]}));Lce.displayName=gL.displayName;const Bce=x.forwardRef(({className:t,...s},a)=>e.jsx(xL,{ref:a,className:pt("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...s}));Bce.displayName=xL.displayName;const yL=x.forwardRef(({className:t,sideOffset:s=4,...a},n)=>e.jsx(Mce,{children:e.jsx(cL,{ref:n,sideOffset:s,className:pt("z-50 max-h-[var(--radix-dropdown-menu-content-available-height)] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md","data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-dropdown-menu-content-transform-origin]",t),...a})}));yL.displayName=cL.displayName;const Ij=x.forwardRef(({className:t,inset:s,...a},n)=>e.jsx(uL,{ref:n,className:pt("relative flex cursor-default select-none items-center gap-2 rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&>svg]:size-4 [&>svg]:shrink-0",s&&"pl-8",t),...a}));Ij.displayName=uL.displayName;const Fce=x.forwardRef(({className:t,children:s,checked:a,...n},r)=>e.jsxs(hL,{ref:r,className:pt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),checked:a,...n,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(fL,{children:e.jsx(er,{className:"h-4 w-4"})})}),s]}));Fce.displayName=hL.displayName;const Ice=x.forwardRef(({className:t,children:s,...a},n)=>e.jsxs(mL,{ref:n,className:pt("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...a,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(fL,{children:e.jsx(F$,{className:"h-2 w-2 fill-current"})})}),s]}));Ice.displayName=mL.displayName;const $ce=x.forwardRef(({className:t,inset:s,...a},n)=>e.jsx(dL,{ref:n,className:pt("px-2 py-1.5 text-sm font-semibold",s&&"pl-8",t),...a}));$ce.displayName=dL.displayName;const bL=x.forwardRef(({className:t,...s},a)=>e.jsx(pL,{ref:a,className:pt("-mx-1 my-1 h-px bg-muted",t),...s}));bL.displayName=pL.displayName;const J4=[{id:"main",title:"MAIN",items:[{to:"/admin",label:"Dashboard",icon:ew}]},{id:"management",title:"MANAGEMENT",items:[{to:"/admin/users",label:"Users",icon:xs},{to:"/admin/agencies",label:"Agencies",icon:rz},{to:"/admin/real-user-data",label:"Real User Data",icon:iD},{to:"/admin/cars",label:"Cars",icon:Vt},{to:"/admin/bookings",label:"Bookings",icon:Jj},{to:"/admin/payments",label:"Payments",icon:Is},{to:"/admin/promo-codes",label:"Promo Codes",icon:Sg},{to:"/admin/brokers",label:"Brokers",icon:xs},{to:"/admin/ads",label:"Ads",icon:uD},{to:"/admin/featured",label:"Featured",icon:Ks},{to:"/admin/holidays",label:"Holidays",icon:Ms}]},{id:"system",title:"SYSTEM",items:[{to:"/admin/services",label:"Services",icon:Oc},{to:"/admin/announcements",label:"Announcements",icon:jg},{to:"/admin/appeals",label:"Appeals",icon:bl},{to:"/admin/suggestions",label:"Suggestions",icon:dx},{to:"/admin/notifications",label:"Notifications",icon:jg,badge:3},{to:"/admin/otps",label:"OTPs",icon:cD}]}],zce=()=>{const t=Dr(),{logout:s}=yu(),[a,n]=x.useState(localStorage.getItem("admin_sidebar")==="true"),[r,i]=x.useState(""),[l,d]=x.useState(!1);x.useEffect(()=>{localStorage.setItem("admin_sidebar",a)},[a]),x.useEffect(()=>{window.innerWidth<768&&n(!0)},[]);const u=x.useMemo(()=>r?J4.map(p=>({...p,items:p.items.filter(f=>f.label.toLowerCase().includes(r.toLowerCase()))})).filter(p=>p.items.length>0):J4,[r]),h=t.pathname.replace("/admin","").split("/").filter(Boolean).map(p=>p[0].toUpperCase()+p.slice(1)).join(" / ")||"Dashboard";return e.jsx(xle,{delayDuration:0,children:e.jsxs("div",{className:"flex min-h-screen bg-background",children:[e.jsx(bo,{children:e.jsxs(qe.aside,{initial:{width:a?88:256},animate:{width:a?88:256},transition:{type:"spring",stiffness:260,damping:30},className:"relative border-r bg-card/95 backdrop-blur p-4 flex flex-col",children:[e.jsx("button",{onClick:()=>n(!a),className:"absolute -right-3 top-6 bg-card border rounded-full p-1 shadow hover:bg-muted",children:e.jsx(jo,{className:pt("w-4 h-4 transition-transform",a&&"rotate-180")})}),e.jsxs(Pce,{children:[e.jsx(Oce,{asChild:!0,children:e.jsxs("button",{className:"flex items-center gap-3 mb-4 rounded-xl px-2 py-2 hover:bg-muted",children:[e.jsx("img",{src:"/rento-512.png",className:"w-10 h-10 rounded-full"}),!a&&e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-semibold",children:"Abbas Nemer"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Lead Developer"})]})]})}),e.jsxs(yL,{children:[e.jsxs(Ij,{children:[e.jsx(Ci,{className:"w-4 h-4 mr-2"})," Profile"]}),e.jsx(bL,{}),e.jsxs(Ij,{onClick:s,className:"text-red-600",children:[e.jsx(jl,{className:"w-4 h-4 mr-2"})," Logout"]})]})]}),!a&&e.jsxs("div",{className:"mb-4 relative",children:[e.jsx(Ca,{className:"absolute left-3 top-2.5 w-4 h-4 text-muted-foreground"}),e.jsx(oe,{value:r,onChange:p=>i(p.target.value),placeholder:"Search...",className:"pl-9"})]}),e.jsx("nav",{className:"flex-1 space-y-6 overflow-y-auto",children:u.map(p=>e.jsxs("div",{children:[!a&&e.jsx("p",{className:"px-3 mb-2 text-xs font-semibold text-muted-foreground",children:p.title}),e.jsx("div",{className:"space-y-1",children:p.items.map(({to:f,label:y,icon:v,badge:j})=>e.jsx("div",{children:e.jsxs(BT,{to:f,end:!0,className:({isActive:N})=>pt("group relative flex items-center gap-3 rounded-xl px-3 py-2.5 text-sm font-medium","transition-all duration-200","hover:scale-[1.05]",N?"bg-primary/10 text-primary shadow-sm":"text-muted-foreground hover:bg-muted"),children:[e.jsx("span",{className:"absolute inset-0 rounded-xl bg-primary/10 opacity-0 group-[.active]:opacity-100 blur-sm"}),e.jsx(v,{className:"relative w-4 h-4"}),!a&&e.jsx("span",{children:y}),j&&!a&&e.jsx(qe.span,{animate:{scale:[1,1.15,1]},transition:{repeat:1/0,duration:1.8},className:"ml-auto bg-primary text-white text-xs px-2 py-0.5 rounded-full",children:j})]})},f))})]},p.id))})]})}),e.jsxs("main",{className:"flex-1 p-6 overflow-y-auto",children:[e.jsxs("div",{className:"mb-4 text-sm text-muted-foreground",children:["Admin / ",h]}),e.jsx(qe.div,{initial:{opacity:0,y:8},animate:{opacity:1,y:0},transition:{duration:.25},children:e.jsx(qF,{})},t.pathname)]})]})})};Tl.register(...R1);const Vce=({data:t})=>{const s=x.useRef(null),a=x.useRef(null);return x.useEffect(()=>{if(!t?.length||!s.current)return;const n=s.current.getContext("2d");a.current&&(a.current.destroy(),a.current=null);const r=t.map(l=>l.label),i=[{key:"pending",label:"Pending",color:"#facc15"},{key:"completed",label:"Completed",color:"#22c55e"},{key:"cancelled",label:"Cancelled",color:"#ef4444"},{key:"total",label:"Total",color:"#3b82f6"}];return a.current=new Tl(n,{type:"line",data:{labels:r,datasets:i.map(({key:l,label:d,color:u})=>({label:d,data:t.map(h=>h[l]??0),borderColor:u,backgroundColor:`${u}20`,fill:!1,tension:.2}))},options:{responsive:!0,maintainAspectRatio:!1,interaction:{mode:"index",intersect:!1},plugins:{legend:{position:"top"},tooltip:{mode:"index",intersect:!1}},scales:{x:{grid:{display:!1},ticks:{maxRotation:45,font:{size:11}}},y:{beginAtZero:!0,ticks:{stepSize:1,font:{size:11}},grid:{color:"rgba(0,0,0,0.06)"}}},animation:{duration:400}}}),()=>{a.current&&(a.current.destroy(),a.current=null)}},[t]),!t||t.length===0?null:e.jsx("div",{className:"w-full h-[320px]",children:e.jsx("canvas",{ref:s})})};Tl.register(...R1);const Uce="#00A19C",Hce=({data:t})=>{const s=x.useRef(null),a=x.useRef(null);return x.useEffect(()=>{if(!t?.length||!s.current)return;const n=s.current.getContext("2d");return a.current&&(a.current.destroy(),a.current=null),a.current=new Tl(n,{type:"bar",data:{labels:t.map(r=>r.label),datasets:[{label:"Cars",data:t.map(r=>r.count),backgroundColor:Uce,borderRadius:6}]},options:{responsive:!0,maintainAspectRatio:!1,plugins:{legend:{display:!1},tooltip:{callbacks:{label:r=>"Cars: "+r.raw}}},scales:{x:{grid:{display:!1},ticks:{maxRotation:45,minRotation:0,font:{size:12}}},y:{beginAtZero:!0,ticks:{stepSize:1,font:{size:12}},grid:{color:"rgba(0,0,0,0.06)"}}},animation:{duration:600}}}),()=>{a.current&&(a.current.destroy(),a.current=null)}},[t]),t?.length?e.jsx("div",{className:"w-full h-full min-h-[280px]",children:e.jsx("canvas",{ref:s})}):null},Wd=t=>t.toISOString().split("T")[0],qce=(t,s,a)=>{const n={},r=new Date,i=(l,d)=>{l[d]||(l[d]=0),l[d]++};if(s==="day"){const l=new Date(a.from),d=new Date(a.to);for(;l<=d;){const u=Wd(l);n[u]={label:l.toLocaleDateString("en-US",{month:"short",day:"numeric"}),total:0,pending:0,completed:0,cancelled:0},l.setDate(l.getDate()+1)}return t.forEach(u=>{if(!u.start_datetime)return;const h=Wd(new Date(u.start_datetime));n[h]&&(n[h].total++,i(n[h],u.booking_request_status))}),Object.values(n)}if(s==="week"){for(let l=6;l>=0;l--){const d=new Date;d.setDate(r.getDate()-l);const u=Wd(d);n[u]={label:d.toLocaleDateString("en-US",{weekday:"short"}),total:0,pending:0,completed:0,cancelled:0}}return t.forEach(l=>{if(!l.start_datetime)return;const d=Wd(new Date(l.start_datetime));n[d]&&(n[d].total++,i(n[d],l.booking_request_status))}),Object.values(n)}if(s==="month"){const l=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return l.forEach(d=>{n[d]={label:d,total:0,pending:0,completed:0,cancelled:0}}),t.forEach(d=>{if(!d.start_datetime)return;const u=new Date(d.start_datetime);if(u.getFullYear()!==r.getFullYear())return;const h=u.toLocaleString("en-US",{month:"short"});n[h].total++,i(n[h],d.booking_request_status)}),l.map(d=>n[d])}return t.forEach(l=>{if(!l.start_datetime)return;const d=new Date(l.start_datetime).getFullYear();n[d]||(n[d]={label:String(d),total:0,pending:0,completed:0,cancelled:0}),n[d].total++,i(n[d],l.booking_request_status)}),Object.values(n).sort((l,d)=>Number(l.label)-Number(d.label))},Gce=()=>{const[t,s]=x.useState({users:0,cars:0,bookings:0,revenue:0}),[a,n]=x.useState(!0),r=new Date,i=new Date;i.setDate(r.getDate()-29);const[l,d]=x.useState("day"),[u,h]=x.useState({from:i,to:r}),[p,f]=x.useState([]),[y,v]=x.useState(!0);x.useEffect(()=>{(async()=>{try{n(!0);const D=await xe.get("/admin/users"),K=await xe.get("/cars"),X=await xe.get("/admin/bookings"),ne=await xe.get("/admin/payments");s({users:D.data?.users?.total??0,cars:K.data?.cars?.total??K.data?.total??0,bookings:X.data?.bookings?.total??X.data?.total??0,revenue:ne.data?.total_revenue??ne.data?.revenue??0})}catch(D){console.error("Dashboard stats error:",D)}finally{n(!1)}})()},[]),x.useEffect(()=>{(async()=>{try{v(!0);const K=(await xe.get("/admin/bookings"))?.data?.bookings?.data||[],X=qce(K,l,u);f(X)}catch(D){console.error("Chart error:",D),f([])}finally{v(!1)}})()},[l,u]);const j=({title:H,value:D,icon:K,color:X})=>e.jsx(Ae,{children:e.jsxs(Ee,{className:"p-6 flex items-center gap-4",children:[e.jsx("div",{className:`w-12 h-12 rounded-xl ${X} flex items-center justify-center`,children:e.jsx(K,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:H}),e.jsx("h2",{className:"text-2xl font-bold",children:a?"":D})]})]})}),[N,w]=x.useState([]),[_,T]=x.useState(""),[R,E]=x.useState(""),[A,V]=x.useState([]);x.useEffect(()=>{(async()=>{try{const D=await xe.get("admin/cars");w(D.data?.cars?.data||D.data?.cars||[])}catch(D){console.error("Cars fetch error",D)}})()},[]);const k=H=>[...new Set(H.map(D=>D.make).filter(Boolean))].sort(),B=(H,D,K)=>{let X=[...H];K&&(X=X.filter(te=>te.model===K)),D&&(X=X.filter(te=>te.make===D));const ne={};return X.forEach(te=>{let U;K&&D?U=`${te.make} ${te.model}`:K?U=te.make:D?U=te.model:U=te.make,U&&(ne[U]=(ne[U]||0)+1)}),Object.entries(ne).map(([te,U])=>({label:te,count:U}))},P=(H,D)=>{const K=D?H.filter(X=>X.make===D):H;return[...new Set(K.map(X=>X.model).filter(Boolean))].sort()};return x.useEffect(()=>{E("")},[_]),x.useEffect(()=>{const H=B(N,_,R);V(H)},[N,_,R]),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Dashboard"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6",children:[e.jsx(j,{title:"Total Users",value:t.users,icon:xs,color:"bg-blue-500"}),e.jsx(j,{title:"Total Cars",value:t.cars,icon:Vt,color:"bg-[#00A19C]"}),e.jsx(j,{title:"Total Bookings",value:t.bookings,icon:Jj,color:"bg-purple-500"}),e.jsx(j,{title:"Total Revenue",value:`$${t.revenue}`,icon:Is,color:"bg-green-500"})]}),e.jsx(Ae,{children:e.jsxs(Ee,{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Booking Overview"}),e.jsxs("div",{className:"flex flex-col gap-3 min-w-[160px]",children:[e.jsxs("select",{value:l,onChange:H=>d(H.target.value),className:"border rounded-md px-3 py-1 text-sm bg-background",children:[e.jsx("option",{value:"day",children:"Daily"}),e.jsx("option",{value:"week",children:"Week"}),e.jsx("option",{value:"month",children:"Month"}),e.jsx("option",{value:"year",children:"Year"})]}),l==="day"&&e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:"From"}),e.jsx("input",{type:"date",value:Wd(u.from),onChange:H=>h(D=>({...D,from:new Date(H.target.value)})),className:"border rounded-md px-2 py-1 text-sm w-full"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs text-muted-foreground mb-1 block",children:"To"}),e.jsx("input",{type:"date",value:Wd(u.to),onChange:H=>h(D=>({...D,to:new Date(H.target.value)})),className:"border rounded-md px-2 py-1 text-sm w-full"})]})]})]})]}),e.jsx("div",{className:"w-full h-[320px]",children:y?e.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"Loading chart data..."}):p.length===0?e.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"No booking data"}):e.jsx(Vce,{data:p})})]})}),e.jsx(Ae,{children:e.jsxs(Ee,{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsx("h2",{className:"text-lg font-semibold",children:"Cars Distribution"}),e.jsxs("div",{className:"flex flex-wrap gap-2",children:[e.jsxs("select",{value:_,onChange:H=>T(H.target.value),className:"border rounded-md px-3 py-1 text-sm bg-background",children:[e.jsx("option",{value:"",children:"All Makes"}),k(N).map(H=>e.jsx("option",{value:H,children:H},H))]}),e.jsxs("select",{value:R,onChange:H=>E(H.target.value),className:"border rounded-md px-3 py-1 text-sm bg-background",disabled:!N.length,children:[e.jsx("option",{value:"",children:"All Models"}),P(N,_).map(H=>e.jsx("option",{value:H,children:H},H))]})]})]}),e.jsx("div",{className:"h-[300px] w-full",children:A.length===0?e.jsx("div",{className:"flex items-center justify-center h-full text-muted-foreground",children:"No car data"}):e.jsx(Hce,{data:A})})]})})]})},Wce=1,Yce=1e6;let wv=0;function Kce(){return wv=(wv+1)%Number.MAX_SAFE_INTEGER,wv.toString()}const Nv=new Map,eT=t=>{if(Nv.has(t))return;const s=setTimeout(()=>{Nv.delete(t),sm({type:"REMOVE_TOAST",toastId:t})},Yce);Nv.set(t,s)},Xce=(t,s)=>{switch(s.type){case"ADD_TOAST":return{...t,toasts:[s.toast,...t.toasts].slice(0,Wce)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(a=>a.id===s.toast.id?{...a,...s.toast}:a)};case"DISMISS_TOAST":{const{toastId:a}=s;return a?eT(a):t.toasts.forEach(n=>{eT(n.id)}),{...t,toasts:t.toasts.map(n=>n.id===a||a===void 0?{...n,open:!1}:n)}}case"REMOVE_TOAST":return s.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(a=>a.id!==s.toastId)}}},mg=[];let fg={toasts:[]};function sm(t){fg=Xce(fg,t),mg.forEach(s=>{s(fg)})}function rn({...t}){const s=Kce(),a=r=>sm({type:"UPDATE_TOAST",toast:{...r,id:s}}),n=()=>sm({type:"DISMISS_TOAST",toastId:s});return sm({type:"ADD_TOAST",toast:{...t,id:s,open:!0,onOpenChange:r=>{r||n()}}}),{id:s,dismiss:n,update:a}}function af(){const[t,s]=x.useState(fg);return x.useEffect(()=>(mg.push(s),()=>{const a=mg.indexOf(s);a>-1&&mg.splice(a,1)}),[t]),{...t,toast:rn,dismiss:a=>sm({type:"DISMISS_TOAST",toastId:a})}}function Qce(t,s=14){return t?t.length>s?`${t.slice(0,s)}...`:t:"N/A"}const Zce=()=>{Ua();const{toast:t}=af(),[s,a]=x.useState([]),[n,r]=x.useState(0),[i,l]=x.useState(!0),[d,u]=x.useState(null),[h,p]=x.useState(!1),[f,y]=x.useState(""),[v,j]=x.useState(null),[N,w]=x.useState(""),[_,T]=x.useState([]),[R,E]=x.useState("newest"),[A,V]=x.useState("all"),[k,B]=x.useState(!1);x.useEffect(()=>{(async()=>{try{const U=await xe.get("/admin/users");a(U.data?.users?.data||[]),r(U.data?.users?.total||0)}catch{t({title:"Error",description:"Failed to load users",variant:"destructive"})}finally{l(!1)}})()},[t]);const P=async te=>{try{const{data:U}=await xe.get(`/admin/users/${te}`);return U.user}catch{return t({title:"Error",description:"Failed to fetch user details",variant:"destructive"}),null}},H="/avatar.png",D="https://rento-lb.com/api/storage/",K=te=>{const U=te?.profile_picture;if(!U)return H;if(U.startsWith("http"))return U;const q=U.startsWith("/")?U.slice(1):U;return D+q},X=x.useMemo(()=>{let te=[...s];if(N){const U=N.toLowerCase();te=te.filter(q=>q.username?.toLowerCase().includes(U)||q.phone_number?.includes(U)||q.role?.toLowerCase().includes(U))}if(_.length>0&&(te=te.filter(U=>_.includes(U.role))),A!=="all"){const U=A==="active";te=te.filter(q=>!!q.update_access===U)}return R==="az"&&te.sort((U,q)=>U.username.localeCompare(q.username)),R==="za"&&te.sort((U,q)=>q.username.localeCompare(U.username)),R==="newest"&&te.sort((U,q)=>new Date(q.created_at)-new Date(U.created_at)),te},[s,N,_,A,R]),ne=async te=>{if(confirm("Delete this user?"))try{await xe.delete(`/admin/users/${te}`),a(U=>U.filter(q=>q.id!==te)),t({title:"User deleted"})}catch{t({title:"Error",description:"Delete failed",variant:"destructive"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsx(La,{open:h,onOpenChange:p,children:e.jsxs(ka,{className:"max-w-2xl max-h-[80vh] overflow-y-auto",children:[e.jsx(Sa,{children:e.jsx(Aa,{children:f==="edit-user"?"Edit User":"User Details"})}),f==="view-user"&&d&&e.jsx(rde,{user:d,onEdit:()=>{j({...d}),y("edit-user")},onClose:()=>p(!1)}),f==="edit-user"&&v&&e.jsx(ide,{user:v,setUser:j,onClose:()=>{p(!1),y("view-user")},onSaved:te=>{u(te),j({...te}),y("view-user")}})]})}),e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h1",{className:"text-2xl font-bold",children:"Users"})}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{className:"relative w-full sm:w-72",children:[e.jsx(Ca,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(oe,{placeholder:"Search user...",className:"pl-9",value:N,onChange:te=>w(te.target.value)})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(xs,{className:"h-4 w-4"}),e.jsx("span",{children:"Total:"}),e.jsx("span",{className:"font-semibold text-foreground",children:X.length})]}),e.jsx(Q,{variant:"outline",size:"sm",onClick:()=>B(te=>!te),children:"Filters"})]})]}),k&&e.jsxs("div",{className:"mt-3 grid grid-cols-1 md:grid-cols-3 gap-4 rounded-lg border p-4 bg-background",children:[e.jsxs(et,{value:R,onValueChange:E,children:[e.jsx(Ze,{children:e.jsx(tt,{placeholder:"Sort by"})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"newest",children:"Newest"}),e.jsx(ce,{value:"az",children:"AZ"}),e.jsx(ce,{value:"za",children:"ZA"})]})]}),e.jsxs(et,{value:A,onValueChange:V,children:[e.jsx(Ze,{children:e.jsx(tt,{placeholder:"Status"})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"all",children:"All"}),e.jsx(ce,{value:"active",children:"Active"}),e.jsx(ce,{value:"blocked",children:"Blocked"})]})]}),e.jsx("div",{className:"flex flex-wrap gap-3 text-sm",children:["client","agency","admin"].map(te=>e.jsxs("label",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",checked:_.includes(te),onChange:U=>{const q=U.target.checked;T(G=>q?[...G,te]:G.filter(F=>F!==te))}}),e.jsx("span",{className:"capitalize",children:te})]},te))})]}),e.jsx(Ae,{children:e.jsx(Ee,{className:"p-0",children:i?e.jsx("p",{className:"p-6 text-muted-foreground",children:"Loading users..."}):e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"User"}),e.jsx(J,{children:"Phone"}),e.jsx(J,{children:"Role"}),e.jsx(J,{children:"Status"}),e.jsx(J,{className:"text-right",children:"Actions"})]})}),e.jsxs(wt,{children:[X.map(te=>e.jsxs(Ne,{children:[e.jsx(Y,{className:"font-medium",children:e.jsxs("span",{className:"item-name-hover inline-flex items-center gap-2 cursor-pointer",title:Jce(te),role:"button",tabIndex:0,onClick:()=>ede(te.id,P,u,y,p),children:[e.jsx("img",{src:K(te),alt:te.username||"User",className:"h-7 w-7 rounded-full object-cover",onError:U=>{U.currentTarget.onerror=null,U.currentTarget.src="/avatar.png"}}),Qce(te.first_name&&te.last_name?`${te.first_name} ${te.last_name}`:te.username,14)]})}),e.jsx(Y,{children:te.phone_number}),e.jsx(Y,{children:e.jsx(Re,{variant:"outline",children:te.role})}),e.jsx(Y,{children:te.update_access?e.jsx(Re,{className:"bg-green-500",children:"Active"}):e.jsx(Re,{variant:"destructive",children:"Blocked"})}),e.jsx(Y,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(Q,{variant:"ghost",size:"icon",onClick:async()=>{const U=await P(te.id);U&&(u(U),y("view-user"),p(!0))},title:"View Details",children:e.jsx(Ys,{className:"w-4 h-4"})}),e.jsx(Q,{variant:"ghost",size:"icon",onClick:async()=>{const U=await P(te.id);U&&(u(U),j({...U}),y("edit-user"),p(!0))},title:"Edit User",children:e.jsx(ca,{className:"w-4 h-4"})}),e.jsx(Q,{size:"icon",variant:"ghost","aria-label":"Delete user",className:"text-red-500",onClick:()=>ne(te.id),title:"Remove User",children:e.jsx(Xs,{className:"h-4 w-4"})})]})})]},te.id)),X.length===0&&e.jsx(Ne,{children:e.jsx(Y,{colSpan:5,className:"text-center text-muted-foreground py-6",children:"No users found"})})]})]})})})]})};function Jce(t){if(!t)return"";const s=t.client||{},a=s.qualification_code||{};return[`User ID : ${t.id??"N/A"}`,`Age : ${a.age??"N/A"}`,`Gender : ${t.gender??"N/A"}`,`City : ${t.city??"N/A"}`,`Bio : ${t.bio??"N/A"}`,`Profession : ${s.profession??"N/A"}`,`Email : ${t.email??"N/A"}`,`License number : ${s.license_number??"N/A"}`,`Average rating : ${s.average_rating??"N/A"}`,`OTP verification : ${t.otp_verification??"N/A"}`].join(`
`)}async function ede(t,s,a,n,r){const i=await s(t);i&&(a(i),n("view-user"),r(!0))}function vL(t){if(!t)return"N/A";const s=new Date(t);return Number.isNaN(s.getTime())?String(t):s.toLocaleDateString("en-US",{month:"numeric",day:"numeric",year:"numeric"})}function nx(t){if(!t)return"N/A";const s=new Date(t);return Number.isNaN(s.getTime())?String(t):s.toLocaleString("en-US",{timeZone:"Asia/Beirut",month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit",hour12:!0})}const tde="https://rento-lb.com/api/storage/",sde="/avatar.png";function ade(t,s=null){if(!t)return s;if(t.startsWith("http"))return t;const a=t.startsWith("/")?t.slice(1):t;return tde+a}function nde(t){return t?String(t).toLowerCase().split("?")[0].endsWith(".pdf"):!1}function Kp({title:t,path:s,fallback:a=null}){const n=ade(s,a);if(!n)return e.jsx("div",{className:"text-sm text-muted-foreground",children:"N/A"});if(nde(n)){const r=`${n}#toolbar=0&navpanes=0&scrollbar=0`;return e.jsx("iframe",{title:t,src:r,className:"w-full max-w-[260px] h-[180px] rounded-md border bg-white"})}return e.jsx("img",{src:n,alt:t,className:"w-full max-w-[260px] h-[180px] object-cover rounded-md border",onError:r=>{a&&(r.currentTarget.onerror=null,r.currentTarget.src=a)}})}function rde({user:t,onEdit:s,onClose:a}){const n=t?.client||{};function r({label:d,value:u}){return e.jsxs("div",{className:"flex items-center gap-2 test-sm",children:[e.jsxs("span",{className:"text-muted-foreground",children:[d," :"]}),e.jsx("span",{className:"text-foreground",children:u??"N/A"})]})}const i=({label:d,value:u,tone:h="neutral"})=>{const p=h==="teal"?"bg-teal-600 text-white":h==="red"?"bg-red-600 text-white":"bg-muted text-foreground";return e.jsxs("div",{className:"flex items-center gap-2 whitespace-nowrap",children:[e.jsx("span",{className:" text-muted-foreground",children:d}),e.jsx("span",{className:`inline-flex items-center justify-center px-2 h-5 rounded text-xs font-semibold leading-none ${p}`,children:u})]})},l=t?.status?"Active":"Inactive";return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-x-10 gap-y-3",children:[e.jsx(r,{label:"ID",value:t?.id}),e.jsx(r,{label:"Username",value:t?.username}),e.jsx(r,{label:"Email",value:t?.email}),e.jsx(r,{label:"Phone Number",value:t?.phone_number}),e.jsx(r,{label:"First Name",value:t?.first_name}),e.jsx(r,{label:"Last Name",value:t?.last_name}),e.jsx(r,{label:"Gender",value:t?.gender}),e.jsx(r,{label:"Birth Date",value:vL(t?.birth_date)}),e.jsx(r,{label:"City",value:t?.city}),e.jsx(r,{label:"Role",value:t?.role}),e.jsx("div",{className:"flex flex-wrap items-center gap-8 pt-1",children:e.jsx(i,{label:"Status:",value:l,tone:t?.status?"teal":"red"})}),e.jsx("div",{className:"flex flex-wrap items-center gap-8 pt-1",children:e.jsx(i,{label:"Verified by Admin:",value:t?.verified_by_admin?"Yes":"No",tone:t?.verified_by_admin?"teal":"red"})}),e.jsx("div",{className:"flex flex-wrap items-center gap-8 pt-1",children:e.jsx(i,{label:"Is Locked:",value:t?.is_locked?"Locked":"Unlocked",tone:t?.is_locked?"red":"teal"})}),e.jsx(r,{label:"Created At",value:nx(t?.created_at)}),e.jsx(r,{label:"Updated At",value:nx(t?.updated_at)})]}),e.jsx("div",{className:"grid grid-cols-2 gap-x-10 gap-y-3",children:e.jsx(r,{label:"Bio",value:t?.bio})}),e.jsx("div",{className:"border-t pt-3"}),e.jsx("div",{className:"text-sm font-semibold",children:"Client Details"}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-10 gap-y-3",children:[e.jsx(r,{label:"License Number",value:n?.license_number}),e.jsx(r,{label:"Profession",value:n?.profession}),e.jsx(r,{label:"Average Salary",value:n?.avg_salary}),e.jsx(r,{label:"Promo Code",value:n?.promo_code})]}),e.jsx("div",{className:"border-t pt-3"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-sm font-semibold",children:"Documents"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("div",{className:"text-muted-foreground",children:"Profile Picture"}),e.jsx(Kp,{title:"Profile Picture",path:t?.profile_picture,fallback:sde})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted-foreground",children:"Driver License"}),e.jsx(Kp,{title:"Driver License",path:n?.driver_license})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted-foreground",children:"ID Card Front"}),e.jsx(Kp,{title:"ID Card Front",path:t?.id_card_front})]}),e.jsxs("div",{children:[e.jsx("div",{className:"text-muted-foreground",children:"ID Card Back"}),e.jsx(Kp,{title:"ID Card Back",path:t?.id_card_back})]})]})]}),e.jsxs("div",{className:"pt-3 flex gap-2",children:[e.jsx(Q,{className:"flex-1",onClick:s,children:"Edit User"}),e.jsx(Q,{variant:"outline",className:"w-28",onClick:a,children:"Close"})]})]})}function ide({user:t,setUser:s,onClose:a,onSaved:n}){const{toast:r}=af(),i=(h,p)=>s(f=>({...f,[h]:p})),l=t?.client||{},d=async()=>{try{const h={verified_by_admin:!!t?.verified_by_admin,status:!!t?.status,is_locked:!!t?.is_locked,update_access:!!t?.update_access},{data:p}=await xe.put(`/admin/users/${t.id}`,h),f=p.user??p.data??t;r({title:"Saved",description:"User updated successfully"}),n?.(f)}catch{r({title:"Error",description:"Failed to update user",variant:"destructive"})}},u=({label:h,value:p,onChange:f})=>e.jsxs("div",{className:"flex items-center justify-between gap-3 py-2",children:[e.jsx("div",{className:"text-sm",children:h}),e.jsx("button",{type:"button",role:"switch","aria-checked":!!p,onClick:()=>f(!p),className:["relative inline-flex h-5 w-10 items-center rounded-full transition-colors",p?"bg-teal-600":"bg-muted","focus:outline-none focus:ring-2 focus:ring-teal-500/40"].join(" "),children:e.jsx("span",{className:["inline-block h-4 w-4 transform rounded-full bg-white transition-transform",p?"translate-x-5":"translate-x-1","shadow"].join(" ")})})]});return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-x-10 gap-y-3",children:[e.jsxs("div",{children:[e.jsx(W,{children:"ID"}),e.jsx(oe,{value:t?.id??"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Username"}),e.jsx(oe,{value:t?.username??"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Email"}),e.jsx(oe,{value:t?.email??"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Phone Number"}),e.jsx(oe,{value:t?.phone_number??"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"First Name"}),e.jsx(oe,{value:t?.first_name??"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Last Name"}),e.jsx(oe,{value:t?.last_name??"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Gender"}),e.jsx(oe,{value:t?.gender??"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Birth Date"}),e.jsx(oe,{value:vL(t?.birth_date),disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"City"}),e.jsx(oe,{value:t?.city??"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Role"}),e.jsx(oe,{value:t?.role??"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Created At"}),e.jsx(oe,{value:nx(t?.created_at),disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Updated At"}),e.jsx(oe,{value:nx(t?.updated_at),disabled:!0})]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx(W,{children:"Bio"}),e.jsx("textarea",{className:"w-full border rounded-md p-2 min-h-[90px]",value:t?.bio??"",disabled:!0})]})]}),e.jsx("div",{className:"border-t pt-3"}),e.jsx("div",{className:"text-sm font-semibold",children:"Client Details (Read-only)"}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-10 gap-y-3",children:[e.jsxs("div",{children:[e.jsx(W,{children:"License Number"}),e.jsx(oe,{value:l?.license_number??"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Profession"}),e.jsx(oe,{value:l?.profession??"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Average Salary"}),e.jsx(oe,{value:l?.avg_salary??"",disabled:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Promo Code"}),e.jsx(oe,{value:l?.promo_code??"",disabled:!0})]})]}),e.jsx("div",{className:"border-t pt-3"}),e.jsx("div",{className:"text-sm font-semibold",children:"Editable Fields"}),e.jsxs("div",{className:"rounded-md border p-3 space-y-1",children:[e.jsx(u,{label:"Verified by Admin",value:t?.verified_by_admin,onChange:h=>i("verified_by_admin",h)}),e.jsx(u,{label:"Status (Active)",value:t?.status,onChange:h=>i("status",h)}),e.jsx(u,{label:"Is Locked",value:t?.is_locked,onChange:h=>i("is_locked",h)}),e.jsx(u,{label:"Update Access Allow Profile Updates",value:t?.update_access,onChange:h=>i("update_access",h)})]}),e.jsxs("div",{className:"pt-3 flex gap-2 justify-end",children:[e.jsx(Q,{className:"w-36",onClick:d,children:"Update User"}),e.jsx(Q,{variant:"outline",className:"w-28",onClick:a,children:"Cancel"})]})]})}const Xp=20,ode=[{value:"all",label:"All Status"},{value:"available",label:"Available"},{value:"not_available",label:"Not Available"},{value:"rented",label:"Rented"},{value:"maintenance",label:"Maintenance"}],lde=[{value:"all",label:"All"},{value:"true",label:"Accepted"},{value:"false",label:"Not Accepted"}],cde=[{value:"all",label:"All"},{value:"true",label:"Private"},{value:"false",label:"Public"}],dde=()=>{const[t,s]=x.useState([]),[a,n]=x.useState({current_page:1,last_page:1,per_page:Xp,total:0}),[r,i]=x.useState(!0),[l,d]=x.useState(1),[u,h]=x.useState("all"),[p,f]=x.useState("all"),[y,v]=x.useState("all"),[j,N]=x.useState(""),[w,_]=x.useState(""),[T,R]=x.useState([]),[E,A]=x.useState([]),[V,k]=x.useState("newest"),[B,P]=x.useState(!1),[H,D]=x.useState(null),[K,X]=x.useState(!1),[ne,te]=x.useState(""),{toast:U}=af(),[q,G]=x.useState(null),[F,M]=x.useState({open:!1,title:"",message:"",onConfirm:null}),[z,ie]=x.useState(""),[le,re]=x.useState(""),[fe,we]=x.useState(""),[ye,Be]=x.useState(""),ke=x.useCallback(async()=>{i(!0);try{const he={per_page:Xp,page:l,...u&&u!=="all"&&{status:u},...p&&p!=="all"&&{car_accepted:p},...y&&y!=="all"&&{is_private:y},...j&&{agent_id:Number(j)},...w&&w.trim()&&{search:w.trim()}},$e=await H3(he),Ve=$e.data||$e,dt=Array.isArray(Ve.cars)?Ve.cars:Ve.cars?.data??[],xt=Ve.meta||Ve.cars&&{total:Ve.cars.total,current_page:Ve.cars.current_page??l,last_page:Ve.cars.last_page??1,per_page:Ve.cars.per_page??Xp}||a;s(dt),n(ot=>({...ot,...xt,total:xt.total??ot.total,current_page:xt.current_page??l,last_page:xt.last_page??ot.last_page,per_page:xt.per_page??Xp}))}catch(he){he.response?.status===403?U({title:"Access denied",description:"Super admin access required",variant:"destructive"}):he.response?.status===401?U({title:"Unauthorized",description:"Please log in again",variant:"destructive"}):(console.error("Failed to load cars",he),U({title:"Error",description:"Failed to load cars",variant:"destructive"}))}finally{i(!1)}},[l,u,p,y,j,w]);x.useEffect(()=>{ke()},[ke]);const Ye=async he=>{try{const $e=await zie(he),Ve=$e.data||$e;return Ve?.car??Ve??null}catch($e){return $e.response?.status===403?U({title:"Access denied",description:"Super admin access required",variant:"destructive"}):$e.response?.status===404?U({title:"Full details unavailable",description:"Showing list data (GET /admin/cars/{id} returned 404).",variant:"destructive"}):U({title:"Error",description:"Failed to fetch car details",variant:"destructive"}),null}},rt=he=>{D(he),te("view-car"),X(!0),Ye(he.id).then($e=>{$e&&D($e)})},Se=he=>{D(he),G({...he}),te("edit-car"),X(!0),Ye(he.id).then($e=>{$e&&(D($e),G({...$e}))})},Xe="/car-avatar.png",Pe=x.useMemo(()=>`${"https://rento-lb.com/api/api".trim().replace(/\/+$/,"").replace(/\/api\/api\/?$/,"")}/api/storage/`,[]),mt=he=>{if(!he)return null;if(he.startsWith("http"))return he;const $e=he.startsWith("/")?he.slice(1):he;return`${Pe}${$e}`},_t=he=>mt(he)||Xe,at=(he,$e,Ve)=>{M({open:!0,title:he,message:$e,onConfirm:Ve})},ds=async he=>{try{const $e=await X4(he.id,!0),Ve=$e.data||$e,dt=Ve?.car??Ve??{...he,car_accepted:!0};s(xt=>xt.map(ot=>ot.id===he.id?{...ot,car_accepted:!0}:ot)),H?.id===he.id&&D(dt),q?.id===he.id&&G(dt),U({title:"Success",description:"Car accepted successfully"})}catch($e){$e.response?.status===403?U({title:"Access denied",description:"Super admin access required",variant:"destructive"}):U({title:"Error",description:$e.response?.data?.message||"Failed to accept car",variant:"destructive"})}},us=async he=>{try{const $e=await X4(he.id,!1),Ve=$e.data||$e,dt=Ve?.car??Ve??{...he,car_accepted:!1};s(xt=>xt.map(ot=>ot.id===he.id?{...ot,car_accepted:!1}:ot)),H?.id===he.id&&D(dt),q?.id===he.id&&G(dt),U({title:"Success",description:"Car rejected successfully"})}catch($e){$e.response?.status===403?U({title:"Access denied",description:"Super admin access required",variant:"destructive"}):U({title:"Error",description:$e.response?.data?.message||"Failed to reject car",variant:"destructive"})}},Ps=async he=>{try{await Vie(he),U({title:"Success",description:"Car deleted successfully"}),ke(),X(!1)}catch{U({title:"Error",description:"Failed to delete car",variant:"destructive"})}},pe=he=>{if(he==null||he==="")return NaN;if(typeof he=="number")return he;const $e=String(he).replace(/[^0-9.]/g,""),Ve=Number($e);return Number.isNaN(Ve)?NaN:Ve},_e=x.useMemo(()=>{let he=[...t];T.length>0&&(he=he.filter(ot=>T.includes(ot.car_category))),E.length>0&&(he=he.filter(ot=>E.includes(ot.status)));const $e=z?Number(z):null,Ve=le?Number(le):null;($e!==null||Ve!==null)&&(he=he.filter(ot=>{const It=Number(ot.year);return!(Number.isNaN(It)||$e!==null&&It<$e||Ve!==null&&It>Ve)}));const dt=fe!==""?pe(fe):null,xt=ye!==""?pe(ye):null;return(dt!==null||xt!==null)&&(he=he.filter(ot=>{const It=pe(ot.daily_rate);return!(Number.isNaN(It)||dt!==null&&!Number.isNaN(dt)&&It<dt||xt!==null&&!Number.isNaN(xt)&&It>xt)})),V==="newest"&&he.sort((ot,It)=>new Date(It.created_at)-new Date(ot.created_at)),V==="price"&&he.sort((ot,It)=>{const Dt=pe(ot.daily_rate),es=pe(It.daily_rate);return Number.isNaN(Dt)&&Number.isNaN(es)?0:Number.isNaN(Dt)?1:Number.isNaN(es)?-1:Dt-es}),(V==="year_asc"||V==="year_desc")&&he.sort((ot,It)=>{const Dt=Number(ot.year),es=Number(It.year);return Number.isNaN(Dt)&&Number.isNaN(es)?0:Number.isNaN(Dt)?1:Number.isNaN(es)?-1:V==="year_asc"?Dt-es:es-Dt}),(V==="views_asc"||V==="views_desc")&&he.sort((ot,It)=>{const Dt=Number(ot.views_count),es=Number(It.views_count);return Number.isNaN(Dt)&&Number.isNaN(es)?0:Number.isNaN(Dt)?1:Number.isNaN(es)?-1:V==="views_asc"?Dt-es:es-Dt}),he},[t,T,E,V,z,le,fe,ye]);return e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h1",{className:"text-2xl font-bold",children:"Cars"})}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs("div",{className:"relative w-full sm:w-72",children:[e.jsx(Ca,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),e.jsx(oe,{placeholder:"Search make, model, plate, color...",className:"pl-9 h-9",value:w,onChange:he=>{_(he.target.value),d(1)}})]}),e.jsx(oe,{type:"number",placeholder:"Agent ID",className:"h-9 w-[100px]",value:j,onChange:he=>{N(he.target.value),d(1)},min:1}),e.jsxs(et,{value:u,onValueChange:he=>{h(he),d(1)},children:[e.jsx(Ze,{className:"h-9 w-[140px]",children:e.jsx(tt,{placeholder:"Status"})}),e.jsx(Je,{children:ode.map(he=>e.jsx(ce,{value:he.value,children:he.label},he.value))})]}),e.jsxs(et,{value:p,onValueChange:he=>{f(he),d(1)},children:[e.jsx(Ze,{className:"h-9 w-[130px]",children:e.jsx(tt,{placeholder:"Accepted"})}),e.jsx(Je,{children:lde.map(he=>e.jsx(ce,{value:he.value,children:he.label},he.value))})]}),e.jsxs(et,{value:y,onValueChange:he=>{v(he),d(1)},children:[e.jsx(Ze,{className:"h-9 w-[110px]",children:e.jsx(tt,{placeholder:"Visibility"})}),e.jsx(Je,{children:cde.map(he=>e.jsx(ce,{value:he.value,children:he.label},he.value))})]})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[e.jsx(Vt,{className:"h-4 w-4"}),e.jsx("span",{className:"font-semibold text-foreground",children:a.total}),e.jsx("span",{children:"cars"})]}),e.jsx(Q,{variant:"outline",size:"sm",onClick:()=>P(he=>!he),children:"More filters"})]})]}),B&&e.jsx("div",{className:"mt-3 rounded-lg border bg-background p-3",children:e.jsxs("div",{className:"flex flex-wrap gap-3 items-end",children:[e.jsxs(et,{value:V,onValueChange:k,children:[e.jsx(Ze,{className:"h-9 w-[180px]",children:e.jsx(tt,{placeholder:"Sort"})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"newest",children:"Newest"}),e.jsx(ce,{value:"price",children:"Price "}),e.jsx(ce,{value:"year_asc",children:"Year "}),e.jsx(ce,{value:"year_desc",children:"Year "}),e.jsx(ce,{value:"views_asc",children:"Views "}),e.jsx(ce,{value:"views_desc",children:"Views "})]})]}),e.jsxs(et,{value:T[0]??"all",onValueChange:he=>R(he==="all"?[]:[he]),children:[e.jsx(Ze,{className:"h-9 w-[160px]",children:e.jsx(tt,{placeholder:"Category"})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"all",children:"All Categories"}),e.jsx(ce,{value:"normal",children:"Normal"}),e.jsx(ce,{value:"luxury",children:"Luxury"}),e.jsx(ce,{value:"sport",children:"Sport"})]})]}),e.jsxs(et,{value:E[0]??"all",onValueChange:he=>A(he==="all"?[]:[he]),children:[e.jsx(Ze,{className:"h-9 w-[150px]",children:e.jsx(tt,{placeholder:"Status"})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"all",children:"All Status"}),e.jsx(ce,{value:"available",children:"Available"}),e.jsx(ce,{value:"reserved",children:"Reserved"})]})]}),e.jsx(oe,{type:"number",placeholder:"Year from",className:"h-9 w-[120px]",value:z,onChange:he=>ie(he.target.value)}),e.jsx(oe,{type:"number",placeholder:"Year to",className:"h-9 w-[120px]",value:le,onChange:he=>re(he.target.value)}),e.jsx(oe,{type:"number",placeholder:"Rate from",className:"h-9 w-[120px]",value:fe,onChange:he=>we(he.target.value)}),e.jsx(oe,{type:"number",placeholder:"Rate to",className:"h-9 w-[120px]",value:ye,onChange:he=>Be(he.target.value)})]})}),r?e.jsx("p",{className:"text-muted-foreground",children:"Loading cars..."}):e.jsxs(Ae,{children:[e.jsx(Ee,{className:"p-0 overflow-x-auto",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"Car"}),e.jsx(J,{children:"Year"}),e.jsx(J,{children:"Category"}),e.jsx(J,{children:"Daily Rate"}),e.jsx(J,{children:"Agent"}),e.jsx(J,{children:"Status"}),e.jsx(J,{children:"Accepted"}),e.jsx(J,{children:"Views"}),e.jsx(J,{children:"Actions"})]})}),e.jsxs(wt,{children:[_e.map(he=>e.jsxs(Ne,{children:[e.jsx(Y,{className:"font-medium",children:e.jsxs("span",{className:"item-name-hover inline-flex items-center gap-2 cursor-pointer",title:ude(he),role:"button",tabIndex:0,onClick:()=>rt(he),children:[he.make," ",he.model]})}),e.jsx(Y,{children:he.year}),e.jsx(Y,{children:e.jsx(Re,{variant:"outline",children:he.car_category})}),e.jsxs(Y,{children:["$",he.daily_rate]}),e.jsx(Y,{children:e.jsx("span",{className:"car-make-model-hover inline-flex items-center gap-2 cursor-pointer",title:hde(he),children:he.agent?.username||""})}),e.jsxs(Y,{children:[he.status==="available"&&e.jsx(Re,{className:"bg-green-500",children:"Available"}),he.status==="not_available"&&e.jsx(Re,{variant:"secondary",children:"Not Available"}),he.status==="rented"&&e.jsx(Re,{variant:"default",children:"Rented"}),he.status==="maintenance"&&e.jsx(Re,{variant:"outline",children:"Maintenance"}),!["available","not_available","rented","maintenance"].includes(he.status)&&e.jsx(Re,{variant:"outline",children:he.status||""})]}),e.jsxs(Y,{children:[he.car_accepted?e.jsx(Re,{className:"bg-green-600",children:"Yes"}):e.jsx(Re,{variant:"secondary",children:"No"}),e.jsx("div",{className:"flex gap-1 mt-1",children:he.car_accepted?e.jsxs(Q,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:()=>us(he),title:"Reject car",children:[e.jsx(ta,{className:"h-3 w-3 mr-1"}),"Reject"]}):e.jsxs(Q,{variant:"outline",size:"sm",className:"h-7 text-xs",onClick:()=>ds(he),title:"Accept car",children:[e.jsx(er,{className:"h-3 w-3 mr-1"}),"Accept"]})})]}),e.jsx(Y,{children:he.views_count}),e.jsx(Y,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{variant:"ghost",size:"icon","aria-label":"View Details",onClick:()=>rt(he),title:"View Details",children:e.jsx(Ys,{className:"w-4 h-4"})}),e.jsx(Q,{variant:"ghost",size:"icon","aria-label":"Edit Details",onClick:()=>Se(he),title:"Edit Details",children:e.jsx(ca,{className:"w-4 h-4"})}),e.jsx(Q,{variant:"ghost",size:"icon","aria-label":"Delete Car",onClick:()=>at("Delete Car","Are you sure you want to delete this car?",()=>Ps(he.id)),title:"Remove Car",children:e.jsx(Xs,{className:"w-4 h-4 text-red-500"})})]})})]},he.id)),_e.length===0&&e.jsx(Ne,{children:e.jsx(Y,{colSpan:9,className:"text-center text-muted-foreground py-6",children:"No cars found"})})]})]})}),a.last_page>1&&e.jsxs("div",{className:"flex items-center justify-between border-t px-4 py-2",children:[e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Page ",a.current_page," of ",a.last_page," (",a.total," total)"]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Q,{variant:"outline",size:"sm",disabled:a.current_page<=1,onClick:()=>d(he=>Math.max(1,he-1)),children:"Previous"}),e.jsx(Q,{variant:"outline",size:"sm",disabled:a.current_page>=a.last_page,onClick:()=>d(he=>Math.min(a.last_page,he+1)),children:"Next"})]})]})]}),e.jsx(La,{open:K,onOpenChange:X,children:e.jsxs(ka,{className:"max-w-4xl max-h-[80vh] overflow-y-auto",children:[e.jsx(Sa,{children:e.jsx(Aa,{children:ne==="view-car"?"Car Details":"Edit Car"})}),H?ne==="view-car"?e.jsx(fde,{car:H,imgUrl:_t,getStorageUrl:mt,onEdit:()=>{G({...H}),te("edit-car")},onClose:()=>X(!1),onAccept:()=>ds(H),onReject:()=>us(H),onCarUpdated:he=>D(he)}):q&&e.jsx(xde,{car:q,setCar:G,imgUrl:_t,onClose:()=>te("view-car"),onSaved:he=>{D(he),G({...he}),te("view-car")}}):e.jsx("p",{className:"text-muted-foreground",children:"Loading..."})]})})]})};function ude(t){return[`Car ID: ${t.id??"N/A"}`,`Agent ID : ${t.agent_id??"N/A"}`,`Status: ${t.status??"N/A"}`,`year: ${t.year??"N/A"}`,`Car_category: ${t.car_category??"N/A"}`,`Color: ${t.color??"N/A"}`,`Seats: ${t.seats??"N/A"}`,`Doors: ${t.doors??"N/A"}`,`Cylinder number: ${t.cylinder_number??"N/A"}`,`Transmission: ${t.transmission??"N/A"}`,`wheels drive: ${t.wheels_drive??"N/A"}`,`Daily rate: ${t.daily_rate??"N/A"}`,`License plate: ${t.license_plate??"N/A"}`].join(`
`)}function hde(t){const s=t?.agent;return s?[`ID : ${s.id??"N/A"}`,`Phone number : ${s.phone_number??"N/A"}`,`Email : ${s.email??"N/A"}`,`Verified by admin : ${s.verified_by_admin??"N/A"}`,`Gender : ${s.gender??"N/A"}`,`Birth date : ${mde(s.birth_date??"N/A")}`,`City : ${s.city??"N/A"}`,`Bio : ${s.bio??"N/A"}`,`Created at : ${tT(s.created_at??"N/A")}`,`Updated at : ${tT(s.updated_at??"N/A")}`].join(`
`):"No agent"}function mde(t){if(!t)return"N/A";const s=new Date(t);return Number.isNaN(s.getTime())?String(t):s.toLocaleDateString("en-US",{month:"numeric",day:"numeric",year:"numeric"})}function tT(t){if(!t)return"N/A";const s=new Date(t);return Number.isNaN(s.getTime())?String(t):s.toLocaleString("en-US",{timeZone:"Asia/Beirut",month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit",hour12:!0})}function mc({title:t,items:s,renderItem:a}){const n=Array.isArray(s)?s:[];return n.length===0?null:e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"text-sm font-semibold",children:[t," (",n.length,")"]}),e.jsxs("ul",{className:"text-sm text-muted-foreground list-disc list-inside space-y-0.5 max-h-24 overflow-y-auto",children:[n.slice(0,10).map((r,i)=>e.jsx("li",{children:a(r)},r?.id??i)),n.length>10&&e.jsxs("li",{children:[" and ",n.length-10," more"]})]})]})}function fde({car:t,imgUrl:s,getStorageUrl:a,onEdit:n,onClose:r,onAccept:i,onReject:l,onCarUpdated:d}){const u=t?.agent||null,[h,p]=x.useState(null),[f,y]=x.useState(null),[v,j]=x.useState(null),{toast:N}=af(),w=We.useRef({}),_=(H,D)=>{const K=t?.[D];return a?.(K)||s(K)},T=H=>H&&H.type&&["image/jpeg","image/jpg","image/png"].includes(H.type),R=async(H,D)=>{if(!(!D||!t?.id)){if(!T(D)){N({title:"Invalid file",description:"Please use a JPG or PNG image.",variant:"destructive"});return}y(H);try{const K=await G3(t.id,D,H),X=K.data||K,ne=X?.car??X??t;d?.(ne),N({title:"Saved",description:`${H} image updated`,variant:"default"})}catch(K){const X=K.response?.data?.errors?.image?.[0]||K.response?.data?.message||"Failed to replace image";N({title:"Error",description:X,variant:"destructive"})}finally{y(null),w.current[H]&&(w.current[H].value="")}}},E=async H=>{if(t?.id){p(H);try{const D=await Uie(t.id,H),K=window.URL.createObjectURL(D),X=document.createElement("a");X.href=K,X.download=`car_${t.id}_${H}.jpg`,X.click(),window.URL.revokeObjectURL(K)}catch(D){console.error(D)}finally{p(null)}}};function A({label:H,value:D}){return e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsxs("span",{className:"text-muted-foreground",children:[H," :"]}),e.jsx("span",{className:"text-foreground",children:D??"N/A"})]})}const V=({label:H,ok:D})=>e.jsxs("div",{className:"flex items-center gap-2 whitespace-nowrap",children:[e.jsx("span",{className:"text-muted-foreground",children:H}),e.jsx(Re,{className:D?"bg-green-600":"",variant:D?"default":"destructive",children:D?"Yes":"No"})]}),k=({status:H})=>{const D=String(H).toLowerCase()==="available";return e.jsxs("div",{className:"flex items-center gap-2 whitespace-nowrap",children:[e.jsx("span",{className:"text-muted-foreground",children:"Status"}),e.jsx(Re,{className:D?"bg-green-600":"",variant:D?"default":"destructive",children:H??"N/A"})]})},B=H=>{if(H==null||H==="")return"N/A";const D=Number(H);return Number.isNaN(D)?String(H):`$${D.toFixed(2)}`},P=H=>!Array.isArray(H)||H.length===0?e.jsx("div",{className:"text-sm text-muted-foreground",children:"N/A"}):e.jsx("div",{className:"flex flex-wrap gap-2",children:H.map((D,K)=>e.jsx(Re,{variant:"outline",children:typeof D=="string"?D:D?.name??JSON.stringify(D)},K))});return e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-10 gap-y-3",children:[e.jsx(A,{label:"ID",value:t?.id}),e.jsx(A,{label:"Make",value:t?.make}),e.jsx(A,{label:"Model",value:t?.model}),e.jsx(A,{label:"Year",value:t?.year}),e.jsx(A,{label:"License Plate",value:t?.license_plate}),e.jsx(A,{label:"Color",value:t?.color}),e.jsx(A,{label:"Mileage",value:t?.mileage}),e.jsx(A,{label:"Fuel Type",value:t?.fuel_type}),e.jsx(A,{label:"Transmission",value:t?.transmission}),e.jsx(A,{label:"Wheels Drive",value:t?.wheels_drive}),e.jsx(A,{label:"Category",value:t?.car_category}),e.jsx(A,{label:"Seats",value:t?.seats}),e.jsx(A,{label:"Doors",value:t?.doors}),e.jsx(A,{label:"Daily Rate",value:B(t?.daily_rate)}),e.jsx(A,{label:"Holiday Rate",value:B(t?.holiday_rate)}),e.jsx("div",{className:"pt-1",children:e.jsx(k,{status:t?.status})}),e.jsxs("div",{className:"flex flex-wrap gap-6 pt-1",children:[e.jsx(V,{label:"Car Accepted",ok:!!t?.car_accepted}),e.jsx(V,{label:"With Driver",ok:!!t?.with_driver}),e.jsx(V,{label:"Is Delivered",ok:!!t?.is_delivered})]}),e.jsx(A,{label:"Min Rental Days",value:t?.min_rental_days}),e.jsx(A,{label:"Views Count",value:t?.views_count}),e.jsx(A,{label:"Clicks Count",value:t?.clicks_count}),e.jsx(A,{label:"Search Count",value:t?.search_count}),e.jsx(A,{label:"Cylinder",value:t?.cylinder_number}),e.jsx("div",{className:"pt-1",children:e.jsx(V,{label:"Is Private",ok:!!t?.is_private})})]}),e.jsx("div",{className:"border-t pt-3"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm font-semibold",children:"Features"}),P(t?.features)]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm font-semibold",children:"Add-ons"}),P(t?.add_ons)]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-sm font-semibold",children:"Notes"}),e.jsx("div",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:t?.notes??"N/A"})]}),e.jsx("div",{className:"border-t pt-3"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-sm font-semibold",children:"Agent"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-x-10 gap-y-3",children:[e.jsx(A,{label:"ID",value:u?.id??t?.agent_id}),e.jsx(A,{label:"Username",value:u?.username??"N/A"}),e.jsx(A,{label:"Phone Number",value:u?.phone_number??"N/A"}),e.jsx(A,{label:"Email",value:u?.email??"N/A"}),e.jsx(A,{label:"Gender",value:u?.gender??"N/A"}),e.jsx(A,{label:"City",value:u?.city??"N/A"})]})]}),e.jsx(mc,{title:"Bookings",items:t?.bookings,renderItem:H=>`#${H?.id} ${H?.status??""} ${H?.start_date??""}`}),e.jsx(mc,{title:"Check photos",items:t?.check_photos,renderItem:H=>`#${H?.id}`}),e.jsx(mc,{title:"Holidays",items:t?.holidays,renderItem:H=>`${H?.date??H?.id}`}),e.jsx(mc,{title:"Feedbacks",items:t?.feedbacks,renderItem:H=>`#${H?.id} ${H?.rating??""}`}),e.jsx(mc,{title:"Deposits",items:t?.deposits,renderItem:H=>`#${H?.id} ${H?.amount??""}`}),e.jsx(mc,{title:"Balances",items:t?.balances,renderItem:H=>`#${H?.id}`}),e.jsx(mc,{title:"Favorites",items:t?.favorites,renderItem:H=>`User ${H?.user_id??H?.id}`}),e.jsx("div",{className:"border-t pt-3"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("div",{className:"text-sm font-semibold",children:"Car Images  drag & drop or click Replace"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"Main"}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx("input",{ref:H=>w.current.main=H,type:"file",accept:"image/jpeg,image/jpg,image/png",className:"hidden",onChange:H=>{const D=H.target.files?.[0];D&&R("main",D)}}),e.jsx(Q,{variant:"outline",size:"sm",className:"h-7",disabled:f==="main",onClick:()=>w.current.main?.click(),children:f==="main"?"Uploading":"Replace"}),e.jsxs(Q,{variant:"outline",size:"sm",disabled:h==="main",onClick:()=>E("main"),children:[e.jsx(tu,{className:"h-4 w-4 mr-1"}),"Download"]})]})]}),e.jsxs("div",{className:`relative rounded-md border transition-colors ${v==="main"?"ring-2 ring-[#00A19C] bg-[#00A19C]/10":""}`,onDragOver:H=>{H.preventDefault(),H.stopPropagation(),j("main")},onDragLeave:H=>{H.preventDefault(),j(D=>D==="main"?null:D)},onDrop:H=>{H.preventDefault(),j(null);const D=H.dataTransfer?.files?.[0];D&&R("main",D)},children:[e.jsx("img",{src:_("main_image_full_url","main_image_url"),alt:"Main Car",className:"w-full max-h-[260px] object-cover rounded-md border-0"}),v==="main"&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center rounded-md bg-black/30 text-white text-sm font-medium",children:"Drop image here"})]})]}),e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:[{label:"Front",type:"front",fullKey:"front_image_full_url",pathKey:"front_image_url"},{label:"Back",type:"back",fullKey:"back_image_full_url",pathKey:"back_image_url"},{label:"Left",type:"left",fullKey:"left_image_full_url",pathKey:"left_image_url"},{label:"Right",type:"right",fullKey:"right_image_full_url",pathKey:"right_image_url"}].map(({label:H,type:D,fullKey:K,pathKey:X})=>e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"flex items-center justify-between gap-1",children:[e.jsx("span",{className:"text-muted-foreground",children:H}),e.jsxs("div",{className:"flex gap-0.5",children:[e.jsx("input",{ref:ne=>w.current[D]=ne,type:"file",accept:"image/jpeg,image/jpg,image/png",className:"hidden",onChange:ne=>{const te=ne.target.files?.[0];te&&R(D,te)}}),e.jsx(Q,{variant:"ghost",size:"sm",className:"h-6 px-1 text-xs",disabled:f===D,onClick:()=>w.current[D]?.click(),title:"Replace",children:f===D?"":"Replace"}),e.jsx(Q,{variant:"ghost",size:"sm",className:"h-6 px-1",disabled:h===D,onClick:()=>E(D),title:"Download",children:e.jsx(tu,{className:"h-3 w-3"})})]})]}),e.jsxs("div",{className:`relative rounded-md border transition-colors ${v===D?"ring-2 ring-[#00A19C] bg-[#00A19C]/10":""}`,onDragOver:ne=>{ne.preventDefault(),ne.stopPropagation(),j(D)},onDragLeave:ne=>{ne.preventDefault(),j(te=>te===D?null:te)},onDrop:ne=>{ne.preventDefault(),j(null);const te=ne.dataTransfer?.files?.[0];te&&R(D,te)},children:[e.jsx("img",{src:_(K,X),alt:H,className:"h-[120px] w-full object-cover rounded-md border-0"}),v===D&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center rounded-md bg-black/30 text-white text-xs font-medium",children:"Drop"})]})]},D))})]}),e.jsxs("div",{className:"pt-3 flex flex-wrap gap-2",children:[!t?.car_accepted&&i&&e.jsxs(Q,{className:"bg-green-600 hover:bg-green-700",onClick:i,children:[e.jsx(er,{className:"h-4 w-4 mr-2"}),"Accept Car"]}),t?.car_accepted&&l&&e.jsxs(Q,{variant:"destructive",onClick:l,children:[e.jsx(ta,{className:"h-4 w-4 mr-2"}),"Reject Car"]}),e.jsx(Q,{className:"flex-1",onClick:n,children:"Edit Car"}),e.jsx(Q,{variant:"outline",className:"w-28",onClick:r,children:"Close"})]})]})}const pde=[{type:"main",label:"Main",fullKey:"main_image_full_url",pathKey:"main_image_url"},{type:"front",label:"Front",fullKey:"front_image_full_url",pathKey:"front_image_url"},{type:"back",label:"Back",fullKey:"back_image_full_url",pathKey:"back_image_url"},{type:"left",label:"Left",fullKey:"left_image_full_url",pathKey:"left_image_url"},{type:"right",label:"Right",fullKey:"right_image_full_url",pathKey:"right_image_url"}];function Bs({label:t,value:s,onChange:a,type:n="text",disabled:r=!1}){const i=s==null?"":String(s),l=d=>{if(n==="number"){const u=d.target.value===""?"":Number(d.target.value);a(Number.isNaN(u)?d.target.value:u)}else a(d.target.value)};return e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:t}),e.jsx(oe,{type:n,value:i,onChange:l,disabled:r,className:"h-8"})]})}function sT({label:t,value:s,onChange:a,options:n,emptySentinel:r}){const i=r?(s??"")||r:String(s??""),l=d=>a(r&&d===r?"":d);return e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:t}),e.jsxs(et,{value:i,onValueChange:l,children:[e.jsx(Ze,{className:"h-8",children:e.jsx(tt,{placeholder:"Select..."})}),e.jsx(Je,{children:n.map(d=>{const u=d.value===""||d.value==null?r||"__none__":String(d.value);return e.jsx(ce,{value:u,children:d.label},u)})})]})]})}const gde=["image/jpeg","image/jpg","image/png"];function xde({car:t,setCar:s,imgUrl:a,onClose:n,onSaved:r}){const{toast:i}=af(),[l,d]=x.useState(null),[u,h]=x.useState(null),p=We.useRef({}),f=(A,V)=>s(k=>({...k,[A]:V})),y=(A,V)=>{const k=t?.[A];return k||a(t?.[V])},v=A=>A&&A.type&&gde.includes(A.type),j=async(A,V)=>{if(!(!V||!t?.id)){if(!v(V)){i({title:"Invalid file",description:"Please use a JPG or PNG image.",variant:"destructive"});return}d(A);try{const k=await G3(t.id,V,A),B=k.data||k,P=B?.car??B??t;s(P),i({title:"Saved",description:`${A} image updated`,variant:"default"})}catch(k){const B=k.response?.data?.errors?.image?.[0]||k.response?.data?.message||"Failed to replace image";i({title:"Error",description:B,variant:"destructive"})}finally{d(null),p.current[A]&&(p.current[A].value="")}}},N=A=>{if(A==null||A==="")return"";const V=Number(A);return Number.isNaN(V)?A:V},w=A=>!Array.isArray(A)||A.length===0?e.jsx("div",{className:"text-sm text-muted-foreground",children:"N/A"}):e.jsx("div",{className:"flex flex-wrap gap-1.5",children:A.map((V,k)=>e.jsx(Re,{variant:"outline",children:typeof V=="string"?V:V?.name??JSON.stringify(V)},k))}),_=({label:A,value:V,onChange:k})=>e.jsxs("div",{className:"flex items-center justify-between gap-2 py-1",children:[e.jsx("div",{className:"text-sm",children:A}),e.jsx("button",{type:"button",role:"switch","aria-checked":!!V,onClick:()=>k(!V),className:["relative inline-flex h-5 w-10 shrink-0 items-center rounded-full transition-colors",V?"bg-teal-600":"bg-muted","focus:outline-none focus:ring-2 focus:ring-teal-500/40"].join(" "),children:e.jsx("span",{className:["inline-block h-4 w-4 transform rounded-full bg-white transition-transform shadow",V?"translate-x-5":"translate-x-1"].join(" ")})})]}),T=async()=>{try{const A={make:t.make,model:t.model,year:t.year,cylinder_number:t.cylinder_number==="__none__"||t.cylinder_number===""?void 0:t.cylinder_number,license_plate:t.license_plate,color:t.color,mileage:t.mileage,fuel_type:t.fuel_type,transmission:t.transmission,wheels_drive:t.wheels_drive,car_category:t.car_category,seats:t.seats,doors:t.doors,daily_rate:N(t.daily_rate),holiday_rate:N(t.holiday_rate),is_deposit:!!t.is_deposit,deposit:N(t.deposit),status:t.status,car_accepted:!!t.car_accepted,is_private:!!t.is_private,is_delivered:!!t.is_delivered,delivery_fees:N(t.delivery_fees),with_driver:!!t.with_driver,driver_fees:N(t.driver_fees),max_driving_mileage:t.max_driving_mileage!=null&&t.max_driving_mileage!==""?Number(t.max_driving_mileage):void 0,min_rental_days:t.min_rental_days,notes:t.notes,agent_id:t.agent_id!=null&&t.agent_id!==""?Number(t.agent_id):void 0,insurance_expiry:t.insurance_expiry||void 0,registration_expiry:t.registration_expiry||void 0,views_count:t.views_count!=null&&t.views_count!==""?Number(t.views_count):void 0,clicks_count:t.clicks_count!=null&&t.clicks_count!==""?Number(t.clicks_count):void 0,search_count:t.search_count!=null&&t.search_count!==""?Number(t.search_count):void 0},V=await q3(t.id,A),k=V.data||V,B=k?.car??k??t;i({title:"Saved",description:"Car updated successfully"}),r?.(B)}catch(A){if(A.response?.status===422&&A.response?.data?.errors){const V=Object.entries(A.response.data.errors).map(([k,B])=>`${k}: ${(B||[]).join(", ")}`).join("; ");i({title:"Validation Error",description:V||"Invalid data",variant:"destructive"})}else i({title:"Error",description:"Failed to update car",variant:"destructive"})}},R=[{label:"",value:""},{label:"4",value:"4"},{label:"6",value:"6"},{label:"8",value:"8"},{label:"10",value:"10"},{label:"12",value:"12"}],E=[{label:"Available",value:"available"},{label:"Not Available",value:"not_available"},{label:"Rented",value:"rented"},{label:"Maintenance",value:"maintenance"}];return e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-x-3 gap-y-2",children:[e.jsx(Bs,{label:"ID",value:t?.id,onChange:()=>{},disabled:!0}),e.jsx(Bs,{label:"Make",value:t?.make??"",onChange:A=>f("make",A)}),e.jsx(Bs,{label:"Model",value:t?.model??"",onChange:A=>f("model",A)}),e.jsx(Bs,{label:"Year",value:t?.year??"",onChange:A=>f("year",A),type:"number"}),e.jsx(sT,{label:"Cylinder",value:t?.cylinder_number,onChange:A=>f("cylinder_number",A),options:R,emptySentinel:"__none__"}),e.jsx(Bs,{label:"License Plate",value:t?.license_plate??"",onChange:A=>f("license_plate",A)}),e.jsx(Bs,{label:"Color",value:t?.color??"",onChange:A=>f("color",A)}),e.jsx(Bs,{label:"Mileage",value:t?.mileage??"",onChange:A=>f("mileage",A),type:"number"}),e.jsx(Bs,{label:"Fuel Type",value:t?.fuel_type??"",onChange:A=>f("fuel_type",A)}),e.jsx(Bs,{label:"Transmission",value:t?.transmission??"",onChange:A=>f("transmission",A)}),e.jsx(Bs,{label:"Wheels Drive",value:t?.wheels_drive??"",onChange:A=>f("wheels_drive",A)}),e.jsx(Bs,{label:"Category",value:t?.car_category??"",onChange:A=>f("car_category",A)}),e.jsx(Bs,{label:"Seats",value:t?.seats??"",onChange:A=>f("seats",A),type:"number"}),e.jsx(Bs,{label:"Doors",value:t?.doors??"",onChange:A=>f("doors",A),type:"number"})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-x-3 gap-y-2",children:[e.jsx(Bs,{label:"Daily Rate",value:t?.daily_rate??"",onChange:A=>f("daily_rate",A),type:"number"}),e.jsx(Bs,{label:"Holiday Rate",value:t?.holiday_rate??"",onChange:A=>f("holiday_rate",A),type:"number"}),e.jsx(Bs,{label:"Deposit",value:t?.deposit??"",onChange:A=>f("deposit",A),type:"number"}),e.jsx(Bs,{label:"Delivery Fees",value:t?.delivery_fees??"",onChange:A=>f("delivery_fees",A),type:"number"}),e.jsx(Bs,{label:"Driver Fees",value:t?.driver_fees??"",onChange:A=>f("driver_fees",A),type:"number"})]}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-5 gap-x-3 gap-y-2",children:[e.jsx(Bs,{label:"Min Rental Days",value:t?.min_rental_days??"",onChange:A=>f("min_rental_days",A),type:"number"}),e.jsx(Bs,{label:"Max Driving Mileage",value:t?.max_driving_mileage??"",onChange:A=>f("max_driving_mileage",A),type:"number"}),e.jsx(Bs,{label:"Agent ID",value:t?.agent_id??"",onChange:A=>f("agent_id",A),type:"number"}),e.jsx(Bs,{label:"Insurance Expiry",value:t?.insurance_expiry??"",onChange:A=>f("insurance_expiry",A),type:"date"}),e.jsx(Bs,{label:"Registration Expiry",value:t?.registration_expiry??"",onChange:A=>f("registration_expiry",A),type:"date"})]}),e.jsxs("div",{className:"grid grid-cols-3 gap-x-3 gap-y-2",children:[e.jsx(Bs,{label:"Views",value:t?.views_count??"",onChange:A=>f("views_count",A),type:"number"}),e.jsx(Bs,{label:"Clicks",value:t?.clicks_count??"",onChange:A=>f("clicks_count",A),type:"number"}),e.jsx(Bs,{label:"Search",value:t?.search_count??"",onChange:A=>f("search_count",A),type:"number"})]}),e.jsx("div",{className:"border-t border-border pt-2 mt-2"}),e.jsxs("div",{className:"flex flex-wrap gap-2 text-sm",children:[e.jsxs("div",{className:"w-full sm:w-auto min-w-[120px]",children:[e.jsx("div",{className:"text-xs text-muted-foreground mb-0.5",children:"Features"}),w(t?.features)]}),e.jsxs("div",{className:"w-full sm:w-auto min-w-[120px]",children:[e.jsx("div",{className:"text-xs text-muted-foreground mb-0.5",children:"Add-ons"}),w(t?.add_ons)]})]}),e.jsx("div",{className:"border-t border-border pt-2 mt-2"}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("div",{className:"text-xs font-medium text-muted-foreground",children:"Car Images  drag & drop or click Replace"}),e.jsxs("div",{className:"flex flex-col gap-2",children:[e.jsxs("div",{className:"flex items-center justify-between gap-2",children:[e.jsx("span",{className:"text-muted-foreground text-sm",children:"Main"}),e.jsx("input",{ref:A=>p.current.main=A,type:"file",accept:"image/jpeg,image/jpg,image/png",className:"hidden",onChange:A=>{const V=A.target.files?.[0];V&&j("main",V)}}),e.jsx(Q,{type:"button",variant:"outline",size:"sm",className:"h-7",disabled:l==="main",onClick:()=>p.current.main?.click(),children:l==="main"?"Uploading":"Replace"})]}),e.jsxs("div",{className:`relative rounded border transition-colors ${u==="main"?"ring-2 ring-[#00A19C] bg-[#00A19C]/10":""}`,onDragOver:A=>{A.preventDefault(),A.stopPropagation(),h("main")},onDragLeave:A=>{A.preventDefault(),h(V=>V==="main"?null:V)},onDrop:A=>{A.preventDefault(),h(null);const V=A.dataTransfer?.files?.[0];V&&j("main",V)},children:[e.jsx("a",{href:y("main_image_full_url","main_image_url"),target:"_blank",rel:"noreferrer",className:"block",children:e.jsx("img",{src:y("main_image_full_url","main_image_url"),alt:"Main",className:"w-full max-h-[200px] object-cover rounded border-0"})}),u==="main"&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center rounded bg-black/30 text-white text-sm font-medium",children:"Drop image here"})]})]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-4 gap-2",children:pde.filter(A=>A.type!=="main").map(({type:A,label:V,fullKey:k,pathKey:B})=>e.jsxs("div",{className:"space-y-0.5",children:[e.jsxs("div",{className:"flex items-center justify-between gap-1",children:[e.jsx("span",{className:"text-muted-foreground text-xs",children:V}),e.jsx("input",{ref:P=>p.current[A]=P,type:"file",accept:"image/jpeg,image/jpg,image/png",className:"hidden",onChange:P=>{const H=P.target.files?.[0];H&&j(A,H)}}),e.jsx(Q,{type:"button",variant:"outline",size:"sm",className:"h-6 px-1 text-xs",disabled:l===A,onClick:()=>p.current[A]?.click(),children:l===A?"":"Replace"})]}),e.jsxs("div",{className:`relative rounded border transition-colors ${u===A?"ring-2 ring-[#00A19C] bg-[#00A19C]/10":""}`,onDragOver:P=>{P.preventDefault(),P.stopPropagation(),h(A)},onDragLeave:P=>{P.preventDefault(),h(H=>H===A?null:H)},onDrop:P=>{P.preventDefault(),h(null);const H=P.dataTransfer?.files?.[0];H&&j(A,H)},children:[e.jsx("a",{href:y(k,B),target:"_blank",rel:"noreferrer",className:"block",children:e.jsx("img",{src:y(k,B),alt:V,className:"h-[80px] w-full object-cover rounded border-0"})}),u===A&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center rounded bg-black/30 text-white text-xs font-medium",children:"Drop"})]})]},A))})]}),e.jsx("div",{className:"border-t border-border pt-2 mt-2"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-x-3 gap-y-2",children:[e.jsx(sT,{label:"Status",value:t?.status,onChange:A=>f("status",A),options:E}),e.jsxs("div",{className:"space-y-0.5",children:[e.jsx("div",{className:"text-xs text-muted-foreground",children:"Notes"}),e.jsx("textarea",{className:"w-full border rounded-md p-2 min-h-[72px] text-sm resize-y",value:t?.notes??"",onChange:A=>f("notes",A.target.value)})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-y-1",children:[e.jsx(_,{label:"Car Accepted",value:t?.car_accepted,onChange:A=>f("car_accepted",A?1:0)}),e.jsx(_,{label:"Is Private",value:t?.is_private,onChange:A=>f("is_private",A?1:0)}),e.jsx(_,{label:"Is Deposit",value:t?.is_deposit,onChange:A=>f("is_deposit",A?1:0)}),e.jsx(_,{label:"With Driver",value:t?.with_driver,onChange:A=>f("with_driver",A?1:0)}),e.jsx(_,{label:"Is Delivered",value:t?.is_delivered,onChange:A=>f("is_delivered",A?1:0)})]}),e.jsxs("div",{className:"pt-2 flex gap-2",children:[e.jsx(Q,{className:"flex-1 h-8",onClick:T,children:"Update Car"}),e.jsx(Q,{variant:"outline",className:"w-24 h-8",onClick:n,children:"Cancel"})]})]})}const yde={pending:"bg-yellow-100 text-yellow-700",confirmed:"bg-green-100 text-green-700",cancelled:"bg-red-100 text-red-700",completed:"bg-blue-100 text-blue-700",rejected:"bg-gray-200 text-gray-700"};function bde(t,s=14){return t?t.length>s?`${t.slice(0,s)}...`:t:"N/A"}function vde(){const[t,s]=x.useState([]),[a,n]=x.useState({}),[r,i]=x.useState(!1),[l,d]=x.useState(""),[u,h]=x.useState([]),[p,f]=x.useState("newest"),[y,v]=x.useState("all"),[j,N]=x.useState(!1),[w,_]=x.useState(null),[T,R]=x.useState(!1),[E,A]=x.useState(null),[V,k]=x.useState(null),[B,P]=x.useState(!1),[H,D]=x.useState(""),K=async()=>{i(!0);try{const re={page:1,per_page:50},{data:fe}=await xe.get("/admin/bookings",{params:re}),we=fe.bookings?.data||[];s(we),we.forEach(ye=>{a[ye.client_id]||X(ye.client_id)})}catch(re){console.error(re)}finally{i(!1)}},X=async re=>{try{const{data:fe}=await xe.get(`/admin/users/${re}`),we=fe.user?.first_name&&fe.user?.last_name?`${fe.user.first_name} ${fe.user.last_name}`:fe.user?.username||`User #${re}`;n(ye=>({...ye,[re]:we}))}catch{n(fe=>({...fe,[re]:`User #${re}`}))}};x.useEffect(()=>{K()},[]);const ne=async re=>{try{const{data:fe}=await xe.get(`/admin/bookings/${re}`);return fe.booking??fe.data??fe}catch{return se({title:"Error",description:"Failed to fetch booking details",variant:"destructive"}),null}},te=x.useMemo(()=>{let re=[...t];if(l){const fe=l.toLowerCase().trim();re=re.filter(we=>{const ye=(a[we.client_id]??"").toLowerCase(),Be=(we.car?.make??"").toLowerCase(),ke=(we.car?.model??"").toLowerCase(),Ye=`${Be} ${ke}`.trim(),rt=(we.car?.agent?.username??"").toLowerCase();return[we.id,we.client_id,we.car_id,ye,Be,ke,Ye,rt].join(" ").toLowerCase().includes(fe)})}return u.length>0&&(re=re.filter(fe=>u.includes(fe.booking_request_status))),y!=="all"&&(re=re.filter(fe=>(fe.payment_status??"").toLowerCase()===y)),re.sort((fe,we)=>{if(p==="newest"){const ye=new Date(fe.created_at??0).getTime(),Be=new Date(we.created_at??0).getTime();return Be!==ye?Be-ye:Number(we.id)-Number(fe.id)}if(p==="client_az"||p==="client_za"){const ye=(a[fe.client_id]??"").toLowerCase(),Be=(a[we.client_id]??"").toLowerCase();return ye<Be?p==="client_az"?-1:1:ye>Be?p==="client_az"?1:-1:Number(we.id)-Number(fe.id)}return p==="total_high"?Number(we.total_booking_price||0)-Number(fe.total_booking_price||0):p==="total_low"?Number(fe.total_booking_price||0)-Number(we.total_booking_price||0):0}),re},[t,l,a,u,y,p]),U=x.useMemo(()=>te.reduce((re,fe)=>re+Number(fe.total_booking_price||0),0),[te]),q=x.useMemo(()=>{const re={pending:0,confirmed:0,cancelled:0,completed:0,rejected:0};for(const fe of t){const we=(fe.booking_request_status??"").toLowerCase();re[we]!==void 0&&(re[we]+=1)}return re},[t]),G=re=>{A({...re}),R(!0)},F=async()=>{try{const re={booking_request_status:E.booking_request_status,payment_status:E.payment_status,payment_method:E.payment_method,total_booking_price:E.total_booking_price,extra_charge:E.extra_charge,with_driver:E.with_driver,is_delivered:E.is_delivered,start_datetime:E.start_datetime,end_datetime:E.end_datetime,pickup_location:E.pickup_location,dropoff_location:E.dropoff_location,reason_of_booking:E.reason_of_booking};await xe.put(`/admin/bookings/${E.id}`,re),se.success("Booking updated successfully"),R(!1),K()}catch{se.error("Failed to update booking")}},M=async re=>{await xe.post(`/admin/bookings/${re}/force-complete`),K()},z="/avatar.png",ie="https://rento-lb.com/api/storage/",le=re=>{const fe=re?.client.profile_picture;if(!fe)return z;if(fe.startsWith("http"))return fe;const we=fe.startsWith("/")?fe.slice(1):fe;return ie+we};return e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Bookings"}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsxs("div",{className:"px-3 py-1.5 rounded-lg border bg-muted text-sm font-semibold",children:[e.jsxs("p",{children:["Total Bookings : ",te.length," "]}),e.jsxs("p",{children:["Total : $",U.toLocaleString()]})]}),e.jsx(oe,{placeholder:"Search client / car / agent  ",className:"h-8 w-44 text-xs",value:l,onChange:re=>d(re.target.value)}),e.jsxs(Ae,{className:"p-3",children:[e.jsx("div",{className:"text-sm font-medium mb-2",children:"Status"}),e.jsx("div",{className:"flex flex-wrap gap-4",children:["pending","confirmed","cancelled","completed","rejected"].map(re=>{const fe=u.includes(re);return e.jsxs("label",{className:"flex items-center gap-2 text-sm cursor-pointer",children:[e.jsx("input",{type:"checkbox",checked:fe,onChange:we=>{const ye=we.target.checked;h(Be=>ye?[...Be,re]:Be.filter(ke=>ke!==re))}}),e.jsxs("span",{className:"capitalize flex items-center gap-2",children:[re,e.jsx("span",{className:"inline-flex items-center justify-center h-5 min-w-6 px-2 rounded-full text-[11px] font-semibold bg-muted text-foreground",children:q?.[re]??0})]})]},re)})}),u.length>0&&e.jsx("button",{type:"button",className:"mt-2 text-xs text-muted-foreground underline",onClick:()=>h([]),children:"Clear status filter"})]}),e.jsx("div",{className:"w-44",children:e.jsxs(et,{value:y,onValueChange:v,children:[e.jsx(Ze,{className:"h-8 text-xs",children:e.jsx(tt,{placeholder:"Payment status"})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"all",children:"All Payments"}),e.jsx(ce,{value:"pending",children:"Pending"}),e.jsx(ce,{value:"paid",children:"Paid"})]})]})}),e.jsx("div",{className:"w-44",children:e.jsxs(et,{value:p,onValueChange:f,children:[e.jsx(Ze,{className:"h-8 text-xs",children:e.jsx(tt,{placeholder:"Sort by"})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"newest",children:"Newest"}),e.jsx(ce,{value:"client_az",children:"Client A - Z"}),e.jsx(ce,{value:"client_za",children:"Client Z - A"}),e.jsx(ce,{value:"total_high",children:"Total High  Low"}),e.jsx(ce,{value:"total_low",children:"Total Low  High"})]})]})}),e.jsx(Q,{size:"icon",variant:"ghost","aria-label":"Refresh",onClick:K,children:e.jsx(Nt,{size:16})})]})]}),e.jsx("div",{className:"rounded-xl border",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"ID"}),e.jsx(J,{children:"Client"}),e.jsx(J,{children:"Car"}),e.jsx(J,{children:"Agent"}),e.jsx(J,{children:"Status"}),e.jsx(J,{children:"Payment"}),e.jsx(J,{children:"Total"}),e.jsx(J,{className:"text-right",children:"Actions"})]})}),e.jsxs(wt,{children:[te.map(re=>e.jsxs(Ne,{children:[e.jsx(Y,{children:e.jsxs("span",{className:"item-name-hover inline-flex items-center gap-2 cursor-pointer",title:Nde(re),onClick:()=>aT(re.id,ne,k,D,P),children:[re.id," "]})}),e.jsx(Y,{children:e.jsxs("span",{className:"item-name-hover inline-flex items-center gap-2 cursor-pointer",title:jde(re),children:[e.jsx("img",{src:le(re),alt:re.client.username||"User",className:"h-7 w-7 rounded-full object-cover",onError:fe=>{fe.currentTarget.onerror=null,fe.currentTarget.src="/avatar.png"}}),bde(a[re.client_id]||`User #${re.client_id}`,14)]})}),e.jsx(Y,{children:e.jsx("span",{className:"item-name-hover inline-flex items-center gap-2 cursor-pointer",title:wde(re),children:re.car?`${re.car.make} ${re.car.model}`:`#${re.car_id}`})}),e.jsx(Y,{children:e.jsx("span",{className:"item-name-hover inline-flex items-center gap-2 cursor-pointer",title:_de(re),children:re.car?.agent?.username??""})}),e.jsxs(Y,{className:"flex items-center gap-2",children:[e.jsx(Re,{className:yde[re.booking_request_status],children:re.booking_request_status}),re.booking_request_status==="confirmed"?e.jsx(Pa,{className:"w-4 h-4 text-green-600"}):e.jsx(Yd,{className:"w-4 h-4 text-red-500"})]}),e.jsx(Y,{children:e.jsx(Re,{variant:re.payment_status==="paid"?"default":"secondary",children:re.payment_status})}),e.jsxs(Y,{children:["$",re.total_booking_price]}),e.jsxs(Y,{className:"flex justify-end gap-1",children:[e.jsx(Q,{size:"icon",variant:"ghost","aria-label":"View",onClick:()=>aT(re.id,ne,k,D,P),title:"View Details",children:e.jsx(Ys,{size:16})}),e.jsx(Q,{size:"icon",variant:"ghost","aria-label":"Edit",onClick:()=>G(re),title:"Edit Details",children:e.jsx(ca,{size:16})}),re.booking_request_status==="confirmed"?e.jsx(Q,{size:"icon",variant:"ghost","aria-label":"Force complete",title:"Confirmed",onClick:()=>M(re.id),children:e.jsx(Pa,{size:16,className:"text-green-600"})}):e.jsx(Q,{size:"icon",variant:"ghost","aria-label":"Disabled",disabled:!0,children:e.jsx(k7,{size:16})})]})]},re.id)),!r&&te.length===0&&e.jsx(Ne,{children:e.jsx(Y,{colSpan:7,className:"text-center py-10 text-muted-foreground",children:"No bookings found"})})]})]})}),e.jsx(La,{open:B,onOpenChange:P,children:e.jsxs(ka,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Sa,{children:[e.jsx(Aa,{children:"Booking Details"}),e.jsx(ji,{children:"Complete booking information (read-only)."})]}),H==="view-booking"&&V&&e.jsx("div",{className:"space-y-6 text-sm",children:e.jsx(Cde,{booking:V,clients:a,onClose:()=>P(!1)})})]})}),e.jsx(La,{open:T,onOpenChange:R,children:e.jsxs(ka,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[e.jsxs(Sa,{children:[e.jsx(Aa,{children:"Edit Booking"}),e.jsx(ji,{children:"All fields below are editable"})]}),E&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{children:"Status"}),e.jsxs(et,{value:E.booking_request_status,onValueChange:re=>A({...E,booking_request_status:re}),children:[e.jsx(Ze,{children:e.jsx(tt,{})}),e.jsx(Je,{children:["pending","confirmed","cancelled","completed","rejected"].map(re=>e.jsx(ce,{value:re,children:re},re))})]})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Payment Status"}),e.jsxs(et,{value:E.payment_status,onValueChange:re=>A({...E,payment_status:re}),children:[e.jsx(Ze,{children:e.jsx(tt,{})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"pending",children:"Pending"}),e.jsx(ce,{value:"paid",children:"Paid"}),e.jsx(ce,{value:"failed",children:"Failed"})]})]})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Total Price"}),e.jsx(oe,{type:"number",value:E.total_booking_price,onChange:re=>A({...E,total_booking_price:re.target.value})})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Extra Charge"}),e.jsx(oe,{type:"number",value:E.extra_charge||0,onChange:re=>A({...E,extra_charge:re.target.value})})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Pickup Location"}),e.jsx(oe,{value:E.pickup_location||"",onChange:re=>A({...E,pickup_location:re.target.value})})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Dropoff Location"}),e.jsx(oe,{value:E.dropoff_location||"",onChange:re=>A({...E,dropoff_location:re.target.value})})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Start"}),e.jsx(oe,{type:"datetime-local",value:E.start_datetime?.slice(0,16),onChange:re=>A({...E,start_datetime:re.target.value})})]}),e.jsxs("div",{children:[e.jsx(W,{children:"End"}),e.jsx(oe,{type:"datetime-local",value:E.end_datetime?.slice(0,16),onChange:re=>A({...E,end_datetime:re.target.value})})]})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Reason / Notes"}),e.jsx("textarea",{className:"w-full border rounded-md p-2",rows:3,value:E.reason_of_booking||"",onChange:re=>A({...E,reason_of_booking:re.target.value})})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(Q,{variant:"outline",onClick:()=>R(!1),children:"Cancel"}),e.jsx(Q,{onClick:F,children:"Save Changes"})]})]})]})})]})}async function aT(t,s,a,n,r){const i=await s(t);i&&(a(i),n("view-booking"),r(!0))}function jde(t){return t?[`User ID : ${t.client.id??"N/A"}`,`username : ${t.client.username??"N/A"}`,`Phone Number : ${t.client.phone_number??"N/A"}`,`Email : ${t.client.email??"N/A"}`,`verified By Admin : ${t.client.verified_by_admin??"N/A"}`,`Gender : ${t.client.gender??"N/A"}`,`Birth Date : ${jL(t.client.birth_date??"N/A")}`,`city : ${t.client.city??"N/A"}`,`bio : ${t.client.bio??"N/A"}`].join(`
`):""}function wde(t){return t?[`Car ID : ${t.car.id??"N/A"}`,`Agent ID : ${t.car.agent_id??"N/A"}`,`Year : ${t.car.year??"N/A"}`,`Cylinder Number : ${t.car.cylinder_number??"N/A"}`,`License Plate : ${t.car.license_plate??"N/A"}`,`Color : ${t.car.color??"N/A"}`,`Mileage : ${t.car.mileage??"N/A"}`,`Transmission : ${t.car.transmission??"N/A"}`,`Wheels Drive : ${t.car.wheels_drive??"N/A"}`,`Category : ${t.car.car_category??"N/A"}`,`Seats : ${t.car.seats??"N/A"}`,`Doors : ${t.car.doors??"N/A"}`,`Daily_rate : ${t.car.daily_rate??"N/A"}`,`hHliday Rate : ${t.car.holiday_rate??"N/A"}`,`Status : ${t.car.status??"N/A"}`].join(`
`):""}function Nde(t){return t?[`Client Id : ${t.client_id??"N/A"}`,`Car Id : ${t.car_id??"N/A"}`,`Reason Of Booking : ${t.reason_of_booking??"N/A"}`,`Total Booking Price : ${t.total_booking_price??"N/A"}`,`Is Paid Online : ${t.is_paid_online??"N/A"}`,`Is Delivered : ${t.is_delivered??"N/A"}`,`Pickup Location : ${t.pickup_location??"N/A"}`,`Dropoff Location : ${t.dropoff_location??"N/A"}`].join(`
`):""}function _de(t){return t?[`ID : ${t.car?.agent?.id??"N/A"}`,`Username : ${t.car?.agent?.username??"N/A"}`,`First Name : ${t.car?.agent?.first_name??"N/A"}`,`Last Name : ${t.car?.agent?.last_name??"N/A"}`,`Real User Id : ${t.car?.agent?.real_user_id??"N/A"}`,`Email : ${t.car?.agent?.email??"N/A"}`,`Verified_by_admin : ${t.car?.agent?.verified_by_admin??"N/A"}`,`Gender : ${t.car?.agent?.gender??"N/A"}`,`Birth date : ${jL(t.car?.agent?.birth_date??"N/A")}`,`City : ${t.car?.agent?.city??"N/A"}`,`Bio : ${t.car?.agent?.bio??"N/A"}`].join(`
`):""}function nT(t){if(!t)return"N/A";const s=new Date(t);return Number.isNaN(s.getTime())?String(t):s.toLocaleString("en-US",{timeZone:"Asia/Beirut",month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit",hour12:!0})}function jL(t){if(!t)return"N/A";const s=new Date(t);return Number.isNaN(s.getTime())?String(t):s.toLocaleString("en-US",{timeZone:"Asia/Beirut",month:"numeric",day:"numeric",year:"numeric"})}function _v(t){if(t==null||t==="")return"N/A";const s=Number(t);return Number.isNaN(s)?String(t):`$${s.toLocaleString("en-US")}`}function Cde({booking:t,clients:s,onClose:a}){const n=t?.client||{},r=t?.car||{};function i({label:y,value:v}){return e.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[e.jsxs("span",{className:"text-muted-foreground",children:[y," :"]}),e.jsx("span",{className:"text-foreground break-words",children:v??"N/A"})]})}const l=({label:y,value:v,tone:j="neutral"})=>{const N=j==="teal"?"bg-teal-600 text-white":j==="red"?"bg-red-600 text-white":j==="yellow"?"bg-yellow-500 text-white":"bg-muted text-foreground";return e.jsxs("div",{className:"flex items-center gap-2 whitespace-nowrap",children:[e.jsx("span",{className:"text-muted-foreground",children:y}),e.jsx("span",{className:`inline-flex items-center justify-center px-2 h-5 rounded text-xs font-semibold leading-none ${N}`,children:v??"N/A"})]})},d=t?.booking_request_status??"N/A",u=d==="completed"?"teal":d==="pending"?"yellow":d==="cancelled"||d==="rejected"?"red":"neutral",h=t?.payment_status??"N/A",p=h==="paid"?"teal":h==="pending"?"yellow":h==="failed"?"red":"neutral",f=(n?.first_name&&n?.last_name?`${n.first_name} ${n.last_name}`:n?.username)||s?.[t?.client_id]||`User #${t?.client_id??"N/A"}`;return e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"text-sm font-semibold",children:"Booking"}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-10 gap-y-3",children:[e.jsx(i,{label:"Booking ID",value:t?.id}),e.jsx(i,{label:"Car ID",value:t?.car_id??r?.id}),e.jsx(i,{label:"Start",value:nT(t?.start_datetime)}),e.jsx(i,{label:"End",value:nT(t?.end_datetime)}),e.jsx("div",{className:"flex flex-wrap items-center gap-8 pt-1",children:e.jsx(l,{label:"Status:",value:d,tone:u})}),e.jsx("div",{className:"flex flex-wrap items-center gap-8 pt-1",children:e.jsx(l,{label:"Payment:",value:h,tone:p})}),e.jsx(i,{label:"Total",value:_v(t?.total_booking_price)}),e.jsx(i,{label:"Extra Charge",value:_v(t?.extra_charge??0)}),e.jsx(i,{label:"Deposit",value:_v(t?.deposit??0)}),e.jsx(i,{label:"Paid Online",value:t?.is_paid_online?"Yes":"No"}),e.jsx(i,{label:"Payment Method",value:t?.payment_method??"N/A"}),e.jsx(i,{label:"With Driver",value:t?.with_driver?"Yes":"No"})]}),e.jsx("div",{className:"border-t pt-3"}),e.jsx("div",{className:"text-sm font-semibold",children:"Client"}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-10 gap-y-3",children:[e.jsx(i,{label:"Client Name",value:f}),e.jsx(i,{label:"Client ID",value:t?.client_id??n?.id}),e.jsx(i,{label:"Email",value:n?.email??"N/A"}),e.jsx(i,{label:"Phone",value:n?.phone_number??"N/A"})]}),e.jsx("div",{className:"border-t pt-3"}),t?.car&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"text-sm font-semibold",children:"Car"}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-10 gap-y-3",children:[e.jsx(i,{label:"Make",value:r?.make}),e.jsx(i,{label:"Model",value:r?.model}),e.jsx(i,{label:"Year",value:r?.year}),e.jsx(i,{label:"Plate",value:r?.license_plate}),e.jsx(i,{label:"Color",value:r?.color}),e.jsx(i,{label:"Transmission",value:r?.transmission}),e.jsx(i,{label:"Fuel",value:r?.fuel_type})]}),e.jsx("div",{className:"border-t pt-3"})]}),e.jsx("div",{className:"text-sm font-semibold",children:"Locations"}),e.jsxs("div",{className:"grid grid-cols-2 gap-x-10 gap-y-3",children:[e.jsx(i,{label:"Pickup",value:t?.pickup_location??"N/A"}),e.jsx(i,{label:"Dropoff",value:t?.dropoff_location??"N/A"}),e.jsx(i,{label:"Delivery Address",value:t?.delivery_location?.address??"N/A"}),e.jsx(i,{label:"Return Address",value:t?.return_location?.address??"N/A"})]}),t?.reason_of_booking&&e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"border-t pt-3"}),e.jsx("div",{className:"text-sm font-semibold",children:"Reason / Notes"}),e.jsx("div",{className:"text-sm text-muted-foreground whitespace-pre-wrap",children:t?.reason_of_booking})]}),e.jsx("div",{className:"pt-3 flex gap-2 justify-end",children:e.jsx(Q,{variant:"outline",className:"w-28",onClick:a,children:"Close"})})]})}const kde={paid:"bg-green-100 text-green-700",pending:"bg-yellow-100 text-yellow-700",cancelled:"bg-red-100 text-red-700"},Sde={income:"bg-blue-100 text-blue-700",expense:"bg-purple-100 text-purple-700"};function Ade(t,s=14){return t?t.length>s?`${t.slice(0,s)}...`:t:"N/A"}function Tde(){const[t,s]=x.useState([]),[a,n]=x.useState(!1),[r,i]=x.useState(""),[l,d]=x.useState(!1),[u,h]=x.useState(!1),[p,f]=x.useState(null),[y,v]=x.useState(!1),[j,N]=x.useState(null),[w,_]=x.useState(!1),[T,R]=x.useState({user_id:"",amount:"",source:"cash",type:"income",status:"pending",due_date:"",description:""}),E=async()=>{n(!0);try{const{data:X}=await xe.get("/admin/payments",{params:{per_page:50}});s(X.payments?.data||[])}catch{se.error("Failed to load payments")}finally{n(!1)}};x.useEffect(()=>{E()},[]);const A=x.useMemo(()=>{let X=[...t];return r&&(X=X.filter(ne=>`${ne.id} ${ne.reference_id} ${ne.user?.first_name??""} ${ne.user?.last_name??""}`.toLowerCase().includes(r.toLowerCase()))),X.sort((ne,te)=>l?ne.amount-te.amount:te.amount-ne.amount),X},[t,r,l]),V=X=>{f(X),h(!0)},k=X=>{N({...X}),v(!0)},B=async()=>{try{const X={status:j.status,source:j.source,due_date:j.due_date,description:j.description};await xe.put(`/admin/payments/${j.id}`,X),se.success("Payment updated"),v(!1),E()}catch{se.error("Failed to update payment")}},P=async()=>{try{const X={user_id:Number(T.user_id),amount:Number(T.amount),source:T.source,type:T.type,status:T.status,due_date:T.due_date,description:T.description};await xe.post("/admin/payments",X),se.success("Payment created"),_(!1),R({user_id:"",amount:"",source:"cash",type:"income",status:"pending",due_date:"",description:""}),E()}catch{se.error("Failed to create payment")}},H="/avatar.png",D="https://rento-lb.com/api/storage/",K=X=>{const ne=X?.user.profile_picture;if(!ne)return H;if(ne.startsWith("http"))return ne;const te=ne.startsWith("/")?ne.slice(1):ne;return D+te};return e.jsxs("div",{className:"p-6 space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Payments"}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Q,{size:"sm",onClick:()=>_(!0),children:[e.jsx(Gs,{size:16,className:"mr-1"}),"Add Payment"]}),e.jsx(oe,{placeholder:"Search",className:"h-8 w-48 text-xs",value:r,onChange:X=>i(X.target.value)}),e.jsx(Q,{size:"icon",variant:"ghost","aria-label":"Sort amount",onClick:()=>d(!l),children:e.jsx(c$,{size:16})}),e.jsx(Q,{size:"icon",variant:"ghost","aria-label":"Refresh payments",onClick:E,children:e.jsx(Nt,{size:16})})]})]}),e.jsx("div",{className:"rounded-xl border bg-background",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"ID"}),e.jsx(J,{children:"User"}),e.jsx(J,{children:"Type"}),e.jsx(J,{children:"Status"}),e.jsx(J,{children:"Source"}),e.jsx(J,{children:"Amount"}),e.jsx(J,{className:"text-right",children:"Actions"})]})}),e.jsxs(wt,{children:[A.map(X=>e.jsxs(Ne,{children:[e.jsx(Y,{children:e.jsx("span",{className:"item-name-hover inline-flex items-center gap-2 cursor-pointer",title:Ede(X),role:"button",tabIndex:0,onClick:()=>V(X),children:X.id})}),e.jsx(Y,{children:e.jsxs("span",{className:"item-name-hover inline-flex items-center gap-2 cursor-pointer",title:Dde(X),children:[e.jsx("img",{src:K(X),alt:X.user.username||"User",className:"h-7 w-7 rounded-full object-cover",onError:ne=>{ne.currentTarget.onerror=null,ne.currentTarget.src="/avatar.png"}}),Ade(X.user?`${X.user.first_name} ${X.user.last_name}`:"",14)]})}),e.jsx(Y,{children:e.jsx(Re,{className:Sde[X.type],children:X.type})}),e.jsx(Y,{children:e.jsx(Re,{className:kde[X.status],children:X.status})}),e.jsx(Y,{children:X.source}),e.jsxs(Y,{children:["$",X.amount]}),e.jsxs(Y,{className:"flex justify-end gap-1",children:[e.jsx(Q,{size:"icon",variant:"ghost","aria-label":"View payment",onClick:()=>V(X),children:e.jsx(Ys,{size:16})}),e.jsx(Q,{size:"icon",variant:"ghost","aria-label":"Edit payment",onClick:()=>k(X),children:e.jsx(ca,{size:16})})]})]},X.id)),!a&&A.length===0&&e.jsx(Ne,{children:e.jsx(Y,{colSpan:7,className:"text-center py-10 text-muted-foreground",children:"No payments found"})})]})]})}),e.jsx(La,{open:u,onOpenChange:h,children:e.jsxs(ka,{className:"max-w-3xl",children:[e.jsxs(Sa,{children:[e.jsx(Aa,{children:"Payment Details"}),e.jsx(ji,{children:"Read-only"})]}),p&&e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[e.jsxs("div",{children:[e.jsx("b",{children:"ID:"})," ",p.id]}),e.jsxs("div",{children:[e.jsx("b",{children:"Reference:"})," ",p.reference_id]}),e.jsxs("div",{children:[e.jsx("b",{children:"User:"})," ",p.user?.first_name," ",p.user?.last_name]}),e.jsxs("div",{children:[e.jsx("b",{children:"Type:"})," ",p.type]}),e.jsxs("div",{children:[e.jsx("b",{children:"Status:"})," ",p.status]}),e.jsxs("div",{children:[e.jsx("b",{children:"Source:"})," ",p.source]}),e.jsxs("div",{children:[e.jsx("b",{children:"Amount:"})," $",p.amount]}),e.jsxs("div",{children:[e.jsx("b",{children:"Due:"})," ",new Date(p.due_date).toLocaleString()]}),e.jsxs("div",{className:"col-span-2",children:[e.jsx("b",{children:"Description:"})," ",p.description||""]})]})]})}),e.jsx(La,{open:y,onOpenChange:v,children:e.jsxs(ka,{className:"max-w-xl",children:[e.jsxs(Sa,{children:[e.jsx(Aa,{children:"Edit Payment"}),e.jsx(ji,{children:"Editable fields only"})]}),j&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(W,{children:"Status"}),e.jsxs(et,{value:j.status,onValueChange:X=>N({...j,status:X}),children:[e.jsx(Ze,{children:e.jsx(tt,{})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"pending",children:"Pending"}),e.jsx(ce,{value:"paid",children:"Paid"}),e.jsx(ce,{value:"cancelled",children:"Cancelled"})]})]})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Source"}),e.jsx(oe,{value:j.source,onChange:X=>N({...j,source:X.target.value})})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Due Date"}),e.jsx(oe,{type:"datetime-local",value:j.due_date?.slice(0,16),onChange:X=>N({...j,due_date:X.target.value})})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Description"}),e.jsx(oe,{value:j.description||"",onChange:X=>N({...j,description:X.target.value})})]}),e.jsx(Q,{className:"w-full",onClick:B,children:"Save Changes"})]})]})}),e.jsx(La,{open:w,onOpenChange:_,children:e.jsxs(ka,{className:"max-w-xl",children:[e.jsxs(Sa,{children:[e.jsx(Aa,{children:"Add Payment"}),e.jsx(ji,{children:"Create a new payment"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx(oe,{type:"number",placeholder:"User ID",value:T.user_id,onChange:X=>R({...T,user_id:X.target.value})}),e.jsx(oe,{type:"number",placeholder:"Amount",value:T.amount,onChange:X=>R({...T,amount:X.target.value})}),e.jsxs(et,{value:T.type,onValueChange:X=>R({...T,type:X}),children:[e.jsx(Ze,{children:e.jsx(tt,{})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"income",children:"Income"}),e.jsx(ce,{value:"expense",children:"Expense"})]})]}),e.jsxs(et,{value:T.status,onValueChange:X=>R({...T,status:X}),children:[e.jsx(Ze,{children:e.jsx(tt,{})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"pending",children:"Pending"}),e.jsx(ce,{value:"paid",children:"Paid"}),e.jsx(ce,{value:"cancelled",children:"Cancelled"})]})]}),e.jsxs(et,{value:T.source,onValueChange:X=>R({...T,source:X}),children:[e.jsx(Ze,{children:e.jsx(tt,{})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"cash",children:"Cash"}),e.jsx(ce,{value:"bank",children:"Bank"})]})]}),e.jsx(oe,{type:"datetime-local",value:T.due_date,onChange:X=>R({...T,due_date:X.target.value})}),e.jsx(oe,{placeholder:"Description",value:T.description,onChange:X=>R({...T,description:X.target.value})}),e.jsx(Q,{className:"w-full",onClick:P,children:"Create Payment"})]})]})})]})}function Dde(t){if(!t)return"";const s=t.user||{};return[`User ID : ${s.id??"N/A"}`,`Real User ID : ${s.real_user_id??"N/A"}`,`Username : ${s.username??"N/A"}`,`Phone Number : ${s.phone_number??"N/A"}`,`Email : ${s.email??"N/A"}`,`Verified ByAadmin : ${s.verified_by_admin??"N/A"}`,`Gender : ${s.gender??"N/A"}`,`Birth Date : ${Rde(s.birth_date??"N/A")}`,`City : ${s.city??"N/A"}`,`Bio : ${s.bio??"N/A"}`,`Role : ${s.role??"N/A"}`].join(`
`)}function Ede(t){return t?[`User ID : ${t.user_id??"N/A"}`,`Name : ${t.name??"N/A"}`,`Issue Date : ${rT(t.issue_date??"N/A")}`,`Due Date : ${rT(t.due_date??"N/A")}`,`Reference ID : ${t.reference_id??"N/A"}`,`Description : ${t.description??"N/A"}`].join(`
`):""}function Rde(t){if(!t)return"N/A";const s=new Date(t);return Number.isNaN(s.getTime())?String(t):s.toLocaleDateString("en-US",{month:"numeric",day:"numeric",year:"numeric"})}function rT(t){if(!t)return"N/A";const s=new Date(t);return Number.isNaN(s.getTime())?String(t):s.toLocaleString("en-US",{timeZone:"Asia/Beirut",month:"numeric",day:"numeric",year:"numeric",hour:"numeric",minute:"2-digit",second:"2-digit",hour12:!0})}const Mde=()=>{const[t,s]=x.useState([]),[a,n]=x.useState(!1),[r,i]=x.useState(!1),l=async()=>{i(!0);try{const{data:u}=await toe();s(u.ads.data)}finally{i(!1)}};x.useEffect(()=>{l()},[]);const d=async u=>{if(confirm("Delete this ad?"))try{await aoe(u),rn({title:"Ad deleted"}),l()}catch{rn({title:"Failed to delete ad",variant:"destructive"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Ads"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Q,{size:"sm","aria-label":"Create new ad",onClick:()=>n(u=>!u),children:[e.jsx(Gs,{className:"h-4 w-4 mr-1"}),"Create Ad"]}),e.jsx(Q,{size:"icon","aria-label":"refresh data",variant:"outline",onClick:l,children:e.jsx(Nt,{className:"h-4 w-4"})})]})]}),a&&e.jsxs(Ae,{children:[e.jsx(ns,{children:e.jsx(rs,{children:"Create Advertisement"})}),e.jsx(Ee,{children:e.jsx(mO,{onSuccess:()=>{n(!1),l()}})})]}),e.jsx(Ae,{children:e.jsxs(Ee,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"ID"}),e.jsx(J,{children:"Website"}),e.jsx(J,{children:"Company"}),e.jsx(J,{children:"User"}),e.jsx(J,{children:"Online"}),e.jsx(J,{children:"Views"}),e.jsx(J,{children:"Clicks"}),e.jsx(J,{children:"Cost"}),e.jsx(J,{className:"text-right",children:"Actions"})]})}),e.jsx(wt,{children:t.map(u=>e.jsxs(Ne,{children:[e.jsx(Y,{children:u.id}),e.jsx(Y,{className:"max-w-[160px] truncate",children:e.jsx("a",{href:u.website,target:"_blank",className:"text-blue-400 hover:underline",children:u.website})}),e.jsx(Y,{children:u.company_type}),e.jsx(Y,{children:u.user?.username??""}),e.jsx(Y,{children:e.jsx(Re,{variant:u.online?"success":"secondary",children:u.online?"Online":"Offline"})}),e.jsx(Y,{children:u.nb_views}),e.jsx(Y,{children:u.nb_clicks}),e.jsxs(Y,{children:["$",Number(u.amount_cost).toFixed(2)]}),e.jsx(Y,{className:"text-right",children:e.jsx(Q,{size:"sm",variant:"destructive","aria-label":"Delete ad",onClick:()=>d(u.id),children:e.jsx(Dm,{className:"h-3 w-3"})})})]},u.id))})]})}),!r&&t.length===0&&e.jsx("p",{className:"text-center text-muted-foreground py-6",children:"No ads found"})]})})]})},Pde=()=>{const[t,s]=x.useState([]),[a,n]=x.useState(!1),[r,i]=x.useState(!1),l=async()=>{i(!0);try{const{data:h}=await noe();s(h.featured_cars.data)}finally{i(!1)}};x.useEffect(()=>{l()},[]);const d=async h=>{if(confirm("Delete this featured car?"))try{await ioe(h),rn({title:"Featured car removed"}),l()}catch{rn({title:"Failed to delete featured car",variant:"destructive"})}},u=(h,p)=>{const f=new Date(h),y=new Date(p);return`${Math.ceil((y-f)/(1e3*60*60*24))||0} days`};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Featured Cars"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Q,{size:"sm","aria-label":"Create new featured car",onClick:()=>n(h=>!h),children:[e.jsx(Gs,{className:"h-4 w-4 mr-1"}),"Create Featured Car"]}),e.jsx(Q,{size:"icon","aria-label":"refresh data",variant:"outline",onClick:l,children:e.jsx(Nt,{className:"h-4 w-4"})})]})]}),a&&e.jsxs(Ae,{children:[e.jsx(ns,{children:e.jsx(rs,{children:"Create Featured Car"})}),e.jsx(Ee,{children:e.jsx(fO,{onSuccess:()=>{n(!1),l()}})})]}),e.jsx(Ae,{children:e.jsxs(Ee,{children:[e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"ID"}),e.jsx(J,{children:"Car"}),e.jsx(J,{children:"Duration"}),e.jsx(J,{children:"Start Date"}),e.jsx(J,{children:"Expire Date"}),e.jsx(J,{className:"text-right",children:"Actions"})]})}),e.jsx(wt,{children:t.map(h=>e.jsxs(Ne,{children:[e.jsx(Y,{children:h.id}),e.jsxs(Y,{children:[h.car?.make," ",h.car?.model]}),e.jsx(Y,{children:u(h.start_at,h.expire_at)}),e.jsx(Y,{children:new Date(h.start_at).toLocaleDateString()}),e.jsx(Y,{children:new Date(h.expire_at).toLocaleDateString()}),e.jsx(Y,{className:"text-right",children:e.jsx(Q,{size:"icon","aria-label":"Delete featured car",variant:"destructive",onClick:()=>d(h.id),children:e.jsx(Dm,{className:"h-3 w-3"})})})]},h.id))})]})}),!r&&t.length===0&&e.jsx("p",{className:"text-center text-muted-foreground py-6",children:"No featured cars found"})]})})]})},Ode=({onSuccess:t})=>{const[s,a]=x.useState(!1),[n,r]=x.useState({car_id:"",holiday_name:"",start:"",end:"",percentage_increase:"",is_active:!0}),i=(d,u)=>r(h=>({...h,[d]:u})),l=async d=>{d.preventDefault(),a(!0);try{await loe({car_id:Number(n.car_id),holiday_name:n.holiday_name,holiday_dates:{start:n.start,end:n.end},percentage_increase:Number(n.percentage_increase),is_active:n.is_active}),rn({title:"Holiday created"}),t?.()}catch{rn({title:"Failed to create holiday",variant:"destructive"})}finally{a(!1)}};return e.jsxs("form",{onSubmit:l,className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{children:"Car ID"}),e.jsx(oe,{value:n.car_id,onChange:d=>i("car_id",d.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Holiday Name"}),e.jsx(oe,{value:n.holiday_name,onChange:d=>i("holiday_name",d.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Start Date"}),e.jsx(oe,{type:"date",value:n.start,onChange:d=>i("start",d.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"End Date"}),e.jsx(oe,{type:"date",value:n.end,onChange:d=>i("end",d.target.value),required:!0})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Increase %"}),e.jsx(oe,{type:"number",step:"0.01",value:n.percentage_increase,onChange:d=>i("percentage_increase",d.target.value),required:!0})]}),e.jsxs("div",{className:"flex items-center gap-3 mt-6",children:[e.jsx(fn,{checked:n.is_active,onCheckedChange:d=>i("is_active",d)}),e.jsx(W,{children:"Active"})]}),e.jsx("div",{className:"md:col-span-2 flex justify-end gap-2",children:e.jsx(Q,{type:"submit",disabled:s,children:s?"Saving...":"Create Holiday"})})]})},Lde=()=>{const[t,s]=x.useState([]),[a,n]=x.useState(!1),[r,i]=x.useState(!0),l=async()=>{i(!0);try{const u=await ooe();console.log("HOLIDAYS API RESPONSE:",u.data),s(u.data.holidays.data)}catch(u){console.error(u),rn({title:"Failed to load holidays",variant:"destructive"})}finally{i(!1)}};x.useEffect(()=>{l()},[]);const d=async u=>{if(confirm("Delete this holiday?"))try{await coe(u),rn({title:"Holiday deleted"}),l()}catch{rn({title:"Failed to delete holiday",variant:"destructive"})}};return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Holidays"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Q,{size:"sm","aria-label":"Create new holiday",onClick:()=>n(u=>!u),children:[e.jsx(Gs,{className:"h-4 w-4 mr-1"}),"Create Holiday"]}),e.jsx(Q,{size:"icon","aria-label":"refresh data",variant:"outline",onClick:l,children:e.jsx(Nt,{className:"h-4 w-4"})})]})]}),a&&e.jsxs(Ae,{children:[e.jsx(ns,{children:e.jsx(rs,{children:"Create Holiday"})}),e.jsx(Ee,{children:e.jsx(Ode,{onSuccess:()=>{n(!1),l()}})})]}),e.jsx(Ae,{children:e.jsx(Ee,{children:r?e.jsx("p",{className:"text-center py-6 text-muted-foreground",children:"Loading holidays..."}):t.length===0?e.jsx("p",{className:"text-center py-6 text-muted-foreground",children:"No holidays found"}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"ID"}),e.jsx(J,{children:"Car"}),e.jsx(J,{children:"Holiday Name"}),e.jsx(J,{children:"Dates"}),e.jsx(J,{children:"Increase %"}),e.jsx(J,{children:"Active"}),e.jsx(J,{className:"text-right",children:"Actions"})]})}),e.jsx(wt,{children:t.map(u=>e.jsxs(Ne,{children:[e.jsx(Y,{children:u.id}),e.jsxs(Y,{children:[u.car?.make," ",u.car?.model]}),e.jsx(Y,{children:u.holiday_name}),e.jsxs(Y,{className:"text-xs",children:[u.holiday_dates.start," "," ",u.holiday_dates.end]}),e.jsxs(Y,{children:[u.percentage_increase,"%"]}),e.jsx(Y,{children:e.jsx(Re,{variant:u.is_active?"success":"secondary",children:u.is_active?"Yes":"No"})}),e.jsx(Y,{className:"text-right",children:e.jsx(Q,{size:"icon","aria-label":"Delete holiday",variant:"destructive",onClick:()=>d(u.id),children:e.jsx(Dm,{className:"h-3 w-3"})})})]},u.id))})]})})})})]})};function Bde(){const[t,s]=x.useState([]),[a,n]=x.useState(null),[r,i]=x.useState(!0),[l,d]=x.useState({search:"",status:"",page:1}),u=x.useCallback(async()=>{i(!0);try{const f=await Qie({search:l.search||void 0,status:l.status||void 0,page:l.page});console.log("ANNOUNCEMENTS API RESPONSE:",f.data),s(f.data.announcements.data),n(f.data.announcements)}catch(f){console.error(f),rn({title:"Failed to load announcements",variant:"destructive"})}finally{i(!1)}},[l]);return x.useEffect(()=>{u()},[u]),{announcements:t,meta:a,loading:r,filters:l,setFilters:d,refresh:()=>{u()},removeAnnouncement:async f=>{if(confirm("Delete this announcement?"))try{await Zie(f),rn({title:"Announcement deleted"}),u()}catch{rn({title:"Failed to delete announcement",variant:"destructive"})}}}}function Fde(){const{announcements:t,meta:s,loading:a,filters:n,setFilters:r,refresh:i,removeAnnouncement:l}=Bde();return console.log("ANNOUNCEMENTS IN PAGE:",t),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Announcements"}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx(oe,{className:"w-56",placeholder:"Search...",value:n.search,onChange:d=>r({...n,search:d.target.value,page:1})}),e.jsxs(et,{value:n.status,onValueChange:d=>r({...n,status:d,page:1}),children:[e.jsx(Ze,{className:"w-36",children:e.jsx(tt,{placeholder:"Status"})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"draft",children:"Draft"}),e.jsx(ce,{value:"published",children:"Published"})]})]}),e.jsx(Q,{variant:"outline",onClick:i,children:e.jsx(gu,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"border rounded-xl bg-card",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"ID"}),e.jsx(J,{children:"Title"}),e.jsx(J,{children:"Status"}),e.jsx(J,{children:"Priority"}),e.jsx(J,{children:"Audience"}),e.jsx(J,{className:"text-right",children:"Actions"})]})}),e.jsxs(wt,{children:[t.map(d=>e.jsxs(Ne,{children:[e.jsx(Y,{children:d.id}),e.jsx(Y,{className:"font-medium",children:d.title}),e.jsx(Y,{children:e.jsx(Re,{children:d.status})}),e.jsx(Y,{children:d.priority}),e.jsx(Y,{children:d.target_audience?.length?d.target_audience.join(", "):"All"}),e.jsx(Y,{className:"text-right",children:e.jsx(Q,{size:"icon","aria-label":"Delete announcement",variant:"destructive",onClick:()=>l(d.id),children:e.jsx(Dm,{className:"w-3 h-3"})})})]},d.id)),!a&&t.length===0&&e.jsx(Ne,{children:e.jsx(Y,{colSpan:6,className:"text-center py-6 text-muted-foreground",children:"No announcements found"})})]})]})}),s&&e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",s.from,"",s.to," of ",s.total]})]})}function Ide(){const[t,s]=x.useState([]),[a,n]=x.useState(null),[r,i]=x.useState(!0),[l,d]=x.useState({search:"",status:"",page:1}),u=x.useCallback(async()=>{i(!0);try{const f=await Jie({search:l.search||void 0,status:l.status||void 0,page:l.page});console.log("APPEALS API RESPONSE:",f.data),s(f.data.appeals.data),n(f.data.appeals)}catch(f){console.error(f),rn({title:"Failed to load appeals",variant:"destructive"})}finally{i(!1)}},[l]);return x.useEffect(()=>{u()},[u]),{appeals:t,meta:a,loading:r,filters:l,setFilters:d,refresh:()=>u(),updateStatus:async(f,y)=>{try{await eoe(f,y),rn({title:"Appeal updated"}),u()}catch{rn({title:"Failed to update appeal",variant:"destructive"})}}}}function $de(){const{appeals:t,meta:s,loading:a,filters:n,setFilters:r,refresh:i,updateStatus:l}=Ide();return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Appeals"}),e.jsxs("div",{className:"flex gap-2 flex-wrap",children:[e.jsx(oe,{className:"w-56",placeholder:"Search...",value:n.search,onChange:d=>r({...n,search:d.target.value,page:1})}),e.jsxs(et,{value:n.status||"all",onValueChange:d=>r({...n,status:d==="all"?"":d,page:1}),children:[e.jsx(Ze,{className:"w-36",children:e.jsx(tt,{placeholder:"Status"})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"all",children:"All"}),e.jsx(ce,{value:"submitted",children:"Submitted"}),e.jsx(ce,{value:"under_review",children:"Under Review"}),e.jsx(ce,{value:"resolved",children:"Resolved"}),e.jsx(ce,{value:"rejected",children:"Rejected"})]})]}),e.jsx(Q,{variant:"outline",onClick:i,children:e.jsx(gu,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"border rounded-xl bg-card",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"ID"}),e.jsx(J,{children:"User"}),e.jsx(J,{children:"Message"}),e.jsx(J,{children:"Status"}),e.jsx(J,{className:"text-right",children:"Actions"})]})}),e.jsxs(wt,{children:[t.map(d=>e.jsxs(Ne,{children:[e.jsx(Y,{children:d.id}),e.jsx(Y,{children:d.user?.username??""}),e.jsx(Y,{className:"max-w-xs truncate",children:d.message}),e.jsx(Y,{children:e.jsx(Re,{children:d.status})}),e.jsx(Y,{className:"text-right",children:e.jsx(Q,{size:"sm",onClick:()=>l(d.id,{status:"resolved"}),children:"Resolve"})})]},d.id)),!a&&t.length===0&&e.jsx(Ne,{children:e.jsx(Y,{colSpan:5,className:"text-center py-6 text-muted-foreground",children:"No appeals found"})})]})]})}),s&&e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",s.from,"",s.to," of ",s.total]})]})}function zde(){const[t,s]=x.useState([]),[a,n]=x.useState(null),[r,i]=x.useState(!1),[l,d]=x.useState({page:1}),u=x.useCallback(async()=>{try{i(!0);const p=(await xe.get("/admin/suggestions",{params:{page:l.page}})).data?.suggestions;s(p?.data||[]),n({current_page:p?.current_page,last_page:p?.last_page,from:p?.from,to:p?.to,total:p?.total})}catch(h){console.error("Failed to fetch suggestions:",h),s([]),n(null)}finally{i(!1)}},[l.page]);return x.useEffect(()=>{u()},[u]),{suggestions:t,meta:a,loading:r,filters:l,setFilters:d,refresh:u}}function Vde(){const{suggestions:t,meta:s,loading:a,filters:n,setFilters:r,refresh:i}=zde();return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Suggestions"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(Q,{variant:"outline",onClick:i,children:[e.jsx(gu,{className:"w-4 h-4 mr-2"}),"Refresh"]}),s&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{size:"icon",variant:"outline","aria-label":"Previous Page",disabled:s.current_page===1,onClick:()=>r({...n,page:s.current_page-1}),children:e.jsx(jo,{className:"w-4 h-4"})}),e.jsxs("span",{className:"text-sm",children:["Page ",s.current_page," of ",s.last_page]}),e.jsx(Q,{size:"icon",variant:"outline","aria-label":"Next Page",disabled:s.current_page===s.last_page,onClick:()=>r({...n,page:s.current_page+1}),children:e.jsx(sn,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"border rounded-xl bg-card",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"ID"}),e.jsx(J,{children:"User"}),e.jsx(J,{children:"Message"}),e.jsx(J,{children:"Created At"})]})}),e.jsxs(wt,{children:[t.map(l=>e.jsxs(Ne,{children:[e.jsx(Y,{children:l.id}),e.jsx(Y,{children:l.user?.username||""}),e.jsx(Y,{className:"max-w-[400px] truncate",children:l.message||l.suggestion||""}),e.jsx(Y,{children:new Date(l.created_at).toLocaleString()})]},l.id)),!a&&t.length===0&&e.jsx(Ne,{children:e.jsx(Y,{colSpan:4,className:"text-center py-6 text-muted-foreground",children:"No suggestions found"})}),a&&e.jsx(Ne,{children:e.jsx(Y,{colSpan:4,className:"text-center py-6 text-muted-foreground",children:"Loading..."})})]})]})}),s&&e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",s.from,"",s.to," of ",s.total]})]})}function Ude(){const[t,s]=x.useState([]),[a,n]=x.useState(null),[r,i]=x.useState(!1),[l,d]=x.useState({page:1}),u=x.useCallback(async()=>{try{i(!0);const y=(await xe.get("/admin/notifications",{params:{page:l.page}})).data?.notifications;s(y?.data||[]),n({current_page:y?.current_page,last_page:y?.last_page,from:y?.from,to:y?.to,total:y?.total})}catch(f){console.error("Failed to fetch notifications:",f),s([]),n(null)}finally{i(!1)}},[l.page]);return x.useEffect(()=>{u()},[u]),{notifications:t,meta:a,loading:r,filters:l,setFilters:d,refresh:u,deleteNotification:async f=>{if(confirm("Delete this notification?"))try{await xe.delete(`/admin/notifications/${f}`),u()}catch(y){console.error("Delete failed:",y)}},sendToAll:async()=>{const f=prompt("Notification title:");if(!f)return;const y=prompt("Notification message:");if(y)try{await poe({title:f,message:y,type:"general"}),alert("Notification sent to all users"),u()}catch(v){console.error("Send failed:",v),alert("Failed to send notification")}}}}function Hde(){const{notifications:t,meta:s,loading:a,filters:n,setFilters:r,refresh:i,deleteNotification:l,sendToAll:d}=Ude();return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Notifications"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Q,{variant:"outline",onClick:i,children:[e.jsx(gu,{className:"w-4 h-4 mr-2"}),"Refresh"]}),e.jsxs(Q,{onClick:d,children:[e.jsx(ux,{className:"w-4 h-4 mr-2"}),"Send to All"]})]}),s&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{size:"icon",variant:"outline","aria-label":"Previous Page",disabled:s.current_page===1,onClick:()=>r({...n,page:s.current_page-1}),children:e.jsx(jo,{className:"w-4 h-4"})}),e.jsxs("span",{className:"text-sm",children:["Page ",s.current_page," of ",s.last_page]}),e.jsx(Q,{size:"icon",variant:"outline","aria-label":"Next Page",disabled:s.current_page===s.last_page,onClick:()=>r({...n,page:s.current_page+1}),children:e.jsx(sn,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"border rounded-xl bg-card",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"ID"}),e.jsx(J,{children:"Title"}),e.jsx(J,{children:"Type"}),e.jsx(J,{children:"Read"}),e.jsx(J,{children:"Sent"}),e.jsx(J,{children:"Created"}),e.jsx(J,{className:"text-right",children:"Actions"})]})}),e.jsxs(wt,{children:[t.map(u=>e.jsxs(Ne,{children:[e.jsx(Y,{children:u.id}),e.jsx(Y,{className:"font-medium",children:u.title||""}),e.jsx(Y,{children:e.jsx(Re,{variant:"outline",children:u.type||"general"})}),e.jsx(Y,{children:e.jsx(Re,{variant:u.is_read?"success":"secondary",children:u.is_read?"Yes":"No"})}),e.jsx(Y,{children:e.jsx(Re,{variant:u.sent?"success":"secondary",children:u.sent?"Yes":"No"})}),e.jsx(Y,{children:new Date(u.created_at).toLocaleString()}),e.jsx(Y,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(Q,{size:"icon","aria-label":"Edit",variant:"ghost",children:e.jsx(ca,{className:"w-3 h-3"})}),e.jsx(Q,{size:"icon",variant:"ghost","aria-label":"Delete",onClick:()=>l(u.id),children:e.jsx(Dm,{className:"w-3 h-3 text-red-500"})})]})})]},u.id)),!a&&t.length===0&&e.jsx(Ne,{children:e.jsx(Y,{colSpan:7,className:"text-center py-6 text-muted-foreground",children:"No notifications found"})}),a&&e.jsx(Ne,{children:e.jsx(Y,{colSpan:7,className:"text-center py-6 text-muted-foreground",children:"Loading..."})})]})]})}),s&&e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",s.from,"",s.to," of ",s.total]})]})}function qde(){const[t,s]=x.useState([]),[a,n]=x.useState(null),[r,i]=x.useState(!1),[l,d]=x.useState({page:1}),u=x.useCallback(async()=>{try{i(!0);const p=(await xe.get("/admin/otps",{params:{page:l.page}})).data?.otps;s(p?.data||[]),n({current_page:p?.current_page,last_page:p?.last_page,from:p?.from,to:p?.to,total:p?.total})}catch(h){console.error("Failed to fetch OTPs:",h),s([]),n(null)}finally{i(!1)}},[l.page]);return x.useEffect(()=>{u()},[u]),{otps:t,meta:a,loading:r,filters:l,setFilters:d,refresh:u}}function Gde(){const{otps:t,meta:s,loading:a,filters:n,setFilters:r,refresh:i}=qde(),l=d=>new Date(d)<new Date;return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"OTPs"}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsxs(Q,{variant:"outline",onClick:i,children:[e.jsx(gu,{className:"w-4 h-4 mr-2"}),"Refresh"]}),s&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Q,{size:"icon",variant:"outline","aria-label":"Previous Page",disabled:s.current_page===1,onClick:()=>r({...n,page:s.current_page-1}),children:e.jsx(jo,{className:"w-4 h-4"})}),e.jsxs("span",{className:"text-sm",children:["Page ",s.current_page," of ",s.last_page]}),e.jsx(Q,{size:"icon",variant:"outline","aria-label":"Next Page",disabled:s.current_page===s.last_page,onClick:()=>r({...n,page:s.current_page+1}),children:e.jsx(sn,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"border rounded-xl bg-card",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"ID"}),e.jsx(J,{children:"Phone Number"}),e.jsx(J,{children:"OTP Code"}),e.jsx(J,{children:"Created At"}),e.jsx(J,{children:"Expires At"}),e.jsx(J,{children:"Status"})]})}),e.jsxs(wt,{children:[t.map(d=>{const u=l(d.expires_at);return e.jsxs(Ne,{children:[e.jsx(Y,{children:d.id}),e.jsx(Y,{children:d.phone_number}),e.jsx(Y,{className:"font-mono",children:d.code}),e.jsx(Y,{children:new Date(d.created_at).toLocaleString()}),e.jsx(Y,{children:new Date(d.expires_at).toLocaleString()}),e.jsx(Y,{children:e.jsx(Re,{variant:u?"destructive":"default",children:u?"Expired":"Active"})})]},d.id)}),!a&&t.length===0&&e.jsx(Ne,{children:e.jsx(Y,{colSpan:6,className:"text-center py-6 text-muted-foreground",children:"No OTPs found"})}),a&&e.jsx(Ne,{children:e.jsx(Y,{colSpan:6,className:"text-center py-6 text-muted-foreground",children:"Loading..."})})]})]})}),s&&e.jsxs("div",{className:"text-sm text-muted-foreground",children:["Showing ",s.from,"",s.to," of ",s.total]})]})}function Wde(){const[t,s]=x.useState([]),[a,n]=x.useState([]),[r,i]=x.useState(!0),[l,d]=x.useState({broker_id:"all",is_active:"all"}),[u,h]=x.useState({open:!1,title:"",message:"",onConfirm:null}),[p,f]=x.useState({open:!1,type:null,item:null}),[y,v]=x.useState({code:"",broker_id:"",description:"",max_uses:"",commission_percentage:"",is_active:!0,expires_at:"",username:"",phone_number:"",email:"",password:"",password_confirmation:"",first_name:"",last_name:""}),j=x.useCallback(async()=>{i(!0);try{const k={per_page:100};l.broker_id!=="all"&&(k.broker_id=l.broker_id),l.is_active!=="all"&&(k.is_active=l.is_active);const B=await W3(k),P=B.data?.data??B.data?.promo_codes??B.data;s(Array.isArray(P)?P:[])}catch(k){console.error(k),se.error("Failed to load promo codes"),s([])}finally{i(!1)}},[l.broker_id,l.is_active]),N=x.useCallback(async()=>{try{const k=await wm({role:"broker",per_page:200}),B=k.data?.users?.data??k.data?.users??k.data?.data;n(Array.isArray(B)?B:[])}catch(k){console.error(k),n([])}},[]);x.useEffect(()=>{j()},[j]),x.useEffect(()=>{N()},[N]);const w=k=>{h({open:!0,title:"Delete Promo Code",message:`Are you sure you want to delete "${k.code}"?`,onConfirm:async()=>{try{await X3(k.id),se.success("Promo code deleted"),j()}catch(B){se.error(B.response?.data?.message||"Delete failed")}}})},_=k=>{v({code:k.code??"",broker_id:k.broker_id?String(k.broker_id):"",description:k.description??"",max_uses:k.max_uses??"",commission_percentage:k.commission_percentage??"",is_active:k.is_active!==!1,expires_at:k.expires_at?k.expires_at.slice(0,10):""}),f({open:!0,type:"edit",item:k})},T=()=>{v({code:"",broker_id:"",description:"",max_uses:"",commission_percentage:"",is_active:!0,expires_at:""}),f({open:!0,type:"create",item:null})},R=()=>{v({username:"",phone_number:"",email:"",password:"",password_confirmation:"",first_name:"",last_name:""}),f({open:!0,type:"create-broker",item:null})},E=async()=>{try{const k={code:y.code.trim(),broker_id:y.broker_id?parseInt(y.broker_id,10):null,description:y.description.trim()||null,max_uses:y.max_uses?parseInt(y.max_uses,10):null,commission_percentage:y.commission_percentage?parseFloat(y.commission_percentage):0,is_active:y.is_active,expires_at:y.expires_at||null};p.type==="edit"?(await K3(p.item.id,k),se.success("Promo code updated")):(await Y3(k),se.success("Promo code created")),f({open:!1,type:null,item:null}),j()}catch(k){const B=k.response?.data?.message||k.response?.data?.errors&&Object.values(k.response.data.errors).flat().join(" ")||"Failed";se.error(B)}},A=async()=>{try{await M1({username:y.username.trim(),phone_number:y.phone_number.trim(),email:y.email.trim()||void 0,password:y.password,password_confirmation:y.password_confirmation,first_name:y.first_name.trim(),last_name:y.last_name.trim()}),se.success("Broker created"),f({open:!1,type:null,item:null}),N(),j()}catch(k){const B=k.response?.data?.message||k.response?.data?.errors&&Object.values(k.response.data.errors).flat().join(" ")||"Failed";se.error(B)}},V=Array.isArray(t)?t:[];return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Promo Codes"}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs(Q,{onClick:T,children:[e.jsx(Gs,{className:"w-4 h-4 mr-2"}),"Create Promo Code"]}),e.jsxs(Q,{variant:"outline",onClick:R,children:[e.jsx(xs,{className:"w-4 h-4 mr-2"}),"Create Broker"]}),e.jsxs(et,{value:l.broker_id,onValueChange:k=>d(B=>({...B,broker_id:k})),children:[e.jsx(Ze,{className:"w-[180px]",children:e.jsx(tt,{placeholder:"Broker"})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"all",children:"All brokers"}),a.map(k=>e.jsx(ce,{value:String(k.id),children:k.username||[k.first_name,k.last_name].filter(Boolean).join(" ")||`#${k.id}`},k.id))]})]}),e.jsxs(et,{value:l.is_active,onValueChange:k=>d(B=>({...B,is_active:k})),children:[e.jsx(Ze,{className:"w-[130px]",children:e.jsx(tt,{placeholder:"Status"})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"all",children:"All"}),e.jsx(ce,{value:"true",children:"Active"}),e.jsx(ce,{value:"false",children:"Inactive"})]})]})]}),e.jsx(Q,{variant:"outline",size:"icon",onClick:j,"aria-label":"Refresh",children:e.jsx(Nt,{className:"w-4 h-4"})})]}),e.jsx(Ae,{children:e.jsx(Ee,{className:"p-0",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"Code"}),e.jsx(J,{children:"Broker"}),e.jsx(J,{children:"Description"}),e.jsx(J,{children:"Uses"}),e.jsx(J,{children:"Commission %"}),e.jsx(J,{children:"Status"}),e.jsx(J,{children:"Expires"}),e.jsx(J,{className:"w-[100px]",children:"Actions"})]})}),e.jsx(wt,{children:r?e.jsx(Ne,{children:e.jsx(Y,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:"Loading..."})}):V.length===0?e.jsx(Ne,{children:e.jsx(Y,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:"No promo codes found"})}):V.map(k=>e.jsxs(Ne,{children:[e.jsx(Y,{className:"font-mono font-semibold",children:k.code}),e.jsx(Y,{children:k.broker?k.broker.username||[k.broker.first_name,k.broker.last_name].filter(Boolean).join(" ")||"":"N/A"}),e.jsx(Y,{className:"max-w-[200px] truncate",children:k.description||""}),e.jsxs(Y,{children:[k.current_uses??0," / ",k.max_uses??""]}),e.jsxs(Y,{children:[k.commission_percentage??0,"%"]}),e.jsx(Y,{children:e.jsx(Re,{variant:k.is_active?"default":"secondary",children:k.is_active?"Active":"Inactive"})}),e.jsx(Y,{children:k.expires_at?new Date(k.expires_at).toLocaleDateString():"No expiry"}),e.jsx(Y,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>_(k),"aria-label":"Edit",children:e.jsx(ca,{className:"w-4 h-4"})}),e.jsx(Q,{variant:"ghost",size:"icon",onClick:()=>w(k),"aria-label":"Delete",className:"text-destructive",children:e.jsx(Xs,{className:"w-4 h-4"})})]})})]},k.id))})]})})}),e.jsx(La,{open:p.open&&(p.type==="create"||p.type==="edit"),onOpenChange:k=>!k&&f({open:!1,type:null,item:null}),children:e.jsxs(ka,{className:"max-w-md",children:[e.jsx(Sa,{children:e.jsx(Aa,{children:p.type==="edit"?"Edit Promo Code":"Create Promo Code"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(W,{children:"Code"}),e.jsx(oe,{value:y.code,onChange:k=>v(B=>({...B,code:k.target.value})),placeholder:"PROMO20",disabled:p.type==="edit"})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Broker"}),e.jsxs(et,{value:y.broker_id,onValueChange:k=>v(B=>({...B,broker_id:k})),children:[e.jsx(Ze,{children:e.jsx(tt,{placeholder:"Select broker"})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"",children:"None"}),a.map(k=>e.jsx(ce,{value:String(k.id),children:k.username||`#${k.id}`},k.id))]})]})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Description (optional)"}),e.jsx(oe,{value:y.description,onChange:k=>v(B=>({...B,description:k.target.value})),placeholder:"Description"})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx(W,{children:"Max uses (optional)"}),e.jsx(oe,{type:"number",min:0,value:y.max_uses,onChange:k=>v(B=>({...B,max_uses:k.target.value})),placeholder:""})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Commission %"}),e.jsx(oe,{type:"number",min:0,step:.01,value:y.commission_percentage,onChange:k=>v(B=>({...B,commission_percentage:k.target.value}))})]})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Expires at (optional)"}),e.jsx(oe,{type:"date",value:y.expires_at,onChange:k=>v(B=>({...B,expires_at:k.target.value}))})]}),p.type==="edit"&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("input",{type:"checkbox",id:"active",checked:y.is_active,onChange:k=>v(B=>({...B,is_active:k.target.checked}))}),e.jsx(W,{htmlFor:"active",children:"Active"})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(Q,{variant:"outline",onClick:()=>f({open:!1,type:null,item:null}),children:"Cancel"}),e.jsx(Q,{onClick:E,children:p.type==="edit"?"Update":"Create"})]})]})]})}),e.jsx(La,{open:p.open&&p.type==="create-broker",onOpenChange:k=>!k&&f({open:!1,type:null,item:null}),children:e.jsxs(ka,{className:"max-w-md",children:[e.jsx(Sa,{children:e.jsx(Aa,{children:"Create Broker"})}),e.jsxs("div",{className:"space-y-4",children:[["username","first_name","last_name","phone_number","email","password","password_confirmation"].map(k=>e.jsxs("div",{children:[e.jsx(W,{children:k.replace(/_/g," ")}),e.jsx(oe,{type:k.includes("password")?"password":"text",value:y[k],onChange:B=>v(P=>({...P,[k]:B.target.value})),placeholder:k,required:["username","first_name","last_name","phone_number","password","password_confirmation"].includes(k)})]},k)),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(Q,{variant:"outline",onClick:()=>f({open:!1,type:null,item:null}),children:"Cancel"}),e.jsx(Q,{onClick:A,children:"Create Broker"})]})]})]})}),e.jsx(Yx,{open:u.open,onOpenChange:k=>h(B=>({...B,open:k})),children:e.jsxs(Wm,{children:[e.jsxs(Ym,{children:[e.jsx(Xm,{children:u.title}),e.jsx(Qm,{children:u.message})]}),e.jsxs(Km,{children:[e.jsx(Jm,{children:"Cancel"}),e.jsx(Zm,{onClick:u.onConfirm,children:"Confirm"})]})]})})]})}function $d(t){return t?.username||[t?.first_name,t?.last_name].filter(Boolean).join(" ")||`Broker #${t?.id}`}function Yde(){const[t,s]=x.useState([]),[a,n]=x.useState({data:[]}),[r,i]=x.useState(!0),[l,d]=x.useState(null),[u,h]=x.useState("overview"),[p,f]=x.useState(null),[y,v]=x.useState({data:[],statistics:{}}),[j,N]=x.useState({data:[]}),[w,_]=x.useState([]),[T,R]=x.useState("all"),[E,A]=x.useState({open:!1,title:"",message:"",onConfirm:null}),[V,k]=x.useState({open:!1,type:null}),[B,P]=x.useState({username:"",phone_number:"",email:"",password:"",password_confirmation:"",first_name:"",last_name:"",broker_id:"",amount:"",reference:"",notes:""}),H=x.useCallback(async()=>{i(!0);try{const F=await wm({role:"broker",per_page:200}),M=F.data?.users?.data??F.data?.users??F.data?.data;s(Array.isArray(M)?M:[])}catch(F){console.error(F),se.error("Failed to load brokers"),s([])}finally{i(!1)}},[]),D=x.useCallback(async()=>{try{const F=await eO({per_page:100}),M=F.data?.data??F.data?.commissions??F.data;n({data:Array.isArray(M)?M:[]})}catch{n({data:[]})}},[]),K=x.useCallback(async F=>{if(d(F),h("overview"),!!F?.id)try{const[M,z,ie,le]=await Promise.all([Q3(F.id).catch(()=>({data:null})),tx(F.id).catch(()=>({data:{data:[],statistics:{}}})),Z3(F.id).catch(()=>({data:{payouts:{data:[]}}})),Lj(F.id).catch(()=>({data:{referrals:[]}}))]);f(M.data);const re=z.data?.commissions?.data??z.data?.commissions;v({data:Array.isArray(re)?re:[],statistics:z.data?.statistics||{}});const fe=ie.data?.payouts?.data??ie.data?.data??ie.data;N({data:Array.isArray(fe)?fe:[]});const we=le.data?.referrals??le.data?.data??le.data;_(Array.isArray(we)?we:[])}catch{se.error("Failed to load broker detail")}},[]),X=()=>{d(null),f(null),v({data:[],statistics:{}}),N({data:[]}),_([])},ne=async F=>{if(l?.id){R(F);try{const M=await tx(l.id,{status:F==="all"?void 0:F}),z=M.data?.commissions?.data??M.data?.commissions;v({data:Array.isArray(z)?z:[],statistics:M.data?.statistics||{}})}catch(M){console.error(M)}}};x.useEffect(()=>{H(),D()},[H,D]);const te=async()=>{try{await M1({username:B.username.trim(),phone_number:B.phone_number.trim(),email:B.email.trim()||void 0,password:B.password,password_confirmation:B.password_confirmation,first_name:B.first_name.trim(),last_name:B.last_name.trim()}),se.success("Broker created"),k({open:!1,type:null}),H()}catch(F){se.error(F.response?.data?.message||"Failed")}},U=async()=>{try{await J3({broker_id:parseInt(B.broker_id,10),amount:parseFloat(B.amount)*100,reference:B.reference.trim()||void 0,notes:B.notes.trim()||void 0}),se.success("Payout created"),k({open:!1,type:null}),l?.id&&K(l),D()}catch(F){se.error(F.response?.data?.message||"Payout failed")}},q=F=>{A({open:!0,title:"Cancel commission",message:"Are you sure?",onConfirm:async()=>{try{await tO(F.id),se.success("Commission cancelled"),l?.id&&ne(T),D()}catch(M){se.error(M.response?.data?.message||"Failed")}}})},G=F=>{A({open:!0,title:"Delete referral",message:"Remove this referral?",onConfirm:async()=>{try{await sO(F.id),se.success("Referral deleted"),l?.id&&K(l)}catch(M){se.error(M.response?.data?.message||"Failed")}}})};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Brokers"}),e.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Q,{variant:"outline",onClick:()=>{P({username:"",phone_number:"",email:"",password:"",password_confirmation:"",first_name:"",last_name:""}),k({open:!0,type:"create-broker"})},children:[e.jsx(xs,{className:"w-4 h-4 mr-2"})," Create Broker"]}),e.jsxs(Q,{onClick:()=>{P({broker_id:l?.id?String(l.id):"",amount:p?.balance!=null?String(p.balance):"",reference:"",notes:""}),k({open:!0,type:"create-payout"})},children:[e.jsx(Is,{className:"w-4 h-4 mr-2"})," Create Payout"]})]}),e.jsx(Q,{variant:"outline",size:"icon",onClick:()=>{H(),D()},"aria-label":"Refresh",children:e.jsx(Nt,{className:"w-4 h-4"})})]}),l?e.jsxs(Ae,{children:[e.jsxs(ns,{className:"flex flex-row items-center justify-between",children:[e.jsxs(rs,{className:"flex items-center gap-2",children:[e.jsx(xs,{className:"w-5 h-5"}),$d(l)]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>{P({broker_id:String(l.id),amount:p?.balance?String(p.balance):"",reference:"",notes:""}),k({open:!0,type:"create-payout"})},children:[e.jsx(Is,{className:"w-4 h-4 mr-1"})," Pay broker"]}),e.jsxs(Q,{variant:"ghost",size:"sm",onClick:X,children:[e.jsx(jo,{className:"w-4 h-4 mr-1"})," Close"]})]})]}),e.jsx(Ee,{children:e.jsxs(fo,{value:u,onValueChange:h,children:[e.jsxs(Si,{className:"grid w-full grid-cols-4",children:[e.jsx(Pt,{value:"overview",children:"Overview"}),e.jsx(Pt,{value:"commissions",children:"Commissions"}),e.jsx(Pt,{value:"payouts",children:"Payouts"}),e.jsx(Pt,{value:"referrals",children:"Referrals"})]}),e.jsx(zt,{value:"overview",className:"space-y-4 mt-4",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsx(Ae,{children:e.jsxs(Ee,{className:"pt-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Balance"}),e.jsxs("p",{className:"text-2xl font-bold text-primary",children:["$",(p?.balance??0).toFixed(2)]})]})}),e.jsx(Ae,{children:e.jsxs(Ee,{className:"pt-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total commissions"}),e.jsxs("p",{className:"text-2xl font-bold",children:["$",(p?.total_commissions??y.statistics?.total_commissions??0).toFixed(2)]})]})}),e.jsx(Ae,{children:e.jsxs(Ee,{className:"pt-4",children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Total payouts"}),e.jsxs("p",{className:"text-2xl font-bold",children:["$",(p?.total_payouts??y.statistics?.total_payouts??0).toFixed(2)]})]})})]})}),e.jsxs(zt,{value:"commissions",className:"mt-4",children:[e.jsx("div",{className:"flex gap-2 mb-4",children:["all","pending","paid","cancelled"].map(F=>e.jsx(Q,{variant:T===F?"default":"outline",size:"sm",onClick:()=>ne(F),children:F.charAt(0).toUpperCase()+F.slice(1)},F))}),e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"ID"}),e.jsx(J,{children:"Referred user"}),e.jsx(J,{children:"Promo"}),e.jsx(J,{children:"Amount"}),e.jsx(J,{children:"Commission"}),e.jsx(J,{children:"Status"}),e.jsx(J,{children:"Actions"})]})}),e.jsx(wt,{children:(y.data||[]).map(F=>e.jsxs(Ne,{children:[e.jsx(Y,{children:F.id}),e.jsx(Y,{children:F.referredUser?$d(F.referredUser):F.referred_user_id}),e.jsx(Y,{children:F.promoCode?.code||""}),e.jsxs(Y,{children:["$",Number(F.booking_amount||0).toFixed(2)]}),e.jsxs(Y,{children:["$",Number(F.commission_amount||0).toFixed(2)," (",F.commission_percentage,"%)"]}),e.jsx(Y,{children:e.jsx(Re,{variant:F.status==="paid"?"default":F.status==="cancelled"?"secondary":"outline",children:F.status})}),e.jsx(Y,{children:F.status==="pending"&&e.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>q(F),children:"Cancel"})})]},F.id))})]})]}),e.jsx(zt,{value:"payouts",className:"mt-4",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"Reference"}),e.jsx(J,{children:"Amount"}),e.jsx(J,{children:"Paid at"}),e.jsx(J,{children:"Description"})]})}),e.jsx(wt,{children:(j.data||[]).map(F=>e.jsxs(Ne,{children:[e.jsx(Y,{className:"font-mono text-xs",children:F.reference_id||F.id}),e.jsxs(Y,{children:["$",((F.amount||0)/100).toFixed(2)]}),e.jsx(Y,{children:F.paid_at?new Date(F.paid_at).toLocaleString():""}),e.jsx(Y,{children:F.description||F.metadata?.reference||""})]},F.id))})]})}),e.jsx(zt,{value:"referrals",className:"mt-4",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"ID"}),e.jsx(J,{children:"Referred user"}),e.jsx(J,{children:"Promo"}),e.jsx(J,{children:"Actions"})]})}),e.jsx(wt,{children:(w||[]).map(F=>e.jsxs(Ne,{children:[e.jsx(Y,{children:F.id}),e.jsx(Y,{children:F.referredUser?$d(F.referredUser):F.referred_user_id}),e.jsx(Y,{children:F.promoCode?.code||""}),e.jsx(Y,{children:e.jsx(Q,{variant:"ghost",size:"sm",className:"text-destructive",onClick:()=>G(F),children:"Delete"})})]},F.id))})]})})]})})]}):e.jsxs(e.Fragment,{children:[e.jsxs(Ae,{children:[e.jsxs(ns,{children:[e.jsx(rs,{children:"Brokers"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Click Manage to view balance, commissions, payouts, and referrals."})]}),e.jsx(Ee,{className:"p-0",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"ID"}),e.jsx(J,{children:"Username"}),e.jsx(J,{children:"Name"}),e.jsx(J,{children:"Phone"}),e.jsx(J,{children:"Actions"})]})}),e.jsx(wt,{children:r?e.jsx(Ne,{children:e.jsx(Y,{colSpan:5,className:"text-center py-8",children:"Loading..."})}):t.length===0?e.jsx(Ne,{children:e.jsx(Y,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"No brokers found"})}):t.map(F=>e.jsxs(Ne,{children:[e.jsx(Y,{children:F.id}),e.jsx(Y,{children:F.username}),e.jsx(Y,{children:[F.first_name,F.last_name].filter(Boolean).join(" ")||""}),e.jsx(Y,{children:F.phone_number||""}),e.jsx(Y,{children:e.jsx(Q,{variant:"outline",size:"sm",onClick:()=>K(F),children:"Manage"})})]},F.id))})]})})]}),e.jsxs(Ae,{children:[e.jsx(ns,{children:e.jsx(rs,{children:"All broker commissions"})}),e.jsx(Ee,{className:"p-0",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"ID"}),e.jsx(J,{children:"Broker"}),e.jsx(J,{children:"Referred user"}),e.jsx(J,{children:"Promo"}),e.jsx(J,{children:"Amount"}),e.jsx(J,{children:"Status"})]})}),e.jsx(wt,{children:(a.data||[]).map(F=>e.jsxs(Ne,{children:[e.jsx(Y,{children:F.id}),e.jsx(Y,{children:F.broker?$d(F.broker):F.broker_id}),e.jsx(Y,{children:F.referredUser?$d(F.referredUser):""}),e.jsx(Y,{children:F.promoCode?.code||""}),e.jsxs(Y,{children:["$",Number(F.commission_amount||0).toFixed(2)]}),e.jsx(Y,{children:e.jsx(Re,{variant:F.status==="paid"?"default":F.status==="cancelled"?"secondary":"outline",children:F.status})})]},F.id))})]})})]})]}),e.jsx(La,{open:V.open&&V.type==="create-broker",onOpenChange:F=>!F&&k({open:!1,type:null}),children:e.jsxs(ka,{className:"max-w-md",children:[e.jsx(Sa,{children:e.jsx(Aa,{children:"Create Broker"})}),e.jsxs("div",{className:"space-y-4",children:[["username","first_name","last_name","phone_number","email","password","password_confirmation"].map(F=>e.jsxs("div",{children:[e.jsx(W,{children:F.replace(/_/g," ")}),e.jsx(oe,{type:F.includes("password")?"password":"text",value:B[F],onChange:M=>P(z=>({...z,[F]:M.target.value}))})]},F)),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(Q,{variant:"outline",onClick:()=>k({open:!1,type:null}),children:"Cancel"}),e.jsx(Q,{onClick:te,children:"Create"})]})]})]})}),e.jsx(La,{open:V.open&&V.type==="create-payout",onOpenChange:F=>!F&&k({open:!1,type:null}),children:e.jsxs(ka,{className:"max-w-md",children:[e.jsx(Sa,{children:e.jsx(Aa,{children:"Create Payout"})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(W,{children:"Broker"}),e.jsxs("select",{className:"w-full border rounded-md px-3 py-2",value:B.broker_id,onChange:F=>P(M=>({...M,broker_id:F.target.value})),children:[e.jsx("option",{value:"",children:"Select broker"}),t.map(F=>e.jsx("option",{value:F.id,children:$d(F)},F.id))]})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Amount ($)"}),e.jsx(oe,{type:"number",step:.01,value:B.amount,onChange:F=>P(M=>({...M,amount:F.target.value}))})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Reference (optional)"}),e.jsx(oe,{value:B.reference,onChange:F=>P(M=>({...M,reference:F.target.value}))})]}),e.jsxs("div",{children:[e.jsx(W,{children:"Notes (optional)"}),e.jsx(oe,{value:B.notes,onChange:F=>P(M=>({...M,notes:F.target.value}))})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(Q,{variant:"outline",onClick:()=>k({open:!1,type:null}),children:"Cancel"}),e.jsx(Q,{onClick:U,children:"Create Payout"})]})]})]})}),e.jsx(Yx,{open:E.open,onOpenChange:F=>A(M=>({...M,open:F})),children:e.jsxs(Wm,{children:[e.jsxs(Ym,{children:[e.jsx(Xm,{children:E.title}),e.jsx(Qm,{children:E.message})]}),e.jsxs(Km,{children:[e.jsx(Jm,{children:"Cancel"}),e.jsx(Zm,{onClick:E.onConfirm,children:"Confirm"})]})]})})]})}const wL="https://rento-lb.com/api/storage/",$j="/avatar.png",Kde=["Beirut","Mount Lebanon","North","South","Bekaa","Baalbek","Keserwan","Nabatieh","Akkar"],Xde=[{value:"",label:"All types"},{value:"rental",label:"Rental"},{value:"private",label:"Private"},{value:"company",label:"Company"},{value:"marina",label:"Marina"}],Qde=[{value:"created_at",label:"Created at"},{value:"username",label:"Username"},{value:"first_name",label:"First name"},{value:"last_name",label:"Last name"}];function iT(t){const s=t?.profile_picture;if(!s)return $j;if(s.startsWith("http"))return s;const a=s.startsWith("/")?s.slice(1):s;return wL+a}function oT(t){return t?.first_name&&t?.last_name?`${t.first_name} ${t.last_name}`:t?.username||`Agency #${t?.id}`}function Zde(){const[t,s]=x.useState([]),[a,n]=x.useState({current_page:1,last_page:1,per_page:20,total:0}),[r,i]=x.useState(!0),[l,d]=x.useState(!1),[u,h]=x.useState(1),[p,f]=x.useState(20),[y,v]=x.useState(""),[j,N]=x.useState(!1),[w,_]=x.useState(""),[T,R]=x.useState(""),[E,A]=x.useState("created_at"),[V,k]=x.useState("desc"),[B,P]=x.useState(!1),[H,D]=x.useState(null),[K,X]=x.useState(null),[ne,te]=x.useState(!1),U=x.useCallback(async()=>{i(!0),d(!1);try{const M={page:u,per_page:p,sort_by:E,sort_order:V};j&&(M.verified_only=!0),w&&(M.business_type=w),T&&(M.address=T),y.trim()&&(M.search=y.trim());const z=await Hie(M),ie=z.data?.agencies??z.data,le=ie?.data??[];s(Array.isArray(le)?le:[]),n({current_page:ie.current_page??1,last_page:ie.last_page??1,per_page:ie.per_page??p,total:ie.total??0})}catch(M){M.response?.status===403?(d(!0),s([]),se.error("Super admin access required")):(se.error(M.response?.data?.message||M.response?.data?.error||"Failed to load agencies"),s([]))}finally{i(!1)}},[u,p,y,j,w,T,E,V]);x.useEffect(()=>{U()},[U]);const q=async M=>{D(M),X(null),P(!0),te(!0);try{const z=await qie(M.id);X(z.data?.agency??z.data)}catch(z){z.response?.status===403?se.error("Super admin access required"):z.response?.status===404?se.error("Agency not found"):se.error(z.response?.data?.error||"Failed to load agency")}finally{te(!1)}},G=()=>{P(!1),D(null),X(null)},F=()=>{h(1),U()};return l?e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(no,{className:"w-6 h-6"}),"Agencies"]}),e.jsx(Ae,{children:e.jsxs(Ee,{className:"py-12 text-center",children:[e.jsx(Bn,{className:"w-12 h-12 mx-auto text-destructive mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"This section is available only to Super Admin users."}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"If you believe you should have access, please contact your administrator."})]})})]}):e.jsxs("div",{className:"space-y-6",children:[e.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-2",children:[e.jsx(no,{className:"w-6 h-6"}),"Agencies"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Car rental companies and agents who list vehicles on the platform. Super Admin only."}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxs("div",{className:"relative flex-1 min-w-[180px] max-w-sm",children:[e.jsx(Ca,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(oe,{placeholder:"Search username, first name, last name...",value:y,onChange:M=>v(M.target.value),onKeyDown:M=>M.key==="Enter"&&F(),className:"pl-9"})]}),e.jsxs(et,{value:w||"all",onValueChange:M=>{_(M==="all"?"":M),h(1)},children:[e.jsx(Ze,{className:"w-36",children:e.jsx(tt,{placeholder:"Business type"})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"all",children:"All types"}),Xde.filter(M=>M.value).map(M=>e.jsx(ce,{value:M.value,children:M.label},M.value))]})]}),e.jsxs(et,{value:T||"all",onValueChange:M=>{R(M==="all"?"":M),h(1)},children:[e.jsx(Ze,{className:"w-40",children:e.jsx(tt,{placeholder:"Governorate"})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"all",children:"All governorates"}),Kde.map(M=>e.jsx(ce,{value:M,children:M},M))]})]}),e.jsxs(et,{value:j?"yes":"no",onValueChange:M=>{N(M==="yes"),h(1)},children:[e.jsx(Ze,{className:"w-32",children:e.jsx(tt,{placeholder:"Verified"})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"no",children:"All"}),e.jsx(ce,{value:"yes",children:"Verified only"})]})]}),e.jsxs(et,{value:E,onValueChange:M=>{A(M),h(1)},children:[e.jsx(Ze,{className:"w-36",children:e.jsx(tt,{placeholder:"Sort by"})}),e.jsx(Je,{children:Qde.map(M=>e.jsx(ce,{value:M.value,children:M.label},M.value))})]}),e.jsxs(et,{value:V,onValueChange:M=>{k(M),h(1)},children:[e.jsx(Ze,{className:"w-28",children:e.jsx(tt,{})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"asc",children:"Asc"}),e.jsx(ce,{value:"desc",children:"Desc"})]})]}),e.jsxs(et,{value:String(p),onValueChange:M=>{f(Number(M)),h(1)},children:[e.jsx(Ze,{className:"w-24",children:e.jsx(tt,{})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"10",children:"10"}),e.jsx(ce,{value:"20",children:"20"}),e.jsx(ce,{value:"50",children:"50"})]})]}),e.jsx(Q,{variant:"outline",onClick:F,children:"Search"}),e.jsx(Q,{variant:"outline",size:"icon",onClick:U,children:e.jsx(Nt,{className:"h-4 w-4"})})]}),e.jsxs(Ae,{children:[e.jsx(ns,{children:e.jsxs(rs,{className:"flex items-center gap-2",children:[e.jsx(no,{className:"w-5 h-5"}),"Agencies list"]})}),e.jsx(Ee,{className:"p-0",children:r?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(_g,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"ID"}),e.jsx(J,{children:"Agency"}),e.jsx(J,{children:"Username"}),e.jsx(J,{children:"Verified"}),e.jsx(J,{children:"Type"}),e.jsx(J,{children:"Address"}),e.jsx(J,{className:"text-right",children:"Cars"}),e.jsx(J,{className:"text-right",children:"Sea"}),e.jsx(J,{className:"text-right",children:"Action"})]})}),e.jsxs(wt,{children:[t.map(M=>e.jsxs(Ne,{className:"hover:bg-muted/50",children:[e.jsx(Y,{className:"font-medium",children:M.id}),e.jsx(Y,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:iT(M),alt:"",className:"h-8 w-8 rounded-full object-cover",onError:z=>{z.currentTarget.onerror=null,z.currentTarget.src=$j}}),e.jsx("span",{children:oT(M)})]})}),e.jsx(Y,{children:M.username||""}),e.jsx(Y,{children:M.verified_by_admin?e.jsx(Pa,{className:"h-4 w-4 text-green-600"}):e.jsx("span",{className:"text-muted-foreground",children:""})}),e.jsx(Y,{children:e.jsx(Re,{variant:"outline",children:M.business_type||""})}),e.jsx(Y,{children:M.address||""}),e.jsxs(Y,{className:"text-right",children:[M.cars_count??""," (",M.cars_accepted_count??0," accepted,"," ",M.cars_not_accepted_count??0," pending)"]}),e.jsx(Y,{className:"text-right",children:M.sea_vehicles_count??0}),e.jsx(Y,{className:"text-right",children:e.jsxs(Q,{size:"sm",variant:"outline",onClick:()=>q(M),children:[e.jsx(Ys,{className:"w-4 h-4 mr-2"}),"View"]})})]},M.id)),t.length===0&&e.jsx(Ne,{children:e.jsx(Y,{colSpan:9,className:"text-center py-8 text-muted-foreground",children:"No agencies found"})})]})]})})]}),a.last_page>1&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-muted-foreground",children:["Page ",a.current_page," of ",a.last_page,"  Total ",a.total]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Q,{variant:"outline",size:"sm",disabled:u<=1,onClick:()=>h(M=>M-1),children:"Previous"}),e.jsx(Q,{variant:"outline",size:"sm",disabled:u>=a.last_page,onClick:()=>h(M=>M+1),children:"Next"})]})]}),e.jsx(La,{open:B,onOpenChange:M=>!M&&G(),children:e.jsxs(ka,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Sa,{children:e.jsxs(Aa,{className:"flex items-center gap-2",children:[e.jsx(no,{className:"w-5 h-5"}),"Agency  ",H?oT(H):""," (ID:"," ",H?.id,")"]})}),ne?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(_g,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):K?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("img",{src:iT(K),alt:"",className:"h-16 w-16 rounded-full object-cover",onError:M=>{M.currentTarget.onerror=null,M.currentTarget.src=$j}}),e.jsxs("div",{children:[e.jsxs("p",{className:"font-semibold",children:[K.first_name," ",K.last_name]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["@",K.username]}),K.verified_by_admin&&e.jsx(Re,{className:"mt-1 bg-green-600",children:"Verified"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 text-sm",children:[e.jsx(ol,{label:"Business type",value:K.business_type}),e.jsx(ol,{label:"Address",value:K.address}),e.jsx(ol,{label:"Profession",value:K.profession}),e.jsx(ol,{label:"Company number",value:K.company_number}),e.jsx(ol,{label:"Cars total",value:K.cars_count}),e.jsx(ol,{label:"Cars accepted",value:K.cars_accepted_count}),e.jsx(ol,{label:"Cars not accepted",value:K.cars_not_accepted_count}),e.jsx(ol,{label:"Sea vehicles",value:K.sea_vehicles_count})]}),K.website&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("span",{className:"text-sm text-muted-foreground",children:"Website:"}),e.jsxs("a",{href:K.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline flex items-center gap-1",children:[K.website,e.jsx(Ng,{className:"w-3 h-3"})]})]}),K.location&&e.jsxs("div",{className:"text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Location: "}),K.location.city||"",K.location.lat!=null&&K.location.lng!=null?` (${K.location.lat}, ${K.location.lng})`:""]}),K.policies&&e.jsxs("div",{className:"rounded-md border p-3 bg-muted/30",children:[e.jsxs("p",{className:"text-xs font-medium text-muted-foreground flex items-center gap-1 mb-2",children:[e.jsx(ho,{className:"w-3 h-3"})," Policies"]}),e.jsx("p",{className:"text-sm whitespace-pre-wrap",children:K.policies})]}),K.business_doc&&e.jsxs("div",{children:[e.jsx("p",{className:"text-xs font-medium text-muted-foreground mb-1",children:"Business document"}),e.jsxs("a",{href:K.business_doc.startsWith("http")?K.business_doc:wL+(K.business_doc.startsWith("/")?K.business_doc.slice(1):K.business_doc),target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline text-sm flex items-center gap-1",children:["View document",e.jsx(Ng,{className:"w-3 h-3"})]})]})]}):e.jsx("p",{className:"text-muted-foreground py-4",children:"No details available."})]})})]})}function ol({label:t,value:s}){const a=s??"";return e.jsxs("div",{children:[e.jsxs("span",{className:"text-muted-foreground",children:[t,": "]}),e.jsx("span",{children:typeof a=="object"?JSON.stringify(a):String(a)})]})}function Jde(){const[t,s]=x.useState([]),[a,n]=x.useState([]),[r,i]=x.useState([]),[l,d]=x.useState([]),[u,h]=x.useState(!1),[p,f]=x.useState(""),[y,v]=x.useState({services:{search:"",category:"all"},thirdParties:{search:""}}),[j,N]=x.useState({open:!1,title:"",message:"",onConfirm:null}),w=x.useCallback(async()=>{h(!0);try{const P={};y.services.search&&(P.search=y.services.search),y.services.category!=="all"&&(P.category=y.services.category);const H=await aO({...P,per_page:100}),D=H.data?.data??H.data?.services??H.data;s(Array.isArray(D)?D:[])}catch(P){console.error(P),se.error("Failed to load services"),s([])}finally{h(!1)}},[y.services.search,y.services.category]),_=x.useCallback(async()=>{h(!0);try{const P=await oO({per_page:100}),H=P.data?.data??P.data?.third_parties??P.data;n(Array.isArray(H)?H:[])}catch(P){console.error(P),se.error("Failed to load third parties"),n([])}finally{h(!1)}},[]),T=x.useCallback(async P=>{if(!P){i([]);return}h(!0);try{const H=await rO(parseInt(P,10)),D=H.data?.data??H.data?.items??H.data;i(Array.isArray(D)?D:[])}catch(H){console.error(H),i([])}finally{h(!1)}},[]),R=x.useCallback(async()=>{h(!0);try{const P=await cO({per_page:100}),H=P.data?.data??P.data?.feedbacks??P.data;d(Array.isArray(H)?H:[])}catch(P){console.error(P),se.error("Failed to load feedbacks"),d([])}finally{h(!1)}},[]);x.useEffect(()=>{w()},[w]),x.useEffect(()=>{p?T(p):i([])},[p,T]);const E=(P,H,D)=>{N({open:!0,title:P,message:H,onConfirm:D})},A=P=>{E("Delete Service",`Delete "${P.name}"?`,async()=>{try{await nO(P.id),se.success("Service deleted"),w()}catch(H){se.error(H.response?.data?.message||"Failed")}})},V=P=>{E("Delete Third Party","Are you sure?",async()=>{try{await lO(P.id),se.success("Third party deleted"),_()}catch(H){se.error(H.response?.data?.message||"Failed")}})},k=P=>{E("Delete Item",`Delete "${P.name}"?`,async()=>{try{await iO(P.id),se.success("Item deleted"),p&&T(p)}catch(H){se.error(H.response?.data?.message||"Failed")}})},B=P=>{E("Delete Feedback","Are you sure?",async()=>{try{await dO(P.id),se.success("Feedback deleted"),R()}catch(H){se.error(H.response?.data?.message||"Failed")}})};return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-xl font-semibold",children:"Services"}),e.jsxs(fo,{defaultValue:"services-list",className:"w-full",children:[e.jsxs(Si,{className:"grid w-full grid-cols-4 mb-4",children:[e.jsxs(Pt,{value:"services-list",children:[e.jsx(Oc,{className:"w-4 h-4 mr-1"})," Services"]}),e.jsxs(Pt,{value:"third-parties",onClick:()=>_(),children:[e.jsx(no,{className:"w-4 h-4 mr-1"})," Third Parties"]}),e.jsxs(Pt,{value:"service-items",children:[e.jsx(gi,{className:"w-4 h-4 mr-1"})," Service Items"]}),e.jsxs(Pt,{value:"service-feedbacks",onClick:()=>R(),children:[e.jsx(Hr,{className:"w-4 h-4 mr-1"})," Feedbacks"]})]}),e.jsxs(zt,{value:"services-list",className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsx(oe,{placeholder:"Search services...",value:y.services.search,onChange:P=>v(H=>({...H,services:{...H.services,search:P.target.value}})),className:"w-48"}),e.jsxs(et,{value:y.services.category,onValueChange:P=>v(H=>({...H,services:{...H.services,category:P}})),children:[e.jsx(Ze,{className:"w-40",children:e.jsx(tt,{placeholder:"Category"})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"all",children:"All"}),e.jsx(ce,{value:"transport",children:"Transport"}),e.jsx(ce,{value:"accommodation",children:"Accommodation"}),e.jsx(ce,{value:"food",children:"Food"}),e.jsx(ce,{value:"entertainment",children:"Entertainment"}),e.jsx(ce,{value:"other",children:"Other"})]})]}),e.jsx(Q,{variant:"outline",size:"icon",onClick:w,"aria-label":"Refresh",children:e.jsx(Nt,{className:"w-4 h-4"})})]}),e.jsx(Ae,{children:e.jsx(Ee,{className:"p-0",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"ID"}),e.jsx(J,{children:"Name"}),e.jsx(J,{children:"Owner"}),e.jsx(J,{children:"Category"}),e.jsx(J,{children:"Price"}),e.jsx(J,{children:"Rating"}),e.jsx(J,{children:"Featured"}),e.jsx(J,{children:"Actions"})]})}),e.jsx(wt,{children:u?e.jsx(Ne,{children:e.jsx(Y,{colSpan:8,className:"text-center py-8",children:"Loading..."})}):t.length===0?e.jsx(Ne,{children:e.jsx(Y,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:"No services found"})}):t.map(P=>e.jsxs(Ne,{children:[e.jsx(Y,{children:P.id}),e.jsx(Y,{className:"font-medium",children:P.name}),e.jsx(Y,{children:P.third_party?P.third_party.name||P.third_party.email:P.third_party_id||""}),e.jsx(Y,{children:e.jsx(Re,{variant:"outline",children:P.category||""})}),e.jsxs(Y,{children:["$",(parseFloat(P.price)||0).toFixed(2)]}),e.jsx(Y,{children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(Ks,{className:"w-4 h-4 text-yellow-500 fill-yellow-500"}),P.rating?Number(P.rating).toFixed(1):"N/A"]})}),e.jsx(Y,{children:e.jsx(Re,{variant:P.featured?"default":"secondary",children:P.featured?"Yes":"No"})}),e.jsx(Y,{children:e.jsx(Q,{variant:"ghost",size:"sm",className:"text-destructive",onClick:()=>A(P),children:e.jsx(Xs,{className:"w-4 h-4"})})})]},P.id))})]})})})]}),e.jsxs(zt,{value:"third-parties",className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(oe,{placeholder:"Search third parties...",value:y.thirdParties.search,onChange:P=>v(H=>({...H,thirdParties:{...H.thirdParties,search:P.target.value}})),className:"w-64"}),e.jsx(Q,{variant:"outline",size:"icon",onClick:_,"aria-label":"Refresh",children:e.jsx(Nt,{className:"w-4 h-4"})})]}),e.jsx(Ae,{children:e.jsx(Ee,{className:"p-0",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"ID"}),e.jsx(J,{children:"Name"}),e.jsx(J,{children:"Contact"}),e.jsx(J,{children:"Category"}),e.jsx(J,{children:"City"}),e.jsx(J,{children:"Subscription"}),e.jsx(J,{children:"Created"}),e.jsx(J,{children:"Actions"})]})}),e.jsx(wt,{children:u?e.jsx(Ne,{children:e.jsx(Y,{colSpan:8,className:"text-center py-8",children:"Loading..."})}):a.length===0?e.jsx(Ne,{children:e.jsx(Y,{colSpan:8,className:"text-center py-8 text-muted-foreground",children:"No third parties found"})}):a.map(P=>e.jsxs(Ne,{children:[e.jsx(Y,{children:P.id}),e.jsx(Y,{className:"font-medium",children:P.name}),e.jsx(Y,{children:P.email||P.phone||""}),e.jsx(Y,{children:e.jsx(Re,{variant:"outline",children:P.category||""})}),e.jsx(Y,{children:P.city||""}),e.jsx(Y,{children:P.subscription_status||""}),e.jsx(Y,{children:P.created_at?new Date(P.created_at).toLocaleDateString():""}),e.jsx(Y,{children:e.jsx(Q,{variant:"ghost",size:"sm",className:"text-destructive",onClick:()=>V(P),children:e.jsx(Xs,{className:"w-4 h-4"})})})]},P.id))})]})})})]}),e.jsxs(zt,{value:"service-items",className:"space-y-4",children:[e.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[e.jsxs(et,{value:p,onValueChange:P=>f(P),children:[e.jsx(Ze,{className:"w-64",children:e.jsx(tt,{placeholder:"Select a service to view items"})}),e.jsx(Je,{children:t.map(P=>e.jsx(ce,{value:String(P.id),children:P.name},P.id))})]}),p&&e.jsx(Q,{variant:"outline",size:"icon",onClick:()=>T(p),"aria-label":"Refresh",children:e.jsx(Nt,{className:"w-4 h-4"})})]}),p?e.jsxs(Ae,{children:[e.jsx(ns,{children:e.jsxs(rs,{children:["Items for Service #",p]})}),e.jsx(Ee,{className:"p-0",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"ID"}),e.jsx(J,{children:"Name"}),e.jsx(J,{children:"Description"}),e.jsx(J,{children:"Price"}),e.jsx(J,{children:"Actions"})]})}),e.jsx(wt,{children:u?e.jsx(Ne,{children:e.jsx(Y,{colSpan:5,className:"text-center py-8",children:"Loading..."})}):r.length===0?e.jsx(Ne,{children:e.jsx(Y,{colSpan:5,className:"text-center py-8 text-muted-foreground",children:"No items found"})}):r.map(P=>e.jsxs(Ne,{children:[e.jsx(Y,{children:P.id}),e.jsx(Y,{className:"font-medium",children:P.name}),e.jsx(Y,{className:"max-w-xs truncate",children:P.description||"N/A"}),e.jsxs(Y,{children:["$",(parseFloat(P.price)||0).toFixed(2)]}),e.jsx(Y,{children:e.jsx(Q,{variant:"ghost",size:"sm",className:"text-destructive",onClick:()=>k(P),children:e.jsx(Xs,{className:"w-4 h-4"})})})]},P.id))})]})})]}):e.jsx(Ae,{children:e.jsxs(Ee,{className:"py-12 text-center text-muted-foreground",children:[e.jsx(gi,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Select a service from the dropdown above"})]})})]}),e.jsxs(zt,{value:"service-feedbacks",className:"space-y-4",children:[e.jsx(Q,{variant:"outline",size:"icon",onClick:R,"aria-label":"Refresh",children:e.jsx(Nt,{className:"w-4 h-4"})}),e.jsx(Ae,{children:e.jsx(Ee,{className:"p-0",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"ID"}),e.jsx(J,{children:"Service"}),e.jsx(J,{children:"User"}),e.jsx(J,{children:"Rating"}),e.jsx(J,{children:"Comment"}),e.jsx(J,{children:"Created"}),e.jsx(J,{children:"Actions"})]})}),e.jsx(wt,{children:u?e.jsx(Ne,{children:e.jsx(Y,{colSpan:7,className:"text-center py-8",children:"Loading..."})}):l.length===0?e.jsx(Ne,{children:e.jsx(Y,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"No feedbacks found"})}):l.map(P=>e.jsxs(Ne,{children:[e.jsx(Y,{children:P.id}),e.jsx(Y,{children:P.service?.name||P.service_id}),e.jsx(Y,{children:P.user?.name||P.user_id}),e.jsx(Y,{children:e.jsx("div",{className:"flex items-center gap-1",children:[...Array(5)].map((H,D)=>e.jsx(Ks,{className:`w-4 h-4 ${D<(P.rating||0)?"text-yellow-500 fill-yellow-500":"text-gray-300"}`},D))})}),e.jsx(Y,{className:"max-w-xs truncate",children:P.comment||"N/A"}),e.jsx(Y,{children:P.created_at?new Date(P.created_at).toLocaleDateString():""}),e.jsx(Y,{children:e.jsx(Q,{variant:"ghost",size:"sm",className:"text-destructive",onClick:()=>B(P),children:e.jsx(Xs,{className:"w-4 h-4"})})})]},P.id))})]})})})]})]}),e.jsx(Yx,{open:j.open,onOpenChange:P=>N(H=>({...H,open:P})),children:e.jsxs(Wm,{children:[e.jsxs(Ym,{children:[e.jsx(Xm,{children:j.title}),e.jsx(Qm,{children:j.message})]}),e.jsxs(Km,{children:[e.jsx(Jm,{children:"Cancel"}),e.jsx(Zm,{onClick:j.onConfirm,children:"Confirm"})]})]})})]})}const NL="https://rento-lb.com/api/storage/",_L="/avatar.png",eue=20;function tue(t,s=null){if(!t)return s;if(t.startsWith("http"))return t;const a=t.startsWith("/")?t.slice(1):t;return NL+a}function sue(t){return t?String(t).toLowerCase().split("?")[0].endsWith(".pdf"):!1}const jc=360,wc=260,ll=120,Qp=2.5;function aue({src:t,alt:s,className:a=""}){const[n,r]=x.useState(!1),[i,l]=x.useState({x:0,y:0}),d=x.useRef(null),u=N=>{if(!d.current)return;const w=d.current.getBoundingClientRect(),_=(N.clientX-w.left)/w.width,T=(N.clientY-w.top)/w.height;l({x:Math.max(0,Math.min(1,_)),y:Math.max(0,Math.min(1,T))})},h=i.x*jc,p=i.y*wc,f=-(h*Qp-ll/2),y=-(p*Qp-ll/2),v=Math.max(0,Math.min(jc-ll,i.x*jc-ll/2)),j=Math.max(0,Math.min(wc-ll,i.y*wc-ll/2));return e.jsxs("div",{ref:d,className:`relative overflow-hidden rounded-md border cursor-crosshair ${a}`,style:{width:jc,height:wc},onMouseEnter:()=>r(!0),onMouseLeave:()=>r(!1),onMouseMove:u,children:[e.jsx("img",{src:t,alt:s,className:"w-full h-full object-contain",style:{width:jc,height:wc},draggable:!1,onError:N=>{N.currentTarget.onerror=null,N.currentTarget.src="/avatar.png"}}),n&&e.jsx("div",{className:"absolute pointer-events-none rounded-full border-2 border-white shadow-xl bg-no-repeat",style:{width:ll,height:ll,left:v,top:j,backgroundImage:`url(${t})`,backgroundSize:`${jc*Qp}px ${wc*Qp}px`,backgroundPosition:`${f}px ${y}px`}})]})}function Cv({title:t,path:s,fallback:a=null}){const n=tue(s,a);if(!n)return e.jsx("div",{className:"text-sm text-muted-foreground",children:"N/A"});if(sue(n)){const r=`${n}#toolbar=0&navpanes=0&scrollbar=0`;return e.jsx("iframe",{title:t,src:r,className:"w-full rounded-md border bg-white",style:{width:jc,height:wc}})}return e.jsx(aue,{src:n,alt:t})}function nue(t){const s=t?.profile_picture;if(!s)return _L;if(s.startsWith("http"))return s;const a=s.startsWith("/")?s.slice(1):s;return NL+a}function rue(){const[t,s]=x.useState([]),[a,n]=x.useState({current_page:1,last_page:1,total:0}),[r,i]=x.useState(!0),[l,d]=x.useState(1),[u,h]=x.useState(""),[p,f]=x.useState("all"),[y,v]=x.useState(!1),[j,N]=x.useState(null),[w,_]=x.useState(null),[T,R]=x.useState({first_name:"",middle_name:"",last_name:"",id_number:"",passport_number:"",driver_license_number:"",gender:"",date_of_birth:"",mother_name:"",place_of_birth:""}),[E,A]=x.useState(null),[V,k]=x.useState(!1),B=async()=>{i(!0);try{const F={page:l,per_page:eue};p&&p!=="all"&&(F.role=p),u?.trim()&&(F.search=u.trim());const M=await wm(F),z=M.data?.users||M.data,ie=z?.data||[];s(ie),n({current_page:z.current_page??1,last_page:z.last_page??1,total:z.total??0})}catch(F){se.error(F.response?.data?.message||"Failed to load users"),s([])}finally{i(!1)}};x.useEffect(()=>{B()},[l,p]);const P=()=>{d(1),B()},H=async F=>{N(F),v(!0),_(null),A(null),R({first_name:"",middle_name:"",last_name:"",id_number:"",passport_number:"",driver_license_number:"",gender:"",date_of_birth:"",mother_name:"",place_of_birth:""});try{const M=await $ie(F.id),z=M.data?.user||M.data;_(z);try{const ie=await doe(F.id),le=ie.data?.data??ie.data?.real_user_data;le&&(A(le),R({first_name:le.first_name||"",middle_name:le.middle_name||"",last_name:le.last_name||"",id_number:le.id_number||"",passport_number:le.passport_number||"",driver_license_number:le.driver_license_number||"",gender:le.gender||"",date_of_birth:le.date_of_birth||"",mother_name:le.mother_name||"",place_of_birth:le.place_of_birth||""}))}catch{}}catch{se.error("Failed to load user details")}},D=()=>{v(!1),N(null),_(null),A(null)},K=F=>{const{name:M,value:z}=F.target;R(ie=>({...ie,[M]:z}))},X=(F,M)=>{R(z=>({...z,[F]:M}))},ne=async F=>{if(F.preventDefault(),!j)return;const M={...T};if(!M.first_name||!M.last_name||!M.gender){se.error("First name, last name, and gender are required");return}if(!!!(M.id_number||M.passport_number||M.driver_license_number)){se.error("At least one of ID number, passport number, or driver license number is required");return}k(!0);try{await uoe(j.id,M),se.success("Real user data saved. User is now verified."),D(),B()}catch(ie){se.error(ie.response?.data?.message||"Failed to save")}finally{k(!1)}},te=async F=>{if(E?.id)try{await hoe(E.id,{status:F}),se.success(F==="approved"?"User verified.":"Status updated."),D(),B()}catch(M){se.error(M.response?.data?.message||"Failed to update status")}},U=async()=>{if(j&&confirm("Delete real user data for this user?"))try{await moe(j.id),se.success("Real user data deleted."),D(),B()}catch(F){se.error(F.response?.data?.message||"Failed to delete")}},q=t,G=F=>F?.first_name&&F?.last_name?`${F.first_name} ${F.last_name}`:F?.username||F?.name||`User #${F?.id}`;return e.jsxs("div",{className:"space-y-6",children:[e.jsx("h1",{className:"text-2xl font-bold",children:"Real User Data"}),e.jsxs("div",{className:"flex flex-wrap items-center gap-3",children:[e.jsxs("div",{className:"relative flex-1 min-w-[200px] max-w-sm",children:[e.jsx(Ca,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(oe,{placeholder:"Search by name, email, phone, username...",value:u,onChange:F=>h(F.target.value),onKeyDown:F=>F.key==="Enter"&&P(),className:"pl-9"})]}),e.jsxs(et,{value:p,onValueChange:F=>{f(F),d(1)},children:[e.jsx(Ze,{className:"w-36",children:e.jsx(tt,{placeholder:"Role"})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"all",children:"All Roles"}),e.jsx(ce,{value:"client",children:"Client"}),e.jsx(ce,{value:"agency",children:"Agency"}),e.jsx(ce,{value:"admin",children:"Admin"})]})]}),e.jsx(Q,{variant:"outline",onClick:P,children:"Search"}),e.jsx(Q,{variant:"outline",size:"icon",onClick:B,children:e.jsx(gu,{className:"h-4 w-4"})})]}),e.jsxs(Ae,{children:[e.jsx(ns,{children:e.jsxs(rs,{className:"flex items-center gap-2",children:[e.jsx(xs,{className:"w-5 h-5"}),"Users  select one to fill real user data"]})}),e.jsx(Ee,{className:"p-0",children:r?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(_g,{className:"h-8 w-8 animate-spin text-muted-foreground"})}):e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"ID"}),e.jsx(J,{children:"User"}),e.jsx(J,{children:"Name"}),e.jsx(J,{children:"Phone"}),e.jsx(J,{children:"Username"}),e.jsx(J,{children:"Verified"}),e.jsx(J,{className:"text-right",children:"Action"})]})}),e.jsxs(wt,{children:[q.map(F=>e.jsxs(Ne,{className:"hover:bg-muted/50",children:[e.jsx(Y,{className:"font-medium",children:F.id}),e.jsx(Y,{children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("img",{src:nue(F),alt:"",className:"h-8 w-8 rounded-full object-cover",onError:M=>{M.currentTarget.onerror=null,M.currentTarget.src=_L}}),e.jsx("span",{children:G(F)})]})}),e.jsx(Y,{children:F.first_name&&F.last_name?`${F.first_name} ${F.last_name}`:""}),e.jsx(Y,{children:F.phone_number||""}),e.jsx(Y,{children:F.username||""}),e.jsx(Y,{children:F.verified_by_admin?e.jsx(Ag,{className:"h-4 w-4 text-green-600"}):e.jsx("span",{className:"text-muted-foreground",children:""})}),e.jsx(Y,{className:"text-right",children:e.jsxs(Q,{size:"sm",onClick:()=>H(F),style:{background:`linear-gradient(to right, ${Gr.darkBlue}, ${Gr.teal})`},className:"text-white",children:[e.jsx(ca,{className:"w-4 h-4 mr-2"}),"Fill Real Data"]})})]},F.id)),q.length===0&&e.jsx(Ne,{children:e.jsx(Y,{colSpan:7,className:"text-center py-8 text-muted-foreground",children:"No users found"})})]})]})})]}),a.last_page>1&&e.jsxs("div",{className:"flex items-center justify-between text-sm",children:[e.jsxs("span",{className:"text-muted-foreground",children:["Page ",a.current_page," of ",a.last_page,"  Total ",a.total]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(Q,{variant:"outline",size:"sm",disabled:l<=1,onClick:()=>d(F=>F-1),children:"Previous"}),e.jsx(Q,{variant:"outline",size:"sm",disabled:l>=a.last_page,onClick:()=>d(F=>F+1),children:"Next"})]})]}),e.jsx(bo,{children:y&&j&&e.jsx(La,{open:y,onOpenChange:F=>!F&&D(),children:e.jsxs(ka,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[e.jsx(Sa,{children:e.jsxs(Aa,{className:"flex items-center gap-2",children:[e.jsx(Ag,{className:"w-5 h-5"}),"Real User Data  ",G(j)," (ID: ",j.id,")"]})}),e.jsxs("form",{onSubmit:ne,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs text-muted-foreground",children:"Hover over images to magnify and see details"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[e.jsxs(Ae,{children:[e.jsx(ns,{children:e.jsxs(rs,{className:"text-sm flex items-center gap-2",children:[e.jsx(gc,{className:"w-4 h-4"}),"ID Card  Front"]})}),e.jsx(Ee,{children:e.jsx("div",{className:"w-full bg-muted rounded-lg flex items-center justify-center overflow-hidden border-2 border-dashed min-h-[260px]",children:w?.id_card_front?e.jsx(Cv,{title:"ID Card Front",path:w.id_card_front}):e.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[e.jsx(gc,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"No Front ID"})]})})})]}),e.jsxs(Ae,{children:[e.jsx(ns,{children:e.jsxs(rs,{className:"text-sm flex items-center gap-2",children:[e.jsx(gc,{className:"w-4 h-4"}),"ID Card  Back"]})}),e.jsx(Ee,{children:e.jsx("div",{className:"w-full bg-muted rounded-lg flex items-center justify-center overflow-hidden border-2 border-dashed min-h-[260px]",children:w?.id_card_back?e.jsx(Cv,{title:"ID Card Back",path:w.id_card_back}):e.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[e.jsx(gc,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"No Back ID"})]})})})]}),e.jsxs(Ae,{children:[e.jsx(ns,{children:e.jsxs(rs,{className:"text-sm flex items-center gap-2",children:[e.jsx(gc,{className:"w-4 h-4"}),"Driver License"]})}),e.jsx(Ee,{children:e.jsx("div",{className:"w-full bg-muted rounded-lg flex items-center justify-center overflow-hidden border-2 border-dashed min-h-[260px]",children:w?.client?.driver_license?e.jsx(Cv,{title:"Driver License",path:w.client.driver_license}):e.jsxs("div",{className:"text-center text-muted-foreground py-12",children:[e.jsx(gc,{className:"w-8 h-8 mx-auto mb-2 opacity-50"}),e.jsx("p",{className:"text-sm",children:"No License"})]})})})]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"first_name",children:"First Name *"}),e.jsx(oe,{id:"first_name",name:"first_name",value:T.first_name,onChange:K,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"middle_name",children:"Middle Name"}),e.jsx(oe,{id:"middle_name",name:"middle_name",value:T.middle_name,onChange:K})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"last_name",children:"Last Name *"}),e.jsx(oe,{id:"last_name",name:"last_name",value:T.last_name,onChange:K,required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"id_number",children:"ID Number"}),e.jsx(oe,{id:"id_number",name:"id_number",value:T.id_number,onChange:K})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"passport_number",children:"Passport Number"}),e.jsx(oe,{id:"passport_number",name:"passport_number",value:T.passport_number,onChange:K})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"driver_license_number",children:"Driver License Number"}),e.jsx(oe,{id:"driver_license_number",name:"driver_license_number",value:T.driver_license_number,onChange:K})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"gender",children:"Gender *"}),e.jsxs(et,{value:T.gender,onValueChange:F=>X("gender",F),children:[e.jsx(Ze,{children:e.jsx(tt,{placeholder:"Select"})}),e.jsxs(Je,{children:[e.jsx(ce,{value:"male",children:"Male"}),e.jsx(ce,{value:"female",children:"Female"})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"date_of_birth",children:"Date of Birth"}),e.jsx(oe,{id:"date_of_birth",name:"date_of_birth",type:"date",value:T.date_of_birth,onChange:K})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"mother_name",children:"Mother's Name"}),e.jsx(oe,{id:"mother_name",name:"mother_name",value:T.mother_name,onChange:K})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(W,{htmlFor:"place_of_birth",children:"Place of Birth"}),e.jsx(oe,{id:"place_of_birth",name:"place_of_birth",value:T.place_of_birth,onChange:K})]})]}),e.jsxs(i5,{className:"flex-wrap gap-2",children:[E&&e.jsxs(e.Fragment,{children:[E.status!=="approved"&&e.jsxs(Q,{type:"button",onClick:()=>te("approved"),className:"bg-green-600 hover:bg-green-700",children:[e.jsx(er,{className:"h-4 w-4 mr-2"}),"Approve"]}),E.status!=="not_approved"&&e.jsxs(Q,{type:"button",variant:"destructive",onClick:()=>te("not_approved"),children:[e.jsx(ta,{className:"h-4 w-4 mr-2"}),"Reject"]}),e.jsx(Q,{type:"button",variant:"outline",onClick:U,className:"text-red-500",children:"Delete Real Data"})]}),e.jsx(Q,{type:"button",variant:"outline",onClick:D,disabled:V,children:"Cancel"}),e.jsx(Q,{type:"submit",disabled:V,style:{background:`linear-gradient(to right, ${Gr.darkBlue}, ${Gr.teal})`},className:"text-white",children:V?e.jsxs(e.Fragment,{children:[e.jsx(_g,{className:"w-4 h-4 mr-2 animate-spin"}),"Saving..."]}):e.jsxs(e.Fragment,{children:[e.jsx(U7,{className:"w-4 h-4 mr-2"}),"Save Real Data"]})})]})]})]})})})]})}const Zp={darkBlue:"#0E4C81",teal:"#008C95",limeGreen:"#8AC640"};function iue(){const t=Ua(),[s,a]=x.useState(!1),[n,r]=x.useState([]),[i,l]=x.useState({totalAds:0,activeAds:0,totalViews:0,totalClicks:0,averageCTR:0});x.useEffect(()=>{d()},[]);const d=async()=>{a(!0);try{const f=(await xe.get("/admin/ads?per_page=100")).data?.ads||[];r(f);const y=f.filter(w=>{if(!w.online)return!1;const _=new Date,T=new Date(w.start_at),R=new Date(w.expire_at);return _>=T&&_<=R}),v=f.reduce((w,_)=>w+(_.nb_views||0),0),j=f.reduce((w,_)=>w+(_.nb_clicks||0),0),N=v>0?(j/v*100).toFixed(2):0;l({totalAds:f.length,activeAds:y.length,totalViews:v,totalClicks:j,averageCTR:parseFloat(N)})}catch(p){se.error(p.response?.data?.message||"Failed to fetch ads")}finally{a(!1)}},u=()=>{const p=[{key:"id",label:"ID"},{key:"website",label:"Website"},{key:"company_type",label:"Company Type"},{key:"nb_views",label:"Views"},{key:"nb_clicks",label:"Clicks"},{key:"ctr",label:"CTR (%)",transform:y=>{const v=y.nb_views||0,j=y.nb_clicks||0;return v>0?(j/v*100).toFixed(2):"0.00"}},{key:"online",label:"Status",transform:y=>y.online?"Online":"Offline"},{key:"start_at",label:"Start Date",transform:y=>new Date(y.start_at).toLocaleString()},{key:"expire_at",label:"Expire Date",transform:y=>new Date(y.expire_at).toLocaleString()}],f=n.map(y=>({...y,ctr:p.find(v=>v.key==="ctr")?.transform?.(y),online:p.find(v=>v.key==="online")?.transform?.(y),start_at:p.find(v=>v.key==="start_at")?.transform?.(y),expire_at:p.find(v=>v.key==="expire_at")?.transform?.(y)}));uO(f,p,"ads-analytics")},h=()=>{const p=[{key:"id",label:"ID"},{key:"website",label:"Website"},{key:"company_type",label:"Company Type"},{key:"nb_views",label:"Views"},{key:"nb_clicks",label:"Clicks"},{key:"ctr",label:"CTR (%)",transform:y=>{const v=y.nb_views||0,j=y.nb_clicks||0;return v>0?(j/v*100).toFixed(2):"0.00"}},{key:"online",label:"Status",transform:y=>y.online?"Online":"Offline"}],f=n.map(y=>({...y,ctr:p.find(v=>v.key==="ctr")?.transform?.(y),online:p.find(v=>v.key==="online")?.transform?.(y)}));hO(f,p,"Ads Analytics Report","ads-analytics")};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900 p-4 sm:p-6 lg:p-8",children:e.jsxs("div",{className:"max-w-7xl mx-auto",children:[e.jsxs("div",{className:"mb-6 flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{children:[e.jsx("h1",{className:"text-3xl font-bold bg-clip-text text-transparent",style:{backgroundImage:`linear-gradient(to right, ${Zp.darkBlue}, ${Zp.teal}, ${Zp.limeGreen})`},children:"Ads Analytics"}),e.jsx("p",{className:"text-muted-foreground mt-2",children:"Track views, clicks, and performance metrics for all ads"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs(Q,{variant:"outline",onClick:u,children:[e.jsx(tu,{className:"w-4 h-4 mr-2"}),"Export Excel"]}),e.jsxs(Q,{variant:"outline",onClick:h,children:[e.jsx(tu,{className:"w-4 h-4 mr-2"}),"Export PDF"]}),e.jsxs(Q,{variant:"outline",onClick:()=>t("/admin-panel-page"),className:"flex items-center gap-2",children:[e.jsx(yi,{className:"w-4 h-4"}),"Back to Admin Panel"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-6",children:[e.jsxs(Ae,{children:[e.jsxs(ns,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(rs,{className:"text-sm font-medium",children:"Total Ads"}),e.jsx(eu,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(Ee,{children:e.jsx("div",{className:"text-2xl font-bold",children:i.totalAds})})]}),e.jsxs(Ae,{children:[e.jsxs(ns,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(rs,{className:"text-sm font-medium",children:"Active Ads"}),e.jsx(Ms,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(Ee,{children:e.jsx("div",{className:"text-2xl font-bold",children:i.activeAds})})]}),e.jsxs(Ae,{children:[e.jsxs(ns,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(rs,{className:"text-sm font-medium",children:"Total Views"}),e.jsx(Ys,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(Ee,{children:e.jsx("div",{className:"text-2xl font-bold",children:i.totalViews.toLocaleString()})})]}),e.jsxs(Ae,{children:[e.jsxs(ns,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(rs,{className:"text-sm font-medium",children:"Total Clicks"}),e.jsx(Sc,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(Ee,{children:e.jsx("div",{className:"text-2xl font-bold",children:i.totalClicks.toLocaleString()})})]}),e.jsxs(Ae,{children:[e.jsxs(ns,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[e.jsx(rs,{className:"text-sm font-medium",children:"Avg CTR"}),e.jsx(wl,{className:"h-4 w-4 text-muted-foreground"})]}),e.jsx(Ee,{children:e.jsxs("div",{className:"text-2xl font-bold",children:[i.averageCTR,"%"]})})]})]}),e.jsxs(Ae,{children:[e.jsx(ns,{children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(rs,{children:"Ads Performance"}),e.jsx(Q,{variant:"outline",size:"icon",onClick:d,disabled:s,children:e.jsx(Nt,{className:`w-4 h-4 ${s?"animate-spin":""}`})})]})}),e.jsx(Ee,{children:s?e.jsx("div",{className:"flex items-center justify-center py-12",children:e.jsx(Nt,{className:"w-8 h-8 animate-spin",style:{color:Zp.teal}})}):n.length===0?e.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[e.jsx(eu,{className:"w-12 h-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"No ads found"})]}):e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(vt,{children:[e.jsx(jt,{children:e.jsxs(Ne,{children:[e.jsx(J,{children:"ID"}),e.jsx(J,{children:"Website"}),e.jsx(J,{children:"Company Type"}),e.jsx(J,{children:"Views"}),e.jsx(J,{children:"Clicks"}),e.jsx(J,{children:"CTR (%)"}),e.jsx(J,{children:"Status"}),e.jsx(J,{children:"Start Date"}),e.jsx(J,{children:"Expire Date"})]})}),e.jsx(wt,{children:n.map(p=>{const f=p.nb_views||0,y=p.nb_clicks||0,v=f>0?(y/f*100).toFixed(2):"0.00",j=p.online&&new Date>=new Date(p.start_at)&&new Date<=new Date(p.expire_at);return e.jsxs(Ne,{children:[e.jsx(Y,{className:"font-medium",children:p.id}),e.jsx(Y,{children:p.website||"N/A"}),e.jsx(Y,{children:p.company_type||"N/A"}),e.jsx(Y,{children:f.toLocaleString()}),e.jsx(Y,{children:y.toLocaleString()}),e.jsx(Y,{children:e.jsxs("span",{className:`font-semibold ${parseFloat(v)>2?"text-green-600":parseFloat(v)>1?"text-yellow-600":"text-gray-600"}`,children:[v,"%"]})}),e.jsx(Y,{children:j?e.jsx(Re,{variant:"default",children:"Active"}):e.jsx(Re,{variant:"secondary",children:"Inactive"})}),e.jsx(Y,{children:new Date(p.start_at).toLocaleDateString()}),e.jsx(Y,{children:new Date(p.expire_at).toLocaleDateString()})]},p.id)})})]})})})]})]})})}const oue=async()=>{try{return(await xe.get("/ads")).data?.ads||[]}catch(t){return console.error("Error fetching active ads:",t),[]}},lue=async t=>{try{await xe.post(`/ads/${t}/view`)}catch(s){console.error("Error tracking ad view:",s)}},cue=async t=>{try{await xe.post(`/ads/${t}/click`)}catch(s){console.error("Error tracking ad click:",s)}};function kv(){const[t,s]=x.useState(!1),[a,n]=x.useState(null);x.useEffect(()=>{if(sessionStorage.getItem("adsPopupShown"))return;const d=async()=>{try{const h=await oue();if(h.length>0){const p=h[Math.floor(Math.random()*h.length)];n(p),s(!0),p.id&&await lue(p.id)}}catch(h){console.error("Error fetching ads:",h)}},u=setTimeout(()=>{d()},2e4);return()=>clearTimeout(u)},[]);const r=()=>{s(!1),sessionStorage.setItem("adsPopupShown","true")},i=async()=>{if(a?.id)try{await cue(a.id)}catch(l){console.error("Error tracking ad click:",l)}finally{a.target_url&&window.open(a.target_url,"_blank")}};return!t||!a?null:e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-fade-in",children:e.jsxs("div",{className:"relative bg-white dark:bg-gray-800 rounded-lg shadow-2xl max-w-2xl w-full mx-4 animate-scale-in",children:[e.jsx(Q,{variant:"ghost",size:"icon",onClick:r,className:"absolute top-2 right-2 z-10",children:e.jsx(ta,{className:"w-5 h-5"})}),e.jsxs("div",{className:"p-6",children:[a.image_url&&e.jsx("div",{className:"cursor-pointer mb-4 rounded-lg overflow-hidden",onClick:i,children:e.jsx("img",{src:a.image_url.startsWith("http")?a.image_url:`/api/storage/${a.image_url}`,alt:a.ads_text||"Advertisement",className:"w-full h-auto object-contain max-h-96"})}),a.ads_text&&e.jsx("div",{className:"text-center cursor-pointer",onClick:i,children:e.jsx("p",{className:"text-lg font-semibold mb-2",children:a.ads_text})}),a.target_url&&e.jsx("div",{className:"mt-4 text-center",children:e.jsx(Q,{onClick:i,className:"bg-gradient-to-r from-blue-500 to-purple-500 hover:from-blue-600 hover:to-purple-600 text-white",children:"Visit Website"})})]})]})})}const lT="https://rento-lb.com/watch",due="https://rento-lb.com/hero.mp4",CL="https://images.unsplash.com/photo-1492144534655-ae79c964c9d7?w=1280&q=80",uue={"@context":"https://schema.org","@type":"VideoObject","@id":`${lT}#video`,name:"Rento LB  Rent a Car in Lebanon",description:"Premium car rental in Lebanon. Compare and book from agencies and private owners.",thumbnailUrl:CL,uploadDate:"2024-01-01T00:00:00Z",contentUrl:due,embedUrl:lT,publisher:{"@id":"https://rento-lb.com/#organization"}};function hue(){const t=Ua();return x.useEffect(()=>{document.title="Watch  Rento LB | Car Rental Lebanon";const s=document.createElement("script");return s.type="application/ld+json",s.setAttribute("data-watch-page-schema","true"),s.textContent=JSON.stringify(uue),document.head.appendChild(s),()=>{const a=document.querySelector('script[data-watch-page-schema="true"]');a&&document.head.removeChild(a)}},[]),e.jsxs("div",{className:"min-h-screen bg-black",children:[e.jsx("div",{className:"absolute top-4 left-4 z-10",children:e.jsxs(Q,{variant:"secondary",size:"sm",onClick:()=>t("/"),className:"gap-2",children:[e.jsx(yi,{className:"w-4 h-4"}),"Back to Home"]})}),e.jsxs("div",{className:"flex flex-col items-center justify-center min-h-screen p-4",children:[e.jsx("h1",{className:"sr-only",children:"Rento LB  Rent a Car in Lebanon"}),e.jsxs("video",{className:"w-full max-w-4xl rounded-lg shadow-2xl",controls:!0,autoPlay:!0,playsInline:!0,poster:CL,src:"/hero.mp4",children:[e.jsx("source",{src:"/hero.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]}),e.jsx("p",{className:"mt-4 text-white/80 text-sm text-center max-w-lg",children:"Premium car rental in Lebanon. Compare and book from trusted agencies and private owners."})]})]})}const kL=async()=>{try{return(await xe.get("/profile/status")).data.is_complete}catch(t){return console.error("Profile status check failed:",t),!1}},mue=({children:t})=>!localStorage.getItem("authToken")?e.jsx(co,{to:"/auth",replace:!0}):t,fc=({children:t})=>{const[s,a]=x.useState(!0),[n,r]=x.useState(!1),i=!!localStorage.getItem("authToken");return x.useEffect(()=>{(async()=>{if(!i){a(!1);return}const d=await kL();r(d),a(!1)})()},[i]),i?s?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n?t:e.jsx(co,{to:"/Complete-Profile",replace:!0}):e.jsx(co,{to:"/auth",replace:!0})},pc=({children:t})=>{const[s,a]=x.useState(!0),[n,r]=x.useState(!1),i=!!localStorage.getItem("authToken"),l=JSON.parse(localStorage.getItem("user")||"{}");return x.useEffect(()=>{(async()=>{if(!i){a(!1);return}const u=await kL();r(u),a(!1)})()},[i]),i?l.role!=="agency"&&l.role!=="agent"?e.jsx(co,{to:"/",replace:!0}):s?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-primary"})}):n?t:e.jsx(co,{to:"/Complete-Profile",replace:!0}):e.jsx(co,{to:"/auth",replace:!0})},Sv=({children:t})=>{const s=!!localStorage.getItem("authToken"),a=JSON.parse(localStorage.getItem("user")||"{}");return s?a.role!=="admin"?e.jsx(co,{to:"/admin-auth",replace:!0}):t:e.jsx(co,{to:"/admin-auth",replace:!0})},Ya=({children:t,noIndex:s=!1})=>e.jsxs(e.Fragment,{children:[e.jsx(Pee,{noIndex:s}),e.jsx(sU,{}),t,e.jsx($D,{})]});function fue(){const{i18n:t}=Y8(),s=Dr();return x.useEffect(()=>{const a=localStorage.getItem("language")||"en";document.documentElement.lang=a,document.documentElement.dir=a==="ar"?"rtl":"ltr"},[]),x.useEffect(()=>{typeof window.fbq=="function"&&window.fbq("track","PageView")},[s.pathname]),e.jsxs("div",{className:"min-h-screen",children:[e.jsxs(WF,{children:[e.jsx(Et,{path:"/",element:e.jsxs(e.Fragment,{children:[e.jsx(Ya,{children:e.jsx(eW,{})}),e.jsx(kv,{})]})}),e.jsx(Et,{path:"/auth",element:e.jsx(Ya,{noIndex:!0,children:e.jsx(XG,{})})}),e.jsx(Et,{path:"/about",element:e.jsx(Ya,{children:e.jsx(rY,{})})}),e.jsx(Et,{path:"/contact",element:e.jsx(Ya,{children:e.jsx(iY,{})})}),e.jsx(Et,{path:"/watch",element:e.jsx(hue,{})}),e.jsx(Et,{path:"/mobile-app",element:e.jsx(Ya,{children:e.jsx(bie,{})})}),e.jsx(Et,{path:"/Privacy-Policy",element:e.jsx(fie,{})}),e.jsx(Et,{path:"/Terms-and-Conditions",element:e.jsx(gie,{})}),e.jsx(Et,{path:"/admin-auth",element:e.jsx(Ya,{noIndex:!0,children:e.jsx(Xoe,{})})}),e.jsx(Et,{path:"/admin-panel-page",element:e.jsx(Sv,{children:e.jsx(Ya,{noIndex:!0,children:e.jsx($oe,{})})})}),e.jsx(Et,{path:"/admin/ads-analytics",element:e.jsx(Sv,{children:e.jsx(Ya,{noIndex:!0,children:e.jsx(iue,{})})})}),e.jsxs(Et,{path:"/admin",element:e.jsx(Sv,{children:e.jsx(zce,{})}),children:[e.jsx(Et,{index:!0,element:e.jsx(Gce,{})}),e.jsx(Et,{path:"users",element:e.jsx(Zce,{})}),e.jsx(Et,{path:"agencies",element:e.jsx(Zde,{})}),e.jsx(Et,{path:"cars",element:e.jsx(dde,{})}),e.jsx(Et,{path:"bookings",element:e.jsx(vde,{})}),e.jsx(Et,{path:"real-user-data",element:e.jsx(rue,{})}),e.jsx(Et,{path:"payments",element:e.jsx(Tde,{})}),e.jsx(Et,{path:"promo-codes",element:e.jsx(Wde,{})}),e.jsx(Et,{path:"brokers",element:e.jsx(Yde,{})}),e.jsx(Et,{path:"ads",element:e.jsx(Mde,{})}),e.jsx(Et,{path:"featured",element:e.jsx(Pde,{})}),e.jsx(Et,{path:"holidays",element:e.jsx(Lde,{})}),e.jsx(Et,{path:"announcements",element:e.jsx(Fde,{})}),e.jsx(Et,{path:"appeals",element:e.jsx($de,{})}),e.jsx(Et,{path:"suggestions",element:e.jsx(Vde,{})}),e.jsx(Et,{path:"services",element:e.jsx(Jde,{})}),e.jsx(Et,{path:"notifications",element:e.jsx(Hde,{})}),e.jsx(Et,{path:"otps",element:e.jsx(Gde,{})})]}),e.jsx(Et,{path:"/Complete-Profile",element:e.jsx(mue,{children:e.jsx(Ya,{noIndex:!0,children:e.jsx(Bee,{})})})}),e.jsx(Et,{path:"/Dashboard",element:e.jsx(pc,{children:e.jsx(oc,{children:e.jsx(Ree,{})})})}),e.jsx(Et,{path:"/Statistic",element:e.jsx(pc,{children:e.jsx(oc,{children:e.jsx(mie,{})})})}),e.jsx(Et,{path:"/Mycars",element:e.jsx(pc,{children:e.jsx(oc,{children:e.jsx(lee,{})})})}),e.jsx(Et,{path:"/Mycars-bookings",element:e.jsx(pc,{children:e.jsx(oc,{children:e.jsx(Cee,{})})})}),e.jsx(Et,{path:"/Balance",element:e.jsx(pc,{children:e.jsx(oc,{children:e.jsx(Mee,{})})})}),e.jsx(Et,{path:"/add-car",element:e.jsx(pc,{children:e.jsx(oc,{children:e.jsx(vK,{})})})}),e.jsx(Et,{path:"/Add/car/qualification",element:e.jsx(pc,{children:e.jsx(oc,{children:e.jsx(Eee,{})})})}),e.jsx(Et,{path:"/BookingChat",element:e.jsx(fc,{children:e.jsx(Ya,{children:e.jsx(yee,{})})})}),e.jsx(Et,{path:"/client-Chat",element:e.jsx(fc,{children:e.jsx(Ya,{children:e.jsx(Iee,{})})})}),e.jsx(Et,{path:"/socialmedia",element:e.jsx(Ya,{children:e.jsx(See,{})})}),e.jsx(Et,{path:"/cars",element:e.jsxs(e.Fragment,{children:[e.jsx(fc,{children:e.jsx(Ya,{children:e.jsx(Kk,{})})}),e.jsx(kv,{})]})}),e.jsx(Et,{path:"/ClientBookings",element:e.jsx(fc,{children:e.jsx(Ya,{children:e.jsx(hK,{})})})}),e.jsx(Et,{path:"/luxury-car-rental-lebanon",element:e.jsxs(e.Fragment,{children:[e.jsx(fc,{children:e.jsx(Ya,{children:e.jsx(Kk,{})})}),e.jsx(kv,{})]})}),e.jsx(Et,{path:"/cars/:id",element:e.jsx(fc,{children:e.jsx(Ya,{children:e.jsx(sY,{})})})}),e.jsx(Et,{path:"/favorites",element:e.jsx(fc,{children:e.jsx(Ya,{children:e.jsx(nY,{})})})}),e.jsx(Et,{path:"*",element:e.jsx(co,{to:"/",replace:!0})})]}),e.jsx(aI,{position:"top-right",richColors:!0})]})}function pue(){return e.jsx("div",{className:"App",children:e.jsx(x9,{children:e.jsx(fue,{})})})}i8.createRoot(document.getElementById("root")).render(We.createElement(We.StrictMode,null,We.createElement(pue)));
