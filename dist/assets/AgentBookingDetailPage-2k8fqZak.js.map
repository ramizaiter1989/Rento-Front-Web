{"version":3,"file":"AgentBookingDetailPage-2k8fqZak.js","sources":["../../node_modules/lucide-react/dist/esm/icons/id-card.js","../../src/pages/AgentBookingDetailPage.jsx"],"sourcesContent":["/**\n * @license lucide-react v0.507.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"path\", { d: \"M16 10h2\", key: \"8sgtl7\" }],\n  [\"path\", { d: \"M16 14h2\", key: \"epxaof\" }],\n  [\"path\", { d: \"M6.17 15a3 3 0 0 1 5.66 0\", key: \"n6f512\" }],\n  [\"circle\", { cx: \"9\", cy: \"11\", r: \"2\", key: \"yxgjnd\" }],\n  [\"rect\", { x: \"2\", y: \"5\", width: \"20\", height: \"14\", rx: \"2\", key: \"qneu4z\" }]\n];\nconst IdCard = createLucideIcon(\"id-card\", __iconNode);\n\nexport { __iconNode, IdCard as default };\n//# sourceMappingURL=id-card.js.map\n","/**\n * Agency/Operator Booking Detail Page\n * Full-page view of booking(s) with client verification images.\n * Phone number is hidden until booking is accepted/confirmed.\n * Navigate here from booking card click or notification click.\n */\nimport React, { useEffect, useState } from \"react\";\nimport { useNavigate, useLocation } from \"react-router-dom\";\nimport { toast } from \"sonner\";\nimport api from \"@/lib/axios\";\nimport { getFeedbackTemplates, submitClientRating } from \"@/lib/api\";\nimport { motion } from \"framer-motion\";\nimport {\n  ArrowLeft, Calendar, MapPin, Phone, Mail, Shield, Star, DollarSign,\n  Check, XCircle, User, Briefcase, FileText, CreditCard, MessageCircle,\n  Image, IdCard\n} from \"lucide-react\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\n\nconst COLORS = {\n  darkBlue: \"#0E4C81\",\n  teal: \"#008C95\",\n  limeGreen: \"#8AC640\",\n  tealDim: \"rgba(0, 140, 149, 0.1)\",\n  limeGreenDim: \"rgba(138, 198, 64, 0.1)\",\n};\n\nconst getStatusConfig = (status) => {\n  const configs = {\n    pending: { label: \"Pending\", color: COLORS.teal, bgColor: COLORS.tealDim, textColor: COLORS.teal, icon: \"⏳\" },\n    confirmed: { label: \"Confirmed\", color: COLORS.limeGreen, bgColor: COLORS.limeGreenDim, textColor: COLORS.limeGreen, icon: \"✓\" },\n    accepted: { label: \"Accepted\", color: COLORS.darkBlue, bgColor: \"rgba(14, 76, 129, 0.1)\", textColor: COLORS.darkBlue, icon: \"✓\" },\n    rejected: { label: \"Rejected\", color: \"#DC2626\", bgColor: \"rgba(220, 38, 38, 0.1)\", textColor: \"#DC2626\", icon: \"✕\" },\n    completed: { label: \"Completed\", color: COLORS.limeGreen, bgColor: COLORS.limeGreenDim, textColor: COLORS.limeGreen, icon: \"✓\" },\n  };\n  return configs[status] || configs.pending;\n};\n\nconst resolveImageUrl = (urlOrPath) => {\n  if (!urlOrPath) return null;\n  if (typeof urlOrPath === \"string\" && urlOrPath.startsWith(\"http\")) return urlOrPath;\n  return `/api/storage/${urlOrPath.replace(/^\\//, \"\")}`;\n};\n\nconst formatDateTime = (dateString) => {\n  if (!dateString) return \"N/A\";\n  return new Date(dateString).toLocaleDateString(\"en-US\", {\n    year: \"numeric\",\n    month: \"short\",\n    day: \"numeric\",\n    hour: \"2-digit\",\n    minute: \"2-digit\",\n  });\n};\n\nconst formatDateShort = (dateString) => {\n  if (!dateString) return \"N/A\";\n  return new Date(dateString).toLocaleDateString(\"en-US\", { month: \"short\", day: \"numeric\" });\n};\n\nconst getLocationLabel = (loc) => {\n  if (!loc) return \"N/A\";\n  if (typeof loc === \"string\") return loc;\n  if (typeof loc === \"object\" && loc.address) return loc.address;\n  return String(loc);\n};\n\nexport function AgentBookingDetailPage() {\n  const navigate = useNavigate();\n  const location = useLocation();\n  const state = location.state || {};\n  const { bookingId, car, bookings: stateBookings } = state;\n\n  const [bookings, setBookings] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [processingBookingId, setProcessingBookingId] = useState(null);\n  const [rateClientBooking, setRateClientBooking] = useState(null);\n  const [rateForm, setRateForm] = useState({ rating: 0, template_selections: [], comment: \"\" });\n  const [rateSubmitting, setRateSubmitting] = useState(false);\n  const [agentTemplates, setAgentTemplates] = useState([]);\n\n  useEffect(() => {\n    const load = async () => {\n      setLoading(true);\n      try {\n        if (bookingId) {\n          const { data } = await api.get(`/bookings/${bookingId}`);\n          setBookings([data.booking || data]);\n        } else if (stateBookings && stateBookings.length > 0) {\n          setBookings(stateBookings);\n        } else {\n          toast.error(\"No booking data\");\n          navigate(\"/Mycars-bookings\");\n          return;\n        }\n      } catch (err) {\n        console.error(\"Error loading booking:\", err);\n        toast.error(\"Failed to load booking\");\n        navigate(\"/Mycars-bookings\");\n      } finally {\n        setLoading(false);\n      }\n    };\n    load();\n  }, [bookingId, stateBookings, navigate]);\n\n  useEffect(() => {\n    getFeedbackTemplates()\n      .then(({ data }) => setAgentTemplates(data?.agent_rates_client || []))\n      .catch(() => {});\n  }, []);\n\n  const handleAcceptBooking = async (id) => {\n    setProcessingBookingId(id);\n    try {\n      await api.post(`/driver/bookings/${id}/accept`);\n      setBookings((prev) =>\n        prev.map((b) =>\n          b.id === id ? { ...b, booking_request_status: \"confirmed\" } : b\n        )\n      );\n      toast.success(\"Booking accepted!\");\n    } catch (err) {\n      toast.error(\"Failed to accept booking\");\n    } finally {\n      setProcessingBookingId(null);\n    }\n  };\n\n  const handleRejectBooking = async (id) => {\n    if (!confirm(\"Reject this booking?\")) return;\n    setProcessingBookingId(id);\n    try {\n      await api.post(`/driver/bookings/${id}/decline`);\n      setBookings((prev) => prev.filter((b) => b.id !== id));\n      if (bookings.length <= 1) navigate(\"/Mycars-bookings\");\n      toast.success(\"Booking rejected\");\n    } catch (err) {\n      toast.error(\"Failed to reject booking\");\n    } finally {\n      setProcessingBookingId(null);\n    }\n  };\n\n  const canShowRateClient = (b) => {\n    const status = b?.booking_request_status;\n    const isConfirmed = status === \"confirmed\" || status === \"accepted\";\n    const tripEnded = b?.end_datetime && new Date(b.end_datetime) < new Date();\n    return Boolean(isConfirmed && tripEnded && !b?.client_rating);\n  };\n\n  const openRateClientForm = (b) => setRateClientBooking(b);\n  const closeRateClientForm = () => {\n    setRateClientBooking(null);\n    setRateForm({ rating: 0, template_selections: [], comment: \"\" });\n  };\n\n  const toggleTemplateSelection = (id) => {\n    setRateForm((prev) => ({\n      ...prev,\n      template_selections: prev.template_selections.includes(id)\n        ? prev.template_selections.filter((t) => t !== id)\n        : [...prev.template_selections, id],\n    }));\n  };\n\n  const handleSubmitClientRating = async () => {\n    if (!rateClientBooking || rateForm.rating < 1 || rateForm.rating > 5) {\n      toast.error(\"Please select a rating (1–5 stars).\");\n      return;\n    }\n    setRateSubmitting(true);\n    try {\n      await submitClientRating(rateClientBooking.id, {\n        rating: rateForm.rating,\n        template_selections: rateForm.template_selections,\n        comment: rateForm.comment.slice(0, 1000),\n      });\n      toast.success(\"Rating submitted.\");\n      closeRateClientForm();\n      setBookings((prev) =>\n        prev.map((b) =>\n          b.id === rateClientBooking.id ? { ...b, client_rating: true } : b\n        )\n      );\n    } catch (err) {\n      toast.error(err.response?.data?.message || \"Failed to submit rating.\");\n    } finally {\n      setRateSubmitting(false);\n    }\n  };\n\n  const calculateDuration = (start, end) => {\n    const s = new Date(start);\n    const e = new Date(end);\n    return Math.ceil((e - s) / (1000 * 60 * 60 * 24));\n  };\n\n  if (loading || bookings.length === 0) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 dark:from-gray-950 dark:via-gray-900 dark:to-black pt-24 flex items-center justify-center\">\n        <div className=\"animate-spin rounded-full h-12 w-12 border-4 border-t-teal-500\" />\n      </div>\n    );\n  }\n\n  const firstCar = bookings[0]?.car || car;\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-100 dark:from-gray-950 dark:via-gray-900 dark:to-black pt-24 pb-12\">\n      <div className=\"container mx-auto px-4 max-w-4xl\">\n        <motion.button\n          initial={{ opacity: 0, x: -20 }}\n          animate={{ opacity: 1, x: 0 }}\n          onClick={() => navigate(\"/Mycars-bookings\")}\n          className=\"flex items-center gap-2 text-gray-600 dark:text-gray-400 hover:text-teal-600 dark:hover:text-teal-400 mb-6 transition-colors\"\n        >\n          <ArrowLeft className=\"w-5 h-5\" />\n          Back to Bookings\n        </motion.button>\n\n        {bookings.map((booking, idx) => {\n          const client = booking.client || {};\n          const profile = client.profile || {};\n          const config = getStatusConfig(booking.booking_request_status);\n          const isAccepted =\n            booking.booking_request_status === \"confirmed\" ||\n            booking.booking_request_status === \"accepted\";\n\n          const idCardFront = client.id_card_front_url || client.id_card_front;\n          const idCardBack = client.id_card_back_url || client.id_card_back;\n          const driverLicense = profile.driver_license_url || profile.driver_license;\n          const profilePic = client.profile_picture_url || client.profile_picture;\n\n          return (\n            <motion.div\n              key={booking.id}\n              initial={{ opacity: 0, y: 20 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ delay: idx * 0.05 }}\n              className=\"bg-white dark:bg-gray-800 rounded-2xl shadow-xl border border-gray-200 dark:border-gray-700 overflow-hidden mb-8\"\n            >\n              {/* Header */}\n              <div\n                className=\"p-6 text-white\"\n                style={{\n                  background: `linear-gradient(135deg, ${COLORS.teal}, ${COLORS.darkBlue})`,\n                }}\n              >\n                <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\n                  <div className=\"flex items-center gap-4\">\n                    {firstCar?.main_image_url && (\n                      <img\n                        src={resolveImageUrl(firstCar.main_image_url)}\n                        alt=\"\"\n                        className=\"w-16 h-12 object-cover rounded-lg border-2 border-white/30\"\n                      />\n                    )}\n                    <div>\n                      <h1 className=\"text-2xl font-bold\">\n                        {firstCar?.make} {firstCar?.model}\n                      </h1>\n                      <p className=\"text-sm opacity-90\">\n                        {firstCar?.year} • {formatDateShort(booking.start_datetime)} – {formatDateShort(booking.end_datetime)}\n                      </p>\n                    </div>\n                  </div>\n                  <span\n                    className=\"px-4 py-2 rounded-xl font-bold text-sm shrink-0\"\n                    style={{ background: \"rgba(255,255,255,0.2)\", color: \"white\" }}\n                  >\n                    {config.label}\n                  </span>\n                </div>\n              </div>\n\n              <div className=\"p-6 space-y-8\">\n                {/* Client verification images */}\n                <section>\n                  <h2 className=\"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2\">\n                    <IdCard className=\"w-5 h-5\" style={{ color: COLORS.teal }} />\n                    Client Verification\n                  </h2>\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4\">\n                    <div className=\"rounded-xl border border-gray-200 dark:border-gray-600 overflow-hidden bg-gray-50 dark:bg-gray-900/50\">\n                      <p className=\"text-xs font-semibold text-gray-500 dark:text-gray-400 px-3 py-2 border-b border-gray-200 dark:border-gray-600\">\n                        Profile Photo\n                      </p>\n                      <div className=\"aspect-square flex items-center justify-center p-2\">\n                        {profilePic ? (\n                          <img\n                            src={resolveImageUrl(profilePic)}\n                            alt=\"Profile\"\n                            className=\"w-full h-full object-cover rounded-lg\"\n                          />\n                        ) : (\n                          <User className=\"w-16 h-16 text-gray-300 dark:text-gray-600\" />\n                        )}\n                      </div>\n                    </div>\n                    <div className=\"rounded-xl border border-gray-200 dark:border-gray-600 overflow-hidden bg-gray-50 dark:bg-gray-900/50\">\n                      <p className=\"text-xs font-semibold text-gray-500 dark:text-gray-400 px-3 py-2 border-b border-gray-200 dark:border-gray-600\">\n                        ID Card (Front)\n                      </p>\n                      <div className=\"aspect-[4/3] flex items-center justify-center p-2\">\n                        {idCardFront ? (\n                          <img\n                            src={resolveImageUrl(idCardFront)}\n                            alt=\"ID Front\"\n                            className=\"w-full h-full object-contain rounded-lg\"\n                          />\n                        ) : (\n                          <Image className=\"w-12 h-12 text-gray-300 dark:text-gray-600\" />\n                        )}\n                      </div>\n                    </div>\n                    <div className=\"rounded-xl border border-gray-200 dark:border-gray-600 overflow-hidden bg-gray-50 dark:bg-gray-900/50\">\n                      <p className=\"text-xs font-semibold text-gray-500 dark:text-gray-400 px-3 py-2 border-b border-gray-200 dark:border-gray-600\">\n                        ID Card (Back)\n                      </p>\n                      <div className=\"aspect-[4/3] flex items-center justify-center p-2\">\n                        {idCardBack ? (\n                          <img\n                            src={resolveImageUrl(idCardBack)}\n                            alt=\"ID Back\"\n                            className=\"w-full h-full object-contain rounded-lg\"\n                          />\n                        ) : (\n                          <Image className=\"w-12 h-12 text-gray-300 dark:text-gray-600\" />\n                        )}\n                      </div>\n                    </div>\n                    <div className=\"rounded-xl border border-gray-200 dark:border-gray-600 overflow-hidden bg-gray-50 dark:bg-gray-900/50\">\n                      <p className=\"text-xs font-semibold text-gray-500 dark:text-gray-400 px-3 py-2 border-b border-gray-200 dark:border-gray-600\">\n                        Driver License\n                      </p>\n                      <div className=\"aspect-[4/3] flex items-center justify-center p-2\">\n                        {driverLicense ? (\n                          <img\n                            src={resolveImageUrl(driverLicense)}\n                            alt=\"Driver License\"\n                            className=\"w-full h-full object-contain rounded-lg\"\n                          />\n                        ) : (\n                          <CreditCard className=\"w-12 h-12 text-gray-300 dark:text-gray-600\" />\n                        )}\n                      </div>\n                    </div>\n                  </div>\n                </section>\n\n                {/* Client info - no phone until accepted */}\n                <section>\n                  <h2 className=\"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2\">\n                    <User className=\"w-5 h-5\" style={{ color: COLORS.teal }} />\n                    Client Details\n                  </h2>\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4\">\n                    <InfoCard icon={User} label=\"Name\" value={`${client.first_name || \"\"} ${client.last_name || \"\"}`.trim() || \"N/A\"} />\n                    <InfoCard icon={Mail} label=\"Email\" value={client.email || \"N/A\"} />\n                    <InfoCard\n                      icon={Phone}\n                      label=\"Phone\"\n                      value={isAccepted ? (client.phone_number || \"N/A\") : \"Hidden until booking accepted\"}\n                      muted={!isAccepted}\n                    />\n                    <InfoCard icon={MapPin} label=\"City\" value={client.city || \"N/A\"} />\n                    <InfoCard icon={Briefcase} label=\"Profession\" value={profile.profession || \"N/A\"} />\n                    <InfoCard icon={FileText} label=\"License #\" value={profile.license_number || \"N/A\"} />\n                  </div>\n                </section>\n\n                {/* Rental & payment */}\n                <section>\n                  <h2 className=\"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2\">\n                    <Calendar className=\"w-5 h-5\" style={{ color: COLORS.teal }} />\n                    Rental & Payment\n                  </h2>\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\n                    <div className=\"rounded-xl border border-gray-200 dark:border-gray-600 p-4 bg-gray-50/50 dark:bg-gray-900/30\">\n                      <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-1\">Period</p>\n                      <p className=\"font-semibold\">\n                        {formatDateTime(booking.start_datetime)} – {formatDateTime(booking.end_datetime)}\n                      </p>\n                      <p className=\"text-sm mt-2\" style={{ color: COLORS.teal }}>\n                        {calculateDuration(booking.start_datetime, booking.end_datetime)} days\n                      </p>\n                    </div>\n                    <div className=\"rounded-xl border border-gray-200 dark:border-gray-600 p-4 bg-gray-50/50 dark:bg-gray-900/30\">\n                      <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-1\">Total / Net</p>\n                      <p className=\"font-bold text-lg\" style={{ color: COLORS.limeGreen }}>\n                        ${booking.total_booking_price ?? \"0.00\"}\n                      </p>\n                      {booking.app_fees_amount != null && (\n                        <p className=\"text-sm\" style={{ color: COLORS.teal }}>\n                          Net: ${(parseFloat(booking.total_booking_price || 0) - (booking.app_fees_amount || 0)).toFixed(2)}\n                        </p>\n                      )}\n                    </div>\n                  </div>\n                  {booking.needs_delivery && (\n                    <p className=\"mt-2 text-sm text-gray-600 dark:text-gray-400\">Delivery requested</p>\n                  )}\n                  <p className=\"mt-2 text-sm text-gray-600 dark:text-gray-400\">\n                    Pickup: {getLocationLabel(booking.pickup_location)}\n                  </p>\n                </section>\n\n                {/* Actions */}\n                {booking.booking_request_status === \"pending\" && (\n                  <div className=\"flex flex-col sm:flex-row gap-3 pt-4 border-t border-gray-200 dark:border-gray-700\">\n                    <motion.button\n                      whileHover={{ scale: 1.01 }}\n                      whileTap={{ scale: 0.99 }}\n                      onClick={() => handleAcceptBooking(booking.id)}\n                      disabled={processingBookingId === booking.id}\n                      className=\"flex-1 py-3 px-6 rounded-xl font-bold flex items-center justify-center gap-2 text-white disabled:opacity-50\"\n                      style={{ background: `linear-gradient(135deg, ${COLORS.limeGreen}, ${COLORS.teal})` }}\n                    >\n                      <Check className=\"w-5 h-5\" />\n                      {processingBookingId === booking.id ? \"Processing...\" : \"Accept Booking\"}\n                    </motion.button>\n                    <motion.button\n                      whileHover={{ scale: 1.01 }}\n                      whileTap={{ scale: 0.99 }}\n                      onClick={() => handleRejectBooking(booking.id)}\n                      disabled={processingBookingId === booking.id}\n                      className=\"flex-1 py-3 px-6 rounded-xl font-bold flex items-center justify-center gap-2 bg-red-500 hover:bg-red-600 text-white disabled:opacity-50\"\n                    >\n                      <XCircle className=\"w-5 h-5\" />\n                      Reject\n                    </motion.button>\n                  </div>\n                )}\n\n                {isAccepted && (\n                  <div className=\"pt-4 border-t border-gray-200 dark:border-gray-700\">\n                    <motion.button\n                      whileHover={{ scale: 1.01 }}\n                      whileTap={{ scale: 0.99 }}\n                      onClick={() => navigate(\"/BookingChat\", { state: { bookingId: booking.id } })}\n                      className=\"w-full sm:w-auto py-3 px-6 rounded-xl font-bold flex items-center justify-center gap-2 bg-sky-500 hover:bg-sky-600 text-white\"\n                    >\n                      <MessageCircle className=\"w-5 h-5\" />\n                      Chat with client\n                    </motion.button>\n                  </div>\n                )}\n\n                {canShowRateClient(booking) && (\n                  <div className=\"pt-4 border-t border-gray-200 dark:border-gray-700\">\n                    <motion.button\n                      whileHover={{ scale: 1.01 }}\n                      whileTap={{ scale: 0.99 }}\n                      onClick={() => openRateClientForm(booking)}\n                      className=\"py-2.5 px-4 rounded-xl font-bold text-white\"\n                      style={{ background: `linear-gradient(135deg, ${COLORS.teal}, ${COLORS.darkBlue})` }}\n                    >\n                      Rate client\n                    </motion.button>\n                  </div>\n                )}\n              </div>\n            </motion.div>\n          );\n        })}\n      </div>\n\n      {/* Rate client dialog */}\n      <Dialog open={!!rateClientBooking} onOpenChange={(o) => !o && closeRateClientForm()}>\n        <DialogContent className=\"sm:max-w-md bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700\">\n          <DialogHeader>\n            <DialogTitle>Rate client</DialogTitle>\n          </DialogHeader>\n          <div className=\"space-y-4 pt-2\">\n            <div>\n              <label className=\"block text-sm font-semibold mb-2\">Rating *</label>\n              <div className=\"flex gap-2\">\n                {[1, 2, 3, 4, 5].map((star) => (\n                  <button\n                    key={star}\n                    type=\"button\"\n                    onClick={() => setRateForm((p) => ({ ...p, rating: star }))}\n                    className={`p-2 rounded-lg border-2 ${\n                      rateForm.rating >= star ? \"border-amber-400 bg-amber-50\" : \"border-gray-200\"\n                    }`}\n                  >\n                    <Star className={`w-6 h-6 ${rateForm.rating >= star ? \"fill-amber-400 text-amber-400\" : \"text-gray-400\"}`} />\n                  </button>\n                ))}\n              </div>\n            </div>\n            {agentTemplates.length > 0 && (\n              <div>\n                <label className=\"block text-sm font-semibold mb-2\">Tags</label>\n                <div className=\"flex flex-wrap gap-2\">\n                  {agentTemplates.map((t) => (\n                    <button\n                      key={t.id}\n                      type=\"button\"\n                      onClick={() => toggleTemplateSelection(t.id)}\n                      className={`px-3 py-1.5 rounded-full text-sm border-2 ${\n                        rateForm.template_selections.includes(t.id) ? \"border-teal-500 bg-teal-50\" : \"border-gray-200\"\n                      }`}\n                    >\n                      {t.label}\n                    </button>\n                  ))}\n                </div>\n              </div>\n            )}\n            <div>\n              <label className=\"block text-sm font-semibold mb-2\">Comment</label>\n              <textarea\n                value={rateForm.comment}\n                onChange={(e) => setRateForm((p) => ({ ...p, comment: e.target.value.slice(0, 1000) }))}\n                rows={3}\n                className=\"w-full px-3 py-2 rounded-xl border dark:bg-gray-900 dark:border-gray-600\"\n              />\n            </div>\n            <div className=\"flex gap-2\">\n              <button\n                type=\"button\"\n                onClick={closeRateClientForm}\n                className=\"flex-1 py-2.5 rounded-xl border border-gray-200\"\n              >\n                Cancel\n              </button>\n              <button\n                type=\"button\"\n                onClick={handleSubmitClientRating}\n                disabled={rateSubmitting || rateForm.rating < 1}\n                className=\"flex-1 py-2.5 rounded-xl font-bold text-white disabled:opacity-50\"\n                style={{ background: COLORS.teal }}\n              >\n                {rateSubmitting ? \"Submitting…\" : \"Submit\"}\n              </button>\n            </div>\n          </div>\n        </DialogContent>\n      </Dialog>\n    </div>\n  );\n}\n\nfunction InfoCard({ icon: Icon, label, value, muted }) {\n  return (\n    <div className=\"rounded-xl border border-gray-200 dark:border-gray-600 p-3 bg-gray-50/50 dark:bg-gray-900/30\">\n      <div className=\"flex items-center gap-2 mb-1\">\n        <Icon className=\"w-4 h-4 text-gray-500\" />\n        <p className=\"text-xs text-gray-500 dark:text-gray-400\">{label}</p>\n      </div>\n      <p className={`font-semibold text-sm truncate ${muted ? \"text-gray-400 italic\" : \"\"}`}>\n        {value || \"N/A\"}\n      </p>\n    </div>\n  );\n}\n"],"names":["__iconNode","IdCard","createLucideIcon","COLORS","getStatusConfig","status","configs","resolveImageUrl","urlOrPath","formatDateTime","dateString","formatDateShort","getLocationLabel","loc","AgentBookingDetailPage","navigate","useNavigate","state","useLocation","bookingId","car","stateBookings","bookings","setBookings","useState","loading","setLoading","processingBookingId","setProcessingBookingId","rateClientBooking","setRateClientBooking","rateForm","setRateForm","rateSubmitting","setRateSubmitting","agentTemplates","setAgentTemplates","useEffect","data","api","toast","err","getFeedbackTemplates","handleAcceptBooking","id","prev","b","handleRejectBooking","canShowRateClient","isConfirmed","tripEnded","openRateClientForm","closeRateClientForm","toggleTemplateSelection","t","handleSubmitClientRating","submitClientRating","calculateDuration","start","end","e","jsx","firstCar","jsxs","motion","ArrowLeft","booking","idx","client","profile","config","isAccepted","idCardFront","idCardBack","driverLicense","profilePic","User","Image","CreditCard","InfoCard","Mail","Phone","MapPin","Briefcase","FileText","Calendar","Check","XCircle","MessageCircle","Dialog","o","DialogContent","DialogHeader","DialogTitle","star","p","Star","Icon","label","value","muted"],"mappings":"szBASA,MAAMA,GAAa,CACjB,CAAC,OAAQ,CAAE,EAAG,WAAY,IAAK,QAAQ,CAAE,EACzC,CAAC,OAAQ,CAAE,EAAG,WAAY,IAAK,QAAQ,CAAE,EACzC,CAAC,OAAQ,CAAE,EAAG,4BAA6B,IAAK,QAAQ,CAAE,EAC1D,CAAC,SAAU,CAAE,GAAI,IAAK,GAAI,KAAM,EAAG,IAAK,IAAK,SAAU,EACvD,CAAC,OAAQ,CAAE,EAAG,IAAK,EAAG,IAAK,MAAO,KAAM,OAAQ,KAAM,GAAI,IAAK,IAAK,QAAQ,CAAE,CAChF,EACMC,GAASC,EAAiB,UAAWF,EAAU,ECQ/CG,EAAS,CACb,SAAU,UACV,KAAM,UACN,UAAW,UACX,QAAS,yBACT,aAAc,yBAChB,EAEMC,GAAmBC,GAAW,CAClC,MAAMC,EAAU,CACd,QAAS,CAAE,MAAO,UAAW,MAAOH,EAAO,KAAM,QAASA,EAAO,QAAS,UAAWA,EAAO,KAAM,KAAM,GAAA,EACxG,UAAW,CAAE,MAAO,YAAa,MAAOA,EAAO,UAAW,QAASA,EAAO,aAAc,UAAWA,EAAO,UAAW,KAAM,GAAA,EAC3H,SAAU,CAAE,MAAO,WAAY,MAAOA,EAAO,SAAU,QAAS,yBAA0B,UAAWA,EAAO,SAAU,KAAM,GAAA,EAC5H,SAAU,CAAE,MAAO,WAAY,MAAO,UAAW,QAAS,yBAA0B,UAAW,UAAW,KAAM,GAAA,EAChH,UAAW,CAAE,MAAO,YAAa,MAAOA,EAAO,UAAW,QAASA,EAAO,aAAc,UAAWA,EAAO,UAAW,KAAM,GAAA,CAAI,EAEjI,OAAOG,EAAQD,CAAM,GAAKC,EAAQ,OACpC,EAEMC,EAAmBC,GAClBA,EACD,OAAOA,GAAc,UAAYA,EAAU,WAAW,MAAM,EAAUA,EACnE,gBAAgBA,EAAU,QAAQ,MAAO,EAAE,CAAC,GAF5B,KAKnBC,EAAkBC,GACjBA,EACE,IAAI,KAAKA,CAAU,EAAE,mBAAmB,QAAS,CACtD,KAAM,UACN,MAAO,QACP,IAAK,UACL,KAAM,UACN,OAAQ,SAAA,CACT,EAPuB,MAUpBC,EAAmBD,GAClBA,EACE,IAAI,KAAKA,CAAU,EAAE,mBAAmB,QAAS,CAAE,MAAO,QAAS,IAAK,UAAW,EADlE,MAIpBE,GAAoBC,GACnBA,EACD,OAAOA,GAAQ,SAAiBA,EAChC,OAAOA,GAAQ,UAAYA,EAAI,QAAgBA,EAAI,QAChD,OAAOA,CAAG,EAHA,MAMZ,SAASC,IAAyB,CACvC,MAAMC,EAAWC,EAAA,EAEXC,EADWC,EAAA,EACM,OAAS,CAAA,EAC1B,CAAE,UAAAC,EAAW,IAAAC,EAAK,SAAUC,GAAkBJ,EAE9C,CAACK,EAAUC,CAAW,EAAIC,EAAAA,SAAS,CAAA,CAAE,EACrC,CAACC,EAASC,CAAU,EAAIF,EAAAA,SAAS,EAAI,EACrC,CAACG,EAAqBC,CAAsB,EAAIJ,EAAAA,SAAS,IAAI,EAC7D,CAACK,EAAmBC,CAAoB,EAAIN,EAAAA,SAAS,IAAI,EACzD,CAACO,EAAUC,CAAW,EAAIR,EAAAA,SAAS,CAAE,OAAQ,EAAG,oBAAqB,CAAA,EAAI,QAAS,GAAI,EACtF,CAACS,EAAgBC,CAAiB,EAAIV,EAAAA,SAAS,EAAK,EACpD,CAACW,EAAgBC,CAAiB,EAAIZ,EAAAA,SAAS,CAAA,CAAE,EAEvDa,EAAAA,UAAU,IAAM,EACD,SAAY,CACvBX,EAAW,EAAI,EACf,GAAI,CACF,GAAIP,EAAW,CACb,KAAM,CAAE,KAAAmB,GAAS,MAAMC,EAAI,IAAI,aAAapB,CAAS,EAAE,EACvDI,EAAY,CAACe,EAAK,SAAWA,CAAI,CAAC,CACpC,SAAWjB,GAAiBA,EAAc,OAAS,EACjDE,EAAYF,CAAa,MACpB,CACLmB,EAAM,MAAM,iBAAiB,EAC7BzB,EAAS,kBAAkB,EAC3B,MACF,CACF,OAAS0B,EAAK,CACZ,QAAQ,MAAM,yBAA0BA,CAAG,EAC3CD,EAAM,MAAM,wBAAwB,EACpCzB,EAAS,kBAAkB,CAC7B,QAAA,CACEW,EAAW,EAAK,CAClB,CACF,GACA,CACF,EAAG,CAACP,EAAWE,EAAeN,CAAQ,CAAC,EAEvCsB,EAAAA,UAAU,IAAM,CACdK,KACG,KAAK,CAAC,CAAE,KAAAJ,KAAWF,EAAkBE,GAAM,oBAAsB,CAAA,CAAE,CAAC,EACpE,MAAM,IAAM,CAAC,CAAC,CACnB,EAAG,CAAA,CAAE,EAEL,MAAMK,EAAsB,MAAOC,GAAO,CACxChB,EAAuBgB,CAAE,EACzB,GAAI,CACF,MAAML,EAAI,KAAK,oBAAoBK,CAAE,SAAS,EAC9CrB,EAAasB,GACXA,EAAK,IAAKC,GACRA,EAAE,KAAOF,EAAK,CAAE,GAAGE,EAAG,uBAAwB,aAAgBA,CAAA,CAChE,EAEFN,EAAM,QAAQ,mBAAmB,CACnC,MAAc,CACZA,EAAM,MAAM,0BAA0B,CACxC,QAAA,CACEZ,EAAuB,IAAI,CAC7B,CACF,EAEMmB,EAAsB,MAAOH,GAAO,CACxC,GAAK,QAAQ,sBAAsB,EACnC,CAAAhB,EAAuBgB,CAAE,EACzB,GAAI,CACF,MAAML,EAAI,KAAK,oBAAoBK,CAAE,UAAU,EAC/CrB,EAAasB,GAASA,EAAK,OAAQC,GAAMA,EAAE,KAAOF,CAAE,CAAC,EACjDtB,EAAS,QAAU,GAAGP,EAAS,kBAAkB,EACrDyB,EAAM,QAAQ,kBAAkB,CAClC,MAAc,CACZA,EAAM,MAAM,0BAA0B,CACxC,QAAA,CACEZ,EAAuB,IAAI,CAC7B,EACF,EAEMoB,EAAqBF,GAAM,CAC/B,MAAMzC,EAASyC,GAAG,uBACZG,EAAc5C,IAAW,aAAeA,IAAW,WACnD6C,EAAYJ,GAAG,cAAgB,IAAI,KAAKA,EAAE,YAAY,EAAI,IAAI,KACpE,MAAO,GAAQG,GAAeC,GAAa,CAACJ,GAAG,cACjD,EAEMK,EAAsBL,GAAMhB,EAAqBgB,CAAC,EAClDM,EAAsB,IAAM,CAChCtB,EAAqB,IAAI,EACzBE,EAAY,CAAE,OAAQ,EAAG,oBAAqB,GAAI,QAAS,GAAI,CACjE,EAEMqB,EAA2BT,GAAO,CACtCZ,EAAaa,IAAU,CACrB,GAAGA,EACH,oBAAqBA,EAAK,oBAAoB,SAASD,CAAE,EACrDC,EAAK,oBAAoB,OAAQS,GAAMA,IAAMV,CAAE,EAC/C,CAAC,GAAGC,EAAK,oBAAqBD,CAAE,CAAA,EACpC,CACJ,EAEMW,EAA2B,SAAY,CAC3C,GAAI,CAAC1B,GAAqBE,EAAS,OAAS,GAAKA,EAAS,OAAS,EAAG,CACpES,EAAM,MAAM,qCAAqC,EACjD,MACF,CACAN,EAAkB,EAAI,EACtB,GAAI,CACF,MAAMsB,GAAmB3B,EAAkB,GAAI,CAC7C,OAAQE,EAAS,OACjB,oBAAqBA,EAAS,oBAC9B,QAASA,EAAS,QAAQ,MAAM,EAAG,GAAI,CAAA,CACxC,EACDS,EAAM,QAAQ,mBAAmB,EACjCY,EAAA,EACA7B,EAAasB,GACXA,EAAK,IAAKC,GACRA,EAAE,KAAOjB,EAAkB,GAAK,CAAE,GAAGiB,EAAG,cAAe,IAASA,CAAA,CAClE,CAEJ,OAASL,EAAK,CACZD,EAAM,MAAMC,EAAI,UAAU,MAAM,SAAW,0BAA0B,CACvE,QAAA,CACEP,EAAkB,EAAK,CACzB,CACF,EAEMuB,EAAoB,CAACC,EAAOC,IAAQ,CACxC,MAAM,EAAI,IAAI,KAAKD,CAAK,EAClBE,EAAI,IAAI,KAAKD,CAAG,EACtB,OAAO,KAAK,MAAMC,EAAI,IAAM,IAAO,GAAK,GAAK,GAAG,CAClD,EAEA,GAAInC,GAAWH,EAAS,SAAW,EACjC,OACEuC,MAAC,OAAI,UAAU,8JACb,eAAC,MAAA,CAAI,UAAU,iEAAiE,CAAA,CAClF,EAIJ,MAAMC,EAAWxC,EAAS,CAAC,GAAG,KAAOF,EAErC,OACE2C,EAAAA,KAAC,MAAA,CAAI,UAAU,mIACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,mCACb,SAAA,CAAAA,EAAAA,KAACC,EAAO,OAAP,CACC,QAAS,CAAE,QAAS,EAAG,EAAG,GAAA,EAC1B,QAAS,CAAE,QAAS,EAAG,EAAG,CAAA,EAC1B,QAAS,IAAMjD,EAAS,kBAAkB,EAC1C,UAAU,+HAEV,SAAA,CAAA8C,EAAAA,IAACI,GAAA,CAAU,UAAU,SAAA,CAAU,EAAE,kBAAA,CAAA,CAAA,EAIlC3C,EAAS,IAAI,CAAC4C,EAASC,IAAQ,CAC9B,MAAMC,EAASF,EAAQ,QAAU,CAAA,EAC3BG,EAAUD,EAAO,SAAW,CAAA,EAC5BE,EAASlE,GAAgB8D,EAAQ,sBAAsB,EACvDK,EACJL,EAAQ,yBAA2B,aACnCA,EAAQ,yBAA2B,WAE/BM,EAAcJ,EAAO,mBAAqBA,EAAO,cACjDK,EAAaL,EAAO,kBAAoBA,EAAO,aAC/CM,EAAgBL,EAAQ,oBAAsBA,EAAQ,eACtDM,EAAaP,EAAO,qBAAuBA,EAAO,gBAExD,OACEL,EAAAA,KAACC,EAAO,IAAP,CAEC,QAAS,CAAE,QAAS,EAAG,EAAG,EAAA,EAC1B,QAAS,CAAE,QAAS,EAAG,EAAG,CAAA,EAC1B,WAAY,CAAE,MAAOG,EAAM,GAAA,EAC3B,UAAU,mHAGV,SAAA,CAAAN,EAAAA,IAAC,MAAA,CACC,UAAU,iBACV,MAAO,CACL,WAAY,2BAA2B1D,EAAO,IAAI,KAAKA,EAAO,QAAQ,GAAA,EAGxE,SAAA4D,EAAAA,KAAC,MAAA,CAAI,UAAU,qEACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACZ,SAAA,CAAAD,GAAU,gBACTD,EAAAA,IAAC,MAAA,CACC,IAAKtD,EAAgBuD,EAAS,cAAc,EAC5C,IAAI,GACJ,UAAU,4DAAA,CAAA,SAGb,MAAA,CACC,SAAA,CAAAC,EAAAA,KAAC,KAAA,CAAG,UAAU,qBACX,SAAA,CAAAD,GAAU,KAAK,IAAEA,GAAU,KAAA,EAC9B,EACAC,EAAAA,KAAC,IAAA,CAAE,UAAU,qBACV,SAAA,CAAAD,GAAU,KAAK,MAAInD,EAAgBuD,EAAQ,cAAc,EAAE,MAAIvD,EAAgBuD,EAAQ,YAAY,CAAA,CAAA,CACtG,CAAA,CAAA,CACF,CAAA,EACF,EACAL,EAAAA,IAAC,OAAA,CACC,UAAU,kDACV,MAAO,CAAE,WAAY,wBAAyB,MAAO,OAAA,EAEpD,SAAAS,EAAO,KAAA,CAAA,CACV,CAAA,CACF,CAAA,CAAA,EAGFP,EAAAA,KAAC,MAAA,CAAI,UAAU,gBAEb,SAAA,CAAAA,OAAC,UAAA,CACC,SAAA,CAAAA,EAAAA,KAAC,KAAA,CAAG,UAAU,+EACZ,SAAA,CAAAF,MAAC5D,GAAA,CAAO,UAAU,UAAU,MAAO,CAAE,MAAOE,EAAO,MAAQ,EAAE,qBAAA,EAE/D,EACA4D,EAAAA,KAAC,MAAA,CAAI,UAAU,uDACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,wGACb,SAAA,CAAAF,EAAAA,IAAC,IAAA,CAAE,UAAU,iHAAiH,SAAA,gBAE9H,EACAA,EAAAA,IAAC,MAAA,CAAI,UAAU,qDACZ,SAAAc,EACCd,EAAAA,IAAC,MAAA,CACC,IAAKtD,EAAgBoE,CAAU,EAC/B,IAAI,UACJ,UAAU,uCAAA,CAAA,EAGZd,EAAAA,IAACe,EAAA,CAAK,UAAU,6CAA6C,CAAA,CAEjE,CAAA,EACF,EACAb,EAAAA,KAAC,MAAA,CAAI,UAAU,wGACb,SAAA,CAAAF,EAAAA,IAAC,IAAA,CAAE,UAAU,iHAAiH,SAAA,kBAE9H,EACAA,EAAAA,IAAC,MAAA,CAAI,UAAU,oDACZ,SAAAW,EACCX,EAAAA,IAAC,MAAA,CACC,IAAKtD,EAAgBiE,CAAW,EAChC,IAAI,WACJ,UAAU,yCAAA,CAAA,EAGZX,EAAAA,IAACgB,EAAA,CAAM,UAAU,6CAA6C,CAAA,CAElE,CAAA,EACF,EACAd,EAAAA,KAAC,MAAA,CAAI,UAAU,wGACb,SAAA,CAAAF,EAAAA,IAAC,IAAA,CAAE,UAAU,iHAAiH,SAAA,iBAE9H,EACAA,EAAAA,IAAC,MAAA,CAAI,UAAU,oDACZ,SAAAY,EACCZ,EAAAA,IAAC,MAAA,CACC,IAAKtD,EAAgBkE,CAAU,EAC/B,IAAI,UACJ,UAAU,yCAAA,CAAA,EAGZZ,EAAAA,IAACgB,EAAA,CAAM,UAAU,6CAA6C,CAAA,CAElE,CAAA,EACF,EACAd,EAAAA,KAAC,MAAA,CAAI,UAAU,wGACb,SAAA,CAAAF,EAAAA,IAAC,IAAA,CAAE,UAAU,iHAAiH,SAAA,iBAE9H,EACAA,EAAAA,IAAC,MAAA,CAAI,UAAU,oDACZ,SAAAa,EACCb,EAAAA,IAAC,MAAA,CACC,IAAKtD,EAAgBmE,CAAa,EAClC,IAAI,iBACJ,UAAU,yCAAA,CAAA,EAGZb,EAAAA,IAACiB,GAAA,CAAW,UAAU,6CAA6C,CAAA,CAEvE,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,EACF,SAGC,UAAA,CACC,SAAA,CAAAf,EAAAA,KAAC,KAAA,CAAG,UAAU,+EACZ,SAAA,CAAAF,MAACe,EAAA,CAAK,UAAU,UAAU,MAAO,CAAE,MAAOzE,EAAO,MAAQ,EAAE,gBAAA,EAE7D,EACA4D,EAAAA,KAAC,MAAA,CAAI,UAAU,uDACb,SAAA,CAAAF,MAACkB,GAAS,KAAMH,EAAM,MAAM,OAAO,MAAO,GAAGR,EAAO,YAAc,EAAE,IAAIA,EAAO,WAAa,EAAE,GAAG,QAAU,MAAO,EAClHP,EAAAA,IAACkB,GAAS,KAAMC,GAAM,MAAM,QAAQ,MAAOZ,EAAO,OAAS,KAAA,CAAO,EAClEP,EAAAA,IAACkB,EAAA,CACC,KAAME,GACN,MAAM,QACN,MAAOV,EAAcH,EAAO,cAAgB,MAAS,gCACrD,MAAO,CAACG,CAAA,CAAA,EAEVV,EAAAA,IAACkB,GAAS,KAAMG,GAAQ,MAAM,OAAO,MAAOd,EAAO,MAAQ,KAAA,CAAO,EAClEP,EAAAA,IAACkB,GAAS,KAAMI,GAAW,MAAM,aAAa,MAAOd,EAAQ,YAAc,KAAA,CAAO,EAClFR,EAAAA,IAACkB,GAAS,KAAMK,GAAU,MAAM,YAAY,MAAOf,EAAQ,gBAAkB,KAAA,CAAO,CAAA,CAAA,CACtF,CAAA,EACF,SAGC,UAAA,CACC,SAAA,CAAAN,EAAAA,KAAC,KAAA,CAAG,UAAU,+EACZ,SAAA,CAAAF,MAACwB,GAAA,CAAS,UAAU,UAAU,MAAO,CAAE,MAAOlF,EAAO,MAAQ,EAAE,kBAAA,EAEjE,EACA4D,EAAAA,KAAC,MAAA,CAAI,UAAU,wCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,+FACb,SAAA,CAAAF,EAAAA,IAAC,IAAA,CAAE,UAAU,gDAAgD,SAAA,SAAM,EACnEE,EAAAA,KAAC,IAAA,CAAE,UAAU,gBACV,SAAA,CAAAtD,EAAeyD,EAAQ,cAAc,EAAE,MAAIzD,EAAeyD,EAAQ,YAAY,CAAA,EACjF,EACAH,EAAAA,KAAC,KAAE,UAAU,eAAe,MAAO,CAAE,MAAO5D,EAAO,IAAA,EAChD,SAAA,CAAAsD,EAAkBS,EAAQ,eAAgBA,EAAQ,YAAY,EAAE,OAAA,CAAA,CACnE,CAAA,EACF,EACAH,EAAAA,KAAC,MAAA,CAAI,UAAU,+FACb,SAAA,CAAAF,EAAAA,IAAC,IAAA,CAAE,UAAU,gDAAgD,SAAA,cAAW,EACxEE,EAAAA,KAAC,KAAE,UAAU,oBAAoB,MAAO,CAAE,MAAO5D,EAAO,SAAA,EAAa,SAAA,CAAA,IACjE+D,EAAQ,qBAAuB,MAAA,EACnC,EACCA,EAAQ,iBAAmB,MAC1BH,EAAAA,KAAC,IAAA,CAAE,UAAU,UAAU,MAAO,CAAE,MAAO5D,EAAO,IAAA,EAAQ,SAAA,CAAA,UAC5C,WAAW+D,EAAQ,qBAAuB,CAAC,GAAKA,EAAQ,iBAAmB,IAAI,QAAQ,CAAC,CAAA,CAAA,CAClG,CAAA,CAAA,CAEJ,CAAA,EACF,EACCA,EAAQ,gBACPL,EAAAA,IAAC,IAAA,CAAE,UAAU,gDAAgD,SAAA,qBAAkB,EAEjFE,EAAAA,KAAC,IAAA,CAAE,UAAU,gDAAgD,SAAA,CAAA,WAClDnD,GAAiBsD,EAAQ,eAAe,CAAA,CAAA,CACnD,CAAA,EACF,EAGCA,EAAQ,yBAA2B,WAClCH,EAAAA,KAAC,MAAA,CAAI,UAAU,qFACb,SAAA,CAAAA,EAAAA,KAACC,EAAO,OAAP,CACC,WAAY,CAAE,MAAO,IAAA,EACrB,SAAU,CAAE,MAAO,GAAA,EACnB,QAAS,IAAMrB,EAAoBuB,EAAQ,EAAE,EAC7C,SAAUvC,IAAwBuC,EAAQ,GAC1C,UAAU,8GACV,MAAO,CAAE,WAAY,2BAA2B/D,EAAO,SAAS,KAAKA,EAAO,IAAI,GAAA,EAEhF,SAAA,CAAA0D,EAAAA,IAACyB,GAAA,CAAM,UAAU,SAAA,CAAU,EAC1B3D,IAAwBuC,EAAQ,GAAK,gBAAkB,gBAAA,CAAA,CAAA,EAE1DH,EAAAA,KAACC,EAAO,OAAP,CACC,WAAY,CAAE,MAAO,IAAA,EACrB,SAAU,CAAE,MAAO,GAAA,EACnB,QAAS,IAAMjB,EAAoBmB,EAAQ,EAAE,EAC7C,SAAUvC,IAAwBuC,EAAQ,GAC1C,UAAU,0IAEV,SAAA,CAAAL,EAAAA,IAAC0B,GAAA,CAAQ,UAAU,SAAA,CAAU,EAAE,QAAA,CAAA,CAAA,CAEjC,EACF,EAGDhB,GACCV,EAAAA,IAAC,MAAA,CAAI,UAAU,qDACb,SAAAE,EAAAA,KAACC,EAAO,OAAP,CACC,WAAY,CAAE,MAAO,IAAA,EACrB,SAAU,CAAE,MAAO,GAAA,EACnB,QAAS,IAAMjD,EAAS,eAAgB,CAAE,MAAO,CAAE,UAAWmD,EAAQ,EAAA,EAAM,EAC5E,UAAU,gIAEV,SAAA,CAAAL,EAAAA,IAAC2B,GAAA,CAAc,UAAU,SAAA,CAAU,EAAE,kBAAA,CAAA,CAAA,EAGzC,EAGDxC,EAAkBkB,CAAO,GACxBL,MAAC,MAAA,CAAI,UAAU,qDACb,SAAAA,EAAAA,IAACG,EAAO,OAAP,CACC,WAAY,CAAE,MAAO,IAAA,EACrB,SAAU,CAAE,MAAO,GAAA,EACnB,QAAS,IAAMb,EAAmBe,CAAO,EACzC,UAAU,8CACV,MAAO,CAAE,WAAY,2BAA2B/D,EAAO,IAAI,KAAKA,EAAO,QAAQ,GAAA,EAChF,SAAA,aAAA,CAAA,CAED,CACF,CAAA,CAAA,CAEJ,CAAA,CAAA,EAlOK+D,EAAQ,EAAA,CAqOnB,CAAC,CAAA,EACH,QAGCuB,GAAA,CAAO,KAAM,CAAC,CAAC5D,EAAmB,aAAe6D,GAAM,CAACA,GAAKtC,EAAA,EAC5D,SAAAW,EAAAA,KAAC4B,GAAA,CAAc,UAAU,oFACvB,SAAA,CAAA9B,MAAC+B,GAAA,CACC,SAAA/B,EAAAA,IAACgC,GAAA,CAAY,SAAA,aAAA,CAAW,EAC1B,EACA9B,EAAAA,KAAC,MAAA,CAAI,UAAU,iBACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAF,EAAAA,IAAC,QAAA,CAAM,UAAU,mCAAmC,SAAA,WAAQ,EAC5DA,EAAAA,IAAC,MAAA,CAAI,UAAU,aACZ,SAAA,CAAC,EAAG,EAAG,EAAG,EAAG,CAAC,EAAE,IAAKiC,GACpBjC,EAAAA,IAAC,SAAA,CAEC,KAAK,SACL,QAAS,IAAM7B,EAAa+D,IAAO,CAAE,GAAGA,EAAG,OAAQD,CAAA,EAAO,EAC1D,UAAW,2BACT/D,EAAS,QAAU+D,EAAO,+BAAiC,iBAC7D,GAEA,SAAAjC,EAAAA,IAACmC,IAAK,UAAW,WAAWjE,EAAS,QAAU+D,EAAO,gCAAkC,eAAe,EAAA,CAAI,CAAA,EAPtGA,CAAA,CASR,CAAA,CACH,CAAA,EACF,EACC3D,EAAe,OAAS,GACvB4B,EAAAA,KAAC,MAAA,CACC,SAAA,CAAAF,EAAAA,IAAC,QAAA,CAAM,UAAU,mCAAmC,SAAA,OAAI,QACvD,MAAA,CAAI,UAAU,uBACZ,SAAA1B,EAAe,IAAK,GACnB0B,EAAAA,IAAC,SAAA,CAEC,KAAK,SACL,QAAS,IAAMR,EAAwB,EAAE,EAAE,EAC3C,UAAW,6CACTtB,EAAS,oBAAoB,SAAS,EAAE,EAAE,EAAI,6BAA+B,iBAC/E,GAEC,SAAA,EAAE,KAAA,EAPE,EAAE,EAAA,CASV,CAAA,CACH,CAAA,EACF,SAED,MAAA,CACC,SAAA,CAAA8B,EAAAA,IAAC,QAAA,CAAM,UAAU,mCAAmC,SAAA,UAAO,EAC3DA,EAAAA,IAAC,WAAA,CACC,MAAO9B,EAAS,QAChB,SAAW6B,GAAM5B,EAAa+D,IAAO,CAAE,GAAGA,EAAG,QAASnC,EAAE,OAAO,MAAM,MAAM,EAAG,GAAI,GAAI,EACtF,KAAM,EACN,UAAU,0EAAA,CAAA,CACZ,EACF,EACAG,EAAAA,KAAC,MAAA,CAAI,UAAU,aACb,SAAA,CAAAF,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,QAAST,EACT,UAAU,kDACX,SAAA,QAAA,CAAA,EAGDS,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,QAASN,EACT,SAAUtB,GAAkBF,EAAS,OAAS,EAC9C,UAAU,oEACV,MAAO,CAAE,WAAY5B,EAAO,IAAA,EAE3B,WAAiB,cAAgB,QAAA,CAAA,CACpC,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,CAAA,EACF,CAEJ,CAEA,SAAS4E,EAAS,CAAE,KAAMkB,EAAM,MAAAC,EAAO,MAAAC,EAAO,MAAAC,GAAS,CACrD,OACErC,EAAAA,KAAC,MAAA,CAAI,UAAU,+FACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,+BACb,SAAA,CAAAF,EAAAA,IAACoC,EAAA,CAAK,UAAU,uBAAA,CAAwB,EACxCpC,EAAAA,IAAC,IAAA,CAAE,UAAU,2CAA4C,SAAAqC,CAAA,CAAM,CAAA,EACjE,EACArC,EAAAA,IAAC,KAAE,UAAW,kCAAkCuC,EAAQ,uBAAyB,EAAE,GAChF,SAAAD,GAAS,KAAA,CACZ,CAAA,EACF,CAEJ","x_google_ignoreList":[0]}