{"version":3,"file":"BalancePage-Dz_U2VqF.js","sources":["../../node_modules/lucide-react/dist/esm/icons/percent.js","../../node_modules/lucide-react/dist/esm/icons/receipt.js","../../src/pages/BalancePage.jsx"],"sourcesContent":["/**\n * @license lucide-react v0.507.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\"line\", { x1: \"19\", x2: \"5\", y1: \"5\", y2: \"19\", key: \"1x9vlm\" }],\n  [\"circle\", { cx: \"6.5\", cy: \"6.5\", r: \"2.5\", key: \"4mh3h7\" }],\n  [\"circle\", { cx: \"17.5\", cy: \"17.5\", r: \"2.5\", key: \"1mdrzq\" }]\n];\nconst Percent = createLucideIcon(\"percent\", __iconNode);\n\nexport { __iconNode, Percent as default };\n//# sourceMappingURL=percent.js.map\n","/**\n * @license lucide-react v0.507.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    { d: \"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z\", key: \"q3az6g\" }\n  ],\n  [\"path\", { d: \"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8\", key: \"1h4pet\" }],\n  [\"path\", { d: \"M12 17.5v-11\", key: \"1jc1ny\" }]\n];\nconst Receipt = createLucideIcon(\"receipt\", __iconNode);\n\nexport { __iconNode, Receipt as default };\n//# sourceMappingURL=receipt.js.map\n","import React, { useState, useEffect } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport { Card, CardContent } from \"@/components/ui/card\";\nimport { motion } from \"framer-motion\";\nimport {\n  Wallet,\n  DollarSign,\n  Percent,\n  Receipt,\n  TrendingUp,\n  RefreshCw,\n  ChevronRight,\n  Calendar,\n} from \"lucide-react\";\nimport { getOwnerEarnings } from \"@/lib/api\";\nimport api from \"@/lib/axios\";\nimport { toast } from \"sonner\";\n\nconst COLORS = {\n  darkBlue: \"#0E4C81\",\n  teal: \"#008C95\",\n  limeGreen: \"#8AC640\",\n  darkBlueDim: \"rgba(14, 76, 129, 0.1)\",\n  tealDim: \"rgba(0, 140, 149, 0.1)\",\n  limeGreenDim: \"rgba(138, 198, 64, 0.1)\",\n};\n\nconst formatMoney = (value) => {\n  if (value == null || value === \"\") return \"0.00\";\n  const n = parseFloat(value);\n  return Number.isNaN(n) ? \"0.00\" : n.toLocaleString(\"en-US\", { minimumFractionDigits: 2, maximumFractionDigits: 2 });\n};\n\nexport default function BalancePage() {\n  const navigate = useNavigate();\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState(false);\n  const [earnings, setEarnings] = useState(null);\n  const [allBookings, setAllBookings] = useState([]);\n  const [filterRange, setFilterRange] = useState(\"all\"); // all, day, week, month, custom\n  const [customFrom, setCustomFrom] = useState(\"\");\n  const [customTo, setCustomTo] = useState(\"\");\n  const [stats, setStats] = useState(null);\n\n  const parseDate = (value) => {\n    if (!value) return null;\n    const d = new Date(value);\n    return Number.isNaN(d.getTime()) ? null : d;\n  };\n\n  const isWithinRange = (dateStr, range) => {\n    const d = parseDate(dateStr);\n    if (!d) return false;\n    const now = new Date();\n    const startOfToday = new Date(now.getFullYear(), now.getMonth(), now.getDate());\n\n    switch (range.type) {\n      case \"day\": {\n        return d >= startOfToday;\n      }\n      case \"week\": {\n        const startOfWeek = new Date(startOfToday);\n        startOfWeek.setDate(startOfWeek.getDate() - 7);\n        return d >= startOfWeek;\n      }\n      case \"month\": {\n        const startOfMonth = new Date(startOfToday.getFullYear(), startOfToday.getMonth(), 1);\n        return d >= startOfMonth;\n      }\n      case \"custom\": {\n        const from = parseDate(range.from);\n        const to = parseDate(range.to);\n        if (!from && !to) return true;\n        if (from && d < from) return false;\n        if (to) {\n          const end = new Date(to);\n          end.setHours(23, 59, 59, 999);\n          if (d > end) return false;\n        }\n        return true;\n      }\n      default:\n        return true;\n    }\n  };\n\n  const computeStatsFromBookings = (bookings, range) => {\n    if (!Array.isArray(bookings) || bookings.length === 0) {\n      return {\n        total_amount: 0,\n        app_fees_amount: 0,\n        net_earnings: 0,\n        bookings_count: 0,\n        cancelled_count: 0,\n        rejected_count: 0,\n      };\n    }\n\n    const filtered = bookings.filter((b) =>\n      range.type === \"all\"\n        ? true\n        : isWithinRange(b.start_datetime || b.created_at || b.updated_at, range)\n    );\n\n    const earningsBookings = filtered.filter((b) =>\n      [\"confirmed\", \"accepted\", \"completed\"].includes(b.booking_request_status)\n    );\n\n    const total_amount = earningsBookings.reduce(\n      (sum, b) => sum + parseFloat(b.total_booking_price || 0),\n      0\n    );\n    const app_fees_amount = earningsBookings.reduce(\n      (sum, b) => sum + (Number(b.app_fees_amount) || 0),\n      0\n    );\n\n    const cancelled_count = filtered.filter(\n      (b) => b.booking_request_status === \"cancelled\"\n    ).length;\n    const rejected_count = filtered.filter(\n      (b) => b.booking_request_status === \"rejected\"\n    ).length;\n\n    return {\n      total_amount,\n      app_fees_amount,\n      net_earnings: total_amount - app_fees_amount,\n      bookings_count: earningsBookings.length,\n      cancelled_count,\n      rejected_count,\n    };\n  };\n\n  const fetchEarnings = async () => {\n    setLoading(true);\n    setError(false);\n    try {\n      const [{ data }, bookingsRes] = await Promise.all([\n        getOwnerEarnings().catch(() => ({ data: {} })),\n        api.get(\"/driver/bookings\"),\n      ]);\n      setEarnings(data);\n      const bookings = bookingsRes.data?.data || [];\n      setAllBookings(bookings);\n      const baseStats = computeStatsFromBookings(bookings, { type: \"all\" });\n      setStats(baseStats);\n    } catch (err) {\n      console.error(\"Failed to load earnings:\", err);\n      setError(true);\n      toast.error(\"Failed to load earnings. Please try again.\");\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    fetchEarnings();\n  }, []);\n\n  useEffect(() => {\n    if (!allBookings.length) return;\n    const range = {\n      type: filterRange,\n      from: customFrom,\n      to: customTo,\n    };\n    setStats(computeStatsFromBookings(allBookings, range));\n  }, [allBookings, filterRange, customFrom, customTo]);\n\n  if (loading && !earnings) {\n    return (\n      <div className=\"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900 pt-20 flex items-center justify-center\">\n        <motion.div\n          animate={{ rotate: 360 }}\n          transition={{ duration: 1, repeat: Infinity, ease: \"linear\" }}\n          className=\"w-14 h-14 rounded-full border-4 border-t-transparent\"\n          style={{ borderColor: COLORS.tealDim, borderTopColor: COLORS.teal }}\n        />\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900 pt-20\">\n      <div className=\"container mx-auto px-4 sm:px-6 lg:px-8 py-8\">\n        {/* Header */}\n        <motion.div\n          initial={{ opacity: 0, y: -10 }}\n          animate={{ opacity: 1, y: 0 }}\n          className=\"mb-8\"\n        >\n          <div className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4\">\n            <div className=\"flex items-center gap-4\">\n              <div\n                className=\"w-14 h-14 rounded-xl flex items-center justify-center shadow-lg\"\n                style={{ background: `linear-gradient(135deg, ${COLORS.teal}, ${COLORS.darkBlue})` }}\n              >\n                <Wallet className=\"w-7 h-7 text-white\" />\n              </div>\n              <div>\n                <h1 className=\"text-3xl font-bold bg-clip-text text-transparent\" style={{ backgroundImage: `linear-gradient(135deg, ${COLORS.darkBlue}, ${COLORS.teal})` }}>\n                  Balance & Earnings\n                </h1>\n                <p className=\"text-sm text-gray-600 dark:text-gray-400 mt-1\">\n                  Total amount, app fees, and your net earnings\n                </p>\n              </div>\n            </div>\n            <motion.button\n              whileHover={{ scale: 1.02 }}\n              whileTap={{ scale: 0.98 }}\n              onClick={fetchEarnings}\n              disabled={loading}\n              className=\"flex items-center gap-2 px-4 py-2.5 rounded-xl font-medium border-2 transition-colors\"\n              style={{ borderColor: COLORS.teal, color: COLORS.teal }}\n            >\n              <RefreshCw className={`w-5 h-5 ${loading ? \"animate-spin\" : \"\"}`} />\n              Refresh\n            </motion.button>\n          </div>\n        </motion.div>\n\n        {error && !earnings ? (\n          <Card className=\"border-2 rounded-2xl p-8 text-center\">\n            <p className=\"text-gray-600 dark:text-gray-400 mb-4\">Could not load earnings.</p>\n            <motion.button\n              whileHover={{ scale: 1.05 }}\n              whileTap={{ scale: 0.95 }}\n              onClick={fetchEarnings}\n              className=\"px-5 py-2.5 rounded-xl text-white font-semibold\"\n              style={{ background: `linear-gradient(135deg, ${COLORS.teal}, ${COLORS.darkBlue})` }}\n            >\n              Try again\n            </motion.button>\n          </Card>\n        ) : earnings ? (\n          <>\n            {/* Date filter */}\n            <div className=\"flex flex-wrap items-center gap-3 mb-6\">\n              <span className=\"text-sm font-medium text-gray-700 dark:text-gray-300 flex items-center gap-1\">\n                <Calendar className=\"w-4 h-4\" />\n                Balance range:\n              </span>\n              {[\n                { id: \"all\", label: \"All time\" },\n                { id: \"day\", label: \"Today\" },\n                { id: \"week\", label: \"Last 7 days\" },\n                { id: \"month\", label: \"This month\" },\n                { id: \"custom\", label: \"Custom\" },\n              ].map((opt) => (\n                <button\n                  key={opt.id}\n                  type=\"button\"\n                  onClick={() => setFilterRange(opt.id)}\n                  className={`px-3 py-1.5 rounded-full text-xs sm:text-sm border transition-colors ${\n                    filterRange === opt.id\n                      ? \"bg-teal-600 text-white border-teal-600\"\n                      : \"bg-white dark:bg-gray-900 text-gray-700 dark:text-gray-300 border-gray-200 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-800\"\n                  }`}\n                >\n                  {opt.label}\n                </button>\n              ))}\n              {filterRange === \"custom\" && (\n                <div className=\"flex items-center gap-2 text-xs sm:text-sm\">\n                  <input\n                    type=\"date\"\n                    className=\"border rounded-lg px-2 py-1 text-xs sm:text-sm bg-white dark:bg-gray-900 border-gray-200 dark:border-gray-700\"\n                    value={customFrom}\n                    onChange={(e) => setCustomFrom(e.target.value)}\n                  />\n                  <span className=\"text-gray-500 dark:text-gray-400\">to</span>\n                  <input\n                    type=\"date\"\n                    className=\"border rounded-lg px-2 py-1 text-xs sm:text-sm bg-white dark:bg-gray-900 border-gray-200 dark:border-gray-700\"\n                    value={customTo}\n                    onChange={(e) => setCustomTo(e.target.value)}\n                  />\n                </div>\n              )}\n            </div>\n\n            {/* Summary cards */}\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6 mb-8\">\n              <motion.div\n                initial={{ opacity: 0, y: 20 }}\n                animate={{ opacity: 1, y: 0 }}\n                transition={{ delay: 0.1 }}\n              >\n                <Card className=\"border-2 rounded-2xl overflow-hidden shadow-lg h-full\" style={{ borderColor: COLORS.tealDim }}>\n                  <CardContent className=\"p-6\">\n                    <div className=\"flex items-center gap-3 mb-3\">\n                      <div className=\"p-2.5 rounded-xl\" style={{ background: COLORS.tealDim }}>\n                        <DollarSign className=\"w-6 h-6\" style={{ color: COLORS.teal }} />\n                      </div>\n                      <span className=\"text-sm font-semibold text-gray-600 dark:text-gray-400\">Total booking amount</span>\n                    </div>\n                    <p className=\"text-3xl font-bold text-gray-900 dark:text-white\">\n                      ${formatMoney(stats?.total_amount ?? earnings.total_amount)}\n                    </p>\n                    <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">What clients paid (confirmed + completed)</p>\n                  </CardContent>\n                </Card>\n              </motion.div>\n\n              <motion.div\n                initial={{ opacity: 0, y: 20 }}\n                animate={{ opacity: 1, y: 0 }}\n                transition={{ delay: 0.2 }}\n              >\n                <Card className=\"border-2 rounded-2xl overflow-hidden shadow-lg h-full\" style={{ borderColor: COLORS.darkBlueDim }}>\n                  <CardContent className=\"p-6\">\n                    <div className=\"flex items-center gap-3 mb-3\">\n                      <div className=\"p-2.5 rounded-xl\" style={{ background: COLORS.darkBlueDim }}>\n                        <Percent className=\"w-6 h-6\" style={{ color: COLORS.darkBlue }} />\n                      </div>\n                      <span className=\"text-sm font-semibold text-gray-600 dark:text-gray-400\">App fees (platform)</span>\n                    </div>\n                    <p className=\"text-3xl font-bold text-gray-900 dark:text-white\">\n                      ${formatMoney(stats?.app_fees_amount ?? earnings.app_fees_amount)}\n                    </p>\n                    <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">\n                      Deducted from you • Fee: {earnings.app_fees_percentage != null ? `${earnings.app_fees_percentage}%` : \"—\"}\n                    </p>\n                  </CardContent>\n                </Card>\n              </motion.div>\n\n              <motion.div\n                initial={{ opacity: 0, y: 20 }}\n                animate={{ opacity: 1, y: 0 }}\n                transition={{ delay: 0.3 }}\n              >\n                <Card className=\"border-2 rounded-2xl overflow-hidden shadow-lg h-full\" style={{ borderColor: COLORS.limeGreenDim }}>\n                  <CardContent className=\"p-6\">\n                    <div className=\"flex items-center gap-3 mb-3\">\n                      <div className=\"p-2.5 rounded-xl\" style={{ background: COLORS.limeGreenDim }}>\n                        <TrendingUp className=\"w-6 h-6\" style={{ color: COLORS.limeGreen }} />\n                      </div>\n                      <span className=\"text-sm font-semibold text-gray-600 dark:text-gray-400\">Your net earnings</span>\n                    </div>\n                    <p className=\"text-3xl font-bold\" style={{ color: COLORS.limeGreen }}>\n                      ${formatMoney(stats?.net_earnings ?? earnings.net_earnings)}\n                    </p>\n                    <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-1\">Total amount − app fees</p>\n                  </CardContent>\n                </Card>\n              </motion.div>\n            </div>\n\n            {/* Meta row */}\n            <motion.div\n              initial={{ opacity: 0 }}\n              animate={{ opacity: 1 }}\n              transition={{ delay: 0.4 }}\n              className=\"flex flex-wrap items-center gap-6 p-4 rounded-2xl border-2 bg-white dark:bg-gray-800/50\"\n              style={{ borderColor: COLORS.tealDim }}\n            >\n              <div className=\"flex items-center gap-2\">\n                <Receipt className=\"w-5 h-5\" style={{ color: COLORS.teal }} />\n                <span className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\n                  From <strong>{stats?.bookings_count ?? earnings.bookings_count ?? 0}</strong> bookings\n                </span>\n              </div>\n              {earnings.app_fees_percentage != null && (\n                <div className=\"flex items-center gap-2\">\n                  <Percent className=\"w-5 h-5\" style={{ color: COLORS.darkBlue }} />\n                  <span className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\n                    Your app fee: <strong>{earnings.app_fees_percentage}%</strong>\n                  </span>\n                </div>\n              )}\n              {stats && (\n                <>\n                  <div className=\"flex items-center gap-2\">\n                    <Receipt className=\"w-5 h-5 text-gray-500\" />\n                    <span className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\n                      Cancelled bookings: <strong>{stats.cancelled_count}</strong>\n                    </span>\n                  </div>\n                  <div className=\"flex items-center gap-2\">\n                    <Receipt className=\"w-5 h-5 text-gray-500\" />\n                    <span className=\"text-sm font-medium text-gray-700 dark:text-gray-300\">\n                      Rejected bookings: <strong>{stats.rejected_count}</strong>\n                    </span>\n                  </div>\n                </>\n              )}\n            </motion.div>\n\n            {/* Link to bookings */}\n            <motion.div\n              initial={{ opacity: 0, y: 10 }}\n              animate={{ opacity: 1, y: 0 }}\n              transition={{ delay: 0.5 }}\n              className=\"mt-8\"\n            >\n              <Card\n                className=\"border-2 rounded-2xl overflow-hidden cursor-pointer hover:shadow-xl transition-all\"\n                style={{ borderColor: COLORS.tealDim }}\n                onClick={() => navigate(\"/Mycars-bookings\")}\n              >\n                <CardContent className=\"p-4 flex items-center justify-between\">\n                  <div className=\"flex items-center gap-3\">\n                    <div className=\"p-2 rounded-xl\" style={{ background: COLORS.tealDim }}>\n                      <Calendar className=\"w-5 h-5\" style={{ color: COLORS.teal }} />\n                    </div>\n                    <div>\n                      <p className=\"font-semibold text-gray-900 dark:text-white\">View bookings</p>\n                      <p className=\"text-xs text-gray-500 dark:text-gray-400\">See amount and app fee per booking</p>\n                    </div>\n                  </div>\n                  <ChevronRight className=\"w-5 h-5 text-gray-400\" />\n                </CardContent>\n              </Card>\n            </motion.div>\n          </>\n        ) : null}\n      </div>\n    </div>\n  );\n}\n"],"names":["__iconNode","Percent","createLucideIcon","Receipt","COLORS","formatMoney","value","n","BalancePage","navigate","useNavigate","loading","setLoading","useState","error","setError","earnings","setEarnings","allBookings","setAllBookings","filterRange","setFilterRange","customFrom","setCustomFrom","customTo","setCustomTo","stats","setStats","parseDate","d","isWithinRange","dateStr","range","now","startOfToday","startOfWeek","startOfMonth","from","to","end","computeStatsFromBookings","bookings","filtered","b","earningsBookings","total_amount","sum","app_fees_amount","cancelled_count","rejected_count","fetchEarnings","data","bookingsRes","getOwnerEarnings","api","baseStats","err","toast","useEffect","jsx","motion","jsxs","Wallet","RefreshCw","Card","Fragment","Calendar","opt","e","CardContent","DollarSign","TrendingUp","ChevronRight"],"mappings":"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","x_google_ignoreList":[0,1]}