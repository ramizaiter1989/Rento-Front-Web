{"version":3,"file":"AdminPanelPage-B6hmpO9Q.js","sources":["../../node_modules/lucide-react/dist/esm/icons/lightbulb.js","../../src/components/admin/PaymentForm.jsx","../../src/pages/admin/AdminDashboardTab.jsx","../../src/pages/admin/AdminUsersTab.jsx","../../src/pages/admin/AdminCarsTab.jsx","../../src/pages/admin/AdminBookingsTab.jsx","../../src/pages/admin/AdminPaymentsTab.jsx","../../src/pages/admin/AdminAnnouncementsTab.jsx","../../src/pages/admin/AdminAppealsTab.jsx","../../src/pages/admin/AdminAdsTab.jsx","../../src/pages/admin/AdminPromoCodesTab.jsx","../../src/pages/admin/AdminBrokersTab.jsx","../../src/pages/admin/AdminFeaturedCarsTab.jsx","../../src/pages/admin/AdminHolidaysTab.jsx","../../src/pages/admin/AdminSuggestionsTab.jsx","../../src/pages/admin/AdminNotificationsTab.jsx","../../src/pages/admin/AdminOtpsTab.jsx","../../src/pages/admin/AdminServicesTab.jsx","../../src/pages/AdminPanelPage.jsx"],"sourcesContent":["/**\n * @license lucide-react v0.507.0 - ISC\n *\n * This source code is licensed under the ISC license.\n * See the LICENSE file in the root directory of this source tree.\n */\n\nimport createLucideIcon from '../createLucideIcon.js';\n\nconst __iconNode = [\n  [\n    \"path\",\n    {\n      d: \"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5\",\n      key: \"1gvzjb\"\n    }\n  ],\n  [\"path\", { d: \"M9 18h6\", key: \"x1upvd\" }],\n  [\"path\", { d: \"M10 22h4\", key: \"ceow96\" }]\n];\nconst Lightbulb = createLucideIcon(\"lightbulb\", __iconNode);\n\nexport { __iconNode, Lightbulb as default };\n//# sourceMappingURL=lightbulb.js.map\n","/**\r\n * Payment/Invoice Form Component\r\n * Used for creating new payments/invoices\r\n */\r\n\r\nimport React, { useState } from 'react';\r\nimport { Label } from '@/components/ui/label';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Textarea } from '@/components/ui/textarea';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\r\n\r\nexport default function PaymentForm({ onSubmit, loading = false }) {\r\n  const [formData, setFormData] = useState({\r\n    user_id: '',\r\n    name: '',\r\n    amount: '',\r\n    source: 'bank',\r\n    type: 'income',\r\n    status: 'pending',\r\n    due_date: '',\r\n    description: '',\r\n    metadata: ''\r\n  });\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleSelectChange = (name, value) => {\r\n    setFormData(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleSubmit = (e) => {\r\n    e.preventDefault();\r\n    const submitData = {\r\n      ...formData,\r\n      user_id: parseInt(formData.user_id),\r\n      amount: parseFloat(formData.amount),\r\n      due_date: formData.due_date || new Date().toISOString().slice(0, 19).replace('T', ' '),\r\n      ...(formData.metadata && { metadata: JSON.parse(formData.metadata) })\r\n    };\r\n    onSubmit(submitData);\r\n  };\r\n\r\n  return (\r\n    <form onSubmit={handleSubmit} className=\"space-y-4\">\r\n      <div>\r\n        <Label>User ID *</Label>\r\n        <Input\r\n          type=\"number\"\r\n          name=\"user_id\"\r\n          value={formData.user_id}\r\n          onChange={handleChange}\r\n          required\r\n          placeholder=\"Enter user ID\"\r\n        />\r\n      </div>\r\n\r\n      <div>\r\n        <Label>Name/Description *</Label>\r\n        <Input\r\n          type=\"text\"\r\n          name=\"name\"\r\n          value={formData.name}\r\n          onChange={handleChange}\r\n          required\r\n          placeholder=\"Payment name\"\r\n          maxLength={100}\r\n        />\r\n      </div>\r\n\r\n      <div>\r\n        <Label>Amount *</Label>\r\n        <Input\r\n          type=\"number\"\r\n          step=\"0.01\"\r\n          name=\"amount\"\r\n          value={formData.amount}\r\n          onChange={handleChange}\r\n          required\r\n          placeholder=\"99.99\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-2 gap-4\">\r\n        <div>\r\n          <Label>Source *</Label>\r\n          <Select value={formData.source} onValueChange={(value) => handleSelectChange('source', value)}>\r\n            <SelectTrigger>\r\n              <SelectValue />\r\n            </SelectTrigger>\r\n            <SelectContent>\r\n              <SelectItem value=\"wish\">Wish</SelectItem>\r\n              <SelectItem value=\"omt\">OMT</SelectItem>\r\n              <SelectItem value=\"bank\">Bank</SelectItem>\r\n              <SelectItem value=\"cash\">Cash</SelectItem>\r\n              <SelectItem value=\"other\">Other</SelectItem>\r\n            </SelectContent>\r\n          </Select>\r\n        </div>\r\n\r\n        <div>\r\n          <Label>Type *</Label>\r\n          <Select value={formData.type} onValueChange={(value) => handleSelectChange('type', value)}>\r\n            <SelectTrigger>\r\n              <SelectValue />\r\n            </SelectTrigger>\r\n            <SelectContent>\r\n              <SelectItem value=\"income\">Income</SelectItem>\r\n              <SelectItem value=\"expense\">Expense</SelectItem>\r\n              <SelectItem value=\"debit\">Debit</SelectItem>\r\n              <SelectItem value=\"upcoming_income\">Upcoming Income</SelectItem>\r\n              <SelectItem value=\"credit\">Credit</SelectItem>\r\n            </SelectContent>\r\n          </Select>\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"grid grid-cols-2 gap-4\">\r\n        <div>\r\n          <Label>Status</Label>\r\n          <Select value={formData.status} onValueChange={(value) => handleSelectChange('status', value)}>\r\n            <SelectTrigger>\r\n              <SelectValue />\r\n            </SelectTrigger>\r\n            <SelectContent>\r\n              <SelectItem value=\"pending\">Pending</SelectItem>\r\n              <SelectItem value=\"paid\">Paid</SelectItem>\r\n              <SelectItem value=\"overdue\">Overdue</SelectItem>\r\n              <SelectItem value=\"cancelled\">Cancelled</SelectItem>\r\n            </SelectContent>\r\n          </Select>\r\n        </div>\r\n\r\n        <div>\r\n          <Label>Due Date</Label>\r\n          <Input\r\n            type=\"datetime-local\"\r\n            name=\"due_date\"\r\n            value={formData.due_date}\r\n            onChange={handleChange}\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      <div>\r\n        <Label>Description</Label>\r\n        <Textarea\r\n          name=\"description\"\r\n          value={formData.description}\r\n          onChange={handleChange}\r\n          placeholder=\"Additional description\"\r\n        />\r\n      </div>\r\n\r\n      <div>\r\n        <Label>Metadata (JSON)</Label>\r\n        <Textarea\r\n          name=\"metadata\"\r\n          value={formData.metadata}\r\n          onChange={handleChange}\r\n          placeholder='{\"key\": \"value\"}'\r\n        />\r\n      </div>\r\n\r\n      <div className=\"flex gap-2 pt-4\">\r\n        <Button type=\"submit\" disabled={loading} className=\"flex-1\">\r\n          {loading ? 'Issuing...' : 'Issue Payment/Invoice'}\r\n        </Button>\r\n      </div>\r\n    </form>\r\n  );\r\n}\r\n","import React from 'react';\nimport { Users, Car, Calendar, DollarSign } from 'lucide-react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { useAdmin } from '@/contexts/AdminContext';\n\nexport default function AdminDashboardTab() {\n  const { summary } = useAdmin();\n\n  return (\n    <div className=\"space-y-6\">\n      {summary && (\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4\">\n          <Card>\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n              <CardTitle className=\"text-sm font-medium\">Total Users</CardTitle>\n              <Users className=\"h-4 w-4 text-muted-foreground\" />\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-2xl font-bold\">{summary.total_users}</div>\n              <p className=\"text-xs text-muted-foreground\">\n                {summary.active_users} active\n              </p>\n            </CardContent>\n          </Card>\n          <Card>\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n              <CardTitle className=\"text-sm font-medium\">Total Bookings</CardTitle>\n              <Calendar className=\"h-4 w-4 text-muted-foreground\" />\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-2xl font-bold\">{summary.total_bookings}</div>\n              <p className=\"text-xs text-muted-foreground\">\n                {summary.pending_bookings} pending\n              </p>\n            </CardContent>\n          </Card>\n          <Card>\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n              <CardTitle className=\"text-sm font-medium\">Total Revenue</CardTitle>\n              <DollarSign className=\"h-4 w-4 text-muted-foreground\" />\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-2xl font-bold\">${summary.total_revenue?.toLocaleString()}</div>\n              <p className=\"text-xs text-muted-foreground\">\n                ${summary.total_refunds?.toLocaleString()} refunds\n              </p>\n            </CardContent>\n          </Card>\n          <Card>\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n              <CardTitle className=\"text-sm font-medium\">Total Cars</CardTitle>\n              <Car className=\"h-4 w-4 text-muted-foreground\" />\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-2xl font-bold\">{summary.total_cars}</div>\n              <p className=\"text-xs text-muted-foreground\">\n                {summary.available_cars} available\n              </p>\n            </CardContent>\n          </Card>\n        </div>\n      )}\n    </div>\n  );\n}\n","import React from 'react';\nimport { Eye, Edit, Trash2, RefreshCw, UserCheck, CheckCircle2, XCircle } from 'lucide-react';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Input } from '@/components/ui/input';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { useAdmin, COLORS } from '@/contexts/AdminContext';\n\nexport default function AdminUsersTab() {\n  const {\n    users,\n    filters,\n    setFilters,\n    navigate,\n    fetchUsers,\n    fetchUserDetails,\n    setSelectedItem,\n    setModalType,\n    setModalOpen,\n    showConfirmDialog,\n    deleteUser\n  } = useAdmin();\n\n  const userList = users?.data ?? (Array.isArray(users) ? users : []);\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-2\">\n          <Input placeholder=\"Search users...\" className=\"w-64\" />\n          <Select\n            value={filters.users.role}\n            onValueChange={(value) => setFilters(prev => ({\n              ...prev,\n              users: { ...prev.users, role: value }\n            }))}\n          >\n            <SelectTrigger className=\"w-32\">\n              <SelectValue placeholder=\"Role\" />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"all\">All Roles</SelectItem>\n              <SelectItem value=\"client\">Client</SelectItem>\n              <SelectItem value=\"agency\">Agency</SelectItem>\n              <SelectItem value=\"admin\">Admin</SelectItem>\n            </SelectContent>\n          </Select>\n          <Button variant=\"outline\" size=\"icon\" onClick={fetchUsers}>\n            <RefreshCw className=\"w-4 h-4\" />\n          </Button>\n        </div>\n        <Button\n          onClick={() => navigate('/admin/real-user-data')}\n          style={{\n            background: `linear-gradient(to right, ${COLORS.darkBlue}, ${COLORS.teal})`\n          }}\n          className=\"text-white flex items-center gap-2\"\n        >\n          <UserCheck className=\"w-4 h-4\" />\n          Manage Real User Data\n        </Button>\n      </div>\n      <Card>\n        <CardContent className=\"p-0\">\n          <Table>\n            <TableHeader>\n              <TableRow>\n                <TableHead>ID</TableHead>\n                <TableHead>Name</TableHead>\n                <TableHead>Email</TableHead>\n                <TableHead>Role</TableHead>\n                <TableHead>Status</TableHead>\n                <TableHead>Verified</TableHead>\n                <TableHead>Actions</TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {(Array.isArray(userList) ? userList : []).map((user) => (\n                <TableRow key={user.id}>\n                  <TableCell>{user.id}</TableCell>\n                  <TableCell>\n                    {user.first_name && user.last_name\n                      ? `${user.first_name} ${user.last_name}`\n                      : user.username || 'N/A'}\n                  </TableCell>\n                  <TableCell>{user.email || user.phone_number || 'N/A'}</TableCell>\n                  <TableCell>\n                    <Badge variant=\"outline\">{user.role}</Badge>\n                  </TableCell>\n                  <TableCell>\n                    <Badge variant={user.status ? \"default\" : \"secondary\"}>\n                      {user.status ? 'Active' : 'Inactive'}\n                    </Badge>\n                  </TableCell>\n                  <TableCell>\n                    {user.verified_by_admin ? (\n                      <CheckCircle2 className=\"w-4 h-4 text-green-500\" />\n                    ) : (\n                      <XCircle className=\"w-4 h-4 text-gray-400\" />\n                    )}\n                  </TableCell>\n                  <TableCell>\n                    <div className=\"flex items-center gap-2\">\n                      <Button\n                        variant=\"ghost\"\n                        size=\"icon\"\n                        onClick={async () => {\n                          const fullDetails = await fetchUserDetails(user.id);\n                          if (fullDetails) {\n                            setSelectedItem(fullDetails);\n                            setModalType('view-user');\n                            setModalOpen(true);\n                          }\n                        }}\n                        title=\"View Details\"\n                      >\n                        <Eye className=\"w-4 h-4\" />\n                      </Button>\n                      <Button\n                        variant=\"ghost\"\n                        size=\"icon\"\n                        onClick={async () => {\n                          const fullDetails = await fetchUserDetails(user.id);\n                          if (fullDetails) {\n                            setSelectedItem(fullDetails);\n                            setModalType('edit-user');\n                            setModalOpen(true);\n                          }\n                        }}\n                      >\n                        <Edit className=\"w-4 h-4\" />\n                      </Button>\n                      <Button\n                        variant=\"ghost\"\n                        size=\"icon\"\n                        onClick={() => showConfirmDialog(\n                          'Delete User',\n                          'Are you sure you want to delete this user?',\n                          () => deleteUser(user.id)\n                        )}\n                      >\n                        <Trash2 className=\"w-4 h-4 text-red-500\" />\n                      </Button>\n                    </div>\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","import React from 'react';\r\nimport { Eye, Edit, Trash2, RefreshCw, CheckCircle2, XCircle } from 'lucide-react';\r\nimport { Card, CardContent } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\r\nimport { useAdmin } from '@/contexts/AdminContext';\r\n\r\nexport default function AdminCarsTab() {\r\n  const {\r\n    cars,\r\n    filters,\r\n    setFilters,\r\n    fetchCars,\r\n    fetchCarDetails,\r\n    setSelectedItem,\r\n    setModalType,\r\n    setModalOpen,\r\n    showConfirmDialog,\r\n    deleteCar\r\n  } = useAdmin();\r\n\r\n  const carList = cars?.data ?? (Array.isArray(cars) ? cars : []);\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div className=\"flex items-center justify-between\">\r\n        <div className=\"flex items-center gap-2\">\r\n          <Select\r\n            value={filters.cars.status}\r\n            onValueChange={(value) => setFilters(prev => ({\r\n              ...prev,\r\n              cars: { ...prev.cars, status: value }\r\n            }))}\r\n          >\r\n            <SelectTrigger className=\"w-40\">\r\n              <SelectValue placeholder=\"Status\" />\r\n            </SelectTrigger>\r\n            <SelectContent>\r\n              <SelectItem value=\"all\">All Statuses</SelectItem>\r\n              <SelectItem value=\"available\">Available</SelectItem>\r\n              <SelectItem value=\"not_available\">Not Available</SelectItem>\r\n              <SelectItem value=\"rented\">Rented</SelectItem>\r\n              <SelectItem value=\"maintenance\">Maintenance</SelectItem>\r\n            </SelectContent>\r\n          </Select>\r\n          <Button variant=\"outline\" size=\"icon\" onClick={fetchCars}>\r\n            <RefreshCw className=\"w-4 h-4\" />\r\n          </Button>\r\n        </div>\r\n      </div>\r\n      <Card>\r\n        <CardContent className=\"p-0\">\r\n          <Table>\r\n            <TableHeader>\r\n              <TableRow>\r\n                <TableHead>ID</TableHead>\r\n                <TableHead>Make/Model</TableHead>\r\n                <TableHead>Year</TableHead>\r\n                <TableHead>Status</TableHead>\r\n                <TableHead>Approved</TableHead>\r\n                <TableHead>Daily Rate</TableHead>\r\n                <TableHead>Actions</TableHead>\r\n              </TableRow>\r\n            </TableHeader>\r\n            <TableBody>\r\n              {(Array.isArray(carList) ? carList : []).map((car) => (\r\n                <TableRow key={car.id}>\r\n                  <TableCell>{car.id}</TableCell>\r\n                  <TableCell>{car.make} {car.model}</TableCell>\r\n                  <TableCell>{car.year}</TableCell>\r\n                  <TableCell>\r\n                    <Badge variant=\"outline\">{car.status}</Badge>\r\n                  </TableCell>\r\n                  <TableCell>\r\n                    {car.car_accepted ? (\r\n                      <CheckCircle2 className=\"w-4 h-4 text-green-500\" />\r\n                    ) : (\r\n                      <XCircle className=\"w-4 h-4 text-gray-400\" />\r\n                    )}\r\n                  </TableCell>\r\n                  <TableCell>${car.daily_rate}</TableCell>\r\n                  <TableCell>\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <Button\r\n                        variant=\"ghost\"\r\n                        size=\"icon\"\r\n                        onClick={async () => {\r\n                          const fullDetails = await fetchCarDetails(car.id);\r\n                          if (fullDetails) {\r\n                            setSelectedItem(fullDetails);\r\n                            setModalType('view-car');\r\n                            setModalOpen(true);\r\n                          }\r\n                        }}\r\n                        title=\"View Details\"\r\n                      >\r\n                        <Eye className=\"w-4 h-4\" />\r\n                      </Button>\r\n                      <Button\r\n                        variant=\"ghost\"\r\n                        size=\"icon\"\r\n                        onClick={async () => {\r\n                          const fullDetails = await fetchCarDetails(car.id);\r\n                          if (fullDetails) {\r\n                            setSelectedItem(fullDetails);\r\n                            setModalType('edit-car');\r\n                            setModalOpen(true);\r\n                          }\r\n                        }}\r\n                      >\r\n                        <Edit className=\"w-4 h-4\" />\r\n                      </Button>\r\n                      <Button\r\n                        variant=\"ghost\"\r\n                        size=\"icon\"\r\n                        onClick={() => showConfirmDialog(\r\n                          'Delete Car',\r\n                          'Are you sure you want to delete this car?',\r\n                          () => deleteCar(car.id)\r\n                        )}\r\n                      >\r\n                        <Trash2 className=\"w-4 h-4 text-red-500\" />\r\n                      </Button>\r\n                    </div>\r\n                  </TableCell>\r\n                </TableRow>\r\n              ))}\r\n            </TableBody>\r\n          </Table>\r\n        </CardContent>\r\n      </Card>\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\nimport { Eye, Edit, RefreshCw, CheckCircle2 } from 'lucide-react';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { useAdmin } from '@/contexts/AdminContext';\n\nexport default function AdminBookingsTab() {\n  const {\n    bookings,\n    filters,\n    setFilters,\n    fetchBookings,\n    fetchBookingDetails,\n    setSelectedItem,\n    setModalType,\n    setModalOpen,\n    forceCompleteBooking\n  } = useAdmin();\n\n  const bookingList = bookings?.data ?? (Array.isArray(bookings) ? bookings : []);\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-2\">\n          <Select\n            value={filters.bookings.status}\n            onValueChange={(value) => setFilters(prev => ({\n              ...prev,\n              bookings: { ...prev.bookings, status: value }\n            }))}\n          >\n            <SelectTrigger className=\"w-40\">\n              <SelectValue placeholder=\"Status\" />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"all\">All Statuses</SelectItem>\n              <SelectItem value=\"pending\">Pending</SelectItem>\n              <SelectItem value=\"confirmed\">Confirmed</SelectItem>\n              <SelectItem value=\"cancelled\">Cancelled</SelectItem>\n              <SelectItem value=\"completed\">Completed</SelectItem>\n              <SelectItem value=\"rejected\">Rejected</SelectItem>\n            </SelectContent>\n          </Select>\n          <Button variant=\"outline\" size=\"icon\" onClick={fetchBookings}>\n            <RefreshCw className=\"w-4 h-4\" />\n          </Button>\n        </div>\n      </div>\n      <Card>\n        <CardContent className=\"p-0\">\n          <Table>\n            <TableHeader>\n              <TableRow>\n                <TableHead>ID</TableHead>\n                <TableHead>Client</TableHead>\n                <TableHead>Car</TableHead>\n                <TableHead>Status</TableHead>\n                <TableHead>Payment</TableHead>\n                <TableHead>Total Price</TableHead>\n                <TableHead>Actions</TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {(Array.isArray(bookingList) ? bookingList : []).map((booking) => (\n                <TableRow key={booking.id}>\n                  <TableCell>{booking.id}</TableCell>\n                  <TableCell>\n                    {booking.client?.first_name && booking.client?.last_name\n                      ? `${booking.client.first_name} ${booking.client.last_name}`\n                      : booking.client?.username || 'N/A'}\n                  </TableCell>\n                  <TableCell>{booking.car?.make} {booking.car?.model}</TableCell>\n                  <TableCell>\n                    <Badge variant=\"outline\">{booking.booking_request_status}</Badge>\n                  </TableCell>\n                  <TableCell>\n                    <Badge variant={booking.payment_status === 'paid' ? 'default' : 'secondary'}>\n                      {booking.payment_status}\n                    </Badge>\n                  </TableCell>\n                  <TableCell>${booking.total_booking_price}</TableCell>\n                  <TableCell>\n                    <div className=\"flex items-center gap-2\">\n                      <Button\n                        variant=\"ghost\"\n                        size=\"icon\"\n                        onClick={async () => {\n                          const fullDetails = await fetchBookingDetails(booking.id);\n                          if (fullDetails) {\n                            setSelectedItem(fullDetails);\n                            setModalType('view-booking');\n                            setModalOpen(true);\n                          }\n                        }}\n                        title=\"View Details\"\n                      >\n                        <Eye className=\"w-4 h-4\" />\n                      </Button>\n                      <Button\n                        variant=\"ghost\"\n                        size=\"icon\"\n                        onClick={async () => {\n                          const fullDetails = await fetchBookingDetails(booking.id);\n                          if (fullDetails) {\n                            setSelectedItem(fullDetails);\n                            setModalType('edit-booking');\n                            setModalOpen(true);\n                          }\n                        }}\n                      >\n                        <Edit className=\"w-4 h-4\" />\n                      </Button>\n                      {booking.booking_request_status === 'confirmed' && (\n                        <Button\n                          variant=\"ghost\"\n                          size=\"icon\"\n                          onClick={() => forceCompleteBooking(booking.id)}\n                          title=\"Force Complete\"\n                          aria-label=\"Force complete booking\"\n                        >\n                          <CheckCircle2 className=\"w-4 h-4 text-green-500\" />\n                        </Button>\n                      )}\n                    </div>\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","import React from 'react';\nimport { Plus, Download, RefreshCw } from 'lucide-react';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\nimport { useAdmin } from '@/contexts/AdminContext';\nimport { exportToExcel, exportTableToPDF } from '@/utils/exportUtils';\n\nexport default function AdminPaymentsTab() {\n  const {\n    payments,\n    setSelectedItem,\n    setModalType,\n    setModalOpen,\n    fetchPayments,\n    processRefund\n  } = useAdmin();\n\n  const paymentList = payments?.data ?? (Array.isArray(payments) ? payments : []);\n\n  const columns = [\n    { key: 'id', label: 'ID' },\n    { key: 'user', label: 'User', transform: (p) => p.user?.name || 'N/A' },\n    { key: 'amount', label: 'Amount', transform: (p) => `$${p.amount}` },\n    { key: 'type', label: 'Type' },\n    { key: 'status', label: 'Status' },\n    { key: 'source', label: 'Source' },\n    { key: 'name', label: 'Name' },\n    { key: 'created_at', label: 'Created At', transform: (p) => new Date(p.created_at).toLocaleString() }\n  ];\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex items-center justify-between\">\n        <Button\n          onClick={() => {\n            setSelectedItem(null);\n            setModalType('create-payment');\n            setModalOpen(true);\n          }}\n        >\n          <Plus className=\"w-4 h-4 mr-2\" />\n          Issue Payment/Invoice\n        </Button>\n        <div className=\"flex items-center gap-2\">\n          <Button\n            variant=\"outline\"\n            onClick={() => {\n              const data = (Array.isArray(paymentList) ? paymentList : []).map(p => ({\n                ...p,\n                user: p.user?.name || 'N/A',\n                amount: `$${p.amount}`,\n                created_at: new Date(p.created_at).toLocaleString()\n              }));\n              exportToExcel(data, columns, 'invoices');\n            }}\n          >\n            <Download className=\"w-4 h-4 mr-2\" />\n            Export Excel\n          </Button>\n          <Button\n            variant=\"outline\"\n            onClick={() => {\n              const data = (Array.isArray(paymentList) ? paymentList : []).map(p => ({\n                ...p,\n                user: p.user?.name || 'N/A',\n                amount: `$${p.amount}`,\n                created_at: new Date(p.created_at).toLocaleString()\n              }));\n              exportTableToPDF(data, columns, 'Invoices Report', 'invoices');\n            }}\n          >\n            <Download className=\"w-4 h-4 mr-2\" />\n            Export PDF\n          </Button>\n          <Button variant=\"outline\" size=\"icon\" onClick={fetchPayments} aria-label=\"Refresh payments\">\n            <RefreshCw className=\"w-4 h-4\" />\n          </Button>\n        </div>\n      </div>\n      <Card>\n        <CardContent className=\"p-0\">\n          <Table>\n            <TableHeader>\n              <TableRow>\n                <TableHead>ID</TableHead>\n                <TableHead>User</TableHead>\n                <TableHead>Amount</TableHead>\n                <TableHead>Type</TableHead>\n                <TableHead>Status</TableHead>\n                <TableHead>Source</TableHead>\n                <TableHead>Actions</TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {(Array.isArray(paymentList) ? paymentList : []).map((payment) => (\n                <TableRow key={payment.id}>\n                  <TableCell>{payment.id}</TableCell>\n                  <TableCell>{payment.user?.name || 'N/A'}</TableCell>\n                  <TableCell>${payment.amount}</TableCell>\n                  <TableCell>\n                    <Badge variant=\"outline\">{payment.type}</Badge>\n                  </TableCell>\n                  <TableCell>\n                    <Badge variant={payment.status === 'paid' ? 'default' : 'secondary'}>\n                      {payment.status}\n                    </Badge>\n                  </TableCell>\n                  <TableCell>{payment.source}</TableCell>\n                  <TableCell>\n                    {payment.type === 'refund' && payment.status !== 'processed' && (\n                      <Button\n                        variant=\"ghost\"\n                        size=\"sm\"\n                        onClick={() => {\n                          const invoiceId = payment.reference_id || payment.id;\n                          processRefund(invoiceId);\n                        }}\n                      >\n                        Process Refund\n                      </Button>\n                    )}\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","import React from 'react';\nimport { Plus, Edit, Trash2, RefreshCw } from 'lucide-react';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\nimport { useAdmin } from '@/contexts/AdminContext';\n\nexport default function AdminAnnouncementsTab() {\n  const {\n    announcements,\n    setSelectedItem,\n    setModalType,\n    setModalOpen,\n    fetchAnnouncements,\n    showConfirmDialog,\n    deleteAnnouncement\n  } = useAdmin();\n\n  const list = announcements?.data ?? (Array.isArray(announcements) ? announcements : []);\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex items-center justify-between\">\n        <Button\n          onClick={() => {\n            setSelectedItem(null);\n            setModalType('create-announcement');\n            setModalOpen(true);\n          }}\n        >\n          <Plus className=\"w-4 h-4 mr-2\" />\n          Create Announcement\n        </Button>\n        <Button variant=\"outline\" size=\"icon\" onClick={fetchAnnouncements}>\n          <RefreshCw className=\"w-4 h-4\" />\n        </Button>\n      </div>\n      <Card>\n        <CardContent className=\"p-0\">\n          <Table>\n            <TableHeader>\n              <TableRow>\n                <TableHead>ID</TableHead>\n                <TableHead>Title</TableHead>\n                <TableHead>Status</TableHead>\n                <TableHead>Priority</TableHead>\n                <TableHead>Target Audience</TableHead>\n                <TableHead>Actions</TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {(Array.isArray(list) ? list : []).map((announcement) => (\n                <TableRow key={announcement.id}>\n                  <TableCell>{announcement.id}</TableCell>\n                  <TableCell>{announcement.title}</TableCell>\n                  <TableCell>\n                    <Badge variant=\"outline\">{announcement.status}</Badge>\n                  </TableCell>\n                  <TableCell>\n                    <Badge variant=\"outline\">{announcement.priority}</Badge>\n                  </TableCell>\n                  <TableCell>\n                    {announcement.target_audience?.join(', ') || 'All'}\n                  </TableCell>\n                  <TableCell>\n                    <div className=\"flex items-center gap-2\">\n                      <Button\n                        variant=\"ghost\"\n                        size=\"icon\"\n                        onClick={() => {\n                          setSelectedItem(announcement);\n                          setModalType('edit-announcement');\n                          setModalOpen(true);\n                        }}\n                        aria-label=\"Edit announcement\"\n                      >\n                        <Edit className=\"w-4 h-4\" />\n                      </Button>\n                      <Button\n                        variant=\"ghost\"\n                        size=\"icon\"\n                        onClick={() => showConfirmDialog(\n                          'Delete Announcement',\n                          'Are you sure you want to delete this announcement?',\n                          () => deleteAnnouncement(announcement.id)\n                        )}\n                      >\n                        <Trash2 className=\"w-4 h-4 text-red-500\" />\n                      </Button>\n                    </div>\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","import React from 'react';\nimport { Edit, RefreshCw } from 'lucide-react';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { useAdmin } from '@/contexts/AdminContext';\n\nexport default function AdminAppealsTab() {\n  const {\n    appeals,\n    filters,\n    setFilters,\n    setSelectedItem,\n    setModalType,\n    setModalOpen,\n    fetchAppeals\n  } = useAdmin();\n\n  const list = appeals?.data ?? (Array.isArray(appeals) ? appeals : []);\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex items-center gap-2\">\n        <Select\n          value={filters.appeals.status}\n          onValueChange={(value) => setFilters(prev => ({\n            ...prev,\n            appeals: { ...prev.appeals, status: value }\n          }))}\n        >\n          <SelectTrigger className=\"w-40\">\n            <SelectValue placeholder=\"Status\" />\n          </SelectTrigger>\n          <SelectContent>\n            <SelectItem value=\"all\">All Statuses</SelectItem>\n            <SelectItem value=\"submitted\">Submitted</SelectItem>\n            <SelectItem value=\"under_review\">Under Review</SelectItem>\n            <SelectItem value=\"resolved\">Resolved</SelectItem>\n            <SelectItem value=\"rejected\">Rejected</SelectItem>\n            <SelectItem value=\"escalated\">Escalated</SelectItem>\n          </SelectContent>\n        </Select>\n        <Button variant=\"outline\" size=\"icon\" onClick={fetchAppeals}>\n          <RefreshCw className=\"w-4 h-4\" />\n        </Button>\n      </div>\n      <Card>\n        <CardContent className=\"p-0\">\n          <Table>\n            <TableHeader>\n              <TableRow>\n                <TableHead>ID</TableHead>\n                <TableHead>User</TableHead>\n                <TableHead>Type</TableHead>\n                <TableHead>Status</TableHead>\n                <TableHead>Priority</TableHead>\n                <TableHead>Actions</TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {(Array.isArray(list) ? list : []).map((appeal) => (\n                <TableRow key={appeal.id}>\n                  <TableCell>{appeal.id}</TableCell>\n                  <TableCell>{appeal.user?.username || appeal.user?.email || 'N/A'}</TableCell>\n                  <TableCell>{appeal.type || 'N/A'}</TableCell>\n                  <TableCell>\n                    <Badge variant=\"outline\">{appeal.status}</Badge>\n                  </TableCell>\n                  <TableCell>\n                    <Badge variant=\"outline\">{appeal.priority || 'N/A'}</Badge>\n                  </TableCell>\n                  <TableCell>\n                    <Button\n                      variant=\"ghost\"\n                      size=\"icon\"\n                      onClick={() => {\n                        setSelectedItem(appeal);\n                        setModalType('edit-appeal');\n                        setModalOpen(true);\n                      }}\n                    >\n                      <Edit className=\"w-4 h-4\" />\n                    </Button>\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","import React from 'react';\nimport { Plus, Edit, Trash2, RefreshCw, BarChart3, CheckCircle2, XCircle } from 'lucide-react';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\nimport { useAdmin } from '@/contexts/AdminContext';\n\nexport default function AdminAdsTab() {\n  const {\n    ads,\n    navigate,\n    setSelectedItem,\n    setModalType,\n    setModalOpen,\n    fetchAds,\n    showConfirmDialog,\n    deleteAd\n  } = useAdmin();\n\n  const list = ads?.data ?? (Array.isArray(ads) ? ads : []);\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-2\">\n          <Button\n            onClick={() => {\n              setSelectedItem(null);\n              setModalType('create-ad');\n              setModalOpen(true);\n            }}\n          >\n            <Plus className=\"w-4 h-4 mr-2\" />\n            Create Ad\n          </Button>\n          <Button variant=\"outline\" onClick={() => navigate('/admin/ads-analytics')}>\n            <BarChart3 className=\"w-4 h-4 mr-2\" />\n            View Analytics\n          </Button>\n        </div>\n        <Button variant=\"outline\" size=\"icon\" onClick={fetchAds} aria-label=\"Refresh ads\">\n          <RefreshCw className=\"w-4 h-4\" />\n        </Button>\n      </div>\n      <Card>\n        <CardContent className=\"p-0\">\n          <Table>\n            <TableHeader>\n              <TableRow>\n                <TableHead>ID</TableHead>\n                <TableHead>Website</TableHead>\n                <TableHead>Company Type</TableHead>\n                <TableHead>Online</TableHead>\n                <TableHead>Views</TableHead>\n                <TableHead>Clicks</TableHead>\n                <TableHead>Actions</TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {(Array.isArray(list) ? list : []).map((ad) => (\n                <TableRow key={ad.id}>\n                  <TableCell>{ad.id}</TableCell>\n                  <TableCell>{ad.website}</TableCell>\n                  <TableCell>{ad.company_type}</TableCell>\n                  <TableCell>\n                    {ad.online ? (\n                      <CheckCircle2 className=\"w-4 h-4 text-green-500\" />\n                    ) : (\n                      <XCircle className=\"w-4 h-4 text-gray-400\" />\n                    )}\n                  </TableCell>\n                  <TableCell>{ad.nb_views}</TableCell>\n                  <TableCell>{ad.nb_clicks}</TableCell>\n                  <TableCell>\n                    <div className=\"flex items-center gap-2\">\n                      <Button\n                        variant=\"ghost\"\n                        size=\"icon\"\n                        onClick={() => {\n                          setSelectedItem(ad);\n                          setModalType('edit-ad');\n                          setModalOpen(true);\n                        }}\n                      >\n                        <Edit className=\"w-4 h-4\" />\n                      </Button>\n                      <Button\n                        variant=\"ghost\"\n                        size=\"icon\"\n                        onClick={() => showConfirmDialog(\n                          'Delete Ad',\n                          'Are you sure you want to delete this ad?',\n                          () => deleteAd(ad.id)\n                        )}\n                      >\n                        <Trash2 className=\"w-4 h-4 text-red-500\" />\n                      </Button>\n                    </div>\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","import React from 'react';\nimport { Plus, Edit, Trash2, RefreshCw, Users } from 'lucide-react';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { useAdmin } from '@/contexts/AdminContext';\n\nexport default function AdminPromoCodesTab() {\n  const {\n    promoCodes,\n    brokers,\n    filters,\n    setFilters,\n    setBrokerForm,\n    setSelectedItem,\n    setModalType,\n    setModalOpen,\n    fetchPromoCodes,\n    fetchPromoCodeUsers,\n    fetchBrokerReferrals,\n    showConfirmDialog,\n    handleDeletePromoCode\n  } = useAdmin();\n\n  const list = promoCodes?.data ?? (Array.isArray(promoCodes) ? promoCodes : []);\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-2\">\n          <Button\n            onClick={() => {\n              setSelectedItem(null);\n              setModalType('create-promo-code');\n              setModalOpen(true);\n            }}\n          >\n            <Plus className=\"w-4 h-4 mr-2\" />\n            Create Promo Code\n          </Button>\n          <Button\n            variant=\"outline\"\n            onClick={() => {\n              setBrokerForm({ username: '', phone_number: '', email: '', password: '', password_confirmation: '', first_name: '', last_name: '' });\n              setModalType('create-broker');\n              setModalOpen(true);\n            }}\n          >\n            <Users className=\"w-4 h-4 mr-2\" />\n            Create Broker\n          </Button>\n          <div className=\"flex items-center gap-2\">\n            <Select\n              value={filters.promoCodes.broker_id || 'all'}\n              onValueChange={(val) =>\n                setFilters((prev) => ({\n                  ...prev,\n                  promoCodes: { ...prev.promoCodes, broker_id: val }\n                }))\n              }\n            >\n              <SelectTrigger className=\"w-[180px]\">\n                <SelectValue placeholder=\"Filter by broker\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"all\">All brokers</SelectItem>\n                {(Array.isArray(brokers) ? brokers : []).map((b) => (\n                  <SelectItem key={b.id} value={String(b.id)}>\n                    {b.username || `${b.first_name || ''} ${b.last_name || ''}` || `Broker #${b.id}`}\n                  </SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n            <Select\n              value={filters.promoCodes.is_active}\n              onValueChange={(val) =>\n                setFilters((prev) => ({\n                  ...prev,\n                  promoCodes: { ...prev.promoCodes, is_active: val }\n                }))\n              }\n            >\n              <SelectTrigger className=\"w-[150px]\">\n                <SelectValue placeholder=\"Status\" />\n              </SelectTrigger>\n              <SelectContent>\n                <SelectItem value=\"all\">All status</SelectItem>\n                <SelectItem value=\"true\">Active</SelectItem>\n                <SelectItem value=\"false\">Inactive</SelectItem>\n              </SelectContent>\n            </Select>\n          </div>\n        </div>\n        <Button variant=\"outline\" size=\"icon\" onClick={fetchPromoCodes} aria-label=\"Refresh promo codes\">\n          <RefreshCw className=\"w-4 h-4\" />\n        </Button>\n      </div>\n      <Card>\n        <CardContent className=\"p-0\">\n          <Table>\n            <TableHeader>\n              <TableRow>\n                <TableHead>Code</TableHead>\n                <TableHead>Broker</TableHead>\n                <TableHead>Description</TableHead>\n                <TableHead>Uses</TableHead>\n                <TableHead>Commission %</TableHead>\n                <TableHead>Status</TableHead>\n                <TableHead>Expires At</TableHead>\n                <TableHead>Actions</TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {(Array.isArray(list) ? list : []).map((promo) => (\n                <TableRow key={promo.id}>\n                  <TableCell className=\"font-mono font-semibold\">{promo.code}</TableCell>\n                  <TableCell>\n                    {promo.broker\n                      ? (promo.broker.username ||\n                         `${promo.broker.first_name || ''} ${promo.broker.last_name || ''}`)\n                      : 'N/A'}\n                  </TableCell>\n                  <TableCell className=\"max-w-xs truncate\">\n                    {promo.description || '—'}\n                  </TableCell>\n                  <TableCell>\n                    {promo.current_uses} / {promo.max_uses ?? '∞'}\n                  </TableCell>\n                  <TableCell>{promo.commission_percentage ?? 0}%</TableCell>\n                  <TableCell>\n                    <Badge variant={promo.is_active ? 'default' : 'secondary'}>\n                      {promo.is_active ? 'Active' : 'Inactive'}\n                    </Badge>\n                  </TableCell>\n                  <TableCell>\n                    {promo.expires_at ? new Date(promo.expires_at).toLocaleDateString() : 'No expiry'}\n                  </TableCell>\n                  <TableCell>\n                    <div className=\"flex items-center gap-2\">\n                      <Button\n                        variant=\"ghost\"\n                        size=\"icon\"\n                        onClick={() => {\n                          setSelectedItem(promo);\n                          setModalType('edit-promo-code');\n                          setModalOpen(true);\n                        }}\n                      >\n                        <Edit className=\"w-4 h-4\" />\n                      </Button>\n                      <Button\n                        variant=\"ghost\"\n                        size=\"icon\"\n                        onClick={() => {\n                          setSelectedItem(promo);\n                          fetchPromoCodeUsers(promo.id);\n                          fetchBrokerReferrals(promo.broker_id);\n                          setModalType('view-promo-users');\n                          setModalOpen(true);\n                        }}\n                      >\n                        <Users className=\"w-4 h-4\" />\n                      </Button>\n                      <Button\n                        variant=\"ghost\"\n                        size=\"icon\"\n                        onClick={() =>\n                          showConfirmDialog(\n                            'Delete Promo Code',\n                            'Are you sure you want to delete this promo code?',\n                            () => handleDeletePromoCode(promo.id)\n                          )\n                        }\n                      >\n                        <Trash2 className=\"w-4 h-4 text-red-500\" />\n                      </Button>\n                    </div>\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","import React from 'react';\nimport { Users, DollarSign, RefreshCw } from 'lucide-react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\nimport { useAdmin, COLORS } from '@/contexts/AdminContext';\nimport { getBrokerCommissions } from '@/lib/adminApi';\n\nexport default function AdminBrokersTab() {\n  const {\n    brokers,\n    selectedBroker,\n    brokerDetailTab,\n    setBrokerDetailTab,\n    brokerBalance,\n    brokerCommissions,\n    brokerPayouts,\n    brokerReferrals,\n    brokerCommissionsList,\n    commissionStatusFilter,\n    setCommissionStatusFilter,\n    setBrokerCommissions,\n    setBrokerForm,\n    setPayoutForm,\n    setSelectedBroker,\n    setModalType,\n    setModalOpen,\n    fetchBrokers,\n    fetchBrokerCommissionsList,\n    openBrokerDetail,\n    closeBrokerDetail,\n    showConfirmDialog,\n    handleCancelCommission,\n    handleDeleteBrokerReferral\n  } = useAdmin();\n\n  const refreshBrokerCommissionsByStatus = async (status) => {\n    if (!selectedBroker?.id) return;\n    setCommissionStatusFilter(status);\n    try {\n      const res = await getBrokerCommissions(selectedBroker.id, { status: status === 'all' ? undefined : status });\n      const raw = res.data?.commissions?.data ?? res.data?.commissions;\n      setBrokerCommissions({\n        data: Array.isArray(raw) ? raw : [],\n        statistics: res.data?.statistics || {}\n      });\n    } catch (e) {\n      console.error('Failed to fetch broker commissions:', e);\n    }\n  };\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex items-center justify-between flex-wrap gap-2\">\n        <div className=\"flex gap-2\">\n          <Button\n            variant=\"outline\"\n            onClick={() => {\n              setBrokerForm({ username: '', phone_number: '', email: '', password: '', password_confirmation: '', first_name: '', last_name: '' });\n              setModalType('create-broker');\n              setModalOpen(true);\n            }}\n          >\n            <Users className=\"w-4 h-4 mr-2\" />\n            Create Broker\n          </Button>\n          <Button\n            onClick={() => {\n              setPayoutForm({\n                broker_id: selectedBroker?.id ? String(selectedBroker.id) : 'select',\n                amount: selectedBroker?.id && brokerBalance?.balance != null ? String(brokerBalance.balance) : '',\n                reference: '',\n                notes: ''\n              });\n              setModalType('create-broker-payout');\n              setModalOpen(true);\n            }}\n          >\n            <DollarSign className=\"w-4 h-4 mr-2\" />\n            Create Payout\n          </Button>\n        </div>\n        <Button variant=\"outline\" size=\"icon\" onClick={() => { fetchBrokers(); fetchBrokerCommissionsList(); }}>\n          <RefreshCw className=\"w-4 h-4\" />\n        </Button>\n      </div>\n\n      {selectedBroker ? (\n        <Card>\n          <CardHeader className=\"flex flex-row items-center justify-between\">\n            <CardTitle className=\"flex items-center gap-2\">\n              <Users className=\"w-5 h-5\" />\n              {selectedBroker.username || `${selectedBroker.first_name || ''} ${selectedBroker.last_name || ''}`.trim() || `Broker #${selectedBroker.id}`}\n            </CardTitle>\n            <div className=\"flex items-center gap-2\">\n              <Button\n                variant=\"outline\"\n                size=\"sm\"\n                onClick={() => {\n                  setPayoutForm({\n                    broker_id: String(selectedBroker.id),\n                    amount: brokerBalance?.balance ? String(brokerBalance.balance) : '',\n                    reference: '',\n                    notes: ''\n                  });\n                  setModalType('create-broker-payout');\n                  setModalOpen(true);\n                }}\n              >\n                <DollarSign className=\"w-4 h-4 mr-1\" />\n                Pay broker\n              </Button>\n              <Button variant=\"ghost\" size=\"sm\" onClick={closeBrokerDetail}>Close</Button>\n            </div>\n          </CardHeader>\n          <CardContent>\n            <Tabs value={brokerDetailTab} onValueChange={setBrokerDetailTab} className=\"w-full\">\n              <TabsList className=\"grid w-full grid-cols-4\">\n                <TabsTrigger value=\"overview\">Overview</TabsTrigger>\n                <TabsTrigger value=\"commissions\">Commissions</TabsTrigger>\n                <TabsTrigger value=\"payouts\">Payouts</TabsTrigger>\n                <TabsTrigger value=\"referrals\">Referrals</TabsTrigger>\n              </TabsList>\n              <TabsContent value=\"overview\" className=\"space-y-4 mt-4\">\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n                  <Card>\n                    <CardContent className=\"pt-4\">\n                      <p className=\"text-sm text-muted-foreground\">Balance</p>\n                      <p className=\"text-2xl font-bold\" style={{ color: COLORS.limeGreen }}>${(brokerBalance?.balance ?? 0).toFixed(2)}</p>\n                    </CardContent>\n                  </Card>\n                  <Card>\n                    <CardContent className=\"pt-4\">\n                      <p className=\"text-sm text-muted-foreground\">Total commissions</p>\n                      <p className=\"text-2xl font-bold\">${(brokerBalance?.total_commissions ?? brokerCommissions.statistics?.total_commissions ?? 0).toFixed(2)}</p>\n                    </CardContent>\n                  </Card>\n                  <Card>\n                    <CardContent className=\"pt-4\">\n                      <p className=\"text-sm text-muted-foreground\">Total payouts</p>\n                      <p className=\"text-2xl font-bold\">${(brokerBalance?.total_payouts ?? brokerCommissions.statistics?.total_payouts ?? 0).toFixed(2)}</p>\n                    </CardContent>\n                  </Card>\n                </div>\n              </TabsContent>\n              <TabsContent value=\"commissions\" className=\"mt-4\">\n                <div className=\"flex gap-2 mb-4\">\n                  {['all', 'pending', 'paid', 'cancelled'].map((s) => (\n                    <Button\n                      key={s}\n                      variant={commissionStatusFilter === s ? 'default' : 'outline'}\n                      size=\"sm\"\n                      onClick={() => refreshBrokerCommissionsByStatus(s)}\n                    >\n                      {s.charAt(0).toUpperCase() + s.slice(1)}\n                    </Button>\n                  ))}\n                </div>\n                <Table>\n                  <TableHeader>\n                    <TableRow>\n                      <TableHead>ID</TableHead>\n                      <TableHead>Referred user</TableHead>\n                      <TableHead>Promo code</TableHead>\n                      <TableHead>Booking amount</TableHead>\n                      <TableHead>Commission</TableHead>\n                      <TableHead>Status</TableHead>\n                      <TableHead>Completed at</TableHead>\n                      <TableHead>Actions</TableHead>\n                    </TableRow>\n                  </TableHeader>\n                  <TableBody>\n                    {(Array.isArray(brokerCommissions.data) ? brokerCommissions.data : []).map((c) => (\n                      <TableRow key={c.id}>\n                        <TableCell>{c.id}</TableCell>\n                        <TableCell>{c.referredUser ? `${c.referredUser.first_name || ''} ${c.referredUser.last_name || ''}`.trim() || c.referredUser.username : c.referred_user_id}</TableCell>\n                        <TableCell>{c.promoCode?.code || '—'}</TableCell>\n                        <TableCell>${Number(c.booking_amount || 0).toFixed(2)}</TableCell>\n                        <TableCell>${Number(c.commission_amount || 0).toFixed(2)} ({c.commission_percentage}%)</TableCell>\n                        <TableCell><Badge variant={c.status === 'paid' ? 'default' : c.status === 'cancelled' ? 'secondary' : 'outline'}>{c.status}</Badge></TableCell>\n                        <TableCell>{c.booking_completed_at ? new Date(c.booking_completed_at).toLocaleDateString() : '—'}</TableCell>\n                        <TableCell>\n                          {c.status === 'pending' && (\n                            <Button variant=\"ghost\" size=\"sm\" onClick={() => showConfirmDialog('Cancel commission', 'Are you sure? This cannot be undone.', () => handleCancelCommission(c.id))}>\n                              Cancel\n                            </Button>\n                          )}\n                        </TableCell>\n                      </TableRow>\n                    ))}\n                  </TableBody>\n                </Table>\n              </TabsContent>\n              <TabsContent value=\"payouts\" className=\"mt-4\">\n                <Table>\n                  <TableHeader>\n                    <TableRow>\n                      <TableHead>Reference ID</TableHead>\n                      <TableHead>Amount</TableHead>\n                      <TableHead>Paid at</TableHead>\n                      <TableHead>Description</TableHead>\n                    </TableRow>\n                  </TableHeader>\n                  <TableBody>\n                    {(Array.isArray(brokerPayouts.data) ? brokerPayouts.data : []).map((p) => (\n                      <TableRow key={p.id}>\n                        <TableCell className=\"font-mono text-xs\">{p.reference_id || p.id}</TableCell>\n                        <TableCell>${((p.amount || 0) / 100).toFixed(2)}</TableCell>\n                        <TableCell>{p.paid_at ? new Date(p.paid_at).toLocaleString() : '—'}</TableCell>\n                        <TableCell>{p.description || p.metadata?.reference || '—'}</TableCell>\n                      </TableRow>\n                    ))}\n                  </TableBody>\n                </Table>\n              </TabsContent>\n              <TabsContent value=\"referrals\" className=\"mt-4\">\n                <Table>\n                  <TableHeader>\n                    <TableRow>\n                      <TableHead>ID</TableHead>\n                      <TableHead>Referred user</TableHead>\n                      <TableHead>Promo code</TableHead>\n                      <TableHead>Actions</TableHead>\n                    </TableRow>\n                  </TableHeader>\n                  <TableBody>\n                    {(Array.isArray(brokerReferrals) ? brokerReferrals : []).map((r) => (\n                      <TableRow key={r.id}>\n                        <TableCell>{r.id}</TableCell>\n                        <TableCell>{r.referredUser ? `${r.referredUser.first_name || ''} ${r.referredUser.last_name || ''}`.trim() || r.referredUser.username : r.referred_user_id}</TableCell>\n                        <TableCell>{r.promoCode?.code || '—'}</TableCell>\n                        <TableCell>\n                          <Button variant=\"ghost\" size=\"sm\" className=\"text-red-500\" onClick={() => showConfirmDialog('Delete referral', 'Remove this referral link? This cannot be undone.', () => handleDeleteBrokerReferral(r.id))}>\n                            Delete\n                          </Button>\n                        </TableCell>\n                      </TableRow>\n                    ))}\n                  </TableBody>\n                </Table>\n              </TabsContent>\n            </Tabs>\n          </CardContent>\n        </Card>\n      ) : (\n        <>\n          <Card>\n            <CardHeader>\n              <CardTitle>Brokers</CardTitle>\n              <p className=\"text-sm text-muted-foreground\">Click Manage to view balance, commissions, payouts, and referrals.</p>\n            </CardHeader>\n            <CardContent className=\"p-0\">\n              <Table>\n                <TableHeader>\n                  <TableRow>\n                    <TableHead>ID</TableHead>\n                    <TableHead>Username</TableHead>\n                    <TableHead>Name</TableHead>\n                    <TableHead>Phone</TableHead>\n                    <TableHead>Actions</TableHead>\n                  </TableRow>\n                </TableHeader>\n                <TableBody>\n                  {(Array.isArray(brokers) ? brokers : []).map((b) => (\n                    <TableRow key={b.id}>\n                      <TableCell>{b.id}</TableCell>\n                      <TableCell>{b.username}</TableCell>\n                      <TableCell>{[b.first_name, b.last_name].filter(Boolean).join(' ') || '—'}</TableCell>\n                      <TableCell>{b.phone_number || '—'}</TableCell>\n                      <TableCell>\n                        <Button variant=\"outline\" size=\"sm\" onClick={() => openBrokerDetail(b)}>Manage</Button>\n                      </TableCell>\n                    </TableRow>\n                  ))}\n                </TableBody>\n              </Table>\n            </CardContent>\n          </Card>\n          <Card>\n            <CardHeader>\n              <CardTitle>All broker commissions</CardTitle>\n            </CardHeader>\n            <CardContent className=\"p-0\">\n              <Table>\n                <TableHeader>\n                  <TableRow>\n                    <TableHead>ID</TableHead>\n                    <TableHead>Broker</TableHead>\n                    <TableHead>Referred user</TableHead>\n                    <TableHead>Promo</TableHead>\n                    <TableHead>Amount</TableHead>\n                    <TableHead>Status</TableHead>\n                  </TableRow>\n                </TableHeader>\n                <TableBody>\n                  {(Array.isArray(brokerCommissionsList?.data) ? brokerCommissionsList.data : []).map((c) => (\n                    <TableRow key={c.id}>\n                      <TableCell>{c.id}</TableCell>\n                      <TableCell>{c.broker ? (c.broker.username || `${c.broker.first_name || ''} ${c.broker.last_name || ''}`) : c.broker_id}</TableCell>\n                      <TableCell>{c.referredUser ? `${c.referredUser.first_name || ''} ${c.referredUser.last_name || ''}`.trim() || c.referredUser.username : '—'}</TableCell>\n                      <TableCell>{c.promoCode?.code || '—'}</TableCell>\n                      <TableCell>${Number(c.commission_amount || 0).toFixed(2)}</TableCell>\n                      <TableCell><Badge variant={c.status === 'paid' ? 'default' : c.status === 'cancelled' ? 'secondary' : 'outline'}>{c.status}</Badge></TableCell>\n                    </TableRow>\n                  ))}\n                </TableBody>\n              </Table>\n            </CardContent>\n          </Card>\n        </>\n      )}\n    </div>\n  );\n}\n","import React from 'react';\nimport { Plus, Trash2, RefreshCw } from 'lucide-react';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\nimport { useAdmin } from '@/contexts/AdminContext';\n\nexport default function AdminFeaturedCarsTab() {\n  const {\n    featuredCars,\n    setSelectedItem,\n    setModalType,\n    setModalOpen,\n    fetchFeaturedCars,\n    showConfirmDialog,\n    deleteFeaturedCar\n  } = useAdmin();\n\n  const list = featuredCars?.data ?? (Array.isArray(featuredCars) ? featuredCars : []);\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex items-center justify-between\">\n        <Button onClick={() => { setSelectedItem(null); setModalType('create-featured-car'); setModalOpen(true); }}>\n          <Plus className=\"w-4 h-4 mr-2\" />\n          Create Featured Car\n        </Button>\n        <Button variant=\"outline\" size=\"icon\" onClick={fetchFeaturedCars}>\n          <RefreshCw className=\"w-4 h-4\" />\n        </Button>\n      </div>\n      <Card>\n        <CardContent className=\"p-0\">\n          <Table>\n            <TableHeader>\n              <TableRow>\n                <TableHead>ID</TableHead>\n                <TableHead>Car</TableHead>\n                <TableHead>Duration</TableHead>\n                <TableHead>Start Date</TableHead>\n                <TableHead>Expire Date</TableHead>\n                <TableHead>Actions</TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {(Array.isArray(list) ? list : []).map((featured) => (\n                <TableRow key={featured.id}>\n                  <TableCell>{featured.id}</TableCell>\n                  <TableCell>{featured.car?.make} {featured.car?.model}</TableCell>\n                  <TableCell>{featured.duration} days</TableCell>\n                  <TableCell>{new Date(featured.start_at).toLocaleDateString()}</TableCell>\n                  <TableCell>{new Date(featured.expire_at).toLocaleDateString()}</TableCell>\n                  <TableCell>\n                    <Button variant=\"ghost\" size=\"icon\" onClick={() => showConfirmDialog('Remove Featured Car', 'Are you sure?', () => deleteFeaturedCar(featured.id))}>\n                      <Trash2 className=\"w-4 h-4 text-red-500\" />\n                    </Button>\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","import React from 'react';\nimport { Plus, Edit, Trash2, RefreshCw, CheckCircle2, XCircle } from 'lucide-react';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\nimport { useAdmin } from '@/contexts/AdminContext';\n\nexport default function AdminHolidaysTab() {\n  const {\n    holidays,\n    setSelectedItem,\n    setModalType,\n    setModalOpen,\n    fetchHolidays,\n    showConfirmDialog,\n    deleteHoliday\n  } = useAdmin();\n\n  const list = holidays?.data ?? (Array.isArray(holidays) ? holidays : []);\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex items-center justify-between\">\n        <Button\n          onClick={() => {\n            setSelectedItem(null);\n            setModalType('create-holiday');\n            setModalOpen(true);\n          }}\n        >\n          <Plus className=\"w-4 h-4 mr-2\" />\n          Create Holiday\n        </Button>\n        <Button variant=\"outline\" size=\"icon\" onClick={fetchHolidays}>\n          <RefreshCw className=\"w-4 h-4\" />\n        </Button>\n      </div>\n      <Card>\n        <CardContent className=\"p-0\">\n          <Table>\n            <TableHeader>\n              <TableRow>\n                <TableHead>ID</TableHead>\n                <TableHead>Car</TableHead>\n                <TableHead>Holiday Name</TableHead>\n                <TableHead>Dates</TableHead>\n                <TableHead>Increase %</TableHead>\n                <TableHead>Active</TableHead>\n                <TableHead>Actions</TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {(Array.isArray(list) ? list : []).map((holiday) => (\n                <TableRow key={holiday.id}>\n                  <TableCell>{holiday.id}</TableCell>\n                  <TableCell>\n                    {holiday.car?.make} {holiday.car?.model}\n                  </TableCell>\n                  <TableCell>{holiday.holiday_name}</TableCell>\n                  <TableCell>\n                    {holiday.holiday_dates?.start} - {holiday.holiday_dates?.end}\n                  </TableCell>\n                  <TableCell>{holiday.percentage_increase}%</TableCell>\n                  <TableCell>\n                    {holiday.is_active ? (\n                      <CheckCircle2 className=\"w-4 h-4 text-green-500\" />\n                    ) : (\n                      <XCircle className=\"w-4 h-4 text-gray-400\" />\n                    )}\n                  </TableCell>\n                  <TableCell>\n                    <div className=\"flex items-center gap-2\">\n                      <Button\n                        variant=\"ghost\"\n                        size=\"icon\"\n                        onClick={() => {\n                          setSelectedItem(holiday);\n                          setModalType('edit-holiday');\n                          setModalOpen(true);\n                        }}\n                      >\n                        <Edit className=\"w-4 h-4\" />\n                      </Button>\n                      <Button\n                        variant=\"ghost\"\n                        size=\"icon\"\n                        onClick={() => showConfirmDialog(\n                          'Delete Holiday',\n                          'Are you sure you want to delete this holiday?',\n                          () => deleteHoliday(holiday.id)\n                        )}\n                      >\n                        <Trash2 className=\"w-4 h-4 text-red-500\" />\n                      </Button>\n                    </div>\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","import React from 'react';\nimport { Edit, Trash2, RefreshCw } from 'lucide-react';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\nimport { useAdmin } from '@/contexts/AdminContext';\n\nexport default function AdminSuggestionsTab() {\n  const {\n    suggestions,\n    setSelectedItem,\n    setModalType,\n    setModalOpen,\n    fetchSuggestions,\n    showConfirmDialog,\n    deleteSuggestion\n  } = useAdmin();\n\n  const list = suggestions?.data ?? (Array.isArray(suggestions) ? suggestions : []);\n\n  return (\n    <div className=\"space-y-4\">\n      <Button variant=\"outline\" size=\"icon\" onClick={fetchSuggestions} aria-label=\"Refresh suggestions\">\n        <RefreshCw className=\"w-4 h-4\" />\n      </Button>\n      <Card>\n        <CardContent className=\"p-0\">\n          <Table>\n            <TableHeader>\n              <TableRow>\n                <TableHead>ID</TableHead>\n                <TableHead>User</TableHead>\n                <TableHead>Title</TableHead>\n                <TableHead>Status</TableHead>\n                <TableHead>Actions</TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {(Array.isArray(list) ? list : []).map((suggestion) => (\n                <TableRow key={suggestion.id}>\n                  <TableCell>{suggestion.id}</TableCell>\n                  <TableCell>{suggestion.user?.name || 'N/A'}</TableCell>\n                  <TableCell>{suggestion.title}</TableCell>\n                  <TableCell>\n                    <Badge variant=\"outline\">{suggestion.status}</Badge>\n                  </TableCell>\n                  <TableCell>\n                    <div className=\"flex items-center gap-2\">\n                      <Button\n                        variant=\"ghost\"\n                        size=\"icon\"\n                        onClick={() => {\n                          setSelectedItem(suggestion);\n                          setModalType('edit-suggestion');\n                          setModalOpen(true);\n                        }}\n                      >\n                        <Edit className=\"w-4 h-4\" />\n                      </Button>\n                      <Button\n                        variant=\"ghost\"\n                        size=\"icon\"\n                        onClick={() => showConfirmDialog(\n                          'Delete Suggestion',\n                          'Are you sure you want to delete this suggestion?',\n                          () => deleteSuggestion(suggestion.id)\n                        )}\n                      >\n                        <Trash2 className=\"w-4 h-4 text-red-500\" />\n                      </Button>\n                    </div>\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","import React from 'react';\nimport { Plus, RefreshCw, CheckCircle2, XCircle } from 'lucide-react';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\nimport { useAdmin } from '@/contexts/AdminContext';\n\nexport default function AdminNotificationsTab() {\n  const {\n    notifications,\n    setSelectedItem,\n    setModalType,\n    setModalOpen,\n    fetchNotifications\n  } = useAdmin();\n\n  const list = notifications?.data ?? (Array.isArray(notifications) ? notifications : []);\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex items-center justify-between\">\n        <Button\n          onClick={() => {\n            setSelectedItem(null);\n            setModalType('send-notification');\n            setModalOpen(true);\n          }}\n        >\n          <Plus className=\"w-4 h-4 mr-2\" />\n          Send to All Users\n        </Button>\n        <Button variant=\"outline\" size=\"icon\" onClick={fetchNotifications}>\n          <RefreshCw className=\"w-4 h-4\" />\n        </Button>\n      </div>\n      <Card>\n        <CardContent className=\"p-0\">\n          <Table>\n            <TableHeader>\n              <TableRow>\n                <TableHead>ID</TableHead>\n                <TableHead>Title</TableHead>\n                <TableHead>Type</TableHead>\n                <TableHead>Read</TableHead>\n                <TableHead>Sent</TableHead>\n                <TableHead>Created</TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {(Array.isArray(list) ? list : []).map((notification) => (\n                <TableRow key={notification.id}>\n                  <TableCell>{notification.id}</TableCell>\n                  <TableCell>{notification.title}</TableCell>\n                  <TableCell>\n                    <Badge variant=\"outline\">{notification.type}</Badge>\n                  </TableCell>\n                  <TableCell>\n                    {notification.is_read ? (\n                      <CheckCircle2 className=\"w-4 h-4 text-green-500\" />\n                    ) : (\n                      <XCircle className=\"w-4 h-4 text-gray-400\" />\n                    )}\n                  </TableCell>\n                  <TableCell>\n                    {notification.is_sent ? (\n                      <CheckCircle2 className=\"w-4 h-4 text-green-500\" />\n                    ) : (\n                      <XCircle className=\"w-4 h-4 text-gray-400\" />\n                    )}\n                  </TableCell>\n                  <TableCell>\n                    {new Date(notification.created_at).toLocaleDateString()}\n                  </TableCell>\n                </TableRow>\n              ))}\n            </TableBody>\n          </Table>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","import React from 'react';\nimport { RefreshCw } from 'lucide-react';\nimport { Card, CardContent } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Input } from '@/components/ui/input';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { useAdmin } from '@/contexts/AdminContext';\n\nexport default function AdminOtpsTab() {\n  const {\n    otps,\n    loading,\n    filters,\n    setFilters,\n    fetchOtps\n  } = useAdmin();\n\n  const list = otps?.data ?? (Array.isArray(otps) ? otps : []);\n\n  return (\n    <div className=\"space-y-4\">\n      <div className=\"flex items-center justify-between\">\n        <div className=\"flex items-center gap-2\">\n          <Input\n            placeholder=\"Search by phone number...\"\n            className=\"w-64\"\n            value={filters.otps.phone_number}\n            onChange={(e) => setFilters(prev => ({\n              ...prev,\n              otps: { ...prev.otps, phone_number: e.target.value }\n            }))}\n          />\n          <Select\n            value={filters.otps.expired}\n            onValueChange={(value) => setFilters(prev => ({\n              ...prev,\n              otps: { ...prev.otps, expired: value }\n            }))}\n          >\n            <SelectTrigger className=\"w-40\">\n              <SelectValue placeholder=\"Expired\" />\n            </SelectTrigger>\n            <SelectContent>\n              <SelectItem value=\"all\">All OTPs</SelectItem>\n              <SelectItem value=\"false\">Active</SelectItem>\n              <SelectItem value=\"true\">Expired</SelectItem>\n            </SelectContent>\n          </Select>\n        </div>\n        <Button variant=\"outline\" size=\"icon\" onClick={fetchOtps}>\n          <RefreshCw className=\"w-4 h-4\" />\n        </Button>\n      </div>\n      <Card>\n        <CardContent className=\"p-0\">\n          <Table>\n            <TableHeader>\n              <TableRow>\n                <TableHead>ID</TableHead>\n                <TableHead>Phone Number</TableHead>\n                <TableHead>OTP Code</TableHead>\n                <TableHead>Created At</TableHead>\n                <TableHead>Expires At</TableHead>\n                <TableHead>Status</TableHead>\n              </TableRow>\n            </TableHeader>\n            <TableBody>\n              {loading && (Array.isArray(list) ? list : []).length === 0 ? (\n                <TableRow>\n                  <TableCell colSpan={6} className=\"text-center py-8\">\n                    <RefreshCw className=\"w-6 h-6 animate-spin mx-auto mb-2\" />\n                    Loading OTPs...\n                  </TableCell>\n                </TableRow>\n              ) : (Array.isArray(list) ? list : []).length === 0 ? (\n                <TableRow>\n                  <TableCell colSpan={6} className=\"text-center py-8 text-muted-foreground\">\n                    No OTPs found\n                  </TableCell>\n                </TableRow>\n              ) : (\n                (Array.isArray(list) ? list : []).map((otp) => {\n                  const isExpired = new Date(otp.expired_at) < new Date();\n                  return (\n                    <TableRow key={otp.id}>\n                      <TableCell>{otp.id}</TableCell>\n                      <TableCell>{otp.phone_number}</TableCell>\n                      <TableCell className=\"font-mono font-bold\">{otp.code}</TableCell>\n                      <TableCell>{new Date(otp.created_at).toLocaleString()}</TableCell>\n                      <TableCell>{new Date(otp.expired_at).toLocaleString()}</TableCell>\n                      <TableCell>\n                        {isExpired ? (\n                          <Badge variant=\"destructive\">Expired</Badge>\n                        ) : (\n                          <Badge variant=\"default\">Active</Badge>\n                        )}\n                      </TableCell>\n                    </TableRow>\n                  );\n                })\n              )}\n            </TableBody>\n          </Table>\n        </CardContent>\n      </Card>\n    </div>\n  );\n}\n","import React from 'react';\nimport {\n  Plus, Edit, Trash2, RefreshCw, Search, Eye, Package, Star,\n  Briefcase, Building2, MessageCircle\n} from 'lucide-react';\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\nimport { Button } from '@/components/ui/button';\nimport { Badge } from '@/components/ui/badge';\nimport { Input } from '@/components/ui/input';\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\nimport { useAdmin } from '@/contexts/AdminContext';\n\nexport default function AdminServicesTab() {\n  const ctx = useAdmin();\n  const {\n    services,\n    thirdParties,\n    serviceItems,\n    serviceFeedbacks,\n    loading,\n    filters,\n    setFilters,\n    selectedServiceId,\n    setSelectedItem,\n    setModalType,\n    setModalOpen,\n    setConfirmDialog,\n    fetchServices,\n    fetchThirdParties,\n    fetchServiceItems,\n    fetchServiceFeedbacks,\n    handleDeleteService,\n    handleDeleteFeedback,\n    handleDeleteServiceItem\n  } = ctx;\n\n  return (\n    <div className=\"space-y-6\">\n      <Tabs defaultValue=\"services-list\" className=\"w-full\">\n        <TabsList className=\"grid w-full grid-cols-4 mb-4\">\n          <TabsTrigger value=\"services-list\" className=\"text-xs\">\n            <Briefcase className=\"w-4 h-4 mr-1\" />\n            Services\n          </TabsTrigger>\n          <TabsTrigger value=\"third-parties\" className=\"text-xs\">\n            <Building2 className=\"w-4 h-4 mr-1\" />\n            Third Parties\n          </TabsTrigger>\n          <TabsTrigger value=\"service-items\" className=\"text-xs\">\n            <Package className=\"w-4 h-4 mr-1\" />\n            Service Items\n          </TabsTrigger>\n          <TabsTrigger value=\"service-feedbacks\" className=\"text-xs\">\n            <MessageCircle className=\"w-4 h-4 mr-1\" />\n            Feedbacks\n          </TabsTrigger>\n        </TabsList>\n\n        <TabsContent value=\"services-list\" className=\"space-y-4\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-2\">\n              <Button onClick={() => { setSelectedItem(null); setModalType('create-service'); setModalOpen(true); }}>\n                <Plus className=\"w-4 h-4 mr-1\" />\n                Create Service\n              </Button>\n              <Button variant=\"outline\" size=\"icon\" onClick={fetchServices} aria-label=\"Refresh services\">\n                <RefreshCw className=\"w-4 h-4\" />\n              </Button>\n            </div>\n            <div className=\"flex items-center gap-2\">\n              <Input\n                placeholder=\"Search services...\"\n                value={filters.services.search}\n                onChange={(e) => setFilters({ ...filters, services: { ...filters.services, search: e.target.value } })}\n                className=\"w-48\"\n              />\n              <Select value={filters.services.category} onValueChange={(v) => setFilters({ ...filters, services: { ...filters.services, category: v } })}>\n                <SelectTrigger className=\"w-40\"><SelectValue placeholder=\"Category\" /></SelectTrigger>\n                <SelectContent>\n                  <SelectItem value=\"all\">All</SelectItem>\n                  <SelectItem value=\"transport\">Transport</SelectItem>\n                  <SelectItem value=\"accommodation\">Accommodation</SelectItem>\n                  <SelectItem value=\"food\">Food</SelectItem>\n                  <SelectItem value=\"entertainment\">Entertainment</SelectItem>\n                  <SelectItem value=\"other\">Other</SelectItem>\n                </SelectContent>\n              </Select>\n              <Button onClick={fetchServices}><Search className=\"w-4 h-4\" /></Button>\n            </div>\n          </div>\n          <Card>\n            <CardContent className=\"p-0\">\n              <Table>\n                <TableHeader>\n                  <TableRow>\n                    <TableHead>ID</TableHead>\n                    <TableHead>Name</TableHead>\n                    <TableHead>Owner</TableHead>\n                    <TableHead>Category</TableHead>\n                    <TableHead>Price</TableHead>\n                    <TableHead>Rating</TableHead>\n                    <TableHead>Featured</TableHead>\n                    <TableHead>Actions</TableHead>\n                  </TableRow>\n                </TableHeader>\n                <TableBody>\n                  {loading ? (\n                    <TableRow><TableCell colSpan={8} className=\"text-center py-8\">Loading...</TableCell></TableRow>\n                  ) : (Array.isArray(services) ? services : []).length === 0 ? (\n                    <TableRow><TableCell colSpan={8} className=\"text-center py-8\">No services found</TableCell></TableRow>\n                  ) : (\n                    (Array.isArray(services) ? services : []).map((service) => (\n                      <TableRow key={service.id}>\n                        <TableCell>{service.id}</TableCell>\n                        <TableCell className=\"font-medium\">{service.name}</TableCell>\n                        <TableCell>\n                          {service.third_party ? (\n                            <div className=\"text-sm\">\n                              <p className=\"font-medium\">{service.third_party.name}</p>\n                              <p className=\"text-xs text-muted-foreground\">{service.third_party.email}</p>\n                            </div>\n                          ) : service.third_party_id ? (\n                            <span className=\"text-muted-foreground\">ID: {service.third_party_id}</span>\n                          ) : (\n                            <span className=\"text-muted-foreground\">-</span>\n                          )}\n                        </TableCell>\n                        <TableCell><Badge variant=\"outline\">{service.category}</Badge></TableCell>\n                        <TableCell>${(parseFloat(service.price) || 0).toFixed(2)}</TableCell>\n                        <TableCell>\n                          <div className=\"flex items-center gap-1\">\n                            <Star className=\"w-4 h-4 text-yellow-500 fill-yellow-500\" />\n                            {service.rating ? (parseFloat(service.rating) || 0).toFixed(1) : 'N/A'}\n                          </div>\n                        </TableCell>\n                        <TableCell><Badge variant={service.featured ? \"default\" : \"secondary\"}>{service.featured ? 'Yes' : 'No'}</Badge></TableCell>\n                        <TableCell>\n                          <div className=\"flex items-center gap-1\">\n                            <Button size=\"sm\" variant=\"ghost\" onClick={() => { setSelectedItem(service); setModalType('view-service'); setModalOpen(true); }}><Eye className=\"w-4 h-4\" /></Button>\n                            <Button size=\"sm\" variant=\"ghost\" onClick={() => { setSelectedItem(service); setModalType('edit-service'); setModalOpen(true); }}><Edit className=\"w-4 h-4\" /></Button>\n                            <Button size=\"sm\" variant=\"ghost\" onClick={() => ctx.fetchServiceItems(service.id)}><Package className=\"w-4 h-4\" /></Button>\n                            <Button size=\"sm\" variant=\"ghost\" className=\"text-destructive\" onClick={() => setConfirmDialog({ open: true, title: 'Delete Service', message: `Are you sure you want to delete \"${service.name}\"?`, onConfirm: () => handleDeleteService(service.id) })}><Trash2 className=\"w-4 h-4\" /></Button>\n                          </div>\n                        </TableCell>\n                      </TableRow>\n                    ))\n                  )}\n                </TableBody>\n              </Table>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"third-parties\" className=\"space-y-4\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-2\">\n              <Button onClick={() => { setSelectedItem(null); setModalType('create-third-party'); setModalOpen(true); }}>\n                <Plus className=\"w-4 h-4 mr-1\" />\n                Create Third Party\n              </Button>\n              <Button variant=\"outline\" size=\"icon\" onClick={fetchThirdParties}><RefreshCw className=\"w-4 h-4\" /></Button>\n            </div>\n            <Input placeholder=\"Search third parties...\" value={filters.thirdParties.search} onChange={(e) => setFilters({ ...filters, thirdParties: { ...filters.thirdParties, search: e.target.value } })} className=\"w-64\" />\n          </div>\n          <Card>\n            <CardContent className=\"p-0\">\n              <Table>\n                <TableHeader>\n                  <TableRow>\n                    <TableHead>ID</TableHead>\n                    <TableHead>Name</TableHead>\n                    <TableHead>Contact</TableHead>\n                    <TableHead>Category</TableHead>\n                    <TableHead>City</TableHead>\n                    <TableHead>Subscription</TableHead>\n                    <TableHead>Created At</TableHead>\n                    <TableHead>Actions</TableHead>\n                  </TableRow>\n                </TableHeader>\n                <TableBody>\n                  {loading ? (\n                    <TableRow><TableCell colSpan={8} className=\"text-center py-8\">Loading...</TableCell></TableRow>\n                  ) : (Array.isArray(thirdParties) ? thirdParties : []).length === 0 ? (\n                    <TableRow><TableCell colSpan={8} className=\"text-center py-8\">No third parties found</TableCell></TableRow>\n                  ) : (\n                    (Array.isArray(thirdParties) ? thirdParties : []).map((tp) => (\n                      <TableRow key={tp.id}>\n                        <TableCell>{tp.id}</TableCell>\n                        <TableCell><p className=\"font-medium\">{tp.name}</p></TableCell>\n                        <TableCell>{tp.email || tp.phone || '-'}</TableCell>\n                        <TableCell><Badge variant=\"outline\">{tp.category || '-'}</Badge></TableCell>\n                        <TableCell>{tp.city || '-'}</TableCell>\n                        <TableCell>{tp.subscription_status || '-'}</TableCell>\n                        <TableCell>{tp.created_at ? new Date(tp.created_at).toLocaleDateString() : '-'}</TableCell>\n                        <TableCell>\n                          <div className=\"flex items-center gap-1\">\n                            <Button size=\"sm\" variant=\"ghost\" onClick={() => { setSelectedItem(tp); setModalType('view-third-party'); setModalOpen(true); }}><Eye className=\"w-4 h-4\" /></Button>\n                            <Button size=\"sm\" variant=\"ghost\" onClick={() => { setSelectedItem(tp); setModalType('edit-third-party'); setModalOpen(true); }}><Edit className=\"w-4 h-4\" /></Button>\n                            <Button size=\"sm\" variant=\"ghost\" onClick={() => { setSelectedItem(tp); setModalType('create-service-for-tp'); setModalOpen(true); }}><Plus className=\"w-4 h-4\" /></Button>\n                            <Button size=\"sm\" variant=\"ghost\" className=\"text-destructive\" onClick={() => setConfirmDialog({ open: true, title: 'Delete Third Party', message: 'Are you sure?', onConfirm: () => ctx.handleDeleteThirdParty(tp.id) })}><Trash2 className=\"w-4 h-4\" /></Button>\n                          </div>\n                        </TableCell>\n                      </TableRow>\n                    ))\n                  )}\n                </TableBody>\n              </Table>\n            </CardContent>\n          </Card>\n        </TabsContent>\n\n        <TabsContent value=\"service-items\" className=\"space-y-4\">\n          <div className=\"flex items-center justify-between\">\n            <div className=\"flex items-center gap-2\">\n              {selectedServiceId && (\n                <>\n                  <Button onClick={() => { setSelectedItem(null); setModalType('create-service-item'); setModalOpen(true); }}><Plus className=\"w-4 h-4 mr-1\" />Add Item</Button>\n                  <Button variant=\"outline\" size=\"icon\" onClick={() => fetchServiceItems(selectedServiceId)}><RefreshCw className=\"w-4 h-4\" /></Button>\n                </>\n              )}\n            </div>\n            <Select value={selectedServiceId?.toString() || ''} onValueChange={(v) => v && ctx.fetchServiceItems(parseInt(v))}>\n              <SelectTrigger className=\"w-64\"><SelectValue placeholder=\"Select a service to view items\" /></SelectTrigger>\n              <SelectContent>\n                {(Array.isArray(services) ? services : []).map((s) => (\n                  <SelectItem key={s.id} value={String(s.id)}>{s.name}</SelectItem>\n                ))}\n              </SelectContent>\n            </Select>\n          </div>\n          {!selectedServiceId ? (\n            <Card><CardContent className=\"py-12 text-center text-muted-foreground\"><Package className=\"w-12 h-12 mx-auto mb-4 opacity-50\" /><p>Select a service from the dropdown above</p></CardContent></Card>\n          ) : (\n            <Card>\n              <CardHeader><CardTitle>Items for Service #{selectedServiceId}</CardTitle></CardHeader>\n              <CardContent className=\"p-0\">\n                <Table>\n                  <TableHeader>\n                    <TableRow>\n                      <TableHead>ID</TableHead>\n                      <TableHead>Name</TableHead>\n                      <TableHead>Description</TableHead>\n                      <TableHead>Price</TableHead>\n                      <TableHead>Image</TableHead>\n                      <TableHead>Actions</TableHead>\n                    </TableRow>\n                  </TableHeader>\n                  <TableBody>\n                    {loading ? <TableRow><TableCell colSpan={6} className=\"text-center py-8\">Loading...</TableCell></TableRow> :\n                      (Array.isArray(serviceItems) ? serviceItems : []).length === 0 ? <TableRow><TableCell colSpan={6} className=\"text-center py-8\">No items found</TableCell></TableRow> :\n                        (Array.isArray(serviceItems) ? serviceItems : []).map((item) => (\n                          <TableRow key={item.id}>\n                            <TableCell>{item.id}</TableCell>\n                            <TableCell className=\"font-medium\">{item.name}</TableCell>\n                            <TableCell className=\"max-w-xs truncate\">{item.description || 'N/A'}</TableCell>\n                            <TableCell>${(parseFloat(item.price) || 0).toFixed(2)}</TableCell>\n                            <TableCell>{item.image ? <img src={item.image} alt={item.name} className=\"w-10 h-10 object-cover rounded\" /> : <span className=\"text-muted-foreground\">No image</span>}</TableCell>\n                            <TableCell>\n                              <div className=\"flex items-center gap-1\">\n                                <Button size=\"sm\" variant=\"ghost\" onClick={() => { setSelectedItem(item); setModalType('edit-service-item'); setModalOpen(true); }}><Edit className=\"w-4 h-4\" /></Button>\n                                <Button size=\"sm\" variant=\"ghost\" className=\"text-destructive\" onClick={() => setConfirmDialog({ open: true, title: 'Delete Item', message: `Delete \"${item.name}\"?`, onConfirm: () => handleDeleteServiceItem(item.id) })}><Trash2 className=\"w-4 h-4\" /></Button>\n                              </div>\n                            </TableCell>\n                          </TableRow>\n                        ))\n                    }\n                  </TableBody>\n                </Table>\n              </CardContent>\n            </Card>\n          )}\n        </TabsContent>\n\n        <TabsContent value=\"service-feedbacks\" className=\"space-y-4\">\n          <Button variant=\"outline\" size=\"icon\" onClick={fetchServiceFeedbacks}><RefreshCw className=\"w-4 h-4\" /></Button>\n          <Card>\n            <CardContent className=\"p-0\">\n              <Table>\n                <TableHeader>\n                  <TableRow>\n                    <TableHead>ID</TableHead>\n                    <TableHead>Service</TableHead>\n                    <TableHead>User</TableHead>\n                    <TableHead>Rating</TableHead>\n                    <TableHead>Comment</TableHead>\n                    <TableHead>Helpful</TableHead>\n                    <TableHead>Created At</TableHead>\n                    <TableHead>Actions</TableHead>\n                  </TableRow>\n                </TableHeader>\n                <TableBody>\n                  {loading ? <TableRow><TableCell colSpan={8} className=\"text-center py-8\">Loading...</TableCell></TableRow> :\n                    (Array.isArray(serviceFeedbacks) ? serviceFeedbacks : []).length === 0 ? <TableRow><TableCell colSpan={8} className=\"text-center py-8\">No feedbacks found</TableCell></TableRow> :\n                      (Array.isArray(serviceFeedbacks) ? serviceFeedbacks : []).map((feedback) => (\n                        <TableRow key={feedback.id}>\n                          <TableCell>{feedback.id}</TableCell>\n                          <TableCell>{feedback.service?.name || feedback.service_id}</TableCell>\n                          <TableCell>{feedback.user?.name || feedback.user_id}</TableCell>\n                          <TableCell>\n                            <div className=\"flex items-center gap-1\">\n                              {[...Array(5)].map((_, i) => (\n                                <Star key={i} className={`w-4 h-4 ${i < feedback.rating ? 'text-yellow-500 fill-yellow-500' : 'text-gray-300'}`} />\n                              ))}\n                            </div>\n                          </TableCell>\n                          <TableCell className=\"max-w-xs truncate\">{feedback.comment || 'N/A'}</TableCell>\n                          <TableCell>{feedback.helpful_count || 0}</TableCell>\n                          <TableCell>{new Date(feedback.created_at).toLocaleDateString()}</TableCell>\n                          <TableCell>\n                            <Button size=\"sm\" variant=\"ghost\" className=\"text-destructive\" onClick={() => setConfirmDialog({ open: true, title: 'Delete Feedback', message: 'Are you sure?', onConfirm: () => handleDeleteFeedback(feedback.id) })}><Trash2 className=\"w-4 h-4\" /></Button>\n                          </TableCell>\n                        </TableRow>\n                      ))\n                  }\n                </TableBody>\n              </Table>\n            </CardContent>\n          </Card>\n        </TabsContent>\n      </Tabs>\n    </div>\n  );\n}\n","/**\r\n * Admin Panel Page\r\n * \r\n * This component implements the Admin Dashboard following the Admin Dashboard API Documentation.\r\n * All API endpoints used in this component are documented and follow the specification:\r\n * \r\n * Base URL: /api/admin\r\n * Authentication: Bearer Token (automatically added via axios interceptor)\r\n * \r\n * API Endpoints Used:\r\n * - GET /admin/reports/summary - Get summary statistics\r\n * - GET /admin/reports/statistics - Get detailed statistics\r\n * - GET /admin/reports/chart-data - Get chart data for analytics\r\n * - GET /admin/logs - Get system logs\r\n * - GET /admin/users - Get all users (with filters: role, status, per_page)\r\n * - GET /admin/users/{id} - Get user details\r\n * - PUT /admin/users/{id} - Update user\r\n * - DELETE /admin/users/{id} - Soft delete user\r\n * - DELETE /admin/users/{id}/force - Force delete user\r\n * - GET /admin/cars - Get all cars (with filters: status, car_accepted, agent_id, per_page)\r\n * - GET /admin/cars/{id} - Get car details\r\n * - PUT /admin/cars/{id} - Update car\r\n * - DELETE /admin/cars/{id} - Delete car\r\n * - GET /admin/bookings - Get all bookings (with filters: status, per_page)\r\n * - GET /admin/bookings/{id} - Get booking details\r\n * - PUT /admin/bookings/{id} - Update booking\r\n * - POST /admin/bookings/{id}/force-complete - Force complete booking\r\n * - GET /admin/payments - Get all payments (with filters: type, per_page)\r\n * - POST /admin/refunds/{id} - Process refund (id is invoice ID)\r\n * - GET /admin/announcements - Get all announcements (with filters: status, per_page)\r\n * - GET /admin/announcements/{id} - Get announcement details\r\n * - POST /admin/announcements - Create announcement\r\n * - PUT /admin/announcements/{id} - Update announcement\r\n * - DELETE /admin/announcements/{id} - Delete announcement\r\n * - GET /admin/appeals - Get all appeals (with filters: status, priority, per_page)\r\n * - GET /admin/appeals/{id} - Get appeal details\r\n * - PUT /admin/appeals/{id} - Update appeal\r\n * - GET /admin/ads - Get all ads (with filters: status, per_page)\r\n * - GET /admin/ads/{id} - Get ad details\r\n * - PUT /admin/ads/{id} - Update ad\r\n * - DELETE /admin/ads/{id} - Delete ad\r\n * - GET /admin/featured-cars - Get all featured cars (with filters: status, per_page)\r\n * - DELETE /admin/featured-cars/{id} - Delete featured car\r\n * - GET /admin/holidays - Get all holidays (with filters: car_id, active, per_page)\r\n * - GET /admin/holidays/{id} - Get holiday details\r\n * - POST /admin/holidays - Create holiday\r\n * - PUT /admin/holidays/{id} - Update holiday\r\n * - DELETE /admin/holidays/{id} - Delete holiday\r\n * - GET /admin/suggestions - Get all suggestions (with filters: status, per_page)\r\n * - PUT /admin/suggestions/{id} - Update suggestion status\r\n * - DELETE /admin/suggestions/{id} - Delete suggestion\r\n * - GET /admin/notifications - Get all notifications (with filters: type, is_read, per_page)\r\n * - POST /admin/notifications/send-to-all - Send notification to all users\r\n * \r\n * All endpoints require:\r\n * - Authorization: Bearer {token} header (automatically added)\r\n * - Accept: application/json header (automatically added)\r\n * - Content-Type: application/json header (automatically added)\r\n * \r\n * Pagination: Uses Laravel standard pagination with `page` and `per_page` query parameters.\r\n * Default per_page: 50 items per page.\r\n */\r\nimport React, { useState, useEffect, useMemo } from 'react';\r\nimport { motion, AnimatePresence } from 'framer-motion';\r\nimport { \r\n  Users, Car, Calendar, DollarSign, Bell, FileText, AlertCircle, \r\n  Megaphone, Star, CalendarDays, Lightbulb, BarChart3, Settings,\r\n  Search, Filter, RefreshCw, Edit, Trash2, Eye, CheckCircle2, XCircle,\r\n  TrendingUp, TrendingDown, Activity, Shield, CreditCard, MessageSquare,\r\n  Plus, Download, Upload, MoreVertical, ChevronRight, LogOut, Home, UserCheck, KeyRound,\r\n  Briefcase, Package, Building2, MessageCircle, Tag\r\n} from 'lucide-react';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Tabs, TabsContent, TabsList, TabsTrigger } from '@/components/ui/tabs';\r\nimport { Table, TableBody, TableCell, TableHead, TableHeader, TableRow } from '@/components/ui/table';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\r\nimport { Dialog, DialogContent, DialogHeader, DialogTitle, DialogTrigger } from '@/components/ui/dialog';\r\nimport { AlertDialog, AlertDialogAction, AlertDialogCancel, AlertDialogContent, AlertDialogDescription, AlertDialogFooter, AlertDialogHeader, AlertDialogTitle } from '@/components/ui/alert-dialog';\r\nimport { Textarea } from '@/components/ui/textarea';\r\nimport { Label } from '@/components/ui/label';\r\nimport { Switch } from '@/components/ui/switch';\r\nimport api from '@/lib/axios';\r\nimport { \r\n  getOtps, \r\n  createAd, \r\n  issuePayment, \r\n  createFeaturedCar, \r\n  getAgentFeeSummary,\r\n  getAgentFeePercentage,\r\n  setAgentFeePercentage,\r\n  getCar,\r\n  getCars,\r\n  getUsers,\r\n  getPayments,\r\n  getNotifications,\r\n  updateCar as updateCarApi,\r\n  getAdminServices,\r\n  getAdminService,\r\n  createAdminServiceForThirdParty,\r\n  updateAdminService,\r\n  deleteAdminService,\r\n  getAdminServiceItems,\r\n  createAdminServiceItem,\r\n  updateAdminServiceItem,\r\n  deleteAdminServiceItem,\r\n  getAdminThirdParties,\r\n  createAdminThirdParty,\r\n  updateAdminThirdParty,\r\n  deleteAdminThirdParty,\r\n  getAdminFeedbacks,\r\n  deleteAdminFeedback,\r\n  // Promo codes & broker referrals\r\n  getPromoCodes,\r\n  createPromoCode,\r\n  updatePromoCode,\r\n  deletePromoCode,\r\n  getPromoCodeUsers,\r\n  getBrokerReferrals,\r\n  createBroker,\r\n  getBrokerBalance,\r\n  getBrokerPayouts,\r\n  getBrokerCommissions,\r\n  createBrokerPayout,\r\n  getBrokerCommissionsList,\r\n  cancelBrokerCommission,\r\n  deleteBrokerReferral\r\n} from '@/lib/adminApi';\r\nimport { exportToExcel, exportTableToPDF } from '@/utils/exportUtils';\r\nimport AdForm from '@/components/admin/AdForm';\r\nimport PaymentForm from '@/components/admin/PaymentForm';\r\nimport FeaturedCarForm from '@/components/admin/FeaturedCarForm';\r\nimport { toast } from 'sonner';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { AdminContext, COLORS } from '@/contexts/AdminContext';\r\nimport {\r\n  AdminDashboardTab,\r\n  AdminUsersTab,\r\n  AdminCarsTab,\r\n  AdminBookingsTab,\r\n  AdminPaymentsTab,\r\n  AdminAnnouncementsTab,\r\n  AdminAppealsTab,\r\n  AdminAdsTab,\r\n  AdminPromoCodesTab,\r\n  AdminBrokersTab,\r\n  AdminFeaturedCarsTab,\r\n  AdminHolidaysTab,\r\n  AdminSuggestionsTab,\r\n  AdminNotificationsTab,\r\n  AdminOtpsTab,\r\n  AdminServicesTab\r\n} from '@/pages/admin';\r\n\r\nexport default function AdminPanelPage() {\r\n  const navigate = useNavigate();\r\n  const [activeTab, setActiveTab] = useState('dashboard');\r\n  const [loading, setLoading] = useState(false);\r\n  const [summary, setSummary] = useState(null);\r\n  \r\n  // Data states\r\n  const [users, setUsers] = useState([]);\r\n  const [cars, setCars] = useState([]);\r\n  const [bookings, setBookings] = useState([]);\r\n  const [payments, setPayments] = useState([]);\r\n  const [announcements, setAnnouncements] = useState([]);\r\n  const [appeals, setAppeals] = useState([]);\r\n  const [ads, setAds] = useState([]);\r\n  const [featuredCars, setFeaturedCars] = useState([]);\r\n  const [holidays, setHolidays] = useState([]);\r\n  const [suggestions, setSuggestions] = useState([]);\r\n  const [notifications, setNotifications] = useState([]);\r\n  const [otps, setOtps] = useState([]);\r\n  // Promo codes / referrals\r\n  const [promoCodes, setPromoCodes] = useState([]);\r\n  const [promoCodeUsers, setPromoCodeUsers] = useState([]);\r\n  const [brokerReferrals, setBrokerReferrals] = useState([]);\r\n  const [brokers, setBrokers] = useState([]);\r\n  const [brokerForm, setBrokerForm] = useState({\r\n    username: '',\r\n    phone_number: '',\r\n    email: '',\r\n    password: '',\r\n    password_confirmation: '',\r\n    first_name: '',\r\n    last_name: ''\r\n  });\r\n  // Broker detail & payouts\r\n  const [selectedBroker, setSelectedBroker] = useState(null);\r\n  const [brokerDetailTab, setBrokerDetailTab] = useState('overview');\r\n  const [brokerBalance, setBrokerBalance] = useState(null);\r\n  const [brokerCommissions, setBrokerCommissions] = useState({ data: [], statistics: {} });\r\n  const [brokerPayouts, setBrokerPayouts] = useState({ data: [] });\r\n  const [brokerCommissionsList, setBrokerCommissionsList] = useState({ data: [] });\r\n  const [payoutForm, setPayoutForm] = useState({ broker_id: '', amount: '', reference: '', notes: '' });\r\n  const [commissionStatusFilter, setCommissionStatusFilter] = useState('all');\r\n  const [appFeesData, setAppFeesData] = useState({}); // Store app fees data by agent ID\r\n  const [carImages, setCarImages] = useState({}); // Store car image files for upload\r\n  \r\n  // Services Management states\r\n  const [services, setServices] = useState([]);\r\n  const [thirdParties, setThirdParties] = useState([]);\r\n  const [serviceItems, setServiceItems] = useState([]);\r\n  const [serviceFeedbacks, setServiceFeedbacks] = useState([]);\r\n  const [selectedServiceId, setSelectedServiceId] = useState(null); // For viewing items/feedbacks of a service\r\n  \r\n  // Pagination states\r\n  const [pagination, setPagination] = useState({\r\n    users: { page: 1, per_page: 50 },\r\n    cars: { page: 1, per_page: 50 },\r\n    bookings: { page: 1, per_page: 50 },\r\n    payments: { page: 1, per_page: 50 },\r\n    announcements: { page: 1, per_page: 50 },\r\n    appeals: { page: 1, per_page: 50 },\r\n    ads: { page: 1, per_page: 50 },\r\n    featuredCars: { page: 1, per_page: 50 },\r\n    holidays: { page: 1, per_page: 50 },\r\n    suggestions: { page: 1, per_page: 50 },\r\n    notifications: { page: 1, per_page: 50 },\r\n    otps: { page: 1, per_page: 50 },\r\n    services: { page: 1, per_page: 50 },\r\n    thirdParties: { page: 1, per_page: 50 },\r\n    serviceFeedbacks: { page: 1, per_page: 50 },\r\n    promoCodes: { page: 1, per_page: 50 }\r\n  });\r\n  \r\n  // Filter states\r\n  const [filters, setFilters] = useState({\r\n    users: { role: 'all', status: 'all' },\r\n    cars: { status: 'all', car_accepted: 'all', agent_id: '' },\r\n    bookings: { status: 'all' },\r\n    payments: { type: 'all' },\r\n    announcements: { status: 'all' },\r\n    appeals: { status: 'all', priority: 'all' },\r\n    ads: { status: 'all' }, // Changed from 'online' to 'status' to match documentation\r\n    featuredCars: { status: 'all' },\r\n    holidays: { car_id: '', active: 'all' }, // Changed from 'is_active' to 'active' to match documentation\r\n    suggestions: { status: 'all' },\r\n    notifications: { type: 'all', is_read: 'all' },\r\n    otps: { phone_number: '', expired: 'all' },\r\n    services: { category: 'all', city: '', featured: 'all', search: '' },\r\n    thirdParties: { search: '' },\r\n    promoCodes: { broker_id: 'all', is_active: 'all' }\r\n  });\r\n  \r\n  // Statistics and chart data\r\n  const [statistics, setStatistics] = useState(null);\r\n  const [chartData, setChartData] = useState(null);\r\n  const [statisticsPeriod, setStatisticsPeriod] = useState('month');\r\n\r\n  // Modal states\r\n  const [selectedItem, setSelectedItem] = useState(null);\r\n  const [modalOpen, setModalOpen] = useState(false);\r\n  const [modalType, setModalType] = useState('');\r\n  \r\n  // Confirmation dialog state\r\n  const [confirmDialog, setConfirmDialog] = useState({\r\n    open: false,\r\n    title: '',\r\n    message: '',\r\n    onConfirm: null\r\n  });\r\n\r\n  // Fetch summary statistics\r\n  const fetchSummary = async () => {\r\n    try {\r\n      const { data } = await api.get('/admin/reports/summary');\r\n      setSummary(data.summary);\r\n    } catch (error) {\r\n      console.error('Error fetching summary:', error);\r\n      toast.error('Failed to load dashboard summary');\r\n    }\r\n  };\r\n\r\n  // Fetch users\r\n  const fetchUsers = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const params = {\r\n        page: pagination.users.page,\r\n        per_page: pagination.users.per_page\r\n      };\r\n      if (filters.users.role && filters.users.role !== 'all') params.role = filters.users.role;\r\n      if (filters.users.status && filters.users.status !== 'all') {\r\n        // Convert string to boolean as per API documentation\r\n        params.status = filters.users.status === 'active' || filters.users.status === 'true';\r\n      }\r\n      \r\n      const response = await getUsers(params);\r\n      setUsers(response.data.users);\r\n    } catch (error) {\r\n      toast.error('Failed to fetch users');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  \r\n  // Fetch user details\r\n  const fetchUserDetails = async (id) => {\r\n    try {\r\n      const { data } = await api.get(`/admin/users/${id}`);\r\n      return data.user;\r\n    } catch (error) {\r\n      toast.error('Failed to fetch user details');\r\n      return null;\r\n    }\r\n  };\r\n\r\n  // Fetch cars\r\n  const fetchCars = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const params = {\r\n        page: pagination.cars.page,\r\n        per_page: pagination.cars.per_page,\r\n        with_images: true\r\n      };\r\n      if (filters.cars.status && filters.cars.status !== 'all') params.status = filters.cars.status;\r\n      if (filters.cars.car_accepted && filters.cars.car_accepted !== 'all') params.car_accepted = filters.cars.car_accepted;\r\n      if (filters.cars.agent_id && filters.cars.agent_id !== 'all') params.agent_id = filters.cars.agent_id;\r\n      \r\n      const response = await getCars(params);\r\n      setCars(response.data.cars);\r\n    } catch (error) {\r\n      toast.error('Failed to fetch cars');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  \r\n  // Fetch car details\r\n  const fetchCarDetails = async (id) => {\r\n    try {\r\n      const { data } = await api.get(`/admin/cars/${id}`);\r\n      return data.car;\r\n    } catch (error) {\r\n      toast.error('Failed to fetch car details');\r\n      return null;\r\n    }\r\n  };\r\n\r\n  // Fetch bookings\r\n  const fetchBookings = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const params = new URLSearchParams();\r\n      if (filters.bookings.status && filters.bookings.status !== 'all') params.append('status', filters.bookings.status);\r\n      params.append('page', pagination.bookings.page);\r\n      params.append('per_page', pagination.bookings.per_page);\r\n      \r\n      const { data } = await api.get(`/admin/bookings?${params}`);\r\n      setBookings(data.bookings);\r\n    } catch (error) {\r\n      toast.error('Failed to fetch bookings');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  \r\n  // Fetch booking details\r\n  const fetchBookingDetails = async (id) => {\r\n    try {\r\n      const { data } = await api.get(`/admin/bookings/${id}`);\r\n      return data.booking;\r\n    } catch (error) {\r\n      toast.error('Failed to fetch booking details');\r\n      return null;\r\n    }\r\n  };\r\n\r\n  // Fetch payments\r\n  const fetchPayments = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const params = {\r\n        page: pagination.payments.page,\r\n        per_page: pagination.payments.per_page\r\n      };\r\n      if (filters.payments.type && filters.payments.type !== 'all') params.type = filters.payments.type;\r\n      \r\n      const response = await getPayments(params);\r\n      setPayments(response.data.payments);\r\n    } catch (error) {\r\n      toast.error('Failed to fetch payments');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Fetch announcements\r\n  const fetchAnnouncements = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const params = new URLSearchParams();\r\n      if (filters.announcements.status && filters.announcements.status !== 'all') params.append('status', filters.announcements.status);\r\n      params.append('page', pagination.announcements.page);\r\n      params.append('per_page', pagination.announcements.per_page);\r\n      \r\n      const { data } = await api.get(`/admin/announcements?${params}`);\r\n      setAnnouncements(data.announcements);\r\n    } catch (error) {\r\n      toast.error('Failed to fetch announcements');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  \r\n  // Fetch announcement details\r\n  const fetchAnnouncementDetails = async (id) => {\r\n    try {\r\n      const { data } = await api.get(`/admin/announcements/${id}`);\r\n      return data.announcement;\r\n    } catch (error) {\r\n      toast.error('Failed to fetch announcement details');\r\n      return null;\r\n    }\r\n  };\r\n\r\n  // Fetch appeals\r\n  const fetchAppeals = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const params = new URLSearchParams();\r\n      if (filters.appeals.status && filters.appeals.status !== 'all') params.append('status', filters.appeals.status);\r\n      if (filters.appeals.priority && filters.appeals.priority !== 'all') params.append('priority', filters.appeals.priority);\r\n      params.append('page', pagination.appeals.page);\r\n      params.append('per_page', pagination.appeals.per_page);\r\n      \r\n      const { data } = await api.get(`/admin/appeals?${params}`);\r\n      setAppeals(data.appeals);\r\n    } catch (error) {\r\n      toast.error('Failed to fetch appeals');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  \r\n  // Fetch appeal details\r\n  const fetchAppealDetails = async (id) => {\r\n    try {\r\n      const { data } = await api.get(`/admin/appeals/${id}`);\r\n      return data.appeal;\r\n    } catch (error) {\r\n      toast.error('Failed to fetch appeal details');\r\n      return null;\r\n    }\r\n  };\r\n\r\n  // Fetch ads\r\n  const fetchAds = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const params = new URLSearchParams();\r\n      if (filters.ads.status && filters.ads.status !== 'all') params.append('status', filters.ads.status);\r\n      params.append('page', pagination.ads.page);\r\n      params.append('per_page', pagination.ads.per_page);\r\n      \r\n      const { data } = await api.get(`/admin/ads?${params}`);\r\n      setAds(data.ads);\r\n    } catch (error) {\r\n      toast.error('Failed to fetch ads');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  \r\n  // Fetch ad details\r\n  const fetchAdDetails = async (id) => {\r\n    try {\r\n      const { data } = await api.get(`/admin/ads/${id}`);\r\n      return data.ad;\r\n    } catch (error) {\r\n      toast.error('Failed to fetch ad details');\r\n      return null;\r\n    }\r\n  };\r\n\r\n  // Fetch featured cars\r\n  const fetchFeaturedCars = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const params = new URLSearchParams();\r\n      if (filters.featuredCars.status && filters.featuredCars.status !== 'all') params.append('status', filters.featuredCars.status);\r\n      params.append('page', pagination.featuredCars.page);\r\n      params.append('per_page', pagination.featuredCars.per_page);\r\n      \r\n      const { data } = await api.get(`/admin/featured-cars?${params}`);\r\n      setFeaturedCars(data.featured_cars);\r\n    } catch (error) {\r\n      toast.error('Failed to fetch featured cars');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Fetch holidays\r\n  const fetchHolidays = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const params = new URLSearchParams();\r\n      if (filters.holidays.car_id && filters.holidays.car_id !== 'all') params.append('car_id', filters.holidays.car_id);\r\n      if (filters.holidays.active && filters.holidays.active !== 'all') params.append('active', filters.holidays.active);\r\n      params.append('page', pagination.holidays.page);\r\n      params.append('per_page', pagination.holidays.per_page);\r\n      \r\n      const { data } = await api.get(`/admin/holidays?${params}`);\r\n      setHolidays(data.holidays);\r\n    } catch (error) {\r\n      toast.error('Failed to fetch holidays');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n  \r\n  // Fetch holiday details\r\n  const fetchHolidayDetails = async (id) => {\r\n    try {\r\n      const { data } = await api.get(`/admin/holidays/${id}`);\r\n      return data.holiday;\r\n    } catch (error) {\r\n      toast.error('Failed to fetch holiday details');\r\n      return null;\r\n    }\r\n  };\r\n  \r\n  // Create holiday\r\n  const createHoliday = async (data) => {\r\n    try {\r\n      await api.post('/admin/holidays', data);\r\n      toast.success('Holiday created successfully');\r\n      fetchHolidays();\r\n      setModalOpen(false);\r\n    } catch (error) {\r\n      toast.error(error.response?.data?.message || 'Failed to create holiday');\r\n    }\r\n  };\r\n  \r\n  // Update holiday\r\n  const updateHoliday = async (id, data) => {\r\n    try {\r\n      await api.put(`/admin/holidays/${id}`, data);\r\n      toast.success('Holiday updated successfully');\r\n      fetchHolidays();\r\n      setModalOpen(false);\r\n    } catch (error) {\r\n      toast.error('Failed to update holiday');\r\n    }\r\n  };\r\n  \r\n  // Delete holiday\r\n  const deleteHoliday = async (id) => {\r\n    try {\r\n      await api.delete(`/admin/holidays/${id}`);\r\n      toast.success('Holiday deleted successfully');\r\n      fetchHolidays();\r\n    } catch (error) {\r\n      toast.error('Failed to delete holiday');\r\n    }\r\n  };\r\n\r\n  // Fetch suggestions\r\n  const fetchSuggestions = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const params = new URLSearchParams();\r\n      if (filters.suggestions.status && filters.suggestions.status !== 'all') params.append('status', filters.suggestions.status);\r\n      params.append('page', pagination.suggestions.page);\r\n      params.append('per_page', pagination.suggestions.per_page);\r\n      \r\n      const { data } = await api.get(`/admin/suggestions?${params}`);\r\n      setSuggestions(data.suggestions);\r\n    } catch (error) {\r\n      toast.error('Failed to fetch suggestions');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Fetch notifications\r\n  const fetchNotifications = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const params = new URLSearchParams();\r\n      if (filters.notifications.type && filters.notifications.type !== 'all') params.append('type', filters.notifications.type);\r\n      if (filters.notifications.is_read && filters.notifications.is_read !== 'all') params.append('is_read', filters.notifications.is_read);\r\n      params.append('page', pagination.notifications.page);\r\n      params.append('per_page', pagination.notifications.per_page);\r\n      \r\n      const { data } = await api.get(`/admin/notifications?${params}`);\r\n      setNotifications(data.notifications);\r\n    } catch (error) {\r\n      toast.error('Failed to fetch notifications');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Fetch OTPs\r\n  const fetchOtps = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const params = {};\r\n      if (filters.otps.phone_number) params.phone_number = filters.otps.phone_number;\r\n      if (filters.otps.expired && filters.otps.expired !== 'all') params.expired = filters.otps.expired;\r\n      params.per_page = pagination.otps.per_page;\r\n      params.page = pagination.otps.page;\r\n      \r\n      const response = await getOtps(params);\r\n      setOtps(response.data.otps);\r\n    } catch (error) {\r\n      toast.error(error.response?.data?.message || 'Failed to fetch OTPs');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // ============================\r\n  // Services Management Functions\r\n  // ============================\r\n\r\n  // Fetch services\r\n  const fetchServices = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const params = {\r\n        per_page: pagination.services.per_page,\r\n        page: pagination.services.page\r\n      };\r\n      if (filters.services.category && filters.services.category !== 'all') params.category = filters.services.category;\r\n      if (filters.services.city) params.city = filters.services.city;\r\n      if (filters.services.featured && filters.services.featured !== 'all') params.featured = filters.services.featured === 'true';\r\n      if (filters.services.search) params.search = filters.services.search;\r\n      \r\n      const response = await getAdminServices(params);\r\n      setServices(response.data.services?.data || response.data.services || []);\r\n    } catch (error) {\r\n      toast.error(error.response?.data?.message || 'Failed to fetch services');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Create service\r\n  const handleCreateService = async (data) => {\r\n    try {\r\n      const { third_party_id, ...serviceData } = data;\r\n      if (!third_party_id) {\r\n        toast.error('Please select a third party owner for this service');\r\n        return;\r\n      }\r\n\r\n      // Map our simple form fields into backend-friendly shape.\r\n      // For now we send the required and most common optional fields.\r\n      const payload = {\r\n        // Required\r\n        category: serviceData.category,\r\n        name: serviceData.name,\r\n        // Optional, but commonly used\r\n        description: serviceData.description || undefined,\r\n        tagline: serviceData.tagline || undefined,\r\n        city: serviceData.city || undefined,\r\n        contact_phone: serviceData.contact_phone || serviceData.phone || undefined,\r\n        contact_email: serviceData.contact_email || undefined,\r\n        // Pricing: backend expects min_price / max_price\r\n        min_price: serviceData.price ?? undefined,\r\n        max_price: serviceData.price ?? undefined,\r\n        currency: 'USD',\r\n        // NOTE: backend 422s on is_featured validation; omit for now so it uses default\r\n        // is_featured: serviceData.featured ?? false,\r\n        // You can add location, operating_hours, amenities, etc. later\r\n      };\r\n\r\n      // Debug: inspect payload before sending the request\r\n      console.log('Creating service for third party', third_party_id, 'with payload:', payload);\r\n\r\n      await createAdminServiceForThirdParty(third_party_id, payload);\r\n      toast.success('Service created successfully');\r\n      fetchServices();\r\n      setModalOpen(false);\r\n    } catch (error) {\r\n      // Log full error response for debugging 422 issues\r\n      console.error('Create service failed:', {\r\n        status: error.response?.status,\r\n        data: error.response?.data,\r\n      });\r\n      const backendMessage =\r\n        error.response?.data?.message ||\r\n        (typeof error.response?.data === 'string' ? error.response.data : null);\r\n      toast.error(backendMessage || 'Failed to create service');\r\n    }\r\n  };\r\n\r\n  // Update service\r\n  const handleUpdateService = async (id, data) => {\r\n    try {\r\n      await updateAdminService(id, data);\r\n      toast.success('Service updated successfully');\r\n      fetchServices();\r\n      setModalOpen(false);\r\n    } catch (error) {\r\n      toast.error(error.response?.data?.message || 'Failed to update service');\r\n    }\r\n  };\r\n\r\n  // Delete service\r\n  const handleDeleteService = async (id) => {\r\n    try {\r\n      await deleteAdminService(id);\r\n      toast.success('Service deleted successfully');\r\n      fetchServices();\r\n    } catch (error) {\r\n      toast.error(error.response?.data?.message || 'Failed to delete service');\r\n    }\r\n  };\r\n\r\n  // Fetch third parties\r\n  const fetchThirdParties = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const params = {\r\n        per_page: pagination.thirdParties.per_page,\r\n        page: pagination.thirdParties.page\r\n      };\r\n      \r\n      const response = await getAdminThirdParties(params);\r\n      setThirdParties(response.data.third_parties?.data || response.data.third_parties || []);\r\n    } catch (error) {\r\n      toast.error(error.response?.data?.message || 'Failed to fetch third parties');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Create third party\r\n  const handleCreateThirdParty = async (data) => {\r\n    // The admin endpoint requires: username, business_name, phone_number, email, password\r\n    const payload = {\r\n      business_name: data.name,\r\n      username: data.username,\r\n      email: data.email,\r\n      password: data.password,\r\n      phone_number: data.phone,\r\n      // Optional fields\r\n      subscription: data.subscription || undefined,\r\n      permissions: data.permissions || [],\r\n    };\r\n\r\n    // Debug: inspect request payload before sending\r\n    // Remove this log in production if not needed\r\n    console.log('Creating third party with payload:', payload);\r\n\r\n    try {\r\n      await createAdminThirdParty(payload);\r\n      toast.success('Third party created successfully');\r\n      fetchThirdParties();\r\n      setModalOpen(false);\r\n    } catch (error) {\r\n      // Log full error response for debugging 422 issues\r\n      console.error('Create third party failed:', {\r\n        payload,\r\n        status: error.response?.status,\r\n        data: error.response?.data,\r\n      });\r\n      const backendMessage =\r\n        error.response?.data?.message ||\r\n        (typeof error.response?.data === 'string' ? error.response.data : null);\r\n      toast.error(backendMessage || 'Failed to create third party');\r\n    }\r\n  };\r\n\r\n  // Update third party\r\n  const handleUpdateThirdParty = async (id, data) => {\r\n    try {\r\n      // Same allowed fields as create; password is optional on update\r\n      const payload = {\r\n        business_name: data.name,\r\n        username: data.username,\r\n        email: data.email,\r\n        phone_number: data.phone,\r\n        subscription: data.subscription || undefined,\r\n        permissions: data.permissions || [],\r\n      };\r\n      if (data.password) {\r\n        payload.password = data.password;\r\n      }\r\n\r\n      await updateAdminThirdParty(id, payload);\r\n      toast.success('Third party updated successfully');\r\n      fetchThirdParties();\r\n      setModalOpen(false);\r\n    } catch (error) {\r\n      toast.error(error.response?.data?.message || 'Failed to update third party');\r\n    }\r\n  };\r\n\r\n  // Delete third party\r\n  const handleDeleteThirdParty = async (id) => {\r\n    try {\r\n      await deleteAdminThirdParty(id);\r\n      toast.success('Third party deleted successfully');\r\n      fetchThirdParties();\r\n    } catch (error) {\r\n      toast.error(error.response?.data?.message || 'Failed to delete third party');\r\n    }\r\n  };\r\n\r\n  // Fetch service items\r\n  const fetchServiceItems = async (serviceId) => {\r\n    if (!serviceId) return;\r\n    setLoading(true);\r\n    try {\r\n      const response = await getAdminServiceItems(serviceId);\r\n      setServiceItems(response.data.items || []);\r\n      setSelectedServiceId(serviceId);\r\n    } catch (error) {\r\n      toast.error(error.response?.data?.message || 'Failed to fetch service items');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Create service item\r\n  const handleCreateServiceItem = async (serviceId, data) => {\r\n    try {\r\n      await createAdminServiceItem(serviceId, data);\r\n      toast.success('Service item created successfully');\r\n      fetchServiceItems(serviceId);\r\n      setModalOpen(false);\r\n    } catch (error) {\r\n      toast.error(error.response?.data?.message || 'Failed to create service item');\r\n    }\r\n  };\r\n\r\n  // Update service item\r\n  const handleUpdateServiceItem = async (itemId, data) => {\r\n    try {\r\n      await updateAdminServiceItem(itemId, data);\r\n      toast.success('Service item updated successfully');\r\n      if (selectedServiceId) fetchServiceItems(selectedServiceId);\r\n      setModalOpen(false);\r\n    } catch (error) {\r\n      toast.error(error.response?.data?.message || 'Failed to update service item');\r\n    }\r\n  };\r\n\r\n  // Delete service item\r\n  const handleDeleteServiceItem = async (itemId) => {\r\n    try {\r\n      await deleteAdminServiceItem(itemId);\r\n      toast.success('Service item deleted successfully');\r\n      if (selectedServiceId) fetchServiceItems(selectedServiceId);\r\n    } catch (error) {\r\n      toast.error(error.response?.data?.message || 'Failed to delete service item');\r\n    }\r\n  };\r\n\r\n  // Fetch service feedbacks\r\n  const fetchServiceFeedbacks = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const params = {\r\n        per_page: pagination.serviceFeedbacks.per_page,\r\n        page: pagination.serviceFeedbacks.page\r\n      };\r\n      \r\n      const response = await getAdminFeedbacks(params);\r\n      setServiceFeedbacks(response.data.feedbacks?.data || response.data.feedbacks || []);\r\n    } catch (error) {\r\n      toast.error(error.response?.data?.message || 'Failed to fetch feedbacks');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Delete feedback\r\n  const handleDeleteFeedback = async (feedbackId) => {\r\n    try {\r\n      await deleteAdminFeedback(feedbackId);\r\n      toast.success('Feedback deleted successfully');\r\n      fetchServiceFeedbacks();\r\n    } catch (error) {\r\n      toast.error(error.response?.data?.message || 'Failed to delete feedback');\r\n    }\r\n  };\r\n  \r\n  // Fetch statistics\r\n  const fetchStatistics = async (period = 'month') => {\r\n    try {\r\n      const { data } = await api.get(`/admin/reports/statistics?period=${period}`);\r\n      setStatistics(data.statistics);\r\n    } catch (error) {\r\n      toast.error('Failed to fetch statistics');\r\n    }\r\n  };\r\n  \r\n  // Fetch chart data\r\n  const fetchChartData = async (period = 'month') => {\r\n    try {\r\n      const { data } = await api.get(`/admin/reports/chart-data?period=${period}`);\r\n      setChartData(data);\r\n    } catch (error) {\r\n      toast.error('Failed to fetch chart data');\r\n    }\r\n  };\r\n  \r\n  // Fetch system logs\r\n  const fetchSystemLogs = async (limit = 100) => {\r\n    try {\r\n      const { data } = await api.get(`/admin/logs?limit=${limit}`);\r\n      return data.logs;\r\n    } catch (error) {\r\n      toast.error('Failed to fetch system logs');\r\n      return [];\r\n    }\r\n  };\r\n\r\n  // Update user\r\n  const updateUser = async (id, data) => {\r\n    try {\r\n      await api.put(`/admin/users/${id}`, data);\r\n      toast.success('User updated successfully');\r\n      fetchUsers();\r\n      setModalOpen(false);\r\n    } catch (error) {\r\n      toast.error(error.response?.data?.message || 'Failed to update user');\r\n    }\r\n  };\r\n\r\n  // Delete user\r\n  const deleteUser = async (id, force = false) => {\r\n    try {\r\n      await api.delete(`/admin/users/${id}${force ? '/force' : ''}`);\r\n      toast.success(force ? 'User permanently deleted' : 'User deactivated');\r\n      fetchUsers();\r\n    } catch (error) {\r\n      toast.error('Failed to delete user');\r\n    }\r\n  };\r\n\r\n  // Update car\r\n  const updateCar = async (id, data) => {\r\n    try {\r\n      // Prepare data with images\r\n      const updateData = { ...data };\r\n      \r\n      // Add image files if they exist\r\n      const imageFields = ['main_image', 'front_image', 'back_image', 'left_image', 'right_image'];\r\n      imageFields.forEach(field => {\r\n        if (carImages[id] && carImages[id][field]) {\r\n          updateData[field] = carImages[id][field];\r\n        }\r\n      });\r\n      \r\n      await updateCarApi(id, updateData);\r\n      toast.success('Car updated successfully');\r\n      // Clear image state for this car\r\n      setCarImages(prev => {\r\n        const newState = { ...prev };\r\n        delete newState[id];\r\n        return newState;\r\n      });\r\n      fetchCars();\r\n      setModalOpen(false);\r\n    } catch (error) {\r\n      toast.error('Failed to update car');\r\n    }\r\n  };\r\n  \r\n  // Handle car image change\r\n  const handleCarImageChange = (carId, imageType, file) => {\r\n    if (!file) return;\r\n    setCarImages(prev => ({\r\n      ...prev,\r\n      [carId]: {\r\n        ...prev[carId],\r\n        [imageType]: file\r\n      }\r\n    }));\r\n  };\r\n\r\n  // Delete car\r\n  const deleteCar = async (id) => {\r\n    try {\r\n      await api.delete(`/admin/cars/${id}`);\r\n      toast.success('Car deleted successfully');\r\n      fetchCars();\r\n    } catch (error) {\r\n      toast.error('Failed to delete car');\r\n    }\r\n  };\r\n\r\n  // Update booking\r\n  const updateBooking = async (id, data) => {\r\n    try {\r\n      await api.put(`/admin/bookings/${id}`, data);\r\n      toast.success('Booking updated successfully');\r\n      fetchBookings();\r\n      setModalOpen(false);\r\n    } catch (error) {\r\n      toast.error('Failed to update booking');\r\n    }\r\n  };\r\n\r\n  // Force complete booking\r\n  const forceCompleteBooking = async (id) => {\r\n    try {\r\n      await api.post(`/admin/bookings/${id}/force-complete`);\r\n      toast.success('Booking force completed');\r\n      fetchBookings();\r\n    } catch (error) {\r\n      toast.error('Failed to force complete booking');\r\n    }\r\n  };\r\n\r\n  // Process refund\r\n  // Note: According to API documentation, the {id} parameter is the invoice ID, not payment ID\r\n  // Endpoint: POST /admin/refunds/{id} where {id} is the invoice ID\r\n  const processRefund = async (invoiceId, description = '') => {\r\n    try {\r\n      await api.post(`/admin/refunds/${invoiceId}`, { description });\r\n      toast.success('Refund processed successfully');\r\n      fetchPayments();\r\n    } catch (error) {\r\n      toast.error(error.response?.data?.message || 'Failed to process refund');\r\n    }\r\n  };\r\n\r\n  // Create announcement\r\n  const createAnnouncement = async (data) => {\r\n    try {\r\n      // Ensure dates are in correct format (YYYY-MM-DD HH:mm:ss)\r\n      const submitData = {\r\n        title: data.title,\r\n        message: data.message,\r\n        priority: data.priority || 'medium',\r\n        target_audience: data.target_audience || [],\r\n        status: data.status || 'draft'\r\n      };\r\n      \r\n      // Add dates if provided\r\n      if (data.scheduled_at) {\r\n        submitData.scheduled_at = data.scheduled_at;\r\n      }\r\n      if (data.expires_at) {\r\n        submitData.expires_at = data.expires_at;\r\n      }\r\n      \r\n      // Add optional fields if provided\r\n      if (data.categories && data.categories.length > 0) {\r\n        submitData.categories = data.categories;\r\n      }\r\n      if (data.media && data.media.length > 0) {\r\n        submitData.media = data.media;\r\n      }\r\n      \r\n      await api.post('/admin/announcements', submitData);\r\n      toast.success('Announcement created successfully');\r\n      fetchAnnouncements();\r\n      setModalOpen(false);\r\n    } catch (error) {\r\n      toast.error(error.response?.data?.message || 'Failed to create announcement');\r\n    }\r\n  };\r\n\r\n  // Update announcement\r\n  const updateAnnouncement = async (id, data) => {\r\n    try {\r\n      await api.put(`/admin/announcements/${id}`, data);\r\n      toast.success('Announcement updated successfully');\r\n      fetchAnnouncements();\r\n      setModalOpen(false);\r\n    } catch (error) {\r\n      toast.error('Failed to update announcement');\r\n    }\r\n  };\r\n\r\n  // Delete announcement\r\n  const deleteAnnouncement = async (id) => {\r\n    try {\r\n      await api.delete(`/admin/announcements/${id}`);\r\n      toast.success('Announcement deleted successfully');\r\n      fetchAnnouncements();\r\n    } catch (error) {\r\n      toast.error('Failed to delete announcement');\r\n    }\r\n  };\r\n\r\n  // Update appeal\r\n  const updateAppeal = async (id, data) => {\r\n    try {\r\n      await api.put(`/admin/appeals/${id}`, data);\r\n      toast.success('Appeal updated successfully');\r\n      fetchAppeals();\r\n      setModalOpen(false);\r\n    } catch (error) {\r\n      toast.error('Failed to update appeal');\r\n    }\r\n  };\r\n\r\n  // Update ad\r\n  const updateAd = async (id, data) => {\r\n    try {\r\n      await api.put(`/admin/ads/${id}`, data);\r\n      toast.success('Ad updated successfully');\r\n      fetchAds();\r\n      setModalOpen(false);\r\n    } catch (error) {\r\n      toast.error('Failed to update ad');\r\n    }\r\n  };\r\n\r\n  // Create ad\r\n  const createAdHandler = async (data) => {\r\n    try {\r\n      await createAd(data);\r\n      toast.success('Ad created successfully');\r\n      fetchAds();\r\n      setModalOpen(false);\r\n    } catch (error) {\r\n      toast.error(error.response?.data?.message || 'Failed to create ad');\r\n    }\r\n  };\r\n\r\n  // Delete ad\r\n  const deleteAd = async (id) => {\r\n    try {\r\n      await api.delete(`/admin/ads/${id}`);\r\n      toast.success('Ad deleted successfully');\r\n      fetchAds();\r\n    } catch (error) {\r\n      toast.error('Failed to delete ad');\r\n    }\r\n  };\r\n\r\n  // Create payment/invoice\r\n  const createPaymentHandler = async (data) => {\r\n    try {\r\n      await issuePayment(data);\r\n      toast.success('Payment/Invoice issued successfully');\r\n      fetchPayments();\r\n      setModalOpen(false);\r\n    } catch (error) {\r\n      toast.error(error.response?.data?.message || 'Failed to issue payment');\r\n    }\r\n  };\r\n\r\n  // Create featured car\r\n  const createFeaturedCarHandler = async (data) => {\r\n    try {\r\n      await createFeaturedCar(data);\r\n      toast.success('Featured car created successfully');\r\n      fetchFeaturedCars();\r\n      setModalOpen(false);\r\n    } catch (error) {\r\n      toast.error(error.response?.data?.message || 'Failed to create featured car');\r\n    }\r\n  };\r\n\r\n  // Delete featured car\r\n  const deleteFeaturedCar = async (id) => {\r\n    try {\r\n      await api.delete(`/admin/featured-cars/${id}`);\r\n      toast.success('Featured car removed successfully');\r\n      fetchFeaturedCars();\r\n    } catch (error) {\r\n      toast.error('Failed to remove featured car');\r\n    }\r\n  };\r\n\r\n  // Update suggestion\r\n  const updateSuggestion = async (id, data) => {\r\n    try {\r\n      await api.put(`/admin/suggestions/${id}`, data);\r\n      toast.success('Suggestion updated successfully');\r\n      fetchSuggestions();\r\n      setModalOpen(false);\r\n    } catch (error) {\r\n      toast.error('Failed to update suggestion');\r\n    }\r\n  };\r\n\r\n  // Delete suggestion\r\n  const deleteSuggestion = async (id) => {\r\n    try {\r\n      await api.delete(`/admin/suggestions/${id}`);\r\n      toast.success('Suggestion deleted successfully');\r\n      fetchSuggestions();\r\n    } catch (error) {\r\n      toast.error('Failed to delete suggestion');\r\n    }\r\n  };\r\n\r\n  // Send notification to all users\r\n  const sendNotificationToAll = async (data) => {\r\n    try {\r\n      await api.post('/admin/notifications/send-to-all', data);\r\n      toast.success('Notification sent to all users successfully');\r\n      setModalOpen(false);\r\n    } catch (error) {\r\n      toast.error('Failed to send notification');\r\n    }\r\n  };\r\n\r\n  // Fetch agent fee summary\r\n  const fetchAgentAppFeesBalance = async (agentId) => {\r\n    try {\r\n      const summaryResponse = await getAgentFeeSummary(agentId);\r\n      const percentageResponse = await getAgentFeePercentage(agentId);\r\n      \r\n      setAppFeesData(prev => ({\r\n        ...prev,\r\n        [agentId]: {\r\n          ...summaryResponse.data,\r\n          app_fees_percentage: percentageResponse.data.fee_percentage || 0\r\n        }\r\n      }));\r\n      return summaryResponse.data;\r\n    } catch (error) {\r\n      toast.error(error.response?.data?.message || 'Failed to fetch agent fee data');\r\n      return null;\r\n    }\r\n  };\r\n\r\n  // Update agent fee percentage\r\n  const updateAgentAppFeesPercentage = async (agentId, feePercentage) => {\r\n    try {\r\n      await setAgentFeePercentage(agentId, { app_fees: feePercentage });\r\n      toast.success('Agent fee percentage updated successfully');\r\n      await fetchAgentAppFeesBalance(agentId);\r\n      fetchUsers(); // Refresh users list to show updated fee percentage\r\n    } catch (error) {\r\n      toast.error(error.response?.data?.message || 'Failed to update agent fee percentage');\r\n    }\r\n  };\r\n\r\n  // Helper function to show confirmation dialog\r\n  const showConfirmDialog = (title, message, onConfirm) => {\r\n    setConfirmDialog({\r\n      open: true,\r\n      title,\r\n      message,\r\n      onConfirm\r\n    });\r\n  };\r\n\r\n  // ============================\r\n  // Promo Codes Helpers\r\n  // ============================\r\n\r\n  const fetchBrokers = async () => {\r\n    try {\r\n      const res = await getUsers({ role: 'broker', per_page: 200 });\r\n      const raw = res.data?.users?.data ?? res.data?.users ?? res.data?.data;\r\n      setBrokers(Array.isArray(raw) ? raw : []);\r\n    } catch (error) {\r\n      console.error('Failed to fetch brokers:', error);\r\n    }\r\n  };\r\n\r\n  const fetchPromoCodes = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const params = {\r\n        page: pagination.promoCodes.page,\r\n        per_page: pagination.promoCodes.per_page\r\n      };\r\n      if (filters.promoCodes.broker_id && filters.promoCodes.broker_id !== 'all') {\r\n        params.broker_id = filters.promoCodes.broker_id;\r\n      }\r\n      if (filters.promoCodes.is_active !== 'all') {\r\n        params.is_active = filters.promoCodes.is_active;\r\n      }\r\n      const res = await getPromoCodes(params);\r\n      setPromoCodes(res.data?.promo_codes || res.data?.promoCodes || res.data || []);\r\n    } catch (error) {\r\n      console.error('Failed to fetch promo codes:', error);\r\n      toast.error('Failed to load promo codes');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleCreateOrUpdatePromoCode = async (payload, existing) => {\r\n    setLoading(true);\r\n    try {\r\n      if (existing) {\r\n        await updatePromoCode(existing.id, payload);\r\n        toast.success('Promo code updated successfully');\r\n      } else {\r\n        await createPromoCode(payload);\r\n        toast.success('Promo code created successfully');\r\n      }\r\n      setModalOpen(false);\r\n      setSelectedItem(null);\r\n      await fetchPromoCodes();\r\n    } catch (error) {\r\n      console.error('Failed to save promo code:', error);\r\n      const msg = error.response?.data?.message || 'Failed to save promo code';\r\n      toast.error(msg);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleDeletePromoCode = async (id) => {\r\n    setLoading(true);\r\n    try {\r\n      await deletePromoCode(id);\r\n      toast.success('Promo code deleted successfully');\r\n      await fetchPromoCodes();\r\n    } catch (error) {\r\n      console.error('Failed to delete promo code:', error);\r\n      toast.error('Failed to delete promo code');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchPromoCodeUsers = async (promoId) => {\r\n    try {\r\n      const res = await getPromoCodeUsers(promoId, { per_page: 50 });\r\n      setPromoCodeUsers(res.data?.users || []);\r\n    } catch (error) {\r\n      console.error('Failed to fetch promo code users:', error);\r\n      toast.error('Failed to load users for this promo code');\r\n    }\r\n  };\r\n\r\n  const fetchBrokerReferrals = async (brokerId) => {\r\n    try {\r\n      const res = await getBrokerReferrals(brokerId, { per_page: 50 });\r\n      setBrokerReferrals(res.data?.referrals || []);\r\n    } catch (error) {\r\n      console.error('Failed to fetch broker referrals:', error);\r\n      toast.error('Failed to load broker referrals');\r\n    }\r\n  };\r\n\r\n  const handleCreateBroker = async () => {\r\n    const { username, phone_number, email, password, password_confirmation, first_name, last_name } = brokerForm;\r\n    if (!username?.trim()) {\r\n      toast.error('Username is required');\r\n      return;\r\n    }\r\n    if (!phone_number?.trim()) {\r\n      toast.error('Phone number is required');\r\n      return;\r\n    }\r\n    if (!first_name?.trim()) {\r\n      toast.error('First name is required');\r\n      return;\r\n    }\r\n    if (!last_name?.trim()) {\r\n      toast.error('Last name is required');\r\n      return;\r\n    }\r\n    if (!password) {\r\n      toast.error('Password is required');\r\n      return;\r\n    }\r\n    if (password.length < 6) {\r\n      toast.error('Password must be at least 6 characters');\r\n      return;\r\n    }\r\n    if (password !== password_confirmation) {\r\n      toast.error('Password and confirmation do not match');\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    try {\r\n      await createBroker({\r\n        username: username.trim(),\r\n        phone_number: phone_number.trim().replace(/^\\+?/, ''), // backend adds + prefix\r\n        email: email?.trim() || undefined,\r\n        password,\r\n        password_confirmation: password_confirmation || password,\r\n        first_name: first_name.trim(),\r\n        last_name: last_name.trim()\r\n      });\r\n      toast.success('Broker created successfully');\r\n      setModalOpen(false);\r\n      setBrokerForm({ username: '', phone_number: '', email: '', password: '', password_confirmation: '', first_name: '', last_name: '' });\r\n      await fetchBrokers();\r\n    } catch (error) {\r\n      console.error('Failed to create broker:', error);\r\n      const errData = error.response?.data;\r\n      const msg = errData?.message ||\r\n        (errData?.errors ? Object.values(errData.errors).flat().join(' ') : null) ||\r\n        'Failed to create broker';\r\n      toast.error(msg);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  // Load data based on active tab\r\n  useEffect(() => {\r\n    if (activeTab === 'dashboard') {\r\n      fetchSummary();\r\n      fetchStatistics(statisticsPeriod);\r\n      fetchChartData(statisticsPeriod);\r\n    } else if (activeTab === 'users') {\r\n      fetchUsers();\r\n    } else if (activeTab === 'cars') {\r\n      fetchCars();\r\n    } else if (activeTab === 'bookings') {\r\n      fetchBookings();\r\n    } else if (activeTab === 'payments') {\r\n      fetchPayments();\r\n    } else if (activeTab === 'announcements') {\r\n      fetchAnnouncements();\r\n    } else if (activeTab === 'appeals') {\r\n      fetchAppeals();\r\n    } else if (activeTab === 'ads') {\r\n      fetchAds();\r\n    } else if (activeTab === 'featured-cars') {\r\n      fetchFeaturedCars();\r\n    } else if (activeTab === 'holidays') {\r\n      fetchHolidays();\r\n    } else if (activeTab === 'suggestions') {\r\n      fetchSuggestions();\r\n    } else if (activeTab === 'notifications') {\r\n      fetchNotifications();\r\n    } else if (activeTab === 'otps') {\r\n      fetchOtps();\r\n    } else if (activeTab === 'services') {\r\n      // Load services and third-party owners when entering Services tab\r\n      fetchServices();\r\n      fetchThirdParties();\r\n    } else if (activeTab === 'promo-codes') {\r\n      fetchPromoCodes();\r\n      if (!brokers.length) {\r\n        fetchBrokers();\r\n      }\r\n    } else if (activeTab === 'brokers') {\r\n      fetchBrokers();\r\n      fetchBrokerCommissionsList();\r\n    }\r\n  }, [activeTab, statisticsPeriod]);\r\n\r\n  // Fetch broker detail when selected\r\n  const openBrokerDetail = async (broker) => {\r\n    setSelectedBroker(broker);\r\n    setBrokerDetailTab('overview');\r\n    if (broker?.id) {\r\n      try {\r\n        const [balanceRes, commissionsRes, payoutsRes, referralsRes] = await Promise.all([\r\n          getBrokerBalance(broker.id).catch(() => ({ data: null })),\r\n          getBrokerCommissions(broker.id).catch(() => ({ data: { data: [], statistics: {} } })),\r\n          getBrokerPayouts(broker.id).catch(() => ({ data: { payouts: { data: [] }, summary: {} } })),\r\n          getBrokerReferrals(broker.id).catch(() => ({ data: { referrals: [] } }))\r\n        ]);\r\n        setBrokerBalance(balanceRes.data);\r\n        const commissionsRaw = commissionsRes.data?.commissions?.data ?? commissionsRes.data?.commissions;\r\n        const commissionsArr = Array.isArray(commissionsRaw) ? commissionsRaw : [];\r\n        setBrokerCommissions({\r\n          data: commissionsArr,\r\n          statistics: commissionsRes.data?.statistics || {}\r\n        });\r\n        const payoutsRaw = payoutsRes.data?.payouts || payoutsRes.data;\r\n        const payoutsArr = Array.isArray(payoutsRaw) ? payoutsRaw : (Array.isArray(payoutsRaw?.data) ? payoutsRaw.data : []);\r\n        setBrokerPayouts({ data: payoutsArr });\r\n        const referralsRaw = referralsRes.data?.referrals ?? referralsRes.data?.data;\r\n        setBrokerReferrals(Array.isArray(referralsRaw) ? referralsRaw : []);\r\n      } catch (e) {\r\n        console.error('Failed to load broker detail:', e);\r\n      }\r\n    }\r\n  };\r\n\r\n  const closeBrokerDetail = () => {\r\n    setSelectedBroker(null);\r\n    setBrokerBalance(null);\r\n    setBrokerCommissions({ data: [], statistics: {} });\r\n    setBrokerPayouts({ data: [] });\r\n  };\r\n\r\n  const refreshBrokerDetail = async () => {\r\n    if (selectedBroker?.id) {\r\n      await openBrokerDetail(selectedBroker);\r\n      await fetchBrokerCommissionsList();\r\n    }\r\n  };\r\n\r\n  const fetchBrokerCommissionsList = async () => {\r\n    try {\r\n      const res = await getBrokerCommissionsList({ per_page: 50 });\r\n      const commList = res.data?.commissions?.data ?? res.data?.commissions;\r\n      setBrokerCommissionsList({ data: Array.isArray(commList) ? commList : [] });\r\n    } catch (e) {\r\n      console.error('Failed to fetch broker commissions:', e);\r\n    }\r\n  };\r\n\r\n  const handleCreateBrokerPayout = async () => {\r\n    const brokerId = payoutForm.broker_id ? Number(payoutForm.broker_id) : selectedBroker?.id;\r\n    const amount = parseFloat(payoutForm.amount);\r\n    if (!brokerId || !amount || amount < 0.01) {\r\n      toast.error('Select a broker and enter amount (min 0.01)');\r\n      return;\r\n    }\r\n    setLoading(true);\r\n    try {\r\n      await createBrokerPayout({\r\n        broker_id: brokerId,\r\n        amount,\r\n        reference: payoutForm.reference?.trim() || undefined,\r\n        notes: payoutForm.notes?.trim() || undefined\r\n      });\r\n      toast.success('Broker payout created successfully');\r\n      setModalOpen(false);\r\n      setPayoutForm({ broker_id: '', amount: '', reference: '', notes: '' });\r\n      await refreshBrokerDetail();\r\n      await fetchBrokerCommissionsList();\r\n    } catch (err) {\r\n      const d = err.response?.data;\r\n      const msg = d?.message || (d?.errors ? Object.values(d.errors).flat().join(' ') : null) || 'Failed to create payout';\r\n      const pendingBal = d?.pending_balance;\r\n      toast.error(pendingBal != null ? `${msg} (Max: $${Number(pendingBal).toFixed(2)})` : msg);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const handleCancelCommission = async (id) => {\r\n    try {\r\n      await cancelBrokerCommission(id);\r\n      toast.success('Commission cancelled');\r\n      await refreshBrokerDetail();\r\n      await fetchBrokerCommissionsList();\r\n    } catch (err) {\r\n      toast.error(err.response?.data?.message || 'Failed to cancel commission');\r\n    }\r\n  };\r\n\r\n  const handleDeleteBrokerReferral = async (id) => {\r\n    try {\r\n      await deleteBrokerReferral(id);\r\n      toast.success('Referral deleted');\r\n      await refreshBrokerDetail();\r\n    } catch (err) {\r\n      toast.error(err.response?.data?.message || 'Failed to delete referral');\r\n    }\r\n  };\r\n\r\n  const adminContextValue = useMemo(() => ({\r\n    COLORS,\r\n    loading,\r\n    summary,\r\n    users,\r\n    cars,\r\n    bookings,\r\n    payments,\r\n    announcements,\r\n    appeals,\r\n    ads,\r\n    featuredCars,\r\n    holidays,\r\n    suggestions,\r\n    notifications,\r\n    otps,\r\n    promoCodes,\r\n    promoCodeUsers,\r\n    brokerReferrals,\r\n    brokers,\r\n    brokerForm,\r\n    setBrokerForm,\r\n    selectedBroker,\r\n    setSelectedBroker,\r\n    brokerDetailTab,\r\n    setBrokerDetailTab,\r\n    brokerBalance,\r\n    brokerCommissions,\r\n    setBrokerCommissions,\r\n    brokerPayouts,\r\n    brokerCommissionsList,\r\n    payoutForm,\r\n    setPayoutForm,\r\n    commissionStatusFilter,\r\n    setCommissionStatusFilter,\r\n    filters,\r\n    setFilters,\r\n    pagination,\r\n    setPagination,\r\n    selectedItem,\r\n    setSelectedItem,\r\n    modalOpen,\r\n    setModalOpen,\r\n    modalType,\r\n    setModalType,\r\n    confirmDialog,\r\n    setConfirmDialog,\r\n    navigate,\r\n    fetchUsers,\r\n    fetchUserDetails,\r\n    fetchCars,\r\n    fetchCarDetails,\r\n    fetchBookings,\r\n    fetchBookingDetails,\r\n    fetchPayments,\r\n    fetchAnnouncements,\r\n    fetchAppeals,\r\n    fetchAds,\r\n    fetchFeaturedCars,\r\n    fetchHolidays,\r\n    fetchSuggestions,\r\n    fetchNotifications,\r\n    fetchOtps,\r\n    updateUser,\r\n    deleteUser,\r\n    updateCar,\r\n    deleteCar,\r\n    updateBooking,\r\n    forceCompleteBooking,\r\n    processRefund,\r\n    deleteAnnouncement,\r\n    deleteAd,\r\n    deleteFeaturedCar,\r\n    deleteHoliday,\r\n    deleteSuggestion,\r\n    showConfirmDialog,\r\n    fetchPromoCodes,\r\n    fetchPromoCodeUsers,\r\n    fetchBrokerReferrals,\r\n    fetchBrokers,\r\n    handleCreateOrUpdatePromoCode,\r\n    handleDeletePromoCode,\r\n    handleCreateBroker,\r\n    openBrokerDetail,\r\n    closeBrokerDetail,\r\n    refreshBrokerDetail,\r\n    fetchBrokerCommissionsList,\r\n    handleCreateBrokerPayout,\r\n    handleCancelCommission,\r\n    handleDeleteBrokerReferral,\r\n    services,\r\n    thirdParties,\r\n    serviceItems,\r\n    serviceFeedbacks,\r\n    selectedServiceId,\r\n    setSelectedServiceId,\r\n    fetchServices,\r\n    fetchThirdParties,\r\n    fetchServiceItems,\r\n    fetchServiceFeedbacks,\r\n    handleCreateService,\r\n    handleUpdateService,\r\n    handleDeleteService,\r\n    handleCreateThirdParty,\r\n    handleUpdateThirdParty,\r\n    handleDeleteThirdParty,\r\n    handleCreateServiceItem,\r\n    handleUpdateServiceItem,\r\n    handleDeleteServiceItem,\r\n    handleDeleteFeedback\r\n  }), [\r\n    loading, summary, users, cars, bookings, payments, announcements, appeals, ads,\r\n    featuredCars, holidays, suggestions, notifications, otps, promoCodes, promoCodeUsers,\r\n    brokerReferrals, brokers, brokerForm, selectedBroker, brokerDetailTab, brokerBalance,\r\n    brokerCommissions, brokerPayouts, brokerCommissionsList, payoutForm, commissionStatusFilter,\r\n    filters, pagination, selectedItem, modalOpen, modalType, confirmDialog,\r\n    services, thirdParties, serviceItems, serviceFeedbacks, selectedServiceId\r\n  ]);\r\n\r\n  return (\r\n    <AdminContext.Provider value={adminContextValue}>\r\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-gray-950 dark:via-gray-900 dark:to-gray-900\">\r\n      {/* Header */}\r\n      <header className=\"sticky top-0 z-50 backdrop-blur-xl bg-white/80 dark:bg-gray-900/80 border-b border-gray-200/50 dark:border-gray-800/50 shadow-sm\">\r\n        <div className=\"container mx-auto px-4 sm:px-6 py-4\">\r\n          <div className=\"flex items-center justify-between\">\r\n            <div className=\"flex items-center gap-4\">\r\n              <Button\r\n                variant=\"ghost\"\r\n                size=\"icon\"\r\n                onClick={() => navigate('/')}\r\n                className=\"h-9 w-9\"\r\n                aria-label=\"Go to home page\"\r\n              >\r\n                <Home className=\"w-5 h-5\" />\r\n              </Button>\r\n              <div>\r\n                <h1 className=\"text-2xl font-bold bg-clip-text text-transparent\" style={{\r\n                  backgroundImage: `linear-gradient(to right, ${COLORS.darkBlue}, ${COLORS.teal}, ${COLORS.limeGreen})`\r\n                }}>\r\n                  Admin Dashboard\r\n                </h1>\r\n                <p className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n                  Manage your platform\r\n                </p>\r\n              </div>\r\n            </div>\r\n            <Button\r\n              variant=\"ghost\"\r\n              size=\"icon\"\r\n              onClick={() => {\r\n                localStorage.clear();\r\n                navigate('/auth');\r\n              }}\r\n              className=\"h-9 w-9\"\r\n              aria-label=\"Logout\"\r\n            >\r\n              <LogOut className=\"w-5 h-5\" />\r\n            </Button>\r\n          </div>\r\n        </div>\r\n      </header>\r\n\r\n      {/* Main Content */}\r\n      <main className=\"container mx-auto px-4 sm:px-6 py-6 max-w-7xl\">\r\n        <Tabs value={activeTab} onValueChange={setActiveTab} className=\"w-full\">\r\n          <TabsList className=\"grid w-full grid-cols-8 lg:grid-cols-16 mb-6 h-auto p-1 bg-gray-100 dark:bg-gray-800\">\r\n            <TabsTrigger value=\"dashboard\" className=\"text-xs\">\r\n              <BarChart3 className=\"w-4 h-4 mr-1\" />\r\n              Dashboard\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"users\" className=\"text-xs\">\r\n              <Users className=\"w-4 h-4 mr-1\" />\r\n              Users\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"cars\" className=\"text-xs\">\r\n              <Car className=\"w-4 h-4 mr-1\" />\r\n              Cars\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"bookings\" className=\"text-xs\">\r\n              <Calendar className=\"w-4 h-4 mr-1\" />\r\n              Bookings\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"payments\" className=\"text-xs\">\r\n              <DollarSign className=\"w-4 h-4 mr-1\" />\r\n              Payments\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"promo-codes\" className=\"text-xs\">\r\n              <Tag className=\"w-4 h-4 mr-1\" />\r\n              Promo Codes\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"brokers\" className=\"text-xs\">\r\n              <Users className=\"w-4 h-4 mr-1\" />\r\n              Brokers\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"announcements\" className=\"text-xs\">\r\n              <Megaphone className=\"w-4 h-4 mr-1\" />\r\n              Announcements\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"appeals\" className=\"text-xs\">\r\n              <AlertCircle className=\"w-4 h-4 mr-1\" />\r\n              Appeals\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"ads\" className=\"text-xs\">\r\n              <FileText className=\"w-4 h-4 mr-1\" />\r\n              Ads\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"featured-cars\" className=\"text-xs\">\r\n              <Star className=\"w-4 h-4 mr-1\" />\r\n              Featured\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"holidays\" className=\"text-xs\">\r\n              <CalendarDays className=\"w-4 h-4 mr-1\" />\r\n              Holidays\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"suggestions\" className=\"text-xs\">\r\n              <Lightbulb className=\"w-4 h-4 mr-1\" />\r\n              Suggestions\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"notifications\" className=\"text-xs\">\r\n              <Bell className=\"w-4 h-4 mr-1\" />\r\n              Notifications\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"otps\" className=\"text-xs\">\r\n              <KeyRound className=\"w-4 h-4 mr-1\" />\r\n              OTPs\r\n            </TabsTrigger>\r\n            <TabsTrigger value=\"services\" className=\"text-xs\">\r\n              <Briefcase className=\"w-4 h-4 mr-1\" />\r\n              Services\r\n            </TabsTrigger>\r\n          </TabsList>\r\n\r\n          {/* Dashboard Tab */}\r\n          <TabsContent value=\"dashboard\" className=\"space-y-6\">\r\n            <AdminDashboardTab />\r\n          </TabsContent>\r\n\r\n          {/* Users Tab */}\r\n          <TabsContent value=\"users\" className=\"space-y-4\">\r\n            <AdminUsersTab />\r\n          </TabsContent>\r\n\r\n          {/* Cars Tab */}\r\n          <TabsContent value=\"cars\" className=\"space-y-4\">\r\n            <AdminCarsTab />\r\n          </TabsContent>\r\n\r\n          {/* Bookings Tab */}\r\n          <TabsContent value=\"bookings\" className=\"space-y-4\">\r\n            <AdminBookingsTab />\r\n          </TabsContent>\r\n\r\n          {/* Payments Tab */}\r\n          <TabsContent value=\"payments\" className=\"space-y-4\">\r\n            <AdminPaymentsTab />\r\n          </TabsContent>\r\n\r\n          {/* Announcements Tab */}\r\n          <TabsContent value=\"announcements\" className=\"space-y-4\">\r\n            <AdminAnnouncementsTab />\r\n          </TabsContent>\r\n\r\n          {/* Appeals Tab */}\r\n          <TabsContent value=\"appeals\" className=\"space-y-4\">\r\n            <AdminAppealsTab />\r\n          </TabsContent>\r\n\r\n          {/* Ads Tab */}\r\n          <TabsContent value=\"ads\" className=\"space-y-4\">\r\n            <AdminAdsTab />\r\n          </TabsContent>\r\n\r\n          {/* Promo Codes Tab */}\r\n          <TabsContent value=\"promo-codes\" className=\"space-y-4\">\r\n            <AdminPromoCodesTab />\r\n          </TabsContent>\r\n\r\n          {/* Brokers Tab */}\r\n          <TabsContent value=\"brokers\" className=\"space-y-4\">\r\n            <AdminBrokersTab />\r\n          </TabsContent>\r\n\r\n          <TabsContent value=\"featured-cars\" className=\"space-y-4\">\r\n            <AdminFeaturedCarsTab />\r\n          </TabsContent>\r\n\r\n          {/* Holidays Tab */}\r\n          <TabsContent value=\"holidays\" className=\"space-y-4\">\r\n            <AdminHolidaysTab />\r\n          </TabsContent>\r\n\r\n          {/* Suggestions Tab */}\r\n          <TabsContent value=\"suggestions\" className=\"space-y-4\">\r\n            <AdminSuggestionsTab />\r\n          </TabsContent>\r\n\r\n          {/* Notifications Tab */}\r\n          <TabsContent value=\"notifications\" className=\"space-y-4\">\r\n            <AdminNotificationsTab />\r\n          </TabsContent>\r\n\r\n          {/* OTPs Tab */}\r\n          <TabsContent value=\"otps\" className=\"space-y-4\">\r\n            <AdminOtpsTab />\r\n          </TabsContent>\r\n\r\n          {/* Services Tab */}\r\n          <TabsContent value=\"services\" className=\"space-y-6\">\r\n            <AdminServicesTab />\r\n          </TabsContent>\r\n          <TabsContent value=\"services-legacy\" style={{ display: 'none' }}>\r\n            <Tabs defaultValue=\"services-list\" className=\"w-full\">\r\n              <TabsList className=\"grid w-full grid-cols-4 mb-4\">\r\n                <TabsTrigger value=\"services-list\" className=\"text-xs\">\r\n                  <Briefcase className=\"w-4 h-4 mr-1\" />\r\n                  Services\r\n                </TabsTrigger>\r\n                <TabsTrigger value=\"third-parties\" className=\"text-xs\">\r\n                  <Building2 className=\"w-4 h-4 mr-1\" />\r\n                  Third Parties\r\n                </TabsTrigger>\r\n                <TabsTrigger value=\"service-items\" className=\"text-xs\">\r\n                  <Package className=\"w-4 h-4 mr-1\" />\r\n                  Service Items\r\n                </TabsTrigger>\r\n                <TabsTrigger value=\"service-feedbacks\" className=\"text-xs\">\r\n                  <MessageCircle className=\"w-4 h-4 mr-1\" />\r\n                  Feedbacks\r\n                </TabsTrigger>\r\n              </TabsList>\r\n\r\n              {/* Services List */}\r\n              <TabsContent value=\"services-list\" className=\"space-y-4\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <Button\r\n                      onClick={() => {\r\n                        setSelectedItem(null);\r\n                        setModalType('create-service');\r\n                        setModalOpen(true);\r\n                      }}\r\n                    >\r\n                      <Plus className=\"w-4 h-4 mr-1\" />\r\n                      Create Service\r\n                    </Button>\r\n                    <Button variant=\"outline\" size=\"icon\" onClick={fetchServices} aria-label=\"Refresh services\">\r\n                      <RefreshCw className=\"w-4 h-4\" />\r\n                    </Button>\r\n                  </div>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <Input\r\n                      placeholder=\"Search services...\"\r\n                      value={filters.services.search}\r\n                      onChange={(e) => setFilters({...filters, services: {...filters.services, search: e.target.value}})}\r\n                      className=\"w-48\"\r\n                    />\r\n                    <Select\r\n                      value={filters.services.category}\r\n                      onValueChange={(value) => setFilters({...filters, services: {...filters.services, category: value}})}\r\n                    >\r\n                      <SelectTrigger className=\"w-40\">\r\n                        <SelectValue placeholder=\"Category\" />\r\n                      </SelectTrigger>\r\n                      <SelectContent>\r\n                        <SelectItem value=\"all\">All Categories</SelectItem>\r\n                        <SelectItem value=\"transport\">Transport</SelectItem>\r\n                        <SelectItem value=\"accommodation\">Accommodation</SelectItem>\r\n                        <SelectItem value=\"food\">Food & Dining</SelectItem>\r\n                        <SelectItem value=\"entertainment\">Entertainment</SelectItem>\r\n                        <SelectItem value=\"other\">Other</SelectItem>\r\n                      </SelectContent>\r\n                    </Select>\r\n                    <Select\r\n                      value={filters.services.featured}\r\n                      onValueChange={(value) => setFilters({...filters, services: {...filters.services, featured: value}})}\r\n                    >\r\n                      <SelectTrigger className=\"w-32\">\r\n                        <SelectValue placeholder=\"Featured\" />\r\n                      </SelectTrigger>\r\n                      <SelectContent>\r\n                        <SelectItem value=\"all\">All</SelectItem>\r\n                        <SelectItem value=\"true\">Featured</SelectItem>\r\n                        <SelectItem value=\"false\">Not Featured</SelectItem>\r\n                      </SelectContent>\r\n                    </Select>\r\n                    <Button onClick={fetchServices}>\r\n                      <Search className=\"w-4 h-4\" />\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n                <Card>\r\n                  <CardContent className=\"p-0\">\r\n                    <Table>\r\n                      <TableHeader>\r\n                        <TableRow>\r\n                          <TableHead>ID</TableHead>\r\n                          <TableHead>Name</TableHead>\r\n                          <TableHead>Owner</TableHead>\r\n                          <TableHead>Category</TableHead>\r\n                          <TableHead>Price</TableHead>\r\n                          <TableHead>Rating</TableHead>\r\n                          <TableHead>Featured</TableHead>\r\n                          <TableHead>Actions</TableHead>\r\n                        </TableRow>\r\n                      </TableHeader>\r\n                      <TableBody>\r\n                        {loading ? (\r\n                          <TableRow>\r\n                            <TableCell colSpan={8} className=\"text-center py-8\">Loading...</TableCell>\r\n                          </TableRow>\r\n                        ) : services.length === 0 ? (\r\n                          <TableRow>\r\n                            <TableCell colSpan={8} className=\"text-center py-8\">No services found</TableCell>\r\n                          </TableRow>\r\n                        ) : (\r\n                          services.map((service) => (\r\n                            <TableRow key={service.id}>\r\n                              <TableCell>{service.id}</TableCell>\r\n                              <TableCell className=\"font-medium\">{service.name}</TableCell>\r\n                              <TableCell>\r\n                                {service.third_party ? (\r\n                                  <div className=\"text-sm\">\r\n                                    <p className=\"font-medium\">{service.third_party.name}</p>\r\n                                    <p className=\"text-xs text-muted-foreground\">{service.third_party.email}</p>\r\n                                  </div>\r\n                                ) : service.third_party_id ? (\r\n                                  <span className=\"text-muted-foreground\">ID: {service.third_party_id}</span>\r\n                                ) : (\r\n                                  <span className=\"text-muted-foreground\">-</span>\r\n                                )}\r\n                              </TableCell>\r\n                              <TableCell>\r\n                                <Badge variant=\"outline\">{service.category}</Badge>\r\n                              </TableCell>\r\n                              <TableCell>${(parseFloat(service.price) || 0).toFixed(2)}</TableCell>\r\n                              <TableCell>\r\n                                <div className=\"flex items-center gap-1\">\r\n                                  <Star className=\"w-4 h-4 text-yellow-500 fill-yellow-500\" />\r\n                                  {service.rating ? (parseFloat(service.rating) || 0).toFixed(1) : 'N/A'}\r\n                                </div>\r\n                              </TableCell>\r\n                              <TableCell>\r\n                                <Badge variant={service.featured ? \"default\" : \"secondary\"}>\r\n                                  {service.featured ? 'Yes' : 'No'}\r\n                                </Badge>\r\n                              </TableCell>\r\n                              <TableCell>\r\n                                <div className=\"flex items-center gap-1\">\r\n                                  <Button\r\n                                    size=\"sm\"\r\n                                    variant=\"ghost\"\r\n                                    onClick={() => {\r\n                                      setSelectedItem(service);\r\n                                      setModalType('view-service');\r\n                                      setModalOpen(true);\r\n                                    }}\r\n                                  >\r\n                                    <Eye className=\"w-4 h-4\" />\r\n                                  </Button>\r\n                                  <Button\r\n                                    size=\"sm\"\r\n                                    variant=\"ghost\"\r\n                                    onClick={() => {\r\n                                      setSelectedItem(service);\r\n                                      setModalType('edit-service');\r\n                                      setModalOpen(true);\r\n                                    }}\r\n                                  >\r\n                                    <Edit className=\"w-4 h-4\" />\r\n                                  </Button>\r\n                                  <Button\r\n                                    size=\"sm\"\r\n                                    variant=\"ghost\"\r\n                                    onClick={() => fetchServiceItems(service.id)}\r\n                                  >\r\n                                    <Package className=\"w-4 h-4\" />\r\n                                  </Button>\r\n                                  <Button\r\n                                    size=\"sm\"\r\n                                    variant=\"ghost\"\r\n                                    className=\"text-destructive\"\r\n                                    onClick={() => setConfirmDialog({\r\n                                      open: true,\r\n                                      title: 'Delete Service',\r\n                                      message: `Are you sure you want to delete \"${service.name}\"?`,\r\n                                      onConfirm: () => handleDeleteService(service.id)\r\n                                    })}\r\n                                  >\r\n                                    <Trash2 className=\"w-4 h-4\" />\r\n                                  </Button>\r\n                                </div>\r\n                              </TableCell>\r\n                            </TableRow>\r\n                          ))\r\n                        )}\r\n                      </TableBody>\r\n                    </Table>\r\n                  </CardContent>\r\n                </Card>\r\n              </TabsContent>\r\n\r\n              {/* Third Parties */}\r\n              <TabsContent value=\"third-parties\" className=\"space-y-4\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <Button\r\n                      onClick={() => {\r\n                        setSelectedItem(null);\r\n                        setModalType('create-third-party');\r\n                        setModalOpen(true);\r\n                      }}\r\n                    >\r\n                      <Plus className=\"w-4 h-4 mr-1\" />\r\n                      Create Third Party\r\n                    </Button>\r\n                    <Button variant=\"outline\" size=\"icon\" onClick={fetchThirdParties} aria-label=\"Refresh third parties\">\r\n                      <RefreshCw className=\"w-4 h-4\" />\r\n                    </Button>\r\n                  </div>\r\n                  <Input\r\n                    placeholder=\"Search third parties...\"\r\n                    value={filters.thirdParties.search}\r\n                    onChange={(e) => setFilters({...filters, thirdParties: {...filters.thirdParties, search: e.target.value}})}\r\n                    className=\"w-64\"\r\n                  />\r\n                </div>\r\n                <Card>\r\n                  <CardContent className=\"p-0\">\r\n                    <Table>\r\n                      <TableHeader>\r\n                        <TableRow>\r\n                          <TableHead>ID</TableHead>\r\n                          <TableHead>Name</TableHead>\r\n                          <TableHead>Contact</TableHead>\r\n                          <TableHead>Category</TableHead>\r\n                          <TableHead>City</TableHead>\r\n                          <TableHead>Subscription</TableHead>\r\n                          <TableHead>Created At</TableHead>\r\n                          <TableHead>Actions</TableHead>\r\n                        </TableRow>\r\n                      </TableHeader>\r\n                      <TableBody>\r\n                        {loading ? (\r\n                          <TableRow>\r\n                            <TableCell colSpan={8} className=\"text-center py-8\">Loading...</TableCell>\r\n                          </TableRow>\r\n                        ) : thirdParties.length === 0 ? (\r\n                          <TableRow>\r\n                            <TableCell colSpan={8} className=\"text-center py-8\">No third parties found</TableCell>\r\n                          </TableRow>\r\n                        ) : (\r\n                          thirdParties.map((tp) => (\r\n                            <TableRow key={tp.id}>\r\n                              <TableCell>{tp.id}</TableCell>\r\n                              <TableCell>\r\n                                <div>\r\n                                  <p className=\"font-medium\">{tp.name}</p>\r\n                                  {tp.description && (\r\n                                    <p className=\"text-xs text-muted-foreground truncate max-w-[200px]\">{tp.description}</p>\r\n                                  )}\r\n                                </div>\r\n                              </TableCell>\r\n                              <TableCell>\r\n                                <div className=\"text-sm\">\r\n                                  <p>{tp.email}</p>\r\n                                  {tp.phone && <p className=\"text-muted-foreground\">{tp.phone}</p>}\r\n                                </div>\r\n                              </TableCell>\r\n                              <TableCell>\r\n                                <Badge variant=\"outline\">{tp.category || 'N/A'}</Badge>\r\n                              </TableCell>\r\n                              <TableCell>{tp.city || 'N/A'}</TableCell>\r\n                              <TableCell>\r\n                                <Badge variant={tp.subscription === 'premium' || tp.subscription === 'enterprise' ? 'default' : 'secondary'}>\r\n                                  {tp.subscription || 'Free'}\r\n                                </Badge>\r\n                              </TableCell>\r\n                              <TableCell>{new Date(tp.created_at).toLocaleDateString()}</TableCell>\r\n                              <TableCell>\r\n                                <div className=\"flex items-center gap-1\">\r\n                                  <Button\r\n                                    size=\"sm\"\r\n                                    variant=\"ghost\"\r\n                                    title=\"View Details\"\r\n                                    onClick={() => {\r\n                                      setSelectedItem(tp);\r\n                                      setModalType('view-third-party');\r\n                                      setModalOpen(true);\r\n                                    }}\r\n                                  >\r\n                                    <Eye className=\"w-4 h-4\" />\r\n                                  </Button>\r\n                                  <Button\r\n                                    size=\"sm\"\r\n                                    variant=\"ghost\"\r\n                                    title=\"Edit\"\r\n                                    onClick={() => {\r\n                                      setSelectedItem(tp);\r\n                                      setModalType('edit-third-party');\r\n                                      setModalOpen(true);\r\n                                    }}\r\n                                  >\r\n                                    <Edit className=\"w-4 h-4\" />\r\n                                  </Button>\r\n                                  <Button\r\n                                    size=\"sm\"\r\n                                    variant=\"ghost\"\r\n                                    title=\"Add Service for this Third Party\"\r\n                                    onClick={() => {\r\n                                      setSelectedItem({ third_party_id: tp.id, third_party_name: tp.name });\r\n                                      setModalType('create-service-for-tp');\r\n                                      setModalOpen(true);\r\n                                    }}\r\n                                  >\r\n                                    <Plus className=\"w-4 h-4\" />\r\n                                  </Button>\r\n                                  <Button\r\n                                    size=\"sm\"\r\n                                    variant=\"ghost\"\r\n                                    className=\"text-destructive\"\r\n                                    title=\"Delete\"\r\n                                    onClick={() => setConfirmDialog({\r\n                                      open: true,\r\n                                      title: 'Delete Third Party',\r\n                                      message: `Are you sure you want to delete \"${tp.name}\"?`,\r\n                                      onConfirm: () => handleDeleteThirdParty(tp.id)\r\n                                    })}\r\n                                  >\r\n                                    <Trash2 className=\"w-4 h-4\" />\r\n                                  </Button>\r\n                                </div>\r\n                              </TableCell>\r\n                            </TableRow>\r\n                          ))\r\n                        )}\r\n                      </TableBody>\r\n                    </Table>\r\n                  </CardContent>\r\n                </Card>\r\n              </TabsContent>\r\n\r\n              {/* Service Items */}\r\n              <TabsContent value=\"service-items\" className=\"space-y-4\">\r\n                <div className=\"flex items-center justify-between\">\r\n                  <div className=\"flex items-center gap-2\">\r\n                    {selectedServiceId && (\r\n                      <>\r\n                        <Button\r\n                          onClick={() => {\r\n                            setSelectedItem(null);\r\n                            setModalType('create-service-item');\r\n                            setModalOpen(true);\r\n                          }}\r\n                        >\r\n                          <Plus className=\"w-4 h-4 mr-1\" />\r\n                          Add Item\r\n                        </Button>\r\n                        <Button variant=\"outline\" size=\"icon\" onClick={() => fetchServiceItems(selectedServiceId)} aria-label=\"Refresh service items\">\r\n                          <RefreshCw className=\"w-4 h-4\" />\r\n                        </Button>\r\n                      </>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <Select\r\n                      value={selectedServiceId?.toString() || ''}\r\n                      onValueChange={(value) => {\r\n                        if (value) fetchServiceItems(parseInt(value));\r\n                      }}\r\n                    >\r\n                      <SelectTrigger className=\"w-64\">\r\n                        <SelectValue placeholder=\"Select a service to view items\" />\r\n                      </SelectTrigger>\r\n                      <SelectContent>\r\n                        {services.map((service) => (\r\n                          <SelectItem key={service.id} value={service.id.toString()}>\r\n                            {service.name}\r\n                          </SelectItem>\r\n                        ))}\r\n                      </SelectContent>\r\n                    </Select>\r\n                  </div>\r\n                </div>\r\n                {!selectedServiceId ? (\r\n                  <Card>\r\n                    <CardContent className=\"py-12 text-center text-muted-foreground\">\r\n                      <Package className=\"w-12 h-12 mx-auto mb-4 opacity-50\" />\r\n                      <p>Select a service from the dropdown above to view its items</p>\r\n                      <p className=\"text-sm mt-2\">Or click the <Package className=\"w-4 h-4 inline\" /> icon on a service in the Services tab</p>\r\n                    </CardContent>\r\n                  </Card>\r\n                ) : (\r\n                  <Card>\r\n                    <CardHeader>\r\n                      <CardTitle className=\"text-lg\">\r\n                        Items for Service #{selectedServiceId}\r\n                      </CardTitle>\r\n                    </CardHeader>\r\n                    <CardContent className=\"p-0\">\r\n                      <Table>\r\n                        <TableHeader>\r\n                          <TableRow>\r\n                            <TableHead>ID</TableHead>\r\n                            <TableHead>Name</TableHead>\r\n                            <TableHead>Description</TableHead>\r\n                            <TableHead>Price</TableHead>\r\n                            <TableHead>Image</TableHead>\r\n                            <TableHead>Actions</TableHead>\r\n                          </TableRow>\r\n                        </TableHeader>\r\n                        <TableBody>\r\n                          {loading ? (\r\n                            <TableRow>\r\n                              <TableCell colSpan={6} className=\"text-center py-8\">Loading...</TableCell>\r\n                            </TableRow>\r\n                          ) : serviceItems.length === 0 ? (\r\n                            <TableRow>\r\n                              <TableCell colSpan={6} className=\"text-center py-8\">No items found for this service</TableCell>\r\n                            </TableRow>\r\n                          ) : (\r\n                            serviceItems.map((item) => (\r\n                              <TableRow key={item.id}>\r\n                                <TableCell>{item.id}</TableCell>\r\n                                <TableCell className=\"font-medium\">{item.name}</TableCell>\r\n                                <TableCell className=\"max-w-xs truncate\">{item.description || 'N/A'}</TableCell>\r\n                                <TableCell>${(parseFloat(item.price) || 0).toFixed(2)}</TableCell>\r\n                                <TableCell>\r\n                                  {item.image ? (\r\n                                    <img src={item.image} alt={item.name} className=\"w-10 h-10 object-cover rounded\" />\r\n                                  ) : (\r\n                                    <span className=\"text-muted-foreground\">No image</span>\r\n                                  )}\r\n                                </TableCell>\r\n                                <TableCell>\r\n                                  <div className=\"flex items-center gap-1\">\r\n                                    <Button\r\n                                      size=\"sm\"\r\n                                      variant=\"ghost\"\r\n                                      onClick={() => {\r\n                                        setSelectedItem(item);\r\n                                        setModalType('edit-service-item');\r\n                                        setModalOpen(true);\r\n                                      }}\r\n                                    >\r\n                                      <Edit className=\"w-4 h-4\" />\r\n                                    </Button>\r\n                                    <Button\r\n                                      size=\"sm\"\r\n                                      variant=\"ghost\"\r\n                                      className=\"text-destructive\"\r\n                                      onClick={() => setConfirmDialog({\r\n                                        open: true,\r\n                                        title: 'Delete Item',\r\n                                        message: `Are you sure you want to delete \"${item.name}\"?`,\r\n                                        onConfirm: () => handleDeleteServiceItem(item.id)\r\n                                      })}\r\n                                    >\r\n                                      <Trash2 className=\"w-4 h-4\" />\r\n                                    </Button>\r\n                                  </div>\r\n                                </TableCell>\r\n                              </TableRow>\r\n                            ))\r\n                          )}\r\n                        </TableBody>\r\n                      </Table>\r\n                    </CardContent>\r\n                  </Card>\r\n                )}\r\n              </TabsContent>\r\n\r\n              {/* Service Feedbacks */}\r\n              <TabsContent value=\"service-feedbacks\" className=\"space-y-4\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <Button variant=\"outline\" size=\"icon\" onClick={fetchServiceFeedbacks} aria-label=\"Refresh service feedbacks\">\r\n                    <RefreshCw className=\"w-4 h-4\" />\r\n                  </Button>\r\n                </div>\r\n                <Card>\r\n                  <CardContent className=\"p-0\">\r\n                    <Table>\r\n                      <TableHeader>\r\n                        <TableRow>\r\n                          <TableHead>ID</TableHead>\r\n                          <TableHead>Service</TableHead>\r\n                          <TableHead>User</TableHead>\r\n                          <TableHead>Rating</TableHead>\r\n                          <TableHead>Comment</TableHead>\r\n                          <TableHead>Helpful</TableHead>\r\n                          <TableHead>Created At</TableHead>\r\n                          <TableHead>Actions</TableHead>\r\n                        </TableRow>\r\n                      </TableHeader>\r\n                      <TableBody>\r\n                        {loading ? (\r\n                          <TableRow>\r\n                            <TableCell colSpan={8} className=\"text-center py-8\">Loading...</TableCell>\r\n                          </TableRow>\r\n                        ) : serviceFeedbacks.length === 0 ? (\r\n                          <TableRow>\r\n                            <TableCell colSpan={8} className=\"text-center py-8\">No feedbacks found</TableCell>\r\n                          </TableRow>\r\n                        ) : (\r\n                          serviceFeedbacks.map((feedback) => (\r\n                            <TableRow key={feedback.id}>\r\n                              <TableCell>{feedback.id}</TableCell>\r\n                              <TableCell>{feedback.service?.name || feedback.service_id}</TableCell>\r\n                              <TableCell>{feedback.user?.name || feedback.user_id}</TableCell>\r\n                              <TableCell>\r\n                                <div className=\"flex items-center gap-1\">\r\n                                  {[...Array(5)].map((_, i) => (\r\n                                    <Star\r\n                                      key={i}\r\n                                      className={`w-4 h-4 ${i < feedback.rating ? 'text-yellow-500 fill-yellow-500' : 'text-gray-300'}`}\r\n                                    />\r\n                                  ))}\r\n                                </div>\r\n                              </TableCell>\r\n                              <TableCell className=\"max-w-xs truncate\">{feedback.comment || 'N/A'}</TableCell>\r\n                              <TableCell>{feedback.helpful_count || 0}</TableCell>\r\n                              <TableCell>{new Date(feedback.created_at).toLocaleDateString()}</TableCell>\r\n                              <TableCell>\r\n                                <Button\r\n                                  size=\"sm\"\r\n                                  variant=\"ghost\"\r\n                                  className=\"text-destructive\"\r\n                                  onClick={() => setConfirmDialog({\r\n                                    open: true,\r\n                                    title: 'Delete Feedback',\r\n                                    message: 'Are you sure you want to delete this feedback?',\r\n                                    onConfirm: () => handleDeleteFeedback(feedback.id)\r\n                                  })}\r\n                                >\r\n                                  <Trash2 className=\"w-4 h-4\" />\r\n                                </Button>\r\n                              </TableCell>\r\n                            </TableRow>\r\n                          ))\r\n                        )}\r\n                      </TableBody>\r\n                    </Table>\r\n                  </CardContent>\r\n                </Card>\r\n              </TabsContent>\r\n            </Tabs>\r\n          </TabsContent>\r\n        </Tabs>\r\n      </main>\r\n\r\n      {/* Confirmation Dialog */}\r\n      <AlertDialog open={confirmDialog.open} onOpenChange={(open) => setConfirmDialog({...confirmDialog, open})}>\r\n        <AlertDialogContent>\r\n          <AlertDialogHeader>\r\n            <AlertDialogTitle>{confirmDialog.title}</AlertDialogTitle>\r\n            <AlertDialogDescription>\r\n              {confirmDialog.message}\r\n            </AlertDialogDescription>\r\n          </AlertDialogHeader>\r\n          <AlertDialogFooter>\r\n            <AlertDialogCancel onClick={() => setConfirmDialog({...confirmDialog, open: false})}>\r\n              Cancel\r\n            </AlertDialogCancel>\r\n            <AlertDialogAction\r\n              onClick={() => {\r\n                if (confirmDialog.onConfirm) {\r\n                  confirmDialog.onConfirm();\r\n                }\r\n                setConfirmDialog({...confirmDialog, open: false});\r\n              }}\r\n            >\r\n              Confirm\r\n            </AlertDialogAction>\r\n          </AlertDialogFooter>\r\n        </AlertDialogContent>\r\n      </AlertDialog>\r\n\r\n      {/* Modals */}\r\n      <AnimatePresence>\r\n        {modalOpen && (\r\n          <Dialog open={modalOpen} onOpenChange={setModalOpen}>\r\n            <DialogContent className=\"max-w-2xl max-h-[90vh] overflow-y-auto\">\r\n              <DialogHeader>\r\n                <DialogTitle>\r\n                  {modalType === 'view-user' && 'User Details'}\r\n                  {modalType === 'edit-user' && 'Edit User'}\r\n                  {modalType === 'view-car' && 'Car Details'}\r\n                  {modalType === 'edit-car' && 'Edit Car'}\r\n                  {modalType === 'view-booking' && 'Booking Details'}\r\n                  {modalType === 'edit-booking' && 'Edit Booking'}\r\n                  {modalType === 'create-announcement' && 'Create Announcement'}\r\n                  {modalType === 'edit-announcement' && 'Edit Announcement'}\r\n                  {modalType === 'edit-appeal' && 'Edit Appeal'}\r\n                  {modalType === 'edit-ad' && 'Edit Ad'}\r\n                  {modalType === 'edit-suggestion' && 'Edit Suggestion'}\r\n                  {modalType === 'send-notification' && 'Send Notification to All Users'}\r\n                  {modalType === 'create-holiday' && 'Create Holiday'}\r\n                  {modalType === 'edit-holiday' && 'Edit Holiday'}\r\n                  {modalType === 'create-ad' && 'Create Ad'}\r\n                  {modalType === 'create-payment' && 'Issue Payment/Invoice'}\r\n                  {modalType === 'create-featured-car' && 'Create Featured Car'}\r\n                  {modalType === 'create-service' && 'Create Service'}\r\n                  {modalType === 'view-service' && 'Service Details'}\r\n                  {modalType === 'edit-service' && 'Edit Service'}\r\n                  {modalType === 'create-third-party' && 'Create Third Party'}\r\n                  {modalType === 'view-third-party' && 'Third Party Details'}\r\n                  {modalType === 'edit-third-party' && 'Edit Third Party'}\r\n                  {modalType === 'create-service-for-tp' && `Add Service for ${selectedItem?.third_party_name || 'Third Party'}`}\r\n                  {modalType === 'create-service-item' && 'Create Service Item'}\r\n                  {modalType === 'edit-service-item' && 'Edit Service Item'}\r\n                  {modalType === 'create-promo-code' && 'Create Promo Code'}\r\n                  {modalType === 'edit-promo-code' && 'Edit Promo Code'}\r\n                  {modalType === 'create-broker' && 'Create Broker'}\r\n                  {modalType === 'create-broker-payout' && 'Create Broker Payout'}\r\n                  {modalType === 'view-promo-users' && 'Promo Code Users'}\r\n                </DialogTitle>\r\n              </DialogHeader>\r\n              \r\n              {/* View User Details Modal */}\r\n              {modalType === 'view-user' && selectedItem && (\r\n                <div className=\"space-y-4 max-h-[70vh] overflow-y-auto\">\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">ID</Label>\r\n                      <p className=\"text-sm\">{selectedItem.id}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Username</Label>\r\n                      <p className=\"text-sm\">{selectedItem.username || 'N/A'}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Email</Label>\r\n                      <p className=\"text-sm\">{selectedItem.email || 'N/A'}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Phone Number</Label>\r\n                      <p className=\"text-sm\">{selectedItem.phone_number || 'N/A'}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">First Name</Label>\r\n                      <p className=\"text-sm\">{selectedItem.first_name || 'N/A'}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Last Name</Label>\r\n                      <p className=\"text-sm\">{selectedItem.last_name || 'N/A'}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Gender</Label>\r\n                      <p className=\"text-sm\">{selectedItem.gender || 'N/A'}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Birth Date</Label>\r\n                      <p className=\"text-sm\">{selectedItem.birth_date ? new Date(selectedItem.birth_date).toLocaleDateString() : 'N/A'}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">City</Label>\r\n                      <p className=\"text-sm\">{selectedItem.city || 'N/A'}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Role</Label>\r\n                      <p className=\"text-sm\">{selectedItem.role || 'N/A'}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Status</Label>\r\n                      <Badge variant={selectedItem.status ? \"default\" : \"secondary\"}>\r\n                        {selectedItem.status ? 'Active' : 'Inactive'}\r\n                      </Badge>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Verified by Admin</Label>\r\n                      <Badge variant={selectedItem.verified_by_admin ? \"default\" : \"secondary\"}>\r\n                        {selectedItem.verified_by_admin ? 'Yes' : 'No'}\r\n                      </Badge>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Is Locked</Label>\r\n                      <Badge variant={selectedItem.is_locked ? \"destructive\" : \"default\"}>\r\n                        {selectedItem.is_locked ? 'Locked' : 'Unlocked'}\r\n                      </Badge>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Created At</Label>\r\n                      <p className=\"text-sm\">{new Date(selectedItem.created_at).toLocaleString()}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Updated At</Label>\r\n                      <p className=\"text-sm\">{new Date(selectedItem.updated_at).toLocaleString()}</p>\r\n                    </div>\r\n                  </div>\r\n                  {selectedItem.bio && (\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Bio</Label>\r\n                      <p className=\"text-sm\">{selectedItem.bio}</p>\r\n                    </div>\r\n                  )}\r\n                  {selectedItem.client && (\r\n                    <div className=\"border-t pt-4\">\r\n                      <Label className=\"text-sm font-semibold mb-2 block\">Client Details</Label>\r\n                      <div className=\"grid grid-cols-2 gap-4\">\r\n                        <div>\r\n                          <Label className=\"text-xs\">License Number</Label>\r\n                          <p className=\"text-sm\">{selectedItem.client.license_number || 'N/A'}</p>\r\n                        </div>\r\n                        <div>\r\n                          <Label className=\"text-xs\">Profession</Label>\r\n                          <p className=\"text-sm\">{selectedItem.client.profession || 'N/A'}</p>\r\n                        </div>\r\n                        <div>\r\n                          <Label className=\"text-xs\">Average Salary</Label>\r\n                          <p className=\"text-sm\">{selectedItem.client.avg_salary || 'N/A'}</p>\r\n                        </div>\r\n                        <div>\r\n                          <Label className=\"text-xs\">Promo Code</Label>\r\n                          <p className=\"text-sm\">{selectedItem.client.promo_code || 'N/A'}</p>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                  {selectedItem.agent && (\r\n                    <div className=\"border-t pt-4\">\r\n                      <Label className=\"text-sm font-semibold mb-2 block\">Agent/Agency Details</Label>\r\n                      <div className=\"grid grid-cols-2 gap-4\">\r\n                        <div>\r\n                          <Label className=\"text-xs\">Business Type</Label>\r\n                          <p className=\"text-sm\">{selectedItem.agent.business_type || 'N/A'}</p>\r\n                        </div>\r\n                        <div>\r\n                          <Label className=\"text-xs\">Company Number</Label>\r\n                          <p className=\"text-sm\">{selectedItem.agent.company_number || 'N/A'}</p>\r\n                        </div>\r\n                        <div>\r\n                          <Label className=\"text-xs\">Profession</Label>\r\n                          <p className=\"text-sm\">{selectedItem.agent.profession || 'N/A'}</p>\r\n                        </div>\r\n                        <div>\r\n                          <Label className=\"text-xs\">Website</Label>\r\n                          <p className=\"text-sm\">{selectedItem.agent.website || 'N/A'}</p>\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                  <div className=\"flex gap-2 pt-4\">\r\n                    <Button onClick={() => {\r\n                      setModalType('edit-user');\r\n                    }} className=\"flex-1\">\r\n                      Edit User\r\n                    </Button>\r\n                    <Button variant=\"outline\" onClick={() => setModalOpen(false)}>\r\n                      Close\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Edit User Modal */}\r\n              {modalType === 'edit-user' && selectedItem && (\r\n                <div className=\"space-y-4 max-h-[70vh] overflow-y-auto\">\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div>\r\n                      <Label>ID</Label>\r\n                      <Input value={selectedItem.id || ''} disabled />\r\n                    </div>\r\n                    <div>\r\n                      <Label>Username</Label>\r\n                      <Input value={selectedItem.username || ''} disabled />\r\n                    </div>\r\n                    <div>\r\n                      <Label>Email</Label>\r\n                      <Input type=\"email\" value={selectedItem.email || ''} disabled />\r\n                    </div>\r\n                    <div>\r\n                      <Label>Phone Number</Label>\r\n                      <Input value={selectedItem.phone_number || ''} disabled />\r\n                    </div>\r\n                    <div>\r\n                      <Label>First Name</Label>\r\n                      <Input value={selectedItem.first_name || ''} disabled />\r\n                    </div>\r\n                    <div>\r\n                      <Label>Last Name</Label>\r\n                      <Input value={selectedItem.last_name || ''} disabled />\r\n                    </div>\r\n                    <div>\r\n                      <Label>Gender</Label>\r\n                      <Input value={selectedItem.gender || 'N/A'} disabled />\r\n                    </div>\r\n                    <div>\r\n                      <Label>Birth Date</Label>\r\n                      <Input\r\n                        type=\"date\"\r\n                        value={selectedItem.birth_date ? new Date(selectedItem.birth_date).toISOString().split('T')[0] : ''}\r\n                        disabled\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <Label>City</Label>\r\n                      <Input value={selectedItem.city || ''} disabled />\r\n                    </div>\r\n                    <div>\r\n                      <Label>Role</Label>\r\n                      <Input value={selectedItem.role || ''} disabled />\r\n                    </div>\r\n                    <div>\r\n                      <Label>Created At</Label>\r\n                      <Input value={new Date(selectedItem.created_at).toLocaleString()} disabled />\r\n                    </div>\r\n                    <div>\r\n                      <Label>Updated At</Label>\r\n                      <Input value={new Date(selectedItem.updated_at).toLocaleString()} disabled />\r\n                    </div>\r\n                  </div>\r\n                  <div>\r\n                    <Label>Bio</Label>\r\n                    <Textarea value={selectedItem.bio || ''} disabled />\r\n                  </div>\r\n                  {selectedItem.client && (\r\n                    <div className=\"border-t pt-4\">\r\n                      <Label className=\"text-sm font-semibold mb-2 block\">Client Details (Read-only)</Label>\r\n                      <div className=\"grid grid-cols-2 gap-4\">\r\n                        <div>\r\n                          <Label className=\"text-xs\">License Number</Label>\r\n                          <Input value={selectedItem.client.license_number || 'N/A'} disabled />\r\n                        </div>\r\n                        <div>\r\n                          <Label className=\"text-xs\">Profession</Label>\r\n                          <Input value={selectedItem.client.profession || 'N/A'} disabled />\r\n                        </div>\r\n                        <div>\r\n                          <Label className=\"text-xs\">Average Salary</Label>\r\n                          <Input value={selectedItem.client.avg_salary || 'N/A'} disabled />\r\n                        </div>\r\n                        <div>\r\n                          <Label className=\"text-xs\">Promo Code</Label>\r\n                          <Input value={selectedItem.client.promo_code || 'N/A'} disabled />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                  {selectedItem.agent && (\r\n                    <div className=\"border-t pt-4\">\r\n                      <Label className=\"text-sm font-semibold mb-2 block\">Agent/Agency Details (Read-only)</Label>\r\n                      <div className=\"grid grid-cols-2 gap-4\">\r\n                        <div>\r\n                          <Label className=\"text-xs\">Business Type</Label>\r\n                          <Input value={selectedItem.agent.business_type || 'N/A'} disabled />\r\n                        </div>\r\n                        <div>\r\n                          <Label className=\"text-xs\">Company Number</Label>\r\n                          <Input value={selectedItem.agent.company_number || 'N/A'} disabled />\r\n                        </div>\r\n                        <div>\r\n                          <Label className=\"text-xs\">Profession</Label>\r\n                          <Input value={selectedItem.agent.profession || 'N/A'} disabled />\r\n                        </div>\r\n                        <div>\r\n                          <Label className=\"text-xs\">Website</Label>\r\n                          <Input value={selectedItem.agent.website || 'N/A'} disabled />\r\n                        </div>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                  <div className=\"border-t pt-4 space-y-3\">\r\n                    <Label className=\"text-sm font-semibold block\">Editable Fields</Label>\r\n                    {selectedItem.verified_by_admin && (\r\n                      <div className=\"flex items-center justify-between\">\r\n                        <Label>Verified by Admin (can revoke only)</Label>\r\n                        <Switch\r\n                          checked={selectedItem.verified_by_admin || false}\r\n                          onCheckedChange={(checked) => setSelectedItem({...selectedItem, verified_by_admin: checked})}\r\n                        />\r\n                      </div>\r\n                    )}\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <Label>Status (Active)</Label>\r\n                      <Switch\r\n                        checked={selectedItem.status !== undefined ? selectedItem.status : true}\r\n                        onCheckedChange={(checked) => setSelectedItem({...selectedItem, status: checked})}\r\n                      />\r\n                    </div>\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <Label>Is Locked</Label>\r\n                      <Switch\r\n                        checked={selectedItem.is_locked || false}\r\n                        onCheckedChange={(checked) => setSelectedItem({...selectedItem, is_locked: checked})}\r\n                      />\r\n                    </div>\r\n                    <div className=\"flex items-center justify-between\">\r\n                      <Label>Update Access (Allow Profile Updates)</Label>\r\n                      <Switch\r\n                        checked={selectedItem.update_access !== undefined ? selectedItem.update_access : true}\r\n                        onCheckedChange={(checked) => setSelectedItem({...selectedItem, update_access: checked})}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  {/* App Fees Management for Agents */}\r\n                  {(selectedItem.role === 'agency' || selectedItem.role === 'agent') && (\r\n                    <div className=\"border-t pt-4 space-y-3\">\r\n                      <div className=\"flex items-center justify-between mb-2\">\r\n                        <Label className=\"text-sm font-semibold\">App Fees Management</Label>\r\n                        <Button\r\n                          variant=\"outline\"\r\n                          size=\"sm\"\r\n                          onClick={async () => {\r\n                            await fetchAgentAppFeesBalance(selectedItem.id);\r\n                          }}\r\n                        >\r\n                          <RefreshCw className=\"w-4 h-4 mr-1\" />\r\n                          Refresh Balance\r\n                        </Button>\r\n                      </div>\r\n                      {appFeesData[selectedItem.id] ? (\r\n                        <div className=\"space-y-2 p-3 bg-gray-50 dark:bg-gray-800 rounded-md\">\r\n                          <div className=\"flex justify-between\">\r\n                            <span className=\"text-sm\">Current App Fees %:</span>\r\n                            <span className=\"font-semibold\">{appFeesData[selectedItem.id].app_fees_percentage || 0}%</span>\r\n                          </div>\r\n                          <div className=\"flex justify-between\">\r\n                            <span className=\"text-sm\">Total Balance:</span>\r\n                            <span className=\"font-semibold\">${appFeesData[selectedItem.id].total_balance || 0}</span>\r\n                          </div>\r\n                          <div className=\"flex justify-between\">\r\n                            <span className=\"text-sm\">Paid Amount:</span>\r\n                            <span className=\"text-green-600\">${appFeesData[selectedItem.id].breakdown?.paid_amount || 0}</span>\r\n                          </div>\r\n                          <div className=\"flex justify-between\">\r\n                            <span className=\"text-sm\">Remaining Balance:</span>\r\n                            <span className=\"text-orange-600\">${appFeesData[selectedItem.id].breakdown?.remaining_balance || 0}</span>\r\n                          </div>\r\n                        </div>\r\n                      ) : (\r\n                        <p className=\"text-sm text-gray-500\">Click \"Refresh Balance\" to load app fees data</p>\r\n                      )}\r\n                      <div className=\"space-y-2\">\r\n                        <Label>Update App Fees Percentage</Label>\r\n                        <div className=\"flex gap-2\">\r\n                          <Input\r\n                            type=\"number\"\r\n                            step=\"0.01\"\r\n                            min=\"0\"\r\n                            max=\"100\"\r\n                            placeholder=\"e.g., 10.00\"\r\n                            defaultValue={appFeesData[selectedItem.id]?.app_fees_percentage || ''}\r\n                            onChange={(e) => {\r\n                              const value = parseFloat(e.target.value);\r\n                              if (!isNaN(value) && value >= 0 && value <= 100) {\r\n                                setSelectedItem({\r\n                                  ...selectedItem,\r\n                                  app_fees_percentage: value\r\n                                });\r\n                              }\r\n                            }}\r\n                          />\r\n                          <Button\r\n                            onClick={() => {\r\n                              if (selectedItem.app_fees_percentage !== undefined) {\r\n                                updateAgentAppFeesPercentage(selectedItem.id, selectedItem.app_fees_percentage);\r\n                              } else {\r\n                                toast.error('Please enter a valid app fees percentage');\r\n                              }\r\n                            }}\r\n                            variant=\"outline\"\r\n                          >\r\n                            Update %\r\n                          </Button>\r\n                        </div>\r\n                        <p className=\"text-xs text-gray-500\">Enter percentage (0-100), e.g., 10.00 for 10%</p>\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                  <div className=\"flex gap-2 pt-4\">\r\n                    <Button onClick={() => updateUser(selectedItem.id, {\r\n                      verified_by_admin: selectedItem.verified_by_admin,\r\n                      status: selectedItem.status,\r\n                      is_locked: selectedItem.is_locked,\r\n                      update_access: selectedItem.update_access !== undefined ? selectedItem.update_access : true\r\n                    })} className=\"flex-1\">\r\n                      Update User\r\n                    </Button>\r\n                    <Button variant=\"outline\" onClick={() => setModalOpen(false)}>\r\n                      Cancel\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* View Car Details Modal */}\r\n              {modalType === 'view-car' && selectedItem && (\r\n                <div className=\"space-y-4 max-h-[70vh] overflow-y-auto\">\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">ID</Label>\r\n                      <p className=\"text-sm\">{selectedItem.id}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Make</Label>\r\n                      <p className=\"text-sm\">{selectedItem.make || 'N/A'}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Model</Label>\r\n                      <p className=\"text-sm\">{selectedItem.model || 'N/A'}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Year</Label>\r\n                      <p className=\"text-sm\">{selectedItem.year || 'N/A'}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">License Plate</Label>\r\n                      <p className=\"text-sm\">{selectedItem.license_plate || 'N/A'}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Color</Label>\r\n                      <p className=\"text-sm\">{selectedItem.color || 'N/A'}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Mileage</Label>\r\n                      <p className=\"text-sm\">{selectedItem.mileage?.toLocaleString() || 'N/A'}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Fuel Type</Label>\r\n                      <p className=\"text-sm\">{selectedItem.fuel_type || 'N/A'}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Transmission</Label>\r\n                      <p className=\"text-sm\">{selectedItem.transmission || 'N/A'}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Wheels Drive</Label>\r\n                      <p className=\"text-sm\">{selectedItem.wheels_drive || 'N/A'}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Category</Label>\r\n                      <p className=\"text-sm\">{selectedItem.car_category || 'N/A'}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Seats</Label>\r\n                      <p className=\"text-sm\">{selectedItem.seats || 'N/A'}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Doors</Label>\r\n                      <p className=\"text-sm\">{selectedItem.doors || 'N/A'}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Daily Rate</Label>\r\n                      <p className=\"text-sm\">${selectedItem.daily_rate || '0.00'}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Holiday Rate</Label>\r\n                      <p className=\"text-sm\">${selectedItem.holiday_rate || 'N/A'}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Status</Label>\r\n                      <Badge variant=\"outline\">{selectedItem.status || 'N/A'}</Badge>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Car Accepted</Label>\r\n                      <Badge variant={selectedItem.car_accepted ? \"default\" : \"secondary\"}>\r\n                        {selectedItem.car_accepted ? 'Yes' : 'No'}\r\n                      </Badge>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">With Driver</Label>\r\n                      <Badge variant={selectedItem.with_driver ? \"default\" : \"secondary\"}>\r\n                        {selectedItem.with_driver ? 'Yes' : 'No'}\r\n                      </Badge>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Is Delivered</Label>\r\n                      <Badge variant={selectedItem.is_delivered ? \"default\" : \"secondary\"}>\r\n                        {selectedItem.is_delivered ? 'Yes' : 'No'}\r\n                      </Badge>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Min Rental Days</Label>\r\n                      <p className=\"text-sm\">{selectedItem.min_rental_days || 'N/A'}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Views Count</Label>\r\n                      <p className=\"text-sm\">{selectedItem.views_count || 0}</p>\r\n                    </div>\r\n                  </div>\r\n                  {selectedItem.features && selectedItem.features.length > 0 && (\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Features</Label>\r\n                      <div className=\"flex flex-wrap gap-2 mt-1\">\r\n                        {selectedItem.features.map((feature, idx) => (\r\n                          <Badge key={idx} variant=\"outline\">{feature}</Badge>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                  {selectedItem.car_add_on && selectedItem.car_add_on.length > 0 && (\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Add-ons</Label>\r\n                      <div className=\"flex flex-wrap gap-2 mt-1\">\r\n                        {selectedItem.car_add_on.map((addon, idx) => (\r\n                          <Badge key={idx} variant=\"outline\">{addon}</Badge>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                  {selectedItem.notes && (\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Notes</Label>\r\n                      <p className=\"text-sm whitespace-pre-wrap\">{selectedItem.notes}</p>\r\n                    </div>\r\n                  )}\r\n                  {selectedItem.agent && (\r\n                    <div className=\"border-t pt-4\">\r\n                      <Label className=\"text-sm font-semibold mb-2 block\">Agent</Label>\r\n                      <p className=\"text-sm\">{selectedItem.agent.username || selectedItem.agent.first_name} {selectedItem.agent.last_name}</p>\r\n                      <p className=\"text-xs text-gray-500\">{selectedItem.agent.phone_number}</p>\r\n                    </div>\r\n                  )}\r\n                  <div className=\"flex gap-2 pt-4\">\r\n                    <Button onClick={() => {\r\n                      setModalType('edit-car');\r\n                    }} className=\"flex-1\">\r\n                      Edit Car\r\n                    </Button>\r\n                    <Button variant=\"outline\" onClick={() => setModalOpen(false)}>\r\n                      Close\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Edit Car Modal */}\r\n              {modalType === 'edit-car' && selectedItem && (\r\n                <div className=\"space-y-4 max-h-[70vh] overflow-y-auto\">\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div>\r\n                      <Label>ID</Label>\r\n                      <Input value={selectedItem.id || ''} disabled />\r\n                    </div>\r\n                    <div>\r\n                      <Label>Make</Label>\r\n                      <Input value={selectedItem.make || ''} disabled />\r\n                    </div>\r\n                    <div>\r\n                      <Label>Model</Label>\r\n                      <Input value={selectedItem.model || ''} disabled />\r\n                    </div>\r\n                    <div>\r\n                      <Label>Year</Label>\r\n                      <Input value={selectedItem.year || ''} disabled />\r\n                    </div>\r\n                    <div>\r\n                      <Label>License Plate</Label>\r\n                      <Input value={selectedItem.license_plate || ''} disabled />\r\n                    </div>\r\n                    <div>\r\n                      <Label>Color</Label>\r\n                      <Input value={selectedItem.color || ''} disabled />\r\n                    </div>\r\n                    <div>\r\n                      <Label>Mileage</Label>\r\n                      <Input value={selectedItem.mileage?.toLocaleString() || ''} disabled />\r\n                    </div>\r\n                    <div>\r\n                      <Label>Fuel Type</Label>\r\n                      <Input value={selectedItem.fuel_type || ''} disabled />\r\n                    </div>\r\n                    <div>\r\n                      <Label>Transmission</Label>\r\n                      <Input value={selectedItem.transmission || ''} disabled />\r\n                    </div>\r\n                    <div>\r\n                      <Label>Wheels Drive</Label>\r\n                      <Input value={selectedItem.wheels_drive || ''} disabled />\r\n                    </div>\r\n                    <div>\r\n                      <Label>Category</Label>\r\n                      <Input value={selectedItem.car_category || ''} disabled />\r\n                    </div>\r\n                    <div>\r\n                      <Label>Seats</Label>\r\n                      <Input value={selectedItem.seats || ''} disabled />\r\n                    </div>\r\n                    <div>\r\n                      <Label>Doors</Label>\r\n                      <Input value={selectedItem.doors || ''} disabled />\r\n                    </div>\r\n                    <div>\r\n                      <Label>Daily Rate</Label>\r\n                      <Input value={`$${selectedItem.daily_rate || '0.00'}`} disabled />\r\n                    </div>\r\n                    <div>\r\n                      <Label>Holiday Rate</Label>\r\n                      <Input value={`$${selectedItem.holiday_rate || 'N/A'}`} disabled />\r\n                    </div>\r\n                    <div>\r\n                      <Label>Min Rental Days</Label>\r\n                      <Input value={selectedItem.min_rental_days || ''} disabled />\r\n                    </div>\r\n                    <div>\r\n                      <Label>Views Count</Label>\r\n                      <Input value={selectedItem.views_count || 0} disabled />\r\n                    </div>\r\n                  </div>\r\n                  {selectedItem.features && selectedItem.features.length > 0 && (\r\n                    <div>\r\n                      <Label>Features</Label>\r\n                      <div className=\"flex flex-wrap gap-2 mt-1\">\r\n                        {selectedItem.features.map((feature, idx) => (\r\n                          <Badge key={idx} variant=\"outline\">{feature}</Badge>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                  {selectedItem.car_add_on && selectedItem.car_add_on.length > 0 && (\r\n                    <div>\r\n                      <Label>Add-ons</Label>\r\n                      <div className=\"flex flex-wrap gap-2 mt-1\">\r\n                        {selectedItem.car_add_on.map((addon, idx) => (\r\n                          <Badge key={idx} variant=\"outline\">{addon}</Badge>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                  \r\n                  {/* Car Images Section */}\r\n                  <div className=\"border-t pt-4\">\r\n                    <Label className=\"text-sm font-semibold block mb-3\">Car Images</Label>\r\n                    <div className=\"grid grid-cols-2 gap-4\">\r\n                      {/* Main Image */}\r\n                      <div>\r\n                        <Label>Main Image</Label>\r\n                        {selectedItem.main_image_url && (\r\n                          <div className=\"mb-2\">\r\n                            <img \r\n                              src={`/api/storage/${selectedItem.main_image_url}`} \r\n                              alt=\"Main\" \r\n                              className=\"w-full h-32 object-cover rounded-lg border\"\r\n                            />\r\n                          </div>\r\n                        )}\r\n                        <Input\r\n                          type=\"file\"\r\n                          accept=\"image/*\"\r\n                          onChange={(e) => handleCarImageChange(selectedItem.id, 'main_image', e.target.files[0])}\r\n                          className=\"mt-1\"\r\n                        />\r\n                      </div>\r\n                      \r\n                      {/* Front Image */}\r\n                      <div>\r\n                        <Label>Front Image</Label>\r\n                        {selectedItem.front_image_url && (\r\n                          <div className=\"mb-2\">\r\n                            <img \r\n                              src={`/api/storage/${selectedItem.front_image_url}`} \r\n                              alt=\"Front\" \r\n                              className=\"w-full h-32 object-cover rounded-lg border\"\r\n                            />\r\n                          </div>\r\n                        )}\r\n                        <Input\r\n                          type=\"file\"\r\n                          accept=\"image/*\"\r\n                          onChange={(e) => handleCarImageChange(selectedItem.id, 'front_image', e.target.files[0])}\r\n                          className=\"mt-1\"\r\n                        />\r\n                      </div>\r\n                      \r\n                      {/* Back Image */}\r\n                      <div>\r\n                        <Label>Back Image</Label>\r\n                        {selectedItem.back_image_url && (\r\n                          <div className=\"mb-2\">\r\n                            <img \r\n                              src={`/api/storage/${selectedItem.back_image_url}`} \r\n                              alt=\"Back\" \r\n                              className=\"w-full h-32 object-cover rounded-lg border\"\r\n                            />\r\n                          </div>\r\n                        )}\r\n                        <Input\r\n                          type=\"file\"\r\n                          accept=\"image/*\"\r\n                          onChange={(e) => handleCarImageChange(selectedItem.id, 'back_image', e.target.files[0])}\r\n                          className=\"mt-1\"\r\n                        />\r\n                      </div>\r\n                      \r\n                      {/* Left Image */}\r\n                      <div>\r\n                        <Label>Left Image</Label>\r\n                        {selectedItem.left_image_url && (\r\n                          <div className=\"mb-2\">\r\n                            <img \r\n                              src={`/api/storage/${selectedItem.left_image_url}`} \r\n                              alt=\"Left\" \r\n                              className=\"w-full h-32 object-cover rounded-lg border\"\r\n                            />\r\n                          </div>\r\n                        )}\r\n                        <Input\r\n                          type=\"file\"\r\n                          accept=\"image/*\"\r\n                          onChange={(e) => handleCarImageChange(selectedItem.id, 'left_image', e.target.files[0])}\r\n                          className=\"mt-1\"\r\n                        />\r\n                      </div>\r\n                      \r\n                      {/* Right Image */}\r\n                      <div>\r\n                        <Label>Right Image</Label>\r\n                        {selectedItem.right_image_url && (\r\n                          <div className=\"mb-2\">\r\n                            <img \r\n                              src={`/api/storage/${selectedItem.right_image_url}`} \r\n                              alt=\"Right\" \r\n                              className=\"w-full h-32 object-cover rounded-lg border\"\r\n                            />\r\n                          </div>\r\n                        )}\r\n                        <Input\r\n                          type=\"file\"\r\n                          accept=\"image/*\"\r\n                          onChange={(e) => handleCarImageChange(selectedItem.id, 'right_image', e.target.files[0])}\r\n                          className=\"mt-1\"\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  \r\n                  <div className=\"border-t pt-4\">\r\n                    <Label className=\"text-sm font-semibold block mb-3\">Editable Fields</Label>\r\n                    <div>\r\n                      <Label>Status</Label>\r\n                      <Select\r\n                        value={selectedItem.status || ''}\r\n                        onValueChange={(value) => setSelectedItem({...selectedItem, status: value})}\r\n                      >\r\n                        <SelectTrigger>\r\n                          <SelectValue />\r\n                        </SelectTrigger>\r\n                        <SelectContent>\r\n                          <SelectItem value=\"available\">Available</SelectItem>\r\n                          <SelectItem value=\"rented\">Rented</SelectItem>\r\n                          <SelectItem value=\"maintenance\">Maintenance</SelectItem>\r\n                          <SelectItem value=\"unavailable\">Unavailable</SelectItem>\r\n                        </SelectContent>\r\n                      </Select>\r\n                    </div>\r\n                    <div className=\"mt-3\">\r\n                      <Label>Notes</Label>\r\n                      <Textarea\r\n                        value={selectedItem.notes || ''}\r\n                        onChange={(e) => setSelectedItem({...selectedItem, notes: e.target.value})}\r\n                        rows={4}\r\n                      />\r\n                    </div>\r\n                    <div className=\"mt-3 flex items-center justify-between\">\r\n                      <Label>Car Accepted</Label>\r\n                      <Switch\r\n                        checked={selectedItem.car_accepted || false}\r\n                        onCheckedChange={(checked) => setSelectedItem({...selectedItem, car_accepted: checked})}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex gap-2 pt-4\">\r\n                    <Button onClick={() => updateCar(selectedItem.id, {\r\n                      status: selectedItem.status,\r\n                      car_accepted: selectedItem.car_accepted,\r\n                      notes: selectedItem.notes\r\n                    })} className=\"flex-1\" disabled={loading}>\r\n                      Update Car\r\n                    </Button>\r\n                    <Button variant=\"outline\" onClick={() => setModalOpen(false)}>\r\n                      Cancel\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* View Booking Details Modal */}\r\n              {modalType === 'view-booking' && selectedItem && (\r\n                <div className=\"space-y-4 max-h-[70vh] overflow-y-auto\">\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Booking ID</Label>\r\n                      <p className=\"text-sm\">{selectedItem.id}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Client</Label>\r\n                      <p className=\"text-sm\">\r\n                        {selectedItem.client?.first_name && selectedItem.client?.last_name\r\n                          ? `${selectedItem.client.first_name} ${selectedItem.client.last_name}`\r\n                          : selectedItem.client?.username || 'N/A'}\r\n                      </p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Car</Label>\r\n                      <p className=\"text-sm\">{selectedItem.car?.make} {selectedItem.car?.model} ({selectedItem.car?.year})</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Agent</Label>\r\n                      <p className=\"text-sm\">\r\n                        {selectedItem.car?.agent?.username || selectedItem.car?.agent?.first_name || 'N/A'}\r\n                      </p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Start Date</Label>\r\n                      <p className=\"text-sm\">{new Date(selectedItem.start_datetime).toLocaleString()}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">End Date</Label>\r\n                      <p className=\"text-sm\">{new Date(selectedItem.end_datetime).toLocaleString()}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Total Price</Label>\r\n                      <p className=\"text-sm font-semibold\">${selectedItem.total_booking_price || '0.00'}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Booking Status</Label>\r\n                      <Badge variant=\"outline\">{selectedItem.booking_request_status || 'N/A'}</Badge>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Payment Status</Label>\r\n                      <Badge variant={selectedItem.payment_status === 'paid' ? \"default\" : \"secondary\"}>\r\n                        {selectedItem.payment_status || 'N/A'}\r\n                      </Badge>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Payment Method</Label>\r\n                      <p className=\"text-sm\">{selectedItem.payment_method || 'N/A'}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Is Paid Online</Label>\r\n                      <Badge variant={selectedItem.is_paid_online ? \"default\" : \"secondary\"}>\r\n                        {selectedItem.is_paid_online ? 'Yes' : 'No'}\r\n                      </Badge>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Is Delivered</Label>\r\n                      <Badge variant={selectedItem.is_delivered ? \"default\" : \"secondary\"}>\r\n                        {selectedItem.is_delivered ? 'Yes' : 'No'}\r\n                      </Badge>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Pickup Location</Label>\r\n                      <p className=\"text-sm\">{selectedItem.pickup_location || 'N/A'}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Dropoff Location</Label>\r\n                      <p className=\"text-sm\">{selectedItem.dropoff_location || 'N/A'}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Reason of Booking</Label>\r\n                      <p className=\"text-sm\">{selectedItem.reason_of_booking || 'N/A'}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Extra Charge</Label>\r\n                      <p className=\"text-sm\">${selectedItem.extra_charge || '0.00'}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Cancellation Date</Label>\r\n                      <p className=\"text-sm\">{selectedItem.cancelation_date ? new Date(selectedItem.cancelation_date).toLocaleString() : 'N/A'}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Cancellation Reason</Label>\r\n                      <p className=\"text-sm\">{selectedItem.cancelation_reason || 'N/A'}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Created At</Label>\r\n                      <p className=\"text-sm\">{new Date(selectedItem.created_at).toLocaleString()}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Updated At</Label>\r\n                      <p className=\"text-sm\">{new Date(selectedItem.updated_at).toLocaleString()}</p>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex gap-2 pt-4\">\r\n                    <Button onClick={() => {\r\n                      setModalType('edit-booking');\r\n                    }} className=\"flex-1\">\r\n                      Edit Booking\r\n                    </Button>\r\n                    <Button variant=\"outline\" onClick={() => setModalOpen(false)}>\r\n                      Close\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Edit Booking Modal */}\r\n              {modalType === 'edit-booking' && selectedItem && (\r\n                <div className=\"space-y-4 max-h-[70vh] overflow-y-auto\">\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div>\r\n                      <Label>Booking ID</Label>\r\n                      <Input value={selectedItem.id || ''} disabled />\r\n                    </div>\r\n                    <div>\r\n                      <Label>Client</Label>\r\n                      <Input\r\n                        value={\r\n                          selectedItem.client?.first_name && selectedItem.client?.last_name\r\n                            ? `${selectedItem.client.first_name} ${selectedItem.client.last_name}`\r\n                            : selectedItem.client?.username || 'N/A'\r\n                        }\r\n                        disabled\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <Label>Car</Label>\r\n                      <Input\r\n                        value={`${selectedItem.car?.make || ''} ${selectedItem.car?.model || ''} (${selectedItem.car?.year || ''})`}\r\n                        disabled\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <Label>Start Date & Time</Label>\r\n                      <Input\r\n                        value={new Date(selectedItem.start_datetime).toLocaleString()}\r\n                        disabled\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <Label>End Date & Time</Label>\r\n                      <Input\r\n                        value={new Date(selectedItem.end_datetime).toLocaleString()}\r\n                        disabled\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <Label>Payment Status</Label>\r\n                      <Input value={selectedItem.payment_status || 'N/A'} disabled />\r\n                    </div>\r\n                    <div>\r\n                      <Label>Payment Method</Label>\r\n                      <Input value={selectedItem.payment_method || 'N/A'} disabled />\r\n                    </div>\r\n                    <div>\r\n                      <Label>Is Paid Online</Label>\r\n                      <Input value={selectedItem.is_paid_online ? 'Yes' : 'No'} disabled />\r\n                    </div>\r\n                    <div>\r\n                      <Label>Is Delivered</Label>\r\n                      <Input value={selectedItem.is_delivered ? 'Yes' : 'No'} disabled />\r\n                    </div>\r\n                    <div>\r\n                      <Label>Pickup Location</Label>\r\n                      <Input value={selectedItem.pickup_location || 'N/A'} disabled />\r\n                    </div>\r\n                    <div>\r\n                      <Label>Dropoff Location</Label>\r\n                      <Input value={selectedItem.dropoff_location || 'N/A'} disabled />\r\n                    </div>\r\n                    <div>\r\n                      <Label>Reason of Booking</Label>\r\n                      <Input value={selectedItem.reason_of_booking || 'N/A'} disabled />\r\n                    </div>\r\n                    <div>\r\n                      <Label>Extra Charge</Label>\r\n                      <Input value={`$${selectedItem.extra_charge || '0.00'}`} disabled />\r\n                    </div>\r\n                    <div>\r\n                      <Label>Cancellation Date</Label>\r\n                      <Input\r\n                        value={selectedItem.cancelation_date ? new Date(selectedItem.cancelation_date).toLocaleString() : 'N/A'}\r\n                        disabled\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <Label>Cancellation Reason</Label>\r\n                      <Input value={selectedItem.cancelation_reason || 'N/A'} disabled />\r\n                    </div>\r\n                    <div>\r\n                      <Label>Created At</Label>\r\n                      <Input value={new Date(selectedItem.created_at).toLocaleString()} disabled />\r\n                    </div>\r\n                    <div>\r\n                      <Label>Updated At</Label>\r\n                      <Input value={new Date(selectedItem.updated_at).toLocaleString()} disabled />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"border-t pt-4\">\r\n                    <Label className=\"text-sm font-semibold block mb-3\">Editable Fields</Label>\r\n                    <div className=\"grid grid-cols-2 gap-4\">\r\n                      <div>\r\n                        <Label>Booking Status</Label>\r\n                        <Select\r\n                          value={selectedItem.booking_request_status || ''}\r\n                          onValueChange={(value) => setSelectedItem({...selectedItem, booking_request_status: value})}\r\n                        >\r\n                          <SelectTrigger>\r\n                            <SelectValue />\r\n                          </SelectTrigger>\r\n                          <SelectContent>\r\n                            <SelectItem value=\"pending\">Pending</SelectItem>\r\n                            <SelectItem value=\"confirmed\">Confirmed</SelectItem>\r\n                            <SelectItem value=\"cancelled\">Cancelled</SelectItem>\r\n                            <SelectItem value=\"completed\">Completed</SelectItem>\r\n                            <SelectItem value=\"rejected\">Rejected</SelectItem>\r\n                          </SelectContent>\r\n                        </Select>\r\n                      </div>\r\n                      <div>\r\n                        <Label>Total Booking Price</Label>\r\n                        <Input\r\n                          type=\"number\"\r\n                          step=\"0.01\"\r\n                          value={selectedItem.total_booking_price || ''}\r\n                          onChange={(e) => setSelectedItem({...selectedItem, total_booking_price: e.target.value})}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex gap-2 pt-4\">\r\n                    <Button onClick={() => updateBooking(selectedItem.id, {\r\n                      booking_request_status: selectedItem.booking_request_status,\r\n                      total_booking_price: selectedItem.total_booking_price\r\n                    })} className=\"flex-1\">\r\n                      Update Booking\r\n                    </Button>\r\n                    <Button variant=\"outline\" onClick={() => setModalOpen(false)}>\r\n                      Cancel\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Create/Edit Announcement Modal */}\r\n              {(modalType === 'create-announcement' || modalType === 'edit-announcement') && (\r\n                <AnnouncementForm\r\n                  announcement={selectedItem}\r\n                  onSubmit={(data) => {\r\n                    if (modalType === 'create-announcement') {\r\n                      createAnnouncement(data);\r\n                    } else {\r\n                      updateAnnouncement(selectedItem.id, data);\r\n                    }\r\n                  }}\r\n                />\r\n              )}\r\n\r\n              {/* Edit Appeal Modal */}\r\n              {modalType === 'edit-appeal' && selectedItem && (\r\n                <div className=\"space-y-4\">\r\n                  <div>\r\n                    <Label>Status</Label>\r\n                    <Select\r\n                      value={selectedItem.status}\r\n                      onValueChange={(value) => setSelectedItem({...selectedItem, status: value})}\r\n                    >\r\n                      <SelectTrigger>\r\n                        <SelectValue />\r\n                      </SelectTrigger>\r\n                      <SelectContent>\r\n                        <SelectItem value=\"submitted\">Submitted</SelectItem>\r\n                        <SelectItem value=\"under_review\">Under Review</SelectItem>\r\n                        <SelectItem value=\"resolved\">Resolved</SelectItem>\r\n                        <SelectItem value=\"rejected\">Rejected</SelectItem>\r\n                        <SelectItem value=\"escalated\">Escalated</SelectItem>\r\n                      </SelectContent>\r\n                    </Select>\r\n                  </div>\r\n                  <div>\r\n                    <Label>Priority</Label>\r\n                    <Select\r\n                      value={selectedItem.priority}\r\n                      onValueChange={(value) => setSelectedItem({...selectedItem, priority: value})}\r\n                    >\r\n                      <SelectTrigger>\r\n                        <SelectValue />\r\n                      </SelectTrigger>\r\n                      <SelectContent>\r\n                        <SelectItem value=\"low\">Low</SelectItem>\r\n                        <SelectItem value=\"medium\">Medium</SelectItem>\r\n                        <SelectItem value=\"high\">High</SelectItem>\r\n                        <SelectItem value=\"urgent\">Urgent</SelectItem>\r\n                      </SelectContent>\r\n                    </Select>\r\n                  </div>\r\n                  <div>\r\n                    <Label>Response</Label>\r\n                    <Textarea\r\n                      value={selectedItem.response || ''}\r\n                      onChange={(e) => setSelectedItem({...selectedItem, response: e.target.value})}\r\n                    />\r\n                  </div>\r\n                  <Button onClick={() => updateAppeal(selectedItem.id, {\r\n                    status: selectedItem.status,\r\n                    priority: selectedItem.priority,\r\n                    response: selectedItem.response\r\n                  })}>\r\n                    Update Appeal\r\n                  </Button>\r\n                </div>\r\n              )}\r\n\r\n              {/* Edit Ad Modal */}\r\n              {modalType === 'edit-ad' && selectedItem && (\r\n                <div className=\"space-y-4\">\r\n                  <div>\r\n                    <Label>Online</Label>\r\n                    <Switch\r\n                      checked={selectedItem.online}\r\n                      onCheckedChange={(checked) => setSelectedItem({...selectedItem, online: checked})}\r\n                    />\r\n                  </div>\r\n                  <Button onClick={() => updateAd(selectedItem.id, {\r\n                    online: selectedItem.online\r\n                  })}>\r\n                    Update Ad\r\n                  </Button>\r\n                </div>\r\n              )}\r\n\r\n              {/* Edit Suggestion Modal */}\r\n              {modalType === 'edit-suggestion' && selectedItem && (\r\n                <div className=\"space-y-4\">\r\n                  <div>\r\n                    <Label>Status</Label>\r\n                    <Select\r\n                      value={selectedItem.status}\r\n                      onValueChange={(value) => setSelectedItem({...selectedItem, status: value})}\r\n                    >\r\n                      <SelectTrigger>\r\n                        <SelectValue />\r\n                      </SelectTrigger>\r\n                      <SelectContent>\r\n                        <SelectItem value=\"pending\">Pending</SelectItem>\r\n                        <SelectItem value=\"received\">Received</SelectItem>\r\n                        <SelectItem value=\"implemented\">Implemented</SelectItem>\r\n                        <SelectItem value=\"rejected\">Rejected</SelectItem>\r\n                      </SelectContent>\r\n                    </Select>\r\n                  </div>\r\n                  <Button onClick={() => updateSuggestion(selectedItem.id, {\r\n                    status: selectedItem.status\r\n                  })}>\r\n                    Update Suggestion\r\n                  </Button>\r\n                </div>\r\n              )}\r\n\r\n              {/* Send Notification Modal */}\r\n              {modalType === 'send-notification' && (\r\n                <NotificationForm\r\n                  onSubmit={(data) => sendNotificationToAll(data)}\r\n                />\r\n              )}\r\n\r\n              {/* Create/Edit Holiday Modal */}\r\n              {(modalType === 'create-holiday' || modalType === 'edit-holiday') && (\r\n                <HolidayForm\r\n                  holiday={selectedItem}\r\n                  onSubmit={(data) => {\r\n                    if (modalType === 'create-holiday') {\r\n                      createHoliday(data);\r\n                    } else {\r\n                      updateHoliday(selectedItem.id, data);\r\n                    }\r\n                  }}\r\n                />\r\n              )}\r\n\r\n              {/* Create Ad Modal */}\r\n              {modalType === 'create-ad' && (\r\n                <AdForm\r\n                  onSubmit={createAdHandler}\r\n                  loading={loading}\r\n                />\r\n              )}\r\n\r\n              {/* Create Payment/Invoice Modal */}\r\n              {modalType === 'create-payment' && (\r\n                <PaymentForm\r\n                  onSubmit={createPaymentHandler}\r\n                  loading={loading}\r\n                />\r\n              )}\r\n\r\n              {/* Create Featured Car Modal */}\r\n              {modalType === 'create-featured-car' && (\r\n                <FeaturedCarForm\r\n                  onSubmit={createFeaturedCarHandler}\r\n                  loading={loading}\r\n                />\r\n              )}\r\n\r\n              {/* View Service Modal */}\r\n              {modalType === 'view-service' && selectedItem && (\r\n                <div className=\"space-y-4 max-h-[70vh] overflow-y-auto\">\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">ID</Label>\r\n                      <p className=\"text-sm\">{selectedItem.id}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Name</Label>\r\n                      <p className=\"text-sm\">{selectedItem.name || 'N/A'}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Category</Label>\r\n                      <p className=\"text-sm\">{selectedItem.category || 'N/A'}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Price</Label>\r\n                      <p className=\"text-sm\">${selectedItem.price?.toFixed(2) || '0.00'}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Rating</Label>\r\n                      <p className=\"text-sm\">{selectedItem.rating?.toFixed(1) || 'N/A'}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Featured</Label>\r\n                      <Badge variant={selectedItem.featured ? \"default\" : \"secondary\"}>\r\n                        {selectedItem.featured ? 'Yes' : 'No'}\r\n                      </Badge>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">City</Label>\r\n                      <p className=\"text-sm\">{selectedItem.city || 'N/A'}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Clicks</Label>\r\n                      <p className=\"text-sm\">{selectedItem.clicks || 0}</p>\r\n                    </div>\r\n                  </div>\r\n                  <div>\r\n                    <Label className=\"text-sm font-semibold\">Description</Label>\r\n                    <p className=\"text-sm\">{selectedItem.description || 'N/A'}</p>\r\n                  </div>\r\n                  {selectedItem.images && selectedItem.images.length > 0 && (\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Images</Label>\r\n                      <div className=\"flex flex-wrap gap-2 mt-2\">\r\n                        {selectedItem.images.map((img, idx) => (\r\n                          <img key={idx} src={img} alt={`Service ${idx + 1}`} className=\"w-20 h-20 object-cover rounded\" />\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                  <div className=\"flex gap-2 pt-4\">\r\n                    <Button onClick={() => setModalType('edit-service')} className=\"flex-1\">\r\n                      Edit Service\r\n                    </Button>\r\n                    <Button variant=\"outline\" onClick={() => setModalOpen(false)}>\r\n                      Close\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Create/Edit Service Modal */}\r\n              {(modalType === 'create-service' || modalType === 'edit-service') && (\r\n                <ServiceForm\r\n                  service={modalType === 'edit-service' ? selectedItem : null}\r\n                  thirdParties={thirdParties}\r\n                  onSubmit={(data) => {\r\n                    if (modalType === 'edit-service' && selectedItem) {\r\n                      handleUpdateService(selectedItem.id, data);\r\n                    } else {\r\n                      handleCreateService(data);\r\n                    }\r\n                  }}\r\n                />\r\n              )}\r\n\r\n              {/* Create Broker Payout Modal */}\r\n              {modalType === 'create-broker-payout' && (\r\n                <div className=\"space-y-4\">\r\n                  <p className=\"text-sm text-muted-foreground\">\r\n                    Record a payment to a broker. Amount will be allocated to pending commissions (FIFO).\r\n                  </p>\r\n                  <div className=\"grid grid-cols-1 gap-4\">\r\n                    <div>\r\n                      <Label>Broker *</Label>\r\n                      <Select\r\n                        value={payoutForm.broker_id || 'select'}\r\n                        onValueChange={(v) => setPayoutForm((prev) => ({ ...prev, broker_id: v }))}\r\n                        disabled={!!selectedBroker?.id}\r\n                      >\r\n                        <SelectTrigger>\r\n                          <SelectValue placeholder=\"Select broker\" />\r\n                        </SelectTrigger>\r\n                        <SelectContent>\r\n                          <SelectItem value=\"select\">Select broker</SelectItem>\r\n                          {(Array.isArray(brokers) ? brokers : []).map((b) => (\r\n                            <SelectItem key={b.id} value={String(b.id)}>\r\n                              {b.username || `${b.first_name || ''} ${b.last_name || ''}` || `Broker #${b.id}`}\r\n                            </SelectItem>\r\n                          ))}\r\n                        </SelectContent>\r\n                      </Select>\r\n                    </div>\r\n                    <div>\r\n                      <Label>Amount *</Label>\r\n                      <Input\r\n                        type=\"number\"\r\n                        min={0.01}\r\n                        step={0.01}\r\n                        value={payoutForm.amount}\r\n                        onChange={(e) => setPayoutForm((prev) => ({ ...prev, amount: e.target.value }))}\r\n                        placeholder=\"e.g. 300.00\"\r\n                      />\r\n                      {brokerBalance?.balance != null && selectedBroker && (\r\n                        <p className=\"text-xs text-muted-foreground mt-1\">Balance: ${Number(brokerBalance.balance).toFixed(2)}</p>\r\n                      )}\r\n                    </div>\r\n                    <div>\r\n                      <Label>Reference</Label>\r\n                      <Input\r\n                        value={payoutForm.reference}\r\n                        onChange={(e) => setPayoutForm((prev) => ({ ...prev, reference: e.target.value }))}\r\n                        placeholder=\"e.g. BANK-REF-123\"\r\n                        maxLength={255}\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <Label>Notes</Label>\r\n                      <Textarea\r\n                        value={payoutForm.notes}\r\n                        onChange={(e) => setPayoutForm((prev) => ({ ...prev, notes: e.target.value.slice(0, 1000) }))}\r\n                        placeholder=\"Optional notes\"\r\n                        rows={3}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex justify-end gap-2 pt-2\">\r\n                    <Button variant=\"outline\" onClick={() => setModalOpen(false)}>Cancel</Button>\r\n                    <Button onClick={handleCreateBrokerPayout} disabled={loading || !payoutForm.broker_id || payoutForm.broker_id === 'select' || !payoutForm.amount || parseFloat(payoutForm.amount) < 0.01}>\r\n                      {loading ? 'Creating...' : 'Create Payout'}\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Create Broker Modal */}\r\n              {modalType === 'create-broker' && (\r\n                <div className=\"space-y-4\">\r\n                  <p className=\"text-sm text-muted-foreground\">\r\n                    Create a new broker user (role: broker). Brokers can be assigned promo codes for the referral program.\r\n                  </p>\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                    <div>\r\n                      <Label>Username *</Label>\r\n                      <Input\r\n                        value={brokerForm.username}\r\n                        onChange={(e) => setBrokerForm((prev) => ({ ...prev, username: e.target.value }))}\r\n                        placeholder=\"broker_john\"\r\n                        maxLength={100}\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <Label>Phone number *</Label>\r\n                      <Input\r\n                        value={brokerForm.phone_number}\r\n                        onChange={(e) => setBrokerForm((prev) => ({ ...prev, phone_number: e.target.value }))}\r\n                        placeholder=\"9613123456\"\r\n                        maxLength={20}\r\n                      />\r\n                    </div>\r\n                    <div className=\"md:col-span-2\">\r\n                      <Label>Email</Label>\r\n                      <Input\r\n                        type=\"email\"\r\n                        value={brokerForm.email}\r\n                        onChange={(e) => setBrokerForm((prev) => ({ ...prev, email: e.target.value }))}\r\n                        placeholder=\"john@example.com (optional)\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <Label>Password *</Label>\r\n                      <Input\r\n                        type=\"password\"\r\n                        value={brokerForm.password}\r\n                        onChange={(e) => setBrokerForm((prev) => ({ ...prev, password: e.target.value }))}\r\n                        placeholder=\"Min 6 characters\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <Label>Confirm password *</Label>\r\n                      <Input\r\n                        type=\"password\"\r\n                        value={brokerForm.password_confirmation}\r\n                        onChange={(e) => setBrokerForm((prev) => ({ ...prev, password_confirmation: e.target.value }))}\r\n                        placeholder=\"Repeat password\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <Label>First name *</Label>\r\n                      <Input\r\n                        value={brokerForm.first_name}\r\n                        onChange={(e) => setBrokerForm((prev) => ({ ...prev, first_name: e.target.value }))}\r\n                        placeholder=\"John\"\r\n                        maxLength={100}\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <Label>Last name *</Label>\r\n                      <Input\r\n                        value={brokerForm.last_name}\r\n                        onChange={(e) => setBrokerForm((prev) => ({ ...prev, last_name: e.target.value }))}\r\n                        placeholder=\"Doe\"\r\n                        maxLength={100}\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex justify-end gap-2 pt-2\">\r\n                    <Button variant=\"outline\" onClick={() => setModalOpen(false)}>\r\n                      Cancel\r\n                    </Button>\r\n                    <Button\r\n                      onClick={handleCreateBroker}\r\n                      disabled={\r\n                        loading ||\r\n                        !brokerForm.username?.trim() ||\r\n                        !brokerForm.phone_number?.trim() ||\r\n                        !brokerForm.first_name?.trim() ||\r\n                        !brokerForm.last_name?.trim() ||\r\n                        !brokerForm.password ||\r\n                        brokerForm.password.length < 6 ||\r\n                        brokerForm.password !== brokerForm.password_confirmation\r\n                      }\r\n                    >\r\n                      {loading ? 'Creating...' : 'Create Broker'}\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Create / Edit Promo Code Modal */}\r\n              {(modalType === 'create-promo-code' || modalType === 'edit-promo-code') && (\r\n                <div className=\"space-y-4\">\r\n                  <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\r\n                    <div>\r\n                      <Label>Code</Label>\r\n                      <Input\r\n                        value={selectedItem?.code || ''}\r\n                        onChange={(e) =>\r\n                          setSelectedItem((prev) => ({ ...(prev || {}), code: e.target.value }))\r\n                        }\r\n                        placeholder=\"SAVE20\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <Label>Broker *</Label>\r\n                      <Select\r\n                        value={selectedItem?.broker_id ? String(selectedItem.broker_id) : 'select'}\r\n                        onValueChange={(val) =>\r\n                          setSelectedItem((prev) => ({\r\n                            ...(prev || {}),\r\n                            broker_id: val && val !== 'select' ? Number(val) : null\r\n                          }))\r\n                        }\r\n                      >\r\n                        <SelectTrigger>\r\n                          <SelectValue placeholder=\"Select broker\" />\r\n                        </SelectTrigger>\r\n                        <SelectContent>\r\n                          <SelectItem value=\"select\">Select broker</SelectItem>\r\n                          {(Array.isArray(brokers) ? brokers : []).map((b) => (\r\n                            <SelectItem key={b.id} value={String(b.id)}>\r\n                              {b.username || `${b.first_name || ''} ${b.last_name || ''}` || `Broker #${b.id}`}\r\n                            </SelectItem>\r\n                          ))}\r\n                        </SelectContent>\r\n                      </Select>\r\n                    </div>\r\n                    <div className=\"md:col-span-2\">\r\n                      <Label>Description</Label>\r\n                      <Textarea\r\n                        value={selectedItem?.description || ''}\r\n                        onChange={(e) =>\r\n                          setSelectedItem((prev) => ({ ...(prev || {}), description: e.target.value }))\r\n                        }\r\n                        placeholder=\"Optional description\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <Label>Max Uses</Label>\r\n                      <Input\r\n                        type=\"number\"\r\n                        min={1}\r\n                        value={selectedItem?.max_uses ?? ''}\r\n                        onChange={(e) =>\r\n                          setSelectedItem((prev) => ({\r\n                            ...(prev || {}),\r\n                            max_uses: e.target.value ? Number(e.target.value) : null\r\n                          }))\r\n                        }\r\n                        placeholder=\"Leave empty for unlimited\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <Label>Expires At</Label>\r\n                      <Input\r\n                        type=\"date\"\r\n                        value={selectedItem?.expires_at || ''}\r\n                        onChange={(e) =>\r\n                          setSelectedItem((prev) => ({ ...(prev || {}), expires_at: e.target.value }))\r\n                        }\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <Label>Commission %</Label>\r\n                      <Input\r\n                        type=\"number\"\r\n                        min={0}\r\n                        max={100}\r\n                        step={0.1}\r\n                        value={selectedItem?.commission_percentage ?? ''}\r\n                        onChange={(e) =>\r\n                          setSelectedItem((prev) => ({\r\n                            ...(prev || {}),\r\n                            commission_percentage: e.target.value ? Number(e.target.value) : null\r\n                          }))\r\n                        }\r\n                        placeholder=\"e.g. 5\"\r\n                      />\r\n                    </div>\r\n                    <div className=\"flex items-center gap-2 mt-6\">\r\n                      <Switch\r\n                        checked={selectedItem?.is_active ?? true}\r\n                        onCheckedChange={(val) =>\r\n                          setSelectedItem((prev) => ({ ...(prev || {}), is_active: val }))\r\n                        }\r\n                      />\r\n                      <span className=\"text-sm\">Active</span>\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"flex justify-end gap-2 pt-2\">\r\n                    <Button variant=\"outline\" onClick={() => setModalOpen(false)}>\r\n                      Cancel\r\n                    </Button>\r\n                    <Button\r\n                      onClick={() => {\r\n                        if (modalType === 'create-promo-code' && (!selectedItem?.code?.trim() || !selectedItem?.broker_id)) {\r\n                          toast.error('Code and Broker are required');\r\n                          return;\r\n                        }\r\n                        const payload = {\r\n                          code: selectedItem?.code?.trim(),\r\n                          broker_id: selectedItem?.broker_id || undefined,\r\n                          description: selectedItem?.description?.trim() || undefined,\r\n                          is_active: selectedItem?.is_active ?? true,\r\n                          max_uses: selectedItem?.max_uses || undefined,\r\n                          expires_at: selectedItem?.expires_at || undefined,\r\n                          commission_percentage: selectedItem?.commission_percentage\r\n                        };\r\n                        handleCreateOrUpdatePromoCode(payload, modalType === 'edit-promo-code' ? selectedItem : null);\r\n                      }}\r\n                      disabled={loading}\r\n                    >\r\n                      {loading ? 'Saving...' : 'Save'}\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* View Promo Code Users / Referrals */}\r\n              {modalType === 'view-promo-users' && selectedItem && (\r\n                <div className=\"space-y-4 max-h-[70vh] overflow-y-auto\">\r\n                  <div>\r\n                    <h3 className=\"text-lg font-semibold flex items-center gap-2\">\r\n                      <Tag className=\"w-4 h-4\" />\r\n                      Promo Code: <span className=\"font-mono\">{selectedItem.code}</span>\r\n                    </h3>\r\n                    <p className=\"text-sm text-muted-foreground\">\r\n                      Broker:{' '}\r\n                      {selectedItem.broker\r\n                        ? (selectedItem.broker.username ||\r\n                           `${selectedItem.broker.first_name || ''} ${selectedItem.broker.last_name || ''}`)\r\n                        : 'N/A'}\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"space-y-2\">\r\n                    <h4 className=\"font-semibold text-sm\">Users who used this code</h4>\r\n                    <Table>\r\n                      <TableHeader>\r\n                        <TableRow>\r\n                          <TableHead>ID</TableHead>\r\n                          <TableHead>Username</TableHead>\r\n                          <TableHead>Name</TableHead>\r\n                          <TableHead>Phone</TableHead>\r\n                          <TableHead>Email</TableHead>\r\n                          <TableHead>Referred At</TableHead>\r\n                        </TableRow>\r\n                      </TableHeader>\r\n                      <TableBody>\r\n                        {promoCodeUsers.map((u) => (\r\n                          <TableRow key={u.id}>\r\n                            <TableCell>{u.id}</TableCell>\r\n                            <TableCell>{u.username}</TableCell>\r\n                            <TableCell>\r\n                              {u.first_name || u.last_name\r\n                                ? `${u.first_name || ''} ${u.last_name || ''}`\r\n                                : 'N/A'}\r\n                            </TableCell>\r\n                            <TableCell>{u.phone_number || 'N/A'}</TableCell>\r\n                            <TableCell>{u.email || 'N/A'}</TableCell>\r\n                            <TableCell>\r\n                              {u.referred_at ? new Date(u.referred_at).toLocaleString() : 'N/A'}\r\n                            </TableCell>\r\n                          </TableRow>\r\n                        ))}\r\n                      </TableBody>\r\n                    </Table>\r\n                  </div>\r\n                  {Array.isArray(brokerReferrals) && brokerReferrals.length > 0 && (\r\n                    <div className=\"space-y-2 pt-2\">\r\n                      <h4 className=\"font-semibold text-sm\">Broker referrals (all codes)</h4>\r\n                      <Table>\r\n                        <TableHeader>\r\n                          <TableRow>\r\n                            <TableHead>ID</TableHead>\r\n                            <TableHead>Referred User</TableHead>\r\n                            <TableHead>Promo Code</TableHead>\r\n                          </TableRow>\r\n                        </TableHeader>\r\n                        <TableBody>\r\n                          {(Array.isArray(brokerReferrals) ? brokerReferrals : []).map((r) => (\r\n                            <TableRow key={r.id}>\r\n                              <TableCell>{r.id}</TableCell>\r\n                              <TableCell>\r\n                                {r.referredUser\r\n                                  ? (r.referredUser.username ||\r\n                                     `${r.referredUser.first_name || ''} ${r.referredUser.last_name || ''}`)\r\n                                  : r.referred_user_id}\r\n                              </TableCell>\r\n                              <TableCell>{r.promoCode?.code || 'N/A'}</TableCell>\r\n                            </TableRow>\r\n                          ))}\r\n                        </TableBody>\r\n                      </Table>\r\n                    </div>\r\n                  )}\r\n                  <div className=\"flex justify-end pt-3\">\r\n                    <Button variant=\"outline\" onClick={() => setModalOpen(false)}>\r\n                      Close\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* View Third Party Modal */}\r\n              {modalType === 'view-third-party' && selectedItem && (\r\n                <div className=\"space-y-4 max-h-[70vh] overflow-y-auto\">\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">ID</Label>\r\n                      <p className=\"text-sm\">{selectedItem.id}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Name</Label>\r\n                      <p className=\"text-sm\">{selectedItem.name || 'N/A'}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Email</Label>\r\n                      <p className=\"text-sm\">{selectedItem.email || 'N/A'}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Phone</Label>\r\n                      <p className=\"text-sm\">{selectedItem.phone || 'N/A'}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Contact Email</Label>\r\n                      <p className=\"text-sm\">{selectedItem.contact_email || 'N/A'}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Category</Label>\r\n                      <Badge variant=\"outline\">{selectedItem.category || 'N/A'}</Badge>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">City</Label>\r\n                      <p className=\"text-sm\">{selectedItem.city || 'N/A'}</p>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Subscription</Label>\r\n                      <Badge variant={selectedItem.subscription === 'premium' || selectedItem.subscription === 'enterprise' ? 'default' : 'secondary'}>\r\n                        {selectedItem.subscription || 'Free'}\r\n                      </Badge>\r\n                    </div>\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Created At</Label>\r\n                      <p className=\"text-sm\">{new Date(selectedItem.created_at).toLocaleString()}</p>\r\n                    </div>\r\n                  </div>\r\n                  {selectedItem.description && (\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Description</Label>\r\n                      <p className=\"text-sm\">{selectedItem.description}</p>\r\n                    </div>\r\n                  )}\r\n                  {selectedItem.permissions && selectedItem.permissions.length > 0 && (\r\n                    <div>\r\n                      <Label className=\"text-sm font-semibold\">Permissions</Label>\r\n                      <div className=\"flex flex-wrap gap-1 mt-1\">\r\n                        {selectedItem.permissions.map((perm, idx) => (\r\n                          <Badge key={idx} variant=\"secondary\" className=\"text-xs\">\r\n                            {perm}\r\n                          </Badge>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n                  <div className=\"flex gap-2 pt-4\">\r\n                    <Button onClick={() => setModalType('edit-third-party')} className=\"flex-1\">\r\n                      Edit Third Party\r\n                    </Button>\r\n                    <Button \r\n                      variant=\"outline\"\r\n                      onClick={() => {\r\n                        setSelectedItem({ third_party_id: selectedItem.id, third_party_name: selectedItem.name });\r\n                        setModalType('create-service-for-tp');\r\n                      }}\r\n                    >\r\n                      <Plus className=\"w-4 h-4 mr-1\" />\r\n                      Add Service\r\n                    </Button>\r\n                    <Button variant=\"outline\" onClick={() => setModalOpen(false)}>\r\n                      Close\r\n                    </Button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n\r\n              {/* Create/Edit Third Party Modal */}\r\n              {(modalType === 'create-third-party' || modalType === 'edit-third-party') && (\r\n                <ThirdPartyForm\r\n                  thirdParty={modalType === 'edit-third-party' ? selectedItem : null}\r\n                  onSubmit={(data) => {\r\n                    if (modalType === 'edit-third-party' && selectedItem) {\r\n                      handleUpdateThirdParty(selectedItem.id, data);\r\n                    } else {\r\n                      handleCreateThirdParty(data);\r\n                    }\r\n                  }}\r\n                />\r\n              )}\r\n\r\n              {/* Create Service for Specific Third Party Modal */}\r\n              {modalType === 'create-service-for-tp' && selectedItem && (\r\n                <ServiceFormForThirdParty\r\n                  thirdPartyId={selectedItem.third_party_id}\r\n                  thirdPartyName={selectedItem.third_party_name}\r\n                  onSubmit={(data) => {\r\n                    handleCreateService({ ...data, third_party_id: selectedItem.third_party_id });\r\n                  }}\r\n                />\r\n              )}\r\n\r\n              {/* Create/Edit Service Item Modal */}\r\n              {(modalType === 'create-service-item' || modalType === 'edit-service-item') && (\r\n                <ServiceItemForm\r\n                  item={modalType === 'edit-service-item' ? selectedItem : null}\r\n                  onSubmit={(data) => {\r\n                    if (modalType === 'edit-service-item' && selectedItem) {\r\n                      handleUpdateServiceItem(selectedItem.id, data);\r\n                    } else if (selectedServiceId) {\r\n                      handleCreateServiceItem(selectedServiceId, data);\r\n                    }\r\n                  }}\r\n                />\r\n              )}\r\n            </DialogContent>\r\n          </Dialog>\r\n        )}\r\n      </AnimatePresence>\r\n    </div>\r\n    </AdminContext.Provider>\r\n  );\r\n}\r\n\r\n// Holiday Form Component\r\nfunction HolidayForm({ holiday, onSubmit }) {\r\n  const [formData, setFormData] = useState({\r\n    car_id: holiday?.car_id || '',\r\n    holiday_name: holiday?.holiday_name || '',\r\n    holiday_dates: {\r\n      start: holiday?.holiday_dates?.start || '',\r\n      end: holiday?.holiday_dates?.end || ''\r\n    },\r\n    percentage_increase: holiday?.percentage_increase || '',\r\n    is_active: holiday?.is_active !== undefined ? holiday.is_active : true\r\n  });\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div>\r\n        <Label>Car ID *</Label>\r\n        <Input\r\n          type=\"number\"\r\n          value={formData.car_id}\r\n          onChange={(e) => setFormData({...formData, car_id: e.target.value})}\r\n          placeholder=\"Enter car ID\"\r\n          required\r\n        />\r\n      </div>\r\n      <div>\r\n        <Label>Holiday Name *</Label>\r\n        <Input\r\n          value={formData.holiday_name}\r\n          onChange={(e) => setFormData({...formData, holiday_name: e.target.value})}\r\n          placeholder=\"e.g., New Year\"\r\n          required\r\n        />\r\n      </div>\r\n      <div className=\"grid grid-cols-2 gap-4\">\r\n        <div>\r\n          <Label>Start Date *</Label>\r\n          <Input\r\n            type=\"date\"\r\n            value={formData.holiday_dates.start}\r\n            onChange={(e) => setFormData({\r\n              ...formData,\r\n              holiday_dates: {...formData.holiday_dates, start: e.target.value}\r\n            })}\r\n            required\r\n          />\r\n        </div>\r\n        <div>\r\n          <Label>End Date *</Label>\r\n          <Input\r\n            type=\"date\"\r\n            value={formData.holiday_dates.end}\r\n            onChange={(e) => setFormData({\r\n              ...formData,\r\n              holiday_dates: {...formData.holiday_dates, end: e.target.value}\r\n            })}\r\n            required\r\n          />\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <Label>Percentage Increase *</Label>\r\n        <Input\r\n          type=\"number\"\r\n          step=\"0.01\"\r\n          min=\"0\"\r\n          max=\"100\"\r\n          value={formData.percentage_increase}\r\n          onChange={(e) => setFormData({...formData, percentage_increase: e.target.value})}\r\n          placeholder=\"20.00\"\r\n          required\r\n        />\r\n      </div>\r\n      <div className=\"flex items-center space-x-2\">\r\n        <Switch\r\n          id=\"is_active\"\r\n          checked={formData.is_active}\r\n          onCheckedChange={(checked) => setFormData({...formData, is_active: checked})}\r\n        />\r\n        <Label htmlFor=\"is_active\">Active</Label>\r\n      </div>\r\n      <Button onClick={() => onSubmit(formData)}>\r\n        {holiday ? 'Update' : 'Create'} Holiday\r\n      </Button>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Announcement Form Component\r\nfunction AnnouncementForm({ announcement, onSubmit }) {\r\n  // Helper function to convert ISO date to YYYY-MM-DD HH:mm:ss format\r\n  const formatDateForAPI = (dateString) => {\r\n    if (!dateString) return '';\r\n    const date = new Date(dateString);\r\n    const year = date.getFullYear();\r\n    const month = String(date.getMonth() + 1).padStart(2, '0');\r\n    const day = String(date.getDate()).padStart(2, '0');\r\n    const hours = String(date.getHours()).padStart(2, '0');\r\n    const minutes = String(date.getMinutes()).padStart(2, '0');\r\n    const seconds = String(date.getSeconds()).padStart(2, '0');\r\n    return `${year}-${month}-${day} ${hours}:${minutes}:${seconds}`;\r\n  };\r\n\r\n  // Helper function to convert API date format to datetime-local input format\r\n  const formatDateForInput = (dateString) => {\r\n    if (!dateString) return '';\r\n    // If already in YYYY-MM-DD HH:mm:ss format, convert to datetime-local\r\n    if (dateString.includes(' ')) {\r\n      return dateString.replace(' ', 'T');\r\n    }\r\n    // If ISO format, convert\r\n    const date = new Date(dateString);\r\n    return date.toISOString().slice(0, 16); // YYYY-MM-DDTHH:mm\r\n  };\r\n\r\n  const [formData, setFormData] = useState({\r\n    title: announcement?.title || '',\r\n    message: announcement?.message || '',\r\n    scheduled_at: formatDateForInput(announcement?.scheduled_at) || '',\r\n    expires_at: formatDateForInput(announcement?.expires_at) || '',\r\n    priority: announcement?.priority || 'medium',\r\n    target_audience: announcement?.target_audience || [],\r\n    status: announcement?.status || 'draft',\r\n    categories: announcement?.categories || [],\r\n    media: announcement?.media || []\r\n  });\r\n\r\n  const handleTargetAudienceChange = (role, checked) => {\r\n    setFormData(prev => {\r\n      const current = prev.target_audience || [];\r\n      if (checked) {\r\n        return { ...prev, target_audience: [...current, role] };\r\n      } else {\r\n        return { ...prev, target_audience: current.filter(r => r !== role) };\r\n      }\r\n    });\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    // Format dates to YYYY-MM-DD HH:mm:ss\r\n    const submitData = {\r\n      ...formData,\r\n      scheduled_at: formData.scheduled_at ? formatDateForAPI(formData.scheduled_at) : undefined,\r\n      expires_at: formData.expires_at ? formatDateForAPI(formData.expires_at) : undefined,\r\n      // Only include categories and media if they have values\r\n      categories: formData.categories.length > 0 ? formData.categories : undefined,\r\n      media: formData.media.length > 0 ? formData.media : undefined\r\n    };\r\n    onSubmit(submitData);\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-4 max-h-[70vh] overflow-y-auto\">\r\n      <div>\r\n        <Label>Title *</Label>\r\n        <Input\r\n          required\r\n          value={formData.title}\r\n          onChange={(e) => setFormData({...formData, title: e.target.value})}\r\n          placeholder=\"Enter announcement title\"\r\n        />\r\n      </div>\r\n      <div>\r\n        <Label>Message *</Label>\r\n        <Textarea\r\n          required\r\n          value={formData.message}\r\n          onChange={(e) => setFormData({...formData, message: e.target.value})}\r\n          placeholder=\"Enter announcement message\"\r\n          rows={5}\r\n        />\r\n      </div>\r\n      <div className=\"grid grid-cols-2 gap-4\">\r\n        <div>\r\n          <Label>Scheduled At</Label>\r\n          <Input\r\n            type=\"datetime-local\"\r\n            value={formData.scheduled_at}\r\n            onChange={(e) => setFormData({...formData, scheduled_at: e.target.value})}\r\n          />\r\n        </div>\r\n        <div>\r\n          <Label>Expires At</Label>\r\n          <Input\r\n            type=\"datetime-local\"\r\n            value={formData.expires_at}\r\n            onChange={(e) => setFormData({...formData, expires_at: e.target.value})}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"grid grid-cols-2 gap-4\">\r\n        <div>\r\n          <Label>Priority</Label>\r\n          <Select\r\n            value={formData.priority}\r\n            onValueChange={(value) => setFormData({...formData, priority: value})}\r\n          >\r\n            <SelectTrigger>\r\n              <SelectValue />\r\n            </SelectTrigger>\r\n            <SelectContent>\r\n              <SelectItem value=\"low\">Low</SelectItem>\r\n              <SelectItem value=\"medium\">Medium</SelectItem>\r\n              <SelectItem value=\"high\">High</SelectItem>\r\n            </SelectContent>\r\n          </Select>\r\n        </div>\r\n        <div>\r\n          <Label>Status</Label>\r\n          <Select\r\n            value={formData.status}\r\n            onValueChange={(value) => setFormData({...formData, status: value})}\r\n          >\r\n            <SelectTrigger>\r\n              <SelectValue />\r\n            </SelectTrigger>\r\n            <SelectContent>\r\n              <SelectItem value=\"draft\">Draft</SelectItem>\r\n              <SelectItem value=\"published\">Published</SelectItem>\r\n              <SelectItem value=\"archived\">Archived</SelectItem>\r\n            </SelectContent>\r\n          </Select>\r\n        </div>\r\n      </div>\r\n      <div>\r\n        <Label>Target Audience</Label>\r\n        <div className=\"flex flex-wrap gap-2 mt-2\">\r\n          {['client', 'agency', 'agent', 'admin'].map((role) => (\r\n            <div key={role} className=\"flex items-center space-x-2\">\r\n              <input\r\n                type=\"checkbox\"\r\n                id={`target-${role}`}\r\n                checked={formData.target_audience.includes(role)}\r\n                onChange={(e) => handleTargetAudienceChange(role, e.target.checked)}\r\n                className=\"rounded\"\r\n              />\r\n              <Label htmlFor={`target-${role}`} className=\"text-sm font-normal cursor-pointer\">\r\n                {role.charAt(0).toUpperCase() + role.slice(1)}\r\n              </Label>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n      <div className=\"flex gap-2 pt-4\">\r\n        <Button onClick={handleSubmit} className=\"flex-1\">\r\n          {announcement ? 'Update' : 'Create'} Announcement\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Notification Form Component\r\nfunction NotificationForm({ onSubmit }) {\r\n  const [formData, setFormData] = useState({\r\n    title: '',\r\n    message: '',\r\n    type: 'general',\r\n    data: {}\r\n  });\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      <div>\r\n        <Label>Title</Label>\r\n        <Input\r\n          value={formData.title}\r\n          onChange={(e) => setFormData({...formData, title: e.target.value})}\r\n        />\r\n      </div>\r\n      <div>\r\n        <Label>Message</Label>\r\n        <Textarea\r\n          value={formData.message}\r\n          onChange={(e) => setFormData({...formData, message: e.target.value})}\r\n        />\r\n      </div>\r\n      <div>\r\n        <Label>Type</Label>\r\n        <Select\r\n          value={formData.type}\r\n          onValueChange={(value) => setFormData({...formData, type: value})}\r\n        >\r\n          <SelectTrigger>\r\n            <SelectValue />\r\n          </SelectTrigger>\r\n          <SelectContent>\r\n            <SelectItem value=\"general\">General</SelectItem>\r\n            <SelectItem value=\"booking\">Booking</SelectItem>\r\n            <SelectItem value=\"payment\">Payment</SelectItem>\r\n            <SelectItem value=\"system\">System</SelectItem>\r\n          </SelectContent>\r\n        </Select>\r\n      </div>\r\n      <Button onClick={() => onSubmit(formData)}>\r\n        Send Notification\r\n      </Button>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Service Form Component\r\nfunction ServiceForm({ service, onSubmit, thirdParties = [] }) {\r\n  const [formData, setFormData] = useState({\r\n    name: service?.name || '',\r\n    description: service?.description || '',\r\n    category: service?.category || '',\r\n    price: service?.price || '',\r\n    featured: service?.featured || false,\r\n    images: service?.images || [],\r\n    third_party_id: service?.third_party_id || '',\r\n    city: service?.city || '',\r\n    availability: service?.availability !== false\r\n  });\r\n\r\n  const [newImageUrl, setNewImageUrl] = useState('');\r\n\r\n  const addImage = () => {\r\n    if (newImageUrl.trim()) {\r\n      setFormData({...formData, images: [...formData.images, newImageUrl.trim()]});\r\n      setNewImageUrl('');\r\n    }\r\n  };\r\n\r\n  const removeImage = (index) => {\r\n    setFormData({...formData, images: formData.images.filter((_, i) => i !== index)});\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-4 max-h-[70vh] overflow-y-auto\">\r\n      {/* Owner Selection */}\r\n      {thirdParties.length > 0 && (\r\n        <div>\r\n          <Label>Service Owner (Third Party) *</Label>\r\n          <Select\r\n            value={formData.third_party_id?.toString() || ''}\r\n            onValueChange={(value) => setFormData({...formData, third_party_id: parseInt(value)})}\r\n          >\r\n            <SelectTrigger>\r\n              <SelectValue placeholder=\"Select third party owner\" />\r\n            </SelectTrigger>\r\n            <SelectContent>\r\n              {thirdParties.map((tp) => (\r\n                <SelectItem key={tp.id} value={tp.id.toString()}>\r\n                  {tp.name} ({tp.email})\r\n                </SelectItem>\r\n              ))}\r\n            </SelectContent>\r\n          </Select>\r\n        </div>\r\n      )}\r\n      \r\n      <div>\r\n        <Label>Name *</Label>\r\n        <Input\r\n          required\r\n          value={formData.name}\r\n          onChange={(e) => setFormData({...formData, name: e.target.value})}\r\n          placeholder=\"Enter service name\"\r\n        />\r\n      </div>\r\n      <div>\r\n        <Label>Description *</Label>\r\n        <Textarea\r\n          required\r\n          value={formData.description}\r\n          onChange={(e) => setFormData({...formData, description: e.target.value})}\r\n          placeholder=\"Enter service description\"\r\n          rows={3}\r\n        />\r\n      </div>\r\n      <div className=\"grid grid-cols-2 gap-4\">\r\n        <div>\r\n          <Label>Category *</Label>\r\n          <Select\r\n            value={formData.category}\r\n            onValueChange={(value) => setFormData({...formData, category: value})}\r\n          >\r\n            <SelectTrigger>\r\n              <SelectValue placeholder=\"Select category\" />\r\n            </SelectTrigger>\r\n            <SelectContent>\r\n              {/* Must match backend: hotel, restaurant, spa, nightclub, other */}\r\n              <SelectItem value=\"hotel\">Hotel</SelectItem>\r\n              <SelectItem value=\"restaurant\">Restaurant</SelectItem>\r\n              <SelectItem value=\"spa\">Spa</SelectItem>\r\n              <SelectItem value=\"nightclub\">Nightclub</SelectItem>\r\n              <SelectItem value=\"other\">Other</SelectItem>\r\n            </SelectContent>\r\n          </Select>\r\n        </div>\r\n        <div>\r\n          <Label>Price *</Label>\r\n          <Input\r\n            type=\"number\"\r\n            step=\"0.01\"\r\n            min=\"0\"\r\n            required\r\n            value={formData.price}\r\n            onChange={(e) => setFormData({...formData, price: parseFloat(e.target.value) || ''})}\r\n            placeholder=\"0.00\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"grid grid-cols-2 gap-4\">\r\n        <div>\r\n          <Label>City</Label>\r\n          <Input\r\n            value={formData.city}\r\n            onChange={(e) => setFormData({...formData, city: e.target.value})}\r\n            placeholder=\"Enter city\"\r\n          />\r\n        </div>\r\n        <div className=\"flex items-center justify-between pt-6\">\r\n          <Label>Availability</Label>\r\n          <Switch\r\n            checked={formData.availability}\r\n            onCheckedChange={(checked) => setFormData({...formData, availability: checked})}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"flex items-center justify-between\">\r\n        <Label>Featured</Label>\r\n        <Switch\r\n          checked={formData.featured}\r\n          onCheckedChange={(checked) => setFormData({...formData, featured: checked})}\r\n        />\r\n      </div>\r\n      <div>\r\n        <Label>Images</Label>\r\n        <div className=\"flex gap-2 mt-2\">\r\n          <Input\r\n            value={newImageUrl}\r\n            onChange={(e) => setNewImageUrl(e.target.value)}\r\n            placeholder=\"Enter image URL\"\r\n            className=\"flex-1\"\r\n          />\r\n          <Button type=\"button\" variant=\"outline\" onClick={addImage}>Add</Button>\r\n        </div>\r\n        {formData.images.length > 0 && (\r\n          <div className=\"flex flex-wrap gap-2 mt-2\">\r\n            {formData.images.map((img, idx) => (\r\n              <div key={idx} className=\"relative\">\r\n                <img src={img} alt={`Image ${idx + 1}`} className=\"w-16 h-16 object-cover rounded\" />\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => removeImage(idx)}\r\n                  className=\"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-4 h-4 text-xs\"\r\n                >\r\n                  ×\r\n                </button>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div className=\"flex gap-2 pt-4\">\r\n        <Button onClick={() => onSubmit(formData)} className=\"flex-1\">\r\n          {service ? 'Update' : 'Create'} Service\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Third Party Form Component\r\nfunction ThirdPartyForm({ thirdParty, onSubmit }) {\r\n  const [formData, setFormData] = useState({\r\n    // Account Info\r\n    name: thirdParty?.business_name || thirdParty?.name || '',\r\n    username: thirdParty?.username || '',\r\n    email: thirdParty?.email || '',\r\n    password: '',\r\n    subscription: thirdParty?.subscription || '',\r\n    permissions: thirdParty?.permissions || [],\r\n    // Profile Info\r\n    description: thirdParty?.description || '',\r\n    category: thirdParty?.category || '',\r\n    city: thirdParty?.city || '',\r\n    contact_email: thirdParty?.contact_email || '',\r\n    phone: thirdParty?.phone || ''\r\n  });\r\n\r\n  const availablePermissions = ['services:read', 'services:write', 'items:read', 'items:write', 'feedbacks:read', 'feedbacks:respond'];\r\n\r\n  const togglePermission = (perm) => {\r\n    if (formData.permissions.includes(perm)) {\r\n      setFormData({...formData, permissions: formData.permissions.filter(p => p !== perm)});\r\n    } else {\r\n      setFormData({...formData, permissions: [...formData.permissions, perm]});\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-4 max-h-[70vh] overflow-y-auto\">\r\n      {/* Account Information Section */}\r\n      <div className=\"border-b pb-2 mb-2\">\r\n        <h3 className=\"font-semibold text-sm text-muted-foreground\">Account Information</h3>\r\n      </div>\r\n      <div className=\"grid grid-cols-3 gap-4\">\r\n        <div>\r\n          <Label>Business Name *</Label>\r\n          <Input\r\n            required\r\n            value={formData.name}\r\n            onChange={(e) => setFormData({...formData, name: e.target.value})}\r\n            placeholder=\"Enter business/company name\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <Label>Username *</Label>\r\n          <Input\r\n            required\r\n            value={formData.username}\r\n            onChange={(e) => setFormData({...formData, username: e.target.value})}\r\n            placeholder=\"Unique username for login\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <Label>Email *</Label>\r\n          <Input\r\n            type=\"email\"\r\n            required\r\n            value={formData.email}\r\n            onChange={(e) => setFormData({...formData, email: e.target.value})}\r\n            placeholder=\"Enter login email\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"grid grid-cols-2 gap-4\">\r\n        <div>\r\n          <Label>{thirdParty ? 'Password (leave blank to keep current)' : 'Password *'}</Label>\r\n          <Input\r\n            type=\"password\"\r\n            required={!thirdParty}\r\n            value={formData.password}\r\n            onChange={(e) => setFormData({...formData, password: e.target.value})}\r\n            placeholder=\"Enter password\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <Label>Subscription</Label>\r\n          <Select\r\n            value={formData.subscription}\r\n            onValueChange={(value) => setFormData({...formData, subscription: value})}\r\n          >\r\n            <SelectTrigger>\r\n              <SelectValue placeholder=\"Select subscription\" />\r\n            </SelectTrigger>\r\n            <SelectContent>\r\n              <SelectItem value=\"free\">Free</SelectItem>\r\n              <SelectItem value=\"basic\">Basic</SelectItem>\r\n              <SelectItem value=\"premium\">Premium</SelectItem>\r\n              <SelectItem value=\"enterprise\">Enterprise</SelectItem>\r\n            </SelectContent>\r\n          </Select>\r\n        </div>\r\n      </div>\r\n\r\n      {/* Profile Information Section */}\r\n      <div className=\"border-b pb-2 mb-2 mt-4\">\r\n        <h3 className=\"font-semibold text-sm text-muted-foreground\">Profile Information</h3>\r\n      </div>\r\n      <div>\r\n        <Label>Description</Label>\r\n        <Textarea\r\n          value={formData.description}\r\n          onChange={(e) => setFormData({...formData, description: e.target.value})}\r\n          placeholder=\"Enter business description\"\r\n          rows={3}\r\n        />\r\n      </div>\r\n      <div className=\"grid grid-cols-2 gap-4\">\r\n        <div>\r\n          <Label>Category</Label>\r\n          <Select\r\n            value={formData.category}\r\n            onValueChange={(value) => setFormData({...formData, category: value})}\r\n          >\r\n            <SelectTrigger>\r\n              <SelectValue placeholder=\"Select category\" />\r\n            </SelectTrigger>\r\n            <SelectContent>\r\n              <SelectItem value=\"transport\">Transport</SelectItem>\r\n              <SelectItem value=\"accommodation\">Accommodation</SelectItem>\r\n              <SelectItem value=\"food\">Food & Dining</SelectItem>\r\n              <SelectItem value=\"entertainment\">Entertainment</SelectItem>\r\n              <SelectItem value=\"tourism\">Tourism</SelectItem>\r\n              <SelectItem value=\"rental\">Rental Services</SelectItem>\r\n              <SelectItem value=\"other\">Other</SelectItem>\r\n            </SelectContent>\r\n          </Select>\r\n        </div>\r\n        <div>\r\n          <Label>City</Label>\r\n          <Input\r\n            value={formData.city}\r\n            onChange={(e) => setFormData({...formData, city: e.target.value})}\r\n            placeholder=\"Enter city\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"grid grid-cols-2 gap-4\">\r\n        <div>\r\n          <Label>Contact Email</Label>\r\n          <Input\r\n            type=\"email\"\r\n            value={formData.contact_email}\r\n            onChange={(e) => setFormData({...formData, contact_email: e.target.value})}\r\n            placeholder=\"Enter public contact email\"\r\n          />\r\n        </div>\r\n        <div>\r\n          <Label>Phone</Label>\r\n          <Input\r\n            value={formData.phone}\r\n            onChange={(e) => setFormData({...formData, phone: e.target.value})}\r\n            placeholder=\"Enter phone number\"\r\n          />\r\n        </div>\r\n      </div>\r\n\r\n      {/* Permissions Section */}\r\n      <div className=\"border-b pb-2 mb-2 mt-4\">\r\n        <h3 className=\"font-semibold text-sm text-muted-foreground\">Permissions</h3>\r\n      </div>\r\n      <div className=\"flex flex-wrap gap-3\">\r\n        {availablePermissions.map((perm) => (\r\n          <div key={perm} className=\"flex items-center space-x-2\">\r\n            <input\r\n              type=\"checkbox\"\r\n              id={`perm-${perm}`}\r\n              checked={formData.permissions.includes(perm)}\r\n              onChange={() => togglePermission(perm)}\r\n              className=\"rounded\"\r\n            />\r\n            <Label htmlFor={`perm-${perm}`} className=\"text-sm font-normal cursor-pointer\">\r\n              {perm}\r\n            </Label>\r\n          </div>\r\n        ))}\r\n      </div>\r\n      <div className=\"flex gap-2 pt-4\">\r\n        <Button onClick={() => {\r\n          const submitData = {...formData};\r\n          // Remove password if it's empty and we're editing\r\n          if (thirdParty && !submitData.password) {\r\n            delete submitData.password;\r\n          }\r\n          onSubmit(submitData);\r\n        }} className=\"flex-1\">\r\n          {thirdParty ? 'Update' : 'Create'} Third Party\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Service Item Form Component\r\nfunction ServiceItemForm({ item, onSubmit }) {\r\n  const [formData, setFormData] = useState({\r\n    name: item?.name || '',\r\n    description: item?.description || '',\r\n    price: item?.price || '',\r\n    image: item?.image || ''\r\n  });\r\n\r\n  return (\r\n    <div className=\"space-y-4 max-h-[70vh] overflow-y-auto\">\r\n      <div>\r\n        <Label>Name *</Label>\r\n        <Input\r\n          required\r\n          value={formData.name}\r\n          onChange={(e) => setFormData({...formData, name: e.target.value})}\r\n          placeholder=\"Enter item name\"\r\n        />\r\n      </div>\r\n      <div>\r\n        <Label>Description</Label>\r\n        <Textarea\r\n          value={formData.description}\r\n          onChange={(e) => setFormData({...formData, description: e.target.value})}\r\n          placeholder=\"Enter item description\"\r\n          rows={3}\r\n        />\r\n      </div>\r\n      <div>\r\n        <Label>Price *</Label>\r\n        <Input\r\n          type=\"number\"\r\n          step=\"0.01\"\r\n          min=\"0\"\r\n          required\r\n          value={formData.price}\r\n          onChange={(e) => setFormData({...formData, price: parseFloat(e.target.value) || ''})}\r\n          placeholder=\"0.00\"\r\n        />\r\n      </div>\r\n      <div>\r\n        <Label>Image URL</Label>\r\n        <Input\r\n          value={formData.image}\r\n          onChange={(e) => setFormData({...formData, image: e.target.value})}\r\n          placeholder=\"Enter image URL\"\r\n        />\r\n        {formData.image && (\r\n          <img src={formData.image} alt=\"Preview\" className=\"w-20 h-20 object-cover rounded mt-2\" />\r\n        )}\r\n      </div>\r\n      <div className=\"flex gap-2 pt-4\">\r\n        <Button onClick={() => onSubmit(formData)} className=\"flex-1\">\r\n          {item ? 'Update' : 'Create'} Item\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// Service Form for Specific Third Party Component\r\nfunction ServiceFormForThirdParty({ thirdPartyId, thirdPartyName, onSubmit }) {\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    description: '',\r\n    category: '',\r\n    price: '',\r\n    featured: false,\r\n    images: [],\r\n    city: '',\r\n    availability: true\r\n  });\r\n\r\n  const [newImageUrl, setNewImageUrl] = useState('');\r\n\r\n  const addImage = () => {\r\n    if (newImageUrl.trim()) {\r\n      setFormData({...formData, images: [...formData.images, newImageUrl.trim()]});\r\n      setNewImageUrl('');\r\n    }\r\n  };\r\n\r\n  const removeImage = (index) => {\r\n    setFormData({...formData, images: formData.images.filter((_, i) => i !== index)});\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-4 max-h-[70vh] overflow-y-auto\">\r\n      {/* Third Party Info Banner */}\r\n      <div className=\"bg-blue-50 dark:bg-blue-900/20 p-3 rounded-lg border border-blue-200 dark:border-blue-800\">\r\n        <p className=\"text-sm text-blue-700 dark:text-blue-300\">\r\n          <strong>Owner:</strong> {thirdPartyName} (ID: {thirdPartyId})\r\n        </p>\r\n      </div>\r\n      \r\n      <div>\r\n        <Label>Service Name *</Label>\r\n        <Input\r\n          required\r\n          value={formData.name}\r\n          onChange={(e) => setFormData({...formData, name: e.target.value})}\r\n          placeholder=\"Enter service name\"\r\n        />\r\n      </div>\r\n      <div>\r\n        <Label>Description *</Label>\r\n        <Textarea\r\n          required\r\n          value={formData.description}\r\n          onChange={(e) => setFormData({...formData, description: e.target.value})}\r\n          placeholder=\"Enter service description\"\r\n          rows={3}\r\n        />\r\n      </div>\r\n      <div className=\"grid grid-cols-2 gap-4\">\r\n        <div>\r\n          <Label>Category *</Label>\r\n          <Select\r\n            value={formData.category}\r\n            onValueChange={(value) => setFormData({...formData, category: value})}\r\n          >\r\n            <SelectTrigger>\r\n              <SelectValue placeholder=\"Select category\" />\r\n            </SelectTrigger>\r\n            <SelectContent>\r\n              {/* Must match backend: hotel, restaurant, spa, nightclub, other */}\r\n              <SelectItem value=\"hotel\">Hotel</SelectItem>\r\n              <SelectItem value=\"restaurant\">Restaurant</SelectItem>\r\n              <SelectItem value=\"spa\">Spa</SelectItem>\r\n              <SelectItem value=\"nightclub\">Nightclub</SelectItem>\r\n              <SelectItem value=\"other\">Other</SelectItem>\r\n            </SelectContent>\r\n          </Select>\r\n        </div>\r\n        <div>\r\n          <Label>Price *</Label>\r\n          <Input\r\n            type=\"number\"\r\n            step=\"0.01\"\r\n            min=\"0\"\r\n            required\r\n            value={formData.price}\r\n            onChange={(e) => setFormData({...formData, price: parseFloat(e.target.value) || ''})}\r\n            placeholder=\"0.00\"\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"grid grid-cols-2 gap-4\">\r\n        <div>\r\n          <Label>City</Label>\r\n          <Input\r\n            value={formData.city}\r\n            onChange={(e) => setFormData({...formData, city: e.target.value})}\r\n            placeholder=\"Enter city\"\r\n          />\r\n        </div>\r\n        <div className=\"flex items-center justify-between pt-6\">\r\n          <Label>Availability</Label>\r\n          <Switch\r\n            checked={formData.availability}\r\n            onCheckedChange={(checked) => setFormData({...formData, availability: checked})}\r\n          />\r\n        </div>\r\n      </div>\r\n      <div className=\"flex items-center justify-between\">\r\n        <Label>Featured</Label>\r\n        <Switch\r\n          checked={formData.featured}\r\n          onCheckedChange={(checked) => setFormData({...formData, featured: checked})}\r\n        />\r\n      </div>\r\n      <div>\r\n        <Label>Images</Label>\r\n        <div className=\"flex gap-2 mt-2\">\r\n          <Input\r\n            value={newImageUrl}\r\n            onChange={(e) => setNewImageUrl(e.target.value)}\r\n            placeholder=\"Enter image URL\"\r\n            className=\"flex-1\"\r\n          />\r\n          <Button type=\"button\" variant=\"outline\" onClick={addImage}>Add</Button>\r\n        </div>\r\n        {formData.images.length > 0 && (\r\n          <div className=\"flex flex-wrap gap-2 mt-2\">\r\n            {formData.images.map((img, idx) => (\r\n              <div key={idx} className=\"relative\">\r\n                <img src={img} alt={`Image ${idx + 1}`} className=\"w-16 h-16 object-cover rounded\" />\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => removeImage(idx)}\r\n                  className=\"absolute -top-1 -right-1 bg-red-500 text-white rounded-full w-4 h-4 text-xs\"\r\n                >\r\n                  ×\r\n                </button>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n      <div className=\"flex gap-2 pt-4\">\r\n        <Button onClick={() => onSubmit(formData)} className=\"flex-1\">\r\n          Create Service\r\n        </Button>\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":["__iconNode","Lightbulb","createLucideIcon","PaymentForm","onSubmit","loading","formData","setFormData","useState","handleChange","e","name","value","prev","handleSelectChange","handleSubmit","submitData","jsxs","jsx","Label","Input","Select","SelectTrigger","SelectValue","SelectContent","SelectItem","Textarea","Button","AdminDashboardTab","summary","useAdmin","Card","CardHeader","CardTitle","Users","CardContent","Calendar","DollarSign","Car","AdminUsersTab","users","filters","setFilters","navigate","fetchUsers","fetchUserDetails","setSelectedItem","setModalType","setModalOpen","showConfirmDialog","deleteUser","userList","RefreshCw","COLORS","UserCheck","Table","TableHeader","TableRow","TableHead","TableBody","user","TableCell","Badge","CheckCircle2","XCircle","fullDetails","Eye","Edit","Trash2","AdminCarsTab","cars","fetchCars","fetchCarDetails","deleteCar","carList","car","AdminBookingsTab","bookings","fetchBookings","fetchBookingDetails","forceCompleteBooking","bookingList","booking","AdminPaymentsTab","payments","fetchPayments","processRefund","paymentList","columns","p","Plus","data","exportToExcel","Download","exportTableToPDF","payment","invoiceId","AdminAnnouncementsTab","announcements","fetchAnnouncements","deleteAnnouncement","list","announcement","AdminAppealsTab","appeals","fetchAppeals","appeal","AdminAdsTab","ads","fetchAds","deleteAd","BarChart3","ad","AdminPromoCodesTab","promoCodes","brokers","setBrokerForm","fetchPromoCodes","fetchPromoCodeUsers","fetchBrokerReferrals","handleDeletePromoCode","val","b","promo","AdminBrokersTab","selectedBroker","brokerDetailTab","setBrokerDetailTab","brokerBalance","brokerCommissions","brokerPayouts","brokerReferrals","brokerCommissionsList","commissionStatusFilter","setCommissionStatusFilter","setBrokerCommissions","setPayoutForm","setSelectedBroker","fetchBrokers","fetchBrokerCommissionsList","openBrokerDetail","closeBrokerDetail","handleCancelCommission","handleDeleteBrokerReferral","refreshBrokerCommissionsByStatus","status","res","getBrokerCommissions","raw","Tabs","TabsList","TabsTrigger","TabsContent","s","c","r","Fragment","AdminFeaturedCarsTab","featuredCars","fetchFeaturedCars","deleteFeaturedCar","featured","AdminHolidaysTab","holidays","fetchHolidays","deleteHoliday","holiday","AdminSuggestionsTab","suggestions","fetchSuggestions","deleteSuggestion","suggestion","AdminNotificationsTab","notifications","fetchNotifications","notification","AdminOtpsTab","otps","fetchOtps","otp","isExpired","AdminServicesTab","ctx","services","thirdParties","serviceItems","serviceFeedbacks","selectedServiceId","setConfirmDialog","fetchServices","fetchThirdParties","fetchServiceItems","fetchServiceFeedbacks","handleDeleteService","handleDeleteFeedback","handleDeleteServiceItem","Briefcase","Building2","Package","MessageCircle","v","Search","service","Star","tp","item","feedback","_","i","AdminPanelPage","useNavigate","activeTab","setActiveTab","setLoading","setSummary","setUsers","setCars","setBookings","setPayments","setAnnouncements","setAppeals","setAds","setFeaturedCars","setHolidays","setSuggestions","setNotifications","setOtps","setPromoCodes","promoCodeUsers","setPromoCodeUsers","setBrokerReferrals","setBrokers","brokerForm","setBrokerBalance","setBrokerPayouts","setBrokerCommissionsList","payoutForm","appFeesData","setAppFeesData","carImages","setCarImages","setServices","setThirdParties","setServiceItems","setServiceFeedbacks","setSelectedServiceId","pagination","setPagination","statistics","setStatistics","chartData","setChartData","statisticsPeriod","setStatisticsPeriod","selectedItem","modalOpen","modalType","confirmDialog","fetchSummary","api","error","toast","params","response","getUsers","id","getCars","getPayments","createHoliday","updateHoliday","getOtps","getAdminServices","handleCreateService","third_party_id","serviceData","payload","createAdminServiceForThirdParty","backendMessage","handleUpdateService","updateAdminService","deleteAdminService","getAdminThirdParties","handleCreateThirdParty","createAdminThirdParty","handleUpdateThirdParty","updateAdminThirdParty","handleDeleteThirdParty","deleteAdminThirdParty","serviceId","getAdminServiceItems","handleCreateServiceItem","createAdminServiceItem","handleUpdateServiceItem","itemId","updateAdminServiceItem","deleteAdminServiceItem","getAdminFeedbacks","feedbackId","deleteAdminFeedback","fetchStatistics","period","fetchChartData","updateUser","force","updateCar","updateData","field","updateCarApi","newState","handleCarImageChange","carId","imageType","file","updateBooking","description","createAnnouncement","updateAnnouncement","updateAppeal","updateAd","createAdHandler","createAd","createPaymentHandler","issuePayment","createFeaturedCarHandler","createFeaturedCar","updateSuggestion","sendNotificationToAll","fetchAgentAppFeesBalance","agentId","summaryResponse","getAgentFeeSummary","percentageResponse","getAgentFeePercentage","updateAgentAppFeesPercentage","feePercentage","setAgentFeePercentage","title","message","onConfirm","getPromoCodes","handleCreateOrUpdatePromoCode","existing","updatePromoCode","createPromoCode","msg","deletePromoCode","promoId","getPromoCodeUsers","brokerId","getBrokerReferrals","handleCreateBroker","username","phone_number","email","password","password_confirmation","first_name","last_name","createBroker","errData","useEffect","broker","balanceRes","commissionsRes","payoutsRes","referralsRes","getBrokerBalance","getBrokerPayouts","commissionsRaw","commissionsArr","payoutsRaw","payoutsArr","referralsRaw","refreshBrokerDetail","getBrokerCommissionsList","commList","handleCreateBrokerPayout","amount","createBrokerPayout","err","d","pendingBal","cancelBrokerCommission","deleteBrokerReferral","adminContextValue","useMemo","AdminContext","Home","LogOut","Tag","Megaphone","AlertCircle","FileText","CalendarDays","Bell","KeyRound","AlertDialog","open","AlertDialogContent","AlertDialogHeader","AlertDialogTitle","AlertDialogDescription","AlertDialogFooter","AlertDialogCancel","AlertDialogAction","AnimatePresence","Dialog","DialogContent","DialogHeader","DialogTitle","Switch","checked","feature","idx","addon","AnnouncementForm","NotificationForm","HolidayForm","AdForm","FeaturedCarForm","img","ServiceForm","u","perm","ThirdPartyForm","ServiceFormForThirdParty","ServiceItemForm","formatDateForAPI","dateString","date","year","month","day","hours","minutes","seconds","formatDateForInput","handleTargetAudienceChange","role","current","newImageUrl","setNewImageUrl","addImage","removeImage","index","thirdParty","availablePermissions","togglePermission","thirdPartyId","thirdPartyName"],"mappings":"+zFASA,MAAMA,GAAa,CACjB,CACE,OACA,CACE,EAAG,uGACH,IAAK,QACX,CACA,EACE,CAAC,OAAQ,CAAE,EAAG,UAAW,IAAK,QAAQ,CAAE,EACxC,CAAC,OAAQ,CAAE,EAAG,WAAY,IAAK,QAAQ,CAAE,CAC3C,EACMC,GAAYC,GAAiB,YAAaF,EAAU,ECR1D,SAAwBG,GAAY,CAAE,SAAAC,EAAU,QAAAC,EAAU,IAAS,CACjE,KAAM,CAACC,EAAUC,CAAW,EAAIC,WAAS,CACvC,QAAS,GACT,KAAM,GACN,OAAQ,GACR,OAAQ,OACR,KAAM,SACN,OAAQ,UACR,SAAU,GACV,YAAa,GACb,SAAU,EAAA,CACX,EAEKC,EAAgBC,GAAM,CAC1B,KAAM,CAAE,KAAAC,EAAM,MAAAC,CAAA,EAAUF,EAAE,OAC1BH,EAAYM,IAAS,CAAE,GAAGA,EAAM,CAACF,CAAI,EAAGC,GAAQ,CAClD,EAEME,EAAqB,CAACH,EAAMC,IAAU,CAC1CL,EAAYM,IAAS,CAAE,GAAGA,EAAM,CAACF,CAAI,EAAGC,GAAQ,CAClD,EAEMG,EAAgBL,GAAM,CAC1BA,EAAE,eAAA,EACF,MAAMM,EAAa,CACjB,GAAGV,EACH,QAAS,SAASA,EAAS,OAAO,EAClC,OAAQ,WAAWA,EAAS,MAAM,EAClC,SAAUA,EAAS,UAAY,IAAI,OAAO,YAAA,EAAc,MAAM,EAAG,EAAE,EAAE,QAAQ,IAAK,GAAG,EACrF,GAAIA,EAAS,UAAY,CAAE,SAAU,KAAK,MAAMA,EAAS,QAAQ,CAAA,CAAE,EAErEF,EAASY,CAAU,CACrB,EAEA,OACEC,EAAAA,KAAC,OAAA,CAAK,SAAUF,EAAc,UAAU,YACtC,SAAA,CAAAE,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAACC,GAAM,SAAA,WAAA,CAAS,EAChBD,EAAAA,IAACE,EAAA,CACC,KAAK,SACL,KAAK,UACL,MAAOd,EAAS,QAChB,SAAUG,EACV,SAAQ,GACR,YAAY,eAAA,CAAA,CACd,EACF,SAEC,MAAA,CACC,SAAA,CAAAS,EAAAA,IAACC,GAAM,SAAA,oBAAA,CAAkB,EACzBD,EAAAA,IAACE,EAAA,CACC,KAAK,OACL,KAAK,OACL,MAAOd,EAAS,KAChB,SAAUG,EACV,SAAQ,GACR,YAAY,eACZ,UAAW,GAAA,CAAA,CACb,EACF,SAEC,MAAA,CACC,SAAA,CAAAS,EAAAA,IAACC,GAAM,SAAA,UAAA,CAAQ,EACfD,EAAAA,IAACE,EAAA,CACC,KAAK,SACL,KAAK,OACL,KAAK,SACL,MAAOd,EAAS,OAChB,SAAUG,EACV,SAAQ,GACR,YAAY,OAAA,CAAA,CACd,EACF,EAEAQ,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAACC,GAAM,SAAA,UAAA,CAAQ,EACfF,EAAAA,KAACI,EAAA,CAAO,MAAOf,EAAS,OAAQ,cAAgBM,GAAUE,EAAmB,SAAUF,CAAK,EAC1F,SAAA,CAAAM,EAAAA,IAACI,EAAA,CACC,SAAAJ,EAAAA,IAACK,EAAA,CAAA,CAAY,EACf,SACCC,EAAA,CACC,SAAA,CAAAN,EAAAA,IAACO,EAAA,CAAW,MAAM,OAAO,SAAA,OAAI,EAC7BP,EAAAA,IAACO,EAAA,CAAW,MAAM,MAAM,SAAA,MAAG,EAC3BP,EAAAA,IAACO,EAAA,CAAW,MAAM,OAAO,SAAA,OAAI,EAC7BP,EAAAA,IAACO,EAAA,CAAW,MAAM,OAAO,SAAA,OAAI,EAC7BP,EAAAA,IAACO,EAAA,CAAW,MAAM,QAAQ,SAAA,OAAA,CAAK,CAAA,CAAA,CACjC,CAAA,CAAA,CACF,CAAA,EACF,SAEC,MAAA,CACC,SAAA,CAAAP,EAAAA,IAACC,GAAM,SAAA,QAAA,CAAM,EACbF,EAAAA,KAACI,EAAA,CAAO,MAAOf,EAAS,KAAM,cAAgBM,GAAUE,EAAmB,OAAQF,CAAK,EACtF,SAAA,CAAAM,EAAAA,IAACI,EAAA,CACC,SAAAJ,EAAAA,IAACK,EAAA,CAAA,CAAY,EACf,SACCC,EAAA,CACC,SAAA,CAAAN,EAAAA,IAACO,EAAA,CAAW,MAAM,SAAS,SAAA,SAAM,EACjCP,EAAAA,IAACO,EAAA,CAAW,MAAM,UAAU,SAAA,UAAO,EACnCP,EAAAA,IAACO,EAAA,CAAW,MAAM,QAAQ,SAAA,QAAK,EAC/BP,EAAAA,IAACO,EAAA,CAAW,MAAM,kBAAkB,SAAA,kBAAe,EACnDP,EAAAA,IAACO,EAAA,CAAW,MAAM,SAAS,SAAA,QAAA,CAAM,CAAA,CAAA,CACnC,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,EACF,EAEAR,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAACC,GAAM,SAAA,QAAA,CAAM,EACbF,EAAAA,KAACI,EAAA,CAAO,MAAOf,EAAS,OAAQ,cAAgBM,GAAUE,EAAmB,SAAUF,CAAK,EAC1F,SAAA,CAAAM,EAAAA,IAACI,EAAA,CACC,SAAAJ,EAAAA,IAACK,EAAA,CAAA,CAAY,EACf,SACCC,EAAA,CACC,SAAA,CAAAN,EAAAA,IAACO,EAAA,CAAW,MAAM,UAAU,SAAA,UAAO,EACnCP,EAAAA,IAACO,EAAA,CAAW,MAAM,OAAO,SAAA,OAAI,EAC7BP,EAAAA,IAACO,EAAA,CAAW,MAAM,UAAU,SAAA,UAAO,EACnCP,EAAAA,IAACO,EAAA,CAAW,MAAM,YAAY,SAAA,WAAA,CAAS,CAAA,CAAA,CACzC,CAAA,CAAA,CACF,CAAA,EACF,SAEC,MAAA,CACC,SAAA,CAAAP,EAAAA,IAACC,GAAM,SAAA,UAAA,CAAQ,EACfD,EAAAA,IAACE,EAAA,CACC,KAAK,iBACL,KAAK,WACL,MAAOd,EAAS,SAChB,SAAUG,CAAA,CAAA,CACZ,CAAA,CACF,CAAA,EACF,SAEC,MAAA,CACC,SAAA,CAAAS,EAAAA,IAACC,GAAM,SAAA,aAAA,CAAW,EAClBD,EAAAA,IAACQ,GAAA,CACC,KAAK,cACL,MAAOpB,EAAS,YAChB,SAAUG,EACV,YAAY,wBAAA,CAAA,CACd,EACF,SAEC,MAAA,CACC,SAAA,CAAAS,EAAAA,IAACC,GAAM,SAAA,iBAAA,CAAe,EACtBD,EAAAA,IAACQ,GAAA,CACC,KAAK,WACL,MAAOpB,EAAS,SAChB,SAAUG,EACV,YAAY,kBAAA,CAAA,CACd,EACF,EAEAS,MAAC,MAAA,CAAI,UAAU,kBACb,eAACS,EAAA,CAAO,KAAK,SAAS,SAAUtB,EAAS,UAAU,SAChD,SAAAA,EAAU,aAAe,wBAC5B,CAAA,CACF,CAAA,EACF,CAEJ,CCzKA,SAAwBuB,IAAoB,CAC1C,KAAM,CAAE,QAAAC,CAAA,EAAYC,GAAA,EAEpB,OACEZ,EAAAA,IAAC,OAAI,UAAU,YACZ,YACCD,EAAAA,KAAC,MAAA,CAAI,UAAU,uDACb,SAAA,CAAAA,OAACc,EAAA,CACC,SAAA,CAAAd,EAAAA,KAACe,GAAA,CAAW,UAAU,4DACpB,SAAA,CAAAd,EAAAA,IAACe,GAAA,CAAU,UAAU,sBAAsB,SAAA,cAAW,EACtDf,EAAAA,IAACgB,GAAA,CAAM,UAAU,+BAAA,CAAgC,CAAA,EACnD,SACCC,EAAA,CACC,SAAA,CAAAjB,EAAAA,IAAC,MAAA,CAAI,UAAU,qBAAsB,SAAAW,EAAQ,YAAY,EACzDZ,EAAAA,KAAC,IAAA,CAAE,UAAU,gCACV,SAAA,CAAAY,EAAQ,aAAa,SAAA,CAAA,CACxB,CAAA,CAAA,CACF,CAAA,EACF,SACCE,EAAA,CACC,SAAA,CAAAd,EAAAA,KAACe,GAAA,CAAW,UAAU,4DACpB,SAAA,CAAAd,EAAAA,IAACe,GAAA,CAAU,UAAU,sBAAsB,SAAA,iBAAc,EACzDf,EAAAA,IAACkB,GAAA,CAAS,UAAU,+BAAA,CAAgC,CAAA,EACtD,SACCD,EAAA,CACC,SAAA,CAAAjB,EAAAA,IAAC,MAAA,CAAI,UAAU,qBAAsB,SAAAW,EAAQ,eAAe,EAC5DZ,EAAAA,KAAC,IAAA,CAAE,UAAU,gCACV,SAAA,CAAAY,EAAQ,iBAAiB,UAAA,CAAA,CAC5B,CAAA,CAAA,CACF,CAAA,EACF,SACCE,EAAA,CACC,SAAA,CAAAd,EAAAA,KAACe,GAAA,CAAW,UAAU,4DACpB,SAAA,CAAAd,EAAAA,IAACe,GAAA,CAAU,UAAU,sBAAsB,SAAA,gBAAa,EACxDf,EAAAA,IAACmB,GAAA,CAAW,UAAU,+BAAA,CAAgC,CAAA,EACxD,SACCF,EAAA,CACC,SAAA,CAAAlB,EAAAA,KAAC,MAAA,CAAI,UAAU,qBAAqB,SAAA,CAAA,IAAEY,EAAQ,eAAe,eAAA,CAAe,EAAE,EAC9EZ,EAAAA,KAAC,IAAA,CAAE,UAAU,gCAAgC,SAAA,CAAA,IACzCY,EAAQ,eAAe,eAAA,EAAiB,UAAA,CAAA,CAC5C,CAAA,CAAA,CACF,CAAA,EACF,SACCE,EAAA,CACC,SAAA,CAAAd,EAAAA,KAACe,GAAA,CAAW,UAAU,4DACpB,SAAA,CAAAd,EAAAA,IAACe,GAAA,CAAU,UAAU,sBAAsB,SAAA,aAAU,EACrDf,EAAAA,IAACoB,GAAA,CAAI,UAAU,+BAAA,CAAgC,CAAA,EACjD,SACCH,EAAA,CACC,SAAA,CAAAjB,EAAAA,IAAC,MAAA,CAAI,UAAU,qBAAsB,SAAAW,EAAQ,WAAW,EACxDZ,EAAAA,KAAC,IAAA,CAAE,UAAU,gCACV,SAAA,CAAAY,EAAQ,eAAe,YAAA,CAAA,CAC1B,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAEJ,CAEJ,CCtDA,SAAwBU,IAAgB,CACtC,KAAM,CACJ,MAAAC,EACA,QAAAC,EACA,WAAAC,EACA,SAAAC,EACA,WAAAC,EACA,iBAAAC,EACA,gBAAAC,EACA,aAAAC,EACA,aAAAC,EACA,kBAAAC,EACA,WAAAC,CAAA,EACEpB,GAAA,EAEEqB,EAAWX,GAAO,OAAS,MAAM,QAAQA,CAAK,EAAIA,EAAQ,IAEhE,OACEvB,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAACE,EAAA,CAAM,YAAY,kBAAkB,UAAU,OAAO,EACtDH,EAAAA,KAACI,EAAA,CACC,MAAOoB,EAAQ,MAAM,KACrB,cAAgB7B,GAAU8B,EAAW7B,IAAS,CAC5C,GAAGA,EACH,MAAO,CAAE,GAAGA,EAAK,MAAO,KAAMD,CAAA,CAAM,EACpC,EAEF,SAAA,CAAAM,EAAAA,IAACI,GAAc,UAAU,OACvB,eAACC,EAAA,CAAY,YAAY,OAAO,CAAA,CAClC,SACCC,EAAA,CACC,SAAA,CAAAN,EAAAA,IAACO,EAAA,CAAW,MAAM,MAAM,SAAA,YAAS,EACjCP,EAAAA,IAACO,EAAA,CAAW,MAAM,SAAS,SAAA,SAAM,EACjCP,EAAAA,IAACO,EAAA,CAAW,MAAM,SAAS,SAAA,SAAM,EACjCP,EAAAA,IAACO,EAAA,CAAW,MAAM,QAAQ,SAAA,OAAA,CAAK,CAAA,CAAA,CACjC,CAAA,CAAA,CAAA,EAEFP,EAAAA,IAACS,EAAA,CAAO,QAAQ,UAAU,KAAK,OAAO,QAASiB,EAC7C,SAAA1B,EAAAA,IAACkC,EAAA,CAAU,UAAU,SAAA,CAAU,CAAA,CACjC,CAAA,EACF,EACAnC,EAAAA,KAACU,EAAA,CACC,QAAS,IAAMgB,EAAS,uBAAuB,EAC/C,MAAO,CACL,WAAY,6BAA6BU,GAAO,QAAQ,KAAKA,GAAO,IAAI,GAAA,EAE1E,UAAU,qCAEV,SAAA,CAAAnC,EAAAA,IAACoC,GAAA,CAAU,UAAU,SAAA,CAAU,EAAE,uBAAA,CAAA,CAAA,CAEnC,EACF,QACCvB,EAAA,CACC,SAAAb,EAAAA,IAACiB,GAAY,UAAU,MACrB,gBAACoB,EAAA,CACC,SAAA,CAAArC,EAAAA,IAACsC,EAAA,CACC,gBAACC,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAACwC,GAAU,SAAA,IAAA,CAAE,EACbxC,EAAAA,IAACwC,GAAU,SAAA,MAAA,CAAI,EACfxC,EAAAA,IAACwC,GAAU,SAAA,OAAA,CAAK,EAChBxC,EAAAA,IAACwC,GAAU,SAAA,MAAA,CAAI,EACfxC,EAAAA,IAACwC,GAAU,SAAA,QAAA,CAAM,EACjBxC,EAAAA,IAACwC,GAAU,SAAA,UAAA,CAAQ,EACnBxC,EAAAA,IAACwC,GAAU,SAAA,SAAA,CAAO,CAAA,CAAA,CACpB,CAAA,CACF,EACAxC,EAAAA,IAACyC,EAAA,CACG,UAAA,MAAM,QAAQR,CAAQ,EAAIA,EAAW,CAAA,GAAI,IAAKS,UAC7CH,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAAC2C,EAAA,CAAW,WAAK,EAAA,CAAG,EACpB3C,EAAAA,IAAC2C,EAAA,CACE,SAAAD,EAAK,YAAcA,EAAK,UACrB,GAAGA,EAAK,UAAU,IAAIA,EAAK,SAAS,GACpCA,EAAK,UAAY,MACvB,QACCC,EAAA,CAAW,SAAAD,EAAK,OAASA,EAAK,cAAgB,MAAM,EACrD1C,EAAAA,IAAC2C,GACC,SAAA3C,EAAAA,IAAC4C,EAAA,CAAM,QAAQ,UAAW,SAAAF,EAAK,KAAK,CAAA,CACtC,EACA1C,EAAAA,IAAC2C,EAAA,CACC,SAAA3C,EAAAA,IAAC4C,EAAA,CAAM,QAASF,EAAK,OAAS,UAAY,YACvC,SAAAA,EAAK,OAAS,SAAW,WAC5B,EACF,EACA1C,EAAAA,IAAC2C,EAAA,CACE,SAAAD,EAAK,kBACJ1C,EAAAA,IAAC6C,GAAA,CAAa,UAAU,wBAAA,CAAyB,EAEjD7C,MAAC8C,GAAA,CAAQ,UAAU,wBAAwB,EAE/C,EACA9C,MAAC2C,EAAA,CACC,SAAA5C,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAACS,EAAA,CACC,QAAQ,QACR,KAAK,OACL,QAAS,SAAY,CACnB,MAAMsC,EAAc,MAAMpB,EAAiBe,EAAK,EAAE,EAC9CK,IACFnB,EAAgBmB,CAAW,EAC3BlB,EAAa,WAAW,EACxBC,EAAa,EAAI,EAErB,EACA,MAAM,eAEN,SAAA9B,EAAAA,IAACgD,GAAA,CAAI,UAAU,SAAA,CAAU,CAAA,CAAA,EAE3BhD,EAAAA,IAACS,EAAA,CACC,QAAQ,QACR,KAAK,OACL,QAAS,SAAY,CACnB,MAAMsC,EAAc,MAAMpB,EAAiBe,EAAK,EAAE,EAC9CK,IACFnB,EAAgBmB,CAAW,EAC3BlB,EAAa,WAAW,EACxBC,EAAa,EAAI,EAErB,EAEA,SAAA9B,EAAAA,IAACiD,GAAA,CAAK,UAAU,SAAA,CAAU,CAAA,CAAA,EAE5BjD,EAAAA,IAACS,EAAA,CACC,QAAQ,QACR,KAAK,OACL,QAAS,IAAMsB,EACb,cACA,6CACA,IAAMC,EAAWU,EAAK,EAAE,CAAA,EAG1B,SAAA1C,EAAAA,IAACkD,GAAA,CAAO,UAAU,sBAAA,CAAuB,CAAA,CAAA,CAC3C,CAAA,CACF,CAAA,CACF,CAAA,GAlEaR,EAAK,EAmEpB,CACD,CAAA,CACH,CAAA,CAAA,CACF,EACF,CAAA,CACF,CAAA,EACF,CAEJ,CClJA,SAAwBS,IAAe,CACrC,KAAM,CACJ,KAAAC,EACA,QAAA7B,EACA,WAAAC,EACA,UAAA6B,EACA,gBAAAC,EACA,gBAAA1B,EACA,aAAAC,EACA,aAAAC,EACA,kBAAAC,EACA,UAAAwB,CAAA,EACE3C,GAAA,EAEE4C,EAAUJ,GAAM,OAAS,MAAM,QAAQA,CAAI,EAAIA,EAAO,IAE5D,OACErD,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAC,EAAAA,IAAC,OAAI,UAAU,oCACb,SAAAD,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAA,EAAAA,KAACI,EAAA,CACC,MAAOoB,EAAQ,KAAK,OACpB,cAAgB7B,GAAU8B,EAAW7B,IAAS,CAC5C,GAAGA,EACH,KAAM,CAAE,GAAGA,EAAK,KAAM,OAAQD,CAAA,CAAM,EACpC,EAEF,SAAA,CAAAM,EAAAA,IAACI,GAAc,UAAU,OACvB,eAACC,EAAA,CAAY,YAAY,SAAS,CAAA,CACpC,SACCC,EAAA,CACC,SAAA,CAAAN,EAAAA,IAACO,EAAA,CAAW,MAAM,MAAM,SAAA,eAAY,EACpCP,EAAAA,IAACO,EAAA,CAAW,MAAM,YAAY,SAAA,YAAS,EACvCP,EAAAA,IAACO,EAAA,CAAW,MAAM,gBAAgB,SAAA,gBAAa,EAC/CP,EAAAA,IAACO,EAAA,CAAW,MAAM,SAAS,SAAA,SAAM,EACjCP,EAAAA,IAACO,EAAA,CAAW,MAAM,cAAc,SAAA,aAAA,CAAW,CAAA,CAAA,CAC7C,CAAA,CAAA,CAAA,EAEFP,EAAAA,IAACS,EAAA,CAAO,QAAQ,UAAU,KAAK,OAAO,QAAS4C,EAC7C,SAAArD,EAAAA,IAACkC,EAAA,CAAU,UAAU,SAAA,CAAU,CAAA,CACjC,CAAA,CAAA,CACF,CAAA,CACF,QACCrB,EAAA,CACC,SAAAb,EAAAA,IAACiB,GAAY,UAAU,MACrB,gBAACoB,EAAA,CACC,SAAA,CAAArC,EAAAA,IAACsC,EAAA,CACC,gBAACC,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAACwC,GAAU,SAAA,IAAA,CAAE,EACbxC,EAAAA,IAACwC,GAAU,SAAA,YAAA,CAAU,EACrBxC,EAAAA,IAACwC,GAAU,SAAA,MAAA,CAAI,EACfxC,EAAAA,IAACwC,GAAU,SAAA,QAAA,CAAM,EACjBxC,EAAAA,IAACwC,GAAU,SAAA,UAAA,CAAQ,EACnBxC,EAAAA,IAACwC,GAAU,SAAA,YAAA,CAAU,EACrBxC,EAAAA,IAACwC,GAAU,SAAA,SAAA,CAAO,CAAA,CAAA,CACpB,CAAA,CACF,EACAxC,EAAAA,IAACyC,EAAA,CACG,UAAA,MAAM,QAAQe,CAAO,EAAIA,EAAU,CAAA,GAAI,IAAKC,UAC3ClB,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAAC2C,EAAA,CAAW,WAAI,EAAA,CAAG,SAClBA,EAAA,CAAW,SAAA,CAAAc,EAAI,KAAK,IAAEA,EAAI,KAAA,EAAM,EACjCzD,EAAAA,IAAC2C,EAAA,CAAW,SAAAc,EAAI,IAAA,CAAK,EACrBzD,EAAAA,IAAC2C,GACC,SAAA3C,EAAAA,IAAC4C,EAAA,CAAM,QAAQ,UAAW,SAAAa,EAAI,OAAO,CAAA,CACvC,EACAzD,EAAAA,IAAC2C,EAAA,CACE,SAAAc,EAAI,aACHzD,EAAAA,IAAC6C,GAAA,CAAa,UAAU,wBAAA,CAAyB,EAEjD7C,MAAC8C,GAAA,CAAQ,UAAU,wBAAwB,EAE/C,SACCH,EAAA,CAAU,SAAA,CAAA,IAAEc,EAAI,UAAA,EAAW,EAC5BzD,MAAC2C,EAAA,CACC,SAAA5C,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAACS,EAAA,CACC,QAAQ,QACR,KAAK,OACL,QAAS,SAAY,CACnB,MAAMsC,EAAc,MAAMO,EAAgBG,EAAI,EAAE,EAC5CV,IACFnB,EAAgBmB,CAAW,EAC3BlB,EAAa,UAAU,EACvBC,EAAa,EAAI,EAErB,EACA,MAAM,eAEN,SAAA9B,EAAAA,IAACgD,GAAA,CAAI,UAAU,SAAA,CAAU,CAAA,CAAA,EAE3BhD,EAAAA,IAACS,EAAA,CACC,QAAQ,QACR,KAAK,OACL,QAAS,SAAY,CACnB,MAAMsC,EAAc,MAAMO,EAAgBG,EAAI,EAAE,EAC5CV,IACFnB,EAAgBmB,CAAW,EAC3BlB,EAAa,UAAU,EACvBC,EAAa,EAAI,EAErB,EAEA,SAAA9B,EAAAA,IAACiD,GAAA,CAAK,UAAU,SAAA,CAAU,CAAA,CAAA,EAE5BjD,EAAAA,IAACS,EAAA,CACC,QAAQ,QACR,KAAK,OACL,QAAS,IAAMsB,EACb,aACA,4CACA,IAAMwB,EAAUE,EAAI,EAAE,CAAA,EAGxB,SAAAzD,EAAAA,IAACkD,GAAA,CAAO,UAAU,sBAAA,CAAuB,CAAA,CAAA,CAC3C,CAAA,CACF,CAAA,CACF,CAAA,GA1DaO,EAAI,EA2DnB,CACD,CAAA,CACH,CAAA,CAAA,CACF,EACF,CAAA,CACF,CAAA,EACF,CAEJ,CC9HA,SAAwBC,IAAmB,CACzC,KAAM,CACJ,SAAAC,EACA,QAAApC,EACA,WAAAC,EACA,cAAAoC,EACA,oBAAAC,EACA,gBAAAjC,EACA,aAAAC,EACA,aAAAC,EACA,qBAAAgC,CAAA,EACElD,GAAA,EAEEmD,EAAcJ,GAAU,OAAS,MAAM,QAAQA,CAAQ,EAAIA,EAAW,IAE5E,OACE5D,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAC,EAAAA,IAAC,OAAI,UAAU,oCACb,SAAAD,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAA,EAAAA,KAACI,EAAA,CACC,MAAOoB,EAAQ,SAAS,OACxB,cAAgB7B,GAAU8B,EAAW7B,IAAS,CAC5C,GAAGA,EACH,SAAU,CAAE,GAAGA,EAAK,SAAU,OAAQD,CAAA,CAAM,EAC5C,EAEF,SAAA,CAAAM,EAAAA,IAACI,GAAc,UAAU,OACvB,eAACC,EAAA,CAAY,YAAY,SAAS,CAAA,CACpC,SACCC,EAAA,CACC,SAAA,CAAAN,EAAAA,IAACO,EAAA,CAAW,MAAM,MAAM,SAAA,eAAY,EACpCP,EAAAA,IAACO,EAAA,CAAW,MAAM,UAAU,SAAA,UAAO,EACnCP,EAAAA,IAACO,EAAA,CAAW,MAAM,YAAY,SAAA,YAAS,EACvCP,EAAAA,IAACO,EAAA,CAAW,MAAM,YAAY,SAAA,YAAS,EACvCP,EAAAA,IAACO,EAAA,CAAW,MAAM,YAAY,SAAA,YAAS,EACvCP,EAAAA,IAACO,EAAA,CAAW,MAAM,WAAW,SAAA,UAAA,CAAQ,CAAA,CAAA,CACvC,CAAA,CAAA,CAAA,EAEFP,EAAAA,IAACS,EAAA,CAAO,QAAQ,UAAU,KAAK,OAAO,QAASmD,EAC7C,SAAA5D,EAAAA,IAACkC,EAAA,CAAU,UAAU,SAAA,CAAU,CAAA,CACjC,CAAA,CAAA,CACF,CAAA,CACF,QACCrB,EAAA,CACC,SAAAb,EAAAA,IAACiB,GAAY,UAAU,MACrB,gBAACoB,EAAA,CACC,SAAA,CAAArC,EAAAA,IAACsC,EAAA,CACC,gBAACC,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAACwC,GAAU,SAAA,IAAA,CAAE,EACbxC,EAAAA,IAACwC,GAAU,SAAA,QAAA,CAAM,EACjBxC,EAAAA,IAACwC,GAAU,SAAA,KAAA,CAAG,EACdxC,EAAAA,IAACwC,GAAU,SAAA,QAAA,CAAM,EACjBxC,EAAAA,IAACwC,GAAU,SAAA,SAAA,CAAO,EAClBxC,EAAAA,IAACwC,GAAU,SAAA,aAAA,CAAW,EACtBxC,EAAAA,IAACwC,GAAU,SAAA,SAAA,CAAO,CAAA,CAAA,CACpB,CAAA,CACF,EACAxC,EAAAA,IAACyC,EAAA,CACG,UAAA,MAAM,QAAQsB,CAAW,EAAIA,EAAc,CAAA,GAAI,IAAKC,UACnDzB,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAAC2C,EAAA,CAAW,WAAQ,EAAA,CAAG,EACvB3C,EAAAA,IAAC2C,GACE,SAAAqB,EAAQ,QAAQ,YAAcA,EAAQ,QAAQ,UAC3C,GAAGA,EAAQ,OAAO,UAAU,IAAIA,EAAQ,OAAO,SAAS,GACxDA,EAAQ,QAAQ,UAAY,KAAA,CAClC,SACCrB,EAAA,CAAW,SAAA,CAAAqB,EAAQ,KAAK,KAAK,IAAEA,EAAQ,KAAK,KAAA,EAAM,EACnDhE,EAAAA,IAAC2C,GACC,SAAA3C,EAAAA,IAAC4C,EAAA,CAAM,QAAQ,UAAW,SAAAoB,EAAQ,uBAAuB,CAAA,CAC3D,EACAhE,EAAAA,IAAC2C,EAAA,CACC,SAAA3C,EAAAA,IAAC4C,EAAA,CAAM,QAASoB,EAAQ,iBAAmB,OAAS,UAAY,YAC7D,SAAAA,EAAQ,cAAA,CACX,EACF,SACCrB,EAAA,CAAU,SAAA,CAAA,IAAEqB,EAAQ,mBAAA,EAAoB,EACzChE,MAAC2C,EAAA,CACC,SAAA5C,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAACS,EAAA,CACC,QAAQ,QACR,KAAK,OACL,QAAS,SAAY,CACnB,MAAMsC,EAAc,MAAMc,EAAoBG,EAAQ,EAAE,EACpDjB,IACFnB,EAAgBmB,CAAW,EAC3BlB,EAAa,cAAc,EAC3BC,EAAa,EAAI,EAErB,EACA,MAAM,eAEN,SAAA9B,EAAAA,IAACgD,GAAA,CAAI,UAAU,SAAA,CAAU,CAAA,CAAA,EAE3BhD,EAAAA,IAACS,EAAA,CACC,QAAQ,QACR,KAAK,OACL,QAAS,SAAY,CACnB,MAAMsC,EAAc,MAAMc,EAAoBG,EAAQ,EAAE,EACpDjB,IACFnB,EAAgBmB,CAAW,EAC3BlB,EAAa,cAAc,EAC3BC,EAAa,EAAI,EAErB,EAEA,SAAA9B,EAAAA,IAACiD,GAAA,CAAK,UAAU,SAAA,CAAU,CAAA,CAAA,EAE3Be,EAAQ,yBAA2B,aAClChE,EAAAA,IAACS,EAAA,CACC,QAAQ,QACR,KAAK,OACL,QAAS,IAAMqD,EAAqBE,EAAQ,EAAE,EAC9C,MAAM,iBACN,aAAW,yBAEX,SAAAhE,EAAAA,IAAC6C,GAAA,CAAa,UAAU,wBAAA,CAAyB,CAAA,CAAA,CACnD,CAAA,CAEJ,CAAA,CACF,CAAA,GA5DamB,EAAQ,EA6DvB,CACD,CAAA,CACH,CAAA,CAAA,CACF,EACF,CAAA,CACF,CAAA,EACF,CAEJ,CChIA,SAAwBC,IAAmB,CACzC,KAAM,CACJ,SAAAC,EACA,gBAAAtC,EACA,aAAAC,EACA,aAAAC,EACA,cAAAqC,EACA,cAAAC,CAAA,EACExD,GAAA,EAEEyD,EAAcH,GAAU,OAAS,MAAM,QAAQA,CAAQ,EAAIA,EAAW,IAEtEI,EAAU,CACd,CAAE,IAAK,KAAM,MAAO,IAAA,EACpB,CAAE,IAAK,OAAQ,MAAO,OAAQ,UAAYC,GAAMA,EAAE,MAAM,MAAQ,KAAA,EAChE,CAAE,IAAK,SAAU,MAAO,SAAU,UAAYA,GAAM,IAAIA,EAAE,MAAM,EAAA,EAChE,CAAE,IAAK,OAAQ,MAAO,MAAA,EACtB,CAAE,IAAK,SAAU,MAAO,QAAA,EACxB,CAAE,IAAK,SAAU,MAAO,QAAA,EACxB,CAAE,IAAK,OAAQ,MAAO,MAAA,EACtB,CAAE,IAAK,aAAc,MAAO,aAAc,UAAYA,GAAM,IAAI,KAAKA,EAAE,UAAU,EAAE,gBAAe,CAAE,EAGtG,OACExE,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAA,EAAAA,KAACU,EAAA,CACC,QAAS,IAAM,CACbmB,EAAgB,IAAI,EACpBC,EAAa,gBAAgB,EAC7BC,EAAa,EAAI,CACnB,EAEA,SAAA,CAAA9B,EAAAA,IAACwE,GAAA,CAAK,UAAU,cAAA,CAAe,EAAE,uBAAA,CAAA,CAAA,EAGnCzE,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAA,EAAAA,KAACU,EAAA,CACC,QAAQ,UACR,QAAS,IAAM,CACb,MAAMgE,GAAQ,MAAM,QAAQJ,CAAW,EAAIA,EAAc,CAAA,GAAI,IAAI,IAAM,CACrE,GAAG,EACH,KAAM,EAAE,MAAM,MAAQ,MACtB,OAAQ,IAAI,EAAE,MAAM,GACpB,WAAY,IAAI,KAAK,EAAE,UAAU,EAAE,eAAA,CAAe,EAClD,EACFK,GAAcD,EAAMH,EAAS,UAAU,CACzC,EAEA,SAAA,CAAAtE,EAAAA,IAAC2E,GAAA,CAAS,UAAU,cAAA,CAAe,EAAE,cAAA,CAAA,CAAA,EAGvC5E,EAAAA,KAACU,EAAA,CACC,QAAQ,UACR,QAAS,IAAM,CACb,MAAMgE,GAAQ,MAAM,QAAQJ,CAAW,EAAIA,EAAc,CAAA,GAAI,IAAI,IAAM,CACrE,GAAG,EACH,KAAM,EAAE,MAAM,MAAQ,MACtB,OAAQ,IAAI,EAAE,MAAM,GACpB,WAAY,IAAI,KAAK,EAAE,UAAU,EAAE,eAAA,CAAe,EAClD,EACFO,GAAiBH,EAAMH,EAAS,kBAAmB,UAAU,CAC/D,EAEA,SAAA,CAAAtE,EAAAA,IAAC2E,GAAA,CAAS,UAAU,cAAA,CAAe,EAAE,YAAA,CAAA,CAAA,EAGvC3E,EAAAA,IAACS,EAAA,CAAO,QAAQ,UAAU,KAAK,OAAO,QAAS0D,EAAe,aAAW,mBACvE,SAAAnE,EAAAA,IAACkC,EAAA,CAAU,UAAU,UAAU,CAAA,CACjC,CAAA,CAAA,CACF,CAAA,EACF,QACCrB,EAAA,CACC,SAAAb,EAAAA,IAACiB,GAAY,UAAU,MACrB,gBAACoB,EAAA,CACC,SAAA,CAAArC,EAAAA,IAACsC,EAAA,CACC,gBAACC,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAACwC,GAAU,SAAA,IAAA,CAAE,EACbxC,EAAAA,IAACwC,GAAU,SAAA,MAAA,CAAI,EACfxC,EAAAA,IAACwC,GAAU,SAAA,QAAA,CAAM,EACjBxC,EAAAA,IAACwC,GAAU,SAAA,MAAA,CAAI,EACfxC,EAAAA,IAACwC,GAAU,SAAA,QAAA,CAAM,EACjBxC,EAAAA,IAACwC,GAAU,SAAA,QAAA,CAAM,EACjBxC,EAAAA,IAACwC,GAAU,SAAA,SAAA,CAAO,CAAA,CAAA,CACpB,CAAA,CACF,EACAxC,EAAAA,IAACyC,EAAA,CACG,UAAA,MAAM,QAAQ4B,CAAW,EAAIA,EAAc,CAAA,GAAI,IAAKQ,UACnDtC,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAAC2C,EAAA,CAAW,WAAQ,EAAA,CAAG,EACvB3C,EAAAA,IAAC2C,EAAA,CAAW,SAAAkC,EAAQ,MAAM,MAAQ,MAAM,SACvClC,EAAA,CAAU,SAAA,CAAA,IAAEkC,EAAQ,MAAA,EAAO,EAC5B7E,EAAAA,IAAC2C,GACC,SAAA3C,EAAAA,IAAC4C,EAAA,CAAM,QAAQ,UAAW,SAAAiC,EAAQ,KAAK,CAAA,CACzC,EACA7E,EAAAA,IAAC2C,EAAA,CACC,SAAA3C,EAAAA,IAAC4C,EAAA,CAAM,QAASiC,EAAQ,SAAW,OAAS,UAAY,YACrD,SAAAA,EAAQ,MAAA,CACX,EACF,EACA7E,EAAAA,IAAC2C,EAAA,CAAW,SAAAkC,EAAQ,MAAA,CAAO,QAC1BlC,EAAA,CACE,SAAAkC,EAAQ,OAAS,UAAYA,EAAQ,SAAW,aAC/C7E,EAAAA,IAACS,EAAA,CACC,QAAQ,QACR,KAAK,KACL,QAAS,IAAM,CACb,MAAMqE,EAAYD,EAAQ,cAAgBA,EAAQ,GAClDT,EAAcU,CAAS,CACzB,EACD,SAAA,gBAAA,CAAA,CAED,CAEJ,CAAA,GA1BaD,EAAQ,EA2BvB,CACD,CAAA,CACH,CAAA,CAAA,CACF,EACF,CAAA,CACF,CAAA,EACF,CAEJ,CC5HA,SAAwBE,IAAwB,CAC9C,KAAM,CACJ,cAAAC,EACA,gBAAApD,EACA,aAAAC,EACA,aAAAC,EACA,mBAAAmD,EACA,kBAAAlD,EACA,mBAAAmD,CAAA,EACEtE,GAAA,EAEEuE,EAAOH,GAAe,OAAS,MAAM,QAAQA,CAAa,EAAIA,EAAgB,IAEpF,OACEjF,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAA,EAAAA,KAACU,EAAA,CACC,QAAS,IAAM,CACbmB,EAAgB,IAAI,EACpBC,EAAa,qBAAqB,EAClCC,EAAa,EAAI,CACnB,EAEA,SAAA,CAAA9B,EAAAA,IAACwE,GAAA,CAAK,UAAU,cAAA,CAAe,EAAE,qBAAA,CAAA,CAAA,EAGnCxE,EAAAA,IAACS,EAAA,CAAO,QAAQ,UAAU,KAAK,OAAO,QAASwE,EAC7C,SAAAjF,EAAAA,IAACkC,EAAA,CAAU,UAAU,SAAA,CAAU,CAAA,CACjC,CAAA,EACF,QACCrB,EAAA,CACC,SAAAb,EAAAA,IAACiB,GAAY,UAAU,MACrB,gBAACoB,EAAA,CACC,SAAA,CAAArC,EAAAA,IAACsC,EAAA,CACC,gBAACC,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAACwC,GAAU,SAAA,IAAA,CAAE,EACbxC,EAAAA,IAACwC,GAAU,SAAA,OAAA,CAAK,EAChBxC,EAAAA,IAACwC,GAAU,SAAA,QAAA,CAAM,EACjBxC,EAAAA,IAACwC,GAAU,SAAA,UAAA,CAAQ,EACnBxC,EAAAA,IAACwC,GAAU,SAAA,iBAAA,CAAe,EAC1BxC,EAAAA,IAACwC,GAAU,SAAA,SAAA,CAAO,CAAA,CAAA,CACpB,CAAA,CACF,EACAxC,EAAAA,IAACyC,EAAA,CACG,UAAA,MAAM,QAAQ0C,CAAI,EAAIA,EAAO,CAAA,GAAI,IAAKC,UACrC7C,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAAC2C,EAAA,CAAW,WAAa,EAAA,CAAG,EAC5B3C,EAAAA,IAAC2C,EAAA,CAAW,SAAAyC,EAAa,KAAA,CAAM,EAC/BpF,EAAAA,IAAC2C,GACC,SAAA3C,EAAAA,IAAC4C,EAAA,CAAM,QAAQ,UAAW,SAAAwC,EAAa,OAAO,CAAA,CAChD,EACApF,EAAAA,IAAC2C,GACC,SAAA3C,EAAAA,IAAC4C,EAAA,CAAM,QAAQ,UAAW,SAAAwC,EAAa,SAAS,CAAA,CAClD,QACCzC,EAAA,CACE,SAAAyC,EAAa,iBAAiB,KAAK,IAAI,GAAK,MAC/C,EACApF,MAAC2C,EAAA,CACC,SAAA5C,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAACS,EAAA,CACC,QAAQ,QACR,KAAK,OACL,QAAS,IAAM,CACbmB,EAAgBwD,CAAY,EAC5BvD,EAAa,mBAAmB,EAChCC,EAAa,EAAI,CACnB,EACA,aAAW,oBAEX,SAAA9B,EAAAA,IAACiD,GAAA,CAAK,UAAU,SAAA,CAAU,CAAA,CAAA,EAE5BjD,EAAAA,IAACS,EAAA,CACC,QAAQ,QACR,KAAK,OACL,QAAS,IAAMsB,EACb,sBACA,qDACA,IAAMmD,EAAmBE,EAAa,EAAE,CAAA,EAG1C,SAAApF,EAAAA,IAACkD,GAAA,CAAO,UAAU,sBAAA,CAAuB,CAAA,CAAA,CAC3C,CAAA,CACF,CAAA,CACF,CAAA,GAtCakC,EAAa,EAuC5B,CACD,CAAA,CACH,CAAA,CAAA,CACF,EACF,CAAA,CACF,CAAA,EACF,CAEJ,CC3FA,SAAwBC,IAAkB,CACxC,KAAM,CACJ,QAAAC,EACA,QAAA/D,EACA,WAAAC,EACA,gBAAAI,EACA,aAAAC,EACA,aAAAC,EACA,aAAAyD,CAAA,EACE3E,GAAA,EAEEuE,EAAOG,GAAS,OAAS,MAAM,QAAQA,CAAO,EAAIA,EAAU,IAElE,OACEvF,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAA,EAAAA,KAACI,EAAA,CACC,MAAOoB,EAAQ,QAAQ,OACvB,cAAgB7B,GAAU8B,EAAW7B,IAAS,CAC5C,GAAGA,EACH,QAAS,CAAE,GAAGA,EAAK,QAAS,OAAQD,CAAA,CAAM,EAC1C,EAEF,SAAA,CAAAM,EAAAA,IAACI,GAAc,UAAU,OACvB,eAACC,EAAA,CAAY,YAAY,SAAS,CAAA,CACpC,SACCC,EAAA,CACC,SAAA,CAAAN,EAAAA,IAACO,EAAA,CAAW,MAAM,MAAM,SAAA,eAAY,EACpCP,EAAAA,IAACO,EAAA,CAAW,MAAM,YAAY,SAAA,YAAS,EACvCP,EAAAA,IAACO,EAAA,CAAW,MAAM,eAAe,SAAA,eAAY,EAC7CP,EAAAA,IAACO,EAAA,CAAW,MAAM,WAAW,SAAA,WAAQ,EACrCP,EAAAA,IAACO,EAAA,CAAW,MAAM,WAAW,SAAA,WAAQ,EACrCP,EAAAA,IAACO,EAAA,CAAW,MAAM,YAAY,SAAA,WAAA,CAAS,CAAA,CAAA,CACzC,CAAA,CAAA,CAAA,EAEFP,EAAAA,IAACS,EAAA,CAAO,QAAQ,UAAU,KAAK,OAAO,QAAS8E,EAC7C,SAAAvF,EAAAA,IAACkC,EAAA,CAAU,UAAU,SAAA,CAAU,CAAA,CACjC,CAAA,EACF,QACCrB,EAAA,CACC,SAAAb,EAAAA,IAACiB,GAAY,UAAU,MACrB,gBAACoB,EAAA,CACC,SAAA,CAAArC,EAAAA,IAACsC,EAAA,CACC,gBAACC,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAACwC,GAAU,SAAA,IAAA,CAAE,EACbxC,EAAAA,IAACwC,GAAU,SAAA,MAAA,CAAI,EACfxC,EAAAA,IAACwC,GAAU,SAAA,MAAA,CAAI,EACfxC,EAAAA,IAACwC,GAAU,SAAA,QAAA,CAAM,EACjBxC,EAAAA,IAACwC,GAAU,SAAA,UAAA,CAAQ,EACnBxC,EAAAA,IAACwC,GAAU,SAAA,SAAA,CAAO,CAAA,CAAA,CACpB,CAAA,CACF,EACAxC,EAAAA,IAACyC,EAAA,CACG,UAAA,MAAM,QAAQ0C,CAAI,EAAIA,EAAO,CAAA,GAAI,IAAKK,UACrCjD,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAAC2C,EAAA,CAAW,WAAO,EAAA,CAAG,EACtB3C,EAAAA,IAAC2C,GAAW,SAAA6C,EAAO,MAAM,UAAYA,EAAO,MAAM,OAAS,KAAA,CAAM,EACjExF,EAAAA,IAAC2C,EAAA,CAAW,SAAA6C,EAAO,MAAQ,MAAM,EACjCxF,EAAAA,IAAC2C,GACC,SAAA3C,EAAAA,IAAC4C,EAAA,CAAM,QAAQ,UAAW,SAAA4C,EAAO,OAAO,CAAA,CAC1C,EACAxF,EAAAA,IAAC2C,GACC,SAAA3C,EAAAA,IAAC4C,EAAA,CAAM,QAAQ,UAAW,SAAA4C,EAAO,UAAY,KAAA,CAAM,CAAA,CACrD,QACC7C,EAAA,CACC,SAAA3C,EAAAA,IAACS,EAAA,CACC,QAAQ,QACR,KAAK,OACL,QAAS,IAAM,CACbmB,EAAgB4D,CAAM,EACtB3D,EAAa,aAAa,EAC1BC,EAAa,EAAI,CACnB,EAEA,SAAA9B,EAAAA,IAACiD,GAAA,CAAK,UAAU,SAAA,CAAU,CAAA,CAAA,CAC5B,CACF,CAAA,GAtBauC,EAAO,EAuBtB,CACD,CAAA,CACH,CAAA,CAAA,CACF,EACF,CAAA,CACF,CAAA,EACF,CAEJ,CCvFA,SAAwBC,IAAc,CACpC,KAAM,CACJ,IAAAC,EACA,SAAAjE,EACA,gBAAAG,EACA,aAAAC,EACA,aAAAC,EACA,SAAA6D,EACA,kBAAA5D,EACA,SAAA6D,CAAA,EACEhF,GAAA,EAEEuE,EAAOO,GAAK,OAAS,MAAM,QAAQA,CAAG,EAAIA,EAAM,IAEtD,OACE3F,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAA,EAAAA,KAACU,EAAA,CACC,QAAS,IAAM,CACbmB,EAAgB,IAAI,EACpBC,EAAa,WAAW,EACxBC,EAAa,EAAI,CACnB,EAEA,SAAA,CAAA9B,EAAAA,IAACwE,GAAA,CAAK,UAAU,cAAA,CAAe,EAAE,WAAA,CAAA,CAAA,EAGnCzE,OAACU,GAAO,QAAQ,UAAU,QAAS,IAAMgB,EAAS,sBAAsB,EACtE,SAAA,CAAAzB,EAAAA,IAAC6F,GAAA,CAAU,UAAU,cAAA,CAAe,EAAE,gBAAA,CAAA,CAExC,CAAA,EACF,EACA7F,EAAAA,IAACS,EAAA,CAAO,QAAQ,UAAU,KAAK,OAAO,QAASkF,EAAU,aAAW,cAClE,SAAA3F,EAAAA,IAACkC,EAAA,CAAU,UAAU,UAAU,CAAA,CACjC,CAAA,EACF,QACCrB,EAAA,CACC,SAAAb,EAAAA,IAACiB,GAAY,UAAU,MACrB,gBAACoB,EAAA,CACC,SAAA,CAAArC,EAAAA,IAACsC,EAAA,CACC,gBAACC,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAACwC,GAAU,SAAA,IAAA,CAAE,EACbxC,EAAAA,IAACwC,GAAU,SAAA,SAAA,CAAO,EAClBxC,EAAAA,IAACwC,GAAU,SAAA,cAAA,CAAY,EACvBxC,EAAAA,IAACwC,GAAU,SAAA,QAAA,CAAM,EACjBxC,EAAAA,IAACwC,GAAU,SAAA,OAAA,CAAK,EAChBxC,EAAAA,IAACwC,GAAU,SAAA,QAAA,CAAM,EACjBxC,EAAAA,IAACwC,GAAU,SAAA,SAAA,CAAO,CAAA,CAAA,CACpB,CAAA,CACF,EACAxC,EAAAA,IAACyC,EAAA,CACG,UAAA,MAAM,QAAQ0C,CAAI,EAAIA,EAAO,CAAA,GAAI,IAAKW,UACrCvD,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAAC2C,EAAA,CAAW,WAAG,EAAA,CAAG,EAClB3C,EAAAA,IAAC2C,EAAA,CAAW,SAAAmD,EAAG,OAAA,CAAQ,EACvB9F,EAAAA,IAAC2C,EAAA,CAAW,SAAAmD,EAAG,YAAA,CAAa,EAC5B9F,EAAAA,IAAC2C,EAAA,CACE,SAAAmD,EAAG,OACF9F,EAAAA,IAAC6C,GAAA,CAAa,UAAU,wBAAA,CAAyB,EAEjD7C,MAAC8C,GAAA,CAAQ,UAAU,wBAAwB,EAE/C,EACA9C,EAAAA,IAAC2C,EAAA,CAAW,SAAAmD,EAAG,QAAA,CAAS,EACxB9F,EAAAA,IAAC2C,EAAA,CAAW,SAAAmD,EAAG,SAAA,CAAU,EACzB9F,MAAC2C,EAAA,CACC,SAAA5C,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAACS,EAAA,CACC,QAAQ,QACR,KAAK,OACL,QAAS,IAAM,CACbmB,EAAgBkE,CAAE,EAClBjE,EAAa,SAAS,EACtBC,EAAa,EAAI,CACnB,EAEA,SAAA9B,EAAAA,IAACiD,GAAA,CAAK,UAAU,SAAA,CAAU,CAAA,CAAA,EAE5BjD,EAAAA,IAACS,EAAA,CACC,QAAQ,QACR,KAAK,OACL,QAAS,IAAMsB,EACb,YACA,2CACA,IAAM6D,EAASE,EAAG,EAAE,CAAA,EAGtB,SAAA9F,EAAAA,IAACkD,GAAA,CAAO,UAAU,sBAAA,CAAuB,CAAA,CAAA,CAC3C,CAAA,CACF,CAAA,CACF,CAAA,GAtCa4C,EAAG,EAuClB,CACD,CAAA,CACH,CAAA,CAAA,CACF,EACF,CAAA,CACF,CAAA,EACF,CAEJ,CClGA,SAAwBC,IAAqB,CAC3C,KAAM,CACJ,WAAAC,EACA,QAAAC,EACA,QAAA1E,EACA,WAAAC,EACA,cAAA0E,EACA,gBAAAtE,EACA,aAAAC,EACA,aAAAC,EACA,gBAAAqE,EACA,oBAAAC,EACA,qBAAAC,EACA,kBAAAtE,EACA,sBAAAuE,CAAA,EACE1F,GAAA,EAEEuE,EAAOa,GAAY,OAAS,MAAM,QAAQA,CAAU,EAAIA,EAAa,IAE3E,OACEjG,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAA,EAAAA,KAACU,EAAA,CACC,QAAS,IAAM,CACbmB,EAAgB,IAAI,EACpBC,EAAa,mBAAmB,EAChCC,EAAa,EAAI,CACnB,EAEA,SAAA,CAAA9B,EAAAA,IAACwE,GAAA,CAAK,UAAU,cAAA,CAAe,EAAE,mBAAA,CAAA,CAAA,EAGnCzE,EAAAA,KAACU,EAAA,CACC,QAAQ,UACR,QAAS,IAAM,CACbyF,EAAc,CAAE,SAAU,GAAI,aAAc,GAAI,MAAO,GAAI,SAAU,GAAI,sBAAuB,GAAI,WAAY,GAAI,UAAW,GAAI,EACnIrE,EAAa,eAAe,EAC5BC,EAAa,EAAI,CACnB,EAEA,SAAA,CAAA9B,EAAAA,IAACgB,GAAA,CAAM,UAAU,cAAA,CAAe,EAAE,eAAA,CAAA,CAAA,EAGpCjB,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAA,EAAAA,KAACI,EAAA,CACC,MAAOoB,EAAQ,WAAW,WAAa,MACvC,cAAgBgF,GACd/E,EAAY7B,IAAU,CACpB,GAAGA,EACH,WAAY,CAAE,GAAGA,EAAK,WAAY,UAAW4G,CAAA,CAAI,EACjD,EAGJ,SAAA,CAAAvG,EAAAA,IAACI,GAAc,UAAU,YACvB,eAACC,EAAA,CAAY,YAAY,mBAAmB,CAAA,CAC9C,SACCC,EAAA,CACC,SAAA,CAAAN,EAAAA,IAACO,EAAA,CAAW,MAAM,MAAM,SAAA,cAAW,GACjC,MAAM,QAAQ0F,CAAO,EAAIA,EAAU,CAAA,GAAI,IAAKO,GAC5CxG,EAAAA,IAACO,EAAA,CAAsB,MAAO,OAAOiG,EAAE,EAAE,EACtC,SAAAA,EAAE,UAAY,GAAGA,EAAE,YAAc,EAAE,IAAIA,EAAE,WAAa,EAAE,IAAM,WAAWA,EAAE,EAAE,EAAA,EAD/DA,EAAE,EAEnB,CACD,CAAA,CAAA,CACH,CAAA,CAAA,CAAA,EAEFzG,EAAAA,KAACI,EAAA,CACC,MAAOoB,EAAQ,WAAW,UAC1B,cAAgBgF,GACd/E,EAAY7B,IAAU,CACpB,GAAGA,EACH,WAAY,CAAE,GAAGA,EAAK,WAAY,UAAW4G,CAAA,CAAI,EACjD,EAGJ,SAAA,CAAAvG,EAAAA,IAACI,GAAc,UAAU,YACvB,eAACC,EAAA,CAAY,YAAY,SAAS,CAAA,CACpC,SACCC,EAAA,CACC,SAAA,CAAAN,EAAAA,IAACO,EAAA,CAAW,MAAM,MAAM,SAAA,aAAU,EAClCP,EAAAA,IAACO,EAAA,CAAW,MAAM,OAAO,SAAA,SAAM,EAC/BP,EAAAA,IAACO,EAAA,CAAW,MAAM,QAAQ,SAAA,UAAA,CAAQ,CAAA,CAAA,CACpC,CAAA,CAAA,CAAA,CACF,CAAA,CACF,CAAA,EACF,EACAP,EAAAA,IAACS,EAAA,CAAO,QAAQ,UAAU,KAAK,OAAO,QAAS0F,EAAiB,aAAW,sBACzE,SAAAnG,EAAAA,IAACkC,EAAA,CAAU,UAAU,UAAU,CAAA,CACjC,CAAA,EACF,QACCrB,EAAA,CACC,SAAAb,EAAAA,IAACiB,GAAY,UAAU,MACrB,gBAACoB,EAAA,CACC,SAAA,CAAArC,EAAAA,IAACsC,EAAA,CACC,gBAACC,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAACwC,GAAU,SAAA,MAAA,CAAI,EACfxC,EAAAA,IAACwC,GAAU,SAAA,QAAA,CAAM,EACjBxC,EAAAA,IAACwC,GAAU,SAAA,aAAA,CAAW,EACtBxC,EAAAA,IAACwC,GAAU,SAAA,MAAA,CAAI,EACfxC,EAAAA,IAACwC,GAAU,SAAA,cAAA,CAAY,EACvBxC,EAAAA,IAACwC,GAAU,SAAA,QAAA,CAAM,EACjBxC,EAAAA,IAACwC,GAAU,SAAA,YAAA,CAAU,EACrBxC,EAAAA,IAACwC,GAAU,SAAA,SAAA,CAAO,CAAA,CAAA,CACpB,CAAA,CACF,EACAxC,EAAAA,IAACyC,EAAA,CACG,UAAA,MAAM,QAAQ0C,CAAI,EAAIA,EAAO,CAAA,GAAI,IAAKsB,UACrClE,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAAC2C,EAAA,CAAU,UAAU,0BAA2B,SAAA8D,EAAM,KAAK,QAC1D9D,EAAA,CACE,SAAA8D,EAAM,OACFA,EAAM,OAAO,UACb,GAAGA,EAAM,OAAO,YAAc,EAAE,IAAIA,EAAM,OAAO,WAAa,EAAE,GACjE,MACN,QACC9D,EAAA,CAAU,UAAU,oBAClB,SAAA8D,EAAM,aAAe,IACxB,SACC9D,EAAA,CACE,SAAA,CAAA8D,EAAM,aAAa,MAAIA,EAAM,UAAY,GAAA,EAC5C,SACC9D,EAAA,CAAW,SAAA,CAAA8D,EAAM,uBAAyB,EAAE,GAAA,EAAC,EAC9CzG,EAAAA,IAAC2C,EAAA,CACC,SAAA3C,EAAAA,IAAC4C,EAAA,CAAM,QAAS6D,EAAM,UAAY,UAAY,YAC3C,SAAAA,EAAM,UAAY,SAAW,WAChC,EACF,EACAzG,EAAAA,IAAC2C,EAAA,CACE,SAAA8D,EAAM,WAAa,IAAI,KAAKA,EAAM,UAAU,EAAE,mBAAA,EAAuB,WAAA,CACxE,EACAzG,MAAC2C,EAAA,CACC,SAAA5C,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAACS,EAAA,CACC,QAAQ,QACR,KAAK,OACL,QAAS,IAAM,CACbmB,EAAgB6E,CAAK,EACrB5E,EAAa,iBAAiB,EAC9BC,EAAa,EAAI,CACnB,EAEA,SAAA9B,EAAAA,IAACiD,GAAA,CAAK,UAAU,SAAA,CAAU,CAAA,CAAA,EAE5BjD,EAAAA,IAACS,EAAA,CACC,QAAQ,QACR,KAAK,OACL,QAAS,IAAM,CACbmB,EAAgB6E,CAAK,EACrBL,EAAoBK,EAAM,EAAE,EAC5BJ,EAAqBI,EAAM,SAAS,EACpC5E,EAAa,kBAAkB,EAC/BC,EAAa,EAAI,CACnB,EAEA,SAAA9B,EAAAA,IAACgB,GAAA,CAAM,UAAU,SAAA,CAAU,CAAA,CAAA,EAE7BhB,EAAAA,IAACS,EAAA,CACC,QAAQ,QACR,KAAK,OACL,QAAS,IACPsB,EACE,oBACA,mDACA,IAAMuE,EAAsBG,EAAM,EAAE,CAAA,EAIxC,SAAAzG,EAAAA,IAACkD,GAAA,CAAO,UAAU,sBAAA,CAAuB,CAAA,CAAA,CAC3C,CAAA,CACF,CAAA,CACF,CAAA,GA/DauD,EAAM,EAgErB,CACD,CAAA,CACH,CAAA,CAAA,CACF,EACF,CAAA,CACF,CAAA,EACF,CAEJ,CClLA,SAAwBC,IAAkB,CACxC,KAAM,CACJ,QAAAT,EACA,eAAAU,EACA,gBAAAC,EACA,mBAAAC,EACA,cAAAC,EACA,kBAAAC,EACA,cAAAC,EACA,gBAAAC,EACA,sBAAAC,EACA,uBAAAC,EACA,0BAAAC,EACA,qBAAAC,EACA,cAAAnB,EACA,cAAAoB,EACA,kBAAAC,EACA,aAAA1F,EACA,aAAAC,GACA,aAAA0F,GACA,2BAAAC,GACA,iBAAAC,GACA,kBAAAC,EACA,kBAAA5F,GACA,uBAAA6F,GACA,2BAAAC,EAAA,EACEjH,GAAA,EAEEkH,GAAmC,MAAOC,GAAW,CACzD,GAAKpB,GAAgB,GACrB,CAAAS,EAA0BW,CAAM,EAChC,GAAI,CACF,MAAMC,GAAM,MAAMC,GAAqBtB,EAAe,GAAI,CAAE,OAAQoB,IAAW,MAAQ,OAAYA,CAAA,CAAQ,EACrGG,GAAMF,GAAI,MAAM,aAAa,MAAQA,GAAI,MAAM,YACrDX,EAAqB,CACnB,KAAM,MAAM,QAAQa,EAAG,EAAIA,GAAM,CAAA,EACjC,WAAYF,GAAI,MAAM,YAAc,CAAA,CAAC,CACtC,CACH,OAASxI,GAAG,CACV,QAAQ,MAAM,sCAAuCA,EAAC,CACxD,EACF,EAEA,OACEO,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,oDACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,aACb,SAAA,CAAAA,EAAAA,KAACU,EAAA,CACC,QAAQ,UACR,QAAS,IAAM,CACbyF,EAAc,CAAE,SAAU,GAAI,aAAc,GAAI,MAAO,GAAI,SAAU,GAAI,sBAAuB,GAAI,WAAY,GAAI,UAAW,GAAI,EACnIrE,EAAa,eAAe,EAC5BC,GAAa,EAAI,CACnB,EAEA,SAAA,CAAA9B,EAAAA,IAACgB,GAAA,CAAM,UAAU,cAAA,CAAe,EAAE,eAAA,CAAA,CAAA,EAGpCjB,EAAAA,KAACU,EAAA,CACC,QAAS,IAAM,CACb6G,EAAc,CACZ,UAAWX,GAAgB,GAAK,OAAOA,EAAe,EAAE,EAAI,SAC5D,OAAQA,GAAgB,IAAMG,GAAe,SAAW,KAAO,OAAOA,EAAc,OAAO,EAAI,GAC/F,UAAW,GACX,MAAO,EAAA,CACR,EACDjF,EAAa,sBAAsB,EACnCC,GAAa,EAAI,CACnB,EAEA,SAAA,CAAA9B,EAAAA,IAACmB,GAAA,CAAW,UAAU,cAAA,CAAe,EAAE,eAAA,CAAA,CAAA,CAEzC,EACF,QACCV,EAAA,CAAO,QAAQ,UAAU,KAAK,OAAO,QAAS,IAAM,CAAE+G,GAAA,EAAgBC,GAAA,CAA8B,EACnG,SAAAzH,MAACkC,EAAA,CAAU,UAAU,UAAU,CAAA,CACjC,CAAA,EACF,EAECyE,SACE9F,EAAA,CACC,SAAA,CAAAd,EAAAA,KAACe,GAAA,CAAW,UAAU,6CACpB,SAAA,CAAAf,EAAAA,KAACgB,GAAA,CAAU,UAAU,0BACnB,SAAA,CAAAf,EAAAA,IAACgB,GAAA,CAAM,UAAU,SAAA,CAAU,EAC1B2F,EAAe,UAAY,GAAGA,EAAe,YAAc,EAAE,IAAIA,EAAe,WAAa,EAAE,GAAG,KAAA,GAAU,WAAWA,EAAe,EAAE,EAAA,EAC3I,EACA5G,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAA,EAAAA,KAACU,EAAA,CACC,QAAQ,UACR,KAAK,KACL,QAAS,IAAM,CACb6G,EAAc,CACZ,UAAW,OAAOX,EAAe,EAAE,EACnC,OAAQG,GAAe,QAAU,OAAOA,EAAc,OAAO,EAAI,GACjE,UAAW,GACX,MAAO,EAAA,CACR,EACDjF,EAAa,sBAAsB,EACnCC,GAAa,EAAI,CACnB,EAEA,SAAA,CAAA9B,EAAAA,IAACmB,GAAA,CAAW,UAAU,cAAA,CAAe,EAAE,YAAA,CAAA,CAAA,EAGzCnB,EAAAA,IAACS,GAAO,QAAQ,QAAQ,KAAK,KAAK,QAASkH,EAAmB,SAAA,OAAA,CAAK,CAAA,CAAA,CACrE,CAAA,EACF,EACA3H,EAAAA,IAACiB,GACC,SAAAlB,EAAAA,KAACoI,GAAA,CAAK,MAAOvB,EAAiB,cAAeC,EAAoB,UAAU,SACzE,SAAA,CAAA9G,EAAAA,KAACqI,GAAA,CAAS,UAAU,0BAClB,SAAA,CAAApI,EAAAA,IAACqI,EAAA,CAAY,MAAM,WAAW,SAAA,WAAQ,EACtCrI,EAAAA,IAACqI,EAAA,CAAY,MAAM,cAAc,SAAA,cAAW,EAC5CrI,EAAAA,IAACqI,EAAA,CAAY,MAAM,UAAU,SAAA,UAAO,EACpCrI,EAAAA,IAACqI,EAAA,CAAY,MAAM,YAAY,SAAA,WAAA,CAAS,CAAA,EAC1C,EACArI,EAAAA,IAACsI,GAAY,MAAM,WAAW,UAAU,iBACtC,SAAAvI,EAAAA,KAAC,MAAA,CAAI,UAAU,wCACb,SAAA,CAAAC,MAACa,EAAA,CACC,SAAAd,EAAAA,KAACkB,EAAA,CAAY,UAAU,OACrB,SAAA,CAAAjB,EAAAA,IAAC,IAAA,CAAE,UAAU,gCAAgC,SAAA,UAAO,EACpDD,EAAAA,KAAC,KAAE,UAAU,qBAAqB,MAAO,CAAE,MAAOoC,GAAO,SAAA,EAAa,SAAA,CAAA,KAAG2E,GAAe,SAAW,GAAG,QAAQ,CAAC,CAAA,CAAA,CAAE,CAAA,CAAA,CACnH,CAAA,CACF,EACA9G,MAACa,EAAA,CACC,SAAAd,EAAAA,KAACkB,EAAA,CAAY,UAAU,OACrB,SAAA,CAAAjB,EAAAA,IAAC,IAAA,CAAE,UAAU,gCAAgC,SAAA,oBAAiB,EAC9DD,EAAAA,KAAC,IAAA,CAAE,UAAU,qBAAqB,SAAA,CAAA,KAAG+G,GAAe,mBAAqBC,EAAkB,YAAY,mBAAqB,GAAG,QAAQ,CAAC,CAAA,CAAA,CAAE,CAAA,CAAA,CAC5I,CAAA,CACF,EACA/G,MAACa,EAAA,CACC,SAAAd,EAAAA,KAACkB,EAAA,CAAY,UAAU,OACrB,SAAA,CAAAjB,EAAAA,IAAC,IAAA,CAAE,UAAU,gCAAgC,SAAA,gBAAa,EAC1DD,EAAAA,KAAC,IAAA,CAAE,UAAU,qBAAqB,SAAA,CAAA,KAAG+G,GAAe,eAAiBC,EAAkB,YAAY,eAAiB,GAAG,QAAQ,CAAC,CAAA,CAAA,CAAE,CAAA,CAAA,CACpI,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,EACAhH,EAAAA,KAACuI,EAAA,CAAY,MAAM,cAAc,UAAU,OACzC,SAAA,CAAAtI,EAAAA,IAAC,MAAA,CAAI,UAAU,kBACZ,SAAA,CAAC,MAAO,UAAW,OAAQ,WAAW,EAAE,IAAKuI,GAC5CvI,EAAAA,IAACS,EAAA,CAEC,QAAS0G,IAA2BoB,EAAI,UAAY,UACpD,KAAK,KACL,QAAS,IAAMT,GAAiCS,CAAC,EAEhD,SAAAA,EAAE,OAAO,CAAC,EAAE,cAAgBA,EAAE,MAAM,CAAC,CAAA,EALjCA,CAAA,CAOR,EACH,SACClG,EAAA,CACC,SAAA,CAAArC,EAAAA,IAACsC,EAAA,CACC,gBAACC,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAACwC,GAAU,SAAA,IAAA,CAAE,EACbxC,EAAAA,IAACwC,GAAU,SAAA,eAAA,CAAa,EACxBxC,EAAAA,IAACwC,GAAU,SAAA,YAAA,CAAU,EACrBxC,EAAAA,IAACwC,GAAU,SAAA,gBAAA,CAAc,EACzBxC,EAAAA,IAACwC,GAAU,SAAA,YAAA,CAAU,EACrBxC,EAAAA,IAACwC,GAAU,SAAA,QAAA,CAAM,EACjBxC,EAAAA,IAACwC,GAAU,SAAA,cAAA,CAAY,EACvBxC,EAAAA,IAACwC,GAAU,SAAA,SAAA,CAAO,CAAA,CAAA,CACpB,CAAA,CACF,EACAxC,EAAAA,IAACyC,EAAA,CACG,UAAA,MAAM,QAAQsE,EAAkB,IAAI,EAAIA,EAAkB,KAAO,CAAA,GAAI,IAAKyB,UACzEjG,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAAC2C,EAAA,CAAW,WAAE,EAAA,CAAG,EACjB3C,EAAAA,IAAC2C,GAAW,SAAA6F,EAAE,aAAe,GAAGA,EAAE,aAAa,YAAc,EAAE,IAAIA,EAAE,aAAa,WAAa,EAAE,GAAG,KAAA,GAAUA,EAAE,aAAa,SAAWA,EAAE,gBAAA,CAAiB,EAC3JxI,EAAAA,IAAC2C,EAAA,CAAW,SAAA6F,EAAE,WAAW,MAAQ,IAAI,SACpC7F,EAAA,CAAU,SAAA,CAAA,IAAE,OAAO6F,EAAE,gBAAkB,CAAC,EAAE,QAAQ,CAAC,CAAA,EAAE,SACrD7F,EAAA,CAAU,SAAA,CAAA,IAAE,OAAO6F,EAAE,mBAAqB,CAAC,EAAE,QAAQ,CAAC,EAAE,KAAGA,EAAE,sBAAsB,IAAA,EAAE,QACrF7F,EAAA,CAAU,SAAA3C,EAAAA,IAAC4C,EAAA,CAAM,QAAS4F,EAAE,SAAW,OAAS,UAAYA,EAAE,SAAW,YAAc,YAAc,UAAY,SAAAA,EAAE,OAAO,EAAQ,EACnIxI,EAAAA,IAAC2C,EAAA,CAAW,SAAA6F,EAAE,qBAAuB,IAAI,KAAKA,EAAE,oBAAoB,EAAE,mBAAA,EAAuB,GAAA,CAAI,EACjGxI,EAAAA,IAAC2C,GACE,SAAA6F,EAAE,SAAW,WACZxI,EAAAA,IAACS,EAAA,CAAO,QAAQ,QAAQ,KAAK,KAAK,QAAS,IAAMsB,GAAkB,oBAAqB,uCAAwC,IAAM6F,GAAuBY,EAAE,EAAE,CAAC,EAAG,SAAA,QAAA,CAErK,CAAA,CAEJ,CAAA,GAdaA,EAAE,EAejB,CACD,CAAA,CACH,CAAA,CAAA,CACF,CAAA,EACF,QACCF,EAAA,CAAY,MAAM,UAAU,UAAU,OACrC,gBAACjG,EAAA,CACC,SAAA,CAAArC,EAAAA,IAACsC,EAAA,CACC,gBAACC,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAACwC,GAAU,SAAA,cAAA,CAAY,EACvBxC,EAAAA,IAACwC,GAAU,SAAA,QAAA,CAAM,EACjBxC,EAAAA,IAACwC,GAAU,SAAA,SAAA,CAAO,EAClBxC,EAAAA,IAACwC,GAAU,SAAA,aAAA,CAAW,CAAA,CAAA,CACxB,CAAA,CACF,EACAxC,EAAAA,IAACyC,EAAA,CACG,UAAA,MAAM,QAAQuE,EAAc,IAAI,EAAIA,EAAc,KAAO,CAAA,GAAI,IAAKzC,UACjEhC,EAAA,CACC,SAAA,CAAAvC,MAAC2C,GAAU,UAAU,oBAAqB,SAAA4B,EAAE,cAAgBA,EAAE,GAAG,SAChE5B,EAAA,CAAU,SAAA,CAAA,MAAI4B,EAAE,QAAU,GAAK,KAAK,QAAQ,CAAC,CAAA,EAAE,EAChDvE,EAAAA,IAAC2C,EAAA,CAAW,SAAA4B,EAAE,QAAU,IAAI,KAAKA,EAAE,OAAO,EAAE,eAAA,EAAmB,GAAA,CAAI,QAClE5B,EAAA,CAAW,SAAA4B,EAAE,aAAeA,EAAE,UAAU,WAAa,GAAA,CAAI,CAAA,GAJ7CA,EAAE,EAKjB,CACD,CAAA,CACH,CAAA,CAAA,CACF,CAAA,CACF,QACC+D,EAAA,CAAY,MAAM,YAAY,UAAU,OACvC,gBAACjG,EAAA,CACC,SAAA,CAAArC,EAAAA,IAACsC,EAAA,CACC,gBAACC,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAACwC,GAAU,SAAA,IAAA,CAAE,EACbxC,EAAAA,IAACwC,GAAU,SAAA,eAAA,CAAa,EACxBxC,EAAAA,IAACwC,GAAU,SAAA,YAAA,CAAU,EACrBxC,EAAAA,IAACwC,GAAU,SAAA,SAAA,CAAO,CAAA,CAAA,CACpB,CAAA,CACF,EACAxC,EAAAA,IAACyC,EAAA,CACG,UAAA,MAAM,QAAQwE,CAAe,EAAIA,EAAkB,CAAA,GAAI,IAAKwB,UAC3DlG,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAAC2C,EAAA,CAAW,WAAE,EAAA,CAAG,EACjB3C,EAAAA,IAAC2C,GAAW,SAAA8F,EAAE,aAAe,GAAGA,EAAE,aAAa,YAAc,EAAE,IAAIA,EAAE,aAAa,WAAa,EAAE,GAAG,KAAA,GAAUA,EAAE,aAAa,SAAWA,EAAE,gBAAA,CAAiB,EAC3JzI,EAAAA,IAAC2C,EAAA,CAAW,SAAA8F,EAAE,WAAW,MAAQ,IAAI,EACrCzI,EAAAA,IAAC2C,GACC,SAAA3C,MAACS,EAAA,CAAO,QAAQ,QAAQ,KAAK,KAAK,UAAU,eAAe,QAAS,IAAMsB,GAAkB,kBAAmB,oDAAqD,IAAM8F,GAA2BY,EAAE,EAAE,CAAC,EAAG,SAAA,QAAA,CAE7M,CAAA,CACF,CAAA,GARaA,EAAE,EASjB,CACD,CAAA,CACH,CAAA,CAAA,CACF,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,CAAA,CAAA,CACF,EAEA1I,EAAAA,KAAA2I,EAAAA,SAAA,CACE,SAAA,CAAA3I,OAACc,EAAA,CACC,SAAA,CAAAd,OAACe,GAAA,CACC,SAAA,CAAAd,EAAAA,IAACe,IAAU,SAAA,SAAA,CAAO,EAClBf,EAAAA,IAAC,IAAA,CAAE,UAAU,gCAAgC,SAAA,oEAAA,CAAkE,CAAA,EACjH,EACAA,MAACiB,EAAA,CAAY,UAAU,MACrB,gBAACoB,EAAA,CACC,SAAA,CAAArC,EAAAA,IAACsC,EAAA,CACC,gBAACC,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAACwC,GAAU,SAAA,IAAA,CAAE,EACbxC,EAAAA,IAACwC,GAAU,SAAA,UAAA,CAAQ,EACnBxC,EAAAA,IAACwC,GAAU,SAAA,MAAA,CAAI,EACfxC,EAAAA,IAACwC,GAAU,SAAA,OAAA,CAAK,EAChBxC,EAAAA,IAACwC,GAAU,SAAA,SAAA,CAAO,CAAA,CAAA,CACpB,CAAA,CACF,EACAxC,EAAAA,IAACyC,EAAA,CACG,UAAA,MAAM,QAAQwD,CAAO,EAAIA,EAAU,CAAA,GAAI,IAAKO,UAC3CjE,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAAC2C,EAAA,CAAW,WAAE,EAAA,CAAG,EACjB3C,EAAAA,IAAC2C,EAAA,CAAW,SAAA6D,EAAE,QAAA,CAAS,EACvBxG,EAAAA,IAAC2C,EAAA,CAAW,SAAA,CAAC6D,EAAE,WAAYA,EAAE,SAAS,EAAE,OAAO,OAAO,EAAE,KAAK,GAAG,GAAK,IAAI,EACzExG,EAAAA,IAAC2C,EAAA,CAAW,SAAA6D,EAAE,cAAgB,IAAI,EAClCxG,EAAAA,IAAC2C,EAAA,CACC,SAAA3C,EAAAA,IAACS,EAAA,CAAO,QAAQ,UAAU,KAAK,KAAK,QAAS,IAAMiH,GAAiBlB,CAAC,EAAG,kBAAM,CAAA,CAChF,CAAA,GAPaA,EAAE,EAQjB,CACD,CAAA,CACH,CAAA,CAAA,CACF,CAAA,CACF,CAAA,EACF,SACC3F,EAAA,CACC,SAAA,CAAAb,MAACc,GAAA,CACC,SAAAd,EAAAA,IAACe,GAAA,CAAU,SAAA,wBAAA,CAAsB,EACnC,EACAf,MAACiB,EAAA,CAAY,UAAU,MACrB,gBAACoB,EAAA,CACC,SAAA,CAAArC,EAAAA,IAACsC,EAAA,CACC,gBAACC,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAACwC,GAAU,SAAA,IAAA,CAAE,EACbxC,EAAAA,IAACwC,GAAU,SAAA,QAAA,CAAM,EACjBxC,EAAAA,IAACwC,GAAU,SAAA,eAAA,CAAa,EACxBxC,EAAAA,IAACwC,GAAU,SAAA,OAAA,CAAK,EAChBxC,EAAAA,IAACwC,GAAU,SAAA,QAAA,CAAM,EACjBxC,EAAAA,IAACwC,GAAU,SAAA,QAAA,CAAM,CAAA,CAAA,CACnB,CAAA,CACF,EACAxC,EAAAA,IAACyC,EAAA,CACG,UAAA,MAAM,QAAQyE,GAAuB,IAAI,EAAIA,EAAsB,KAAO,CAAA,GAAI,IAAKsB,UAClFjG,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAAC2C,EAAA,CAAW,WAAE,EAAA,CAAG,QAChBA,EAAA,CAAW,SAAA6F,EAAE,OAAUA,EAAE,OAAO,UAAY,GAAGA,EAAE,OAAO,YAAc,EAAE,IAAIA,EAAE,OAAO,WAAa,EAAE,GAAMA,EAAE,UAAU,EACvHxI,EAAAA,IAAC2C,GAAW,SAAA6F,EAAE,aAAe,GAAGA,EAAE,aAAa,YAAc,EAAE,IAAIA,EAAE,aAAa,WAAa,EAAE,GAAG,QAAUA,EAAE,aAAa,SAAW,IAAI,EAC5IxI,EAAAA,IAAC2C,EAAA,CAAW,SAAA6F,EAAE,WAAW,MAAQ,IAAI,SACpC7F,EAAA,CAAU,SAAA,CAAA,IAAE,OAAO6F,EAAE,mBAAqB,CAAC,EAAE,QAAQ,CAAC,CAAA,EAAE,QACxD7F,EAAA,CAAU,SAAA3C,EAAAA,IAAC4C,EAAA,CAAM,QAAS4F,EAAE,SAAW,OAAS,UAAYA,EAAE,SAAW,YAAc,YAAc,UAAY,SAAAA,EAAE,OAAO,CAAA,CAAQ,CAAA,GANtHA,EAAE,EAOjB,CACD,CAAA,CACH,CAAA,CAAA,CACF,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,EAEJ,CAEJ,CCpTA,SAAwBG,IAAuB,CAC7C,KAAM,CACJ,aAAAC,EACA,gBAAAhH,EACA,aAAAC,EACA,aAAAC,EACA,kBAAA+G,EACA,kBAAA9G,EACA,kBAAA+G,CAAA,EACElI,GAAA,EAEEuE,EAAOyD,GAAc,OAAS,MAAM,QAAQA,CAAY,EAAIA,EAAe,IAEjF,OACE7I,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAA,OAACU,EAAA,CAAO,QAAS,IAAM,CAAEmB,EAAgB,IAAI,EAAGC,EAAa,qBAAqB,EAAGC,EAAa,EAAI,CAAG,EACvG,SAAA,CAAA9B,EAAAA,IAACwE,GAAA,CAAK,UAAU,cAAA,CAAe,EAAE,qBAAA,EAEnC,EACAxE,EAAAA,IAACS,EAAA,CAAO,QAAQ,UAAU,KAAK,OAAO,QAASoI,EAC7C,SAAA7I,EAAAA,IAACkC,EAAA,CAAU,UAAU,SAAA,CAAU,CAAA,CACjC,CAAA,EACF,QACCrB,EAAA,CACC,SAAAb,EAAAA,IAACiB,GAAY,UAAU,MACrB,gBAACoB,EAAA,CACC,SAAA,CAAArC,EAAAA,IAACsC,EAAA,CACC,gBAACC,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAACwC,GAAU,SAAA,IAAA,CAAE,EACbxC,EAAAA,IAACwC,GAAU,SAAA,KAAA,CAAG,EACdxC,EAAAA,IAACwC,GAAU,SAAA,UAAA,CAAQ,EACnBxC,EAAAA,IAACwC,GAAU,SAAA,YAAA,CAAU,EACrBxC,EAAAA,IAACwC,GAAU,SAAA,aAAA,CAAW,EACtBxC,EAAAA,IAACwC,GAAU,SAAA,SAAA,CAAO,CAAA,CAAA,CACpB,CAAA,CACF,EACAxC,EAAAA,IAACyC,EAAA,CACG,UAAA,MAAM,QAAQ0C,CAAI,EAAIA,EAAO,CAAA,GAAI,IAAK4D,UACrCxG,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAAC2C,EAAA,CAAW,WAAS,EAAA,CAAG,SACvBA,EAAA,CAAW,SAAA,CAAAoG,EAAS,KAAK,KAAK,IAAEA,EAAS,KAAK,KAAA,EAAM,SACpDpG,EAAA,CAAW,SAAA,CAAAoG,EAAS,SAAS,OAAA,EAAK,EACnC/I,MAAC2C,GAAW,SAAA,IAAI,KAAKoG,EAAS,QAAQ,EAAE,qBAAqB,EAC7D/I,MAAC2C,GAAW,SAAA,IAAI,KAAKoG,EAAS,SAAS,EAAE,qBAAqB,EAC9D/I,EAAAA,IAAC2C,EAAA,CACC,SAAA3C,EAAAA,IAACS,EAAA,CAAO,QAAQ,QAAQ,KAAK,OAAO,QAAS,IAAMsB,EAAkB,sBAAuB,gBAAiB,IAAM+G,EAAkBC,EAAS,EAAE,CAAC,EAC/I,eAAC7F,GAAA,CAAO,UAAU,sBAAA,CAAuB,CAAA,CAC3C,CAAA,CACF,CAAA,GAVa6F,EAAS,EAWxB,CACD,CAAA,CACH,CAAA,CAAA,CACF,EACF,CAAA,CACF,CAAA,EACF,CAEJ,CC1DA,SAAwBC,IAAmB,CACzC,KAAM,CACJ,SAAAC,EACA,gBAAArH,EACA,aAAAC,EACA,aAAAC,EACA,cAAAoH,EACA,kBAAAnH,EACA,cAAAoH,CAAA,EACEvI,GAAA,EAEEuE,EAAO8D,GAAU,OAAS,MAAM,QAAQA,CAAQ,EAAIA,EAAW,IAErE,OACElJ,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAA,EAAAA,KAACU,EAAA,CACC,QAAS,IAAM,CACbmB,EAAgB,IAAI,EACpBC,EAAa,gBAAgB,EAC7BC,EAAa,EAAI,CACnB,EAEA,SAAA,CAAA9B,EAAAA,IAACwE,GAAA,CAAK,UAAU,cAAA,CAAe,EAAE,gBAAA,CAAA,CAAA,EAGnCxE,EAAAA,IAACS,EAAA,CAAO,QAAQ,UAAU,KAAK,OAAO,QAASyI,EAC7C,SAAAlJ,EAAAA,IAACkC,EAAA,CAAU,UAAU,SAAA,CAAU,CAAA,CACjC,CAAA,EACF,QACCrB,EAAA,CACC,SAAAb,EAAAA,IAACiB,GAAY,UAAU,MACrB,gBAACoB,EAAA,CACC,SAAA,CAAArC,EAAAA,IAACsC,EAAA,CACC,gBAACC,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAACwC,GAAU,SAAA,IAAA,CAAE,EACbxC,EAAAA,IAACwC,GAAU,SAAA,KAAA,CAAG,EACdxC,EAAAA,IAACwC,GAAU,SAAA,cAAA,CAAY,EACvBxC,EAAAA,IAACwC,GAAU,SAAA,OAAA,CAAK,EAChBxC,EAAAA,IAACwC,GAAU,SAAA,YAAA,CAAU,EACrBxC,EAAAA,IAACwC,GAAU,SAAA,QAAA,CAAM,EACjBxC,EAAAA,IAACwC,GAAU,SAAA,SAAA,CAAO,CAAA,CAAA,CACpB,CAAA,CACF,EACAxC,EAAAA,IAACyC,EAAA,CACG,UAAA,MAAM,QAAQ0C,CAAI,EAAIA,EAAO,CAAA,GAAI,IAAKiE,UACrC7G,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAAC2C,EAAA,CAAW,WAAQ,EAAA,CAAG,SACtBA,EAAA,CACE,SAAA,CAAAyG,EAAQ,KAAK,KAAK,IAAEA,EAAQ,KAAK,KAAA,EACpC,EACApJ,EAAAA,IAAC2C,EAAA,CAAW,SAAAyG,EAAQ,YAAA,CAAa,SAChCzG,EAAA,CACE,SAAA,CAAAyG,EAAQ,eAAe,MAAM,MAAIA,EAAQ,eAAe,GAAA,EAC3D,SACCzG,EAAA,CAAW,SAAA,CAAAyG,EAAQ,oBAAoB,GAAA,EAAC,EACzCpJ,EAAAA,IAAC2C,EAAA,CACE,SAAAyG,EAAQ,UACPpJ,EAAAA,IAAC6C,GAAA,CAAa,UAAU,wBAAA,CAAyB,EAEjD7C,MAAC8C,GAAA,CAAQ,UAAU,wBAAwB,EAE/C,EACA9C,MAAC2C,EAAA,CACC,SAAA5C,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAACS,EAAA,CACC,QAAQ,QACR,KAAK,OACL,QAAS,IAAM,CACbmB,EAAgBwH,CAAO,EACvBvH,EAAa,cAAc,EAC3BC,EAAa,EAAI,CACnB,EAEA,SAAA9B,EAAAA,IAACiD,GAAA,CAAK,UAAU,SAAA,CAAU,CAAA,CAAA,EAE5BjD,EAAAA,IAACS,EAAA,CACC,QAAQ,QACR,KAAK,OACL,QAAS,IAAMsB,EACb,iBACA,gDACA,IAAMoH,EAAcC,EAAQ,EAAE,CAAA,EAGhC,SAAApJ,EAAAA,IAACkD,GAAA,CAAO,UAAU,sBAAA,CAAuB,CAAA,CAAA,CAC3C,CAAA,CACF,CAAA,CACF,CAAA,GA1CakG,EAAQ,EA2CvB,CACD,CAAA,CACH,CAAA,CAAA,CACF,EACF,CAAA,CACF,CAAA,EACF,CAEJ,CChGA,SAAwBC,IAAsB,CAC5C,KAAM,CACJ,YAAAC,EACA,gBAAA1H,EACA,aAAAC,EACA,aAAAC,EACA,iBAAAyH,EACA,kBAAAxH,EACA,iBAAAyH,CAAA,EACE5I,GAAA,EAEEuE,EAAOmE,GAAa,OAAS,MAAM,QAAQA,CAAW,EAAIA,EAAc,IAE9E,OACEvJ,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAC,EAAAA,IAACS,EAAA,CAAO,QAAQ,UAAU,KAAK,OAAO,QAAS8I,EAAkB,aAAW,sBAC1E,SAAAvJ,MAACkC,EAAA,CAAU,UAAU,UAAU,EACjC,QACCrB,EAAA,CACC,SAAAb,EAAAA,IAACiB,GAAY,UAAU,MACrB,gBAACoB,EAAA,CACC,SAAA,CAAArC,EAAAA,IAACsC,EAAA,CACC,gBAACC,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAACwC,GAAU,SAAA,IAAA,CAAE,EACbxC,EAAAA,IAACwC,GAAU,SAAA,MAAA,CAAI,EACfxC,EAAAA,IAACwC,GAAU,SAAA,OAAA,CAAK,EAChBxC,EAAAA,IAACwC,GAAU,SAAA,QAAA,CAAM,EACjBxC,EAAAA,IAACwC,GAAU,SAAA,SAAA,CAAO,CAAA,CAAA,CACpB,CAAA,CACF,EACAxC,EAAAA,IAACyC,EAAA,CACG,UAAA,MAAM,QAAQ0C,CAAI,EAAIA,EAAO,CAAA,GAAI,IAAKsE,UACrClH,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAAC2C,EAAA,CAAW,WAAW,EAAA,CAAG,EAC1B3C,EAAAA,IAAC2C,EAAA,CAAW,SAAA8G,EAAW,MAAM,MAAQ,MAAM,EAC3CzJ,EAAAA,IAAC2C,EAAA,CAAW,SAAA8G,EAAW,KAAA,CAAM,EAC7BzJ,EAAAA,IAAC2C,GACC,SAAA3C,EAAAA,IAAC4C,EAAA,CAAM,QAAQ,UAAW,SAAA6G,EAAW,OAAO,CAAA,CAC9C,EACAzJ,MAAC2C,EAAA,CACC,SAAA5C,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAACS,EAAA,CACC,QAAQ,QACR,KAAK,OACL,QAAS,IAAM,CACbmB,EAAgB6H,CAAU,EAC1B5H,EAAa,iBAAiB,EAC9BC,EAAa,EAAI,CACnB,EAEA,SAAA9B,EAAAA,IAACiD,GAAA,CAAK,UAAU,SAAA,CAAU,CAAA,CAAA,EAE5BjD,EAAAA,IAACS,EAAA,CACC,QAAQ,QACR,KAAK,OACL,QAAS,IAAMsB,EACb,oBACA,mDACA,IAAMyH,EAAiBC,EAAW,EAAE,CAAA,EAGtC,SAAAzJ,EAAAA,IAACkD,GAAA,CAAO,UAAU,sBAAA,CAAuB,CAAA,CAAA,CAC3C,CAAA,CACF,CAAA,CACF,CAAA,GAhCauG,EAAW,EAiC1B,CACD,CAAA,CACH,CAAA,CAAA,CACF,EACF,CAAA,CACF,CAAA,EACF,CAEJ,CCzEA,SAAwBC,IAAwB,CAC9C,KAAM,CACJ,cAAAC,EACA,gBAAA/H,EACA,aAAAC,EACA,aAAAC,EACA,mBAAA8H,CAAA,EACEhJ,GAAA,EAEEuE,EAAOwE,GAAe,OAAS,MAAM,QAAQA,CAAa,EAAIA,EAAgB,IAEpF,OACE5J,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAA,EAAAA,KAACU,EAAA,CACC,QAAS,IAAM,CACbmB,EAAgB,IAAI,EACpBC,EAAa,mBAAmB,EAChCC,EAAa,EAAI,CACnB,EAEA,SAAA,CAAA9B,EAAAA,IAACwE,GAAA,CAAK,UAAU,cAAA,CAAe,EAAE,mBAAA,CAAA,CAAA,EAGnCxE,EAAAA,IAACS,EAAA,CAAO,QAAQ,UAAU,KAAK,OAAO,QAASmJ,EAC7C,SAAA5J,EAAAA,IAACkC,EAAA,CAAU,UAAU,SAAA,CAAU,CAAA,CACjC,CAAA,EACF,QACCrB,EAAA,CACC,SAAAb,EAAAA,IAACiB,GAAY,UAAU,MACrB,gBAACoB,EAAA,CACC,SAAA,CAAArC,EAAAA,IAACsC,EAAA,CACC,gBAACC,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAACwC,GAAU,SAAA,IAAA,CAAE,EACbxC,EAAAA,IAACwC,GAAU,SAAA,OAAA,CAAK,EAChBxC,EAAAA,IAACwC,GAAU,SAAA,MAAA,CAAI,EACfxC,EAAAA,IAACwC,GAAU,SAAA,MAAA,CAAI,EACfxC,EAAAA,IAACwC,GAAU,SAAA,MAAA,CAAI,EACfxC,EAAAA,IAACwC,GAAU,SAAA,SAAA,CAAO,CAAA,CAAA,CACpB,CAAA,CACF,EACAxC,EAAAA,IAACyC,EAAA,CACG,UAAA,MAAM,QAAQ0C,CAAI,EAAIA,EAAO,CAAA,GAAI,IAAK0E,UACrCtH,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAAC2C,EAAA,CAAW,WAAa,EAAA,CAAG,EAC5B3C,EAAAA,IAAC2C,EAAA,CAAW,SAAAkH,EAAa,KAAA,CAAM,EAC/B7J,EAAAA,IAAC2C,GACC,SAAA3C,EAAAA,IAAC4C,EAAA,CAAM,QAAQ,UAAW,SAAAiH,EAAa,KAAK,CAAA,CAC9C,EACA7J,EAAAA,IAAC2C,EAAA,CACE,SAAAkH,EAAa,QACZ7J,EAAAA,IAAC6C,GAAA,CAAa,UAAU,wBAAA,CAAyB,EAEjD7C,MAAC8C,GAAA,CAAQ,UAAU,wBAAwB,EAE/C,EACA9C,EAAAA,IAAC2C,EAAA,CACE,SAAAkH,EAAa,QACZ7J,EAAAA,IAAC6C,GAAA,CAAa,UAAU,wBAAA,CAAyB,EAEjD7C,MAAC8C,GAAA,CAAQ,UAAU,wBAAwB,EAE/C,EACA9C,MAAC2C,GACE,SAAA,IAAI,KAAKkH,EAAa,UAAU,EAAE,oBAAmB,CACxD,CAAA,GAtBaA,EAAa,EAuB5B,CACD,CAAA,CACH,CAAA,CAAA,CACF,EACF,CAAA,CACF,CAAA,EACF,CAEJ,CCxEA,SAAwBC,IAAe,CACrC,KAAM,CACJ,KAAAC,EACA,QAAA5K,EACA,QAAAoC,EACA,WAAAC,EACA,UAAAwI,CAAA,EACEpJ,GAAA,EAEEuE,EAAO4E,GAAM,OAAS,MAAM,QAAQA,CAAI,EAAIA,EAAO,IAEzD,OACEhK,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAACE,EAAA,CACC,YAAY,4BACZ,UAAU,OACV,MAAOqB,EAAQ,KAAK,aACpB,SAAW/B,GAAMgC,EAAW7B,IAAS,CACnC,GAAGA,EACH,KAAM,CAAE,GAAGA,EAAK,KAAM,aAAcH,EAAE,OAAO,KAAA,CAAM,EACnD,CAAA,CAAA,EAEJO,EAAAA,KAACI,EAAA,CACC,MAAOoB,EAAQ,KAAK,QACpB,cAAgB7B,GAAU8B,EAAW7B,IAAS,CAC5C,GAAGA,EACH,KAAM,CAAE,GAAGA,EAAK,KAAM,QAASD,CAAA,CAAM,EACrC,EAEF,SAAA,CAAAM,EAAAA,IAACI,GAAc,UAAU,OACvB,eAACC,EAAA,CAAY,YAAY,UAAU,CAAA,CACrC,SACCC,EAAA,CACC,SAAA,CAAAN,EAAAA,IAACO,EAAA,CAAW,MAAM,MAAM,SAAA,WAAQ,EAChCP,EAAAA,IAACO,EAAA,CAAW,MAAM,QAAQ,SAAA,SAAM,EAChCP,EAAAA,IAACO,EAAA,CAAW,MAAM,OAAO,SAAA,SAAA,CAAO,CAAA,CAAA,CAClC,CAAA,CAAA,CAAA,CACF,EACF,EACAP,EAAAA,IAACS,EAAA,CAAO,QAAQ,UAAU,KAAK,OAAO,QAASuJ,EAC7C,SAAAhK,EAAAA,IAACkC,EAAA,CAAU,UAAU,SAAA,CAAU,CAAA,CACjC,CAAA,EACF,QACCrB,EAAA,CACC,SAAAb,EAAAA,IAACiB,GAAY,UAAU,MACrB,gBAACoB,EAAA,CACC,SAAA,CAAArC,EAAAA,IAACsC,EAAA,CACC,gBAACC,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAACwC,GAAU,SAAA,IAAA,CAAE,EACbxC,EAAAA,IAACwC,GAAU,SAAA,cAAA,CAAY,EACvBxC,EAAAA,IAACwC,GAAU,SAAA,UAAA,CAAQ,EACnBxC,EAAAA,IAACwC,GAAU,SAAA,YAAA,CAAU,EACrBxC,EAAAA,IAACwC,GAAU,SAAA,YAAA,CAAU,EACrBxC,EAAAA,IAACwC,GAAU,SAAA,QAAA,CAAM,CAAA,CAAA,CACnB,CAAA,CACF,QACCC,EAAA,CACE,SAAAtD,IAAY,MAAM,QAAQgG,CAAI,EAAIA,EAAO,CAAA,GAAI,SAAW,QACtD5C,EAAA,CACC,SAAAxC,OAAC4C,GAAU,QAAS,EAAG,UAAU,mBAC/B,SAAA,CAAA3C,EAAAA,IAACkC,EAAA,CAAU,UAAU,mCAAA,CAAoC,EAAE,iBAAA,CAAA,CAE7D,CAAA,CACF,GACG,MAAM,QAAQiD,CAAI,EAAIA,EAAO,CAAA,GAAI,SAAW,EAC/CnF,EAAAA,IAACuC,GACC,SAAAvC,EAAAA,IAAC2C,EAAA,CAAU,QAAS,EAAG,UAAU,yCAAyC,SAAA,eAAA,CAE1E,EACF,GAEC,MAAM,QAAQwC,CAAI,EAAIA,EAAO,CAAA,GAAI,IAAK8E,GAAQ,CAC7C,MAAMC,EAAY,IAAI,KAAKD,EAAI,UAAU,MAAQ,KACjD,cACG1H,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAAC2C,EAAA,CAAW,WAAI,EAAA,CAAG,EACnB3C,EAAAA,IAAC2C,EAAA,CAAW,SAAAsH,EAAI,YAAA,CAAa,EAC7BjK,EAAAA,IAAC2C,EAAA,CAAU,UAAU,sBAAuB,WAAI,KAAK,EACrD3C,MAAC2C,GAAW,SAAA,IAAI,KAAKsH,EAAI,UAAU,EAAE,iBAAiB,EACtDjK,MAAC2C,GAAW,SAAA,IAAI,KAAKsH,EAAI,UAAU,EAAE,iBAAiB,EACtDjK,MAAC2C,EAAA,CACE,SAAAuH,EACClK,EAAAA,IAAC4C,GAAM,QAAQ,cAAc,SAAA,UAAO,EAEpC5C,EAAAA,IAAC4C,EAAA,CAAM,QAAQ,UAAU,kBAAM,CAAA,CAEnC,CAAA,CAAA,EAZaqH,EAAI,EAanB,CAEJ,CAAC,CAAA,CAEL,CAAA,CAAA,CACF,EACF,CAAA,CACF,CAAA,EACF,CAEJ,CC/FA,SAAwBE,IAAmB,CACzC,MAAMC,EAAMxJ,GAAA,EACN,CACJ,SAAAyJ,EACA,aAAAC,EACA,aAAAC,EACA,iBAAAC,EACA,QAAArL,EACA,QAAAoC,EACA,WAAAC,EACA,kBAAAiJ,EACA,gBAAA7I,EACA,aAAAC,EACA,aAAAC,EACA,iBAAA4I,EACA,cAAAC,EACA,kBAAAC,EACA,kBAAAC,EACA,sBAAAC,GACA,oBAAAC,GACA,qBAAAC,GACA,wBAAAC,EAAA,EACEb,EAEJ,OACEpK,EAAAA,IAAC,OAAI,UAAU,YACb,gBAACmI,GAAA,CAAK,aAAa,gBAAgB,UAAU,SAC3C,SAAA,CAAApI,EAAAA,KAACqI,GAAA,CAAS,UAAU,+BAClB,SAAA,CAAArI,EAAAA,KAACsI,EAAA,CAAY,MAAM,gBAAgB,UAAU,UAC3C,SAAA,CAAArI,EAAAA,IAACkL,GAAA,CAAU,UAAU,cAAA,CAAe,EAAE,UAAA,EAExC,EACAnL,EAAAA,KAACsI,EAAA,CAAY,MAAM,gBAAgB,UAAU,UAC3C,SAAA,CAAArI,EAAAA,IAACmL,GAAA,CAAU,UAAU,cAAA,CAAe,EAAE,eAAA,EAExC,EACApL,EAAAA,KAACsI,EAAA,CAAY,MAAM,gBAAgB,UAAU,UAC3C,SAAA,CAAArI,EAAAA,IAACoL,GAAA,CAAQ,UAAU,cAAA,CAAe,EAAE,eAAA,EAEtC,EACArL,EAAAA,KAACsI,EAAA,CAAY,MAAM,oBAAoB,UAAU,UAC/C,SAAA,CAAArI,EAAAA,IAACqL,GAAA,CAAc,UAAU,cAAA,CAAe,EAAE,WAAA,CAAA,CAE5C,CAAA,EACF,EAEAtL,EAAAA,KAACuI,EAAA,CAAY,MAAM,gBAAgB,UAAU,YAC3C,SAAA,CAAAvI,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAA,OAACU,EAAA,CAAO,QAAS,IAAM,CAAEmB,EAAgB,IAAI,EAAGC,EAAa,gBAAgB,EAAGC,EAAa,EAAI,CAAG,EAClG,SAAA,CAAA9B,EAAAA,IAACwE,GAAA,CAAK,UAAU,cAAA,CAAe,EAAE,gBAAA,EAEnC,EACAxE,EAAAA,IAACS,EAAA,CAAO,QAAQ,UAAU,KAAK,OAAO,QAASkK,EAAe,aAAW,mBACvE,SAAA3K,EAAAA,IAACkC,EAAA,CAAU,UAAU,UAAU,CAAA,CACjC,CAAA,EACF,EACAnC,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAACE,EAAA,CACC,YAAY,qBACZ,MAAOqB,EAAQ,SAAS,OACxB,SAAW/B,GAAMgC,EAAW,CAAE,GAAGD,EAAS,SAAU,CAAE,GAAGA,EAAQ,SAAU,OAAQ/B,EAAE,OAAO,KAAA,EAAS,EACrG,UAAU,MAAA,CAAA,EAEZO,OAACI,GAAO,MAAOoB,EAAQ,SAAS,SAAU,cAAgB+J,GAAM9J,EAAW,CAAE,GAAGD,EAAS,SAAU,CAAE,GAAGA,EAAQ,SAAU,SAAU+J,CAAA,EAAK,EACvI,SAAA,CAAAtL,EAAAA,IAACI,GAAc,UAAU,OAAO,eAACC,EAAA,CAAY,YAAY,WAAW,CAAA,CAAE,SACrEC,EAAA,CACC,SAAA,CAAAN,EAAAA,IAACO,EAAA,CAAW,MAAM,MAAM,SAAA,MAAG,EAC3BP,EAAAA,IAACO,EAAA,CAAW,MAAM,YAAY,SAAA,YAAS,EACvCP,EAAAA,IAACO,EAAA,CAAW,MAAM,gBAAgB,SAAA,gBAAa,EAC/CP,EAAAA,IAACO,EAAA,CAAW,MAAM,OAAO,SAAA,OAAI,EAC7BP,EAAAA,IAACO,EAAA,CAAW,MAAM,gBAAgB,SAAA,gBAAa,EAC/CP,EAAAA,IAACO,EAAA,CAAW,MAAM,QAAQ,SAAA,OAAA,CAAK,CAAA,CAAA,CACjC,CAAA,EACF,EACAP,EAAAA,IAACS,GAAO,QAASkK,EAAe,eAACY,GAAA,CAAO,UAAU,UAAU,CAAA,CAAE,CAAA,CAAA,CAChE,CAAA,EACF,QACC1K,EAAA,CACC,SAAAb,EAAAA,IAACiB,GAAY,UAAU,MACrB,gBAACoB,EAAA,CACC,SAAA,CAAArC,EAAAA,IAACsC,EAAA,CACC,gBAACC,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAACwC,GAAU,SAAA,IAAA,CAAE,EACbxC,EAAAA,IAACwC,GAAU,SAAA,MAAA,CAAI,EACfxC,EAAAA,IAACwC,GAAU,SAAA,OAAA,CAAK,EAChBxC,EAAAA,IAACwC,GAAU,SAAA,UAAA,CAAQ,EACnBxC,EAAAA,IAACwC,GAAU,SAAA,OAAA,CAAK,EAChBxC,EAAAA,IAACwC,GAAU,SAAA,QAAA,CAAM,EACjBxC,EAAAA,IAACwC,GAAU,SAAA,UAAA,CAAQ,EACnBxC,EAAAA,IAACwC,GAAU,SAAA,SAAA,CAAO,CAAA,CAAA,CACpB,CAAA,CACF,EACAxC,EAAAA,IAACyC,GACE,SAAAtD,EACCa,EAAAA,IAACuC,GAAS,SAAAvC,EAAAA,IAAC2C,EAAA,CAAU,QAAS,EAAG,UAAU,mBAAmB,SAAA,YAAA,CAAU,CAAA,CAAY,GACjF,MAAM,QAAQ0H,CAAQ,EAAIA,EAAW,CAAA,GAAI,SAAW,EACvDrK,EAAAA,IAACuC,EAAA,CAAS,eAACI,EAAA,CAAU,QAAS,EAAG,UAAU,mBAAmB,6BAAiB,CAAA,CAAY,GAE1F,MAAM,QAAQ0H,CAAQ,EAAIA,EAAW,CAAA,GAAI,IAAKmB,GAC7CzL,EAAAA,KAACwC,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAAC2C,EAAA,CAAW,WAAQ,EAAA,CAAG,EACvB3C,EAAAA,IAAC2C,EAAA,CAAU,UAAU,cAAe,WAAQ,KAAK,QAChDA,EAAA,CACE,SAAA6I,EAAQ,YACPzL,EAAAA,KAAC,MAAA,CAAI,UAAU,UACb,SAAA,CAAAC,MAAC,IAAA,CAAE,UAAU,cAAe,SAAAwL,EAAQ,YAAY,KAAK,QACpD,IAAA,CAAE,UAAU,gCAAiC,SAAAA,EAAQ,YAAY,KAAA,CAAM,CAAA,EAC1E,EACEA,EAAQ,eACVzL,EAAAA,KAAC,OAAA,CAAK,UAAU,wBAAwB,SAAA,CAAA,OAAKyL,EAAQ,cAAA,EAAe,EAEpExL,MAAC,OAAA,CAAK,UAAU,wBAAwB,aAAC,EAE7C,EACAA,EAAAA,IAAC2C,GAAU,SAAA3C,EAAAA,IAAC4C,EAAA,CAAM,QAAQ,UAAW,SAAA4I,EAAQ,SAAS,CAAA,CAAQ,SAC7D7I,EAAA,CAAU,SAAA,CAAA,KAAG,WAAW6I,EAAQ,KAAK,GAAK,GAAG,QAAQ,CAAC,CAAA,EAAE,EACzDxL,MAAC2C,EAAA,CACC,SAAA5C,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAACyL,GAAA,CAAK,UAAU,yCAAA,CAA0C,EACzDD,EAAQ,QAAU,WAAWA,EAAQ,MAAM,GAAK,GAAG,QAAQ,CAAC,EAAI,KAAA,CAAA,CACnE,CAAA,CACF,EACAxL,EAAAA,IAAC2C,EAAA,CAAU,SAAA3C,EAAAA,IAAC4C,EAAA,CAAM,QAAS4I,EAAQ,SAAW,UAAY,YAAc,SAAAA,EAAQ,SAAW,MAAQ,KAAK,EAAQ,EAChHxL,MAAC2C,EAAA,CACC,SAAA5C,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAACS,GAAO,KAAK,KAAK,QAAQ,QAAQ,QAAS,IAAM,CAAEmB,EAAgB4J,CAAO,EAAG3J,EAAa,cAAc,EAAGC,EAAa,EAAI,CAAG,EAAG,SAAA9B,MAACgD,GAAA,CAAI,UAAU,UAAU,EAAE,QAC5JvC,EAAA,CAAO,KAAK,KAAK,QAAQ,QAAQ,QAAS,IAAM,CAAEmB,EAAgB4J,CAAO,EAAG3J,EAAa,cAAc,EAAGC,EAAa,EAAI,CAAG,EAAG,SAAA9B,MAACiD,GAAA,CAAK,UAAU,UAAU,EAAE,QAC7JxC,EAAA,CAAO,KAAK,KAAK,QAAQ,QAAQ,QAAS,IAAM2J,EAAI,kBAAkBoB,EAAQ,EAAE,EAAG,eAACJ,GAAA,CAAQ,UAAU,UAAU,EAAE,EACnHpL,EAAAA,IAACS,EAAA,CAAO,KAAK,KAAK,QAAQ,QAAQ,UAAU,mBAAmB,QAAS,IAAMiK,EAAiB,CAAE,KAAM,GAAM,MAAO,iBAAkB,QAAS,oCAAoCc,EAAQ,IAAI,KAAM,UAAW,IAAMT,GAAoBS,EAAQ,EAAE,CAAA,CAAG,EAAG,SAAAxL,MAACkD,GAAA,CAAO,UAAU,UAAU,CAAA,CAAE,CAAA,CAAA,CAC1R,CAAA,CACF,CAAA,GA/BasI,EAAQ,EAgCvB,CACD,CAAA,CAEL,CAAA,CAAA,CACF,EACF,CAAA,CACF,CAAA,EACF,EAEAzL,EAAAA,KAACuI,EAAA,CAAY,MAAM,gBAAgB,UAAU,YAC3C,SAAA,CAAAvI,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAA,OAACU,EAAA,CAAO,QAAS,IAAM,CAAEmB,EAAgB,IAAI,EAAGC,EAAa,oBAAoB,EAAGC,EAAa,EAAI,CAAG,EACtG,SAAA,CAAA9B,EAAAA,IAACwE,GAAA,CAAK,UAAU,cAAA,CAAe,EAAE,oBAAA,EAEnC,EACAxE,EAAAA,IAACS,EAAA,CAAO,QAAQ,UAAU,KAAK,OAAO,QAASmK,EAAmB,SAAA5K,EAAAA,IAACkC,EAAA,CAAU,UAAU,SAAA,CAAU,CAAA,CAAE,CAAA,EACrG,EACAlC,EAAAA,IAACE,EAAA,CAAM,YAAY,0BAA0B,MAAOqB,EAAQ,aAAa,OAAQ,SAAW/B,GAAMgC,EAAW,CAAE,GAAGD,EAAS,aAAc,CAAE,GAAGA,EAAQ,aAAc,OAAQ/B,EAAE,OAAO,KAAA,CAAM,CAAG,EAAG,UAAU,MAAA,CAAO,CAAA,EACpN,QACCqB,EAAA,CACC,SAAAb,EAAAA,IAACiB,GAAY,UAAU,MACrB,gBAACoB,EAAA,CACC,SAAA,CAAArC,EAAAA,IAACsC,EAAA,CACC,gBAACC,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAACwC,GAAU,SAAA,IAAA,CAAE,EACbxC,EAAAA,IAACwC,GAAU,SAAA,MAAA,CAAI,EACfxC,EAAAA,IAACwC,GAAU,SAAA,SAAA,CAAO,EAClBxC,EAAAA,IAACwC,GAAU,SAAA,UAAA,CAAQ,EACnBxC,EAAAA,IAACwC,GAAU,SAAA,MAAA,CAAI,EACfxC,EAAAA,IAACwC,GAAU,SAAA,cAAA,CAAY,EACvBxC,EAAAA,IAACwC,GAAU,SAAA,YAAA,CAAU,EACrBxC,EAAAA,IAACwC,GAAU,SAAA,SAAA,CAAO,CAAA,CAAA,CACpB,CAAA,CACF,EACAxC,EAAAA,IAACyC,GACE,SAAAtD,EACCa,EAAAA,IAACuC,GAAS,SAAAvC,EAAAA,IAAC2C,EAAA,CAAU,QAAS,EAAG,UAAU,mBAAmB,SAAA,YAAA,CAAU,CAAA,CAAY,GACjF,MAAM,QAAQ2H,CAAY,EAAIA,EAAe,CAAA,GAAI,SAAW,EAC/DtK,EAAAA,IAACuC,EAAA,CAAS,eAACI,EAAA,CAAU,QAAS,EAAG,UAAU,mBAAmB,kCAAsB,CAAA,CAAY,GAE/F,MAAM,QAAQ2H,CAAY,EAAIA,EAAe,CAAA,GAAI,IAAKoB,GACrD3L,EAAAA,KAACwC,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAAC2C,EAAA,CAAW,WAAG,EAAA,CAAG,EAClB3C,EAAAA,IAAC2C,GAAU,SAAA3C,EAAAA,IAAC,IAAA,CAAE,UAAU,cAAe,SAAA0L,EAAG,KAAK,CAAA,CAAI,QAClD/I,EAAA,CAAW,SAAA+I,EAAG,OAASA,EAAG,OAAS,IAAI,EACxC1L,EAAAA,IAAC2C,GAAU,SAAA3C,EAAAA,IAAC4C,EAAA,CAAM,QAAQ,UAAW,SAAA8I,EAAG,UAAY,GAAA,CAAI,CAAA,CAAQ,EAChE1L,EAAAA,IAAC2C,EAAA,CAAW,SAAA+I,EAAG,MAAQ,IAAI,EAC3B1L,EAAAA,IAAC2C,EAAA,CAAW,SAAA+I,EAAG,qBAAuB,IAAI,EAC1C1L,EAAAA,IAAC2C,EAAA,CAAW,SAAA+I,EAAG,WAAa,IAAI,KAAKA,EAAG,UAAU,EAAE,mBAAA,EAAuB,GAAA,CAAI,EAC/E1L,MAAC2C,EAAA,CACC,SAAA5C,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAACS,GAAO,KAAK,KAAK,QAAQ,QAAQ,QAAS,IAAM,CAAEmB,EAAgB8J,CAAE,EAAG7J,EAAa,kBAAkB,EAAGC,EAAa,EAAI,CAAG,EAAG,SAAA9B,MAACgD,GAAA,CAAI,UAAU,UAAU,EAAE,QAC3JvC,EAAA,CAAO,KAAK,KAAK,QAAQ,QAAQ,QAAS,IAAM,CAAEmB,EAAgB8J,CAAE,EAAG7J,EAAa,kBAAkB,EAAGC,EAAa,EAAI,CAAG,EAAG,SAAA9B,MAACiD,GAAA,CAAK,UAAU,UAAU,EAAE,QAC5JxC,EAAA,CAAO,KAAK,KAAK,QAAQ,QAAQ,QAAS,IAAM,CAAEmB,EAAgB8J,CAAE,EAAG7J,EAAa,uBAAuB,EAAGC,EAAa,EAAI,CAAG,EAAG,SAAA9B,MAACwE,GAAA,CAAK,UAAU,UAAU,EAAE,EAClKxE,EAAAA,IAACS,EAAA,CAAO,KAAK,KAAK,QAAQ,QAAQ,UAAU,mBAAmB,QAAS,IAAMiK,EAAiB,CAAE,KAAM,GAAM,MAAO,qBAAsB,QAAS,gBAAiB,UAAW,IAAMN,EAAI,uBAAuBsB,EAAG,EAAE,CAAA,CAAG,EAAG,SAAA1L,EAAAA,IAACkD,GAAA,CAAO,UAAU,UAAU,CAAA,CAAE,CAAA,CAAA,CAC3P,CAAA,CACF,CAAA,GAfawI,EAAG,EAgBlB,CACD,CAAA,CAEL,CAAA,CAAA,CACF,EACF,CAAA,CACF,CAAA,EACF,EAEA3L,EAAAA,KAACuI,EAAA,CAAY,MAAM,gBAAgB,UAAU,YAC3C,SAAA,CAAAvI,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAC,MAAC,MAAA,CAAI,UAAU,0BACZ,SAAAyK,GACC1K,EAAAA,KAAA2I,WAAA,CACE,SAAA,CAAA3I,OAACU,EAAA,CAAO,QAAS,IAAM,CAAEmB,EAAgB,IAAI,EAAGC,EAAa,qBAAqB,EAAGC,EAAa,EAAI,CAAG,EAAG,SAAA,CAAA9B,EAAAA,IAACwE,GAAA,CAAK,UAAU,cAAA,CAAe,EAAE,UAAA,EAAQ,EACrJxE,EAAAA,IAACS,EAAA,CAAO,QAAQ,UAAU,KAAK,OAAO,QAAS,IAAMoK,EAAkBJ,CAAiB,EAAG,SAAAzK,EAAAA,IAACkC,EAAA,CAAU,UAAU,UAAU,CAAA,CAAE,CAAA,CAAA,CAC9H,CAAA,CAEJ,SACC/B,EAAA,CAAO,MAAOsK,GAAmB,SAAA,GAAc,GAAI,cAAgBa,GAAMA,GAAKlB,EAAI,kBAAkB,SAASkB,CAAC,CAAC,EAC9G,SAAA,CAAAtL,EAAAA,IAACI,GAAc,UAAU,OAAO,eAACC,EAAA,CAAY,YAAY,iCAAiC,CAAA,CAAE,EAC5FL,EAAAA,IAACM,EAAA,CACG,UAAA,MAAM,QAAQ+J,CAAQ,EAAIA,EAAW,CAAA,GAAI,IAAK9B,SAC7ChI,EAAA,CAAsB,MAAO,OAAOgI,EAAE,EAAE,EAAI,WAAE,IAAA,EAA9BA,EAAE,EAAiC,CACrD,CAAA,CACH,CAAA,CAAA,CACF,CAAA,EACF,EACEkC,EAGA1K,EAAAA,KAACc,EAAA,CACC,SAAA,CAAAb,EAAAA,IAACc,GAAA,CAAW,gBAACC,GAAA,CAAU,SAAA,CAAA,sBAAoB0J,CAAA,CAAA,CAAkB,CAAA,CAAY,EACzEzK,MAACiB,EAAA,CAAY,UAAU,MACrB,gBAACoB,EAAA,CACC,SAAA,CAAArC,EAAAA,IAACsC,EAAA,CACC,gBAACC,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAACwC,GAAU,SAAA,IAAA,CAAE,EACbxC,EAAAA,IAACwC,GAAU,SAAA,MAAA,CAAI,EACfxC,EAAAA,IAACwC,GAAU,SAAA,aAAA,CAAW,EACtBxC,EAAAA,IAACwC,GAAU,SAAA,OAAA,CAAK,EAChBxC,EAAAA,IAACwC,GAAU,SAAA,OAAA,CAAK,EAChBxC,EAAAA,IAACwC,GAAU,SAAA,SAAA,CAAO,CAAA,CAAA,CACpB,CAAA,CACF,EACAxC,EAAAA,IAACyC,GACE,SAAAtD,EAAUa,EAAAA,IAACuC,GAAS,SAAAvC,EAAAA,IAAC2C,EAAA,CAAU,QAAS,EAAG,UAAU,mBAAmB,SAAA,YAAA,CAAU,CAAA,CAAY,GAC5F,MAAM,QAAQ4H,CAAY,EAAIA,EAAe,CAAA,GAAI,SAAW,EAAIvK,EAAAA,IAACuC,EAAA,CAAS,eAACI,EAAA,CAAU,QAAS,EAAG,UAAU,mBAAmB,0BAAc,CAAA,CAAY,GACtJ,MAAM,QAAQ4H,CAAY,EAAIA,EAAe,CAAA,GAAI,IAAKoB,GACrD5L,EAAAA,KAACwC,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAAC2C,EAAA,CAAW,WAAK,EAAA,CAAG,EACpB3C,EAAAA,IAAC2C,EAAA,CAAU,UAAU,cAAe,WAAK,KAAK,QAC7CA,EAAA,CAAU,UAAU,oBAAqB,SAAAgJ,EAAK,aAAe,MAAM,SACnEhJ,EAAA,CAAU,SAAA,CAAA,KAAG,WAAWgJ,EAAK,KAAK,GAAK,GAAG,QAAQ,CAAC,CAAA,EAAE,EACtD3L,EAAAA,IAAC2C,GAAW,SAAAgJ,EAAK,YAAS,MAAA,CAAI,IAAKA,EAAK,MAAO,IAAKA,EAAK,KAAM,UAAU,iCAAiC,EAAK3L,EAAAA,IAAC,QAAK,UAAU,wBAAwB,oBAAQ,CAAA,CAAQ,EACvKA,MAAC2C,EAAA,CACC,SAAA5C,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAACS,GAAO,KAAK,KAAK,QAAQ,QAAQ,QAAS,IAAM,CAAEmB,EAAgB+J,CAAI,EAAG9J,EAAa,mBAAmB,EAAGC,EAAa,EAAI,CAAG,EAAG,SAAA9B,MAACiD,GAAA,CAAK,UAAU,UAAU,EAAE,EAChKjD,EAAAA,IAACS,EAAA,CAAO,KAAK,KAAK,QAAQ,QAAQ,UAAU,mBAAmB,QAAS,IAAMiK,EAAiB,CAAE,KAAM,GAAM,MAAO,cAAe,QAAS,WAAWiB,EAAK,IAAI,KAAM,UAAW,IAAMV,GAAwBU,EAAK,EAAE,CAAA,CAAG,EAAG,SAAA3L,MAACkD,GAAA,CAAO,UAAU,UAAU,CAAA,CAAE,CAAA,CAAA,CAC5P,CAAA,CACF,CAAA,GAXayI,EAAK,EAYpB,CACD,CAAA,CAEP,CAAA,CAAA,CACF,CAAA,CACF,CAAA,CAAA,CACF,EAtCA3L,EAAAA,IAACa,GAAK,SAAAd,OAACkB,EAAA,CAAY,UAAU,0CAA0C,SAAA,CAAAjB,EAAAA,IAACoL,GAAA,CAAQ,UAAU,mCAAA,CAAoC,EAAEpL,EAAAA,IAAC,KAAE,SAAA,0CAAA,CAAwC,CAAA,CAAA,CAAI,CAAA,CAAc,CAsC7L,EAEJ,EAEAD,EAAAA,KAACuI,EAAA,CAAY,MAAM,oBAAoB,UAAU,YAC/C,SAAA,CAAAtI,EAAAA,IAACS,EAAA,CAAO,QAAQ,UAAU,KAAK,OAAO,QAASqK,GAAuB,SAAA9K,EAAAA,IAACkC,EAAA,CAAU,UAAU,SAAA,CAAU,EAAE,QACtGrB,EAAA,CACC,SAAAb,EAAAA,IAACiB,GAAY,UAAU,MACrB,gBAACoB,EAAA,CACC,SAAA,CAAArC,EAAAA,IAACsC,EAAA,CACC,gBAACC,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAACwC,GAAU,SAAA,IAAA,CAAE,EACbxC,EAAAA,IAACwC,GAAU,SAAA,SAAA,CAAO,EAClBxC,EAAAA,IAACwC,GAAU,SAAA,MAAA,CAAI,EACfxC,EAAAA,IAACwC,GAAU,SAAA,QAAA,CAAM,EACjBxC,EAAAA,IAACwC,GAAU,SAAA,SAAA,CAAO,EAClBxC,EAAAA,IAACwC,GAAU,SAAA,SAAA,CAAO,EAClBxC,EAAAA,IAACwC,GAAU,SAAA,YAAA,CAAU,EACrBxC,EAAAA,IAACwC,GAAU,SAAA,SAAA,CAAO,CAAA,CAAA,CACpB,CAAA,CACF,EACAxC,EAAAA,IAACyC,GACE,SAAAtD,EAAUa,EAAAA,IAACuC,GAAS,SAAAvC,EAAAA,IAAC2C,EAAA,CAAU,QAAS,EAAG,UAAU,mBAAmB,SAAA,YAAA,CAAU,CAAA,CAAY,GAC5F,MAAM,QAAQ6H,CAAgB,EAAIA,EAAmB,CAAA,GAAI,SAAW,EAAIxK,EAAAA,IAACuC,EAAA,CAAS,eAACI,EAAA,CAAU,QAAS,EAAG,UAAU,mBAAmB,8BAAkB,CAAA,CAAY,GAClK,MAAM,QAAQ6H,CAAgB,EAAIA,EAAmB,CAAA,GAAI,IAAKoB,GAC7D7L,EAAAA,KAACwC,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAAC2C,EAAA,CAAW,WAAS,EAAA,CAAG,QACvBA,EAAA,CAAW,SAAAiJ,EAAS,SAAS,MAAQA,EAAS,WAAW,QACzDjJ,EAAA,CAAW,SAAAiJ,EAAS,MAAM,MAAQA,EAAS,QAAQ,EACpD5L,EAAAA,IAAC2C,EAAA,CACC,SAAA3C,EAAAA,IAAC,MAAA,CAAI,UAAU,0BACZ,SAAA,CAAC,GAAG,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC6L,GAAGC,KACrB9L,EAAAA,IAACyL,GAAA,CAAa,UAAW,WAAWK,GAAIF,EAAS,OAAS,kCAAoC,eAAe,EAAA,EAAlGE,EAAsG,CAClH,EACH,EACF,QACCnJ,EAAA,CAAU,UAAU,oBAAqB,SAAAiJ,EAAS,SAAW,MAAM,EACpE5L,EAAAA,IAAC2C,EAAA,CAAW,SAAAiJ,EAAS,eAAiB,EAAE,EACxC5L,MAAC2C,GAAW,SAAA,IAAI,KAAKiJ,EAAS,UAAU,EAAE,qBAAqB,EAC/D5L,EAAAA,IAAC2C,EAAA,CACC,SAAA3C,EAAAA,IAACS,EAAA,CAAO,KAAK,KAAK,QAAQ,QAAQ,UAAU,mBAAmB,QAAS,IAAMiK,EAAiB,CAAE,KAAM,GAAM,MAAO,kBAAmB,QAAS,gBAAiB,UAAW,IAAMM,GAAqBY,EAAS,EAAE,CAAA,CAAG,EAAG,SAAA5L,EAAAA,IAACkD,GAAA,CAAO,UAAU,SAAA,CAAU,EAAE,CAAA,CACxP,CAAA,GAhBa0I,EAAS,EAiBxB,CACD,CAAA,CAEP,CAAA,CAAA,CACF,EACF,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,CAEJ,CCxKA,SAAwBG,IAAiB,CACvC,MAAMtK,EAAWuK,GAAA,EACX,CAACC,EAAWC,CAAY,EAAI5M,EAAAA,SAAS,WAAW,EAChD,CAACH,EAASgN,CAAU,EAAI7M,EAAAA,SAAS,EAAK,EACtC,CAACqB,EAASyL,CAAU,EAAI9M,EAAAA,SAAS,IAAI,EAGrC,CAACgC,EAAO+K,CAAQ,EAAI/M,EAAAA,SAAS,CAAA,CAAE,EAC/B,CAAC8D,EAAMkJ,CAAO,EAAIhN,EAAAA,SAAS,CAAA,CAAE,EAC7B,CAACqE,EAAU4I,CAAW,EAAIjN,EAAAA,SAAS,CAAA,CAAE,EACrC,CAAC4E,EAAUsI,CAAW,EAAIlN,EAAAA,SAAS,CAAA,CAAE,EACrC,CAAC0F,EAAeyH,EAAgB,EAAInN,EAAAA,SAAS,CAAA,CAAE,EAC/C,CAACgG,GAASoH,EAAU,EAAIpN,EAAAA,SAAS,CAAA,CAAE,EACnC,CAACoG,GAAKiH,CAAM,EAAIrN,EAAAA,SAAS,CAAA,CAAE,EAC3B,CAACsJ,GAAcgE,EAAe,EAAItN,EAAAA,SAAS,CAAA,CAAE,EAC7C,CAAC2J,GAAU4D,EAAW,EAAIvN,EAAAA,SAAS,CAAA,CAAE,EACrC,CAACgK,EAAawD,EAAc,EAAIxN,EAAAA,SAAS,CAAA,CAAE,EAC3C,CAACqK,GAAeoD,EAAgB,EAAIzN,EAAAA,SAAS,CAAA,CAAE,EAC/C,CAACyK,GAAMiD,EAAO,EAAI1N,EAAAA,SAAS,CAAA,CAAE,EAE7B,CAAC0G,GAAYiH,EAAa,EAAI3N,EAAAA,SAAS,CAAA,CAAE,EACzC,CAAC4N,GAAgBC,EAAiB,EAAI7N,EAAAA,SAAS,CAAA,CAAE,EACjD,CAAC2H,GAAiBmG,EAAkB,EAAI9N,EAAAA,SAAS,CAAA,CAAE,EACnD,CAAC2G,GAASoH,EAAU,EAAI/N,EAAAA,SAAS,CAAA,CAAE,EACnC,CAACgO,EAAYpH,EAAa,EAAI5G,WAAS,CAC3C,SAAU,GACV,aAAc,GACd,MAAO,GACP,SAAU,GACV,sBAAuB,GACvB,WAAY,GACZ,UAAW,EAAA,CACZ,EAEK,CAACqH,GAAgBY,EAAiB,EAAIjI,EAAAA,SAAS,IAAI,EACnD,CAACsH,GAAiBC,EAAkB,EAAIvH,EAAAA,SAAS,UAAU,EAC3D,CAACwH,GAAeyG,EAAgB,EAAIjO,EAAAA,SAAS,IAAI,EACjD,CAACyH,GAAmBM,EAAoB,EAAI/H,EAAAA,SAAS,CAAE,KAAM,CAAA,EAAI,WAAY,CAAA,EAAI,EACjF,CAAC0H,GAAewG,EAAgB,EAAIlO,EAAAA,SAAS,CAAE,KAAM,CAAA,EAAI,EACzD,CAAC4H,GAAuBuG,EAAwB,EAAInO,EAAAA,SAAS,CAAE,KAAM,CAAA,EAAI,EACzE,CAACoO,GAAYpG,EAAa,EAAIhI,EAAAA,SAAS,CAAE,UAAW,GAAI,OAAQ,GAAI,UAAW,GAAI,MAAO,GAAI,EAC9F,CAAC6H,GAAwBC,EAAyB,EAAI9H,EAAAA,SAAS,KAAK,EACpE,CAACqO,GAAaC,EAAc,EAAItO,EAAAA,SAAS,CAAA,CAAE,EAC3C,CAACuO,GAAWC,EAAY,EAAIxO,EAAAA,SAAS,CAAA,CAAE,EAGvC,CAAC+K,GAAU0D,EAAW,EAAIzO,EAAAA,SAAS,CAAA,CAAE,EACrC,CAACgL,GAAc0D,EAAe,EAAI1O,EAAAA,SAAS,CAAA,CAAE,EAC7C,CAACiL,GAAc0D,EAAe,EAAI3O,EAAAA,SAAS,CAAA,CAAE,EAC7C,CAACkL,GAAkB0D,EAAmB,EAAI5O,EAAAA,SAAS,CAAA,CAAE,EACrD,CAACmL,GAAmB0D,EAAoB,EAAI7O,EAAAA,SAAS,IAAI,EAGzD,CAAC8O,EAAYC,EAAa,EAAI/O,WAAS,CAC3C,MAAO,CAAE,KAAM,EAAG,SAAU,EAAA,EAC5B,KAAM,CAAE,KAAM,EAAG,SAAU,EAAA,EAC3B,SAAU,CAAE,KAAM,EAAG,SAAU,EAAA,EAC/B,SAAU,CAAE,KAAM,EAAG,SAAU,EAAA,EAC/B,cAAe,CAAE,KAAM,EAAG,SAAU,EAAA,EACpC,QAAS,CAAE,KAAM,EAAG,SAAU,EAAA,EAC9B,IAAK,CAAE,KAAM,EAAG,SAAU,EAAA,EAC1B,aAAc,CAAE,KAAM,EAAG,SAAU,EAAA,EACnC,SAAU,CAAE,KAAM,EAAG,SAAU,EAAA,EAC/B,YAAa,CAAE,KAAM,EAAG,SAAU,EAAA,EAClC,cAAe,CAAE,KAAM,EAAG,SAAU,EAAA,EACpC,KAAM,CAAE,KAAM,EAAG,SAAU,EAAA,EAC3B,SAAU,CAAE,KAAM,EAAG,SAAU,EAAA,EAC/B,aAAc,CAAE,KAAM,EAAG,SAAU,EAAA,EACnC,iBAAkB,CAAE,KAAM,EAAG,SAAU,EAAA,EACvC,WAAY,CAAE,KAAM,EAAG,SAAU,EAAA,CAAG,CACrC,EAGK,CAACiC,EAASC,EAAU,EAAIlC,WAAS,CACrC,MAAO,CAAE,KAAM,MAAO,OAAQ,KAAA,EAC9B,KAAM,CAAE,OAAQ,MAAO,aAAc,MAAO,SAAU,EAAA,EACtD,SAAU,CAAE,OAAQ,KAAA,EACpB,SAAU,CAAE,KAAM,KAAA,EAClB,cAAe,CAAE,OAAQ,KAAA,EACzB,QAAS,CAAE,OAAQ,MAAO,SAAU,KAAA,EACpC,IAAK,CAAE,OAAQ,KAAA,EACf,aAAc,CAAE,OAAQ,KAAA,EACxB,SAAU,CAAE,OAAQ,GAAI,OAAQ,KAAA,EAChC,YAAa,CAAE,OAAQ,KAAA,EACvB,cAAe,CAAE,KAAM,MAAO,QAAS,KAAA,EACvC,KAAM,CAAE,aAAc,GAAI,QAAS,KAAA,EACnC,SAAU,CAAE,SAAU,MAAO,KAAM,GAAI,SAAU,MAAO,OAAQ,EAAA,EAChE,aAAc,CAAE,OAAQ,EAAA,EACxB,WAAY,CAAE,UAAW,MAAO,UAAW,KAAA,CAAM,CAClD,EAGK,CAACgP,GAAYC,EAAa,EAAIjP,EAAAA,SAAS,IAAI,EAC3C,CAACkP,GAAWC,EAAY,EAAInP,EAAAA,SAAS,IAAI,EACzC,CAACoP,GAAkBC,EAAmB,EAAIrP,EAAAA,SAAS,OAAO,EAG1D,CAACsP,EAAchN,CAAe,EAAItC,EAAAA,SAAS,IAAI,EAC/C,CAACuP,GAAW/M,CAAY,EAAIxC,EAAAA,SAAS,EAAK,EAC1C,CAACwP,EAAWjN,CAAY,EAAIvC,EAAAA,SAAS,EAAE,EAGvC,CAACyP,GAAerE,EAAgB,EAAIpL,WAAS,CACjD,KAAM,GACN,MAAO,GACP,QAAS,GACT,UAAW,IAAA,CACZ,EAGK0P,GAAe,SAAY,CAC/B,GAAI,CACF,KAAM,CAAE,KAAAvK,CAAA,EAAS,MAAMwK,EAAI,IAAI,wBAAwB,EACvD7C,EAAW3H,EAAK,OAAO,CACzB,OAASyK,EAAO,CACd,QAAQ,MAAM,0BAA2BA,CAAK,EAC9CC,EAAM,MAAM,kCAAkC,CAChD,CACF,EAGMzN,GAAa,SAAY,CAC7ByK,EAAW,EAAI,EACf,GAAI,CACF,MAAMiD,EAAS,CACb,KAAMhB,EAAW,MAAM,KACvB,SAAUA,EAAW,MAAM,QAAA,EAEzB7M,EAAQ,MAAM,MAAQA,EAAQ,MAAM,OAAS,QAAO6N,EAAO,KAAO7N,EAAQ,MAAM,MAChFA,EAAQ,MAAM,QAAUA,EAAQ,MAAM,SAAW,QAEnD6N,EAAO,OAAS7N,EAAQ,MAAM,SAAW,UAAYA,EAAQ,MAAM,SAAW,QAGhF,MAAM8N,EAAW,MAAMC,GAASF,CAAM,EACtC/C,EAASgD,EAAS,KAAK,KAAK,CAC9B,MAAgB,CACdF,EAAM,MAAM,uBAAuB,CACrC,QAAA,CACEhD,EAAW,EAAK,CAClB,CACF,EAGMxK,GAAmB,MAAO4N,GAAO,CACrC,GAAI,CACF,KAAM,CAAE,KAAA9K,GAAS,MAAMwK,EAAI,IAAI,gBAAgBM,CAAE,EAAE,EACnD,OAAO9K,EAAK,IACd,MAAgB,CACd,OAAA0K,EAAM,MAAM,8BAA8B,EACnC,IACT,CACF,EAGM9L,GAAY,SAAY,CAC5B8I,EAAW,EAAI,EACf,GAAI,CACF,MAAMiD,EAAS,CACb,KAAMhB,EAAW,KAAK,KACtB,SAAUA,EAAW,KAAK,SAC1B,YAAa,EAAA,EAEX7M,EAAQ,KAAK,QAAUA,EAAQ,KAAK,SAAW,QAAO6N,EAAO,OAAS7N,EAAQ,KAAK,QACnFA,EAAQ,KAAK,cAAgBA,EAAQ,KAAK,eAAiB,QAAO6N,EAAO,aAAe7N,EAAQ,KAAK,cACrGA,EAAQ,KAAK,UAAYA,EAAQ,KAAK,WAAa,QAAO6N,EAAO,SAAW7N,EAAQ,KAAK,UAE7F,MAAM8N,EAAW,MAAMG,GAAQJ,CAAM,EACrC9C,EAAQ+C,EAAS,KAAK,IAAI,CAC5B,MAAgB,CACdF,EAAM,MAAM,sBAAsB,CACpC,QAAA,CACEhD,EAAW,EAAK,CAClB,CACF,EAGM7I,GAAkB,MAAOiM,GAAO,CACpC,GAAI,CACF,KAAM,CAAE,KAAA9K,GAAS,MAAMwK,EAAI,IAAI,eAAeM,CAAE,EAAE,EAClD,OAAO9K,EAAK,GACd,MAAgB,CACd,OAAA0K,EAAM,MAAM,6BAA6B,EAClC,IACT,CACF,EAGMvL,GAAgB,SAAY,CAChCuI,EAAW,EAAI,EACf,GAAI,CACF,MAAMiD,EAAS,IAAI,gBACf7N,EAAQ,SAAS,QAAUA,EAAQ,SAAS,SAAW,OAAO6N,EAAO,OAAO,SAAU7N,EAAQ,SAAS,MAAM,EACjH6N,EAAO,OAAO,OAAQhB,EAAW,SAAS,IAAI,EAC9CgB,EAAO,OAAO,WAAYhB,EAAW,SAAS,QAAQ,EAEtD,KAAM,CAAE,KAAA3J,GAAS,MAAMwK,EAAI,IAAI,mBAAmBG,CAAM,EAAE,EAC1D7C,EAAY9H,EAAK,QAAQ,CAC3B,MAAgB,CACd0K,EAAM,MAAM,0BAA0B,CACxC,QAAA,CACEhD,EAAW,EAAK,CAClB,CACF,EAGMtI,GAAsB,MAAO0L,GAAO,CACxC,GAAI,CACF,KAAM,CAAE,KAAA9K,GAAS,MAAMwK,EAAI,IAAI,mBAAmBM,CAAE,EAAE,EACtD,OAAO9K,EAAK,OACd,MAAgB,CACd,OAAA0K,EAAM,MAAM,iCAAiC,EACtC,IACT,CACF,EAGMhL,GAAgB,SAAY,CAChCgI,EAAW,EAAI,EACf,GAAI,CACF,MAAMiD,EAAS,CACb,KAAMhB,EAAW,SAAS,KAC1B,SAAUA,EAAW,SAAS,QAAA,EAE5B7M,EAAQ,SAAS,MAAQA,EAAQ,SAAS,OAAS,QAAO6N,EAAO,KAAO7N,EAAQ,SAAS,MAE7F,MAAM8N,EAAW,MAAMI,GAAYL,CAAM,EACzC5C,EAAY6C,EAAS,KAAK,QAAQ,CACpC,MAAgB,CACdF,EAAM,MAAM,0BAA0B,CACxC,QAAA,CACEhD,EAAW,EAAK,CAClB,CACF,EAGMlH,GAAqB,SAAY,CACrCkH,EAAW,EAAI,EACf,GAAI,CACF,MAAMiD,EAAS,IAAI,gBACf7N,EAAQ,cAAc,QAAUA,EAAQ,cAAc,SAAW,OAAO6N,EAAO,OAAO,SAAU7N,EAAQ,cAAc,MAAM,EAChI6N,EAAO,OAAO,OAAQhB,EAAW,cAAc,IAAI,EACnDgB,EAAO,OAAO,WAAYhB,EAAW,cAAc,QAAQ,EAE3D,KAAM,CAAE,KAAA3J,GAAS,MAAMwK,EAAI,IAAI,wBAAwBG,CAAM,EAAE,EAC/D3C,GAAiBhI,EAAK,aAAa,CACrC,MAAgB,CACd0K,EAAM,MAAM,+BAA+B,CAC7C,QAAA,CACEhD,EAAW,EAAK,CAClB,CACF,EAcM5G,GAAe,SAAY,CAC/B4G,EAAW,EAAI,EACf,GAAI,CACF,MAAMiD,EAAS,IAAI,gBACf7N,EAAQ,QAAQ,QAAUA,EAAQ,QAAQ,SAAW,OAAO6N,EAAO,OAAO,SAAU7N,EAAQ,QAAQ,MAAM,EAC1GA,EAAQ,QAAQ,UAAYA,EAAQ,QAAQ,WAAa,OAAO6N,EAAO,OAAO,WAAY7N,EAAQ,QAAQ,QAAQ,EACtH6N,EAAO,OAAO,OAAQhB,EAAW,QAAQ,IAAI,EAC7CgB,EAAO,OAAO,WAAYhB,EAAW,QAAQ,QAAQ,EAErD,KAAM,CAAE,KAAA3J,GAAS,MAAMwK,EAAI,IAAI,kBAAkBG,CAAM,EAAE,EACzD1C,GAAWjI,EAAK,OAAO,CACzB,MAAgB,CACd0K,EAAM,MAAM,yBAAyB,CACvC,QAAA,CACEhD,EAAW,EAAK,CAClB,CACF,EAcMxG,GAAW,SAAY,CAC3BwG,EAAW,EAAI,EACf,GAAI,CACF,MAAMiD,EAAS,IAAI,gBACf7N,EAAQ,IAAI,QAAUA,EAAQ,IAAI,SAAW,OAAO6N,EAAO,OAAO,SAAU7N,EAAQ,IAAI,MAAM,EAClG6N,EAAO,OAAO,OAAQhB,EAAW,IAAI,IAAI,EACzCgB,EAAO,OAAO,WAAYhB,EAAW,IAAI,QAAQ,EAEjD,KAAM,CAAE,KAAA3J,GAAS,MAAMwK,EAAI,IAAI,cAAcG,CAAM,EAAE,EACrDzC,EAAOlI,EAAK,GAAG,CACjB,MAAgB,CACd0K,EAAM,MAAM,qBAAqB,CACnC,QAAA,CACEhD,EAAW,EAAK,CAClB,CACF,EAcMtD,GAAoB,SAAY,CACpCsD,EAAW,EAAI,EACf,GAAI,CACF,MAAMiD,EAAS,IAAI,gBACf7N,EAAQ,aAAa,QAAUA,EAAQ,aAAa,SAAW,OAAO6N,EAAO,OAAO,SAAU7N,EAAQ,aAAa,MAAM,EAC7H6N,EAAO,OAAO,OAAQhB,EAAW,aAAa,IAAI,EAClDgB,EAAO,OAAO,WAAYhB,EAAW,aAAa,QAAQ,EAE1D,KAAM,CAAE,KAAA3J,GAAS,MAAMwK,EAAI,IAAI,wBAAwBG,CAAM,EAAE,EAC/DxC,GAAgBnI,EAAK,aAAa,CACpC,MAAgB,CACd0K,EAAM,MAAM,+BAA+B,CAC7C,QAAA,CACEhD,EAAW,EAAK,CAClB,CACF,EAGMjD,GAAgB,SAAY,CAChCiD,EAAW,EAAI,EACf,GAAI,CACF,MAAMiD,EAAS,IAAI,gBACf7N,EAAQ,SAAS,QAAUA,EAAQ,SAAS,SAAW,OAAO6N,EAAO,OAAO,SAAU7N,EAAQ,SAAS,MAAM,EAC7GA,EAAQ,SAAS,QAAUA,EAAQ,SAAS,SAAW,OAAO6N,EAAO,OAAO,SAAU7N,EAAQ,SAAS,MAAM,EACjH6N,EAAO,OAAO,OAAQhB,EAAW,SAAS,IAAI,EAC9CgB,EAAO,OAAO,WAAYhB,EAAW,SAAS,QAAQ,EAEtD,KAAM,CAAE,KAAA3J,GAAS,MAAMwK,EAAI,IAAI,mBAAmBG,CAAM,EAAE,EAC1DvC,GAAYpI,EAAK,QAAQ,CAC3B,MAAgB,CACd0K,EAAM,MAAM,0BAA0B,CACxC,QAAA,CACEhD,EAAW,EAAK,CAClB,CACF,EAcMuD,GAAgB,MAAOjL,GAAS,CACpC,GAAI,CACF,MAAMwK,EAAI,KAAK,kBAAmBxK,CAAI,EACtC0K,EAAM,QAAQ,8BAA8B,EAC5CjG,GAAA,EACApH,EAAa,EAAK,CACpB,OAASoN,EAAO,CACdC,EAAM,MAAMD,EAAM,UAAU,MAAM,SAAW,0BAA0B,CACzE,CACF,EAGMS,GAAgB,MAAOJ,EAAI9K,IAAS,CACxC,GAAI,CACF,MAAMwK,EAAI,IAAI,mBAAmBM,CAAE,GAAI9K,CAAI,EAC3C0K,EAAM,QAAQ,8BAA8B,EAC5CjG,GAAA,EACApH,EAAa,EAAK,CACpB,MAAgB,CACdqN,EAAM,MAAM,0BAA0B,CACxC,CACF,EAGMhG,GAAgB,MAAOoG,GAAO,CAClC,GAAI,CACF,MAAMN,EAAI,OAAO,mBAAmBM,CAAE,EAAE,EACxCJ,EAAM,QAAQ,8BAA8B,EAC5CjG,GAAA,CACF,MAAgB,CACdiG,EAAM,MAAM,0BAA0B,CACxC,CACF,EAGM5F,GAAmB,SAAY,CACnC4C,EAAW,EAAI,EACf,GAAI,CACF,MAAMiD,EAAS,IAAI,gBACf7N,EAAQ,YAAY,QAAUA,EAAQ,YAAY,SAAW,OAAO6N,EAAO,OAAO,SAAU7N,EAAQ,YAAY,MAAM,EAC1H6N,EAAO,OAAO,OAAQhB,EAAW,YAAY,IAAI,EACjDgB,EAAO,OAAO,WAAYhB,EAAW,YAAY,QAAQ,EAEzD,KAAM,CAAE,KAAA3J,GAAS,MAAMwK,EAAI,IAAI,sBAAsBG,CAAM,EAAE,EAC7DtC,GAAerI,EAAK,WAAW,CACjC,MAAgB,CACd0K,EAAM,MAAM,6BAA6B,CAC3C,QAAA,CACEhD,EAAW,EAAK,CAClB,CACF,EAGMvC,GAAqB,SAAY,CACrCuC,EAAW,EAAI,EACf,GAAI,CACF,MAAMiD,EAAS,IAAI,gBACf7N,EAAQ,cAAc,MAAQA,EAAQ,cAAc,OAAS,OAAO6N,EAAO,OAAO,OAAQ7N,EAAQ,cAAc,IAAI,EACpHA,EAAQ,cAAc,SAAWA,EAAQ,cAAc,UAAY,OAAO6N,EAAO,OAAO,UAAW7N,EAAQ,cAAc,OAAO,EACpI6N,EAAO,OAAO,OAAQhB,EAAW,cAAc,IAAI,EACnDgB,EAAO,OAAO,WAAYhB,EAAW,cAAc,QAAQ,EAE3D,KAAM,CAAE,KAAA3J,GAAS,MAAMwK,EAAI,IAAI,wBAAwBG,CAAM,EAAE,EAC/DrC,GAAiBtI,EAAK,aAAa,CACrC,MAAgB,CACd0K,EAAM,MAAM,+BAA+B,CAC7C,QAAA,CACEhD,EAAW,EAAK,CAClB,CACF,EAGMnC,GAAY,SAAY,CAC5BmC,EAAW,EAAI,EACf,GAAI,CACF,MAAMiD,EAAS,CAAA,EACX7N,EAAQ,KAAK,eAAc6N,EAAO,aAAe7N,EAAQ,KAAK,cAC9DA,EAAQ,KAAK,SAAWA,EAAQ,KAAK,UAAY,QAAO6N,EAAO,QAAU7N,EAAQ,KAAK,SAC1F6N,EAAO,SAAWhB,EAAW,KAAK,SAClCgB,EAAO,KAAOhB,EAAW,KAAK,KAE9B,MAAMiB,EAAW,MAAMO,GAAQR,CAAM,EACrCpC,GAAQqC,EAAS,KAAK,IAAI,CAC5B,OAASH,EAAO,CACdC,EAAM,MAAMD,EAAM,UAAU,MAAM,SAAW,sBAAsB,CACrE,QAAA,CACE/C,EAAW,EAAK,CAClB,CACF,EAOMxB,GAAgB,SAAY,CAChCwB,EAAW,EAAI,EACf,GAAI,CACF,MAAMiD,EAAS,CACb,SAAUhB,EAAW,SAAS,SAC9B,KAAMA,EAAW,SAAS,IAAA,EAExB7M,EAAQ,SAAS,UAAYA,EAAQ,SAAS,WAAa,QAAO6N,EAAO,SAAW7N,EAAQ,SAAS,UACrGA,EAAQ,SAAS,OAAM6N,EAAO,KAAO7N,EAAQ,SAAS,MACtDA,EAAQ,SAAS,UAAYA,EAAQ,SAAS,WAAa,QAAO6N,EAAO,SAAW7N,EAAQ,SAAS,WAAa,QAClHA,EAAQ,SAAS,SAAQ6N,EAAO,OAAS7N,EAAQ,SAAS,QAE9D,MAAM8N,EAAW,MAAMQ,GAAiBT,CAAM,EAC9CrB,GAAYsB,EAAS,KAAK,UAAU,MAAQA,EAAS,KAAK,UAAY,EAAE,CAC1E,OAASH,EAAO,CACdC,EAAM,MAAMD,EAAM,UAAU,MAAM,SAAW,0BAA0B,CACzE,QAAA,CACE/C,EAAW,EAAK,CAClB,CACF,EAGM2D,GAAsB,MAAOrL,GAAS,CAC1C,GAAI,CACF,KAAM,CAAE,eAAAsL,EAAgB,GAAGC,CAAA,EAAgBvL,EAC3C,GAAI,CAACsL,EAAgB,CACnBZ,EAAM,MAAM,oDAAoD,EAChE,MACF,CAIA,MAAMc,EAAU,CAEd,SAAUD,EAAY,SACtB,KAAMA,EAAY,KAElB,YAAaA,EAAY,aAAe,OACxC,QAASA,EAAY,SAAW,OAChC,KAAMA,EAAY,MAAQ,OAC1B,cAAeA,EAAY,eAAiBA,EAAY,OAAS,OACjE,cAAeA,EAAY,eAAiB,OAE5C,UAAWA,EAAY,OAAS,OAChC,UAAWA,EAAY,OAAS,OAChC,SAAU,KAAA,EAOZ,QAAQ,IAAI,mCAAoCD,EAAgB,gBAAiBE,CAAO,EAExF,MAAMC,GAAgCH,EAAgBE,CAAO,EAC7Dd,EAAM,QAAQ,8BAA8B,EAC5CxE,GAAA,EACA7I,EAAa,EAAK,CACpB,OAASoN,EAAO,CAEd,QAAQ,MAAM,yBAA0B,CACtC,OAAQA,EAAM,UAAU,OACxB,KAAMA,EAAM,UAAU,IAAA,CACvB,EACD,MAAMiB,EACJjB,EAAM,UAAU,MAAM,UACrB,OAAOA,EAAM,UAAU,MAAS,SAAWA,EAAM,SAAS,KAAO,MACpEC,EAAM,MAAMgB,GAAkB,0BAA0B,CAC1D,CACF,EAGMC,GAAsB,MAAOb,EAAI9K,IAAS,CAC9C,GAAI,CACF,MAAM4L,GAAmBd,EAAI9K,CAAI,EACjC0K,EAAM,QAAQ,8BAA8B,EAC5CxE,GAAA,EACA7I,EAAa,EAAK,CACpB,OAASoN,EAAO,CACdC,EAAM,MAAMD,EAAM,UAAU,MAAM,SAAW,0BAA0B,CACzE,CACF,EAGMnE,GAAsB,MAAOwE,GAAO,CACxC,GAAI,CACF,MAAMe,GAAmBf,CAAE,EAC3BJ,EAAM,QAAQ,8BAA8B,EAC5CxE,GAAA,CACF,OAASuE,EAAO,CACdC,EAAM,MAAMD,EAAM,UAAU,MAAM,SAAW,0BAA0B,CACzE,CACF,EAGMtE,GAAoB,SAAY,CACpCuB,EAAW,EAAI,EACf,GAAI,CACF,MAAMiD,EAAS,CACb,SAAUhB,EAAW,aAAa,SAClC,KAAMA,EAAW,aAAa,IAAA,EAG1BiB,EAAW,MAAMkB,GAAqBnB,CAAM,EAClDpB,GAAgBqB,EAAS,KAAK,eAAe,MAAQA,EAAS,KAAK,eAAiB,EAAE,CACxF,OAASH,EAAO,CACdC,EAAM,MAAMD,EAAM,UAAU,MAAM,SAAW,+BAA+B,CAC9E,QAAA,CACE/C,EAAW,EAAK,CAClB,CACF,EAGMqE,GAAyB,MAAO/L,GAAS,CAE7C,MAAMwL,EAAU,CACd,cAAexL,EAAK,KACpB,SAAUA,EAAK,SACf,MAAOA,EAAK,MACZ,SAAUA,EAAK,SACf,aAAcA,EAAK,MAEnB,aAAcA,EAAK,cAAgB,OACnC,YAAaA,EAAK,aAAe,CAAA,CAAC,EAKpC,QAAQ,IAAI,qCAAsCwL,CAAO,EAEzD,GAAI,CACF,MAAMQ,GAAsBR,CAAO,EACnCd,EAAM,QAAQ,kCAAkC,EAChDvE,GAAA,EACA9I,EAAa,EAAK,CACpB,OAASoN,EAAO,CAEd,QAAQ,MAAM,6BAA8B,CAC1C,QAAAe,EACA,OAAQf,EAAM,UAAU,OACxB,KAAMA,EAAM,UAAU,IAAA,CACvB,EACD,MAAMiB,EACJjB,EAAM,UAAU,MAAM,UACrB,OAAOA,EAAM,UAAU,MAAS,SAAWA,EAAM,SAAS,KAAO,MACpEC,EAAM,MAAMgB,GAAkB,8BAA8B,CAC9D,CACF,EAGMO,GAAyB,MAAOnB,EAAI9K,IAAS,CACjD,GAAI,CAEF,MAAMwL,EAAU,CACd,cAAexL,EAAK,KACpB,SAAUA,EAAK,SACf,MAAOA,EAAK,MACZ,aAAcA,EAAK,MACnB,aAAcA,EAAK,cAAgB,OACnC,YAAaA,EAAK,aAAe,CAAA,CAAC,EAEhCA,EAAK,WACPwL,EAAQ,SAAWxL,EAAK,UAG1B,MAAMkM,GAAsBpB,EAAIU,CAAO,EACvCd,EAAM,QAAQ,kCAAkC,EAChDvE,GAAA,EACA9I,EAAa,EAAK,CACpB,OAASoN,EAAO,CACdC,EAAM,MAAMD,EAAM,UAAU,MAAM,SAAW,8BAA8B,CAC7E,CACF,EAGM0B,GAAyB,MAAOrB,GAAO,CAC3C,GAAI,CACF,MAAMsB,GAAsBtB,CAAE,EAC9BJ,EAAM,QAAQ,kCAAkC,EAChDvE,GAAA,CACF,OAASsE,EAAO,CACdC,EAAM,MAAMD,EAAM,UAAU,MAAM,SAAW,8BAA8B,CAC7E,CACF,EAGMrE,GAAoB,MAAOiG,GAAc,CAC7C,GAAKA,EACL,CAAA3E,EAAW,EAAI,EACf,GAAI,CACF,MAAMkD,EAAW,MAAM0B,GAAqBD,CAAS,EACrD7C,GAAgBoB,EAAS,KAAK,OAAS,CAAA,CAAE,EACzClB,GAAqB2C,CAAS,CAChC,OAAS5B,EAAO,CACdC,EAAM,MAAMD,EAAM,UAAU,MAAM,SAAW,+BAA+B,CAC9E,QAAA,CACE/C,EAAW,EAAK,CAClB,EACF,EAGM6E,GAA0B,MAAOF,EAAWrM,IAAS,CACzD,GAAI,CACF,MAAMwM,GAAuBH,EAAWrM,CAAI,EAC5C0K,EAAM,QAAQ,mCAAmC,EACjDtE,GAAkBiG,CAAS,EAC3BhP,EAAa,EAAK,CACpB,OAASoN,EAAO,CACdC,EAAM,MAAMD,EAAM,UAAU,MAAM,SAAW,+BAA+B,CAC9E,CACF,EAGMgC,GAA0B,MAAOC,EAAQ1M,IAAS,CACtD,GAAI,CACF,MAAM2M,GAAuBD,EAAQ1M,CAAI,EACzC0K,EAAM,QAAQ,mCAAmC,EAC7C1E,OAAqCA,EAAiB,EAC1D3I,EAAa,EAAK,CACpB,OAASoN,EAAO,CACdC,EAAM,MAAMD,EAAM,UAAU,MAAM,SAAW,+BAA+B,CAC9E,CACF,EAGMjE,GAA0B,MAAOkG,GAAW,CAChD,GAAI,CACF,MAAME,GAAuBF,CAAM,EACnChC,EAAM,QAAQ,mCAAmC,EAC7C1E,OAAqCA,EAAiB,CAC5D,OAASyE,EAAO,CACdC,EAAM,MAAMD,EAAM,UAAU,MAAM,SAAW,+BAA+B,CAC9E,CACF,EAGMpE,GAAwB,SAAY,CACxCqB,EAAW,EAAI,EACf,GAAI,CACF,MAAMiD,EAAS,CACb,SAAUhB,EAAW,iBAAiB,SACtC,KAAMA,EAAW,iBAAiB,IAAA,EAG9BiB,EAAW,MAAMiC,GAAkBlC,CAAM,EAC/ClB,GAAoBmB,EAAS,KAAK,WAAW,MAAQA,EAAS,KAAK,WAAa,EAAE,CACpF,OAASH,EAAO,CACdC,EAAM,MAAMD,EAAM,UAAU,MAAM,SAAW,2BAA2B,CAC1E,QAAA,CACE/C,EAAW,EAAK,CAClB,CACF,EAGMnB,GAAuB,MAAOuG,GAAe,CACjD,GAAI,CACF,MAAMC,GAAoBD,CAAU,EACpCpC,EAAM,QAAQ,+BAA+B,EAC7CrE,GAAA,CACF,OAASoE,EAAO,CACdC,EAAM,MAAMD,EAAM,UAAU,MAAM,SAAW,2BAA2B,CAC1E,CACF,EAGMuC,GAAkB,MAAOC,EAAS,UAAY,CAClD,GAAI,CACF,KAAM,CAAE,KAAAjN,GAAS,MAAMwK,EAAI,IAAI,oCAAoCyC,CAAM,EAAE,EAC3EnD,GAAc9J,EAAK,UAAU,CAC/B,MAAgB,CACd0K,EAAM,MAAM,4BAA4B,CAC1C,CACF,EAGMwC,GAAiB,MAAOD,EAAS,UAAY,CACjD,GAAI,CACF,KAAM,CAAE,KAAAjN,GAAS,MAAMwK,EAAI,IAAI,oCAAoCyC,CAAM,EAAE,EAC3EjD,GAAahK,CAAI,CACnB,MAAgB,CACd0K,EAAM,MAAM,4BAA4B,CAC1C,CACF,EAcMyC,GAAa,MAAOrC,EAAI9K,IAAS,CACrC,GAAI,CACF,MAAMwK,EAAI,IAAI,gBAAgBM,CAAE,GAAI9K,CAAI,EACxC0K,EAAM,QAAQ,2BAA2B,EACzCzN,GAAA,EACAI,EAAa,EAAK,CACpB,OAASoN,EAAO,CACdC,EAAM,MAAMD,EAAM,UAAU,MAAM,SAAW,uBAAuB,CACtE,CACF,EAGMlN,GAAa,MAAOuN,EAAIsC,EAAQ,KAAU,CAC9C,GAAI,CACF,MAAM5C,EAAI,OAAO,gBAAgBM,CAAE,GAAGsC,EAAQ,SAAW,EAAE,EAAE,EAC7D1C,EAAM,QAAQ0C,EAAQ,2BAA6B,kBAAkB,EACrEnQ,GAAA,CACF,MAAgB,CACdyN,EAAM,MAAM,uBAAuB,CACrC,CACF,EAGM2C,GAAY,MAAOvC,EAAI9K,IAAS,CACpC,GAAI,CAEF,MAAMsN,EAAa,CAAE,GAAGtN,CAAA,EAGJ,CAAC,aAAc,cAAe,aAAc,aAAc,aAAa,EAC/E,QAAQuN,IAAS,CACvBnE,GAAU0B,CAAE,GAAK1B,GAAU0B,CAAE,EAAEyC,EAAK,IACtCD,EAAWC,EAAK,EAAInE,GAAU0B,CAAE,EAAEyC,EAAK,EAE3C,CAAC,EAED,MAAMC,GAAa1C,EAAIwC,CAAU,EACjC5C,EAAM,QAAQ,0BAA0B,EAExCrB,GAAanO,IAAQ,CACnB,MAAMuS,GAAW,CAAE,GAAGvS,EAAA,EACtB,cAAOuS,GAAS3C,CAAE,EACX2C,EACT,CAAC,EACD7O,GAAA,EACAvB,EAAa,EAAK,CACpB,MAAgB,CACdqN,EAAM,MAAM,sBAAsB,CACpC,CACF,EAGMgD,GAAuB,CAACC,EAAOC,EAAWC,IAAS,CAClDA,GACLxE,GAAanO,IAAS,CACpB,GAAGA,EACH,CAACyS,CAAK,EAAG,CACP,GAAGzS,EAAKyS,CAAK,EACb,CAACC,CAAS,EAAGC,CAAA,CACf,EACA,CACJ,EAGM/O,GAAY,MAAOgM,GAAO,CAC9B,GAAI,CACF,MAAMN,EAAI,OAAO,eAAeM,CAAE,EAAE,EACpCJ,EAAM,QAAQ,0BAA0B,EACxC9L,GAAA,CACF,MAAgB,CACd8L,EAAM,MAAM,sBAAsB,CACpC,CACF,EAGMoD,GAAgB,MAAOhD,EAAI9K,IAAS,CACxC,GAAI,CACF,MAAMwK,EAAI,IAAI,mBAAmBM,CAAE,GAAI9K,CAAI,EAC3C0K,EAAM,QAAQ,8BAA8B,EAC5CvL,GAAA,EACA9B,EAAa,EAAK,CACpB,MAAgB,CACdqN,EAAM,MAAM,0BAA0B,CACxC,CACF,EAGMrL,GAAuB,MAAOyL,GAAO,CACzC,GAAI,CACF,MAAMN,EAAI,KAAK,mBAAmBM,CAAE,iBAAiB,EACrDJ,EAAM,QAAQ,yBAAyB,EACvCvL,GAAA,CACF,MAAgB,CACduL,EAAM,MAAM,kCAAkC,CAChD,CACF,EAKM/K,GAAgB,MAAOU,EAAW0N,EAAc,KAAO,CAC3D,GAAI,CACF,MAAMvD,EAAI,KAAK,kBAAkBnK,CAAS,GAAI,CAAE,YAAA0N,EAAa,EAC7DrD,EAAM,QAAQ,+BAA+B,EAC7ChL,GAAA,CACF,OAAS+K,EAAO,CACdC,EAAM,MAAMD,EAAM,UAAU,MAAM,SAAW,0BAA0B,CACzE,CACF,EAGMuD,GAAqB,MAAOhO,GAAS,CACzC,GAAI,CAEF,MAAM3E,EAAa,CACjB,MAAO2E,EAAK,MACZ,QAASA,EAAK,QACd,SAAUA,EAAK,UAAY,SAC3B,gBAAiBA,EAAK,iBAAmB,CAAA,EACzC,OAAQA,EAAK,QAAU,OAAA,EAIrBA,EAAK,eACP3E,EAAW,aAAe2E,EAAK,cAE7BA,EAAK,aACP3E,EAAW,WAAa2E,EAAK,YAI3BA,EAAK,YAAcA,EAAK,WAAW,OAAS,IAC9C3E,EAAW,WAAa2E,EAAK,YAE3BA,EAAK,OAASA,EAAK,MAAM,OAAS,IACpC3E,EAAW,MAAQ2E,EAAK,OAG1B,MAAMwK,EAAI,KAAK,uBAAwBnP,CAAU,EACjDqP,EAAM,QAAQ,mCAAmC,EACjDlK,GAAA,EACAnD,EAAa,EAAK,CACpB,OAASoN,EAAO,CACdC,EAAM,MAAMD,EAAM,UAAU,MAAM,SAAW,+BAA+B,CAC9E,CACF,EAGMwD,GAAqB,MAAOnD,EAAI9K,IAAS,CAC7C,GAAI,CACF,MAAMwK,EAAI,IAAI,wBAAwBM,CAAE,GAAI9K,CAAI,EAChD0K,EAAM,QAAQ,mCAAmC,EACjDlK,GAAA,EACAnD,EAAa,EAAK,CACpB,MAAgB,CACdqN,EAAM,MAAM,+BAA+B,CAC7C,CACF,EAGMjK,GAAqB,MAAOqK,GAAO,CACvC,GAAI,CACF,MAAMN,EAAI,OAAO,wBAAwBM,CAAE,EAAE,EAC7CJ,EAAM,QAAQ,mCAAmC,EACjDlK,GAAA,CACF,MAAgB,CACdkK,EAAM,MAAM,+BAA+B,CAC7C,CACF,EAGMwD,GAAe,MAAOpD,EAAI9K,IAAS,CACvC,GAAI,CACF,MAAMwK,EAAI,IAAI,kBAAkBM,CAAE,GAAI9K,CAAI,EAC1C0K,EAAM,QAAQ,6BAA6B,EAC3C5J,GAAA,EACAzD,EAAa,EAAK,CACpB,MAAgB,CACdqN,EAAM,MAAM,yBAAyB,CACvC,CACF,EAGMyD,GAAW,MAAOrD,EAAI9K,IAAS,CACnC,GAAI,CACF,MAAMwK,EAAI,IAAI,cAAcM,CAAE,GAAI9K,CAAI,EACtC0K,EAAM,QAAQ,yBAAyB,EACvCxJ,GAAA,EACA7D,EAAa,EAAK,CACpB,MAAgB,CACdqN,EAAM,MAAM,qBAAqB,CACnC,CACF,EAGM0D,GAAkB,MAAOpO,GAAS,CACtC,GAAI,CACF,MAAMqO,GAASrO,CAAI,EACnB0K,EAAM,QAAQ,yBAAyB,EACvCxJ,GAAA,EACA7D,EAAa,EAAK,CACpB,OAASoN,EAAO,CACdC,EAAM,MAAMD,EAAM,UAAU,MAAM,SAAW,qBAAqB,CACpE,CACF,EAGMtJ,GAAW,MAAO2J,GAAO,CAC7B,GAAI,CACF,MAAMN,EAAI,OAAO,cAAcM,CAAE,EAAE,EACnCJ,EAAM,QAAQ,yBAAyB,EACvCxJ,GAAA,CACF,MAAgB,CACdwJ,EAAM,MAAM,qBAAqB,CACnC,CACF,EAGM4D,GAAuB,MAAOtO,GAAS,CAC3C,GAAI,CACF,MAAMuO,GAAavO,CAAI,EACvB0K,EAAM,QAAQ,qCAAqC,EACnDhL,GAAA,EACArC,EAAa,EAAK,CACpB,OAASoN,EAAO,CACdC,EAAM,MAAMD,EAAM,UAAU,MAAM,SAAW,yBAAyB,CACxE,CACF,EAGM+D,GAA2B,MAAOxO,GAAS,CAC/C,GAAI,CACF,MAAMyO,GAAkBzO,CAAI,EAC5B0K,EAAM,QAAQ,mCAAmC,EACjDtG,GAAA,EACA/G,EAAa,EAAK,CACpB,OAASoN,EAAO,CACdC,EAAM,MAAMD,EAAM,UAAU,MAAM,SAAW,+BAA+B,CAC9E,CACF,EAGMpG,GAAoB,MAAOyG,GAAO,CACtC,GAAI,CACF,MAAMN,EAAI,OAAO,wBAAwBM,CAAE,EAAE,EAC7CJ,EAAM,QAAQ,mCAAmC,EACjDtG,GAAA,CACF,MAAgB,CACdsG,EAAM,MAAM,+BAA+B,CAC7C,CACF,EAGMgE,GAAmB,MAAO5D,EAAI9K,IAAS,CAC3C,GAAI,CACF,MAAMwK,EAAI,IAAI,sBAAsBM,CAAE,GAAI9K,CAAI,EAC9C0K,EAAM,QAAQ,iCAAiC,EAC/C5F,GAAA,EACAzH,EAAa,EAAK,CACpB,MAAgB,CACdqN,EAAM,MAAM,6BAA6B,CAC3C,CACF,EAGM3F,GAAmB,MAAO+F,GAAO,CACrC,GAAI,CACF,MAAMN,EAAI,OAAO,sBAAsBM,CAAE,EAAE,EAC3CJ,EAAM,QAAQ,iCAAiC,EAC/C5F,GAAA,CACF,MAAgB,CACd4F,EAAM,MAAM,6BAA6B,CAC3C,CACF,EAGMiE,GAAwB,MAAO3O,GAAS,CAC5C,GAAI,CACF,MAAMwK,EAAI,KAAK,mCAAoCxK,CAAI,EACvD0K,EAAM,QAAQ,6CAA6C,EAC3DrN,EAAa,EAAK,CACpB,MAAgB,CACdqN,EAAM,MAAM,6BAA6B,CAC3C,CACF,EAGMkE,GAA2B,MAAOC,GAAY,CAClD,GAAI,CACF,MAAMC,EAAkB,MAAMC,GAAmBF,CAAO,EAClDG,EAAqB,MAAMC,GAAsBJ,CAAO,EAE9D,OAAA1F,GAAejO,IAAS,CACtB,GAAGA,EACH,CAAC2T,CAAO,EAAG,CACT,GAAGC,EAAgB,KACnB,oBAAqBE,EAAmB,KAAK,gBAAkB,CAAA,CACjE,EACA,EACKF,EAAgB,IACzB,OAASrE,EAAO,CACd,OAAAC,EAAM,MAAMD,EAAM,UAAU,MAAM,SAAW,gCAAgC,EACtE,IACT,CACF,EAGMyE,GAA+B,MAAOL,EAASM,IAAkB,CACrE,GAAI,CACF,MAAMC,GAAsBP,EAAS,CAAE,SAAUM,EAAe,EAChEzE,EAAM,QAAQ,2CAA2C,EACzD,MAAMkE,GAAyBC,CAAO,EACtC5R,GAAA,CACF,OAASwN,EAAO,CACdC,EAAM,MAAMD,EAAM,UAAU,MAAM,SAAW,uCAAuC,CACtF,CACF,EAGMnN,GAAoB,CAAC+R,EAAOC,EAASC,IAAc,CACvDtJ,GAAiB,CACf,KAAM,GACN,MAAAoJ,EACA,QAAAC,EACA,UAAAC,CAAA,CACD,CACH,EAMMxM,GAAe,SAAY,CAC/B,GAAI,CACF,MAAMQ,EAAM,MAAMsH,GAAS,CAAE,KAAM,SAAU,SAAU,IAAK,EACtDpH,EAAMF,EAAI,MAAM,OAAO,MAAQA,EAAI,MAAM,OAASA,EAAI,MAAM,KAClEqF,GAAW,MAAM,QAAQnF,CAAG,EAAIA,EAAM,CAAA,CAAE,CAC1C,OAASgH,EAAO,CACd,QAAQ,MAAM,2BAA4BA,CAAK,CACjD,CACF,EAEM/I,GAAkB,SAAY,CAClCgG,EAAW,EAAI,EACf,GAAI,CACF,MAAMiD,EAAS,CACb,KAAMhB,EAAW,WAAW,KAC5B,SAAUA,EAAW,WAAW,QAAA,EAE9B7M,EAAQ,WAAW,WAAaA,EAAQ,WAAW,YAAc,QACnE6N,EAAO,UAAY7N,EAAQ,WAAW,WAEpCA,EAAQ,WAAW,YAAc,QACnC6N,EAAO,UAAY7N,EAAQ,WAAW,WAExC,MAAMyG,EAAM,MAAMiM,GAAc7E,CAAM,EACtCnC,GAAcjF,EAAI,MAAM,aAAeA,EAAI,MAAM,YAAcA,EAAI,MAAQ,EAAE,CAC/E,OAASkH,EAAO,CACd,QAAQ,MAAM,+BAAgCA,CAAK,EACnDC,EAAM,MAAM,4BAA4B,CAC1C,QAAA,CACEhD,EAAW,EAAK,CAClB,CACF,EAEM+H,GAAgC,MAAOjE,EAASkE,IAAa,CACjEhI,EAAW,EAAI,EACf,GAAI,CACEgI,GACF,MAAMC,GAAgBD,EAAS,GAAIlE,CAAO,EAC1Cd,EAAM,QAAQ,iCAAiC,IAE/C,MAAMkF,GAAgBpE,CAAO,EAC7Bd,EAAM,QAAQ,iCAAiC,GAEjDrN,EAAa,EAAK,EAClBF,EAAgB,IAAI,EACpB,MAAMuE,GAAA,CACR,OAAS+I,EAAO,CACd,QAAQ,MAAM,6BAA8BA,CAAK,EACjD,MAAMoF,EAAMpF,EAAM,UAAU,MAAM,SAAW,4BAC7CC,EAAM,MAAMmF,CAAG,CACjB,QAAA,CACEnI,EAAW,EAAK,CAClB,CACF,EAEM7F,GAAwB,MAAOiJ,GAAO,CAC1CpD,EAAW,EAAI,EACf,GAAI,CACF,MAAMoI,GAAgBhF,CAAE,EACxBJ,EAAM,QAAQ,iCAAiC,EAC/C,MAAMhJ,GAAA,CACR,OAAS+I,EAAO,CACd,QAAQ,MAAM,+BAAgCA,CAAK,EACnDC,EAAM,MAAM,6BAA6B,CAC3C,QAAA,CACEhD,EAAW,EAAK,CAClB,CACF,EAEM/F,GAAsB,MAAOoO,GAAY,CAC7C,GAAI,CACF,MAAMxM,EAAM,MAAMyM,GAAkBD,EAAS,CAAE,SAAU,GAAI,EAC7DrH,GAAkBnF,EAAI,MAAM,OAAS,CAAA,CAAE,CACzC,OAASkH,EAAO,CACd,QAAQ,MAAM,oCAAqCA,CAAK,EACxDC,EAAM,MAAM,0CAA0C,CACxD,CACF,EAEM9I,GAAuB,MAAOqO,GAAa,CAC/C,GAAI,CACF,MAAM1M,EAAM,MAAM2M,GAAmBD,EAAU,CAAE,SAAU,GAAI,EAC/DtH,GAAmBpF,EAAI,MAAM,WAAa,CAAA,CAAE,CAC9C,OAASkH,EAAO,CACd,QAAQ,MAAM,oCAAqCA,CAAK,EACxDC,EAAM,MAAM,iCAAiC,CAC/C,CACF,EAEMyF,GAAqB,SAAY,CACrC,KAAM,CAAE,SAAAC,EAAU,aAAAC,EAAc,MAAAC,EAAO,SAAAC,EAAU,sBAAAC,GAAuB,WAAAC,GAAY,UAAAC,IAAc7H,EAClG,GAAI,CAACuH,GAAU,OAAQ,CACrB1F,EAAM,MAAM,sBAAsB,EAClC,MACF,CACA,GAAI,CAAC2F,GAAc,OAAQ,CACzB3F,EAAM,MAAM,0BAA0B,EACtC,MACF,CACA,GAAI,CAAC+F,IAAY,OAAQ,CACvB/F,EAAM,MAAM,wBAAwB,EACpC,MACF,CACA,GAAI,CAACgG,IAAW,OAAQ,CACtBhG,EAAM,MAAM,uBAAuB,EACnC,MACF,CACA,GAAI,CAAC6F,EAAU,CACb7F,EAAM,MAAM,sBAAsB,EAClC,MACF,CACA,GAAI6F,EAAS,OAAS,EAAG,CACvB7F,EAAM,MAAM,wCAAwC,EACpD,MACF,CACA,GAAI6F,IAAaC,GAAuB,CACtC9F,EAAM,MAAM,wCAAwC,EACpD,MACF,CACAhD,EAAW,EAAI,EACf,GAAI,CACF,MAAMiJ,GAAa,CACjB,SAAUP,EAAS,KAAA,EACnB,aAAcC,EAAa,KAAA,EAAO,QAAQ,OAAQ,EAAE,EACpD,MAAOC,GAAO,KAAA,GAAU,OACxB,SAAAC,EACA,sBAAuBC,IAAyBD,EAChD,WAAYE,GAAW,KAAA,EACvB,UAAWC,GAAU,KAAA,CAAK,CAC3B,EACDhG,EAAM,QAAQ,6BAA6B,EAC3CrN,EAAa,EAAK,EAClBoE,GAAc,CAAE,SAAU,GAAI,aAAc,GAAI,MAAO,GAAI,SAAU,GAAI,sBAAuB,GAAI,WAAY,GAAI,UAAW,GAAI,EACnI,MAAMsB,GAAA,CACR,OAAS0H,GAAO,CACd,QAAQ,MAAM,2BAA4BA,EAAK,EAC/C,MAAMmG,GAAUnG,GAAM,UAAU,KAC1BoF,GAAMe,IAAS,UAClBA,IAAS,OAAS,OAAO,OAAOA,GAAQ,MAAM,EAAE,OAAO,KAAK,GAAG,EAAI,OACpE,0BACFlG,EAAM,MAAMmF,EAAG,CACjB,QAAA,CACEnI,EAAW,EAAK,CAClB,CACF,EAGAmJ,EAAAA,UAAU,IAAM,CACVrJ,IAAc,aAChB+C,GAAA,EACAyC,GAAgB/C,EAAgB,EAChCiD,GAAejD,EAAgB,GACtBzC,IAAc,QACvBvK,GAAA,EACSuK,IAAc,OACvB5I,GAAA,EACS4I,IAAc,WACvBrI,GAAA,EACSqI,IAAc,WACvB9H,GAAA,EACS8H,IAAc,gBACvBhH,GAAA,EACSgH,IAAc,UACvB1G,GAAA,EACS0G,IAAc,MACvBtG,GAAA,EACSsG,IAAc,gBACvBpD,GAAA,EACSoD,IAAc,WACvB/C,GAAA,EACS+C,IAAc,cACvB1C,GAAA,EACS0C,IAAc,gBACvBrC,GAAA,EACSqC,IAAc,OACvBjC,GAAA,EACSiC,IAAc,YAEvBtB,GAAA,EACAC,GAAA,GACSqB,IAAc,eACvB9F,GAAA,EACKF,GAAQ,QACXuB,GAAA,GAEOyE,IAAc,YACvBzE,GAAA,EACAC,GAAA,EAEJ,EAAG,CAACwE,EAAWyC,EAAgB,CAAC,EAGhC,MAAMhH,GAAmB,MAAO6N,GAAW,CAGzC,GAFAhO,GAAkBgO,CAAM,EACxB1O,GAAmB,UAAU,EACzB0O,GAAQ,GACV,GAAI,CACF,KAAM,CAACC,EAAYC,EAAgBC,EAAYC,EAAY,EAAI,MAAM,QAAQ,IAAI,CAC/EC,GAAiBL,EAAO,EAAE,EAAE,MAAM,KAAO,CAAE,KAAM,IAAA,EAAO,EACxDtN,GAAqBsN,EAAO,EAAE,EAAE,MAAM,KAAO,CAAE,KAAM,CAAE,KAAM,CAAA,EAAI,WAAY,CAAA,CAAC,GAAM,EACpFM,GAAiBN,EAAO,EAAE,EAAE,MAAM,KAAO,CAAE,KAAM,CAAE,QAAS,CAAE,KAAM,CAAA,CAAC,EAAK,QAAS,CAAA,CAAC,GAAM,EAC1FZ,GAAmBY,EAAO,EAAE,EAAE,MAAM,KAAO,CAAE,KAAM,CAAE,UAAW,CAAA,CAAC,GAAM,CAAA,CACxE,EACDhI,GAAiBiI,EAAW,IAAI,EAChC,MAAMM,GAAiBL,EAAe,MAAM,aAAa,MAAQA,EAAe,MAAM,YAChFM,GAAiB,MAAM,QAAQD,EAAc,EAAIA,GAAiB,CAAA,EACxEzO,GAAqB,CACnB,KAAM0O,GACN,WAAYN,EAAe,MAAM,YAAc,CAAA,CAAC,CACjD,EACD,MAAMO,GAAaN,EAAW,MAAM,SAAWA,EAAW,KACpDO,GAAa,MAAM,QAAQD,EAAU,EAAIA,GAAc,MAAM,QAAQA,IAAY,IAAI,EAAIA,GAAW,KAAO,CAAA,EACjHxI,GAAiB,CAAE,KAAMyI,GAAY,EACrC,MAAMC,GAAeP,GAAa,MAAM,WAAaA,GAAa,MAAM,KACxEvI,GAAmB,MAAM,QAAQ8I,EAAY,EAAIA,GAAe,CAAA,CAAE,CACpE,OAAS1W,EAAG,CACV,QAAQ,MAAM,gCAAiCA,CAAC,CAClD,CAEJ,EAEMmI,GAAoB,IAAM,CAC9BJ,GAAkB,IAAI,EACtBgG,GAAiB,IAAI,EACrBlG,GAAqB,CAAE,KAAM,CAAA,EAAI,WAAY,CAAA,EAAI,EACjDmG,GAAiB,CAAE,KAAM,CAAA,EAAI,CAC/B,EAEM2I,GAAsB,SAAY,CAClCxP,IAAgB,KAClB,MAAMe,GAAiBf,EAAc,EACrC,MAAMc,GAAA,EAEV,EAEMA,GAA6B,SAAY,CAC7C,GAAI,CACF,MAAMO,EAAM,MAAMoO,GAAyB,CAAE,SAAU,GAAI,EACrDC,EAAWrO,EAAI,MAAM,aAAa,MAAQA,EAAI,MAAM,YAC1DyF,GAAyB,CAAE,KAAM,MAAM,QAAQ4I,CAAQ,EAAIA,EAAW,CAAA,EAAI,CAC5E,OAAS7W,EAAG,CACV,QAAQ,MAAM,sCAAuCA,CAAC,CACxD,CACF,EAEM8W,GAA2B,SAAY,CAC3C,MAAM5B,EAAWhH,GAAW,UAAY,OAAOA,GAAW,SAAS,EAAI/G,IAAgB,GACjF4P,EAAS,WAAW7I,GAAW,MAAM,EAC3C,GAAI,CAACgH,GAAY,CAAC6B,GAAUA,EAAS,IAAM,CACzCpH,EAAM,MAAM,6CAA6C,EACzD,MACF,CACAhD,EAAW,EAAI,EACf,GAAI,CACF,MAAMqK,GAAmB,CACvB,UAAW9B,EACX,OAAA6B,EACA,UAAW7I,GAAW,WAAW,KAAA,GAAU,OAC3C,MAAOA,GAAW,OAAO,KAAA,GAAU,MAAA,CACpC,EACDyB,EAAM,QAAQ,oCAAoC,EAClDrN,EAAa,EAAK,EAClBwF,GAAc,CAAE,UAAW,GAAI,OAAQ,GAAI,UAAW,GAAI,MAAO,GAAI,EACrE,MAAM6O,GAAA,EACN,MAAM1O,GAAA,CACR,OAASgP,EAAK,CACZ,MAAMC,EAAID,EAAI,UAAU,KAClBnC,GAAMoC,GAAG,UAAYA,GAAG,OAAS,OAAO,OAAOA,EAAE,MAAM,EAAE,OAAO,KAAK,GAAG,EAAI,OAAS,0BACrFC,GAAaD,GAAG,gBACtBvH,EAAM,MAAMwH,IAAc,KAAO,GAAGrC,EAAG,WAAW,OAAOqC,EAAU,EAAE,QAAQ,CAAC,CAAC,IAAMrC,EAAG,CAC1F,QAAA,CACEnI,EAAW,EAAK,CAClB,CACF,EAEMvE,GAAyB,MAAO2H,GAAO,CAC3C,GAAI,CACF,MAAMqH,GAAuBrH,CAAE,EAC/BJ,EAAM,QAAQ,sBAAsB,EACpC,MAAMgH,GAAA,EACN,MAAM1O,GAAA,CACR,OAASgP,EAAK,CACZtH,EAAM,MAAMsH,EAAI,UAAU,MAAM,SAAW,6BAA6B,CAC1E,CACF,EAEM5O,GAA6B,MAAO0H,GAAO,CAC/C,GAAI,CACF,MAAMsH,GAAqBtH,CAAE,EAC7BJ,EAAM,QAAQ,kBAAkB,EAChC,MAAMgH,GAAA,CACR,OAASM,EAAK,CACZtH,EAAM,MAAMsH,EAAI,UAAU,MAAM,SAAW,2BAA2B,CACxE,CACF,EAEMK,GAAoBC,EAAAA,QAAQ,KAAO,CACvC,OAAA5U,GACA,QAAAhD,EACA,QAAAwB,EACA,MAAAW,EACA,KAAA8B,EACA,SAAAO,EACA,SAAAO,EACA,cAAAc,EACA,QAAAM,GACA,IAAAI,GACA,aAAAkD,GACA,SAAAK,GACA,YAAAK,EACA,cAAAK,GACA,KAAAI,GACA,WAAA/D,GACA,eAAAkH,GACA,gBAAAjG,GACA,QAAAhB,GACA,WAAAqH,EACA,cAAApH,GACA,eAAAS,GACA,kBAAAY,GACA,gBAAAX,GACA,mBAAAC,GACA,cAAAC,GACA,kBAAAC,GACA,qBAAAM,GACA,cAAAL,GACA,sBAAAE,GACA,WAAAwG,GACA,cAAApG,GACA,uBAAAH,GACA,0BAAAC,GACA,QAAA7F,EACA,WAAAC,GACA,WAAA4M,EACA,cAAAC,GACA,aAAAO,EACA,gBAAAhN,EACA,UAAAiN,GACA,aAAA/M,EACA,UAAAgN,EACA,aAAAjN,EACA,cAAAkN,GACA,iBAAArE,GACA,SAAAjJ,EACA,WAAAC,GACA,iBAAAC,GACA,UAAA0B,GACA,gBAAAC,GACA,cAAAM,GACA,oBAAAC,GACA,cAAAM,GACA,mBAAAc,GACA,aAAAM,GACA,SAAAI,GACA,kBAAAkD,GACA,cAAAK,GACA,iBAAAK,GACA,mBAAAK,GACA,UAAAI,GACA,WAAA4H,GACA,WAAA5P,GAAA,UACA8P,GACA,UAAAvO,GACA,cAAAgP,GACA,qBAAAzO,GACA,cAAAM,GACA,mBAAAc,GACA,SAAAU,GACA,kBAAAkD,GACA,cAAAK,GACA,iBAAAK,GACA,kBAAAzH,GACA,gBAAAoE,GACA,oBAAAC,GACA,qBAAAC,GACA,aAAAmB,GACA,8BAAA0M,GACA,sBAAA5N,GACA,mBAAAsO,GACA,iBAAAlN,GACA,kBAAAC,GACA,oBAAAwO,GACA,2BAAA1O,GACA,yBAAA6O,GACA,uBAAA1O,GACA,2BAAAC,GACA,SAAAwC,GACA,aAAAC,GACA,aAAAC,GACA,iBAAAC,GACA,kBAAAC,GACA,qBAAA0D,GACA,cAAAxD,GACA,kBAAAC,GACA,kBAAAC,GACA,sBAAAC,GACA,oBAAAgF,GACA,oBAAAM,GACA,oBAAArF,GACA,uBAAAyF,GACA,uBAAAE,GACA,uBAAAE,GACA,wBAAAI,GACA,wBAAAE,GACA,wBAAAjG,GACA,qBAAAD,EAAA,GACE,CACF7L,EAASwB,EAASW,EAAO8B,EAAMO,EAAUO,EAAUc,EAAeM,GAASI,GAC3EkD,GAAcK,GAAUK,EAAaK,GAAeI,GAAM/D,GAAYkH,GACtEjG,GAAiBhB,GAASqH,EAAY3G,GAAgBC,GAAiBE,GACvEC,GAAmBC,GAAeE,GAAuBwG,GAAYvG,GACrE5F,EAAS6M,EAAYQ,EAAcC,GAAWC,EAAWC,GACzD1E,GAAUC,GAAcC,GAAcC,GAAkBC,EAAA,CACzD,EAED,OACEzK,EAAAA,IAACgX,GAAa,SAAb,CAAsB,MAAOF,GAC9B,SAAA/W,EAAAA,KAAC,MAAA,CAAI,UAAU,yHAEb,SAAA,CAAAC,EAAAA,IAAC,SAAA,CAAO,UAAU,mIAChB,SAAAA,EAAAA,IAAC,MAAA,CAAI,UAAU,sCACb,SAAAD,OAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAACS,EAAA,CACC,QAAQ,QACR,KAAK,OACL,QAAS,IAAMgB,EAAS,GAAG,EAC3B,UAAU,UACV,aAAW,kBAEX,SAAAzB,EAAAA,IAACiX,GAAA,CAAK,UAAU,SAAA,CAAU,CAAA,CAAA,SAE3B,MAAA,CACC,SAAA,CAAAjX,EAAAA,IAAC,KAAA,CAAG,UAAU,mDAAmD,MAAO,CACtE,gBAAiB,6BAA6BmC,GAAO,QAAQ,KAAKA,GAAO,IAAI,KAAKA,GAAO,SAAS,GAAA,EACjG,SAAA,kBAEH,EACAnC,EAAAA,IAAC,IAAA,CAAE,UAAU,2CAA2C,SAAA,sBAAA,CAExD,CAAA,CAAA,CACF,CAAA,EACF,EACAA,EAAAA,IAACS,EAAA,CACC,QAAQ,QACR,KAAK,OACL,QAAS,IAAM,CACb,aAAa,MAAA,EACbgB,EAAS,OAAO,CAClB,EACA,UAAU,UACV,aAAW,SAEX,SAAAzB,EAAAA,IAACkX,GAAA,CAAO,UAAU,SAAA,CAAU,CAAA,CAAA,CAC9B,CAAA,CACF,EACF,EACF,EAGAlX,EAAAA,IAAC,OAAA,CAAK,UAAU,gDACd,SAAAD,EAAAA,KAACoI,GAAA,CAAK,MAAO8D,EAAW,cAAeC,EAAc,UAAU,SAC7D,SAAA,CAAAnM,EAAAA,KAACqI,GAAA,CAAS,UAAU,uFAClB,SAAA,CAAArI,EAAAA,KAACsI,EAAA,CAAY,MAAM,YAAY,UAAU,UACvC,SAAA,CAAArI,EAAAA,IAAC6F,GAAA,CAAU,UAAU,cAAA,CAAe,EAAE,WAAA,EAExC,EACA9F,EAAAA,KAACsI,EAAA,CAAY,MAAM,QAAQ,UAAU,UACnC,SAAA,CAAArI,EAAAA,IAACgB,GAAA,CAAM,UAAU,cAAA,CAAe,EAAE,OAAA,EAEpC,EACAjB,EAAAA,KAACsI,EAAA,CAAY,MAAM,OAAO,UAAU,UAClC,SAAA,CAAArI,EAAAA,IAACoB,GAAA,CAAI,UAAU,cAAA,CAAe,EAAE,MAAA,EAElC,EACArB,EAAAA,KAACsI,EAAA,CAAY,MAAM,WAAW,UAAU,UACtC,SAAA,CAAArI,EAAAA,IAACkB,GAAA,CAAS,UAAU,cAAA,CAAe,EAAE,UAAA,EAEvC,EACAnB,EAAAA,KAACsI,EAAA,CAAY,MAAM,WAAW,UAAU,UACtC,SAAA,CAAArI,EAAAA,IAACmB,GAAA,CAAW,UAAU,cAAA,CAAe,EAAE,UAAA,EAEzC,EACApB,EAAAA,KAACsI,EAAA,CAAY,MAAM,cAAc,UAAU,UACzC,SAAA,CAAArI,EAAAA,IAACmX,GAAA,CAAI,UAAU,cAAA,CAAe,EAAE,aAAA,EAElC,EACApX,EAAAA,KAACsI,EAAA,CAAY,MAAM,UAAU,UAAU,UACrC,SAAA,CAAArI,EAAAA,IAACgB,GAAA,CAAM,UAAU,cAAA,CAAe,EAAE,SAAA,EAEpC,EACAjB,EAAAA,KAACsI,EAAA,CAAY,MAAM,gBAAgB,UAAU,UAC3C,SAAA,CAAArI,EAAAA,IAACoX,GAAA,CAAU,UAAU,cAAA,CAAe,EAAE,eAAA,EAExC,EACArX,EAAAA,KAACsI,EAAA,CAAY,MAAM,UAAU,UAAU,UACrC,SAAA,CAAArI,EAAAA,IAACqX,GAAA,CAAY,UAAU,cAAA,CAAe,EAAE,SAAA,EAE1C,EACAtX,EAAAA,KAACsI,EAAA,CAAY,MAAM,MAAM,UAAU,UACjC,SAAA,CAAArI,EAAAA,IAACsX,GAAA,CAAS,UAAU,cAAA,CAAe,EAAE,KAAA,EAEvC,EACAvX,EAAAA,KAACsI,EAAA,CAAY,MAAM,gBAAgB,UAAU,UAC3C,SAAA,CAAArI,EAAAA,IAACyL,GAAA,CAAK,UAAU,cAAA,CAAe,EAAE,UAAA,EAEnC,EACA1L,EAAAA,KAACsI,EAAA,CAAY,MAAM,WAAW,UAAU,UACtC,SAAA,CAAArI,EAAAA,IAACuX,GAAA,CAAa,UAAU,cAAA,CAAe,EAAE,UAAA,EAE3C,EACAxX,EAAAA,KAACsI,EAAA,CAAY,MAAM,cAAc,UAAU,UACzC,SAAA,CAAArI,EAAAA,IAACjB,GAAA,CAAU,UAAU,cAAA,CAAe,EAAE,aAAA,EAExC,EACAgB,EAAAA,KAACsI,EAAA,CAAY,MAAM,gBAAgB,UAAU,UAC3C,SAAA,CAAArI,EAAAA,IAACwX,GAAA,CAAK,UAAU,cAAA,CAAe,EAAE,eAAA,EAEnC,EACAzX,EAAAA,KAACsI,EAAA,CAAY,MAAM,OAAO,UAAU,UAClC,SAAA,CAAArI,EAAAA,IAACyX,GAAA,CAAS,UAAU,cAAA,CAAe,EAAE,MAAA,EAEvC,EACA1X,EAAAA,KAACsI,EAAA,CAAY,MAAM,WAAW,UAAU,UACtC,SAAA,CAAArI,EAAAA,IAACkL,GAAA,CAAU,UAAU,cAAA,CAAe,EAAE,UAAA,CAAA,CAExC,CAAA,EACF,EAGAlL,EAAAA,IAACsI,GAAY,MAAM,YAAY,UAAU,YACvC,SAAAtI,EAAAA,IAACU,KAAkB,CAAA,CACrB,EAGAV,EAAAA,IAACsI,GAAY,MAAM,QAAQ,UAAU,YACnC,SAAAtI,EAAAA,IAACqB,KAAc,CAAA,CACjB,EAGArB,EAAAA,IAACsI,GAAY,MAAM,OAAO,UAAU,YAClC,SAAAtI,EAAAA,IAACmD,KAAa,CAAA,CAChB,EAGAnD,EAAAA,IAACsI,GAAY,MAAM,WAAW,UAAU,YACtC,SAAAtI,EAAAA,IAAC0D,KAAiB,CAAA,CACpB,EAGA1D,EAAAA,IAACsI,GAAY,MAAM,WAAW,UAAU,YACtC,SAAAtI,EAAAA,IAACiE,KAAiB,CAAA,CACpB,EAGAjE,EAAAA,IAACsI,GAAY,MAAM,gBAAgB,UAAU,YAC3C,SAAAtI,EAAAA,IAAC+E,KAAsB,CAAA,CACzB,EAGA/E,EAAAA,IAACsI,GAAY,MAAM,UAAU,UAAU,YACrC,SAAAtI,EAAAA,IAACqF,KAAgB,CAAA,CACnB,EAGArF,EAAAA,IAACsI,GAAY,MAAM,MAAM,UAAU,YACjC,SAAAtI,EAAAA,IAACyF,KAAY,CAAA,CACf,EAGAzF,EAAAA,IAACsI,GAAY,MAAM,cAAc,UAAU,YACzC,SAAAtI,EAAAA,IAAC+F,KAAmB,CAAA,CACtB,EAGA/F,EAAAA,IAACsI,GAAY,MAAM,UAAU,UAAU,YACrC,SAAAtI,EAAAA,IAAC0G,KAAgB,CAAA,CACnB,EAEA1G,EAAAA,IAACsI,GAAY,MAAM,gBAAgB,UAAU,YAC3C,SAAAtI,EAAAA,IAAC2I,KAAqB,CAAA,CACxB,EAGA3I,EAAAA,IAACsI,GAAY,MAAM,WAAW,UAAU,YACtC,SAAAtI,EAAAA,IAACgJ,KAAiB,CAAA,CACpB,EAGAhJ,EAAAA,IAACsI,GAAY,MAAM,cAAc,UAAU,YACzC,SAAAtI,EAAAA,IAACqJ,KAAoB,CAAA,CACvB,EAGArJ,EAAAA,IAACsI,GAAY,MAAM,gBAAgB,UAAU,YAC3C,SAAAtI,EAAAA,IAAC0J,KAAsB,CAAA,CACzB,EAGA1J,EAAAA,IAACsI,GAAY,MAAM,OAAO,UAAU,YAClC,SAAAtI,EAAAA,IAAC8J,KAAa,CAAA,CAChB,EAGA9J,EAAAA,IAACsI,GAAY,MAAM,WAAW,UAAU,YACtC,SAAAtI,EAAAA,IAACmK,KAAiB,CAAA,CACpB,EACAnK,EAAAA,IAACsI,EAAA,CAAY,MAAM,kBAAkB,MAAO,CAAE,QAAS,MAAA,EACrD,SAAAvI,EAAAA,KAACoI,GAAA,CAAK,aAAa,gBAAgB,UAAU,SAC3C,SAAA,CAAApI,EAAAA,KAACqI,GAAA,CAAS,UAAU,+BAClB,SAAA,CAAArI,EAAAA,KAACsI,EAAA,CAAY,MAAM,gBAAgB,UAAU,UAC3C,SAAA,CAAArI,EAAAA,IAACkL,GAAA,CAAU,UAAU,cAAA,CAAe,EAAE,UAAA,EAExC,EACAnL,EAAAA,KAACsI,EAAA,CAAY,MAAM,gBAAgB,UAAU,UAC3C,SAAA,CAAArI,EAAAA,IAACmL,GAAA,CAAU,UAAU,cAAA,CAAe,EAAE,eAAA,EAExC,EACApL,EAAAA,KAACsI,EAAA,CAAY,MAAM,gBAAgB,UAAU,UAC3C,SAAA,CAAArI,EAAAA,IAACoL,GAAA,CAAQ,UAAU,cAAA,CAAe,EAAE,eAAA,EAEtC,EACArL,EAAAA,KAACsI,EAAA,CAAY,MAAM,oBAAoB,UAAU,UAC/C,SAAA,CAAArI,EAAAA,IAACqL,GAAA,CAAc,UAAU,cAAA,CAAe,EAAE,WAAA,CAAA,CAE5C,CAAA,EACF,EAGAtL,EAAAA,KAACuI,EAAA,CAAY,MAAM,gBAAgB,UAAU,YAC3C,SAAA,CAAAvI,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAA,EAAAA,KAACU,EAAA,CACC,QAAS,IAAM,CACbmB,EAAgB,IAAI,EACpBC,EAAa,gBAAgB,EAC7BC,EAAa,EAAI,CACnB,EAEA,SAAA,CAAA9B,EAAAA,IAACwE,GAAA,CAAK,UAAU,cAAA,CAAe,EAAE,gBAAA,CAAA,CAAA,EAGnCxE,EAAAA,IAACS,EAAA,CAAO,QAAQ,UAAU,KAAK,OAAO,QAASkK,GAAe,aAAW,mBACvE,SAAA3K,EAAAA,IAACkC,EAAA,CAAU,UAAU,UAAU,CAAA,CACjC,CAAA,EACF,EACAnC,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAACE,EAAA,CACC,YAAY,qBACZ,MAAOqB,EAAQ,SAAS,OACxB,SAAW/B,GAAMgC,GAAW,CAAC,GAAGD,EAAS,SAAU,CAAC,GAAGA,EAAQ,SAAU,OAAQ/B,EAAE,OAAO,KAAA,EAAO,EACjG,UAAU,MAAA,CAAA,EAEZO,EAAAA,KAACI,EAAA,CACC,MAAOoB,EAAQ,SAAS,SACxB,cAAgB7B,GAAU8B,GAAW,CAAC,GAAGD,EAAS,SAAU,CAAC,GAAGA,EAAQ,SAAU,SAAU7B,CAAA,EAAO,EAEnG,SAAA,CAAAM,EAAAA,IAACI,GAAc,UAAU,OACvB,eAACC,EAAA,CAAY,YAAY,WAAW,CAAA,CACtC,SACCC,EAAA,CACC,SAAA,CAAAN,EAAAA,IAACO,EAAA,CAAW,MAAM,MAAM,SAAA,iBAAc,EACtCP,EAAAA,IAACO,EAAA,CAAW,MAAM,YAAY,SAAA,YAAS,EACvCP,EAAAA,IAACO,EAAA,CAAW,MAAM,gBAAgB,SAAA,gBAAa,EAC/CP,EAAAA,IAACO,EAAA,CAAW,MAAM,OAAO,SAAA,gBAAa,EACtCP,EAAAA,IAACO,EAAA,CAAW,MAAM,gBAAgB,SAAA,gBAAa,EAC/CP,EAAAA,IAACO,EAAA,CAAW,MAAM,QAAQ,SAAA,OAAA,CAAK,CAAA,CAAA,CACjC,CAAA,CAAA,CAAA,EAEFR,EAAAA,KAACI,EAAA,CACC,MAAOoB,EAAQ,SAAS,SACxB,cAAgB7B,GAAU8B,GAAW,CAAC,GAAGD,EAAS,SAAU,CAAC,GAAGA,EAAQ,SAAU,SAAU7B,CAAA,EAAO,EAEnG,SAAA,CAAAM,EAAAA,IAACI,GAAc,UAAU,OACvB,eAACC,EAAA,CAAY,YAAY,WAAW,CAAA,CACtC,SACCC,EAAA,CACC,SAAA,CAAAN,EAAAA,IAACO,EAAA,CAAW,MAAM,MAAM,SAAA,MAAG,EAC3BP,EAAAA,IAACO,EAAA,CAAW,MAAM,OAAO,SAAA,WAAQ,EACjCP,EAAAA,IAACO,EAAA,CAAW,MAAM,QAAQ,SAAA,cAAA,CAAY,CAAA,CAAA,CACxC,CAAA,CAAA,CAAA,EAEFP,EAAAA,IAACS,GAAO,QAASkK,GACf,eAACY,GAAA,CAAO,UAAU,UAAU,CAAA,CAC9B,CAAA,CAAA,CACF,CAAA,EACF,QACC1K,EAAA,CACC,SAAAb,EAAAA,IAACiB,GAAY,UAAU,MACrB,gBAACoB,EAAA,CACC,SAAA,CAAArC,EAAAA,IAACsC,EAAA,CACC,gBAACC,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAACwC,GAAU,SAAA,IAAA,CAAE,EACbxC,EAAAA,IAACwC,GAAU,SAAA,MAAA,CAAI,EACfxC,EAAAA,IAACwC,GAAU,SAAA,OAAA,CAAK,EAChBxC,EAAAA,IAACwC,GAAU,SAAA,UAAA,CAAQ,EACnBxC,EAAAA,IAACwC,GAAU,SAAA,OAAA,CAAK,EAChBxC,EAAAA,IAACwC,GAAU,SAAA,QAAA,CAAM,EACjBxC,EAAAA,IAACwC,GAAU,SAAA,UAAA,CAAQ,EACnBxC,EAAAA,IAACwC,GAAU,SAAA,SAAA,CAAO,CAAA,CAAA,CACpB,CAAA,CACF,EACAxC,MAACyC,EAAA,CACE,SAAAtD,EACCa,EAAAA,IAACuC,GACC,SAAAvC,EAAAA,IAAC2C,EAAA,CAAU,QAAS,EAAG,UAAU,mBAAmB,SAAA,YAAA,CAAU,CAAA,CAChE,EACE0H,GAAS,SAAW,EACtBrK,EAAAA,IAACuC,EAAA,CACC,SAAAvC,MAAC2C,EAAA,CAAU,QAAS,EAAG,UAAU,mBAAmB,SAAA,oBAAiB,CAAA,CACvE,EAEA0H,GAAS,IAAKmB,UACXjJ,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAAC2C,EAAA,CAAW,WAAQ,EAAA,CAAG,EACvB3C,EAAAA,IAAC2C,EAAA,CAAU,UAAU,cAAe,WAAQ,KAAK,QAChDA,EAAA,CACE,SAAA6I,EAAQ,YACPzL,EAAAA,KAAC,MAAA,CAAI,UAAU,UACb,SAAA,CAAAC,MAAC,IAAA,CAAE,UAAU,cAAe,SAAAwL,EAAQ,YAAY,KAAK,QACpD,IAAA,CAAE,UAAU,gCAAiC,SAAAA,EAAQ,YAAY,KAAA,CAAM,CAAA,EAC1E,EACEA,EAAQ,eACVzL,EAAAA,KAAC,OAAA,CAAK,UAAU,wBAAwB,SAAA,CAAA,OAAKyL,EAAQ,cAAA,EAAe,EAEpExL,MAAC,OAAA,CAAK,UAAU,wBAAwB,aAAC,EAE7C,EACAA,EAAAA,IAAC2C,GACC,SAAA3C,EAAAA,IAAC4C,EAAA,CAAM,QAAQ,UAAW,SAAA4I,EAAQ,SAAS,CAAA,CAC7C,SACC7I,EAAA,CAAU,SAAA,CAAA,KAAG,WAAW6I,EAAQ,KAAK,GAAK,GAAG,QAAQ,CAAC,CAAA,EAAE,EACzDxL,MAAC2C,EAAA,CACC,SAAA5C,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAACyL,GAAA,CAAK,UAAU,yCAAA,CAA0C,EACzDD,EAAQ,QAAU,WAAWA,EAAQ,MAAM,GAAK,GAAG,QAAQ,CAAC,EAAI,KAAA,CAAA,CACnE,CAAA,CACF,EACAxL,EAAAA,IAAC2C,EAAA,CACC,SAAA3C,EAAAA,IAAC4C,EAAA,CAAM,QAAS4I,EAAQ,SAAW,UAAY,YAC5C,SAAAA,EAAQ,SAAW,MAAQ,KAC9B,EACF,EACAxL,MAAC2C,EAAA,CACC,SAAA5C,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAACS,EAAA,CACC,KAAK,KACL,QAAQ,QACR,QAAS,IAAM,CACbmB,EAAgB4J,CAAO,EACvB3J,EAAa,cAAc,EAC3BC,EAAa,EAAI,CACnB,EAEA,SAAA9B,EAAAA,IAACgD,GAAA,CAAI,UAAU,SAAA,CAAU,CAAA,CAAA,EAE3BhD,EAAAA,IAACS,EAAA,CACC,KAAK,KACL,QAAQ,QACR,QAAS,IAAM,CACbmB,EAAgB4J,CAAO,EACvB3J,EAAa,cAAc,EAC3BC,EAAa,EAAI,CACnB,EAEA,SAAA9B,EAAAA,IAACiD,GAAA,CAAK,UAAU,SAAA,CAAU,CAAA,CAAA,EAE5BjD,EAAAA,IAACS,EAAA,CACC,KAAK,KACL,QAAQ,QACR,QAAS,IAAMoK,GAAkBW,EAAQ,EAAE,EAE3C,SAAAxL,EAAAA,IAACoL,GAAA,CAAQ,UAAU,SAAA,CAAU,CAAA,CAAA,EAE/BpL,EAAAA,IAACS,EAAA,CACC,KAAK,KACL,QAAQ,QACR,UAAU,mBACV,QAAS,IAAMiK,GAAiB,CAC9B,KAAM,GACN,MAAO,iBACP,QAAS,oCAAoCc,EAAQ,IAAI,KACzD,UAAW,IAAMT,GAAoBS,EAAQ,EAAE,CAAA,CAChD,EAED,SAAAxL,EAAAA,IAACkD,GAAA,CAAO,UAAU,SAAA,CAAU,CAAA,CAAA,CAC9B,CAAA,CACF,CAAA,CACF,CAAA,GA3EasI,EAAQ,EA4EvB,CACD,CAAA,CAEL,CAAA,CAAA,CACF,EACF,CAAA,CACF,CAAA,EACF,EAGAzL,EAAAA,KAACuI,EAAA,CAAY,MAAM,gBAAgB,UAAU,YAC3C,SAAA,CAAAvI,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAA,EAAAA,KAACU,EAAA,CACC,QAAS,IAAM,CACbmB,EAAgB,IAAI,EACpBC,EAAa,oBAAoB,EACjCC,EAAa,EAAI,CACnB,EAEA,SAAA,CAAA9B,EAAAA,IAACwE,GAAA,CAAK,UAAU,cAAA,CAAe,EAAE,oBAAA,CAAA,CAAA,EAGnCxE,EAAAA,IAACS,EAAA,CAAO,QAAQ,UAAU,KAAK,OAAO,QAASmK,GAAmB,aAAW,wBAC3E,SAAA5K,EAAAA,IAACkC,EAAA,CAAU,UAAU,UAAU,CAAA,CACjC,CAAA,EACF,EACAlC,EAAAA,IAACE,EAAA,CACC,YAAY,0BACZ,MAAOqB,EAAQ,aAAa,OAC5B,SAAW/B,GAAMgC,GAAW,CAAC,GAAGD,EAAS,aAAc,CAAC,GAAGA,EAAQ,aAAc,OAAQ/B,EAAE,OAAO,KAAA,EAAO,EACzG,UAAU,MAAA,CAAA,CACZ,EACF,QACCqB,EAAA,CACC,SAAAb,EAAAA,IAACiB,GAAY,UAAU,MACrB,gBAACoB,EAAA,CACC,SAAA,CAAArC,EAAAA,IAACsC,EAAA,CACC,gBAACC,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAACwC,GAAU,SAAA,IAAA,CAAE,EACbxC,EAAAA,IAACwC,GAAU,SAAA,MAAA,CAAI,EACfxC,EAAAA,IAACwC,GAAU,SAAA,SAAA,CAAO,EAClBxC,EAAAA,IAACwC,GAAU,SAAA,UAAA,CAAQ,EACnBxC,EAAAA,IAACwC,GAAU,SAAA,MAAA,CAAI,EACfxC,EAAAA,IAACwC,GAAU,SAAA,cAAA,CAAY,EACvBxC,EAAAA,IAACwC,GAAU,SAAA,YAAA,CAAU,EACrBxC,EAAAA,IAACwC,GAAU,SAAA,SAAA,CAAO,CAAA,CAAA,CACpB,CAAA,CACF,EACAxC,MAACyC,EAAA,CACE,SAAAtD,EACCa,EAAAA,IAACuC,GACC,SAAAvC,EAAAA,IAAC2C,EAAA,CAAU,QAAS,EAAG,UAAU,mBAAmB,SAAA,YAAA,CAAU,CAAA,CAChE,EACE2H,GAAa,SAAW,EAC1BtK,EAAAA,IAACuC,EAAA,CACC,SAAAvC,MAAC2C,EAAA,CAAU,QAAS,EAAG,UAAU,mBAAmB,SAAA,yBAAsB,CAAA,CAC5E,EAEA2H,GAAa,IAAKoB,UACfnJ,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAAC2C,EAAA,CAAW,WAAG,EAAA,CAAG,EAClB3C,EAAAA,IAAC2C,EAAA,CACC,SAAA5C,EAAAA,KAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAAC,IAAA,CAAE,UAAU,cAAe,SAAA0L,EAAG,KAAK,EACnCA,EAAG,aACF1L,EAAAA,IAAC,KAAE,UAAU,uDAAwD,WAAG,WAAA,CAAY,CAAA,CAAA,CAExF,CAAA,CACF,EACAA,MAAC2C,EAAA,CACC,SAAA5C,EAAAA,KAAC,MAAA,CAAI,UAAU,UACb,SAAA,CAAAC,EAAAA,IAAC,IAAA,CAAG,WAAG,KAAA,CAAM,EACZ0L,EAAG,OAAS1L,EAAAA,IAAC,KAAE,UAAU,wBAAyB,WAAG,KAAA,CAAM,CAAA,CAAA,CAC9D,CAAA,CACF,EACAA,EAAAA,IAAC2C,GACC,SAAA3C,EAAAA,IAAC4C,EAAA,CAAM,QAAQ,UAAW,SAAA8I,EAAG,UAAY,KAAA,CAAM,CAAA,CACjD,EACA1L,EAAAA,IAAC2C,EAAA,CAAW,SAAA+I,EAAG,MAAQ,MAAM,QAC5B/I,EAAA,CACC,SAAA3C,EAAAA,IAAC4C,EAAA,CAAM,QAAS8I,EAAG,eAAiB,WAAaA,EAAG,eAAiB,aAAe,UAAY,YAC7F,SAAAA,EAAG,cAAgB,OACtB,EACF,EACA1L,MAAC2C,GAAW,SAAA,IAAI,KAAK+I,EAAG,UAAU,EAAE,qBAAqB,EACzD1L,MAAC2C,EAAA,CACC,SAAA5C,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAACS,EAAA,CACC,KAAK,KACL,QAAQ,QACR,MAAM,eACN,QAAS,IAAM,CACbmB,EAAgB8J,CAAE,EAClB7J,EAAa,kBAAkB,EAC/BC,EAAa,EAAI,CACnB,EAEA,SAAA9B,EAAAA,IAACgD,GAAA,CAAI,UAAU,SAAA,CAAU,CAAA,CAAA,EAE3BhD,EAAAA,IAACS,EAAA,CACC,KAAK,KACL,QAAQ,QACR,MAAM,OACN,QAAS,IAAM,CACbmB,EAAgB8J,CAAE,EAClB7J,EAAa,kBAAkB,EAC/BC,EAAa,EAAI,CACnB,EAEA,SAAA9B,EAAAA,IAACiD,GAAA,CAAK,UAAU,SAAA,CAAU,CAAA,CAAA,EAE5BjD,EAAAA,IAACS,EAAA,CACC,KAAK,KACL,QAAQ,QACR,MAAM,mCACN,QAAS,IAAM,CACbmB,EAAgB,CAAE,eAAgB8J,EAAG,GAAI,iBAAkBA,EAAG,KAAM,EACpE7J,EAAa,uBAAuB,EACpCC,EAAa,EAAI,CACnB,EAEA,SAAA9B,EAAAA,IAACwE,GAAA,CAAK,UAAU,SAAA,CAAU,CAAA,CAAA,EAE5BxE,EAAAA,IAACS,EAAA,CACC,KAAK,KACL,QAAQ,QACR,UAAU,mBACV,MAAM,SACN,QAAS,IAAMiK,GAAiB,CAC9B,KAAM,GACN,MAAO,qBACP,QAAS,oCAAoCgB,EAAG,IAAI,KACpD,UAAW,IAAMkF,GAAuBlF,EAAG,EAAE,CAAA,CAC9C,EAED,SAAA1L,EAAAA,IAACkD,GAAA,CAAO,UAAU,SAAA,CAAU,CAAA,CAAA,CAC9B,CAAA,CACF,CAAA,CACF,CAAA,GA/EawI,EAAG,EAgFlB,CACD,CAAA,CAEL,CAAA,CAAA,CACF,EACF,CAAA,CACF,CAAA,EACF,EAGA3L,EAAAA,KAACuI,EAAA,CAAY,MAAM,gBAAgB,UAAU,YAC3C,SAAA,CAAAvI,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAC,MAAC,MAAA,CAAI,UAAU,0BACZ,SAAAyK,IACC1K,EAAAA,KAAA2I,WAAA,CACE,SAAA,CAAA3I,EAAAA,KAACU,EAAA,CACC,QAAS,IAAM,CACbmB,EAAgB,IAAI,EACpBC,EAAa,qBAAqB,EAClCC,EAAa,EAAI,CACnB,EAEA,SAAA,CAAA9B,EAAAA,IAACwE,GAAA,CAAK,UAAU,cAAA,CAAe,EAAE,UAAA,CAAA,CAAA,QAGlC/D,EAAA,CAAO,QAAQ,UAAU,KAAK,OAAO,QAAS,IAAMoK,GAAkBJ,EAAiB,EAAG,aAAW,wBACpG,eAACvI,EAAA,CAAU,UAAU,UAAU,CAAA,CACjC,CAAA,CAAA,CACF,CAAA,CAEJ,EACAlC,EAAAA,IAAC,MAAA,CAAI,UAAU,0BACb,SAAAD,EAAAA,KAACI,EAAA,CACC,MAAOsK,IAAmB,SAAA,GAAc,GACxC,cAAgB/K,GAAU,CACpBA,GAAOmL,GAAkB,SAASnL,CAAK,CAAC,CAC9C,EAEA,SAAA,CAAAM,EAAAA,IAACI,GAAc,UAAU,OACvB,eAACC,EAAA,CAAY,YAAY,iCAAiC,CAAA,CAC5D,QACCC,EAAA,CACE,SAAA+J,GAAS,IAAKmB,SACZjL,EAAA,CAA4B,MAAOiL,EAAQ,GAAG,WAC5C,SAAAA,EAAQ,MADMA,EAAQ,EAEzB,CACD,CAAA,CACH,CAAA,CAAA,CAAA,CACF,CACF,CAAA,EACF,EACEf,GASA1K,EAAAA,KAACc,EAAA,CACC,SAAA,CAAAb,MAACc,GAAA,CACC,SAAAf,EAAAA,KAACgB,GAAA,CAAU,UAAU,UAAU,SAAA,CAAA,sBACT0J,EAAA,CAAA,CACtB,CAAA,CACF,EACAzK,MAACiB,EAAA,CAAY,UAAU,MACrB,gBAACoB,EAAA,CACC,SAAA,CAAArC,EAAAA,IAACsC,EAAA,CACC,gBAACC,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAACwC,GAAU,SAAA,IAAA,CAAE,EACbxC,EAAAA,IAACwC,GAAU,SAAA,MAAA,CAAI,EACfxC,EAAAA,IAACwC,GAAU,SAAA,aAAA,CAAW,EACtBxC,EAAAA,IAACwC,GAAU,SAAA,OAAA,CAAK,EAChBxC,EAAAA,IAACwC,GAAU,SAAA,OAAA,CAAK,EAChBxC,EAAAA,IAACwC,GAAU,SAAA,SAAA,CAAO,CAAA,CAAA,CACpB,CAAA,CACF,EACAxC,MAACyC,EAAA,CACE,SAAAtD,EACCa,EAAAA,IAACuC,GACC,SAAAvC,EAAAA,IAAC2C,EAAA,CAAU,QAAS,EAAG,UAAU,mBAAmB,SAAA,YAAA,CAAU,CAAA,CAChE,EACE4H,GAAa,SAAW,EAC1BvK,EAAAA,IAACuC,EAAA,CACC,SAAAvC,MAAC2C,EAAA,CAAU,QAAS,EAAG,UAAU,mBAAmB,SAAA,kCAA+B,CAAA,CACrF,EAEA4H,GAAa,IAAKoB,UACfpJ,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAAC2C,EAAA,CAAW,WAAK,EAAA,CAAG,EACpB3C,EAAAA,IAAC2C,EAAA,CAAU,UAAU,cAAe,WAAK,KAAK,QAC7CA,EAAA,CAAU,UAAU,oBAAqB,SAAAgJ,EAAK,aAAe,MAAM,SACnEhJ,EAAA,CAAU,SAAA,CAAA,KAAG,WAAWgJ,EAAK,KAAK,GAAK,GAAG,QAAQ,CAAC,CAAA,EAAE,EACtD3L,EAAAA,IAAC2C,GACE,SAAAgJ,EAAK,YACH,MAAA,CAAI,IAAKA,EAAK,MAAO,IAAKA,EAAK,KAAM,UAAU,iCAAiC,EAEjF3L,EAAAA,IAAC,QAAK,UAAU,wBAAwB,oBAAQ,CAAA,CAEpD,EACAA,MAAC2C,EAAA,CACC,SAAA5C,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAACS,EAAA,CACC,KAAK,KACL,QAAQ,QACR,QAAS,IAAM,CACbmB,EAAgB+J,CAAI,EACpB9J,EAAa,mBAAmB,EAChCC,EAAa,EAAI,CACnB,EAEA,SAAA9B,EAAAA,IAACiD,GAAA,CAAK,UAAU,SAAA,CAAU,CAAA,CAAA,EAE5BjD,EAAAA,IAACS,EAAA,CACC,KAAK,KACL,QAAQ,QACR,UAAU,mBACV,QAAS,IAAMiK,GAAiB,CAC9B,KAAM,GACN,MAAO,cACP,QAAS,oCAAoCiB,EAAK,IAAI,KACtD,UAAW,IAAMV,GAAwBU,EAAK,EAAE,CAAA,CACjD,EAED,SAAA3L,EAAAA,IAACkD,GAAA,CAAO,UAAU,SAAA,CAAU,CAAA,CAAA,CAC9B,CAAA,CACF,CAAA,CACF,CAAA,GAvCayI,EAAK,EAwCpB,CACD,CAAA,CAEL,CAAA,CAAA,CACF,CAAA,CACF,CAAA,CAAA,CACF,EAnFA3L,EAAAA,IAACa,GACC,SAAAd,OAACkB,EAAA,CAAY,UAAU,0CACrB,SAAA,CAAAjB,EAAAA,IAACoL,GAAA,CAAQ,UAAU,mCAAA,CAAoC,EACvDpL,EAAAA,IAAC,KAAE,SAAA,4DAAA,CAA0D,EAC7DD,EAAAA,KAAC,IAAA,CAAE,UAAU,eAAe,SAAA,CAAA,gBAAaC,EAAAA,IAACoL,GAAA,CAAQ,UAAU,gBAAA,CAAiB,EAAE,wCAAA,CAAA,CAAsC,CAAA,CAAA,CACvH,CAAA,CACF,CA6EA,EAEJ,EAGArL,EAAAA,KAACuI,EAAA,CAAY,MAAM,oBAAoB,UAAU,YAC/C,SAAA,CAAAtI,EAAAA,IAAC,OAAI,UAAU,0BACb,eAACS,EAAA,CAAO,QAAQ,UAAU,KAAK,OAAO,QAASqK,GAAuB,aAAW,4BAC/E,SAAA9K,EAAAA,IAACkC,GAAU,UAAU,UAAU,EACjC,CAAA,CACF,QACCrB,EAAA,CACC,SAAAb,EAAAA,IAACiB,GAAY,UAAU,MACrB,gBAACoB,EAAA,CACC,SAAA,CAAArC,EAAAA,IAACsC,EAAA,CACC,gBAACC,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAACwC,GAAU,SAAA,IAAA,CAAE,EACbxC,EAAAA,IAACwC,GAAU,SAAA,SAAA,CAAO,EAClBxC,EAAAA,IAACwC,GAAU,SAAA,MAAA,CAAI,EACfxC,EAAAA,IAACwC,GAAU,SAAA,QAAA,CAAM,EACjBxC,EAAAA,IAACwC,GAAU,SAAA,SAAA,CAAO,EAClBxC,EAAAA,IAACwC,GAAU,SAAA,SAAA,CAAO,EAClBxC,EAAAA,IAACwC,GAAU,SAAA,YAAA,CAAU,EACrBxC,EAAAA,IAACwC,GAAU,SAAA,SAAA,CAAO,CAAA,CAAA,CACpB,CAAA,CACF,EACAxC,MAACyC,EAAA,CACE,SAAAtD,EACCa,EAAAA,IAACuC,GACC,SAAAvC,EAAAA,IAAC2C,EAAA,CAAU,QAAS,EAAG,UAAU,mBAAmB,SAAA,YAAA,CAAU,CAAA,CAChE,EACE6H,GAAiB,SAAW,EAC9BxK,EAAAA,IAACuC,EAAA,CACC,SAAAvC,MAAC2C,EAAA,CAAU,QAAS,EAAG,UAAU,mBAAmB,SAAA,qBAAkB,CAAA,CACxE,EAEA6H,GAAiB,IAAKoB,UACnBrJ,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAAC2C,EAAA,CAAW,WAAS,EAAA,CAAG,QACvBA,EAAA,CAAW,SAAAiJ,EAAS,SAAS,MAAQA,EAAS,WAAW,QACzDjJ,EAAA,CAAW,SAAAiJ,EAAS,MAAM,MAAQA,EAAS,QAAQ,EACpD5L,EAAAA,IAAC2C,EAAA,CACC,SAAA3C,EAAAA,IAAC,MAAA,CAAI,UAAU,0BACZ,SAAA,CAAC,GAAG,MAAM,CAAC,CAAC,EAAE,IAAI,CAAC6L,EAAGC,IACrB9L,EAAAA,IAACyL,GAAA,CAEC,UAAW,WAAWK,EAAIF,EAAS,OAAS,kCAAoC,eAAe,EAAA,EAD1FE,CAAA,CAGR,EACH,CAAA,CACF,QACCnJ,EAAA,CAAU,UAAU,oBAAqB,SAAAiJ,EAAS,SAAW,MAAM,EACpE5L,EAAAA,IAAC2C,EAAA,CAAW,SAAAiJ,EAAS,eAAiB,EAAE,EACxC5L,MAAC2C,GAAW,SAAA,IAAI,KAAKiJ,EAAS,UAAU,EAAE,qBAAqB,QAC9DjJ,EAAA,CACC,SAAA3C,EAAAA,IAACS,EAAA,CACC,KAAK,KACL,QAAQ,QACR,UAAU,mBACV,QAAS,IAAMiK,GAAiB,CAC9B,KAAM,GACN,MAAO,kBACP,QAAS,iDACT,UAAW,IAAMM,GAAqBY,EAAS,EAAE,CAAA,CAClD,EAED,SAAA5L,EAAAA,IAACkD,GAAA,CAAO,UAAU,SAAA,CAAU,CAAA,CAAA,CAC9B,CACF,CAAA,GA/Ba0I,EAAS,EAgCxB,CACD,CAAA,CAEL,CAAA,CAAA,CACF,EACF,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,QAGC8L,GAAA,CAAY,KAAM3I,GAAc,KAAM,aAAe4I,GAASjN,GAAiB,CAAC,GAAGqE,GAAe,KAAA4I,EAAK,EACtG,gBAACC,GAAA,CACC,SAAA,CAAA7X,OAAC8X,GAAA,CACC,SAAA,CAAA7X,EAAAA,IAAC8X,GAAA,CAAkB,YAAc,KAAA,CAAM,EACvC9X,EAAAA,IAAC+X,GAAA,CACE,SAAAhJ,GAAc,OAAA,CACjB,CAAA,EACF,SACCiJ,GAAA,CACC,SAAA,CAAAhY,EAAAA,IAACiY,GAAA,CAAkB,QAAS,IAAMvN,GAAiB,CAAC,GAAGqE,GAAe,KAAM,EAAA,CAAM,EAAG,SAAA,QAAA,CAErF,EACA/O,EAAAA,IAACkY,GAAA,CACC,QAAS,IAAM,CACTnJ,GAAc,WAChBA,GAAc,UAAA,EAEhBrE,GAAiB,CAAC,GAAGqE,GAAe,KAAM,GAAM,CAClD,EACD,SAAA,SAAA,CAAA,CAED,CAAA,CACF,CAAA,CAAA,CACF,CAAA,CACF,EAGA/O,EAAAA,IAACmY,GAAA,CACE,SAAAtJ,IACC7O,MAACoY,GAAA,CAAO,KAAMvJ,GAAW,aAAc/M,EACrC,SAAA/B,EAAAA,KAACsY,GAAA,CAAc,UAAU,yCACvB,SAAA,CAAArY,EAAAA,IAACsY,GAAA,CACC,gBAACC,GAAA,CACE,SAAA,CAAAzJ,IAAc,aAAe,eAC7BA,IAAc,aAAe,YAC7BA,IAAc,YAAc,cAC5BA,IAAc,YAAc,WAC5BA,IAAc,gBAAkB,kBAChCA,IAAc,gBAAkB,eAChCA,IAAc,uBAAyB,sBACvCA,IAAc,qBAAuB,oBACrCA,IAAc,eAAiB,cAC/BA,IAAc,WAAa,UAC3BA,IAAc,mBAAqB,kBACnCA,IAAc,qBAAuB,iCACrCA,IAAc,kBAAoB,iBAClCA,IAAc,gBAAkB,eAChCA,IAAc,aAAe,YAC7BA,IAAc,kBAAoB,wBAClCA,IAAc,uBAAyB,sBACvCA,IAAc,kBAAoB,iBAClCA,IAAc,gBAAkB,kBAChCA,IAAc,gBAAkB,eAChCA,IAAc,sBAAwB,qBACtCA,IAAc,oBAAsB,sBACpCA,IAAc,oBAAsB,mBACpCA,IAAc,yBAA2B,mBAAmBF,GAAc,kBAAoB,aAAa,GAC3GE,IAAc,uBAAyB,sBACvCA,IAAc,qBAAuB,oBACrCA,IAAc,qBAAuB,oBACrCA,IAAc,mBAAqB,kBACnCA,IAAc,iBAAmB,gBACjCA,IAAc,wBAA0B,uBACxCA,IAAc,oBAAsB,kBAAA,CAAA,CACvC,CAAA,CACF,EAGCA,IAAc,aAAeF,GAC5B7O,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,KAAE,EAC3CD,EAAAA,IAAC,IAAA,CAAE,UAAU,UAAW,WAAa,EAAA,CAAG,CAAA,EAC1C,SACC,MAAA,CACC,SAAA,CAAAA,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,WAAQ,QAChD,IAAA,CAAE,UAAU,UAAW,SAAA2O,EAAa,UAAY,KAAA,CAAM,CAAA,EACzD,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,QAAK,QAC7C,IAAA,CAAE,UAAU,UAAW,SAAA2O,EAAa,OAAS,KAAA,CAAM,CAAA,EACtD,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,eAAY,QACpD,IAAA,CAAE,UAAU,UAAW,SAAA2O,EAAa,cAAgB,KAAA,CAAM,CAAA,EAC7D,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,aAAU,QAClD,IAAA,CAAE,UAAU,UAAW,SAAA2O,EAAa,YAAc,KAAA,CAAM,CAAA,EAC3D,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,YAAS,QACjD,IAAA,CAAE,UAAU,UAAW,SAAA2O,EAAa,WAAa,KAAA,CAAM,CAAA,EAC1D,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,SAAM,QAC9C,IAAA,CAAE,UAAU,UAAW,SAAA2O,EAAa,QAAU,KAAA,CAAM,CAAA,EACvD,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,aAAU,EACnDD,EAAAA,IAAC,IAAA,CAAE,UAAU,UAAW,SAAA4O,EAAa,WAAa,IAAI,KAAKA,EAAa,UAAU,EAAE,mBAAA,EAAuB,KAAA,CAAM,CAAA,EACnH,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,OAAI,QAC5C,IAAA,CAAE,UAAU,UAAW,SAAA2O,EAAa,MAAQ,KAAA,CAAM,CAAA,EACrD,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,OAAI,QAC5C,IAAA,CAAE,UAAU,UAAW,SAAA2O,EAAa,MAAQ,KAAA,CAAM,CAAA,EACrD,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,SAAM,EAC/CD,EAAAA,IAAC4C,EAAA,CAAM,QAASgM,EAAa,OAAS,UAAY,YAC/C,SAAAA,EAAa,OAAS,SAAW,UAAA,CACpC,CAAA,EACF,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,oBAAiB,EAC1DD,EAAAA,IAAC4C,EAAA,CAAM,QAASgM,EAAa,kBAAoB,UAAY,YAC1D,SAAAA,EAAa,kBAAoB,MAAQ,IAAA,CAC5C,CAAA,EACF,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,YAAS,EAClDD,EAAAA,IAAC4C,EAAA,CAAM,QAASgM,EAAa,UAAY,cAAgB,UACtD,SAAAA,EAAa,UAAY,SAAW,UAAA,CACvC,CAAA,EACF,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,aAAU,EACnDD,EAAAA,IAAC,IAAA,CAAE,UAAU,UAAW,SAAA,IAAI,KAAK4O,EAAa,UAAU,EAAE,eAAA,CAAe,CAAE,CAAA,EAC7E,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,aAAU,EACnDD,EAAAA,IAAC,IAAA,CAAE,UAAU,UAAW,SAAA,IAAI,KAAK4O,EAAa,UAAU,EAAE,eAAA,CAAe,CAAE,CAAA,CAAA,CAC7E,CAAA,EACF,EACCA,EAAa,KACZ7O,EAAAA,KAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,MAAG,EAC5CD,EAAAA,IAAC,IAAA,CAAE,UAAU,UAAW,WAAa,GAAA,CAAI,CAAA,EAC3C,EAED4O,EAAa,QACZ7O,OAAC,MAAA,CAAI,UAAU,gBACb,SAAA,CAAAC,EAAAA,IAACC,EAAA,CAAM,UAAU,mCAAmC,SAAA,iBAAc,EAClEF,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAACC,EAAA,CAAM,UAAU,UAAU,SAAA,iBAAc,QACxC,IAAA,CAAE,UAAU,UAAW,SAAA2O,EAAa,OAAO,gBAAkB,KAAA,CAAM,CAAA,EACtE,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,UAAU,SAAA,aAAU,QACpC,IAAA,CAAE,UAAU,UAAW,SAAA2O,EAAa,OAAO,YAAc,KAAA,CAAM,CAAA,EAClE,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,UAAU,SAAA,iBAAc,QACxC,IAAA,CAAE,UAAU,UAAW,SAAA2O,EAAa,OAAO,YAAc,KAAA,CAAM,CAAA,EAClE,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,UAAU,SAAA,aAAU,QACpC,IAAA,CAAE,UAAU,UAAW,SAAA2O,EAAa,OAAO,YAAc,KAAA,CAAM,CAAA,CAAA,CAClE,CAAA,CAAA,CACF,CAAA,EACF,EAEDA,EAAa,OACZ7O,OAAC,MAAA,CAAI,UAAU,gBACb,SAAA,CAAAC,EAAAA,IAACC,EAAA,CAAM,UAAU,mCAAmC,SAAA,uBAAoB,EACxEF,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAACC,EAAA,CAAM,UAAU,UAAU,SAAA,gBAAa,QACvC,IAAA,CAAE,UAAU,UAAW,SAAA2O,EAAa,MAAM,eAAiB,KAAA,CAAM,CAAA,EACpE,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,UAAU,SAAA,iBAAc,QACxC,IAAA,CAAE,UAAU,UAAW,SAAA2O,EAAa,MAAM,gBAAkB,KAAA,CAAM,CAAA,EACrE,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,UAAU,SAAA,aAAU,QACpC,IAAA,CAAE,UAAU,UAAW,SAAA2O,EAAa,MAAM,YAAc,KAAA,CAAM,CAAA,EACjE,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,UAAU,SAAA,UAAO,QACjC,IAAA,CAAE,UAAU,UAAW,SAAA2O,EAAa,MAAM,SAAW,KAAA,CAAM,CAAA,CAAA,CAC9D,CAAA,CAAA,CACF,CAAA,EACF,EAEF7O,EAAAA,KAAC,MAAA,CAAI,UAAU,kBACb,SAAA,CAAAC,MAACS,EAAA,CAAO,QAAS,IAAM,CACrBoB,EAAa,WAAW,CAC1B,EAAG,UAAU,SAAS,SAAA,WAAA,CAEtB,EACA7B,EAAAA,IAACS,GAAO,QAAQ,UAAU,QAAS,IAAMqB,EAAa,EAAK,EAAG,SAAA,OAAA,CAE9D,CAAA,CAAA,CACF,CAAA,EACF,EAIDgN,IAAc,aAAeF,GAC5B7O,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAACC,GAAM,SAAA,IAAA,CAAE,QACRC,EAAA,CAAM,MAAO0O,EAAa,IAAM,GAAI,SAAQ,EAAA,CAAC,CAAA,EAChD,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,GAAM,SAAA,UAAA,CAAQ,QACdC,EAAA,CAAM,MAAO0O,EAAa,UAAY,GAAI,SAAQ,EAAA,CAAC,CAAA,EACtD,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,GAAM,SAAA,OAAA,CAAK,EACZD,EAAAA,IAACE,GAAM,KAAK,QAAQ,MAAO0O,EAAa,OAAS,GAAI,SAAQ,EAAA,CAAC,CAAA,EAChE,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,GAAM,SAAA,cAAA,CAAY,QAClBC,EAAA,CAAM,MAAO0O,EAAa,cAAgB,GAAI,SAAQ,EAAA,CAAC,CAAA,EAC1D,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,GAAM,SAAA,YAAA,CAAU,QAChBC,EAAA,CAAM,MAAO0O,EAAa,YAAc,GAAI,SAAQ,EAAA,CAAC,CAAA,EACxD,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,GAAM,SAAA,WAAA,CAAS,QACfC,EAAA,CAAM,MAAO0O,EAAa,WAAa,GAAI,SAAQ,EAAA,CAAC,CAAA,EACvD,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,GAAM,SAAA,QAAA,CAAM,QACZC,EAAA,CAAM,MAAO0O,EAAa,QAAU,MAAO,SAAQ,EAAA,CAAC,CAAA,EACvD,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,GAAM,SAAA,YAAA,CAAU,EACjBD,EAAAA,IAACE,EAAA,CACC,KAAK,OACL,MAAO0O,EAAa,WAAa,IAAI,KAAKA,EAAa,UAAU,EAAE,YAAA,EAAc,MAAM,GAAG,EAAE,CAAC,EAAI,GACjG,SAAQ,EAAA,CAAA,CACV,EACF,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,GAAM,SAAA,MAAA,CAAI,QACVC,EAAA,CAAM,MAAO0O,EAAa,MAAQ,GAAI,SAAQ,EAAA,CAAC,CAAA,EAClD,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,GAAM,SAAA,MAAA,CAAI,QACVC,EAAA,CAAM,MAAO0O,EAAa,MAAQ,GAAI,SAAQ,EAAA,CAAC,CAAA,EAClD,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,GAAM,SAAA,YAAA,CAAU,EACjBD,EAAAA,IAACE,EAAA,CAAM,MAAO,IAAI,KAAK0O,EAAa,UAAU,EAAE,iBAAkB,SAAQ,EAAA,CAAC,CAAA,EAC7E,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,GAAM,SAAA,YAAA,CAAU,EACjBD,EAAAA,IAACE,EAAA,CAAM,MAAO,IAAI,KAAK0O,EAAa,UAAU,EAAE,iBAAkB,SAAQ,EAAA,CAAC,CAAA,CAAA,CAC7E,CAAA,EACF,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,GAAM,SAAA,KAAA,CAAG,QACTO,GAAA,CAAS,MAAOoO,EAAa,KAAO,GAAI,SAAQ,EAAA,CAAC,CAAA,EACpD,EACCA,EAAa,QACZ7O,OAAC,MAAA,CAAI,UAAU,gBACb,SAAA,CAAAC,EAAAA,IAACC,EAAA,CAAM,UAAU,mCAAmC,SAAA,6BAA0B,EAC9EF,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAACC,EAAA,CAAM,UAAU,UAAU,SAAA,iBAAc,EACzCD,MAACE,GAAM,MAAO0O,EAAa,OAAO,gBAAkB,MAAO,SAAQ,EAAA,CAAC,CAAA,EACtE,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,UAAU,SAAA,aAAU,EACrCD,MAACE,GAAM,MAAO0O,EAAa,OAAO,YAAc,MAAO,SAAQ,EAAA,CAAC,CAAA,EAClE,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,UAAU,SAAA,iBAAc,EACzCD,MAACE,GAAM,MAAO0O,EAAa,OAAO,YAAc,MAAO,SAAQ,EAAA,CAAC,CAAA,EAClE,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,UAAU,SAAA,aAAU,EACrCD,MAACE,GAAM,MAAO0O,EAAa,OAAO,YAAc,MAAO,SAAQ,EAAA,CAAC,CAAA,CAAA,CAClE,CAAA,CAAA,CACF,CAAA,EACF,EAEDA,EAAa,OACZ7O,OAAC,MAAA,CAAI,UAAU,gBACb,SAAA,CAAAC,EAAAA,IAACC,EAAA,CAAM,UAAU,mCAAmC,SAAA,mCAAgC,EACpFF,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAACC,EAAA,CAAM,UAAU,UAAU,SAAA,gBAAa,EACxCD,MAACE,GAAM,MAAO0O,EAAa,MAAM,eAAiB,MAAO,SAAQ,EAAA,CAAC,CAAA,EACpE,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,UAAU,SAAA,iBAAc,EACzCD,MAACE,GAAM,MAAO0O,EAAa,MAAM,gBAAkB,MAAO,SAAQ,EAAA,CAAC,CAAA,EACrE,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,UAAU,SAAA,aAAU,EACrCD,MAACE,GAAM,MAAO0O,EAAa,MAAM,YAAc,MAAO,SAAQ,EAAA,CAAC,CAAA,EACjE,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,UAAU,SAAA,UAAO,EAClCD,MAACE,GAAM,MAAO0O,EAAa,MAAM,SAAW,MAAO,SAAQ,EAAA,CAAC,CAAA,CAAA,CAC9D,CAAA,CAAA,CACF,CAAA,EACF,EAEF7O,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAC,EAAAA,IAACC,EAAA,CAAM,UAAU,8BAA8B,SAAA,kBAAe,EAC7D2O,EAAa,mBACZ7O,OAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAC,EAAAA,IAACC,GAAM,SAAA,qCAAA,CAAmC,EAC1CD,EAAAA,IAACwY,GAAA,CACC,QAAS5J,EAAa,mBAAqB,GAC3C,gBAAkB6J,GAAY7W,EAAgB,CAAC,GAAGgN,EAAc,kBAAmB6J,CAAA,CAAQ,CAAA,CAAA,CAC7F,EACF,EAEF1Y,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAC,EAAAA,IAACC,GAAM,SAAA,iBAAA,CAAe,EACtBD,EAAAA,IAACwY,GAAA,CACC,QAAS5J,EAAa,SAAW,OAAYA,EAAa,OAAS,GACnE,gBAAkB6J,GAAY7W,EAAgB,CAAC,GAAGgN,EAAc,OAAQ6J,CAAA,CAAQ,CAAA,CAAA,CAClF,EACF,EACA1Y,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAC,EAAAA,IAACC,GAAM,SAAA,WAAA,CAAS,EAChBD,EAAAA,IAACwY,GAAA,CACC,QAAS5J,EAAa,WAAa,GACnC,gBAAkB6J,GAAY7W,EAAgB,CAAC,GAAGgN,EAAc,UAAW6J,CAAA,CAAQ,CAAA,CAAA,CACrF,EACF,EACA1Y,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAC,EAAAA,IAACC,GAAM,SAAA,uCAAA,CAAqC,EAC5CD,EAAAA,IAACwY,GAAA,CACC,QAAS5J,EAAa,gBAAkB,OAAYA,EAAa,cAAgB,GACjF,gBAAkB6J,GAAY7W,EAAgB,CAAC,GAAGgN,EAAc,cAAe6J,CAAA,CAAQ,CAAA,CAAA,CACzF,CAAA,CACF,CAAA,EACF,GAEE7J,EAAa,OAAS,UAAYA,EAAa,OAAS,UACxD7O,EAAAA,KAAC,MAAA,CAAI,UAAU,0BACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAC,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,sBAAmB,EAC5DF,EAAAA,KAACU,EAAA,CACC,QAAQ,UACR,KAAK,KACL,QAAS,SAAY,CACnB,MAAM4S,GAAyBzE,EAAa,EAAE,CAChD,EAEA,SAAA,CAAA5O,EAAAA,IAACkC,EAAA,CAAU,UAAU,cAAA,CAAe,EAAE,iBAAA,CAAA,CAAA,CAExC,EACF,EACCyL,GAAYiB,EAAa,EAAE,EAC1B7O,EAAAA,KAAC,MAAA,CAAI,UAAU,uDACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,uBACb,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,UAAU,SAAA,sBAAmB,EAC7CD,EAAAA,KAAC,OAAA,CAAK,UAAU,gBAAiB,SAAA,CAAA4N,GAAYiB,EAAa,EAAE,EAAE,qBAAuB,EAAE,GAAA,CAAA,CAAC,CAAA,EAC1F,EACA7O,EAAAA,KAAC,MAAA,CAAI,UAAU,uBACb,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,UAAU,SAAA,iBAAc,EACxCD,EAAAA,KAAC,OAAA,CAAK,UAAU,gBAAgB,SAAA,CAAA,IAAE4N,GAAYiB,EAAa,EAAE,EAAE,eAAiB,CAAA,CAAA,CAAE,CAAA,EACpF,EACA7O,EAAAA,KAAC,MAAA,CAAI,UAAU,uBACb,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,UAAU,SAAA,eAAY,EACtCD,EAAAA,KAAC,OAAA,CAAK,UAAU,iBAAiB,SAAA,CAAA,IAAE4N,GAAYiB,EAAa,EAAE,EAAE,WAAW,aAAe,CAAA,CAAA,CAAE,CAAA,EAC9F,EACA7O,EAAAA,KAAC,MAAA,CAAI,UAAU,uBACb,SAAA,CAAAC,EAAAA,IAAC,OAAA,CAAK,UAAU,UAAU,SAAA,qBAAkB,EAC5CD,EAAAA,KAAC,OAAA,CAAK,UAAU,kBAAkB,SAAA,CAAA,IAAE4N,GAAYiB,EAAa,EAAE,EAAE,WAAW,mBAAqB,CAAA,CAAA,CAAE,CAAA,CAAA,CACrG,CAAA,EACF,EAEA5O,EAAAA,IAAC,IAAA,CAAE,UAAU,wBAAwB,SAAA,gDAA6C,EAEpFD,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAC,EAAAA,IAACC,GAAM,SAAA,4BAAA,CAA0B,EACjCF,EAAAA,KAAC,MAAA,CAAI,UAAU,aACb,SAAA,CAAAC,EAAAA,IAACE,EAAA,CACC,KAAK,SACL,KAAK,OACL,IAAI,IACJ,IAAI,MACJ,YAAY,cACZ,aAAcyN,GAAYiB,EAAa,EAAE,GAAG,qBAAuB,GACnE,SAAWpP,GAAM,CACf,MAAME,EAAQ,WAAWF,EAAE,OAAO,KAAK,EACnC,CAAC,MAAME,CAAK,GAAKA,GAAS,GAAKA,GAAS,KAC1CkC,EAAgB,CACd,GAAGgN,EACH,oBAAqBlP,CAAA,CACtB,CAEL,CAAA,CAAA,EAEFM,EAAAA,IAACS,EAAA,CACC,QAAS,IAAM,CACTmO,EAAa,sBAAwB,OACvC+E,GAA6B/E,EAAa,GAAIA,EAAa,mBAAmB,EAE9EO,EAAM,MAAM,0CAA0C,CAE1D,EACA,QAAQ,UACT,SAAA,UAAA,CAAA,CAED,EACF,EACAnP,EAAAA,IAAC,IAAA,CAAE,UAAU,wBAAwB,SAAA,+CAAA,CAA6C,CAAA,CAAA,CACpF,CAAA,EACF,EAEFD,EAAAA,KAAC,MAAA,CAAI,UAAU,kBACb,SAAA,CAAAC,EAAAA,IAACS,EAAA,CAAO,QAAS,IAAMmR,GAAWhD,EAAa,GAAI,CACjD,kBAAmBA,EAAa,kBAChC,OAAQA,EAAa,OACrB,UAAWA,EAAa,UACxB,cAAeA,EAAa,gBAAkB,OAAYA,EAAa,cAAgB,EAAA,CACxF,EAAG,UAAU,SAAS,SAAA,aAAA,CAEvB,EACA5O,EAAAA,IAACS,GAAO,QAAQ,UAAU,QAAS,IAAMqB,EAAa,EAAK,EAAG,SAAA,QAAA,CAE9D,CAAA,CAAA,CACF,CAAA,EACF,EAIDgN,IAAc,YAAcF,GAC3B7O,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,KAAE,EAC3CD,EAAAA,IAAC,IAAA,CAAE,UAAU,UAAW,WAAa,EAAA,CAAG,CAAA,EAC1C,SACC,MAAA,CACC,SAAA,CAAAA,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,OAAI,QAC5C,IAAA,CAAE,UAAU,UAAW,SAAA2O,EAAa,MAAQ,KAAA,CAAM,CAAA,EACrD,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,QAAK,QAC7C,IAAA,CAAE,UAAU,UAAW,SAAA2O,EAAa,OAAS,KAAA,CAAM,CAAA,EACtD,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,OAAI,QAC5C,IAAA,CAAE,UAAU,UAAW,SAAA2O,EAAa,MAAQ,KAAA,CAAM,CAAA,EACrD,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,gBAAa,QACrD,IAAA,CAAE,UAAU,UAAW,SAAA2O,EAAa,eAAiB,KAAA,CAAM,CAAA,EAC9D,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,QAAK,QAC7C,IAAA,CAAE,UAAU,UAAW,SAAA2O,EAAa,OAAS,KAAA,CAAM,CAAA,EACtD,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,UAAO,EAChDD,MAAC,KAAE,UAAU,UAAW,WAAa,SAAS,eAAA,GAAoB,KAAA,CAAM,CAAA,EAC1E,SACC,MAAA,CACC,SAAA,CAAAA,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,YAAS,QACjD,IAAA,CAAE,UAAU,UAAW,SAAA2O,EAAa,WAAa,KAAA,CAAM,CAAA,EAC1D,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,eAAY,QACpD,IAAA,CAAE,UAAU,UAAW,SAAA2O,EAAa,cAAgB,KAAA,CAAM,CAAA,EAC7D,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,eAAY,QACpD,IAAA,CAAE,UAAU,UAAW,SAAA2O,EAAa,cAAgB,KAAA,CAAM,CAAA,EAC7D,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,WAAQ,QAChD,IAAA,CAAE,UAAU,UAAW,SAAA2O,EAAa,cAAgB,KAAA,CAAM,CAAA,EAC7D,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,QAAK,QAC7C,IAAA,CAAE,UAAU,UAAW,SAAA2O,EAAa,OAAS,KAAA,CAAM,CAAA,EACtD,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,QAAK,QAC7C,IAAA,CAAE,UAAU,UAAW,SAAA2O,EAAa,OAAS,KAAA,CAAM,CAAA,EACtD,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,aAAU,EACnDF,EAAAA,KAAC,IAAA,CAAE,UAAU,UAAU,SAAA,CAAA,IAAE6O,EAAa,YAAc,MAAA,CAAA,CAAO,CAAA,EAC7D,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,eAAY,EACrDF,EAAAA,KAAC,IAAA,CAAE,UAAU,UAAU,SAAA,CAAA,IAAE6O,EAAa,cAAgB,KAAA,CAAA,CAAM,CAAA,EAC9D,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,SAAM,QAC9C2C,EAAA,CAAM,QAAQ,UAAW,SAAAgM,EAAa,QAAU,KAAA,CAAM,CAAA,EACzD,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,eAAY,EACrDD,EAAAA,IAAC4C,EAAA,CAAM,QAASgM,EAAa,aAAe,UAAY,YACrD,SAAAA,EAAa,aAAe,MAAQ,IAAA,CACvC,CAAA,EACF,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,cAAW,EACpDD,EAAAA,IAAC4C,EAAA,CAAM,QAASgM,EAAa,YAAc,UAAY,YACpD,SAAAA,EAAa,YAAc,MAAQ,IAAA,CACtC,CAAA,EACF,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,eAAY,EACrDD,EAAAA,IAAC4C,EAAA,CAAM,QAASgM,EAAa,aAAe,UAAY,YACrD,SAAAA,EAAa,aAAe,MAAQ,IAAA,CACvC,CAAA,EACF,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,kBAAe,QACvD,IAAA,CAAE,UAAU,UAAW,SAAA2O,EAAa,iBAAmB,KAAA,CAAM,CAAA,EAChE,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,cAAW,QACnD,IAAA,CAAE,UAAU,UAAW,SAAA2O,EAAa,aAAe,CAAA,CAAE,CAAA,CAAA,CACxD,CAAA,EACF,EACCA,EAAa,UAAYA,EAAa,SAAS,OAAS,UACtD,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,WAAQ,QAChD,MAAA,CAAI,UAAU,4BACZ,SAAA2O,EAAa,SAAS,IAAI,CAAC8J,EAASC,UAClC/V,EAAA,CAAgB,QAAQ,UAAW,SAAA8V,CAAA,EAAxBC,CAAgC,CAC7C,CAAA,CACH,CAAA,EACF,EAED/J,EAAa,YAAcA,EAAa,WAAW,OAAS,UAC1D,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,UAAO,QAC/C,MAAA,CAAI,UAAU,4BACZ,SAAA2O,EAAa,WAAW,IAAI,CAACgK,EAAOD,UAClC/V,EAAA,CAAgB,QAAQ,UAAW,SAAAgW,CAAA,EAAxBD,CAA8B,CAC3C,CAAA,CACH,CAAA,EACF,EAED/J,EAAa,OACZ7O,EAAAA,KAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,QAAK,EAC9CD,EAAAA,IAAC,IAAA,CAAE,UAAU,8BAA+B,WAAa,KAAA,CAAM,CAAA,EACjE,EAED4O,EAAa,OACZ7O,OAAC,MAAA,CAAI,UAAU,gBACb,SAAA,CAAAC,EAAAA,IAACC,EAAA,CAAM,UAAU,mCAAmC,SAAA,QAAK,EACzDF,EAAAA,KAAC,IAAA,CAAE,UAAU,UAAW,SAAA,CAAA6O,EAAa,MAAM,UAAYA,EAAa,MAAM,WAAW,IAAEA,EAAa,MAAM,SAAA,EAAU,QACnH,IAAA,CAAE,UAAU,wBAAyB,SAAAA,EAAa,MAAM,YAAA,CAAa,CAAA,EACxE,EAEF7O,EAAAA,KAAC,MAAA,CAAI,UAAU,kBACb,SAAA,CAAAC,MAACS,EAAA,CAAO,QAAS,IAAM,CACrBoB,EAAa,UAAU,CACzB,EAAG,UAAU,SAAS,SAAA,UAAA,CAEtB,EACA7B,EAAAA,IAACS,GAAO,QAAQ,UAAU,QAAS,IAAMqB,EAAa,EAAK,EAAG,SAAA,OAAA,CAE9D,CAAA,CAAA,CACF,CAAA,EACF,EAIDgN,IAAc,YAAcF,GAC3B7O,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAACC,GAAM,SAAA,IAAA,CAAE,QACRC,EAAA,CAAM,MAAO0O,EAAa,IAAM,GAAI,SAAQ,EAAA,CAAC,CAAA,EAChD,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,GAAM,SAAA,MAAA,CAAI,QACVC,EAAA,CAAM,MAAO0O,EAAa,MAAQ,GAAI,SAAQ,EAAA,CAAC,CAAA,EAClD,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,GAAM,SAAA,OAAA,CAAK,QACXC,EAAA,CAAM,MAAO0O,EAAa,OAAS,GAAI,SAAQ,EAAA,CAAC,CAAA,EACnD,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,GAAM,SAAA,MAAA,CAAI,QACVC,EAAA,CAAM,MAAO0O,EAAa,MAAQ,GAAI,SAAQ,EAAA,CAAC,CAAA,EAClD,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,GAAM,SAAA,eAAA,CAAa,QACnBC,EAAA,CAAM,MAAO0O,EAAa,eAAiB,GAAI,SAAQ,EAAA,CAAC,CAAA,EAC3D,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,GAAM,SAAA,OAAA,CAAK,QACXC,EAAA,CAAM,MAAO0O,EAAa,OAAS,GAAI,SAAQ,EAAA,CAAC,CAAA,EACnD,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,GAAM,SAAA,SAAA,CAAO,EACdD,MAACE,GAAM,MAAO0O,EAAa,SAAS,kBAAoB,GAAI,SAAQ,EAAA,CAAC,CAAA,EACvE,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,GAAM,SAAA,WAAA,CAAS,QACfC,EAAA,CAAM,MAAO0O,EAAa,WAAa,GAAI,SAAQ,EAAA,CAAC,CAAA,EACvD,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,GAAM,SAAA,cAAA,CAAY,QAClBC,EAAA,CAAM,MAAO0O,EAAa,cAAgB,GAAI,SAAQ,EAAA,CAAC,CAAA,EAC1D,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,GAAM,SAAA,cAAA,CAAY,QAClBC,EAAA,CAAM,MAAO0O,EAAa,cAAgB,GAAI,SAAQ,EAAA,CAAC,CAAA,EAC1D,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,GAAM,SAAA,UAAA,CAAQ,QACdC,EAAA,CAAM,MAAO0O,EAAa,cAAgB,GAAI,SAAQ,EAAA,CAAC,CAAA,EAC1D,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,GAAM,SAAA,OAAA,CAAK,QACXC,EAAA,CAAM,MAAO0O,EAAa,OAAS,GAAI,SAAQ,EAAA,CAAC,CAAA,EACnD,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,GAAM,SAAA,OAAA,CAAK,QACXC,EAAA,CAAM,MAAO0O,EAAa,OAAS,GAAI,SAAQ,EAAA,CAAC,CAAA,EACnD,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,GAAM,SAAA,YAAA,CAAU,EACjBD,EAAAA,IAACE,GAAM,MAAO,IAAI0O,EAAa,YAAc,MAAM,GAAI,SAAQ,EAAA,CAAC,CAAA,EAClE,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,GAAM,SAAA,cAAA,CAAY,EACnBD,EAAAA,IAACE,GAAM,MAAO,IAAI0O,EAAa,cAAgB,KAAK,GAAI,SAAQ,EAAA,CAAC,CAAA,EACnE,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,GAAM,SAAA,iBAAA,CAAe,QACrBC,EAAA,CAAM,MAAO0O,EAAa,iBAAmB,GAAI,SAAQ,EAAA,CAAC,CAAA,EAC7D,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,GAAM,SAAA,aAAA,CAAW,QACjBC,EAAA,CAAM,MAAO0O,EAAa,aAAe,EAAG,SAAQ,EAAA,CAAC,CAAA,CAAA,CACxD,CAAA,EACF,EACCA,EAAa,UAAYA,EAAa,SAAS,OAAS,UACtD,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,GAAM,SAAA,UAAA,CAAQ,QACd,MAAA,CAAI,UAAU,4BACZ,SAAA2O,EAAa,SAAS,IAAI,CAAC8J,EAASC,UAClC/V,EAAA,CAAgB,QAAQ,UAAW,SAAA8V,CAAA,EAAxBC,CAAgC,CAC7C,CAAA,CACH,CAAA,EACF,EAED/J,EAAa,YAAcA,EAAa,WAAW,OAAS,UAC1D,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,GAAM,SAAA,SAAA,CAAO,QACb,MAAA,CAAI,UAAU,4BACZ,SAAA2O,EAAa,WAAW,IAAI,CAACgK,EAAOD,UAClC/V,EAAA,CAAgB,QAAQ,UAAW,SAAAgW,CAAA,EAAxBD,CAA8B,CAC3C,CAAA,CACH,CAAA,EACF,EAIF5Y,EAAAA,KAAC,MAAA,CAAI,UAAU,gBACb,SAAA,CAAAC,EAAAA,IAACC,EAAA,CAAM,UAAU,mCAAmC,SAAA,aAAU,EAC9DF,EAAAA,KAAC,MAAA,CAAI,UAAU,yBAEb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAACC,GAAM,SAAA,YAAA,CAAU,EAChB2O,EAAa,gBACZ5O,MAAC,MAAA,CAAI,UAAU,OACb,SAAAA,EAAAA,IAAC,MAAA,CACC,IAAK,gBAAgB4O,EAAa,cAAc,GAChD,IAAI,OACJ,UAAU,4CAAA,CAAA,EAEd,EAEF5O,EAAAA,IAACE,EAAA,CACC,KAAK,OACL,OAAO,UACP,SAAWV,GAAM2S,GAAqBvD,EAAa,GAAI,aAAcpP,EAAE,OAAO,MAAM,CAAC,CAAC,EACtF,UAAU,MAAA,CAAA,CACZ,EACF,SAGC,MAAA,CACC,SAAA,CAAAQ,EAAAA,IAACC,GAAM,SAAA,aAAA,CAAW,EACjB2O,EAAa,iBACZ5O,MAAC,MAAA,CAAI,UAAU,OACb,SAAAA,EAAAA,IAAC,MAAA,CACC,IAAK,gBAAgB4O,EAAa,eAAe,GACjD,IAAI,QACJ,UAAU,4CAAA,CAAA,EAEd,EAEF5O,EAAAA,IAACE,EAAA,CACC,KAAK,OACL,OAAO,UACP,SAAWV,GAAM2S,GAAqBvD,EAAa,GAAI,cAAepP,EAAE,OAAO,MAAM,CAAC,CAAC,EACvF,UAAU,MAAA,CAAA,CACZ,EACF,SAGC,MAAA,CACC,SAAA,CAAAQ,EAAAA,IAACC,GAAM,SAAA,YAAA,CAAU,EAChB2O,EAAa,gBACZ5O,MAAC,MAAA,CAAI,UAAU,OACb,SAAAA,EAAAA,IAAC,MAAA,CACC,IAAK,gBAAgB4O,EAAa,cAAc,GAChD,IAAI,OACJ,UAAU,4CAAA,CAAA,EAEd,EAEF5O,EAAAA,IAACE,EAAA,CACC,KAAK,OACL,OAAO,UACP,SAAWV,GAAM2S,GAAqBvD,EAAa,GAAI,aAAcpP,EAAE,OAAO,MAAM,CAAC,CAAC,EACtF,UAAU,MAAA,CAAA,CACZ,EACF,SAGC,MAAA,CACC,SAAA,CAAAQ,EAAAA,IAACC,GAAM,SAAA,YAAA,CAAU,EAChB2O,EAAa,gBACZ5O,MAAC,MAAA,CAAI,UAAU,OACb,SAAAA,EAAAA,IAAC,MAAA,CACC,IAAK,gBAAgB4O,EAAa,cAAc,GAChD,IAAI,OACJ,UAAU,4CAAA,CAAA,EAEd,EAEF5O,EAAAA,IAACE,EAAA,CACC,KAAK,OACL,OAAO,UACP,SAAWV,GAAM2S,GAAqBvD,EAAa,GAAI,aAAcpP,EAAE,OAAO,MAAM,CAAC,CAAC,EACtF,UAAU,MAAA,CAAA,CACZ,EACF,SAGC,MAAA,CACC,SAAA,CAAAQ,EAAAA,IAACC,GAAM,SAAA,aAAA,CAAW,EACjB2O,EAAa,iBACZ5O,MAAC,MAAA,CAAI,UAAU,OACb,SAAAA,EAAAA,IAAC,MAAA,CACC,IAAK,gBAAgB4O,EAAa,eAAe,GACjD,IAAI,QACJ,UAAU,4CAAA,CAAA,EAEd,EAEF5O,EAAAA,IAACE,EAAA,CACC,KAAK,OACL,OAAO,UACP,SAAWV,GAAM2S,GAAqBvD,EAAa,GAAI,cAAepP,EAAE,OAAO,MAAM,CAAC,CAAC,EACvF,UAAU,MAAA,CAAA,CACZ,CAAA,CACF,CAAA,CAAA,CACF,CAAA,EACF,EAEAO,EAAAA,KAAC,MAAA,CAAI,UAAU,gBACb,SAAA,CAAAC,EAAAA,IAACC,EAAA,CAAM,UAAU,mCAAmC,SAAA,kBAAe,SAClE,MAAA,CACC,SAAA,CAAAD,EAAAA,IAACC,GAAM,SAAA,QAAA,CAAM,EACbF,EAAAA,KAACI,EAAA,CACC,MAAOyO,EAAa,QAAU,GAC9B,cAAgBlP,GAAUkC,EAAgB,CAAC,GAAGgN,EAAc,OAAQlP,EAAM,EAE1E,SAAA,CAAAM,EAAAA,IAACI,EAAA,CACC,SAAAJ,EAAAA,IAACK,EAAA,CAAA,CAAY,EACf,SACCC,EAAA,CACC,SAAA,CAAAN,EAAAA,IAACO,EAAA,CAAW,MAAM,YAAY,SAAA,YAAS,EACvCP,EAAAA,IAACO,EAAA,CAAW,MAAM,SAAS,SAAA,SAAM,EACjCP,EAAAA,IAACO,EAAA,CAAW,MAAM,cAAc,SAAA,cAAW,EAC3CP,EAAAA,IAACO,EAAA,CAAW,MAAM,cAAc,SAAA,aAAA,CAAW,CAAA,CAAA,CAC7C,CAAA,CAAA,CAAA,CACF,EACF,EACAR,EAAAA,KAAC,MAAA,CAAI,UAAU,OACb,SAAA,CAAAC,EAAAA,IAACC,GAAM,SAAA,OAAA,CAAK,EACZD,EAAAA,IAACQ,GAAA,CACC,MAAOoO,EAAa,OAAS,GAC7B,SAAWpP,GAAMoC,EAAgB,CAAC,GAAGgN,EAAc,MAAOpP,EAAE,OAAO,MAAM,EACzE,KAAM,CAAA,CAAA,CACR,EACF,EACAO,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAC,EAAAA,IAACC,GAAM,SAAA,cAAA,CAAY,EACnBD,EAAAA,IAACwY,GAAA,CACC,QAAS5J,EAAa,cAAgB,GACtC,gBAAkB6J,GAAY7W,EAAgB,CAAC,GAAGgN,EAAc,aAAc6J,CAAA,CAAQ,CAAA,CAAA,CACxF,CAAA,CACF,CAAA,EACF,EACA1Y,EAAAA,KAAC,MAAA,CAAI,UAAU,kBACb,SAAA,CAAAC,EAAAA,IAACS,EAAA,CAAO,QAAS,IAAMqR,GAAUlD,EAAa,GAAI,CAChD,OAAQA,EAAa,OACrB,aAAcA,EAAa,aAC3B,MAAOA,EAAa,KAAA,CACrB,EAAG,UAAU,SAAS,SAAUzP,EAAS,SAAA,aAE1C,EACAa,EAAAA,IAACS,GAAO,QAAQ,UAAU,QAAS,IAAMqB,EAAa,EAAK,EAAG,SAAA,QAAA,CAE9D,CAAA,CAAA,CACF,CAAA,EACF,EAIDgN,IAAc,gBAAkBF,GAC/B7O,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,aAAU,EACnDD,EAAAA,IAAC,IAAA,CAAE,UAAU,UAAW,WAAa,EAAA,CAAG,CAAA,EAC1C,SACC,MAAA,CACC,SAAA,CAAAA,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,SAAM,EAC/CD,EAAAA,IAAC,KAAE,UAAU,UACV,WAAa,QAAQ,YAAc4O,EAAa,QAAQ,UACrD,GAAGA,EAAa,OAAO,UAAU,IAAIA,EAAa,OAAO,SAAS,GAClEA,EAAa,QAAQ,UAAY,KAAA,CACvC,CAAA,EACF,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,MAAG,EAC5CF,EAAAA,KAAC,IAAA,CAAE,UAAU,UAAW,SAAA,CAAA6O,EAAa,KAAK,KAAK,IAAEA,EAAa,KAAK,MAAM,KAAGA,EAAa,KAAK,KAAK,GAAA,CAAA,CAAC,CAAA,EACtG,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,QAAK,EAC9CD,EAAAA,IAAC,IAAA,CAAE,UAAU,UACV,SAAA4O,EAAa,KAAK,OAAO,UAAYA,EAAa,KAAK,OAAO,YAAc,KAAA,CAC/E,CAAA,EACF,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,aAAU,EACnDD,EAAAA,IAAC,IAAA,CAAE,UAAU,UAAW,SAAA,IAAI,KAAK4O,EAAa,cAAc,EAAE,eAAA,CAAe,CAAE,CAAA,EACjF,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,WAAQ,EACjDD,EAAAA,IAAC,IAAA,CAAE,UAAU,UAAW,SAAA,IAAI,KAAK4O,EAAa,YAAY,EAAE,eAAA,CAAe,CAAE,CAAA,EAC/E,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,cAAW,EACpDF,EAAAA,KAAC,IAAA,CAAE,UAAU,wBAAwB,SAAA,CAAA,IAAE6O,EAAa,qBAAuB,MAAA,CAAA,CAAO,CAAA,EACpF,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,iBAAc,QACtD2C,EAAA,CAAM,QAAQ,UAAW,SAAAgM,EAAa,wBAA0B,KAAA,CAAM,CAAA,EACzE,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,iBAAc,EACvDD,EAAAA,IAAC4C,EAAA,CAAM,QAASgM,EAAa,iBAAmB,OAAS,UAAY,YAClE,SAAAA,EAAa,gBAAkB,KAAA,CAClC,CAAA,EACF,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,iBAAc,QACtD,IAAA,CAAE,UAAU,UAAW,SAAA2O,EAAa,gBAAkB,KAAA,CAAM,CAAA,EAC/D,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,iBAAc,EACvDD,EAAAA,IAAC4C,EAAA,CAAM,QAASgM,EAAa,eAAiB,UAAY,YACvD,SAAAA,EAAa,eAAiB,MAAQ,IAAA,CACzC,CAAA,EACF,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,eAAY,EACrDD,EAAAA,IAAC4C,EAAA,CAAM,QAASgM,EAAa,aAAe,UAAY,YACrD,SAAAA,EAAa,aAAe,MAAQ,IAAA,CACvC,CAAA,EACF,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,kBAAe,QACvD,IAAA,CAAE,UAAU,UAAW,SAAA2O,EAAa,iBAAmB,KAAA,CAAM,CAAA,EAChE,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,mBAAgB,QACxD,IAAA,CAAE,UAAU,UAAW,SAAA2O,EAAa,kBAAoB,KAAA,CAAM,CAAA,EACjE,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,oBAAiB,QACzD,IAAA,CAAE,UAAU,UAAW,SAAA2O,EAAa,mBAAqB,KAAA,CAAM,CAAA,EAClE,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,eAAY,EACrDF,EAAAA,KAAC,IAAA,CAAE,UAAU,UAAU,SAAA,CAAA,IAAE6O,EAAa,cAAgB,MAAA,CAAA,CAAO,CAAA,EAC/D,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,oBAAiB,EAC1DD,EAAAA,IAAC,IAAA,CAAE,UAAU,UAAW,SAAA4O,EAAa,iBAAmB,IAAI,KAAKA,EAAa,gBAAgB,EAAE,eAAA,EAAmB,KAAA,CAAM,CAAA,EAC3H,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,sBAAmB,QAC3D,IAAA,CAAE,UAAU,UAAW,SAAA2O,EAAa,oBAAsB,KAAA,CAAM,CAAA,EACnE,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,aAAU,EACnDD,EAAAA,IAAC,IAAA,CAAE,UAAU,UAAW,SAAA,IAAI,KAAK4O,EAAa,UAAU,EAAE,eAAA,CAAe,CAAE,CAAA,EAC7E,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,aAAU,EACnDD,EAAAA,IAAC,IAAA,CAAE,UAAU,UAAW,SAAA,IAAI,KAAK4O,EAAa,UAAU,EAAE,eAAA,CAAe,CAAE,CAAA,CAAA,CAC7E,CAAA,EACF,EACA7O,EAAAA,KAAC,MAAA,CAAI,UAAU,kBACb,SAAA,CAAAC,MAACS,EAAA,CAAO,QAAS,IAAM,CACrBoB,EAAa,cAAc,CAC7B,EAAG,UAAU,SAAS,SAAA,cAAA,CAEtB,EACA7B,EAAAA,IAACS,GAAO,QAAQ,UAAU,QAAS,IAAMqB,EAAa,EAAK,EAAG,SAAA,OAAA,CAE9D,CAAA,CAAA,CACF,CAAA,EACF,EAIDgN,IAAc,gBAAkBF,GAC/B7O,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAACC,GAAM,SAAA,YAAA,CAAU,QAChBC,EAAA,CAAM,MAAO0O,EAAa,IAAM,GAAI,SAAQ,EAAA,CAAC,CAAA,EAChD,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,GAAM,SAAA,QAAA,CAAM,EACbD,EAAAA,IAACE,EAAA,CACC,MACE0O,EAAa,QAAQ,YAAcA,EAAa,QAAQ,UACpD,GAAGA,EAAa,OAAO,UAAU,IAAIA,EAAa,OAAO,SAAS,GAClEA,EAAa,QAAQ,UAAY,MAEvC,SAAQ,EAAA,CAAA,CACV,EACF,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,GAAM,SAAA,KAAA,CAAG,EACVD,EAAAA,IAACE,EAAA,CACC,MAAO,GAAG0O,EAAa,KAAK,MAAQ,EAAE,IAAIA,EAAa,KAAK,OAAS,EAAE,KAAKA,EAAa,KAAK,MAAQ,EAAE,IACxG,SAAQ,EAAA,CAAA,CACV,EACF,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,GAAM,SAAA,mBAAA,CAAiB,EACxBD,EAAAA,IAACE,EAAA,CACC,MAAO,IAAI,KAAK0O,EAAa,cAAc,EAAE,eAAA,EAC7C,SAAQ,EAAA,CAAA,CACV,EACF,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,GAAM,SAAA,iBAAA,CAAe,EACtBD,EAAAA,IAACE,EAAA,CACC,MAAO,IAAI,KAAK0O,EAAa,YAAY,EAAE,eAAA,EAC3C,SAAQ,EAAA,CAAA,CACV,EACF,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,GAAM,SAAA,gBAAA,CAAc,QACpBC,EAAA,CAAM,MAAO0O,EAAa,gBAAkB,MAAO,SAAQ,EAAA,CAAC,CAAA,EAC/D,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,GAAM,SAAA,gBAAA,CAAc,QACpBC,EAAA,CAAM,MAAO0O,EAAa,gBAAkB,MAAO,SAAQ,EAAA,CAAC,CAAA,EAC/D,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,GAAM,SAAA,gBAAA,CAAc,EACrBD,MAACE,GAAM,MAAO0O,EAAa,eAAiB,MAAQ,KAAM,SAAQ,EAAA,CAAC,CAAA,EACrE,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,GAAM,SAAA,cAAA,CAAY,EACnBD,MAACE,GAAM,MAAO0O,EAAa,aAAe,MAAQ,KAAM,SAAQ,EAAA,CAAC,CAAA,EACnE,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,GAAM,SAAA,iBAAA,CAAe,QACrBC,EAAA,CAAM,MAAO0O,EAAa,iBAAmB,MAAO,SAAQ,EAAA,CAAC,CAAA,EAChE,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,GAAM,SAAA,kBAAA,CAAgB,QACtBC,EAAA,CAAM,MAAO0O,EAAa,kBAAoB,MAAO,SAAQ,EAAA,CAAC,CAAA,EACjE,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,GAAM,SAAA,mBAAA,CAAiB,QACvBC,EAAA,CAAM,MAAO0O,EAAa,mBAAqB,MAAO,SAAQ,EAAA,CAAC,CAAA,EAClE,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,GAAM,SAAA,cAAA,CAAY,EACnBD,EAAAA,IAACE,GAAM,MAAO,IAAI0O,EAAa,cAAgB,MAAM,GAAI,SAAQ,EAAA,CAAC,CAAA,EACpE,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,GAAM,SAAA,mBAAA,CAAiB,EACxBD,EAAAA,IAACE,EAAA,CACC,MAAO0O,EAAa,iBAAmB,IAAI,KAAKA,EAAa,gBAAgB,EAAE,eAAA,EAAmB,MAClG,SAAQ,EAAA,CAAA,CACV,EACF,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,GAAM,SAAA,qBAAA,CAAmB,QACzBC,EAAA,CAAM,MAAO0O,EAAa,oBAAsB,MAAO,SAAQ,EAAA,CAAC,CAAA,EACnE,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,GAAM,SAAA,YAAA,CAAU,EACjBD,EAAAA,IAACE,EAAA,CAAM,MAAO,IAAI,KAAK0O,EAAa,UAAU,EAAE,iBAAkB,SAAQ,EAAA,CAAC,CAAA,EAC7E,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,GAAM,SAAA,YAAA,CAAU,EACjBD,EAAAA,IAACE,EAAA,CAAM,MAAO,IAAI,KAAK0O,EAAa,UAAU,EAAE,iBAAkB,SAAQ,EAAA,CAAC,CAAA,CAAA,CAC7E,CAAA,EACF,EACA7O,EAAAA,KAAC,MAAA,CAAI,UAAU,gBACb,SAAA,CAAAC,EAAAA,IAACC,EAAA,CAAM,UAAU,mCAAmC,SAAA,kBAAe,EACnEF,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAACC,GAAM,SAAA,gBAAA,CAAc,EACrBF,EAAAA,KAACI,EAAA,CACC,MAAOyO,EAAa,wBAA0B,GAC9C,cAAgBlP,GAAUkC,EAAgB,CAAC,GAAGgN,EAAc,uBAAwBlP,EAAM,EAE1F,SAAA,CAAAM,EAAAA,IAACI,EAAA,CACC,SAAAJ,EAAAA,IAACK,EAAA,CAAA,CAAY,EACf,SACCC,EAAA,CACC,SAAA,CAAAN,EAAAA,IAACO,EAAA,CAAW,MAAM,UAAU,SAAA,UAAO,EACnCP,EAAAA,IAACO,EAAA,CAAW,MAAM,YAAY,SAAA,YAAS,EACvCP,EAAAA,IAACO,EAAA,CAAW,MAAM,YAAY,SAAA,YAAS,EACvCP,EAAAA,IAACO,EAAA,CAAW,MAAM,YAAY,SAAA,YAAS,EACvCP,EAAAA,IAACO,EAAA,CAAW,MAAM,WAAW,SAAA,UAAA,CAAQ,CAAA,CAAA,CACvC,CAAA,CAAA,CAAA,CACF,EACF,SACC,MAAA,CACC,SAAA,CAAAP,EAAAA,IAACC,GAAM,SAAA,qBAAA,CAAmB,EAC1BD,EAAAA,IAACE,EAAA,CACC,KAAK,SACL,KAAK,OACL,MAAO0O,EAAa,qBAAuB,GAC3C,SAAWpP,GAAMoC,EAAgB,CAAC,GAAGgN,EAAc,oBAAqBpP,EAAE,OAAO,KAAA,CAAM,CAAA,CAAA,CACzF,CAAA,CACF,CAAA,CAAA,CACF,CAAA,EACF,EACAO,EAAAA,KAAC,MAAA,CAAI,UAAU,kBACb,SAAA,CAAAC,EAAAA,IAACS,EAAA,CAAO,QAAS,IAAM8R,GAAc3D,EAAa,GAAI,CACpD,uBAAwBA,EAAa,uBACrC,oBAAqBA,EAAa,mBAAA,CACnC,EAAG,UAAU,SAAS,SAAA,gBAAA,CAEvB,EACA5O,EAAAA,IAACS,GAAO,QAAQ,UAAU,QAAS,IAAMqB,EAAa,EAAK,EAAG,SAAA,QAAA,CAE9D,CAAA,CAAA,CACF,CAAA,EACF,GAIAgN,IAAc,uBAAyBA,IAAc,sBACrD9O,EAAAA,IAAC6Y,GAAA,CACC,aAAcjK,EACd,SAAWnK,GAAS,CACdqK,IAAc,sBAChB2D,GAAmBhO,CAAI,EAEvBiO,GAAmB9D,EAAa,GAAInK,CAAI,CAE5C,CAAA,CAAA,EAKHqK,IAAc,eAAiBF,GAC9B7O,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAACC,GAAM,SAAA,QAAA,CAAM,EACbF,EAAAA,KAACI,EAAA,CACC,MAAOyO,EAAa,OACpB,cAAgBlP,GAAUkC,EAAgB,CAAC,GAAGgN,EAAc,OAAQlP,EAAM,EAE1E,SAAA,CAAAM,EAAAA,IAACI,EAAA,CACC,SAAAJ,EAAAA,IAACK,EAAA,CAAA,CAAY,EACf,SACCC,EAAA,CACC,SAAA,CAAAN,EAAAA,IAACO,EAAA,CAAW,MAAM,YAAY,SAAA,YAAS,EACvCP,EAAAA,IAACO,EAAA,CAAW,MAAM,eAAe,SAAA,eAAY,EAC7CP,EAAAA,IAACO,EAAA,CAAW,MAAM,WAAW,SAAA,WAAQ,EACrCP,EAAAA,IAACO,EAAA,CAAW,MAAM,WAAW,SAAA,WAAQ,EACrCP,EAAAA,IAACO,EAAA,CAAW,MAAM,YAAY,SAAA,WAAA,CAAS,CAAA,CAAA,CACzC,CAAA,CAAA,CAAA,CACF,EACF,SACC,MAAA,CACC,SAAA,CAAAP,EAAAA,IAACC,GAAM,SAAA,UAAA,CAAQ,EACfF,EAAAA,KAACI,EAAA,CACC,MAAOyO,EAAa,SACpB,cAAgBlP,GAAUkC,EAAgB,CAAC,GAAGgN,EAAc,SAAUlP,EAAM,EAE5E,SAAA,CAAAM,EAAAA,IAACI,EAAA,CACC,SAAAJ,EAAAA,IAACK,EAAA,CAAA,CAAY,EACf,SACCC,EAAA,CACC,SAAA,CAAAN,EAAAA,IAACO,EAAA,CAAW,MAAM,MAAM,SAAA,MAAG,EAC3BP,EAAAA,IAACO,EAAA,CAAW,MAAM,SAAS,SAAA,SAAM,EACjCP,EAAAA,IAACO,EAAA,CAAW,MAAM,OAAO,SAAA,OAAI,EAC7BP,EAAAA,IAACO,EAAA,CAAW,MAAM,SAAS,SAAA,QAAA,CAAM,CAAA,CAAA,CACnC,CAAA,CAAA,CAAA,CACF,EACF,SACC,MAAA,CACC,SAAA,CAAAP,EAAAA,IAACC,GAAM,SAAA,UAAA,CAAQ,EACfD,EAAAA,IAACQ,GAAA,CACC,MAAOoO,EAAa,UAAY,GAChC,SAAWpP,GAAMoC,EAAgB,CAAC,GAAGgN,EAAc,SAAUpP,EAAE,OAAO,KAAA,CAAM,CAAA,CAAA,CAC9E,EACF,QACCiB,EAAA,CAAO,QAAS,IAAMkS,GAAa/D,EAAa,GAAI,CACnD,OAAQA,EAAa,OACrB,SAAUA,EAAa,SACvB,SAAUA,EAAa,QAAA,CACxB,EAAG,SAAA,eAAA,CAEJ,CAAA,EACF,EAIDE,IAAc,WAAaF,GAC1B7O,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAACC,GAAM,SAAA,QAAA,CAAM,EACbD,EAAAA,IAACwY,GAAA,CACC,QAAS5J,EAAa,OACtB,gBAAkB6J,GAAY7W,EAAgB,CAAC,GAAGgN,EAAc,OAAQ6J,CAAA,CAAQ,CAAA,CAAA,CAClF,EACF,QACChY,EAAA,CAAO,QAAS,IAAMmS,GAAShE,EAAa,GAAI,CAC/C,OAAQA,EAAa,MAAA,CACtB,EAAG,SAAA,WAAA,CAEJ,CAAA,EACF,EAIDE,IAAc,mBAAqBF,GAClC7O,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAACC,GAAM,SAAA,QAAA,CAAM,EACbF,EAAAA,KAACI,EAAA,CACC,MAAOyO,EAAa,OACpB,cAAgBlP,GAAUkC,EAAgB,CAAC,GAAGgN,EAAc,OAAQlP,EAAM,EAE1E,SAAA,CAAAM,EAAAA,IAACI,EAAA,CACC,SAAAJ,EAAAA,IAACK,EAAA,CAAA,CAAY,EACf,SACCC,EAAA,CACC,SAAA,CAAAN,EAAAA,IAACO,EAAA,CAAW,MAAM,UAAU,SAAA,UAAO,EACnCP,EAAAA,IAACO,EAAA,CAAW,MAAM,WAAW,SAAA,WAAQ,EACrCP,EAAAA,IAACO,EAAA,CAAW,MAAM,cAAc,SAAA,cAAW,EAC3CP,EAAAA,IAACO,EAAA,CAAW,MAAM,WAAW,SAAA,UAAA,CAAQ,CAAA,CAAA,CACvC,CAAA,CAAA,CAAA,CACF,EACF,QACCE,EAAA,CAAO,QAAS,IAAM0S,GAAiBvE,EAAa,GAAI,CACvD,OAAQA,EAAa,MAAA,CACtB,EAAG,SAAA,mBAAA,CAEJ,CAAA,EACF,EAIDE,IAAc,qBACb9O,EAAAA,IAAC8Y,GAAA,CACC,SAAWrU,GAAS2O,GAAsB3O,CAAI,CAAA,CAAA,GAKhDqK,IAAc,kBAAoBA,IAAc,iBAChD9O,EAAAA,IAAC+Y,GAAA,CACC,QAASnK,EACT,SAAWnK,GAAS,CACdqK,IAAc,iBAChBY,GAAcjL,CAAI,EAElBkL,GAAcf,EAAa,GAAInK,CAAI,CAEvC,CAAA,CAAA,EAKHqK,IAAc,aACb9O,EAAAA,IAACgZ,GAAA,CACC,SAAUnG,GACV,QAAA1T,CAAA,CAAA,EAKH2P,IAAc,kBACb9O,EAAAA,IAACf,GAAA,CACC,SAAU8T,GACV,QAAA5T,CAAA,CAAA,EAKH2P,IAAc,uBACb9O,EAAAA,IAACiZ,GAAA,CACC,SAAUhG,GACV,QAAA9T,CAAA,CAAA,EAKH2P,IAAc,gBAAkBF,GAC/B7O,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,KAAE,EAC3CD,EAAAA,IAAC,IAAA,CAAE,UAAU,UAAW,WAAa,EAAA,CAAG,CAAA,EAC1C,SACC,MAAA,CACC,SAAA,CAAAA,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,OAAI,QAC5C,IAAA,CAAE,UAAU,UAAW,SAAA2O,EAAa,MAAQ,KAAA,CAAM,CAAA,EACrD,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,WAAQ,QAChD,IAAA,CAAE,UAAU,UAAW,SAAA2O,EAAa,UAAY,KAAA,CAAM,CAAA,EACzD,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,QAAK,EAC9CF,EAAAA,KAAC,IAAA,CAAE,UAAU,UAAU,SAAA,CAAA,IAAE6O,EAAa,OAAO,QAAQ,CAAC,GAAK,MAAA,CAAA,CAAO,CAAA,EACpE,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,SAAM,EAC/CD,EAAAA,IAAC,KAAE,UAAU,UAAW,WAAa,QAAQ,QAAQ,CAAC,GAAK,KAAA,CAAM,CAAA,EACnE,SACC,MAAA,CACC,SAAA,CAAAA,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,WAAQ,EACjDD,EAAAA,IAAC4C,EAAA,CAAM,QAASgM,EAAa,SAAW,UAAY,YACjD,SAAAA,EAAa,SAAW,MAAQ,IAAA,CACnC,CAAA,EACF,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,OAAI,QAC5C,IAAA,CAAE,UAAU,UAAW,SAAA2O,EAAa,MAAQ,KAAA,CAAM,CAAA,EACrD,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,SAAM,QAC9C,IAAA,CAAE,UAAU,UAAW,SAAA2O,EAAa,QAAU,CAAA,CAAE,CAAA,CAAA,CACnD,CAAA,EACF,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,cAAW,QACnD,IAAA,CAAE,UAAU,UAAW,SAAA2O,EAAa,aAAe,KAAA,CAAM,CAAA,EAC5D,EACCA,EAAa,QAAUA,EAAa,OAAO,OAAS,UAClD,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,SAAM,EAC/CD,EAAAA,IAAC,OAAI,UAAU,4BACZ,WAAa,OAAO,IAAI,CAACkZ,EAAKP,IAC7B3Y,EAAAA,IAAC,OAAc,IAAKkZ,EAAK,IAAK,WAAWP,EAAM,CAAC,GAAI,UAAU,kCAApDA,CAAqF,CAChG,CAAA,CACH,CAAA,EACF,EAEF5Y,EAAAA,KAAC,MAAA,CAAI,UAAU,kBACb,SAAA,CAAAC,EAAAA,IAACS,EAAA,CAAO,QAAS,IAAMoB,EAAa,cAAc,EAAG,UAAU,SAAS,SAAA,cAAA,CAExE,EACA7B,EAAAA,IAACS,GAAO,QAAQ,UAAU,QAAS,IAAMqB,EAAa,EAAK,EAAG,SAAA,OAAA,CAE9D,CAAA,CAAA,CACF,CAAA,EACF,GAIAgN,IAAc,kBAAoBA,IAAc,iBAChD9O,EAAAA,IAACmZ,GAAA,CACC,QAASrK,IAAc,eAAiBF,EAAe,KACvD,aAAAtE,GACA,SAAW7F,GAAS,CACdqK,IAAc,gBAAkBF,EAClCwB,GAAoBxB,EAAa,GAAInK,CAAI,EAEzCqL,GAAoBrL,CAAI,CAE5B,CAAA,CAAA,EAKHqK,IAAc,wBACb/O,OAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAC,EAAAA,IAAC,IAAA,CAAE,UAAU,gCAAgC,SAAA,wFAE7C,EACAD,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAACC,GAAM,SAAA,UAAA,CAAQ,EACfF,EAAAA,KAACI,EAAA,CACC,MAAOuN,GAAW,WAAa,SAC/B,cAAgBpC,GAAMhE,GAAe3H,IAAU,CAAE,GAAGA,EAAM,UAAW2L,CAAA,EAAI,EACzE,SAAU,CAAC,CAAC3E,IAAgB,GAE5B,SAAA,CAAA3G,MAACI,EAAA,CACC,SAAAJ,EAAAA,IAACK,EAAA,CAAY,YAAY,gBAAgB,EAC3C,SACCC,EAAA,CACC,SAAA,CAAAN,EAAAA,IAACO,EAAA,CAAW,MAAM,SAAS,SAAA,gBAAa,GACtC,MAAM,QAAQ0F,EAAO,EAAIA,GAAU,CAAA,GAAI,IAAKO,GAC5CxG,EAAAA,IAACO,EAAA,CAAsB,MAAO,OAAOiG,EAAE,EAAE,EACtC,SAAAA,EAAE,UAAY,GAAGA,EAAE,YAAc,EAAE,IAAIA,EAAE,WAAa,EAAE,IAAM,WAAWA,EAAE,EAAE,EAAA,EAD/DA,EAAE,EAEnB,CACD,CAAA,CAAA,CACH,CAAA,CAAA,CAAA,CACF,EACF,SACC,MAAA,CACC,SAAA,CAAAxG,EAAAA,IAACC,GAAM,SAAA,UAAA,CAAQ,EACfD,EAAAA,IAACE,EAAA,CACC,KAAK,SACL,IAAK,IACL,KAAM,IACN,MAAOwN,GAAW,OAClB,SAAWlO,GAAM8H,GAAe3H,IAAU,CAAE,GAAGA,EAAM,OAAQH,EAAE,OAAO,OAAQ,EAC9E,YAAY,aAAA,CAAA,EAEbsH,IAAe,SAAW,MAAQH,IACjC5G,EAAAA,KAAC,IAAA,CAAE,UAAU,qCAAqC,SAAA,CAAA,aAAW,OAAO+G,GAAc,OAAO,EAAE,QAAQ,CAAC,CAAA,CAAA,CAAE,CAAA,EAE1G,SACC,MAAA,CACC,SAAA,CAAA9G,EAAAA,IAACC,GAAM,SAAA,WAAA,CAAS,EAChBD,EAAAA,IAACE,EAAA,CACC,MAAOwN,GAAW,UAClB,SAAWlO,GAAM8H,GAAe3H,IAAU,CAAE,GAAGA,EAAM,UAAWH,EAAE,OAAO,OAAQ,EACjF,YAAY,oBACZ,UAAW,GAAA,CAAA,CACb,EACF,SACC,MAAA,CACC,SAAA,CAAAQ,EAAAA,IAACC,GAAM,SAAA,OAAA,CAAK,EACZD,EAAAA,IAACQ,GAAA,CACC,MAAOkN,GAAW,MAClB,SAAWlO,GAAM8H,GAAe3H,IAAU,CAAE,GAAGA,EAAM,MAAOH,EAAE,OAAO,MAAM,MAAM,EAAG,GAAI,GAAI,EAC5F,YAAY,iBACZ,KAAM,CAAA,CAAA,CACR,CAAA,CACF,CAAA,EACF,EACAO,EAAAA,KAAC,MAAA,CAAI,UAAU,8BACb,SAAA,CAAAC,EAAAA,IAACS,EAAA,CAAO,QAAQ,UAAU,QAAS,IAAMqB,EAAa,EAAK,EAAG,SAAA,QAAA,CAAM,EACpE9B,EAAAA,IAACS,GAAO,QAAS6V,GAA0B,SAAUnX,GAAW,CAACuO,GAAW,WAAaA,GAAW,YAAc,UAAY,CAACA,GAAW,QAAU,WAAWA,GAAW,MAAM,EAAI,IACjL,SAAAvO,EAAU,cAAgB,eAAA,CAC7B,CAAA,CAAA,CACF,CAAA,EACF,EAID2P,IAAc,iBACb/O,OAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAC,EAAAA,IAAC,IAAA,CAAE,UAAU,gCAAgC,SAAA,yGAE7C,EACAD,EAAAA,KAAC,MAAA,CAAI,UAAU,wCACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAACC,GAAM,SAAA,YAAA,CAAU,EACjBD,EAAAA,IAACE,EAAA,CACC,MAAOoN,EAAW,SAClB,SAAW9N,GAAM0G,GAAevG,IAAU,CAAE,GAAGA,EAAM,SAAUH,EAAE,OAAO,OAAQ,EAChF,YAAY,cACZ,UAAW,GAAA,CAAA,CACb,EACF,SACC,MAAA,CACC,SAAA,CAAAQ,EAAAA,IAACC,GAAM,SAAA,gBAAA,CAAc,EACrBD,EAAAA,IAACE,EAAA,CACC,MAAOoN,EAAW,aAClB,SAAW9N,GAAM0G,GAAevG,IAAU,CAAE,GAAGA,EAAM,aAAcH,EAAE,OAAO,OAAQ,EACpF,YAAY,aACZ,UAAW,EAAA,CAAA,CACb,EACF,EACAO,EAAAA,KAAC,MAAA,CAAI,UAAU,gBACb,SAAA,CAAAC,EAAAA,IAACC,GAAM,SAAA,OAAA,CAAK,EACZD,EAAAA,IAACE,EAAA,CACC,KAAK,QACL,MAAOoN,EAAW,MAClB,SAAW9N,GAAM0G,GAAevG,IAAU,CAAE,GAAGA,EAAM,MAAOH,EAAE,OAAO,OAAQ,EAC7E,YAAY,6BAAA,CAAA,CACd,EACF,SACC,MAAA,CACC,SAAA,CAAAQ,EAAAA,IAACC,GAAM,SAAA,YAAA,CAAU,EACjBD,EAAAA,IAACE,EAAA,CACC,KAAK,WACL,MAAOoN,EAAW,SAClB,SAAW9N,GAAM0G,GAAevG,IAAU,CAAE,GAAGA,EAAM,SAAUH,EAAE,OAAO,OAAQ,EAChF,YAAY,kBAAA,CAAA,CACd,EACF,SACC,MAAA,CACC,SAAA,CAAAQ,EAAAA,IAACC,GAAM,SAAA,oBAAA,CAAkB,EACzBD,EAAAA,IAACE,EAAA,CACC,KAAK,WACL,MAAOoN,EAAW,sBAClB,SAAW9N,GAAM0G,GAAevG,IAAU,CAAE,GAAGA,EAAM,sBAAuBH,EAAE,OAAO,OAAQ,EAC7F,YAAY,iBAAA,CAAA,CACd,EACF,SACC,MAAA,CACC,SAAA,CAAAQ,EAAAA,IAACC,GAAM,SAAA,cAAA,CAAY,EACnBD,EAAAA,IAACE,EAAA,CACC,MAAOoN,EAAW,WAClB,SAAW9N,GAAM0G,GAAevG,IAAU,CAAE,GAAGA,EAAM,WAAYH,EAAE,OAAO,OAAQ,EAClF,YAAY,OACZ,UAAW,GAAA,CAAA,CACb,EACF,SACC,MAAA,CACC,SAAA,CAAAQ,EAAAA,IAACC,GAAM,SAAA,aAAA,CAAW,EAClBD,EAAAA,IAACE,EAAA,CACC,MAAOoN,EAAW,UAClB,SAAW9N,GAAM0G,GAAevG,IAAU,CAAE,GAAGA,EAAM,UAAWH,EAAE,OAAO,OAAQ,EACjF,YAAY,MACZ,UAAW,GAAA,CAAA,CACb,CAAA,CACF,CAAA,EACF,EACAO,EAAAA,KAAC,MAAA,CAAI,UAAU,8BACb,SAAA,CAAAC,EAAAA,IAACS,EAAA,CAAO,QAAQ,UAAU,QAAS,IAAMqB,EAAa,EAAK,EAAG,SAAA,QAAA,CAE9D,EACA9B,EAAAA,IAACS,EAAA,CACC,QAASmU,GACT,SACEzV,GACA,CAACmO,EAAW,UAAU,KAAA,GACtB,CAACA,EAAW,cAAc,KAAA,GAC1B,CAACA,EAAW,YAAY,KAAA,GACxB,CAACA,EAAW,WAAW,KAAA,GACvB,CAACA,EAAW,UACZA,EAAW,SAAS,OAAS,GAC7BA,EAAW,WAAaA,EAAW,sBAGpC,WAAU,cAAgB,eAAA,CAAA,CAC7B,CAAA,CACF,CAAA,EACF,GAIAwB,IAAc,qBAAuBA,IAAc,oBACnD/O,OAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,wCACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAACC,GAAM,SAAA,MAAA,CAAI,EACXD,EAAAA,IAACE,EAAA,CACC,MAAO0O,GAAc,MAAQ,GAC7B,SAAWpP,GACToC,EAAiBjC,IAAU,CAAE,GAAIA,GAAQ,CAAA,EAAK,KAAMH,EAAE,OAAO,OAAQ,EAEvE,YAAY,QAAA,CAAA,CACd,EACF,SACC,MAAA,CACC,SAAA,CAAAQ,EAAAA,IAACC,GAAM,SAAA,UAAA,CAAQ,EACfF,EAAAA,KAACI,EAAA,CACC,MAAOyO,GAAc,UAAY,OAAOA,EAAa,SAAS,EAAI,SAClE,cAAgBrI,GACd3E,EAAiBjC,IAAU,CACzB,GAAIA,GAAQ,CAAA,EACZ,UAAW4G,GAAOA,IAAQ,SAAW,OAAOA,CAAG,EAAI,IAAA,EACnD,EAGJ,SAAA,CAAAvG,MAACI,EAAA,CACC,SAAAJ,EAAAA,IAACK,EAAA,CAAY,YAAY,gBAAgB,EAC3C,SACCC,EAAA,CACC,SAAA,CAAAN,EAAAA,IAACO,EAAA,CAAW,MAAM,SAAS,SAAA,gBAAa,GACtC,MAAM,QAAQ0F,EAAO,EAAIA,GAAU,CAAA,GAAI,IAAKO,GAC5CxG,EAAAA,IAACO,EAAA,CAAsB,MAAO,OAAOiG,EAAE,EAAE,EACtC,SAAAA,EAAE,UAAY,GAAGA,EAAE,YAAc,EAAE,IAAIA,EAAE,WAAa,EAAE,IAAM,WAAWA,EAAE,EAAE,EAAA,EAD/DA,EAAE,EAEnB,CACD,CAAA,CAAA,CACH,CAAA,CAAA,CAAA,CACF,EACF,EACAzG,EAAAA,KAAC,MAAA,CAAI,UAAU,gBACb,SAAA,CAAAC,EAAAA,IAACC,GAAM,SAAA,aAAA,CAAW,EAClBD,EAAAA,IAACQ,GAAA,CACC,MAAOoO,GAAc,aAAe,GACpC,SAAWpP,GACToC,EAAiBjC,IAAU,CAAE,GAAIA,GAAQ,CAAA,EAAK,YAAaH,EAAE,OAAO,OAAQ,EAE9E,YAAY,sBAAA,CAAA,CACd,EACF,SACC,MAAA,CACC,SAAA,CAAAQ,EAAAA,IAACC,GAAM,SAAA,UAAA,CAAQ,EACfD,EAAAA,IAACE,EAAA,CACC,KAAK,SACL,IAAK,EACL,MAAO0O,GAAc,UAAY,GACjC,SAAWpP,GACToC,EAAiBjC,IAAU,CACzB,GAAIA,GAAQ,CAAA,EACZ,SAAUH,EAAE,OAAO,MAAQ,OAAOA,EAAE,OAAO,KAAK,EAAI,IAAA,EACpD,EAEJ,YAAY,2BAAA,CAAA,CACd,EACF,SACC,MAAA,CACC,SAAA,CAAAQ,EAAAA,IAACC,GAAM,SAAA,YAAA,CAAU,EACjBD,EAAAA,IAACE,EAAA,CACC,KAAK,OACL,MAAO0O,GAAc,YAAc,GACnC,SAAWpP,GACToC,EAAiBjC,IAAU,CAAE,GAAIA,GAAQ,CAAA,EAAK,WAAYH,EAAE,OAAO,OAAQ,CAAA,CAAA,CAE/E,EACF,SACC,MAAA,CACC,SAAA,CAAAQ,EAAAA,IAACC,GAAM,SAAA,cAAA,CAAY,EACnBD,EAAAA,IAACE,EAAA,CACC,KAAK,SACL,IAAK,EACL,IAAK,IACL,KAAM,GACN,MAAO0O,GAAc,uBAAyB,GAC9C,SAAWpP,GACToC,EAAiBjC,IAAU,CACzB,GAAIA,GAAQ,CAAA,EACZ,sBAAuBH,EAAE,OAAO,MAAQ,OAAOA,EAAE,OAAO,KAAK,EAAI,IAAA,EACjE,EAEJ,YAAY,QAAA,CAAA,CACd,EACF,EACAO,EAAAA,KAAC,MAAA,CAAI,UAAU,+BACb,SAAA,CAAAC,EAAAA,IAACwY,GAAA,CACC,QAAS5J,GAAc,WAAa,GACpC,gBAAkBrI,GAChB3E,EAAiBjC,IAAU,CAAE,GAAIA,GAAQ,CAAA,EAAK,UAAW4G,GAAM,CAAA,CAAA,EAGnEvG,EAAAA,IAAC,OAAA,CAAK,UAAU,UAAU,SAAA,QAAA,CAAM,CAAA,CAAA,CAClC,CAAA,EACF,EACAD,EAAAA,KAAC,MAAA,CAAI,UAAU,8BACb,SAAA,CAAAC,EAAAA,IAACS,EAAA,CAAO,QAAQ,UAAU,QAAS,IAAMqB,EAAa,EAAK,EAAG,SAAA,QAAA,CAE9D,EACA9B,EAAAA,IAACS,EAAA,CACC,QAAS,IAAM,CACb,GAAIqO,IAAc,sBAAwB,CAACF,GAAc,MAAM,QAAU,CAACA,GAAc,WAAY,CAClGO,EAAM,MAAM,8BAA8B,EAC1C,MACF,CACA,MAAMc,EAAU,CACd,KAAMrB,GAAc,MAAM,KAAA,EAC1B,UAAWA,GAAc,WAAa,OACtC,YAAaA,GAAc,aAAa,KAAA,GAAU,OAClD,UAAWA,GAAc,WAAa,GACtC,SAAUA,GAAc,UAAY,OACpC,WAAYA,GAAc,YAAc,OACxC,sBAAuBA,GAAc,qBAAA,EAEvCsF,GAA8BjE,EAASnB,IAAc,kBAAoBF,EAAe,IAAI,CAC9F,EACA,SAAUzP,EAET,WAAU,YAAc,MAAA,CAAA,CAC3B,CAAA,CACF,CAAA,EACF,EAID2P,IAAc,oBAAsBF,GACnC7O,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAA,EAAAA,KAAC,KAAA,CAAG,UAAU,gDACZ,SAAA,CAAAC,EAAAA,IAACmX,GAAA,CAAI,UAAU,SAAA,CAAU,EAAE,eACfnX,EAAAA,IAAC,OAAA,CAAK,UAAU,YAAa,WAAa,IAAA,CAAK,CAAA,EAC7D,EACAD,EAAAA,KAAC,IAAA,CAAE,UAAU,gCAAgC,SAAA,CAAA,UACnC,IACP6O,EAAa,OACTA,EAAa,OAAO,UACpB,GAAGA,EAAa,OAAO,YAAc,EAAE,IAAIA,EAAa,OAAO,WAAa,EAAE,GAC/E,KAAA,CAAA,CACN,CAAA,EACF,EACA7O,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,wBAAwB,SAAA,2BAAwB,SAC7DqC,EAAA,CACC,SAAA,CAAArC,EAAAA,IAACsC,EAAA,CACC,gBAACC,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAACwC,GAAU,SAAA,IAAA,CAAE,EACbxC,EAAAA,IAACwC,GAAU,SAAA,UAAA,CAAQ,EACnBxC,EAAAA,IAACwC,GAAU,SAAA,MAAA,CAAI,EACfxC,EAAAA,IAACwC,GAAU,SAAA,OAAA,CAAK,EAChBxC,EAAAA,IAACwC,GAAU,SAAA,OAAA,CAAK,EAChBxC,EAAAA,IAACwC,GAAU,SAAA,aAAA,CAAW,CAAA,CAAA,CACxB,CAAA,CACF,QACCC,EAAA,CACE,SAAAyK,GAAe,IAAKkM,UAClB7W,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAAC2C,EAAA,CAAW,WAAE,EAAA,CAAG,EACjB3C,EAAAA,IAAC2C,EAAA,CAAW,SAAAyW,EAAE,QAAA,CAAS,EACvBpZ,EAAAA,IAAC2C,EAAA,CACE,SAAAyW,EAAE,YAAcA,EAAE,UACf,GAAGA,EAAE,YAAc,EAAE,IAAIA,EAAE,WAAa,EAAE,GAC1C,MACN,EACApZ,EAAAA,IAAC2C,EAAA,CAAW,SAAAyW,EAAE,cAAgB,MAAM,EACpCpZ,EAAAA,IAAC2C,EAAA,CAAW,SAAAyW,EAAE,OAAS,MAAM,EAC7BpZ,EAAAA,IAAC2C,EAAA,CACE,SAAAyW,EAAE,YAAc,IAAI,KAAKA,EAAE,WAAW,EAAE,eAAA,EAAmB,KAAA,CAC9D,CAAA,GAZaA,EAAE,EAajB,CACD,CAAA,CACH,CAAA,CAAA,CACF,CAAA,EACF,EACC,MAAM,QAAQnS,EAAe,GAAKA,GAAgB,OAAS,GAC1DlH,EAAAA,KAAC,MAAA,CAAI,UAAU,iBACb,SAAA,CAAAC,EAAAA,IAAC,KAAA,CAAG,UAAU,wBAAwB,SAAA,+BAA4B,SACjEqC,EAAA,CACC,SAAA,CAAArC,EAAAA,IAACsC,EAAA,CACC,gBAACC,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAACwC,GAAU,SAAA,IAAA,CAAE,EACbxC,EAAAA,IAACwC,GAAU,SAAA,eAAA,CAAa,EACxBxC,EAAAA,IAACwC,GAAU,SAAA,YAAA,CAAU,CAAA,CAAA,CACvB,CAAA,CACF,EACAxC,EAAAA,IAACyC,EAAA,CACG,UAAA,MAAM,QAAQwE,EAAe,EAAIA,GAAkB,CAAA,GAAI,IAAKwB,UAC3DlG,EAAA,CACC,SAAA,CAAAvC,EAAAA,IAAC2C,EAAA,CAAW,WAAE,EAAA,CAAG,QAChBA,EAAA,CACE,SAAA8F,EAAE,aACEA,EAAE,aAAa,UACf,GAAGA,EAAE,aAAa,YAAc,EAAE,IAAIA,EAAE,aAAa,WAAa,EAAE,GACrEA,EAAE,iBACR,EACAzI,EAAAA,IAAC2C,EAAA,CAAW,SAAA8F,EAAE,WAAW,MAAQ,KAAA,CAAM,CAAA,GAR1BA,EAAE,EASjB,CACD,CAAA,CACH,CAAA,CAAA,CACF,CAAA,EACF,EAEFzI,EAAAA,IAAC,MAAA,CAAI,UAAU,wBACb,eAACS,EAAA,CAAO,QAAQ,UAAU,QAAS,IAAMqB,EAAa,EAAK,EAAG,iBAE9D,CAAA,CACF,CAAA,EACF,EAIDgN,IAAc,oBAAsBF,GACnC7O,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAA,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,KAAE,EAC3CD,EAAAA,IAAC,IAAA,CAAE,UAAU,UAAW,WAAa,EAAA,CAAG,CAAA,EAC1C,SACC,MAAA,CACC,SAAA,CAAAA,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,OAAI,QAC5C,IAAA,CAAE,UAAU,UAAW,SAAA2O,EAAa,MAAQ,KAAA,CAAM,CAAA,EACrD,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,QAAK,QAC7C,IAAA,CAAE,UAAU,UAAW,SAAA2O,EAAa,OAAS,KAAA,CAAM,CAAA,EACtD,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,QAAK,QAC7C,IAAA,CAAE,UAAU,UAAW,SAAA2O,EAAa,OAAS,KAAA,CAAM,CAAA,EACtD,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,gBAAa,QACrD,IAAA,CAAE,UAAU,UAAW,SAAA2O,EAAa,eAAiB,KAAA,CAAM,CAAA,EAC9D,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,WAAQ,QAChD2C,EAAA,CAAM,QAAQ,UAAW,SAAAgM,EAAa,UAAY,KAAA,CAAM,CAAA,EAC3D,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,OAAI,QAC5C,IAAA,CAAE,UAAU,UAAW,SAAA2O,EAAa,MAAQ,KAAA,CAAM,CAAA,EACrD,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,eAAY,EACrDD,EAAAA,IAAC4C,EAAA,CAAM,QAASgM,EAAa,eAAiB,WAAaA,EAAa,eAAiB,aAAe,UAAY,YACjH,SAAAA,EAAa,cAAgB,MAAA,CAChC,CAAA,EACF,SACC,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,aAAU,EACnDD,EAAAA,IAAC,IAAA,CAAE,UAAU,UAAW,SAAA,IAAI,KAAK4O,EAAa,UAAU,EAAE,eAAA,CAAe,CAAE,CAAA,CAAA,CAC7E,CAAA,EACF,EACCA,EAAa,aACZ7O,EAAAA,KAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,cAAW,EACpDD,EAAAA,IAAC,IAAA,CAAE,UAAU,UAAW,WAAa,WAAA,CAAY,CAAA,EACnD,EAED4O,EAAa,aAAeA,EAAa,YAAY,OAAS,UAC5D,MAAA,CACC,SAAA,CAAA5O,EAAAA,IAACC,EAAA,CAAM,UAAU,wBAAwB,SAAA,cAAW,QACnD,MAAA,CAAI,UAAU,4BACZ,SAAA2O,EAAa,YAAY,IAAI,CAACyK,EAAMV,IACnC3Y,EAAAA,IAAC4C,EAAA,CAAgB,QAAQ,YAAY,UAAU,UAC5C,SAAAyW,CAAA,EADSV,CAEZ,CACD,CAAA,CACH,CAAA,EACF,EAEF5Y,EAAAA,KAAC,MAAA,CAAI,UAAU,kBACb,SAAA,CAAAC,EAAAA,IAACS,EAAA,CAAO,QAAS,IAAMoB,EAAa,kBAAkB,EAAG,UAAU,SAAS,SAAA,kBAAA,CAE5E,EACA9B,EAAAA,KAACU,EAAA,CACC,QAAQ,UACR,QAAS,IAAM,CACbmB,EAAgB,CAAE,eAAgBgN,EAAa,GAAI,iBAAkBA,EAAa,KAAM,EACxF/M,EAAa,uBAAuB,CACtC,EAEA,SAAA,CAAA7B,EAAAA,IAACwE,GAAA,CAAK,UAAU,cAAA,CAAe,EAAE,aAAA,CAAA,CAAA,EAGnCxE,EAAAA,IAACS,GAAO,QAAQ,UAAU,QAAS,IAAMqB,EAAa,EAAK,EAAG,SAAA,OAAA,CAE9D,CAAA,CAAA,CACF,CAAA,EACF,GAIAgN,IAAc,sBAAwBA,IAAc,qBACpD9O,EAAAA,IAACsZ,GAAA,CACC,WAAYxK,IAAc,mBAAqBF,EAAe,KAC9D,SAAWnK,GAAS,CACdqK,IAAc,oBAAsBF,EACtC8B,GAAuB9B,EAAa,GAAInK,CAAI,EAE5C+L,GAAuB/L,CAAI,CAE/B,CAAA,CAAA,EAKHqK,IAAc,yBAA2BF,GACxC5O,EAAAA,IAACuZ,GAAA,CACC,aAAc3K,EAAa,eAC3B,eAAgBA,EAAa,iBAC7B,SAAWnK,GAAS,CAClBqL,GAAoB,CAAE,GAAGrL,EAAM,eAAgBmK,EAAa,eAAgB,CAC9E,CAAA,CAAA,GAKFE,IAAc,uBAAyBA,IAAc,sBACrD9O,EAAAA,IAACwZ,GAAA,CACC,KAAM1K,IAAc,oBAAsBF,EAAe,KACzD,SAAWnK,GAAS,CACdqK,IAAc,qBAAuBF,EACvCsC,GAAwBtC,EAAa,GAAInK,CAAI,EACpCgG,IACTuG,GAAwBvG,GAAmBhG,CAAI,CAEnD,CAAA,CAAA,CACF,CAAA,CAEJ,EACF,CAAA,CAEJ,CAAA,CAAA,CACF,CAAA,CACA,CAEJ,CAGA,SAASsU,GAAY,CAAE,QAAA3P,EAAS,SAAAlK,GAAY,CAC1C,KAAM,CAACE,EAAUC,CAAW,EAAIC,WAAS,CACvC,OAAQ8J,GAAS,QAAU,GAC3B,aAAcA,GAAS,cAAgB,GACvC,cAAe,CACb,MAAOA,GAAS,eAAe,OAAS,GACxC,IAAKA,GAAS,eAAe,KAAO,EAAA,EAEtC,oBAAqBA,GAAS,qBAAuB,GACrD,UAAWA,GAAS,YAAc,OAAYA,EAAQ,UAAY,EAAA,CACnE,EAED,OACErJ,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAACC,GAAM,SAAA,UAAA,CAAQ,EACfD,EAAAA,IAACE,EAAA,CACC,KAAK,SACL,MAAOd,EAAS,OAChB,SAAWI,GAAMH,EAAY,CAAC,GAAGD,EAAU,OAAQI,EAAE,OAAO,MAAM,EAClE,YAAY,eACZ,SAAQ,EAAA,CAAA,CACV,EACF,SACC,MAAA,CACC,SAAA,CAAAQ,EAAAA,IAACC,GAAM,SAAA,gBAAA,CAAc,EACrBD,EAAAA,IAACE,EAAA,CACC,MAAOd,EAAS,aAChB,SAAWI,GAAMH,EAAY,CAAC,GAAGD,EAAU,aAAcI,EAAE,OAAO,MAAM,EACxE,YAAY,iBACZ,SAAQ,EAAA,CAAA,CACV,EACF,EACAO,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAACC,GAAM,SAAA,cAAA,CAAY,EACnBD,EAAAA,IAACE,EAAA,CACC,KAAK,OACL,MAAOd,EAAS,cAAc,MAC9B,SAAWI,GAAMH,EAAY,CAC3B,GAAGD,EACH,cAAe,CAAC,GAAGA,EAAS,cAAe,MAAOI,EAAE,OAAO,KAAA,CAAK,CACjE,EACD,SAAQ,EAAA,CAAA,CACV,EACF,SACC,MAAA,CACC,SAAA,CAAAQ,EAAAA,IAACC,GAAM,SAAA,YAAA,CAAU,EACjBD,EAAAA,IAACE,EAAA,CACC,KAAK,OACL,MAAOd,EAAS,cAAc,IAC9B,SAAWI,GAAMH,EAAY,CAC3B,GAAGD,EACH,cAAe,CAAC,GAAGA,EAAS,cAAe,IAAKI,EAAE,OAAO,KAAA,CAAK,CAC/D,EACD,SAAQ,EAAA,CAAA,CACV,CAAA,CACF,CAAA,EACF,SACC,MAAA,CACC,SAAA,CAAAQ,EAAAA,IAACC,GAAM,SAAA,uBAAA,CAAqB,EAC5BD,EAAAA,IAACE,EAAA,CACC,KAAK,SACL,KAAK,OACL,IAAI,IACJ,IAAI,MACJ,MAAOd,EAAS,oBAChB,SAAWI,GAAMH,EAAY,CAAC,GAAGD,EAAU,oBAAqBI,EAAE,OAAO,MAAM,EAC/E,YAAY,QACZ,SAAQ,EAAA,CAAA,CACV,EACF,EACAO,EAAAA,KAAC,MAAA,CAAI,UAAU,8BACb,SAAA,CAAAC,EAAAA,IAACwY,GAAA,CACC,GAAG,YACH,QAASpZ,EAAS,UAClB,gBAAkBqZ,GAAYpZ,EAAY,CAAC,GAAGD,EAAU,UAAWqZ,CAAA,CAAQ,CAAA,CAAA,EAE7EzY,EAAAA,IAACC,EAAA,CAAM,QAAQ,YAAY,SAAA,QAAA,CAAM,CAAA,EACnC,SACCQ,EAAA,CAAO,QAAS,IAAMvB,EAASE,CAAQ,EACrC,SAAA,CAAAgK,EAAU,SAAW,SAAS,UAAA,CAAA,CACjC,CAAA,EACF,CAEJ,CAGA,SAASyP,GAAiB,CAAE,aAAAzT,EAAc,SAAAlG,GAAY,CAEpD,MAAMua,EAAoBC,GAAe,CACvC,GAAI,CAACA,EAAY,MAAO,GACxB,MAAMC,EAAO,IAAI,KAAKD,CAAU,EAC1BE,EAAOD,EAAK,YAAA,EACZE,EAAQ,OAAOF,EAAK,SAAA,EAAa,CAAC,EAAE,SAAS,EAAG,GAAG,EACnDG,EAAM,OAAOH,EAAK,QAAA,CAAS,EAAE,SAAS,EAAG,GAAG,EAC5CI,EAAQ,OAAOJ,EAAK,SAAA,CAAU,EAAE,SAAS,EAAG,GAAG,EAC/CK,EAAU,OAAOL,EAAK,WAAA,CAAY,EAAE,SAAS,EAAG,GAAG,EACnDM,EAAU,OAAON,EAAK,WAAA,CAAY,EAAE,SAAS,EAAG,GAAG,EACzD,MAAO,GAAGC,CAAI,IAAIC,CAAK,IAAIC,CAAG,IAAIC,CAAK,IAAIC,CAAO,IAAIC,CAAO,EAC/D,EAGMC,EAAsBR,GACrBA,EAEDA,EAAW,SAAS,GAAG,EAClBA,EAAW,QAAQ,IAAK,GAAG,EAGvB,IAAI,KAAKA,CAAU,EACpB,YAAA,EAAc,MAAM,EAAG,EAAE,EAPb,GAUpB,CAACta,EAAUC,CAAW,EAAIC,WAAS,CACvC,MAAO8F,GAAc,OAAS,GAC9B,QAASA,GAAc,SAAW,GAClC,aAAc8U,EAAmB9U,GAAc,YAAY,GAAK,GAChE,WAAY8U,EAAmB9U,GAAc,UAAU,GAAK,GAC5D,SAAUA,GAAc,UAAY,SACpC,gBAAiBA,GAAc,iBAAmB,CAAA,EAClD,OAAQA,GAAc,QAAU,QAChC,WAAYA,GAAc,YAAc,CAAA,EACxC,MAAOA,GAAc,OAAS,CAAA,CAAC,CAChC,EAEK+U,EAA6B,CAACC,EAAM3B,IAAY,CACpDpZ,EAAYM,GAAQ,CAClB,MAAM0a,EAAU1a,EAAK,iBAAmB,CAAA,EACxC,OAAI8Y,EACK,CAAE,GAAG9Y,EAAM,gBAAiB,CAAC,GAAG0a,EAASD,CAAI,CAAA,EAE7C,CAAE,GAAGza,EAAM,gBAAiB0a,EAAQ,OAAO5R,GAAKA,IAAM2R,CAAI,CAAA,CAErE,CAAC,CACH,EAEMva,EAAe,IAAM,CAEzB,MAAMC,EAAa,CACjB,GAAGV,EACH,aAAcA,EAAS,aAAeqa,EAAiBra,EAAS,YAAY,EAAI,OAChF,WAAYA,EAAS,WAAaqa,EAAiBra,EAAS,UAAU,EAAI,OAE1E,WAAYA,EAAS,WAAW,OAAS,EAAIA,EAAS,WAAa,OACnE,MAAOA,EAAS,MAAM,OAAS,EAAIA,EAAS,MAAQ,MAAA,EAEtDF,EAASY,CAAU,CACrB,EAEA,OACEC,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAACC,GAAM,SAAA,SAAA,CAAO,EACdD,EAAAA,IAACE,EAAA,CACC,SAAQ,GACR,MAAOd,EAAS,MAChB,SAAWI,GAAMH,EAAY,CAAC,GAAGD,EAAU,MAAOI,EAAE,OAAO,MAAM,EACjE,YAAY,0BAAA,CAAA,CACd,EACF,SACC,MAAA,CACC,SAAA,CAAAQ,EAAAA,IAACC,GAAM,SAAA,WAAA,CAAS,EAChBD,EAAAA,IAACQ,GAAA,CACC,SAAQ,GACR,MAAOpB,EAAS,QAChB,SAAWI,GAAMH,EAAY,CAAC,GAAGD,EAAU,QAASI,EAAE,OAAO,MAAM,EACnE,YAAY,6BACZ,KAAM,CAAA,CAAA,CACR,EACF,EACAO,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAACC,GAAM,SAAA,cAAA,CAAY,EACnBD,EAAAA,IAACE,EAAA,CACC,KAAK,iBACL,MAAOd,EAAS,aAChB,SAAWI,GAAMH,EAAY,CAAC,GAAGD,EAAU,aAAcI,EAAE,OAAO,KAAA,CAAM,CAAA,CAAA,CAC1E,EACF,SACC,MAAA,CACC,SAAA,CAAAQ,EAAAA,IAACC,GAAM,SAAA,YAAA,CAAU,EACjBD,EAAAA,IAACE,EAAA,CACC,KAAK,iBACL,MAAOd,EAAS,WAChB,SAAWI,GAAMH,EAAY,CAAC,GAAGD,EAAU,WAAYI,EAAE,OAAO,KAAA,CAAM,CAAA,CAAA,CACxE,CAAA,CACF,CAAA,EACF,EACAO,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAACC,GAAM,SAAA,UAAA,CAAQ,EACfF,EAAAA,KAACI,EAAA,CACC,MAAOf,EAAS,SAChB,cAAgBM,GAAUL,EAAY,CAAC,GAAGD,EAAU,SAAUM,EAAM,EAEpE,SAAA,CAAAM,EAAAA,IAACI,EAAA,CACC,SAAAJ,EAAAA,IAACK,EAAA,CAAA,CAAY,EACf,SACCC,EAAA,CACC,SAAA,CAAAN,EAAAA,IAACO,EAAA,CAAW,MAAM,MAAM,SAAA,MAAG,EAC3BP,EAAAA,IAACO,EAAA,CAAW,MAAM,SAAS,SAAA,SAAM,EACjCP,EAAAA,IAACO,EAAA,CAAW,MAAM,OAAO,SAAA,MAAA,CAAI,CAAA,CAAA,CAC/B,CAAA,CAAA,CAAA,CACF,EACF,SACC,MAAA,CACC,SAAA,CAAAP,EAAAA,IAACC,GAAM,SAAA,QAAA,CAAM,EACbF,EAAAA,KAACI,EAAA,CACC,MAAOf,EAAS,OAChB,cAAgBM,GAAUL,EAAY,CAAC,GAAGD,EAAU,OAAQM,EAAM,EAElE,SAAA,CAAAM,EAAAA,IAACI,EAAA,CACC,SAAAJ,EAAAA,IAACK,EAAA,CAAA,CAAY,EACf,SACCC,EAAA,CACC,SAAA,CAAAN,EAAAA,IAACO,EAAA,CAAW,MAAM,QAAQ,SAAA,QAAK,EAC/BP,EAAAA,IAACO,EAAA,CAAW,MAAM,YAAY,SAAA,YAAS,EACvCP,EAAAA,IAACO,EAAA,CAAW,MAAM,WAAW,SAAA,UAAA,CAAQ,CAAA,CAAA,CACvC,CAAA,CAAA,CAAA,CACF,CAAA,CACF,CAAA,EACF,SACC,MAAA,CACC,SAAA,CAAAP,EAAAA,IAACC,GAAM,SAAA,iBAAA,CAAe,QACrB,MAAA,CAAI,UAAU,4BACZ,SAAA,CAAC,SAAU,SAAU,QAAS,OAAO,EAAE,IAAKma,GAC3Cra,EAAAA,KAAC,MAAA,CAAe,UAAU,8BACxB,SAAA,CAAAC,EAAAA,IAAC,QAAA,CACC,KAAK,WACL,GAAI,UAAUoa,CAAI,GAClB,QAAShb,EAAS,gBAAgB,SAASgb,CAAI,EAC/C,SAAW5a,GAAM2a,EAA2BC,EAAM5a,EAAE,OAAO,OAAO,EAClE,UAAU,SAAA,CAAA,QAEXS,EAAA,CAAM,QAAS,UAAUma,CAAI,GAAI,UAAU,qCACzC,SAAAA,EAAK,OAAO,CAAC,EAAE,YAAA,EAAgBA,EAAK,MAAM,CAAC,CAAA,CAC9C,CAAA,CAAA,EAVQA,CAWV,CACD,CAAA,CACH,CAAA,EACF,EACApa,EAAAA,IAAC,OAAI,UAAU,kBACb,gBAACS,EAAA,CAAO,QAASZ,EAAc,UAAU,SACtC,SAAA,CAAAuF,EAAe,SAAW,SAAS,eAAA,CAAA,CACtC,CAAA,CACF,CAAA,EACF,CAEJ,CAGA,SAAS0T,GAAiB,CAAE,SAAA5Z,GAAY,CACtC,KAAM,CAACE,EAAUC,CAAW,EAAIC,WAAS,CACvC,MAAO,GACP,QAAS,GACT,KAAM,UACN,KAAM,CAAA,CAAC,CACR,EAED,OACES,EAAAA,KAAC,MAAA,CAAI,UAAU,YACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAACC,GAAM,SAAA,OAAA,CAAK,EACZD,EAAAA,IAACE,EAAA,CACC,MAAOd,EAAS,MAChB,SAAWI,GAAMH,EAAY,CAAC,GAAGD,EAAU,MAAOI,EAAE,OAAO,KAAA,CAAM,CAAA,CAAA,CACnE,EACF,SACC,MAAA,CACC,SAAA,CAAAQ,EAAAA,IAACC,GAAM,SAAA,SAAA,CAAO,EACdD,EAAAA,IAACQ,GAAA,CACC,MAAOpB,EAAS,QAChB,SAAWI,GAAMH,EAAY,CAAC,GAAGD,EAAU,QAASI,EAAE,OAAO,KAAA,CAAM,CAAA,CAAA,CACrE,EACF,SACC,MAAA,CACC,SAAA,CAAAQ,EAAAA,IAACC,GAAM,SAAA,MAAA,CAAI,EACXF,EAAAA,KAACI,EAAA,CACC,MAAOf,EAAS,KAChB,cAAgBM,GAAUL,EAAY,CAAC,GAAGD,EAAU,KAAMM,EAAM,EAEhE,SAAA,CAAAM,EAAAA,IAACI,EAAA,CACC,SAAAJ,EAAAA,IAACK,EAAA,CAAA,CAAY,EACf,SACCC,EAAA,CACC,SAAA,CAAAN,EAAAA,IAACO,EAAA,CAAW,MAAM,UAAU,SAAA,UAAO,EACnCP,EAAAA,IAACO,EAAA,CAAW,MAAM,UAAU,SAAA,UAAO,EACnCP,EAAAA,IAACO,EAAA,CAAW,MAAM,UAAU,SAAA,UAAO,EACnCP,EAAAA,IAACO,EAAA,CAAW,MAAM,SAAS,SAAA,QAAA,CAAM,CAAA,CAAA,CACnC,CAAA,CAAA,CAAA,CACF,EACF,QACCE,EAAA,CAAO,QAAS,IAAMvB,EAASE,CAAQ,EAAG,SAAA,mBAAA,CAE3C,CAAA,EACF,CAEJ,CAGA,SAAS+Z,GAAY,CAAE,QAAA3N,EAAS,SAAAtM,EAAU,aAAAoL,EAAe,CAAA,GAAM,CAC7D,KAAM,CAAClL,EAAUC,CAAW,EAAIC,WAAS,CACvC,KAAMkM,GAAS,MAAQ,GACvB,YAAaA,GAAS,aAAe,GACrC,SAAUA,GAAS,UAAY,GAC/B,MAAOA,GAAS,OAAS,GACzB,SAAUA,GAAS,UAAY,GAC/B,OAAQA,GAAS,QAAU,CAAA,EAC3B,eAAgBA,GAAS,gBAAkB,GAC3C,KAAMA,GAAS,MAAQ,GACvB,aAAcA,GAAS,eAAiB,EAAA,CACzC,EAEK,CAAC8O,EAAaC,CAAc,EAAIjb,EAAAA,SAAS,EAAE,EAE3Ckb,EAAW,IAAM,CACjBF,EAAY,SACdjb,EAAY,CAAC,GAAGD,EAAU,OAAQ,CAAC,GAAGA,EAAS,OAAQkb,EAAY,KAAA,CAAM,EAAE,EAC3EC,EAAe,EAAE,EAErB,EAEME,EAAeC,GAAU,CAC7Brb,EAAY,CAAC,GAAGD,EAAU,OAAQA,EAAS,OAAO,OAAO,CAACyM,EAAGC,IAAMA,IAAM4O,CAAK,EAAE,CAClF,EAEA,OACE3a,EAAAA,KAAC,MAAA,CAAI,UAAU,yCAEZ,SAAA,CAAAuK,EAAa,OAAS,GACrBvK,EAAAA,KAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAACC,GAAM,SAAA,+BAAA,CAA6B,EACpCF,EAAAA,KAACI,EAAA,CACC,MAAOf,EAAS,gBAAgB,SAAA,GAAc,GAC9C,cAAgBM,GAAUL,EAAY,CAAC,GAAGD,EAAU,eAAgB,SAASM,CAAK,EAAE,EAEpF,SAAA,CAAAM,MAACI,EAAA,CACC,SAAAJ,EAAAA,IAACK,EAAA,CAAY,YAAY,2BAA2B,EACtD,EACAL,EAAAA,IAACM,EAAA,CACE,SAAAgK,EAAa,IAAKoB,GACjB3L,EAAAA,KAACQ,EAAA,CAAuB,MAAOmL,EAAG,GAAG,SAAA,EAClC,SAAA,CAAAA,EAAG,KAAK,KAAGA,EAAG,MAAM,GAAA,GADNA,EAAG,EAEpB,CACD,CAAA,CACH,CAAA,CAAA,CAAA,CACF,EACF,SAGD,MAAA,CACC,SAAA,CAAA1L,EAAAA,IAACC,GAAM,SAAA,QAAA,CAAM,EACbD,EAAAA,IAACE,EAAA,CACC,SAAQ,GACR,MAAOd,EAAS,KAChB,SAAWI,GAAMH,EAAY,CAAC,GAAGD,EAAU,KAAMI,EAAE,OAAO,MAAM,EAChE,YAAY,oBAAA,CAAA,CACd,EACF,SACC,MAAA,CACC,SAAA,CAAAQ,EAAAA,IAACC,GAAM,SAAA,eAAA,CAAa,EACpBD,EAAAA,IAACQ,GAAA,CACC,SAAQ,GACR,MAAOpB,EAAS,YAChB,SAAWI,GAAMH,EAAY,CAAC,GAAGD,EAAU,YAAaI,EAAE,OAAO,MAAM,EACvE,YAAY,4BACZ,KAAM,CAAA,CAAA,CACR,EACF,EACAO,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAACC,GAAM,SAAA,YAAA,CAAU,EACjBF,EAAAA,KAACI,EAAA,CACC,MAAOf,EAAS,SAChB,cAAgBM,GAAUL,EAAY,CAAC,GAAGD,EAAU,SAAUM,EAAM,EAEpE,SAAA,CAAAM,MAACI,EAAA,CACC,SAAAJ,EAAAA,IAACK,EAAA,CAAY,YAAY,kBAAkB,EAC7C,SACCC,EAAA,CAEC,SAAA,CAAAN,EAAAA,IAACO,EAAA,CAAW,MAAM,QAAQ,SAAA,QAAK,EAC/BP,EAAAA,IAACO,EAAA,CAAW,MAAM,aAAa,SAAA,aAAU,EACzCP,EAAAA,IAACO,EAAA,CAAW,MAAM,MAAM,SAAA,MAAG,EAC3BP,EAAAA,IAACO,EAAA,CAAW,MAAM,YAAY,SAAA,YAAS,EACvCP,EAAAA,IAACO,EAAA,CAAW,MAAM,QAAQ,SAAA,OAAA,CAAK,CAAA,CAAA,CACjC,CAAA,CAAA,CAAA,CACF,EACF,SACC,MAAA,CACC,SAAA,CAAAP,EAAAA,IAACC,GAAM,SAAA,SAAA,CAAO,EACdD,EAAAA,IAACE,EAAA,CACC,KAAK,SACL,KAAK,OACL,IAAI,IACJ,SAAQ,GACR,MAAOd,EAAS,MAChB,SAAWI,GAAMH,EAAY,CAAC,GAAGD,EAAU,MAAO,WAAWI,EAAE,OAAO,KAAK,GAAK,GAAG,EACnF,YAAY,MAAA,CAAA,CACd,CAAA,CACF,CAAA,EACF,EACAO,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAACC,GAAM,SAAA,MAAA,CAAI,EACXD,EAAAA,IAACE,EAAA,CACC,MAAOd,EAAS,KAChB,SAAWI,GAAMH,EAAY,CAAC,GAAGD,EAAU,KAAMI,EAAE,OAAO,MAAM,EAChE,YAAY,YAAA,CAAA,CACd,EACF,EACAO,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAC,EAAAA,IAACC,GAAM,SAAA,cAAA,CAAY,EACnBD,EAAAA,IAACwY,GAAA,CACC,QAASpZ,EAAS,aAClB,gBAAkBqZ,GAAYpZ,EAAY,CAAC,GAAGD,EAAU,aAAcqZ,CAAA,CAAQ,CAAA,CAAA,CAChF,CAAA,CACF,CAAA,EACF,EACA1Y,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAC,EAAAA,IAACC,GAAM,SAAA,UAAA,CAAQ,EACfD,EAAAA,IAACwY,GAAA,CACC,QAASpZ,EAAS,SAClB,gBAAkBqZ,GAAYpZ,EAAY,CAAC,GAAGD,EAAU,SAAUqZ,CAAA,CAAQ,CAAA,CAAA,CAC5E,EACF,SACC,MAAA,CACC,SAAA,CAAAzY,EAAAA,IAACC,GAAM,SAAA,QAAA,CAAM,EACbF,EAAAA,KAAC,MAAA,CAAI,UAAU,kBACb,SAAA,CAAAC,EAAAA,IAACE,EAAA,CACC,MAAOoa,EACP,SAAW9a,GAAM+a,EAAe/a,EAAE,OAAO,KAAK,EAC9C,YAAY,kBACZ,UAAU,QAAA,CAAA,EAEZQ,EAAAA,IAACS,GAAO,KAAK,SAAS,QAAQ,UAAU,QAAS+Z,EAAU,SAAA,KAAA,CAAG,CAAA,EAChE,EACCpb,EAAS,OAAO,OAAS,GACxBY,EAAAA,IAAC,OAAI,UAAU,4BACZ,SAAAZ,EAAS,OAAO,IAAI,CAAC8Z,EAAKP,IACzB5Y,EAAAA,KAAC,MAAA,CAAc,UAAU,WACvB,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,IAAKkZ,EAAK,IAAK,SAASP,EAAM,CAAC,GAAI,UAAU,gCAAA,CAAiC,EACnF3Y,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,QAAS,IAAMya,EAAY9B,CAAG,EAC9B,UAAU,8EACX,SAAA,GAAA,CAAA,CAED,CAAA,EARQA,CASV,CACD,CAAA,CACH,CAAA,EAEJ,EACA3Y,EAAAA,IAAC,MAAA,CAAI,UAAU,kBACb,SAAAD,EAAAA,KAACU,EAAA,CAAO,QAAS,IAAMvB,EAASE,CAAQ,EAAG,UAAU,SAClD,SAAA,CAAAoM,EAAU,SAAW,SAAS,UAAA,CAAA,CACjC,CAAA,CACF,CAAA,EACF,CAEJ,CAGA,SAAS8N,GAAe,CAAE,WAAAqB,EAAY,SAAAzb,GAAY,CAChD,KAAM,CAACE,EAAUC,CAAW,EAAIC,WAAS,CAEvC,KAAMqb,GAAY,eAAiBA,GAAY,MAAQ,GACvD,SAAUA,GAAY,UAAY,GAClC,MAAOA,GAAY,OAAS,GAC5B,SAAU,GACV,aAAcA,GAAY,cAAgB,GAC1C,YAAaA,GAAY,aAAe,CAAA,EAExC,YAAaA,GAAY,aAAe,GACxC,SAAUA,GAAY,UAAY,GAClC,KAAMA,GAAY,MAAQ,GAC1B,cAAeA,GAAY,eAAiB,GAC5C,MAAOA,GAAY,OAAS,EAAA,CAC7B,EAEKC,EAAuB,CAAC,gBAAiB,iBAAkB,aAAc,cAAe,iBAAkB,mBAAmB,EAE7HC,EAAoBxB,GAAS,CAC7Bja,EAAS,YAAY,SAASia,CAAI,EACpCha,EAAY,CAAC,GAAGD,EAAU,YAAaA,EAAS,YAAY,OAAOmF,GAAKA,IAAM8U,CAAI,CAAA,CAAE,EAEpFha,EAAY,CAAC,GAAGD,EAAU,YAAa,CAAC,GAAGA,EAAS,YAAaia,CAAI,EAAE,CAE3E,EAEA,OACEtZ,EAAAA,KAAC,MAAA,CAAI,UAAU,yCAEb,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,UAAU,qBACb,SAAAA,EAAAA,IAAC,MAAG,UAAU,8CAA8C,+BAAmB,CAAA,CACjF,EACAD,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAACC,GAAM,SAAA,iBAAA,CAAe,EACtBD,EAAAA,IAACE,EAAA,CACC,SAAQ,GACR,MAAOd,EAAS,KAChB,SAAWI,GAAMH,EAAY,CAAC,GAAGD,EAAU,KAAMI,EAAE,OAAO,MAAM,EAChE,YAAY,6BAAA,CAAA,CACd,EACF,SACC,MAAA,CACC,SAAA,CAAAQ,EAAAA,IAACC,GAAM,SAAA,YAAA,CAAU,EACjBD,EAAAA,IAACE,EAAA,CACC,SAAQ,GACR,MAAOd,EAAS,SAChB,SAAWI,GAAMH,EAAY,CAAC,GAAGD,EAAU,SAAUI,EAAE,OAAO,MAAM,EACpE,YAAY,2BAAA,CAAA,CACd,EACF,SACC,MAAA,CACC,SAAA,CAAAQ,EAAAA,IAACC,GAAM,SAAA,SAAA,CAAO,EACdD,EAAAA,IAACE,EAAA,CACC,KAAK,QACL,SAAQ,GACR,MAAOd,EAAS,MAChB,SAAWI,GAAMH,EAAY,CAAC,GAAGD,EAAU,MAAOI,EAAE,OAAO,MAAM,EACjE,YAAY,mBAAA,CAAA,CACd,CAAA,CACF,CAAA,EACF,EACAO,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAACC,EAAA,CAAO,SAAA0a,EAAa,yCAA2C,aAAa,EAC7E3a,EAAAA,IAACE,EAAA,CACC,KAAK,WACL,SAAU,CAACya,EACX,MAAOvb,EAAS,SAChB,SAAWI,GAAMH,EAAY,CAAC,GAAGD,EAAU,SAAUI,EAAE,OAAO,MAAM,EACpE,YAAY,gBAAA,CAAA,CACd,EACF,SACC,MAAA,CACC,SAAA,CAAAQ,EAAAA,IAACC,GAAM,SAAA,cAAA,CAAY,EACnBF,EAAAA,KAACI,EAAA,CACC,MAAOf,EAAS,aAChB,cAAgBM,GAAUL,EAAY,CAAC,GAAGD,EAAU,aAAcM,EAAM,EAExE,SAAA,CAAAM,MAACI,EAAA,CACC,SAAAJ,EAAAA,IAACK,EAAA,CAAY,YAAY,sBAAsB,EACjD,SACCC,EAAA,CACC,SAAA,CAAAN,EAAAA,IAACO,EAAA,CAAW,MAAM,OAAO,SAAA,OAAI,EAC7BP,EAAAA,IAACO,EAAA,CAAW,MAAM,QAAQ,SAAA,QAAK,EAC/BP,EAAAA,IAACO,EAAA,CAAW,MAAM,UAAU,SAAA,UAAO,EACnCP,EAAAA,IAACO,EAAA,CAAW,MAAM,aAAa,SAAA,YAAA,CAAU,CAAA,CAAA,CAC3C,CAAA,CAAA,CAAA,CACF,CAAA,CACF,CAAA,EACF,EAGAP,EAAAA,IAAC,OAAI,UAAU,0BACb,eAAC,KAAA,CAAG,UAAU,8CAA8C,SAAA,qBAAA,CAAmB,CAAA,CACjF,SACC,MAAA,CACC,SAAA,CAAAA,EAAAA,IAACC,GAAM,SAAA,aAAA,CAAW,EAClBD,EAAAA,IAACQ,GAAA,CACC,MAAOpB,EAAS,YAChB,SAAWI,GAAMH,EAAY,CAAC,GAAGD,EAAU,YAAaI,EAAE,OAAO,MAAM,EACvE,YAAY,6BACZ,KAAM,CAAA,CAAA,CACR,EACF,EACAO,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAACC,GAAM,SAAA,UAAA,CAAQ,EACfF,EAAAA,KAACI,EAAA,CACC,MAAOf,EAAS,SAChB,cAAgBM,GAAUL,EAAY,CAAC,GAAGD,EAAU,SAAUM,EAAM,EAEpE,SAAA,CAAAM,MAACI,EAAA,CACC,SAAAJ,EAAAA,IAACK,EAAA,CAAY,YAAY,kBAAkB,EAC7C,SACCC,EAAA,CACC,SAAA,CAAAN,EAAAA,IAACO,EAAA,CAAW,MAAM,YAAY,SAAA,YAAS,EACvCP,EAAAA,IAACO,EAAA,CAAW,MAAM,gBAAgB,SAAA,gBAAa,EAC/CP,EAAAA,IAACO,EAAA,CAAW,MAAM,OAAO,SAAA,gBAAa,EACtCP,EAAAA,IAACO,EAAA,CAAW,MAAM,gBAAgB,SAAA,gBAAa,EAC/CP,EAAAA,IAACO,EAAA,CAAW,MAAM,UAAU,SAAA,UAAO,EACnCP,EAAAA,IAACO,EAAA,CAAW,MAAM,SAAS,SAAA,kBAAe,EAC1CP,EAAAA,IAACO,EAAA,CAAW,MAAM,QAAQ,SAAA,OAAA,CAAK,CAAA,CAAA,CACjC,CAAA,CAAA,CAAA,CACF,EACF,SACC,MAAA,CACC,SAAA,CAAAP,EAAAA,IAACC,GAAM,SAAA,MAAA,CAAI,EACXD,EAAAA,IAACE,EAAA,CACC,MAAOd,EAAS,KAChB,SAAWI,GAAMH,EAAY,CAAC,GAAGD,EAAU,KAAMI,EAAE,OAAO,MAAM,EAChE,YAAY,YAAA,CAAA,CACd,CAAA,CACF,CAAA,EACF,EACAO,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAACC,GAAM,SAAA,eAAA,CAAa,EACpBD,EAAAA,IAACE,EAAA,CACC,KAAK,QACL,MAAOd,EAAS,cAChB,SAAWI,GAAMH,EAAY,CAAC,GAAGD,EAAU,cAAeI,EAAE,OAAO,MAAM,EACzE,YAAY,4BAAA,CAAA,CACd,EACF,SACC,MAAA,CACC,SAAA,CAAAQ,EAAAA,IAACC,GAAM,SAAA,OAAA,CAAK,EACZD,EAAAA,IAACE,EAAA,CACC,MAAOd,EAAS,MAChB,SAAWI,GAAMH,EAAY,CAAC,GAAGD,EAAU,MAAOI,EAAE,OAAO,MAAM,EACjE,YAAY,oBAAA,CAAA,CACd,CAAA,CACF,CAAA,EACF,EAGAQ,EAAAA,IAAC,OAAI,UAAU,0BACb,eAAC,KAAA,CAAG,UAAU,8CAA8C,SAAA,aAAA,CAAW,CAAA,CACzE,EACAA,EAAAA,IAAC,MAAA,CAAI,UAAU,uBACZ,SAAA4a,EAAqB,IAAKvB,GACzBtZ,EAAAA,KAAC,MAAA,CAAe,UAAU,8BACxB,SAAA,CAAAC,EAAAA,IAAC,QAAA,CACC,KAAK,WACL,GAAI,QAAQqZ,CAAI,GAChB,QAASja,EAAS,YAAY,SAASia,CAAI,EAC3C,SAAU,IAAMwB,EAAiBxB,CAAI,EACrC,UAAU,SAAA,CAAA,EAEZrZ,EAAAA,IAACC,GAAM,QAAS,QAAQoZ,CAAI,GAAI,UAAU,qCACvC,SAAAA,CAAA,CACH,CAAA,GAVQA,CAWV,CACD,EACH,QACC,MAAA,CAAI,UAAU,kBACb,SAAAtZ,OAACU,EAAA,CAAO,QAAS,IAAM,CACrB,MAAMX,EAAa,CAAC,GAAGV,CAAA,EAEnBub,GAAc,CAAC7a,EAAW,UAC5B,OAAOA,EAAW,SAEpBZ,EAASY,CAAU,CACrB,EAAG,UAAU,SACV,SAAA,CAAA6a,EAAa,SAAW,SAAS,cAAA,CAAA,CACpC,CAAA,CACF,CAAA,EACF,CAEJ,CAGA,SAASnB,GAAgB,CAAE,KAAA7N,EAAM,SAAAzM,GAAY,CAC3C,KAAM,CAACE,EAAUC,CAAW,EAAIC,WAAS,CACvC,KAAMqM,GAAM,MAAQ,GACpB,YAAaA,GAAM,aAAe,GAClC,MAAOA,GAAM,OAAS,GACtB,MAAOA,GAAM,OAAS,EAAA,CACvB,EAED,OACE5L,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAACC,GAAM,SAAA,QAAA,CAAM,EACbD,EAAAA,IAACE,EAAA,CACC,SAAQ,GACR,MAAOd,EAAS,KAChB,SAAWI,GAAMH,EAAY,CAAC,GAAGD,EAAU,KAAMI,EAAE,OAAO,MAAM,EAChE,YAAY,iBAAA,CAAA,CACd,EACF,SACC,MAAA,CACC,SAAA,CAAAQ,EAAAA,IAACC,GAAM,SAAA,aAAA,CAAW,EAClBD,EAAAA,IAACQ,GAAA,CACC,MAAOpB,EAAS,YAChB,SAAWI,GAAMH,EAAY,CAAC,GAAGD,EAAU,YAAaI,EAAE,OAAO,MAAM,EACvE,YAAY,yBACZ,KAAM,CAAA,CAAA,CACR,EACF,SACC,MAAA,CACC,SAAA,CAAAQ,EAAAA,IAACC,GAAM,SAAA,SAAA,CAAO,EACdD,EAAAA,IAACE,EAAA,CACC,KAAK,SACL,KAAK,OACL,IAAI,IACJ,SAAQ,GACR,MAAOd,EAAS,MAChB,SAAWI,GAAMH,EAAY,CAAC,GAAGD,EAAU,MAAO,WAAWI,EAAE,OAAO,KAAK,GAAK,GAAG,EACnF,YAAY,MAAA,CAAA,CACd,EACF,SACC,MAAA,CACC,SAAA,CAAAQ,EAAAA,IAACC,GAAM,SAAA,WAAA,CAAS,EAChBD,EAAAA,IAACE,EAAA,CACC,MAAOd,EAAS,MAChB,SAAWI,GAAMH,EAAY,CAAC,GAAGD,EAAU,MAAOI,EAAE,OAAO,MAAM,EACjE,YAAY,iBAAA,CAAA,EAEbJ,EAAS,OACRY,MAAC,MAAA,CAAI,IAAKZ,EAAS,MAAO,IAAI,UAAU,UAAU,qCAAA,CAAsC,CAAA,EAE5F,EACAY,EAAAA,IAAC,MAAA,CAAI,UAAU,kBACb,SAAAD,EAAAA,KAACU,EAAA,CAAO,QAAS,IAAMvB,EAASE,CAAQ,EAAG,UAAU,SAClD,SAAA,CAAAuM,EAAO,SAAW,SAAS,OAAA,CAAA,CAC9B,CAAA,CACF,CAAA,EACF,CAEJ,CAGA,SAAS4N,GAAyB,CAAE,aAAAuB,EAAc,eAAAC,EAAgB,SAAA7b,GAAY,CAC5E,KAAM,CAACE,EAAUC,CAAW,EAAIC,WAAS,CACvC,KAAM,GACN,YAAa,GACb,SAAU,GACV,MAAO,GACP,SAAU,GACV,OAAQ,CAAA,EACR,KAAM,GACN,aAAc,EAAA,CACf,EAEK,CAACgb,EAAaC,CAAc,EAAIjb,EAAAA,SAAS,EAAE,EAE3Ckb,EAAW,IAAM,CACjBF,EAAY,SACdjb,EAAY,CAAC,GAAGD,EAAU,OAAQ,CAAC,GAAGA,EAAS,OAAQkb,EAAY,KAAA,CAAM,EAAE,EAC3EC,EAAe,EAAE,EAErB,EAEME,EAAeC,GAAU,CAC7Brb,EAAY,CAAC,GAAGD,EAAU,OAAQA,EAAS,OAAO,OAAO,CAACyM,EAAGC,IAAMA,IAAM4O,CAAK,EAAE,CAClF,EAEA,OACE3a,EAAAA,KAAC,MAAA,CAAI,UAAU,yCAEb,SAAA,CAAAC,EAAAA,IAAC,OAAI,UAAU,4FACb,SAAAD,EAAAA,KAAC,IAAA,CAAE,UAAU,2CACX,SAAA,CAAAC,EAAAA,IAAC,UAAO,SAAA,QAAA,CAAM,EAAS,IAAE+a,EAAe,SAAOD,EAAa,GAAA,CAAA,CAC9D,CAAA,CACF,SAEC,MAAA,CACC,SAAA,CAAA9a,EAAAA,IAACC,GAAM,SAAA,gBAAA,CAAc,EACrBD,EAAAA,IAACE,EAAA,CACC,SAAQ,GACR,MAAOd,EAAS,KAChB,SAAWI,GAAMH,EAAY,CAAC,GAAGD,EAAU,KAAMI,EAAE,OAAO,MAAM,EAChE,YAAY,oBAAA,CAAA,CACd,EACF,SACC,MAAA,CACC,SAAA,CAAAQ,EAAAA,IAACC,GAAM,SAAA,eAAA,CAAa,EACpBD,EAAAA,IAACQ,GAAA,CACC,SAAQ,GACR,MAAOpB,EAAS,YAChB,SAAWI,GAAMH,EAAY,CAAC,GAAGD,EAAU,YAAaI,EAAE,OAAO,MAAM,EACvE,YAAY,4BACZ,KAAM,CAAA,CAAA,CACR,EACF,EACAO,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAACC,GAAM,SAAA,YAAA,CAAU,EACjBF,EAAAA,KAACI,EAAA,CACC,MAAOf,EAAS,SAChB,cAAgBM,GAAUL,EAAY,CAAC,GAAGD,EAAU,SAAUM,EAAM,EAEpE,SAAA,CAAAM,MAACI,EAAA,CACC,SAAAJ,EAAAA,IAACK,EAAA,CAAY,YAAY,kBAAkB,EAC7C,SACCC,EAAA,CAEC,SAAA,CAAAN,EAAAA,IAACO,EAAA,CAAW,MAAM,QAAQ,SAAA,QAAK,EAC/BP,EAAAA,IAACO,EAAA,CAAW,MAAM,aAAa,SAAA,aAAU,EACzCP,EAAAA,IAACO,EAAA,CAAW,MAAM,MAAM,SAAA,MAAG,EAC3BP,EAAAA,IAACO,EAAA,CAAW,MAAM,YAAY,SAAA,YAAS,EACvCP,EAAAA,IAACO,EAAA,CAAW,MAAM,QAAQ,SAAA,OAAA,CAAK,CAAA,CAAA,CACjC,CAAA,CAAA,CAAA,CACF,EACF,SACC,MAAA,CACC,SAAA,CAAAP,EAAAA,IAACC,GAAM,SAAA,SAAA,CAAO,EACdD,EAAAA,IAACE,EAAA,CACC,KAAK,SACL,KAAK,OACL,IAAI,IACJ,SAAQ,GACR,MAAOd,EAAS,MAChB,SAAWI,GAAMH,EAAY,CAAC,GAAGD,EAAU,MAAO,WAAWI,EAAE,OAAO,KAAK,GAAK,GAAG,EACnF,YAAY,MAAA,CAAA,CACd,CAAA,CACF,CAAA,EACF,EACAO,EAAAA,KAAC,MAAA,CAAI,UAAU,yBACb,SAAA,CAAAA,OAAC,MAAA,CACC,SAAA,CAAAC,EAAAA,IAACC,GAAM,SAAA,MAAA,CAAI,EACXD,EAAAA,IAACE,EAAA,CACC,MAAOd,EAAS,KAChB,SAAWI,GAAMH,EAAY,CAAC,GAAGD,EAAU,KAAMI,EAAE,OAAO,MAAM,EAChE,YAAY,YAAA,CAAA,CACd,EACF,EACAO,EAAAA,KAAC,MAAA,CAAI,UAAU,yCACb,SAAA,CAAAC,EAAAA,IAACC,GAAM,SAAA,cAAA,CAAY,EACnBD,EAAAA,IAACwY,GAAA,CACC,QAASpZ,EAAS,aAClB,gBAAkBqZ,GAAYpZ,EAAY,CAAC,GAAGD,EAAU,aAAcqZ,CAAA,CAAQ,CAAA,CAAA,CAChF,CAAA,CACF,CAAA,EACF,EACA1Y,EAAAA,KAAC,MAAA,CAAI,UAAU,oCACb,SAAA,CAAAC,EAAAA,IAACC,GAAM,SAAA,UAAA,CAAQ,EACfD,EAAAA,IAACwY,GAAA,CACC,QAASpZ,EAAS,SAClB,gBAAkBqZ,GAAYpZ,EAAY,CAAC,GAAGD,EAAU,SAAUqZ,CAAA,CAAQ,CAAA,CAAA,CAC5E,EACF,SACC,MAAA,CACC,SAAA,CAAAzY,EAAAA,IAACC,GAAM,SAAA,QAAA,CAAM,EACbF,EAAAA,KAAC,MAAA,CAAI,UAAU,kBACb,SAAA,CAAAC,EAAAA,IAACE,EAAA,CACC,MAAOoa,EACP,SAAW9a,GAAM+a,EAAe/a,EAAE,OAAO,KAAK,EAC9C,YAAY,kBACZ,UAAU,QAAA,CAAA,EAEZQ,EAAAA,IAACS,GAAO,KAAK,SAAS,QAAQ,UAAU,QAAS+Z,EAAU,SAAA,KAAA,CAAG,CAAA,EAChE,EACCpb,EAAS,OAAO,OAAS,GACxBY,EAAAA,IAAC,OAAI,UAAU,4BACZ,SAAAZ,EAAS,OAAO,IAAI,CAAC8Z,EAAKP,IACzB5Y,EAAAA,KAAC,MAAA,CAAc,UAAU,WACvB,SAAA,CAAAC,EAAAA,IAAC,MAAA,CAAI,IAAKkZ,EAAK,IAAK,SAASP,EAAM,CAAC,GAAI,UAAU,gCAAA,CAAiC,EACnF3Y,EAAAA,IAAC,SAAA,CACC,KAAK,SACL,QAAS,IAAMya,EAAY9B,CAAG,EAC9B,UAAU,8EACX,SAAA,GAAA,CAAA,CAED,CAAA,EARQA,CASV,CACD,CAAA,CACH,CAAA,EAEJ,EACA3Y,EAAAA,IAAC,MAAA,CAAI,UAAU,kBACb,eAACS,EAAA,CAAO,QAAS,IAAMvB,EAASE,CAAQ,EAAG,UAAU,SAAS,0BAE9D,CAAA,CACF,CAAA,EACF,CAEJ","x_google_ignoreList":[0]}