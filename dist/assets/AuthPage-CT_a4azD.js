import{c as He,r as t,j as e,B as m,a as Je,P as je,U as Ne,t as r,b as ae}from"./index-DbvXYXc0.js";import{c as Ke,s as Ye,g as Ge,a as Qe,v as Xe}from"./countries-MbDrB5Lp.js";import{I as h}from"./input-Bf8YvsU0.js";import{L as d}from"./label-DMFTECDG.js";import{C as ke,b as Ce,c as Ae,d as Pe,a as _e}from"./card-6tZ6FSP9.js";import{T as Ze,a as es,b as Re,c as Se}from"./tabs-C3_ONro2.js";import"./select-895Ag1Vf.js";import{A as re}from"./arrow-left-Bfp2vJNH.js";import{R as b}from"./refresh-cw-BkItMj0z.js";import{L as A}from"./lock-zaoQmYbf.js";import{S as V}from"./sparkles-CRNvqBwr.js";import"./index-UZKPKpE4.js";import"./index-B1ZSOLeI.js";import"./index-CB20-cGd.js";import"./index-9AnY3iUi.js";import"./index-DE3TGyh9.js";import"./Combination-B6rQ859v.js";import"./index-DXYwaiuf.js";import"./index-D66kppzp.js";import"./index-ddclwrTJ.js";import"./index-P5EQzgSd.js";import"./check-nqnuVgMJ.js";const ss=g=>g.replace(/\D/g,""),te=({countries:g,iso2:z,setIso2:P,phone:i,setPhone:c,disabledPhone:_})=>e.jsxs("div",{className:"flex gap-2 w-full",children:[e.jsx("select",{value:z,onChange:f=>P(f.target.value),className:"w-[100px] sm:w-[120px] shrink-0 bg-white dark:bg-gray-800 text-gray-900 dark:text-white p-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm focus:ring-2 focus:ring-[#007A76] focus:border-transparent transition-all",disabled:_,children:g.map(f=>e.jsxs("option",{value:f.iso2,children:[f.iso2," (",f.dialCode,")"]},f.iso2))}),e.jsx("input",{type:"tel",inputMode:"numeric",value:i,onChange:f=>c(ss(f.target.value)),placeholder:"70123456",className:"flex-1 px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-gray-900 dark:text-white bg-white dark:bg-gray-800 text-sm focus:ring-2 focus:ring-[#007A76] focus:border-transparent transition-all",disabled:_})]});function ks(){const g=He(),[z,P]=t.useState("login"),[i,c]=t.useState(!1),[_,f]=t.useState(!1),j=t.useMemo(()=>Ke.map(a=>({name:a.name,iso2:a.iso2,dialCode:a.dialCode.startsWith("+")?a.dialCode:`+${a.dialCode}`})).sort((a,s)=>a.name.localeCompare(s.name)),[]),Ee=t.useMemo(()=>{const a=new Map;for(const s of j)a.set(s.iso2,s.dialCode);return a},[j]),v=a=>Ee.get(a)||"+961",[U,Oe]=t.useState(""),[oe,Te]=t.useState("LB"),[W,Le]=t.useState(""),ne=async()=>{const a=`${v(oe)}${U.replace(/^0+/,"")}`;if(!U||!W)return r.error("Please fill all fields");if(!/^\+\d{8,15}$/.test(a))return r.error("Invalid phone number.");try{c(!0);const s=await ae.post("/auth/login",{phone_number:a,password:W});if(localStorage.setItem("authToken",s.data.token),localStorage.setItem("token",s.data.token),localStorage.setItem("user",JSON.stringify(s.data.user)),r.success("Login successful!"),!s.data.user.profile_complete){g("/Complete-Profile");return}s.data.user.role==="agency"||s.data.user.role==="agency"?g("/Dashboard"):g("/")}catch(s){r.error(s.response?.data?.message||"Login failed.")}finally{c(!1)}},[N,q]=t.useState(""),[R,De]=t.useState("LB"),[H,J]=t.useState(!1),[k,K]=t.useState(""),[Ie,S]=t.useState(!1),[le,E]=t.useState(!1),[O,T]=t.useState(0),[o,y]=t.useState({username:"",first_name:"",last_name:"",license_number:"",password:"",password_confirmation:"",role:"client",business_type:""}),[w,p]=t.useState({username:!1,first_name:!1,last_name:!1,license_number:!1,password:!1,password_confirmation:!1,role:!1,business_type:!1,terms:!1}),[ie,de]=t.useState(!1),ce=t.useRef(null),me=t.useRef(null),fe=t.useRef(null),ue=t.useRef(null),he=t.useRef(null),ge=t.useRef(null),xe=t.useRef(null);t.useEffect(()=>{let a;return O>0&&(a=setInterval(()=>{T(s=>s<=1?(E(!0),0):s-1)},1e3)),()=>clearInterval(a)},[O]);const $e=()=>{q(""),J(!1),K(""),S(!1),E(!1),T(0),de(!1),y({username:"",first_name:"",last_name:"",license_number:"",password:"",password_confirmation:"",role:"client",business_type:""}),p({username:!1,first_name:!1,last_name:!1,license_number:!1,password:!1,password_confirmation:!1,role:!1,business_type:!1,terms:!1})},Fe=()=>{J(!1),K(""),S(!1),E(!1),T(0),q("")},pe=async()=>{if(!N)return r.error("Please enter a phone number.");const a=`${v(R)}${N.replace(/^0+/,"")}`;if(!/^\+\d{8,15}$/.test(a))return r.error("Please enter a valid phone number with country code.");try{c(!0);const s=Ge(),n=await Qe(a,s);n.message&&r.success(n.message),n.warning&&r.warning(n.warning),J(!0),E(!1),T(60)}catch(s){if(s.response?.status===429){const n=s.response?.headers?.["retry-after"],l=n?parseInt(n,10):60;!Number.isNaN(l)&&l>0?r.error(`Too many attempts. Try again in ${l} second${l!==1?"s":""}.`):r.error("Too many attempts. Try again in a minute.")}else if(s.response?.status===422&&s.response?.data?.errors){const n=s.response.data.errors;Object.keys(n).forEach(l=>{(n[l]||[]).forEach(u=>r.error(u))})}else s.response?.data?.error?r.error(s.response.data.error):r.error(s.response?.data?.message||"Failed to send OTP. Please try again.")}finally{c(!1)}},Be=async()=>{le&&await pe()},Me=async()=>{if(!k)return r.error("Please enter the OTP code.");if(k.length!==6)return r.error("OTP code must be 6 digits.");const a=`${v(R)}${N.replace(/^0+/,"")}`;try{c(!0);const s=await Xe(a,k);s.message?r.success(s.message):r.success("OTP verified! Complete your registration."),S(!0)}catch(s){s.response?.data?.error?r.error(s.response.data.error):r.error(s.response?.data?.message||"Invalid or expired OTP.")}finally{c(!1)}},Ve=async()=>{let a=!1;const s={username:!1,first_name:!1,last_name:!1,license_number:!1,password:!1,password_confirmation:!1,role:!1,business_type:!1,terms:!1};if(o.username.trim()||(s.username=!0,a=!0),o.first_name.trim()||(s.first_name=!0,a=!0),o.last_name.trim()||(s.last_name=!0,a=!0),o.role==="client"&&!o.license_number.trim()&&(s.license_number=!0,a=!0),o.password||(s.password=!0,a=!0),o.password!==o.password_confirmation&&(s.password=!0,s.password_confirmation=!0,a=!0),o.password.length<6&&(s.password=!0,a=!0),o.password_confirmation||(s.password_confirmation=!0,a=!0),ie||(s.terms=!0,a=!0),a){p(s);const l=["username","first_name","last_name","license_number","password","password_confirmation","terms"],u={username:ce,first_name:me,last_name:fe,license_number:ue,password:he,password_confirmation:ge,terms:xe},x=l.find(ve=>s[ve]);if(x){const M=u[x]?.current;M&&(typeof M.focus=="function"&&M.focus(),M.scrollIntoView({behavior:"smooth",block:"center"}))}r.error("Please fill in the required fields highlighted in red.");return}const n=`${v(R)}${N.replace(/^0+/,"")}`;try{c(!0);const u={phone_number:n.replace(/^\+/,""),otp_code:k,...o,role:"client"},x=await ae.post("/auth/register",u);localStorage.setItem("authToken",x.data.token),localStorage.setItem("token",x.data.token),localStorage.setItem("user",JSON.stringify(x.data.user)),r.success("Registration successful! Please complete your profile."),g("/Complete-Profile")}catch(l){l.response?.data?.errors?Object.keys(l.response.data.errors).forEach(u=>{l.response.data.errors[u].forEach(x=>r.error(x))}):r.error(l.response?.data?.message||"Registration failed.")}finally{c(!1)}},[L,Y]=t.useState(""),[G,ze]=t.useState("LB"),[Q,X]=t.useState(!1),[D,Z]=t.useState(""),[C,ee]=t.useState(""),[I,se]=t.useState(""),[be,$]=t.useState(!1),[F,B]=t.useState(0);t.useEffect(()=>{let a;return F>0&&(a=setInterval(()=>{B(s=>s<=1?($(!0),0):s-1)},1e3)),()=>clearInterval(a)},[F]);const ye=()=>{f(!1),Y(""),X(!1),Z(""),ee(""),se(""),$(!1),B(0)},Ue=()=>{Y(""),X(!1),Z(""),ee(""),se(""),$(!1),B(0)},we=async()=>{if(!L)return r.error("Please enter your phone number.");const a=`${v(G)}${L.replace(/^0+/,"")}`;if(!/^\+\d{8,15}$/.test(a))return r.error("Please enter a valid phone number with country code.");try{c(!0);const s=await Ye(a);s.message&&r.success(s.message),s.warning&&r.warning(s.warning),X(!0),$(!1),B(60)}catch(s){if(s.response?.status===429)r.error("Too many requests. Please try again in a minute.");else if(s.response?.data?.error)r.error(s.response.data.error);else if(s.response?.data?.errors){const n=s.response.data.errors;Object.keys(n).forEach(l=>{n[l].forEach(u=>r.error(u))})}else r.error(s.response?.data?.message||"Failed to send OTP.")}finally{c(!1)}},We=async()=>{be&&await we()},qe=async()=>{if(!D)return r.error("Please enter the OTP code.");if(D.length!==6)return r.error("OTP code must be 6 digits.");if(!C||!I)return r.error("Please enter your new password.");if(C!==I)return r.error("Passwords do not match!");if(C.length<6)return r.error("Password must be at least 6 characters long.");const a=`${v(G)}${L.replace(/^0+/,"")}`,s=a.trim().startsWith("+")?a:`+${a}`;try{c(!0);const n=await ae.post("/auth/reset-password",{phone_number:s,otp_code:D,new_password:C,new_password_confirmation:I});r.success(n.data?.message||"Password reset successfully! You can now login."),ye(),P("login")}catch(n){if(n.response?.data?.error)r.error(n.response.data.error);else if(n.response?.data?.errors){const l=n.response.data.errors;Object.keys(l).forEach(u=>{l[u].forEach(x=>r.error(x))})}else r.error(n.response?.data?.message||"Failed to reset password.")}finally{c(!1)}};return _?e.jsxs("div",{className:"min-h-screen flex items-center justify-center px-4 py-8 bg-gradient-to-br from-gray-50 via-white to-[#8EDC81]/10 dark:from-gray-950 dark:via-gray-900 dark:to-gray-800 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-[#1e5f7a]/10 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-[#007A76]/10 rounded-full blur-3xl animate-pulse animation-delay-700"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 w-96 h-96 bg-[#8EDC81]/10 rounded-full blur-3xl animate-pulse animation-delay-1400"})]}),e.jsxs("div",{className:"w-full max-w-md relative z-10 animate-fade-in-up",children:[e.jsxs(m,{variant:"ghost",onClick:ye,className:"mb-6 hover:bg-[#007A76]/10 transition-all hover:scale-105",children:[e.jsx(re,{className:"w-4 h-4 mr-2"}),"Back to Login"]}),e.jsxs("div",{className:"flex flex-col items-center mb-8 animate-fade-in",children:[e.jsx("div",{className:"w-20 h-20 rounded-2xl bg-gradient-to-br from-[#1e5f7a] via-[#007A76] to-[#8EDC81] flex items-center justify-center shadow-xl shadow-[#007A76]/30 mb-4 animate-float",children:e.jsx(Je,{className:"w-10 h-10 text-white"})}),e.jsx("h1",{className:"text-4xl font-black bg-gradient-to-r from-[#1e5f7a] via-[#007A76] to-[#8EDC81] bg-clip-text text-transparent",children:"Rento LB"}),e.jsx("p",{className:"text-gray-600 dark:text-gray-400 mt-2 font-medium",children:"Reset Your Password"})]}),e.jsxs(ke,{className:"border-2 border-gray-200 dark:border-gray-700 hover:border-[#007A76] transition-all duration-500 hover:shadow-2xl hover:shadow-[#007A76]/20 bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm",children:[e.jsxs(Ce,{children:[e.jsx(Ae,{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Reset Password"}),e.jsx(Pe,{children:"Enter your phone number to receive an OTP"})]}),e.jsx(_e,{children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Phone Number"}),e.jsx(te,{countries:j,iso2:G,setIso2:ze,phone:L,setPhone:Y,disabledPhone:!1}),Q&&e.jsx(m,{type:"button",variant:"link",size:"sm",onClick:Ue,className:"px-0 text-[#007A76] hover:text-[#8EDC81] transition-colors",children:"Change number"})]}),Q&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"space-y-2 animate-fade-in-up",children:[e.jsx(d,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"OTP Code"}),e.jsx(h,{type:"text",inputMode:"numeric",value:D,onChange:a=>{const s=a.target.value.replace(/\D/g,"");s.length<=6&&Z(s)},placeholder:"Enter 6-digit OTP",maxLength:6,className:"border-2 border-gray-300 dark:border-gray-600 focus:border-[#007A76] focus:ring-2 focus:ring-[#007A76]/20 transition-all"}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Check your phone"}),F>0?e.jsxs("p",{className:"text-xs text-[#007A76] font-semibold",children:["Resend in ",F,"s"]}):e.jsxs(m,{type:"button",variant:"link",size:"sm",onClick:We,disabled:!be||i,className:"h-auto p-0 text-xs text-[#007A76] hover:text-[#8EDC81] transition-colors",children:[e.jsx(b,{className:"w-3 h-3 mr-1"}),"Resend OTP"]})]})]}),e.jsxs("div",{className:"space-y-2 animate-fade-in-up animation-delay-200",children:[e.jsx(d,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(h,{type:"password",value:C,onChange:a=>ee(a.target.value),className:"pl-10 border-2 border-gray-300 dark:border-gray-600 focus:border-[#007A76] focus:ring-2 focus:ring-[#007A76]/20 transition-all",minLength:6,placeholder:"At least 6 characters"})]})]}),e.jsxs("div",{className:"space-y-2 animate-fade-in-up animation-delay-300",children:[e.jsx(d,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Confirm New Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(h,{type:"password",value:I,onChange:a=>se(a.target.value),className:"pl-10 border-2 border-gray-300 dark:border-gray-600 focus:border-[#007A76] focus:ring-2 focus:ring-[#007A76]/20 transition-all",placeholder:"Re-enter password"})]})]})]}),Q?e.jsx(m,{onClick:qe,className:"w-full bg-gradient-to-r from-[#1e5f7a] via-[#007A76] to-[#8EDC81] hover:from-[#184a5e] hover:via-[#008c88] hover:to-[#7bc876] text-white font-bold py-6 rounded-xl shadow-lg shadow-[#007A76]/30 hover:shadow-xl hover:shadow-[#007A76]/40 transition-all duration-300 hover:scale-105",disabled:i,children:i?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(b,{className:"w-4 h-4 animate-spin"}),"Resetting..."]}):"Reset Password"}):e.jsx(m,{onClick:we,className:"w-full bg-gradient-to-r from-[#1e5f7a] via-[#007A76] to-[#8EDC81] hover:from-[#184a5e] hover:via-[#008c88] hover:to-[#7bc876] text-white font-bold py-6 rounded-xl shadow-lg shadow-[#007A76]/30 hover:shadow-xl hover:shadow-[#007A76]/40 transition-all duration-300 hover:scale-105",disabled:i,children:i?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(b,{className:"w-4 h-4 animate-spin"}),"Sending..."]}):"Send OTP"})]})})]})]})]}):e.jsxs("div",{className:"min-h-screen flex items-center justify-center px-4 py-8 bg-gradient-to-br from-gray-50 via-white to-[#8EDC81]/10 dark:from-gray-950 dark:via-gray-900 dark:to-gray-800 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-[#1e5f7a]/10 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-[#007A76]/10 rounded-full blur-3xl animate-pulse animation-delay-700"}),e.jsx("div",{className:"absolute top-1/2 left-1/2 w-96 h-96 bg-[#8EDC81]/10 rounded-full blur-3xl animate-pulse animation-delay-1400"}),e.jsx("div",{className:"absolute top-[10%] left-[15%] w-3 h-3 bg-[#007A76] rounded-full animate-float animation-delay-500 opacity-20"}),e.jsx("div",{className:"absolute top-[60%] left-[80%] w-4 h-4 bg-[#8EDC81] rounded-full animate-float animation-delay-1000 opacity-20"}),e.jsx("div",{className:"absolute top-[80%] left-[20%] w-2 h-2 bg-[#1e5f7a] rounded-full animate-float animation-delay-1500 opacity-20"}),e.jsx("div",{className:"absolute top-[30%] left-[70%] w-3 h-3 bg-[#007A76] rounded-full animate-float animation-delay-2000 opacity-20"})]}),e.jsxs("div",{className:"w-full max-w-md relative z-10 animate-fade-in-up",children:[e.jsxs(m,{variant:"ghost",onClick:()=>g("/"),className:"mb-6 hover:bg-[#007A76]/10 transition-all hover:scale-105 group",children:[e.jsx(re,{className:"w-4 h-4 mr-2 group-hover:-translate-x-1 transition-transform"}),"Back to Home"]}),e.jsxs("div",{className:"flex flex-col items-center mb-8 animate-fade-in",children:[e.jsx("div",{className:"w-24 h-24 rounded-2xl flex items-center justify-center mb-4 animate-float hover:scale-110 transition-transform duration-300 cursor-pointer shadow-md shadow-gray-400/20",children:e.jsx("img",{src:"/rentologo.png",alt:"Rento LB Logo",width:"96",height:"96",className:"w-24 h-24 object-contain"})}),e.jsx("h1",{className:"text-4xl font-black bg-gradient-to-r from-[#1e5f7a] via-[#007A76] to-[#8EDC81] bg-clip-text text-transparent mb-2",children:"Rento LB"}),e.jsxs("p",{className:"text-gray-600 dark:text-gray-400 font-medium flex items-center gap-2",children:[e.jsx(V,{className:"w-4 h-4 text-[#007A76]"}),"Lebanon's Premier Car Rental",e.jsx(V,{className:"w-4 h-4 text-[#8EDC81]"})]})]}),e.jsxs(ke,{className:"border-2 border-gray-200 dark:border-gray-700 hover:border-[#007A76] transition-all duration-500 hover:shadow-2xl hover:shadow-[#007A76]/20 bg-white/95 dark:bg-gray-800/95 backdrop-blur-sm",children:[e.jsxs(Ce,{className:"text-center",children:[e.jsx(Ae,{className:"text-3xl font-black text-gray-900 dark:text-white",children:"Welcome Back"}),e.jsx(Pe,{className:"text-base",children:"Login or register to access your account"})]}),e.jsxs(_e,{children:[e.jsxs(Ze,{value:z,onValueChange:a=>{P(a),a==="register"&&$e()},className:"w-full",children:[e.jsxs(es,{className:"grid w-full grid-cols-2 mb-6 bg-gray-100 dark:bg-gray-700 p-1 rounded-xl",children:[e.jsx(Re,{value:"login",className:"rounded-lg data-[state=active]:bg-gradient-to-r data-[state=active]:from-[#1e5f7a] data-[state=active]:via-[#007A76] data-[state=active]:to-[#8EDC81] data-[state=active]:text-white font-semibold transition-all",children:"Login"}),e.jsx(Re,{value:"register",className:"rounded-lg data-[state=active]:bg-gradient-to-r data-[state=active]:from-[#1e5f7a] data-[state=active]:via-[#007A76] data-[state=active]:to-[#8EDC81] data-[state=active]:text-white font-semibold transition-all",children:"Register"})]}),e.jsx(Se,{value:"login",className:"animate-fade-in",children:e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(d,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[e.jsx(je,{className:"w-4 h-4 text-[#007A76]"}),"Phone Number"]}),e.jsx(te,{countries:j,iso2:oe,setIso2:Te,phone:U,setPhone:Oe,disabledPhone:!1})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(d,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[e.jsx(A,{className:"w-4 h-4 text-[#007A76]"}),"Password"]}),e.jsxs("div",{className:"relative",children:[e.jsx(A,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(h,{type:"password",value:W,onChange:a=>Le(a.target.value),className:"pl-10 border-2 border-gray-300 dark:border-gray-600 focus:border-[#007A76] focus:ring-2 focus:ring-[#007A76]/20 transition-all",placeholder:"Enter your password",onKeyPress:a=>a.key==="Enter"&&ne()})]})]}),e.jsx(m,{type:"button",variant:"link",className:"w-full text-sm p-0 h-auto text-[#007A76] hover:text-[#8EDC81] font-semibold transition-colors",onClick:()=>f(!0),children:"Forgot Password?"}),e.jsx(m,{onClick:ne,disabled:i,className:"w-full bg-gradient-to-r from-[#1e5f7a] via-[#007A76] to-[#8EDC81] hover:from-[#184a5e] hover:via-[#008c88] hover:to-[#7bc876] text-white font-bold py-6 rounded-xl shadow-lg shadow-[#007A76]/30 hover:shadow-xl hover:shadow-[#007A76]/40 transition-all duration-300 hover:scale-105 group",children:i?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(b,{className:"w-5 h-5 animate-spin"}),"Logging in..."]}):e.jsxs("span",{className:"flex items-center gap-2",children:["Login",e.jsx(re,{className:"w-5 h-5 rotate-180 group-hover:translate-x-1 transition-transform"})]})})]})}),e.jsx(Se,{value:"register",className:"animate-fade-in",children:Ie?e.jsxs("div",{className:"space-y-5 animate-fade-in",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(d,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[e.jsx(Ne,{className:"w-4 h-4 text-[#007A76]"}),"Username"]}),e.jsxs("div",{className:"relative",children:[e.jsx(Ne,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(h,{type:"text",ref:ce,value:o.username,onChange:a=>{y({...o,username:a.target.value}),p(s=>({...s,username:!1}))},className:`pl-10 border-2 ${w.username?"border-red-500":"border-gray-300 dark:border-gray-600"} focus:border-[#007A76] focus:ring-2 focus:ring-[#007A76]/20 transition-all`,placeholder:"Choose a username"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"First Name"}),e.jsx(h,{type:"text",ref:me,value:o.first_name,onChange:a=>{y({...o,first_name:a.target.value}),p(s=>({...s,first_name:!1}))},className:`border-2 ${w.first_name?"border-red-500":"border-gray-300 dark:border-gray-600"} focus:border-[#007A76] focus:ring-2 focus:ring-[#007A76]/20 transition-all`,placeholder:"First name"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Last Name"}),e.jsx(h,{type:"text",ref:fe,value:o.last_name,onChange:a=>{y({...o,last_name:a.target.value}),p(s=>({...s,last_name:!1}))},className:`border-2 ${w.last_name?"border-red-500":"border-gray-300 dark:border-gray-600"} focus:border-[#007A76] focus:ring-2 focus:ring-[#007A76]/20 transition-all`,placeholder:"Last name"})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Driver's License Number"}),e.jsx(h,{type:"text",ref:ue,value:o.license_number,onChange:a=>{y({...o,license_number:a.target.value}),p(s=>({...s,license_number:!1}))},className:`border-2 ${w.license_number?"border-red-500":"border-gray-300 dark:border-gray-600"} focus:border-[#007A76] focus:ring-2 focus:ring-[#007A76]/20 transition-all`,placeholder:"License number"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs(d,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[e.jsx(A,{className:"w-4 h-4 text-[#007A76]"}),"Password"]}),e.jsx(h,{type:"password",ref:he,value:o.password,onChange:a=>{y({...o,password:a.target.value}),p(s=>({...s,password:!1}))},minLength:6,className:`border-2 ${w.password?"border-red-500":"border-gray-300 dark:border-gray-600"} focus:border-[#007A76] focus:ring-2 focus:ring-[#007A76]/20 transition-all`,placeholder:"At least 6 characters"}),e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Minimum 6 characters"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(d,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"Confirm Password"}),e.jsx(h,{type:"password",ref:ge,value:o.password_confirmation,onChange:a=>{y({...o,password_confirmation:a.target.value}),p(s=>({...s,password_confirmation:!1}))},className:`border-2 ${w.password_confirmation?"border-red-500":"border-gray-300 dark:border-gray-600"} focus:border-[#007A76] focus:ring-2 focus:ring-[#007A76]/20 transition-all`,placeholder:"Re-enter password"})]}),e.jsxs("div",{className:"flex items-start gap-2",children:[e.jsx("input",{type:"checkbox",id:"terms-accept",ref:xe,checked:ie,onChange:a=>{de(a.target.checked),p(s=>({...s,terms:!1}))},className:`mt-1 h-4 w-4 rounded ${w.terms?"border-red-500":"border-gray-300"} text-[#007A76] focus:ring-[#007A76]`}),e.jsxs(d,{htmlFor:"terms-accept",className:"text-sm text-gray-600 dark:text-gray-400 cursor-pointer leading-tight",children:["I accept the"," ",e.jsx("a",{href:"/Terms-and-Conditions",target:"_blank",rel:"noopener noreferrer",className:"text-[#007A76] hover:underline font-medium",children:"Terms of Use"})," ","and"," ",e.jsx("a",{href:"/Privacy-Policy",target:"_blank",rel:"noopener noreferrer",className:"text-[#007A76] hover:underline font-medium",children:"Privacy Policy"}),e.jsx("span",{className:"text-red-500",children:" *"})]})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(m,{variant:"outline",onClick:()=>S(!1),className:"w-1/3 border-2 border-gray-300 hover:border-[#007A76] hover:bg-[#007A76]/10 transition-all",disabled:i,children:"Back"}),e.jsx(m,{onClick:Ve,className:"w-2/3 bg-gradient-to-r from-[#007A76] to-[#8EDC81] hover:from-[#008c88] hover:to-[#7bc876] text-white font-bold py-6 rounded-xl shadow-lg shadow-[#007A76]/30 hover:shadow-xl hover:shadow-[#007A76]/40 transition-all duration-300 hover:scale-105",disabled:i,children:i?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(b,{className:"w-5 h-5 animate-spin"}),"Registering..."]}):"Complete Registration"})]})]}):e.jsxs("div",{className:"space-y-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs(d,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300 flex items-center gap-2",children:[e.jsx(je,{className:"w-4 h-4 text-[#007A76]"}),"Phone Number"]}),e.jsx(te,{countries:j,iso2:R,setIso2:De,phone:N,setPhone:q,disabledPhone:H})]}),H&&e.jsxs("div",{className:"space-y-2 animate-fade-in-up",children:[e.jsx(d,{className:"text-sm font-semibold text-gray-700 dark:text-gray-300",children:"OTP Code"}),e.jsx(h,{type:"text",inputMode:"numeric",value:k,onChange:a=>{const s=a.target.value.replace(/\D/g,"");s.length<=6&&K(s)},placeholder:"Enter 6-digit OTP",maxLength:6,className:"border-2 border-gray-300 dark:border-gray-600 focus:border-[#007A76] focus:ring-2 focus:ring-[#007A76]/20 transition-all text-center text-2xl font-bold tracking-widest"}),e.jsxs("div",{className:"flex items-center justify-between mt-2",children:[e.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Check your phone"}),O>0?e.jsxs("p",{className:"text-xs text-[#007A76] font-semibold",children:["Resend in ",O,"s"]}):e.jsxs(m,{type:"button",variant:"link",size:"sm",onClick:Be,disabled:!le||i,className:"h-auto p-0 text-xs text-[#007A76] hover:text-[#8EDC81] transition-colors",children:[e.jsx(b,{className:"w-3 h-3 mr-1"}),"Resend OTP"]})]})]}),e.jsx("div",{className:"flex gap-2",children:H?e.jsxs(e.Fragment,{children:[e.jsx(m,{variant:"outline",onClick:Fe,className:"w-1/3 border-2 border-gray-300 hover:border-[#007A76] hover:bg-[#007A76]/10 transition-all",disabled:i,children:"Change"}),e.jsx(m,{onClick:Me,className:"w-2/3 bg-gradient-to-r from-[#007A76] to-[#8EDC81] hover:from-[#008c88] hover:to-[#7bc876] text-white font-bold py-6 rounded-xl shadow-lg shadow-[#007A76]/30 hover:shadow-xl hover:shadow-[#007A76]/40 transition-all duration-300 hover:scale-105",disabled:i,children:i?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(b,{className:"w-5 h-5 animate-spin"}),"Verifying..."]}):"Verify OTP"})]}):e.jsx(m,{onClick:pe,className:"w-full bg-gradient-to-r from-[#1e5f7a] via-[#007A76] to-[#8EDC81] hover:from-[#184a5e] hover:via-[#008c88] hover:to-[#7bc876] text-white font-bold py-6 rounded-xl shadow-lg shadow-[#007A76]/30 hover:shadow-xl hover:shadow-[#007A76]/40 transition-all duration-300 hover:scale-105",disabled:i,children:i?e.jsxs("span",{className:"flex items-center gap-2",children:[e.jsx(b,{className:"w-5 h-5 animate-spin"}),"Sending..."]}):"Send OTP"})})]})})]}),e.jsx("div",{className:"mt-6 text-center border-t border-gray-200 dark:border-gray-700 pt-6",children:e.jsxs("button",{onClick:()=>g("/"),className:"text-sm text-gray-600 dark:text-gray-400 hover:text-[#007A76] dark:hover:text-[#8EDC81] transition-colors font-medium flex items-center gap-2 mx-auto group",children:[e.jsx(V,{className:"w-4 h-4 group-hover:animate-pulse"}),"Continue as Guest",e.jsx(V,{className:"w-4 h-4 group-hover:animate-pulse"})]})})]})]}),e.jsx("div",{className:"mt-6 text-center text-xs text-gray-500 dark:text-gray-400",children:e.jsx("p",{children:"Â© 2024 Rento LB. All rights reserved."})})]})]})}export{ks as AuthPage};
