{"version":3,"file":"MyCarsPage-COI8-iN1.js","sources":["../../src/pages/MyCarsPage.jsx"],"sourcesContent":["import React, { useState, useEffect, useMemo, useRef } from 'react';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport {\r\n  Car,\r\n  Search,\r\n  Plus,\r\n  Edit2,\r\n  Trash2,\r\n  Eye,\r\n  TrendingUp,\r\n  MousePointerClick,\r\n  Calendar,\r\n  DollarSign,\r\n  MapPin,\r\n  Gauge,\r\n  X,\r\n  Check,\r\n  Navigation,\r\n  Building2,\r\n  Loader2,\r\n} from 'lucide-react';\r\nimport { Button } from '@/components/ui/button';\r\nimport { Input } from '@/components/ui/input';\r\nimport { Card, CardContent, CardHeader, CardTitle } from '@/components/ui/card';\r\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from '@/components/ui/select';\r\nimport { Badge } from '@/components/ui/badge';\r\nimport {\r\n  Dialog,\r\n  DialogContent,\r\n  DialogDescription,\r\n  DialogHeader,\r\n  DialogTitle,\r\n} from '@/components/ui/dialog';\r\nimport { toast } from 'sonner';\r\nimport api from '@/lib/axios';\r\nimport { motion } from 'framer-motion';\r\n\r\nconst currentYear = new Date().getFullYear();\r\nconst VALID_STATUSES = ['available', 'not_available', 'rented', 'maintenance'];\r\nconst VALID_TRANSMISSIONS = ['automatic', 'manual'];\r\n\r\n// Lebanese governorates / regions for address dropdown (same as Add Car)\r\nconst ADDRESS_OPTIONS = [\r\n  'Beirut', 'Mount Lebanon', 'North', 'South', 'Bekaa', 'Baalbek', 'Keserwan', 'Nabatieh', 'Akkar',\r\n];\r\n\r\n// Logo colors\r\nconst COLORS = {\r\n  darkBlue: '#0E4C81',\r\n  teal: '#008C95',\r\n  limeGreen: '#8AC640',\r\n  darkBlueDim: 'rgba(14, 76, 129, 0.1)',\r\n  tealDim: 'rgba(0, 140, 149, 0.1)',\r\n  limeGreenDim: 'rgba(138, 198, 64, 0.1)',\r\n};\r\n\r\n// Car makes and models (same as Create Car page)\r\nconst CAR_MAKES_AND_MODELS = {\r\n  'BMW': ['1 Series','3 Series','5 Series','7 Series','X1','X3','X5','X7','M3','M5','Z4','i4','i7','iX'],\r\n  'Mercedes-Benz': ['A-Class','C-Class','E-Class','S-Class','GLA','GLC','GLE','GLS','G-Class','AMG GT','Maybach','EQE','EQS'],\r\n  'Audi': ['A3','A4','A6','A8','Q3','Q5','Q7','Q8','TT','R8','e-tron'],\r\n  'Porsche': ['911','Cayenne','Macan','Panamera','Taycan','Boxster','Cayman'],\r\n  'Volkswagen': ['Polo','Golf','Jetta','Passat','Tiguan','Touareg','Arteon','ID.4','ID.7'],\r\n  'Opel': ['Corsa','Astra','Insignia','Mokka','Grandland'],\r\n  'Smart': ['Fortwo','Forfour'],\r\n  'Ferrari': ['Roma','Portofino','F8','812','SF90','Purosangue'],\r\n  'Lamborghini': ['Huracan','Aventador','Urus','Revuelto'],\r\n  'Maserati': ['Ghibli','Quattroporte','Levante','Grecale','MC20'],\r\n  'Alfa Romeo': ['Giulia','Stelvio','Tonale','Giulietta'],\r\n  'Fiat': ['500','Panda','Tipo','Doblo'],\r\n  'Pagani': ['Huayra','Zonda'],\r\n  'Rolls-Royce': ['Phantom','Ghost','Wraith','Cullinan','Spectre'],\r\n  'Bentley': ['Continental GT','Flying Spur','Bentayga'],\r\n  'Aston Martin': ['Vantage','DB11','DB12','DBX','Valhalla'],\r\n  'Jaguar': ['XE','XF','XJ','F-Type','E-Pace','F-Pace'],\r\n  'Land Rover': ['Range Rover','Range Rover Sport','Velar','Evoque','Defender','Discovery'],\r\n  'McLaren': ['720S','750S','Artura','GT'],\r\n  'Mini': ['Cooper','Countryman','Clubman'],\r\n  'Lotus': ['Emira','Evija','Eletre'],\r\n  'Tesla': ['Model 3','Model S','Model X','Model Y','Cybertruck','Roadster'],\r\n  'Ford': ['Fiesta','Focus','Mustang','Explorer','Escape','Edge','F-150','Bronco'],\r\n  'Chevrolet': ['Spark','Malibu','Camaro','Corvette','Tahoe','Suburban','Silverado'],\r\n  'Dodge': ['Charger','Challenger','Durango'],\r\n  'Jeep': ['Wrangler','Grand Cherokee','Compass','Renegade','Gladiator'],\r\n  'Cadillac': ['CT4','CT5','Escalade','Lyriq'],\r\n  'Chrysler': ['300','Pacifica'],\r\n  'GMC': ['Sierra','Yukon','Acadia'],\r\n  'Rivian': ['R1T','R1S'],\r\n  'Lucid': ['Air','Gravity'],\r\n  'Toyota': ['Corolla','Camry','Yaris','Prius','RAV4','Highlander','Land Cruiser','Supra','Hilux'],\r\n  'Lexus': ['IS','ES','GS','LS','NX','RX','GX','LX','LC'],\r\n  'Honda': ['Civic','Accord','City','CR-V','HR-V','Pilot','Odyssey'],\r\n  'Nissan': ['Micra','Sentra','Altima','Maxima','Qashqai','X-Trail','GT-R','370Z'],\r\n  'Infiniti': ['Q50','Q60','QX50','QX60','QX80'],\r\n  'Mazda': ['Mazda2','Mazda3','Mazda6','CX-5','CX-9','MX-5'],\r\n  'Subaru': ['Impreza','Legacy','Outback','Forester','WRX','BRZ'],\r\n  'Mitsubishi': ['Mirage','Lancer','ASX','Outlander','Pajero'],\r\n  'Suzuki': ['Swift','Vitara','Jimny','Baleno'],\r\n  'Isuzu': ['D-Max','MU-X'],\r\n  'Hyundai': ['Accent','Elantra','Sonata','Kona','Tucson','Santa Fe','Palisade','Ioniq 5'],\r\n  'Kia': ['Rio','Cerato','K5','Soul','Sportage','Sorento','Telluride','EV6'],\r\n  'Genesis': ['G70','G80','G90','GV70','GV80'],\r\n  'Peugeot': ['208','308','508','2008','3008','5008'],\r\n  'Renault': ['Clio','Megane','Talisman','Captur','Kadjar','Koleos'],\r\n  'Citroën': ['C3','C4','C5','C5 Aircross'],\r\n  'Bugatti': ['Chiron','Mistral','Tourbillon'],\r\n  'DS Automobiles': ['DS3','DS4','DS7'],\r\n  'BYD': ['Atto 3','Han','Tang','Seal'],\r\n  'Geely': ['Coolray','Emgrand','Tugella'],\r\n  'Chery': ['Tiggo 7','Tiggo 8'],\r\n  'Great Wall': ['Haval H6','Tank 300'],\r\n  'NIO': ['ES6','ES8','ET5','ET7'],\r\n  'XPeng': ['P7','G6','G9'],\r\n  'MG': ['ZS','HS','MG4','MG5'],\r\n  'Zeekr': ['001','X'],\r\n  'Volvo': ['S60','S90','V60','XC40','XC60','XC90'],\r\n  'Polestar': ['Polestar 2','Polestar 3','Polestar 4'],\r\n  'Koenigsegg': ['Jesko','Regera','Gemera'],\r\n  'Rimac': ['Nevera'],\r\n  'Hennessey': ['Venom F5'],\r\n  'SSC': ['Tuatara'],\r\n  'Mahindra': ['Scorpio','XUV700'],\r\n  'Tata': ['Nexon','Harrier','Safari'],\r\n};\r\n\r\nconst CAR_MAKES_LIST = ['Other', ...Object.keys(CAR_MAKES_AND_MODELS).sort()];\r\n\r\nconst CAR_COLORS = [\r\n  'White', 'Black', 'Silver', 'Gray', 'Red', 'Blue', 'Green', 'Yellow',\r\n  'Orange', 'Brown', 'Beige', 'Gold', 'Purple', 'Pink', 'Pearl White',\r\n  'Metallic Gray', 'Metallic Blue', 'Dark Blue', 'Light Blue', 'Burgundy',\r\n];\r\n\r\nconst FEATURES = ['GPS', 'Bluetooth', 'Backup Camera', 'Sunroof', 'Leather Seats', 'Apple CarPlay', 'Android Auto', 'Heated Seats', 'Cruise Control', 'Parking Sensors'];\r\nconst ADD_ONS = ['Child Seat', 'GPS Device', 'Phone Holder', 'WiFi Hotspot', 'Roof Rack'];\r\n\r\nfunction parseGoogleMapsLink(url) {\r\n  if (!url || typeof url !== 'string') return null;\r\n  const trimmed = url.trim();\r\n  const atMatch = trimmed.match(/@(-?\\d+\\.?\\d*),(-?\\d+\\.?\\d*)/);\r\n  if (atMatch) return { lat: parseFloat(atMatch[1]), lng: parseFloat(atMatch[2]) };\r\n  const qMatch = trimmed.match(/[?&]q=(-?\\d+\\.?\\d*),(-?\\d+\\.?\\d*)/);\r\n  if (qMatch) return { lat: parseFloat(qMatch[1]), lng: parseFloat(qMatch[2]) };\r\n  const llMatch = trimmed.match(/(?:!3d|!4d|!1d)(-?\\d+\\.?\\d*)/g);\r\n  if (llMatch && llMatch.length >= 2) {\r\n    const lat = parseFloat(llMatch[0].replace(/\\D/g, ''));\r\n    const lng = parseFloat(llMatch[1].replace(/\\D/g, ''));\r\n    if (!isNaN(lat) && !isNaN(lng)) return { lat, lng };\r\n  }\r\n  return null;\r\n}\r\nfunction isShortMapLink(url) {\r\n  if (!url || typeof url !== 'string') return false;\r\n  return /^(https?:)?\\/\\/(maps\\.app\\.goo\\.gl|goo\\.gl\\/maps)\\//i.test(url.trim());\r\n}\r\nasync function resolveShortMapLinkViaBackend(url) {\r\n  try {\r\n    const { data } = await api.get('/resolve-map-link', { params: { url: (url || '').trim() } });\r\n    const lat = data?.lat ?? data?.latitude;\r\n    const lng = data?.lng ?? data?.longitude;\r\n    if (lat != null && lng != null && !Number.isNaN(Number(lat)) && !Number.isNaN(Number(lng))) {\r\n      return { lat: Number(lat), lng: Number(lng) };\r\n    }\r\n  } catch { /* ignore */ }\r\n  return null;\r\n}\r\nfunction getAgencyOfficeLocation() {\r\n  try {\r\n    const raw = localStorage.getItem('user');\r\n    if (!raw) return null;\r\n    const user = JSON.parse(raw);\r\n    let loc = user?.agent?.location;\r\n    if (!loc) return null;\r\n    if (typeof loc === 'string') {\r\n      loc = JSON.parse(loc);\r\n      if (typeof loc === 'string') loc = JSON.parse(loc);\r\n    }\r\n    const lat = loc?.lat ?? loc?.latitude;\r\n    const lng = loc?.lng ?? loc?.longitude;\r\n    if (lat != null && lng != null) return { latitude: String(Number(lat)), longitude: String(Number(lng)) };\r\n    return null;\r\n  } catch {\r\n    return null;\r\n  }\r\n}\r\n\r\nfunction EditLocationMapComponent({ center, selectedLocation, onLocationSelect }) {\r\n  const mapRef = useRef(null);\r\n  const markerRef = useRef(null);\r\n  useEffect(() => {\r\n    if (typeof window !== 'undefined' && !window.L) {\r\n      const link = document.createElement('link');\r\n      link.rel = 'stylesheet';\r\n      link.href = 'https://unpkg.com/leaflet@1.9.4/dist/leaflet.css';\r\n      document.head.appendChild(link);\r\n      const script = document.createElement('script');\r\n      script.src = 'https://unpkg.com/leaflet@1.9.4/dist/leaflet.js';\r\n      script.onload = () => initMap();\r\n      document.head.appendChild(script);\r\n    } else if (window.L) initMap();\r\n  }, []);\r\n  useEffect(() => {\r\n    if (mapRef.current && window.L && center?.latitude != null && center?.longitude != null) {\r\n      mapRef.current.setView([parseFloat(center.latitude), parseFloat(center.longitude)], 13);\r\n    }\r\n  }, [center?.latitude, center?.longitude]);\r\n  useEffect(() => {\r\n    if (selectedLocation && markerRef.current && window.L) {\r\n      markerRef.current.setLatLng([parseFloat(selectedLocation.latitude), parseFloat(selectedLocation.longitude)]);\r\n    }\r\n  }, [selectedLocation]);\r\n  const initMap = () => {\r\n    if (!window.L || mapRef.current) return;\r\n    const lat = parseFloat(center?.latitude) || 33.8547;\r\n    const lng = parseFloat(center?.longitude) || 35.8623;\r\n    const map = window.L.map('edit-location-map').setView([lat, lng], 13);\r\n    window.L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', { attribution: '© OpenStreetMap' }).addTo(map);\r\n    const marker = window.L.marker([lat, lng], { draggable: true }).addTo(map);\r\n    marker.on('dragend', (e) => {\r\n      const pos = e.target.getLatLng();\r\n      onLocationSelect(pos.lat, pos.lng);\r\n    });\r\n    map.on('click', (e) => {\r\n      marker.setLatLng(e.latlng);\r\n      onLocationSelect(e.latlng.lat, e.latlng.lng);\r\n    });\r\n    mapRef.current = map;\r\n    markerRef.current = marker;\r\n  };\r\n  return <div id=\"edit-location-map\" className=\"w-full h-full min-h-[300px]\" />;\r\n}\r\n\r\nconst CAR_CATEGORIES = [\r\n  { value: 'all', label: 'All Categories' },\r\n  { value: 'sedan', label: 'Sedan' },\r\n  { value: 'hatchback', label: 'Hatchback' },\r\n  { value: 'coupe', label: 'Coupe' },\r\n  { value: 'suv', label: 'SUV' },\r\n  { value: 'crossover', label: 'Crossover' },\r\n  { value: 'wagon', label: 'Wagon' },\r\n  { value: 'pickup', label: 'Pickup' },\r\n  { value: 'minivan', label: 'Minivan' },\r\n  { value: 'convertible', label: 'Convertible' },\r\n];\r\n\r\nconst CAR_STATUSES = [\r\n  { value: 'all', label: 'All Statuses' },\r\n  { value: 'pending', label: 'Pending' },\r\n  { value: 'approved', label: 'Approved' },\r\n  { value: 'rejected', label: 'Rejected' },\r\n];\r\n\r\nconst getStatusBadgeClass = (status) => {\r\n  switch (status) {\r\n    case 'approved':\r\n      return 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-200';\r\n    case 'pending':\r\n      return 'bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200';\r\n    case 'rejected':\r\n    default:\r\n      return 'bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200';\r\n  }\r\n};\r\n\r\nconst getCategoryBadgeClass = (category) => {\r\n  switch (category) {\r\n    case 'luxury':\r\n      return 'text-white';\r\n    case 'sport':\r\n      return 'text-white';\r\n    default:\r\n      return 'text-white';\r\n  }\r\n};\r\n\r\nconst getCategoryColor = (category) => {\r\n  switch (category) {\r\n    case 'luxury':\r\n      return COLORS.darkBlue;\r\n    case 'sport':\r\n      return COLORS.limeGreen;\r\n    default:\r\n      return COLORS.teal;\r\n  }\r\n};\r\n\r\nconst CarDetailModal = ({ car, onClose }) => {\r\n  if (!car) return null;\r\n  const safeArray = (arr) => Array.isArray(arr) ? arr : [];\r\n\r\n  return (\r\n    <div className=\"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 backdrop-blur-sm\">\r\n      <motion.div\r\n        initial={{ opacity: 0, scale: 0.95 }}\r\n        animate={{ opacity: 1, scale: 1 }}\r\n        exit={{ opacity: 0, scale: 0.95 }}\r\n        className=\"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-4xl p-6 relative overflow-y-auto max-h-[90vh]\"\r\n      >\r\n        <button\r\n          className=\"absolute top-4 right-4 w-8 h-8 rounded-full flex items-center justify-center transition-all hover:scale-110\"\r\n          style={{ background: COLORS.tealDim }}\r\n          onClick={onClose}\r\n        >\r\n          <X className=\"w-5 h-5\" style={{ color: COLORS.teal }} />\r\n        </button>\r\n\r\n        {/* Header */}\r\n        <div className=\"mb-6\">\r\n          <div className=\"flex items-center gap-3 mb-2\">\r\n            <div \r\n              className=\"w-12 h-12 rounded-xl flex items-center justify-center\"\r\n              style={{ background: `linear-gradient(135deg, ${COLORS.teal}, ${COLORS.darkBlue})` }}\r\n            >\r\n              <Car className=\"w-6 h-6 text-white\" />\r\n            </div>\r\n            <div>\r\n              <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white\">\r\n                {car.make} {car.model}\r\n              </h2>\r\n              <p className=\"text-sm text-gray-500 dark:text-gray-400\">{car.year} • {car.license_plate}</p>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Stats Row */}\r\n          <div className=\"grid grid-cols-2 md:grid-cols-3 gap-3 mt-4\">\r\n            <div className=\"bg-gradient-to-br p-3 rounded-xl\" style={{ background: COLORS.tealDim }}>\r\n              <div className=\"flex items-center gap-2 mb-1\">\r\n                <Eye className=\"w-4 h-4\" style={{ color: COLORS.teal }} />\r\n                <span className=\"text-xs font-medium text-gray-600 dark:text-gray-400\">Views</span>\r\n              </div>\r\n              <p className=\"text-xl font-bold\" style={{ color: COLORS.teal }}>{car.views_count || 0}</p>\r\n            </div>\r\n\r\n            <div className=\"bg-gradient-to-br p-3 rounded-xl\" style={{ background: COLORS.darkBlueDim }}>\r\n              <div className=\"flex items-center gap-2 mb-1\">\r\n                <MousePointerClick className=\"w-4 h-4\" style={{ color: COLORS.darkBlue }} />\r\n                <span className=\"text-xs font-medium text-gray-600 dark:text-gray-400\">Clicks</span>\r\n              </div>\r\n              <p className=\"text-xl font-bold\" style={{ color: COLORS.darkBlue }}>{car.clicks_count ?? 0}</p>\r\n            </div>\r\n\r\n            <div className=\"bg-gradient-to-br p-3 rounded-xl\" style={{ background: COLORS.limeGreenDim }}>\r\n              <div className=\"flex items-center gap-2 mb-1\">\r\n                <DollarSign className=\"w-4 h-4\" style={{ color: COLORS.limeGreen }} />\r\n                <span className=\"text-xs font-medium text-gray-600 dark:text-gray-400\">Daily Rate</span>\r\n              </div>\r\n              <p className=\"text-xl font-bold\" style={{ color: COLORS.limeGreen }}>${car.daily_rate}</p>\r\n            </div>\r\n\r\n            <div className=\"bg-gradient-to-br p-3 rounded-xl\" style={{ background: COLORS.tealDim }}>\r\n              <div className=\"flex items-center gap-2 mb-1\">\r\n                <Calendar className=\"w-4 h-4\" style={{ color: COLORS.teal }} />\r\n                <span className=\"text-xs font-medium text-gray-600 dark:text-gray-400\">Status</span>\r\n              </div>\r\n              <Badge className={`text-xs ${getStatusBadgeClass(car.status)}`}>\r\n                {car.status}\r\n              </Badge>\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 lg:grid-cols-2 gap-6\">\r\n          {/* Images */}\r\n          <div className=\"space-y-3\">\r\n            <div className=\"relative rounded-xl overflow-hidden shadow-lg\" style={{ height: '240px' }}>\r\n              {car.main_image_url ? (\r\n                <img\r\n                  src={`/api/storage/${car.main_image_url}`}\r\n                  alt=\"Main\"\r\n                  className=\"w-full h-full object-cover\"\r\n                />\r\n              ) : (\r\n                <div className=\"w-full h-full flex items-center justify-center\" style={{ background: COLORS.tealDim }}>\r\n                  <Car className=\"w-16 h-16\" style={{ color: COLORS.teal, opacity: 0.3 }} />\r\n                </div>\r\n              )}\r\n            </div>\r\n            <div className=\"grid grid-cols-4 gap-2\">\r\n              {['front', 'back', 'left', 'right'].map((dir) => (\r\n                car[`${dir}_image_url`] ? (\r\n                  <div key={dir} className=\"relative rounded-lg overflow-hidden shadow\" style={{ height: '70px' }}>\r\n                    <img\r\n                      src={`/api/storage/${car[`${dir}_image_url`]}`}\r\n                      alt={dir}\r\n                      className=\"w-full h-full object-cover\"\r\n                    />\r\n                  </div>\r\n                ) : (\r\n                  <div key={dir} className=\"rounded-lg flex items-center justify-center\" style={{ height: '70px', background: COLORS.tealDim }}>\r\n                    <Car className=\"w-6 h-6\" style={{ color: COLORS.teal, opacity: 0.3 }} />\r\n                  </div>\r\n                )\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Details */}\r\n          <div className=\"space-y-3 text-sm\">\r\n            <DetailRow icon={Car} label=\"Category\" value={car.car_category} />\r\n            <DetailRow icon={DollarSign} label=\"Holiday Rate\" value={`$${car.holiday_rate}/day`} />\r\n            <DetailRow icon={Gauge} label=\"Mileage\" value={`${car.mileage?.toLocaleString()} km`} />\r\n            <DetailRow label=\"Color\" value={car.color} />\r\n            <DetailRow label=\"Fuel Type\" value={car.fuel_type} />\r\n            <DetailRow label=\"Transmission\" value={car.transmission} />\r\n            <DetailRow label=\"Wheel Drive\" value={car.wheels_drive} />\r\n            <DetailRow label=\"Seats\" value={car.seats} />\r\n            <DetailRow label=\"Doors\" value={car.doors} />\r\n            <DetailRow label=\"Max Driving Mileage\" value={`${car.max_driving_mileage} km`} />\r\n            <DetailRow label=\"Min Rental Days\" value={car.min_rental_days} />\r\n            <DetailRow label=\"Add-Ons\" value={safeArray(car.car_add_on).join(', ') || 'N/A'} />\r\n            <DetailRow label=\"Features\" value={safeArray(car.features).join(', ') || 'N/A'} />\r\n            <DetailRow label=\"Reason for Rent\" value={safeArray(car.reason_of_rent).join(', ') || 'N/A'} />\r\n            {car.notes && <DetailRow label=\"Notes\" value={car.notes} />}\r\n            <DetailRow icon={MapPin} label=\"Delivery Location\" value={car.delivery_location?.address || 'N/A'} />\r\n            <DetailRow icon={MapPin} label=\"Return Location\" value={car.return_location?.address || 'N/A'} />\r\n            {car.live_location && <DetailRow icon={MapPin} label=\"Current Location\" value={car.live_location.address} badge />}\r\n          </div>\r\n        </div>\r\n      </motion.div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst DetailRow = ({ icon: Icon, label, value, badge }) => (\r\n  <div className=\"flex items-start gap-2 py-2 border-b border-gray-100 dark:border-gray-800\">\r\n    {Icon && <Icon className=\"w-4 h-4 mt-0.5\" style={{ color: COLORS.teal }} />}\r\n    <div className=\"flex-1\">\r\n      <span className=\"font-semibold text-gray-700 dark:text-gray-300\">{label}:</span>\r\n      {badge ? (\r\n        <Badge className=\"ml-2 text-xs\" style={{ background: COLORS.teal, color: 'white' }}>{value}</Badge>\r\n      ) : (\r\n        <span className=\"ml-2 text-gray-600 dark:text-gray-400\">{value}</span>\r\n      )}\r\n    </div>\r\n  </div>\r\n);\r\n\r\nexport const MyCarsPage = () => {\r\n  const navigate = useNavigate();\r\n  const [allCars, setAllCars] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [filters, setFilters] = useState({ search: '', category: 'all', status: 'all' });\r\n  const [selectedCar, setSelectedCar] = useState(null);\r\n\r\n  // Edit modal state\r\n  const [isEditModalOpen, setIsEditModalOpen] = useState(false);\r\n  const [editForm, setEditForm] = useState({});\r\n  const [showLocationMapModal, setShowLocationMapModal] = useState(false);\r\n  const [tempMapLocation, setTempMapLocation] = useState(null);\r\n  const [mapSearchQuery, setMapSearchQuery] = useState('');\r\n  const [mapSearchLoading, setMapSearchLoading] = useState(false);\r\n  const [editLocationGoogleLink, setEditLocationGoogleLink] = useState('');\r\n  const [linkResolvingField, setLinkResolvingField] = useState(null);\r\n\r\n  const fetchCars = async () => {\r\n    setLoading(true);\r\n    try {\r\n      const { data } = await api.get('/cars/agent/Mycars', {\r\n        params: { per_page: 1000 },\r\n      });\r\n      const list = data.cars?.data ?? data.cars ?? data?.data ?? [];\r\n      setAllCars(Array.isArray(list) ? list : []);\r\n    } catch {\r\n      toast.error('Failed to fetch cars.');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => { fetchCars(); }, []);\r\n\r\n  const handleFilterChange = (key, value) => {\r\n    setFilters((prev) => ({ ...prev, [key]: value }));\r\n  };\r\n\r\n  const clearFilters = () => setFilters({ search: '', category: 'all', status: 'all' });\r\n\r\n  const [deleteModalCar, setDeleteModalCar] = useState(null);\r\n  const [deleteConfirmText, setDeleteConfirmText] = useState('');\r\n\r\n  const openDeleteModal = (car) => {\r\n    setDeleteModalCar(car);\r\n    setDeleteConfirmText('');\r\n  };\r\n\r\n  const closeDeleteModal = () => {\r\n    setDeleteModalCar(null);\r\n    setDeleteConfirmText('');\r\n  };\r\n\r\n  const confirmDelete = async () => {\r\n    if (!deleteModalCar || deleteConfirmText.toLowerCase() !== 'delete') return;\r\n    try {\r\n      await api.delete(`/cars/${deleteModalCar.id}`);\r\n      toast.success('Car deleted successfully.');\r\n      setAllCars((prev) => prev.filter((c) => c.id !== deleteModalCar.id));\r\n      closeDeleteModal();\r\n    } catch (err) {\r\n      toast.error(err.response?.data?.error || 'Failed to delete car.');\r\n    }\r\n  };\r\n\r\n  const openEditModal = (car) => {\r\n    setSelectedCar(car);\r\n    const rawTransmission = (car.transmission || '').toLowerCase();\r\n    const makeInList = car.make && CAR_MAKES_AND_MODELS[car.make];\r\n    const modelsForMake = makeInList ? CAR_MAKES_AND_MODELS[car.make] : [];\r\n    const modelInList = car.model && modelsForMake.includes(car.model);\r\n    const fuelMap = { benz: 'Petrol', diesel: 'Diesel', electric: 'Electric', hybrid: 'Hybrid' };\r\n    const rawFuel = (car.fuel_type || '').toLowerCase();\r\n    const fuelType = fuelMap[rawFuel] || (['Petrol','Diesel','Electric','Hybrid'].includes(car.fuel_type) ? car.fuel_type : 'Petrol');\r\n    const wheelsMap = { '4x4': '4x4', front: 'Front', rear: 'Rear', autoblock: 'Autoblock' };\r\n    const wheelsDrive = wheelsMap[(car.wheels_drive || '').toLowerCase()] || car.wheels_drive || '';\r\n    setEditForm({\r\n      make: makeInList ? car.make : 'Other',\r\n      customMake: makeInList ? '' : (car.make || ''),\r\n      model: modelInList ? car.model : 'Other',\r\n      customModel: modelInList ? '' : (car.model || ''),\r\n      year: car.year || new Date().getFullYear(),\r\n      license_plate: car.license_plate || '',\r\n      color: car.color || '',\r\n      car_category: car.car_category || '',\r\n      fuel_type: fuelType,\r\n      transmission: rawTransmission === 'automatic' || rawTransmission === 'manual' ? rawTransmission : 'automatic',\r\n      wheels_drive: wheelsDrive,\r\n      cylinder_number: car.cylinder_number || '',\r\n      seats: car.seats ?? 5,\r\n      doors: car.doors ?? 4,\r\n      daily_rate: car.daily_rate ?? '',\r\n      holiday_rate: car.holiday_rate ?? '',\r\n      status: VALID_STATUSES.includes(car.status) ? car.status : 'available',\r\n      mileage: car.mileage ?? '',\r\n      max_driving_mileage: car.max_driving_mileage ?? '',\r\n      notes: car.notes || '',\r\n      is_deposit: !!car.is_deposit,\r\n      deposit: car.deposit ?? '',\r\n      is_delivered: !!car.is_delivered,\r\n      delivery_fees: car.delivery_fees ?? '',\r\n      with_driver: !!car.with_driver,\r\n      driver_fees: car.driver_fees ?? '',\r\n      min_rental_days: car.min_rental_days ?? 1,\r\n      insurance_expiry: car.insurance_expiry || '',\r\n      registration_expiry: car.registration_expiry || '',\r\n      features: Array.isArray(car.features) ? car.features : [],\r\n      car_add_on: Array.isArray(car.car_add_on) ? car.car_add_on : [],\r\n      live_location: (() => {\r\n        const loc = car.live_location;\r\n        if (!loc) return { address: '', latitude: 0, longitude: 0 };\r\n        const lat = loc.latitude ?? loc.lat ?? 0;\r\n        const lng = loc.longitude ?? loc.lng ?? 0;\r\n        return { address: loc.address ?? '', latitude: Number(lat) || 0, longitude: Number(lng) || 0 };\r\n      })(),\r\n    });\r\n    setEditLocationGoogleLink('');\r\n    setIsEditModalOpen(true);\r\n  };\r\n\r\n  const getResolvedMake = () => {\r\n    const make = editForm.make ?? '';\r\n    return make === 'Other' ? String(editForm.customMake ?? '').trim() : make;\r\n  };\r\n  const getResolvedModel = () => {\r\n    const make = editForm.make ?? '';\r\n    const model = editForm.model ?? '';\r\n    if (make === 'Other') return String(editForm.customModel ?? '').trim();\r\n    return model === 'Other' ? String(editForm.customModel ?? '').trim() : model;\r\n  };\r\n\r\n  const validateEditForm = () => {\r\n    const make = getResolvedMake();\r\n    const model = getResolvedModel();\r\n    if (!make) {\r\n      toast.error('Make is required.');\r\n      return false;\r\n    }\r\n    if (make.length > 100) {\r\n      toast.error('Make must be at most 100 characters.');\r\n      return false;\r\n    }\r\n    if (!model) {\r\n      toast.error('Model is required.');\r\n      return false;\r\n    }\r\n    if (model.length > 100) {\r\n      toast.error('Model must be at most 100 characters.');\r\n      return false;\r\n    }\r\n    const year = editForm.year !== undefined && editForm.year !== '' ? Number(editForm.year) : null;\r\n    if (year !== null && (isNaN(year) || year < 1900 || year > currentYear + 1)) {\r\n      toast.error(`Year must be between 1900 and ${currentYear + 1}.`);\r\n      return false;\r\n    }\r\n    const transmission = (editForm.transmission || '').toLowerCase();\r\n    if (transmission && !VALID_TRANSMISSIONS.includes(transmission)) {\r\n      toast.error('Transmission must be Automatic or Manual.');\r\n      return false;\r\n    }\r\n    const status = editForm.status || 'available';\r\n    if (!VALID_STATUSES.includes(status)) {\r\n      toast.error('Invalid status.');\r\n      return false;\r\n    }\r\n    const dailyRateRaw = editForm.daily_rate;\r\n    if (dailyRateRaw === undefined || dailyRateRaw === null || dailyRateRaw === '') {\r\n      toast.error('Daily rate is required.');\r\n      return false;\r\n    }\r\n    const dailyRate = Number(dailyRateRaw);\r\n    if (isNaN(dailyRate) || dailyRate < 0) {\r\n      toast.error('Daily rate must be 0 or greater.');\r\n      return false;\r\n    }\r\n    const holidayRate = editForm.holiday_rate !== undefined && editForm.holiday_rate !== '' ? Number(editForm.holiday_rate) : null;\r\n    if (holidayRate !== null && (isNaN(holidayRate) || holidayRate < 0)) {\r\n      toast.error('Holiday rate must be 0 or greater.');\r\n      return false;\r\n    }\r\n    if (editForm.is_deposit) {\r\n      const deposit = Number(editForm.deposit);\r\n      if (isNaN(deposit) || deposit < 0) {\r\n        toast.error('Deposit amount must be 0 or greater.');\r\n        return false;\r\n      }\r\n    }\r\n    if (editForm.is_delivered) {\r\n      const deliveryFees = Number(editForm.delivery_fees);\r\n      if (isNaN(deliveryFees) || deliveryFees < 0) {\r\n        toast.error('Delivery fees must be 0 or greater.');\r\n        return false;\r\n      }\r\n    }\r\n    if (editForm.with_driver) {\r\n      const driverFees = Number(editForm.driver_fees);\r\n      if (isNaN(driverFees) || driverFees < 0) {\r\n        toast.error('Driver fees must be 0 or greater.');\r\n        return false;\r\n      }\r\n    }\r\n    const minDays = editForm.min_rental_days !== undefined && editForm.min_rental_days !== '' ? Number(editForm.min_rental_days) : 1;\r\n    if (isNaN(minDays) || minDays < 1) {\r\n      toast.error('Minimum rental days must be at least 1.');\r\n      return false;\r\n    }\r\n    const mileage = editForm.mileage !== undefined && editForm.mileage !== '' ? Number(editForm.mileage) : null;\r\n    if (mileage !== null && (isNaN(mileage) || mileage < 0)) {\r\n      toast.error('Mileage must be 0 or greater.');\r\n      return false;\r\n    }\r\n    return true;\r\n  };\r\n\r\n  const handleEditChange = (key, value) => {\r\n    setEditForm(prev => {\r\n      const next = { ...prev, [key]: value };\r\n      if (key === 'make') {\r\n        next.model = '';\r\n        next.customModel = '';\r\n      }\r\n      return next;\r\n    });\r\n  };\r\n\r\n  const toggleFeature = (item) => {\r\n    const list = editForm.features || [];\r\n    const updated = list.includes(item) ? list.filter((i) => i !== item) : [...list, item];\r\n    handleEditChange('features', updated);\r\n  };\r\n  const toggleAddOn = (item) => {\r\n    const list = editForm.car_add_on || [];\r\n    const updated = list.includes(item) ? list.filter((i) => i !== item) : [...list, item];\r\n    handleEditChange('car_add_on', updated);\r\n  };\r\n\r\n  const loc = editForm.live_location || { address: '', latitude: 0, longitude: 0 };\r\n  const hasLocation = loc.latitude && loc.longitude && Number(loc.latitude) !== 0 && Number(loc.longitude) !== 0;\r\n\r\n  const getCurrentLocationForEdit = () => {\r\n    if (!navigator.geolocation) {\r\n      toast.error('Geolocation is not supported by your browser');\r\n      return;\r\n    }\r\n    toast.info('Getting your location...');\r\n    navigator.geolocation.getCurrentPosition(\r\n      (position) => {\r\n        handleEditChange('live_location', {\r\n          ...loc,\r\n          latitude: position.coords.latitude.toFixed(6),\r\n          longitude: position.coords.longitude.toFixed(6),\r\n        });\r\n        toast.success('Location set from current position.');\r\n      },\r\n      () => toast.error('Could not get your location. Please select manually.')\r\n    );\r\n  };\r\n\r\n  const useOfficeLocationForEdit = () => {\r\n    const office = getAgencyOfficeLocation();\r\n    if (office) {\r\n      handleEditChange('live_location', { ...loc, latitude: office.latitude, longitude: office.longitude });\r\n      toast.success('Location set to office.');\r\n    } else {\r\n      toast.error('Office location not found. Complete your agency profile with a location first.');\r\n    }\r\n  };\r\n\r\n  const openLocationMapPicker = () => {\r\n    setTempMapLocation({\r\n      latitude: loc.latitude || 33.8547,\r\n      longitude: loc.longitude || 35.8623,\r\n    });\r\n    setMapSearchQuery('');\r\n    setShowLocationMapModal(true);\r\n  };\r\n\r\n  const handleMapLocationSelect = (lat, lng) => {\r\n    setTempMapLocation({ latitude: lat.toFixed(6), longitude: lng.toFixed(6) });\r\n  };\r\n\r\n  const confirmMapLocation = () => {\r\n    if (tempMapLocation) {\r\n      handleEditChange('live_location', {\r\n        ...loc,\r\n        latitude: tempMapLocation.latitude,\r\n        longitude: tempMapLocation.longitude,\r\n      });\r\n      toast.success('Location selected on map.');\r\n    }\r\n    setShowLocationMapModal(false);\r\n  };\r\n\r\n  const handleMapSearch = async () => {\r\n    const q = mapSearchQuery.trim();\r\n    if (!q) return;\r\n    setMapSearchLoading(true);\r\n    try {\r\n      const res = await fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${encodeURIComponent(q)}&limit=1`, { headers: { Accept: 'application/json' } });\r\n      const data = await res.json();\r\n      if (data?.[0]) {\r\n        setTempMapLocation({ latitude: parseFloat(data[0].lat).toFixed(6), longitude: parseFloat(data[0].lon).toFixed(6) });\r\n        toast.success('Location found.');\r\n      } else toast.error('No results found.');\r\n    } catch { toast.error('Search failed.'); }\r\n    finally { setMapSearchLoading(false); }\r\n  };\r\n\r\n  const useOfficeInMapModal = () => {\r\n    const office = getAgencyOfficeLocation();\r\n    if (office) {\r\n      setTempMapLocation(office);\r\n      toast.success('Office location set. Confirm to use.');\r\n    } else toast.error('Office location not found.');\r\n  };\r\n\r\n  const applyGoogleLinkForEdit = async () => {\r\n    const trimmed = (editLocationGoogleLink || '').trim();\r\n    if (!trimmed) return;\r\n    let coords = parseGoogleMapsLink(trimmed);\r\n    if (!coords && isShortMapLink(trimmed)) {\r\n      setLinkResolvingField('live');\r\n      try {\r\n        const res = await fetch(trimmed, { redirect: 'follow', method: 'HEAD' });\r\n        coords = parseGoogleMapsLink(res?.url || trimmed);\r\n        if (!coords) coords = await resolveShortMapLinkViaBackend(trimmed);\r\n      } finally { setLinkResolvingField(null); }\r\n    }\r\n    if (coords) {\r\n      handleEditChange('live_location', {\r\n        ...loc,\r\n        latitude: coords.lat.toFixed(6),\r\n        longitude: coords.lng.toFixed(6),\r\n      });\r\n      toast.success('Location set from Google Maps link.');\r\n    } else {\r\n      toast.error('Could not read coordinates. Use a link with lat,lng (e.g. @33.89,35.50 or ?q=33.89,35.50).');\r\n    }\r\n  };\r\n\r\n  const submitEdit = async () => {\r\n    if (!selectedCar) return;\r\n    if (!validateEditForm()) return;\r\n    const payload = {};\r\n    const make = getResolvedMake();\r\n    const model = getResolvedModel();\r\n    if (make) payload.make = make;\r\n    if (model) payload.model = model;\r\n    if (editForm.year !== undefined && editForm.year !== '') payload.year = Number(editForm.year);\r\n    if (editForm.license_plate !== undefined) payload.license_plate = String(editForm.license_plate || '').toUpperCase().trim();\r\n    if (editForm.color !== undefined) payload.color = editForm.color;\r\n    if (editForm.car_category !== undefined) payload.car_category = String(editForm.car_category || '').toLowerCase();\r\n    const fuelMapToBackend = { Petrol: 'benz', Diesel: 'diesel', Electric: 'electric', Hybrid: 'hybrid' };\r\n    if (editForm.fuel_type) payload.fuel_type = fuelMapToBackend[editForm.fuel_type] || editForm.fuel_type.toLowerCase();\r\n    if (editForm.wheels_drive) payload.wheels_drive = String(editForm.wheels_drive || '').toLowerCase();\r\n    if (editForm.cylinder_number) payload.cylinder_number = editForm.cylinder_number;\r\n    if (editForm.seats !== undefined) payload.seats = Number(editForm.seats) || 5;\r\n    if (editForm.doors !== undefined) payload.doors = Number(editForm.doors) || 4;\r\n    if (editForm.max_driving_mileage !== undefined && editForm.max_driving_mileage !== '') payload.max_driving_mileage = Number(editForm.max_driving_mileage);\r\n    if (editForm.insurance_expiry !== undefined) payload.insurance_expiry = editForm.insurance_expiry || null;\r\n    if (editForm.registration_expiry !== undefined) payload.registration_expiry = editForm.registration_expiry || null;\r\n    if (Array.isArray(editForm.features)) payload.features = editForm.features;\r\n    if (Array.isArray(editForm.car_add_on)) payload.car_add_on = editForm.car_add_on;\r\n    if (editForm.daily_rate !== undefined && editForm.daily_rate !== '') payload.daily_rate = Number(editForm.daily_rate);\r\n    if (editForm.holiday_rate !== undefined && editForm.holiday_rate !== '') payload.holiday_rate = Number(editForm.holiday_rate);\r\n    if (editForm.status !== undefined) payload.status = editForm.status;\r\n    const transmission = (editForm.transmission || '').toLowerCase();\r\n    if (transmission && VALID_TRANSMISSIONS.includes(transmission)) payload.transmission = transmission;\r\n    if (editForm.mileage !== undefined && editForm.mileage !== '') payload.mileage = Number(editForm.mileage);\r\n    if (editForm.notes !== undefined) payload.notes = editForm.notes;\r\n    payload.is_deposit = !!editForm.is_deposit;\r\n    if (editForm.is_deposit && editForm.deposit !== undefined && editForm.deposit !== '') payload.deposit = Number(editForm.deposit);\r\n    payload.is_delivered = !!editForm.is_delivered;\r\n    if (editForm.is_delivered && editForm.delivery_fees !== undefined && editForm.delivery_fees !== '') payload.delivery_fees = Number(editForm.delivery_fees);\r\n    payload.with_driver = !!editForm.with_driver;\r\n    if (editForm.with_driver && editForm.driver_fees !== undefined && editForm.driver_fees !== '') payload.driver_fees = Number(editForm.driver_fees);\r\n    if (editForm.min_rental_days !== undefined && editForm.min_rental_days !== '') payload.min_rental_days = Math.max(1, Number(editForm.min_rental_days));\r\n    if (editForm.live_location && (editForm.live_location.address || editForm.live_location.latitude || editForm.live_location.longitude)) {\r\n      payload.live_location = editForm.live_location;\r\n    }\r\n    try {\r\n      const { data } = await api.put(`/cars/${selectedCar.id}`, payload, {\r\n        headers: { 'Content-Type': 'application/json' },\r\n      });\r\n      toast.success('Car updated successfully');\r\n      setAllCars(prev => prev.map(c => c.id === selectedCar.id ? { ...c, ...data.car } : c));\r\n      setIsEditModalOpen(false);\r\n    } catch (err) {\r\n      const msg = err.response?.data?.errors\r\n        ? Object.values(err.response.data.errors).flat().join(', ')\r\n        : err.response?.data?.error || err.response?.data?.message || 'Failed to update car';\r\n      toast.error(msg);\r\n    }\r\n  };\r\n\r\n  const filteredCars = useMemo(() => {\r\n    return allCars.filter((car) => {\r\n      const categoryMatch = filters.category === 'all' || (car.car_category || '').toLowerCase() === filters.category;\r\n      const statusMatch = filters.status === 'all' || car.status === filters.status;\r\n      const searchMatch = [car.make, car.model, car.license_plate].some(field =>\r\n        field?.toLowerCase().includes(filters.search.toLowerCase())\r\n      );\r\n      return categoryMatch && statusMatch && searchMatch;\r\n    });\r\n  }, [allCars, filters]);\r\n\r\n  // Calculate total stats (views = impressions in list; clicks = detail page opens)\r\n  const totalViews = allCars.reduce((sum, car) => sum + (car.views_count || 0), 0);\r\n  const totalClicks = allCars.reduce((sum, car) => sum + (car.clicks_count || 0), 0);\r\n  const approvedCars = allCars.filter(c => c.status === 'approved').length;\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-gradient-to-br from-gray-50 via-white to-gray-50 dark:from-black dark:via-gray-900 dark:to-gray-950 pt-20\">\r\n      <div className=\"container mx-auto px-4 py-8\">\r\n\r\n        {/* HEADER */}\r\n        <div className=\"flex flex-col md:flex-row md:items-center md:justify-between mb-6 gap-4\">\r\n          <div className=\"flex items-center gap-4\">\r\n            <div \r\n              className=\"w-14 h-14 rounded-xl flex items-center justify-center shadow-lg\"\r\n              style={{ background: `linear-gradient(135deg, ${COLORS.teal}, ${COLORS.darkBlue})` }}\r\n            >\r\n              <Car className=\"w-7 h-7 text-white\" />\r\n            </div>\r\n            <div>\r\n              <h1 className=\"text-3xl font-bold text-gray-900 dark:text-white\">My Cars</h1>\r\n              <p className=\"text-sm text-gray-600 dark:text-gray-400 mt-1\">Manage your listed vehicles</p>\r\n            </div>\r\n          </div>\r\n\r\n          <Button\r\n            onClick={() => navigate('/add-car')}\r\n            className=\"h-11 rounded-xl text-white font-semibold shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105\"\r\n            style={{ background: `linear-gradient(135deg, ${COLORS.teal}, ${COLORS.darkBlue})` }}\r\n          >\r\n            <Plus className=\"w-5 h-5 mr-2\" />\r\n            Add New Car\r\n          </Button>\r\n        </div>\r\n\r\n        {/* STATS CARDS */}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-4 gap-4 mb-6\">\r\n          <StatCard\r\n            icon={Car}\r\n            label=\"Total Cars\"\r\n            value={allCars.length}\r\n            gradient={`linear-gradient(135deg, ${COLORS.teal}, ${COLORS.darkBlue})`}\r\n          />\r\n          <StatCard\r\n            icon={Eye}\r\n            label=\"Total Views\"\r\n            value={totalViews}\r\n            gradient={`linear-gradient(135deg, ${COLORS.darkBlue}, ${COLORS.teal})`}\r\n          />\r\n          <StatCard\r\n            icon={MousePointerClick}\r\n            label=\"Total Clicks\"\r\n            value={totalClicks}\r\n            gradient={`linear-gradient(135deg, ${COLORS.teal}, ${COLORS.limeGreen})`}\r\n          />\r\n          <StatCard\r\n            icon={TrendingUp}\r\n            label=\"Approved\"\r\n            value={approvedCars}\r\n            gradient={`linear-gradient(135deg, ${COLORS.limeGreen}, ${COLORS.teal})`}\r\n          />\r\n        </div>\r\n\r\n        {/* FILTERS */}\r\n        <Card className=\"mb-6 border-2 border-transparent shadow-lg rounded-xl\">\r\n          <CardContent className=\"p-5\">\r\n            <div className=\"grid grid-cols-1 md:grid-cols-4 gap-3 items-end\">\r\n              {/* SEARCH */}\r\n              <div className=\"md:col-span-1\">\r\n                <label className=\"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2\">\r\n                  Search\r\n                </label>\r\n                <div className=\"relative\">\r\n                  <Search className=\"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400\" />\r\n                  <Input\r\n                    placeholder=\"Search cars...\"\r\n                    value={filters.search}\r\n                    onChange={(e) => handleFilterChange('search', e.target.value)}\r\n                    className=\"pl-9 h-10 border-2 rounded-xl transition-all duration-200\"\r\n                    style={{ borderColor: filters.search ? COLORS.teal : undefined }}\r\n                  />\r\n                </div>\r\n              </div>\r\n\r\n              {/* CATEGORY */}\r\n              <div className=\"md:col-span-1\">\r\n                <label className=\"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2\">\r\n                  Category\r\n                </label>\r\n                <Select\r\n                  value={filters.category}\r\n                  onValueChange={(value) => handleFilterChange('category', value)}\r\n                >\r\n                  <SelectTrigger className=\"h-10 border-2 rounded-xl\">\r\n                    <SelectValue placeholder=\"Select category\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    {CAR_CATEGORIES.map((category) => (\r\n                      <SelectItem key={category.value} value={category.value}>\r\n                        {category.label}\r\n                      </SelectItem>\r\n                    ))}\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n\r\n              {/* STATUS */}\r\n              <div className=\"md:col-span-1\">\r\n                <label className=\"block text-xs font-semibold text-gray-700 dark:text-gray-300 mb-2\">\r\n                  Status\r\n                </label>\r\n                <Select\r\n                  value={filters.status}\r\n                  onValueChange={(value) => handleFilterChange('status', value)}\r\n                >\r\n                  <SelectTrigger className=\"h-10 border-2 rounded-xl\">\r\n                    <SelectValue placeholder=\"Select status\" />\r\n                  </SelectTrigger>\r\n                  <SelectContent>\r\n                    {CAR_STATUSES.map((status) => (\r\n                      <SelectItem key={status.value} value={status.value}>\r\n                        {status.label}\r\n                      </SelectItem>\r\n                    ))}\r\n                  </SelectContent>\r\n                </Select>\r\n              </div>\r\n\r\n              {/* CLEAR FILTER BUTTON */}\r\n              <div className=\"md:col-span-1 flex justify-end\">\r\n                {(filters.search || filters.category !== 'all' || filters.status !== 'all') && (\r\n                  <Button\r\n                    variant=\"outline\"\r\n                    className=\"h-10 rounded-xl border-2\"\r\n                    style={{ borderColor: COLORS.teal, color: COLORS.teal }}\r\n                    onClick={clearFilters}\r\n                  >\r\n                    Clear Filters\r\n                  </Button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {/* TABLE */}\r\n        <Card className=\"border-2 border-transparent shadow-lg rounded-xl\">\r\n          <CardHeader className=\"pb-4\">\r\n            <CardTitle className=\"text-xl font-bold text-gray-900 dark:text-white\">\r\n              Your Listed Cars ({filteredCars.length})\r\n            </CardTitle>\r\n          </CardHeader>\r\n          <CardContent>\r\n            {loading ? (\r\n              <div className=\"flex justify-center py-12\">\r\n                <div className=\"animate-spin rounded-full h-10 w-10 border-4 border-t-transparent\" style={{ borderColor: COLORS.teal, borderTopColor: 'transparent' }}></div>\r\n              </div>\r\n            ) : filteredCars.length === 0 ? (\r\n              <div className=\"flex flex-col items-center justify-center py-12 gap-4\">\r\n                <div \r\n                  className=\"w-16 h-16 rounded-full flex items-center justify-center\"\r\n                  style={{ background: COLORS.tealDim }}\r\n                >\r\n                  <Car className=\"w-8 h-8\" style={{ color: COLORS.teal }} />\r\n                </div>\r\n                <p className=\"text-gray-600 dark:text-gray-400\">\r\n                  No cars found.{' '}\r\n                  <Button \r\n                    variant=\"link\" \r\n                    className=\"p-0 h-auto\" \r\n                    style={{ color: COLORS.teal }}\r\n                    onClick={() => navigate('/Add/car')}\r\n                  >\r\n                    Add your first car\r\n                  </Button>\r\n                </p>\r\n              </div>\r\n            ) : (\r\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 xl:grid-cols-5 gap-4\">\r\n                {filteredCars.map((car, index) => {\r\n                  const isPending = car.car_accepted === false || car.status === 'pending';\r\n                  return (\r\n                    <motion.div\r\n                      key={car.id}\r\n                      initial={{ opacity: 0, y: 10 }}\r\n                      animate={{ opacity: 1, y: 0 }}\r\n                      transition={{ duration: 0.3, delay: index * 0.03 }}\r\n                      className={`rounded-xl border-2 overflow-hidden bg-white dark:bg-gray-900 shadow-md hover:shadow-lg transition-shadow duration-200 ${isPending ? 'border-red-200 dark:border-red-900/50' : 'border-transparent'}`}\r\n                    >\r\n                      <div className=\"relative\">\r\n                        <div className=\"aspect-[4/3] w-full overflow-hidden bg-gray-100 dark:bg-gray-800\">\r\n                          {car.main_image_url ? (\r\n                            <img\r\n                              src={car.main_image_url.startsWith('http') ? car.main_image_url : `/api/storage/${car.main_image_url}`}\r\n                              alt={`${car.make} ${car.model}`}\r\n                              className=\"w-full h-full object-cover\"\r\n                            />\r\n                          ) : (\r\n                            <div className=\"w-full h-full flex items-center justify-center\" style={{ background: COLORS.tealDim }}>\r\n                              <Car className=\"w-12 h-12\" style={{ color: COLORS.teal, opacity: 0.5 }} />\r\n                            </div>\r\n                          )}\r\n                        </div>\r\n                        <div className=\"absolute top-2 right-2 flex flex-col gap-1 items-end\">\r\n                          {car.car_accepted === true ? (\r\n                            <Badge className=\"bg-green-600 hover:bg-green-600 text-white text-xs font-semibold shadow\">\r\n                              Accepted\r\n                            </Badge>\r\n                          ) : (\r\n                            <Badge className=\"bg-red-600 hover:bg-red-600 text-white text-xs font-semibold shadow\">\r\n                              Not accepted\r\n                            </Badge>\r\n                          )}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"p-4\">\r\n                        <div className=\"font-semibold text-gray-900 dark:text-white truncate\">{car.make} {car.model}</div>\r\n                        <div className=\"text-xs text-gray-500 dark:text-gray-400\">{car.year} · <span className=\"font-mono\">{car.license_plate}</span></div>\r\n                        <div className=\"mt-2 flex items-center justify-between gap-2\">\r\n                          <Badge\r\n                            className=\"px-2 py-0.5 text-xs text-white font-semibold shrink-0\"\r\n                            style={{ background: getCategoryColor(car.car_category) }}\r\n                          >\r\n                            {car.car_category}\r\n                          </Badge>\r\n                          <span className=\"text-sm font-bold\" style={{ color: COLORS.teal }}>${car.daily_rate}<span className=\"text-xs font-normal text-gray-500\">/day</span></span>\r\n                        </div>\r\n                        <div className=\"mt-2 flex items-center gap-3 text-xs text-gray-600 dark:text-gray-400\">\r\n                          <span className=\"flex items-center gap-1\" title=\"Views\">\r\n                            <Eye className=\"w-3.5 h-3.5\" style={{ color: COLORS.darkBlue }} />\r\n                            {car.views_count ?? 0}\r\n                          </span>\r\n                          <span className=\"flex items-center gap-1\" title=\"Clicks\">\r\n                            <MousePointerClick className=\"w-3.5 h-3.5\" style={{ color: COLORS.teal }} />\r\n                            {car.clicks_count ?? 0}\r\n                          </span>\r\n                        </div>\r\n                        <div className=\"mt-3 flex gap-1\">\r\n                          <Button\r\n                            variant=\"ghost\"\r\n                            size=\"sm\"\r\n                            className=\"h-8 flex-1 p-0 hover:scale-105 transition-transform\"\r\n                            style={{ color: COLORS.teal }}\r\n                            onClick={() => setSelectedCar(car)}\r\n                          >\r\n                            <Eye className=\"w-4 h-4\" />\r\n                          </Button>\r\n                          <Button\r\n                            variant=\"ghost\"\r\n                            size=\"sm\"\r\n                            className=\"h-8 flex-1 p-0 hover:scale-105 transition-transform\"\r\n                            style={{ color: COLORS.darkBlue }}\r\n                            onClick={() => openEditModal(car)}\r\n                          >\r\n                            <Edit2 className=\"w-4 h-4\" />\r\n                          </Button>\r\n                          <Button\r\n                            variant=\"ghost\"\r\n                            size=\"sm\"\r\n                            className=\"h-8 flex-1 p-0 text-red-600 hover:text-red-700 hover:scale-105 transition-transform\"\r\n                            onClick={() => openDeleteModal(car)}\r\n                          >\r\n                            <Trash2 className=\"w-4 h-4\" />\r\n                          </Button>\r\n                        </div>\r\n                      </div>\r\n                    </motion.div>\r\n                  );\r\n                })}\r\n              </div>\r\n            )}\r\n          </CardContent>\r\n        </Card>\r\n\r\n        {!loading && filteredCars.length > 0 && (\r\n          <p className=\"mt-4 text-sm text-gray-600 dark:text-gray-400\">\r\n            Showing all {filteredCars.length} car{filteredCars.length !== 1 ? 's' : ''}\r\n          </p>\r\n        )}\r\n\r\n        {/* MODALS */}\r\n        {selectedCar && <CarDetailModal car={selectedCar} onClose={() => setSelectedCar(null)} />}\r\n\r\n        {/* Delete car – type \"delete\" to confirm */}\r\n        {deleteModalCar && (\r\n          <div className=\"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 backdrop-blur-sm\">\r\n            <motion.div\r\n              initial={{ opacity: 0, scale: 0.95 }}\r\n              animate={{ opacity: 1, scale: 1 }}\r\n              className=\"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-md p-6 relative\"\r\n            >\r\n              <button\r\n                type=\"button\"\r\n                className=\"absolute top-4 right-4 w-8 h-8 rounded-full flex items-center justify-center transition-all hover:scale-110\"\r\n                style={{ background: COLORS.tealDim }}\r\n                onClick={closeDeleteModal}\r\n              >\r\n                <X className=\"w-5 h-5\" style={{ color: COLORS.teal }} />\r\n              </button>\r\n              <div className=\"flex items-center gap-3 mb-4\">\r\n                <div className=\"w-12 h-12 rounded-xl flex items-center justify-center bg-red-100 dark:bg-red-900/30\">\r\n                  <Trash2 className=\"w-6 h-6 text-red-600 dark:text-red-400\" />\r\n                </div>\r\n                <div>\r\n                  <h2 className=\"text-xl font-bold text-gray-900 dark:text-white\">Delete car</h2>\r\n                  <p className=\"text-sm text-gray-500 dark:text-gray-400\">\r\n                    {deleteModalCar.make} {deleteModalCar.model} ({deleteModalCar.license_plate})\r\n                  </p>\r\n                </div>\r\n              </div>\r\n              <p className=\"text-sm text-gray-600 dark:text-gray-400 mb-4\">\r\n                This action cannot be undone. Type <strong className=\"text-gray-900 dark:text-white\">delete</strong> below to confirm.\r\n              </p>\r\n              <Input\r\n                type=\"text\"\r\n                value={deleteConfirmText}\r\n                onChange={(e) => setDeleteConfirmText(e.target.value)}\r\n                placeholder=\"Type delete to confirm\"\r\n                className=\"h-10 border-2 rounded-xl mb-6\"\r\n                autoComplete=\"off\"\r\n              />\r\n              <div className=\"flex justify-end gap-3\">\r\n                <Button variant=\"outline\" onClick={closeDeleteModal} className=\"h-10 rounded-xl\">\r\n                  Cancel\r\n                </Button>\r\n                <Button\r\n                  onClick={confirmDelete}\r\n                  disabled={deleteConfirmText.toLowerCase() !== 'delete'}\r\n                  className=\"h-10 rounded-xl text-white font-semibold bg-red-600 hover:bg-red-700 disabled:opacity-50 disabled:pointer-events-none\"\r\n                >\r\n                  Delete car\r\n                </Button>\r\n              </div>\r\n            </motion.div>\r\n          </div>\r\n        )}\r\n\r\n        {isEditModalOpen && selectedCar && (\r\n          <div className=\"fixed inset-0 bg-black bg-opacity-60 flex items-center justify-center z-50 p-4 backdrop-blur-sm\">\r\n            <motion.div\r\n              initial={{ opacity: 0, scale: 0.95 }}\r\n              animate={{ opacity: 1, scale: 1 }}\r\n              className=\"bg-white dark:bg-gray-900 rounded-2xl shadow-2xl w-full max-w-2xl max-h-[90vh] overflow-y-auto p-6 relative\"\r\n            >\r\n              <button\r\n                className=\"absolute top-4 right-4 w-8 h-8 rounded-full flex items-center justify-center transition-all hover:scale-110\"\r\n                style={{ background: COLORS.tealDim }}\r\n                onClick={() => setIsEditModalOpen(false)}\r\n              >\r\n                <X className=\"w-5 h-5\" style={{ color: COLORS.teal }} />\r\n              </button>\r\n\r\n              <div className=\"flex items-center gap-3 mb-6\">\r\n                <div \r\n                  className=\"w-12 h-12 rounded-xl flex items-center justify-center\"\r\n                  style={{ background: `linear-gradient(135deg, ${COLORS.darkBlue}, ${COLORS.teal})` }}\r\n                >\r\n                  <Edit2 className=\"w-6 h-6 text-white\" />\r\n                </div>\r\n                <div>\r\n                  <h2 className=\"text-2xl font-bold text-gray-900 dark:text-white\">\r\n                    Edit Car\r\n                  </h2>\r\n                  <p className=\"text-sm text-gray-500 dark:text-gray-400\">\r\n                    {selectedCar.license_plate}\r\n                  </p>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Photos - read-only, not editable by agency */}\r\n              {(selectedCar.main_image_url || selectedCar.front_image_url) && (\r\n                <div className=\"mb-6 p-4 rounded-xl bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700\">\r\n                  <h3 className=\"text-sm font-semibold text-gray-500 dark:text-gray-400 mb-2 uppercase tracking-wider\">Photos (read-only)</h3>\r\n                  <div className=\"flex flex-wrap gap-3\">\r\n                    {['main','front','back','left','right'].map((dir) => {\r\n                      const url = selectedCar[`${dir}_image_url`] || selectedCar[`${dir}_image_full_url`];\r\n                      if (!url) return null;\r\n                      const src = url.startsWith('http') ? url : `/api/storage/${url}`;\r\n                      return (\r\n                        <div key={dir} className=\"w-20 h-20 rounded-lg overflow-hidden border border-gray-200 dark:border-gray-600 shrink-0\">\r\n                          <img src={src} alt={dir} className=\"w-full h-full object-cover\" />\r\n                        </div>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                  <p className=\"text-xs text-gray-500 dark:text-gray-400 mt-2\">Photos cannot be changed here.</p>\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"space-y-6\">\r\n                {/* Basic info */}\r\n                <div>\r\n                  <h3 className=\"text-sm font-semibold text-gray-500 dark:text-gray-400 mb-3 uppercase tracking-wider\">Basic info</h3>\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div>\r\n                      <label className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\">Make <span className=\"text-red-500\">*</span></label>\r\n                      <Select value={editForm.make ?? ''} onValueChange={v => handleEditChange('make', v)}>\r\n                        <SelectTrigger className=\"h-10 border-2 rounded-xl\">\r\n                          <SelectValue placeholder=\"Select make\" />\r\n                        </SelectTrigger>\r\n                        <SelectContent>\r\n                          {CAR_MAKES_LIST.map((m) => (\r\n                            <SelectItem key={m} value={m}>{m}</SelectItem>\r\n                          ))}\r\n                        </SelectContent>\r\n                      </Select>\r\n                    </div>\r\n                    {editForm.make === 'Other' && (\r\n                      <div>\r\n                        <label className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\">Custom Make <span className=\"text-red-500\">*</span></label>\r\n                        <Input\r\n                          value={editForm.customMake ?? ''}\r\n                          onChange={e => handleEditChange('customMake', e.target.value)}\r\n                          placeholder=\"Type make\"\r\n                          className=\"h-10 border-2 rounded-xl\"\r\n                        />\r\n                      </div>\r\n                    )}\r\n                    <div>\r\n                      <label className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\">Model <span className=\"text-red-500\">*</span></label>\r\n                      {editForm.make && editForm.make !== 'Other' ? (\r\n                        <Select\r\n                          value={\r\n                            editForm.model && CAR_MAKES_AND_MODELS[editForm.make]?.includes(editForm.model)\r\n                              ? editForm.model\r\n                              : editForm.model === 'Other'\r\n                                ? 'Other'\r\n                                : '_'\r\n                          }\r\n                          onValueChange={v => handleEditChange('model', v === '_' ? '' : v)}\r\n                        >\r\n                          <SelectTrigger className=\"h-10 border-2 rounded-xl\">\r\n                            <SelectValue placeholder=\"Select model\" />\r\n                          </SelectTrigger>\r\n                          <SelectContent>\r\n                            <SelectItem value=\"_\">Select model...</SelectItem>\r\n                            {(CAR_MAKES_AND_MODELS[editForm.make] || []).map((m) => (\r\n                              <SelectItem key={m} value={m}>{m}</SelectItem>\r\n                            ))}\r\n                            <SelectItem value=\"Other\">Other</SelectItem>\r\n                          </SelectContent>\r\n                        </Select>\r\n                      ) : (\r\n                        <Input\r\n                          value={editForm.customModel ?? ''}\r\n                          onChange={e => handleEditChange('customModel', e.target.value)}\r\n                          placeholder=\"Type model\"\r\n                          className=\"h-10 border-2 rounded-xl\"\r\n                        />\r\n                      )}\r\n                    </div>\r\n                    {(editForm.make && editForm.make !== 'Other' && editForm.model === 'Other') && (\r\n                      <div>\r\n                        <label className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\">Custom Model <span className=\"text-red-500\">*</span></label>\r\n                        <Input\r\n                          value={editForm.customModel ?? ''}\r\n                          onChange={e => handleEditChange('customModel', e.target.value)}\r\n                          placeholder=\"Type model\"\r\n                          className=\"h-10 border-2 rounded-xl\"\r\n                        />\r\n                      </div>\r\n                    )}\r\n                    <div>\r\n                      <label className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\">Year</label>\r\n                      <Input\r\n                        type=\"number\"\r\n                        value={editForm.year ?? ''}\r\n                        onChange={e => handleEditChange('year', e.target.value)}\r\n                        placeholder=\"e.g. 2023\"\r\n                        className=\"h-10 border-2 rounded-xl\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\">Category</label>\r\n                      <Select\r\n                        value={editForm.car_category || '_'}\r\n                        onValueChange={v => handleEditChange('car_category', v === '_' ? '' : v)}\r\n                      >\r\n                        <SelectTrigger className=\"h-10 border-2 rounded-xl\">\r\n                          <SelectValue placeholder=\"Select category\" />\r\n                        </SelectTrigger>\r\n                        <SelectContent>\r\n                          <SelectItem value=\"_\">—</SelectItem>\r\n                          <SelectItem value=\"Sedan\">Sedan</SelectItem>\r\n                          <SelectItem value=\"Hatchback\">Hatchback</SelectItem>\r\n                          <SelectItem value=\"Coupe\">Coupe</SelectItem>\r\n                          <SelectItem value=\"SUV\">SUV</SelectItem>\r\n                          <SelectItem value=\"Crossover\">Crossover</SelectItem>\r\n                          <SelectItem value=\"Wagon\">Wagon</SelectItem>\r\n                          <SelectItem value=\"Pickup\">Pickup</SelectItem>\r\n                          <SelectItem value=\"Minivan\">Minivan</SelectItem>\r\n                          <SelectItem value=\"Convertible\">Convertible</SelectItem>\r\n                        </SelectContent>\r\n                      </Select>\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\">Color</label>\r\n                      <Select\r\n                        value={editForm.color || '_'}\r\n                        onValueChange={v => handleEditChange('color', v === '_' ? '' : v)}\r\n                      >\r\n                        <SelectTrigger className=\"h-10 border-2 rounded-xl\">\r\n                          <SelectValue placeholder=\"Select color\" />\r\n                        </SelectTrigger>\r\n                        <SelectContent>\r\n                          <SelectItem value=\"_\">—</SelectItem>\r\n                          {(() => {\r\n                            const color = editForm.color ?? '';\r\n                            const hasCustom = color && !CAR_COLORS.includes(color);\r\n                            const options = hasCustom ? [color, ...CAR_COLORS] : CAR_COLORS;\r\n                            return options.map((c) => (\r\n                              <SelectItem key={c} value={c}>{c}</SelectItem>\r\n                            ));\r\n                          })()}\r\n                        </SelectContent>\r\n                      </Select>\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\">License plate</label>\r\n                      <Input\r\n                        value={editForm.license_plate ?? ''}\r\n                        onChange={e => handleEditChange('license_plate', e.target.value)}\r\n                        placeholder=\"e.g. ABC 1234\"\r\n                        className=\"h-10 border-2 rounded-xl\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\">Fuel type</label>\r\n                      <Select value={editForm.fuel_type || '_'} onValueChange={v => handleEditChange('fuel_type', v === '_' ? '' : v)}>\r\n                        <SelectTrigger className=\"h-10 border-2 rounded-xl\">\r\n                          <SelectValue placeholder=\"Fuel type\" />\r\n                        </SelectTrigger>\r\n                        <SelectContent>\r\n                          <SelectItem value=\"_\">—</SelectItem>\r\n                          <SelectItem value=\"Petrol\">Petrol</SelectItem>\r\n                          <SelectItem value=\"Diesel\">Diesel</SelectItem>\r\n                          <SelectItem value=\"Electric\">Electric</SelectItem>\r\n                          <SelectItem value=\"Hybrid\">Hybrid</SelectItem>\r\n                        </SelectContent>\r\n                      </Select>\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\">Wheels drive</label>\r\n                      <Select value={editForm.wheels_drive || '_'} onValueChange={v => handleEditChange('wheels_drive', v === '_' ? '' : v)}>\r\n                        <SelectTrigger className=\"h-10 border-2 rounded-xl\">\r\n                          <SelectValue placeholder=\"Wheels drive\" />\r\n                        </SelectTrigger>\r\n                        <SelectContent>\r\n                          <SelectItem value=\"_\">—</SelectItem>\r\n                          <SelectItem value=\"4x4\">4x4</SelectItem>\r\n                          <SelectItem value=\"Front\">Front</SelectItem>\r\n                          <SelectItem value=\"Rear\">Rear</SelectItem>\r\n                          <SelectItem value=\"Autoblock\">Autoblock</SelectItem>\r\n                        </SelectContent>\r\n                      </Select>\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\">Cylinder number</label>\r\n                      <Select value={editForm.cylinder_number || '_'} onValueChange={v => handleEditChange('cylinder_number', v === '_' ? '' : v)}>\r\n                        <SelectTrigger className=\"h-10 border-2 rounded-xl\">\r\n                          <SelectValue placeholder=\"Cylinder\" />\r\n                        </SelectTrigger>\r\n                        <SelectContent>\r\n                          <SelectItem value=\"_\">—</SelectItem>\r\n                          <SelectItem value=\"4\">4</SelectItem>\r\n                          <SelectItem value=\"6\">6</SelectItem>\r\n                          <SelectItem value=\"8\">8</SelectItem>\r\n                          <SelectItem value=\"10\">10</SelectItem>\r\n                          <SelectItem value=\"12\">12</SelectItem>\r\n                        </SelectContent>\r\n                      </Select>\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\">Seats</label>\r\n                      <Input\r\n                        type=\"number\"\r\n                        min={1}\r\n                        max={20}\r\n                        value={editForm.seats ?? ''}\r\n                        onChange={e => handleEditChange('seats', e.target.value)}\r\n                        placeholder=\"5\"\r\n                        className=\"h-10 border-2 rounded-xl\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\">Doors</label>\r\n                      <Input\r\n                        type=\"number\"\r\n                        min={1}\r\n                        max={10}\r\n                        value={editForm.doors ?? ''}\r\n                        onChange={e => handleEditChange('doors', e.target.value)}\r\n                        placeholder=\"4\"\r\n                        className=\"h-10 border-2 rounded-xl\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Transmission & Status */}\r\n                <div className=\"grid grid-cols-1 sm:grid-cols-2 gap-4\">\r\n                  <div>\r\n                    <h3 className=\"text-sm font-semibold text-gray-500 dark:text-gray-400 mb-3 uppercase tracking-wider\">Transmission</h3>\r\n                    <Select value={(editForm.transmission || 'automatic').toLowerCase()} onValueChange={v => handleEditChange('transmission', v)}>\r\n                      <SelectTrigger className=\"h-10 border-2 rounded-xl\">\r\n                        <SelectValue placeholder=\"Transmission\" />\r\n                      </SelectTrigger>\r\n                      <SelectContent>\r\n                        <SelectItem value=\"automatic\">Automatic</SelectItem>\r\n                        <SelectItem value=\"manual\">Manual</SelectItem>\r\n                      </SelectContent>\r\n                    </Select>\r\n                  </div>\r\n                  <div>\r\n                    <h3 className=\"text-sm font-semibold text-gray-500 dark:text-gray-400 mb-3 uppercase tracking-wider\">Status</h3>\r\n                    <Select value={editForm.status ?? 'available'} onValueChange={v => handleEditChange('status', v)}>\r\n                      <SelectTrigger className=\"h-10 border-2 rounded-xl\">\r\n                        <SelectValue placeholder=\"Car status\" />\r\n                      </SelectTrigger>\r\n                      <SelectContent>\r\n                        <SelectItem value=\"available\">Available</SelectItem>\r\n                        <SelectItem value=\"not_available\">Not available</SelectItem>\r\n                        <SelectItem value=\"rented\">Rented</SelectItem>\r\n                        <SelectItem value=\"maintenance\">Maintenance</SelectItem>\r\n                      </SelectContent>\r\n                    </Select>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Pricing */}\r\n                <div>\r\n                  <h3 className=\"text-sm font-semibold text-gray-500 dark:text-gray-400 mb-3 uppercase tracking-wider\">Pricing & costs</h3>\r\n                  <div className=\"grid grid-cols-2 gap-4\">\r\n                    <div>\r\n                      <label className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\">Daily rate ($) <span className=\"text-red-500\">*</span></label>\r\n                      <Input\r\n                        type=\"number\"\r\n                        min={0}\r\n                        value={editForm.daily_rate ?? ''}\r\n                        onChange={e => handleEditChange('daily_rate', e.target.value)}\r\n                        placeholder=\"0\"\r\n                        className=\"h-10 border-2 rounded-xl\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\">Holiday rate ($)</label>\r\n                      <Input\r\n                        type=\"number\"\r\n                        min={0}\r\n                        value={editForm.holiday_rate ?? ''}\r\n                        onChange={e => handleEditChange('holiday_rate', e.target.value)}\r\n                        placeholder=\"0\"\r\n                        className=\"h-10 border-2 rounded-xl\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\">Min rental days</label>\r\n                      <Input\r\n                        type=\"number\"\r\n                        min={1}\r\n                        value={editForm.min_rental_days ?? 1}\r\n                        onChange={e => handleEditChange('min_rental_days', e.target.value)}\r\n                        className=\"h-10 border-2 rounded-xl\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"mt-4 space-y-4\">\r\n                    <label className=\"flex items-center gap-2 cursor-pointer\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={!!editForm.is_deposit}\r\n                        onChange={e => handleEditChange('is_deposit', e.target.checked)}\r\n                        className=\"w-4 h-4 rounded border-2\"\r\n                        style={{ accentColor: COLORS.teal }}\r\n                      />\r\n                      <span className=\"text-sm font-semibold text-gray-700 dark:text-gray-300\">Require deposit</span>\r\n                    </label>\r\n                    {editForm.is_deposit && (\r\n                      <div className=\"pl-6\">\r\n                        <label className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\">Deposit amount ($)</label>\r\n                        <Input\r\n                          type=\"number\"\r\n                          min={0}\r\n                          value={editForm.deposit ?? ''}\r\n                          onChange={e => handleEditChange('deposit', e.target.value)}\r\n                          placeholder=\"0\"\r\n                          className=\"h-10 border-2 rounded-xl max-w-xs\"\r\n                        />\r\n                      </div>\r\n                    )}\r\n                    <label className=\"flex items-center gap-2 cursor-pointer\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={!!editForm.is_delivered}\r\n                        onChange={e => handleEditChange('is_delivered', e.target.checked)}\r\n                        className=\"w-4 h-4 rounded border-2\"\r\n                        style={{ accentColor: COLORS.teal }}\r\n                      />\r\n                      <span className=\"text-sm font-semibold text-gray-700 dark:text-gray-300\">Delivery available</span>\r\n                    </label>\r\n                    {editForm.is_delivered && (\r\n                      <div className=\"pl-6\">\r\n                        <label className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\">Delivery fees ($)</label>\r\n                        <Input\r\n                          type=\"number\"\r\n                          min={0}\r\n                          value={editForm.delivery_fees ?? ''}\r\n                          onChange={e => handleEditChange('delivery_fees', e.target.value)}\r\n                          placeholder=\"0\"\r\n                          className=\"h-10 border-2 rounded-xl max-w-xs\"\r\n                        />\r\n                      </div>\r\n                    )}\r\n                    <label className=\"flex items-center gap-2 cursor-pointer\">\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={!!editForm.with_driver}\r\n                        onChange={e => handleEditChange('with_driver', e.target.checked)}\r\n                        className=\"w-4 h-4 rounded border-2\"\r\n                        style={{ accentColor: COLORS.teal }}\r\n                      />\r\n                      <span className=\"text-sm font-semibold text-gray-700 dark:text-gray-300\">Driver available</span>\r\n                    </label>\r\n                    {editForm.with_driver && (\r\n                      <div className=\"pl-6\">\r\n                        <label className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\">Driver fees per day ($)</label>\r\n                        <Input\r\n                          type=\"number\"\r\n                          min={0}\r\n                          value={editForm.driver_fees ?? ''}\r\n                          onChange={e => handleEditChange('driver_fees', e.target.value)}\r\n                          placeholder=\"0\"\r\n                          className=\"h-10 border-2 rounded-xl max-w-xs\"\r\n                        />\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Features & Add-ons */}\r\n                <div>\r\n                  <h3 className=\"text-sm font-semibold text-gray-500 dark:text-gray-400 mb-3 uppercase tracking-wider\">Features & Add-ons</h3>\r\n                  <div className=\"space-y-4\">\r\n                    <div>\r\n                      <label className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\">Features</label>\r\n                      <div className=\"flex flex-wrap gap-2\">\r\n                        {FEATURES.map((f) => (\r\n                          <Badge\r\n                            key={f}\r\n                            onClick={() => toggleFeature(f)}\r\n                            className={`cursor-pointer px-3 py-1.5 text-sm transition-all ${(editForm.features || []).includes(f) ? 'opacity-100' : 'opacity-60 hover:opacity-80'}`}\r\n                            style={{ background: (editForm.features || []).includes(f) ? COLORS.teal : COLORS.tealDim, color: (editForm.features || []).includes(f) ? 'white' : 'inherit' }}\r\n                          >\r\n                            {(editForm.features || []).includes(f) && <Check className=\"w-3 h-3 inline mr-1\" />}\r\n                            {f}\r\n                          </Badge>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\">Add-ons</label>\r\n                      <div className=\"flex flex-wrap gap-2\">\r\n                        {ADD_ONS.map((a) => (\r\n                          <Badge\r\n                            key={a}\r\n                            onClick={() => toggleAddOn(a)}\r\n                            className={`cursor-pointer px-3 py-1.5 text-sm transition-all ${(editForm.car_add_on || []).includes(a) ? 'opacity-100' : 'opacity-60 hover:opacity-80'}`}\r\n                            style={{ background: (editForm.car_add_on || []).includes(a) ? COLORS.darkBlue : COLORS.darkBlueDim, color: (editForm.car_add_on || []).includes(a) ? 'white' : 'inherit' }}\r\n                          >\r\n                            {(editForm.car_add_on || []).includes(a) && <Check className=\"w-3 h-3 inline mr-1\" />}\r\n                            {a}\r\n                          </Badge>\r\n                        ))}\r\n                      </div>\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Edit Location */}\r\n                <div>\r\n                  <h3 className=\"text-sm font-semibold text-gray-500 dark:text-gray-400 mb-3 uppercase tracking-wider\">\r\n                    <MapPin className=\"w-4 h-4 inline mr-1\" style={{ color: COLORS.teal }} />\r\n                    Edit Location &amp; Address\r\n                  </h3>\r\n                  <div className=\"p-4 rounded-xl bg-gray-50 dark:bg-gray-800/50 border border-gray-200 dark:border-gray-700 space-y-4\">\r\n                    <div>\r\n                      <label className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\">Address (region where car is located)</label>\r\n                      <select\r\n                        value={loc.address || ''}\r\n                        onChange={e => handleEditChange('live_location', { ...loc, address: e.target.value })}\r\n                        className=\"w-full h-10 border-2 rounded-xl px-4 bg-white dark:bg-gray-900 border-gray-200 dark:border-gray-700 focus:border-teal-500\"\r\n                      >\r\n                        <option value=\"\">Select region...</option>\r\n                        {ADDRESS_OPTIONS.map((opt) => (\r\n                          <option key={opt} value={opt}>{opt}</option>\r\n                        ))}\r\n                      </select>\r\n                    </div>\r\n                    <p className=\"text-sm text-gray-600 dark:text-gray-400\">Set coordinates using one of these options:</p>\r\n                    <div className=\"flex flex-wrap gap-2\">\r\n                      <Button type=\"button\" variant=\"outline\" size=\"sm\" onClick={getCurrentLocationForEdit} className=\"rounded-xl\">\r\n                        <Navigation className=\"w-4 h-4 mr-2\" />\r\n                        Use Current Location\r\n                      </Button>\r\n                      <Button type=\"button\" variant=\"outline\" size=\"sm\" onClick={openLocationMapPicker} className=\"rounded-xl\">\r\n                        <MapPin className=\"w-4 h-4 mr-2\" />\r\n                        Select on Map\r\n                      </Button>\r\n                      <Button type=\"button\" variant=\"outline\" size=\"sm\" onClick={useOfficeLocationForEdit} className=\"rounded-xl\">\r\n                        <Building2 className=\"w-4 h-4 mr-2\" />\r\n                        Office location\r\n                      </Button>\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-xs font-semibold text-gray-600 dark:text-gray-400 mb-2\">Or paste Google Maps link</label>\r\n                      <div className=\"flex gap-2\">\r\n                        <Input\r\n                          placeholder=\"https://www.google.com/maps/@33.89,35.50 or maps.app.goo.gl/...\"\r\n                          value={editLocationGoogleLink}\r\n                          onChange={(e) => setEditLocationGoogleLink(e.target.value)}\r\n                          className=\"h-9 border-2 rounded-xl flex-1 text-sm\"\r\n                        />\r\n                        <Button\r\n                          type=\"button\"\r\n                          variant=\"outline\"\r\n                          size=\"sm\"\r\n                          disabled={linkResolvingField === 'live'}\r\n                          onClick={applyGoogleLinkForEdit}\r\n                          className=\"h-9 shrink-0\"\r\n                        >\r\n                          {linkResolvingField === 'live' ? <Loader2 className=\"w-4 h-4 animate-spin\" /> : 'Apply'}\r\n                        </Button>\r\n                      </div>\r\n                    </div>\r\n                    {hasLocation ? (\r\n                      <div className=\"p-3 rounded-lg\" style={{ background: COLORS.tealDim }}>\r\n                        <p className=\"text-sm font-medium\" style={{ color: COLORS.teal }}>Location set</p>\r\n                        <p className=\"text-xs text-gray-600 dark:text-gray-400\">Lat: {loc.latitude} • Lng: {loc.longitude}</p>\r\n                      </div>\r\n                    ) : (\r\n                      <p className=\"text-xs text-gray-500 dark:text-gray-400\">No location selected yet.</p>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n\r\n                {/* Mileage, expiry & notes */}\r\n                <div>\r\n                  <h3 className=\"text-sm font-semibold text-gray-500 dark:text-gray-400 mb-3 uppercase tracking-wider\">Other</h3>\r\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n                    <div>\r\n                      <label className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\">\r\n                        <Gauge className=\"w-4 h-4 inline mr-1\" style={{ color: COLORS.teal }} />\r\n                        Mileage (km)\r\n                      </label>\r\n                      <Input\r\n                        type=\"number\"\r\n                        min={0}\r\n                        value={editForm.mileage ?? ''}\r\n                        onChange={e => handleEditChange('mileage', e.target.value)}\r\n                        placeholder=\"0\"\r\n                        className=\"h-10 border-2 rounded-xl\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\">Max driving mileage</label>\r\n                      <Input\r\n                        type=\"number\"\r\n                        min={0}\r\n                        value={editForm.max_driving_mileage ?? ''}\r\n                        onChange={e => handleEditChange('max_driving_mileage', e.target.value)}\r\n                        placeholder=\"Optional\"\r\n                        className=\"h-10 border-2 rounded-xl\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\">Insurance expiry</label>\r\n                      <Input\r\n                        type=\"date\"\r\n                        value={editForm.insurance_expiry ?? ''}\r\n                        onChange={e => handleEditChange('insurance_expiry', e.target.value)}\r\n                        className=\"h-10 border-2 rounded-xl\"\r\n                      />\r\n                    </div>\r\n                    <div>\r\n                      <label className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\">Registration expiry</label>\r\n                      <Input\r\n                        type=\"date\"\r\n                        value={editForm.registration_expiry ?? ''}\r\n                        onChange={e => handleEditChange('registration_expiry', e.target.value)}\r\n                        className=\"h-10 border-2 rounded-xl\"\r\n                      />\r\n                    </div>\r\n                  </div>\r\n                  <div className=\"mt-4\">\r\n                    <label className=\"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2\">Notes</label>\r\n                    <textarea\r\n                      value={editForm.notes ?? ''}\r\n                      onChange={e => handleEditChange('notes', e.target.value)}\r\n                      placeholder=\"Optional notes about the vehicle\"\r\n                      rows={3}\r\n                      className=\"w-full border-2 rounded-xl p-3 bg-white dark:bg-gray-900 resize-none\"\r\n                    />\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"mt-6 flex justify-end gap-3 sticky bottom-0 bg-white dark:bg-gray-900 pt-4 -mb-6\">\r\n                <Button \r\n                  variant=\"outline\" \r\n                  onClick={() => setIsEditModalOpen(false)}\r\n                  className=\"h-10 rounded-xl\"\r\n                >\r\n                  Cancel\r\n                </Button>\r\n                <Button \r\n                  onClick={submitEdit}\r\n                  className=\"h-10 rounded-xl text-white font-semibold\"\r\n                  style={{ background: `linear-gradient(135deg, ${COLORS.teal}, ${COLORS.darkBlue})` }}\r\n                >\r\n                  Save Changes\r\n                </Button>\r\n              </div>\r\n            </motion.div>\r\n          </div>\r\n        )}\r\n\r\n        {/* Map picker modal for edit location */}\r\n        <Dialog open={showLocationMapModal} onOpenChange={(open) => { setShowLocationMapModal(open); if (!open) setMapSearchQuery(''); }}>\r\n          <DialogContent className=\"max-w-4xl max-h-[90vh]\">\r\n            <DialogHeader>\r\n              <DialogTitle>Choose location on map</DialogTitle>\r\n              <DialogDescription>\r\n                Search or click on the map. Drag the marker to adjust. Confirm to save.\r\n              </DialogDescription>\r\n            </DialogHeader>\r\n            <div className=\"space-y-4\">\r\n              <div className=\"flex flex-wrap gap-2\">\r\n                <div className=\"flex flex-1 min-w-[200px] rounded-lg overflow-hidden border-2 border-gray-200 dark:border-gray-700\">\r\n                  <Input\r\n                    placeholder=\"Search address or place...\"\r\n                    value={mapSearchQuery}\r\n                    onChange={(e) => setMapSearchQuery(e.target.value)}\r\n                    onKeyDown={(e) => { if (e.key === 'Enter') { e.preventDefault(); handleMapSearch(); } }}\r\n                    className=\"rounded-r-none border-0 h-11\"\r\n                  />\r\n                  <Button type=\"button\" variant=\"secondary\" onClick={handleMapSearch} disabled={mapSearchLoading} className=\"rounded-l-none h-11 px-4\">\r\n                    <Search className=\"w-4 h-4\" />\r\n                  </Button>\r\n                </div>\r\n                <Button type=\"button\" variant=\"outline\" onClick={useOfficeInMapModal} className=\"h-11 shrink-0\">\r\n                  <Building2 className=\"w-4 h-4 mr-2\" />\r\n                  Office location\r\n                </Button>\r\n              </div>\r\n              <div className=\"w-full h-[400px] bg-gray-100 dark:bg-gray-800 rounded-lg overflow-hidden\">\r\n                {tempMapLocation && (\r\n                  <EditLocationMapComponent\r\n                    center={tempMapLocation}\r\n                    selectedLocation={tempMapLocation}\r\n                    onLocationSelect={handleMapLocationSelect}\r\n                  />\r\n                )}\r\n              </div>\r\n              {tempMapLocation && (\r\n                <p className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n                  Selected: {tempMapLocation.latitude}, {tempMapLocation.longitude}\r\n                </p>\r\n              )}\r\n              <div className=\"flex gap-2 justify-end\">\r\n                <Button variant=\"outline\" onClick={() => setShowLocationMapModal(false)}>Cancel</Button>\r\n                <Button onClick={confirmMapLocation}>Confirm Location</Button>\r\n              </div>\r\n            </div>\r\n          </DialogContent>\r\n        </Dialog>\r\n\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nconst StatCard = ({ icon: Icon, label, value, gradient }) => (\r\n  <motion.div\r\n    initial={{ opacity: 0, y: 20 }}\r\n    animate={{ opacity: 1, y: 0 }}\r\n    transition={{ duration: 0.4 }}\r\n  >\r\n    <Card className=\"border-2 border-transparent hover:shadow-lg transition-all duration-300 rounded-xl\">\r\n      <CardContent className=\"p-4\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <div \r\n            className=\"w-11 h-11 rounded-xl flex items-center justify-center shadow-md\"\r\n            style={{ background: gradient }}\r\n          >\r\n            <Icon className=\"w-6 h-6 text-white\" />\r\n          </div>\r\n          <div>\r\n            <p className=\"text-xs text-gray-600 dark:text-gray-400 font-medium\">{label}</p>\r\n            <p className=\"text-2xl font-bold text-gray-900 dark:text-white\">{value}</p>\r\n          </div>\r\n        </div>\r\n      </CardContent>\r\n    </Card>\r\n  </motion.div>\r\n);"],"names":["currentYear","VALID_STATUSES","VALID_TRANSMISSIONS","ADDRESS_OPTIONS","COLORS","CAR_MAKES_AND_MODELS","CAR_MAKES_LIST","CAR_COLORS","FEATURES","ADD_ONS","parseGoogleMapsLink","url","trimmed","atMatch","qMatch","llMatch","lat","lng","isShortMapLink","resolveShortMapLinkViaBackend","data","api","getAgencyOfficeLocation","raw","loc","EditLocationMapComponent","center","selectedLocation","onLocationSelect","mapRef","useRef","markerRef","useEffect","link","script","initMap","map","marker","e","pos","jsx","CAR_CATEGORIES","CAR_STATUSES","getStatusBadgeClass","status","getCategoryColor","category","CarDetailModal","car","onClose","safeArray","arr","jsxs","motion","X","Car","Eye","MousePointerClick","DollarSign","Calendar","Badge","dir","DetailRow","Gauge","MapPin","Icon","label","value","badge","MyCarsPage","navigate","useNavigate","allCars","setAllCars","useState","loading","setLoading","filters","setFilters","selectedCar","setSelectedCar","isEditModalOpen","setIsEditModalOpen","editForm","setEditForm","showLocationMapModal","setShowLocationMapModal","tempMapLocation","setTempMapLocation","mapSearchQuery","setMapSearchQuery","mapSearchLoading","setMapSearchLoading","editLocationGoogleLink","setEditLocationGoogleLink","linkResolvingField","setLinkResolvingField","fetchCars","list","toast","handleFilterChange","key","prev","clearFilters","deleteModalCar","setDeleteModalCar","deleteConfirmText","setDeleteConfirmText","openDeleteModal","closeDeleteModal","confirmDelete","c","err","openEditModal","rawTransmission","makeInList","modelsForMake","modelInList","fuelMap","rawFuel","fuelType","wheelsDrive","getResolvedMake","make","getResolvedModel","model","validateEditForm","year","transmission","dailyRateRaw","dailyRate","holidayRate","deposit","deliveryFees","driverFees","minDays","mileage","handleEditChange","next","toggleFeature","item","updated","i","toggleAddOn","hasLocation","getCurrentLocationForEdit","position","useOfficeLocationForEdit","office","openLocationMapPicker","handleMapLocationSelect","confirmMapLocation","handleMapSearch","q","useOfficeInMapModal","applyGoogleLinkForEdit","coords","res","submitEdit","payload","fuelMapToBackend","msg","filteredCars","useMemo","categoryMatch","statusMatch","searchMatch","field","totalViews","sum","totalClicks","approvedCars","Button","Plus","StatCard","TrendingUp","Card","CardContent","Search","Input","Select","SelectTrigger","SelectValue","SelectContent","SelectItem","CardHeader","CardTitle","index","isPending","Edit2","Trash2","src","v","m","color","f","Check","opt","Navigation","Building2","Loader2","Dialog","open","DialogContent","DialogHeader","DialogTitle","DialogDescription","gradient"],"mappings":"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"}